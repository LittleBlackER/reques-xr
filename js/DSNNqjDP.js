const _0x5d462e=(function(){let _0x1a802c=!![];return function(_0xd6daf5,_0x35c9e4){const _0x1de45a=_0x1a802c?function(){if(_0x35c9e4){const _0x5e5858=_0x35c9e4['apply'](_0xd6daf5,arguments);return _0x35c9e4=null,_0x5e5858;}}:function(){};return _0x1a802c=![],_0x1de45a;};}()),_0x49b71b=_0x5d462e(this,function(){return _0x49b71b['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x49b71b)['search']('(((.+)+)+)'+'+$');});_0x49b71b();const _0x52e6f0=(function(){let _0x46b9d3=!![];return function(_0x3532a8,_0x440412){const _0x47b7bb=_0x46b9d3?function(){if(_0x440412){const _0x466838=_0x440412['apply'](_0x3532a8,arguments);return _0x440412=null,_0x466838;}}:function(){};return _0x46b9d3=![],_0x47b7bb;};}());(function(){_0x52e6f0(this,function(){const _0x5192ff=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x35f0a8=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x4a3ccc=_0xee35fe('init');!_0x5192ff['test'](_0x4a3ccc+'chain')||!_0x35f0a8['test'](_0x4a3ccc+'input')?_0x4a3ccc('0'):_0xee35fe();})();}());const _0x1f3129=(function(){let _0x2afae6=!![];return function(_0x5e3242,_0x4279da){const _0x2a0597=_0x2afae6?function(){if(_0x4279da){const _0x44dba9=_0x4279da['apply'](_0x5e3242,arguments);return _0x4279da=null,_0x44dba9;}}:function(){};return _0x2afae6=![],_0x2a0597;};}()),_0x387161=_0x1f3129(this,function(){let _0x185341;try{const _0x57eeae=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x185341=_0x57eeae();}catch(_0x58b12c){_0x185341=window;}const _0x508af9=_0x185341['console']=_0x185341['console']||{},_0x563d10=['log','warn','info','error','exception','table','trace'];for(let _0x1b36f9=-0x2*0x2af+-0xfc2*0x2+0x1271*0x2;_0x1b36f9<_0x563d10['length'];_0x1b36f9++){const _0xea2df6=_0x1f3129['constructo'+'r']['prototype']['bind'](_0x1f3129),_0x41e586=_0x563d10[_0x1b36f9],_0x443e92=_0x508af9[_0x41e586]||_0xea2df6;_0xea2df6['__proto__']=_0x1f3129['bind'](_0x1f3129),_0xea2df6['toString']=_0x443e92['toString']['bind'](_0x443e92),_0x508af9[_0x41e586]=_0xea2df6;}});_0x387161();var qx=Object['defineProp'+'erty'],Xx=(_0x5a7bdd,_0x9dc84,_0x496772)=>_0x9dc84 in _0x5a7bdd?qx(_0x5a7bdd,_0x9dc84,{'enumerable':!(-0x2d*0xad+0x157e*0x1+0x8eb),'configurable':!(-0x1ba+-0xba*0x1d+-0x4*-0x5b3),'writable':!(0x245d+0x2459+-0x48b6),'value':_0x496772}):_0x5a7bdd[_0x9dc84]=_0x496772,c=(_0x2da92a,_0x59e8bb,_0x5c581b)=>Xx(_0x2da92a,typeof _0x59e8bb!='symbol'?_0x59e8bb+'':_0x59e8bb,_0x5c581b);const jx='RenderFram'+'e',nd='RenderFram'+'eTime',Yp='RenderPass',ta='RenderPass'+'Detail',xl='RenderActi'+'on',Kp='RenderTarg'+'etAlloc',Zp='TextureAll'+'oc',Qp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Es='Element',tS='Textures',Sl='GpuTimings',ho='$_CURRENT_'+'SDK_VERSIO'+'N',iy='$_CURRENT_'+'SDK_REVISI'+'ON';function Eh(_0xd94836,_0x98abb3){for(const _0x441da7 in _0x98abb3){const _0x41efbc=_0x98abb3[_0x441da7];Array['isArray'](_0x41efbc)?_0xd94836[_0x441da7]=Eh([],_0x41efbc):_0x41efbc&&typeof _0x41efbc=='object'?_0xd94836[_0x441da7]=Eh({},_0x41efbc):_0xd94836[_0x441da7]=_0x41efbc;}return _0xd94836;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x28979d=>{const _0x35d6a5=Math['random']()*(-0x647+0x2*0x68e+-0x6c5)|0x1c3*0x6+-0x22a*-0x1+-0xa*0x146;return(_0x28979d==='x'?_0x35d6a5:_0x35d6a5&-0x404*-0x3+0x1e3*0x6+0x175b*-0x1|0x5*0x1d3+-0x2*-0x425+-0x1161)['toString'](0x85e+-0x1*0x2299+0x1a4b*0x1);});}},me={'delimiter':'/','join'(..._0x2c321b){let _0x365c57=_0x2c321b[0xd50*-0x2+-0x1*-0xd79+0x103*0xd];for(let _0x3eebb5=-0x139f*-0x1+-0x19*0x6d+-0x8fa;_0x3eebb5<_0x2c321b['length']-(0x1*0x3bc+0x23b6+-0x2771);_0x3eebb5++){const _0x26634a=_0x2c321b[_0x3eebb5],_0x340eae=_0x2c321b[_0x3eebb5+(-0x6b7+0x62*0x4+0x1*0x530)];if(_0x340eae[0x2*-0xd3+-0x674*0x6+0x285e]===me['delimiter']){_0x365c57=_0x340eae;continue;}_0x26634a&&_0x340eae&&_0x26634a[_0x26634a['length']-(-0x2104+-0xabd+-0x2bc2*-0x1)]!==me['delimiter']&&_0x340eae[0x347*0x2+-0x18c9+-0xd*-0x167]!==me['delimiter']?_0x365c57+=me['delimiter']+_0x340eae:_0x365c57+=_0x340eae;}return _0x365c57;},'normalize'(_0x26bd57){const _0x1ae8f6=_0x26bd57['startsWith'](me['delimiter']),_0x6df4dc=_0x26bd57['endsWith'](me['delimiter']),_0x57f8a0=_0x26bd57['split']('/');let _0x455994='',_0x5e0e87=[];for(let _0xbf0e22=0x14c*-0x3+-0x2*-0x1000+-0x1c1c;_0xbf0e22<_0x57f8a0['length'];_0xbf0e22++)if(_0x57f8a0[_0xbf0e22]!==''&&_0x57f8a0[_0xbf0e22]!=='.'){if(_0x57f8a0[_0xbf0e22]==='..'&&_0x5e0e87['length']>-0x1d71+0x185c+0x515){_0x5e0e87=_0x5e0e87['slice'](-0x112a*-0x1+-0x1b50+-0x513*-0x2,_0x5e0e87['length']-(-0x3*-0xc35+-0x17f9+-0xca4));continue;}_0xbf0e22>-0x1*-0x1f3c+-0x23ad+0x471&&_0x5e0e87['push'](me['delimiter']),_0x5e0e87['push'](_0x57f8a0[_0xbf0e22]);}return _0x455994=_0x5e0e87['join'](''),!_0x1ae8f6&&_0x455994[0x2534+0xe7c+-0x1*0x33b0]===me['delimiter']&&(_0x455994=_0x455994['slice'](-0x1e04+-0x5d9*0x1+0x23de)),_0x6df4dc&&_0x455994[_0x455994['length']-(0x2*0x437+-0x1a82+-0x1*-0x1215)]!==me['delimiter']&&(_0x455994+=me['delimiter']),_0x455994;},'split'(_0x577c01){const _0x11f237=_0x577c01['lastIndexO'+'f'](me['delimiter']);return _0x11f237!==-(-0x19*-0x62+-0x1adc+0xe9*0x13)?[_0x577c01['substring'](0x2588+-0x1130+-0x1458,_0x11f237),_0x577c01['substring'](_0x11f237+(0x2461+0x1d9a+0xf*-0x466))]:['',_0x577c01];},'getBasename'(_0x43292f){return me['split'](_0x43292f)[-0x12c7+-0x755*-0x5+-0x11e1];},'getDirectory'(_0x3c2912){return me['split'](_0x3c2912)[0x242d+-0x12f8+-0x371*0x5];},'getExtension'(_0x333508){const _0x20910d=_0x333508['split']('?')[0x1*0x1589+-0x46c*0x7+0x96b]['split']('.')['pop']();return _0x20910d!==_0x333508?'.'+_0x20910d:'';},'isRelativePath'(_0x1e610a){return _0x1e610a['charAt'](-0x9fd+0x2*-0xdb+0xbb3)!=='/'&&_0x1e610a['match'](/:\/\//)===null;},'extractPath'(_0x4e1190){let _0x59b046='';const _0x23181d=_0x4e1190['split']('/');let _0x1b53cc=0x3*-0x2a+-0x1*-0x577+0x4f9*-0x1;if(_0x23181d['length']>0x1e9f+-0x1f8a+0xec){if(me['isRelative'+'Path'](_0x4e1190)){if(_0x23181d[0x14ed+0xa*-0x1aa+-0x449*0x1]==='.'){for(_0x1b53cc=0x155e+0x594+-0x1af2;_0x1b53cc<_0x23181d['length']-(-0x20c7+0x1c41+0x487);++_0x1b53cc)_0x59b046+=_0x1b53cc===0x167e+-0x1bc+-0x2*0xa61?_0x23181d[_0x1b53cc]:'/'+_0x23181d[_0x1b53cc];}else{if(_0x23181d[0x1d38+-0x3*-0x455+-0x2a37]==='..'){for(_0x1b53cc=-0x96*0x38+0x335*0x4+0x13fc;_0x1b53cc<_0x23181d['length']-(-0x119c+0x56*-0x9+0x24b*0x9);++_0x1b53cc)_0x59b046+=_0x1b53cc===-0x15bf+0x1af8+-0x7*0xbf?_0x23181d[_0x1b53cc]:'/'+_0x23181d[_0x1b53cc];}else{for(_0x59b046='.',_0x1b53cc=0x2+-0x4ef+0x4ed;_0x1b53cc<_0x23181d['length']-(0x2c5*-0x1+-0x1ce1+0xdb*0x25);++_0x1b53cc)_0x59b046+='/'+_0x23181d[_0x1b53cc];}}}else{for(_0x1b53cc=-0xf*-0x165+-0x2*0x1b4+-0x1183;_0x1b53cc<_0x23181d['length']-(0xe91*-0x1+-0x1*-0x244d+-0x15bb*0x1);++_0x1b53cc)_0x59b046+=_0x1b53cc===-0x13f0+-0x32d+-0x3d*-0x61?_0x23181d[_0x1b53cc]:'/'+_0x23181d[_0x1b53cc];}}return _0x59b046;}},iS=()=>{let _0x58b587=!(-0xa7*0x25+0x1a5b+-0x15*0x1b);try{const _0x47108d=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x58b587=!(-0x7bf*-0x3+0x3a5*0x7+0xc*-0x410),!(-0xd4b+0x10f7+0x3ab*-0x1);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x47108d),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x47108d);}catch{}return _0x58b587;},Ti=typeof navigator<'u'?navigator['userAgent']:'',Ch=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Jp=/android/i['test'](Ti)?'android':/ip(?:[ao]d|hone)/i['test'](Ti)?'ios':/windows/i['test'](Ti)?'windows':/mac os/i['test'](Ti)?'osx':/linux/i['test'](Ti)?'linux':/cros/i['test'](Ti)?'cros':null,rS=Ch!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Ti)?'chrome':/Safari\//['test'](Ti)?'safari':/Firefox\//['test'](Ti)?'firefox':'other',nS=Ch==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x4d7+-0x3*-0x668+-0x180f),aS=iS(),be={'name':Jp,'browser':Ch==='browser','worker':Ch==='worker','android':Jp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},ry='abcdefghij'+'klmnopqrst'+'uvwxyz',ny='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=ry+ny,du=-0xeec6+0x11c2e+0xaa98,ay=0x313d+0x19b5b+-0x93*0x1a3,em=0x63ee*-0x3+-0xc*-0x4d2+0x1cdf2,lS=-0x9*0x4ec+-0x7cf*-0x1b+0x3976,hS=0x1*0x3e57+0x6f6+-0x2540,tm=-0x1*-0x2d31d+0x3562+0x3d1*-0x49,sm=0x70b1*-0x3+-0x6*0x17ad+0x3d220,cS=-0x84d5*0x2+-0x2bdf*0x1+0x3ee*0xce,dS=0x1499*0x11+-0x1539b+0x1e971,uS=-0x5d*0x9d+-0x46*0xd5+0x9417,fS=-0x74f*-0x9+0x40eb+-0x61b3,uu=0x17*-0xe1f+0x1*0x69c7+-0xa*-0x2f4d,fu=-0x5055+0xf49d+-0xa3*-0x8d;function pu(_0x46bf5a,_0x1f397f=0x93*0x1+-0x1022*-0x2+-0x20d7){const _0x2b35e0=_0x46bf5a['length'];if(_0x1f397f<0x196d+0x3*0x295+-0x4*0x84b||_0x1f397f>=_0x2b35e0)return null;const _0x48b3a0=_0x46bf5a['charCodeAt'](_0x1f397f);if(_0x2b35e0>0x1*-0x13e1+-0x1144+0x2526&&_0x48b3a0>=du&&_0x48b3a0<=ay){const _0x4099ba=_0x46bf5a['charCodeAt'](_0x1f397f+(-0x120a+0x9ce+0x83d));if(_0x4099ba>=em&&_0x4099ba<=lS)return{'code':(_0x48b3a0-du)*(-0x2321+0x1289+-0x526*-0x4)+_0x4099ba-em+(0x9d0e*-0x1+-0x5*0x45b3+-0x7*-0x6ccb),'long':!(0xc7*0x8+0x1216+-0x22*0xb7)};}return{'code':_0x48b3a0,'long':!(0x861+0x2*0x1305+-0x392*0xd)};}function Yi(_0x581b8e,_0x3f9a30,_0x33ed77){if(!_0x581b8e)return!(0x1637+0x1f05*0x1+-0x353b);const _0x31cdd9=pu(_0x581b8e);if(_0x31cdd9){const _0x3e2813=_0x31cdd9['code'];return _0x3e2813>=_0x3f9a30&&_0x3e2813<=_0x33ed77;}return!(-0xdb5+-0x1*-0x5f3+0x7c3);}function pS(_0x56ea78,_0x2c938c){if(_0x2c938c===_0x56ea78['length']-(-0x2c4+0x1a9d+-0x17d8))return 0x198f+0x1c59+-0x35e7;if(Yi(_0x56ea78[_0x2c938c],du,ay)){const _0x2da054=_0x56ea78['substring'](_0x2c938c,_0x2c938c+(-0x1c7a+-0x4a7+0x2123)),_0x3a6b77=_0x56ea78['substring'](_0x2c938c+(-0x2*0x9c8+0x28c*0x9+0xb*-0x4e),_0x2c938c+(-0x597*0x2+-0x17*0x10f+0x238b));return Yi(_0x3a6b77,cS,dS)||Yi(_0x2da054,tm,sm)&&Yi(_0x3a6b77,tm,sm)?-0x1*0x1271+-0x2b1*-0xd+-0x211*0x8:Yi(_0x3a6b77,uu,fu)?0x5*-0x6b3+-0x144e+0x35d0:-0x1fd7+-0x2211+0x2*0x20f5;}return Yi(_0x56ea78[_0x2c938c+(-0x1b59+0x1132+0xa28)],uu,fu)?0x1*0x2213+-0x2*0x75+-0x2127:0x154f+-0x51*-0x4f+-0x525*0x9;}const dh={'ASCII_LOWERCASE':ry,'ASCII_UPPERCASE':ny,'ASCII_LETTERS':oS,'format'(_0x31ea94,..._0x4ecb38){for(let _0x2384a3=-0x3e3*-0x1+-0x1e51+0x1a6e;_0x2384a3<_0x4ecb38['length'];_0x2384a3++)_0x31ea94=_0x31ea94['replace']('{'+_0x2384a3+'}',_0x4ecb38[_0x2384a3]);return _0x31ea94;},'getCodePoint'(_0x499936,_0x1d79b4){const _0x37c203=pu(_0x499936,_0x1d79b4);return _0x37c203&&_0x37c203['code'];},'getCodePoints'(_0x3ac8bf){if(typeof _0x3ac8bf!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x53acf4=-0x15d*0x15+-0x1*0x196b+0x360c;const _0x122936=[];let _0x5e78eb;for(;_0x5e78eb=pu(_0x3ac8bf,_0x53acf4);)_0x122936['push'](_0x5e78eb['code']),_0x53acf4+=_0x5e78eb['long']?-0x2*0x7e5+-0x1*0x13eb+-0x29*-0xdf:0x1869+-0x22be+0x1b9*0x6;return _0x122936;},'getSymbols'(_0x25be90){if(typeof _0x25be90!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x5b9fbe=-0x65*0x44+-0x1421+0x2ef5;const _0x35113f=_0x25be90['length'],_0x51fa7d=[];let _0xb0fe8e=-0x44b*0x8+-0x1*-0x916+0x1942,_0x453cca;for(;_0x5b9fbe<_0x35113f;){if(_0xb0fe8e+=pS(_0x25be90,_0x5b9fbe+_0xb0fe8e),_0x453cca=_0x25be90[_0x5b9fbe+_0xb0fe8e],Yi(_0x453cca,uS,fS)&&(_0x453cca=_0x25be90[_0x5b9fbe+_0xb0fe8e++]),Yi(_0x453cca,uu,fu)&&(_0x453cca=_0x25be90[_0x5b9fbe+_0xb0fe8e++]),_0x453cca&&_0x453cca['charCodeAt'](0xc40+-0x2*-0xd4f+0x136f*-0x2)===hS){_0x453cca=_0x25be90[_0x5b9fbe+_0xb0fe8e++];continue;}const _0x114445=_0x25be90['substring'](_0x5b9fbe,_0x5b9fbe+_0xb0fe8e);_0x51fa7d['push'](_0x114445),_0x5b9fbe+=_0xb0fe8e,_0xb0fe8e=0x9d*0x35+0x15f7+-0x3678;}return _0x51fa7d;},'fromCodePoint'(){const _0x4390ad=[];let _0x5fee86,_0x362329,_0x3e2601;for(let _0x2f2001=0x1953+-0x8a*0x3+0x121*-0x15;_0x2f2001<arguments['length'];++_0x2f2001)_0x5fee86=Number(arguments[_0x2f2001]),_0x362329=_0x5fee86-(0xcf49+-0x14f22+-0x4cc5*-0x5),_0x3e2601=_0x5fee86>-0xebc2+0x21d*0x25+0xfe8*0x1a?[(_0x362329>>0x717+0x1c80*-0x1+0x1573)+(0x1ad44+-0x1*-0xf94d+-0x1ce91),_0x362329%(-0x22fb+0x1e*-0xc6+0x3e2f*0x1)+(-0x47*-0x4d5+-0x6e1a+-0xcf9)]:[_0x5fee86],_0x4390ad['push'](String['fromCharCo'+'de']['apply'](null,_0x3e2601));return _0x4390ad['join']('');}},Ur=class Ur{static['set'](_0x5cc8d9,_0x49b661=!(0xd8+0x12b2+0x52*-0x3d)){_0x49b661?Ur['_traceChan'+'nels']['add'](_0x5cc8d9):Ur['_traceChan'+'nels']['delete'](_0x5cc8d9);}static['get'](_0x5267b7){return Ur['_traceChan'+'nels']['has'](_0x5267b7);}};c(Ur,'_traceChan'+'nels',new Set()),c(Ur,'stack',!(0xc9*-0x1d+0x5*0x83+-0x4b*-0x45));let Qs=Ur;const Mt=class Mt{static['deprecated'](_0x267438){Mt['_loggedMes'+'sages']['has'](_0x267438)||(Mt['_loggedMes'+'sages']['add'](_0x267438),console['warn']('DEPRECATED'+':\x20'+_0x267438));}static['removed'](_0x23b2f7){Mt['_loggedMes'+'sages']['has'](_0x23b2f7)||(Mt['_loggedMes'+'sages']['add'](_0x23b2f7),console['error']('REMOVED:\x20'+_0x23b2f7));}static['assertDepr'+'ecated'](_0x5b9686,_0x464e77){_0x5b9686||Mt['deprecated'](_0x464e77);}static['assert'](_0x53b28a,..._0xc55ff0){_0x53b28a||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0xc55ff0);}static['assertDest'+'royed'](_0x1647e9){var _0x1d70b5;if(_0x1647e9!=null&&_0x1647e9['__alreadyD'+'estroyed']){const _0x3b7b28='['+((_0x1d70b5=_0x1647e9['constructo'+'r'])==null?void(-0x18b8+-0x5*-0x10d+0x21*0x97):_0x1d70b5['name'])+(']\x20with\x20nam'+'e\x20[')+_0x1647e9['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Mt['_loggedMes'+'sages']['has'](_0x3b7b28)||(Mt['_loggedMes'+'sages']['add'](_0x3b7b28),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x3b7b28,_0x1647e9));}}static['call'](_0x491c02){_0x491c02();}static['log'](..._0x2f1638){console['log'](..._0x2f1638);}static['logOnce'](_0xc01946,..._0x2dee9c){Mt['_loggedMes'+'sages']['has'](_0xc01946)||(Mt['_loggedMes'+'sages']['add'](_0xc01946),console['log'](_0xc01946,..._0x2dee9c));}static['warn'](..._0x441d86){console['warn'](..._0x441d86);}static['warnOnce'](_0x510329,..._0xa5f3f3){Mt['_loggedMes'+'sages']['has'](_0x510329)||(Mt['_loggedMes'+'sages']['add'](_0x510329),console['warn'](_0x510329,..._0xa5f3f3));}static['error'](..._0x346990){console['error'](..._0x346990);}static['errorOnce'](_0x27c5e7,..._0x2c3825){Mt['_loggedMes'+'sages']['has'](_0x27c5e7)||(Mt['_loggedMes'+'sages']['add'](_0x27c5e7),console['error'](_0x27c5e7,..._0x2c3825));}static['trace'](_0x2a7de2,..._0x299bc0){Qs['get'](_0x2a7de2)&&(console['groupColla'+'psed'](_0x2a7de2['padEnd'](0x41d+0x1e3e+0x4b*-0x75,'\x20')+'|',..._0x299bc0),console['groupEnd']());}};c(Mt,'_loggedMes'+'sages',new Set());let b=Mt;class gn{static['setName'](_0x469534,_0x54c0b7){_0x469534&&(_0x469534['name']=_0x54c0b7);}static['setLabel'](_0x22622d,_0x242570){_0x22622d&&(_0x22622d['label']=_0x242570);}static['setDestroy'+'ed'](_0x94bea9){_0x94bea9&&(_0x94bea9['__alreadyD'+'estroyed']=!(-0xa55+0x5*0xdf+-0x11*-0x5a));}}class mS{constructor(_0x5ff8ab,_0x3b7385,_0x234691,_0x1496df,_0x4e8148=!(0x229f*0x1+0x84a*-0x1+-0x1a54)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(0x5f*-0x57+0x1*-0x10c+-0xfb*-0x22)),(this['handler']=_0x5ff8ab,this['name']=_0x3b7385,this['callback']=_0x234691,this['scope']=_0x1496df,this['_once']=_0x4e8148);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x5eab1d,_0x32af30,_0x4af0b7=this){return b['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x5eab1d,_0x32af30,_0x4af0b7,!(-0x1441+-0x189*0x1+0x15cb));}['once'](_0x1e4641,_0x4f36aa,_0x5c160d=this){return b['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x1e4641,_0x4f36aa,_0x5c160d,!(0x23af+-0x8*0x4c3+0x269));}set['removed'](_0x3c53fd){_0x3c53fd&&(this['_removed']=!(0x7*-0x327+0x12fd*0x1+-0x2*-0x18a));}get['removed'](){return this['_removed'];}}class de{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x516e64,_0x42249f,_0x3f12ff,_0x21a8ec){if((!_0x516e64||typeof _0x516e64!='string'||!_0x42249f)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x516e64+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x42249f),this['_callbacks']['has'](_0x516e64)||this['_callbacks']['set'](_0x516e64,[]),this['_callbackA'+'ctive']['has'](_0x516e64)){const _0x577dcb=this['_callbackA'+'ctive']['get'](_0x516e64);_0x577dcb&&_0x577dcb===this['_callbacks']['get'](_0x516e64)&&this['_callbackA'+'ctive']['set'](_0x516e64,_0x577dcb['slice']());}const _0x1fb23d=new mS(this,_0x516e64,_0x42249f,_0x3f12ff,_0x21a8ec);return this['_callbacks']['get'](_0x516e64)['push'](_0x1fb23d),_0x1fb23d;}['on'](_0x141fd9,_0x4f8af5,_0x4cf1e7=this){return this['_addCallba'+'ck'](_0x141fd9,_0x4f8af5,_0x4cf1e7,!(0x9c9*0x2+0x31*-0xc5+0x1224));}['once'](_0x339a06,_0x29df37,_0x148db0=this){return this['_addCallba'+'ck'](_0x339a06,_0x29df37,_0x148db0,!(0x2045+0x17f*0xb+-0x30ba));}['off'](_0x414778,_0x5048cf,_0x5b96e2){if(_0x414778)this['_callbackA'+'ctive']['has'](_0x414778)&&this['_callbackA'+'ctive']['get'](_0x414778)===this['_callbacks']['get'](_0x414778)&&this['_callbackA'+'ctive']['set'](_0x414778,this['_callbackA'+'ctive']['get'](_0x414778)['slice']());else{for(const [_0x5b9bd9,_0x1a83c0]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x5b9bd9)&&this['_callbacks']['get'](_0x5b9bd9)===_0x1a83c0&&this['_callbackA'+'ctive']['set'](_0x5b9bd9,_0x1a83c0['slice']());}if(_0x414778){if(_0x5048cf){const _0x32f4f2=this['_callbacks']['get'](_0x414778);if(!_0x32f4f2)return this;for(let _0x40e06e=-0x214a+0x1dee+0x35c;_0x40e06e<_0x32f4f2['length'];_0x40e06e++)_0x32f4f2[_0x40e06e]['callback']===_0x5048cf&&(_0x5b96e2&&_0x32f4f2[_0x40e06e]['scope']!==_0x5b96e2||(_0x32f4f2[_0x40e06e]['removed']=!(0x1*-0x26ce+0x2616+-0x2*-0x5c),_0x32f4f2['splice'](_0x40e06e,0x104d+-0x2*-0x62d+-0x1ca6),_0x40e06e--));_0x32f4f2['length']===-0x23dc+-0x12a6*-0x2+-0x5c*0x4&&this['_callbacks']['delete'](_0x414778);}else{const _0x4401f0=this['_callbacks']['get'](_0x414778);if(_0x4401f0){for(let _0x41a56f=0x1*0x30a+-0xc37+0x92d;_0x41a56f<_0x4401f0['length'];_0x41a56f++)_0x4401f0[_0x41a56f]['removed']=!(-0xa*-0x119+0x2*-0xc70+-0x2*-0x6f3);this['_callbacks']['delete'](_0x414778);}}}else{for(const _0x1eb617 of this['_callbacks']['values']())for(let _0x6e8ce9=-0x85f*-0x1+-0x2d1*-0x6+-0x1945;_0x6e8ce9<_0x1eb617['length'];_0x6e8ce9++)_0x1eb617[_0x6e8ce9]['removed']=!(0x1e2+0x2b4+0x1*-0x496);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x1df2ac){const _0x54feba=_0x1df2ac['name'];_0x1df2ac['removed']=!(0x23a6+-0x48a+-0x1f1c),this['_callbackA'+'ctive']['has'](_0x54feba)&&this['_callbackA'+'ctive']['get'](_0x54feba)===this['_callbacks']['get'](_0x54feba)&&this['_callbackA'+'ctive']['set'](_0x54feba,this['_callbackA'+'ctive']['get'](_0x54feba)['slice']());const _0x1c5971=this['_callbacks']['get'](_0x54feba);if(!_0x1c5971)return this;const _0x682e56=_0x1c5971['indexOf'](_0x1df2ac);return _0x682e56!==-(0x1*-0x1720+0x941*-0x3+0x2*0x1972)&&(_0x1c5971['splice'](_0x682e56,-0x18a*-0xb+0xc0*0x2b+-0x312d),_0x1c5971['length']===-0x141*-0x1d+-0x10*-0x111+-0x123*0x2f&&this['_callbacks']['delete'](_0x54feba)),this;}['fire'](_0x592b65,_0x3818f1,_0x34d1fa,_0x558862,_0x38294c,_0x358220,_0x33b28e,_0xb4bfa3,_0xa0a0ec){if(!_0x592b65)return this;const _0x4fe5e2=this['_callbacks']['get'](_0x592b65);if(!_0x4fe5e2)return this;let _0x277081;this['_callbackA'+'ctive']['has'](_0x592b65)?this['_callbackA'+'ctive']['get'](_0x592b65)!==_0x4fe5e2&&(_0x277081=_0x4fe5e2['slice']()):this['_callbackA'+'ctive']['set'](_0x592b65,_0x4fe5e2);for(let _0x2e6ea1=0x5*-0x3a+-0x1*-0x2063+-0x3f*0x7f;(_0x277081||this['_callbackA'+'ctive']['get'](_0x592b65))&&_0x2e6ea1<(_0x277081||this['_callbackA'+'ctive']['get'](_0x592b65))['length'];_0x2e6ea1++){const _0x489d34=(_0x277081||this['_callbackA'+'ctive']['get'](_0x592b65))[_0x2e6ea1];if(_0x489d34['callback']&&(_0x489d34['callback']['call'](_0x489d34['scope'],_0x3818f1,_0x34d1fa,_0x558862,_0x38294c,_0x358220,_0x33b28e,_0xb4bfa3,_0xa0a0ec),_0x489d34['_once'])){const _0xa4cd49=this['_callbacks']['get'](_0x592b65),_0x11774d=_0xa4cd49?_0xa4cd49['indexOf'](_0x489d34):-(-0x1*0x2533+0x5dc+0x1f58);if(_0x11774d!==-(0x2286+-0x1*0x64d+0x8*-0x387)){this['_callbackA'+'ctive']['get'](_0x592b65)===_0xa4cd49&&this['_callbackA'+'ctive']['set'](_0x592b65,this['_callbackA'+'ctive']['get'](_0x592b65)['slice']());const _0x23035b=this['_callbacks']['get'](_0x592b65);if(!_0x23035b)continue;_0x23035b[_0x11774d]['removed']=!(-0x1289*-0x2+0x3e*0xd+0x6b4*-0x6),_0x23035b['splice'](_0x11774d,-0x3d1*0x5+0x1661+-0x34b),_0x23035b['length']===-0x1*0x164d+-0x8d*-0x12+0x1*0xc63&&this['_callbacks']['delete'](_0x592b65);}}}return _0x277081||this['_callbackA'+'ctive']['delete'](_0x592b65),this;}['hasEvent'](_0x1462db){var _0x42c41e;return!!((_0x42c41e=this['_callbacks']['get'](_0x1462db))!=null&&_0x42c41e['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x497d52,_0x1d571d){if(this['_index'][_0x497d52])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x497d52);const _0x3bb9f4=this['_list']['push'](_0x1d571d)-(0x10b5+0x59*0x2c+-0x2000);this['_index'][_0x497d52]=_0x3bb9f4;}['has'](_0x48eeb7){return this['_index'][_0x48eeb7]!==void(-0x1d97+0x26*0x9d+0x649);}['get'](_0x3556e0){const _0x2297da=this['_index'][_0x3556e0];return _0x2297da!==void(0x1*-0x605+0x13df*0x1+0x2*-0x6ed)?this['_list'][_0x2297da]:null;}['remove'](_0x4c5d96){const _0x4396c8=this['_index'][_0x4c5d96];if(_0x4396c8!==void(0x16*0x13a+-0x23*-0x116+-0x40fe)){this['_list']['splice'](_0x4396c8,-0xba3+0x1*-0xa19+-0x15bd*-0x1),delete this['_index'][_0x4c5d96];for(_0x4c5d96 in this['_index']){const _0x5e8b57=this['_index'][_0x4c5d96];_0x5e8b57>_0x4396c8&&(this['_index'][_0x4c5d96]=_0x5e8b57-(0x110d+0x7f*-0x1f+-0x1*0x1ab));}return!(0x11e6+0x32e+-0x2*0xa8a);}return!(-0x669*-0x2+-0xbd7+-0xfa);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=-0x84*-0x4a+-0x1830+-0xdf8;for(const _0x12ded2 in this['_index'])delete this['_index'][_0x12ded2];}}const gS=_0xe9f208=>{const _0x9410b={};let _0x490f79=_0x9410b;return()=>(_0x490f79===_0x9410b&&(_0x490f79=_0xe9f208()),_0x490f79);},Hs=class Hs{static['loadScript'](_0x557fff,_0x4943f1){const _0x3c85dd=document['createElem'+'ent']('script');_0x3c85dd['setAttribu'+'te']('src',_0x557fff),_0x3c85dd['onload']=()=>{_0x4943f1(null);},_0x3c85dd['onerror']=()=>{_0x4943f1('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x557fff+'\x27');},document['body']['appendChil'+'d'](_0x3c85dd);}static['loadWasm'](_0x18b289,_0x14ab4f,_0x56f33c){const _0x1e32ae=Hs['wasmSuppor'+'ted']()&&_0x14ab4f['glueUrl']&&_0x14ab4f['wasmUrl']?_0x14ab4f['glueUrl']:_0x14ab4f['fallbackUr'+'l'];_0x1e32ae?Hs['loadScript'](_0x1e32ae,_0x385213=>{if(_0x385213)_0x56f33c(_0x385213,null);else{const _0x36baa9=window[_0x18b289];window[_0x18b289]=void(0x1e*-0x2+0x11f1+-0x11b5),_0x36baa9({'locateFile':()=>_0x14ab4f['wasmUrl'],'onAbort':()=>{_0x56f33c('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x33025d=>{_0x56f33c(null,_0x33025d);});}}):_0x56f33c('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x5b0c91){return Hs['modules']['hasOwnProp'+'erty'](_0x5b0c91)||(Hs['modules'][_0x5b0c91]={'config':null,'initializing':!(0x7*0x8d+0x1b12+-0x1eec),'instance':null,'callbacks':[]}),Hs['modules'][_0x5b0c91];}static['initialize'](_0x495c4d,_0x5f7f31){if(_0x5f7f31['initializi'+'ng'])return;const _0x2a02d4=_0x5f7f31['config'];(_0x2a02d4['glueUrl']||_0x2a02d4['wasmUrl']||_0x2a02d4['fallbackUr'+'l'])&&(_0x5f7f31['initializi'+'ng']=!(0xb80+0x4*0x575+-0x2154),Hs['loadWasm'](_0x495c4d,_0x2a02d4,(_0x193cbd,_0x1e0f14)=>{_0x193cbd?_0x2a02d4['errorHandl'+'er']?_0x2a02d4['errorHandl'+'er'](_0x193cbd):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x495c4d+'\x20error='+_0x193cbd):(_0x5f7f31['instance']=_0x1e0f14,_0x5f7f31['callbacks']['forEach'](_0x110131=>{_0x110131(_0x1e0f14);}));}));}};c(Hs,'modules',{}),c(Hs,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0xe4e2af=new WebAssembly['Module'](Uint8Array['of'](0x1*0x24fe+-0x17a6+-0xd58,0x14a5+-0x1f73+0xb2f,-0x6*-0x40c+-0x257*0xf+0xb44,-0x662+-0x121*-0x5+0x12a,0x278+0x1d0e*0x1+-0x1f85,-0x6b8+0x1*-0x195b+0x45*0x77,0x4*0x57a+0x1*0x17b3+0x1*-0x2d9b,-0x1*-0x18e6+-0x1*0x1a63+0x17d));if(_0xe4e2af instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0xe4e2af)instanceof WebAssembly['Instance'];}}catch{}return!(0x1bdf*0x1+-0x1bf5+0x17);}));let Nr=Hs;class oy{static['setConfig'](_0x3619f9,_0x323689){const _0x28e8e6=Nr['getModule'](_0x3619f9);_0x28e8e6['config']=_0x323689,_0x28e8e6['callbacks']['length']>-0xd4*0x21+0x1*0x5d5+0x157f*0x1&&Nr['initialize'](_0x3619f9,_0x28e8e6);}static['getConfig'](_0x18c2ea){var _0x145d26,_0x5d546d;return(_0x5d546d=(_0x145d26=Nr['modules'])==null?void(-0x653+0x1*-0x10f3+0x1746):_0x145d26[_0x18c2ea])==null?void(-0x16d1+0x3e1*0xa+-0x553*0x3):_0x5d546d['config'];}static['getInstanc'+'e'](_0x2e7e47,_0x2e1685){const _0x1bc722=Nr['getModule'](_0x2e7e47);_0x1bc722['instance']?_0x2e1685(_0x1bc722['instance']):(_0x1bc722['callbacks']['push'](_0x2e1685),_0x1bc722['config']&&Nr['initialize'](_0x2e7e47,_0x1bc722));}}class ly{constructor(_0x48a88e){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',0xd*-0x16e+-0x1*0x1c12+0xbaa*0x4),(this['arraybuffe'+'r']=_0x48a88e,this['dataView']=new DataView(_0x48a88e));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x2debfb=-0x1769+0x8*0x2e+0x15f9){this['offset']=_0x2debfb;}['skip'](_0x420821){this['offset']+=_0x420821;}['align'](_0x8bbf1){this['offset']=this['offset']+_0x8bbf1-(0xe3*0x15+-0x18b3+0x615)&~(_0x8bbf1-(-0xbe3+-0x1*-0x2225+-0x1641));}['_inc'](_0x4a434c){return this['offset']+=_0x4a434c,this['offset']-_0x4a434c;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x493a96){let _0x21153a='';for(let _0xe3b511=0xddb*-0x2+0x1e90+-0x2da;_0xe3b511<_0x493a96;++_0xe3b511)_0x21153a+=this['readChar']();return _0x21153a;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x1ce8+-0xaa*-0x25+0x458),!(-0x2661+0x7d0+0x1e91));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x77c+-0x24e7+0x2c67),!(-0x25d4+0x743*0x5+0x185));}['readU64'](){return this['readU32']()+(-0x13b3+0x174b+-0x396)**(-0x1101*-0x1+-0x1d4d+-0x13e*-0xa)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x1f11+0x1313+-0x3220),!(-0x4*0x9b3+-0xb90+0x325d));}['readArray'](_0x256b5b){for(let _0x642a40=-0x6d*0x4d+0xa7*0x1f+0x430*0x3;_0x642a40<_0x256b5b['length'];++_0x642a40)_0x256b5b[_0x642a40]=this['readU8']();}['readLine'](){const _0x4d2fc3=this['dataView'];let _0x3d00b0='';for(;!(this['offset']>=_0x4d2fc3['byteLength']);){const _0x45a448=String['fromCharCo'+'de'](this['readU8']());if(_0x45a448==='\x0a')break;_0x3d00b0+=_0x45a448;}return _0x3d00b0;}}(function(){const _0x4ddcb3=function(){let _0x47cde8;try{_0x47cde8=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x2a766b){_0x47cde8=window;}return _0x47cde8;},_0x45ffb6=_0x4ddcb3();_0x45ffb6['setInterva'+'l'](_0xee35fe,-0x14e+-0x3*-0xaef+-0x17af);}());class Mh{constructor(_0xf70a0d){c(this,'items',[]),c(this,'length',-0x1b44+-0x1966+0x2a*0x141),c(this,'loopIndex',-(-0x1072+0x725+0x94e)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0xf70a0d['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x887aa8){let _0x4eeba1=-0x17e3+0x2*-0xecc+0x357b,_0x154d83=this['items']['length']-(-0x15c9+-0x7a9*-0x5+-0x1083);const _0x117c6a=_0x887aa8[this['_sortBy']];let _0x4f8c7a,_0x190fbc;for(;_0x4eeba1<=_0x154d83;)_0x4f8c7a=Math['floor']((_0x4eeba1+_0x154d83)/(-0x1d41+0x1d85+-0x42)),_0x190fbc=this['items'][_0x4f8c7a][this['_sortBy']],_0x190fbc<=_0x117c6a?_0x4eeba1=_0x4f8c7a+(0xf9f*-0x1+-0x2*0x1f9+0x5*0x3ea):_0x190fbc>_0x117c6a&&(_0x154d83=_0x4f8c7a-(-0xc55*0x1+-0x237d+0x2fd3));return _0x4eeba1;}['_doSort'](_0x218c4d,_0x319df0){const _0x1c5671=this['_sortBy'];return _0x218c4d[_0x1c5671]-_0x319df0[_0x1c5671];}['insert'](_0x25d5ab){const _0x2dd22c=this['_binarySea'+'rch'](_0x25d5ab);this['items']['splice'](_0x2dd22c,-0x11d9+-0x2b*-0xd3+0x4*-0x466,_0x25d5ab),this['length']++,this['loopIndex']>=_0x2dd22c&&this['loopIndex']++;}['append'](_0x3ae8a1){this['items']['push'](_0x3ae8a1),this['length']++;}['remove'](_0x1402f4){const _0x127a1f=this['items']['indexOf'](_0x1402f4);_0x127a1f<0x28b*0x4+0x16*0xa+-0x2*0x584||(this['items']['splice'](_0x127a1f,-0x1*0xcfe+0x2169+-0x146a),this['length']--,this['loopIndex']>=_0x127a1f&&this['loopIndex']--);}['sort'](){const _0x46c8e0=this['loopIndex']>=-0x1a47*-0x1+-0x2*-0x102b+-0x3a9d?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x46c8e0!==null&&(this['loopIndex']=this['items']['indexOf'](_0x46c8e0));}}class yo extends de{constructor(_0x2c4191){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x2c4191;}['add'](..._0x54a015){let _0x2d5496=!(0x261d+-0x1c*-0xc3+-0x3b70);const _0x55bebf=this['_processAr'+'guments'](_0x54a015,!(-0x7b*0x3d+0x206*0xf+-0x10b));if(!_0x55bebf['length'])return _0x2d5496;for(let _0x52391b=-0x1e50+-0x239e*0x1+0x41ee;_0x52391b<_0x55bebf['length'];_0x52391b++)this['_index'][_0x55bebf[_0x52391b]]||(_0x2d5496=!(-0x16c5+0x1783*0x1+-0xbe),this['_index'][_0x55bebf[_0x52391b]]=!(0x15a*-0xd+-0xc43+0x1dd5),this['_list']['push'](_0x55bebf[_0x52391b]),this['fire']('add',_0x55bebf[_0x52391b],this['_parent']));return _0x2d5496&&this['fire']('change',this['_parent']),_0x2d5496;}['remove'](..._0x40c054){let _0x220b0d=!(0x18*-0x10e+-0x16b9+0x300a);if(!this['_list']['length'])return _0x220b0d;const _0x354f53=this['_processAr'+'guments'](_0x40c054,!(-0x2009+0x1f19+0x28*0x6));if(!_0x354f53['length'])return _0x220b0d;for(let _0x5c1630=-0xeb7+0x25d8+0x1f*-0xbf;_0x5c1630<_0x354f53['length'];_0x5c1630++)this['_index'][_0x354f53[_0x5c1630]]&&(_0x220b0d=!(0x1*0x193d+0xd11+-0x264e),delete this['_index'][_0x354f53[_0x5c1630]],this['_list']['splice'](this['_list']['indexOf'](_0x354f53[_0x5c1630]),-0x928+-0x25d1+0x2efa),this['fire']('remove',_0x354f53[_0x5c1630],this['_parent']));return _0x220b0d&&this['fire']('change',this['_parent']),_0x220b0d;}['clear'](){if(!this['_list']['length'])return;const _0x25d7f0=this['_list']['slice'](-0x3*0xb1b+-0x2*0x10ed+0x432b);this['_list']=[],this['_index']={};for(let _0xb274bd=0x1658+0x22ae+0x2*-0x1c83;_0xb274bd<_0x25d7f0['length'];_0xb274bd++)this['fire']('remove',_0x25d7f0[_0xb274bd],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x1d43ea){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x1d43ea)):!(0x3c6+0x6af+0x6*-0x1be);}['_has'](_0x2c6afa){if(!this['_list']['length']||!_0x2c6afa['length'])return!(-0x3d*-0x67+-0x1c09*0x1+0x37f);for(let _0x598546=-0x1619*0x1+0x20ff*-0x1+-0xa4*-0x56;_0x598546<_0x2c6afa['length'];_0x598546++)if(_0x2c6afa[_0x598546]['length']===-0x252f+0x233*0xb+-0x1*-0xcff){if(this['_index'][_0x2c6afa[_0x598546][0x254c+-0x2090+-0x4bc]])return!(-0x1c*0x1c+0x11*0xc+0x244);}else{let _0x95402c=!(-0x15eb+-0x610+0x1bfb);for(let _0x11e2b5=-0x557+-0x774+0xccb;_0x11e2b5<_0x2c6afa[_0x598546]['length'];_0x11e2b5++)if(!this['_index'][_0x2c6afa[_0x598546][_0x11e2b5]]){_0x95402c=!(-0x11*-0x243+0x46*-0x60+-0xc32);break;}if(_0x95402c)return!(-0x187a+0x44*-0x67+0x33d6);}return!(0x1d1+-0x1c03+0x1a33);}['list'](){return this['_list']['slice'](-0x7f+0x198a+-0x859*0x3);}['_processAr'+'guments'](_0x3b2f5b,_0x159a48){const _0x3eb176=[];let _0x557a65=[];if(!_0x3b2f5b||!_0x3b2f5b['length'])return _0x3eb176;for(let _0x3366c1=-0x766*-0x4+-0x96*-0x10+-0x1d*0x158;_0x3366c1<_0x3b2f5b['length'];_0x3366c1++)if(_0x3b2f5b[_0x3366c1]instanceof Array){_0x159a48||(_0x557a65=[]);for(let _0x28e5c5=0x1afe+-0x2476*0x1+0x978;_0x28e5c5<_0x3b2f5b[_0x3366c1]['length'];_0x28e5c5++)typeof _0x3b2f5b[_0x3366c1][_0x28e5c5]=='string'&&(_0x159a48?_0x3eb176['push'](_0x3b2f5b[_0x3366c1][_0x28e5c5]):_0x557a65['push'](_0x3b2f5b[_0x3366c1][_0x28e5c5]));!_0x159a48&&_0x557a65['length']&&_0x3eb176['push'](_0x557a65);}else typeof _0x3b2f5b[_0x3366c1]=='string'&&(_0x159a48?_0x3eb176['push'](_0x3b2f5b[_0x3366c1]):_0x3eb176['push']([_0x3b2f5b[_0x3366c1]]));return _0x3eb176;}get['size'](){return this['_list']['length'];}}c(yo,'EVENT_ADD','add'),c(yo,'EVENT_REMO'+'VE','remove'),c(yo,'EVENT_CHAN'+'GE','change');const ae=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class ad{constructor(_0x5aa08a){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x508585=_0x5aa08a['match'](yS);this['scheme']=_0x508585[-0x2681*-0x1+0xde4+-0x3463],this['authority']=_0x508585[-0x511+-0x31e*0xa+0x2441],this['path']=_0x508585[-0xe*-0x19c+0x1*0x12b3+-0x1a6*0x19],this['query']=_0x508585[0x1a98*-0x1+0x1a3*0x11+-0x134],this['fragment']=_0x508585[0x26d1+-0x7d0*-0x1+-0x2e98];}['toString'](){let _0x170615='';return this['scheme']&&(_0x170615+=this['scheme']+':'),this['authority']&&(_0x170615+='//'+this['authority']),_0x170615+=this['path'],this['query']&&(_0x170615+='?'+this['query']),this['fragment']&&(_0x170615+='#'+this['fragment']),_0x170615;}['getQuery'](){const _0x155fb8={};if(this['query']){const _0x59783a=decodeURIComponent(this['query'])['split']('&');for(const _0x113ab8 of _0x59783a){const _0x71cc03=_0x113ab8['split']('=');_0x155fb8[_0x71cc03[-0x65*0x50+0x611+0x197f]]=_0x71cc03[-0xe98+0x17*-0x17b+0x2*0x1853];}}return _0x155fb8;}['setQuery'](_0x2a2ccb){let _0x3084c1='';for(const _0x1a6671 in _0x2a2ccb)_0x2a2ccb['hasOwnProp'+'erty'](_0x1a6671)&&(_0x3084c1!==''&&(_0x3084c1+='&'),_0x3084c1+=encodeURIComponent(_0x1a6671)+'='+encodeURIComponent(_0x2a2ccb[_0x1a6671]));this['query']=_0x3084c1;}}const xS=-0x1*0x14f1+0xc*0x2f2+-0xe67,Of=0x1119+0x27*-0xb1+-0x7*-0x169,im=0x164c+-0xd2f+-0x919,SS=-0x109e+-0x1294+0x259*0xf,z={'DEG_TO_RAD':Math['PI']/(-0xcf4+-0x1f24+0x3d*0xbc),'RAD_TO_DEG':(-0x1f9a+-0x86c+0x322*0xd)/Math['PI'],'clamp'(_0x2c8648,_0x1063c2,_0x4d2afe){return _0x2c8648>=_0x4d2afe?_0x4d2afe:_0x2c8648<=_0x1063c2?_0x1063c2:_0x2c8648;},'intToBytes24'(_0xea5f5f){const _0x48ef67=_0xea5f5f>>0x1*-0x1acc+-0xce5+-0x1*-0x27c1&-0x2*0xeb9+-0x1bd1+0x3a42,_0x3e428f=_0xea5f5f>>-0x2ba*0x6+-0x93+-0x65*-0x2b&0x1*0xb77+-0x125e+0x7e6,_0x3fedab=_0xea5f5f&-0x2*0x1e1+0x30*-0x20+0xac1;return[_0x48ef67,_0x3e428f,_0x3fedab];},'intToBytes32'(_0x346993){const _0x1250da=_0x346993>>0x1ca2+-0x1*0x5b1+-0x16d9&-0x1*-0xe4b+-0x6e3*0x2+-0x7a*-0x1,_0x1493c3=_0x346993>>0x245d+-0xd*0x161+-0x1260&0x1*-0xc63+-0xc7f+0x19e1,_0x49eff7=_0x346993>>-0xc*-0x17f+-0x21*0x123+0x1397*0x1&0x1*0x34c+-0xbd5+0x988,_0x162dd1=_0x346993&-0x1*0x13bc+-0x125a+0x91*0x45;return[_0x1250da,_0x1493c3,_0x49eff7,_0x162dd1];},'bytesToInt24'(_0x3a9a3f,_0x1f93ed,_0x20f511){return _0x3a9a3f['length']&&(_0x20f511=_0x3a9a3f[-0x1*-0x481+-0x3*0x545+0xb50],_0x1f93ed=_0x3a9a3f[0x1143+-0xb*-0x22c+-0x2926],_0x3a9a3f=_0x3a9a3f[-0xa2e*0x1+-0x123+0xb51*0x1]),_0x3a9a3f<<0x989+0x2f+-0x9a8|_0x1f93ed<<-0x1d0c*-0x1+0x2ab*0x7+-0x2fb1|_0x20f511;},'bytesToInt32'(_0x4f761c,_0x340452,_0x2593aa,_0x32c5de){return _0x4f761c['length']&&(_0x32c5de=_0x4f761c[0x1fbe+0x4ed+-0x24a8],_0x2593aa=_0x4f761c[-0x147*-0x1a+-0x1adc+-0x658],_0x340452=_0x4f761c[-0x1*0xe43+0x1c6+0x1*0xc7e],_0x4f761c=_0x4f761c[-0x11e8+0x1*0xdba+-0xd6*-0x5]),(_0x4f761c<<0x1ca2+-0xd52+0x1e7*-0x8|_0x340452<<0x1*0x1ab9+0x1f3f+0x368*-0x11|_0x2593aa<<0x700+-0xe7d*-0x2+-0x2*0x11f9|_0x32c5de)>>>0xdb*-0xe+0x1*0x1a29+-0xe2f;},'lerp'(_0x137b0a,_0x57cad6,_0x57cbf3){return _0x137b0a+(_0x57cad6-_0x137b0a)*z['clamp'](_0x57cbf3,0x1c1+0x19f4+-0x1bb5,0x3*0xced+-0x7*-0x12f+-0x7*0x6b9);},'lerpAngle'(_0x318b62,_0x342277,_0x13f679){return _0x342277-_0x318b62>0x250e+-0xa*-0x36d+-0x469c&&(_0x342277-=0x16a9*0x1+-0x1*0x149+0xc*-0x1aa),_0x342277-_0x318b62<-(-0x1759+-0x3b9+0x1bc6)&&(_0x342277+=0x2*-0x55b+0x26bf+-0x1aa1),z['lerp'](_0x318b62,_0x342277,z['clamp'](_0x13f679,-0x6fa*0x3+-0x1651+0x2b3f,-0x3f*-0x63+0x2c*-0xe3+0xea8));},'powerOfTwo'(_0x16dbf2){return _0x16dbf2!==-0x585*-0x2+-0x8e*-0x4+-0xd42&&!(_0x16dbf2&_0x16dbf2-(0x1624+0x603*-0x6+-0x1d*-0x7b));},'nextPowerOfTwo'(_0x11ce03){return _0x11ce03--,_0x11ce03|=_0x11ce03>>0x162*0x13+-0x1b1+-0x16*0x11e,_0x11ce03|=_0x11ce03>>-0x992+0xa3*0x27+-0xf41,_0x11ce03|=_0x11ce03>>0x246a+-0x17*0xaf+-0x14ad*0x1,_0x11ce03|=_0x11ce03>>0x1ee1+-0x21e*-0x3+-0x2533*0x1,_0x11ce03|=_0x11ce03>>-0x9b9*-0x2+-0x2*0x277+-0xe74,_0x11ce03++,_0x11ce03;},'nearestPowerOfTwo'(_0x251141){return Math['pow'](-0x1*-0x892+0x7f*0x11+-0x10ff,Math['round'](Math['log'](_0x251141)/Math['log'](0x1*0x5bf+-0x2580+0x1fc3)));},'random'(_0x17cb5d,_0x174b78){const _0x451661=_0x174b78-_0x17cb5d;return Math['random']()*_0x451661+_0x17cb5d;},'smoothstep'(_0x11dc54,_0x341d95,_0x241b51){return _0x241b51<=_0x11dc54?0x1322+0x5*-0x1a6+-0xae4:_0x241b51>=_0x341d95?-0x8f1+-0x1e94+0x2786:(_0x241b51=(_0x241b51-_0x11dc54)/(_0x341d95-_0x11dc54),_0x241b51*_0x241b51*(-0x1dad*-0x1+0x1933*-0x1+-0x477-(0x1030+0x3f*-0x5c+0x676)*_0x241b51));},'smootherstep'(_0x56d22b,_0x29b422,_0x318bc1){return _0x318bc1<=_0x56d22b?0x25e3+0x21b9*0x1+-0x2*0x23ce:_0x318bc1>=_0x29b422?0x18*0x17b+-0x2e*-0xbc+-0xb*0x64d:(_0x318bc1=(_0x318bc1-_0x56d22b)/(_0x29b422-_0x56d22b),_0x318bc1*_0x318bc1*_0x318bc1*(_0x318bc1*(_0x318bc1*(-0x119d+-0x1116+0x22b9*0x1)-(-0xd01+-0x23*0xa7+-0x23e5*-0x1))+(0xed1+0x1f29+-0xc*0x3d4)));},'roundUp'(_0x12a80f,_0x18b82e){return _0x18b82e===0x2071+0x1f19+0x1*-0x3f8a?_0x12a80f:Math['ceil'](_0x12a80f/_0x18b82e)*_0x18b82e;},'between'(_0x23b475,_0x2b5ef9,_0x144f7a,_0x3756c6){const _0x3065f4=Math['min'](_0x2b5ef9,_0x144f7a),_0x2128a1=Math['max'](_0x2b5ef9,_0x144f7a);return _0x3756c6?_0x23b475>=_0x3065f4&&_0x23b475<=_0x2128a1:_0x23b475>_0x3065f4&&_0x23b475<_0x2128a1;}},ot=class ot{constructor(_0x146b24=-0x1862*0x1+-0x21a*-0x4+-0x199*-0xa,_0x306ab0=0x980+0x2200+-0x6*0x740,_0x1dbe5d=0x1005+-0x1ee*-0xc+-0x272d,_0x4041f9=0x230f+0x1efd+0x601*-0xb){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x568c37=_0x146b24['length'];_0x568c37===-0x1385+-0xf39*0x1+-0xd9*-0x29||_0x568c37===-0x26e2+0x66b+-0x67f*-0x5?(this['r']=_0x146b24[-0x1*-0x15b+0x24d4+-0x262f],this['g']=_0x146b24[0x1*0x1619+0x1*0x6da+-0x1e*0xf7],this['b']=_0x146b24[0x1*-0x1165+0xec3*-0x1+0x202a],this['a']=_0x146b24[0x44*-0x6a+-0x1bf4+0x12b5*0x3]??-0x16c2+-0xe5e+-0x5*-0x76d):(this['r']=_0x146b24,this['g']=_0x306ab0,this['b']=_0x1dbe5d,this['a']=_0x4041f9);}['clone'](){const _0x27b845=this['constructo'+'r'];return new _0x27b845(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x419771){return this['r']=_0x419771['r'],this['g']=_0x419771['g'],this['b']=_0x419771['b'],this['a']=_0x419771['a'],this;}['equals'](_0xe7b453){return this['r']===_0xe7b453['r']&&this['g']===_0xe7b453['g']&&this['b']===_0xe7b453['b']&&this['a']===_0xe7b453['a'];}['set'](_0x201e83,_0x1ed76,_0x179576,_0x4beca5=-0x260*-0x3+-0x1*-0x1d7+-0x1*0x8f6){return this['r']=_0x201e83,this['g']=_0x1ed76,this['b']=_0x179576,this['a']=_0x4beca5,this;}['lerp'](_0x37d5e9,_0x25a9a2,_0x4dcddd){return this['r']=_0x37d5e9['r']+_0x4dcddd*(_0x25a9a2['r']-_0x37d5e9['r']),this['g']=_0x37d5e9['g']+_0x4dcddd*(_0x25a9a2['g']-_0x37d5e9['g']),this['b']=_0x37d5e9['b']+_0x4dcddd*(_0x25a9a2['b']-_0x37d5e9['b']),this['a']=_0x37d5e9['a']+_0x4dcddd*(_0x25a9a2['a']-_0x37d5e9['a']),this;}['linear'](_0x53b112=this){return this['r']=Math['pow'](_0x53b112['r'],0x2f8+0x1be2+-0x1ed8+0.20000000000000018),this['g']=Math['pow'](_0x53b112['g'],0x86*0x49+0xbed+-0x3221*0x1+0.20000000000000018),this['b']=Math['pow'](_0x53b112['b'],0x3*-0xee+0x53b*-0x4+-0x5c*-0x42+0.20000000000000018),this['a']=_0x53b112['a'],this;}['gamma'](_0x19bf91=this){return this['r']=Math['pow'](_0x19bf91['r'],(-0x1bf7+0x1ea8+-0x2b0)/(-0x1bf3+0x29*-0xb3+0x38a0+0.20000000000000018)),this['g']=Math['pow'](_0x19bf91['g'],(0x1d*0x106+-0xa41+0xe2*-0x16)/(-0x2eb*-0x3+0x2*0x3d6+-0x106b+0.20000000000000018)),this['b']=Math['pow'](_0x19bf91['b'],(-0x236d+-0x1*0xb51+0x2ebf*0x1)/(-0x2139+0x1a7c*-0x1+0x3bb7+0.20000000000000018)),this['a']=_0x19bf91['a'],this;}['mulScalar'](_0x471830){return this['r']*=_0x471830,this['g']*=_0x471830,this['b']*=_0x471830,this;}['fromString'](_0x3fd133){const _0xa65587=parseInt(_0x3fd133['replace']('#','0x'),0x20a3+-0x2*0xdfb+-0x49d);let _0x5634a0;return _0x3fd133['length']>-0x7a4+-0x22d4+0x2a7f*0x1?_0x5634a0=z['intToBytes'+'32'](_0xa65587):(_0x5634a0=z['intToBytes'+'24'](_0xa65587),_0x5634a0[-0x1b1*0x4+-0x144a+0x1*0x1b11]=0x2*0x57b+-0x2393+-0x199c*-0x1),this['set'](_0x5634a0[0x6*-0x624+0x1*0x3e5+0x20f3]/(-0x90*-0x32+0x239b+-0x3ebc),_0x5634a0[-0x18aa+0x23ac+0x3*-0x3ab]/(-0x579+0x1a6*-0x7+0xa*0x1cd),_0x5634a0[-0x1419+-0x255a+0x3975]/(0x2*-0xc75+-0xed5+0x7*0x5d2),_0x5634a0[0x1a5*-0xf+0x165b+0x253]/(-0x1855+-0x1bb*-0x5+0x10ad)),this;}['fromArray'](_0x13c9e6,_0x352698=-0x1dfc+0x662+0x179a*0x1){return this['r']=_0x13c9e6[_0x352698]??this['r'],this['g']=_0x13c9e6[_0x352698+(-0x1*-0x2069+0x425*-0x5+-0x3e5*0x3)]??this['g'],this['b']=_0x13c9e6[_0x352698+(-0x1b7c+0x5*0x517+-0x1*-0x20b)]??this['b'],this['a']=_0x13c9e6[_0x352698+(-0x3*-0xc2f+0x14d3+-0x395d)]??this['a'],this;}['toString'](_0x1e8699,_0x3bd240){const {r:_0x4d5f4e,g:_0x53a46d,b:_0x11975d,a:_0x450b37}=this;if(_0x3bd240||_0x4d5f4e>0x8*0x14b+-0x7da+-0x27d||_0x53a46d>0x1*-0x69d+-0x3*-0xf7+0x3b9||_0x11975d>-0xd7c+0x10bb+-0x33e)return _0x4d5f4e['toFixed'](0x38f+-0x1159+0xdcd)+',\x20'+_0x53a46d['toFixed'](0x188f*0x1+-0x2*-0x10e5+-0x26*0x189)+',\x20'+_0x11975d['toFixed'](-0x1*0x25f9+-0xcf*0x29+0x4723*0x1)+',\x20'+_0x450b37['toFixed'](0xdd0+0x12*0x4a+-0x1301);let _0x523913='#'+((0x1*0x7f7+0x1d48+-0x253e<<-0x3*-0x996+-0x5*-0x38d+-0x3*0xf79)+(Math['round'](_0x4d5f4e*(0x1d28+0x1f00+-0xe9*0x41))<<0x97d+0x505*0x5+-0x2286)+(Math['round'](_0x53a46d*(-0x21b7+-0x11*0x96+0x2cac))<<-0x1017+-0x700+0x1*0x171f)+Math['round'](_0x11975d*(-0x233a+0xdf0*0x2+0x859)))['toString'](0x2503*0x1+0x2397+0xa*-0x741)['slice'](-0x602+0x1*0x24a7+-0x1ea4);if(_0x1e8699===!(0x2*0x1202+0x1fa4+-0x43a8)){const _0x5c8299=Math['round'](_0x450b37*(0x87*-0x43+0x1*-0x920+0x2d74))['toString'](0x5*0x291+0x1103+0x3b9*-0x8);this['a']<(-0x11*0x238+0x18c8+0x40*0x34)/(-0x2*0x8d1+-0xe74+-0x9*-0x3ad)?_0x523913+='0'+_0x5c8299:_0x523913+=_0x5c8299;}return _0x523913;}['toArray'](_0xb257c5=[],_0x2d98c8=0x4f4*-0x1+0x119*-0x11+-0x5d*-0x41,_0x39c7b2=!(-0x17*-0x1ad+-0x4*0x661+-0xd07*0x1)){return _0xb257c5[_0x2d98c8]=this['r'],_0xb257c5[_0x2d98c8+(0x8fa*-0x2+0x1f*0x1d+0x2b*0x56)]=this['g'],_0xb257c5[_0x2d98c8+(0x1bd8+0x1*-0x2467+0x891)]=this['b'],_0x39c7b2&&(_0xb257c5[_0x2d98c8+(-0x5*0x149+0x65*0x5+0x3*0x17d)]=this['a']),_0xb257c5;}};c(ot,'BLACK',Object['freeze'](new ot(0x1f05+-0x1684+-0x881,-0xea*-0xb+-0x63*-0x36+-0x21*0xf0,-0x1cfa*0x1+0x259*0x1+0x1aa1,-0x23*-0xd2+-0x2517+-0x431*-0x2))),c(ot,'BLUE',Object['freeze'](new ot(-0x1*0xdb1+0x14b1+-0x700,-0x1*0x1733+-0xb*-0x1f5+-0x1ac*-0x1,-0x1781+0x14f3+0x83*0x5,0xbcd*0x2+0x1c9*-0x13+0xa52))),c(ot,'CYAN',Object['freeze'](new ot(-0x4*-0x719+0x47*-0x34+-0x1*0xdf8,0x1ff5+0x209c*-0x1+0xa8,0x1593+0x96a+-0x1efc,0x2*0x232+-0x3ee+-0x75))),c(ot,'GRAY',Object['freeze'](new ot(0x2339+-0x1e02+-0x537+0.5,-0x1*0xf39+-0x1450+0x2389+0.5,0x25bd+0xd*-0x1d2+-0xe13+0.5,0x1*0x88a+-0x3*-0x3b9+-0x13b4))),c(ot,'GREEN',Object['freeze'](new ot(0xa4b*-0x1+0xa7*0x16+-0x40f,0xb11+0x1276+-0x1d86,-0x938+0xe0e+-0x26b*0x2,-0x1b49+-0x117e+-0x1*-0x2cc8))),c(ot,'MAGENTA',Object['freeze'](new ot(-0x34e+0x22ba+-0x1f6b,0x1*0x1637+-0x16a2+0x6b,0x2253*-0x1+0xc*-0x2bf+0x4348*0x1,-0x20cb+-0x2f*0x7d+0x37bf))),c(ot,'RED',Object['freeze'](new ot(-0x4*0x5ad+-0x7d4+0x1e89,0x112b+-0x1622+0x4f7,-0xc83*0x1+-0x1f8e+0x2c11,0x18*0xdb+0x26*0xc+-0x164f*0x1))),c(ot,'WHITE',Object['freeze'](new ot(-0x2211+-0x1*-0x1b83+0x1*0x68f,-0x167*0x15+0x9c7*0x1+0xdb*0x17,-0x1*-0x1622+-0x1*0x3d+-0x15e4,0x198e+0x1573+0x100*-0x2f))),c(ot,'YELLOW',Object['freeze'](new ot(-0x517*-0x2+0x5*0x477+-0x2080,0x8b6*0x3+-0x1e8c+-0xd*-0x57,0x1*0xa5b+-0x244+-0x6d*0x13,0x26ab+0xc23+-0x32cd)));let Y=ot;class hy{constructor(_0xbf729,_0x5edd18=0x2*-0x6d3+-0x5d*-0x1f+0x263){c(this,'_curve'),c(this,'_left',-(-0x2322+0x2*0xa22+0xedf)/(0x3*-0x923+0x3*-0x1ac+0x1*0x206d)),c(this,'_right',(0x16*-0x9f+0x74*0x3f+-0xd*0x125)/(0xcbc+-0x1*-0x1210+-0x1ecc)),c(this,'_recip',0x106c+-0x853*0x2+0x3a),c(this,'_p0',-0x66*-0x9+0x7bb*0x2+-0x130c),c(this,'_p1',0x1b9d+0x1*-0x3be+-0x17df),c(this,'_m0',0x1b6e+0x14f4+-0xb*0x466),c(this,'_m1',0x25b8+0x13b1+0x1323*-0x3),(this['_curve']=_0xbf729,this['_reset'](_0x5edd18));}['evaluate'](_0x2d8c07,_0x3bccf0=!(0x4f1+0x5e9*0x1+0x1*-0xad9)){(_0x3bccf0||_0x2d8c07<this['_left']||_0x2d8c07>=this['_right'])&&this['_reset'](_0x2d8c07);let _0x3efc6f;const _0x202c8d=this['_curve']['type'];if(_0x202c8d===SS)_0x3efc6f=this['_p0'];else{const _0x1ecfc2=this['_recip']===0x401+-0x14c4+0x265*0x7?-0x2179+0x26b*0x1+0x35*0x96:(_0x2d8c07-this['_left'])*this['_recip'];_0x202c8d===xS?_0x3efc6f=z['lerp'](this['_p0'],this['_p1'],_0x1ecfc2):_0x202c8d===Of?_0x3efc6f=z['lerp'](this['_p0'],this['_p1'],_0x1ecfc2*_0x1ecfc2*(-0x5b*0xf+-0x254c+0x2aa4-(0x45*-0x1+-0x17*-0x1a2+-0x2547)*_0x1ecfc2)):_0x3efc6f=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x1ecfc2);}return _0x3efc6f;}['_reset'](_0x537c3a){const _0x1a459f=this['_curve']['keys'],_0x4868c2=_0x1a459f['length'];if(!_0x4868c2)this['_left']=-(-0x4fd*-0x5+-0x75+-0x187b)/(-0x5*-0x673+-0x1*0x18c5+0x77a*-0x1),this['_right']=(-0x2*0xf6+-0x1e09*0x1+0x1ff6)/(0x1*-0x1553+-0x1898+0x2deb),this['_recip']=0x180a+-0x269*0xa+0x10,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0x20ce+-0x22a*0x11+0x4598*0x1;else{if(_0x537c3a<_0x1a459f[-0x2611*0x1+0xb1b+-0x7*-0x3da][0xe2a+-0xc6c*0x1+-0x1be])this['_left']=-(0x20ab*0x1+-0x257e+-0x67*-0xc)/(-0x1*-0x2205+0x4a9*-0x7+-0x166),this['_right']=_0x1a459f[-0x130a+0x1ddd+-0xad3][0x6*-0x300+-0x1*-0xba3+0x9*0xb5],this['_recip']=-0xbdf+-0x1c18+0xd*0x313,this['_p0']=this['_p1']=_0x1a459f[-0x2242+0x1d69*0x1+0x49*0x11][0x3*-0x32b+0x121+0x861],this['_m0']=this['_m1']=0x1d*-0x121+-0x222+0x22df;else{if(_0x537c3a>=_0x1a459f[_0x4868c2-(-0x5fd*-0x4+-0x2ef*0x8+-0x7b)][-0x1397*-0x1+0x1*-0x2333+-0x534*-0x3])this['_left']=_0x1a459f[_0x4868c2-(0x16f*0xd+0xbf*0x18+-0x248a)][-0x4*0x4f+0x23a8+0x226c*-0x1],this['_right']=(0xd7d*0x1+0x455*0x9+0x7*-0x77f)/(-0x106*-0x13+-0xdbc+-0x5b6),this['_recip']=0x15c2*-0x1+-0x7e+0x1640,this['_p0']=this['_p1']=_0x1a459f[_0x4868c2-(0x14c7*0x1+0x2*0x92f+-0x3ea*0xa)][0xb72+-0x2*-0xc2d+-0x21b*0x11],this['_m0']=this['_m1']=0x1*-0x170e+0x42d*-0x9+0x3ca3;else{let _0x5b10d5=0xf4c+-0x1cb*-0xd+-0x269b;for(;_0x537c3a>=_0x1a459f[_0x5b10d5+(-0x1*0x6c7+-0x179*-0x12+-0x65*0x32)][0x526+0x185a+-0x2*0xec0];)_0x5b10d5++;this['_left']=_0x1a459f[_0x5b10d5][-0x9*-0x392+-0xdcc+-0x1256],this['_right']=_0x1a459f[_0x5b10d5+(-0x114d+-0x4*-0x18b+0x26*0x4b)][-0x1*-0xd8f+-0x3*0xab5+-0x1b*-0xb0];const _0x1979d6=(0xb*0x2f3+-0x15c*0x17+-0xa*0x1e)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x1979d6)?_0x1979d6:-0xe3*-0x5+0x1*0x653+-0xac2*0x1,this['_p0']=_0x1a459f[_0x5b10d5][0x1*-0x9b3+-0x1fd+0xbb1*0x1],this['_p1']=_0x1a459f[_0x5b10d5+(0x7a6+0x4a*-0x83+0x3*0xa13)][0x4bd*0x6+0x1*-0x1989+-0xb9*0x4],this['_curve']['type']===im&&this['_calcTange'+'nts'](_0x1a459f,_0x5b10d5);}}}}['_calcTange'+'nts'](_0x474110,_0x4b6f16){let _0x6f6317;const _0x429c06=_0x474110[_0x4b6f16],_0x1e8cc0=_0x474110[_0x4b6f16+(-0x1bbf*0x1+-0x2570+0x1c*0x254)];let _0x2098c4;if(_0x4b6f16===0x1*-0x1ff+0x1886+-0x1687?_0x6f6317=[_0x474110[-0x1*-0x265a+-0x1ec3+0x797*-0x1][0x8d3+-0x417+-0x194*0x3]+(_0x474110[0x35*-0x7f+-0x3*-0x201+0x1448][-0x13c6+0x663+0xd63]-_0x474110[0x1*0x15b7+-0x2af+-0x1307][-0x6d*-0x49+-0x974+0x1*-0x15a1]),_0x474110[0x804+0xa5*0x1a+-0x15*0x12e][-0x13ef+-0x20c*-0x11+-0xedc]+(_0x474110[-0x5f9+0x135c+0x17*-0x95][-0x15e6*0x1+0x19d6+-0x3ef]-_0x474110[0x45b+-0x3*-0x4a7+-0x1*0x124f][-0xb69+-0x15*-0xb3+-0x345])]:_0x6f6317=_0x474110[_0x4b6f16-(-0x1303+0x1a14+-0x710)],_0x4b6f16===_0x474110['length']-(-0x260d*0x1+0xed6+0x1739)?_0x2098c4=[_0x474110[_0x4b6f16+(0x8ef*0x2+0x9ff*-0x2+0x221)][-0x119c+-0x2f*-0x43+-0x9*-0x97]+(_0x474110[_0x4b6f16+(0x9c8+0x2491+-0x2e58)][0x1941*-0x1+-0x21c9+0x3b0a]-_0x474110[_0x4b6f16][0x23ec+0x1*-0x7e6+-0x1c06]),_0x474110[_0x4b6f16+(0x226a+-0x40*0x5c+0xb69*-0x1)][-0x3*-0x6ab+-0x1*-0x113e+0x2*-0x129f]+(_0x474110[_0x4b6f16+(0xb*-0x2f9+0x214e+-0x9a)][0x2*-0x482+-0x2*0x1258+-0x2db5*-0x1]-_0x474110[_0x4b6f16][-0xa3*0xd+0x182*0x12+0x11c*-0x11])]:_0x2098c4=_0x474110[_0x4b6f16+(-0x13fd+-0xed0+0x43*0x85)],this['_curve']['type']===im){const _0x5261bb=(-0x1961+-0x1c29+0x358c*0x1)*(_0x1e8cc0[0xc*-0x2e2+0x213a+-0x32*-0x7]-_0x429c06[0xc0a+-0x916+-0x2f4])/(_0x1e8cc0[-0x1972+0x608+-0x9b5*-0x2]-_0x6f6317[0x1*-0x1ff8+-0x25c2+0x1a9*0x2a]),_0x42be8a=(0x71*0x4f+-0x12a*0x14+0x251*-0x5)*(_0x1e8cc0[0x71*-0xb+0x1*0xd9+0x402*0x1]-_0x429c06[0x20a8+0x1*-0xc47+0x6cb*-0x3])/(_0x2098c4[-0x14e6+0x160d+0x127*-0x1]-_0x429c06[0x1d3*0x2+-0x1*-0x2053+-0x23f9]);this['_m0']=this['_curve']['tension']*(isFinite(_0x5261bb)?_0x5261bb:0x214a+0xf7+-0x2241)*(_0x1e8cc0[-0x2ee*-0xd+-0x128+-0x24ed*0x1]-_0x6f6317[0x5*-0x22+0x4b5*0x3+-0xd74]),this['_m1']=this['_curve']['tension']*(isFinite(_0x42be8a)?_0x42be8a:-0x1981+-0x3fd*0x4+-0x1*-0x2975)*(_0x2098c4[-0xc5c+0x1543+-0x8e6]-_0x429c06[0xb11*0x1+0x11*0xa0+-0xad8*0x2]);}else{const _0x4ec388=(_0x1e8cc0[-0x25c4+0x22d*0xe+0x74e]-_0x429c06[-0x1*-0x88f+-0x2520+0x1c91])/(_0x429c06[0x1d80+-0x299*-0xe+-0x41de]-_0x6f6317[0x537+0xe82+-0x13b9]),_0x39499d=(_0x1e8cc0[-0xd31+-0x5*-0x442+0x819*-0x1]-_0x429c06[0x1ef6+0x1*-0x163+-0x43*0x71])/(_0x2098c4[0x1a9f+0x1a47+-0x34e6]-_0x1e8cc0[0x3a+0x2326+-0x8d8*0x4]),_0x59f8cb=_0x429c06[0x9*-0x419+-0x66b+0xf*0x2e3]+(_0x6f6317[-0x190a+0xad9*0x1+-0x2*-0x719]-_0x429c06[-0x2*0x74f+-0x13*-0xc1+0x4*0x13])*(isFinite(_0x4ec388)?_0x4ec388:0x2*-0x1139+-0x7da+0x2a4c),_0x2eeb76=_0x1e8cc0[-0x12a*-0x1+-0xe61*0x1+0xd38]+(_0x2098c4[0x2ac+-0x2*0x107+-0x1*0x9d]-_0x1e8cc0[0x11d6+-0x16*-0x39+-0x16bb])*(isFinite(_0x39499d)?_0x39499d:-0x905*-0x1+-0x8de+-0x3*0xd),_0x4afbc7=this['_curve']['tension'];this['_m0']=_0x4afbc7*(_0x1e8cc0[0x1*0x225d+-0x25ac+0x1a8*0x2]-_0x59f8cb),this['_m1']=_0x4afbc7*(_0x2eeb76-_0x429c06[0x2*-0x1261+0x1069+0x145a]);}}['_evaluateH'+'ermite'](_0x5e40e8,_0xd8b61d,_0x26fef6,_0x3c9fb3,_0x312dd9){const _0x1f6f4c=_0x312dd9*_0x312dd9,_0x530d75=_0x312dd9+_0x312dd9,_0x3560af=0x1080+0x726+0x1*-0x17a5-_0x312dd9,_0x41e442=_0x3560af*_0x3560af;return _0x5e40e8*((0xfad+-0x551+-0xa5b+_0x530d75)*_0x41e442)+_0x26fef6*(_0x312dd9*_0x41e442)+_0xd8b61d*(_0x1f6f4c*(-0xf9c+0xd*-0xf9+0x1c44-_0x530d75))+_0x3c9fb3*(_0x1f6f4c*(_0x312dd9-(-0xc9a+-0xe07+-0x7*-0x3ce)));}}class Ls{constructor(_0x1da16b){c(this,'keys',[]),c(this,'type',Of),c(this,'tension',0x1*-0xefb+-0x1eac+-0x1*-0x2da7+0.5),c(this,'_eval',new hy(this));if(_0x1da16b){for(let _0x1aefb0=0xb29+0x4f*-0x6+-0x1*0x94f;_0x1aefb0<_0x1da16b['length']-(0x134c+-0x12a7+-0x2*0x52);_0x1aefb0+=-0x1733+-0x1c9f+0x33d4)this['keys']['push']([_0x1da16b[_0x1aefb0],_0x1da16b[_0x1aefb0+(-0x3d9*-0xa+0x18b4+-0x9*0x705)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x5815cd,_0x382131){const _0xfadab9=this['keys'],_0x5f2fd7=_0xfadab9['length'];let _0x247ce4=-0x273*0x7+0x1a6d+-0x948;for(;_0x247ce4<_0x5f2fd7&&!(_0xfadab9[_0x247ce4][0x26ed+0x5be+0x8ef*-0x5]>_0x5815cd);_0x247ce4++);const _0x4376d8=[_0x5815cd,_0x382131];return this['keys']['splice'](_0x247ce4,0x1114+0x1*-0xf1c+-0x1f8,_0x4376d8),_0x4376d8;}['get'](_0x2735d0){return this['keys'][_0x2735d0];}['sort'](){this['keys']['sort']((_0x2d2272,_0x52cfee)=>_0x2d2272[-0x11*-0x13d+-0x100c+0x501*-0x1]-_0x52cfee[-0xa49*-0x1+0x55c+0xfa5*-0x1]);}['value'](_0x17511c){return this['_eval']['evaluate'](_0x17511c,!(0xc04+0x23ee+-0x2ff2));}['closest'](_0x18805d){const _0x1b4b0e=this['keys'],_0x499329=_0x1b4b0e['length'];let _0xed9acd=-0x1dbe+0x1ba3+-0x21d*-0x1,_0xea93a1=null;for(let _0x3cb37b=-0x3af*-0x7+-0x20d8+0x70f;_0x3cb37b<_0x499329;_0x3cb37b++){const _0x571181=Math['abs'](_0x18805d-_0x1b4b0e[_0x3cb37b][-0x235*-0x8+0x719+-0x18c1]);if(_0xed9acd>=_0x571181)_0xed9acd=_0x571181,_0xea93a1=_0x1b4b0e[_0x3cb37b];else break;}return _0xea93a1;}['clone'](){const _0x334dce=new this['constructo'+'r']();return _0x334dce['keys']=this['keys']['map'](_0x3bfb3d=>[..._0x3bfb3d]),_0x334dce['type']=this['type'],_0x334dce['tension']=this['tension'],_0x334dce;}['quantize'](_0x2803ad){_0x2803ad=Math['max'](_0x2803ad,0x169d*-0x1+0x2*0xac7+0x111);const _0xc2ae5e=new Float32Array(_0x2803ad),_0x3d5d0f=(0x3*-0x493+-0x1*0x89e+0x58*0x41)/(_0x2803ad-(-0x2512+-0x1012+0x3525));_0xc2ae5e[-0x10d0+0x37e*0x5+-0xa6]=this['_eval']['evaluate'](0x1*-0xd19+0x162*0x11+0x5*-0x215,!(0x97e+0xe3f+-0x17bd));for(let _0xa88712=0x833*-0x2+-0x6*0x234+0x1d9f;_0xa88712<_0x2803ad;_0xa88712++)_0xc2ae5e[_0xa88712]=this['_eval']['evaluate'](_0x3d5d0f*_0xa88712);return _0xc2ae5e;}['quantizeCl'+'amped'](_0x4e84ff,_0x20286a,_0x44a7e1){const _0x857418=this['quantize'](_0x4e84ff);for(let _0x43894d=0x3d*0x43+-0x8db+-0x71c;_0x43894d<_0x857418['length'];++_0x43894d)_0x857418[_0x43894d]=Math['min'](_0x44a7e1,Math['max'](_0x20286a,_0x857418[_0x43894d]));return _0x857418;}}class Yr{constructor(){c(this,'curves',[]),c(this,'_type',Of);if(arguments['length']>0x2311+-0x13d6+0x1*-0xf3a){for(let _0x4066dc=0x1*0x3a3+0x8f*0x18+0x110b*-0x1;_0x4066dc<arguments['length'];_0x4066dc++)this['curves']['push'](new Ls(arguments[_0x4066dc]));}else{if(arguments['length']===-0x1a99*-0x1+0x13b+-0x1bd4)this['curves']['push'](new Ls());else{const _0x5427b1=arguments[0x1*0x12a+0x5*0x552+-0xde2*0x2];if(typeof _0x5427b1=='number'){for(let _0x388ea4=-0x1c27+0x4*-0x31+0x1ceb;_0x388ea4<_0x5427b1;_0x388ea4++)this['curves']['push'](new Ls());}else{for(let _0xa7b7c9=0x1*-0x986+0x262+0x724;_0xa7b7c9<_0x5427b1['length'];_0xa7b7c9++)this['curves']['push'](new Ls(_0x5427b1[_0xa7b7c9]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x315295){this['_type']=_0x315295;for(let _0x1c1bff=-0x212a+0x1cc7*-0x1+-0x65*-0x9d;_0x1c1bff<this['curves']['length'];_0x1c1bff++)this['curves'][_0x1c1bff]['type']=_0x315295;}get['type'](){return this['_type'];}['get'](_0x143e75){return this['curves'][_0x143e75];}['value'](_0x321c08,_0x355bbf=[]){const _0x484a02=this['curves']['length'];_0x355bbf['length']=_0x484a02;for(let _0x148e64=0x2415+-0x189e+-0xb77;_0x148e64<_0x484a02;_0x148e64++)_0x355bbf[_0x148e64]=this['curves'][_0x148e64]['value'](_0x321c08);return _0x355bbf;}['clone'](){const _0x3c9662=new this['constructo'+'r']();_0x3c9662['curves']=[];for(let _0x2bda8e=-0x426+-0xc9*-0x3+0x1cb;_0x2bda8e<this['curves']['length'];_0x2bda8e++)_0x3c9662['curves']['push'](this['curves'][_0x2bda8e]['clone']());return _0x3c9662['_type']=this['_type'],_0x3c9662;}['quantize'](_0x352dbf){_0x352dbf=Math['max'](_0x352dbf,0x2ec+-0x15*0x77+-0x6d9*-0x1);const _0x151e90=this['curves']['length'],_0x154a70=new Float32Array(_0x352dbf*_0x151e90),_0x2d11a4=(-0x3*0x752+0xb54+0xaa3)/(_0x352dbf-(-0x1*0x13f3+0x746+-0x657*-0x2));for(let _0x27d19b=-0x1*0x17b7+0x5a1+0x1216;_0x27d19b<_0x151e90;_0x27d19b++){const _0x3fcbe2=new hy(this['curves'][_0x27d19b]);for(let _0x4871a8=0x1*0x142f+-0x2*0x380+-0xd2f;_0x4871a8<_0x352dbf;_0x4871a8++)_0x154a70[_0x4871a8*_0x151e90+_0x27d19b]=_0x3fcbe2['evaluate'](_0x2d11a4*_0x4871a8);}return _0x154a70;}['quantizeCl'+'amped'](_0x4e6d9b,_0x411c8a,_0x4badac){const _0x706268=this['quantize'](_0x4e6d9b);for(let _0x4981f0=0x564+-0x1*-0x1724+-0x1c88;_0x4981f0<_0x706268['length'];++_0x4981f0)_0x706268[_0x4981f0]=Math['min'](_0x4badac,Math['max'](_0x411c8a,_0x706268[_0x4981f0]));return _0x706268;}}let rm=0x250f+-0x12cc+-0x1d3*0xa;const od=(-0x7*-0x9e+0x1dea*-0x1+-0x1*-0x1999)/(0xf5*0x11+-0x1177+0x231),mu=new Float32Array(0x15*0xb3+-0x1*-0x15f2+-0x20*0x125),nm=new Int32Array(mu['buffer']);class Bt{static['float2Half'](_0x1c964c){mu[-0x4*-0xcd+-0x4ee+0xdd*0x2]=_0x1c964c;const _0x55b670=nm[-0x2685+0x7*-0x593+0x4d8a];let _0x32ff74=_0x55b670>>-0x4a4*-0x5+-0x1da4+0x680&0x1*0xc4a6+-0x2af*0x50+-0x920a*-0x1,_0x7655a7=_0x55b670>>-0x179b+0x5*-0x2b9+-0x2*-0x12a2&-0x242b+0x1*-0x23c9+-0x4ff3*-0x1;const _0x3a40ce=_0x55b670>>-0x65*0x7+-0xbb*-0xe+-0x760&-0x986*0x1+0x1*0x1fe+-0x1*-0x887;return _0x3a40ce<0x1476+-0x1626*-0x1+-0x2a35?_0x32ff74:_0x3a40ce>-0x249b+-0x1250+0x3779?(_0x32ff74|=-0xc4a5+-0xceb*-0x5+-0xb22*-0x17,_0x32ff74|=(_0x3a40ce===-0x1d88+-0x1*0x1ac7+-0x2d*-0x146?0x1a1+0xe15+0x2*-0x7db:-0x5dc+-0x4*-0x96b+0x11*-0x1df)&&_0x55b670&-0x39425d+-0x4f*0x1a762+0x13be99a,_0x32ff74):_0x3a40ce<-0x1990+0x1b75+-0x3e*0x6?(_0x7655a7|=0x1*0xb67+-0x23b6*0x1+0x9*0x397,_0x32ff74|=(_0x7655a7>>-0x1755+0x1549+0xb*0x3a-_0x3a40ce)+(_0x7655a7>>-0x44b*-0x6+-0x866+0x3d*-0x47-_0x3a40ce&-0x1247+-0x15*0x1b2+-0x6*-0x8fb),_0x32ff74):(_0x32ff74|=_0x3a40ce-(-0x6c+0x24b*-0x8+0x1334)<<0x136e*0x2+-0x18e8+0x2*-0x6f5|_0x7655a7>>0x3*0xb5+-0x1*-0x232+-0x450,_0x32ff74+=_0x7655a7&-0xa06+-0x1d33+0x273a,_0x32ff74);}static['float2Byte'+'s'](_0xa973ec,_0x2ab7e6,_0x40933e,_0x19bfea){const _0x32a894=(0x1*-0x25f7+-0x1eba+0x45b0)*_0xa973ec%(-0x4*-0x70b+0x1805+0x538*-0xa);if(_0x2ab7e6[_0x40933e+(-0x9ab*0x1+0xf5*-0x10+0x5*0x4ff)]=Math['round']((_0xa973ec%(-0x14cc+-0x31*0xad+0x1*0x35ea)-od*_0x32a894)*(-0x3e3*-0x8+0x45*-0x2f+-0x8b7*0x2)),_0x19bfea>-0x2124+-0x85f+0x2984*0x1){const _0x4a982e=(-0xc38c+-0x1*0x193b5+0x35542)*_0xa973ec%(-0x1*-0xe84+-0x4ca+0x9b9*-0x1);if(_0x2ab7e6[_0x40933e+(-0xf85+-0x18f3+0x2879*0x1)]=Math['round']((_0x32a894-od*_0x4a982e)*(-0x1485+-0x9bc+0x1f40)),_0x19bfea>-0x18a4+-0x293*-0x5+0x3*0x3ed){const _0x107a6b=(-0x153c82*0x7+0x8791ce+-0x10a18bf*-0x1)*_0xa973ec%(0x1d6+-0x11a1*-0x1+0x2*-0x9bb);_0x2ab7e6[_0x40933e+(0x1045+-0x1*-0x607+0x9*-0x27a)]=Math['round']((_0x4a982e-od*_0x107a6b)*(0x15a5+-0xcbf+0x11*-0x77)),_0x19bfea>0x70+-0x1d3b*0x1+-0x1*-0x1cce&&(_0x2ab7e6[_0x40933e+(-0x332*0x9+-0x1b09*0x1+0x37ce)]=Math['round'](_0x107a6b*(-0x2245+0x11b*0x3+0x1ff3)));}}}static['float2Byte'+'sRange'](_0x510e10,_0x5108f1,_0x455bde,_0x30c75a,_0x27b756,_0x7ca8d){(_0x510e10<_0x30c75a||_0x510e10>_0x27b756)&&rm&&(rm--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x510e10=z['clamp']((_0x510e10-_0x30c75a)/(_0x27b756-_0x30c75a),0x1cf9+-0x8e6+-0x23b*0x9,-0x1cb*-0x5+0x6*-0x21a+0x3a6),Bt['float2Byte'+'s'](_0x510e10,_0x5108f1,_0x455bde,_0x7ca8d);}static['float2RGBA'+'8'](_0x35a538,_0x44b60e){mu[-0x11a8+-0x5af*-0x3+0x5*0x1f]=_0x35a538;const _0x57466b=nm[0x3*0xa6f+0x1075+-0x2fc2];_0x44b60e['r']=(_0x57466b>>0x10b+0x124e+-0x1341&0x1d*-0x27+0x869*0x2+0x5b4*-0x2)/(-0x157+0x1f01*-0x1+-0x5*-0x6ab),_0x44b60e['g']=(_0x57466b>>0x1ebf+0x1561+0x8*-0x682&0x3*-0xb19+0x10e9+0x3*0x5cb)/(0x6dc+0xe12+-0x13ef),_0x44b60e['b']=(_0x57466b>>-0x1a4d+-0xce*-0xa+-0x1249*-0x1&0xf7*-0x20+-0x224f*0x1+-0x1*-0x422e)/(0x589*-0x7+-0x770+-0x3d*-0xc6),_0x44b60e['a']=(_0x57466b&-0x129f+-0x2435*0x1+0x1f*0x1cd)/(-0x1*-0x221c+-0xd83+-0xc1*0x1a);}}const lt=class lt{constructor(_0x30fc99=0x1*0x9f7+-0xae*-0x10+0x1e5*-0xb,_0x52d83e=0x1403+-0x1fa0+0xb9d,_0x444dd7=-0x3d7+-0x23c9+-0x2*-0x13d0){c(this,'x'),c(this,'y'),c(this,'z'),_0x30fc99['length']===-0x12df*-0x1+0xd1*0x1+-0x13ad?(this['x']=_0x30fc99[0x1*0x1025+0x48a+-0x14af*0x1],this['y']=_0x30fc99[0x461+0x1*-0x1147+0x44d*0x3],this['z']=_0x30fc99[-0x43a+-0x26b8+-0x157a*-0x2]):(this['x']=_0x30fc99,this['y']=_0x52d83e,this['z']=_0x444dd7);}['add'](_0x513824){return this['x']+=_0x513824['x'],this['y']+=_0x513824['y'],this['z']+=_0x513824['z'],this;}['add2'](_0x2fd176,_0x1307a1){return this['x']=_0x2fd176['x']+_0x1307a1['x'],this['y']=_0x2fd176['y']+_0x1307a1['y'],this['z']=_0x2fd176['z']+_0x1307a1['z'],this;}['addScalar'](_0x284ef0){return this['x']+=_0x284ef0,this['y']+=_0x284ef0,this['z']+=_0x284ef0,this;}['addScaled'](_0x113e71,_0x3761c1){return this['x']+=_0x113e71['x']*_0x3761c1,this['y']+=_0x113e71['y']*_0x3761c1,this['z']+=_0x113e71['z']*_0x3761c1,this;}['clone'](){const _0x35af74=this['constructo'+'r'];return new _0x35af74(this['x'],this['y'],this['z']);}['copy'](_0x1d9886){return this['x']=_0x1d9886['x'],this['y']=_0x1d9886['y'],this['z']=_0x1d9886['z'],this;}['cross'](_0x542b27,_0x212b48){const _0x540f41=_0x542b27['x'],_0x2e96d1=_0x542b27['y'],_0x59ed0b=_0x542b27['z'],_0x36ccad=_0x212b48['x'],_0x39e06e=_0x212b48['y'],_0x42eba2=_0x212b48['z'];return this['x']=_0x2e96d1*_0x42eba2-_0x39e06e*_0x59ed0b,this['y']=_0x59ed0b*_0x36ccad-_0x42eba2*_0x540f41,this['z']=_0x540f41*_0x39e06e-_0x36ccad*_0x2e96d1,this;}['distance'](_0x493b54){const _0x475795=this['x']-_0x493b54['x'],_0x26cdd9=this['y']-_0x493b54['y'],_0x23579d=this['z']-_0x493b54['z'];return Math['sqrt'](_0x475795*_0x475795+_0x26cdd9*_0x26cdd9+_0x23579d*_0x23579d);}['div'](_0x468bdd){return this['x']/=_0x468bdd['x'],this['y']/=_0x468bdd['y'],this['z']/=_0x468bdd['z'],this;}['div2'](_0x59cf20,_0x3c5f15){return this['x']=_0x59cf20['x']/_0x3c5f15['x'],this['y']=_0x59cf20['y']/_0x3c5f15['y'],this['z']=_0x59cf20['z']/_0x3c5f15['z'],this;}['divScalar'](_0x1b2d48){return this['x']/=_0x1b2d48,this['y']/=_0x1b2d48,this['z']/=_0x1b2d48,this;}['dot'](_0x4e67b5){return this['x']*_0x4e67b5['x']+this['y']*_0x4e67b5['y']+this['z']*_0x4e67b5['z'];}['equals'](_0xc957d){return this['x']===_0xc957d['x']&&this['y']===_0xc957d['y']&&this['z']===_0xc957d['z'];}['equalsAppr'+'ox'](_0x20b41d,_0x1280b8=-0x2ea*-0x2+0x1261*0x1+-0x1835+0.000001){return Math['abs'](this['x']-_0x20b41d['x'])<_0x1280b8&&Math['abs'](this['y']-_0x20b41d['y'])<_0x1280b8&&Math['abs'](this['z']-_0x20b41d['z'])<_0x1280b8;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x14f671,_0xdd91d7,_0x540212){return this['x']=_0x14f671['x']+_0x540212*(_0xdd91d7['x']-_0x14f671['x']),this['y']=_0x14f671['y']+_0x540212*(_0xdd91d7['y']-_0x14f671['y']),this['z']=_0x14f671['z']+_0x540212*(_0xdd91d7['z']-_0x14f671['z']),this;}['mul'](_0x136ed3){return this['x']*=_0x136ed3['x'],this['y']*=_0x136ed3['y'],this['z']*=_0x136ed3['z'],this;}['mul2'](_0x22fe6d,_0x921950){return this['x']=_0x22fe6d['x']*_0x921950['x'],this['y']=_0x22fe6d['y']*_0x921950['y'],this['z']=_0x22fe6d['z']*_0x921950['z'],this;}['mulScalar'](_0x4e1ea4){return this['x']*=_0x4e1ea4,this['y']*=_0x4e1ea4,this['z']*=_0x4e1ea4,this;}['normalize'](_0x1923f0=this){const _0x52bd49=_0x1923f0['x']*_0x1923f0['x']+_0x1923f0['y']*_0x1923f0['y']+_0x1923f0['z']*_0x1923f0['z'];if(_0x52bd49>0x3*-0x50d+0x1*-0x6e2+-0x1609*-0x1){const _0x198975=(-0x4*0x6f7+-0x6fb*0x2+0x1*0x29d3)/Math['sqrt'](_0x52bd49);this['x']=_0x1923f0['x']*_0x198975,this['y']=_0x1923f0['y']*_0x198975,this['z']=_0x1923f0['z']*_0x198975;}return this;}['floor'](_0x3ca338=this){return this['x']=Math['floor'](_0x3ca338['x']),this['y']=Math['floor'](_0x3ca338['y']),this['z']=Math['floor'](_0x3ca338['z']),this;}['ceil'](_0x4098ee=this){return this['x']=Math['ceil'](_0x4098ee['x']),this['y']=Math['ceil'](_0x4098ee['y']),this['z']=Math['ceil'](_0x4098ee['z']),this;}['round'](_0x1f0de5=this){return this['x']=Math['round'](_0x1f0de5['x']),this['y']=Math['round'](_0x1f0de5['y']),this['z']=Math['round'](_0x1f0de5['z']),this;}['min'](_0x1da066){return _0x1da066['x']<this['x']&&(this['x']=_0x1da066['x']),_0x1da066['y']<this['y']&&(this['y']=_0x1da066['y']),_0x1da066['z']<this['z']&&(this['z']=_0x1da066['z']),this;}['max'](_0x40f38d){return _0x40f38d['x']>this['x']&&(this['x']=_0x40f38d['x']),_0x40f38d['y']>this['y']&&(this['y']=_0x40f38d['y']),_0x40f38d['z']>this['z']&&(this['z']=_0x40f38d['z']),this;}['project'](_0x3dedde){const _0x3c0855=this['x']*_0x3dedde['x']+this['y']*_0x3dedde['y']+this['z']*_0x3dedde['z'],_0xf29db2=_0x3dedde['x']*_0x3dedde['x']+_0x3dedde['y']*_0x3dedde['y']+_0x3dedde['z']*_0x3dedde['z'],_0x1f946b=_0x3c0855/_0xf29db2;return this['x']=_0x3dedde['x']*_0x1f946b,this['y']=_0x3dedde['y']*_0x1f946b,this['z']=_0x3dedde['z']*_0x1f946b,this;}['set'](_0x49e612,_0x40d1ca,_0x51a9a6){return this['x']=_0x49e612,this['y']=_0x40d1ca,this['z']=_0x51a9a6,this;}['sub'](_0x1b41bb){return this['x']-=_0x1b41bb['x'],this['y']-=_0x1b41bb['y'],this['z']-=_0x1b41bb['z'],this;}['sub2'](_0x1e341c,_0x4a6981){return this['x']=_0x1e341c['x']-_0x4a6981['x'],this['y']=_0x1e341c['y']-_0x4a6981['y'],this['z']=_0x1e341c['z']-_0x4a6981['z'],this;}['subScalar'](_0xf47d61){return this['x']-=_0xf47d61,this['y']-=_0xf47d61,this['z']-=_0xf47d61,this;}['fromArray'](_0x54f575,_0x2b5bc6=-0x162a*-0x1+-0x1*-0x5db+-0x1c05){return this['x']=_0x54f575[_0x2b5bc6]??this['x'],this['y']=_0x54f575[_0x2b5bc6+(-0x25ba+-0xf*0xd6+-0x1*-0x3245)]??this['y'],this['z']=_0x54f575[_0x2b5bc6+(0x13fe+-0x3cf+-0x29*0x65)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x3bb908=[],_0x12c5bc=-0x1*0x225d+0xbe4*0x1+0x1679){return _0x3bb908[_0x12c5bc]=this['x'],_0x3bb908[_0x12c5bc+(-0x3cd*-0x7+0x1c*-0x7d+-0xcee)]=this['y'],_0x3bb908[_0x12c5bc+(0xc9e+-0x1243+0x1*0x5a7)]=this['z'],_0x3bb908;}};c(lt,'ZERO',Object['freeze'](new lt(-0x2327+0x2286+-0x1*-0xa1,0x788+-0xb0+-0x6d8,0x1*0x151+0x1b0c+-0x1c5d))),c(lt,'HALF',Object['freeze'](new lt(0x1c98+-0xb*0x376+-0x4bd*-0x2+0.5,-0x88f+0xb7b+-0x2ec+0.5,-0x1d4b*-0x1+-0x1*-0x11f2+-0x2f3d+0.5))),c(lt,'ONE',Object['freeze'](new lt(-0x1*0x56c+0xe*0x4e+0x129,-0x1be8+-0x202*0xb+0x31ff,0x1ec9+-0xaa2+-0x1426*0x1))),c(lt,'UP',Object['freeze'](new lt(0x74*0x1+0x2e*-0x26+0x660,-0x2e2*0x6+-0xd*0x26a+-0x1*-0x30af,0x17d4+-0x23db+-0x1*-0xc07))),c(lt,'DOWN',Object['freeze'](new lt(-0x1d9*0x5+-0x105c+0x1999,-(0x21a9+-0x1ff4+-0x4*0x6d),-0x4*-0x1b7+-0x12aa+0x5e7*0x2))),c(lt,'RIGHT',Object['freeze'](new lt(0x149a*-0x1+-0x1*-0x368+0x1*0x1133,0x1*0x5dc+-0x1e1*0x3+-0x39,0x2322+-0x746+-0x1bdc))),c(lt,'LEFT',Object['freeze'](new lt(-(0x7*0x249+0x969*0x1+0x1*-0x1967),0x1*0x1835+0x11*-0x1c5+0xbc*0x8,-0x7+-0x4a4+0x4ab))),c(lt,'FORWARD',Object['freeze'](new lt(-0x25f9+0x270*-0x7+0x3709,-0x1d8b+-0x3b3*0x1+-0x2*-0x109f,-(0x9c*-0xe+-0x5d3+-0x1*-0xe5c)))),c(lt,'BACK',Object['freeze'](new lt(-0x1073+0x1*-0x18b3+0x2926*0x1,0x21*0xd+-0x119*0xf+0xeca,-0x14*-0x3d+0x1f0c+0x67*-0x59)));let A=lt;const oa=class oa{constructor(){c(this,'data',new Float32Array(0x38d+0x1*-0x35d+0x27*-0x1)),this['data'][0x2261+-0x1*0x5bd+0x3*-0x98c]=this['data'][0x1*-0x6b1+0x244d*-0x1+-0x1e*-0x16f]=this['data'][0x228b+-0x5f2*0x1+0x1*-0x1c91]=0x9a9*-0x4+-0x72*-0x19+0x1b83;}['clone'](){const _0x5eb385=this['constructo'+'r'];return new _0x5eb385()['copy'](this);}['copy'](_0x222238){const _0x220107=_0x222238['data'],_0x50c23f=this['data'];return _0x50c23f[0x4*-0x10d+0x589+0x1f*-0xb]=_0x220107[-0xe3c*0x2+-0x12f1*0x2+0x425a],_0x50c23f[-0x1625*0x1+0x1159+0x1*0x4cd]=_0x220107[0x64f*0x5+-0x1c60+0x2d*-0x12],_0x50c23f[-0x8d+-0x59*0x26+0xdc5]=_0x220107[-0x2c*0x9b+0x2225+-0x77f],_0x50c23f[0x13b7+0xafa+-0x1eae]=_0x220107[-0x1*0x9d9+0xcf0+-0x18a*0x2],_0x50c23f[0xe02*-0x2+0xc7*0x2d+-0x3*0x251]=_0x220107[-0x1*-0x1a27+-0x1eb3+0x490],_0x50c23f[0x29*0xbf+-0x1fda+0x148]=_0x220107[0x26ca+0xd5*0x2b+-0x4a8c],_0x50c23f[0x205a*0x1+-0x1*-0x277+-0x22cb]=_0x220107[-0x14e9+0x1*0x166f+-0x180],_0x50c23f[0x14bf*-0x1+0x874+0x2*0x629]=_0x220107[0x1964*-0x1+-0x1*0x1aa1+0x340c],_0x50c23f[0xc1a*0x3+-0x3a*0x56+-0x10ca]=_0x220107[-0x64d+0x20f*-0x1+0x864],this;}['set'](_0x4a6c90){const _0x4d89d4=this['data'];return _0x4d89d4[-0x1b8b*0x1+-0xb5*0x3+0x1*0x1daa]=_0x4a6c90[0x1159*0x1+0x6+-0x115f],_0x4d89d4[-0xbdc+0x18f8+-0xb*0x131]=_0x4a6c90[-0x2*0x11c3+-0x1*-0x70f+-0x4*-0x71e],_0x4d89d4[0x40*0x52+-0x441+0x103d*-0x1]=_0x4a6c90[-0xf0c+-0x28f*0x7+0x20f7],_0x4d89d4[-0x141a+0x263*-0xc+0x30c1]=_0x4a6c90[-0x1c1a+-0x19*-0x8b+0x1*0xe8a],_0x4d89d4[-0x7*0x14f+-0x3*-0x81e+-0x3*0x50f]=_0x4a6c90[-0x9*-0x333+0x984+-0x1*0x264b],_0x4d89d4[0x285*0x6+0x194b+-0x14*0x205]=_0x4a6c90[-0x1*0x42d+0x34*0x4+0x362],_0x4d89d4[-0xe43*0x1+0x5*-0x347+0x34*0x97]=_0x4a6c90[0x42e+0x1491+-0x18b9],_0x4d89d4[-0x51*0x1b+0x1064+-0x7d2]=_0x4a6c90[-0x86*-0x42+-0x13d2+-0x47*0x35],_0x4d89d4[-0xaed*-0x3+-0x16d9*0x1+-0x9e6]=_0x4a6c90[0x2*-0xf0b+-0x1*0x230b+0x4129],this;}['getX'](_0x3cd744=new A()){return _0x3cd744['set'](this['data'][-0xc42+-0xd7f+0x19c1],this['data'][0x1342+0xb*0x1d2+-0x2747*0x1],this['data'][-0x13*0x6b+-0x1b0a+0x22fd]);}['getY'](_0x516608=new A()){return _0x516608['set'](this['data'][0x1d88+-0x25e0+0x85b],this['data'][0x468+-0x1075*-0x2+0x5*-0x776],this['data'][-0x158f+0xf30+0x664]);}['getZ'](_0x46f220=new A()){return _0x46f220['set'](this['data'][0x11d6+-0x1540+0x370],this['data'][-0x50d*0x2+0x1ea5+-0x34*0x65],this['data'][0x1a3e*0x1+0x5db+0x2011*-0x1]);}['equals'](_0x35afc5){const _0x290ba5=this['data'],_0x26fd68=_0x35afc5['data'];return _0x290ba5[0x71*0x10+0x1449+-0x1b59]===_0x26fd68[-0x24ba*-0x1+-0x1*-0x9d0+-0xa1*0x4a]&&_0x290ba5[0x3*0x16b+-0x22d5+0x1*0x1e95]===_0x26fd68[-0xe81+0x24b4+0xb19*-0x2]&&_0x290ba5[-0x1551+-0x1d47+-0x7f*-0x66]===_0x26fd68[0x80e*-0x2+0x5*-0x6d5+0x3247]&&_0x290ba5[-0x1*-0x12f9+-0x13f*0x15+-0x267*-0x3]===_0x26fd68[-0x1b*0x6d+-0x2d9+0x5*0x2df]&&_0x290ba5[-0xa93*-0x1+0xc28+-0x16b7]===_0x26fd68[0xc53*-0x2+0x15d*-0xd+0x3*0xe21]&&_0x290ba5[-0x5*-0x2f6+0x1*-0x64d+-0x16a*0x6]===_0x26fd68[-0x1*-0x2522+0x163b+-0x3b58]&&_0x290ba5[-0x815*-0x2+0x8*0x2fe+-0x2814]===_0x26fd68[0x17ce+0x9c0+-0x2*0x10c4]&&_0x290ba5[0x1eb4+-0x2645+-0x48*-0x1b]===_0x26fd68[0x1efa+-0x1f*-0x7d+0x2*-0x170b]&&_0x290ba5[-0xa17+0x7*-0x4e9+0x2c7e]===_0x26fd68[0x17*0x57+-0xa2d+0x99*0x4];}['isIdentity'](){const _0x37e7b9=this['data'];return _0x37e7b9[0x303*-0x1+-0xe2*-0x26+0x1*-0x1e89]===0xd*0x253+0x124b+-0x3081&&_0x37e7b9[-0x494*-0x1+0xc8c*0x2+0x23*-0xd9]===0x1b0f+0x1302+-0x2e11&&_0x37e7b9[0x1cf5+-0x187a+-0x479]===0x448+0xd97+-0x393*0x5&&_0x37e7b9[-0xba4*0x3+0x953+0xcce*0x2]===-0x4*0xb3+-0xb*0x9b+-0x327*-0x3&&_0x37e7b9[-0x2198+-0x229e+0x2*0x221d]===-0x4e5*-0x2+0xf7*-0x9+-0x11a&&_0x37e7b9[0x16c*0x7+-0x7*-0x30a+-0x1f35]===0x4c+0x2f*-0x43+0x1*0xc01&&_0x37e7b9[0x1*0x1219+-0x1642+-0x42f*-0x1]===0x1dbe+-0x8b4+-0x150a*0x1&&_0x37e7b9[-0x70*0x2a+-0x2f3+-0xaad*-0x2]===0x1*-0x1e8e+0x541+0x194d&&_0x37e7b9[0x8*-0x2f+0x2682+-0x2502]===-0x2*0x78e+-0x335+0x1252;}['setIdentit'+'y'](){const _0x1302e6=this['data'];return _0x1302e6[0x8*-0x4d5+0xb15+0x1b93]=0xf0c+0x13ab+-0xb92*0x3,_0x1302e6[0x37*-0x4b+-0x1ff4+0x3012]=0x555+-0x10*0x26c+0x5*0x6af,_0x1302e6[-0x1*0x72e+0x1fb4*-0x1+0x4*0x9b9]=-0x2196+-0x195b+0xbf*0x4f,_0x1302e6[-0x9cb*-0x3+-0x1*-0x2531+-0x60d*0xb]=-0x960+0x1*0x1223+0x8c3*-0x1,_0x1302e6[-0x163f+-0x33+-0xfa*-0x17]=-0xf10+0x1d43+0x17*-0x9e,_0x1302e6[-0x2*0x11cf+0x3*0x103+0x209a]=-0x2e9+-0xd1d*0x1+0x1006,_0x1302e6[0x13f+-0xbdd+-0xc*-0xe3]=0x213e+-0x23d4+0x14b*0x2,_0x1302e6[0x7d+-0x3*0x463+0xcb3*0x1]=0x1eb6+-0x926+-0x1590,_0x1302e6[0x53*0x1+-0x22e2+-0x325*-0xb]=0x11*-0x153+-0x37*0x76+0x17ef*0x2,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x1ec1e5=this){const _0x3d64de=_0x1ec1e5['data'],_0xb0385b=this['data'];if(_0x3d64de===_0xb0385b){let _0x353207;_0x353207=_0x3d64de[-0x29c*0xa+0x1*-0x66+0x1a7f],_0xb0385b[0x43*-0x62+-0x53*0x5d+0x2*0x1be7]=_0x3d64de[-0x1*0x1387+0x22b+0x115f*0x1],_0xb0385b[0xb99*-0x1+-0x1c54+0x4fe*0x8]=_0x353207,_0x353207=_0x3d64de[-0x4*-0x1c+-0x64*-0xf+-0x64a],_0xb0385b[-0x47*0x71+0x17a8+0x1*0x7b1]=_0x3d64de[0x8ed+0x1*0xc43+-0x152a],_0xb0385b[-0x114c+-0x1*-0xe99+0x2b9*0x1]=_0x353207,_0x353207=_0x3d64de[-0x806+-0x23c9+0x2bd4],_0xb0385b[-0x3a*0x1e+-0x1d08+0x23d9]=_0x3d64de[0x5b9*-0x4+-0x1f40+0x362b],_0xb0385b[-0x1*-0x277+-0x1*-0x2479+0x26e9*-0x1]=_0x353207;}else _0xb0385b[0x1b9c+-0x20b*0x7+0x1*-0xd4f]=_0x3d64de[0x1a5*-0x6+-0x76*0x2+-0xaca*-0x1],_0xb0385b[-0x1a04+0x2c5*0x6+0x967]=_0x3d64de[-0x498+0xcf2*0x3+0x3*-0xb69],_0xb0385b[0x86*0x6+-0x855+-0x79*-0xb]=_0x3d64de[-0x1538+-0x18*-0x129+-0x34d*0x2],_0xb0385b[-0x13be+-0x1bf*0x6+0x1e3b]=_0x3d64de[0x2d7+0x3a*-0x97+0x1f60],_0xb0385b[-0x1124+0x1728+-0x10*0x60]=_0x3d64de[0x14c2+-0x9b*-0x37+-0x360b],_0xb0385b[0x18a6+-0x78*-0x8+-0x1c61]=_0x3d64de[-0x90b+-0x2*-0x71+0x830],_0xb0385b[0x1bef+-0x1*0x16af+-0x53a]=_0x3d64de[-0x910+0x2cf+-0x1*-0x643],_0xb0385b[-0x25bd*0x1+-0xb40+0x3104]=_0x3d64de[0x1c2d*-0x1+-0x6d*-0x9+-0x81f*-0x3],_0xb0385b[0x96e+-0x1*-0x4d2+0x38e*-0x4]=_0x3d64de[0x1*-0x1ecb+-0x7c8+0x269b];return this;}['setFromMat'+'4'](_0x244ffe){const _0x45f567=_0x244ffe['data'],_0x281f69=this['data'];return _0x281f69[0x623+-0xc0b+0x5e8]=_0x45f567[-0x166*-0x2+-0x1f*0x17+-0x3],_0x281f69[0x1939+-0x4+-0x1934]=_0x45f567[0x2*0x12e7+0x657*-0x5+-0x61a],_0x281f69[0x2*0xdaf+0x2175+-0x3cd1*0x1]=_0x45f567[0x2d2+0x2ef+0x1*-0x5bf],_0x281f69[0x3*-0x664+-0x129+0x516*0x4]=_0x45f567[-0x236*-0x7+0x4*0x2ef+-0x1b32],_0x281f69[0x1*0x1ee3+-0x103d+-0xea2]=_0x45f567[0x4e7*0x5+0x76c*-0x2+0x5*-0x1ee],_0x281f69[0x1780+0x5a7*-0x1+0x4*-0x475]=_0x45f567[0x1626+-0x557*0x2+0x125*-0xa],_0x281f69[-0x2306+0x12e9+0x1023]=_0x45f567[0x12e1+-0x16e0+0x407],_0x281f69[0x16c7+0x1f7c+-0x2*0x1b1e]=_0x45f567[0x14f*0x14+-0x227*0x2+0xcf*-0x1b],_0x281f69[-0x342*-0xb+-0x81*0x5+-0x2149*0x1]=_0x45f567[0x1a2d+0x1336*-0x1+-0x6ed],this;}['setFromQua'+'t'](_0x48ca1a){const _0x4f3758=_0x48ca1a['x'],_0x5439ba=_0x48ca1a['y'],_0x7a453e=_0x48ca1a['z'],_0x5847c6=_0x48ca1a['w'],_0x5ede88=_0x4f3758+_0x4f3758,_0xb0d81=_0x5439ba+_0x5439ba,_0x3d3527=_0x7a453e+_0x7a453e,_0x1ade8c=_0x4f3758*_0x5ede88,_0x405578=_0x4f3758*_0xb0d81,_0x810009=_0x4f3758*_0x3d3527,_0x339d66=_0x5439ba*_0xb0d81,_0x41f3d4=_0x5439ba*_0x3d3527,_0x29f954=_0x7a453e*_0x3d3527,_0x1f9833=_0x5847c6*_0x5ede88,_0x2529c1=_0x5847c6*_0xb0d81,_0x6f8b3d=_0x5847c6*_0x3d3527,_0x4e3ecb=this['data'];return _0x4e3ecb[0xc4*-0x1a+0x1*-0x10be+-0x24a6*-0x1]=-0x2c4+-0x19a7+0x4*0x71b-(_0x339d66+_0x29f954),_0x4e3ecb[0x2200+0x129+0x1194*-0x2]=_0x405578+_0x6f8b3d,_0x4e3ecb[0x78c*-0x2+-0x2a*-0x37+0x4*0x185]=_0x810009-_0x2529c1,_0x4e3ecb[0xc35+-0x1*0xc7a+0x12*0x4]=_0x405578-_0x6f8b3d,_0x4e3ecb[-0x1b1d+-0xd5*-0x1+-0xcc*-0x21]=0x1*0x1520+0x1*-0x2042+0xb23-(_0x1ade8c+_0x29f954),_0x4e3ecb[-0x12c3+-0x3bf+0x1*0x1687]=_0x41f3d4+_0x1f9833,_0x4e3ecb[-0xde2+0x97e+0x1*0x46a]=_0x810009+_0x2529c1,_0x4e3ecb[-0xfa3+-0xe50+0x6*0x4ff]=_0x41f3d4-_0x1f9833,_0x4e3ecb[0x8*-0x2+0x1bc6+0x1bae*-0x1]=-0x626*0x1+-0x82e+0x4c7*0x3-(_0x1ade8c+_0x339d66),this;}['invertMat4'](_0x5d12d2){const _0x3f7f70=_0x5d12d2['data'],_0x5f2753=_0x3f7f70[0x1b76+0xb2d*0x1+-0x26a3],_0xdf01d6=_0x3f7f70[0x1826+-0x2099+-0x2*-0x43a],_0x28b45f=_0x3f7f70[0x9*-0x15a+0x17a0+-0xb74],_0x504973=_0x3f7f70[0x2692*0x1+0x184+-0x2812],_0x2a6c99=_0x3f7f70[0x12f1+-0x3fb*0x3+-0x6fb],_0x1459ac=_0x3f7f70[-0x1a*0xa9+-0x59*-0x1+0x10d7],_0x14bc61=_0x3f7f70[0x7*-0x89+0xee8*0x1+-0xb21],_0x4fb04f=_0x3f7f70[-0x12*0x131+0x7a1+0xdda],_0x4f3e96=_0x3f7f70[0x1345+-0x1*-0xec3+-0x21fe],_0x533e81=_0x4f3e96*_0x2a6c99-_0x1459ac*_0x4fb04f,_0xa1ae3b=-_0x4f3e96*_0xdf01d6+_0x28b45f*_0x4fb04f,_0x2fe18d=_0x1459ac*_0xdf01d6-_0x28b45f*_0x2a6c99,_0x560844=-_0x4f3e96*_0x504973+_0x1459ac*_0x14bc61,_0x1d6ab1=_0x4f3e96*_0x5f2753-_0x28b45f*_0x14bc61,_0x1022f3=-_0x1459ac*_0x5f2753+_0x28b45f*_0x504973,_0x3dafe9=_0x4fb04f*_0x504973-_0x2a6c99*_0x14bc61,_0x144b9f=-_0x4fb04f*_0x5f2753+_0xdf01d6*_0x14bc61,_0x338d02=_0x2a6c99*_0x5f2753-_0xdf01d6*_0x504973,_0x3ff965=_0x5f2753*_0x533e81+_0xdf01d6*_0x560844+_0x28b45f*_0x3dafe9;if(_0x3ff965===0x7*-0x2c9+0xc2a+-0x1*-0x755)this['setIdentit'+'y']();else{const _0x6ec3e5=(0x1*-0x8ef+0x18d1+0x32d*-0x5)/_0x3ff965,_0x316688=this['data'];_0x316688[0x20b6+0x206a+0x4120*-0x1]=_0x533e81*_0x6ec3e5,_0x316688[-0x11e0+-0x22f9+0x34da]=_0xa1ae3b*_0x6ec3e5,_0x316688[0x210*0x8+0x960+0x1d9*-0xe]=_0x2fe18d*_0x6ec3e5,_0x316688[0x2171+-0x2ba+0x106*-0x1e]=_0x560844*_0x6ec3e5,_0x316688[-0x1551+-0x1*0x9c8+0x87*0x3b]=_0x1d6ab1*_0x6ec3e5,_0x316688[0x1*-0x4cd+-0xeac+0x137e]=_0x1022f3*_0x6ec3e5,_0x316688[-0x3d6*-0x3+-0x1e3a+0x2*0x95f]=_0x3dafe9*_0x6ec3e5,_0x316688[-0x1bb*0x7+0x1*-0x269f+0x73*0x71]=_0x144b9f*_0x6ec3e5,_0x316688[0x1*-0x11e3+-0x1748+-0x35*-0xc7]=_0x338d02*_0x6ec3e5;}return this;}['transformV'+'ector'](_0x1a5272,_0x320588=new A()){const _0x408b2a=this['data'],{x:_0x5bb843,y:_0x2a3715,z:_0x26f14a}=_0x1a5272;return _0x320588['x']=_0x5bb843*_0x408b2a[0x16f9*0x1+-0x580*0x4+0xf9*-0x1]+_0x2a3715*_0x408b2a[-0x1ebd*0x1+0x1*0x13e5+0xadb]+_0x26f14a*_0x408b2a[-0x1f*0xba+0x22*0x6f+0x7ce],_0x320588['y']=_0x5bb843*_0x408b2a[-0x25*-0x1a+0xa64+-0xe25]+_0x2a3715*_0x408b2a[0x23bf*-0x1+-0x229b+0x465e]+_0x26f14a*_0x408b2a[-0x1b2*-0x4+-0x433+-0x28e],_0x320588['z']=_0x5bb843*_0x408b2a[-0x113*0x1+0x1*0x1fb5+-0x10*0x1ea]+_0x2a3715*_0x408b2a[0x163*-0xe+0x91*0x19+-0x5a*-0xf]+_0x26f14a*_0x408b2a[-0x19a*-0x15+0x2*0xf1f+-0x3fd8],_0x320588;}};c(oa,'IDENTITY',Object['freeze'](new oa())),c(oa,'ZERO',Object['freeze'](new oa()['set']([-0x2bf+0x1d0c+0x1*-0x1a4d,-0x1551+-0x51+0x15a2,-0x1*-0x49+0x1*-0x1d5b+-0x1d12*-0x1,-0x1c61+-0x1fdb+0x3c3c,0xe2*0xe+-0xa5d*-0x3+-0x2b73,0x1*0x5cf+-0x1961+0x1392,0x16df+-0x4de+-0x1201,0x33f*-0x6+-0x1695+0x2a0f,0x1*-0x1e77+-0xe01+0x2c78])));let Js=oa;const Pt=class Pt{constructor(_0x371213=0x149e+-0x29*0x85+0x23*0x5,_0x557292=0x1fb*0x13+-0x1aa+-0x23f7){c(this,'x'),c(this,'y'),_0x371213['length']===-0x1381*-0x1+-0x2627+0x12a8?(this['x']=_0x371213[-0xf52*-0x1+0x4fd+-0x144f],this['y']=_0x371213[-0x7*-0x583+-0x1*-0x5e2+0x10f*-0x2a]):(this['x']=_0x371213,this['y']=_0x557292);}['add'](_0x34de21){return this['x']+=_0x34de21['x'],this['y']+=_0x34de21['y'],this;}['add2'](_0x22a7db,_0x17bf13){return this['x']=_0x22a7db['x']+_0x17bf13['x'],this['y']=_0x22a7db['y']+_0x17bf13['y'],this;}['addScalar'](_0x503286){return this['x']+=_0x503286,this['y']+=_0x503286,this;}['addScaled'](_0x5397cd,_0xd60dd9){return this['x']+=_0x5397cd['x']*_0xd60dd9,this['y']+=_0x5397cd['y']*_0xd60dd9,this;}['clone'](){const _0x105a33=this['constructo'+'r'];return new _0x105a33(this['x'],this['y']);}['copy'](_0x23d62c){return this['x']=_0x23d62c['x'],this['y']=_0x23d62c['y'],this;}['cross'](_0x3f5f78){return this['x']*_0x3f5f78['y']-this['y']*_0x3f5f78['x'];}['distance'](_0x48ffb9){const _0x2b6966=this['x']-_0x48ffb9['x'],_0x239c6d=this['y']-_0x48ffb9['y'];return Math['sqrt'](_0x2b6966*_0x2b6966+_0x239c6d*_0x239c6d);}['div'](_0x8eb08c){return this['x']/=_0x8eb08c['x'],this['y']/=_0x8eb08c['y'],this;}['div2'](_0x550115,_0x1fca13){return this['x']=_0x550115['x']/_0x1fca13['x'],this['y']=_0x550115['y']/_0x1fca13['y'],this;}['divScalar'](_0x4facc8){return this['x']/=_0x4facc8,this['y']/=_0x4facc8,this;}['dot'](_0x2f76aa){return this['x']*_0x2f76aa['x']+this['y']*_0x2f76aa['y'];}['equals'](_0x19e608){return this['x']===_0x19e608['x']&&this['y']===_0x19e608['y'];}['equalsAppr'+'ox'](_0x4ee338,_0x1b1aa1=0x52+0x8e9+-0x93b+0.000001){return Math['abs'](this['x']-_0x4ee338['x'])<_0x1b1aa1&&Math['abs'](this['y']-_0x4ee338['y'])<_0x1b1aa1;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x538505,_0x1d4f85,_0x44a31c){return this['x']=_0x538505['x']+_0x44a31c*(_0x1d4f85['x']-_0x538505['x']),this['y']=_0x538505['y']+_0x44a31c*(_0x1d4f85['y']-_0x538505['y']),this;}['mul'](_0x3de160){return this['x']*=_0x3de160['x'],this['y']*=_0x3de160['y'],this;}['mul2'](_0x1574b1,_0x4bf6a3){return this['x']=_0x1574b1['x']*_0x4bf6a3['x'],this['y']=_0x1574b1['y']*_0x4bf6a3['y'],this;}['mulScalar'](_0xe23793){return this['x']*=_0xe23793,this['y']*=_0xe23793,this;}['normalize'](_0x4edd96=this){const _0x3908b7=_0x4edd96['x']*_0x4edd96['x']+_0x4edd96['y']*_0x4edd96['y'];if(_0x3908b7>0x1724+-0x842*-0x2+-0x27a8){const _0x317809=(-0x167f+-0x18d5+0x2f55)/Math['sqrt'](_0x3908b7);this['x']=_0x4edd96['x']*_0x317809,this['y']=_0x4edd96['y']*_0x317809;}return this;}['rotate'](_0x883591){const _0x36fc58=Math['atan2'](this['x'],this['y'])+_0x883591*z['DEG_TO_RAD'],_0x468d1f=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x36fc58)*_0x468d1f,this['y']=Math['cos'](_0x36fc58)*_0x468d1f,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*z['RAD_TO_DEG'];}['angleTo'](_0x4a5570){return Math['atan2'](this['x']*_0x4a5570['y']+this['y']*_0x4a5570['x'],this['x']*_0x4a5570['x']+this['y']*_0x4a5570['y'])*z['RAD_TO_DEG'];}['floor'](_0x214cf3=this){return this['x']=Math['floor'](_0x214cf3['x']),this['y']=Math['floor'](_0x214cf3['y']),this;}['ceil'](_0x5e0d1d=this){return this['x']=Math['ceil'](_0x5e0d1d['x']),this['y']=Math['ceil'](_0x5e0d1d['y']),this;}['round'](_0xcd2f9e=this){return this['x']=Math['round'](_0xcd2f9e['x']),this['y']=Math['round'](_0xcd2f9e['y']),this;}['min'](_0x70054){return _0x70054['x']<this['x']&&(this['x']=_0x70054['x']),_0x70054['y']<this['y']&&(this['y']=_0x70054['y']),this;}['max'](_0x1e43c1){return _0x1e43c1['x']>this['x']&&(this['x']=_0x1e43c1['x']),_0x1e43c1['y']>this['y']&&(this['y']=_0x1e43c1['y']),this;}['set'](_0x25ecad,_0x7ed323){return this['x']=_0x25ecad,this['y']=_0x7ed323,this;}['sub'](_0x1465de){return this['x']-=_0x1465de['x'],this['y']-=_0x1465de['y'],this;}['sub2'](_0x3edff7,_0xd3a4c8){return this['x']=_0x3edff7['x']-_0xd3a4c8['x'],this['y']=_0x3edff7['y']-_0xd3a4c8['y'],this;}['subScalar'](_0x54cdb8){return this['x']-=_0x54cdb8,this['y']-=_0x54cdb8,this;}['fromArray'](_0x75d532,_0x475fb5=-0x1e2a+0xe3*-0x5+-0x1*-0x2299){return this['x']=_0x75d532[_0x475fb5]??this['x'],this['y']=_0x75d532[_0x475fb5+(-0x178d*-0x1+0xbe5+0x1*-0x2371)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x33f8ba=[],_0x2abee3=0x228f+0x712+-0x1*0x29a1){return _0x33f8ba[_0x2abee3]=this['x'],_0x33f8ba[_0x2abee3+(0x1*0x24af+-0xadf*0x3+-0x3*0x15b)]=this['y'],_0x33f8ba;}static['angleRad'](_0x554166,_0x2eae91){return Math['atan2'](_0x554166['x']*_0x2eae91['y']-_0x554166['y']*_0x2eae91['x'],_0x554166['x']*_0x2eae91['x']+_0x554166['y']*_0x2eae91['y']);}};c(Pt,'ZERO',Object['freeze'](new Pt(-0x1a69*-0x1+-0x1e98+-0x3f*-0x11,-0x60*-0x63+-0xca9+0x1877*-0x1))),c(Pt,'HALF',Object['freeze'](new Pt(-0x1a07+-0x11cd+0xe9c*0x3+0.5,-0x6f*-0x26+-0xd*0x137+-0x19*0x7+0.5))),c(Pt,'ONE',Object['freeze'](new Pt(0x1*0x25af+0xcb8+-0x3266,-0xb28*0x2+-0x24e9+0x3b3a))),c(Pt,'UP',Object['freeze'](new Pt(0x11af+0x59*0x1d+-0x1bc4,-0x1c42+-0x3*0x28c+0x2c3*0xd))),c(Pt,'DOWN',Object['freeze'](new Pt(-0x107*0x9+-0x990+0x2d*0x6b,-(0x2205+0x269e+-0x48a2)))),c(Pt,'RIGHT',Object['freeze'](new Pt(-0x27*-0x43+0x3b*0x9+-0xc47,-0x216f+0x15a1*-0x1+-0x10*-0x371))),c(Pt,'LEFT',Object['freeze'](new Pt(-(-0x17e7+0x1c73+-0x48b*0x1),-0x89d*-0x2+-0xb3*0x2f+0x1*0xfa3)));let W=Pt;const Zi=class Zi{constructor(_0x4541be=0x1503+-0x1*-0xc8e+-0x2191,_0x2cc2b3=0x1*0x133f+-0x1d3*-0x9+-0x23aa,_0x1be02c=0x6af+-0x1*0x110b+0x11*0x9c,_0x2fdf7a=-0x1*-0x192d+-0x16f0+-0x23d){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x4541be['length']===0x19b3+0x4*0x8fe+0x3*-0x148d?(this['x']=_0x4541be[0x1*-0x18b3+-0x107d+0x2930],this['y']=_0x4541be[-0x1a65*0x1+0x2526+-0x8*0x158],this['z']=_0x4541be[0x1458+0x1e14+0x326a*-0x1],this['w']=_0x4541be[-0x1505*0x1+-0x7b*-0xd+0xec9]):(this['x']=_0x4541be,this['y']=_0x2cc2b3,this['z']=_0x1be02c,this['w']=_0x2fdf7a);}['add'](_0xa0154){return this['x']+=_0xa0154['x'],this['y']+=_0xa0154['y'],this['z']+=_0xa0154['z'],this['w']+=_0xa0154['w'],this;}['add2'](_0x4a35af,_0x9ce0b9){return this['x']=_0x4a35af['x']+_0x9ce0b9['x'],this['y']=_0x4a35af['y']+_0x9ce0b9['y'],this['z']=_0x4a35af['z']+_0x9ce0b9['z'],this['w']=_0x4a35af['w']+_0x9ce0b9['w'],this;}['addScalar'](_0x4ed3ba){return this['x']+=_0x4ed3ba,this['y']+=_0x4ed3ba,this['z']+=_0x4ed3ba,this['w']+=_0x4ed3ba,this;}['addScaled'](_0x2911f2,_0x477629){return this['x']+=_0x2911f2['x']*_0x477629,this['y']+=_0x2911f2['y']*_0x477629,this['z']+=_0x2911f2['z']*_0x477629,this['w']+=_0x2911f2['w']*_0x477629,this;}['clone'](){const _0x2c8dce=this['constructo'+'r'];return new _0x2c8dce(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x5aba02){return this['x']=_0x5aba02['x'],this['y']=_0x5aba02['y'],this['z']=_0x5aba02['z'],this['w']=_0x5aba02['w'],this;}['div'](_0x5389c9){return this['x']/=_0x5389c9['x'],this['y']/=_0x5389c9['y'],this['z']/=_0x5389c9['z'],this['w']/=_0x5389c9['w'],this;}['div2'](_0x125fe9,_0x5683e5){return this['x']=_0x125fe9['x']/_0x5683e5['x'],this['y']=_0x125fe9['y']/_0x5683e5['y'],this['z']=_0x125fe9['z']/_0x5683e5['z'],this['w']=_0x125fe9['w']/_0x5683e5['w'],this;}['divScalar'](_0x1ce533){return this['x']/=_0x1ce533,this['y']/=_0x1ce533,this['z']/=_0x1ce533,this['w']/=_0x1ce533,this;}['dot'](_0x3942d5){return this['x']*_0x3942d5['x']+this['y']*_0x3942d5['y']+this['z']*_0x3942d5['z']+this['w']*_0x3942d5['w'];}['equals'](_0x41d679){return this['x']===_0x41d679['x']&&this['y']===_0x41d679['y']&&this['z']===_0x41d679['z']&&this['w']===_0x41d679['w'];}['equalsAppr'+'ox'](_0x276abd,_0x1beb87=0x23*0xd1+-0x6c5*-0x4+0x128d*-0x3+0.000001){return Math['abs'](this['x']-_0x276abd['x'])<_0x1beb87&&Math['abs'](this['y']-_0x276abd['y'])<_0x1beb87&&Math['abs'](this['z']-_0x276abd['z'])<_0x1beb87&&Math['abs'](this['w']-_0x276abd['w'])<_0x1beb87;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x4c5504,_0x203797,_0x3dc694){return this['x']=_0x4c5504['x']+_0x3dc694*(_0x203797['x']-_0x4c5504['x']),this['y']=_0x4c5504['y']+_0x3dc694*(_0x203797['y']-_0x4c5504['y']),this['z']=_0x4c5504['z']+_0x3dc694*(_0x203797['z']-_0x4c5504['z']),this['w']=_0x4c5504['w']+_0x3dc694*(_0x203797['w']-_0x4c5504['w']),this;}['mul'](_0x5b7791){return this['x']*=_0x5b7791['x'],this['y']*=_0x5b7791['y'],this['z']*=_0x5b7791['z'],this['w']*=_0x5b7791['w'],this;}['mul2'](_0x3fd8ea,_0x3129d2){return this['x']=_0x3fd8ea['x']*_0x3129d2['x'],this['y']=_0x3fd8ea['y']*_0x3129d2['y'],this['z']=_0x3fd8ea['z']*_0x3129d2['z'],this['w']=_0x3fd8ea['w']*_0x3129d2['w'],this;}['mulScalar'](_0x1ac303){return this['x']*=_0x1ac303,this['y']*=_0x1ac303,this['z']*=_0x1ac303,this['w']*=_0x1ac303,this;}['normalize'](_0x7e3574=this){const _0x41116d=_0x7e3574['x']*_0x7e3574['x']+_0x7e3574['y']*_0x7e3574['y']+_0x7e3574['z']*_0x7e3574['z']+_0x7e3574['w']*_0x7e3574['w'];if(_0x41116d>-0x2c*0x7c+-0x97f+0x1ecf){const _0x224531=(-0x113b+-0x113*-0x1f+-0x55b*0x3)/Math['sqrt'](_0x41116d);this['x']=_0x7e3574['x']*_0x224531,this['y']=_0x7e3574['y']*_0x224531,this['z']=_0x7e3574['z']*_0x224531,this['w']=_0x7e3574['w']*_0x224531;}return this;}['floor'](_0x4ebf37=this){return this['x']=Math['floor'](_0x4ebf37['x']),this['y']=Math['floor'](_0x4ebf37['y']),this['z']=Math['floor'](_0x4ebf37['z']),this['w']=Math['floor'](_0x4ebf37['w']),this;}['ceil'](_0x3a88b0=this){return this['x']=Math['ceil'](_0x3a88b0['x']),this['y']=Math['ceil'](_0x3a88b0['y']),this['z']=Math['ceil'](_0x3a88b0['z']),this['w']=Math['ceil'](_0x3a88b0['w']),this;}['round'](_0x4a86ff=this){return this['x']=Math['round'](_0x4a86ff['x']),this['y']=Math['round'](_0x4a86ff['y']),this['z']=Math['round'](_0x4a86ff['z']),this['w']=Math['round'](_0x4a86ff['w']),this;}['min'](_0x13a077){return _0x13a077['x']<this['x']&&(this['x']=_0x13a077['x']),_0x13a077['y']<this['y']&&(this['y']=_0x13a077['y']),_0x13a077['z']<this['z']&&(this['z']=_0x13a077['z']),_0x13a077['w']<this['w']&&(this['w']=_0x13a077['w']),this;}['max'](_0x1eb9e4){return _0x1eb9e4['x']>this['x']&&(this['x']=_0x1eb9e4['x']),_0x1eb9e4['y']>this['y']&&(this['y']=_0x1eb9e4['y']),_0x1eb9e4['z']>this['z']&&(this['z']=_0x1eb9e4['z']),_0x1eb9e4['w']>this['w']&&(this['w']=_0x1eb9e4['w']),this;}['set'](_0xd21e33,_0x2e03d8,_0x3bcec7,_0x35fe76){return this['x']=_0xd21e33,this['y']=_0x2e03d8,this['z']=_0x3bcec7,this['w']=_0x35fe76,this;}['sub'](_0x5926d7){return this['x']-=_0x5926d7['x'],this['y']-=_0x5926d7['y'],this['z']-=_0x5926d7['z'],this['w']-=_0x5926d7['w'],this;}['sub2'](_0x263c16,_0xc75666){return this['x']=_0x263c16['x']-_0xc75666['x'],this['y']=_0x263c16['y']-_0xc75666['y'],this['z']=_0x263c16['z']-_0xc75666['z'],this['w']=_0x263c16['w']-_0xc75666['w'],this;}['subScalar'](_0x2fa1ea){return this['x']-=_0x2fa1ea,this['y']-=_0x2fa1ea,this['z']-=_0x2fa1ea,this['w']-=_0x2fa1ea,this;}['fromArray'](_0x189830,_0x54a828=-0xbf+0x40d*-0x4+-0x1*-0x10f3){return this['x']=_0x189830[_0x54a828]??this['x'],this['y']=_0x189830[_0x54a828+(0x1a8c+0x67f+-0x1085*0x2)]??this['y'],this['z']=_0x189830[_0x54a828+(-0x1da2+0xc07*0x2+0x596)]??this['z'],this['w']=_0x189830[_0x54a828+(0xe57*0x2+0x3*0x799+-0x3376)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x40411e=[],_0x3b749c=-0x1f3*0x11+0xb*0x97+0x1aa6){return _0x40411e[_0x3b749c]=this['x'],_0x40411e[_0x3b749c+(0x4*-0x4a9+-0x1dd0+-0x3075*-0x1)]=this['y'],_0x40411e[_0x3b749c+(-0x21d+0xe62+0xc43*-0x1)]=this['z'],_0x40411e[_0x3b749c+(-0x1a0*-0xb+-0x233b+0x115e)]=this['w'],_0x40411e;}};c(Zi,'ZERO',Object['freeze'](new Zi(-0xfd9+0x55*0x7+-0x2*-0x6c3,0x31*0x2d+0x1287+-0x1b24,0x2119+0x20e6+-0xd33*0x5,-0x120a+0x11*0x123+-0x149))),c(Zi,'HALF',Object['freeze'](new Zi(0x1*-0x1313+0x322+0xff1+0.5,-0xe2d*0x2+0x1*0xa39+0x1221+0.5,-0x23ef*-0x1+-0xec2+-0x152d+0.5,-0x1bca+-0x120a*0x1+0x1*0x2dd4+0.5))),c(Zi,'ONE',Object['freeze'](new Zi(-0x1d*0x1a+-0x1*-0xc77+-0x1c*0x57,0x14*0x108+-0x9*0x24f+0x28,-0x79d*-0x1+0x1527+-0x1cc3,-0x559*-0x7+-0x326+-0x2248)));let ee=Zi;const Wa=new W(),ys=new A(),zs=new A(),Us=new A(),vl=new A(),Vr=class Vr{constructor(){c(this,'data',new Float32Array(-0x5*-0x5f3+-0xace+0x12e1*-0x1)),this['data'][-0xeb1*0x1+-0x120e*0x1+0x20bf]=this['data'][0x11c1+0x1*0x265+-0x1*0x1421]=this['data'][0x1a55+0x2353+-0xb*0x59a]=this['data'][0x95*0x29+-0x65*-0x5b+-0x3*0x13e7]=0x3*0xa97+-0x116f+-0xe55;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0xaeb538,_0x41ac6b,_0x52819d,_0x2516e9,_0x6c4364){_0x6c4364?(_0xaeb538['x']=_0x2516e9*Math['tan'](_0x41ac6b*Math['PI']/(0xc01+-0xfbc+0x1*0x523)),_0xaeb538['y']=_0xaeb538['x']/_0x52819d):(_0xaeb538['y']=_0x2516e9*Math['tan'](_0x41ac6b*Math['PI']/(-0x1*0x9eb+-0x1b2a+0xa7*0x3b)),_0xaeb538['x']=_0xaeb538['y']*_0x52819d);}['add2'](_0x4be711,_0x310f1f){const _0x2ace26=_0x4be711['data'],_0x19ae64=_0x310f1f['data'],_0x34ac93=this['data'];return _0x34ac93[-0x2e*0xb3+0x9f8*-0x2+0xf7*0x36]=_0x2ace26[-0x10e9+-0x1f7*0x9+-0x2e2*-0xc]+_0x19ae64[-0x1092+0xdf1+0x2a1],_0x34ac93[-0x1cd*-0xc+-0xc5e+0x2b*-0x37]=_0x2ace26[-0x1af3+0xbd*0x33+-0xab3]+_0x19ae64[0x21a7+-0xeb7+-0x12ef*0x1],_0x34ac93[-0x1ea2+0x2621+-0x77d]=_0x2ace26[-0x1*0x2113+-0x251*0xb+-0x10*-0x3a9]+_0x19ae64[0x808+-0x5d*-0xc+0xc62*-0x1],_0x34ac93[-0x8ca+0x15b9+-0xcec]=_0x2ace26[0x14*-0x19d+-0xcb+-0x22*-0xf9]+_0x19ae64[-0x73f+-0xdff+0x1541],_0x34ac93[0xeb8+-0x4ce+0x7*-0x16a]=_0x2ace26[-0x1*-0x2511+-0x624+-0x1ee9]+_0x19ae64[-0x12c6+-0x21de+0x34a8],_0x34ac93[-0x2*0xaf+0x1b89+0xd13*-0x2]=_0x2ace26[-0xb6d+0x5*0x6d7+-0x16c1]+_0x19ae64[0x1*0x1a5d+0xd*-0x67+-0x439*0x5],_0x34ac93[-0x3*-0xc89+0x57e+-0x2b13]=_0x2ace26[-0x836*0x4+-0x80*0x2b+0x365e]+_0x19ae64[0x1*-0x13ba+0x4f7+0xec9],_0x34ac93[0x1c77+-0x1969+-0x1f*0x19]=_0x2ace26[0x19d8+0x1581+-0x2f52]+_0x19ae64[-0x959*-0x4+0x59*0x16+-0xf01*0x3],_0x34ac93[-0x805+-0xbe0+0x13ed]=_0x2ace26[-0x293+-0x28*0xdc+-0x24fb*-0x1]+_0x19ae64[0x1*0x255d+0x1d00*-0x1+-0x855],_0x34ac93[0x181*0x1+-0xe6*-0x19+-0x17ee]=_0x2ace26[-0x2246+0x68f*-0x5+0x431a]+_0x19ae64[0x6f*0x5+-0x1921+0x1*0x16ff],_0x34ac93[-0x11f4+0x173b+0x1*-0x53d]=_0x2ace26[-0x59*-0x37+0x2b2+-0x15c7]+_0x19ae64[-0xc7*-0x17+0x20ad*0x1+0x2*-0x1942],_0x34ac93[0xdd*0x21+0xec*-0x27+0x782]=_0x2ace26[-0x65*-0x52+-0x2*0x9a7+-0xd01]+_0x19ae64[0x1*0xfee+-0x1e9c+0xeb9],_0x34ac93[-0x2312*0x1+0x5*-0x355+0x33c7]=_0x2ace26[0xe27+-0xf6c+-0x1*-0x151]+_0x19ae64[0x1c1d+-0x2098+0x487],_0x34ac93[-0x230f+0x1e82+0x49a]=_0x2ace26[-0xe01*-0x1+-0x7*-0xa4+0x14*-0xec]+_0x19ae64[0x12b9*0x1+0x3f2+0x5*-0x486],_0x34ac93[-0xc*0x48+-0xa*-0x252+-0x1*0x13c6]=_0x2ace26[-0x14c6+0x2100+-0xc2c]+_0x19ae64[-0xa*-0x183+-0x227+-0xce9],_0x34ac93[0x18df+-0x1*-0x12fa+-0x2bca]=_0x2ace26[-0x1c60+0x2*0x8c2+-0x2b*-0x41]+_0x19ae64[-0x26*0x25+-0x2432+-0x29bf*-0x1],this;}['add'](_0x2355f2){return this['add2'](this,_0x2355f2);}['clone'](){const _0x78728=this['constructo'+'r'];return new _0x78728()['copy'](this);}['copy'](_0x33ec8c){const _0x5314cf=_0x33ec8c['data'],_0x34fa74=this['data'];return _0x34fa74[0x1*0x26b3+0x31c*-0x7+-0x10ef]=_0x5314cf[-0x1*0xbc1+-0x6*0x3e2+0x230d*0x1],_0x34fa74[0x1a5d+0x1*-0x85d+-0x11ff]=_0x5314cf[0x1*-0x1877+0x4*0x2c3+-0x2*-0x6b6],_0x34fa74[0x56e+-0xa8d+0x521]=_0x5314cf[0xe52*0x2+0x259c+-0x423e],_0x34fa74[0x8de+0x12aa+-0x1b85]=_0x5314cf[-0x1039+0xfab+0x1*0x91],_0x34fa74[-0x2315+0x1285*0x1+0x1*0x1094]=_0x5314cf[0xb*0x29+-0x259f+0x23e0],_0x34fa74[0x1*0x11fb+0x1*-0x1984+-0x78e*-0x1]=_0x5314cf[0xee5+-0x6*-0x3b6+0x4*-0x949],_0x34fa74[-0x2cf*-0xb+-0x1*0x1bdf+-0x3*0x100]=_0x5314cf[-0x2136+0x26ea+-0x2*0x2d7],_0x34fa74[0x40d*0x1+-0x16f5+0x12ef]=_0x5314cf[-0x2ab*0x4+0x67*0x5+0x8b0],_0x34fa74[0x1*-0x249b+-0x55d*-0x6+0x475]=_0x5314cf[0x1c5b+-0x3*0x4df+-0xdb6],_0x34fa74[0x19*-0x16c+0xe9+0x22ac]=_0x5314cf[-0xbd3+-0xa68+0x6*0x3b6],_0x34fa74[0xeaa+-0x1f1a+0x1*0x107a]=_0x5314cf[-0xbe9+0x1b82+-0xf8f],_0x34fa74[-0x1*-0x2421+0x1*-0x17d5+-0x1*0xc41]=_0x5314cf[0x246a+-0x7*0x4ff+-0x1*0x166],_0x34fa74[0x19fd*-0x1+-0xee9*0x1+0x28f2]=_0x5314cf[0x351*-0x5+0x102*-0x9+-0x891*-0x3],_0x34fa74[-0x744+-0x526*0x3+-0x1*-0x16c3]=_0x5314cf[0x4e2+-0x18f1+-0xc6*-0x1a],_0x34fa74[0x3fb+-0x25b2+0x21c5]=_0x5314cf[-0x100b+-0x2*-0xe04+-0xbef],_0x34fa74[-0x2ed*0x5+0x2f*-0x6b+0x2255]=_0x5314cf[-0xcda*-0x2+-0x179c+-0x209],this;}['equals'](_0x5edf84){const _0x41be8a=this['data'],_0x4d134d=_0x5edf84['data'];return _0x41be8a[-0x1b*-0x12c+-0x2203+0x25f]===_0x4d134d[-0x313+0x41*0x4f+-0x10fc]&&_0x41be8a[-0x18a1*0x1+0x3*-0x9+0x3*0x83f]===_0x4d134d[0x1e3a+0x26c9+-0x4502]&&_0x41be8a[-0x3d*0x3a+-0xa86+0x3*0x81e]===_0x4d134d[-0x1d1b+-0xf7*0x1+0x1e14]&&_0x41be8a[0x1237+-0x1*-0x207d+-0x32b1*0x1]===_0x4d134d[0x2b*-0x5e+-0x1*-0x1ef9+-0xf2c]&&_0x41be8a[-0x1c46+0x20a1*-0x1+0x3ceb]===_0x4d134d[-0xa*0x274+-0x61*0x17+0x28f*0xd]&&_0x41be8a[-0x1*0x755+-0x418+0xb72]===_0x4d134d[0xd*0x2b3+-0x13b8+-0x106*0xf]&&_0x41be8a[-0x8e1+-0x1c74+0x255b]===_0x4d134d[-0xf71+-0x21e6*0x1+-0x315d*-0x1]&&_0x41be8a[0x1e*0x25+-0xcd6+0x887]===_0x4d134d[0x4b*0x76+-0x1*0x2489+-0x11*-0x1e]&&_0x41be8a[0x34+-0x1*0xe8d+-0x1*-0xe61]===_0x4d134d[-0x1659+-0x199f+0x3000]&&_0x41be8a[-0xd18+-0x1a95*-0x1+-0xd74]===_0x4d134d[0xae5*0x2+0x74*0x2+-0x16a9]&&_0x41be8a[0xb1b+0xc95+0x7e2*-0x3]===_0x4d134d[0x25b5*0x1+-0xa3*0xa+-0x1*0x1f4d]&&_0x41be8a[-0x1607+0x733*-0x3+0x2bab]===_0x4d134d[-0xa2a+-0x1*0x1d09+-0x139f*-0x2]&&_0x41be8a[0x1397+0x2a3+-0x162e]===_0x4d134d[0x1*0x1889+-0x1fb8+0x3*0x269]&&_0x41be8a[0x24e6+-0xabd+0x45a*-0x6]===_0x4d134d[-0xd3e+-0x1*-0x25db+-0x1890]&&_0x41be8a[-0x11da+-0x12b5+0x53b*0x7]===_0x4d134d[-0x1*0x2b9+0xbb1+-0xa3*0xe]&&_0x41be8a[0x9*0x2cf+0x197*0xd+-0x2de3]===_0x4d134d[-0xdc1*-0x1+-0x27f*0xd+-0x1*-0x12c1];}['isIdentity'](){const _0x7767e9=this['data'];return _0x7767e9[0x11*0x1c4+-0xac6+-0x133e]===0x2205+-0x2461+0x1*0x25d&&_0x7767e9[0xc2e*-0x1+-0x2*-0x19f+0x8f1]===0x18*0x9+0x105c+-0x44d*0x4&&_0x7767e9[0x1*0x19cf+0x1c62+-0x362f]===0xda0+-0x172*-0xc+-0x1ef8&&_0x7767e9[-0x9*-0x306+0xa*-0xc7+-0x136d]===-0x1448+-0x1229+0x2671&&_0x7767e9[0xbf8+-0x68*-0xa+0xcd*-0x14]===0xec2*0x1+0x74d+-0x160f&&_0x7767e9[-0x1b7c+-0x8*0x4d2+0xd*0x515]===-0x7*0x3f1+0x2319+-0x781&&_0x7767e9[0xea2*-0x1+0x32c*-0x3+0x1c*0xdd]===-0x215f+-0x37c*-0x1+0x1*0x1de3&&_0x7767e9[0x1e*-0xc1+-0x4*0x268+0x2ef*0xb]===-0x2641+-0x138f+-0xc8*-0x4a&&_0x7767e9[-0x1f63+0x1cd6*-0x1+0x3c41]===-0x233e+0xcdb+0x1663*0x1&&_0x7767e9[0x2*-0x533+0x10d*0x5+0x52e]===-0x3b8*0x1+0x239*0x7+-0xbd7&&_0x7767e9[0x21b2+-0x1d01+-0x4a7]===-0xcfe*0x1+0x1*-0xfde+0x1cdd&&_0x7767e9[0x11*-0x97+0x6c+-0x82*-0x13]===-0x62a+0x1*0x1945+0x1*-0x131b&&_0x7767e9[-0xd19+-0x37*0xb5+0xb4*0x4a]===-0x2*0x6a+0x9*-0x125+-0x103*-0xb&&_0x7767e9[-0x1*0x619+0x9*-0x407+-0x1*-0x2a65]===0x1a68+0xc4a+-0x6*0x673&&_0x7767e9[0x1c56+-0x1219+-0xed*0xb]===-0x1*0x18cc+-0x4b4+0x3b0*0x8&&_0x7767e9[-0x1ee7+-0x5d1*-0x5+0x25*0xd]===-0x1a60+-0xd31*0x1+0x7ea*0x5;}['mul2'](_0x2ed1bd,_0x47502e){const _0x482977=_0x2ed1bd['data'],_0x46bf7e=_0x47502e['data'],_0x515de1=this['data'],_0x8928eb=_0x482977[0x151a+0x223b+-0x3755],_0x1c7e34=_0x482977[-0xe8+-0x1879+0x1962],_0x1b5832=_0x482977[-0xd52+0x192*-0xd+0x1*0x21be],_0x2a9a31=_0x482977[0x1e29+0x1*-0x8e6+-0x1540],_0x36ad41=_0x482977[0x1*0xde7+-0xc52*-0x2+0x1*-0x2687],_0x2c7e1a=_0x482977[-0x1bbd+0x13ef+0x1*0x7d3],_0x1a77df=_0x482977[0x18ee+-0x11f7+-0x6f1],_0x2c8c8b=_0x482977[-0x1*0x2672+0xc49*0x1+-0x1a30*-0x1],_0x595c17=_0x482977[-0x1fcd+0x2365+0x390*-0x1],_0x30a237=_0x482977[0x9cc+0x221c+-0x2bdf],_0x39bde0=_0x482977[-0x2539+-0x89b*0x4+0x1*0x47af],_0x31bd40=_0x482977[0x18*0x21+-0x1903*-0x1+-0x1c10],_0x13c108=_0x482977[0x34+0x4*0x32c+-0xcd8],_0x3b6f5a=_0x482977[0xcb5+-0x1f16+0x126e],_0x4720da=_0x482977[-0x215c+-0x49d+0x2607],_0x18a976=_0x482977[-0x1*0x21b9+0x16c3+0xb05];let _0x475f75,_0x2637fe,_0x51f437,_0x4d58fd;return _0x475f75=_0x46bf7e[-0x1429+0x140d*0x1+0x4*0x7],_0x2637fe=_0x46bf7e[-0x126e+0x21+0x124e],_0x51f437=_0x46bf7e[-0x5ed+0x7*0x35+-0x11f*-0x4],_0x4d58fd=_0x46bf7e[0x2603*0x1+0x1*0x57+-0x2657],_0x515de1[-0x13+0x1d3*-0x1+0x1e6]=_0x8928eb*_0x475f75+_0x36ad41*_0x2637fe+_0x595c17*_0x51f437+_0x13c108*_0x4d58fd,_0x515de1[0x1*0x1f7c+0xb6*0x11+-0x13*0x24b]=_0x1c7e34*_0x475f75+_0x2c7e1a*_0x2637fe+_0x30a237*_0x51f437+_0x3b6f5a*_0x4d58fd,_0x515de1[0x1*0x15d5+0x2379+-0x394c]=_0x1b5832*_0x475f75+_0x1a77df*_0x2637fe+_0x39bde0*_0x51f437+_0x4720da*_0x4d58fd,_0x515de1[-0x2c*0x71+-0x54e+0x3*0x83f]=_0x2a9a31*_0x475f75+_0x2c8c8b*_0x2637fe+_0x31bd40*_0x51f437+_0x18a976*_0x4d58fd,_0x475f75=_0x46bf7e[0x5e7+-0x71e+0x9*0x23],_0x2637fe=_0x46bf7e[-0x5*-0x4c7+0x275*0xf+-0x5*0xc25],_0x51f437=_0x46bf7e[0x70d+0x183*0x9+-0x14a2],_0x4d58fd=_0x46bf7e[-0x1f*0x122+0x164f*-0x1+0x3974],_0x515de1[0xc49+-0x128+-0xb1d]=_0x8928eb*_0x475f75+_0x36ad41*_0x2637fe+_0x595c17*_0x51f437+_0x13c108*_0x4d58fd,_0x515de1[0x1*-0xc9d+-0x220f+0x2eb1]=_0x1c7e34*_0x475f75+_0x2c7e1a*_0x2637fe+_0x30a237*_0x51f437+_0x3b6f5a*_0x4d58fd,_0x515de1[-0x81a*0x2+-0x1483+0x24bd]=_0x1b5832*_0x475f75+_0x1a77df*_0x2637fe+_0x39bde0*_0x51f437+_0x4720da*_0x4d58fd,_0x515de1[0x328+0x1e4a+-0x5*0x6af]=_0x2a9a31*_0x475f75+_0x2c8c8b*_0x2637fe+_0x31bd40*_0x51f437+_0x18a976*_0x4d58fd,_0x475f75=_0x46bf7e[-0x53*0x34+-0x2*-0x113d+-0x8cb*0x2],_0x2637fe=_0x46bf7e[-0x1*0x1307+0x1997*-0x1+-0x2ca7*-0x1],_0x51f437=_0x46bf7e[0x4*-0x47b+0xc5f+0x597],_0x4d58fd=_0x46bf7e[0x120d+0x1a62+-0x2c64],_0x515de1[0xc*-0x203+-0x10d*-0xc+0xb90]=_0x8928eb*_0x475f75+_0x36ad41*_0x2637fe+_0x595c17*_0x51f437+_0x13c108*_0x4d58fd,_0x515de1[0xc*-0x244+-0xa13*0x2+-0x43*-0xb5]=_0x1c7e34*_0x475f75+_0x2c7e1a*_0x2637fe+_0x30a237*_0x51f437+_0x3b6f5a*_0x4d58fd,_0x515de1[-0x1*-0xef5+-0x10*-0x22a+-0x318b]=_0x1b5832*_0x475f75+_0x1a77df*_0x2637fe+_0x39bde0*_0x51f437+_0x4720da*_0x4d58fd,_0x515de1[-0x20b9+0x1d*-0x108+0x3eac]=_0x2a9a31*_0x475f75+_0x2c8c8b*_0x2637fe+_0x31bd40*_0x51f437+_0x18a976*_0x4d58fd,_0x475f75=_0x46bf7e[0xe66+-0x12f5+-0x189*-0x3],_0x2637fe=_0x46bf7e[-0x104*-0x25+0x19cb+-0x3f52],_0x51f437=_0x46bf7e[-0x1290+0xa63*-0x2+-0x4*-0x9d9],_0x4d58fd=_0x46bf7e[-0x78+-0x14c*-0x10+-0x1439],_0x515de1[-0x253b+0x1fb2+0x595]=_0x8928eb*_0x475f75+_0x36ad41*_0x2637fe+_0x595c17*_0x51f437+_0x13c108*_0x4d58fd,_0x515de1[0x1*-0x12d3+0x3ea+-0x5*-0x2fe]=_0x1c7e34*_0x475f75+_0x2c7e1a*_0x2637fe+_0x30a237*_0x51f437+_0x3b6f5a*_0x4d58fd,_0x515de1[-0xba0+0x353*-0x4+0x2*0xc7d]=_0x1b5832*_0x475f75+_0x1a77df*_0x2637fe+_0x39bde0*_0x51f437+_0x4720da*_0x4d58fd,_0x515de1[-0x2419+0x7f*0xf+-0x1*-0x1cb7]=_0x2a9a31*_0x475f75+_0x2c8c8b*_0x2637fe+_0x31bd40*_0x51f437+_0x18a976*_0x4d58fd,this;}['mulAffine2'](_0x37efd3,_0x3d492d){const _0x113a09=_0x37efd3['data'],_0x546026=_0x3d492d['data'],_0xc40dc0=this['data'],_0x36c929=_0x113a09[-0x210b+0x843+0x2*0xc64],_0x2928ed=_0x113a09[0x5*0x673+-0x1*-0x796+0x1*-0x27d4],_0x1e497e=_0x113a09[-0xa*0x6e+-0x4a*-0xd+0x8c*0x1],_0x35d4e5=_0x113a09[0xb5f+-0x17*0x6+-0x27*0x47],_0x560819=_0x113a09[0x222c+-0x1*-0x16e+-0x2395],_0x27429f=_0x113a09[-0x150c+-0x1c2d+-0x7*-0x709],_0x251465=_0x113a09[0x1*0xdb4+0x49c+-0x1248],_0x47b38d=_0x113a09[0x2047+-0x3*0x35e+-0x34*0x6d],_0x40a9cb=_0x113a09[0xfc*0x24+0x2c*0x2c+-0x2af6],_0xd17e8=_0x113a09[0x27*0xd4+-0x3e7*0x2+-0x1872],_0x3153c0=_0x113a09[-0x13*-0xd3+0xe24+-0x1dc0],_0x50af45=_0x113a09[-0x1359+-0x1e43*0x1+0x31aa];let _0x309031,_0x10e0ca,_0x185c3b;return _0x309031=_0x546026[0x1099+0x2*0x5b7+-0x23*0xcd],_0x10e0ca=_0x546026[-0x71*-0x2+0xd4c+0x1*-0xe2d],_0x185c3b=_0x546026[-0x1249+0x8c6*-0x1+0x1b11],_0xc40dc0[-0x2267+-0x12d9+0x40*0xd5]=_0x36c929*_0x309031+_0x35d4e5*_0x10e0ca+_0x251465*_0x185c3b,_0xc40dc0[-0xac2+0x20ef*-0x1+0x2bb2]=_0x2928ed*_0x309031+_0x560819*_0x10e0ca+_0x47b38d*_0x185c3b,_0xc40dc0[0x1*-0x1b31+0x6f2+0x40d*0x5]=_0x1e497e*_0x309031+_0x27429f*_0x10e0ca+_0x40a9cb*_0x185c3b,_0xc40dc0[0x1852+0xec2+-0x89*0x49]=0xdfd*-0x1+-0x1207*-0x2+-0x1611,_0x309031=_0x546026[0x12ce+0x218f+-0x3459],_0x10e0ca=_0x546026[-0x206a+-0x1cfc+-0x1479*-0x3],_0x185c3b=_0x546026[0xd*-0x116+0xa*0x2c3+-0x4b*0x2e],_0xc40dc0[-0x15aa+0x198e+-0x7c*0x8]=_0x36c929*_0x309031+_0x35d4e5*_0x10e0ca+_0x251465*_0x185c3b,_0xc40dc0[0x1bb*0x1+-0x2*-0x10bd+0x1198*-0x2]=_0x2928ed*_0x309031+_0x560819*_0x10e0ca+_0x47b38d*_0x185c3b,_0xc40dc0[-0x22cf+0x700+0x1bd5]=_0x1e497e*_0x309031+_0x27429f*_0x10e0ca+_0x40a9cb*_0x185c3b,_0xc40dc0[0x1ed7+0xa9*0xa+0x1*-0x256a]=0x1*0xa0d+0x4*-0x926+0x1a8b,_0x309031=_0x546026[-0x1099+-0x624+0x797*0x3],_0x10e0ca=_0x546026[-0x215+0x2*-0xb1b+-0x1*-0x1854],_0x185c3b=_0x546026[0x11c2+0xcc7*0x2+0xbf*-0x3a],_0xc40dc0[-0xcce+-0x20b*0xd+0x2765]=_0x36c929*_0x309031+_0x35d4e5*_0x10e0ca+_0x251465*_0x185c3b,_0xc40dc0[-0x340+-0x5*-0x3c9+-0xfa4]=_0x2928ed*_0x309031+_0x560819*_0x10e0ca+_0x47b38d*_0x185c3b,_0xc40dc0[-0x23ce+-0x324+-0xa*-0x3e6]=_0x1e497e*_0x309031+_0x27429f*_0x10e0ca+_0x40a9cb*_0x185c3b,_0xc40dc0[-0xf7a+-0x5b3+0x308*0x7]=0x1*0x805+-0x11*0xbf+0x4aa,_0x309031=_0x546026[-0x13bd+0x2257*-0x1+0x1b10*0x2],_0x10e0ca=_0x546026[0xda*0x2b+0x8c0+-0x2d51],_0x185c3b=_0x546026[-0x3*0x570+-0x269e+0x36fc],_0xc40dc0[0x1bab+0x1719+-0x195c*0x2]=_0x36c929*_0x309031+_0x35d4e5*_0x10e0ca+_0x251465*_0x185c3b+_0xd17e8,_0xc40dc0[-0x324*0x5+0x3*0xb51+-0x112*0x11]=_0x2928ed*_0x309031+_0x560819*_0x10e0ca+_0x47b38d*_0x185c3b+_0x3153c0,_0xc40dc0[-0x1*0x1609+0x1*-0x141e+0x871*0x5]=_0x1e497e*_0x309031+_0x27429f*_0x10e0ca+_0x40a9cb*_0x185c3b+_0x50af45,_0xc40dc0[0x876+0x59*0x11+-0xe50]=-0x153*0xd+0x2477+-0x17b*0xd,this;}['mul'](_0x59d050){return this['mul2'](this,_0x59d050);}['transformP'+'oint'](_0x33dc1c,_0x49ae48=new A()){const _0xe55c1a=this['data'],{x:_0x233227,y:_0x733569,z:_0x35b639}=_0x33dc1c;return _0x49ae48['x']=_0x233227*_0xe55c1a[0xf*0xda+-0x2297+-0x45d*-0x5]+_0x733569*_0xe55c1a[-0x1*-0x11e3+0x161f+0x1*-0x27fe]+_0x35b639*_0xe55c1a[-0x12*0xfb+0xa1*-0x1d+-0x5*-0x72f]+_0xe55c1a[-0xc6f*0x2+0x117e+0x4c*0x19],_0x49ae48['y']=_0x233227*_0xe55c1a[0x7a*-0xf+0x16dc+0xfb5*-0x1]+_0x733569*_0xe55c1a[0x1*-0x2503+0x2627+-0x11f]+_0x35b639*_0xe55c1a[-0x13*-0xc1+-0x167*-0xa+-0x1c50]+_0xe55c1a[-0x2643+0x89*-0x46+-0x35*-0x16e],_0x49ae48['z']=_0x233227*_0xe55c1a[0x1*0x1df+0x257f+0x1*-0x275c]+_0x733569*_0xe55c1a[-0x19dc+0x131*-0x13+0x3085]+_0x35b639*_0xe55c1a[0x3c9+0x6ad*-0x1+0x2ee]+_0xe55c1a[0x205d+-0xb*0x21b+0x2*-0x493],_0x49ae48;}['transformV'+'ector'](_0x2fd15f,_0x495e83=new A()){const _0x514157=this['data'],{x:_0x25ce8f,y:_0x3a686e,z:_0x15fcf2}=_0x2fd15f;return _0x495e83['x']=_0x25ce8f*_0x514157[-0x11ad*-0x2+-0x15*-0x6b+-0x2c21]+_0x3a686e*_0x514157[-0xcd6*0x1+-0x4a*-0x5f+-0x44*0x37]+_0x15fcf2*_0x514157[0x7ab*0x2+-0x26a*-0x1+-0x11b8],_0x495e83['y']=_0x25ce8f*_0x514157[0xf37+0x49d+-0x13d3]+_0x3a686e*_0x514157[-0x1*-0xc0b+0x9ee+0x15f4*-0x1]+_0x15fcf2*_0x514157[0x1*-0x16bb+-0x2160+0x3824],_0x495e83['z']=_0x25ce8f*_0x514157[-0x3ce*-0x6+0x29*-0xdf+0xce5]+_0x3a686e*_0x514157[-0x1c07+0x19*0xb9+0xc*0xd5]+_0x15fcf2*_0x514157[0xd83+-0xa3*-0x1a+-0x1e07],_0x495e83;}['transformV'+'ec4'](_0x418e4b,_0x41a5d9=new ee()){const _0x1cf565=this['data'],{x:_0x398226,y:_0x45e952,z:_0x2c1085,w:_0xfceaa0}=_0x418e4b;return _0x41a5d9['x']=_0x398226*_0x1cf565[0x2318+0x22fe+-0x1*0x4616]+_0x45e952*_0x1cf565[-0x2e*-0x8b+0x5*0x24b+-0x246d]+_0x2c1085*_0x1cf565[0x9a9+0x17a2+-0x2143]+_0xfceaa0*_0x1cf565[-0x1*0xc1f+-0x2e7*-0x5+-0x258],_0x41a5d9['y']=_0x398226*_0x1cf565[-0xd8a+-0x9cd*-0x1+0x3be]+_0x45e952*_0x1cf565[-0xcf2+0x14d0+-0x7d9]+_0x2c1085*_0x1cf565[0x1*-0x1483+-0x241c+0x38a8]+_0xfceaa0*_0x1cf565[0x1702+0x24a1*0x1+-0x107*0x3a],_0x41a5d9['z']=_0x398226*_0x1cf565[0x1f67+-0x11de*0x1+-0xd87]+_0x45e952*_0x1cf565[0xc*0x56+-0x4bb+0xb9*0x1]+_0x2c1085*_0x1cf565[-0x1fa6+0x1cb5*0x1+0x6d*0x7]+_0xfceaa0*_0x1cf565[0xe96*-0x2+0x37a*-0x1+0xb6*0x2e],_0x41a5d9['w']=_0x398226*_0x1cf565[-0x22*0xd7+0x1e78+0x1e7*-0x1]+_0x45e952*_0x1cf565[-0x2468+-0x3*-0x7f+0x22f2]+_0x2c1085*_0x1cf565[-0x140b+0x244e+-0x1038]+_0xfceaa0*_0x1cf565[-0x1279+-0x35*0xa7+0x1*0x351b],_0x41a5d9;}['setLookAt'](_0x508698,_0x132492,_0x2b01f1){Us['sub2'](_0x508698,_0x132492)['normalize'](),zs['copy'](_0x2b01f1)['normalize'](),ys['cross'](zs,Us)['normalize'](),zs['cross'](Us,ys);const _0x2bc643=this['data'];return _0x2bc643[0x7*0x4b1+0xfb*-0x2+-0x1ee1]=ys['x'],_0x2bc643[-0x5*-0x70a+-0x1081*0x1+-0x12b0]=ys['y'],_0x2bc643[-0x3f+-0x1687*-0x1+-0x1646]=ys['z'],_0x2bc643[0x1*-0x45d+0x52*0x4d+-0xe*0x173]=0x8*-0xb1+-0x1077+0x15ff,_0x2bc643[-0x26*0xc5+-0x26f6+0x4a*0xec]=zs['x'],_0x2bc643[0x1b65+-0x1851+-0x105*0x3]=zs['y'],_0x2bc643[-0x1e5*-0xa+0x1db6+-0x30a2]=zs['z'],_0x2bc643[0x17fd+0x164c+-0x2e42]=0x1a58+-0x1738+-0x50*0xa,_0x2bc643[-0xb31+0xc01+-0xc8]=Us['x'],_0x2bc643[-0x71*0x3b+-0xb*-0x299+0xd5*-0x3]=Us['y'],_0x2bc643[0x196d+0xf8b+0xa9*-0x3e]=Us['z'],_0x2bc643[-0x1*-0x129a+0x217+-0x14a6*0x1]=0x237*-0xb+-0x1c2*0x8+0x266d,_0x2bc643[0x5*0x27b+-0xe3d*0x1+0x1e2]=_0x508698['x'],_0x2bc643[-0x37b+0x4f2*0x3+-0x2*0x5a7]=_0x508698['y'],_0x2bc643[-0x2c0+-0x1c41*0x1+0x1*0x1f0f]=_0x508698['z'],_0x2bc643[-0x1*0x859+0x1e63+-0x15fb]=-0x3*-0x32d+0x1*0x1a1d+0xbe1*-0x3,this;}['setFrustum'](_0x8912c6,_0x18c950,_0x5df696,_0x554395,_0x5b729a,_0x2634fa){const _0x34e1a9=(-0x1893+-0x1e1b+0x4*0xdac)*_0x5b729a,_0x481e3a=_0x18c950-_0x8912c6,_0x23b301=_0x554395-_0x5df696,_0xd97075=_0x2634fa-_0x5b729a,_0x4c83df=this['data'];return _0x4c83df[0x1f8a+0x416+-0x23a0]=_0x34e1a9/_0x481e3a,_0x4c83df[-0xdf7+0xb2d+0x2cb]=0xe5d*-0x2+0xed4+0x1*0xde6,_0x4c83df[-0x1*0x113e+0x194+0x3b*0x44]=0x48*-0x2+0x550+-0x4c0,_0x4c83df[0x21*-0x11c+-0x110a*0x1+-0x13*-0x2d3]=0x68c+-0x3*0x902+-0x1*-0x147a,_0x4c83df[0x481+0x1c9b+0x584*-0x6]=0xb3b+0x20ad+-0x2be8,_0x4c83df[0x92c+0x2f*0xa+0x1d*-0x61]=_0x34e1a9/_0x23b301,_0x4c83df[0xf*-0xf6+0x239d+-0x152d*0x1]=-0x93b+-0x2*0x11d9+0x2ced*0x1,_0x4c83df[0x2399+-0x474*0x5+0xd*-0x106]=0x22f+0x1*0x14ba+-0x16e9,_0x4c83df[0x15*-0x18f+0x15f5+0xace]=(_0x18c950+_0x8912c6)/_0x481e3a,_0x4c83df[0x1*-0xec2+0x59*0x29+0x8a]=(_0x554395+_0x5df696)/_0x23b301,_0x4c83df[0x1d*-0x12a+0x154*-0x10+-0x34*-0x10f]=(-_0x2634fa-_0x5b729a)/_0xd97075,_0x4c83df[0x1*0x18b6+-0x1628*-0x1+0x1*-0x2ed3]=-(-0x138f+-0x101f+-0x2d*-0xcb),_0x4c83df[0x17a9+-0x1fb8+0x81b]=-0x2f*-0x88+0x43*-0x33+-0xb9f,_0x4c83df[0x4b5+0x35*-0x28+-0x20*-0x1d]=0x1c1+-0x139*-0x1d+-0x2536,_0x4c83df[-0x4*0x734+-0x24*-0xd+0x1b0a]=-_0x34e1a9*_0x2634fa/_0xd97075,_0x4c83df[-0x1a14*0x1+0x6*-0x295+-0x1*-0x29a1]=-0x49e+0xf*-0x1ed+-0x3*-0xb2b,this;}['setPerspec'+'tive'](_0x5e5b0c,_0x5315bb,_0x3f7bfd,_0x1a9d09,_0x2b4e02){return Vr['_getPerspe'+'ctiveHalfS'+'ize'](Wa,_0x5e5b0c,_0x5315bb,_0x3f7bfd,_0x2b4e02),this['setFrustum'](-Wa['x'],Wa['x'],-Wa['y'],Wa['y'],_0x3f7bfd,_0x1a9d09);}['setOrtho'](_0x896bdb,_0x277336,_0x4a7b5d,_0x4c48fc,_0x2303e9,_0x716cf5){const _0x321d83=this['data'];return _0x321d83[0xb*0xd1+0x1*-0x2225+0x192a]=(-0x2392+0x1*-0x227f+-0x1*-0x4613)/(_0x277336-_0x896bdb),_0x321d83[-0x46e+-0x2315+0x2784]=-0x26ea+0x1466+-0xa*-0x1da,_0x321d83[0xffa+0x223*-0x10+0x1238]=0x1*0x25b3+-0x95*-0x5+-0x289c,_0x321d83[0xf*0x28f+0x1651+-0x3caf]=-0x92*-0x37+-0x45f+-0x1aff,_0x321d83[-0x11*-0x23b+0x6a3*0x2+0x110f*-0x3]=-0xa0*-0x20+-0x1*0x1471+0x1*0x71,_0x321d83[-0x982+-0xb74*-0x1+-0x1ed]=(-0x2662+0xa73+0x137*0x17)/(_0x4c48fc-_0x4a7b5d),_0x321d83[-0x4a2+0x1*0x692+-0x1ea]=-0x1*-0x14bd+0x20ce+-0x3*0x11d9,_0x321d83[0x190*-0x3+0x1b30+-0x1679]=0x11b1*-0x1+0xc57+0x1*0x55a,_0x321d83[0xa25*0x1+-0x9cc+0x3*-0x1b]=0x1*-0x1309+-0x64*0xd+-0x181d*-0x1,_0x321d83[0xff2*-0x2+0x245f+-0x472]=0x98e+-0x91b+-0x17*0x5,_0x321d83[0x402+0x5da*-0x2+0x16*0x5a]=-(-0x5*0xc3+0x37*-0x36+-0xf6b*-0x1)/(_0x716cf5-_0x2303e9),_0x321d83[0x119e+0x1229+-0x23bc*0x1]=-0x196b+0x19b8+-0x4d,_0x321d83[0x3e+0x43c+-0x46e]=-(_0x277336+_0x896bdb)/(_0x277336-_0x896bdb),_0x321d83[0xab*0x13+-0x10b+0xb99*-0x1]=-(_0x4c48fc+_0x4a7b5d)/(_0x4c48fc-_0x4a7b5d),_0x321d83[0x6f*-0x27+-0x1fad+-0x236*-0x16]=-(_0x716cf5+_0x2303e9)/(_0x716cf5-_0x2303e9),_0x321d83[0xcd5*-0x1+0x1f80+-0x129c]=0x11e8+-0x25dc+-0xd*-0x189,this;}['setFromAxi'+'sAngle'](_0x3f8244,_0xe2cbc5){_0xe2cbc5*=z['DEG_TO_RAD'];const {x:_0x1f951e,y:_0x23272a,z:_0x3d1252}=_0x3f8244,_0x1a9d52=Math['cos'](_0xe2cbc5),_0x4f3152=Math['sin'](_0xe2cbc5),_0x5cbd7e=0x14*0x6d+0x152f+0x6*-0x4f3-_0x1a9d52,_0x5a40b0=_0x5cbd7e*_0x1f951e,_0xb73844=_0x5cbd7e*_0x23272a,_0x54c1e0=this['data'];return _0x54c1e0[0x409*0x4+-0x1*-0x19c7+0x7*-0x5fd]=_0x5a40b0*_0x1f951e+_0x1a9d52,_0x54c1e0[0x1*0x2361+-0x3*-0xa97+-0x4325]=_0x5a40b0*_0x23272a+_0x4f3152*_0x3d1252,_0x54c1e0[-0x13*-0x135+0x18c+-0x1879]=_0x5a40b0*_0x3d1252-_0x4f3152*_0x23272a,_0x54c1e0[0x43a*0x6+-0x5*0x52+0x17bf*-0x1]=-0x76*0x1+0x6e4+-0x66e,_0x54c1e0[0x21e4+-0x1779*-0x1+0x115*-0x35]=_0x5a40b0*_0x23272a-_0x4f3152*_0x3d1252,_0x54c1e0[-0xa8d*-0x1+0x21af+-0x2c37]=_0xb73844*_0x23272a+_0x1a9d52,_0x54c1e0[-0x3*-0xb89+0x1*-0x101+-0x865*0x4]=_0xb73844*_0x3d1252+_0x4f3152*_0x1f951e,_0x54c1e0[-0x10f1*0x1+0xaae+0x64a]=-0xcef+-0x1*-0x90a+0x1*0x3e5,_0x54c1e0[-0x109*-0x20+0x1c41+0x417*-0xf]=_0x5a40b0*_0x3d1252+_0x4f3152*_0x23272a,_0x54c1e0[-0x1*0x1d1d+0xa12+0x1314]=_0xb73844*_0x3d1252-_0x1f951e*_0x4f3152,_0x54c1e0[-0x2513+-0x2c5*-0x4+0x1a09]=_0x5cbd7e*_0x3d1252*_0x3d1252+_0x1a9d52,_0x54c1e0[-0x63*-0x2f+0xe51+0xad1*-0x3]=0xa*-0x34a+0x1192+0xf52,_0x54c1e0[-0x15*-0x123+-0x1fa*0xe+0x3d9]=0x1537+-0xb9d*0x1+-0x99a,_0x54c1e0[-0xb*-0x6d+0x191*0x13+0x1*-0x2265]=0x607*-0x1+-0x1e5d+-0x4*-0x919,_0x54c1e0[-0x45f*0x5+-0x1*-0xe87+0x762]=0x80d+-0x24d4*0x1+0x1*0x1cc7,_0x54c1e0[0x6*0x377+0x2412+-0x189*0x25]=0x2be+0x79*-0x32+-0x14e5*-0x1,this;}['setTransla'+'te'](_0x545bfa,_0x3075f8,_0x100cf7){const _0x15cd67=this['data'];return _0x15cd67[0x1d7a+-0x1f76+0x1fc]=0x1bdf*-0x1+-0x225*-0x1+0x19bb,_0x15cd67[0x1314+0xc93+-0x1fa6]=0x376+0x5e1*0x5+-0x287*0xd,_0x15cd67[-0xe8f*0x2+-0x10e3*0x2+-0x53*-0xc2]=-0x2*0xa87+-0x280*0x3+-0x2*-0xe47,_0x15cd67[0x237d+-0x2342*0x1+-0x38]=-0x89f*-0x2+-0x19a*-0x4+0xbd3*-0x2,_0x15cd67[-0xef9+0x15b6+-0x6b9]=0xda*-0x2a+-0x1*-0xac7+0x1*0x18fd,_0x15cd67[-0x16ed*0x1+0x4cd*0x5+0x1*-0x10f]=-0x7f4*0x1+-0x1b20+0x2315,_0x15cd67[-0x11ab*0x1+-0x1*-0x1265+-0x6*0x1e]=0x10af+-0x22da+0x1*0x122b,_0x15cd67[0x265*-0x1+-0x3d7+0x643]=0x229b+0x1a9+-0x2444,_0x15cd67[0x1b0f+0x1*0x1073+-0x2b7a]=-0x1ba7+0x2*0x70b+0x17*0x97,_0x15cd67[0x23c7+-0xca1+-0x171d]=0x2*0xbfc+-0x1*0x1a87+0x28f,_0x15cd67[0x7e1+0x1f56+-0x272d]=-0x12db+-0x1fbd+0x1*0x3299,_0x15cd67[-0x13*0x119+-0x13fa+0x28e0]=0x2078+0x11df+-0x3257,_0x15cd67[0x18*-0xa1+-0x467+0x138b]=_0x545bfa,_0x15cd67[0x10a*0x5+-0x3*-0x84a+-0x27*0xc5]=_0x3075f8,_0x15cd67[0x11bb+-0x44*-0x35+0xb*-0x2e3]=_0x100cf7,_0x15cd67[0xa03+0x14e0+-0x1ed4]=0x269b+-0x11*-0x83+0x2f4d*-0x1,this;}['setScale'](_0x20e999,_0x42a17c,_0x5a2eac){const _0x2c6505=this['data'];return _0x2c6505[-0x14e7+0x1*-0x1264+0x274b]=_0x20e999,_0x2c6505[0x7c6*-0x1+-0x17f7+0x1de*0x11]=0xb7*-0x26+-0x2f*0xa2+-0x25f*-0x18,_0x2c6505[0x11cf+-0x412+-0x5f*0x25]=-0x2*-0xed1+-0x44e*0x4+-0xc6a,_0x2c6505[-0x40e+0x13ad+-0xf9c]=-0x184d+0x3*-0xa7a+0x37bb*0x1,_0x2c6505[-0x6dc+-0x1130+0x1810]=-0x19dc+-0xcc8+-0x26a4*-0x1,_0x2c6505[0x9b*-0xf+-0x1b1*-0x1+0x769*0x1]=_0x42a17c,_0x2c6505[0xb*0x247+0x4f*0x39+-0x1*0x2a9e]=-0x99*-0x41+0x4be*-0x1+-0x221b*0x1,_0x2c6505[-0x851*0x1+0x1*0x1a65+-0x1*0x120d]=-0x108*-0x1+0x1021+-0x1129,_0x2c6505[-0x2544+-0x11f5*-0x1+0x1*0x1357]=-0xd2a+0x1ded+-0x10c3,_0x2c6505[-0x148*0x3+-0x8ba*-0x1+-0x11*0x49]=-0xfd4*-0x2+-0x12ac*0x1+-0x67e*0x2,_0x2c6505[-0x4*-0x5e4+0x1681+-0x2e07*0x1]=_0x5a2eac,_0x2c6505[0x1*-0x1647+-0x2191+0xfb*0x39]=-0x8*0x315+-0xf38+-0x160*-0x1d,_0x2c6505[0x347*-0xb+-0x1*0xa6+0x24bf]=0x65*-0x59+0x1*-0x2650+0x1*0x496d,_0x2c6505[0x1900+0x2fe*0x2+-0x1*0x1eef]=-0x2*-0x123d+-0x219c+-0x2de,_0x2c6505[-0x1*-0x4d9+-0xc5f*0x2+0x1*0x13f3]=-0x1e3a+-0x2357+0x45f*0xf,_0x2c6505[-0x1*-0x253d+-0x1f74+-0x2dd*0x2]=-0xd*-0x16f+-0x158+-0x114a,this;}['setViewpor'+'t'](_0x45d7e1,_0x35f478,_0x401c57,_0x2155bb){const _0xbafdb0=this['data'];return _0xbafdb0[-0x2*-0xd4e+0x88d+0x2329*-0x1]=_0x401c57*(0x2*-0x4fa+0x26dd*0x1+-0x1*0x1ce9+0.5),_0xbafdb0[-0xdbb*0x1+-0x10d*-0x21+-0x14f1]=0xec3+0x2212+0x30d5*-0x1,_0xbafdb0[-0x16f0+-0x15b*0x1a+-0x428*-0xe]=-0x20fc*0x1+-0x1fe3*-0x1+-0x119*-0x1,_0xbafdb0[0x2440+-0x5*0x323+-0x148e]=0x43*-0x56+-0x2d4*0x2+0x1c2a,_0xbafdb0[0x12ac+-0x67*-0x2d+-0x24c3]=0xbcb*-0x2+-0x16b2+0x2e48,_0xbafdb0[0x4*0x75c+0x1378+-0x5*0x9c7]=_0x2155bb*(-0x1*-0x56f+0x1c85+0x1*-0x21f4+0.5),_0xbafdb0[0x2*-0xef+-0x5*0x625+0x2f7*0xb]=-0x1*-0x256b+0x2*0x3f1+-0x2d4d,_0xbafdb0[0x1917+0x1be9+-0x34f9]=0x158d+0x49*-0x1+-0x1544,_0xbafdb0[-0x6*0x392+0xf0b+0x669*0x1]=-0x3*0x2f2+0x1c1*0x8+0x23*-0x26,_0xbafdb0[0x2d*0x2f+-0x959*0x1+-0x29*-0x7]=-0x1ec7*-0x1+0x2366+-0x422d,_0xbafdb0[0xa3c*0x1+-0x207c+-0x3b7*-0x6]=-0xb10*-0x2+-0x21d4+0x5da*0x2+0.5,_0xbafdb0[0xf*-0x23+-0x26*-0xe2+-0x1f74]=-0x82d+-0x1d14*-0x1+-0x14e7*0x1,_0xbafdb0[0x308*0x7+-0x1317+-0x215*0x1]=_0x45d7e1+_0x401c57*(0x35*0x8e+-0x12e7*0x1+-0xa7f+0.5),_0xbafdb0[-0x12a3+0x1*-0x1b8e+0x2e3e]=_0x35f478+_0x2155bb*(0xa51*-0x2+0x252f+-0x108d*0x1+0.5),_0xbafdb0[0x4*0x324+-0xe6+0x5ce*-0x2]=0xcea+0x1d6f+-0x1*0x2a59+0.5,_0xbafdb0[0x559*0x2+0x1c44+0x1*-0x26e7]=0xc9d*0x2+0x137b+-0x2cb4,this;}['setReflect'+'ion'](_0x131934,_0x4939f9){const _0x2e170f=_0x131934['x'],_0x1d3f96=_0x131934['y'],_0x1af7a6=_0x131934['z'],_0x4d6bc9=this['data'];return _0x4d6bc9[-0x2099+0x1781+0x123*0x8]=0x10bd+-0x18ce+0x812-(-0x1e68+0x2*-0x127d+-0x4*-0x10d9)*_0x2e170f*_0x2e170f,_0x4d6bc9[0xfb1+0x14e9+-0x2499]=-(-0x41b+-0xb61*-0x3+-0x1e06)*_0x2e170f*_0x1d3f96,_0x4d6bc9[-0x1d*0x79+0x10d5+0x2*-0x18f]=-(-0x1*-0x2180+-0x455*0x6+0x3c0*-0x2)*_0x2e170f*_0x1af7a6,_0x4d6bc9[-0x2a9*-0x1+0x1d6e*-0x1+-0x2*-0xd64]=-0x49*-0x25+0x439+0xec6*-0x1,_0x4d6bc9[0x20bf+-0x391*0x1+0x2*-0xe95]=-(-0x246e+-0x36d+0x27dd)*_0x2e170f*_0x1d3f96,_0x4d6bc9[0x33b*-0x1+0x9*0x7a+-0x1*0x10a]=0x17*-0x14c+-0x23d*-0xd+0xbc-(-0x1*-0x26a4+0x229+-0x28cb)*_0x1d3f96*_0x1d3f96,_0x4d6bc9[-0x1104+0x1*-0xe02+0x1f0c]=-(-0x222a+-0x73a+0x1*0x2966)*_0x1d3f96*_0x1af7a6,_0x4d6bc9[0xc6+0xfcd+-0x108c]=0x1176+-0x4*-0x94+0x13c6*-0x1,_0x4d6bc9[0x181f+0x1*0x21c1+-0x39d8]=-(0xc51*0x3+-0x1*-0x1875+-0x3d66)*_0x2e170f*_0x1af7a6,_0x4d6bc9[0x266c+-0xa51+0xe09*-0x2]=-(0x108e+0x57d+-0x1609)*_0x1d3f96*_0x1af7a6,_0x4d6bc9[0x1de+-0xdc+-0x3e*0x4]=0x1*0x21ca+0x19aa+-0x3b73-(0xf94+-0x73e+-0x854)*_0x1af7a6*_0x1af7a6,_0x4d6bc9[-0x1*0xe57+0xab2*-0x3+0x2e78]=-0x726+-0x1060+-0xbc3*-0x2,_0x4d6bc9[-0xe*0x16c+-0x1992+0x1*0x2d86]=-(0xdc7+-0x110e+-0x1d*-0x1d)*_0x2e170f*_0x4939f9,_0x4d6bc9[0xc41*-0x3+0x1679+0xe57]=-(0x1*0x2107+0x5*-0x13d+-0x1ad4*0x1)*_0x1d3f96*_0x4939f9,_0x4d6bc9[0x96b*-0x3+0x62*-0x52+0x1ed*0x1f]=-(0xa2f+-0x11*-0x21b+-0x2*0x16fc)*_0x1af7a6*_0x4939f9,_0x4d6bc9[-0x16c0+-0x2446+-0x3b15*-0x1]=-0xa3b+0xe09*-0x2+-0x2*-0x1327,this;}['invert'](_0x357530=this){const _0x3747f0=_0x357530['data'],_0x52a93e=_0x3747f0[0x5fe+0x2419+0x2a17*-0x1],_0x13671c=_0x3747f0[-0x1dc2+-0x686+0x2449],_0x266318=_0x3747f0[0x19d2*0x1+0x20c+-0x1bdc],_0x5b9369=_0x3747f0[0x25c7+0x160d+0x3bd1*-0x1],_0x5d2820=_0x3747f0[0x1ebc+-0x73*0x4d+-0x3df*-0x1],_0x1916b0=_0x3747f0[0xbd0+0x19a0*0x1+-0x3*0xc79],_0x1af160=_0x3747f0[-0x266b+0x1*-0x18fd+0x3f6e],_0x21463f=_0x3747f0[0xca9*-0x1+0xc3b*-0x3+0x3161*0x1],_0x516162=_0x3747f0[-0x1*0x1c65+-0x1c92+0x1*0x38ff],_0x1f48cf=_0x3747f0[0xca2+-0xe5*0x2+-0xacf*0x1],_0x3a844a=_0x3747f0[-0x5*0x40d+0xe49+0x602*0x1],_0x1c475d=_0x3747f0[-0x971*0x4+0x11d5+0x9fd*0x2],_0x7ea471=_0x3747f0[0x9f1+-0x201e+-0x1*-0x1639],_0x3327d9=_0x3747f0[0x919+0x1*-0x566+-0x3a6],_0x4e4199=_0x3747f0[-0x4*0x7b5+-0x1d*0x70+0x2*0x15c9],_0x5ec795=_0x3747f0[0x1fdb+0x147*0x17+-0x3d2d],_0x38c624=_0x52a93e*_0x1916b0-_0x13671c*_0x5d2820,_0x329946=_0x52a93e*_0x1af160-_0x266318*_0x5d2820,_0x446744=_0x52a93e*_0x21463f-_0x5b9369*_0x5d2820,_0x6b6c97=_0x13671c*_0x1af160-_0x266318*_0x1916b0,_0x1df201=_0x13671c*_0x21463f-_0x5b9369*_0x1916b0,_0x22f9dd=_0x266318*_0x21463f-_0x5b9369*_0x1af160,_0xb07da9=_0x516162*_0x3327d9-_0x1f48cf*_0x7ea471,_0x2fc3ab=_0x516162*_0x4e4199-_0x3a844a*_0x7ea471,_0x4d83cf=_0x516162*_0x5ec795-_0x1c475d*_0x7ea471,_0x14e356=_0x1f48cf*_0x4e4199-_0x3a844a*_0x3327d9,_0x34da86=_0x1f48cf*_0x5ec795-_0x1c475d*_0x3327d9,_0x548491=_0x3a844a*_0x5ec795-_0x1c475d*_0x4e4199,_0x410424=_0x38c624*_0x548491-_0x329946*_0x34da86+_0x446744*_0x14e356+_0x6b6c97*_0x4d83cf-_0x1df201*_0x2fc3ab+_0x22f9dd*_0xb07da9;if(_0x410424===0x1da8+-0x1*-0x68f+0x1*-0x2437)this['setIdentit'+'y']();else{const _0x42a1e3=(-0x8+-0x8f3*0x1+-0x2e*-0x32)/_0x410424,_0x3ca553=this['data'];_0x3ca553[0x98*0x7+0x568+-0x990]=(_0x1916b0*_0x548491-_0x1af160*_0x34da86+_0x21463f*_0x14e356)*_0x42a1e3,_0x3ca553[0x51*0x1f+0x6d9*-0x1+-0x2f5]=(-_0x13671c*_0x548491+_0x266318*_0x34da86-_0x5b9369*_0x14e356)*_0x42a1e3,_0x3ca553[0x7a*0x1f+0x20*-0x96+0x3fc]=(_0x3327d9*_0x22f9dd-_0x4e4199*_0x1df201+_0x5ec795*_0x6b6c97)*_0x42a1e3,_0x3ca553[-0x5*-0x568+-0x17*0x2c+0x1711*-0x1]=(-_0x1f48cf*_0x22f9dd+_0x3a844a*_0x1df201-_0x1c475d*_0x6b6c97)*_0x42a1e3,_0x3ca553[0x1*0x1895+-0xc1*0x29+0x658]=(-_0x5d2820*_0x548491+_0x1af160*_0x4d83cf-_0x21463f*_0x2fc3ab)*_0x42a1e3,_0x3ca553[0x428+0x1a86+-0x1ea9]=(_0x52a93e*_0x548491-_0x266318*_0x4d83cf+_0x5b9369*_0x2fc3ab)*_0x42a1e3,_0x3ca553[-0x31c*-0x2+0x1d10+-0x2342]=(-_0x7ea471*_0x22f9dd+_0x4e4199*_0x446744-_0x5ec795*_0x329946)*_0x42a1e3,_0x3ca553[-0x3d*-0x5b+0x1b61+-0x3109]=(_0x516162*_0x22f9dd-_0x3a844a*_0x446744+_0x1c475d*_0x329946)*_0x42a1e3,_0x3ca553[0x21e+-0x1*-0x75b+-0x971]=(_0x5d2820*_0x34da86-_0x1916b0*_0x4d83cf+_0x21463f*_0xb07da9)*_0x42a1e3,_0x3ca553[-0xcde+0x1bd2+-0x39*0x43]=(-_0x52a93e*_0x34da86+_0x13671c*_0x4d83cf-_0x5b9369*_0xb07da9)*_0x42a1e3,_0x3ca553[-0x212*-0xc+0xa4c+-0x231a]=(_0x7ea471*_0x1df201-_0x3327d9*_0x446744+_0x5ec795*_0x38c624)*_0x42a1e3,_0x3ca553[-0xd*-0x28f+0x19a2+0x1b*-0x22e]=(-_0x516162*_0x1df201+_0x1f48cf*_0x446744-_0x1c475d*_0x38c624)*_0x42a1e3,_0x3ca553[0x4*0x2b9+0x1*0x21cb+0x1*-0x2ca3]=(-_0x5d2820*_0x14e356+_0x1916b0*_0x2fc3ab-_0x1af160*_0xb07da9)*_0x42a1e3,_0x3ca553[0x1*0x832+-0x2382*0x1+0x1b5d]=(_0x52a93e*_0x14e356-_0x13671c*_0x2fc3ab+_0x266318*_0xb07da9)*_0x42a1e3,_0x3ca553[-0x3*-0x557+-0x1a7d+0xa86]=(-_0x7ea471*_0x6b6c97+_0x3327d9*_0x329946-_0x4e4199*_0x38c624)*_0x42a1e3,_0x3ca553[0xbb*0x28+-0x9*0x44f+-0x99e*-0x1]=(_0x516162*_0x6b6c97-_0x1f48cf*_0x329946+_0x3a844a*_0x38c624)*_0x42a1e3;}return this;}['set'](_0x320c27){const _0x48e283=this['data'];return _0x48e283[-0xb*-0x1a5+-0x4*-0x47d+0x1*-0x240b]=_0x320c27[0xd3d*-0x1+-0x3e*-0x9e+-0x1907],_0x48e283[-0x35*0x99+0x2*-0x2dd+0x2568]=_0x320c27[0x8a*0x31+0x17f*0x8+0x189*-0x19],_0x48e283[-0x76*-0x2f+0x2620*0x1+-0x3bc8]=_0x320c27[-0x25ca+0x2*0xc14+-0x6*-0x246],_0x48e283[0x213a+0x1dd0+-0x3f07]=_0x320c27[-0xb8*-0x28+0x18f3+-0x35b0*0x1],_0x48e283[0x2624+0x1e55+-0x4475]=_0x320c27[0x9a9+-0xa9*-0x3a+-0x2fef],_0x48e283[0x1f51+0xda4+-0x2cf0]=_0x320c27[0x1c7b+-0x13*0x49+-0x170b],_0x48e283[0x5e*0x3e+-0x517*-0x1+-0x39*0x7d]=_0x320c27[-0x16ad+0x69f+-0x157*-0xc],_0x48e283[-0x1e47*-0x1+0x29d*0x5+-0x2b51]=_0x320c27[-0x3*0x505+0xc48+-0x2*-0x167],_0x48e283[0x1376+0x1*-0xb08+-0x2*0x433]=_0x320c27[0x13ad*-0x1+-0xd*0x18b+0x27c4],_0x48e283[-0x2a0+0x1a86+-0x17dd*0x1]=_0x320c27[-0x19e6+0x1*-0x52e+0x375*0x9],_0x48e283[-0x1c4b*0x1+-0x317*0x5+0x2bc8]=_0x320c27[0x322+0x280*-0xc+0x1ae8],_0x48e283[0x1c69+0x1c*-0x112+-0x1*-0x19a]=_0x320c27[-0x1*-0x235f+-0x4cd*-0x3+-0x31bb],_0x48e283[0x13*-0xf7+-0x281*-0x1+0x3f8*0x4]=_0x320c27[0x1796+0x13*0x1a3+-0x36a3],_0x48e283[0x18c5+0xc*-0x15a+-0x880]=_0x320c27[-0x23c4+-0x24da*0x1+-0x1dd*-0x27],_0x48e283[-0x100e+0x37d*-0x1+-0x1*-0x1399]=_0x320c27[-0x1*0x907+0x65*-0x51+-0x66*-0x67],_0x48e283[0xd*-0xd0+0x10f6+-0x657]=_0x320c27[0x1d30+-0x7*-0x32d+-0x335c],this;}['setIdentit'+'y'](){const _0x11c93c=this['data'];return _0x11c93c[0x26b6+0x1*0xae7+-0xd*0x3d1]=0x2466+-0x186d+-0xbf8,_0x11c93c[0x4*0x21f+-0x80e+-0x6d]=-0x1*0x146c+-0xf*-0xc7+0x8c3*0x1,_0x11c93c[0x1bd1+-0x12a6+-0x7*0x14f]=0x924+0xb*-0x49+-0x601,_0x11c93c[-0x2446+-0x239b*-0x1+-0x3a*-0x3]=-0x1105+0xd31*0x1+-0xe*-0x46,_0x11c93c[0x1*0x247f+-0x1*-0x443+0x7*-0x5d2]=0xa76*-0x1+0x67a*0x4+0x1*-0xf72,_0x11c93c[-0x1a84+0x2*0x10+0x1*0x1a69]=-0x685+-0x5*-0x383+-0x71*0x19,_0x11c93c[-0x1da0+-0x1*0x2399+0x413f]=0x169+-0x231c+0x21b3,_0x11c93c[0x1880+-0x22de+0x377*0x3]=0x1c3f+-0x160d+-0x1a*0x3d,_0x11c93c[-0x1*-0x164f+-0xa3d*0x3+0x870]=-0x94e+-0x449*-0x5+0x1d*-0x6b,_0x11c93c[0x1*-0x1cc3+-0x9f4+0xa0*0x3e]=-0xe8a+0x1c4b+0xdc1*-0x1,_0x11c93c[-0x3af+-0x5d1*0x6+0x269f]=0xe24+0x25bd+0x53*-0xa0,_0x11c93c[0x1*0xf01+0x628*0x1+0x2*-0xa8f]=-0x2191+0x1795*-0x1+0x3926,_0x11c93c[-0x2524+-0xaa4*-0x3+0x544*0x1]=0x235b+-0x1f7*-0x1+-0x2552,_0x11c93c[-0xecd+-0x529*-0x1+0x9b1]=-0xb47*0x3+-0x1785+0x395a,_0x11c93c[-0x37e*0x4+-0xd84+0x1b8a]=0x22ae+-0x8e+0x6*-0x5b0,_0x11c93c[-0xea1+-0x72+0xf22]=-0x1a93+-0x1319+0x2dad,this;}['setTRS'](_0x1d8759,_0xc40a13,_0x211035){const _0x2f2233=_0xc40a13['x'],_0x306191=_0xc40a13['y'],_0x27f0f0=_0xc40a13['z'],_0x45ab69=_0xc40a13['w'],_0xa5ca60=_0x211035['x'],_0xcf5535=_0x211035['y'],_0x2589f4=_0x211035['z'],_0xd52ff1=_0x2f2233+_0x2f2233,_0x440376=_0x306191+_0x306191,_0x35b728=_0x27f0f0+_0x27f0f0,_0x1517e9=_0x2f2233*_0xd52ff1,_0x3df3ad=_0x2f2233*_0x440376,_0x5b9c0c=_0x2f2233*_0x35b728,_0x467b75=_0x306191*_0x440376,_0xf7c555=_0x306191*_0x35b728,_0x162e26=_0x27f0f0*_0x35b728,_0x272b00=_0x45ab69*_0xd52ff1,_0x49f529=_0x45ab69*_0x440376,_0x37aa6e=_0x45ab69*_0x35b728,_0x551d60=this['data'];return _0x551d60[0x16ee+-0x1a*0x71+-0xb74]=(0x24e6+0xda+-0x3*0xc95-(_0x467b75+_0x162e26))*_0xa5ca60,_0x551d60[-0x1614+-0x1997+0x2fac]=(_0x3df3ad+_0x37aa6e)*_0xa5ca60,_0x551d60[0x126f+-0x1936+0x6c9]=(_0x5b9c0c-_0x49f529)*_0xa5ca60,_0x551d60[-0x592*0x1+-0x3*-0x95e+-0x1685]=-0x156c+0x9b4+0x5dc*0x2,_0x551d60[0x6*-0x23b+-0x15f8+-0x3*-0xbca]=(_0x3df3ad-_0x37aa6e)*_0xcf5535,_0x551d60[0x18ad+-0x1522+-0x386*0x1]=(-0x1*0x2434+0x918+-0x277*-0xb-(_0x1517e9+_0x162e26))*_0xcf5535,_0x551d60[0x28*0xef+0x526*0x2+0x35*-0xe6]=(_0xf7c555+_0x272b00)*_0xcf5535,_0x551d60[0x2a9*-0x3+0x2b5+0x54d]=-0x687+0x204d+-0x19c6,_0x551d60[0x1e99+-0x2038+0x1*0x1a7]=(_0x5b9c0c+_0x49f529)*_0x2589f4,_0x551d60[-0x7*-0x352+-0x10d1+-0x664]=(_0xf7c555-_0x272b00)*_0x2589f4,_0x551d60[0x2669*-0x1+-0x1c+0x268f*0x1]=(-0x1*-0x256b+0x1af0+0x202d*-0x2-(_0x1517e9+_0x467b75))*_0x2589f4,_0x551d60[-0x1fa5*0x1+0x2*-0xd0a+0x4*0xe71]=0x13f3+-0x946*0x4+0x1125,_0x551d60[0x1232+0x2667+-0x388d]=_0x1d8759['x'],_0x551d60[-0x66f*0x1+0x131*0x11+0xdc5*-0x1]=_0x1d8759['y'],_0x551d60[0x702+0x3*0xb24+-0x1430*0x2]=_0x1d8759['z'],_0x551d60[0x105f+0x10f*0x3+-0x137d*0x1]=-0x1cf6+0x227c+-0x585,this;}['transpose'](_0x1c6089=this){const _0x367bd4=_0x1c6089['data'],_0xd4cfdc=this['data'];if(_0x367bd4===_0xd4cfdc){let _0x4407a2;_0x4407a2=_0x367bd4[0x4fd+-0x5*-0x62b+-0x1*0x23d3],_0xd4cfdc[0x731*-0x3+0x427*-0x4+-0x1*-0x2630]=_0x367bd4[0x23d2+0x4a3*-0x5+0x3*-0x435],_0xd4cfdc[0x2*-0x12ee+-0x19*0xf2+0x1ec1*0x2]=_0x4407a2,_0x4407a2=_0x367bd4[-0x217b+-0x2*-0x20f+0x1d5f*0x1],_0xd4cfdc[-0x20e2+0x1a9+-0x41*-0x7b]=_0x367bd4[0x33*0xf+0xe94+0x43*-0x43],_0xd4cfdc[-0x59f*-0x3+-0x2*0x10ee+0x1107*0x1]=_0x4407a2,_0x4407a2=_0x367bd4[-0x1*-0x92+0x7*-0x2b0+0x1241],_0xd4cfdc[-0x1*0x841+0x737*-0x2+0xa6*0x23]=_0x367bd4[-0x550+0x31*-0x65+0x2b*0x93],_0xd4cfdc[0x47b+-0x125*0x18+0x1*0x1709]=_0x4407a2,_0x4407a2=_0x367bd4[-0xba3*0x1+-0xfdc+-0x1*-0x1b85],_0xd4cfdc[-0x1d*0x44+0x178+0x642]=_0x367bd4[-0x12bb+0x1799+-0x4d5],_0xd4cfdc[-0x1*-0x2267+-0x1a35*0x1+-0x829]=_0x4407a2,_0x4407a2=_0x367bd4[0x2355+-0xc3*0x25+0x1*-0x71f],_0xd4cfdc[-0x1*0x13c+0x1e31+-0x1cee]=_0x367bd4[-0x1a58+-0x27*0x14+0x1d71],_0xd4cfdc[0xa01+-0x20f1+-0x499*-0x5]=_0x4407a2,_0x4407a2=_0x367bd4[-0xc16+0xeac+-0x28b],_0xd4cfdc[-0x37d*0x4+0x1c17+-0xe18]=_0x367bd4[-0xd23+0x10c+-0x1*-0xc25],_0xd4cfdc[0x118f+-0x1*-0xe6e+-0x1fef]=_0x4407a2;}else _0xd4cfdc[0x23b8+0xb22+-0x1*0x2eda]=_0x367bd4[0x1d79+-0x14b1+-0x1*0x8c8],_0xd4cfdc[-0x1259+-0x21*0x17+0x1551]=_0x367bd4[-0x1*0x3bf+-0xb82+0x517*0x3],_0xd4cfdc[-0x1f97*-0x1+0x1867*-0x1+-0x72e]=_0x367bd4[-0x2190+0x1*0x106f+0x17*0xbf],_0xd4cfdc[-0x526+-0xb9b+-0x1d*-0x94]=_0x367bd4[0x13*-0x7f+-0x503+-0x4*-0x39f],_0xd4cfdc[-0x15a*-0x13+0x112f*0x1+-0x2ad9]=_0x367bd4[-0x1*0x15f5+-0x7*-0xc5+-0x1*-0x1093],_0xd4cfdc[0x7c3+-0xaca*-0x2+-0x1d52]=_0x367bd4[0x1*-0x2621+0x989+0x1c9d],_0xd4cfdc[-0x144*-0x1b+0x1609+-0x382f]=_0x367bd4[-0x1367+0x2*-0xf23+0x31b6],_0xd4cfdc[-0x76f+0x1*0x20ed+-0x1977]=_0x367bd4[0x2336+-0xe*-0xd7+-0x1*0x2eeb],_0xd4cfdc[-0x24a7+-0x599*0x6+0x4645]=_0x367bd4[0x1ea6+-0xa0b+0x1*-0x1499],_0xd4cfdc[0x26e*0x2+0x204d+-0x2520]=_0x367bd4[-0x14f7+-0x4*-0x6c5+-0x617*0x1],_0xd4cfdc[-0x8b5*-0x1+-0x2527*0x1+-0x1c7c*-0x1]=_0x367bd4[0x2*0xc8f+-0x182e+0x2*-0x73],_0xd4cfdc[0xf28+-0x2*-0x251+0xf*-0x151]=_0x367bd4[0x14*-0xdf+0x178*0x19+0x335*-0x6],_0xd4cfdc[-0x1ad2*0x1+0x19a1+0x13d]=_0x367bd4[0x1*0x2ce+0x1*-0x3b1+0x2e*0x5],_0xd4cfdc[-0x795*-0x1+-0x18ac+0x2*0x892]=_0x367bd4[-0x260b+-0x1e19+0x442b],_0xd4cfdc[-0x138a+-0x21ac+0x3544]=_0x367bd4[-0x2*0x9b2+0x1b*0x28+-0xf37*-0x1],_0xd4cfdc[0xa00+0x1dc4+-0x27b5]=_0x367bd4[0x3*0x9d4+0x3*-0x4c3+0xf24*-0x1];return this;}['getTransla'+'tion'](_0x388e59=new A()){return _0x388e59['set'](this['data'][-0x2f*0xb5+0x1*-0x1bb4+-0x3cfb*-0x1],this['data'][0x21b3+-0x957*-0x1+-0x163*0x1f],this['data'][0x199*-0x13+0x1*-0x2689+0x44f2]);}['getX'](_0x4ebc28=new A()){return _0x4ebc28['set'](this['data'][0x9ec+0xcb3*-0x2+0xf7a],this['data'][-0x50b*-0x5+0x67*-0x6+-0x16cc],this['data'][-0x2372+0x2619+0x2a5*-0x1]);}['getY'](_0x2d2527=new A()){return _0x2d2527['set'](this['data'][-0x1*0x103+0x46e*-0x3+-0x5*-0x2dd],this['data'][0xff*0x24+-0x788+-0x1c4f],this['data'][-0x2f+0x2ba+-0x5*0x81]);}['getZ'](_0x5a9fc9=new A()){return _0x5a9fc9['set'](this['data'][0xdab*0x1+-0x2705+0x1962],this['data'][-0x8*-0x3bf+0xc4*-0x9+-0x1*0x170b],this['data'][0x2*0x9b+-0x49b+0x36f]);}['getScale'](_0x4a1119=new A()){return this['getX'](ys),this['getY'](zs),this['getZ'](Us),_0x4a1119['set'](ys['length'](),zs['length'](),Us['length']()),_0x4a1119;}get['scaleSign'](){return this['getX'](ys),this['getY'](zs),this['getZ'](Us),ys['cross'](ys,zs),ys['dot'](Us)<-0x11de*-0x2+0x682+-0x1*0x2a3e?-(-0x2*-0x57+-0x2413+0x2366):-0xa24*0x1+-0x1*-0x1ec7+-0x2*0xa51;}['setFromEul'+'erAngles'](_0xc98550,_0x220ee8,_0x13cacc){_0xc98550*=z['DEG_TO_RAD'],_0x220ee8*=z['DEG_TO_RAD'],_0x13cacc*=z['DEG_TO_RAD'];const _0x40f2b4=Math['sin'](-_0xc98550),_0x375931=Math['cos'](-_0xc98550),_0x5a4bc9=Math['sin'](-_0x220ee8),_0x39abf7=Math['cos'](-_0x220ee8),_0x38cd7c=Math['sin'](-_0x13cacc),_0x1df705=Math['cos'](-_0x13cacc),_0x1cd4cb=this['data'];return _0x1cd4cb[-0x29*0xe+0x234a+-0x1d6*0x12]=_0x39abf7*_0x1df705,_0x1cd4cb[-0x14ec+-0x119b+-0x1344*-0x2]=-_0x39abf7*_0x38cd7c,_0x1cd4cb[-0x2596+0xe88+-0x6*-0x3d8]=_0x5a4bc9,_0x1cd4cb[-0x18dc+0x2a6*-0x8+0x38b*0xd]=-0x6fe+-0x1cae+0x11d6*0x2,_0x1cd4cb[0x1ad6+-0x123*0x1+-0x19af*0x1]=_0x375931*_0x38cd7c+_0x1df705*_0x40f2b4*_0x5a4bc9,_0x1cd4cb[-0xa2*0x3+0x86c+-0x681]=_0x375931*_0x1df705-_0x40f2b4*_0x5a4bc9*_0x38cd7c,_0x1cd4cb[-0xa27+-0x389*0x9+-0x14ff*-0x2]=-_0x39abf7*_0x40f2b4,_0x1cd4cb[0x463*-0x7+0xe4e+0x106e]=-0xd87*-0x1+0x179*0x5+0x7*-0x2fc,_0x1cd4cb[-0x22d3+-0x16*-0x12f+0x8d1]=_0x40f2b4*_0x38cd7c-_0x375931*_0x1df705*_0x5a4bc9,_0x1cd4cb[-0x533*0x7+0x10*0x56+0x1f0e]=_0x1df705*_0x40f2b4+_0x375931*_0x5a4bc9*_0x38cd7c,_0x1cd4cb[-0x1c3*0xf+-0x1056+0x2acd*0x1]=_0x375931*_0x39abf7,_0x1cd4cb[0x1005+0x997*-0x1+0x3*-0x221]=-0x44*0x65+-0xff2*0x1+0x1e*0x16d,_0x1cd4cb[-0x1975+-0x1*-0x1817+0x16a]=-0x2192+0x4ea*-0x4+0x3*0x11be,_0x1cd4cb[-0x868*-0x3+-0xd82+0x255*-0x5]=-0x31c+0x1fbc+0x10*-0x1ca,_0x1cd4cb[0x5*-0x215+-0x84f+0x12c6]=-0x86e*-0x1+-0x2690*-0x1+-0x2efe*0x1,_0x1cd4cb[0x53*-0x2b+0x1c0+-0x2*-0x620]=0x2*-0xb70+0x9b7+0xd2a,this;}['getEulerAn'+'gles'](_0x2e8d38=new A()){this['getScale'](vl);const _0x11567c=vl['x'],_0x2b8a4d=vl['y'],_0xfcff71=vl['z'];if(_0x11567c===-0x1*-0xe4a+-0x409*0x2+-0x638||_0x2b8a4d===-0x145e+-0x2*0x1c2+0x17e2||_0xfcff71===-0x1dbd+0x3*0x2cc+0x445*0x5)return _0x2e8d38['set'](-0x1f8d+-0x1e82+-0x1*-0x3e0f,0x18da*0x1+0x33b+-0x1c15,-0x2de*0xc+0x1e1a*-0x1+0x4082*0x1);const _0x45a2e8=this['data'],_0x16e313=Math['asin'](-_0x45a2e8[-0xaf5+0x209e+0xf1*-0x17]/_0x11567c),_0xb37e99=Math['PI']*(-0x1*0x4ea+0x3da+0x110+0.5);let _0x2cdb8f,_0x21a9ab;return _0x16e313<_0xb37e99?_0x16e313>-_0xb37e99?(_0x2cdb8f=Math['atan2'](_0x45a2e8[0x9*-0x400+0x208b*0x1+0x9*0x63]/_0x2b8a4d,_0x45a2e8[0xdc8+-0x11f2+0x434]/_0xfcff71),_0x21a9ab=Math['atan2'](_0x45a2e8[-0x1042*-0x1+0x1f0d+0x7*-0x6c2]/_0x11567c,_0x45a2e8[0xf4+-0x20*-0x56+-0xbb4]/_0x11567c)):(_0x21a9ab=0x121*-0x17+0x4*0xe9+0x2d*0x7f,_0x2cdb8f=-Math['atan2'](_0x45a2e8[0x107*0x1d+0xe51+-0x2c18]/_0x2b8a4d,_0x45a2e8[-0x65d+-0x2131+0x2793]/_0x2b8a4d)):(_0x21a9ab=0x9*0x1ac+-0xeea+-0x22,_0x2cdb8f=Math['atan2'](_0x45a2e8[-0x1f76+0xb51*-0x3+0x416d]/_0x2b8a4d,_0x45a2e8[-0x2634+-0x1*-0x155c+0x10dd]/_0x2b8a4d)),_0x2e8d38['set'](_0x2cdb8f,_0x16e313,_0x21a9ab)['mulScalar'](z['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Vr,'IDENTITY',Object['freeze'](new Vr())),c(Vr,'ZERO',Object['freeze'](new Vr()['set']([-0x1cd0+-0x839*-0x1+0x7*0x2f1,-0x1ac1+-0x14*-0x2e+0x1729,-0x4d0+-0x87*-0x46+-0x1*0x201a,-0x259*0x9+-0x18f9*0x1+0x7*0x696,-0x1507+-0x1fe0+0x34e7,-0x9d*0x28+-0x11e6+-0x2a6e*-0x1,-0x20b8+0x9b2*0x3+0x3a2,0x2383*0x1+0x2c*-0x88+-0xc23*0x1,0x80*-0x2a+0x371+0x118f*0x1,0x2*-0xe44+-0x20e7*0x1+0x3d6f,0x182a+-0xbf8+-0xc32,-0x6a5*0x5+0x28c*-0x7+0x330d,-0x2287+-0xc3*-0x2e+-0x83,-0x2391+0x6aa*0x1+0x1ce7,-0x2503+-0x1f65+0x4468,0xd63*-0x1+-0x6a6+0x1409])));let q=Vr;const la=class la{constructor(_0x1ffa9e=-0x1e5c+0x3a1+0x1abb,_0xf9e171=-0x1d44+-0x2*0x1b5+0x20ae,_0x1eca8f=0x2*0x5f0+0x5e*-0x26+0x4c*0x7,_0xeea3ae=-0x2640+0x41*0x14+0x212d){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x1ffa9e['length']===-0x1*0x8e9+0x9e*0x1d+-0x8f9?(this['x']=_0x1ffa9e[0x1*0x1483+0x32+-0x14b5],this['y']=_0x1ffa9e[0x22bb+0x22b6+-0x4570],this['z']=_0x1ffa9e[-0xf32+0x3*0xaf+0xd27],this['w']=_0x1ffa9e[0x1*-0x25d+-0x9f*-0x6+-0x1*0x15a]):(this['x']=_0x1ffa9e,this['y']=_0xf9e171,this['z']=_0x1eca8f,this['w']=_0xeea3ae);}['clone'](){const _0x4a6a42=this['constructo'+'r'];return new _0x4a6a42(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x553410=this){return this['x']=_0x553410['x']*-(-0x1*-0x342+-0x988+0x647),this['y']=_0x553410['y']*-(-0x812*-0x4+0x3dc*-0x6+0x1d3*-0x5),this['z']=_0x553410['z']*-(-0x2*0xbda+-0x1*-0xb7d+-0xb8*-0x11),this['w']=_0x553410['w'],this;}['copy'](_0x4f3aff){return this['x']=_0x4f3aff['x'],this['y']=_0x4f3aff['y'],this['z']=_0x4f3aff['z'],this['w']=_0x4f3aff['w'],this;}['equals'](_0x4eb0e8){return this['x']===_0x4eb0e8['x']&&this['y']===_0x4eb0e8['y']&&this['z']===_0x4eb0e8['z']&&this['w']===_0x4eb0e8['w'];}['equalsAppr'+'ox'](_0x434788,_0x571b37=0xdbc+-0x2c*0xe0+0x14*0x13d+0.000001){return Math['abs'](this['x']-_0x434788['x'])<_0x571b37&&Math['abs'](this['y']-_0x434788['y'])<_0x571b37&&Math['abs'](this['z']-_0x434788['z'])<_0x571b37&&Math['abs'](this['w']-_0x434788['w'])<_0x571b37;}['getAxisAng'+'le'](_0x10fd2b){let _0x1dc92f=Math['acos'](this['w'])*(0x17b*0xb+-0x1a*-0x121+-0x2da1);const _0x27f618=Math['sin'](_0x1dc92f/(0x1636+-0x7a1+0x11f*-0xd));return _0x27f618!==-0x327+0xc*-0x1ad+0x1743?(_0x10fd2b['x']=this['x']/_0x27f618,_0x10fd2b['y']=this['y']/_0x27f618,_0x10fd2b['z']=this['z']/_0x27f618,(_0x10fd2b['x']<-0x5e7+-0x12e1+0x3d*0x68||_0x10fd2b['y']<-0x1385+0x5*0x59f+-0x896||_0x10fd2b['z']<-0x1ad3+-0x2*0x3e6+0x229f)&&(_0x10fd2b['x']*=-(-0x1*0x22e+-0x6*-0x3d7+-0x14db),_0x10fd2b['y']*=-(-0x2561+-0x1a8b+0x3fed),_0x10fd2b['z']*=-(0x11c*0x1+-0x1f3*-0xb+-0x168c),_0x1dc92f*=-(-0x121d+0x8*-0x2fa+0xdfa*0x3))):(_0x10fd2b['x']=0x2*0xb08+0x10a0+-0x1*0x26af,_0x10fd2b['y']=-0x174c+-0x2*-0xb65+-0xa*-0xd,_0x10fd2b['z']=0x4*0x821+0xc*0x19b+-0x33c8),_0x1dc92f*z['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x6c8601=new A()){let _0x4b038c,_0x5ddf45,_0x3def39;const _0x569dbd=this['x'],_0x2c248a=this['y'],_0x1dd7b4=this['z'],_0x29595d=this['w'],_0x1dfbaf=(0x9d*0x1b+-0xc7b+-0x412*0x1)*(_0x29595d*_0x2c248a-_0x569dbd*_0x1dd7b4);return _0x1dfbaf<=-(-0x12aa*-0x2+-0x598*-0x6+0x15d*-0x34+0.99999)?(_0x4b038c=(-0x1e63*0x1+0x1280+0xbe5)*Math['atan2'](_0x569dbd,_0x29595d),_0x5ddf45=-Math['PI']/(-0xe64+0x1d*-0x4b+-0x16e5*-0x1),_0x3def39=0x1d0e+-0x14d9*0x1+-0x835):_0x1dfbaf>=0x267*0x7+0x2ab+-0x137c+0.99999?(_0x4b038c=(0xa12+-0x2*0x824+-0x18e*-0x4)*Math['atan2'](_0x569dbd,_0x29595d),_0x5ddf45=Math['PI']/(-0x3*0x81a+-0x1126+0x6*0x6e9),_0x3def39=-0x15cd+-0x8ea+-0x1*-0x1eb7):(_0x4b038c=Math['atan2']((-0x13*-0x15e+-0x114f+-0x8a9)*(_0x29595d*_0x569dbd+_0x2c248a*_0x1dd7b4),0x89*-0x27+0xf4c+0x33*0x1c-(0x1b50+0x1*0x3ab+-0xa53*0x3)*(_0x569dbd*_0x569dbd+_0x2c248a*_0x2c248a)),_0x5ddf45=Math['asin'](_0x1dfbaf),_0x3def39=Math['atan2']((0x1faa+0x1c3+-0x216b)*(_0x29595d*_0x1dd7b4+_0x569dbd*_0x2c248a),0x1b75+0x52+-0x1bc6-(0x3*-0xe2+0x1b22+-0x187a)*(_0x2c248a*_0x2c248a+_0x1dd7b4*_0x1dd7b4))),_0x6c8601['set'](_0x4b038c,_0x5ddf45,_0x3def39)['mulScalar'](z['RAD_TO_DEG']);}['invert'](_0x3b7d17=this){return this['conjugate'](_0x3b7d17)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x5f056b){const _0x2e89db=this['x'],_0x1a1333=this['y'],_0x51bae7=this['z'],_0x10fd07=this['w'],_0x5a0fc1=_0x5f056b['x'],_0x5c2966=_0x5f056b['y'],_0x46bf39=_0x5f056b['z'],_0x2d5bea=_0x5f056b['w'];return this['x']=_0x10fd07*_0x5a0fc1+_0x2e89db*_0x2d5bea+_0x1a1333*_0x46bf39-_0x51bae7*_0x5c2966,this['y']=_0x10fd07*_0x5c2966+_0x1a1333*_0x2d5bea+_0x51bae7*_0x5a0fc1-_0x2e89db*_0x46bf39,this['z']=_0x10fd07*_0x46bf39+_0x51bae7*_0x2d5bea+_0x2e89db*_0x5c2966-_0x1a1333*_0x5a0fc1,this['w']=_0x10fd07*_0x2d5bea-_0x2e89db*_0x5a0fc1-_0x1a1333*_0x5c2966-_0x51bae7*_0x46bf39,this;}['mulScalar'](_0x31a32a,_0x2167e1=this){return this['x']=_0x2167e1['x']*_0x31a32a,this['y']=_0x2167e1['y']*_0x31a32a,this['z']=_0x2167e1['z']*_0x31a32a,this['w']=_0x2167e1['w']*_0x31a32a,this;}['mul2'](_0x23a81d,_0x2ba6cd){const _0x10b2ab=_0x23a81d['x'],_0x46b1d9=_0x23a81d['y'],_0x3d8c70=_0x23a81d['z'],_0x56308e=_0x23a81d['w'],_0x3face3=_0x2ba6cd['x'],_0xf97865=_0x2ba6cd['y'],_0x1a0603=_0x2ba6cd['z'],_0x2067b2=_0x2ba6cd['w'];return this['x']=_0x56308e*_0x3face3+_0x10b2ab*_0x2067b2+_0x46b1d9*_0x1a0603-_0x3d8c70*_0xf97865,this['y']=_0x56308e*_0xf97865+_0x46b1d9*_0x2067b2+_0x3d8c70*_0x3face3-_0x10b2ab*_0x1a0603,this['z']=_0x56308e*_0x1a0603+_0x3d8c70*_0x2067b2+_0x10b2ab*_0xf97865-_0x46b1d9*_0x3face3,this['w']=_0x56308e*_0x2067b2-_0x10b2ab*_0x3face3-_0x46b1d9*_0xf97865-_0x3d8c70*_0x1a0603,this;}['normalize'](_0x43455e=this){let _0xb8e75e=_0x43455e['length']();return _0xb8e75e===0x1*-0x977+0x1*0xe6b+-0x1*0x4f4?(this['x']=this['y']=this['z']=0x827+-0x1627+0x10*0xe0,this['w']=-0x2f*-0x59+0x1683+0x41*-0x99):(_0xb8e75e=(0x1*0xc01+0x1f*0x43+-0x141d)/_0xb8e75e,this['x']=_0x43455e['x']*_0xb8e75e,this['y']=_0x43455e['y']*_0xb8e75e,this['z']=_0x43455e['z']*_0xb8e75e,this['w']=_0x43455e['w']*_0xb8e75e),this;}['set'](_0x28a3f7,_0x1c7d8b,_0x1b1aef,_0xab5dc){return this['x']=_0x28a3f7,this['y']=_0x1c7d8b,this['z']=_0x1b1aef,this['w']=_0xab5dc,this;}['setFromAxi'+'sAngle'](_0x29e74b,_0x8cd483){_0x8cd483*=(0x23b*-0xd+0x2284+-0x585+0.5)*z['DEG_TO_RAD'];const _0x3d1a58=Math['sin'](_0x8cd483),_0x113a16=Math['cos'](_0x8cd483);return this['x']=_0x3d1a58*_0x29e74b['x'],this['y']=_0x3d1a58*_0x29e74b['y'],this['z']=_0x3d1a58*_0x29e74b['z'],this['w']=_0x113a16,this;}['setFromEul'+'erAngles'](_0x3a0688,_0x4e4dd9,_0x3410e7){if(_0x3a0688 instanceof A){const _0x13395f=_0x3a0688;_0x3a0688=_0x13395f['x'],_0x4e4dd9=_0x13395f['y'],_0x3410e7=_0x13395f['z'];}const _0x4ca57e=(0xb5b+-0x1382+0x1*0x827+0.5)*z['DEG_TO_RAD'];_0x3a0688*=_0x4ca57e,_0x4e4dd9*=_0x4ca57e,_0x3410e7*=_0x4ca57e;const _0x5abc51=Math['sin'](_0x3a0688),_0x2b4017=Math['cos'](_0x3a0688),_0x5c0991=Math['sin'](_0x4e4dd9),_0xda2fa0=Math['cos'](_0x4e4dd9),_0x33af83=Math['sin'](_0x3410e7),_0x258794=Math['cos'](_0x3410e7);return this['x']=_0x5abc51*_0xda2fa0*_0x258794-_0x2b4017*_0x5c0991*_0x33af83,this['y']=_0x2b4017*_0x5c0991*_0x258794+_0x5abc51*_0xda2fa0*_0x33af83,this['z']=_0x2b4017*_0xda2fa0*_0x33af83-_0x5abc51*_0x5c0991*_0x258794,this['w']=_0x2b4017*_0xda2fa0*_0x258794+_0x5abc51*_0x5c0991*_0x33af83,this;}['setFromMat'+'4'](_0x1fd037){const _0x2e5dc0=_0x1fd037['data'];let _0x539c9c=_0x2e5dc0[-0x1e5a+-0x742+-0x3a*-0xa6],_0x1d78fe=_0x2e5dc0[0x2*-0xfbf+-0x2a2+0x2221],_0x46ae6a=_0x2e5dc0[0x135*-0x7+0x821*-0x3+0x20d8],_0x135337=_0x2e5dc0[-0x4a1+-0x334*0x2+-0x3*-0x3af],_0x4aacbb=_0x2e5dc0[0x4*0x31c+0x129d+-0x4*0x7c2],_0x34e824=_0x2e5dc0[-0x26d5*0x1+-0x6df+0x2dba],_0x1b3190=_0x2e5dc0[-0x1c4d+0xf35+0x10*0xd2],_0x2e5462=_0x2e5dc0[-0x175e+0x1*-0x1147+0x28ae],_0x5c1126=_0x2e5dc0[-0x1*-0x1e95+-0x236b+-0xd0*-0x6],_0x5aefb2;return _0x5aefb2=_0x539c9c*_0x539c9c+_0x1d78fe*_0x1d78fe+_0x46ae6a*_0x46ae6a,_0x5aefb2===0x8ad+0xd31+0x9*-0x26e?this['set'](0x1a22+-0x1402+-0x1*0x620,-0x40e*-0x3+-0x366+-0x4*0x231,-0x1dc1+-0x207+0x1fc8,-0x155d+0x169*-0x1+0x11*0x157):(_0x5aefb2=(0x10e5*0x2+-0x2498+-0x2cf*-0x1)/Math['sqrt'](_0x5aefb2),_0x539c9c*=_0x5aefb2,_0x1d78fe*=_0x5aefb2,_0x46ae6a*=_0x5aefb2,_0x5aefb2=_0x135337*_0x135337+_0x4aacbb*_0x4aacbb+_0x34e824*_0x34e824,_0x5aefb2===-0x1ced+-0x2ea+-0xd*-0x273?this['set'](-0x1872+0x22*-0x5+-0x647*-0x4,-0x43*-0x95+0xd93*0x2+-0x4225,0xb5+0x2105*0x1+-0xb3e*0x3,-0xa69+-0x1065+0x1acf):(_0x5aefb2=(0x1ce6+0x558+-0x223d*0x1)/Math['sqrt'](_0x5aefb2),_0x135337*=_0x5aefb2,_0x4aacbb*=_0x5aefb2,_0x34e824*=_0x5aefb2,_0x5aefb2=_0x1b3190*_0x1b3190+_0x2e5462*_0x2e5462+_0x5c1126*_0x5c1126,_0x5aefb2===0x1cf+0x2*-0x4cd+-0x69*-0x13?this['set'](-0x12a3+0x44*-0x3b+-0x1*-0x224f,-0x44e+-0x4b9*0x2+0xdc0,0x1*0xd6b+-0x1746+0x9db,0x1518+0x804+-0x1d1b):(_0x5aefb2=(0x1ea+0x214e+-0xf*0x259)/Math['sqrt'](_0x5aefb2),_0x1b3190*=_0x5aefb2,_0x2e5462*=_0x5aefb2,_0x5c1126*=_0x5aefb2,_0x5c1126<0x18b5+0x2*-0x8ed+-0x6db?_0x539c9c>_0x4aacbb?this['set'](0x18b5+-0x1c43+-0x1*-0x38f+_0x539c9c-_0x4aacbb-_0x5c1126,_0x1d78fe+_0x135337,_0x1b3190+_0x46ae6a,_0x34e824-_0x2e5462):this['set'](_0x1d78fe+_0x135337,0x4*0x7b9+-0x18b4+-0x62f-_0x539c9c+_0x4aacbb-_0x5c1126,_0x34e824+_0x2e5462,_0x1b3190-_0x46ae6a):_0x539c9c<-_0x4aacbb?this['set'](_0x1b3190+_0x46ae6a,_0x34e824+_0x2e5462,0x304*0x9+-0x1*0x2185+0x662-_0x539c9c-_0x4aacbb+_0x5c1126,_0x1d78fe-_0x135337):this['set'](_0x34e824-_0x2e5462,_0x1b3190-_0x46ae6a,_0x1d78fe-_0x135337,-0x5e+-0x161f+0x167e+_0x539c9c+_0x4aacbb+_0x5c1126),this['mulScalar']((-0x1cfd+0xcd3+0x102b)/this['length']()))));}['setFromDir'+'ections'](_0x3baba4,_0x107f2c){const _0x54d587=0x1a07+-0x1875+-0x1*0x191+_0x3baba4['dot'](_0x107f2c);return _0x54d587<Number['EPSILON']?Math['abs'](_0x3baba4['x'])>Math['abs'](_0x3baba4['y'])?(this['x']=-_0x3baba4['z'],this['y']=0x3*0xa3f+-0x83*-0xd+-0x2*0x12b2,this['z']=_0x3baba4['x'],this['w']=0x977*0x2+-0x1aaf+0x1*0x7c1):(this['x']=-0x1c51+-0x761+0x23b2,this['y']=-_0x3baba4['z'],this['z']=_0x3baba4['y'],this['w']=-0x653*-0x5+0x7b*0x26+-0x31e1):(this['x']=_0x3baba4['y']*_0x107f2c['z']-_0x3baba4['z']*_0x107f2c['y'],this['y']=_0x3baba4['z']*_0x107f2c['x']-_0x3baba4['x']*_0x107f2c['z'],this['z']=_0x3baba4['x']*_0x107f2c['y']-_0x3baba4['y']*_0x107f2c['x'],this['w']=_0x54d587),this['normalize']();}['slerp'](_0x400526,_0xf74da8,_0x213292){const _0x3adb74=_0x400526['x'],_0x337458=_0x400526['y'],_0x69d9c0=_0x400526['z'],_0xe5db0e=_0x400526['w'];let _0x3dda64=_0xf74da8['x'],_0x2e6192=_0xf74da8['y'],_0x4e3763=_0xf74da8['z'],_0x5d36a9=_0xf74da8['w'],_0x2da9bf=_0xe5db0e*_0x5d36a9+_0x3adb74*_0x3dda64+_0x337458*_0x2e6192+_0x69d9c0*_0x4e3763;if(_0x2da9bf<0x250c+0x68d+-0x2b99&&(_0x5d36a9=-_0x5d36a9,_0x3dda64=-_0x3dda64,_0x2e6192=-_0x2e6192,_0x4e3763=-_0x4e3763,_0x2da9bf=-_0x2da9bf),Math['abs'](_0x2da9bf)>=0x1*0x1c31+-0x5ce+0xb31*-0x2)return this['w']=_0xe5db0e,this['x']=_0x3adb74,this['y']=_0x337458,this['z']=_0x69d9c0,this;const _0x452c01=Math['acos'](_0x2da9bf),_0x2beb7f=Math['sqrt'](-0x13*-0x1e7+-0xce3+-0x1741-_0x2da9bf*_0x2da9bf);if(Math['abs'](_0x2beb7f)<0x305+0x11*0xce+-0x10b3+0.001)return this['w']=_0xe5db0e*(0x1*-0x16b9+0x757+-0x7b1*-0x2+0.5)+_0x5d36a9*(-0x1787+-0x13f0+-0x1*-0x2b77+0.5),this['x']=_0x3adb74*(0xa8b*-0x2+0x1*0x2c1+0x1255+0.5)+_0x3dda64*(0x2625+-0x130d+-0x1318+0.5),this['y']=_0x337458*(-0x1879+0x20b*0xf+0x18b*-0x4+0.5)+_0x2e6192*(-0x55a+-0x149e+0x2*0xcfc+0.5),this['z']=_0x69d9c0*(0x38*0x27+0x301*-0x2+0x143*-0x2+0.5)+_0x4e3763*(0xe6+0x3d*0xf+-0x479+0.5),this;const _0x26d783=Math['sin']((-0xd44+0x26c4+0x3d*-0x6b-_0x213292)*_0x452c01)/_0x2beb7f,_0x4b7580=Math['sin'](_0x213292*_0x452c01)/_0x2beb7f;return this['w']=_0xe5db0e*_0x26d783+_0x5d36a9*_0x4b7580,this['x']=_0x3adb74*_0x26d783+_0x3dda64*_0x4b7580,this['y']=_0x337458*_0x26d783+_0x2e6192*_0x4b7580,this['z']=_0x69d9c0*_0x26d783+_0x4e3763*_0x4b7580,this;}['transformV'+'ector'](_0x1cf0ae,_0x548cde=new A()){const _0xb4cd39=_0x1cf0ae['x'],_0x56248f=_0x1cf0ae['y'],_0x2bd70b=_0x1cf0ae['z'],_0x2a2284=this['x'],_0x537be8=this['y'],_0x347564=this['z'],_0x2ea50e=this['w'],_0x29af93=_0x2ea50e*_0xb4cd39+_0x537be8*_0x2bd70b-_0x347564*_0x56248f,_0x7b0ec9=_0x2ea50e*_0x56248f+_0x347564*_0xb4cd39-_0x2a2284*_0x2bd70b,_0x3021bc=_0x2ea50e*_0x2bd70b+_0x2a2284*_0x56248f-_0x537be8*_0xb4cd39,_0x10bcdf=-_0x2a2284*_0xb4cd39-_0x537be8*_0x56248f-_0x347564*_0x2bd70b;return _0x548cde['x']=_0x29af93*_0x2ea50e+_0x10bcdf*-_0x2a2284+_0x7b0ec9*-_0x347564-_0x3021bc*-_0x537be8,_0x548cde['y']=_0x7b0ec9*_0x2ea50e+_0x10bcdf*-_0x537be8+_0x3021bc*-_0x2a2284-_0x29af93*-_0x347564,_0x548cde['z']=_0x3021bc*_0x2ea50e+_0x10bcdf*-_0x347564+_0x29af93*-_0x537be8-_0x7b0ec9*-_0x2a2284,_0x548cde;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(la,'IDENTITY',Object['freeze'](new la(0x2080*0x1+0x1f3*0x2+-0x2*0x1233,-0x696+-0x1df8+-0x1247*-0x2,0x3*0x84+0x16b8+-0x1844,0x1dc1+-0x1223*-0x1+0x3af*-0xd))),c(la,'ZERO',Object['freeze'](new la(-0x67*0x32+-0x10db+-0x277*-0xf,0x9d3+-0x18fc+0xf29,0x1a57+0x1*0xef2+-0x2949,0xe1e+-0xbfa+0x89*-0x4)));let ie=la;const wn=new A(),Tn=new A(),am=new A(),om=new A(),vS=new A();class ve{constructor(_0x478a5f,_0x4711cb){c(this,'center',new A()),c(this,'halfExtent'+'s',new A(-0x13d*-0x4+0x3d*0x73+-0x205b+0.5,0xdf8+0x19a9*0x1+-0x27a1+0.5,0x1*0x235d+-0x1*0x17d1+0x4*-0x2e3+0.5)),c(this,'_min',new A()),c(this,'_max',new A()),(_0x478a5f&&this['center']['copy'](_0x478a5f),_0x4711cb&&this['halfExtent'+'s']['copy'](_0x4711cb));}['add'](_0x170a7a){const _0x36b625=this['center'],_0x244a4a=_0x36b625['x'],_0x1ce2d6=_0x36b625['y'],_0x56dd38=_0x36b625['z'],_0x104db1=this['halfExtent'+'s'],_0x3fbfce=_0x104db1['x'],_0x329da7=_0x104db1['y'],_0x4922c8=_0x104db1['z'];let _0x4bfae8=_0x244a4a-_0x3fbfce,_0x925b10=_0x244a4a+_0x3fbfce,_0xa7e594=_0x1ce2d6-_0x329da7,_0x77ac1f=_0x1ce2d6+_0x329da7,_0x2363f9=_0x56dd38-_0x4922c8,_0x7d19af=_0x56dd38+_0x4922c8;const _0x349446=_0x170a7a['center'],_0x4f4649=_0x349446['x'],_0x202fa0=_0x349446['y'],_0x33fdec=_0x349446['z'],_0x5b9489=_0x170a7a['halfExtent'+'s'],_0x2c77fc=_0x5b9489['x'],_0x49a6f2=_0x5b9489['y'],_0x32d88b=_0x5b9489['z'],_0xd7a3da=_0x4f4649-_0x2c77fc,_0x3b6703=_0x4f4649+_0x2c77fc,_0x1b18cb=_0x202fa0-_0x49a6f2,_0x1e0527=_0x202fa0+_0x49a6f2,_0x43b612=_0x33fdec-_0x32d88b,_0x5df014=_0x33fdec+_0x32d88b;_0xd7a3da<_0x4bfae8&&(_0x4bfae8=_0xd7a3da),_0x3b6703>_0x925b10&&(_0x925b10=_0x3b6703),_0x1b18cb<_0xa7e594&&(_0xa7e594=_0x1b18cb),_0x1e0527>_0x77ac1f&&(_0x77ac1f=_0x1e0527),_0x43b612<_0x2363f9&&(_0x2363f9=_0x43b612),_0x5df014>_0x7d19af&&(_0x7d19af=_0x5df014),_0x36b625['x']=(_0x4bfae8+_0x925b10)*(0x2e*-0xb9+-0xfb3+0x30f1+0.5),_0x36b625['y']=(_0xa7e594+_0x77ac1f)*(-0x21ed+0x3e9*-0x1+-0x1d*-0x14e+0.5),_0x36b625['z']=(_0x2363f9+_0x7d19af)*(0x34*-0xbc+-0x1*-0x223c+0x3f4+0.5),_0x104db1['x']=(_0x925b10-_0x4bfae8)*(0x10df*-0x1+0x1b60+-0x1*0xa81+0.5),_0x104db1['y']=(_0x77ac1f-_0xa7e594)*(-0xe8a+0x229b*-0x1+-0x1*-0x3125+0.5),_0x104db1['z']=(_0x7d19af-_0x2363f9)*(-0x1*0x228f+-0x5*0x3bb+-0x3536*-0x1+0.5);}['copy'](_0x53478b){this['center']['copy'](_0x53478b['center']),this['halfExtent'+'s']['copy'](_0x53478b['halfExtent'+'s']);}['clone'](){return new ve(this['center'],this['halfExtent'+'s']);}['intersects'](_0x3c2535){const _0x76f195=this['getMax'](),_0x45430d=this['getMin'](),_0x42fe43=_0x3c2535['getMax'](),_0x51f40e=_0x3c2535['getMin']();return _0x45430d['x']<=_0x42fe43['x']&&_0x76f195['x']>=_0x51f40e['x']&&_0x45430d['y']<=_0x42fe43['y']&&_0x76f195['y']>=_0x51f40e['y']&&_0x45430d['z']<=_0x42fe43['z']&&_0x76f195['z']>=_0x51f40e['z'];}['_intersect'+'sRay'](_0x136448,_0xa0109f){const _0x306812=wn['copy'](this['getMin']())['sub'](_0x136448['origin']),_0x41a8c6=Tn['copy'](this['getMax']())['sub'](_0x136448['origin']),_0xd64f30=_0x136448['direction'];_0xd64f30['x']===-0xe*-0x239+-0x21*-0x61+-0xd*0x35b?(_0x306812['x']=_0x306812['x']<0x22*-0x1+0x1*0xe03+-0xde1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x41a8c6['x']=_0x41a8c6['x']<0x6*-0x292+0x20*0x5e+0x3ac*0x1?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x306812['x']/=_0xd64f30['x'],_0x41a8c6['x']/=_0xd64f30['x']),_0xd64f30['y']===-0x179b+0x1fe9+-0x84e*0x1?(_0x306812['y']=_0x306812['y']<-0xa0c*0x2+0x1186*0x2+0xb*-0x15c?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x41a8c6['y']=_0x41a8c6['y']<-0x1*0x51e+-0x13*-0x8+0x486?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x306812['y']/=_0xd64f30['y'],_0x41a8c6['y']/=_0xd64f30['y']),_0xd64f30['z']===-0x4af*0x5+0x76*-0x2b+-0x2b3d*-0x1?(_0x306812['z']=_0x306812['z']<0x17e0+0x11*0x19c+-0x1114*0x3?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x41a8c6['z']=_0x41a8c6['z']<-0x883+0x130*-0x10+0x1b83*0x1?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x306812['z']/=_0xd64f30['z'],_0x41a8c6['z']/=_0xd64f30['z']);const _0x2f6897=am['set'](Math['min'](_0x306812['x'],_0x41a8c6['x']),Math['min'](_0x306812['y'],_0x41a8c6['y']),Math['min'](_0x306812['z'],_0x41a8c6['z'])),_0x2f6af3=om['set'](Math['max'](_0x306812['x'],_0x41a8c6['x']),Math['max'](_0x306812['y'],_0x41a8c6['y']),Math['max'](_0x306812['z'],_0x41a8c6['z'])),_0x61b6dc=Math['min'](Math['min'](_0x2f6af3['x'],_0x2f6af3['y']),_0x2f6af3['z']),_0x3ea9ae=Math['max'](Math['max'](_0x2f6897['x'],_0x2f6897['y']),_0x2f6897['z']),_0x52a560=_0x61b6dc>=_0x3ea9ae&&_0x3ea9ae>=0x122d+-0x12*-0x225+-0x38c7;return _0x52a560&&_0xa0109f['copy'](_0x136448['direction'])['mulScalar'](_0x3ea9ae)['add'](_0x136448['origin']),_0x52a560;}['_fastInter'+'sectsRay'](_0x112150){const _0x1a083c=wn,_0x38baf2=Tn,_0x212d67=am,_0x5bc10c=om,_0x3b853c=vS,_0x5c161a=_0x112150['direction'];return _0x1a083c['sub2'](_0x112150['origin'],this['center']),_0x5bc10c['set'](Math['abs'](_0x1a083c['x']),Math['abs'](_0x1a083c['y']),Math['abs'](_0x1a083c['z'])),_0x212d67['mul2'](_0x1a083c,_0x5c161a),!(_0x5bc10c['x']>this['halfExtent'+'s']['x']&&_0x212d67['x']>=0xb7d*-0x2+-0x1d*0x52+0x2044||_0x5bc10c['y']>this['halfExtent'+'s']['y']&&_0x212d67['y']>=-0x7bc+-0x25ff+0x2dbb*0x1||_0x5bc10c['z']>this['halfExtent'+'s']['z']&&_0x212d67['z']>=-0xe90+-0x12d5+0x2165||(_0x3b853c['set'](Math['abs'](_0x5c161a['x']),Math['abs'](_0x5c161a['y']),Math['abs'](_0x5c161a['z'])),_0x38baf2['cross'](_0x5c161a,_0x1a083c),_0x38baf2['set'](Math['abs'](_0x38baf2['x']),Math['abs'](_0x38baf2['y']),Math['abs'](_0x38baf2['z'])),_0x38baf2['x']>this['halfExtent'+'s']['y']*_0x3b853c['z']+this['halfExtent'+'s']['z']*_0x3b853c['y'])||_0x38baf2['y']>this['halfExtent'+'s']['x']*_0x3b853c['z']+this['halfExtent'+'s']['z']*_0x3b853c['x']||_0x38baf2['z']>this['halfExtent'+'s']['x']*_0x3b853c['y']+this['halfExtent'+'s']['y']*_0x3b853c['x']);}['intersects'+'Ray'](_0x216b06,_0x4aade4){return _0x4aade4?this['_intersect'+'sRay'](_0x216b06,_0x4aade4):this['_fastInter'+'sectsRay'](_0x216b06);}['setMinMax'](_0x418dc7,_0x4b3a9b){this['center']['add2'](_0x4b3a9b,_0x418dc7)['mulScalar'](-0x65*-0x61+0x1cd+-0x2812+0.5),this['halfExtent'+'s']['sub2'](_0x4b3a9b,_0x418dc7)['mulScalar'](0x1b5b*0x1+-0x76*0xb+-0x475*0x5+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x5af24a){const _0x588a16=this['getMin'](),_0x2963ba=this['getMax']();return!(_0x5af24a['x']<_0x588a16['x']||_0x5af24a['x']>_0x2963ba['x']||_0x5af24a['y']<_0x588a16['y']||_0x5af24a['y']>_0x2963ba['y']||_0x5af24a['z']<_0x588a16['z']||_0x5af24a['z']>_0x2963ba['z']);}['setFromTra'+'nsformedAa'+'bb'](_0xd579ac,_0x454ae7,_0x18029b=!(0x1f9f+-0x1*-0x23bf+-0xd79*0x5)){const _0x22cc77=_0xd579ac['center'],_0x194e18=_0xd579ac['halfExtent'+'s'],_0x1220e8=_0x454ae7['data'];let _0x361d5b=_0x1220e8[-0x1*-0xbcf+0x1b25+0x137a*-0x2],_0x466b6d=_0x1220e8[0x32b*0x3+0x4b*-0x2f+0x448],_0x657793=_0x1220e8[-0x31e+-0x1588+0x27*0xa2],_0x4bcfe3=_0x1220e8[-0xca4*0x3+-0x24fe+0x4aeb],_0x3b084a=_0x1220e8[0x1349+-0xf8e+-0x3b6],_0x50b156=_0x1220e8[-0x3*0xcb7+0x14a5*0x1+0x1*0x1189],_0x3f24c6=_0x1220e8[-0x19ab*-0x1+-0x12b0+-0x6f9],_0xde12e7=_0x1220e8[-0x1b19+-0x695+0x21b4],_0x2ae9f6=_0x1220e8[0x4*0x161+0xdf1*-0x1+0x877];if(_0x18029b){let _0x4961df=_0x361d5b*_0x361d5b+_0x466b6d*_0x466b6d+_0x657793*_0x657793;if(_0x4961df>0xf0c+-0x1dae+-0x751*-0x2){const _0x44faff=(-0x259c+0xf4*0xc+-0x1a2d*-0x1)/Math['sqrt'](_0x4961df);_0x361d5b*=_0x44faff,_0x466b6d*=_0x44faff,_0x657793*=_0x44faff;}if(_0x4961df=_0x4bcfe3*_0x4bcfe3+_0x3b084a*_0x3b084a+_0x50b156*_0x50b156,_0x4961df>-0x12d6*-0x1+-0xd62+0x15d*-0x4){const _0x4458d0=(-0xb50*0x1+0x1ef6+-0x2f*0x6b)/Math['sqrt'](_0x4961df);_0x4bcfe3*=_0x4458d0,_0x3b084a*=_0x4458d0,_0x50b156*=_0x4458d0;}if(_0x4961df=_0x3f24c6*_0x3f24c6+_0xde12e7*_0xde12e7+_0x2ae9f6*_0x2ae9f6,_0x4961df>0x2*-0xe08+0x262f+-0xa1f){const _0x54b7c8=(0x7e8+-0x12c7+0xae0)/Math['sqrt'](_0x4961df);_0x3f24c6*=_0x54b7c8,_0xde12e7*=_0x54b7c8,_0x2ae9f6*=_0x54b7c8;}}this['center']['set'](_0x1220e8[-0x263*-0xc+-0x1ad7*-0x1+-0x376f]+_0x361d5b*_0x22cc77['x']+_0x466b6d*_0x22cc77['y']+_0x657793*_0x22cc77['z'],_0x1220e8[0x1f3c+-0x1*0x16ed+-0x842]+_0x4bcfe3*_0x22cc77['x']+_0x3b084a*_0x22cc77['y']+_0x50b156*_0x22cc77['z'],_0x1220e8[-0x1*0x80a+-0x11*-0x3d+0x40b]+_0x3f24c6*_0x22cc77['x']+_0xde12e7*_0x22cc77['y']+_0x2ae9f6*_0x22cc77['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x361d5b)*_0x194e18['x']+Math['abs'](_0x466b6d)*_0x194e18['y']+Math['abs'](_0x657793)*_0x194e18['z'],Math['abs'](_0x4bcfe3)*_0x194e18['x']+Math['abs'](_0x3b084a)*_0x194e18['y']+Math['abs'](_0x50b156)*_0x194e18['z'],Math['abs'](_0x3f24c6)*_0x194e18['x']+Math['abs'](_0xde12e7)*_0x194e18['y']+Math['abs'](_0x2ae9f6)*_0x194e18['z']);}static['computeMin'+'Max'](_0x5c6e34,_0x15f67f,_0x2f1051,_0x2dd97b=_0x5c6e34['length']/(0x915+0x21c5+0x3e5*-0xb)){if(_0x2dd97b>-0x2222+0x1265+-0x4f*-0x33){let _0x39b43a=_0x5c6e34[0xf*0x89+-0x15dc+-0x1*-0xdd5],_0x5991d6=_0x5c6e34[-0x121*-0xd+-0x3a2*-0x3+-0x1992],_0x1ba89b=_0x5c6e34[-0x12e*-0x3+0xd*0x255+-0x1*0x21d9],_0x55e57b=_0x39b43a,_0x21dba4=_0x5991d6,_0x2320b9=_0x1ba89b;const _0x1eaf8f=_0x2dd97b*(-0x201*-0x13+-0x2361+-0x2af);for(let _0xc3dd92=0x2609+0x1fa1+-0xb*0x655;_0xc3dd92<_0x1eaf8f;_0xc3dd92+=0x1*0x4a3+0x113b+-0x15db*0x1){const _0x9d0c2=_0x5c6e34[_0xc3dd92],_0x291e81=_0x5c6e34[_0xc3dd92+(-0xa70+-0x1d0e*-0x1+0x3b9*-0x5)],_0x5d836b=_0x5c6e34[_0xc3dd92+(0x1a2e+0xa0d+-0x21*0x119)];_0x9d0c2<_0x39b43a&&(_0x39b43a=_0x9d0c2),_0x291e81<_0x5991d6&&(_0x5991d6=_0x291e81),_0x5d836b<_0x1ba89b&&(_0x1ba89b=_0x5d836b),_0x9d0c2>_0x55e57b&&(_0x55e57b=_0x9d0c2),_0x291e81>_0x21dba4&&(_0x21dba4=_0x291e81),_0x5d836b>_0x2320b9&&(_0x2320b9=_0x5d836b);}_0x15f67f['set'](_0x39b43a,_0x5991d6,_0x1ba89b),_0x2f1051['set'](_0x55e57b,_0x21dba4,_0x2320b9);}}['compute'](_0x29affd,_0x560784){ve['computeMin'+'Max'](_0x29affd,wn,Tn,_0x560784),this['setMinMax'](wn,Tn);}['intersects'+'BoundingSp'+'here'](_0x474b4a){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x474b4a)<=_0x474b4a['radius']*_0x474b4a['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x411044){const _0x1f481f=this['getMin'](),_0x1551c7=this['getMax']();let _0x164ba9=-0x11*-0x26+-0x587*-0x1+-0x1*0x80d;const _0x15ab19=['x','y','z'];for(let _0x36ecff=0x219*-0x12+0x18d9*0x1+0x5*0x295;_0x36ecff<0x13f6+0x18b4+-0x2ca7;++_0x36ecff){let _0x2465b5=-0x126c+0x1508+-0x29c;const _0x21b5dc=_0x411044['center'][_0x15ab19[_0x36ecff]],_0x4518d2=_0x1f481f[_0x15ab19[_0x36ecff]],_0x456491=_0x1551c7[_0x15ab19[_0x36ecff]];let _0x583132=-0xf57+0x1*0x649+0x90e;_0x21b5dc<_0x4518d2&&(_0x583132=_0x4518d2-_0x21b5dc,_0x2465b5+=_0x583132*_0x583132),_0x21b5dc>_0x456491&&(_0x583132=_0x21b5dc-_0x456491,_0x2465b5+=_0x583132*_0x583132),_0x164ba9+=_0x2465b5;}return _0x164ba9;}['_expand'](_0x534915,_0x57da49){wn['add2'](this['getMin'](),_0x534915),Tn['add2'](this['getMax'](),_0x57da49),this['setMinMax'](wn,Tn);}}const bl=new A(),bS=new A();class Bf{constructor(_0x8a3bc1=new A(),_0xa2c279=0x1c89+0x161*0x1+-0x2*0xef5+0.5){c(this,'center'),c(this,'radius'),(b['assert'](!Object['isFrozen'](_0x8a3bc1),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x8a3bc1,this['radius']=_0xa2c279);}['containsPo'+'int'](_0xdcd12f){const _0x4d07cd=bl['sub2'](_0xdcd12f,this['center'])['lengthSq'](),_0x3f9bf8=this['radius'];return _0x4d07cd<_0x3f9bf8*_0x3f9bf8;}['intersects'+'Ray'](_0x16a0d4,_0x5931e2){const _0x283415=bl['copy'](_0x16a0d4['origin'])['sub'](this['center']),_0x27dd5e=_0x283415['dot'](bS['copy'](_0x16a0d4['direction'])['normalize']()),_0x1fad1c=_0x283415['dot'](_0x283415)-this['radius']*this['radius'];if(_0x1fad1c>0xfbd+0x1*-0x7de+0x1f*-0x41&&_0x27dd5e>-0x545+0xc8*0x1+0x47d)return!(-0x1d8*0x10+0x27*0xb5+0x1ee);const _0x1bb1c7=_0x27dd5e*_0x27dd5e-_0x1fad1c;if(_0x1bb1c7<-0xa71+-0x14e0+0x1f51*0x1)return!(0x17ac+0x126f+0x22*-0x13d);const _0x1bd13a=Math['abs'](-_0x27dd5e-Math['sqrt'](_0x1bb1c7));return _0x5931e2&&_0x5931e2['copy'](_0x16a0d4['direction'])['mulScalar'](_0x1bd13a)['add'](_0x16a0d4['origin']),!(0x193c*0x1+0x93b+0x3*-0xb7d);}['intersects'+'BoundingSp'+'here'](_0x4c8cfc){bl['sub2'](_0x4c8cfc['center'],this['center']);const _0x4866e3=_0x4c8cfc['radius']+this['radius'];return bl['lengthSq']()<=_0x4866e3*_0x4866e3;}}class cy{constructor(_0x330502=A['UP'],_0x59ec8b=-0xa97*-0x2+0x561+-0x1*0x1a8f){c(this,'normal',new A()),c(this,'distance'),(this['normal']['copy'](_0x330502),this['distance']=_0x59ec8b);}['clone'](){const _0x5d0887=this['constructo'+'r'];return new _0x5d0887()['copy'](this);}['copy'](_0x2f86d5){return this['normal']['copy'](_0x2f86d5['normal']),this['distance']=_0x2f86d5['distance'],this;}['intersects'+'Line'](_0x4c7004,_0x1882b3,_0x3c2f71){const _0x5ca29f=this['distance'],_0xd28398=this['normal']['dot'](_0x4c7004)+_0x5ca29f,_0x43b51a=this['normal']['dot'](_0x1882b3)+_0x5ca29f,_0x19d63c=_0xd28398/(_0xd28398-_0x43b51a),_0x4abcdd=_0x19d63c>=0x1*0x1c43+0x67*0xa+-0x2049&&_0x19d63c<=0x1ce2*0x1+0x25b5+0x12*-0x3b3;return _0x4abcdd&&_0x3c2f71&&_0x3c2f71['lerp'](_0x4c7004,_0x1882b3,_0x19d63c),_0x4abcdd;}['intersects'+'Ray'](_0x2ec6fc,_0x1050e3){const _0x273ef4=this['normal']['dot'](_0x2ec6fc['direction']);if(_0x273ef4===0x1e51+0x812+0x2663*-0x1)return!(-0x2*-0x1169+-0x13d*0x1d+0x8c*0x2);const _0x5ec805=-(this['normal']['dot'](_0x2ec6fc['origin'])+this['distance'])/_0x273ef4;return _0x5ec805>=-0x13ff*0x1+0x8cb+0xb34&&_0x1050e3&&_0x1050e3['copy'](_0x2ec6fc['direction'])['mulScalar'](_0x5ec805)['add'](_0x2ec6fc['origin']),_0x5ec805>=0x1433+-0xa*0x4e+-0x1127;}['normalize'](){const _0x4f281e=(0x5*0x74c+-0x74b+0x10*-0x1d3)/this['normal']['length']();return this['normal']['mulScalar'](_0x4f281e),this['distance']*=_0x4f281e,this;}['set'](_0x3233ae,_0x1de6bd,_0x30e81e,_0x107f77){return this['normal']['set'](_0x3233ae,_0x1de6bd,_0x30e81e),this['distance']=_0x107f77,this;}['setFromPoi'+'ntNormal'](_0x1816e5,_0x28506b){return this['normal']['copy'](_0x28506b),this['distance']=-this['normal']['dot'](_0x1816e5),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x42ce47=0x1*-0x203c+-0x1*-0x16cc+0x970;_0x42ce47<-0x9ad*-0x3+0x5*0x211+0x13ab*-0x2;_0x42ce47++)this['planes'][_0x42ce47]=new cy();}['clone'](){const _0x3314b7=this['constructo'+'r'];return new _0x3314b7()['copy'](this);}['copy'](_0x565ae5){for(let _0x1660dc=0x1dce+-0x1358+-0xa76;_0x1660dc<0xceb+0x3d*-0x46+0x3c9;_0x1660dc++)this['planes'][_0x1660dc]['copy'](_0x565ae5['planes'][_0x1660dc]);return this;}['setFromMat'+'4'](_0x21e81d){const [_0x4b170b,_0x4c9430,_0x333d69,_0x2280de,_0x227d30,_0x6d3551,_0x1e2d07,_0x57c9a0,_0x5a48b8,_0x159ccf,_0x5a33e6,_0x48cf1a,_0x4e8378,_0x526e1a,_0x341ad8,_0x43626f]=_0x21e81d['data'],_0x4b0360=this['planes'];_0x4b0360[0xd09+0xcc7+-0x19d0*0x1]['set'](_0x2280de-_0x4b170b,_0x57c9a0-_0x227d30,_0x48cf1a-_0x5a48b8,_0x43626f-_0x4e8378)['normalize'](),_0x4b0360[-0x57*0x69+0x19c7*0x1+0x9e9]['set'](_0x2280de+_0x4b170b,_0x57c9a0+_0x227d30,_0x48cf1a+_0x5a48b8,_0x43626f+_0x4e8378)['normalize'](),_0x4b0360[-0x2*0xf4d+-0x1d7d+0xc05*0x5]['set'](_0x2280de+_0x4c9430,_0x57c9a0+_0x6d3551,_0x48cf1a+_0x159ccf,_0x43626f+_0x526e1a)['normalize'](),_0x4b0360[0x4e2+0x8*-0xad+0x89]['set'](_0x2280de-_0x4c9430,_0x57c9a0-_0x6d3551,_0x48cf1a-_0x159ccf,_0x43626f-_0x526e1a)['normalize'](),_0x4b0360[-0x642+-0x3ff+0xa45]['set'](_0x2280de-_0x333d69,_0x57c9a0-_0x1e2d07,_0x48cf1a-_0x5a33e6,_0x43626f-_0x341ad8)['normalize'](),_0x4b0360[-0x750+0xa1*-0x1+0x1*0x7f6]['set'](_0x2280de+_0x333d69,_0x57c9a0+_0x1e2d07,_0x48cf1a+_0x5a33e6,_0x43626f+_0x341ad8)['normalize']();}['containsPo'+'int'](_0x4bc525){for(let _0x1076ca=-0x899*0x4+0x1*0x26d5+-0x471;_0x1076ca<-0x3*0x589+-0x7*-0x265+-0x11*0x2;_0x1076ca++){const {normal:_0xc50a3c,distance:_0x424d3f}=this['planes'][_0x1076ca];if(_0xc50a3c['dot'](_0x4bc525)+_0x424d3f<=0x2252+0x173b+0x3*-0x132f)return!(0x32*0x2+0x19b4+-0x1a17);}return!(-0x176d+-0x1cb3+-0xd08*-0x4);}['containsSp'+'here'](_0x5857c1){const {center:_0x8cb93c,radius:_0x288330}=_0x5857c1;let _0x1b3cfb=0x1*0x19a3+0x19a9*-0x1+0x6;for(let _0x4cec09=-0x1b6a+-0x2444*0x1+-0x1a2*-0x27;_0x4cec09<0x7*0x494+-0x1*-0x2145+-0x414b*0x1;_0x4cec09++){const {normal:_0x36aef8,distance:_0x416dd6}=this['planes'][_0x4cec09],_0x5b5cb2=_0x36aef8['dot'](_0x8cb93c)+_0x416dd6;if(_0x5b5cb2<=-_0x288330)return-0x1a5a+-0x70*0x32+0x303a;_0x5b5cb2>_0x288330&&_0x1b3cfb++;}return _0x1b3cfb===-0x1ad5+0x624+-0x1*-0x14b7?0x26e8+0x1*0xf1+-0x27d7:0x3f4*0x5+0x2f4+-0x16b7;}}class _u{constructor(_0x98c445,_0x337e15){c(this,'origin',new A()),c(this,'direction',A['FORWARD']['clone']()),(_0x98c445&&this['origin']['copy'](_0x98c445),_0x337e15&&this['direction']['copy'](_0x337e15));}['set'](_0x226c6b,_0xdb195e){return this['origin']['copy'](_0x226c6b),this['direction']['copy'](_0xdb195e),this;}['copy'](_0x108849){return this['set'](_0x108849['origin'],_0x108849['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const mc='linear',Nf='inverse',dy='exponentia'+'l',nt=-0x62*-0x4a+-0xaf*-0x2a+-0x12a*0x31,oe=0x761+-0x24e3+-0x1d83*-0x1,zf=0x3d*-0x3e+-0x953*0x2+0x216e,Uf=0x1*0x8e1+-0x1a*-0xa7+-0xbd*0x23,ct=-0x31c+-0x3*0x477+0x1082,TS=0x8f3+-0xee4+0x5f3,uy=0x25d2+0x1c1*0xd+0x3c9b*-0x1,AS=0x6dd*0x5+-0xd6d+0x14df*-0x1,_c=-0x1*-0x11af+0x2*-0x38f+0x1*-0xa8b,gc=-0x47*0x3+0x104d+-0x1*0xf70,Ut=-0x244e*0x1+0x31*-0xc1+-0x11*-0x44f,ES=0x24ad*0x1+-0x105e+-0x144d,CS=0x2449+-0x79*-0x21+0x10f*-0x31,MS=-0x11*0x1db+0x34*-0x9c+-0x3*-0x1515,ts=-0x830+0x248d+-0x1c5d,Ph=0x14a1+-0x7ef+-0xcb1,fy=-0xc12+0x5ab*-0x6+0x2e16,PS=-0x2648+0x1c43*-0x1+0x428e,Io=0x1*0x13fd+-0x1*0xeab+-0x551,Do=-0x2*0xecb+0x1900+0x126*0x4,Rh=0x12a3+-0x185a+0x5bb*0x1,vt=-0xb*0x301+0xa8*-0x31+-0x1*-0x4133,nn=0x24cb+-0x2275*0x1+0xc7*-0x3,xo=0x1*0x4ff+0x1ac1+-0x1fbe,RS=0x321*-0x6+-0x1e6e+0x3137,fe=0xd03+0x1*-0xef2+-0x9*-0x37,at=0x689*0x1+-0x274+-0x414*0x1,yc=0x1*0x6d9+0x13*-0x2b+0x1d3*-0x2,xc=0xf1*-0x3+-0x1c0d+0x1ee3,Sc=0x18e*-0x2+-0x3c0+0x6e0,an=0xb2*-0x37+-0x1c38+0x9*0x763,IS=-0x9e1+-0x10cb+-0x472*-0x6,Ih=-0x7f*-0x1d+0x1afe+-0x296*0x10,Dh=0x25ba+-0x1c8a+-0x92e,gu=0x4ea+-0x572+0x8b,DS=-0x2*-0x472+-0x298+-0x648,LS=0xa3e+-0xc22*0x1+0x1e9,FS=0x352+-0x2d*-0x4f+-0x112f,Ri=0xe72*-0x1+-0x2*0xa57+-0x2327*-0x1,yu=-0x7*-0x35d+0x1c10+-0x339b,Fi=-0x1211+0x1f1e*-0x1+-0x1*-0x3130,or=-0x5a9+0x11f3*0x2+-0x1e3b,py=0x2359+-0x1cc*-0xd+-0x3ab5,my=0x72+-0x26e5+0x99d*0x4,Vf=0x4*-0x697+0x1*0x19c+-0x1*-0x18c2,vc=0xaad*-0x2+-0x1765*0x1+0x2cc2,Gf=-0x23ae+0xf*-0x1c3+0x3e1f,bc=-0x1f18+0x130e+0x405*0x3,ur=-0x4*-0x2f5+-0x63*-0x64+-0x327a,Te=-0x24b2+-0x3d*-0x69+0x7*0x1ac,wc=0x7e+-0xf5+-0x1*-0x7f,Hf=-0x2372+0x1*-0x1619+0x2*0x1cca,Yo=-0x3*0x2ab+0x1b04+-0x12f9,Tc=-0x7cc+-0xe*-0x1d3+-0x11b3,it=0x6c5+0x1323+0x2*-0xcee,Ac=0x1*-0x1655+-0x4*-0x509+0x29*0xe,et=0x15b5*-0x1+0x1482+0x141*0x1,Oi=0x3*0x22b+0x1f*0x119+0xd*-0x31d,Di=0x1879+-0x2b1*0x9+-0x30,Ec=-0x127d+0xbec+0x6a2,ya=-0x1*-0x10ab+0xab*0x25+0x2*-0x14a8,Wf=0x838+-0x6*0x2c3+-0x86d*-0x1,cs=0x22aa+0x17*-0xcd+-0x102b,Cc=0x28*0x80+0x1e2b+0x3216*-0x1,$f=0x382+-0x1e50+-0x1*-0x1ae4,qf=-0x1*0x1bbf+-0x26c5+-0x429b*-0x1,Ko=0x11d+-0x35e*-0xa+-0x22b1,Zo=0x6a6*0x1+-0x2564+0x1ed7,Mc=-0x16*0xa1+0x4a7*-0x3+0x1be5,Pc=0x72a+-0x1024+0xf*0x9b,_y=-0x40a+0xf*-0x119+0x149d,gy=-0x781+0xcac+-0x2*0x287,yy=-0x97*0x3+0x935+-0x752,xy=-0x26d6+-0x196e+0x4063,Xf=-0x1a5*0xb+-0x2*-0xecd+-0xb*0x109,Sy=0x91*-0xf+-0x14c7*0x1+0x1d67,jf=0x1d98+0x1f64+-0x3cda,Yf=-0x5*-0x50d+0x1*-0x10b9+0x1*-0x865,Kf=0x778+0x581*-0x1+-0x1d3,on=-0x100f*-0x2+0x138c+-0x3385,Zf=0x131f+-0x63b+-0xcbe,vy=0x10*0xf1+-0x212a+-0x1*-0x1241,Qf=-0x55*0x1b+-0x8c+-0x37*-0x2d,Jf=0x1bd7+0x51f+-0x20cd,ep=-0xfec+-0x919+0x192f*0x1,tp=-0x9f0*-0x2+-0x1*-0x2064+-0x3419,sp=0x1*0xac5+-0x145+-0x954,by=0x18ae+0x1f*0xe3+-0x33fe,ip=0x0+0x1*0x1a81+-0x1a53,Rc=-0x6e0+0xd*-0x2ef+0xa*0x485,rp=-0x1231+-0x1*-0x109d+0x1c4,yt=-0x15a0+0x7a0+0xe31,xa=0x643+-0x167*-0x9+0x12b0*-0x1,np=0x1f35*-0x1+-0x10bc+-0x3*-0x100c,ap=0x3*-0x1ba+0x1d52+0x17f0*-0x1,op=-0xdb7*-0x2+-0x1388+-0x7b1,xu=-0xd*-0x26a+0x13*0x16d+0x5f*-0x9d,Su=-0x53*0x43+0x115*-0x17+0x2ed3,vu=-0x513*0x6+0x24b5*-0x1+0x1*0x435f,bu=-0x1ba1+-0x973+0x2551,wu=-0x1498+0x1eb1+-0x1d*0x57,Tu=0x13*-0x175+-0x1a4e+0x363c,wy=-0x264b+-0x1527+0x1*0x3bb2,Ty=0x5*-0x6a2+-0x2*-0x901+-0x107*-0xf,Ay=0x9*-0x3a5+0x895+0x187a,Ey=0x3f0+0x7*-0x3bf+0x94*0x27,Au=-0x4*-0x3e6+-0x131*-0x10+-0x2264,ca=-0x313*-0x5+0x21fb*0x1+-0x3115,At=new Map([[py,{'name':'A8','size':0x1,'ldr':!(0x126a+-0x1776+0x4c*0x11)}],[ap,{'name':'R8','size':0x1,'ldr':!(0x45b+0xd10+-0x7*0x27d)}],[my,{'name':'L8','size':0x1,'ldr':!(-0x1*0x2db+-0xc62+0xf3d)}],[Vf,{'name':'LA8','size':0x2,'ldr':!(-0x135b*-0x2+0x1*-0x150f+0x1*-0x11a7)}],[op,{'name':'RG8','size':0x2,'ldr':!(0x53c+-0xc88+0x74c)}],[vc,{'name':'RGB565','size':0x2,'ldr':!(-0xa*0x43+-0x17e5+0x1*0x1a83)}],[Gf,{'name':'RGBA5551','size':0x2,'ldr':!(-0x4c4+-0x1ba4+0x2068)}],[bc,{'name':'RGBA4','size':0x2,'ldr':!(0x1cf+-0x151*0xb+0xcac)}],[ur,{'name':'RGB8','size':0x4,'ldr':!(-0xaf*0xd+-0x9*0x133+-0x1ca*-0xb)}],[Te,{'name':'RGBA8','size':0x4,'ldr':!(-0xab1+0x5*-0x3ec+-0x1*-0x1e4d),'srgbFormat':cs}],[xa,{'name':'R16F','size':0x2}],[np,{'name':'RG16F','size':0x4}],[Tc,{'name':'RGB16F','size':0x8}],[it,{'name':'RGBA16F','size':0x8}],[Ac,{'name':'RGB32F','size':0x10}],[et,{'name':'RGBA32F','size':0x10}],[Oi,{'name':'R32F','size':0x4}],[Di,{'name':'DEPTH','size':0x4}],[ca,{'name':'DEPTH16','size':0x2}],[Ec,{'name':'DEPTHSTENC'+'IL','size':0x4}],[ya,{'name':'111110F','size':0x4}],[Wf,{'name':'SRGB8','size':0x4,'ldr':!(0xd8f*0x1+-0xb7b+-0x214),'srgb':!(0x7*0x395+0xee2+-0x27f5)}],[cs,{'name':'SRGBA8','size':0x4,'ldr':!(0x235f+-0x1d*0x3b+0x396*-0x8),'srgb':!(0x1*0xb99+-0x1854+-0x1*-0xcbb)}],[xy,{'name':'BGRA8','size':0x4,'ldr':!(0x26ec+0x210d+-0x47f9)}],[wy,{'name':'SBGRA8','size':0x4,'ldr':!(-0x1c3a+0x1d46*-0x1+0x3980),'srgb':!(0x133c*-0x2+0xd3*-0x12+0x2*0x1aa7)}],[wc,{'name':'DXT1','blockSize':0x8,'ldr':!(-0x2*-0xcc7+-0x227*0xa+-0x2b*0x18),'srgbFormat':xu}],[Hf,{'name':'DXT3','blockSize':0x10,'ldr':!(-0x5d2+0x1c35+-0x1663),'srgbFormat':Su}],[Yo,{'name':'DXT5','blockSize':0x10,'ldr':!(0xb0*0x1c+-0x1*0xaab+-0x895),'srgbFormat':vu}],[Cc,{'name':'ETC1','blockSize':0x8,'ldr':!(-0x2163+-0x1*0xb0f+0x2c72)}],[$f,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(-0x43*-0xe+-0xaf9*-0x1+0x1*-0xea3),'srgbFormat':bu}],[qf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x359*0x3+0x1690+-0x209b*0x1),'srgbFormat':wu}],[Ko,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x1*-0x1a45+0x53*-0x2d+-0x146e*-0x2),'blockSize':0x8}],[Zo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(-0x1871+0x3fa*-0x4+0x139*0x21),'blockSize':0x8}],[Mc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x9d*0xa+0x1b34+-0x2156),'blockSize':0x8}],[Pc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0x2077+-0x1756+0x5*0xb29),'blockSize':0x8}],[_y,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0xd66+-0x2*-0x638+0x3*0x52),'srgbFormat':Tu}],[gy,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x8f*-0x1c+0x5aa+-0x154e)}],[yy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x2*0xd86+0xd09+0x11*0xd3)}],[Ty,{'name':'BC6H_RGBF','blockSize':0x10}],[Ay,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ey,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0x1*0x222+0x2*-0xc1c+0x2*0xb0b),'srgbFormat':Au}],[xu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x1e74+0x203e+0x1ca*-0x1),'srgb':!(-0x1372+-0x1*0x125f+-0x3*-0xc9b)}],[Su,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x1ba5*-0x1+0xc62+-0x2807),'srgb':!(0x1e3e+0xdb*0x9+0xb*-0x373)}],[vu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(-0xf85+-0x4b3+0xa1c*0x2),'srgb':!(-0x24c7+-0x4e*-0x7a+-0x65)}],[bu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x14ef+-0x3*-0xf1+0xbe1*-0x2),'srgb':!(-0x25c4+0x43b+0x55*0x65)}],[wu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(-0xadb*-0x2+0x20a2+-0x3658),'srgb':!(0x990*0x2+-0x1b73*0x1+0x1*0x853)}],[Tu,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x11*-0x13f+-0xe*0x1b1+0x8f9*0x5),'srgb':!(0x347*-0x7+-0x3*-0x153+0x12f8)}],[Au,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x47b+0x1*-0x1064+-0xbe9*-0x1),'srgb':!(-0x1*0x1d3+0x1540+-0x1*0x136d)}],[Xf,{'name':'R8I','size':0x1,'isInt':!(0xe3*-0x2+-0x1*-0x40+0x5*0x4e)}],[Sy,{'name':'R8U','size':0x1,'isInt':!(-0xe7*0x4+-0x1f51*-0x1+-0x1bb5*0x1)}],[jf,{'name':'R16I','size':0x2,'isInt':!(0x61*0x1b+-0x2*-0xc6b+-0xbf*0x2f)}],[Yf,{'name':'R16U','size':0x2,'isInt':!(-0x1b7*0x7+-0x26dd*0x1+-0x2*-0x196f)}],[Kf,{'name':'R32I','size':0x4,'isInt':!(0x52c*-0x2+-0xcfe*-0x1+-0x2a6)}],[on,{'name':'R32U','size':0x4,'isInt':!(-0x92f*0x1+-0xe5a+-0x4b5*-0x5)}],[Zf,{'name':'RG8I','size':0x2,'isInt':!(0x176d+-0x17+-0x1*0x1756)}],[vy,{'name':'RG8U','size':0x2,'isInt':!(-0x16*0x1af+-0x1*-0x20c6+0x444)}],[Qf,{'name':'RG16I','size':0x4,'isInt':!(0x267d+-0x20d6+-0x5a7)}],[Jf,{'name':'RG16U','size':0x4,'isInt':!(0x206d+0x218b+-0x41f8)}],[ep,{'name':'RG32I','size':0x8,'isInt':!(-0x4f4*-0x3+-0x16e9+0x1*0x80d)}],[tp,{'name':'RG32U','size':0x8,'isInt':!(-0x263c+-0x2280+-0x122f*-0x4)}],[sp,{'name':'RGBA8I','size':0x4,'isInt':!(0x2656+-0x247a+-0x1dc)}],[by,{'name':'RGBA8U','size':0x4,'isInt':!(0x1ed1+-0x67*0x2d+-0x2*0x65b)}],[ip,{'name':'RGBA16I','size':0x8,'isInt':!(-0x6ac+-0x1a7d+-0xd*-0x28d)}],[Rc,{'name':'RGBA16U','size':0x8,'isInt':!(-0x71*0x4f+0x5d5*-0x2+0x3*0xf83)}],[rp,{'name':'RGBA32I','size':0x10,'isInt':!(-0x1*-0xf0f+0x19*-0x14e+0x118f)}],[yt,{'name':'RGBA32U','size':0x10,'isInt':!(-0x1621+0x1*-0x1c5+-0x85*-0x2e)}]]),kS=_0x3caced=>{var _0x23241c;return((_0x23241c=At['get'](_0x3caced))==null?void(0x1*-0x2356+-0x18d*0x7+0x2e31):_0x23241c['blockSize'])!==void(0x1648+-0x150d+-0x2d*0x7);},Lh=_0x553a66=>{var _0x331af7;return((_0x331af7=At['get'](_0x553a66))==null?void(-0x1*-0x1f3+-0x19*-0x151+-0x116e*0x2):_0x331af7['srgb'])===!(-0x1*-0x260f+-0x52f*0x4+-0x1153);},sa=_0x597f15=>{var _0x6de2c;return((_0x6de2c=At['get'](_0x597f15))==null?void(0x1aeb+0x18fd+-0x33e8):_0x6de2c['isInt'])===!(0x1410+-0x6*-0x3e7+0x46*-0x9f);},Ic=_0x4de484=>{var _0x73f4cf;return((_0x73f4cf=At['get'](_0x4de484))==null?void(0xc07*-0x3+-0x741+0x2b56):_0x73f4cf['srgbFormat'])||_0x4de484;},OS=_0x42197c=>{for(const [_0x42cf38,_0x1da67d]of At)if(_0x1da67d['srgbFormat']===_0x42197c)return _0x42cf38;return _0x42197c;},Cy=_0x5a49e8=>{const _0xd282df=At['get'](_0x5a49e8);return!!(_0xd282df!=null&&_0xd282df['ldr']&&!(_0xd282df!=null&&_0xd282df['srgb']));},My=_0x5d9198=>{switch(_0x5d9198){case Oi:case Ac:case et:return Float32Array;case Kf:case ep:case rp:return Int32Array;case on:case tp:case yt:return Uint32Array;case jf:case Qf:case ip:return Int16Array;case op:case Yf:case Jf:case Rc:case vc:case Gf:case bc:case xa:case np:case Tc:case it:return Uint16Array;case Xf:case Zf:case sp:return Int8Array;default:return Uint8Array;}},Dc=-0x1*-0x1105+0xf6f+-0x2074,Lc=-0x1*0x1aa7+-0xc97+0x273f,Py=-0x3*-0x67f+0x2371*0x1+-0x36ec,Ry=0x3*-0x149+-0x17f7+-0x11d*-0x19,Fs=-0x3fc+-0x1b99+0x1*0x1f99,lr=-0x27*-0xaf+-0x1e62*-0x1+-0x3906,Kr=-0x3ef+0x1b1b+0xb93*-0x2,Xe='POSITION',ss='NORMAL',si='TANGENT',ei='BLENDWEIGH'+'T',Jt='BLENDINDIC'+'ES',It='COLOR',lm='TEXCOORD',ds='TEXCOORD0',yn='TEXCOORD1',Qo='TEXCOORD2',Jo='TEXCOORD3',el='TEXCOORD4',tl='TEXCOORD5',sl='TEXCOORD6',il='TEXCOORD7',Eu='ATTR0',Cu='ATTR1',Iy='ATTR2',Dy='ATTR3',Ly='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Lo='ATTR8',Fo='ATTR9',US='ATTR10',VS='ATTR11',lp='ATTR12',Sa='ATTR13',hp='ATTR14',va='ATTR15',Fy=0xf87+0x1*-0x2327+-0x14f*-0xf,da=-0x151*-0x19+-0x1279+-0xe70,GS=-0x22d5+0x19ba*0x1+-0x91d*-0x1,HS=0x1a4f+-0xd6d+-0xcdf,WS=-0x505*0x7+-0x805*0x1+0x62b*0x7,wl=0x8d+-0x16be+0x1b5*0xd,ky=-0x16d2+0x1*-0x2ea+0x1*0x19bd,ld=-0x3b5+0x8*-0x1a5+-0x7*-0x269,Bi='default',ln='rgbm',cp='rgbe',ko='rgbp',dp='swizzleGGG'+'R',Mu=-0x477+-0x3f9+-0x871*-0x1,fr=0x1*-0x2671+0x18a3+0xdd0,Oy=-0xd8d+0x9ea+0x3a6,$s='2d',$S='2d-array',qS='cube',XS='3d',uh=0x5*0x779+0x567*-0x3+-0x1528,hd=0x7a9+-0x1a83+-0x1*-0x12db,jS=0x12c1+0xf19*0x1+-0x21d8,YS=-0xc74+0x13*-0x97+0x3c*0x65,KS=-0x2cc*0x1+-0x1*-0xf8b+-0xcbb,ZS='none',Pu='cube',hm='equirect',QS='octahedral',By='glsl',Fh='wgsl',Fc=0x755+-0xc3f+0x4ea,Zr=0x6*0xda+0x2270+-0x278b,kc=-0x18b5+-0x263c*0x1+0x3ef3,rl=0x18*-0xc1+-0x54*-0x3d+-0xa3*0x3,Ny=-0x17*0x88+-0x128e+0x1eca,Oo=-0x3*0x115+-0x763*-0x1+0x5*-0xd3,Re=-0x7bf+0x2367+-0xdd1*0x2,ua=0x999+-0x411+-0x588,hn=0x1842+0xcf8+-0x1*0x2539,Ks=-0x7bc+0x26c7+-0x1f09,hr=0x4d*-0x7a+0x2521+-0x24*0x3,Qt=0x851*-0x1+-0x1d2+-0x1*-0xa27,ba=-0x6*-0x3c3+0x1*0x2695+0x272*-0x19,Qr=0x1*-0x61f+-0xaed*0x3+0x26ec*0x1,Jr=0x252c+-0x49*0x29+0x2*-0xcba,en=-0x2b0+0x53*-0x1c+-0xa*-0x12e,Bo=0x161+-0x179c+0x32*0x72,No=-0x2*0x1b8+-0x1719+-0x1*-0x1a93,zo=-0x1546*-0x1+-0x568+-0xfd3,kh=-0x252a+-0x1f70+0x44a6,Uo=-0x11e3+0x1*0x264e+-0x145e,wa=-0x1*-0x21e0+0x14b3+-0x11*0x335,JS=-0x2641*-0x1+-0x1*-0x10c9+-0x233*0x19,ev=-0x1*0x1499+0x2f9+0x10*0x11b,Oc=-0x642+-0x390+0x9e3,tv=-0x2*-0x752+-0x1393+0x3*0x1ab,sv=0x1a3*0x14+0x2554+-0x45fd,iv=-0x26fe*-0x1+-0x159a+0x10*-0x115,Bc=-0x5*0x127+-0x11*-0x2f+0x1*0x2b9,Nc=0x99c+-0xf4a+0x5c4,up=0x5c4+0x20ef+-0x161*0x1c,zy=0xabb*-0x3+0x23a3+-0x1*0x35a,rv=0x298+-0x1fb+-0x84,Ta=-0x2*0x7f6+-0x502+0x1508,Aa=0x293*0x8+-0x13b3+-0xca,Ea=-0x4*0x479+0xb47+0x6b9,Ca=0x70e+0x1ab2+-0x21a3,Ma=-0x21de+-0x11f8+0x33f4,zc=-0x2*0x16f+-0x67d+-0x1*-0x97a,Uc=-0xdf9+0x1840+-0x1*0xa27,Pa=-0x656*0x4+-0x85*-0xb+-0x696*-0x3,Vc=0x119f+0x442+-0x15bf,Gc=-0x3b*-0x4f+0x245b+-0x366d,Ra=-0xa2d+0x23e7+0x28f*-0xa,Hc=0x969+0x30*0x61+-0x1b74,Wc=-0x4d6*0x7+0x27d+0x1f83*0x1,Oh=-0x175*0x1+-0x2f*0xbb+0xbfb*0x3,fp=0x850+-0x62+-0xa*0xc7,pp=-0x10*0xcc+0x1341+-0x7*0xe8,nv=-0x15bf+-0x15c*-0xf+0x1*0x185,av=0xc*-0x23d+0x85*-0x11+0x55*0x6c,ov=-0x4*-0x466+0xe71*0x1+-0x1fdd,lv=0x24ac+0x1*0x301+-0x278*0x10,hv=0x10ef*0x1+0x1b92+-0x2c53,cv=0x77*0x22+-0x1*0x1393+0x3f4,dv=0x30+-0x2ff+0x2ff,uv=-0x1ed5*0x1+0x1c24+0x7b*0x6,mp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0x431e58,_0x481054)=>{_0x431e58['forEach'](_0x45f0f9=>pv['set'](_0x45f0f9,_0x481054));});const mv='webgl2',_p=0xf06+0x1445*0x1+0x1*-0x234a,fi=0x1*-0x1f9f+-0x6ff*0x1+-0x20*-0x135,_v=0x1*0x53f+0x45*0x64+-0x202f,gv='ldr',Uy=-0x1b80+0x144b+0x736,Vy=0x30b+0x244c+0x1*-0x2755,Gy=-0x15e1+-0x1*-0x194e+-0x369,Hy=0x1*0x1292+-0x18c7+0x63d,Wy=-0x1500+-0x13c6+0x28d6*0x1,$y=-0xf59+0x8f7+0x341*0x2,qy=0xa69+0x5eb*-0x5+0x136e,Xy=-0x161*-0x17+0x1*-0x59b+-0x199c,yv=-0x195d+-0x482*-0x8+0x1*-0x9b4,Bh=-0x1ca9+-0x2317+0x3fc0,jy=0x3ad*0x3+0xf43+0x1*-0x1a49,Ru=0x1e89+0x2*-0x1039+-0x1eb*-0x1,xv=['view','mesh','mesh_ub'],gp='default',fa=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],So=[-0x503+-0x1721+0x1c25,0xfc*-0x19+-0x1352*0x2+-0x1*-0x3f41,-0x45d*0x5+0x22f9+-0xd26,-0x7*0x3fb+0x3*0x1d1+0x166c,-0x248a+-0x19b6+-0x3e44*-0x1,-0x8*-0x45d+0x2508+-0x47ec,0x26cb+-0x19d5+-0xcf2,0x16c5+0x1bd9+-0x329c],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Nh=[Uint8Array,Uint16Array,Uint32Array],vv=[0x435+-0x1*0x5f3+0x1bf,0x31*-0x19+-0x97b*-0x1+0xf0*-0x5,-0x1e43+0x838+0x160f],Ae={};Ae[Xe]=-0xcc*0x18+0x5f*0x2f+0x1af,Ae[ss]=-0x37d+-0xc19*-0x3+-0x20cd,Ae[ei]=0x169f*-0x1+0xeed+0x4*0x1ed,Ae[Jt]=0x20b3+0x43f+0x9b*-0x3d,Ae[It]=-0x2674+0x1cea+0x1*0x98e,Ae[ds]=0xf66+-0x1*-0x1f5b+0x3e5*-0xc,Ae[yn]=-0x6ca+0x44a+0x286,Ae[Qo]=0x12d*-0x1+-0x11b*-0x14+0x1*-0x14e8,Ae[Jo]=0x1531+0x16*0x161+0x337f*-0x1,Ae[el]=-0x161e+-0xadb+0x152*0x19,Ae[tl]=0x854*-0x3+0x18c6+0x40,Ae[sl]=-0x560+-0x8ee+-0x1*-0xe59,Ae[il]=0x696*-0x5+-0x149*-0x13+0x88f,Ae[si]=-0x1b*-0xc+-0x103f+0xf08,Ae[Eu]=-0x978*0x1+0x248e*-0x1+-0x112*-0x2b,Ae[Cu]=-0xb*-0x6b+-0x3*-0xbe1+-0x1*0x283b,Ae[Iy]=-0xac7+0x169f*0x1+-0xa*0x12f,Ae[Dy]=-0x19c9+-0x4b5*-0x7+-0x727,Ae[Ly]=-0x12f9+-0x26*0xc7+0x3087,Ae[BS]=0x2375+0x1a53+-0x3dc3,Ae[NS]=0xf26+0x4*-0x3f1+0xa4,Ae[zS]=-0x269f+0x1*-0x268f+-0x127*-0x43,Ae[Lo]=0x24da+0xf2c*-0x2+0x2*-0x33d,Ae[Fo]=-0x1*-0x21b9+0x373*-0x2+-0x1aca,Ae[US]=0x243*-0x2+0x484+0x4*0x3,Ae[VS]=0x2b*0x8f+-0x10ac+-0x74e,Ae[lp]=-0x19a*0xa+0x1ed5+0x13*-0xc7,Ae[Sa]=0x22*-0x108+-0x10*0x1ca+0x3fbd,Ae[hp]=0x1a65*0x1+-0x13*0xb0+-0xd47,Ae[va]=0x2f*-0x5+-0x65+0x27*0x9;const Gi='1.51',Mi='1.55',gr='1.56',Et='1.57',cd='1.60',Se='1.62',pi='1.65',cm='1.70',dm='2.1',bv='2.3',An='2.5',Qi=class Qi{static['clearGpuMa'+'rkers'](){Qi['markers']['length']=-0xaa0+-0x1*-0x385+0x71b;}static['pushGpuMar'+'ker'](_0x258187,_0x139353){Qi['markers']['push'](_0x139353),_0x258187['pushMarker'](_0x139353);}static['popGpuMark'+'er'](_0x37c417){Qi['markers']['length']&&Qi['markers']['pop'](),_0x37c417['popMarker']();}static['toString'](){return Qi['markers']['join']('\x20|\x20');}};c(Qi,'markers',[]);let G=Qi,wv=-0x29*-0xad+-0x89*-0x2a+-0x322f;const Tv={[$s]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[$S]:'texture2DA'+'rray'};class $c{constructor(_0x2d3e49,_0xf6ba96){c(this,'slot',-(-0x238+-0x16c7+-0x28*-0xa0)),c(this,'scopeId',null),(this['name']=_0x2d3e49,this['visibility']=_0xf6ba96);}}class yp extends $c{}class Av extends $c{constructor(_0x3896c2,_0x56a694,_0x4ce8b9=!(0x159c+0x12b5*-0x1+-0xe*0x35)){super(_0x3896c2,_0x56a694),c(this,'format',''),(this['readOnly']=_0x4ce8b9,b['assert'](_0x4ce8b9||!(_0x56a694&_p),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class yi extends $c{constructor(_0x1ab3f6,_0x30c0a3,_0x4c22a2=$s,_0x27a837=uh,_0x493462=!(0x858+-0x2304+0x1aac),_0x11aebb=null){super(_0x1ab3f6,_0x30c0a3),this['textureDim'+'ension']=_0x4c22a2,this['sampleType']=_0x27a837,this['hasSampler']=_0x493462,this['samplerNam'+'e']=_0x11aebb??_0x1ab3f6+'_sampler';}}class Ev extends $c{constructor(_0xbe5ce4,_0x3d1c64=Te,_0x271e8a=$s,_0x651d62=!(-0x2*0x3b9+0x2521+-0x1daf),_0x4b107a=!(0x2bd*0x3+0x934*0x1+-0x116a)){super(_0xbe5ce4,_v),this['format']=_0x3d1c64,this['textureDim'+'ension']=_0x271e8a,this['write']=_0x651d62,this['read']=_0x4b107a;}}class Yy{constructor(_0x1aeaf3,_0x267a21){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,gn['setName'](this,'BindGroupF'+'ormat_'+this['id']),b['assert'](_0x267a21));let _0x32870b=0x2190+-0x3c0+-0x1dd0;_0x267a21['forEach'](_0x417add=>{_0x417add['slot']=_0x32870b++,_0x417add instanceof yi&&_0x417add['hasSampler']&&_0x32870b++,_0x417add instanceof yp?this['uniformBuf'+'ferFormats']['push'](_0x417add):_0x417add instanceof yi?this['textureFor'+'mats']['push'](_0x417add):_0x417add instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x417add):_0x417add instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x417add):b['assert']('Invalid\x20bi'+'nd\x20format',_0x417add);}),this['device']=_0x1aeaf3;const _0x3b3d83=_0x1aeaf3['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x3afe2b,_0x5dec33)=>this['bufferForm'+'atsMap']['set'](_0x3afe2b['name'],_0x5dec33)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0xf30d3d,_0x5ac97b)=>{this['textureFor'+'matsMap']['set'](_0xf30d3d['name'],_0x5ac97b),_0xf30d3d['scopeId']=_0x3b3d83['resolve'](_0xf30d3d['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0xf01f04,_0x1c01f6)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0xf01f04['name'],_0x1c01f6),_0xf01f04['scopeId']=_0x3b3d83['resolve'](_0xf01f04['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x315d59,_0x13cc02)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x315d59['name'],_0x13cc02),_0x315d59['scopeId']=_0x3b3d83['resolve'](_0x315d59['name']);}),this['impl']=_0x1aeaf3['createBind'+'GroupForma'+'tImpl'](this),b['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x59203e){const _0x192eb3=this['textureFor'+'matsMap']['get'](_0x59203e);return _0x192eb3!==void(0x1*-0x595+-0x26b*0x5+0x11ac)?this['textureFor'+'mats'][_0x192eb3]:null;}['getStorage'+'Texture'](_0x594c90){const _0x136129=this['storageTex'+'tureFormat'+'sMap']['get'](_0x594c90);return _0x136129!==void(-0x111f+0x16c1+-0x5a2)?this['storageTex'+'tureFormat'+'s'][_0x136129]:null;}['getShaderD'+'eclaration'+'Textures'](_0x501327){let _0x46a8ef='';return this['textureFor'+'mats']['forEach'](_0x213fd1=>{let _0x301e25=Tv[_0x213fd1['textureDim'+'ension']];b['assert'](_0x301e25,'Unsupporte'+'d\x20texture\x20'+'type',_0x213fd1['textureDim'+'ension']);const _0x167d47=_0x301e25==='texture2DA'+'rray',_0x36ca6e=_0x213fd1['sampleType']===KS?'u':_0x213fd1['sampleType']===YS?'i':'';_0x301e25=''+_0x36ca6e+_0x301e25;let _0x43dc8e='',_0x353f1a='';_0x167d47&&(_0x43dc8e='_texture',_0x353f1a='#define\x20'+_0x213fd1['name']+'\x20'+_0x36ca6e+('sampler2DA'+'rray(')+_0x213fd1['name']+_0x43dc8e+',\x20'+_0x213fd1['name']+'_sampler)\x0a'),_0x46a8ef+='layout(set'+'\x20=\x20'+_0x501327+(',\x20binding\x20'+'=\x20')+_0x213fd1['slot']+')\x20uniform\x20'+_0x301e25+'\x20'+_0x213fd1['name']+_0x43dc8e+';\x0a',_0x213fd1['hasSampler']&&(_0x46a8ef+='layout(set'+'\x20=\x20'+_0x501327+(',\x20binding\x20'+'=\x20')+(_0x213fd1['slot']+(0x2*0x111d+-0x270f+-0x26b*-0x2))+(')\x20uniform\x20'+'sampler\x20')+_0x213fd1['name']+'_sampler;\x0a'),_0x46a8ef+=_0x353f1a;}),_0x46a8ef;}['loseContex'+'t'](){}}class Ht{constructor(){c(this,'_cache',new Map());}['get'](_0x5848dc,_0x3e592b){return this['_cache']['has'](_0x5848dc)||(this['_cache']['set'](_0x5848dc,_0x3e592b()),_0x5848dc['on']('destroy',()=>{this['remove'](_0x5848dc);}),_0x5848dc['on']('devicelost',()=>{var _0x2429c6,_0x40843e;(_0x40843e=(_0x2429c6=this['_cache']['get'](_0x5848dc))==null?void(-0x1dda+-0xd60*0x1+0x159d*0x2):_0x2429c6['loseContex'+'t'])==null||_0x40843e['call'](_0x2429c6,_0x5848dc);})),this['_cache']['get'](_0x5848dc);}['remove'](_0x34a7a0){var _0x56a4a1,_0x59aa27;(_0x59aa27=(_0x56a4a1=this['_cache']['get'](_0x34a7a0))==null?void(0x5*-0x2c+-0x9f5*-0x3+-0x1d03):_0x56a4a1['destroy'])==null||_0x59aa27['call'](_0x56a4a1,_0x34a7a0),this['_cache']['delete'](_0x34a7a0);}}class Li{static['calcLevelD'+'imension'](_0x400ff6,_0x5b2f43){return Math['max'](_0x400ff6>>_0x5b2f43,0x1*-0x1e29+0x2531+-0x707*0x1);}static['calcMipLev'+'elsCount'](_0x39ea15,_0x87e075,_0x36f1c9=-0x1364+0x89e+-0x59*-0x1f){return 0x5b*0x38+-0x8b8+-0xb2f+Math['floor'](Math['log2'](Math['max'](_0x39ea15,_0x87e075,_0x36f1c9)));}static['calcLevelG'+'puSize'](_0x543c91,_0x22d948,_0x2cda4f,_0x5f2994){var _0x4296ad;const _0x202d9e=At['get'](_0x5f2994);b['assert'](_0x202d9e!==void(-0xc00+0x2129*-0x1+-0x2d29*-0x1),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x5f2994);const _0x59cc25=((_0x4296ad=At['get'](_0x5f2994))==null?void(-0x1a6*-0xb+-0x1ae3+0x8c1):_0x4296ad['size'])??-0x22c9+-0x1*0x1a3f+0x3d08;if(_0x59cc25>0xcc1*-0x1+0x2339+-0x8*0x2cf)return _0x543c91*_0x22d948*_0x2cda4f*_0x59cc25;const _0x4e75e0=_0x202d9e['blockSize']??0x18e8+-0x80*-0x1a+-0x25e8;let _0x3016df=Math['floor']((_0x543c91+(0x1a44+0x215b+-0x3b9c))/(0x3f9+-0x1b5*0x9+0xb68));const _0x478c38=Math['floor']((_0x22d948+(-0xf5a+-0x1ab*0xf+0x2862))/(0x11b3+0x83+-0x1232)),_0x401734=Math['floor']((_0x2cda4f+(-0x3*0xb89+0x2b*-0xc7+0x440b))/(0xb*0x41+-0x1647+0x10*0x138));return(_0x5f2994===Ko||_0x5f2994===Zo)&&(_0x3016df=Math['max'](Math['floor'](_0x3016df/(0xa60+0x170d+-0x3b*0x91)),-0xa9*0x17+0x22b4+0x9c2*-0x2)),_0x3016df*_0x478c38*_0x401734*_0x4e75e0;}static['calcGpuSiz'+'e'](_0x55d1d1,_0x39054d,_0x3cba8c,_0x52d502,_0x64ade,_0x13268b){let _0x1a142a=-0x1b33+-0x1771+-0x73c*-0x7;for(;_0x1a142a+=Li['calcLevelG'+'puSize'](_0x55d1d1,_0x39054d,_0x3cba8c,_0x52d502),!(!_0x64ade||_0x55d1d1===0x1574+0x1cd+-0x7c*0x30&&_0x39054d===0x4d*-0x16+0x15a*-0x1b+0x2b1d&&_0x3cba8c===0x1b2f+-0x19b8+-0x176);)_0x55d1d1=Math['max'](_0x55d1d1>>0x5cb+-0xb*-0x2ea+0xad*-0x38,0x33*0xb9+-0x1300+-0x392*0x5),_0x39054d=Math['max'](_0x39054d>>0x17*0x18e+0x1603+-0x1*0x39c4,-0x1*0x1a87+0x564*-0x4+0x3018),_0x3cba8c=Math['max'](_0x3cba8c>>0x234d+-0x1406+0xe6*-0x11,-0x69*0x8+0x11b*0x20+-0x2017);return _0x1a142a*(_0x13268b?-0xe*-0x11e+0xbf4+-0x1b92:-0xc7b+-0x14c3*-0x1+-0x847);}}let Cv=0x26c8+0x1fdd+-0x46a5;class ce{constructor(_0x382444,_0x57ec5f={}){c(this,'name'),c(this,'_gpuSize',0xa18*0x2+-0x171d+0x2ed),c(this,'id',Cv++),c(this,'_invalid',!(0x2*-0x529+-0x1d90+0x27e3)),c(this,'_lockedLev'+'el',-(-0x2674+0x10*-0xda+0x3415)),c(this,'_lockedMod'+'e',wl),c(this,'renderVers'+'ionDirty',-0x101*-0x2+-0x1182+-0x3e*-0x40),c(this,'_storage',!(-0x1f*0xca+0xbaa+0xccd)),c(this,'_numLevels',-0x4fe*-0x2+-0x7ed+0x1*-0x20f),c(this,'_numLevels'+'Requested');var _0x3fda8e;this['device']=_0x382444,b['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),b['assert'](!_0x57ec5f['width']||Number['isInteger'](_0x57ec5f['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x57ec5f),b['assert'](!_0x57ec5f['height']||Number['isInteger'](_0x57ec5f['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x57ec5f),b['assert'](!_0x57ec5f['depth']||Number['isInteger'](_0x57ec5f['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x57ec5f),this['name']=_0x57ec5f['name']??'',this['_width']=Math['floor'](_0x57ec5f['width']??-0x9a*-0x2d+-0x2677+0xb69),this['_height']=Math['floor'](_0x57ec5f['height']??-0x1097+-0x719+0x17b4),this['_format']=_0x57ec5f['format']??Te,this['_compresse'+'d']=kS(this['_format']),this['_integerFo'+'rmat']=sa(this['_format']),this['_integerFo'+'rmat']&&(_0x57ec5f['minFilter']=fe,_0x57ec5f['magFilter']=fe),this['_volume']=_0x57ec5f['volume']??!(0xc60+0x1*0x24d7+-0x2*0x189b),this['_depth']=Math['floor'](_0x57ec5f['depth']??0x1*-0x133a+0xb*0x266+-0x727),this['_arrayLeng'+'th']=Math['floor'](_0x57ec5f['arrayLengt'+'h']??-0x1af*-0xd+0x1529*0x1+-0x2b0c),this['_storage']=_0x57ec5f['storage']??!(0x1adf+-0x162d+0x4b1*-0x1),this['_cubemap']=_0x57ec5f['cubemap']??!(0x13f7+0x1ed*-0xd+0x513),this['_flipY']=_0x57ec5f['flipY']??!(0x9af+-0x1b22+0x4*0x45d),this['_premultip'+'lyAlpha']=_0x57ec5f['premultipl'+'yAlpha']??!(0x23c3+0x1bc3+-0x2c3*0x17),this['_mipmaps']=_0x57ec5f['mipmaps']??!(-0x5*0x243+-0x2160+0x4f7*0x9),this['_numLevels'+'Requested']=_0x57ec5f['numLevels'],_0x57ec5f['numLevels']!==void(-0x212f*-0x1+0x308+0x7f*-0x49)&&(this['_numLevels']=_0x57ec5f['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x57ec5f['minFilter']??an,this['_magFilter']=_0x57ec5f['magFilter']??at,this['_anisotrop'+'y']=_0x57ec5f['anisotropy']??0x1*0x2646+0x1*0x1ad5+-0x411a,this['_addressU']=_0x57ec5f['addressU']??nt,this['_addressV']=_0x57ec5f['addressV']??nt,this['_addressW']=_0x57ec5f['addressW']??nt,this['_compareOn'+'Read']=_0x57ec5f['compareOnR'+'ead']??!(-0x427+-0x16aa+0x1ad2),this['_compareFu'+'nc']=_0x57ec5f['compareFun'+'c']??Ih,this['type']=_0x57ec5f['hasOwnProp'+'erty']('type')?_0x57ec5f['type']:Bi,b['assert'](!_0x57ec5f['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),b['assert'](!_0x57ec5f['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Pu:_0x57ec5f['projection']&&_0x57ec5f['projection']!==Pu&&(this['projection']=_0x57ec5f['projection']),this['profilerHi'+'nt']=_0x57ec5f['profilerHi'+'nt']??0x1*0x1871+0x4*0xc1+-0xb*0x27f,this['_levels']=_0x57ec5f['levels'];const _0x58315f=!!_0x57ec5f['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x58315f),_0x382444['textures']['push'](this),b['trace'](Zp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x3fda8e=At['get'](this['format']))==null?void(-0x1d09*0x1+0x137b+-0x98e*-0x1):_0x3fda8e['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){b['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x190f7c=this['device'];if(_0x190f7c){const _0x4dc3e0=_0x190f7c['textures']['indexOf'](this);_0x4dc3e0!==-(-0x29*-0x7f+0x1*-0x1421+-0x1*0x35)&&_0x190f7c['textures']['splice'](_0x4dc3e0,0xdef*-0x1+0x448*0x9+-0x1898),_0x190f7c['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x190f7c),this['adjustVram'+'SizeTracki'+'ng'](_0x190f7c['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x51d6b3=!(0xae3*0x2+-0x1*-0x170f+-0x2cd5)){var _0x929c16;const {device:_0x44cade}=this;(_0x929c16=this['impl'])==null||_0x929c16['destroy'](_0x44cade),this['impl']=null,this['impl']=_0x44cade['createText'+'ureImpl'](this),this['dirtyAll'](),_0x51d6b3&&this['upload']();}['resize'](_0x2dbd3c,_0x18b55b,_0x3c6aae=0x27c+0x1b18+0x1d93*-0x1){const _0x1d6e3d=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x1d6e3d['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x1d6e3d),this['_width']=Math['floor'](_0x2dbd3c),this['_height']=Math['floor'](_0x18b55b),this['_depth']=Math['floor'](_0x3c6aae),this['_updateNum'+'Level'](),this['impl']=_0x1d6e3d['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x6d1e06,_0x1a0101){b['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x1a0101+('\x20vram.text'+'ure:\x20')+_0x6d1e06['tex']+'\x20=>\x20'+(_0x6d1e06['tex']+_0x1a0101)),_0x6d1e06['tex']+=_0x1a0101,this['profilerHi'+'nt']===Mu?_0x6d1e06['texShadow']+=_0x1a0101:this['profilerHi'+'nt']===fr?_0x6d1e06['texAsset']+=_0x1a0101:this['profilerHi'+'nt']===Oy&&(_0x6d1e06['texLightma'+'p']+=_0x1a0101);}['propertyCh'+'anged'](_0x10ade6){this['impl']['propertyCh'+'anged'](_0x10ade6),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x40b29b=this['mipmaps']?Li['calcMipLev'+'elsCount'](this['width'],this['height']):-0xc7c+-0x1*0xf25+0x312*0x9,_0x2d413e=this['_numLevels'+'Requested'];_0x2d413e!==void(-0x1c4f+-0x125*0x2+0x1e99)&&_0x2d413e>_0x40b29b&&b['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x40b29b,this),this['_numLevels']=Math['min'](_0x2d413e??_0x40b29b,_0x40b29b),this['_mipmaps']=this['_numLevels']>-0x1*-0xd8e+0x8b3*0x4+0x1*-0x3059;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x3b3c04){this['_minFilter']!==_0x3b3c04&&(sa(this['_format'])?b['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x3b3c04,this['propertyCh'+'anged'](Uy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x427bd7){this['_magFilter']!==_0x427bd7&&(sa(this['_format'])?b['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x427bd7,this['propertyCh'+'anged'](Vy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x144700){this['_addressU']!==_0x144700&&(this['_addressU']=_0x144700,this['propertyCh'+'anged'](Gy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x452aa3){this['_addressV']!==_0x452aa3&&(this['_addressV']=_0x452aa3,this['propertyCh'+'anged'](Hy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x3836a6){if(!this['_volume']){b['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x3836a6!==this['_addressW']&&(this['_addressW']=_0x3836a6,this['propertyCh'+'anged'](Wy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x58f227){this['_compareOn'+'Read']!==_0x58f227&&(this['_compareOn'+'Read']=_0x58f227,this['propertyCh'+'anged']($y));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x8996ce){this['_compareFu'+'nc']!==_0x8996ce&&(this['_compareFu'+'nc']=_0x8996ce,this['propertyCh'+'anged'](qy));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x26f07f){this['_anisotrop'+'y']!==_0x26f07f&&(this['_anisotrop'+'y']=_0x26f07f,this['propertyCh'+'anged'](Xy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x24d380){this['_mipmaps']!==_0x24d380&&(this['device']['isWebGPU']?b['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):sa(this['_format'])?b['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x24d380,_0x24d380&&(this['_needsMipm'+'apsUpload']=!(0x1989+-0x8bf+0x1*-0x10ca)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x51e535=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x16e0+-0xd32+0x5*0x737);return Li['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x51e535,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0x1cbc+-0x1ede+0x222;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x16666b){var _0x490fef,_0x42071d,_0x332f71,_0x5dffd3;const _0x1af849=Lh(this['format']);if(_0x16666b!==_0x1af849){if(_0x16666b){const _0x49ef6a=Ic(this['format']);this['_format']!==_0x49ef6a&&(b['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x490fef=At['get'](this['format']))==null?void(-0xf2*-0x4+-0xad*-0xf+-0x1fd*0x7):_0x490fef['name'])+'\x20->\x20'+((_0x42071d=At['get'](_0x49ef6a))==null?void(0x2*-0x187+0x20b*-0x3+-0x92f*-0x1):_0x42071d['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x49ef6a,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x167*0xf+-0x29f+-0x126a*0x1));}else{const _0x506e61=OS(this['format']);this['_format']!==_0x506e61&&(b['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x332f71=At['get'](this['format']))==null?void(0x1c1e+0x19d4+-0x35f2):_0x332f71['name'])+'\x20->\x20'+((_0x5dffd3=At['get'](_0x506e61))==null?void(0x1*-0xe8f+-0x21ee+-0x307d*-0x1):_0x5dffd3['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x506e61,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x9a4*-0x1+-0x33b*0x2+-0x12*-0xe5));}}}get['srgb'](){return Lh(this['format']);}set['flipY'](_0x111cbe){this['_flipY']!==_0x111cbe&&(this['_flipY']=_0x111cbe,this['_needsUplo'+'ad']=!(0x1*0x1299+0x1*0xe3c+-0x20d5));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x29d1f9){this['_premultip'+'lyAlpha']!==_0x29d1f9&&(this['_premultip'+'lyAlpha']=_0x29d1f9,this['_needsUplo'+'ad']=!(0xb64+-0xca2+0x13e));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return z['powerOfTwo'](this['_width'])&&z['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case ln:return'rgbm';case cp:return'rgbe';case ko:return'rgbp';}return Cy(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x3ab*0x5+0x13*0x13c+-0x1*0x29cb),!(-0x2592+-0x1*-0x578+0x201a),!(-0x395+-0xeee+0x1283),!(-0x713*0x2+0x1538+0x1*-0x712),!(-0x5b*-0x51+-0x250f+0x844),!(0x4be+0xf0b+0x5*-0x3f5)]]:[!(0x2660+0x1*-0x821+-0x10b*0x1d)],this['_needsUplo'+'ad']=!(-0x76*-0x3b+-0x1*-0x13b8+-0x5*0x962),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x1b3e+0x1f4d+-0x1d45*0x2),this['propertyCh'+'anged'](yv);}['lock'](_0x117ef3={}){_0x117ef3['level']??(_0x117ef3['level']=0x588*0x1+-0x3*-0xabd+-0x25bf),_0x117ef3['face']??(_0x117ef3['face']=-0x47f+0x2466+0x1fe7*-0x1),_0x117ef3['mode']??(_0x117ef3['mode']=ld),b['assert'](this['_lockedMod'+'e']===wl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),b['assert'](_0x117ef3['mode']===ky||_0x117ef3['mode']===ld,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x117ef3['mode'],this['_lockedLev'+'el']=_0x117ef3['level'];const _0x569f07=this['cubemap']?this['_levels'][_0x117ef3['face']]:this['_levels'];if(_0x569f07[_0x117ef3['level']]===null){const _0x5bbb2e=Math['max'](-0x1*0x5c6+-0x7*-0x4c1+0x58*-0x50,this['_width']>>_0x117ef3['level']),_0x27e420=Math['max'](-0x943*-0x1+-0x141f+0x39f*0x3,this['_height']>>_0x117ef3['level']),_0x44da25=Math['max'](0xc5f*0x2+0x1*-0x1b91+0x2d4,this['_depth']>>_0x117ef3['level']),_0x4142d5=new ArrayBuffer(Li['calcLevelG'+'puSize'](_0x5bbb2e,_0x27e420,_0x44da25,this['_format']));_0x569f07[_0x117ef3['level']]=new(My(this['_format']))(_0x4142d5);}return _0x569f07[_0x117ef3['level']];}['setSource'](_0x214942,_0xebb7fe=0x5*-0x10+-0x1170+0x11c*0x10){let _0x512eb3=!(-0xcd7*-0x1+-0x1*0x23b+0x3*-0x389),_0x32b25c,_0x144ffb;if(this['_cubemap']){if(_0x214942[0x1c5c+-0x1868+-0x4*0xfd]){_0x32b25c=_0x214942[-0x1fd*-0x5+-0x1be9+0x23f*0x8]['width']||-0x81*0x35+0x1fa2+-0xd*0x61,_0x144ffb=_0x214942[0xd49+0x1*-0x77d+-0x5cc*0x1]['height']||0x7*-0x1ad+-0x67*-0xd+0xd*0x80;for(let _0x2c2ae0=-0xb4*0x37+0x1c93+0x2f*0x37;_0x2c2ae0<-0x130b+0x66*0x38+0x33f*-0x1;_0x2c2ae0++){const _0xee80c6=_0x214942[_0x2c2ae0];if(!_0xee80c6||_0xee80c6['width']!==_0x32b25c||_0xee80c6['height']!==_0x144ffb||!this['device']['_isBrowser'+'Interface'](_0xee80c6)){_0x512eb3=!(-0xade*0x1+0x166f*0x1+-0xb91);break;}}}else _0x512eb3=!(-0x5dc+0x5*-0x55+-0x4d*-0x19);if(!_0x512eb3){for(let _0x51d145=0x83*0xd+-0x270e+0x2067;_0x51d145<0x100*0x2+-0xad4+0x8da;_0x51d145++)this['_levels'][_0xebb7fe][_0x51d145]!==_0x214942[_0x51d145]&&(this['_levelsUpd'+'ated'][_0xebb7fe][_0x51d145]=!(0x7c3*-0x5+0x102a*0x1+-0x20f*-0xb));}}else this['device']['_isBrowser'+'Interface'](_0x214942)||(_0x512eb3=!(0xd14+-0x10d5*-0x1+0x193*-0x13)),_0x512eb3||(_0x214942!==this['_levels'][_0xebb7fe]&&(this['_levelsUpd'+'ated'][_0xebb7fe]=!(0xcb3+-0x204*-0x5+-0x77*0x31)),_0x214942 instanceof HTMLVideoElement?(_0x32b25c=_0x214942['videoWidth'],_0x144ffb=_0x214942['videoHeigh'+'t']):(_0x32b25c=_0x214942['width'],_0x144ffb=_0x214942['height']));if(_0x512eb3){if(this['_width']=-0x311+0x1*0xfa3+-0x1*0xc8e,this['_height']=-0x2010+0x9e7+0x162d,this['_cubemap']){for(let _0x9e34a0=0x11e5+0xc73*0x1+0x4*-0x796;_0x9e34a0<-0x3a*-0x18+0x14f6+-0x1a60;_0x9e34a0++)this['_levels'][_0xebb7fe][_0x9e34a0]=null,this['_levelsUpd'+'ated'][_0xebb7fe][_0x9e34a0]=!(0xead+0x1146+-0x1ff3);}else this['_levels'][_0xebb7fe]=null,this['_levelsUpd'+'ated'][_0xebb7fe]=!(-0x53d+-0xe14+0x1351);}else _0xebb7fe===0x387*-0x1+-0x3c1+0x748&&(this['_width']=_0x32b25c,this['_height']=_0x144ffb),this['_levels'][_0xebb7fe]=_0x214942;(this['_invalid']!==_0x512eb3||!_0x512eb3)&&(this['_invalid']=_0x512eb3,this['upload']());}['getSource'](_0x2cbd43=0x24b6+-0x269c+-0x1b*-0x12){return this['_levels'][_0x2cbd43];}['unlock'](){this['_lockedMod'+'e']===wl&&b['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===ld&&this['upload'](),this['_lockedLev'+'el']=-(0x515*-0x4+0x13c3*0x1+-0x49*-0x2),this['_lockedMod'+'e']=wl;}['upload'](){var _0x2df07b,_0x5bc888;this['_needsUplo'+'ad']=!(0x4d*0x35+0x1ed5+-0x2ec6),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x5bc888=(_0x2df07b=this['impl'])['uploadImme'+'diate'])==null||_0x5bc888['call'](_0x2df07b,this['device'],this);}['read'](_0x35df94,_0x41e10f,_0x52bf5b,_0x3e2661,_0x3cd7d1={}){var _0x9b1689,_0x1a7ab5;return(_0x1a7ab5=(_0x9b1689=this['impl'])['read'])==null?void(-0x7e5+-0x7*-0x133+0x8*-0x10):_0x1a7ab5['call'](_0x9b1689,_0x35df94,_0x41e10f,_0x52bf5b,_0x3e2661,_0x3cd7d1);}}const Mv={'white':[0x1*0x1a1c+0x2299+0x1ddb*-0x2,-0x2*-0x101e+-0x3*0x874+0x5*-0x12d,0x2039+-0x1*-0xce9+-0x1*0x2c23,0x1150+-0x2632+0x15e1],'gray':[0x12*0x224+-0x1db2+-0x856,0xcfb*-0x2+-0x2555*0x1+-0x1*-0x3fcb,-0x1736*-0x1+-0x342+0x19f*-0xc,0x22ee+-0x213b+0x6*-0x1e],'black':[0x9*0x151+-0x1fcc+-0x1*-0x13f3,-0x179c+0x6f5*-0x5+0x3a65,0x35d+0x1a21*-0x1+0x16c4,0x9*-0xa4+-0x15b9+0x4*0x71f],'normal':[-0x1d0f+-0x16ea+0x3479,0xaf1*0x1+-0xf0a+0x499,-0x21f4+0x3*0x151+-0x1*-0x1f00,-0x1c23+0x1162+0xbc0],'pink':[-0xbb*-0x21+0x4*-0x665+0x4f*0x8,-0xbc+0x227+0x1*-0xeb,0xf0a+-0xa22+-0x7*0x8f,0x1d*-0x7d+-0x25ce+0x34f6]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x586fda=>{_0x586fda['destroy']();});}}const Rv=new Ht(),tn=(_0x5c406e,_0x1a537a)=>{const _0x415020=Rv['get'](_0x5c406e,()=>new Pv());if(!_0x415020['map']['has'](_0x1a537a)){const _0x26d0c5=new ce(_0x5c406e,{'name':'built-in-t'+'exture-'+_0x1a537a,'width':0x1,'height':0x1,'format':Te}),_0x750b=_0x26d0c5['lock'](),_0x243a06=Mv[_0x1a537a];b['assert'](_0x243a06,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x1a537a+('\x27\x20not\x20foun'+'d')),_0x750b['set'](_0x243a06),_0x26d0c5['unlock'](),_0x415020['map']['set'](_0x1a537a,_0x26d0c5);}return _0x415020['map']['get'](_0x1a537a);};let Iv=-0x1*0xffc+0x1408*0x1+-0x4a*0xe;class Ky{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class xp{constructor(_0x4441a5,_0x4e9d38,_0x5b1789){c(this,'renderVers'+'ionUpdated',-(0x20b6+0xab8+-0x2b6d*0x1)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x4441a5,this['format']=_0x4e9d38,this['dirty']=!(-0x2237+-0xf71+0x31a8),this['impl']=_0x4441a5['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x5b1789,_0x5b1789&&this['setUniform'+'Buffer'](gp,_0x5b1789),b['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0x4e9d38));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x3b0421,_0x3ca64a){const _0x561794=this['format']['bufferForm'+'atsMap']['get'](_0x3b0421);b['assert'](_0x561794!==void(0x3ee+0x17*0x94+-0x113a),'Setting\x20a\x20'+'uniform\x20['+_0x3b0421+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x561794]!==_0x3ca64a&&(this['uniformBuf'+'fers'][_0x561794]=_0x3ca64a,this['dirty']=!(-0x5*-0x499+-0x877+0x2*-0x743));}['setStorage'+'Buffer'](_0x3cc7bf,_0x6493a8){const _0x52b944=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x3cc7bf);b['assert'](_0x52b944!==void(0x3*0x3b2+-0xd4e+0x238),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x3cc7bf+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x52b944]!==_0x6493a8&&(this['storageBuf'+'fers'][_0x52b944]=_0x6493a8,this['dirty']=!(-0xf62+0x1*-0x25a2+0x3*0x11ac));}['setTexture'](_0x25713b,_0x3c96de){const _0x4d673b=this['format']['textureFor'+'matsMap']['get'](_0x25713b);b['assert'](_0x4d673b!==void(0xc07*-0x2+-0xfe*-0x4+-0x2*-0xa0b),'Setting\x20a\x20'+'texture\x20['+_0x25713b+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x4d673b]!==_0x3c96de?(this['textures'][_0x4d673b]=_0x3c96de,this['dirty']=!(-0x63c+-0x2*0x95e+0x18f8)):this['renderVers'+'ionUpdated']<_0x3c96de['renderVers'+'ionDirty']&&(this['dirty']=!(-0x4*0x96d+0x49d+0x2117));}['setStorage'+'Texture'](_0x39003f,_0x820a76){const _0x20bc6d=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x39003f);b['assert'](_0x20bc6d!==void(0x4f*0xf+0x7*-0x21b+-0x287*-0x4),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x39003f+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0x20bc6d]!==_0x820a76?(this['storageTex'+'tures'][_0x20bc6d]=_0x820a76,this['dirty']=!(0xf29*-0x2+-0x1394+-0x18f3*-0x2)):this['renderVers'+'ionUpdated']<_0x820a76['renderVers'+'ionDirty']&&(this['dirty']=!(-0xef+-0x19f6*0x1+-0x87*-0x33));}['updateUnif'+'ormBuffers'](){for(let _0x5c7c77=-0x25f*0xc+-0x1874*-0x1+0x400;_0x5c7c77<this['uniformBuf'+'fers']['length'];_0x5c7c77++)this['uniformBuf'+'fers'][_0x5c7c77]['update']();}['update'](){const {textureFormats:_0xe480d1,storageTextureFormats:_0x112661,storageBufferFormats:_0x530105}=this['format'];for(let _0x3ac810=-0x904+-0x1*-0x1fed+-0x159*0x11;_0x3ac810<_0xe480d1['length'];_0x3ac810++){const _0x16ccf0=_0xe480d1[_0x3ac810];let _0x3530f0=_0x16ccf0['scopeId']['value'];_0x3530f0||(_0x16ccf0['name']==='uSceneDept'+'hMap'&&(b['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x3530f0=tn(this['device'],'white')),_0x16ccf0['name']==='uSceneColo'+'rMap'&&(b['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x3530f0=tn(this['device'],'pink')),_0x3530f0||(b['errorOnce']('Texture\x20'+_0x16ccf0['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x3530f0=tn(this['device'],'pink'))),this['setTexture'](_0x16ccf0['name'],_0x3530f0);}for(let _0x58da31=-0x1fb3+-0x8d2*0x3+0x3a29;_0x58da31<_0x112661['length'];_0x58da31++){const _0x139fd3=_0x112661[_0x58da31],_0x2d5a36=_0x139fd3['scopeId']['value'];b['assert'](_0x2d5a36,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x139fd3['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x139fd3['name'],_0x2d5a36);}for(let _0x7233c7=-0x10a5+0xb*0x30e+0x5a7*-0x3;_0x7233c7<_0x530105['length'];_0x7233c7++){const _0x28f8d0=_0x530105[_0x7233c7],_0x46a527=_0x28f8d0['scopeId']['value'];b['assert'](_0x46a527,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x28f8d0['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x28f8d0['name'],_0x46a527);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x561085=0x1801+-0x25a5+-0xda4*-0x1;_0x561085<this['uniformBuf'+'fers']['length'];_0x561085++){const _0x78b80=this['uniformBuf'+'fers'][_0x561085];this['uniformBuf'+'ferOffsets'][_0x561085]=_0x78b80['offset'],this['renderVers'+'ionUpdated']<_0x78b80['renderVers'+'ionDirty']&&(this['dirty']=!(0x236b+-0xf*0xd+0x22a8*-0x1));}this['dirty']&&(this['dirty']=!(-0x90d+0x1*-0x261f+0x2f2d),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Ue={'set'(_0x29e2d6,_0x590224,_0x548620,_0x5121c2=0xfaa+0x2fe*0xd+-0x368f){return _0x29e2d6&~(_0x5121c2<<_0x548620)|_0x590224<<_0x548620;},'get'(_0x3f1436,_0x254b30,_0x57de24=0x1*0xf2b+-0x32*0xb2+0x139a){return _0x3f1436>>_0x254b30&_0x57de24;},'all'(_0x1ed929,_0x255ca7,_0x42c1e6=-0x1eff+0x1*-0xabd+-0x1*-0x29bd){const _0xd7cc93=_0x42c1e6<<_0x255ca7;return(_0x1ed929&_0xd7cc93)===_0xd7cc93;},'any'(_0x1a646c,_0x222b20,_0x5b9049=0x32*-0x3b+-0x4*-0x1ae+0x4cf){return(_0x1a646c&_0x5b9049<<_0x222b20)!==-0xc7+0xd*-0x55+0x518;}},Tl=-0x105d+-0x3*0xa83+0x2fed,Hi=0x1aa6+-0x1155+0x1da*-0x5,um=-0x26*-0xe3+0x1*0x217b+0x1*-0x432d,fm=0x6*-0x1b3+0x8*0x24b+-0x823,pm=0x51a*0x7+-0xcf3+0x3c*-0x61,mm=-0x1*-0x21b5+0x25*-0x107+0x15*0x35,_m=-0x2081+-0x12e4+-0x3373*-0x1,gm=0x14ba*-0x1+0xf4f+0x57d,Iu=-0x9ee+0x5f2*0x2+-0x1e0,ym=0x24cc+0x1699+-0x3b4e,xm=0x3b*-0x6b+-0xc7f+0x95*0x40,Sm=-0x1b09+-0x311*-0x5+0xbcd,vm=0x17f*-0x7+-0x258a+-0x6d*-0x71,Dv=0x1661*-0x1+0x1ec5*-0x1+0x3535,Lv=Iu,Ws=class Ws{constructor(_0x5b332d=!(0x1fc+0x3*0x934+-0x1d97),_0x17b0f5=Ut,_0x46e5b3=ct,_0x1244b3=Uf,_0x2c89ae,_0x25bc8f,_0x129789,_0x35abd9=!(0x10ff+-0x124*-0x22+-0x37c7),_0x50c2fb=!(0x5*-0x5f9+0x18bd+0x520),_0x5c3b4d=!(0x13e3*-0x1+0x4*0x596+-0x1*0x275),_0x1b5173=!(0x1*0x4f4+0x541*0x3+-0x14b7)){c(this,'target0',-0x10ee+0x1*0x1049+0xa5),(this['setColorBl'+'end'](_0x17b0f5,_0x46e5b3,_0x1244b3),this['setAlphaBl'+'end'](_0x2c89ae??_0x17b0f5,_0x25bc8f??_0x46e5b3,_0x129789??_0x1244b3),this['setColorWr'+'ite'](_0x35abd9,_0x50c2fb,_0x5c3b4d,_0x1b5173),this['blend']=_0x5b332d);}set['blend'](_0x59f8de){this['target0']=Ue['set'](this['target0'],_0x59f8de?-0x1c7b*0x1+-0x58*0x35+0x4*0xbad:0x2494+-0x1dfb+-0x1*0x699,vm);}get['blend'](){return Ue['all'](this['target0'],vm);}['setColorBl'+'end'](_0x53baa9,_0x2a2b8b,_0x5343dc){this['target0']=Ue['set'](this['target0'],_0x53baa9,um,Tl),this['target0']=Ue['set'](this['target0'],_0x2a2b8b,fm,Hi),this['target0']=Ue['set'](this['target0'],_0x5343dc,pm,Hi);}['setAlphaBl'+'end'](_0x11e319,_0x20c1ce,_0x581520){this['target0']=Ue['set'](this['target0'],_0x11e319,mm,Tl),this['target0']=Ue['set'](this['target0'],_0x20c1ce,_m,Hi),this['target0']=Ue['set'](this['target0'],_0x581520,gm,Hi);}['setColorWr'+'ite'](_0x24882f,_0x527f57,_0x2c43f1,_0x48e47c){this['redWrite']=_0x24882f,this['greenWrite']=_0x527f57,this['blueWrite']=_0x2c43f1,this['alphaWrite']=_0x48e47c;}get['colorOp'](){return Ue['get'](this['target0'],um,Tl);}get['colorSrcFa'+'ctor'](){return Ue['get'](this['target0'],fm,Hi);}get['colorDstFa'+'ctor'](){return Ue['get'](this['target0'],pm,Hi);}get['alphaOp'](){return Ue['get'](this['target0'],mm,Tl);}get['alphaSrcFa'+'ctor'](){return Ue['get'](this['target0'],_m,Hi);}get['alphaDstFa'+'ctor'](){return Ue['get'](this['target0'],gm,Hi);}set['redWrite'](_0x230efb){this['target0']=Ue['set'](this['target0'],_0x230efb?0x1971+0x1*0xd45+-0x44d*0x9:-0x1a3f+0xb71+-0x2*-0x767,Iu);}get['redWrite'](){return Ue['all'](this['target0'],Iu);}set['greenWrite'](_0x26ace0){this['target0']=Ue['set'](this['target0'],_0x26ace0?-0x1a18+0xa47+-0x1c2*-0x9:-0x1446+-0x16d8+0x158f*0x2,ym);}get['greenWrite'](){return Ue['all'](this['target0'],ym);}set['blueWrite'](_0x319733){this['target0']=Ue['set'](this['target0'],_0x319733?-0x1d*0xc2+0x863+0xd98:0x8b*0x1+0x18fb+-0x1*0x1986,xm);}get['blueWrite'](){return Ue['all'](this['target0'],xm);}set['alphaWrite'](_0x56e6de){this['target0']=Ue['set'](this['target0'],_0x56e6de?-0x1*0x1959+0x5ac+-0xb*-0x1ca:-0xa61*0x2+0x1a37+-0x575,Sm);}get['alphaWrite'](){return Ue['all'](this['target0'],Sm);}get['allWrite'](){return Ue['get'](this['target0'],Lv,Dv);}['copy'](_0x2eb443){return this['target0']=_0x2eb443['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x171c81){return this['target0']===_0x171c81['target0'];}};c(Ws,'NOBLEND',Object['freeze'](new Ws())),c(Ws,'NOWRITE',Object['freeze'](new Ws(void(-0xd*-0x191+-0xee6*-0x2+-0x3229),void(-0x23ff+0x2e+0x23d1*0x1),void(-0x6f1*0x2+0x954+-0x16*-0x35),void(0x12ec+0x156d*-0x1+-0x281*-0x1),void(-0x24a*0xb+0x855+0x10d9),void(-0x19d8+0x695*0x3+-0xdf*-0x7),void(-0x19c2+0x1a2d*-0x1+0x33ef),!(0x1d07*0x1+-0xf75+-0x1*0xd91),!(0x266*-0x2+0x164e+-0x1181),!(-0xd9e+0x270c+-0x196d),!(-0x19f4+0x886+-0x1*-0x116f)))),c(Ws,'ALPHABLEND',Object['freeze'](new Ws(!(-0x1c05+0x792+-0x15d*-0xf),Ut,_c,gc))),c(Ws,'ADDBLEND',Object['freeze'](new Ws(!(0xa97+-0x59f*-0x5+0x26b2*-0x1),Ut,ct,ct)));let bt=Ws;class Sp{constructor(){c(this,'map',new Map()),c(this,'id',-0x1de6+0x1484+-0x2*-0x4b1);}['get'](_0x4c986f){let _0x56e07e=this['map']['get'](_0x4c986f);return _0x56e07e===void(-0x112a+0x266a+-0x1540)&&(_0x56e07e=this['id']++,this['map']['set'](_0x4c986f,_0x56e07e)),_0x56e07e;}}const Fv=new Sp(),bm=-0x1201+0x40*0x2f+0x648,wm=-0xccc*-0x2+-0x1*0x257+-0x1741,Tm=-0x33*-0x7f+0x1c*-0x103+0x185*0x2,Ji=class Ji{constructor(_0x296808=gu,_0x3951f9=!(0xa*0x314+-0x1ab2+0x20b*-0x2)){c(this,'data',0x7*-0x1f6+0x203b+-0x1281),c(this,'_depthBias',-0x1*-0x2217+0x419+-0x2630),c(this,'_depthBias'+'Slope',0x210d+-0x26b7+0x5aa),c(this,'key',0xcbd+-0x1e7*0x3+-0x708),(this['func']=_0x296808,this['write']=_0x3951f9);}set['test'](_0x113933){this['func']=_0x113933?gu:Ri,this['updateKey']();}get['test'](){return this['func']!==Ri;}set['write'](_0x1a53bc){this['data']=Ue['set'](this['data'],_0x1a53bc?-0xef9+-0x23e5*-0x1+-0xf*0x165:0x253e+0x37*0xa6+-0x48e8,Tm),this['updateKey']();}get['write'](){return Ue['all'](this['data'],Tm);}set['func'](_0xd8502f){this['data']=Ue['set'](this['data'],_0xd8502f,wm,bm),this['updateKey']();}get['func'](){return Ue['get'](this['data'],wm,bm);}set['depthBias'](_0x575de6){this['_depthBias']=_0x575de6,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x254a35){this['_depthBias'+'Slope']=_0x254a35,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x940979){return this['data']=_0x940979['data'],this['_depthBias']=_0x940979['_depthBias'],this['_depthBias'+'Slope']=_0x940979['_depthBias'+'Slope'],this['key']=_0x940979['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x124d6c,_depthBias:_0xbc562f,_depthBiasSlope:_0x1c05ce}=this,_0x396462=_0x124d6c+'-'+_0xbc562f+'-'+_0x1c05ce;this['key']=Fv['get'](_0x396462);}['equals'](_0xcc82f7){return this['key']===_0xcc82f7['key'];}};c(Ji,'DEFAULT',Object['freeze'](new Ji())),c(Ji,'NODEPTH',Object['freeze'](new Ji(Ri,!(0xd5*0x13+-0xd93+0x1*-0x23b)))),c(Ji,'WRITEDEPTH',Object['freeze'](new Ji(Ri,!(0x1*0x1a2f+-0xfa8+-0xa87))));let us=Ji;class Zy{constructor(){c(this,'globalId',0x4f*-0xe+0x1*0x7cd+-0x63*0x9),c(this,'revision',0x25ed*-0x1+-0x2b7+0x28a4);}['equals'](_0x5567cc){return this['globalId']===_0x5567cc['globalId']&&this['revision']===_0x5567cc['revision'];}['copy'](_0x59bd13){this['globalId']=_0x59bd13['globalId'],this['revision']=_0x59bd13['revision'];}['reset'](){this['globalId']=-0x59c+0x2061+-0x1ac5,this['revision']=-0x4b*-0x1d+-0x2541+-0x3*-0x996;}}let Am=0x2d5*-0x4+-0x1cd7+-0x5bd*-0x7;class kv{constructor(){Am++,this['version']=new Zy(),this['version']['globalId']=Am;}['increment'](){this['version']['revision']++;}}class Ov{constructor(_0x445387){this['name']=_0x445387,this['value']=null,this['versionObj'+'ect']=new kv();}['toJSON'](_0x5b4ff5){}['setValue'](_0x2638fd){this['value']=_0x2638fd,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x474801){this['name']=_0x474801,this['variables']=new Map();}['resolve'](_0x19255e){return this['variables']['has'](_0x19255e)||this['variables']['set'](_0x19255e,new Ov(_0x19255e)),this['variables']['get'](_0x19255e);}['removeValu'+'e'](_0x5574a7){for(const _0x2cc088 in this['variables']){const _0x3fcee3=this['variables'][_0x2cc088];_0x3fcee3['value']===_0x5574a7&&(_0x3fcee3['value']=null);}}}let Nv=-0xbd7+-0x10*0x9e+0x3*0x73d;class fs{constructor(_0x5bfc6f,_0x4b1289,_0x4d2ff8,_0x17c491){c(this,'usage',ts),(b['assert'](arguments['length']<=-0x1cbb+0x1*-0xe9+0x4*0x76a&&(!_0x17c491||typeof _0x17c491=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x17c491==null?void(0x10fc*-0x1+-0x23a7+0x34a3):_0x17c491['usage'])??ts,this['device']=_0x5bfc6f,this['format']=_0x4b1289,this['numVertice'+'s']=_0x4d2ff8,this['id']=Nv++,this['impl']=_0x5bfc6f['createVert'+'exBufferIm'+'pl'](this,_0x4b1289,_0x17c491),this['numBytes']=_0x4b1289['verticesBy'+'teSize']?_0x4b1289['verticesBy'+'teSize']:_0x4b1289['size']*_0x4d2ff8,this['adjustVram'+'SizeTracki'+'ng'](_0x5bfc6f['_vram'],this['numBytes']));const _0x2cac87=_0x17c491==null?void(0x47*-0x51+-0x71f*-0x3+-0x3*-0x5e):_0x17c491['data'];_0x2cac87?this['setData'](_0x2cac87):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x3a3a81=this['device'],_0x393cbc=_0x3a3a81['buffers']['indexOf'](this);_0x393cbc!==-(0x445*-0x3+-0x211c+0x2dec)&&_0x3a3a81['buffers']['splice'](_0x393cbc,-0x4*0x61+0x18d0+-0x174b),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x3a3a81),this['adjustVram'+'SizeTracki'+'ng'](_0x3a3a81['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x5d85a9,_0x49504a){b['trace'](Zx,this['id']+'\x20size:\x20'+_0x49504a+'\x20vram.vb:\x20'+_0x5d85a9['vb']+'\x20=>\x20'+(_0x5d85a9['vb']+_0x49504a)),_0x5d85a9['vb']+=_0x49504a;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x336c1a){return _0x336c1a['byteLength']!==this['numBytes']?(b['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x336c1a['byteLength']),!(0x224+0x7b*-0x38+0x18c5)):(this['storage']=_0x336c1a,this['unlock'](),!(-0x1*-0x147d+-0xdc4+-0x6b9));}}function cn(_0x5dda2a){if(_0x5dda2a==null)return 0x7d1+-0x1cd0+0x2b*0x7d;let _0x5bd21c=0x23d8+0x186b+0x1*-0x3c43;for(let _0x525391=-0x78+0x1cd*0x13+-0x35*0xa3,_0x138920=_0x5dda2a['length'];_0x525391<_0x138920;_0x525391++)_0x5bd21c=(_0x5bd21c<<0x9*-0x3a4+0x20aa+0x1f)-_0x5bd21c+_0x5dda2a['charCodeAt'](_0x525391),_0x5bd21c|=-0x3fb+-0x24a9*0x1+0x28a4;return _0x5bd21c;}function Qy(_0x48b44f){let _0x2a872d=0x7*-0x19b9011+-0x51aaf*-0x12c1+0x1*0x2ca4224d;for(let _0x321f6f=0x2a*-0x4+-0x7ea+-0x892*-0x1;_0x321f6f<_0x48b44f['length'];_0x321f6f++)_0x2a872d^=_0x48b44f[_0x321f6f],_0x2a872d*=-0x76d23d+-0x67*-0x2f395+0x151*0x35cd;return _0x2a872d>>>0x430*-0x4+-0xf8d+-0x204d*-0x1;}const zv=new Sp(),Uv=[0xa2e*-0x3+-0x544+0x8f4*0x4,-0xd*0x62+0x25db+-0x20dd,-0x1002*-0x1+-0x163d*-0x1+-0x2637,-0x25a4+-0xcbf+0x326f,0xc00+-0x3ec+-0x201*0x4],Vv=new Ht();class Dt{constructor(_0x6f86a3,_0x54524d,_0xd1c044){this['device']=_0x6f86a3,this['_elements']=[],this['hasUv0']=!(-0x1*-0x31d+-0x3d7*0x3+0x1*0x869),this['hasUv1']=!(0x20*0x138+0x217f+-0x487e),this['hasColor']=!(0x11*-0xb5+-0x479+0x29*0x67),this['hasTangent'+'s']=!(-0x629+-0x445*-0x5+-0xf2f),this['verticesBy'+'teSize']=-0x1*-0x696+0x63b+-0xcd1,this['vertexCoun'+'t']=_0xd1c044,this['interleave'+'d']=_0xd1c044===void(-0x1873+0x34*0x15+0x142f),this['instancing']=!(0xf4e+-0x1d1e+0xdd1),this['size']=_0x54524d['reduce']((_0x35d8cb,_0x5b0707)=>_0x35d8cb+Math['ceil'](_0x5b0707['components']*So[_0x5b0707['type']]/(-0x46b*0x2+0xd5*0x29+-0x1943))*(0xbcf+0x4b*0x45+-0x2002),0x17e5+0x112*-0x23+-0x1*-0xd91);let _0x936882=0x514+0x1d23+-0x2237,_0x41a3ab;for(let _0x387f81=-0xfe8+0x16dd+-0x6f5,_0x31a095=_0x54524d['length'];_0x387f81<_0x31a095;_0x387f81++){const _0x2e2f78=_0x54524d[_0x387f81];_0x41a3ab=_0x2e2f78['components']*So[_0x2e2f78['type']],b['assert'](Dt['isElementV'+'alid'](_0x6f86a3,_0x2e2f78),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x2e2f78['semantic']+'\x20:\x20'+Sv[_0x2e2f78['type']]+'\x20x\x20'+_0x2e2f78['components']),_0xd1c044&&(_0x936882=z['roundUp'](_0x936882,_0x41a3ab),b['assert'](_0x41a3ab%(-0x15b*-0x9+0x1bec+0x1*-0x281b)===0x2*0xc6d+0x116e+-0x2a48,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x41a3ab));const _0x2f926e=_0x2e2f78['asInt']??!(0x1*0x250f+-0x7c*-0xd+0x15ad*-0x2),_0x46a1ff=_0x2f926e?!(0x1*-0x90d+-0x1*0xd78+0x3e*0x5d):_0x2e2f78['normalize']??!(0x3*-0x755+-0x605+0x1c05*0x1),_0x216280={'name':_0x2e2f78['semantic'],'offset':_0xd1c044?_0x936882:_0x2e2f78['hasOwnProp'+'erty']('offset')?_0x2e2f78['offset']:_0x936882,'stride':_0xd1c044?_0x41a3ab:_0x2e2f78['hasOwnProp'+'erty']('stride')?_0x2e2f78['stride']:this['size'],'dataType':_0x2e2f78['type'],'numComponents':_0x2e2f78['components'],'normalize':_0x46a1ff,'size':_0x41a3ab,'asInt':_0x2f926e};this['_elements']['push'](_0x216280),_0xd1c044?_0x936882+=_0x41a3ab*_0xd1c044:_0x936882+=Math['ceil'](_0x41a3ab/(0x1d5+-0xd*0x4f+-0x2*-0x119))*(0x1643+-0x24e2+0xea3),_0x2e2f78['semantic']===ds?this['hasUv0']=!(0x1*-0x19d+0x3e0*0x9+0x5*-0x6a7):_0x2e2f78['semantic']===yn?this['hasUv1']=!(-0x3a0*0x5+0x8*0x4a+0x16*0xb8):_0x2e2f78['semantic']===It?this['hasColor']=!(-0xcb3+0x31*0x3d+0x106):_0x2e2f78['semantic']===si&&(this['hasTangent'+'s']=!(0x1db0+-0x22f7+-0xc1*-0x7));}_0xd1c044&&(this['verticesBy'+'teSize']=_0x936882),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x147a7d){return Vv['get'](_0x147a7d,()=>new Dt(_0x147a7d,[{'semantic':lp,'components':0x4,'type':Re},{'semantic':Sa,'components':0x4,'type':Re},{'semantic':hp,'components':0x4,'type':Re},{'semantic':va,'components':0x4,'type':Re}]));}static['isElementV'+'alid'](_0x5db00d,_0x2f2d3f){const _0x1eba3a=_0x2f2d3f['components']*So[_0x2f2d3f['type']];return!(_0x5db00d['isWebGPU']&&!Uv['includes'](_0x1eba3a));}['update'](){b['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x186103=[],_0x43528b=[],_0x278d5c=this['_elements']['length'];for(let _0x2f266b=0x11e3+0x1548+0x10f*-0x25;_0x2f266b<_0x278d5c;_0x2f266b++){const {name:_0x292745,dataType:_0xbc810b,numComponents:_0x129a32,normalize:_0x179b5b,offset:_0xcc77ff,stride:_0xc6e21b,size:_0x49116c,asInt:_0x30ca06}=this['_elements'][_0x2f266b],_0x235f22=_0x292745+_0xbc810b+_0x129a32+_0x179b5b+_0x30ca06;_0x186103['push'](_0x235f22);const _0x2b75fd=_0x235f22+_0xcc77ff+_0xc6e21b+_0x49116c;_0x43528b['push'](_0x2b75fd);}_0x186103['sort']();const _0x28fee9=_0x186103['join']();this['batchingHa'+'sh']=cn(_0x28fee9),this['shaderProc'+'essingHash'+'String']=_0x28fee9,this['renderingH'+'ashString']=_0x43528b['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new Sp(),hc=class hc{constructor(_0x44163a={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(-0x1fb2+-0xd6e+0x2d20)),c(this,'_key'),(this['_func']=_0x44163a['func']??Ri,this['_ref']=_0x44163a['ref']??-0xb*-0x158+0xa90+-0x1958,this['_readMask']=_0x44163a['readMask']??-0x24b5+0x1f*0xb5+0xfc9,this['_writeMask']=_0x44163a['writeMask']??-0x2508+-0x72*-0x38+0xd17,this['_fail']=_0x44163a['fail']??da,this['_zfail']=_0x44163a['zfail']??da,this['_zpass']=_0x44163a['zpass']??da,this['_evalKey']());}set['func'](_0x5a1c29){this['_func']=_0x5a1c29,this['_dirty']=!(-0x1d*-0x61+0x24af+0x153*-0x24);}get['func'](){return this['_func'];}set['ref'](_0x281f26){this['_ref']=_0x281f26,this['_dirty']=!(-0x2*0xd6c+-0x1*0x1369+0x2e41);}get['ref'](){return this['_ref'];}set['fail'](_0xa1660f){this['_fail']=_0xa1660f,this['_dirty']=!(-0x1192+-0x1e6c*0x1+0x2ffe);}get['fail'](){return this['_fail'];}set['zfail'](_0x515424){this['_zfail']=_0x515424,this['_dirty']=!(-0x1274+-0x1693+0x2907);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x85eaf0){this['_zpass']=_0x85eaf0,this['_dirty']=!(-0x9*0x407+0x284+-0x1*-0x21bb);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x5e4505){this['_readMask']=_0x5e4505,this['_dirty']=!(-0x21e7+0x1*0x3a+0x21ad);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x1248a8){this['_writeMask']=_0x1248a8,this['_dirty']=!(0x727+-0x25f7+-0xf68*-0x2);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x3baca8,_ref:_0x4917ed,_fail:_0x580fe7,_zfail:_0x249e54,_zpass:_0x1d9383,_readMask:_0x22f41f,_writeMask:_0xf40cd6}=this,_0x352ad4=_0x3baca8+','+_0x4917ed+','+_0x580fe7+','+_0x249e54+','+_0x1d9383+','+_0x22f41f+','+_0xf40cd6;this['_key']=Gv['get'](_0x352ad4),this['_dirty']=!(-0x1777+-0xb1b*0x1+0x2293*0x1);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x2e0426){return this['_func']=_0x2e0426['_func'],this['_ref']=_0x2e0426['_ref'],this['_readMask']=_0x2e0426['_readMask'],this['_writeMask']=_0x2e0426['_writeMask'],this['_fail']=_0x2e0426['_fail'],this['_zfail']=_0x2e0426['_zfail'],this['_zpass']=_0x2e0426['_zpass'],this['_dirty']=_0x2e0426['_dirty'],this['_key']=_0x2e0426['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(hc,'DEFAULT',Object['freeze'](new hc()));let Zs=hc;const cc=class cc extends de{constructor(_0x3abffb,_0x280ea5){var _0x132cc2,_0xb72855,_0x4ef542,_0x35bb0d,_0x127d85,_0x1cb978;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new W()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(-0x1*-0x1237+0xba1+-0x1*0x1dd7)),c(this,'isWebGPU',!(0x12bb*-0x2+0x2d6+-0x24f*-0xf)),c(this,'isWebGL2',!(-0xb*0x23d+0x259a*0x1+-0xcfa)),c(this,'isHdr',!(0x12*0xf8+-0x5*-0x443+-0x26be)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',0x1*-0x11d1+0x10eb+0xe7),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',-0x1b63+-0x7c*0x3b+0x37f8),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(-0x7*0x2d3+-0xdb0*-0x2+-0x7*0x116)),c(this,'supportsSt'+'orageTextu'+'reRead',!(0x14*0xe+0x2521+-0x4*0x98e)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',0x9*-0x335+0x1820+0x4bd),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(-0x25*0x47+0x9a5+0x9f)),c(this,'supportsUn'+'iformBuffe'+'rs',!(0x1aa3+-0x3*0x6f1+0x5cf*-0x1)),c(this,'supportsCl'+'ipDistance'+'s',!(-0x3b*0x17+-0x2241+0x278f)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(-0x2369+0x19f8*-0x1+0x3d62)),c(this,'textureFlo'+'atFilterab'+'le',!(0xbd8*-0x3+0x1*0x17f3+-0x2*-0x5cb)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new bt()),c(this,'depthState',new us()),c(this,'stencilEna'+'bled',!(0x238d+-0x2*-0x1312+-0x49b0)),c(this,'stencilFro'+'nt',new Zs()),c(this,'stencilBac'+'k',new Zs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[0x110e+-0xcfe*-0x2+-0x2b0a,0xef*0x26+-0x1de5*0x1+-0x595,-0x183e+0x585*0x7+-0xe65,0x2055+0x8*0x3fd+-0x403c],'depth':0x1,'stencil':0x0,'flags':Io|Do}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(0x60f*0x4+0x2a2+-0x1add)),(this['canvas']=_0x3abffb,this['initOption'+'s']={..._0x280ea5},(_0x132cc2=this['initOption'+'s'])['alpha']??(_0x132cc2['alpha']=!(-0x3a*0x9c+0x2*0x62e+0x4*0x5bf)),(_0xb72855=this['initOption'+'s'])['depth']??(_0xb72855['depth']=!(0x1dcb+-0x6*-0x57a+-0x3ea7)),(_0x4ef542=this['initOption'+'s'])['stencil']??(_0x4ef542['stencil']=!(0x70c+-0x49*0x2e+0x2a*0x25)),(_0x35bb0d=this['initOption'+'s'])['antialias']??(_0x35bb0d['antialias']=!(0x419*0x2+-0x437*-0x6+-0x217c)),(_0x127d85=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x127d85['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x1cb978=this['initOption'+'s'])['displayFor'+'mat']??(_0x1cb978['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=be['browser']?Math['min'](0xe1f+-0x1c*-0x8b+0x8b*-0x36,window['devicePixe'+'lRatio']):0x1d2*0x14+0x1d*-0x72+-0x1*0x177d,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0x17f4+0x1fb4+-0xf8*0x8,this['_shaderSwi'+'tchesPerFr'+'ame']=0x11e5+0x2558+-0x373d,this['_primsPerF'+'rame']=[]);for(let _0x684327=Dc;_0x684327<=Kr;_0x684327++)this['_primsPerF'+'rame'][_0x684327]=-0x24c1+-0x5c*-0x49+0xa85;this['_renderTar'+'getCreatio'+'nTime']=0x3*-0x4c7+-0x11*0x29+-0x2*-0x887,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x169b+-0x4*-0x38f+-0x24d7*0x1);}['postInit'](){const _0x4db54f=new Dt(this,[{'semantic':Xe,'components':0x2,'type':Re}]),_0x3653c0=new Float32Array([-(0x30f*0xc+0xd3*0x2f+-0x4b70),-(0x1de7+-0x1a48+-0x39e),0x2d1+0x16ae+0x2*-0xcbf,-(0xf8*0x1f+0x1*-0x16f1+0x2*-0x38b),-(-0x1237+-0x25*-0x7f+0x7*-0x5),0xf3*-0x17+0x1*0x6f+0x1567,0x11d6*-0x1+-0x2477+0x364e,-0x8a2+-0xbe7+0x148a]);this['quadVertex'+'Buffer']=new fs(this,_0x4db54f,0x12*-0x114+0x38*-0x51+-0x1292*-0x2,{'data':_0x3653c0});}['destroy'](){var _0x3c43fb,_0x5a0b88,_0x15fa52;this['fire']('destroy'),(_0x3c43fb=this['quadVertex'+'Buffer'])==null||_0x3c43fb['destroy'](),this['quadVertex'+'Buffer']=null,(_0x5a0b88=this['dynamicBuf'+'fers'])==null||_0x5a0b88['destroy'](),this['dynamicBuf'+'fers']=null,(_0x15fa52=this['gpuProfile'+'r'])==null||_0x15fa52['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x581f78){this['fire']('destroy:sh'+'ader',_0x581f78);const _0x125a5a=this['shaders']['indexOf'](_0x581f78);_0x125a5a!==-(-0x11*0xe3+-0x1*-0xd76+0x19e)&&this['shaders']['splice'](_0x125a5a,-0x1202+-0x4*0x593+0x284f);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x49bd0a;this['contextLos'+'t']=!(-0x13eb*-0x1+0xd*0x1ed+-0x2cf4),this['backBuffer'+'Size']['set'](-(0x24fa+0x91*0x2d+0x42a*-0xf),-(0xd72+-0x1*-0xfa6+-0x1d17));for(const _0x4e0406 of this['textures'])_0x4e0406['loseContex'+'t']();for(const _0x27a090 of this['buffers'])_0x27a090['loseContex'+'t']();for(const _0x19c0f1 of this['targets'])_0x19c0f1['loseContex'+'t']();(_0x49bd0a=this['gpuProfile'+'r'])==null||_0x49bd0a['loseContex'+'t']();}['restoreCon'+'text'](){var _0x31d634,_0x478d10;this['contextLos'+'t']=!(-0x65*0x5b+-0x90c+0x2cf4),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x32939e of this['buffers'])_0x32939e['unlock']();(_0x478d10=(_0x31d634=this['gpuProfile'+'r'])==null?void(0x43*0x17+0x1713+0x38*-0x85):_0x31d634['restoreCon'+'text'])==null||_0x478d10['call'](_0x31d634);}['toJSON'](_0x457544){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0x5c7+-0x1*-0x246b+-0x25*0xd4),this['shaderAsyn'+'cCompile']=!(0xeb5+-0x2*0x208+-0xaa4),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new bt(),this['depthState']=new us(),this['cullMode']=nn,this['vx']=this['vy']=this['vw']=this['vh']=-0x9a*-0xd+0x10*0x269+0x1*-0x2e62,this['sx']=this['sy']=this['sw']=this['sh']=-0xb2d*0x3+-0x71*-0x25+0x1132,this['blendColor']=new Y(0x6e5+0xb89*0x1+-0x1*0x126e,0x8d*0x3+-0xa0f+-0x10d*-0x8,0x190+0x357+-0x5*0xfb,-0x75*-0x49+0x1324+-0x3481*0x1);}['setStencil'+'State'](_0x39d937,_0x468e15){b['assert'](!(0x236d+0x729+-0x1*0x2a95));}['setBlendSt'+'ate'](_0x5a5c1d){b['assert'](!(0x1a80+0x1c*-0xe5+-0x35*0x7));}['setBlendCo'+'lor'](_0x113145,_0x39931f,_0x2aa3e9,_0x23c8a7){b['assert'](!(-0x2037+0x1*-0x1d5f+0x3d97));}['setDepthSt'+'ate'](_0x50b3e4){b['assert'](!(-0xd8f+0x2*0x3fa+0x59c));}['setCullMod'+'e'](_0x3f18cf){b['assert'](!(-0x19ed+0x89*0x30+0x3e));}['setRenderT'+'arget'](_0x1159a1){this['renderTarg'+'et']=_0x1159a1;}['setIndexBu'+'ffer'](_0x4b2dac){this['indexBuffe'+'r']=_0x4b2dac;}['setVertexB'+'uffer'](_0x4786ce){_0x4786ce&&this['vertexBuff'+'ers']['push'](_0x4786ce);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=-0x1d1f+0x13cd+0x952;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x64f89b){if(_0x64f89b['initialize'+'d'])return;const _0x540b0f=ae();this['fire']('fbo:create',{'timestamp':_0x540b0f,'target':this}),_0x64f89b['init'](),this['targets']['add'](_0x64f89b),this['_renderTar'+'getCreatio'+'nTime']+=ae()-_0x540b0f;}['_isBrowser'+'Interface'](_0x40b905){return this['_isImageBr'+'owserInter'+'face'](_0x40b905)||this['_isImageCa'+'nvasInterf'+'ace'](_0x40b905)||this['_isImageVi'+'deoInterfa'+'ce'](_0x40b905);}['_isImageBr'+'owserInter'+'face'](_0x9f5b6b){return typeof ImageBitmap<'u'&&_0x9f5b6b instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x9f5b6b instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x5cb93a){return typeof HTMLCanvasElement<'u'&&_0x5cb93a instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x32de6c){return typeof HTMLVideoElement<'u'&&_0x32de6c instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x2935d1,_0x2892da){const _0x2bc99c=Math['min'](this['_maxPixelR'+'atio'],be['browser']?window['devicePixe'+'lRatio']:0x2193+0x1d3c*0x1+-0x3ece*0x1),_0x4b788b=Math['floor'](_0x2935d1*_0x2bc99c),_0x26399c=Math['floor'](_0x2892da*_0x2bc99c);(_0x4b788b!==this['canvas']['width']||_0x26399c!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x4b788b,_0x26399c);}['setResolut'+'ion'](_0x1575c7,_0x1a6234){this['canvas']['width']=_0x1575c7,this['canvas']['height']=_0x1a6234,this['fire'](cc['EVENT_RESI'+'ZE'],_0x1575c7,_0x1a6234);}['updateClie'+'ntRect'](){if(be['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x5db6c4=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x5db6c4['width'],this['clientRect']['height']=_0x5db6c4['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x2bc156){b['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return b['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(-0x24b*-0xe+0x1aef+-0x3b08*0x1);}set['maxPixelRa'+'tio'](_0x2e3848){this['_maxPixelR'+'atio']=_0x2e3848;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x39d773){}['endRenderP'+'ass'](_0x28db47){}['startCompu'+'tePass'](_0x2befb5){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=0xebf+0xf0e+0x9ef*-0x3,this['renderVers'+'ion']++,b['call'](()=>{if(Qs['get'](tS)){const _0x3397ec=this['textures']['slice']();_0x3397ec['sort']((_0x3057c6,_0x570495)=>_0x570495['gpuSize']-_0x3057c6['gpuSize']),b['log']('Textures:\x20'+_0x3397ec['length']);let _0x42b1fd=-0x1cc2+-0x1*0x14f7+-0x3*-0x1093;_0x3397ec['forEach']((_0x2aaab4,_0x5e5f89)=>{const _0x2aa136=_0x2aaab4['gpuSize'];_0x42b1fd+=_0x2aa136,b['log'](_0x5e5f89+'.\x20'+_0x2aaab4['name']+'\x20'+_0x2aaab4['width']+'x'+_0x2aaab4['height']+'\x20VRAM:\x20'+(_0x2aa136/(-0x1*-0xdad+-0x116e+0x1*0x7c1)/(0x1554+0x686+-0x17da))['toFixed'](-0x67*-0x1+-0x8*-0x456+-0x2315)+'\x20MB');}),b['log']('Total:\x20'+(_0x42b1fd/(0x1*0x64d+0xe04+-0x1051*0x1)/(-0x124c+-0x1*-0x883+-0xdc9*-0x1))['toFixed'](0x997+-0x1401+-0x74*-0x17)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x26e418,_0x1a67a2='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x170dcc=[ya,it,et],_0xc54cc9=!(0x185+-0x2*-0x11d2+-0x9*0x421),_0x1ab7b4=-0x216b+0x1b77+0x5*0x131){for(let _0x2aed18=0x123d+0x9c4+-0x1c01;_0x2aed18<_0x170dcc['length'];_0x2aed18++){const _0x3e6384=_0x170dcc[_0x2aed18];switch(_0x3e6384){case ya:{if(this['textureRG1'+'1B10Render'+'able'])return _0x3e6384;break;}case it:if(this['textureHal'+'fFloatRend'+'erable'])return _0x3e6384;break;case et:if(this['isWebGPU']&&_0x1ab7b4>0x948+0x220+0x3cd*-0x3)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0xc54cc9||this['textureFlo'+'atFilterab'+'le']))return _0x3e6384;break;}}}};c(cc,'EVENT_RESI'+'ZE','resizecanv'+'as');let zh=cc,Hv=-0x1f07+0x7ab+-0x17*-0x104;class St{constructor(_0x14db62={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x47c342,_0x20c706,_0x347eee,_0x406fa0,_0xc0c366,_0x454c50;b['assert'](!(_0x14db62 instanceof zh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x5d3ab3=((_0x47c342=_0x14db62['colorBuffe'+'r'])==null?void(0x20d0+0x1dc+0x1156*-0x2):_0x47c342['device'])??((_0x20c706=_0x14db62['colorBuffe'+'rs'])==null?void(0xec3*0x1+0x209+-0xac*0x19):_0x20c706[-0x1da1*-0x1+-0x1ae4+-0x2bd]['device'])??((_0x347eee=_0x14db62['depthBuffe'+'r'])==null?void(0x35*-0x35+-0x1*-0xe95+-0x39c):_0x347eee['device'])??_0x14db62['graphicsDe'+'vice'];b['assert'](_0x5d3ab3,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x5d3ab3;const {maxSamples:_0x2b105d}=this['_device'];if(this['_samples']=Math['min'](_0x14db62['samples']??-0x16*-0x33+-0xfac*0x1+0x19d*0x7,_0x2b105d),_0x5d3ab3['isWebGPU']&&(this['_samples']=this['_samples']>-0x150f+-0xe4a+0x235a?_0x2b105d:0x7*-0x10b+0xb69+-0x41b),this['_colorBuff'+'er']=_0x14db62['colorBuffe'+'r'],_0x14db62['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x14db62['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x14db62['depthBuffe'+'r'],this['_face']=_0x14db62['face']??0x59b+-0x10*0xbf+0x655*0x1,this['_depthBuff'+'er']){const _0x41c1fa=this['_depthBuff'+'er']['_format'];_0x41c1fa===Di||_0x41c1fa===ca?(this['_depth']=!(0x9*0x12f+0x1*-0x2347+0x18a0),this['_stencil']=!(-0x969+0x95d+-0xd*-0x1)):_0x41c1fa===Ec?(this['_depth']=!(0x1*0x1eb3+0x64*0x9+-0x2237),this['_stencil']=!(-0x106d+-0x2*0x7d2+-0x1*-0x2011)):_0x41c1fa===Oi&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>0x2032+0x2b*-0x49+-0x13ee?(this['_depth']=!(-0x3*0xb82+-0x1*0x18df+0xbe1*0x5),this['_stencil']=!(-0x2*0x91a+0xea1*0x2+-0xb0d)):(b['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0xffe+-0x2545+0x3544*0x1),this['_stencil']=!(0x14ae*-0x1+0x607*-0x4+0x2ccb*0x1));}else this['_depth']=_0x14db62['depth']??!(-0x1790+0x2003+-0x873),this['_stencil']=_0x14db62['stencil']??!(0x395+-0x1*-0x20f2+-0x2486);_0x14db62['colorBuffe'+'rs']&&(b['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x14db62['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x14db62['colorBuffe'+'rs'][0x227f+-0x1046+-0x3*0x613])),this['autoResolv'+'e']=_0x14db62['autoResolv'+'e']??!(-0x2b3*-0x7+0x1*-0x21d7+0xef2),this['name']=_0x14db62['name'],this['name']||(this['name']=(_0x406fa0=this['_colorBuff'+'er'])==null?void(-0x252d+0x7aa+0x1d83):_0x406fa0['name']),this['name']||(this['name']=(_0xc0c366=this['_depthBuff'+'er'])==null?void(-0x117f+0x24e6+-0x1*0x1367):_0xc0c366['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x14db62['flipY']??!(-0x1*0x1e69+0x11f7*-0x1+0x3061),this['_mipLevel']=_0x14db62['mipLevel']??0x531+-0x1*0x97c+-0x1*-0x44b,this['_mipLevel']>-0x1a3d+0x1481*-0x1+-0x175f*-0x2&&this['_depth']&&(b['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x14db62}),this['_mipLevel']=0x96*0x38+-0x1cd9+-0x3f7),this['_mipmaps']=_0x14db62['mipLevel']===void(-0x1e77+-0x1*-0xdc4+0x10b3),this['validateMr'+'t'](),this['impl']=_0x5d3ab3['createRend'+'erTargetIm'+'pl'](this),b['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x454c50=this['_colorBuff'+'ers'])!=null&&_0x454c50['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){b['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x5c7ac2=this['_device'];_0x5c7ac2&&(_0x5c7ac2['targets']['delete'](this),_0x5c7ac2['renderTarg'+'et']===this&&_0x5c7ac2['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x2fd3b8=this['_device'];_0x2fd3b8&&this['impl']['destroy'](_0x2fd3b8);}['destroyTex'+'tureBuffer'+'s'](){var _0x35d8a7,_0x1754af;(_0x35d8a7=this['_depthBuff'+'er'])==null||_0x35d8a7['destroy'](),this['_depthBuff'+'er']=null,(_0x1754af=this['_colorBuff'+'ers'])==null||_0x1754af['forEach'](_0xf05b7c=>{_0xf05b7c['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x70287c,_0x19d3eb){var _0x2e3bd6,_0x7b7e12;if(this['width']!==_0x70287c||this['height']!==_0x19d3eb){if(this['mipLevel']>-0x1ce3+-0x1dcc+0x3aaf){b['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x52ffd4=this['_device'];this['destroyFra'+'meBuffers'](),_0x52ffd4['renderTarg'+'et']===this&&_0x52ffd4['setRenderT'+'arget'](null),(_0x2e3bd6=this['_depthBuff'+'er'])==null||_0x2e3bd6['resize'](_0x70287c,_0x19d3eb),(_0x7b7e12=this['_colorBuff'+'ers'])==null||_0x7b7e12['forEach'](_0x264cea=>{_0x264cea['resize'](_0x70287c,_0x19d3eb);}),this['validateMr'+'t'](),this['impl']=_0x52ffd4['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){b['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0xfc644a,height:_0x797802,cubemap:_0x52879c,volume:_0x4d7b6e}=this['_colorBuff'+'ers'][-0xb1*-0x2e+-0x1*0x1b+0x5*-0x657];for(let _0x540c5f=-0x19*-0xb5+-0x181f+0x673;_0x540c5f<this['_colorBuff'+'ers']['length'];_0x540c5f++){const _0x297949=this['_colorBuff'+'ers'][_0x540c5f];b['assert'](_0x297949['width']===_0xfc644a,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),b['assert'](_0x297949['height']===_0x797802,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),b['assert'](_0x297949['cubemap']===_0x52879c,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),b['assert'](_0x297949['volume']===_0x4d7b6e,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x4eea99=!(0x28f*-0xf+0x16b0+0xfb1),_0x3339ab=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0xd85*-0x1+-0x25e0+0x185c&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x4eea99?'[color]':'')+':'+(_0x3339ab?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x4eea99,_0x3339ab),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x4cca52,_0x2ff2eb,_0x383432){if(!this['_device']){if(_0x4cca52['_device'])this['_device']=_0x4cca52['_device'];else return b['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0x8f1+-0x2b3+-0x1*0x63d);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x4cca52['name']+'->'+this['name']);const _0x15c676=this['_device']['copyRender'+'Target'](_0x4cca52,this,_0x2ff2eb,_0x383432);return G['popGpuMark'+'er'](this['_device']),_0x15c676;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x3d2d7a){var _0x4e8229;return(_0x4e8229=this['_colorBuff'+'ers'])==null?void(-0x4b*0x1+0xc80+-0xc35):_0x4e8229[_0x3d2d7a];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x2c7e5d,_0x1dcaf6;let _0x3211bc=((_0x2c7e5d=this['_colorBuff'+'er'])==null?void(-0x1070+0x83*-0x1d+0x1f47):_0x2c7e5d['width'])||((_0x1dcaf6=this['_depthBuff'+'er'])==null?void(0x436+0x24b0+-0x28e6):_0x1dcaf6['width'])||this['_device']['width'];return this['_mipLevel']>0x459*0x1+0x61c*0x1+-0xa75&&(_0x3211bc=Li['calcLevelD'+'imension'](_0x3211bc,this['_mipLevel'])),_0x3211bc;}get['height'](){var _0x20a1fb,_0x5d30ee;let _0x18d4b0=((_0x20a1fb=this['_colorBuff'+'er'])==null?void(0xcab+0x925+-0x15d0*0x1):_0x20a1fb['height'])||((_0x5d30ee=this['_depthBuff'+'er'])==null?void(0x2600+-0x2347+-0x29*0x11):_0x5d30ee['height'])||this['_device']['height'];return this['_mipLevel']>-0x2443+-0x1305+0x3748&&(_0x18d4b0=Li['calcLevelD'+'imension'](_0x18d4b0,this['_mipLevel'])),_0x18d4b0;}['isColorBuf'+'ferSrgb'](_0x10b2d5=0x1036+0x142b+-0x2461){if(this['device']['backBuffer']===this)return Lh(this['device']['backBuffer'+'Format']);const _0x1e509b=this['getColorBu'+'ffer'](_0x10b2d5);return _0x1e509b?Lh(_0x1e509b['format']):!(-0x177*0x1+0x1*0x2259+0x1*-0x20e1);}}const Wv={'equals'(_0xb6bdb4,_0x375f5a){if(_0xb6bdb4['length']!==_0x375f5a['length'])return!(-0xfbe+0x31*-0xb5+0x3264);for(let _0xc2bb6e=0x2*-0xab7+-0x6*-0x3b+0x140c;_0xc2bb6e<_0xb6bdb4['length'];_0xc2bb6e++)if(_0xb6bdb4[_0xc2bb6e]!==_0x375f5a[_0xc2bb6e])return!(-0x2a3+-0x1aee+-0x1*-0x1d92);return!(0xbf3+0x2293*0x1+-0x2e86);}};class qc{constructor(){c(this,'_refCount',-0x57b*0x4+0x1049*-0x2+0x367e);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class $v extends qc{constructor(_0x1da187){super(),c(this,'object'),(this['object']=_0x1da187,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x5389c0=>{var _0x12ab66;(_0x12ab66=_0x5389c0['object'])==null||_0x12ab66['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x387929){const _0x5ddfec=this['cache']['get'](_0x387929);return _0x5ddfec?(_0x5ddfec['incRefCoun'+'t'](),_0x5ddfec['object']):null;}['set'](_0x5d3648,_0x10498f){b['assert'](!this['cache']['has'](_0x5d3648),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x5d3648,'object':_0x10498f}),this['cache']['set'](_0x5d3648,new $v(_0x10498f));}['release'](_0x4ba5b7){var _0x52e08c;const _0x51db70=this['cache']['get'](_0x4ba5b7);_0x51db70?(_0x51db70['decRefCoun'+'t'](),_0x51db70['refCount']===0x177e+-0x9b8*0x3+0x19*0x3a&&(this['cache']['delete'](_0x4ba5b7),(_0x52e08c=_0x51db70['object'])==null||_0x52e08c['destroy']())):b['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x4ba5b7});}}class Xv extends qv{['loseContex'+'t'](_0x52e9e9){this['clear']();}}const jv=new Ht(),dd=_0x1ac9ab=>jv['get'](_0x1ac9ab,()=>new Xv()),dt=[];dt[Ks]=0xd3a*-0x2+0x2*-0x6a1+0x27b7,dt[hr]=-0x1*0x538+-0x1*-0xe45+-0x90b,dt[Qt]=-0x1*0x1a06+-0x34+0x1a3d,dt[ba]=-0x2*0x1073+0x1807+0x1*0x8e3,dt[hn]=0x1554+-0x176e+-0x21b*-0x1,dt[Qr]=-0x2200+-0x1*-0xc97+0x1*0x156b,dt[Jr]=-0x1dbb+-0x77a*-0x1+0x1644,dt[en]=0x2269+-0xca*-0x1+-0x232f*0x1,dt[ua]=-0x1e01*0x1+-0x1a7*-0x17+-0x17*0x59,dt[Bo]=0x5*0x4c8+-0x89c+-0xf4a,dt[No]=-0x164a+-0x666+0x5d*0x4f,dt[zo]=-0x224*0x2+0x536*0x2+-0x620,dt[kh]=0x6e7+0x21c3+-0x28a2,dt[Uo]=-0x3ac*-0x1+-0x825+-0x59*-0xd,dt[wa]=-0x441*-0x1+-0xa*0x1c3+-0xd6d*-0x1,dt[Ta]=-0xf79*-0x1+-0x13*-0x175+-0x2b27*0x1,dt[Aa]=0x1fc9+0x587*-0x1+0x8c0*-0x3,dt[Ea]=-0x1f*-0x10b+-0x1989+-0x243*0x3,dt[Ca]=0x70*-0x4f+-0x1*0x4f7+0xbf*0x35;class wt{constructor(_0x35bc8d,_0x45434c,_0x160b1e=-0x1eb2+-0x468*-0x1+0x1a4a){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x35bc8d,this['name']=_0x160b1e?_0x35bc8d+'[0]':_0x35bc8d,this['type']=_0x45434c,this['numCompone'+'nts']=dt[_0x45434c],b['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x45434c+'\x20used\x20for\x20'+_0x35bc8d),this['updateType']=_0x45434c,_0x160b1e>0x1482+-0xb37+-0x94b)switch(_0x45434c){case Ks:this['updateType']=Oc;break;case hn:this['updateType']=Ma;break;case Ta:this['updateType']=zc;break;case ua:this['updateType']=Uc;break;case hr:this['updateType']=Bc;break;case Qr:this['updateType']=Pa;break;case Aa:this['updateType']=Vc;break;case Bo:this['updateType']=Gc;break;case Qt:this['updateType']=Nc;break;case Jr:this['updateType']=Ra;break;case Ea:this['updateType']=Hc;break;case No:this['updateType']=Wc;break;case ba:this['updateType']=up;break;case en:this['updateType']=Oh;break;case Ca:this['updateType']=fp;break;case zo:this['updateType']=pp;break;case wa:this['updateType']=zy;break;default:b['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+mp[_0x45434c]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x35bc8d+'\x27.'),b['call'](()=>{this['invalid']=!(-0x25ae+0x5*-0x767+0x4ab1*0x1);});break;}this['count']=_0x160b1e,b['assert'](!isNaN(_0x160b1e),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x35bc8d+'['+_0x160b1e+']'),b['call'](()=>{isNaN(_0x160b1e)&&(this['invalid']=!(-0x15a9+-0x1ab5+0x97*0x52));});let _0x8ca9a4=this['numCompone'+'nts'];_0x160b1e&&(_0x8ca9a4=z['roundUp'](_0x8ca9a4,-0x1749+0x11*-0xa+0x5*0x4cb)),this['byteSize']=_0x8ca9a4*(-0x162a+0xf10*-0x1+0x253e),_0x160b1e&&(this['byteSize']*=_0x160b1e),b['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x45434c+'\x20used\x20for\x20'+_0x35bc8d);}get['isArrayTyp'+'e'](){return this['count']>0x1*-0x1744+-0x1633*-0x1+-0x27*-0x7;}['calculateO'+'ffset'](_0x2ce25c){let _0x520ad6=this['byteSize']<=0x1597+0x6*-0x107+-0xf65?this['byteSize']:0xf47+-0x43*-0x5d+-0x278e;this['count']&&(_0x520ad6=0x2f2+0x155*-0x11+0x13c3),_0x2ce25c=z['roundUp'](_0x2ce25c,_0x520ad6),this['offset']=_0x2ce25c/(0x1379+-0x22f7+0xf82);}}class Jy{constructor(_0x3e091c,_0x43c2dc){c(this,'byteSize',0x3b6+-0x1*-0x25b1+-0x2967),c(this,'map',new Map()),(this['scope']=_0x3e091c['scope'],this['uniforms']=_0x43c2dc);let _0xb86d25=-0x1c7*-0x9+0x25ce+0x11ef*-0x3;for(let _0x50a9e4=-0x1f27*-0x1+0x3*-0x2f5+0x2c9*-0x8;_0x50a9e4<_0x43c2dc['length'];_0x50a9e4++){const _0x1cb31c=_0x43c2dc[_0x50a9e4];_0x1cb31c['calculateO'+'ffset'](_0xb86d25),_0xb86d25=_0x1cb31c['offset']*(-0x114+0xf74+-0xe5c)+_0x1cb31c['byteSize'],_0x1cb31c['scopeId']=this['scope']['resolve'](_0x1cb31c['name']),this['map']['set'](_0x1cb31c['name'],_0x1cb31c);}this['byteSize']=z['roundUp'](_0xb86d25,-0xeac+-0x277+-0x25*-0x77);}['get'](_0x242a6a){return this['map']['get'](_0x242a6a);}['getShaderD'+'eclaration'](_0x440014,_0x2fc4b0){const _0x398adc=xv[_0x440014];let _0x42013e='layout(set'+'\x20=\x20'+_0x440014+(',\x20binding\x20'+'=\x20')+_0x2fc4b0+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x398adc+'\x20{\x0a';return this['uniforms']['forEach'](_0x54bb2e=>{const _0x352726=mp[_0x54bb2e['type']];b['assert'](_0x352726['length']>0x2*0xd56+0x123d*0x1+-0x2ce9*0x1,'Uniform\x20ty'+'pe\x20'+_0x54bb2e['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x42013e+='\x20\x20\x20\x20'+_0x352726+'\x20'+_0x54bb2e['shortName']+(_0x54bb2e['count']?'['+_0x54bb2e['count']+']':'')+';\x0a';}),_0x42013e+'};\x0a';}}const yr='Preprocess'+'or',xs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ud=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Em=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,fd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,pd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,md=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Cm=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,_d=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,Cs=class Cs{static['run'](_0x3455ae,_0x896516=new Map(),_0x4718ca={}){Cs['sourceName']=_0x4718ca['sourceName'],_0x3455ae=this['stripComme'+'nts'](_0x3455ae),_0x3455ae=_0x3455ae['split'](/\r?\n/)['map'](_0x1f16d6=>_0x1f16d6['trimEnd']())['join']('\x0a');const _0x14f2d9=new Map();if(_0x4718ca['stripUnuse'+'dColorAtta'+'chments']){const _0x10cbdc=new Map(),_0x5a1cb8=/(pcFragColor[1-8])\b/g,_0x10f59a=_0x3455ae['match'](_0x5a1cb8);_0x10f59a==null||_0x10f59a['forEach'](_0x2f530d=>{const _0x261788=parseInt(_0x2f530d['charAt'](_0x2f530d['length']-(-0x2165+0x21a3+-0x3d*0x1)),0x354+-0x1a8+-0xb*0x26);_0x10cbdc['set'](_0x261788,(_0x10cbdc['get'](_0x261788)??-0x1091*-0x1+-0x1*-0x1d18+-0x2da9)+(0x9*0x1af+0x33e*-0x9+0xe08));}),_0x10cbdc['forEach']((_0x3974f9,_0x4d0177)=>{_0x3974f9===-0x11d7*0x2+0xd*-0x32+0x2639&&_0x14f2d9['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x4d0177,'');});}_0x3455ae=this['_preproces'+'s'](_0x3455ae,_0x14f2d9,_0x896516,_0x4718ca['stripDefin'+'es']);const _0x507b5f=new Map();_0x14f2d9['forEach']((_0x3f653b,_0x59d670)=>{Number['isInteger'](parseFloat(_0x3f653b))&&!_0x3f653b['includes']('.')&&_0x507b5f['set'](_0x59d670,_0x3f653b);});const _0x1f8435=new Map();return _0x14f2d9['forEach']((_0x38776f,_0xa684ad)=>{_0xa684ad['startsWith']('__INJECT_')&&_0x1f8435['set'](_0xa684ad,_0x38776f);}),_0x3455ae=this['stripComme'+'nts'](_0x3455ae),_0x3455ae=this['RemoveEmpt'+'yLines'](_0x3455ae),_0x3455ae=this['processArr'+'aySize'](_0x3455ae,_0x507b5f),_0x3455ae=this['injectDefi'+'nes'](_0x3455ae,_0x1f8435),_0x3455ae;}static['stripComme'+'nts'](_0x506ed3){return _0x506ed3['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x3214b5,_0x1a4fb8){return _0x3214b5!==null&&_0x1a4fb8['forEach']((_0xd1b069,_0x40a56b)=>{_0x3214b5=_0x3214b5['replace'](new RegExp('\x5c['+_0x40a56b+'\x5c]','g'),'['+_0xd1b069+']');}),_0x3214b5;}static['injectDefi'+'nes'](_0x2160ce,_0x1fe74e){if(_0x2160ce!==null&&_0x1fe74e['size']>-0xd45+0x1290+-0x54b*0x1){const _0x25051b=_0x2160ce['split']('\x0a');_0x1fe74e['forEach']((_0x46a88a,_0x1ee3ac)=>{const _0x578618=new RegExp('\x5cb'+_0x1ee3ac+'\x5cb','g');for(let _0x4bbeb0=0xe81*-0x1+-0x1849+-0x7c2*-0x5;_0x4bbeb0<_0x25051b['length'];_0x4bbeb0++)_0x25051b[_0x4bbeb0]['includes']('#')||(_0x25051b[_0x4bbeb0]=_0x25051b[_0x4bbeb0]['replace'](_0x578618,_0x46a88a));}),_0x2160ce=_0x25051b['join']('\x0a');}return _0x2160ce;}static['RemoveEmpt'+'yLines'](_0x9691be){return _0x9691be!==null&&(_0x9691be=_0x9691be['split'](/\r?\n/)['map'](_0x352eba=>_0x352eba['trim']()===''?'':_0x352eba)['join']('\x0a'),_0x9691be=_0x9691be['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x9691be;}static['_preproces'+'s'](_0x235c44,_0x8eed6d=new Map(),_0x1e9bbc,_0x35129a){const _0x526b3e=_0x235c44,_0x4f25a0=[];let _0x1d4a38=!(0x65a+0x24eb+-0x2b44),_0x3700d4;for(;(_0x3700d4=xs['exec'](_0x235c44))!==null;){const _0x541154=_0x3700d4[-0x2298+-0x1df3+0x408c];switch(_0x541154){case'define':{ud['lastIndex']=_0x3700d4['index'];const _0x247a96=ud['exec'](_0x235c44);b['assert'](_0x247a96,'Invalid\x20['+_0x541154+']:\x20'+_0x235c44['substring'](_0x3700d4['index'],_0x3700d4['index']+(-0xf30+-0x118f+0x2123))+'...'),_0x1d4a38||(_0x1d4a38=_0x247a96===null);const _0x4b2973=_0x247a96[-0x2569+0x1d6f+0x1*0x7fb];Cm['lastIndex']=_0x247a96['index'];const _0x58b7ad=Cm['exec'](_0x4b2973)[-0x7d7+-0x5*0x61+0x9bd];let _0x484236=_0x4b2973['substring'](_0x58b7ad['length'])['trim']();_0x484236===''&&(_0x484236='true');const _0x504bb9=Cs['_keep'](_0x4f25a0);_0x504bb9&&(_0x8eed6d['set'](_0x58b7ad,_0x484236),_0x35129a&&(_0x235c44=_0x235c44['substring'](0x2*0x135a+0x1228+0x1c6e*-0x2,_0x247a96['index']-(-0x2501*-0x1+0x172f+-0x3c2f))+_0x235c44['substring'](ud['lastIndex']),xs['lastIndex']=_0x247a96['index']-(0x1f*-0x9b+-0x917*0x1+0x1bdd))),b['trace'](yr,_0x541154+':\x20['+_0x58b7ad+']\x20'+_0x484236+'\x20'+(_0x504bb9?'':'IGNORED')),_0x35129a||(xs['lastIndex']=_0x247a96['index']+_0x247a96[-0x1*0xe4c+-0x1*-0x1e27+-0x549*0x3]['length']);break;}case'undef':{fd['lastIndex']=_0x3700d4['index'];const _0x49b06d=fd['exec'](_0x235c44),_0x3fb0ce=_0x49b06d[-0x24ec+0x140a+0x21*0x83]['trim'](),_0x40d6a5=Cs['_keep'](_0x4f25a0);_0x40d6a5&&(_0x8eed6d['delete'](_0x3fb0ce),_0x35129a&&(_0x235c44=_0x235c44['substring'](-0x161*0x7+0x2b*-0x82+0x1f7d,_0x49b06d['index']-(-0x23f7+-0x17d7*-0x1+-0x2d*-0x45))+_0x235c44['substring'](fd['lastIndex']),xs['lastIndex']=_0x49b06d['index']-(0x2678+-0xc1*0x24+0xb53*-0x1))),b['trace'](yr,_0x541154+':\x20['+_0x3fb0ce+']\x20'+(_0x40d6a5?'':'IGNORED')),_0x35129a||(xs['lastIndex']=_0x49b06d['index']+_0x49b06d[0x3*0x207+-0xbbb*-0x1+-0x1e*0x98]['length']);break;}case'extension':{Em['lastIndex']=_0x3700d4['index'];const _0x2dcde2=Em['exec'](_0x235c44);if(b['assert'](_0x2dcde2,'Invalid\x20['+_0x541154+']:\x20'+_0x235c44['substring'](_0x3700d4['index'],_0x3700d4['index']+(-0x1d5+0x14b*0x11+-0x13c2))+'...'),_0x1d4a38||(_0x1d4a38=_0x2dcde2===null),_0x2dcde2){const _0x24d107=_0x2dcde2[0x552+-0x1e27+-0xc6b*-0x2],_0x8fa460=Cs['_keep'](_0x4f25a0);_0x8fa460&&_0x8eed6d['set'](_0x24d107,'true'),b['trace'](yr,_0x541154+':\x20['+_0x24d107+']\x20'+(_0x8fa460?'':'IGNORED'));}xs['lastIndex']=_0x2dcde2['index']+_0x2dcde2[-0x4c*-0x10+0xca*0x1+-0x58a]['length'];break;}case'ifdef':case'ifndef':case'if':{pd['lastIndex']=_0x3700d4['index'];const _0x6f25d4=pd['exec'](_0x235c44),_0x234c3b=_0x6f25d4[0x84f*0x1+0x10a0+-0x18ed],_0x1fd5c9=Cs['evaluate'](_0x234c3b,_0x8eed6d);_0x1d4a38||(_0x1d4a38=_0x1fd5c9['error']);let _0x1b2ccf=_0x1fd5c9['result'];_0x541154==='ifndef'&&(_0x1b2ccf=!_0x1b2ccf),_0x4f25a0['push']({'anyKeep':_0x1b2ccf,'keep':_0x1b2ccf,'start':_0x3700d4['index'],'end':pd['lastIndex']}),b['trace'](yr,_0x541154+':\x20['+_0x234c3b+']\x20=>\x20'+_0x1b2ccf),xs['lastIndex']=_0x6f25d4['index']+_0x6f25d4[0x1*0x9e3+0x1ffa+-0x29dd]['length'];break;}case'endif':case'else':case'elif':{md['lastIndex']=_0x3700d4['index'];const _0x2312b0=md['exec'](_0x235c44),_0x5a4243=_0x4f25a0['pop'](),_0x473f67=_0x5a4243['keep']?_0x235c44['substring'](_0x5a4243['end'],_0x3700d4['index']):'';b['trace'](yr,_0x541154+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x473f67!=='')),_0x235c44=_0x235c44['substring'](-0xa*-0x9e+-0x1*0x246b+-0x3*-0xa15,_0x5a4243['start'])+_0x473f67+_0x235c44['substring'](md['lastIndex']),xs['lastIndex']=_0x5a4243['start']+_0x473f67['length'];const _0x2b10e8=_0x2312b0[-0x5c*-0x37+-0x19*0x12b+0x970];if(_0x2b10e8==='else'||_0x2b10e8==='elif'){let _0x2a17bb=!(0xad1*0x3+-0x411*-0x3+-0x2ca5);if(!_0x5a4243['anyKeep']){if(_0x2b10e8==='else')_0x2a17bb=!_0x5a4243['keep'];else{const _0x385b4d=Cs['evaluate'](_0x2312b0[-0x2c9*-0xd+0x1*-0xa5e+0x19d5*-0x1],_0x8eed6d);_0x2a17bb=_0x385b4d['result'],_0x1d4a38||(_0x1d4a38=_0x385b4d['error']);}}_0x4f25a0['push']({'anyKeep':_0x5a4243['anyKeep']||_0x2a17bb,'keep':_0x2a17bb,'start':xs['lastIndex'],'end':xs['lastIndex']}),b['trace'](yr,_0x541154+':\x20['+_0x2312b0[0x37d+-0x23fa+-0x207f*-0x1]+']\x20=>\x20'+_0x2a17bb);}break;}case'include':{_d['lastIndex']=_0x3700d4['index'];const _0x1f01ef=_d['exec'](_0x235c44);_0x1d4a38||(_0x1d4a38=_0x1f01ef===null),b['assert'](_0x1f01ef,'Invalid\x20['+_0x541154+']:\x20'+_0x235c44['substring'](_0x3700d4['index'],_0x3700d4['index']+(0xb2*-0x35+-0xd04+-0x72e*-0x7))+'...');const _0x320c3c=_0x1f01ef[0x75*-0x4c+0x1*0x2ef+0x1fce]['trim'](),_0x49ad81=Cs['_keep'](_0x4f25a0);if(_0x49ad81){const _0x4a4dae=_0x1e9bbc==null?void(0x1172*0x1+-0x577+0x1*-0xbfb):_0x1e9bbc['get'](_0x320c3c);_0x4a4dae!==void(0xa40*0x1+-0x1efe+0xb1*0x1e)?(_0x235c44=_0x235c44['substring'](0x6e5+-0xb5*-0x31+-0x14c5*0x2,_0x1f01ef['index']-(0xda*-0x6+0x7ed*0x3+-0x12aa))+_0x4a4dae+_0x235c44['substring'](_d['lastIndex']),xs['lastIndex']=_0x1f01ef['index']-(0x3*-0x3e1+0x2510+-0x196c)):(console['error']('Include\x20\x22'+_0x320c3c+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Cs['sourceName'],{'source':_0x526b3e}),_0x1d4a38=!(0x204*0x1+0x23d6+-0x25da));}b['trace'](yr,_0x541154+':\x20['+_0x320c3c+']\x20'+(_0x49ad81?'':'IGNORED'));break;}}}return _0x1d4a38?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x526b3e}),_0x526b3e):_0x235c44;}static['_keep'](_0xa2596f){for(let _0x693b0c=-0x4fa+0x2177+-0x1c7d;_0x693b0c<_0xa2596f['length'];_0x693b0c++)if(!_0xa2596f[_0x693b0c]['keep'])return!(0x20e7+0x1864+-0x394a);return!(-0x25b7+0x1683+-0x3cd*-0x4);}static['evaluate'](_0x4808a7,_0x431ba1){const _0x15f9fb=Zv['exec'](_0x4808a7)===null;b['assert'](_0x15f9fb,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x4808a7);let _0x3a2e75=!(0xdf5*0x1+-0x247*-0x4+-0x1710);const _0x4d15b5=Yv['exec'](_0x4808a7);_0x4d15b5&&(_0x3a2e75=_0x4d15b5[0xbdf*0x3+-0x37*0x35+-0x1839]==='!',_0x4808a7=_0x4d15b5[0xf7f*0x1+0x822*0x1+-0x179f]);const _0x3d7a34=Kv['exec'](_0x4808a7);if(_0x3d7a34){const _0x29bbc0=_0x431ba1['get'](_0x3d7a34[-0x1ef7*-0x1+0x11*-0xef+-0xf17])??_0x3d7a34[-0x1*-0x402+-0x25*0x5e+-0xb*-0xdf],_0x15ea43=_0x431ba1['get'](_0x3d7a34[0xe7e+-0x55c+-0x5*0x1d3])??_0x3d7a34[-0x3*-0x7fb+0xa15+0x1*-0x2203],_0x20073c=_0x3d7a34[-0x2c5*0x1+-0x562+0x1*0x829];let _0x2ec1f1=!(-0x5*-0x11f+0x1a22+-0x1fbc);switch(_0x20073c){case'==':_0x2ec1f1=_0x29bbc0===_0x15ea43;break;case'!=':_0x2ec1f1=_0x29bbc0!==_0x15ea43;break;case'<':_0x2ec1f1=_0x29bbc0<_0x15ea43;break;case'<=':_0x2ec1f1=_0x29bbc0<=_0x15ea43;break;case'>':_0x2ec1f1=_0x29bbc0>_0x15ea43;break;case'>=':_0x2ec1f1=_0x29bbc0>=_0x15ea43;break;}return{'result':_0x2ec1f1,'error':!_0x15f9fb};}_0x4808a7=_0x4808a7['trim']();let _0x366662=_0x431ba1['has'](_0x4808a7);return _0x3a2e75&&(_0x366662=!_0x366662),{'result':_0x366662,'error':!_0x15f9fb};}};c(Cs,'sourceName');let Uh=Cs;const e0='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),t0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),i0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Mm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':Xe,'vertex_normal':ss,'vertex_tangent':si,'vertex_texCoord0':ds,'vertex_texCoord1':yn,'vertex_texCoord2':Qo,'vertex_texCoord3':Jo,'vertex_texCoord4':el,'vertex_texCoord5':tl,'vertex_texCoord6':sl,'vertex_texCoord7':il,'vertex_color':It,'vertex_boneIndices':Jt,'vertex_boneWeights':ei};class Ft{static['createDefi'+'nition'](_0xd27f13,_0x1cb44b){b['assert'](_0x1cb44b),b['assert'](!_0x1cb44b['vertexDefi'+'nes']||_0x1cb44b['vertexDefi'+'nes']instanceof Map),b['assert'](!_0x1cb44b['vertexIncl'+'udes']||_0x1cb44b['vertexIncl'+'udes']instanceof Map),b['assert'](!_0x1cb44b['fragmentDe'+'fines']||_0x1cb44b['fragmentDe'+'fines']instanceof Map),b['assert'](!_0x1cb44b['fragmentIn'+'cludes']||_0x1cb44b['fragmentIn'+'cludes']instanceof Map);const _0x250b4a=(_0x390cca,_0x54d8ab,_0x22a111,_0x1b6bba)=>{const _0x574f6f=_0xd27f13['isWebGPU']?_0x390cca:_0x54d8ab;let _0x482ada='';if(!_0x22a111){let _0xcd26f2=_0x1b6bba['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0xcd26f2)||(_0xcd26f2=[_0xcd26f2]);for(let _0x1bbb58=-0x330+-0x1*0xd8b+0x10bb;_0x1bbb58<_0xd27f13['maxColorAt'+'tachments'];_0x1bbb58++){_0x482ada+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x1bbb58+'\x0a';const _0x4a455d=_0xcd26f2[_0x1bbb58]??'vec4';_0x482ada+='#define\x20ou'+'tType_'+_0x1bbb58+'\x20'+_0x4a455d+'\x0a';}}return _0x482ada+_0x574f6f;},_0x3d573a=_0x1cb44b['name']??'Untitled';let _0x108357,_0x4c7d56;return _0x1cb44b['shaderLang'+'uage']===Fh?(_0x108357=_0x1cb44b['vertexCode'],_0x4c7d56=_0x1cb44b['fragmentCo'+'de']):(_0x108357=Ft['versionCod'+'e'](_0xd27f13)+_0x250b4a(i0,t0,!(-0x239d+0x8f0+-0x1*-0x1aad),_0x1cb44b)+Ft['getDefines'+'Code'](_0x1cb44b['vertexDefi'+'nes'])+Ft['precisionC'+'ode'](_0xd27f13)+'\x0a'+Mm+Ft['getShaderN'+'ameCode'](_0x3d573a)+_0x1cb44b['vertexCode'],_0x4c7d56=(_0x1cb44b['fragmentPr'+'eamble']||'')+Ft['versionCod'+'e'](_0xd27f13)+_0x250b4a(s0,e0,!(-0x2*-0x12e0+-0x3*-0x33f+-0xc*0x3f5),_0x1cb44b)+Ft['getDefines'+'Code'](_0x1cb44b['fragmentDe'+'fines'])+Ft['precisionC'+'ode'](_0xd27f13)+'\x0a'+Mm+Ft['getShaderN'+'ameCode'](_0x3d573a)+(_0x1cb44b['fragmentCo'+'de']||Ft['dummyFragm'+'entCode']())),{'name':_0x3d573a,'shaderLanguage':_0x1cb44b['shaderLang'+'uage']??By,'attributes':_0x1cb44b['attributes'],'vshader':_0x108357,'vincludes':_0x1cb44b['vertexIncl'+'udes'],'fincludes':_0x1cb44b['fragmentIn'+'cludes'],'fshader':_0x4c7d56,'useTransformFeedback':_0x1cb44b['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x1cb44b['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x1cb44b['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x39d5be){let _0x3784e6='';return _0x39d5be==null||_0x39d5be['forEach']((_0x1889f5,_0x344e05)=>{_0x3784e6+='#define\x20'+_0x344e05+'\x20'+_0x1889f5+'\x0a';}),_0x3784e6;}static['getShaderN'+'ameCode'](_0x440fc6){return'#define\x20SH'+'ADER_NAME\x20'+_0x440fc6+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x31c63b){return _0x31c63b['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x54825e,_0x5bcf71){_0x5bcf71&&_0x5bcf71!=='highp'&&_0x5bcf71!=='mediump'&&_0x5bcf71!=='lowp'&&(_0x5bcf71=null),_0x5bcf71&&(_0x5bcf71==='highp'&&_0x54825e['maxPrecisi'+'on']!=='highp'&&(_0x5bcf71='mediump'),_0x5bcf71==='mediump'&&_0x54825e['maxPrecisi'+'on']==='lowp'&&(_0x5bcf71='lowp'));const _0x4c91e7=_0x5bcf71||_0x54825e['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x4c91e7+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x4c91e7+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x4c91e7+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x4c91e7+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x4c91e7+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x4c91e7+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x4c91e7+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x1d4dba){const _0x4e5810={};let _0xdfd298=0x2452+-0xfcd+0x1485*-0x1,_0x1fd9f3=_0x1d4dba['indexOf']('attribute');for(;_0x1fd9f3>=0xf1*0x5+-0x4c*0x9+-0x209*0x1&&!(_0x1fd9f3>-0x6b2+0x2619+0x1*-0x1f67&&_0x1d4dba[_0x1fd9f3-(-0x6ce+0x1*-0x1af+0x43f*0x2)]==='/');){let _0x124185=!(-0x23*0xb3+0x1*0x364+0x1516);if(_0x1fd9f3>0x2140+-0x1*0x268a+0x54a){let _0x489508=_0x1d4dba['lastIndexO'+'f']('\x0a',_0x1fd9f3);_0x489508=_0x489508!==-(-0x2275+0xdc3*0x1+0x14b3*0x1)?_0x489508+(0x1f78+-0xd9b+0x1fc*-0x9):-0x27*0xbf+-0x2f*-0x71+-0x85a*-0x1,_0x1d4dba['substring'](_0x489508,_0x1fd9f3)['includes']('#')&&(_0x124185=!(0x1206+-0x1064*-0x2+0x32ce*-0x1));}if(!_0x124185){const _0x245084=_0x1d4dba['indexOf'](';',_0x1fd9f3),_0x2b24a0=_0x1d4dba['lastIndexO'+'f']('\x20',_0x245084),_0x2916a0=_0x1d4dba['substring'](_0x2b24a0+(0x3*0x94b+-0x1113+0x1*-0xacd),_0x245084);if(_0x4e5810[_0x2916a0])b['warn']('Attribute\x20'+'['+_0x2916a0+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x1d4dba});else{const _0x21d48d=Qv[_0x2916a0];_0x21d48d!==void(0x1fb4+0x139b+-0x334f*0x1)?_0x4e5810[_0x2916a0]=_0x21d48d:(_0x4e5810[_0x2916a0]='ATTR'+_0xdfd298,_0xdfd298++);}}_0x1fd9f3=_0x1d4dba['indexOf']('attribute',_0x1fd9f3+(-0x1*-0x1b16+-0x2341*0x1+-0x4*-0x20b));}return _0x4e5810;}}let Jv=0x157f+0x161*0x17+-0x3536;class r0{constructor(_0x5a0691,_0x3c9bad){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x5a0691,this['definition']=_0x3c9bad,this['name']=_0x3c9bad['name']||'Untitled',this['init'](),_0x3c9bad['cshader'])b['assert'](_0x5a0691['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),b['assert'](!_0x3c9bad['vshader']&&!_0x3c9bad['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{b['assert'](_0x3c9bad['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),b['assert'](_0x3c9bad['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x3c9bad['vshader']=Uh['run'](_0x3c9bad['vshader'],_0x3c9bad['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x3c9bad['shaderLang'+'uage']===By&&(_0x3c9bad['attributes']??(_0x3c9bad['attributes']=Ft['collectAtt'+'ributes'](_0x3c9bad['vshader'])));const _0x16db6d=_0x5a0691['isWebGL2']&&(be['name']==='osx'||be['name']==='ios');_0x3c9bad['fshader']=Uh['run'](_0x3c9bad['fshader'],_0x3c9bad['fincludes'],{'stripUnusedColorAttachments':_0x16db6d,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x5a0691['createShad'+'erImpl'](this),b['trace'](Qp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(0x8b1*-0x3+0x59a+-0x1*-0x147a),this['failed']=!(-0xf*0x28e+0x3*-0x21+0x26b6);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){b['trace'](Qp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Me=[];Me[Ks]=function(_0x418899,_0x25befe,_0x2862b3){const _0x1c646b=_0x418899['storageFlo'+'at32'];_0x1c646b[_0x2862b3]=_0x25befe;},Me[hr]=(_0x45430b,_0x2aa7ee,_0x30e306)=>{const _0x3235e6=_0x45430b['storageFlo'+'at32'];_0x3235e6[_0x30e306]=_0x2aa7ee[0x1c34+-0x2561+0x105*0x9],_0x3235e6[_0x30e306+(0x1*-0xa57+-0x27*0x9+0x1*0xbb7)]=_0x2aa7ee[0x1488+-0x1028+-0x45f];},Me[Qt]=(_0x42418c,_0x5aa76b,_0x5365ff)=>{const _0x39b704=_0x42418c['storageFlo'+'at32'];_0x39b704[_0x5365ff]=_0x5aa76b[0x221b*0x1+0x103*-0x2+-0xbf*0x2b],_0x39b704[_0x5365ff+(0x6*-0x472+-0xb*-0x42+-0x11*-0x167)]=_0x5aa76b[0x23b8+-0x1fbe+0x9*-0x71],_0x39b704[_0x5365ff+(-0x791*0x3+0x5c*0x49+-0x387)]=_0x5aa76b[-0x231e+0x234f+-0x1*0x2f];},Me[ba]=(_0x14cb6c,_0x5e3b4c,_0x510ae8)=>{const _0x2f9e2d=_0x14cb6c['storageFlo'+'at32'];_0x2f9e2d[_0x510ae8]=_0x5e3b4c[-0x1008+-0x5e5*0x1+0x15ed],_0x2f9e2d[_0x510ae8+(0x1983+-0x2*0x1292+0xba2*0x1)]=_0x5e3b4c[-0x14a1*-0x1+0xeb2+0x1*-0x2352],_0x2f9e2d[_0x510ae8+(-0x213e+0x1612+0xb2e)]=_0x5e3b4c[0x24d3+-0x2310+-0x1c1],_0x2f9e2d[_0x510ae8+(-0x1881+0x2321+-0xa9d)]=_0x5e3b4c[0x20a2+0x17cd*0x1+-0x386c];},Me[hn]=function(_0x2d8ac4,_0xe7c97a,_0x5e2382){const _0x48e771=_0x2d8ac4['storageInt'+'32'];_0x48e771[_0x5e2382]=_0xe7c97a;},Me[Qr]=function(_0x1ac330,_0x283b6b,_0x5cc515){const _0x27b225=_0x1ac330['storageInt'+'32'];_0x27b225[_0x5cc515]=_0x283b6b[-0x1412+-0x1aa7+0x3*0xf93],_0x27b225[_0x5cc515+(0x1670+-0x2*0x36a+-0xf9b)]=_0x283b6b[-0x1ca8+-0x2071+0x3d1a];},Me[Jr]=function(_0x11ea55,_0x4c5959,_0x4f3f5c){const _0x2a0189=_0x11ea55['storageInt'+'32'];_0x2a0189[_0x4f3f5c]=_0x4c5959[0x1*0xa79+0x23e3+-0x2e5c],_0x2a0189[_0x4f3f5c+(0x5*0x213+-0xe75+0x417*0x1)]=_0x4c5959[0x1*0x1009+0x1*-0x1163+0x15b*0x1],_0x2a0189[_0x4f3f5c+(-0x228d+0x4e8+0x1*0x1da7)]=_0x4c5959[-0x23*0x51+0x281+0x225*0x4];},Me[en]=function(_0x241558,_0x266655,_0x1cf0fd){const _0x47d3f8=_0x241558['storageInt'+'32'];_0x47d3f8[_0x1cf0fd]=_0x266655[0x52*-0x39+0x2092*-0x1+0x32d4*0x1],_0x47d3f8[_0x1cf0fd+(0x856+-0x20*-0x4a+-0x1*0x1195)]=_0x266655[-0x10de+-0x14fc+0xb*0x371],_0x47d3f8[_0x1cf0fd+(-0x13df+-0x387*-0x3+0x94c)]=_0x266655[-0x12b1+0x1274*-0x2+0x379b],_0x47d3f8[_0x1cf0fd+(0x312+-0xbe7+0x46c*0x2)]=_0x266655[-0x1*0x158e+0x13a*-0x15+-0x977*-0x5];},Me[kh]=(_0x28d121,_0x3c2fa6,_0x2a8260)=>{const _0x52d69e=_0x28d121['storageFlo'+'at32'];_0x52d69e[_0x2a8260]=_0x3c2fa6[-0x1886+-0x58*-0x6d+0x2*-0x679],_0x52d69e[_0x2a8260+(0xc74+-0x18ca+0x3*0x41d)]=_0x3c2fa6[-0x1687+0x54d*-0x1+0x1bd5],_0x52d69e[_0x2a8260+(-0xf6+-0x226+-0x320*-0x1)]=_0x3c2fa6[0x937+-0x16f5+0x50*0x2c],_0x52d69e[_0x2a8260+(-0x2364+0xe72+-0x6fd*-0x3)]=_0x3c2fa6[0x183b+0x2*-0x919+0x3*-0x202],_0x52d69e[_0x2a8260+(0xf07+-0x121*-0xe+0x13*-0x19f)]=_0x3c2fa6[0x26d3+-0x752+-0x3*0xa7f],_0x52d69e[_0x2a8260+(0x3*0x551+-0x37d+0xc6d*-0x1)]=_0x3c2fa6[0x2*0x1161+-0x1*0x24b3+0x1f6];},Me[Uo]=(_0x1ec4a1,_0x521b27,_0xec5065)=>{const _0x5c09e6=_0x1ec4a1['storageFlo'+'at32'];_0x5c09e6[_0xec5065]=_0x521b27[0x1b8d*0x1+-0xc6c*0x1+-0xf21],_0x5c09e6[_0xec5065+(0x152*-0x8+0x27+0xa6a)]=_0x521b27[-0x4*0x229+0x817+0x1*0x8e],_0x5c09e6[_0xec5065+(0x3*-0x897+0x1fc9*0x1+0x602*-0x1)]=_0x521b27[-0x1*0xfa3+-0x47f+0x4*0x509],_0x5c09e6[_0xec5065+(-0x1cf2+0x192a+0x1e6*0x2)]=_0x521b27[0x33b*-0x5+-0x1*-0xc92+0x5c*0xa],_0x5c09e6[_0xec5065+(-0x57c+-0x1e+0x59f)]=_0x521b27[-0x5ae*0x5+0x3d1*-0x3+0x1*0x27dd],_0x5c09e6[_0xec5065+(0xb1b+-0x1*0x712+0x403*-0x1)]=_0x521b27[-0xb*0x2a2+0x2*-0x63d+0x2975*0x1],_0x5c09e6[_0xec5065+(0x1306*-0x2+0x133b*-0x1+-0x394f*-0x1)]=_0x521b27[0x903*-0x4+0xab7+0x195b*0x1],_0x5c09e6[_0xec5065+(-0x301*0x5+-0xd66+0x4*0x71d)]=_0x521b27[-0x1070+0x1fb4*0x1+-0xf3d],_0x5c09e6[_0xec5065+(0x3*-0x84e+-0x971*-0x1+-0xf83*-0x1)]=_0x521b27[0x1*0x26ed+0x19c8+-0x40ad];},Me[Oc]=function(_0xf23992,_0x2b3a9d,_0x1a7e4d,_0x42dc73){const _0x621cc6=_0xf23992['storageFlo'+'at32'];for(let _0x47c4de=0x8a0+-0x15b2+0xd12;_0x47c4de<_0x42dc73;_0x47c4de++)_0x621cc6[_0x1a7e4d+_0x47c4de*(0x7e5*-0x3+-0xb5d+0x2310)]=_0x2b3a9d[_0x47c4de];},Me[Bc]=(_0xab7e25,_0x2c0765,_0x4b7457,_0x36f4d5)=>{const _0x2489de=_0xab7e25['storageFlo'+'at32'];for(let _0xdbd1d7=0xb76+-0x4*-0x363+-0x1902;_0xdbd1d7<_0x36f4d5;_0xdbd1d7++)_0x2489de[_0x4b7457+_0xdbd1d7*(0x13a2+-0x7ce*0x1+-0xbd0)]=_0x2c0765[_0xdbd1d7*(-0x1747+-0x6b*0x2c+0x29ad)],_0x2489de[_0x4b7457+_0xdbd1d7*(-0x1251+-0x1d2f+-0x1*-0x2f84)+(-0x5b8+-0x1*0x541+0xafa*0x1)]=_0x2c0765[_0xdbd1d7*(-0xc73*-0x2+-0x950+0xf94*-0x1)+(-0x1bd7*-0x1+0x2169+-0x3d3f)];},Me[Nc]=(_0x5d668e,_0x1239c6,_0x5355e0,_0x46d808)=>{const _0x2f067f=_0x5d668e['storageFlo'+'at32'];for(let _0x533985=0x119c+0x19ab+-0x2b47;_0x533985<_0x46d808;_0x533985++)_0x2f067f[_0x5355e0+_0x533985*(0x27*0x97+-0x4d*-0x1a+-0x1ecf)]=_0x1239c6[_0x533985*(0x1*-0x1c7+-0x1789+0x1953)],_0x2f067f[_0x5355e0+_0x533985*(-0x1*-0x10bb+-0x13e*-0x1f+-0x3739*0x1)+(0x435+0x84f*0x4+-0x8*0x4ae)]=_0x1239c6[_0x533985*(0x392*0x6+-0x1bb+-0x13ae)+(-0x2057+0x991+-0x77*-0x31)],_0x2f067f[_0x5355e0+_0x533985*(0x1458+-0x1e0d+0x9b9)+(-0x1*-0x2032+0x6db*0x2+-0x2de6)]=_0x1239c6[_0x533985*(-0x264e+-0x1d2a*-0x1+-0xd5*-0xb)+(-0x4*0x503+-0x1f*-0x35+-0xda3*-0x1)];},Me[Ta]=(_0x3fb0da,_0x3916f8,_0x3aa814,_0x29ed04)=>{const _0xffb5e5=_0x3fb0da['storageUin'+'t32'];_0xffb5e5[_0x3aa814]=_0x3916f8;},Me[Aa]=(_0x14d470,_0x13c17c,_0x534098,_0x596826)=>{const _0x559c24=_0x14d470['storageUin'+'t32'];_0x559c24[_0x534098]=_0x13c17c[0x1f*0x29+-0x270b+-0x110a*-0x2],_0x559c24[_0x534098+(0x1bfc+-0xe26*0x1+-0xdd5)]=_0x13c17c[-0xaa6+-0x6b5*0x1+-0x115c*-0x1];},Me[Ea]=(_0x18b3ba,_0x138df2,_0x54345f,_0x30a409)=>{const _0x3ef20c=_0x18b3ba['storageUin'+'t32'];_0x3ef20c[_0x54345f]=_0x138df2[0xd15*-0x1+0xe42+-0x12d],_0x3ef20c[_0x54345f+(0x1cb8+-0xb2+0x1c05*-0x1)]=_0x138df2[-0x248*0xc+0x10*0x2f+0x1871],_0x3ef20c[_0x54345f+(0x411*-0x2+0x1a4d+0x1229*-0x1)]=_0x138df2[-0xec6+0x226f+0x2b*-0x75];},Me[Ca]=(_0x53c682,_0x287c77,_0x25b75a,_0x54dea4)=>{const _0x11398d=_0x53c682['storageUin'+'t32'];_0x11398d[_0x25b75a]=_0x287c77[-0x11*0xcb+0xa82+0x1*0x2f9],_0x11398d[_0x25b75a+(-0x1e*0x131+-0x2217+-0x1*-0x45d6)]=_0x287c77[0x1ec1+0xbe8+0x138*-0x23],_0x11398d[_0x25b75a+(0x1b2b+0x1f23+0x23e*-0x1a)]=_0x287c77[-0x1bc7+-0x3fa*0x6+-0x153*-0x27],_0x11398d[_0x25b75a+(-0x1cc7+0x14cd+0x7fd)]=_0x287c77[0x6*-0x267+0xce1+0x18c];},Me[Ma]=function(_0x50da71,_0x1dc232,_0x51ca50,_0x15f2a4){const _0x290fd9=_0x50da71['storageInt'+'32'];for(let _0x5a721e=0x235a+0x15f0+0x394a*-0x1;_0x5a721e<_0x15f2a4;_0x5a721e++)_0x290fd9[_0x51ca50+_0x5a721e*(-0x11*0x125+0x1*0x91d+-0x4e*-0x22)]=_0x1dc232[_0x5a721e];},Me[Uc]=Me[Ma],Me[zc]=function(_0x4c650a,_0x32abb1,_0x48e181,_0x361301){const _0x21d7c2=_0x4c650a['storageUin'+'t32'];for(let _0x5175d5=-0xf79*-0x2+-0x9f*-0x2+-0x2030;_0x5175d5<_0x361301;_0x5175d5++)_0x21d7c2[_0x48e181+_0x5175d5*(-0x5*-0x307+0x1f5b+-0x2e7a)]=_0x32abb1[_0x5175d5];},Me[Pa]=(_0x2147e4,_0x45cf64,_0x369890,_0x489e76)=>{const _0x404b6b=_0x2147e4['storageInt'+'32'];for(let _0x20b463=-0x4a*0x3d+0x14e*0xe+-0xa2;_0x20b463<_0x489e76;_0x20b463++)_0x404b6b[_0x369890+_0x20b463*(-0x488+-0x9e*0xe+0xd30)]=_0x45cf64[_0x20b463*(0x19a+0xa5f+0xbf7*-0x1)],_0x404b6b[_0x369890+_0x20b463*(-0x1dda+0x5e*0x12+-0x1742*-0x1)+(-0x251+-0x2*-0xf73+-0x1c94)]=_0x45cf64[_0x20b463*(-0x25b7+-0x4*-0x982+0x4f*-0x1)+(-0x46c*-0x7+0x1261+-0x3154)];},Me[Gc]=Me[Pa],Me[Vc]=(_0x555bf4,_0x4cebf0,_0x2b3c84,_0x558db6)=>{const _0x1d2165=_0x555bf4['storageUin'+'t32'];for(let _0x10c520=0x25f8+0x4cb+-0x2ac3;_0x10c520<_0x558db6;_0x10c520++)_0x1d2165[_0x2b3c84+_0x10c520*(-0x287*-0x5+-0x2*-0x12ef+0xb*-0x497)]=_0x4cebf0[_0x10c520*(-0x4*0x1ae+-0x250+0x90a)],_0x1d2165[_0x2b3c84+_0x10c520*(-0x794+-0x1*0x8c8+0x1060)+(-0x2371+-0xf39+0x32ab)]=_0x4cebf0[_0x10c520*(-0x413+-0xa79+0xe8e)+(-0x9*0x2e2+-0x1a5a*0x1+-0x3*-0x116f)];},Me[Ra]=(_0x3cc536,_0x10172b,_0x4f9807,_0x7e2260)=>{const _0x5f5a0d=_0x3cc536['storageInt'+'32'];for(let _0x18f4d6=-0x184a+0x1254+0x5f6;_0x18f4d6<_0x7e2260;_0x18f4d6++)_0x5f5a0d[_0x4f9807+_0x18f4d6*(-0x2b0+-0x306+0x5ba)]=_0x10172b[_0x18f4d6*(0x23fa+-0x27*0x37+-0xb*0x282)],_0x5f5a0d[_0x4f9807+_0x18f4d6*(0x7*-0x10e+0x2a2*-0x3+0xf4c)+(-0x1*-0x107+0x33*-0xb+0x17*0xd)]=_0x10172b[_0x18f4d6*(-0x2374+0x230c+-0x6b*-0x1)+(-0x2b2*-0x5+-0x168+-0xc11)],_0x5f5a0d[_0x4f9807+_0x18f4d6*(0x1fcf*0x1+0x1620+-0x11f9*0x3)+(0x3c*-0xb+0x1*-0x207e+0x2314)]=_0x10172b[_0x18f4d6*(-0x235c+0x1*-0x12af+0x360e)+(0x1c24+0x94c+-0x256e)];},Me[Wc]=Me[Ra],Me[Hc]=(_0x356508,_0x498e3e,_0x4772f1,_0x3274c5)=>{const _0x5d9787=_0x356508['storageUin'+'t32'];for(let _0x5f0d2=-0x2645*0x1+0x146f+0x11d6;_0x5f0d2<_0x3274c5;_0x5f0d2++)_0x5d9787[_0x4772f1+_0x5f0d2*(0x20d6+-0xf68+0x6*-0x2e7)]=_0x498e3e[_0x5f0d2*(-0x117f+0xb64+-0x1b*-0x3a)],_0x5d9787[_0x4772f1+_0x5f0d2*(0x232e+0x1742+-0x3a6c)+(0x1585*-0x1+-0x151*0x1b+-0x7*-0x827)]=_0x498e3e[_0x5f0d2*(0x2298+0xa*0x1b7+-0x30b*0x11)+(0x1437+0x1834+-0x2c6a)],_0x5d9787[_0x4772f1+_0x5f0d2*(-0x24*0x1f+-0x25c5+-0x1*-0x2a25)+(-0x12a*-0x2+0x191d+-0x1b6f)]=_0x498e3e[_0x5f0d2*(0xb*0x371+-0xc0*0x1d+-0x1018)+(0x51a*0x7+0x1*0x1bf8+-0x3fac)];};class vp{constructor(_0x5b2980,_0x3e4acc,_0x4c712c=!(-0x5*-0x2b8+-0xc6+-0xcd2*0x1)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',-0x1*-0x1d4f+-0x12ae+0xaa1*-0x1);if(this['device']=_0x5b2980,this['format']=_0x3e4acc,this['persistent']=_0x4c712c,b['assert'](_0x3e4acc),_0x4c712c){this['impl']=_0x5b2980['createUnif'+'ormBufferI'+'mpl'](this);const _0x2a5aeb=new ArrayBuffer(_0x3e4acc['byteSize']);this['assignStor'+'age'](new Int32Array(_0x2a5aeb)),_0x5b2980['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x229afb=this['device'];this['impl']['destroy'](_0x229afb),_0x229afb['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0x4*-0x2ef+-0x137b*-0x2+-0x39f*0xe:this['allocation']['offset'];}['assignStor'+'age'](_0x2bdfea){this['storageInt'+'32']=_0x2bdfea,this['storageUin'+'t32']=new Uint32Array(_0x2bdfea['buffer'],_0x2bdfea['byteOffset'],_0x2bdfea['byteLength']/(-0x54*0x1c+-0x1*0x716+0x104a)),this['storageFlo'+'at32']=new Float32Array(_0x2bdfea['buffer'],_0x2bdfea['byteOffset'],_0x2bdfea['byteLength']/(-0xce*0x1+-0x1846+-0x1*-0x1918));}['loseContex'+'t'](){var _0x26bec8;(_0x26bec8=this['impl'])==null||_0x26bec8['loseContex'+'t']();}['setUniform'](_0x5cdd9d,_0x500f4f){b['assert'](_0x5cdd9d);const _0x34846d=_0x5cdd9d['offset'];if(_0x500f4f!=null){const _0x5ac372=Me[_0x5cdd9d['updateType']];_0x5ac372?_0x5ac372(this,_0x500f4f,_0x34846d,_0x5cdd9d['count']):this['storageFlo'+'at32']['set'](_0x500f4f,_0x34846d);}else b['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x5cdd9d['name']+('],\x20expecte'+'d\x20type\x20')+mp[_0x5cdd9d['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0x3a7225,_0x3be9d9){const _0x4c6fee=this['format']['map']['get'](_0x3a7225);b['assert'](_0x4c6fee,'Uniform\x20na'+'me\x20['+_0x3a7225+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x4c6fee&&this['setUniform'](_0x4c6fee,_0x3be9d9);}['startUpdat'+'e'](_0x391d64){if(!this['persistent']){const _0xe1155c=this['allocation'],_0x1f44df=_0xe1155c['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0xe1155c,this['format']['byteSize']),this['assignStor'+'age'](_0xe1155c['storage']),_0x391d64&&(_0x391d64['bindGroup']=_0xe1155c['gpuBuffer']['getBindGro'+'up'](this),_0x391d64['offsets'][-0x10d9+0x11d7*-0x1+-0x456*-0x8]=_0xe1155c['offset']),_0x1f44df!==_0xe1155c['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x269770){this['startUpdat'+'e'](_0x269770);const _0x5d1314=this['format']['uniforms'];for(let _0x27cbd9=-0x15c4+-0xa7*-0x2+0x1476;_0x27cbd9<_0x5d1314['length'];_0x27cbd9++){const _0x2597dc=_0x5d1314[_0x27cbd9]['scopeId']['value'];this['setUniform'](_0x5d1314[_0x27cbd9],_0x2597dc);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(-0xf52+-0x7cd*-0x2+-0x47)),c(this,'_enableReq'+'uest',!(-0x2317+-0x5e9*0x1+0x2901)),c(this,'_frameTime',-0x20f2+0x1e2f*-0x1+0x3*0x150b);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x201d32){this['_enableReq'+'uest']=_0x201d32;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=-0x6d*-0x19+0x108b+-0x1b30));}['request'](_0x2b1a6c){this['pastFrameA'+'llocations']['set'](_0x2b1a6c,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x569276,_0x571aa3){if(_0x571aa3){const _0x1b5564=this['pastFrameA'+'llocations']['get'](_0x569276);if(b['assert'](_0x1b5564['length']===_0x571aa3['length']),_0x571aa3['length']>0x18*-0x163+0x18f6+0x852&&(this['_frameTime']=_0x571aa3[0x173+0x6*-0x562+-0x35*-0x95]),Qs['get'](Sl)){b['trace'](Sl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x569276+'\x20--');let _0x2fe92a=-0x2*-0x12e+-0x1ff7+0x35*0x8f;for(let _0x496727=0x158b+-0x21dc+0x3*0x41b;_0x496727<_0x1b5564['length'];++_0x496727){const _0x4a9710=_0x1b5564[_0x496727];_0x2fe92a+=_0x571aa3[_0x496727],b['trace'](Sl,_0x571aa3[_0x496727]['toFixed'](0x478*-0x2+0x24ad+-0x1bbb)+'\x20ms\x20'+_0x4a9710);}b['trace'](Sl,_0x2fe92a['toFixed'](0x21ed+-0xfcb+-0x20*0x91)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x569276);}['getSlot'](_0x565582){const _0x41fb4a=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x565582),_0x41fb4a;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class n0{constructor(){c(this,'bufferId',null);}['destroy'](_0x1b96b4){this['bufferId']&&(_0x1b96b4['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x1ae6af,_0x1a835b,_0x1ad54d,_0x5ca84e){const _0x1a0885=_0x1ae6af['gl'];if(this['bufferId'])_0x1a0885['bindBuffer'](_0x1ad54d,this['bufferId']),_0x1a0885['bufferSubD'+'ata'](_0x1ad54d,0xa33+0xa46+-0x1479,_0x5ca84e);else{let _0x37fa09;switch(_0x1a835b){case ts:_0x37fa09=_0x1a0885['STATIC_DRA'+'W'];break;case Ph:_0x37fa09=_0x1a0885['DYNAMIC_DR'+'AW'];break;case fy:_0x37fa09=_0x1a0885['STREAM_DRA'+'W'];break;case PS:_0x37fa09=_0x1a0885['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x1a0885['createBuff'+'er'](),_0x1a0885['bindBuffer'](_0x1ad54d,this['bufferId']),_0x1a0885['bufferData'](_0x1ad54d,_0x5ca84e,_0x37fa09);}}}class sb extends n0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x3a6265){super['destroy'](_0x3a6265),_0x3a6265['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x12b5b8){const _0x344d36=_0x12b5b8['device'];super['unlock'](_0x344d36,_0x12b5b8['usage'],_0x344d36['gl']['ARRAY_BUFF'+'ER'],_0x12b5b8['storage']);}}class ib extends n0{constructor(_0x24946e){super();const _0x1b5c40=_0x24946e['device']['gl'],_0x4e847e=_0x24946e['format'];_0x4e847e===yu?this['glFormat']=_0x1b5c40['UNSIGNED_B'+'YTE']:_0x4e847e===Fi?this['glFormat']=_0x1b5c40['UNSIGNED_S'+'HORT']:_0x4e847e===or&&(this['glFormat']=_0x1b5c40['UNSIGNED_I'+'NT']);}['unlock'](_0xca2a56){const _0x1b00f9=_0xca2a56['device'];super['unlock'](_0x1b00f9,_0xca2a56['usage'],_0x1b00f9['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0xca2a56['storage']);}}class Pm{constructor(_0x3fb6eb,_0x4b2427,_0x448bc0,_0x264475){if(this['locationId']=_0x264475,this['scopeId']=_0x3fb6eb['scope']['resolve'](_0x4b2427),this['version']=new Zy(),_0x4b2427['substring'](_0x4b2427['length']-(-0x504*0x1+-0x21a+-0x16d*-0x5))==='[0]')switch(_0x448bc0){case Ks:_0x448bc0=Oc;break;case hn:_0x448bc0=Ma;break;case Ta:_0x448bc0=zc;break;case ua:_0x448bc0=Uc;break;case hr:_0x448bc0=Bc;break;case Qr:_0x448bc0=Pa;break;case Aa:_0x448bc0=Vc;break;case Bo:_0x448bc0=Gc;break;case Qt:_0x448bc0=Nc;break;case Jr:_0x448bc0=Ra;break;case Ea:_0x448bc0=Hc;break;case No:_0x448bc0=Wc;break;case ba:_0x448bc0=up;break;case en:_0x448bc0=Oh;break;case Ca:_0x448bc0=fp;break;case zo:_0x448bc0=pp;break;}this['dataType']=_0x448bc0,this['value']=[null,null,null,null],this['array']=[];}}let Rm=0x3b*-0x26+0xc2*0x15+-0x728;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x3f6ca3){this['map']['forEach'](_0x3f63c8=>{_0x3f6ca3['gl']['deleteShad'+'er'](_0x3f63c8);});}['loseContex'+'t'](_0xf4eab9){this['map']['clear']();}}const ab=new Ht(),ob=new Ht();class lb{constructor(_0xe456a2){c(this,'compileDur'+'ation',0x1*0x7d5+-0xa35+0x260),(this['init'](),this['compile'](_0xe456a2['device'],_0xe456a2),this['link'](_0xe456a2['device'],_0xe456a2),_0xe456a2['device']['shaders']['push'](_0xe456a2));}['destroy'](_0x297718){this['glProgram']&&(_0x297718['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x51d20c,_0x1386fb){this['compile'](_0x51d20c,_0x1386fb),this['link'](_0x51d20c,_0x1386fb);}['compile'](_0x48082e,_0x8d487f){const _0x47d288=_0x8d487f['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x48082e,_0x47d288['vshader'],!(0x41b+-0x15ec+0x11d1*0x1)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x48082e,_0x47d288['fshader'],!(-0x83d+0x7d0+0xb*0xa));}['link'](_0x567211,_0x3cf203){if(this['glProgram'])return;const _0x5bbc65=_0x567211['gl'];if(_0x5bbc65['isContextL'+'ost']())return;let _0x31ab55=0x1cd*0x13+-0x1d62+-0x4d5;b['call'](()=>{this['compileDur'+'ation']=0xa50+0x50f+0x1*-0xf5f,_0x31ab55=ae();});const _0x15eaee=_0x5bbc65['createProg'+'ram']();this['glProgram']=_0x15eaee,_0x5bbc65['attachShad'+'er'](_0x15eaee,this['glVertexSh'+'ader']),_0x5bbc65['attachShad'+'er'](_0x15eaee,this['glFragment'+'Shader']);const _0x5691e7=_0x3cf203['definition'],_0x5013ee=_0x5691e7['attributes'];if(_0x5691e7['useTransfo'+'rmFeedback']){const _0x234928=[];for(const _0x1d5d8e in _0x5013ee)_0x5013ee['hasOwnProp'+'erty'](_0x1d5d8e)&&_0x234928['push']('out_'+_0x1d5d8e);_0x5bbc65['transformF'+'eedbackVar'+'yings'](_0x15eaee,_0x234928,_0x5bbc65['INTERLEAVE'+'D_ATTRIBS']);}const _0x448a53={};for(const _0x8f2c3c in _0x5013ee)if(_0x5013ee['hasOwnProp'+'erty'](_0x8f2c3c)){const _0x1eca16=_0x5013ee[_0x8f2c3c],_0x5c52e4=Ae[_0x1eca16];b['assert'](!_0x448a53['hasOwnProp'+'erty'](_0x5c52e4),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x448a53[_0x5c52e4]+'\x20and\x20'+_0x8f2c3c),_0x448a53[_0x5c52e4]=_0x8f2c3c,_0x5bbc65['bindAttrib'+'Location'](_0x15eaee,_0x5c52e4,_0x8f2c3c);}_0x5bbc65['linkProgra'+'m'](_0x15eaee),b['call'](()=>{this['compileDur'+'ation']=ae()-_0x31ab55;}),_0x567211['_shaderSta'+'ts']['linked']++,_0x5691e7['tag']===Fy&&_0x567211['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x1888df,_0x4625c3,_0x5ea50f){const _0x19b6e0=_0x1888df['gl'];if(_0x19b6e0['isContextL'+'ost']())return null;const _0x41f6cb=(_0x5ea50f?ab:ob)['get'](_0x1888df,()=>new nb());let _0x511a21=_0x41f6cb['map']['get'](_0x4625c3);if(!_0x511a21){const _0x4d1d1e=ae();_0x1888df['fire']('shader:com'+'pile:start',{'timestamp':_0x4d1d1e,'target':_0x1888df}),_0x511a21=_0x19b6e0['createShad'+'er'](_0x5ea50f?_0x19b6e0['VERTEX_SHA'+'DER']:_0x19b6e0['FRAGMENT_S'+'HADER']),_0x19b6e0['shaderSour'+'ce'](_0x511a21,_0x4625c3),_0x19b6e0['compileSha'+'der'](_0x511a21),_0x41f6cb['map']['set'](_0x4625c3,_0x511a21);const _0x4a2718=ae();_0x1888df['fire']('shader:com'+'pile:end',{'timestamp':_0x4a2718,'target':_0x1888df}),_0x1888df['_shaderSta'+'ts']['compileTim'+'e']+=_0x4a2718-_0x4d1d1e,_0x5ea50f?_0x1888df['_shaderSta'+'ts']['vsCompiled']++:_0x1888df['_shaderSta'+'ts']['fsCompiled']++;}return _0x511a21;}['finalize'](_0x50cff8,_0x3199e3){var _0x2801fe,_0x1e8a69;const _0x5baa5d=_0x50cff8['gl'];if(_0x5baa5d['isContextL'+'ost']())return!(0x11*-0x118+0xd46*-0x1+-0x2*-0xfef);const _0xef3ea2=this['glProgram'],_0x1328db=_0x3199e3['definition'],_0x3fa11c=ae();_0x50cff8['fire']('shader:lin'+'k:start',{'timestamp':_0x3fa11c,'target':_0x50cff8});let _0x23d031=-0x2576+-0x1bcc*0x1+0x4142*0x1;if(b['call'](()=>{_0x23d031=ae();}),!_0x5baa5d['getProgram'+'Parameter'](_0xef3ea2,_0x5baa5d['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x50cff8,_0x3199e3,this['glVertexSh'+'ader'],_0x1328db['vshader'],'vertex')||!this['_isCompile'+'d'](_0x50cff8,_0x3199e3,this['glFragment'+'Shader'],_0x1328db['fshader'],'fragment'))return!(-0x9*0x427+-0xe37+0x119*0x2f);const _0x448e33='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x5baa5d['getProgram'+'InfoLog'](_0xef3ea2);return _0x1328db['translated'+'Frag']=(_0x2801fe=_0x5baa5d['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x1e0b*-0x1+-0xaf9+-0x1312):_0x2801fe['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x1328db['translated'+'Vert']=(_0x1e8a69=_0x5baa5d['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x4bc+-0xde9+0x12a5):_0x1e8a69['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x448e33,_0x1328db),console['error'](_0x448e33),!(-0x1943+0x3*0xc5d+-0x3f1*0x3);}const _0xab13e8=_0x5baa5d['getProgram'+'Parameter'](_0xef3ea2,_0x5baa5d['ACTIVE_ATT'+'RIBUTES']);for(let _0x45fba0=0x3b*-0x51+-0xa4*-0x19+0x2a7;_0x45fba0<_0xab13e8;_0x45fba0++){const _0x4ecef5=_0x5baa5d['getActiveA'+'ttrib'](_0xef3ea2,_0x45fba0),_0x18b692=_0x5baa5d['getAttribL'+'ocation'](_0xef3ea2,_0x4ecef5['name']);if(!rb['has'](_0x4ecef5['name'])){if(_0x1328db['attributes'][_0x4ecef5['name']]===void(-0x19c5+-0x3d1*-0x7+-0x16*0xb))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x4ecef5['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x3199e3['label']+']',_0x3199e3),_0x3199e3['failed']=!(-0x170f+0x22*0x106+0xbbd*-0x1);else{const _0x2df849=new Pm(_0x50cff8,_0x1328db['attributes'][_0x4ecef5['name']],_0x50cff8['pcUniformT'+'ype'][_0x4ecef5['type']],_0x18b692);this['attributes']['push'](_0x2df849);}}}const _0x1fb776=_0x50cff8['_samplerTy'+'pes'],_0x128dba=_0x5baa5d['getProgram'+'Parameter'](_0xef3ea2,_0x5baa5d['ACTIVE_UNI'+'FORMS']);for(let _0x59130d=-0x26f0+-0x2c*0x55+0xd63*0x4;_0x59130d<_0x128dba;_0x59130d++){const _0x496032=_0x5baa5d['getActiveU'+'niform'](_0xef3ea2,_0x59130d),_0x1d41c8=_0x5baa5d['getUniform'+'Location'](_0xef3ea2,_0x496032['name']),_0x3de3ee=new Pm(_0x50cff8,_0x496032['name'],_0x50cff8['pcUniformT'+'ype'][_0x496032['type']],_0x1d41c8);_0x1fb776['has'](_0x496032['type'])?this['samplers']['push'](_0x3de3ee):this['uniforms']['push'](_0x3de3ee);}_0x3199e3['ready']=!(0x1e88+0x104f+-0x2ed7);const _0x42f14f=ae();return _0x50cff8['fire']('shader:lin'+'k:end',{'timestamp':_0x42f14f,'target':_0x50cff8}),_0x50cff8['_shaderSta'+'ts']['compileTim'+'e']+=_0x42f14f-_0x3fa11c,b['call'](()=>{const _0x49f0b9=ae()-_0x23d031;this['compileDur'+'ation']+=_0x49f0b9,Rm+=this['compileDur'+'ation'],b['trace'](Yx,'[id:\x20'+_0x3199e3['id']+']\x20'+_0x3199e3['name']+':\x20'+this['compileDur'+'ation']['toFixed'](0x1a6a+0x539*0x5+-0x12*0x2eb)+('ms,\x20TOTAL:'+'\x20')+Rm['toFixed'](0x987+-0xe25+-0xd*-0x5b)+'ms');}),!(0x21cd*0x1+0x768+-0x2935);}['_isCompile'+'d'](_0x2d7a97,_0x2b9713,_0x20706c,_0x217e77,_0x15398a){const _0xf86a8e=_0x2d7a97['gl'];if(!_0xf86a8e['getShaderP'+'arameter'](_0x20706c,_0xf86a8e['COMPILE_ST'+'ATUS'])){const _0x3a23a0=_0xf86a8e['getShaderI'+'nfoLog'](_0x20706c),[_0x29d2c2,_0x5cac93]=this['_processEr'+'ror'](_0x217e77,_0x3a23a0),_0x3ddbd7='Failed\x20to\x20'+'compile\x20'+_0x15398a+'\x20shader:\x0a\x0a'+_0x3a23a0+'\x0a'+_0x29d2c2+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x5cac93['shader']=_0x2b9713,console['error'](_0x3ddbd7,_0x5cac93),console['error'](_0x3ddbd7),!(-0x2280+-0x1ec1+0x4142);}return!(0x2*-0x4d2+-0x8b*0x3+-0x1*-0xb45);}['isLinked'](_0x1e09bb){const {extParallelShaderCompile:_0x1af06f}=_0x1e09bb;return _0x1af06f?_0x1e09bb['gl']['getProgram'+'Parameter'](this['glProgram'],_0x1af06f['COMPLETION'+'_STATUS_KH'+'R']):!(-0x2*0x3f9+0x21c7*-0x1+0xb*0x3cb);}['_processEr'+'ror'](_0x24cf8b,_0x1c9605){const _0x4f4726={};let _0x22f141='';if(_0x24cf8b){const _0x3cbae2=_0x24cf8b['split']('\x0a');let _0x4915ce=0x1310+0x7*-0xf5+-0xc5d*0x1,_0x211bbd=_0x3cbae2['length'];if(_0x1c9605&&_0x1c9605['startsWith']('ERROR:')){const _0xac0710=_0x1c9605['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0xac0710&&(_0x4f4726['message']=_0xac0710[-0x18c5+0x1*0xda6+0xb22],_0x4f4726['line']=parseInt(_0xac0710[0xa14+0x1364+-0x6*0x4e9],0x1055+-0x19df+-0x4ca*-0x2),_0x4915ce=Math['max'](-0x1ffa*-0x1+-0x272*-0xa+-0x386e,_0x4f4726['line']-(0x6ae+-0x975+0x2cd)),_0x211bbd=Math['min'](_0x3cbae2['length'],_0x4f4726['line']+(-0x72a+0x3*-0xb6f+0x297c)));}for(let _0xd682c6=_0x4915ce;_0xd682c6<_0x211bbd;_0xd682c6++)_0x22f141+=_0xd682c6+(0x3*0x191+-0xf7f*-0x1+0x3*-0x6bb)+':\x09'+_0x3cbae2[_0xd682c6]+'\x0a';_0x4f4726['source']=_0x24cf8b;}return[_0x22f141,_0x4f4726];}}function Im(_0x408d9f,_0x318a70){const _0x28afde=_0x408d9f['width'],_0x5c12ad=_0x408d9f['height'];if(_0x28afde>_0x318a70||_0x5c12ad>_0x318a70){const _0x35001f=_0x318a70/Math['max'](_0x28afde,_0x5c12ad),_0x586a4c=Math['floor'](_0x28afde*_0x35001f),_0x58f90e=Math['floor'](_0x5c12ad*_0x35001f);b['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x318a70+('.\x20Resizing'+'\x20from\x20')+_0x28afde+',\x20'+_0x5c12ad+'\x20to\x20'+_0x586a4c+',\x20'+_0x58f90e+'.');const _0x3a37dd=document['createElem'+'ent']('canvas');return _0x3a37dd['width']=_0x586a4c,_0x3a37dd['height']=_0x58f90e,_0x3a37dd['getContext']('2d')['drawImage'](_0x408d9f,-0xb1e+0xb4e+-0x30,0xdf+-0x4*0x900+0x2321,_0x28afde,_0x5c12ad,-0x1993+0x144f+0x1*0x544,0xc96+-0x1a4b+-0xb*-0x13f,_0x586a4c,_0x58f90e),_0x3a37dd;}return _0x408d9f;}class hb{constructor(_0x95d2c6){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',0x15ab+-0x17b*-0x8+-0x2183),this['texture']=_0x95d2c6;}['destroy'](_0x3106f4){if(this['_glTexture']){for(let _0x3c55ef=0x2*0xf5f+0x8*-0x3ce+-0x4e;_0x3c55ef<_0x3106f4['textureUni'+'ts']['length'];_0x3c55ef++){const _0x3b78b9=_0x3106f4['textureUni'+'ts'][_0x3c55ef];for(let _0x301ed3=0x138a+-0xd37+-0x1*0x653;_0x301ed3<_0x3b78b9['length'];_0x301ed3++)_0x3b78b9[_0x301ed3]===this['_glTexture']&&(_0x3b78b9[_0x301ed3]=null);}_0x3106f4['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x480470){this['dirtyParam'+'eterFlags']|=_0x480470;}['initialize'](_0xb44db3,_0x559be2){const _0x23267e=_0xb44db3['gl'];switch(this['_glTexture']=_0x23267e['createText'+'ure'](),this['_glTarget']=_0x559be2['_cubemap']?_0x23267e['TEXTURE_CU'+'BE_MAP']:_0x559be2['_volume']?_0x23267e['TEXTURE_3D']:_0x559be2['array']?_0x23267e['TEXTURE_2D'+'_ARRAY']:_0x23267e['TEXTURE_2D'],_0x559be2['_format']){case py:this['_glFormat']=_0x23267e['ALPHA'],this['_glInterna'+'lFormat']=_0x23267e['ALPHA'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_B'+'YTE'];break;case my:this['_glFormat']=_0x23267e['LUMINANCE'],this['_glInterna'+'lFormat']=_0x23267e['LUMINANCE'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_B'+'YTE'];break;case Vf:this['_glFormat']=_0x23267e['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x23267e['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x23267e['RED'],this['_glInterna'+'lFormat']=_0x23267e['R8'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_B'+'YTE'];break;case op:this['_glFormat']=_0x23267e['RG'],this['_glInterna'+'lFormat']=_0x23267e['RG8'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_B'+'YTE'];break;case vc:this['_glFormat']=_0x23267e['RGB'],this['_glInterna'+'lFormat']=_0x23267e['RGB'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_S'+'HORT_5_6_5'];break;case Gf:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0x23267e['RGBA'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case bc:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0x23267e['RGBA'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case ur:this['_glFormat']=_0x23267e['RGB'],this['_glInterna'+'lFormat']=_0x23267e['RGB8'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_B'+'YTE'];break;case Te:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0x23267e['RGBA8'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_B'+'YTE'];break;case xy:case wy:b['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case wc:this['_glFormat']=_0x23267e['RGB'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case Hf:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case Yo:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case Cc:this['_glFormat']=_0x23267e['RGB'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case Ko:this['_glFormat']=_0x23267e['RGB'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Zo:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case Mc:this['_glFormat']=_0x23267e['RGB'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Pc:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case $f:this['_glFormat']=_0x23267e['RGB'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case qf:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case _y:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case gy:this['_glFormat']=_0x23267e['RGB'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case yy:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case Ty:this['_glFormat']=_0x23267e['RGB'],this['_glInterna'+'lFormat']=_0xb44db3['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ay:this['_glFormat']=_0x23267e['RGB'],this['_glInterna'+'lFormat']=_0xb44db3['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ey:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0xb44db3['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case xu:this['_glFormat']=_0x23267e['SRGB'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case Su:this['_glFormat']=_0x23267e['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case vu:this['_glFormat']=_0x23267e['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case bu:this['_glFormat']=_0x23267e['SRGB'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case wu:this['_glFormat']=_0x23267e['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Tu:this['_glFormat']=_0x23267e['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0xb44db3['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Au:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0xb44db3['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case xa:this['_glFormat']=_0x23267e['RED'],this['_glInterna'+'lFormat']=_0x23267e['R16F'],this['_glPixelTy'+'pe']=_0x23267e['HALF_FLOAT'];break;case np:this['_glFormat']=_0x23267e['RG'],this['_glInterna'+'lFormat']=_0x23267e['RG16F'],this['_glPixelTy'+'pe']=_0x23267e['HALF_FLOAT'];break;case Tc:this['_glFormat']=_0x23267e['RGB'],this['_glInterna'+'lFormat']=_0x23267e['RGB16F'],this['_glPixelTy'+'pe']=_0x23267e['HALF_FLOAT'];break;case it:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0x23267e['RGBA16F'],this['_glPixelTy'+'pe']=_0x23267e['HALF_FLOAT'];break;case Ac:this['_glFormat']=_0x23267e['RGB'],this['_glInterna'+'lFormat']=_0x23267e['RGB32F'],this['_glPixelTy'+'pe']=_0x23267e['FLOAT'];break;case et:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0x23267e['RGBA32F'],this['_glPixelTy'+'pe']=_0x23267e['FLOAT'];break;case Oi:this['_glFormat']=_0x23267e['RED'],this['_glInterna'+'lFormat']=_0x23267e['R32F'],this['_glPixelTy'+'pe']=_0x23267e['FLOAT'];break;case Di:this['_glFormat']=_0x23267e['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x23267e['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x23267e['FLOAT'];break;case ca:this['_glFormat']=_0x23267e['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x23267e['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_S'+'HORT'];break;case Ec:this['_glFormat']=_0x23267e['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x23267e['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_I'+'NT_24_8'];break;case ya:this['_glFormat']=_0x23267e['RGB'],this['_glInterna'+'lFormat']=_0x23267e['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Wf:this['_glFormat']=_0x23267e['RGB'],this['_glInterna'+'lFormat']=_0x23267e['SRGB8'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_B'+'YTE'];break;case cs:this['_glFormat']=_0x23267e['RGBA'],this['_glInterna'+'lFormat']=_0x23267e['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_B'+'YTE'];break;case Xf:this['_glFormat']=_0x23267e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x23267e['R8I'],this['_glPixelTy'+'pe']=_0x23267e['BYTE'];break;case Sy:this['_glFormat']=_0x23267e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x23267e['R8UI'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0x23267e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x23267e['R16I'],this['_glPixelTy'+'pe']=_0x23267e['SHORT'];break;case Yf:this['_glFormat']=_0x23267e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x23267e['R16UI'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0x23267e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x23267e['R32I'],this['_glPixelTy'+'pe']=_0x23267e['INT'];break;case on:this['_glFormat']=_0x23267e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x23267e['R32UI'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_I'+'NT'];break;case Zf:this['_glFormat']=_0x23267e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x23267e['RG8I'],this['_glPixelTy'+'pe']=_0x23267e['BYTE'];break;case vy:this['_glFormat']=_0x23267e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x23267e['RG8UI'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_B'+'YTE'];break;case Qf:this['_glFormat']=_0x23267e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x23267e['RG16I'],this['_glPixelTy'+'pe']=_0x23267e['SHORT'];break;case Jf:this['_glFormat']=_0x23267e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x23267e['RG16UI'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0x23267e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x23267e['RG32I'],this['_glPixelTy'+'pe']=_0x23267e['INT'];break;case tp:this['_glFormat']=_0x23267e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x23267e['RG32UI'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_I'+'NT'];break;case sp:this['_glFormat']=_0x23267e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x23267e['RGBA8I'],this['_glPixelTy'+'pe']=_0x23267e['BYTE'];break;case by:this['_glFormat']=_0x23267e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x23267e['RGBA8UI'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x23267e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x23267e['RGBA16I'],this['_glPixelTy'+'pe']=_0x23267e['SHORT'];break;case Rc:this['_glFormat']=_0x23267e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x23267e['RGBA16UI'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_S'+'HORT'];break;case rp:this['_glFormat']=_0x23267e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x23267e['RGBA32I'],this['_glPixelTy'+'pe']=_0x23267e['INT'];break;case yt:this['_glFormat']=_0x23267e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x23267e['RGBA32UI'],this['_glPixelTy'+'pe']=_0x23267e['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x1fbb+0xb1*-0x2d+-0x9d);}['upload'](_0x158ed8,_0x3cebae){b['assert'](_0x3cebae['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x3cebae);const _0x37fe67=_0x158ed8['gl'];if(!_0x3cebae['_needsUplo'+'ad']&&(_0x3cebae['_needsMipm'+'apsUpload']&&_0x3cebae['_mipmapsUp'+'loaded']||!_0x3cebae['pot']))return;let _0x12bb05=0x2*0x33d+-0x1ef3+0x1879,_0x360f66,_0x5970c5;const _0x374362=_0x3cebae['numLevels'];for(_0x3cebae['array']&&_0x37fe67['texStorage'+'3D'](_0x37fe67['TEXTURE_2D'+'_ARRAY'],_0x374362,this['_glInterna'+'lFormat'],_0x3cebae['_width'],_0x3cebae['_height'],_0x3cebae['_arrayLeng'+'th']);_0x3cebae['_levels'][_0x12bb05]||_0x12bb05===0x990+0x542*0x1+-0x2*0x769;){if(!_0x3cebae['_needsUplo'+'ad']&&_0x12bb05===0x7a8+-0xedf+0x737){_0x12bb05++;continue;}else{if(_0x12bb05&&(!_0x3cebae['_needsMipm'+'apsUpload']||!_0x3cebae['_mipmaps']))break;}if(_0x360f66=_0x3cebae['_levels'][_0x12bb05],_0x5970c5=(0x249+-0x130a*0x1+0x4e*0x37)/Math['pow'](-0x22*0xdf+0x31*-0x49+0x2b99,_0x12bb05),_0x12bb05===0x11d4*0x1+-0x1831+-0x1*-0x65e&&!_0x3cebae['_compresse'+'d']&&!_0x3cebae['_integerFo'+'rmat']&&_0x3cebae['_levels']['length']<_0x374362&&(_0x37fe67['generateMi'+'pmap'](this['_glTarget']),_0x3cebae['_mipmapsUp'+'loaded']=!(-0x61e+0xf60+0x9e*-0xf)),_0x3cebae['_cubemap']){let _0x4e90a3;if(_0x158ed8['_isBrowser'+'Interface'](_0x360f66[0x25*0x73+-0x1*-0x1cdb+-0x2d7a*0x1]))for(_0x4e90a3=0xfcd*0x2+0x580+-0x251a;_0x4e90a3<-0x4*-0x119+0x15db+-0x1a39;_0x4e90a3++){if(!_0x3cebae['_levelsUpd'+'ated'][-0x2c+0xd21+-0xcf5][_0x4e90a3])continue;let _0x51db9c=_0x360f66[_0x4e90a3];_0x158ed8['_isImageBr'+'owserInter'+'face'](_0x51db9c)&&(_0x51db9c['width']>_0x158ed8['maxCubeMap'+'Size']||_0x51db9c['height']>_0x158ed8['maxCubeMap'+'Size'])&&(_0x51db9c=Im(_0x51db9c,_0x158ed8['maxCubeMap'+'Size']),_0x12bb05===0x3*0x112+0x23d4+0x1*-0x270a&&(_0x3cebae['_width']=_0x51db9c['width'],_0x3cebae['_height']=_0x51db9c['height'])),_0x158ed8['setUnpackF'+'lipY'](!(-0x3e5*0xa+-0xd*0x218+0x422b)),_0x158ed8['setUnpackP'+'remultiply'+'Alpha'](_0x3cebae['_premultip'+'lyAlpha']),this['_glCreated']?_0x37fe67['texSubImag'+'e2D'](_0x37fe67['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4e90a3,_0x12bb05,0x12d7+-0x3*0x551+-0x94*0x5,-0xd13+-0xe*-0x2f+0xa81,this['_glFormat'],this['_glPixelTy'+'pe'],_0x51db9c):_0x37fe67['texImage2D'](_0x37fe67['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4e90a3,_0x12bb05,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x51db9c);}else for(_0x5970c5=(-0x25*-0xde+0x1147+-0x3*0x1074)/Math['pow'](0x46*-0x56+-0x166b+0x2df1,_0x12bb05),_0x4e90a3=0x2550+0x25c0+-0x4b10;_0x4e90a3<0x1b02*-0x1+0x1ada+0x2e;_0x4e90a3++){if(!_0x3cebae['_levelsUpd'+'ated'][0xa21*0x3+-0x1823+0x140*-0x5][_0x4e90a3])continue;const _0x38fedf=_0x360f66[_0x4e90a3];_0x3cebae['_compresse'+'d']?this['_glCreated']&&_0x38fedf?_0x37fe67['compressed'+'TexSubImag'+'e2D'](_0x37fe67['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4e90a3,_0x12bb05,-0x1475+0x4*-0x680+0x1*0x2e75,-0x1*0x9a3+0xb3*-0x21+0x6a*0x4f,Math['max'](_0x3cebae['_width']*_0x5970c5,-0x80b*0x3+0x1*0xa9d+-0xd85*-0x1),Math['max'](_0x3cebae['_height']*_0x5970c5,-0x22aa+-0x1179+-0x2*-0x1a12),this['_glInterna'+'lFormat'],_0x38fedf):_0x37fe67['compressed'+'TexImage2D'](_0x37fe67['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4e90a3,_0x12bb05,this['_glInterna'+'lFormat'],Math['max'](_0x3cebae['_width']*_0x5970c5,-0x1*0x234d+0x183d+-0x1*-0xb11),Math['max'](_0x3cebae['_height']*_0x5970c5,0x5dc+0x2*-0x105e+-0x7*-0x3d7),-0x24*0x94+-0x1*0x209f+-0x356f*-0x1,_0x38fedf):(_0x158ed8['setUnpackF'+'lipY'](!(0x47*0x49+-0x469*-0x1+-0x18a7)),_0x158ed8['setUnpackP'+'remultiply'+'Alpha'](_0x3cebae['_premultip'+'lyAlpha']),this['_glCreated']&&_0x38fedf?_0x37fe67['texSubImag'+'e2D'](_0x37fe67['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4e90a3,_0x12bb05,-0x5ed*0x1+-0x2273*-0x1+0x982*-0x3,0x2d*0x27+0x2*-0xa85+0xe2f,Math['max'](_0x3cebae['_width']*_0x5970c5,-0x8d4+0x229a+-0x19c5),Math['max'](_0x3cebae['_height']*_0x5970c5,-0x201+-0x6*0x8+0x232),this['_glFormat'],this['_glPixelTy'+'pe'],_0x38fedf):_0x37fe67['texImage2D'](_0x37fe67['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4e90a3,_0x12bb05,this['_glInterna'+'lFormat'],Math['max'](_0x3cebae['_width']*_0x5970c5,0x1ed5+-0x55*-0x1c+-0x60*0x6b),Math['max'](_0x3cebae['_height']*_0x5970c5,0x71f*-0x3+-0x1*0x1f5+0x1753),-0x257e+0x1ee*0xa+0x1232,this['_glFormat'],this['_glPixelTy'+'pe'],_0x38fedf));}}else{if(_0x3cebae['_volume'])_0x3cebae['_compresse'+'d']?_0x37fe67['compressed'+'TexImage3D'](_0x37fe67['TEXTURE_3D'],_0x12bb05,this['_glInterna'+'lFormat'],Math['max'](_0x3cebae['_width']*_0x5970c5,-0x1f8b+0x56b*0x1+0x1a21),Math['max'](_0x3cebae['_height']*_0x5970c5,-0xc26*0x2+-0xb51+0x239e),Math['max'](_0x3cebae['_depth']*_0x5970c5,-0x1d71+-0x97e+0x26f0),0xa95+-0x2148+0x1*0x16b3,_0x360f66):(_0x158ed8['setUnpackF'+'lipY'](!(-0x1*0x1bf7+0x1de5+-0x1ed)),_0x158ed8['setUnpackP'+'remultiply'+'Alpha'](_0x3cebae['_premultip'+'lyAlpha']),_0x37fe67['texImage3D'](_0x37fe67['TEXTURE_3D'],_0x12bb05,this['_glInterna'+'lFormat'],Math['max'](_0x3cebae['_width']*_0x5970c5,0x3*-0x1c1+-0x1d*-0x14b+0xdf*-0x25),Math['max'](_0x3cebae['_height']*_0x5970c5,-0x1*-0xa7d+0x1f4c*0x1+-0x29c8),Math['max'](_0x3cebae['_depth']*_0x5970c5,-0x1*-0x10e7+-0x1*-0x10b1+-0x2197),0x5ae*-0x3+0x1aff+-0x1*0x9f5,this['_glFormat'],this['_glPixelTy'+'pe'],_0x360f66));else{if(_0x3cebae['array']&&typeof _0x360f66=='object'){if(_0x3cebae['_arrayLeng'+'th']===_0x360f66['length']){if(_0x3cebae['_compresse'+'d']){for(let _0x363042=-0x1*0x1155+-0x2507+0x365c;_0x363042<_0x3cebae['_arrayLeng'+'th'];_0x363042++)_0x37fe67['compressed'+'TexSubImag'+'e3D'](_0x37fe67['TEXTURE_2D'+'_ARRAY'],_0x12bb05,-0x18d2+0xa2b*0x1+0x79*0x1f,-0x24ea+-0x103c+0x3526,_0x363042,Math['max'](Math['floor'](_0x3cebae['_width']*_0x5970c5),0x1541+-0x1cea*-0x1+0x2*-0x1915),Math['max'](Math['floor'](_0x3cebae['_height']*_0x5970c5),0x6*0x4c1+-0x227d+0x5f8),0x3a3*-0x7+-0x1f*0x137+0xb*0x5bd,this['_glInterna'+'lFormat'],_0x360f66[_0x363042]);}else{for(let _0x5a3763=-0x1082+-0x2403+0xa81*0x5;_0x5a3763<_0x3cebae['_arrayLeng'+'th'];_0x5a3763++)_0x37fe67['texSubImag'+'e3D'](_0x37fe67['TEXTURE_2D'+'_ARRAY'],_0x12bb05,-0x1ea7+-0x1*-0x1765+-0x2*-0x3a1,-0x1*-0x2143+0xb43+-0x2c86,_0x5a3763,Math['max'](Math['floor'](_0x3cebae['_width']*_0x5970c5),0x233+-0xab3*-0x1+-0xce5),Math['max'](Math['floor'](_0x3cebae['_height']*_0x5970c5),0x13*0xfa+0x1374+-0x2601),0x3b*0x59+0x355*0x1+-0x11*0x167,this['_glFormat'],this['_glPixelTy'+'pe'],_0x360f66[_0x5a3763]);}}}else{if(_0x158ed8['_isBrowser'+'Interface'](_0x360f66)){_0x158ed8['_isImageBr'+'owserInter'+'face'](_0x360f66)&&(_0x360f66['width']>_0x158ed8['maxTexture'+'Size']||_0x360f66['height']>_0x158ed8['maxTexture'+'Size'])&&(_0x360f66=Im(_0x360f66,_0x158ed8['maxTexture'+'Size']),_0x12bb05===-0x7*0x3d1+0x9*0x11b+0x10c4&&(_0x3cebae['_width']=_0x360f66['width'],_0x3cebae['_height']=_0x360f66['height']));const _0x3e1f13=_0x360f66['width']||_0x360f66['videoWidth'],_0x47f0eb=_0x360f66['height']||_0x360f66['videoHeigh'+'t'];_0x158ed8['setUnpackF'+'lipY'](_0x3cebae['_flipY']),_0x158ed8['setUnpackP'+'remultiply'+'Alpha'](_0x3cebae['_premultip'+'lyAlpha']),this['_glCreated']&&_0x3cebae['_width']===_0x3e1f13&&_0x3cebae['_height']===_0x47f0eb&&!_0x158ed8['_isImageVi'+'deoInterfa'+'ce'](_0x360f66)?_0x37fe67['texSubImag'+'e2D'](_0x37fe67['TEXTURE_2D'],_0x12bb05,0x5a1+0x16c0+-0x1c61,0x2*0x1014+-0x4*0x4ea+-0xc80,this['_glFormat'],this['_glPixelTy'+'pe'],_0x360f66):(_0x37fe67['texImage2D'](_0x37fe67['TEXTURE_2D'],_0x12bb05,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x360f66),_0x12bb05===0x17d4+-0x2144+0x970&&(_0x3cebae['_width']=_0x3e1f13,_0x3cebae['_height']=_0x47f0eb));}else _0x5970c5=(-0xf5+-0x400*0x5+0x14f6*0x1)/Math['pow'](-0x9d*-0x2b+-0x5d7*0x1+-0x2*0xa43,_0x12bb05),_0x3cebae['_compresse'+'d']?this['_glCreated']&&_0x360f66?_0x37fe67['compressed'+'TexSubImag'+'e2D'](_0x37fe67['TEXTURE_2D'],_0x12bb05,-0x1a*-0x164+-0x4*-0x7aa+0x8*-0x85a,0x1b3*0x2+-0x1315*-0x1+-0x1*0x167b,Math['max'](Math['floor'](_0x3cebae['_width']*_0x5970c5),0x37f*-0x9+-0x1*0x169a+0x9*0x602),Math['max'](Math['floor'](_0x3cebae['_height']*_0x5970c5),0xfdd*-0x1+-0x8*0x43a+-0x18d7*-0x2),this['_glInterna'+'lFormat'],_0x360f66):_0x37fe67['compressed'+'TexImage2D'](_0x37fe67['TEXTURE_2D'],_0x12bb05,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x3cebae['_width']*_0x5970c5),0x1cff*0x1+-0x6ba*-0x1+0x18*-0x17d),Math['max'](Math['floor'](_0x3cebae['_height']*_0x5970c5),-0x1ea1*0x1+0x266*-0xe+0x4036),-0x3*-0x382+-0x234e*-0x1+0x68c*-0x7,_0x360f66):(_0x158ed8['setUnpackF'+'lipY'](!(0xc10+0x5ff+0x907*-0x2)),_0x158ed8['setUnpackP'+'remultiply'+'Alpha'](_0x3cebae['_premultip'+'lyAlpha']),this['_glCreated']&&_0x360f66?_0x37fe67['texSubImag'+'e2D'](_0x37fe67['TEXTURE_2D'],_0x12bb05,-0x2655+0x1*-0x2651+0x4ca6,0x10b5*0x1+-0x1b2f*0x1+0x1bf*0x6,Math['max'](_0x3cebae['_width']*_0x5970c5,0x1*-0x256d+-0x2*0xcf5+0x3f58),Math['max'](_0x3cebae['_height']*_0x5970c5,0x23c0*0x1+-0x109d+-0x991*0x2),this['_glFormat'],this['_glPixelTy'+'pe'],_0x360f66):_0x37fe67['texImage2D'](_0x37fe67['TEXTURE_2D'],_0x12bb05,this['_glInterna'+'lFormat'],Math['max'](_0x3cebae['_width']*_0x5970c5,-0x503+-0x195f+0x1e63),Math['max'](_0x3cebae['_height']*_0x5970c5,0x79*-0x1+-0xf*-0x37+0x2bf*-0x1),-0x1f47+-0x1f5b+0x3ea2,this['_glFormat'],this['_glPixelTy'+'pe'],_0x360f66));_0x12bb05===-0x1*-0x1555+-0x2552+0xffd?_0x3cebae['_mipmapsUp'+'loaded']=!(-0x17f8+-0x5*-0x581+0x1c6*-0x2):_0x3cebae['_mipmapsUp'+'loaded']=!(-0x356+0x97a+-0x624);}}}_0x12bb05++;}if(_0x3cebae['_needsUplo'+'ad']){if(_0x3cebae['_cubemap']){for(let _0x585992=0x8*-0x331+-0x1*0x12cc+0x2c54;_0x585992<-0x104e+0x1203+-0x1af;_0x585992++)_0x3cebae['_levelsUpd'+'ated'][0x1aa+-0xd2f+-0x1*-0xb85][_0x585992]=!(-0x1bb8+0x2b*0xc+-0x19b5*-0x1);}else _0x3cebae['_levelsUpd'+'ated'][0xde2*0x2+-0x19cd+-0x1f7]=!(0x3*-0x74b+0x2*0x513+-0x4*-0x2ef);}!_0x3cebae['_compresse'+'d']&&!_0x3cebae['_integerFo'+'rmat']&&_0x3cebae['_mipmaps']&&_0x3cebae['_needsMipm'+'apsUpload']&&_0x3cebae['_levels']['length']===-0xe19*-0x2+-0xadd+0x8aa*-0x2&&(_0x37fe67['generateMi'+'pmap'](this['_glTarget']),_0x3cebae['_mipmapsUp'+'loaded']=!(0x2299+0x2323+0x4*-0x116f)),_0x3cebae['_gpuSize']&&_0x3cebae['adjustVram'+'SizeTracki'+'ng'](_0x158ed8['_vram'],-_0x3cebae['_gpuSize']),_0x3cebae['_gpuSize']=_0x3cebae['gpuSize'],_0x3cebae['adjustVram'+'SizeTracki'+'ng'](_0x158ed8['_vram'],_0x3cebae['_gpuSize']),this['_glCreated']=!(0x128f+0x1d78+-0x99b*0x5);}['read'](_0x2bee31,_0x3926c4,_0x1bc692,_0x22c44c,_0x5c4c3e){const _0x1c19db=this['texture'];return _0x1c19db['device']['readTextur'+'eAsync'](_0x1c19db,_0x2bee31,_0x3926c4,_0x1bc692,_0x22c44c,_0x5c4c3e);}}class cb{constructor(_0x4a0f2a,_0x26d245){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x4a0f2a,this['resolveFB']=_0x26d245);}['destroy'](_0x147487){this['msaaFB']&&(_0x147487['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x147487['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(-0x2*0x986+0x355*-0x3+-0x2*-0xe86));}['destroy'](_0x45c699){var _0x470fae;const _0x44716d=_0x45c699['gl'];this['_isInitial'+'ized']=!(-0xb32*-0x3+0x2690+0x1*-0x4825),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x44716d['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x44716d['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x44716d['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x467774=>{_0x44716d['deleteRend'+'erbuffer'](_0x467774);}),this['_glMsaaCol'+'orBuffers']['length']=0x97*0x35+-0xed8+-0x106b,(_0x470fae=this['colorMrtFr'+'amebuffers'])==null||_0x470fae['forEach'](_0xa82b5e=>{_0xa82b5e['destroy'](_0x44716d);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&dd(_0x45c699)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x352*0x6+-0x1215*-0x1+-0x9d*-0x3);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x121adb,_0x5275b6){var _0x5f3ca0,_0x3df243;const _0x4644ac=_0x121adb['gl'];b['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x9e3+-0x1*-0x26f5+0xe89*-0x2);const _0x3d1315=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0xac*0x34+0x1fb4+-0x1*0x42a4))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{b['call'](()=>{(_0x5275b6['width']<=0x1*0x1227+0x1aa1*-0x1+-0x1*-0x87a||_0x5275b6['height']<=0x95b*-0x4+-0x92*0x1+0x25fe)&&b['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x5275b6['width']+'\x20x\x20'+_0x5275b6['height'],_0x5275b6);}),this['_glFrameBu'+'ffer']=_0x4644ac['createFram'+'ebuffer'](),_0x121adb['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x71d8d3=((_0x5f3ca0=_0x5275b6['_colorBuff'+'ers'])==null?void(-0x7*0xfb+-0x107b+0x1758):_0x5f3ca0['length'])??-0x2485+-0x1008+0x348d,_0x21a071=_0x4644ac['COLOR_ATTA'+'CHMENT0'];for(let _0x329103=0x1d1f+-0x252f+-0x1*-0x810;_0x329103<_0x71d8d3;++_0x329103){const _0x42ea3e=_0x5275b6['getColorBu'+'ffer'](_0x329103);_0x42ea3e&&(_0x42ea3e['impl']['_glTexture']||(_0x42ea3e['_width']=Math['min'](_0x42ea3e['width'],_0x121adb['maxRenderB'+'ufferSize']),_0x42ea3e['_height']=Math['min'](_0x42ea3e['height'],_0x121adb['maxRenderB'+'ufferSize']),_0x121adb['setTexture'](_0x42ea3e,-0x26e2+0x1d74+0x96e)),_0x4644ac['framebuffe'+'rTexture2D'](_0x4644ac['FRAMEBUFFE'+'R'],_0x21a071+_0x329103,_0x42ea3e['_cubemap']?_0x4644ac['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5275b6['_face']:_0x4644ac['TEXTURE_2D'],_0x42ea3e['impl']['_glTexture'],_0x5275b6['mipLevel']),_0x3d1315['push'](_0x21a071+_0x329103));}_0x4644ac['drawBuffer'+'s'](_0x3d1315);const _0x1c52e5=_0x5275b6['_depthBuff'+'er'];if(_0x1c52e5||_0x5275b6['_depth']){const _0x55852d=_0x5275b6['_stencil']?_0x4644ac['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x4644ac['DEPTH_ATTA'+'CHMENT'];if(_0x1c52e5)_0x1c52e5['impl']['_glTexture']||(_0x1c52e5['_width']=Math['min'](_0x1c52e5['width'],_0x121adb['maxRenderB'+'ufferSize']),_0x1c52e5['_height']=Math['min'](_0x1c52e5['height'],_0x121adb['maxRenderB'+'ufferSize']),_0x121adb['setTexture'](_0x1c52e5,-0x1*0x22d7+-0x740+0x1af*0x19)),_0x4644ac['framebuffe'+'rTexture2D'](_0x4644ac['FRAMEBUFFE'+'R'],_0x55852d,_0x1c52e5['_cubemap']?_0x4644ac['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5275b6['_face']:_0x4644ac['TEXTURE_2D'],_0x5275b6['_depthBuff'+'er']['impl']['_glTexture'],_0x5275b6['mipLevel']);else{if(!(_0x5275b6['_samples']>0x750+0x476*-0x4+0xa89)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x4644ac['createRend'+'erbuffer']());const _0x35cdd5=_0x5275b6['_stencil']?_0x4644ac['DEPTH24_ST'+'ENCIL8']:_0x4644ac['DEPTH_COMP'+'ONENT32F'];_0x4644ac['bindRender'+'buffer'](_0x4644ac['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x4644ac['renderbuff'+'erStorage'](_0x4644ac['RENDERBUFF'+'ER'],_0x35cdd5,_0x5275b6['width'],_0x5275b6['height']),_0x4644ac['framebuffe'+'rRenderbuf'+'fer'](_0x4644ac['FRAMEBUFFE'+'R'],_0x55852d,_0x4644ac['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x4644ac['bindRender'+'buffer'](_0x4644ac['RENDERBUFF'+'ER'],null);}}}b['call'](()=>this['_checkFbo'](_0x121adb,_0x5275b6));}if(_0x5275b6['_samples']>0x1d4d+-0x4*0xbc+-0x1a5c){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x4644ac['createFram'+'ebuffer'](),_0x121adb['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x18c4ab=((_0x3df243=_0x5275b6['_colorBuff'+'ers'])==null?void(0x1*0x9d6+0x1d5b*0x1+0x1*-0x2731):_0x3df243['length'])??-0x7*0x13+-0x232b+0x23b0*0x1;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x1680+-0x10*-0x71+0x764*-0x4)){const _0x43a209=_0x4644ac['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x43a209);const _0x6230a2=_0x121adb['backBuffer'+'Format']===Te?_0x4644ac['RGBA8']:_0x4644ac['RGB8'];_0x4644ac['bindRender'+'buffer'](_0x4644ac['RENDERBUFF'+'ER'],_0x43a209),_0x4644ac['renderbuff'+'erStorageM'+'ultisample'](_0x4644ac['RENDERBUFF'+'ER'],_0x5275b6['_samples'],_0x6230a2,_0x5275b6['width'],_0x5275b6['height']),_0x4644ac['framebuffe'+'rRenderbuf'+'fer'](_0x4644ac['FRAMEBUFFE'+'R'],_0x4644ac['COLOR_ATTA'+'CHMENT0'],_0x4644ac['RENDERBUFF'+'ER'],_0x43a209);}else for(let _0x54e1fb=0x1544+-0x274*0x1+-0x12d0;_0x54e1fb<_0x18c4ab;++_0x54e1fb){const _0x552bea=_0x5275b6['getColorBu'+'ffer'](_0x54e1fb);if(_0x552bea){const _0x283474=_0x4644ac['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x283474),_0x4644ac['bindRender'+'buffer'](_0x4644ac['RENDERBUFF'+'ER'],_0x283474),_0x4644ac['renderbuff'+'erStorageM'+'ultisample'](_0x4644ac['RENDERBUFF'+'ER'],_0x5275b6['_samples'],_0x552bea['impl']['_glInterna'+'lFormat'],_0x5275b6['width'],_0x5275b6['height']),_0x4644ac['framebuffe'+'rRenderbuf'+'fer'](_0x4644ac['FRAMEBUFFE'+'R'],_0x4644ac['COLOR_ATTA'+'CHMENT0']+_0x54e1fb,_0x4644ac['RENDERBUFF'+'ER'],_0x283474);}}if(_0x5275b6['_depth']){b['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x4e08b6=_0x5275b6['_stencil']?_0x4644ac['DEPTH24_ST'+'ENCIL8']:_0x4644ac['DEPTH_COMP'+'ONENT32F'],_0x412cae=_0x5275b6['_stencil']?_0x4644ac['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x4644ac['DEPTH_ATTA'+'CHMENT'];let _0x3dc362;const _0x4895f7=_0x5275b6['_depthBuff'+'er'];_0x4895f7&&(_0x3dc362=_0x4895f7['id']+':'+_0x5275b6['width']+':'+_0x5275b6['height']+':'+_0x5275b6['_samples']+':'+_0x4e08b6+':'+_0x412cae,this['_glMsaaDep'+'thBuffer']=dd(_0x121adb)['get'](_0x3dc362)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x4644ac['createRend'+'erbuffer'](),_0x4644ac['bindRender'+'buffer'](_0x4644ac['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x4644ac['renderbuff'+'erStorageM'+'ultisample'](_0x4644ac['RENDERBUFF'+'ER'],_0x5275b6['_samples'],_0x4e08b6,_0x5275b6['width'],_0x5275b6['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x4644ac['deleteRend'+'erbuffer'](this);},_0x4895f7&&dd(_0x121adb)['set'](_0x3dc362,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x3dc362,_0x4644ac['framebuffe'+'rRenderbuf'+'fer'](_0x4644ac['FRAMEBUFFE'+'R'],_0x412cae,_0x4644ac['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}b['call'](()=>this['_checkFbo'](_0x121adb,_0x5275b6,'MSAA')),_0x18c4ab>-0xb6a+0xf12*-0x2+0x298f&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x121adb,_0x5275b6,_0x18c4ab),_0x121adb['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x4644ac['drawBuffer'+'s'](_0x3d1315));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x29647c,_0x1830fd,_0xfa4f90){const _0x1f3ccd=_0x29647c['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x24daf8=0x6*-0x26a+0x1bd2+-0xd56;_0x24daf8<_0xfa4f90;++_0x24daf8){const _0x3662bb=_0x1830fd['getColorBu'+'ffer'](_0x24daf8),_0xe8101d=_0x1f3ccd['createFram'+'ebuffer']();_0x29647c['setFramebu'+'ffer'](_0xe8101d);const _0x3f47b1=this['_glMsaaCol'+'orBuffers'][_0x24daf8];_0x1f3ccd['bindRender'+'buffer'](_0x1f3ccd['RENDERBUFF'+'ER'],_0x3f47b1),_0x1f3ccd['renderbuff'+'erStorageM'+'ultisample'](_0x1f3ccd['RENDERBUFF'+'ER'],_0x1830fd['_samples'],_0x3662bb['impl']['_glInterna'+'lFormat'],_0x1830fd['width'],_0x1830fd['height']),_0x1f3ccd['framebuffe'+'rRenderbuf'+'fer'](_0x1f3ccd['FRAMEBUFFE'+'R'],_0x1f3ccd['COLOR_ATTA'+'CHMENT0'],_0x1f3ccd['RENDERBUFF'+'ER'],_0x3f47b1),_0x1f3ccd['drawBuffer'+'s']([_0x1f3ccd['COLOR_ATTA'+'CHMENT0']]),b['call'](()=>this['_checkFbo'](_0x29647c,_0x1830fd,'MSAA-MRT-s'+'rc'+_0x24daf8));const _0x155fe1=_0x1f3ccd['createFram'+'ebuffer']();_0x29647c['setFramebu'+'ffer'](_0x155fe1),_0x1f3ccd['framebuffe'+'rTexture2D'](_0x1f3ccd['FRAMEBUFFE'+'R'],_0x1f3ccd['COLOR_ATTA'+'CHMENT0'],_0x3662bb['_cubemap']?_0x1f3ccd['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x1830fd['_face']:_0x1f3ccd['TEXTURE_2D'],_0x3662bb['impl']['_glTexture'],0x1*0xd56+-0x1*0x18b+0xbcb*-0x1),this['colorMrtFr'+'amebuffers'][_0x24daf8]=new cb(_0xe8101d,_0x155fe1),b['call'](()=>this['_checkFbo'](_0x29647c,_0x1830fd,'MSAA-MRT-d'+'st'+_0x24daf8));}}['_checkFbo'](_0x181e26,_0x2bd701,_0x3ff2bc=''){const _0x32d543=_0x181e26['gl'],_0x12c134=_0x32d543['checkFrame'+'bufferStat'+'us'](_0x32d543['FRAMEBUFFE'+'R']);let _0x34fb2d;switch(_0x12c134){case _0x32d543['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x34fb2d='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x32d543['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x34fb2d='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x32d543['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x34fb2d='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x32d543['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x34fb2d='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}b['assert'](!_0x34fb2d,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x34fb2d+(',\x20render\x20t'+'arget:\x20')+_0x2bd701['name']+'\x20'+_0x3ff2bc,_0x2bd701);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x1*0x1ad5+0x2572+0x8f*-0x13,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x160c+0x18d*-0x1+-0x147f),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x26e1+0x4*-0x973+0x4cad),this['_isInitial'+'ized']=!(0x2565+0x46d+-0x5*0x85d);}['internalRe'+'solve'](_0x178bdf,_0x22a9bb,_0x2750d7,_0x2c1454,_0x682320){b['assert'](_0x22a9bb!==_0x2750d7,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x178bdf['setScissor'](-0x6*0xb+0x4b7*-0x6+0x3*0x984,0x15ec+-0x1*0x1fd3+0x5*0x1fb,_0x2c1454['width'],_0x2c1454['height']);const _0x526685=_0x178bdf['gl'];_0x526685['bindFrameb'+'uffer'](_0x526685['READ_FRAME'+'BUFFER'],_0x22a9bb),_0x526685['bindFrameb'+'uffer'](_0x526685['DRAW_FRAME'+'BUFFER'],_0x2750d7),_0x526685['blitFrameb'+'uffer'](-0x472*0x1+-0x1f19+0xbd9*0x3,0x899*0x1+0x1d+0x1be*-0x5,_0x2c1454['width'],_0x2c1454['height'],0x4*-0x80e+-0x1b1c+0x4*0xed5,0x4a6+-0x2*0x819+0xb8c,_0x2c1454['width'],_0x2c1454['height'],_0x682320,_0x526685['NEAREST']);}['resolve'](_0x57ad0a,_0x322a28,_0x2492ec,_0x43ef96){const _0x95d0d3=_0x57ad0a['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x2492ec)for(let _0x149775=0x1c21*0x1+-0x1*0xd2e+-0xef3;_0x149775<this['colorMrtFr'+'amebuffers']['length'];_0x149775++){const _0x15d471=this['colorMrtFr'+'amebuffers'][_0x149775];G['pushGpuMar'+'ker'](_0x57ad0a,'RESOLVE-MR'+'T'+_0x149775),this['internalRe'+'solve'](_0x57ad0a,_0x15d471['msaaFB'],_0x15d471['resolveFB'],_0x322a28,_0x95d0d3['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x57ad0a);}_0x43ef96&&(G['pushGpuMar'+'ker'](_0x57ad0a,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x57ad0a,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x322a28,_0x95d0d3['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x57ad0a));}else G['pushGpuMar'+'ker'](_0x57ad0a,'RESOLVE'),this['internalRe'+'solve'](_0x57ad0a,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x322a28,(_0x2492ec?_0x95d0d3['COLOR_BUFF'+'ER_BIT']:0x479+0x1d0b*0x1+-0xa5*0x34)|(_0x43ef96?_0x95d0d3['DEPTH_BUFF'+'ER_BIT']:-0xe49+0x287*-0x9+0x2508)),G['popGpuMark'+'er'](_0x57ad0a);_0x95d0d3['bindFrameb'+'uffer'](_0x95d0d3['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x35b6fc){this['queries']['forEach'](_0x3046bb=>_0x35b6fc['deleteQuer'+'y'](_0x3046bb)),this['queries']=null;}}class fb extends tb{constructor(_0x21bba8){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0x21bba8,this['ext']=_0x21bba8['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x42b741=>this['device']['gl']['deleteQuer'+'y'](_0x42b741)),this['frameQueri'+'es']['forEach'](_0x2ef77b=>this['device']['gl']['deleteQuer'+'y'](_0x2ef77b)),this['previousFr'+'ameQueries']['forEach'](_0x464f09=>_0x464f09['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x17ae83){if(this['ext']){const _0x1cf800=this['getSlot'](_0x17ae83),_0x14716c=this['getQuery']();return this['frameQueri'+'es'][_0x1cf800]=_0x14716c,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x14716c),_0x1cf800;}}['end'](_0x504202){_0x504202!==void(0x1277*-0x2+0xc62+-0x623*-0x4)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x3468b3=this['ext'],_0x1af0d3=this['device']['gl'],_0x5dfea6=this['device']['renderVers'+'ion'],_0xeb159b=this['frameQueri'+'es'];if(_0xeb159b['length']>-0x19ec+-0x130a+-0x1*-0x2cf6){this['frameQueri'+'es']=[];const _0xd9dfd0=new ub();_0xd9dfd0['queries']=_0xeb159b,_0xd9dfd0['renderVers'+'ion']=_0x5dfea6,this['previousFr'+'ameQueries']['push'](_0xd9dfd0);}if(this['previousFr'+'ameQueries']['length']>-0x2406+-0x1074+0x347a){const _0x2a6c88=this['previousFr'+'ameQueries'][0x135*0x19+0x196d+-0x379a],_0x3153a8=_0x2a6c88['queries'],_0x476c6a=_0x3153a8[_0x3153a8['length']-(0x2*-0x1105+-0x191d+-0x1d94*-0x2)],_0x6e2e5b=_0x1af0d3['getQueryPa'+'rameter'](_0x476c6a,_0x1af0d3['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x34e073=_0x1af0d3['getParamet'+'er'](_0x3468b3['GPU_DISJOI'+'NT_EXT']);if(_0x6e2e5b&&!_0x34e073){this['previousFr'+'ameQueries']['shift']();const _0x6a7261=this['timings'];_0x6a7261['length']=-0x26ea+0x1147*-0x1+-0x3*-0x12bb;for(let _0x19bf5c=0x12a3+0x2b*0x87+0x8*-0x52a;_0x19bf5c<_0x3153a8['length'];_0x19bf5c++){const _0x712ccf=_0x3153a8[_0x19bf5c],_0x2952fb=_0x1af0d3['getQueryPa'+'rameter'](_0x712ccf,_0x1af0d3['QUERY_RESU'+'LT']);_0x6a7261[_0x19bf5c]=_0x2952fb*(-0x3*-0x75e+0x96a+-0x1f84+0.000001),this['freeQuerie'+'s']['push'](_0x712ccf);}this['report'](_0x2a6c88['renderVers'+'ion'],_0x6a7261);}_0x34e073&&(this['previousFr'+'ameQueries']['forEach'](_0x54ae04=>{this['report'](_0x54ae04['renderVers'+'ion'],null),_0x54ae04['destroy'](_0x1af0d3);}),this['previousFr'+'ameQueries']['length']=0x38f+0xfb0+-0xd*0x17b);}super['request'](_0x5dfea6);}}}const En=[];class pb extends zh{constructor(_0x2c238b,_0x45bad9={}){super(_0x2c238b,_0x45bad9),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(0xfcb+0x1d5*0x1+0x119f*-0x1)),(_0x45bad9=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x7*-0x164+-0x7e4+-0x1d7),this['_contextLo'+'stHandler']=_0x332503=>{_0x332503['preventDef'+'ault'](),this['loseContex'+'t'](),b['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{b['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x71a38e=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x71a38e&&_0x71a38e['includes']('AppleWebKi'+'t')&&(_0x71a38e['includes']('15.4')||_0x71a38e['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x45bad9['antialias']=!(-0x10d9+0x11*0xb3+0x4f7),b['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),be['browserNam'+'e']==='firefox'){const _0x59fe9a=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x57ff27=_0x59fe9a?_0x59fe9a[-0x16fd+0x192a*-0x1+0x3028]:null;if(_0x57ff27){const _0x499206=parseFloat(_0x57ff27);(be['name']==='windows'&&(_0x499206>=0x8bb*0x1+-0x2d*-0x1b+-0x22b*0x6||_0x499206===-0x13*-0x27+0x1*-0x1bcb+0x1959)||be['name']==='android'&&_0x499206>=-0x297+-0xc1*0x14+0x122f)&&(_0x45bad9['antialias']=!(0x1f42+-0xd85+0x14*-0xe3),b['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+be['name']+('\x20platform\x20'+'version\x20')+_0x57ff27));}}this['backBuffer'+'Antialias']=_0x45bad9['antialias']??!(-0x1bbc+-0x202a+0x3be7),_0x45bad9['antialias']=!(0xd1+-0xa7d+0x9ad);const _0x3f1aae=_0x45bad9['gl']??_0x2c238b['getContext']('webgl2',_0x45bad9);if(!_0x3f1aae)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x3f1aae,this['isWebGL2']=!(-0x4*0x3e1+-0x29*-0xb6+0x1*-0xda2),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x214121=be['browserNam'+'e']==='chrome',_0x1c426a=be['browserNam'+'e']==='safari',_0x3bfdd9=be['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x75f*0x3+-0x4*0x916+-0x2*-0x1d3b);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x1c426a,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x3bfdd9&&_0x214121&&!_0x45bad9['alpha'],_0x2c238b['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x1fbe+0x181*0xf+-0x188*-0x6)),_0x2c238b['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x4*0x287+0x7*0x4ba+-0x2b31)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x1c426a&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x3f1aae['SAMPLER_2D'],_0x3f1aae['SAMPLER_CU'+'BE'],_0x3f1aae['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x3f1aae['INT_SAMPLE'+'R_2D'],_0x3f1aae['SAMPLER_2D'+'_SHADOW'],_0x3f1aae['SAMPLER_CU'+'BE_SHADOW'],_0x3f1aae['SAMPLER_3D'],_0x3f1aae['INT_SAMPLE'+'R_3D'],_0x3f1aae['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x3f1aae['SAMPLER_2D'+'_ARRAY'],_0x3f1aae['INT_SAMPLE'+'R_2D_ARRAY'],_0x3f1aae['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x3f1aae['REPEAT'],_0x3f1aae['CLAMP_TO_E'+'DGE'],_0x3f1aae['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x3f1aae['FUNC_ADD'],_0x3f1aae['FUNC_SUBTR'+'ACT'],_0x3f1aae['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x3f1aae['MIN'],_0x3f1aae['MAX']],this['glBlendFun'+'ctionColor']=[_0x3f1aae['ZERO'],_0x3f1aae['ONE'],_0x3f1aae['SRC_COLOR'],_0x3f1aae['ONE_MINUS_'+'SRC_COLOR'],_0x3f1aae['DST_COLOR'],_0x3f1aae['ONE_MINUS_'+'DST_COLOR'],_0x3f1aae['SRC_ALPHA'],_0x3f1aae['SRC_ALPHA_'+'SATURATE'],_0x3f1aae['ONE_MINUS_'+'SRC_ALPHA'],_0x3f1aae['DST_ALPHA'],_0x3f1aae['ONE_MINUS_'+'DST_ALPHA'],_0x3f1aae['CONSTANT_C'+'OLOR'],_0x3f1aae['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x3f1aae['ZERO'],_0x3f1aae['ONE'],_0x3f1aae['SRC_COLOR'],_0x3f1aae['ONE_MINUS_'+'SRC_COLOR'],_0x3f1aae['DST_COLOR'],_0x3f1aae['ONE_MINUS_'+'DST_COLOR'],_0x3f1aae['SRC_ALPHA'],_0x3f1aae['SRC_ALPHA_'+'SATURATE'],_0x3f1aae['ONE_MINUS_'+'SRC_ALPHA'],_0x3f1aae['DST_ALPHA'],_0x3f1aae['ONE_MINUS_'+'DST_ALPHA'],_0x3f1aae['CONSTANT_A'+'LPHA'],_0x3f1aae['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x3f1aae['NEVER'],_0x3f1aae['LESS'],_0x3f1aae['EQUAL'],_0x3f1aae['LEQUAL'],_0x3f1aae['GREATER'],_0x3f1aae['NOTEQUAL'],_0x3f1aae['GEQUAL'],_0x3f1aae['ALWAYS']],this['glStencilO'+'p']=[_0x3f1aae['KEEP'],_0x3f1aae['ZERO'],_0x3f1aae['REPLACE'],_0x3f1aae['INCR'],_0x3f1aae['INCR_WRAP'],_0x3f1aae['DECR'],_0x3f1aae['DECR_WRAP'],_0x3f1aae['INVERT']],this['glClearFla'+'g']=[0x3af*-0x2+0x1*0x295+0x4c9,_0x3f1aae['COLOR_BUFF'+'ER_BIT'],_0x3f1aae['DEPTH_BUFF'+'ER_BIT'],_0x3f1aae['COLOR_BUFF'+'ER_BIT']|_0x3f1aae['DEPTH_BUFF'+'ER_BIT'],_0x3f1aae['STENCIL_BU'+'FFER_BIT'],_0x3f1aae['STENCIL_BU'+'FFER_BIT']|_0x3f1aae['COLOR_BUFF'+'ER_BIT'],_0x3f1aae['STENCIL_BU'+'FFER_BIT']|_0x3f1aae['DEPTH_BUFF'+'ER_BIT'],_0x3f1aae['STENCIL_BU'+'FFER_BIT']|_0x3f1aae['COLOR_BUFF'+'ER_BIT']|_0x3f1aae['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x5b9+0x9a2*-0x3+-0x229f*-0x1,_0x3f1aae['BACK'],_0x3f1aae['FRONT'],_0x3f1aae['FRONT_AND_'+'BACK']],this['glFilter']=[_0x3f1aae['NEAREST'],_0x3f1aae['LINEAR'],_0x3f1aae['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x3f1aae['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x3f1aae['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x3f1aae['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x3f1aae['POINTS'],_0x3f1aae['LINES'],_0x3f1aae['LINE_LOOP'],_0x3f1aae['LINE_STRIP'],_0x3f1aae['TRIANGLES'],_0x3f1aae['TRIANGLE_S'+'TRIP'],_0x3f1aae['TRIANGLE_F'+'AN']],this['glType']=[_0x3f1aae['BYTE'],_0x3f1aae['UNSIGNED_B'+'YTE'],_0x3f1aae['SHORT'],_0x3f1aae['UNSIGNED_S'+'HORT'],_0x3f1aae['INT'],_0x3f1aae['UNSIGNED_I'+'NT'],_0x3f1aae['FLOAT'],_0x3f1aae['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x3f1aae['BOOL']]=ua,this['pcUniformT'+'ype'][_0x3f1aae['INT']]=hn,this['pcUniformT'+'ype'][_0x3f1aae['FLOAT']]=Ks,this['pcUniformT'+'ype'][_0x3f1aae['FLOAT_VEC2']]=hr,this['pcUniformT'+'ype'][_0x3f1aae['FLOAT_VEC3']]=Qt,this['pcUniformT'+'ype'][_0x3f1aae['FLOAT_VEC4']]=ba,this['pcUniformT'+'ype'][_0x3f1aae['INT_VEC2']]=Qr,this['pcUniformT'+'ype'][_0x3f1aae['INT_VEC3']]=Jr,this['pcUniformT'+'ype'][_0x3f1aae['INT_VEC4']]=en,this['pcUniformT'+'ype'][_0x3f1aae['BOOL_VEC2']]=Bo,this['pcUniformT'+'ype'][_0x3f1aae['BOOL_VEC3']]=No,this['pcUniformT'+'ype'][_0x3f1aae['BOOL_VEC4']]=zo,this['pcUniformT'+'ype'][_0x3f1aae['FLOAT_MAT2']]=kh,this['pcUniformT'+'ype'][_0x3f1aae['FLOAT_MAT3']]=Uo,this['pcUniformT'+'ype'][_0x3f1aae['FLOAT_MAT4']]=wa,this['pcUniformT'+'ype'][_0x3f1aae['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x3f1aae['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x3f1aae['UNSIGNED_I'+'NT']]=Ta,this['pcUniformT'+'ype'][_0x3f1aae['UNSIGNED_I'+'NT_VEC2']]=Aa,this['pcUniformT'+'ype'][_0x3f1aae['UNSIGNED_I'+'NT_VEC3']]=Ea,this['pcUniformT'+'ype'][_0x3f1aae['UNSIGNED_I'+'NT_VEC4']]=Ca,this['pcUniformT'+'ype'][_0x3f1aae['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x3f1aae['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x3f1aae['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x3f1aae['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x3f1aae['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x3f1aae['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x3f1aae['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x3f1aae['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x3f1aae['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x3f1aae['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x3f1aae['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x3f1aae['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x3f1aae['TEXTURE_2D']]=-0x1*0x1599+-0x263*-0x4+0xc0d,this['targetToSl'+'ot'][_0x3f1aae['TEXTURE_CU'+'BE_MAP']]=0x6*-0x54d+0x10f+0x148*0x18,this['targetToSl'+'ot'][_0x3f1aae['TEXTURE_3D']]=0x567*-0x4+0x1ad5+0x10b*-0x5;let _0x5e647a,_0x3747aa,_0x3ffe47,_0x376a10,_0x1c0862;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ua]=function(_0x225451,_0x3334e6){_0x225451['value']!==_0x3334e6&&(_0x3f1aae['uniform1i'](_0x225451['locationId'],_0x3334e6),_0x225451['value']=_0x3334e6);},this['commitFunc'+'tion'][hn]=this['commitFunc'+'tion'][ua],this['commitFunc'+'tion'][Ks]=function(_0x27b61f,_0x7e2793){_0x27b61f['value']!==_0x7e2793&&(_0x3f1aae['uniform1f'](_0x27b61f['locationId'],_0x7e2793),_0x27b61f['value']=_0x7e2793);},this['commitFunc'+'tion'][hr]=function(_0x209a66,_0x3f222e){_0x1c0862=_0x209a66['value'],_0x5e647a=_0x3f222e[0x96+0x1f*0x2d+-0x3*0x203],_0x3747aa=_0x3f222e[0x515*0x4+-0x790+0xb*-0x129],(_0x1c0862[-0x21b7+0x3*0xb86+-0xdb]!==_0x5e647a||_0x1c0862[-0x16c5+-0x81*-0x33+-0x2ed*0x1]!==_0x3747aa)&&(_0x3f1aae['uniform2fv'](_0x209a66['locationId'],_0x3f222e),_0x1c0862[-0x26c7+-0x8b8+0x2f7f]=_0x5e647a,_0x1c0862[-0x23b6*-0x1+0x1*-0x15e9+0x373*-0x4]=_0x3747aa);},this['commitFunc'+'tion'][Qt]=function(_0x22d70e,_0x3b4714){_0x1c0862=_0x22d70e['value'],_0x5e647a=_0x3b4714[-0x36d*0xb+0x2*-0xfb5+0x4519],_0x3747aa=_0x3b4714[0x71e+-0x17e9+0x10cc],_0x3ffe47=_0x3b4714[-0x17e2+-0xd14+0x127c*0x2],(_0x1c0862[0x4fe+0x19c6+-0x1ec4]!==_0x5e647a||_0x1c0862[-0x21ed+0xf9c+0x1d5*0xa]!==_0x3747aa||_0x1c0862[-0x1582*0x1+0x13*-0xa4+0x21b0]!==_0x3ffe47)&&(_0x3f1aae['uniform3fv'](_0x22d70e['locationId'],_0x3b4714),_0x1c0862[-0x12d*0x15+0x11c5*-0x1+-0x87e*-0x5]=_0x5e647a,_0x1c0862[0x2614+0x1eb6+0x44c9*-0x1]=_0x3747aa,_0x1c0862[0x20ad+0x1*0x2187+-0x4232]=_0x3ffe47);},this['commitFunc'+'tion'][ba]=function(_0x1608f3,_0x54ef89){_0x1c0862=_0x1608f3['value'],_0x5e647a=_0x54ef89[-0x2*-0x3f3+0x416*-0x2+0x46],_0x3747aa=_0x54ef89[0x39d+0x6b*0x23+-0x123d],_0x3ffe47=_0x54ef89[0x1ed*-0x5+0x2*-0xedf+0x11*0x251],_0x376a10=_0x54ef89[0x26cf+-0xcab*0x3+-0x1d*0x7],(_0x1c0862[-0x19dc+0x2139+-0x75d]!==_0x5e647a||_0x1c0862[0x149e+0xc*0x265+-0x3159]!==_0x3747aa||_0x1c0862[-0x24d0+0x1*0x1b6e+-0x1*-0x964]!==_0x3ffe47||_0x1c0862[-0x2*0xd81+0x54*-0x2f+0x87d*0x5]!==_0x376a10)&&(_0x3f1aae['uniform4fv'](_0x1608f3['locationId'],_0x54ef89),_0x1c0862[-0x1e2e+-0x1a4b+0x3879]=_0x5e647a,_0x1c0862[0x1f90+-0x5*-0x3d1+0x1c*-0x1cf]=_0x3747aa,_0x1c0862[-0x1*-0xeb7+-0x204*0x1+0x169*-0x9]=_0x3ffe47,_0x1c0862[-0x1*-0xf31+-0x2419+-0x13b*-0x11]=_0x376a10);},this['commitFunc'+'tion'][Qr]=function(_0x375456,_0x257cff){_0x1c0862=_0x375456['value'],_0x5e647a=_0x257cff[0x1*0x213+-0xe8c+-0xc79*-0x1],_0x3747aa=_0x257cff[-0x173f*0x1+-0x193c+0x307c],(_0x1c0862[-0xcc3+0x149d*-0x1+0x2160]!==_0x5e647a||_0x1c0862[-0x45c+-0xa94*-0x3+-0x1b5f]!==_0x3747aa)&&(_0x3f1aae['uniform2iv'](_0x375456['locationId'],_0x257cff),_0x1c0862[0xd6f+-0x41f+0x950*-0x1]=_0x5e647a,_0x1c0862[-0x9f*0x15+0x3db+0xd*0xb5]=_0x3747aa);},this['commitFunc'+'tion'][Bo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x4dca89,_0x4eb10c){_0x1c0862=_0x4dca89['value'],_0x5e647a=_0x4eb10c[-0x9d*-0xe+-0xa46+0x90*0x3],_0x3747aa=_0x4eb10c[-0x3*-0x685+0x23c*-0x11+0x126e],_0x3ffe47=_0x4eb10c[0x2429+-0x6b+-0x23bc],(_0x1c0862[-0x5d*-0x3d+0x17a0+-0x3*0xf43]!==_0x5e647a||_0x1c0862[-0x17d+-0x4fd*0x7+0x2469]!==_0x3747aa||_0x1c0862[0xb18*-0x1+0x9*-0x247+-0x1*-0x1f99]!==_0x3ffe47)&&(_0x3f1aae['uniform3iv'](_0x4dca89['locationId'],_0x4eb10c),_0x1c0862[0x4*-0x4cd+-0x2*-0xf79+0x12*-0xa7]=_0x5e647a,_0x1c0862[-0x7e5+0x2471+-0x1c8b]=_0x3747aa,_0x1c0862[-0x3*-0xca1+0x1af2+-0x40d3]=_0x3ffe47);},this['commitFunc'+'tion'][No]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][en]=function(_0x2fa25e,_0x1695e6){_0x1c0862=_0x2fa25e['value'],_0x5e647a=_0x1695e6[-0xe16+-0xd58+-0x1*-0x1b6e],_0x3747aa=_0x1695e6[-0xf03+0x2330+-0xa16*0x2],_0x3ffe47=_0x1695e6[-0x5e*0x1e+-0x1*0x2233+-0x3*-0xf13],_0x376a10=_0x1695e6[-0x1c6*0x1+-0x265b+0x2824],(_0x1c0862[-0x2*0xeb7+0x14b8+-0x1be*-0x5]!==_0x5e647a||_0x1c0862[0x41*-0x59+0x2f9*0x1+0x13a1]!==_0x3747aa||_0x1c0862[0x53+-0x8db+0x88a]!==_0x3ffe47||_0x1c0862[-0xb5*-0x8+-0x32*0x5f+0xce9]!==_0x376a10)&&(_0x3f1aae['uniform4iv'](_0x2fa25e['locationId'],_0x1695e6),_0x1c0862[-0x17c4+0x16ba+0x10a]=_0x5e647a,_0x1c0862[0xb42+0x11*0x19d+0x26ae*-0x1]=_0x3747aa,_0x1c0862[-0x1730+0x1cba*0x1+0x2*-0x2c4]=_0x3ffe47,_0x1c0862[0xbfe+0x57b*-0x1+0xd*-0x80]=_0x376a10);},this['commitFunc'+'tion'][zo]=this['commitFunc'+'tion'][en],this['commitFunc'+'tion'][kh]=function(_0x51f337,_0x4a0e76){_0x3f1aae['uniformMat'+'rix2fv'](_0x51f337['locationId'],!(0x8*-0x133+0x33f*-0xb+-0x16a7*-0x2),_0x4a0e76);},this['commitFunc'+'tion'][Uo]=function(_0x4ae35e,_0x33bf26){_0x3f1aae['uniformMat'+'rix3fv'](_0x4ae35e['locationId'],!(-0x1679+0x12*0x1da+-0x1cf*0x6),_0x33bf26);},this['commitFunc'+'tion'][wa]=function(_0x2ad59b,_0x27fa00){_0x3f1aae['uniformMat'+'rix4fv'](_0x2ad59b['locationId'],!(0x2363+-0x2562+0x200),_0x27fa00);},this['commitFunc'+'tion'][Oc]=function(_0x139093,_0x255c61){_0x3f1aae['uniform1fv'](_0x139093['locationId'],_0x255c61);},this['commitFunc'+'tion'][Bc]=function(_0x1d5909,_0x1e883b){_0x3f1aae['uniform2fv'](_0x1d5909['locationId'],_0x1e883b);},this['commitFunc'+'tion'][Nc]=function(_0x544e33,_0xb11df){_0x3f1aae['uniform3fv'](_0x544e33['locationId'],_0xb11df);},this['commitFunc'+'tion'][up]=function(_0x2c09f5,_0x48249a){_0x3f1aae['uniform4fv'](_0x2c09f5['locationId'],_0x48249a);},this['commitFunc'+'tion'][Ta]=function(_0x1a9c03,_0x5e76b9){_0x1a9c03['value']!==_0x5e76b9&&(_0x3f1aae['uniform1ui'](_0x1a9c03['locationId'],_0x5e76b9),_0x1a9c03['value']=_0x5e76b9);},this['commitFunc'+'tion'][Aa]=function(_0x159106,_0x9ef26d){_0x1c0862=_0x159106['value'],_0x5e647a=_0x9ef26d[-0x1051*0x1+-0xe2b+0x2*0xf3e],_0x3747aa=_0x9ef26d[0x1713+-0x1e21+-0x1*-0x70f],(_0x1c0862[0xb13+0x1cf9*-0x1+0x11e6]!==_0x5e647a||_0x1c0862[-0x1*0x381+0x1a07+-0x1685]!==_0x3747aa)&&(_0x3f1aae['uniform2ui'+'v'](_0x159106['locationId'],_0x9ef26d),_0x1c0862[0xa9*-0x1d+-0xcb6*-0x3+-0x12fd]=_0x5e647a,_0x1c0862[0x1*-0x14aa+-0xff2+-0x249d*-0x1]=_0x3747aa);},this['commitFunc'+'tion'][Ea]=function(_0x3d8fff,_0x131efa){_0x1c0862=_0x3d8fff['value'],_0x5e647a=_0x131efa[-0x1a11*0x1+0x1bd*0x1+0x1854],_0x3747aa=_0x131efa[-0x391*-0x1+0x3*-0x4f5+0x1*0xb4f],_0x3ffe47=_0x131efa[0x19ea+0x1cc0+0x91c*-0x6],(_0x1c0862[0x1*0xae9+0x51c+-0x1*0x1005]!==_0x5e647a||_0x1c0862[-0x2226+-0x1379*-0x1+0xeae]!==_0x3747aa||_0x1c0862[-0xbeb+0xf1*0xb+0x2*0xc9]!==_0x3ffe47)&&(_0x3f1aae['uniform3ui'+'v'](_0x3d8fff['locationId'],_0x131efa),_0x1c0862[0x1002+-0x1a37+0xa35]=_0x5e647a,_0x1c0862[0x1000+-0x3*0xbd1+-0x53*-0x3c]=_0x3747aa,_0x1c0862[-0x1*-0x455+0x17d2*-0x1+-0x17*-0xd9]=_0x3ffe47);},this['commitFunc'+'tion'][Ca]=function(_0x27713c,_0xa5987a){_0x1c0862=_0x27713c['value'],_0x5e647a=_0xa5987a[-0x8a0+0x23a8+-0x568*0x5],_0x3747aa=_0xa5987a[-0xc10+-0x15be+0x21cf],_0x3ffe47=_0xa5987a[-0x1*0x19c7+-0x2603+0x1fe6*0x2],_0x376a10=_0xa5987a[0x18f6+-0xb08+0x7*-0x1fd],(_0x1c0862[-0x36*-0xb6+-0xfd1*0x1+-0x1693]!==_0x5e647a||_0x1c0862[-0x18*0x2f+-0x109f+0x1508]!==_0x3747aa||_0x1c0862[-0x32c+0x1e45+-0x1b17]!==_0x3ffe47||_0x1c0862[-0x66c+0x27e+0x3f1*0x1]!==_0x376a10)&&(_0x3f1aae['uniform4ui'+'v'](_0x27713c['locationId'],_0xa5987a),_0x1c0862[0x69f+-0x2*-0x8eb+0x1*-0x1875]=_0x5e647a,_0x1c0862[-0xd81+0x7b9+-0x1*-0x5c9]=_0x3747aa,_0x1c0862[-0x1035*0x1+0x49b+0xb9c]=_0x3ffe47,_0x1c0862[-0xdd1+-0x3*0x22d+0x145b]=_0x376a10);},this['commitFunc'+'tion'][Ma]=function(_0x4c1de3,_0x597cea){_0x3f1aae['uniform1iv'](_0x4c1de3['locationId'],_0x597cea);},this['commitFunc'+'tion'][zc]=function(_0x6834d9,_0x506836){_0x3f1aae['uniform1ui'+'v'](_0x6834d9['locationId'],_0x506836);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ma],this['commitFunc'+'tion'][Pa]=function(_0x32a617,_0x52baae){_0x3f1aae['uniform2iv'](_0x32a617['locationId'],_0x52baae);},this['commitFunc'+'tion'][Vc]=function(_0x49edb5,_0x4d8bfe){_0x3f1aae['uniform2ui'+'v'](_0x49edb5['locationId'],_0x4d8bfe);},this['commitFunc'+'tion'][Gc]=this['commitFunc'+'tion'][Pa],this['commitFunc'+'tion'][Ra]=function(_0x578a06,_0x20977a){_0x3f1aae['uniform3iv'](_0x578a06['locationId'],_0x20977a);},this['commitFunc'+'tion'][Hc]=function(_0x5cf2db,_0x1f86bc){_0x3f1aae['uniform3ui'+'v'](_0x5cf2db['locationId'],_0x1f86bc);},this['commitFunc'+'tion'][Wc]=this['commitFunc'+'tion'][Ra],this['commitFunc'+'tion'][Oh]=function(_0x46088e,_0x1826dd){_0x3f1aae['uniform4iv'](_0x46088e['locationId'],_0x1826dd);},this['commitFunc'+'tion'][fp]=function(_0x25f93c,_0x2ba0b6){_0x3f1aae['uniform4ui'+'v'](_0x25f93c['locationId'],_0x2ba0b6);},this['commitFunc'+'tion'][pp]=this['commitFunc'+'tion'][Oh],this['commitFunc'+'tion'][zy]=function(_0x54dafa,_0x10a2e8){_0x3f1aae['uniformMat'+'rix4fv'](_0x54dafa['locationId'],!(0x524+0x15d7+-0x3*0x8fe),_0x10a2e8);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x1c0a07=this['gl'];this['feedback']&&_0x1c0a07['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x10cf+-0xb63+-0x56b)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x91d+-0x1*0x2407+0x1aeb)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x3b6916){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new St({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x3b6916;}['updateBack'+'bufferForm'+'at'](_0xbe0848){const _0x2e7c18=this['gl'];_0x2e7c18['bindFrameb'+'uffer'](_0x2e7c18['FRAMEBUFFE'+'R'],_0xbe0848);const _0x42f6df=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x42f6df?Te:ur;}['updateBack'+'buffer'](){const _0x13ae8e=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x13ae8e)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0xa97+0xfaf*0x1+-0x517),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x51eff9,_0x428f90){return new sb();}['createInde'+'xBufferImp'+'l'](_0x186b44){return new ib(_0x186b44);}['createShad'+'erImpl'](_0x166c73){return new lb(_0x166c73);}['createText'+'ureImpl'](_0x49554c){return new hb(_0x49554c);}['createRend'+'erTargetIm'+'pl'](_0x4e9dd5){return new db();}['pushMarker'](_0x30dd33){if(be['browser']&&window['spector']){const _0x4e4bcf=G['toString']();window['spector']['setMarker'](_0x4e4bcf+'\x20#');}}['popMarker'](){if(be['browser']&&window['spector']){const _0x2cb588=G['toString']();_0x2cb588['length']?window['spector']['setMarker'](_0x2cb588+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x4d23fe=this['gl'];let _0x1cbd0c='highp';if(_0x4d23fe['getShaderP'+'recisionFo'+'rmat']){const _0x1427a1=_0x4d23fe['getShaderP'+'recisionFo'+'rmat'](_0x4d23fe['VERTEX_SHA'+'DER'],_0x4d23fe['HIGH_FLOAT']),_0x448870=_0x4d23fe['getShaderP'+'recisionFo'+'rmat'](_0x4d23fe['VERTEX_SHA'+'DER'],_0x4d23fe['MEDIUM_FLO'+'AT']),_0x3bf836=_0x4d23fe['getShaderP'+'recisionFo'+'rmat'](_0x4d23fe['FRAGMENT_S'+'HADER'],_0x4d23fe['HIGH_FLOAT']),_0xc7a1a9=_0x4d23fe['getShaderP'+'recisionFo'+'rmat'](_0x4d23fe['FRAGMENT_S'+'HADER'],_0x4d23fe['MEDIUM_FLO'+'AT']);if(_0x1427a1&&_0x448870&&_0x3bf836&&_0xc7a1a9){const _0x433239=_0x1427a1['precision']>-0x199e+0xe09+0x251*0x5&&_0x3bf836['precision']>0x1e54+0x110*0x16+0x1*-0x35b4,_0x298d5e=_0x448870['precision']>-0x529+0x2313+-0x1dea&&_0xc7a1a9['precision']>0x1*-0x9eb+0x4ac*0x8+0x63*-0x47;_0x433239||(_0x298d5e?(_0x1cbd0c='mediump',b['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x1cbd0c='lowp',b['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x1cbd0c;}['getExtensi'+'on'](){for(let _0x1b2e4f=0x25d9*0x1+0x8*-0x66+-0x22a9;_0x1b2e4f<arguments['length'];_0x1b2e4f++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x1b2e4f])!==-(-0x26b9+-0x905+0x2fbf))return this['gl']['getExtensi'+'on'](arguments[_0x1b2e4f]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x460b4c=this['gl'];this['supportedE'+'xtensions']=_0x460b4c['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x2f*0x9b+0x1fee+-0x379),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x386b7a=this['gl'];let _0xe13d36;const _0x13bf6b=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x2f36ac=_0x386b7a['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x2f36ac==null?void(0xa8a+-0x1*0x2411+0x1987):_0x2f36ac['antialias'])??!(-0xd07+-0x1*-0xcb7+0x51),this['supportsSt'+'encil']=(_0x2f36ac==null?void(-0x17ea+-0x20b*-0x12+-0xcdc):_0x2f36ac['stencil'])??!(0x558+-0x1*-0x22da+-0x2831),this['maxTexture'+'Size']=_0x386b7a['getParamet'+'er'](_0x386b7a['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x386b7a['getParamet'+'er'](_0x386b7a['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x386b7a['getParamet'+'er'](_0x386b7a['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x386b7a['getParamet'+'er'](_0x386b7a['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x386b7a['getParamet'+'er'](_0x386b7a['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x386b7a['getParamet'+'er'](_0x386b7a['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x386b7a['getParamet'+'er'](_0x386b7a['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x386b7a['getParamet'+'er'](_0x386b7a['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x386b7a['getParamet'+'er'](_0x386b7a['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x386b7a['getParamet'+'er'](_0x386b7a['MAX_3D_TEX'+'TURE_SIZE']),_0xe13d36=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0xe13d36?_0x386b7a['getParamet'+'er'](_0xe13d36['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0xe13d36?_0x386b7a['getParamet'+'er'](_0xe13d36['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x12506b=/\bMali-G52+/,_0xff202f=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x13bf6b['match'](_0xff202f))&&!this['unmaskedRe'+'nderer']['match'](_0x12506b),_0xe13d36=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0xe13d36?_0x386b7a['getParamet'+'er'](_0xe13d36['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x1afb+0xe3b+0xcc1;const _0x4a7096=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x4a7096?_0x386b7a['getParamet'+'er'](_0x386b7a['MAX_SAMPLE'+'S']):-0x1946+0x13ee+0x559,this['maxSamples']=Math['min'](this['maxSamples'],-0x3a*-0x3b+0x307*-0xb+0x13f3*0x1),this['samples']=_0x4a7096&&this['backBuffer'+'Antialias']?this['maxSamples']:0x985*0x3+0x1*0x18a1+0x23*-0x185,this['supportsAr'+'eaLights']=!be['android'],this['maxTexture'+'s']<=0x2197+0x13ea+-0x3579*0x1&&(this['supportsAr'+'eaLights']=!(-0xc*0x1c6+0x7*-0x44b+0x3356*0x1));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x24f39a=this['gl'];_0x24f39a['disable'](_0x24f39a['BLEND']),_0x24f39a['blendFunc'](_0x24f39a['ONE'],_0x24f39a['ZERO']),_0x24f39a['blendEquat'+'ion'](_0x24f39a['FUNC_ADD']),_0x24f39a['colorMask'](!(0x1913+-0x10ce+-0x845),!(0x1256+0x34a+-0x2*0xad0),!(-0x1416+0x20f9+-0xce3),!(0x9b5+0x1512+-0x1ec7)),_0x24f39a['blendColor'](0xa17+-0x2276+-0x1*-0x185f,-0x11a7+-0x69a+-0x7*-0x377,-0x2*0x112b+0x260+-0x2*-0xffb,0xf46+0x126+-0x836*0x2),_0x24f39a['enable'](_0x24f39a['CULL_FACE']),this['cullFace']=_0x24f39a['BACK'],_0x24f39a['cullFace'](_0x24f39a['BACK']),_0x24f39a['enable'](_0x24f39a['DEPTH_TEST']),_0x24f39a['depthFunc'](_0x24f39a['LEQUAL']),_0x24f39a['depthMask'](!(-0xb*0x139+0x1478+-0x705*0x1)),this['stencil']=!(0x2b*-0x15+0x1*-0x281+0x609),_0x24f39a['disable'](_0x24f39a['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ri,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0x4b5+0x1642+-0x118d,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0xb2c+0x2e*-0xb1+0x2bf9,_0x24f39a['stencilFun'+'c'](_0x24f39a['ALWAYS'],-0xc9*0x3+0x1506+-0x3*0x639,-0xa*0x4b+-0x2286+0x2673),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=da,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=da,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=da,this['stencilWri'+'teMaskFron'+'t']=-0x4*0xb2+-0xf68+-0x132f*-0x1,this['stencilWri'+'teMaskBack']=0xbdf+0x1*0xc73+0x7*-0x355,_0x24f39a['stencilOp'](_0x24f39a['KEEP'],_0x24f39a['KEEP'],_0x24f39a['KEEP']),_0x24f39a['stencilMas'+'k'](0x1aae+-0x113d*-0x1+-0x1576*0x2),this['alphaToCov'+'erage']=!(0x1c4f*-0x1+0x4*0x794+-0x80*0x4),this['raster']=!(0xd8b*0x2+-0x992+-0x1184),_0x24f39a['disable'](_0x24f39a['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x24f39a['disable'](_0x24f39a['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(0x8e3+-0xdf*0x1d+0x1061),_0x24f39a['disable'](_0x24f39a['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x2*0x6be+0x1*0x1a23+0x39a*-0xb,_0x24f39a['clearDepth'](-0x1*-0x1ad8+-0x1805+-0x2d2),this['clearColor']=new Y(0x2560+-0x328+-0x2238,0x29+-0x141f+0x9fb*0x2,-0x234d*-0x1+-0x2111+-0x23c,0x2dd*-0x8+-0x206+-0x2*-0xc77),_0x24f39a['clearColor'](-0xd*-0x90+0x9af+0x13*-0xe5,0x507*0x4+0xd*0x18e+0x1a*-0x18d,-0x319+0x1d0a+-0x19f1,-0x8f3+0xd10+0x51*-0xd),this['clearStenc'+'il']=0xa7*0x4+0x7*0x89+-0x65b,_0x24f39a['clearStenc'+'il'](-0x1a21+0x1*-0x1a4b+0xf4*0x37),_0x24f39a['hint'](_0x24f39a['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x24f39a['NICEST']),_0x24f39a['enable'](_0x24f39a['SCISSOR_TE'+'ST']),_0x24f39a['pixelStore'+'i'](_0x24f39a['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x24f39a['NONE']),this['unpackFlip'+'Y']=!(0x9e2+-0x1afb+0x111a),_0x24f39a['pixelStore'+'i'](_0x24f39a['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x87*0x1b+-0x649+0x5*0x41b)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x1aa6+0x1a05+-0x141*0x2a),_0x24f39a['pixelStore'+'i'](_0x24f39a['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0xe7b+-0x198a+0xb10)),_0x24f39a['pixelStore'+'i'](_0x24f39a['UNPACK_ALI'+'GNMENT'],0x2456+-0x219d+-0x74*0x6);}['initTextur'+'eUnits'](_0x4ed230=0x7e+-0x1*-0x1a4c+-0x1aba){this['textureUni'+'ts']=[];for(let _0x3e1002=0x17e2+0x1*0x1b7d+0x335f*-0x1;_0x3e1002<_0x4ed230;_0x3e1002++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=-0x40f*0x4+-0x1225+0x2261,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x296b9c of this['shaders'])_0x296b9c['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0xbdd571 of this['shaders'])_0xbdd571['restoreCon'+'text']();}['setViewpor'+'t'](_0x52c2b9,_0x4616ee,_0x169e6c,_0x79d7f0){(this['vx']!==_0x52c2b9||this['vy']!==_0x4616ee||this['vw']!==_0x169e6c||this['vh']!==_0x79d7f0)&&(this['gl']['viewport'](_0x52c2b9,_0x4616ee,_0x169e6c,_0x79d7f0),this['vx']=_0x52c2b9,this['vy']=_0x4616ee,this['vw']=_0x169e6c,this['vh']=_0x79d7f0);}['setScissor'](_0x1a3478,_0xa0aea2,_0x2b3028,_0x237410){(this['sx']!==_0x1a3478||this['sy']!==_0xa0aea2||this['sw']!==_0x2b3028||this['sh']!==_0x237410)&&(this['gl']['scissor'](_0x1a3478,_0xa0aea2,_0x2b3028,_0x237410),this['sx']=_0x1a3478,this['sy']=_0xa0aea2,this['sw']=_0x2b3028,this['sh']=_0x237410);}['setFramebu'+'ffer'](_0x518a2a){if(this['activeFram'+'ebuffer']!==_0x518a2a){const _0x5e1b60=this['gl'];_0x5e1b60['bindFrameb'+'uffer'](_0x5e1b60['FRAMEBUFFE'+'R'],_0x518a2a),this['activeFram'+'ebuffer']=_0x518a2a;}}['copyRender'+'Target'](_0x45838c,_0x497c72,_0x29bebe,_0x4897b6){var _0xc79ca2,_0x4aa5b6;const _0x40df7b=this['gl'];if(_0x45838c===this['backBuffer']&&(_0x45838c=null),_0x29bebe){if(_0x497c72){if(_0x45838c){if(!_0x45838c['_colorBuff'+'er']||!_0x497c72['_colorBuff'+'er'])return b['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0xa15+-0xfbb+0x19d1);if(_0x45838c['_colorBuff'+'er']['_format']!==_0x497c72['_colorBuff'+'er']['_format'])return b['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x7a2+-0x23*0x53+0x12fc);}}else{if(!_0x45838c['_colorBuff'+'er'])return b['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0xf87+0x1*-0x16c9+0x743);}}if(_0x4897b6&&_0x45838c&&!_0x45838c['_depth']){if(!_0x45838c['_depthBuff'+'er']||!_0x497c72['_depthBuff'+'er'])return b['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x6*-0x4ff+-0x1*0x19c1+0x1e*-0x24);if(_0x45838c['_depthBuff'+'er']['_format']!==_0x497c72['_depthBuff'+'er']['_format'])return b['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x3*-0x8e9+-0x2442+-0x1f7f*-0x2);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x576660=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x497c72,this['updateBegi'+'n']();const _0x48c3e0=_0x45838c?_0x45838c['impl']['_glFrameBu'+'ffer']:(_0xc79ca2=this['backBuffer'])==null?void(0x125*0x16+0x1d11+-0x363f*0x1):_0xc79ca2['impl']['_glFrameBu'+'ffer'],_0x3568ad=_0x497c72?_0x497c72['impl']['_glFrameBu'+'ffer']:(_0x4aa5b6=this['backBuffer'])==null?void(0x190b+0x1*-0x1813+0x2*-0x7c):_0x4aa5b6['impl']['_glFrameBu'+'ffer'];b['assert'](_0x48c3e0!==_0x3568ad,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x40df7b['bindFrameb'+'uffer'](_0x40df7b['READ_FRAME'+'BUFFER'],_0x48c3e0),_0x40df7b['bindFrameb'+'uffer'](_0x40df7b['DRAW_FRAME'+'BUFFER'],_0x3568ad);const _0x3c933c=_0x45838c?_0x45838c['width']:_0x497c72?_0x497c72['width']:this['width'],_0x3dd45d=_0x45838c?_0x45838c['height']:_0x497c72?_0x497c72['height']:this['height'];return _0x40df7b['blitFrameb'+'uffer'](-0x1*0x1857+-0x1fb9+-0x2e*-0x138,0x23c9+-0x226b+-0x15e,_0x3c933c,_0x3dd45d,0x415+0x57*0x7+-0x676,-0x5a0*0x2+-0xd87+0x18c7,_0x3c933c,_0x3dd45d,(_0x29bebe?_0x40df7b['COLOR_BUFF'+'ER_BIT']:-0x21d1*0x1+0x1*0x191+0x56*0x60)|(_0x4897b6?_0x40df7b['DEPTH_BUFF'+'ER_BIT']:0x2db*0x8+-0x727*-0x2+0x6*-0x631),_0x40df7b['NEAREST']),this['renderTarg'+'et']=_0x576660,_0x40df7b['bindFrameb'+'uffer'](_0x40df7b['FRAMEBUFFE'+'R'],_0x576660?_0x576660['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(0x151e*-0x1+-0x91*-0x43+-0x10d5);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x62caec){const _0x38940e=_0x62caec['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x38940e,b['assert'](_0x38940e),G['pushGpuMar'+'ker'](this,'Pass:'+_0x62caec['name']+'\x20RT:'+_0x38940e['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0xa172d1,height:_0x4dfe6d}=_0x38940e;this['setViewpor'+'t'](0x35*-0x1+-0x90c+-0x67*-0x17,0x24b+-0x1b0a+0x389*0x7,_0xa172d1,_0x4dfe6d),this['setScissor'](0x2f9+-0x201f*-0x1+-0x118c*0x2,0xd82+0x1dc3+-0x13*0x247,_0xa172d1,_0x4dfe6d);const _0x216ca7=_0x62caec['colorOps'],_0x2968a2=_0x62caec['depthStenc'+'ilOps'];if(_0x216ca7!=null&&_0x216ca7['clear']||_0x2968a2['clearDepth']||_0x2968a2['clearStenc'+'il']){let _0x586dda=-0x1d*-0xfb+0x14*-0x89+-0x10b*0x11;const _0x649c80={};_0x216ca7!=null&&_0x216ca7['clear']&&(_0x586dda|=Io,_0x649c80['color']=[_0x216ca7['clearValue']['r'],_0x216ca7['clearValue']['g'],_0x216ca7['clearValue']['b'],_0x216ca7['clearValue']['a']]),_0x2968a2['clearDepth']&&(_0x586dda|=Do,_0x649c80['depth']=_0x2968a2['clearDepth'+'Value']),_0x2968a2['clearStenc'+'il']&&(_0x586dda|=Rh,_0x649c80['stencil']=_0x2968a2['clearStenc'+'ilValue']),_0x649c80['flags']=_0x586dda,this['clear'](_0x649c80);}b['call'](()=>{this['insideRend'+'erPass']&&b['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0xdfb+-0x1*0x1286+-0x2081*-0x1),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x409fad){var _0x401a11;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x43d7a6=this['renderTarg'+'et'],_0x201eaa=_0x409fad['colorArray'+'Ops']['length'];if(_0x43d7a6){En['length']=0x25f+-0x1f2b+0x1ccc;const _0x396aa0=this['gl'];for(let _0x2e1fd9=0x1cb5+0x6e5+-0x62*0x5d;_0x2e1fd9<_0x201eaa;_0x2e1fd9++){const _0x389b73=_0x409fad['colorArray'+'Ops'][_0x2e1fd9];_0x389b73['store']||_0x389b73['resolve']||En['push'](_0x396aa0['COLOR_ATTA'+'CHMENT0']+_0x2e1fd9);}_0x43d7a6!==this['backBuffer']&&(_0x409fad['depthStenc'+'ilOps']['storeDepth']||En['push'](_0x396aa0['DEPTH_ATTA'+'CHMENT']),_0x409fad['depthStenc'+'ilOps']['storeStenc'+'il']||En['push'](_0x396aa0['STENCIL_AT'+'TACHMENT'])),En['length']>0x133*0xe+-0x1283+-0x1*-0x1b9&&_0x409fad['fullSizeCl'+'earRect']&&_0x396aa0['invalidate'+'Framebuffe'+'r'](_0x396aa0['DRAW_FRAME'+'BUFFER'],En),_0x201eaa&&((_0x401a11=_0x409fad['colorOps'])!=null&&_0x401a11['resolve'])&&_0x409fad['samples']>-0x24a2*-0x1+0x1524+-0x39c5&&_0x43d7a6['autoResolv'+'e']&&_0x43d7a6['resolve'](!(-0x231c+0x82*-0x1d+0x31d6),!(-0x579+0x14e+0x216*0x2)),_0x43d7a6['depthBuffe'+'r']&&_0x409fad['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x409fad['samples']>0x7*0x6d+0x363+0x21f*-0x3&&_0x43d7a6['autoResolv'+'e']&&_0x43d7a6['resolve'](!(0x93e+-0x24*-0x48+-0x135d),!(0xd52+-0xd*-0x2ab+-0x1*0x3001));for(let _0x5e92ff=-0x1f06+0x1*0x2467+-0x3*0x1cb;_0x5e92ff<_0x201eaa;_0x5e92ff++)if(_0x409fad['colorArray'+'Ops'][_0x5e92ff]['genMipmaps']){const _0x30c4f3=_0x43d7a6['_colorBuff'+'ers'][_0x5e92ff];_0x30c4f3&&_0x30c4f3['impl']['_glTexture']&&_0x30c4f3['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x5e92ff),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1d*-0x89+-0xc33+0x1bb9)),this['bindTextur'+'e'](_0x30c4f3),this['gl']['generateMi'+'pmap'](_0x30c4f3['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x1*-0x998+0x1f16+-0x28ad),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x4d3f24){this['_defaultFr'+'amebuffer']!==_0x4d3f24&&(this['_defaultFr'+'amebuffer']=_0x4d3f24,this['_defaultFr'+'amebufferC'+'hanged']=!(-0x10e6+0x4a2+0x2*0x622));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x266ef0=-0x1f6a+0x3d9*-0x8+0x3e32;_0x266ef0<this['textureUni'+'ts']['length'];++_0x266ef0)for(let _0x39e056=0x1114+-0x5*-0xc7+0x6fd*-0x3;_0x39e056<0x332*-0x3+0xb95*-0x2+0x20c3;++_0x39e056)this['textureUni'+'ts'][_0x266ef0][_0x39e056]=null;}const _0x40c122=this['renderTarg'+'et']??this['backBuffer'];b['assert'](_0x40c122);const _0x376428=_0x40c122['impl'];_0x376428['initialize'+'d']||this['initRender'+'Target'](_0x40c122),this['setFramebu'+'ffer'](_0x376428['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x210866=this['renderTarg'+'et'];if(_0x210866&&_0x210866!==this['backBuffer']){_0x210866['_samples']>0xd*-0xe3+-0x16c7+0x1*0x224f&&_0x210866['autoResolv'+'e']&&_0x210866['resolve']();const _0x2e148b=_0x210866['_colorBuff'+'er'];_0x2e148b&&_0x2e148b['impl']['_glTexture']&&_0x2e148b['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1948+0x194a+0x3*-0x10db)),this['bindTextur'+'e'](_0x2e148b),this['gl']['generateMi'+'pmap'](_0x2e148b['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x378ef4){if(this['unpackFlip'+'Y']!==_0x378ef4){this['unpackFlip'+'Y']=_0x378ef4;const _0x273d54=this['gl'];_0x273d54['pixelStore'+'i'](_0x273d54['UNPACK_FLI'+'P_Y_WEBGL'],_0x378ef4);}}['setUnpackP'+'remultiply'+'Alpha'](_0x346199){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x346199){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x346199;const _0x2d617d=this['gl'];_0x2d617d['pixelStore'+'i'](_0x2d617d['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x346199);}}['activeText'+'ure'](_0x4f9779){this['textureUni'+'t']!==_0x4f9779&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x4f9779),this['textureUni'+'t']=_0x4f9779);}['bindTextur'+'e'](_0x2831b2){const _0x4037a8=_0x2831b2['impl'],_0x1fe409=_0x4037a8['_glTarget'],_0x14af30=_0x4037a8['_glTexture'],_0x44b5c6=this['textureUni'+'t'],_0x4341f8=this['targetToSl'+'ot'][_0x1fe409];this['textureUni'+'ts'][_0x44b5c6][_0x4341f8]!==_0x14af30&&(this['gl']['bindTextur'+'e'](_0x1fe409,_0x14af30),this['textureUni'+'ts'][_0x44b5c6][_0x4341f8]=_0x14af30);}['bindTextur'+'eOnUnit'](_0x535b83,_0x375ac4){const _0x5d56ac=_0x535b83['impl'],_0x21f2fc=_0x5d56ac['_glTarget'],_0x397e17=_0x5d56ac['_glTexture'],_0x1a98f5=this['targetToSl'+'ot'][_0x21f2fc];this['textureUni'+'ts'][_0x375ac4][_0x1a98f5]!==_0x397e17&&(this['activeText'+'ure'](_0x375ac4),this['gl']['bindTextur'+'e'](_0x21f2fc,_0x397e17),this['textureUni'+'ts'][_0x375ac4][_0x1a98f5]=_0x397e17);}['setTexture'+'Parameters'](_0x11334c){const _0x29acb3=this['gl'],_0x50a4d6=_0x11334c['impl']['dirtyParam'+'eterFlags'],_0x74faf7=_0x11334c['impl']['_glTarget'];if(_0x50a4d6&Uy){let _0xd8f790=_0x11334c['_minFilter'];(!_0x11334c['_mipmaps']||_0x11334c['_compresse'+'d']&&_0x11334c['_levels']['length']===-0xb4d+-0x116e+0x1cbc)&&(_0xd8f790===yc||_0xd8f790===xc?_0xd8f790=fe:(_0xd8f790===Sc||_0xd8f790===an)&&(_0xd8f790=at)),_0x29acb3['texParamet'+'eri'](_0x74faf7,_0x29acb3['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0xd8f790]);}if(_0x50a4d6&Vy&&_0x29acb3['texParamet'+'eri'](_0x74faf7,_0x29acb3['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x11334c['_magFilter']]),_0x50a4d6&Gy&&_0x29acb3['texParamet'+'eri'](_0x74faf7,_0x29acb3['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x11334c['_addressU']]),_0x50a4d6&Hy&&_0x29acb3['texParamet'+'eri'](_0x74faf7,_0x29acb3['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x11334c['_addressV']]),_0x50a4d6&Wy&&_0x29acb3['texParamet'+'eri'](_0x74faf7,_0x29acb3['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x11334c['_addressW']]),_0x50a4d6&$y&&_0x29acb3['texParamet'+'eri'](_0x74faf7,_0x29acb3['TEXTURE_CO'+'MPARE_MODE'],_0x11334c['_compareOn'+'Read']?_0x29acb3['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x29acb3['NONE']),_0x50a4d6&qy&&_0x29acb3['texParamet'+'eri'](_0x74faf7,_0x29acb3['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x11334c['_compareFu'+'nc']]),_0x50a4d6&Xy){const _0x23ea8c=this['extTexture'+'FilterAnis'+'otropic'];_0x23ea8c&&_0x29acb3['texParamet'+'erf'](_0x74faf7,_0x23ea8c['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],z['clamp'](Math['round'](_0x11334c['_anisotrop'+'y']),-0x1b3d+-0x2261+0x3d9f,this['maxAnisotr'+'opy']));}}['setTexture'](_0x15d1f3,_0x50f35e){const _0x30a13b=_0x15d1f3['impl'];_0x30a13b['_glTexture']||_0x30a13b['initialize'](this,_0x15d1f3),_0x30a13b['dirtyParam'+'eterFlags']>0x1*-0x183b+0x3*-0x26b+0x1f7c||_0x15d1f3['_needsUplo'+'ad']||_0x15d1f3['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x50f35e),this['bindTextur'+'e'](_0x15d1f3),_0x30a13b['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x15d1f3),_0x30a13b['dirtyParam'+'eterFlags']=0xc0+0x1935+-0x19f5),(_0x15d1f3['_needsUplo'+'ad']||_0x15d1f3['_needsMipm'+'apsUpload'])&&(_0x30a13b['upload'](this,_0x15d1f3),_0x15d1f3['_needsUplo'+'ad']=!(-0x2*-0x1358+0x1462+-0x3b11),_0x15d1f3['_needsMipm'+'apsUpload']=!(0x2f*-0xcf+0xb0+0x22*0x119))):this['bindTextur'+'eOnUnit'](_0x15d1f3,_0x50f35e);}['createVert'+'exArray'](_0x259fee){let _0x13eb98,_0x12fb40;const _0x3b19b1=_0x259fee['length']>-0x1ed0*-0x1+0x2333+-0x4202;if(_0x3b19b1){_0x13eb98='';for(let _0x3cf865=0x896+0x73d+-0xfd3;_0x3cf865<_0x259fee['length'];_0x3cf865++){const _0x302afc=_0x259fee[_0x3cf865];_0x13eb98+=_0x302afc['id']+_0x302afc['format']['renderingH'+'ash'];}_0x12fb40=this['_vaoMap']['get'](_0x13eb98);}if(!_0x12fb40){const _0x135f17=this['gl'];_0x12fb40=_0x135f17['createVert'+'exArray'](),_0x135f17['bindVertex'+'Array'](_0x12fb40),_0x135f17['bindBuffer'](_0x135f17['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x21ecdc=!(0x18a8+0x53c+-0x1de3*0x1);for(let _0x2c675c=-0x9de+0x12a*-0x1f+0x4*0xb7d;_0x2c675c<_0x259fee['length'];_0x2c675c++){const _0x34fe22=_0x259fee[_0x2c675c];_0x135f17['bindBuffer'](_0x135f17['ARRAY_BUFF'+'ER'],_0x34fe22['impl']['bufferId']);const _0x42ddc2=_0x34fe22['format']['elements'];for(let _0x3953ba=0x1*0xb4d+0x1c76*-0x1+-0x1129*-0x1;_0x3953ba<_0x42ddc2['length'];_0x3953ba++){const _0x2ba402=_0x42ddc2[_0x3953ba],_0x1926f1=Ae[_0x2ba402['name']];_0x1926f1===0x7c1+-0x17f2+0x1031*0x1&&(_0x21ecdc=!(-0xbbd+0x1*-0x268b+0x3248)),_0x2ba402['asInt']?_0x135f17['vertexAttr'+'ibIPointer'](_0x1926f1,_0x2ba402['numCompone'+'nts'],this['glType'][_0x2ba402['dataType']],_0x2ba402['stride'],_0x2ba402['offset']):_0x135f17['vertexAttr'+'ibPointer'](_0x1926f1,_0x2ba402['numCompone'+'nts'],this['glType'][_0x2ba402['dataType']],_0x2ba402['normalize'],_0x2ba402['stride'],_0x2ba402['offset']),_0x135f17['enableVert'+'exAttribAr'+'ray'](_0x1926f1),_0x34fe22['format']['instancing']&&_0x135f17['vertexAttr'+'ibDivisor'](_0x1926f1,-0x32*0x2+0x1192+-0x112d);}}_0x135f17['bindVertex'+'Array'](null),_0x135f17['bindBuffer'](_0x135f17['ARRAY_BUFF'+'ER'],null),_0x3b19b1&&this['_vaoMap']['set'](_0x13eb98,_0x12fb40),_0x21ecdc||b['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x12fb40;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x153e70=this['gl'];let _0x4cb070;if(this['vertexBuff'+'ers']['length']===-0x1ad*-0x13+-0x934+-0x16a2){const _0x47441c=this['vertexBuff'+'ers'][0x18a4+-0xc05+-0xc9f];b['assert'](_0x47441c['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x47441c['impl']['vao']||(_0x47441c['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x4cb070=_0x47441c['impl']['vao'];}else _0x4cb070=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x4cb070&&(this['boundVao']=_0x4cb070,_0x153e70['bindVertex'+'Array'](_0x4cb070)),this['clearVerte'+'xBuffer']();const _0x15a403=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x153e70['bindBuffer'](_0x153e70['ELEMENT_AR'+'RAY_BUFFER'],_0x15a403);}['draw'](_0x4698a7,_0x8fe16e,_0x4bce81){const _0x367945=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x1c9167,_0x152a1a,_0x2ea542,_0x4dd1cf,_0x51db47,_0x30301c,_0x3abb79,_0x2f62b5;const _0x592afa=this['shader'];if(!_0x592afa)return;const _0x57ff0b=_0x592afa['impl']['samplers'],_0x405799=_0x592afa['impl']['uniforms'];_0x4bce81||this['setBuffers']();let _0x5c434e=0x1765*-0x1+0x7ca*-0x1+-0x377*-0x9;for(let _0x36c556=0x1f*0x3b+-0x3*-0x7c2+0x1e6b*-0x1,_0x29ab79=_0x57ff0b['length'];_0x36c556<_0x29ab79;_0x36c556++){if(_0x1c9167=_0x57ff0b[_0x36c556],_0x152a1a=_0x1c9167['scopeId']['value'],!_0x152a1a){const _0x4c3edc=_0x1c9167['scopeId']['name'];b['assert'](_0x4c3edc!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),b['assert'](_0x4c3edc!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x4c3edc==='uSceneDept'+'hMap'&&(b['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x152a1a=tn(this,'white')),_0x4c3edc==='uSceneColo'+'rMap'&&(b['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x152a1a=tn(this,'pink')),_0x152a1a||(b['errorOnce']('Shader\x20'+_0x592afa['name']+'\x20requires\x20'+_0x4c3edc+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x152a1a=tn(this,'pink'));}if(_0x152a1a instanceof ce)_0x2ea542=_0x152a1a,this['setTexture'](_0x2ea542,_0x5c434e),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x24ce+-0xdb5*0x1+0x1717*-0x1&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x2ea542?b['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x2ea542}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x2ea542&&b['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x2ea542})),_0x1c9167['slot']!==_0x5c434e&&(_0x367945['uniform1i'](_0x1c9167['locationId'],_0x5c434e),_0x1c9167['slot']=_0x5c434e),_0x5c434e++;else{_0x1c9167['array']['length']=-0x2*0x129a+0x959*0x3+0x929,_0x4dd1cf=_0x152a1a['length'];for(let _0x256411=-0x2022+0x2165+0x11*-0x13;_0x256411<_0x4dd1cf;_0x256411++)_0x2ea542=_0x152a1a[_0x256411],this['setTexture'](_0x2ea542,_0x5c434e),_0x1c9167['array'][_0x256411]=_0x5c434e,_0x5c434e++;_0x367945['uniform1iv'](_0x1c9167['locationId'],_0x1c9167['array']);}}for(let _0x2013fd=0x3a*0x5d+-0x2a*-0x48+-0x7a*0x45,_0x3599a0=_0x405799['length'];_0x2013fd<_0x3599a0;_0x2013fd++)_0x51db47=_0x405799[_0x2013fd],_0x30301c=_0x51db47['scopeId'],_0x3abb79=_0x51db47['version'],_0x2f62b5=_0x30301c['versionObj'+'ect']['version'],(_0x3abb79['globalId']!==_0x2f62b5['globalId']||_0x3abb79['revision']!==_0x2f62b5['revision'])&&(_0x3abb79['globalId']=_0x2f62b5['globalId'],_0x3abb79['revision']=_0x2f62b5['revision'],_0x30301c['value']!==null&&this['commitFunc'+'tion'][_0x51db47['dataType']](_0x51db47,_0x30301c['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x367945['bindBuffer'+'Base'](_0x367945['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x46*0x7d+0x10ba+0x1174,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x367945['beginTrans'+'formFeedba'+'ck'](_0x367945['POINTS']));const _0x1cafe8=this['glPrimitiv'+'e'][_0x4698a7['type']],_0x39d264=_0x4698a7['count'],_0x421e00=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery');let _0x4d0adb=_0x367945['createQuer'+'y']();if(_0x421e00?_0x367945['beginQuery'](_0x421e00['TIME_ELAPS'+'ED_EXT'],_0x4d0adb):_0x4d0adb=null,_0x4698a7['indexed']){const _0x47d1d9=this['indexBuffe'+'r'];b['assert'](_0x47d1d9['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x12c00e=_0x47d1d9['impl']['glFormat'],_0x3e091f=_0x4698a7['base']*_0x47d1d9['bytesPerIn'+'dex'];_0x8fe16e>0x232a+-0x22f8*0x1+-0x1*0x32?_0x367945['drawElemen'+'tsInstance'+'d'](_0x1cafe8,_0x39d264,_0x12c00e,_0x3e091f,_0x8fe16e):_0x367945['drawElemen'+'ts'](_0x1cafe8,_0x39d264,_0x12c00e,_0x3e091f);}else{const _0x174783=_0x4698a7['base'];_0x8fe16e>-0x117d+0x2083+-0xf06?_0x367945['drawArrays'+'Instanced'](_0x1cafe8,_0x174783,_0x39d264,_0x8fe16e):_0x367945['drawArrays'](_0x1cafe8,_0x174783,_0x39d264);}_0x421e00&&_0x367945['endQuery'](_0x421e00['TIME_ELAPS'+'ED_EXT']);let _0x37a866=function(_0x6e7cd5,_0x3009d7){return new Promise(_0x227c63=>{const _0x5b2377=performance['now'](),_0x5d11b4=()=>{if(_0x3009d7||_0x227c63(0x1aee+-0x37*0x49+-0xb3f*0x1),_0x6e7cd5['getQueryPa'+'rameter'](_0x3009d7,_0x6e7cd5['QUERY_RESU'+'LT_AVAILAB'+'LE'])){const _0x3b2448=_0x6e7cd5['getQueryPa'+'rameter'](_0x3009d7,_0x6e7cd5['QUERY_RESU'+'LT']);_0x6e7cd5['deleteQuer'+'y'](_0x3009d7),_0x227c63(_0x3b2448);}else{const _0x4c8829=performance['now']()-_0x5b2377,_0x3c954a=_0x4c8829<-0x2042+0x230d+-0x2c1?-0x2*0x131b+-0x1cf2+0x4328:_0x4c8829<-0x121*-0x6+-0x230*-0x7+-0x15b2?-0x23b+-0x1f68+0x869*0x4:-0xcf3+0x51a+0x7dd;setTimeout(_0x5d11b4,_0x3c954a);}};_0x5d11b4();});};Promise['all']([_0x37a866(_0x367945,_0x4d0adb)])['then'](_0x1299f1=>{const _0x395492=_0x1299f1[0xf98+0xae7*0x2+-0x2566]/(0x1316fa+0x19c64e+0x15*-0x168e8),_0x1668e4=_0x1299f1[-0x23c9+0x1*0x2257+0x173]?_0x1299f1[-0xbd*0x2b+-0x1*-0x45+-0x1*-0x1f7b]/(-0xb4796+-0xb1dca+0x25a7a0):'';window['drawReaste'+'rize']=_0x395492,console['log']('Draw\x20call\x20'+'with\x20raste'+'rize\x20took\x20'+_0x395492+'\x20ms',_0x1668e4?'draw\x20call\x20'+'without\x20ra'+'sterize\x20to'+'ok\x20'+_0x1668e4+'\x20ms':'');}),this['transformF'+'eedbackBuf'+'fer']&&(_0x367945['endTransfo'+'rmFeedback'](),_0x367945['bindBuffer'+'Base'](_0x367945['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0xce3*0x1+-0x1be9+-0x7*-0x5d4,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x4698a7['type']]+=_0x4698a7['count']*(_0x8fe16e>0x2c*0x7e+0x5*-0x1c5+0x667*-0x2?_0x8fe16e:-0x741*0x2+-0x1c3*0x13+0x2ffc);}['clear'](_0x123c78){const _0x5b531f=this['defaultCle'+'arOptions'];_0x123c78=_0x123c78||_0x5b531f;const _0xe9fac9=_0x123c78['flags']??_0x5b531f['flags'];if(_0xe9fac9!==0xbeb+0x25e+-0xe49){const _0x43d5de=this['gl'];if(_0xe9fac9&Io){const _0x3fd950=_0x123c78['color']??_0x5b531f['color'],_0x42f707=_0x3fd950[-0x8f5*-0x1+0x18b6+0x297*-0xd],_0x41f35a=_0x3fd950[-0x16f*0x5+0x1*0x20f7+-0x19cb],_0x185d41=_0x3fd950[-0x10b3+-0x6a*0xe+0x1681],_0x1513a9=_0x3fd950[0x14ab+0x27*0x8f+-0x87d*0x5],_0x299c8a=this['clearColor'];(_0x42f707!==_0x299c8a['r']||_0x41f35a!==_0x299c8a['g']||_0x185d41!==_0x299c8a['b']||_0x1513a9!==_0x299c8a['a'])&&(this['gl']['clearColor'](_0x42f707,_0x41f35a,_0x185d41,_0x1513a9),this['clearColor']['set'](_0x42f707,_0x41f35a,_0x185d41,_0x1513a9)),this['setBlendSt'+'ate'](bt['NOBLEND']);}if(_0xe9fac9&Do){const _0x490cb0=_0x123c78['depth']??_0x5b531f['depth'];_0x490cb0!==this['clearDepth']&&(this['gl']['clearDepth'](_0x490cb0),this['clearDepth']=_0x490cb0),this['setDepthSt'+'ate'](us['WRITEDEPTH']);}if(_0xe9fac9&Rh){const _0x17cd76=_0x123c78['stencil']??_0x5b531f['stencil'];_0x17cd76!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x17cd76),this['clearStenc'+'il']=_0x17cd76),_0x43d5de['stencilMas'+'k'](-0x1*0x9b1+0x85e+0x16*0x1b),this['stencilWri'+'teMaskFron'+'t']=0xd7d+0x2467*0x1+-0x30e5*0x1,this['stencilWri'+'teMaskBack']=-0x1*0x191e+0x250f+-0xaf2;}_0x43d5de['clear'](this['glClearFla'+'g'][_0xe9fac9]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x1d6039,_0x36d010,_0x2b974f,_0x463b70,_0x208fbf){const _0x1b5e2d=this['gl'];_0x1b5e2d['readPixels'](_0x1d6039,_0x36d010,_0x2b974f,_0x463b70,_0x1b5e2d['RGBA'],_0x1b5e2d['UNSIGNED_B'+'YTE'],_0x208fbf);}async['readPixels'+'Async'](_0x28ee7f,_0x39d867,_0x10e83b,_0x499226,_0x353bb8){var _0x1f6550;const _0x34cbf3=this['gl'],_0x24dad9=(_0x32353e,_0x1d70e5)=>{const _0x253b8f=_0x34cbf3['fenceSync'](_0x34cbf3['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0x164b*-0x1+-0x358+0x1*0x19a3);return this['submit'](),new Promise((_0x2ca20f,_0x1e95f5)=>{function _0x4eeff3(){const _0x540be1=_0x34cbf3['clientWait'+'Sync'](_0x253b8f,_0x32353e,-0x37e*0x2+0x55*-0x68+0x2984);_0x540be1===_0x34cbf3['WAIT_FAILE'+'D']?(_0x34cbf3['deleteSync'](_0x253b8f),_0x1e95f5(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x540be1===_0x34cbf3['TIMEOUT_EX'+'PIRED']?setTimeout(_0x4eeff3,_0x1d70e5):(_0x34cbf3['deleteSync'](_0x253b8f),_0x2ca20f());}_0x4eeff3();});},_0x21b9d1=(_0x1f6550=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x1a*-0x59+0xbe9+-0x2df):_0x1f6550['impl'],_0x2edf1a=(_0x21b9d1==null?void(-0x25de+-0xc10*0x3+0x1*0x4a0e):_0x21b9d1['_glFormat'])??_0x34cbf3['RGBA'],_0x40c36f=(_0x21b9d1==null?void(0x1c34+0x979+-0x283*0xf):_0x21b9d1['_glPixelTy'+'pe'])??_0x34cbf3['UNSIGNED_B'+'YTE'],_0x6015c1=_0x34cbf3['createBuff'+'er']();return _0x34cbf3['bindBuffer'](_0x34cbf3['PIXEL_PACK'+'_BUFFER'],_0x6015c1),_0x34cbf3['bufferData'](_0x34cbf3['PIXEL_PACK'+'_BUFFER'],_0x353bb8['byteLength'],_0x34cbf3['STREAM_REA'+'D']),_0x34cbf3['readPixels'](_0x28ee7f,_0x39d867,_0x10e83b,_0x499226,_0x2edf1a,_0x40c36f,0x142a+-0x2*-0x1220+0x2*-0x1c35),_0x34cbf3['bindBuffer'](_0x34cbf3['PIXEL_PACK'+'_BUFFER'],null),await _0x24dad9(0x25*-0x13+-0x37*-0x5e+-0x1173*0x1,-0x101*0x1d+0x5*-0x133+0x2330),_0x34cbf3['bindBuffer'](_0x34cbf3['PIXEL_PACK'+'_BUFFER'],_0x6015c1),_0x34cbf3['getBufferS'+'ubData'](_0x34cbf3['PIXEL_PACK'+'_BUFFER'],-0x85*-0x17+-0x1*0x24f7+0x1904,_0x353bb8),_0x34cbf3['bindBuffer'](_0x34cbf3['PIXEL_PACK'+'_BUFFER'],null),_0x34cbf3['deleteBuff'+'er'](_0x6015c1),_0x353bb8;}['readTextur'+'eAsync'](_0xa28db0,_0xf0cdb7,_0xe3d493,_0x594338,_0x17143b,_0xd5fc0e){const _0x2661e8=_0xd5fc0e['face']??0x863+-0x11b*0x20+0x1afd,_0x2908c9=_0xd5fc0e['renderTarg'+'et']??new St({'colorBuffer':_0xa28db0,'depth':!(0x1e*-0x14a+0x2*-0x8d5+-0x3857*-0x1),'face':_0x2661e8});b['assert'](_0x2908c9['colorBuffe'+'r']===_0xa28db0);const _0x432756=new ArrayBuffer(Li['calcLevelG'+'puSize'](_0x594338,_0x17143b,0x1*0x18b9+-0x1e85*-0x1+-0x373d,_0xa28db0['_format'])),_0x1e7721=_0xd5fc0e['data']??new(My(_0xa28db0['_format']))(_0x432756);return this['setRenderT'+'arget'](_0x2908c9),this['initRender'+'Target'](_0x2908c9),new Promise((_0x89aea2,_0x2ad439)=>{this['readPixels'+'Async'](_0xf0cdb7,_0xe3d493,_0x594338,_0x17143b,_0x1e7721)['then'](_0x153723=>{_0xd5fc0e['renderTarg'+'et']||_0x2908c9['destroy'](),_0x89aea2(_0x153723);})['catch'](_0x2ad439);});}['setAlphaTo'+'Coverage'](_0x471430){this['alphaToCov'+'erage']!==_0x471430&&(this['alphaToCov'+'erage']=_0x471430,_0x471430?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x7e5813){if(this['transformF'+'eedbackBuf'+'fer']!==_0x7e5813){this['transformF'+'eedbackBuf'+'fer']=_0x7e5813;const _0x1589e7=this['gl'];_0x7e5813?(this['feedback']||(this['feedback']=_0x1589e7['createTran'+'sformFeedb'+'ack']()),_0x1589e7['bindTransf'+'ormFeedbac'+'k'](_0x1589e7['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x1589e7['bindTransf'+'ormFeedbac'+'k'](_0x1589e7['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0xc2cdd8){this['raster']!==_0xc2cdd8&&(this['raster']=_0xc2cdd8,_0xc2cdd8?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x451e08){if(this['stencil']!==_0x451e08){const _0x28649e=this['gl'];_0x451e08?_0x28649e['enable'](_0x28649e['STENCIL_TE'+'ST']):_0x28649e['disable'](_0x28649e['STENCIL_TE'+'ST']),this['stencil']=_0x451e08;}}['setStencil'+'Func'](_0x3a8115,_0x2f93ad,_0x47099f){(this['stencilFun'+'cFront']!==_0x3a8115||this['stencilRef'+'Front']!==_0x2f93ad||this['stencilMas'+'kFront']!==_0x47099f||this['stencilFun'+'cBack']!==_0x3a8115||this['stencilRef'+'Back']!==_0x2f93ad||this['stencilMas'+'kBack']!==_0x47099f)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x3a8115],_0x2f93ad,_0x47099f),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x3a8115,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x2f93ad,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x47099f);}['setStencil'+'FuncFront'](_0x2d6493,_0xcd8f77,_0x5366b9){if(this['stencilFun'+'cFront']!==_0x2d6493||this['stencilRef'+'Front']!==_0xcd8f77||this['stencilMas'+'kFront']!==_0x5366b9){const _0x55973b=this['gl'];_0x55973b['stencilFun'+'cSeparate'](_0x55973b['FRONT'],this['glComparis'+'on'][_0x2d6493],_0xcd8f77,_0x5366b9),this['stencilFun'+'cFront']=_0x2d6493,this['stencilRef'+'Front']=_0xcd8f77,this['stencilMas'+'kFront']=_0x5366b9;}}['setStencil'+'FuncBack'](_0x2e6a1e,_0x4e67b7,_0x24814c){if(this['stencilFun'+'cBack']!==_0x2e6a1e||this['stencilRef'+'Back']!==_0x4e67b7||this['stencilMas'+'kBack']!==_0x24814c){const _0x2f8169=this['gl'];_0x2f8169['stencilFun'+'cSeparate'](_0x2f8169['BACK'],this['glComparis'+'on'][_0x2e6a1e],_0x4e67b7,_0x24814c),this['stencilFun'+'cBack']=_0x2e6a1e,this['stencilRef'+'Back']=_0x4e67b7,this['stencilMas'+'kBack']=_0x24814c;}}['setStencil'+'Operation'](_0x4f7eae,_0x29b063,_0x378b02,_0x713aab){(this['stencilFai'+'lFront']!==_0x4f7eae||this['stencilZfa'+'ilFront']!==_0x29b063||this['stencilZpa'+'ssFront']!==_0x378b02||this['stencilFai'+'lBack']!==_0x4f7eae||this['stencilZfa'+'ilBack']!==_0x29b063||this['stencilZpa'+'ssBack']!==_0x378b02)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x4f7eae],this['glStencilO'+'p'][_0x29b063],this['glStencilO'+'p'][_0x378b02]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x4f7eae,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x29b063,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x378b02),(this['stencilWri'+'teMaskFron'+'t']!==_0x713aab||this['stencilWri'+'teMaskBack']!==_0x713aab)&&(this['gl']['stencilMas'+'k'](_0x713aab),this['stencilWri'+'teMaskFron'+'t']=_0x713aab,this['stencilWri'+'teMaskBack']=_0x713aab);}['setStencil'+'OperationF'+'ront'](_0x3d8710,_0x5f2760,_0x81d090,_0x2de741){(this['stencilFai'+'lFront']!==_0x3d8710||this['stencilZfa'+'ilFront']!==_0x5f2760||this['stencilZpa'+'ssFront']!==_0x81d090)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x3d8710],this['glStencilO'+'p'][_0x5f2760],this['glStencilO'+'p'][_0x81d090]),this['stencilFai'+'lFront']=_0x3d8710,this['stencilZfa'+'ilFront']=_0x5f2760,this['stencilZpa'+'ssFront']=_0x81d090),this['stencilWri'+'teMaskFron'+'t']!==_0x2de741&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x2de741),this['stencilWri'+'teMaskFron'+'t']=_0x2de741);}['setStencil'+'OperationB'+'ack'](_0x1451f8,_0x9c78e9,_0x532eb9,_0x45f475){(this['stencilFai'+'lBack']!==_0x1451f8||this['stencilZfa'+'ilBack']!==_0x9c78e9||this['stencilZpa'+'ssBack']!==_0x532eb9)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x1451f8],this['glStencilO'+'p'][_0x9c78e9],this['glStencilO'+'p'][_0x532eb9]),this['stencilFai'+'lBack']=_0x1451f8,this['stencilZfa'+'ilBack']=_0x9c78e9,this['stencilZpa'+'ssBack']=_0x532eb9),this['stencilWri'+'teMaskBack']!==_0x45f475&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x45f475),this['stencilWri'+'teMaskBack']=_0x45f475);}['setBlendSt'+'ate'](_0x5bd075){const _0x34cd65=this['blendState'];if(!_0x34cd65['equals'](_0x5bd075)){const _0x5c7fa4=this['gl'],{blend:_0x3526ea,colorOp:_0x44cf50,alphaOp:_0x41ac29,colorSrcFactor:_0x48a506,colorDstFactor:_0xeb2c34,alphaSrcFactor:_0x138d39,alphaDstFactor:_0x5bd5d4}=_0x5bd075;if(_0x34cd65['blend']!==_0x3526ea&&(_0x3526ea?_0x5c7fa4['enable'](_0x5c7fa4['BLEND']):_0x5c7fa4['disable'](_0x5c7fa4['BLEND'])),_0x34cd65['colorOp']!==_0x44cf50||_0x34cd65['alphaOp']!==_0x41ac29){const _0x1a6413=this['glBlendEqu'+'ation'];_0x5c7fa4['blendEquat'+'ionSeparat'+'e'](_0x1a6413[_0x44cf50],_0x1a6413[_0x41ac29]);}(_0x34cd65['colorSrcFa'+'ctor']!==_0x48a506||_0x34cd65['colorDstFa'+'ctor']!==_0xeb2c34||_0x34cd65['alphaSrcFa'+'ctor']!==_0x138d39||_0x34cd65['alphaDstFa'+'ctor']!==_0x5bd5d4)&&_0x5c7fa4['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x48a506],this['glBlendFun'+'ctionColor'][_0xeb2c34],this['glBlendFun'+'ctionAlpha'][_0x138d39],this['glBlendFun'+'ctionAlpha'][_0x5bd5d4]),_0x34cd65['allWrite']!==_0x5bd075['allWrite']&&this['gl']['colorMask'](_0x5bd075['redWrite'],_0x5bd075['greenWrite'],_0x5bd075['blueWrite'],_0x5bd075['alphaWrite']),_0x34cd65['copy'](_0x5bd075);}}['setBlendCo'+'lor'](_0x33926d,_0x40f5ce,_0x395b89,_0x54b768){const _0x468bf5=this['blendColor'];(_0x33926d!==_0x468bf5['r']||_0x40f5ce!==_0x468bf5['g']||_0x395b89!==_0x468bf5['b']||_0x54b768!==_0x468bf5['a'])&&(this['gl']['blendColor'](_0x33926d,_0x40f5ce,_0x395b89,_0x54b768),_0x468bf5['set'](_0x33926d,_0x40f5ce,_0x395b89,_0x54b768));}['setStencil'+'State'](_0x477303,_0x1efa5e){_0x477303||_0x1efa5e?(this['setStencil'+'Test'](!(-0x164+-0x1*0x740+-0x4*-0x229)),_0x477303===_0x1efa5e?(this['setStencil'+'Func'](_0x477303['func'],_0x477303['ref'],_0x477303['readMask']),this['setStencil'+'Operation'](_0x477303['fail'],_0x477303['zfail'],_0x477303['zpass'],_0x477303['writeMask'])):(_0x477303??(_0x477303=Zs['DEFAULT']),this['setStencil'+'FuncFront'](_0x477303['func'],_0x477303['ref'],_0x477303['readMask']),this['setStencil'+'OperationF'+'ront'](_0x477303['fail'],_0x477303['zfail'],_0x477303['zpass'],_0x477303['writeMask']),_0x1efa5e??(_0x1efa5e=Zs['DEFAULT']),this['setStencil'+'FuncBack'](_0x1efa5e['func'],_0x1efa5e['ref'],_0x1efa5e['readMask']),this['setStencil'+'OperationB'+'ack'](_0x1efa5e['fail'],_0x1efa5e['zfail'],_0x1efa5e['zpass'],_0x1efa5e['writeMask']))):this['setStencil'+'Test'](!(0x2015+-0x1355+-0xcbf));}['setDepthSt'+'ate'](_0x48e6fe){const _0x2e3411=this['depthState'];if(!_0x2e3411['equals'](_0x48e6fe)){const _0x9cd363=this['gl'],_0x55ef25=_0x48e6fe['write'];_0x2e3411['write']!==_0x55ef25&&_0x9cd363['depthMask'](_0x55ef25);let {func:_0x47e7cf,test:_0x57a8d3}=_0x48e6fe;!_0x57a8d3&&_0x55ef25&&(_0x57a8d3=!(-0x1*0x16fc+-0x172c+0x2e28),_0x47e7cf=Ri),_0x2e3411['func']!==_0x47e7cf&&_0x9cd363['depthFunc'](this['glComparis'+'on'][_0x47e7cf]),_0x2e3411['test']!==_0x57a8d3&&(_0x57a8d3?_0x9cd363['enable'](_0x9cd363['DEPTH_TEST']):_0x9cd363['disable'](_0x9cd363['DEPTH_TEST']));const {depthBias:_0x57c802,depthBiasSlope:_0x3a2714}=_0x48e6fe;_0x57c802||_0x3a2714?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x1*-0x1128+0xeaa*0x2+-0xc2c),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x9cd363['polygonOff'+'set'](_0x3a2714,_0x57c802)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(-0x1342+0x2cb+-0x8*-0x20f),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x2e3411['copy'](_0x48e6fe);}}['setCullMod'+'e'](_0x42828f){if(this['cullMode']!==_0x42828f){if(_0x42828f===vt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===vt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0xa7c065=this['glCull'][_0x42828f];this['cullFace']!==_0xa7c065&&(this['gl']['cullFace'](_0xa7c065),this['cullFace']=_0xa7c065);}this['cullMode']=_0x42828f;}}['setShader'](_0x5e4c6c,_0x352fa0=!(-0xe*-0x167+0x5e*0x1+0x13ff*-0x1)){_0x5e4c6c!==this['shader']&&(this['shader']=_0x5e4c6c,this['shaderAsyn'+'cCompile']=_0x352fa0,this['shaderVali'+'d']=void(0x2082+0x71*0x30+-0x1da*0x1d),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0x422573){const {shader:_0x1d359f}=this,{impl:_0x4aca47}=_0x1d359f;this['shaderVali'+'d']===void(-0x5fe+0x978+-0x37a)&&(_0x1d359f['failed']?this['shaderVali'+'d']=!(0x1*0x1a1c+0x190+0x313*-0x9):_0x1d359f['ready']||(this['shaderAsyn'+'cCompile']?_0x4aca47['isLinked'](_0x422573)?_0x4aca47['finalize'](this,_0x1d359f)||(_0x1d359f['failed']=!(0x427*0x5+-0x7*-0xa+-0x1509*0x1),this['shaderVali'+'d']=!(0xd*0x69+-0x5a*-0x42+-0x1c88)):this['shaderVali'+'d']=!(-0x5*0x445+0x24f3+-0xf99*0x1):_0x4aca47['finalize'](this,_0x1d359f)||(_0x1d359f['failed']=!(-0x80a+-0x1*0x493+-0xc9d*-0x1),this['shaderVali'+'d']=!(0x48f+-0xb*-0x2bd+0x10d*-0x21)))),this['shaderVali'+'d']===void(0x1*-0x2443+-0xc40+0x3083)&&(this['gl']['useProgram'](_0x4aca47['glProgram']),this['shaderVali'+'d']=!(-0x630+0x12cf*-0x1+0x1b*0xed));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x83be07=this['gl'];this['_vaoMap']['forEach']((_0x3ca409,_0x86665b,_0x477a70)=>{_0x83be07['deleteVert'+'exArray'](_0x3ca409);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x510087){_0x510087?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x1a2420=-0xf20+0x41*0x8f+-0x14cb){const _0x1f0891=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x1f0891['loseContex'+'t'](),setTimeout(()=>_0x1f0891['restoreCon'+'text'](),_0x1a2420);}}let mb=0x25b+-0x587+-0xe*-0x3a;class cr{constructor(_0x100dac,_0x4c2c9b,_0x2e4a22,_0x43729d=ts,_0x27bbfc,_0x36496f){this['device']=_0x100dac,this['format']=_0x4c2c9b,this['numIndices']=_0x2e4a22,this['usage']=_0x43729d,this['id']=mb++,this['impl']=_0x100dac['createInde'+'xBufferImp'+'l'](this,_0x36496f);const _0x233060=vv[_0x4c2c9b];this['bytesPerIn'+'dex']=_0x233060,this['numBytes']=this['numIndices']*_0x233060,_0x27bbfc?this['setData'](_0x27bbfc):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x100dac['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x383a79=this['device'],_0x3da378=_0x383a79['buffers']['indexOf'](this);_0x3da378!==-(-0x257c+-0xb7*-0x8+0x3*0xa97)&&_0x383a79['buffers']['splice'](_0x3da378,0xfd+-0xe3f+0xd43),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x383a79),this['adjustVram'+'SizeTracki'+'ng'](_0x383a79['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x528f7f,_0x26ac5d){b['trace'](Qx,this['id']+'\x20size:\x20'+_0x26ac5d+'\x20vram.ib:\x20'+_0x528f7f['ib']+'\x20=>\x20'+(_0x528f7f['ib']+_0x26ac5d)),_0x528f7f['ib']+=_0x26ac5d;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x5929a8){return _0x5929a8['byteLength']!==this['numBytes']?(b['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x5929a8['byteLength']),!(-0x1ba5+0x255c+-0x9b6)):(this['storage']=_0x5929a8,this['unlock'](),!(0xf55+0x1eef+-0x2e44));}['_lockTyped'+'Array'](){const _0x8091a1=this['lock']();return this['format']===or?new Uint32Array(_0x8091a1):this['format']===Fi?new Uint16Array(_0x8091a1):new Uint8Array(_0x8091a1);}['writeData'](_0x328cc9,_0x4070c6){const _0x29d583=this['_lockTyped'+'Array']();if(_0x328cc9['length']>_0x4070c6){if(ArrayBuffer['isView'](_0x328cc9))_0x328cc9=_0x328cc9['subarray'](-0xc83*-0x1+0x1ca7+-0x1df*0x16,_0x4070c6),_0x29d583['set'](_0x328cc9);else{for(let _0x2febde=0x14d+0x19*-0x67+0x3b*0x26;_0x2febde<_0x4070c6;_0x2febde++)_0x29d583[_0x2febde]=_0x328cc9[_0x2febde];}}else _0x29d583['set'](_0x328cc9);this['unlock']();}['readData'](_0x1e3c0b){const _0x14052a=this['_lockTyped'+'Array'](),_0x581141=this['numIndices'];if(ArrayBuffer['isView'](_0x1e3c0b))_0x1e3c0b['set'](_0x14052a);else{_0x1e3c0b['length']=0x7f*-0x1d+0x1*-0x1c1a+-0x1*-0x2a7d;for(let _0x21bb9a=-0x845*-0x3+-0x317*-0x3+0x4*-0x885;_0x21bb9a<_0x581141;_0x21bb9a++)_0x1e3c0b[_0x21bb9a]=_0x14052a[_0x21bb9a];}return _0x581141;}}class _b{constructor(){c(this,'clearValue',new Y(-0x12b*-0x17+-0xdd2+-0xd0b,0x21a3+0x1d*-0x9+-0x209e,0x3cd*-0x7+-0x2284+0x3d1f,-0x3*-0xb12+-0x248d*0x1+0x358)),c(this,'clearValue'+'Linear',new Y(0x143+0x343+-0x486,0x42c+0x1bd5*-0x1+0x2a1*0x9,0x11fa+0x14d5+0x7c3*-0x5,0x229a+0x506+-0x279f)),c(this,'clear',!(-0x30d+0x81e+-0xa2*0x8)),c(this,'store',!(0x1fc0+0x1a8c+-0x3a4b)),c(this,'resolve',!(0x163d+0x1*0x25e9+-0x3c26)),c(this,'genMipmaps',!(0x3*0xe2+0x20c*-0x7+-0x1*-0xbaf));}}class gb{constructor(){c(this,'clearDepth'+'Value',-0x1*0x9c0+-0x530*0x1+0x11*0xe1),c(this,'clearStenc'+'ilValue',-0x1b9b+-0x1f69+-0x2*-0x1d82),c(this,'clearDepth',!(0x1e*0xa3+-0x61*0xd+-0x4*0x38b)),c(this,'clearStenc'+'il',!(0x2494+0xd03*-0x3+-0x15*-0x1e)),c(this,'storeDepth',!(-0x334*-0x3+-0xf6e+0x15*0x47)),c(this,'resolveDep'+'th',!(0x1*-0x2216+0x69*-0x33+0x1b81*0x2)),c(this,'storeStenc'+'il',!(0x217*0xf+0xee5+0x1*-0x2e3d));}}class gs{constructor(_0x8a30bb){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(0x71*0x13+-0xe09*-0x2+0x40d*-0x9)),c(this,'_skipStart',!(0xa*-0x116+0x279*0x7+-0x6*0x113)),c(this,'_skipEnd',!(0x2bb*-0x1+-0x200d+0xd*0x2ad)),c(this,'executeEna'+'bled',!(0x1cfe+0x1*-0x270c+0x6*0x1ad)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',-0x1f1b+0x1713+-0x808*-0x1),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(-0xca3*0x1+0x2*0xb51+-0x9ff)),c(this,'fullSizeCl'+'earRect',!(-0x4*-0x3f+0x11d4+0x1*-0x12d0)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(b['assert'](_0x8a30bb),this['device']=_0x8a30bb);}get['colorOps'](){return this['colorArray'+'Ops'][-0x1cf3*-0x1+-0x37*-0x3b+-0x29a0];}set['name'](_0x32e3c9){this['_name']=_0x32e3c9;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x1f922f){b['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x1f922f;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x28ea0a){b['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x28ea0a;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x224042){this['_options']=_0x224042,_0x224042&&(this['scaleX']=this['scaleX']??-0x1*0x1da2+-0x903+0x1353*0x2,this['scaleY']=this['scaleY']??-0x2465+-0x23*-0xb9+0xb1b);}get['options'](){return this['_options'];}['init'](_0x664da7=null,_0x23e1c6){this['options']=_0x23e1c6,this['renderTarg'+'et']=_0x664da7,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],-0xb87*-0x3+-0x1cf8+0x167*-0x4),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x4e9716,_0x1d5e72,_0x4144f3,_0x1a4ed8;const _0x391dca=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0x391dca!=null&&_0x391dca['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(0x1b2c+-0x51*-0x61+-0x39dd));const _0x2f7e53=_0x391dca?((_0x4e9716=_0x391dca['_colorBuff'+'ers'])==null?void(-0x163b+-0xa*-0x2c0+-0x1*0x545):_0x4e9716['length'])??-0xbf*0xf+0x16ca+-0xb99:0xe*-0x86+0xb37+-0x8e*0x7;this['colorArray'+'Ops']['length']=0x13ad+-0x192*-0xe+-0x29a9;for(let _0x253902=0x17b*-0x3+0x1f81+-0x1b10;_0x253902<_0x2f7e53;_0x253902++){const _0x381692=new _b();this['colorArray'+'Ops'][_0x253902]=_0x381692,this['samples']===-0x20ef+-0x1f95+0x4085&&(_0x381692['store']=!(-0xfc7+-0x2*0x14f+-0x115*-0x11),_0x381692['resolve']=!(-0xa23+-0x7c*0x1b+0x1738));const _0x1ee101=(_0x4144f3=(_0x1d5e72=this['renderTarg'+'et'])==null?void(0x1*-0x2191+0xc50+0x1541):_0x1d5e72['_colorBuff'+'ers'])==null?void(-0x6b*-0x3+-0xf9f+-0x2*-0x72f):_0x4144f3[_0x253902];if((_0x1a4ed8=this['renderTarg'+'et'])!=null&&_0x1a4ed8['mipmaps']&&(_0x1ee101!=null&&_0x1ee101['mipmaps'])){const _0x3dd32e=sa(_0x1ee101['_format']);_0x381692['genMipmaps']=!_0x3dd32e;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x4f2e14=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x336918=Math['floor'](_0x4f2e14['width']*this['scaleX']),_0x58dd7f=Math['floor'](_0x4f2e14['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x336918,_0x58dd7f);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x316df2){this['_enabled']!==_0x316df2&&(this['_enabled']=_0x316df2,_0x316df2?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x5a158d){const _0x58d3f5=this['colorArray'+'Ops']['length'];for(let _0x3cc0e7=-0x24fb+0x1e2+0x2319;_0x3cc0e7<_0x58d3f5;_0x3cc0e7++){const _0x3c2558=this['colorArray'+'Ops'][_0x3cc0e7];_0x5a158d&&(_0x3c2558['clearValue']['copy'](_0x5a158d),_0x3c2558['clearValue'+'Linear']['linear'](_0x5a158d)),_0x3c2558['clear']=!!_0x5a158d;}}['setClearDe'+'pth'](_0x2f4dd1){_0x2f4dd1&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x2f4dd1),this['depthStenc'+'ilOps']['clearDepth']=_0x2f4dd1!==void(-0x967+0x4f*-0x52+-0x6f1*-0x5);}['setClearSt'+'encil'](_0x46926d){_0x46926d&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x46926d),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x46926d!==void(0x21d6*0x1+0x12a5*-0x2+-0x11*-0x34);}['render'](){if(this['enabled']){const _0xdbc3f9=this['device'],_0x394ed6=this['renderTarg'+'et']!==void(-0x23a2*-0x1+-0x2*0x9e4+-0xfda);b['call'](()=>{this['log'](_0xdbc3f9,_0xdbc3f9['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x394ed6&&!this['_skipStart']&&_0xdbc3f9['startRende'+'rPass'](this),this['execute'](),_0x394ed6&&!this['_skipEnd']&&_0xdbc3f9['endRenderP'+'ass'](this)),this['after'](),_0xdbc3f9['renderPass'+'Index']++;}}['log'](_0xe8e81b,_0x3b780c=0x16dd+-0x21*0x92+0xcf*-0x5){var _0x20c1c2,_0x5cee26,_0x5903de;if(Qs['get'](Yp)||Qs['get'](ta)){const _0x22bcbb=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0xe8e81b['backBuffer']:null),_0x560d0c=!!(_0x22bcbb!=null&&_0x22bcbb['impl']['assignedCo'+'lorTexture'])||(_0x22bcbb==null?void(-0x1d99+-0xff+0x1e98):_0x22bcbb['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(0xbd5+-0x1506+0x931),_0x33f6d7=((_0x20c1c2=_0x22bcbb==null?void(-0x1f*-0x117+-0x2*-0xd6f+-0x1*0x3ca7):_0x22bcbb['_colorBuff'+'ers'])==null?void(-0xa12+0x115a*0x1+-0x748):_0x20c1c2['length'])??(_0x560d0c?0x11e8+0x5*0x7a+-0x1449:0x321+-0x1e5f+0x1b3e),_0x2a1682=_0x22bcbb==null?void(-0x21a+0xa6c+-0x429*0x2):_0x22bcbb['depth'],_0x2e3b02=_0x22bcbb==null?void(-0xff3+-0xc1+0x42d*0x4):_0x22bcbb['stencil'],_0x526e61=_0x22bcbb==null?void(-0x1854+0x4*-0x493+-0x20*-0x155):_0x22bcbb['mipLevel'],_0x569355=_0x22bcbb?'\x20RT:\x20'+(_0x22bcbb?_0x22bcbb['name']:'NULL')+'\x20'+(_0x33f6d7>0x3*0x26f+-0x26a2+0x1f55?'[Color'+(_0x33f6d7>0x1b4e+0x52*-0x5e+0x2cf?'\x20x\x20'+_0x33f6d7:'')+']':'')+(_0x2a1682?'[Depth]':'')+(_0x2e3b02?'[Stencil]':'')+'\x20'+_0x22bcbb['width']+'\x20x\x20'+_0x22bcbb['height']+(this['samples']>-0x1ef8+-0x140a+0x1*0x3302?'\x20samples:\x20'+this['samples']:'')+(_0x526e61>0x1*-0xe52+-0x25*0xd3+-0x95*-0x4d?'\x20mipLevel:'+'\x20'+_0x526e61:''):'',_0x1386b7=this['_skipStart']?'++':_0x3b780c['toString']()['padEnd'](0x21a1*-0x1+-0xb0*0x1+0x2253,'\x20');b['trace'](Yp,_0x1386b7+':\x20'+this['name']['padEnd'](-0x1681+-0xb44+0x21d9,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x569355['padEnd'](-0x1bd3+0x1b*0x1b+0x1918));for(let _0x144c78=0x794+0xf30+-0x16c4;_0x144c78<_0x33f6d7;_0x144c78++){const _0x2984ef=this['colorArray'+'Ops'][_0x144c78],_0x326d81=(_0x5cee26=At['get'](_0x560d0c?_0xe8e81b['backBuffer'+'Format']:_0x22bcbb['getColorBu'+'ffer'](_0x144c78)['format']))==null?void(-0x20b5+-0x2b*0x5c+-0x1*-0x3029):_0x5cee26['name'];b['trace'](ta,'\x20\x20\x20\x20color['+_0x144c78+']:\x20'+(_0x2984ef['clear']?'clear':'load')+'->'+(_0x2984ef['store']?'store':'discard')+'\x20'+(_0x2984ef['resolve']?'resolve\x20':'')+(_0x2984ef['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x326d81+']\x20'+(_0x2984ef['clear']?'[clear:\x20'+_0x2984ef['clearValue']['toString'](!(-0x2147+-0x143+-0x228a*-0x1),!(0x1819+0x30b*-0x5+-0x8e2))+']':''));}if(this['depthStenc'+'ilOps']){const _0xfd62a6=''+(_0x22bcbb['depthBuffe'+'r']?'\x20[format:\x20'+((_0x5903de=At['get'](_0x22bcbb['depthBuffe'+'r']['format']))==null?void(0x1*-0x464+-0x1daf+0xd*0x29f):_0x5903de['name'])+']':'');_0x2a1682&&b['trace'](ta,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0xfd62a6+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x2e3b02&&b['trace'](ta,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0xfd62a6+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x27721f){this['array'][this['index']]=_0x27721f;}function xb(_0x11ee80,_0x4ed275){this['array'][this['index']]=_0x11ee80,this['array'][this['index']+(-0x2c*-0x8+0x959+-0xab8)]=_0x4ed275;}function Sb(_0x3c1f89,_0x5852b4,_0x11168b){this['array'][this['index']]=_0x3c1f89,this['array'][this['index']+(0x17d*-0xe+-0xafb+0x1fd2)]=_0x5852b4,this['array'][this['index']+(-0x1f*-0x119+-0x1e1c+-0x3e9)]=_0x11168b;}function vb(_0x11f2a9,_0x308608,_0x1b9863,_0x46496c){this['array'][this['index']]=_0x11f2a9,this['array'][this['index']+(0x1*0x812+-0x1190+-0x11*-0x8f)]=_0x308608,this['array'][this['index']+(0x17f*-0x2+-0x996+0xc96)]=_0x1b9863,this['array'][this['index']+(-0x979+-0x1f*0xef+0x266d)]=_0x46496c;}function bb(_0x4dfab5,_0x3a01ee,_0x1666bd){this['array'][_0x4dfab5]=_0x3a01ee[_0x1666bd];}function wb(_0x201d06,_0x2f8506,_0x59d90a){this['array'][_0x201d06]=_0x2f8506[_0x59d90a],this['array'][_0x201d06+(-0x203c+-0xa62*-0x1+0x15db)]=_0x2f8506[_0x59d90a+(-0x113c+0x2029+-0x14*0xbf)];}function Tb(_0x146793,_0x5bd7b4,_0x272da9){this['array'][_0x146793]=_0x5bd7b4[_0x272da9],this['array'][_0x146793+(0xd8a+-0x1df3+0x106a)]=_0x5bd7b4[_0x272da9+(0x1c5e+0x25e1+-0x8b*0x7a)],this['array'][_0x146793+(0xe*0x194+0x1957+-0x2f6d)]=_0x5bd7b4[_0x272da9+(-0xc5f+0x279*-0x1+-0x2*-0x76d)];}function Ab(_0x44e271,_0x4cf2d8,_0x2fbf57){this['array'][_0x44e271]=_0x4cf2d8[_0x2fbf57],this['array'][_0x44e271+(0x2656+0x24b4+0x3*-0x1903)]=_0x4cf2d8[_0x2fbf57+(0x23b*0x9+-0x78+-0x139a)],this['array'][_0x44e271+(-0x16a7+-0x1*-0x76d+0x96*0x1a)]=_0x4cf2d8[_0x2fbf57+(0x1c0e*-0x1+-0xed0+-0x310*-0xe)],this['array'][_0x44e271+(0xe38+-0x1*0x1df5+0x3*0x540)]=_0x4cf2d8[_0x2fbf57+(-0x1b2e+-0x1e+0x1b4f)];}function Eb(_0x4077d7,_0x481812,_0x483a14){_0x481812[_0x483a14]=this['array'][_0x4077d7];}function Cb(_0x37b9dd,_0x3644b5,_0x7cabfe){_0x3644b5[_0x7cabfe]=this['array'][_0x37b9dd],_0x3644b5[_0x7cabfe+(0x18b0+-0xc41+-0xc6e)]=this['array'][_0x37b9dd+(0x17*0x161+-0x8*0xbc+-0x19d6*0x1)];}function Mb(_0x1e1799,_0x4a7742,_0x168923){_0x4a7742[_0x168923]=this['array'][_0x1e1799],_0x4a7742[_0x168923+(-0x121a+0x1279+0x2f*-0x2)]=this['array'][_0x1e1799+(-0x11*-0xa7+-0x132f+0x819)],_0x4a7742[_0x168923+(-0x238e+-0x1*-0x25fb+-0x26b)]=this['array'][_0x1e1799+(0x1*-0x16b+0x8d*0x11+-0x10*0x7f)];}function Pb(_0x4c4c03,_0x1ee1fb,_0x5ab0f9){_0x1ee1fb[_0x5ab0f9]=this['array'][_0x4c4c03],_0x1ee1fb[_0x5ab0f9+(-0x2*-0xcdd+-0x4e2+0x1e5*-0xb)]=this['array'][_0x4c4c03+(0xd*-0x275+0x46b+0x1b87)],_0x1ee1fb[_0x5ab0f9+(0x1*-0xa5e+0x55*-0x13+0x10af)]=this['array'][_0x4c4c03+(-0x209f+-0x1*0x1321+0x33c2)],_0x1ee1fb[_0x5ab0f9+(-0x1bb3+-0x2385+0x3f3b)]=this['array'][_0x4c4c03+(0x2*-0x11f9+-0x236e+0x11*0x433)];}class Rb{constructor(_0x1df8b2,_0x291d22,_0x577bd7){switch(this['index']=-0x283*0x1+0x17ee+-0x156b,this['numCompone'+'nts']=_0x291d22['numCompone'+'nts'],_0x577bd7['interleave'+'d']?this['array']=new fa[_0x291d22['dataType']](_0x1df8b2,_0x291d22['offset']):this['array']=new fa[_0x291d22['dataType']](_0x1df8b2,_0x291d22['offset'],_0x577bd7['vertexCoun'+'t']*_0x291d22['numCompone'+'nts']),this['stride']=_0x291d22['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x291d22['numCompone'+'nts']){case-0x5*0xb2+-0x6*-0x49+0x97*0x3:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case-0x2367+-0x17*0x71+0x10*0x2d9:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case 0x10ab*0x2+-0xf95+0x8df*-0x2:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case-0x5*0x1cb+0x1*-0xeea+0x17e5:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x1ffa1c){return this['array'][this['index']+_0x1ffa1c];}['set'](_0x460da5,_0x5942bc,_0xd6366e,_0x944fe0){}['getToArray'](_0x9160fc,_0x2f1bc2,_0x5c3af1){}['setFromArr'+'ay'](_0x596643,_0x3953a2,_0x510e45){}}class vo{constructor(_0x100f50){this['vertexBuff'+'er']=_0x100f50,this['vertexForm'+'atSize']=_0x100f50['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x185120=this['vertexBuff'+'er']['getFormat']();for(let _0x20cae9=0x84*-0x11+-0x164b*-0x1+-0xd87;_0x20cae9<_0x185120['elements']['length'];_0x20cae9++){const _0x23b84d=_0x185120['elements'][_0x20cae9];this['accessors'][_0x20cae9]=new Rb(this['buffer'],_0x23b84d,_0x185120),this['element'][_0x23b84d['name']]=this['accessors'][_0x20cae9];}}['next'](_0x179652=-0x1*0x1597+0x11a4+0x2e*0x16){let _0xce1cea=0x11c*-0xd+0x1*-0xbc3+0x1a2f;const _0x3463c0=this['accessors'],_0x26bbb9=this['accessors']['length'];for(;_0xce1cea<_0x26bbb9;){const _0x5376d2=_0x3463c0[_0xce1cea++];_0x5376d2['index']+=_0x179652*_0x5376d2['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x2d5fa3,_0x548bf5,_0x5764be){const _0x182085=this['element'][_0x2d5fa3];if(_0x182085){_0x5764be>this['vertexBuff'+'er']['numVertice'+'s']&&(b['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x5764be+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x5764be=this['vertexBuff'+'er']['numVertice'+'s']);const _0x1b23e8=_0x182085['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x19b853=0x2449*-0x1+0x2d6+0x2173;for(let _0x2ee7e2=-0x161*0x16+0x512+-0x3*-0x86c;_0x2ee7e2<_0x5764be;_0x2ee7e2++)_0x182085['setFromArr'+'ay'](_0x19b853,_0x548bf5,_0x2ee7e2*_0x1b23e8),_0x19b853+=_0x182085['stride'];}else{if(_0x548bf5['length']>_0x5764be*_0x1b23e8){const _0x4965a7=_0x5764be*_0x1b23e8;if(ArrayBuffer['isView'](_0x548bf5))_0x548bf5=_0x548bf5['subarray'](0x1*0x18b3+-0x17d3+0x2*-0x70,_0x4965a7),_0x182085['array']['set'](_0x548bf5);else{for(let _0x34a00c=-0x4*0x283+-0xe6*0x19+0x2082;_0x34a00c<_0x4965a7;_0x34a00c++)_0x182085['array'][_0x34a00c]=_0x548bf5[_0x34a00c];}}else _0x182085['array']['set'](_0x548bf5);}}}['readData'](_0xecbd12,_0x2a659e){const _0x1be1ee=this['element'][_0xecbd12];let _0x3a0c58=0x1972+0x10d*0x5+-0x1eb3;if(_0x1be1ee){_0x3a0c58=this['vertexBuff'+'er']['numVertice'+'s'];let _0x2ecb01;const _0x1c6ae5=_0x1be1ee['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x2a659e)&&(_0x2a659e['length']=0x16c4+-0x178+-0x154c),_0x1be1ee['index']=0x1b4f+0xd44+-0x2893*0x1;let _0x207de7=-0x200f+-0x63*0x39+0x361a;for(_0x2ecb01=0xe7e+0x7a*0x3d+-0x2b90;_0x2ecb01<_0x3a0c58;_0x2ecb01++)_0x1be1ee['getToArray'](_0x207de7,_0x2a659e,_0x2ecb01*_0x1c6ae5),_0x207de7+=_0x1be1ee['stride'];}else{if(ArrayBuffer['isView'](_0x2a659e))_0x2a659e['set'](_0x1be1ee['array']);else{_0x2a659e['length']=-0x14+-0xe0d+0x1*0xe21;const _0x4c5611=_0x3a0c58*_0x1c6ae5;for(_0x2ecb01=-0x1e1e+-0x3*0x819+-0x1223*-0x3;_0x2ecb01<_0x4c5611;_0x2ecb01++)_0x2a659e[_0x2ecb01]=_0x1be1ee['array'][_0x2ecb01];}}}return _0x3a0c58;}}const Dm='mousedown',Lm='mousemove',Fm='mouseup',Du='mousewheel',Ib=-(-0x1490+0x5*-0xda+0x18d3*0x1);class Db{constructor(_0x3ef6f9,_0x4ad509){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x4ad509&&(this['key']=_0x4ad509['keyCode'],this['element']=_0x4ad509['target'],this['event']=_0x4ad509);}}const Al=new Db();function gd(_0x56fd87){return Al['key']=_0x56fd87['keyCode'],Al['element']=_0x56fd87['target'],Al['event']=_0x56fd87,Al;}function El(_0x4ee7f1){return typeof _0x4ee7f1=='string'?_0x4ee7f1['toUpperCas'+'e']()['charCodeAt'](0x3*0x137+0x1577+-0x191c):_0x4ee7f1;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class km extends de{constructor(_0x5afcfa,_0x901bf6={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x5afcfa&&this['attach'](_0x5afcfa),this['preventDef'+'ault']=_0x901bf6['preventDef'+'ault']||!(0x274*-0x3+0xb7*0x32+-0x1c61),this['stopPropag'+'ation']=_0x901bf6['stopPropag'+'ation']||!(0xec0+0x245d+0x4*-0xcc7));}['attach'](_0x202faa){this['_element']&&this['detach'](),this['_element']=_0x202faa,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0x1d2b+0x949*0x3+-0x1*-0x151)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(-0x1e2f+0x1b0d+0x323)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0x154d+-0x7cd*0x1+-0x1*-0x1d1b)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x7*0x417+0x1b65+0x13d)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(-0x16*-0x7d+0xe4*0x1f+-0x2659*0x1));}['detach'](){if(!this['_element']){b['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x2b*0xe2+-0x125+-0x2*-0x138e)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0x6*0x117+-0xdd*0x18+0xe2f));}['toKeyIdent'+'ifier'](_0x11a134){_0x11a134=El(_0x11a134);const _0x3b67d7=Lb[_0x11a134['toString']()];if(_0x3b67d7)return _0x3b67d7;let _0x6b02db=_0x11a134['toString'](0x2b5+0x10*-0x8f+0x64b)['toUpperCas'+'e']();const _0x344d57=_0x6b02db['length'];for(let _0x549e1d=-0xcb1+0x10c6+-0x415;_0x549e1d<-0x1ad0*-0x1+0x1*0x19fb+-0x34c7-_0x344d57;_0x549e1d++)_0x6b02db='0'+_0x6b02db;return'U+'+_0x6b02db;}['_handleKey'+'Down'](_0x530440){const _0xfa2aa7=_0x530440['keyCode']||_0x530440['charCode'];if(_0xfa2aa7===void(0xe18+-0x161*-0x1+-0xf79))return;const _0x4343c2=this['toKeyIdent'+'ifier'](_0xfa2aa7);this['_keymap'][_0x4343c2]=!(0x1dd9+-0x2387+-0x2d7*-0x2),this['fire']('keydown',gd(_0x530440)),this['preventDef'+'ault']&&_0x530440['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x530440['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x415253){const _0x4b8376=_0x415253['keyCode']||_0x415253['charCode'];if(_0x4b8376===void(-0x2050+0x1741+0x90f))return;const _0x396620=this['toKeyIdent'+'ifier'](_0x4b8376);delete this['_keymap'][_0x396620],this['fire']('keyup',gd(_0x415253)),this['preventDef'+'ault']&&_0x415253['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x415253['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x53cd1f){this['fire']('keypress',gd(_0x53cd1f)),this['preventDef'+'ault']&&_0x53cd1f['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x53cd1f['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x432e23 in this['_lastmap'])delete this['_lastmap'][_0x432e23];for(const _0x48f4e7 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x48f4e7)&&(this['_lastmap'][_0x48f4e7]=this['_keymap'][_0x48f4e7]);}['isPressed'](_0x1b4b69){const _0x5f12b1=El(_0x1b4b69),_0x2c360d=this['toKeyIdent'+'ifier'](_0x5f12b1);return!!this['_keymap'][_0x2c360d];}['wasPressed'](_0x5868b1){const _0x45c08a=El(_0x5868b1),_0x1940d2=this['toKeyIdent'+'ifier'](_0x45c08a);return!!this['_keymap'][_0x1940d2]&&!this['_lastmap'][_0x1940d2];}['wasRelease'+'d'](_0x1cf9cb){const _0x5d0378=El(_0x1cf9cb),_0x4b137e=this['toKeyIdent'+'ifier'](_0x5d0378);return!this['_keymap'][_0x4b137e]&&!!this['_lastmap'][_0x4b137e];}}c(km,'EVENT_KEYD'+'OWN','keydown'),c(km,'EVENT_KEYU'+'P','keyup');function Lu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ia{constructor(_0x2f28a5,_0x572dd0){c(this,'x',-0x4a*-0x56+0xc5*0x6+0x31*-0x9a),c(this,'y',0x3*-0x496+0xf2c+0x2*-0xb5),c(this,'dx',0x12c3+-0x2*0xe11+0x95f),c(this,'dy',0x6d3*-0x3+-0xb2c+0x1fa5),c(this,'button',Ib),c(this,'wheelDelta',0x1*-0x1+0xaeb+-0xaea),c(this,'element'),c(this,'ctrlKey',!(-0x3b*-0x61+-0x20b9+-0xf*-0xb1)),c(this,'altKey',!(0x71*0x3f+0x1198+-0x791*0x6)),c(this,'shiftKey',!(0x1d51+0x1ae8+-0x3838)),c(this,'metaKey',!(-0x12b5+0x75e*0x3+-0x1c*0x1f)),c(this,'event');let _0x45fb00={'x':0x0,'y':0x0};if(_0x572dd0){if(_0x572dd0 instanceof ia)throw Error('Expected\x20M'+'ouseEvent');_0x45fb00=_0x2f28a5['_getTarget'+'Coords'](_0x572dd0);}else _0x572dd0={};if(_0x45fb00)this['x']=_0x45fb00['x'],this['y']=_0x45fb00['y'];else{if(Lu())this['x']=0x26d7*-0x1+0x1*0x1ece+0x809*0x1,this['y']=0x19c9+-0xe*0xc7+-0xee7;else return;}_0x572dd0['type']==='wheel'&&(_0x572dd0['deltaY']>0x1b*0xbf+0x106c+0x17*-0x197?this['wheelDelta']=0x9a*0x32+-0x22c7+-0x1*-0x4b4:_0x572dd0['deltaY']<0x1f1*0x13+-0x266b+-0xc4*-0x2&&(this['wheelDelta']=-(0x2*-0xcf5+-0xba7+-0x1ca*-0x15))),Lu()?(this['dx']=_0x572dd0['movementX']||_0x572dd0['webkitMove'+'mentX']||_0x572dd0['mozMovemen'+'tX']||-0x11c3+0x180b+-0x648,this['dy']=_0x572dd0['movementY']||_0x572dd0['webkitMove'+'mentY']||_0x572dd0['mozMovemen'+'tY']||0x98c+-0x13ab+0xa1f*0x1):(this['dx']=this['x']-_0x2f28a5['_lastX'],this['dy']=this['y']-_0x2f28a5['_lastY']),(_0x572dd0['type']==='mousedown'||_0x572dd0['type']==='mouseup')&&(this['button']=_0x572dd0['button']),this['buttons']=_0x2f28a5['_buttons']['slice'](0x40*-0x85+-0x83*-0xb+0x1b9f),this['element']=_0x572dd0['target'],this['ctrlKey']=_0x572dd0['ctrlKey']??!(-0x79*0x49+0x6cb*-0x1+0x294d),this['altKey']=_0x572dd0['altKey']??!(0x5*0x61c+0x1*-0x2471+0x1*0x5e6),this['shiftKey']=_0x572dd0['shiftKey']??!(0x1*-0x1dcf+0x10ed+0xce3),this['metaKey']=_0x572dd0['metaKey']??!(0x1180+-0x4f*0x6+-0xfa5),this['event']=_0x572dd0;}}class Cl extends de{constructor(_0x365fd6){super(),c(this,'_lastX',-0x1a39+-0x409*0x1+0x1e42),c(this,'_lastY',-0x16f9+-0x15ca+0x2cc3),c(this,'_buttons',[!(0x1*0x3dc+0x90b+-0xce6*0x1),!(-0x888+-0x180e+0x2097),!(0xe68*0x2+-0x3e*-0x19+-0x1a9*0x15)]),c(this,'_lastbutto'+'ns',[!(-0x14f*0x7+0x865+0x1*0xc5),!(-0x1566+0x1010+0x557),!(0x729+0xbf*0x14+-0x1614)]),c(this,'_target',null),c(this,'_attached',!(0x1*-0x1a41+0x2*-0x11fe+0x3e3e)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x55b0e2=>{_0x55b0e2['preventDef'+'ault']();},this['attach'](_0x365fd6));}static['isPointerL'+'ocked'](){return Lu();}['attach'](_0x1c195f){if(this['_target']=_0x1c195f,this['_attached'])return;this['_attached']=!(0x2*-0x111e+0x5*-0x1e5+0x2bb5);const _0x3bb33f={'passive':!(0x529+-0x1de6+0x18be)},_0xc1eb6f=be['passiveEve'+'nts']?_0x3bb33f:!(0x1e4a+-0x7*0x167+-0x2*0xa3c);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0xc1eb6f),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0xc1eb6f),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0xc1eb6f),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0xc1eb6f);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x225b+0x6c*-0x24+-0x7*-0x714),this['_target']=null;const _0x1541f4={'passive':!(0x8e9+-0xbd8*-0x1+0x530*-0x4)},_0x470e81=be['passiveEve'+'nts']?_0x1541f4:!(0x4cc*-0x2+0x90b+0x8e);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x470e81),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x470e81),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x470e81),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x470e81);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x9ccb60,_0x552693){if(!document['body']['requestPoi'+'nterLock']){_0x552693&&_0x552693();return;}const _0xab727b=()=>{_0x9ccb60(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0xab727b);},_0x5c4966=()=>{_0x552693(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x5c4966);};_0x9ccb60&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0xab727b,!(0xe*0x28d+0x21a+-0x25cf)),_0x552693&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x5c4966,!(0x1ca5*0x1+-0x58e*0x1+-0x1716)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x59d84a){if(!document['exitPointe'+'rLock'])return;const _0xe24a71=()=>{_0x59d84a(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0xe24a71);};_0x59d84a&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0xe24a71,!(-0x266a+0x1c6f*0x1+0x9fc)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x34e*-0x4+-0x231c+-0x3054*-0x1]=this['_buttons'][0x2*0xa7a+0x7e3*-0x1+0xf*-0xdf],this['_lastbutto'+'ns'][-0xcfd+0x1e95+-0x1197]=this['_buttons'][0x1fbd+0x99*0x3+-0x1*0x2187],this['_lastbutto'+'ns'][0x16*0x3+-0x2626*0x1+-0xe7*-0x2a]=this['_buttons'][-0x8c4+0x264a+0x1*-0x1d84];}['isPressed'](_0x19b939){return this['_buttons'][_0x19b939];}['wasPressed'](_0x3296ec){return this['_buttons'][_0x3296ec]&&!this['_lastbutto'+'ns'][_0x3296ec];}['wasRelease'+'d'](_0x1625da){return!this['_buttons'][_0x1625da]&&this['_lastbutto'+'ns'][_0x1625da];}['_handleUp'](_0x310f8b){this['_buttons'][_0x310f8b['button']]=!(-0x1382+-0x235d*0x1+0x36e0);const _0x52e313=new ia(this,_0x310f8b);_0x52e313['event']&&this['fire'](Fm,_0x52e313);}['_handleDow'+'n'](_0x58c6bd){this['_buttons'][_0x58c6bd['button']]=!(0x1*-0x1b83+0x1c*0x160+-0xafd);const _0x1f0799=new ia(this,_0x58c6bd);_0x1f0799['event']&&this['fire'](Dm,_0x1f0799);}['_handleMov'+'e'](_0x19ab90){const _0x1f3dfb=new ia(this,_0x19ab90);_0x1f3dfb['event']&&(this['fire'](Lm,_0x1f3dfb),this['_lastX']=_0x1f3dfb['x'],this['_lastY']=_0x1f3dfb['y']);}['_handleWhe'+'el'](_0xab58f1){const _0x4e6209=new ia(this,_0xab58f1);_0x4e6209['event']&&this['fire'](Du,_0x4e6209);}['_getTarget'+'Coords'](_0x5cd190){const _0x2e31de=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x4078ef=Math['floor'](_0x2e31de['left']),_0x12ed2f=Math['floor'](_0x2e31de['top']);return _0x5cd190['clientX']<_0x4078ef||_0x5cd190['clientX']>=_0x4078ef+this['_target']['clientWidt'+'h']||_0x5cd190['clientY']<_0x12ed2f||_0x5cd190['clientY']>=_0x12ed2f+this['_target']['clientHeig'+'ht']?null:{'x':_0x5cd190['clientX']-_0x4078ef,'y':_0x5cd190['clientY']-_0x12ed2f};}}c(Cl,'EVENT_MOUS'+'EMOVE',Lm),c(Cl,'EVENT_MOUS'+'EDOWN',Dm),c(Cl,'EVENT_MOUS'+'EUP',Fm),c(Cl,'EVENT_MOUS'+'EWHEEL',Du);const Ee=class Ee{['get'](_0x11024e,_0x307518,_0x48666a){return typeof _0x307518=='function'&&(_0x48666a=_0x307518,_0x307518={}),this['request']('GET',_0x11024e,_0x307518,_0x48666a);}['post'](_0x5e50b0,_0x2da27f,_0x3c700a,_0x4049cb){return typeof _0x3c700a=='function'&&(_0x4049cb=_0x3c700a,_0x3c700a={}),_0x3c700a['postdata']=_0x2da27f,this['request']('POST',_0x5e50b0,_0x3c700a,_0x4049cb);}['put'](_0x4ea39b,_0x145764,_0x25f635,_0x55742c){return typeof _0x25f635=='function'&&(_0x55742c=_0x25f635,_0x25f635={}),_0x25f635['postdata']=_0x145764,this['request']('PUT',_0x4ea39b,_0x25f635,_0x55742c);}['del'](_0x32999c,_0x6f7ab,_0x33589f){return typeof _0x6f7ab=='function'&&(_0x33589f=_0x6f7ab,_0x6f7ab={}),this['request']('DELETE',_0x32999c,_0x6f7ab,_0x33589f);}['request'](_0x410b2a,_0x54e520,_0x58bc90,_0x340c95){let _0x41914f,_0x1f8bbb,_0x1b76fa,_0x4925a8=!(-0xc0b*-0x3+0x7*0x54a+-0x1*0x4926);if(typeof _0x58bc90=='function'&&(_0x340c95=_0x58bc90,_0x58bc90={}),_0x58bc90['retry']&&(_0x58bc90=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x58bc90)),_0x58bc90['callback']=_0x340c95,_0x58bc90['async']==null&&(_0x58bc90['async']=!(-0xb26+0x1c6c+-0x1146)),_0x58bc90['headers']==null&&(_0x58bc90['headers']={}),_0x58bc90['postdata']!=null){if(_0x58bc90['postdata']instanceof Document)_0x1b76fa=_0x58bc90['postdata'];else{if(_0x58bc90['postdata']instanceof FormData)_0x1b76fa=_0x58bc90['postdata'];else{if(_0x58bc90['postdata']instanceof Object){let _0x4a91fd=_0x58bc90['headers']['Content-Ty'+'pe'];switch(_0x4a91fd===void(-0x18df+0x9e*-0xd+0x20e5)&&(_0x58bc90['headers']['Content-Ty'+'pe']=Ee['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x4a91fd=_0x58bc90['headers']['Content-Ty'+'pe']),_0x4a91fd){case Ee['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x1b76fa='';let _0x2a2994=!(0x1*0x1c3f+0x202c+-0x3c6b*0x1);for(const _0x4c1513 in _0x58bc90['postdata'])if(_0x58bc90['postdata']['hasOwnProp'+'erty'](_0x4c1513)){_0x2a2994?_0x2a2994=!(-0x1526*-0x1+-0x1e77+0x952):_0x1b76fa+='&';const _0x2fc826=encodeURIComponent(_0x4c1513),_0x452b7c=encodeURIComponent(_0x58bc90['postdata'][_0x4c1513]);_0x1b76fa+=_0x2fc826+'='+_0x452b7c;}break;}default:case Ee['ContentTyp'+'e']['JSON']:_0x4a91fd==null&&(_0x58bc90['headers']['Content-Ty'+'pe']=Ee['ContentTyp'+'e']['JSON']),_0x1b76fa=JSON['stringify'](_0x58bc90['postdata']);break;}}else _0x1b76fa=_0x58bc90['postdata'];}}}if(_0x58bc90['cache']===!(0x25df+-0xe54+-0x83*0x2e)){const _0x57c169=ae();_0x41914f=new ad(_0x54e520),_0x41914f['query']?_0x41914f['query']=_0x41914f['query']+'&ts='+_0x57c169:_0x41914f['query']='ts='+_0x57c169,_0x54e520=_0x41914f['toString']();}_0x58bc90['query']&&(_0x41914f=new ad(_0x54e520),_0x1f8bbb=Eh(_0x41914f['getQuery'](),_0x58bc90['query']),_0x41914f['setQuery'](_0x1f8bbb),_0x54e520=_0x41914f['toString']());const _0x48322f=new XMLHttpRequest();_0x48322f['open'](_0x410b2a,_0x54e520,_0x58bc90['async']),_0x48322f['withCreden'+'tials']=_0x58bc90['withCreden'+'tials']!==void(0x2253+0x2051+-0xa*0x6aa)?_0x58bc90['withCreden'+'tials']:!(0x2532+0x1442+-0x7*0x835),_0x48322f['responseTy'+'pe']=_0x58bc90['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x54e520);for(const _0x5aa7 in _0x58bc90['headers'])_0x58bc90['headers']['hasOwnProp'+'erty'](_0x5aa7)&&_0x48322f['setRequest'+'Header'](_0x5aa7,_0x58bc90['headers'][_0x5aa7]);_0x48322f['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x410b2a,_0x54e520,_0x58bc90,_0x48322f);},_0x48322f['onerror']=()=>{this['_onError'](_0x410b2a,_0x54e520,_0x58bc90,_0x48322f),_0x4925a8=!(0xdd7+0x1d6*-0x3+-0x855);};try{_0x48322f['send'](_0x1b76fa);}catch(_0xb3436f){_0x4925a8||_0x58bc90['error'](_0x48322f['status'],_0x48322f,_0xb3436f);}return _0x48322f;}['_guessResp'+'onseType'](_0x437328){const _0x5f2f40=new ad(_0x437328),_0x3fa5c4=me['getExtensi'+'on'](_0x5f2f40['path'])['toLowerCas'+'e']();return Ee['binaryExte'+'nsions']['indexOf'](_0x3fa5c4)>=-0x15fb+-0x133c+0x3*0xdbd?Ee['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x3fa5c4==='.json'?Ee['ResponseTy'+'pe']['JSON']:_0x3fa5c4==='.xml'?Ee['ResponseTy'+'pe']['DOCUMENT']:Ee['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x55bde9){return[Ee['ContentTyp'+'e']['BASIS'],Ee['ContentTyp'+'e']['BIN'],Ee['ContentTyp'+'e']['DDS'],Ee['ContentTyp'+'e']['GLB'],Ee['ContentTyp'+'e']['MP3'],Ee['ContentTyp'+'e']['MP4'],Ee['ContentTyp'+'e']['OGG'],Ee['ContentTyp'+'e']['OPUS'],Ee['ContentTyp'+'e']['WAV']]['indexOf'](_0x55bde9)>=0x12d2+0x363*-0xb+0x126f;}['_isBinaryR'+'esponseTyp'+'e'](_0x2b5ada){return _0x2b5ada===Ee['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x2b5ada===Ee['ResponseTy'+'pe']['BLOB']||_0x2b5ada===Ee['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x59aa42,_0x53b2c8,_0x3aee91,_0x4277d0){if(_0x4277d0['readyState']===-0xbfb*-0x3+-0x25fd+0x210)switch(_0x4277d0['status']){case-0x23d7+-0x1fc9+0x43a0*0x1:{_0x4277d0['responseUR'+'L']&&_0x4277d0['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x59aa42,_0x53b2c8,_0x3aee91,_0x4277d0):this['_onError'](_0x59aa42,_0x53b2c8,_0x3aee91,_0x4277d0);break;}case 0x164*-0x17+-0x2200+0x2162*0x2:case-0xf*-0x93+0x3*-0x289+0x39*-0x1:case-0x1b84*0x1+0x1764*-0x1+-0x2*-0x19db:case-0x5*-0x2ba+0x2*-0xc9+-0xae0:{this['_onSuccess'](_0x59aa42,_0x53b2c8,_0x3aee91,_0x4277d0);break;}default:{this['_onError'](_0x59aa42,_0x53b2c8,_0x3aee91,_0x4277d0);break;}}}['_onSuccess'](_0x3ad43e,_0xd4ae57,_0x459d74,_0x3dc874){let _0x954e15,_0x51dc9d;const _0x78d746=_0x3dc874['getRespons'+'eHeader']('Content-Ty'+'pe');_0x78d746&&(_0x51dc9d=_0x78d746['split'](';')[-0x1842+0x1a41+-0x1ff]['trim']());try{this['_isBinaryC'+'ontentType'](_0x51dc9d)||this['_isBinaryR'+'esponseTyp'+'e'](_0x3dc874['responseTy'+'pe'])?_0x954e15=_0x3dc874['response']:_0x51dc9d===Ee['ContentTyp'+'e']['JSON']||_0xd4ae57['split']('?')[-0x6ea+-0x4cf*0x1+-0x1*-0xbb9]['endsWith']('.json')?_0x954e15=JSON['parse'](_0x3dc874['responseTe'+'xt']):_0x3dc874['responseTy'+'pe']===Ee['ResponseTy'+'pe']['DOCUMENT']||_0x51dc9d===Ee['ContentTyp'+'e']['XML']?_0x954e15=_0x3dc874['responseXM'+'L']:_0x954e15=_0x3dc874['responseTe'+'xt'],_0x459d74['callback'](null,_0x954e15);}catch(_0x3bb0e2){_0x459d74['callback'](_0x3bb0e2);}}['_onError'](_0x115f7d,_0x523aab,_0x51af86,_0x3bf7bd){if(!_0x51af86['retrying']){if(_0x51af86['retry']&&_0x51af86['retries']<_0x51af86['maxRetries']){_0x51af86['retries']++,_0x51af86['retrying']=!(-0x238c+0x1b*-0x56+-0x164f*-0x2);const _0x23584e=z['clamp'](Math['pow'](-0x2046+0xfe*0x27+-0x1*0x66a,_0x51af86['retries'])*Ee['retryDelay'],0x15*-0x95+-0xb0+0xce9,_0x51af86['maxRetryDe'+'lay']||0x98f+0x2f*-0x3f+0x158a);console['log'](_0x115f7d+':\x20'+_0x523aab+'\x20-\x20Error\x20'+_0x3bf7bd['status']+('.\x20Retrying'+'\x20in\x20')+_0x23584e+'\x20ms'),setTimeout(()=>{_0x51af86['retrying']=!(0x2e*0x13+0x55*-0x43+-0x96b*-0x2),this['request'](_0x115f7d,_0x523aab,_0x51af86,_0x51af86['callback']);},_0x23584e);}else _0x51af86['callback'](_0x3bf7bd['status']===-0x14a1+-0x49*-0x40+0x261?'Network\x20er'+'ror':_0x3bf7bd['status'],null);}}};c(Ee,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(Ee,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(Ee,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(Ee,'retryDelay',0x1575+-0x96*-0x20+0x1*-0x27d1);let ps=Ee;const Ye=new ps();function Ni(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class Vh{constructor(_0x37c8d6,_0x568a1b,_0x4da085={}){if(this['volume']=_0x4da085['volume']??-0xcfe+-0x7b*0x30+0x240f,this['loop']=_0x4da085['loop']??!(-0x1fb2*-0x1+0x1*-0xb3f+0x2*-0xa39),this['pitch']=_0x4da085['pitch']??0x13*-0x101+-0x2419+0x372d,this['sound']=_0x568a1b,this['paused']=!(-0x1fc0+-0x1*-0x21d7+-0x216),this['suspended']=!(0x1*0x768+0x32f*-0x3+0x226),this['manager']=_0x37c8d6,this['source']=null,Ni()){this['startTime']=-0x1*0x1da5+-0x1*0x827+-0x2*-0x12e6,this['startOffse'+'t']=0x196a+0x506*-0x7+0x9c0;const _0x2dc65e=_0x37c8d6['context'];this['gain']=_0x2dc65e['createGain']();}else _0x568a1b['audio']&&(this['source']=_0x568a1b['audio']['cloneNode'](!(0x7f*0x4a+0x8a0+-0x2d55)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0xa26481){this['loop']=_0xa26481,this['source']&&(this['source']['loop']=_0xa26481);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(0x17d9+0x161d*0x1+-0xde*0x35),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(0x4d*0x47+0x4d2*0x8+-0x3bea),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0x628+-0x8*0x3b8+0x23e8,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(-0x10a2+0x3*0xabf+0x5*-0x31f),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](-0x1788+-0x5c*0x3a+0x2c60),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x42*0x89+0x1*0x22cd+0x461f*-0x1,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(-0x2360+0x7*0x2c+0x222d));}['stop'](){this['source']&&(this['source']['stop'](-0x1103+0x251a+-0x1*0x1417),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x4b121a){_0x4b121a=z['clamp'](_0x4b121a,-0xb*0x335+0x188d+0xaba,0x8b1+0x19ef+-0x229f),this['volume']=_0x4b121a,this['gain']&&(this['gain']['gain']['value']=_0x4b121a*this['manager']['volume']);}['setPitch'](_0x5cd785){this['pitch']=_0x5cd785,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x5cd785);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0xc*0x28d+0x2481+-0x5e5;}['_createSou'+'rce'](){const _0x49b3a3=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x49b3a3['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x49b3a3['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Ni()||Object['assign'](Vh['prototype'],{'play':function(){this['source']&&(this['paused']=!(-0x9a0+-0x1*0x11a5+0x1b46),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(-0x2e3+-0x66+0x349),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(-0x56f+0x1d70+-0x1800),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x12d991){_0x12d991=z['clamp'](_0x12d991,0x168e+0x1025+-0x26b3,0xc19+-0x1c96*0x1+0x83f*0x2),this['volume']=_0x12d991,this['source']&&(this['source']['volume']=_0x12d991*this['manager']['volume']);},'setPitch':function(_0x180428){this['pitch']=_0x180428,this['source']&&(this['source']['playbackRa'+'te']=_0x180428);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:-0x1*0x2245+0x7*-0x277+-0x3386*-0x1;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=0x47e7+-0x446b*0x1+0x2c*0xcf;class Fu extends Vh{constructor(_0x2bd938,_0xaa6f5b,_0x42e119){super(_0x2bd938,_0xaa6f5b,_0x42e119),this['position']=new A(),this['velocity']=new A(),Ni()?this['panner']=_0x2bd938['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=-0x51*-0x23+0x2*0x2da+-0x10c6,this['rollOffFac'+'tor']=0x1*-0x11d7+0x16f9+-0x521,this['distanceMo'+'del']=Nf);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x483b90){this['position']['copy'](_0x483b90);const _0x533089=this['panner'];'positionX'in _0x533089?(_0x533089['positionX']['value']=_0x483b90['x'],_0x533089['positionY']['value']=_0x483b90['y'],_0x533089['positionZ']['value']=_0x483b90['z']):_0x533089['setPositio'+'n']&&_0x533089['setPositio'+'n'](_0x483b90['x'],_0x483b90['y'],_0x483b90['z']);}['getVelocit'+'y'](){return b['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x132431){b['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x132431);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0xed3fad){this['panner']['maxDistanc'+'e']=_0xed3fad;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x410537){this['panner']['refDistanc'+'e']=_0x410537;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x446674){this['panner']['rolloffFac'+'tor']=_0x446674;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x23d36b){this['panner']['distanceMo'+'del']=_0x23d36b;}['_createSou'+'rce'](){const _0x5713d0=this['manager']['context'];this['source']=_0x5713d0['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x5713d0['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Ni()){let l=new A();const t=function(_0x49de37,_0x58f719,_0x3ed8d6,_0xf87004,_0x191f52,_0x4d1027){l=l['sub2'](_0x49de37,_0x58f719);const _0x431e6c=l['length']();if(_0x431e6c<_0x3ed8d6)return-0x1*0x1aa5+-0x1*-0x89+-0x23*-0xbf;if(_0x431e6c>_0xf87004)return 0x4ad*-0x8+-0x1*-0x581+0x1fe7;let _0xca1bbb=-0x22d8+-0xb2e+0x2e06;return _0x4d1027===mc?_0xca1bbb=-0x41*0x4b+-0xde5+0x20f1-_0x191f52*(_0x431e6c-_0x3ed8d6)/(_0xf87004-_0x3ed8d6):_0x4d1027===Nf?_0xca1bbb=_0x3ed8d6/(_0x3ed8d6+_0x191f52*(_0x431e6c-_0x3ed8d6)):_0x4d1027===dy&&(_0xca1bbb=Math['pow'](_0x431e6c/_0x3ed8d6,-_0x191f52)),z['clamp'](_0xca1bbb,-0xec3+-0x1*0x217d+0x3040,-0xa*0x241+-0xc39*0x3+-0x562*-0xb);};Object['assign'](Fu['prototype'],{'setPosition':function(_0x1fdde4){if(this['position']['copy'](_0x1fdde4),this['source']){const _0x3ad263=this['manager']['listener']['getPositio'+'n'](),_0x5b133d=t(_0x3ad263,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x86e5c0=this['getVolume']();this['source']['volume']=_0x86e5c0*_0x5b133d;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x54699d){this['maxDistanc'+'e']=_0x54699d;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0x348b60){this['minDistanc'+'e']=_0x348b60;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x192351){this['rollOffFac'+'tor']=_0x192351;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x566fe0){this['distanceMo'+'del']=_0x566fe0;}});}class kb{constructor(_0x96edf9){c(this,'_manager'),c(this,'position',new A()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x96edf9;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x520d0f){this['position']['copy'](_0x520d0f);const _0xe88461=this['listener'];_0xe88461&&('positionX'in _0xe88461?(_0xe88461['positionX']['value']=_0x520d0f['x'],_0xe88461['positionY']['value']=_0x520d0f['y'],_0xe88461['positionZ']['value']=_0x520d0f['z']):_0xe88461['setPositio'+'n']&&_0xe88461['setPositio'+'n'](_0x520d0f['x'],_0x520d0f['y'],_0x520d0f['z']));}['setOrienta'+'tion'](_0x1eb573){this['orientatio'+'n']['copy'](_0x1eb573);const _0x3b94ab=this['listener'];if(_0x3b94ab){const _0x48330e=_0x1eb573['data'];'forwardX'in _0x3b94ab?(_0x3b94ab['forwardX']['value']=-_0x48330e[0x166a+-0x1c9f*-0x1+0x3301*-0x1],_0x3b94ab['forwardY']['value']=-_0x48330e[0x58f*-0x1+0x31*0xa9+0x8eb*-0x3],_0x3b94ab['forwardZ']['value']=-_0x48330e[0x20b2+-0x1633+-0xa75],_0x3b94ab['upX']['value']=_0x48330e[-0x479*0x2+0xce1+-0x3eb],_0x3b94ab['upY']['value']=_0x48330e[-0x977+0x349+0x633],_0x3b94ab['upZ']['value']=_0x48330e[0x1d9b+-0x14*-0xf1+0x1023*-0x3]):_0x3b94ab['setOrienta'+'tion']&&_0x3b94ab['setOrienta'+'tion'](-_0x48330e[-0x304*-0x8+-0x823+0xd7*-0x13],-_0x48330e[0x6a6+-0xa*-0x2fb+-0x246b],-_0x48330e[-0x1*0x51d+-0x3*0x1c6+0xa79],_0x48330e[0x79b+-0x1*0x1484+0xced],_0x48330e[0x159f+-0x21b4+-0xc1a*-0x1],_0x48330e[-0xdfc+-0xec7+-0x1cc9*-0x1]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x5c960e=this['_manager']['context'];return _0x5c960e?_0x5c960e['listener']:null;}}const Ml='running',Om=['click','touchstart','mousedown'];class Ob extends de{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||b['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0x1*0x2c5+0x1e87+0x3*-0xb19),this['listener']=new kb(this),this['_volume']=-0x16cb+-0x1*-0x80a+0xec2;}set['volume'](_0x36615f){_0x36615f=z['clamp'](_0x36615f,0x16ba+0x3dd+-0x1a97,0x2c7+-0x7*-0xf6+-0x980),this['_volume']=_0x36615f,this['fire']('volumechan'+'ge',_0x36615f);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ml&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(-0x17b1+0x115*-0x1d+0x3712),this['_context']&&this['_context']['state']===Ml&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0x2097+0x21d8+0x426e*-0x1),this['_context']&&this['_context']['state']!==Ml&&this['_resume']());}['destroy'](){var _0x5d05b7;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x5d05b7=this['_context'])==null||_0x5d05b7['close'](),this['_context']=null);}['playSound'](_0x38778a,_0x24c4fa={}){let _0x1e4312=null;return Vh&&(_0x1e4312=new Vh(this,_0x38778a,_0x24c4fa),_0x1e4312['play']()),_0x1e4312;}['playSound3'+'d'](_0x4cdd47,_0x4d4781,_0x5c5237={}){let _0x23d35f=null;return Fu&&(_0x23d35f=new Fu(this,_0x4cdd47,_0x5c5237),_0x23d35f['setPositio'+'n'](_0x4d4781),_0x5c5237['volume']&&_0x23d35f['setVolume'](_0x5c5237['volume']),_0x5c5237['loop']&&_0x23d35f['setLoop'](_0x5c5237['loop']),_0x5c5237['maxDistanc'+'e']&&_0x23d35f['setMaxDist'+'ance'](_0x5c5237['maxDistanc'+'e']),_0x5c5237['minDistanc'+'e']&&_0x23d35f['setMinDist'+'ance'](_0x5c5237['minDistanc'+'e']),_0x5c5237['rollOffFac'+'tor']&&_0x23d35f['setRollOff'+'Factor'](_0x5c5237['rollOffFac'+'tor']),_0x5c5237['distanceMo'+'del']&&_0x23d35f['setDistanc'+'eModel'](_0x5c5237['distanceMo'+'del']),_0x23d35f['play']()),_0x23d35f;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x43c9d9=this['_context']['createBuff'+'erSource']();_0x43c9d9['buffer']=this['_context']['createBuff'+'er'](-0x22fc+-0x356+-0x1*-0x2653,-0x26ac+-0x125*-0x1e+0x457,this['_context']['sampleRate']),_0x43c9d9['connect'](this['_context']['destinatio'+'n']),_0x43c9d9['start'](0x8a1*-0x1+-0xf6e+-0x3*-0x805),_0x43c9d9['onended']=_0x65c3d5=>{_0x43c9d9['disconnect'](0x3a1+0x2465+0x6d*-0x5e),this['fire']('resume');};},_0x1cc05c=>{b['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x1cc05c);})['catch'](_0x11e28a=>{b['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x11e28a);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x2b7d1a=>{b['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x2b7d1a);})['catch'](_0x37f533=>{b['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x37f533);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ml&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x534ff9=>{window['addEventLi'+'stener'](_0x534ff9,this['_unlockHan'+'dlerFunc'],!(0x1486+-0x19e7+-0x2*-0x2b1));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x132bed=>{window['removeEven'+'tListener'](_0x132bed,this['_unlockHan'+'dlerFunc'],!(-0x1b4*-0x16+-0x6*-0x223+-0x7*0x72f));});}}class Bb{constructor(_0x251a43){c(this,'audio'),c(this,'buffer'),_0x251a43 instanceof Audio?this['audio']=_0x251a43:this['buffer']=_0x251a43;}get['duration'](){let _0x5c78ec=-0x2e*0x55+-0x946+0x188c;return this['buffer']?_0x5c78ec=this['buffer']['duration']:this['audio']&&(_0x5c78ec=this['audio']['duration']),_0x5c78ec||0x1f*-0x3e+-0xa97*0x1+0x71*0x29;}}const kt=0x473+-0x99b+0x528,ra=-0xc9b*-0x1+0x2091+-0x1f*0x175,Ps=0x169d+0x2e*0xce+0x1*-0x3b9f;function Ot(_0x271991,_0x283ca7){return _0x271991%_0x283ca7||-0xea3*-0x2+0xe90+-0x2bd6;}class ls extends de{constructor(_0x8ee035,_0x55232f,_0x247fa6){super(),c(this,'source',null),(this['_manager']=_0x8ee035,this['_volume']=_0x247fa6['volume']!==void(-0x6fd*-0x4+-0x242b+0x3*0x2bd)?z['clamp'](Number(_0x247fa6['volume'])||-0x133f*-0x2+-0x128d*-0x1+-0x390b,0x2*0xef+0x1e0f*-0x1+0x1c31*0x1,-0xf10+-0x1eb9+-0x2dca*-0x1):-0x1a27+0xbc*-0x32+0x3ee0,this['_pitch']=_0x247fa6['pitch']!==void(-0x4bd*-0x1+0x1557+-0x1a14)?Math['max'](0xf9e+0x166a+-0x1*0x2608+0.01,Number(_0x247fa6['pitch'])||-0xfa7*-0x1+-0xae9+0x4be*-0x1):-0x25*-0x4f+0x522+-0x108c,this['_loop']=!!(_0x247fa6['loop']!==void(0x745+0x7*0x1+0x2*-0x3a6)&&_0x247fa6['loop']),this['_sound']=_0x55232f,this['_state']=Ps,this['_suspended']=!(-0x496*-0x1+-0x2216+0x1d81),this['_suspendEn'+'dEvent']=0x2470+-0x13e2+0x146*-0xd,this['_suspendIn'+'stanceEven'+'ts']=!(0x23fc+0x2225+-0xc*0x5d8),this['_playWhenL'+'oaded']=!(0x1d8d+0xb*-0x9d+0x7*-0x342),this['_startTime']=Math['max'](0x2387+0x53*-0xb+0x1*-0x1ff6,Number(_0x247fa6['startTime'])||-0x15c2*0x1+0x1511+0xb1),this['_duration']=Math['max'](0x4ae+-0x9ec+0x53e,Number(_0x247fa6['duration'])||0x6cd+-0x3a6+-0x327),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x247fa6['onPlay'],this['_onPauseCa'+'llback']=_0x247fa6['onPause'],this['_onResumeC'+'allback']=_0x247fa6['onResume'],this['_onStopCal'+'lback']=_0x247fa6['onStop'],this['_onEndCall'+'back']=_0x247fa6['onEnd'],Ni()?(this['_startedAt']=0x23f8+0x1db9+-0x1*0x41b1,this['_currentTi'+'me']=0x343*0xa+0x891+-0x292f,this['_currentOf'+'fset']=-0x1*0x1309+-0x111c+0x2425,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x4c*-0x55+-0xc3b*-0x2+-0xc7*-0x1),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x1*0x24cb+-0x1*0x15b2+0x38*-0x45),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x2034f7){if(!(_0x2034f7<-0x83e+0x1a21*0x1+-0x1*0x11e3)){if(this['_state']===kt){const _0x11a9b2=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(0x10e4+-0xcff*0x1+0x1*-0x3e5),this['stop'](),this['_startOffs'+'et']=_0x2034f7,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x11a9b2;}else this['_startOffs'+'et']=_0x2034f7,this['_currentTi'+'me']=_0x2034f7;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ra?this['_currentTi'+'me']:this['_state']===Ps||!this['source']?0x11aa+0x1e7c+-0x3026:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x525fb6){this['_duration']=Math['max'](0x1*0x203b+-0x11ea+0x2dd*-0x5,Number(_0x525fb6)||0x907+0xfa3*0x1+-0x1c3*0xe);const _0x1776a1=this['_state']===kt;this['stop'](),_0x1776a1&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Ot(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0x5db+-0x1091+0x166c;}get['isPaused'](){return this['_state']===ra;}get['isPlaying'](){return this['_state']===kt;}get['isStopped'](){return this['_state']===Ps;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0xd4892){this['_loop']=!!_0xd4892,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x1f47cf){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x1f47cf)||0xc70*0x1+-0x1d*0x1c+0x251*-0x4,0x16f+-0x2481*0x1+0x2312+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x22568e){this['_sound']=_0x22568e,this['_state']!==Ps?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x12fcbf){this['_startTime']=Math['max'](-0x435+0x841+-0x40c,Number(_0x12fcbf)||-0x1c6f+0x1b87+0x3a*0x4);const _0x47a396=this['_state']===kt;this['stop'](),_0x47a396&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x3a72da){_0x3a72da=z['clamp'](_0x3a72da,-0x2*0xbec+-0x1*-0x7dd+0xffb,-0xa87+0x1*-0x2ed+-0x2b1*-0x5),this['_volume']=_0x3a72da,this['gain']&&(this['gain']['gain']['value']=_0x3a72da*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>0x1915+0x16e*0x2+-0x17*0x137){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===kt&&!this['_suspended']&&(this['_suspended']=!(-0x1*0x18ee+-0x1e65+0x3753),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x9eb*-0x2+-0x25b8+0x398f),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Ps&&this['stop'](),this['_state']=kt,this['_playWhenL'+'oaded']=!(-0x1814+0x1a1b+-0x206),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x23cf*-0x1+-0x54*-0x35+-0x2*0x1a99):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x3*0x92+-0x20d+0x3c3),!(-0x1d*-0xee+-0x4c3*0x7+-0xc*-0x88)):(this['_playAudio'+'Immediate'](),!(0x21d*-0x2+-0x1d31+0x216b));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0xb2*-0x21+-0x35*-0x41+0x611*-0x6),this['_state']!==kt)return;this['source']||this['_createSou'+'rce']();let _0xce1cb0=Ot(this['_startOffs'+'et'],this['duration']);_0xce1cb0=Ot(this['_startTime']+_0xce1cb0,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x57d+0x1*-0x23b7+0x6a*0x49,_0xce1cb0,this['_duration']):this['source']['start'](-0x1baa+0x9b8+-0x8f9*-0x2,_0xce1cb0),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0x39*0x2+-0x3ab*-0x1+-0x41d,this['_currentOf'+'fset']=_0xce1cb0,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0xd9a+-0x1f97+0x11fe*0x1),this['_state']!==kt?!(0x2095+-0x665*-0x6+-0x46f2):(this['_state']=ra,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x219d+0x78b*0x3+-0x383e),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x9d*0x10+0x1*-0xc7e+-0x62*-0x7));}['resume'](){if(this['_state']!==ra)return!(-0x1fed+-0x2198+0x1*0x4186);let _0x5f0f8e=this['currentTim'+'e'];return this['_state']=kt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x5f0f8e=Ot(this['_startOffs'+'et'],this['duration']),_0x5f0f8e=Ot(this['_startTime']+_0x5f0f8e,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x1430+-0x444+0x2*-0x7f6,_0x5f0f8e,this['_duration']):this['source']['start'](0x29*0xe3+0x1*0x81e+0x73*-0x63,_0x5f0f8e),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x5f0f8e,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0x11fb+0x2a+0x306*-0x6),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x75*0x2b+0xede+-0x2285);}['stop'](){if(this['_playWhenL'+'oaded']=!(0x5*0x551+0x1*0x8d4+-0x2368),this['_state']===Ps)return!(-0x614+-0xd33*-0x2+0x2e7*-0x7);const _0x3b5fc8=this['_state']===kt;return this['_state']=Ps,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0xd1f+-0xa*-0x1e7+0x5e7*-0x1,this['_currentTi'+'me']=0x1871+0x2a5+-0x1b16*0x1,this['_currentOf'+'fset']=-0x65c*0x5+-0xb93+0x2b5f,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x3b5fc8&&this['source']&&this['source']['stop'](-0x11*0x84+0x2556+-0x1c92),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x67f*0x1+-0x78d+-0x1f*-0x74);}['setExterna'+'lNodes'](_0x41c43c,_0x4a0bf9){if(!_0x41c43c){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x4a0bf9||(_0x4a0bf9=_0x41c43c);const _0x5269c5=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x41c43c&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x5269c5),this['_firstNode']=_0x41c43c,this['_connector'+'Node']['connect'](_0x41c43c)),this['_lastNode']!==_0x4a0bf9&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x5269c5),this['_lastNode']=_0x4a0bf9,this['_lastNode']['connect'](_0x5269c5));}['clearExter'+'nalNodes'](){const _0x35cc15=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x35cc15),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x35cc15);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x2d3837=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x2d3837['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Ot(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Ot(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Ot((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===kt&&(this['source']['stop'](-0x44d+0x1e28+-0x19db),this['source']=null);}}c(ls,'EVENT_PLAY','play'),c(ls,'EVENT_PAUS'+'E','pause'),c(ls,'EVENT_RESU'+'ME','resume'),c(ls,'EVENT_STOP','stop'),c(ls,'EVENT_END','end'),Ni()||(Object['assign'](ls['prototype'],{'play':function(){return this['_state']!==Ps&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x19*-0x15a+-0x2379+0x4544):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=kt,this['_playWhenL'+'oaded']=!(-0xfcd*-0x1+0x196a+-0x2936),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0x128a+0x1*0x1594+0x1*-0x30a));},'pause':function(){return!this['source']||this['_state']!==kt?!(0x20a0+0x1*-0xc6d+0x1*-0x1432):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x1*0x18d9+0x120d+0x1*0x6cd),this['_state']=ra,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(0x11d9+-0x832*0x1+-0x9a7));},'resume':function(){return!this['source']||this['_state']!==ra?!(0x1*0x678+0x1f58+-0x25cf):(this['_state']=kt,this['_playWhenL'+'oaded']=!(-0xca2+0x2ee+0x1f1*0x5),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x3*-0x713+0x222+-0x175b));},'stop':function(){return!this['source']||this['_state']===Ps?!(0x9d*-0x1+-0x1eb*-0x2+-0x338):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x3b*0x42+-0x1c5c+-0xd27*-0x1),this['_state']=Ps,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(0xd*0xd+0x9*0x269+-0x165a));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(-0x1*-0x21b4+-0x1a50*0x1+-0x2c*0x2b);let _0x4a465c=Ot(this['_startOffs'+'et'],this['duration']);_0x4a465c=Ot(this['_startTime']+_0x4a465c,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x4a465c;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x1*0x19a9+0x1*-0x13a7+-0x601),this['source']=this['_sound']['audio']['cloneNode'](!(-0x16a0*0x1+-0x14f5+-0xe87*-0x3)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Ot(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Ot(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ls['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x2e4e87){_0x2e4e87=z['clamp'](_0x2e4e87,-0x3f8+-0x14*-0x1c+0x1c8,0xd52+-0x1*-0x16ea+0x1*-0x243b),this['_volume']=_0x2e4e87,this['source']&&(this['source']['volume']=_0x2e4e87*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ls['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x28d61f){this['_pitch']=Math['max'](Number(_0x28d61f)||0x24a6*0x1+0x1425+-0x38cb,0x1701+-0x1271+-0x490+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ls['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x41d379){this['stop'](),this['_sound']=_0x41d379;}}),Object['defineProp'+'erty'](ls['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Ps||!this['source']?-0x1fe4+-0x26*-0x49+0x150e:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x156b26){_0x156b26<0x770+-0x231*-0xd+-0x21d*0x11||(this['_startOffs'+'et']=_0x156b26,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Ot(this['_startTime']+Ot(_0x156b26,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=-0x30a3+0x4184+0x765*0x3;class Kn extends ls{constructor(_0x150ced,_0x3d6c4b,_0x442f9e={}){super(_0x150ced,_0x3d6c4b,_0x442f9e),c(this,'_position',new A()),c(this,'_velocity',new A()),(_0x442f9e['position']&&(this['position']=_0x442f9e['position']),this['maxDistanc'+'e']=_0x442f9e['maxDistanc'+'e']!==void(0x59*-0x44+-0x2246+-0x134e*-0x3)?Number(_0x442f9e['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x442f9e['refDistanc'+'e']!==void(0x1*0x1e25+-0x1d89+0x6*-0x1a)?Number(_0x442f9e['refDistanc'+'e']):0x706+-0x3b*0x66+0x25b*0x7,this['rollOffFac'+'tor']=_0x442f9e['rollOffFac'+'tor']!==void(-0x12fb+-0x26d0+-0xb*-0x541)?Number(_0x442f9e['rollOffFac'+'tor']):-0x18a3+-0x1d*0x8a+0x80e*0x5,this['distanceMo'+'del']=_0x442f9e['distanceMo'+'del']!==void(0x39*-0x7d+-0x239a+0x3f6f)?_0x442f9e['distanceMo'+'del']:mc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x4a442e){this['_position']['copy'](_0x4a442e);const _0x36ea97=this['panner'];'positionX'in _0x36ea97?(_0x36ea97['positionX']['value']=_0x4a442e['x'],_0x36ea97['positionY']['value']=_0x4a442e['y'],_0x36ea97['positionZ']['value']=_0x4a442e['z']):_0x36ea97['setPositio'+'n']&&_0x36ea97['setPositio'+'n'](_0x4a442e['x'],_0x4a442e['y'],_0x4a442e['z']);}get['position'](){return this['_position'];}set['velocity'](_0x9a0832){b['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x9a0832);}get['velocity'](){return b['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0xb37631){this['panner']['maxDistanc'+'e']=_0xb37631;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x100988){this['panner']['refDistanc'+'e']=_0x100988;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x1a757b){this['panner']['rolloffFac'+'tor']=_0x1a757b;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x30c64d){this['panner']['distanceMo'+'del']=_0x30c64d;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Ni()){let l=new A();const t=function(_0x38d5f5,_0x47129d,_0x184395,_0x465293,_0x44160f,_0x4b070f){l=l['sub2'](_0x38d5f5,_0x47129d);const _0x3b3c63=l['length']();if(_0x3b3c63<_0x184395)return 0x1bab+0x4ea+-0x2094;if(_0x3b3c63>_0x465293)return 0x2687+0x7ab+-0x2e32;let _0x59502a=0x772*0x3+-0x16d6+0x80;return _0x4b070f===mc?_0x59502a=-0xfcf+-0x8a0*0x3+-0x10*-0x29b-_0x44160f*(_0x3b3c63-_0x184395)/(_0x465293-_0x184395):_0x4b070f===Nf?_0x59502a=_0x184395/(_0x184395+_0x44160f*(_0x3b3c63-_0x184395)):_0x4b070f===dy&&(_0x59502a=Math['pow'](_0x3b3c63/_0x184395,-_0x44160f)),z['clamp'](_0x59502a,-0x70f+-0x320*0x7+0x1cef,-0xa52+-0x27*0x61+-0x22*-0xbd);};Object['defineProp'+'erty'](Kn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0xfb8232){if(this['_position']['copy'](_0xfb8232),this['source']){const _0x1e1538=this['_manager']['listener']['getPositio'+'n'](),_0x57affd=t(_0x1e1538,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x1824c3=this['volume'];this['source']['volume']=_0x1824c3*_0x57affd*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](Kn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x3eb36a){this['_maxDistan'+'ce']=_0x3eb36a;}}),Object['defineProp'+'erty'](Kn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x4e7f16){this['_refDistan'+'ce']=_0x4e7f16;}}),Object['defineProp'+'erty'](Kn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x889a7f){this['_rollOffFa'+'ctor']=_0x889a7f;}}),Object['defineProp'+'erty'](Kn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x409ceb){this['_distanceM'+'odel']=_0x409ceb;}});}const a0=-0x17b5+-0x2378+0x3b2d,bp=-0x1fb5*0x1+0x1fa5+0x11,Gt=0x15cf+-0x4f2*0x2+-0x1*0xbe9,hs=0x1d9b+0x1*-0x6d3+-0x57*0x43,dn=0x1*0x1e36+0x26f3+0x23b*-0x1f,wp=0x1faa+0x1*-0x16a9+0x5c*-0x19,Xc=-0xb5*-0xb+-0x2f2+-0x4cf,o0=0x1f0+-0xd*-0x102+0x1ab*-0x9,l0=0x1*-0x1e25+0x1*-0x1b43+0x1*0x3970,h0=-0x7f*0x1f+0x123e+0x4*-0xb5,c0=-0x1*0x19e7+0x1*0x67e+-0x1*-0x1373,Ba='none',zb='linear',Tp=0x1e3d+-0xbc7+-0x93a*0x2,Ub=-0x615*0x2+-0x763+0x138d,Vb=0x1ed6*0x1+0x66*0x4c+0x3d1c*-0x1,d0=0x41e+-0x7f*-0x9+0x2*-0x443,zi=0x2*-0x623+-0x4eb*0x4+0x5e*0x57,es=-0x18*0x14d+0x1a9b*0x1+0x49e,Ap=-0x3a*-0x75+0x97*-0x25+-0x85*0x9,Ep=0x2067*0x1+0x2258+0x215e*-0x2,nl=-0x9*0x291+0x388+0x687*0x3,le=-0x25ea+0x233b*0x1+0x2af,Le=-0xb*-0xad+0x1*-0x1445+-0xcd7*-0x1,Fe=0x10b*0x7+0x606*0x5+-0x2569,Tt=-0x291*0x7+-0xa+0x1201,Gb=-0x16b5*-0x1+0x1*0xa4e+-0xa*0x34d,Hb=-0x2494+-0xd*0x33+-0x1*-0x272d,Wb=-0x21e8+0x49*-0x4f+0x3872,Cp=0x3*-0xb2+-0x19d1+0x1*0x1be7,$b=-0x14b*-0x11+0x2da+0x1c*-0xe3,zt=-0xa92+0x3b9+0x6d9,Wr=0x5*-0x53+0x1*-0x5c9+0x76a,$r=-0x2*0x161+0x11a1+0x2*-0x76e,fh=-0x1ea*-0x11+-0x1637+-0x5b*0x1d,Gh=-0x8e6+-0x9c6+-0x5*-0x3bd,Rs=0x647+-0x1fa7+0xcb3*0x2,Hh=0x2*-0x1235+0xb92*-0x3+0x4727,Wh=-0x1799*0x1+0x2366+0x17*-0x83,ku=0x2165+-0x2603+-0x18d*-0x3,nr=new Map([[Gh,{'name':'PCF1_32F','format':Di,'pcf':!(-0x1e26+0x4ff*0x2+0xf*0x158)}],[zt,{'name':'PCF3_32F','format':Di,'pcf':!(-0x1b34+0xe82+0x28a*0x5)}],[fh,{'name':'PCF5_32F','format':Di,'pcf':!(0x14c*-0x19+0x9c1+0x16ab)}],[Hh,{'name':'PCF1_16F','format':ca,'pcf':!(0x2*0x426+0xb67*-0x3+0x19e9)}],[Wh,{'name':'PCF3_16F','format':ca,'pcf':!(-0x2639+-0x12c6*-0x1+0xd*0x17f)}],[ku,{'name':'PCF5_16F','format':ca,'pcf':!(-0x206+-0x2*-0x105b+-0x1eb0)}],[Wr,{'name':'VSM_16F','format':it,'vsm':!(-0x1ddb*0x1+0x67e*-0x2+0x2ad7)}],[$r,{'name':'VSM_32F','format':et,'vsm':!(-0xd24+-0x3dd*-0x8+0x6*-0x2f6)}],[Rs,{'name':'PCSS_32F','format':Oi,'pcss':!(0x629+0x2147+0x4ee*-0x8)}]]),Mp=0x13d0+0x14b5+-0x2884,Ou=-0x9ad+-0x9e9*-0x2+-0xa25,u0=0x3*0x795+-0x1*0x13e5+-0x2da*0x1,qs=-0x11*0xa2+0x486+0x63c*0x1,qb=0x20fa+-0xa*-0x355+0x1619*-0x3,$h=0x216c+0xac1+0x1*-0x2c2d,Xb=0x1*-0x251+0x824+-0x2e9*0x2,Xs=0x1*-0x8db+-0x15b6+0x19*0x139,pa=0x109*-0x25+-0x144e+0x1e4*0x1f,bo=0x707*-0x5+-0x3a*0x1c+0x297b,Lr=-0x17a5+-0x2ce+0x1a74,Pl=0x25ba+-0x751*-0x3+-0x3bab,f0=-0x5cf+-0x39*-0x45+-0x2*0x4c7,jb=0x1dc5*-0x1+0x1*-0x2647+0x16af*0x3,Bm='mul',al=-0x9*0x1d9+0x1421*0x1+-0x380,ph=-0x1d1e+0xe3*-0xd+0x28a6,Yb={[al]:'NONE',[ph]:'SRGB'},Pp=-0xf4f*-0x2+-0x143*-0x16+-0x3a60,uF=0x1ce+-0x2611*0x1+-0xb*-0x34c,fF=0x81c+-0x2b*0xb1+-0x1*-0x15a1,pF=0x5fb+-0x1ac9+0x1*0x14d1,mF=-0x13f3*-0x1+-0x1eae+-0x15*-0x83,_F=0x416+0x923+-0x2a4*0x5,p0=-0x2605*0x1+-0x1393+0x1ccf*0x2,m0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=0x1*0x743+-0x9c1+0x13f*0x2,Vo=-0x90*-0x2f+-0x1ce2+-0x3*-0xd1,Bu=0x146f*-0x1+0x133b+-0x1f*-0xa,Rp=-0x2*0x44f+0x4*-0x7ed+0x2853,jc=0x1*0xd5b+0x1926+-0x267f,_0=-0x939+0x110*0x20+-0x18c3,g0=-0x80a+-0xe77+0x1689,y0=-0x4f*-0x6a+0x1475+-0x5*0xa9f,Yc=-0x2088+-0x2696+0x473e,Nu=0x2*-0x12c3+0x913+0x1*0x1cb3,x0=0x435+-0x2680+0x22cb,Ip=0x4eb+0x29*-0x2+0x3*-0x133,Dp=-0x9*0x124+-0x2b5+-0x1*-0xef9,Kc=0x5c5+0x2*-0x589+0x94d*0x1,Zc=-0x100f*-0x2+-0x1*-0x1805+0x1*-0x3023,S0=-0x1648+0x7b7*0x5+-0x4b,Qc=0x282e*0x1+0xb*0x3be+-0x3158,zu=-0x5209+-0x1ef3*-0x4+0x163d,ks=-0x126+0x22fa+-0x21d4,un=-0x1522+-0x2a*0x6e+0x272f,Lp=-0x14*0x17d+-0x577+0x1f*0x123,Ii=0x6d*-0x18+-0x1*0x12f+-0x15*-0x8b,Uu=0x10fa+-0x895+-0x864,ms=-0x3*0xb50+-0x2453+0x4644,dr=-0x48d*0x8+0x1ba8+-0x26*-0x3b,ar=-0x1eb3+-0xde1+0x593*0x8,xn=0x79*-0x23+0x1643+-0xb7*0x8,ol=0x3c8*0x2+-0x1327+-0x1c*-0x6a,ll=-0xdaa+-0x9de+-0x178a*-0x1,Na=0x8*-0x17c+0x1a0d+0x31*-0x4a,Fp=0x4*0xe9+-0xa84+0x6e4,Pi=-0x1893+0x20ec+-0x859,ht=-0x1e2*-0x8+-0xd*-0x151+0x80b*-0x4,st=-0x1046+-0x41*-0x60+-0x818,mh=0x1a21+0x1d31*0x1+-0x3751,Rl=-0x11f*-0x7+0x1333*0x1+-0x6c3*0x4,_h=-0xa6c+-0x1803+0x226f,Zb=0x1*0x12df+-0x1*-0x1aad+0x83*-0x59,Qb=-0x8a6+0x9f0+0xa4*-0x2,Nm=0x1*0x1cb2+-0x685*-0x5+-0x3d48,Jb=0x2b*-0x7a+0xbaf+0x8d3,ew=0x2*0x1216+-0x53*0x9+-0x213c,kp=-0x10d+0x1*-0x13aa+-0x14b7*-0x1,Vu=-0x1842+-0x1bed+-0x28*-0x14e,ye=0x622*0x2+-0x8*-0x38+0x2*-0x702,Ve=-0x6e*-0x2+0x1*0x1247+-0x1*0x1322,wo='infinite',tw='box',sw='dome',Os='none',zm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Jc{constructor(_0xed7891,_0x1ac6d4,_0x3416e9){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Bh]=_0xed7891,this['bindGroupF'+'ormats'][Bh]=_0x1ac6d4,this['vertexForm'+'at']=_0x3416e9);}['hasUniform'](_0xada8c1){for(let _0x4a5aee=0x3*0xb0c+-0x1b7*0x2+-0x2*0xedb;_0x4a5aee<this['uniformFor'+'mats']['length'];_0x4a5aee++){const _0x2e99f3=this['uniformFor'+'mats'][_0x4a5aee];if(_0x2e99f3!=null&&_0x2e99f3['get'](_0xada8c1))return!(-0x1d*-0x6f+-0x446*-0x5+0x1*-0x21f1);}return!(0x6b*0x7+-0x2681+0x2395);}['hasTexture'](_0x3ab260){for(let _0x3b248a=-0x1bd*-0xd+-0x17*0x178+0xb2f*0x1;_0x3b248a<this['bindGroupF'+'ormats']['length'];_0x3b248a++){const _0x1865cf=this['bindGroupF'+'ormats'][_0x3b248a];if(_0x1865cf!=null&&_0x1865cf['getTexture'](_0x3ab260))return!(0x11d6+-0x88c+-0x94a);}return!(-0x26e4+0x13f7+0x12ee);}['getVertexE'+'lement'](_0x43938e){var _0x252a2d;return(_0x252a2d=this['vertexForm'+'at'])==null?void(-0x800*0x3+-0x332*0x7+-0x2e5e*-0x1):_0x252a2d['elements']['find'](_0x3727df=>_0x3727df['name']===_0x43938e);}['generateKe'+'y'](_0x130841){var _0x5be505;let _0x2b60d0=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x130841['isWebGPU']&&(_0x2b60d0+=(_0x5be505=this['vertexForm'+'at'])==null?void(0x927+-0xb*-0xb9+-0x111a):_0x5be505['shaderProc'+'essingHash'+'String']),_0x2b60d0;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',kw='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),Ow='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',v0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',Ww='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',b0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),$w='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latThresho'+'ld;\x0a\x0afloat'+'\x20readThres'+'hold(in\x20Sp'+'latSource\x20'+'source)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(splatThr'+'eshold,\x20so'+'urce.uv,\x200'+').r;\x0a}\x0a\x0a',hT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atThreshol'+'dVS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatSHVS\x22'+'\x0a#endif\x0a\x0a#'+'include\x20\x22g'+'splatSourc'+'eVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCenterVS\x22'+'\x0a#include\x20'+'\x22gsplatCor'+'nerVS\x22\x0a#in'+'clude\x20\x22gsp'+'latOutputV'+'S\x22\x0a\x0a//\x20mod'+'ify\x20the\x20ga'+'ussian\x20cor'+'ner\x20so\x20it\x20'+'excludes\x20g'+'aussian\x20re'+'gions\x20with'+'\x20alpha\x0a//\x20'+'less\x20than\x20'+'e^{-4}\x0a//\x20'+'clipMaring'+'\x20is\x20the\x20mi'+'nimum\x20alph'+'a\x20value\x20fo'+'r\x20the\x20frag'+'ment\x20to\x20be'+'\x20included\x0a'+'void\x20clipC'+'orner(inou'+'t\x20SplatCor'+'ner\x20corner'+',\x20float\x20al'+'pha,\x20float'+'\x20clipMargi'+'nal)\x20{\x0a\x20\x20\x20'+'\x20float\x20cli'+'p\x20=\x20min(1.'+'0,\x20sqrt(lo'+'g(alpha\x20/\x20'+'clipMargin'+'al)\x20/\x204.0)'+');\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20*=\x20clip;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20*=\x20cli'+'p;\x0a}\x0a\x0a//\x20s'+'pherical\x20H'+'armonics\x0a\x0a'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a#d'+'efine\x20SH_C'+'1\x200.488602'+'5119029199'+'f\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20#defin'+'e\x20SH_C2_0\x20'+'1.09254843'+'05920792f\x0a'+'\x20\x20\x20\x20#defin'+'e\x20SH_C2_1\x20'+'-1.0925484'+'305920792f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C2_2'+'\x200.3153915'+'6525252005'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C2_'+'3\x20-1.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_4\x200.54627'+'4215296039'+'6f\x0a#endif\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20#define\x20')+('SH_C3_0\x20-0'+'.590043589'+'9266435f\x0a\x20'+'\x20\x20\x20#define'+'\x20SH_C3_1\x202'+'.890611442'+'640554f\x0a\x20\x20'+'\x20\x20#define\x20'+'SH_C3_2\x20-0'+'.457045799'+'4644658f\x0a\x20'+'\x20\x20\x20#define'+'\x20SH_C3_3\x200'+'.373176332'+'5901154f\x0a\x20'+'\x20\x20\x20#define'+'\x20SH_C3_4\x20-'+'0.45704579'+'94644658f\x0a'+'\x20\x20\x20\x20#defin'+'e\x20SH_C3_5\x20'+'1.44530572'+'1320277f\x0a\x20'+'\x20\x20\x20#define'+'\x20SH_C3_6\x20-'+'0.59004358'+'99266435f\x0a'+'#endif\x0a\x0a//'+'\x20see\x20https'+'://github.'+'com/graphd'+'eco-inria/'+'gaussian-s'+'platting/b'+'lob/main/u'+'tils/sh_ut'+'ils.py\x0avec'+'3\x20evalSH(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20vec3\x20'+'dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'sh\x20coeffic'+'ients\x0a\x20\x20\x20\x20'+'vec3\x20sh[SH'+'_COEFFS];\x0a'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20readSHDat'+'a(source,\x20'+'sh,\x20scale)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20dir'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20f'+'loat\x20z\x20=\x20d'+'ir.z;\x0a\x0a\x20\x20\x20'+'\x20//\x201st\x20de'+'gree\x0a\x20\x20\x20\x20v'+'ec3\x20result'+'\x20=\x20SH_C1\x20*'+'\x20(-sh[0]\x20*'+'\x20y\x20+\x20sh[1]'+'\x20*\x20z\x20-\x20sh['+'2]\x20*\x20x);\x0a\x0a'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20//\x202nd\x20de'+'gree\x0a\x20\x20\x20\x20f'+'loat\x20xx\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20yy\x20'+'=\x20y\x20*\x20y;\x0a\x20'+'\x20\x20\x20float\x20z'+'z\x20=\x20z\x20*\x20z;'+'\x0a\x20\x20\x20\x20float'+'\x20xy\x20=\x20x\x20*\x20'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20yz\x20=\x20y\x20'+'*\x20z;\x0a\x20\x20\x20\x20f'+'loat\x20xz\x20=\x20'+'x\x20*\x20z;\x0a\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[3]\x20*\x20(S'+'H_C2_0\x20*\x20x'+'y)\x20*\x20\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[4'+']\x20*\x20(SH_C2'+'_1\x20*\x20yz)\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[6]\x20*\x20(S'+'H_C2_3\x20*\x20x')+('z)\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a#endif'+'\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x202\x0a\x20'+'\x20\x20\x20//\x203rd\x20'+'degree\x0a\x20\x20\x20'+'\x20result\x20+='+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[9]\x20\x20*\x20('+'SH_C3_1\x20*\x20'+'xy\x20*\x20z)\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[10]\x20*\x20(SH'+'_C3_2\x20*\x20y\x20'+'*\x20(4.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[11]'+'\x20*\x20(SH_C3_'+'3\x20*\x20z\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'3.0\x20*\x20xx\x20-'+'\x203.0\x20*\x20yy)'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20*'+'\x20(SH_C3_4\x20'+'*\x20x\x20*\x20(4.0'+'\x20*\x20zz\x20-\x20xx'+'\x20-\x20yy))\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[14]\x20'+'*\x20(SH_C3_6'+'\x20*\x20x\x20*\x20(xx'+'\x20-\x203.0\x20*\x20y'+'y));\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20result'+'\x20*\x20scale;\x0a'+'}\x0a#endif\x0a'),cT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),dT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),uT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),fT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),pT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',mT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20di'+'scard;\x0a}\x0a',_T='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),gT='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',yT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x20\x20\x20\x20'+'float\x20thre'+'shold\x20=\x20re'+'adThreshol'+'d(source);'+'\x0a\x20\x20\x20\x20if(ma'+'rginal\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.w\x20'+'*=\x20margina'+'l;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20if(clr.'+'w\x20<\x20thresh'+'old)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20//\x20'+'evaluate\x20s'+'pherical\x20h'+'armonics\x0a\x20'+'\x20\x20\x20#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20model'+'-space\x20vie'+'w\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20normalize'+'(center.vi'+'ew\x20*\x20mat3('+'center.mod'+'elView));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'r.xyz\x20+=\x20e'+'valSH(sour'+'ce,\x20dir);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20clip'+'Corner(cor'+'ner,\x20clr.w'+',\x20threshol'+'d);\x0a\x0a\x20\x20\x20\x20/'+'/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr.a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20//\x20w'+'rite\x20outpu'+'t\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'center.pro'+'j\x20+\x20vec4(c'+'orner.offs'+'et,\x200,\x200);'+'\x0a\x20\x20\x20\x20gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20gaussia'+'nColor\x20=\x20v'+'ec4(prepar'+'eOutputFro'+'mGamma(max'+'(clr.xyz,\x20'+'0.0)),\x20clr'+'.w);\x0a\x20\x20\x20\x20/'+'/gaussianC'+'olor\x20=\x20vec'+'4(center.p'+'roj.w,\x20cen'+'ter.proj.w'+',\x20center.p'+'roj.w,\x201.0'+');\x0a\x20\x20\x20\x20gau'+'ssianColor'+'\x20=\x20clamp(g'+'aussianCol'+'or,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20id'+'\x20=\x20float(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a'),xT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),ST='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',vT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',bT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',wT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',TT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',ET='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),CT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',MT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',PT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),RT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',IT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',DT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',LT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),FT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),kT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),BT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',NT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',zT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',UT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',GT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',WT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',$T='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',qT='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',XT='\x0a',jT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',YT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',KT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',ZT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',QT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',eA='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',tA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',sA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',nA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',aA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',oA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),lA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',hA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),cA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',dA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',uA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',fA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',pA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',mA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',_A='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',gA='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),yA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',xA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',vA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',bA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),wA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',TA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',AA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',EA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',CA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',MA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),PA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',RA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',IA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',DA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',LA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',FA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',kA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',BA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',NA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',zA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',UA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',VA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',HA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',WA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',$A='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',XA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),jA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',YA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',KA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',ZA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),QA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+v0+'\x0a'+b0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),JA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),eE='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),tE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',iE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),rE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20Φ\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),nE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),aE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),oE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),lE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),hE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),cE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',dE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),uE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),fE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),pE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',mE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',_E='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',gE='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',xE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',SE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',vE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',bE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',wE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',TE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',AE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',EE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',CE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',ME='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',RE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',FE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',kE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),NE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',zE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',UE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',VE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',GE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',HE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',WE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',j={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':kw,'cubeMapProjectBoxPS':Ow,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':v0,'emissivePS':Ww,'encodePS':b0,'endPS':$w,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':e0,'gles3VS':t0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':uT,'gsplatColorVS':oT,'gsplatThresholdVS':lT,'gsplatCommonVS':hT,'gsplatCompressedDataVS':cT,'gsplatCompressedSHVS':dT,'gsplatDataVS':fT,'gsplatOutputVS':pT,'gsplatPS':mT,'gsplatSHVS':_T,'gsplatSourceVS':gT,'gsplatVS':yT,'iridescenceDiffractionPS':xT,'iridescencePS':ST,'iridescenceThicknessPS':vT,'iorPS':bT,'lightDiffuseLambertPS':wT,'lightDirPointPS':TT,'lightmapAddPS':AT,'lightmapDirAddPS':ET,'lightmapDirPS':CT,'lightmapSinglePS':MT,'lightSpecularAnisoGGXPS':PT,'lightSpecularBlinnPS':RT,'lightSheenPS':IT,'linearizeDepthPS':DT,'litShaderArgsPS':LT,'ltcPS':FT,'metalnessPS':kT,'metalnessModulatePS':BT,'msdfPS':OT,'msdfVS':NT,'normalVS':zT,'normalCoreVS':UT,'normalDetailMapPS':VT,'normalMapPS':GT,'normalXYPS':HT,'normalXYZPS':WT,'opacityPS':$T,'opacityDitherPS':qT,'outputPS':XT,'outputAlphaPS':jT,'outputAlphaOpaquePS':YT,'outputAlphaPremulPS':KT,'outputTex2DPS':ZT,'sheenPS':QT,'sheenGlossPS':JT,'parallaxPS':eA,'particlePS':tA,'particleVS':sA,'particleAnimFrameClampVS':iA,'particleAnimFrameLoopVS':rA,'particleAnimTexVS':nA,'particleInputFloatPS':aA,'particleInputRgba8PS':oA,'particleOutputFloatPS':lA,'particleOutputRgba8PS':hA,'particleUpdaterAABBPS':cA,'particleUpdaterEndPS':dA,'particleUpdaterInitPS':uA,'particleUpdaterNoRespawnPS':fA,'particleUpdaterOnStopPS':pA,'particleUpdaterRespawnPS':mA,'particleUpdaterSpherePS':_A,'particleUpdaterStartPS':gA,'particle_billboardVS':yA,'particle_blendAddPS':xA,'particle_blendMultiplyPS':SA,'particle_blendNormalPS':vA,'particle_cpuVS':bA,'particle_cpu_endVS':wA,'particle_customFaceVS':TA,'particle_endPS':AA,'particle_endVS':EA,'particle_halflambertPS':CA,'particle_initVS':MA,'particle_lambertPS':PA,'particle_lightingPS':RA,'particle_localShiftVS':IA,'particle_meshVS':DA,'particle_normalVS':LA,'particle_normalMapPS':FA,'particle_pointAlongVS':kA,'particle_softPS':OA,'particle_softVS':BA,'particle_stretchVS':NA,'particle_TBNVS':zA,'particle_wrapVS':UA,'pickPS':VA,'reflDirPS':GA,'reflDirAnisoPS':HA,'reflectionCCPS':WA,'reflectionCubePS':$A,'reflectionEnvHQPS':qA,'reflectionEnvPS':XA,'reflectionSpherePS':jA,'reflectionSheenPS':YA,'refractionCubePS':KA,'refractionDynamicPS':ZA,'reprojectPS':QA,'sampleCatmullRomPS':JA,'screenDepthPS':eE,'shadowCascadesPS':tE,'shadowEVSMPS':sE,'shadowEVSMnPS':iE,'shadowPCSSPS':rE,'shadowSampleCoordPS':nE,'shadowSoftPS':aE,'shadowStandardPS':oE,'shadowStandardGL2PS':lE,'shadowVSM_commonPS':hE,'skinBatchVS':cE,'skinVS':dE,'skyboxPS':uE,'skyboxVS':fE,'specularPS':pE,'sphericalPS':mE,'specularityFactorPS':_E,'spotPS':gE,'startPS':yE,'startVS':xE,'startNineSlicedPS':SE,'startNineSlicedTiledPS':vE,'storeEVSMPS':bE,'tangentBinormalVS':wE,'TBNPS':TE,'TBNderivativePS':AE,'TBNObjectSpacePS':EE,'thicknessPS':CE,'tonemappingPS':ME,'tonemappingAcesPS':PE,'tonemappingAces2PS':RE,'tonemappingFilmicPS':IE,'tonemappingHejlPS':DE,'tonemappingLinearPS':LE,'tonemappingNeutralPS':FE,'tonemappingNonePS':kE,'transformVS':OE,'transformCoreVS':BE,'transformInstancingVS':NE,'transmissionPS':zE,'twoSidedLightingPS':UE,'uv0VS':VE,'uv1VS':GE,'viewDirPS':HE,'viewNormalVS':WE,'webgpuPS':s0,'webgpuVS':i0},w0=new Ht();function za(_0x1e8063){const _0x247c20=w0['get'](_0x1e8063);return b['assert'](_0x247c20),_0x247c20;}function $E(_0x444b1c,_0x7bc6f0){b['assert'](_0x7bc6f0),w0['get'](_0x444b1c,()=>_0x7bc6f0);}class Nt{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x1e645e){const _0x3cdc66=Array['from'](_0x1e645e)['sort']((_0x482406,_0x5462f1)=>_0x482406[-0x26ed*0x1+-0x1aee+-0x2dd*-0x17]>_0x5462f1[0x172e+0x5*0x517+-0x30a1*0x1]?0xf5d+-0x182c+0x4*0x234:-(-0x21c2+0x5*0x45f+0xbe8));return cn(JSON['stringify'](_0x3cdc66));}}const qE=new Ht();class XE{constructor(_0x5b037a,_0x3f0255,_0x5955d9={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(b['assert'](/^[a-z]\w*$/i['test'](_0x5b037a),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x5b037a),this['name']=_0x5b037a,this['index']=_0x3f0255,Object['assign'](this,_0x5955d9),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x410c34;this['isShadow']?_0x410c34='SHADOW':this['isForward']?_0x410c34='FORWARD':this['index']===ll?_0x410c34='DEPTH':this['index']===Na&&(_0x410c34='PICK'),this['defines']['set'](_0x410c34+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class ti{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',0x1088+0x22ac+-0x1*0x3334);const _0x281cbb=(_0x1184c1,_0x2b2b90,_0x2fc4fd)=>{const _0x416a56=this['allocate'](_0x1184c1,_0x2fc4fd);b['assert'](_0x416a56['index']===_0x2b2b90);};_0x281cbb('forward',xn,{'isForward':!(-0xc1+0x1*0x2361+-0x22a0*0x1)}),_0x281cbb('prepass',ol),_0x281cbb('depth',ll),_0x281cbb('pick',Na),_0x281cbb('shadow',Fp);}static['get'](_0x1e4c68){return b['assert'](_0x1e4c68),qE['get'](_0x1e4c68,()=>new ti());}['allocate'](_0x371de3,_0x3f4d98){let _0x56a408=this['passesName'+'d']['get'](_0x371de3);return _0x56a408===void(0x14c8+0x783*-0x4+0x944)&&(_0x56a408=new XE(_0x371de3,this['nextIndex'],_0x3f4d98),this['passesName'+'d']['set'](_0x56a408['name'],_0x56a408),this['passesInde'+'xed'][_0x56a408['index']]=_0x56a408,this['nextIndex']++),_0x56a408;}['getByIndex'](_0x2facdd){const _0x20f91e=this['passesInde'+'xed'][_0x2facdd];return b['assert'](_0x20f91e),_0x20f91e;}['getByName'](_0x3125da){return this['passesName'+'d']['get'](_0x3125da);}}function Bs(_0x308d29,_0x433370,_0x5b7d7c,_0x16312f,_0x59bf78,_0x2b01f6=!(0x65*-0x2+-0xce*-0xc+-0x8dd),_0x516486={}){b['assert'](!(-0x13*0xa7+0x9c6+0x29f)),typeof _0x2b01f6=='boolean'?_0x516486['useTransfo'+'rmFeedback']=_0x2b01f6:typeof _0x2b01f6=='object'&&(_0x516486={..._0x516486,..._0x2b01f6});const _0x4923a7=za(_0x308d29);let _0x1155a3=_0x4923a7['getCachedS'+'hader'](_0x16312f);return _0x1155a3||(_0x1155a3=new r0(_0x308d29,Ft['createDefi'+'nition'](_0x308d29,{..._0x516486,'name':_0x16312f,'vertexCode':_0x433370,'fragmentCode':_0x5b7d7c,'attributes':_0x59bf78})),_0x4923a7['setCachedS'+'hader'](_0x16312f,_0x1155a3)),_0x1155a3;}class jE extends Nt{constructor(_0x9d0288,_0x440d2c){super(),this['key']=_0x9d0288,this['shaderDefi'+'nition']=_0x440d2c;}['generateKe'+'y'](_0x21e15b){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x3dbba6,_0x5de7cc){return this['shaderDefi'+'nition'];}}function YE(_0x2801d8,_0x4181f8){b['assert'](_0x2801d8);const _0x1ce887=_0x2801d8['definition'],_0x5d1cd7=(_0x1ce887['name']??'shader')+'-id-'+_0x2801d8['id'],_0x4a4cbc=new jE(_0x5d1cd7,_0x1ce887),_0x370220='shader',_0x1630c1=za(_0x2801d8['device']);b['assert'](!_0x1630c1['isRegister'+'ed'](_0x370220)),_0x1630c1['register'](_0x370220,_0x4a4cbc);const _0x3522ff=_0x1630c1['getProgram'](_0x370220,{},_0x4181f8);return _0x2801d8['definition']['shaderLang'+'uage']===Fh&&(_0x3522ff['meshUnifor'+'mBufferFor'+'mat']=_0x1ce887['meshUnifor'+'mBufferFor'+'mat'],_0x3522ff['meshBindGr'+'oupFormat']=_0x1ce887['meshBindGr'+'oupFormat']),_0x1630c1['unregister'](_0x370220),_0x3522ff;}const Op=(_0x220e14,_0x4cbcd5)=>{const _0x3f13bb=new Map(_0x220e14['defines']);return _0x4cbcd5['cameraShad'+'erParams']['defines']['forEach']((_0x14458a,_0x394bcf)=>_0x3f13bb['set'](_0x394bcf,_0x14458a)),ti['get'](_0x4cbcd5['device'])['getByIndex'](_0x4cbcd5['pass'])['defines']['forEach']((_0x5286ef,_0x35ca98)=>_0x3f13bb['set'](_0x35ca98,_0x5286ef)),_0x3f13bb;},KE={'type':lr,'base':0x0,'count':0x4,'indexed':!(-0x24a3+-0x10a9*0x1+0x354d)},$a=new ee(),qa=new ee(),yd=new Ky();class Gu{constructor(_0x50be1b){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x2acec3=_0x50be1b['device'];if(this['shader']=_0x50be1b,b['assert'](_0x50be1b),_0x2acec3['supportsUn'+'iformBuffe'+'rs']){const _0xda2e4b=new Jc();this['shader']=YE(_0x50be1b,_0xda2e4b);const _0x502e90=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x502e90&&(this['uniformBuf'+'fer']=new vp(_0x2acec3,_0x502e90,!(-0x1773+0xd*-0x16d+-0xdff*-0x3)));const _0x546148=this['shader']['meshBindGr'+'oupFormat'];b['assert'](_0x546148),this['bindGroup']=new xp(_0x2acec3,_0x546148),gn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x1b98a9,_0x46e106;(_0x1b98a9=this['uniformBuf'+'fer'])==null||_0x1b98a9['destroy'](),this['uniformBuf'+'fer']=null,(_0x46e106=this['bindGroup'])==null||_0x46e106['destroy'](),this['bindGroup']=null;}['render'](_0xe60290,_0x34bebf){const _0x52a0d9=this['shader']['device'];G['pushGpuMar'+'ker'](_0x52a0d9,'QuadRender'),_0xe60290&&($a['set'](_0x52a0d9['vx'],_0x52a0d9['vy'],_0x52a0d9['vw'],_0x52a0d9['vh']),qa['set'](_0x52a0d9['sx'],_0x52a0d9['sy'],_0x52a0d9['sw'],_0x52a0d9['sh']),_0x34bebf=_0x34bebf??_0xe60290,_0x52a0d9['setViewpor'+'t'](_0xe60290['x'],_0xe60290['y'],_0xe60290['z'],_0xe60290['w']),_0x52a0d9['setScissor'](_0x34bebf['x'],_0x34bebf['y'],_0x34bebf['z'],_0x34bebf['w'])),_0x52a0d9['setVertexB'+'uffer'](_0x52a0d9['quadVertex'+'Buffer'],-0x1*0x254f+-0xe6e+0x33bd);const _0x1e05e8=this['shader'];if(_0x52a0d9['setShader'](_0x1e05e8),_0x52a0d9['supportsUn'+'iformBuffe'+'rs']){_0x52a0d9['setBindGro'+'up'](Bh,_0x52a0d9['emptyBindG'+'roup']);const _0x348cbe=this['bindGroup'];_0x348cbe['update'](),_0x52a0d9['setBindGro'+'up'](jy,_0x348cbe);const _0x58b85d=this['uniformBuf'+'fer'];_0x58b85d?(_0x58b85d['update'](yd),_0x52a0d9['setBindGro'+'up'](Ru,yd['bindGroup'],yd['offsets'])):_0x52a0d9['setBindGro'+'up'](Ru,_0x52a0d9['emptyBindG'+'roup']);}_0x52a0d9['draw'](KE),_0xe60290&&(_0x52a0d9['setViewpor'+'t']($a['x'],$a['y'],$a['z'],$a['w']),_0x52a0d9['setScissor'](qa['x'],qa['y'],qa['z'],qa['w'])),G['popGpuMark'+'er'](_0x52a0d9);}}class ZE extends gs{constructor(_0x5bbcef,_0x57a059,_0x2fb002,_0x283e79){super(_0x5bbcef),this['quad']=_0x57a059,this['rect']=_0x2fb002,this['scissorRec'+'t']=_0x283e79;}['execute'](){const {device:_0x2acad5}=this;G['pushGpuMar'+'ker'](_0x2acad5,this['name']+':'+this['quad']['shader']['name']),_0x2acad5['setCullMod'+'e'](vt),_0x2acad5['setDepthSt'+'ate'](us['NODEPTH']),_0x2acad5['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x2acad5);}}const QE=new ee();function fn(_0x285174,_0x4f9cb1,_0x390989,_0x2019d4,_0x34b945){b['assert'](_0x4f9cb1!==void(-0x205f*0x1+0x35f*0x4+0x12e3));const _0x24fb96=arguments[-0x202f+-0x24ec+0x4520];b['call'](()=>{_0x24fb96!==void(0x171b+0x2337+-0x3a52)&&b['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x2a4f10=new Gu(_0x390989);_0x2019d4||(_0x2019d4=QE,_0x2019d4['x']=-0x19cc+0x1a8b+-0xbf,_0x2019d4['y']=-0x15e5+0x9*0x16a+0x92b*0x1,_0x2019d4['z']=_0x4f9cb1?_0x4f9cb1['width']:_0x285174['width'],_0x2019d4['w']=_0x4f9cb1?_0x4f9cb1['height']:_0x285174['height']);const _0x40f577=new ZE(_0x285174,_0x2a4f10,_0x2019d4,_0x34b945);_0x40f577['init'](_0x4f9cb1),_0x40f577['colorOps']['clear']=!(-0x8*0x388+-0x54*0x25+0x2865),_0x40f577['depthStenc'+'ilOps']['clearDepth']=!(0x83*0x3f+0x75*0xe+-0x26a2),_0x285174['isWebGPU']&&_0x4f9cb1===null&&_0x285174['samples']>-0x10c1+0x2180+-0x2*0x85f&&(_0x40f577['colorOps']['store']=!(0x1c*-0x15e+-0x784+0x2dcc)),_0x40f577['render'](),_0x2a4f10['destroy']();}class Um{constructor(_0x1bc73d,_0x2f5e19,_0x30608a){c(this,'_aabb',new ve()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x1bc73d,this['dynamic']=_0x2f5e19,this['batchGroup'+'Id']=_0x30608a);}['destroy'](_0x4ced07,_0x23bfee){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x4ced07,_0x23bfee),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x469dd9,_0x401411){for(let _0x2b6fbd=-0x5ff*-0x1+0x17*0x167+-0x99*0x40;_0x2b6fbd<_0x401411['length'];_0x2b6fbd++){const _0x3c0edc=_0x469dd9['layers']['getLayerBy'+'Id'](_0x401411[_0x2b6fbd]);_0x3c0edc&&_0x3c0edc['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x32953d,_0x38e70e){for(let _0x562417=0x306+0x1*0x18ea+-0x1bf0;_0x562417<_0x38e70e['length'];_0x562417++){const _0x6b2e58=_0x32953d['layers']['getLayerBy'+'Id'](_0x38e70e[_0x562417]);_0x6b2e58&&_0x6b2e58['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x4*-0x77+-0x2*0xb08+0x17ec]['aabb']);for(let _0x299279=0x1*0x22c3+0x877*0x2+-0x33b0;_0x299279<this['origMeshIn'+'stances']['length'];_0x299279++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x299279]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=0x1*-0xdaf+-0x1*0x132d+0x20dc;}get['model'](){b['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class rt{constructor(_0x2190c1,_0x1ec49c,_0x568dd9,_0xb96650,_0x1fb294=[zi]){c(this,'_ui',!(0xb6b+-0x1*-0x572+0xa6*-0x1a)),c(this,'_sprite',!(-0x137*-0x16+0x1c7d+-0xbf*0x4a)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x2190c1,this['name']=_0x1ec49c,this['dynamic']=_0x568dd9,this['maxAabbSiz'+'e']=_0xb96650,this['layers']=_0x1fb294);}}c(rt,'MODEL','model'),c(rt,'ELEMENT','element'),c(rt,'SPRITE','sprite'),c(rt,'RENDER','render');const Vm=new q();class hl{constructor(_0x2d0ed1){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(-0x1916+-0x1577+0x2e8d),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(0x2334+-0x1d97*-0x1+-0x40ca),this['_updateBef'+'oreCull']=!(-0x1a15*-0x1+-0x1fbb*0x1+0x5a6),_0x2d0ed1&&this['initSkin'](_0x2d0ed1));}set['rootBone'](_0x1b97df){this['_rootBone']=_0x1b97df;}get['rootBone'](){return this['_rootBone'];}['init'](_0x383bd8,_0x2aed2d){const _0x48c278=_0x2aed2d*(-0x1967*0x1+-0x1*0x119b+-0x3*-0xe57);let _0x457792=Math['ceil'](Math['sqrt'](_0x48c278));_0x457792=z['roundUp'](_0x457792,-0xd1a+-0x19*-0x17b+-0xe*0x1b5);const _0x1468bb=Math['ceil'](_0x48c278/_0x457792);this['boneTextur'+'e']=new ce(_0x383bd8,{'width':_0x457792,'height':_0x1468bb,'format':et,'mipmaps':!(-0x5*0x763+0xc65+-0x3d*-0x67),'minFilter':fe,'magFilter':fe,'name':'skin'}),this['boneTextur'+'eSize']=[_0x457792,_0x1468bb,(0x138e+-0x57e*-0x7+-0x39ff)/_0x457792,(0x13*0x14c+-0x198e+0xeb)/_0x1468bb],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':ky}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x30d5ce,_0x1ed56e){this['rootBone']=_0x30d5ce;const _0x4080c0=this['skin'],_0x5a5e79=[];for(let _0x14621a=-0x35*-0x6b+-0x1571+0xe*-0xd;_0x14621a<_0x4080c0['boneNames']['length'];_0x14621a++){const _0x3b6619=_0x4080c0['boneNames'][_0x14621a];let _0x4edb26=_0x30d5ce['findByName'](_0x3b6619);_0x4edb26||(b['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x3b6619+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x1ed56e['name']+(',\x20rootBone'+':\x20')+_0x30d5ce['name']),_0x4edb26=_0x1ed56e),_0x5a5e79['push'](_0x4edb26);}this['bones']=_0x5a5e79;}['initSkin'](_0xdf160b){this['skin']=_0xdf160b,this['bones']=[];const _0x2a8b42=_0xdf160b['inverseBin'+'dPose']['length'];this['init'](_0xdf160b['device'],_0x2a8b42),this['matrices']=[];for(let _0x5fff47=-0x8bc+-0x614+-0x2*-0x768;_0x5fff47<_0x2a8b42;_0x5fff47++)this['matrices'][_0x5fff47]=new q();}['uploadBone'+'s'](_0x42120b){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x4da4f5,_0x398dbe){if(this['_skinUpdat'+'eIndex']!==_0x398dbe){this['_skinUpdat'+'eIndex']=_0x398dbe,Vm['copy'](_0x4da4f5['getWorldTr'+'ansform']())['invert']();for(let _0x675c19=this['bones']['length']-(-0x2*0x941+-0x1ec+0x146f*0x1);_0x675c19>=0x18b*-0x7+0x208*-0x10+0x2b4d;_0x675c19--)this['matrices'][_0x675c19]['mulAffine2'](Vm,this['bones'][_0x675c19]['getWorldTr'+'ansform']()),this['matrices'][_0x675c19]['mulAffine2'](this['matrices'][_0x675c19],this['skin']['inverseBin'+'dPose'][_0x675c19]);}}['updateMatr'+'ices'](_0x1a46d4,_0x510a99){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x1a46d4,_0x510a99);}['updateMatr'+'ixPalette'](_0x20909b,_0x34c8e7){this['_updateMat'+'rices'](_0x20909b,_0x34c8e7);const _0x1a62e3=this['matrixPale'+'tte'],_0x5a1fb6=this['bones']['length'];for(let _0x4cef7d=0xce*0x10+-0x1*0x62f+-0x6b1;_0x4cef7d<_0x5a1fb6;_0x4cef7d++){const _0x69f7b1=this['matrices'][_0x4cef7d]['data'],_0x304e50=_0x4cef7d*(-0x1089+-0x1*-0x16e5+-0x650);_0x1a62e3[_0x304e50]=_0x69f7b1[-0xa2f+-0x1e18+0x3*0xd6d],_0x1a62e3[_0x304e50+(0x9*-0x248+0x7*-0x427+0x18cd*0x2)]=_0x69f7b1[0xf29*0x2+0x48c+0x3*-0xb9e],_0x1a62e3[_0x304e50+(0xa3a+-0x1*-0x1694+-0x20cc)]=_0x69f7b1[-0x1*-0x24cb+0x1*-0x2314+-0x1af],_0x1a62e3[_0x304e50+(-0x36*-0x4e+-0x1825+-0x11*-0x74)]=_0x69f7b1[-0x2ce*-0x1+-0x1295*-0x1+-0x1557],_0x1a62e3[_0x304e50+(-0x728+0x1eae+-0x76*0x33)]=_0x69f7b1[0x21c7+-0x1*0x12d5+-0xef1],_0x1a62e3[_0x304e50+(0xf87+0x2324+-0x32a6)]=_0x69f7b1[0xcc2+-0x1bf6+0xf39],_0x1a62e3[_0x304e50+(-0x2fe*-0x2+-0x3*0x35f+0x427*0x1)]=_0x69f7b1[-0x1c7b+0x5*0x795+-0x965],_0x1a62e3[_0x304e50+(-0xfd3*-0x2+-0x576+-0x1a29)]=_0x69f7b1[-0xfa7*-0x1+-0x127d*0x2+0x1560],_0x1a62e3[_0x304e50+(-0x24ef+0x2*-0xae7+0x3ac5*0x1)]=_0x69f7b1[-0x1d5*0x3+-0x11*0xa3+0x1054],_0x1a62e3[_0x304e50+(-0x2638+-0xbbd+-0xa2*-0x4f)]=_0x69f7b1[-0xa12*-0x1+-0xed5+0x4c9],_0x1a62e3[_0x304e50+(-0x11ae+-0xc96+-0x12*-0x1af)]=_0x69f7b1[-0x2549+-0xdd7+-0x25*-0x162],_0x1a62e3[_0x304e50+(-0x185*0x15+0xb68+-0x41c*-0x5)]=_0x69f7b1[0x228*-0x3+0x24c9+-0x1e43];}this['uploadBone'+'s'](this['skin']['device']);}}class Gm extends hl{constructor(_0x4083c3,_0x434921,_0x5a019f){super();const _0x25f0f7=_0x434921['length'];this['init'](_0x4083c3,_0x25f0f7),this['device']=_0x4083c3,this['rootNode']=_0x5a019f,this['bones']=_0x434921;}['updateMatr'+'ices'](_0x131455,_0x479710){}['updateMatr'+'ixPalette'](_0x11cc05,_0x94d35e){const _0x364f18=this['matrixPale'+'tte'],_0x487bac=this['bones']['length'];for(let _0x42f4ef=-0x2a2+-0x12*0x29+0x4*0x161;_0x42f4ef<_0x487bac;_0x42f4ef++){const _0x4acdfc=this['bones'][_0x42f4ef]['getWorldTr'+'ansform']()['data'],_0x5c5f70=_0x42f4ef*(0x5*-0x2ba+0x6*0x8f+0xa54);_0x364f18[_0x5c5f70]=_0x4acdfc[0xa2c+-0xbbb+0x85*0x3],_0x364f18[_0x5c5f70+(0x1*0x1ced+0x85*-0x13+-0x1*0x130d)]=_0x4acdfc[0x5f9+-0x4e*0xa+-0x2e9*0x1],_0x364f18[_0x5c5f70+(-0x1a2f+-0x1408+0x2e39)]=_0x4acdfc[-0x1e1a*-0x1+-0x38f+-0x1a83*0x1],_0x364f18[_0x5c5f70+(0x1efe+0x9c5*0x3+-0x3c4a)]=_0x4acdfc[-0xb99*-0x1+0x3c*0x65+-0x2339*0x1],_0x364f18[_0x5c5f70+(-0x2170+0x29*-0x83+0x366f)]=_0x4acdfc[0x18c5+0x4c0+0xec2*-0x2],_0x364f18[_0x5c5f70+(-0x14d8+-0x2c*0xce+0x1*0x3845)]=_0x4acdfc[-0x4f8+0x1*0x2ad+0x250],_0x364f18[_0x5c5f70+(0xb5e+0x1543+0x1eb*-0x11)]=_0x4acdfc[0x4f*0xe+0x243e+-0x2887*0x1],_0x364f18[_0x5c5f70+(0x11e4+0x395*-0x4+-0x389)]=_0x4acdfc[-0x1395+0x67f+-0xb1*-0x13],_0x364f18[_0x5c5f70+(0x90f*0x4+0x22*0x6f+-0x32f2)]=_0x4acdfc[0x1*-0x719+0x1b34+-0x1419],_0x364f18[_0x5c5f70+(0x1e23+-0x6b9*0x1+-0x15*0x11d)]=_0x4acdfc[-0x1*0x1606+-0x24f2+0x3*0x13aa],_0x364f18[_0x5c5f70+(0x2014+-0x26d7+0x6cd*0x1)]=_0x4acdfc[0x1ee1+-0x17ea+-0xc5*0x9],_0x364f18[_0x5c5f70+(0x13a1+0x1bae+-0x226*0x16)]=_0x4acdfc[0x2341+-0x2b5+0x1*-0x207e];}this['uploadBone'+'s'](this['device']);}}let JE=0xcb2+0x61*-0x4d+0x107b;class js{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0x7*-0x1d+-0x1b*0x133+-0x1*-0x1f97),this['verticesUs'+'age']=ts,this['indicesUsa'+'ge']=ts,this['maxVertice'+'s']=0x2096*0x1+0xda*-0x25+-0x114,this['maxIndices']=0x14b5+-0xa*0x53+-0x11*0x107,this['vertexCoun'+'t']=0x91e+0x2*0x2dd+-0xed8,this['indexCount']=0x1bf6+0x16f8+0x3*-0x10fa,this['vertexStre'+'amsUpdated']=!(-0x47f+-0xadd+0x9*0x1b5),this['indexStrea'+'mUpdated']=!(0x4*-0x94d+0x16bd+-0x39e*-0x4),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x35c4dc,_0x27a5c5){this['vertexCoun'+'t']?b['assert'](this['vertexCoun'+'t']===_0x35c4dc,'Vertex\x20str'+'eam\x20'+_0x27a5c5+'\x20has\x20'+_0x35c4dc+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x35c4dc;}}c(js,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0x3*-0x9be+-0x2*-0x166+0x1a71*0x1),c(js,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x194e+0x79*0x37+-0x334a),c(js,'DEFAULT_CO'+'MPONENTS_U'+'V',-0xb67+-0x129a*-0x1+-0x731*0x1),c(js,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0xd5+-0x1178+-0x261*-0x7);class eC{constructor(_0x21e264,_0x383426,_0x40d9a7,_0x518b81,_0x3d16a4){this['data']=_0x21e264,this['componentC'+'ount']=_0x383426,this['dataType']=_0x40d9a7,this['dataTypeNo'+'rmalize']=_0x518b81,this['asInt']=_0x3d16a4;}}class ke extends qc{constructor(_0x3f8910,_0x3423e0){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',0x1b88+0x2449*-0x1+0x8c1*0x1),c(this,'_aabb',new ve()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(-0x77f+-0x8c9*0x4+0x2aa4)),c(this,'_storageVe'+'rtex',!(0xfcb+0x15f2+-0x25bc)),(this['id']=JE++,b['assert'](_0x3f8910,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x3f8910,this['_storageIn'+'dex']=(_0x3423e0==null?void(0x15ca+0x13c5+-0x298f):_0x3423e0['storageInd'+'ex'])||!(0xfd*0x13+-0x2b*0x49+-0x1*0x683),this['_storageVe'+'rtex']=(_0x3423e0==null?void(-0x176b+-0x165a+0x2dc5*0x1):_0x3423e0['storageVer'+'tex'])||!(0x52*-0x27+-0x17a4+-0x1d*-0x13f));}static['fromGeomet'+'ry'](_0xd1f969,_0x47f22c,_0x2dbdf4={}){const _0x25a293=new ke(_0xd1f969,_0x2dbdf4),{positions:_0x303799,normals:_0xa511da,tangents:_0x123102,colors:_0x180c19,uvs:_0x2e8c45,uvs1:_0x42225f,blendIndices:_0xb9ad37,blendWeights:_0x2ae0f0,indices:_0x37387b}=_0x47f22c;return _0x303799&&_0x25a293['setPositio'+'ns'](_0x303799),_0xa511da&&_0x25a293['setNormals'](_0xa511da),_0x123102&&_0x25a293['setVertexS'+'tream'](si,_0x123102,-0x1*-0x227b+0x1ab+-0xa*0x39d),_0x180c19&&_0x25a293['setColors3'+'2'](_0x180c19),_0x2e8c45&&_0x25a293['setUvs'](-0x1*0x1a76+-0x19d7+-0x116f*-0x3,_0x2e8c45),_0x42225f&&_0x25a293['setUvs'](-0x4*-0x26+0x1*0xfc6+-0x105d*0x1,_0x42225f),_0xb9ad37&&_0x25a293['setVertexS'+'tream'](Jt,_0xb9ad37,-0x1cf1+0x1*0xf2b+-0xa*-0x161,_0xb9ad37['length']/(0xf7*-0xf+0x19c7+-0x242*0x5),Zr),_0x2ae0f0&&_0x25a293['setVertexS'+'tream'](ei,_0x2ae0f0,-0x136e+0x45e+0xf14),_0x37387b&&_0x25a293['setIndices'](_0x37387b),_0x25a293['update'](),_0x25a293;}set['morph'](_0x19b98f){_0x19b98f!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x19b98f,_0x19b98f&&_0x19b98f['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x38d79e){this['_aabb']=_0x38d79e,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x231042=this['morph'];_0x231042&&(this['morph']=null,_0x231042['refCount']<0x8cb+-0xe54+0x58a*0x1&&_0x231042['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x32f5a8=-0x4*0x2ce+0x118b+-0x653;_0x32f5a8<this['indexBuffe'+'r']['length'];_0x32f5a8++)this['_destroyIn'+'dexBuffer'](_0x32f5a8);this['indexBuffe'+'r']['length']=-0x1*-0x2513+0x1*-0xabb+-0x1a58,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x3ea0ba){this['indexBuffe'+'r'][_0x3ea0ba]&&(this['indexBuffe'+'r'][_0x3ea0ba]['destroy'](),this['indexBuffe'+'r'][_0x3ea0ba]=null);}['_initBoneA'+'abbs'](_0x27365f){this['boneAabb']=[],this['boneUsed']=[];let _0x3cd3e6,_0x50c320,_0x4224a3,_0x3271e8,_0x4b56c1;const _0x497ddc=[],_0x529b09=[],_0x227b48=this['boneUsed'],_0x2b321e=this['skin']['boneNames']['length'];let _0x37bf9f,_0x2468b9,_0x1d480b;for(let _0x2e2e39=0x20b5+0x1dfb+-0x3eb0;_0x2e2e39<_0x2b321e;_0x2e2e39++)_0x497ddc[_0x2e2e39]=new A(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x529b09[_0x2e2e39]=new A(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x1ffc27=new vo(this['vertexBuff'+'er']),_0x27d808=_0x1ffc27['element'][Xe],_0x5de934=_0x1ffc27['element'][ei],_0x36322b=_0x1ffc27['element'][Jt],_0x583786=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x4eaea7=0x155*0x12+-0x1ea0+0x6a6;_0x4eaea7<_0x583786;_0x4eaea7++){for(let _0xa82ec0=0x475*-0x7+0x99d+0x1596;_0xa82ec0<0x1cdb+-0x828+-0x14af;_0xa82ec0++)if(_0x5de934['array'][_0x5de934['index']+_0xa82ec0]>0xf*0x297+0x13d9*-0x1+0x980*-0x2){const _0x5ac195=_0x36322b['array'][_0x36322b['index']+_0xa82ec0];if(_0x227b48[_0x5ac195]=!(-0x8c7*-0x1+-0x1*0x1286+-0x1*-0x9bf),_0x3cd3e6=_0x27d808['array'][_0x27d808['index']],_0x50c320=_0x27d808['array'][_0x27d808['index']+(0x1edb+0x188e+-0x3768)],_0x4224a3=_0x27d808['array'][_0x27d808['index']+(0x1*-0xd79+0xa68+0x313)],_0x3271e8=_0x529b09[_0x5ac195],_0x4b56c1=_0x497ddc[_0x5ac195],_0x4b56c1['x']>_0x3cd3e6&&(_0x4b56c1['x']=_0x3cd3e6),_0x4b56c1['y']>_0x50c320&&(_0x4b56c1['y']=_0x50c320),_0x4b56c1['z']>_0x4224a3&&(_0x4b56c1['z']=_0x4224a3),_0x3271e8['x']<_0x3cd3e6&&(_0x3271e8['x']=_0x3cd3e6),_0x3271e8['y']<_0x50c320&&(_0x3271e8['y']=_0x50c320),_0x3271e8['z']<_0x4224a3&&(_0x3271e8['z']=_0x4224a3),_0x27365f){let _0x17315a=_0x37bf9f=_0x3cd3e6,_0xf02f21=_0x2468b9=_0x50c320,_0x99e645=_0x1d480b=_0x4224a3;for(let _0x4530bd=0x184d+-0x3*-0x8ea+-0x330b;_0x4530bd<_0x27365f['length'];_0x4530bd++){const _0x4cd524=_0x27365f[_0x4530bd],_0x2b101c=_0x4cd524['deltaPosit'+'ions'][_0x4eaea7*(0x5c5+-0x1*-0x337+-0x8f9)],_0x3557ff=_0x4cd524['deltaPosit'+'ions'][_0x4eaea7*(-0x23e+0x2*0x67f+-0xabd*0x1)+(-0x100c+0x1913+-0x16*0x69)],_0x45e09f=_0x4cd524['deltaPosit'+'ions'][_0x4eaea7*(-0x3*0x5a5+-0x836+-0x1c*-0xe6)+(-0x6a3*0x2+-0xc6d+0x19b5)];_0x2b101c<-0xb*-0x2d1+0x1*-0x16fb+-0x20*0x40?_0x17315a+=_0x2b101c:_0x37bf9f+=_0x2b101c,_0x3557ff<0x136*-0x1+-0x2*0xaed+0x1710?_0xf02f21+=_0x3557ff:_0x2468b9+=_0x3557ff,_0x45e09f<-0x1081+0xf8f+-0x1*-0xf2?_0x99e645+=_0x45e09f:_0x1d480b+=_0x45e09f;}_0x4b56c1['x']>_0x17315a&&(_0x4b56c1['x']=_0x17315a),_0x4b56c1['y']>_0xf02f21&&(_0x4b56c1['y']=_0xf02f21),_0x4b56c1['z']>_0x99e645&&(_0x4b56c1['z']=_0x99e645),_0x3271e8['x']<_0x37bf9f&&(_0x3271e8['x']=_0x37bf9f),_0x3271e8['y']<_0x2468b9&&(_0x3271e8['y']=_0x2468b9),_0x3271e8['z']<_0x1d480b&&(_0x3271e8['z']=_0x1d480b);}}_0x1ffc27['next']();}const _0x4792a6=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x7f2954=>_0x7f2954['name']===Xe);if(_0x4792a6&&_0x4792a6['normalize']){const _0x3e546d=((()=>{switch(_0x4792a6['dataType']){case Fc:return _0x43ef2e=>Math['max'](_0x43ef2e/(-0x1*0x171a+0x214b+-0x9b2),-(-0x1069+-0x1*0x162f+-0xf1*-0x29));case Zr:return _0x37c5ba=>_0x37c5ba/(0xc92*0x2+0xd87+-0x25ac);case kc:return _0xe61c1a=>Math['max'](_0xe61c1a/(0x205f*0x1+0x2c9*0x52+-0x2*0x4261),-(0x2340+0xa9b*-0x1+-0x18a4));case rl:return _0x3cd8e1=>_0x3cd8e1/(-0x8d98+0xbc18+-0x1*-0xd17f);default:return _0x59c869=>_0x59c869;}})());for(let _0x50bfdc=0xa07*0x2+-0x10e0+-0x197*0x2;_0x50bfdc<_0x2b321e;_0x50bfdc++)if(_0x227b48[_0x50bfdc]){const _0x1e19b3=_0x497ddc[_0x50bfdc],_0x326667=_0x529b09[_0x50bfdc];_0x1e19b3['set'](_0x3e546d(_0x1e19b3['x']),_0x3e546d(_0x1e19b3['y']),_0x3e546d(_0x1e19b3['z'])),_0x326667['set'](_0x3e546d(_0x326667['x']),_0x3e546d(_0x326667['y']),_0x3e546d(_0x326667['z']));}}for(let _0x296532=0x3*0xbbc+-0x1*0x259b+0xcd*0x3;_0x296532<_0x2b321e;_0x296532++){const _0x8dd53d=new ve();_0x8dd53d['setMinMax'](_0x497ddc[_0x296532],_0x529b09[_0x296532]),this['boneAabb']['push'](_0x8dd53d);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new js(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0xbfd+0xa15+0xa*-0x235&&this['indexBuffe'+'r'][-0x7*-0x1b4+0x1*0xb49+-0xd*0x1c9]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x2*-0xe19+-0x1679*0x1+-0x125*0x5]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x23a6+0x262f*-0x1+-0x289*-0x1]['numIndices']));}['clear'](_0x1bab5a,_0x2758a5,_0x3243ed=-0x4db*-0x4+0x665*-0x3+0x3d*-0x1,_0x441129=-0xdeb*-0x1+-0x1*-0xcd3+-0x1abe){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0x74*0x2b+0x1*-0x2161+0xde5),this['_geometryD'+'ata']['maxVertice'+'s']=_0x3243ed,this['_geometryD'+'ata']['maxIndices']=_0x441129,this['_geometryD'+'ata']['verticesUs'+'age']=_0x1bab5a?ts:Ph,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x2758a5?ts:Ph;}['setVertexS'+'tream'](_0x35f07d,_0x3c7559,_0x7bd35,_0x45ac82,_0x3c1c80=Re,_0x5f572e=!(0x155a+0x1247+-0x27a0),_0x1d9554=!(0x58f+0x2*0x1247+-0x2a1c)){this['_initGeome'+'tryData']();const _0x3ada74=_0x45ac82||_0x3c7559['length']/_0x7bd35;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x3ada74,_0x35f07d),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0xa93+-0x227d+0x17ea),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x35f07d]=new eC(_0x3c7559,_0x7bd35,_0x3c1c80,_0x5f572e,_0x1d9554);}['getVertexS'+'tream'](_0x5a176f,_0x3bb732){let _0x12a281=-0x84d+0x2a*0xb+0x67f,_0xf11ec9=!(-0x7*-0xd7+0x22f+-0x80f);if(this['_geometryD'+'ata']){const _0x3b6e08=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5a176f];_0x3b6e08&&(_0xf11ec9=!(-0x1*0x4fd+-0x26*0xf6+-0x1a9*-0x19),_0x12a281=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x3bb732)?_0x3bb732['set'](_0x3b6e08['data']):(_0x3bb732['length']=0x1a1a+0x7*0xb+-0x1*0x1a67,_0x3bb732['push'](_0x3b6e08['data'])));}return _0xf11ec9||this['vertexBuff'+'er']&&(_0x12a281=new vo(this['vertexBuff'+'er'])['readData'](_0x5a176f,_0x3bb732)),_0x12a281;}['setPositio'+'ns'](_0x54b179,_0x2ec927=js['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x2f738e){this['setVertexS'+'tream'](Xe,_0x54b179,_0x2ec927,_0x2f738e,Re,!(-0x76*0x46+0x615+0x1a30));}['setNormals'](_0x2b80fd,_0x42c66d=js['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x7a9596){this['setVertexS'+'tream'](ss,_0x2b80fd,_0x42c66d,_0x7a9596,Re,!(0xfd4*-0x1+-0x5*-0x615+-0xe94));}['setUvs'](_0x2ffffa,_0x3e41be,_0x476f3e=js['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x22a5f6){this['setVertexS'+'tream'](lm+_0x2ffffa,_0x3e41be,_0x476f3e,_0x22a5f6,Re,!(0x173f+-0x9df*0x2+-0x2*0x1c0));}['setColors'](_0xb46aab,_0x34b271=js['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x4f32b2){this['setVertexS'+'tream'](It,_0xb46aab,_0x34b271,_0x4f32b2,Re,!(-0x1fbf+0x1fc2+0x2*-0x1));}['setColors3'+'2'](_0x415239,_0x1ed957){this['setVertexS'+'tream'](It,_0x415239,js['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x1ed957,Zr,!(0xe9f+0x59*-0x45+0x95e));}['setIndices'](_0x454486,_0x541d4c){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x26b*0xf+-0xb69+-0x18dc),this['_geometryD'+'ata']['indices']=_0x454486,this['_geometryD'+'ata']['indexCount']=_0x541d4c||_0x454486['length'];}['getPositio'+'ns'](_0x594a9e){return this['getVertexS'+'tream'](Xe,_0x594a9e);}['getNormals'](_0x572cf3){return this['getVertexS'+'tream'](ss,_0x572cf3);}['getUvs'](_0x86570,_0x51425f){return this['getVertexS'+'tream'](lm+_0x86570,_0x51425f);}['getColors'](_0x465fdc){return this['getVertexS'+'tream'](It,_0x465fdc);}['getIndices'](_0x36cc90){let _0x32ea5a=-0x130d+-0xac4*0x2+0x3*0xd87;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x139211=this['_geometryD'+'ata']['indices'];if(_0x32ea5a=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x36cc90))_0x36cc90['set'](_0x139211);else{_0x36cc90['length']=0xad3*-0x1+0x1c44+0x13*-0xeb;for(let _0x10c2ea=0x1b5f+-0x1450+-0x70f,_0x3c2c7c=_0x139211['length'];_0x10c2ea<_0x3c2c7c;_0x10c2ea++)_0x36cc90['push'](_0x139211[_0x10c2ea]);}}else this['indexBuffe'+'r']['length']>0xa*-0x359+-0x7*-0x48c+0x1a6&&this['indexBuffe'+'r'][-0x2624+0x224e+0x3d6]&&(_0x32ea5a=this['indexBuffe'+'r'][-0x2*-0x1318+-0xe9e+-0x1792]['readData'](_0x36cc90));return _0x32ea5a;}['update'](_0x5dd71d=Fs,_0x50fdfe=!(-0x9aa+-0x81*0x16+0x14c0)){if(this['_geometryD'+'ata']){if(_0x50fdfe){const _0x47609d=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Xe];_0x47609d&&_0x47609d['componentC'+'ount']===-0x185+0x1d43+0x1bbb*-0x1&&(this['_aabb']['compute'](_0x47609d['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x5499f6=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x5499f6=!(-0x12dc+0x1*-0x22a9+-0x3585*-0x1),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x5499f6&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x375c56=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x375c56=!(0x1767+-0x5*0x12b+0x464*-0x4),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x375c56&&this['indexBuffe'+'r']['length']>-0x4*-0x24d+-0x5ad*-0x1+-0xee1&&this['indexBuffe'+'r'][-0x21*-0x5+0x415+-0x4ba]&&(this['indexBuffe'+'r'][0xa1f*-0x1+-0x1*0x1c49+0x4cd*0x8]['destroy'](),this['indexBuffe'+'r'][-0x5*-0x233+-0x18*0x32+0x5*-0x143]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0xef*-0x1a+0xb*0x251+-0x135]['type']=_0x5dd71d,this['indexBuffe'+'r']['length']>0x18*-0x97+0x1*0x1b02+-0xcda&&this['indexBuffe'+'r'][0x1*0x95+-0x1bff*-0x1+-0x1c94]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x12e6+0x9d5*-0x1+0x1cbb]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][0x1f8a+-0x4ff*0x1+-0x1a8b]['indexed']=!(-0x8*0x22+-0x959*-0x2+-0x7a*0x25)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0x2*-0xb72+-0xfe*0x1a+0x7c*0x6]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0x1*0x143b+-0x10a5+0x24e0]['indexed']=!(0xf33+-0x1baf+-0x17*-0x8b)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0x1165+0x1302*-0x2+0x3769,this['_geometryD'+'ata']['indexCount']=-0x1aec+0x217b*0x1+-0x68f,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x1845*-0x1+-0x1536+0x30e*-0x1),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x146f*-0x1+-0x15c3+-0xe11*-0x3),this['_geometryD'+'ata']['recreate']=!(0x1edd+-0x5ab*0x1+-0x1931*0x1),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x470140){const _0x3bbfc9=[];for(const _0x31fd48 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x3afe77=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x31fd48];_0x3bbfc9['push']({'semantic':_0x31fd48,'components':_0x3afe77['componentC'+'ount'],'type':_0x3afe77['dataType'],'normalize':_0x3afe77['dataTypeNo'+'rmalize'],'asInt':_0x3afe77['asInt']});}return new Dt(this['device'],_0x3bbfc9,_0x470140);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x551403=this['_geometryD'+'ata']['maxVertice'+'s'],_0x3ec53b=this['_buildVert'+'exFormat'](_0x551403);this['vertexBuff'+'er']=new fs(this['device'],_0x3ec53b,_0x551403,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x523e4c=new vo(this['vertexBuff'+'er']),_0x127f81=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x46fecc in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x432b0c=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x46fecc];_0x523e4c['writeData'](_0x46fecc,_0x432b0c['data'],_0x127f81),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x46fecc];}_0x523e4c['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0x1*0xa77+0x1732+0x1*-0xcbb||!this['indexBuffe'+'r'][-0x2020+-0x16f1+0x25*0x17d]){const _0x183e85=this['_geometryD'+'ata']['maxVertice'+'s'],_0x5a5a3b=_0x183e85>-0xf856+0xf127*0x1+0x26*0x6ed||_0x183e85===0x122a+0x2e3*0x8+-0x2942?or:Fi,_0x67edce=this['_storageIn'+'dex']?{'storage':!(-0x233a*0x1+0x5*0x3a5+-0x1*-0x1101)}:void(0x1c5+0x1*0x7fa+0x5*-0x1f3);this['indexBuffe'+'r'][0x16fe+-0xa*-0x199+-0x26f8]=new cr(this['device'],_0x5a5a3b,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x13e0+0xb7a+-0x1f5a),_0x67edce);}const _0x5c10c3=this['_geometryD'+'ata']['indices'];_0x5c10c3&&(this['indexBuffe'+'r'][0x68*-0x2+0x1594+0x14c4*-0x1]['writeData'](_0x5c10c3,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x710393){_0x710393===Lr?this['generateWi'+'reframe']():_0x710393===Pl&&(this['primitive'][Pl]={'type':Dc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0x454*0x7+0x2524+-0x4370,'indexed':!(-0xd1e*0x1+0x1*0x2619+0x1*-0x18fa)});}['updateRend'+'erStates'](){this['primitive'][Pl]&&this['prepareRen'+'derState'](Pl),this['primitive'][Lr]&&this['prepareRen'+'derState'](Lr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Lr);const _0x4267af=this['vertexBuff'+'er']['numVertice'+'s'],_0xd3d038=[];let _0x550626;if(this['indexBuffe'+'r']['length']>-0xe*-0x12a+0x34c*0x3+-0x1a3*0x10&&this['indexBuffe'+'r'][-0x3*-0xcb+0x2d*-0x26+0x44d]){const _0x14b05b=[[-0x63+-0xc*-0x2e+0x1c5*-0x1,-0x118b+-0xc*0xca+0x1b04],[0x3fb*-0x1+-0x1*-0x22d+0x1*0x1cf,0x12e+0x2*-0xa5f+0x1392],[-0x89e+-0x1d*0x65+0x1411,-0x5d*-0x5f+-0x286*-0x1+-0x2509]],_0x1c469b=this['primitive'][bo]['base'],_0x249abe=this['primitive'][bo]['count'],_0x3dbeed=this['indexBuffe'+'r'][bo],_0x360601=new Nh[_0x3dbeed['format']](_0x3dbeed['storage']),_0x40d1a1=new Set();for(let _0xe22430=_0x1c469b;_0xe22430<_0x1c469b+_0x249abe;_0xe22430+=0x41e*-0x2+0x1a3a+-0x1*0x11fb)for(let _0x395127=-0xed7+-0x24b3+0x338a;_0x395127<-0xac*-0x2+0x22f9+-0x244e;_0x395127++){const _0x598817=_0x360601[_0xe22430+_0x14b05b[_0x395127][0x43f*0x8+0x2113+-0x430b]],_0x545901=_0x360601[_0xe22430+_0x14b05b[_0x395127][0x1cab+-0x5*0x750+0x2a2*0x3]],_0x591204=_0x598817>_0x545901?_0x545901*_0x4267af+_0x598817:_0x598817*_0x4267af+_0x545901;_0x40d1a1['has'](_0x591204)||(_0x40d1a1['add'](_0x591204),_0xd3d038['push'](_0x598817,_0x545901));}_0x550626=_0x3dbeed['format'];}else{for(let _0xeb4fc3=-0x15de+0x1d8d+0x1*-0x7af;_0xeb4fc3<_0x4267af;_0xeb4fc3+=-0x140b*0x1+0xa86+-0x8*-0x131)_0xd3d038['push'](_0xeb4fc3,_0xeb4fc3+(-0xcfe+-0xc57+-0x17*-0x11a),_0xeb4fc3+(0x30*-0xb4+-0x3*0x363+0x323*0xe),_0xeb4fc3+(0x1*0x23e3+-0x15bb+-0xe26),_0xeb4fc3+(0x2064+-0x881+0x17e1*-0x1),_0xeb4fc3);_0x550626=_0xd3d038['length']>-0xae3f+0x11f3a+0x4782*0x2?or:Fi;}const _0x434c9=new cr(this['vertexBuff'+'er']['device'],_0x550626,_0xd3d038['length']);new Nh[_0x434c9['format']](_0x434c9['storage'])['set'](_0xd3d038),_0x434c9['unlock'](),this['primitive'][Lr]={'type':Lc,'base':0x0,'count':_0xd3d038['length'],'indexed':!(0x1040+0xeba+-0x1efa)},this['indexBuffe'+'r'][Lr]=_0x434c9;}}const Hm=new q(),xd=new A(),Wm=new ie(),Sd=new ie(),$m=new A(),qm=new A(),tC=new q(),sC=new ie(),Wt=new A(),Xa=new q(),$t=new ie(),Cn=new ie(),Xm=new q(),vd=new A(),Il=new A();function jm(_0xccd86f,_0x2b8a90){return _0xccd86f instanceof Function?_0xccd86f:_0x3e9596=>{let _0x2807fc=_0x3e9596[_0xccd86f];return _0x2807fc instanceof Function&&(_0x2807fc=_0x2807fc()),_0x2807fc===_0x2b8a90;};}function T0(_0x1fdd4a,_0x43fdb9){if(_0x43fdb9(_0x1fdd4a))return _0x1fdd4a;const _0x25424a=_0x1fdd4a['_children'],_0x3e94ec=_0x25424a['length'];for(let _0x20fce1=0xdf6+0x1541+-0xbbd*0x3;_0x20fce1<_0x3e94ec;++_0x20fce1){const _0x556010=T0(_0x25424a[_0x20fce1],_0x43fdb9);if(_0x556010)return _0x556010;}return null;}class Oe extends de{constructor(_0x59cb17='Untitled'){super(),c(this,'name'),c(this,'tags',new yo(this)),c(this,'localPosit'+'ion',new A()),c(this,'localRotat'+'ion',new ie()),c(this,'localScale',new A(0x7d*-0x34+0x3e8+0x157d,0x1c26+0x234b+-0x70*0x91,-0x1*0x169f+-0x1*0xea3+0x2543)),c(this,'localEuler'+'Angles',new A()),c(this,'position',new A()),c(this,'rotation',new ie()),c(this,'eulerAngle'+'s',new A()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(-0x36+0x1*0xce5+-0xcae)),c(this,'_aabbVer',-0x210a*-0x1+0x7*-0x1c1+0x14c3*-0x1),c(this,'_frozen',!(-0x980*-0x2+0x14ea+0x11*-0x259)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(0x1880+-0x2*0x610+-0xc5f*0x1)),c(this,'_worldScal'+'eSign',-0x4*0x350+-0x4*-0x94d+-0x17f4),c(this,'_normalMat'+'rix',new Js()),c(this,'_dirtyNorm'+'al',!(-0x10d3+0x1b9*-0x1+-0x128c*-0x1)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',0xc01+-0x2*-0x469+-0x3*0x6f1),c(this,'_enabled',!(-0x2064+0x8*0x2e2+0x954)),c(this,'_enabledIn'+'Hierarchy',!(-0x1aa7*0x1+-0x1*0x132d+0x2dd5)),c(this,'scaleCompe'+'nsation',!(0xd1b+0x1*0x19c7+0x10d*-0x25)),this['name']=_0x59cb17;}get['right'](){return this['_right']||(this['_right']=new A()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new A()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new A()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x7c+-0x14c8+-0xf*-0x16b));}get['normalMatr'+'ix'](){const _0x2bb6e6=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x2bb6e6['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x3e+-0x1db*0x10+-0x435*-0x7)),_0x2bb6e6;}set['enabled'](_0x290c41){var _0x525e16;this['_enabled']!==_0x290c41&&(this['_enabled']=_0x290c41,(_0x290c41&&((_0x525e16=this['_parent'])!=null&&_0x525e16['enabled'])||!_0x290c41)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x290c41));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x15a4b0=this['_parent'];if(!_0x15a4b0)return'';let _0x42ac56=this['name'];for(;_0x15a4b0&&_0x15a4b0['_parent'];)_0x42ac56=_0x15a4b0['name']+'/'+_0x42ac56,_0x15a4b0=_0x15a4b0['_parent'];return _0x42ac56;}get['root'](){let _0x4ba319=this;for(;_0x4ba319['_parent'];)_0x4ba319=_0x4ba319['_parent'];return _0x4ba319;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x3b85db,_0x19b2a9){_0x3b85db['_onHierarc'+'hyStateCha'+'nged'](_0x19b2a9);const _0xce209a=_0x3b85db['_children'];for(let _0x4993ac=0x963+-0x2*0xffd+0x1697,_0x4cc1b3=_0xce209a['length'];_0x4993ac<_0x4cc1b3;_0x4993ac++)_0xce209a[_0x4993ac]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0xce209a[_0x4993ac],_0x19b2a9);}['_onHierarc'+'hyStateCha'+'nged'](_0x3ca423){this['_enabledIn'+'Hierarchy']=_0x3ca423,_0x3ca423&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x23463a){_0x23463a['name']=this['name'];const _0x1e5547=this['tags']['_list'];_0x23463a['tags']['clear']();for(let _0x199356=0x11e5+-0x1*0x16c3+-0x2*-0x26f;_0x199356<_0x1e5547['length'];_0x199356++)_0x23463a['tags']['add'](_0x1e5547[_0x199356]);_0x23463a['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x23463a['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x23463a['localScale']['copy'](this['localScale']),_0x23463a['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x23463a['position']['copy'](this['position']),_0x23463a['rotation']['copy'](this['rotation']),_0x23463a['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x23463a['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x23463a['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x23463a['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x23463a['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x23463a['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x23463a['_aabbVer']=this['_aabbVer']+(-0x250b*0x1+-0x2130+0x463c),_0x23463a['_enabled']=this['_enabled'],_0x23463a['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x23463a['_enabledIn'+'Hierarchy']=!(-0x143*-0xd+0x95f+-0x19c5);}['clone'](){const _0x80200c=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x80200c),_0x80200c;}['copy'](_0x57dc68){return _0x57dc68['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x35d690=this['_children'];for(;_0x35d690['length'];){const _0x4b077f=_0x35d690['pop']();_0x4b077f['_parent']=null,_0x4b077f['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x58c890,_0xd5abd8){const _0x439b8b=[],_0x4e621e=jm(_0x58c890,_0xd5abd8);return this['forEach'](_0x39ca9c=>{_0x4e621e(_0x39ca9c)&&_0x439b8b['push'](_0x39ca9c);}),_0x439b8b;}['findOne'](_0x1ac35e,_0x4f12b8){const _0x2824a2=jm(_0x1ac35e,_0x4f12b8);return T0(this,_0x2824a2);}['findByTag'](){const _0x28a7aa=arguments,_0x581ab2=[],_0x276122=(_0x384ac4,_0x58ccab)=>{_0x58ccab&&_0x384ac4['tags']['has'](..._0x28a7aa)&&_0x581ab2['push'](_0x384ac4);for(let _0x39e0fd=-0x49*0x3d+0x5f*0x3b+0x12*-0x40;_0x39e0fd<_0x384ac4['_children']['length'];_0x39e0fd++)_0x276122(_0x384ac4['_children'][_0x39e0fd],!(-0x36*0x66+-0x865+0x1de9));};return _0x276122(this,!(-0x151e+0x6*-0x359+0x1*0x2935)),_0x581ab2;}['findByName'](_0x1ed341){return this['findOne']('name',_0x1ed341);}['findByPath'](_0xda5f2f){const _0x21ff1f=Array['isArray'](_0xda5f2f)?_0xda5f2f:_0xda5f2f['split']('/');let _0x49b6e6=this;for(let _0x223795=0x8e1*0x4+0x53*-0x65+0x2c5*-0x1,_0x125256=_0x21ff1f['length'];_0x223795<_0x125256;++_0x223795)if(_0x49b6e6=_0x49b6e6['children']['find'](_0x1b749a=>_0x1b749a['name']===_0x21ff1f[_0x223795]),!_0x49b6e6)return null;return _0x49b6e6;}['forEach'](_0x2fa21d,_0x5b1877){_0x2fa21d['call'](_0x5b1877,this);const _0x22dce7=this['_children'],_0xcefd33=_0x22dce7['length'];for(let _0x154626=0x1820+0x19*0x161+-0x3a99;_0x154626<_0xcefd33;++_0x154626)_0x22dce7[_0x154626]['forEach'](_0x2fa21d,_0x5b1877);}['isDescenda'+'ntOf'](_0x59e907){let _0x354b38=this['_parent'];for(;_0x354b38;){if(_0x354b38===_0x59e907)return!(-0xd62+-0x246b+0x31cd);_0x354b38=_0x354b38['_parent'];}return!(0x2f*-0x2e+-0x190e+0x2181);}['isAncestor'+'Of'](_0x3b8abc){return _0x3b8abc['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x16e3+-0x1c53+0x3337)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new A()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0x101*-0xb+0x1277+-0x76c&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x14950f;(_0x14950f=this['_parent'])==null||_0x14950f['removeChil'+'d'](this);}['reparent'](_0x3dcd77,_0x1cbf71){this['remove'](),_0x3dcd77&&(_0x1cbf71>=-0x2*-0x677+0x1710+-0x2*0x11ff?_0x3dcd77['insertChil'+'d'](this,_0x1cbf71):_0x3dcd77['addChild'](this));}['setLocalEu'+'lerAngles'](_0x2af02a,_0x5b60ad,_0x5d8240){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x2af02a,_0x5b60ad,_0x5d8240),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x358b1a,_0x2b548d,_0x58330d){_0x358b1a instanceof A?this['localPosit'+'ion']['copy'](_0x358b1a):this['localPosit'+'ion']['set'](_0x358b1a,_0x2b548d,_0x58330d),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x4285f7,_0x28903d,_0x314952,_0x15e0c9){_0x4285f7 instanceof ie?this['localRotat'+'ion']['copy'](_0x4285f7):this['localRotat'+'ion']['set'](_0x4285f7,_0x28903d,_0x314952,_0x15e0c9),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x1a8776,_0x30f883,_0x4f4423){_0x1a8776 instanceof A?this['localScale']['copy'](_0x1a8776):this['localScale']['set'](_0x1a8776,_0x30f883,_0x4f4423),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0x1*-0x959+-0x1344+0x1c9d),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x2098db=this['_parent'];for(;_0x2098db;)_0x2098db['_frozen']=!(-0x22f0+-0x1164+0x3455),_0x2098db=_0x2098db['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x1*0x128f+0xbf*-0x27+0xa8b),this['_dirtyWorl'+'d']=!(-0x1975+0x57f+0x13f6);for(let _0x10d8d3=-0x2*0x2c1+-0x63b+0xbbd;_0x10d8d3<this['_children']['length'];_0x10d8d3++)this['_children'][_0x10d8d3]['_dirtyWorl'+'d']||this['_children'][_0x10d8d3]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x1894+-0x1de6*0x1+0x552),this['_worldScal'+'eSign']=-0x9cb+-0x169f+0x206a,this['_aabbVer']++;}['setPositio'+'n'](_0xcf945f,_0x3da90f,_0x5d848e){_0xcf945f instanceof A?Wt['copy'](_0xcf945f):Wt['set'](_0xcf945f,_0x3da90f,_0x5d848e),this['_parent']===null?this['localPosit'+'ion']['copy'](Wt):(Xa['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Xa['transformP'+'oint'](Wt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x3a3608,_0x4bbd88,_0x394bc7,_0xaaf7e0){if(_0x3a3608 instanceof ie?$t['copy'](_0x3a3608):$t['set'](_0x3a3608,_0x4bbd88,_0x394bc7,_0xaaf7e0),this['_parent']===null)this['localRotat'+'ion']['copy']($t);else{const _0x46e3ac=this['_parent']['getRotatio'+'n']();Cn['copy'](_0x46e3ac)['invert'](),this['localRotat'+'ion']['copy'](Cn)['mul']($t);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x38f7cc,_0x283a37){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x38f7cc),this['localRotat'+'ion']['copy'](_0x283a37);else{const _0x1f2e6e=this['_parent']['getWorldTr'+'ansform']();Xa['copy'](_0x1f2e6e)['invert'](),Xa['transformP'+'oint'](_0x38f7cc,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Xa)['mul'](_0x283a37);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x79c974,_0x36673a,_0x5d69f4){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x79c974,_0x36673a,_0x5d69f4),this['_parent']!==null){const _0x3bd73c=this['_parent']['getRotatio'+'n']();Cn['copy'](_0x3bd73c)['invert'](),this['localRotat'+'ion']['mul2'](Cn,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x1d4de6){this['_prepareIn'+'sertChild'](_0x1d4de6),this['_children']['push'](_0x1d4de6),this['_onInsertC'+'hild'](_0x1d4de6);}['addChildAn'+'dSaveTrans'+'form'](_0x1f1178){const _0xdd06fb=_0x1f1178['getPositio'+'n'](),_0xd4d29f=_0x1f1178['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x1f1178),_0x1f1178['setPositio'+'n'](tC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0xdd06fb)),_0x1f1178['setRotatio'+'n'](sC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0xd4d29f)),this['_children']['push'](_0x1f1178),this['_onInsertC'+'hild'](_0x1f1178);}['insertChil'+'d'](_0x1b0bf3,_0x385c4b){this['_prepareIn'+'sertChild'](_0x1b0bf3),this['_children']['splice'](_0x385c4b,-0x1f0c+0x176d+0x1*0x79f,_0x1b0bf3),this['_onInsertC'+'hild'](_0x1b0bf3);}['_prepareIn'+'sertChild'](_0x42e9b4){_0x42e9b4['remove'](),b['assert'](_0x42e9b4!==this,'GraphNode\x20'+(_0x42e9b4==null?void(0x7fc+-0x206a+0x186e):_0x42e9b4['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),b['assert'](!this['isDescenda'+'ntOf'](_0x42e9b4),'GraphNode\x20'+(_0x42e9b4==null?void(-0x1a38+-0xc7*0xd+0x1*0x2453):_0x42e9b4['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x333000,_0x5ed24b,_0x5f0279){this['fire'](_0x333000,_0x5f0279);for(let _0xb68b33=0x8c3*-0x1+-0x18fa+0x21bd;_0xb68b33<this['_children']['length'];_0xb68b33++)this['_children'][_0xb68b33]['_fireOnHie'+'rarchy'](_0x5ed24b,_0x5ed24b,_0x5f0279);}['_onInsertC'+'hild'](_0x1dc1c4){_0x1dc1c4['_parent']=this;const _0xa76bc2=_0x1dc1c4['_enabled']&&this['enabled'];_0x1dc1c4['_enabledIn'+'Hierarchy']!==_0xa76bc2&&(_0x1dc1c4['_enabledIn'+'Hierarchy']=_0xa76bc2,_0x1dc1c4['_notifyHie'+'rarchyStat'+'eChanged'](_0x1dc1c4,_0xa76bc2)),_0x1dc1c4['_updateGra'+'phDepth'](),_0x1dc1c4['_dirtifyWo'+'rld'](),this['_frozen']&&_0x1dc1c4['_unfreezeP'+'arentToRoo'+'t'](),_0x1dc1c4['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x1dc1c4);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x1*0x1af3+-0x1c3*0x3+-0x15a9*0x1):0x76*-0x49+0x1d15*-0x1+0x3ebb;for(let _0x3c1e2f=0x2105+0xb41+-0x761*0x6,_0x149916=this['_children']['length'];_0x3c1e2f<_0x149916;_0x3c1e2f++)this['_children'][_0x3c1e2f]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x38c0e3){const _0xbc7d35=this['_children']['indexOf'](_0x38c0e3);_0xbc7d35!==-(-0x24d9*0x1+0xf2*0x22+0x4b6)&&(this['_children']['splice'](_0xbc7d35,-0x1669+-0x1183*-0x2+-0x3*0x434),_0x38c0e3['_parent']=null,_0x38c0e3['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x38c0e3));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x242*-0x1+-0xb78*0x2+0x1*0x1933)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x3feed2;const _0x1cc016=this['_parent'];let _0x4607d4=this['localScale'],_0x420cb5=_0x1cc016;if(_0x420cb5){for(;_0x420cb5&&_0x420cb5['scaleCompe'+'nsation'];)_0x420cb5=_0x420cb5['_parent'];_0x420cb5&&(_0x420cb5=_0x420cb5['_parent'],_0x420cb5&&(_0x3feed2=_0x420cb5['worldTrans'+'form']['getScale'](),$m['mul2'](_0x3feed2,this['localScale']),_0x4607d4=$m));}Sd['setFromMat'+'4'](_0x1cc016['worldTrans'+'form']),Wm['mul2'](Sd,this['localRotat'+'ion']);let _0x44608b=_0x1cc016['worldTrans'+'form'];_0x1cc016['scaleCompe'+'nsation']&&(qm['mul2'](_0x3feed2,_0x1cc016['getLocalSc'+'ale']()),Hm['setTRS'](_0x1cc016['worldTrans'+'form']['getTransla'+'tion'](xd),Sd,qm),_0x44608b=Hm),_0x44608b['transformP'+'oint'](this['localPosit'+'ion'],xd),this['worldTrans'+'form']['setTRS'](xd,Wm,_0x4607d4);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x4*-0x7d8+-0x7*0x28c+-0xd8b*0x1);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x1*0x128f+-0xb7a+-0x2bb*-0xb),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x5c0d26=this['_children'];for(let _0x29a2c0=-0x1990*-0x1+-0x1a88+0xf8,_0x392048=_0x5c0d26['length'];_0x29a2c0<_0x392048;_0x29a2c0++)_0x5c0d26[_0x29a2c0]['syncHierar'+'chy']();}['lookAt'](_0x540dc6,_0x1a263a,_0x4f759c,_0x1ad4e3=-0x10f9*-0x1+-0x9d3*0x1+0x726*-0x1,_0x4961ce=0x129f+0x109d+-0x233b,_0x54af12=-0x1313+-0x17b4+0x2ac7){if(_0x540dc6 instanceof A)vd['copy'](_0x540dc6),_0x1a263a instanceof A?Il['copy'](_0x1a263a):Il['copy'](A['UP']);else{if(_0x4f759c===void(0xcc5*0x1+-0xc7*-0xf+-0x35*0x76))return;vd['set'](_0x540dc6,_0x1a263a,_0x4f759c),Il['set'](_0x1ad4e3,_0x4961ce,_0x54af12);}Xm['setLookAt'](this['getPositio'+'n'](),vd,Il),$t['setFromMat'+'4'](Xm),this['setRotatio'+'n']($t);}['translate'](_0x45abed,_0x5ca5b4,_0x1aa7f9){_0x45abed instanceof A?Wt['copy'](_0x45abed):Wt['set'](_0x45abed,_0x5ca5b4,_0x1aa7f9),Wt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](Wt);}['translateL'+'ocal'](_0x6f9d3d,_0x1f474d,_0x326aa4){_0x6f9d3d instanceof A?Wt['copy'](_0x6f9d3d):Wt['set'](_0x6f9d3d,_0x1f474d,_0x326aa4),this['localRotat'+'ion']['transformV'+'ector'](Wt,Wt),this['localPosit'+'ion']['add'](Wt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x33090e,_0x2c15a1,_0x56b3e2){if($t['setFromEul'+'erAngles'](_0x33090e,_0x2c15a1,_0x56b3e2),this['_parent']===null)this['localRotat'+'ion']['mul2']($t,this['localRotat'+'ion']);else{const _0xbc7c5e=this['getRotatio'+'n'](),_0x26212c=this['_parent']['getRotatio'+'n']();Cn['copy'](_0x26212c)['invert'](),$t['mul2'](Cn,$t),this['localRotat'+'ion']['mul2']($t,_0xbc7c5e);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x371c00,_0x449568,_0x25acbc){$t['setFromEul'+'erAngles'](_0x371c00,_0x449568,_0x25acbc),this['localRotat'+'ion']['mul']($t),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const A0=new Ht();function cl(_0x1ee4a1){const _0x39540f=A0['get'](_0x1ee4a1);return b['assert'](_0x39540f),_0x39540f;}function iC(_0x610dff,_0x3532cf){b['assert'](_0x3532cf),A0['get'](_0x610dff,()=>_0x3532cf);}class rC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x74d9ed,_0x17d930)=>{_0x17d930['destroy']();}),this['cache']['clear']();}['incRef'](_0x471e70){const _0x15410f=(this['cache']['get'](_0x471e70)||0x156+-0x1*0x526+-0x7a*-0x8)+(0x2*-0x132f+-0x219a+0x68b*0xb);this['cache']['set'](_0x471e70,_0x15410f);}['decRef'](_0x4d09e3){if(_0x4d09e3){let _0x2cb241=this['cache']['get'](_0x4d09e3);_0x2cb241&&(_0x2cb241--,_0x2cb241===0x1*-0x9c6+0xbbc*0x2+-0xdb2?(this['cache']['delete'](_0x4d09e3),_0x4d09e3['destroy']()):this['cache']['set'](_0x4d09e3,_0x2cb241));}}}class Ai{static['incRef'](_0x4a1515){this['cache']['incRef'](_0x4a1515);}static['decRef'](_0x294f48){this['cache']['decRef'](_0x294f48);}static['destroy'](){this['cache']['destroy']();}}c(Ai,'cache',new rC());let nC=0x1ed3+0xa7f*0x1+-0x56*0x7b;const aC=new ve(),Dl=new ve(),bd=new Bf(),wd=new Set(),xr=new Uint32Array(-0x2*0x1e7+-0x25f*-0x1+0x173);class oC{constructor(_0x102a5f){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(-0x4*0x533+-0x10db+-0x1*-0x25a8)),this['count']=_0x102a5f;}['destroy'](){var _0x39401d;this['_destroyVe'+'rtexBuffer']&&((_0x39401d=this['vertexBuff'+'er'])==null||_0x39401d['destroy']()),this['vertexBuff'+'er']=null;}}class lC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x2aab40){if(!this['bindGroup']){const _0x19afec=this['shader'];b['assert'](_0x19afec);const _0xe8614c=_0x19afec['meshBindGr'+'oupFormat'];b['assert'](_0xe8614c),this['bindGroup']=new xp(_0x2aab40,_0xe8614c),gn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x2558ba){if(!this['uniformBuf'+'fer']){const _0x1c72dd=this['shader'];b['assert'](_0x1c72dd);const _0x52e57e=_0x1c72dd['meshUnifor'+'mBufferFor'+'mat'];b['assert'](_0x52e57e),this['uniformBuf'+'fer']=new vp(_0x2558ba,_0x52e57e,!(0x2*-0x135d+0x182c+0xe8f));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x90b273,_0x584237;(_0x90b273=this['bindGroup'])==null||_0x90b273['destroy'](),this['bindGroup']=null,(_0x584237=this['uniformBuf'+'fer'])==null||_0x584237['destroy'](),this['uniformBuf'+'fer']=null;}}const Gr=class Gr{constructor(_0x2ca8b9,_0x5987d7,_0x23b10a=null){c(this,'castShadow',!(0x7*-0x482+-0x47d*-0x6+0x4f*0xf)),c(this,'cull',!(0xcb9*0x1+-0x13aa+0x1*0x6f1)),c(this,'drawOrder',0x661+0xe63+-0x14c4),c(this,'node'),c(this,'visible',!(0x43*-0x71+0x1c46+-0x14d*-0x1)),c(this,'visibleThi'+'sFrame',!(-0x192e+-0x2056+0x3985)),c(this,'flipFacesF'+'actor',-0xfd2+-0x1e63+0x2e36),c(this,'gsplatInst'+'ance',null),c(this,'id',nC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(-0x3*-0xae+0x406*0x6+0x1a2e*-0x1)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(0x237+0x176c+-0x19a2)),c(this,'_aabb',new ve()),c(this,'_aabbVer',-(-0x3*-0xbd9+-0x92+0x22f8*-0x1)),c(this,'_aabbMeshV'+'er',-(0x2*-0x7e4+0x2e*0x73+-0x4e1)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(-0xcb9+0x15e8+0x1*-0x92f)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[-0x157d*0x1+0x2*0xbb1+-0x1e5,-0x1*0xe3e+0x15d0+-0x792]),c(this,'_layer',d0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(0x1c77+0x1*-0xa7e+-0x6b*0x2b)),c(this,'_renderSty'+'le',bo),c(this,'_screenSpa'+'ce',!(-0x4*-0x756+0x155*-0xb+-0xeb0)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',ms<<0x3*-0x311+0x29*-0x29+0xfd4),c(this,'_calculate'+'SortDistan'+'ce',null);if(b['assert'](!(_0x2ca8b9 instanceof Oe),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x23b10a,this['_mesh']=_0x2ca8b9,_0x2ca8b9['incRefCoun'+'t'](),this['material']=_0x5987d7,_0x2ca8b9['vertexBuff'+'er']){const _0x49f1d3=_0x2ca8b9['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x49f1d3['hasUv0']?_0:0xa*0x38b+-0xcb9+-0x1*0x16b5,this['_shaderDef'+'s']|=_0x49f1d3['hasUv1']?g0:0x3*0xc73+-0x25a*-0x1+-0x27b3,this['_shaderDef'+'s']|=_0x49f1d3['hasColor']?y0:0x2*0x6d+-0xe35+0xd5b,this['_shaderDef'+'s']|=_0x49f1d3['hasTangent'+'s']?Dp:0x873+0x1f4e*-0x1+0x16db;}this['updateKey']();}set['renderStyl'+'e'](_0x14b49a){this['_renderSty'+'le']=_0x14b49a,this['mesh']['prepareRen'+'derState'](_0x14b49a);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0xe983c0){_0xe983c0!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0xe983c0,_0xe983c0&&_0xe983c0['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x2f7f03){this['_aabb']=_0x2f7f03;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x1c50a8=this['_customAab'+'b'],_0xe9e44f=!!_0x1c50a8;if(!_0x1c50a8){if(_0x1c50a8=aC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x3d1ffe=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x3d1ffe);}const _0x9c8d6a=this['mesh']['boneUsed'];let _0x21630b=!(-0x2704+-0x175*-0x3+-0x7*-0x4f3);for(let _0x3bb426=0x684*0x3+-0x1706+-0xb2*-0x5;_0x3bb426<this['mesh']['boneAabb']['length'];_0x3bb426++)_0x9c8d6a[_0x3bb426]&&(Dl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x3bb426],this['skinInstan'+'ce']['matrices'][_0x3bb426]),_0x21630b?(_0x21630b=!(-0x5c2*0x3+-0x4*-0x44f+0xb),_0x1c50a8['center']['copy'](Dl['center']),_0x1c50a8['halfExtent'+'s']['copy'](Dl['halfExtent'+'s'])):_0x1c50a8['add'](Dl));_0xe9e44f=!(0x11e1*-0x1+-0xd1d+-0x1efe*-0x1);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x1c50a8['center']['copy'](this['mesh']['aabb']['center']),_0x1c50a8['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x1c50a8['center']['set'](-0x17ff+0xe9+-0xc5*-0x1e,-0x162e+0x1cbe+-0x690,0x520+-0xc*-0x2a2+0x28*-0xeb),_0x1c50a8['halfExtent'+'s']['set'](0x2069*0x1+0xe3c+-0x2ea5,0x1574+0x115*-0x8+0x444*-0x3,-0x1*0xd84+-0x53*0x1+0xdd7)),this['mesh']&&this['mesh']['morph']){const _0x469786=this['mesh']['morph']['aabb'];_0x1c50a8['_expand'](_0x469786['getMin'](),_0x469786['getMax']());}_0xe9e44f=!(-0x17e0+-0x1*-0x1b7f+-0x67*0x9),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0xe9e44f&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x1c50a8,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x2691ab=>{_0x2691ab['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x2e0c91,_0x41cc6d,_0x266d53,_0x32234d,_0x5b82f3,_0x3480ad,_0x15e93b){var _0xec566b;const _0x163658=this['_shaderDef'+'s'];xr[0x166e+-0xd4*-0x2+-0x1*0x1816]=_0x2e0c91,xr[-0x1a36+0xd*0xb2+0x112d*0x1]=_0x41cc6d,xr[0x7*-0x38b+0xe*-0xab+-0x21*-0x109]=_0x163658,xr[0x1472+-0x1f92+0xb23]=_0x32234d['hash'];const _0x144647=Qy(xr);let _0x56c0b7=this['_shaderCac'+'he']['get'](_0x144647);if(!_0x56c0b7){const _0x22bd64=this['_material'];if(_0x56c0b7=new lC(),_0x56c0b7['shader']=_0x22bd64['variants']['get'](_0x144647),_0x56c0b7['hashes']=new Uint32Array(xr),!_0x56c0b7['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x28322b=_0x22bd64['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x266d53,'objDefs':_0x163658,'cameraShaderParams':_0x32234d,'pass':_0x2e0c91,'sortedLights':_0x15e93b,'viewUniformFormat':_0x5b82f3,'viewBindGroupFormat':_0x3480ad,'vertexFormat':(_0xec566b=this['mesh']['vertexBuff'+'er'])==null?void(0x5*-0x4e5+0xdd7*0x1+0xaa2):_0xec566b['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x22bd64['variants']['set'](_0x144647,_0x28322b),_0x56c0b7['shader']=_0x28322b;}this['_shaderCac'+'he']['set'](_0x144647,_0x56c0b7);}return b['call'](()=>{Wv['equals'](_0x56c0b7['hashes'],xr)||b['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x56c0b7;}set['material'](_0x2c1ac1){this['clearShade'+'rs']();const _0x5a55f1=this['_material'];_0x5a55f1&&_0x5a55f1['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x2c1ac1,_0x2c1ac1&&(_0x2c1ac1['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x2c1ac1['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x2c6665){this['_layer']=_0x2c6665,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x2db1cd){_0x2db1cd!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x2db1cd,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x5caca5){this['_calculate'+'SortDistan'+'ce']=_0x5caca5;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x443c55){this['_receiveSh'+'adow']!==_0x443c55&&(this['_receiveSh'+'adow']=_0x443c55,this['_updateSha'+'derDefs'](_0x443c55?this['_shaderDef'+'s']&-(-0xd*-0x25+-0x8b*0x2b+0x157a):this['_shaderDef'+'s']|Rp));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x2e6a19){this['_updateSha'+'derDefs'](_0x2e6a19?this['_shaderDef'+'s']|zu:this['_shaderDef'+'s']&-(-0xb51*0x4+-0x3698+0xa3dd));}get['batching'](){return(this['_shaderDef'+'s']&zu)!==0x2*-0x59e+0x2f5+0x847;}set['skinInstan'+'ce'](_0x5036f2){this['_skinInsta'+'nce']=_0x5036f2,this['_updateSha'+'derDefs'](_0x5036f2?this['_shaderDef'+'s']|jc:this['_shaderDef'+'s']&-(-0x10c1+0x8c1*-0x1+0x1985*0x1)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x1694f8){var _0x4f348b;(_0x4f348b=this['_morphInst'+'ance'])==null||_0x4f348b['destroy'](),this['_morphInst'+'ance']=_0x1694f8;let _0x20bc48=this['_shaderDef'+'s'];_0x20bc48=_0x1694f8&&_0x1694f8['morph']['morphPosit'+'ions']?_0x20bc48|Kc:_0x20bc48&-(0x4b*-0x2e+-0x1b5d+0x2cd8),_0x20bc48=_0x1694f8&&_0x1694f8['morph']['morphNorma'+'ls']?_0x20bc48|Zc:_0x20bc48&-(-0x1f*0x7+-0x1b48+0x32*0xb9),_0x20bc48=_0x1694f8&&_0x1694f8['morph']['intRenderF'+'ormat']?_0x20bc48|Qc:_0x20bc48&-(-0xe54+0x1*-0xe8f+-0x362*-0x12),this['_updateSha'+'derDefs'](_0x20bc48);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x107aaf){this['_screenSpa'+'ce']!==_0x107aaf&&(this['_screenSpa'+'ce']=_0x107aaf,this['_updateSha'+'derDefs'](_0x107aaf?this['_shaderDef'+'s']|Ip:this['_shaderDef'+'s']&-(0x12d0+-0x1038+-0xb*0x25)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x5b5733){this['_key'][Ii]=_0x5b5733;}get['key'](){return this['_key'][Ii];}set['mask'](_0x1d213f){const _0x30a4ce=this['_shaderDef'+'s']&-0xf7*-0x83+-0x9fa+0x8b94;this['_updateSha'+'derDefs'](_0x30a4ce|_0x1d213f<<-0xcf3+0xdf9+-0x6*0x29);}get['mask'](){return this['_shaderDef'+'s']>>-0xc68+-0x13f9+0x2071;}set['instancing'+'Count'](_0x42a873){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x42a873);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x12fc+-0x1ba7*-0x1+-0x8ab;}['destroy'](){var _0x44a3e2,_0x4e947,_0x4794ef;const _0x442bd0=this['mesh'];_0x442bd0&&(this['mesh']=null,_0x442bd0['refCount']<0x10b*-0x1+0x24fe+-0x2*0x11f9&&_0x442bd0['destroy']()),this['setRealtim'+'eLightmap'](Gr['lightmapPa'+'ramNames'][0x9d*0x1+0x1887+-0x1924],null),this['setRealtim'+'eLightmap'](Gr['lightmapPa'+'ramNames'][-0x2275*0x1+-0x11*0x1d5+0x419b],null),(_0x44a3e2=this['_skinInsta'+'nce'])==null||_0x44a3e2['destroy'](),this['_skinInsta'+'nce']=null,(_0x4e947=this['morphInsta'+'nce'])==null||_0x4e947['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x4794ef=this['instancing'+'Data'])==null||_0x4794ef['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x12242b,_0x2b602d){if(_0x12242b){for(let _0x4c0929=0x2*-0x2c2+-0x751+0xdb*0xf;_0x4c0929<_0x12242b['length'];_0x4c0929++){_0x12242b[_0x4c0929]['_renderSty'+'le']=_0x2b602d;const _0x12a82b=_0x12242b[_0x4c0929]['mesh'];wd['has'](_0x12a82b)||(wd['add'](_0x12a82b),_0x12a82b['prepareRen'+'derState'](_0x2b602d));}wd['clear']();}}['_isVisible'](_0x42892f){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x42892f):(bd['center']=this['aabb']['center'],bd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x42892f['frustum']['containsSp'+'here'](bd)>-0x6a7+-0x1e4b+-0x2*-0x1279):!(-0x1*0x25be+0x8a*0x25+0x11cd);}['updateKey'](){const _0x41469b=this['material'],_0x1cbf74=_0x41469b['alphaToCov'+'erage']||_0x41469b['alphaTest']?Gt:_0x41469b['blendType'];this['_key'][Ii]=(this['layer']&0x19a*-0x12+-0x667+0x234a)<<-0x2280+-0x2331+0x45cc|(_0x1cbf74===hs?0x3*-0x2b+-0x153e*0x1+0x15c0:-0x5cb*-0x1+-0x1204+-0x15*-0x95)<<0x7*0x37d+0x3*0xcd7+-0x3ed6|(_0x41469b['id']&0x2e9cfff+-0x5*-0x85be8d+-0x28397*0x167)<<-0x10*0x21+0x1c1*-0x1+0x3d1;}['setInstanc'+'ing'](_0x48228f,_0x304ab=!(0x1a36+0x1*0xd7c+-0x27b1)){_0x48228f?(this['instancing'+'Data']=new oC(_0x48228f['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x48228f,_0x48228f['format']['instancing']=!(0x3ab*0x3+0x49*-0x6b+0x1382),this['cull']=_0x304ab):(this['instancing'+'Data']=null,this['cull']=!(-0x1e6d*0x1+0x1acf*-0x1+0x393c)),this['_updateSha'+'derDefs'](_0x48228f?this['_shaderDef'+'s']|Yc:this['_shaderDef'+'s']&-(-0x24*0x2f+-0x71*0x4d+0x28ba));}['ensureMate'+'rial'](_0x28be5e){this['material']||(b['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=cl(_0x28be5e));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x1efab2){return this['parameters'][_0x1efab2];}['setParamet'+'er'](_0x46b588,_0x8788b6,_0x40b6dc=0x2c*0x30adc6f+0x5*0x23f5293b+-0x2*0x1cd3d89e){const _0x3d28b6=this['parameters'][_0x46b588];_0x3d28b6?(_0x3d28b6['data']=_0x8788b6,_0x3d28b6['passFlags']=_0x40b6dc):this['parameters'][_0x46b588]={'scopeId':null,'data':_0x8788b6,'passFlags':_0x40b6dc};}['setRealtim'+'eLightmap'](_0x33646d,_0x423f6d){const _0x1c8ae5=this['getParamet'+'er'](_0x33646d);_0x1c8ae5!==_0x423f6d&&(_0x1c8ae5&&Ai['decRef'](_0x1c8ae5['data']),_0x423f6d?(Ai['incRef'](_0x423f6d),this['setParamet'+'er'](_0x33646d,_0x423f6d)):this['deletePara'+'meter'](_0x33646d));}['deletePara'+'meter'](_0x5ed38e){this['parameters'][_0x5ed38e]&&delete this['parameters'][_0x5ed38e];}['setParamet'+'ers'](_0x1884ec,_0xf0d7d6){const _0x1ba2bf=this['parameters'];for(const _0x481caa in _0x1ba2bf){const _0x558fe4=_0x1ba2bf[_0x481caa];_0x558fe4['passFlags']&_0xf0d7d6&&(_0x558fe4['scopeId']||(_0x558fe4['scopeId']=_0x1884ec['scope']['resolve'](_0x481caa)),_0x558fe4['scopeId']['setValue'](_0x558fe4['data']));}}['setLightma'+'pped'](_0x522b60){_0x522b60?this['mask']=(this['mask']|dr)&-(-0x590*0x5+-0xc*0x326+-0x20cf*-0x2):(this['setRealtim'+'eLightmap'](Gr['lightmapPa'+'ramNames'][-0x22e7+0x1f7b+0xc*0x49],null),this['setRealtim'+'eLightmap'](Gr['lightmapPa'+'ramNames'][-0x15*0xff+0x42*0x31+0x425*0x2],null),this['_shaderDef'+'s']&=-(-0xc2b+0xa9f*-0x1+0x278b),this['mask']=(this['mask']|ms)&-(-0x782+0x112*-0x19+0x224b));}['setCustomA'+'abb'](_0x21839e){_0x21839e?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x21839e):this['_customAab'+'b']=_0x21839e['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0x137*0x1+-0x18*0x155+0x2130)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Gr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Be=Gr;const hC=[-0x1061+-0xceb*-0x1+0x376,0x72*0x27+0xb*0x79+-0x2*0xb48,-0x1*0x1825+0x2*-0x5c1+-0x2*-0x11d5,0xb60+0xb*-0x11f+0xf7*0x1,-0x1d7d+-0x421*0x2+-0x166*-0x1b,-0x1b3+0xb22+-0x96e],cC=[0x8*0x2c+-0x1f73*0x1+0x1e13,0x82f+0x44c+-0xc7a,-0x1899+-0x1ec4+-0x1*-0x3760,-0x23d+-0x1363*0x1+-0x2b4*-0x8,0x141+-0x1b+-0x123,-0x526*-0x5+0x8ae+0x5*-0x6e2],Ym=new Js();function Km(_0x8c5dc8,_0x12180a){if(_0x8c5dc8&&!_0x12180a||!_0x8c5dc8&&_0x12180a)return!(-0x1*0x513+0xd96+-0x1*0x882);if(_0x8c5dc8=_0x8c5dc8['data'],_0x12180a=_0x12180a['data'],_0x8c5dc8===_0x12180a)return!(-0x1952+0x203d+-0x6eb);if(_0x8c5dc8 instanceof Float32Array&&_0x12180a instanceof Float32Array){if(_0x8c5dc8['length']!==_0x12180a['length'])return!(0x3*-0x902+-0x2*0x2c2+0x208b);for(let _0x486cbf=-0x1f*0x9+-0x6*0x81+0x27*0x1b;_0x486cbf<_0x8c5dc8['length'];_0x486cbf++)if(_0x8c5dc8[_0x486cbf]!==_0x12180a[_0x486cbf])return!(-0xb0e*0x2+-0x2f3*0x1+0x322*0x8);return!(-0x1480+0x17d0+0x1*-0x350);}return!(-0x11aa+0x262c+0x1*-0x1481);}function dC(_0x31f022,_0x3eba8c){for(const _0x3cef67 in _0x31f022)if(_0x31f022['hasOwnProp'+'erty'](_0x3cef67)&&!Km(_0x31f022[_0x3cef67],_0x3eba8c[_0x3cef67]))return!(0x950*-0x2+0xaeb*-0x1+0x1d8c);for(const _0x4f6dd0 in _0x3eba8c)if(_0x3eba8c['hasOwnProp'+'erty'](_0x4f6dd0)&&!Km(_0x3eba8c[_0x4f6dd0],_0x31f022[_0x4f6dd0]))return!(0x1091+0x129+-0x1*0x11b9);return!(-0xbc8+0xf2*-0x14+0x1eb0);}function Td(_0xbd4289){return _0xbd4289['node']['worldTrans'+'form']['scaleSign'];}class uC{constructor(_0x1401b1,_0x3fdcb0,_0xe70c75){this['device']=_0x1401b1,this['rootNode']=_0x3fdcb0,this['scene']=_0xe70c75,this['_init']=!(0x8c2*-0x3+0x1754+-0x2f3*-0x1),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0xa9d+-0xbb7+0x11a,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x123094,_0x1d26fc,_0x2b6b16,_0xbf54c9,_0x4e44cf){if(_0xbf54c9===void(0xb*0x302+-0x163*0x6+-0x18c4)&&(_0xbf54c9=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0xbf54c9]){b['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0xbf54c9+('\x20already\x20e'+'xists.'));return;}const _0x5a84e9=new rt(_0xbf54c9,_0x123094,_0x1d26fc,_0x2b6b16,_0x4e44cf);return this['_batchGrou'+'ps'][_0xbf54c9]=_0x5a84e9,_0x5a84e9;}['removeGrou'+'p'](_0x39590c){if(!this['_batchGrou'+'ps'][_0x39590c]){b['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x39590c+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x43f1da=[];for(let _0x4d7103=0x1d0f+0x1*0x1399+-0x30a8;_0x4d7103<this['_batchList']['length'];_0x4d7103++)this['_batchList'][_0x4d7103]['batchGroup'+'Id']===_0x39590c?this['destroyBat'+'ch'](this['_batchList'][_0x4d7103]):_0x43f1da['push'](this['_batchList'][_0x4d7103]);this['_batchList']=_0x43f1da,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x39590c),delete this['_batchGrou'+'ps'][_0x39590c];}['markGroupD'+'irty'](_0x5948ca){this['_dirtyGrou'+'ps']['indexOf'](_0x5948ca)<0x2221*-0x1+-0x696+-0x5d1*-0x7&&this['_dirtyGrou'+'ps']['push'](_0x5948ca);}['getGroupBy'+'Name'](_0x251bcc){const _0x44cda5=this['_batchGrou'+'ps'];for(const _0xff3a9d in _0x44cda5)if(_0x44cda5['hasOwnProp'+'erty'](_0xff3a9d)&&_0x44cda5[_0xff3a9d]['name']===_0x251bcc)return _0x44cda5[_0xff3a9d];return null;}['getBatches'](_0x72bc32){const _0x2ec1f8=[],_0x37cb43=this['_batchList']['length'];for(let _0x6341c1=-0x1341+-0x20e4*0x1+0x773*0x7;_0x6341c1<_0x37cb43;_0x6341c1++){const _0x478c58=this['_batchList'][_0x6341c1];_0x478c58['batchGroup'+'Id']===_0x72bc32&&_0x2ec1f8['push'](_0x478c58);}return _0x2ec1f8;}['_removeMod'+'elsFromBat'+'chGroup'](_0x5ec474,_0x460fb4){if(_0x5ec474['enabled']){_0x5ec474['model']&&_0x5ec474['model']['batchGroup'+'Id']===_0x460fb4&&(_0x5ec474['model']['batchGroup'+'Id']=-(-0x1*0x1fad+-0x197*-0x6+0x1624)),_0x5ec474['render']&&_0x5ec474['render']['batchGroup'+'Id']===_0x460fb4&&(_0x5ec474['render']['batchGroup'+'Id']=-(0xcf0+-0x1f4c+-0x125d*-0x1)),_0x5ec474['element']&&_0x5ec474['element']['batchGroup'+'Id']===_0x460fb4&&(_0x5ec474['element']['batchGroup'+'Id']=-(-0xd*0xab+0x1*0x1521+-0xc71)),_0x5ec474['sprite']&&_0x5ec474['sprite']['batchGroup'+'Id']===_0x460fb4&&(_0x5ec474['sprite']['batchGroup'+'Id']=-(0xc7*0x29+0x23cf*0x1+-0x43ad));for(let _0x479948=-0x1502*-0x1+-0x2*-0x109+-0x5c5*0x4;_0x479948<_0x5ec474['_children']['length'];_0x479948++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x5ec474['_children'][_0x479948],_0x460fb4);}}['insert'](_0x228c77,_0xab5531,_0x3a9cc9){const _0x56399c=this['_batchGrou'+'ps'][_0xab5531];b['assert'](_0x56399c,'Invalid\x20ba'+'tch\x20'+_0xab5531+'\x20insertion'),_0x56399c&&_0x56399c['_obj'][_0x228c77]['indexOf'](_0x3a9cc9)<0x5*0x42+0x1*0x2590+-0x26da&&(_0x56399c['_obj'][_0x228c77]['push'](_0x3a9cc9),this['markGroupD'+'irty'](_0xab5531));}['remove'](_0x35e1b4,_0x10a040,_0x28e800){const _0x5b9c6b=this['_batchGrou'+'ps'][_0x10a040];if(b['assert'](_0x5b9c6b,'Invalid\x20ba'+'tch\x20'+_0x10a040+'\x20insertion'),_0x5b9c6b){const _0x22a3e2=_0x5b9c6b['_obj'][_0x35e1b4]['indexOf'](_0x28e800);_0x22a3e2>=0xb28+0x9f7*-0x1+0x131*-0x1&&(_0x5b9c6b['_obj'][_0x35e1b4]['splice'](_0x22a3e2,0x1*-0x2527+0x25f6+-0xce),this['markGroupD'+'irty'](_0x10a040));}}['_extractRe'+'nder'](_0xc0341e,_0x9f7907,_0x3dc535,_0x31fd8c){return _0xc0341e['render']&&(_0x9f7907=_0x31fd8c[_0xc0341e['render']['batchGroup'+'Id']]=_0x9f7907['concat'](_0xc0341e['render']['meshInstan'+'ces']),_0xc0341e['render']['removeFrom'+'Layers']()),_0x9f7907;}['_extractMo'+'del'](_0x4ae075,_0x1f60da,_0x503dc5,_0x199aa5){return _0x4ae075['model']&&_0x4ae075['model']['model']&&(_0x1f60da=_0x199aa5[_0x4ae075['model']['batchGroup'+'Id']]=_0x1f60da['concat'](_0x4ae075['model']['meshInstan'+'ces']),_0x4ae075['model']['removeMode'+'lFromLayer'+'s'](),_0x4ae075['model']['_batchGrou'+'p']=_0x503dc5),_0x1f60da;}['_extractEl'+'ement'](_0x1bb381,_0x1e9f74,_0x5909f2){if(!_0x1bb381['element'])return;let _0x5be239=!(-0x1897*0x1+-0x213e+-0xb*-0x542);_0x1bb381['element']['_text']&&_0x1bb381['element']['_text']['_model']['meshInstan'+'ces']['length']>0x33e*0x6+-0x77d+-0x1*0xbf7?(_0x1e9f74['push'](_0x1bb381['element']['_text']['_model']['meshInstan'+'ces'][0x23ea*-0x1+-0xe5a+0xc91*0x4]),_0x1bb381['element']['removeMode'+'lFromLayer'+'s'](_0x1bb381['element']['_text']['_model']),_0x5be239=!(-0x318*-0x5+0x3*-0x70f+0x5b5*0x1)):_0x1bb381['element']['_image']&&(_0x1e9f74['push'](_0x1bb381['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x1bb381['element']['removeMode'+'lFromLayer'+'s'](_0x1bb381['element']['_image']['_renderabl'+'e']['model']),_0x1bb381['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x1e9f74['push'](_0x1bb381['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x1bb381['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x1bb381['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x1bb381['element']['_dirtifyMa'+'sk'](),_0x1bb381['element']['_onPrerend'+'er']())),_0x5be239=!(0x1174+-0x4cf*-0x5+0x297f*-0x1)),_0x5be239&&(_0x5909f2['_ui']=!(-0x3a*0x1d+-0xc83+0x1315),_0x1bb381['element']['_batchGrou'+'p']=_0x5909f2);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x16aeec,_0x48f765){for(let _0x151373=-0x2dd*0xa+-0x8aa*0x1+0x254c;_0x151373<_0x48f765['length'];_0x151373++){const _0x444156=_0x48f765[_0x151373],_0x114faf=this['_batchGrou'+'ps'][_0x444156];if(!_0x114faf)continue;let _0x39576a=_0x16aeec[_0x444156];_0x39576a||(_0x39576a=_0x16aeec[_0x444156]=[]);for(let _0x1c8eaf=-0xa3a+0x26b3+-0x1c79;_0x1c8eaf<_0x114faf['_obj']['model']['length'];_0x1c8eaf++)_0x39576a=this['_extractMo'+'del'](_0x114faf['_obj']['model'][_0x1c8eaf],_0x39576a,_0x114faf,_0x16aeec);for(let _0x1a6fd9=-0xba*0x2+-0x8b3*0x1+0xa27;_0x1a6fd9<_0x114faf['_obj']['render']['length'];_0x1a6fd9++)_0x39576a=this['_extractRe'+'nder'](_0x114faf['_obj']['render'][_0x1a6fd9],_0x39576a,_0x114faf,_0x16aeec);for(let _0x2e2309=0xb8c+-0x1bd0+0x3*0x56c;_0x2e2309<_0x114faf['_obj']['element']['length'];_0x2e2309++)this['_extractEl'+'ement'](_0x114faf['_obj']['element'][_0x2e2309],_0x39576a,_0x114faf);for(let _0x282d67=-0x6de+0x181d+0x5*-0x373;_0x282d67<_0x114faf['_obj']['sprite']['length'];_0x282d67++){const _0x2d7375=_0x114faf['_obj']['sprite'][_0x282d67];_0x2d7375['sprite']&&_0x2d7375['sprite']['_meshInsta'+'nce']&&(_0x114faf['dynamic']||_0x2d7375['sprite']['sprite']['_renderMod'+'e']===Pi)&&(_0x39576a['push'](_0x2d7375['sprite']['_meshInsta'+'nce']),_0x2d7375['sprite']['removeMode'+'lFromLayer'+'s'](),_0x114faf['_sprite']=!(-0x1*-0x37e+-0x1980+0x1602),_0x2d7375['sprite']['_batchGrou'+'p']=_0x114faf);}}}['generate'](_0x34c2c9){const _0x222273={};_0x34c2c9||(_0x34c2c9=Object['keys'](this['_batchGrou'+'ps']));const _0x8f1b0f=[];for(let _0x598ec4=-0x1*0x11b9+0xe6b+0x34e;_0x598ec4<this['_batchList']['length'];_0x598ec4++){if(_0x34c2c9['indexOf'](this['_batchList'][_0x598ec4]['batchGroup'+'Id'])<0x1813+0x4c3+0xe6b*-0x2){_0x8f1b0f['push'](this['_batchList'][_0x598ec4]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x598ec4]);}if(this['_batchList']=_0x8f1b0f,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x222273,_0x34c2c9),_0x34c2c9===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x1d31+0x1f98*-0x1+-0x8af*-0x7;else{const _0x1cedb2=[];for(let _0x240b41=-0x1c98+0x1970+-0x4*-0xca;_0x240b41<this['_dirtyGrou'+'ps']['length'];_0x240b41++)_0x34c2c9['indexOf'](this['_dirtyGrou'+'ps'][_0x240b41])<0x10f7*-0x1+-0x1494+0x258b&&_0x1cedb2['push'](this['_dirtyGrou'+'ps'][_0x240b41]);this['_dirtyGrou'+'ps']=_0x1cedb2;}let _0x4d7fd8,_0x239191,_0x2ee301,_0x25ab83;for(const _0x1abe8c in _0x222273)if(_0x222273['hasOwnProp'+'erty'](_0x1abe8c)){if(_0x4d7fd8=_0x222273[_0x1abe8c],_0x2ee301=this['_batchGrou'+'ps'][_0x1abe8c],!_0x2ee301){b['error']('batch\x20grou'+'p\x20'+_0x1abe8c+'\x20not\x20found');continue;}_0x239191=this['prepare'](_0x4d7fd8,_0x2ee301['dynamic'],_0x2ee301['maxAabbSiz'+'e'],_0x2ee301['_ui']||_0x2ee301['_sprite']);for(let _0x4fc12d=-0x2619+0x1390+0x1289;_0x4fc12d<_0x239191['length'];_0x4fc12d++)_0x25ab83=this['create'](_0x239191[_0x4fc12d],_0x2ee301['dynamic'],parseInt(_0x1abe8c,0x1d*-0x119+-0x7*-0x443+-0x57*-0x6)),_0x25ab83&&_0x25ab83['addToLayer'+'s'](this['scene'],_0x2ee301['layers']);}}['prepare'](_0x5a39c6,_0x47eba7,_0x526e57=Number['POSITIVE_I'+'NFINITY'],_0x34b82f){if(_0x5a39c6['length']===0x156e+-0x4*-0x4af+-0x6a*0x61)return[];const _0xb02bd9=_0x526e57*(-0x2*-0x724+0x11b8+0x20*-0x100+0.5),_0x18019d=0x24aa+0x60b+-0x9*0x44d,_0x5d12ff=0xda01fe4f+0xbd7de9*-0x2b3+0x22578dd9b,_0x4591c7=new ve(),_0x27650f=new ve();let _0xdb2e1=null,_0x1650b6;const _0xdb4e66=[];let _0x3f3bf9=0xca2+-0x5*-0x41f+0x1*-0x213d;_0x34b82f&&_0x5a39c6['sort']((_0x452a4f,_0x3f7b0d)=>_0x452a4f['drawOrder']-_0x3f7b0d['drawOrder']);let _0x397487=_0x5a39c6,_0x212fc9;const _0x4a4eec=_0x34b82f?function(_0x2dbfb8){_0xdb2e1?_0xdb2e1['add'](_0x2dbfb8['aabb']):_0xdb2e1=_0x2dbfb8['aabb']['clone'](),_0x212fc9['push'](_0x2dbfb8);}:function(_0x4dc61d){_0x212fc9['push'](_0x4dc61d);};for(;_0x397487['length']>-0xb29*-0x2+0xb*-0xd3+-0xd41;){_0xdb4e66[_0x3f3bf9]=[_0x397487[0xd8e+-0x1478+0x6ea]],_0x212fc9=[];const _0x171828=_0x397487[-0x49c+-0x183a+0x1cd6]['material'],_0x49395a=_0x397487[0x182b+-0x5c1*0x4+0x3b*-0x5]['layer'],_0x163aff=_0x397487[0x1a50*-0x1+-0x4a*0x7f+0x3f06]['_shaderDef'+'s'],_0x5b83c2=_0x397487[0x8e7+-0x1*0x11aa+0x1*0x8c3]['parameters'],_0x243098=_0x397487[0x1f1a+0x26fc+0x230b*-0x2]['stencilFro'+'nt'];let _0x18c2f0=_0x397487[-0x120d+-0xdb*0x4+-0x1579*-0x1]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x17d5a6=_0x397487[0x6c4*-0x4+0x1e17+-0x19*0x1f]['drawOrder'];_0x4591c7['copy'](_0x397487[0xde0+0x2e*-0x95+0x673*0x2]['aabb']);const _0x4adbbc=Td(_0x397487[0x1f22+0x22c6+-0x41e8]),_0x30e11a=_0x397487[0x1*-0x2575+-0x36*0x33+0x3037*0x1]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x5f2408=_0x397487[0x245e+0x1870+-0x3cce]['mesh']['primitive'][-0x394+0x1693+-0x12ff*0x1]['indexed'];_0xdb2e1=null;for(let _0x3c034c=0x795+-0x4b*0x5+-0x61d;_0x3c034c<_0x397487['length'];_0x3c034c++){const _0x6ed42f=_0x397487[_0x3c034c];if(_0x47eba7&&_0xdb4e66[_0x3f3bf9]['length']>=_0x18019d){_0x212fc9=_0x212fc9['concat'](_0x397487['slice'](_0x3c034c));break;}if(_0x171828!==_0x6ed42f['material']||_0x49395a!==_0x6ed42f['layer']||_0x30e11a!==_0x6ed42f['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x5f2408!==_0x6ed42f['mesh']['primitive'][0x25da+0x1e2b+-0x4405]['indexed']||_0x163aff!==_0x6ed42f['_shaderDef'+'s']||_0x18c2f0+_0x6ed42f['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x5d12ff){_0x4a4eec(_0x6ed42f);continue;}if(_0x27650f['copy'](_0x4591c7),_0x27650f['add'](_0x6ed42f['aabb']),_0x27650f['halfExtent'+'s']['x']>_0xb02bd9||_0x27650f['halfExtent'+'s']['y']>_0xb02bd9||_0x27650f['halfExtent'+'s']['z']>_0xb02bd9){_0x4a4eec(_0x6ed42f);continue;}if(_0x243098&&(!(_0x1650b6=_0x6ed42f['stencilFro'+'nt'])||_0x243098['func']!==_0x1650b6['func']||_0x243098['zpass']!==_0x1650b6['zpass'])){_0x4a4eec(_0x6ed42f);continue;}if(_0x4adbbc!==Td(_0x6ed42f)){_0x4a4eec(_0x6ed42f);continue;}if(!dC(_0x5b83c2,_0x6ed42f['parameters'])){_0x4a4eec(_0x6ed42f);continue;}if(_0x34b82f&&_0xdb2e1&&_0xdb2e1['intersects'](_0x6ed42f['aabb'])&&_0x6ed42f['drawOrder']!==_0x17d5a6){_0x4a4eec(_0x6ed42f);continue;}_0x4591c7['add'](_0x6ed42f['aabb']),_0x18c2f0+=_0x6ed42f['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0xdb4e66[_0x3f3bf9]['push'](_0x6ed42f);}_0x3f3bf9++,_0x397487=_0x212fc9;}return _0xdb4e66;}['collectBat'+'chedMeshDa'+'ta'](_0x352ab9,_0x27cb46){let _0x1c5d76=null,_0x3364da=-0x1*0x1715+0x1129+0x5ec,_0x4618df=0x1*0x1141+0x227+-0x1368,_0x5ca928=null;for(let _0x3c5ee0=-0x9c2+0x1b49+-0x1*0x1187;_0x3c5ee0<_0x352ab9['length'];_0x3c5ee0++)if(_0x352ab9[_0x3c5ee0]['visible']){const _0x3eac38=_0x352ab9[_0x3c5ee0]['mesh'],_0x2678a9=_0x3eac38['vertexBuff'+'er']['numVertice'+'s'];if(_0x3364da+=_0x2678a9,_0x3eac38['primitive'][-0x13a*0x6+0x1*-0xccd+0x1429]['indexed'])_0x4618df+=_0x3eac38['primitive'][-0x2a8*0x2+0x1a05+0x13*-0x117]['count'];else{const _0x21b40a=_0x3eac38['primitive'][0x158f+-0x1*0x299+-0x12f6*0x1]['type'];(_0x21b40a===Kr||_0x21b40a===lr)&&_0x3eac38['primitive'][0x6b*0x3+-0x1385+-0x4*-0x491]['count']===-0xe5*-0x6+0x1*-0x174e+0x11f4&&(_0x4618df+=-0x24cc+0x2020+-0x259*-0x2);}if(!_0x1c5d76){_0x5ca928=_0x352ab9[_0x3c5ee0]['material'],_0x1c5d76={};const _0x3ec8e2=_0x3eac38['vertexBuff'+'er']['format']['elements'];for(let _0x3bbc8d=0x1101+-0x1*-0x100f+-0x2110;_0x3bbc8d<_0x3ec8e2['length'];_0x3bbc8d++){const _0x2dfce8=_0x3ec8e2[_0x3bbc8d]['name'];_0x1c5d76[_0x2dfce8]={'numComponents':_0x3ec8e2[_0x3bbc8d]['numCompone'+'nts'],'dataType':_0x3ec8e2[_0x3bbc8d]['dataType'],'normalize':_0x3ec8e2[_0x3bbc8d]['normalize'],'count':0x0};}_0x27cb46&&(_0x1c5d76[Jt]={'numComponents':0x1,'dataType':Re,'normalize':!(-0x3*0x105+0x5f3*-0x5+0x20cf),'count':0x0});}}return{'streams':_0x1c5d76,'batchNumVerts':_0x3364da,'batchNumIndices':_0x4618df,'material':_0x5ca928};}['create'](_0x1b802c,_0x1e057d,_0x1ffdab){const _0x11aa80=ae();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x1*-0x1787+-0x1ab9*0x1+-0x2*-0x199));let _0x2ba7db=null,_0x4973a9,_0x5ef4d7,_0x1983e5,_0x212b3f=null;const _0x2d66c4=this['collectBat'+'chedMeshDa'+'ta'](_0x1b802c,_0x1e057d);if(_0x2d66c4['streams']){const _0x3daa4d=_0x2d66c4['streams'];let _0x316f87=_0x2d66c4['material'];const _0x4b241e=_0x2d66c4['batchNumVe'+'rts'],_0x3b3e3d=_0x2d66c4['batchNumIn'+'dices'];_0x212b3f=new Um(_0x1b802c,_0x1e057d,_0x1ffdab),this['_batchList']['push'](_0x212b3f);let _0x431649,_0x220b6c,_0x273253,_0x1674bf=-0x9*-0x257+0x24ad+-0x39bc,_0x556698=0x22f3*0x1+-0xc95+0xb2f*-0x2,_0x16fc20;const _0x37a34d=_0x4b241e<=0x2*0x330e+-0x13dbc+-0x3467*-0x9?Uint16Array:Uint32Array,_0x222e3d=new _0x37a34d(_0x3b3e3d);for(_0x4973a9 in _0x3daa4d)_0x2ba7db=_0x3daa4d[_0x4973a9],_0x2ba7db['typeArrayT'+'ype']=fa[_0x2ba7db['dataType']],_0x2ba7db['elementByt'+'eSize']=So[_0x2ba7db['dataType']],_0x2ba7db['buffer']=new _0x2ba7db['typeArrayT'+'ype'](_0x4b241e*_0x2ba7db['numCompone'+'nts']);for(let _0x4863ab=-0x1ee3*0x1+0x56*-0x3b+0x3*0x10e7;_0x4863ab<_0x1b802c['length'];_0x4863ab++)if(_0x1b802c[_0x4863ab]['visible']){_0x5ef4d7=_0x1b802c[_0x4863ab]['mesh'],_0x1983e5=_0x5ef4d7['vertexBuff'+'er']['numVertice'+'s'],_0x1e057d||(_0x16fc20=_0x1b802c[_0x4863ab]['node']['getWorldTr'+'ansform']());for(_0x4973a9 in _0x3daa4d)if(_0x4973a9!==Jt){_0x2ba7db=_0x3daa4d[_0x4973a9];const _0x320679=new _0x2ba7db['typeArrayT'+'ype'](_0x2ba7db['buffer']['buffer'],_0x2ba7db['elementByt'+'eSize']*_0x2ba7db['count']),_0x383401=_0x5ef4d7['getVertexS'+'tream'](_0x4973a9,_0x320679)*_0x2ba7db['numCompone'+'nts'];if(_0x2ba7db['count']+=_0x383401,!_0x1e057d&&_0x2ba7db['numCompone'+'nts']>=0x7a5+-0xc1*0x2a+0x1808){if(_0x4973a9===Xe){const _0x3e5ddd=_0x16fc20['data'],_0x358464=_0x3e5ddd[-0x8*-0x1e9+-0x58e*-0x3+0x1*-0x1ff2],_0x33d94d=_0x3e5ddd[0x2*0xe7f+0x3d*0x6b+0x2c*-0x13d],_0x5010e3=_0x3e5ddd[-0x8bf*-0x1+0x1b6*0x10+-0x241d],_0x5def26=_0x3e5ddd[0x13d4+0x1304+-0x26d4],_0x4ac467=_0x3e5ddd[0x3eb*0x2+-0x3cc*0x3+0x393],_0x1bd4c4=_0x3e5ddd[-0x19bb+-0xb68+-0x7*-0x54f],_0x1504d0=_0x3e5ddd[-0x899+-0x10e3*-0x1+-0x842*0x1],_0x1ca069=_0x3e5ddd[0x2346+-0x2*0x43c+-0x1ac5],_0x4d2503=_0x3e5ddd[-0x1f04+0x1b8b*0x1+0x383],_0x4966bb=_0x3e5ddd[0xac3*0x1+0xd7*-0x2b+0x1966],_0x437fdd=_0x3e5ddd[0x2534+0x1*-0x1bc7+-0x960],_0x172b08=_0x3e5ddd[-0xd*-0x209+0x384+-0x9*0x353];let _0x2c65e0,_0x5d2bf6,_0x1b0bae;for(let _0x39e146=0x19cb+-0x1173+0x6*-0x164;_0x39e146<_0x383401;_0x39e146+=_0x2ba7db['numCompone'+'nts'])_0x2c65e0=_0x320679[_0x39e146],_0x5d2bf6=_0x320679[_0x39e146+(-0x182d+-0xcf7+0x25*0x101)],_0x1b0bae=_0x320679[_0x39e146+(0x24c5*-0x1+-0x2179+0x4640)],_0x320679[_0x39e146]=_0x2c65e0*_0x358464+_0x5d2bf6*_0x5def26+_0x1b0bae*_0x1504d0+_0x4966bb,_0x320679[_0x39e146+(-0x1b82+-0x2*-0x33b+-0x1*-0x150d)]=_0x2c65e0*_0x33d94d+_0x5d2bf6*_0x4ac467+_0x1b0bae*_0x1ca069+_0x437fdd,_0x320679[_0x39e146+(-0x1e6e+-0xebc+-0x7*-0x674)]=_0x2c65e0*_0x5010e3+_0x5d2bf6*_0x1bd4c4+_0x1b0bae*_0x4d2503+_0x172b08;}else{if(_0x4973a9===ss||_0x4973a9===si){Ym['invertMat4'](_0x16fc20)['transpose']();const [_0x3a4e52,_0x5cb70d,_0x3337c3,_0x3ffe32,_0x6dd3cc,_0x599356,_0x18a7db,_0x4b424f,_0x59b130]=Ym['data'];let _0x457b00,_0xbf07aa,_0x444f74;for(let _0x5b17d9=-0xa2b+0xad9+-0x57*0x2;_0x5b17d9<_0x383401;_0x5b17d9+=_0x2ba7db['numCompone'+'nts'])_0x457b00=_0x320679[_0x5b17d9],_0xbf07aa=_0x320679[_0x5b17d9+(0xd9f+-0x1830+0x42*0x29)],_0x444f74=_0x320679[_0x5b17d9+(-0x2e4+0xe08+-0xb22)],_0x320679[_0x5b17d9]=_0x457b00*_0x3a4e52+_0xbf07aa*_0x3ffe32+_0x444f74*_0x18a7db,_0x320679[_0x5b17d9+(-0x2af*-0x5+-0x252c+0x17c2)]=_0x457b00*_0x5cb70d+_0xbf07aa*_0x6dd3cc+_0x444f74*_0x4b424f,_0x320679[_0x5b17d9+(-0x3e*0x6+-0x4b1*0x8+0x17*0x1b2)]=_0x457b00*_0x3337c3+_0xbf07aa*_0x599356+_0x444f74*_0x59b130;}}}}if(_0x1e057d){_0x2ba7db=_0x3daa4d[Jt];for(let _0x4905ac=0x1a76+-0x1b2f*0x1+-0xb9*-0x1;_0x4905ac<_0x1983e5;_0x4905ac++)_0x2ba7db['buffer'][_0x2ba7db['count']++]=_0x4863ab;}if(_0x5ef4d7['primitive'][0x1633+0x1*0x1dd9+-0x340c]['indexed']){_0x431649=_0x5ef4d7['primitive'][-0x23b8+0x4*-0x29+0x34*0xb3]['base'],_0x220b6c=_0x5ef4d7['primitive'][-0x21*0x122+0x1bac+0x4db*0x2]['count'];const _0x261e7d=_0x5ef4d7['indexBuffe'+'r'][0x77a+-0x1f5d+-0x4c7*-0x5]['getFormat']();_0x273253=new Nh[_0x261e7d](_0x5ef4d7['indexBuffe'+'r'][0x93c+0x1055+-0x1991]['storage']);}else{const _0x842a00=_0x5ef4d7['primitive'][-0x1*-0x1d63+-0x4b9*0x7+0x3ac]['type'];if(_0x842a00===Kr||_0x842a00===lr){if(_0x5ef4d7['primitive'][-0x9d6*-0x1+-0x112*-0x6+-0x1042]['count']===-0x157c+-0x2*0xe9b+0x32b6*0x1)_0x431649=-0x16cd+0x1*-0x1189+0x2856,_0x220b6c=0x36e*0x6+0x1aff*-0x1+0x671,_0x273253=_0x842a00===Kr?hC:cC;else{_0x220b6c=0xd57+-0x4*-0x52b+-0x1*0x2203;continue;}}}for(let _0x4d09c0=0x1ce1+0x16f*-0x12+-0x313;_0x4d09c0<_0x220b6c;_0x4d09c0++)_0x222e3d[_0x4d09c0+_0x556698]=_0x273253[_0x431649+_0x4d09c0]+_0x1674bf;_0x556698+=_0x220b6c,_0x1674bf+=_0x1983e5;}_0x5ef4d7=new ke(this['device']);for(_0x4973a9 in _0x3daa4d)_0x2ba7db=_0x3daa4d[_0x4973a9],_0x5ef4d7['setVertexS'+'tream'](_0x4973a9,_0x2ba7db['buffer'],_0x2ba7db['numCompone'+'nts'],void(0x1*-0x1fbb+0x8df+0x16dc),_0x2ba7db['dataType'],_0x2ba7db['normalize']);_0x222e3d['length']>0x1e02+-0x1b68*0x1+0x12*-0x25&&_0x5ef4d7['setIndices'](_0x222e3d),_0x5ef4d7['update'](Fs,!(-0x12*0xe5+0xb3*-0xb+-0x17cc*-0x1)),_0x1e057d&&(_0x316f87=_0x316f87['clone'](),_0x316f87['update']());const _0x5d8efa=new Be(_0x5ef4d7,_0x316f87,this['rootNode']);_0x5d8efa['castShadow']=_0x212b3f['origMeshIn'+'stances'][-0x19da+-0x1461*0x1+0x107*0x2d]['castShadow'],_0x5d8efa['parameters']=_0x212b3f['origMeshIn'+'stances'][0x81f+0x11f1+-0x8b*0x30]['parameters'],_0x5d8efa['layer']=_0x212b3f['origMeshIn'+'stances'][0xab5+-0x22da+0x1825*0x1]['layer'],_0x5d8efa['_shaderDef'+'s']=_0x212b3f['origMeshIn'+'stances'][-0x14d3+0x87*0x25+0x150*0x1]['_shaderDef'+'s'],_0x5d8efa['batching']=!(-0x214f*0x1+-0xd43+0x2e92),_0x5d8efa['cull']=_0x212b3f['origMeshIn'+'stances'][0x16f9*-0x1+0x12*-0x9d+0x2203]['cull'];const _0x545368=this['_batchGrou'+'ps'][_0x1ffdab];if(_0x545368&&_0x545368['_ui']&&(_0x5d8efa['cull']=!(-0x194b+-0x21b+0x1*0x1b67)),_0x1e057d){const _0x1060b9=[];for(let _0x2e304e=0x2*0x65b+-0x3d*0x73+-0x1*-0xeb1;_0x2e304e<_0x212b3f['origMeshIn'+'stances']['length'];_0x2e304e++)_0x1060b9['push'](_0x212b3f['origMeshIn'+'stances'][_0x2e304e]['node']);_0x5d8efa['skinInstan'+'ce']=new Gm(this['device'],_0x1060b9,this['rootNode']);}_0x5d8efa['_updateAab'+'b']=!(0x3*0x11a+-0x9*-0x296+-0x1*0x1a93),_0x5d8efa['drawOrder']=_0x212b3f['origMeshIn'+'stances'][0x3*0x427+0x1*-0x18bd+0xc48]['drawOrder'],_0x5d8efa['stencilFro'+'nt']=_0x212b3f['origMeshIn'+'stances'][0x1db3+0x486*-0x1+-0x192d]['stencilFro'+'nt'],_0x5d8efa['stencilBac'+'k']=_0x212b3f['origMeshIn'+'stances'][0x1e9*0x1+-0x2*-0x767+-0x10b7]['stencilBac'+'k'],_0x5d8efa['flipFacesF'+'actor']=Td(_0x212b3f['origMeshIn'+'stances'][-0x102*-0x13+-0x1*-0x17dd+-0x2b03]),_0x5d8efa['castShadow']=_0x212b3f['origMeshIn'+'stances'][0x251d*0x1+0x5*0x791+0x35*-0x16a]['castShadow'],_0x212b3f['meshInstan'+'ce']=_0x5d8efa,_0x212b3f['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ae()-_0x11aa80,_0x212b3f;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x824+0x216*-0x9+0x551*0x2&&this['generate'](this['_dirtyGrou'+'ps']);const _0xb0b5ed=ae();for(let _0x4eb81b=0xa2e+0x2175+0x2ba3*-0x1;_0x4eb81b<this['_batchList']['length'];_0x4eb81b++)this['_batchList'][_0x4eb81b]['dynamic']&&this['_batchList'][_0x4eb81b]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ae()-_0xb0b5ed;}['clone'](_0x4e23ff,_0x57e9ed){const _0x2a853d=new Um(_0x57e9ed,_0x4e23ff['dynamic'],_0x4e23ff['batchGroup'+'Id']);this['_batchList']['push'](_0x2a853d);const _0x282f43=[];for(let _0x29b73e=0xe8a+0xe*-0x8e+-0x6c6;_0x29b73e<_0x57e9ed['length'];_0x29b73e++)_0x282f43['push'](_0x57e9ed[_0x29b73e]['node']);return _0x2a853d['meshInstan'+'ce']=new Be(_0x4e23ff['meshInstan'+'ce']['mesh'],_0x4e23ff['meshInstan'+'ce']['material'],_0x4e23ff['meshInstan'+'ce']['node']),_0x2a853d['meshInstan'+'ce']['_updateAab'+'b']=!(-0x1389+-0x11*-0xb5+0x1*0x785),_0x2a853d['meshInstan'+'ce']['parameters']=_0x57e9ed[-0x1484+0xe0b+0x679]['parameters'],_0x2a853d['meshInstan'+'ce']['cull']=_0x57e9ed[0x3*-0xa8b+-0xd13*-0x2+-0x17*-0x3d]['cull'],_0x2a853d['meshInstan'+'ce']['layer']=_0x57e9ed[-0x36d*-0x5+-0x184f+0x72e]['layer'],_0x4e23ff['dynamic']&&(_0x2a853d['meshInstan'+'ce']['skinInstan'+'ce']=new Gm(this['device'],_0x282f43,this['rootNode'])),_0x2a853d['meshInstan'+'ce']['castShadow']=_0x4e23ff['meshInstan'+'ce']['castShadow'],_0x2a853d;}['destroyBat'+'ch'](_0x5983a5){_0x5983a5['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x5983a5['batchGroup'+'Id']]['layers']);}}const Zm='uSceneColo'+'rMap';class fC extends gs{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x4d4310,_0x1feb39,_0x45ad8b){if((_0x4d4310==null?void(0x20da+-0x67*-0x15+0x1*-0x294d):_0x4d4310['colorBuffe'+'r']['format'])!==_0x45ad8b)return!(-0x8aa*-0x3+0xdc6*0x1+0x7f4*-0x5);const _0xf4a156=(_0x1feb39==null?void(-0x210a+0x11c9+0xf41):_0x1feb39['width'])||this['device']['width'],_0x3d68fe=(_0x1feb39==null?void(0x63a+0x6dc+-0xd16):_0x1feb39['height'])||this['device']['height'];return!_0x4d4310||_0xf4a156!==_0x4d4310['width']||_0x3d68fe!==_0x4d4310['height'];}['allocateRe'+'nderTarget'](_0x145ef3,_0x4d75a3,_0x2c7070,_0x5c10){const _0x465a37=new ce(_0x2c7070,{'name':Zm,'format':_0x5c10,'width':_0x4d75a3?_0x4d75a3['colorBuffe'+'r']['width']:_0x2c7070['width'],'height':_0x4d75a3?_0x4d75a3['colorBuffe'+'r']['height']:_0x2c7070['height'],'mipmaps':!(-0x392+0xf03+-0xb71),'minFilter':an,'magFilter':at,'addressU':oe,'addressV':oe});return _0x145ef3?(_0x145ef3['destroyFra'+'meBuffers'](),_0x145ef3['_colorBuff'+'er']=_0x465a37,_0x145ef3['_colorBuff'+'ers']=[_0x465a37]):_0x145ef3=new St({'name':'ColorGrabR'+'T','colorBuffer':_0x465a37,'depth':!(0x26c0+0x162f+-0x3cee),'stencil':!(0x43b+-0x143f+-0x1005*-0x1),'autoResolve':!(-0x1*0x211f+-0x3*-0xb2b+0x1*-0x61)}),_0x145ef3;}['releaseRen'+'derTarget'](_0x141c7c){_0x141c7c&&(_0x141c7c['destroyTex'+'tureBuffer'+'s'](),_0x141c7c['destroy']());}['frameUpdat'+'e'](){const _0x4d1d9c=this['device'],_0x174d52=this['source'],_0x1ed137=(_0x174d52==null?void(-0x21+0x9*-0x1c5+0x100e):_0x174d52['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x174d52==null?void(-0x6*-0x3ce+0x685*0x5+-0x376d*0x1):_0x174d52['colorBuffe'+'r'],_0x1ed137)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x174d52,_0x4d1d9c,_0x1ed137));const _0x4d890b=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x4d1d9c['scope']['resolve'](Zm)['setValue'](_0x4d890b);}['execute'](){const _0x23cc7d=this['device'];G['pushGpuMar'+'ker'](_0x23cc7d,'GRAB-COLOR');const _0xabfbfa=this['source'],_0x38c88e=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x23cc7d['isWebGPU']?(_0x23cc7d['copyRender'+'Target'](_0xabfbfa,this['colorRende'+'rTarget'],!(-0x2464+-0x2d*0x61+-0x1*-0x3571),!(0x175*-0x13+0x2622+0xbf*-0xe)),_0x23cc7d['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x23cc7d['copyRender'+'Target'](_0xabfbfa,this['colorRende'+'rTarget'],!(-0x2046+-0x4f*-0xd+-0x1c43*-0x1),!(-0x1dc5+0x1d*-0x95+0x2ea7)),_0x23cc7d['activeText'+'ure'](_0x23cc7d['maxCombine'+'dTextures']-(-0x40a*-0x2+0xc36*0x2+-0x207f)),_0x23cc7d['bindTextur'+'e'](_0x38c88e),_0x23cc7d['gl']['generateMi'+'pmap'](_0x38c88e['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x23cc7d);}}const Qm='uSceneDept'+'hMap';class pC extends gs{constructor(_0x12effd,_0x1535c8){super(_0x12effd),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x1535c8;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x203b52,_0x2fbd3c){const _0x456c06=(_0x2fbd3c==null?void(0x8d6+0x539*-0x3+0xb*0x9f):_0x2fbd3c['width'])||this['device']['width'],_0x54adbb=(_0x2fbd3c==null?void(0x1745+0xc19*0x1+-0x5e5*0x6):_0x2fbd3c['height'])||this['device']['height'];return!_0x203b52||_0x456c06!==_0x203b52['width']||_0x54adbb!==_0x203b52['height'];}['allocateRe'+'nderTarget'](_0x247695,_0x511c87,_0x275b95,_0x4e8e4c,_0xd331d9){const _0x5b853d=new ce(_0x275b95,{'name':Qm,'format':_0x4e8e4c,'width':_0x511c87?_0x511c87['colorBuffe'+'r']['width']:_0x275b95['width'],'height':_0x511c87?_0x511c87['colorBuffe'+'r']['height']:_0x275b95['height'],'mipmaps':!(-0x4*-0x7c3+0x484*0x6+-0x3a23),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe});return _0x247695?(_0x247695['destroyFra'+'meBuffers'](),_0xd331d9?_0x247695['_depthBuff'+'er']=_0x5b853d:(_0x247695['_colorBuff'+'er']=_0x5b853d,_0x247695['_colorBuff'+'ers']=[_0x5b853d])):_0x247695=new St({'name':'DepthGrabR'+'T','colorBuffer':_0xd331d9?null:_0x5b853d,'depthBuffer':_0xd331d9?_0x5b853d:null,'depth':!_0xd331d9,'stencil':_0x275b95['supportsSt'+'encil'],'autoResolve':!(0x712+0x1d83+0x2*-0x124a)}),_0x247695;}['releaseRen'+'derTarget'](_0x4a7b3c){_0x4a7b3c&&(_0x4a7b3c['destroyTex'+'tureBuffer'+'s'](),_0x4a7b3c['destroy']());}['before'](){var _0x58a2e9,_0x41665d;const _0x48115a=this['camera'],_0x2df565=this['device'],_0x1316e9=(_0x48115a==null?void(0x3*0x533+0x25e7+-0x3580):_0x48115a['renderTarg'+'et'])??_0x2df565['backBuffer'];let _0x48b027=!(0x1e11+0xf*0x169+0x1*-0x3338),_0x25cca2=_0x1316e9['stencil']?Ec:Di;_0x2df565['isWebGPU']&&_0x1316e9['samples']>-0x1*-0x20f+0x2*0xdf6+0x1dfa*-0x1&&(_0x25cca2=Oi,_0x48b027=!(0x1c4b+0x1*0x2581+0x1*-0x41cb));const _0x5d170a=((_0x58a2e9=_0x48115a['renderTarg'+'et'])==null?void(0xa3e+-0x8+0xa36*-0x1):_0x58a2e9['depthBuffe'+'r'])??((_0x41665d=_0x48115a['renderTarg'+'et'])==null?void(0x1b0c+-0x1*-0x15bb+0x30c7*-0x1):_0x41665d['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x5d170a)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x48115a['renderTarg'+'et'],_0x2df565,_0x25cca2,_0x48b027));const _0x2e639c=_0x48b027?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x2df565['scope']['resolve'](Qm)['setValue'](_0x2e639c);}['execute'](){const _0x46ccf4=this['device'];if(G['pushGpuMar'+'ker'](_0x46ccf4,'GRAB-DEPTH'),_0x46ccf4['isWebGL2']&&_0x46ccf4['renderTarg'+'et']['samples']>-0x97e+0x1*-0xc5b+0x15da){const _0x194573=_0x46ccf4['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x3a0bd0=this['depthRende'+'rTarget'];_0x46ccf4['renderTarg'+'et']=_0x3a0bd0,_0x46ccf4['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x46ccf4,_0x194573,_0x3a0bd0['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x46ccf4['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x46ccf4['copyRender'+'Target'](_0x46ccf4['renderTarg'+'et'],this['depthRende'+'rTarget'],!(-0x2f6*0x1+0x237a+-0x4a5*0x7),!(-0x16ed*-0x1+-0x25cd+-0x3b8*-0x4));G['popGpuMark'+'er'](_0x46ccf4);}}class E0{constructor(){c(this,'_gammaCorr'+'ection',ph),c(this,'_toneMappi'+'ng',Pp),c(this,'_srgbRende'+'rTarget',!(-0x2*-0xea4+0x17ec+-0x3533)),c(this,'_ssaoEnabl'+'ed',!(-0x1*-0x1396+-0x2178+0xde3)),c(this,'_fog',Ba),c(this,'_sceneDept'+'hMapLinear',!(-0x218c+-0xfd0+0x315d)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(-0x1cd*0x15+0x2*-0x52f+0x1*0x302f));}get['hash'](){if(this['_hash']===void(0x1eab+0x685*0x1+0x46*-0x88)){const _0x5da08c=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=cn(_0x5da08c);}return this['_hash'];}get['defines'](){const _0x5bae9b=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x1*0x3d+0x1*-0xa39+0x1*0x9fd),_0x5bae9b['clear'](),this['_sceneDept'+'hMapLinear']&&_0x5bae9b['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x876+-0x204f*-0x1+-0x37*0x6f)),_0x5bae9b['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x5bae9b['set']('TONEMAP',m0[this['_toneMappi'+'ng']]),_0x5bae9b['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x5bae9b;}['markDirty'](){this['_hash']=void(-0x159*-0x7+0xa7b+-0x2*0x9f5),this['_definesDi'+'rty']=!(-0x1*-0x25b1+0x7*0x42d+-0x2176*0x2);}set['fog'](_0x5960d4){this['_fog']!==_0x5960d4&&(this['_fog']=_0x5960d4,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x27450d){this['_ssaoEnabl'+'ed']!==_0x27450d&&(this['_ssaoEnabl'+'ed']=_0x27450d,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x587f9d){this['_gammaCorr'+'ectionAssi'+'gned']=!(0x190+0x10*0x239+-0x2520),this['_gammaCorr'+'ection']!==_0x587f9d&&(this['_gammaCorr'+'ection']=_0x587f9d,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x47f597){this['_toneMappi'+'ng']!==_0x47f597&&(this['_toneMappi'+'ng']=_0x47f597,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x25199e){this['_srgbRende'+'rTarget']!==_0x25199e&&(this['_srgbRende'+'rTarget']=_0x25199e,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x20d4dd){this['_sceneDept'+'hMapLinear']!==_0x20d4dd&&(this['_sceneDept'+'hMapLinear']=_0x20d4dd,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===ph&&!this['_srgbRende'+'rTarget']?ph:al;}}const Mn=new A(),ja=new A(),Jm=new A(),e_=new q(),mC=[new A(),new A(),new A(),new A(),new A(),new A(),new A(),new A()];class dl{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new E0()),c(this,'renderPass'+'es',[]),c(this,'jitter',0x1*0x10b2+0x823+-0x18d5),(this['_aspectRat'+'io']=(-0x2b3*0x2+-0x22*-0x6+0x4aa)/(-0x15d*-0x17+-0x1*-0xb70+0x34a*-0xd),this['_aspectRat'+'ioMode']=kp,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(0x18*-0xff+-0x8*0x1dd+0x12*0x228+0.75,-0xd78+0x1*0x254+0xb24*0x1+0.75,-0x29*-0x5d+0x97*-0xa+-0x8ff+0.75,0x3b7*-0x1+0x1*-0x1fa1+0x2359),this['_clearColo'+'rBuffer']=!(0x19f2+-0x58*0x22+-0x32*0x49),this['_clearDept'+'h']=-0x819*0x4+0x6*0x357+-0xc5b*-0x1,this['_clearDept'+'hBuffer']=!(-0xa*-0x2f+0x3ec+0x5c2*-0x1),this['_clearSten'+'cil']=0xaa4*-0x1+0xf8+0x4d6*0x2,this['_clearSten'+'cilBuffer']=!(0x1b85+-0xd3b+-0xe4a),this['_cullFaces']=!(-0x163*0x3+0xf70+-0xb47),this['_farClip']=0x1*0x2665+0x1fd8+-0x4255*0x1,this['_flipFaces']=!(0x26cd+-0xce8+-0x19e4),this['_fov']=-0xc87+0x1b90+-0xedc,this['_frustumCu'+'lling']=!(-0x28d+0x61*-0x9+0x5f6*0x1),this['_horizonta'+'lFov']=!(0x135d*-0x2+-0x3*-0xbdd+0x192*0x2),this['_layers']=[zi,es,Ap,nl,Ep],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=-0x1*-0xcee+0x1a6*-0x11+0x4*0x3c6+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x6d+0x1583+-0x150c,this['_projectio'+'n']=Xs,this['_rect']=new ee(-0x1*0x4f+-0x1731+0x1780,0x25ae+0x856+-0x2e04,-0x1*0x1bd7+-0x10af+0x2c87*0x1,0xf4e+0x23ba+-0x3307*0x1),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new ee(0x2047*0x1+0x10*-0xfc+0x1*-0x1087,-0x583+-0x237*0x4+0xe5f,-0x2*0x9d0+-0x14b5*0x1+0x1*0x2856,-0x3*0x20a+-0x2ab+0x32*0x2d),this['_scissorRe'+'ctClear']=!(-0x20d0+0x258d+0x6*-0xca),this['_aperture']=-0x1077+-0x18a6+0x292d,this['_shutter']=(0x2*0x58+-0xfc5+-0x1*-0xf16)/(-0x21b7+-0xc97+0x3236),this['_sensitivi'+'ty']=-0x3*0x347+0x23*0xfb+0x525*-0x4,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(-0x24b6+-0xcc+0x2582),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(0x1*-0x2179+-0x13c2+-0x353b*-0x1),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(0x1*-0x24a6+0x3*0x696+-0x5c*-0x2f),this['_shaderMat'+'ricesVersi'+'on']=0x9a5*-0x4+0x1be*-0x9+0x3642,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[0x295*-0xf+0x165+0x2556,-0x278+-0x1040+0x12b8*0x1,-0xe6+-0x1*-0x1ef+-0x109,0x54c+0x1dec+0x284*-0xe],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x104f0c,_0x2ebc20;(_0x104f0c=this['renderPass'+'ColorGrab'])==null||_0x104f0c['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x2ebc20=this['renderPass'+'DepthGrab'])==null||_0x2ebc20['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0x1*-0x586+0xc25*0x1+-0x11ab;}['_storeShad'+'erMatrices'](_0x1f09f7,_0x3ee669,_0xc901b5,_0x33e3da){this['_shaderMat'+'ricesVersi'+'on']!==_0x33e3da&&(this['_shaderMat'+'ricesVersi'+'on']=_0x33e3da,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x1f09f7),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x1f09f7),this['_viewProjI'+'nverse']['invert'](_0x1f09f7),this['_jitters'][-0x4d*-0x71+-0x19f*-0x6+-0x2bb5]=this['_jitters'][0x673+0x1845+-0x1eb8],this['_jitters'][-0x45f*0x5+-0x27b+0x1859]=this['_jitters'][0x1*0x1c31+0x65a*-0x5+-0x2*-0x1c9],this['_jitters'][-0x21c7*0x1+0x1a17*-0x1+0x3bde]=_0x3ee669,this['_jitters'][-0x13a5+-0x1eeb+-0x1*-0x3291]=_0xc901b5);}get['fullSizeCl'+'earRect'](){const _0x5c1aa6=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x5c1aa6['x']===-0xd81+-0x2526+0x32a7&&_0x5c1aa6['y']===-0x6bf+0x2220+-0x2b*0xa3&&_0x5c1aa6['z']===0xc4b+-0x1b13+0xec9&&_0x5c1aa6['w']===0x3de+0x2606+0x1*-0x29e3;}set['aspectRati'+'o'](_0x3b8863){this['_aspectRat'+'io']!==_0x3b8863&&(this['_aspectRat'+'io']=_0x3b8863,this['_projMatDi'+'rty']=!(-0x2a1*0xd+0x6cd*-0x3+0x1f3*0x1c));}get['aspectRati'+'o'](){var _0x1abcfb;return(_0x1abcfb=this['xr'])!=null&&_0x1abcfb['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x21da46){this['_aspectRat'+'ioMode']!==_0x21da46&&(this['_aspectRat'+'ioMode']=_0x21da46,this['_projMatDi'+'rty']=!(-0x2f*-0x65+-0x1d77+0x576*0x2));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x448db3){this['_calculate'+'Projection']=_0x448db3,this['_projMatDi'+'rty']=!(0x1087+0x1902+-0x2989);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x50c11){this['_calculate'+'Transform']=_0x50c11;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x265f5f){this['_clearColo'+'r']['copy'](_0x265f5f);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x4556e4){this['_clearColo'+'rBuffer']=_0x4556e4;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x28954c){this['_clearDept'+'h']=_0x28954c;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x384922){this['_clearDept'+'hBuffer']=_0x384922;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x2f1645){this['_clearSten'+'cil']=_0x2f1645;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x17774c){this['_clearSten'+'cilBuffer']=_0x17774c;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x16e05d){this['_cullFaces']=_0x16e05d;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x55b5b4){this['_farClip']!==_0x55b5b4&&(this['_farClip']=_0x55b5b4,this['_projMatDi'+'rty']=!(0x434*-0x5+0x1baf+-0x6ab));}get['farClip'](){var _0x518706;return(_0x518706=this['xr'])!=null&&_0x518706['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x52b7c6){this['_flipFaces']=_0x52b7c6;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x15dfd8){this['_fov']!==_0x15dfd8&&(this['_fov']=_0x15dfd8,this['_projMatDi'+'rty']=!(0x1685+-0x157b+-0x13*0xe));}get['fov'](){var _0x42d3ea;return(_0x42d3ea=this['xr'])!=null&&_0x42d3ea['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x266e27){this['_frustumCu'+'lling']=_0x266e27;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x42e109){this['_horizonta'+'lFov']!==_0x42e109&&(this['_horizonta'+'lFov']=_0x42e109,this['_projMatDi'+'rty']=!(0x167d+0x9be+0xdf*-0x25));}get['horizontal'+'Fov'](){var _0x17710a;return(_0x17710a=this['xr'])!=null&&_0x17710a['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x375cc6){this['_layers']=_0x375cc6['slice'](0x20ec+0x9a9+-0x2a95),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x261d01){this['_nearClip']!==_0x261d01&&(this['_nearClip']=_0x261d01,this['_projMatDi'+'rty']=!(0x1090+-0xe8e+-0x202));}get['nearClip'](){var _0x5d4559;return(_0x5d4559=this['xr'])!=null&&_0x5d4559['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x5b31f9){this['_node']=_0x5b31f9;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x110589){this['_orthoHeig'+'ht']!==_0x110589&&(this['_orthoHeig'+'ht']=_0x110589,this['_projMatDi'+'rty']=!(-0x3b4+0x1*-0x2459+-0x1*-0x280d));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x1d16af){this['_projectio'+'n']!==_0x1d16af&&(this['_projectio'+'n']=_0x1d16af,this['_projMatDi'+'rty']=!(0x10af*-0x2+-0x3*-0xc31+-0x335*0x1));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x31df0d){this['_rect']['copy'](_0x31df0d);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x3e1144){this['_renderTar'+'get']=_0x3e1144;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x55a7a7){this['_scissorRe'+'ct']['copy'](_0x55a7a7);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x20ee49=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x20ee49)['invert'](),this['_viewMatDi'+'rty']=!(-0x51*0x66+0x59*0x47+0x6c*0x12);}return this['_viewMat'];}set['aperture'](_0x5b5037){this['_aperture']=_0x5b5037;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x84005b){this['_sensitivi'+'ty']=_0x84005b;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x968321){this['_shutter']=_0x968321;}get['shutter'](){return this['_shutter'];}set['xr'](_0x4ff3c4){this['_xr']!==_0x4ff3c4&&(this['_xr']=_0x4ff3c4,this['_projMatDi'+'rty']=!(0x4ae*0x1+0x131c+-0x3*0x7ee));}get['xr'](){return this['_xr'];}['clone'](){return new dl()['copy'](this);}['copy'](_0x134810){return this['_aspectRat'+'io']=_0x134810['_aspectRat'+'io'],this['_farClip']=_0x134810['_farClip'],this['_fov']=_0x134810['_fov'],this['_horizonta'+'lFov']=_0x134810['_horizonta'+'lFov'],this['_nearClip']=_0x134810['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x134810['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x134810['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x134810['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x134810['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x134810['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x134810['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x134810['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x134810['calculateT'+'ransform'],this['clearColor']=_0x134810['clearColor'],this['clearColor'+'Buffer']=_0x134810['clearColor'+'Buffer'],this['clearDepth']=_0x134810['clearDepth'],this['clearDepth'+'Buffer']=_0x134810['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x134810['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x134810['clearStenc'+'ilBuffer'],this['cullFaces']=_0x134810['cullFaces'],this['flipFaces']=_0x134810['flipFaces'],this['frustumCul'+'ling']=_0x134810['frustumCul'+'ling'],this['layers']=_0x134810['layers'],this['orthoHeigh'+'t']=_0x134810['orthoHeigh'+'t'],this['projection']=_0x134810['projection'],this['rect']=_0x134810['rect'],this['renderTarg'+'et']=_0x134810['renderTarg'+'et'],this['scissorRec'+'t']=_0x134810['scissorRec'+'t'],this['aperture']=_0x134810['aperture'],this['shutter']=_0x134810['shutter'],this['sensitivit'+'y']=_0x134810['sensitivit'+'y'],this['shaderPass'+'Info']=_0x134810['shaderPass'+'Info'],this['jitter']=_0x134810['jitter'],this['_projMatDi'+'rty']=!(-0x1b61+0x875*0x4+-0x1*0x673),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x232dfb,_0x668a61){var _0xc9d19c;_0x668a61?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new fC(_0x232dfb)):((_0xc9d19c=this['renderPass'+'ColorGrab'])==null||_0xc9d19c['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x449703,_0x22b78f,_0x16314e){var _0x27c0fa;_0x16314e?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new pC(_0x449703,this)):((_0x27c0fa=this['renderPass'+'DepthGrab'])==null||_0x27c0fa['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x1*0x5fb+0x4*-0x6f+-0x1*-0x7b8));}['worldToScr'+'een'](_0x3f46e5,_0xee8791,_0x41de08,_0x2e048d=new A()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x3f46e5,_0x2e048d);const _0x3f1d17=this['_viewProjM'+'at']['data'],_0x190dfe=_0x3f46e5['x']*_0x3f1d17[0x156+0x1*0x83f+-0x992]+_0x3f46e5['y']*_0x3f1d17[-0x20*0x6a+-0x1*0x23ba+0x5*0x9cd]+_0x3f46e5['z']*_0x3f1d17[-0x125c+-0x3f7+0x165e]+(-0x2b4+0x2*-0xb+0xb*0x41)*_0x3f1d17[0x1876+-0x159a+-0x2cd];return _0x2e048d['x']=(_0x2e048d['x']/_0x190dfe+(0xbec*-0x1+0x5ac+0x641))*(-0xa2d*-0x3+0x184e+-0x36d5+0.5)*_0xee8791,_0x2e048d['y']=(-0xa57+0x9*-0x1d3+0x20f*0xd-_0x2e048d['y']/_0x190dfe)*(-0x4*-0x427+-0x3*-0xba6+-0x2*0x19c7+0.5)*_0x41de08,_0x2e048d;}['screenToWo'+'rld'](_0x3d05e0,_0x233a98,_0x52465a,_0xd56a3a,_0x37bf4e,_0x3657a5=new A()){const _0x49b21a=this['farClip']-this['nearClip'];if(Mn['set'](_0x3d05e0/_0xd56a3a,(_0x37bf4e-_0x233a98)/_0x37bf4e,_0x52465a/_0x49b21a),Mn['mulScalar'](0x2662+-0xd5*0x29+-0x443),Mn['sub'](A['ONE']),this['_projectio'+'n']===Xs){q['_getPerspe'+'ctiveHalfS'+'ize'](ja,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ja['x']*=Mn['x'],ja['y']*=Mn['y'];const _0x1d04f0=this['_node']['getWorldTr'+'ansform']();ja['z']=-this['nearClip'],_0x1d04f0['transformP'+'oint'](ja,Jm);const _0x6e2a67=this['_node']['getPositio'+'n']();_0x3657a5['sub2'](Jm,_0x6e2a67),_0x3657a5['normalize'](),_0x3657a5['mulScalar'](_0x52465a),_0x3657a5['add'](_0x6e2a67);}else this['_updateVie'+'wProjMat'](),e_['copy'](this['_viewProjM'+'at'])['invert'](),e_['transformP'+'oint'](Mn,_0x3657a5);return _0x3657a5;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Xs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x50f182=this['_orthoHeig'+'ht'],_0x21c235=_0x50f182*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x21c235,_0x21c235,-_0x50f182,_0x50f182,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(0x1ed0+-0x61*-0x1+-0xf98*0x2);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x1ea268=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(0x103*0x7+0x128d*0x2+0x3*-0xe99)/this['_sensitivi'+'ty']);return(-0x24d+-0x4*-0x716+-0x12f*0x16)/(Math['pow'](0xef5*-0x2+-0x35*-0x5a+0xb4a,_0x1ea268)*(-0x12b4+-0x1316+0x78f*0x5+0.19999999999999996));}['getScreenS'+'ize'](_0x3560f4){if(this['_projectio'+'n']===Xs){const _0x146b12=this['_node']['getPositio'+'n']()['distance'](_0x3560f4['center']);if(_0x146b12<_0x3560f4['radius'])return-0x13*-0xd8+-0x1ba2+0xb9b;const _0x4caaa4=Math['asin'](_0x3560f4['radius']/_0x146b12),_0x330f4f=Math['tan'](_0x4caaa4),_0x159535=Math['tan'](this['fov']/(0x2345+0x21db+0x3d7*-0x12)*z['DEG_TO_RAD']);return Math['min'](_0x330f4f/_0x159535,0x630+-0x1bfc+0x15cd);}return z['clamp'](_0x3560f4['radius']/this['_orthoHeig'+'ht'],0x146a+-0x21c6+0x357*0x4,-0x1*-0x2f7+-0x6e*0x26+0x1*0xd5e);}['getFrustum'+'Corners'](_0x590880=this['nearClip'],_0x5bc205=this['farClip']){const _0x14440b=this['fov']*Math['PI']/(0x47*-0x6d+0x1*-0x16f9+0x5*0xac8);let _0x51529a,_0x271e5a;this['projection']===Xs?this['horizontal'+'Fov']?(_0x51529a=_0x590880*Math['tan'](_0x14440b/(0x25c9+0x66*-0x45+-0xa49)),_0x271e5a=_0x51529a/this['aspectRati'+'o']):(_0x271e5a=_0x590880*Math['tan'](_0x14440b/(-0x1*-0xb59+0x202d*0x1+0x2b84*-0x1)),_0x51529a=_0x271e5a*this['aspectRati'+'o']):(_0x271e5a=this['_orthoHeig'+'ht'],_0x51529a=_0x271e5a*this['aspectRati'+'o']);const _0x57ed7d=mC;return _0x57ed7d[-0x1*0x21a4+-0x2d4*0xa+0x3dec]['x']=_0x51529a,_0x57ed7d[0x2111+0x8*0x1ef+-0x3089]['y']=-_0x271e5a,_0x57ed7d[-0x7*-0x163+-0x128*-0x1+0x1*-0xadd]['z']=-_0x590880,_0x57ed7d[-0x33*-0xac+0x1d25+-0xfda*0x4]['x']=_0x51529a,_0x57ed7d[-0x3a7*-0x8+-0xe04*-0x2+-0x1315*0x3]['y']=_0x271e5a,_0x57ed7d[0x59+-0x257*0x5+0xb5b]['z']=-_0x590880,_0x57ed7d[0x1c08+0x1523+-0xf*0x347]['x']=-_0x51529a,_0x57ed7d[0x17*0x112+0xe48+-0x26e4]['y']=_0x271e5a,_0x57ed7d[-0xd9*0x7+-0x1ac5+0x20b6]['z']=-_0x590880,_0x57ed7d[-0x53*-0x65+0x264b+-0x4707]['x']=-_0x51529a,_0x57ed7d[-0x1*-0xb27+0x1fe7*-0x1+0x14c3*0x1]['y']=-_0x271e5a,_0x57ed7d[0xd*-0x242+0x10f1+0xc6c]['z']=-_0x590880,this['_projectio'+'n']===Xs&&(this['horizontal'+'Fov']?(_0x51529a=_0x5bc205*Math['tan'](_0x14440b/(0x128f+0x1296+-0x2523)),_0x271e5a=_0x51529a/this['aspectRati'+'o']):(_0x271e5a=_0x5bc205*Math['tan'](_0x14440b/(-0x8*-0xb8+0x2ae*-0x8+0xfb2*0x1)),_0x51529a=_0x271e5a*this['aspectRati'+'o'])),_0x57ed7d[-0x1719+-0xa08+0x2125]['x']=_0x51529a,_0x57ed7d[0x12*-0xd2+0x2*0x435+0xa*0xa3]['y']=-_0x271e5a,_0x57ed7d[-0x250a+-0x268a+-0x148*-0x3b]['z']=-_0x5bc205,_0x57ed7d[0x7e1*0x3+0x7*0x2cf+0x4cf*-0x9]['x']=_0x51529a,_0x57ed7d[0x2*0xd0e+-0x900+0x1*-0x1117]['y']=_0x271e5a,_0x57ed7d[0x2589+-0x16f9+-0xe8b]['z']=-_0x5bc205,_0x57ed7d[-0x1*-0x1d21+0x29*0x8d+-0x1*0x33b0]['x']=-_0x51529a,_0x57ed7d[-0x101+-0x78a+0x3*0x2db]['y']=_0x271e5a,_0x57ed7d[-0x1b9e+0x1305*-0x2+0x41ae]['z']=-_0x5bc205,_0x57ed7d[-0x236f+-0x20cf+0x1*0x4445]['x']=-_0x51529a,_0x57ed7d[0x995+-0xd05+0x377*0x1]['y']=-_0x271e5a,_0x57ed7d[-0x2*-0xe33+-0x674+-0xb5*0x1f]['z']=-_0x5bc205,_0x57ed7d;}['setXrPrope'+'rties'](_0x1a8654){Object['assign'](this['_xrPropert'+'ies'],_0x1a8654),this['_projMatDi'+'rty']=!(-0x12c7+-0x247a+-0xf*-0x3af);}}const t_=new q(),s_=new q(),i_=new q(),er=class er{static['create'](_0x4d07da,_0xc6bdc4,_0x1fe8cb){const _0x4e1251=new dl();switch(_0x4e1251['node']=new Oe(_0x4d07da),_0x4e1251['aspectRati'+'o']=-0x3*-0x46c+0x15*0x95+-0xcbe*0x2,_0x4e1251['aspectRati'+'oMode']=Vu,_0x4e1251['_scissorRe'+'ctClear']=!(-0x47*-0x1d+-0x1fa1+0x1796),_0xc6bdc4){case Le:_0x4e1251['node']['setRotatio'+'n'](er['pointLight'+'Rotations'][_0x1fe8cb]),_0x4e1251['fov']=0x1c17+0x1d9b+-0x5bc*0xa,_0x4e1251['projection']=Xs;break;case Fe:_0x4e1251['projection']=Xs;break;case le:_0x4e1251['projection']=pa;break;}return _0x4e1251;}static['evalSpotCo'+'okieMatrix'](_0x256638){let _0x5d7bc7=er['_spotCooki'+'eCamera'];_0x5d7bc7||(_0x5d7bc7=er['create']('SpotCookie'+'Camera',Fe),er['_spotCooki'+'eCamera']=_0x5d7bc7),_0x5d7bc7['fov']=_0x256638['_outerCone'+'Angle']*(0x2033*-0x1+0x12*0x14e+-0x13f*-0x7);const _0x7f06b7=_0x5d7bc7['_node'];_0x7f06b7['setPositio'+'n'](_0x256638['_node']['getPositio'+'n']()),_0x7f06b7['setRotatio'+'n'](_0x256638['_node']['getRotatio'+'n']()),_0x7f06b7['rotateLoca'+'l'](-(0x3*0x2dd+-0xb0b*-0x1+-0x2*0x9a4),-0xc*-0x246+0x1421+0x2f69*-0x1,0x60d*-0x2+0x4*0x2e3+0x8e*0x1),t_['setTRS'](_0x7f06b7['getPositio'+'n'](),_0x7f06b7['getRotatio'+'n'](),A['ONE'])['invert'](),s_['mul2'](_0x5d7bc7['projection'+'Matrix'],t_);const _0x1cd565=_0x256638['cookieMatr'+'ix'],_0x5f05ec=_0x256638['atlasViewp'+'ort'];return i_['setViewpor'+'t'](_0x5f05ec['x'],_0x5f05ec['y'],_0x5f05ec['z'],_0x5f05ec['w']),_0x1cd565['mul2'](i_,s_),_0x1cd565;}};c(er,'pointLight'+'Rotations',[new ie()['setFromEul'+'erAngles'](0x34*-0x46+0x5ba*-0x1+0x9f9*0x2,0x148a+-0xefd+0x533*-0x1,0x1c15+0x32f*0x1+-0x1e90),new ie()['setFromEul'+'erAngles'](-0x4*0x3e6+0x2168+-0xf*0x130,-(-0x24cc+-0x1f0d*-0x1+-0x7*-0xdf),-0xcfd+0x5*-0x2b+-0x9b*-0x18),new ie()['setFromEul'+'erAngles'](-0x19db*0x1+0x1cd1+0xa7*-0x4,-0x15da+-0xaff*0x2+0x2bd8,0x1adb+0xc58+-0x2733),new ie()['setFromEul'+'erAngles'](-(-0x1*0x7d5+0x1f04+-0x16d5),-0x3*-0xaf7+-0x3c+-0x3*0xae3,0x74a+-0x1497+0xd4d),new ie()['setFromEul'+'erAngles'](-0xa2e*0x1+-0x1*0xc82+0x16b0,-0x1090+-0x25fa*-0x1+-0xb*0x1e2,-0x328*-0x1+-0x547+0x3*0xf1),new ie()['setFromEul'+'erAngles'](-0x1ecf+0x263+0x1c6c*0x1,-0x9*0x3e7+-0x239a+-0x46b9*-0x1,0x5*0x23d+-0x10d5+-0xe8*-0x7)]),c(er,'_spotCooki'+'eCamera',null);let Ia=er;const r_=0x4e5*-0x3+-0x102+-0xfb1*-0x1+0.000001,is=new A(),Sr=new Float32Array(-0x4eb*-0x4+-0xa49*0x2+-0x76*-0x2),_C=new A(-(-0xaa1*0x1+-0x39d+0xe3e+0.5),0x1a91+0x1d56+-0x37e7,-0xd5*-0x21+-0x25d6+0xa61*0x1),gC=new A(-0x2609+0xc3d*0x1+0xce6*0x2,0x15d*-0x3+0x1312+-0xefb,-0x2072+-0x5b*-0x1+0x2017+0.5),vr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},pt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let Ad;class C0{constructor(_0x4de8e8){c(this,'areaLights'+'Enabled',!(0x89*-0x39+0x1907+0x57b)),(this['device']=_0x4de8e8,this['cookiesEna'+'bled']=!(-0x512+-0x2*-0x323+-0x133*0x1),this['shadowsEna'+'bled']=!(0x1*0x1051+-0x8b9+-0x1d*0x43),this['areaLights'+'Enabled']=!(0x17*-0x3e+0x2408+-0xa27*0x3),this['maxLights']=-0xa*-0x87+0x4*0x139+-0x92b);const _0x129a9f=vr['COUNT'];this['lights8']=new Uint8ClampedArray((0x399*0x1+-0x36d*0x7+0x1466)*_0x129a9f*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x129a9f,this['maxLights'],Te,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x11375d=pt['COUNT'];this['lightsFloa'+'t']=new Float32Array((0x240+-0x3*-0x4b0+-0x1*0x104c)*_0x11375d*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x11375d,this['maxLights'],et,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=0x1c1+-0x4*0x33b+0xb2b,this['invMaxAtte'+'nuation']=-0x25*-0xed+0x50c+-0x274d,this['boundsMin']=new A(),this['boundsDelt'+'a']=new A();}static['getShaderD'+'efines'](){const _0x4a7659=(_0x3fa3be,_0x2b1adf)=>Object['keys'](_0x3fa3be)['map'](_0x1f5731=>'#define\x20'+_0x2b1adf+_0x1f5731+'\x20'+_0x3fa3be[_0x1f5731])['join']('\x0a');return Ad||(Ad='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a7659(vr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x4a7659(pt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),Ad;}['destroy'](){var _0x66b4aa,_0x16cba6;(_0x66b4aa=this['lightsText'+'ure8'])==null||_0x66b4aa['destroy'](),this['lightsText'+'ure8']=null,(_0x16cba6=this['lightsText'+'ureFloat'])==null||_0x16cba6['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x431020,_0x26cd97,_0x261302,_0x287835,_0x3b4db8){return new ce(_0x431020,{'name':_0x3b4db8,'width':_0x26cd97,'height':_0x261302,'mipmaps':!(0x3*0x5e9+0x125d+0x2417*-0x1),'format':_0x287835,'addressU':oe,'addressV':oe,'type':Bi,'magFilter':fe,'minFilter':fe,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x488fb7,_0x52dd02){this['invMaxColo'+'rValue']=(0x1bdd+-0x8ee+-0x12ee*0x1)/_0x52dd02,this['invMaxAtte'+'nuation']=(0x28e*0x7+0x50b*-0x1+-0xcd6)/_0x488fb7;}['setBounds'](_0x56a13c,_0x5dd682){this['boundsMin']['copy'](_0x56a13c),this['boundsDelt'+'a']['copy'](_0x5dd682);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x152e35,_0xd29f89){_0xd29f89['_node']['getWorldTr'+'ansform']()['getY'](_0x152e35)['mulScalar'](-(-0x991+-0x3e7*0x6+-0x1*-0x20fc)),_0x152e35['normalize']();}['getLightAr'+'eaSizes'](_0x2ff3ba){const _0x899017=_0x2ff3ba['_node']['getWorldTr'+'ansform']();return _0x899017['transformV'+'ector'](_C,is),Sr[0xe*0x198+0x1eed*-0x1+0x3*0x2df]=is['x'],Sr[-0x14f*-0xa+-0x23ae+-0x1bd*-0xd]=is['y'],Sr[0x2*0x6ce+0x1aa+0x3d1*-0x4]=is['z'],_0x899017['transformV'+'ector'](gC,is),Sr[0x151b*0x1+0x279+-0x3*0x7db]=is['x'],Sr[0xf48+0x1fc9*0x1+-0x2f0d]=is['y'],Sr[0x1d+-0x1b0a+0x1af2]=is['z'],Sr;}['addLightDa'+'taFlags'](_0x110429,_0x479551,_0x363f11,_0xfdd354,_0x46ef1e,_0x41dd24){_0x110429[_0x479551+(-0x2347+-0x338*-0x5+0x132f)]=_0xfdd354?-0x2e6+-0x15d*-0xd+-0xdd4:0x7*0x48b+0xa7*-0x35+0x163*0x2,_0x110429[_0x479551+(-0x16d7+-0x1b97+0x326f)]=this['areaLights'+'Enabled']?_0x363f11['_shape']*(0x4be*0x8+0x42e+-0x29de):0x734*-0x4+0x1*-0x1281+0x2f51*0x1,_0x110429[_0x479551+(0x881+-0x1*0x4b8+0x1*-0x3c7)]=_0x363f11['_falloffMo'+'de']*(-0x1463+-0x10a*-0xe+0x6d6),_0x110429[_0x479551+(-0x3*0x25d+0x1b*-0x11b+0x24f3*0x1)]=_0x46ef1e?_0x41dd24*(-0x11c8*0x1+0x1*-0x1d1a+0x2fe1):0x1e58+0x22e1+0x1*-0x4139;}['addLightDa'+'taColor'](_0x435c56,_0x23d455,_0x465efb,_0x1d42f6){const _0x60856c=this['invMaxColo'+'rValue'],_0x6272c0=_0x465efb['_colorLine'+'ar'];Bt['float2Byte'+'s'](_0x6272c0[-0xe8f*-0x1+0x1afb+-0x14c5*0x2]*_0x60856c,_0x435c56,_0x23d455+(-0x1dd8+-0x457+-0x1*-0x222f),-0x8e9*-0x2+0x315*-0x3+-0x891),Bt['float2Byte'+'s'](_0x6272c0[-0x118e+0x358+0x4bd*0x3]*_0x60856c,_0x435c56,_0x23d455+(0x7*-0x4a9+0xe76+0x122b),-0x13*-0x196+0xf*0x63+-0x23ed),Bt['float2Byte'+'s'](_0x6272c0[-0x20cc+-0x1c89*0x1+0x3d57]*_0x60856c,_0x435c56,_0x23d455+(0xce5+0x203b*-0x1+0x135a),0x1c7b+0x847*0x1+-0x1*0x24c0),_0x435c56[_0x23d455+(-0x1*-0xa11+-0x24fa+-0xc5*-0x23)]=_0x1d42f6?-0xa6*0x5+-0x1*-0x25bf+-0x2182:0x1*0x1a3e+-0x1cea+0x2ac;const _0x1dbe0e=!!(_0x465efb['mask']&ms),_0x107e25=!!(_0x465efb['mask']&dr);_0x435c56[_0x23d455+(0xec2+0xea2+-0x1d5d)]=_0x1dbe0e&&_0x107e25?-0xeb5+0x22c5+0x1391*-0x1:_0x107e25?-0x2449+0x1ba9*0x1+0x3*0x335:-0x991+0x5*-0x75a+0xc9*0x3b;}['addLightDa'+'taSpotAngl'+'es'](_0x524152,_0x53c8a3,_0x75355){Bt['float2Byte'+'s'](_0x75355['_innerCone'+'AngleCos']*(-0x16*-0xd+-0x5*0x1c2+0x7ac+0.5-r_)+(0x1f*-0x73+-0x35*-0x53+-0x3*0x116+0.5),_0x524152,_0x53c8a3+(-0x11d9+0x1*0x1e33+-0x66*0x1f),-0x112a+-0x204+0x1330),Bt['float2Byte'+'s'](_0x75355['_outerCone'+'AngleCos']*(0x1*0x20a2+0x22e7+0x71*-0x99+0.5-r_)+(0x124*-0x1+-0x2178+-0xa*-0x376+0.5),_0x524152,_0x53c8a3+(0x510+0x1978+-0x1*0x1e86),-0x1064*0x2+0xab2*0x1+-0xb0c*-0x2);}['addLightDa'+'taShadowBi'+'as'](_0x212f42,_0x29946e,_0x12d9f4){const _0x55bdaa=_0x12d9f4['getRenderD'+'ata'](null,0xc49+-0x1f2b+0x12e2),_0x47a7ba=_0x12d9f4['_getUnifor'+'mBiasValue'+'s'](_0x55bdaa);Bt['float2Byte'+'sRange'](_0x47a7ba['bias'],_0x212f42,_0x29946e,-(0x11*0x14b+0x1*0x26ba+0x14*-0x309),-0x23d1+-0x2658*-0x1+-0x13*0x21,-0x7*0xfb+0x20e5*0x1+0x1*-0x1a06),Bt['float2Byte'+'s'](_0x47a7ba['normalBias'],_0x212f42,_0x29946e+(0x17bf*-0x1+0x5b*0x11+0x2*0x8db),0x2655+-0xd40*-0x1+-0x3393);}['addLightDa'+'taCookies'](_0x4e9ece,_0x2bf6ce,_0x322be3){const _0x492904=_0x322be3['_cookieCha'+'nnel']==='rgb';if(_0x4e9ece[_0x2bf6ce+(0x1b41*-0x1+-0x551+0x2092)]=Math['floor'](_0x322be3['cookieInte'+'nsity']*(0x1fc2+-0xeb*-0x29+0xce*-0x55)),_0x4e9ece[_0x2bf6ce+(-0x1292*-0x1+0xb04+0x1*-0x1d95)]=_0x492904?0x13b5+0xfc1*0x2+-0x3238:0x89*-0x21+-0xa9f+0x1c48,!_0x492904){const _0x5e4755=_0x322be3['_cookieCha'+'nnel'];_0x4e9ece[_0x2bf6ce+(-0x44*-0x2c+-0xb45+-0x1*0x67)]=_0x5e4755==='rrr'?-0xf1*-0x4+-0xf5d+0xc98:0x1*0x149d+-0x1*0x252f+0x1092,_0x4e9ece[_0x2bf6ce+(0x1*-0xbbf+-0x18b9+0x247d)]=_0x5e4755==='ggg'?0x16*-0x185+0xc0*-0x16+-0x32ed*-0x1:-0x19b6+-0x2212*-0x1+-0x85c,_0x4e9ece[_0x2bf6ce+(-0x27*0xe+-0x5a2*0x4+0x18b0)]=_0x5e4755==='bbb'?0x1*-0x584+0x2*-0x113b+0x28f9:-0x1b35+-0x12*0x11d+0x2f3f,_0x4e9ece[_0x2bf6ce+(0x5*-0x67e+-0x193*-0x11+0x5ba)]=_0x5e4755==='aaa'?0x15ea+0x20b8+0x255*-0x17:0x19f*0xf+-0x2492+0xc41;}}['addLightDa'+'ta'](_0x558903,_0x1121c5){const _0x1e32bf=_0x558903['_type']===Fe,_0x422fd0=_0x558903['atlasViewp'+'ortAllocat'+'ed'],_0x351495=this['cookiesEna'+'bled']&&!!_0x558903['_cookie']&&_0x422fd0,_0x1564a5=this['areaLights'+'Enabled']&&_0x558903['shape']!==Tt,_0x4c6757=this['shadowsEna'+'bled']&&_0x558903['castShadow'+'s']&&_0x422fd0,_0x4b3024=_0x558903['_node']['getPositio'+'n']();let _0x1caf67=null,_0x3adf0a=null;_0x1e32bf?_0x4c6757?_0x1caf67=_0x558903['getRenderD'+'ata'](null,-0x1*-0x1d9f+-0x23e2+0x643)['shadowMatr'+'ix']:_0x351495&&(_0x1caf67=Ia['evalSpotCo'+'okieMatrix'](_0x558903)):(_0x4c6757||_0x351495)&&(_0x3adf0a=_0x558903['atlasViewp'+'ort']);const _0x28690e=this['lights8'],_0x27df46=_0x1121c5*this['lightsText'+'ure8']['width']*(-0xd21*0x2+0x253c+-0xaf6);this['addLightDa'+'taFlags'](_0x28690e,_0x27df46+(-0x18e7*-0x1+-0x5*-0x1+0x31d*-0x8)*vr['FLAGS'],_0x558903,_0x1e32bf,_0x4c6757,_0x558903['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x28690e,_0x27df46+(-0x255*0x1+0x18ba+-0x1661)*vr['COLOR_A'],_0x558903,_0x351495),_0x1e32bf&&this['addLightDa'+'taSpotAngl'+'es'](_0x28690e,_0x27df46+(-0x2471+0x152c+0xf49)*vr['SPOT_ANGLE'+'S'],_0x558903),_0x558903['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x28690e,_0x27df46+(0x10d3*0x1+-0x1*0xbb7+-0x518)*vr['SHADOW_BIA'+'S'],_0x558903),_0x351495&&this['addLightDa'+'taCookies'](_0x28690e,_0x27df46+(-0x70d+-0x458+0xb69)*vr['COOKIE_A'],_0x558903);const _0xb37df8=this['lightsFloa'+'t'],_0x433ded=_0x1121c5*this['lightsText'+'ureFloat']['width']*(0x1*0x20fc+-0x8a8+-0x1850);if(_0xb37df8[_0x433ded+(-0x1*-0x6ff+-0x1549+-0x727*-0x2)*pt['POSITION_R'+'ANGE']+(-0x7*0x551+-0x13d9+0x3910)]=_0x4b3024['x'],_0xb37df8[_0x433ded+(0x1b6d+-0x2*-0xa6f+-0x3047)*pt['POSITION_R'+'ANGE']+(0xf0b*0x2+0x1e+0x9*-0x35b)]=_0x4b3024['y'],_0xb37df8[_0x433ded+(0x2*-0xbae+-0x1078+-0x3c*-0xaa)*pt['POSITION_R'+'ANGE']+(-0x2*0x12af+-0xf98+0x34f8)]=_0x4b3024['z'],_0xb37df8[_0x433ded+(-0x1*-0x130d+-0x83e*0x4+0xdef)*pt['POSITION_R'+'ANGE']+(-0x1cb9+0x22*-0xe3+0x1*0x3ae2)]=_0x558903['attenuatio'+'nEnd'],_0x1e32bf&&(this['getSpotDir'+'ection'](is,_0x558903),_0xb37df8[_0x433ded+(-0xa*0x1c0+-0x597+-0x5*-0x49f)*pt['SPOT_DIREC'+'TION']+(0x4a*-0x7a+-0x13*-0x12f+0xcc7)]=is['x'],_0xb37df8[_0x433ded+(-0x1f3e+-0x23*-0xbf+0x525)*pt['SPOT_DIREC'+'TION']+(0x648+0xc1b*-0x3+0x1e0a)]=is['y'],_0xb37df8[_0x433ded+(-0x3*0x127+-0x8e9*0x3+0x1e34)*pt['SPOT_DIREC'+'TION']+(-0x17d5+-0x95*-0x29+-0x3*0x2)]=is['z']),_0x1caf67){const _0x13c068=_0x1caf67['data'];for(let _0x10c9cd=-0x2124+0xb34+0x15f0;_0x10c9cd<0x1978+-0x1*-0x256+0x35*-0x86;_0x10c9cd++)_0xb37df8[_0x433ded+(-0xd9*-0x1d+-0x159*-0x3+-0xe4e*0x2)*pt['PROJ_MAT_0']+_0x10c9cd]=_0x13c068[_0x10c9cd];}if(_0x3adf0a&&(_0xb37df8[_0x433ded+(-0x2709+0x2ad+0x2460)*pt['ATLAS_VIEW'+'PORT']+(0x1*-0xec2+-0x1*-0xcf2+0x1d0)]=_0x3adf0a['x'],_0xb37df8[_0x433ded+(0x215d+0x19*-0x17b+0x3aa*0x1)*pt['ATLAS_VIEW'+'PORT']+(0xc8a+0x1*0x2285+-0x1787*0x2)]=_0x3adf0a['y'],_0xb37df8[_0x433ded+(-0x1f01+0x1*-0x21d7+-0x206e*-0x2)*pt['ATLAS_VIEW'+'PORT']+(0x215a+-0x1*-0x181d+-0x3975)]=_0x3adf0a['z']/(-0x171a+0x1236+-0x1*-0x4e7)),_0x1564a5){const _0x347845=this['getLightAr'+'eaSizes'](_0x558903);_0xb37df8[_0x433ded+(0x10b7+-0x1b01+0xa4e)*pt['AREA_DATA_'+'WIDTH']+(-0x1*0x2516+-0x29*0x2e+-0x472*-0xa)]=_0x347845[-0x1d9f+-0x492*-0x5+0x6c5],_0xb37df8[_0x433ded+(0x2391+0x1b2f*0x1+-0x3ebc)*pt['AREA_DATA_'+'WIDTH']+(0x1a*0x155+0x4*-0x51e+-0xe29)]=_0x347845[-0x1*-0x24df+0x2*-0x4ff+-0x1ae0],_0xb37df8[_0x433ded+(-0x529+-0x1*-0x142f+-0x11*0xe2)*pt['AREA_DATA_'+'WIDTH']+(-0x1*-0x1249+0x4*0x4a8+-0x24e7)]=_0x347845[0x311*-0xb+-0x1814+0x39d1],_0xb37df8[_0x433ded+(0xa6f*-0x1+0xce*0xb+0x199)*pt['AREA_DATA_'+'HEIGHT']+(0x15*0x8f+-0x1145+0x58a)]=_0x347845[0x2d0+0x709+-0x9d6],_0xb37df8[_0x433ded+(0x624*-0x5+-0x1*-0x255c+-0x6a4)*pt['AREA_DATA_'+'HEIGHT']+(0x783*0x4+-0x1945+-0x4c6)]=_0x347845[0x1*-0x1bca+-0x139b+-0xe5*-0x35],_0xb37df8[_0x433ded+(0xac6+-0x58c+-0x536)*pt['AREA_DATA_'+'HEIGHT']+(0xe91+0x16eb*0x1+-0x257a)]=_0x347845[-0x4*0x8c6+0x1*0x3a+-0x3*-0xba1];}}}const Ll=new A(),Fl=new A(),kl=new A(),Ed=new ve(),n_=0x1d39+0x4c9*0x5+0x3526*-0x1+0.000001,a_=-0x1578+0x1*-0x1ff7+-0xed*-0x4b;class o_{constructor(){this['light']=null,this['min']=new A(),this['max']=new A();}}class Hu{constructor(_0x23af57){c(this,'clusterTex'+'ture'),(this['device']=_0x23af57,this['name']='Untitled',this['reportCoun'+'t']=-0x119e+0xb*-0x331+0x34b9,this['boundsMin']=new A(),this['boundsMax']=new A(),this['boundsDelt'+'a']=new A(),this['_cells']=new A(0x9ce+-0x166+-0x867,-0x3*0x411+0x1*-0x1cf1+0x2925,0xb*0x11d+-0x36*-0x8d+-0x1*0x29fc),this['_cellsLimi'+'t']=new A(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=0x97c*-0x1+0x2dd*0x7+-0xa8b,this['_maxAttenu'+'ation']=-0xe12+-0xaa8+0x18ba,this['_maxColorV'+'alue']=0x11e+0xb11*0x2+-0x1740,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new o_()),this['lightsBuff'+'er']=new C0(_0x23af57),this['registerUn'+'iforms'](_0x23af57));}set['maxCellLig'+'htCount'](_0x2d9429){_0x2d9429!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x2d9429,this['_cellsDirt'+'y']=!(0x17c4+-0x1*0x4ff+-0x12c5));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x364b12){Ll['copy'](_0x364b12)['floor'](),this['_cells']['equals'](Ll)||(this['_cells']['copy'](Ll),this['_cellsLimi'+'t']['copy'](Ll)['sub'](A['ONE']),this['_cellsDirt'+'y']=!(-0x14d9*0x1+0x1502*0x1+-0x29*0x1));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x1c2f99){this['_clusterSk'+'ipId']=_0x1c2f99['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x1c2f99['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x1c2f99['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x1c2f99['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x2247+-0x197e+0x1*-0x8c6),this['_clusterBo'+'undsMinId']=_0x1c2f99['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0xda9+0x2522+-0x1776),this['_clusterBo'+'undsDeltaI'+'d']=_0x1c2f99['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(-0x16d2+-0x25*-0x8b+0x1*0x2be),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x1c2f99['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x2261+-0x2f*0x71+0x1*-0xd9f),this['_clusterCe'+'llsDotId']=_0x1c2f99['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(-0x113c+0x98*0xd+0x10f*0x9),this['_clusterCe'+'llsMaxId']=_0x1c2f99['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x1*-0x14a9+0x5*0x703+-0x37b5),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x1c2f99['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(-0x2050*-0x1+0x1a23+-0x3a71);}['updatePara'+'ms'](_0x370ba7){_0x370ba7&&(this['cells']=_0x370ba7['cells'],this['maxCellLig'+'htCount']=_0x370ba7['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x370ba7['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x370ba7['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x370ba7['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0x16ed*-0x1+-0x1*0x1ea2+-0xd64*-0x4);const _0x1199be=this['_cells']['x'],_0x13df36=this['_cells']['y'],_0x615df0=this['_cells']['z'],_0x1f6e66=_0x1199be*_0x13df36*_0x615df0,_0x34f55e=this['maxCellLig'+'htCount']*_0x1f6e66;let _0x9050db=Math['ceil'](Math['sqrt'](_0x34f55e));_0x9050db=z['roundUp'](_0x9050db,this['maxCellLig'+'htCount']);const _0xd7e846=Math['ceil'](_0x34f55e/_0x9050db);b['assert'](_0x9050db<=a_&&_0xd7e846<=a_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0xc2d*0x1+0x1dd2*0x1+0x1*-0x11a5]=_0x1199be,this['_clusterCe'+'llsMaxData'][-0xd7b+0x248e+-0x1712]=_0x13df36,this['_clusterCe'+'llsMaxData'][0x199*0x14+-0x1f6b+-0x87]=_0x615df0,this['_clusterCe'+'llsDotData'][-0x21bb+0xff1+0x11ca]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x1d*-0x23+-0xa*0x101+-0x185*-0x4]=_0x1199be*_0x615df0*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x464+-0x1cb9+-0x5d*-0x43]=_0x1199be*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x34f55e),this['counts']=new Int32Array(_0x1f6e66),this['_clusterTe'+'xtureSizeD'+'ata'][0xeb3*0x2+-0x1c0+-0x1ba6]=_0x9050db,this['_clusterTe'+'xtureSizeD'+'ata'][-0xde5+0x20a7+0x1*-0x12c1]=(0x1*0x18da+-0xb01+-0xdd8)/_0x9050db,this['_clusterTe'+'xtureSizeD'+'ata'][0x6*0x352+0x18c1+0x5*-0x8ef]=(0x4b2+0x7*0x1e1+-0x1*0x11d8)/_0xd7e846,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x9050db,_0xd7e846,ap,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x424+0x24cc+-0x20a7?0x3ed*0x8+0x568*-0x3+-0xf30:0x18cc+0xa6*-0x6+-0x14e7),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x58b691=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1*-0x1b91+0x1cda+0x149*-0x1]=this['_cells']['x']/_0x58b691['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0xc22*-0x1+-0x1*-0x1b91+-0x27b2]=this['_cells']['y']/_0x58b691['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x2090+-0x2459+0x3cb]=this['_cells']['z']/_0x58b691['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x8*-0x48f+-0x1*-0xd79+-0x31f1]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0xf22+0xa7*0x8+0x9eb]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][-0x23e3*-0x1+-0x1903+-0xade*0x1]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x12da+0xc90+0x64a]=_0x58b691['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0x14f9*-0x1+-0x12*0x4a+0x45d*0x6]=_0x58b691['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x134*-0x1a+-0x55*-0x1a+0x16a8]=_0x58b691['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][0x2608+-0x118+0x314*-0xc]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][0x2101+-0x36*0xb+-0x1eae]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x243d48,_0x398032,_0x4a8595){_0x398032['copy'](_0x243d48['min']),_0x398032['sub'](this['boundsMin']),_0x398032['div'](this['boundsDelt'+'a']),_0x398032['mul2'](_0x398032,this['cells']),_0x398032['floor'](),_0x4a8595['copy'](_0x243d48['max']),_0x4a8595['sub'](this['boundsMin']),_0x4a8595['div'](this['boundsDelt'+'a']),_0x4a8595['mul2'](_0x4a8595,this['cells']),_0x4a8595['ceil'](),_0x398032['max'](A['ZERO']),_0x4a8595['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0xbc835f){const _0x36f19d=this['lightsBuff'+'er']['maxLights'],_0x53934b=this['_usedLight'+'s'];let _0x5b1e17=0x1*-0x1fa0+0x31e+0x3*0x981;_0xbc835f['forEach'](_0x5e2f05=>{const _0x48f25a=!!(_0x5e2f05['mask']&(ms|dr)),_0x550f46=_0x5e2f05['type']===Fe&&_0x5e2f05['_outerCone'+'Angle']===-0x9*0x3f4+0x5*0x561+-0x13*-0x75;if(_0x5e2f05['enabled']&&_0x5e2f05['type']!==le&&_0x5e2f05['visibleThi'+'sFrame']&&_0x5e2f05['intensity']>0x9d*-0x14+-0xeef*-0x1+0x2ab*-0x1&&_0x48f25a&&!_0x550f46){if(_0x5b1e17<_0x36f19d){let _0x305af2;_0x5b1e17<_0x53934b['length']?_0x305af2=_0x53934b[_0x5b1e17]:(_0x305af2=new o_(),_0x53934b['push'](_0x305af2)),_0x305af2['light']=_0x5e2f05,_0x5e2f05['getBoundin'+'gBox'](Ed),_0x305af2['min']['copy'](Ed['getMin']()),_0x305af2['max']['copy'](Ed['getMax']()),_0x5b1e17++;}else b['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x36f19d-(-0x1*-0x2225+-0x1047+-0x11dd))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x53934b['length']=_0x5b1e17;}['evaluateBo'+'unds'](){const _0x2a72be=this['_usedLight'+'s'],_0x38e927=this['boundsMin'],_0x935107=this['boundsMax'];if(_0x2a72be['length']>0x1d13*0x1+-0x5b*-0x41+-0x342d){_0x38e927['copy'](_0x2a72be[0x2604+-0x13d9+-0x32*0x5d]['min']),_0x935107['copy'](_0x2a72be[0x5*0x6bb+-0x1ece+-0x1a*0x1c]['max']);for(let _0x690a89=0xf4f*-0x2+0x580+-0x648*-0x4;_0x690a89<_0x2a72be['length'];_0x690a89++)_0x38e927['min'](_0x2a72be[_0x690a89]['min']),_0x935107['max'](_0x2a72be[_0x690a89]['max']);}else _0x38e927['set'](-0x1*-0x1e53+0x1797+-0x35ea,-0x1c1c+0x5*0x316+0xcae,-0x72+0x20fc+-0x22*0xf5),_0x935107['set'](-0x1bba+0x1659+0x562,0x21*-0x115+0x245*0x2+-0x39*-0x8c,-0x134+0xdc7*-0x2+0x1cc3);this['boundsDelt'+'a']['sub2'](_0x935107,_0x38e927),this['lightsBuff'+'er']['setBounds'](_0x38e927,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x2ab9ac=-0xdd4+0x10cb+-0xfd*0x3,_0x2cc81f=0x17a9+-0x24b*0x1+-0xaaf*0x2;const _0x14ac27=this['_usedLight'+'s'];for(let _0x4160a0=0x59*-0x66+-0x2155+0x44cc;_0x4160a0<_0x14ac27['length'];_0x4160a0++){const _0xc1e70a=_0x14ac27[_0x4160a0]['light'];_0x2ab9ac=Math['max'](_0xc1e70a['attenuatio'+'nEnd'],_0x2ab9ac);const _0x55dfec=_0xc1e70a['_colorLine'+'ar'];_0x2cc81f=Math['max'](_0x55dfec[-0x1*-0x127b+0x3d*0x4f+-0x254e],_0x2cc81f),_0x2cc81f=Math['max'](_0x55dfec[0x26*-0xb8+-0x1*-0x1f64+0x1*-0x413],_0x2cc81f),_0x2cc81f=Math['max'](_0x55dfec[-0x199b+-0x1b23*0x1+0x34c0],_0x2cc81f);}this['_maxAttenu'+'ation']=_0x2ab9ac+n_,this['_maxColorV'+'alue']=_0x2cc81f+n_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x4f9876){this['counts']['fill'](-0x2247+0x1c2d+0x30d*0x2),this['clusters']['fill'](-0x1fd1+0x25b7+-0x5e6),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x4f9876?_0x4f9876['areaLights'+'Enabled']:!(-0x1aed+0x1c1*-0x6+0x2574*0x1);const _0x557faf=this['_cells']['x'],_0x4c1690=this['_cells']['z'],_0x27805a=this['counts'],_0x5b59d6=this['_maxCellLi'+'ghtCount'],_0x2cc368=this['clusters'],_0x276a63=this['maxCellLig'+'htCount'];let _0x302394=!(0xa*0x1db+-0x137*0x4+-0xdb1);const _0x1e1f2f=this['_usedLight'+'s'];for(let _0x2a867c=-0x263f+-0x320+0x2960;_0x2a867c<_0x1e1f2f['length'];_0x2a867c++){const _0x17ac05=_0x1e1f2f[_0x2a867c],_0x51aa5a=_0x17ac05['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x51aa5a,_0x2a867c),this['evalLightC'+'ellMinMax'](_0x17ac05,Fl,kl);const _0x182516=Fl['x'],_0xf5748c=kl['x'],_0x2465fb=Fl['y'],_0x5e4860=kl['y'],_0x1c2513=Fl['z'],_0x5a6b52=kl['z'];for(let _0x3109bd=_0x182516;_0x3109bd<=_0xf5748c;_0x3109bd++)for(let _0x4e254f=_0x1c2513;_0x4e254f<=_0x5a6b52;_0x4e254f++)for(let _0x200495=_0x2465fb;_0x200495<=_0x5e4860;_0x200495++){const _0x3da83c=_0x3109bd+_0x557faf*(_0x4e254f+_0x200495*_0x4c1690),_0x3058e8=_0x27805a[_0x3da83c];_0x3058e8<_0x5b59d6?(_0x2cc368[_0x276a63*_0x3da83c+_0x3058e8]=_0x2a867c,_0x27805a[_0x3da83c]=_0x3058e8+(-0x77*-0x43+-0x2*-0xe43+-0x886*0x7)):_0x302394=!(-0x10bf*-0x1+0x13a4+-0x2463);}}_0x302394&&this['reportCoun'+'t']<0x1327+0xdcd+0x1*-0x20ef&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===-0x2ac*-0x4+0x163+-0x157*0x9?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x459781,_0x170408=null){this['updatePara'+'ms'](_0x170408),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x459781),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0x170408),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const l_=-0xfa4+-0x1ea0+-0x1*-0x2e46+0.39996322972865306,ul={'circlePoint'(_0x36352b){const _0x1591ba=Math['sqrt'](Math['random']()),_0x23e79d=Math['random']()*(0x6fd*-0x3+0x2*-0x70b+0x19*0x167)*Math['PI'];_0x36352b['x']=_0x1591ba*Math['cos'](_0x23e79d),_0x36352b['y']=_0x1591ba*Math['sin'](_0x23e79d);},'circlePointDeterministic'(_0x2849dc,_0x21f447,_0xdca865){const _0x3fd79e=_0x21f447*l_,_0x5f32a5=Math['sqrt'](_0x21f447)/Math['sqrt'](_0xdca865);_0x2849dc['x']=_0x5f32a5*Math['cos'](_0x3fd79e),_0x2849dc['y']=_0x5f32a5*Math['sin'](_0x3fd79e);},'spherePointDeterministic'(_0x2029b6,_0x42a17e,_0x4aa278,_0x19ada8=0x751+0x16*0x1b7+-0x2d0b*0x1,_0x511939=0x52d+-0x251f+0x1ff3){_0x19ada8=-0x1e5f+-0x4*-0x7aa+-0x48-(-0x218f+0xb*0x2c1+0x346)*_0x19ada8,_0x511939=-0x38*-0x4b+-0x21e0*-0x1+0x3247*-0x1-(0x1a21+0x856+-0x2275)*_0x511939;const _0x22c5a6=z['lerp'](_0x19ada8,_0x511939,_0x42a17e/_0x4aa278),_0xc30628=Math['sqrt'](0x251e+-0x525*0x7+0x8d*-0x2-_0x22c5a6*_0x22c5a6),_0x5120c3=l_*_0x42a17e;_0x2029b6['x']=Math['cos'](_0x5120c3)*_0xc30628,_0x2029b6['y']=_0x22c5a6,_0x2029b6['z']=Math['sin'](_0x5120c3)*_0xc30628;},'radicalInverse'(_0x4293c3){let _0x1d5c3e=(_0x4293c3<<-0x15d3+0x1*-0x208f+0x1226*0x3|_0x4293c3>>>-0x81f+-0x1*-0x5a2+-0x28d*-0x1)>>>0x22db*0x1+0xa*0x363+0x44b9*-0x1;return _0x1d5c3e=((_0x1d5c3e&0x12aa8beb+0x92da7778+-0x438677a*0x13)<<-0x136d*0x1+0x1065*-0x2+0x3438|(_0x1d5c3e&-0x2*0x83858609+-0xd6aaefba+0x2*0x14430533b)>>>-0xa*-0x10+0x5cf+-0x66e)>>>0x2102+0x22c*0xb+0x38e6*-0x1,_0x1d5c3e=((_0x1d5c3e&0x7*-0x74cc419+0x36934939+0x9023*0x54c3)<<0x2*0x449+0x17e5*-0x1+-0x9d*-0x19|(_0x1d5c3e&0x17747be82*0x1+0x1f*0x2d9f577+0x102dfab1f*-0x1)>>>-0x1e93+-0x1*0x4bd+0x2352)>>>-0xafc+0x47*0x5f+-0xf5d,_0x1d5c3e=((_0x1d5c3e&0x15feb71*-0x9+0xc644069+-0x1*-0xf0a159f)<<0x8d4+0x1*0x21d6+-0xce*0x35|(_0x1d5c3e&-0xb18c03ed+-0x1*-0x1b04598bf+-0xdc8a3e2)>>>0x63*0x15+0x1*0x94b+-0x83*0x22)>>>-0x17f5*0x1+-0x1de4+-0x11f3*-0x3,_0x1d5c3e=((_0x1d5c3e&0x1f53cba+0xc8f485*-0x2+0x9bad4f)<<0x75*0x2+-0x25b8+0x2e*0xcd|(_0x1d5c3e&-0x4*0x15718+-0x5d35ed62+0x15c3c48c2)>>>-0x25*-0x107+-0x49c*-0x3+-0x33cf)>>>0x23d6+-0x1a36+-0x9a0,_0x1d5c3e*(-0x237d+0x5c*0x4e+0x775+2.3283064365386963e-10);}},yC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},xC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Ds{static['decodeFunc'](_0x235ef1){return yC[_0x235ef1]||'decodeGamm'+'a';}static['encodeFunc'](_0x5c0f21){return xC[_0x5c0f21]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0xbebbff,_0x57d400){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x57d400['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0xbebbff['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+j['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const h_=_0x38f3db=>{switch(_0x38f3db){case Pu:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Ol=(_0x20e566,_0xedb3a2,_0x511dad)=>{if(_0x20e566<=-0x1a5*0x5+-0x3b*0x5+0x960)_0xedb3a2[_0x511dad+(0x2030+0x5d5*0x6+-0x2*0x2197)]=0x2663+-0x121c+-0x1447,_0xedb3a2[_0x511dad+(0x20bc+0x2b*-0x7a+0x1*-0xc3d)]=-0x121b+0x22af+-0x1094,_0xedb3a2[_0x511dad+(-0x9*-0x141+-0x1*-0x4db+-0x1022)]=-0xf*0xbf+0x206c+-0x153b,_0xedb3a2[_0x511dad+(0x112*-0x1d+0x1513*0x1+-0x1*-0x9fa)]=-0x1221+-0x1d63+0x2f84;else{if(_0x20e566>=0x335*-0x2+0x3cd+-0x86*-0x5)_0xedb3a2[_0x511dad+(-0x7de*0x2+-0xe7e+0x1e3a)]=0x5*0x593+0x21db+-0x3cbb,_0xedb3a2[_0x511dad+(0x2*-0xa64+-0x13*-0x1df+-0xec4*0x1)]=0x1*0x545+-0x7eb*-0x2+-0x151b,_0xedb3a2[_0x511dad+(0x1e86*0x1+-0x1*-0x1e2+-0x2066)]=-0x17*-0x69+-0x1*-0x5b5+0x39*-0x44,_0xedb3a2[_0x511dad+(-0x1f90+0x2*-0x2e+-0x147*-0x19)]=-0x2f*-0xd3+-0x9*-0x127+-0x7*0x704;else{let _0x532ad4=(-0x114e+0x5*0xf2+-0xc95*-0x1)*_0x20e566%(0x4be+-0x2*0x11de+0x1eff*0x1),_0x5ebef9=(0x180e+0x163c+-0x2d4b)*_0x20e566%(0x1674+-0x1d54*0x1+0x6e1*0x1),_0x428352=(-0xf9*-0x71+0x1*-0x2d15+0x1*0xbd2d)*_0x20e566%(-0x19a3+0x2115+-0x27b*0x3);const _0x1432dc=(0x50209a*-0x4+0xbfa11b+0x17de44c)*_0x20e566%(0x3*-0x3b9+0x15e0+-0x2ad*0x4);_0x532ad4-=_0x5ebef9/(-0x1643+-0x32*0xad+0x390c),_0x5ebef9-=_0x428352/(0x1*0x143b+0x265+-0x15a1),_0x428352-=_0x1432dc/(-0x26cf+-0x1265*-0x1+0x723*0x3),_0xedb3a2[_0x511dad+(0x4f6+-0x24ef*-0x1+-0x29e5)]=Math['min'](-0x5*-0x3a1+0x2ea*0x9+-0x56c*0x8,Math['floor'](_0x532ad4*(-0x15ac+0x1c37*0x1+-0xb*0x81))),_0xedb3a2[_0x511dad+(0xf99*-0x2+-0x7*0x101+0x263a)]=Math['min'](0x5b2+-0x1*-0xd31+-0x11e4,Math['floor'](_0x5ebef9*(0x54f*-0x4+0x1ff2+0x71*-0x16))),_0xedb3a2[_0x511dad+(-0x1ebb+0x74d+-0xc8*-0x1e)]=Math['min'](0x16e9+-0x34c+-0x2*0x94f,Math['floor'](_0x428352*(0x5a0+0xe35+-0x12d5*0x1))),_0xedb3a2[_0x511dad+(0x201d+0x1d93+-0x3dad)]=Math['min'](0x3*-0x966+0xf7d+-0x4*-0x36d,Math['floor'](_0x1432dc*(0x5*0x7c+0x1c4a+-0xedb*0x2)));}}},SC=_0x1fa168=>{const _0x34f4aa=_0x1fa168['length'],_0x36defe=Math['min'](_0x34f4aa,0x17e5*-0x1+-0x1*-0x8aa+0x191*0xb),_0x1446ad=Math['ceil'](_0x34f4aa/_0x36defe),_0x1479fc=new Uint8Array(_0x36defe*_0x1446ad*(-0x6f7+0x5*-0x389+0x18a8));let _0x55a7fa=0x253b+-0x1ed*-0xe+-0x1*0x4031;for(let _0x2cb526=-0xa*0xc7+0x7*-0x583+-0x2e5b*-0x1;_0x2cb526<_0x34f4aa;_0x2cb526+=0x1fc8+0x42*0x1b+-0x26ba)Ol(_0x1fa168[_0x2cb526+(-0x5*-0xb3+-0x1961+0x15e2)]*(0x197*0x7+-0x2273+0x1752+0.5)+(0x7f*-0x33+-0x17bb+0x6*0x82c+0.5),_0x1479fc,_0x55a7fa+(0x397+0x6ee+-0xa85)),Ol(_0x1fa168[_0x2cb526+(0x2*-0x549+-0x691+0x4*0x449)]*(-0x87*0xd+-0x1*0x1cc6+-0x517*-0x7+0.5)+(0x25ee+-0x2627+0x39+0.5),_0x1479fc,_0x55a7fa+(-0x165e+0x1576+0xec)),Ol(_0x1fa168[_0x2cb526+(-0x2414+-0x12e5+0x36fb)]*(0x32*0x67+0x9ee+-0x1e0c*0x1+0.5)+(0xfc8+-0x2*-0x1ff+-0x13c6+0.5),_0x1479fc,_0x55a7fa+(0x25cd+-0xb50+-0x1a75)),Ol(_0x1fa168[_0x2cb526+(0x207*0x5+-0x7*-0x3eb+-0x258d)]/(0x1e*-0x7f+-0x2140+0x5*0x9a2),_0x1479fc,_0x55a7fa+(-0x8fb+-0x1*-0x2116+0x805*-0x3)),_0x55a7fa+=0x100a*0x1+0x115a+0x10aa*-0x2;return{'width':_0x36defe,'height':_0x1446ad,'data':_0x1479fc};},vC=(_0x287f38,_0x3d8dce,_0x3e3a50,_0x21b86c)=>{const _0x5bbf71=_0x3e3a50*(-0xa9*0x1c+-0x1648+0x2*0x1463)*Math['PI'],_0x517449=Math['pow'](0x825+0x142*-0x12+-0x8*-0x1d0-_0x3d8dce,(-0x484*0x1+-0xd0a*-0x1+-0x885)/(_0x21b86c+(0x14e2+-0xe95*-0x2+0x320b*-0x1))),_0x38da26=Math['sqrt'](0x5*-0x7ca+-0x53*-0x7+0x24ae-_0x517449*_0x517449);_0x287f38['set'](Math['cos'](_0x5bbf71)*_0x38da26,Math['sin'](_0x5bbf71)*_0x38da26,_0x517449)['normalize']();},bC=(_0x3a3095,_0x2b34d6,_0x21c62b)=>{const _0x101b2f=_0x21c62b*(-0x153*0x19+-0x4e8*-0x3+0x115*0x11)*Math['PI'],_0x5315fe=Math['sqrt'](0xd92+0x666+-0x1*0x13f7-_0x2b34d6),_0x2b2a2e=Math['sqrt'](_0x2b34d6);_0x3a3095['set'](Math['cos'](_0x101b2f)*_0x2b2a2e,Math['sin'](_0x101b2f)*_0x2b2a2e,_0x5315fe)['normalize']();},wC=(_0x3890df,_0x27e1f5,_0x301f5b,_0x5d0bcc)=>{const _0x35cb20=_0x301f5b*(-0x5b*-0x4a+0x2*-0x1319+0xbe6)*Math['PI'],_0x3213cc=Math['sqrt']((0x8dd+-0x562+-0x37a-_0x27e1f5)/(0x5*-0x761+0xc3*0x16+0x1424+(_0x5d0bcc*_0x5d0bcc-(0x3d6+-0x19f0*0x1+0x161b*0x1))*_0x27e1f5)),_0x388055=Math['sqrt'](-0xc52+-0x112f+0x1d82-_0x3213cc*_0x3213cc);_0x3890df['set'](Math['cos'](_0x35cb20)*_0x388055,Math['sin'](_0x35cb20)*_0x388055,_0x3213cc)['normalize']();},TC=(_0x2d429f,_0x142e64)=>{const _0x474d3e=_0x2d429f*_0x142e64,_0x2ba82b=_0x142e64/(-0xf72*-0x1+0x2366+-0x32d7-_0x2d429f*_0x2d429f+_0x474d3e*_0x474d3e);return _0x2ba82b*_0x2ba82b*((-0x83*-0x35+-0x3d*-0x75+-0x36ff)/Math['PI']);},AC=(_0x1cb4d4,_0x11f0ae)=>{const _0x33f7fe=new A(),_0x532502=[];for(let _0x46bfa2=-0x1afc+-0x1100+0x2bfc;_0x46bfa2<_0x1cb4d4;++_0x46bfa2)vC(_0x33f7fe,_0x46bfa2/_0x1cb4d4,ul['radicalInv'+'erse'](_0x46bfa2),_0x11f0ae),_0x532502['push'](_0x33f7fe['x'],_0x33f7fe['y'],_0x33f7fe['z'],0xc8c+-0x833+-0x459);return _0x532502;},EC=(_0x2319ff,_0x19349c)=>{const _0x463e98=_0x19349c/_0x2319ff,_0x586f20=new A(),_0x3c1e26=[];for(let _0x3304e8=0x1c*0x125+0x3e*0x3b+-0x526*0x9;_0x3304e8<_0x2319ff;++_0x3304e8){bC(_0x586f20,_0x3304e8/_0x2319ff,ul['radicalInv'+'erse'](_0x3304e8));const _0x48a581=_0x586f20['z']/Math['PI'],_0x116fde=(-0x1387+0x58e+0xdf9+0.5)*Math['log2'](_0x463e98/_0x48a581);_0x3c1e26['push'](_0x586f20['x'],_0x586f20['y'],_0x586f20['z'],_0x116fde);}return _0x3c1e26;},CC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},MC=(_0x817a0c,_0x61d7fb)=>{const _0x433ae9=CC[_0x817a0c];return _0x433ae9&&_0x433ae9[_0x61d7fb]||_0x817a0c;},PC=(_0x4bbed6,_0x5f3804,_0x315af1)=>{const _0x5d6e51=_0x315af1/_0x4bbed6,_0x595e6b=-0x1da9*-0x1+-0x14ec+-0x22f*0x4-Math['log2'](_0x5f3804)/(0xa8b*-0x3+0x15a8+0xa04),_0x202581=_0x595e6b*_0x595e6b,_0x3cc84b=new A(),_0x58d67d=new A(),_0x39a77c=new A(0x6fd+0x190c+0x8b*-0x3b,-0x118a+-0x168+0xc2*0x19,-0x202a+0x1*-0x3d5+0x2400),_0x2950b9=[],_0x5b8c91=MC(_0x4bbed6,_0x5f3804);for(let _0x118a4d=0x136d+0xf5*-0x1b+0x66a;_0x118a4d<_0x5b8c91;++_0x118a4d){wC(_0x3cc84b,_0x118a4d/_0x5b8c91,ul['radicalInv'+'erse'](_0x118a4d),_0x202581);const _0x270ee0=_0x3cc84b['z'];if(_0x58d67d['set'](_0x3cc84b['x'],_0x3cc84b['y'],_0x3cc84b['z'])['mulScalar']((0x68*0x2+0x106a+-0x1138)*_0x270ee0)['sub'](_0x39a77c),_0x58d67d['z']>-0x59*0x10+-0x17f5+-0x9d7*-0x3){const _0x16885f=TC(Math['min'](0x803*0x3+0x21d4*0x1+-0x39dc,_0x270ee0),_0x202581)/(-0xf*-0x37+-0xb7*0x1d+0x1*0x1186)+(-0x2*0x670+0x2408+-0x1728+0.001),_0x6e9b1e=(0x10fc+0x71*-0x11+0x1*-0x97b+0.5)*Math['log2'](_0x5d6e51/_0x16885f);_0x2950b9['push'](_0x58d67d['x'],_0x58d67d['y'],_0x58d67d['z'],_0x6e9b1e);}}for(;_0x2950b9['length']<_0x4bbed6*(-0x1d5e+0xe9b+-0x123*-0xd);)_0x2950b9['push'](0x2673+0x2*0x914+-0x2b*0x151,-0x1*0x72e+0x262+0x4cc,-0x126a+0x1742+-0x4d8,-0x1635+-0xc8c+0x22c1);return _0x2950b9;},RC=(_0x40cb99,_0x3235c1,_0x2da083)=>{const _0x1bfe48=SC(_0x2da083);return new ce(_0x40cb99,{'name':_0x3235c1,'width':_0x1bfe48['width'],'height':_0x1bfe48['height'],'mipmaps':!(0x1f84+-0xde7*0x1+-0x5c*0x31),'minFilter':fe,'magFilter':fe,'levels':[_0x1bfe48['data']]});};class M0{constructor(_0x2be485=!(0x1c91+-0x3*0xc65+0x89e)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x2be485;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x17586b,_0x2b684d)=>{_0x17586b['destroy']();});}['get'](_0x47c2f8,_0xdf0ef2){if(!this['map']['has'](_0x47c2f8)){const _0x331f37=_0xdf0ef2();return this['map']['set'](_0x47c2f8,_0x331f37),_0x331f37;}return this['map']['get'](_0x47c2f8);}}const IC=new M0(!(0x1f17+0x1f33+-0x3*0x14c3)),DC=new Ht(),Bp=(_0x1f019e,_0x29da91,_0x3fb9eb)=>DC['get'](_0x1f019e,()=>new M0())['get'](_0x29da91,()=>RC(_0x1f019e,_0x29da91,IC['get'](_0x29da91,_0x3fb9eb))),LC=(_0x2ee2ba,_0x1bb450,_0x4c3ecd)=>{const _0x232cd1='lambert-sa'+'mples-'+_0x1bb450+'-'+_0x4c3ecd;return Bp(_0x2ee2ba,_0x232cd1,()=>EC(_0x1bb450,_0x4c3ecd));},FC=(_0x29c492,_0x1442c1,_0x2506bf)=>{const _0x3ba99f='phong-samp'+'les-'+_0x1442c1+'-'+_0x2506bf;return Bp(_0x29c492,_0x3ba99f,()=>AC(_0x1442c1,_0x2506bf));},kC=(_0x3f702f,_0x220e85,_0xfad593,_0x1bb152)=>{const _0x1341a8='ggx-sample'+'s-'+_0x220e85+'-'+_0xfad593+'-'+_0x1bb152;return Bp(_0x3f702f,_0x1341a8,()=>PC(_0x220e85,_0xfad593,_0x1bb152));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function ii(_0x55c823,_0x1e9e7b,_0x15b3c1={}){var _0x5e314b,_0x2e9bfd;b['assert'](_0x55c823 instanceof ce&&_0x1e9e7b instanceof ce,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0xa9a2b2=_0x15b3c1['seamPixels']??0x218+0x2*-0x4fa+0x3ee*0x2,_0xea203b=(((_0x5e314b=_0x15b3c1['rect'])==null?void(0x3*0x88+-0xa*-0x1ca+0x74*-0x2b):_0x5e314b['z'])??_0x1e9e7b['width'])-_0xa9a2b2*(0x1d78+-0x1*0xa07+0x19*-0xc7),_0x144d0b=(((_0x2e9bfd=_0x15b3c1['rect'])==null?void(0xb*0xa7+-0xe67+0x73a):_0x2e9bfd['w'])??_0x1e9e7b['height'])-_0xa9a2b2*(-0x2f9*-0xb+-0x2*-0xeed+0x3*-0x14d9);if(_0xea203b<0x1d8b*-0x1+-0xdf3*0x2+0x3972||_0x144d0b<-0xc52+-0x25c*0x8+-0x475*-0x7)return!(0x9*0x2f+0x1b28+0x99a*-0x3);const _0x25c96f={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x71d45b=_0x15b3c1['hasOwnProp'+'erty']('specularPo'+'wer')?_0x15b3c1['specularPo'+'wer']:-0x1*0x20e3+0x111d+0xfc7,_0x15e873=_0x15b3c1['hasOwnProp'+'erty']('face')?_0x15b3c1['face']:null,_0x96f157=_0x15b3c1['hasOwnProp'+'erty']('distributi'+'on')?_0x15b3c1['distributi'+'on']:_0x71d45b===-0x1*-0xc43+0x8f7*0x3+-0x27*0x101?'none':'phong',_0x5a91ab=_0x25c96f[_0x96f157]||'reproject',_0x3effc4=_0x5a91ab['startsWith']('prefilterS'+'amples'),_0x4446c2=Ds['decodeFunc'](_0x55c823['encoding']),_0x5ec646=Ds['encodeFunc'](_0x1e9e7b['encoding']),_0x23beda='sample'+h_(_0x55c823['projection']),_0x298db6='getDirecti'+'on'+h_(_0x1e9e7b['projection']),_0x50ad57=_0x15b3c1['hasOwnProp'+'erty']('numSamples')?_0x15b3c1['numSamples']:0x1*-0x146f+-0x113d+0x2*0x14d6,_0x105911=_0x5a91ab+'_'+_0x4446c2+'_'+_0x5ec646+'_'+_0x23beda+'_'+_0x298db6+'_'+_0x50ad57,_0x2fa990=_0x55c823['device'];let _0x3e35af=za(_0x2fa990)['getCachedS'+'hader'](_0x105911);if(!_0x3e35af){const _0x4679a3='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x5a91ab+'\x0a'+(_0x3effc4?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x55c823['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x4446c2+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x5ec646+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x23beda+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x298db6+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x50ad57+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x50ad57))['toFixed'](0x7*0x2ba+-0x1*0x12b5+0x30*-0x2)+'\x0a';_0x3e35af=Bs(_0x2fa990,OC,_0x4679a3+'\x0a'+j['reprojectP'+'S'],_0x105911);}G['pushGpuMar'+'ker'](_0x2fa990,'ReprojectT'+'exture'),_0x2fa990['setBlendSt'+'ate'](bt['NOBLEND']);const _0x34a225=_0x2fa990['scope']['resolve'](_0x55c823['cubemap']?'sourceCube':'sourceTex');b['assert'](_0x34a225),_0x34a225['setValue'](_0x55c823);const _0x4428a4=_0x2fa990['scope']['resolve']('params'),_0x495d0c=_0x2fa990['scope']['resolve']('uvMod');_0xa9a2b2>0x1181*-0x2+0x261d+-0x31b?_0x495d0c['setValue']([(_0xea203b+_0xa9a2b2*(0xbcb*-0x1+-0x1d*-0x9d+-0x5fc))/_0xea203b,(_0x144d0b+_0xa9a2b2*(0x1963+-0x23cd+0xa6c))/_0x144d0b,-_0xa9a2b2/_0xea203b,-_0xa9a2b2/_0x144d0b]):_0x495d0c['setValue']([0x23c9*0x1+-0xebb+-0x150d,-0x14ef+0x7f7*0x1+-0x3*-0x453,0xc82+0xa3d*0x2+-0x4*0x83f,0x371+-0x2019+-0x418*-0x7]);const _0x4d2f96=[0x1fdc+0x8c4+0x14*-0x208,_0x1e9e7b['width']*_0x1e9e7b['height']*(_0x1e9e7b['cubemap']?0xde4+-0x1*0x1df9+0x101b:-0x670+0x1*0x2131+-0x6b0*0x4),_0x55c823['width']*_0x55c823['height']*(_0x55c823['cubemap']?0x1403+-0x267d+0x4a*0x40:-0x1a59+0xca2+0xdb8)];if(_0x3effc4){const _0x33913b=_0x55c823['width']*_0x55c823['height']*(_0x55c823['cubemap']?0x2047+-0x11c7+0xe7a*-0x1:0x10f*0xd+-0x1*-0x1e7f+-0x2c41*0x1),_0x4c3d05=_0x96f157==='ggx'?kC(_0x2fa990,_0x50ad57,_0x71d45b,_0x33913b):_0x96f157==='lambert'?LC(_0x2fa990,_0x50ad57,_0x33913b):FC(_0x2fa990,_0x50ad57,_0x71d45b);_0x2fa990['scope']['resolve']('samplesTex')['setValue'](_0x4c3d05),_0x2fa990['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x2578+0x1*-0x239f+-0x1d8)/_0x4c3d05['width'],(-0x16dd+0xed9+0x805)/_0x4c3d05['height']]);}for(let _0x3d52ca=0xfe6+-0x26bc+0x16d6;_0x3d52ca<(_0x1e9e7b['cubemap']?0x1*-0x14bc+-0x4*-0x23b+-0xbd6*-0x1:0x2a8+-0x251e+-0x11*-0x207);_0x3d52ca++)if(_0x15e873===null||_0x3d52ca===_0x15e873){const _0x1660ac=new St({'colorBuffer':_0x1e9e7b,'face':_0x3d52ca,'depth':!(-0x2b*0x74+-0x8b9+0x1c36*0x1),'flipY':_0x2fa990['isWebGPU']});_0x4d2f96[0x1c51+-0x15b3+-0x69e]=_0x3d52ca,_0x4428a4['setValue'](_0x4d2f96),fn(_0x2fa990,_0x1660ac,_0x3e35af,_0x15b3c1==null?void(-0x1543+0x21e0+-0xc9d*0x1):_0x15b3c1['rect']),_0x1660ac['destroy']();}return G['popGpuMark'+'er'](_0x2fa990),!(-0x397*0x7+0x1*-0x5c5+0x1*0x1ee6);}const Cd=(_0x2e7abd,_0x55eab0=-0x614+-0x2e*-0x9f+-0x167e)=>0x2*-0x202+-0xa60+0x14f*0xb+Math['floor'](Math['log2'](Math['max'](_0x2e7abd,_0x55eab0))),BC=_0x4d4f11=>_0x4d4f11['textureHal'+'fFloatRend'+'erable'],NC=_0x9406c8=>_0x9406c8['textureFlo'+'atRenderab'+'le'],zC=_0x2cba27=>BC(_0x2cba27)?it:NC(_0x2cba27)?et:Te,UC=_0x1b68f8=>Te,VC=(_0xe0689d,_0x160d63,_0x3b1d66,_0x2f6635)=>new ce(_0xe0689d,{'name':'lighting-'+_0x160d63,'cubemap':!(0x1*0x1342+0x1e5*-0x9+-0x235),'width':_0x160d63,'height':_0x160d63,'format':_0x3b1d66,'type':ko,'addressU':oe,'addressV':oe,'mipmaps':!(0x1*-0x24f5+-0x1d11+-0x4207*-0x1)});class P0{static['generateSk'+'yboxCubema'+'p'](_0x26b691,_0x76ec84){const _0x597d90=_0x26b691['device'];G['pushGpuMar'+'ker'](_0x597d90,'genSkyboxC'+'ubemap');const _0x1ede35=VC(_0x597d90,_0x76ec84||(_0x26b691['cubemap']?_0x26b691['width']:_0x26b691['width']/(-0x20f8+-0x1*-0x581+-0x5*-0x57f)),Te);return ii(_0x26b691,_0x1ede35,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x597d90),_0x1ede35;}static['generateLi'+'ghtingSour'+'ce'](_0x2b9621,_0x141351){const _0xa60e5b=_0x2b9621['device'];G['pushGpuMar'+'ker'](_0xa60e5b,'genLightin'+'gSource');const _0xf86f5d=zC(_0xa60e5b),_0x2151df=(_0x141351==null?void(-0x587+-0x1624+-0x313*-0x9):_0x141351['target'])||new ce(_0xa60e5b,{'name':'lighting-s'+'ource','cubemap':!(0xbb7+0xb31+-0x16e8),'width':(_0x141351==null?void(0x1ca0+-0x6*-0x28a+0x1*-0x2bdc):_0x141351['size'])||0x2589*0x1+0x2*0x1c5+-0x11*0x263,'height':(_0x141351==null?void(0x1894+-0x25*-0x12+-0x2*0xd97):_0x141351['size'])||-0x23dd*0x1+-0x70c+-0x1*-0x2b69,'format':_0xf86f5d,'type':_0xf86f5d===Te?ko:Bi,'addressU':oe,'addressV':oe,'mipmaps':!(0x2*-0x1321+-0xc25*0x1+0x3267)});return ii(_0x2b9621,_0x2151df,{'numSamples':_0x2b9621['mipmaps']?0x18a*-0x16+-0xc5b*-0x3+-0x5*0xa4:-0xf5+0x1*0xe75+-0x2*0x4c0}),G['popGpuMark'+'er'](_0xa60e5b),_0x2151df;}static['generateAt'+'las'](_0x5b1f81,_0x27dbc9){const _0x1b3bca=_0x5b1f81['device'],_0x470f07=UC();G['pushGpuMar'+'ker'](_0x1b3bca,'genAtlas');const _0x552ab8=(_0x27dbc9==null?void(0x1*-0x1658+-0x1*0x12cc+0x2924):_0x27dbc9['target'])||new ce(_0x1b3bca,{'name':'envAtlas','width':(_0x27dbc9==null?void(0x573+-0xcf+-0x4a4):_0x27dbc9['size'])||0x12dc*0x1+0x7c9*0x1+0x2bd*-0x9,'height':(_0x27dbc9==null?void(0xcd0+-0x6b2*-0x1+0xe3*-0x16):_0x27dbc9['size'])||-0x2*-0x1175+0x3*-0x43b+0x1439*-0x1,'format':_0x470f07,'type':ko,'projection':hm,'addressU':oe,'addressV':oe,'mipmaps':!(-0x3*0x259+0x160+0x5ac)});G['pushGpuMar'+'ker'](_0x1b3bca,'mipmaps');const _0x56a0a7=_0x552ab8['width']/(0x89f*-0x4+0x21cf+0x2ad),_0x5edc34=new ee(-0x1a*0x12f+-0x2*-0x85a+0xe12,-0x1f0d*0x1+-0x144c+-0x4ab*-0xb,(-0x40f*-0x7+-0xac8+-0xfa1*0x1)*_0x56a0a7,(0x132c+0x1e2c+-0x88*0x5b)*_0x56a0a7),_0x1d8560=Cd(0x40*0x39+0x1a02+0x192*-0x19)-Cd(0x31c+0x90c+0x6f*-0x1c);for(let _0x5b3aae=-0x15f5*-0x1+-0x2061+-0x74*-0x17;_0x5b3aae<_0x1d8560;++_0x5b3aae)ii(_0x5b1f81,_0x552ab8,{'numSamples':0x1,'rect':_0x5edc34,'seamPixels':_0x56a0a7}),_0x5edc34['x']+=_0x5edc34['w'],_0x5edc34['y']+=_0x5edc34['w'],_0x5edc34['z']=Math['max'](0x1f5a+-0x986+-0x15d3,Math['floor'](_0x5edc34['z']*(0x3d+0x1379+-0x2*0x9db+0.5))),_0x5edc34['w']=Math['max'](0x1f3+-0x1f26+0x1d34,Math['floor'](_0x5edc34['w']*(-0x21e6*-0x1+-0xf*-0x1bd+-0x3bf9+0.5)));G['popGpuMark'+'er'](_0x1b3bca),G['pushGpuMar'+'ker'](_0x1b3bca,'reflection'+'s'),_0x5edc34['set'](-0x1*-0x1f76+0x6a9+0x261f*-0x1,(0x2*0x833+-0x1a61+0xafb)*_0x56a0a7,(0x4f7+0x1be9*-0x1+0x17f2)*_0x56a0a7,(0xb63+0x26cd+0x31b*-0x10)*_0x56a0a7);for(let _0x1ea2bd=-0x27d*-0x7+-0x19*0x17+-0xf2b;_0x1ea2bd<-0x3c+0x2e6+-0x2a3;++_0x1ea2bd)ii(_0x5b1f81,_0x552ab8,{'numSamples':(_0x27dbc9==null?void(-0x1a93*-0x1+0xe91+0x1*-0x2924):_0x27dbc9['numReflect'+'ionSamples'])||0x983+0x1c3a+-0x21bd*0x1,'distribution':(_0x27dbc9==null?void(0x1c07+-0x11*0xd+-0x1b2a):_0x27dbc9['distributi'+'on'])||'ggx','specularPower':Math['max'](0x7c*-0x2c+-0x418*-0x5+-0x7*-0x1f,-0x19ac+-0x3ee+0x259a*0x1>>_0x1ea2bd*(0x1*0x10cb+0x5*0x609+-0x2ef6)),'rect':_0x5edc34,'seamPixels':_0x56a0a7}),_0x5edc34['y']+=_0x5edc34['w'],_0x5edc34['z']=Math['max'](-0x1c09+0x49c*-0x2+0x2542,Math['floor'](_0x5edc34['z']*(0x189d+-0xe91+-0xa0c+0.5))),_0x5edc34['w']=Math['max'](0xffc+0xeda+-0x1ed5,Math['floor'](_0x5edc34['w']*(-0x2066+-0x1b1a*-0x1+0x3*0x1c4+0.5)));return G['popGpuMark'+'er'](_0x1b3bca),G['pushGpuMar'+'ker'](_0x1b3bca,'ambient'),_0x5edc34['set']((0x54e*-0x4+0xf*-0x19+0x1*0x172f)*_0x56a0a7,(0x20af+0x479+-0x8ea*0x4)*_0x56a0a7,(-0xe*0x1ed+0x1079+0xabd)*_0x56a0a7,(0x156a*0x1+0x14ee+0x2a38*-0x1)*_0x56a0a7),ii(_0x5b1f81,_0x552ab8,{'numSamples':(_0x27dbc9==null?void(-0x1*-0x1cd6+-0x37*0x80+-0x2*0xab):_0x27dbc9['numAmbient'+'Samples'])||-0xf24+0x247d*0x1+-0xd59,'distribution':'lambert','rect':_0x5edc34,'seamPixels':_0x56a0a7}),G['popGpuMark'+'er'](_0x1b3bca),G['popGpuMark'+'er'](_0x1b3bca),_0x552ab8;}static['generatePr'+'efilteredA'+'tlas'](_0x5f8c89,_0x32e209){const _0x5ac301=_0x5f8c89[0x3*-0x173+-0x2376+0x27cf]['device'],_0x576b66=_0x5f8c89[0xae3+-0x1c28+0x1145]['format'],_0xc4f0fc=_0x5f8c89[-0x1667+-0x420+-0x1*-0x1a87]['type'];G['pushGpuMar'+'ker'](_0x5ac301,'genPrefilt'+'eredAtlas');const _0x332ca3=(_0x32e209==null?void(0x692*0x2+-0x12f*-0x8+-0x169c):_0x32e209['target'])||new ce(_0x5ac301,{'name':'envPrefilt'+'eredAtlas','width':(_0x32e209==null?void(0x11*0x36+-0x1*-0x181d+-0x1bb3):_0x32e209['size'])||-0x3b0+-0x30*0x2f+0xe80,'height':(_0x32e209==null?void(0x23d7+-0x1f*0x31+-0x1d*0x108):_0x32e209['size'])||0x26d0+0xec8+-0x2*0x19cc,'format':_0x576b66,'type':_0xc4f0fc,'projection':hm,'addressU':oe,'addressV':oe,'mipmaps':!(-0x16fe+0x3*0xc13+-0xd3a)});G['pushGpuMar'+'ker'](_0x5ac301,'mipmaps');const _0x464bef=_0x332ca3['width']/(-0x2f*-0x2+0x2304+-0x2162),_0x17f955=new ee(0x11ed+-0xa6f+-0x77e,0x229d*0x1+0x1d24+0x3fc1*-0x1,(0x80*-0xc+-0x1f0f*-0x1+-0x170f)*_0x464bef,(-0x175*-0x10+0x23ff+-0x1*0x3a4f)*_0x464bef),_0x58cc82=Cd(0x8ce+-0xa0e+0x340);for(let _0x50a0bb=-0x1*0x1837+0xb*0x2b6+0x5*-0x11f;_0x50a0bb<_0x58cc82;++_0x50a0bb)ii(_0x5f8c89[-0x1*-0x277+0x1*-0x347+-0x2*-0x68],_0x332ca3,{'numSamples':0x1,'rect':_0x17f955,'seamPixels':_0x464bef}),_0x17f955['x']+=_0x17f955['w'],_0x17f955['y']+=_0x17f955['w'],_0x17f955['z']=Math['max'](-0x2475*0x1+-0x1e8a+0x4300*0x1,Math['floor'](_0x17f955['z']*(0xfc+0x1c99*-0x1+-0x1b9d*-0x1+0.5))),_0x17f955['w']=Math['max'](-0x2eb+0x3f*-0x21+0xb*0x101,Math['floor'](_0x17f955['w']*(-0x685*-0x1+-0x1*-0x62f+-0xcb4+0.5)));G['popGpuMark'+'er'](_0x5ac301),G['pushGpuMar'+'ker'](_0x5ac301,'reflection'+'s'),_0x17f955['set'](-0x1495+-0x2b*-0x1d+0x1*0xfb6,(0x7*-0x119+0x761*0x5+-0x1c36)*_0x464bef,(0x11*0xe5+0x10bd+-0x22*0xe9)*_0x464bef,(0xd2b*0x2+-0x1*-0x1139+-0x49*0x97)*_0x464bef);for(let _0x50a1ec=0xae2+0x269*0xb+-0x2564;_0x50a1ec<_0x5f8c89['length'];++_0x50a1ec)ii(_0x5f8c89[_0x50a1ec],_0x332ca3,{'numSamples':0x1,'rect':_0x17f955,'seamPixels':_0x464bef}),_0x17f955['y']+=_0x17f955['w'],_0x17f955['z']=Math['max'](-0x1*0x2476+-0x1*-0x9c6+0x1*0x1ab1,Math['floor'](_0x17f955['z']*(-0x1b6b+-0x364*-0x6+-0x1*-0x713+0.5))),_0x17f955['w']=Math['max'](-0x3b0+-0x1c2d*0x1+0x1fde*0x1,Math['floor'](_0x17f955['w']*(-0x1fae+-0x1801+0x37af+0.5)));return G['popGpuMark'+'er'](_0x5ac301),G['pushGpuMar'+'ker'](_0x5ac301,'ambient'),_0x17f955['set']((-0x2594+0x185a*-0x1+0x3e6e)*_0x464bef,(-0x13f*0x1+-0x1*-0x713+-0x454)*_0x464bef,(0x1*-0x2531+0x1*0x9b1+0x1bc0)*_0x464bef,(0x10d1*0x2+-0xe*-0x6a+0x1a*-0x183)*_0x464bef),_0x32e209!=null&&_0x32e209['legacyAmbi'+'ent']?ii(_0x5f8c89[-0xda*-0x16+0x1dcd+-0x3084],_0x332ca3,{'numSamples':0x1,'rect':_0x17f955,'seamPixels':_0x464bef}):ii(_0x5f8c89[0x28*-0x2b+0x1169+-0xab1],_0x332ca3,{'numSamples':(_0x32e209==null?void(-0x75+-0x20c2+-0xb*-0x305):_0x32e209['numSamples'])||-0xa88+0x3a9*-0x7+0x2c27,'distribution':'lambert','rect':_0x17f955,'seamPixels':_0x464bef}),G['popGpuMark'+'er'](_0x5ac301),G['popGpuMark'+'er'](_0x5ac301),_0x332ca3;}}const GC={'aoPS':Et,'clearCoatPS':Et,'clearCoatGlossPS':cd,'clearCoatNormalPS':Et,'diffusePS':Et,'diffuseDetailMapPS':Et,'emissivePS':Et,'glossPS':cd,'lightmapDirPS':Mi,'lightmapSinglePS':Mi,'metalnessPS':Et,'normalMapPS':Et,'normalDetailMapPS':Et,'opacityPS':Et,'parallaxPS':Et,'sheenPS':Et,'sheenGlossPS':cd,'specularPS':Et,'specularityFactorPS':Et,'thicknessPS':Et,'transmissionPS':Et,'normalVertexPS':Mi,'startPS':Mi,'ambientConstantPS':Se,'ambientEnvPS':Se,'ambientSHPS':Se,'aoDiffuseOccPS':Se,'aoSpecOccPS':Se,'aoSpecOccConstPS':Se,'aoSpecOccConstSimplePS':Se,'aoSpecOccSimplePS':Se,'clusteredLightPS':Se,'clusteredLightShadowPS':Se,'combinePS':Se,'falloffInvSquaredPS':Se,'falloffLinearPS':Se,'lightDiffuseLambertPS':Se,'lightSheenPS':Se,'lightSpecularAnisoGGXPS':Se,'lightSpecularBlinnPS':Se,'ltcPS':Se,'reflDirPS':Se,'reflDirAnisoPS':Se,'reflectionCCPS':Se,'reflectionCubePS':Se,'reflectionEnvPS':Se,'reflectionEnvHQPS':Se,'reflectionSheenPS':Se,'reflectionSpherePS':Se,'shadowCommonPS':Se,'shadowCoordPS':Se,'shadowCoordPerspZBufferPS':Se,'shadowEVSMPS':Se,'shadowEVSMnPS':Se,'shadowStandardPS':Se,'shadowStandardGL2PS':Se,'spotPS':Se,'TBNPS':Se,'TBNObjectSpacePS':Se,'TBNderivativePS':Se,'endPS':pi,'metalnessModulatePS':pi,'outputAlphaPS':pi,'outputAlphaPremulPS':pi,'fresnelSchlickPS':pi,'iridescenceDiffractionPS':pi,'lightmapAddPS':pi,'lightmapDirAddPS':pi,'refractionCubePS':cm,'refractionDynamicPS':cm},HC={'ambientPrefilteredCubePS':Gi,'ambientPrefilteredCubeLodPS':Gi,'dpAtlasQuadPS':Gi,'genParaboloidPS':Gi,'prefilterCubemapPS':Gi,'reflectionDpAtlasPS':Gi,'reflectionPrefilteredCubePS':Gi,'reflectionPrefilteredCubeLodPS':Gi,'refractionPS':gr,'combineClearCoatPS':gr,'combineDiffusePS':gr,'combineDiffuseSpecularPS':gr,'combineDiffuseSpecularNoReflPS':gr,'combineDiffuseSpecularNoReflSeparateAmbientPS':gr,'combineDiffuseSpecularOldPS':gr,'lightmapSingleVertPS':Mi,'normalMapFastPS':Mi,'specularAaNonePS':Mi,'specularAaToksvigPS':Mi,'specularAaToksvigFastPS':Mi,'skyboxEnvPS':dm,'skyboxHDRPS':dm,'shadowVSM8PS':bv,'fogExpPS':An,'fogExp2PS':An,'fogLinearPS':An,'fogNonePS':An,'gamma1_0PS':An,'gamma2_2PS':An},WC=(_0x51c4f4,_0x1fdcd2)=>{const _0x594692=_0x51c4f4['split']('.')['map'](_0x566f23=>parseInt(_0x566f23,-0x201f+0x2225+0x7f*-0x4)),_0x427b44=_0x1fdcd2['split']('.')['map'](_0x2beba1=>parseInt(_0x2beba1,-0x1fcd+0xe1b*-0x1+0x16f9*0x2));return _0x594692[0x7*0x412+0x44f*-0x5+-0x3*0x251]<_0x427b44[0x90*-0x20+0x182b*-0x1+-0x7f*-0x55]||_0x594692[-0xe5*0x17+-0xc6*0x23+-0x1*-0x2fa5]===_0x427b44[-0xb08+-0x10b9+-0x1*-0x1bc1]&&_0x594692[-0x5*-0x6d4+-0x18b3*0x1+0x4b8*-0x2]<_0x427b44[-0x62f*-0x4+0x1*-0x2376+0xabb];},$C=_0x438147=>{const _0x179d0b=_0x438147['APIVersion'];for(const _0x3daed0 in _0x438147)if(_0x3daed0!=='APIVersion'){if(j['hasOwnProp'+'erty'](_0x3daed0)){const _0x2fdcd5=GC[_0x3daed0];_0x2fdcd5&&(!_0x179d0b||WC(_0x179d0b,_0x2fdcd5))&&b['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x3daed0+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x2fdcd5+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x179d0b||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x23e139=HC[_0x3daed0];_0x23e139?b['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x3daed0+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x23e139+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):b['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x3daed0+('\x27\x20is\x20not\x20s'+'upported.'));}}};class rr{constructor(){c(this,'code','');}['append'](..._0x10360a){_0x10360a['forEach'](_0x56b14b=>{_0x56b14b['endsWith']('\x0a')?this['code']+=_0x56b14b:this['code']+=_0x56b14b+'\x0a';});}['prepend'](..._0x52b42a){_0x52b42a['forEach'](_0xa05223=>{_0xa05223['endsWith']('\x0a')?this['code']=_0xa05223+this['code']:this['code']=_0xa05223+'\x0a'+this['code'];});}}const Md={'vertex_normal':ss,'vertex_tangent':si,'vertex_texCoord0':ds,'vertex_texCoord1':yn,'vertex_color':It,'vertex_boneWeights':ei,'vertex_boneIndices':Jt},c_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class qC{constructor(_0x56467a,_0x51054a){if(this['device']=_0x56467a,this['options']=_0x51054a,this['attributes']={'vertex_position':Xe},_0x51054a['userAttrib'+'utes']){for(const [_0x42df59,_0x438e34]of Object['entries'](_0x51054a['userAttrib'+'utes']))this['attributes'][_0x438e34]=_0x42df59;}if(_0x51054a['chunks']){const _0x39c252=_0x51054a['chunks'];$C(_0x39c252),this['chunks']=Object['create'](j);for(const _0x26ad97 in j)if(_0x39c252['hasOwnProp'+'erty'](_0x26ad97)){const _0x29cad1=_0x39c252[_0x26ad97];for(const _0x5c4240 in Md)Md['hasOwnProp'+'erty'](_0x5c4240)&&_0x29cad1['indexOf'](_0x5c4240)>=-0x195+0x24b+-0xb6&&(this['attributes'][_0x5c4240]=Md[_0x5c4240]);this['chunks'][_0x26ad97]=_0x29cad1;}}else this['chunks']=j;this['shaderPass'+'Info']=ti['get'](this['device'])['getByIndex'](_0x51054a['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x51054a['lights']['length']>-0x43*0x5d+0x99*0x36+-0x1*0x7ef||_0x51054a['dirLightMa'+'pEnabled']||_0x51054a['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x51054a['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x51054a['useSpecula'+'r']||_0x51054a['ambientSH']||_0x51054a['useHeights']||_0x51054a['enableGGXS'+'pecular']||_0x51054a['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x51054a['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x51054a['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x51054a['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x51054a['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x404877,_0x5e9104,_0x4660d9){return _0x404877+=_0x5e9104['baseVS'],(_0x4660d9['nineSliced'+'Mode']===ht||_0x4660d9['nineSliced'+'Mode']===st)&&(_0x404877+=_0x5e9104['baseNineSl'+'icedVS']),_0x404877;}['_setMapTra'+'nsform'](_0x11f719,_0x24deb5,_0xbcf674,_0x55f950){const _0x39e618=_0xbcf674+_0x55f950*(0x1*-0x1429+-0x1438+0x7*0x5d3);if(!_0x11f719[-0x320*-0x7+-0x2*-0xb6b+-0x2cb3][_0x39e618]){const _0xb766e5='texture_'+_0x24deb5+('MapTransfo'+'rm');_0x11f719[0xbbc+-0x15bc+0xa00]+='uniform\x20ve'+'c3\x20'+_0xb766e5+'0;\x0a',_0x11f719[0x1e64+0x602+0x2466*-0x1]+='uniform\x20ve'+'c3\x20'+_0xb766e5+'1;\x0a',_0x11f719[-0x25a4+0x2303+0x2a2]+='varying\x20ve'+'c2\x20vUV'+_0x55f950+'_'+_0xbcf674+';\x0a',_0x11f719[-0x11de+-0xb*0x24+0x4*0x4db]+='\x20\x20\x20vUV'+_0x55f950+'_'+_0xbcf674+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x55f950+',\x201),\x20'+_0xb766e5+('0),\x20dot(ve'+'c3(uv')+_0x55f950+',\x201),\x20'+_0xb766e5+'1));\x0a',_0x11f719[0x1a5*0xd+0x1ac*0x6+-0x1f66][_0x39e618]=!(0x2*0xe3f+0x806+-0x2484);}return _0x11f719;}['_fsGetBase'+'Code'](){const _0x34244f=this['options'],_0xb29da1=this['chunks'];let _0x5327f7=this['chunks']['basePS'];return _0x34244f['nineSliced'+'Mode']===ht?_0x5327f7+=_0xb29da1['baseNineSl'+'icedPS']:_0x34244f['nineSliced'+'Mode']===st&&(_0x5327f7+=_0xb29da1['baseNineSl'+'icedTiledP'+'S']),_0x5327f7;}['_fsGetStar'+'tCode'](_0x4bf1b9,_0x1217e3,_0x4e3c93,_0x3db9eb){let _0x5cf608=_0x4e3c93['startPS'];return _0x3db9eb['nineSliced'+'Mode']===ht?_0x5cf608+=_0x4e3c93['startNineS'+'licedPS']:_0x3db9eb['nineSliced'+'Mode']===st&&(_0x5cf608+=_0x4e3c93['startNineS'+'licedTiled'+'PS']),_0x5cf608;}['_getLightS'+'ourceShape'+'String'](_0x22b36f){switch(_0x22b36f){case Gb:return'Rect';case Hb:return'Disk';case Wb:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x1d4354,_0x5e8c2c,_0x21946b){const _0x326517=this['device'],_0x5d1d39=this['options'],_0x2c46dc=this['chunks'];let _0x297a36='',_0x1c5683='',_0x3522f5='';_0x297a36=this['_vsAddBase'+'Code'](_0x297a36,_0x2c46dc,_0x5d1d39),_0x1c5683+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x3522f5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x1c5683+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===j['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=lp,this['attributes']['instance_l'+'ine2']=Sa,this['attributes']['instance_l'+'ine3']=hp,this['attributes']['instance_l'+'ine4']=va),_0x297a36+=_0x2c46dc['transformV'+'S'],this['needsNorma'+'l']&&(_0x297a36+=_0x2c46dc['normalCore'+'VS'],_0x297a36+=_0x2c46dc['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=ss,_0x1c5683+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0x5d1d39['reflection'+'Source']==='sphereMap'&&_0x326517['fragmentUn'+'iformsCoun'+'t']<=-0x29+-0x854+0x88d&&(_0x297a36+=_0x2c46dc['viewNormal'+'VS'],_0x1c5683+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0x5d1d39['hasTangent'+'s']&&(_0x5d1d39['useHeights']||_0x5d1d39['useNormals']||_0x5d1d39['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=si,_0x297a36+=_0x2c46dc['tangentBin'+'ormalVS'],_0x1c5683+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x1c5683+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0x5d1d39['enableGGXS'+'pecular']&&(_0x1c5683+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x4b769d=-0x2*-0x19d+-0x1026+-0x5*-0x296;for(let _0x52b63b=0xac8+0x1e03+-0x28cb*0x1;_0x52b63b<_0x4b769d;_0x52b63b++)_0x1d4354[_0x52b63b]&&(this['attributes']['vertex_tex'+'Coord'+_0x52b63b]='TEXCOORD'+_0x52b63b,_0x297a36+=_0x2c46dc['uv'+_0x52b63b+'VS'],_0x1c5683+='\x20\x20\x20vec2\x20uv'+_0x52b63b+'\x20=\x20getUv'+_0x52b63b+'();\x0a'),_0x5e8c2c[_0x52b63b]&&(_0x1c5683+='\x20\x20\x20vUv'+_0x52b63b+'\x20=\x20uv'+_0x52b63b+';\x0a');const _0x5b13cf=[_0x297a36,this['varyings'],_0x1c5683,[]];_0x21946b['forEach'](_0xbc3187=>{this['_setMapTra'+'nsform'](_0x5b13cf,_0xbc3187['name'],_0xbc3187['id'],_0xbc3187['uv']);}),_0x297a36=_0x5b13cf[0x1c22+0x1df6+-0x3a18],this['varyings']=_0x5b13cf[-0xd9b+-0x1b9a+-0xa*-0x41f],_0x1c5683=_0x5b13cf[-0x9*-0x40f+0x1795*-0x1+-0x90*0x17],_0x5d1d39['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=It,_0x1c5683+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0x5d1d39['useMsdf']&&_0x5d1d39['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Lo,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Fo,_0x1c5683+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x297a36+=_0x2c46dc['msdfVS']),(_0x5d1d39['useMorphPo'+'sition']||_0x5d1d39['useMorphNo'+'rmal'])&&(_0x3522f5+='#define\x20MO'+'RPHING\x0a',_0x5d1d39['useMorphTe'+'xtureBased'+'Int']&&(_0x3522f5+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0x5d1d39['useMorphPo'+'sition']&&(_0x3522f5+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0x5d1d39['useMorphNo'+'rmal']&&(_0x3522f5+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=va),_0x5d1d39['skin']?(this['attributes']['vertex_bon'+'eIndices']=Jt,_0x5d1d39['batch']?_0x3522f5+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=ei,_0x3522f5+='#define\x20SK'+'IN\x0a')):_0x5d1d39['useInstanc'+'ing']&&(_0x3522f5+='#define\x20IN'+'STANCING\x0a'),_0x5d1d39['screenSpac'+'e']&&(_0x3522f5+='#define\x20SC'+'REENSPACE\x0a'),_0x5d1d39['pixelSnap']&&(_0x3522f5+='#define\x20PI'+'XELSNAP\x0a'),_0x297a36+='\x0a',_0x297a36+=_0x2c46dc['startVS'],_0x297a36+=_0x1c5683,_0x297a36+=_0x2c46dc['endVS'],_0x297a36+='}',Object['keys'](c_)['forEach'](_0x12ce24=>{_0x297a36['indexOf'](_0x12ce24)>=-0x4*-0x67a+0x24f7*-0x1+0xb0f*0x1&&(this['varyings']+='varying\x20'+c_[_0x12ce24]+'\x20'+_0x12ce24+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x12ce24['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x3522f5+this['varyings']+_0x297a36;}['_fsGetBegi'+'nCode'](){let _0x485e78='';for(let _0x2a9297=-0x5b*0x67+0xade*-0x1+0x2f7b;_0x2a9297<this['defines']['length'];_0x2a9297++)_0x485e78+='#define\x20'+this['defines'][_0x2a9297]+'\x0a';return _0x485e78;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x4d0ae6=this['_fsGetBegi'+'nCode']();return _0x4d0ae6+=this['varyings'],_0x4d0ae6+=this['varyingDef'+'ines'],_0x4d0ae6+=this['frontendDe'+'cl'],_0x4d0ae6+=this['frontendCo'+'de'],_0x4d0ae6+=Nt['begin'](),_0x4d0ae6+=this['frontendFu'+'nc'],_0x4d0ae6+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x4d0ae6+=Nt['end'](),_0x4d0ae6;}['_fsGetPreP'+'assCode'](){let _0x5ee12c=this['_fsGetBegi'+'nCode']();return _0x5ee12c+=this['varyings'],_0x5ee12c+=this['varyingDef'+'ines'],_0x5ee12c+=this['chunks']['floatAsUin'+'tPS'],_0x5ee12c+=this['frontendDe'+'cl'],_0x5ee12c+=this['frontendCo'+'de'],_0x5ee12c+=Nt['begin'](),_0x5ee12c+=this['frontendFu'+'nc'],_0x5ee12c+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x5ee12c+=Nt['end'](),_0x5ee12c;}['_fsGetShad'+'owPassCode'](){const _0x3e493b=this['options'],_0x6ff35=this['chunks'],_0x53953e=this['varyings'],_0x321fda=this['shaderPass'+'Info']['lightType'];let _0x931dc4=this['shaderPass'+'Info']['shadowType'];_0x321fda!==le&&_0x3e493b['clusteredL'+'ightingEna'+'bled']&&(_0x931dc4===Wr||_0x931dc4===$r||_0x931dc4===Rs)&&(_0x931dc4=zt);const _0x52e81a=nr['get'](_0x931dc4);b['assert'](_0x52e81a);const _0x2e2dd8=(_0x52e81a==null?void(-0x167e+0x305*-0x9+-0x1*-0x31ab):_0x52e81a['vsm'])??!(-0x1*0x2245+-0x10ae+0xc*0x43f),_0x30f165=(_0x52e81a==null?void(0xfe*0x3+-0x60a*0x4+0x152e):_0x52e81a['pcss'])??!(0x1d01+-0x1e2c+0xf*0x14);let _0x384728=this['_fsGetBegi'+'nCode']();_0x931dc4===$r?_0x384728+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x931dc4===Wr&&(_0x384728+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x321fda!==le&&(_0x384728+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x384728+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x384728+=_0x53953e,_0x384728+=this['varyingDef'+'ines'],_0x384728+=this['frontendDe'+'cl'],_0x384728+=this['frontendCo'+'de'],_0x931dc4===Rs&&(_0x384728+=j['linearizeD'+'epthPS']),_0x384728+=Nt['begin'](),_0x384728+=this['frontendFu'+'nc'];const _0x3da25a=_0x321fda===le||!_0x2e2dd8&&_0x321fda===Fe;let _0x236d2e=!(-0x2503+-0x1dfe+0x4302);return _0x3da25a?(_0x384728+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x30f165&&_0x321fda!==le&&(_0x384728+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x384728+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x236d2e=!(-0x8*-0x13d+0x7e*0x2+-0xae4)),_0x2e2dd8?_0x384728+=_0x6ff35['storeEVSMP'+'S']:_0x30f165?_0x384728+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x236d2e&&(_0x384728+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x384728+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x384728+=Nt['end'](),_0x384728;}['_fsGetLitP'+'assCode'](){var _0x216a94;const _0x3611e3=this['device'],_0x48154e=this['options'],_0x34baca=this['chunks'],_0x396df6=new rr(),_0x11b5e3=new rr(),_0x3047eb=new rr(),_0x8df621=new rr();_0x48154e['opacityFad'+'esSpecular']===!(-0x1*0x7f+0x17d1*-0x1+-0x3*-0x81b)&&_0x396df6['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x48154e['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x48154e['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x48154e['fresnelMod'+'el']>-0xe37+-0x19d8+-0x5b9*-0x7&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x48154e['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x48154e['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x15e215=[];let _0x5df2ed=0x1019+-0x255d*-0x1+-0x3576,_0x2d4f0d=!(-0xd78+0x261*0x3+0x656),_0x561b02=!(-0x7*-0x1d8+-0x18e3*0x1+0xbfc),_0x142579=!(0x1171+-0xfc1+-0x1af*0x1),_0x50956e=_0x48154e['lights']['some'](_0x4c7d0c=>_0x4c7d0c['_shape']&&_0x4c7d0c['_shape']!==Tt);_0x48154e['clusteredL'+'ightingEna'+'bled']&&_0x48154e['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0x50956e=!(0x1f3b+0x16*-0x29+-0x29*0xad)),(_0x50956e||_0x48154e['clusteredL'+'ightingEna'+'bled'])&&(_0x396df6['append']('#define\x20AR'+'EA_LIGHTS'),_0x396df6['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x396df6['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x4dda7d=-0xd13+-0x8*-0x296+-0x79d;_0x4dda7d<_0x48154e['lights']['length'];_0x4dda7d++){const _0x30e6cd=_0x48154e['lights'][_0x4dda7d],_0x2d5eb2=_0x30e6cd['_type'];if(_0x48154e['clusteredL'+'ightingEna'+'bled']&&_0x2d5eb2!==le)continue;const _0x8ac295=_0x50956e&&_0x30e6cd['_shape']?_0x30e6cd['_shape']:Tt;_0x396df6['append']('uniform\x20ve'+'c3\x20light'+_0x4dda7d+'_color;'),_0x30e6cd['_shadowTyp'+'e']===Rs&&_0x30e6cd['castShadow'+'s']&&!_0x48154e['noShadow']&&(_0x396df6['append']('uniform\x20fl'+'oat\x20light'+_0x4dda7d+('_shadowSea'+'rchArea;')),_0x396df6['append']('uniform\x20ve'+'c4\x20light'+_0x4dda7d+('_cameraPar'+'ams;')),_0x2d5eb2===le&&_0x396df6['append']('uniform\x20ve'+'c4\x20light'+_0x4dda7d+('_softShado'+'wParams;'))),_0x2d5eb2===le?_0x396df6['append']('uniform\x20ve'+'c3\x20light'+_0x4dda7d+('_direction'+';')):(_0x396df6['append']('uniform\x20ve'+'c3\x20light'+_0x4dda7d+'_position;'),_0x396df6['append']('uniform\x20fl'+'oat\x20light'+_0x4dda7d+'_radius;'),_0x2d5eb2===Fe&&(_0x396df6['append']('uniform\x20ve'+'c3\x20light'+_0x4dda7d+('_direction'+';')),_0x396df6['append']('uniform\x20fl'+'oat\x20light'+_0x4dda7d+('_innerCone'+'Angle;')),_0x396df6['append']('uniform\x20fl'+'oat\x20light'+_0x4dda7d+('_outerCone'+'Angle;')))),_0x8ac295!==Tt&&(_0x2d5eb2===le&&_0x396df6['append']('uniform\x20ve'+'c3\x20light'+_0x4dda7d+'_position;'),_0x396df6['append']('uniform\x20ve'+'c3\x20light'+_0x4dda7d+('_halfWidth'+';')),_0x396df6['append']('uniform\x20ve'+'c3\x20light'+_0x4dda7d+('_halfHeigh'+'t;'))),_0x30e6cd['castShadow'+'s']&&!_0x48154e['noShadow']&&(_0x396df6['append']('uniform\x20ma'+'t4\x20light'+_0x4dda7d+('_shadowMat'+'rix;')),_0x396df6['append']('uniform\x20fl'+'oat\x20light'+_0x4dda7d+('_shadowInt'+'ensity;')),_0x2d5eb2===le&&(_0x396df6['append']('uniform\x20ma'+'t4\x20light'+_0x4dda7d+('_shadowMat'+'rixPalette'+'[4];')),_0x396df6['append']('uniform\x20ve'+'c4\x20light'+_0x4dda7d+('_shadowCas'+'cadeDistan'+'ces;')),_0x396df6['append']('uniform\x20in'+'t\x20light'+_0x4dda7d+('_shadowCas'+'cadeCount;')),_0x396df6['append']('uniform\x20fl'+'oat\x20light'+_0x4dda7d+('_shadowCas'+'cadeBlend;'))),_0x396df6['append']('uniform\x20ve'+'c4\x20light'+_0x4dda7d+('_shadowPar'+'ams;')),_0x2d5eb2===le&&(_0x2d4f0d=!(-0x12ba+-0xe94+0x214e)),_0x2d5eb2===Le?_0x396df6['append']('uniform\x20'+(_0x30e6cd['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x4dda7d+('_shadowMap'+';')):_0x396df6['append']('uniform\x20'+(_0x30e6cd['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x4dda7d+('_shadowMap'+';')),_0x5df2ed++,_0x15e215[_0x30e6cd['_shadowTyp'+'e']]=!(0x871+-0x1c7f+-0x2*-0xa07),_0x30e6cd['_isVsm']&&(_0x561b02=!(-0xcd1+-0x1*0x2439+0x310a*0x1)),_0x30e6cd['_shadowTyp'+'e']===Rs&&(_0x142579=!(0x1615+0x2*-0xbee+0x1c7))),_0x30e6cd['_cookie']&&(_0x30e6cd['_cookie']['_cubemap']?_0x2d5eb2===Le&&(_0x396df6['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x4dda7d+'_cookie;'),_0x396df6['append']('uniform\x20fl'+'oat\x20light'+_0x4dda7d+('_cookieInt'+'ensity;')),(!_0x30e6cd['castShadow'+'s']||_0x48154e['noShadow'])&&_0x396df6['append']('uniform\x20ma'+'t4\x20light'+_0x4dda7d+('_shadowMat'+'rix;'))):_0x2d5eb2===Fe&&(_0x396df6['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x4dda7d+'_cookie;'),_0x396df6['append']('uniform\x20fl'+'oat\x20light'+_0x4dda7d+('_cookieInt'+'ensity;')),(!_0x30e6cd['castShadow'+'s']||_0x48154e['noShadow'])&&_0x396df6['append']('uniform\x20ma'+'t4\x20light'+_0x4dda7d+('_shadowMat'+'rix;')),_0x30e6cd['_cookieTra'+'nsform']&&(_0x396df6['append']('uniform\x20ve'+'c4\x20light'+_0x4dda7d+('_cookieMat'+'rix;')),_0x396df6['append']('uniform\x20ve'+'c2\x20light'+_0x4dda7d+('_cookieOff'+'set;')))));}const _0xf861cb=this['needsNorma'+'l']&&(_0x48154e['useNormals']||_0x48154e['useClearCo'+'atNormals']||_0x48154e['enableGGXS'+'pecular']&&!_0x48154e['useHeights']);if(_0xf861cb&&(_0x48154e['hasTangent'+'s']?_0x11b5e3['append'](_0x34baca['TBNPS']):_0x48154e['useNormals']||_0x48154e['useClearCo'+'atNormals']?_0x11b5e3['append'](_0x34baca['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x11b5e3['append'](_0x34baca['TBNObjectS'+'pacePS']),_0x48154e['twoSidedLi'+'ghting']&&_0x11b5e3['append'](_0x34baca['twoSidedLi'+'ghtingPS'])),_0x11b5e3['append'](_0x34baca['sphericalP'+'S']),_0x11b5e3['append'](_0x34baca['decodePS']),_0x11b5e3['append'](_0x34baca['gammaPS']),_0x11b5e3['append'](_0x34baca['tonemappin'+'gPS']),_0x11b5e3['append'](_0x34baca['fogPS']),_0x11b5e3['append'](this['frontendCo'+'de']),_0x48154e['useCubeMap'+'Rotation']&&_0x396df6['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x11b5e3['append'](_0x34baca['cubeMapRot'+'atePS']),_0x11b5e3['append'](_0x48154e['cubeMapPro'+'jection']>0x1*0x1dad+0x1f4a+0x3cf7*-0x1?_0x34baca['cubeMapPro'+'jectBoxPS']:_0x34baca['cubeMapPro'+'jectNonePS']),_0x11b5e3['append'](_0x48154e['skyboxInte'+'nsity']?_0x34baca['envMultipl'+'yPS']:_0x34baca['envConstPS'])),(this['lighting']&&_0x48154e['useSpecula'+'r']||this['reflection'+'s'])&&(_0x48154e['useMetalne'+'ss']&&_0x11b5e3['append'](_0x34baca['metalnessM'+'odulatePS']),_0x48154e['fresnelMod'+'el']===Tp&&_0x11b5e3['append'](_0x34baca['fresnelSch'+'lickPS']),_0x48154e['useIridesc'+'ence']&&_0x11b5e3['append'](_0x34baca['iridescenc'+'eDiffracti'+'onPS'])),_0x48154e['useAo'])switch(_0x11b5e3['append'](_0x34baca['aoDiffuseO'+'ccPS']),_0x48154e['occludeSpe'+'cular']){case Vo:_0x11b5e3['append'](_0x48154e['occludeSpe'+'cularFloat']?_0x34baca['aoSpecOccS'+'implePS']:_0x34baca['aoSpecOccC'+'onstSimple'+'PS']);break;case Bu:_0x11b5e3['append'](_0x48154e['occludeSpe'+'cularFloat']?_0x34baca['aoSpecOccP'+'S']:_0x34baca['aoSpecOccC'+'onstPS']);break;}_0x48154e['reflection'+'Source']==='envAtlasHQ'?(_0x11b5e3['append'](_0x34baca['envAtlasPS']),_0x11b5e3['append'](_0x34baca['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Ds['decodeFunc'](_0x48154e['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x48154e['reflection'+'Encoding'])))):_0x48154e['reflection'+'Source']==='envAtlas'?(_0x11b5e3['append'](_0x34baca['envAtlasPS']),_0x11b5e3['append'](_0x34baca['reflection'+'EnvPS']['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x48154e['reflection'+'Encoding'])))):_0x48154e['reflection'+'Source']==='cubeMap'?_0x11b5e3['append'](_0x34baca['reflection'+'CubePS']['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x48154e['reflection'+'Encoding']))):_0x48154e['reflection'+'Source']==='sphereMap'&&_0x11b5e3['append'](_0x34baca['reflection'+'SpherePS']['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x48154e['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x48154e['useClearCo'+'at']&&_0x11b5e3['append'](_0x34baca['reflection'+'CCPS']),_0x48154e['useSheen']&&_0x11b5e3['append'](_0x34baca['reflection'+'SheenPS'])),_0x48154e['useRefract'+'ion']&&(_0x48154e['useDynamic'+'Refraction']?(_0x48154e['dispersion']&&(_0x396df6['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x396df6['append']('#define\x20DI'+'SPERSION\x0a')),_0x11b5e3['append'](_0x34baca['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x11b5e3['append'](_0x34baca['refraction'+'CubePS'])),_0x48154e['useSheen']&&_0x11b5e3['append'](_0x34baca['lightSheen'+'PS']),_0x48154e['clusteredL'+'ightingEna'+'bled']&&(_0x11b5e3['append'](_0x34baca['clusteredL'+'ightUtilsP'+'S']),_0x48154e['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x11b5e3['append'](_0x34baca['clusteredL'+'ightCookie'+'sPS']),_0x48154e['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x48154e['noShadow']&&(_0x15e215[zt]=!(0x2*0x1347+-0xb*0x289+-0xaab),_0x15e215[fh]=!(-0x252d*0x1+-0x2*-0x752+-0x783*-0x3),_0x15e215[Rs]=!(0x1f*0x8e+0x1*0x181d+-0x2d*0xeb))),(_0x5df2ed>0x1bfe+-0x20f*0x1+-0x19ef||_0x48154e['clusteredL'+'ightingEna'+'bled'])&&(_0x2d4f0d&&_0x11b5e3['append'](_0x34baca['shadowCasc'+'adesPS']),(_0x15e215[Gh]||_0x15e215[zt]||_0x15e215[Hh]||_0x15e215[Wh])&&_0x11b5e3['append'](_0x34baca['shadowStan'+'dardPS']),(_0x15e215[fh]||_0x15e215[ku])&&_0x11b5e3['append'](_0x34baca['shadowStan'+'dardGL2PS']),_0x561b02&&(_0x11b5e3['append'](_0x34baca['shadowVSM_'+'commonPS']),_0x15e215[Wr]&&_0x11b5e3['append'](_0x34baca['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x15e215[$r]&&_0x11b5e3['append'](_0x3611e3['extTexture'+'FloatLinea'+'r']?_0x34baca['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x34baca['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x142579&&(_0x11b5e3['append'](_0x34baca['linearizeD'+'epthPS']),_0x11b5e3['append'](_0x34baca['shadowPCSS'+'PS']),_0x11b5e3['append'](_0x34baca['shadowSoft'+'PS']))),_0x48154e['enableGGXS'+'pecular']&&_0x11b5e3['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x11b5e3['append'](_0x34baca['lightDiffu'+'seLambertP'+'S']),(_0x50956e||_0x48154e['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x11b5e3['append'](_0x34baca['ltcPS']));let _0x101db7=!(-0x18da*0x1+-0x1b*-0x129+0x19e*-0x4);_0x48154e['useSpecula'+'r']&&(this['lighting']&&_0x11b5e3['append'](_0x48154e['enableGGXS'+'pecular']?_0x34baca['lightSpecu'+'larAnisoGG'+'XPS']:_0x34baca['lightSpecu'+'larBlinnPS']),!_0x48154e['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x48154e['diffuseMap'+'Enabled']&&(_0x396df6['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x396df6['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x101db7=!(-0x302+-0x1868+0x2*0xdb5))),_0x11b5e3['append'](_0x34baca['combinePS']),_0x48154e['lightMapEn'+'abled']&&_0x11b5e3['append'](_0x48154e['useSpecula'+'r']&&_0x48154e['dirLightMa'+'pEnabled']?_0x34baca['lightmapDi'+'rAddPS']:_0x34baca['lightmapAd'+'dPS']);const _0x437297=!_0x48154e['lightMapEn'+'abled']||_0x48154e['lightMapWi'+'thoutAmbie'+'nt'];_0x437297&&(_0x48154e['ambientSou'+'rce']==='ambientSH'?_0x11b5e3['append'](_0x34baca['ambientSHP'+'S']):_0x48154e['ambientSou'+'rce']==='envAtlas'?(_0x48154e['reflection'+'Source']!=='envAtlas'&&_0x48154e['reflection'+'Source']!=='envAtlasHQ'&&_0x11b5e3['append'](_0x34baca['envAtlasPS']),_0x11b5e3['append'](_0x34baca['ambientEnv'+'PS']['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x48154e['ambientEnc'+'oding'])))):_0x11b5e3['append'](_0x34baca['ambientCon'+'stantPS'])),_0x101db7||_0x396df6['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x48154e['useMsdf']&&(_0x48154e['msdfTextAt'+'tribute']||_0x396df6['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x11b5e3['append'](_0x34baca['msdfPS'])),this['needsNorma'+'l']&&(_0x11b5e3['append'](_0x34baca['viewDirPS']),_0x48154e['useSpecula'+'r']&&_0x11b5e3['append'](_0x48154e['enableGGXS'+'pecular']?_0x34baca['reflDirAni'+'soPS']:_0x34baca['reflDirPS']));let _0xd822b4=!(0x2672+-0x8b1+0x220*-0xe),_0x4340ee=!(-0x12b1*-0x2+-0xcf2+0x825*-0x3),_0x5b0158=!(0x4*0x19b+-0x1b7+0x2b*-0x1c),_0x5c83bc=!(-0x1da8+0x238f*-0x1+0x4138),_0x3eafe5=!(-0x3*0x9c5+-0x233+0x1f83*0x1),_0x302d9a;if(_0x48154e['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0x5c83bc=!(-0x1d1b+0x5d*0x37+0x8*0x124),_0xd822b4=!(0x9*-0x418+-0x242f+-0x5*-0xe9b),_0x4340ee=!(0x20fb*0x1+0x23ed+0xdc8*-0x5),_0x3eafe5=!(0x14dc+-0xc0e+-0x8ce),_0x11b5e3['append'](_0x34baca['floatUnpac'+'kingPS']),_0x48154e['lightMaskD'+'ynamic']&&_0x396df6['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x48154e['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x396df6['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x48154e['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x48154e['noShadow']){const _0x2e458c=(_0x216a94=nr['get'](_0x48154e['clusteredL'+'ightingSha'+'dowType']))==null?void(-0x1ef6+0x5d9+0x1*0x191d):_0x216a94['name'];b['assert'](_0x2e458c);const _0x2ae527=_0x2e458c['substring'](0x19fb+-0x8*0x428+0x745,-0x9ce+0xc42+-0x270);_0x396df6['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x396df6['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x2ae527);}_0x48154e['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x396df6['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x396df6['append'](C0['getShaderD'+'efines']()),_0x48154e['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x48154e['noShadow']&&_0x11b5e3['append'](_0x34baca['clusteredL'+'ightShadow'+'sPS']),_0x11b5e3['append'](_0x34baca['clusteredL'+'ightPS']);}if(_0x8df621['append'](this['_fsGetStar'+'tCode'](_0x8df621,_0x3611e3,_0x34baca,_0x48154e)),this['needsNorma'+'l']&&(_0x8df621['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x48154e['useHeights']||_0x48154e['useNormals'])&&_0x48154e['hasTangent'+'s']&&(_0x8df621['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x8df621['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x8df621['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0xf861cb&&(_0x8df621['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x48154e['twoSidedLi'+'ghting']&&_0x8df621['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x8df621['append'](this['frontendFu'+'nc']),_0x48154e['ssao']&&(_0x11b5e3['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x3047eb['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x48154e['useSpecula'+'r']&&_0x3047eb['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x48154e['useClearCo'+'at']&&_0x3047eb['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x48154e['useSpecula'+'r']||this['reflection'+'s'])&&(_0x48154e['useMetalne'+'ss']&&(_0x3047eb['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x3047eb['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x3047eb['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x48154e['useIridesc'+'ence']&&_0x3047eb['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x437297&&(_0x3047eb['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x48154e['useSpecula'+'r']&&_0x3047eb['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x48154e['separateAm'+'bient']&&_0x3047eb['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x101db7||_0x3047eb['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x48154e['useAo']&&!_0x48154e['occludeDir'+'ect']&&_0x3047eb['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x48154e['lightMapEn'+'abled']&&_0x3047eb['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x48154e['useClearCo'+'at']&&(_0x3047eb['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x48154e['fresnelMod'+'el']>0x176b+-0x9af+-0xdbc?(_0x3047eb['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x3047eb['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x3047eb['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x48154e['useSpecula'+'rityFactor']&&_0x3047eb['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x48154e['useSheen']&&_0x3047eb['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x3047eb['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x48154e['fresnelMod'+'el']>0x1673*0x1+0x18a*0x1+-0x17fd?_0x3047eb['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x3047eb['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x48154e['useSpecula'+'rityFactor']&&_0x3047eb['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0x50956e&&(_0x3047eb['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x48154e['useSpecula'+'r']&&_0x3047eb['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x3b62de=-0x80f*-0x1+-0x6*0xc5+-0x371;_0x3b62de<_0x48154e['lights']['length'];_0x3b62de++){const _0x1453dd=_0x48154e['lights'][_0x3b62de],_0xfaea45=_0x1453dd['_type'];if(_0x48154e['clusteredL'+'ightingEna'+'bled']&&_0xfaea45!==le)continue;_0x302d9a=!(0x235a+-0x1*-0x1dc5+0xa*-0x683);const _0x349cff=_0x50956e&&_0x1453dd['_shape']?_0x1453dd['shape']:Tt,_0x19f714=_0x50956e&&_0x1453dd['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x349cff):'';if(_0x349cff!==Tt&&_0x3047eb['append']('\x20\x20\x20\x20calc'+_0x19f714+('LightValue'+'s(light')+_0x3b62de+('_position,'+'\x20light')+_0x3b62de+('_halfWidth'+',\x20light')+_0x3b62de+('_halfHeigh'+'t);')),_0xfaea45===le?(_0x3047eb['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x3b62de+('_direction'+';')),_0x3047eb['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x1453dd['_cookie']&&(_0xfaea45===Fe&&!_0x1453dd['_cookie']['_cubemap']||_0xfaea45===Le&&_0x1453dd['_cookie']['_cubemap'])&&(_0x3eafe5=!(0x25*0xa7+0x435+-0x1c58),_0x302d9a=!(-0x1*0x14a3+-0x25e0+0x3a83)),_0x3047eb['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x3b62de+('_position)'+';')),_0xd822b4=!(0x1e7+0x89c+-0x1*0xa83),_0x302d9a&&(_0xfaea45===Fe?_0x3047eb['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x1453dd['_cookieFal'+'loff']?'':'Clip')+(_0x1453dd['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x3b62de+('_cookie,\x20l'+'ight')+_0x3b62de+('_shadowMat'+'rix,\x20light')+_0x3b62de+('_cookieInt'+'ensity')+(_0x1453dd['_cookieTra'+'nsform']?',\x20light'+_0x3b62de+('_cookieMat'+'rix,\x20light')+_0x3b62de+('_cookieOff'+'set'):'')+').'+_0x1453dd['_cookieCha'+'nnel']+';'):_0x3047eb['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x3b62de+('_cookie,\x20l'+'ight')+_0x3b62de+('_shadowMat'+'rix,\x20light')+_0x3b62de+('_cookieInt'+'ensity).')+_0x1453dd['_cookieCha'+'nnel']+';')),_0x349cff===Tt?_0x1453dd['_falloffMo'+'de']===Cp?(_0x3047eb['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x3b62de+('_radius,\x20d'+'LightDirW)'+';')),_0x4340ee=!(0x9ae*-0x4+-0x14d9+0x3*0x13db)):(_0x3047eb['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x3b62de+('_radius,\x20d'+'LightDirW)'+';')),_0x5b0158=!(-0x1*0x123+-0x5ad*-0x4+-0x1591)):(_0x3047eb['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x3b62de+('_radius,\x20d'+'LightDirW)'+';')),_0x5b0158=!(0x1671+-0x1554+0x13*-0xf)),_0x3047eb['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0xfaea45===Fe&&(_0x302d9a&&!_0x1453dd['_cookieFal'+'loff']||(_0x3047eb['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x3b62de+('_direction'+',\x20light')+_0x3b62de+('_innerCone'+'Angle,\x20lig'+'ht')+_0x3b62de+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0x5c83bc=!(0xc38+0x4*0x56c+-0x21e8)))),_0x349cff!==Tt?_0xfaea45===le?_0x3047eb['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x3047eb['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x19f714+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x3047eb['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x1453dd['castShadow'+'s']&&!_0x48154e['noShadow']){const _0x326a22=nr['get'](_0x1453dd['_shadowTyp'+'e']);b['assert'](_0x326a22);const _0xf346ef=_0x1453dd['_shadowTyp'+'e']===Rs,_0x4824e3=_0x326a22==null?void(-0x692+0x248f+-0x1dfd):_0x326a22['vsm'],_0x21443b=_0x326a22==null?void(0x2*0x69+-0x132e*-0x2+-0x272e):_0x326a22['pcf'];let _0x30a370=null,_0x320b68;switch(_0x1453dd['_shadowTyp'+'e']){case Wr:_0x30a370='VSM16',_0x320b68='5.54';break;case $r:_0x30a370='VSM32',_0x320b68='15.0';break;case Gh:case Hh:_0x30a370='PCF1x1';break;case fh:case ku:_0x30a370='PCF5x5';break;case Rs:_0x30a370='PCSS';break;case zt:case Wh:default:_0x30a370='PCF3x3';break;}if(_0x30a370!==null){_0x1453dd['_normalOff'+'setBias']&&!_0x1453dd['_isVsm']&&_0x11b5e3['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0xfaea45===le&&_0x11b5e3['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x21443b||_0xf346ef||_0x3611e3['isWebGPU'])&&_0x11b5e3['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0xfaea45===Le&&_0x11b5e3['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x32049c=_0x34baca['shadowSamp'+'leCoordPS'];_0x11b5e3['append'](_0x32049c['replace']('$LIGHT',_0x3b62de)),_0x11b5e3['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x11b5e3['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x11b5e3['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x11b5e3['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x1a01f8='light'+_0x3b62de+('_shadowMat'+'rix');_0xfaea45===le&&_0x1453dd['numCascade'+'s']>-0x1*-0x981+-0x6fd+-0x283&&(_0x3047eb['append']('int\x20cascad'+'eIndex'+_0x3b62de+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x3b62de+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x3b62de+('_shadowCas'+'cadeCount)'+';')),_0x1453dd['cascadeBle'+'nd']>-0x3d*-0x83+-0xb50+-0x13e7&&_0x3047eb['append']('cascadeInd'+'ex'+_0x3b62de+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x3b62de+',\x20light'+_0x3b62de+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x3b62de+('_shadowCas'+'cadeCount,'+'\x20light')+_0x3b62de+('_shadowCas'+'cadeBlend)'+';')),_0x3047eb['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x3b62de+'\x20=\x20light'+_0x3b62de+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x3b62de+'];'),_0x1a01f8='cascadeSha'+'dowMat'+_0x3b62de),_0x3047eb['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x3b62de+'('+_0x1a01f8+',\x20light'+_0x3b62de+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0xfaea45===le&&_0x3047eb['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x3b62de+('_shadowCas'+'cadeDistan'+'ces);'));let _0x537ecc='SHADOWMAP_'+'PASS(light'+_0x3b62de+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x3b62de+('_shadowPar'+'ams');if(_0x4824e3)_0x537ecc=_0x537ecc+',\x20'+_0x320b68+(',\x20dLightDi'+'rW');else{if(_0xf346ef){let _0x13ba2f=_0xfaea45===le?'light'+_0x3b62de+('_softShado'+'wParams'):'vec2(light'+_0x3b62de+('_shadowSea'+'rchArea)');_0x349cff!==Tt&&(_0x13ba2f='vec2(lengt'+'h(light'+_0x3b62de+('_halfWidth'+'),\x20length('+'light')+_0x3b62de+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x3b62de+('_shadowSea'+'rchArea')),_0x537ecc=_0x537ecc+',\x20light'+_0x3b62de+('_cameraPar'+'ams,\x20')+_0x13ba2f+(',\x20dLightDi'+'rW');}}_0xfaea45===Le?(_0x30a370='Point'+_0x30a370,_0xf346ef||(_0x537ecc=_0x537ecc+(',\x20dLightDi'+'rW'))):_0xfaea45===Fe&&(_0x30a370='Spot'+_0x30a370),_0x3047eb['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x3b62de+('\x20=\x20getShad'+'ow')+_0x30a370+'('+_0x537ecc+');'),_0x3047eb['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x3b62de+',\x20light'+_0x3b62de+('_shadowInt'+'ensity);'));}}if(_0x349cff!==Tt?_0x48154e['useSpecula'+'r']?_0x3047eb['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x3b62de+'_color'+(_0x302d9a?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x3047eb['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x3b62de+'_color'+(_0x302d9a?'\x20*\x20dAtten3':'')+';'):_0x50956e&&_0x48154e['useSpecula'+'r']?_0x3047eb['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x3b62de+'_color'+(_0x302d9a?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x3047eb['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x3b62de+'_color'+(_0x302d9a?'\x20*\x20dAtten3':'')+';'),_0x48154e['useSpecula'+'r']&&_0x3047eb['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x1453dd['affectSpec'+'ularity']){if(_0x349cff!==Tt)_0x48154e['useClearCo'+'at']&&_0x3047eb['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x19f714+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x3b62de+'_color'+(_0x302d9a?'\x20*\x20dAtten3':'')+';'),_0x48154e['useSpecula'+'r']&&_0x3047eb['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x19f714+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x3b62de+'_color'+(_0x302d9a?'\x20*\x20dAtten3':'')+';');else{let _0x38162d=!(-0xb*0x15a+-0x1247*0x1+0x2126);_0xfaea45===le&&_0x48154e['fresnelMod'+'el']>-0x3*-0x280+0xdf9*0x1+0x17*-0xef&&(_0x38162d=!(-0x12f+-0x9*-0x382+0x1*-0x1e63)),_0x48154e['useClearCo'+'at']&&_0x3047eb['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x3b62de+'_color'+(_0x302d9a?'\x20*\x20dAtten3':'')+(_0x38162d?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x48154e['useSheen']&&_0x3047eb['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x3b62de+'_color'+(_0x302d9a?'\x20*\x20dAtten3'+';':';')),_0x48154e['useSpecula'+'r']&&_0x3047eb['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x3b62de+'_color'+(_0x302d9a?'\x20*\x20dAtten3':'')+(_0x38162d?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0xfaea45!==le&&_0x3047eb['append']('\x20\x20\x20\x20}');}_0x48154e['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x4340ee=!(0x4*0x9bf+-0x15cf+0x1*-0x112d),_0x5b0158=!(-0x59a*0x1+0x22d1+-0x1d37),_0xd822b4=!(-0x1485+0xe3*-0x5+0x18f4),_0x3047eb['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0x50956e&&(_0x48154e['useClearCo'+'at']&&_0x3047eb['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x48154e['useSpecula'+'r']&&_0x3047eb['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x48154e['useRefract'+'ion']&&_0x3047eb['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x48154e['useAo']&&(_0x48154e['occludeDir'+'ect']&&_0x3047eb['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x48154e['occludeSpe'+'cular']===Vo||_0x48154e['occludeSpe'+'cular']===Bu)&&_0x3047eb['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x48154e['useSpecula'+'rityFactor']&&_0x3047eb['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x48154e['opacityFad'+'esSpecular']===!(-0x21be+-0x6df*0x3+0x2*0x1b2e)&&((_0x48154e['blendType']===Gt||_0x48154e['blendType']===dn)&&(_0x3047eb['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x3047eb['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x3047eb['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x3047eb['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x3047eb['append'](_0x34baca['endPS']),_0x48154e['blendType']===Gt||_0x48154e['blendType']===Xc||_0x48154e['alphaToCov'+'erage']?_0x3047eb['append'](_0x34baca['outputAlph'+'aPS']):_0x48154e['blendType']===dn?_0x3047eb['append'](_0x34baca['outputAlph'+'aPremulPS']):_0x3047eb['append'](_0x34baca['outputAlph'+'aOpaquePS']),_0x48154e['useMsdf']&&_0x3047eb['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x3047eb['append'](_0x34baca['outputPS']),_0x3047eb['append'](_0x34baca['debugOutpu'+'tPS']),_0xd822b4&&_0x11b5e3['prepend'](_0x34baca['lightDirPo'+'intPS']),_0x4340ee&&_0x11b5e3['prepend'](_0x34baca['falloffLin'+'earPS']),_0x5b0158&&_0x11b5e3['prepend'](_0x34baca['falloffInv'+'SquaredPS']),_0x5c83bc&&_0x11b5e3['prepend'](_0x34baca['spotPS']),_0x3eafe5&&!_0x48154e['clusteredL'+'ightingEna'+'bled']&&_0x11b5e3['prepend'](_0x34baca['cookiePS']);let _0x432894='';const _0x4ff0df='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x3047eb['code']+'\x0a}';_0x11b5e3['append'](_0x4ff0df),_0x8df621['append'](_0x34baca['debugProce'+'ssFrontend'+'PS']),_0x8df621['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x8df621['append'](Nt['end']());const _0x28300d=_0x396df6['code']+_0x11b5e3['code']+_0x8df621['code'];return _0x28300d['includes']('dTBN')&&(_0x432894+='mat3\x20dTBN;'+'\x0a'),_0x28300d['includes']('dVertexNor'+'malW')&&(_0x432894+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0x28300d['includes']('dTangentW')&&(_0x432894+='vec3\x20dTang'+'entW;\x0a'),_0x28300d['includes']('dBinormalW')&&(_0x432894+='vec3\x20dBino'+'rmalW;\x0a'),_0x28300d['includes']('dViewDirW')&&(_0x432894+='vec3\x20dView'+'DirW;\x0a'),_0x28300d['includes']('dReflDirW')&&(_0x432894+='vec3\x20dRefl'+'DirW;\x0a'),_0x28300d['includes']('dHalfDirW')&&(_0x432894+='vec3\x20dHalf'+'DirW;\x0a'),_0x28300d['includes']('ccReflDirW')&&(_0x432894+='vec3\x20ccRef'+'lDirW;\x0a'),_0x28300d['includes']('dLightDirN'+'ormW')&&(_0x432894+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0x28300d['includes']('dLightDirW')&&(_0x432894+='vec3\x20dLigh'+'tDirW;\x0a'),_0x28300d['includes']('dLightPosW')&&(_0x432894+='vec3\x20dLigh'+'tPosW;\x0a'),_0x28300d['includes']('dShadowCoo'+'rd')&&(_0x432894+='vec3\x20dShad'+'owCoord;\x0a'),_0x28300d['includes']('dReflectio'+'n')&&(_0x432894+='vec4\x20dRefl'+'ection;\x0a'),_0x28300d['includes']('dDiffuseLi'+'ght')&&(_0x432894+='vec3\x20dDiff'+'useLight;\x0a'),_0x28300d['includes']('dSpecularL'+'ight')&&(_0x432894+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0x28300d['includes']('dAtten')&&(_0x432894+='float\x20dAtt'+'en;\x0a'),_0x28300d['includes']('dAttenD')&&(_0x432894+='float\x20dAtt'+'enD;\x0a'),_0x28300d['includes']('dAtten3')&&(_0x432894+='vec3\x20dAtte'+'n3;\x0a'),_0x28300d['includes']('dMsdf')&&(_0x432894+='vec4\x20dMsdf'+';\x0a'),_0x28300d['includes']('ccFresnel')&&(_0x432894+='float\x20ccFr'+'esnel;\x0a'),_0x28300d['includes']('ccReflecti'+'on')&&(_0x432894+='vec3\x20ccRef'+'lection;\x0a'),_0x28300d['includes']('ccSpecular'+'Light')&&(_0x432894+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0x28300d['includes']('ccSpecular'+'ityNoFres')&&(_0x432894+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0x28300d['includes']('sSpecularL'+'ight')&&(_0x432894+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0x28300d['includes']('sReflectio'+'n')&&(_0x432894+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x432894+this['frontendDe'+'cl']+_0x28300d;}['generateFr'+'agmentShad'+'er'](_0x526fc0,_0x47ae51,_0x1e25c0,_0x1ec713){const _0x4813da=this['options'];this['frontendDe'+'cl']=_0x526fc0,this['frontendCo'+'de']=_0x47ae51,this['frontendFu'+'nc']=_0x1e25c0,this['lightingUv']=_0x1ec713,_0x4813da['pass']===Na?this['fshader']=this['_fsGetPick'+'PassCode']():_0x4813da['pass']===ll?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x4813da['pass']===ol?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x4813da['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x4813da['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),b['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class XC{constructor(){c(this,'hasTangent'+'s',!(0xe*0x290+0x13e6+-0x37c5)),c(this,'chunks',{}),c(this,'pass',0x1*0x24c+0x1183+-0x13cf),c(this,'alphaTest',!(0x1*-0x3e3+-0x59f*0x5+0x1fff)),c(this,'blendType',hs),c(this,'separateAm'+'bient',!(0x240d*-0x1+-0xb26+-0x13e*-0x26)),c(this,'screenSpac'+'e',!(0x6b1*-0x2+-0x675*0x5+0x2*0x16d6)),c(this,'skin',!(-0x1f87+-0x1*0x987+0x290f)),c(this,'batch',!(-0x1bda+-0xdcf+0x29aa*0x1)),c(this,'useInstanc'+'ing',!(-0x22*0xe+-0x234f+0x7a*0x4e)),c(this,'useMorphPo'+'sition',!(-0x3c*-0x9d+-0x1793+0x8*-0x1a7)),c(this,'useMorphNo'+'rmal',!(-0x1*-0x35b+-0x1086+0xd2c)),c(this,'useMorphTe'+'xtureBased'+'Int',!(-0x166*-0x1+-0x2010+0x1eab)),c(this,'nineSliced'+'Mode',-0x1658+-0x1f0+0x1848),c(this,'clusteredL'+'ightingEna'+'bled',!(0x12f*-0xe+-0x11f8+0x228a)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(-0x1b9a+0x53+-0x61*-0x48)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0xcb0+-0x2*-0x98e+-0x66b)),c(this,'clusteredL'+'ightingSha'+'dowType',0xde8+0x144e+0x111b*-0x2),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x18cf+0x2ea+-0x1*-0x15e6)),c(this,'vertexColo'+'rs',!(0xc4c+0x22d6+-0x2f21)),c(this,'lightMapEn'+'abled',!(0x1*0x9d3+-0x473*-0x7+-0x1*0x28f7)),c(this,'dirLightMa'+'pEnabled',!(-0x1ee2+-0x1*0xc17+-0x2*-0x157d)),c(this,'useHeights',!(-0xfb7+0x1fdf*0x1+-0x1027)),c(this,'useNormals',!(-0x6*0x617+0x1*-0x1d41+0x20e6*0x2)),c(this,'useClearCo'+'atNormals',!(-0x5dd+-0x1cbe+-0x14*-0x1bb)),c(this,'useAo',!(-0x2*-0x585+-0x3ef*0x3+0xc4)),c(this,'diffuseMap'+'Enabled',!(-0x1306*-0x2+0x82a+-0x2e35)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(0x6*-0x2aa+-0x16*0x1c5+0x36eb)),c(this,'ambientSH',!(0x6*-0x613+-0x324+-0x1*-0x2797)),c(this,'ssao',!(0x2e*-0xd1+0x25a8+-0x19)),c(this,'twoSidedLi'+'ghting',!(-0x4*-0x8d2+0x31*-0x2d+-0x1aaa)),c(this,'occludeDir'+'ect',!(-0x13eb+0x424+-0x8*-0x1f9)),c(this,'occludeSpe'+'cular',-0x16a3+0x10ee+-0x3*-0x1e7),c(this,'occludeSpe'+'cularFloat',!(-0x1ac7*-0x1+0x2304+-0x3dca)),c(this,'useMsdf',!(-0x1*-0x164f+-0x143e+-0x210)),c(this,'msdfTextAt'+'tribute',!(-0x351*-0x7+-0x1366+-0x3d0)),c(this,'alphaToCov'+'erage',!(0x2347+-0x1*-0x21fb+-0x4541*0x1)),c(this,'opacityFad'+'esSpecular',!(0x3b*-0x63+0x191e+-0x24c)),c(this,'opacityDit'+'her',Os),c(this,'opacitySha'+'dowDither',Os),c(this,'cubeMapPro'+'jection',-0x1398+-0x28*-0xbe+-0xa18),c(this,'useSpecula'+'r',!(-0x1*0x221+0x8d+-0x1*-0x195)),c(this,'useSpecula'+'rityFactor',!(0x7af+0x18*0x56+0xa*-0x193)),c(this,'enableGGXS'+'pecular',!(0xd9b*0x1+-0xab1*-0x3+-0x2dad*0x1)),c(this,'fresnelMod'+'el',-0x108+-0x158*-0x8+0x9b8*-0x1),c(this,'useRefract'+'ion',!(-0x2516+-0x1119+0x3630)),c(this,'useClearCo'+'at',!(0xab9+0x40b*0x5+0x1*-0x1eef)),c(this,'useSheen',!(0x4f4+-0x161*-0x1+-0x654)),c(this,'useIridesc'+'ence',!(-0x24de+0x10e2*-0x2+0x46a3)),c(this,'useMetalne'+'ss',!(-0x211d+0xe33*0x2+0x4b8)),c(this,'useDynamic'+'Refraction',!(-0x1202+0x25e0+-0x13dd)),c(this,'dispersion',!(0x1677+-0x2*-0x1da+-0x1a2a)),c(this,'fog',Ba),c(this,'gamma',al),c(this,'toneMap',-(-0xe1*0x20+0xb*-0x34c+-0x311*-0x15)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',0x14ca*-0x1+0x733*0x5+-0x8b*0x1c),c(this,'useCubeMap'+'Rotation',!(-0xdda+0x2e9+-0x1*-0xaf2)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(-0x26da+0xbb2+0x199*0x11)),c(this,'lights',[]),c(this,'noShadow',!(0x25b5+0x11*-0x137+-0x110d)),c(this,'lightMaskD'+'ynamic',0x2131+-0x1e0d+0x1*-0x324),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(0x1d*-0x92+-0x91d+0x19a8));}}class qh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(0x15b*-0x19+-0x1acf+0x3cb3)),c(this,'specularTi'+'nt',!(0x16+-0x11e0+-0x5*-0x38f)),c(this,'metalnessT'+'int',!(0x9c*-0x34+0x5d5+-0x677*-0x4)),c(this,'glossTint',!(0xba7*-0x2+-0x1e29+0x3578)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(-0x1*0x1083+0x28*-0xac+0x2b64)),c(this,'glossInver'+'t',!(-0x26c7*0x1+-0x1*0x23c3+-0x4a8b*-0x1)),c(this,'sheenGloss'+'Invert',!(0x1*-0x643+-0x72*-0x45+-0x2*0xc3b)),c(this,'clearCoatG'+'lossInvert',!(-0xb1+-0x2219+0x22cb)),c(this,'useAO',!(0x1418+-0x3d2*-0x8+0x1*-0x32a7)),c(this,'litOptions',new XC());}get['pass'](){return this['litOptions']['pass'];}}const Wu={'generateKey'(_0x3455df){return'lit'+Object['keys'](_0x3455df)['sort']()['map'](_0x1f0468=>_0x1f0468==='chunks'?Wu['generateCh'+'unksKey'](_0x3455df):_0x1f0468==='lights'?Wu['generateLi'+'ghtsKey'](_0x3455df):_0x1f0468+_0x3455df[_0x1f0468])['join']('\x0a');},'generateLightsKey'(_0x19ec99){return'lights:'+_0x19ec99['lights']['map'](_0x12b98a=>!_0x19ec99['clusteredL'+'ightingEna'+'bled']||_0x12b98a['_type']===le?_0x12b98a['key']+',':'')['join']('');},'generateChunksKey'(_0x5c6a8f){return'chunks:\x0a'+Object['keys'](_0x5c6a8f['chunks']??{})['sort']()['map'](_0xb486b6=>_0xb486b6+_0x5c6a8f['chunks'][_0xb486b6])['join']('');}},ma=[],Pd=_0x21c536=>Object['keys'](_0x21c536)['filter'](_0x36454f=>_0x36454f!=='litOptions')['sort']();class jC extends Nt{constructor(){super(...arguments),c(this,'optionsCon'+'text',new qh()),c(this,'optionsCon'+'textMin',new qh());}['generateKe'+'y'](_0x1b8d51){let _0x2bec04;return _0x1b8d51===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Pd(_0x1b8d51)),_0x2bec04=this['propsMin']):_0x1b8d51===this['optionsCon'+'text']?(this['props']||(this['props']=Pd(_0x1b8d51)),_0x2bec04=this['props']):_0x2bec04=Pd(_0x1b8d51),'standard:\x0a'+Nt['definesHas'+'h'](_0x1b8d51['defines'])+'\x0a'+_0x2bec04['map'](_0x2c3e40=>_0x2c3e40+_0x1b8d51[_0x2c3e40])['join']('\x0a')+Wu['generateKe'+'y'](_0x1b8d51['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x141034,_0x102bf5,_0x414eac){const _0x24a311=_0x414eac[_0x141034],_0xade0a=_0x414eac[_0x102bf5],_0x61f13f=_0x414eac['litOptions']['pass']===xn;let _0x3b370f;return _0x61f13f&&_0x414eac['litOptions']['nineSliced'+'Mode']===ht||_0x61f13f&&_0x414eac['litOptions']['nineSliced'+'Mode']===st?_0x3b370f='nineSliced'+'Uv':(_0x24a311===0x1e49+0xfe7+-0x2e3*0x10?_0x3b370f='vUv'+_0xade0a:_0x3b370f='vUV'+_0xade0a+'_'+_0x24a311,_0x414eac['heightMap']&&_0x141034!=='heightMapT'+'ransform'&&(_0x3b370f+='\x20+\x20dUvOffs'+'et')),_0x3b370f;}['_addMapDef'](_0x2e3311,_0x2c3036){return _0x2c3036?'#define\x20'+_0x2e3311+'\x0a':'#undef\x20'+_0x2e3311+'\x0a';}['_addMapDef'+'s'](_0x4279dd,_0x546d4e,_0x43cef7,_0x5a36c4,_0x50c803){return this['_addMapDef']('MAPFLOAT',_0x4279dd)+this['_addMapDef']('MAPCOLOR',_0x546d4e)+this['_addMapDef']('MAPVERTEX',_0x43cef7)+this['_addMapDef']('MAPTEXTURE',_0x5a36c4)+this['_addMapDef']('MAPINVERT',_0x50c803);}['_addMap'](_0x14e98b,_0x5b8c1a,_0x2d3184,_0x4aae10,_0x5b166d,_0x544051=null){const _0x6283a1=_0x14e98b+'Map',_0x5d762c=_0x6283a1+'Uv',_0x12bb8a=_0x6283a1+'Identifier',_0x1816be=_0x6283a1+'Transform',_0x3d7857=_0x6283a1+'Channel',_0x30c8f5=_0x14e98b+('VertexColo'+'rChannel'),_0x4216b9=_0x14e98b+'Tint',_0x1824b5=_0x14e98b+('VertexColo'+'r'),_0x3277fc=_0x14e98b+'Mode',_0x540a2d=_0x14e98b+'Invert',_0x3936ab=_0x2d3184[_0x4216b9],_0x4bc653=_0x2d3184[_0x1824b5],_0x235079=_0x2d3184[_0x6283a1],_0x1385d6=_0x2d3184[_0x12bb8a],_0x3322ff=_0x2d3184[_0x3277fc];let _0x1e0703=_0x4aae10[_0x5b8c1a];if(_0x235079){const _0x5efaad=this['_getUvSour'+'ceExpressi'+'on'](_0x1816be,_0x5d762c,_0x2d3184);if(_0x1e0703=_0x1e0703['replace'](/\$UV/g,_0x5efaad)['replace'](/\$CH/g,_0x2d3184[_0x3d7857]),_0x5b166d&&_0x1e0703['search'](/\$SAMPLER/g)!==-(-0x260c+-0x9*-0x3dd+0x69*0x8)){let _0x5382f4='texture_'+_0x6283a1;const _0x208dba=_0x5b166d[_0x1385d6];_0x208dba?_0x5382f4=_0x208dba:_0x5b166d[_0x1385d6]=_0x5382f4,_0x1e0703=_0x1e0703['replace'](/\$SAMPLER/g,_0x5382f4);}if(_0x544051&&(_0x2d3184[_0x3d7857]==='aaa'?_0x1e0703=_0x1e0703['replace'](/\$DECODE/g,'passThroug'+'h'):_0x1e0703=_0x1e0703['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x544051)),_0x1e0703['indexOf']('$texture2D'+'SAMPLE'))){const _0x4ef250={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x1e0703=_0x1e0703['replace'](/\$texture2DSAMPLE/g,_0x4ef250[_0x544051]||'texture2D');}}_0x4bc653&&(_0x1e0703=_0x1e0703['replace'](/\$VC/g,_0x2d3184[_0x30c8f5])),_0x3322ff&&(_0x1e0703=_0x1e0703['replace'](/\$DETAILMODE/g,_0x3322ff));const _0x1c5416=!!(_0x3936ab&-0x7*-0x35b+-0xd8f+-0x9ed),_0x8c1fbd=!!(_0x3936ab&0xb03+-0x4d2+0x1*-0x62f),_0x300c30=!!_0x2d3184[_0x540a2d];return _0x1e0703=this['_addMapDef'+'s'](_0x1c5416,_0x8c1fbd,_0x4bc653,_0x235079,_0x300c30)+_0x1e0703,_0x1e0703['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x5e31ca,_0x340e8b,_0x589c7a){if(_0x589c7a[_0x5e31ca]>-0x1ee0+0x7a8*-0x1+0x2688){if(_0x589c7a[_0x5e31ca]<_0x340e8b['length'])return _0x340e8b['substring'](-0x2*-0xb29+-0x4*-0x19a+-0x2*0xe5d,_0x589c7a[_0x5e31ca]);if(_0x589c7a[_0x5e31ca]>_0x340e8b['length']){let _0x2df25e=_0x340e8b;const _0x5d4271=_0x2df25e['charAt'](_0x2df25e['length']-(-0x1*-0x15df+0xae7*-0x3+-0x1*-0xad7)),_0x770330=_0x589c7a[_0x5e31ca]-_0x2df25e['length'];for(let _0x41f822=-0x4*-0x7d+0x1be*0xe+-0x4*0x696;_0x41f822<_0x770330;_0x41f822++)_0x2df25e+=_0x5d4271;return _0x2df25e;}return _0x340e8b;}}['createShad'+'erDefiniti'+'on'](_0x1c5f1c,_0x3e2623){const _0x57e9b2=ti['get'](_0x1c5f1c)['getByIndex'](_0x3e2623['litOptions']['pass'])['isForward'],_0x5673f5=new qC(_0x1c5f1c,_0x3e2623['litOptions']),_0x35664a=[],_0x3300df=[],_0x4cdf6b=[],_0x274f2d=-0x8fc+-0x1*-0xe9d+-0x1*0x59f,_0x5bd502={};for(const _0x5b8830 in ma){const _0x4e50f6=_0x5b8830+'Map';if(_0x3e2623[_0x5b8830+('VertexColo'+'r')]){const _0x1dbeb9=_0x5b8830+('VertexColo'+'rChannel');_0x3e2623[_0x1dbeb9]=this['_correctCh'+'annel'](_0x5b8830,_0x3e2623[_0x1dbeb9],ma);}if(_0x3e2623[_0x4e50f6]){const _0x25e910=_0x4e50f6+'Channel',_0x5f34be=_0x4e50f6+'Transform',_0x3716c3=_0x4e50f6+'Uv';_0x3e2623[_0x3716c3]=Math['min'](_0x3e2623[_0x3716c3],_0x274f2d-(-0x921+0xf9a*-0x1+-0x2*-0xc5e)),_0x3e2623[_0x25e910]=this['_correctCh'+'annel'](_0x5b8830,_0x3e2623[_0x25e910],ma);const _0x34f8da=_0x3e2623[_0x3716c3];_0x35664a[_0x34f8da]=!(-0x1a4+0x6*0x55d+-0x1e8a),_0x3300df[_0x34f8da]=_0x3300df[_0x34f8da]||_0x3e2623[_0x4e50f6]&&!_0x3e2623[_0x5f34be],_0x3e2623[_0x5f34be]&&_0x4cdf6b['push']({'name':_0x5b8830,'id':_0x3e2623[_0x5f34be],'uv':_0x3e2623[_0x3716c3]});}}_0x3e2623['forceUv1']&&(_0x35664a[-0x17d7+0x1*0xcfa+0xade]=!(-0x3e1+-0xaae*-0x3+-0x51*0x59),_0x3300df[0x17f2+-0x113*-0x1+-0x1904]=_0x3300df[-0x1*0x1837+-0x1*-0x1cea+-0x4b2*0x1]!==void(0x18c+-0x1*0x30d+-0x1*-0x181)?_0x3300df[0x2120+0x1bb1+-0x3cd0]:!(0x1*-0x25ab+0x87+-0x2524*-0x1)),_0x5673f5['generateVe'+'rtexShader'](_0x35664a,_0x3300df,_0x4cdf6b),_0x3e2623['litOptions']['fresnelMod'+'el']=_0x3e2623['litOptions']['fresnelMod'+'el']===-0xd5a+-0x24be*0x1+0x38*0xe5?Tp:_0x3e2623['litOptions']['fresnelMod'+'el'];const _0x56f53b=new rr(),_0x48a968=new rr(),_0x1731ba=new rr(),_0x529b62=new rr();let _0x109b68='';if(_0x3e2623['litOptions']['nineSliced'+'Mode']===st?_0x56f53b['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x56f53b['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0x57e9b2){if(_0x3e2623['heightMap']&&(_0x56f53b['append']('vec2\x20dUvOf'+'fset;'),_0x48a968['append'](this['_addMap']('height','parallaxPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getParalla'+'x();')),_0x3e2623['litOptions']['blendType']!==hs||_0x3e2623['litOptions']['alphaTest']||_0x3e2623['litOptions']['alphaToCov'+'erage']||_0x3e2623['litOptions']['opacityDit'+'her']!==Os){_0x56f53b['append']('float\x20dAlp'+'ha;'),_0x48a968['append'](this['_addMap']('opacity','opacityPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getOpacity'+'();'),_0x529b62['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x3e2623['litOptions']['alphaTest']&&(_0x48a968['append'](_0x5673f5['chunks']['alphaTestP'+'S']),_0x1731ba['append']('alphaTest('+'dAlpha);'));const _0x416761=_0x3e2623['litOptions']['opacityDit'+'her'];_0x416761!==Os&&(_0x416761===zm&&_0x56f53b['append'](_0x5673f5['chunks']['bayerPS']),_0x56f53b['append']('#define\x20DI'+'THER_'+_0x416761['toUpperCas'+'e']()+'\x0a'),_0x56f53b['append'](_0x5673f5['chunks']['opacityDit'+'herPS']),_0x1731ba['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x56f53b['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x5673f5['needsNorma'+'l']){if((_0x3e2623['normalMap']||_0x3e2623['clearCoatN'+'ormalMap'])&&(_0x48a968['append'](_0x3e2623['packedNorm'+'al']?_0x5673f5['chunks']['normalXYPS']:_0x5673f5['chunks']['normalXYZP'+'S']),!_0x3e2623['litOptions']['hasTangent'+'s'])){const _0x52a784=_0x3e2623['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x109b68=this['_getUvSour'+'ceExpressi'+'on'](_0x52a784+'Transform',_0x52a784+'Uv',_0x3e2623);}_0x56f53b['append']('vec3\x20dNorm'+'alW;'),_0x48a968['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x48a968['append'](this['_addMap']('normal','normalMapP'+'S',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getNormal('+');'),_0x529b62['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x5673f5['needsScene'+'Color']&&_0x56f53b['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x5673f5['needsScree'+'nSize']&&_0x56f53b['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x5673f5['needsTrans'+'forms']&&(_0x56f53b['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x56f53b['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x3e2623['diffuseDet'+'ail']||_0x3e2623['aoDetail'])&&_0x48a968['append'](_0x5673f5['chunks']['detailMode'+'sPS']),_0x56f53b['append']('vec3\x20dAlbe'+'do;'),_0x3e2623['diffuseDet'+'ail']&&_0x48a968['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502,_0x3e2623['diffuseDet'+'ailEncodin'+'g'])),_0x48a968['append'](this['_addMap']('diffuse','diffusePS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502,_0x3e2623['diffuseEnc'+'oding'])),_0x1731ba['append']('getAlbedo('+');'),_0x529b62['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x3e2623['litOptions']['useRefract'+'ion']&&(_0x56f53b['append']('float\x20dTra'+'nsmission;'),_0x48a968['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getRefract'+'ion();'),_0x529b62['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x56f53b['append']('float\x20dThi'+'ckness;'),_0x48a968['append'](this['_addMap']('thickness','thicknessP'+'S',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getThickne'+'ss();'),_0x529b62['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x3e2623['litOptions']['dispersion']&&_0x529b62['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x3e2623['litOptions']['useIridesc'+'ence']&&(_0x56f53b['append']('float\x20dIri'+'descence;'),_0x48a968['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getIridesc'+'ence();'),_0x529b62['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x56f53b['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x48a968['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getIridesc'+'enceThickn'+'ess();'),_0x529b62['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x5673f5['lighting']&&_0x3e2623['litOptions']['useSpecula'+'r']||_0x5673f5['reflection'+'s']?(_0x56f53b['append']('vec3\x20dSpec'+'ularity;'),_0x56f53b['append']('float\x20dGlo'+'ssiness;'),_0x3e2623['litOptions']['useSheen']&&(_0x56f53b['append']('vec3\x20sSpec'+'ularity;'),_0x48a968['append'](this['_addMap']('sheen','sheenPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502,_0x3e2623['sheenEncod'+'ing'])),_0x1731ba['append']('getSheen()'+';'),_0x529b62['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x56f53b['append']('float\x20sGlo'+'ssiness;'),_0x48a968['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getSheenGl'+'ossiness()'+';'),_0x529b62['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x3e2623['litOptions']['useMetalne'+'ss']&&(_0x56f53b['append']('float\x20dMet'+'alness;'),_0x48a968['append'](this['_addMap']('metalness','metalnessP'+'S',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getMetalne'+'ss();'),_0x529b62['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x56f53b['append']('float\x20dIor'+';'),_0x48a968['append'](this['_addMap']('ior','iorPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getIor();'),_0x529b62['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x3e2623['litOptions']['useSpecula'+'rityFactor']&&(_0x56f53b['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x48a968['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getSpecula'+'rityFactor'+'();'),_0x529b62['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x3e2623['useSpecula'+'rColor']?_0x48a968['append'](this['_addMap']('specular','specularPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502,_0x3e2623['specularEn'+'coding'])):_0x48a968['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x48a968['append'](this['_addMap']('gloss','glossPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getGlossin'+'ess();'),_0x1731ba['append']('getSpecula'+'rity();'),_0x529b62['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x529b62['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x56f53b['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x56f53b['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x3e2623['aoDetail']&&_0x48a968['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),(_0x3e2623['aoMap']||_0x3e2623['aoVertexCo'+'lor']||_0x3e2623['useAO'])&&(_0x56f53b['append']('float\x20dAo;'),_0x48a968['append'](this['_addMap']('ao','aoPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getAO();'),_0x529b62['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x56f53b['append']('vec3\x20dEmis'+'sion;'),_0x48a968['append'](this['_addMap']('emissive','emissivePS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502,_0x3e2623['emissiveEn'+'coding'])),_0x1731ba['append']('getEmissio'+'n();'),_0x529b62['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x3e2623['litOptions']['useClearCo'+'at']&&(_0x56f53b['append']('float\x20ccSp'+'ecularity;'),_0x56f53b['append']('float\x20ccGl'+'ossiness;'),_0x56f53b['append']('vec3\x20ccNor'+'malW;'),_0x48a968['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x48a968['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x48a968['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getClearCo'+'at();'),_0x1731ba['append']('getClearCo'+'atGlossine'+'ss();'),_0x1731ba['append']('getClearCo'+'atNormal()'+';'),_0x529b62['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x529b62['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x529b62['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x3e2623['lightMap']||_0x3e2623['lightVerte'+'xColor']){const _0xe01d03=_0x3e2623['dirLightMa'+'p']&&_0x3e2623['litOptions']['useSpecula'+'r'],_0x44b473=_0xe01d03?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x56f53b['append']('vec3\x20dLigh'+'tmap;'),_0xe01d03&&_0x56f53b['append']('vec3\x20dLigh'+'tmapDir;'),_0x48a968['append'](this['_addMap']('light',_0x44b473,_0x3e2623,_0x5673f5['chunks'],_0x5bd502,_0x3e2623['lightMapEn'+'coding'])),_0x1731ba['append']('getLightMa'+'p();'),_0x529b62['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0xe01d03&&_0x529b62['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}b['assert'](_0x48a968['code']['indexOf']('texture2DS'+'RGB')===-(-0x241d+-0x1d0b*-0x1+-0x1*-0x713)&&_0x48a968['code']['indexOf']('texture2DR'+'GBM')===-(0x4fd*0x3+-0x1*-0x680+-0x1576)&&_0x48a968['code']['indexOf']('texture2DR'+'GBE')===-(0x30c+-0x2007+-0x1*-0x1cfc),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x15ecf8=_0x3e2623['litOptions']['opacitySha'+'dowDither'];(_0x3e2623['litOptions']['alphaTest']||_0x15ecf8)&&(_0x56f53b['append']('float\x20dAlp'+'ha;'),_0x48a968['append'](this['_addMap']('opacity','opacityPS',_0x3e2623,_0x5673f5['chunks'],_0x5bd502)),_0x1731ba['append']('getOpacity'+'();'),_0x529b62['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x3e2623['litOptions']['alphaTest']&&(_0x48a968['append'](_0x5673f5['chunks']['alphaTestP'+'S']),_0x1731ba['append']('alphaTest('+'dAlpha);')),_0x15ecf8!==Os&&(_0x15ecf8===zm&&_0x56f53b['append'](_0x5673f5['chunks']['bayerPS']),_0x56f53b['append']('#define\x20DI'+'THER_'+_0x15ecf8['toUpperCas'+'e']()+'\x0a'),_0x56f53b['append'](_0x5673f5['chunks']['opacityDit'+'herPS']),_0x1731ba['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x56f53b['append'](_0x5673f5['chunks']['litShaderA'+'rgsPS']),_0x48a968['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x1731ba['code']+'\x0a'+_0x529b62['code']+'\x0a\x20}\x0a'),_0x1731ba['code']='evaluateFr'+'ontend();';for(const _0x3984c1 in _0x5bd502)_0x56f53b['append']('uniform\x20sa'+'mpler2D\x20'+_0x5bd502[_0x3984c1]+';');_0x1731ba['code']='\x0a'+_0x1731ba['code']['split']('\x0a')['map'](_0x6139c1=>'\x20\x20\x20\x20'+_0x6139c1)['join']('\x0a')+'\x0a\x0a',_0x5673f5['generateFr'+'agmentShad'+'er'](_0x56f53b['code'],_0x48a968['code'],_0x1731ba['code'],_0x109b68);const _0x178d11=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x5673f5['chunks']),..._0x5673f5['chunks'],..._0x3e2623['litOptions']['chunks']})),_0x29ad60=new Map(_0x3e2623['defines']),_0x350ed3=Ft['createDefi'+'nition'](_0x1c5f1c,{'name':'StandardSh'+'ader','attributes':_0x5673f5['attributes'],'vertexCode':_0x5673f5['vshader'],'fragmentCode':_0x5673f5['fshader'],'vertexIncludes':_0x178d11,'fragmentIncludes':_0x178d11,'fragmentDefines':_0x29ad60,'vertexDefines':_0x29ad60});return _0x5673f5['shaderPass'+'Info']['isForward']&&(_0x350ed3['tag']=Fy),_0x350ed3;}}const Rd=new jC(),Vt=[];Vt[a0]={'src':ct,'dst':ct,'op':ES},Vt[hs]={'src':ct,'dst':Uf,'op':Ut},Vt[Gt]={'src':_c,'dst':gc,'op':Ut,'alphaSrc':ct},Vt[dn]={'src':ct,'dst':gc,'op':Ut},Vt[bp]={'src':ct,'dst':ct,'op':Ut},Vt[Xc]={'src':_c,'dst':ct,'op':Ut},Vt[o0]={'src':uy,'dst':TS,'op':Ut},Vt[l0]={'src':AS,'dst':ct,'op':Ut},Vt[wp]={'src':uy,'dst':Uf,'op':Ut},Vt[h0]={'src':ct,'dst':ct,'op':CS},Vt[c0]={'src':ct,'dst':ct,'op':MS};let YC=-0xef*-0x8+0x8ed*-0x1+0x175;class Sn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',YC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(0x12b9+-0xd5*-0x26+-0x3256*0x1)),c(this,'parameters',{}),c(this,'alphaTest',-0xdbe+-0xd6*-0xd+0x2e0),c(this,'alphaToCov'+'erage',!(-0x1629+-0x10b*0x1+0x1735)),c(this,'_blendStat'+'e',new bt()),c(this,'_depthStat'+'e',new us()),c(this,'cull',nn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(-0x43*-0x7c+0x2023+-0x4097)),c(this,'_shaderVer'+'sion',-0x206e+-0x29*-0xdf+-0x349),c(this,'_scene',null),c(this,'dirty',!(0x1507+-0xd9a+0x76d*-0x1)),new.target===Sn&&b['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x49650b){this['_dirtyShad'+'er']=!(-0x1081+-0x5*-0x166+-0x5*-0x1e7),this['_chunks']=_0x49650b;}get['chunks'](){return this['_dirtyShad'+'er']=!(0x85*0x44+0x33f*-0x2+-0xe6b*0x2),this['_chunks'];}set['depthBias'](_0x51ad4e){this['_depthStat'+'e']['depthBias']=_0x51ad4e;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x5bc419){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x5bc419;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x1a05d3){this['_blendStat'+'e']['redWrite']=_0x1a05d3;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x23f56c){this['_blendStat'+'e']['greenWrite']=_0x23f56c;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x32e9d0){this['_blendStat'+'e']['blueWrite']=_0x32e9d0;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x2469a0){this['_blendStat'+'e']['alphaWrite']=_0x2469a0;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x1a33ea=this['transparen'+'t'],_0x342fc2=this['meshInstan'+'ces'];for(let _0x47ea84=-0x1*-0x1deb+0x819+0x981*-0x4;_0x47ea84<_0x342fc2['length'];_0x47ea84++)_0x342fc2[_0x47ea84]['transparen'+'t']=_0x1a33ea;}set['blendState'](_0x4480d5){this['_blendStat'+'e']['copy'](_0x4480d5),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x4d2317){const _0x1f3147=Vt[_0x4d2317];b['assert'](_0x1f3147,'Unknown\x20bl'+'end\x20mode\x20'+_0x4d2317),this['_blendStat'+'e']['setColorBl'+'end'](_0x1f3147['op'],_0x1f3147['src'],_0x1f3147['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x1f3147['alphaOp']??_0x1f3147['op'],_0x1f3147['alphaSrc']??_0x1f3147['src'],_0x1f3147['alphaDst']??_0x1f3147['dst']);const _0x389316=_0x4d2317!==hs;this['_blendStat'+'e']['blend']!==_0x389316&&(this['_blendStat'+'e']['blend']=_0x389316,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return hs;const {colorOp:_0x1bba08,colorSrcFactor:_0x1c5525,colorDstFactor:_0xe1f945,alphaOp:_0x1e9ce7,alphaSrcFactor:_0x432061,alphaDstFactor:_0x508719}=this['_blendStat'+'e'];for(let _0x1ecbf7=0x1*-0x89+0x1*-0x2051+0x692*0x5;_0x1ecbf7<Vt['length'];_0x1ecbf7++){const _0x4edeb=Vt[_0x1ecbf7];if(_0x4edeb['src']===_0x1c5525&&_0x4edeb['dst']===_0xe1f945&&_0x4edeb['op']===_0x1bba08&&_0x4edeb['src']===_0x432061&&_0x4edeb['dst']===_0x508719&&_0x4edeb['op']===_0x1e9ce7)return _0x1ecbf7;}return Gt;}set['depthState'](_0x45930e){this['_depthStat'+'e']['copy'](_0x45930e);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x1995ff){this['_depthStat'+'e']['test']=_0x1995ff;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x4adf5d){this['_depthStat'+'e']['func']=_0x4adf5d;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x3963a1){this['_depthStat'+'e']['write']=_0x3963a1;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x22680c){var _0x5a0b8c;this['name']=_0x22680c['name'],this['alphaTest']=_0x22680c['alphaTest'],this['alphaToCov'+'erage']=_0x22680c['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x22680c['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x22680c['_depthStat'+'e']),this['cull']=_0x22680c['cull'],this['stencilFro'+'nt']=(_0x5a0b8c=_0x22680c['stencilFro'+'nt'])==null?void(0x141f+-0x2625+0x1*0x1206):_0x5a0b8c['clone'](),_0x22680c['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x22680c['stencilFro'+'nt']===_0x22680c['stencilBac'+'k']?this['stencilFro'+'nt']:_0x22680c['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0xbcc60e in _0x22680c['parameters'])_0x22680c['parameters']['hasOwnProp'+'erty'](_0xbcc60e)&&this['_setParame'+'terSimple'](_0xbcc60e,_0x22680c['parameters'][_0xbcc60e]['data']);this['defines']['clear'](),_0x22680c['defines']['forEach']((_0x509644,_0x50231c)=>this['defines']['set'](_0x50231c,_0x509644));const _0x55c78d=_0x22680c['_chunks'];for(const _0x3213ae in _0x55c78d)_0x55c78d['hasOwnProp'+'erty'](_0x3213ae)&&(this['_chunks'][_0x3213ae]=_0x55c78d[_0x3213ae]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x3372d1=this['meshInstan'+'ces'];for(let _0x523659=0x2e1*-0x3+-0x1a66*-0x1+-0x11c3;_0x523659<_0x3372d1['length'];_0x523659++)_0x3372d1[_0x523659]['updateKey']();}['updateUnif'+'orms'](_0x3ebf4b,_0x556d0f){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x86eaa3){b['assert'](!(-0x119a+0x2534+-0x1399),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x24f1+-0x6b0+0x2c0*-0xb),this['clearVaria'+'nts']()),this['dirty']=!(-0x42c+-0x1*-0x10eb+-0xcbf);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0xbd3e80=this['meshInstan'+'ces'],_0x51dcd2=_0xbd3e80['length'];for(let _0x16de4b=0xcd*-0x11+-0x20bd+-0x172d*-0x2;_0x16de4b<_0x51dcd2;_0x16de4b++)_0xbd3e80[_0x16de4b]['clearShade'+'rs']();}['getParamet'+'er'](_0x5174c1){return this['parameters'][_0x5174c1];}['_setParame'+'terSimple'](_0x49d64b,_0x570fcb){b['call'](()=>{_0x570fcb===void(-0x1c*0xe6+-0x1f93+0x38bb)&&b['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x49d64b+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x302de8=this['parameters'][_0x49d64b];_0x302de8?_0x302de8['data']=_0x570fcb:this['parameters'][_0x49d64b]={'scopeId':null,'data':_0x570fcb};}['setParamet'+'er'](_0x3bacfb,_0x71156e){if(_0x71156e===void(-0xe*0x73+-0x1555+0x1b9f)&&typeof _0x3bacfb=='object'){const _0x3c0dec=_0x3bacfb;if(_0x3c0dec['length']){for(let _0x4c1abf=0x23cf+-0x52*-0x59+-0x4051;_0x4c1abf<_0x3c0dec['length'];_0x4c1abf++)this['setParamet'+'er'](_0x3c0dec[_0x4c1abf]);return;}_0x3bacfb=_0x3c0dec['name'],_0x71156e=_0x3c0dec['value'];}this['_setParame'+'terSimple'](_0x3bacfb,_0x71156e);}['deletePara'+'meter'](_0x249e0b){this['parameters'][_0x249e0b]&&delete this['parameters'][_0x249e0b];}['setParamet'+'ers'](_0x4ceea6,_0x1198c2){const _0x1c358e=this['parameters'];_0x1198c2===void(0x637*-0x5+-0x1470+0x3383)&&(_0x1198c2=_0x1c358e);for(const _0x5c969d in _0x1198c2){const _0x5f0bbd=_0x1c358e[_0x5c969d];_0x5f0bbd&&(_0x5f0bbd['scopeId']||(_0x5f0bbd['scopeId']=_0x4ceea6['scope']['resolve'](_0x5c969d)),_0x5f0bbd['scopeId']['setValue'](_0x5f0bbd['data']));}}['setDefine'](_0x2866bd,_0x30e52b){let _0x4f7493=!(0x133b*0x2+-0x17d4+-0xea1);const {defines:_0x40ebc8}=this;_0x30e52b!==void(-0x1bb6*0x1+-0x5*-0x28d+0xef5)&&_0x30e52b!==!(-0x1*0x985+0x25b1*-0x1+0x2f37)?(_0x4f7493=!_0x40ebc8['has'](_0x2866bd)||_0x40ebc8['get'](_0x2866bd)!==_0x30e52b,_0x40ebc8['set'](_0x2866bd,_0x30e52b)):(_0x4f7493=_0x40ebc8['has'](_0x2866bd),_0x40ebc8['delete'](_0x2866bd)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x4f7493);}['getDefine'](_0x23754d){return this['defines']['has'](_0x23754d);}['destroy'](){this['variants']['clear']();for(let _0x5539ad=-0x18e*0x10+-0x13fc+0x57*0x84;_0x5539ad<this['meshInstan'+'ces']['length'];_0x5539ad++){const _0x54605d=this['meshInstan'+'ces'][_0x5539ad];if(_0x54605d['clearShade'+'rs'](),_0x54605d['_material']=null,_0x54605d['mesh']){const _0x5d479c=cl(_0x54605d['mesh']['device']);this!==_0x5d479c&&(_0x54605d['material']=_0x5d479c);}else b['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x1*-0x238a+-0x13d9+-0x1*0xfb1;}['addMeshIns'+'tanceRef'](_0x17e0c8){this['meshInstan'+'ces']['push'](_0x17e0c8);}['removeMesh'+'InstanceRe'+'f'](_0x22ae29){const _0x5441d3=this['meshInstan'+'ces'],_0xff9119=_0x5441d3['indexOf'](_0x22ae29);_0xff9119!==-(0xab*-0x12+-0x348+0x1*0xf4f)&&_0x5441d3['splice'](_0xff9119,-0x4*-0x2f+0x7*-0x282+0x10d3);}}class Is{static['update'](_0x33534e,_0x475900,_0x334199,_0x523bab,_0x4c71ac,_0x390f09,_0x593ef9){Is['updateShar'+'edOptions'](_0x33534e,_0x475900,_0x334199,_0x4c71ac,_0x390f09),Is['updateMate'+'rialOption'+'s'](_0x33534e,_0x475900),Is['updateEnvO'+'ptions'](_0x33534e,_0x475900,_0x334199,_0x523bab),Is['updateLigh'+'tingOption'+'s'](_0x33534e,_0x475900,_0x4c71ac,_0x593ef9);}static['updateShar'+'edOptions'](_0x541e12,_0x44e290,_0x16a17d,_0x3ced55,_0x1aed50){_0x541e12['chunks']=_0x44e290['chunks'],_0x541e12['pass']=_0x1aed50,_0x541e12['alphaTest']=_0x44e290['alphaTest']>0x1212+0x2*-0xff2+-0x7a*-0x1d,_0x541e12['blendType']=_0x44e290['blendType'],_0x541e12['screenSpac'+'e']=_0x3ced55&&(_0x3ced55&Ip)!==-0x11*-0x1be+0x2650+-0x43ee,_0x541e12['skin']=_0x3ced55&&(_0x3ced55&jc)!==0x31*-0xc+0x1*-0x2615+0x2861,_0x541e12['useInstanc'+'ing']=_0x3ced55&&(_0x3ced55&Yc)!==-0x1fd*0x6+0x2*0xa8e+-0x92e,_0x541e12['useMorphPo'+'sition']=_0x3ced55&&(_0x3ced55&Kc)!==0x25c5+-0xbf*-0x2b+-0x45da,_0x541e12['useMorphNo'+'rmal']=_0x3ced55&&(_0x3ced55&Zc)!==0x1e30*0x1+0x3*-0xcad+0x3*0x29d,_0x541e12['useMorphTe'+'xtureBased'+'Int']=_0x3ced55&&(_0x3ced55&Qc)!==-0x1*0x461+0x1ec3+-0x1a62,_0x541e12['hasTangent'+'s']=_0x3ced55&&(_0x3ced55&Dp)!==-0xa60+-0x1b94+0x25f4,_0x541e12['nineSliced'+'Mode']=_0x44e290['nineSliced'+'Mode']||Pi,_0x44e290['useLightin'+'g']&&_0x16a17d['clusteredL'+'ightingEna'+'bled']?(_0x541e12['clusteredL'+'ightingEna'+'bled']=!(-0x24a*-0x10+-0x25d9+-0x1*-0x139),_0x541e12['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x16a17d['lighting']['cookiesEna'+'bled'],_0x541e12['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x16a17d['lighting']['shadowsEna'+'bled'],_0x541e12['clusteredL'+'ightingSha'+'dowType']=_0x16a17d['lighting']['shadowType'],_0x541e12['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x16a17d['lighting']['areaLights'+'Enabled']):(_0x541e12['clusteredL'+'ightingEna'+'bled']=!(0xd*-0x22a+0x16c*-0x17+0x23*0x1bd),_0x541e12['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x211d*0x1+-0x66*0x41+0x3b04),_0x541e12['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x38b*0x6+0x3df+0x1164),_0x541e12['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0xaed+-0x5f8*0x2+0x16de));}static['updateMate'+'rialOption'+'s'](_0x30162,_0x3ae4ba){_0x30162['separateAm'+'bient']=!(-0xe8d+0xed5+0x47*-0x1),_0x30162['customFrag'+'mentShader']=null,_0x30162['pixelSnap']=_0x3ae4ba['pixelSnap'],_0x30162['ambientSH']=_0x3ae4ba['ambientSH'],_0x30162['twoSidedLi'+'ghting']=_0x3ae4ba['twoSidedLi'+'ghting'],_0x30162['occludeDir'+'ect']=_0x3ae4ba['occludeDir'+'ect'],_0x30162['occludeSpe'+'cular']=_0x3ae4ba['occludeSpe'+'cular'],_0x30162['occludeSpe'+'cularFloat']=_0x3ae4ba['occludeSpe'+'cularInten'+'sity']!==0xc*-0x3a+0x21*0x52+0x29*-0x31,_0x30162['useMsdf']=!(-0x15ad+0x7*-0x326+0x2bb8),_0x30162['msdfTextAt'+'tribute']=!(-0x3b2*-0x4+0x1c*0xcc+0x9*-0x41f),_0x30162['alphaToCov'+'erage']=_0x3ae4ba['alphaToCov'+'erage'],_0x30162['opacityFad'+'esSpecular']=_0x3ae4ba['opacityFad'+'esSpecular'],_0x30162['opacityDit'+'her']=_0x3ae4ba['opacityDit'+'her'],_0x30162['cubeMapPro'+'jection']=f0,_0x30162['useSpecula'+'r']=_0x3ae4ba['hasSpecula'+'r'],_0x30162['useSpecula'+'rityFactor']=_0x3ae4ba['hasSpecula'+'rityFactor'],_0x30162['enableGGXS'+'pecular']=_0x3ae4ba['ggxSpecula'+'r'],_0x30162['fresnelMod'+'el']=_0x3ae4ba['fresnelMod'+'el'],_0x30162['useRefract'+'ion']=_0x3ae4ba['hasRefract'+'ion'],_0x30162['useClearCo'+'at']=_0x3ae4ba['hasClearCo'+'at'],_0x30162['useSheen']=_0x3ae4ba['hasSheen'],_0x30162['useIridesc'+'ence']=_0x3ae4ba['hasIrrides'+'cence'],_0x30162['useMetalne'+'ss']=_0x3ae4ba['hasMetalne'+'ss'],_0x30162['useDynamic'+'Refraction']=_0x3ae4ba['dynamicRef'+'raction'],_0x30162['dispersion']=_0x3ae4ba['dispersion']>-0x1*0x3c3+-0x25f5+-0xa*-0x42c,_0x30162['vertexColo'+'rs']=!(-0x1d1*-0xc+-0x3*-0x2bb+-0x26*0xca),_0x30162['lightMapEn'+'abled']=_0x3ae4ba['hasLightin'+'g'],_0x30162['dirLightMa'+'pEnabled']=_0x3ae4ba['dirLightMa'+'p'],_0x30162['useHeights']=_0x3ae4ba['hasHeights'],_0x30162['useNormals']=_0x3ae4ba['hasNormals'],_0x30162['useClearCo'+'atNormals']=_0x3ae4ba['hasClearCo'+'atNormals'],_0x30162['useAo']=_0x3ae4ba['hasAo'],_0x30162['diffuseMap'+'Enabled']=_0x3ae4ba['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x5507b1,_0x140b38,_0x3b5646,_0x3b93eb){_0x5507b1['fog']=_0x140b38['useFog']?_0x3b93eb['fog']:Ba,_0x5507b1['gamma']=_0x3b93eb['shaderOutp'+'utGamma'],_0x5507b1['toneMap']=_0x140b38['useTonemap']?_0x3b93eb['toneMappin'+'g']:p0,_0x140b38['useSkybox']&&_0x3b5646['envAtlas']&&_0x3b5646['skybox']?(_0x5507b1['reflection'+'Source']='envAtlasHQ',_0x5507b1['reflection'+'Encoding']=_0x3b5646['envAtlas']['encoding'],_0x5507b1['reflection'+'CubemapEnc'+'oding']=_0x3b5646['skybox']['encoding']):_0x140b38['useSkybox']&&_0x3b5646['envAtlas']?(_0x5507b1['reflection'+'Source']='envAtlas',_0x5507b1['reflection'+'Encoding']=_0x3b5646['envAtlas']['encoding']):_0x140b38['useSkybox']&&_0x3b5646['skybox']?(_0x5507b1['reflection'+'Source']='cubeMap',_0x5507b1['reflection'+'Encoding']=_0x3b5646['skybox']['encoding']):(_0x5507b1['reflection'+'Source']=null,_0x5507b1['reflection'+'Encoding']=null),_0x140b38['ambientSH']?(_0x5507b1['ambientSou'+'rce']='ambientSH',_0x5507b1['ambientEnc'+'oding']=null):_0x5507b1['reflection'+'Source']&&_0x3b5646['envAtlas']?(_0x5507b1['ambientSou'+'rce']='envAtlas',_0x5507b1['ambientEnc'+'oding']=_0x3b5646['envAtlas']['encoding']):(_0x5507b1['ambientSou'+'rce']='constant',_0x5507b1['ambientEnc'+'oding']=null);const _0x9bbabd=!!_0x5507b1['reflection'+'Source'];_0x5507b1['skyboxInte'+'nsity']=_0x9bbabd,_0x5507b1['useCubeMap'+'Rotation']=_0x9bbabd&&_0x3b5646['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x502e22,_0x53d406,_0x3d8631,_0x5b34d1){if(_0x502e22['lightMapWi'+'thoutAmbie'+'nt']=!(0x11*0x49+0x2*-0xa6f+0x2*0x803),_0x53d406['useLightin'+'g']){const _0x31d287=[],_0x2d4bb0=_0x3d8631?_0x3d8631>>-0x3*0xc59+0x2*-0x86+0x2627*0x1:ms;_0x502e22['lightMaskD'+'ynamic']=!!(_0x2d4bb0&ms),_0x502e22['lightMapWi'+'thoutAmbie'+'nt']=!(0x2163+0xc7*-0x25+0xd*-0x5b),_0x5b34d1&&(Is['collectLig'+'hts'](le,_0x5b34d1[le],_0x31d287,_0x2d4bb0),Is['collectLig'+'hts'](Le,_0x5b34d1[Le],_0x31d287,_0x2d4bb0),Is['collectLig'+'hts'](Fe,_0x5b34d1[Fe],_0x31d287,_0x2d4bb0)),_0x502e22['lights']=_0x31d287;}else _0x502e22['lights']=[];(_0x502e22['lights']['length']===0x2025+-0x1*0x240d+-0x14*-0x32||(_0x3d8631&Rp)!==0x20c7*-0x1+-0x4f*-0xb+0x1d62)&&(_0x502e22['noShadow']=!(-0x1fa7+0x1*-0xde5+0x2d8c));}static['collectLig'+'hts'](_0x3c7fce,_0xe18656,_0x3bd49c,_0x37d323){for(let _0x2a92e3=-0x1b8b+-0x1*0x3ec+0x1f77;_0x2a92e3<_0xe18656['length'];_0x2a92e3++){const _0x24c0e5=_0xe18656[_0x2a92e3];_0x24c0e5['enabled']&&_0x24c0e5['mask']&_0x37d323&&_0x3bd49c['push'](_0x24c0e5);}}}const d_=(_0x36a7ef,_0x16fb70)=>{if(_0x36a7ef['length']!==_0x16fb70['length'])return!(0x40c+0x1421+-0x1*0x182c);for(let _0x3019d1=0x161f+0x154c+0x27*-0x11d;_0x3019d1<_0x36a7ef['length'];++_0x3019d1)if(_0x36a7ef[_0x3019d1]!==_0x16fb70[_0x3019d1])return!(-0x21b9+-0x2*-0xde3+0x5f4);return!(0xab8+-0x1e3b+0x1*0x1383);},KC=_0x25840b=>_0x25840b['r']!==-0xac7+0x1c5*-0x1+0xc8d||_0x25840b['g']!==-0x1f34+0xa*-0xe5+-0x21d*-0x13||_0x25840b['b']!==-0x7ee+0x95b*-0x1+-0x8a5*-0x2,ZC=_0x118237=>_0x118237['r']!==0x8*-0x37f+0x259c+-0x9a4||_0x118237['g']!==-0x1*0x20fb+-0x2700+0x47fb||_0x118237['b']!==0x4*0xbf+0xd78+-0x1074;class QC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x46f5ff,_0xb918d8,_0x23a660,_0x1bd473,_0x315b5d,_0x507c9b){this['_updateSha'+'redOptions'](_0x46f5ff,_0xb918d8,_0x23a660,_0x1bd473,_0x315b5d),this['_updateMin'+'Options'](_0x46f5ff,_0x23a660,_0x315b5d),this['_updateUVO'+'ptions'](_0x46f5ff,_0x23a660,_0x1bd473,!(-0xac1+-0x2*-0x1057+-0x15ed));}['updateRef'](_0xbb093,_0x4959a9,_0xc99f14,_0x257437,_0x291a67,_0x536e1b,_0x41bc42){this['_updateSha'+'redOptions'](_0xbb093,_0x4959a9,_0x257437,_0x291a67,_0x536e1b),this['_updateEnv'+'Options'](_0xbb093,_0x257437,_0x4959a9,_0xc99f14),this['_updateMat'+'erialOptio'+'ns'](_0xbb093,_0x257437),_0xbb093['litOptions']['hasTangent'+'s']=_0x291a67&&(_0x291a67&Dp)!==-0x68a+0x3*-0x55d+0x16a1,this['_updateLig'+'htOptions'](_0xbb093,_0x4959a9,_0x257437,_0x291a67,_0x41bc42),this['_updateUVO'+'ptions'](_0xbb093,_0x257437,_0x291a67,!(-0xd*0x2a9+-0x5*-0x1fd+0x18a5),_0xc99f14);}['_updateSha'+'redOptions'](_0x16bf4d,_0x29b22c,_0x3eb3d7,_0x5a9db1,_0x30d7fa){_0x16bf4d['forceUv1']=_0x3eb3d7['forceUv1'],_0x3eb3d7['userAttrib'+'utes']&&(_0x16bf4d['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x3eb3d7['userAttrib'+'utes']['entries']())),_0x16bf4d['litOptions']['chunks']=_0x3eb3d7['chunks']||{},_0x16bf4d['litOptions']['pass']=_0x30d7fa,_0x16bf4d['litOptions']['alphaTest']=_0x3eb3d7['alphaTest']>-0x3*0xcb4+-0x27*0xfc+0x4c80,_0x16bf4d['litOptions']['blendType']=_0x3eb3d7['blendType'],_0x16bf4d['litOptions']['screenSpac'+'e']=_0x5a9db1&&(_0x5a9db1&Ip)!==-0x57c+-0xc*0x25+0x738,_0x16bf4d['litOptions']['skin']=_0x5a9db1&&(_0x5a9db1&jc)!==-0x129e+-0x14b*-0x3+0xebd,_0x16bf4d['litOptions']['batch']=_0x5a9db1&&(_0x5a9db1&zu)!==-0x72e*-0x2+-0x268+-0xbf4*0x1,_0x16bf4d['litOptions']['useInstanc'+'ing']=_0x5a9db1&&(_0x5a9db1&Yc)!==-0x24b*0x8+-0x1*0x26dd+0x3935,_0x16bf4d['litOptions']['useMorphPo'+'sition']=_0x5a9db1&&(_0x5a9db1&Kc)!==0x235e+-0x768+-0x1bf6,_0x16bf4d['litOptions']['useMorphNo'+'rmal']=_0x5a9db1&&(_0x5a9db1&Zc)!==-0x1eb1+0x1b17+0x39a,_0x16bf4d['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x5a9db1&&(_0x5a9db1&Qc)!==0x3c3+-0xb99+0x7d6,_0x16bf4d['litOptions']['nineSliced'+'Mode']=_0x3eb3d7['nineSliced'+'Mode']||-0x23f+-0xdf6+0x1035,_0x29b22c['clusteredL'+'ightingEna'+'bled']&&_0x3eb3d7['useLightin'+'g']?(_0x16bf4d['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x10e3+-0x1*0x1721+0x2f*0x22),_0x16bf4d['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x29b22c['lighting']['cookiesEna'+'bled'],_0x16bf4d['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x29b22c['lighting']['shadowsEna'+'bled'],_0x16bf4d['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x29b22c['lighting']['shadowType'],_0x16bf4d['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x29b22c['lighting']['areaLights'+'Enabled']):(_0x16bf4d['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x1800+-0x5*0x45b+0x2dc8),_0x16bf4d['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x1*0x2666+0x94d*-0x1+-0x1d18),_0x16bf4d['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x191*0x11+-0x1f08*0x1+0x468*0x1),_0x16bf4d['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x2e*-0x83+0x25bb+-0xe30));}['_updateUVO'+'ptions'](_0x530106,_0x551639,_0x396e1e,_0xf73594,_0x7a2a07){let _0x2030b4=!(0x1db9+0x3*0x981+0x1369*-0x3),_0x40d66e=!(-0x287*0x5+0x1*-0x22bf+0x6c5*0x7),_0x58df5b=!(-0xe8b+-0x4*0x24d+0xa*0x260);_0x396e1e&&(_0x2030b4=(_0x396e1e&_0)!==-0x4d5*0x2+-0x19d8+0x11c1*0x2,_0x40d66e=(_0x396e1e&g0)!==-0xef1+0x1361+-0x470,_0x58df5b=(_0x396e1e&y0)!==-0x1*-0x1cc5+-0x2d1*-0x5+-0x2ada),_0x530106['litOptions']['vertexColo'+'rs']=!(0x14b6+-0x7*-0x30d+0xa84*-0x4),this['_mapXForms']=[];const _0x2386b1={};for(const _0x3cc6bf in ma)this['_updateTex'+'Options'](_0x530106,_0x551639,_0x3cc6bf,_0x2030b4,_0x40d66e,_0x58df5b,_0xf73594,_0x2386b1);this['_mapXForms']=null,_0x530106['litOptions']['ssao']=_0x7a2a07==null?void(-0x1b36+0x2*-0xd99+0x6cd*0x8):_0x7a2a07['ssaoEnable'+'d'],_0x530106['useAO']=_0x530106['litOptions']['ssao'],_0x530106['litOptions']['lightMapEn'+'abled']=_0x530106['lightMap'],_0x530106['litOptions']['dirLightMa'+'pEnabled']=_0x530106['dirLightMa'+'p'],_0x530106['litOptions']['useHeights']=_0x530106['heightMap'],_0x530106['litOptions']['useNormals']=_0x530106['normalMap'],_0x530106['litOptions']['useClearCo'+'atNormals']=_0x530106['clearCoatN'+'ormalMap'],_0x530106['litOptions']['useAo']=_0x530106['aoMap']||_0x530106['aoVertexCo'+'lor']||_0x530106['litOptions']['ssao'],_0x530106['litOptions']['diffuseMap'+'Enabled']=_0x530106['diffuseMap'];}['_updateTex'+'Options'](_0x40b3e4,_0x562aa0,_0x5da819,_0x4ea15a,_0x7c62d6,_0x17b478,_0x34668a,_0x473950){const _0x4c9869=_0x5da819==='opacity';if(!_0x34668a||_0x4c9869){const _0x102f80=_0x5da819+'Map',_0x1eb901=_0x5da819+('VertexColo'+'r'),_0x3d99fd=_0x5da819+('VertexColo'+'rChannel'),_0x3b83de=_0x102f80+'Channel',_0x56e9c5=_0x102f80+'Transform',_0x473638=_0x102f80+'Uv',_0x2bd39d=_0x102f80+'Identifier';if(_0x5da819!=='light'&&(_0x40b3e4[_0x102f80]=!(0xf36+0xb*0x169+-0x1eb8),_0x40b3e4[_0x2bd39d]=void(-0x4f3*0x4+0x2405*0x1+-0x1039*0x1),_0x40b3e4[_0x3b83de]='',_0x40b3e4[_0x56e9c5]=-0x134a*0x1+-0x4cf+0x1*0x1819,_0x40b3e4[_0x473638]=-0x1f9d+0x100+0x11*0x1cd),_0x40b3e4[_0x1eb901]=!(-0x17*-0x8e+-0x14c5+0x804),_0x40b3e4[_0x3d99fd]='',_0x4c9869&&_0x562aa0['blendType']===hs&&_0x562aa0['alphaTest']===0x164*-0x2+0x143b*-0x1+0x89*0x2b&&!_0x562aa0['alphaToCov'+'erage']&&_0x562aa0['opacityDit'+'her']===Os)return;if(_0x5da819!=='height'&&_0x562aa0[_0x1eb901]&&_0x17b478&&(_0x40b3e4[_0x1eb901]=_0x562aa0[_0x1eb901],_0x40b3e4[_0x3d99fd]=_0x562aa0[_0x3d99fd],_0x40b3e4['litOptions']['vertexColo'+'rs']=!(-0x18f9+-0x26f8+0x3ff1)),_0x562aa0[_0x102f80]){let _0x2ab62d=!(-0xd*0x68+0x1*0x1bd1+-0x3*0x783);if(_0x562aa0[_0x473638]===0x16f*0x19+0x39*0x4e+0x1*-0x3535&&!_0x4ea15a&&(_0x2ab62d=!(0x1*0x1715+0x3*-0x819+0x137)),_0x562aa0[_0x473638]===0x1*-0x116a+-0x2f1+-0x2*-0xa2e&&!_0x7c62d6&&(_0x2ab62d=!(0x2323+0x3ac+0x2*-0x1367)),_0x2ab62d){const _0x205bbf=_0x562aa0[_0x102f80]['id'];let _0x388761=_0x473950[_0x205bbf];_0x388761===void(-0x11bc+-0x23c7+0x3583)&&(_0x473950[_0x205bbf]=_0x5da819,_0x388761=_0x5da819),_0x40b3e4[_0x102f80]=!!_0x562aa0[_0x102f80],_0x40b3e4[_0x2bd39d]=_0x388761,_0x40b3e4[_0x56e9c5]=this['_getMapTra'+'nsformID'](_0x562aa0['getUniform'](_0x56e9c5),_0x562aa0[_0x473638]),_0x40b3e4[_0x3b83de]=_0x562aa0[_0x3b83de],_0x40b3e4[_0x473638]=_0x562aa0[_0x473638];}}}}['_updateMin'+'Options'](_0x3cfd16,_0x4a3466,_0x3898b8){const _0x1ddb2c=_0x3898b8===ol;_0x3cfd16['litOptions']['opacitySha'+'dowDither']=_0x1ddb2c?_0x4a3466['opacityDit'+'her']:_0x4a3466['opacitySha'+'dowDither'],_0x3cfd16['litOptions']['linearDept'+'h']=_0x1ddb2c,_0x3cfd16['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x38ed98,_0x3b3324){var _0x4f4b3c,_0x4aba1c,_0x164126,_0x3adb92;const _0x673eab=!!(_0x3b3324['useMetalne'+'ss']||_0x3b3324['specularMa'+'p']||_0x3b3324['sphereMap']||_0x3b3324['cubeMap']||ZC(_0x3b3324['specular'])||_0x3b3324['specularit'+'yFactor']>0xc9c+-0x4*-0x7b2+-0x2b64&&_0x3b3324['useMetalne'+'ss']||_0x3b3324['enableGGXS'+'pecular']||_0x3b3324['clearCoat']>0x89*-0x15+-0x188b+-0x1*-0x23c8),_0x50dbe7=!_0x3b3324['useMetalne'+'ss']||_0x3b3324['useMetalne'+'ssSpecular'+'Color'],_0x43673a=_0x673eab&&(_0x3b3324['specularTi'+'nt']||!_0x3b3324['specularMa'+'p']&&!_0x3b3324['specularVe'+'rtexColor'])&&KC(_0x3b3324['specular']),_0x343bef=_0x673eab&&_0x3b3324['useMetalne'+'ssSpecular'+'Color']&&(_0x3b3324['specularit'+'yFactorTin'+'t']||_0x3b3324['specularit'+'yFactor']<-0x115a+-0x3*0x76+-0x7b*-0x27&&!_0x3b3324['specularit'+'yFactorMap']),_0x3f23e5=_0x3b3324['normalMap']?_0x3b3324['normalMap']['format']===Yo||_0x3b3324['normalMap']['type']===dp:!(0x18d4+-0x2*-0x19+-0x1905),_0x1aa642=(_0x164540,_0x1edcb0)=>Math['abs'](_0x164540-_0x1edcb0)<0xa1d+0x1*-0x12fa+0x8dd+0.0001;_0x38ed98['specularTi'+'nt']=_0x43673a?-0xb1*0x38+-0x11ef*0x2+-0x3e*-0x134:0x1c1+0x8*-0xb6+0x3ef,_0x38ed98['specularit'+'yFactorTin'+'t']=_0x343bef?0x1*0x2425+0x11cd+0x3*-0x11fb:-0x1e6b+-0x1fd5*0x1+-0xc0*-0x53,_0x38ed98['metalnessT'+'int']=_0x3b3324['useMetalne'+'ss']&&_0x3b3324['metalness']<-0x1*0x1b37+-0x1f8c+0x2*0x1d62?-0x22ae+0x772+-0x13*-0x16f:0x1fb1+-0x1281+0x10*-0xd3,_0x38ed98['glossTint']=0x82*-0x15+0x12f5*-0x1+0x1da0,_0x38ed98['diffuseEnc'+'oding']=(_0x4f4b3c=_0x3b3324['diffuseMap'])==null?void(0x2541+-0x2*-0xf5f+0x1*-0x43ff):_0x4f4b3c['encoding'],_0x38ed98['diffuseDet'+'ailEncodin'+'g']=(_0x4aba1c=_0x3b3324['diffuseDet'+'ailMap'])==null?void(-0x1*-0x2015+0x20b8+0x139*-0x35):_0x4aba1c['encoding'],_0x38ed98['emissiveEn'+'coding']=(_0x164126=_0x3b3324['emissiveMa'+'p'])==null?void(0xe58+-0x19a7+0xb4f):_0x164126['encoding'],_0x38ed98['lightMapEn'+'coding']=(_0x3adb92=_0x3b3324['lightMap'])==null?void(0x3*-0x64d+-0x295+0xdc*0x19):_0x3adb92['encoding'],_0x38ed98['packedNorm'+'al']=_0x3f23e5,_0x38ed98['refraction'+'Tint']=_0x1aa642(_0x3b3324['refraction'],0x1*0xd76+-0x9fe*0x2+-0x687*-0x1)?0x5*0x21b+-0x12c1*0x1+0x83a:-0x1*0x1d66+0x11aa+0xbbd*0x1,_0x38ed98['refraction'+'IndexTint']=_0x1aa642(_0x3b3324['refraction'+'Index'],(-0x5*-0x662+0x23b8+-0x43a1)/(-0x167c+0xe53+0x82a+0.5))?0x812*0x1+0x606+-0x70c*0x2:0x3*-0xcc+0x44f*0x2+-0x639,_0x38ed98['thicknessT'+'int']=_0x3b3324['useDynamic'+'Refraction']&&_0x3b3324['thickness']!==0xc40+-0x18d1+0xc92?-0x5*0x66b+-0x2249+-0x1*-0x4261:-0x4d7+-0x269*-0x3+0xcc*-0x3,_0x38ed98['specularEn'+'coding']=_0x3b3324['specularEn'+'coding']||'linear',_0x38ed98['sheenEncod'+'ing']=_0x3b3324['sheenEncod'+'ing']||'linear',_0x38ed98['aoMapUv']=_0x3b3324['aoUvSet'],_0x38ed98['aoDetail']=!!_0x3b3324['aoMap'],_0x38ed98['diffuseDet'+'ail']=!!_0x3b3324['diffuseMap'],_0x38ed98['normalDeta'+'il']=!!_0x3b3324['normalMap'],_0x38ed98['diffuseDet'+'ailMode']=_0x3b3324['diffuseDet'+'ailMode'],_0x38ed98['aoDetailMo'+'de']=_0x3b3324['aoDetailMo'+'de'],_0x38ed98['clearCoatT'+'int']=_0x1aa642(_0x3b3324['clearCoat'],-0x1369*-0x1+-0x1*0x13fd+0x1*0x95)?-0xb*-0x2d7+0xfdb+-0x2f18:0x1164+-0x60*0x65+0x147d,_0x38ed98['clearCoatG'+'loss']=!!_0x3b3324['clearCoatG'+'loss'],_0x38ed98['clearCoatG'+'lossTint']=_0x3b3324['clearCoatG'+'loss']!==-0x163*0x1+0x2d*0x3c+-0x928?0x1b10+-0x1d55+0x246:-0x3*0xb0b+-0x23c5*-0x1+-0x2a4,_0x38ed98['iorTint']=_0x1aa642(_0x3b3324['refraction'+'Index'],(0x1f*0xf+-0x9*0x1d5+0xead)/(0x1*0x4cc+0x628+0xaf3*-0x1+0.5))?-0x1*-0x127b+0xe*-0x2bd+0x13db:0x1126+0xbf6*-0x3+0x171*0xd,_0x38ed98['iridescenc'+'eTint']=_0x3b3324['iridescenc'+'e']!==0x2*0x11e+0xf2*-0x11+0xdd7*0x1?0x2237+0x1*-0x2e7+-0x7*0x479:0x520+0xd3+0x1*-0x5f3,_0x38ed98['glossInver'+'t']=_0x3b3324['glossInver'+'t'],_0x38ed98['sheenGloss'+'Invert']=_0x3b3324['sheenGloss'+'Invert'],_0x38ed98['clearCoatG'+'lossInvert']=_0x3b3324['clearCoatG'+'lossInvert'],_0x38ed98['useSpecula'+'rColor']=_0x50dbe7,_0x38ed98['litOptions']['separateAm'+'bient']=!(0x8d4*0x2+-0x19f9+0x2c6*0x3),_0x38ed98['litOptions']['customFrag'+'mentShader']=_0x3b3324['customFrag'+'mentShader'],_0x38ed98['litOptions']['pixelSnap']=_0x3b3324['pixelSnap'],_0x38ed98['litOptions']['ambientSH']=!!_0x3b3324['ambientSH'],_0x38ed98['litOptions']['twoSidedLi'+'ghting']=_0x3b3324['twoSidedLi'+'ghting'],_0x38ed98['litOptions']['occludeSpe'+'cular']=_0x3b3324['occludeSpe'+'cular'],_0x38ed98['litOptions']['occludeSpe'+'cularFloat']=_0x3b3324['occludeSpe'+'cularInten'+'sity']!==-0x10a3+0x1048+0x5c,_0x38ed98['litOptions']['useMsdf']=!!_0x3b3324['msdfMap'],_0x38ed98['litOptions']['msdfTextAt'+'tribute']=!!_0x3b3324['msdfTextAt'+'tribute'],_0x38ed98['litOptions']['alphaToCov'+'erage']=_0x3b3324['alphaToCov'+'erage'],_0x38ed98['litOptions']['opacityFad'+'esSpecular']=_0x3b3324['opacityFad'+'esSpecular'],_0x38ed98['litOptions']['opacityDit'+'her']=_0x3b3324['opacityDit'+'her'],_0x38ed98['litOptions']['cubeMapPro'+'jection']=_0x3b3324['cubeMapPro'+'jection'],_0x38ed98['litOptions']['occludeDir'+'ect']=_0x3b3324['occludeDir'+'ect'],_0x38ed98['litOptions']['useSpecula'+'r']=_0x673eab,_0x38ed98['litOptions']['useSpecula'+'rityFactor']=(_0x343bef||!!_0x3b3324['specularit'+'yFactorMap'])&&_0x3b3324['useMetalne'+'ssSpecular'+'Color'],_0x38ed98['litOptions']['enableGGXS'+'pecular']=_0x3b3324['enableGGXS'+'pecular'],_0x38ed98['litOptions']['fresnelMod'+'el']=_0x3b3324['fresnelMod'+'el'],_0x38ed98['litOptions']['useRefract'+'ion']=(_0x3b3324['refraction']||!!_0x3b3324['refraction'+'Map'])&&(_0x3b3324['useDynamic'+'Refraction']||!!_0x38ed98['litOptions']['reflection'+'Source']),_0x38ed98['litOptions']['useClearCo'+'at']=!!_0x3b3324['clearCoat'],_0x38ed98['litOptions']['useSheen']=_0x3b3324['useSheen'],_0x38ed98['litOptions']['useIridesc'+'ence']=_0x3b3324['useIridesc'+'ence']&&_0x3b3324['iridescenc'+'e']!==-0x1*-0xb1b+-0xb3b+0x20,_0x38ed98['litOptions']['useMetalne'+'ss']=_0x3b3324['useMetalne'+'ss'],_0x38ed98['litOptions']['useDynamic'+'Refraction']=_0x3b3324['useDynamic'+'Refraction'],_0x38ed98['litOptions']['dispersion']=_0x3b3324['dispersion']>0x11*-0x79+-0x1ba4+0x23ad;}['_updateEnv'+'Options'](_0x12042b,_0xcd1865,_0x544359,_0x235277){_0x12042b['litOptions']['fog']=_0xcd1865['useFog']?_0x235277['fog']:Ba,_0x12042b['litOptions']['gamma']=_0x235277['shaderOutp'+'utGamma'],_0x12042b['litOptions']['toneMap']=_0xcd1865['useTonemap']?_0x235277['toneMappin'+'g']:p0;let _0x58552a=!(-0x519+0x183b+-0x53*0x3b);if(_0xcd1865['envAtlas']&&_0xcd1865['cubeMap']?(_0x12042b['litOptions']['reflection'+'Source']='envAtlasHQ',_0x12042b['litOptions']['reflection'+'Encoding']=_0xcd1865['envAtlas']['encoding'],_0x12042b['litOptions']['reflection'+'CubemapEnc'+'oding']=_0xcd1865['cubeMap']['encoding']):_0xcd1865['envAtlas']?(_0x12042b['litOptions']['reflection'+'Source']='envAtlas',_0x12042b['litOptions']['reflection'+'Encoding']=_0xcd1865['envAtlas']['encoding']):_0xcd1865['cubeMap']?(_0x12042b['litOptions']['reflection'+'Source']='cubeMap',_0x12042b['litOptions']['reflection'+'Encoding']=_0xcd1865['cubeMap']['encoding']):_0xcd1865['sphereMap']?(_0x12042b['litOptions']['reflection'+'Source']='sphereMap',_0x12042b['litOptions']['reflection'+'Encoding']=_0xcd1865['sphereMap']['encoding']):_0xcd1865['useSkybox']&&_0x544359['envAtlas']&&_0x544359['skybox']?(_0x12042b['litOptions']['reflection'+'Source']='envAtlasHQ',_0x12042b['litOptions']['reflection'+'Encoding']=_0x544359['envAtlas']['encoding'],_0x12042b['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x544359['skybox']['encoding'],_0x58552a=!(0xb*0x1b7+-0xe6*-0xf+-0x2057)):_0xcd1865['useSkybox']&&_0x544359['envAtlas']?(_0x12042b['litOptions']['reflection'+'Source']='envAtlas',_0x12042b['litOptions']['reflection'+'Encoding']=_0x544359['envAtlas']['encoding'],_0x58552a=!(0x758+-0x228a+0x1b32)):_0xcd1865['useSkybox']&&_0x544359['skybox']?(_0x12042b['litOptions']['reflection'+'Source']='cubeMap',_0x12042b['litOptions']['reflection'+'Encoding']=_0x544359['skybox']['encoding'],_0x58552a=!(0xa85+-0x2605+0x1b80)):(_0x12042b['litOptions']['reflection'+'Source']=null,_0x12042b['litOptions']['reflection'+'Encoding']=null),_0xcd1865['ambientSH'])_0x12042b['litOptions']['ambientSou'+'rce']='ambientSH',_0x12042b['litOptions']['ambientEnc'+'oding']=null;else{const _0x140a92=_0xcd1865['envAtlas']||(_0xcd1865['useSkybox']&&_0x544359['envAtlas']?_0x544359['envAtlas']:null);_0x140a92&&!_0xcd1865['sphereMap']?(_0x12042b['litOptions']['ambientSou'+'rce']='envAtlas',_0x12042b['litOptions']['ambientEnc'+'oding']=_0x140a92['encoding']):(_0x12042b['litOptions']['ambientSou'+'rce']='constant',_0x12042b['litOptions']['ambientEnc'+'oding']=null);}_0x12042b['litOptions']['skyboxInte'+'nsity']=_0x58552a,_0x12042b['litOptions']['useCubeMap'+'Rotation']=_0x58552a&&_0x544359['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x588da1,_0x5c5a1a,_0x957774,_0x1396d8,_0x886f97){if(_0x588da1['lightMap']=!(0x1664+-0x1df8+0x795),_0x588da1['lightMapCh'+'annel']='',_0x588da1['lightMapUv']=-0x1*0x1a7d+0xa*-0x2b9+-0x35b7*-0x1,_0x588da1['lightMapTr'+'ansform']=0x5d4*0x3+0x253c+-0x36b8,_0x588da1['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1056+-0x141d+-0x2*-0x123a),_0x588da1['dirLightMa'+'p']=!(0x1*-0x17c3+0x80d+-0xfb7*-0x1),_0x1396d8&&(_0x588da1['litOptions']['noShadow']=(_0x1396d8&Rp)!==-0x1364+-0x34d+0x1*0x16b1,(_0x1396d8&Nu)!==-0x3*0x22f+0xf*0xc5+-0x4fe&&(_0x588da1['lightMapEn'+'coding']=_0x5c5a1a['lightmapPi'+'xelFormat']===Te?'rgbm':'linear',_0x588da1['lightMap']=!(0x1c6c+-0x7cf*-0x2+0x3*-0xeae),_0x588da1['lightMapCh'+'annel']='rgb',_0x588da1['lightMapUv']=0x1*0x236b+0x249+0x25b3*-0x1,_0x588da1['lightMapTr'+'ansform']=-0x14fc+-0x3*0xb7b+-0x7*-0x7eb,_0x588da1['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x957774['lightMap'],(_0x1396d8&x0)!==0x1*0x181d+0xf13+-0x3*0xd10&&(_0x588da1['dirLightMa'+'p']=!(0x1232+0x16bb*-0x1+-0x1b*-0x2b)),(_0x1396d8&S0)!==-0x19a2+-0x744+-0x20e6*-0x1&&(_0x588da1['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x798+0x2387+-0x158f*0x2)))),_0x957774['useLightin'+'g']){const _0x349aac=[],_0x8666c9=_0x1396d8?_0x1396d8>>-0x8d*0x35+0x19*0x8e+0xd*0x12f:ms;_0x588da1['litOptions']['lightMaskD'+'ynamic']=!!(_0x8666c9&ms),_0x886f97&&(Is['collectLig'+'hts'](le,_0x886f97[le],_0x349aac,_0x8666c9),Is['collectLig'+'hts'](Le,_0x886f97[Le],_0x349aac,_0x8666c9),Is['collectLig'+'hts'](Fe,_0x886f97[Fe],_0x349aac,_0x8666c9)),_0x588da1['litOptions']['lights']=_0x349aac;}else _0x588da1['litOptions']['lights']=[];_0x588da1['litOptions']['lights']['length']===-0x48f+0x11b3+-0x2*0x692&&(_0x588da1['litOptions']['noShadow']=!(0x235f+0x1d18+-0x4077));}['_getMapTra'+'nsformID'](_0x26e309,_0x37d999){if(!_0x26e309)return 0x43*-0x89+-0x23aa+0x4785;let _0x547680=this['_mapXForms'][_0x37d999];_0x547680||(_0x547680=[],this['_mapXForms'][_0x37d999]=_0x547680);for(let _0x34d600=0x22cd+-0x18ec+-0x9e1;_0x34d600<_0x547680['length'];_0x34d600++)if(d_(_0x547680[_0x34d600][0xfa4+0x2b*0xb3+-0x2db5]['value'],_0x26e309[0x29c+0xace+0xd6a*-0x1]['value'])&&d_(_0x547680[_0x34d600][0x1*0x2302+0x3*0x1af+-0x280e]['value'],_0x26e309[0xcf3+0x18+-0xd0a]['value']))return _0x34d600+(-0x4*-0x79a+-0x682*-0x6+0x305*-0x17);return _0x547680['push'](_0x26e309);}}function Ze(_0x37af46,_0x28c853=!(0x1b2f*-0x1+-0x2460+0x1*0x3f8f),_0x4a22a2=!(0x1420+0xc*-0x167+0x1*-0x34c)){const _0x347df9={};return _0x347df9[_0x37af46+'Map']='texture',_0x347df9[_0x37af46+'MapTiling']='vec2',_0x347df9[_0x37af46+'MapOffset']='vec2',_0x347df9[_0x37af46+('MapRotatio'+'n')]='number',_0x347df9[_0x37af46+'MapUv']='number',_0x28c853&&(_0x347df9[_0x37af46+'MapChannel']='string',_0x4a22a2&&(_0x347df9[_0x37af46+('VertexColo'+'r')]='boolean',_0x347df9[_0x37af46+('VertexColo'+'rChannel')]='string')),_0x347df9;}const Da={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...Ze('ao'),...Ze('aoDetail',!(0x200a+-0x141*-0x7+-0x28d1),!(-0x4f0*0x1+0xba1+-0x6b0)),'aoDetailMode':'string','diffuse':'rgb',...Ze('diffuse'),...Ze('diffuseDet'+'ail',!(-0x1ec4+-0x203f+-0x39*-0x11b),!(0xe28+0x984+-0x17ab)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...Ze('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...Ze('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...Ze('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...Ze('gloss'),'clearCoat':'number',...Ze('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...Ze('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...Ze('clearCoatN'+'ormal',!(0xbe5*0x1+0x1cd4+-0x1*0x28b8)),'useSheen':'boolean','sheen':'rgb',...Ze('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...Ze('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...Ze('emissive'),'emissiveIntensity':'number',...Ze('normal',!(-0x24b7+0x11b5+0x1303)),'bumpiness':'number',...Ze('normalDeta'+'il',!(-0x17*0x125+0x6*0x47b+-0x8e)),'normalDetailMapBumpiness':'number',...Ze('height',!(-0x1*0x107b+0xc64+0x15d*0x3),!(-0x6c7*0x5+-0xbda*0x3+0x4572)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...Ze('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...Ze('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...Ze('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...Ze('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...Ze('iridescenc'+'eThickness'),...Ze('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},ed=[];for(const l in Da)Da[l]==='texture'&&ed['push'](l);const Np=[];for(const l in Da)Da[l]==='cubemap'&&Np['push'](l);const JC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},gh={},R0={};let Ya=new Set();const Bl=new Y();class _s extends Sn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new QC(),this['reset']());}['reset'](){Object['keys'](gh)['forEach'](_0x10aabf=>{this['_'+_0x10aabf]=gh[_0x10aabf]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x29e0fa){return super['copy'](_0x29e0fa),Object['keys'](gh)['forEach'](_0x4fcbfd=>{this[_0x4fcbfd]=_0x29e0fa[_0x4fcbfd];}),this['userAttrib'+'utes']=new Map(_0x29e0fa['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x51ed70,_0x1261de){this['userAttrib'+'utes']['set'](_0x1261de,_0x51ed70);}['_setParame'+'ter'](_0x13e572,_0x1ee11b){Ya['add'](_0x13e572),this['setParamet'+'er'](_0x13e572,_0x1ee11b);}['_setParame'+'ters'](_0x1ac3fb){_0x1ac3fb['forEach'](_0x4dd285=>{this['_setParame'+'ter'](_0x4dd285['name'],_0x4dd285['value']);});}['_processPa'+'rameters'](_0x1fd694){const _0x5bcbff=this[_0x1fd694];_0x5bcbff['forEach'](_0x86aa46=>{Ya['has'](_0x86aa46)||delete this['parameters'][_0x86aa46];}),this[_0x1fd694]=Ya,Ya=_0x5bcbff,Ya['clear']();}['_updateMap'](_0x5ee399){const _0x993298=_0x5ee399+'Map',_0x4950a0=this[_0x993298];if(_0x4950a0){this['_setParame'+'ter']('texture_'+_0x993298,_0x4950a0);const _0x5047e6=_0x993298+'Transform',_0x4d4402=this['getUniform'](_0x5047e6);_0x4d4402&&this['_setParame'+'ters'](_0x4d4402);}}['_allocUnif'+'orm'](_0x459239,_0x8ed9c0){let _0x5c6504=this['_uniformCa'+'che'][_0x459239];return _0x5c6504||(_0x5c6504=_0x8ed9c0(),this['_uniformCa'+'che'][_0x459239]=_0x5c6504),_0x5c6504;}['getUniform'](_0x731cc3,_0x4ee13c,_0x342ec1){return R0[_0x731cc3](this,_0x4ee13c,_0x342ec1);}['updateUnif'+'orms'](_0x3c4fb0,_0x4af58f){const _0x30cd50=_0x5bd703=>this['getUniform'](_0x5bd703,_0x3c4fb0,_0x4af58f);this['_setParame'+'ter']('material_a'+'mbient',_0x30cd50('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x30cd50('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0x12fb+0xe65+-0x1*0x215f)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x30cd50('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x30cd50('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x30cd50('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>0x24*0xa7+0x1*0x619+-0x1d95&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),b['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x1*0x235d+-0x9e3+-0x197a&&this['emissive']['g']===-0x4b4+0x94e+-0x49a&&this['emissive']['b']===-0x1b1+0x20bb+-0x1d*0x112&&b['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x30cd50('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x2260+-0x1fde+0x423e&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x13cd+-0x1*0x3d9+0xbd3*0x2&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x30cd50('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0xd*0x1dd+0x1c1*-0x2+0xe5*0x1f?-0x3d9*0x4+-0x236a+0x3a1*0xe:(-0x78f+-0xb3*-0xc+-0x4*0x35)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x13bc+-0x9da+-0x9e1)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x30cd50('cubeMapPro'+'jectionBox'));for(const _0x1af5ec in ma)this['_updateMap'](_0x1af5ec);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x30cd50('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x3c4fb0,_0x4af58f);}['updateEnvU'+'niforms'](_0x1549d7,_0x5a396b){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x5a396b['envAtlas']&&_0x5a396b['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x5a396b['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x5a396b['skybox'])):_0x5a396b['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x5a396b['envAtlas']):_0x5a396b['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x5a396b['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0xa920db){const {device:_0x1e4fa9,scene:_0xdd86d0,pass:_0x575ece,objDefs:_0x5d405d,sortedLights:_0x17a508,cameraShaderParams:_0xe66b36}=_0xa920db;this['updateEnvU'+'niforms'](_0x1e4fa9,_0xdd86d0);const _0x9c2f4=ti['get'](_0x1e4fa9)['getByIndex'](_0x575ece),_0xa6e33f=_0x575ece===ll||_0x575ece===Na||_0x575ece===ol||_0x9c2f4['isShadow'];let _0x566107=_0xa6e33f?Rd['optionsCon'+'textMin']:Rd['optionsCon'+'text'];_0x566107['defines']=Op(this,_0xa920db),_0xa6e33f?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x566107,_0xdd86d0,this,_0x5d405d,_0x575ece,_0x17a508):this['shaderOptB'+'uilder']['updateRef'](_0x566107,_0xdd86d0,_0xe66b36,this,_0x5d405d,_0x575ece,_0x17a508),_0x566107['defines']['set']('TONEMAP',m0[_0x566107['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x566107=this['onUpdateSh'+'ader'](_0x566107));const _0x94b477=new Jc(_0xa920db['viewUnifor'+'mFormat'],_0xa920db['viewBindGr'+'oupFormat'],_0xa920db['vertexForm'+'at']),_0x128100=za(_0x1e4fa9);_0x128100['register']('standard',Rd);const _0x4f5659=_0x128100['getProgram']('standard',_0x566107,_0x94b477,this['userId']);return this['_dirtyShad'+'er']=!(-0x16b*-0x1+0x91e+-0xa88),_0x4f5659;}['destroy'](){for(const _0x5ac6cc in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x5ac6cc]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(_s,'TEXTURE_PA'+'RAMETERS',ed),c(_s,'CUBEMAP_PA'+'RAMETERS',Np);const td=(_0x1adfa9,_0x2ed32a)=>{R0[_0x1adfa9]=_0x2ed32a;},zp=(_0x4ca17f,_0x526b4d,_0xb9813e,_0x371440)=>{Object['defineProp'+'erty'](_s['prototype'],_0x4ca17f,{'get':_0x371440||function(){return this['_'+_0x4ca17f];},'set':_0xb9813e}),gh[_0x4ca17f]={'value':_0x526b4d};},eM=_0x5e9fa2=>{const _0x4aaa08='_'+_0x5e9fa2['name'],_0x193974=_0x5e9fa2['dirtyShade'+'rFunc']||(()=>!(0x58*-0xe+-0x1*-0x4bd+0x13)),_0x38b47c=function(_0x4d5ea5){const _0x49d6d2=this[_0x4aaa08];_0x49d6d2!==_0x4d5ea5&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x193974(_0x49d6d2,_0x4d5ea5),this[_0x4aaa08]=_0x4d5ea5);};zp(_0x5e9fa2['name'],()=>_0x5e9fa2['defaultVal'+'ue'],_0x38b47c,_0x5e9fa2['getterFunc']);},tM=_0x44ac84=>{const _0x316ca3='_'+_0x44ac84['name'],_0x32a467=_0x44ac84['dirtyShade'+'rFunc']||(()=>!(0x5fd+0x1*-0x1a8+0x1*-0x455)),_0x4e6e43=function(_0x1c7e4b){const _0x23761c=this[_0x316ca3];_0x23761c['equals'](_0x1c7e4b)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x32a467(_0x23761c,_0x1c7e4b),this[_0x316ca3]=_0x23761c['copy'](_0x1c7e4b));};zp(_0x44ac84['name'],()=>_0x44ac84['defaultVal'+'ue']['clone'](),_0x4e6e43,_0x44ac84['getterFunc']);},os=_0x1a359b=>_0x1a359b['defaultVal'+'ue']&&_0x1a359b['defaultVal'+'ue']['clone']?tM(_0x1a359b):eM(_0x1a359b);function qe(_0xa07dec,_0x1cd734='rgb',_0x5bfba0=!(0x1*-0xe99+0x8*-0x4e1+-0x35a1*-0x1),_0x267ca4=-0xf*0x1f1+-0x2160*-0x1+-0x441){ma[_0xa07dec]=_0x1cd734['length']||-(-0xac5*0x1+-0xcb2+-0x1778*-0x1),os({'name':_0xa07dec+'Map','defaultValue':null,'dirtyShaderFunc':(_0x485df9,_0x3d366b)=>!!_0x485df9!=!!_0x3d366b||_0x485df9&&(_0x485df9['type']!==_0x3d366b['type']||_0x485df9['format']!==_0x3d366b['format'])}),os({'name':_0xa07dec+'MapTiling','defaultValue':new W(0xd4f*0x1+-0x531+0x81d*-0x1,0x1102+-0x1*0x2275+0x1174*0x1)}),os({'name':_0xa07dec+'MapOffset','defaultValue':new W(-0xe06*-0x2+-0xb41*0x1+0x1*-0x10cb,0x24f1+-0x2b3+-0x223e)}),os({'name':_0xa07dec+('MapRotatio'+'n'),'defaultValue':0x0}),os({'name':_0xa07dec+'MapUv','defaultValue':_0x267ca4}),_0x1cd734&&(os({'name':_0xa07dec+'MapChannel','defaultValue':_0x1cd734}),_0x5bfba0&&(os({'name':_0xa07dec+('VertexColo'+'r'),'defaultValue':!(-0x6*-0x23e+0xb65*-0x1+0x20e*-0x1)}),os({'name':_0xa07dec+('VertexColo'+'rChannel'),'defaultValue':_0x1cd734})));const _0x3e4a91=_0xa07dec+'MapTiling',_0x5dd495=_0xa07dec+'MapOffset',_0x4c5f72=_0xa07dec+('MapRotatio'+'n'),_0x218f6a=_0xa07dec+('MapTransfo'+'rm');td(_0x218f6a,(_0x5398f1,_0xcb003c,_0x3c96cb)=>{const _0x54eac8=_0x5398f1[_0x3e4a91],_0xa82a69=_0x5398f1[_0x5dd495],_0x3bbcd4=_0x5398f1[_0x4c5f72];if(_0x54eac8['x']===-0x798+0x985+-0x1ec&&_0x54eac8['y']===-0x217c+0x953+-0xc15*-0x2&&_0xa82a69['x']===-0x22f8+0xe25+-0x6f1*-0x3&&_0xa82a69['y']===0x14*-0xd1+0x104b+0x9&&_0x3bbcd4===0xa5*-0x13+0x1fa1*0x1+-0x6*0x33b)return null;const _0x4888a3=_0x5398f1['_allocUnif'+'orm'](_0x218f6a,()=>[{'name':'texture_'+_0x218f6a+'0','value':new Float32Array(0xbab+-0x33e+0x6*-0x167)},{'name':'texture_'+_0x218f6a+'1','value':new Float32Array(0x1*0x11d2+0x1c0c+0x15*-0x22f)}]),_0x6b6c1a=Math['cos'](_0x3bbcd4*z['DEG_TO_RAD']),_0x455294=Math['sin'](_0x3bbcd4*z['DEG_TO_RAD']),_0x1bca93=_0x4888a3[0x9cd+0x1*-0x15aa+0xbdd*0x1]['value'];_0x1bca93[-0x23cf*0x1+-0xb39+0x2f08]=_0x6b6c1a*_0x54eac8['x'],_0x1bca93[-0xa*0x1+-0x1f31+-0x2*-0xf9e]=-_0x455294*_0x54eac8['y'],_0x1bca93[0x1942+0x8ae+-0x1*0x21ee]=_0xa82a69['x'];const _0x15233a=_0x4888a3[-0x7ff*0x1+-0xd*-0x22c+-0x103*0x14]['value'];return _0x15233a[-0x16c1+0x66*-0x15+-0x101*-0x1f]=_0x455294*_0x54eac8['x'],_0x15233a[-0xadf+-0x1f2*-0x5+0x126]=_0x6b6c1a*_0x54eac8['y'],_0x15233a[-0x8*-0x35b+-0x1*0xdf3+-0xce3]=0x13af+0x4*-0x2f+-0x12f2-_0x54eac8['y']-_0xa82a69['y'],_0x4888a3;});}function Pn(_0x440d70,_0x55e929){os({'name':_0x440d70,'defaultValue':_0x55e929,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x86*-0x1+-0x1*0x394+-0x30e*-0x1),this['_'+_0x440d70];}}),td(_0x440d70,(_0xd37b4c,_0x20c868,_0x4f8922)=>{const _0x1ce13f=_0xd37b4c['_allocUnif'+'orm'](_0x440d70,()=>new Float32Array(0xbf5*0x3+0x1*-0x22ed+-0x1*0xef)),_0x1d2e23=_0xd37b4c[_0x440d70];return Bl['linear'](_0x1d2e23),_0x1ce13f[0x2b7*-0xa+-0x171*0xa+0x2990]=Bl['r'],_0x1ce13f[-0x1*-0xb75+0xd22+-0x419*0x6]=Bl['g'],_0x1ce13f[-0x2*-0x89c+0x1b53+-0x2c89]=Bl['b'],_0x1ce13f;});}function Ie(_0x5a7616,_0x5c9e81,_0x226f4d){os({'name':_0x5a7616,'defaultValue':_0x5c9e81,'dirtyShaderFunc':(_0x348bfe,_0x154ac1)=>(_0x348bfe===0x1a3f+-0x18f4+-0x14b||_0x348bfe===0x117*0x11+0xf*0x25d+-0x35f9)!=(_0x154ac1===-0x6d9+-0x205a*-0x1+-0x1981||_0x154ac1===0x1*0x131e+-0x124f*0x1+0x2*-0x67)}),td(_0x5a7616,_0x226f4d);}function Ka(_0x4dca92,_0x3db0fa){os({'name':_0x4dca92,'defaultValue':null,'dirtyShaderFunc':(_0x12a44a,_0x368f31)=>!!_0x12a44a==!!_0x368f31}),td(_0x4dca92,_0x3db0fa);}function Ce(_0x765c45,_0x5c8ab4){os({'name':_0x765c45,'defaultValue':_0x5c8ab4});}function sM(){Pn('ambient',new Y(0x115+0x156f+-0x3*0x781,-0xb1d+-0x9a+-0x7d*-0x18,0x1108+-0x1fd*0xa+0x2db)),Pn('diffuse',new Y(0x21cf+-0x9f6+-0x17d8,-0x26*-0x29+0x6d*0x2b+-0x1864,-0x83e+-0x25bd+0xf54*0x3)),Pn('specular',new Y(-0xabd*-0x3+-0x267e+-0x647*-0x1,-0x1fd2+0x9*0x433+-0x5f9*0x1,0xf0f+0x254b+-0x345a)),Pn('emissive',new Y(-0xd4a+-0x10*0x7f+-0x1*-0x153a,-0xee*-0x24+0x1e79+0x1*-0x3ff1,-0x2532+-0x1b3c+0x406e)),Pn('sheen',new Y(-0xe3e+0x1d7a+-0x1*0xf3b,0xa32+-0x1b60+0x112f,-0x26a7+-0x1*0x114a+0x1b2*0x21)),Pn('attenuatio'+'n',new Y(0x210d+0x17*0x10f+0x7*-0x833,-0xa36*-0x3+0x2*0x421+-0x26e3,-0x415*-0x1+0x1e1e+0xb66*-0x3)),Ie('emissiveIn'+'tensity',0x94a+-0xc94+0x34b),Ie('specularit'+'yFactor',0x163f+-0xa1*0x5+-0x1319),Ie('sheenGloss',-0x16f*-0xf+-0x538+-0x1*0x1049),Ie('gloss',-0xc*-0x289+0x1855+-0x83*0x6b+0.25),Ie('aoIntensit'+'y',0xbde+-0x3a*0x78+0xf53),Ie('heightMapF'+'actor',0x1707+-0x16*0x12b+0x2ac,(_0x40c868,_0x1f8d7b,_0x507d18)=>_0x40c868['heightMapF'+'actor']*(0x50*-0x3+0x2134+-0x2044+0.025)),Ie('opacity',-0x1*-0x12fd+0x4*0x57d+-0x28f0),Ie('alphaFade',-0x1*-0x153b+0x2051+-0x358b),Ie('alphaTest',0x1389+-0x1*0x119b+0x1*-0x1ee),Ie('bumpiness',-0x1*0x1a27+-0x1f3*-0x2+0x1642),Ie('normalDeta'+'ilMapBumpi'+'ness',-0xb*-0x283+0x92*0x2c+-0x34b8),Ie('reflectivi'+'ty',-0x239*0x3+-0x983+0x102f*0x1),Ie('occludeSpe'+'cularInten'+'sity',-0x11bf+0xa32+0x78e),Ie('refraction',0x34*-0x56+0x1*0x114d+0x2b),Ie('refraction'+'Index',(0xd1*0x22+-0x297+-0x192a*0x1)/(0x1*0xef7+-0x8*-0x24a+-0x1*0x2146+0.5)),Ie('dispersion',-0x1846+0xb7a+0xccc),Ie('thickness',-0x4f*-0x6f+-0x2*-0x13a+0x1*-0x24b5),Ie('attenuatio'+'nDistance',-0xf51*-0x1+0x978+0x1b*-0xeb),Ie('metalness',0x2c5+0x11b*-0xc+-0x7*-0x180),Ie('anisotropy',0x2066+0x102b+-0x3091),Ie('clearCoat',-0x6*-0x277+-0x58b+-0x1*0x93f),Ie('clearCoatG'+'loss',0x6*-0xa5+-0xbe6*-0x2+-0x13ed),Ie('clearCoatB'+'umpiness',0x2*0x1f1+-0x544+0x163),Ie('aoUvSet',0x56*-0x23+0x975+-0x13*-0x1f,null),Ie('iridescenc'+'e',0xeb+-0x16c+-0x2b*-0x3),Ie('iridescenc'+'eRefractio'+'nIndex',(-0x30d+-0x3*-0xd+0x2e7)/(-0x8cb*-0x2+0x24+0x15d*-0xd+0.5)),Ie('iridescenc'+'eThickness'+'Min',0x2547*0x1+0x2110+0x1*-0x4657),Ie('iridescenc'+'eThickness'+'Max',0x1c49+-0x305*0x4+0x9*-0x1cd),Ka('ambientSH'),Ka('cubeMapPro'+'jectionBox',(_0x5a15e2,_0x35409f,_0x3428c4)=>{const _0x538114=_0x5a15e2['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x3*0x5e2+0xc*-0xb0+-0x963)},{'name':'envBoxMax','value':new Float32Array(-0x381+-0x1*-0xe71+-0x1*0xaed)}]),_0x5e276f=_0x5a15e2['cubeMapPro'+'jectionBox']['getMin'](),_0x32d2fe=_0x538114[0x24f8+0x1*0x25f1+-0x4ae9]['value'];_0x32d2fe[-0xfb9+0x73d*-0x1+0x2*0xb7b]=_0x5e276f['x'],_0x32d2fe[-0x1326+0x61d*-0x5+-0x1*-0x31b8]=_0x5e276f['y'],_0x32d2fe[-0x7*0x42b+0x1*-0xb1+-0x2*-0xef0]=_0x5e276f['z'];const _0x1e3566=_0x5a15e2['cubeMapPro'+'jectionBox']['getMax'](),_0x5ca429=_0x538114[0x55*-0x4+-0x569+0x6be]['value'];return _0x5ca429[0x14a2+0x2d*-0xc2+0xd78]=_0x1e3566['x'],_0x5ca429[0x1946+0x682*0x6+0x5*-0xcdd]=_0x1e3566['y'],_0x5ca429[-0x655*0x1+-0xa*-0x142+-0x63d]=_0x1e3566['z'],_0x538114;}),Ce('specularTi'+'nt',!(-0x3*0x8d+-0x11*-0x197+0x513*-0x5)),Ce('specularit'+'yFactorTin'+'t',!(-0x1206+-0x924+0x1b2b)),Ce('useMetalne'+'ss',!(0x45b+0x4a9+-0x903)),Ce('useMetalne'+'ssSpecular'+'Color',!(-0x2bd*0x1+0x164d+-0x3*0x685)),Ce('useSheen',!(-0x6f9+-0x1be7+0x22e1*0x1)),Ce('enableGGXS'+'pecular',!(0x7cf*-0x1+0xceb*-0x1+0x14bb)),Ce('occludeDir'+'ect',!(-0x2bf+0x1*0xd1f+-0x127*0x9)),Ce('opacityFad'+'esSpecular',!(0x1aad+-0x1f37*-0x1+0x474*-0xd)),Ce('occludeSpe'+'cular',Vo),Ce('fresnelMod'+'el',Tp),Ce('useDynamic'+'Refraction',!(-0x5*0x518+0x79c*-0x3+-0x1*-0x304d)),Ce('cubeMapPro'+'jection',f0),Ce('customFrag'+'mentShader',null),Ce('useFog',!(0x1749*0x1+0x23bf+-0x3b08)),Ce('useLightin'+'g',!(-0x1*-0x549+0x4c3*-0x3+0x60*0x18)),Ce('useTonemap',!(-0x7ac*0x4+0x2667+0x18b*-0x5)),Ce('useSkybox',!(-0x2611+-0x254c+0x4b5d)),Ce('forceUv1',!(-0x2f*-0x9+-0xeb1*-0x1+0x59*-0x2f)),Ce('pixelSnap',!(-0x2273+0xe2c*0x1+-0x8*-0x289)),Ce('twoSidedLi'+'ghting',!(-0x179b+0x13*-0x1e4+0x27b*0x18)),Ce('nineSliced'+'Mode',void(0x3f*0x4f+-0x8a5+-0x566*0x2)),Ce('msdfTextAt'+'tribute',!(0x6b9*-0x4+-0x1387*0x1+0x2e6c)),Ce('useIridesc'+'ence',!(0x104+0x1636+-0x1739)),Ce('glossInver'+'t',!(0x1e22+0x1ba0+-0x39c1)),Ce('sheenGloss'+'Invert',!(-0x1e1*0x11+-0x1e57*0x1+0x3e49)),Ce('clearCoatG'+'lossInvert',!(0x1d53+0x1e1d+-0x3b6f)),Ce('opacityDit'+'her',Os),Ce('opacitySha'+'dowDither',Os),qe('diffuse'),qe('specular'),qe('emissive'),qe('thickness','g'),qe('specularit'+'yFactor','g'),qe('normal',''),qe('metalness','g'),qe('gloss','g'),qe('opacity','a'),qe('refraction','g'),qe('height','g',!(-0x1cdf+-0x24ac+0xd1c*0x5)),qe('ao','g'),qe('light','rgb',!(0xdf*-0x21+-0x1724+0x33e3*0x1),0xd69+0x257b+0x1*-0x32e3),qe('msdf',''),qe('diffuseDet'+'ail','rgb',!(0x1b05+0x1261+0x1*-0x2d65)),qe('normalDeta'+'il',''),qe('aoDetail','g',!(-0xfa0+0xf67+0x3a)),qe('clearCoat','g'),qe('clearCoatG'+'loss','g'),qe('clearCoatN'+'ormal',''),qe('sheen','rgb'),qe('sheenGloss','g'),qe('iridescenc'+'e','g'),qe('iridescenc'+'eThickness','g'),Ce('diffuseDet'+'ailMode',Bm),Ce('aoDetailMo'+'de',Bm),Ka('cubeMap'),Ka('sphereMap'),Ka('envAtlas');const _0x10edcb=function(){return this['_prefilter'+'edCubemaps'];},_0x360f22=function(_0x171f4a){const _0x3a8818=this['_prefilter'+'edCubemaps'];_0x171f4a=_0x171f4a||[];let _0x49296f=!(0x13ca+0x257*-0xe+0xcf9),_0x21d0c6=!(-0x1967*-0x1+-0x4a5+-0x14c2);for(let _0x3726c7=-0x1*0x249b+0x1*-0x113f+0x35da;_0x3726c7<-0xb78+0x10ad+-0x52f;++_0x3726c7){const _0x59e4c7=_0x171f4a[_0x3726c7]||null;_0x3a8818[_0x3726c7]!==_0x59e4c7&&(_0x3a8818[_0x3726c7]=_0x59e4c7,_0x49296f=!(0x68*-0x32+0x3a8+-0xa4*-0x1a)),_0x21d0c6=_0x21d0c6&&!!_0x3a8818[_0x3726c7];}_0x49296f&&(_0x21d0c6?this['envAtlas']=P0['generatePr'+'efilteredA'+'tlas'](_0x3a8818,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0xd2e+0x1*-0xde7+0x5*0x25));},_0x29f6e6=[null,null,null,null,null,null];zp('prefiltere'+'dCubemaps',()=>_0x29f6e6['slice'](),_0x360f22,_0x10edcb);}sM();const gt=class gt{static['render'](_0x2f97ab,_0x2209de){const _0x3fe539=_0x2209de['device'],_0x35dcf1=_0x2f97ab['cells'],_0x13187e=_0x2f97ab['lightsBuff'+'er'],_0x96e0da=_0x13187e['boundsMin'],_0x4cceff=_0x13187e['boundsDelt'+'a'],_0x74bb2f=_0x96e0da['clone']()['add'](_0x4cceff),_0x3bbbf4=_0x13187e['boundsDelt'+'a']['clone']()['div'](_0x35dcf1),_0x574116=gt['gridPositi'+'ons'],_0x7d33a8=gt['gridColors'],_0x478468=new Y(0x1d4b*-0x1+0x1c*-0x9d+-0x3*-0xf7d+0.3,0x358*-0x5+-0x3*0xa47+0x149*0x25+0.3,-0x260a+0x10e8*0x1+0x1522+0.3),_0x48b860=(_0xd16f2b,_0x2c5efb,_0x583e8a,_0x447be7,_0x3d0ea6,_0x4e7de9,_0x53306c,_0x1343da,_0x26084e)=>{for(let _0x26be6f=-0xeb1*0x1+-0x32*0x13+0x7*0x2a1;_0x26be6f<=_0xd16f2b;_0x26be6f++)for(let _0x33f56d=0x14d4+-0x2314+0x72*0x20;_0x33f56d<=_0x2c5efb;_0x33f56d++){const _0x5637ba=_0x583e8a+_0x26be6f*_0x447be7,_0x250f08=_0x3d0ea6+_0x33f56d*_0x4e7de9;_0x26084e===0x16e1+-0x211e*0x1+0xa3d?_0x574116['push'](_0x5637ba,_0x53306c,_0x250f08,_0x5637ba,_0x1343da,_0x250f08):_0x26084e===-0x215a+-0x1770+0x38cb?_0x574116['push'](_0x5637ba,_0x250f08,_0x53306c,_0x5637ba,_0x250f08,_0x1343da):_0x26084e===0x1ff7+-0x1b*0x14+0x351*-0x9&&_0x574116['push'](_0x53306c,_0x5637ba,_0x250f08,_0x1343da,_0x5637ba,_0x250f08);}};if(_0x48b860(_0x35dcf1['x'],_0x35dcf1['z'],_0x96e0da['x'],_0x3bbbf4['x'],_0x96e0da['z'],_0x3bbbf4['z'],_0x96e0da['y'],_0x74bb2f['y'],0x2288+-0xd87+-0x1501),_0x48b860(_0x35dcf1['x'],_0x35dcf1['y'],_0x96e0da['x'],_0x3bbbf4['x'],_0x96e0da['y'],_0x3bbbf4['y'],_0x96e0da['z'],_0x74bb2f['z'],-0x258c+0x287*0x4+-0x57d*-0x5),_0x48b860(_0x35dcf1['y'],_0x35dcf1['z'],_0x96e0da['y'],_0x3bbbf4['y'],_0x96e0da['z'],_0x3bbbf4['z'],_0x96e0da['x'],_0x74bb2f['x'],0x16b2+-0x69*0x4+-0x6*0x382),_0x574116['length']){const _0x192311=_0x574116['length']/(-0x1bb*-0x5+-0x129a+0x1e*0x55);if(_0x192311!==_0x7d33a8['length']/(-0x49+-0x2*-0xaa1+-0x431*0x5)){_0x7d33a8['length']=-0x3fb+0x132d+0xf32*-0x1;for(let _0x6d412c=-0x6e3+0x11b9+-0xad6*0x1;_0x6d412c<_0x192311;_0x6d412c++)_0x7d33a8['push'](_0x478468['r'],_0x478468['g'],_0x478468['b'],_0x478468['a']);}_0x2209de['drawLineAr'+'rays'](_0x574116,_0x7d33a8),_0x574116['length']=0x12b4+0xed*0x17+-0x27ff;}let _0x2a5bf9=gt['mesh'];_0x2a5bf9||(_0x2a5bf9=new ke(_0x3fe539),_0x2a5bf9['clear'](!(-0x1df*-0x1+0x2277+0x1*-0x2456),!(0x200c*0x1+-0x1*-0x1718+-0xdc9*0x4)),gt['mesh']=_0x2a5bf9);const _0x555418=[],_0x281f05=[],_0x2607e5=[],_0x5edccb=_0x2f97ab['_cells']['x'],_0x19e078=_0x2f97ab['_cells']['z'],_0x510474=_0x2f97ab['counts'],_0x33695c=_0x2f97ab['_maxCellLi'+'ghtCount'],_0x5362d3=new A(),_0x232f7f=new A(),_0x3e5a02=new A(),_0x32bda6=_0x4cceff['clone']()['div'](_0x35dcf1);let _0xa676e5=-0x2137+-0x450*0x5+0x25*0x17b;for(let _0x5aeac3=0x1333+0x2*0xd64+-0x2dfb*0x1;_0x5aeac3<_0x35dcf1['x'];_0x5aeac3++)for(let _0x15766e=0x1b8f+-0x54*-0x10+0x25*-0xe3;_0x15766e<_0x35dcf1['z'];_0x15766e++)for(let _0xcd87f4=-0x220b+0x146a+0xda1;_0xcd87f4<_0x35dcf1['y'];_0xcd87f4++){const _0x3a37c9=_0x5aeac3+_0x5edccb*(_0x15766e+_0xcd87f4*_0x19e078),_0x1636f7=_0x510474[_0x3a37c9];if(_0x1636f7>-0x166d+0x218a+-0xb1d){_0x5362d3['x']=_0x96e0da['x']+_0x32bda6['x']*_0x5aeac3,_0x5362d3['y']=_0x96e0da['y']+_0x32bda6['y']*_0xcd87f4,_0x5362d3['z']=_0x96e0da['z']+_0x32bda6['z']*_0x15766e,_0x232f7f['add2'](_0x5362d3,_0x32bda6),_0x555418['push'](_0x5362d3['x'],_0x5362d3['y'],_0x232f7f['z']),_0x555418['push'](_0x232f7f['x'],_0x5362d3['y'],_0x232f7f['z']),_0x555418['push'](_0x232f7f['x'],_0x232f7f['y'],_0x232f7f['z']),_0x555418['push'](_0x5362d3['x'],_0x232f7f['y'],_0x232f7f['z']),_0x555418['push'](_0x232f7f['x'],_0x5362d3['y'],_0x5362d3['z']),_0x555418['push'](_0x5362d3['x'],_0x5362d3['y'],_0x5362d3['z']),_0x555418['push'](_0x5362d3['x'],_0x232f7f['y'],_0x5362d3['z']),_0x555418['push'](_0x232f7f['x'],_0x232f7f['y'],_0x5362d3['z']),_0x3e5a02['lerp'](gt['colorLow'],gt['colorHigh'],_0x1636f7/_0x33695c)['round']();for(let _0x5d5d9a=-0x44*-0x74+-0x23ea+0x2*0x28d;_0x5d5d9a<-0xac1*0x1+-0x1a21+0x96*0x3f;_0x5d5d9a++)_0x281f05['push'](_0x3e5a02['x'],_0x3e5a02['y'],_0x3e5a02['z'],-0x227b+0x1ac8+0x44*0x1d);_0x2607e5['push'](_0xa676e5*(-0x1*-0x12df+0x1*-0x12b3+-0x24)+(0x9e*0x10+0x15bc+-0x1f9c),_0xa676e5*(-0x2*-0xf77+-0x166+-0x1d80)+(-0x2232*-0x1+0x15*-0x33+-0x1e02),_0xa676e5*(0x174d+0x5*-0x1fd+-0x2*0x6aa)+(-0x1f68+0x1089+0xf*0xfe)),_0x2607e5['push'](_0xa676e5*(-0xa72+-0x3*-0x997+0x124b*-0x1)+(0x1729+-0x3*0x3ec+-0xb62),_0xa676e5*(-0x11c3+-0xd9a+0x1f65)+(0xdd+0x3*0x5c3+-0x1225),_0xa676e5*(-0x1fc8+0x41c*0x3+0x137c)+(0x116a+0x1*0x38b+-0x14f3*0x1)),_0x2607e5['push'](_0xa676e5*(0x1989+0x1cc0+0x143*-0x2b)+(0x1*-0x1e5f+-0x46a*0x8+0x79*0x8b),_0xa676e5*(0xb5*0x9+-0x17f*-0xa+-0x154b)+(-0x1*0x1492+-0x97a+-0x1e11*-0x1),_0xa676e5*(0x66+0x213d+-0x219b)+(-0x15*0x95+-0x256b+0x31ab)),_0x2607e5['push'](_0xa676e5*(-0x1406+0x2*-0x971+0x26f0)+(-0x9e3*0x3+0xf5*-0x18+-0xa*-0x544),_0xa676e5*(0x236+0x1589+-0x17b7)+(0x20f6+-0x3*0x57a+-0x1083),_0xa676e5*(0x2304+0x1e86+-0x186*0x2b)+(-0x8*0xa8+-0x9*0x19c+0x13c2)),_0x2607e5['push'](_0xa676e5*(-0x1ad2+-0x24b0*-0x1+-0x2*0x4eb)+(-0x4b0+-0x20fe+0x25b1),_0xa676e5*(0x1a12+-0x1bd7+0x1cd)+(-0x63a+-0x3*-0x99f+-0x16a1),_0xa676e5*(-0x1*-0x240d+0x5b*0x4+-0x163*0x1b)+(-0x1173+-0x1*-0x6d7+0xaa2)),_0x2607e5['push'](_0xa676e5*(-0x3c1+0x1*-0x9f5+0xdbe)+(0x2690+0x15*0x9d+-0x336f),_0xa676e5*(-0x1b33+0x3*-0x73d+0x30f2)+(0x354+-0x1795*-0x1+0x1f*-0xde),_0xa676e5*(-0x116c+0x929+0xb*0xc1)+(0x8*0x2e7+0x555+-0x1c87)),_0x2607e5['push'](_0xa676e5*(-0x1025*-0x2+0x1e1c*0x1+-0x3e5e)+(-0x8ef+-0x1a28+0x8c6*0x4),_0xa676e5*(0x1f*0x100+0x129a+-0x18c9*0x2)+(0x16a1+-0xf6c+-0x735),_0xa676e5*(0x87c+-0x15cb+0x2ab*0x5)+(0x3*0x16f+0x1d3*-0x12+0x1*0x1c8d)),_0x2607e5['push'](_0xa676e5*(0x1*-0x6c5+0x5*0x487+-0x7eb*0x2)+(-0x6*-0x265+0x5f3*0x1+-0x1451),_0xa676e5*(-0x2518+-0x3*0x6a5+0x21d*0x1b)+(-0x889+0x119d+0x3*-0x305),_0xa676e5*(-0x2*-0xeda+-0x13b5+-0x9f7)+(-0x55e+0x1ad1*0x1+-0x156f)),_0x2607e5['push'](_0xa676e5*(-0x1ace+-0xb38+0x260e)+(0x135c+-0x49+0x989*-0x2),_0xa676e5*(-0x17f4+-0x132d+0x1d*0x17d)+(-0x7*0x272+-0x1291+0x23b3*0x1),_0xa676e5*(0x190b*-0x1+-0x2*-0x1287+0xbfb*-0x1)+(0x11c4+0x4e7+-0x16a9)),_0x2607e5['push'](_0xa676e5*(-0xb3c+-0xe67+0x19ab*0x1)+(0x3*-0xb3f+0xceb*0x1+-0x6*-0x379),_0xa676e5*(-0xb6*-0x11+0x16c8+-0x22d6)+(-0x74*-0x17+-0x2277+-0x1812*-0x1),_0xa676e5*(0x1a10+0x812+0x9*-0x3ca)+(0x2*0x119f+0x3*-0x3bb+0x1*-0x180b)),_0x2607e5['push'](_0xa676e5*(-0x8b4+-0xb59*0x2+0x1f6e)+(-0x1c50+-0x231+0x1e86),_0xa676e5*(0x1*-0x1216+-0x24fe+-0xdc7*-0x4)+(0x3*-0x47e+0x1*0xad6+0x2a4),_0xa676e5*(0x1853+0x10*-0x178+-0xcb)+(0x8f7+0x312+0x5*-0x267)),_0x2607e5['push'](_0xa676e5*(-0x7*0x379+-0xfb2+0x25*0x115)+(-0x3*0x2ff+-0x29*-0x37+-0x2e*-0x1),_0xa676e5*(-0x1c5a+-0x1282+-0x4*-0xbb9)+(0x63d+0x74*0x1f+-0x5*0x40e),_0xa676e5*(0x1f*-0x10+-0x10c3+0x12bb)+(0x17af+-0x1ba9+0x400)),_0xa676e5++;}}if(_0xa676e5){if(_0x2a5bf9['setPositio'+'ns'](_0x555418),_0x2a5bf9['setColors3'+'2'](_0x281f05),_0x2a5bf9['setIndices'](_0x2607e5),_0x2a5bf9['update'](Fs,!(0x116a*-0x1+-0x18e8+0xc5*0x37)),!gt['meshInstan'+'ce']){const _0x492374=new _s();_0x492374['useLightin'+'g']=!(-0xe08+0xc31*0x1+0x1d8),_0x492374['emissive']=new Y(-0x2a*0xa4+-0x2639+-0x2a*-0x18d,0x1*-0x17c3+0x566+0x92f*0x2,-0x64c+0xb8+0x595),_0x492374['emissiveVe'+'rtexColor']=!(0x1*0x260f+0x1c09*0x1+-0x4218),_0x492374['blendType']=Xc,_0x492374['depthWrite']=!(0x13*0xb8+-0xb99*0x3+-0xc*-0x1c3),_0x492374['update']();const _0x148276=new Oe('WorldClust'+'ersDebug');_0x148276['worldTrans'+'form']=q['IDENTITY'],_0x148276['_dirtyWorl'+'d']=_0x148276['_dirtyNorm'+'al']=!(0x1d25*-0x1+-0x1*-0x356+0x19d0),gt['meshInstan'+'ce']=new Be(_0x2a5bf9,_0x492374,_0x148276),gt['meshInstan'+'ce']['cull']=!(0x1b94+-0x1de0+-0x24d*-0x1);}const _0x4d0677=gt['meshInstan'+'ce'];_0x2209de['immediate']['drawMesh'](_0x4d0677['material'],_0x4d0677['node']['worldTrans'+'form'],null,_0x4d0677,_0x2209de['defaultDra'+'wLayer']);}}};c(gt,'gridPositi'+'ons',[]),c(gt,'gridColors',[]),c(gt,'mesh',null),c(gt,'meshInstan'+'ce',null),c(gt,'colorLow',new A(0x12a9+-0x1921*-0x1+-0x3fb*0xb,0x1f14+-0x3*0xbdf+0x48a,0x3*0xac9+-0x9*-0x1d3+-0x30c5)),c(gt,'colorHigh',new A(0x2f*-0x10+-0x636+0x94e,-0x1e83+-0x793+0x2616,0x2*-0xc69+0x3b+0x1897));let $u=gt;const iM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Ei=null;const I0=()=>{if(!Ei){const _0x210668=atob(iM);Ei=Uint8Array['from'](_0x210668,_0x34741d=>_0x34741d['charCodeAt'](0x169*-0x7+0x19*0xdb+0xb84*-0x1));}},rM=()=>(I0(),Ei);class nM{constructor(_0x3c370c=-0x8ca+-0xc7a+0x1544){c(this,'seed',0x625+0x20b9+-0x2*0x136f),(this['seed']=_0x3c370c*(-0x155c+0x1ad5*-0x1+0x7*0x6e3),I0());}['_next'](){this['seed']=(this['seed']+(-0x151*0xa+-0x1c7*-0x3+-0x29*-0x31))%Ei['length'];}['value'](){return this['_next'](),Ei[this['seed']]/(-0x3c4+-0x727*0x2+-0x1*-0x1311);}['vec4'](_0x4bb67b=new ee()){return this['_next'](),_0x4bb67b['set'](Ei[this['seed']],Ei[this['seed']+(-0x508+0x1440+-0x30b*0x5)],Ei[this['seed']+(-0x2b*-0xb9+-0x1e9d+-0x2*0x3a)],Ei[this['seed']+(-0x27b+0x5ad*0x2+0x9*-0xfc)])['mulScalar']((0x3*0x9a1+0x1466+0x298*-0x13)/(-0x47a*0x1+-0x134e*-0x1+-0xdd5));}}const aM=[new A(-(-0x1a22+-0x129f+0x2cc2),-0xe*-0x143+0x19*-0x157+-0x1*-0xfd5,-0x3f*-0x7f+0x1944+0x12d7*-0x3),new A(-0x23c3+-0x1db3+0x4177,0x1ce4+0x34c+-0x2030,0x1d09+0x2104+-0x3e0d),new A(0x4f2+0x2027+-0x2519,-(0x1de*0xb+-0x250*0xe+0x1b1*0x7),0x47*0x4a+0x169*0xe+0xc*-0x35b),new A(-0x1*-0x15b1+0x679*0x3+-0x291c,-0x6b*-0x12+-0x1a43+-0x1*-0x12be,-0x7*-0x2db+0x1a*0x68+-0x1e8d),new A(0x8*-0xfe+0x3*0x21d+-0x1*-0x199,-0x164d+-0x229*-0xb+-0x176,-(-0xe5f+-0x1*-0x144b+-0x65*0xf)),new A(0x25c9+0x8d9+-0x2ea2,0x17*-0x185+-0x2*0x667+0x2fc1,0xf1b+0x182*0xe+-0x2436)];class oM{constructor(){c(this,'colors',new Float32Array((0x1f*-0x8b+-0x1e2b+0x1783*0x2)*(-0x2*-0x10f1+-0xf41+-0x129e)));}['update'](_0xd2d197,_0x92e8a6){const _0x2e1e11=this['colors'],{r:_0x33d7c7,g:_0x32e1af,b:_0x45afcc}=_0xd2d197;for(let _0x2eb2d2=0x9f7+0x60*0x2a+0x1*-0x19b7;_0x2eb2d2<-0xaff+-0x164*-0x5+0x411;_0x2eb2d2++)_0x2e1e11[_0x2eb2d2*(0x69*-0x11+0x2*-0x783+0x1602)]=_0x33d7c7,_0x2e1e11[_0x2eb2d2*(-0x6d*-0x3d+-0x42*0x71+0xe*0x3a)+(0x176f+0x185e+-0x2fcc)]=_0x32e1af,_0x2e1e11[_0x2eb2d2*(0x175*-0x4+0x8f6+-0x2f*0x11)+(-0x3*0xb5a+0x1177+-0x25f*-0x7)]=_0x45afcc;for(let _0x2e6ebf=0x60a*-0x3+-0xdfd+-0x201b*-0x1;_0x2e6ebf<_0x92e8a6['length'];_0x2e6ebf++){const _0x318fa6=_0x92e8a6[_0x2e6ebf];if(_0x318fa6['_type']===le)for(let _0x59c30b=-0x1*0x2121+-0x1*0x1fe9+0x410a;_0x59c30b<0x94d*-0x1+-0x20e5+-0x608*-0x7;_0x59c30b++){const _0x387321=Math['max'](aM[_0x59c30b]['dot'](_0x318fa6['_direction']),0x2*0x45+0xe27*-0x2+0x1bc4)*_0x318fa6['_intensity'],_0x2e4fe8=_0x318fa6['_color'];_0x2e1e11[_0x59c30b*(-0x57*0x58+0x11f5+0xbf6)]+=_0x2e4fe8['r']*_0x387321,_0x2e1e11[_0x59c30b*(-0x1de*-0x1+-0x115d+-0xa*-0x18d)+(-0x50e+-0x2702+-0x1*-0x2c11)]+=_0x2e4fe8['g']*_0x387321,_0x2e1e11[_0x59c30b*(-0x1d21+0xdf*-0x1f+0x3825)+(0x14f2+-0x3*0x5c9+-0x395)]+=_0x2e4fe8['b']*_0x387321;}}}}const lM=(_0x168284,_0x3645f2,_0x3aa61d,_0x1534c8)=>{const _0x22479d=new ce(_0x168284,{'name':''+_0x3645f2+_0x3aa61d,'width':_0x3aa61d,'height':_0x3aa61d,'format':Te,'addressU':nt,'addressV':nt,'type':Bi,'magFilter':fe,'minFilter':fe,'anisotropy':0x1,'mipmaps':!(-0x24f7*0x1+-0x1*-0x120a+-0x12ee*-0x1)});return _0x22479d['lock']()['set'](_0x1534c8),_0x22479d['unlock'](),_0x22479d;},hM=new Ht(),cM=_0xce086f=>hM['get'](_0xce086f,()=>{const _0x42d3a2=rM(),_0x174902=Math['sqrt'](_0x42d3a2['length']/(0xe75*0x1+0x346*-0x5+-0x1ed*-0x1));return lM(_0xce086f,'BlueNoise',_0x174902,_0x42d3a2);});class pn{constructor(_0xb21623,_0x367a08){this['texture']=_0xb21623,this['cached']=!(0x1*0xa1d+-0x33*-0x15+-0xe4b*0x1),this['renderTarg'+'ets']=_0x367a08;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x479820=this['renderTarg'+'ets'];for(let _0x2e86c8=0x137c+-0xefd+-0x47f*0x1;_0x2e86c8<_0x479820['length'];_0x2e86c8++)_0x479820[_0x2e86c8]['destroy']();this['renderTarg'+'ets']['length']=-0x1721*0x1+-0x1*-0x8b+0x1696;}static['getShadowF'+'iltering'](_0x51391e,_0x5b76fd){return _0x5b76fd===$r?_0x51391e['extTexture'+'FloatLinea'+'r']?at:fe:at;}static['create'](_0x5b9a7b,_0x308a4d){let _0x301752=null;return _0x308a4d['_type']===Le?_0x301752=this['createCube'+'map'](_0x5b9a7b,_0x308a4d['_shadowRes'+'olution'],_0x308a4d['_shadowTyp'+'e']):_0x301752=this['create2dMa'+'p'](_0x5b9a7b,_0x308a4d['_shadowRes'+'olution'],_0x308a4d['_shadowTyp'+'e']),_0x301752;}static['createAtla'+'s'](_0x2e009d,_0x65f1bd,_0x170355){const _0x40fa57=this['create2dMa'+'p'](_0x2e009d,_0x65f1bd,_0x170355),_0x4b62d4=_0x40fa57['renderTarg'+'ets'],_0x399e92=_0x4b62d4[0x74a+-0x572*0x5+0x13f0];for(let _0x4bbdeb=-0x237a*-0x1+-0x1fe9+-0x391;_0x4bbdeb<0xbf1+-0x728*0x2+0x264;_0x4bbdeb++)_0x4b62d4['push'](_0x399e92);return _0x40fa57;}static['create2dMa'+'p'](_0x41af16,_0x2042c5,_0x3ce880){var _0x567350;const _0xf3b3b9=nr['get'](_0x3ce880);b['assert'](_0xf3b3b9);let _0x400061=_0xf3b3b9['format'];_0x400061===Oi&&!_0x41af16['textureFlo'+'atRenderab'+'le']&&_0x41af16['textureHal'+'fFloatRend'+'erable']&&(_0x400061=xa);const _0x52beba=(_0x567350=At['get'](_0x400061))==null?void(-0x25ac+0x1072+0x153a):_0x567350['name'],_0x1eefe0=this['getShadowF'+'iltering'](_0x41af16,_0x3ce880),_0x5ecf0f=new ce(_0x41af16,{'profilerHint':Mu,'format':_0x400061,'width':_0x2042c5,'height':_0x2042c5,'mipmaps':!(0x1ee9+0x1895+0x5*-0xb19),'minFilter':_0x1eefe0,'magFilter':_0x1eefe0,'addressU':oe,'addressV':oe,'name':'ShadowMap2'+'D_'+_0x52beba});let _0x34e1e9=null;return _0xf3b3b9!=null&&_0xf3b3b9['pcf']?(_0x5ecf0f['compareOnR'+'ead']=!(-0x675*-0x1+-0x599+-0xdc),_0x5ecf0f['compareFun'+'c']=Ih,_0x34e1e9=new St({'depthBuffer':_0x5ecf0f})):_0x34e1e9=new St({'colorBuffer':_0x5ecf0f,'depth':!(0x8ce+0x19dc+0x22aa*-0x1)}),_0x41af16['isWebGPU']&&(_0x34e1e9['flipY']=!(-0x233a+-0x1c81+0x3fbb)),new pn(_0x5ecf0f,[_0x34e1e9]);}static['createCube'+'map'](_0x1b58f1,_0x48832f,_0x2a4da0){var _0x538229;const _0x900531=nr['get'](_0x2a4da0);b['assert'](_0x900531);const _0x4ece61=(_0x538229=At['get'](_0x900531['format']))==null?void(0x3*0xa91+-0x15db+-0x46*0x24):_0x538229['name'],_0x4e0c22=_0x2a4da0===Rs,_0x5c8d3a=_0x4e0c22?fe:at,_0x37d9e9=new ce(_0x1b58f1,{'profilerHint':Mu,'format':_0x900531==null?void(0x3*0x6d+-0x38d*0xb+0x25c8):_0x900531['format'],'width':_0x48832f,'height':_0x48832f,'cubemap':!(-0x95f*-0x3+-0x1ec3+0x2a6),'mipmaps':!(0x200f+0x1bfa+0xf02*-0x4),'minFilter':_0x5c8d3a,'magFilter':_0x5c8d3a,'addressU':oe,'addressV':oe,'name':'ShadowMapC'+'ube_'+_0x4ece61});_0x4e0c22||(_0x37d9e9['compareOnR'+'ead']=!(0x5b2*-0x3+0x1*0x13af+-0x299),_0x37d9e9['compareFun'+'c']=Ih);const _0x160bbf=[];for(let _0x12ffad=0xca7+0x468+-0x110f;_0x12ffad<0x1c5d+-0x1a1f+-0x238;_0x12ffad++)_0x4e0c22?_0x160bbf['push'](new St({'colorBuffer':_0x37d9e9,'face':_0x12ffad,'depth':!(0xad1+-0x4be*0x5+0xce5)})):_0x160bbf['push'](new St({'depthBuffer':_0x37d9e9,'face':_0x12ffad}));return new pn(_0x37d9e9,_0x160bbf);}}const dM=[],uM=[],ri=new ee(),Id=new ee();class Dd{constructor(_0x255af9){this['size']=Math['floor'](_0x255af9['w']*(-0x20db*-0x1+0xb*-0x233+-0x4aa)),this['used']=!(-0x25ad*-0x1+-0x1*-0x89+-0x2635),this['lightId']=-(-0xb6b*-0x3+-0x1de8*0x1+0x4*-0x116),this['rect']=_0x255af9;}}class fM{constructor(_0x5b62ea){this['device']=_0x5b62ea,this['version']=-0x1*0x1906+-0x1e2+0x1ae9,this['shadowAtla'+'sResolutio'+'n']=0x10d0+-0x681*-0x2+-0x746*0x3,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0x1*-0xdb7+-0x26*0x1f+0x2*-0x48d,this['cookieAtla'+'sResolutio'+'n']=-0x12d2+-0x1155+-0x2f*-0xc5,this['cookieAtla'+'s']=new ce(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':cs,'cubemap':!(-0x13*0x73+-0x1*-0x1ad5+-0x124b),'mipmaps':!(-0x4a8+-0x1d2a*-0x1+-0x1881),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe}),this['cookieRend'+'erTarget']=new St({'colorBuffer':this['cookieAtla'+'s'],'depth':!(-0x1*0x1794+0x649*0x5+0xfb*-0x8),'flipY':!(-0x4f2*0x5+-0x13c3*-0x1+0x4f7)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new W(0x1f*-0x10f+-0x1785+0x3856,-0x498+-0x869*-0x3+-0x14a3),new W(-0xf72+0x5f4+0xa*0xf3,-0x13aa+0x1*-0x1bf7+0x2fa2),new W(-0xee9+-0x1*-0xeed+-0x3,-0x3*-0x459+-0x1af6+0xdeb),new W(0x1*-0x871+-0x2344+0x2bb6,0x1727+0x1*0x150e+-0x2c34),new W(-0x125*0x11+-0x5fb*-0x1+0xd7c,-0x2*-0xd2d+-0x2168*-0x1+-0x3bc2),new W(-0x17e7*-0x1+0x1867+0x119*-0x2c,0x7*0x115+-0x1d76+0xc*0x1d3)],this['scissorVec']=new ee(),this['allocateSh'+'adowAtlas'](-0x11*0xcb+-0x208f+0x2e0b),this['allocateCo'+'okieAtlas'](-0x1*0x1a0e+0xb74+0xe9b),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x3cd479;(_0x3cd479=this['shadowAtla'+'s'])==null||_0x3cd479['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x1b9016,_0x5e5cc0;(_0x1b9016=this['cookieAtla'+'s'])==null||_0x1b9016['destroy'](),this['cookieAtla'+'s']=null,(_0x5e5cc0=this['cookieRend'+'erTarget'])==null||_0x5e5cc0['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x168656,_0x127432=zt){var _0x282c63;const _0x5536d2=(_0x282c63=this['shadowAtla'+'s'])==null?void(-0xfde+-0xd47*0x1+0x3*0x9b7):_0x282c63['texture']['format'],_0x15a731=nr['get'](_0x127432)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x168656||_0x5536d2!==_0x15a731){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=pn['createAtla'+'s'](this['device'],_0x168656,_0x127432),this['shadowAtla'+'s']['cached']=!(0x21*-0x17+-0x21bb+0x24b2);const _0x5d3302=(-0x7a*-0x37+0x9*-0x1d1+-0x9d9*0x1)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x5d3302,_0x5d3302,-(0x273*0x1+-0x18aa+-0x1*-0x1639)*_0x5d3302,-(-0x266f+0x815*-0x1+0x2e86)*_0x5d3302);}}['allocateCo'+'okieAtlas'](_0x5f08ab){this['cookieAtla'+'s']['width']!==_0x5f08ab&&(this['cookieRend'+'erTarget']['resize'](_0x5f08ab,_0x5f08ab),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x248f+0x10*0x3+0x2461),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x4d6120=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x2*0xf8d+0xb8f+-0x1*-0x138b]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x4d6120),this['_shadowAtl'+'asParams'][-0x71*-0x34+-0x22c6+0xbd2]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][-0xe5*-0x23+0x3*-0xb12+-0x1*-0x1e8]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x23117c,_0x1027e7){let _0x246ba0=_0x1027e7['atlasSplit'];if(!_0x246ba0){const _0x1b8761=Math['ceil'](Math['sqrt'](_0x23117c));_0x246ba0=uM,_0x246ba0[-0x2048+-0x1*-0x20a1+0x59*-0x1]=_0x1b8761,_0x246ba0['length']=-0x248+0x43*0x3d+0xdae*-0x1;}if(!((_0x5261f8,_0xe17815)=>_0x5261f8['length']===_0xe17815['length']&&_0x5261f8['every']((_0x2877cb,_0x37bb09)=>_0x2877cb===_0xe17815[_0x37bb09]))(_0x246ba0,this['atlasSplit'])){this['version']++,this['slots']['length']=0x24*0xcb+-0x5e*-0x4+-0x1e04,this['atlasSplit']['length']=0x1d36+-0x696+-0x16a*0x10,this['atlasSplit']['push'](..._0x246ba0);const _0x204447=this['atlasSplit'][-0x418*0x3+-0xb*-0x21b+-0xae1];if(_0x204447>-0xb*-0x1f3+-0x2*0xed6+0x83c){const _0x2357c8=(0x203*-0x12+0x1ebd+-0x2bd*-0x2)/_0x204447;for(let _0x2a2bf8=0x3c4*0x6+0x858+-0x1ef0;_0x2a2bf8<_0x204447;_0x2a2bf8++)for(let _0x6e9835=-0x1026+0x4*-0x16a+-0x15ce*-0x1;_0x6e9835<_0x204447;_0x6e9835++){const _0xe5ab0e=new ee(_0x2a2bf8*_0x2357c8,_0x6e9835*_0x2357c8,_0x2357c8,_0x2357c8),_0x2ac030=this['atlasSplit'][0x1*-0x544+0x1dc1+0x61f*-0x4+_0x2a2bf8*_0x204447+_0x6e9835];if(_0x2ac030>-0x3*0xb3a+0xf16+0xcf*0x17){for(let _0x47ea8a=0x1b68+0x145a+-0x2fc2;_0x47ea8a<_0x2ac030;_0x47ea8a++)for(let _0x177af6=0xb7e+-0x2376+-0x3b*-0x68;_0x177af6<_0x2ac030;_0x177af6++){const _0x37c08b=_0x2357c8/_0x2ac030,_0x1def63=new ee(_0xe5ab0e['x']+_0x47ea8a*_0x37c08b,_0xe5ab0e['y']+_0x177af6*_0x37c08b,_0x37c08b,_0x37c08b);this['slots']['push'](new Dd(_0x1def63));}}else this['slots']['push'](new Dd(_0xe5ab0e));}}else this['slots']['push'](new Dd(new ee(0x755+0x2049+-0x279e,-0x1*-0x182d+-0x8c*-0x12+-0x2205*0x1,-0x100f*-0x1+0x18ba*0x1+0x828*-0x5,0x1b63+0x2267+-0x3dc9)));this['slots']['sort']((_0x1f80a5,_0x481f85)=>_0x481f85['size']-_0x1f80a5['size']);}}['collectLig'+'hts'](_0x739732,_0x2b6c4e){const _0x38e9d5=_0x2b6c4e['cookiesEna'+'bled'],_0x4a2cf9=_0x2b6c4e['shadowsEna'+'bled'];let _0x1a4339=!(-0x1*0x2175+-0x1010+0x3186),_0x5d633e=!(-0x16f*0x16+0x1c7f*0x1+-0x4*-0xc3);const _0x426c16=dM;return _0x426c16['length']=-0x23c0+0x5d*-0x4f+0x4073,(_0x38e9d5||_0x4a2cf9)&&(_0x591c59=>{for(let _0xd93337=0x224f+0x911+-0x2b60;_0xd93337<_0x591c59['length'];_0xd93337++){const _0x14399c=_0x591c59[_0xd93337];if(_0x14399c['visibleThi'+'sFrame']){const _0x3a0c1f=_0x4a2cf9&&_0x14399c['castShadow'+'s'],_0x34ea29=_0x38e9d5&&!!_0x14399c['cookie'];_0x1a4339||(_0x1a4339=_0x3a0c1f),_0x5d633e||(_0x5d633e=_0x34ea29),(_0x3a0c1f||_0x34ea29)&&_0x426c16['push'](_0x14399c);}}})(_0x739732),_0x426c16['sort']((_0x11e094,_0x28ee0d)=>_0x28ee0d['maxScreenS'+'ize']-_0x11e094['maxScreenS'+'ize']),_0x1a4339&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x2b6c4e['shadowType']),_0x5d633e&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x1a4339||_0x5d633e)&&this['subdivide'](_0x426c16['length'],_0x2b6c4e),_0x426c16;}['setupSlot'](_0x27f084,_0x49f7b6){_0x27f084['atlasViewp'+'ort']['copy'](_0x49f7b6);const _0x18db61=_0x27f084['numShadowF'+'aces'];for(let _0x567b50=-0xa2d+-0x1fe9+0x2a16;_0x567b50<_0x18db61;_0x567b50++)if(_0x27f084['castShadow'+'s']||_0x27f084['_cookie']){if(ri['copy'](_0x49f7b6),Id['copy'](_0x49f7b6),_0x27f084['_type']===Fe&&ri['add'](this['scissorVec']),_0x27f084['_type']===Le){const _0x41188b=ri['z']/(0x1a5f+0xf99+-0x29f5),_0x51ece9=this['cubeSlotsO'+'ffsets'][_0x567b50];ri['x']+=_0x41188b*_0x51ece9['x'],ri['y']+=_0x41188b*_0x51ece9['y'],ri['z']=_0x41188b,ri['w']=_0x41188b,Id['copy'](ri);}if(_0x27f084['castShadow'+'s']){const _0x583e52=_0x27f084['getRenderD'+'ata'](null,_0x567b50);_0x583e52['shadowView'+'port']['copy'](ri),_0x583e52['shadowScis'+'sor']['copy'](Id);}}}['assignSlot'](_0x5bcfba,_0x581ac5,_0x287b91){_0x5bcfba['atlasViewp'+'ortAllocat'+'ed']=!(0x1073+-0x15ba+-0x1*-0x547);const _0x1ac55a=this['slots'][_0x581ac5];_0x1ac55a['lightId']=_0x5bcfba['id'],_0x1ac55a['used']=!(-0x3*0xa9f+-0x223b+0x4218),_0x287b91&&(_0x5bcfba['atlasSlotU'+'pdated']=!(0xf72+0x1*0x4fd+-0x1*0x146f),_0x5bcfba['atlasVersi'+'on']=this['version'],_0x5bcfba['atlasSlotI'+'ndex']=_0x581ac5);}['update'](_0x4ed319,_0x2517c9){this['shadowAtla'+'sResolutio'+'n']=_0x2517c9['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x2517c9['cookieAtla'+'sResolutio'+'n'];const _0x1ac9bb=this['collectLig'+'hts'](_0x4ed319,_0x2517c9);if(_0x1ac9bb['length']>-0xfb*0x1f+-0x1087+-0x2*-0x1776){const _0x792bae=this['slots'];for(let _0x1a55ac=0x214f*0x1+-0x9*0xd6+-0x19c9;_0x1a55ac<_0x792bae['length'];_0x1a55ac++)_0x792bae[_0x1a55ac]['used']=!(0x1*-0x8cb+-0x496*-0x1+-0x7*-0x9a);const _0x4dd78d=Math['min'](_0x1ac9bb['length'],_0x792bae['length']);for(let _0x2ba2f9=0x1005+-0x1719+0x714;_0x2ba2f9<_0x4dd78d;_0x2ba2f9++){const _0x49e39f=_0x1ac9bb[_0x2ba2f9];_0x49e39f['castShadow'+'s']&&(_0x49e39f['_shadowMap']=this['shadowAtla'+'s']);const _0xf4d4e8=_0x792bae[_0x49e39f['atlasSlotI'+'ndex']];if(_0x49e39f['atlasVersi'+'on']===this['version']&&_0x49e39f['id']===(_0xf4d4e8==null?void(0xfe*0xf+-0x19aa+-0x5c*-0x1e):_0xf4d4e8['lightId'])){const _0x4e72b3=_0x792bae[_0x49e39f['atlasSlotI'+'ndex']];_0x4e72b3['size']===_0x792bae[_0x2ba2f9]['size']&&!_0x4e72b3['used']&&this['assignSlot'](_0x49e39f,_0x49e39f['atlasSlotI'+'ndex'],!(-0x1aec+0x8b5+0x1238));}}let _0x19c449=0x1afa+0x8b0+-0x23aa;for(let _0x2706e3=-0x34*-0x81+-0x1b1a+0xe6;_0x2706e3<_0x4dd78d;_0x2706e3++){for(;_0x19c449<_0x792bae['length']&&_0x792bae[_0x19c449]['used'];)_0x19c449++;const _0x2bbf67=_0x1ac9bb[_0x2706e3];_0x2bbf67['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x2bbf67,_0x19c449,!(-0x22c6+-0x4*-0x21d+0x6*0x463));const _0x534a37=_0x792bae[_0x2bbf67['atlasSlotI'+'ndex']];this['setupSlot'](_0x2bbf67,_0x534a37['rect']);}}this['updateUnif'+'orms']();}}class pM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x3fcfa4=>{_0x3fcfa4['forEach'](_0x508f9f=>{_0x508f9f['destroy']();});}),this['cache']['clear']();}['getKey'](_0x4b7268){const _0xe4c57d=_0x4b7268['_type']===Le,_0x2f1f8a=_0x4b7268['_shadowTyp'+'e'],_0x1af00a=_0x4b7268['_shadowRes'+'olution'];return _0xe4c57d+'-'+_0x2f1f8a+'-'+_0x1af00a;}['get'](_0xf076dd,_0x592066){const _0x29ace3=this['getKey'](_0x592066),_0x36326e=this['cache']['get'](_0x29ace3);if(_0x36326e&&_0x36326e['length'])return _0x36326e['pop']();const _0x3b0ae5=pn['create'](_0xf076dd,_0x592066);return _0x3b0ae5['cached']=!(0x1561*0x1+0xba+-0x161b),_0x3b0ae5;}['add'](_0xd5ac28,_0x5b98c9){const _0x264725=this['getKey'](_0xd5ac28),_0x255862=this['cache']['get'](_0x264725);_0x255862?_0x255862['push'](_0x5b98c9):this['cache']['set'](_0x264725,[_0x5b98c9]);}}class mM extends gs{constructor(_0x37260a,_0x313bf8,_0x227f9d,_0xbef9c9,_0x33311a){super(_0x37260a),gn['setName'](this,this['name']+'-'+_0x227f9d['_node']['name']),this['requiresCu'+'bemaps']=!(-0xaa*0x14+0x373+0x1*0x9d6),this['shadowRend'+'erer']=_0x313bf8,this['light']=_0x227f9d,this['face']=_0xbef9c9,this['applyVsm']=_0x33311a,this['shadowCame'+'ra']=_0x313bf8['prepareFac'+'e'](_0x227f9d,null,_0xbef9c9),_0x313bf8['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0x35f*0x5+0x1190+-0xb5));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(-0x2*0x129e+-0x1*0x747+-0x1642*-0x2));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class _M{constructor(_0xa4b073,_0x2f3fa9){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0xa4b073,this['shadowRend'+'erer']=_0x2f3fa9,this['device']=_0xa4b073['device']);}['cull'](_0x387503,_0x49f153,_0x442f75=null){const _0x15008d=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x387503['visibleThi'+'sFrame']=!(0x9*-0x6d+-0x16bd+-0xd49*-0x2),_0x15008d||_0x387503['_shadowMap']||(_0x387503['_shadowMap']=pn['create'](this['device'],_0x387503));const _0x15dc3a=_0x387503['_type'],_0x59dcc6=_0x15dc3a===Fe?0x4bd*0x7+-0x2177+0x4d:0x1*-0xefc+-0x1*-0x62d+-0x8d5*-0x1;for(let _0x2f8c53=-0xa55+-0x1bca+0x261f;_0x2f8c53<_0x59dcc6;_0x2f8c53++){const _0x43f0a0=_0x387503['getRenderD'+'ata'](null,_0x2f8c53),_0x43ad16=_0x43f0a0['shadowCame'+'ra'];_0x43ad16['nearClip']=_0x387503['attenuatio'+'nEnd']/(-0x1e5a+-0x1*-0x8db+0x1*0x1967),_0x43ad16['farClip']=_0x387503['attenuatio'+'nEnd'];const _0x20f88b=_0x43ad16['_node'],_0x4a70ab=_0x387503['_node'];if(_0x20f88b['setPositio'+'n'](_0x4a70ab['getPositio'+'n']()),_0x15dc3a===Fe)_0x43ad16['fov']=_0x387503['_outerCone'+'Angle']*(-0x22cb+0x25a9+-0x2dc),_0x20f88b['setRotatio'+'n'](_0x4a70ab['getRotatio'+'n']()),_0x20f88b['rotateLoca'+'l'](-(-0x4*-0x2ec+-0x203c+0x14e6),-0x6fc+-0x1bf*-0xd+-0x1*0xfb7,-0x138f+0x14e1+0x152*-0x1);else{if(_0x15dc3a===Le){if(_0x15008d){const _0xc7f0bb=(-0x9ce+0x2*0xd51+0x869*-0x2)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x387503['atlasViewp'+'ort']['z']/(0xad5*0x1+0xe13*0x1+-0x1*0x18e5))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x43ad16['fov']=Math['atan'](-0x1*0xdaf+0x2582+-0x1*0x17d2+_0xc7f0bb)*z['RAD_TO_DEG']*(0x278*-0xf+-0x335+0x283f);}else _0x43ad16['fov']=-0x17b6+-0xe52+0x2662;}}this['renderer']['updateCame'+'raFrustum'](_0x43ad16),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x49f153,_0x387503,_0x43f0a0['visibleCas'+'ters'],_0x43ad16,_0x442f75);}}['prepareLig'+'hts'](_0x447b95,_0x13c127){let _0x349cfb;for(let _0x1b190d=0x980+-0x87*0x18+0x328;_0x1b190d<_0x13c127['length'];_0x1b190d++){const _0x28792b=_0x13c127[_0x1b190d];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x28792b)&&_0x28792b['atlasViewp'+'ortAllocat'+'ed']){_0x447b95['push'](_0x28792b);for(let _0x579f4c=-0x1*0x21a0+0x20d8+0xc8;_0x579f4c<_0x28792b['numShadowF'+'aces'];_0x579f4c++)_0x349cfb=this['shadowRend'+'erer']['prepareFac'+'e'](_0x28792b,null,_0x579f4c);}}return _0x349cfb;}['buildNonCl'+'usteredRen'+'derPasses'](_0xd24934,_0x279710){for(let _0x15df6a=0x12*-0x21b+-0x1353+0x3939;_0x15df6a<_0x279710['length'];_0x15df6a++){const _0xf0c00f=_0x279710[_0x15df6a];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0xf0c00f)){const _0x832b52=_0xf0c00f['_type']===Fe,_0x5aac19=_0xf0c00f['numShadowF'+'aces'];for(let _0x3494bc=-0x2300+-0x955*0x1+0x2c55;_0x3494bc<_0x5aac19;_0x3494bc++){const _0x3d9e25=new mM(this['device'],this['shadowRend'+'erer'],_0xf0c00f,_0x3494bc,_0x832b52);_0xd24934['addRenderP'+'ass'](_0x3d9e25);}}}}}class gM extends gs{constructor(_0x1666ca,_0x333eb0,_0x3b39df,_0x162da8,_0x41b425){super(_0x1666ca),gn['setName'](this,this['name']+'-'+_0x3b39df['_node']['name']),this['shadowRend'+'erer']=_0x333eb0,this['light']=_0x3b39df,this['camera']=_0x162da8,this['allCascade'+'sRendering']=_0x41b425;}['execute'](){const {light:_0x25fad6,camera:_0x3c2788,shadowRenderer:_0x19f097,allCascadesRendering:_0x26b923}=this,_0x13f2d7=_0x25fad6['numShadowF'+'aces'],_0x296b4b=_0x25fad6['shadowUpda'+'teOverride'+'s'];for(let _0x78eddc=0x1*0x2230+-0x2626+-0x152*-0x3;_0x78eddc<_0x13f2d7;_0x78eddc++)(_0x296b4b==null?void(-0xf22*-0x1+0x1213+-0x1*0x2135):_0x296b4b[_0x78eddc])!==ks&&_0x19f097['renderFace'](_0x25fad6,_0x3c2788,_0x78eddc,!_0x26b923),(_0x296b4b==null?void(0x1*0x412+-0x1f31+0x1b1f):_0x296b4b[_0x78eddc])===un&&(_0x296b4b[_0x78eddc]=ks);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Nl=new ve(),ni=new A(),u_=new q(),ze=[new A(),new A(),new A(),new A(),new A(),new A(),new A(),new A()],Ld={'min':0x0,'max':0x0};function yM(_0x45df93,_0x3c8487,_0x4e3c26){ze[0x10ff+-0x164*0x7+0x8f*-0xd]['x']=ze[0x10d7*0x1+-0xfc6+-0x11*0x10]['x']=ze[0x1cd*0x10+0x4e6+-0x21b4]['x']=ze[-0xfa+0x4*0x1ba+0x65*-0xf]['x']=_0x3c8487['x'],ze[-0x1*0xa99+-0x1cf*-0x3+0x52d]['y']=ze[0xa*-0x355+-0x65a*0x1+0x27af]['y']=ze[0x3*-0xaea+-0x4b0+0x2575*0x1]['y']=ze[0x103c+0x3*0x17f+-0x424*0x5]['y']=_0x3c8487['y'],ze[-0x1961+0x739*0x1+0xf*0x136]['z']=ze[0x5*-0x397+-0x1*0x173c+0x1499*0x2]['z']=ze[-0xe86*-0x2+-0x1262*0x2+0x7be*0x1]['z']=ze[0x2113+0x1202+-0x330e]['z']=_0x3c8487['z'],ze[0x2084+0x200e+-0x408e*0x1]['x']=ze[-0x245+-0x18f3*0x1+0x16f*0x13]['x']=ze[-0x3*0x1f6+0x1e1d+-0x1*0x1835]['x']=ze[-0x2649+0x1d11*0x1+-0x9*-0x107]['x']=_0x4e3c26['x'],ze[0x1*0x87e+-0x1992+0x2*0x88a]['y']=ze[0x1f8b+0xcd*-0x14+-0xf85]['y']=ze[-0x1f29+-0x5cf*0x4+0x3669*0x1]['y']=ze[-0x2*0x1070+0x13f7+0xcef]['y']=_0x4e3c26['y'],ze[0x1f91+0x5*-0x442+0xa47*-0x1]['z']=ze[-0x2*0xa16+-0xa6*-0x1+0x1387]['z']=ze[-0x25ff+-0x1cc*-0xf+0xb0f]['z']=ze[0xfe5+0x36e+0x161*-0xe]['z']=_0x4e3c26['z'];let _0x203afb=0x115ba08ae+-0x2*-0x8061bbdb+0x3d8e639b,_0x1f7249=-(0x7*0x5697719f+-0x4cbb5a8b+0x42a32331);for(let _0xed2170=0x1*0x19b5+0x1069+-0x2a1e;_0xed2170<-0x164*-0x14+-0x77*0x13+0x15*-0xe7;++_0xed2170){_0x45df93['transformP'+'oint'](ze[_0xed2170],ze[_0xed2170]);const _0x478631=ze[_0xed2170]['z'];_0x478631<_0x203afb&&(_0x203afb=_0x478631),_0x478631>_0x1f7249&&(_0x1f7249=_0x478631);}return Ld['min']=_0x203afb,Ld['max']=_0x1f7249,Ld;}class xM{constructor(_0x3d666f,_0x3f0837){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x3d666f,this['shadowRend'+'erer']=_0x3f0837,this['device']=_0x3d666f['device']);}['cull'](_0x40047c,_0x50bf3f,_0xfd6d95,_0x1a240d=null){_0x40047c['visibleThi'+'sFrame']=!(0x1*-0x262f+0x2*0xefb+0x839),_0x40047c['_shadowMap']||(_0x40047c['_shadowMap']=pn['create'](this['device'],_0x40047c));const _0x436968=_0xfd6d95['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x40047c,_0x436968,Math['min'](_0xfd6d95['_farClip'],_0x40047c['shadowDist'+'ance']));const _0x4a0a72=_0x40047c['shadowUpda'+'teOverride'+'s'];for(let _0x443767=0x1*-0x8+0x10f*-0x16+0x6*0x3e3;_0x443767<_0x40047c['numCascade'+'s']&&(_0x4a0a72==null?void(-0x276+0x1*-0x38b+0x601):_0x4a0a72[_0x443767])!==ks;_0x443767++){const _0x42e8dc=_0x40047c['getRenderD'+'ata'](_0xfd6d95,_0x443767),_0x1376ba=_0x42e8dc['shadowCame'+'ra'];_0x1376ba['renderTarg'+'et']=_0x40047c['_shadowMap']['renderTarg'+'ets'][0xd21*-0x2+-0x1fd5*0x1+-0x135d*-0x3],_0x42e8dc['shadowView'+'port']['copy'](_0x40047c['cascades'][_0x443767]),_0x42e8dc['shadowScis'+'sor']['copy'](_0x40047c['cascades'][_0x443767]);const _0x361352=_0x1376ba['_node'],_0x343a8f=_0x40047c['_node'];_0x361352['setPositio'+'n'](_0x343a8f['getPositio'+'n']()),_0x361352['setRotatio'+'n'](_0x343a8f['getRotatio'+'n']()),_0x361352['rotateLoca'+'l'](-(-0x24f9+-0xcf1+-0x4*-0xc91),0x121d+0xce9*-0x3+-0x149e*-0x1,0x4f*0x5+-0xb65+0x9da);const _0x202429=_0x443767===-0x7ea*-0x4+0x59*0x4f+-0x3b1f?_0x436968:_0x40047c['_shadowCas'+'cadeDistan'+'ces'][_0x443767-(0xb*-0x11+-0x2*0x3fd+-0xdf*-0xa)],_0x4dbbab=_0x40047c['_shadowCas'+'cadeDistan'+'ces'][_0x443767],_0x24eb0b=_0xfd6d95['getFrustum'+'Corners'](_0x202429,_0x4dbbab);ni['set'](-0x9c*0x9+0x21f1*0x1+-0x1c75,-0x16b5*0x1+0xc70+0xb*0xef,0xd*-0x7c+0x742*-0x1+-0x6c7*-0x2);const _0x34096f=_0xfd6d95['node']['getWorldTr'+'ansform']();for(let _0x455efd=0x7*-0x35+0x1f35+0xd*-0x24a;_0x455efd<0x5d4+-0x13a7+-0x1*-0xddb;_0x455efd++)_0x34096f['transformP'+'oint'](_0x24eb0b[_0x455efd],_0x24eb0b[_0x455efd]),ni['add'](_0x24eb0b[_0x455efd]);ni['mulScalar']((0x208c+0x1*-0x23ef+0x364)/(-0xd1a+0x210*0x4+-0x5*-0xfa));let _0x1b426f=0x20aa+-0x57f+-0x1b2b;for(let _0x37919c=0x1*-0x806+0x1*0xb26+0xc8*-0x4;_0x37919c<0xff9+0x5c2+-0x15b3;_0x37919c++){const _0x11070c=_0x24eb0b[_0x37919c]['sub'](ni)['length']();_0x11070c>_0x1b426f&&(_0x1b426f=_0x11070c);}const _0x2cfc44=_0x361352['right'],_0x1bb8e8=_0x361352['up'],_0x2d4c11=_0x361352['forward'],_0x958e34=(0xa8e+-0x5d*-0x4b+0x25cd*-0x1+0.25)*_0x40047c['_shadowRes'+'olution']/_0x1b426f,_0x8d17b5=Math['ceil'](ni['dot'](_0x1bb8e8)*_0x958e34)/_0x958e34,_0x461887=Math['ceil'](ni['dot'](_0x2cfc44)*_0x958e34)/_0x958e34,_0x5a1a60=_0x1bb8e8['mulScalar'](_0x8d17b5),_0x3f6ff3=_0x2cfc44['mulScalar'](_0x461887),_0x44db38=ni['dot'](_0x2d4c11),_0x178aa4=_0x2d4c11['mulScalar'](_0x44db38);ni['add2'](_0x5a1a60,_0x3f6ff3)['add'](_0x178aa4),_0x361352['setPositio'+'n'](ni),_0x361352['translateL'+'ocal'](-0x1c9a+-0x12a5+0x2f3f,0x1b2+0x1*0xa91+-0xc43*0x1,0x101622+0x11af00+-0x22*0x8b61),_0x1376ba['nearClip']=-0x1c30*0x1+0x24f2+-0x8c2+0.01,_0x1376ba['farClip']=0x114e0b+-0x25607d+0x3296f2,_0x1376ba['orthoHeigh'+'t']=_0x1b426f,this['renderer']['updateCame'+'raFrustum'](_0x1376ba),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x50bf3f,_0x40047c,_0x42e8dc['visibleCas'+'ters'],_0x1376ba,_0x1a240d);let _0xa87ee2=!(0xb72+0x1*-0x26ab+0x1b39);const _0x1ab141=_0x42e8dc['visibleCas'+'ters'];for(let _0x3f8e55=-0x4fb+-0x1*0xe8f+0x138a;_0x3f8e55<_0x1ab141['length'];_0x3f8e55++){const _0x3bf2ef=_0x1ab141[_0x3f8e55];_0xa87ee2?(_0xa87ee2=!(-0x4*-0x42e+0x2582+-0x3639),Nl['copy'](_0x3bf2ef['aabb'])):Nl['add'](_0x3bf2ef['aabb']);}u_['copy'](_0x361352['getWorldTr'+'ansform']())['invert']();const _0x30e0de=yM(u_,Nl['getMin'](),Nl['getMax']());_0x361352['translateL'+'ocal'](0x3d*-0x3+0x3*0xa5b+-0xde*0x23,0x4*-0x25f+-0x7bc+-0x98*-0x1d,_0x30e0de['max']+(0x2*0x1369+-0x2668+-0x6a+0.1)),_0x1376ba['farClip']=_0x30e0de['max']-_0x30e0de['min']+(-0x2*0x11+-0x54+-0x76*-0x1+0.2),_0x42e8dc['projection'+'Compensati'+'on']=_0x1b426f;}}['generateSp'+'litDistanc'+'es'](_0x1a5a05,_0x37360c,_0x534ec6){_0x1a5a05['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x534ec6);for(let _0x2b18fb=-0x239f+0x143*-0x19+0x432b;_0x2b18fb<_0x1a5a05['numCascade'+'s'];_0x2b18fb++){const _0x12c4b1=_0x2b18fb/_0x1a5a05['numCascade'+'s'],_0x2350d0=_0x37360c+(_0x534ec6-_0x37360c)*_0x12c4b1,_0x639219=_0x37360c*(_0x534ec6/_0x37360c)**_0x12c4b1,_0x4dcb30=z['lerp'](_0x2350d0,_0x639219,_0x1a5a05['cascadeDis'+'tribution']);_0x1a5a05['_shadowCas'+'cadeDistan'+'ces'][_0x2b18fb-(-0xcc4+0x64*0x61+-0x191f)]=_0x4dcb30;}}['getLightRe'+'nderPass'](_0x3a5e28,_0x15f80d){b['assert'](_0x3a5e28&&_0x3a5e28['_type']===le);let _0xe65ac9=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x3a5e28)){const _0x4225a2=_0x3a5e28['numShadowF'+'aces'],_0x46118f=_0x3a5e28['shadowUpda'+'teOverride'+'s'];let _0x42125e=!(0x2*0x31c+-0x1*-0x21a3+0x39*-0xb3),_0x263009;for(let _0x5079f0=-0xfbb+-0xf8c+0x1f47;_0x5079f0<_0x4225a2;_0x5079f0++)(_0x46118f==null?void(-0xde6+0x9*0x14f+-0xb5*-0x3):_0x46118f[_0x5079f0])===ks&&(_0x42125e=!(0x1*-0xa7+0xb*-0x31d+-0x22e7*-0x1)),_0x263009=this['shadowRend'+'erer']['prepareFac'+'e'](_0x3a5e28,_0x15f80d,_0x5079f0);_0xe65ac9=new gM(this['device'],this['shadowRend'+'erer'],_0x3a5e28,_0x15f80d,_0x42125e),this['shadowRend'+'erer']['setupRende'+'rPass'](_0xe65ac9,_0x263009,_0x42125e);}return _0xe65ac9;}}const Fd=new Set(),f_=new q(),p_=new q(),br=new Float32Array(-0x1f41+-0x219d*0x1+-0x8*-0x81c),Za=new ee(-0x2427+0x1c5e+-0x2*-0x3e5,-0x2a6*0x3+0x1a76+0x7*-0x2a5,-0x998+-0x59*0x23+0x3*0x741,0x18f9+-0x21aa+0x8b1),m_=new q();function SM(_0x2b6ba6,_0x163965){return Math['exp'](-(_0x2b6ba6*_0x2b6ba6)/((-0x1c11+-0x24c7+0x40da)*_0x163965*_0x163965));}function vM(_0x42e066){const _0x4189be=(_0x42e066-(-0x136d*0x1+0xb02*0x1+0x7*0x134))/(0x926+0x1916+-0x2236),_0x26d7a1=(_0x42e066-(-0x2*-0x12fd+0x1bdc+-0x41d5))*(-0x1a8f*-0x1+-0x1646+0x1*-0x449+0.5),_0x294d3c=new Array(_0x42e066);let _0x1d74f2=0x164c+-0x2360+0x6*0x22e;for(let _0xa03851=0x1509+0x1a16+-0x2f1f;_0xa03851<_0x42e066;++_0xa03851)_0x294d3c[_0xa03851]=SM(_0xa03851-_0x26d7a1,_0x4189be),_0x1d74f2+=_0x294d3c[_0xa03851];for(let _0x1dd997=0xa*0xf5+-0x14d+-0x1d*0x49;_0x1dd997<_0x42e066;++_0x1dd997)_0x294d3c[_0x1dd997]/=_0x1d74f2;return _0x294d3c;}class D0{constructor(_0x457754,_0x886a3c){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x457754['device'],this['renderer']=_0x457754,this['lightTextu'+'reAtlas']=_0x886a3c);const _0x246bb7=this['device']['scope'];this['sourceId']=_0x246bb7['resolve']('source'),this['pixelOffse'+'tId']=_0x246bb7['resolve']('pixelOffse'+'t'),this['weightId']=_0x246bb7['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[j['blurVSMPS'],'#define\x20GA'+'USS\x0a'+j['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x246bb7['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new bt(),this['blendState'+'NoWrite']=new bt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(-0x26*-0x59+0x2001+0x789*-0x6),!(0x18bc+-0xb88+-0xd33),!(-0x14ff+0x1db2+-0x8b2),!(0x150*-0x9+0xe9*-0x15+-0xf77*-0x2));}static['createShad'+'owCamera'](_0x57fcc7,_0x4d62e1,_0x15e245){const _0x391090=Ia['create']('ShadowCame'+'ra',_0x4d62e1,_0x15e245),_0x36b72f=nr['get'](_0x57fcc7);b['assert'](_0x36b72f);const _0x1350d7=(_0x36b72f==null?void(0x10bf+0x2228+-0x32e7):_0x36b72f['vsm'])??!(-0x242c+0x6*0x5d3+0x13b),_0x430990=(_0x36b72f==null?void(-0x31f*-0x1+0x2*0x132a+-0x2973):_0x36b72f['pcf'])??!(0x3fa+-0x1fd5+0x1bdc);return _0x1350d7?_0x391090['clearColor']=new Y(-0x53*-0x1d+-0xc7*0x19+-0x4*-0x282,0x2473+-0x564*-0x5+-0x3f67,0x26a+-0x685*0x4+0x17aa,-0xe68+-0x22*-0x96+0x2*-0x2c2):_0x391090['clearColor']=new Y(-0xb99*0x1+0x1*0x1c2b+-0x1091*0x1,-0x1d5e+0x1f*-0x12a+0xd*0x509,0x13d*-0xa+-0x88*0x22+0x1e73,0x2*0xc15+0xdfb*-0x1+0xa2e*-0x1),_0x391090['clearDepth'+'Buffer']=!(0x1*0x4c5+-0x1e81+0x19bc),_0x391090['clearStenc'+'ilBuffer']=!(-0x3fe+0x3*0x3f5+-0x7e0),_0x391090['clearColor'+'Buffer']=!_0x430990,_0x391090;}['_cullShado'+'wCastersIn'+'ternal'](_0x19bad8,_0x3717e3,_0x9cc35a){const _0xb2b6b5=_0x19bad8['length'];for(let _0x340c99=-0x88+0x67d+-0x5f5;_0x340c99<_0xb2b6b5;_0x340c99++){const _0x2c8038=_0x19bad8[_0x340c99];_0x2c8038['castShadow']&&(!_0x2c8038['cull']||_0x2c8038['_isVisible'](_0x9cc35a))&&(_0x2c8038['visibleThi'+'sFrame']=!(-0x1dd9+0x1638+-0x7*-0x117),_0x3717e3['push'](_0x2c8038));}}['cullShadow'+'Casters'](_0x9e4789,_0x4436db,_0x1a8724,_0x3adc49,_0x50ca0e){if(_0x1a8724['length']=0x2273+0x1867*0x1+0x1f*-0x1e6,_0x50ca0e)this['_cullShado'+'wCastersIn'+'ternal'](_0x50ca0e,_0x1a8724,_0x3adc49);else{const _0x1cc52c=_0x9e4789['layerList'],_0xb79c3d=_0x1cc52c['length'];for(let _0x43e1a1=0xdee+0x6a3*0x2+0x4*-0x6cd;_0x43e1a1<_0xb79c3d;_0x43e1a1++){const _0x2f6c85=_0x1cc52c[_0x43e1a1];_0x2f6c85['_lightsSet']['has'](_0x4436db)&&(Fd['has'](_0x2f6c85)||(Fd['add'](_0x2f6c85),this['_cullShado'+'wCastersIn'+'ternal'](_0x2f6c85['shadowCast'+'ers'],_0x1a8724,_0x3adc49)));}Fd['clear']();}_0x1a8724['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x3fb024,_0x49a19d){const _0x1d0a44=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x49a19d['_isPcf']:_0x49a19d['_isPcf']&&_0x49a19d['_type']!==Le;_0x3fb024['setBlendSt'+'ate'](_0x1d0a44?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x3fb024['setDepthSt'+'ate'](_0x49a19d['shadowDept'+'hState']),_0x3fb024['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x57326b,_0x51374f,_0x451f10,_0x32240c){const _0x2fac7f=_0x51374f['_node'];_0x57326b['_type']!==le&&(this['renderer']['dispatchVi'+'ewPos'](_0x2fac7f['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x57326b['attenuatio'+'nEnd'])),f_['setTRS'](_0x2fac7f['getPositio'+'n'](),_0x2fac7f['getRotatio'+'n'](),A['ONE'])['invert'](),p_['mul2'](_0x51374f['projection'+'Matrix'],f_);const _0x285139=_0x451f10['shadowView'+'port'];_0x51374f['rect']=_0x285139,_0x51374f['scissorRec'+'t']=_0x451f10['shadowScis'+'sor'],m_['setViewpor'+'t'](_0x285139['x'],_0x285139['y'],_0x285139['z'],_0x285139['w']),_0x451f10['shadowMatr'+'ix']['mul2'](m_,p_),_0x57326b['_type']===le&&_0x57326b['_shadowMat'+'rixPalette']['set'](_0x451f10['shadowMatr'+'ix']['data'],_0x32240c*(0x6d9*0x2+0xc28+-0x19ca));}['getShadowP'+'ass'](_0x347743){var _0x53febe;const _0x43b198=_0x347743['_type'],_0x35b3d4=_0x347743['_shadowTyp'+'e'];let _0x4be2ca=(_0x53febe=this['shadowPass'+'Cache'][_0x43b198])==null?void(0x1293+-0x1b6+-0x10dd):_0x53febe[_0x35b3d4];if(!_0x4be2ca){const _0x47ce70='ShadowPass'+'_'+_0x43b198+'_'+_0x35b3d4;_0x4be2ca=ti['get'](this['device'])['allocate'](_0x47ce70,{'isShadow':!(0x2304+0x1f*0x89+-0x339b),'lightType':_0x43b198,'shadowType':_0x35b3d4}),this['shadowPass'+'Cache'][_0x43b198]||(this['shadowPass'+'Cache'][_0x43b198]=[]),this['shadowPass'+'Cache'][_0x43b198][_0x35b3d4]=_0x4be2ca;}return _0x4be2ca['index'];}['submitCast'+'ers'](_0x27062b,_0x201464,_0x308217){const _0x499ea4=this['device'],_0x169d92=this['renderer'],_0x589657=_0x169d92['scene'],_0x14ec74=0x1*0x2105+0x2692+-0x62*0xbb<<Fp,_0x408307=this['getShadowP'+'ass'](_0x201464),_0x2ee3ca=_0x308217['shaderPara'+'ms'],_0x37853c=_0x308217['renderTarg'+'et']['flipY']?-(0x1106+0x1*-0x49a+-0x1*0xc6b):0x142b+-0x1bd9*-0x1+0x3003*-0x1,_0x2a04cb=_0x27062b['length'];for(let _0x217d1d=0x960+0x1670+-0x2*0xfe8;_0x217d1d<_0x2a04cb;_0x217d1d++){const _0x583f81=_0x27062b[_0x217d1d],_0x14ff05=_0x583f81['mesh'];_0x583f81['ensureMate'+'rial'](_0x499ea4);const _0x1e2b9e=_0x583f81['material'];G['pushGpuMar'+'ker'](_0x499ea4,'Node:\x20'+_0x583f81['node']['name']+(',\x20Material'+':\x20')+_0x1e2b9e['name']),_0x169d92['setBaseCon'+'stants'](_0x499ea4,_0x1e2b9e),_0x169d92['setSkinnin'+'g'](_0x499ea4,_0x583f81),_0x1e2b9e['dirty']&&(_0x1e2b9e['updateUnif'+'orms'](_0x499ea4,_0x589657),_0x1e2b9e['dirty']=!(-0xd*0xd9+0x73*-0x2+0x4*0x2fb)),_0x169d92['setupCullM'+'ode'](!(-0x1*-0x1aa3+0x7*0x12b+-0x22d0),_0x37853c,_0x583f81),_0x1e2b9e['setParamet'+'ers'](_0x499ea4),_0x583f81['setParamet'+'ers'](_0x499ea4,_0x14ec74);const _0x2952a0=_0x583f81['getShaderI'+'nstance'](_0x408307,0x2b*-0x67+-0x1460+-0x789*-0x5,_0x589657,_0x2ee3ca,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x54dfe3=_0x2952a0['shader'];b['assert'](_0x54dfe3,'no\x20shader\x20'+'for\x20pass\x20'+_0x408307,_0x1e2b9e),_0x583f81['_key'][Uu]=_0x54dfe3['id'],_0x499ea4['setShader'](_0x54dfe3),_0x169d92['setVertexB'+'uffers'](_0x499ea4,_0x14ff05),_0x169d92['setMorphin'+'g'](_0x499ea4,_0x583f81['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x2952a0,_0x583f81);const _0x3c626f=_0x583f81['renderStyl'+'e'];_0x499ea4['setIndexBu'+'ffer'](_0x14ff05['indexBuffe'+'r'][_0x3c626f]),_0x169d92['drawInstan'+'ce'](_0x499ea4,_0x583f81,_0x14ff05,_0x3c626f),_0x169d92['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x499ea4);}}['needsShado'+'wRendering'](_0x3c8ce2){const _0x196053=_0x3c8ce2['enabled']&&_0x3c8ce2['castShadow'+'s']&&_0x3c8ce2['shadowUpda'+'teMode']!==ks&&_0x3c8ce2['visibleThi'+'sFrame'];return _0x3c8ce2['shadowUpda'+'teMode']===un&&(_0x3c8ce2['shadowUpda'+'teMode']=ks),_0x196053&&(this['renderer']['_shadowMap'+'Updates']+=_0x3c8ce2['numShadowF'+'aces']),_0x196053;}['getLightRe'+'nderData'](_0x3b6412,_0x3ef235,_0x3389ce){return _0x3b6412['getRenderD'+'ata'](_0x3b6412['_type']===le?_0x3ef235:null,_0x3389ce);}['setupRende'+'rPass'](_0x46851c,_0x475b37,_0x1bbfa9){const _0x15fe8c=_0x475b37['renderTarg'+'et'];_0x46851c['init'](_0x15fe8c),_0x46851c['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x1*0x18b+0xd85+-0x1*0xbf9,_0x46851c['depthStenc'+'ilOps']['clearDepth']=_0x1bbfa9,_0x15fe8c['depthBuffe'+'r']?_0x46851c['depthStenc'+'ilOps']['storeDepth']=!(0x206b+-0x1eee+-0x7f*0x3):(_0x46851c['colorOps']['clearValue']['copy'](_0x475b37['clearColor']),_0x46851c['colorOps']['clear']=_0x1bbfa9,_0x46851c['depthStenc'+'ilOps']['storeDepth']=!(-0xc0*-0x4+0x1e+0x1*-0x31d)),_0x46851c['requiresCu'+'bemaps']=!(-0x137a+0x2*0x588+0x86b);}['prepareFac'+'e'](_0x4c1bb,_0x187700,_0x58984c){const _0x4345a2=_0x4c1bb['_type'],_0x5a969b=this['getLightRe'+'nderData'](_0x4c1bb,_0x187700,_0x58984c)['shadowCame'+'ra'],_0x3b7acf=_0x4345a2===le?-0x96*0xe+-0x856+0x108a:_0x58984c;return _0x5a969b['renderTarg'+'et']=_0x4c1bb['_shadowMap']['renderTarg'+'ets'][_0x3b7acf],_0x5a969b;}['renderFace'](_0x18eaba,_0x5507dc,_0x462473,_0x59d709,_0x56a1c0=!(-0x677*0x5+-0x3*0xb2d+0x2*0x20ed)){const _0x1bf457=this['device'],_0x2423e8=ae();G['pushGpuMar'+'ker'](_0x1bf457,'SHADOW\x20'+_0x18eaba['_node']['name']+'\x20FACE\x20'+_0x462473);const _0x5cc602=this['getLightRe'+'nderData'](_0x18eaba,_0x5507dc,_0x462473),_0x97e085=_0x5cc602['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x18eaba,_0x97e085,_0x5cc602,_0x462473);const _0x440265=_0x97e085['renderTarg'+'et'],_0x407b2d=this['renderer'];_0x407b2d['setCameraU'+'niforms'](_0x97e085,_0x440265),_0x1bf457['supportsUn'+'iformBuffe'+'rs']&&_0x407b2d['setupViewU'+'niformBuff'+'ers'](_0x5cc602['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],0x7ca*-0x1+-0x14e3+0x1cae),_0x56a1c0?(_0x407b2d['setupViewp'+'ort'](_0x97e085,_0x440265),_0x59d709&&_0x407b2d['clear'](_0x97e085)):_0x407b2d['clearView'](_0x97e085,_0x440265,!(-0x1be3+-0x23c+0x2bd*0xb),!(0x925+-0x15e6+0xcc2)),this['setupRende'+'rState'](_0x1bf457,_0x18eaba),this['submitCast'+'ers'](_0x5cc602['visibleCas'+'ters'],_0x18eaba,_0x97e085),G['popGpuMark'+'er'](_0x1bf457),_0x407b2d['_shadowMap'+'Time']+=ae()-_0x2423e8;}['render'](_0x5971e3,_0x3ee7bb,_0x414362=!(0x1*0x1492+-0x136a+-0x128)){if(this['needsShado'+'wRendering'](_0x5971e3)){const _0x16968c=_0x5971e3['numShadowF'+'aces'];for(let _0x1a1551=0x9b0+-0x56*0x1b+-0x1*0x9e;_0x1a1551<_0x16968c;_0x1a1551++)this['prepareFac'+'e'](_0x5971e3,_0x3ee7bb,_0x1a1551),this['renderFace'](_0x5971e3,_0x3ee7bb,_0x1a1551,!(-0x1196+0xc+0x118a),_0x414362);this['renderVsm'](_0x5971e3,_0x3ee7bb);}}['renderVsm'](_0x18c85c,_0x2ccccc){_0x18c85c['_isVsm']&&_0x18c85c['_vsmBlurSi'+'ze']>0x179d+-0x2048+-0x172*-0x6&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x18c85c['_type']===le)&&this['applyVsmBl'+'ur'](_0x18c85c,_0x2ccccc);}['getVsmBlur'+'Shader'](_0x425261,_0x1ea8df){const _0x57eb20=this['blurVsmSha'+'der'];let _0x3621ca=_0x57eb20[_0x425261][_0x1ea8df];if(!_0x3621ca){this['blurVsmWei'+'ghts'][_0x1ea8df]=vM(_0x1ea8df);const _0x196ccd=j['fullscreen'+'QuadVS'];let _0x59f254='#define\x20SA'+'MPLES\x20'+_0x1ea8df+'\x0a';_0x59f254+=this['blurVsmSha'+'derCode'][_0x425261];const _0x301be1='blurVsm'+_0x425261+_0x1ea8df;_0x3621ca=Bs(this['device'],_0x196ccd,_0x59f254,_0x301be1),_0x57eb20[_0x425261][_0x1ea8df]=_0x3621ca;}return _0x3621ca;}['applyVsmBl'+'ur'](_0x362862,_0x4c88ee){const _0x599e1b=this['device'];G['pushGpuMar'+'ker'](_0x599e1b,'VSM\x20'+_0x362862['_node']['name']),_0x599e1b['setBlendSt'+'ate'](bt['NOBLEND']);const _0x20958f=_0x362862['getRenderD'+'ata'](_0x362862['_type']===le?_0x4c88ee:null,-0xd*-0x244+0x429*0x3+-0x5*0x863)['shadowCame'+'ra']['renderTarg'+'et'],_0x543a0d=this['renderer']['shadowMapC'+'ache']['get'](_0x599e1b,_0x362862),_0x4e5911=_0x543a0d['renderTarg'+'ets'][-0x18d8+0xce*-0x8+-0x1a*-0x134],_0x13c9d2=_0x362862['vsmBlurMod'+'e'],_0x4aa729=_0x362862['_vsmBlurSi'+'ze'],_0x459dc3=this['getVsmBlur'+'Shader'](_0x13c9d2,_0x4aa729);Za['z']=_0x362862['_shadowRes'+'olution']-(0x93f+-0x2*-0x844+-0x19c5),Za['w']=Za['z'],this['sourceId']['setValue'](_0x20958f['colorBuffe'+'r']),br[-0x43*-0x73+-0x79f*0x1+-0x6*0x3bf]=(0x4de*-0x2+-0x596+0xf53)/_0x362862['_shadowRes'+'olution'],br[-0xd*-0x13c+-0x3b8+-0x277*0x5]=-0x16c+0xe3*-0xa+0xa4a,this['pixelOffse'+'tId']['setValue'](br),_0x13c9d2===Mp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x4aa729]),fn(_0x599e1b,_0x4e5911,_0x459dc3,null,Za),this['sourceId']['setValue'](_0x4e5911['colorBuffe'+'r']),br[0x1c4b*0x1+-0xcb*-0x15+-0x2cf1*0x1]=br[-0xc88+0x1604+0x2*-0x4be],br[0x1bb5*-0x1+0x1a33+-0xc1*-0x2]=-0x1a98+-0x1*-0xa8a+0x100e,this['pixelOffse'+'tId']['setValue'](br),fn(_0x599e1b,_0x20958f,_0x459dc3,null,Za),this['renderer']['shadowMapC'+'ache']['add'](_0x362862,_0x543a0d),G['popGpuMark'+'er'](_0x599e1b);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Jy(this['device'],[new wt('matrix_vie'+'wProjectio'+'n',wa)]),this['viewBindGr'+'oupFormat']=new Yy(this['device'],[new yp(gp,_p|fi)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const zl=[];class bM{constructor(_0x2f9a02){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x2f9a02;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x201e2d=>{_0x201e2d['destroy']();}),this['_allocated']['length']=0xe*-0x65+-0x1*-0x2653+0x9*-0x3a5;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0xb79ca6=new Hu(this['device']);_0xb79ca6['name']='ClusterEmp'+'ty',_0xb79ca6['update']([]),this['_empty']=_0xb79ca6;}return this['_empty'];}['assign'](_0x3935de){const _0x11696c=this['empty'];zl['push'](...this['_allocated']),this['_allocated']['length']=0x2*0x4af+-0x1d35+0x1*0x13d7,this['_clusters']['clear']();const _0x556c5b=_0x3935de['length'];for(let _0xaecdc3=0x1*-0x1a25+0x943+-0x2*-0x871;_0xaecdc3<_0x556c5b;_0xaecdc3++){const _0x2cf2e8=_0x3935de[_0xaecdc3]['renderActi'+'ons'];if(_0x2cf2e8){const _0x38bd81=_0x2cf2e8['length'];for(let _0x4e0e10=-0x132*-0x2+-0x2001+-0x18f*-0x13;_0x4e0e10<_0x38bd81;_0x4e0e10++){const _0x512d87=_0x2cf2e8[_0x4e0e10];_0x512d87['lightClust'+'ers']=null;const _0x5619fc=_0x512d87['layer'];if(_0x5619fc['hasCluster'+'edLights']&&_0x5619fc['meshInstan'+'ces']['length']){const _0x1a4fc1=_0x5619fc['getLightId'+'Hash'](),_0x346a78=this['_clusters']['get'](_0x1a4fc1);let _0x2fd912=_0x346a78==null?void(0x124c+-0x1aa7+-0x3*-0x2c9):_0x346a78['lightClust'+'ers'];_0x2fd912||(_0x2fd912=zl['pop']()??new Hu(this['device']),gn['setName'](_0x2fd912,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x2fd912),this['_clusters']['set'](_0x1a4fc1,_0x512d87)),_0x512d87['lightClust'+'ers']=_0x2fd912;}_0x512d87['lightClust'+'ers']||(_0x512d87['lightClust'+'ers']=_0x11696c);}}}zl['forEach'](_0x15cbf3=>_0x15cbf3['destroy']()),zl['length']=-0x64d*-0x1+-0xf08+-0xf*-0x95;}['update'](_0x3a1059,_0x1209be){this['assign'](_0x3a1059),this['_clusters']['forEach'](_0x3ec34f=>{const _0x113d14=_0x3ec34f['layer'];_0x3ec34f['lightClust'+'ers']['update'](_0x113d14['clusteredL'+'ightsSet'],_0x1209be);});}}const __='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',TM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Wi=new ee(),kd=[];class Up extends gs{constructor(_0x21e743,_0x2f8537){super(_0x21e743),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x2f8537,this['requiresCu'+'bemaps']=!(0x8*0x38a+-0x21ca+0x57b),this['blitTextur'+'eId']=_0x21e743['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x21e743['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x718348,_0x2038c5;(_0x718348=this['_quadRende'+'rer2D'])==null||_0x718348['destroy'](),this['_quadRende'+'rer2D']=null,(_0x2038c5=this['_quadRende'+'rerCube'])==null||_0x2038c5['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0xc42941,_0x4aff46){b['assert'](_0xc42941);const _0x244b58=new Up(_0xc42941['device'],_0x4aff46);return _0x244b58['init'](_0xc42941),_0x244b58['colorOps']['clear']=!(-0x2a8+-0x1*-0xd13+0x3e*-0x2b),_0x244b58['depthStenc'+'ilOps']['clearDepth']=!(-0x7fa+-0xf7+-0x2*-0x479),_0x244b58;}['update'](_0x954ce2){const _0x4a24d0=this['_filteredL'+'ights'];this['filter'](_0x954ce2,_0x4a24d0),this['executeEna'+'bled']=_0x4a24d0['length']>-0x4d8+-0x1e39+0xbf*0x2f;}['filter'](_0x406335,_0x181cb1){for(let _0x37d948=0x12d7+-0x619*-0x3+-0x2522;_0x37d948<_0x406335['length'];_0x37d948++){const _0x333bcb=_0x406335[_0x37d948];_0x333bcb['_type']!==le&&_0x333bcb['atlasViewp'+'ortAllocat'+'ed']&&_0x333bcb['atlasSlotU'+'pdated']&&_0x333bcb['enabled']&&_0x333bcb['cookie']&&_0x333bcb['visibleThi'+'sFrame']&&_0x181cb1['push'](_0x333bcb);}}['initInvVie'+'wProjMatri'+'ces'](){if(!kd['length'])for(let _0x4550c3=-0x2131*0x1+0x1*0xb9b+-0x133*-0x12;_0x4550c3<0x1bdf+0x26a5+-0x427e;_0x4550c3++){const _0x11f052=Ia['create'](null,Le,_0x4550c3),_0x5b20c5=_0x11f052['projection'+'Matrix'],_0x43d4a8=_0x11f052['node']['getLocalTr'+'ansform']()['clone']()['invert']();kd[_0x4550c3]=new q()['mul2'](_0x5b20c5,_0x43d4a8)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x2a81a3=Bs(this['device'],__,wM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Gu(_0x2a81a3);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x3d4687=Bs(this['device'],__,TM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Gu(_0x3d4687);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x47cfa6=this['device'];_0x47cfa6['setBlendSt'+'ate'](bt['NOBLEND']),_0x47cfa6['setCullMod'+'e'](vt),_0x47cfa6['setDepthSt'+'ate'](us['NODEPTH']),_0x47cfa6['setStencil'+'State']();const _0x3a36a3=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x57f2b0=this['_cubeSlots'+'Offsets'],_0x2068c6=this['_filteredL'+'ights'];for(let _0x410b04=-0x1d25+0x1f8f+0x26a*-0x1;_0x410b04<_0x2068c6['length'];_0x410b04++){const _0x4f2981=_0x2068c6[_0x410b04];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x4f2981['_node']['name']);const _0x41adfb=_0x4f2981['numShadowF'+'aces'],_0x588221=_0x41adfb>0xb25+-0x1543+0xa1f?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x41adfb>-0x14*-0xbd+-0x1a72+0xbaf*0x1&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x4f2981['cookie']);for(let _0x48fc9f=-0x2116+-0x797*-0x2+0x1*0x11e8;_0x48fc9f<_0x41adfb;_0x48fc9f++){if(Wi['copy'](_0x4f2981['atlasViewp'+'ort']),_0x41adfb>0x74d*0x2+-0x1*-0x2186+0x1*-0x301f){const _0x2ed28d=Wi['z']/(0x23*0x12+-0x1*-0xd+-0x280),_0x35ed8a=_0x57f2b0[_0x48fc9f];Wi['x']+=_0x2ed28d*_0x35ed8a['x'],Wi['y']+=_0x2ed28d*_0x35ed8a['y'],Wi['z']=_0x2ed28d,Wi['w']=_0x2ed28d,this['invViewPro'+'jId']['setValue'](kd[_0x48fc9f]['data']);}Wi['mulScalar'](_0x3a36a3),_0x588221['render'](Wi);}G['popGpuMark'+'er'](_0x47cfa6);}_0x2068c6['length']=-0x56c*0x4+0x147c*0x1+0x4*0x4d;}}class AM extends gs{constructor(_0x29692c,_0x3f1c4c,_0x5167c7){super(_0x29692c),this['requiresCu'+'bemaps']=!(0x8e7*0x1+-0x1*-0x19dc+0x22c2*-0x1),this['shadowRend'+'erer']=_0x3f1c4c,this['shadowRend'+'ererLocal']=_0x5167c7;}['update'](_0x3dbae2){const _0x2c634e=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x2e3d03=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x2c634e,_0x3dbae2),_0x364466=_0x2c634e['length'];this['enabled']=_0x364466>-0x613*0x2+0x189f+-0xc79,_0x364466&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x2e3d03,!(0x122c+-0x22a7+0x107c));}['execute'](){const _0x2000b9=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x30b89c=_0x2000b9['length'];for(let _0x24f20b=-0x1*-0x4f9+0x1d85+0x2*-0x113f;_0x24f20b<_0x30b89c;_0x24f20b++){const _0x3ffabb=_0x2000b9[_0x24f20b];for(let _0x1f04db=0x1*0x3f1+0x63a*0x5+-0x2313;_0x1f04db<_0x3ffabb['numShadowF'+'aces'];_0x1f04db++)this['shadowRend'+'erer']['renderFace'](_0x3ffabb,null,_0x1f04db,!(-0xddb*-0x1+0x21de+0x283*-0x13));}_0x2000b9['length']=-0x99*0x22+-0xa21+-0x617*-0x5;}}class EM extends gs{constructor(_0x3291c6,_0x44285b,_0x218eb8,_0x1a9de6,_0x2f44f1){super(_0x3291c6),this['renderer']=_0x44285b,this['frameGraph']=null,this['cookiesRen'+'derPass']=Up['create'](_0x2f44f1['cookieRend'+'erTarget'],_0x2f44f1['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new AM(_0x3291c6,_0x218eb8,_0x1a9de6),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x9d80ee,_0x18361a,_0x28a0cc,_0x4b4413,_0x2c0e85){this['frameGraph']=_0x9d80ee,this['cookiesRen'+'derPass']['enabled']=_0x28a0cc,_0x28a0cc&&this['cookiesRen'+'derPass']['update'](_0x4b4413),this['shadowRend'+'erPass']['enabled']=_0x18361a,_0x18361a&&this['shadowRend'+'erPass']['update'](_0x2c0e85);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x317d41=ae(),{renderer:_0xb77466}=this,{scene:_0x54b1eb}=_0xb77466;_0xb77466['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x54b1eb['lighting']),_0xb77466['_lightClus'+'tersTime']+=ae()-_0x317d41,_0xb77466['_lightClus'+'ters']=_0xb77466['worldClust'+'ersAllocat'+'or']['count'];}}let Od=-0x5f5*0x1+-0x10ce+0x1*0x16c3;const $i=new q(),qi=new q(),Rn=new q(),g_=new Js(),Bd=new Bf(),y_=new q()['setScale'](-0x1d4+-0x125*0xb+-0x47*-0x34,-(0xe8a*-0x1+0x2398+-0x150d),-0x229c+0x66c+-0x7*-0x407),Nd=new Set(),zd=new Set(),Ud=new Ky(),x_=new q()['set']([-0x59*-0x41+-0x743*0x1+-0x9d*0x19,-0x116+-0x1*-0x8ae+0x3cc*-0x2,0x1e67+0x16e9*0x1+-0x3550,-0x32*0xbc+0xc93+0x1825,-0x14bb+-0xf*-0x53+0xfde,0xd*-0x73+-0x1af9+0x20d1,-0x6dd+-0x51*0x5+-0x439*-0x2,0x1854+-0xdfe+-0xa56,-0x2707*-0x1+0x4b3+-0x1*0x2bba,-0x1b74+0x1*-0xc07+-0x463*-0x9,-0x279+-0x3*-0x17b+0x1c*-0x12+0.5,0x26e+0x8fd+-0xb6b,-0x12f0+-0xd5b+-0x7*-0x49d,-0xb12+0x1f3a+-0x1428*0x1,-0x1*0x1bd7+0x2a+-0x589*-0x5+0.5,-0xb3*0x1f+-0x19e1*-0x1+-0x433]),S_=[new W(-0xa4e+0xb7f+-0x131+0.5,0xc*0xb6+0x9e*-0x10+-0x2b*-0x8+0.333333),new W(0x4*-0x12e+-0xef2+0x68e*0x3+0.25,-0x1*0x1d79+0x23c9+-0xca*0x8+0.666667),new W(0x242c*-0x1+-0x24dc+0x4908+0.75,-0x2540*0x1+0x30b*-0x1+0x284b+0.111111),new W(-0x9f3+-0x7a6+0x1199+0.125,-0x10d*0x9+-0x21dc+0x2b51+0.444444),new W(0x1555*-0x1+-0xc20+0x2175+0.625,0x53*0x1f+0x1a*0x80+0x15*-0x119+0.777778),new W(-0x1*-0xd6+-0x15ab+0x14d5+0.375,-0x1c98+0x6*-0x35d+-0x1863*-0x2+0.222222),new W(0x135*0x6+-0x23c1+0x3*0x981+0.875,-0x123b+0x7*-0x511+0x35b2+0.555556),new W(-0x8a*-0x1+-0x16e1+0x1657+0.0625,0x1*0x3bb+-0xd7*-0x4+-0x717+0.888889),new W(-0x7*-0x10+0x14*0x178+-0x1dd0+0.5625,0x1*-0x23db+0x1*-0x4e1+0x28bc+0.037037),new W(0x7db+0x51a*-0x4+-0x9*-0x165+0.3125,-0xbbd*0x1+-0x2512+-0x7*-0x6f9+0.37037),new W(0x1c5+-0x746+0x581*0x1+0.8125,-0x1296+-0x17d*0x18+0x364e+0.703704),new W(-0x5c2+-0xd4d+0x130f+0.1875,-0x95c+0xeda+-0x26*0x25+0.148148),new W(0x1*0x1fac+0x8b0+0x2e2*-0xe+0.6875,-0x1a*-0xb5+-0xe89+-0x3d9+0.481481),new W(0x1*-0x1890+-0x158f+0x2e1f+0.4375,0xcdc+-0x64*0x5e+0x17dc+0.814815),new W(0x5e7+0x10c6+-0x81*0x2d+0.9375,0x17*0xb7+-0x13fc+0x1*0x38b+0.259259),new W(0x5a*-0x3e+0x247+-0x13*-0x107+0.03125,-0x2*-0x1304+-0x18*-0x61+-0x2f20+0.592593)],CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),DM=new q(),In=new Set(),Vd=[],Gd=[];class LM{constructor(_0xc0b574){c(this,'clustersDe'+'bugRendere'+'d',!(-0x8f1+-0x157a+0x1e6c)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new nM(-0x1*0x212b+0x215f+0x47)),(this['device']=_0xc0b574,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new bM(_0xc0b574),this['lightTextu'+'reAtlas']=new fM(_0xc0b574),this['shadowMapC'+'ache']=new pM(),this['shadowRend'+'erer']=new D0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new _M(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new xM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new EM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x38f*-0x2+0xcb8+-0x59a,this['_morphTime']=-0x120*-0x4+-0x1838+0x13b8,this['_cullTime']=0xe*0xcb+0x17e6+-0x1*0x2300,this['_shadowMap'+'Time']=0x26a7+0x44*0x1+-0x26eb,this['_lightClus'+'tersTime']=-0x2*-0xe05+0x170f+-0x3319*0x1,this['_layerComp'+'ositionUpd'+'ateTime']=-0x480*-0x3+-0x101a+0x4a*0x9,this['_shadowDra'+'wCalls']=0x219c*-0x1+0xede+0x12be,this['_skinDrawC'+'alls']=0x8e*-0x2a+-0x1*-0x132f+0x41d,this['_instanced'+'DrawCalls']=0x7b+0x1*0x11b1+0x4*-0x48b,this['_shadowMap'+'Updates']=-0x2193+-0x1e01+-0x4e4*-0xd,this['_numDrawCa'+'llsCulled']=-0x114b*-0x1+-0x4*0x31c+-0x4db*0x1,this['_camerasRe'+'ndered']=-0x3c*0xa2+0x4*0x96+-0x14*-0x1c8,this['_lightClus'+'ters']=-0x75b*0x3+0x18e7+-0x2d6);const _0x2f20aa=_0xc0b574['scope'];this['boneTextur'+'eId']=_0x2f20aa['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x2f20aa['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x2f20aa['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x2f20aa['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x2f20aa['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0x248+-0x3*0x386+0x84d),this['viewPosId']=_0x2f20aa['resolve']('view_posit'+'ion'),this['projId']=_0x2f20aa['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x2f20aa['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x2f20aa['resolve']('matrix_vie'+'w'),this['viewId3']=_0x2f20aa['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x2f20aa['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x2f20aa['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x2f20aa['resolve']('tbnBasis'),this['nearClipId']=_0x2f20aa['resolve']('camera_nea'+'r'),this['farClipId']=_0x2f20aa['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(-0x1d51+-0xba5+0x28fa),this['cameraPara'+'msId']=_0x2f20aa['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x2f20aa['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=0x574+0x1*0x209b+-0x260f,this['blueNoiseJ'+'itterVec']=new ee(),this['blueNoiseJ'+'itterData']=new Float32Array(-0x1dac+0x3d7*-0x1+0xb2d*0x3),this['blueNoiseJ'+'itterId']=_0x2f20aa['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x2f20aa['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x2f20aa['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x2f20aa['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x2f20aa['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x2f20aa['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0xea4+-0x568+-0x24f*0x4),this['morphPosit'+'ionTex']=_0x2f20aa['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x2f20aa['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x2f20aa['resolve']('morph_tex_'+'params'),this['lightCube']=new oM(),this['constantLi'+'ghtCube']=_0x2f20aa['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x5b2c7b,_0x4efd89){if(_0x5b2c7b['layer']===_0x4efd89['layer']){if(_0x5b2c7b['drawOrder']&&_0x4efd89['drawOrder'])return _0x5b2c7b['drawOrder']-_0x4efd89['drawOrder'];if(_0x5b2c7b['zdist']&&_0x4efd89['zdist'])return _0x4efd89['zdist']-_0x5b2c7b['zdist'];if(_0x5b2c7b['zdist2']&&_0x4efd89['zdist2'])return _0x5b2c7b['zdist2']-_0x4efd89['zdist2'];}return _0x4efd89['_key'][Ii]-_0x5b2c7b['_key'][Ii];}['sortCompar'+'eMesh'](_0x4e5ada,_0x513b17){if(_0x4e5ada['layer']===_0x513b17['layer']){if(_0x4e5ada['drawOrder']&&_0x513b17['drawOrder'])return _0x4e5ada['drawOrder']-_0x513b17['drawOrder'];if(_0x4e5ada['zdist']&&_0x513b17['zdist'])return _0x513b17['zdist']-_0x4e5ada['zdist'];}const _0x5caea4=_0x4e5ada['_key'][Ii],_0x16daf7=_0x513b17['_key'][Ii];return _0x5caea4===_0x16daf7&&_0x4e5ada['mesh']&&_0x513b17['mesh']?_0x513b17['mesh']['id']-_0x4e5ada['mesh']['id']:_0x16daf7-_0x5caea4;}['sortCompar'+'eDepth'](_0x53bbfc,_0x2601b9){const _0x142a26=_0x53bbfc['_key'][Uu],_0x23917b=_0x2601b9['_key'][Uu];return _0x142a26===_0x23917b&&_0x53bbfc['mesh']&&_0x2601b9['mesh']?_0x2601b9['mesh']['id']-_0x53bbfc['mesh']['id']:_0x23917b-_0x142a26;}['setupViewp'+'ort'](_0x5b63bf,_0x5b1481){const _0x2f338c=this['device'],_0x4d3fd1=_0x5b1481?_0x5b1481['width']:_0x2f338c['width'],_0x4ac261=_0x5b1481?_0x5b1481['height']:_0x2f338c['height'],_0x26eaad=_0x5b63bf['rect'];let _0x48559a=Math['floor'](_0x26eaad['x']*_0x4d3fd1),_0x8bb9b1=Math['floor'](_0x26eaad['y']*_0x4ac261),_0x586597=Math['floor'](_0x26eaad['z']*_0x4d3fd1),_0x1ce0ac=Math['floor'](_0x26eaad['w']*_0x4ac261);if(_0x2f338c['setViewpor'+'t'](_0x48559a,_0x8bb9b1,_0x586597,_0x1ce0ac),_0x5b63bf['_scissorRe'+'ctClear']){const _0x6c39db=_0x5b63bf['scissorRec'+'t'];_0x48559a=Math['floor'](_0x6c39db['x']*_0x4d3fd1),_0x8bb9b1=Math['floor'](_0x6c39db['y']*_0x4ac261),_0x586597=Math['floor'](_0x6c39db['z']*_0x4d3fd1),_0x1ce0ac=Math['floor'](_0x6c39db['w']*_0x4ac261);}_0x2f338c['setScissor'](_0x48559a,_0x8bb9b1,_0x586597,_0x1ce0ac);}['setCameraU'+'niforms'](_0x4d032b,_0x5351c3){var _0x22cc01,_0x3fe12b;const _0x222bd6=_0x5351c3==null?void(0x515+-0x2f*-0xad+0x312*-0xc):_0x5351c3['flipY'];let _0x1b39a1=0x2ec*0x7+0x3ee*-0x3+0x2e3*-0x3;if(_0x4d032b['xr']&&_0x4d032b['xr']['session']){const _0xd644e=((_0x3fe12b=(_0x22cc01=_0x4d032b['_node'])==null?void(-0x2b6*-0xe+-0x1322+-0x12d2):_0x22cc01['parent'])==null?void(0x1c6c+-0x356*0x4+-0xf14):_0x3fe12b['getWorldTr'+'ansform']())||null,_0x7b27c9=_0x4d032b['xr']['views'];_0x1b39a1=_0x7b27c9['list']['length'];for(let _0x4f9156=0x61f+0x2460+-0x2a7f;_0x4f9156<_0x1b39a1;_0x4f9156++){const _0x4e63de=_0x7b27c9['list'][_0x4f9156];_0x4e63de['updateTran'+'sforms'](_0xd644e),_0x4d032b['frustum']['setFromMat'+'4'](_0x4e63de['projViewOf'+'fMat']);}}else{let _0x2bdaa3=_0x4d032b['projection'+'Matrix'];_0x4d032b['calculateP'+'rojection']&&_0x4d032b['calculateP'+'rojection'](_0x2bdaa3,Rl);let _0x6652de=_0x4d032b['getProject'+'ionMatrixS'+'kybox']();_0x222bd6&&(_0x2bdaa3=CM['mul2'](y_,_0x2bdaa3),_0x6652de=MM['mul2'](y_,_0x6652de)),this['device']['isWebGPU']&&(_0x2bdaa3=PM['mul2'](x_,_0x2bdaa3),_0x6652de=RM['mul2'](x_,_0x6652de));const {jitter:_0x387e85}=_0x4d032b;let _0x480da3=0x1eb0+-0x7a3+0x3*-0x7af,_0x58bfdd=-0x2516+-0x107f+0x1d9*0x1d;if(_0x387e85>0xa2a*-0x3+-0x1*-0xfb3+0xecb){const _0x395e5b=_0x5351c3?_0x5351c3['width']:this['device']['width'],_0x12daae=_0x5351c3?_0x5351c3['height']:this['device']['height'],_0xa63f6e=S_[this['device']['renderVers'+'ion']%S_['length']];_0x480da3=_0x387e85*(_0xa63f6e['x']*(-0x16e8+-0x7c5+0x1eaf)-(-0x165b*0x1+-0xd3*-0x29+0x1*-0xb6f))/_0x395e5b,_0x58bfdd=_0x387e85*(_0xa63f6e['y']*(-0x2f2*-0x7+-0x26d2+0x15*0xde)-(0x24ba+0x151a+-0x83*0x71))/_0x12daae,_0x2bdaa3=IM['copy'](_0x2bdaa3),_0x2bdaa3['data'][0x1*0xb3e+0x18be+-0x23f4]=_0x480da3,_0x2bdaa3['data'][0x1154+0x7*0x158+-0x5*0x557]=_0x58bfdd,_0x6652de=DM['copy'](_0x6652de),_0x6652de['data'][-0x1fa1+-0x18d2+0x387b]=_0x480da3,_0x6652de['data'][-0x158b+0x1093*-0x2+0x36ba]=_0x58bfdd,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0xcb3f64=_0x387e85>-0x9*0x1b+-0x16ed+-0x2*-0xbf0?this['blueNoiseJ'+'itterVec']:ee['ZERO'];if(this['blueNoiseJ'+'itterData'][-0xc53+0x37*0x1f+0x5aa]=_0xcb3f64['x'],this['blueNoiseJ'+'itterData'][0x6f5*-0x5+-0x1008+-0xa*-0x515]=_0xcb3f64['y'],this['blueNoiseJ'+'itterData'][-0x1c05+-0xb7f+0x2786]=_0xcb3f64['z'],this['blueNoiseJ'+'itterData'][-0xaaa+-0x5*0x32d+0x1a8e]=_0xcb3f64['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x2bdaa3['data']),this['projSkybox'+'Id']['setValue'](_0x6652de['data']),_0x4d032b['calculateT'+'ransform'])_0x4d032b['calculateT'+'ransform'](qi,Rl);else{const _0x20edd8=_0x4d032b['_node']['getPositio'+'n'](),_0x45f7b2=_0x4d032b['_node']['getRotatio'+'n']();qi['setTRS'](_0x20edd8,_0x45f7b2,A['ONE']);}this['viewInvId']['setValue'](qi['data']),Rn['copy'](qi)['invert'](),this['viewId']['setValue'](Rn['data']),g_['setFromMat'+'4'](Rn),this['viewId3']['setValue'](g_['data']),$i['mul2'](_0x2bdaa3,Rn),this['viewProjId']['setValue']($i['data']),_0x4d032b['_storeShad'+'erMatrices']($i,_0x480da3,_0x58bfdd,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x222bd6?-(0x17c4*0x1+-0x1428+-0x39b):-0xa02+-0xe0c+0x180f),this['dispatchVi'+'ewPos'](_0x4d032b['_node']['getPositio'+'n']()),_0x4d032b['frustum']['setFromMat'+'4']($i);}this['tbnBasis']['setValue'](_0x222bd6?-(0x1e2d+-0x1520+-0x90c):0x7*0x51c+-0x1*0x1105+0x1*-0x12be);const _0x311a69=_0x4d032b['_nearClip'],_0x14260d=_0x4d032b['_farClip'];return this['nearClipId']['setValue'](_0x311a69),this['farClipId']['setValue'](_0x14260d),this['cameraPara'+'ms'][0xd97+-0x186d+0xad6]=(-0x1*-0x1c57+0x1*0x6bc+-0x2*0x1189)/_0x14260d,this['cameraPara'+'ms'][-0x1*0xde5+-0xfe0+0x1dc6]=_0x14260d,this['cameraPara'+'ms'][0x2b*-0x4b+0x20e7*-0x1+0x2d82]=_0x311a69,this['cameraPara'+'ms'][0x79*0xc+0x2*0xb29+0x1d*-0xf7]=_0x4d032b['projection']===pa?0x126b+0x433+0x7*-0x33b:0x5cb*0x5+-0x2d*-0xa8+-0x3a7f,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x4d032b['getExposur'+'e']():this['scene']['exposure']),_0x1b39a1;}['clear'](_0x113abe,_0x345d3d,_0x4fd36e,_0x53b84c){const _0x34e4c5=(_0x345d3d??_0x113abe['_clearColo'+'rBuffer']?Io:0x27*0xef+0x5*-0x3b2+-0x1*0x11ef)|(_0x4fd36e??_0x113abe['_clearDept'+'hBuffer']?Do:0x82c*-0x1+0x2a5+-0x5*-0x11b)|(_0x53b84c??_0x113abe['_clearSten'+'cilBuffer']?Rh:0x14a9+-0x1*0x11a7+0x7*-0x6e);if(_0x34e4c5){const _0x4c778e=this['device'];G['pushGpuMar'+'ker'](_0x4c778e,'CLEAR'),_0x4c778e['clear']({'color':[_0x113abe['_clearColo'+'r']['r'],_0x113abe['_clearColo'+'r']['g'],_0x113abe['_clearColo'+'r']['b'],_0x113abe['_clearColo'+'r']['a']],'depth':_0x113abe['_clearDept'+'h'],'stencil':_0x113abe['_clearSten'+'cil'],'flags':_0x34e4c5}),G['popGpuMark'+'er'](_0x4c778e);}}['setCamera'](_0x2e20cc,_0x521bdf,_0x205181,_0x25d5c4=null){this['setCameraU'+'niforms'](_0x2e20cc,_0x521bdf),this['clearView'](_0x2e20cc,_0x521bdf,_0x205181,!(0xdb*0x1+-0xc2e+-0x2*-0x5aa));}['clearView'](_0x28d400,_0x5d382f,_0x249790,_0xa5091){const _0x2e02ce=this['device'];if(G['pushGpuMar'+'ker'](_0x2e02ce,'CLEAR-VIEW'),_0x2e02ce['setRenderT'+'arget'](_0x5d382f),_0x2e02ce['updateBegi'+'n'](),_0xa5091&&(_0x2e02ce['setColorWr'+'ite'](!(-0x255a+-0xc8e+-0x63d*-0x8),!(-0xb5*-0xd+-0x1a19+-0x4*-0x43a),!(0x1*-0x6f6+-0x48*0x46+0x12*0x17b),!(-0x345+0x24de+-0x2199)),_0x2e02ce['setDepthWr'+'ite'](!(-0xd4d+0x20e9+0x4*-0x4e7))),this['setupViewp'+'ort'](_0x28d400,_0x5d382f),_0x249790){const _0x545966=_0x28d400['_clearOpti'+'ons'];_0x2e02ce['clear'](_0x545966||{'color':[_0x28d400['_clearColo'+'r']['r'],_0x28d400['_clearColo'+'r']['g'],_0x28d400['_clearColo'+'r']['b'],_0x28d400['_clearColo'+'r']['a']],'depth':_0x28d400['_clearDept'+'h'],'flags':(_0x28d400['_clearColo'+'rBuffer']?Io:0xc5e+-0xb*-0x389+-0x3341)|(_0x28d400['_clearDept'+'hBuffer']?Do:0x267f+0x18d6+-0x1*0x3f55)|(_0x28d400['_clearSten'+'cilBuffer']?Rh:0x1411+-0x405+0x13c*-0xd),'stencil':_0x28d400['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x2e02ce);}['setupCullM'+'ode'](_0x26d643,_0x4b63dc,_0xa20ca9){const _0x13cdb5=_0xa20ca9['material'];let _0x39718e=vt;if(_0x26d643){let _0x1327ea=0xfc*0x5+0x23ee+-0x28d9;(_0x13cdb5['cull']===xo||_0x13cdb5['cull']===nn)&&(_0x1327ea=_0x4b63dc*_0xa20ca9['flipFacesF'+'actor']*_0xa20ca9['node']['worldScale'+'Sign']),_0x1327ea<0xc99+0x3e*0x15+0x5e5*-0x3?_0x39718e=_0x13cdb5['cull']===xo?nn:xo:_0x39718e=_0x13cdb5['cull'];}this['device']['setCullMod'+'e'](_0x39718e),_0x39718e===vt&&_0x13cdb5['cull']===vt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0xa20ca9['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x472291){if(_0x472291['xr']&&_0x472291['xr']['views']['list']['length']){const _0x4f372c=_0x472291['xr']['views']['list'][-0x6be*0x4+0x3+0x1af5];$i['mul2'](_0x4f372c['projMat'],_0x4f372c['viewOffMat']),_0x472291['frustum']['setFromMat'+'4']($i);return;}const _0x2bc0af=_0x472291['projection'+'Matrix'];if(_0x472291['calculateP'+'rojection']&&_0x472291['calculateP'+'rojection'](_0x2bc0af,Rl),_0x472291['calculateT'+'ransform'])_0x472291['calculateT'+'ransform'](qi,Rl);else{const _0x1366bc=_0x472291['_node']['getPositio'+'n'](),_0x5248dc=_0x472291['_node']['getRotatio'+'n']();qi['setTRS'](_0x1366bc,_0x5248dc,A['ONE']),this['viewInvId']['setValue'](qi['data']);}Rn['copy'](qi)['invert'](),$i['mul2'](_0x2bc0af,Rn),_0x472291['frustum']['setFromMat'+'4']($i);}['setBaseCon'+'stants'](_0x3602b0,_0x52ac13){_0x3602b0['setCullMod'+'e'](_0x52ac13['cull']),_0x52ac13['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x52ac13['opacityMap']),(_0x52ac13['opacityMap']||_0x52ac13['alphaTest']>-0x12a1+-0x498+0x1*0x1739)&&this['alphaTestI'+'d']['setValue'](_0x52ac13['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x4c239b){Od++;const _0x5381f3=_0x4c239b['length'];if(_0x5381f3===-0x674*-0x5+0x164b*0x1+-0x368f)return;const _0x39bd50=ae();for(let _0x1dc7b6=0x19b1+0x20ae+-0x3a5f;_0x1dc7b6<_0x5381f3;_0x1dc7b6++){const _0x25fa46=_0x4c239b[_0x1dc7b6]['skinInstan'+'ce'];_0x25fa46&&(_0x25fa46['updateMatr'+'ices'](_0x4c239b[_0x1dc7b6]['node'],Od),_0x25fa46['_dirty']=!(-0x487+0x8*0x184+0x1*-0x799));}this['_skinTime']+=ae()-_0x39bd50;}['updateGpuS'+'kinMatrice'+'s'](_0x518219){const _0x25cb3e=ae();for(const _0x527526 of _0x518219){const _0x3c2048=_0x527526['skinInstan'+'ce'];_0x3c2048&&_0x3c2048['_dirty']&&(_0x3c2048['updateMatr'+'ixPalette'](_0x527526['node'],Od),_0x3c2048['_dirty']=!(-0x1*-0x201f+-0x4d8+-0x1b46));}this['_skinTime']+=ae()-_0x25cb3e;}['updateMorp'+'hing'](_0x4bf805){const _0xf095a2=ae();for(const _0x4dee78 of _0x4bf805){const _0x4a8127=_0x4dee78['morphInsta'+'nce'];_0x4a8127&&_0x4a8127['_dirty']&&_0x4a8127['update']();}this['_morphTime']+=ae()-_0xf095a2;}['updateGSpl'+'ats'](_0x5c2d0e){var _0x19ca84;for(const _0x260762 of _0x5c2d0e)(_0x19ca84=_0x260762['gsplatInst'+'ance'])==null||_0x19ca84['update']();}['gpuUpdate'](_0x3588f7){this['updateGpuS'+'kinMatrice'+'s'](_0x3588f7),this['updateMorp'+'hing'](_0x3588f7),this['updateGSpl'+'ats'](_0x3588f7);}['setVertexB'+'uffers'](_0x2bff9b,_0x34acbf){_0x2bff9b['setVertexB'+'uffer'](_0x34acbf['vertexBuff'+'er']);}['setMorphin'+'g'](_0x14da9e,_0x53258d){_0x53258d&&(_0x53258d['prepareRen'+'dering'](_0x14da9e),_0x14da9e['setVertexB'+'uffer'](_0x53258d['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x53258d['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x53258d['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x53258d['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x4a87c7,_0x1b8a7e){const _0x211732=_0x1b8a7e['skinInstan'+'ce'];if(_0x211732){this['_skinDrawC'+'alls']++;const _0x296de8=_0x211732['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x296de8),this['boneTextur'+'eSizeId']['setValue'](_0x211732['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x104419){const _0x459c92=this['viewPos'];_0x459c92[-0x11dc+-0x22b0+0xb1*0x4c]=_0x104419['x'],_0x459c92[-0x6*-0x22d+0x26b3*0x1+0xc*-0x450]=_0x104419['y'],_0x459c92[0x209*-0x13+-0x158b*0x1+0x787*0x8]=_0x104419['z'],this['viewPosId']['setValue'](_0x459c92);}['initViewBi'+'ndGroupFor'+'mat'](_0x394e1e){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x3f0b03=[new wt('matrix_vie'+'wProjectio'+'n',wa),new wt('cubeMapRot'+'ationMatri'+'x',Uo),new wt('view_posit'+'ion',Qt),new wt('skyboxInte'+'nsity',Ks),new wt('exposure',Ks),new wt('textureBia'+'s',Ks)];_0x394e1e&&_0x3f0b03['push'](new wt('clusterCel'+'lsCountByB'+'oundsSize',Qt),new wt('clusterTex'+'tureSize',Qt),new wt('clusterBou'+'ndsMin',Qt),new wt('clusterBou'+'ndsDelta',Qt),new wt('clusterCel'+'lsDot',Qt),new wt('clusterCel'+'lsMax',Qt),new wt('clusterCom'+'pressionLi'+'mit0',hr),new wt('shadowAtla'+'sParams',hr),new wt('clusterMax'+'Cells',hn),new wt('clusterSki'+'p',Ks)),this['viewUnifor'+'mFormat']=new Jy(this['device'],_0x3f0b03);const _0x4cfa42=[new yp(gp,_p|fi),new yi('lightsText'+'ureFloat',fi,$s,hd),new yi('lightsText'+'ure8',fi,$s,hd),new yi('shadowAtla'+'sTexture',fi,$s,jS),new yi('cookieAtla'+'sTexture',fi,$s,uh),new yi('areaLights'+'LutTex1',fi,$s,uh),new yi('areaLights'+'LutTex2',fi,$s,uh)];_0x394e1e&&_0x4cfa42['push'](new yi('clusterWor'+'ldTexture',fi,$s,hd)),this['viewBindGr'+'oupFormat']=new Yy(this['device'],_0x4cfa42);}}['setupViewU'+'niformBuff'+'ers'](_0x907adb,_0x591c05,_0x26426e,_0x31a096){b['assert'](Array['isArray'](_0x907adb),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x4ced08=this['device'];for(b['assert'](_0x31a096===0x107f+-0x237f+-0x1*-0x1301,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x907adb['length']<_0x31a096;){const _0x3b9ca1=new vp(_0x4ced08,_0x591c05,!(0x1*0x12bc+0x1*-0x13d6+-0x1*-0x11b)),_0x3e5f04=new xp(_0x4ced08,_0x26426e,_0x3b9ca1);gn['setName'](_0x3e5f04,'ViewBindGr'+'oup_'+_0x3e5f04['id']),_0x907adb['push'](_0x3e5f04);}const _0x52729a=_0x907adb[0x4c*-0x34+-0x1f3e+-0x32*-0xef];_0x52729a['defaultUni'+'formBuffer']['update'](),_0x52729a['update'](),_0x4ced08['setBindGro'+'up'](Bh,_0x52729a);}['setupMeshU'+'niformBuff'+'ers'](_0x8f5ac1,_0x32e594){const _0x1d8a3f=this['device'];if(_0x1d8a3f['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x32e594['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x32e594['node']['normalMatr'+'ix']['data']);const _0x295d33=_0x8f5ac1['getBindGro'+'up'](_0x1d8a3f);_0x295d33['update'](),_0x1d8a3f['setBindGro'+'up'](jy,_0x295d33),_0x8f5ac1['getUniform'+'Buffer'](_0x1d8a3f)['update'](Ud),_0x1d8a3f['setBindGro'+'up'](Ru,Ud['bindGroup'],Ud['offsets']);}}['drawInstan'+'ce'](_0x19bc3a,_0x588b6d,_0x236da4,_0x235a8a,_0x56d9e6){const _0x26c40b=_0x588b6d['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x26c40b['data']),_0x56d9e6&&this['normalMatr'+'ixId']['setValue'](_0x588b6d['node']['normalMatr'+'ix']['data']);const _0x5af0f2=_0x588b6d['instancing'+'Data'];_0x5af0f2?_0x5af0f2['count']>0xb5a+0xf47+0x191*-0x11?(this['_instanced'+'DrawCalls']++,_0x19bc3a['setVertexB'+'uffer'](_0x5af0f2['vertexBuff'+'er']),_0x19bc3a['draw'](_0x236da4['primitive'][_0x235a8a],_0x5af0f2['count'])):_0x19bc3a['clearVerte'+'xBuffer']():_0x19bc3a['draw'](_0x236da4['primitive'][_0x235a8a]);}['drawInstan'+'ce2'](_0x39704b,_0xe35981,_0x478513,_0xe5dfb7){const _0x3aa3a3=_0xe35981['instancing'+'Data'];_0x3aa3a3?_0x3aa3a3['count']>-0x1695+0xfd8+0x6bd?(this['_instanced'+'DrawCalls']++,_0x39704b['draw'](_0x478513['primitive'][_0xe5dfb7],_0x3aa3a3['count'],!(0x1b7*-0xb+0x722+0xbbb))):_0x39704b['clearVerte'+'xBuffer']():_0x39704b['draw'](_0x478513['primitive'][_0xe5dfb7],void(-0x1488+-0x1*0x799+0x1c21),!(0x12*0x1f5+0x3*0x445+0x1003*-0x3));}['cull'](_0x3b8d95,_0x4217d8,_0x519880){const _0x46ad37=ae(),_0x330d96=_0x519880['opaque'];_0x330d96['length']=0x25*0xfb+0x23b8+-0xa49*0x7;const _0x20a8ac=_0x519880['transparen'+'t'];_0x20a8ac['length']=-0x1b2e+0xa*-0x275+0xcf0*0x4;const _0x53e6d2=_0x3b8d95['frustumCul'+'ling'],_0x3c2234=_0x4217d8['length'];for(let _0x439619=0xdc5+0x1*0x6dd+0x2*-0xa51;_0x439619<_0x3c2234;_0x439619++){const _0x3ea6bf=_0x4217d8[_0x439619];_0x3ea6bf['visible']&&(!_0x53e6d2||!_0x3ea6bf['cull']||_0x3ea6bf['_isVisible'](_0x3b8d95))&&(_0x3ea6bf['visibleThi'+'sFrame']=!(0x1dfa+-0xeb3+0xf47*-0x1),(_0x3ea6bf['transparen'+'t']?_0x20a8ac:_0x330d96)['push'](_0x3ea6bf),(_0x3ea6bf['skinInstan'+'ce']||_0x3ea6bf['morphInsta'+'nce']||_0x3ea6bf['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x3ea6bf),_0x3ea6bf['gsplatInst'+'ance']&&_0x3ea6bf['gsplatInst'+'ance']['cameras']['push'](_0x3b8d95)));}this['_cullTime']+=ae()-_0x46ad37,this['_numDrawCa'+'llsCulled']+=_0x53e6d2?_0x3c2234:-0x291+-0x5*-0x481+-0x13f4;}['collectLig'+'hts'](_0x5b6f62){this['lights']['length']=0x1*0x24b7+0x47*-0x8b+0x1d6*0x1,this['localLight'+'s']['length']=0x209+0xb85+-0xd8e;const _0x11760d=this['scene']['_stats'];_0x11760d['dynamicLig'+'hts']=-0x1857+-0x10*-0x118+0x6d7,_0x11760d['bakedLight'+'s']=0x38+-0x1*0xb51+-0x1*-0xb19;const _0x2fe8a0=_0x5b6f62['layerList']['length'];for(let _0x5d6f02=-0x2305+0x2018+0x1*0x2ed;_0x5d6f02<_0x2fe8a0;_0x5d6f02++){const _0x453d1c=_0x5b6f62['layerList'][_0x5d6f02];if(!zd['has'](_0x453d1c)){zd['add'](_0x453d1c);const _0xe25f9b=_0x453d1c['_lights'];for(let _0x28a20a=0x9e3+0x1ccc+-0x26af;_0x28a20a<_0xe25f9b['length'];_0x28a20a++){const _0x3d045b=_0xe25f9b[_0x28a20a];Nd['has'](_0x3d045b)||(Nd['add'](_0x3d045b),this['lights']['push'](_0x3d045b),_0x3d045b['_type']!==le&&this['localLight'+'s']['push'](_0x3d045b),(_0x3d045b['mask']&ms||_0x3d045b['mask']&dr)&&_0x11760d['dynamicLig'+'hts']++,_0x3d045b['mask']&ar&&_0x11760d['bakedLight'+'s']++);}}}_0x11760d['lights']=this['lights']['length'],Nd['clear'](),zd['clear']();}['cullLights'](_0x288374,_0x3a7733){const _0x7760fd=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x25615a=this['scene']['physicalUn'+'its'];for(let _0x246563=0xefc+0x2*-0xda3+0xc4a;_0x246563<_0x3a7733['length'];_0x246563++){const _0xcdb639=_0x3a7733[_0x246563];if(_0xcdb639['enabled']){if(_0xcdb639['_type']!==le){if(_0xcdb639['getBoundin'+'gSphere'](Bd),_0x288374['frustum']['containsSp'+'here'](Bd)){_0xcdb639['visibleThi'+'sFrame']=!(-0x175e+-0x2*-0xd03+-0x2a8),_0xcdb639['usePhysica'+'lUnits']=_0x25615a;const _0x29c4c7=_0x288374['getScreenS'+'ize'](Bd);_0xcdb639['maxScreenS'+'ize']=Math['max'](_0xcdb639['maxScreenS'+'ize'],_0x29c4c7);}else _0x7760fd||_0xcdb639['castShadow'+'s']&&!_0xcdb639['shadowMap']&&(_0xcdb639['visibleThi'+'sFrame']=!(-0x13*0xc1+0x7*0x150+-0x5*-0x107));}else _0xcdb639['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x56a9c3){const _0x1f723b=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x2e5d0c=0x246f*-0x1+0x2284+0x1eb;_0x2e5d0c<this['localLight'+'s']['length'];_0x2e5d0c++){const _0x539f28=this['localLight'+'s'][_0x2e5d0c];_0x539f28['_type']!==le&&(_0x1f723b?_0x539f28['atlasSlotU'+'pdated']&&_0x539f28['shadowUpda'+'teMode']===ks&&(_0x539f28['shadowUpda'+'teMode']=un):_0x539f28['shadowUpda'+'teMode']===ks&&_0x539f28['castShadow'+'s']&&(_0x539f28['getRenderD'+'ata'](null,-0x1d3*-0x14+-0x1ae3+-0x999)['shadowCame'+'ra']['renderTarg'+'et']||(_0x539f28['shadowUpda'+'teMode']=un)),_0x539f28['visibleThi'+'sFrame']&&_0x539f28['castShadow'+'s']&&_0x539f28['shadowUpda'+'teMode']!==ks&&this['_shadowRen'+'dererLocal']['cull'](_0x539f28,_0x56a9c3));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x42c958=_0x56a9c3['cameras'];for(let _0x56a9c2=0x1931+0x23*0xd5+0x6ca*-0x8;_0x56a9c2<_0x42c958['length'];_0x56a9c2++){const _0x514a44=_0x42c958[_0x56a9c2];if(_0x514a44['enabled']){const _0x6b50ad=_0x514a44['camera'];let _0x469b05;const _0x54c416=_0x6b50ad['layers'];for(let _0xb39954=0xe75*0x2+-0x5d7+-0x1713;_0xb39954<_0x54c416['length'];_0xb39954++){const _0x17d01e=_0x56a9c3['getLayerBy'+'Id'](_0x54c416[_0xb39954]);if(_0x17d01e){const _0x4af7ac=_0x17d01e['splitLight'+'s'][le];for(let _0x1db491=0x17d1+0x3f5*-0x4+-0x7fd;_0x1db491<_0x4af7ac['length'];_0x1db491++){const _0x3150b7=_0x4af7ac[_0x1db491];_0x3150b7['castShadow'+'s']&&!In['has'](_0x3150b7)&&(In['add'](_0x3150b7),_0x469b05=_0x469b05??[],_0x469b05['push'](_0x3150b7),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x3150b7,_0x56a9c3,_0x6b50ad));}}}_0x469b05&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x6b50ad,_0x469b05),In['clear']();}}}['cullCompos'+'ition'](_0x76d7b){const _0x4f3968=ae(),{scene:_0x1f2384}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0xfa8375=_0x76d7b['cameras']['length'];this['_camerasRe'+'ndered']+=_0xfa8375;for(let _0x45a02c=-0x19ed+-0x9*0xd5+-0x263*-0xe;_0x45a02c<_0xfa8375;_0x45a02c++){const _0x247edc=_0x76d7b['cameras'][_0x45a02c];_0x1f2384==null||_0x1f2384['fire'](ow,_0x247edc);const _0x5d0ba8=_0x247edc['renderTarg'+'et'];_0x247edc['frameUpdat'+'e'](_0x5d0ba8),this['updateCame'+'raFrustum'](_0x247edc['camera']);const _0x238396=_0x247edc['layers'];for(let _0x1ee003=0xfc3+-0x2b*-0x7d+-0x1261*0x2;_0x1ee003<_0x238396['length'];_0x1ee003++){const _0x395371=_0x76d7b['getLayerBy'+'Id'](_0x238396[_0x1ee003]);if(_0x395371&&_0x395371['enabled']){this['cullLights'](_0x247edc['camera'],_0x395371['_lights']);const _0x5ac518=_0x395371['getCulledI'+'nstances'](_0x247edc['camera']);this['cull'](_0x247edc['camera'],_0x395371['meshInstan'+'ces'],_0x5ac518);}}_0x1f2384==null||_0x1f2384['fire'](lw,_0x247edc);}_0x1f2384['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x76d7b),this['_cullTime']+=ae()-_0x4f3968;}['updateShad'+'ers'](_0x9ea420,_0xf3dcce){const _0x235030=_0x9ea420['length'];for(let _0x12d612=0x250f+0x27f*-0xe+-0x21d;_0x12d612<_0x235030;_0x12d612++){const _0x1a2ca3=_0x9ea420[_0x12d612]['material'];if(_0x1a2ca3&&!In['has'](_0x1a2ca3)&&(In['add'](_0x1a2ca3),_0x1a2ca3['getShaderV'+'ariant']!==Sn['prototype']['getShaderV'+'ariant'])){if(_0xf3dcce&&(!_0x1a2ca3['useLightin'+'g']||_0x1a2ca3['emitter']&&!_0x1a2ca3['emitter']['lighting']))continue;_0x1a2ca3['clearVaria'+'nts']();}}In['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](cM(this['device']));}['beginFrame'](_0x2d4dff){const _0x1614c0=this['scene'],_0x2b12ad=_0x1614c0['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x1eec32=-0x455*-0x1+0x5f2*0x6+-0x2801;const _0x72f13b=_0x2d4dff['layerList'],_0x4906bb=_0x72f13b['length'];for(let _0x36b8f6=-0x15c+-0x4c*-0x3e+0x1*-0x110c;_0x36b8f6<_0x4906bb;_0x36b8f6++){const _0x57c450=_0x72f13b[_0x36b8f6]['meshInstan'+'ces'],_0x4b5842=_0x57c450['length'];_0x1eec32+=_0x4b5842;for(let _0x2449ae=-0x94f+0x8*-0x3d0+0xd45*0x3;_0x2449ae<_0x4b5842;_0x2449ae++){const _0x204b13=_0x57c450[_0x2449ae];_0x204b13['visibleThi'+'sFrame']=!(0x26ab*0x1+-0xd*-0xb9+0x3*-0x1005),_0x2b12ad&&Vd['push'](_0x204b13),_0x204b13['skinInstan'+'ce']&&Gd['push'](_0x204b13);}}if(_0x1614c0['_stats']['meshInstan'+'ces']=_0x1eec32,_0x2b12ad){const _0x214b85=!_0x1614c0['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Vd,_0x214b85),_0x1614c0['updateShad'+'ers']=!(-0x5*-0x72+0x1c8f*-0x1+0x1a56),this['device']['_shadersDi'+'rty']=!(0x19b5+0x18f*0xb+0x2ad9*-0x1),_0x1614c0['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Gd),Vd['length']=0x1*-0x110f+-0x916*-0x4+-0x1349*0x1,Gd['length']=0x814+-0xcd8+0x4c4*0x1;const _0x215f31=this['lights'],_0x513b01=_0x215f31['length'];for(let _0x2d8dda=0x62*-0x3a+0x1*0x25f+0x13d5*0x1;_0x2d8dda<_0x513b01;_0x2d8dda++)_0x215f31[_0x2d8dda]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x29e4bc){const _0x58f626=ae(),_0x8d9e5e=_0x29e4bc['layerList']['length'],_0x65e4be=this['scene']['_shaderVer'+'sion'];for(let _0x3eb089=0x31*-0x2b+-0xb7c*-0x2+-0xebd;_0x3eb089<_0x8d9e5e;_0x3eb089++){const _0x40603e=_0x29e4bc['layerList'][_0x3eb089];_0x40603e['_shaderVer'+'sion']=_0x65e4be,_0x40603e['_skipRende'+'rCounter']=-0x1b6a+0xd6*0x6+0x1666,_0x40603e['_forwardDr'+'awCalls']=0x1499+0x20fb+0x8ee*-0x6,_0x40603e['_shadowDra'+'wCalls']=-0xf86+0x1e9b+-0x1ad*0x9,_0x40603e['_renderTim'+'e']=0x54c+0x3e5*-0x9+0x1dc1;}_0x29e4bc['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ae()-_0x58f626;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x11b*0x1+0x1*-0x912+0xa2e),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class L0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(0xcd1+0x26ad+-0x337d),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x2344+0x1070+0x5*-0xa57),this['clearDepth']=!(-0x1978+0x215f+-0x7e6),this['clearStenc'+'il']=!(-0x155b*-0x1+-0x1790+0x236),this['triggerPos'+'tprocess']=!(-0x35*0x4f+0x1930+-0x8d4),this['firstCamer'+'aUse']=!(-0x1*-0x805+0x18f*-0xf+0x9*0x1b5),this['lastCamera'+'Use']=!(0x1ef*0x4+0x1f10+-0x26cb),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0x2*0x119+0x2*0x3f3+-0x5b3*0x1));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1db913=>{_0x1db913['defaultUni'+'formBuffer']['destroy'](),_0x1db913['destroy']();}),this['viewBindGr'+'oups']['length']=-0x23ae+-0x2038+0xb51*0x6;}['setupClear'+'s'](_0x519f0a,_0x38e8cc){this['clearColor']=(_0x519f0a==null?void(-0x19b*-0xb+-0xa9+-0x1100):_0x519f0a['clearColor'+'Buffer'])||_0x38e8cc['clearColor'+'Buffer'],this['clearDepth']=(_0x519f0a==null?void(0xbd3+0x253+-0xe26):_0x519f0a['clearDepth'+'Buffer'])||_0x38e8cc['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x519f0a==null?void(0x10d2+-0x1*-0x11fb+-0x22cd):_0x519f0a['clearStenc'+'ilBuffer'])||_0x38e8cc['clearStenc'+'ilBuffer'];}}class FM extends gs{constructor(_0x17266c,_0x13e133,_0xc7a01c,_0x288260){super(_0x17266c),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(0xa*0x146+0x1679*-0x1+0x9be)),(this['layerCompo'+'sition']=_0x13e133,this['scene']=_0xc7a01c,this['renderer']=_0x288260);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>0x708+-0x86*-0x6+-0xa2c;}['addRenderA'+'ction'](_0x107f00){this['renderActi'+'ons']['push'](_0x107f00);}['addLayer'](_0x3bbd7b,_0x2b84ea,_0x2e483e,_0x19c334=!(-0x6*-0x5e2+-0x1657+-0xcf5)){b['assert'](_0x3bbd7b),b['assert'](this['renderTarg'+'et']!==void(-0x2311+0x2*0xafa+0xd1d),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),b['assert'](_0x3bbd7b['camera']['layersSet']['has'](_0x2b84ea['id']),'Camera\x20'+_0x3bbd7b['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x2b84ea['name']+'.');const _0xf53ff0=new L0();if(_0xf53ff0['renderTarg'+'et']=this['renderTarg'+'et'],_0xf53ff0['camera']=_0x3bbd7b,_0xf53ff0['layer']=_0x2b84ea,_0xf53ff0['transparen'+'t']=_0x2e483e,_0x19c334){const _0xeff9e6=this['renderActi'+'ons']['length']===0x1*-0x178d+0xb06+0xc87;_0xf53ff0['setupClear'+'s'](_0xeff9e6?_0x3bbd7b:void(-0x2*0x1115+-0x137d+0x35a7),_0x2b84ea);}this['addRenderA'+'ction'](_0xf53ff0);}['addLayers'](_0x40255a,_0x4460b5,_0x42b0e3,_0x188d8c,_0x46e1fa,_0x2d0726=!(0x1302+0x6e*0x1+-0x1370)){const {layerList:_0x35b8dc,subLayerList:_0x29fe6c}=_0x40255a;let _0x2a0011=_0x188d8c,_0x2e9b35=_0x42b0e3;for(;_0x2e9b35<_0x35b8dc['length'];){const _0x599f88=_0x35b8dc[_0x2e9b35],_0x4f6c0a=_0x29fe6c[_0x2e9b35];if(_0x4460b5['camera']['layersSet']['has'](_0x599f88['id'])&&(this['addLayer'](_0x4460b5,_0x599f88,_0x4f6c0a,_0x2a0011),_0x2a0011=!(0x609*0x1+0xf96+-0x159e)),_0x2e9b35++,_0x599f88['id']===_0x46e1fa&&_0x4f6c0a===_0x2d0726)break;}return _0x2e9b35;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x2f7000,renderActions:_0x2b807}=this;for(let _0x48f41b=0x1650*0x1+-0xb4e+-0xb02;_0x48f41b<_0x2b807['length'];_0x48f41b++){const _0x2c7e83=_0x2b807[_0x48f41b]['camera']['camera'],_0x328ff4=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x2c7e83);if(_0x328ff4)for(let _0x42ec6b=0xd6f+-0xadc+0x293*-0x1;_0x42ec6b<_0x328ff4['length'];_0x42ec6b++){const _0x4d53f1=_0x328ff4[_0x42ec6b];if(_0x2f7000['dirLightSh'+'adows']['get'](_0x4d53f1)!==_0x2c7e83){_0x2f7000['dirLightSh'+'adows']['set'](_0x4d53f1,_0x2c7e83);const _0x1fa12c=_0x2f7000['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x4d53f1,_0x2c7e83);_0x1fa12c&&this['beforePass'+'es']['push'](_0x1fa12c);}}}}['updateClea'+'rs'](){const _0x2b06f2=this['renderActi'+'ons'][0x1489+0x67f*0x6+-0x3b83];if(_0x2b06f2){const _0x16c256=_0x2b06f2['camera']['camera'],_0x363120=_0x16c256['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x363120&&_0x2b06f2['clearColor']?_0x16c256['clearColor']:void(0x1d86+0x1615+-0xb*0x4b1)),this['setClearDe'+'pth'](_0x363120&&_0x2b06f2['clearDepth']&&!this['noDepthCle'+'ar']?_0x16c256['clearDepth']:void(0xfd9*0x1+-0x1ac5+0x3a4*0x3)),this['setClearSt'+'encil'](_0x363120&&_0x2b06f2['clearStenc'+'il']?_0x16c256['clearStenc'+'il']:void(0x1db8+-0x211d+0x365));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x53bf59}=this;for(let _0x5b2555=0x1*-0x2407+0x744+-0x1cc3*-0x1;_0x5b2555<_0x53bf59['length'];_0x5b2555++){const _0x1132e9=_0x53bf59[_0x5b2555];_0x1132e9['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x1132e9['camera']);}}['execute'](){const {layerComposition:_0x1c4c10,renderActions:_0x271bcc}=this;for(let _0x475b4b=-0x1bc2+-0x581+0x2143;_0x475b4b<_0x271bcc['length'];_0x475b4b++){const _0x199d8a=_0x271bcc[_0x475b4b],_0x11c9fd=_0x199d8a['layer'];b['call'](()=>{_0x1c4c10['getLayerBy'+'Name'](_0x11c9fd['name'])||b['warnOnce']('Layer\x20'+_0x11c9fd['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x1c4c10['isEnabled'](_0x11c9fd,_0x199d8a['transparen'+'t'])&&this['renderRend'+'erAction'](_0x199d8a,_0x475b4b===0x8c9*0x1+0x13f6+0x21*-0xdf);}}['after'](){for(let _0x209ba6=-0x2*0x757+0x1147+-0x1*0x299;_0x209ba6<this['renderActi'+'ons']['length'];_0x209ba6++){const _0x36d3f0=this['renderActi'+'ons'][_0x209ba6];_0x36d3f0['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x36d3f0['camera']);}this['beforePass'+'es']['length']=0x5*0x67f+-0x7*0x397+0x75a*-0x1;}['renderRend'+'erAction'](_0x404705,_0x3dfabc){var _0x2ebf67;const {renderer:_0x1746c5,scene:_0x145251}=this,_0x104b63=_0x1746c5['device'],{layer:_0x3f9594,transparent:_0x391069,camera:_0x37d887}=_0x404705;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x37d887?_0x37d887['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x3f9594['name']+'('+(_0x391069?'TRANSP':'OPAQUE')+')');const _0x2a021b=ae();if(_0x37d887){const _0x21fdf5=_0x37d887['gammaCorre'+'ction'],_0x2ec399=_0x37d887['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0xc6c+-0x1722+-0x2*-0x55b)&&(_0x37d887['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x24cf+-0x2e1+-0x1*0x21ee)&&(_0x37d887['toneMappin'+'g']=this['toneMappin'+'g']),_0x145251['fire'](nw,_0x37d887,_0x3f9594,_0x391069);const _0x4fe739={'lightClusters':_0x404705['lightClust'+'ers']},_0x270b3e=((_0x2ebf67=_0x37d887['camera']['shaderPass'+'Info'])==null?void(-0x1*0x16d3+0x1d52+-0x67f):_0x2ebf67['index'])??xn;(!_0x3dfabc||!_0x37d887['camera']['fullSizeCl'+'earRect'])&&(_0x4fe739['clearColor']=_0x404705['clearColor'],_0x4fe739['clearDepth']=_0x404705['clearDepth'],_0x4fe739['clearStenc'+'il']=_0x404705['clearStenc'+'il']);const _0x327613=_0x404705['renderTarg'+'et']??_0x104b63['backBuffer'];_0x1746c5['renderForw'+'ardLayer'](_0x37d887['camera'],_0x327613,_0x3f9594,_0x391069,_0x270b3e,_0x404705['viewBindGr'+'oups'],_0x4fe739),_0x104b63['setBlendSt'+'ate'](bt['NOBLEND']),_0x104b63['setStencil'+'State'](null,null),_0x104b63['setAlphaTo'+'Coverage'](!(0xcaf+0x34a*-0x4+0x7a)),_0x145251['fire'](aw,_0x37d887,_0x3f9594,_0x391069),this['gammaCorre'+'ction']!==void(-0xa*-0x1b2+0x1*-0x1654+-0x8*-0xac)&&(_0x37d887['gammaCorre'+'ction']=_0x21fdf5),this['toneMappin'+'g']!==void(0x1b75+-0x229+0x1*-0x194c)&&(_0x37d887['toneMappin'+'g']=_0x2ec399);}G['popGpuMark'+'er'](this['device']),_0x3f9594['_renderTim'+'e']+=ae()-_0x2a021b;}['log'](_0x4b2733,_0x7b19c5){if(super['log'](_0x4b2733,_0x7b19c5),Qs['get'](ta)){const {layerComposition:_0x48d56a}=this;this['renderActi'+'ons']['forEach']((_0x339c17,_0x2b09e0)=>{const _0x3aa799=_0x339c17['layer'],_0x511878=_0x3aa799['enabled']&&_0x48d56a['isEnabled'](_0x3aa799,_0x339c17['transparen'+'t']),_0xb50f0c=_0x339c17['camera'];b['trace'](ta,'\x20\x20\x20\x20'+_0x2b09e0+':'+('\x20Cam:\x20'+(_0xb50f0c?_0xb50f0c['entity']['name']:'-'))['padEnd'](-0xe6a+-0x1*0x2ae+-0x3*-0x5ba,'\x20')+('\x20Lay:\x20'+_0x3aa799['name'])['padEnd'](0x44c+0x26a+0x2*-0x350,'\x20')+(_0x339c17['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x511878?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x3aa799['meshInstan'+'ces']['length'])['padEnd'](-0x1114+-0xd6*0xe+-0x49*-0x65,'\x20'));});}}}class kM extends gs{constructor(_0x5f3d26,_0x4f9f21,_0xf077e){super(_0x5f3d26),this['renderer']=_0x4f9f21,this['renderActi'+'on']=_0xf077e,this['requiresCu'+'bemaps']=!(-0x2*0x526+-0x1*0x13df+-0xf16*-0x2);}['execute'](){const _0xcecb54=this['renderActi'+'on'],_0x15f949=_0xcecb54['camera'];b['assert'](_0xcecb54['triggerPos'+'tprocess']&&_0x15f949['onPostproc'+'essing']),_0x15f949['onPostproc'+'essing']();}}const OM=[[],[],[]],Xi=new Y(),wr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x2128+-0xa1f*-0x1+-0x2b47,this['shaderInst'+'ances']['length']=0x1*-0x2247+0x2*-0x3fa+-0x1*-0x2a3b,this['isNewMater'+'ial']['length']=-0x935+-0x1934+-0x17*-0x17f,this['lightMaskC'+'hanged']['length']=-0xf56+0x210+0xd46*0x1;}};function BM(_0x507c80){const _0x5bf82d=[];for(let _0x474a2a=0x70f*0x3+-0x124f+-0x16f*0x2;_0x474a2a<_0x507c80;++_0x474a2a){const _0x56dd3f=Math['sqrt'](_0x474a2a+(0x1cbb*-0x1+-0x4*0x9b6+0x4393+0.5))/Math['sqrt'](_0x507c80);_0x5bf82d['push'](_0x56dd3f);}return _0x5bf82d;}function NM(_0x212676){const _0x22a1f9=[];for(let _0x44ff85=0x118d+0x349*0x4+-0x1eb1;_0x44ff85<_0x212676;_0x44ff85++){const _0x1de567=_0x44ff85/_0x212676,_0x4d723c=Math['sqrt'](_0x1de567*_0x1de567);_0x22a1f9['push'](_0x4d723c);}return _0x22a1f9;}const vi=class vi extends LM{constructor(_0x40a320){super(_0x40a320);const _0x1c0895=this['device'];this['_forwardDr'+'awCalls']=0x2f1*-0x4+-0x10*-0x139+0x1f3*-0x4,this['_materialS'+'witches']=0x1729+0x5ab*-0x3+-0x628,this['_depthMapT'+'ime']=0x1*-0x2231+-0x19c0+0x117*0x37,this['_forwardTi'+'me']=-0x10cc+-0x112*-0x1b+-0xc1a,this['_sortTime']=0x15*0xd2+-0x230f*-0x1+-0x5*0xa75;const _0x3e9f5a=_0x1c0895['scope'];this['fogColorId']=_0x3e9f5a['resolve']('fog_color'),this['fogStartId']=_0x3e9f5a['resolve']('fog_start'),this['fogEndId']=_0x3e9f5a['resolve']('fog_end'),this['fogDensity'+'Id']=_0x3e9f5a['resolve']('fog_densit'+'y'),this['ambientId']=_0x3e9f5a['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x3e9f5a['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x3e9f5a['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x3e9f5a['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x3e9f5a['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x3e9f5a['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(0x469*0x1+-0x3ae*-0x5+-0x1*0x16cb),this['fogColor']=new Float32Array(-0x1df+-0x1*-0xdeb+0xed*-0xd),this['ambientCol'+'or']=new Float32Array(0x1*0x1f0d+0xfae+-0xe6*0x34),this['pcssDiskSa'+'mples']=BM(0x2*0xde7+0x1d9+-0x1d97),this['pcssSphere'+'Samples']=NM(0xa33+0x8c3*0x1+-0x52*0x3b);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x118096){const _0x6ff13b=this['ambientCol'+'or'];if(Xi['linear'](_0x118096['ambientLig'+'ht']),_0x6ff13b[0x3*0x48b+0x9d7*-0x1+0xc2*-0x5]=Xi['r'],_0x6ff13b[0x1*0x434+-0x1*-0x22c6+-0x26f9]=Xi['g'],_0x6ff13b[-0x263c+-0x117b+0xf*0x3b7]=Xi['b'],_0x118096['physicalUn'+'its']){for(let _0x5e565c=0x909+0x156d*0x1+-0x1e76;_0x5e565c<-0x1b02+-0xeac+0x1*0x29b1;_0x5e565c++)_0x6ff13b[_0x5e565c]*=_0x118096['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x6ff13b),this['skyboxInte'+'nsityId']['setValue'](_0x118096['physicalUn'+'its']?_0x118096['skyboxLumi'+'nance']:_0x118096['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x118096['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x4f2098,_0xd4c6af){const _0x32c5d3='light'+_0xd4c6af;this['lightColor'+'Id'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+'_color'),this['lightDir'][_0xd4c6af]=new Float32Array(-0x190e+0x1c95+-0x384),this['lightDirId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+'_direction'),this['lightShado'+'wMapId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+'_shadowMap'),this['lightShado'+'wMatrixId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+'_radius'),this['lightPos'][_0xd4c6af]=new Float32Array(0x2162+0x2*0x536+-0x2bcb),this['lightPosId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+'_position'),this['lightWidth'][_0xd4c6af]=new Float32Array(-0x1e34+-0x2*0x130d+0x4451*0x1),this['lightWidth'+'Id'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+'_halfWidth'),this['lightHeigh'+'t'][_0xd4c6af]=new Float32Array(0x640+-0x18bd*0x1+0x1280),this['lightHeigh'+'tId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+'_cookie'),this['lightCooki'+'eIntId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0xd4c6af]=_0x4f2098['resolve'](_0x32c5d3+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x273ed2,_0x24fc8b,_0x4e528d,_0x102c97,_0x37a20c){this['lightPos'][_0x24fc8b][0xbf4+-0x2*-0xf46+-0x2a80]=_0x102c97['x']-_0x4e528d['x']*_0x37a20c,this['lightPos'][_0x24fc8b][-0x1b11+0x1b8c+-0x7a]=_0x102c97['y']-_0x4e528d['y']*_0x37a20c,this['lightPos'][_0x24fc8b][-0xfe9+-0x17*0x2e+-0x3b*-0x57]=_0x102c97['z']-_0x4e528d['z']*_0x37a20c,this['lightPosId'][_0x24fc8b]['setValue'](this['lightPos'][_0x24fc8b]);const _0x30866b=_0x273ed2['transformV'+'ector'](new A(-(0x12cc+-0x421+-0xeab+0.5),0x1b38+-0xbc3+-0xf75,0x10*-0x6c+0xf7b+-0x8bb));this['lightWidth'][_0x24fc8b][0x1ef9+0x8*0xff+0x3*-0xcfb]=_0x30866b['x']*_0x37a20c,this['lightWidth'][_0x24fc8b][0x1183+0xda0+0x63a*-0x5]=_0x30866b['y']*_0x37a20c,this['lightWidth'][_0x24fc8b][0x44d+0x2b*-0x1+-0x420]=_0x30866b['z']*_0x37a20c,this['lightWidth'+'Id'][_0x24fc8b]['setValue'](this['lightWidth'][_0x24fc8b]);const _0x1ebcbe=_0x273ed2['transformV'+'ector'](new A(0x1580+-0xb1+-0x14cf*0x1,0x162f+0xef0+0xdd*-0x2b,0x149d*0x1+0x446+-0x18e3+0.5));this['lightHeigh'+'t'][_0x24fc8b][-0x1f03+-0x4f*0x47+0x3*0x11a4]=_0x1ebcbe['x']*_0x37a20c,this['lightHeigh'+'t'][_0x24fc8b][0x1f7a+0xfce+0xd*-0x3a3]=_0x1ebcbe['y']*_0x37a20c,this['lightHeigh'+'t'][_0x24fc8b][-0x1aa8+-0x1*-0xcac+0xdfe]=_0x1ebcbe['z']*_0x37a20c,this['lightHeigh'+'tId'][_0x24fc8b]['setValue'](this['lightHeigh'+'t'][_0x24fc8b]);}['dispatchDi'+'rectLights'](_0x2fc105,_0x246cd4,_0x2e0ca0){let _0x7aeec3=0x1014+0x2047*0x1+-0x305b*0x1;const _0x1efa3e=this['device']['scope'];for(let _0x180fba=0x12c4+0x2523+-0x37e7;_0x180fba<_0x2fc105['length'];_0x180fba++){if(!(_0x2fc105[_0x180fba]['mask']&_0x246cd4))continue;const _0x152518=_0x2fc105[_0x180fba],_0x3f1540=_0x152518['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x7aeec3]||this['_resolveLi'+'ght'](_0x1efa3e,_0x7aeec3),this['lightColor'+'Id'][_0x7aeec3]['setValue'](_0x152518['_colorLine'+'ar']),_0x3f1540['getY'](_0x152518['_direction'])['mulScalar'](-(0x1661+-0x1e77+0x13*0x6d)),_0x152518['_direction']['normalize'](),this['lightDir'][_0x7aeec3][0xa*-0xc+-0x340+0x3b8]=_0x152518['_direction']['x'],this['lightDir'][_0x7aeec3][0x3d+-0xd5d*-0x2+-0x1af6]=_0x152518['_direction']['y'],this['lightDir'][_0x7aeec3][0x1ff1+0x103c*0x1+-0x289*0x13]=_0x152518['_direction']['z'],this['lightDirId'][_0x7aeec3]['setValue'](this['lightDir'][_0x7aeec3]),_0x152518['shape']!==Tt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x3f1540,_0x7aeec3,_0x152518['_direction'],_0x2e0ca0['_node']['getPositio'+'n'](),_0x2e0ca0['farClip']),_0x152518['castShadow'+'s']){const _0x4f9a4d=_0x152518['getRenderD'+'ata'](_0x2e0ca0,0x244d*0x1+0x1d2b+-0x4178),_0x47cda5=_0x152518['_getUnifor'+'mBiasValue'+'s'](_0x4f9a4d);this['lightShado'+'wMapId'][_0x7aeec3]['setValue'](_0x4f9a4d['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x7aeec3]['setValue'](_0x4f9a4d['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x7aeec3]['setValue'](_0x152518['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x7aeec3]['setValue'](_0x152518['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x7aeec3]['setValue'](_0x152518['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x7aeec3]['setValue'](-0x2*-0xd01+-0x192d+-0xd4*0x1-_0x152518['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x7aeec3]['setValue'](_0x152518['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x7aeec3]['setValue'](_0x152518['_softShado'+'wParams']),_0x4f9a4d['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x7aeec3]['setValue'](_0x152518['penumbraSi'+'ze']/_0x4f9a4d['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x4f9a4d['projection'+'Compensati'+'on']);const _0x59bce4=_0x152518['_shadowCam'+'eraParams'];_0x59bce4['length']=-0x183+-0x228*-0x2+-0x2c9,_0x59bce4[0x67*0x3d+-0x10*0x1c6+-0x147*-0x3]=0xe0f*-0x1+-0x90f*0x3+0x293c,_0x59bce4[-0x19b5+0x7a9*0x3+0x2bb]=_0x4f9a4d['shadowCame'+'ra']['_farClip'],_0x59bce4[-0x1be2+0x122c+-0x4*-0x26e]=_0x4f9a4d['shadowCame'+'ra']['_nearClip'],_0x59bce4[0x89*-0x2e+0x2*-0x1a2+-0x1be5*-0x1]=0xf16+0x541+0x1*-0x1456,this['lightCamer'+'aParamsId'][_0x7aeec3]['setValue'](_0x59bce4);const _0x5db616=_0x152518['_shadowRen'+'derParams'];_0x5db616['length']=0x8b4+0x1a*-0x62+-0x3*-0x6c,_0x5db616[0x3*0xadf+-0x4*-0x21b+-0xb*0x3bb]=_0x152518['_shadowRes'+'olution'],_0x5db616[0x6*0xf5+-0x1fca+0x1a0d]=_0x47cda5['normalBias'],_0x5db616[-0x1797+-0x41*0x2d+0x1*0x2306]=_0x47cda5['bias'],_0x5db616[-0x19ad*0x1+0x57*0x15+0x128d]=0x6*-0x5de+0xccc+0x778*0x3,this['lightShado'+'wParamsId'][_0x7aeec3]['setValue'](_0x5db616);}_0x7aeec3++;}return _0x7aeec3;}['setLTCPosi'+'tionalLigh'+'t'](_0xcf72f8,_0x117e5a){const _0x481755=_0xcf72f8['transformV'+'ector'](new A(-(0x3a*0x3d+-0x1a4f+0xc7d+0.5),-0x1*0x9d5+0x94c+0x89,0x2b*0xc+-0x845*-0x1+-0xa49*0x1));this['lightWidth'][_0x117e5a][-0x22c8+0x1336+0xf92]=_0x481755['x'],this['lightWidth'][_0x117e5a][-0x5*0x9d+0xfa7*-0x1+0x12b9]=_0x481755['y'],this['lightWidth'][_0x117e5a][-0x496*-0x8+-0x1aab+0x1*-0xa03]=_0x481755['z'],this['lightWidth'+'Id'][_0x117e5a]['setValue'](this['lightWidth'][_0x117e5a]);const _0x41697d=_0xcf72f8['transformV'+'ector'](new A(-0x3a*0x57+0xed1+0x4e5*0x1,-0xd*0x36+-0x2704+0x29c2,-0x9d*-0xc+-0x649*-0x1+-0xda5+0.5));this['lightHeigh'+'t'][_0x117e5a][-0xbfd+-0x2465+0x3062]=_0x41697d['x'],this['lightHeigh'+'t'][_0x117e5a][0xdb1+0x1847*-0x1+0xa97*0x1]=_0x41697d['y'],this['lightHeigh'+'t'][_0x117e5a][-0x2695+-0x13f4*-0x1+0xd*0x16f]=_0x41697d['z'],this['lightHeigh'+'tId'][_0x117e5a]['setValue'](this['lightHeigh'+'t'][_0x117e5a]);}['dispatchOm'+'niLight'](_0x3dc933,_0x4cff42,_0x46a9b9){const _0x3d4292=_0x4cff42['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x46a9b9]||this['_resolveLi'+'ght'](_0x3dc933,_0x46a9b9),this['lightRadiu'+'sId'][_0x46a9b9]['setValue'](_0x4cff42['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x46a9b9]['setValue'](_0x4cff42['_colorLine'+'ar']),_0x3d4292['getTransla'+'tion'](_0x4cff42['_position']),this['lightPos'][_0x46a9b9][-0x2594+-0xac*-0x9+0x1f88]=_0x4cff42['_position']['x'],this['lightPos'][_0x46a9b9][0x2114+0x4b4+0x1fd*-0x13]=_0x4cff42['_position']['y'],this['lightPos'][_0x46a9b9][0xd*0x2da+0x1434+-0x3944]=_0x4cff42['_position']['z'],this['lightPosId'][_0x46a9b9]['setValue'](this['lightPos'][_0x46a9b9]),_0x4cff42['shape']!==Tt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x3d4292,_0x46a9b9),_0x4cff42['castShadow'+'s']){const _0x1dea36=_0x4cff42['getRenderD'+'ata'](null,-0x855+-0x160*0xc+-0x847*-0x3);this['lightShado'+'wMapId'][_0x46a9b9]['setValue'](_0x1dea36['shadowBuff'+'er']);const _0x136550=_0x4cff42['_getUnifor'+'mBiasValue'+'s'](_0x1dea36),_0x56c24f=_0x4cff42['_shadowRen'+'derParams'];_0x56c24f['length']=-0xe5*0xb+-0xa*0x379+0x1*0x2c95,_0x56c24f[-0x6*-0x1b1+-0xa*-0x1bd+-0x4*0x6e2]=_0x4cff42['_shadowRes'+'olution'],_0x56c24f[0x4*0x48a+-0x1*0xfd+0x1a*-0xa9]=_0x136550['normalBias'],_0x56c24f[-0xbc*0x2f+0x31d*-0x2+0x28c0]=_0x136550['bias'],_0x56c24f[0x70*-0x4c+0x1881+-0x13*-0x76]=(-0x19f*0x3+-0x1dc7+-0x7*-0x4f3)/_0x4cff42['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x46a9b9]['setValue'](_0x56c24f),this['lightShado'+'wIntensity'][_0x46a9b9]['setValue'](_0x4cff42['shadowInte'+'nsity']);const _0xca90f4=_0x4cff42['penumbraSi'+'ze']/_0x1dea36['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x46a9b9]['setValue'](_0xca90f4);const _0x8682b6=_0x4cff42['_shadowCam'+'eraParams'];_0x8682b6['length']=0xff*-0x19+0x1*-0x2aa+-0x1*-0x1b95,_0x8682b6[0x298*-0x2+0x2468+-0x1f38]=-0xf94+0x1b1*-0x5+0x7*0x36f,_0x8682b6[-0xb29+0x1124+-0x5fa]=_0x1dea36['shadowCame'+'ra']['_farClip'],_0x8682b6[-0x13fa+0x67a*0x1+-0xd*-0x10a]=_0x1dea36['shadowCame'+'ra']['_nearClip'],_0x8682b6[-0xc25*-0x2+0x2464+-0x1f5*0x1f]=-0xd*-0x2dd+-0xd2c+-0x180d*0x1,this['lightCamer'+'aParamsId'][_0x46a9b9]['setValue'](_0x8682b6);}_0x4cff42['_cookie']&&(this['lightCooki'+'eId'][_0x46a9b9]['setValue'](_0x4cff42['_cookie']),this['lightShado'+'wMatrixId'][_0x46a9b9]['setValue'](_0x3d4292['data']),this['lightCooki'+'eIntId'][_0x46a9b9]['setValue'](_0x4cff42['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x31c6cf,_0x98b0ea,_0x4218d9){const _0x1f20dc=_0x98b0ea['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x4218d9]||this['_resolveLi'+'ght'](_0x31c6cf,_0x4218d9),this['lightInAng'+'leId'][_0x4218d9]['setValue'](_0x98b0ea['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x4218d9]['setValue'](_0x98b0ea['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x4218d9]['setValue'](_0x98b0ea['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x4218d9]['setValue'](_0x98b0ea['_colorLine'+'ar']),_0x1f20dc['getTransla'+'tion'](_0x98b0ea['_position']),this['lightPos'][_0x4218d9][-0x379+-0x93+0x40c]=_0x98b0ea['_position']['x'],this['lightPos'][_0x4218d9][-0x2355+0xb93*0x1+0x17c3]=_0x98b0ea['_position']['y'],this['lightPos'][_0x4218d9][0xda4+0x1cca+0x4*-0xa9b]=_0x98b0ea['_position']['z'],this['lightPosId'][_0x4218d9]['setValue'](this['lightPos'][_0x4218d9]),_0x98b0ea['shape']!==Tt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x1f20dc,_0x4218d9),_0x1f20dc['getY'](_0x98b0ea['_direction'])['mulScalar'](-(0x1a0b*-0x1+-0x23bb+0x1*0x3dc7)),_0x98b0ea['_direction']['normalize'](),this['lightDir'][_0x4218d9][0xad8+-0x1d8f+0x12b7]=_0x98b0ea['_direction']['x'],this['lightDir'][_0x4218d9][0x1bed+0x1280*-0x1+-0x96c]=_0x98b0ea['_direction']['y'],this['lightDir'][_0x4218d9][0x61*0x53+0x148d*0x1+-0x33fe]=_0x98b0ea['_direction']['z'],this['lightDirId'][_0x4218d9]['setValue'](this['lightDir'][_0x4218d9]),_0x98b0ea['castShadow'+'s']){const _0x45afcd=_0x98b0ea['getRenderD'+'ata'](null,-0xf*0x125+-0x5*-0x763+-0xfd*0x14);this['lightShado'+'wMapId'][_0x4218d9]['setValue'](_0x45afcd['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x4218d9]['setValue'](_0x45afcd['shadowMatr'+'ix']['data']);const _0x10117d=_0x98b0ea['_getUnifor'+'mBiasValue'+'s'](_0x45afcd),_0xcfdc59=_0x98b0ea['_shadowRen'+'derParams'];_0xcfdc59['length']=-0x5a5*0x1+-0x3*0x17e+0xa23,_0xcfdc59[0x3d7*0xa+0xf*-0x28f+-0x1*0x5]=_0x98b0ea['_shadowRes'+'olution'],_0xcfdc59[-0x1dfb+-0x86f+-0x7*-0x57d]=_0x10117d['normalBias'],_0xcfdc59[0x1321+0x22*0x20+-0x175f]=_0x10117d['bias'],_0xcfdc59[0x39c+-0x9*0x21c+0x65*0x27]=(-0x2562+-0x1771+0x394*0x11)/_0x98b0ea['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x4218d9]['setValue'](_0xcfdc59),this['lightShado'+'wIntensity'][_0x4218d9]['setValue'](_0x98b0ea['shadowInte'+'nsity']);const _0x5c104f=_0x98b0ea['penumbraSi'+'ze']/_0x45afcd['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x5a9664=_0x45afcd['shadowCame'+'ra']['_fov']*Math['PI']/(0x791+-0x2f*-0x5b+0x35e*-0x7),_0x2d35cb=(0xc16+0x18d*-0xa+0x36d)/Math['tan'](_0x5a9664/(-0x2a2+0xb6*0x2+0x138));this['lightShado'+'wSearchAre'+'aId'][_0x4218d9]['setValue'](_0x5c104f*_0x2d35cb);const _0x3fd749=_0x98b0ea['_shadowCam'+'eraParams'];_0x3fd749['length']=-0x5*-0x352+0x1ddb*0x1+-0x2e71,_0x3fd749[0xd32*-0x1+0x9*0x208+0xba*-0x7]=-0xcba+-0xe2e+-0x1c*-0xf6,_0x3fd749[0x1*0x543+-0x1bd+-0x385*0x1]=_0x45afcd['shadowCame'+'ra']['_farClip'],_0x3fd749[-0x12cd*-0x2+0x471+0xe03*-0x3]=_0x45afcd['shadowCame'+'ra']['_nearClip'],_0x3fd749[-0x905+-0x174f+0x2057]=0x1d20+0x1ee1+-0x3c01*0x1,this['lightCamer'+'aParamsId'][_0x4218d9]['setValue'](_0x3fd749);}if(_0x98b0ea['_cookie']){if(!_0x98b0ea['castShadow'+'s']){const _0x4456e6=Ia['evalSpotCo'+'okieMatrix'](_0x98b0ea);this['lightShado'+'wMatrixId'][_0x4218d9]['setValue'](_0x4456e6['data']);}this['lightCooki'+'eId'][_0x4218d9]['setValue'](_0x98b0ea['_cookie']),this['lightCooki'+'eIntId'][_0x4218d9]['setValue'](_0x98b0ea['cookieInte'+'nsity']),_0x98b0ea['_cookieTra'+'nsform']&&(_0x98b0ea['_cookieTra'+'nsformUnif'+'orm'][0x3*-0x1cf+-0xa8*-0x29+-0x2f*0x75]=_0x98b0ea['_cookieTra'+'nsform']['x'],_0x98b0ea['_cookieTra'+'nsformUnif'+'orm'][-0xfce+0x182*0x2+0xccb]=_0x98b0ea['_cookieTra'+'nsform']['y'],_0x98b0ea['_cookieTra'+'nsformUnif'+'orm'][0x239d+-0x2249*-0x1+-0x45e4]=_0x98b0ea['_cookieTra'+'nsform']['z'],_0x98b0ea['_cookieTra'+'nsformUnif'+'orm'][0xf91+-0xd6*-0x1+-0x1064]=_0x98b0ea['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x4218d9]['setValue'](_0x98b0ea['_cookieTra'+'nsformUnif'+'orm']),_0x98b0ea['_cookieOff'+'setUniform'][-0x7*-0x1ec+0x2355+-0x30c9]=_0x98b0ea['_cookieOff'+'set']['x'],_0x98b0ea['_cookieOff'+'setUniform'][0x1a96+-0x1837+-0x25e]=_0x98b0ea['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x4218d9]['setValue'](_0x98b0ea['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x502e30,_0x3bbe04,_0x54ebd7){let _0x44bc19=_0x54ebd7;const _0x55e8d9=this['device']['scope'],_0x824f69=_0x502e30[Le],_0x2cb57a=_0x824f69['length'];for(let _0x3b283b=0x1846+-0xdf*0x9+0x106f*-0x1;_0x3b283b<_0x2cb57a;_0x3b283b++){const _0x12cc74=_0x824f69[_0x3b283b];_0x12cc74['mask']&_0x3bbe04&&(this['dispatchOm'+'niLight'](_0x55e8d9,_0x12cc74,_0x44bc19),_0x44bc19++);}const _0x25625e=_0x502e30[Fe],_0x3d5d3a=_0x25625e['length'];for(let _0x20475c=0xb80+0x19be+0xe3*-0x2a;_0x20475c<_0x3d5d3a;_0x20475c++){const _0x11a810=_0x25625e[_0x20475c];_0x11a810['mask']&_0x3bbe04&&(this['dispatchSp'+'otLight'](_0x55e8d9,_0x11a810,_0x44bc19),_0x44bc19++);}}['renderForw'+'ardPrepare'+'Materials'](_0x388659,_0x1dd82e,_0x5bdca7,_0x4d3e14,_0x37b12b,_0x535bb4){const _0x17c4ef=_0x388659['fog']??this['scene']['fog'],_0x468278=_0x388659['shaderPara'+'ms'];_0x468278['fog']=_0x17c4ef['type'],_0x468278['srgbRender'+'Target']=(_0x1dd82e==null?void(0xdd6+0xde1+0x37*-0x81):_0x1dd82e['isColorBuf'+'ferSrgb'](-0x13b1+-0xa2a+0x1ddb))??!(0xf8b+-0x1ee8+0xf5e);const _0x398b5a=(_0x27740e,_0x4bf82d,_0x29916b,_0x9af5e8)=>{wr['drawCalls']['push'](_0x27740e),wr['shaderInst'+'ances']['push'](_0x4bf82d),wr['isNewMater'+'ial']['push'](_0x29916b),wr['lightMaskC'+'hanged']['push'](_0x9af5e8);};wr['clear']();const _0x51d059=this['device'],_0x2c010c=this['scene'],_0x3b69e2=_0x2c010c['clusteredL'+'ightingEna'+'bled'],_0x435c99=(_0x37b12b==null?void(0x10a6+-0x694+-0xa12):_0x37b12b['getLightHa'+'sh'](_0x3b69e2))??0xd1b+-0x1662+0x947;let _0x4c1f0f=null,_0x3e7c12,_0xcddba3;const _0x2e26af=_0x5bdca7['length'];for(let _0x5598aa=-0x1533+-0x16a1+-0xaa*-0x42;_0x5598aa<_0x2e26af;_0x5598aa++){const _0x4da3ee=_0x5bdca7[_0x5598aa];if(_0x388659===vi['skipRender'+'Camera']){if(vi['_skipRende'+'rCounter']>=vi['skipRender'+'After'])continue;vi['_skipRende'+'rCounter']++;}if(_0x37b12b){if(_0x37b12b['_skipRende'+'rCounter']>=_0x37b12b['skipRender'+'After'])continue;_0x37b12b['_skipRende'+'rCounter']++;}_0x4da3ee['ensureMate'+'rial'](_0x51d059);const _0x591415=_0x4da3ee['material'],_0xc49d69=_0x4da3ee['_shaderDef'+'s'],_0x1dc67f=_0x4da3ee['mask'];_0x591415&&_0x591415===_0x4c1f0f&&_0xc49d69!==_0x3e7c12&&(_0x4c1f0f=null),_0x591415!==_0x4c1f0f&&(this['_materialS'+'witches']++,_0x591415['_scene']=_0x2c010c,_0x591415['dirty']&&(G['pushGpuMar'+'ker'](_0x51d059,'Node:\x20'+_0x4da3ee['node']['name']+(',\x20Material'+':\x20')+_0x591415['name']),_0x591415['updateUnif'+'orms'](_0x51d059,_0x2c010c),_0x591415['dirty']=!(0x1*-0x1625+-0x194+-0x2*-0xbdd),G['popGpuMark'+'er'](_0x51d059)));const _0x1bd347=_0x4da3ee['getShaderI'+'nstance'](_0x535bb4,_0x435c99,_0x2c010c,_0x468278,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x4d3e14);_0x398b5a(_0x4da3ee,_0x1bd347,_0x591415!==_0x4c1f0f,!_0x4c1f0f||_0x1dc67f!==_0xcddba3),_0x4c1f0f=_0x591415,_0x3e7c12=_0xc49d69,_0xcddba3=_0x1dc67f;}return wr;}['renderForw'+'ardInterna'+'l'](_0x21c12a,_0x136e00,_0xc32b8b,_0x4447ad,_0x27f497,_0x30ee9d){const _0x4ddccc=this['device'],_0x59e74b=this['scene'],_0x572ab6=0x153e+0x3d*-0x59+-0x8<<_0x4447ad,_0xf06f7c=_0x30ee9d?-(-0x9c3+0x2*-0x1ff+0xdc2):-0x1*-0xb8b+-0xe57+0x2cd,_0x552b7c=_0x59e74b['clusteredL'+'ightingEna'+'bled'],_0x3124fe=_0x136e00['drawCalls']['length'];for(let _0x3de93f=0xa31+0x19a+0x1*-0xbcb;_0x3de93f<_0x3124fe;_0x3de93f++){const _0x760db8=_0x136e00['drawCalls'][_0x3de93f],_0x3af97f=_0x136e00['isNewMater'+'ial'][_0x3de93f],_0x427470=_0x136e00['lightMaskC'+'hanged'][_0x3de93f],_0x15c78f=_0x136e00['shaderInst'+'ances'][_0x3de93f],_0x2737a7=_0x760db8['material'],_0x12fe00=_0x760db8['mask'];if(_0x3af97f){if(_0x4ddccc['setShader'](_0x15c78f['shader'],!(0x2136+-0x2596+0x13*0x3b)),_0x2737a7['setParamet'+'ers'](_0x4ddccc),_0x427470){const _0x2c156a=this['dispatchDi'+'rectLights'](_0xc32b8b[le],_0x12fe00,_0x21c12a);_0x552b7c||this['dispatchLo'+'calLights'](_0xc32b8b,_0x12fe00,_0x2c156a);}this['alphaTestI'+'d']['setValue'](_0x2737a7['alphaTest']),_0x4ddccc['setBlendSt'+'ate'](_0x2737a7['blendState']),_0x4ddccc['setDepthSt'+'ate'](_0x2737a7['depthState']),_0x4ddccc['setAlphaTo'+'Coverage'](_0x2737a7['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x4ddccc,'Node:\x20'+_0x760db8['node']['name']+(',\x20Material'+':\x20')+_0x2737a7['name']),this['setupCullM'+'ode'](_0x21c12a['_cullFaces'],_0xf06f7c,_0x760db8);const _0x295d2c=_0x760db8['stencilFro'+'nt']??_0x2737a7['stencilFro'+'nt'],_0x3225d6=_0x760db8['stencilBac'+'k']??_0x2737a7['stencilBac'+'k'];_0x4ddccc['setStencil'+'State'](_0x295d2c,_0x3225d6),_0x760db8['setParamet'+'ers'](_0x4ddccc,_0x572ab6),_0x4ddccc['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x760db8['id']);const _0x536d0a=_0x760db8['mesh'];this['setVertexB'+'uffers'](_0x4ddccc,_0x536d0a),this['setMorphin'+'g'](_0x4ddccc,_0x760db8['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x4ddccc,_0x760db8),this['setupMeshU'+'niformBuff'+'ers'](_0x15c78f,_0x760db8);const _0x50de87=_0x760db8['renderStyl'+'e'];if(_0x4ddccc['setIndexBu'+'ffer'](_0x536d0a['indexBuffe'+'r'][_0x50de87]),_0x27f497==null||_0x27f497(_0x760db8,_0x3de93f),_0x21c12a['xr']&&_0x21c12a['xr']['session']&&_0x21c12a['xr']['views']['list']['length']){const _0x5023d4=_0x21c12a['xr']['views'];for(let _0x34eaff=-0x1d4e+0x1bf1*-0x1+-0x5*-0xb73;_0x34eaff<_0x5023d4['list']['length'];_0x34eaff++){const _0x5090d9=_0x5023d4['list'][_0x34eaff];_0x4ddccc['setViewpor'+'t'](_0x5090d9['viewport']['x'],_0x5090d9['viewport']['y'],_0x5090d9['viewport']['z'],_0x5090d9['viewport']['w']),this['projId']['setValue'](_0x5090d9['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x5090d9['projMat']['data']),this['viewId']['setValue'](_0x5090d9['viewOffMat']['data']),this['viewInvId']['setValue'](_0x5090d9['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x5090d9['viewMat3']['data']),this['viewProjId']['setValue'](_0x5090d9['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x5090d9['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x34eaff),_0x34eaff===-0x2083+-0x24ef+0x2*0x22b9?this['drawInstan'+'ce'](_0x4ddccc,_0x760db8,_0x536d0a,_0x50de87,!(0x95f*0x4+-0x1*-0x1655+0x1*-0x3bd1)):this['drawInstan'+'ce2'](_0x4ddccc,_0x760db8,_0x536d0a,_0x50de87),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x4ddccc,_0x760db8,_0x536d0a,_0x50de87,!(0x1d89+0x343+-0x20cc)),this['_forwardDr'+'awCalls']++;_0x3de93f<_0x3124fe-(-0x1172+-0x1*0xaf+0xb*0x1a6)&&!_0x136e00['isNewMater'+'ial'][_0x3de93f+(0x7c8+0x2255+-0x2a1c)]&&_0x2737a7['setParamet'+'ers'](_0x4ddccc,_0x760db8['parameters']),G['popGpuMark'+'er'](_0x4ddccc);}}['renderForw'+'ard'](_0x1aa478,_0x207a74,_0x287d68,_0x591d13,_0xca02da,_0x3c7890,_0x331682,_0x37118a){const _0x2185ae=ae(),_0x3bbe0c=this['renderForw'+'ardPrepare'+'Materials'](_0x1aa478,_0x207a74,_0x287d68,_0x591d13,_0x331682,_0xca02da);this['renderForw'+'ardInterna'+'l'](_0x1aa478,_0x3bbe0c,_0x591d13,_0xca02da,_0x3c7890,_0x37118a),wr['clear'](),this['_forwardTi'+'me']+=ae()-_0x2185ae;}['renderForw'+'ardLayer'](_0x56c584,_0x491c4d,_0x3765db,_0x250f2d,_0x186e58,_0x4ced73,_0x435ff3={}){const {scene:_0x3f59e4,device:_0x258949}=this,_0xf24d1a=_0x3f59e4['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x56c584,_0x491c4d);let _0x46fe54,_0xbfe21a;if(_0x3765db){const _0x259eb9=ae();_0x3765db['sortVisibl'+'e'](_0x56c584,_0x250f2d),this['_sortTime']+=ae()-_0x259eb9;const _0xa7d8bf=_0x3765db['getCulledI'+'nstances'](_0x56c584);_0x46fe54=_0x250f2d?_0xa7d8bf['transparen'+'t']:_0xa7d8bf['opaque'],_0x3f59e4['immediate']['onPreRende'+'rLayer'](_0x3765db,_0x46fe54,_0x250f2d),_0x3765db['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x3f59e4['ambientLig'+'ht'],_0x3765db['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0xbfe21a=_0x3765db['splitLight'+'s'];}else _0x46fe54=_0x435ff3['meshInstan'+'ces'],_0xbfe21a=_0x435ff3['splitLight'+'s']??OM;if(b['assert'](_0x46fe54,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0xf24d1a){const _0x47cab1=_0x435ff3['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x47cab1['activate'](),_0x3765db&&!this['clustersDe'+'bugRendere'+'d']&&_0x3f59e4['lighting']['debugLayer']===_0x3765db['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0x3e2+0x213f*0x1+-0x2521),$u['render'](_0x47cab1,this['scene']));}_0x3f59e4['_activeCam'+'era']=_0x56c584;const _0xa6bcdb=_0x56c584['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0xa6bcdb);const _0x523a75=this['setCameraU'+'niforms'](_0x56c584,_0x491c4d);_0x258949['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x4ced73,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x523a75);const _0x24a234=_0x435ff3['clearColor']??!(0x1*-0x3df+0x1290+-0x5e*0x28),_0x26ee66=_0x435ff3['clearDepth']??!(-0x1*0x1c41+0x5*0x68b+-0x475),_0x515e49=_0x435ff3['clearStenc'+'il']??!(-0xd*0xad+-0x11*-0x109+0x5*-0x1c3);(_0x24a234||_0x26ee66||_0x515e49)&&this['clear'](_0x56c584,_0x24a234,_0x26ee66,_0x515e49);const _0xad4850=!!(_0x56c584['_flipFaces']^(_0x491c4d==null?void(-0x1001+0x673+0x98e*0x1):_0x491c4d['flipY'])),_0x604304=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x56c584,_0x491c4d,_0x46fe54,_0xbfe21a,_0x186e58,null,_0x3765db,_0xad4850),_0x3765db&&(_0x3765db['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x604304);}['setFogCons'+'tants'](_0x1914e2){if(_0x1914e2['type']!==Ba){Xi['linear'](_0x1914e2['color']);const _0x5007d9=this['fogColor'];_0x5007d9[0x1169+-0x3*0x945+0xa66]=Xi['r'],_0x5007d9[-0x1559+-0x1b82*-0x1+-0x628]=Xi['g'],_0x5007d9[0x1*-0xde2+-0x2*-0x30a+0x7d0]=Xi['b'],this['fogColorId']['setValue'](_0x5007d9),_0x1914e2['type']===zb?(this['fogStartId']['setValue'](_0x1914e2['start']),this['fogEndId']['setValue'](_0x1914e2['end'])):this['fogDensity'+'Id']['setValue'](_0x1914e2['density']);}}['setSceneCo'+'nstants'](){const _0x30680e=this['scene'];this['dispatchGl'+'obalLights'](_0x30680e);const _0x2cbeae=this['device'];this['_screenSiz'+'e'][0x2164+0x1849+-0x1*0x39ad]=_0x2cbeae['width'],this['_screenSiz'+'e'][0x115*0x2+-0x95c+0x733]=_0x2cbeae['height'],this['_screenSiz'+'e'][0x1709+-0x39f*-0x1+-0x1aa6]=(0x10aa+0xd88*0x1+-0x1e31)/_0x2cbeae['width'],this['_screenSiz'+'e'][0x6d*0x56+0x445*0x1+-0x28e0]=(0x1e95+-0x1*0x138b+-0x1*0xb09)/_0x2cbeae['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x123fed,_0x4e5647){const _0x10e2ae=this['scene'];if(_0x123fed['reset'](),_0x10e2ae['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x4c0671,cookiesEnabled:_0x5911a1}=_0x10e2ae['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x123fed,_0x4c0671,_0x5911a1,this['lights'],this['localLight'+'s']),_0x123fed['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x123fed,this['localLight'+'s']);let _0x7b19a9=-0xa57+0xbf*0x28+-0x1381,_0x1ac63e=!(0x2*-0xaca+-0x221d+0x37b1),_0x296ff4=null;const _0x190b6c=_0x4e5647['_renderAct'+'ions'];for(let _0x4381c2=_0x7b19a9;_0x4381c2<_0x190b6c['length'];_0x4381c2++){const _0x2a1b0a=_0x190b6c[_0x4381c2],{layer:_0x552c85,camera:_0x7f62ee}=_0x2a1b0a;if(_0x2a1b0a['useCameraP'+'asses'])b['call'](()=>{_0x7f62ee['postEffect'+'s']['effects']['length']>-0x1d78+-0x101d+-0x1*-0x2d95&&b['warnOnce']('Camera\x20\x27'+_0x7f62ee['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x7f62ee['camera']['renderPass'+'es']['forEach'](_0x19e953=>{_0x123fed['addRenderP'+'ass'](_0x19e953);});else{const _0xad9e79=_0x552c85['id']===es,_0x2df16e=_0xad9e79&&(_0x7f62ee['renderScen'+'eColorMap']||_0x7f62ee['renderScen'+'eDepthMap']);_0x1ac63e&&(_0x1ac63e=!(0xe*0x7f+0x1884+-0x1f75*0x1),_0x7b19a9=_0x4381c2,_0x296ff4=_0x2a1b0a['renderTarg'+'et']);const _0x2b08b0=_0x190b6c[_0x4381c2+(-0x75*-0x47+-0xe33*-0x2+-0x3cd8*0x1)],_0x357443=(_0x2b08b0?!_0x2b08b0['useCameraP'+'asses']&&_0x2b08b0['layer']['id']===es:!(-0x3*-0x62+-0x1129+0xa4*0x19))&&(_0x7f62ee['renderScen'+'eColorMap']||_0x7f62ee['renderScen'+'eDepthMap']),_0x12d5f2=_0x2b08b0?_0x2b08b0['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x2b08b0['camera']['camera']):!(0x1*0x1049+-0x1e3d+-0x4a7*-0x3);if(!_0x2b08b0||_0x2b08b0['renderTarg'+'et']!==_0x296ff4||_0x12d5f2||_0x357443||_0x2df16e){if(_0xad9e79&&_0x7b19a9===_0x4381c2||this['addMainRen'+'derPass'](_0x123fed,_0x4e5647,_0x296ff4,_0x7b19a9,_0x4381c2),_0xad9e79){if(_0x7f62ee['renderScen'+'eColorMap']){const _0x8f8f3a=_0x7f62ee['camera']['renderPass'+'ColorGrab'];_0x8f8f3a['source']=_0x7f62ee['renderTarg'+'et'],_0x123fed['addRenderP'+'ass'](_0x8f8f3a);}_0x7f62ee['renderScen'+'eDepthMap']&&_0x123fed['addRenderP'+'ass'](_0x7f62ee['camera']['renderPass'+'DepthGrab']);}if(_0x2a1b0a['triggerPos'+'tprocess']&&(_0x7f62ee!=null&&_0x7f62ee['onPostproc'+'essing'])){const _0x108dec=new kM(this['device'],this,_0x2a1b0a);_0x123fed['addRenderP'+'ass'](_0x108dec);}_0x1ac63e=!(0x709*-0x1+-0x5*-0x382+0x1*-0xa81);}}}}['addMainRen'+'derPass'](_0x46e8cd,_0x12045d,_0x489ca3,_0x22ba0d,_0x5ed97e){const _0x1b0b19=new FM(this['device'],_0x12045d,this['scene'],this);_0x1b0b19['init'](_0x489ca3);const _0x105c65=_0x12045d['_renderAct'+'ions'];for(let _0x1e5df1=_0x22ba0d;_0x1e5df1<=_0x5ed97e;_0x1e5df1++)_0x1b0b19['addRenderA'+'ction'](_0x105c65[_0x1e5df1]);_0x46e8cd['addRenderP'+'ass'](_0x1b0b19);}['update'](_0x3a92f3){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x3a92f3),this['collectLig'+'hts'](_0x3a92f3),this['beginFrame'](_0x3a92f3),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x3a92f3),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(vi,'skipRender'+'Camera',null),c(vi,'_skipRende'+'rCounter',0x16*-0x16f+-0x29f*0x9+0x3721),c(vi,'skipRender'+'After',-0x1798+0x7fa+0xf9e);let Xh=vi,Hd=-0xa*0x189+-0x1ce4+0x2c3e;const Qa=[],Ul=new Set();function zM(_0x5c942a,_0xa6474e){return _0x5c942a['drawOrder']-_0xa6474e['drawOrder'];}function UM(_0x47362e,_0x236e5f){const _0x198c39=_0x47362e['_key'][Ii],_0x1d96aa=_0x236e5f['_key'][Ii];return _0x198c39===_0x1d96aa&&_0x47362e['mesh']&&_0x236e5f['mesh']?_0x236e5f['mesh']['id']-_0x47362e['mesh']['id']:_0x1d96aa-_0x198c39;}function VM(_0x4176f8,_0x137869){return _0x137869['zdist']-_0x4176f8['zdist'];}function GM(_0x3aad1d,_0x49e05d){return _0x3aad1d['zdist']-_0x49e05d['zdist'];}const HM=[null,zM,UM,VM,GM];class WM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Fr{constructor(_0x41c1a8={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(0x10cf+0x2098+0x1*-0x3167)),c(this,'requiresLi'+'ghtCube',!(0xb*0x228+0x10eb+-0x2*0x1451)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(-0x1bab+0xf3d+0xc6f)),(_0x41c1a8['id']!==void(-0x1f04+0x1991+0x573)?(this['id']=_0x41c1a8['id'],Hd=Math['max'](this['id']+(-0x2421+-0x7e2+0x1*0x2c04),Hd)):this['id']=Hd++,this['name']=_0x41c1a8['name'],this['_enabled']=_0x41c1a8['enabled']??!(-0x1941+-0x1a*-0xd7+-0x1*-0x36b),this['_refCounte'+'r']=this['_enabled']?-0xb07+-0x8b1*0x1+0xbb*0x1b:-0x1*-0x10e7+-0x38d*0x1+0x1*-0xd5a,this['opaqueSort'+'Mode']=_0x41c1a8['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x41c1a8['transparen'+'tSortMode']??Nm,_0x41c1a8['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x41c1a8['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x41c1a8['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x41c1a8['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x41c1a8['clearStenc'+'ilBuffer'],this['onEnable']=_0x41c1a8['onEnable'],this['onDisable']=_0x41c1a8['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x3b3+-0x3b3+0x0,this['_lightHash'+'Dirty']=!(0x9a*0xb+0x1818+-0x1eb5),this['_lightIdHa'+'sh']=-0x1*-0x665+0xe7e+-0x14e3,this['_lightIdHa'+'shDirty']=!(0x18af+-0x1*-0x1565+-0x2e13),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=0x1878+-0x1*-0x1e1e+-0x3696,this['_renderTim'+'e']=0x1*-0xf5+-0x3a5*0x6+0x16d3*0x1,this['_forwardDr'+'awCalls']=-0x101*0x25+0xad2+-0x1a53*-0x1,this['_shadowDra'+'wCalls']=-0xbee+-0x30f*-0x9+-0xb*0x16b,this['_shaderVer'+'sion']=-(-0x203*-0x5+0x23b5+-0x2dc3));}set['enabled'](_0x3d8523){_0x3d8523!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0x283*-0x1+-0xbc*-0x33+-0x22f1),this['_enabled']=_0x3d8523,_0x3d8523?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x37f0e3){this['_clearColo'+'rBuffer']=_0x37f0e3,this['_dirtyComp'+'osition']=!(-0x885*0x4+-0x22db*-0x1+-0xc7);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x25ee00){this['_clearDept'+'hBuffer']=_0x25ee00,this['_dirtyComp'+'osition']=!(0x7*-0x492+0x1313+-0x1*-0xceb);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x40380f){this['_clearSten'+'cilBuffer']=_0x40380f,this['_dirtyComp'+'osition']=!(-0x8a3+0xf5d+0x6ba*-0x1);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x188b+-0x8ea+0x2175;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x8+0x2428+-0x2430&&(this['_enabled']=!(0x196b+-0x12df+-0x1a3*0x4),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===-0x1884+-0x1d4c+0x257*0x17)this['_enabled']=!(-0x1*-0x1ee5+-0x11*0x13d+-0x9d7),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x1138*-0x1+0x1c1*-0x16+0x446*0x5){b['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x43c792,_0x43a8f8){const _0x16917b=this['meshInstan'+'ces'],_0x343a3d=this['meshInstan'+'cesSet'];for(let _0x1a81f0=0x1*0x305+-0x1d98+0x1a93;_0x1a81f0<_0x43c792['length'];_0x1a81f0++){const _0x21f86f=_0x43c792[_0x1a81f0];_0x343a3d['has'](_0x21f86f)||(_0x16917b['push'](_0x21f86f),_0x343a3d['add'](_0x21f86f),Ul['add'](_0x21f86f['material']));}if(_0x43a8f8||this['addShadowC'+'asters'](_0x43c792),Ul['size']>0x729+-0x12fa+0xbd1){const _0x19f8d=this['_shaderVer'+'sion'];Ul['forEach'](_0x537bec=>{_0x19f8d>=-0xda+-0x223d+-0xd*-0x2b3&&_0x537bec['_shaderVer'+'sion']!==_0x19f8d&&(_0x537bec['getShaderV'+'ariant']!==Sn['prototype']['getShaderV'+'ariant']&&_0x537bec['clearVaria'+'nts'](),_0x537bec['_shaderVer'+'sion']=_0x19f8d);}),Ul['clear']();}}['removeMesh'+'Instances'](_0x45ab97,_0x5579b6){const _0xc799b7=this['meshInstan'+'ces'],_0xbee3fe=this['meshInstan'+'cesSet'];for(let _0x2ca8ca=0x6d*-0x1d+-0x1*0x1b5c+0x27b5;_0x2ca8ca<_0x45ab97['length'];_0x2ca8ca++){const _0x37ae49=_0x45ab97[_0x2ca8ca];if(_0xbee3fe['has'](_0x37ae49)){_0xbee3fe['delete'](_0x37ae49);const _0x52ac5a=_0xc799b7['indexOf'](_0x37ae49);_0x52ac5a>=0x2b4+-0x1e94+-0x6f8*-0x4&&_0xc799b7['splice'](_0x52ac5a,0x1a9d*0x1+0x1c07+-0x36a3);}}_0x5579b6||this['removeShad'+'owCasters'](_0x45ab97);}['addShadowC'+'asters'](_0x1be201){const _0x571f71=this['shadowCast'+'ers'],_0x4366ae=this['shadowCast'+'ersSet'];for(let _0x28f3fb=-0xb5c+0x1d0f+-0x11b3;_0x28f3fb<_0x1be201['length'];_0x28f3fb++){const _0x46c5fa=_0x1be201[_0x28f3fb];_0x46c5fa['castShadow']&&!_0x4366ae['has'](_0x46c5fa)&&(_0x4366ae['add'](_0x46c5fa),_0x571f71['push'](_0x46c5fa));}}['removeShad'+'owCasters'](_0x298eb6){const _0x356336=this['shadowCast'+'ers'],_0x446e19=this['shadowCast'+'ersSet'];for(let _0x5bfece=-0x975*0x1+-0x797*-0x3+0x354*-0x4;_0x5bfece<_0x298eb6['length'];_0x5bfece++){const _0x246c27=_0x298eb6[_0x5bfece];if(_0x446e19['has'](_0x246c27)){_0x446e19['delete'](_0x246c27);const _0x58ac47=_0x356336['indexOf'](_0x246c27);_0x58ac47>=-0x15*0xa3+0x9c9+-0x11*-0x36&&_0x356336['splice'](_0x58ac47,-0x2069+-0x74f*0x5+0x44f5);}}}['clearMeshI'+'nstances'](_0x1d0421=!(-0x7c8+0xef6*-0x1+-0x795*-0x3)){this['meshInstan'+'ces']['length']=-0x12f1+0x18ed+0x4*-0x17f,this['meshInstan'+'cesSet']['clear'](),_0x1d0421||(this['shadowCast'+'ers']['length']=-0x1*0x22c2+0x1*-0x176d+0x3a2f,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(0xdda+-0x160b*0x1+0x831),this['_lightIdHa'+'shDirty']=!(0x12b7+-0x96c+-0xd*0xb7),this['_splitLigh'+'tsDirty']=!(0x244b*0x1+0x48f+-0x28da);}['hasLight'](_0x3da330){return this['_lightsSet']['has'](_0x3da330);}['addLight'](_0x9736e1){const _0x10fcb9=_0x9736e1['light'];this['_lightsSet']['has'](_0x10fcb9)||(this['_lightsSet']['add'](_0x10fcb9),this['_lights']['push'](_0x10fcb9),this['markLights'+'Dirty']()),_0x10fcb9['type']!==le&&this['_clustered'+'LightsSet']['add'](_0x10fcb9);}['removeLigh'+'t'](_0x28d78e){const _0x11335c=_0x28d78e['light'];this['_lightsSet']['has'](_0x11335c)&&(this['_lightsSet']['delete'](_0x11335c),this['_lights']['splice'](this['_lights']['indexOf'](_0x11335c),-0x49e+0x3*-0x223+0xb08),this['markLights'+'Dirty']()),_0x11335c['type']!==le&&this['_clustered'+'LightsSet']['delete'](_0x11335c);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x307a8b=>_0x307a8b['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0xfdb+-0xde0+-0x9e9*-0x3,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0x9f1*0x1+-0x2655+0x3047*0x1);const _0x239f88=this['_splitLigh'+'ts'];for(let _0x55a979=0x22d*-0xb+-0x2290+0x3a7f;_0x55a979<_0x239f88['length'];_0x55a979++)_0x239f88[_0x55a979]['length']=0x23e7+0x1*0xd4+0x24bb*-0x1;const _0x3f36ea=this['_lights'];for(let _0x4ed0b6=0xc2e+0x23a4+-0x2fd2;_0x4ed0b6<_0x3f36ea['length'];_0x4ed0b6++){const _0x1d3b35=_0x3f36ea[_0x4ed0b6];_0x1d3b35['enabled']&&_0x239f88[_0x1d3b35['_type']]['push'](_0x1d3b35);}for(let _0x42dc20=0x1*-0x2104+0x95b+0x17a9;_0x42dc20<_0x239f88['length'];_0x42dc20++)_0x239f88[_0x42dc20]['sort']((_0x4d2065,_0x3360cb)=>_0x4d2065['key']-_0x3360cb['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x3f7b66,_0x1a9a2d,_0x5e39df){let _0x2d0cf3=-0x1c0c+0x193*-0x10+0x4*0xd4f;const _0x2787dc=this['_lights'];for(let _0x37c0c8=0x7f0+0x9d8+-0x8*0x239;_0x37c0c8<_0x2787dc['length'];_0x37c0c8++){const _0x212e4d=_0x2787dc[_0x37c0c8]['type']!==le;(_0x3f7b66&&_0x212e4d||_0x1a9a2d&&!_0x212e4d)&&Qa['push'](_0x5e39df?_0x2787dc[_0x37c0c8]['id']:_0x2787dc[_0x37c0c8]['key']);}return Qa['length']>-0x17c9*-0x1+-0x1*-0x1f45+-0xf3*0x3a&&(Qa['sort'](),_0x2d0cf3=Qy(Qa),Qa['length']=0x2414+0x61b*0x4+0xb0*-0x58),_0x2d0cf3;}['getLightHa'+'sh'](_0x3b7946){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0x15d+0x1*0x18c3+-0x1a1f),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x3b7946,!(-0x11a3+-0x2453+0x1*0x35f6),!(-0x18ed*0x1+0x17a0+0xa7*0x2))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x24da+0x1c44+0x4f*-0xd3),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x929+0x1*-0xe67+0x74*0x34),!(0x179e*-0x1+0x102b+0x774),!(-0x35+-0xb84*-0x1+-0xf*0xc1))),this['_lightIdHa'+'sh'];}['addCamera'](_0x1efd8e){this['camerasSet']['has'](_0x1efd8e['camera'])||(this['camerasSet']['add'](_0x1efd8e['camera']),this['cameras']['push'](_0x1efd8e),this['_dirtyComp'+'osition']=!(-0x57*-0x11+-0x25f*0xd+-0xe5*-0x1c));}['removeCame'+'ra'](_0x585432){if(this['camerasSet']['has'](_0x585432['camera'])){this['camerasSet']['delete'](_0x585432['camera']);const _0x524d9c=this['cameras']['indexOf'](_0x585432);this['cameras']['splice'](_0x524d9c,0xe*-0x196+0x49*-0x33+0x24c0),this['_dirtyComp'+'osition']=!(-0x16c8*0x1+0x12b6+0x412);}}['clearCamer'+'as'](){this['cameras']['length']=0x32+-0x37f+-0xa9*-0x5,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x377*0x1+0x7*-0x51b+0x2734*0x1);}['_calculate'+'SortDistan'+'ces'](_0x68c09d,_0x2eaaef,_0x10e9e2,_0x154a8a){for(let _0x348867=0x258e+0xb00+-0x9b6*0x5;_0x348867<_0x2eaaef;_0x348867++){const _0x11de92=_0x68c09d[_0x348867];if(_0x11de92['layer']<=Vb)continue;if(_0x11de92['calculateS'+'ortDistanc'+'e']){_0x11de92['zdist']=_0x11de92['calculateS'+'ortDistanc'+'e'](_0x11de92,_0x10e9e2,_0x154a8a);continue;}const _0x3f0fb1=_0x11de92['aabb']['center'],_0x3fa165=_0x3f0fb1['x']-_0x10e9e2['x'],_0x20119d=_0x3f0fb1['y']-_0x10e9e2['y'],_0xcf04d6=_0x3f0fb1['z']-_0x10e9e2['z'];_0x11de92['zdist']=_0x3fa165*_0x154a8a['x']+_0x20119d*_0x154a8a['y']+_0xcf04d6*_0x154a8a['z'];}}['getCulledI'+'nstances'](_0x47e714){let _0x141025=this['_visibleIn'+'stances']['get'](_0x47e714);return _0x141025||(_0x141025=new WM(),this['_visibleIn'+'stances']['set'](_0x47e714,_0x141025)),_0x141025;}['sortVisibl'+'e'](_0x18d758,_0x35544c){const _0x13dc58=_0x35544c?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x13dc58===_h)return;const _0xf3dfc3=this['getCulledI'+'nstances'](_0x18d758),_0x430d67=_0x35544c?_0xf3dfc3['transparen'+'t']:_0xf3dfc3['opaque'],_0x1b73ca=_0x18d758['node'];if(_0x13dc58===ew){const _0x38ccd2=_0x1b73ca['getPositio'+'n'](),_0x245042=_0x1b73ca['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x430d67,_0x430d67['length'],_0x38ccd2,_0x245042),this['customSort'+'Callback']&&_0x430d67['sort'](this['customSort'+'Callback']);}else{if(_0x13dc58===Nm||_0x13dc58===Jb){const _0x253260=_0x1b73ca['getPositio'+'n'](),_0x31e3e7=_0x1b73ca['forward'];this['_calculate'+'SortDistan'+'ces'](_0x430d67,_0x430d67['length'],_0x253260,_0x31e3e7);}_0x430d67['sort'](HM[_0x13dc58]);}}}const $M=(_0x3fdb82,_0x1f57a6)=>_0x3fdb82['priority']-_0x1f57a6['priority'],Go=_0x3f2e02=>_0x3f2e02['sort']($M);class v_ extends de{constructor(_0xe7c83a='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(0xb31+-0x16*0x47+-0x516)),(this['name']=_0xe7c83a,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0xbaa2e=>_0xbaa2e['destroy']()),this['_renderAct'+'ions']['length']=0x1497+0x71b+-0x1bb2;}['_update'](){const _0x4f334a=this['layerList']['length'];if(!this['_dirty']){for(let _0x3dc4b5=0x5c9*-0x2+-0x3*-0x773+-0xac7;_0x3dc4b5<_0x4f334a;_0x3dc4b5++)if(this['layerList'][_0x3dc4b5]['_dirtyComp'+'osition']){this['_dirty']=!(0x9d*-0x35+0x25f*0x1+0x227*0xe);break;}}if(this['_dirty']){this['_dirty']=!(-0x2*0xf09+0x1*0x1e7c+-0x23*0x3),this['cameras']['length']=0x1dc5*-0x1+-0x6ce+-0xc31*-0x3;for(let _0x169314=-0xace+-0x655*-0x1+0x1*0x479;_0x169314<_0x4f334a;_0x169314++){const _0x213e3b=this['layerList'][_0x169314];_0x213e3b['_dirtyComp'+'osition']=!(0xf92+-0x2*0xeb1+0xdd1);for(let _0x50c513=0x146c+-0x24*-0xfd+0xe0*-0x40;_0x50c513<_0x213e3b['cameras']['length'];_0x50c513++){const _0x472964=_0x213e3b['cameras'][_0x50c513];this['cameras']['indexOf'](_0x472964)<0x16bd+0x19d9+-0x3096&&this['cameras']['push'](_0x472964);}}this['cameras']['length']>0x1*0x2425+-0x4*0x23b+-0x2*0xd9c&&Go(this['cameras']);let _0x41a81d=0x1*-0x2087+0x4*-0x632+0x394f;this['destroyRen'+'derActions']();for(let _0x21ff0e=-0x1ed*0xc+0x4b0*0x5+-0x54;_0x21ff0e<this['cameras']['length'];_0x21ff0e++){const _0x2f3c27=this['cameras'][_0x21ff0e];if(_0x2f3c27['camera']['renderPass'+'es']['length']>-0x21b4+-0x9*0x293+0x12f5*0x3){this['addDummyRe'+'nderAction'](_0x41a81d,_0x2f3c27),_0x41a81d++;continue;}let _0x1bcf1b=!(0x961+0x5*0x42c+-0x1e3d);const _0x451b67=_0x41a81d;let _0x5e85da=null,_0x3f51a9=!(0x1*-0x113a+-0x104e+-0x1*-0x2189);for(let _0x2f8e93=0xa5c+-0x2e6*0x3+0x2*-0xd5;_0x2f8e93<_0x4f334a;_0x2f8e93++){const _0x11f5b8=this['layerList'][_0x2f8e93];if(_0x11f5b8['enabled']&&this['subLayerEn'+'abled'][_0x2f8e93]&&_0x11f5b8['cameras']['length']>-0xd1f*-0x1+0x19b5+0x23*-0x11c&&_0x2f3c27['layers']['indexOf'](_0x11f5b8['id'])>=0x1*0x2705+-0xa*-0x14f+0x1*-0x341b){!_0x3f51a9&&_0x11f5b8['id']===_0x2f3c27['disablePos'+'tEffectsLa'+'yer']&&(_0x3f51a9=!(-0x1bd+0x177+0x46),_0x5e85da&&(_0x5e85da['triggerPos'+'tprocess']=!(0x1*0x127f+0x1*0x3b+-0x12ba)));const _0x4c112e=this['subLayerLi'+'st'][_0x2f8e93];_0x5e85da=this['addRenderA'+'ction'](_0x41a81d,_0x11f5b8,_0x4c112e,_0x2f3c27,_0x1bcf1b,_0x3f51a9),_0x41a81d++,_0x1bcf1b=!(-0x1b26+-0x186d+0x19ca*0x2);}}_0x451b67<_0x41a81d&&(_0x5e85da['lastCamera'+'Use']=!(-0x4*0x715+0x1a58+-0xfe*-0x2)),!_0x3f51a9&&_0x5e85da&&(_0x5e85da['triggerPos'+'tprocess']=!(0x1ea6+-0x2f*0xd0+0x78a)),_0x2f3c27['renderTarg'+'et']&&_0x2f3c27['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x451b67-(0x25d*-0x8+0x7*-0x5b+-0xb*-0x1f2),_0x2f3c27);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x4ca37e){b['assert'](this['_renderAct'+'ions']['length']===_0x4ca37e);const _0x1cd582=new L0();return this['_renderAct'+'ions']['push'](_0x1cd582),_0x1cd582;}['addDummyRe'+'nderAction'](_0x422dce,_0x13590a){const _0x458d1b=this['getNextRen'+'derAction'](_0x422dce);_0x458d1b['camera']=_0x13590a,_0x458d1b['useCameraP'+'asses']=!(-0x346+0x795*0x4+0x1b0e*-0x1);}['addRenderA'+'ction'](_0x461bb2,_0x2bc381,_0x49d399,_0x28aa52,_0x50fe8a,_0x5dddaf){let _0xf35068=_0x2bc381['id']!==es?_0x28aa52['renderTarg'+'et']:null,_0x84aefc=!(0x16a*0x2+-0x94*-0x42+-0x1*0x28fb);const _0x3603dc=this['_renderAct'+'ions'];for(let _0x385e9e=_0x461bb2-(0x6a3*0x2+-0x156e+0x829);_0x385e9e>=0x155d+-0x1cac+0x74f;_0x385e9e--)if(_0x3603dc[_0x385e9e]['camera']===_0x28aa52&&_0x3603dc[_0x385e9e]['renderTarg'+'et']===_0xf35068){_0x84aefc=!(0x46*-0x29+0x2212+-0x2*0xb6e);break;}_0x5dddaf&&_0x28aa52['postEffect'+'sEnabled']&&(_0xf35068=null);const _0x1b00c8=this['getNextRen'+'derAction'](_0x461bb2);_0x1b00c8['triggerPos'+'tprocess']=!(-0x3*-0x28d+0xaff*-0x1+0x1*0x359),_0x1b00c8['layer']=_0x2bc381,_0x1b00c8['transparen'+'t']=_0x49d399,_0x1b00c8['camera']=_0x28aa52,_0x1b00c8['renderTarg'+'et']=_0xf35068,_0x1b00c8['firstCamer'+'aUse']=_0x50fe8a,_0x1b00c8['lastCamera'+'Use']=!(0x1*-0x1bad+-0x1220+0x1c3*0x1a);const _0x27e294=_0x50fe8a||!_0x84aefc,_0x47e98f=_0x2bc381['clearColor'+'Buffer']||_0x2bc381['clearDepth'+'Buffer']||_0x2bc381['clearStenc'+'ilBuffer'];return(_0x27e294||_0x47e98f)&&_0x1b00c8['setupClear'+'s'](_0x27e294?_0x28aa52:void(-0x1b*0xad+0x3*0xa8b+-0xd62),_0x2bc381),_0x1b00c8;}['propagateR'+'enderTarge'+'t'](_0x34632b,_0x585ee3){for(let _0x4b751d=_0x34632b;_0x4b751d>=0x22cd+-0x160a+0x441*-0x3;_0x4b751d--){const _0xd4a596=this['_renderAct'+'ions'][_0x4b751d],_0x93a5c5=_0xd4a596['layer'];if(_0xd4a596['renderTarg'+'et']&&_0x93a5c5['id']!==es)break;if(_0x93a5c5['id']===es)continue;if(_0xd4a596['useCameraP'+'asses'])break;const _0x3bf5fe=_0xd4a596==null?void(0xd50+-0x1*0x8a9+-0x4a7*0x1):_0xd4a596['camera']['camera'];if(_0x3bf5fe&&(!_0x585ee3['camera']['rect']['equals'](_0x3bf5fe['rect'])||!_0x585ee3['camera']['scissorRec'+'t']['equals'](_0x3bf5fe['scissorRec'+'t'])))break;_0xd4a596['renderTarg'+'et']=_0x585ee3['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Qs['get'](xl)){b['trace'](xl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x4d667e=0x57b*-0x5+-0x4b9+0x2020;_0x4d667e<this['_renderAct'+'ions']['length'];_0x4d667e++){const _0xd40efd=this['_renderAct'+'ions'][_0x4d667e],_0x24806e=_0xd40efd['camera'];if(_0xd40efd['useCameraP'+'asses'])b['trace'](xl,_0x4d667e+('CustomPass'+'es\x20Cam:\x20')+(_0x24806e?_0x24806e['entity']['name']:'-'));else{const _0xe76317=_0xd40efd['layer'],_0x540d86=_0xe76317['enabled']&&this['isEnabled'](_0xe76317,_0xd40efd['transparen'+'t']),_0x4d1b41=(_0xd40efd['clearColor']?'Color\x20':'.....\x20')+(_0xd40efd['clearDepth']?'Depth\x20':'.....\x20')+(_0xd40efd['clearStenc'+'il']?'Stencil':'.......');b['trace'](xl,_0x4d667e+('\x20Cam:\x20'+(_0x24806e?_0x24806e['entity']['name']:'-'))['padEnd'](-0x5*0xd1+0x1cf4+-0x1a7*0xf,'\x20')+('\x20Lay:\x20'+_0xe76317['name'])['padEnd'](-0x1617+-0x16ff*-0x1+-0xd2,'\x20')+(_0xd40efd['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x540d86?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0xd40efd['renderTarg'+'et']?_0xd40efd['renderTarg'+'et']['name']:'-'))['padEnd'](0x1ec3+-0x6a8+-0x17fd,'\x20')+'\x20Clear:\x20'+_0x4d1b41+(_0xd40efd['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0xd40efd['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0xd40efd['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x290c66){const _0x5e272e=this['layerIdMap']['get'](_0x290c66['id'])===_0x290c66;return b['assert'](!_0x5e272e,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x290c66['name']),_0x5e272e;}['_isSublaye'+'rAdded'](_0x5cc24d,_0x286a14){return(_0x286a14?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x5cc24d)!==void(-0xb44+-0x19fe+0x2542)?(b['error']('Sublayer\x20'+_0x5cc24d['name']+(',\x20transpar'+'ent:\x20')+_0x286a14+('\x20is\x20alread'+'y\x20added.')),!(0xb*-0x12d+-0xb0c+0x1*0x17fb)):!(0x13fa+0xab4+-0x1ead);}['push'](_0xa86a35){this['_isLayerAd'+'ded'](_0xa86a35)||(this['layerList']['push'](_0xa86a35),this['layerList']['push'](_0xa86a35),this['_opaqueOrd'+'er'][_0xa86a35['id']]=this['subLayerLi'+'st']['push'](!(-0x7a2+-0x1472+0x1*0x1c15))-(-0xe5c+-0x4e+0x2ef*0x5),this['_transpare'+'ntOrder'][_0xa86a35['id']]=this['subLayerLi'+'st']['push'](!(-0x97*-0x3a+-0x1b70+-0x6c6))-(0x1450+0x2*0x75b+-0x2305*0x1),this['subLayerEn'+'abled']['push'](!(0x1c7e+0x18d5*-0x1+-0x1*0x3a9)),this['subLayerEn'+'abled']['push'](!(-0x7a7+0x12a1+-0xafa*0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0xb4b+-0x1d+-0xb2e),this['fire']('add',_0xa86a35));}['insert'](_0x560e03,_0x3ec325){if(this['_isLayerAd'+'ded'](_0x560e03))return;this['layerList']['splice'](_0x3ec325,0x153f+0xa*-0x17f+-0x649,_0x560e03,_0x560e03),this['subLayerLi'+'st']['splice'](_0x3ec325,0x4*-0x296+-0x18ca+0x2322,!(0x1c92+-0x4*0x2c5+-0x117d),!(0x9e*0x2e+0x1237+-0x2e9b));const _0x2e527d=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x3ec325,_0x2e527d-(-0xdf0+-0x1*-0x2176+-0x1385)),this['_updateTra'+'nsparentOr'+'der'](_0x3ec325,_0x2e527d-(-0xa3*-0x2b+-0x156c+-0x5f4)),this['subLayerEn'+'abled']['splice'](_0x3ec325,0x4bd*-0x4+-0x1*-0x277+-0x43*-0x3f,!(-0x5*-0x481+-0xdbd*-0x1+-0x2442),!(-0x1ee4+0xba4+-0x4*-0x4d0)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1b74+0x464*0x2+-0x5*-0x3bc),this['fire']('add',_0x560e03);}['remove'](_0x295b17){let _0x2d7439=this['layerList']['indexOf'](_0x295b17);for(delete this['_opaqueOrd'+'er'][_0x2d7439],delete this['_transpare'+'ntOrder'][_0x2d7439];_0x2d7439>=0x1*-0x1861+0x5*-0x626+0x67*0x89;)this['layerList']['splice'](_0x2d7439,0x13e5*0x1+0x1023+-0x2407),this['subLayerLi'+'st']['splice'](_0x2d7439,-0x4be*0x3+-0x272*-0xd+-0x1*0x118f),this['subLayerEn'+'abled']['splice'](_0x2d7439,0x1aae+-0x2*-0xbf6+-0x1*0x3299),_0x2d7439=this['layerList']['indexOf'](_0x295b17),this['_dirty']=!(0x2646+0x2*-0x517+0x74*-0x3e),this['fire']('remove',_0x295b17);const _0x49ee79=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x1d79+0x1e9*0x1+0x3*-0xa76,_0x49ee79-(0x17e9+-0x8d*0x1b+-0x909)),this['_updateTra'+'nsparentOr'+'der'](-0x9*0xd7+0x3f+0x750,_0x49ee79-(0x1f*-0xd7+0x20b0*0x1+-0x6a6)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x19dc8f){this['_isSublaye'+'rAdded'](_0x19dc8f,!(-0x12b4+0x1*0x8f3+0x9c2))||(this['layerList']['push'](_0x19dc8f),this['_opaqueOrd'+'er'][_0x19dc8f['id']]=this['subLayerLi'+'st']['push'](!(0x1*0x1dc3+-0x9ff+-0x13c3*0x1))-(0x1d05*-0x1+0x3*0xc23+-0x763),this['subLayerEn'+'abled']['push'](!(-0x1f3e+0x1944+-0x1*-0x5fa)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1e9b+-0xd4*0x3+0x139*-0x17),this['fire']('add',_0x19dc8f));}['insertOpaq'+'ue'](_0x2f21cb,_0x3146d5){if(this['_isSublaye'+'rAdded'](_0x2f21cb,!(-0x471*0x5+0x1afb+-0x4c5)))return;this['layerList']['splice'](_0x3146d5,-0x17a2+0xd*-0x193+0x3*0xeb3,_0x2f21cb),this['subLayerLi'+'st']['splice'](_0x3146d5,-0x11*-0xc1+-0x2*-0x609+-0x18e3*0x1,!(0x75a+-0x9*-0xc5+0xe46*-0x1));const _0x3cdbfd=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x3146d5,_0x3cdbfd-(0x24a4+0x59b+0x2*-0x151f)),this['subLayerEn'+'abled']['splice'](_0x3146d5,-0x25e0+0x1e08+0x7d8,!(0x132b+0x1ac1*-0x1+0x1*0x796)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0xa*-0x3a3+0xc*0x2f8+-0x47fe),this['fire']('add',_0x2f21cb);}['removeOpaq'+'ue'](_0x8af56d){for(let _0x3ecfb6=0x25*-0x49+0x1192+-0x705,_0x252f6a=this['layerList']['length'];_0x3ecfb6<_0x252f6a;_0x3ecfb6++)if(this['layerList'][_0x3ecfb6]===_0x8af56d&&!this['subLayerLi'+'st'][_0x3ecfb6]){this['layerList']['splice'](_0x3ecfb6,-0x1b+-0x139a*0x1+0x13b6),this['subLayerLi'+'st']['splice'](_0x3ecfb6,-0x2008+0x629*0x5+0x9e*0x2),_0x252f6a--,this['_updateOpa'+'queOrder'](_0x3ecfb6,_0x252f6a-(0x227b+0x1bc5*0x1+0x1*-0x3e3f)),this['subLayerEn'+'abled']['splice'](_0x3ecfb6,-0x25d6+-0x1*0x1049+0x4*0xd88),this['_dirty']=!(-0x1*0x89+-0x1*0x7d3+0x85c),this['layerList']['indexOf'](_0x8af56d)<0x1514+-0x1f11+0x9fd&&this['fire']('remove',_0x8af56d);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x46b750){this['_isSublaye'+'rAdded'](_0x46b750,!(0xa15+-0x3ce+-0x647))||(this['layerList']['push'](_0x46b750),this['_transpare'+'ntOrder'][_0x46b750['id']]=this['subLayerLi'+'st']['push'](!(0x2624+-0x1885*0x1+-0xd9f))-(0x87c+0x5ed*-0x6+-0x1b13*-0x1),this['subLayerEn'+'abled']['push'](!(0x13a3+0x11ef+-0x2a*0xe5)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x17*-0x1d+0x2aa+-0x545),this['fire']('add',_0x46b750));}['insertTran'+'sparent'](_0x568ed2,_0x1cb967){if(this['_isSublaye'+'rAdded'](_0x568ed2,!(-0x237d+-0x1*0x22c9+0x4646)))return;this['layerList']['splice'](_0x1cb967,0x14c8+0x2*-0x10fd+-0x699*-0x2,_0x568ed2),this['subLayerLi'+'st']['splice'](_0x1cb967,-0x1790+-0x1ee2+-0x2*-0x1b39,!(0x7*0x53+0x691+-0x8d6));const _0x3934f0=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x1cb967,_0x3934f0-(-0x5*0x3da+-0x759+0x34*0x83)),this['subLayerEn'+'abled']['splice'](_0x1cb967,-0xcfe*-0x1+-0x1060+0x362*0x1,!(-0x1*0xa39+0x1*0xaf+0x98a)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x2*-0xf9+-0x17*0x35+0x2d1),this['fire']('add',_0x568ed2);}['removeTran'+'sparent'](_0xbbdae1){for(let _0x1fee64=0x1cc9*-0x1+-0x100a+0x2cd3,_0x158fa8=this['layerList']['length'];_0x1fee64<_0x158fa8;_0x1fee64++)if(this['layerList'][_0x1fee64]===_0xbbdae1&&this['subLayerLi'+'st'][_0x1fee64]){this['layerList']['splice'](_0x1fee64,0x3*0x3d0+0x1c6*0x4+0x11*-0x117),this['subLayerLi'+'st']['splice'](_0x1fee64,0x4f*-0x1+0x13e5+0x22d*-0x9),_0x158fa8--,this['_updateTra'+'nsparentOr'+'der'](_0x1fee64,_0x158fa8-(-0x2247+-0x3e*-0x7f+-0x2*-0x1c3)),this['subLayerEn'+'abled']['splice'](_0x1fee64,-0x202d+-0x1d80+0x2*0x1ed7),this['_dirty']=!(0x1*-0x23a2+0x15af+0xdf3*0x1),this['layerList']['indexOf'](_0xbbdae1)<-0x53a+0x150b*0x1+0xfd1*-0x1&&this['fire']('remove',_0xbbdae1);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x1932c2){return this['layerOpaqu'+'eIndexMap']['get'](_0x1932c2)??-(0x79e+-0x1250*-0x1+-0x1*0x19ed);}['getTranspa'+'rentIndex'](_0x1f0c0f){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x1f0c0f)??-(0x1*0x1543+-0x688+-0x5*0x2f2);}['isEnabled'](_0x5ccc92,_0x58f943){if(_0x5ccc92['enabled']){const _0x2bdcdd=_0x58f943?this['getTranspa'+'rentIndex'](_0x5ccc92):this['getOpaqueI'+'ndex'](_0x5ccc92);if(_0x2bdcdd>=-0xf63*0x2+-0x23*0x104+0x4252)return this['subLayerEn'+'abled'][_0x2bdcdd];}return!(-0x8a*-0x43+0x79*0x5+0x7b2*-0x5);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x40b7f9=0xe*-0x25a+0x1*0xaae+-0x2*-0xb1f;_0x40b7f9<this['layerList']['length'];_0x40b7f9++){const _0x45ae2b=this['layerList'][_0x40b7f9];this['layerIdMap']['set'](_0x45ae2b['id'],_0x45ae2b),this['layerNameM'+'ap']['set'](_0x45ae2b['name'],_0x45ae2b),(this['subLayerLi'+'st'][_0x40b7f9]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x45ae2b,_0x40b7f9);}}['getLayerBy'+'Id'](_0x395340){return this['layerIdMap']['get'](_0x395340)??null;}['getLayerBy'+'Name'](_0x234f01){return this['layerNameM'+'ap']['get'](_0x234f01)??null;}['_updateOpa'+'queOrder'](_0xebd61f,_0x21841c){for(let _0x31dc97=_0xebd61f;_0x31dc97<=_0x21841c;_0x31dc97++)this['subLayerLi'+'st'][_0x31dc97]===!(0xf1*0xa+0xd9e+0x7ad*-0x3)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x31dc97]['id']]=_0x31dc97);}['_updateTra'+'nsparentOr'+'der'](_0x161a76,_0x283359){for(let _0x2e1f47=_0x161a76;_0x2e1f47<=_0x283359;_0x2e1f47++)this['subLayerLi'+'st'][_0x2e1f47]===!(0xb*0xd3+-0x2c3*-0x1+-0xbd4)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x2e1f47]['id']]=_0x2e1f47);}['_sortLayer'+'sDescendin'+'g'](_0x1130be,_0x40a60f,_0xbd0ada){let _0x5b9c32=-(0x259+0x125*0x9+-0x437*0x3),_0x1937be=-(0x1*0x1553+0x1d58+-0x32aa);for(let _0x45aa87=-0xa71+0x1b47*-0x1+0x25b8,_0x152e13=_0x1130be['length'];_0x45aa87<_0x152e13;_0x45aa87++){const _0x2d94af=_0x1130be[_0x45aa87];_0xbd0ada['hasOwnProp'+'erty'](_0x2d94af)&&(_0x5b9c32=Math['max'](_0x5b9c32,_0xbd0ada[_0x2d94af]));}for(let _0x2c2673=0xb26+0x267a+-0x18d0*0x2,_0x38a219=_0x40a60f['length'];_0x2c2673<_0x38a219;_0x2c2673++){const _0x4f690f=_0x40a60f[_0x2c2673];_0xbd0ada['hasOwnProp'+'erty'](_0x4f690f)&&(_0x1937be=Math['max'](_0x1937be,_0xbd0ada[_0x4f690f]));}return _0x5b9c32===-(-0x1*0x739+-0x3*-0xcee+0x2*-0xfc8)&&_0x1937be!==-(-0x3ef+0x83*-0x40+0x24b0)?-0x721+0x1*0x2043+-0x7*0x397:_0x1937be===-(0x12f6+-0x1cbe+-0x1f5*-0x5)&&_0x5b9c32!==-(-0x1*-0x22f1+-0x141b+-0x1*0xed5)?-(0x9*-0x5c+0x737*-0x3+0x18e2*0x1):_0x1937be-_0x5b9c32;}['sortTransp'+'arentLayer'+'s'](_0xd66885,_0x5d7d1b){return this['_sortLayer'+'sDescendin'+'g'](_0xd66885,_0x5d7d1b,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x1fb511,_0x271e70){return this['_sortLayer'+'sDescendin'+'g'](_0x1fb511,_0x271e70,this['_opaqueOrd'+'er']);}}const Vl=new A(),ai={'bias':0x0,'normalBias':0x0},Ja=new Y(),Wd={'r':0x0,'g':0x1,'b':0x2,'a':0x3},qu={'directional':le,'omni':Le,'point':Le,'spot':Fe},qM=[[new ee(0x965+-0xd*0x1f2+0xfe5,0x305*-0x1+0x1*-0x1fbb+0x40*0x8b,0x1ea6+-0x3fe+0x1*-0x1aa7,0x12a+-0x10c5+0xf9c)],[new ee(-0x3*0x9fc+-0xa*0x13+0x1eb2,0x228c+-0x1b7b+-0x711,-0x4f9+-0x1*-0xc92+-0x799*0x1+0.5,0x7c9*-0x5+-0x6f+-0x394*-0xb+0.5),new ee(-0x1*-0x1bcd+-0xb23*0x2+-0x1*0x587,0x2559+-0x416+-0x2143+0.5,-0x2ea*-0x4+-0x66*-0x3e+0xd*-0x2cc+0.5,0x1c21+-0x176d+-0x4b4+0.5)],[new ee(-0x155c+0x1e37+-0x8db,0x1e2+0x1220+-0x1402,0x1423+-0x1*0xa16+-0x1f*0x53+0.5,-0xc82+-0x1*-0x1d30+-0x131*0xe+0.5),new ee(-0x1893+0x4ae*0x1+0x13e5,0x7*-0x32a+-0x176c+0x2d92+0.5,-0x1aad*0x1+-0x94f*0x2+0x2d4b+0.5,-0x1183+0x23d4+0x209*-0x9+0.5),new ee(-0x226f+-0xc02*-0x1+0x166d*0x1+0.5,-0x16d9+0x93e+-0x183*-0x9,-0x17a*0x1+0x1a72+0x4*-0x63e+0.5,-0x13*-0x11b+-0x66f+0x2*-0x749+0.5)],[new ee(-0x1efc+-0x2f5+0x21f1,0x6dc*-0x1+0x1f8d+-0x18b1,-0x207d+0x9*-0x3b+-0x8*-0x452+0.5,0xb*-0x85+-0x1f9d+0x2554+0.5),new ee(-0x1a73*0x1+-0xf*-0x167+0x56a,0x8b*0x3b+-0x108a+-0xf7f*0x1+0.5,0x2337*0x1+0x11d9+0x6*-0x8d8+0.5,0xd99*0x1+-0x27*0xf9+0x7*0x37a+0.5),new ee(0x133e*-0x2+-0x1330*-0x1+0x34*0x5f+0.5,-0x120+0x1a88+-0x18*0x10f,-0x237b+0xade*-0x3+0x259*0x1d+0.5,0x2236*-0x1+-0x167c+0x38b2+0.5),new ee(-0x128a+-0x938+0xbb*0x26+0.5,0x1260+-0x24b9+-0x1ab*-0xb+0.5,0xb00+0x1*-0xeb7+-0x3*-0x13d+0.5,-0x2*-0x1051+0x45d+-0x7*0x549+0.5)]];let XM=0xfd1*-0x1+0x7d4+0x7fd;class jM{constructor(_0x5e6fd5,_0x19c2fd,_0x1252a6){this['light']=_0x1252a6,this['camera']=_0x5e6fd5,this['shadowCame'+'ra']=D0['createShad'+'owCamera'](_0x1252a6['_shadowTyp'+'e'],_0x1252a6['_type'],_0x19c2fd),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new ee(-0x2484+-0x5cc+0x2a50,0x1d*-0x15+-0x1*0x19d+0x3fe,0x7*0x1b1+-0x219b*0x1+0x15c5,0xd64+0x1c4e*0x1+0x1*-0x29b1),this['shadowScis'+'sor']=new ee(0x1d30+-0xa55*0x1+0x3*-0x649,0x52b+-0x18a8+0x137d,-0x22c6+-0x18f0+0x1*0x3bb7,0x17c4+0x1*0x239+-0x4*0x67f),this['projection'+'Compensati'+'on']=-0x1b3+-0x1693+0x1846,this['face']=_0x19c2fd,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x4cf4c2=>{_0x4cf4c2['defaultUni'+'formBuffer']['destroy'](),_0x4cf4c2['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1b2d+0x1818+0x315;}get['shadowBuff'+'er'](){const _0x1f25c9=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x1f25c9?this['light']['_isPcf']?_0x1f25c9['depthBuffe'+'r']:_0x1f25c9['colorBuffe'+'r']:null;}}class Ho{constructor(_0x5349af,_0x3c0cc9){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',us['DEFAULT']['clone']()),(this['device']=_0x5349af,this['clusteredL'+'ighting']=_0x3c0cc9,this['id']=XM++,this['_type']=le,this['_color']=new Y(-0x63*-0x41+0x1d30+-0x3653+0.8,0x2213+-0x14c2*0x1+-0xd51*0x1+0.8,-0x613*0x1+-0x2*-0x469+-0x13*0x25+0.8),this['_intensity']=-0x112*0xa+0x9dd+0xd8,this['_affectSpe'+'cularity']=!(0x1e39*-0x1+0x77c*0x2+0xf41),this['_luminance']=-0x1*-0x1fc3+0x607*-0x1+-0x19bc,this['_castShado'+'ws']=!(-0x16*0x1be+-0x1e8c+0x44e1),this['_enabled']=!(-0xc1*-0x1c+-0x19a2+0x487),this['_mask']=ms,this['isStatic']=!(-0x1f*0x31+-0xad8*0x1+0x10c8),this['key']=0x11*-0x231+0x2*0xdcc+0x9a9,this['bakeDir']=!(0x21*0xd+0x2027+0x10ea*-0x2),this['bakeNumSam'+'ples']=0x1841+0xa*-0xc3+-0x10a2,this['bakeArea']=-0x1*-0x1a69+-0x186*-0x4+0x2081*-0x1,this['attenuatio'+'nStart']=0xac1*0x1+0x2265+-0x2d1c,this['attenuatio'+'nEnd']=-0x1f4+0x44*0x2f+-0xa7e,this['_falloffMo'+'de']=Cp,this['_shadowTyp'+'e']=zt,this['_vsmBlurSi'+'ze']=0x180c+-0x1b67+-0x1e*-0x1d,this['vsmBlurMod'+'e']=Mp,this['vsmBias']=(0x1a40+0x1*-0xfd9+-0xa67+0.01)*(-0x1c11+0x6b6+0x155b+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0x1ad9+0x7e4+-0x22bc,this['_cookieFal'+'loff']=!(0x1cf*-0x1+-0x13f5+0x2*0xae2),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(-0x1e2e+-0x2f4*0x1+-0x1093*-0x2),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(0xce0+0x8*-0x42d+0x148a),this['_cookieTra'+'nsformSet']=!(0x2*0xf53+0x1*-0x196b+-0x53a),this['_cookieOff'+'setSet']=!(0x266c+-0x2283+0x64*-0xa),this['_innerCone'+'Angle']=-0x28c+0x1*0x96e+-0x6ba,this['_outerCone'+'Angle']=0x5*-0x3d8+-0x25+0x2*0x9c5,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=0x17f7+-0x19a+-0x1dd*0xc,this['_cascadeBl'+'end']=-0x29*0xd3+0x1393*0x1+0x104*0xe,this['cascadeDis'+'tribution']=0x853*-0x4+-0x1*0x2617+0x1a9*0x2b+0.5,this['_shape']=Tt,this['_colorLine'+'ar']=new Float32Array(0x14f*-0x17+0x11a7*-0x1+0x2fc3),this['_updateLin'+'earColor'](),this['_position']=new A(-0x966+0x1f*0x123+-0x19d7,0x1*-0x48f+0x102b+-0xb9c,0x2693+0x2*0x7aa+-0x35e7),this['_direction']=new A(0x10*0xf5+-0x7ad+-0x7a3,0x356+0x2692+0x1bf*-0x18,0x1e1f*-0x1+-0xee1+0x2d00),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0x682+-0x1*0x1a71+-0x21a7*-0x1)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0x27*0x48+-0xe*0x21e+-0x4*-0xa27),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x15d2+0x61e+0x6f2*-0x4,this['_shadowRes'+'olution']=0x3*0xb5f+0x3*-0x8cb+-0x3bc,this['_shadowBia'+'s']=-(-0x9ec+0x132f+-0x943+0.0005),this['shadowInte'+'nsity']=0x26*0xd0+-0x1e2*-0x8+-0x2def*0x1,this['_normalOff'+'setBias']=-0x71a+0x124e+0x3bc*-0x3,this['shadowUpda'+'teMode']=Lp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0x17a9+0x650+0x115a),this['_isPcf']=!(-0x5*0x373+0x60*-0x59+0x329f),this['_softShado'+'wParams']=new Float32Array(-0x1*-0x124d+0xe6f+-0x2ba*0xc),this['shadowSamp'+'les']=-0x21fe+0x2*0x6c3+0x1488,this['shadowBloc'+'kerSamples']=-0x147f+0x1f67+0xad8*-0x1,this['penumbraSi'+'ze']=0x89b+-0x2*-0x617+-0x14c8,this['penumbraFa'+'lloff']=0x2b*-0xe5+-0x137a+0x39f2,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0x3*0x6f8+-0x3d*0x53+-0x120),this['atlasVersi'+'on']=0x1b8e+-0x9b2+-0x8ee*0x2,this['atlasSlotI'+'ndex']=0xb7b+-0x204e+0x14d3,this['atlasSlotU'+'pdated']=!(-0x23a6+-0x130*0x20+-0xf*-0x4e9),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0x1ee0+0xe02+0x1*-0x2ce1),this['maxScreenS'+'ize']=-0x1*-0x132d+0x1*0x13a6+-0x1*0x26d3,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x36c8de=-0x183*-0x12+0xfb2+0x2ae8*-0x1;_0x36c8de<this['_renderDat'+'a']['length'];_0x36c8de++)this['_renderDat'+'a'][_0x36c8de]['destroy']();this['_renderDat'+'a']['length']=0xf7d+0x5d8+0x1*-0x1555;}}['addLayer'](_0x3c4d2d){this['layers']['add'](_0x3c4d2d);}['removeLaye'+'r'](_0x33bf72){this['layers']['delete'](_0x33bf72);}set['shadowSamp'+'les'](_0x46fd20){this['_softShado'+'wParams'][0x5f8+-0x4*0x3f6+0x9e0*0x1]=_0x46fd20;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x26*0x59+-0x156d*-0x1+-0x837];}set['shadowBloc'+'kerSamples'](_0x3864c9){this['_softShado'+'wParams'][-0x10d7+-0x17c1+0x2899]=_0x3864c9;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][0x8ce+-0x281*-0x7+-0x1a54];}set['shadowBias'](_0x28fae2){this['_shadowBia'+'s']!==_0x28fae2&&(this['_shadowBia'+'s']=_0x28fae2,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x134f52){(!this['cascades']||this['numCascade'+'s']!==_0x134f52)&&(this['cascades']=qM[_0x134f52-(-0x12bb+-0x22dc+0x3598)],this['_shadowMat'+'rixPalette']=new Float32Array((0x61b+0x1b2e+-0x2145)*(-0x2103+-0x255*0x7+0x3166)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x20dd+0x1d62+-0x3e3b),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x179629){this['_cascadeBl'+'end']!==_0x179629&&(this['_cascadeBl'+'end']=_0x179629,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x1283cf){this['_shadowMap']!==_0x1283cf&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x1283cf);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x154705){this['_mask']!==_0x154705&&(this['_mask']=_0x154705,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x537a99=this['_type'];return _0x537a99===le?this['numCascade'+'s']:_0x537a99===Le?-0x1221+-0x92a+0x3f*0x6f:0x1df6+-0xdf9+-0xffc;}set['type'](_0x2be13a){if(this['_type']===_0x2be13a)return;this['_type']=_0x2be13a,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x24e8e1=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x24e8e1;}get['type'](){return this['_type'];}set['shape'](_0x5d0805){if(this['_shape']===_0x5d0805)return;this['_shape']=_0x5d0805,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x37e42e=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x37e42e;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x491e44){this['_usePhysic'+'alUnits']!==_0x491e44&&(this['_usePhysic'+'alUnits']=_0x491e44,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x5c52fc){if(this['_shadowTyp'+'e']===_0x5c52fc)return;const _0x1da2df=this['device'];_0x5c52fc===Rs&&!_0x1da2df['textureFlo'+'atRenderab'+'le']&&!_0x1da2df['textureHal'+'fFloatRend'+'erable']&&(_0x5c52fc=zt),this['_type']===Le&&_0x5c52fc!==Gh&&_0x5c52fc!==zt&&_0x5c52fc!==Hh&&_0x5c52fc!==Wh&&_0x5c52fc!==Rs&&(_0x5c52fc=zt),_0x5c52fc===$r&&(!_0x1da2df['textureFlo'+'atRenderab'+'le']||!_0x1da2df['textureFlo'+'atFilterab'+'le'])&&(_0x5c52fc=Wr),_0x5c52fc===Wr&&!_0x1da2df['textureHal'+'fFloatRend'+'erable']&&(_0x5c52fc=zt);const _0x81fe5a=nr['get'](_0x5c52fc);this['_isVsm']=(_0x81fe5a==null?void(-0x374+-0x1*0x1e68+-0x10ee*-0x2):_0x81fe5a['vsm'])??!(-0x2*-0x241+0xaf7+-0xf78),this['_isPcf']=(_0x81fe5a==null?void(0x2334+0x1fba+-0x42ee):_0x81fe5a['pcf'])??!(0x5*0x5ab+0x1b*-0x17+-0x19e9),this['_shadowTyp'+'e']=_0x5c52fc,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x556f9c){this['_enabled']!==_0x556f9c&&(this['_enabled']=_0x556f9c,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0xac422c){this['_castShado'+'ws']!==_0xac422c&&(this['_castShado'+'ws']=_0xac422c,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==ar&&this['_mask']!==0x60*-0x2d+0x7*0x1e2+0x3b2;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===ar;}set['shadowReso'+'lution'](_0x4d9f02){this['_shadowRes'+'olution']!==_0x4d9f02&&(this['_type']===Le?_0x4d9f02=Math['min'](_0x4d9f02,this['device']['maxCubeMap'+'Size']):_0x4d9f02=Math['min'](_0x4d9f02,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x4d9f02,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0xbed8cd){this['_vsmBlurSi'+'ze']!==_0xbed8cd&&(_0xbed8cd%(0x270e+-0x219e+-0x56e)===-0x7*0x91+-0x335*0x8+0x1*0x1d9f&&_0xbed8cd++,this['_vsmBlurSi'+'ze']=_0xbed8cd);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x20a652){if(this['_normalOff'+'setBias']!==_0x20a652){const _0x40a00e=!this['_normalOff'+'setBias']&&_0x20a652||this['_normalOff'+'setBias']&&!_0x20a652;this['_normalOff'+'setBias']=_0x20a652,_0x40a00e&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x137adf){this['_falloffMo'+'de']!==_0x137adf&&(this['_falloffMo'+'de']=_0x137adf,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x5af06c){this['_innerCone'+'Angle']!==_0x5af06c&&(this['_innerCone'+'Angle']=_0x5af06c,this['_innerCone'+'AngleCos']=Math['cos'](_0x5af06c*Math['PI']/(-0xabc+-0x22*-0xb3+0x1*-0xc56)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x3d18c9){this['_outerCone'+'Angle']!==_0x3d18c9&&(this['_outerCone'+'Angle']=_0x3d18c9,this['_updateOut'+'erAngle'](_0x3d18c9),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x105d35){this['_penumbraS'+'ize']=_0x105d35,this['_softShado'+'wParams'][-0xcda+-0xdb*-0xf+0x7]=_0x105d35;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0xf4b141){this['_softShado'+'wParams'][0x82b+-0x25*-0xf1+0x9b*-0x47]=_0xf4b141;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0x21ac+0x1121+-0x16*0x24f];}['_updateOut'+'erAngle'](_0x4345cc){const _0x35efed=_0x4345cc*Math['PI']/(0xbcc+-0x4ba+-0x2*0x32f);this['_outerCone'+'AngleCos']=Math['cos'](_0x35efed),this['_outerCone'+'AngleSin']=Math['sin'](_0x35efed);}set['intensity'](_0x30ebac){this['_intensity']!==_0x30ebac&&(this['_intensity']=_0x30ebac,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x51d6ed){this['_type']===le&&(this['_affectSpe'+'cularity']=_0x51d6ed,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x338913){this['_luminance']!==_0x338913&&(this['_luminance']=_0x338913,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new ee(-0xb65*0x1+-0xc56+0x17bb,-0x394*0x2+-0x12f4*0x1+0x1a1c,-0x2*-0x54+0x148b+0x1*-0x1532,0x9b9*-0x1+0x3e*0x5+-0x5*-0x1b4)),this['_atlasView'+'port'];}set['cookie'](_0x5b0d37){this['_cookie']!==_0x5b0d37&&(this['_cookie']=_0x5b0d37,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x3801e6){this['_cookieFal'+'loff']!==_0x3801e6&&(this['_cookieFal'+'loff']=_0x3801e6,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x53dda2){if(this['_cookieCha'+'nnel']!==_0x53dda2){if(_0x53dda2['length']<0x755+0x11*0x1a+-0x90c){const _0xb176bb=_0x53dda2['charAt'](_0x53dda2['length']-(-0x1c*-0xd0+0x2b+0x16ea*-0x1)),_0x20f510=-0x2*0xa93+0xdfc+0x72d-_0x53dda2['length'];for(let _0x323c6e=-0x221b+-0xfce+-0x3*-0x10a3;_0x323c6e<_0x20f510;_0x323c6e++)_0x53dda2+=_0xb176bb;}this['_cookieCha'+'nnel']=_0x53dda2,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x26a404){this['_cookieTra'+'nsform']!==_0x26a404&&(this['_cookieTra'+'nsform']=_0x26a404,this['_cookieTra'+'nsformSet']=!!_0x26a404,_0x26a404&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new W(),this['_cookieOff'+'setSet']=!(0xa06*0x1+-0xd51+0x34c)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x88394d){if(this['_cookieOff'+'set']===_0x88394d)return;!!(this['_cookieTra'+'nsformSet']||_0x88394d)&&!_0x88394d&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x237c+-0x224e+0x22e5*0x2,0x1ada+-0x15e2*-0x1+-0x30bc):this['_cookieOff'+'set']=_0x88394d,this['_cookieOff'+'setSet']=!!_0x88394d,_0x88394d&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new ee(-0x3d+0xf*-0x201+0x1e4d,0x5fb*0x6+0x1ccb+-0x40ac,-0x1880+0x4*0x51b+0x414,-0x1ee+0x1f*0x12b+-0x2247),this['_cookieTra'+'nsformSet']=!(-0x27*-0x39+0x250c+-0x2dba)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===le&&this['_enabled'],this['maxScreenS'+'ize']=-0x17dc+0xf7*0x25+-0xbd7*0x1,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x1e3d+0x1e*0x43+0x1664),this['atlasSlotU'+'pdated']=!(0x894+0x1761+-0x1ff4);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===ks&&(this['shadowUpda'+'teMode']=un),this['shadowUpda'+'teOverride'+'s']){for(let _0xb95369=0x1902+-0x2*-0x1a5+-0x1c4c;_0xb95369<this['shadowUpda'+'teOverride'+'s']['length'];_0xb95369++)this['shadowUpda'+'teOverride'+'s'][_0xb95369]===ks&&(this['shadowUpda'+'teOverride'+'s'][_0xb95369]=un);}}['getRenderD'+'ata'](_0x2e1f91,_0x3a8fe1){for(let _0x31bcc3=-0x1*-0xfad+0x1820+-0x27cd;_0x31bcc3<this['_renderDat'+'a']['length'];_0x31bcc3++){const _0x122e93=this['_renderDat'+'a'][_0x31bcc3];if(_0x122e93['camera']===_0x2e1f91&&_0x122e93['face']===_0x3a8fe1)return _0x122e93;}const _0x18f0e7=new jM(_0x2e1f91,_0x3a8fe1,this);return this['_renderDat'+'a']['push'](_0x18f0e7),_0x18f0e7;}['clone'](){const _0x460129=new Ho(this['device'],this['clusteredL'+'ighting']);return _0x460129['type']=this['_type'],_0x460129['setColor'](this['_color']),_0x460129['intensity']=this['_intensity'],_0x460129['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x460129['luminance']=this['_luminance'],_0x460129['castShadow'+'s']=this['castShadow'+'s'],_0x460129['_enabled']=this['_enabled'],_0x460129['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x460129['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x460129['falloffMod'+'e']=this['_falloffMo'+'de'],_0x460129['shadowType']=this['_shadowTyp'+'e'],_0x460129['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x460129['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x460129['vsmBias']=this['vsmBias'],_0x460129['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x460129['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x460129['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x460129['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x460129['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x460129['numCascade'+'s']=this['numCascade'+'s'],_0x460129['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x460129['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x460129['shape']=this['_shape'],_0x460129['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x460129['shadowBias']=this['shadowBias'],_0x460129['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x460129['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x460129['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x460129['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x460129['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x460129['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x460129['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x460129['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x460129;}static['getLightUn'+'itConversi'+'on'](_0x53070a,_0x1df60e=Math['PI']/(-0x1eed+0x6d1+0x1820),_0xb639f6=-0x1e67+0x1472+-0x9f5*-0x1){switch(_0x53070a){case Fe:{const _0x4e93bd=Math['cos'](_0x1df60e),_0x1f8c50=Math['cos'](_0xb639f6);return(0x1829+0xa05+0x9*-0x3cc)*Math['PI']*(-0xb9*-0x2f+0x17*0x199+-0x46b5-_0x1f8c50+(_0x1f8c50-_0x4e93bd)/(-0x1b70+-0xa*0x33b+0x3bc0));}case Le:return(0x2095+0x65d+-0x26ee)*Math['PI'];case le:return-0x1f5a+-0x50d*0x3+0x2e82;}}['_getUnifor'+'mBiasValue'+'s'](_0x316c39){const _0x2f83cb=_0x316c39['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Le:ai['bias']=this['shadowBias'],ai['normalBias']=this['_normalOff'+'setBias'];break;case Fe:this['_isVsm']?ai['bias']=-(-0x5*-0x449+-0xcbc+-0x8b1+0.00001)*(-0xf31*-0x1+-0x17f4+-0x8d7*-0x1):ai['bias']=this['shadowBias']*(-0x2ea+-0x1*0x20e4+0x23e2),ai['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(0x1bb+0xd54*0x1+-0x1a*0x94)):this['_normalOff'+'setBias'];break;case le:this['_isVsm']?ai['bias']=-(0x66e+0xe21*-0x1+0x7b3+0.00001)*(0x1aef+-0x564*-0x6+0x7*-0x875):ai['bias']=this['shadowBias']/_0x2f83cb*(-0x1d9f+0x2*0xc83+0x4fd),ai['normalBias']=this['_isVsm']?this['vsmBias']/(_0x2f83cb/(0x91b+-0x2*-0x4c3+-0x1*0x129a)):this['_normalOff'+'setBias'];break;}return ai;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x67b5ef){if(this['_type']===Fe){const _0x2d4df5=this['attenuatio'+'nEnd'],_0x4d30eb=this['_outerCone'+'Angle'],_0x5bef70=this['_outerCone'+'AngleCos'],_0x3c3a7a=this['_node'];Vl['copy'](_0x3c3a7a['up']),_0x4d30eb>0x2476+0x11b5+-0x35fe?(_0x67b5ef['radius']=_0x2d4df5*this['_outerCone'+'AngleSin'],Vl['mulScalar'](-_0x2d4df5*_0x5bef70)):(_0x67b5ef['radius']=_0x2d4df5/((-0x22d1*-0x1+-0x601+-0x1cce*0x1)*_0x5bef70),Vl['mulScalar'](-_0x67b5ef['radius'])),_0x67b5ef['center']['add2'](_0x3c3a7a['getPositio'+'n'](),Vl);}else this['_type']===Le&&(_0x67b5ef['center']=this['_node']['getPositio'+'n'](),_0x67b5ef['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x39f706){if(this['_type']===Fe){const _0xf959cc=this['attenuatio'+'nEnd'],_0x400568=this['_outerCone'+'Angle'],_0x2f922f=this['_node'],_0x3c7171=Math['abs'](Math['sin'](_0x400568*z['DEG_TO_RAD'])*_0xf959cc);_0x39f706['center']['set'](0x817+0x178d*0x1+-0x2*0xfd2,-_0xf959cc*(0x893+0x8*0x175+-0x143b+0.5),-0x1716+0xb5*0x17+0x6d3),_0x39f706['halfExtent'+'s']['set'](_0x3c7171,_0xf959cc*(-0xb6*0x6+0xe24+-0x4*0x278+0.5),_0x3c7171),_0x39f706['setFromTra'+'nsformedAa'+'bb'](_0x39f706,_0x2f922f['getWorldTr'+'ansform'](),!(0xe9a+0x1191+0x3*-0xab9));}else this['_type']===Le&&(_0x39f706['center']['copy'](this['_node']['getPositio'+'n']()),_0x39f706['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Le&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x49d*-0x1+-0x4d3+-0x6*-0x9,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x193a*0x1+-0x4a9*0x2+0x8*-0x1fd;else{const _0x584ea7=this['shadowBias']*-(-0x36d*-0xa+-0x6*-0x531+-0x3d80);this['shadowDept'+'hState']['depthBias']=_0x584ea7,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x584ea7;}}['_updateLin'+'earColor'](){let _0x15f63d=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x15f63d=this['_luminance']/Ho['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*z['DEG_TO_RAD'],this['_innerCone'+'Angle']*z['DEG_TO_RAD']));const _0x49b0c7=this['_color'],_0x1b3a24=this['_colorLine'+'ar'];_0x15f63d>=-0x5*-0x13b+-0x28e*-0xb+0x112*-0x20?Ja['linear'](_0x49b0c7)['mulScalar'](_0x15f63d):Ja['copy'](_0x49b0c7)['mulScalar'](_0x15f63d)['linear'](),_0x1b3a24[-0x2687+-0x9ad*0x1+0x3034]=Ja['r'],_0x1b3a24[-0x10*0x65+0xb3a+-0x4e9]=Ja['g'],_0x1b3a24[-0xb8*-0x20+-0x87*-0x43+0x1*-0x3a53]=Ja['b'];}['setColor'](){arguments['length']===-0x19c4+-0xde5*0x2+0x358f?this['_color']['set'](arguments[-0x849+-0x499+0xce2]['r'],arguments[0x22e7*0x1+0x2605*0x1+-0x48ec]['g'],arguments[-0x1e6f+0x14d5+-0x99a*-0x1]['b']):arguments['length']===0x2072+-0xc46*-0x1+0x6d*-0x69&&this['_color']['set'](arguments[-0xd9*-0x13+0x1ffc+-0x3017],arguments[0x11a9+-0x1547+0x67*0x9],arguments[0x2*0x5b3+0x1*0x95b+0x71*-0x2f]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x2aac62=>{_0x2aac62['hasLight'](this)&&_0x2aac62['markLights'+'Dirty']();});}['updateKey'](){let _0x12c8d9=this['_type']<<0x3*0xc77+-0x186f+-0xcd9*0x1|this['_shadowTyp'+'e']<<0x23e3+0x1*0x827+-0x2bf1|this['_falloffMo'+'de']<<0x1*0x2001+0x209*0x5+0x5*-0x86b|(this['_normalOff'+'setBias']!==0x18fe*0x1+0x14*-0x5d+-0x2*0x8dd?0x21ca+-0xd0f*-0x2+-0x3be7:0x14f8+0x23d7+0x38cf*-0x1)<<0x8e1+0x1664+0x377*-0x9|(this['_cookie']?-0x1f*0x51+-0xe7*0x1f+-0x1*-0x25c9:-0x2*-0x93e+-0xc4e+-0x62e)<<-0xae9+-0x1*-0x1c4e+-0x1150|(this['_cookieFal'+'loff']?0xa4d*0x1+-0x50e+0x2*-0x29f:-0x1816+-0x1ac8+-0x2fe*-0x11)<<0x1*-0xc69+0x57*0x45+0xaf6*-0x1|Wd[this['_cookieCha'+'nnel']['charAt'](0x139+0x1*0xe01+-0xf3a)]<<-0x5d1*0x6+-0x2*-0xfa5+0x3ae|(this['_cookieTra'+'nsform']?0x1*0x1907+0x1*-0x26a7+-0x1*-0xda1:0x22df+0xd9b+-0x307a)<<0x445*-0x6+-0x1bde+0x3588|this['_shape']<<0x10db*-0x1+0x23cf+0x12ea*-0x1|(this['numCascade'+'s']>0x1*0x1ff3+-0x93a*-0x2+-0x495*0xb?0x97*-0x3d+0x1*0x1a07+0x9f5:-0xb9c+0x1a7*-0x13+-0x1*-0x2b01)<<0x15cc+-0x1e+-0x15a5|(this['_cascadeBl'+'end']>-0x9*-0x3e5+-0x7*0x89+-0x1*0x1f4e?0x21c4+-0xdef+-0x36*0x5e:0x7*0x581+-0x1*-0xedd+-0x3564)<<0xa56+-0x985+-0xc9|(this['affectSpec'+'ularity']?-0xa61*0x1+0x1cb8+-0x92b*0x2:-0x1*-0x211e+-0x52e+-0x4*0x6fc)<<0x4d7+-0x1*0x1e6d+0x199d|this['mask']<<0x292+0x4c2+-0x2*0x3a7|(this['_castShado'+'ws']?-0x1822+-0x10f*0x8+0x209b:0x811+0x1f35+-0x2746)<<-0x13ba+-0x1774+0x2b31;this['_cookieCha'+'nnel']['length']===-0x436+0x21a0+-0x9cd*0x3&&(_0x12c8d9|=Wd[this['_cookieCha'+'nnel']['charAt'](0x2007+-0x243a+0x434)]<<0xe4*-0x7+-0x21*0xd3+0xf5*0x23,_0x12c8d9|=Wd[this['_cookieCha'+'nnel']['charAt'](-0xa76+0x39*-0x2d+-0x147d*-0x1)]<<0x1d33+-0x977*0x1+-0x13ae*0x1),_0x12c8d9!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x12c8d9;}}class F0{constructor(_0x576c1f,_0x97cf7c,_0x1c7438){c(this,'_areaLight'+'sEnabled',!(-0x17ed*-0x1+-0x1f*0x1+-0x17cd)),c(this,'_cells',new A(0x1d7+-0x2575+0x23a8,0x1e62+0x996+0x27f5*-0x1,0x4d+-0x12*0x1cd+-0x1*-0x2027)),c(this,'_maxLights'+'PerCell',0x1*0xfbb+0x1f*-0x79+-0x15),c(this,'_shadowsEn'+'abled',!(-0x10e5*0x1+0x1979*0x1+-0x894)),c(this,'_shadowTyp'+'e',zt),c(this,'_shadowAtl'+'asResoluti'+'on',-0x141*-0x4+0x1c26*-0x1+-0x1f22*-0x1),c(this,'_cookiesEn'+'abled',!(0x707*-0x5+-0xf63+0x3287)),c(this,'_cookieAtl'+'asResoluti'+'on',0x1ad*-0xb+0x9ce+-0x63*-0x2b),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x576c1f,this['_maxTextur'+'eSize']=_0x97cf7c,this['_dirtyLigh'+'tsFnc']=_0x1c7438);}['applySetti'+'ngs'](_0x556667){this['shadowsEna'+'bled']=_0x556667['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x556667['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x556667['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x556667['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x556667['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x556667['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x556667['lightingSh'+'adowType']??this['shadowType'],_0x556667['lightingCe'+'lls']&&(this['cell']=new A(_0x556667['lightingCe'+'lls']));}set['cells'](_0x366224){this['_cells']['copy'](_0x366224);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x3e8302){this['_maxLights'+'PerCell']=z['clamp'](_0x3e8302,-0x11e3+-0x2b9*0x1+0x3*0x6df,-0x1*0xf27+0x1757+-0x731);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0xff004b){this['_cookieAtl'+'asResoluti'+'on']=z['clamp'](_0xff004b,-0x5*-0x335+-0x1774*0x1+0x78b,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x2c69e7){this['_shadowAtl'+'asResoluti'+'on']=z['clamp'](_0x2c69e7,-0x10c*0xb+0x10ea+-0x1c2*0x3,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x2befe8){this['_shadowTyp'+'e']!==_0x2befe8&&(this['_shadowTyp'+'e']=_0x2befe8,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x5901dd){this['_cookiesEn'+'abled']!==_0x5901dd&&(this['_cookiesEn'+'abled']=_0x5901dd,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x59ab79){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x59ab79&&(this['_areaLight'+'sEnabled']=_0x59ab79,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x5b5300){this['_shadowsEn'+'abled']!==_0x5b5300&&(this['_shadowsEn'+'abled']=_0x5b5300,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const YM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',KM=new bt(!(0x1a74+0xa12+-0x19*0x176),Ut,ct,ct);class mn{constructor(_0x1cb99c){c(this,'shaderCach'+'e',[]),(this['morph']=_0x1cb99c,_0x1cb99c['incRefCoun'+'t'](),this['device']=_0x1cb99c['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x32762b=0x2518+-0x24dc+-0x3*0x14;_0x32762b<_0x1cb99c['_targets']['length'];_0x32762b++){const _0xc4959c=_0x1cb99c['_targets'][_0x32762b];_0xc4959c['name']&&this['_weightMap']['set'](_0xc4959c['name'],_0x32762b),this['setWeight'](_0x32762b,_0xc4959c['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x28c07a=(_0x26619b,_0x46937c)=>(this[_0x46937c]=_0x1cb99c['_createTex'+'ture'](_0x26619b,_0x1cb99c['_renderTex'+'tureFormat']),new St({'colorBuffer':this[_0x46937c],'depth':!(0x15c7+0x29*0x7+-0x16e5)}));_0x1cb99c['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x28c07a('MorphRTPos','texturePos'+'itions')),_0x1cb99c['morphNorma'+'ls']&&(this['rtNormals']=_0x28c07a('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x1cb99c['morphTextu'+'reWidth'],_0x1cb99c['morphTextu'+'reHeight']]);const _0x1e4894=_0x1cb99c['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x1e4894['x']*(0x8*-0x2ef+0xeb8+-0xcc*-0xb),_0x1e4894['y']*(0x1910+0x1d8a+0x22*-0x19b),_0x1e4894['z']*(0x2121+-0x4*-0x2dd+-0x2c91)]);const _0x19cdb1=_0x1cb99c['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x19cdb1['x']*(-0x1343*0x1+0x156+0x11ef),_0x19cdb1['y']*(-0x25f9+-0x2a7*-0x7+0x136a),_0x19cdb1['z']*(-0x5b0+0x22d9+-0x1d27)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0x130a+-0x1d63*0x1+0x306f,-0x38b*0x6+-0x2*-0xb5f+0x15*-0x12,-0x1*-0x29+-0x2*0x42e+-0x1*-0x835]),this['_aabbNrmMi'+'n']=new Float32Array([-(-0x174e*0x1+0x1969*0x1+0x2*-0x10d),-(0x1*-0x419+-0x1d04+0x1b*0x13a),-(-0x1526+0xabb+-0x1d*-0x5c)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x55d935=-0x10d6+-0x1*0xbcb+0x3*0x98b;_0x55d935<this['maxSubmitC'+'ount'];_0x55d935++)this['morphBlend'+'Tex'+_0x55d935]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x55d935);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(0x2674+-0x1*0x124+-0x254f);}['destroy'](){this['shader']=null;const _0x3314e0=this['morph'];_0x3314e0&&(this['morph']=null,_0x3314e0['decRefCoun'+'t'](),_0x3314e0['refCount']<0xb4*-0xf+0x9ca+0xc3&&_0x3314e0['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new mn(this['morph']);}['_getWeight'+'Index'](_0x2207dc){if(typeof _0x2207dc=='string'){const _0x5928ee=this['_weightMap']['get'](_0x2207dc);return _0x5928ee===void(0xf87+-0x1c26+-0xc9f*-0x1)&&b['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x2207dc+'.'),_0x5928ee;}return _0x2207dc;}['getWeight'](_0x71f133){const _0x519afa=this['_getWeight'+'Index'](_0x71f133);return this['_weights'][_0x519afa];}['setWeight'](_0x390d54,_0x3bb5e2){const _0x28a0d5=this['_getWeight'+'Index'](_0x390d54);b['assert'](_0x28a0d5>=-0xb43+-0x233*0xa+-0x1*-0x2141&&_0x28a0d5<this['morph']['_targets']['length']),this['_weights'][_0x28a0d5]=_0x3bb5e2,this['_dirty']=!(0x135f+-0x1f9d*-0x1+0x3ec*-0xd);}['_getFragme'+'ntShader'](_0x4fb60f){let _0x12c49d='',_0x3185a5='';for(let _0x2b968b=0x97+0x17f*0x2+-0x395;_0x2b968b<_0x4fb60f;_0x2b968b++)_0x12c49d+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x2b968b+';',_0x3185a5+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x2b968b+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x2b968b+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x4fb60f>0xb*0x29c+0x1f*0x120+0x2*-0x1fca?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x4fb60f+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x12c49d+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x3185a5+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x8dcac0){let _0x1663c1=this['shaderCach'+'e'][_0x8dcac0];if(!_0x1663c1){const _0x1410f9=this['_getFragme'+'ntShader'](_0x8dcac0),_0x57fbb4=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x1663c1=Bs(this['device'],YM,_0x1410f9,'textureMor'+'ph'+_0x8dcac0,void(-0x32*0xac+0x1*-0x144b+0x35e3),{'fragmentOutputTypes':[_0x57fbb4]}),this['shaderCach'+'e'][_0x8dcac0]=_0x1663c1;}return _0x1663c1;}['_updateTex'+'tureRender'+'Target'](_0x3fa847,_0x431be3,_0x12d0b0){const _0x541849=this['device'],_0x1a3215=(_0x26805a,_0x4e30d8)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x541849['setBlendSt'+'ate'](_0x4e30d8?KM:bt['NOBLEND']);const _0xf2be18=this['_getShader'](_0x26805a);fn(_0x541849,_0x3fa847,_0xf2be18);};this['setAabbUni'+'forms'](_0x12d0b0);let _0xbd92b9=0x1136*0x1+-0xe87+-0x1*0x2af,_0x576a2d=!(-0x1d39+0x25f2*-0x1+0x432c);const _0x33f102=this['_activeTar'+'gets']['length'];for(let _0x1b44cc=0x986*0x2+-0x14b1*0x1+0x1a5;_0x1b44cc<_0x33f102;_0x1b44cc++){const _0x5d25bb=this['_activeTar'+'gets'][_0x1b44cc],_0x1d9ef9=_0x5d25bb['target'][_0x431be3];_0x1d9ef9&&(this['morphBlend'+'Tex'+_0xbd92b9]['setValue'](_0x1d9ef9),this['_shaderMor'+'phWeights'][_0xbd92b9]=_0x5d25bb['weight'],_0xbd92b9++,_0xbd92b9>=this['maxSubmitC'+'ount']&&(_0x1a3215(_0xbd92b9,_0x576a2d),_0xbd92b9=-0xbad+0x952+-0x3*-0xc9,_0x576a2d=!(-0x7f9*0x4+0x3ab*-0x6+0x35e6)));}(_0xbd92b9>0x11*-0x5+0x23a7+-0x2352||_0x33f102===0x1a*0xca+-0x165d+0x1d9&&!this['zeroTextur'+'es'])&&_0x1a3215(_0xbd92b9,_0x576a2d);}['_updateTex'+'tureMorph'](){const _0x526f72=this['device'];G['pushGpuMar'+'ker'](_0x526f72,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>0x1979+0x351+-0x1cca||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(-0x104c+-0x1a*0xb8+0x22fc)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(-0x1115+-0x1*-0xad+-0x1*-0x1069)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===0xad7+0x453*-0x1+-0x684),G['popGpuMark'+'er'](_0x526f72);}['setAabbUni'+'forms'](_0x1226fe=!(-0x26b+0x9*0x424+-0x22d9)){this['aabbSizeId']['setValue'](_0x1226fe?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x1226fe?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x1aff26){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x1419+-0x2dd*-0x3+0xb83);const _0x589e47=this['morph']['_targets'];let _0x45b1ae=0x85f+0xd55*-0x2+-0x3*-0x619;const _0x173f2e=0x13ec+-0x1e49*0x1+0xa5d+0.00001;for(let _0x2285aa=0x17cf+0x5f2+0x9eb*-0x3;_0x2285aa<_0x589e47['length'];_0x2285aa++){const _0x32f3a4=Math['abs'](this['getWeight'](_0x2285aa));if(_0x32f3a4>_0x173f2e){this['_activeTar'+'gets']['length']<=_0x45b1ae&&(this['_activeTar'+'gets'][_0x45b1ae]={});const _0x240a96=this['_activeTar'+'gets'][_0x45b1ae++];_0x240a96['absWeight']=_0x32f3a4,_0x240a96['weight']=this['getWeight'](_0x2285aa),_0x240a96['target']=_0x589e47[_0x2285aa];}}this['_activeTar'+'gets']['length']=_0x45b1ae,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x1095cf,_0x38bf12)=>_0x1095cf['absWeight']<_0x38bf12['absWeight']?-0x21fe+0x1b5e+0x6a1*0x1:_0x38bf12['absWeight']<_0x1095cf['absWeight']?-(0x2063*-0x1+-0x26ad+0x4711):-0x4*-0x200+-0x1*0x1c83+-0x59*-0x3b),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Ui{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x26*-0xe0+-0x18f6+-0x1*0x84a,this['_immutable']=!(-0x78*-0x36+0xe+-0x97*0x2b));}['getGraph'](){return this['graph'];}['setGraph'](_0x708d31){this['graph']=_0x708d31;}['getCameras'](){return this['cameras'];}['setCameras'](_0x1cd7db){this['cameras']=_0x1cd7db;}['getLights'](){return this['lights'];}['setLights'](_0x459cbb){this['lights']=_0x459cbb;}['getMateria'+'ls'](){const _0x44b369=[];for(let _0x3e5067=0x5d5*-0x2+0xa5e+0x14c;_0x3e5067<this['meshInstan'+'ces']['length'];_0x3e5067++){const _0x4590d2=this['meshInstan'+'ces'][_0x3e5067];_0x44b369['indexOf'](_0x4590d2['material'])===-(-0x121d+-0x3c4*-0x2+0x54b*0x2)&&_0x44b369['push'](_0x4590d2['material']);}return _0x44b369;}['clone'](){const _0x1efd61=[],_0x217d5e=[],_0x54f779=function(_0x3e863a){const _0x3b3e85=_0x3e863a['clone']();_0x1efd61['push'](_0x3e863a),_0x217d5e['push'](_0x3b3e85);for(let _0x47d626=-0x1f*0x137+-0x1*0x2381+0x492a;_0x47d626<_0x3e863a['_children']['length'];_0x47d626++)_0x3b3e85['addChild'](_0x54f779(_0x3e863a['_children'][_0x47d626]));return _0x3b3e85;},_0x5eac23=_0x54f779(this['graph']),_0x3fcbbb=[],_0x5ccdfa=[],_0x1dc630=[];for(let _0x3e5e4b=0x2*0xc6a+0x191a+-0x31ee;_0x3e5e4b<this['skinInstan'+'ces']['length'];_0x3e5e4b++){const _0x1a2ca7=this['skinInstan'+'ces'][_0x3e5e4b]['skin'],_0x26c4c4=new hl(_0x1a2ca7),_0x219419=[];for(let _0x5bf987=-0x1*-0x12f6+-0x1c*-0x2+-0x132e;_0x5bf987<_0x1a2ca7['boneNames']['length'];_0x5bf987++){const _0x140b3c=_0x1a2ca7['boneNames'][_0x5bf987],_0x1154ce=_0x5eac23['findByName'](_0x140b3c);_0x219419['push'](_0x1154ce);}_0x26c4c4['bones']=_0x219419,_0x5ccdfa['push'](_0x26c4c4);}for(let _0x49cb68=0x91d*-0x1+0x4c4+0x459;_0x49cb68<this['morphInsta'+'nces']['length'];_0x49cb68++){const _0x288531=this['morphInsta'+'nces'][_0x49cb68]['morph'],_0x35192b=new mn(_0x288531);_0x1dc630['push'](_0x35192b);}for(let _0x4f4220=0x1946+0x43e+-0x1d84;_0x4f4220<this['meshInstan'+'ces']['length'];_0x4f4220++){const _0x4be496=this['meshInstan'+'ces'][_0x4f4220],_0x2132d7=_0x1efd61['indexOf'](_0x4be496['node']),_0x584536=new Be(_0x4be496['mesh'],_0x4be496['material'],_0x217d5e[_0x2132d7]);if(_0x4be496['skinInstan'+'ce']){const _0x2ff8d1=this['skinInstan'+'ces']['indexOf'](_0x4be496['skinInstan'+'ce']);_0x584536['skinInstan'+'ce']=_0x5ccdfa[_0x2ff8d1];}if(_0x4be496['morphInsta'+'nce']){const _0x38a0e6=this['morphInsta'+'nces']['indexOf'](_0x4be496['morphInsta'+'nce']);_0x584536['morphInsta'+'nce']=_0x1dc630[_0x38a0e6];}_0x3fcbbb['push'](_0x584536);}const _0x15ee42=new Ui();return _0x15ee42['graph']=_0x5eac23,_0x15ee42['meshInstan'+'ces']=_0x3fcbbb,_0x15ee42['skinInstan'+'ces']=_0x5ccdfa,_0x15ee42['morphInsta'+'nces']=_0x1dc630,_0x15ee42['getGraph']()['syncHierar'+'chy'](),_0x15ee42;}['destroy'](){const _0x10387f=this['meshInstan'+'ces'];for(let _0x4bcd12=0x47b*0x3+0x2*0x493+0x1697*-0x1;_0x4bcd12<_0x10387f['length'];_0x4bcd12++)_0x10387f[_0x4bcd12]['destroy']();this['meshInstan'+'ces']['length']=0xb9*0x2f+-0x2098+-0x15f;}['generateWi'+'reframe'](){Be['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Lr);}}class k0 extends qc{constructor(_0xdcf1a2,_0x514c1e,{preferHighPrecision:_0x5b0583=!(-0x1fcf+-0x8d3+-0x1*-0x28a3)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(b['assert'](_0x514c1e,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x514c1e,this['preferHigh'+'Precision']=_0x5b0583,b['assert'](_0xdcf1a2['every'](_0x39e219=>!_0x39e219['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0xdcf1a2['slice']());const _0x3cadab=this['device'],_0x4f3677=_0x3cadab['textureHal'+'fFloatRend'+'erable']?it:void(0x1f46+0x107c+-0x2fc2),_0x1cb8a4=_0x3cadab['textureFlo'+'atRenderab'+'le']?et:void(-0x65+0x293*-0x3+0x81e);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x1cb8a4??_0x4f3677:_0x4f3677??_0x1cb8a4,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Rc,this['intRenderF'+'ormat']=sa(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Ac:it,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x502795=new A(),_0x4cd4f0=new A();for(let _0x30b24a=-0x1276*-0x1+-0x2*-0xb47+0xfa*-0x2a;_0x30b24a<this['_targets']['length'];_0x30b24a++){const _0x419fd9=this['_targets'][_0x30b24a]['aabb'];_0x502795['min'](_0x419fd9['getMin']()),_0x4cd4f0['max'](_0x419fd9['getMax']());}this['_aabb']=new ve(),this['_aabb']['setMinMax'](_0x502795,_0x4cd4f0);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x2d75c2=-0x2*-0x1249+-0x1*-0xc85+-0x3117;_0x2d75c2<this['_targets']['length'];_0x2d75c2++)this['_targets'][_0x2d75c2]['_postInit']();}['_findSpars'+'eSet'](_0x298080,_0x3542e7,_0x44c4b3){let _0x434ab4=0x11e4+0x7fb+-0x19de;const _0x487b6d=_0x298080[0x631*-0x6+-0x4f*-0x1a+0x1d20]['length'];for(let _0x272246=-0x107*-0x24+0x1c34+-0x10*0x413;_0x272246<_0x487b6d;_0x272246+=-0x198+-0x1ca9+-0x2*-0xf22){let _0x2b7c91=!(-0x84a+-0x1f3d+0x2788);for(let _0x2a39c2=-0x254b+-0x6d*0x7+0xa*0x407;_0x2a39c2<_0x298080['length'];_0x2a39c2++){const _0x3057c1=_0x298080[_0x2a39c2];if(_0x3057c1[_0x272246]!==0x269e+-0xdd1+-0x18cd||_0x3057c1[_0x272246+(0x1*0x26bf+0x43b+-0x2af9)]!==0x868+-0x63f+-0x229||_0x3057c1[_0x272246+(-0xd0a*0x1+0x162b+-0x91f)]!==0x1ad8*-0x1+-0x2374+0x3e4c){_0x2b7c91=!(-0xb5*0x14+-0x17*0x38+0x132c);break;}}_0x2b7c91?(_0x3542e7['push'](_0x434ab4),_0x44c4b3['push'](_0x272246/(0x3*0x5cb+-0x16ed*-0x1+0x284b*-0x1)),_0x434ab4++):_0x3542e7['push'](-0x22a8+0x1*0x1129+-0x1*-0x117f);}return _0x434ab4;}['_initTextu'+'reBased'](){const _0x306ff7=[],_0x5a4d43=[];for(let _0x1689e6=0x174b+0xee4+-0x262f;_0x1689e6<this['_targets']['length'];_0x1689e6++){const _0x51725c=this['_targets'][_0x1689e6];_0x51725c['options']['deltaPosit'+'ions']&&(_0x306ff7['push'](_0x51725c['options']['deltaPosit'+'ions']),_0x5a4d43['push']({'target':_0x51725c,'name':'texturePos'+'itions'})),_0x51725c['options']['deltaNorma'+'ls']&&(_0x306ff7['push'](_0x51725c['options']['deltaNorma'+'ls']),_0x5a4d43['push']({'target':_0x51725c,'name':'textureNor'+'mals'}));}const _0x4bfcab=[],_0x22ff88=[],_0xacf723=this['_findSpars'+'eSet'](_0x306ff7,_0x4bfcab,_0x22ff88),_0x51e911=this['device']['maxTexture'+'Size'];let _0x1194f3=Math['ceil'](Math['sqrt'](_0xacf723));_0x1194f3=Math['min'](_0x1194f3,_0x51e911);const _0x2906ac=Math['ceil'](_0xacf723/_0x1194f3);if(_0x2906ac>_0x51e911)return!(0xe20+-0x9a6+-0x479);this['morphTextu'+'reWidth']=_0x1194f3,this['morphTextu'+'reHeight']=_0x2906ac;let _0x454aa1=!(-0x16*-0x2b+0x1c*-0x39+-0x1*-0x28b),_0x5048a7=0x3*-0xb65+-0x2*-0x4e9+0x1860;const _0x510c8b=Bt['float2Half'];this['_textureFo'+'rmat']===it&&(_0x454aa1=!(0x1a05*0x1+0x1*-0x24d3+0xace),_0x5048a7=0xe4e+0x591+-0x11*0x12b);const _0xfc4f0d=[];for(let _0x166330=-0x8cf+-0x1fab+0x3*0xd7e;_0x166330<_0x306ff7['length'];_0x166330++)_0xfc4f0d['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x4eac41=-0x620+0x1976+-0x1356;_0x4eac41<_0x306ff7['length'];_0x4eac41++){const _0x36e663=_0x306ff7[_0x4eac41],_0x4eb898=_0xfc4f0d[_0x4eac41],_0x30a077=_0x4eb898['lock']();if(_0x454aa1)for(let _0x334989=0x1d68+-0xc61+-0x1107;_0x334989<_0x22ff88['length'];_0x334989++){const _0x5f3f5c=_0x22ff88[_0x334989]*(0x15e6+-0x1ca3+0x360*0x2),_0x13585e=_0x334989*_0x5048a7+_0x5048a7;_0x30a077[_0x13585e]=_0x510c8b(_0x36e663[_0x5f3f5c]),_0x30a077[_0x13585e+(0x1*-0x1dbd+-0xbdf+0x299d)]=_0x510c8b(_0x36e663[_0x5f3f5c+(0x3*0xa8+0x2*0x1c3+-0x57d*0x1)]),_0x30a077[_0x13585e+(0x2674+-0x107d+-0x15f5)]=_0x510c8b(_0x36e663[_0x5f3f5c+(-0x7*-0x58d+0xae9+-0x31c2)]);}else for(let _0x4797db=0xf2*0xe+-0xd*-0x37+-0x1007;_0x4797db<_0x22ff88['length'];_0x4797db++){const _0x39e5b3=_0x22ff88[_0x4797db]*(-0x211+-0x1997*-0x1+-0x1cf*0xd),_0x2b920b=_0x4797db*_0x5048a7+_0x5048a7;_0x30a077[_0x2b920b]=_0x36e663[_0x39e5b3],_0x30a077[_0x2b920b+(0x1d*0x13d+-0x43a*0x5+-0xec6)]=_0x36e663[_0x39e5b3+(0xef*-0x1d+-0x5*-0x6c4+-0x6c0)],_0x30a077[_0x2b920b+(0x689+0x23d5+-0x2a5c)]=_0x36e663[_0x39e5b3+(0x426+-0x1895+-0x1*-0x1471)];}_0x4eb898['unlock'](),_0x5a4d43[_0x4eac41]['target']['_setTextur'+'e'](_0x5a4d43[_0x4eac41]['name'],_0x4eb898);}const _0x38da38=[{'semantic':va,'components':0x1,'type':Oo,'asInt':!(0x1d*-0x95+-0x3f*-0x53+0xe3*-0x4)}];return this['vertexBuff'+'erIds']=new fs(this['device'],new Dt(this['device'],_0x38da38,_0x4bfcab['length']),_0x4bfcab['length'],{'data':new Uint32Array(_0x4bfcab)}),!(0x79*0x43+0x259*-0xe+0x133);}['destroy'](){var _0x45958d;(_0x45958d=this['vertexBuff'+'erIds'])==null||_0x45958d['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x31da14=0x6*0x537+0x1*-0x11ed+0xd5d*-0x1;_0x31da14<this['_targets']['length'];_0x31da14++)this['_targets'][_0x31da14]['destroy']();this['_targets']['length']=0x1d18+0x1329+-0x3041;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0x3e*-0x53+0x1*0xe83+-0x8a7*0x4),this['_morphNorm'+'als']=!(0x2472+0x13a4+-0x3815);for(let _0x1401d6=0x2*-0x90e+0x1427+-0x20b;_0x1401d6<this['_targets']['length'];_0x1401d6++){const _0x58503c=this['_targets'][_0x1401d6];_0x58503c['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(0x224c+-0x1*-0xfc3+-0x320f)),_0x58503c['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(0x1536+0x3*0x213+-0x925*0x3));}}['_createTex'+'ture'](_0x4ef384,_0x5dfe26){return new ce(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x5dfe26,'cubemap':!(-0x955*-0x2+0xeaa+0x1*-0x2153),'mipmaps':!(0x1348+-0xebe+-0x489),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe,'name':_0x4ef384});}}class sd{constructor(_0x4fab73){c(this,'used',!(-0x1ce2*0x1+-0x961*-0x1+0x1382)),(b['assert'](arguments['length']===0x1e6a+-0x52*0x3d+-0xadf),this['options']=_0x4fab73,this['_name']=_0x4fab73['name'],this['_defaultWe'+'ight']=_0x4fab73['defaultWei'+'ght']||-0x13ca+-0x3f6+-0x1*-0x17c0,this['_aabb']=_0x4fab73['aabb'],this['deltaPosit'+'ions']=_0x4fab73['deltaPosit'+'ions']);}['destroy'](){var _0x33739d,_0x5cd46d;(_0x33739d=this['texturePos'+'itions'])==null||_0x33739d['destroy'](),this['texturePos'+'itions']=null,(_0x5cd46d=this['textureNor'+'mals'])==null||_0x5cd46d['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new ve(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return b['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new sd(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0x1*-0x1d5b+0x1d3d*0x1+0x7d*-0x78);}['_setTextur'+'e'](_0x161f6d,_0x358f69){this[_0x161f6d]=_0x358f69;}}let oi,b_=0x2099+0xb*-0x2c+-0x1eb4;const re=-0x20f5+0x2*0x625+0x423*0x5,$d=new q(),qd=new q(),Vs=new A(),He=new A(),Ss=new A(),Dn=new A(),qt=new A(),tt=new A(),Ln=new A(),Fn=new A(),eo=new A(),w_=new A(),Ct=new A(),Gl=new A(),Tr=new A();function na(_0x95ec45){return _0x95ec45-Math['floor'](_0x95ec45);}function ZM(_0x19cfad){return Math['max'](Math['min'](_0x19cfad,-0x194f+0x1*0x2f6+0x165a),-0x1fcb+-0x10*0x163+0x35fb*0x1);}function Xd(_0x1fcac3,_0x1eb2dc){return _0x1fcac3-_0x1eb2dc*Math['floor'](_0x1fcac3/_0x1eb2dc);}function QM(_0x12022e){let _0x214aa9=na(_0x12022e),_0x4b1fcd=na((-0x11d7*-0x1+-0x1*-0x2309+0x2bb*-0x13)*_0x12022e),_0x2ed15f=na((-0x820b+0x3*0x6505+-0x1*-0x50fd)*_0x12022e),_0x17ba3f=na((-0x10c7b3a*0xa+-0xf553*-0x9de+-0xe9*-0xba661)*_0x12022e);return _0x214aa9-=_0x4b1fcd/(0x1975+-0xf4a*-0x1+-0x30*0xd4),_0x4b1fcd-=_0x2ed15f/(-0x1119+-0x19e+0x13b6),_0x2ed15f-=_0x17ba3f/(0x117d+0x91b*0x3+-0x2bcf*0x1),_0x17ba3f-=_0x17ba3f/(0x23d7+0x1a2d+-0x3d05),[_0x214aa9,_0x4b1fcd,_0x2ed15f,_0x17ba3f];}function Hl(_0x18e050){let _0x38589b=na(_0x18e050),_0x18f242=na((0x2435*-0x1+-0x1*-0xf6a+0x15ca)*_0x18e050);return _0x38589b-=_0x18f242/(0xf84+0x2505+0x338a*-0x1),_0x18f242-=_0x18f242/(0x1615+0x1*-0x182d+-0x7*-0x71),[_0x38589b,_0x18f242];}class JM{constructor(_0x468d90){this['_emitter']=_0x468d90;}['calcSpawnP'+'osition'](_0x2331b5,_0x1b14ca,_0x4a1bc1,_0x2da305,_0xc397a7){const _0xf0030f=this['_emitter'],_0x16d284=Math['random'](),_0x91322a=Math['random'](),_0x1fd91a=Math['random'](),_0x1633a1=Math['random']();if(_0xf0030f['useCpu']&&(_0x2331b5[_0xc397a7*re+(0x6*-0xe8+-0xa4*0x39+0x29f4)+_0xf0030f['numParticl'+'esPot']*(0x161*0x17+-0x1*0x1ae7+0x1*-0x4ce)*re]=_0x16d284,_0x2331b5[_0xc397a7*re+(0x1f5b+-0x20b*0x1+-0x1*0x1d4f)+_0xf0030f['numParticl'+'esPot']*(-0x1*-0x229b+0xd92+0xb*-0x461)*re]=_0x91322a,_0x2331b5[_0xc397a7*re+(0x1c16+0x6d9*-0x2+-0xe62)+_0xf0030f['numParticl'+'esPot']*(-0x653*-0x1+-0x16de*0x1+0x108d)*re]=_0x1fd91a),He['x']=_0x16d284-(0x15ad+0x15e8+-0x2b95+0.5),He['y']=_0x91322a-(0x1bad*-0x1+-0x1b5b+-0x6*-0x92c+0.5),He['z']=_0x1fd91a-(-0x223d+-0x1a*0x13a+0x13*0x37b+0.5),_0xf0030f['emitterSha'+'pe']===qs){const _0x44b638=Math['max'](Math['abs'](He['x']),Math['max'](Math['abs'](He['y']),Math['abs'](He['z']))),_0x5d73a0=_0x44b638+(-0x1*0x233f+-0x1369*-0x2+0x131*-0x3+0.5-_0x44b638)*_0x4a1bc1[0x2443+-0x2261+0x1e2*-0x1],_0x249ff7=_0x44b638+(-0x21f9+0x2610+-0x417+0.5-_0x44b638)*_0x4a1bc1[-0x10eb*0x2+0x1e7*-0xc+0x38ab],_0x457dc1=_0x44b638+(0x6d3+-0x239d+0x1cca+0.5-_0x44b638)*_0x4a1bc1[0x1*0x20f8+-0x1a80+-0x33b*0x2];He['x']=_0x5d73a0*(_0x44b638===Math['abs'](He['x'])?Math['sign'](He['x']):(0x17*0xfe+-0x5a*-0x31+-0x280a)*He['x']),He['y']=_0x249ff7*(_0x44b638===Math['abs'](He['y'])?Math['sign'](He['y']):(0xcd*0x25+-0x1cb7*0x1+0x74*-0x2)*He['y']),He['z']=_0x457dc1*(_0x44b638===Math['abs'](He['z'])?Math['sign'](He['z']):(0x2683+0xe78+-0x34f9)*He['z']),_0xf0030f['localSpace']?Vs['copy'](_0x1b14ca['transformP'+'oint'](He)):Vs['copy'](_0x2da305)['add'](_0x1b14ca['transformP'+'oint'](He));}else{He['normalize']();const _0x2053b4=_0xf0030f['emitterRad'+'ius']===-0x531*-0x5+0x1cd0+-0x36c5?-0x24b1+0x1d90+0x721:_0xf0030f['emitterRad'+'iusInner']/_0xf0030f['emitterRad'+'ius'],_0x2a62e8=_0x1633a1*(0x107+-0x4*-0x6eb+-0x1cb2-_0x2053b4)+_0x2053b4;_0xf0030f['localSpace']?Vs['copy'](He['mulScalar'](_0x2a62e8*_0xf0030f['emitterRad'+'ius'])):Vs['copy'](_0x2da305)['add'](He['mulScalar'](_0x2a62e8*_0xf0030f['emitterRad'+'ius']));}let _0x41f39f=-z['lerp'](_0xf0030f['rate'],_0xf0030f['rate2'],_0x16d284)*_0xc397a7;if(_0xf0030f['pack8']){const _0x45d8e9=(Vs['x']-_0xf0030f['worldBound'+'s']['center']['x'])/_0xf0030f['worldBound'+'sSize']['x']+(-0x2327+-0x2*0x12b1+-0x1*-0x4889+0.5),_0xe8382a=(Vs['y']-_0xf0030f['worldBound'+'s']['center']['y'])/_0xf0030f['worldBound'+'sSize']['y']+(-0x904+-0x110b*-0x1+-0x3*0x2ad+0.5),_0x5e7e59=(Vs['z']-_0xf0030f['worldBound'+'s']['center']['z'])/_0xf0030f['worldBound'+'sSize']['z']+(-0xd*0x2aa+0x718+0x1b8a+0.5);let _0x52e801=z['lerp'](_0xf0030f['startAngle']*z['DEG_TO_RAD'],_0xf0030f['startAngle'+'2']*z['DEG_TO_RAD'],_0x16d284);_0x52e801=_0x52e801%(Math['PI']*(-0x16b*0x15+0xe2*-0x2+0x1f8d))/(Math['PI']*(0x13c6+-0x2a2*-0x7+-0x2632));const _0x44dc84=Hl(_0x45d8e9);_0x2331b5[_0xc397a7*re]=_0x44dc84[-0x15fc+-0x24d*0xb+-0x2f4b*-0x1],_0x2331b5[_0xc397a7*re+(0x1f42+-0x1d0b+-0x236)]=_0x44dc84[-0xd*0x29f+0xb*-0x31c+0x1*0x4448];const _0x1ac6a0=Hl(_0xe8382a);_0x2331b5[_0xc397a7*re+(0x1a14+0xdee+-0x2800)]=_0x1ac6a0[0x3ad*-0x1+-0x1ff4+0x517*0x7],_0x2331b5[_0xc397a7*re+(-0x25fa+-0x31+0x262e)]=_0x1ac6a0[0x1152*-0x1+0xc75+-0x59*-0xe];const _0x952d9a=Hl(_0x5e7e59);_0x2331b5[_0xc397a7*re+(-0x614+0xf2b*-0x2+0x246a)+_0xf0030f['numParticl'+'esPot']*re]=_0x952d9a[-0x1c7b+0xf19+-0x6*-0x23b],_0x2331b5[_0xc397a7*re+(-0x2f6*0x4+0x139f*-0x1+0x1a8*0x13)+_0xf0030f['numParticl'+'esPot']*re]=_0x952d9a[-0x1*-0x1f51+-0x2*0x250+-0x1ab0];const _0x3d209a=Hl(_0x52e801);_0x2331b5[_0xc397a7*re+(0xbd8+0x7*-0x53f+0x18e3)+_0xf0030f['numParticl'+'esPot']*re]=_0x3d209a[0x1*-0xdf3+0x1cb5+0x2*-0x761],_0x2331b5[_0xc397a7*re+(-0x19f8+-0xdfc+0x27f7)+_0xf0030f['numParticl'+'esPot']*re]=_0x3d209a[-0xad*0x2b+-0xfe7+0x2cf7];const _0x5bd14e=-0x8a6+0x197a*0x1+-0x10d3;_0x2331b5[_0xc397a7*re+(0x2*0xc0b+-0x1*-0x2c+-0x3*0x815)+_0xf0030f['numParticl'+'esPot']*re*(-0x9*0x13+0x16e6+0x1*-0x1639)]=_0x5bd14e;const _0x18155f=Math['max'](_0xf0030f['lifetime'],(_0xf0030f['numParticl'+'es']-(0x1757+0xee9+-0x263f))*Math['max'](_0xf0030f['rate'],_0xf0030f['rate2'])),_0x3e9fcd=_0xf0030f['lifetime']+(-0x250b+-0xb27+0x3033);_0x41f39f=(_0x41f39f+_0x18155f)/(_0x18155f+_0x3e9fcd);const _0x82908c=QM(_0x41f39f);_0x2331b5[_0xc397a7*re+(-0x5ab*0x5+-0x318+0x1f6f)+_0xf0030f['numParticl'+'esPot']*re*(0x1f6d*-0x1+0x1b*0x89+0x10fd)]=_0x82908c[0x1ddd+-0x2*0xad9+-0x82b*0x1],_0x2331b5[_0xc397a7*re+(0x17c6+0x993+-0x2158)+_0xf0030f['numParticl'+'esPot']*re*(0x728+-0x1f4a+0x1825)]=_0x82908c[0x124d+0x1*0x8bd+-0x1b09],_0x2331b5[_0xc397a7*re+(0x24cb+0x5*-0x3f1+0x2*-0x88a)+_0xf0030f['numParticl'+'esPot']*re*(-0x8ab*0x1+0x1455+0x13*-0x9d)]=_0x82908c[0x1fd7+-0x2361*-0x1+-0x219b*0x2],_0x2331b5[_0xc397a7*re+(-0x1d9f*0x1+-0x182+0x1f24)+_0xf0030f['numParticl'+'esPot']*re*(0x6f*-0x3d+0x495+0x15e1)]=_0x82908c[-0x227f+-0x2*-0xae5+-0x8*-0x197];}else _0x2331b5[_0xc397a7*re]=Vs['x'],_0x2331b5[_0xc397a7*re+(0x3f4+-0x2590+-0x1*-0x219d)]=Vs['y'],_0x2331b5[_0xc397a7*re+(-0x1*0xbd1+0xf7f+-0x3ac)]=Vs['z'],_0x2331b5[_0xc397a7*re+(0x26b1+-0x15de+-0x10d0)]=z['lerp'](_0xf0030f['startAngle']*z['DEG_TO_RAD'],_0xf0030f['startAngle'+'2']*z['DEG_TO_RAD'],_0x16d284),_0x2331b5[_0xc397a7*re+(0x1a6+-0x21b8+0x2015)+_0xf0030f['numParticl'+'esPot']*re]=_0x41f39f;}['update'](_0x1b60a3,_0x1e0887,_0x49564e,_0x407552,_0x63aee3,_0x30ff44,_0x38a4b9,_0xc408e1){let _0x498468,_0x2585eb,_0x22e53a;const _0x1a76ba=this['_emitter'];if(_0x1a76ba['meshInstan'+'ce']['node']){const _0x111e66=_0x1a76ba['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x4924fe=0x15c5*-0x1+0x19fe+0x439*-0x1;_0x4924fe<0x37*0xa1+-0xee0+0x5*-0x3ef;_0x4924fe++)$d['data'][_0x4924fe]=_0x111e66['data'][_0x4924fe];qd['copy']($d),qd['invert'](),oi=_0x1a76ba['meshInstan'+'ce']['node']['localScale'],b_=Math['max'](Math['max'](oi['x'],oi['y']),oi['z']);}_0x30ff44=_0x1a76ba['meshInstan'+'ce']['node']===null||_0x1a76ba['localSpace']?A['ZERO']:_0x1a76ba['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x30e12f=_0x1a76ba['camera']?_0x1a76ba['camera']['_node']['getPositio'+'n']():A['ZERO'],_0x4c3078=_0x1a76ba['useMesh']?0x1*-0xa21+-0x24d+0xc7f:-0x1*-0xa67+-0xdd5+0x37d;let _0x4ce3db,_0x2ab59d,_0x1fb292,_0x5681c2,_0x25ce8c,_0x5a4322,_0x5732ec,_0x55c0c8,_0x506e18;const _0x3bc139=_0x1a76ba['precision']-(-0x22*0xd3+-0x35f*0xb+0x411c);for(let _0x4b155f=-0x11f+0x864*0x1+0x1*-0x745;_0x4b155f<_0x1a76ba['numParticl'+'es'];_0x4b155f++){const _0x312b2c=Math['floor'](_0x1a76ba['vbCPU'][_0x4b155f*_0x1a76ba['numParticl'+'eVerts']*(_0x1a76ba['useMesh']?0x101e*0x1+0x335*0x1+-0x134d:-0x1a4d+-0x1*-0x20e1+-0xd2*0x8)+(0x1c58+-0x4c+-0x1c09*0x1)]),_0x109ec0=_0x49564e[_0x312b2c*re+(0x4bd*0x7+0x46+-0x2171)+_0x1a76ba['numParticl'+'esPot']*(0x25*-0x49+-0xc*0x2dc+0x2cdf)*re];Ss['x']=_0x109ec0,Ss['y']=_0x49564e[_0x312b2c*re+(-0x414+-0x19fc+0x1e11)+_0x1a76ba['numParticl'+'esPot']*(-0x24e7+0x1c02+0x8e7*0x1)*re],Ss['z']=_0x49564e[_0x312b2c*re+(-0x1114+-0x1*0x2637+0x374d)+_0x1a76ba['numParticl'+'esPot']*(-0x2589+0x1*-0x2020+0x45ab)*re];const _0x3c3cb0=_0x1a76ba['rate']+(_0x1a76ba['rate2']-_0x1a76ba['rate'])*_0x109ec0,_0x1c8ed4=_0x1a76ba['lifetime'];let _0x3d09f8=_0x49564e[_0x312b2c*re+(0x13f4+-0x1014+0x2b*-0x17)+_0x1a76ba['numParticl'+'esPot']*re]+_0x38a4b9;const _0xcd1172=ZM(_0x3d09f8/_0x1c8ed4);let _0x462391=-0x7*0x446+0x124*0x11+0x3*0x382,_0x709de5=-0x12*0x14+0xbe3+-0xa7b*0x1;const _0x125e3c=-0x479+-0x63*-0x4d+-0xca7*0x2;(_0x3d09f8-_0x38a4b9<=0xfe7+0x1a8a+-0x2a71*0x1||_0x3d09f8>=_0x1c8ed4)&&this['calcSpawnP'+'osition'](_0x49564e,_0x407552,_0x63aee3,_0x30ff44,_0x312b2c);let _0x47f165=_0x3d09f8>-0x946*-0x4+-0x1*-0x21fa+-0x4712&&_0x3d09f8<_0x1c8ed4;_0x47f165&&(_0x22e53a=_0xcd1172*_0x3bc139,_0x4ce3db=Math['floor'](_0x22e53a),_0x2ab59d=Math['ceil'](_0x22e53a),_0x22e53a%=-0x1dbb+-0x9*-0x1cf+0xd75,_0x498468=_0x1a76ba['qRotSpeed'][_0x4ce3db],_0x2585eb=_0x1a76ba['qRotSpeed'][_0x2ab59d],_0x1fb292=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qRotSpeed2'][_0x4ce3db],_0x2585eb=_0x1a76ba['qRotSpeed2'][_0x2ab59d],_0x5681c2=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qScale'][_0x4ce3db],_0x2585eb=_0x1a76ba['qScale'][_0x2ab59d],_0x462391=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qScale2'][_0x4ce3db],_0x2585eb=_0x1a76ba['qScale2'][_0x2ab59d],_0x25ce8c=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qAlpha'][_0x4ce3db],_0x2585eb=_0x1a76ba['qAlpha'][_0x2ab59d],_0x5a4322=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qAlpha2'][_0x4ce3db],_0x2585eb=_0x1a76ba['qAlpha2'][_0x2ab59d],_0x5732ec=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qRadialSpe'+'ed'][_0x4ce3db],_0x2585eb=_0x1a76ba['qRadialSpe'+'ed'][_0x2ab59d],_0x55c0c8=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qRadialSpe'+'ed2'][_0x4ce3db],_0x2585eb=_0x1a76ba['qRadialSpe'+'ed2'][_0x2ab59d],_0x506e18=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x55c0c8+=(_0x506e18-_0x55c0c8)*(_0x109ec0*(0x18f9+-0x4a*0x41+-0x5cb)%(0x2a5*-0x5+0x1c4*-0x4+0x144a)),Dn['x']=_0x49564e[_0x312b2c*re],Dn['y']=_0x49564e[_0x312b2c*re+(0x1*0xf47+-0x2f4+0x629*-0x2)],Dn['z']=_0x49564e[_0x312b2c*re+(-0x2c5*-0x3+-0x211f+-0x18d2*-0x1)],_0x1a76ba['localSpace']?eo['copy'](Dn):eo['copy'](Dn)['sub'](_0x30ff44),eo['normalize']()['mulScalar'](_0x55c0c8),_0x4ce3db*=0x18bc+-0x2*0x4fc+-0xec1,_0x2ab59d*=0x1543+0x1357*-0x1+-0x1e9,_0x498468=_0x1a76ba['qLocalVelo'+'city'][_0x4ce3db],_0x2585eb=_0x1a76ba['qLocalVelo'+'city'][_0x2ab59d],tt['x']=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qLocalVelo'+'city'][_0x4ce3db+(-0x1ad3+-0xf9+0x1bcd)],_0x2585eb=_0x1a76ba['qLocalVelo'+'city'][_0x2ab59d+(-0x1*-0x78d+-0x236f+0x1be3)],tt['y']=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qLocalVelo'+'city'][_0x4ce3db+(0x9fb+0x1*-0x2183+0x178a)],_0x2585eb=_0x1a76ba['qLocalVelo'+'city'][_0x2ab59d+(-0x2400+-0x1d08+-0x32*-0x14d)],tt['z']=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qLocalVelo'+'city2'][_0x4ce3db],_0x2585eb=_0x1a76ba['qLocalVelo'+'city2'][_0x2ab59d],Fn['x']=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qLocalVelo'+'city2'][_0x4ce3db+(-0x1abc+-0x1*0x18b9+0x3376)],_0x2585eb=_0x1a76ba['qLocalVelo'+'city2'][_0x2ab59d+(-0xca5+0xd*-0xb5+0x1*0x15d7)],Fn['y']=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qLocalVelo'+'city2'][_0x4ce3db+(0x1c14+0x1705+-0x3317)],_0x2585eb=_0x1a76ba['qLocalVelo'+'city2'][_0x2ab59d+(0x1b71+0x13*0x10d+-0x2f66)],Fn['z']=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qVelocity'][_0x4ce3db],_0x2585eb=_0x1a76ba['qVelocity'][_0x2ab59d],qt['x']=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qVelocity'][_0x4ce3db+(-0x1b7*-0x16+0x3*0x30a+-0x23b*0x15)],_0x2585eb=_0x1a76ba['qVelocity'][_0x2ab59d+(-0x18c1*-0x1+0x1*0x1df9+0x36b9*-0x1)],qt['y']=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qVelocity'][_0x4ce3db+(0x151*0xb+0x1e7*0xb+-0x2366)],_0x2585eb=_0x1a76ba['qVelocity'][_0x2ab59d+(-0x40c+0x7e+0x390)],qt['z']=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qVelocity2'][_0x4ce3db],_0x2585eb=_0x1a76ba['qVelocity2'][_0x2ab59d],Ln['x']=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qVelocity2'][_0x4ce3db+(0x15*-0xce+-0x7b1+0x1*0x1898)],_0x2585eb=_0x1a76ba['qVelocity2'][_0x2ab59d+(-0x1f*-0x117+-0x35*0x20+-0x1b28)],Ln['y']=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,_0x498468=_0x1a76ba['qVelocity2'][_0x4ce3db+(-0x1a61+-0x1*-0xf93+0xad0)],_0x2585eb=_0x1a76ba['qVelocity2'][_0x2ab59d+(-0x1*-0x170+-0x2503+0x2395)],Ln['z']=_0x498468+(_0x2585eb-_0x498468)*_0x22e53a,tt['x']+=(Fn['x']-tt['x'])*Ss['x'],tt['y']+=(Fn['y']-tt['y'])*Ss['y'],tt['z']+=(Fn['z']-tt['z'])*Ss['z'],_0x1a76ba['initialVel'+'ocity']>0x190a*0x1+-0xd1d*-0x1+0x1*-0x2627&&(_0x1a76ba['emitterSha'+'pe']===qb?(He['copy'](Ss)['mulScalar'](0xc0*0xe+-0x119e+0x720)['sub'](A['ONE'])['normalize'](),tt['add'](He['mulScalar'](_0x1a76ba['initialVel'+'ocity']))):tt['add'](A['FORWARD']['mulScalar'](_0x1a76ba['initialVel'+'ocity']))),qt['x']+=(Ln['x']-qt['x'])*Ss['x'],qt['y']+=(Ln['y']-qt['y'])*Ss['y'],qt['z']+=(Ln['z']-qt['z'])*Ss['z'],_0x1fb292+=(_0x5681c2-_0x1fb292)*Ss['y'],_0x462391=(_0x462391+(_0x25ce8c-_0x462391)*(_0x109ec0*(-0x2f11+0x3d41+0x8*0x31c)%(0x354+-0x531*-0x2+-0xdb5)))*b_,_0x709de5=(_0x5732ec-_0x5a4322)*(_0x109ec0*(-0xe1d*0x1+-0x3*-0x392+0x74f)%(-0x6*0x468+0x1*-0xd3b+0x27ac)),_0x1a76ba['meshInstan'+'ce']['node']&&(_0x1a76ba['localSpace']?(tt['x']/=oi['x'],tt['y']/=oi['y'],tt['z']/=oi['z']):$d['transformP'+'oint'](tt,tt)),_0x1a76ba['localSpace']?(qd['transformP'+'oint'](qt,qt),tt['add'](qt)['add'](eo)):(tt['add'](qt['mul'](oi)),tt['add'](eo['mul'](oi))),Gl['copy'](tt),w_['copy'](Dn)['add'](tt['mulScalar'](_0x38a4b9)),Ct['copy'](w_),_0x49564e[_0x312b2c*re]=Ct['x'],_0x49564e[_0x312b2c*re+(-0x1f6b+0x3*0xda+-0x1cde*-0x1)]=Ct['y'],_0x49564e[_0x312b2c*re+(0x2c2*0x5+-0x83*0x3+-0xc3f)]=Ct['z'],_0x49564e[_0x312b2c*re+(-0x324+0x1*0x1633+-0x130c)]+=_0x1fb292*_0x38a4b9,_0x1a76ba['wrap']&&_0x1a76ba['wrapBounds']&&(_0x1a76ba['localSpace']||Ct['sub'](_0x30ff44),Ct['x']=Xd(Ct['x'],_0x1a76ba['wrapBounds']['x'])-_0x1a76ba['wrapBounds']['x']*(-0x1*0x2402+0x2*0x67+0x2334*0x1+0.5),Ct['y']=Xd(Ct['y'],_0x1a76ba['wrapBounds']['y'])-_0x1a76ba['wrapBounds']['y']*(0x1b59*-0x1+0x1*-0xb49+0x1ae*0x17+0.5),Ct['z']=Xd(Ct['z'],_0x1a76ba['wrapBounds']['z'])-_0x1a76ba['wrapBounds']['z']*(0x575*-0x4+0x5cd+-0xb*-0x175+0.5),_0x1a76ba['localSpace']||Ct['add'](_0x30ff44)),_0x1a76ba['sort']>-0x579+0x236a+0x49*-0x69&&(_0x1a76ba['sort']===0xcbb*0x3+-0xd7c+-0x18b4?(Tr['copy'](Ct)['sub'](_0x30e12f),_0x1a76ba['particleDi'+'stance'][_0x312b2c]=-(Tr['x']*Tr['x']+Tr['y']*Tr['y']+Tr['z']*Tr['z'])):_0x1a76ba['sort']===-0x1261+0x223+0x1040?_0x1a76ba['particleDi'+'stance'][_0x312b2c]=_0x3d09f8:_0x1a76ba['sort']===-0x25f7+0x4b*0x61+-0x98f*-0x1&&(_0x1a76ba['particleDi'+'stance'][_0x312b2c]=-_0x3d09f8))),_0xc408e1?_0x3d09f8<0xeba+0x9eb*0x3+-0x2c7b&&(_0x49564e[_0x312b2c*re+(0x22fc+-0x31*0x84+-0x9b5)+_0x1a76ba['numParticl'+'esPot']*(0x2*0xac2+-0x5*-0x68f+-0x364d)*re]=-(0x14*-0x17c+0x22bd+-0x50c)):(_0x3d09f8>=_0x1c8ed4&&(_0x3d09f8-=Math['max'](_0x1c8ed4,(_0x1a76ba['numParticl'+'es']-(-0x4a7+-0x79d+0x417*0x3))*_0x3c3cb0),_0x49564e[_0x312b2c*re+(0x2613+0xcbb*-0x1+-0x1955*0x1)+_0x1a76ba['numParticl'+'esPot']*(0x1*-0x22b3+0x2*0x11cc+-0xe3)*re]=_0x1a76ba['loop']?0x49*-0x27+0x18a8+0xd88*-0x1:-(0x20c4+0x1*-0x266f+0x16b*0x4)),_0x3d09f8<0x1*0x4b1+-0x88*-0x13+0x1*-0xec9&&_0x1a76ba['loop']&&(_0x49564e[_0x312b2c*re+(-0x26f4+0x1*-0x8b3+0x2faa)+_0x1a76ba['numParticl'+'esPot']*(-0x3a4+-0x3*0x133+0x73f)*re]=-0x1cc4+-0x15*0x1c1+0x419a)),_0x49564e[_0x312b2c*re+(0x2047+0x4*0x4e0+-0x33c4)+_0x1a76ba['numParticl'+'esPot']*(-0x25cb+-0x1*0x2291+0x9d*0x76)*re]<0x53+-0x1*-0x2195+-0x8*0x43d&&(_0x47f165=!(0xd3*0x1b+0x557*0x7+-0x3ba1)),_0x49564e[_0x312b2c*re+(-0x2b*0x1+-0x1*0x1003+0x1*0x1031)+_0x1a76ba['numParticl'+'esPot']*re]=_0x3d09f8;for(let _0xcab0dc=0x3*-0x5c8+0x7*0x2ed+-0x323;_0xcab0dc<_0x1a76ba['numParticl'+'eVerts'];_0xcab0dc++){const _0x536663=(_0x4b155f*_0x1a76ba['numParticl'+'eVerts']+_0xcab0dc)*(_0x1a76ba['useMesh']?0xb5d*-0x1+0x13ba+-0x857:-0x2215+0x23b*0xf+-0x1*-0xa4);let _0x4e9951=_0x1a76ba['vbCPU'][_0x536663],_0x364682=_0x1a76ba['vbCPU'][_0x536663+(-0x1*-0x404+-0x620*-0x2+-0x1*0x1043)],_0x50b277=_0x1a76ba['vbCPU'][_0x536663+(0x374+0x17e9+-0x1b5b)];_0x47f165||(_0x4e9951=_0x364682=_0x50b277=0x20*0x9b+-0xa*-0x2dd+-0x1*0x3002);const _0x894cb5=_0x4b155f*_0x1a76ba['numParticl'+'eVerts']*_0x4c3078+_0xcab0dc*_0x4c3078;_0x1b60a3[_0x894cb5]=Ct['x'],_0x1b60a3[_0x894cb5+(-0x18a*0x6+0xcd8+-0x39b)]=Ct['y'],_0x1b60a3[_0x894cb5+(-0x7*-0x2cd+0x623*0x1+0x225*-0xc)]=Ct['z'],_0x1b60a3[_0x894cb5+(-0x1e4e+-0x2f7+0x2148)]=_0xcd1172,_0x1b60a3[_0x894cb5+(-0x114d+-0x1657+0x48*0x8d)]=_0x1a76ba['alignToMot'+'ion']?_0x125e3c:_0x49564e[_0x312b2c*re+(0x15db+0x16e4+-0x2cbc)],_0x1b60a3[_0x894cb5+(-0x1fb9+-0x559*0x1+0x76b*0x5)]=_0x462391,_0x1b60a3[_0x894cb5+(-0x1*-0x94a+0x1c16+-0x255a)]=_0x709de5,_0x1b60a3[_0x894cb5+(0x249e+0x5c*0x2e+0x1*-0x351f)]=Gl['x'],_0x1b60a3[_0x894cb5+(-0x8d*-0x18+-0x48*-0x77+-0x2*0x1754)]=_0x4e9951,_0x1b60a3[_0x894cb5+(-0x4a7+0x1*0x1a15+-0x1565)]=_0x364682,_0x1b60a3[_0x894cb5+(-0x1d*0x139+0x1623+0x2*0x6ae)]=_0x50b277,_0x1b60a3[_0x894cb5+(0xf2c+0x71+-0xf92)]=Gl['y'],_0x1b60a3[_0x894cb5+(-0x1d66+-0x33+-0x1*-0x1da5)]=_0x312b2c,_0x1b60a3[_0x894cb5+(-0x13*0x71+0x1f85*0x1+0x13*-0x137)]=Gl['z'],_0x1b60a3[_0x894cb5+(-0x7fe+0x20df+-0x18d3)]=_0x1a76ba['vbCPU'][_0x536663+(-0x8e2*0x2+0x89c+-0x1*-0x92b)],_0x1a76ba['useMesh']&&(_0x1b60a3[_0x894cb5+(-0x52d+-0x2679+0x2bb5)]=_0x1a76ba['vbCPU'][_0x536663+(-0x2*-0x1a9+-0x1c50+-0x1902*-0x1)],_0x1b60a3[_0x894cb5+(-0x25d4+-0x427*0x3+0x3259)]=_0x1a76ba['vbCPU'][_0x536663+(-0x14ce+0x20c3+0x17e*-0x8)]);}}if(_0x1a76ba['sort']>Ou&&_0x1a76ba['camera']){const _0x32d483=_0x1a76ba['useMesh']?0x3*0x795+-0xae5+0x2f5*-0x4:0x389+0x2a3+-0x628,_0x4785fd=_0x1a76ba['particleDi'+'stance'];for(let _0x1d22f2=-0x1adc+0x15+0x1ac7*0x1;_0x1d22f2<_0x1a76ba['numParticl'+'es'];_0x1d22f2++)_0x1e0887[_0x1d22f2][-0x3e*0x38+-0x1af6+0x2886]=_0x1d22f2,_0x1e0887[_0x1d22f2][-0x23b+0x153f+-0x1303]=_0x4785fd[Math['floor'](_0x1a76ba['vbCPU'][_0x1d22f2*_0x1a76ba['numParticl'+'eVerts']*_0x32d483+(0xd00+0x1c21+-0x291e)])];_0x1a76ba['vbOld']['set'](_0x1a76ba['vbCPU']),_0x1e0887['sort']((_0x12488d,_0x4df2cb)=>_0x12488d[0x8cc+0x495+-0xd60]-_0x4df2cb[0x943*-0x3+0x1*-0xa7f+-0x1b*-0x16b]);for(let _0xfbab31=-0x31f*0x2+-0xddb*0x2+0x1*0x21f4;_0xfbab31<_0x1a76ba['numParticl'+'es'];_0xfbab31++){const _0x13f40c=_0x1e0887[_0xfbab31][0x19*-0x37+-0x4f6+-0xa55*-0x1]*_0x1a76ba['numParticl'+'eVerts']*_0x32d483,_0x4c5406=_0xfbab31*_0x1a76ba['numParticl'+'eVerts']*_0x32d483;for(let _0xb76b9c=-0x17f9+-0x257c+0x3d75;_0xb76b9c<_0x1a76ba['numParticl'+'eVerts']*_0x32d483;_0xb76b9c++)_0x1a76ba['vbCPU'][_0x4c5406+_0xb76b9c]=_0x1a76ba['vbOld'][_0x13f40c+_0xb76b9c];}}}}const T_=new Js(),A_=new Js(),E_=new Js();class e1{constructor(_0xf2dfb7,_0x29cb9d){this['_emitter']=_0xf2dfb7,this['frameRando'+'mUniform']=new Float32Array(-0xeb*-0x25+-0x23*-0x107+-0x1*0x45e9),this['emitterPos'+'Uniform']=new Float32Array(-0x1*-0x2+0x5*0x47a+-0x1661),this['emitterSca'+'leUniform']=new Float32Array([0x15dd+0xa6*0x1b+-0x275e,0x1*-0xb9c+0x4f*-0x2+0x65*0x1f,0x1111*0x1+0x2251+0x3361*-0x1]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x17f5+-0x3*-0x46+-0x18c4),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0xbd8+-0xe91+0x2bc),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x5*-0x61+-0x9*-0x32f+0x1e89*-0x1),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x8b*-0x47+-0x91*-0xb+-0x9d*0x49),this['constantPa'+'rticleTexI'+'N']=_0x29cb9d['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x29cb9d['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x29cb9d['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x29cb9d['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x29cb9d['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x29cb9d['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x29cb9d['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x29cb9d['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x29cb9d['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x29cb9d['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x29cb9d['scope']['resolve']('delta'),this['constantRa'+'te']=_0x29cb9d['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x29cb9d['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x29cb9d['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x29cb9d['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x29cb9d['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x29cb9d['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x29cb9d['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x29cb9d['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x29cb9d['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x29cb9d['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x29cb9d['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x29cb9d['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x29cb9d['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x29cb9d['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x29cb9d['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x29cb9d['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x29cb9d['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x29cb9d['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x29cb9d['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x29cb9d['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x29cb9d['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x29cb9d['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x29cb9d['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x29cb9d['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x29cb9d['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x29cb9d['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0xe5+0x64d+-0x568]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0xfb*0x25+0x14d8+0x985*-0x6]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x1e8a+0xa5+-0x17*0x15b]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x1295+-0x15a9+-0x66*-0x65]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x21a0*0x1+0x1d*-0xb6+-0x607*-0x9]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0x1476+0x1*0xfd9+0x49f]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][0x1*-0x1d41+0xe57+0xeea]=Math['random'](),this['frameRando'+'mUniform'][0x3*-0x7fa+-0x47*0x5+0x1952]=Math['random'](),this['frameRando'+'mUniform'][0x25c+0x219d+-0x23f7]=Math['random']();}['update'](_0x3bc922,_0x41e6b9,_0xd32985,_0x47373c,_0x845ba3){G['pushGpuMar'+'ker'](_0x3bc922,'ParticleGP'+'U');const _0x125ef7=this['_emitter'];_0x3bc922['setBlendSt'+'ate'](bt['NOBLEND']),_0x3bc922['setDepthSt'+'ate'](us['NODEPTH']),_0x3bc922['setCullMod'+'e'](vt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0x10dd+-0x1179+-0x1*-0x2257)/_0x125ef7['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x125ef7['precision']),this['constantNu'+'mParticles']['setValue'](_0x125ef7['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x125ef7['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x125ef7['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x125ef7['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x125ef7['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x125ef7['internalTe'+'x3']);const _0x54f273=_0x125ef7['meshInstan'+'ce']['node'],_0x3d4e4b=_0x54f273===null?A['ONE']:_0x54f273['localScale'];if(_0x125ef7['pack8']){this['worldBound'+'sMulUnifor'+'m'][0xb*0x5b+0x71a*0x3+0x1937*-0x1]=_0x125ef7['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][-0x23*0x97+0x12d3+0x1d3*0x1]=_0x125ef7['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0x2fa*-0x8+0x1283*0x1+-0x1*0x2a51]=_0x125ef7['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0x1c86+-0x6f0+-0x1596]=_0x125ef7['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][0xa7*-0x2e+0x993*0x3+0x1e*0xb]=_0x125ef7['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0xb5f+-0x1e*0x32+0x581*-0x1]=_0x125ef7['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x1afcb3=_0x125ef7['maxVel']*Math['max'](Math['max'](_0x3d4e4b['x'],_0x3d4e4b['y']),_0x3d4e4b['z']);_0x1afcb3=Math['max'](_0x1afcb3,-0x1d2e+0x22eb+-0x5bc),this['constantMa'+'xVel']['setValue'](_0x1afcb3);}const _0x114670=_0x54f273===null||_0x125ef7['localSpace']?A['ZERO']:_0x54f273['getPositio'+'n'](),_0x2e745b=_0x54f273===null?q['IDENTITY']:_0x54f273['getWorldTr'+'ansform']();_0x125ef7['emitterSha'+'pe']===qs?(T_['setFromMat'+'4'](_0x41e6b9),this['constantSp'+'awnBounds']['setValue'](T_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0xd32985)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x125ef7['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x125ef7['emitterRad'+'ius']===0x1*-0x7aa+-0x2412+0x2bbc?-0x1*0x263+-0x10a7+0x130a:_0x125ef7['emitterRad'+'iusInner']/_0x125ef7['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x125ef7['initialVel'+'ocity']),A_['setFromMat'+'4'](_0x2e745b),E_['invertMat4'](_0x2e745b),this['emitterPos'+'Uniform'][-0x24e2+-0x1*-0x1602+0xee0]=_0x114670['x'],this['emitterPos'+'Uniform'][0xf1d+-0x4*0x6e4+0x2*0x63a]=_0x114670['y'],this['emitterPos'+'Uniform'][-0x190b+0x1*-0xf5c+0x2869]=_0x114670['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x47373c),this['constantRa'+'te']['setValue'](_0x125ef7['rate']),this['constantRa'+'teDiv']['setValue'](_0x125ef7['rate2']-_0x125ef7['rate']),this['constantSt'+'artAngle']['setValue'](_0x125ef7['startAngle']*z['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x125ef7['startAngle'+'2']*z['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x125ef7['seed']),this['constantLi'+'fetime']['setValue'](_0x125ef7['lifetime']),this['emitterSca'+'leUniform'][0xef8*-0x2+0xbf9*-0x2+0x35e2]=_0x3d4e4b['x'],this['emitterSca'+'leUniform'][0x1ed*-0x1+0x2099+-0xa39*0x3]=_0x3d4e4b['y'],this['emitterSca'+'leUniform'][0x1*0xbf+0x5*-0x251+0xad8]=_0x3d4e4b['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](A_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](E_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x125ef7['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x125ef7['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x125ef7['rotSpeedUM'+'ax'][0xa97+0x1*0x2655+-0x30ec*0x1]);let _0x4b4b3d=_0x125ef7['swapTex']?_0x125ef7['particleTe'+'xOUT']:_0x125ef7['particleTe'+'xIN'];_0x4b4b3d=_0x125ef7['beenReset']?_0x125ef7['particleTe'+'xStart']:_0x4b4b3d;const _0x27d2de=_0x125ef7['swapTex']?_0x125ef7['particleTe'+'xIN']:_0x125ef7['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x4b4b3d),fn(_0x3bc922,_0x125ef7['swapTex']?_0x125ef7['rtParticle'+'TexIN']:_0x125ef7['rtParticle'+'TexOUT'],_0x845ba3?_0x125ef7['shaderPart'+'icleUpdate'+'OnStop']:_0x125ef7['loop']?_0x125ef7['shaderPart'+'icleUpdate'+'Respawn']:_0x125ef7['shaderPart'+'icleUpdate'+'NoRespawn']),_0x125ef7['material']['setParamet'+'er']('particleTe'+'xOUT',_0x4b4b3d),_0x125ef7['material']['setParamet'+'er']('particleTe'+'xIN',_0x27d2de),_0x125ef7['beenReset']=!(-0x1297*0x1+-0x763+-0x2e3*-0x9),_0x125ef7['swapTex']=!_0x125ef7['swapTex'],_0x125ef7['prevWorldB'+'oundsSize']['copy'](_0x125ef7['worldBound'+'sSize']),_0x125ef7['prevWorldB'+'oundsCente'+'r']['copy'](_0x125ef7['worldBound'+'s']['center']),_0x125ef7['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x3bc922);}}class t1 extends Nt{['generateKe'+'y'](_0x44bce1){let _0x5b4bcd='particle_'+Nt['definesHas'+'h'](_0x44bce1['defines'])+'_';for(const _0x3c5c2c in _0x44bce1)_0x44bce1['hasOwnProp'+'erty'](_0x3c5c2c)&&(_0x5b4bcd+=_0x44bce1[_0x3c5c2c]);return _0x5b4bcd;}['_animTex'](_0x56df57){let _0x1b3474='';return _0x1b3474+=_0x56df57['animTexLoo'+'p']?j['particleAn'+'imFrameLoo'+'pVS']:j['particleAn'+'imFrameCla'+'mpVS'],_0x1b3474+=j['particleAn'+'imTexVS'],_0x1b3474;}['createShad'+'erDefiniti'+'on'](_0x4fd3ad,_0x3b77d0){const _0x252f8e='#define\x20PA'+'RTICLE_'+(_0x3b77d0['useCpu']?'CPU':'GPU')+'\x0a';let _0x277096='#define\x20PA'+'RTICLE\x0a'+_0x252f8e,_0x1a043f='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x252f8e;_0x3b77d0['mesh']&&(_0x1a043f+='#define\x20US'+'E_MESH\x0a'),_0x3b77d0['localSpace']&&(_0x1a043f+='#define\x20LO'+'CAL_SPACE\x0a'),_0x3b77d0['screenSpac'+'e']&&(_0x1a043f+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x3b77d0['animTex']&&(_0x1a043f+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x3b77d0['animTex']&&(_0x1a043f+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x3b77d0['animTex']&&(_0x1a043f+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x3b77d0['normal']===0x235d+-0x1765+-0x1*0xbf6&&(_0x1a043f+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x3b77d0['normal']===0x1af5*-0x1+0x14*-0x12a+0x323e&&(_0x1a043f+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x3b77d0['soft']&&(_0x1a043f+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x3bc9f5=_0x3b77d0['customFace']?j['particle_c'+'ustomFaceV'+'S']:j['particle_b'+'illboardVS'];_0x3b77d0['useCpu']?(_0x3b77d0['soft']>0x1638+-0x4*-0x58b+-0x2c64&&(_0x1a043f+=j['screenDept'+'hPS']),_0x1a043f+=j['particle_c'+'puVS'],_0x3b77d0['localSpace']&&(_0x1a043f+=j['particle_l'+'ocalShiftV'+'S']),_0x3b77d0['animTex']&&(_0x1a043f+=this['_animTex'](_0x3b77d0)),_0x3b77d0['alignToMot'+'ion']&&(_0x1a043f+=j['particle_p'+'ointAlongV'+'S']),_0x1a043f+=_0x3b77d0['mesh']?j['particle_m'+'eshVS']:_0x3bc9f5,_0x3b77d0['normal']===0x5*-0x3ec+-0x1*0x2351+-0x4f*-0xb2&&(_0x1a043f+=j['particle_n'+'ormalVS']),_0x3b77d0['normal']===-0x1628+0x149*0x1d+-0xf1b&&(_0x1a043f+=j['particle_T'+'BNVS']),_0x3b77d0['stretch']>-0x3d2*-0x8+0x264+-0x20f4&&(_0x1a043f+=j['particle_s'+'tretchVS']),_0x1a043f+=j['particle_c'+'pu_endVS'],_0x3b77d0['soft']>-0x2*0x1355+-0x126f+-0x3919*-0x1&&(_0x1a043f+=j['particle_s'+'oftVS'])):(_0x1a043f+=j['particle_i'+'nitVS'],_0x1a043f+=_0x3b77d0['pack8']?j['particleIn'+'putRgba8PS']:j['particleIn'+'putFloatPS'],_0x3b77d0['soft']>-0x1eb8+0x1*0x1231+0xc87&&(_0x1a043f+=j['screenDept'+'hPS']),_0x1a043f+=j['particleVS'],_0x3b77d0['localSpace']&&(_0x1a043f+=j['particle_l'+'ocalShiftV'+'S']),_0x3b77d0['animTex']&&(_0x1a043f+=this['_animTex'](_0x3b77d0)),_0x3b77d0['wrap']&&(_0x1a043f+=j['particle_w'+'rapVS']),_0x3b77d0['alignToMot'+'ion']&&(_0x1a043f+=j['particle_p'+'ointAlongV'+'S']),_0x1a043f+=_0x3b77d0['mesh']?j['particle_m'+'eshVS']:_0x3bc9f5,_0x3b77d0['normal']===0x1a1*-0x2+-0x23*-0x5b+-0x92e&&(_0x1a043f+=j['particle_n'+'ormalVS']),_0x3b77d0['normal']===0x301*0x6+-0x1994+0x790&&(_0x1a043f+=j['particle_T'+'BNVS']),_0x3b77d0['stretch']>-0x1c03+0x1b*0x149+-0x10*0x6b&&(_0x1a043f+=j['particle_s'+'tretchVS']),_0x1a043f+=j['particle_e'+'ndVS'],_0x3b77d0['soft']>-0x24c3+-0xc9*-0x11+0x176a&&(_0x1a043f+=j['particle_s'+'oftVS'])),_0x1a043f+='}\x0a',_0x3b77d0['normal']>-0x361*0x5+0xf06+0x1df&&(_0x3b77d0['normal']===-0x486+0x155+-0x1*-0x332?_0x277096+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x3b77d0['normal']===0x2476+0x8*-0xd+-0x240c&&(_0x277096+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x277096+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x3b77d0['soft']&&(_0x277096+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x277096+=j['decodePS'],_0x277096+='#include\x20\x22'+'gammaPS\x22\x0a',_0x277096+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x277096+='#include\x20\x22'+'fogPS\x22\x0a',_0x3b77d0['normal']===0x1522+0x2*0x535+-0x2*0xfc5&&(_0x277096+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x3b77d0['soft']>-0x2*0x69c+0x25*-0x61+-0x1b3d*-0x1&&(_0x277096+=j['screenDept'+'hPS']),_0x277096+=j['particlePS'],_0x3b77d0['soft']>0x216e+-0x1e82+-0x2ec&&(_0x277096+=j['particle_s'+'oftPS']),_0x3b77d0['normal']===-0x25fe+-0x1793+0x3d92&&(_0x277096+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x3b77d0['normal']===0x1e60+-0x15*0x85+-0x1375&&(_0x277096+=j['particle_n'+'ormalMapPS']),_0x3b77d0['normal']>-0x1*-0xd1+0xa70+-0x2b*0x43&&(_0x277096+=_0x3b77d0['halflamber'+'t']?j['particle_h'+'alflambert'+'PS']:j['particle_l'+'ambertPS']),_0x3b77d0['normal']>0x12be+-0x3*-0x946+-0x2e90&&(_0x277096+=j['particle_l'+'ightingPS']),_0x3b77d0['blend']===Gt?_0x277096+=j['particle_b'+'lendNormal'+'PS']:_0x3b77d0['blend']===bp?_0x277096+=j['particle_b'+'lendAddPS']:_0x3b77d0['blend']===wp&&(_0x277096+=j['particle_b'+'lendMultip'+'lyPS']),_0x277096+=j['particle_e'+'ndPS'];const _0x2fb506=new Map(Object['entries']({...j,..._0x3b77d0['chunks']}));return Ft['createDefi'+'nition'](_0x4fd3ad,{'name':'ParticleSh'+'ader','vertexCode':_0x1a043f,'fragmentCode':_0x277096,'fragmentDefines':_0x3b77d0['defines'],'fragmentIncludes':_0x2fb506,'vertexDefines':_0x3b77d0['defines']});}}const s1=new t1();class i1 extends Sn{constructor(_0x42c3bc){super(),c(this,'emitter',null),(this['emitter']=_0x42c3bc,b['assert'](_0x42c3bc));}['getShaderV'+'ariant'](_0x188736){const {device:_0x1d5554,scene:_0x129e37,cameraShaderParams:_0xb818b}=_0x188736,{emitter:_0x3f71b2}=this,_0x2411c8={'defines':Op(this,_0x188736),'pass':xn,'useCpu':this['emitter']['useCpu'],'normal':_0x3f71b2['lighting']?_0x3f71b2['normalMap']!==null?0xc36*0x1+-0xbfe+-0x3*0x12:-0xd5e+-0xd+0xd6c:0x1f0f+0x1*0x2277+-0x4186,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0xb818b==null?void(0x5c7+-0x10b2+0xaeb):_0xb818b['shaderOutp'+'utGamma'])??al,'toneMap':(_0xb818b==null?void(0x119+0x283+0x21*-0x1c):_0xb818b['toneMappin'+'g'])??Pp,'fog':_0x129e37&&!this['emitter']['noFog']?_0x129e37['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x3f71b2['inTools']?!(-0x831+0xdb7*0x1+-0x585):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==$h},_0xd9f587=new Jc(_0x188736['viewUnifor'+'mFormat'],_0x188736['viewBindGr'+'oupFormat'],_0x188736['vertexForm'+'at']),_0xf0b10=za(_0x1d5554);return _0xf0b10['register']('particle',s1),_0xf0b10['getProgram']('particle',_0x2411c8,_0xd9f587,this['userId']);}}const C_=[[-(0xeea*0x2+-0x6a*0x20+-0x1*0x1093),-(0xc*0x1b1+-0xb92+-0x8b9)],[0x142b+-0x21ac+0xd82,-(-0x268+-0x2555+-0x2*-0x13df)],[-0x15bf+-0x994+0xa*0x322,0x70c+0x5*-0x34d+0x976],[-(-0x41f*-0x5+0x43*0x7d+-0x3551),0xce3*-0x2+0x1*0x2417+-0x21*0x50]];function rs(_0x135eca,_0x27d8e7,_0x3dba11,_0x4e99dc,_0x3c4472=et,_0x2462eb,_0x230267){let _0x100304=fe;_0x230267&&(_0x3c4472===Te||_0x3c4472===cs)&&(_0x100304=at);const _0x4967aa=new ce(_0x135eca,{'width':_0x27d8e7,'height':_0x3dba11,'format':_0x3c4472,'cubemap':!(0x21a9*0x1+-0x3*0x9b2+-0x492*0x1),'mipmaps':!(-0x4*0x79f+0x1*0x22a5+-0x85*0x8),'minFilter':_0x100304,'magFilter':_0x100304,'addressU':oe,'addressV':oe,'name':'ParticleSy'+'stemTextur'+'e'}),_0x3207ce=_0x4967aa['lock']();if(_0x3c4472===Te||_0x3c4472===cs){const _0x575c66=new Uint8Array(_0x4e99dc['length']);for(let _0x2cd9cc=-0x142f+0xb*0x303+-0xcf2*0x1;_0x2cd9cc<_0x4e99dc['length'];_0x2cd9cc++)_0x575c66[_0x2cd9cc]=_0x4e99dc[_0x2cd9cc]*_0x2462eb*(-0x1e49+-0xb03*0x3+0xcdd*0x5);_0x4e99dc=_0x575c66;}return _0x3207ce['set'](_0x4e99dc),_0x4967aa['unlock'](),_0x4967aa;}function M_(_0x5e56b7){return Math['max'](Math['min'](_0x5e56b7,-0x1573+-0x1d88+0x3ec*0xd),-0x1*-0x1c37+-0x6*-0x48c+-0x377f);}const P_=new Ls([0x1*-0x2f+0x2173+-0x2144,-0x1828+0x1d6d+-0x545,-0x60*0x40+0x1f*0x9b+-0x14*-0x43,-0x2e4*0xb+0x15ce+0x9fe]),R_=new Ls([0x3dc+0x80b+-0xb*0x115,-0x586+-0xb75*0x1+-0x10fc*-0x1,0x2633+0x1*-0x511+0x1*-0x2121,-0x2*0xae4+-0x1*0x26b+0x1834]),I_=new Yr([-0x1c8a*-0x1+-0x9f5*-0x1+-0x267f,0x1*0x1bfb+0x16a4+0x329f*-0x1,-0xe31+-0x1401+-0x6d7*-0x5,-0x1dc9+0x314*0x2+-0x107*-0x17],[-0x7cc+-0x1*0x9eb+0x5*0x38b,-0xa01*-0x1+0x1*-0x2e4+0x71d*-0x1,0x317+-0x2*0x1301+-0x4*-0x8bb,-0x597+-0xb01+-0x213*-0x8],[0x176b+-0x8d*-0x3b+-0x1bf5*0x2,0x4f3*0x4+0x70*0x21+-0x223c,-0x5*-0x33e+0xc77*0x3+-0x359a,0x7*-0xb2+0x1e2d+-0x194f]),r1=new Yr([0x56*-0x2b+0x4*-0x170+-0x205*-0xa,0x1*-0x1517+-0x172+0xb45*0x2,-0x18a+-0x27*-0xb+-0x22,-0x2560*-0x1+0xad7+-0x3036],[-0x16d9+-0x2*0x587+0xb*0x315,-0x19c3+-0x43f*-0x7+0x1*-0x3f5,-0x3c7*0x8+-0x4*0x1d7+-0x1*-0x2595,-0x11ff+0x20c3+-0xec3],[-0x21c6+-0xef4+0x63*0x7e,0x44f+-0x2329+0x1edb,0x2575+-0x8aa+-0x1cca,-0x1*-0x1b48+-0x822*-0x1+-0x2369]);let li=0x1*0x1beb+0x1127+-0x2d10;const Wl=-0x2b+0x1b0b+0x3*-0x8f4,hi=new Float32Array(0x234e+-0x1dea+0x561*-0x1),Ar=new q(),D_=new A(),$l=new A(),ql=new A();let Xu,yh;function ne(_0x419f6a,_0x5bf787){yh[_0x419f6a]!==void(0x1fd9+-0x1874+-0x1*0x765)&&yh[_0x419f6a]!==null?Xu[_0x419f6a]=yh[_0x419f6a]:Xu[_0x419f6a]=_0x5bf787;}function O0(_0x2b1589,_0xb89353,_0x55d1e2){return(_0x2b1589*(0x1402+-0x8*-0xa3+0x79*-0x33)<<0x5a3+0x347*-0x7+0x115e|_0xb89353*(0xb76+0x23be+0x1*-0x2e35)<<-0x3f*-0x35+-0x45*0x1d+-0x532|_0x55d1e2*(0x910+-0x2*0x71d+0x629))/(-0x5e5*-0x1+-0x1*-0x22bd+0x1*-0x28a1<<0x45*-0x2b+0x16d6+0x1*-0xb27);}function L_(_0x54170c,_0x18994a){const _0x5f01d9=_0x54170c['length']/(-0x9d5*0x2+-0x4*0x60b+0x2bd9),_0x2b072f=new Array(_0x5f01d9*(0xa6+0x14bd+0x1*-0x155f));for(let _0x4bd28f=-0xa62+-0x1464+0x3*0xa42;_0x4bd28f<_0x5f01d9;_0x4bd28f++)_0x2b072f[_0x4bd28f*(-0x7de*-0x1+-0x2*-0x8ba+-0x1*0x194e)]=_0x54170c[_0x4bd28f*(0x992+-0x142e+0xa9f)],_0x2b072f[_0x4bd28f*(-0x1c*0x15b+0x18ff+0xcf9)+(-0x4*-0x4f6+0x1*-0x37a+-0x3b*0x47)]=_0x54170c[_0x4bd28f*(-0x1*0x1161+-0x59*0x6+-0x137a*-0x1)+(0x1fa3+0x1bcb+-0x3b6d)],_0x2b072f[_0x4bd28f*(0x31d+-0x161c+-0x9d*-0x1f)+(0xc0+-0x10d*-0x3+-0x3e5)]=_0x54170c[_0x4bd28f*(-0x1567+0x15a*0x16+-0x852*0x1)+(0x1f8d+0x1add+-0x1378*0x3)],_0x2b072f[_0x4bd28f*(-0x1f7b+0xd30+-0x2b*-0x6d)+(-0x183f+0x21be+0x1*-0x97c)]=O0(_0x18994a[_0x4bd28f*(-0x65*0x11+0x7b+0x63d)],_0x18994a[_0x4bd28f*(0x25a1+-0x163*-0x5+0x1*-0x2c8d)+(0x2197+-0x7*0x1b1+-0x15bf)],_0x18994a[_0x4bd28f*(0x93a+0xcfc+-0x1*0x1633)+(0x376*0x5+0x57f*0x1+0x16cb*-0x1)]);return _0x2b072f;}function n1(_0xc5894b,_0x33fd54){const _0x550ce8=new Array(_0x33fd54['length']*(-0x3*0x24b+-0x3*0x545+-0x16b4*-0x1));for(let _0x22e18c=-0x1e49+0x36d+-0x1adc*-0x1;_0x22e18c<_0x33fd54['length'];_0x22e18c++)_0x550ce8[_0x22e18c*(-0x781*-0x4+-0x2fb*-0xb+-0x3ec9)]=_0xc5894b[_0x22e18c*(-0xf01*-0x2+0x18f0+-0x36ef)],_0x550ce8[_0x22e18c*(0x2279+-0x229c+0x27)+(0x237d+-0x2635+0x2b9)]=_0xc5894b[_0x22e18c*(0x1120+0x269c+-0x13d*0x2d)+(-0x3*0x2e7+-0x22*-0xe0+-0x1*0x150a)],_0x550ce8[_0x22e18c*(0x1e07*-0x1+-0x6*-0x396+0x887)+(-0xb+0x5d*0x57+-0x1f8e)]=_0xc5894b[_0x22e18c*(-0x3ab*-0x2+0x1*0x1e55+-0x25a8)+(0xa56+-0x34e+0x1*-0x706)],_0x550ce8[_0x22e18c*(-0x95c*0x2+-0x24b*-0x11+-0x143f)+(-0x16a7+0xf5b+0x74f)]=_0x33fd54[_0x22e18c];return _0x550ce8;}function a1(_0x44c2e2,_0x163e09,_0x58130f,_0x3e2d20,_0x5d378f){const _0x25904a=new Array(_0x44c2e2['length']*(0x185d+0x298+-0x39*0x79));for(let _0x5f1dd7=-0x2601+0x57*0x1+0x1*0x25aa;_0x5f1dd7<_0x44c2e2['length'];_0x5f1dd7++)_0x25904a[_0x5f1dd7*(0x42e+0xfc*-0x10+0x2*0x5cb)]=_0x44c2e2[_0x5f1dd7],_0x25904a[_0x5f1dd7*(0x1475+-0x1*-0xeb9+-0x232a)+(-0x2f7+0x4e6+-0x1ee)]=_0x163e09[_0x5f1dd7],_0x25904a[_0x5f1dd7*(-0xf08+0x169d*-0x1+0x25a9)+(-0x7*0x3bd+0x137*0x11+0x2*0x2c3)]=0x65b*0x5+0x1*0x56a+-0x2531*0x1,_0x25904a[_0x5f1dd7*(0x1*0xd41+0x23ad+-0x1875*0x2)+(-0x804*-0x3+0x1d03*-0x1+0x4fa)]=O0(_0x58130f[_0x5f1dd7],_0x3e2d20[_0x5f1dd7],_0x5d378f[_0x5f1dd7]);return _0x25904a;}function o1(_0xccced7,_0x4da336){const _0x29722d=new Array(_0xccced7['length']*(-0x2056+-0x28+0x2082));for(let _0x221db5=-0xa3*-0xb+-0x172e+-0x102d*-0x1;_0x221db5<_0xccced7['length'];_0x221db5++)_0x29722d[_0x221db5*(-0x178+0x10f2+-0xf76)]=_0xccced7[_0x221db5],_0x29722d[_0x221db5*(0xc43*-0x2+0x2183+-0x8f9)+(0x14b8+-0x1*-0x1442+-0x1*0x28f9)]=_0x4da336[_0x221db5],_0x29722d[_0x221db5*(-0xe86+-0x237d+0x10ad*0x3)+(0x9f7*-0x1+0x1e8f*-0x1+0x2888)]=-0x2d9*0x7+-0x1*0x114d+-0x253c*-0x1,_0x29722d[_0x221db5*(0xf7d+0x2183*-0x1+0x120a)+(-0x13f6+0x3*0x475+0xa9*0xa)]=0xa12+-0x1459+0x3*0x36d;return _0x29722d;}function l1(_0x4756d1){const _0x363f89=Math['max'](_0x4756d1['rate'],_0x4756d1['rate2'])*_0x4756d1['numParticl'+'es']+_0x4756d1['lifetime'];return Date['now']()+_0x363f89*(0x5be+-0x26c*0x4+0x192*0x5);}function h1(_0xcdd2c9,_0x27db45){const _0x46d548=new Float32Array(_0xcdd2c9['length']);for(let _0x3f4b93=0x2522+0x1a+-0x253c*0x1;_0x3f4b93<_0xcdd2c9['length'];_0x3f4b93++)_0x46d548[_0x3f4b93]=_0xcdd2c9[_0x3f4b93]-_0x27db45[_0x3f4b93];return _0x46d548;}function kr(_0x5118f1,_0x42204){const _0xfbf9d5=_0x42204['length'],_0x2d7dbc=_0x5118f1['length']/_0xfbf9d5;for(let _0x90dd5c=0x32c+-0xc*-0x1a2+-0x16c4;_0x90dd5c<_0x2d7dbc;_0x90dd5c++)for(let _0x263f48=0x2217+0x1a2c+-0x3c43;_0x263f48<_0xfbf9d5;_0x263f48++){const _0x3ed9db=Math['abs'](_0x5118f1[_0x90dd5c*_0xfbf9d5+_0x263f48]);_0x42204[_0x263f48]=Math['max'](_0x42204[_0x263f48],_0x3ed9db);}}function c1(_0x483b7c,_0x5de558){const _0x4bedef=_0x5de558['length'],_0x1c1fa1=_0x483b7c['length']/_0x4bedef;for(let _0x442692=0x247b+-0x2*-0x8aa+0x1d*-0x1db;_0x442692<_0x1c1fa1;_0x442692++)for(let _0x3c5ec7=-0x235*0xc+0x238f*-0x1+0x3e0b;_0x3c5ec7<_0x4bedef;_0x3c5ec7++)_0x483b7c[_0x442692*_0x4bedef+_0x3c5ec7]/=_0x5de558[_0x3c5ec7]===0x23b9+0x2c3*-0x1+-0x20f6?-0xbe5+-0x229f+0x2e85:_0x5de558[_0x3c5ec7],_0x483b7c[_0x442692*_0x4bedef+_0x3c5ec7]*=-0x121*-0x13+0x2c3+-0x2*0xc1b+0.5,_0x483b7c[_0x442692*_0x4bedef+_0x3c5ec7]+=0x1319+0xa78*-0x2+0x3*0x9d+0.5;}function Er(_0x216d0a,_0x9a04d8,_0x2277b5){const _0x220afb=h1(_0x9a04d8,_0x216d0a);return kr(_0x220afb,_0x2277b5),c1(_0x220afb,_0x2277b5),_0x220afb;}const d1=new Ht();class u1{constructor(_0x936bd0,_0x54e2eb){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x936bd0;const _0x233729=_0x936bd0,_0xfbdbb8=0x469*0x8+-0x4f6+-0x1e32;this['precision']=_0xfbdbb8,this['_addTimeTi'+'me']=-0x1cd2+-0x6b5*-0x2+0xf68,Xu=this,yh=_0x54e2eb,ne('numParticl'+'es',-0x1f2c+0x11*-0x1bf+0x1e6e*0x2),this['numParticl'+'es']>_0x936bd0['maxTexture'+'Size']&&(b['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x936bd0['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x936bd0['maxTexture'+'Size']),ne('rate',0x2*0xdc1+-0x1*0x10e5+-0xa9c),ne('rate2',this['rate']),ne('lifetime',-0x1845+0xd03+0x5ba*0x2),ne('emitterExt'+'ents',new A(0x1*-0x755+-0x1f*-0x8b+-0x4*0x260,-0x1*0x1876+-0x29*0x80+0x1*0x2cf6,-0x2656+-0x1885+-0x3edb*-0x1)),ne('emitterExt'+'entsInner',new A(0x1c7+-0xc9b+-0x2b5*-0x4,-0x89*0x45+0x1f14+0x3*0x1f3,0x236b+0x83b+-0x2ba6)),ne('emitterRad'+'ius',-0x2*-0xeb6+0x1dfd+-0x3b69*0x1),ne('emitterRad'+'iusInner',-0x1850+0x1*-0x1027+0x2877),ne('emitterSha'+'pe',qs),ne('initialVel'+'ocity',0x31*0x12+0x235*-0x5+0x18*0x51),ne('wrap',!(-0x1*-0x1ce1+0xd1*0x22+-0x38a2)),ne('localSpace',!(0x1*-0xfc1+-0x91d*0x4+0x3436)),ne('screenSpac'+'e',!(0x436+0x9*0x349+-0x21c6)),ne('wrapBounds',null),ne('colorMap',this['defaultPar'+'amTexture']),ne('normalMap',null),ne('loop',!(0x18b9+-0x624+-0x1295)),ne('preWarm',!(0x1b5*0xd+0x15d6+-0x2c06)),ne('sort',Ou),ne('mode',u0),ne('scene',null),ne('lighting',!(0x1da6+0x1*-0x1c12+-0x193)),ne('halfLamber'+'t',!(-0xc5+-0x2a9*0xb+0x21*0xe9)),ne('intensity',-0x4*-0x5b6+-0x1409+0x2ce*-0x1),ne('stretch',0x1*-0x8dd+-0xe9*-0x23+0x2*-0xb7f),ne('alignToMot'+'ion',!(-0xc61+0xff1+-0x38f)),ne('depthSofte'+'ning',-0x1*0x17f3+-0x9a3*0x3+0x34dc),ne('mesh',null),ne('particleNo'+'rmal',new A(-0x111+0x3d*-0x2+0x18b,0x2600+0x59f*-0x4+-0xf83,0x7*-0x20f+0x1ebb*-0x1+0x3c3*0xc)),ne('orientatio'+'n',$h),ne('depthWrite',!(-0x1*-0x1ab3+0x4d*-0x66+0x3fc)),ne('noFog',!(-0xb21+-0x21*0xfe+0x2be0)),ne('blendType',Gt),ne('node',null),ne('startAngle',0x25c*-0xa+-0x1d*0xdb+-0x1*-0x3067),ne('startAngle'+'2',this['startAngle']),ne('animTilesX',0x1*-0x140f+0x1927+-0x517),ne('animTilesY',0x1d*0xd5+-0x1470+-0x3b0*0x1),ne('animStartF'+'rame',-0x1ee6+0xb07+-0x1*-0x13df),ne('animNumFra'+'mes',0xab5*0x1+0xbec+-0x10*0x16a),ne('animNumAni'+'mations',0x1aa0+-0xe42+0x5*-0x279),ne('animIndex',0x1b56+0x7ea+-0x2340),ne('randomizeA'+'nimIndex',!(-0x1*0xccb+0xebf+0x1f3*-0x1)),ne('animSpeed',0x1bac+0x12dc+0x115*-0x2b),ne('animLoop',!(0x1*0xa84+0x1a5+0xb*-0x11b)),this['_gpuUpdate'+'r']=new e1(this,_0x233729),this['_cpuUpdate'+'r']=new JM(this),this['emitterPos'+'Uniform']=new Float32Array(0x1f+-0x225f+0x2243),this['wrapBounds'+'Uniform']=new Float32Array(-0x1*-0x1f66+0xd36+0x1*-0x2c99),this['emitterSca'+'leUniform']=new Float32Array([0x26b*-0xa+-0x2b2+-0x3d7*-0x7,-0x15eb+0x1*-0x31d+0x1909,0x8d*-0x2b+0xa6*-0x26+0x3054]),ne('colorGraph',r1),ne('colorGraph'+'2',this['colorGraph']),ne('scaleGraph',R_),ne('scaleGraph'+'2',this['scaleGraph']),ne('alphaGraph',R_),ne('alphaGraph'+'2',this['alphaGraph']),ne('localVeloc'+'ityGraph',I_),ne('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),ne('velocityGr'+'aph',I_),ne('velocityGr'+'aph2',this['velocityGr'+'aph']),ne('rotationSp'+'eedGraph',P_),ne('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),ne('radialSpee'+'dGraph',P_),ne('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x1a4*0xe+-0xe93+-0x258d*-0x1),this['animParams']=new Float32Array(-0x1ac7+-0x1*-0xdab+0x4*0x348),this['animIndexP'+'arams']=new Float32Array(0xa29+0xf67+-0x198e),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0x18e4+0x1538+0x3ad),this['useMesh']=!(-0x1aa4*-0x1+0x6c4+-0x2168),this['useCpu']=!_0x936bd0['supportsGp'+'uParticles'],this['pack8']=!(-0x1*0x18d1+-0x1633*0x1+0x2f04),this['localBound'+'s']=new ve(),this['worldBound'+'sNoTrail']=new ve(),this['worldBound'+'sTrail']=[new ve(),new ve()],this['worldBound'+'s']=new ve(),this['worldBound'+'sSize']=new A(),this['prevWorldB'+'oundsSize']=new A(),this['prevWorldB'+'oundsCente'+'r']=new A(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new A(),this['worldBound'+'sAdd']=new A(),this['timeToSwit'+'chBounds']=-0x3*-0x346+-0x1*-0x737+-0x7*0x26f,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x1c5c+-0xd11+0xf4b*-0x1,this['numParticl'+'eIndices']=0x1*-0x13c3+0x1470+-0xad,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0x364+0x1a79+-0x5f9*0x5,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x1*0x74f+-0x7*-0x551+0x1de7*-0x1)/(-0x1ee4+0x1*-0x6da+0x25fa),this['maxSubStep'+'s']=-0x260a+-0x2266+0x1*0x487a,this['simTime']=-0x887+-0x2535+-0x1*-0x2dbc,this['simTimeTot'+'al']=0xe3c+0x1575+-0x23b1,this['beenReset']=!(-0x5*-0x4a+-0x3*0x1d1+0x402),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return b['assert'](this['graphicsDe'+'vice']),d1['get'](this['graphicsDe'+'vice'],()=>{const _0x151025=new Float32Array(0x8a+-0x1acb+-0x5*-0x60d);for(let _0x346007=0x1586+-0x26*0x4e+-0x26*0x43;_0x346007<-0x6*-0x31d+0x1*0x2123+-0x33c1;_0x346007++)for(let _0x115434=0x180+0x5*0x8e+-0x223*0x2;_0x115434<0x1807*-0x1+-0xf6*-0x1b+0x5*-0x5f;_0x115434++){const _0xbc74a5=_0x115434+(0x2e6+-0x26c8*0x1+-0x1*-0x23e3)-(0x954+-0x6*0x2a1+-0x1*-0x67a+0.5),_0x163876=_0x346007+(-0x213*0x2+0x20b3+-0xc*0x261)-(-0x191+0xbf6*0x2+-0x1653+0.5),_0x27c76b=M_(-0xb*0x1bd+-0xe22+0x2142-M_(Math['sqrt'](_0xbc74a5*_0xbc74a5+_0x163876*_0x163876)/(0x2d*0x47+-0x1*-0x456+-0x10c1*0x1))-(-0xa2+-0x1d*0x53+0xa09+0.5)),_0x1e9141=_0x346007*(0x25ed+-0x3*-0x959+-0x41e8)+_0x115434;_0x151025[_0x1e9141*(0x1*-0xe8d+0x2a7*0xa+-0xbf5)]=-0x39*0x68+0xf*-0x13+0x1846,_0x151025[_0x1e9141*(-0x1891+-0x13e1+0x2c76)+(-0x4*-0x5+-0x104*-0x3+-0x31f)]=0xaf*-0x1+-0x80f*0x2+0x2cd*0x6,_0x151025[_0x1e9141*(-0x251b+0x8*0x173+0x5*0x51b)+(-0x16cd+0x1807+-0x138)]=0x1*-0xe75+0x1*-0x1ade+0x2954,_0x151025[_0x1e9141*(-0x397*0x4+0x17c4+0x964*-0x1)+(0xf2f+0x127e+-0x2*0x10d5)]=_0x27c76b;}const _0xcd1f44=rs(this['graphicsDe'+'vice'],0x7d+-0x5*-0x687+-0x2110,-0x16c*-0x15+-0x3d2+-0x19fa,_0x151025,cs,0x2*0x576+0xb16+0x1601*-0x1,!(-0x847*-0x2+0x1e95*-0x1+-0xbd*-0x13));return _0xcd1f44['minFilter']=at,_0xcd1f44['magFilter']=at,_0xcd1f44;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0x232b+0xa30+0x18fc)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x13d8+0x2422+-0x17*0x26f)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x9*0x1b5+0xf3c+0x11*0x2)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x41a+-0x43d+0xb2*0xc)),this['worldBound'+'sAdd']['x']+=0x22d*-0x7+0x2540+-0x1605+0.5,this['worldBound'+'sAdd']['y']+=0x1d*-0xcf+-0x2572+0x3ce5+0.5,this['worldBound'+'sAdd']['z']+=0x1456+-0xdca+-0x4*0x1a3+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x3f23bf=!(0x1165*-0x2+-0x204a+0x1*0x4315);this['emitterSha'+'pe']===qs?_0x3f23bf=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x3f23bf=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x3f23bf&&this['calculateL'+'ocalBounds']();}const _0x316b2c=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x316b2c),this['worldBound'+'sTrail'][0x1*-0x12cb+0x1*-0x127f+0x254a]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x4cf*-0x5+0x33d*0xa+-0x386c]['add'](this['worldBound'+'sNoTrail']);const _0x652239=this['simTimeTot'+'al'];_0x652239>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x30d+0xf9c+-0x1*0xc8f]['copy'](this['worldBound'+'sTrail'][0x1408+0x11aa+0x1*-0x25b1]),this['worldBound'+'sTrail'][-0x2*-0x68b+-0xe25+0x8*0x22]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x652239+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0xc8b*0x2+-0xef*-0x9+-0x217d]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x2457+-0x11*-0x1bb+-0x377*-0x2),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x316b2c),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x316b2c)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0xfdd+-0xfaa+-0x2*-0xfc4-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x3f*0x6e+0x494*0x2+-0x243a]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x1*-0x885+0x1d3a+0x52d*-0x4]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x11*-0x194+0x1218+-0x2cec*0x1]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x1599+-0x8da+-0xcbd),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0x26b9+-0x1*-0x113f+0xabd*0x2,this['timeToSwit'+'chBounds']=-0xff8+0xffb+0x3*-0x1);}['calculateL'+'ocalBounds'](){let _0x1ab63a=Number['MAX_VALUE'],_0x4cb821=Number['MAX_VALUE'],_0x4aec4c=Number['MAX_VALUE'],_0x261b1f=-Number['MAX_VALUE'],_0x25e4ce=-Number['MAX_VALUE'],_0x33e0a9=-Number['MAX_VALUE'],_0x26143d=-0xe2c+0x16*-0x9e+0x1bc0,_0x53d74b=0x19d*0xc+-0x5*0x5b+0x7*-0x283;const _0x513bc3=this['lifetime']/this['precision'],_0x29efde=[this['qVelocity'],this['qVelocity2']],_0x4be382=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x2f6272=[-0x139c+0x5e6+0xdb6,0x25f5+0x31b+-0x90*0x49],_0x495ed9=[0xb57*-0x2+-0x19f1*-0x1+-0x1*0x343,0x1579*0x1+0xbbf*0x3+-0xe*0x40d],_0x87612c=[0x20*-0x16+0x1a47+-0x1787,-0x1*-0x13f9+0x11e0+-0x1*0x25d9],_0x4a2d3d=[0x1f9d*0x1+-0x1*-0x1b3b+-0x7*0x868,0x11*0x109+-0xa09*-0x2+-0x25ab*0x1],_0x55122c=[-0x3*0x985+-0x1609*-0x1+0x686,0x21fd+0x88a+-0x2a87];let _0x494276,_0x1a9cb7,_0x19bb96;for(let _0x3bf7cc=0x541*0x4+-0x6*-0x27d+0x1*-0x23f2;_0x3bf7cc<this['precision']+(0x791*0x2+0x1de3+-0x2d04);_0x3bf7cc++){const _0x17709a=Math['min'](_0x3bf7cc,this['precision']-(0x72*-0x21+-0x15bb+0x246e));for(let _0x316962=-0x2033+0x7*0x59+0x1dc4*0x1;_0x316962<0x747+0x909*0x1+0x827*-0x2;_0x316962++)_0x494276=_0x4be382[_0x316962][_0x17709a*(-0x30d*-0x1+-0x5f6+0x2ec)+(-0x18*-0x2+-0x18c2+0x1892)]*_0x513bc3+_0x2f6272[_0x316962],_0x1a9cb7=_0x4be382[_0x316962][_0x17709a*(-0xdf9+-0x8*-0x1db+0x5*-0x2c)+(-0x1ce2+0x7ba+-0x1*-0x1529)]*_0x513bc3+_0x495ed9[_0x316962],_0x19bb96=_0x4be382[_0x316962][_0x17709a*(-0x2440+-0x10da*-0x2+0x83*0x5)+(0x1*-0x2e4+0x7*0x48b+-0x1ce7)]*_0x513bc3+_0x87612c[_0x316962],_0x1ab63a=Math['min'](_0x494276,_0x1ab63a),_0x4cb821=Math['min'](_0x1a9cb7,_0x4cb821),_0x4aec4c=Math['min'](_0x19bb96,_0x4aec4c),_0x261b1f=Math['max'](_0x494276,_0x261b1f),_0x25e4ce=Math['max'](_0x1a9cb7,_0x25e4ce),_0x33e0a9=Math['max'](_0x19bb96,_0x33e0a9),_0x2f6272[_0x316962]=_0x494276,_0x495ed9[_0x316962]=_0x1a9cb7,_0x87612c[_0x316962]=_0x19bb96;for(let _0x4f1bdd=-0xcbe+-0x5e*-0x64+-0x1*0x17fa;_0x4f1bdd<0x2510+-0x1775+-0x3b*0x3b;_0x4f1bdd++)_0x55122c[_0x4f1bdd]+=_0x513bc3*Math['sqrt'](_0x29efde[_0x4f1bdd][_0x17709a*(0x232+-0x107*-0xd+0x1*-0xf8a)+(0x3*0x147+-0x19fe+0xb7*0x1f)]*_0x29efde[_0x4f1bdd][_0x17709a*(-0x1db1+0xfea+-0xdca*-0x1)+(0x8ea+-0x2c7+0x1*-0x623)]+_0x29efde[_0x4f1bdd][_0x17709a*(-0x16*0x15f+-0x21ed+-0xa*-0x669)+(-0x10d9+-0x1013*0x2+0x100*0x31)]*_0x29efde[_0x4f1bdd][_0x17709a*(-0x13fd+-0x343*0x1+0x1743)+(0x14ef*-0x1+-0x14dd+-0x105*-0x29)]+_0x29efde[_0x4f1bdd][_0x17709a*(0x1cdd+-0xe17+-0xec3*0x1)+(0x1*-0x1be2+0x5*0x253+0x1045)]*_0x29efde[_0x4f1bdd][_0x17709a*(-0x11c5+0x12*0x10d+-0x122)+(0x25b3+-0x2653+-0x6*-0x1b)]);_0x4a2d3d[-0xc4f*-0x1+0x305*-0x7+0x8d4]+=this['qRadialSpe'+'ed'][_0x17709a]*_0x513bc3,_0x4a2d3d[0x2*0x3d1+-0x2d*-0x63+-0x18*0x10b]+=this['qRadialSpe'+'ed2'][_0x17709a]*_0x513bc3,_0x26143d=Math['max'](_0x26143d,Math['max'](Math['abs'](_0x4a2d3d[-0x751+0x12*-0x9f+-0x1*-0x127f]),Math['abs'](_0x4a2d3d[-0xbc*-0x8+0x855*0x1+0x38d*-0x4]))),_0x53d74b=Math['max'](_0x53d74b,this['qScale'][_0x17709a]);}this['emitterSha'+'pe']===qs?(_0x494276=this['emitterExt'+'ents']['x']*(0x200c+-0x984+-0x1688+0.5),_0x1a9cb7=this['emitterExt'+'ents']['y']*(-0x4f9+0x9*-0x28d+-0x8f*-0x32+0.5),_0x19bb96=this['emitterExt'+'ents']['z']*(-0x203+-0x3b4+0x5b7+0.5)):(_0x494276=this['emitterRad'+'ius'],_0x1a9cb7=this['emitterRad'+'ius'],_0x19bb96=this['emitterRad'+'ius']);const _0x2289c1=Math['max'](_0x55122c[-0x2*0x1352+-0x13*0x18b+0x43f5*0x1],_0x55122c[-0x26f*-0x5+-0xeb1+0x287]);$l['x']=_0x1ab63a-_0x53d74b-_0x494276-_0x26143d-_0x2289c1,$l['y']=_0x4cb821-_0x53d74b-_0x1a9cb7-_0x26143d-_0x2289c1,$l['z']=_0x4aec4c-_0x53d74b-_0x19bb96-_0x26143d-_0x2289c1,ql['x']=_0x261b1f+_0x53d74b+_0x494276+_0x26143d+_0x2289c1,ql['y']=_0x25e4ce+_0x53d74b+_0x1a9cb7+_0x26143d+_0x2289c1,ql['z']=_0x33e0a9+_0x53d74b+_0x19bb96+_0x26143d+_0x2289c1,this['localBound'+'s']['setMinMax']($l,ql);}['rebuild'](){const _0x89e082=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===qs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Ou||_0x89e082['maxVertexT'+'extures']<=-0x6e8+0x18c7+-0x11de||_0x89e082['fragmentUn'+'iformsCoun'+'t']<0x10a3*-0x1+0x2d3*0x7+-0xf6*0x3||_0x89e082['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x89e082['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],li=this['useCpu']||this['pack8']?0x14*-0x8d+0x1302+0x7fa*-0x1:-0x1098+0xbc5+0x4d5,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=z['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0xa1+-0x1e9*-0x8+-0xea7]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0x2394+0x136*0xe+0x3487*-0x1]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x34*0xe+-0x1*-0x787+-0x4ad),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x3abb82=-0x1091*0x1+-0x5*0x383+0x3*0xb60;_0x3abb82<this['numParticl'+'es'];_0x3abb82++)this['vbToSort'][_0x3abb82]=[-0x1e9e+0x1cb4+0x46*0x7,-0x26e1*-0x1+-0x57*0x5d+-0xe*0x85];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*li*Wl);const _0x1ad5f5=this['node']===null||this['localSpace']?A['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===qs&&(this['node']===null||this['localSpace']?Ar['setTRS'](A['ZERO'],ie['IDENTITY'],this['spawnBound'+'s']):Ar['setTRS'](A['ZERO'],this['node']['getRotatio'+'n'](),D_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),hi[0x123*0x19+-0x1110+-0x9*0x143]=this['emitterExt'+'ents']['x']!==0x2654+0xc18+-0x326c?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0xfb1+0x87c+-0x182d,hi[0x24e2*0x1+-0x29f*-0xd+-0x46f4]=this['emitterExt'+'ents']['y']!==-0x3*-0x4db+0x2*0xb26+0x1*-0x24dd?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x1bf+0x11e9+0x1*-0x102a,hi[-0x1*-0x1f13+-0x1f64+-0x1*-0x53]=this['emitterExt'+'ents']['z']!==-0x52a*0x1+0x8*-0x2b1+-0x66*-0x43?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x26*-0x48+-0x2592*0x1+0x1ae2);for(let _0xc84500=0x1*-0x299+-0x1*-0xd6+0xb*0x29;_0xc84500<this['numParticl'+'es'];_0xc84500++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ar,hi,_0x1ad5f5,_0xc84500),this['useCpu']&&(this['particleTe'+'x'][_0xc84500*Wl+(-0x1*0x1115+-0x1*-0x17b3+-0x69b)+this['numParticl'+'esPot']*(-0x124e+-0x1*0xeef+0x3*0xb15)*Wl]=0x26b9*0x1+-0x545*-0x3+-0x1b*0x205);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*li*Wl);for(let _0x59962c=-0x165*0x1c+0x1*0x2157+0x5b5;_0x59962c<this['particleTe'+'xStart']['length'];_0x59962c++)this['particleTe'+'xStart'][_0x59962c]=this['particleTe'+'x'][_0x59962c];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=rs(_0x89e082,this['numParticl'+'esPot'],li,this['particleTe'+'x'],Te,-0xd5c+-0x31*0xb6+0x3*0x1011,!(0x56*-0x67+0x18e1+0x9ba)),this['particleTe'+'xOUT']=rs(_0x89e082,this['numParticl'+'esPot'],li,this['particleTe'+'x'],Te,-0x5*-0x449+0x147e*-0x1+-0x1*0xee,!(0x17*-0xa2+0x23f*0x7+0x1*-0x12a)),this['particleTe'+'xStart']=rs(_0x89e082,this['numParticl'+'esPot'],li,this['particleTe'+'xStart'],Te,0x1470+-0xf8a+0x1*-0x4e5,!(-0x15*0xdd+0x1ce6+-0xac4))):(this['particleTe'+'xIN']=rs(_0x89e082,this['numParticl'+'esPot'],li,this['particleTe'+'x']),this['particleTe'+'xOUT']=rs(_0x89e082,this['numParticl'+'esPot'],li,this['particleTe'+'x']),this['particleTe'+'xStart']=rs(_0x89e082,this['numParticl'+'esPot'],li,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new St({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x5*-0x2c0+-0x3b*-0x7a+-0x29dd)}),this['rtParticle'+'TexOUT']=new St({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(0x1*0x258b+0x1661*0x1+-0x3beb)}),this['swapTex']=!(-0x212e*-0x1+-0x5*-0x265+0x2*-0x1693));const _0xe4512e=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+j['particleUp'+'daterInitP'+'S']+(this['pack8']?j['particleIn'+'putRgba8PS']+j['particleOu'+'tputRgba8P'+'S']:j['particleIn'+'putFloatPS']+j['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===qs?j['particleUp'+'daterAABBP'+'S']:j['particleUp'+'daterSpher'+'ePS'])+j['particleUp'+'daterStart'+'PS'],_0x3be0d9=_0xe4512e+j['particleUp'+'daterRespa'+'wnPS']+j['particleUp'+'daterEndPS'],_0x2382b3=_0xe4512e+j['particleUp'+'daterNoRes'+'pawnPS']+j['particleUp'+'daterEndPS'],_0x54a1fa=_0xe4512e+j['particleUp'+'daterOnSto'+'pPS']+j['particleUp'+'daterEndPS'],_0x2325f6='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Bs(_0x89e082,j['fullscreen'+'QuadVS'],_0x3be0d9,'ParticleUp'+'dateRespaw'+'n-'+_0x2325f6),this['shaderPart'+'icleUpdate'+'NoRespawn']=Bs(_0x89e082,j['fullscreen'+'QuadVS'],_0x2382b3,'ParticleUp'+'dateNoResp'+'awn-'+_0x2325f6),this['shaderPart'+'icleUpdate'+'OnStop']=Bs(_0x89e082,j['fullscreen'+'QuadVS'],_0x54a1fa,'ParticleUp'+'dateStop-'+_0x2325f6),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:0x3af*-0x8+-0x53d+0x22b9,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][0x1c2b+-0x1c98+0x6d]['numIndices']:-0x1*0x12bf+-0x59d*0x4+0x3d*0xad,this['_allocate'](this['numParticl'+'es']);const _0x2a297c=new ke(_0x89e082);_0x2a297c['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x2a297c['indexBuffe'+'r'][0x225e+-0x1*-0x177+-0x23d5*0x1]=this['indexBuffe'+'r'],_0x2a297c['primitive'][-0x2138+0x1*0x1c5a+0x1*0x4de]['type']=Fs,_0x2a297c['primitive'][-0x49*0x51+-0x1d55*0x1+0x346e]['base']=0x1735+-0x5a6+-0x118f,_0x2a297c['primitive'][-0x1c02+0x24b*-0x3+0x22e3]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x2a297c['primitive'][0x1734+0xa*0x24d+0xe*-0x34d]['indexed']=!(0x943*0x3+0x2338+0x3f01*-0x1),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x3c65f7=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x1146+0x2474+0x1*-0x132e);this['meshInstan'+'ce']=new Be(_0x2a297c,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(0xc67+-0x15e7+-0x981*-0x1),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0x23d1+-0x3*-0x745+0x701*0x2),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0x188c+-0x104c+0x83f*-0x1),this['meshInstan'+'ce']['visible']=_0x3c65f7,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0xe8+-0x25d6+0x26be,!(0x1e51+0x2311+0x15cb*-0x3)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0x491+-0x20e0+0x2572&&(this['animTilesX']>-0x1b06+0x219b+-0x694||this['animTilesY']>0x1*0x1b39+-0x2029+0x5*0xfd)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x9601f9=this['precision'],_0x2e8308=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x9601f9),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x9601f9),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x9601f9,-0x1*-0xcc5+0x1ee5+-0x2baa,0x126e*0x1+0xa78+-0xd*0x239),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x9601f9),this['qScale']=this['scaleGraph']['quantize'](_0x9601f9),this['qAlpha']=this['alphaGraph']['quantize'](_0x9601f9),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x9601f9),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x9601f9),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x9601f9),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x9601f9,-0x9*0x44+0x845*-0x1+0x1*0xaa9,-0x989*0x1+0x310+0x67a),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x9601f9),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x9601f9),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x9601f9),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x9601f9);for(let _0x455254=0xfc0+-0x50e*-0x7+0x16*-0x253;_0x455254<_0x9601f9;_0x455254++)this['qRotSpeed'][_0x455254]*=z['DEG_TO_RAD'],this['qRotSpeed2'][_0x455254]*=z['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0x2b*0x7+0x4a2+-0x5cc),this['velocityUM'+'ax']=new Float32Array(0x8ba*-0x4+0x1fe+0x20ed),this['colorUMax']=new Float32Array(-0x1c8f*-0x1+-0x1*0x1cf9+-0x1*-0x6d),this['rotSpeedUM'+'ax']=[0x21f8+0x210+-0x2408],this['scaleUMax']=[0xaec+-0x250a+0x1a1e],this['alphaUMax']=[0x1*-0xef+-0x223c+0x1*0x232b],this['radialSpee'+'dUMax']=[-0x2*-0x2c+0x2105+0x215d*-0x1],this['qLocalVelo'+'cityDiv']=Er(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Er(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Er(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Er(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Er(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Er(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Er(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x3f9263=[-0x111c+0x13*-0x17+0x12d1,0x2559*0x1+-0x3d1*-0x4+0x349d*-0x1,-0x37*0x8e+0x844+0x163e];kr(this['qVelocity'],_0x3f9263);const _0x4d0697=[0x3*-0x5f2+-0x2505+0x36db,0x1428+0x65f+-0x1a87*0x1,0x1c8d+-0x1806+-0x487];kr(this['qVelocity2'],_0x4d0697);const _0x342546=[-0x156+-0xf2f*-0x1+-0x1*0xdd9,0x1*-0x534+-0x2087+-0x1*-0x25bb,-0x1400+0x10*-0x167+0x2a70];kr(this['qLocalVelo'+'city'],_0x342546);const _0xb8ed03=[0x753+0x11*-0xe2+-0x1*-0x7af,0x5a*-0x4+-0x58*-0x48+-0x2eb*0x8,-0x1da8+0x16a9+-0xc7*-0x9];kr(this['qLocalVelo'+'city2'],_0xb8ed03);const _0x9f8300=[0x10de+-0x7*-0x43c+-0x2*0x1741];kr(this['qRadialSpe'+'ed'],_0x9f8300);const _0x516b3e=[-0x80b*-0x1+-0xf7d+0x772];kr(this['qRadialSpe'+'ed2'],_0x516b3e);let _0x5ba580=Math['max'](_0x3f9263[-0x2528+-0xb42+0x306a],_0x4d0697[0x22*-0x14+-0x1a*-0x3+0x25a]);_0x5ba580=Math['max'](_0x5ba580,_0x3f9263[0x21be+0x4*0x914+0x4f*-0xe3]),_0x5ba580=Math['max'](_0x5ba580,_0x4d0697[0x13*-0x1bb+0x13bb*-0x1+0x1*0x349d]),_0x5ba580=Math['max'](_0x5ba580,_0x3f9263[-0x12de+-0x129*0x11+0x2699*0x1]),_0x5ba580=Math['max'](_0x5ba580,_0x4d0697[0x694+-0x8*-0x5c+-0x972]);let _0x34ea8c=Math['max'](_0x342546[-0x292*-0xd+0x17b9+-0x3923],_0xb8ed03[-0xad+-0x2626+0x26d3]);_0x34ea8c=Math['max'](_0x34ea8c,_0x342546[-0x6f9*-0x3+-0x3d*-0x8a+-0x35cc]),_0x34ea8c=Math['max'](_0x34ea8c,_0xb8ed03[0x15f3+-0x131f*-0x1+0x1*-0x2911]),_0x34ea8c=Math['max'](_0x34ea8c,_0x342546[0x11c3*0x1+-0x11e3+0x11*0x2]),_0x34ea8c=Math['max'](_0x34ea8c,_0xb8ed03[-0x11*-0x5e+0x7*-0x527+-0x443*-0x7]);const _0x38534f=Math['max'](_0x9f8300[-0x2*0x10bb+0x2*-0x11ae+0x44d2],_0x516b3e[-0x213c+0x3*-0x491+0x2eef]);this['maxVel']=_0x5ba580+_0x34ea8c+_0x38534f;}this['useCpu']||(this['internalTe'+'x0']=rs(_0x2e8308,_0x9601f9,-0x42*-0x6b+-0x1*-0x2615+0x19a*-0x29,L_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=rs(_0x2e8308,_0x9601f9,0x3*0x4b2+0x124b+-0x206*0x10,L_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=rs(_0x2e8308,_0x9601f9,0x257*0x5+-0x2b*-0xb7+-0x2a6f,a1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=rs(_0x2e8308,_0x9601f9,-0x8ab*-0x3+-0x4ef*-0x5+0x6d*-0x77,o1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=rs(_0x2e8308,_0x9601f9,-0x588+0x38b+0x1fe,n1(this['qColor'],this['qAlpha']),cs,0x1*0x3a+-0x1505+0x14cc,!(-0x15a7+0x19fe+0x1*-0x457));}['_setMateri'+'alTextures'](){this['colorMap']&&(b['call'](()=>{Cy(this['colorMap']['format'])&&b['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x147991=new i1(this);return _0x147991['name']='EmitterMat'+'erial:'+this['node']['name'],_0x147991['cull']=vt,_0x147991['alphaWrite']=!(0xb6a+0x235c+-0x2ec5*0x1),_0x147991['blendType']=this['blendType'],_0x147991['depthWrite']=this['depthWrite'],_0x147991;}['resetMater'+'ial'](){const _0x498359=this['material'];_0x498359['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x498359['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x498359['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x498359['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x498359['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x498359['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x498359['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x498359['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x498359['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x498359['setParamet'+'er']('colorParam',this['colorParam']),_0x498359['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x498359['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x498359['setParamet'+'er']('lifetime',this['lifetime']),_0x498359['setParamet'+'er']('rate',this['rate']),_0x498359['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x498359['setParamet'+'er']('seed',this['seed']),_0x498359['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][-0x9a+0x25c7+-0x252d]),_0x498359['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][0x4e2*0x1+-0x22df+-0x3*-0x9ff]),_0x498359['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][0x1*-0xb38+-0x1471+0x1fa9]),_0x498359['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x498359['setParamet'+'er']('graphSampl'+'eSize',(-0x1e2e+0x1c6*0x1+0x1c69)/this['precision']),_0x498359['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0x158c+-0x2f9*-0x1+0x1294,-0x142d*0x1+-0x12*-0xaa+0xd*0xa2,0x103*-0x1d+-0x1b*-0x47+0x15db*0x1])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x498359['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x498359['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x498359['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x2508+0x1*-0x4d1+-0x2037]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x142c+-0x7*-0x9e+-0x1*0x187d]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][0x1096+0x1*0x2363+-0x33f7]=this['wrapBounds']['z'],_0x498359['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>0x224e+-0x73*-0x53+-0x4797&&_0x498359['setParamet'+'er']('softening',(-0xe0*0xd+0xcc1+-0x160)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0x2*0x95e+-0x10cc+-0x18c))),this['stretch']>-0x2489+-0x1*0x848+-0x1*-0x2cd1&&(_0x498359['cull']=vt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x2afa4b,_0x712242;if(this['orientatio'+'n']===$h)_0x2afa4b=new Float32Array([0xdf0*0x1+0x7be+0xb3*-0x1f,0x20ab+-0xcaf+0x2*-0x9fe,-0x13f4+-0x2395+-0x15*-0x2a5]),_0x712242=new Float32Array([0x7b8+0x3*0x76f+-0x91*0x35,-0x1ee6+-0xd*0x5f+-0x5*-0x725,0x3cb+-0xc52+0x888]);else{let _0x1b8d26;this['orientatio'+'n']===Xb?_0x1b8d26=this['particleNo'+'rmal']['normalize']():_0x1b8d26=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x3db510=new A(-0x256+0x8*0x299+-0x1271,0x1*-0xa3+-0xeae*-0x1+-0x5*0x2cf,-0x10dc+0x164*-0xa+-0x166*-0x16);Math['abs'](_0x3db510['dot'](_0x1b8d26))===-0xdc*0x12+-0x24c8+-0x157*-0x27&&_0x3db510['set'](-0x4b3*-0x2+-0x78f+-0x3*0x9d,0x1f*0x88+0x1*0xe2f+-0x19d*0x13,0x16ff+0x1*0x1bfb+0x32f9*-0x1);const _0x49eb06=new A()['cross'](_0x1b8d26,_0x3db510)['normalize']();_0x3db510['cross'](_0x49eb06,_0x1b8d26)['normalize'](),_0x2afa4b=new Float32Array([_0x3db510['x'],_0x3db510['y'],_0x3db510['z']]),_0x712242=new Float32Array([_0x49eb06['x'],_0x49eb06['y'],_0x49eb06['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x2afa4b),this['material']['setParamet'+'er']('faceBinorm',_0x712242);}['_allocate'](_0x535b53){const _0x2e0ace=_0x535b53*this['numParticl'+'eVerts'],_0x520a74=_0x535b53*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0x15ca+-0x19*0x137+-0x1*-0x3429)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x2e0ace){const _0x3c5b8a=[];this['useCpu']?_0x3c5b8a['push']({'semantic':Eu,'components':0x4,'type':Re},{'semantic':Cu,'components':0x4,'type':Re},{'semantic':Iy,'components':0x4,'type':Re},{'semantic':Dy,'components':0x1,'type':Re},{'semantic':Ly,'components':this['useMesh']?0x18b3+-0x1*0x1da5+-0x2*-0x27b:-0x222d*0x1+-0x37*0x91+0x20ab*0x2,'type':Re}):(_0x3c5b8a['push']({'semantic':Eu,'components':0x4,'type':Re}),this['useMesh']&&_0x3c5b8a['push']({'semantic':Cu,'components':0x2,'type':Re}));const _0x5d7486=new Dt(this['graphicsDe'+'vice'],_0x3c5b8a);this['vertexBuff'+'er']=new fs(this['graphicsDe'+'vice'],_0x5d7486,_0x2e0ace,{'usage':Ph}),this['indexBuffe'+'r']=new cr(this['graphicsDe'+'vice'],or,_0x520a74);const _0xe0f67d=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x45d170,_0x4ce82d,_0x11cded;if(this['useMesh']){_0x45d170=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x4ce82d=_0x45d170['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x5c4e15=-0xcf4*0x3+-0xb6a+0x3246;_0x5c4e15<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x5c4e15++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x5c4e15]['name']===ds){_0x11cded=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x5c4e15]['offset']/(0x2*0x140+-0x6*0x595+0x1f02);break;}}for(let _0x16d9d5=-0x1fc5*-0x1+0x22cb+-0x4290;_0x16d9d5<_0x2e0ace;_0x16d9d5++){const _0x36d0da=Math['floor'](_0x16d9d5/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x3dccd8=_0x16d9d5%this['numParticl'+'eVerts'];_0xe0f67d[_0x16d9d5*(-0x23d7*-0x1+-0x1fa8+-0x429)]=_0x45d170[_0x3dccd8*_0x4ce82d],_0xe0f67d[_0x16d9d5*(-0x1d*0xd+-0xfd9*-0x1+-0xe5a)+(-0x184e+0x24a*0x2+0x13bb)]=_0x45d170[_0x3dccd8*_0x4ce82d+(-0xce0+0x1aa1+-0xdc0)],_0xe0f67d[_0x16d9d5*(0x1*-0xdb3+0xb*-0x10f+0x195e)+(-0x9ef*0x1+0x25e2+0x137*-0x17)]=_0x45d170[_0x3dccd8*_0x4ce82d+(0x23ee+0x2*-0xc9f+-0xaae)],_0xe0f67d[_0x16d9d5*(-0x18d9+0x646+0x1299)+(0x1*-0xd3f+0x4f*0x8+0xaca)]=_0x36d0da,_0xe0f67d[_0x16d9d5*(-0x23d7+-0x1*-0x23f2+0x3*-0x7)+(-0x10c3*0x1+-0x1189+-0x2*-0x1128)]=_0x45d170[_0x3dccd8*_0x4ce82d+_0x11cded+(0x1cc2*-0x1+-0x8*-0x20b+0xc6a)],_0xe0f67d[_0x16d9d5*(-0x1*-0x56d+0x1*-0x1749+-0x2fb*-0x6)+(-0x1*0x14ae+0x12c5*-0x1+-0xd28*-0x3)]=-0x8d1*0x1+-0x2*0x110e+0x2aee-_0x45d170[_0x3dccd8*_0x4ce82d+_0x11cded+(-0x60c+-0x49*-0x3f+0x7a*-0x19)];}else{const _0x1e8717=_0x16d9d5%(-0x33e+-0xcd2*0x1+0x1014);_0xe0f67d[_0x16d9d5*(-0x1d37+-0xdfa+0x2b35)]=C_[_0x1e8717][0x125b*0x1+0x1e92+-0x3*0x104f],_0xe0f67d[_0x16d9d5*(-0x1bf7+-0x8*0x27+0x1d33)+(-0xccd+-0x17*-0x79+-0x3*-0xa5)]=C_[_0x1e8717][0x876+0x3*0x1af+-0xd82],_0xe0f67d[_0x16d9d5*(0x2a*0x54+0x1*0x2604+-0xcf2*0x4)+(-0x5*-0x22a+-0x23cc+-0x1a*-0xf6)]=-0x1c3+-0x106*0x16+0x1847,_0xe0f67d[_0x16d9d5*(0xf62+-0x1*0x21ab+0x124d)+(-0x106+0x1136+-0x102d)]=_0x36d0da;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0xe0f67d),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x3632fc=0x2*0x863+-0x123*0xe+-0xdc;const _0x580419=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x3b2b46=this['mesh']['indexBuffe'+'r'][0x153a+-0x2240+-0x1*-0xd06];_0x45d170=new Nh[_0x3b2b46['format']](_0x3b2b46['lock']());}for(let _0x512faa=0x13ce+-0x167+-0x1267;_0x512faa<_0x535b53;_0x512faa++)if(this['useMesh']){for(let _0x4d67d8=0xb48+0x983+-0x14cb*0x1;_0x4d67d8<this['numParticl'+'eIndices'];_0x4d67d8++)_0x580419[_0x512faa*this['numParticl'+'eIndices']+_0x4d67d8]=_0x45d170[_0x4d67d8]+_0x512faa*this['numParticl'+'eVerts'];}else{const _0x5a8ae3=_0x512faa*(0xa6e+0x84f*-0x1+0x1*-0x21b);_0x580419[_0x3632fc++]=_0x5a8ae3,_0x580419[_0x3632fc++]=_0x5a8ae3+(-0xa35+0x56c+0x4ca),_0x580419[_0x3632fc++]=_0x5a8ae3+(0x2702+-0x1495+-0x5*0x3af),_0x580419[_0x3632fc++]=_0x5a8ae3,_0x580419[_0x3632fc++]=_0x5a8ae3+(-0x24ba+-0x1e58+0x9f*0x6c),_0x580419[_0x3632fc++]=_0x5a8ae3+(-0x3*0xcbb+0x9*0x20c+0x13c8);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0x7*-0x4c7+-0xbca+-0x15a7]['unlock']();}}['reset'](){if(this['beenReset']=!(-0xefb+-0x2633+0x8dd*0x6),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x320ed1=-0x66d+0x2f*0xad+-0x2f*0x8a;_0x320ed1<this['particleTe'+'xStart']['length'];_0x320ed1++)this['particleTe'+'x'][_0x320ed1]=this['particleTe'+'xStart'][_0x320ed1];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x254a5c=this['loop'];this['loop']=!(0xdde+-0x49*0x3d+0x387),this['addTime'](-0x1dc8+0x41*-0xa+0x2052,!(-0x113d*0x2+-0x1*-0xc86+0xb*0x1ff)),this['loop']=_0x254a5c,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x5f008e){const _0x17bdf7=_0x5f008e/this['lifetime'],_0x366280=Math['min'](Math['floor'](_0x17bdf7*this['precision']),this['precision']),_0x3ab6dc=_0x5f008e/_0x366280;for(let _0x4ddcf1=-0x1*0xd8b+-0x8*0x4b1+0x3313;_0x4ddcf1<_0x366280;_0x4ddcf1++)this['addTime'](_0x3ab6dc,!(0x1c0e+-0x9fe+0x605*-0x3));}['resetTime'](){this['endTime']=l1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0xd163f7,_0x5ac25c){const _0x4464b9=this['graphicsDe'+'vice'],_0x1e663a=ae();if(this['simTimeTot'+'al']+=_0xd163f7,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x244bb3=this['animTilesP'+'arams'];_0x244bb3[0x2560+0x26d7+-0x4c37]=(-0x349*-0xb+-0x26a7+0x285)/this['animTilesX'],_0x244bb3[0x194b+0x7a*-0x45+0x2*0x3cc]=(0x1*-0x198d+-0x12bf+0x2c4d)/this['animTilesY'];const _0x32c2b3=this['animParams'];_0x32c2b3[0xd77+0x3bf+-0x1136]=this['animStartF'+'rame'],_0x32c2b3[0xd8e+0x73*0x30+-0x59*0x65]=this['animNumFra'+'mes']*this['animSpeed'],_0x32c2b3[0x8*0xcb+-0xa*0x163+0x3c4*0x2]=this['animNumFra'+'mes']-(0xffa+0x1b18+-0x2b11),_0x32c2b3[0x4d*0x65+0xda8+-0x2c06]=this['animNumAni'+'mations']-(-0x1e73+0x631*0x5+-0x3*0x2b);const _0x4f363c=this['animIndexP'+'arams'];_0x4f363c[-0x64c*0x6+0x1*0x1e83+0x745]=this['animIndex'],_0x4f363c[0x325*0x1+-0xab*0x32+0x2*0xf21]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===qs&&(hi[-0x684+0x1c2f+-0x2b*0x81]=this['emitterExt'+'ents']['x']!==-0x886+0x1822+-0x4a*0x36?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x13e4+0x543+-0x1927,hi[0x1*-0x1334+0x1a41+-0x70c]=this['emitterExt'+'ents']['y']!==-0xa*-0x101+-0x23f2+0x19e8?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0xbb3*-0x1+0x1ea4+-0x12f1,hi[0x2529+0x844*0x3+-0x1*0x3df3]=this['emitterExt'+'ents']['z']!==0x2*-0x6b+-0x189b+-0x27*-0xa7?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x135c+0x2467*-0x1+-0x110b*-0x1,this['meshInstan'+'ce']['node']===null?Ar['setTRS'](A['ZERO'],ie['IDENTITY'],this['emitterExt'+'ents']):Ar['setTRS'](A['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),D_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x1419f0;const _0x436251=this['meshInstan'+'ce']['node']===null?A['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0x6*-0x319+0xc1a*0x1+-0x1eb0]=_0x436251['x'],this['emitterSca'+'leUniform'][0x206d+-0x6eb*0x5+0x22b]=_0x436251['y'],this['emitterSca'+'leUniform'][-0x2287*0x1+0xf63+0x331*0x6]=_0x436251['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x1419f0=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][0xd2e+0x149c+0x1*-0x21ca]=_0x1419f0['x'],this['emitterPos'+'Uniform'][-0x35*0x11+-0x4ea+0x870]=_0x1419f0['y'],this['emitterPos'+'Uniform'][-0x38d+-0x880*0x2+0x148f]=_0x1419f0['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x4464b9,Ar,hi,_0xd163f7,_0x5ac25c);else{const _0xc55178=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0xc55178,this['vbToSort'],this['particleTe'+'x'],Ar,hi,_0x1419f0,_0xd163f7,_0x5ac25c);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x1*-0x24b3+0x69e*-0x4+0x3f2c)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ae()-_0x1e663a;}['_destroyRe'+'sources'](){var _0x114262,_0x1fbc34,_0x34c4b0,_0x143f52,_0x592df5,_0x60ce8b,_0x3c23d3,_0x3a8443,_0x3acaff,_0x36d295,_0x4589e3,_0x403e21;(_0x114262=this['particleTe'+'xIN'])==null||_0x114262['destroy'](),this['particleTe'+'xIN']=null,(_0x1fbc34=this['particleTe'+'xOUT'])==null||_0x1fbc34['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x34c4b0=this['rtParticle'+'TexIN'])==null||_0x34c4b0['destroy'](),this['rtParticle'+'TexIN']=null,(_0x143f52=this['rtParticle'+'TexOUT'])==null||_0x143f52['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x592df5=this['internalTe'+'x0'])==null||_0x592df5['destroy'](),this['internalTe'+'x0']=null,(_0x60ce8b=this['internalTe'+'x1'])==null||_0x60ce8b['destroy'](),this['internalTe'+'x1']=null,(_0x3c23d3=this['internalTe'+'x2'])==null||_0x3c23d3['destroy'](),this['internalTe'+'x2']=null,(_0x3a8443=this['internalTe'+'x3'])==null||_0x3a8443['destroy'](),this['internalTe'+'x3']=null,(_0x3acaff=this['colorParam'])==null||_0x3acaff['destroy'](),this['colorParam']=null,(_0x36d295=this['vertexBuff'+'er'])==null||_0x36d295['destroy'](),this['vertexBuff'+'er']=void(0x15f9+0x1f0e+-0x3507),(_0x4589e3=this['indexBuffe'+'r'])==null||_0x4589e3['destroy'](),this['indexBuffe'+'r']=void(-0x70*0x8+0x1*0x5bd+0x1*-0x23d),(_0x403e21=this['material'])==null||_0x403e21['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class f1 extends Nt{['generateKe'+'y'](_0x560d5c){const _0x43007d=_0x560d5c['shaderDesc'],_0xe84da3=_0x43007d['vertexCode']?cn(_0x43007d['vertexCode']):-0x19f4+0x1*0x188b+-0x13*-0x13,_0x1a229c=_0x43007d['fragmentCo'+'de']?cn(_0x43007d['fragmentCo'+'de']):-0x1*0x22d0+-0xab1+0xb*0x423,_0x1fd4ae=Nt['definesHas'+'h'](_0x560d5c['defines']);let _0xdbed0f=_0x43007d['uniqueName']+'_'+_0xe84da3+'_'+_0x1a229c+'_'+_0x1fd4ae;return _0x560d5c['skin']&&(_0xdbed0f+='_skin'),_0x560d5c['useInstanc'+'ing']&&(_0xdbed0f+='_inst'),_0x560d5c['useMorphPo'+'sition']&&(_0xdbed0f+='_morphp'),_0x560d5c['useMorphNo'+'rmal']&&(_0xdbed0f+='_morphn'),_0x560d5c['useMorphTe'+'xtureBased'+'Int']&&(_0xdbed0f+='_morphi'),_0xdbed0f;}['createAttr'+'ibutesDefi'+'nition'](_0x10a466,_0x2cb600){const _0x21607=_0x2cb600['shaderDesc']['attributes'],_0x52beda=_0x21607?{..._0x21607}:void(-0x1cbc+-0x1*0xe81+0x2b3d);_0x2cb600['skin']&&(_0x52beda['vertex_bon'+'eWeights']=ei,_0x52beda['vertex_bon'+'eIndices']=Jt),(_0x2cb600['useMorphPo'+'sition']||_0x2cb600['useMorphNo'+'rmal'])&&(_0x52beda['morph_vert'+'ex_id']=va),_0x10a466['attributes']=_0x52beda;}['createVert'+'exDefiniti'+'on'](_0x59f7e6,_0x3e24b2,_0x4ac62b){const _0x4fee5c=_0x3e24b2['shaderDesc'];if(_0x59f7e6['shaderLang'+'uage']===Fh)_0x59f7e6['vertexCode']=_0x4fee5c['vertexCode'];else{const _0x12dedb=new Map(_0x4ac62b),_0x2b1fc1=new Map(_0x3e24b2['defines']);_0x12dedb['set']('transformI'+'nstancingV'+'S',''),_0x3e24b2['skin']&&_0x2b1fc1['set']('SKIN',!(0x1*-0x1edd+-0x1*-0x1883+-0x2*-0x32d)),_0x3e24b2['useInstanc'+'ing']&&_0x2b1fc1['set']('INSTANCING',!(-0x18c+0x261d*0x1+-0x2491)),(_0x3e24b2['useMorphPo'+'sition']||_0x3e24b2['useMorphNo'+'rmal'])&&(_0x2b1fc1['set']('MORPHING',!(-0x849*0x1+-0x2*0x7f5+-0x811*-0x3)),_0x3e24b2['useMorphTe'+'xtureBased'+'Int']&&_0x2b1fc1['set']('MORPHING_I'+'NT',!(-0xff4+-0xa3f+0x1a33)),_0x3e24b2['useMorphPo'+'sition']&&_0x2b1fc1['set']('MORPHING_P'+'OSITION',!(-0x22d*0x3+0xb8*0x32+-0x1d69)),_0x3e24b2['useMorphNo'+'rmal']&&_0x2b1fc1['set']('MORPHING_N'+'ORMAL',!(-0x9c6+0x1*-0x2d2+0x64c*0x2))),_0x59f7e6['vertexCode']=_0x4fee5c['vertexCode'],_0x59f7e6['vertexIncl'+'udes']=_0x12dedb,_0x59f7e6['vertexDefi'+'nes']=_0x2b1fc1;}}['createFrag'+'mentDefini'+'tion'](_0x556025,_0xdcbfc4,_0x2ac879){const _0x132f70=_0xdcbfc4['shaderDesc'];if(_0x556025['shaderLang'+'uage']===Fh)_0x556025['fragmentCo'+'de']=_0x132f70['fragmentCo'+'de'];else{const _0x19907b=new Map(_0x2ac879),_0x54de7f=new Map(_0xdcbfc4['defines']);_0x556025['fragmentCo'+'de']=_0x132f70['fragmentCo'+'de'],_0x556025['fragmentIn'+'cludes']=_0x19907b,_0x556025['fragmentDe'+'fines']=_0x54de7f;}}['createShad'+'erDefiniti'+'on'](_0x9969c2,_0x4af2e8){const _0x5bbb6a=_0x4af2e8['shaderDesc'],_0x25bc4f={'name':'ShaderMate'+'rial-'+_0x5bbb6a['uniqueName'],'shaderLanguage':_0x5bbb6a['shaderLang'+'uage'],'fragmentOutputTypes':_0x5bbb6a['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x5bbb6a['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x5bbb6a['meshBindGr'+'oupFormat']},_0x36c9e0=new Map(Object['entries']({...j,..._0x4af2e8['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x25bc4f,_0x4af2e8),this['createVert'+'exDefiniti'+'on'](_0x25bc4f,_0x4af2e8,_0x36c9e0),this['createFrag'+'mentDefini'+'tion'](_0x25bc4f,_0x4af2e8,_0x36c9e0),Ft['createDefi'+'nition'](_0x9969c2,_0x25bc4f);}}const p1=new f1();class La extends Sn{constructor(_0x1c8a08){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0x1c8a08;}set['shaderDesc'](_0x24cd53){_0x24cd53&&(b['assert'](_0x24cd53['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),b['assert'](_0x24cd53['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x24cd53?{..._0x24cd53}:void(-0x191f+-0x1700+0x61*0x7f),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x2e8315){return super['copy'](_0x2e8315),this['shaderDesc']=_0x2e8315['shaderDesc'],this;}['getShaderV'+'ariant'](_0x3905fb){const {objDefs:_0x451152}=_0x3905fb,_0x3d3b0c={'defines':Op(this,_0x3905fb),'skin':(_0x451152&jc)!==-0x3*-0x4cc+0x46f*0x1+0x4f*-0x3d,'useInstancing':(_0x451152&Yc)!==-0x7f*0x10+0x1*-0x55b+0xd4b,'useMorphPosition':(_0x451152&Kc)!==-0x1*-0x5b3+-0x1*-0x24a7+-0x1a*0x1a1,'useMorphNormal':(_0x451152&Zc)!==-0x3ab*-0x9+0x1ea7+0x1*-0x3faa,'useMorphTextureBasedInt':(_0x451152&Qc)!==0xebe+0x1369*0x1+-0x2227,'pass':_0x3905fb['pass'],'gamma':_0x3905fb['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x3905fb['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x3905fb['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x43c135=new Jc(_0x3905fb['viewUnifor'+'mFormat'],_0x3905fb['viewBindGr'+'oupFormat'],_0x3905fb['vertexForm'+'at']),_0x3cf27b=za(_0x3905fb['device']);return _0x3cf27b['register']('shader-mat'+'erial',p1),_0x3cf27b['getProgram']('shader-mat'+'erial',_0x3d3b0c,_0x43c135,this['userId']);}}const B0=(_0x4f9d19,_0x391167)=>{const _0x50339e=_0x391167['length']/(0x146b*0x1+0x1726+0x8b6*-0x5),_0x5f58d8=_0x4f9d19['length']/(-0x124c+-0x18b4+0x2b03),_0x1cd98b=new A(),_0x4ef488=new A(),_0x21e71e=new A(),_0x53ce68=new A(),_0x13c4ad=new A(),_0x14d399=new A(),_0x1d68db=[];for(let _0x118d8e=0xfbd*0x1+-0xe0a+-0x1b3;_0x118d8e<_0x4f9d19['length'];_0x118d8e++)_0x1d68db[_0x118d8e]=0x25*-0x73+0x59*0x5+-0xa*-0x17d;for(let _0x256e04=0x1fc*-0x7+0x32+0xdb2*0x1;_0x256e04<_0x50339e;_0x256e04++){const _0x35ea06=_0x391167[_0x256e04*(-0x25ad+0xe1f+0x3*0x7db)],_0x2e67be=_0x391167[_0x256e04*(-0xb36+0x159d+-0x13*0x8c)+(0x1209+-0x2331+0x1129)],_0x1dcec3=_0x391167[_0x256e04*(-0x164+0x26ab+-0x2544)+(-0x276+0x2*-0xda+0x42c)];_0x1cd98b['set'](_0x4f9d19[_0x35ea06*(-0xfc9+-0x2bd*0x7+0x22f7)],_0x4f9d19[_0x35ea06*(0x22c4+0x1*0x533+-0x27f4)+(-0x2*-0x8b6+-0x30*0xb5+0x1085)],_0x4f9d19[_0x35ea06*(-0x21c7+-0x23a5+0x456f)+(0x1c6f+-0xfed+-0xc80)]),_0x4ef488['set'](_0x4f9d19[_0x2e67be*(0x520+0x1ae6+0x5*-0x667)],_0x4f9d19[_0x2e67be*(0xcb*0x23+0x286+-0x1e44)+(0x1*-0x2356+0x2*0xde7+-0x789*-0x1)],_0x4f9d19[_0x2e67be*(0x8*0xc5+-0x4f4*-0x3+-0x1501)+(0x72e+0x40*-0x3b+0x794*0x1)]),_0x21e71e['set'](_0x4f9d19[_0x1dcec3*(-0x54b+-0x35*0x71+-0x5d*-0x4f)],_0x4f9d19[_0x1dcec3*(0x254c+0x6f6+-0x2c3f)+(0x1*-0x1e0e+0x1038+-0x3*-0x49d)],_0x4f9d19[_0x1dcec3*(0x97*-0x25+-0x1da7+0x337d)+(-0x1*0x147+0x140e+-0x1f*0x9b)]),_0x53ce68['sub2'](_0x4ef488,_0x1cd98b),_0x13c4ad['sub2'](_0x21e71e,_0x1cd98b),_0x14d399['cross'](_0x53ce68,_0x13c4ad)['normalize'](),_0x1d68db[_0x35ea06*(-0x1697*0x1+0xf54+-0x13*-0x62)]+=_0x14d399['x'],_0x1d68db[_0x35ea06*(0x1*-0x178+-0xdf6+0x3b*0x43)+(-0x72*0x30+0x214a+-0xbe9)]+=_0x14d399['y'],_0x1d68db[_0x35ea06*(-0x1ee2*0x1+0x26*-0x82+-0x3*-0x10bb)+(0x670*0x6+0x1f1*0x1+-0x3*0xd85)]+=_0x14d399['z'],_0x1d68db[_0x2e67be*(-0x5a+0x37a+0x1*-0x31d)]+=_0x14d399['x'],_0x1d68db[_0x2e67be*(0x1*0x1dcb+0x7*0xa6+-0x17e*0x17)+(-0x17c*0x13+0x16f1+0x544)]+=_0x14d399['y'],_0x1d68db[_0x2e67be*(-0x2375+-0x1a04+0x1ebe*0x2)+(-0x19f6+0x8*-0xd5+0x9*0x3a0)]+=_0x14d399['z'],_0x1d68db[_0x1dcec3*(0x1*-0x1d8b+0x259f+-0x811)]+=_0x14d399['x'],_0x1d68db[_0x1dcec3*(0x1*0x1a07+0x928+0x232c*-0x1)+(-0x5*0x472+-0xec5+0x2500)]+=_0x14d399['y'],_0x1d68db[_0x1dcec3*(-0x1f01+-0x26*0xd+0x20f2)+(-0x4*-0x109+0x1*0x823+-0xc45)]+=_0x14d399['z'];}for(let _0x4eaf33=-0x72b+0x614+0x5d*0x3;_0x4eaf33<_0x5f58d8;_0x4eaf33++){const _0x33638c=_0x1d68db[_0x4eaf33*(-0x1b47+-0x83*-0x32+0xda*0x2)],_0x3ea88c=_0x1d68db[_0x4eaf33*(0x1*-0x740+0x823+-0x1c*0x8)+(-0x7*0x305+0xcf7+0x82d)],_0x404816=_0x1d68db[_0x4eaf33*(0xcfc+-0xb51+0xd4*-0x2)+(0x57*0x2c+-0x4d1*-0x5+-0x2707)],_0x1047fe=(-0x676*0x2+0x8e9*0x1+-0x2*-0x202)/Math['sqrt'](_0x33638c*_0x33638c+_0x3ea88c*_0x3ea88c+_0x404816*_0x404816);_0x1d68db[_0x4eaf33*(-0x14*0x124+-0x1b5+0x1888)]*=_0x1047fe,_0x1d68db[_0x4eaf33*(-0x12c7+-0x171+0x143b)+(0x1e2c+0x20b1*0x1+-0x6*0xa7a)]*=_0x1047fe,_0x1d68db[_0x4eaf33*(0x5*-0xbb+-0x548*-0x1+-0x19e)+(-0xe12+0x1*0x2dd+0xb37)]*=_0x1047fe;}return _0x1d68db;},pr=(_0xdf44ff,_0x32667,_0x565408,_0xb69ef4)=>{const _0x29842c=_0xb69ef4['length']/(0x1*0xe95+-0x1a2e+0xb9c),_0x445a7c=_0xdf44ff['length']/(0x1bc4+-0x19f4+-0x1cd),_0x2735f5=new A(),_0x4ca9f6=new A(),_0x74fad5=new A(),_0x4bde6a=new W(),_0x509fc4=new W(),_0x1bdf5b=new W(),_0x1711be=new A(),_0x3a26eb=new A(),_0x55d9a9=new Float32Array(_0x445a7c*(-0x17c2+-0x2233+0x6a*0x8c)),_0x1d7e54=new Float32Array(_0x445a7c*(0x1*0x1387+0xefb+0x227f*-0x1)),_0x205dc9=[];for(let _0x17b83b=-0x1dbc+-0x772+0x252e*0x1;_0x17b83b<_0x29842c;_0x17b83b++){const _0x3c9383=_0xb69ef4[_0x17b83b*(-0x13*0x1b2+-0x1a78+0x3ab1)],_0x1349cf=_0xb69ef4[_0x17b83b*(0x1c78+0xa8b*0x1+-0x2700)+(0x26d1*0x1+0x1a46+0xad9*-0x6)],_0x1db28b=_0xb69ef4[_0x17b83b*(-0x5f+-0x2078+0x20da)+(0x1*0x2153+-0x218f+-0x3e*-0x1)];_0x2735f5['set'](_0xdf44ff[_0x3c9383*(-0x1*0xa7b+0x554+0x1*0x52a)],_0xdf44ff[_0x3c9383*(-0x2*0x1245+-0xa6*-0x38+0x3d)+(-0x266+0x2ed*-0x8+0x19cf)],_0xdf44ff[_0x3c9383*(-0x2*-0xa73+0x7c0+-0x1ca3)+(-0x1*0x15cb+0x56e+-0xb*-0x17d)]),_0x4ca9f6['set'](_0xdf44ff[_0x1349cf*(-0x1*0x3c4+0x4*0x599+-0x129d)],_0xdf44ff[_0x1349cf*(0x1ca5+0x133a+-0x2fdc)+(0x148d*-0x1+0x103d+0x451)],_0xdf44ff[_0x1349cf*(-0x2*-0x82f+0x1*-0x158+0x3d*-0x3f)+(-0x1215+0xc6c+0x5ab)]),_0x74fad5['set'](_0xdf44ff[_0x1db28b*(0xe72+0xe3*-0x2+0x1*-0xca9)],_0xdf44ff[_0x1db28b*(0x1378+-0x11be*-0x1+-0x1*0x2533)+(-0x95*-0x41+-0x2a*0x25+-0x1fc2)],_0xdf44ff[_0x1db28b*(-0xa5f+0x9*-0x408+0x2eaa)+(0x3*0x673+0xb*0x2a1+-0x3042)]),_0x4bde6a['set'](_0x565408[_0x3c9383*(0xacd+0x67*0x61+-0x31d2)],_0x565408[_0x3c9383*(-0x6*0x67+0xef*-0x17+-0x17e5*-0x1)+(0x5*-0x5b3+0x1*0x236d+0x24f*-0x3)]),_0x509fc4['set'](_0x565408[_0x1349cf*(0x19bb+-0x13d+0x4*-0x61f)],_0x565408[_0x1349cf*(-0x7*0xc7+-0x146*-0x19+0x1a63*-0x1)+(-0xc5b*0x3+0x1220+0x2*0x979)]),_0x1bdf5b['set'](_0x565408[_0x1db28b*(0x7de+0x16a8+0x364*-0x9)],_0x565408[_0x1db28b*(0x4e5*-0x7+-0xbd6+0x2e1b)+(-0xda1+-0x1b0b+0x485*0x9)]);const _0x23a68=_0x4ca9f6['x']-_0x2735f5['x'],_0x1c6612=_0x74fad5['x']-_0x2735f5['x'],_0x2414f1=_0x4ca9f6['y']-_0x2735f5['y'],_0x1bd528=_0x74fad5['y']-_0x2735f5['y'],_0x23f1d6=_0x4ca9f6['z']-_0x2735f5['z'],_0x32d35b=_0x74fad5['z']-_0x2735f5['z'],_0x31d89e=_0x509fc4['x']-_0x4bde6a['x'],_0x9bdb6b=_0x1bdf5b['x']-_0x4bde6a['x'],_0x148c93=_0x509fc4['y']-_0x4bde6a['y'],_0x146747=_0x1bdf5b['y']-_0x4bde6a['y'],_0x116388=_0x31d89e*_0x146747-_0x9bdb6b*_0x148c93;if(_0x116388===0x5bc*0x2+-0x35*-0x11+-0x1*0xefd)_0x1711be['set'](0x231*0x1+0x4*-0xfa+-0x1*-0x1b7,-0x1a2d*-0x1+0x9*-0x145+0x1*-0xebf,-0xb18+0x1*-0x64d+0x1*0x1165),_0x3a26eb['set'](-0xd1*-0x1+0x308*0xc+-0x2530,0x2*0x103a+-0x24f*0x1+0x1*-0x1e25,-0x5*-0x5cb+0x1c5e*0x1+-0x3955);else{const _0x538ee9=(0x84c+-0x260f+0x1dc4)/_0x116388;_0x1711be['set']((_0x146747*_0x23a68-_0x148c93*_0x1c6612)*_0x538ee9,(_0x146747*_0x2414f1-_0x148c93*_0x1bd528)*_0x538ee9,(_0x146747*_0x23f1d6-_0x148c93*_0x32d35b)*_0x538ee9),_0x3a26eb['set']((_0x31d89e*_0x1c6612-_0x9bdb6b*_0x23a68)*_0x538ee9,(_0x31d89e*_0x1bd528-_0x9bdb6b*_0x2414f1)*_0x538ee9,(_0x31d89e*_0x32d35b-_0x9bdb6b*_0x23f1d6)*_0x538ee9);}_0x55d9a9[_0x3c9383*(0xea2+-0x766+0x2b*-0x2b)+(-0xaec*-0x3+0xa71+-0x2b35)]+=_0x1711be['x'],_0x55d9a9[_0x3c9383*(0x1ead*-0x1+0x1f7e+0x2*-0x67)+(-0xb3e*-0x3+0x5*0x6a4+0x164f*-0x3)]+=_0x1711be['y'],_0x55d9a9[_0x3c9383*(0x1*-0x24a9+0x825+0x1c87)+(-0x25bd*0x1+0x89*-0x38+0xd8b*0x5)]+=_0x1711be['z'],_0x55d9a9[_0x1349cf*(0xf61*-0x2+-0x596+0x29*0xe3)+(-0x9d7*0x2+-0x737*0x3+0x2953)]+=_0x1711be['x'],_0x55d9a9[_0x1349cf*(0x58f*-0x5+0x11ae*-0x2+0x3f2a)+(0xdf6+-0x2657+0x1862)]+=_0x1711be['y'],_0x55d9a9[_0x1349cf*(-0x7cd+-0x1975+-0x3*-0xb17)+(0xe5c+-0x1*-0x1bf6+-0x54a*0x8)]+=_0x1711be['z'],_0x55d9a9[_0x1db28b*(0x1892+-0xe91*-0x1+0x2720*-0x1)+(0x27*0x92+0x1*0x5a1+0x5*-0x593)]+=_0x1711be['x'],_0x55d9a9[_0x1db28b*(-0x259c+0xe69+-0x2*-0xb9b)+(0xbe1*0x1+0x243a*0x1+0x5e*-0x83)]+=_0x1711be['y'],_0x55d9a9[_0x1db28b*(0x13a*-0x15+-0xfbe*0x2+0x3941*0x1)+(0x166c+0x1*-0x134f+0xf*-0x35)]+=_0x1711be['z'],_0x1d7e54[_0x3c9383*(-0x6*-0x503+-0x5*0x247+-0x3bc*0x5)+(0x1245+0x1a6*0x9+-0x211b)]+=_0x3a26eb['x'],_0x1d7e54[_0x3c9383*(-0x6*-0x312+0x2074+-0x32dd)+(0xcba*-0x1+-0x35a+0x17*0xb3)]+=_0x3a26eb['y'],_0x1d7e54[_0x3c9383*(0x410+-0x11b*0xb+0x81c)+(0x3*0x5a5+0x1b9*0x9+0x206e*-0x1)]+=_0x3a26eb['z'],_0x1d7e54[_0x1349cf*(0xbe+0x1*-0x290+0x1d5*0x1)+(0x1*-0x5bf+-0x1ce0+-0x229f*-0x1)]+=_0x3a26eb['x'],_0x1d7e54[_0x1349cf*(-0xe87*-0x1+-0x22*0xc+-0x33b*0x4)+(0x21ca+-0x6d1+0x6be*-0x4)]+=_0x3a26eb['y'],_0x1d7e54[_0x1349cf*(0xd10+0x1ada+-0x27e7)+(0x1bb2+-0x16b6+-0x5b*0xe)]+=_0x3a26eb['z'],_0x1d7e54[_0x1db28b*(0x3*0xaf3+-0x9eb+-0x16eb)+(-0x15+0x23fa+-0x23e5)]+=_0x3a26eb['x'],_0x1d7e54[_0x1db28b*(0xcee+0x5*0x689+0x16cc*-0x2)+(0x1793*0x1+-0x1852+0x3*0x40)]+=_0x3a26eb['y'],_0x1d7e54[_0x1db28b*(-0x8+0x1897+0x1*-0x188c)+(-0x2513+0x2*0x54a+0x1a81)]+=_0x3a26eb['z'];}const _0x81d13c=new A(),_0x8ebbff=new A(),_0x2c1c6d=new A(),_0x519940=new A();for(let _0x4c97d0=-0x1088+-0x198a+-0xe06*-0x3;_0x4c97d0<_0x445a7c;_0x4c97d0++){_0x2c1c6d['set'](_0x32667[_0x4c97d0*(0x1*-0x1ec6+-0x1*-0x1bb3+0x316)],_0x32667[_0x4c97d0*(0x1ee0+-0x662*0x1+0x3*-0x829)+(0x11b2+-0x1f16+-0x1*-0xd65)],_0x32667[_0x4c97d0*(0x1f9d*0x1+-0x16c5+0x77*-0x13)+(-0x26*-0x59+-0x1*0x779+-0x5bb*0x1)]),_0x81d13c['set'](_0x55d9a9[_0x4c97d0*(0x153+0x1f*0x97+-0x1399)],_0x55d9a9[_0x4c97d0*(-0x9c7+-0x9f0+0x13ba)+(-0xd8b*0x1+0x1226+-0x49a*0x1)],_0x55d9a9[_0x4c97d0*(0x9cf+-0x4*0x5d3+0x90*0x18)+(-0xcd*0x5+0x1*0x7ba+-0x3b7)]),_0x8ebbff['set'](_0x1d7e54[_0x4c97d0*(0x24*-0x5+-0x24f8+0x25af)],_0x1d7e54[_0x4c97d0*(0x119a+0x20d6*0x1+-0xd*0x3e1)+(0x1*0x1c89+0x21e8+-0x1b0*0x25)],_0x1d7e54[_0x4c97d0*(-0xde4+0x3c3+0xa24)+(-0x100*-0x1+-0x1985+0x1887*0x1)]);const _0x11c2bb=_0x2c1c6d['dot'](_0x81d13c);_0x519940['copy'](_0x2c1c6d)['mulScalar'](_0x11c2bb),_0x519940['sub2'](_0x81d13c,_0x519940)['normalize'](),_0x205dc9[_0x4c97d0*(0x2*0x218+-0xa6e+-0x642*-0x1)]=_0x519940['x'],_0x205dc9[_0x4c97d0*(0xb36+0x2160+-0x2c92)+(0x1044+-0x13d5+0x392)]=_0x519940['y'],_0x205dc9[_0x4c97d0*(-0x1be9*0x1+0x1ab+0x1a42)+(0x43f*0x7+-0x183e*0x1+-0x1*0x579)]=_0x519940['z'],_0x519940['cross'](_0x2c1c6d,_0x81d13c),_0x205dc9[_0x4c97d0*(0x1*-0x1db9+0xe43+0x236*0x7)+(0x1630*-0x1+0x2548+0xb*-0x15f)]=_0x519940['dot'](_0x8ebbff)<-0x1*0x2047+0x1c3d+0x40a?-(0x1*0x383+0x14f+-0x4d1):-0x20f8*0x1+-0x1*0x151+0x224a;}return _0x205dc9;};class _n{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){b['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),b['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=B0(this['positions'],this['indices']);}['calculateT'+'angents'](){b['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),b['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),b['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),b['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=pr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const ju=(0x1f6b+-0x59*0x1+0x2*-0xf87)/(-0xb88*0x1+0x1559+0x991*-0x1),F_=0x16fa+0x2070+-0x3769-ju*(0x8d*-0xb+0x4*0x7b3+-0x18bb);class Yu extends _n{constructor(_0xb28500={}){super();const _0x39d059=_0xb28500['halfExtent'+'s']??new A(0x892+-0xdd5*0x2+0x1318+0.5,0x2227+-0x17b*-0x11+-0x3b52+0.5,-0x13*-0x13+0x18f8*0x1+-0x1*0x1a61+0.5),_0x450254=_0xb28500['widthSegme'+'nts']??-0x1e40*0x1+0x15a*0x8+0x1371,_0x3792b7=_0xb28500['lengthSegm'+'ents']??0x56f+-0xb5*-0x29+-0x21*0x10b,_0x1ff69b=_0xb28500['heightSegm'+'ents']??0x65*-0x7+-0x5*0x145+-0x91d*-0x1,_0x2d97e6=_0xb28500['yOffset']??-0x13e0+-0x218*0x11+0x8e*0x64,_0x4d601d=-_0x39d059['y']+_0x2d97e6,_0xf21f76=_0x39d059['y']+_0x2d97e6,_0x36cad8=[new A(-_0x39d059['x'],_0x4d601d,_0x39d059['z']),new A(_0x39d059['x'],_0x4d601d,_0x39d059['z']),new A(_0x39d059['x'],_0xf21f76,_0x39d059['z']),new A(-_0x39d059['x'],_0xf21f76,_0x39d059['z']),new A(_0x39d059['x'],_0x4d601d,-_0x39d059['z']),new A(-_0x39d059['x'],_0x4d601d,-_0x39d059['z']),new A(-_0x39d059['x'],_0xf21f76,-_0x39d059['z']),new A(_0x39d059['x'],_0xf21f76,-_0x39d059['z'])],_0x1f6c38=[[0x1b2d+-0x657*-0x3+-0x2e32,-0x1*-0x203b+0x1*0x3e6+-0x2420,-0x254a+-0x6*-0x1c0+0x1acd],[-0x1bbd+-0x1188+0x2d49,0x240+0x1229*-0x1+0xfee,0x18a2+-0xf04+0x997*-0x1],[0xf90*0x2+0x621+-0x2a9*0xe,0x6f*-0x4e+-0x1*0x8f9+0x2acd,0x37*-0x1+0x426+0x5b*-0xb],[0xb23+-0x3*0x167+0x6ed*-0x1,-0x1*-0x226a+-0x2bb*-0xd+0x45e9*-0x1,-0xb4f+0x61a*0x3+-0x6fb],[0x1*-0x1ff9+0x1551+0xaa9,-0x1*0x1471+-0x4fb*-0x4+0x89,0x403*0x2+0x1*-0x259d+-0x1*-0x1d99],[0x9b*0x13+-0x1d3*-0x9+0x94d*-0x3,0x1f7*0x4+-0x1*0x3b6+-0x3*0x162,-0x84*0x45+0x8d*-0x7+0x3*0xd27]],_0xbeb0ae=[[0xa36+-0x22a+0x5*-0x19c,0x3*0x556+-0x8c1*-0x3+-0x2a45,0x196f+-0x1616+-0xd6*0x4],[-0x24*0x9a+-0x44*0x53+0x2bb4,0x10d1+-0x1fa0+0xecf,-(0xef*-0x7+0x64*0x1a+-0x39e)],[-0x186+0xe09+-0xc83,-0x1*-0x26b0+-0x1b7*-0x2+-0x1*0x2a1d,-0x47*0x22+0x349*-0x3+0x1349],[0x1*-0x1145+-0x217d+0x32c2,-(0x5ac+0xee1+0x4*-0x523),0x9*0x17+0x52b+-0x5a*0x11],[0x12be+0x1e8*0x11+-0x3325,0x1b74+-0x120*-0x11+0x2*-0x174a,-0xc5*0x1f+-0x59*0x3d+0x2d10],[-(-0x11f+-0x1b*-0x90+0x4b*-0x30),0xb9a+-0x2057+0x14bd*0x1,0x86*-0x1b+-0x995+0x17b7*0x1]],_0x2a96c2={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x1bc25c=[],_0x3c2514=[],_0xce773=[],_0x909c7e=[];let _0x53332a=-0x1871+-0x261d+0x3e8e;const _0x41f0f2=(_0x15e9f5,_0x50c8a4,_0x3058d1)=>{const _0x641667=new A(),_0x4d6fc2=new A(),_0x25cdd2=new A(),_0x26d9e9=new A();for(let _0x41f2be=0x27+0x2c*0x1d+-0x1*0x523;_0x41f2be<=_0x50c8a4;_0x41f2be++)for(let _0x31bb10=-0x1*-0x903+-0x1425+0xb22;_0x31bb10<=_0x3058d1;_0x31bb10++){_0x641667['lerp'](_0x36cad8[_0x1f6c38[_0x15e9f5][-0x1*0xa8d+0x1696+-0xc09]],_0x36cad8[_0x1f6c38[_0x15e9f5][0x342+-0x5a*0x45+0x11b*0x13]],_0x41f2be/_0x50c8a4),_0x4d6fc2['lerp'](_0x36cad8[_0x1f6c38[_0x15e9f5][-0x25f9+0x15c6*0x1+0x13f*0xd]],_0x36cad8[_0x1f6c38[_0x15e9f5][0xa*-0x2dd+-0x20a9+0x3d4d]],_0x31bb10/_0x3058d1),_0x25cdd2['sub2'](_0x4d6fc2,_0x36cad8[_0x1f6c38[_0x15e9f5][-0x624*-0x1+-0x49*-0x56+-0x1eaa]]),_0x26d9e9['add2'](_0x641667,_0x25cdd2);let _0xf5e0d9=_0x41f2be/_0x50c8a4,_0x4bd0e5=_0x31bb10/_0x3058d1;_0x1bc25c['push'](_0x26d9e9['x'],_0x26d9e9['y'],_0x26d9e9['z']),_0x3c2514['push'](_0xbeb0ae[_0x15e9f5][0xc78+-0x1*-0x125c+0x4*-0x7b5],_0xbeb0ae[_0x15e9f5][-0x583*-0x1+0xb*0x1d4+0x3*-0x88a],_0xbeb0ae[_0x15e9f5][0x10a9*0x1+-0x11*0x133+-0xef*-0x4]),_0xce773['push'](_0xf5e0d9,-0x21e4+0x1c87+0x55e-_0x4bd0e5),_0xf5e0d9=_0xf5e0d9*F_+ju,_0x4bd0e5=_0x4bd0e5*F_+ju,_0xf5e0d9/=-0x682*-0x5+0xb*-0x32c+0x25d,_0x4bd0e5/=-0x705*-0x5+0xd*-0x2cd+-0x153*-0x1,_0xf5e0d9+=_0x15e9f5%(-0x2b3+-0x14*0x12a+-0xcff*-0x2)/(-0x8bf+0x1*-0xa97+0x1359),_0x4bd0e5+=Math['floor'](_0x15e9f5/(0x22eb+0xf04+-0x31ec))/(0x3*0x427+-0x2298+0x762*0x3),_0x41f2be<_0x50c8a4&&_0x31bb10<_0x3058d1&&(_0x909c7e['push'](_0x53332a+_0x3058d1+(-0x8f1*0x1+0x1*0x2271+-0x197f),_0x53332a+(0x1d3e+0x1813+-0x3550),_0x53332a),_0x909c7e['push'](_0x53332a+_0x3058d1+(0x9c2+0x3*0x343+0x7a*-0x29),_0x53332a+_0x3058d1+(0x38b*0xa+-0x4e8+0x1e84*-0x1),_0x53332a+(0x7*0x101+0x85*0x1a+-0xa44*0x2))),_0x53332a++;}};_0x41f0f2(_0x2a96c2['FRONT'],_0x450254,_0x1ff69b),_0x41f0f2(_0x2a96c2['BACK'],_0x450254,_0x1ff69b),_0x41f0f2(_0x2a96c2['TOP'],_0x450254,_0x3792b7),_0x41f0f2(_0x2a96c2['BOTTOM'],_0x450254,_0x3792b7),_0x41f0f2(_0x2a96c2['RIGHT'],_0x3792b7,_0x1ff69b),_0x41f0f2(_0x2a96c2['LEFT'],_0x3792b7,_0x1ff69b),this['positions']=_0x1bc25c,this['normals']=_0x3c2514,this['uvs']=_0xce773,this['uvs1']=_0xce773,this['indices']=_0x909c7e,_0xb28500['calculateT'+'angents']&&(this['tangents']=pr(_0x1bc25c,_0x3c2514,_0xce773,_0x909c7e));}}class N0 extends _n{constructor(_0x1c78df={}){super();const _0xce172=_0x1c78df['radius']??-0x558*0x2+-0xf81+0x53d*0x5+0.5,_0x4cbb15=_0x1c78df['latitudeBa'+'nds']??-0x1f*0x1f+-0x3*0x6b1+-0x8b*-0x2c,_0x46eea1=_0x1c78df['longitudeB'+'ands']??-0x6ed+-0x49d*-0x1+0x260,_0x164f24=[],_0x3fa9b2=[],_0x4f05dc=[],_0x102ba0=[];for(let _0x595c3d=0xd74+-0xd8e+0x1a;_0x595c3d<=_0x4cbb15;_0x595c3d++){const _0x3ad30e=_0x595c3d*Math['PI']/_0x4cbb15,_0x17a7e0=Math['sin'](_0x3ad30e),_0x3743a8=Math['cos'](_0x3ad30e);for(let _0xc55921=-0x533*0x7+-0x6ee*0x4+0x155f*0x3;_0xc55921<=_0x46eea1;_0xc55921++){const _0x4b49ba=_0xc55921*(0x10f*0x7+0x2243+0x2*-0x14d5)*Math['PI']/_0x46eea1-Math['PI']/(-0x178b+0x2*-0xf1f+-0x125*-0x2f),_0x3e8a52=Math['sin'](_0x4b49ba),_0x488851=Math['cos'](_0x4b49ba)*_0x17a7e0,_0x3b252c=_0x3743a8,_0x5684aa=_0x3e8a52*_0x17a7e0,_0x74a371=0x1*0x116d+-0x1e2f*0x1+0xb*0x129-_0xc55921/_0x46eea1,_0x41d2fd=-0x653+0x1945*0x1+-0x12f1-_0x595c3d/_0x4cbb15;_0x164f24['push'](_0x488851*_0xce172,_0x3b252c*_0xce172,_0x5684aa*_0xce172),_0x3fa9b2['push'](_0x488851,_0x3b252c,_0x5684aa),_0x4f05dc['push'](_0x74a371,0x3e1*0x1+-0x190d*0x1+0x152d-_0x41d2fd);}}for(let _0x3e367d=-0x2e9*-0x3+0x281*-0x4+0x149;_0x3e367d<_0x4cbb15;++_0x3e367d)for(let _0x553f5a=0x241+0x12e5+-0x1526;_0x553f5a<_0x46eea1;++_0x553f5a){const _0x584ff4=_0x3e367d*(_0x46eea1+(0x1e1d+0x9af+-0x27cb))+_0x553f5a,_0x5a5f08=_0x584ff4+_0x46eea1+(0x4*0x783+0x1021+-0x2e2c);_0x102ba0['push'](_0x584ff4+(-0xe44+0x6*-0x3d2+-0x2531*-0x1),_0x5a5f08,_0x584ff4),_0x102ba0['push'](_0x584ff4+(-0xec*-0x16+-0xddc+-0x66b),_0x5a5f08+(-0x5*0x683+-0x62b+0x26bb),_0x5a5f08);}this['positions']=_0x164f24,this['normals']=_0x3fa9b2,this['uvs']=_0x4f05dc,this['uvs1']=_0x4f05dc,this['indices']=_0x102ba0,_0x1c78df['calculateT'+'angents']&&(this['tangents']=pr(_0x164f24,_0x3fa9b2,_0x4f05dc,_0x102ba0));}}class m1 extends N0{constructor(_0x25251a={}){const _0x522bc7=_0x25251a['latitudeBa'+'nds']??0x3*0x239+-0xe21*0x1+0x12*0x6b,_0x49b8e6=_0x25251a['longitudeB'+'ands']??0x204d+0x21e+-0x225b;super({'radius':0.5,'latitudeBands':_0x522bc7,'longitudeBands':_0x49b8e6});const _0x6e7988=0x31b+0x3b2*0x3+-0xe31+0.1,_0x4f1193=-0x9f1*0x1+-0x1d1*-0x15+-0x1c34+0.95,_0x1ba9d7=_0x4f1193*_0x4f1193,_0x2ab59b=this['positions'];for(let _0x5b8389=0x1972+0x215c+-0x3ace;_0x5b8389<_0x2ab59b['length'];_0x5b8389+=-0x721*-0x3+0x165b+0x2bbb*-0x1){const _0x2efc0d=_0x2ab59b[_0x5b8389]/(-0x886+0x80*-0xf+0x1006+0.5);let _0xa49efc=_0x2ab59b[_0x5b8389+(-0xea0+-0x2*-0xaf2+-0xb*0xa9)]/(-0x18b4+0x205*0xb+0x27d+0.5);const _0x53a1ec=_0x2ab59b[_0x5b8389+(0x1d1e+-0x5f1+-0x172b)]/(-0x3c2+-0x1*0x1afb+0xb7*0x2b+0.5);_0xa49efc<0x362+-0x1*-0x190d+-0xfb*0x1d&&(_0xa49efc*=0x163+0x1*0xc89+-0xdec+0.3,_0x2efc0d*_0x2efc0d+_0x53a1ec*_0x53a1ec<_0x1ba9d7&&(_0xa49efc=-(-0x82e*-0x2+0x224f+-0x32ab+0.1))),_0xa49efc+=_0x6e7988,_0xa49efc*=-0x1361+0x1*0x2421+0x86*-0x20+0.5,_0x2ab59b[_0x5b8389+(0x15de+0x236+0x1*-0x1813)]=_0xa49efc;}}}class To{static['create'](_0x14e0f4,_0x4bc233){switch(_0x4bc233){case tw:return To['box'](_0x14e0f4);case sw:return To['dome'](_0x14e0f4);}return b['assert'](_0x4bc233===wo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x4bc233),To['infinite'](_0x14e0f4);}static['infinite'](_0x32f6e2){return ke['fromGeomet'+'ry'](_0x32f6e2,new Yu(_0x32f6e2));}static['box'](_0x37d88e){return ke['fromGeomet'+'ry'](_0x37d88e,new Yu({'yOffset':0.5}));}static['dome'](_0x1f4382){const _0x359b2c=new m1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x359b2c['normals']=void(-0x4*0x6c5+0x1115*0x1+0x9ff),_0x359b2c['uvs']=void(0x71*0x1a+-0x454*0x8+0x1726),ke['fromGeomet'+'ry'](_0x1f4382,_0x359b2c);}}class _1{constructor(_0x1e9e85,_0x5b0939,_0x2b42ea,_0x4e15b9,_0x37a66e){c(this,'meshInstan'+'ce',null);const _0x29b54a=new La({'uniqueName':'SkyMateria'+'l','vertexCode':j['skyboxVS'],'fragmentCode':j['skyboxPS'],'attributes':{'aPosition':Xe}});_0x29b54a['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Ds['decodeFunc'](_0x4e15b9['encoding'])),_0x37a66e!==wo&&_0x29b54a['setDefine']('SKYMESH',''),_0x4e15b9['cubemap']&&_0x29b54a['setDefine']('SKY_CUBEMA'+'P',''),_0x29b54a['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x5b0939['skyboxHigh'+'lightMulti'+'plier']),_0x4e15b9['cubemap']?_0x29b54a['setParamet'+'er']('texture_cu'+'beMap',_0x4e15b9):(_0x29b54a['setParamet'+'er']('texture_en'+'vAtlas',_0x4e15b9),_0x29b54a['setParamet'+'er']('mipLevel',_0x5b0939['skyboxMip'])),_0x29b54a['cull']=xo,_0x29b54a['depthWrite']=!(-0x126+0x251*-0xd+0x1f44);const _0x5f4dcc=_0x5b0939['layers']['getLayerBy'+'Id'](Ap);if(_0x5f4dcc){const _0x3362fb=To['create'](_0x1e9e85,_0x37a66e),_0x13cc29=new Be(_0x3362fb,_0x29b54a,_0x2b42ea);this['meshInstan'+'ce']=_0x13cc29,_0x13cc29['cull']=!(0xc85+-0xa*-0xfb+0x2*-0xb29),_0x13cc29['pick']=!(-0x1cdb*-0x1+-0x1879+-0x461),_0x5f4dcc['addMeshIns'+'tances']([_0x13cc29]),this['skyLayer']=_0x5f4dcc;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class g1{constructor(_0x1dfe05){c(this,'_type',wo),c(this,'_center',new A(0x5b3+0x767*0x5+-0x2ab6,0x334+0x1d26+-0x7*0x49f,0x215*-0x7+-0x1b*0xd3+-0x4*-0x935)),c(this,'skyMesh',null),c(this,'node',new Oe('SkyMeshNod'+'e')),(this['device']=_0x1dfe05['device'],this['scene']=_0x1dfe05,this['center']=new A(-0xd74*-0x1+0x903*-0x1+0x1*-0x471,0xd46*-0x2+-0x9c9*0x3+0x37e8,0x1a6b+-0x23d0+0x965),this['centerArra'+'y']=new Float32Array(0x21d*-0x11+-0x1438+0x3828),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x50023d){this['type']=_0x50023d['skyType']??wo,this['node']['setLocalPo'+'sition'](new A(_0x50023d['skyMeshPos'+'ition']??[-0x25d7+-0xb*0x2ac+-0x433b*-0x1,-0x1*0xf0d+-0xa03+-0x644*-0x4,0x253e+-0x268a+0x14c])),this['node']['setLocalEu'+'lerAngles'](new A(_0x50023d['skyMeshRot'+'ation']??[0x1edd+0x19f3+-0x90*0x65,0xde+0x106+-0x1e4,-0xeba+0x1*-0xa70+0x192a])),this['node']['setLocalSc'+'ale'](new A(_0x50023d['skyMeshSca'+'le']??[-0x71*0x9+0x460+0x22*-0x3,0x1dca+0x1889+-0x22*0x199,0xc*-0x337+0x1*-0x1615+-0x3caa*-0x1])),_0x50023d['skyCenter']&&(this['_center']=new A(_0x50023d['skyCenter']));}set['type'](_0x2a4898){this['_type']!==_0x2a4898&&(this['_type']=_0x2a4898,this['scene']['updateShad'+'ers']=!(-0x313*0x3+0x1*-0xa9b+-0x34e*-0x6),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x28e763){this['_center']['copy'](_0x28e763);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x1e6b1d=this['scene']['_getSkybox'+'Tex']();_0x1e6b1d&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new _1(this['device'],this['scene'],this['node'],_0x1e6b1d,this['type']),this['scene']['fire']('set:skybox',_0x1e6b1d));}['resetSkyMe'+'sh'](){var _0x5e0f22;(_0x5e0f22=this['skyMesh'])==null||_0x5e0f22['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==wo){const {center:_0x24e488,centerArray:_0x242c84}=this,_0x449578=new A();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x24e488,_0x449578),_0x242c84[0x9*0x277+-0x41b*-0x1+-0x1a4a]=_0x449578['x'],_0x242c84[-0x2a1+0x190*-0x12+0x1ec2]=_0x449578['y'],_0x242c84[-0x10b5+-0x1e61+0x2c*0x112]=_0x449578['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x242c84);}}}const jh=new Oe();jh['worldTrans'+'form']=q['IDENTITY'],jh['_dirtyWorl'+'d']=jh['_dirtyNorm'+'al']=!(0x4b0+-0x1063+0xbb4);class y1{constructor(_0x5bea4d,_0x197c1d,_0x3a4644){this['material']=_0x197c1d,this['layer']=_0x3a4644,this['positions']=[],this['colors']=[],this['mesh']=new ke(_0x5bea4d),this['meshInstan'+'ce']=null;}['addLines'](_0x9795c8,_0x577f27){const _0x2acd1e=this['positions'],_0x402cde=_0x9795c8['length'];for(let _0xe2819=-0x955+0x369*-0x7+0x2134;_0xe2819<_0x402cde;_0xe2819++){const _0x3908a9=_0x9795c8[_0xe2819];_0x2acd1e['push'](_0x3908a9['x'],_0x3908a9['y'],_0x3908a9['z']);}const _0x1572d2=this['colors'];if(_0x577f27['length'])for(let _0x45d089=0xbdb+-0x42c+-0x7af;_0x45d089<_0x402cde;_0x45d089++){const _0x4307ad=_0x577f27[_0x45d089];_0x1572d2['push'](_0x4307ad['r'],_0x4307ad['g'],_0x4307ad['b'],_0x4307ad['a']);}else{for(let _0x6bee8c=0xa8+0x1*0x25ed+-0x583*0x7;_0x6bee8c<_0x402cde;_0x6bee8c++)_0x1572d2['push'](_0x577f27['r'],_0x577f27['g'],_0x577f27['b'],_0x577f27['a']);}}['addLinesAr'+'rays'](_0x19854b,_0x73187b){const _0xa45795=this['positions'];for(let _0x3dc8e1=-0x6db+0x5ee+0xed;_0x3dc8e1<_0x19854b['length'];_0x3dc8e1+=0x15b5*0x1+0x6b6*-0x4+-0x526*-0x1)_0xa45795['push'](_0x19854b[_0x3dc8e1],_0x19854b[_0x3dc8e1+(0x1db9+0x368+-0x35*0xa0)],_0x19854b[_0x3dc8e1+(0x8bf+0x1d2*-0x10+0x1463)]);const _0xdd27e6=this['colors'];if(_0x73187b['length']){for(let _0x12dad5=0x128f+-0x2*0x4bd+-0x915;_0x12dad5<_0x73187b['length'];_0x12dad5+=-0xef*-0xd+-0x6bd+-0x562)_0xdd27e6['push'](_0x73187b[_0x12dad5],_0x73187b[_0x12dad5+(0xcb6*-0x1+0x263*-0x1+0x1*0xf1a)],_0x73187b[_0x12dad5+(-0x3*-0x626+0x10b2+-0x2322)],_0x73187b[_0x12dad5+(-0x7fc+-0x18c9+-0x419*-0x8)]);}else{const _0x456e95=_0x19854b['length']/(0x7*-0x3b4+0xb9c*0x3+-0x8e5);for(let _0x50cdb9=0x156d+0x10d*0x6+-0x1f*0xe5;_0x50cdb9<_0x456e95;_0x50cdb9++)_0xdd27e6['push'](_0x73187b['r'],_0x73187b['g'],_0x73187b['b'],_0x73187b['a']);}}['onPreRende'+'r'](_0x54b491,_0x1b46ef){this['positions']['length']>-0x10f3*-0x1+0x55d*-0x7+0x1498&&this['material']['transparen'+'t']===_0x1b46ef&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Lc,!(-0x1ed*-0xb+-0x2*0x95a+0x27a*-0x1)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Be(this['mesh'],this['material'],jh)),_0x54b491['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x9dd+-0x22f+0xc0c,this['colors']['length']=-0xb71+0x56d+-0x37*-0x1c;}}class x1{constructor(_0x13a51d){this['device']=_0x13a51d,this['map']=new Map();}['getBatch'](_0x18f2ac,_0x160889){let _0x58a734=this['map']['get'](_0x18f2ac);return _0x58a734||(_0x58a734=new y1(this['device'],_0x18f2ac,_0x160889),this['map']['set'](_0x18f2ac,_0x58a734)),_0x58a734;}['onPreRende'+'r'](_0x1e7892,_0x1c6f61){this['map']['forEach'](_0x418556=>{_0x418556['onPreRende'+'r'](_0x1e7892,_0x1c6f61);});}['clear'](){this['map']['forEach'](_0x327a2b=>_0x327a2b['clear']());}}const ns=[],kn=new A(),S1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':Xe,'vertex_color':It}};class v1{constructor(_0x100771){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x100771,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x6d0a41){const _0x5848af=new La(S1);return _0x5848af['blendType']=Gt,_0x5848af['depthTest']=_0x6d0a41,_0x5848af['update'](),_0x5848af;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0xf47*-0x1+0x3fc+-0x31*-0x3b))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x98*0x24+0x21*-0x10b+-0x2*-0x1be6))),this['_materialN'+'oDepth'];}['getBatch'](_0x59322b,_0x5ddad6){let _0x347734=this['batchesMap']['get'](_0x59322b);_0x347734||(_0x347734=new x1(this['device']),this['batchesMap']['set'](_0x59322b,_0x347734)),this['allBatches']['add'](_0x347734);const _0xa8e3cc=_0x5ddad6?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x347734['getBatch'](_0xa8e3cc,_0x59322b);}['getShaderD'+'esc'](_0x3453b1,_0x28d8cb){return this['shaderDesc'+'s']['has'](_0x3453b1)||this['shaderDesc'+'s']['set'](_0x3453b1,{'uniqueName':'DebugShade'+'r:'+_0x3453b1,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x28d8cb,'attributes':{'vertex_position':Xe}}),this['shaderDesc'+'s']['get'](_0x3453b1);}['getTexture'+'ShaderDesc'](_0x3a781a){const _0x2c3f5a=Ds['decodeFunc'](_0x3a781a);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x3a781a,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x2c3f5a+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+j['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new ke(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x2301+-0x3c8+-0x26c9*-0x1+0.5),-(-0x23af+-0xf7+0x24a6+0.5),0x25bc+-0x198b+0xc31*-0x1,-0x2c4*0x9+-0x1*0x1421+0x2d05+0.5,-(-0x330*-0x8+-0xb1e+-0x7*0x20e+0.5),0x1b9e+0x19*0xa7+-0x361*0xd,-(0xf96+-0x5*0x313+-0x37+0.5),0x2c8+0x2158+0x2420*-0x1+0.5,0x3dd*-0x3+-0x10d*0x2+0x5*0x2bd,-0xbd*0x1+-0x10f7+0x11b4+0.5,0x1e*0x3f+-0x20e3+-0x1981*-0x1+0.5,0x30*-0x9d+-0x1a35*-0x1+0x33b]),this['quadMesh']['update'](lr)),this['quadMesh'];}['drawMesh'](_0xe425d5,_0x53c6db,_0x1c11a5,_0x4f0606,_0x200d00){if(!_0x4f0606){const _0x47a4d4=this['getGraphNo'+'de'](_0x53c6db);_0x4f0606=new Be(_0x1c11a5,_0xe425d5,_0x47a4d4);}let _0x5d6ccc=this['layerMeshI'+'nstances']['get'](_0x200d00);_0x5d6ccc||(_0x5d6ccc=[],this['layerMeshI'+'nstances']['set'](_0x200d00,_0x5d6ccc)),_0x5d6ccc['push'](_0x4f0606);}['drawWireAl'+'ignedBox'](_0xcf82eb,_0x50e969,_0x2dcac2,_0x3bc224,_0x1d4335,_0x126e39){if(_0x126e39){const _0x3db8c5=(_0x3d7f84,_0x4be53e,_0x3ff502)=>{kn['set'](_0x3d7f84,_0x4be53e,_0x3ff502),_0x126e39['transformP'+'oint'](kn,kn),ns['push'](kn['x'],kn['y'],kn['z']);};_0x3db8c5(_0xcf82eb['x'],_0xcf82eb['y'],_0xcf82eb['z']),_0x3db8c5(_0xcf82eb['x'],_0x50e969['y'],_0xcf82eb['z']),_0x3db8c5(_0xcf82eb['x'],_0x50e969['y'],_0xcf82eb['z']),_0x3db8c5(_0x50e969['x'],_0x50e969['y'],_0xcf82eb['z']),_0x3db8c5(_0x50e969['x'],_0x50e969['y'],_0xcf82eb['z']),_0x3db8c5(_0x50e969['x'],_0xcf82eb['y'],_0xcf82eb['z']),_0x3db8c5(_0x50e969['x'],_0xcf82eb['y'],_0xcf82eb['z']),_0x3db8c5(_0xcf82eb['x'],_0xcf82eb['y'],_0xcf82eb['z']),_0x3db8c5(_0xcf82eb['x'],_0xcf82eb['y'],_0x50e969['z']),_0x3db8c5(_0xcf82eb['x'],_0x50e969['y'],_0x50e969['z']),_0x3db8c5(_0xcf82eb['x'],_0x50e969['y'],_0x50e969['z']),_0x3db8c5(_0x50e969['x'],_0x50e969['y'],_0x50e969['z']),_0x3db8c5(_0x50e969['x'],_0x50e969['y'],_0x50e969['z']),_0x3db8c5(_0x50e969['x'],_0xcf82eb['y'],_0x50e969['z']),_0x3db8c5(_0x50e969['x'],_0xcf82eb['y'],_0x50e969['z']),_0x3db8c5(_0xcf82eb['x'],_0xcf82eb['y'],_0x50e969['z']),_0x3db8c5(_0xcf82eb['x'],_0xcf82eb['y'],_0xcf82eb['z']),_0x3db8c5(_0xcf82eb['x'],_0xcf82eb['y'],_0x50e969['z']),_0x3db8c5(_0xcf82eb['x'],_0x50e969['y'],_0xcf82eb['z']),_0x3db8c5(_0xcf82eb['x'],_0x50e969['y'],_0x50e969['z']),_0x3db8c5(_0x50e969['x'],_0x50e969['y'],_0xcf82eb['z']),_0x3db8c5(_0x50e969['x'],_0x50e969['y'],_0x50e969['z']),_0x3db8c5(_0x50e969['x'],_0xcf82eb['y'],_0xcf82eb['z']),_0x3db8c5(_0x50e969['x'],_0xcf82eb['y'],_0x50e969['z']);}else ns['push'](_0xcf82eb['x'],_0xcf82eb['y'],_0xcf82eb['z'],_0xcf82eb['x'],_0x50e969['y'],_0xcf82eb['z'],_0xcf82eb['x'],_0x50e969['y'],_0xcf82eb['z'],_0x50e969['x'],_0x50e969['y'],_0xcf82eb['z'],_0x50e969['x'],_0x50e969['y'],_0xcf82eb['z'],_0x50e969['x'],_0xcf82eb['y'],_0xcf82eb['z'],_0x50e969['x'],_0xcf82eb['y'],_0xcf82eb['z'],_0xcf82eb['x'],_0xcf82eb['y'],_0xcf82eb['z'],_0xcf82eb['x'],_0xcf82eb['y'],_0x50e969['z'],_0xcf82eb['x'],_0x50e969['y'],_0x50e969['z'],_0xcf82eb['x'],_0x50e969['y'],_0x50e969['z'],_0x50e969['x'],_0x50e969['y'],_0x50e969['z'],_0x50e969['x'],_0x50e969['y'],_0x50e969['z'],_0x50e969['x'],_0xcf82eb['y'],_0x50e969['z'],_0x50e969['x'],_0xcf82eb['y'],_0x50e969['z'],_0xcf82eb['x'],_0xcf82eb['y'],_0x50e969['z'],_0xcf82eb['x'],_0xcf82eb['y'],_0xcf82eb['z'],_0xcf82eb['x'],_0xcf82eb['y'],_0x50e969['z'],_0xcf82eb['x'],_0x50e969['y'],_0xcf82eb['z'],_0xcf82eb['x'],_0x50e969['y'],_0x50e969['z'],_0x50e969['x'],_0x50e969['y'],_0xcf82eb['z'],_0x50e969['x'],_0x50e969['y'],_0x50e969['z'],_0x50e969['x'],_0xcf82eb['y'],_0xcf82eb['z'],_0x50e969['x'],_0xcf82eb['y'],_0x50e969['z']);this['getBatch'](_0x1d4335,_0x3bc224)['addLinesAr'+'rays'](ns,_0x2dcac2),ns['length']=0x218e+-0x265*0x7+-0x10cb;}['drawWireSp'+'here'](_0x3a8108,_0x1e0d12,_0x5c17eb,_0x9e1ede,_0x434fa6,_0x2f0f07){const _0x539e85=(-0xbae+0x163*-0xa+-0xcc7*-0x2)*Math['PI']/_0x9e1ede;let _0x5ca9c1=0x7f7+0x3fe*0x8+0xf*-0x2a9;for(let _0x3929db=-0x1*0x1606+-0x1c66+0x39a*0xe;_0x3929db<_0x9e1ede;_0x3929db++){const _0xb2c7a0=Math['sin'](_0x5ca9c1),_0xf9bee5=Math['cos'](_0x5ca9c1);_0x5ca9c1+=_0x539e85;const _0x293b3a=Math['sin'](_0x5ca9c1),_0xe80aae=Math['cos'](_0x5ca9c1);ns['push'](_0x3a8108['x']+_0x1e0d12*_0xb2c7a0,_0x3a8108['y'],_0x3a8108['z']+_0x1e0d12*_0xf9bee5),ns['push'](_0x3a8108['x']+_0x1e0d12*_0x293b3a,_0x3a8108['y'],_0x3a8108['z']+_0x1e0d12*_0xe80aae),ns['push'](_0x3a8108['x']+_0x1e0d12*_0xb2c7a0,_0x3a8108['y']+_0x1e0d12*_0xf9bee5,_0x3a8108['z']),ns['push'](_0x3a8108['x']+_0x1e0d12*_0x293b3a,_0x3a8108['y']+_0x1e0d12*_0xe80aae,_0x3a8108['z']),ns['push'](_0x3a8108['x'],_0x3a8108['y']+_0x1e0d12*_0xb2c7a0,_0x3a8108['z']+_0x1e0d12*_0xf9bee5),ns['push'](_0x3a8108['x'],_0x3a8108['y']+_0x1e0d12*_0x293b3a,_0x3a8108['z']+_0x1e0d12*_0xe80aae);}this['getBatch'](_0x2f0f07,_0x434fa6)['addLinesAr'+'rays'](ns,_0x5c17eb),ns['length']=0x146e+0x108a+-0xd*0x2d8;}['getGraphNo'+'de'](_0x41399f){const _0x56ba14=new Oe('ImmediateD'+'ebug');return _0x56ba14['worldTrans'+'form']=_0x41399f,_0x56ba14['_dirtyWorl'+'d']=_0x56ba14['_dirtyNorm'+'al']=!(0x11b0+0x4c0+-0x166f),_0x56ba14;}['onPreRende'+'rLayer'](_0x1b320a,_0x3714f9,_0x3fe711){if(this['batchesMap']['forEach']((_0x434862,_0x285ca1)=>{_0x285ca1===_0x1b320a&&_0x434862['onPreRende'+'r'](_0x3714f9,_0x3fe711);}),!this['updatedLay'+'ers']['has'](_0x1b320a)){this['updatedLay'+'ers']['add'](_0x1b320a);const _0x3cb189=this['layerMeshI'+'nstances']['get'](_0x1b320a);if(_0x3cb189){for(let _0x3e04cd=-0xbfe+-0x26e*-0xe+-0x1606;_0x3e04cd<_0x3cb189['length'];_0x3e04cd++)_0x3714f9['push'](_0x3cb189[_0x3e04cd]);_0x3cb189['length']=-0x55d+-0xc01+0x1*0x115e;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x30ceda=>_0x30ceda['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class b1{constructor(){c(this,'type',Ba),c(this,'color',new Y(-0x2*0xc61+0x1*0xf89+0x939,-0x1a1b+0x25d8+-0xbbd,0x170b+0x949*0x3+-0x2*0x1973)),c(this,'density',-0x1f12+-0x1*0x138d+0x329f),c(this,'start',-0x2d7*0xa+-0x1849*-0x1+0x22*0x1f),c(this,'end',0x1015+-0x41*0x19+-0x5d4);}}class mi extends de{constructor(_0x4d18d4){super(),c(this,'ambientBak'+'e',!(-0x47*0x7b+0x25f9+-0x7*0x8d)),c(this,'ambientBak'+'eOcclusion'+'Brightness',0x1e*0x13e+-0x1*0x2005+-0x53f),c(this,'ambientBak'+'eOcclusion'+'Contrast',-0xcf1+0x74f*0x3+-0x8fc),c(this,'ambientLig'+'ht',new Y(-0x66a*-0x6+-0x65*-0x5a+0x4d*-0xf6,-0x9*0x33b+0xe*0x251+-0x1*0x35b,-0x966+0x955+-0x1*-0x11)),c(this,'ambientLum'+'inance',0x1c59+0x22dd+0x12*-0x383),c(this,'exposure',-0x469*0x2+0x1a95*-0x1+0x2368),c(this,'lightmapSi'+'zeMultipli'+'er',0x2453+-0x1607+0xe4b*-0x1),c(this,'lightmapMa'+'xResolutio'+'n',0x2605*-0x1+0x1bed+-0xc1*-0x18),c(this,'lightmapMo'+'de',mh),c(this,'lightmapFi'+'lterEnable'+'d',!(0xb2*0x14+0x11c9+-0x1fb0)),c(this,'lightmapHD'+'R',!(-0xb7*0x13+0x22*-0x96+-0x2*-0x10c1)),c(this,'root',null),c(this,'physicalUn'+'its',!(-0x98d+0x298+0x6f6)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new b1()),(b['assert'](_0x4d18d4,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x4d18d4,this['_gravity']=new A(0x1cfe+-0x1a7b*0x1+-0x283,-(-0x63d*-0x2+-0x20aa*-0x1+-0xf09*0x3+0.8000000000000007),0x774*-0x2+-0x104a+-0x42*-0x79),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x23d3*-0x1+0xb5*0x16+-0x8*0x66c,this['_skyboxLum'+'inance']=0x21bd+0x18d7+-0x3a94,this['_skyboxMip']=-0x1d*-0xeb+-0xc15*-0x2+0x32c9*-0x1,this['_skyboxHig'+'hlightMult'+'iplier']=-0x133b+-0x135b+0x2697,this['_skyboxRot'+'ationShade'+'rInclude']=!(0x576+0x144b+0xce0*-0x2),this['_skyboxRot'+'ation']=new ie(),this['_skyboxRot'+'ationMat3']=new Js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=0xea9+-0x45*0x59+-0x955*-0x1,this['_ambientBa'+'keSpherePa'+'rt']=-0x87*-0x1c+0x1*0x270a+-0x35ce+0.4,this['_lightmapF'+'ilterRange']=0x1*-0x121d+0x4f*-0x45+0x2772,this['_lightmapF'+'ilterSmoot'+'hness']=0x749+0x115*-0xd+0x1*0x6c8+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x137d+0x1*0x1af+-0x152c),this['_lightingP'+'arams']=new F0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(-0x1867+-0x265a+-0x9*-0x6f9);}),this['_sky']=new g1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x1c75+0x64b+0x162a),this['_shaderVer'+'sion']=-0x3a*0x42+0xbbb+0x339,this['immediate']=new v1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Ep);}set['ambientBak'+'eNumSample'+'s'](_0x4681aa){this['_ambientBa'+'keNumSampl'+'es']=z['clamp'](Math['floor'](_0x4681aa),0x57*0x55+-0x3*-0xbff+0x1*-0x40df,0xd2+0xdb5+0x6c4*-0x2);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x5a6dcf){this['_ambientBa'+'keSpherePa'+'rt']=z['clamp'](_0x5a6dcf,-0x1*-0x1fde+-0x290*-0x2+-0x24fe+0.001,-0x1de3+-0x15f9+0x33dd);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x37ad71){if(this['device']['isWebGPU']&&!_0x37ad71){b['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x37ad71){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x37ad71;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x7f1ea2){_0x7f1ea2!==this['_envAtlas']&&(this['_envAtlas']=_0x7f1ea2,_0x7f1ea2&&(_0x7f1ea2['addressU']=oe,_0x7f1ea2['addressV']=oe,_0x7f1ea2['minFilter']=at,_0x7f1ea2['magFilter']=at,_0x7f1ea2['mipmaps']=!(0x34f*-0x1+0x876+-0x526*0x1)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x263200){const _0x5a01c9=this['_layers'];this['_layers']=_0x263200,this['fire']('set:layers',_0x5a01c9,_0x263200);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x149745){this['_lightmapF'+'ilterRange']=Math['max'](_0x149745,-0xee3+0x3*-0x3b4+0x19ff+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x2208be){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x2208be,0x919+-0x46*-0x4+-0xa31*0x1+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x10c417){_0x10c417=_0x10c417||[];const _0x5094e9=this['_prefilter'+'edCubemaps'];(_0x5094e9['length']!==_0x10c417['length']||_0x5094e9['some']((_0x3d9b42,_0x444901)=>_0x3d9b42!==_0x10c417[_0x444901]))&&(_0x10c417['length']===0x11*-0x22c+0x1ee8+0x60a&&_0x10c417['every'](_0x229206=>!!_0x229206)?(this['_internalE'+'nvAtlas']=P0['generatePr'+'efilteredA'+'tlas'](_0x10c417,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x10c417['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x1084b){_0x1084b!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x1084b,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x4db5ab){_0x4db5ab!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x4db5ab,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x4633a2){_0x4633a2!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x4633a2,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x4885b3){_0x4885b3!==this['_skyboxMip']&&(this['_skyboxMip']=_0x4885b3,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x5d7864){_0x5d7864!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x5d7864,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x59922a){if(!this['_skyboxRot'+'ation']['equals'](_0x59922a)){const _0x346be1=_0x59922a['equals'](ie['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x59922a),_0x346be1?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](A['ZERO'],_0x59922a,A['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x346be1&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0xdb8+-0x20de+0x102*0x13),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0xab1be0,_0x1aeed3,_0x4890cc=Y['WHITE'],_0x2043a6=!(0x109*-0x14+-0x49*0x27+-0x1*-0x1fd3),_0x3ec05b=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x3ec05b,_0x2043a6)['addLines']([_0xab1be0,_0x1aeed3],[_0x4890cc,_0x4890cc]);}['drawLines'](_0x39595b,_0x581670,_0x200d6b=!(-0x10*-0x16f+0x23b9+-0x3aa9),_0x5415a7=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x5415a7,_0x200d6b)['addLines'](_0x39595b,_0x581670);}['drawLineAr'+'rays'](_0x4dd718,_0xc5d6ae,_0x4e687a=!(0x236*0x7+0x1f5+0x116f*-0x1),_0x427c58=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x427c58,_0x4e687a)['addLinesAr'+'rays'](_0x4dd718,_0xc5d6ae);}['applySetti'+'ngs'](_0x38d953){const _0x4a3347=_0x38d953['physics'],_0x38b69f=_0x38d953['render'];this['_gravity']['set'](_0x4a3347['gravity'][-0x3*-0xca5+-0x855+-0x1d9a],_0x4a3347['gravity'][0x63+0x11aa*0x1+-0x120c],_0x4a3347['gravity'][-0xc16+0x63a*0x3+-0x696]),this['ambientLig'+'ht']['set'](_0x38b69f['global_amb'+'ient'][-0x3*-0x9b7+0x160c+-0x3331*0x1],_0x38b69f['global_amb'+'ient'][0x2*0x108d+0x243f+0x27a*-0x1c],_0x38b69f['global_amb'+'ient'][-0x125c+0x8db*-0x1+0x1*0x1b39]),this['ambientLum'+'inance']=_0x38b69f['ambientLum'+'inance'],this['fog']['type']=_0x38b69f['fog'],this['fog']['color']['set'](_0x38b69f['fog_color'][-0x4*0x62f+0xc07*0x1+-0xcb5*-0x1],_0x38b69f['fog_color'][-0x3d1*-0x1+0x1dd4+0x869*-0x4],_0x38b69f['fog_color'][-0x1e13+-0x1b47*-0x1+-0x167*-0x2]),this['fog']['start']=_0x38b69f['fog_start'],this['fog']['end']=_0x38b69f['fog_end'],this['fog']['density']=_0x38b69f['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x38b69f['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x38b69f['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x38b69f['lightmapMo'+'de'],this['exposure']=_0x38b69f['exposure'],this['_skyboxInt'+'ensity']=_0x38b69f['skyboxInte'+'nsity']??-0xd5b+0x200c+-0x12b0,this['_skyboxLum'+'inance']=_0x38b69f['skyboxLumi'+'nance']??-0x4*-0xed1+-0x3*-0x2e35+-0x17*0x535,this['_skyboxMip']=_0x38b69f['skyboxMip']??-0xb8*-0x29+0x119*0x1+-0x1e91*0x1,_0x38b69f['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new ie()['setFromEul'+'erAngles'](_0x38b69f['skyboxRota'+'tion'][-0x1039*0x1+0x1d89+-0xd50],_0x38b69f['skyboxRota'+'tion'][-0x1346+-0x7d*0x21+0x3c*0x97],_0x38b69f['skyboxRota'+'tion'][-0x425*0x3+0xde0+0x16f*-0x1])),this['sky']['applySetti'+'ngs'](_0x38b69f),this['clusteredL'+'ightingEna'+'bled']=_0x38b69f['clusteredL'+'ightingEna'+'bled']??!(0x126d*-0x1+0xc5f*-0x1+-0x5*-0x629),this['lighting']['applySetti'+'ngs'](_0x38b69f),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x5d7cca=>{_0x38b69f['hasOwnProp'+'erty'](_0x5d7cca)&&(this[_0x5d7cca]=_0x38b69f[_0x5d7cca]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x278f8d=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x278f8d[[0x202a+0x159e+-0xd72*0x4,-0x7b3+-0xa0*0xa+0xdf4,-0xde1+-0x183d+-0x2b*-0xe3,0x3a*-0x3d+0x1d*-0x4a+-0x58e*-0x4,-0x16c1+0x26e3+-0x101d,-0x13d*-0x1d+-0x20e1+-0x302][this['_skyboxMip']]]||this['_envAtlas']||_0x278f8d[0x119*-0xa+0x4b1+0x649]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x278f8d[-0x86d+0x1a5+0x6c8]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(0xf51+0x6e4+0xf*-0x17b);}['setSkybox'](_0x1e4b1d){_0x1e4b1d?(this['skybox']=_0x1e4b1d[-0x1792+0x13f9*-0x1+-0x2b8b*-0x1]||null,_0x1e4b1d[0x3*-0x12d+-0x1ad3+0x1e5b]&&!_0x1e4b1d[0x21e4*-0x1+-0x18f3+0x3ad8]['cubemap']?this['envAtlas']=_0x1e4b1d[-0xed2+-0x1*-0xe72+-0x61*-0x1]:this['prefiltere'+'dCubemaps']=_0x1e4b1d['slice'](-0x1*-0x1a41+-0x1*-0x502+-0x1f42)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Te;}}c(mi,'EVENT_SETL'+'AYERS','set:layers'),c(mi,'EVENT_SETS'+'KYBOX','set:skybox'),c(mi,'EVENT_PRER'+'ENDER','prerender'),c(mi,'EVENT_POST'+'RENDER','postrender'),c(mi,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(mi,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(mi,'EVENT_PREC'+'ULL','precull'),c(mi,'EVENT_POST'+'CULL','postcull');class z0{constructor(_0x16a169,_0x1caf1b,_0x2589e3){this['device']=_0x16a169,this['inverseBin'+'dPose']=_0x1caf1b,this['boneNames']=_0x2589e3;}}const w1=[0xb5a*-0x1+-0xc6b+-0x4c1*-0x5,0x2*-0x571+0x164*0x10+-0xb5e,-0xc4a+0x1812+-0xc9*0xf,0x15c8+0x2609+0x1*-0x3bd1,0x623*0x5+0x26b3+-0x4562,0x3b*0x99+0x119c+-0x34de,-0x6e6+0x1*0x27b+0x46b*0x1,0x7*-0x1a6+0x4*-0x551+0x20ce,0x510+0x1*-0x476+-0x99,0x368+0x4bd+-0x825,-0x95*0x31+-0x1ebb*0x1+-0x18*-0x278,0x663*0x1+0x53*0x19+-0xe7d*0x1],T1=[-0x18f7*0x1+0x1c1e*-0x1+0x1*0x3515,0x6a9+-0x562+-0x146,0xb*-0x2ae+0x1022+-0xd5b*-0x1,0x23c8+0x1fb3+-0x1*0x4379,-0x205*0x11+-0x6*-0x34d+0xe8a,0x1*0x1cfe+0xa*0x3d6+-0x4359];class A1 extends de{constructor(_0x4e22b2,_0x1a39bc){super(),this['_device']=_0x4e22b2,this['_pixelsPer'+'Unit']=_0x1a39bc&&_0x1a39bc['pixelsPerU'+'nit']!==void(0x9a0+-0x1*-0x1eab+-0x5*0x80f)?_0x1a39bc['pixelsPerU'+'nit']:0x23*0x3e+0x232c+0x1*-0x2ba5,this['_renderMod'+'e']=_0x1a39bc&&_0x1a39bc['renderMode']!==void(-0x1a33+-0x2*-0x20f+-0x1*-0x1615)?_0x1a39bc['renderMode']:Pi,this['_atlas']=_0x1a39bc&&_0x1a39bc['atlas']!==void(0x12*0x12f+0x89*-0x2c+-0xe*-0x29)?_0x1a39bc['atlas']:null,this['_frameKeys']=_0x1a39bc&&_0x1a39bc['frameKeys']!==void(-0x1*-0x124d+-0xe21*-0x1+-0x206e)?_0x1a39bc['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(-0x3*-0xbd1+-0x181+-0x21f1),this['_meshesDir'+'ty']=!(0x25a7+-0x1*-0x2456+-0x49fc),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x4dcb16){this['_frameKeys']=_0x4dcb16,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0xbb2+-0x89b*0x1+-0x317):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x4dcb16);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x440b67){_0x440b67!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x440b67,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x236+0xf*-0x53+0x2a7):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x440b67));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x281b2c){this['_pixelsPer'+'Unit']!==_0x281b2c&&(this['_pixelsPer'+'Unit']=_0x281b2c,this['fire']('set:pixels'+'PerUnit',_0x281b2c),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Pi&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x2285*0x1+0x2*0x972+-0x3569):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x3d5631){if(this['_renderMod'+'e']===_0x3d5631)return;const _0x19cd35=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x3d5631,this['fire']('set:render'+'Mode',_0x3d5631),(_0x19cd35===Pi||_0x3d5631===Pi)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x270c+-0x1*-0x1c0d+0x233*0x5):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x2543e3=this['_meshes']['length'];for(let _0x285fec=0x2504+-0x733*0x1+-0x1c1*0x11;_0x285fec<_0x2543e3;_0x285fec++){const _0x39bb67=this['_meshes'][_0x285fec];_0x39bb67&&_0x39bb67['destroy']();}const _0x1c6ab1=this['_frameKeys']['length'];this['_meshes']=new Array(_0x1c6ab1);const _0x28c5b6=this['renderMode']===ht||this['_renderMod'+'e']===st?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0xdc4790=0x3*-0xc9a+0x22b*0x5+0x1af7;_0xdc4790<_0x1c6ab1;_0xdc4790++){const _0x53beb2=this['_atlas']['frames'][this['_frameKeys'][_0xdc4790]];this['_meshes'][_0xdc4790]=_0x53beb2?_0x28c5b6['call'](this,_0x53beb2):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x50f880){const _0x54d60a=_0x50f880['rect'],_0x109c72=this['_atlas']['texture']['width'],_0x49600c=this['_atlas']['texture']['height'],_0x5652ad=_0x54d60a['z']/this['_pixelsPer'+'Unit'],_0x3bba9b=_0x54d60a['w']/this['_pixelsPer'+'Unit'],_0x4a340f=_0x50f880['pivot']['x'],_0x1a7db6=_0x50f880['pivot']['y'],_0x262651=[-_0x4a340f*_0x5652ad,-_0x1a7db6*_0x3bba9b,0x270a+-0x1*0xa43+-0x1cc7,(-0x7*0x53f+-0x17*0x177+0x466b-_0x4a340f)*_0x5652ad,-_0x1a7db6*_0x3bba9b,-0xa06+0x1*0x1391+-0x98b,(0x2375+0x5*-0x4ec+-0x15b*0x8-_0x4a340f)*_0x5652ad,(0x391+-0x12e4+0xf54-_0x1a7db6)*_0x3bba9b,-0xbbd+0xd45+0x8*-0x31,-_0x4a340f*_0x5652ad,(0x23bf+0x1929+-0x3ce7-_0x1a7db6)*_0x3bba9b,0xa50+0xee*-0xf+0x3a2],_0x54c088=_0x54d60a['x']/_0x109c72,_0x2e36cd=-0x1*-0xced+0x22de+-0x2fca-_0x54d60a['y']/_0x49600c,_0x97d2ee=(_0x54d60a['x']+_0x54d60a['z'])/_0x109c72,_0x246cbc=0x494+0x1b39*0x1+0x172*-0x16-(_0x54d60a['y']+_0x54d60a['w'])/_0x49600c,_0x2091cc=[_0x54c088,_0x2e36cd,_0x97d2ee,_0x2e36cd,_0x97d2ee,_0x246cbc,_0x54c088,_0x246cbc],_0x4bb095=new _n();return _0x4bb095['positions']=_0x262651,_0x4bb095['normals']=w1,_0x4bb095['uvs']=_0x2091cc,_0x4bb095['indices']=T1,ke['fromGeomet'+'ry'](this['_device'],_0x4bb095);}['_create9Sl'+'iceMesh'](){const _0x4f4a5b=W['ONE'],_0x4e745d=-0x1*-0x379+0x1c*-0x116+0x1af2*0x1,_0x7950ae=0x1*0x1c49+0xea6+-0x2aec,_0x4e326f=[],_0x46b73a=[],_0x29c5e5=[],_0x29b13b=[];let _0x3fad0b=-0x35b+0x1*0x11f5+-0x4de*0x3;for(let _0x2bfeaa=-0xb*-0xa4+0x13c+0x2*-0x424;_0x2bfeaa<=_0x4e745d;_0x2bfeaa++){const _0x5514eb=_0x2bfeaa===-0x3a*0xa3+0x1abb*-0x1+0x3fa9||_0x2bfeaa===_0x4e745d?0x2145+0x18*0x32+-0x3*0xca7:-0x1*0x25f1+-0x546+-0x6*-0x734;for(let _0x16ac50=0xe32+0x1*0x1a79+-0x28ab;_0x16ac50<=_0x7950ae;_0x16ac50++){const _0x474ffa=-_0x4f4a5b['x']+(0x11f2*0x2+-0xf8c+-0x2*0xa2b)*_0x4f4a5b['x']*(_0x2bfeaa<=-0x235*-0x9+0x21ed+-0x35c9*0x1?-0x1e8a+0x1ba0+0x2ea:0x78b*-0x1+-0x1*0x126+-0x8b4*-0x1)/_0x4e745d,_0x1eb759=0x92e+-0xea4+0x576,_0x70c031=-(-_0x4f4a5b['y']+(-0x1ff4+0x206e+-0x78)*_0x4f4a5b['y']*(_0x16ac50<=-0x13b0+-0x25ee+0x53d*0xb?-0x1*0x1406+0xd1*-0x27+0x33dd:0x16*-0x152+-0x30a*0xa+-0x13*-0x321)/_0x7950ae),_0x5be649=_0x16ac50===-0x92*0x3b+-0x1*0x315+-0x1*-0x24bb||_0x16ac50===_0x7950ae?-0x1c7e+-0x2b*0x87+0x1*0x332b:-0x353+0x59*-0x2c+0x12a0;_0x4e326f['push'](-_0x474ffa,_0x1eb759,_0x70c031),_0x46b73a['push'](-0xc3*0x9+0x7c*0x4+0x4eb,-0x2*0x6fe+0x1710+-0x913,-0x57*0x6b+-0x5f0+0x2a4d),_0x29c5e5['push'](_0x5514eb,_0x5be649),_0x2bfeaa<_0x4e745d&&_0x16ac50<_0x7950ae&&(_0x29b13b['push'](_0x3fad0b+_0x7950ae+(-0xaff+-0x1d0f+0x280f),_0x3fad0b+(0x1*0x16e0+0x2070+-0x374f),_0x3fad0b),_0x29b13b['push'](_0x3fad0b+_0x7950ae+(-0x28f*0xb+0x1f*-0x136+0x41b0),_0x3fad0b+_0x7950ae+(0x1aca+-0x17f1+0x2d7*-0x1),_0x3fad0b+(-0x6b6+-0x1f94+0x264b))),_0x3fad0b++;}}const _0x2c5f71=new _n();return _0x2c5f71['positions']=_0x4e326f,_0x2c5f71['normals']=_0x46b73a,_0x2c5f71['uvs']=_0x29c5e5,_0x2c5f71['indices']=_0x29b13b,ke['fromGeomet'+'ry'](this['_device'],_0x2c5f71);}['_onSetFram'+'es'](_0x186af7){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x14b+0x1904+-0x17b9):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x24061a,_0x48377b){const _0x1e1646=this['_frameKeys']['indexOf'](_0x24061a);_0x1e1646<0xe1b+0x1139+-0x1f54||(_0x48377b?this['renderMode']===Pi&&(this['_meshes'][_0x1e1646]=this['_createSim'+'pleMesh'](_0x48377b)):this['_meshes'][_0x1e1646]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x8f1ea){const _0x198595=this['_frameKeys']['indexOf'](_0x8f1ea);_0x198595<0xd7d+0x1651+0x23ce*-0x1||(this['_meshes'][_0x198595]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(0x26c+0x7*0x147+-0x1*0xb5d),this['_meshesDir'+'ty']=!(-0x7a9*-0x3+-0x23b2+0xb*0x128);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x112c+-0x19a7+-0x4*-0x21f),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(-0x959*0x1+-0xfc9+-0x3*-0x861);}['destroy'](){for(const _0x3e1a63 of this['_meshes'])_0x3e1a63&&_0x3e1a63['destroy']();this['_meshes']['length']=0x10d6+-0xe5c+-0x27a;}}class E1 extends de{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x2e0b29){this['_texture']=_0x2e0b29,this['fire']('set:textur'+'e',_0x2e0b29);}get['texture'](){return this['_texture'];}set['frames'](_0x19bd80){this['_frames']=_0x19bd80,this['fire']('set:frames',_0x19bd80);}get['frames'](){return this['_frames'];}['setFrame'](_0x1259ca,_0x28de01){let _0x32e6be=this['_frames'][_0x1259ca];_0x32e6be?(_0x32e6be['rect']['copy'](_0x28de01['rect']),_0x32e6be['pivot']['copy'](_0x28de01['pivot']),_0x32e6be['border']['copy'](_0x28de01['border'])):(_0x32e6be={'rect':_0x28de01['rect']['clone'](),'pivot':_0x28de01['pivot']['clone'](),'border':_0x28de01['border']['clone']()},this['_frames'][_0x1259ca]=_0x32e6be),this['fire']('set:frame',_0x1259ca['toString'](),_0x32e6be);}['removeFram'+'e'](_0x385e48){const _0x2e87df=this['_frames'][_0x385e48];_0x2e87df&&(delete this['_frames'][_0x385e48],this['fire']('remove:fra'+'me',_0x385e48['toString'](),_0x2e87df));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class k_{constructor(_0x364a15,_0x284d41,_0x6edbf1,_0x571c7e){this['time']=_0x364a15,this['position']=_0x284d41,this['rotation']=_0x6edbf1,this['scale']=_0x571c7e;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class B_{constructor(){c(this,'name',''),c(this,'duration',-0x19f*-0x13+0x54f*0x7+-0x43f6),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x290688){return this['_nodeDict'][_0x290688];}['addNode'](_0x3ae99b){this['_nodes']['push'](_0x3ae99b),this['_nodeDict'][_0x3ae99b['_name']]=_0x3ae99b;}get['nodes'](){return this['_nodes'];}}class C1{constructor(){this['_written']=!(0x4*-0x21f+-0xd64*-0x1+-0x4e7),this['_name']='',this['_keyFrames']=[],this['_quat']=new ie(),this['_pos']=new A(),this['_scale']=new A(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x2fc4fa){this['_targetNod'+'e']=_0x2fc4fa;}}class jd{constructor(_0x54b4b3){c(this,'looping',!(-0x1bbd+0x5b*0x9+0x188a)),(this['_animation']=null,this['_time']=0x225c+0x1*0x2043+0xf*-0x471,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x1e188c=_0x2d9d7b=>{const _0x3e2c7d=new C1();_0x3e2c7d['_name']=_0x2d9d7b['name'],this['_interpola'+'tedKeys']['push'](_0x3e2c7d),this['_interpola'+'tedKeyDict'][_0x2d9d7b['name']]=_0x3e2c7d,this['_currKeyIn'+'dices'][_0x2d9d7b['name']]=-0x1*0x2166+-0x3b*-0xa8+-0x552;for(let _0x3faae5=-0x1c*-0xe9+-0xa*-0x85+-0x22*0xe7;_0x3faae5<_0x2d9d7b['_children']['length'];_0x3faae5++)_0x1e188c(_0x2d9d7b['_children'][_0x3faae5]);};_0x1e188c(_0x54b4b3);}set['animation'](_0x1e157c){this['_animation']=_0x1e157c,this['currentTim'+'e']=-0x1*-0x7d7+-0x1b37+0x136*0x10;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x28b65b){this['_time']=_0x28b65b;const _0x5120db=this['_interpola'+'tedKeys']['length'];for(let _0x5a80b3=0x40*-0x6d+-0x1a33+0x3573;_0x5a80b3<_0x5120db;_0x5a80b3++){const _0x4fbae8=this['_interpola'+'tedKeys'][_0x5a80b3]['_name'];this['_currKeyIn'+'dices'][_0x4fbae8]=-0x467*0x7+0x25*0x94+0x96d;}this['addTime'](0x1d41+-0x1*-0x59f+-0x1170*0x2),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x1cf0c2){if(this['_animation']!==null){const _0x5ef2b7=this['_animation']['_nodes'],_0xfb3d14=this['_animation']['duration'];if(this['_time']===_0xfb3d14&&!this['looping'])return;if(this['_time']+=_0x1cf0c2,this['_time']>_0xfb3d14){this['_time']=this['looping']?-0x2028+0x1d3c+0x2ec:_0xfb3d14;for(let _0x5effd5=-0x1936+0x1*0x1fd2+-0x69c*0x1;_0x5effd5<_0x5ef2b7['length'];_0x5effd5++){const _0x3e1e32=_0x5ef2b7[_0x5effd5]['_name'];this['_currKeyIn'+'dices'][_0x3e1e32]=-0xb8*0x6+-0x4*0x482+0x1658;}}else{if(this['_time']<-0x2335+-0x1*-0x1215+-0x112*-0x10){this['_time']=this['looping']?_0xfb3d14:0x11*0x1ff+-0x1ee7*0x1+-0x308;for(let _0x4f0597=0x671*-0x3+0x464*-0x8+-0x35*-0x107;_0x4f0597<_0x5ef2b7['length'];_0x4f0597++){const _0x246cc9=_0x5ef2b7[_0x4f0597],_0x53bf45=_0x246cc9['_name'];this['_currKeyIn'+'dices'][_0x53bf45]=_0x246cc9['_keys']['length']-(-0x10e8+-0x45d+0x1547);}}}const _0x321ccc=_0x1cf0c2>=-0x9aa*0x4+0x1a2*-0x10+-0x819*-0x8?-0x2b*0xd1+-0xa93+0x2daf:-(-0x26f4+-0x201c+0x4711);for(let _0xe5d957=-0xf1*-0x9+0x1fe*0x8+-0x1869;_0xe5d957<_0x5ef2b7['length'];_0xe5d957++){const _0x4af1d3=_0x5ef2b7[_0xe5d957],_0x29a1b4=_0x4af1d3['_name'],_0x52caa9=_0x4af1d3['_keys'],_0x1b2f86=this['_interpola'+'tedKeyDict'][_0x29a1b4];if(_0x1b2f86===void(-0x35*0x2f+-0x165*-0x5+0x161*0x2)){b['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x29a1b4);continue;}let _0x3f4501=!(-0x6e0+0x175*-0xa+0x1573);if(_0x52caa9['length']!==0x77*-0x31+0x1*0x22a9+-0xbe1)for(let _0x7c68f7=this['_currKeyIn'+'dices'][_0x29a1b4];_0x7c68f7<_0x52caa9['length']-(-0xc*0x1bb+0x1*-0x1a2f+0x2ef4)&&_0x7c68f7>=0x1*-0x9a8+-0x2*0x11e4+0x2d70;_0x7c68f7+=_0x321ccc){const _0x5ee420=_0x52caa9[_0x7c68f7],_0xb99d51=_0x52caa9[_0x7c68f7+(-0xceb+-0x23c2+-0x1*-0x30ae)];if(_0x5ee420['time']<=this['_time']&&_0xb99d51['time']>=this['_time']){const _0x33c286=(this['_time']-_0x5ee420['time'])/(_0xb99d51['time']-_0x5ee420['time']);_0x1b2f86['_pos']['lerp'](_0x5ee420['position'],_0xb99d51['position'],_0x33c286),_0x1b2f86['_quat']['slerp'](_0x5ee420['rotation'],_0xb99d51['rotation'],_0x33c286),_0x1b2f86['_scale']['lerp'](_0x5ee420['scale'],_0xb99d51['scale'],_0x33c286),_0x1b2f86['_written']=!(0x89*0x17+-0x144c+0x7fd),this['_currKeyIn'+'dices'][_0x29a1b4]=_0x7c68f7,_0x3f4501=!(-0x61*0x5c+0x1*0x1bf6+0x2*0x373);break;}}(_0x52caa9['length']===-0x2*0x10+-0x1*-0x987+-0x191*0x6||!_0x3f4501&&this['_time']===0x19*-0xc9+0xc*0x1+-0x3*-0x687&&this['looping'])&&(_0x1b2f86['_pos']['copy'](_0x52caa9[-0x1*-0x706+0x32*-0x4f+-0x2*-0x434]['position']),_0x1b2f86['_quat']['copy'](_0x52caa9[-0x1*-0xdf1+0x41*0x51+-0x2282]['rotation']),_0x1b2f86['_scale']['copy'](_0x52caa9[0x1ce*0x1+-0x10e1+0xf13]['scale']),_0x1b2f86['_written']=!(0x528+-0xdf*0x7+0xf1*0x1));}}}['blend'](_0x170f23,_0x5d21ba,_0x278602){const _0x868281=this['_interpola'+'tedKeys']['length'];for(let _0x554092=-0x18bf+-0x34*-0xa4+0x33*-0x2b;_0x554092<_0x868281;_0x554092++){const _0x586201=_0x170f23['_interpola'+'tedKeys'][_0x554092],_0x1abb15=_0x5d21ba['_interpola'+'tedKeys'][_0x554092],_0x25f806=this['_interpola'+'tedKeys'][_0x554092];_0x586201['_written']&&_0x1abb15['_written']?(_0x25f806['_quat']['slerp'](_0x586201['_quat'],_0x5d21ba['_interpola'+'tedKeys'][_0x554092]['_quat'],_0x278602),_0x25f806['_pos']['lerp'](_0x586201['_pos'],_0x5d21ba['_interpola'+'tedKeys'][_0x554092]['_pos'],_0x278602),_0x25f806['_scale']['lerp'](_0x586201['_scale'],_0x1abb15['_scale'],_0x278602),_0x25f806['_written']=!(0x1a*0xe8+-0xad*0xc+-0xf74)):_0x586201['_written']?(_0x25f806['_quat']['copy'](_0x586201['_quat']),_0x25f806['_pos']['copy'](_0x586201['_pos']),_0x25f806['_scale']['copy'](_0x586201['_scale']),_0x25f806['_written']=!(-0x2235+0x33d*-0x7+0xe0*0x41)):_0x1abb15['_written']&&(_0x25f806['_quat']['copy'](_0x1abb15['_quat']),_0x25f806['_pos']['copy'](_0x1abb15['_pos']),_0x25f806['_scale']['copy'](_0x1abb15['_scale']),_0x25f806['_written']=!(0x25bd+0x1*-0x1989+-0x8e*0x16));}}['setGraph'](_0x431681){if(this['graph']=_0x431681,_0x431681)for(let _0x26d253=-0x2*0xf65+0xe*-0x76+0x253e;_0x26d253<this['_interpola'+'tedKeys']['length'];_0x26d253++){const _0x4cc082=this['_interpola'+'tedKeys'][_0x26d253],_0x15189f=_0x431681['findByName'](_0x4cc082['_name']);this['_interpola'+'tedKeys'][_0x26d253]['setTarget'](_0x15189f);}else{for(let _0x29b845=0xc73+-0x5*0x265+-0x7a*0x1;_0x29b845<this['_interpola'+'tedKeys']['length'];_0x29b845++)this['_interpola'+'tedKeys'][_0x29b845]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x2fe8de=0x2705+-0x1d0c+-0x9f9;_0x2fe8de<this['_interpola'+'tedKeys']['length'];_0x2fe8de++){const _0x30f17d=this['_interpola'+'tedKeys'][_0x2fe8de];if(_0x30f17d['_written']){const _0x122cc0=_0x30f17d['getTarget']();_0x122cc0['localPosit'+'ion']['copy'](_0x30f17d['_pos']),_0x122cc0['localRotat'+'ion']['copy'](_0x30f17d['_quat']),_0x122cc0['localScale']['copy'](_0x30f17d['_scale']),_0x122cc0['_dirtyLoca'+'l']||_0x122cc0['_dirtifyLo'+'cal'](),_0x30f17d['_written']=!(0x1618*0x1+0xfeb+0xe*-0x2b7);}}}}const Ts=(-0x1728+0x10*0x13+0x15fc)/(0xf5c*-0x1+0xee3+0xb9),Gs=0x1*0x18c1+0x12d+-0x19ed-Ts*(0xa4*-0x25+0x12b3*-0x1+0xe7*0x2f);class Vp extends _n{constructor(_0x47f860,_0x2e07c5,_0x2d388a,_0x279c5c,_0x364173,_0x2d14ab){super();const _0x1e4896=new A(),_0x5a66c2=new A(),_0x4d9ec7=new A(),_0x4e3781=new A(),_0x1ae728=new A(),_0x15041f=new A(),_0x759de2=[],_0x1f03ca=[],_0xe8b00a=[],_0x3dd244=[],_0x4cd97b=[];let _0x40dd75;if(_0x2d388a>-0x31+0x228a+0x3*-0xb73){for(let _0x171700=-0x23e0+-0x23c3+-0x47a3*-0x1;_0x171700<=_0x279c5c;_0x171700++)for(let _0x15ae48=0xfe*-0x3+0xb10+-0xe6*0x9;_0x15ae48<=_0x364173;_0x15ae48++){const _0x527f7a=_0x15ae48/_0x364173*(-0x2170+0x24+-0xb1a*-0x3)*Math['PI']-Math['PI'],_0x246545=Math['sin'](_0x527f7a),_0x302216=Math['cos'](_0x527f7a);_0x1ae728['set'](_0x246545*_0x47f860,-_0x2d388a/(-0xaa+-0x1233*0x1+0x12df),_0x302216*_0x47f860),_0x4e3781['set'](_0x246545*_0x2e07c5,_0x2d388a/(0x18e*0x3+-0x7*-0x65+-0x76b),_0x302216*_0x2e07c5),_0x1e4896['lerp'](_0x1ae728,_0x4e3781,_0x171700/_0x279c5c),_0x5a66c2['sub2'](_0x4e3781,_0x1ae728)['normalize'](),_0x15041f['set'](_0x302216,-0x2*0x2a4+0x1e69+-0x1*0x1921,-_0x246545),_0x4d9ec7['cross'](_0x15041f,_0x5a66c2)['normalize'](),_0x759de2['push'](_0x1e4896['x'],_0x1e4896['y'],_0x1e4896['z']),_0x1f03ca['push'](_0x4d9ec7['x'],_0x4d9ec7['y'],_0x4d9ec7['z']);let _0x5e03b3=_0x15ae48/_0x364173,_0x4a875b=_0x171700/_0x279c5c;_0xe8b00a['push'](_0x5e03b3,-0x4b*-0x3+-0x1*-0x252d+-0x260d-_0x4a875b);const _0x294cd3=_0x4a875b;if(_0x4a875b=_0x5e03b3,_0x5e03b3=_0x294cd3,_0x5e03b3=_0x5e03b3*Gs+Ts,_0x4a875b=_0x4a875b*Gs+Ts,_0x5e03b3/=0x160c+0x26b+-0x1874,_0x3dd244['push'](_0x5e03b3,-0x134+0x4cd*0x4+-0x11ff-_0x4a875b),_0x171700<_0x279c5c&&_0x15ae48<_0x364173){const _0x1fadbc=_0x171700*(_0x364173+(0x1*-0x11ef+-0x5*-0x164+-0x1*-0xafc))+_0x15ae48,_0x3d2b67=_0x171700*(_0x364173+(0x106f*-0x2+-0x7*0x43a+0x3e75*0x1))+(_0x15ae48+(0xbad+0x327*0x9+-0xd59*0x3)),_0x22fcf3=(_0x171700+(-0xe41+-0x15e4+0x2426))*(_0x364173+(-0x2*0x71d+0x70*0x12+0x65b))+_0x15ae48,_0x3b181a=(_0x171700+(0x1*-0x53+-0xef*0xb+0xa99))*(_0x364173+(-0x33f*0x4+0x622+0x6db))+(_0x15ae48+(0x65c+0x2*0x224+-0xaa3));_0x4cd97b['push'](_0x1fadbc,_0x3d2b67,_0x22fcf3),_0x4cd97b['push'](_0x3d2b67,_0x3b181a,_0x22fcf3);}}}if(_0x2d14ab){const _0x363126=Math['floor'](_0x364173/(-0x215b+-0x1*-0x2047+0x116)),_0x1cd187=_0x364173,_0x130242=_0x2d388a/(0x21a9+0x367+-0x250e);for(let _0x492e9d=0x1002*-0x1+-0x1cb3+0x15*0x221;_0x492e9d<=_0x363126;_0x492e9d++){const _0x367b1f=_0x492e9d*Math['PI']*(-0xa*-0xca+0x3*-0x315+-0x1*-0x15b+0.5)/_0x363126,_0xbf426b=Math['sin'](_0x367b1f),_0x3f0af0=Math['cos'](_0x367b1f);for(let _0x3b7f9d=0x1d6d+-0xca3+-0x10ca;_0x3b7f9d<=_0x1cd187;_0x3b7f9d++){const _0x6a79b2=_0x3b7f9d*(-0x45*-0x1+0x942+-0x985)*Math['PI']/_0x1cd187-Math['PI']/(0x11e5+-0x1d8+-0x100b),_0x172719=Math['sin'](_0x6a79b2),_0x5d316b=Math['cos'](_0x6a79b2)*_0xbf426b,_0x5c8311=_0x3f0af0,_0x4177e7=_0x172719*_0xbf426b;let _0x3fe628=-0x6ad+-0x71*0x1d+-0x137b*-0x1-_0x3b7f9d/_0x1cd187,_0x5ab7f7=-0x1d2f+0x26e1+0x33b*-0x3-_0x492e9d/_0x363126;_0x759de2['push'](_0x5d316b*_0x2e07c5,_0x5c8311*_0x2e07c5+_0x130242,_0x4177e7*_0x2e07c5),_0x1f03ca['push'](_0x5d316b,_0x5c8311,_0x4177e7),_0xe8b00a['push'](_0x3fe628,-0xb7a+0x9d5+0x1a6-_0x5ab7f7),_0x3fe628=_0x3fe628*Gs+Ts,_0x5ab7f7=_0x5ab7f7*Gs+Ts,_0x3fe628/=0xa7a+-0x21f1+0x177a,_0x5ab7f7/=0x8fb+0x231c+-0x2c14,_0x3fe628+=(-0x14c*0x7+0x3*0x945+-0x12ba)/(-0x57a+0x13a4+0x1*-0xe27),_0x3dd244['push'](_0x3fe628,0x12ba+-0x18d+-0x112c-_0x5ab7f7);}}_0x40dd75=(_0x279c5c+(0x2*-0x64d+0x1346+-0x6ab))*(_0x364173+(0x3bd+0x1f6c+-0x2328));for(let _0x4b97c2=-0x218d+0x5b5+-0x252*-0xc;_0x4b97c2<_0x363126;++_0x4b97c2)for(let _0x570175=0x1038*0x2+0xbbb+-0x1*0x2c2b;_0x570175<_0x1cd187;++_0x570175){const _0x552df9=_0x4b97c2*(_0x1cd187+(0x22dd+0x21e8+-0x44c4))+_0x570175,_0x58506a=_0x552df9+_0x1cd187+(0x24dc+0x1d86+-0x1*0x4261);_0x4cd97b['push'](_0x40dd75+_0x552df9+(-0x100c+-0x1*0x1791+-0x2*-0x13cf),_0x40dd75+_0x58506a,_0x40dd75+_0x552df9),_0x4cd97b['push'](_0x40dd75+_0x552df9+(-0x241b+-0x1*0x20db+-0x16fd*-0x3),_0x40dd75+_0x58506a+(0x1*-0x1032+0x6f4+0x9*0x107),_0x40dd75+_0x58506a);}for(let _0x6a46e9=0x1a21*0x1+-0xdc1+-0xc60;_0x6a46e9<=_0x363126;_0x6a46e9++){const _0x36b0ef=Math['PI']*(0x22c0+-0x260e+0x34e+0.5)+_0x6a46e9*Math['PI']*(-0x5fb*0x2+0x2*-0x739+0x1a68+0.5)/_0x363126,_0x5bd65a=Math['sin'](_0x36b0ef),_0x5f05cd=Math['cos'](_0x36b0ef);for(let _0x5a02f5=0x1050+0xc8b+-0x1cdb;_0x5a02f5<=_0x1cd187;_0x5a02f5++){const _0x25e719=_0x5a02f5*(0x5f*0x2b+0x42*0x9+-0x1245)*Math['PI']/_0x1cd187-Math['PI']/(-0xa0b*-0x3+0x2*0x8a1+-0x2f61),_0x371e9d=Math['sin'](_0x25e719),_0x379c20=Math['cos'](_0x25e719)*_0x5bd65a,_0x187421=_0x5f05cd,_0x18daf2=_0x371e9d*_0x5bd65a;let _0x4ab187=-0x19fc*0x1+-0x12b0+0x2cad-_0x5a02f5/_0x1cd187,_0x4ca13b=0x46c+-0x4e2+0x77-_0x6a46e9/_0x363126;_0x759de2['push'](_0x379c20*_0x2e07c5,_0x187421*_0x2e07c5-_0x130242,_0x18daf2*_0x2e07c5),_0x1f03ca['push'](_0x379c20,_0x187421,_0x18daf2),_0xe8b00a['push'](_0x4ab187,0x9c4+0x556+-0x305*0x5-_0x4ca13b),_0x4ab187=_0x4ab187*Gs+Ts,_0x4ca13b=_0x4ca13b*Gs+Ts,_0x4ab187/=-0x256c+-0x1f*0xb4+0x3b3b,_0x4ca13b/=0x917+0xff3+0x1907*-0x1,_0x4ab187+=(0x9cc+-0x18*-0x53+-0x2*0x8c9)/(-0x8*-0x21d+0x23a1+-0x5d6*0x9),_0x3dd244['push'](_0x4ab187,-0x1a10*0x1+-0x16*-0x112+0x285-_0x4ca13b);}}_0x40dd75=(_0x279c5c+(-0x245+-0xea9+0x33*0x55))*(_0x364173+(-0x2*0x8de+0x19dd*-0x1+0x2b9a))+(_0x1cd187+(0xcf4+0x2d1*0x7+-0x20aa))*(_0x363126+(0x4*0x5b2+0x563+-0x1c2a*0x1));for(let _0x26d49d=0x22f*0xe+-0x41b+0x5*-0x54b;_0x26d49d<_0x363126;++_0x26d49d)for(let _0x2863df=-0x11a5+-0x3*-0x11f+0xe48;_0x2863df<_0x1cd187;++_0x2863df){const _0x5ade7b=_0x26d49d*(_0x1cd187+(0x247e+-0xb1*-0x17+-0x3464))+_0x2863df,_0x3e5186=_0x5ade7b+_0x1cd187+(-0x2004*0x1+-0x24a5+0x44aa);_0x4cd97b['push'](_0x40dd75+_0x5ade7b+(0x6d5+-0x1ee3+-0x805*-0x3),_0x40dd75+_0x3e5186,_0x40dd75+_0x5ade7b),_0x4cd97b['push'](_0x40dd75+_0x5ade7b+(-0x1083*-0x2+-0x1159*-0x1+-0x325e),_0x40dd75+_0x3e5186+(-0x7*-0x30d+-0xcb6+-0x4*0x229),_0x40dd75+_0x3e5186);}}else{if(_0x40dd75=(_0x279c5c+(0x1*0x2125+-0x3*-0x637+-0x33c9))*(_0x364173+(0x1*-0xd2d+-0x544*-0x7+0xe*-0x1b1)),_0x47f860>-0xa3b+0x431*0x1+-0x60a*-0x1)for(let _0x3f199e=-0x315+-0x2096*0x1+-0x23ab*-0x1;_0x3f199e<_0x364173;_0x3f199e++){const _0x5c0bc8=_0x3f199e/_0x364173*(-0x79*0x37+0x1eab+-0xc7*0x6)*Math['PI'],_0x453272=Math['sin'](_0x5c0bc8),_0x5f1dbf=-_0x2d388a/(0x24f9+-0x1d41+-0x5e*0x15),_0x32d251=Math['cos'](_0x5c0bc8);let _0x56f1b8=-0x1654+0x20a6+-0xa51-(_0x453272+(-0x1*0x92b+0x143f+-0xb13))/(-0x179*-0x19+-0x2698+0x1c9),_0x350113=(_0x32d251+(0x1*-0x19c3+-0x3*-0x17b+0x1553))/(-0x6*0xc7+-0xec3*0x1+-0x19*-0xc7);_0x759de2['push'](_0x453272*_0x47f860,_0x5f1dbf,_0x32d251*_0x47f860),_0x1f03ca['push'](0x6*0x5db+-0x551*0x5+-0x88d,-(-0x2428+0x1*-0x12cd+0x36f6),-0x1*0x2161+0x3*0xc81+-0x422),_0xe8b00a['push'](_0x56f1b8,-0x10d*-0xc+0x1*0x18a+-0xe25-_0x350113),_0x56f1b8=_0x56f1b8*Gs+Ts,_0x350113=_0x350113*Gs+Ts,_0x56f1b8/=0x1f7d+-0x20e2+0x168,_0x350113/=-0x24*0x5a+0xcc9+-0x1*0x1e,_0x56f1b8+=(-0x6f*-0xa+0x202f+0x4*-0x921)/(-0x2c*-0x8f+0x6e2*-0x1+-0x11af),_0x3dd244['push'](_0x56f1b8,-0x94d+-0x6f3+0x1041-_0x350113),_0x3f199e>-0x2f*0x53+0x3*0x926+0x2c*-0x47&&_0x4cd97b['push'](_0x40dd75,_0x40dd75+_0x3f199e,_0x40dd75+_0x3f199e-(0x1dfe+-0xd35+-0x10c8));}if(_0x40dd75+=_0x364173,_0x2e07c5>0x2*-0x5bc+-0x1*-0x7bb+0x3bd)for(let _0x4b0884=0x1*0x1823+0x2*0x110f+-0x3a41;_0x4b0884<_0x364173;_0x4b0884++){const _0x311e16=_0x4b0884/_0x364173*(0xcf*0x2b+-0x7a5*-0x1+0x3b*-0xb8)*Math['PI'],_0x56da6e=Math['sin'](_0x311e16),_0xd05b01=_0x2d388a/(0x1b1a*-0x1+-0x6e3+0x3c7*0x9),_0x32a22e=Math['cos'](_0x311e16);let _0x4aec39=-0x68d+-0x2129+0xd3d*0x3-(_0x56da6e+(-0xd54+-0x1*-0x2b3+0xaa2))/(-0x1*-0x1997+0x1*0xd03+0x8*-0x4d3),_0x13bd3e=(_0x32a22e+(0x1142+-0x21c2*0x1+0x19*0xa9))/(0x14a+0x1c42+-0xec5*0x2);_0x759de2['push'](_0x56da6e*_0x2e07c5,_0xd05b01,_0x32a22e*_0x2e07c5),_0x1f03ca['push'](-0x4af*0x1+-0x99*-0x27+-0x12a0,-0xee5+-0x112*-0x8+0x656,-0x3*0x19b+-0x93*-0x3+-0xc*-0x42),_0xe8b00a['push'](_0x4aec39,0x101a+0x96e+-0x5*0x51b-_0x13bd3e),_0x4aec39=_0x4aec39*Gs+Ts,_0x13bd3e=_0x13bd3e*Gs+Ts,_0x4aec39/=0x58e+0x1a3*-0x11+0x5c*0x3e,_0x13bd3e/=-0x2113*-0x1+0x9ad+-0x2abd,_0x4aec39+=(-0x72a+-0x198a+0x20b6)/(-0x2*-0xbfa+0x13d3+-0x2bc4),_0x3dd244['push'](_0x4aec39,0x278*0x6+-0x1092+0x1c3-_0x13bd3e),_0x4b0884>0x2437+-0x1*-0xd05+0x1*-0x313b&&_0x4cd97b['push'](_0x40dd75,_0x40dd75+_0x4b0884-(-0xab*0x5+-0x2*0xc31+-0xb6*-0x27),_0x40dd75+_0x4b0884);}}this['positions']=_0x759de2,this['normals']=_0x1f03ca,this['uvs']=_0xe8b00a,this['uvs1']=_0x3dd244,this['indices']=_0x4cd97b;}}class M1 extends Vp{constructor(_0x4c9ba7={}){const _0x54d7d7=_0x4c9ba7['radius']??0x1c31+0x4*0x91d+0x13*-0x367+0.3,_0x1ab1af=_0x4c9ba7['height']??-0x12b*-0x19+-0x3f*-0x1+-0x1d71*0x1,_0x22c770=_0x4c9ba7['heightSegm'+'ents']??0x11*-0x187+0x17*-0x19+0x1c37,_0xfaa974=_0x4c9ba7['sides']??0x8ae+0xd40+-0x15da;super(_0x54d7d7,_0x54d7d7,_0x1ab1af-(0x172d+-0x1e70+-0x1*-0x745)*_0x54d7d7,_0x22c770,_0xfaa974,!(-0x25cd*-0x1+-0x2f6+-0x22d7)),_0x4c9ba7['calculateT'+'angents']&&(this['tangents']=pr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Vp{constructor(_0x4d5777={}){const _0x2b547c=_0x4d5777['baseRadius']??-0x2234+0xdde+0x13*0x112+0.5,_0x19b2c4=_0x4d5777['peakRadius']??-0x5*0x5ab+0x1*-0x2078+0x3ccf,_0x24cd4b=_0x4d5777['height']??-0x1*-0xe1d+0x56*-0x12+0x102*-0x8,_0x65d0=_0x4d5777['heightSegm'+'ents']??-0x1371+-0xc88+0x1ffe,_0x1c500f=_0x4d5777['capSegment'+'s']??-0x4*-0x6f+-0x24dc*-0x1+0x1*-0x2686;super(_0x2b547c,_0x19b2c4,_0x24cd4b,_0x65d0,_0x1c500f,!(0x223*-0x9+0xe9b+0x4a1)),_0x4d5777['calculateT'+'angents']&&(this['tangents']=pr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends Vp{constructor(_0x2894a6={}){const _0x17243e=_0x2894a6['radius']??0x407*0x5+0xd0e+-0x1d*0x125+0.5,_0x30066c=_0x2894a6['height']??0x195+0x1*-0x21dd+0x2049,_0x1b3a99=_0x2894a6['heightSegm'+'ents']??0x3*0x7bf+-0x164f+-0x1*0xe9,_0x303c5f=_0x2894a6['capSegment'+'s']??-0x2391+0xd*-0x107+0x3100;super(_0x17243e,_0x17243e,_0x30066c,_0x1b3a99,_0x303c5f,!(0x14*0x1c1+0xf7f*-0x1+-0x4e5*0x4)),_0x2894a6['calculateT'+'angents']&&(this['tangents']=pr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class I1 extends _n{constructor(_0xc70672={}){super();const _0x56ccd6=_0xc70672['halfExtent'+'s']??new W(0x98e+0xcd0*0x2+-0x26*0xed+0.5,-0x1*0x549+0x265e+-0x2115+0.5),_0x336f95=_0xc70672['widthSegme'+'nts']??0x19a8+-0x1025*-0x1+0x1*-0x29c8,_0x43f5c5=_0xc70672['lengthSegm'+'ents']??-0x2532+-0x14ee+0x479*0xd,_0x647da0=[],_0x4ecfb4=[],_0x387e26=[],_0x599d7e=[];let _0x2bcc08=-0xd58+0x3ff+-0x959*-0x1;for(let _0x3dd482=-0x1675*-0x1+-0x85*0x21+-0x550;_0x3dd482<=_0x336f95;_0x3dd482++)for(let _0x4d0389=-0x1*-0x1d93+-0x23c1+-0x2*-0x317;_0x4d0389<=_0x43f5c5;_0x4d0389++){const _0x258972=-_0x56ccd6['x']+(-0x2*0x2c8+-0x21b7*-0x1+-0x1c25)*_0x56ccd6['x']*_0x3dd482/_0x336f95,_0x469d6f=0x2214*0x1+0x3*-0x35+-0x2175,_0x59647e=-(-_0x56ccd6['y']+(-0x15aa*0x1+-0x2172+-0x33e*-0x11)*_0x56ccd6['y']*_0x4d0389/_0x43f5c5),_0x105d34=_0x3dd482/_0x336f95,_0x160980=_0x4d0389/_0x43f5c5;_0x647da0['push'](_0x258972,_0x469d6f,_0x59647e),_0x4ecfb4['push'](-0x2553+-0x23c7+0x491a,-0x16a0+-0x1e4*0x7+0x23dd,0x1fa1*0x1+0x3b*0x59+-0x3424),_0x387e26['push'](_0x105d34,0xa1a+-0xcb*0x14+0x127*0x5-_0x160980),_0x3dd482<_0x336f95&&_0x4d0389<_0x43f5c5&&(_0x599d7e['push'](_0x2bcc08+_0x43f5c5+(0x17*-0xf4+0x19a5+-0x2*0x1dc),_0x2bcc08+(0x1*-0x939+-0x1232+0x1b6c),_0x2bcc08),_0x599d7e['push'](_0x2bcc08+_0x43f5c5+(0x1*-0xdd5+0x744+0x692),_0x2bcc08+_0x43f5c5+(-0x256e+0x7*0x27b+0x1413),_0x2bcc08+(0x4c6*-0x1+0x18e2+-0x141b))),_0x2bcc08++;}this['positions']=_0x647da0,this['normals']=_0x4ecfb4,this['uvs']=_0x387e26,this['uvs1']=_0x387e26,this['indices']=_0x599d7e,_0xc70672['calculateT'+'angents']&&(this['tangents']=pr(_0x647da0,_0x4ecfb4,_0x387e26,_0x599d7e));}}class D1 extends _n{constructor(_0x577016={}){super();const _0x9f83e0=_0x577016['tubeRadius']??0x1c98+-0x1*-0x11d+-0x1db5+0.2,_0x3af308=_0x577016['ringRadius']??0x14f4+0xbb9+-0xef*0x23+0.3,_0x1c0ec9=(_0x577016['sectorAngl'+'e']??-0x14e7+0x17d6+-0x187)*z['DEG_TO_RAD'],_0xb6c55=_0x577016['segments']??0xcce*-0x1+0x1294+-0x5a8,_0x3e9497=_0x577016['sides']??0x1*0x5cb+-0x1119+0x2*0x5b1,_0x436335=[],_0x1113fb=[],_0xf62d50=[],_0x3bfbf9=[];for(let _0x3a0ebc=-0x23bc*0x1+0x17b7+0x1*0xc05;_0x3a0ebc<=_0x3e9497;_0x3a0ebc++)for(let _0x3c6578=-0xa36*0x1+-0xb2*-0x9+0x3f4;_0x3c6578<=_0xb6c55;_0x3c6578++){const _0x540929=Math['cos'](_0x1c0ec9*_0x3c6578/_0xb6c55)*(_0x3af308+_0x9f83e0*Math['cos']((0x2f*-0x1+-0x991+0x2*0x4e1)*Math['PI']*_0x3a0ebc/_0x3e9497)),_0x2f9956=Math['sin']((0x25cd+-0xf10+-0x16bb)*Math['PI']*_0x3a0ebc/_0x3e9497)*_0x9f83e0,_0x2c2744=Math['sin'](_0x1c0ec9*_0x3c6578/_0xb6c55)*(_0x3af308+_0x9f83e0*Math['cos']((0x20ef*-0x1+-0x22da+0x43cb)*Math['PI']*_0x3a0ebc/_0x3e9497)),_0x582e6f=Math['cos'](_0x1c0ec9*_0x3c6578/_0xb6c55)*Math['cos']((0x1698+0xa76+-0x1*0x210c)*Math['PI']*_0x3a0ebc/_0x3e9497),_0x55d880=Math['sin']((-0x1793+0x1fc2+0x82d*-0x1)*Math['PI']*_0x3a0ebc/_0x3e9497),_0x1f4cc7=Math['sin'](_0x1c0ec9*_0x3c6578/_0xb6c55)*Math['cos']((0x5b*0x58+0x20a6+-0x3fec)*Math['PI']*_0x3a0ebc/_0x3e9497),_0x12f6eb=_0x3a0ebc/_0x3e9497,_0x3b4906=0xb*0x257+0x15ee+-0x2faa-_0x3c6578/_0xb6c55;if(_0x436335['push'](_0x540929,_0x2f9956,_0x2c2744),_0x1113fb['push'](_0x582e6f,_0x55d880,_0x1f4cc7),_0xf62d50['push'](_0x12f6eb,-0x1*0x157f+0x18a4+0x1*-0x324-_0x3b4906),_0x3a0ebc<_0x3e9497&&_0x3c6578<_0xb6c55){const _0x564dcf=_0x3a0ebc*(_0xb6c55+(0x80*-0x13+-0x1d9e+0x271f))+_0x3c6578,_0x411a55=(_0x3a0ebc+(-0x240d+0x1f*0x1e+0x206c))*(_0xb6c55+(-0x7a4+-0xd2d+0x14d2))+_0x3c6578,_0x554d24=_0x3a0ebc*(_0xb6c55+(-0x2134+0xd*-0xe0+0x1*0x2c95))+(_0x3c6578+(0x301*-0x5+-0x1292+0x2198)),_0x35968c=(_0x3a0ebc+(-0x2178+0x1d*0x10d+-0x60*-0x8))*(_0xb6c55+(0x30b*0x2+0x1*0x2493+0x2a*-0x104))+(_0x3c6578+(-0x2242+-0x2040+-0x1*-0x4283));_0x3bfbf9['push'](_0x564dcf,_0x411a55,_0x554d24),_0x3bfbf9['push'](_0x411a55,_0x35968c,_0x554d24);}}this['positions']=_0x436335,this['normals']=_0x1113fb,this['uvs']=_0xf62d50,this['uvs1']=_0xf62d50,this['indices']=_0x3bfbf9,_0x577016['calculateT'+'angents']&&(this['tangents']=pr(_0x436335,_0x1113fb,_0xf62d50,_0x3bfbf9));}}class L1{constructor(_0x59b991,_0x478eb6){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x59b991,this['_isClearin'+'gCache']=!(0x2ea*0x6+-0x1214+-0x1*-0x99),this['_precached']=!(-0x1*0x1795+-0x1e03+0x3599*0x1),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new qh(),this['_defaultSt'+'dMatOption'+'Min']=new qh());const _0x46c062=new E0();_0x478eb6['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x46c062,_0x478eb6,null,[],xn,null),_0x478eb6['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x478eb6,null,Fp,null),_0x59b991['on']('destroy:sh'+'ader',_0x31d41e=>{this['removeFrom'+'Cache'](_0x31d41e);});}['destroy'](){this['clearCache']();}['register'](_0x437a42,_0x314236){this['_generator'+'s']['has'](_0x437a42)||this['_generator'+'s']['set'](_0x437a42,_0x314236);}['unregister'](_0x3fd2de){this['_generator'+'s']['has'](_0x3fd2de)&&this['_generator'+'s']['delete'](_0x3fd2de);}['isRegister'+'ed'](_0x1c7f15){return this['_generator'+'s']['has'](_0x1c7f15);}['generateSh'+'aderDefini'+'tion'](_0xe46f7d,_0x5aacfb,_0xce3ce1,_0x3bcf85){var _0xa07cec,_0x5667c4;let _0xd70668=this['definition'+'sCache']['get'](_0xce3ce1);if(!_0xd70668){let _0x19eb70;(_0xa07cec=_0x3bcf85['litOptions'])!=null&&_0xa07cec['lights']&&(_0x19eb70=_0x3bcf85['litOptions']['lights'],_0x3bcf85['litOptions']['lights']=_0x19eb70['map'](_0x1d7342=>{const _0x2872a3=_0x1d7342['clone']?_0x1d7342['clone']():_0x1d7342;return _0x2872a3['key']=_0x1d7342['key'],_0x2872a3;})),this['storeNewPr'+'ogram'](_0x5aacfb,_0x3bcf85),(_0x5667c4=_0x3bcf85['litOptions'])!=null&&_0x5667c4['lights']&&(_0x3bcf85['litOptions']['lights']=_0x19eb70),this['_precached']&&b['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x5aacfb+'\x20key\x20'+_0xce3ce1+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x183a65=this['_device'];_0xd70668=_0xe46f7d['createShad'+'erDefiniti'+'on'](_0x183a65,_0x3bcf85),_0xd70668['name']=_0xd70668['name']??(_0x3bcf85['pass']?_0x5aacfb+'-pass:'+_0x3bcf85['pass']:_0x5aacfb),this['definition'+'sCache']['set'](_0xce3ce1,_0xd70668);}return _0xd70668;}['getCachedS'+'hader'](_0x5073b8){return this['processedC'+'ache']['get'](_0x5073b8);}['setCachedS'+'hader'](_0x2be7ac,_0x506d5e){this['processedC'+'ache']['set'](_0x2be7ac,_0x506d5e);}['getProgram'](_0x4bf7f2,_0x48e8ad,_0x1c753f,_0x4e511c){const _0xb4c123=this['_generator'+'s']['get'](_0x4bf7f2);if(!_0xb4c123)return b['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x4bf7f2),null;const _0x36d7a1=_0xb4c123['generateKe'+'y'](_0x48e8ad),_0x58b8d9=cn(_0x36d7a1),_0x219a75=_0x1c753f['generateKe'+'y'](this['_device']),_0x1c151c=cn(_0x219a75),_0x402e7c=_0x58b8d9+'#'+_0x1c151c;let _0x3839a1=this['getCachedS'+'hader'](_0x402e7c);if(!_0x3839a1){const _0x4446aa=this['generateSh'+'aderDefini'+'tion'](_0xb4c123,_0x4bf7f2,_0x58b8d9,_0x48e8ad);b['assert'](_0x4446aa);let _0x5d0efd='',_0x453dea;_0x48e8ad['pass']!==void(-0x103d*0x2+-0x5b0+-0xa*-0x3d1)&&(_0x453dea=ti['get'](this['_device'])['getByIndex'](_0x48e8ad['pass']),_0x5d0efd='-'+_0x453dea['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x4e511c,'shaderPassInfo':_0x453dea,'definition':_0x4446aa});const _0x587b37={'name':''+_0x4446aa['name']+_0x5d0efd+'-proc','attributes':_0x4446aa['attributes'],'vshader':_0x4446aa['vshader'],'vincludes':_0x4446aa['vincludes'],'fincludes':_0x4446aa['fincludes'],'fshader':_0x4446aa['fshader'],'processingOptions':_0x1c753f,'shaderLanguage':_0x4446aa['shaderLang'+'uage'],'meshUniformBufferFormat':_0x4446aa['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x4446aa['meshBindGr'+'oupFormat']};_0x3839a1=new r0(this['_device'],_0x587b37),b['call'](()=>{_0x3839a1['_generatio'+'nKey']=_0x36d7a1,_0x3839a1['_processin'+'gKey']=_0x219a75;}),this['setCachedS'+'hader'](_0x402e7c,_0x3839a1);}return _0x3839a1;}['storeNewPr'+'ogram'](_0x2e8f53,_0xa26ff1){let _0x3a60ee={};if(_0x2e8f53==='standard'){const _0x17a5b1=this['_getDefaul'+'tStdMatOpt'+'ions'](_0xa26ff1['pass']);for(const _0xcda7e4 in _0xa26ff1)(_0xa26ff1['hasOwnProp'+'erty'](_0xcda7e4)&&_0x17a5b1[_0xcda7e4]!==_0xa26ff1[_0xcda7e4]||_0xcda7e4==='pass')&&(_0x3a60ee[_0xcda7e4]=_0xa26ff1[_0xcda7e4]);for(const _0x4e0317 in _0xa26ff1['litOptions'])_0x3a60ee[_0x4e0317]=_0xa26ff1['litOptions'][_0x4e0317];}else _0x3a60ee=_0xa26ff1;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x2e8f53,'options':_0x3a60ee}));}['dumpProgra'+'ms'](){let _0x57db9b='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x57db9b+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x24*-0xb4+0x1*-0x2329+0x3c79]&&(_0x57db9b+='\x0a\x09'+this['_programsC'+'ollection'][-0x1c0b+-0x1c24+0x382f]);for(let _0x2e7a73=-0x54*-0x11+-0x9da+0x447;_0x2e7a73<this['_programsC'+'ollection']['length'];++_0x2e7a73)_0x57db9b+=',\x0a\x09'+this['_programsC'+'ollection'][_0x2e7a73];_0x57db9b+='\x0a];\x0a',_0x57db9b+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x57db9b+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+ho+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+iy+'\x22)\x0a',_0x57db9b+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x5a6ec=document['createElem'+'ent']('a');_0x5a6ec['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x57db9b)),_0x5a6ec['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x5a6ec['style']['display']='none',document['body']['appendChil'+'d'](_0x5a6ec),_0x5a6ec['click'](),document['body']['removeChil'+'d'](_0x5a6ec);}['clearCache'](){this['_isClearin'+'gCache']=!(-0x10a6+-0x2*0x91d+0x22e0),this['processedC'+'ache']['forEach'](_0x238b49=>{_0x238b49['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0xef+-0x391*0x3+-0x9c5*-0x1);}['removeFrom'+'Cache'](_0x1a3ac5){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0xf2af3d,_0x2e5b31)=>{_0x1a3ac5===_0xf2af3d&&this['processedC'+'ache']['delete'](_0x2e5b31);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x323582){const _0x4c2ddf=ti['get'](this['_device'])['getByIndex'](_0x323582);return _0x323582===ll||_0x323582===Na||_0x323582===ol||_0x4c2ddf['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x4ec5af){if(_0x4ec5af){const _0x455c88=new Array(_0x4ec5af['length']);for(let _0x3dc102=-0x18*0x10d+0x1*-0x1bfc+0x3534;_0x3dc102<_0x4ec5af['length'];_0x3dc102++){if(_0x4ec5af[_0x3dc102]['name']==='standard'){const _0x5bbf76=_0x4ec5af[_0x3dc102]['options'],_0x166951=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x5bbf76['pass']);for(const _0x8de3cc in _0x166951)_0x166951['hasOwnProp'+'erty'](_0x8de3cc)&&_0x5bbf76[_0x8de3cc]===void(-0x3*0x6fb+0x263d+-0x2e2*0x6)&&(_0x5bbf76[_0x8de3cc]=_0x166951[_0x8de3cc]);}_0x455c88[_0x3dc102]=this['getProgram'](_0x4ec5af[_0x3dc102]['name'],_0x4ec5af[_0x3dc102]['options']);}}this['_precached']=!(-0xa16+0x2501+-0x1aeb);}}const F1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',k1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',B1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),Ao={'bakeDirLmEndPS':F1,'bakeLmEndPS':k1,'dilatePS':O1,'bilateralDeNoisePS':B1},On=new q(),N_=new ie(),Yd=new ve(),z_=new ve(),N1=new Y(0x1*0x1e23+0x16cf*-0x1+-0x7d*0xf,0x7*-0x366+0x25*0xf5+-0xb9e,0x53c*0x2+0x3*-0xb0e+0x16b2,-0xa73+0x1a94+-0x1021+0.4),Kd=-0x227b+0x550+0x1d2b+0.28209479177387814;class z1{constructor(_0x1ea6a8,_0x351bac,_0x417c50,_0x33666d,_0xe8ea55,_0x4d8dc0){const _0x5a52dd=_0x1ea6a8['getProp']('x'),_0x41208f=_0x1ea6a8['getProp']('y'),_0x14a76e=_0x1ea6a8['getProp']('z'),_0x22af51=_0x1ea6a8['getProp']('rot_1'),_0x477e59=_0x1ea6a8['getProp']('rot_2'),_0x48b903=_0x1ea6a8['getProp']('rot_3'),_0x812ec2=_0x1ea6a8['getProp']('rot_0'),_0x2709f3=_0x1ea6a8['getProp']('motion_0'),_0x273692=_0x1ea6a8['getProp']('motion_1'),_0x34dc69=_0x1ea6a8['getProp']('motion_2'),_0x3e531c=_0x1ea6a8['getProp']('scale_0'),_0x3cf365=_0x1ea6a8['getProp']('scale_1'),_0x34842f=_0x1ea6a8['getProp']('scale_2'),_0x2d32ca=_0x1ea6a8['getProp']('f_dc_0'),_0x34de79=_0x1ea6a8['getProp']('f_dc_1'),_0x4598b3=_0x1ea6a8['getProp']('f_dc_2'),_0x361883=_0x1ea6a8['getProp']('opacity'),_0x18dcfe=_0x5a1f80=>{if(_0x5a1f80>0xb*0xe+0x1c53+-0x5*0x5c9)return(0x1*-0x1ff6+-0x6*0x237+-0x1*-0x2d41)/(0x2*0xf4d+0x1*0x2079+-0x3f12+Math['exp'](-_0x5a1f80));const _0x5b901e=Math['exp'](_0x5a1f80);return _0x5b901e/(-0x2263*-0x1+-0x2*-0x155+0x943*-0x4+_0x5b901e);};this['read']=_0x42b2b7=>{_0x351bac&&(_0x351bac['x']=_0x5a52dd[_0x42b2b7],_0x351bac['y']=_0x41208f[_0x42b2b7],_0x351bac['z']=_0x14a76e[_0x42b2b7]),_0x417c50&&_0x417c50['set'](_0x22af51[_0x42b2b7],_0x477e59[_0x42b2b7],_0x48b903[_0x42b2b7],_0x812ec2[_0x42b2b7]),_0x33666d&&_0x33666d['set'](Math['exp'](_0x3e531c[_0x42b2b7]),Math['exp'](_0x3cf365[_0x42b2b7]),Math['exp'](_0x34842f[_0x42b2b7])),_0x4d8dc0&&_0x2709f3&&_0x4d8dc0['set'](_0x2709f3[_0x42b2b7],_0x273692[_0x42b2b7],_0x34dc69[_0x42b2b7]),_0xe8ea55&&_0xe8ea55['set'](0x5*0x1f3+-0x9*-0xf8+0x1*-0x1277+0.5+_0x2d32ca[_0x42b2b7]*Kd,0x1*-0x190f+0x154b+0x1*0x3c4+0.5+_0x34de79[_0x42b2b7]*Kd,-0x1d6c+0x10*0x44+0x192c+0.5+_0x4598b3[_0x42b2b7]*Kd,_0x18dcfe(_0x361883[_0x42b2b7]));};}}const U_=(_0x59f2cc,_0xe8853d,_0x954c34)=>{N_['set'](_0x954c34['x'],_0x954c34['y'],_0x954c34['z'],_0x954c34['w'])['normalize'](),_0x59f2cc['setTRS'](_0xe8853d,N_,A['ONE']);};class Fa{constructor(_0x2f9f34){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x2f0340,_0x1974a7,_0x57fc26;this['elements']=_0x2f9f34,this['numSplats']=(_0x2f0340=this['getElement']('vertex'))==null?void(-0x307+-0x2*-0x730+0x1*-0xb59):_0x2f0340['count'],this['is4D']=!!((_0x57fc26=(_0x1974a7=this['getElement']('vertex'))==null?void(0x126*0x11+-0x5cb*-0x1+-0x1951*0x1):_0x1974a7['properties']['find'](_0x369682=>_0x369682['name']==='t'))!=null&&_0x57fc26['storage']);}['appendGSpl'+'atData'](_0x32311e,_0x5ce2cb,_0x5ae2f7){const _0x4d41f0=this['getElement']('vertex')['properties'];_0x4d41f0['find'](_0xce8da5=>_0xce8da5['name']==='time_index')||_0x4d41f0['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x32311e['numSplats'];for(let _0x388993=-0xc51*-0x3+0x38b+0x143f*-0x2;_0x388993<_0x4d41f0['length'];_0x388993++){const _0x552f25=_0x4d41f0[_0x388993],_0x48d60c=_0x32311e['getElement']('vertex')['properties']['find'](_0x579652=>_0x579652['name']===_0x552f25['name']);if(_0x552f25['name']==='time_index'){const _0x154abe=new Float32Array(this['numSplats']);_0x154abe['fill'](_0x5ce2cb),_0x154abe['set'](_0x552f25['storage'],-0x14b1*-0x1+0x1d0a+-0x31bb),_0x552f25['storage']=_0x154abe;}else{if(_0x48d60c&&_0x552f25['name']==='t'){const _0x5864c8=new Float32Array(this['numSplats']);if(_0x5864c8['set'](_0x552f25['storage'],0x1*-0x2605+0xd21+0x18e4),_0x5ae2f7){for(let _0x6c3f35=_0x552f25['storage']['length'];_0x6c3f35<this['numSplats'];_0x6c3f35++)_0x5864c8[_0x6c3f35]=_0x48d60c['storage'][_0x6c3f35-_0x552f25['storage']['length']]+_0x5ae2f7[(-0x1*-0x151+0x1*0x1ca3+-0x1df2)*_0x5ce2cb];}else _0x5864c8['set'](_0x48d60c['storage'],_0x552f25['storage']['length']);_0x552f25['storage']=_0x5864c8;}else{if(_0x48d60c){const _0x440c99=new Float32Array(this['numSplats']);_0x440c99['set'](_0x552f25['storage'],0x1d9e+0x47d+-0x221b),_0x440c99['set'](_0x48d60c['storage'],_0x552f25['storage']['length']),_0x552f25['storage']=_0x440c99;}}}}}static['calcSplatA'+'abb'](_0x572294,_0xc5ea5f,_0x4923fd,_0x4bdfaa){U_(On,_0xc5ea5f,_0x4923fd),Yd['center']['set'](0x235*-0xb+0x1f*-0xcd+0x311a,-0x20ec+0x40*0x18+-0x1aec*-0x1,-0x3b*0x5e+-0x1e61+0x340b),Yd['halfExtent'+'s']['set'](_0x4bdfaa['x']*(-0xd*0xd3+-0x17b0+0x17*0x17f),_0x4bdfaa['y']*(0x1f3*-0x6+0x20f1+0x153d*-0x1),_0x4bdfaa['z']*(0x3*0x970+0x9*-0x40f+-0x5*-0x1a5)),_0x572294['setFromTra'+'nsformedAa'+'bb'](Yd,On);}['getProp'](_0x28ded4,_0x49abb6='vertex'){var _0x81c059,_0x433b5b;return(_0x433b5b=(_0x81c059=this['getElement'](_0x49abb6))==null?void(0xd0e+0xb16+0xf*-0x19c):_0x81c059['properties']['find'](_0xa0e859=>_0xa0e859['name']===_0x28ded4))==null?void(-0x4*-0x5e7+0x5*0x51e+0x6*-0x833):_0x433b5b['storage'];}['getElement'](_0x52064f){return this['elements']['find'](_0x4488c1=>_0x4488c1['name']===_0x52064f);}['addProp'](_0x4ab7c2,_0x24f104){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x4ab7c2,'storage':_0x24f104,'byteSize':0x4});}['createIter'](_0x354fd6,_0x556fc8,_0x19af14,_0x5533cb,_0x5728f0){return new z1(this,_0x354fd6,_0x556fc8,_0x19af14,_0x5533cb,_0x5728f0);}['calcAabb'](_0x15f09d,_0x33863b){let _0xf8d571,_0x5ce6e2,_0xfaa1b3,_0x3793ac,_0x32bacd,_0x4ce4e3,_0x1300f9=!(-0x1*0x11ab+0xcae+0x4fd);const _0x2012fa=this['getProp']('x'),_0x5de2de=this['getProp']('y'),_0x4fcde7=this['getProp']('z'),_0x5ecc09=this['getProp']('scale_0'),_0x4be09b=this['getProp']('scale_1'),_0x123011=this['getProp']('scale_2');for(let _0x1fbf45=0x14ae*-0x1+-0xffe+0x24ac;_0x1fbf45<this['numSplats'];++_0x1fbf45){if(_0x33863b&&!_0x33863b(_0x1fbf45))continue;const _0x2d5156=(0x2f5*0x9+-0x1*0x1387+0x4*-0x1c5)*Math['exp'](Math['max'](_0x5ecc09[_0x1fbf45],_0x4be09b[_0x1fbf45],_0x123011[_0x1fbf45])),_0x344146=_0x2012fa[_0x1fbf45],_0x42fd13=_0x5de2de[_0x1fbf45],_0x561d4b=_0x4fcde7[_0x1fbf45];_0x1300f9?(_0x1300f9=!(0x1977+-0x13b+-0x183b),_0xf8d571=_0x344146-_0x2d5156,_0x5ce6e2=_0x42fd13-_0x2d5156,_0xfaa1b3=_0x561d4b-_0x2d5156,_0x3793ac=_0x344146+_0x2d5156,_0x32bacd=_0x42fd13+_0x2d5156,_0x4ce4e3=_0x561d4b+_0x2d5156):(_0xf8d571=Math['min'](_0xf8d571,_0x344146-_0x2d5156),_0x5ce6e2=Math['min'](_0x5ce6e2,_0x42fd13-_0x2d5156),_0xfaa1b3=Math['min'](_0xfaa1b3,_0x561d4b-_0x2d5156),_0x3793ac=Math['max'](_0x3793ac,_0x344146+_0x2d5156),_0x32bacd=Math['max'](_0x32bacd,_0x42fd13+_0x2d5156),_0x4ce4e3=Math['max'](_0x4ce4e3,_0x561d4b+_0x2d5156));}return _0x1300f9||(_0x15f09d['center']['set']((_0xf8d571+_0x3793ac)*(-0xbc3+0x46+-0xb7d*-0x1+0.5),(_0x5ce6e2+_0x32bacd)*(-0x192e+0x10a5*0x1+-0x17*-0x5f+0.5),(_0xfaa1b3+_0x4ce4e3)*(-0x568+0x49*-0x26+0x103e+0.5)),_0x15f09d['halfExtent'+'s']['set']((_0x3793ac-_0xf8d571)*(0x776+-0x7*-0x9d+-0xbc1+0.5),(_0x32bacd-_0x5ce6e2)*(-0x1d*0x3+0x1*-0x18c2+0x1919+0.5),(_0x4ce4e3-_0xfaa1b3)*(-0x17f4+0x3b*-0x51+0x2a9f+0.5))),!_0x1300f9;}['calcAabbEx'+'act'](_0x3687f0,_0x3ad60e){const _0x58986e=new A(),_0x2a9a63=new ie(),_0x2ed9ba=new A(),_0x1d6fe8=this['createIter'](_0x58986e,_0x2a9a63,_0x2ed9ba);let _0x5abbfa=!(0x73+-0x10e8+0x1*0x1075);for(let _0x1c1765=0x6b*-0x11+-0x1d*0x139+-0x2*-0x1548;_0x1c1765<this['numSplats'];++_0x1c1765)_0x3ad60e&&!_0x3ad60e(_0x1c1765)||(_0x1d6fe8['read'](_0x1c1765),_0x5abbfa?(_0x5abbfa=!(-0x1*0xf86+-0x262b+0x35b2),Fa['calcSplatA'+'abb'](_0x3687f0,_0x58986e,_0x2a9a63,_0x2ed9ba)):(Fa['calcSplatA'+'abb'](z_,_0x58986e,_0x2a9a63,_0x2ed9ba),_0x3687f0['add'](z_)));return!_0x5abbfa;}['getCenters'](_0x5c09a1){const _0x3f9b23=this['getProp']('x'),_0x3e0713=this['getProp']('y'),_0xf3dd9b=this['getProp']('z');for(let _0x26c53a=0x2*0x719+-0x7d*0xf+0x1*-0x6df;_0x26c53a<this['numSplats'];++_0x26c53a)_0x5c09a1[_0x26c53a*(-0x1f51+0x7*0x1e3+0x121f)+(0x1418+0x7*-0x4e1+0xe0f)]=_0x3f9b23[_0x26c53a],_0x5c09a1[_0x26c53a*(-0x24fb+0x1c7a+0x2*0x442)+(-0x3*0xb93+-0xd8d*-0x1+0x152d)]=_0x3e0713[_0x26c53a],_0x5c09a1[_0x26c53a*(-0x122+-0x962+-0x31*-0x37)+(0x746+-0x1869+0x1125)]=_0xf3dd9b[_0x26c53a];}['getMuT'](){const _0x581bd5=this['getProp']('t');if(!_0x581bd5)return;const _0xa7029a=new Float32Array(this['numSplats']);for(let _0x279cae=0x9*0x2ba+-0x2c5*-0x7+0xd*-0x361;_0x279cae<this['numSplats'];++_0x279cae)_0xa7029a[_0x279cae]=_0x581bd5[_0x279cae];return _0xa7029a;}['getTScale'](){const _0x4060ba=this['getProp']('t_scale');if(!_0x4060ba)return;const _0x25ffc8=new Float32Array(this['numSplats']);for(let _0x1bdca4=-0x3e*0x57+-0x49*0x88+-0x1ded*-0x2;_0x1bdca4<this['numSplats'];++_0x1bdca4)_0x25ffc8[_0x1bdca4]=Math['exp'](_0x4060ba[_0x1bdca4]);return _0x25ffc8;}['getMotion'](_0x4d4e48){const _0x1110ce=this['getProp']('motion_0'),_0x10db44=this['getProp']('motion_1'),_0x3bf072=this['getProp']('motion_2');if(!(!_0x1110ce||!_0x10db44||!_0x3bf072)){for(let _0x4b386e=0x1*-0x26c6+0x1*0x2397+-0x1*-0x32f;_0x4b386e<this['numSplats'];++_0x4b386e)_0x4d4e48[_0x4b386e*(-0x66b*-0x2+0x7*-0xe9+-0x674)+(-0x9f+0x15fa*0x1+-0x30d*0x7)]=_0x1110ce[_0x4b386e],_0x4d4e48[_0x4b386e*(0x93b*-0x1+-0x5fd+0xf3b)+(0x1*0x1a75+-0x1c33*-0x1+-0x337*0x11)]=_0x10db44[_0x4b386e],_0x4d4e48[_0x4b386e*(0x4*0x270+0x1871*0x1+-0x1*0x222e)+(-0x74*0x3+0x1aad*-0x1+0x1c0b)]=_0x3bf072[_0x4b386e];}}['getTimeInd'+'ex'](_0x334d4d){const _0x1aad78=this['getProp']('time_index');_0x1aad78&&_0x334d4d['set'](_0x1aad78,-0x106e*-0x1+0x214b+0x1093*-0x3);}['calcFocalP'+'oint'](_0x5534ed,_0x1fd56a){const _0x5a3e4c=this['getProp']('x'),_0x3fed78=this['getProp']('y'),_0x2aa654=this['getProp']('z'),_0x5643f9=this['getProp']('scale_0'),_0x3334f9=this['getProp']('scale_1'),_0xfa47cb=this['getProp']('scale_2');_0x5534ed['x']=0x54+0x1*0x1873+-0x18c7,_0x5534ed['y']=0xa91+0x727+-0x11b8,_0x5534ed['z']=-0x57*0x2c+-0x26f1+0x35e5;let _0x30bccd=-0x12e7+-0x59*0x5+0x14a4;for(let _0x53d240=0x1c97+0x1*-0x1d37+-0x4*-0x28;_0x53d240<this['numSplats'];++_0x53d240){if(_0x1fd56a&&!_0x1fd56a(_0x53d240))continue;const _0x403bac=(0x1*0x1227+-0x208*-0x4+-0x1a46)/(0xb*0x379+-0x1848+-0xdea+Math['exp'](Math['max'](_0x5643f9[_0x53d240],_0x3334f9[_0x53d240],_0xfa47cb[_0x53d240])));_0x5534ed['x']+=_0x5a3e4c[_0x53d240]*_0x403bac,_0x5534ed['y']+=_0x3fed78[_0x53d240]*_0x403bac,_0x5534ed['z']+=_0x2aa654[_0x53d240]*_0x403bac,_0x30bccd+=_0x403bac;}_0x5534ed['mulScalar']((-0x9*-0x348+-0x1*-0x58f+-0x2316)/_0x30bccd);}['renderWire'+'frameBound'+'s'](_0x91c7d7,_0x571c02){const _0x514508=new A(),_0x11beda=new ie(),_0x308d57=new A(),_0x8a77d7=new A(),_0x531c05=new A(),_0x4db98f=this['createIter'](_0x514508,_0x11beda,_0x308d57);for(let _0x50e1ad=0x8d5+0x7db+-0x10b0;_0x50e1ad<this['numSplats'];++_0x50e1ad)_0x4db98f['read'](_0x50e1ad),U_(On,_0x514508,_0x11beda),On['mul2'](_0x571c02,On),_0x8a77d7['set'](_0x308d57['x']*-(0x1cb0+0x1fed+-0x3c9b),_0x308d57['y']*-(-0x270*0x3+-0x1253*-0x1+-0xb01),_0x308d57['z']*-(0xb2b+-0x2542+-0x83*-0x33)),_0x531c05['set'](_0x308d57['x']*(-0x284*-0x1+-0xf0d+0xc8b),_0x308d57['y']*(0x176f+0xb0*-0x23+-0x1*-0xa3),_0x308d57['z']*(-0x10ed+-0x17d4+0x28c3)),_0x91c7d7['immediate']['drawWireAl'+'ignedBox'](_0x8a77d7,_0x531c05,N1,!(-0x22*0x98+-0xcc6*-0x2+-0x62*0xe),_0x91c7d7['defaultDra'+'wLayer'],On);}get['isCompress'+'ed'](){return!(0x737*-0x1+0x1*0x1e29+0x347*-0x7);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x42a67c=-0xd93+-0x1910+0x26a3;_0x42a67c<-0x12f4+0xa9c+-0x3*-0x2d7;++_0x42a67c)if(!this['getProp']('f_rest_'+_0x42a67c))return _0x42a67c;return 0xa83+-0x15a7*-0x1+-0x1ffd;})())]??0xb9*0x1d+-0x961+-0x13*0x9c;}['calcMorton'+'Order'](){const _0x1a186c=_0x3d56b5=>{let _0x2b7557=_0x3d56b5[-0xe*-0x1a3+0x312*0x2+-0x1d0e],_0x214529=_0x3d56b5[0x1*-0x1af+0x40*0x6+-0x2f*-0x1];for(let _0x4fa1e5=-0x181e+0x1e5+0x163a;_0x4fa1e5<_0x3d56b5['length'];_0x4fa1e5++)_0x3d56b5[_0x4fa1e5]<_0x2b7557&&(_0x2b7557=_0x3d56b5[_0x4fa1e5]),_0x3d56b5[_0x4fa1e5]>_0x214529&&(_0x214529=_0x3d56b5[_0x4fa1e5]);return{'min':_0x2b7557,'max':_0x214529};},_0x354e52=(_0x21cab9,_0x2a8313,_0xc9bb59)=>{const _0x859070=_0x3e4224=>(_0x3e4224&=-0x6*0x45f+0x1*-0xb97+-0x37c*-0xc,_0x3e4224=(_0x3e4224^_0x3e4224<<-0x1*0x11d9+0x1719+0xa6*-0x8)&-0x188722129*0x1+0x9eda45a3*-0x3+-0xd*-0x56763a15,_0x3e4224=(_0x3e4224^_0x3e4224<<-0x1713+-0x227f+0x399a)&-0x1ef2722+-0x4e4bc12+0x9d4d343,_0x3e4224=(_0x3e4224^_0x3e4224<<-0x1*-0x1285+0x453*0x4+-0x23cd)&0x2b1c2b0+0x2*0x273f0cd+-0x3d237*0x131,_0x3e4224=(_0x3e4224^_0x3e4224<<-0x1016+0x2*-0xe4b+0x2*0x1657)&0x2*0x82d10c8+0x1dc203d*-0x1+-0x361*0x1954a,_0x3e4224);return(_0x859070(_0xc9bb59)<<0x1290+-0x2628+0x139a)+(_0x859070(_0x2a8313)<<0x1dd5*0x1+0x4*0x3c+-0x1ec4)+_0x859070(_0x21cab9);},_0x32427f=this['getProp']('x'),_0x4d49cd=this['getProp']('y'),_0x23f99d=this['getProp']('z'),{min:_0x1b3fbf,max:_0x1cdd56}=_0x1a186c(_0x32427f),{min:_0xdf386c,max:_0x153c46}=_0x1a186c(_0x4d49cd),{min:_0x2b6632,max:_0x4a67a7}=_0x1a186c(_0x23f99d),_0x47abb6=_0x1b3fbf===_0x1cdd56?0x1c4*-0xe+0x17f0+0xc8:(0x9d8*-0x3+0x2fb*0xb+0xbf)/(_0x1cdd56-_0x1b3fbf),_0x500d1a=_0xdf386c===_0x153c46?-0x1be1+0x1*0xdb7+0x31*0x4a:(0x43b*-0x3+-0x1d07+0x2db8)/(_0x153c46-_0xdf386c),_0x346bcc=_0x2b6632===_0x4a67a7?0x10ad+-0x228c+0x11df:(-0x1460+0x5be+0x12a2)/(_0x4a67a7-_0x2b6632),_0x3263f1=new Map();for(let _0x3420f0=-0x1910+0xa02+0xf0e;_0x3420f0<this['numSplats'];_0x3420f0++){const _0x3c7a7b=Math['floor']((_0x32427f[_0x3420f0]-_0x1b3fbf)*_0x47abb6),_0x12160a=Math['floor']((_0x4d49cd[_0x3420f0]-_0xdf386c)*_0x500d1a),_0x554165=Math['floor']((_0x23f99d[_0x3420f0]-_0x2b6632)*_0x346bcc),_0x30ecf2=_0x354e52(_0x3c7a7b,_0x12160a,_0x554165),_0x4aabce=_0x3263f1['get'](_0x30ecf2);_0x4aabce?_0x4aabce['push'](_0x3420f0):_0x3263f1['set'](_0x30ecf2,[_0x3420f0]);}const _0x3e22b6=Array['from'](_0x3263f1['keys']())['sort']((_0x35724b,_0x4bcdda)=>_0x35724b-_0x4bcdda),_0x121dd9=new Uint32Array(this['numSplats']);let _0x230253=0x1*0x2593+0x52*-0x3+-0x67*0x5b;for(let _0x2c1b8c=-0x9b*0x3e+-0x233e+0x48c8;_0x2c1b8c<_0x3e22b6['length'];++_0x2c1b8c){const _0x18833b=_0x3263f1['get'](_0x3e22b6[_0x2c1b8c]);for(let _0xbf4036=-0x2279+-0x11*-0x8f+-0x116*-0x17;_0xbf4036<_0x18833b['length'];++_0xbf4036)_0x121dd9[_0x230253++]=_0x18833b[_0xbf4036];}return _0x121dd9;}['reorder'](_0x2da52c){const _0x4a6d4c=new Map(),_0x1b6ac1=_0x13f1c3=>{if(_0x4a6d4c['has'](_0x13f1c3)){const _0x56d2ef=_0x4a6d4c['get'](_0x13f1c3);return _0x4a6d4c['delete'](_0x13f1c3),_0x56d2ef;}return new ArrayBuffer(_0x13f1c3);},_0x3759b2=_0x2ec556=>{_0x4a6d4c['set'](_0x2ec556['byteLength'],_0x2ec556);},_0x587abd=_0x4efd18=>{const _0x1135a3=new _0x4efd18['constructo'+'r'](_0x1b6ac1(_0x4efd18['byteLength']));for(let _0x17e9f8=-0x2ba+0x3*-0x9c4+-0x2006*-0x1;_0x17e9f8<_0x2da52c['length'];_0x17e9f8++)_0x1135a3[_0x17e9f8]=_0x4efd18[_0x2da52c[_0x17e9f8]];return _0x3759b2(_0x4efd18['buffer']),_0x1135a3;};this['elements']['forEach'](_0x534149=>{_0x534149['properties']['forEach'](_0x34bcc2=>{_0x34bcc2['storage']&&(_0x34bcc2['storage']=_0x587abd(_0x34bcc2['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const U0=(_0x4d8831={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x3033a0=_0x4d8831['dither']??Os,_0x36a3eb=_0x3033a0!==Os,_0x2119d7=new La({'uniqueName':'SplatMater'+'ial','vertexCode':_0x4d8831['vertex']??j['gsplatVS'],'fragmentCode':_0x4d8831['fragment']??j['gsplatPS'],'attributes':{'vertex_position':Xe,'vertex_id_attrib':Sa}});return _0x2119d7['setDefine']('DITHER_'+_0x3033a0['toUpperCas'+'e'](),''),_0x2119d7['cull']=vt,_0x2119d7['blendType']=_0x36a3eb?hs:Gt,_0x2119d7['depthWrite']=_0x36a3eb,_0x2119d7['update'](),_0x2119d7;};async function U1(){self['onmessage']=async _0x3a9197=>{const {data:_0x580fda}=_0x3a9197;switch(_0x580fda['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x4f8d01(_0x580fda['numSplats'],_0x580fda['shBands'],_0x580fda['SHData']);break;}};const _0x4f8d01=(_0x528673,_0x54ad95,_0x51184f)=>{const _0x1b2411=new Uint32Array(_0x528673*(0x3*0x731+-0x1a48+0x4b9)),_0x18f594=new Uint32Array(_0x528673*(0x23c3+0x1*-0x6d3+-0x1cec)),_0x2fd54d=new Uint32Array(_0x528673*(-0x2*0xf35+-0xd*0xdf+0x29c1)),_0x542302=new Uint32Array(_0x528673*(0x455*-0x8+-0x12b4+-0x7*-0x7a0)),_0x1b0114={0x1:0x3,0x2:0x8,0x3:0xf}[_0x54ad95],_0x237852=_0x51184f,_0x1e5ec5=0x1eb0+-0x495*0x6+0x1*0x4cd,_0x5ed936=-0x3d1*-0x2+-0xbf+-0x2e4,_0x4af43f=new Float32Array(0x4d7*0x8+-0x1716+-0xfa1*0x1),_0x542aeb=new Uint32Array(_0x4af43f['buffer']),_0x516c6a=new Array(_0x1b0114*(-0x16+-0x1dbd+0x1dd6*0x1))['fill'](-0x4*0x209+-0xed8+-0x2*-0xb7e);for(let _0xdcceca=0x1e60+-0x2040+-0x6*-0x50;_0xdcceca<_0x528673;++_0xdcceca){for(let _0x508199=0x68*-0x7+-0x1358+0x1630;_0x508199<_0x1b0114;++_0x508199)_0x516c6a[_0x508199*(0x193*0x11+0x36*0x3+0x2bd*-0xa)]=_0x237852[_0x508199][_0xdcceca],_0x516c6a[_0x508199*(0x3be*0xa+0x2069+-0x45d2)+(0x17cb+-0x23+0x5*-0x4bb)]=_0x237852[_0x508199+_0x1b0114][_0xdcceca],_0x516c6a[_0x508199*(0x92e+-0xd7d+-0x7*-0x9e)+(0x5b*-0x2d+0x8ad+0x754)]=_0x237852[_0x508199+_0x1b0114*(-0x1ad5+-0x2186*0x1+0x3c5d)][_0xdcceca];let _0x278017=_0x516c6a[-0x1+0x758+-0x757];for(let _0x928fd1=0x153f*-0x1+-0x2*0x1157+0x37ee;_0x928fd1<_0x1b0114*(-0x2482+-0x1afa+0x3f7f);++_0x928fd1)_0x278017=Math['max'](_0x278017,Math['abs'](_0x516c6a[_0x928fd1]));if(_0x278017!==0x173b*-0x1+0x255c+-0x1*0xe21){for(let _0x315c7f=0x1*0xbdf+0x509*0x2+-0x15f1;_0x315c7f<_0x1b0114;++_0x315c7f)_0x516c6a[_0x315c7f*(-0x1*-0x16d3+0x180e+-0x2ede)+(0x63e+0xfad+-0x1f*0xb5)]=Math['max'](-0x220c+-0x1b61+0x3d6d,Math['min'](_0x1e5ec5,Math['floor']((_0x516c6a[_0x315c7f*(0x10d7+0xd0e+-0x1e*0xff)+(0x2*0x205+-0x19*-0x17+-0x649)]/_0x278017*(0x6f+-0xfe6+0xf77+0.5)+(-0x19fb*0x1+0x1*0x1dd2+-0x3d7+0.5))*_0x1e5ec5+(-0xdeb+-0x1*0x167+-0x7a9*-0x2+0.5)))),_0x516c6a[_0x315c7f*(0x1d*0xca+0x189e+-0x2f7d)+(-0x1921+0xc8b*0x2+0x4*0x3)]=Math['max'](0x890*-0x2+0x42d*0x5+-0x3c1,Math['min'](_0x5ed936,Math['floor']((_0x516c6a[_0x315c7f*(-0x9b9*-0x2+-0x10d*0xf+-0x3ac)+(-0x35*0x2d+0x1*-0x23f8+-0xbb*-0x3e)]/_0x278017*(-0x2e*-0x6a+0x1*0x1c0f+-0x2f1b+0.5)+(-0x3*-0xc76+-0xcdb+-0x1887+0.5))*_0x5ed936+(-0x1da3*0x1+-0x1df3+0x2*0x1dcb+0.5)))),_0x516c6a[_0x315c7f*(0x194e+0x2*-0xf77+0x5a3)+(0x1e1c+0x51*0x34+0xca*-0x3b)]=Math['max'](-0x1b9a*-0x1+-0x21ac+0x15*0x4a,Math['min'](_0x1e5ec5,Math['floor']((_0x516c6a[_0x315c7f*(0xdab+-0x11ae*0x1+0x406)+(0x15f0+-0x1367*0x1+0x287*-0x1)]/_0x278017*(0x24f8+-0xd3*0x10+0x5f2*-0x4+0.5)+(-0x4f*0x35+0x2f*-0x52+0x1f69+0.5))*_0x1e5ec5+(0xf7e+0x1805+-0x77*0x55+0.5))));_0x4af43f[0x4eb*0x3+-0x1ab*0xc+0x543]=_0x278017,_0x1b2411[_0xdcceca*(0xb*-0x4b+0x1*0x24d4+-0x2197)+(-0x4*0x585+0x186+0x148e*0x1)]=_0x542aeb[0x1*0x1976+-0x31a+0x24*-0x9f],_0x1b2411[_0xdcceca*(-0x75c+0x1*0x2699+0x1*-0x1f39)+(-0x4*-0xf1+0x1cd1+-0x2094)]=_0x516c6a[-0x1b90+0x96*-0x1a+0x2acc]<<0x1a93+-0x1026+0x2*-0x52c|_0x516c6a[-0xdf*0x16+-0x475+0x60*0x3f]<<-0x101*0x5+0x1*-0x107c+0x158c|_0x516c6a[-0x9f2+-0x1*-0x1ead+-0x14b9],_0x1b2411[_0xdcceca*(-0x108*0x1c+0xd01+0xfe3)+(0x1eb7+-0x1b*-0xb5+-0xc73*0x4)]=_0x516c6a[0xa*0x200+0x160+-0x155d*0x1]<<-0x2287*0x1+-0x5d*-0x1b+-0x1*-0x18cd|_0x516c6a[0x16a*0x11+0x3*-0x76b+-0x3*0x97]<<-0x11*-0x1be+-0xa64+-0x132f|_0x516c6a[0x87*-0x1d+0x220a+-0x12ba],_0x1b2411[_0xdcceca*(0x1*0x14cc+0x7*0x1d2+-0x2186)+(-0x3*0x48d+0x1157+0x1*-0x3ad)]=_0x516c6a[-0xc97+-0x225e+-0xd3*-0x39]<<-0x1a30+0x1855+0x1*0x1f0|_0x516c6a[-0x6*-0x11+0x25b9+-0x1a8*0x17]<<0x9f9+0x1*0x12b8+0x1ca6*-0x1|_0x516c6a[0xcf*0x1d+0x2527+0x2*-0x1e49],_0x54ad95>0x261d+0x1*0x165e+0x3c7a*-0x1&&(_0x18f594[_0xdcceca*(-0xf43+0x707+-0x160*-0x6)+(0x1*-0x19f3+0x1afb+0xc*-0x16)]=_0x516c6a[-0x883*0x1+0x1b3b+-0x1*0x12af]<<-0x19fa+-0x5ab*-0x1+-0xa32*-0x2|_0x516c6a[0x1077+-0x718+0x955*-0x1]<<-0x5a1+-0x199*0x5+0xda9|_0x516c6a[0x13*-0x204+0x2301+0x1ab*0x2],_0x18f594[_0xdcceca*(-0x167d+-0x6b6*0x3+-0x25*-0x127)+(-0x21b5*0x1+-0x15*0x61+0x29ab)]=_0x516c6a[0x1681+-0xcbb+-0x9ba]<<0xc*0x1e5+-0x2267+0xbc0|_0x516c6a[0x16f2+-0xec2+-0x823*0x1]<<-0x2576+-0x192f+0x3eb0|_0x516c6a[0x11*0xb+0xad5+0xb82*-0x1],_0x18f594[_0xdcceca*(0x1439+0x1*-0x26a7+0x1272)+(0x1127*-0x1+-0x5*0x219+-0xdd3*-0x2)]=_0x516c6a[-0xf9c+-0x1*-0x25a2+0x15f7*-0x1]<<-0x16f6*0x1+0x26de*-0x1+0x3de9|_0x516c6a[-0xcd*0x11+-0x81b+0x4*0x572]<<-0xa60+-0x1a*0xa5+0x1b2d|_0x516c6a[0x5*-0x2ef+0x29*-0xd3+0x3*0x102d],_0x18f594[_0xdcceca*(0xece+0x1*0x1a53+0x839*-0x5)+(-0x2246+0x116*-0x1a+0x3e85)]=_0x516c6a[-0x151*0xb+-0x9*0x359+-0x12d*-0x26]<<-0xeab+-0xc7+0xf87|_0x516c6a[-0x1cd9+0x11e7*-0x1+-0x1*-0x2ed3]<<0x14b*0x8+-0x9*0x28f+0xcba|_0x516c6a[0x4*-0x3d1+-0x1042*-0x1+-0xea],_0x54ad95>0x18*-0xb4+0x1b7*-0x3+0x1*0x1607?(_0x2fd54d[_0xdcceca*(0x6*-0xf9+0x1f02+-0x1928)+(0x1fb3+-0x133b+-0xc78)]=_0x516c6a[-0x15b*0x5+-0x1a1d+0x20f9]<<-0x56*-0x49+-0x1121+0x3*-0x270|_0x516c6a[0x1*-0x1ed4+-0x13b5+0x1*0x329f]<<0x220a+-0x848+-0x19b7|_0x516c6a[-0x13e1+0x3b9*-0x2+0xf2*0x1d],_0x2fd54d[_0xdcceca*(0x17f4+-0xd68+-0xa88)+(0x45d+0x1687*-0x1+0x122b)]=_0x516c6a[0x1*0x1ff3+-0x12a1*0x1+-0xd3a]<<0x31*0x11+0x2*0xe09+0x5d*-0x56|_0x516c6a[0x1*-0xa6a+0x1286+-0x803]<<0x46d+0xdb8*-0x2+0x170e|_0x516c6a[0x413*-0x1+-0x6*-0xff+-0x1*0x1cd],_0x2fd54d[_0xdcceca*(0x8d3*0x4+-0x1*0x617+-0x1d31)+(-0x233*0xd+0x1d98*0x1+-0xff)]=_0x516c6a[0x1d16+0x2*-0x38b+0x127*-0x13]<<0x26a2+-0x1*-0xfd9+-0x3666|_0x516c6a[0x1f4+0x2ab*0x4+-0xc84]<<-0x24*-0x97+-0x1211+-0x320|_0x516c6a[0x2cf*-0x1+-0xb11*-0x2+-0x1336],_0x2fd54d[_0xdcceca*(0x731+-0x18af+0x1182)+(-0x1*-0x1f1b+-0x9*-0x105+-0xd*0x319)]=_0x516c6a[-0x25ca+0x7*0x26d+-0x14ed*-0x1]<<-0xf22+0x129a+0x121*-0x3|_0x516c6a[0x2cf+-0x52*-0x4a+-0x1a64]<<0x95d*-0x1+0x509*0x1+0x3*0x175|_0x516c6a[0x87f+0x671+-0xed0],_0x542302[_0xdcceca*(0x1*0x1831+-0x35*0xb9+0xe20)+(0xb*0x10d+0x1*-0x383+-0x80c)]=_0x516c6a[-0x270c+-0x1f99*-0x1+0x794]<<-0x8*-0x47+-0x21ea+0x1fc7|_0x516c6a[0x2399+0x3*0x2b4+-0x61*0x73]<<0x710+0x1b34+-0x1*0x2239|_0x516c6a[0x429+-0x101e*-0x2+-0x2442],_0x542302[_0xdcceca*(0x1167+-0x1e8*0x13+0x12d5)+(0x2*0xa15+0x1*-0x28d+-0x2e*0x62)]=_0x516c6a[-0x1354+0x138a+-0x12]<<-0x305*0x5+-0x389*0x4+0x342*0x9|_0x516c6a[-0xb76+0xa4f+0x53*0x4]<<-0xcae+-0x10fb+0x1db4|_0x516c6a[0x2707+-0x1a7c+-0xc65],_0x542302[_0xdcceca*(-0x9*-0x8a+0xe6b+0x1*-0x1341)+(-0x414+0x1*0x1bd9+-0x17c3)]=_0x516c6a[0x1a73+0x1*0x1ab7+-0x1*0x3503]<<0x1965+-0x67*-0x1c+0x1*-0x2494|_0x516c6a[-0x11bc+0x1c2e+-0xa4a]<<0x23c9+-0x61*0x1d+-0x18c1|_0x516c6a[-0x1*0x805+0x1abf+-0x1291],_0x542302[_0xdcceca*(0x28e*-0x2+-0x2502*0x1+0x1511*0x2)+(0x215*-0xb+0x3*0x135+0x134b)]=_0x516c6a[-0x326*-0x7+0x1*-0x10db+0x5*-0x101]<<-0x207+0x1*0x1fbe+-0x2*0xed1|_0x516c6a[0x2*-0x10+0x1*-0x3db+0x426]<<0x77*0x1+0x1*-0xa17+0x9ab|_0x516c6a[0x1fe5+-0x166e+-0x27*0x3d]):_0x2fd54d[_0xdcceca]=_0x516c6a[0x17*-0x173+-0x1*0xbc3+-0x2d*-0x101]<<0x2421+-0xb0c+-0x28*0xa0|_0x516c6a[0x1*0x21ad+-0x12e9*0x1+0xeae*-0x1]<<0x1*0x3a9+0xa94*0x1+-0xe32|_0x516c6a[-0x3*-0x59+0x1baf+0x1*-0x1ca3]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0x1b2411,'sh4to7Data':_0x18f594,'sh8to11Data':_0x2fd54d,'sh12to15Data':_0x542302},[_0x1b2411['buffer'],_0x18f594['buffer'],_0x2fd54d['buffer'],_0x542302['buffer']]);};}class V1 extends de{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+U1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x399b97=>{if(!this['worker'])return;const {data:_0x4f9531}=_0x399b97;switch(_0x4f9531['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x4f9531['sh1to3Data'],_0x4f9531['sh4to7Data'],_0x4f9531['sh8to11Dat'+'a'],_0x4f9531['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0xe392f1,_0x8fd190,_0x284de5){var _0x4a51dc;(_0x4a51dc=this['worker'])==null||_0x4a51dc['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0xe392f1,'shBands':_0x8fd190,'SHData':_0x284de5});}['destroy'](){var _0x39b1e0;this['worker']&&((_0x39b1e0=this['worker'])==null||_0x39b1e0['terminate'](),this['worker']=null);}}const V_=(_0x44b6d9,_0x4b0cb9)=>{const _0x93fcfc=[];for(let _0x283bdc=0x142b+-0x1c37+0x80c;_0x283bdc<_0x4b0cb9;++_0x283bdc)_0x93fcfc['push'](_0x44b6d9['getProp']('f_rest_'+_0x283bdc));return _0x93fcfc;};class G1{constructor(_0x3aaf56,_0x234cbf){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'opacity'),c(this,'threshold'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0xf7ded3=_0x234cbf['numSplats'];this['device']=_0x3aaf56,this['numSplats']=_0xf7ded3,this['numSplatsV'+'isible']=_0xf7ded3,this['updateData'+'Worker']=new V1(),this['centers']=new Float32Array(_0x234cbf['numSplats']*(-0x4a1+-0xe62+-0x5*-0x3ce)),this['motion']=new Float32Array(_0x234cbf['numSplats']*(-0x1539*0x1+-0x1*-0x13ee+0x14e)),this['timeIndex']=new Float32Array(_0x234cbf['numSplats']),_0x234cbf['getCenters'](this['centers']),_0x234cbf['getMotion'](this['motion']),_0x234cbf['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x234cbf['getMuT'](this['timeOption']),this['tScale']=_0x234cbf['getTScale'](),this['is4D']=_0x234cbf['is4D'],this['aabb']=new ve(),_0x234cbf['calcAabb'](this['aabb']);const _0x5bdc8d=this['evalTextur'+'eSize'](_0xf7ded3);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',it,_0x5bdc8d),this['thresholdT'+'exture']=this['createText'+'ure']('splatThres'+'hold',xa,_0x5bdc8d),this['transformA'+'Texture']=this['createText'+'ure']('transformA',yt,_0x5bdc8d),this['transformB'+'Texture']=this['createText'+'ure']('transformB',it,_0x5bdc8d),this['transformR'+'Texture']=this['createText'+'ure']('transformR',et,_0x5bdc8d),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',et,_0x5bdc8d),this['transformT'+'Texture']=this['createText'+'ure']('transformT',et,_0x5bdc8d)),this['updateColo'+'rData'](_0x234cbf),this['updateThre'+'sholdData'](_0x234cbf),this['updateTran'+'sformData'](_0x234cbf),this['shBands']=_0x234cbf['shBands'],this['shBands']>-0x1a16+-0x21f1*-0x1+0x7db*-0x1&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',yt,_0x5bdc8d),this['shBands']>-0x2*-0x1269+-0x7e0+-0x1cf1&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',yt,_0x5bdc8d),this['shBands']>0x2443+0x1d18+-0x4159?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',yt,_0x5bdc8d),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',yt,_0x5bdc8d)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',on,_0x5bdc8d)),this['updateSHDa'+'ta'](_0x234cbf));}['updateData'](_0x494bef){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0xc06c27=_0x494bef['numSplats'];this['numSplats']=_0xc06c27,this['numSplatsV'+'isible']=_0xc06c27,this['centers']=new Float32Array(_0x494bef['numSplats']*(-0x1*0xedb+-0x6b3+-0x1*-0x1591)),this['motion']=new Float32Array(_0x494bef['numSplats']*(-0x1b67+-0x1*0x1f73+0x1*0x3add)),this['timeIndex']=new Float32Array(_0x494bef['numSplats']),_0x494bef['getCenters'](this['centers']),_0x494bef['getMotion'](this['motion']),_0x494bef['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x494bef['getMuT'](this['timeOption']),this['tScale']=_0x494bef['getTScale'](),this['is4D']=_0x494bef['is4D'],this['aabb']=new ve(),_0x494bef['calcAabb'](this['aabb']);const _0x17770f=this['evalTextur'+'eSize'](_0xc06c27);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',it,_0x17770f),this['thresholdT'+'exture']=this['createText'+'ure']('splatThres'+'hold',xa,_0x17770f),this['transformA'+'Texture']=this['createText'+'ure']('transformA',yt,_0x17770f),this['transformB'+'Texture']=this['createText'+'ure']('transformB',it,_0x17770f),this['transformR'+'Texture']=this['createText'+'ure']('transformR',et,_0x17770f),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',et,_0x17770f),this['transformT'+'Texture']=this['createText'+'ure']('transformT',et,_0x17770f)),this['updateColo'+'rData'](_0x494bef),this['updateTran'+'sformData'](_0x494bef),this['updateThre'+'sholdData'](_0x494bef),this['shBands']=_0x494bef['shBands'],this['shBands']>0x106*0x7+0x1e37+-0x1*0x2561&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',yt,_0x17770f),this['shBands']>-0x8e*0x1+-0x1*0x19e1+-0x9*-0x2f0&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',yt,_0x17770f),this['shBands']>-0x12fb+-0x1fb1+0x32ae?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',yt,_0x17770f),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',yt,_0x17770f)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',on,_0x17770f)),this['updateSHDa'+'ta'](_0x494bef));}['destroy'](){var _0x3b4dc2,_0x342b00,_0x5a5da0,_0x36e4e0,_0x175b09,_0x1680d9,_0x3af849,_0xe82bbe,_0x2289db,_0x270470,_0x46beff;(_0x3b4dc2=this['colorTextu'+'re'])==null||_0x3b4dc2['destroy'](),(_0x342b00=this['thresholdT'+'exture'])==null||_0x342b00['destroy'](),(_0x5a5da0=this['transformA'+'Texture'])==null||_0x5a5da0['destroy'](),(_0x36e4e0=this['transformB'+'Texture'])==null||_0x36e4e0['destroy'](),(_0x175b09=this['transformR'+'Texture'])==null||_0x175b09['destroy'](),(_0x1680d9=this['transformT'+'SpeedTextu'+'re'])==null||_0x1680d9['destroy'](),(_0x3af849=this['transformT'+'Texture'])==null||_0x3af849['destroy'](),(_0xe82bbe=this['sh1to3Text'+'ure'])==null||_0xe82bbe['destroy'](),(_0x2289db=this['sh4to7Text'+'ure'])==null||_0x2289db['destroy'](),(_0x270470=this['sh8to11Tex'+'ture'])==null||_0x270470['destroy'](),(_0x46beff=this['sh12to15Te'+'xture'])==null||_0x46beff['destroy']();}['createMate'+'rial'](_0x5407a2){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0x7407e0=U0(_0x5407a2);return _0x7407e0['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x7407e0['setParamet'+'er']('splatThres'+'hold',this['thresholdT'+'exture']),_0x7407e0['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x7407e0['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x7407e0['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0x7407e0['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0x7407e0['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0x7407e0['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x7407e0['setDefine']('SH_BANDS',this['shBands']),_0x7407e0['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x7407e0['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x7407e0['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x7407e0['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x7407e0['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0x7407e0;}['evalTextur'+'eSize'](_0x21420f){const _0x4d3bef=Math['ceil'](Math['sqrt'](_0x21420f)),_0x27ce80=Math['ceil'](_0x21420f/_0x4d3bef);return new W(_0x4d3bef,_0x27ce80);}['createText'+'ure'](_0x1f6898,_0x437fae,_0x1b550e){return new ce(this['device'],{'name':_0x1f6898,'width':_0x1b550e['x'],'height':_0x1b550e['y'],'format':_0x437fae,'cubemap':!(-0x5*-0x14b+-0x94d+0x2d7),'mipmaps':!(0x165*0xa+0x194c+0x5*-0x7d9),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe});}['updateThre'+'sholdData'](_0x2ba2e3){console['log']('____\x20ENGIN'+'E\x20IVAN','updateThre'+'sholdData');const _0x518bd3=this['thresholdT'+'exture'],_0x29bfe1=(0x12eb+0x1dfe+-0x30e8)/(0x17*-0x11b+0x1ade*0x1+-0x72),_0x26998d=new URL(location['href'])['searchPara'+'ms']['get']('cutoff');if(!_0x518bd3)return;const _0x38235c=Bt['float2Half'],_0x448443=_0x518bd3['lock']();let _0x35576d=_0x2ba2e3['getProp']('cf');if(!_0x35576d){_0x35576d=new Float32Array(_0x2ba2e3['numSplats']);for(let _0x169132=-0x242c+0x1f19+0x513;_0x169132<_0x2ba2e3['numSplats'];++_0x169132)_0x35576d[_0x169132]=_0x26998d?Number(_0x26998d):0x1*0x132b+-0x2*-0xe2e+-0x2f87;}this['threshold']=_0x35576d;for(let _0x798666=0xaab+-0x444+-0x667;_0x798666<this['numSplats'];++_0x798666){const _0x49c3dd=_0x35576d?_0x35576d[_0x798666]*(-0x16ba+-0x1dd6+0x1e*0x1c9)/(0x2*0xf09+0x2042*-0x1+-0xa3*-0x5)+(-0x1*0xb11+0x1b5f+-0x104e+0.00392156862745098):_0x29bfe1;_0x448443[_0x798666]=_0x38235c(_0x49c3dd);}_0x518bd3['unlock']();}['updateColo'+'rData'](_0x4ad7b4){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x569674=this['colorTextu'+'re'];if(!_0x569674)return;const _0x589052=Bt['float2Half'],_0x1ed50c=_0x569674['lock'](),_0x486528=_0x4ad7b4['getProp']('f_dc_0'),_0x44b10b=_0x4ad7b4['getProp']('f_dc_1'),_0x1d07a7=_0x4ad7b4['getProp']('f_dc_2'),_0x3a0510=_0x4ad7b4['getProp']('opacity'),_0x463b7c=0x6f4+-0x1c06+0x1512+0.28209479177387814;this['opacity']=new Float32Array(this['numSplats']);for(let _0x2f1be5=0x2176+-0xf46+0x918*-0x2;_0x2f1be5<this['numSplats'];++_0x2f1be5){const _0xc004c8=_0x486528[_0x2f1be5]*_0x463b7c+(-0x6df*-0x1+0xad5+-0x19c*0xb+0.5),_0x3c2c55=_0x44b10b[_0x2f1be5]*_0x463b7c+(0x7*0x3bc+0x2*0x59+-0x1ad6+0.5),_0x59518c=_0x1d07a7[_0x2f1be5]*_0x463b7c+(0x4e6+-0x20b*-0x1+-0x6f1+0.5),_0x3179e2=(-0x82f+-0x3*-0x44+0x4*0x1d9)/(0x9*0x351+-0x4c0*-0x8+-0x43d8+Math['exp'](-_0x3a0510[_0x2f1be5]));this['opacity'][_0x2f1be5]=_0x3179e2,_0x1ed50c[_0x2f1be5*(0x50b*-0x1+0x1376*0x1+-0xe67)+(0x108c+0x459+-0x14e5)]=_0x589052(_0xc004c8),_0x1ed50c[_0x2f1be5*(-0x1*0x696+0x21*-0x67+-0x7*-0x2d7)+(-0x1134*0x2+-0x1c09+-0x3e72*-0x1)]=_0x589052(_0x3c2c55),_0x1ed50c[_0x2f1be5*(0x2*0xde2+0x1ded+-0x39ad)+(0xbb2+-0x1840+0x86*0x18)]=_0x589052(_0x59518c),_0x1ed50c[_0x2f1be5*(0xa32+0x6f*-0x49+0x1579)+(0x284*-0x2+0x1*0x19eb+-0x14e0)]=_0x589052(_0x3179e2);}_0x569674['unlock']();}['updateTran'+'sformData'](_0x43e313){var _0x4ce227,_0xb63fc4,_0x446981,_0x4d3f4f;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x3e6998=Bt['float2Half'];if(!this['transformA'+'Texture'])return;const _0x171c64=this['transformA'+'Texture']['lock'](),_0x5a86d9=new Float32Array(_0x171c64['buffer']),_0x156d21=this['transformR'+'Texture']['lock'](),_0x4acf4d=new Float32Array(_0x156d21['buffer']),_0x3507f5=this['transformB'+'Texture']['lock'](),_0x4f6b89=(_0x4ce227=this['transformT'+'SpeedTextu'+'re'])==null?void(-0x104*0x1d+0x1b1b+-0x1*-0x259):_0x4ce227['lock']();let _0x56db8a;_0x4f6b89&&(_0x56db8a=new Float32Array(_0x4f6b89['buffer']));const _0x47bbd4=(_0xb63fc4=this['transformT'+'Texture'])==null?void(-0x1*0x210b+-0x1ba1+0x4*0xf2b):_0xb63fc4['lock']();let _0x419701;_0x47bbd4&&(_0x419701=new Float32Array(_0x47bbd4['buffer']));const _0x2b20f2=new A(),_0x5ac66f=new ie(),_0x2d553a=new A(),_0x249e00=new A(),_0x498f24=_0x43e313['createIter'](_0x2b20f2,_0x5ac66f,_0x2d553a,null,_0x249e00),_0xc42a5c=_0x43e313['getProp']('t'),_0x2d8222=_0x43e313['getProp']('t_scale');for(let _0x69d7f5=-0x2393+0x5e*-0xc+-0x1*-0x27fb;_0x69d7f5<this['numSplats'];_0x69d7f5++)_0x498f24['read'](_0x69d7f5),_0x5ac66f['normalize'](),_0x5ac66f['w']<0x13c8+0x64a+-0x1a12&&_0x5ac66f['mulScalar'](-(0xb5d+0x557*-0x1+-0x605)),_0x5a86d9[_0x69d7f5*(-0x2234+0x1*-0x5f2+0x282a)+(0x1434+0x3d*0x65+-0x7*0x653)]=_0x2b20f2['x'],_0x5a86d9[_0x69d7f5*(0x1b87+-0x2*0x29c+0x164b*-0x1)+(0xd24*0x1+-0x1*-0x388+-0x10ab)]=_0x2b20f2['y'],_0x5a86d9[_0x69d7f5*(0x1267+0x148e+-0x26f1)+(0x267f+-0x1052+-0x162b)]=_0x2b20f2['z'],_0x3507f5[_0x69d7f5*(-0x2fd+0x2263*0x1+-0x1f62)+(0x2267+-0x1f07+-0x360)]=_0x3e6998(_0x2d553a['x']),_0x3507f5[_0x69d7f5*(0x32d*-0xb+0x12*0x1c4+0x32b)+(0x1309+-0x1204+-0x104)]=_0x3e6998(_0x2d553a['y']),_0x3507f5[_0x69d7f5*(-0x1*0x158f+-0x3*-0x9a5+-0x75c)+(0x23b1*-0x1+-0x7bc+0x2b6f)]=_0x3e6998(_0x2d553a['z']),_0x4acf4d[_0x69d7f5*(0x5*-0x6af+0x15*0x107+-0x5c*-0x21)+(0x2639+0x43*0x92+-0x4c6f)]=_0x5ac66f['x'],_0x4acf4d[_0x69d7f5*(0x1a56+0x1*-0xe43+0x405*-0x3)+(-0x1*0xc8f+0x1e85+-0x11f5)]=_0x5ac66f['y'],_0x4acf4d[_0x69d7f5*(-0xc19*0x2+-0x2*0x4a+0x18ca)+(0x1035*-0x1+-0x1e2a+0x2e61)]=_0x5ac66f['z'],this['is4D']&&_0x56db8a&&_0x419701&&(_0x56db8a[_0x69d7f5*(-0x1153+-0x3*-0x19+0x110c)+(-0x21d7*0x1+-0x270c+0x1*0x48e3)]=_0x249e00['x'],_0x56db8a[_0x69d7f5*(-0x120c+-0x146c+0x267c)+(-0x6*-0x297+0xb60+-0x1ae9*0x1)]=_0x249e00['y'],_0x56db8a[_0x69d7f5*(0x1fc3+0x234b+-0x430a)+(-0x2cc+-0xee*0x2a+0x3ce*0xb)]=_0x249e00['z'],_0x419701[_0x69d7f5*(-0x217c+-0x125*0x5+0x2739)+(0x9*0x317+0x1a03*-0x1+-0x1cc)]=_0xc42a5c?_0xc42a5c[_0x69d7f5]:0x22f*-0x1+0x2*-0x450+0x1*0xacf,_0x419701[_0x69d7f5*(0x1ece+0x6*-0x156+-0xa*0x247)+(0x1*0x54c+0x111d+0x1de*-0xc)]=_0x2d8222?Math['exp'](_0x2d8222[_0x69d7f5]):0x2560+0xe16+-0x1*0x3376);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x446981=this['transformT'+'SpeedTextu'+'re'])==null||_0x446981['unlock'](),(_0x4d3f4f=this['transformT'+'Texture'])==null||_0x4d3f4f['unlock']();}['updateSHDa'+'ta'](_0x3b667a){var _0x1ec900,_0x4e857f,_0x1375c6,_0x248cd2,_0x4dbe5d,_0x38e87f,_0x597d46;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x10627f=(_0x1ec900=this['sh1to3Text'+'ure'])==null?void(0x3d5*0x7+-0x1*0x157d+-0x556):_0x1ec900['lock'](),_0x5e5471=(_0x4e857f=this['sh4to7Text'+'ure'])==null?void(0x21ae+-0x77a+0x45e*-0x6):_0x4e857f['lock'](),_0xb8003a=(_0x1375c6=this['sh8to11Tex'+'ture'])==null?void(0x1a44+0x1*-0x1256+-0x7ee):_0x1375c6['lock'](),_0x26e43b=(_0x248cd2=this['sh12to15Te'+'xture'])==null?void(0x1f61+0xb*0x2fe+0x6d*-0x97):_0x248cd2['lock'](),_0x2c81c5={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0xaad374=V_(_0x3b667a,_0x2c81c5*(0x6fd+-0x38*0x6+0x5*-0x122)),_0x26f13a=-0x17*0xfd+0x16*0x6b+-0xd*-0x1a8,_0x3839ee=0x636+-0x2353*-0x1+0x3c1*-0xa,_0xdacfa=new Float32Array(-0x1240*0x2+0x1b88+-0x1*-0x8f9),_0x172bec=new Uint32Array(_0xdacfa['buffer']),_0x1d8057=new Array(_0x2c81c5*(0x10*-0x10f+-0x1*-0x2309+-0x1216))['fill'](0x1c6e+-0xfd6+-0xf8*0xd);for(let _0x3adfc0=-0x8*0x2f+-0xc*0x117+0xe8c;_0x3adfc0<_0x3b667a['numSplats'];++_0x3adfc0){for(let _0x2e83b4=0xe38+0x1617+-0x244f;_0x2e83b4<_0x2c81c5;++_0x2e83b4)_0x1d8057[_0x2e83b4*(0xf9*0x1d+0x154e+-0x10*0x318)]=_0xaad374[_0x2e83b4][_0x3adfc0],_0x1d8057[_0x2e83b4*(-0xca0+0x757+0x54c)+(-0x59*0x59+0x24d9+-0x5e7)]=_0xaad374[_0x2e83b4+_0x2c81c5][_0x3adfc0],_0x1d8057[_0x2e83b4*(0x1501+-0x3de+-0x4*0x448)+(0x653*0x1+-0x52*-0xd+0x1*-0xa7b)]=_0xaad374[_0x2e83b4+_0x2c81c5*(0x335*0xb+0x2140+-0x4485)][_0x3adfc0];let _0x28bd35=_0x1d8057[0xe48*-0x2+0x1e71+0x1*-0x1e1];for(let _0x1be084=-0xc1e+0xf67*-0x2+0x2aed;_0x1be084<_0x2c81c5*(-0xd*-0x25a+-0x2*-0x99f+-0x31cd);++_0x1be084)_0x28bd35=Math['max'](_0x28bd35,Math['abs'](_0x1d8057[_0x1be084]));if(_0x28bd35!==0x239*0x10+-0x1*-0x4b7+0x5c1*-0x7){for(let _0x97dcde=0x1dc1+-0x647+-0x177a;_0x97dcde<_0x2c81c5;++_0x97dcde)_0x1d8057[_0x97dcde*(0x995+-0xbf*-0x1d+-0x1f35)+(-0x145+-0x1cf1+0x1e36)]=Math['max'](-0x54b+0x1aa1+-0x1556,Math['min'](_0x26f13a,Math['floor']((_0x1d8057[_0x97dcde*(0x1d10+0x13*-0x141+0x1*-0x53a)+(0x14c3+0x16*0xb2+0x21f*-0x11)]/_0x28bd35*(-0x24d6+0x1*0x17e9+0xced+0.5)+(0x68a+-0x1f26*-0x1+-0x25b0+0.5))*_0x26f13a+(0xea0+0x1864+-0x2704+0.5)))),_0x1d8057[_0x97dcde*(-0x2505+-0xaed*0x2+-0x1d71*-0x2)+(-0x17d0+-0xef*-0x1d+-0x3*0x116)]=Math['max'](0x1*0xda9+0x389*-0xb+0xc9d*0x2,Math['min'](_0x3839ee,Math['floor']((_0x1d8057[_0x97dcde*(0xf*0x282+0x1384*-0x2+0x16d)+(-0x1c61+-0x279+0x1edb)]/_0x28bd35*(0x2*0xd79+0x957*-0x1+-0x119b+0.5)+(0x12*0x21f+-0x2686+0x58*0x1+0.5))*_0x3839ee+(0x5*0x60b+-0xbd*-0x23+-0x380e+0.5)))),_0x1d8057[_0x97dcde*(0x912+0xd8a*0x1+-0x1699)+(-0x1*-0x92+-0x1a3b+0x1*0x19ab)]=Math['max'](-0x2*0xbb9+-0x1*-0x8b+-0x1c3*-0xd,Math['min'](_0x26f13a,Math['floor']((_0x1d8057[_0x97dcde*(-0x23b2+-0x13*0x65+-0x7*-0x62c)+(0x574+0x4*0x7d7+-0x24ce)]/_0x28bd35*(-0x10dc+0x206e+0x7c9*-0x2+0.5)+(-0x249b+-0x169c+-0x1e9*-0x1f+0.5))*_0x26f13a+(0x875*-0x3+0x17*0xd+-0x1*-0x1834+0.5))));_0xdacfa[0xfa3+0x7*-0x44b+-0x9*-0x19a]=_0x28bd35,_0x10627f[_0x3adfc0*(-0x571+0x9c1+-0x44c)+(-0xa*0x373+-0xaf*-0x29+0x677)]=_0x172bec[0xb34*-0x1+-0x15a5+-0x20d9*-0x1],_0x10627f[_0x3adfc0*(0x362*-0x4+0x16e8*0x1+-0x95c)+(0x188c+-0x31+0x3*-0x81e)]=_0x1d8057[-0x11e1+0xed7+0x30a]<<0x1136+0x151f+-0x440*0x9|_0x1d8057[0x1e0b+-0x368*0x2+-0x7be*0x3]<<0x23cf+0xffe+-0x33c2|_0x1d8057[0x1*-0x1c9d+-0x2*0x5c2+0x2823],_0x10627f[_0x3adfc0*(0x94d*0x4+0x4df*-0x8+0x39*0x8)+(0x112c+-0xaae+-0x67c)]=_0x1d8057[-0x4*-0xe5+-0x1*0x1acf+0x173e]<<-0x11*0x11f+-0x1345+0x2669|_0x1d8057[-0x156*-0x3+-0x39*-0x74+-0x1dd2]<<-0x1*0x45f+-0x1562+0x19cc|_0x1d8057[0x1*0x1fb3+-0x85d+-0x1*0x1751],_0x10627f[_0x3adfc0*(-0x31d*0x3+0x3b3+0x5a8)+(0x1123+0x7f5*-0x4+0xeb4)]=_0x1d8057[-0x1*0x1a0f+0xef1*0x1+0x3e*0x2e]<<0x1*0x11af+-0x25f0+-0x89*-0x26|_0x1d8057[0xdf6*0x1+-0x2118+0x6d*0x2d]<<-0xb49+-0x1*0x272+0xdc6|_0x1d8057[-0x6*-0x456+0x12*0x119+-0x2*0x16df],this['shBands']>0x1c51+0xefd+-0x2b4d*0x1&&(_0x5e5471[_0x3adfc0*(-0x2*-0x6ca+-0x2a*0x64+0x16c*0x2)+(-0x18e0+0x51a*-0x3+0x25*0x116)]=_0x1d8057[-0x20ef+0x118a+0xf6e]<<0xeb6+0x1a64+-0x1*0x2905|_0x1d8057[-0x2*0x8dd+0x1240+-0x7c]<<0x1176+-0x35*0x2c+-0x1*0x84f|_0x1d8057[0x1ac6+0x4*-0x3d5+-0x7*0x1a1],_0x5e5471[_0x3adfc0*(0x85a+-0x2138+0x18e2)+(-0x13f2+0x1888+0x17*-0x33)]=_0x1d8057[0x1*0x989+-0x1*-0xd4f+-0x16cc]<<-0x641*0x3+-0x7f+0x1*0x1357|_0x1d8057[-0x1078+0x106*0x1a+0x11f*-0x9]<<-0x181d+0x1b1f*-0x1+0x3347|_0x1d8057[0x22b9+-0x56*0x66+-0x67],_0x5e5471[_0x3adfc0*(0x53*-0x4d+-0x1*0x238d+0x3c88)+(-0x2421+-0x1261+0x48b*0xc)]=_0x1d8057[-0x1fdb+0x14b3+0x1*0xb37]<<-0x3*-0xcff+-0x8a5+-0x1*0x1e43|_0x1d8057[0x59b+0x9d*-0x6+-0x1dd]<<0x1*0xc9b+0x69*0xb+-0x1113|_0x1d8057[-0x7*0x57f+-0x125*0x17+0x40dd],_0x5e5471[_0x3adfc0*(0x13f7+0x74f*0x3+0x860*-0x5)+(-0xb2d+-0x358*-0x9+-0x12e8)]=_0x1d8057[-0x913*0x3+-0xab*0xf+-0x1*-0x2550]<<-0x61f*-0x5+0xca0+-0x15*0x20e|_0x1d8057[-0x16*-0x9b+0x22b0+0x6d9*-0x7]<<0xb0c+-0xaae+-0x53*0x1|_0x1d8057[-0xac7+-0x16bc+0x2197*0x1],this['shBands']>-0xec4+-0x1966+0x282c?(_0xb8003a[_0x3adfc0*(0x1cb8+0x1b73+-0x3827)+(0x58a*-0x7+-0x1*-0x26+0x26a0)]=_0x1d8057[-0x821*-0x3+-0x15*-0xdd+0xe25*-0x3]<<0x1e05+0xb*0x79+-0x2323*0x1|_0x1d8057[0xa37+0x1231*-0x1+-0x2b*-0x30]<<0x1*-0x21e7+0x1*-0x1d69+0x7*0x90d|_0x1d8057[-0x7ec+0x68*-0x42+-0x5*-0x6f7],_0xb8003a[_0x3adfc0*(0x5*-0x201+0xa68+-0x1*0x5f)+(0xf84+0x1b10+-0x2a93)]=_0x1d8057[-0xb7b+0x2489*-0x1+0x1*0x301c]<<0x176c+0x996+-0x1*0x20ed|_0x1d8057[-0xf1*-0x1a+0x232e+-0x3b8f]<<-0x4c+0x9*-0xad+0x66c|_0x1d8057[0x324+-0xd*-0x7+-0x365],_0xb8003a[_0x3adfc0*(-0x1614+0x2081+-0xa69)+(-0x22d*0x1+0x132*0x8+0x1*-0x761)]=_0x1d8057[0x130c+0xf*0xa6+-0x1cab]<<-0x24b6*-0x1+-0xbc9*0x1+0x31b*-0x8|_0x1d8057[0x1c56+-0x1*-0x11a6+0x10*-0x2de]<<-0x65*-0x7+-0x1*0x15b+0x15d*-0x1|_0x1d8057[-0x17b8+0x2b6+0x151f*0x1],_0xb8003a[_0x3adfc0*(-0x17*0x43+-0x20c3+0x26cc)+(0xba8+-0x745*-0x2+-0x1a2f*0x1)]=_0x1d8057[0x1a3*-0x11+0x1281+0x970]<<-0xd45+-0x4*0x1ba+-0xa21*-0x2|_0x1d8057[-0x7*0x1af+-0x130f+0x1ef7]<<0x1360+0x578+-0x7*0x38b|_0x1d8057[0x1*0x622+-0x1ca6+0x12*0x142],_0x26e43b[_0x3adfc0*(-0x87e+0x120+0x762)+(-0x4*-0x662+-0x1652+-0x336)]=_0x1d8057[0xc26+0x1*0x1388+-0x1f8d]<<-0x9a6*0x2+-0xee3*0x2+0x3127|_0x1d8057[0x805*-0x1+-0x1*-0x4ca+0x1*0x35d]<<0x64*-0x53+0x1*0x1c87+0x3*0x150|_0x1d8057[0x1f51*0x1+-0xd0*-0x18+-0x1*0x32ae],_0x26e43b[_0x3adfc0*(0xb*-0x13d+0x13a6*0x1+-0x603)+(0x781*-0x1+0x1596+-0xe14)]=_0x1d8057[0xa97*-0x3+-0x20fc+0x40e5]<<0x17*0x93+0x469+-0x1189|_0x1d8057[0x1a*0x4f+-0x13*0x16f+0x135c]<<0x78*-0x3d+0xdc*0x1d+0x3b7|_0x1d8057[-0x185c+-0x9d*0x1+0x191f],_0x26e43b[_0x3adfc0*(-0xfa8*-0x1+-0xf6*0x3+-0xcc2*0x1)+(-0x15d*0x7+-0x21da*-0x1+-0x184d)]=_0x1d8057[-0x65*-0x6+0x11*-0x8b+-0x1*-0x704]<<-0xff9+-0x1d7b+0x2d89|_0x1d8057[-0x2673+0x28*0x1+0x2673]<<0x29*0xef+0x2007+-0x4643|_0x1d8057[-0x2647+-0x26d5+-0x4d45*-0x1],_0x26e43b[_0x3adfc0*(0x1ca*0x1+0x1a10+-0x1bd6)+(0x41*0x28+0x25*0xe3+-0x2af4)]=_0x1d8057[-0x207f+0x1*0x521+0x1b88]<<0x718+0x1f9+0x32*-0x2e|_0x1d8057[0x3*-0x4d9+0xbe7+0x2cf*0x1]<<-0x33+0x22ab*0x1+-0x226d|_0x1d8057[-0xc7*-0xd+-0x995*0x3+-0x56*-0x38]):_0xb8003a[_0x3adfc0]=_0x1d8057[0x162c+-0x20fb*-0x1+-0x3712]<<-0x1*-0x1981+-0x36*-0xa8+0xa*-0x616|_0x1d8057[0x1f04+0x1*0x25d5+-0x44c3]<<0x5*-0x1b+-0x502*0x6+0x1e9e|_0x1d8057[-0x1c73*0x1+0x18c2+0x3c8]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x4dbe5d=this['sh4to7Text'+'ure'])==null||_0x4dbe5d['unlock'](),(_0x38e87f=this['sh8to11Tex'+'ture'])==null||_0x38e87f['unlock'](),(_0x597d46=this['sh12to15Te'+'xture'])==null||_0x597d46['unlock']();}['updateSHDa'+'taByWorker'](_0x439116){const _0x3de4b5={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x1e7c7f=V_(_0x439116,_0x3de4b5*(-0x219d+0x1b6*-0x1+0x2356));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x439116['numSplats'],this['shBands'],_0x1e7c7f),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x2e59a9,_0xfe3727,_0x15fc38,_0x20bf97)=>{var _0x1fe01c,_0x5e38ff,_0x42d9e4,_0x102549,_0x29816c,_0x210c6e,_0x27da6b,_0x44a610,_0x9c0774,_0x2ad2b2;const _0x2e9041=(_0x1fe01c=this['sh1to3Text'+'ure'])==null?void(0x123a+0xf2f*0x1+-0x2169):_0x1fe01c['lock']();if(new Uint32Array(_0x2e9041['buffer'])['set'](_0x2e59a9),(_0x5e38ff=this['sh1to3Text'+'ure'])==null||_0x5e38ff['unlock'](),this['shBands']>0x4bd+0x2604+-0x2ac0){const _0x2fcd9c=(_0x42d9e4=this['sh4to7Text'+'ure'])==null?void(-0x25d9+0x1fe9+0x5f*0x10):_0x42d9e4['lock']();if(new Uint32Array(_0x2fcd9c['buffer'])['set'](_0xfe3727),(_0x102549=this['sh4to7Text'+'ure'])==null||_0x102549['unlock'](),this['shBands']>0x648*0x5+0xb76+-0x2adc){const _0x53e9e8=(_0x29816c=this['sh8to11Tex'+'ture'])==null?void(-0x2683*0x1+0x8*-0x1f6+-0x25*-0x177):_0x29816c['lock']();new Uint32Array(_0x53e9e8['buffer'])['set'](_0x15fc38),(_0x210c6e=this['sh8to11Tex'+'ture'])==null||_0x210c6e['unlock']();const _0x3560dc=(_0x27da6b=this['sh12to15Te'+'xture'])==null?void(-0x43e*-0x9+0x12b2*-0x2+-0xca):_0x27da6b['lock']();new Uint32Array(_0x3560dc['buffer'])['set'](_0x20bf97),(_0x44a610=this['sh12to15Te'+'xture'])==null||_0x44a610['unlock']();}else{const _0x157513=(_0x9c0774=this['sh8to11Tex'+'ture'])==null?void(-0xb*0x2f5+-0xc18+0x2c9f*0x1):_0x9c0774['lock']();new Uint32Array(_0x157513['buffer'])['set'](_0x15fc38),(_0x2ad2b2=this['sh8to11Tex'+'ture'])==null||_0x2ad2b2['unlock']();}}});}}async function H1(){let _0x15c9ac=0x1d*-0x17+-0x250*-0x1+0x4f;class _0x4df102{constructor(_0x2b0e3c,_0x4a3adb){this['lChild']=_0x2b0e3c,this['rChild']=_0x4a3adb,this['indexes']=[];}['setLeftChi'+'ld'](_0x2792d7){this['lChild']=_0x2792d7;}['setRightCh'+'ild'](_0x3b2732){this['rChild']=_0x3b2732;}}class _0x390f0e{constructor(_0xc81ade,_0x5ee1a6,_0x3aca58,_0x218533){this['maxDepth']=_0xc81ade,this['timeScaleR'+'aio']=_0x218533,this['minTime']=Math['floor'](_0x5ee1a6*_0x218533),this['maxTime']=Math['ceil'](_0x3aca58*_0x218533),this['rootNode']=new _0x4df102(null,null);}['insertNode'](_0x2b75d6,_0x286eae,_0x2a5dd1){_0x2b75d6=Math['floor'](_0x2b75d6*this['timeScaleR'+'aio']),_0x286eae=Math['ceil'](_0x286eae*this['timeScaleR'+'aio']),this['_insertNod'+'e'](this['rootNode'],_0x2b75d6,_0x286eae,_0x2a5dd1,this['minTime'],this['maxTime'],-0x53e+-0x13d*-0x1f+-0x5*0x6a1);}['_insertNod'+'e'](_0x54699a,_0x3384b4,_0x5d1a04,_0x49b100,_0x16a944,_0x6e3489,_0x52be00){if(_0x3384b4<=_0x16a944&&_0x6e3489<=_0x5d1a04){_0x54699a['indexes']['push'](_0x49b100);return;}if(_0x52be00>=this['maxDepth']){_0x54699a['indexes']['push'](_0x49b100);return;}let _0x2efa44=Math['floor']((_0x16a944+_0x6e3489)/(-0x127d*0x1+0x132e+-0x5*0x23));_0x3384b4<=_0x2efa44&&(_0x54699a['lChild']==null&&(_0x54699a['lChild']=new _0x4df102(null,null)),this['_insertNod'+'e'](_0x54699a['lChild'],_0x3384b4,_0x5d1a04,_0x49b100,_0x16a944,_0x2efa44,_0x52be00+(0x2294+0x6*0x26e+-0x3127*0x1))),_0x5d1a04>_0x2efa44&&(_0x54699a['rChild']==null&&(_0x54699a['rChild']=new _0x4df102(null,null)),this['_insertNod'+'e'](_0x54699a['rChild'],_0x3384b4,_0x5d1a04,_0x49b100,_0x2efa44+(-0x1ede+0x2201+-0x322),_0x6e3489,_0x52be00+(0x1b79+0x1067*0x1+-0x2bdf)));}['gatherInde'+'xesNumber'](_0x3d99c3){_0x3d99c3=Math['floor'](_0x3d99c3*this['timeScaleR'+'aio']);let _0x2c92d7=this['minTime'],_0x247cd2=this['maxTime'],_0x118b18=this['rootNode'],_0x3eb0ac=-0xab2+-0x209f+0x2b51;for(;!(_0x3d99c3<_0x2c92d7||_0x3d99c3>_0x247cd2||_0x118b18==null||(_0x118b18['indexes']['length']>0x4de*-0x7+-0x6a6*-0x2+0x14c6&&(_0x3eb0ac=_0x3eb0ac+_0x118b18['indexes']['length']),_0x2c92d7==_0x247cd2));){let _0x5a42b4=Math['floor']((_0x2c92d7+_0x247cd2)/(-0xa3d+-0x221a+-0x2c59*-0x1));_0x3d99c3<=_0x5a42b4?(_0x247cd2=_0x5a42b4,_0x118b18=_0x118b18['lChild']):(_0x2c92d7=_0x5a42b4+(-0x1d87*0x1+-0x246+0x54d*0x6),_0x118b18=_0x118b18['rChild']);}return _0x3eb0ac;}['gatherInde'+'xes'](_0x12a2b1,_0x1614f2,_0x42c64b){_0x12a2b1=Math['floor'](_0x12a2b1*this['timeScaleR'+'aio']);let _0x44751a=this['minTime'],_0x2ad86c=this['maxTime'],_0x154760=this['rootNode'],_0x5855e1=-0x1386+0x254c+-0x11c6;for(;!(_0x12a2b1<_0x44751a||_0x12a2b1>_0x2ad86c||_0x154760==null);){if(_0x154760['indexes']&&_0x154760['indexes']['length']>-0x8*0x1f+-0x2391+0x2489){const _0x5c0ec6=_0x154760['indexes']['length'],_0x5c2543=_0x5c0ec6*_0x15c9ac;new Uint32Array(_0x1614f2,_0x42c64b,_0x5c0ec6)['set'](_0x154760['indexes']),_0x5855e1+=_0x154760['indexes']['length'],_0x42c64b+=_0x5c2543;}if(_0x44751a==_0x2ad86c)break;let _0x15d0bc=Math['floor']((_0x44751a+_0x2ad86c)/(-0x1*-0x665+0x1231+-0x1894));_0x12a2b1<=_0x15d0bc?(_0x2ad86c=_0x15d0bc,_0x154760=_0x154760['lChild']):(_0x44751a=_0x15d0bc+(0x19d5*-0x1+0x11bc+-0x3d*-0x22),_0x154760=_0x154760['rChild']);}return _0x5855e1;}}let _0x50fcc5=null,_0x116b92=null,_0xc1bcb5=null,_0x4bbfba=null,_0x1f86ca=null,_0x4871d1=null,_0x5c31eb=null,_0x101dde=null,_0x4c7589=null,_0x43d72f=null,_0x13764f=null,_0x2ed71b=null,_0x333639=null,_0x448819=null,_0x3895a4=null,_0x5a0395=null,_0x324b24=null,_0x5f2fe8=null,_0x32f381=null,_0x6c42=null,_0x12c127=null,_0x427cee=null,_0x41d847=null,_0x495577=null,_0x36beda=null,_0x12cffd=null,_0xd7e677=null,_0x3f414f=Float32Array['BYTES_PER_'+'ELEMENT'],_0x16039c=Uint32Array['BYTES_PER_'+'ELEMENT'],_0xc9b167=0x18ac+0x3*0x14b+-0x1c8d*0x1,_0xffa43e=!(0x1*0x513+-0xc9+-0x2*0x225),_0x33c595,_0x434ac2,_0x18fe6f={'x':0x0,'y':0x0,'z':0x0},_0xe5313={'x':0x0,'y':0x0,'z':0x0},_0x10d9ed=!(0x1c97+0x1cee+-0x3985),_0x58f1d0=!(0x752*-0x2+-0x213e+0x2fe3),_0x456603=!(-0x1483+0xb*0x10f+-0x8df*-0x1),_0x3b228e=0x1*0x1c73+-0x3b9*0x3+-0x1148,_0x571da8=0x2c8+0xbd7*0x1+-0xe9f,_0xad052=!(-0x809*-0x4+-0x76*0x25+0x9*-0x1ad),_0x1855bc=null,_0x34ba1e=!(-0x226d+-0x3*-0x571+0x121b),_0x1be715=-0x8b3+0xaf8+-0x245+0.03,_0x5b34bb=Math['sqrt'](-(-0x166*0xa+0x6*0x2e1+-0x348)*Math['log'](_0x1be715)),_0x1926ee=0x1*0x1145f+-0x98b2+0x8453,_0x2339d2=new _0x390f0e(-0xb8a+0x13f4+0x42d*-0x2,-0x5*-0x635+-0xd*-0x6b+-0x185*0x18,-0x131c+0x60a*0x2+-0x70d*-0x1,_0x1926ee/(0x3*-0x9ff+0x2567+-0x765));self['onmessage']=async _0xae0198=>{const {data:_0x960948}=_0xae0198;switch(_0x960948['type']){case'initWorker':_0xc9b167=_0x960948['numSplats'],_0x438634(),_0xffa43e=_0x960948['is4d'],await _0x186ab2(_0x960948['sortWasmUr'+'l']),_0x1ead25(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x960948['dataReady']){if(_0x4871d1&&_0x960948['centers']&&_0x4871d1['length']===_0x960948['centers']['length']){const _0x398ce5=new Float32Array(_0x960948['centers']);_0x4871d1['set'](_0x398ce5);}if(_0x43d72f&&_0x960948['timeIndex']&&_0x43d72f['length']===_0x960948['timeIndex']['length']){const _0x21e8e9=new Uint32Array(_0x960948['timeIndex']);_0x43d72f['set'](_0x21e8e9);}if(_0x333639&&_0x960948['motion']&&_0x333639['length']===_0x960948['motion']['length']){const _0x3f3951=new Float32Array(_0x960948['motion']);_0x333639['set'](_0x3f3951);}if(_0xffa43e&&_0x13764f&&_0x2ed71b&&_0x960948['muT']&&_0x960948['tScale']&&_0x13764f['length']===_0x960948['muT']['length']&&_0x2ed71b['length']===_0x960948['tScale']['length']){_0x13764f['set'](_0x960948['muT']),_0x2ed71b['set'](_0x960948['tScale']);let _0x312125=function(_0x3acc06,_0x5f42ca){return _0x3acc06>_0x5f42ca?_0x3acc06:_0x5f42ca;};for(let _0x144e57=-0x1a4b*0x1+-0x1225+0x2c70;_0x144e57<_0x13764f['length'];++_0x144e57)_0x5b34bb=Math['sqrt'](-(0x1678+0x14+-0x168a)*Math['log'](_0x312125(_0x1be715,_0x960948['threshold'][_0x144e57]/(_0x960948['opacity'][_0x144e57]+(0x1b70+0x2111+-0x3c81+1e-9))))),_0x2339d2['insertNode'](_0x960948['muT'][_0x144e57]-_0x312125(_0x5b34bb*_0x960948['tScale'][_0x144e57],0x561+0xe*0x2b4+-0x2b39+0.6),_0x960948['muT'][_0x144e57]+_0x5b34bb*_0x960948['tScale'][_0x144e57],_0x144e57);}if(_0x5c31eb){for(let _0x2ebf98=0x1cc0+0x10d4+-0x2d94;_0x2ebf98<_0x5c31eb['length'];++_0x2ebf98)_0x5c31eb[_0x2ebf98]=_0x2ebf98;}_0x1f86ca&&_0x960948['timeOption']&&_0x1f86ca['set'](_0x960948['timeOption']),setTimeout(()=>{_0x20c675();},0x18f3+-0x102c+-0x8c7);}break;case'setTime':_0x33c595=_0x960948['time'],_0x336ee0();break;case'setUseTemp'+'oralSort':_0x10d9ed=_0x960948['useTempora'+'lSort'];break;case'sort':if(!_0xc1bcb5)return;_0xc1bcb5[-0xc0+-0x12bc+0x137c]=_0x960948['cameraPosi'+'tion']['x'],_0xc1bcb5[-0x2*0x5c6+-0xb6f*-0x2+-0xb51]=_0x960948['cameraPosi'+'tion']['y'],_0xc1bcb5[-0x7db+-0x1d2+0x9af]=_0x960948['cameraPosi'+'tion']['z'],_0x4bbfba[0x2*-0x468+-0x19d*-0x17+-0x1c4b]=_0x960948['cameraDire'+'ction']['x'],_0x4bbfba[-0x1*0x156b+0x199*-0xd+0x7*0x607]=_0x960948['cameraDire'+'ction']['y'],_0x4bbfba[0x56c+-0xc1f+0x6b5*0x1]=_0x960948['cameraDire'+'ction']['z'],_0x336ee0();break;}};const _0x336ee0=()=>{_0x1855bc&&clearTimeout(_0x1855bc),_0x1855bc=setTimeout(()=>{_0x1855bc=null,_0x1859b8();},0x1*0x2482+0x1c3a+-0xc*0x565);},_0x438634=()=>{_0x571da8=Math['max'](-0x2152+-0xcec+0x2e48,Math['min'](0xc18+-0x16*-0x5c+-0x13ec,Math['round'](Math['log2'](_0xc9b167/(0x25f7+0x9*-0x270+-0x1003))))),_0x3b228e=(0x4bb*0x8+0x285+-0x1*0x285b)**_0x571da8+(-0xc3e+0x3c9*0xa+-0x199b);},_0x1ead25=()=>(_0x448819=-0x2fc*-0x1+-0x13de+0x10e2,_0x3895a4=_0x448819+_0xc9b167*_0x3f414f*(0x1a39*0x1+-0x22ef+-0xb*-0xcb),_0x12c127=_0x3895a4+(-0x1370+0xaee*0x2+-0x208)*_0x3f414f*(0xfd0+-0x26c1+0x16f3),_0x427cee=_0x12c127+_0xc9b167*_0x16039c,_0x41d847=_0x427cee+(-0x7*0x157+0x769+0x27*0xd)*_0x3f414f,_0x495577=_0x41d847+(0x1933+-0x229e+0x96e)*_0x3f414f,_0x36beda=_0x495577+(0x255*0xb+-0x1*0xde7+-0xbbd*0x1)*_0x3f414f,_0x12cffd=_0x36beda+(0x1f*-0x2e+0x2*-0xa86+-0x191*-0x11)*_0x3f414f,_0xd7e677=_0x12cffd+_0xc9b167*_0x16039c,_0x5f2fe8=_0xd7e677+_0x3b228e*_0x16039c,_0x4871d1=new Float32Array(_0x116b92,_0x448819,_0xc9b167*(0x46*0x11+-0xeb9+0xa16)),_0x1f86ca=new Float32Array(_0x116b92,_0x3895a4,(-0x1d4d+0x1790+-0x20b*-0x3)*(0x1*0x1fc6+0x1*0x476+-0x243a)),_0x5c31eb=new Uint32Array(_0x116b92,_0x12c127,_0xc9b167),_0x101dde=new Uint32Array(_0x5c31eb),_0xc1bcb5=new Float32Array(_0x116b92,_0x427cee,0x29*0xa7+0x2085+-0x3b41),_0x4bbfba=new Float32Array(_0x116b92,_0x41d847,-0x1e*0x5c+0xbf*-0x3+0xd08),_0x4c7589=new Uint32Array(_0x116b92,_0x5f2fe8,_0xc9b167),_0xffa43e&&(_0x32f381=_0x5f2fe8+_0xc9b167*_0x16039c,_0x6c42=_0x32f381+_0xc9b167*_0x3f414f,_0x324b24=_0x6c42+_0xc9b167*_0x3f414f,_0x5a0395=_0x324b24+_0xc9b167*(-0x32*-0x9d+-0x1d5c+-0x14b)*_0x3f414f,_0x13764f=new Float32Array(_0x116b92,_0x32f381,_0xc9b167),_0x2ed71b=new Float32Array(_0x116b92,_0x6c42,_0xc9b167),_0x333639=new Float32Array(_0x116b92,_0x324b24,_0xc9b167*(0x11*-0x1a3+-0x5f4+-0x10e5*-0x2)),_0x43d72f=new Uint32Array(_0x116b92,_0x5a0395,_0xc9b167)),{'sharedMemory':_0x116b92,'layout':{'timeOptionPtr':_0x3895a4,'timeIndexPtr':_0x5a0395,'centersPtr':_0x448819,'motionPtr':_0x324b24,'muTPtr':_0x32f381,'tScalePtr':_0x6c42,'orderPtr':_0x12c127,'cameraPositionPtr':_0x427cee,'cameraDirectionPtr':_0x41d847,'boundMinPtr':_0x495577,'boundMaxPtr':_0x36beda,'distancesPtr':_0x12cffd,'countBufferPtr':_0xd7e677,'indexPtr':_0x5f2fe8}}),_0x186ab2=async _0xa67c9f=>{let _0x4053a9=_0xc9b167*_0x3f414f*(0x3*-0x569+0x12*0x180+-0xac2);_0x4053a9+=_0xc9b167*_0x16039c,_0x4053a9+=(-0xea4*-0x1+0x4b2*0x3+0x1cb7*-0x1)*_0x3f414f,_0x4053a9+=(-0x177a+0x1*-0x241+0x19be*0x1)*_0x3f414f,_0x4053a9+=(0x1*-0x23eb+-0xccd+0x30bb)*_0x3f414f,_0x4053a9+=(-0x1d1f+0x1420+-0x2*-0x481)*_0x3f414f,_0x4053a9+=_0xc9b167*_0x3f414f,_0x4053a9+=_0x3b228e*_0x16039c,_0x4053a9+=_0xc9b167*_0x16039c,_0x4053a9+=(0x9f1+0x1*-0x1b17+0x8c5*0x2)*_0x3f414f*(0x2*0x48b+-0x1454*-0x1+-0x1d68),_0x4053a9+=_0xc9b167*_0x16039c,_0xffa43e&&(_0x4053a9+=_0xc9b167*_0x3f414f,_0x4053a9+=_0xc9b167*_0x3f414f,_0x4053a9+=_0xc9b167*_0x3f414f*(0xb5f*0x3+0x2351+0x557*-0xd));const _0x25e986=(0x2*-0x376+-0x213c+0x2868)*(0x1f42+0x805*-0x4+0x4d2),_0x49c42b=Math['ceil'](_0x4053a9/_0x25e986),_0x3faf96={'env':{'memory':new WebAssembly['Memory']({'initial':_0x49c42b,'maximum':_0x49c42b,'shared':!(0x19ed*-0x1+0x2*0xe64+-0x2db)}),'pthread_self':function(){return-0x6*-0x3d+-0x1059+0x13*0xc9;},'emscripten_builtin_memalign':function(){return 0xf*0x225+-0x18d7+-0x43*0x1c;},'emscripten_get_now':function(){return performance['now']();},'loggerVec3':(_0x5f059e,_0x29d1dc,_0x57d12b,_0x53afbd)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x5f059e+']\x200:'+_0x29d1dc+'\x201:'+_0x57d12b+'\x202:'+_0x53afbd);},'loggerFloat':(_0x5b12c7,_0x1dec09)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x5b12c7+']\x20a:'+_0x1dec09);},'loggerValue':(_0x3129bd,_0x209824,_0x13625c,_0x1422a8,_0x7f8675)=>{console['log']('C++\x20logger'+'Value\x20['+_0x3129bd+']\x20minDist:'+_0x209824+'\x20maxDist:'+_0x13625c+'\x20range:'+_0x1422a8+'\x20divider:'+_0x7f8675);},'loggerCamera':(_0x50e767,_0x4ea144,_0x513ce6,_0x5a1de2,_0x343183,_0x520f5f,_0x448d4c)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x50e767+']\x20x:'+_0x4ea144+'\x20y:'+_0x513ce6+'\x20z:'+_0x5a1de2+'\x20dx:'+_0x343183+'\x20dy:'+_0x520f5f+'\x20dz:'+_0x448d4c);},'loggerBound':(_0x3e242b,_0xc59e9,_0x212b9c,_0x7e4411,_0x58d338,_0x52042a)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x3e242b+'\x20minY:'+_0xc59e9+'\x20minZ:'+_0x212b9c+'\x20maxX:'+_0x7e4411+'\x20maxY:'+_0x58d338+'\x20maxZ:'+_0x52042a);},'loggerDebug':_0x397851=>{}}};try{const _0x18fc17=await(await fetch(_0xa67c9f))['arrayBuffe'+'r']();return _0x50fcc5=(await WebAssembly['instantiat'+'e'](_0x18fc17,_0x3faf96))['instance'],_0x116b92=_0x3faf96['env']['memory']['buffer'],_0x50fcc5;}catch(_0x231c3a){throw console['error']('加载WASM模块失败'+':',_0x231c3a),_0x231c3a;}},_0x20c675=()=>{if(!_0x50fcc5)return;const {calcAABB:_0x8847ae}=_0x50fcc5['exports'];_0x8847ae(_0x448819,_0x495577,_0x36beda,_0xc9b167);},_0x1859b8=()=>{if(!_0x50fcc5||_0x12c127===null||_0x448819===null||_0x427cee===null||_0x41d847===null||_0x495577===null||_0x36beda===null)return;const _0x12d185=_0xc1bcb5[0x19e3+0x61*0xf+0x2*-0xfc9],_0x1746d9=_0xc1bcb5[-0x1ae1*0x1+-0x1*-0x18ea+0x4*0x7e],_0x2d3eae=_0xc1bcb5[-0x1*-0xbd+0x105b+-0x1116],_0x30d2c2=_0x4bbfba[0x82f+-0x2*0xf4f+0x166f],_0x2e1c9c=_0x4bbfba[0x1*0xe02+0x40e*0x2+-0x14d*0x11],_0x548a70=_0x4bbfba[0x3*-0x5e7+0x1adc+-0x925],_0x5dce8f=0x2572*0x1+0x4*0x189+-0x2b96+0.001;if(!_0x58f1d0&&Math['abs'](_0x12d185-_0x18fe6f['x'])<_0x5dce8f&&Math['abs'](_0x1746d9-_0x18fe6f['y'])<_0x5dce8f&&Math['abs'](_0x2d3eae-_0x18fe6f['z'])<_0x5dce8f&&Math['abs'](_0x30d2c2-_0xe5313['x'])<_0x5dce8f&&Math['abs'](_0x2e1c9c-_0xe5313['y'])<_0x5dce8f&&Math['abs'](_0x548a70-_0xe5313['z'])<_0x5dce8f&&Math['abs'](_0x33c595-_0x434ac2)<-0x14b1*0x1+-0x2*-0xcb3+0x1*-0x4b5+0.01)return;if(_0x456603){_0xad052=!(0xb4e+-0x629*-0x3+0x1*-0x1dc9);return;}let _0x497043=0xa9*0xa+0x1a62+-0x20fc;if(performance['now'](),_0xffa43e&&_0x32f381&&_0x6c42)_0x497043=_0x2339d2['gatherInde'+'xes'](_0x33c595,_0x116b92,_0x5f2fe8);else{if(_0x34ba1e)_0x497043=_0xc9b167;else{for(let _0x469493=-0x12*-0x189+-0x5be+-0x15e4;_0x469493<_0xc9b167;++_0x469493)_0x4c7589[_0x497043]=_0x469493,++_0x497043;_0x34ba1e=!(-0x15fa*0x1+0x2*0x1041+-0xa88);}}performance['now'](),_0x456603=!(0x45*-0x81+-0x3*0x2df+-0x12*-0x269),_0x58f1d0=!(-0x25fc+-0x1767+0x3d64),_0x434ac2=_0x33c595,_0x18fe6f['x']=_0x12d185,_0x18fe6f['y']=_0x1746d9,_0x18fe6f['z']=_0x2d3eae,_0xe5313['x']=_0x30d2c2,_0xe5313['y']=_0x2e1c9c,_0xe5313['z']=_0x548a70,_0xad052=!(-0xb4d+0x1*-0xa55+-0x15a3*-0x1);const {sortIndexes:_0x1d9003}=_0x50fcc5['exports'];try{let _0x42436a=_0x1d9003(_0x12c127,_0x448819,_0x324b24,_0x32f381,_0x6c42,_0x427cee,_0x41d847,_0x495577,_0x36beda,_0x12cffd,_0xd7e677,_0x5f2fe8,_0x33c595,_0x10d9ed,_0xffa43e,_0x497043,_0x3b228e,_0x571da8,_0x3895a4,_0x5a0395);_0x101dde['set'](_0x5c31eb),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x42436a-(-0x28f*0x1+0x17b9+-0x12*0x12d),'order':_0x101dde});}catch(_0x2e018e){console['error']('排序操作失败:',_0x2e018e),self['postMessag'+'e']({'type':'error','error':_0x2e018e['message']});}_0x456603=!(0x2db*0xa+-0x11*-0x43+0x2100*-0x1),_0xad052&&_0x336ee0();};}class W1 extends de{constructor(_0x75289d,_0x3c0cd7=!(-0x1*-0x4be+-0x167a+-0x1*-0x11bc)){super(),c(this,'worker',null),c(this,'numSplats',0x2d*0x1a+-0xfe*0x10+0xb4e),c(this,'is4d',!(0x1df1+0x2*-0xba0+-0x6b1)),c(this,'sortStartT'+'ime',-0xe*0x15b+0xe21+0x4d9),c(this,'orderTextu'+'re'),(this['numSplats']=_0x75289d,this['is4d']=_0x3c0cd7,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+H1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x29ec78=>{if(!this['worker'])return;const {data:_0x4fb9f7}=_0x29ec78;switch(_0x4fb9f7['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x4fb9f7['order']){const _0x594c2b=this['orderTextu'+'re']['lock']();new Uint32Array(_0x594c2b['buffer'])['set'](_0x4fb9f7['order']),this['orderTextu'+'re']['unlock']();}let _0x514f04=-0x1fa7+0x2*-0x7eb+0x2f7d*0x1;this['sortStartT'+'ime']!==0x1*0xfa1+0x7+-0x538*0x3&&(_0x514f04=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x29ec78['data']['count'],_0x514f04),this['sortStartT'+'ime']=0x2*-0x9cd+0x2356+-0xfbc;break;case'error':console['error']('Worker错误:',_0x4fb9f7['error']),this['fire']('error',_0x4fb9f7['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/test-cut'+'off-sorter'+'.wasm','numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x27b373,_0x3bbb4d,_0x2edf55,_0x3b1089,_0x1a806c,_0x154887,_0x22d034,_0x2be32e,_0x25949d){var _0xf612a6;(!_0x22d034||_0x22d034['length']===0x2*0x1387+0x1d74+-0x4482)&&(_0x22d034=[-0x2dd*-0xd+0x231e+-0x4857,0x89b+-0xbb1+-0x5*-0xaa]),this['orderTextu'+'re']=_0x27b373,(_0xf612a6=this['worker'])==null||_0xf612a6['postMessag'+'e']({'type':'initData','centers':_0x3bbb4d,'muT':_0x2edf55,'tScale':_0x3b1089,'motion':_0x1a806c,'timeIndex':_0x154887,'timeOption':_0x22d034,'dataReady':!(-0x1db6+0x1b3f+-0x277*-0x1),'opacity':_0x2be32e,'threshold':_0x25949d});}['resize'](_0x133240){this['destroy'](),this['numSplats']=_0x133240,this['_initWorke'+'r']();}['setCamera'](_0x1081df,_0x53ad1f){this['worker']&&(this['sortStartT'+'ime']===0x7*0x3e1+-0x2*-0x7d+-0x1c21&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x1081df['x'],'y':_0x1081df['y'],'z':_0x1081df['z']},'cameraDirection':{'x':_0x53ad1f['x'],'y':_0x53ad1f['y'],'z':_0x53ad1f['z']}}));}['setCurrent'+'Time'](_0x2c8743){this['worker']&&(this['sortStartT'+'ime']===0x66a*-0x5+-0x18e7+0x5*0xb65&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x2c8743}));}['setUseTemp'+'oralSort'](_0x365ca6){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x365ca6});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const $1=new q(),Bn=new A(),Nn=new A(),Xl=[-0xce2*-0x2+0x133*0x1d+-0x3c8b,0x21*-0x107+-0xb6*-0x19+0x1021];class Gp{constructor(_0x2845f6,_0x5e8655){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',0x15e1*-0x1+-0x42*0x19+0x1c53),c(this,'lastCamera'+'Position',new A()),c(this,'lastCamera'+'Direction',new A()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x2845f6['numSplats']),this['splat']=_0x2845f6,this['options']=Object['assign'](this['options'],_0x5e8655));const _0x32e4b4=_0x2845f6['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',on,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x53d2ea=0x667+-0x1*-0x1e7b+0x2462*-0x1,_0x27b3da=Math['ceil'](_0x2845f6['numSplats']/_0x53d2ea)*_0x53d2ea/_0x53d2ea,_0x4999a7=new Uint32Array(_0x27b3da);for(let _0x39ae52=-0x2673+-0x13*0xc7+-0x68*-0x83;_0x39ae52<_0x27b3da;++_0x39ae52)_0x4999a7[_0x39ae52]=_0x39ae52*_0x53d2ea;const _0x21e552=new Dt(_0x32e4b4,[{'semantic':Sa,'components':0x1,'type':Oo,'asInt':!(0x2*-0x12f1+-0x2*-0x100d+0x5c8)}]),_0x351649=new fs(_0x32e4b4,_0x21e552,_0x27b3da,{'usage':ts,'data':_0x4999a7['buffer']}),_0x129530=new Float32Array((-0x19fe+-0x2*-0x103d+-0x338*0x2)*_0x53d2ea),_0x5cabfd=new Uint32Array((-0x7*-0x45a+0x2*-0xae3+0x455*-0x2)*_0x53d2ea);for(let _0x4bbabd=0xa52+0x1*-0x2aa+-0x4*0x1ea;_0x4bbabd<_0x53d2ea;++_0x4bbabd){_0x129530['set']([-(0x7fe+0x55b*0x2+0x1*-0x12b3),-(-0x1563+-0x2*-0x926+0xc*0x42),_0x4bbabd,-0xaa9*-0x3+-0x1a03+0x5f7*-0x1,-(-0x27d*0x7+0xb00+0x66c),_0x4bbabd,-0x8*-0x18b+0x1cff+-0x11e*0x25,-0x513*-0x6+-0x3*-0xd1+-0x20e4,_0x4bbabd,-(-0x940+-0x36e*0x1+0xcaf),0x1*0x3fd+-0x1c66+0x186a,_0x4bbabd],_0x4bbabd*(0x2418+0x1*0x1541+-0x394d));const _0x57d1ba=_0x4bbabd*(-0x1056+-0x1fc7+0x3021);_0x5cabfd['set']([-0x469+0xc78+-0x80f+_0x57d1ba,0x1df6+-0x1*0xc07+0x3*-0x5fa+_0x57d1ba,-0xc2+0x13*0x143+-0xd*0x1c9+_0x57d1ba,0x4f8+-0x42b+-0xcd+_0x57d1ba,-0x22f4+0x1*-0x2523+0x4819+_0x57d1ba,0xb*0x28+0x1*-0xe5e+0x1*0xca9+_0x57d1ba],_0x4bbabd*(0x176*0xd+0x1*0x2627+-0x391f));}const _0x36279e=new ke(_0x32e4b4);_0x36279e['setPositio'+'ns'](_0x129530,-0x1147+-0x154a+0x2694),_0x36279e['setIndices'](_0x5cabfd),_0x36279e['update'](),this['mesh']=_0x36279e,this['mesh']['aabb']['copy'](_0x2845f6['aabb']),this['meshInstan'+'ce']=new Be(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x351649,!(-0x1206+0x6*-0x62f+0x1b90*0x2)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=-0xda6+-0x286+0x102c,(!_0x5e8655['dither']||_0x5e8655['dither']===Os)&&(this['sorter']=new W1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x4f6a27;(_0x4f6a27=this['sorter'])==null||_0x4f6a27['initData'](this['orderTextu'+'re'],_0x2845f6['centers'],_0x2845f6['muT'],_0x2845f6['tScale'],_0x2845f6['motion'],_0x2845f6['timeIndex'],_0x2845f6['timeOption'],_0x2845f6['opacity'],_0x2845f6['threshold']);}),this['sorter']['on']('updated',_0x435c36=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x435c36/_0x53d2ea),this['material']['setParamet'+'er']('numSplats',_0x435c36);}));}['updateData'](_0x3afe4a){var _0x3edace;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x3afe4a['numSplats']),this['splat']=_0x3afe4a;const _0x59b3d8=_0x3afe4a['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',on,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x388715=-0x177c+0x723*-0x3+0x2d65,_0x15aa39=Math['ceil'](_0x3afe4a['numSplats']/_0x388715)*_0x388715/_0x388715,_0x445de8=new Uint32Array(_0x15aa39);for(let _0x954550=-0x2284+0x13ad+0x1*0xed7;_0x954550<_0x15aa39;++_0x954550)_0x445de8[_0x954550]=_0x954550*_0x388715;const _0x1ad84c=new Dt(_0x59b3d8,[{'semantic':Sa,'components':0x1,'type':Oo,'asInt':!(-0x82+-0x7*0x5+0xa5)}]),_0x364990=new fs(_0x59b3d8,_0x1ad84c,_0x15aa39,{'usage':ts,'data':_0x445de8['buffer']});this['mesh']['aabb']['copy'](_0x3afe4a['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x364990,!(-0x7*0x2c6+-0xb19+0x1e83)),this['meshInstan'+'ce']['instancing'+'Count']=0x2492+0x23a5*0x1+-0x4837*0x1,(_0x3edace=this['sorter'])==null||_0x3edace['resize'](_0x3afe4a['numSplats']);}['releaseSeq'](_0x47ca2e){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x47ca2e);}['destroy'](){var _0x365cf6,_0x5544e9,_0x24a977;(_0x365cf6=this['material'])==null||_0x365cf6['destroy'](),(_0x5544e9=this['meshInstan'+'ce'])==null||_0x5544e9['destroy'](),(_0x24a977=this['sorter'])==null||_0x24a977['destroy']();}['clone'](){return new Gp(this['splat'],this['options']);}['createMate'+'rial'](_0x1bcbf0){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x1bcbf0),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x31c2da=this['splat']['device'];if(Xl[-0x19c7+-0x111c+0x2ae3*0x1]=_0x31c2da['width'],Xl[0x1dc8+-0x1*0xc0e+-0x15d*0xd]=_0x31c2da['height'],this['cameras']['length']>-0x1*-0x80e+0x4*0x6b1+0x1*-0x22d2){const _0x3da836=this['cameras'][-0x1a82+-0x88b*0x3+-0x5cb*-0x9]['xr'];_0x3da836&&_0x3da836['active']&&_0x3da836['views']['list']['length']===0x1e2b+-0x17d+-0x5bc*0x5&&(Xl[-0x21f6+-0x2*-0x8ad+0x109c]/=0x73c+-0xa3*0x35+-0x1a85*-0x1);}this['material']['setParamet'+'er']('viewport',Xl);}['sort'](_0x5da794){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x106dfb=_0x5da794['getWorldTr'+'ansform']();_0x106dfb['getTransla'+'tion'](Bn),_0x106dfb['getZ'](Nn);const _0x49f18e=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x2e3e34=$1['invert'](_0x49f18e);_0x2e3e34['transformP'+'oint'](Bn,Bn),_0x2e3e34['transformV'+'ector'](Nn,Nn),(!Bn['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Nn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Bn),this['lastCamera'+'Direction']['copy'](Nn),this['sorter']['setCamera'](Bn,Nn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>0x4df*-0x7+-0x7*-0x515+-0x17a){const _0x5693d9=this['cameras'][0x4*-0x6ff+0x8fd*0x4+-0x7f8];this['sort'](_0x5693d9['_node']),this['cameras']['length']=-0x14b*-0x1+0x1*0x20c8+-0x2213;}}['updateTime'](_0x49e94e){this['time']=_0x49e94e;}}const q1='FILL_WINDO'+'W',G_='KEEP_ASPEC'+'T',H_='AUTO',X1='FIXED';let V0;function sn(){return V0;}function Ku(_0x2fa652){V0=_0x2fa652;}class j1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x5c13e1){b['assert'](_0x5c13e1),_0x5c13e1['frameUpdat'+'e']();const _0x4e5215=_0x5c13e1['beforePass'+'es'];for(let _0x390e47=0xd22+-0x1c3+0x47*-0x29;_0x390e47<_0x4e5215['length'];_0x390e47++){const _0x43db43=_0x4e5215[_0x390e47];_0x43db43['enabled']&&this['addRenderP'+'ass'](_0x43db43);}_0x5c13e1['enabled']&&this['renderPass'+'es']['push'](_0x5c13e1);const _0x1d18e6=_0x5c13e1['afterPasse'+'s'];for(let _0x3b90d5=-0x1*0x1ca9+0x2*-0x35b+0x235f;_0x3b90d5<_0x1d18e6['length'];_0x3b90d5++){const _0x27bdb1=_0x1d18e6[_0x3b90d5];_0x27bdb1['enabled']&&this['addRenderP'+'ass'](_0x27bdb1);}}['reset'](){this['renderPass'+'es']['length']=0x7c8+-0x12c2+-0x232*-0x5;}['compile'](){const _0x286ebd=this['renderTarg'+'etMap'],_0x20e83a=this['renderPass'+'es'];for(let _0xf3ce76=0x25d6+-0x1*0x10eb+-0x14eb;_0xf3ce76<_0x20e83a['length'];_0xf3ce76++){const _0x5ecfc8=_0x20e83a[_0xf3ce76],_0x397a1f=_0x5ecfc8['renderTarg'+'et'];if(_0x397a1f!==void(-0x1704+-0x2709+0x3e0d)){const _0x6cee3d=_0x286ebd['get'](_0x397a1f);if(_0x6cee3d){const _0x3e01ea=_0x5ecfc8['colorArray'+'Ops']['length'];for(let _0x14f2e0=0x20ee+0xe59+0x6c1*-0x7;_0x14f2e0<_0x3e01ea;_0x14f2e0++)_0x5ecfc8['colorArray'+'Ops'][_0x14f2e0]['clear']||(_0x6cee3d['colorArray'+'Ops'][_0x14f2e0]['store']=!(0x1074+0x7e1+-0x1855));_0x5ecfc8['depthStenc'+'ilOps']['clearDepth']||(_0x6cee3d['depthStenc'+'ilOps']['storeDepth']=!(0x130b*0x1+0x18d7+-0x1*0x2be2)),_0x5ecfc8['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x6cee3d['depthStenc'+'ilOps']['storeStenc'+'il']=!(-0x1301+0x1386+-0x1*0x85));}_0x286ebd['set'](_0x397a1f,_0x5ecfc8);}}for(let _0x109fb5=-0xb9f+-0x6f3+-0x2*-0x949;_0x109fb5<_0x20e83a['length']-(0x53*0x65+0x1857+0x1307*-0x3);_0x109fb5++){const _0x5205e7=_0x20e83a[_0x109fb5],_0x474508=_0x5205e7['renderTarg'+'et'],_0x19aa3f=_0x20e83a[_0x109fb5+(0x5*-0x254+-0x25af+0x9a*0x52)],_0x418956=_0x19aa3f['renderTarg'+'et'];_0x474508!==_0x418956||_0x474508===void(-0x1ae2+-0x16eb*-0x1+0x91*0x7)||_0x19aa3f['depthStenc'+'ilOps']['clearDepth']||_0x19aa3f['depthStenc'+'ilOps']['clearStenc'+'il']||_0x19aa3f['colorArray'+'Ops']['some'](_0x15d4fd=>_0x15d4fd['clear'])||_0x5205e7['afterPasse'+'s']['length']>-0x1*-0xd97+0x256b+-0x3302||_0x19aa3f['beforePass'+'es']['length']>0x14*-0x1+-0x39d*-0x2+0x7a*-0xf||(_0x5205e7['_skipEnd']=!(-0x1*-0x1b25+-0x9ba+-0x116b),_0x19aa3f['_skipStart']=!(0x1*-0xae7+0x1bbc+-0x10d5));}let _0x262289=null,_0x3be774=null;for(let _0x4e3380=-0x362+0xc*-0x2a+-0x89*-0xa;_0x4e3380<_0x20e83a['length'];_0x4e3380++){const _0x2f3d13=_0x20e83a[_0x4e3380],_0x1c3c32=_0x2f3d13['renderTarg'+'et'],_0xe1618e=_0x1c3c32==null?void(0xb0a+0x10*0x1dc+-0x28ca):_0x1c3c32['colorBuffe'+'r'];if(_0xe1618e!=null&&_0xe1618e['cubemap']){if(_0x262289===_0xe1618e){const _0x32eede=_0x3be774['colorArray'+'Ops']['length'];for(let _0x571cec=-0x790+0x23e5+-0x1*0x1c55;_0x571cec<_0x32eede;_0x571cec++)_0x3be774['colorArray'+'Ops'][_0x571cec]['mipmaps']=!(0x9f0+-0x1*-0x17d2+-0x21c1);}_0x262289=_0x1c3c32['colorBuffe'+'r'],_0x3be774=_0x2f3d13;}else _0x2f3d13['requiresCu'+'bemaps']&&(_0x262289=null,_0x3be774=null);}_0x286ebd['clear']();}['render'](_0x5b48a6){this['compile']();const _0xf35802=this['renderPass'+'es'];for(let _0x12d783=-0x13c+-0x2*0xad4+0x16e4;_0x12d783<_0xf35802['length'];_0x12d783++)_0xf35802[_0x12d783]['render']();}}class Y1{constructor(_0x1d8488,_0x695b4a){this['texture0']=_0x1d8488,this['texture1']=_0x695b4a;}['destroy'](){var _0x5062fd,_0x7b9e88;(_0x5062fd=this['texture0'])==null||_0x5062fd['destroy'](),(_0x7b9e88=this['texture1'])==null||_0x7b9e88['destroy']();}}const W_=new Ht();class qr{static['createText'+'ure'](_0x5e9171,_0xa48d5c,_0x567ffa,_0x57cb9e=''){return new ce(_0x5e9171,{'name':'AreaLightL'+'UT'+_0x57cb9e,'width':_0x567ffa,'height':_0x567ffa,'format':_0xa48d5c,'addressU':oe,'addressV':oe,'type':Bi,'magFilter':at,'minFilter':fe,'anisotropy':0x1,'mipmaps':!(-0x1083+-0x8a*-0x2c+-0x2*0x39a)});}static['applyTextu'+'res'](_0x3eb6fd,_0x2a00aa,_0x206589){W_['remove'](_0x3eb6fd),W_['get'](_0x3eb6fd,()=>new Y1(_0x2a00aa,_0x2a00aa===_0x206589?null:_0x206589)),_0x3eb6fd['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x2a00aa),_0x3eb6fd['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x206589);}static['createPlac'+'eholder'](_0x4cec54){const _0x1506d5=qr['createText'+'ure'](_0x4cec54,it,0x8*0x132+0xa5f+-0x13ed,'placeholde'+'r');_0x1506d5['lock']()['fill'](0x97e+0x9cb+0x1349*-0x1),_0x1506d5['unlock'](),qr['applyTextu'+'res'](_0x4cec54,_0x1506d5,_0x1506d5);}static['set'](_0x170a6b,_0x2c295a,_0x38e84d){function _0x280348(_0x3d3f89,_0x38c32d,_0x1bd1eb){const _0x3932b4=qr['createText'+'ure'](_0x3d3f89,_0x1bd1eb,0xd0+-0x381+0x2f1);return _0x3932b4['lock']()['set'](_0x38c32d),_0x3932b4['unlock'](),_0x3932b4;}function _0x1d8a1b(_0x4d504f){const _0x22546c=_0x4d504f['length'],_0x5fd222=new Uint16Array(_0x22546c),_0x27b793=Bt['float2Half'];for(let _0x55cab=0x1*-0x448+0xc1*0x1+0x387;_0x55cab<_0x22546c;_0x55cab++)_0x5fd222[_0x55cab]=_0x27b793(_0x4d504f[_0x55cab]);return _0x5fd222;}const _0x553340=_0x2c295a,_0x3f1acd=_0x38e84d,_0x2d96ef=_0x1d8a1b(_0x553340),_0x536e4b=_0x1d8a1b(_0x3f1acd),_0x493846=_0x280348(_0x170a6b,_0x2d96ef,it),_0x1451d9=_0x280348(_0x170a6b,_0x536e4b,it);qr['applyTextu'+'res'](_0x170a6b,_0x493846,_0x1451d9);}}const Yh='en-US',Kh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Hp={};function mr(_0x1a78ce,_0xa168f6){for(let _0x41c357=-0xdc3+-0x3*-0x16e+-0x1*-0x979,_0x5c0018=_0x1a78ce['length'];_0x41c357<_0x5c0018;_0x41c357++)Hp[_0x1a78ce[_0x41c357]]=_0xa168f6;}function xi(_0x5c4bd6){const _0x212344=_0x5c4bd6['indexOf']('-');return _0x212344!==-(-0x15d0+-0xc6b*0x1+0x223c)?_0x5c4bd6['substring'](0x240c+0xfcc+-0x33d8,_0x212344):_0x5c4bd6;}function K1(_0x4d5a33,_0x317c2f){const _0x4485d1=_0x4d5a33['indexOf']('-');return _0x4485d1!==-(-0x2b2*-0xd+0x1*0x18d9+-0x3be2)?_0x317c2f+_0x4d5a33['substring'](_0x4485d1):_0x317c2f;}function G0(_0xa06759,_0x424a65){if(_0x424a65[_0xa06759])return _0xa06759;let _0x161dd8=Kh[_0xa06759];if(_0x161dd8&&_0x424a65[_0x161dd8])return _0x161dd8;const _0x1fa051=xi(_0xa06759);return _0x161dd8=Kh[_0x1fa051],_0x424a65[_0x161dd8]?_0x161dd8:_0x424a65[_0x1fa051]?_0x1fa051:Yh;}mr(['ja','ko','th','vi','zh','id'],_0x4e54d4=>-0x133*0x1f+0x144b+0x10e2*0x1),mr(['fa','hi'],_0x258ef4=>_0x258ef4>=0x1dc5+0x97d+-0x2742&&_0x258ef4<=0x16be+-0x109d*-0x2+-0x37f7?0x1cfe+-0x1*-0x4a8+-0x3b*0x92:-0xba7+0x94*0x5+0x8c4),mr(['fr','pt'],_0x267d32=>_0x267d32>=0x7d*0xf+-0x1*-0x26b+-0x9be&&_0x267d32<-0x22e7*0x1+0x9f6+0x18f3*0x1?-0x177+-0x1*0x213b+0x1*0x22b2:-0x1bdc+-0x1*0x673+0x1e8*0x12),mr(['da'],_0x19e954=>_0x19e954===0x1*0x2309+-0x1c4d+-0x6bb||!Number['isInteger'](_0x19e954)&&_0x19e954>=-0x1c1+-0x3*0x7af+-0xc67*-0x2&&_0x19e954<=0x6fb+0x9*0x1e6+-0x1810?0x1b01+-0x12a1+0x20*-0x43:0x13b0+0x1837*0x1+-0x2be6),mr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x121e89=>_0x121e89===-0x23f9*0x1+-0x203d+0x4437?0x1*-0x1e7b+-0x1c8+0x2043:0xbb9+-0x1ecd+0x1315),mr(['ru','uk'],_0x2e1c30=>{if(Number['isInteger'](_0x2e1c30)){const _0x11e022=_0x2e1c30%(0xda6+-0x7a*0x2f+-0x5*-0x1c2),_0x31669d=_0x2e1c30%(-0x1e43+0xd71+-0x89b*-0x2);if(_0x11e022===-0x25*-0xb+-0x1*-0x3fb+-0x4b*0x13&&_0x31669d!==0x1*0x1ddd+-0x195+-0x1c3d)return-0x1c4*-0x6+0x511+-0xfa9;if(_0x11e022>=-0x1411*-0x1+-0x1*-0x1541+-0x2*0x14a8&&_0x11e022<=0x120d*0x1+-0x2566+0x135d&&(_0x31669d<0x1*-0x17e+0x1*0x2022+-0x1e98||_0x31669d>0xd79*0x1+-0xd*0x1f2+-0x1*-0xbdf))return 0x23af+0x3*0x242+-0x2a74;if(_0x11e022===0x14*-0xea+-0x2462*0x1+-0x2*-0x1b55||_0x11e022>=0x7b3+-0x8*-0xb5+-0xd56&&_0x11e022<=0x53f*-0x3+-0xc28+-0x41*-0x6e||_0x31669d>=0x21b1+-0x1bd7+-0x5cf*0x1&&_0x31669d<=-0x17*-0x153+0x1c45+0x5*-0xbbc)return 0xc1*0x1+0x927+-0x1*0x9e6;}return 0x1795+0xa5a+0x1a*-0x14e;}),mr(['pl'],_0x321eed=>{if(Number['isInteger'](_0x321eed)){if(_0x321eed===-0x55d*0x1+-0x173f+0x1c9d)return-0xd7*0x2+-0x23bb*-0x1+-0x220d*0x1;const _0x408c70=_0x321eed%(-0x659+0x878+-0x215),_0x2f3f01=_0x321eed%(0x176+0x95*0x5+-0x3fb);if(_0x408c70>=-0x6*-0x4f5+0xd5f*0x1+0x5*-0x89f&&_0x408c70<=0xc*0x214+-0x88a*-0x1+-0x10bb*0x2&&(_0x2f3f01<-0x1186+-0xabd+-0x1*-0x1c4f||_0x2f3f01>-0x759*0x1+-0x1041+0xbd4*0x2))return-0x1860+0x1621+-0x30*-0xc;if(_0x408c70>=0x1ac8+0xd7f+0x15*-0x1eb&&_0x408c70<=0x1b*0x44+-0x70*0x32+0xeb5||_0x408c70>=0x2*-0x3a+-0x770*-0x4+-0x1*0x1d47&&_0x408c70<=0x686+-0x7f6*-0x1+-0x1b*0x89||_0x2f3f01>=-0x21dd+-0x8e9*0x3+0x3ca4&&_0x2f3f01<=0x2*-0xe9e+-0x2582+0x32*0x156)return-0x7e7+0x2493+0x1*-0x1caa;}return-0xca8+-0x24b*-0x2+0x1*0x815;}),mr(['ar'],_0x59d2a8=>{if(_0x59d2a8===0x16ba*0x1+0x94a*-0x1+-0xd70)return-0x1*0x8bb+0x14ae+0x7*-0x1b5;if(_0x59d2a8===0x3fd*0x7+-0x121e+-0x42*0x26)return 0xc2*-0x17+-0x15bd+-0x1396*-0x2;if(_0x59d2a8===0x10af*0x2+0x4*0x6fb+-0x3d48)return 0x2597*0x1+0x43*-0x2d+-0x19ce;if(Number['isInteger'](_0x59d2a8)){const _0x17cc95=_0x59d2a8%(-0x1a*-0x96+0x1b5b+0x3*-0xe11);if(_0x17cc95>=0xa0f+0x48+-0x1*0xa54&&_0x17cc95<=0x2*0xfc0+0x2*-0x7d8+-0xfc6)return-0x1140+0x2*0x979+-0x1af;if(_0x17cc95>=-0xef*0xf+-0xd0f*0x1+0x1b1b&&_0x17cc95<=-0x1*0x1e71+0x175b+0x779)return-0x1*0x23af+0x5f+0x2354;}return-0x1*-0xdd5+-0x1143+0x373;});const Z1=Hp[xi(Yh)];function Zd(_0x434796){return Hp[_0x434796]||Z1;}const ka=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Q1{constructor(_0x4f08dc='',_0x3919ac='',_0x147c66=null,_0x9a15f6=null,_0x27b665=null,_0x1184f7=null){this['url']=_0x4f08dc,this['filename']=_0x3919ac,this['hash']=_0x147c66,this['size']=_0x9a15f6,this['opt']=_0x27b665,this['contents']=_0x1184f7;}['equals'](_0x1a6d72){return this['url']===_0x1a6d72['url']&&this['filename']===_0x1a6d72['filename']&&this['hash']===_0x1a6d72['hash']&&this['size']===_0x1a6d72['size']&&this['opt']===_0x1a6d72['opt']&&this['contents']===_0x1a6d72['contents'];}}let J1=-(-0x3a7*0x5+-0x7*-0x375+0xd9*-0x7);const eP={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},$_=['pvr','dxt','etc2','etc1','basis'];class he extends de{constructor(_0x290809,_0x408632,_0x361e9c,_0x33074a,_0x775d7c){super(),this['_id']=J1--,this['_name']=_0x290809||'',this['type']=_0x408632,this['tags']=new yo(this),this['_preload']=!(0x4*0x707+-0x41a+0x4cd*-0x5),this['_file']=null,this['_data']=_0x33074a||{},this['options']=_0x775d7c||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(-0x16a9+-0x31f+-0x29*-0xa1),this['loading']=!(-0x29*-0x53+0x1*-0x137e+0x1*0x634),this['registry']=null,_0x361e9c&&(this['file']=_0x361e9c);}set['id'](_0x4ce6d6){this['_id']=_0x4ce6d6;}get['id'](){return this['_id'];}set['name'](_0x4f5d5a){if(this['_name']===_0x4f5d5a)return;const _0x38322e=this['_name'];this['_name']=_0x4f5d5a,this['fire']('name',this,this['_name'],_0x38322e);}get['name'](){return this['_name'];}set['file'](_0x2b834c){var _0x30558e,_0x40134c;if(_0x2b834c&&_0x2b834c['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x31*-0x3d+-0xa23+-0x189)){const _0x424b74=((_0x40134c=(_0x30558e=this['registry'])==null?void(-0x1c13+0x2c7*0xb+-0x27a):_0x30558e['_loader'])==null?void(0x2050+-0x1*-0x8a1+0x2f*-0xdf):_0x40134c['_app'])||sn(),_0x5282c3=_0x424b74==null?void(-0xe1d*-0x2+0x55d+-0x1*0x2197):_0x424b74['graphicsDe'+'vice'];if(_0x5282c3)for(let _0x4834f9=-0x1f28+-0x2*0xebb+0x3c9e,_0x4202b7=$_['length'];_0x4834f9<_0x4202b7;_0x4834f9++){const _0x5caca9=$_[_0x4834f9];if(_0x2b834c['variants'][_0x5caca9]&&_0x5282c3[eP[_0x5caca9]]){_0x2b834c=_0x2b834c['variants'][_0x5caca9];break;}if(_0x424b74['enableBund'+'les']){const _0x3e4c5e=_0x424b74['bundles']['listBundle'+'sForAsset'](this);if(_0x3e4c5e&&_0x3e4c5e['find'](_0x43f773=>{var _0x4855d6;return(_0x4855d6=_0x43f773==null?void(-0x4f5+-0x84+0x579):_0x43f773['file'])==null?void(-0x1*0x20ca+0x35*-0x8b+0x3d91):_0x4855d6['variants'][_0x5caca9];}))break;}}}const _0x21c103=this['_file'],_0x22d7c1=_0x2b834c?new Q1(_0x2b834c['url'],_0x2b834c['filename'],_0x2b834c['hash'],_0x2b834c['size'],_0x2b834c['opt'],_0x2b834c['contents']):null;(!!_0x22d7c1!=!!_0x21c103||_0x22d7c1&&!_0x22d7c1['equals'](_0x21c103))&&(this['_file']=_0x22d7c1,this['fire']('change',this,'file',_0x22d7c1,_0x21c103),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x2d3913){const _0x5a3ce3=this['_data'];this['_data']=_0x2d3913,_0x2d3913!==_0x5a3ce3&&(this['fire']('change',this,'data',_0x2d3913,_0x5a3ce3),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x22d000){const _0x4a7533=this['_resources'][0x910+0x2fd*0x1+-0x5*0x269];this['_resources'][-0x5*0x3fd+0x551*-0x3+-0x4*-0x8f9]=_0x22d000,this['fire']('change',this,'resource',_0x22d000,_0x4a7533);}get['resource'](){return this['_resources'][0x3*-0x94a+0xe3*0x5+-0x176f*-0x1];}set['resources'](_0x5be117){const _0x5bc502=this['_resources'];this['_resources']=_0x5be117,this['fire']('change',this,'resources',_0x5be117,_0x5bc502);}get['resources'](){return this['_resources'];}set['preload'](_0x5ec956){_0x5ec956=!!_0x5ec956,this['_preload']!==_0x5ec956&&(this['_preload']=_0x5ec956,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x1bd316){_0x1bd316=!!_0x1bd316,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x1bd316!==this['_loadFaces'])&&(this['_loadFaces']=_0x1bd316,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x1cdf4d=this['file'];if(!_0x1cdf4d||!_0x1cdf4d['url'])return null;let _0x34fd0c=_0x1cdf4d['url'];if(this['registry']&&this['registry']['prefix']&&!ka['test'](_0x34fd0c)&&(_0x34fd0c=this['registry']['prefix']+_0x34fd0c),this['type']!=='script'&&_0x1cdf4d['hash']){const _0x16452d=_0x34fd0c['indexOf']('?')!==-(-0x1*-0xdfd+0x1d1*-0x2+-0xa5a)?'&':'?';_0x34fd0c+=_0x16452d+'t='+_0x1cdf4d['hash'];}return _0x34fd0c;}['getAbsolut'+'eUrl'](_0x4656e2){if(_0x4656e2['startsWith']('blob:')||_0x4656e2['startsWith']('data:'))return _0x4656e2;const _0x7204fe=me['getDirecto'+'ry'](this['file']['url']);return me['join'](_0x7204fe,_0x4656e2);}['getLocaliz'+'edAssetId'](_0xf534eb){return _0xf534eb=G0(_0xf534eb,this['_i18n']),this['_i18n'][_0xf534eb]||null;}['addLocaliz'+'edAssetId'](_0x221ad9,_0x38443c){this['_i18n'][_0x221ad9]=_0x38443c,this['fire']('add:locali'+'zed',_0x221ad9,_0x38443c);}['removeLoca'+'lizedAsset'+'Id'](_0x21b373){const _0x395914=this['_i18n'][_0x21b373];_0x395914&&(delete this['_i18n'][_0x21b373],this['fire']('remove:loc'+'alized',_0x21b373,_0x395914));}['ready'](_0x4f350f,_0x15ae3b){_0x15ae3b=_0x15ae3b||this,this['loaded']?_0x4f350f['call'](_0x15ae3b,this):this['once']('load',_0x55bdfa=>{_0x4f350f['call'](_0x15ae3b,_0x55bdfa);});}['reload'](){this['loaded']&&(this['loaded']=!(0x6d*0x2b+0xd9e+-0x1fec),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===0x1*-0x1d33+-0x1ccb+0x1cff*0x2)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x1531d9=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0x1*0x232f+-0x1*0x2109+0x4439),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x231841=-0x4e+-0x1fbc+0x200a;_0x231841<_0x1531d9['length'];++_0x231841){const _0x39e87e=_0x1531d9[_0x231841];_0x39e87e&&_0x39e87e['destroy']&&_0x39e87e['destroy']();}}static['fetchArray'+'Buffer'](_0x55b3dc,_0x366bea,_0x69c94e,_0x525d80=0x25f7*0x1+0x1dd6+-0x43cd){var _0x31e1cc;(_0x31e1cc=_0x69c94e==null?void(-0x271*0xc+-0x7fb+-0x1*-0x2547):_0x69c94e['file'])!=null&&_0x31e1cc['contents']?setTimeout(()=>{_0x366bea(null,_0x69c94e['file']['contents']);}):Ye['get'](_0x55b3dc,{'cache':!(-0x2*-0xd18+0x1dc4+-0x37f4),'responseType':'arraybuffe'+'r','retry':_0x525d80>-0x2291+0x7cd*-0x5+0x92*0x81,'maxRetries':_0x525d80},_0x366bea);}}c(he,'EVENT_LOAD','load'),c(he,'EVENT_UNLO'+'AD','unload'),c(he,'EVENT_REMO'+'VE','remove'),c(he,'EVENT_ERRO'+'R','error'),c(he,'EVENT_CHAN'+'GE','change'),c(he,'EVENT_PROG'+'RESS','progress'),c(he,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(he,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class tP{constructor(_0x368ad4=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x368ad4;}['addItem'](_0x5d2cd8){const _0x46090c=_0x5d2cd8['tags']['_list'];for(const _0x233426 of _0x46090c)this['add'](_0x233426,_0x5d2cd8);}['removeItem'](_0x5bb590){const _0x272ad0=_0x5bb590['tags']['_list'];for(const _0x255f7d of _0x272ad0)this['remove'](_0x255f7d,_0x5bb590);}['add'](_0x3833fd,_0x391dbe){this['_index'][_0x3833fd]&&this['_index'][_0x3833fd]['list']['indexOf'](_0x391dbe)!==-(-0x9*-0x23+-0xf62+0x25c*0x6)||(this['_index'][_0x3833fd]||(this['_index'][_0x3833fd]={'list':[]},this['_key']&&(this['_index'][_0x3833fd]['keys']={})),this['_index'][_0x3833fd]['list']['push'](_0x391dbe),this['_key']&&(this['_index'][_0x3833fd]['keys'][_0x391dbe[this['_key']]]=_0x391dbe));}['remove'](_0x3ad4fd,_0x21fe3b){if(!this['_index'][_0x3ad4fd]||this['_key']&&!this['_index'][_0x3ad4fd]['keys'][_0x21fe3b[this['_key']]])return;const _0x49a338=this['_index'][_0x3ad4fd]['list']['indexOf'](_0x21fe3b);_0x49a338!==-(0x4d2+0x20*0x51+-0xef1)&&(this['_index'][_0x3ad4fd]['list']['splice'](_0x49a338,-0x235f+-0xc2*-0xd+0x1986),this['_key']&&delete this['_index'][_0x3ad4fd]['keys'][_0x21fe3b[this['_key']]],this['_index'][_0x3ad4fd]['list']['length']===-0x22fe+-0x1b9+0x24b7&&delete this['_index'][_0x3ad4fd]);}['find'](_0x419958){const _0x3aa029={},_0x195547=[];let _0x32ebf5,_0x592747,_0x16b880,_0x42ee31,_0x34d55a;const _0x5cdc49=(_0x56bb82,_0x83df01)=>this['_index'][_0x56bb82]['list']['length']-this['_index'][_0x83df01]['list']['length'];for(let _0x3ca7f7=0x24eb+-0xe*0x9d+-0x1c55*0x1;_0x3ca7f7<_0x419958['length'];_0x3ca7f7++){if(_0x592747=_0x419958[_0x3ca7f7],_0x592747 instanceof Array){if(_0x592747['length']===0xbf6*-0x1+0xd5+0xb21)continue;if(_0x592747['length']===-0x3*0xf+-0x16*0x26+0xe*0x3f)_0x592747=_0x592747[-0xcec+-0x1*-0xe23+0x1*-0x137];else{_0x34d55a=!(-0x277*0x1+0x1308+-0x1090);for(let _0x593aba=0x1*-0xdd5+0x7*-0x4e+0xff7*0x1;_0x593aba<_0x592747['length'];_0x593aba++)if(!this['_index'][_0x592747[_0x593aba]]){_0x34d55a=!(0x10+0x25b+-0x26b);break;}if(_0x34d55a)continue;_0x16b880=_0x592747['slice'](-0x1ca*-0x1+0x1*-0x113e+0xf74)['sort'](_0x5cdc49),_0x42ee31=_0x16b880['slice'](0x945*0x2+-0x1040+-0xc3*0x3),_0x42ee31['length']===0x1008+0x4f*0x2f+0x8*-0x3d1&&(_0x42ee31=_0x42ee31[-0x744+-0x1e32+0x2576]);for(let _0x3c58a1=0x6a8+0x24db+-0x2b83;_0x3c58a1<this['_index'][_0x16b880[-0x170+-0x1*-0x1b4a+-0x19da]]['list']['length'];_0x3c58a1++)_0x32ebf5=this['_index'][_0x16b880[0x117e+0x6*-0x2aa+0x182*-0x1]]['list'][_0x3c58a1],(this['_key']?!_0x3aa029[_0x32ebf5[this['_key']]]:_0x195547['indexOf'](_0x32ebf5)===-(-0x25a7+-0x650+0x2bf8))&&_0x32ebf5['tags']['has'](_0x42ee31)&&(this['_key']&&(_0x3aa029[_0x32ebf5[this['_key']]]=!(0x1*-0x58d+-0x1fcb*-0x1+-0x2*0xd1f)),_0x195547['push'](_0x32ebf5));continue;}}if(_0x592747&&typeof _0x592747=='string'&&this['_index'][_0x592747]){for(let _0x5c8932=0x1f8c*-0x1+-0xfb8*0x1+-0x32*-0xf2;_0x5c8932<this['_index'][_0x592747]['list']['length'];_0x5c8932++)_0x32ebf5=this['_index'][_0x592747]['list'][_0x5c8932],this['_key']?_0x3aa029[_0x32ebf5[this['_key']]]||(_0x3aa029[_0x32ebf5[this['_key']]]=!(-0x240d+0x142*-0x8+0x2e1d),_0x195547['push'](_0x32ebf5)):_0x195547['indexOf'](_0x32ebf5)===-(-0x6b4+0x9eb+-0x336)&&_0x195547['push'](_0x32ebf5);}}return _0x195547;}}class co extends de{constructor(_0x2afad3){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new tP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x2afad3;}['list'](_0x34cebe={}){const _0x31123=Array['from'](this['_assets']);return _0x34cebe['preload']!==void(0x21ac+0x95e+-0x2b0a)?_0x31123['filter'](_0x180cd1=>_0x180cd1['preload']===_0x34cebe['preload']):_0x31123;}['add'](_0x4983e4){var _0x3b7482,_0x1c35ec;this['_assets']['has'](_0x4983e4)||(this['_assets']['add'](_0x4983e4),this['_idToAsset']['set'](_0x4983e4['id'],_0x4983e4),(_0x3b7482=_0x4983e4['file'])!=null&&_0x3b7482['url']&&this['_urlToAsse'+'t']['set'](_0x4983e4['file']['url'],_0x4983e4),this['_nameToAss'+'et']['has'](_0x4983e4['name'])||this['_nameToAss'+'et']['set'](_0x4983e4['name'],new Set()),this['_nameToAss'+'et']['get'](_0x4983e4['name'])['add'](_0x4983e4),_0x4983e4['on']('name',this['_onNameCha'+'nge'],this),_0x4983e4['registry']=this,this['_tags']['addItem'](_0x4983e4),_0x4983e4['tags']['on']('add',this['_onTagAdd'],this),_0x4983e4['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x4983e4),this['fire']('add:'+_0x4983e4['id'],_0x4983e4),(_0x1c35ec=_0x4983e4['file'])!=null&&_0x1c35ec['url']&&this['fire']('add:url:'+_0x4983e4['file']['url'],_0x4983e4),_0x4983e4['preload']&&this['load'](_0x4983e4));}['remove'](_0x3a013b){var _0x22f1c9,_0x17056d;if(!this['_assets']['has'](_0x3a013b))return!(0x11d*-0x2+-0x5*-0x757+-0x2278);if(this['_assets']['delete'](_0x3a013b),this['_idToAsset']['delete'](_0x3a013b['id']),(_0x22f1c9=_0x3a013b['file'])!=null&&_0x22f1c9['url']&&this['_urlToAsse'+'t']['delete'](_0x3a013b['file']['url']),_0x3a013b['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x3a013b['name'])){const _0x1fdcce=this['_nameToAss'+'et']['get'](_0x3a013b['name']);_0x1fdcce['delete'](_0x3a013b),_0x1fdcce['size']===0x19b6+0x1*-0x1093+-0x1*0x923&&this['_nameToAss'+'et']['delete'](_0x3a013b['name']);}return this['_tags']['removeItem'](_0x3a013b),_0x3a013b['tags']['off']('add',this['_onTagAdd'],this),_0x3a013b['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x3a013b['fire']('remove',_0x3a013b),this['fire']('remove',_0x3a013b),this['fire']('remove:'+_0x3a013b['id'],_0x3a013b),(_0x17056d=_0x3a013b['file'])!=null&&_0x17056d['url']&&this['fire']('remove:url'+':'+_0x3a013b['file']['url'],_0x3a013b),!(0x1ced+0x22be+0x1*-0x3fab);}['get'](_0x58ecea){return this['_idToAsset']['get'](Number(_0x58ecea));}['getByUrl'](_0x4a68e8){return this['_urlToAsse'+'t']['get'](_0x4a68e8);}['load'](_0x3c3d5c,_0x7be500){if((_0x3c3d5c['loading']||_0x3c3d5c['loaded'])&&!(_0x7be500!=null&&_0x7be500['force']))return;const _0x1dbc43=_0x3c3d5c['file'],_0x3b77a5=()=>{this['fire']('load',_0x3c3d5c),this['fire']('load:'+_0x3c3d5c['id'],_0x3c3d5c),_0x1dbc43&&_0x1dbc43['url']&&this['fire']('load:url:'+_0x1dbc43['url'],_0x3c3d5c),_0x3c3d5c['fire']('load',_0x3c3d5c);},_0x244737=_0x349327=>{if(_0x349327 instanceof Array?_0x3c3d5c['resources']=_0x349327:_0x3c3d5c['resource']=_0x349327,this['_loader']['patch'](_0x3c3d5c,this),_0x3c3d5c['type']==='bundle'){const _0x3b9562=_0x3c3d5c['data']['assets'];for(let _0x7011be=-0x657+0xf*-0x282+-0x1f*-0x16b;_0x7011be<_0x3b9562['length'];_0x7011be++){const _0xe60f1e=this['_idToAsset']['get'](_0x3b9562[_0x7011be]);_0xe60f1e&&!_0xe60f1e['loaded']&&this['load'](_0xe60f1e,{'force':!(0xdb*-0x13+-0x1*-0x1f5+-0x2dc*-0x5)});}_0x3c3d5c['resource']['loaded']?_0x3b77a5():(this['fire']('load:start',_0x3c3d5c),this['fire']('load:start'+':'+_0x3c3d5c['id'],_0x3c3d5c),_0x1dbc43&&_0x1dbc43['url']&&this['fire']('load:start'+':url:'+_0x1dbc43['url'],_0x3c3d5c),_0x3c3d5c['fire']('load:start',_0x3c3d5c),_0x3c3d5c['resource']['on']('load',_0x3b77a5));}else _0x3b77a5();},_0x2019bc=(_0x14fae8,_0x1f5a28,_0x2bb89a)=>{if(_0x3c3d5c['loaded']=!(0x3c7*0x1+0x1260+0x1627*-0x1),_0x3c3d5c['loading']=!(0x1*-0x845+0x1*-0x1af9+0x233f*0x1),_0x14fae8)this['fire']('error',_0x14fae8,_0x3c3d5c),this['fire']('error:'+_0x3c3d5c['id'],_0x14fae8,_0x3c3d5c),_0x3c3d5c['fire']('error',_0x14fae8,_0x3c3d5c);else{if(_0x3c3d5c['type']==='script'){const _0x5c097d=this['_loader']['getHandler']('script');_0x5c097d['_cache'][_0x3c3d5c['id']]&&_0x5c097d['_cache'][_0x3c3d5c['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x5c097d['_cache'][_0x3c3d5c['id']]),_0x5c097d['_cache'][_0x3c3d5c['id']]=_0x2bb89a;}_0x244737(_0x1f5a28);}};if(_0x1dbc43||_0x3c3d5c['type']==='cubemap'){this['fire']('load:start',_0x3c3d5c),this['fire']('load:'+_0x3c3d5c['id']+':start',_0x3c3d5c),_0x3c3d5c['loading']=!(-0x1*0x1145+-0x23e6+0x352b);const _0x483815=_0x3c3d5c['getFileUrl']();if(_0x3c3d5c['type']==='bundle'){const _0x3a6ebd=_0x3c3d5c['data']['assets'];for(let _0x2431c4=-0x8b*-0x19+-0x225b*-0x1+0x1e*-0x199;_0x2431c4<_0x3a6ebd['length'];_0x2431c4++){const _0x111730=this['_idToAsset']['get'](_0x3a6ebd[_0x2431c4]);_0x111730&&(_0x111730['loaded']||_0x111730['resource']||_0x111730['loading']||(_0x111730['loading']=!(0xcc7*-0x2+0x6*0x66e+0x1*-0xd06)));}}this['_loader']['load'](_0x483815,_0x3c3d5c['type'],_0x2019bc,_0x3c3d5c,_0x7be500);}else{const _0x1fe20a=this['_loader']['open'](_0x3c3d5c['type'],_0x3c3d5c['data']);_0x3c3d5c['loaded']=!(-0x101*-0x1d+-0xb*-0x2d9+-0x8*0x78e),_0x244737(_0x1fe20a);}}['loadFromUr'+'l'](_0x303143,_0x2ee1f5,_0x2ad8c9){this['loadFromUr'+'lAndFilena'+'me'](_0x303143,null,_0x2ee1f5,_0x2ad8c9);}['loadFromUr'+'lAndFilena'+'me'](_0x117000,_0x4d8bcf,_0x132b71,_0x150a8c){const _0x44a298=me['getBasenam'+'e'](_0x4d8bcf||_0x117000),_0x2efc6b={'filename':_0x4d8bcf||_0x44a298,'url':_0x117000};let _0xb3923d=this['getByUrl'](_0x117000);if(!_0xb3923d)_0xb3923d=new he(_0x44a298,_0x132b71,_0x2efc6b),this['add'](_0xb3923d);else{if(_0xb3923d['loaded']){_0x150a8c(_0xb3923d['loadFromUr'+'lError']||null,_0xb3923d);return;}}const _0x505db0=_0x371a8a=>{_0x371a8a['once']('load',_0x1b07b4=>{_0x132b71==='material'?this['_loadTextu'+'res'](_0x1b07b4,(_0x276fb2,_0x5e91b7)=>{_0x150a8c(_0x276fb2,_0x1b07b4);}):_0x150a8c(null,_0x1b07b4);}),_0x371a8a['once']('error',_0x2501c3=>{_0x2501c3&&(this['loadFromUr'+'lError']=_0x2501c3),_0x150a8c(_0x2501c3,_0x371a8a);}),this['load'](_0x371a8a);};_0xb3923d['resource']?_0x150a8c(null,_0xb3923d):_0x132b71==='model'?this['_loadModel'](_0xb3923d,_0x505db0):_0x505db0(_0xb3923d);}['_loadModel'](_0x41311f,_0x15ce90){const _0xb480a4=_0x41311f['getFileUrl'](),_0x1a62e7=me['getExtensi'+'on'](_0xb480a4);if(_0x1a62e7==='.json'||_0x1a62e7==='.glb'){const _0x2deac2=me['getDirecto'+'ry'](_0xb480a4),_0x371fcd=me['getBasenam'+'e'](_0xb480a4),_0x5b80df=me['join'](_0x2deac2,_0x371fcd['replace'](_0x1a62e7,'.mapping.j'+'son'));this['_loader']['load'](_0x5b80df,'json',(_0x4d5055,_0x158b10)=>{_0x4d5055?(_0x41311f['data']={'mapping':[]},_0x15ce90(_0x41311f)):this['_loadMater'+'ials'](_0x41311f,_0x158b10,(_0x116c76,_0x12f866)=>{_0x41311f['data']=_0x158b10,_0x15ce90(_0x41311f);});});}else _0x15ce90(_0x41311f);}['_loadMater'+'ials'](_0x3700d2,_0x5afebc,_0x45739f){const _0x2ba391=[];let _0x11bab1=-0x3*-0x275+0x1a+-0x1*0x779;const _0x28f0c8=(_0x2bdb5c,_0x17bd86)=>{this['_loadTextu'+'res'](_0x17bd86,(_0x595e13,_0x3b2017)=>{_0x2ba391['push'](_0x17bd86),_0x2ba391['length']===_0x11bab1&&_0x45739f(null,_0x2ba391);});};for(let _0x1a38a6=-0x67*0x5f+0x244a+0x1ef;_0x1a38a6<_0x5afebc['mapping']['length'];_0x1a38a6++){const _0x16ac14=_0x5afebc['mapping'][_0x1a38a6]['path'];if(_0x16ac14){_0x11bab1++;const _0x16a9f2=_0x3700d2['getAbsolut'+'eUrl'](_0x16ac14);this['loadFromUr'+'l'](_0x16a9f2,'material',_0x28f0c8);}}_0x11bab1===0x1ccc+-0x1*-0x1839+-0x3505&&_0x45739f(null,_0x2ba391);}['_loadTextu'+'res'](_0x48efd2,_0xfaa534){const _0x2c8c60=[];let _0x146167=0xb29*-0x1+0xaab+0x15*0x6;const _0x19de34=_0x48efd2['data'];if(_0x19de34['mappingFor'+'mat']!=='path'){b['warn']('Skipping:\x20'+_0x48efd2['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0xfaa534(null,_0x2c8c60);return;}const _0xfeba1e=(_0x5c977c,_0x253154)=>{_0x5c977c&&console['error'](_0x5c977c),_0x2c8c60['push'](_0x253154),_0x2c8c60['length']===_0x146167&&_0xfaa534(null,_0x2c8c60);},_0x5babe7=ed;for(let _0x3cadfe=-0x1f15*0x1+-0x9b5+0x28ca;_0x3cadfe<_0x5babe7['length'];_0x3cadfe++){const _0x3120e4=_0x19de34[_0x5babe7[_0x3cadfe]];if(_0x3120e4&&typeof _0x3120e4=='string'){_0x146167++;const _0x57aa8d=_0x48efd2['getAbsolut'+'eUrl'](_0x3120e4);this['loadFromUr'+'l'](_0x57aa8d,'texture',_0xfeba1e);}}_0x146167===-0x1a56+0x1*-0x1ff+0x1c55&&_0xfaa534(null,_0x2c8c60);}['_onTagAdd'](_0x4574e9,_0x5e723d){this['_tags']['add'](_0x4574e9,_0x5e723d);}['_onTagRemo'+'ve'](_0x50d159,_0x476b55){this['_tags']['remove'](_0x50d159,_0x476b55);}['_onNameCha'+'nge'](_0x2b9afc,_0x4b48e0,_0x6a8623){if(this['_nameToAss'+'et']['has'](_0x6a8623)){const _0x1af3ae=this['_nameToAss'+'et']['get'](_0x6a8623);_0x1af3ae['delete'](_0x2b9afc),_0x1af3ae['size']===-0x246d+-0xf9c+-0x4d*-0xad&&this['_nameToAss'+'et']['delete'](_0x6a8623);}this['_nameToAss'+'et']['has'](_0x2b9afc['name'])||this['_nameToAss'+'et']['set'](_0x2b9afc['name'],new Set()),this['_nameToAss'+'et']['get'](_0x2b9afc['name'])['add'](_0x2b9afc);}['findByTag'](..._0x48d3ba){return this['_tags']['find'](_0x48d3ba);}['filter'](_0x4b3fc5){return Array['from'](this['_assets'])['filter'](_0x1788b4=>_0x4b3fc5(_0x1788b4));}['find'](_0x961a5e,_0x1c268b){const _0x43a4a2=this['_nameToAss'+'et']['get'](_0x961a5e);if(!_0x43a4a2)return null;for(const _0x596e3b of _0x43a4a2)if(!_0x1c268b||_0x596e3b['type']===_0x1c268b)return _0x596e3b;return null;}['findAll'](_0xb09b9d,_0x12a5ed){const _0x42b44b=this['_nameToAss'+'et']['get'](_0xb09b9d);if(!_0x42b44b)return[];const _0xd698c8=Array['from'](_0x42b44b);return _0x12a5ed?_0xd698c8['filter'](_0x2b4712=>_0x2b4712['type']===_0x12a5ed):_0xd698c8;}}c(co,'EVENT_LOAD','load'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove'),c(co,'EVENT_ERRO'+'R','error');class sP{constructor(_0x48a768){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x48a768,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x29a4cb){if(_0x29a4cb['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x29a4cb['id'],_0x29a4cb),this['_assets']['on']('load:start'+':'+_0x29a4cb['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x29a4cb['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x29a4cb['id'],this['_onBundleE'+'rror'],this);const _0x1b86ac=_0x29a4cb['data']['assets'];for(let _0x20a798=0xe2*0x25+-0x3*0x73d+0x1*-0xaf3;_0x20a798<_0x1b86ac['length'];_0x20a798++)this['_indexAsse'+'tInBundle'](_0x1b86ac[_0x20a798],_0x29a4cb);}else this['_assetToBu'+'ndles']['has'](_0x29a4cb['id'])&&this['_indexAsse'+'tFileUrls'](_0x29a4cb);}['_unbindAss'+'etEvents'](_0x1d3703){this['_assets']['off']('load:start'+':'+_0x1d3703,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x1d3703,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x1d3703,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x5b8dda,_0x23b2c1){let _0x3119e5=this['_assetToBu'+'ndles']['get'](_0x5b8dda);_0x3119e5||(_0x3119e5=new Set(),this['_assetToBu'+'ndles']['set'](_0x5b8dda,_0x3119e5)),_0x3119e5['add'](_0x23b2c1);const _0x488357=this['_assets']['get'](_0x5b8dda);_0x488357&&this['_indexAsse'+'tFileUrls'](_0x488357);}['_indexAsse'+'tFileUrls'](_0x21c4d8){const _0x1cf409=this['_getAssetF'+'ileUrls'](_0x21c4d8);if(_0x1cf409)for(let _0x3488dc=-0x17fd+-0x1537+0x2d34;_0x3488dc<_0x1cf409['length'];_0x3488dc++){const _0x4a5805=this['_assetToBu'+'ndles']['get'](_0x21c4d8['id']);_0x4a5805&&this['_urlsToBun'+'dles']['set'](_0x1cf409[_0x3488dc],_0x4a5805);}}['_getAssetF'+'ileUrls'](_0x493a5a){let _0x408d60=_0x493a5a['getFileUrl']();if(!_0x408d60)return null;_0x408d60=_0x408d60['split']('?')[-0x18a2+-0x1b13+0x33b5];const _0x4c35ff=[_0x408d60];if(_0x493a5a['type']==='font'){const _0x1da774=_0x493a5a['data']['info']['maps']['length'];for(let _0x825990=-0x2*0xa21+-0xa*0x281+0x2d4d;_0x825990<_0x1da774;_0x825990++)_0x4c35ff['push'](_0x408d60['replace']('.png',_0x825990+'.png'));}return _0x4c35ff;}['_onAssetRe'+'move'](_0x5a7763){if(_0x5a7763['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x5a7763['id']),this['_unbindAss'+'etEvents'](_0x5a7763['id']);const _0x386631=_0x5a7763['data']['assets'];for(let _0x227c64=0x32a+-0x1*0x11f4+0xeca;_0x227c64<_0x386631['length'];_0x227c64++){const _0x427f80=this['_assetToBu'+'ndles']['get'](_0x386631[_0x227c64]);if(_0x427f80&&(_0x427f80['delete'](_0x5a7763),_0x427f80['size']===-0xd*-0x3f+0x1ebd+-0x21f0)){this['_assetToBu'+'ndles']['delete'](_0x386631[_0x227c64]);for(const [_0x5014fb,_0x125e5b]of this['_urlsToBun'+'dles'])_0x125e5b===_0x427f80&&this['_urlsToBun'+'dles']['delete'](_0x5014fb);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x5a7763['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x5a7763['id']))return;this['_assetToBu'+'ndles']['delete'](_0x5a7763['id']);const _0x42fde2=this['_getAssetF'+'ileUrls'](_0x5a7763);if(!_0x42fde2)return;for(let _0x4b13d4=0xc9f+-0xfef+0x350;_0x4b13d4<_0x42fde2['length'];_0x4b13d4++)this['_urlsToBun'+'dles']['delete'](_0x42fde2[_0x4b13d4]);}}['_onBundleL'+'oadStart'](_0x2c1106){_0x2c1106['resource']['on']('add',(_0x49a6ee,_0x16c294)=>{const _0x245b63=this['_fileReque'+'sts']['get'](_0x49a6ee);if(_0x245b63){for(let _0x430243=-0x1b9+0x1*0x392+0x1*-0x1d9;_0x430243<_0x245b63['length'];_0x430243++)_0x245b63[_0x430243](null,_0x16c294);this['_fileReque'+'sts']['delete'](_0x49a6ee);}});}['_onBundleL'+'oad'](_0x278b47){if(!_0x278b47['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x278b47['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x71ec10,_0x2d3443]of this['_fileReque'+'sts']){const _0x45f46f=this['_urlsToBun'+'dles']['get'](_0x71ec10);if(!_0x45f46f||!_0x45f46f['has'](_0x278b47))continue;const _0x486851=decodeURIComponent(_0x71ec10);let _0x35347c,_0x57ea03;if(_0x278b47['resource']['has'](_0x486851))_0x57ea03=_0x278b47['resource']['get'](_0x486851);else{if(_0x278b47['resource']['loaded'])_0x35347c='Bundle\x20'+_0x278b47['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x71ec10;else continue;}for(let _0x2a569e=0x17cd+0x661+-0x1e2e;_0x2a569e<_0x2d3443['length'];_0x2a569e++)_0x2d3443[_0x2a569e](_0x35347c,_0x35347c||_0x57ea03);this['_fileReque'+'sts']['delete'](_0x71ec10);}}['_onBundleE'+'rror'](_0x4be487){for(const [_0x20c7f0,_0x46bcd2]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x20c7f0)){for(let _0xf92ee=0x1*-0x6ab+0xb*-0x73+0xb9c*0x1;_0xf92ee<_0x46bcd2['length'];_0xf92ee++)_0x46bcd2[_0xf92ee](_0x4be487);this['_fileReque'+'sts']['delete'](_0x20c7f0);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0xc92427){const _0x4fc403=this['_urlsToBun'+'dles']['get'](_0xc92427);if(!_0x4fc403)return null;let _0x2aa3c3=null;for(const _0x51a70c of _0x4fc403){if(_0x51a70c['loaded']&&_0x51a70c['resource'])return _0x51a70c;_0x51a70c['loading']&&(_0x2aa3c3=_0x51a70c);}return _0x2aa3c3;}['listBundle'+'sForAsset'](_0x1512a9){const _0x4f3073=this['_assetToBu'+'ndles']['get'](_0x1512a9['id']);return _0x4f3073?Array['from'](_0x4f3073):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x3edb7d){return this['_urlsToBun'+'dles']['has'](_0x3edb7d);}['urlIsLoade'+'dOrLoading'](_0x53905b){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x53905b);}['loadUrl'](_0x1e87aa,_0x3f50b4){const _0x408a4b=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x1e87aa);if(!_0x408a4b){_0x3f50b4('URL\x20'+_0x1e87aa+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x408a4b['loaded']){const _0x55b449=decodeURIComponent(_0x1e87aa);if(_0x408a4b['resource']['has'](_0x55b449)){_0x3f50b4(null,_0x408a4b['resource']['get'](_0x55b449));return;}else{if(_0x408a4b['resource']['loaded']){_0x3f50b4('Bundle\x20'+_0x408a4b['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x1e87aa);return;}}}let _0x491c34=this['_fileReque'+'sts']['get'](_0x1e87aa);_0x491c34||(_0x491c34=[],this['_fileReque'+'sts']['set'](_0x1e87aa,_0x491c34)),_0x491c34['push'](_0x3f50b4);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x541b02 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x541b02);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class iP extends de{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x26c532){const _0x550501=_0x26c532['id'];if(this[_0x550501])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x550501+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x550501]=_0x26c532,this['list']['push'](_0x26c532);}['remove'](_0x56ece9){const _0x9ec3fe=_0x56ece9['id'];if(!this[_0x9ec3fe])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x9ec3fe+('\x27\x20register'+'ed'));delete this[_0x9ec3fe];const _0x38e632=this['list']['indexOf'](this[_0x9ec3fe]);_0x38e632!==-(-0x8c5+-0x131*-0x1f+0x9*-0x321)&&this['list']['splice'](_0x38e632,-0x12ad+-0x1*0x13a2+0x2650);}['destroy'](){this['off']();for(let _0x12677a=-0x37e*-0x7+-0x2503+0xc91;_0x12677a<this['list']['length'];_0x12677a++)this['list'][_0x12677a]['destroy']();}}class Zu extends de{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(-0x19da+-0x1fe1*0x1+0x39bc));}['addFile'](_0x398fee,_0x2a9c02){this['_index']['has'](_0x398fee)||(this['_index']['set'](_0x398fee,_0x2a9c02),this['fire']('add',_0x398fee,_0x2a9c02));}['has'](_0x111325){return this['_index']['has'](_0x111325);}['get'](_0x4e1795){return this['_index']['get'](_0x4e1795)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x38fec7){!_0x38fec7||this['_loaded']||(this['_loaded']=!(-0x1c7+-0x1376+-0x153d*-0x1),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Zu,'EVENT_ADD','add'),c(Zu,'EVENT_LOAD','load');class rP extends de{constructor(_0x5be011,_0x3a85cd=''){super(),c(this,'headerSize',-0x22c2+0x21e1+0x2e1),c(this,'paddingSiz'+'e',0x11ff*-0x1+0x1b21+-0x16*0x53),c(this,'bytesRead',0x8*0x261+0x1*0x1a1+-0x14a9),c(this,'bytesRecei'+'ved',0x13*-0xe9+0xd6d*0x2+-0x98f),c(this,'headerRead',!(0x49c+-0x1*-0x222a+-0x26c5)),c(this,'reader',null),c(this,'data',new Uint8Array(-0x202*0x10+0x1327+0xcf9)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',-0x874+-0x4*-0x4e1+-0xb10),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x3a85cd||'',this['reader']=_0x5be011['body']['getReader'](),this['reader']['read']()['then'](_0x32597c=>{this['pump'](_0x32597c['done'],_0x32597c['value']);})['catch'](_0x1d4a4d=>{this['fire']('error',_0x1d4a4d);}));}['pump'](_0x41c462,_0x1ffa6b){if(_0x41c462)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x1ffa6b['byteLength'];const _0x56728e=new Uint8Array(this['data']['length']+_0x1ffa6b['length']);for(_0x56728e['set'](this['data']),_0x56728e['set'](_0x1ffa6b,this['data']['length']),this['data']=_0x56728e;this['readFile'](););return this['reader']['read']()['then'](_0x4f7839=>{this['pump'](_0x4f7839['done'],_0x4f7839['value']);})['catch'](_0x568dff=>{this['fire']('error',_0x568dff);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0xad*-0x29+0xf9*-0x16+0x311b);const _0x496cb3=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x5b6226=this['decoder']['decode'](_0x496cb3);if(this['fileName']=_0x5b6226['substring'](0x10b2+-0x1c6c+0xbba,-0x4a1+-0x2113*0x1+0xd4*0x2e)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x5b6226['substring'](-0x213f*0x1+0xb35+0x1686,0x48*-0x67+0x1f3*0xb+0x80f),0x1f94+0x1eae+-0x3e3a),this['fileType']=_0x5b6226['substring'](0x26b5+0x1*-0x26e7+-0x1*-0xce,0x1*0x1f9f+-0x26a2+0x7a0),this['ustarForma'+'t']=_0x5b6226['substring'](-0x233*-0xb+0x1a15+-0x3145,-0x22c6+0xe83*0x2+0x6c7),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x107b*0x1+-0x11*0x32+0x13ce)){const _0x3fecaa=_0x5b6226['substring'](0xc*-0x16d+0x1b6f+0x8fa*-0x1,0x1*0x459+-0x36c*-0x5+0x1*-0x1381)['replace'](/\0/g,'');_0x3fecaa['length']>0x1ba3+0xae9+-0x268c&&(this['fileName']=_0x3fecaa['trim']()+this['fileName']['trim']());}this['bytesRead']+=0xcdd+0x13*-0x1fe+0x8d*0x31;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x6e6*0x5+0x13ff+-0x367c);if(this['fileType']===''||this['fileType']==='0'){const _0x4cb1c7=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x425736={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x4cb1c7};this['fire']('file',_0x425736);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0x1046+0xae8+0x37*0x19);const _0xd767ee=this['bytesRead']%this['paddingSiz'+'e'];return _0xd767ee!==-0x1*0x223+0xcf3+-0xad0&&(this['bytesRead']+=this['paddingSiz'+'e']-_0xd767ee),!(0x1*-0x8c6+0x1*0x1a9e+-0x11d8);}return!(-0x3*-0x7d3+0xf+-0x1787);}}class Ge{constructor(_0x44a595,_0x270340){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',-0xcaf+0x2055+-0xa*0x1f7),(this['_app']=_0x44a595,this['handlerTyp'+'e']=_0x270340);}set['maxRetries'](_0x38ea81){this['_maxRetrie'+'s']=_0x38ea81;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x421acf,_0x5de711,_0x2e27eb){}['open'](_0x4a5eef,_0x1fe465,_0x5de058){return _0x1fe465;}['patch'](_0x1ebdfd,_0x28c891){}}class nP extends Ge{constructor(_0x48af68){super(_0x48af68,'bundle'),this['_assets']=_0x48af68['assets'];}['_fetchRetr'+'ies'](_0x454807,_0x546b4b,_0x534d2a=0xf*0x292+-0x2494+-0x2*0xfd){return new Promise((_0x3c6175,_0x3ae26a)=>{const _0x170abe=()=>{fetch(_0x454807,_0x546b4b)['then'](_0x3c6175)['catch'](_0x5d995c=>{_0x534d2a++,_0x534d2a<this['maxRetries']?(b['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x534d2a),_0x170abe()):_0x3ae26a(_0x5d995c);});};_0x170abe();});}['load'](_0x594a19,_0x5c1708){typeof _0x594a19=='string'&&(_0x594a19={'load':_0x594a19,'original':_0x594a19}),this['_fetchRetr'+'ies'](_0x594a19['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x174a63=>{const _0x36ef92=new Zu();_0x5c1708(null,_0x36ef92);const _0x1b6fb9=new rP(_0x174a63,this['_assets']['prefix']);_0x1b6fb9['on']('file',_0x33d346=>{_0x36ef92['addFile'](_0x33d346['name'],_0x33d346['data']);}),_0x1b6fb9['on']('done',()=>{_0x36ef92['loaded']=!(-0x1a*-0x66+-0xb*-0x1be+-0x1d86);}),_0x1b6fb9['on']('error',_0x4300e2=>{b['error'](_0x4300e2),_0x5c1708(_0x4300e2);});})['catch'](_0xb6eba8=>{b['error'](_0xb6eba8),_0x5c1708(_0xb6eba8);});}['open'](_0x4d8f9d,_0x2576bc){return _0x2576bc;}}class _a{constructor(_0x2e2e5d){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x2e2e5d;}['addHandler'](_0x2a883c,_0x3e6f59){this['_handlers'][_0x2a883c]=_0x3e6f59,_0x3e6f59['_loader']=this;}['removeHand'+'ler'](_0x1cf6da){delete this['_handlers'][_0x1cf6da];}['getHandler'](_0x12eabc){return this['_handlers'][_0x12eabc];}static['makeKey'](_0x1fa411,_0x24739f){return _0x1fa411+'-'+_0x24739f;}['load'](_0x3e9663,_0x3622e7,_0x3b1d6b,_0x279ec3,_0x478dab){var _0x122fa8;const _0x4c916f=this['_handlers'][_0x3622e7];if(!_0x4c916f){const _0x583ee7='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x3622e7+('\x27\x20when\x20loa'+'ding\x20[')+_0x3e9663+']';b['errorOnce'](_0x583ee7),_0x3b1d6b(_0x583ee7);return;}if(!_0x3e9663){this['_loadNull'](_0x4c916f,_0x3b1d6b,_0x279ec3);return;}const _0x192f58=_a['makeKey'](_0x3e9663,_0x3622e7);if(this['_cache'][_0x192f58]!==void(0xf2+-0x7d1*-0x1+-0x8c3*0x1))_0x3b1d6b(null,this['_cache'][_0x192f58]);else{if(this['_requests'][_0x192f58])this['_requests'][_0x192f58]['push'](_0x3b1d6b);else{this['_requests'][_0x192f58]=[_0x3b1d6b];const _0x588ebc=this,_0x165148=function(_0xd541fd,_0x28357f){if(_0xd541fd){_0x588ebc['_onFailure'](_0x192f58,_0xd541fd);return;}if(_0x28357f['load']instanceof DataView){if(_0x4c916f['openBinary']){if(!_0x588ebc['_requests'][_0x192f58])return;try{const _0x230984=_0x4c916f['openBinary'](_0x28357f['load']);_0x588ebc['_onSuccess'](_0x192f58,_0x230984);}catch(_0x2dd905){_0x588ebc['_onFailure'](_0x192f58,_0x2dd905);}return;}_0x28357f['load']=URL['createObje'+'ctURL'](new Blob([_0x28357f['load']])),_0x279ec3&&(_0x279ec3['urlObject']&&URL['revokeObje'+'ctURL'](_0x279ec3['urlObject']),_0x279ec3['urlObject']=_0x28357f['load']);}_0x4c916f['load'](_0x28357f,(_0x2dbb36,_0x1fffb3,_0x4cfba9)=>{if(_0x588ebc['_requests'][_0x192f58]){if(_0x2dbb36){_0x588ebc['_onFailure'](_0x192f58,_0x2dbb36);return;}try{_0x588ebc['_onSuccess'](_0x192f58,_0x4c916f['open'](_0x28357f['original'],_0x1fffb3,_0x279ec3),_0x4cfba9);}catch(_0x43e625){_0x588ebc['_onFailure'](_0x192f58,_0x43e625);}}},_0x279ec3);},_0x17b956=_0x3e9663['split']('?')[0x433+0x1048+-0x6b*0x31];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x17b956)&&!(_0x478dab&&_0x478dab['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x17b956)){const _0x5f4f60=this['_app']['bundles']['listBundle'+'sForAsset'](_0x279ec3);let _0x36c14a;_0x478dab&&_0x478dab['bundlesFil'+'ter']&&(_0x36c14a=_0x478dab['bundlesFil'+'ter'](_0x5f4f60)),_0x36c14a||(_0x5f4f60==null||_0x5f4f60['sort']((_0x132ee8,_0x432917)=>_0x132ee8['file']['size']-_0x432917['file']['size']),_0x36c14a=_0x5f4f60==null?void(-0x1*-0x1aff+-0x12df*-0x2+-0x40bd):_0x5f4f60[-0x1f*-0xec+-0x27*0xf9+0x95b]),_0x36c14a&&((_0x122fa8=this['_app']['assets'])==null||_0x122fa8['load'](_0x36c14a));}this['_app']['bundles']['loadUrl'](_0x17b956,(_0x2b88c3,_0x38b940)=>{_0x165148(_0x2b88c3,{'load':_0x38b940,'original':_0x17b956});});}else _0x165148(null,{'load':_0x3e9663,'original':_0x279ec3&&_0x279ec3['file']['filename']||_0x3e9663});}}}['_loadNull'](_0x556343,_0x21303a,_0x590daa){const _0x28407f=function(_0x7ec4ae,_0x2a9088,_0x162391){if(_0x7ec4ae)_0x21303a(_0x7ec4ae);else try{_0x21303a(null,_0x556343['open'](null,_0x2a9088,_0x590daa),_0x162391);}catch(_0x147a51){_0x21303a(_0x147a51);}};_0x556343['load'](null,_0x28407f,_0x590daa);}['_onSuccess'](_0x2c6986,_0x2921c8,_0x5c9b81){_0x2921c8!==null?this['_cache'][_0x2c6986]=_0x2921c8:delete this['_cache'][_0x2c6986];for(let _0x4f941a=0x1*-0x1094+-0x109*0x5+0x15c1*0x1;_0x4f941a<this['_requests'][_0x2c6986]['length'];_0x4f941a++)this['_requests'][_0x2c6986][_0x4f941a](null,_0x2921c8,_0x5c9b81);delete this['_requests'][_0x2c6986];}['_onFailure'](_0x3da319,_0x2a8393){if(console['error'](_0x2a8393),this['_requests'][_0x3da319]){for(let _0xb0804f=0x2*-0xdd3+-0xa56+0x25fc;_0xb0804f<this['_requests'][_0x3da319]['length'];_0xb0804f++)this['_requests'][_0x3da319][_0xb0804f](_0x2a8393);delete this['_requests'][_0x3da319];}}['open'](_0x4d69e4,_0x540854){const _0x166fcc=this['_handlers'][_0x4d69e4];return _0x166fcc?_0x166fcc['open'](null,_0x540854):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x4d69e4),_0x540854);}['patch'](_0x149c41,_0x29c7ab){const _0x55352b=this['_handlers'][_0x149c41['type']];if(!_0x55352b){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x149c41['type']);return;}_0x55352b['patch']&&_0x55352b['patch'](_0x149c41,_0x29c7ab);}['clearCache'](_0x58db57,_0x2b3d0d){const _0x43975a=_a['makeKey'](_0x58db57,_0x2b3d0d);delete this['_cache'][_0x43975a];}['getFromCac'+'he'](_0x3dce68,_0x509476){const _0x394aec=_a['makeKey'](_0x3dce68,_0x509476);if(this['_cache'][_0x394aec])return this['_cache'][_0x394aec];}['enableRetr'+'y'](_0x2575a1=-0x478+-0x25f8+0x2a75){_0x2575a1=Math['max'](-0x19ce+-0x5ad+0x1*0x1f7b,_0x2575a1)||-0x2*0xa53+0x1850+-0x3aa;for(const _0x2df24b in this['_handlers'])this['_handlers'][_0x2df24b]['maxRetries']=_0x2575a1;}['disableRet'+'ry'](){for(const _0x5cfcfe in this['_handlers'])this['_handlers'][_0x5cfcfe]['maxRetries']=-0x1267*0x2+0x17*-0x141+-0x41a5*-0x1;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class aP{['_validate'](_0xa9d0d0){if(!_0xa9d0d0['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0xa9d0d0['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0xa9d0d0['header']['version']!==-0x233a+-0x2e*0x6b+-0x60d*-0x9)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0xa9d0d0['data']){if(!Array['isArray'](_0xa9d0d0['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x2f9fc4=0x742+0x6ad+-0xdef,_0x442485=_0xa9d0d0['data']['length'];_0x2f9fc4<_0x442485;_0x2f9fc4++){const _0x58c316=_0xa9d0d0['data'][_0x2f9fc4];if(!_0x58c316['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x2f9fc4+('].info\x22\x20fi'+'eld'));if(!_0x58c316['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x2f9fc4+('].info.loc'+'ale\x22\x20field'));if(typeof _0x58c316['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x2f9fc4+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x58c316['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x2f9fc4+('].messages'+'\x22\x20field'));}}['parse'](_0x20db18){return this['_validate'](_0x20db18),_0x20db18['data'];}}class oP extends de{constructor(_0x5ec3d1){super(),this['locale']=Yh,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x5ec3d1,this['_assets']=[],this['_parser']=new aP();}set['assets'](_0x2b0c73){const _0x20020b={};for(let _0x595e78=-0x1*-0x4a1+0x21b5+0x2656*-0x1,_0x28754a=_0x2b0c73['length'];_0x595e78<_0x28754a;_0x595e78++){const _0x44d701=_0x2b0c73[_0x595e78]instanceof he?_0x2b0c73[_0x595e78]['id']:_0x2b0c73[_0x595e78];_0x20020b[_0x44d701]=!(-0x1fa7+-0x32b+-0x2*-0x1169);}let _0x4f5373=this['_assets']['length'];for(;_0x4f5373--;){const _0x5cbf75=this['_assets'][_0x4f5373];if(!_0x20020b[_0x5cbf75]){this['_app']['assets']['off']('add:'+_0x5cbf75,this['_onAssetAd'+'d'],this);const _0x2483b9=this['_app']['assets']['get'](_0x5cbf75);_0x2483b9&&this['_onAssetRe'+'move'](_0x2483b9),this['_assets']['splice'](_0x4f5373,0x157a+0x2*0x2f9+-0x1b6b);}}for(const _0x17d36b in _0x20020b){const _0x247857=parseInt(_0x17d36b,-0x1*0x238f+0x1340+0x1059);if(this['_assets']['indexOf'](_0x247857)!==-(-0x1*0x1917+0xe98+0xa80))continue;this['_assets']['push'](_0x247857);const _0x362e7f=this['_app']['assets']['get'](_0x247857);_0x362e7f?this['_onAssetAd'+'d'](_0x362e7f):this['_app']['assets']['once']('add:'+_0x247857,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x419df3){if(this['_locale']===_0x419df3)return;let _0x316292=xi(_0x419df3);if(_0x316292==='in'&&(_0x316292='id',_0x419df3=K1(_0x419df3,_0x316292),this['_locale']===_0x419df3))return;const _0x5e5f63=this['_locale'];this['_locale']=_0x419df3,this['_lang']=_0x316292,this['_pluralFn']=Zd(this['_lang']),this['fire']('set:locale',_0x419df3,_0x5e5f63);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x1486fa,_0x1593f8){return G0(_0x1486fa,_0x1593f8);}['findAvaila'+'bleLocale'](_0x507df7){if(this['_translati'+'ons'][_0x507df7])return _0x507df7;const _0x2cc871=xi(_0x507df7);return this['_findFallb'+'ackLocale'](_0x507df7,_0x2cc871);}['getText'](_0x29df43,_0x282b36){let _0x1a5ecf=_0x29df43,_0x4709d5;_0x282b36||(_0x282b36=this['_locale'],_0x4709d5=this['_lang']);let _0x1491f4=this['_translati'+'ons'][_0x282b36];return _0x1491f4||(_0x4709d5||(_0x4709d5=xi(_0x282b36)),_0x282b36=this['_findFallb'+'ackLocale'](_0x282b36,_0x4709d5),_0x1491f4=this['_translati'+'ons'][_0x282b36]),_0x1491f4&&_0x1491f4['hasOwnProp'+'erty'](_0x29df43)&&(_0x1a5ecf=_0x1491f4[_0x29df43],Array['isArray'](_0x1a5ecf)&&(_0x1a5ecf=_0x1a5ecf[-0x463*-0x7+0x1956+-0x380b]),_0x1a5ecf==null&&(_0x1a5ecf=_0x29df43)),_0x1a5ecf;}['getPluralT'+'ext'](_0x2c909e,_0x1b5b11,_0x311afc){let _0x29afa1=_0x2c909e,_0x4c8d81,_0x441b61;_0x311afc?(_0x4c8d81=xi(_0x311afc),_0x441b61=Zd(_0x4c8d81)):(_0x311afc=this['_locale'],_0x4c8d81=this['_lang'],_0x441b61=this['_pluralFn']);let _0x4f343c=this['_translati'+'ons'][_0x311afc];if(_0x4f343c||(_0x311afc=this['_findFallb'+'ackLocale'](_0x311afc,_0x4c8d81),_0x4c8d81=xi(_0x311afc),_0x441b61=Zd(_0x4c8d81),_0x4f343c=this['_translati'+'ons'][_0x311afc]),_0x4f343c&&_0x4f343c[_0x2c909e]&&_0x441b61){const _0x5caf45=_0x441b61(_0x1b5b11);_0x29afa1=_0x4f343c[_0x2c909e][_0x5caf45],_0x29afa1==null&&(_0x29afa1=_0x2c909e);}return _0x29afa1;}['addData'](_0x234706){let _0x11255c;try{_0x11255c=this['_parser']['parse'](_0x234706);}catch(_0x5b9f31){console['error'](_0x5b9f31);return;}for(let _0x3b5cb3=0x871+0x2*0x96f+-0x1b4f,_0x380d79=_0x11255c['length'];_0x3b5cb3<_0x380d79;_0x3b5cb3++){const _0xf6609a=_0x11255c[_0x3b5cb3],_0x5b031b=_0xf6609a['info']['locale'],_0xb55d1f=_0xf6609a['messages'];if(!this['_translati'+'ons'][_0x5b031b]){this['_translati'+'ons'][_0x5b031b]={};const _0x514959=xi(_0x5b031b);this['_available'+'Langs'][_0x514959]||(this['_available'+'Langs'][_0x514959]=_0x5b031b);}Object['assign'](this['_translati'+'ons'][_0x5b031b],_0xb55d1f),this['fire']('data:add',_0x5b031b,_0xb55d1f);}}['removeData'](_0x472a21){let _0x23ee03;try{_0x23ee03=this['_parser']['parse'](_0x472a21);}catch(_0x34c3e2){console['error'](_0x34c3e2);return;}for(let _0x312d1e=-0xf35+-0x1ea4+0x2dd9,_0x2b9998=_0x23ee03['length'];_0x312d1e<_0x2b9998;_0x312d1e++){const _0x45a59e=_0x23ee03[_0x312d1e],_0x2b3380=_0x45a59e['info']['locale'],_0x103295=this['_translati'+'ons'][_0x2b3380];if(!_0x103295)continue;const _0x3c92c8=_0x45a59e['messages'];for(const _0x385d8e in _0x3c92c8)delete _0x103295[_0x385d8e];Object['keys'](_0x103295)['length']===0x17*-0x9e+0x1520+0x1*-0x6ee&&(delete this['_translati'+'ons'][_0x2b3380],delete this['_available'+'Langs'][xi(_0x2b3380)]),this['fire']('data:remov'+'e',_0x2b3380,_0x3c92c8);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x40c7a7,_0x1b8850){let _0x5cb9f3=Kh[_0x40c7a7];return _0x5cb9f3&&this['_translati'+'ons'][_0x5cb9f3]||(_0x5cb9f3=Kh[_0x1b8850],_0x5cb9f3&&this['_translati'+'ons'][_0x5cb9f3])||(_0x5cb9f3=this['_available'+'Langs'][_0x1b8850],_0x5cb9f3&&this['_translati'+'ons'][_0x5cb9f3])?_0x5cb9f3:Yh;}['_onAssetAd'+'d'](_0x279b27){_0x279b27['on']('load',this['_onAssetLo'+'ad'],this),_0x279b27['on']('change',this['_onAssetCh'+'ange'],this),_0x279b27['on']('remove',this['_onAssetRe'+'move'],this),_0x279b27['on']('unload',this['_onAssetUn'+'load'],this),_0x279b27['resource']&&this['_onAssetLo'+'ad'](_0x279b27);}['_onAssetLo'+'ad'](_0x3a5b13){this['addData'](_0x3a5b13['resource']);}['_onAssetCh'+'ange'](_0x253c11){_0x253c11['resource']&&this['addData'](_0x253c11['resource']);}['_onAssetRe'+'move'](_0x44bf38){_0x44bf38['off']('load',this['_onAssetLo'+'ad'],this),_0x44bf38['off']('change',this['_onAssetCh'+'ange'],this),_0x44bf38['off']('remove',this['_onAssetRe'+'move'],this),_0x44bf38['off']('unload',this['_onAssetUn'+'load'],this),_0x44bf38['resource']&&this['removeData'](_0x44bf38['resource']),this['_app']['assets']['once']('add:'+_0x44bf38['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x5338ff){_0x5338ff['resource']&&this['removeData'](_0x5338ff['resource']);}}class lP extends de{constructor(_0x4445e6){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x4445e6;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x4edc2f,_0x253dfb){_0x253dfb&&this['_scriptSch'+'emas']['set'](_0x4edc2f,_0x253dfb);}['getSchema'](_0x1c0fd1){return this['_scriptSch'+'emas']['get'](_0x1c0fd1);}['add'](_0x2121b2){const _0x2a40bb=_0x2121b2['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x2a40bb)?(setTimeout(()=>{if(_0x2121b2['prototype']['swap']){const _0x2c9a71=this['_scripts'][_0x2a40bb],_0x6b1c5e=this['_list']['indexOf'](_0x2c9a71);this['_list'][_0x6b1c5e]=_0x2121b2,this['_scripts'][_0x2a40bb]=_0x2121b2,this['fire']('swap',_0x2a40bb,_0x2121b2),this['fire']('swap:'+_0x2a40bb,_0x2121b2);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x2a40bb+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(0x1a90+-0x12b9*0x1+-0x7d6)):(this['_scripts'][_0x2a40bb]=_0x2121b2,this['_list']['push'](_0x2121b2),this['fire']('add',_0x2a40bb,_0x2121b2),this['fire']('add:'+_0x2a40bb,_0x2121b2),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x2a40bb)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x547ed7=this['app']['systems']['script']['_component'+'s'];let _0x84783d;const _0x276fb7=[],_0x3506ca=[];for(_0x547ed7['loopIndex']=-0x1867+-0x19b2+-0x1*-0x3219;_0x547ed7['loopIndex']<_0x547ed7['length'];_0x547ed7['loopIndex']++){const _0x4d36b1=_0x547ed7['items'][_0x547ed7['loopIndex']];if(_0x4d36b1['_scriptsIn'+'dex'][_0x2a40bb]&&_0x4d36b1['_scriptsIn'+'dex'][_0x2a40bb]['awaiting']){_0x4d36b1['_scriptsDa'+'ta']&&_0x4d36b1['_scriptsDa'+'ta'][_0x2a40bb]&&(_0x84783d=_0x4d36b1['_scriptsDa'+'ta'][_0x2a40bb]['attributes']);const _0xdf275a=_0x4d36b1['create'](_0x2a40bb,{'preloading':!(-0x222e+-0x1*0x97+-0xcf*-0x2b),'ind':_0x4d36b1['_scriptsIn'+'dex'][_0x2a40bb]['ind'],'attributes':_0x84783d});_0xdf275a&&_0x276fb7['push'](_0xdf275a);for(const _0x591a23 of _0x4d36b1['scripts'])_0x4d36b1['initialize'+'Attributes'](_0x591a23);}}for(let _0x33adc5=0x1f35+0x1*-0x240b+0x4d6;_0x33adc5<_0x276fb7['length'];_0x33adc5++)_0x276fb7[_0x33adc5]['enabled']&&(_0x276fb7[_0x33adc5]['_initializ'+'ed']=!(-0xcc7+0x233+0xa94),_0x3506ca['push'](_0x276fb7[_0x33adc5]),_0x276fb7[_0x33adc5]['initialize']&&_0x276fb7[_0x33adc5]['initialize']());for(let _0x38c63e=-0x9a*0xb+0x7*-0x319+-0x9*-0x325;_0x38c63e<_0x3506ca['length'];_0x38c63e++)!_0x3506ca[_0x38c63e]['enabled']||_0x3506ca[_0x38c63e]['_postIniti'+'alized']||(_0x3506ca[_0x38c63e]['_postIniti'+'alized']=!(-0x30d*-0x5+-0x1*-0x1264+0x129*-0x1d),_0x3506ca[_0x38c63e]['postInitia'+'lize']&&_0x3506ca[_0x38c63e]['postInitia'+'lize']());}),!(0x1d*-0x130+0xe04+-0x4*-0x51b));}['remove'](_0x8cd546){let _0x13f8a2=_0x8cd546,_0x5e36f7=_0x8cd546;if(typeof _0x5e36f7!='string'?_0x5e36f7=_0x13f8a2['__name']:_0x13f8a2=this['get'](_0x5e36f7),this['get'](_0x5e36f7)!==_0x13f8a2)return!(-0x236d*0x1+-0x231d+0x468b);delete this['_scripts'][_0x5e36f7];const _0x692847=this['_list']['indexOf'](_0x13f8a2);return this['_list']['splice'](_0x692847,0x111f+0xa1f*0x3+-0x2f7b),this['fire']('remove',_0x5e36f7,_0x13f8a2),this['fire']('remove:'+_0x5e36f7,_0x13f8a2),!(0x3*-0x911+-0x1669+0x319c);}['get'](_0x5c1465){return this['_scripts'][_0x5c1465]||null;}['has'](_0x10b918){if(typeof _0x10b918=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x10b918);if(!_0x10b918)return!(0x110c+0x1567*-0x1+0x9*0x7c);const _0x114ecf=_0x10b918['__name'];return this['_scripts'][_0x114ecf]===_0x10b918;}['list'](){return this['_list'];}}const hP=(_0x8b3980,_0x814f27)=>_0x8b3980['constructo'+'r']['order']-_0x814f27['constructo'+'r']['order'],cP=_0x55c847=>_0x55c847['sort'](hP),to=[],H0=[],dP=()=>H0['pop']()??[],q_=_0x1e5bfe=>{_0x1e5bfe['length']=-0x3*0x21b+-0x1*-0x1a58+-0x1407,H0['push'](_0x1e5bfe);},dc=class dc extends Oe{constructor(_0x870b5a,_0x5564f8=sn()){super(_0x870b5a),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(0xc92*-0x1+0x1019*-0x1+0x1cac)),c(this,'_guid',null),c(this,'_template',!(0x18e5*-0x1+-0xb80+-0x1*-0x2466)),(b['assert'](_0x5564f8,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x5564f8);}['addCompone'+'nt'](_0xdb8fb4,_0x4b0972){const _0x427eb1=this['_app']['systems'][_0xdb8fb4];return _0x427eb1?this['c'][_0xdb8fb4]?(b['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0xdb8fb4+('\x27\x20componen'+'t')),null):_0x427eb1['addCompone'+'nt'](this,_0x4b0972):(b['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0xdb8fb4+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x3f1d07){const _0x279433=this['_app']['systems'][_0x3f1d07];if(!_0x279433){b['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x3f1d07+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x3f1d07]){b['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x3f1d07+('\x27\x20componen'+'t'));return;}_0x279433['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x36940c){const _0x509653=this['findOne'](_0x3996b1=>{var _0x451c50;return(_0x451c50=_0x3996b1['c'])==null?void(0x5*0x553+-0x4d*0x1+-0x1a52):_0x451c50[_0x36940c];});return _0x509653&&_0x509653['c'][_0x36940c];}['findCompon'+'ents'](_0x33722d){return this['find'](_0x1b9fb4=>{var _0x587833;return(_0x587833=_0x1b9fb4['c'])==null?void(0xff4+-0xe56+-0x19e):_0x587833[_0x33722d];})['map'](_0x17feff=>_0x17feff['c'][_0x33722d]);}['findScript'](_0x5d91f7){const _0x43c36d=this['findOne'](_0x1755b9=>{var _0x5930a9,_0x543c08;return(_0x543c08=(_0x5930a9=_0x1755b9['c'])==null?void(0x372*0x9+0x3*-0x7ff+-0x705):_0x5930a9['script'])==null?void(0x9*-0x1f5+-0x285*-0xa+-0x795):_0x543c08['has'](_0x5d91f7);});return _0x43c36d==null?void(0xed0+-0x8d8+-0x5f8):_0x43c36d['c']['script']['get'](_0x5d91f7);}['findScript'+'s'](_0x26989c){return this['find'](_0x31aa9d=>{var _0x228cf5,_0x15c0c4;return(_0x15c0c4=(_0x228cf5=_0x31aa9d['c'])==null?void(-0x315*-0x2+0x1a2d+0x2057*-0x1):_0x228cf5['script'])==null?void(0x3*-0xa96+-0x124b*0x1+0x320d):_0x15c0c4['has'](_0x26989c);})['map'](_0x10294c=>_0x10294c['c']['script']['get'](_0x26989c));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0xe5f40b){const _0x3be203=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x3be203[this['_guid']],this['_guid']=_0xe5f40b,_0x3be203[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x7aacbc,_0x196e9a){let _0x1a008d=!(-0x2545+0x4*0x7b9+0x56*0x13);_0x7aacbc===this&&to['length']===-0xf86*0x2+-0x1*0xbe1+0x2aed&&(_0x1a008d=!(-0x2390+0x6b+0x2325)),_0x7aacbc['_beingEnab'+'led']=!(0x228a*0x1+0x182d+0x3ab7*-0x1),_0x7aacbc['_onHierarc'+'hyStateCha'+'nged'](_0x196e9a),_0x7aacbc['_onHierarc'+'hyStatePos'+'tChanged']&&to['push'](_0x7aacbc);const _0x7c4d62=_0x7aacbc['_children'];for(let _0x26709f=0x2447+-0xfa*-0x2+0x1*-0x263b,_0x490bad=_0x7c4d62['length'];_0x26709f<_0x490bad;_0x26709f++)_0x7c4d62[_0x26709f]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x7c4d62[_0x26709f],_0x196e9a);if(_0x7aacbc['_beingEnab'+'led']=!(-0x1cc9+0x159*0x18+0x82*-0x7),_0x1a008d){for(let _0x5892ed=-0x70a*-0x1+-0x32a+0xf8*-0x4;_0x5892ed<to['length'];_0x5892ed++)to[_0x5892ed]['_onHierarc'+'hyStatePos'+'tChanged']();to['length']=0x2*0xe51+0x1d93+-0x3a35;}}['_onHierarc'+'hyStateCha'+'nged'](_0x4b0b19){super['_onHierarc'+'hyStateCha'+'nged'](_0x4b0b19);const _0x44acf8=this['_getSorted'+'Components']();for(let _0x553b46=-0x1ee5+-0x976+0x285b;_0x553b46<_0x44acf8['length'];_0x553b46++){const _0x2aa29d=_0x44acf8[_0x553b46];_0x2aa29d['enabled']&&(_0x4b0b19?_0x2aa29d['onEnable']():_0x2aa29d['onDisable']());}q_(_0x44acf8);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x468295=this['_getSorted'+'Components']();for(let _0x42305f=-0x1*0x263f+-0x382*0x5+0x37c9*0x1;_0x42305f<_0x468295['length'];_0x42305f++)_0x468295[_0x42305f]['onPostStat'+'eChange']();q_(_0x468295);}['findByGuid'](_0x4be573){if(this['_guid']===_0x4be573)return this;const _0x5bd152=this['_app']['_entityInd'+'ex'][_0x4be573];return _0x5bd152&&(_0x5bd152===this||_0x5bd152['isDescenda'+'ntOf'](this))?_0x5bd152:null;}['destroy'](){this['_destroyin'+'g']=!(-0x18ec+-0x1f73+0x1*0x385f);for(const _0x16c7f1 in this['c'])this['c'][_0x16c7f1]['enabled']=!(-0xd63+-0x1b02*0x1+0x2866);for(const _0x5b25a2 in this['c'])this['c'][_0x5b25a2]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(0x705*0x4+0x1*0x1581+-0x3194);}['clone'](){const _0x12e259={},_0x391d18=this['_cloneRecu'+'rsively'](_0x12e259);return _0x12e259[this['getGuid']()]=_0x391d18,W0(this,this,_0x391d18,_0x12e259),_0x391d18;}['_getSorted'+'Components'](){const _0x452d9b=this['c'],_0x50a6f5=dP();let _0x1305dc=0x229*-0xd+-0x13*-0x133+0x6*0xe2;for(const _0x57fad1 in _0x452d9b)if(_0x452d9b['hasOwnProp'+'erty'](_0x57fad1)){const _0x15e116=_0x452d9b[_0x57fad1];_0x1305dc|=_0x15e116['constructo'+'r']['order']!==-0x1*0x1e2f+0x250+0x1bdf,_0x50a6f5['push'](_0x15e116);}return _0x1305dc&&_0x50a6f5['length']>0xa3a*-0x1+0x1903+-0xec8&&cP(_0x50a6f5),_0x50a6f5;}['_cloneRecu'+'rsively'](_0x52a2a2){const _0x9b5600=new this['constructo'+'r'](void(-0x235*-0x11+0x26e0+-0x4c65),this['_app']);super['_cloneInte'+'rnal'](_0x9b5600);for(const _0x11038f in this['c'])this['c'][_0x11038f]['system']['cloneCompo'+'nent'](this,_0x9b5600);for(let _0x55d16c=0x187*-0x12+0x5f+-0x1*-0x1b1f;_0x55d16c<this['_children']['length'];_0x55d16c++){const _0x692748=this['_children'][_0x55d16c];if(_0x692748 instanceof dc){const _0x47b77b=_0x692748['_cloneRecu'+'rsively'](_0x52a2a2);_0x9b5600['addChild'](_0x47b77b),_0x52a2a2[_0x692748['getGuid']()]=_0x47b77b;}}return _0x9b5600;}};c(dc,'EVENT_DEST'+'ROY','destroy');let je=dc;function W0(_0x428a57,_0x148f51,_0x5af29e,_0x3f14fe){if(_0x148f51 instanceof je){const _0x4c91cb=_0x148f51['c'];for(const _0x318b21 in _0x4c91cb){const _0x10554a=_0x4c91cb[_0x318b21],_0x14cffc=_0x10554a['system']['getPropert'+'iesOfType']('entity');for(let _0x535e8f=-0xf33+-0x1e72+0x2da5,_0x4153bf=_0x14cffc['length'];_0x535e8f<_0x4153bf;_0x535e8f++){const _0x3c3c7=_0x14cffc[_0x535e8f]['name'],_0x3dadb1=_0x10554a[_0x3c3c7];if(!!_0x428a57['findByGuid'](_0x3dadb1)){const _0x3061d7=_0x3f14fe[_0x3dadb1]['getGuid']();_0x3061d7?_0x5af29e['c'][_0x318b21][_0x3c3c7]=_0x3061d7:b['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x4c91cb['script']&&_0x5af29e['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4c91cb['script'],_0x3f14fe),_0x4c91cb['render']&&_0x5af29e['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4c91cb['render'],_0x3f14fe),_0x4c91cb['button']&&_0x5af29e['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4c91cb['button'],_0x3f14fe),_0x4c91cb['scrollview']&&_0x5af29e['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4c91cb['scrollview'],_0x3f14fe),_0x4c91cb['scrollbar']&&_0x5af29e['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4c91cb['scrollbar'],_0x3f14fe),_0x4c91cb['anim']&&_0x5af29e['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4c91cb['anim'],_0x3f14fe);const _0x61a82c=_0x148f51['children']['filter'](_0x2b48c7=>_0x2b48c7 instanceof je),_0x8c8d90=_0x5af29e['children']['filter'](_0x23358e=>_0x23358e instanceof je);for(let _0x28bc79=-0x175*0x7+-0x1cbb*-0x1+-0x1288,_0x2b1a07=_0x61a82c['length'];_0x28bc79<_0x2b1a07;_0x28bc79++)W0(_0x428a57,_0x61a82c[_0x28bc79],_0x8c8d90[_0x28bc79],_0x3f14fe);}}class X_{constructor(_0x40e61f,_0x2b66c1){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(0x1681*-0x1+-0x1034+0x26b6)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x40e61f,this['url']=_0x2b66c1);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class uP{constructor(_0x22f590){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x22f590;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x5b816d,_0x37c9c3){if(this['_index']['hasOwnProp'+'erty'](_0x5b816d))return b['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x5b816d),!(-0x269f+0x107*-0x2+0x1457*0x2);const _0xcbfc5b=new X_(_0x5b816d,_0x37c9c3),_0x3416da=this['_list']['push'](_0xcbfc5b);return this['_index'][_0xcbfc5b['name']]=_0x3416da-(-0x16bb+0xb1d+0xb9f),this['_urlIndex'][_0xcbfc5b['url']]=_0x3416da-(0x69d*-0x2+-0xf01+0x1c3c),!(-0x335*-0x3+-0xa4a+0xab);}['find'](_0x21c0f4){return this['_index']['hasOwnProp'+'erty'](_0x21c0f4)?this['_list'][this['_index'][_0x21c0f4]]:null;}['findByUrl'](_0xa7610f){return this['_urlIndex']['hasOwnProp'+'erty'](_0xa7610f)?this['_list'][this['_urlIndex'][_0xa7610f]]:null;}['remove'](_0x1b0349){if(this['_index']['hasOwnProp'+'erty'](_0x1b0349)){const _0x5242ba=this['_index'][_0x1b0349];let _0x26f38a=this['_list'][_0x5242ba];delete this['_urlIndex'][_0x26f38a['url']],delete this['_index'][_0x1b0349],this['_list']['splice'](_0x5242ba,-0x1341+-0x2*0x8d1+0x3*0xc4c);for(let _0x5d6ea7=-0x1c53*-0x1+0x7*0x36+-0x1dcd;_0x5d6ea7<this['_list']['length'];_0x5d6ea7++)_0x26f38a=this['_list'][_0x5d6ea7],this['_index'][_0x26f38a['name']]=_0x5d6ea7,this['_urlIndex'][_0x26f38a['url']]=_0x5d6ea7;}}['_loadScene'+'Data'](_0x24cc3f,_0x4cc351,_0x489338){const _0x1bec60=this['_app'];let _0x46bb8f=_0x24cc3f;if(typeof _0x24cc3f=='string'&&(_0x24cc3f=this['findByUrl'](_0x46bb8f)||this['find'](_0x46bb8f)||new X_('Untitled',_0x46bb8f)),_0x46bb8f=_0x24cc3f['url'],!_0x46bb8f){_0x489338('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x24cc3f['loaded']){_0x489338(null,_0x24cc3f);return;}_0x1bec60['assets']&&_0x1bec60['assets']['prefix']&&!ka['test'](_0x46bb8f)&&(_0x46bb8f=me['join'](_0x1bec60['assets']['prefix'],_0x46bb8f)),_0x24cc3f['_onLoadedC'+'allbacks']['push'](_0x489338),_0x24cc3f['_loading']||_0x1bec60['loader']['getHandler']('hierarchy')['load'](_0x46bb8f,(_0x8f7b2b,_0x818467)=>{_0x24cc3f['data']=_0x818467,_0x24cc3f['_loading']=!(-0x57a+0x1*-0x219e+0x2719);for(let _0xcd5c5b=-0x1*0x2433+-0x1*-0x1ea6+0x58d;_0xcd5c5b<_0x24cc3f['_onLoadedC'+'allbacks']['length'];_0xcd5c5b++)_0x24cc3f['_onLoadedC'+'allbacks'][_0xcd5c5b](_0x8f7b2b,_0x24cc3f);_0x4cc351||(_0x24cc3f['data']=null),_0x24cc3f['_onLoadedC'+'allbacks']['length']=0x664+0xa*0x11c+0x4*-0x45f;}),_0x24cc3f['_loading']=!(-0x1*0x1eaf+-0xa70+0x291f);}['loadSceneD'+'ata'](_0x13ac6c,_0x5c96cf){this['_loadScene'+'Data'](_0x13ac6c,!(0x1c85+0x1*0x1b0c+-0x239*0x19),_0x5c96cf);}['unloadScen'+'eData'](_0x191ef2){typeof _0x191ef2=='string'&&(_0x191ef2=this['findByUrl'](_0x191ef2)),_0x191ef2&&(_0x191ef2['data']=null);}['_loadScene'+'Hierarchy'](_0x1d636c,_0x459c64,_0x39a57c){this['_loadScene'+'Data'](_0x1d636c,!(0xc45*-0x1+0x571*0x1+0x6d5),(_0x28f9fc,_0x151274)=>{if(_0x28f9fc){_0x39a57c&&_0x39a57c(_0x28f9fc);return;}_0x459c64&&_0x459c64(_0x151274);const _0x13d3d1=this['_app'],_0x310975=()=>{const _0x4737a0=_0x13d3d1['loader']['getHandler']('hierarchy');_0x13d3d1['systems']['script']['preloading']=!(0x76f+0x4ec+-0x1*0xc5b);const _0x1a0d18=_0x4737a0['open'](_0x151274['url'],_0x151274['data']);_0x13d3d1['systems']['script']['preloading']=!(-0x257a+-0xf19*-0x1+0x1662),_0x13d3d1['loader']['clearCache'](_0x151274['url'],'hierarchy'),_0x13d3d1['root']['addChild'](_0x1a0d18),_0x13d3d1['systems']['fire']('initialize',_0x1a0d18),_0x13d3d1['systems']['fire']('postInitia'+'lize',_0x1a0d18),_0x13d3d1['systems']['fire']('postPostIn'+'itialize',_0x1a0d18),_0x39a57c&&_0x39a57c(null,_0x1a0d18);};_0x13d3d1['_preloadSc'+'ripts'](_0x151274['data'],_0x310975);});}['loadSceneH'+'ierarchy'](_0x29ed30,_0x25bfee){this['_loadScene'+'Hierarchy'](_0x29ed30,null,_0x25bfee);}['loadSceneS'+'ettings'](_0x2ddc7d,_0x21dff9){this['_loadScene'+'Data'](_0x2ddc7d,!(0xb58+0x1*-0x1ce9+0x1192),(_0x1ed781,_0x28901a)=>{_0x1ed781?_0x21dff9&&_0x21dff9(_0x1ed781):(this['_app']['applyScene'+'Settings'](_0x28901a['data']['settings']),_0x21dff9&&_0x21dff9(null));});}['changeScen'+'e'](_0x53dd47,_0xc06df8){const _0x9ad330=this['_app'],_0x796186=_0x8d2421=>{const {children:_0x46e44b}=_0x9ad330['root'];for(;_0x46e44b['length'];)_0x46e44b[0x1*0x1f33+0x27*-0x74+-0xd87*0x1]['destroy']();_0x9ad330['applyScene'+'Settings'](_0x8d2421['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x53dd47,_0x796186,_0xc06df8);}['loadScene'](_0x340dbd,_0x157301){const _0x56d46e=this['_app'],_0x56cbe1=_0x56d46e['loader']['getHandler']('scene');_0x56d46e['assets']&&_0x56d46e['assets']['prefix']&&!ka['test'](_0x340dbd)&&(_0x340dbd=me['join'](_0x56d46e['assets']['prefix'],_0x340dbd)),_0x56cbe1['load'](_0x340dbd,(_0x41796e,_0x3969e5)=>{if(_0x41796e)_0x157301&&_0x157301(_0x41796e);else{const _0x4454a5=()=>{_0x56d46e['systems']['script']['preloading']=!(0x1af+0x1*-0x213d+-0xe*-0x241);const _0x2d3e6a=_0x56cbe1['open'](_0x340dbd,_0x3969e5),_0x1d7118=this['findByUrl'](_0x340dbd);_0x1d7118&&!_0x1d7118['loaded']&&(_0x1d7118['data']=_0x3969e5),_0x56d46e['systems']['script']['preloading']=!(0x1*-0x125d+-0x2468+0x39*0xf6),_0x56d46e['loader']['clearCache'](_0x340dbd,'scene'),_0x56d46e['loader']['patch']({'resource':_0x2d3e6a,'type':'scene'},_0x56d46e['assets']),_0x56d46e['root']['addChild'](_0x2d3e6a['root']),_0x56d46e['systems']['rigidbody']&&typeof Ammo<'u'&&_0x56d46e['systems']['rigidbody']['gravity']['set'](_0x2d3e6a['_gravity']['x'],_0x2d3e6a['_gravity']['y'],_0x2d3e6a['_gravity']['z']),_0x157301&&_0x157301(null,_0x2d3e6a);};_0x56d46e['_preloadSc'+'ripts'](_0x3969e5,_0x4454a5);}});}}class fP{constructor(_0x4e4042){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x4e4042['_shaderSta'+'ts'],this['vram']=_0x4e4042['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return sn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x404ab4;return(_0x404ab4=sn()['lightmappe'+'r'])==null?void(-0x49*0x4a+0x1d52+-0x838):_0x404ab4['stats'];}get['batcher'](){const _0x20143c=sn()['_batcher'];return _0x20143c?_0x20143c['_stats']:null;}}const Hr=class Hr extends de{constructor(_0x1a41a4){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(-0x2373*-0x1+0x49*0x67+-0x1*0x40d1)),c(this,'_inFrameUp'+'date',!(-0x1*-0x20a7+0x1ad1+0xd*-0x493)),c(this,'_libraries'+'Loaded',!(-0x3*-0x49d+-0x2399+-0x9*-0x26b)),c(this,'_fillMode',G_),c(this,'_resolutio'+'nMode',X1),c(this,'_allowResi'+'ze',!(0x3*-0x6d3+0x46c*-0x5+-0x2a95*-0x1)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(0x22c8+0x3*0x12e+0x11*-0x241)),c(this,'_scriptPre'+'fix',''),c(this,'_time',-0x8*0x179+0xe99+-0x2d1*0x1),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',0x4ea*-0x7+-0x2097+-0x15e*-0x31),c(this,'maxDeltaTi'+'me',-0x4b*-0x7e+-0x34*0x73+0x1*-0xd8e+0.1),c(this,'frame',0x25bd+0x171*-0xd+-0x1300),c(this,'frameGraph',new j1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(-0x2*0x4c+-0x9aa+0xa42)),c(this,'renderNext'+'Frame',!(0x1c99+-0x250b+-0x15*-0x67)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new _a(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new uP(this)),c(this,'scripts',new lP(this)),c(this,'systems',new iP()),c(this,'i18n',new oP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((ho==null?void(-0x1546*0x1+0x13*0x83+0xb8d):ho['indexOf']('$'))<0xb7a+0x1*0x21cf+-0x2d49&&b['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+ho+'\x20'+iy),Hr['_applicati'+'ons'][_0x1a41a4['id']]=this,Ku(this),this['root']=new je(),this['root']['_enabledIn'+'Hierarchy']=!(0x8af+-0xf8a+0x6db));}['init'](_0xfc8d6d){const {assetPrefix:_0x4c6c19,batchManager:_0x10bd23,componentSystems:_0x4ae74a,elementInput:_0xd38972,gamepads:_0xcadad1,graphicsDevice:_0x2ef63e,keyboard:_0x1b0bcf,lightmapper:_0x50e756,mouse:_0x30ed42,resourceHandlers:_0x50957f,scriptsOrder:_0x240632,scriptPrefix:_0x464be6,soundManager:_0x141dc8,touch:_0x11f309,xr:_0x147bf1}=_0xfc8d6d;b['assert'](_0x2ef63e,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x2ef63e,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new fP(_0x2ef63e),this['_soundMana'+'ger']=_0x141dc8,this['scene']=new mi(_0x2ef63e),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new co(this['loader']),_0x4c6c19&&(this['assets']['prefix']=_0x4c6c19),this['bundles']=new sP(this['assets']),this['scriptsOrd'+'er']=_0x240632||[],this['defaultLay'+'erWorld']=new Fr({'name':'World','id':zi}),this['defaultLay'+'erDepth']=new Fr({'name':'Depth','id':es,'enabled':!(-0xf85*0x1+0x1*0xd7f+0x1*0x207),'opaqueSortMode':_h}),this['defaultLay'+'erSkybox']=new Fr({'name':'Skybox','id':Ap,'opaqueSortMode':_h}),this['defaultLay'+'erUi']=new Fr({'name':'UI','id':nl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Fr({'name':'Immediate','id':Ep,'opaqueSortMode':_h});const _0x41c542=new v_('default');_0x41c542['pushOpaque'](this['defaultLay'+'erWorld']),_0x41c542['pushOpaque'](this['defaultLay'+'erDepth']),_0x41c542['pushOpaque'](this['defaultLay'+'erSkybox']),_0x41c542['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x41c542['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x41c542['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x41c542['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x41c542,qr['createPlac'+'eholder'](_0x2ef63e),this['renderer']=new Xh(_0x2ef63e),this['renderer']['scene']=this['scene'],_0x50e756&&(this['lightmappe'+'r']=new _0x50e756(_0x2ef63e,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x10bd23&&(this['_batcher']=new _0x10bd23(_0x2ef63e,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x1b0bcf||null,this['mouse']=_0x30ed42||null,this['touch']=_0x11f309||null,this['gamepads']=_0xcadad1||null,_0xd38972&&(this['elementInp'+'ut']=_0xd38972,this['elementInp'+'ut']['app']=this),this['xr']=_0x147bf1?new _0x147bf1(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x464be6||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new nP(this)),_0x50957f['forEach'](_0x48ba62=>{const _0x10ae2b=new _0x48ba62(this);this['loader']['addHandler'](_0x10ae2b['handlerTyp'+'e'],_0x10ae2b);}),_0x4ae74a['forEach'](_0x732600=>{this['systems']['add'](new _0x732600(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0x2619+-0x1*0x24b3+0x4acc)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x14d5+-0x15ea+-0x1*-0x2ac0))):document['mozHidden']!==void(0x4*-0x9a9+-0xa9f+0x3143)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1e4d*-0x1+0x2d*-0xb1+-0x3*-0x1479))):document['msHidden']!==void(0x1*0x23+0x23f1*-0x1+0x23ce)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x85c+-0x1*-0x5fb+0x262))):document['webkitHidd'+'en']!==void(0x2*-0xd6f+0x1*-0x833+-0xbf*-0x2f)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x3*0x1d7+0x3dd+-0x961)))),this['tick']=pP(this);}static['getApplica'+'tion'](_0x285394){return _0x285394?Hr['_applicati'+'ons'][_0x285394]:sn();}['_initDefau'+'ltMaterial'](){const _0x21d5c5=new _s();_0x21d5c5['name']='Default\x20Ma'+'terial',iC(this['graphicsDe'+'vice'],_0x21d5c5);}['_initProgr'+'amLibrary'](){const _0xab81b4=new L1(this['graphicsDe'+'vice'],new _s());$E(this['graphicsDe'+'vice'],_0xab81b4);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return b['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0xa0f330,_0x259d8d){Ye['get'](_0xa0f330,(_0x4a127e,_0x497775)=>{if(_0x4a127e){_0x259d8d(_0x4a127e);return;}const _0x3f250b=_0x497775['applicatio'+'n_properti'+'es'],_0x381f69=_0x497775['scenes'],_0x292998=_0x497775['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x3f250b,_0xb08e5f=>{this['_parseScen'+'es'](_0x381f69),this['_parseAsse'+'ts'](_0x292998),_0x259d8d(_0xb08e5f||null);});});}['preload'](_0x1586ab){this['fire']('preload:st'+'art');const _0x1ea249=this['assets']['list']({'preload':!(-0x1769+-0x10*0x34+0x1c7*0xf)});if(_0x1ea249['length']===-0x220d+-0x202b+-0x1*-0x4238){this['fire']('preload:en'+'d'),_0x1586ab();return;}let _0x248b6e=0x7d+-0x10ec+0x106f;const _0xd8e7fa=()=>{_0x248b6e++,this['fire']('preload:pr'+'ogress',_0x248b6e/_0x1ea249['length']),_0x248b6e===_0x1ea249['length']&&(this['fire']('preload:en'+'d'),_0x1586ab());};_0x1ea249['forEach'](_0x259eba=>{_0x259eba['loaded']?_0xd8e7fa():(_0x259eba['once']('load',_0xd8e7fa),_0x259eba['once']('error',_0xd8e7fa),this['assets']['load'](_0x259eba));});}['_preloadSc'+'ripts'](_0x2b4bfc,_0x2b52cd){_0x2b52cd();}['_parseAppl'+'icationPro'+'perties'](_0x39cd1f,_0xa973ae){if(typeof _0x39cd1f['maxAssetRe'+'tries']=='number'&&_0x39cd1f['maxAssetRe'+'tries']>-0xc1*-0x1b+-0x2475+-0x1ca*-0x9&&this['loader']['enableRetr'+'y'](_0x39cd1f['maxAssetRe'+'tries']),_0x39cd1f['useDeviceP'+'ixelRatio']||(_0x39cd1f['useDeviceP'+'ixelRatio']=_0x39cd1f['use_device'+'_pixel_rat'+'io']),_0x39cd1f['resolution'+'Mode']||(_0x39cd1f['resolution'+'Mode']=_0x39cd1f['resolution'+'_mode']),_0x39cd1f['fillMode']||(_0x39cd1f['fillMode']=_0x39cd1f['fill_mode']),this['_width']=_0x39cd1f['width'],this['_height']=_0x39cd1f['height'],_0x39cd1f['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x39cd1f['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x39cd1f['fillMode'],this['_width'],this['_height']),_0x39cd1f['layers']&&_0x39cd1f['layerOrder']){const _0x1678fd=new v_('applicatio'+'n'),_0x4c5f78={};for(const _0x3a0d06 in _0x39cd1f['layers']){const _0x785fbf=_0x39cd1f['layers'][_0x3a0d06];_0x785fbf['id']=parseInt(_0x3a0d06,0x298*-0xd+0x1cf8+0x4ca),_0x785fbf['enabled']=_0x785fbf['id']!==es,_0x4c5f78[_0x3a0d06]=new Fr(_0x785fbf);}for(let _0x2cfb96=0xcc*-0x2a+-0xbf7*0x3+0x455d,_0x36c994=_0x39cd1f['layerOrder']['length'];_0x2cfb96<_0x36c994;_0x2cfb96++){const _0xd27ee2=_0x39cd1f['layerOrder'][_0x2cfb96],_0x7c402e=_0x4c5f78[_0xd27ee2['layer']];_0x7c402e&&(_0xd27ee2['transparen'+'t']?_0x1678fd['pushTransp'+'arent'](_0x7c402e):_0x1678fd['pushOpaque'](_0x7c402e),_0x1678fd['subLayerEn'+'abled'][_0x2cfb96]=_0xd27ee2['enabled']);}this['scene']['layers']=_0x1678fd;}if(_0x39cd1f['batchGroup'+'s']){const _0x213cb8=this['batcher'];if(_0x213cb8)for(let _0x218914=-0x195+0x1a42+-0x18ad*0x1,_0x215c8c=_0x39cd1f['batchGroup'+'s']['length'];_0x218914<_0x215c8c;_0x218914++){const _0x2736e8=_0x39cd1f['batchGroup'+'s'][_0x218914];_0x213cb8['addGroup'](_0x2736e8['name'],_0x2736e8['dynamic'],_0x2736e8['maxAabbSiz'+'e'],_0x2736e8['id'],_0x2736e8['layers']);}}_0x39cd1f['i18nAssets']&&(this['i18n']['assets']=_0x39cd1f['i18nAssets']),this['_loadLibra'+'ries'](_0x39cd1f['libraries'],_0xa973ae);}['_loadLibra'+'ries'](_0x37651e,_0x125068){const _0x562d86=_0x37651e['length'];let _0xade7d8=_0x562d86;const _0x41a77f=/^https?:\/\//;if(_0x562d86){const _0x469a34=(_0xd41ae8,_0x591991)=>{_0xade7d8--,_0xd41ae8?_0x125068(_0xd41ae8):_0xade7d8===-0x887+-0x1842+0x4af*0x7&&(this['onLibrarie'+'sLoaded'](),_0x125068(null));};for(let _0x42ff74=-0x156f+-0x8d*-0x37+-0x3f*0x24;_0x42ff74<_0x562d86;++_0x42ff74){let _0x4cbdfe=_0x37651e[_0x42ff74];!_0x41a77f['test'](_0x4cbdfe['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x4cbdfe=me['join'](this['_scriptPre'+'fix'],_0x4cbdfe)),this['loader']['load'](_0x4cbdfe,'script',_0x469a34);}}else this['onLibrarie'+'sLoaded'](),_0x125068(null);}['_parseScen'+'es'](_0x53bf15){if(_0x53bf15){for(let _0x5dbe74=-0xe36+-0x8*-0x6c+0xad6;_0x5dbe74<_0x53bf15['length'];_0x5dbe74++)this['scenes']['add'](_0x53bf15[_0x5dbe74]['name'],_0x53bf15[_0x5dbe74]['url']);}}['_parseAsse'+'ts'](_0x447742){const _0x294c78=[],_0x2338a1={},_0x309320={};for(let _0x273c85=0x3*0x7f6+-0x2070+0x16d*0x6;_0x273c85<this['scriptsOrd'+'er']['length'];_0x273c85++){const _0x214dac=this['scriptsOrd'+'er'][_0x273c85];_0x447742[_0x214dac]&&(_0x2338a1[_0x214dac]=!(-0x1*-0x15f1+0x9c*0x40+0x1*-0x3cf1),_0x294c78['push'](_0x447742[_0x214dac]));}if(this['enableBund'+'les']){for(const _0xfc39e4 in _0x447742)_0x447742[_0xfc39e4]['type']==='bundle'&&(_0x309320[_0xfc39e4]=!(-0x2*-0x8+0x1*-0x130d+0x12fd),_0x294c78['push'](_0x447742[_0xfc39e4]));}for(const _0x4f97a6 in _0x447742)_0x2338a1[_0x4f97a6]||_0x309320[_0x4f97a6]||_0x294c78['push'](_0x447742[_0x4f97a6]);for(let _0x1a9278=0x151f+0x1*0x8d+0x4*-0x56b;_0x1a9278<_0x294c78['length'];_0x1a9278++){const _0x1014de=_0x294c78[_0x1a9278],_0x35db25=new he(_0x1014de['name'],_0x1014de['type'],_0x1014de['file'],_0x1014de['data']);if(_0x35db25['id']=parseInt(_0x1014de['id'],-0x2*-0xea9+0x13fb+-0x3143),_0x35db25['preload']=_0x1014de['preload']?_0x1014de['preload']:!(-0x68+-0x1f1a+-0x1f83*-0x1),_0x35db25['loaded']=_0x1014de['type']==='script'&&_0x1014de['data']&&_0x1014de['data']['loadingTyp'+'e']>0x12f0*-0x2+-0x61f+-0x2bff*-0x1,_0x35db25['tags']['add'](_0x1014de['tags']),_0x1014de['i18n']){for(const _0x2bd2cf in _0x1014de['i18n'])_0x35db25['addLocaliz'+'edAssetId'](_0x2bd2cf,_0x1014de['i18n'][_0x2bd2cf]);}this['assets']['add'](_0x35db25);}}['start'](){b['call'](()=>{b['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0xfdd+0x476+0xb67);}),this['frame']=0x1*-0xa1e+0x1e99+-0x147b,this['fire']('start',{'timestamp':ae(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x10e6c9){this['controller']&&this['controller']['update'](_0x10e6c9),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x1716dc){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ae(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x1716dc),this['systems']['fire']('animationU'+'pdate',_0x1716dc),this['systems']['fire']('postUpdate',_0x1716dc),this['fire']('update',_0x1716dc),this['inputUpdat'+'e'](_0x1716dc),this['stats']['frame']['updateTime']=ae()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ae(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Xh['_skipRende'+'rCounter']=-0x1a*0x89+-0x1a*0x175+0x33cc,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ae()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0xdc7a3c){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0xdc7a3c),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0xdc7a3c),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x4f4b0a,_0x2b9373,_0x504f8c){const _0x5c268e=this['stats']['frame'];_0x5c268e['dt']=_0x2b9373,_0x5c268e['ms']=_0x504f8c,_0x4f4b0a>_0x5c268e['_timeToCou'+'ntFrames']?(_0x5c268e['fps']=_0x5c268e['_fpsAccum'],_0x5c268e['_fpsAccum']=-0x92*0x3d+-0x1094+0x335e,_0x5c268e['_timeToCou'+'ntFrames']=_0x4f4b0a+(-0x2095+0x1ffe+-0x1*-0x47f)):_0x5c268e['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0x1*-0xbe1+0xd*-0x16e+0x1e77;}['_fillFrame'+'Stats'](){let _0x38cb0d=this['stats']['frame'];_0x38cb0d['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x38cb0d['materials']=this['renderer']['_materialS'+'witches'],_0x38cb0d['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x38cb0d['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x38cb0d['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x38cb0d['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x38cb0d['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x2f1413=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x38cb0d['triangles']=_0x2f1413[Fs]/(-0x1cae*-0x1+0xe16+0xb*-0x3e3)+Math['max'](_0x2f1413[lr]-(0x10e8+0x76*-0x3c+0xac2),0x577+0x1f3f+-0x24b6)+Math['max'](_0x2f1413[Kr]-(0x24fa+-0x26f0+0x1f8),-0xb*0x293+0x22f7+-0x17*0x4a),_0x38cb0d['cullTime']=this['renderer']['_cullTime'],_0x38cb0d['sortTime']=this['renderer']['_sortTime'],_0x38cb0d['skinTime']=this['renderer']['_skinTime'],_0x38cb0d['morphTime']=this['renderer']['_morphTime'],_0x38cb0d['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x38cb0d['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x38cb0d['otherPrimi'+'tives']=0x2c4*0x3+0x6ec+-0x4*0x3ce;for(let _0x2a9320=-0xd65*0x2+0x1b5e+-0x94;_0x2a9320<_0x2f1413['length'];_0x2a9320++)_0x2a9320<Fs&&(_0x38cb0d['otherPrimi'+'tives']+=_0x2f1413[_0x2a9320]),_0x2f1413[_0x2a9320]=0x1*0x13e9+0x52*0x32+-0x23ed;this['renderer']['_camerasRe'+'ndered']=-0x4b*0x84+0x43*-0x87+0x4a01,this['renderer']['_materialS'+'witches']=-0x841*0x3+-0x4*0x461+0x2a47,this['renderer']['_shadowMap'+'Updates']=-0x817+-0xf5c+0x57*0x45,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0xfdf+0x21a7*0x1+-0x8*0x239,this['renderer']['_cullTime']=-0x1*-0x2467+-0x522+-0x641*0x5,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x2e*0x7d+-0x1ae4+0x46e,this['renderer']['_lightClus'+'tersTime']=0x8d+-0x2*0x5a0+-0x53*-0x21,this['renderer']['_sortTime']=0x6b*0x29+-0x57+-0x56*0x32,this['renderer']['_skinTime']=-0x19a3*0x1+-0x1*0xcd2+0x2675,this['renderer']['_morphTime']=-0x2*-0x53+0x1a61+-0x1b07,this['renderer']['_shadowMap'+'Time']=-0x7*0x565+-0x108d*0x1+-0x16*-0x278,this['renderer']['_depthMapT'+'ime']=0x1808+-0x227+0x3*-0x74b,this['renderer']['_forwardTi'+'me']=-0x19f5+-0x2276+0x3c6b,_0x38cb0d=this['stats']['drawCalls'],_0x38cb0d['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x38cb0d['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x38cb0d['depth']=-0x1*0x1777+-0x1*0x5ff+-0x4e9*-0x6,_0x38cb0d['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x38cb0d['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x38cb0d['immediate']=-0x1c10+0x18d+0x1a83,_0x38cb0d['instanced']=-0x1895+0x45d*-0x3+0x25ac,_0x38cb0d['removedByI'+'nstancing']=0x1*-0x1a7a+0x8*-0x3be+-0x967*-0x6,_0x38cb0d['misc']=_0x38cb0d['total']-(_0x38cb0d['forward']+_0x38cb0d['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x1402+0x10cf+0x333,this['renderer']['_shadowDra'+'wCalls']=0x15ee+0x466+-0x1a54,this['renderer']['_forwardDr'+'awCalls']=0x2233+0x5bf+-0x27f2,this['renderer']['_numDrawCa'+'llsCulled']=0x1f84+0xd20+-0x2ca4,this['renderer']['_skinDrawC'+'alls']=-0x247d*-0x1+0x8b1+0x2d2e*-0x1,this['renderer']['_immediate'+'Rendered']=0x2238+0x25c7+-0x47ff,this['renderer']['_instanced'+'DrawCalls']=-0x10*-0x218+-0x2585+0x157*0x3,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x38cb0d=this['stats']['particles'],_0x38cb0d['updatesPer'+'Frame']=_0x38cb0d['_updatesPe'+'rFrame'],_0x38cb0d['frameTime']=_0x38cb0d['_frameTime'],_0x38cb0d['_updatesPe'+'rFrame']=0xe82*-0x2+0xa7e+0x1286,_0x38cb0d['_frameTime']=0xef3*0x2+-0x2101+-0x9f*-0x5;}['setCanvasF'+'illMode'](_0xbc5558,_0x43c6c4,_0x2cbe21){this['_fillMode']=_0xbc5558,this['resizeCanv'+'as'](_0x43c6c4,_0x2cbe21);}['setCanvasR'+'esolution'](_0x283bd7,_0x42730d,_0x1af6f3){this['_resolutio'+'nMode']=_0x283bd7,_0x283bd7===H_&&_0x42730d===void(-0xcc*-0x12+-0x13de+0x7*0xca)&&(_0x42730d=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x1af6f3=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x42730d,_0x1af6f3);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0xd25aa6,_0x439783){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x1c22b5=window['innerWidth'],_0x3e9d07=window['innerHeigh'+'t'];if(this['_fillMode']===G_){const _0x3941a3=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x481a1c=_0x1c22b5/_0x3e9d07;_0x3941a3>_0x481a1c?(_0xd25aa6=_0x1c22b5,_0x439783=_0xd25aa6/_0x3941a3):(_0x439783=_0x3e9d07,_0xd25aa6=_0x439783*_0x3941a3);}else this['_fillMode']===q1&&(_0xd25aa6=_0x1c22b5,_0x439783=_0x3e9d07);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0xd25aa6+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x439783+'px',this['updateCanv'+'asSize'](),{'width':_0xd25aa6,'height':_0x439783};}['updateCanv'+'asSize'](){var _0xa35ca3;if(!(!this['_allowResi'+'ze']||(_0xa35ca3=this['xr'])!=null&&_0xa35ca3['active'])&&this['_resolutio'+'nMode']===H_){const _0x5361c5=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x5361c5['clientWidt'+'h'],_0x5361c5['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(0xd0c+0x1*0xf0d+-0x1c19),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x2c9945){let _0x3b52f3;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x5f92e8,_0x3aeb15,_0x3a67b1]=_0x2c9945['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x5f92e8,_0x3aeb15,_0x3a67b1);}this['scene']['applySetti'+'ngs'](_0x2c9945),_0x2c9945['render']['hasOwnProp'+'erty']('skybox')&&(_0x2c9945['render']['skybox']?(_0x3b52f3=this['assets']['get'](_0x2c9945['render']['skybox']),_0x3b52f3?this['setSkybox'](_0x3b52f3):this['assets']['once']('add:'+_0x2c9945['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x2433b4,_0x2bdf5a){_0x2433b4&&_0x2bdf5a?qr['set'](this['graphicsDe'+'vice'],_0x2433b4,_0x2bdf5a):b['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x539011){if(_0x539011!==this['_skyboxAss'+'et']){const _0x41a2f0=()=>{this['setSkybox'](null);},_0x57caee=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x57caee,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x41a2f0,this),this['_skyboxAss'+'et']['off']('change',_0x57caee,this)),this['_skyboxAss'+'et']=_0x539011,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x57caee,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x41a2f0,this),this['_skyboxAss'+'et']['on']('change',_0x57caee,this),this['scene']['skyboxMip']===-0x23e9*0x1+-0x153*-0x19+0x2*0x167&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0x1*-0xb23+0x498+0x1*-0xfbb)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x57caee();}}['_firstBake'](){var _0x356085;(_0x356085=this['lightmappe'+'r'])==null||_0x356085['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x13c411;(_0x13c411=this['batcher'])==null||_0x13c411['generate']();}['_processTi'+'mestamp'](_0x52eadb){return _0x52eadb;}['drawLine'](_0x237ed5,_0x479ec0,_0x28da24,_0x6a04d9,_0x2aea48){this['scene']['drawLine'](_0x237ed5,_0x479ec0,_0x28da24,_0x6a04d9,_0x2aea48);}['drawLines'](_0x484eb2,_0x2607d6,_0x1ec4a6=!(-0x1043+-0x69f*-0x2+-0x1*-0x305),_0x2b25ad=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x484eb2,_0x2607d6,_0x1ec4a6,_0x2b25ad);}['drawLineAr'+'rays'](_0x5780f9,_0x5a4f4e,_0xf13ee2=!(0x168e*-0x1+0x13de+0x2b0),_0x2c46bf=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x5780f9,_0x5a4f4e,_0xf13ee2,_0x2c46bf);}['drawWireSp'+'here'](_0x46c6fb,_0x2dad99,_0x51ddfd=Y['WHITE'],_0x3499d3=0xd2e+0x13*0x1fa+-0x32a8,_0xcb38e3=!(0x1875+-0x1*0x1675+-0x200),_0x10991f=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x46c6fb,_0x2dad99,_0x51ddfd,_0x3499d3,_0xcb38e3,_0x10991f);}['drawWireAl'+'ignedBox'](_0xf53be0,_0x31461c,_0x4407c8=Y['WHITE'],_0x5ca75a=!(0x1*-0x47+0x1a5f+0x29c*-0xa),_0x21c305=this['scene']['defaultDra'+'wLayer'],_0x814a4d){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0xf53be0,_0x31461c,_0x4407c8,_0x5ca75a,_0x21c305,_0x814a4d);}['drawMeshIn'+'stance'](_0x28d81,_0x4f53e1=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x28d81,_0x4f53e1);}['drawMesh'](_0x1aac5f,_0x16659c,_0x1531a2,_0x522fc5=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x16659c,_0x1531a2,_0x1aac5f,null,_0x522fc5);}['drawQuad'](_0x299315,_0x128986,_0x452705=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x128986,_0x299315,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x452705);}['drawTextur'+'e'](_0x9f2be7,_0x17ff09,_0x380188,_0x1967d7,_0x276f57,_0x190a9f,_0x3851d3=this['scene']['defaultDra'+'wLayer'],_0xd3994a=!(0x214*-0x5+-0xeb3*0x1+0x1917)){if(_0xd3994a===!(0x1791+-0xc13+-0xb7d)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x3ea5d2=new q();_0x3ea5d2['setTRS'](new A(_0x9f2be7,_0x17ff09,0x1787+0x1*-0x258d+-0x2*-0x703),ie['IDENTITY'],new A(_0x380188,-_0x1967d7,-0x20e*0x1+0x1*-0xf3e+0x114c)),_0x190a9f||(_0x190a9f=new La(),_0x190a9f['cull']=vt,_0x190a9f['setParamet'+'er']('colorMap',_0x276f57),_0x190a9f['shaderDesc']=_0xd3994a?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x276f57['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x190a9f['update']()),this['drawQuad'](_0x3ea5d2,_0x190a9f,_0x3851d3);}['drawDepthT'+'exture'](_0x10f272,_0x2d4c96,_0x553693,_0x43a314,_0x255dfc=this['scene']['defaultDra'+'wLayer']){const _0x55e543=new La();_0x55e543['cull']=vt,_0x55e543['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x55e543['update'](),this['drawTextur'+'e'](_0x10f272,_0x2d4c96,_0x553693,_0x43a314,null,_0x55e543,_0x255dfc);}['destroy'](){var _0x113fc2,_0x1bf28f,_0x2f11e4,_0x131b78;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0x1e73+0x8ee+-0x1585*-0x1);return;}const _0x4bfe79=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x73f+-0x1e1b+0x16dd)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0xb7*0x28+0x131b+0x1b*0x5a)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x125f+-0x1cbf+0x2f1f)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0xee*0x3+0x14b*-0xe+0x14e5))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x59f886=this['assets']['list']();for(let _0x151522=0x9*-0x1df+0x11*0x44+-0x1*-0xc53;_0x151522<_0x59f886['length'];_0x151522++)_0x59f886[_0x151522]['unload'](),_0x59f886[_0x151522]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x5f536a=this['loader']['getHandler']('script');_0x5f536a==null||_0x5f536a['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x113fc2=this['lightmappe'+'r'])==null||_0x113fc2['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x1bf28f=this['xr'])==null||_0x1bf28f['end'](),(_0x2f11e4=this['xr'])==null||_0x2f11e4['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x131b78=this['_soundMana'+'ger'])==null||_0x131b78['destroy'](),this['_soundMana'+'ger']=null,Hr['_applicati'+'ons'][_0x4bfe79]=null,sn()===this&&Ku(null),Hr['cancelTick'](this);}static['cancelTick'](_0x512044){_0x512044['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x512044['frameReque'+'stId']),_0x512044['frameReque'+'stId']=void(-0x32d*-0x1+-0x1225*-0x1+-0x1552));}['getEntityF'+'romIndex'](_0x30b9ae){return this['_entityInd'+'ex'][_0x30b9ae];}['_registerS'+'ceneImmedi'+'ate'](_0x4f2583){this['on']('postrender',_0x4f2583['immediate']['onPostRend'+'er'],_0x4f2583['immediate']);}};c(Hr,'_applicati'+'ons',{});let Zh=Hr;const Qd={},pP=function(_0x540326){const _0x2cb22c=_0x540326;return function(_0x154c23,_0x33c8d1){var _0x5da086,_0x24cc70,_0x362330,_0x38e651;if(!_0x2cb22c['graphicsDe'+'vice'])return;_0x2cb22c['frameReque'+'stId']&&((_0x24cc70=(_0x5da086=_0x2cb22c['xr'])==null?void(0x2075+-0x34*0x4c+-0x1105):_0x5da086['session'])==null||_0x24cc70['cancelAnim'+'ationFrame'](_0x2cb22c['frameReque'+'stId']),cancelAnimationFrame(_0x2cb22c['frameReque'+'stId']),_0x2cb22c['frameReque'+'stId']=null),_0x2cb22c['_inFrameUp'+'date']=!(-0x1537+0x30*0x8+0x7*0x2d1),Ku(_0x2cb22c);const _0x47f9d2=_0x2cb22c['_processTi'+'mestamp'](_0x154c23)||ae(),_0x5465d8=_0x47f9d2-(_0x2cb22c['_time']||_0x47f9d2);let _0x43613f=_0x5465d8/(-0x187f+0x1*-0x44b+0x20b2);if(_0x43613f=z['clamp'](_0x43613f,0x21b3+0x1*0x1267+-0x341a,_0x2cb22c['maxDeltaTi'+'me']),_0x43613f*=_0x2cb22c['timeScale'],_0x2cb22c['_time']=_0x47f9d2,(_0x362330=_0x2cb22c['xr'])!=null&&_0x362330['session']?_0x2cb22c['frameReque'+'stId']=_0x2cb22c['xr']['session']['requestAni'+'mationFram'+'e'](_0x2cb22c['tick']):_0x2cb22c['frameReque'+'stId']=be['browser']||be['worker']?requestAnimationFrame(_0x2cb22c['tick']):null,_0x2cb22c['graphicsDe'+'vice']['contextLos'+'t'])return;_0x2cb22c['_fillFrame'+'StatsBasic'](_0x47f9d2,_0x43613f,_0x5465d8),_0x2cb22c['_fillFrame'+'Stats'](),_0x2cb22c['fire']('frameupdat'+'e',_0x5465d8);let _0xe2a91b=!(0x1*-0x1c91+-0x20d3+0x3d64);_0x33c8d1?(_0xe2a91b=(_0x38e651=_0x2cb22c['xr'])==null?void(0x421*0x9+-0x1ca6+-0x883):_0x38e651['update'](_0x33c8d1),_0x2cb22c['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x33c8d1['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x2cb22c['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0xe2a91b&&(b['trace'](jx,'----\x20Frame'+'\x20'+_0x2cb22c['frame']),b['trace'](nd,'--\x20UpdateS'+'tart\x20'+ae()['toFixed'](0x4f4*-0x7+-0x3e9*-0x7+0x74f*0x1)+'ms'),_0x2cb22c['update'](_0x43613f),_0x2cb22c['fire']('framerende'+'r'),(_0x2cb22c['autoRender']||_0x2cb22c['renderNext'+'Frame'])&&(b['trace'](nd,'--\x20RenderS'+'tart\x20'+ae()['toFixed'](0x244+-0x836*-0x2+-0x63a*0x3)+'ms'),_0x2cb22c['updateCanv'+'asSize'](),_0x2cb22c['frameStart'](),_0x2cb22c['render'](),_0x2cb22c['frameEnd'](),_0x2cb22c['renderNext'+'Frame']=!(-0x131c*-0x2+-0x355*0x3+-0x2a*0xac),b['trace'](nd,'--\x20RenderE'+'nd\x20'+ae()['toFixed'](0x162*0x11+0x5*0x2f6+-0x1*0x264e)+'ms')),Qd['timestamp']=ae(),Qd['target']=_0x2cb22c,_0x2cb22c['fire']('frameend',Qd)),_0x2cb22c['_inFrameUp'+'date']=!(0x18c3+0x97*-0x1c+-0x83e),_0x2cb22c['_destroyRe'+'quested']&&_0x2cb22c['destroy']();};};class mP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const so=new Bf();class $0{constructor(_0x1f5710,_0x518044,_0x5a6521){this['scene']=_0x1f5710,this['light']=_0x518044,this['store'](),_0x518044['numCascade'+'s']=-0xf45*-0x2+-0x1c11+-0x278,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x518044['castShadow'+'s']=_0x518044['bakeShadow'+'s']&&_0x5a6521['shadowsEna'+'bled']),_0x518044['type']!==le&&(_0x518044['_node']['getWorldTr'+'ansform'](),_0x518044['getBoundin'+'gSphere'](so),this['lightBound'+'s']=new ve(),this['lightBound'+'s']['center']['copy'](so['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](so['radius'],so['radius'],so['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x591cd1=this['light'];_0x591cd1['mask']=this['mask'],_0x591cd1['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x591cd1['enabled']=this['enabled'],_0x591cd1['intensity']=this['intensity'],_0x591cd1['_node']['setLocalRo'+'tation'](this['rotation']),_0x591cd1['numCascade'+'s']=this['numCascade'+'s'],_0x591cd1['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x1d*0xdb+-0x354+-0x157b),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x5e424c){const _0x491284=this['light'];_0x491284['enabled']=!(-0x53*0x51+0x1c30+-0x2*0xf6),_0x491284['shadowMap']&&(_0x491284['shadowMap']['cached']&&_0x5e424c['add'](_0x491284,_0x491284['shadowMap']),_0x491284['shadowMap']=null);}}const jl=new W();class _P extends $0{constructor(_0x1a4a9b,_0xd357c3){super(_0x1a4a9b['scene'],_0xd357c3,_0x1a4a9b['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===le?this['light']['bakeNumSam'+'ples']:-0x4*-0x21a+-0x23d0+0x1b69;}['prepareVir'+'tualLight'](_0x2a4622,_0x2d7296){const _0x4dc257=this['light'];if(_0x4dc257['_node']['setLocalRo'+'tation'](this['rotation']),_0x2a4622>-0x2251+-0x142b+0x367c){const _0x19b3df=_0x4dc257['bakeArea'];ul['circlePoin'+'tDetermini'+'stic'](jl,_0x2a4622,_0x2d7296),jl['mulScalar'](_0x19b3df*(0x101*0x19+-0x270f+0xdf6+0.5)),_0x4dc257['_node']['rotateLoca'+'l'](jl['x'],0x19e5+0xb29+-0x250e,jl['y']);}_0x4dc257['_node']['getWorldTr'+'ansform']();const _0x301222=0x732+0x2281+-0x29b1*0x1+0.20000000000000018,_0x3ef1c6=Math['pow'](this['intensity'],_0x301222);_0x4dc257['intensity']=Math['pow'](_0x3ef1c6/_0x2d7296,(-0x2*-0x12af+0x1*0xc31+-0x318e)/_0x301222);}}const j_=new A();class Y_ extends $0{constructor(_0x4490df){const _0x2e7cc6=_0x4490df['scene'],_0x135d41=new je('AmbientLig'+'ht');_0x135d41['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x31d+-0xc25*-0x3+-0x2152),'affectLightmapped':!(-0x1425+-0xb03+0x1f29),'bake':!(-0x1*0x211+0x1adc+0x18cb*-0x1),'bakeNumSamples':_0x2e7cc6['ambientBak'+'eNumSample'+'s'],'castShadows':!(0xbee+0x24ae+-0x7a*0x66),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':zt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(0x11*-0x18c+-0xd41*-0x2+0x1*-0x35)}),super(_0x2e7cc6,_0x135d41['light']['light'],_0x4490df['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x59ba5d,_0x113624){ul['spherePoin'+'tDetermini'+'stic'](j_,_0x59ba5d,_0x113624,-0x1*0xba7+0x23eb+-0x1844,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](j_['mulScalar'](-(0xc54+-0x162d+0xc2*0xd))),this['light']['_node']['rotateLoca'+'l'](0x1486+0x1*0x890+-0x265*0xc,-0x1dee*-0x1+0x128c+-0x307a,0x1dfe+0xd96+-0x15ca*0x2);const _0x147c87=0x1412+-0x3*0x4cd+-0x1e3*0x3+0.20000000000000018,_0x1b1296=(-0x2*0xd46+-0x231b+0x7*0x8cf)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x4a427d=Math['pow'](_0x1b1296,_0x147c87);this['light']['intensity']=Math['pow'](_0x4a427d/_0x113624,(-0x254e+-0xc82*-0x1+-0x7*-0x38b)/_0x147c87);}}class Yl{constructor(_0x2bdd13,_0x366517=null){this['node']=_0x2bdd13,this['component']=_0x2bdd13['render']||_0x2bdd13['model'],_0x366517=_0x366517||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x366517,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const K_=-0x466+0x1f*-0x5e+-0x5*-0x32b;class gP{constructor(_0x4e5a8e){this['device']=_0x4e5a8e,this['shaderDila'+'te']=Bs(_0x4e5a8e,j['fullscreen'+'QuadVS'],Ao['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0x4e5a8e['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x4e5a8e['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x21b*-0x7+0x1caf*-0x1+0xdf4),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x4a82c2){this['constantTe'+'xSource']['setValue'](_0x4a82c2);}['prepare'](_0x4b1c81,_0x4388bf){this['pixelOffse'+'t'][0xa1b+-0x1ab*-0xb+-0x1c74*0x1]=(0xf62+0xa5*0x39+0x772*-0x7)/_0x4b1c81,this['pixelOffse'+'t'][-0x1*-0x6f1+0x1ff+-0x8ef*0x1]=(0x1*0x781+-0xd03+-0x583*-0x1)/_0x4388bf,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x174057,_0x86cdd7,_0x145135){const _0x3da44f=_0x145135?0x17*0x23+0x1853+-0x1b78:0x2bf+-0x13b5+0x65*0x2b;if(!this['shaderDeno'+'ise'][_0x3da44f]){const _0x3dfce1='lmBilatera'+'lDeNoise-'+(_0x145135?'hdr':'rgbm'),_0x523cc7=_0x145135?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x3da44f]=Bs(this['device'],j['fullscreen'+'QuadVS'],_0x523cc7+Ao['bilateralD'+'eNoisePS'],_0x3dfce1),this['sigmas']=new Float32Array(0x164d+-0x1121*-0x1+-0x276c),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x1254+-0xeb*-0x27+-0x1179]=_0x174057,this['sigmas'][-0xd42+0x17*0x77+-0x2f*-0xe]=_0x86cdd7,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x174057,_0x86cdd7);}['getDenoise'](_0x5750cc){const _0xaca9f=_0x5750cc?-0x2*0x835+0x12c*0x14+0x3e*-0x1d:-0xa63+-0x1*0x2087+0x2aeb;return this['shaderDeno'+'ise'][_0xaca9f];}['getDilate'](_0x550834,_0x5cbadb){const _0x45e799=_0x5cbadb?0x82b+-0x1f75+0x174a:-0x56b+0x1545+0xfd9*-0x1;if(!this['shaderDila'+'te'][_0x45e799]){const _0x23ed75='lmDilate-'+(_0x5cbadb?'hdr':'rgbm'),_0x391334=_0x5cbadb?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x45e799]=Bs(_0x550834,j['fullscreen'+'QuadVS'],_0x391334+Ao['dilatePS'],_0x23ed75);}return this['shaderDila'+'te'][_0x45e799];}['evaluateDe'+'noiseUnifo'+'rms'](_0x54706e,_0x5019e4){function _0x2665ff(_0x125677,_0x4824cf){return(-0x269a+0x1dfb+0x89f*0x1+0.39894)*Math['exp'](-(-0x51d*0x4+-0x2*0x1d9+0x1826+0.5)*_0x125677*_0x125677/(_0x4824cf*_0x4824cf))/_0x4824cf;}this['kernel']=this['kernel']||new Float32Array(K_);const _0x447955=this['kernel'],_0x4e314f=Math['floor']((K_-(-0xc9*-0x24+-0x2411+0x7ce))/(-0x41+-0x4d5+0x518));for(let _0x308028=-0x239a+-0xf5a+0x32f4;_0x308028<=_0x4e314f;++_0x308028){const _0x40c554=_0x2665ff(_0x308028,_0x54706e);_0x447955[_0x4e314f+_0x308028]=_0x40c554,_0x447955[_0x4e314f-_0x308028]=_0x40c554;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x21781b=(-0x86f+-0x11*-0xf1+0x95*-0xd)/_0x2665ff(0x2*-0x119b+0x296+0x15c*0x18,_0x5019e4);this['bZnorm']['setValue'](_0x21781b);}}class yP extends gs{constructor(_0x48a46f,_0x229e6f,_0x195b5e,_0x2ffcc5,_0x249eb7,_0x1ae881){super(_0x48a46f),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x229e6f,this['camera']=_0x195b5e,this['worldClust'+'ers']=_0x2ffcc5,this['receivers']=_0x249eb7,this['lightArray']=_0x1ae881);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x42376e=>{_0x42376e['defaultUni'+'formBuffer']['destroy'](),_0x42376e['destroy']();}),this['viewBindGr'+'oups']['length']=0xc77+-0x11fb+-0x2c2*-0x2;}['execute'](){const _0x38926e=this['device'];G['pushGpuMar'+'ker'](_0x38926e,'Lightmappe'+'r');const {renderer:_0x2418a7,camera:_0x3f9461,receivers:_0x5ebb48,renderTarget:_0x5bd794,worldClusters:_0x38e3c2,lightArray:_0x588907}=this;_0x2418a7['renderForw'+'ardLayer'](_0x3f9461,_0x5bd794,null,void(0x12d1+0x1834+0x2b05*-0x1),xn,this['viewBindGr'+'oups'],{'meshInstances':_0x5ebb48,'splitLights':_0x588907,'lightClusters':_0x38e3c2}),G['popGpuMark'+'er'](_0x38926e);}}const xP=0x64e*0x1+0x2*-0xebf+-0xf98*-0x2,SP=-0x2e7*-0x3+-0x21*0x93+0xa3e,vP=-0x6c9*-0x3+0x748+-0x1ba2,Kl=new A();class bP{constructor(_0x33b9f1,_0x18116a,_0x336eb2,_0x48a07b,_0x25cdee){this['device']=_0x33b9f1,this['root']=_0x18116a,this['scene']=_0x336eb2,this['renderer']=_0x48a07b,this['assets']=_0x25cdee,this['shadowMapC'+'ache']=_0x48a07b['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x1cc4+0x2*-0xaba+-0x74f),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x3c1985;Ai['decRef'](this['blackTex']),this['blackTex']=null,Ai['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x3c1985=this['camera'])==null||_0x3c1985['destroy'](),this['camera']=null;}['initBake'](_0xf85a33){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Te,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0xbcc+-0x1*0x88f+0x33d*-0x1),this['lightmapFi'+'lters']=new gP(_0xf85a33),this['constantBa'+'keDir']=_0xf85a33['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new ce(this['device'],{'width':0x4,'height':0x4,'format':Te,'type':ln,'name':'lightmapBl'+'ack'}),Ai['incRef'](this['blackTex']);const _0x1f5097=new dl();_0x1f5097['clearColor']['set'](0x12a7+-0x2b7*0x3+-0xa82,0x284*0x7+0x4*0x3fa+-0x2c*0xc3,-0x9c3+-0x42a+-0x2c9*-0x5,-0x106a+0xd45+0xa1*0x5),_0x1f5097['clearColor'+'Buffer']=!(-0xdd*0x1a+-0x6*0x2d4+0xa*0x3f1),_0x1f5097['clearDepth'+'Buffer']=!(-0x3*-0x8c3+0x1b25+0x61*-0x8d),_0x1f5097['clearStenc'+'ilBuffer']=!(-0x2*0x5fb+-0x83f*0x1+0x1436),_0x1f5097['frustumCul'+'ling']=!(-0x3ff*-0x3+0x1e2f+-0x2a2b),_0x1f5097['projection']=pa,_0x1f5097['aspectRati'+'o']=0xcd1+-0x833+-0x49d,_0x1f5097['node']=new Oe(),this['camera']=_0x1f5097,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=al,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Pp;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x30d05a=new F0(_0xf85a33['supportsAr'+'eaLights'],_0xf85a33['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x30d05a;const _0x158197=this['scene']['lighting'];_0x30d05a['shadowsEna'+'bled']=_0x158197['shadowsEna'+'bled'],_0x30d05a['shadowAtla'+'sResolutio'+'n']=_0x158197['shadowAtla'+'sResolutio'+'n'],_0x30d05a['cookiesEna'+'bled']=_0x158197['cookiesEna'+'bled'],_0x30d05a['cookieAtla'+'sResolutio'+'n']=_0x158197['cookieAtla'+'sResolutio'+'n'],_0x30d05a['areaLights'+'Enabled']=_0x158197['areaLights'+'Enabled'],_0x30d05a['cells']=new A(-0x1d4c*0x1+-0x30*0xce+0xbb*0x5d,0x12e7+-0x10de+0x1*-0x206,-0xb0+0x29e*0xa+-0x1979*0x1),_0x30d05a['maxLightsP'+'erCell']=-0x3da*-0x9+-0x3*0xba1+-0x1*-0x3d,this['worldClust'+'ers']=new Hu(_0xf85a33),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x3b5785){this['materials']=[];function _0x338132(_0x5d1c15){Ai['decRef'](_0x5d1c15['colorBuffe'+'r']),_0x5d1c15['destroy']();}this['renderTarg'+'ets']['forEach'](_0x399412=>{_0x338132(_0x399412);}),this['renderTarg'+'ets']['clear'](),_0x3b5785['forEach'](_0x4e4122=>{_0x4e4122['renderTarg'+'ets']['forEach'](_0x25585c=>{_0x338132(_0x25585c);}),_0x4e4122['renderTarg'+'ets']['length']=-0x7*-0x2e+0x63a+-0x2*0x3be;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x2bf009,_0xac7b51,_0x34d448,_0x3cee9a){const _0x468c44=new _s();_0x468c44['name']='lmMaterial'+'-pass:'+_0x34d448+'-ambient:'+_0x3cee9a,_0x468c44['chunks']['APIVersion']=pi;const _0x5cf466='#define\x20UV'+'1LAYOUT\x0a';if(_0x468c44['chunks']['transformV'+'S']=_0x5cf466+j['transformV'+'S'],_0x34d448===SP){let _0x512f84=Ao['bakeLmEndP'+'S'];_0x3cee9a?_0x512f84='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0xac7b51['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](0x30a*0x2+-0x6*0x67a+-0xb*-0x2fb)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0xac7b51['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](0xe7d+0x1c1*-0x1+-0x1*0xcbb)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x512f84:_0x468c44['ambient']=new Y(0x34*-0x3d+-0x20f3+0x2d57,0x16f*0x7+-0x6d4+0x1*-0x335,0x56b*0x3+-0x1fa9*0x1+0x74*0x22),_0x468c44['chunks']['basePS']=j['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x468c44['chunks']['endPS']=_0x512f84,_0x468c44['lightMap']=this['blackTex'];}else _0x468c44['chunks']['basePS']=j['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x468c44['chunks']['endPS']=Ao['bakeDirLmE'+'ndPS'];return _0x468c44['chunks']['outputAlph'+'aPS']='\x0a',_0x468c44['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x468c44['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x468c44['cull']=vt,_0x468c44['forceUv1']=!(0x19f+-0x1*-0xd2a+-0xec9),_0x468c44['update'](),_0x468c44;}['createMate'+'rials'](_0xc04125,_0x578c7a,_0x4167f9){for(let _0x3e25fc=0x6cb+0xef2*-0x1+0x1*0x827;_0x3e25fc<_0x4167f9;_0x3e25fc++)this['passMateri'+'als'][_0x3e25fc]||(this['passMateri'+'als'][_0x3e25fc]=this['createMate'+'rialForPas'+'s'](_0xc04125,_0x578c7a,_0x3e25fc,!(0x1*-0x3fb+0x961*-0x2+0x16be)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0xc04125,_0x578c7a,0x17f*0x10+-0x61f*-0x2+0x2*-0x1217,!(0x1f64+0x1a32+-0x3996)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x2ba3e6){return _0x2ba3e6['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x25c0+-0xd*-0x201+-0x3fcd),_0x2ba3e6['litOptions']['separateAm'+'bient']=!(0x1*-0xcc2+0x10d+0xbb5),_0x2ba3e6;});}['createText'+'ure'](_0x4e3aab,_0xd1c0ab){return new ce(this['device'],{'profilerHint':Oy,'width':_0x4e3aab,'height':_0x4e3aab,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0x5b1+-0x182a+0x1ddc),'type':this['bakeHDR']?Bi:ln,'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe,'name':_0xd1c0ab});}['collectMod'+'els'](_0x4226b8,_0xd33787,_0x254c20){var _0x17e77e,_0xfec33a,_0x4b3445;if(!_0x4226b8['enabled'])return;let _0x472fc8;if((_0x17e77e=_0x4226b8['model'])!=null&&_0x17e77e['model']&&((_0xfec33a=_0x4226b8['model'])!=null&&_0xfec33a['enabled'])&&(_0x254c20&&_0x254c20['push'](new Yl(_0x4226b8)),_0x4226b8['model']['lightmappe'+'d']&&_0xd33787&&(_0x472fc8=_0x4226b8['model']['model']['meshInstan'+'ces'])),(_0x4b3445=_0x4226b8['render'])!=null&&_0x4b3445['enabled']&&(_0x254c20&&_0x254c20['push'](new Yl(_0x4226b8)),_0x4226b8['render']['lightmappe'+'d']&&_0xd33787&&(_0x472fc8=_0x4226b8['render']['meshInstan'+'ces'])),_0x472fc8){let _0xbfee4a=!(-0x2052+-0x1094+0x30e6*0x1);for(let _0x485452=0x2397*-0x1+0x217*0x9+0x10c8;_0x485452<_0x472fc8['length'];_0x485452++)if(!_0x472fc8[_0x485452]['mesh']['vertexBuff'+'er']['format']['hasUv1']){b['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x4226b8['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0xbfee4a=!(-0x17cc+0x185d*-0x1+0x2d*0x112);break;}if(_0xbfee4a){const _0x434b58=[];for(let _0x135a66=0x1a7f+0x1742+-0x2f*0x10f;_0x135a66<_0x472fc8['length'];_0x135a66++){const _0x6bd40c=_0x472fc8[_0x135a66]['mesh'];this['_tempSet']['has'](_0x6bd40c)?_0xd33787['push'](new Yl(_0x4226b8,[_0x472fc8[_0x135a66]])):_0x434b58['push'](_0x472fc8[_0x135a66]),this['_tempSet']['add'](_0x6bd40c);}this['_tempSet']['clear'](),_0x434b58['length']>0x3*-0xcc5+-0x2468*-0x1+0x1e7&&_0xd33787['push'](new Yl(_0x4226b8,_0x434b58));}}for(let _0x18394a=0x3*0x3a+0x169c+0x1*-0x174a;_0x18394a<_0x4226b8['_children']['length'];_0x18394a++)this['collectMod'+'els'](_0x4226b8['_children'][_0x18394a],_0xd33787,_0x254c20);}['prepareSha'+'dowCasters'](_0x293ab6){const _0x2b86cf=[];for(let _0x257e6b=0xfe7+-0x2*0xc75+0x903;_0x257e6b<_0x293ab6['length'];_0x257e6b++){const _0x958b17=_0x293ab6[_0x257e6b]['component'];if(_0x958b17['castShadow'+'s']=_0x958b17['castShadow'+'sLightmap'],_0x958b17['castShadow'+'sLightmap']){const _0x2ff35c=_0x293ab6[_0x257e6b]['meshInstan'+'ces'];for(let _0x221f8d=-0x32b*-0xa+-0x1be6+0x58*-0xb;_0x221f8d<_0x2ff35c['length'];_0x221f8d++)_0x2ff35c[_0x221f8d]['visibleThi'+'sFrame']=!(-0x1753*-0x1+0xece+-0x2621),_0x2b86cf['push'](_0x2ff35c[_0x221f8d]);}}return _0x2b86cf;}['updateTran'+'sforms'](_0x4081f4){for(let _0x587c8f=0x127c+0xf03+-0x217f;_0x587c8f<_0x4081f4['length'];_0x587c8f++){const _0x4ba498=_0x4081f4[_0x587c8f]['meshInstan'+'ces'];for(let _0x155b40=0x170b+0xc0c+0xd*-0x2b3;_0x155b40<_0x4ba498['length'];_0x155b40++)_0x4ba498[_0x155b40]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x177500){let _0x20d574;const _0x5f4734=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x1*0x207b+-0x11*0x107+0x3a*-0x42,_0x1992e1=Kl;let _0x31deb5,_0x21f3c9;_0x177500['model']?(_0x21f3c9=_0x177500['model']['lightmapSi'+'zeMultipli'+'er'],_0x177500['model']['asset']?(_0x20d574=this['assets']['get'](_0x177500['model']['asset'])['data'],_0x20d574['area']&&(_0x31deb5=_0x20d574['area'])):_0x177500['model']['_area']&&(_0x20d574=_0x177500['model'],_0x20d574['_area']&&(_0x31deb5=_0x20d574['_area']))):_0x177500['render']&&(_0x21f3c9=_0x177500['render']['lightmapSi'+'zeMultipli'+'er'],_0x177500['render']['type']!=='asset'&&_0x177500['render']['_area']&&(_0x20d574=_0x177500['render'],_0x20d574['_area']&&(_0x31deb5=_0x20d574['_area'])));const _0x2309b6={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x31deb5&&(_0x2309b6['x']=_0x31deb5['x'],_0x2309b6['y']=_0x31deb5['y'],_0x2309b6['z']=_0x31deb5['z'],_0x2309b6['uv']=_0x31deb5['uv']);const _0x580bc5=_0x21f3c9||-0x253d+0x8bb+0x1c83;_0x2309b6['x']*=_0x580bc5,_0x2309b6['y']*=_0x580bc5,_0x2309b6['z']*=_0x580bc5;const _0x209e1f=_0x177500['render']||_0x177500['model'],_0x18e8f3=this['computeNod'+'eBounds'](_0x209e1f['meshInstan'+'ces']);_0x1992e1['copy'](_0x18e8f3['halfExtent'+'s']);let _0x15c03b=_0x2309b6['x']*_0x1992e1['y']*_0x1992e1['z']+_0x2309b6['y']*_0x1992e1['x']*_0x1992e1['z']+_0x2309b6['z']*_0x1992e1['x']*_0x1992e1['y'];return _0x15c03b/=_0x2309b6['uv'],_0x15c03b=Math['sqrt'](_0x15c03b),Math['min'](z['nextPowerO'+'fTwo'](_0x15c03b*_0x5f4734),this['scene']['lightmapMa'+'xResolutio'+'n']||xP);}['setLightma'+'pping'](_0x5d131e,_0x1c2a22,_0x5b2603,_0xf54788){for(let _0x1422c2=0x25d8+0x16ed+-0x1*0x3cc5;_0x1422c2<_0x5d131e['length'];_0x1422c2++){const _0x1d38b9=_0x5d131e[_0x1422c2],_0x9e3a2b=_0x1d38b9['meshInstan'+'ces'];for(let _0x1dd225=-0x961*0x4+0x1656+0xf2e;_0x1dd225<_0x9e3a2b['length'];_0x1dd225++){const _0x181058=_0x9e3a2b[_0x1dd225];if(_0x181058['setLightma'+'pped'](_0x1c2a22),_0x1c2a22){_0xf54788&&(_0x181058['_shaderDef'+'s']|=_0xf54788),_0x181058['mask']=dr;for(let _0x437d99=0x4*-0x954+-0x164d+0x3b9d*0x1;_0x437d99<_0x5b2603;_0x437d99++){const _0x55a3bc=_0x1d38b9['renderTarg'+'ets'][_0x437d99]['colorBuffe'+'r'];_0x55a3bc['minFilter']=at,_0x55a3bc['magFilter']=at,_0x181058['setRealtim'+'eLightmap'](Be['lightmapPa'+'ramNames'][_0x437d99],_0x55a3bc);}}}}}['bake'](_0x30ceaf,_0x1d259c=mh){const _0x1a9280=this['device'],_0x41da20=ae();this['scene']['_updateSky'+'Mesh'](),_0x1a9280['fire']('lightmappe'+'r:start',{'timestamp':_0x41da20,'target':this}),this['stats']['renderPass'+'es']=0x1*0x3ef+0x1*-0x751+-0x2*-0x1b1,this['stats']['shadowMapT'+'ime']=0xe*-0x1e1+0x1313+-0x1*-0x73b,this['stats']['forwardTim'+'e']=0xf*0x4b+0x1c20+-0xe1*0x25;const _0x257290=_0x1a9280['_shaderSta'+'ts']['linked'],_0x87cb24=_0x1a9280['_renderTar'+'getCreatio'+'nTime'],_0x54e7ac=_0x1a9280['_shaderSta'+'ts']['compileTim'+'e'],_0x4eb931=[],_0xb34948=[];if(_0x30ceaf){for(let _0x37950c=-0x2cf*-0x4+0xb4d+-0x1689;_0x37950c<_0x30ceaf['length'];_0x37950c++)this['collectMod'+'els'](_0x30ceaf[_0x37950c],_0x4eb931,null);this['collectMod'+'els'](this['root'],null,_0xb34948);}else this['collectMod'+'els'](this['root'],_0x4eb931,_0xb34948);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x4eb931['length']>0x283*-0x9+-0x664+0x1cff){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x3f97b6=_0x1d259c===mh?0x1279*-0x2+-0x1f13+-0x2b*-0x195:0x919*-0x1+0x5*0x671+-0x171b;this['setLightma'+'pping'](_0x4eb931,!(0x2d7*0xd+0x1752*0x1+0xa*-0x606),_0x3f97b6),this['initBake'](_0x1a9280),this['bakeIntern'+'al'](_0x3f97b6,_0x4eb931,_0xb34948);let _0x5bed34=Nu;_0x1d259c===mh&&(_0x5bed34|=x0),this['scene']['ambientBak'+'e']&&(_0x5bed34|=S0),this['setLightma'+'pping'](_0x4eb931,!(0x4d*-0x37+-0xf0d+0xa88*0x3),_0x3f97b6,_0x5bed34),this['finishBake'](_0x4eb931);}G['popGpuMark'+'er'](this['device']);const _0x5f306c=ae();this['stats']['totalRende'+'rTime']=_0x5f306c-_0x41da20,this['stats']['shadersLin'+'ked']=_0x1a9280['_shaderSta'+'ts']['linked']-_0x257290,this['stats']['compileTim'+'e']=_0x1a9280['_shaderSta'+'ts']['compileTim'+'e']-_0x54e7ac,this['stats']['fboTime']=_0x1a9280['_renderTar'+'getCreatio'+'nTime']-_0x87cb24,this['stats']['lightmapCo'+'unt']=_0x4eb931['length'],_0x1a9280['fire']('lightmappe'+'r:end',{'timestamp':_0x5f306c,'target':this});}['allocateTe'+'xtures'](_0x3c3a59,_0x19a7f5){for(let _0x481ff1=0x103f+-0x42d+-0xc12;_0x481ff1<_0x3c3a59['length'];_0x481ff1++){const _0x1c844d=_0x3c3a59[_0x481ff1],_0x5c95b5=this['calculateL'+'ightmapSiz'+'e'](_0x1c844d['node']);for(let _0xabf1e7=-0x14b*0x13+0x1a0d+-0x17c;_0xabf1e7<_0x19a7f5;_0xabf1e7++){const _0x2d4fb3=this['createText'+'ure'](_0x5c95b5,'lightmappe'+'r_lightmap'+'_'+_0x481ff1);Ai['incRef'](_0x2d4fb3),_0x1c844d['renderTarg'+'ets'][_0xabf1e7]=new St({'colorBuffer':_0x2d4fb3,'depth':!(-0x7*0x383+0x2d7*-0xb+-0x1f*-0x1cd)});}if(!this['renderTarg'+'ets']['has'](_0x5c95b5)){const _0x6c1689=this['createText'+'ure'](_0x5c95b5,'lightmappe'+'r_temp_lig'+'htmap_'+_0x5c95b5);Ai['incRef'](_0x6c1689),this['renderTarg'+'ets']['set'](_0x5c95b5,new St({'colorBuffer':_0x6c1689,'depth':!(-0x7c0*-0x1+-0x2303+0x1b44)}));}}}['prepareLig'+'htsToBake'](_0x15f8bf,_0x86011c){if(this['scene']['ambientBak'+'e']){const _0x412f77=new Y_(this);_0x86011c['push'](_0x412f77);}const _0x36ae62=this['renderer']['lights'];for(let _0x15a847=0x1852+0x973+-0x13*0x1c7;_0x15a847<_0x36ae62['length'];_0x15a847++){const _0x249586=_0x36ae62[_0x15a847],_0xda4404=new _P(this,_0x249586);_0x15f8bf['push'](_0xda4404),_0x249586['enabled']&&(_0x249586['mask']&ar)!==0x9d9+-0x501+-0x4d8&&(_0x249586['mask']=ar|dr|ms,_0x249586['shadowUpda'+'teMode']=_0x249586['type']===le?Lp:un,_0x86011c['push'](_0xda4404));}_0x86011c['sort']();}['restoreLig'+'hts'](_0x2ebd5d){for(let _0x2b6521=0x1787+-0x248*0x10+-0x453*-0x3;_0x2b6521<_0x2ebd5d['length'];_0x2b6521++)_0x2ebd5d[_0x2b6521]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](-0x32*0x98+0xe1b*0x1+0xf95,0x2*0x871+0x176*0xd+-0x8f8*0x4,-0x3*-0x4ab+0xbff+-0x1a00*0x1),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x3b8f8a){const _0xb40b48=new ve();if(_0x3b8f8a['length']>0x1207+0x15c+-0x1363){_0xb40b48['copy'](_0x3b8f8a[0x1216+0x2073+-0x3289]['aabb']);for(let _0x183da7=0x103b+0x3a*0xa+0x12*-0x107;_0x183da7<_0x3b8f8a['length'];_0x183da7++)_0xb40b48['add'](_0x3b8f8a[_0x183da7]['aabb']);}return _0xb40b48;}['computeNod'+'esBounds'](_0xc4f3e9){for(let _0xd0440d=0xee9+0x12af*-0x1+-0x142*-0x3;_0xd0440d<_0xc4f3e9['length'];_0xd0440d++){const _0x577d37=_0xc4f3e9[_0xd0440d]['meshInstan'+'ces'];_0xc4f3e9[_0xd0440d]['bounds']=this['computeNod'+'eBounds'](_0x577d37);}}['computeBou'+'nds'](_0x3ce7b7){const _0x3c7d1d=new ve();for(let _0x305da7=-0x1d*0xc8+0x173c+-0x94;_0x305da7<_0x3ce7b7['length'];_0x305da7++){_0x3c7d1d['copy'](_0x3ce7b7[0xd00*-0x2+0x270*0xa+0x1a0]['aabb']);for(let _0x289324=-0x23cd+0x4*-0x82b+0xdb2*0x5;_0x289324<_0x3ce7b7['length'];_0x289324++)_0x3c7d1d['add'](_0x3ce7b7[_0x289324]['aabb']);}return _0x3c7d1d;}['backupMate'+'rials'](_0x56892e){for(let _0x2f0811=-0x1*0x1ec1+0x1*0x12b3+0xc0e;_0x2f0811<_0x56892e['length'];_0x2f0811++)this['materials'][_0x2f0811]=_0x56892e[_0x2f0811]['material'];}['restoreMat'+'erials'](_0x247b62){for(let _0x117c4c=0x2f8*-0xa+0x1e7+0x1bc9;_0x117c4c<_0x247b62['length'];_0x117c4c++)_0x247b62[_0x117c4c]['material']=this['materials'][_0x117c4c];}['lightCamer'+'aPrepare'](_0x200186,_0x7ca5ab){const _0x348db4=_0x7ca5ab['light'];let _0x48a777;return _0x348db4['type']===Fe&&(_0x48a777=_0x348db4['getRenderD'+'ata'](null,-0x6f1+0xe65+-0x1dd*0x4)['shadowCame'+'ra'],_0x48a777['_node']['setPositio'+'n'](_0x348db4['_node']['getPositio'+'n']()),_0x48a777['_node']['setRotatio'+'n'](_0x348db4['_node']['getRotatio'+'n']()),_0x48a777['_node']['rotateLoca'+'l'](-(-0x205b+0x1*0xabb+0x15fa),0x171*0xe+-0x1edb+0xaad,-0xd08+0x39*0x76+-0xd3e),_0x48a777['projection']=Xs,_0x48a777['nearClip']=_0x348db4['attenuatio'+'nEnd']/(0x1253+-0x1e63*-0x1+-0x2cce),_0x48a777['farClip']=_0x348db4['attenuatio'+'nEnd'],_0x48a777['aspectRati'+'o']=-0x1e59*0x1+-0x18cb+0x3725,_0x48a777['fov']=_0x348db4['_outerCone'+'Angle']*(-0x94a*0x1+-0x1*-0x6a+0x8e2),this['renderer']['updateCame'+'raFrustum'](_0x48a777)),_0x48a777;}['lightCamer'+'aPrepareAn'+'dCull'](_0x58751e,_0x5d17e3,_0x532693,_0x100623){const _0x549d47=_0x58751e['light'];let _0x5f118d=!(-0xb*-0x26b+0x126+-0x1bbf);if(_0x549d47['type']===le){Kl['copy'](_0x100623['center']),Kl['y']+=_0x100623['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](Kl),this['camera']['node']['setEulerAn'+'gles'](-(0x9b*-0x15+-0x1*-0xf45+0x11a*-0x2),0x1*0xe72+0x1*0x2457+-0x32c9,-0xa*0x37+0x1a4a+-0x1824),this['camera']['nearClip']=-0xb18+0x4*-0x544+-0x188*-0x15,this['camera']['farClip']=_0x100623['halfExtent'+'s']['y']*(-0x367*-0x1+0x1f28+-0x228d);const _0x372140=Math['max'](_0x100623['halfExtent'+'s']['x'],_0x100623['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x372140;}else _0x58751e['lightBound'+'s']['intersects'](_0x5d17e3['bounds'])||(_0x5f118d=!(-0xf9e+-0xcf4+-0xb*-0x299));if(_0x549d47['type']===Fe){let _0x3d9f7c=!(-0x1905+-0x4a4+0x1daa);const _0xd21a1e=_0x5d17e3['meshInstan'+'ces'];for(let _0x21fd8a=-0x26dc+-0x162f+0x3d0b;_0x21fd8a<_0xd21a1e['length'];_0x21fd8a++)if(_0xd21a1e[_0x21fd8a]['_isVisible'](_0x532693)){_0x3d9f7c=!(-0x2*-0x663+-0x152+-0xb74);break;}_0x3d9f7c||(_0x5f118d=!(0x1c9*0x8+0x10c9*-0x1+0x282*0x1));}return _0x5f118d;}['setupLight'+'Array'](_0x4836c0,_0x122e4b){_0x4836c0[le]['length']=0xf22+0x1*-0x1f76+0x1054,_0x4836c0[Le]['length']=0xa5a+-0x68d+-0x3cd,_0x4836c0[Fe]['length']=-0x62d+0x1020+-0x9f3,_0x4836c0[_0x122e4b['type']][0x5de*-0x6+-0x33*-0x42+0x160e]=_0x122e4b,_0x122e4b['visibleThi'+'sFrame']=!(-0x237d+-0xa8a+0x2e07);}['renderShad'+'owMap'](_0x44d26b,_0x390baf,_0x25d6b9,_0x56fcbf){const _0x9accad=_0x56fcbf['light'],_0x383187=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x551649=_0x9accad['castShadow'+'s']&&(!_0x383187||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x390baf&&_0x551649){if(!_0x9accad['shadowMap']&&!_0x383187&&(_0x9accad['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x9accad)),_0x9accad['type']===le){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x9accad,_0x44d26b,this['camera'],_0x25d6b9);const _0x147b2d=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x9accad,this['camera']);_0x147b2d==null||_0x147b2d['render']();}else{if(this['device']['isWebGPU'])return b['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(0xa6d+-0x1daa+0x19*0xc5);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x9accad,_0x44d26b,_0x25d6b9),this['renderer']['shadowRend'+'erer']['render'](_0x9accad,this['camera'],!(-0x513+-0xd04+0x1218));}}return!(0x8d*0x40+0xeab+-0x31eb);}['postproces'+'sTextures'](_0x15557c,_0x446f7e,_0x2158d0){const _0x16acc0=this['lightmapFi'+'lters']['getDilate'](_0x15557c,this['bakeHDR']);let _0x364e6b;const _0x157a59=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x157a59&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x364e6b=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x15557c['setBlendSt'+'ate'](bt['NOBLEND']),_0x15557c['setDepthSt'+'ate'](us['NODEPTH']),_0x15557c['setStencil'+'State'](null,null);for(let _0x45716e=-0xa18+-0x255d+0x2f75;_0x45716e<_0x446f7e['length'];_0x45716e++){const _0x402043=_0x446f7e[_0x45716e];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x45716e);for(let _0x3d7a70=-0x1*-0x1af+-0xa44+-0x1*-0x895;_0x3d7a70<_0x2158d0;_0x3d7a70++){const _0x1d5f58=_0x402043['renderTarg'+'ets'][_0x3d7a70],_0x2ff81a=_0x1d5f58['colorBuffe'+'r'],_0x4fe3f6=this['renderTarg'+'ets']['get'](_0x2ff81a['width']),_0x424657=_0x4fe3f6['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x2ff81a['width'],_0x2ff81a['height']);for(let _0xbb676e=-0x1e2a+0x1e50+-0x26;_0xbb676e<0x1*-0x3b8+-0x20b4+0x246d;_0xbb676e++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x2ff81a),fn(_0x15557c,_0x4fe3f6,_0x157a59&&_0x3d7a70===0x1412+0x105+-0x1517&&_0xbb676e===-0x1bf0+-0x1b*0xf1+0x1d*0x1d7?_0x364e6b:_0x16acc0),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x424657),fn(_0x15557c,_0x1d5f58,_0x16acc0);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x1bdb43,_0x1cfff6,_0x27d509){const _0x13ae37=this['scene'],_0x5f1449=_0x13ae37['layers'],_0x304d45=this['device'],_0x26fed2=_0x13ae37['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x304d45,_0x13ae37,_0x1bdb43),this['setupScene'](),_0x5f1449['_update'](),this['computeNod'+'esBounds'](_0x1cfff6),this['allocateTe'+'xtures'](_0x1cfff6,_0x1bdb43),this['renderer']['collectLig'+'hts'](_0x5f1449);const _0x5aec0c=[],_0x472724=[];this['prepareLig'+'htsToBake'](_0x5aec0c,_0x472724),this['updateTran'+'sforms'](_0x27d509);const _0x19c107=this['prepareSha'+'dowCasters'](_0x27d509);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x19c107),this['renderer']['gpuUpdate'](_0x19c107);const _0x14616b=this['computeBou'+'nds'](_0x19c107);let _0x9857a2,_0x47b513,_0x25e33a,_0x61db1c;for(_0x9857a2=-0x1c4d+-0x1*0x20f5+0x3d42;_0x9857a2<_0x1cfff6['length'];_0x9857a2++)for(_0x25e33a=_0x1cfff6[_0x9857a2]['meshInstan'+'ces'],_0x47b513=0x2593+0x15ff+0x32*-0x131;_0x47b513<_0x25e33a['length'];_0x47b513++)_0x61db1c=_0x25e33a[_0x47b513],_0x61db1c['setLightma'+'pped'](!(0x13*-0x204+-0x6a1+0x2cee)),_0x61db1c['mask']=ar,_0x61db1c['setRealtim'+'eLightmap'](Be['lightmapPa'+'ramNames'][-0x1*0x25a2+0x7*0x4c3+0x44d],this['blackTex']),_0x61db1c['setRealtim'+'eLightmap'](Be['lightmapPa'+'ramNames'][-0x1195*-0x1+0x1b0f+-0x2ca3],this['blackTex']);for(_0x47b513=0x24ac+0x2*0xaf9+-0x3*0x138a;_0x47b513<_0x472724['length'];_0x47b513++)_0x472724[_0x47b513]['light']['enabled']=!(-0x1d*0xe4+0xe1c*-0x2+0x360d);const _0x46df94=[[],[],[]];let _0x2f82d2,_0x82d2e4,_0x14e9ac=!(0x3*-0xaaf+0x2*-0x7f6+0x2ffa);for(_0x9857a2=0x215a+-0x935*0x2+-0xef0;_0x9857a2<_0x472724['length'];_0x9857a2++){const _0x54ef91=_0x472724[_0x9857a2],_0xbb65b=_0x54ef91 instanceof Y_,_0x22dac9=_0x54ef91['light']['type']===le;let _0xf388b5=_0x54ef91['numVirtual'+'Lights'];_0x1bdb43>-0x17f*0x6+-0x2496+0x2d91&&_0xf388b5>0x5c1+-0x16ed+-0x112d*-0x1&&_0x54ef91['light']['bakeDir']&&(_0xf388b5=-0x1b*0x75+-0x54b+0x11a3,b['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0xddb1cb=0x1a*0x5+0x1f6b+-0x1fed*0x1;_0xddb1cb<_0xf388b5;_0xddb1cb++){G['pushGpuMar'+'ker'](_0x304d45,'Light:'+_0x54ef91['light']['_node']['name']+':'+_0xddb1cb),_0xf388b5>0xcee*-0x2+0xb4+0x1929&&_0x54ef91['prepareVir'+'tualLight'](_0xddb1cb,_0xf388b5),_0x54ef91['startBake']();let _0x40b56e=!(0xb36+0x1*-0x268c+-0x3*-0x91d);const _0x586265=this['lightCamer'+'aPrepare'](_0x304d45,_0x54ef91);for(_0x82d2e4=0xc7*0x30+0x2f1+-0x2d*0xe5;_0x82d2e4<_0x1cfff6['length'];_0x82d2e4++){const _0x2ef74d=_0x1cfff6[_0x82d2e4];if(_0x25e33a=_0x2ef74d['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x54ef91,_0x2ef74d,_0x586265,_0x14616b))continue;this['setupLight'+'Array'](_0x46df94,_0x54ef91['light']);const _0x5b4505=_0x22dac9?[]:[_0x54ef91['light']];for(_0x26fed2&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x5b4505,this['lightingPa'+'rams']),_0x40b56e=this['renderShad'+'owMap'](_0x5f1449,_0x40b56e,_0x19c107,_0x54ef91),_0x26fed2&&this['worldClust'+'ers']['update'](_0x5b4505,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x25e33a),_0x2f82d2=-0x244d+-0x1*-0x1bd+0x2290;_0x2f82d2<_0x1bdb43&&!(_0x2f82d2>-0x324+0x5*-0x3c4+0x15f8&&_0xddb1cb>0x92*0x24+-0x3f5+-0x1093||_0xbb65b&&_0x2f82d2>0x1*-0x17e9+0x2252+0x29*-0x41);_0x2f82d2++){G['pushGpuMar'+'ker'](_0x304d45,'LMPass:'+_0x2f82d2);const _0x3c7291=_0x2ef74d['renderTarg'+'ets'][_0x2f82d2],_0x4b6612=_0x2ef74d['renderTarg'+'ets'][_0x2f82d2]['colorBuffe'+'r']['width'],_0x3ca039=this['renderTarg'+'ets']['get'](_0x4b6612),_0xd6dfeb=_0x3ca039['colorBuffe'+'r'];_0x2f82d2===0x1da6+0x1*0x8f+-0x1e35?_0x14e9ac=_0x13ae37['updateShad'+'ers']:_0x14e9ac&&(_0x13ae37['updateShad'+'ers']=!(0xf9a*-0x1+-0x25d8+0x3572));let _0x48c717=this['passMateri'+'als'][_0x2f82d2];for(_0xbb65b&&_0xddb1cb+(0xc16*0x1+0x21*-0x7f+0x3d*0x12)===_0xf388b5&&_0x2f82d2===-0xe6f+0x2378+-0x1509&&(_0x48c717=this['ambientAOM'+'aterial']),_0x47b513=0x140b+0x1141+0x4d*-0x7c;_0x47b513<_0x25e33a['length'];_0x47b513++)_0x25e33a[_0x47b513]['material']=_0x48c717;if(this['renderer']['updateShad'+'ers'](_0x25e33a),_0x2f82d2===vP&&this['constantBa'+'keDir']['setValue'](_0x54ef91['light']['bakeDir']?-0xd9f*-0x1+-0x2668+0x18ca:-0x2e*0x75+0x35*-0x80+-0xb*-0x452),_0x304d45['isWebGPU']){const _0x1120d3=new yP(_0x304d45,this['renderer'],this['camera'],_0x26fed2?this['worldClust'+'ers']:null,_0x25e33a,_0x46df94);_0x1120d3['init'](_0x3ca039),_0x1120d3['render'](),_0x1120d3['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x3ca039,!(0xc28+0xfc*0x15+-0x20d4)),_0x26fed2&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0x3c7*-0x3+-0x1c72+-0x111d*-0x1,this['renderer']['_shadowMap'+'Time']=0x1*-0xa3d+-0xcb0+0x16ed*0x1,this['renderer']['renderForw'+'ard'](this['camera'],_0x3ca039,_0x25e33a,_0x46df94,xn),_0x304d45['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x2ef74d['renderTarg'+'ets'][_0x2f82d2]=_0x3ca039,this['renderTarg'+'ets']['set'](_0x4b6612,_0x3c7291),_0x47b513=-0x1d6b+0x3*-0x8c3+0x9b*0x5c;_0x47b513<_0x25e33a['length'];_0x47b513++)_0x61db1c=_0x25e33a[_0x47b513],_0x61db1c['setRealtim'+'eLightmap'](Be['lightmapPa'+'ramNames'][_0x2f82d2],_0xd6dfeb),_0x61db1c['_shaderDef'+'s']|=Nu;G['popGpuMark'+'er'](_0x304d45);}this['restoreMat'+'erials'](_0x25e33a);}_0x54ef91['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x304d45);}}for(this['postproces'+'sTextures'](_0x304d45,_0x1cfff6,_0x1bdb43),_0x82d2e4=0xe23+0x182*0x6+-0x172f;_0x82d2e4<_0x27d509['length'];_0x82d2e4++)_0x27d509[_0x82d2e4]['restore']();this['restoreLig'+'hts'](_0x5aec0c),this['restoreSce'+'ne'](),_0x26fed2||this['shadowMapC'+'ache']['clear']();}}const uc=class uc extends de{constructor(_0x35b48f,_0x315040){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x35b48f,this['entity']=_0x315040,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x2007a3,_0x1433d6,_0xee159){this['fire']('set_'+_0x2007a3,_0x2007a3,_0x1433d6,_0xee159);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x4fc920,_0xbc3afb){_0xbc3afb['forEach'](_0x371b4d=>{const _0xc5aae2=typeof _0x371b4d=='object'?_0x371b4d['name']:_0x371b4d;Object['defineProp'+'erty'](_0x4fc920,_0xc5aae2,{'get':function(){return this['data'][_0xc5aae2];},'set':function(_0x412264){const _0x18de02=this['data'],_0x38326a=_0x18de02[_0xc5aae2];_0x18de02[_0xc5aae2]=_0x412264,this['fire']('set',_0xc5aae2,_0x38326a,_0x412264);},'configurable':!(-0x19b+-0x1453+-0xe*-0x191)});}),_0x4fc920['_accessors'+'Built']=!(0x884+-0x1e99*0x1+0x1*0x1615);}['buildAcces'+'sors'](_0xe2495e){uc['_buildAcce'+'ssors'](this,_0xe2495e);}['onSetEnabl'+'ed'](_0x1513e7,_0x393fc8,_0x26b607){_0x393fc8!==_0x26b607&&this['entity']['enabled']&&(_0x26b607?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x11188e=this['system']['store'][this['entity']['getGuid']()];return _0x11188e?_0x11188e['data']:null;}set['enabled'](_0x168930){}get['enabled'](){return!(0x127b+-0x7*-0x481+-0x3202*0x1);}};c(uc,'order',-0x178d+0x465+-0x4*-0x4ca);let pe=uc;class Qe extends de{constructor(_0x1c5dda){super(),this['app']=_0x1c5dda,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x84b5a6,_0x17aaf0={}){const _0x390a4c=new this['ComponentT'+'ype'](this,_0x84b5a6),_0x1f9312=new this['DataType']();return this['store'][_0x84b5a6['getGuid']()]={'entity':_0x84b5a6,'data':_0x1f9312},_0x84b5a6[this['id']]=_0x390a4c,_0x84b5a6['c'][this['id']]=_0x390a4c,this['initialize'+'ComponentD'+'ata'](_0x390a4c,_0x17aaf0,[]),this['fire']('add',_0x84b5a6,_0x390a4c),_0x390a4c;}['removeComp'+'onent'](_0x2f6543){const _0x25f8a8=this['id'],_0xb6aa54=this['store'][_0x2f6543['getGuid']()],_0x5c7a8c=_0x2f6543['c'][_0x25f8a8];_0x5c7a8c['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x2f6543,_0x5c7a8c),delete this['store'][_0x2f6543['getGuid']()],_0x2f6543[_0x25f8a8]=void(0x1f87+0x1f9b+-0x3f22),delete _0x2f6543['c'][_0x25f8a8],this['fire']('remove',_0x2f6543,_0xb6aa54['data']);}['cloneCompo'+'nent'](_0x166a24,_0x32065a){const _0x2e0c3a=this['store'][_0x166a24['getGuid']()];return this['addCompone'+'nt'](_0x32065a,_0x2e0c3a['data']);}['initialize'+'ComponentD'+'ata'](_0x40bfee,_0x18888f={},_0x2c644d){for(let _0x3bc9d8=-0x11e0+-0x248c+0x6*0x912,_0x597ebe=_0x2c644d['length'];_0x3bc9d8<_0x597ebe;_0x3bc9d8++){const _0x44d6d3=_0x2c644d[_0x3bc9d8];let _0x28fb8f,_0x12660a;typeof _0x44d6d3=='object'?(_0x28fb8f=_0x44d6d3['name'],_0x12660a=_0x44d6d3['type']):(_0x28fb8f=_0x44d6d3,_0x12660a=void(0x83*-0x26+0xc60+0x1*0x712));let _0xd7c236=_0x18888f[_0x28fb8f];_0xd7c236!==void(-0x156e+0x152*0x19+-0x27*0x4c)?(_0x12660a!==void(-0x24f9+-0x16d5+-0xbf6*-0x5)&&(_0xd7c236=wP(_0xd7c236,_0x12660a)),_0x40bfee[_0x28fb8f]=_0xd7c236):_0x40bfee[_0x28fb8f]=_0x40bfee['data'][_0x28fb8f];}_0x40bfee['enabled']&&_0x40bfee['entity']['enabled']&&_0x40bfee['onEnable']();}['getPropert'+'iesOfType'](_0x4464b7){const _0x28a684=[];return(this['schema']||[])['forEach'](_0x54b898=>{_0x54b898&&typeof _0x54b898=='object'&&_0x54b898['type']===_0x4464b7&&_0x28a684['push'](_0x54b898);}),_0x28a684;}['destroy'](){this['off']();}}function wP(_0x3f9f60,_0x3f307a){if(!_0x3f9f60)return _0x3f9f60;switch(_0x3f307a){case'rgb':return _0x3f9f60 instanceof Y?_0x3f9f60['clone']():new Y(_0x3f9f60[-0x6ee*-0x4+-0x202+-0x19b6],_0x3f9f60[-0x3*0xa47+-0x1*0x26c9+0x459f],_0x3f9f60[0x1d0e+-0x30e*0x6+-0x2*0x55c]);case'rgba':return _0x3f9f60 instanceof Y?_0x3f9f60['clone']():new Y(_0x3f9f60[-0x19d8+0x1ab4+-0xdc],_0x3f9f60[-0x1*-0xfeb+0x200c*0x1+-0x2ff6],_0x3f9f60[0x34c+-0x1809*0x1+-0x2f*-0x71],_0x3f9f60[-0x218*-0xe+0x70c+-0x2459]);case'vec2':return _0x3f9f60 instanceof W?_0x3f9f60['clone']():new W(_0x3f9f60[-0x3a*-0x5b+-0x8cd+-0x19*0x79],_0x3f9f60[-0xf96+0x2*0xf84+0x1*-0xf71]);case'vec3':return _0x3f9f60 instanceof A?_0x3f9f60['clone']():new A(_0x3f9f60[0x1b1a+0x1*0x193f+-0x1173*0x3],_0x3f9f60[-0x283+-0x1*-0x45b+-0x1d7],_0x3f9f60[0xd*0x1cc+-0x1*0x164f+-0x59*0x3]);case'vec4':return _0x3f9f60 instanceof ee?_0x3f9f60['clone']():new ee(_0x3f9f60[-0x175*0x2+-0x1*-0x2330+-0x2046*0x1],_0x3f9f60[0x715*0x1+0x8d2+-0xfe6],_0x3f9f60[-0x37c+-0x1081+0x13ff],_0x3f9f60[-0x2*0xd99+-0x12eb+0x24*0x148]);case'boolean':case'number':case'string':return _0x3f9f60;case'entity':return _0x3f9f60;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x3f307a);}}const q0=-0x2682*0x1+0x4ef*0x2+0x1ca4*0x1,Qu=-0xdaf+-0x31b+0x10cb,Ju=0x6d*0x4c+-0x1590+-0x2*0x565;class TP{constructor(){this['_left']=(-0x11*0x1f7+-0x754*0x3+0x3764)/(0x30*-0x3a+0x2390+-0x18b0),this['_right']=-(0x167d+0xf98*0x1+-0x2614)/(0x1*0x23c3+0xb7*0x32+0x5*-0xe4d),this['_len']=-0x2*-0x11dd+-0x5*0x53f+0x97f*-0x1,this['_recip']=-0xbb9+-0x1557+-0x17*-0x170,this['_p0']=-0x24de+-0xd90+0x1*0x326e,this['_p1']=-0x2431+0x169d+0xd94,this['_t']=0x1322+-0x1d24+0x6*0x1ab,this['_hermite']={'valid':!(0x369*0x9+-0x1b0*0x13+-0x160*-0x1),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x66c65b,_0x4c8347){if(_0x66c65b<this['_left']||_0x66c65b>=this['_right']){const _0x168ee7=_0x4c8347['length'];if(!_0x168ee7)this['_left']=-(0x12ae+0x25b2+-0x385f)/(0x20ed+-0x148f+-0x2*0x62f),this['_right']=(-0x128b+-0x15*0xa1+-0x2e3*-0xb)/(-0xe1f+-0x1*0x1b73+-0x22*-0x139),this['_len']=0x1048+0x120a+-0xbf*0x2e,this['_recip']=-0x3d*0x5+0x44*-0x13+0x63d,this['_p0']=this['_p1']=0x1095+-0x48f+-0xc06;else{if(_0x66c65b<_0x4c8347[-0x41*-0x7f+0x131d+0x13*-0x2b4])this['_left']=-(0xe26+-0x3*-0x7+-0xe3a)/(0xe22+-0x5*-0x73c+-0x5e*0x89),this['_right']=_0x4c8347[-0x793*-0x1+0x1c7a+-0x240d],this['_len']=-0x2095*0x1+0xb*-0x82+0x262b,this['_recip']=-0x1783+-0x2510+-0x3*-0x1431,this['_p0']=this['_p1']=0x22aa+0x3d*0xb+-0x2549;else{if(_0x66c65b>=_0x4c8347[_0x168ee7-(-0x357+-0x21d*0x6+0x1006)])this['_left']=_0x4c8347[_0x168ee7-(0xc58+0xbe2+-0x1839)],this['_right']=(-0x66e+0xcd2+-0x5*0x147)/(-0x1*-0xccd+-0xecd+0x80*0x4),this['_len']=0x28c+0x14bd*0x1+0x7c3*-0x3,this['_recip']=-0xe*-0x9d+0xb*0x287+-0x2463,this['_p0']=this['_p1']=_0x168ee7-(0x60f*0x4+0x26d0+-0x3f0b*0x1);else{const _0x515d89=this['_findKey'](_0x66c65b,_0x4c8347);this['_left']=_0x4c8347[_0x515d89],this['_right']=_0x4c8347[_0x515d89+(0x171*0x1b+0x89a+0x1*-0x2f84)],this['_len']=this['_right']-this['_left'];const _0x56c37d=(0x2021+0x5*-0x3e3+-0x43b*0x3)/this['_len'];this['_recip']=isFinite(_0x56c37d)?_0x56c37d:0x8cc+0x433+0x3*-0x455,this['_p0']=_0x515d89,this['_p1']=_0x515d89+(-0x1167+-0x79*0x35+0x2a75);}}}}this['_t']=this['_recip']===-0x1*0x13f0+0x82*0x47+-0x101e?-0x2*0x9ce+0x3*0x70b+-0x185:(_0x66c65b-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x1f69+0x130b+0x171*-0x23);}['_findKey'](_0x56d14e,_0x4faec8){let _0x3078ed=0x2*0x791+0x1*0x1ab3+-0x29d5;for(;_0x56d14e>=_0x4faec8[_0x3078ed+(0x58e+0x5*0xb5+0x48b*-0x2)];)_0x3078ed++;return _0x3078ed;}['eval'](_0x560e70,_0x5ce5f4,_0x249c31){const _0x1e19d8=_0x249c31['_data'],_0x410f0f=_0x249c31['_component'+'s'],_0x32ff82=this['_p0']*_0x410f0f;if(_0x5ce5f4===q0){for(let _0x56204f=0x1b*-0xef+0x944+-0x247*-0x7;_0x56204f<_0x410f0f;++_0x56204f)_0x560e70[_0x56204f]=_0x1e19d8[_0x32ff82+_0x56204f];}else{const _0xffa642=this['_t'],_0x447c33=this['_p1']*_0x410f0f;switch(_0x5ce5f4){case Qu:for(let _0x250cea=-0x2006+-0x6b6+0x26bc;_0x250cea<_0x410f0f;++_0x250cea)_0x560e70[_0x250cea]=z['lerp'](_0x1e19d8[_0x32ff82+_0x250cea],_0x1e19d8[_0x447c33+_0x250cea],_0xffa642);break;case Ju:{const _0x4caf5e=this['_hermite'];if(!_0x4caf5e['valid']){const _0x3f7df6=_0xffa642*_0xffa642,_0x1fcd0b=_0xffa642+_0xffa642,_0x316e75=0x1b64*0x1+-0x1a*-0xa2+-0x2bd7-_0xffa642,_0x403def=_0x316e75*_0x316e75;_0x4caf5e['valid']=!(0xf13+-0x45*-0x68+0x5*-0x89f),_0x4caf5e['p0']=(-0x22b*0xd+-0xced*-0x2+-0x17*-0x1a+_0x1fcd0b)*_0x403def,_0x4caf5e['m0']=_0xffa642*_0x403def,_0x4caf5e['p1']=_0x3f7df6*(0x5ce*0x6+-0x17*-0x1af+-0x498a-_0x1fcd0b),_0x4caf5e['m1']=_0x3f7df6*(_0xffa642-(0xd71*-0x2+-0x1256*-0x1+0x88d));}const _0x1d6a86=(this['_p0']*(0x1*-0x26b+-0x8bb+-0x1*-0xb29)+(-0x2036+-0x2*0x1f3+-0x5*-0x739))*_0x410f0f,_0x5651dd=(this['_p0']*(0x1*-0x207f+-0x1*0x815+0x2897*0x1)+(0xfe6+0x1*0x9ef+-0x19d3))*_0x410f0f,_0x4bc296=(this['_p1']*(0x4*0x164+-0x2a0+-0x1*0x2ed)+(-0x6*-0x3f1+-0x4a*-0x4f+0xa3*-0x49))*_0x410f0f,_0x3e7df1=(this['_p1']*(-0x5*0x73+0x1*0xf14+-0xcd2)+(-0x1a3*0x3+-0x221*-0xa+-0x1*0x1061))*_0x410f0f;for(let _0x1bd573=-0x10*-0x269+0x1b22+0x6*-0xaf3;_0x1bd573<_0x410f0f;++_0x1bd573)_0x560e70[_0x1bd573]=_0x4caf5e['p0']*_0x1e19d8[_0x1d6a86+_0x1bd573]+_0x4caf5e['m0']*_0x1e19d8[_0x5651dd+_0x1bd573]*this['_len']+_0x4caf5e['p1']*_0x1e19d8[_0x4bc296+_0x1bd573]+_0x4caf5e['m1']*_0x1e19d8[_0x3e7df1+_0x1bd573]*this['_len'];break;}}}}}class Z_{constructor(_0x1e60de){this['_name']=_0x1e60de['name']+'Snapshot',this['_time']=-(0x34c+-0x2412+0x1*0x20c7),this['_cache']=[],this['_results']=[];for(let _0x44686f=0x6c7+0x12bb+0x5*-0x51a;_0x44686f<_0x1e60de['_inputs']['length'];++_0x44686f)this['_cache'][_0x44686f]=new TP();const _0x377fa7=_0x1e60de['_curves'],_0x34a820=_0x1e60de['_outputs'];for(let _0x421098=-0x1a34+-0xfbd*0x1+-0x3*-0xdfb;_0x421098<_0x377fa7['length'];++_0x421098){const _0x16fb12=_0x377fa7[_0x421098],_0x108ba4=_0x34a820[_0x16fb12['_output']],_0x264b96=[];for(let _0x1985cc=0xb71+-0x472*0x8+-0x5*-0x4d3;_0x1985cc<_0x108ba4['_component'+'s'];++_0x1985cc)_0x264b96[_0x1985cc]=0x1c3d*0x1+0x1*-0x16ae+-0x58f;this['_results'][_0x421098]=_0x264b96;}}}const Ro=class Ro{constructor(_0x4a304a,_0x2be12d,_0x2ad12b,_0x57d960,_0x198095,_0xba2be8){this['_name']=_0x4a304a['name'],this['_track']=_0x4a304a,this['_snapshot']=new Z_(_0x4a304a),this['_playing']=_0x57d960,this['_time']=_0x2be12d,this['_speed']=_0x2ad12b,this['_loop']=_0x198095,this['_blendWeig'+'ht']=0x516+0x1d*-0x41+0x92*0x4,this['_blendOrde'+'r']=0x3*0xed+0x3da+-0x1*0x6a1,this['_eventHand'+'ler']=_0xba2be8,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x240287){this['_name']=_0x240287;}get['name'](){return this['_name'];}set['track'](_0x28731e){this['_track']=_0x28731e,this['_snapshot']=new Z_(_0x28731e);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x4ebb69){this['_time']=_0x4ebb69,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x56b14f){const _0x2bf3aa=Math['sign'](_0x56b14f)!==Math['sign'](this['_speed']);this['_speed']=_0x56b14f,_0x2bf3aa&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x2f9ca3){this['_loop']=_0x2f9ca3;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x42b42a){this['_blendWeig'+'ht']=_0x42b42a;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x33642e){this['_blendOrde'+'r']=_0x33642e;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x2510cf){this['_eventCurs'+'or']=_0x2510cf;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0x6f1*0x2+-0xfe1*0x1+-0x191*-0x13:this['_track']['events']['length']-(0x3a*-0x90+-0x1cab+-0x1ea6*-0x2);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0x111c+0x1*-0x13a8+0x4*0xa3;}['nextEventA'+'headOfTime'](_0x5ee681){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x5ee681:this['nextEvent']['time']>=_0x5ee681:!(0x1*0x2512+-0x246e*0x1+0xa3*-0x1);}['nextEventB'+'ehindTime'](_0x2f4fa0){return this['nextEvent']?_0x2f4fa0===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x2f4fa0:this['nextEvent']['time']<=_0x2f4fa0:this['isReverse']?this['nextEvent']['time']>_0x2f4fa0:this['nextEvent']['time']<_0x2f4fa0:!(0x1e5b*0x1+-0x1c02+-0x258);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x1199+0x189*0xd+-0x25b):-0xb94+0x21e+0xe*0xad;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0x2*0x28d+-0x23fb+0x2916):-0x12*-0x17e+0x976*0x1+-0x2451,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0x2686+0x1*0x2285+0x401:this['_eventCurs'+'or']<0x9ed+0x9eb*-0x3+0x13d4&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x15b*-0x1c+-0x731+0x2*0x1693));}['clipFrameT'+'ime'](_0x156225){const _0x34cf4f=Ro['eventFrame'];_0x34cf4f['start']=-0x1aa1+0x7ee*0x1+-0x12b3*-0x1,_0x34cf4f['end']=_0x156225,_0x34cf4f['residual']=0x13ff+0x2267*0x1+0xd3*-0x42,this['isReverse']?_0x156225<0x1b5e+-0x191c+0x2*-0x121&&(_0x34cf4f['start']=this['track']['duration'],_0x34cf4f['end']=0xa0a+0x19e3+-0x23ed,_0x34cf4f['residual']=_0x156225+this['track']['duration']):_0x156225>this['track']['duration']&&(_0x34cf4f['start']=-0x168d+0xbc6+0xac7,_0x34cf4f['end']=this['track']['duration'],_0x34cf4f['residual']=_0x156225-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x102aa4,_0x284f6c){return this['nextEventA'+'headOfTime'](_0x102aa4)&&this['nextEventB'+'ehindTime'](_0x284f6c)?(this['fireNextEv'+'ent'](),!(-0x3d*0x46+0x3*-0x51f+0x1*0x200b)):!(0x9d*0xf+0x2*0x892+-0x1*0x1a56);}['activeEven'+'tsForFrame'](_0x56896d,_0x229cf8){const _0x5677b8=Ro['eventFrame'];this['clipFrameT'+'ime'](_0x229cf8);const _0x508966=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x56896d,_0x5677b8['end'])&&_0x508966!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x5677b8['residual'])>0x1f1f+-0xbd9+-0x2*0x9a3&&this['activeEven'+'tsForFrame'](_0x5677b8['start'],_0x5677b8['residual']);}['progressFo'+'rTime'](_0x21af58){return _0x21af58*this['_speed']/this['_track']['duration'];}['_update'](_0x5e71a5){if(this['_playing']){let _0x379bf0=this['_time'];const _0x2745d0=this['_track']['duration'],_0x14b273=this['_speed'],_0x1a9880=this['_loop'];this['_track']['events']['length']>0x1*-0xaf4+0x14f*0x4+0x5b8&&_0x2745d0>0xb99*0x1+-0x3*0xa75+0x13c6*0x1&&this['activeEven'+'tsForFrame'](_0x379bf0,_0x379bf0+_0x14b273*_0x5e71a5),_0x379bf0+=_0x14b273*_0x5e71a5,_0x14b273>=-0x301*0x7+-0x910+0x1e17?_0x379bf0>_0x2745d0&&(_0x1a9880?_0x379bf0=_0x379bf0%_0x2745d0||0xc28+0x61a*-0x6+-0x1874*-0x1:(_0x379bf0=this['_track']['duration'],this['pause']())):_0x379bf0<-0x7*-0x161+0x2081+-0x2a28&&(_0x1a9880?_0x379bf0=_0x2745d0+(_0x379bf0%_0x2745d0||-0x10dd+0x19be+-0x8e1):(_0x379bf0=0x168e*-0x1+-0x1*0xb14+-0xa*-0x35d,this['pause']())),this['_time']=_0x379bf0;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0x198*0x9+0x35*0x73+0x1*-0x2627),this['_time']=0x2dd*-0x1+0xc13+-0x936;}['stop'](){this['_playing']=!(0xf63+-0x1*-0x53+-0x1*0xfb5),this['_time']=-0x259*-0x4+-0xff8+-0x1a5*-0x4;}['pause'](){this['_playing']=!(-0xbb8+-0x1abc+-0xb3*-0x37);}['resume'](){this['_playing']=!(-0x21be+-0x1af6+0x5*0xc24);}['reset'](){this['_time']=-0x1*-0x26cf+0xe2a+-0x47*0xbf;}};c(Ro,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Qh=Ro;const X0='NONE',AP='PREV_STATE',EP='NEXT_STATE',CP='PREV_STATE'+'_NEXT_STAT'+'E',MP='NEXT_STATE'+'_PREV_STAT'+'E',PP='GREATER_TH'+'AN',RP='LESS_THAN',IP='GREATER_TH'+'AN_EQUAL_T'+'O',DP='LESS_THAN_'+'EQUAL_TO',LP='EQUAL_TO',FP='NOT_EQUAL_'+'TO',Q_='INTEGER',J_='FLOAT',eg='BOOLEAN',xh='TRIGGER',kP='1D',OP='2D_DIRECTI'+'ONAL',BP='2D_CARTESI'+'AN',NP='DIRECT',uo='START',ef='END',Or='ANY',Jh=[uo,ef,Or],j0='OVERWRITE',zP='ADDITIVE';class Rt{static['dot'](_0x41a3eb,_0x599929){const _0x260481=_0x41a3eb['length'];let _0xe9858b=-0x29b+-0xb*0x131+0xfb6;for(let _0x22f45e=0x135*0x1+-0x1f2b+0x1df6;_0x22f45e<_0x260481;++_0x22f45e)_0xe9858b+=_0x41a3eb[_0x22f45e]*_0x599929[_0x22f45e];return _0xe9858b;}static['normalize'](_0x4fb832){let _0x266646=Rt['dot'](_0x4fb832,_0x4fb832);if(_0x266646>0x1779+-0x1bdd+0x232*0x2){_0x266646=(-0xb*0x2ef+0x1ef3+0x153)/Math['sqrt'](_0x266646);const _0xd25005=_0x4fb832['length'];for(let _0x376908=-0x15d5+0x8*-0x31d+0x5*0x959;_0x376908<_0xd25005;++_0x376908)_0x4fb832[_0x376908]*=_0x266646;}}static['set'](_0x23af8a,_0x4b5e6a,_0x1daaa1){const _0x24182b=_0x23af8a['length'];if(_0x1daaa1==='quaternion'){let _0x49f31e=Rt['dot'](_0x4b5e6a,_0x4b5e6a);_0x49f31e>-0x89c*-0x1+0x22*0xcd+-0x23d6&&(_0x49f31e=(-0xed9+0x1*0x25b1+-0x3*0x79d)/Math['sqrt'](_0x49f31e));for(let _0xedaa07=0x1*0x202d+-0x1907+0xb7*-0xa;_0xedaa07<_0x24182b;++_0xedaa07)_0x23af8a[_0xedaa07]=_0x4b5e6a[_0xedaa07]*_0x49f31e;}else{for(let _0x2a3d92=-0x1c5c+-0x18d6+0x3532;_0x2a3d92<_0x24182b;++_0x2a3d92)_0x23af8a[_0x2a3d92]=_0x4b5e6a[_0x2a3d92];}}static['blendVec'](_0x19ace1,_0x188277,_0x299bcf,_0x346f93){const _0x1506e1=_0x346f93?0x390*-0x5+0x1*-0xfb5+0x2186:0x24fb*0x1+0x616+0x1*-0x2b10-_0x299bcf,_0x20f2c2=_0x19ace1['length'];for(let _0xc70cad=-0x2144+-0xb5b+0x2c9f;_0xc70cad<_0x20f2c2;++_0xc70cad)_0x19ace1[_0xc70cad]=_0x19ace1[_0xc70cad]*_0x1506e1+_0x188277[_0xc70cad]*_0x299bcf;}static['blendQuat'](_0x530d62,_0x1289bd,_0x500615,_0x222945){const _0x5bf0a7=_0x530d62['length'],_0x29e4ab=_0x222945?-0x6b*0x56+-0x5*-0x4e7+0x2dc*0x4:-0x10d4+0x948+0x78d-_0x500615;Rt['dot'](_0x530d62,_0x1289bd)<0x32*0x83+0x137d+0x2d13*-0x1&&(_0x500615=-_0x500615);for(let _0x1ca357=-0x1*-0x153d+-0xd1*0x25+0x2*0x47c;_0x1ca357<_0x5bf0a7;++_0x1ca357)_0x530d62[_0x1ca357]=_0x530d62[_0x1ca357]*_0x29e4ab+_0x1289bd[_0x1ca357]*_0x500615;_0x222945||Rt['normalize'](_0x530d62);}static['blend'](_0xd1cbd3,_0x489b37,_0x3c86f5,_0x2b416e,_0x4db3cb){_0x2b416e==='quaternion'?Rt['blendQuat'](_0xd1cbd3,_0x489b37,_0x3c86f5,_0x4db3cb):Rt['blendVec'](_0xd1cbd3,_0x489b37,_0x3c86f5,_0x4db3cb);}static['stableSort'](_0x57b2af,_0x1714a5){const _0x162b16=_0x57b2af['length'];for(let _0x1729db=-0xde4+-0x954*-0x2+0x1*-0x4c4;_0x1729db<_0x162b16-(-0xf4e+0x1f6+0xd59);++_0x1729db)for(let _0x313c21=_0x1729db+(0x380+0x19fb+0x16*-0x157);_0x313c21<_0x162b16;++_0x313c21)if(_0x1714a5(_0x57b2af[_0x313c21],_0x57b2af[_0x1729db])){const _0x145dcf=_0x57b2af[_0x1729db];_0x57b2af[_0x1729db]=_0x57b2af[_0x313c21],_0x57b2af[_0x313c21]=_0x145dcf;}}}const We=class We{constructor(_0x534cf1,_0x249701){this['_component']=_0x534cf1,this['mask']=new Int8Array(_0x534cf1['layers']['length']),this['weights']=new Float32Array(_0x534cf1['layers']['length']),this['totalWeigh'+'t']=0x1*0x1f29+0x24fc+0x1*-0x4425,this['counter']=-0x61*-0x49+0x1a15+-0x35be*0x1,this['layerCount'+'er']=0x1*-0x47+-0x20ba*-0x1+0x2073*-0x1,this['valueType']=_0x249701,this['dirty']=!(0x5ff*0x2+0x22b4+-0x2eb2),this['value']=_0x249701===We['TYPE_QUAT']?[-0x79a*0x5+0x1*0x1f1c+0x6e6,-0x1375+0x3a3*0x4+0x4e9,-0x19e4+-0xb01*0x1+-0x24e5*-0x1,-0x7d*0x29+0x1ec7*-0x1+0x5a5*0x9]:[-0x603+-0x5*-0x127+0x40,-0x4*0x391+-0x336+0x117a*0x1,0x5*0x679+-0x14bf*-0x1+-0xce*0x42],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x2dcc3b){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0x2*-0x4af+0x22e5+-0xec1*0x3||!this['mask'][_0x2dcc3b]?0x17*-0x9+-0x1620+-0x16ef*-0x1:this['_normalize'+'Weights']?this['weights'][_0x2dcc3b]/this['totalWeigh'+'t']:z['clamp'](this['weights'][_0x2dcc3b],0x20b9*0x1+0xfb4*0x2+-0x4021,0xc*-0x81+0x2*-0x254+0xab5);}['_layerBlen'+'dType'](_0x509297){return this['_component']['layers'][_0x509297]['blendType'];}['setMask'](_0x40a645,_0x485a79){this['mask'][_0x40a645]=_0x485a79,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x40a645]['blendType']===j0&&(this['mask']=this['mask']['fill'](-0x259+0x8a8+0x1*-0x64f,-0x7a*0x35+-0x1e5d+0x379f,_0x40a645)),this['dirty']=!(0x1*-0x1bbb+0x433*-0x3+0x2854));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x6d4*-0x4+0x89*0x5+-0x1dfd;for(let _0x241d7d=-0x866+-0x1003*0x1+0x1869;_0x241d7d<this['weights']['length'];_0x241d7d++)this['weights'][_0x241d7d]=this['_component']['layers'][_0x241d7d]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x241d7d]*this['weights'][_0x241d7d];this['dirty']=!(0x11*0xa9+0x35f+0x4dd*-0x3);}['updateValu'+'e'](_0x5fdc6b,_0x376bab){if(this['counter']===-0x17c7+0x5b*-0x5+0x198e&&(Rt['set'](this['value'],We['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Rt['blend'](this['value'],this['baseValue'],-0x67f+-0x3*-0x2d7+0x2f*-0xb,this['valueType'])),!(!this['mask'][_0x5fdc6b]||this['getWeight'](_0x5fdc6b)===-0x1ace*0x1+0x25*-0xad+-0x33cf*-0x1)){if(this['_layerBlen'+'dType'](_0x5fdc6b)===zP&&!this['_normalize'+'Weights']){if(this['valueType']===We['TYPE_QUAT']){const _0x5ed959=We['q1']['set'](this['value'][-0x4*-0x283+0x2220+0x4*-0xb0b],this['value'][0x7*0x3bb+-0x7*0x48+0x135*-0x14],this['value'][0x89d+0x3*-0x5ad+-0xc4*-0xb],this['value'][-0xbe*-0x3+0x1df8*-0x1+0x1bc1*0x1]),_0x3c10ec=We['q2']['set'](this['baseValue'][-0x16f*-0x11+-0x2358+-0xaf9*-0x1],this['baseValue'][0x12*0x127+0x22e8+-0x4d*0xb9],this['baseValue'][0x4*-0xa7+-0x1b52+0x1df0],this['baseValue'][0x2a*0x71+-0x22d5+-0x104e*-0x1]),_0x572cca=We['q3']['set'](_0x376bab[-0xe*-0x6f+0x636+0xc*-0x106],_0x376bab[-0x173*0xb+-0x1cae+0xa8*0x44],_0x376bab[-0xf*-0x9b+0x141b*-0x1+0x4*0x2c2],_0x376bab[-0x167d+0x1510+-0x1*-0x170]),_0x167ef8=_0x3c10ec['invert']()['mul'](_0x572cca);_0x167ef8['slerp'](ie['IDENTITY'],_0x167ef8,this['getWeight'](_0x5fdc6b)),_0x5ed959['mul'](_0x167ef8),We['quatArr'][-0x1*0x1600+-0x2*-0x7b9+-0x1*-0x68e]=_0x5ed959['x'],We['quatArr'][-0x119f+-0x539+0x16d9]=_0x5ed959['y'],We['quatArr'][-0x1d1f+-0x815+0x2536]=_0x5ed959['z'],We['quatArr'][-0x1*0x1560+0xb55*0x1+0xa0e]=_0x5ed959['w'],Rt['set'](this['value'],We['quatArr'],this['valueType']);}else We['vecArr'][0x1b94+-0x840+0x1*-0x1354]=_0x376bab[0x19*-0x119+0x37*-0x47+0x2ab2]-this['baseValue'][0x28*-0x7+-0x24e7+0x25ff],We['vecArr'][-0xaf1+-0x1*-0xcfb+-0x209]=_0x376bab[-0xa5e*-0x2+-0xa*0x179+-0x601]-this['baseValue'][0x25a0+0x20b3+-0x4652*0x1],We['vecArr'][0x1*0x254f+0xc75+0x2*-0x18e1]=_0x376bab[-0x1d47+-0x7d*-0xe+-0x335*-0x7]-this['baseValue'][-0xa40+-0xfa3*-0x2+-0x1504],Rt['blend'](this['value'],We['vecArr'],this['getWeight'](_0x5fdc6b),this['valueType'],!(-0x229a+-0x1909+0x3ba3));}else Rt['blend'](this['value'],_0x376bab,this['getWeight'](_0x5fdc6b),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(We,'TYPE_QUAT','quaternion'),c(We,'TYPE_VEC3','vector3'),c(We,'q1',new ie()),c(We,'q2',new ie()),c(We,'q3',new ie()),c(We,'quatArr',[0x8*-0x343+0x29*0x86+0x4a2,0x9*0x179+0x316+-0x1057,-0x1*0x1def+-0x1*0x1ad2+0x38c1,-0xfa+0x7*-0x199+0xc2a]),c(We,'vecArr',[-0xc45+-0x222b*-0x1+0x15e6*-0x1,0x17*-0x167+0x1844+0x5*0x199,0x223f+0x1ace+-0x3d0d]),c(We,'IDENTITY_Q'+'UAT_ARR',[0x260b*-0x1+-0x15*-0x116+-0x53*-0x2f,-0x1ed+-0x40d*0x7+0x1e48,0x18*-0x119+-0x1*0x2098+0x5c*0xa4,-0x356+-0xa*0x102+0xd6b]);let Eo=We;class Y0{constructor(_0x183d25){this['_binder']=_0x183d25,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x1623dc){const _0x2618e4=this['_targets'],_0x4a1f43=this['_binder'],_0x381042=_0x1623dc['track']['curves'],_0x390ffc=_0x1623dc['snapshot'],_0xac9897=[],_0x206e2b=[];for(let _0x906d35=0x1*0x1e7f+-0x57e+-0x1901;_0x906d35<_0x381042['length'];++_0x906d35){const _0x1aeaba=_0x381042[_0x906d35]['paths'];for(let _0x1821d1=0x3a*-0xa2+-0xad3*-0x2+-0x29*-0x5e;_0x1821d1<_0x1aeaba['length'];++_0x1821d1){const _0x6e0597=_0x1aeaba[_0x1821d1],_0x1d17ba=_0x4a1f43['resolve'](_0x6e0597);let _0x26386e=_0x2618e4[_0x1d17ba&&_0x1d17ba['targetPath']||null];if(!_0x26386e&&_0x1d17ba){_0x26386e={'target':_0x1d17ba,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x143dbc=-0x7e5+0x10f*-0x19+0x225c;_0x143dbc<_0x26386e['target']['components'];++_0x143dbc)_0x26386e['value']['push'](-0xf5b+0x20b*-0x8+-0x3*-0xa91);if(_0x2618e4[_0x1d17ba['targetPath']]=_0x26386e,_0x4a1f43['animCompon'+'ent']){if(!_0x4a1f43['animCompon'+'ent']['targets'][_0x1d17ba['targetPath']]){let _0x54b0e1;_0x1d17ba['targetPath']['substring'](_0x1d17ba['targetPath']['length']-(0x152e+0x1*0x19bd+-0x2ede))==='localRotat'+'ion'?_0x54b0e1=Eo['TYPE_QUAT']:_0x54b0e1=Eo['TYPE_VEC3'],_0x4a1f43['animCompon'+'ent']['targets'][_0x1d17ba['targetPath']]=new Eo(_0x4a1f43['animCompon'+'ent'],_0x54b0e1);}_0x4a1f43['animCompon'+'ent']['targets'][_0x1d17ba['targetPath']]['layerCount'+'er']++,_0x4a1f43['animCompon'+'ent']['targets'][_0x1d17ba['targetPath']]['setMask'](_0x4a1f43['layerIndex'],-0x12bb+-0x24b7+0x3773);}}_0x26386e&&(_0x26386e['curves']++,_0xac9897['push'](_0x390ffc['_results'][_0x906d35]),_0x206e2b['push'](_0x26386e));}}this['_clips']['push'](_0x1623dc),this['_inputs']['push'](_0xac9897),this['_outputs']['push'](_0x206e2b);}['removeClip'](_0x5d4f1f){const _0x4024e7=this['_targets'],_0x5a2aea=this['_binder'],_0x40eb8d=this['_clips'],_0x406dfa=_0x40eb8d[_0x5d4f1f]['track']['curves'];for(let _0x29b63d=0x1223+-0x4*-0x7fa+-0x320b;_0x29b63d<_0x406dfa['length'];++_0x29b63d){const _0x4bc6b9=_0x406dfa[_0x29b63d]['paths'];for(let _0x9647ac=0x256f+0x3b*0x66+-0x1*0x3cf1;_0x9647ac<_0x4bc6b9['length'];++_0x9647ac){const _0x59c907=_0x4bc6b9[_0x9647ac],_0x161806=this['_binder']['resolve'](_0x59c907);_0x161806&&(_0x161806['curves']--,_0x161806['curves']===-0x3d2+0x2e7+0xeb&&(_0x5a2aea['unresolve'](_0x59c907),delete _0x4024e7[_0x161806['targetPath']],_0x5a2aea['animCompon'+'ent']&&_0x5a2aea['animCompon'+'ent']['targets'][_0x161806['targetPath']]['layerCount'+'er']--));}}_0x40eb8d['splice'](_0x5d4f1f,0x1864+0x617+-0xa6*0x2f),this['_inputs']['splice'](_0x5d4f1f,0xf1+0x1a*-0x17b+0x258e),this['_outputs']['splice'](_0x5d4f1f,0x4d5*-0x1+-0x2*-0x1096+0xd*-0x22e);}['removeClip'+'s'](){for(;this['_clips']['length']>0xe21+-0x2*0x2bd+0x5*-0x1bb;)this['removeClip'](-0x1b*0x71+-0x2102+0x173*0x1f);}['updateClip'+'Track'](_0x2d93f0,_0xb010a8){this['_clips']['forEach'](_0x4e5bcf=>{_0x4e5bcf['name']['includes'](_0x2d93f0)&&(_0x4e5bcf['track']=_0xb010a8);}),this['rebind']();}['findClip'](_0x369771){const _0x26a693=this['_clips'];for(let _0xd20be7=0x3*-0x5fe+-0x26*0x43+-0x6fb*-0x4;_0xd20be7<_0x26a693['length'];++_0xd20be7){const _0x47a741=_0x26a693[_0xd20be7];if(_0x47a741['name']===_0x369771)return _0x47a741;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x12c68e=[...this['clips']];this['removeClip'+'s'](),_0x12c68e['forEach'](_0x1ccd51=>{this['addClip'](_0x1ccd51);});}['assignMask'](_0x808a08){return this['_binder']['assignMask'](_0x808a08);}['update'](_0x3ab188,_0x19009e=!(0x6*0x45e+0x1c3d+-0x3671)){const _0x2e1111=this['_clips'],_0x182d99=_0x2e1111['map']((_0x5cd9f3,_0x16f44d)=>_0x16f44d);Rt['stableSort'](_0x182d99,(_0x807bd4,_0x256998)=>_0x2e1111[_0x807bd4]['blendOrder']<_0x2e1111[_0x256998]['blendOrder']);for(let _0x49998a=-0x1*-0x2144+0x1*-0x1362+-0xde2;_0x49998a<_0x182d99['length'];++_0x49998a){const _0x29b855=_0x182d99[_0x49998a],_0x45ed53=_0x2e1111[_0x29b855],_0x28b1ca=this['_inputs'][_0x29b855],_0x2eddd6=this['_outputs'][_0x29b855],_0x426429=_0x45ed53['blendWeigh'+'t'];if(_0x426429>-0xb18+0x8b5+-0xd*-0x2f&&_0x45ed53['_update'](_0x3ab188),!_0x19009e)break;let _0x511b29,_0x2700ae,_0x8d40d5;if(_0x426429>=-0xf6a+0xe21+0x14a){for(let _0x584c77=0x883*-0x2+-0x5e9*-0x3+0x1*-0xb5;_0x584c77<_0x28b1ca['length'];++_0x584c77)_0x511b29=_0x28b1ca[_0x584c77],_0x2700ae=_0x2eddd6[_0x584c77],_0x8d40d5=_0x2700ae['value'],Rt['set'](_0x8d40d5,_0x511b29,_0x2700ae['target']['type']),_0x2700ae['blendCount'+'er']++;}else{if(_0x426429>0x1f87+-0x240b*-0x1+-0x4392){for(let _0x989c6=0xe00+-0x1bde+-0x19*-0x8e;_0x989c6<_0x28b1ca['length'];++_0x989c6)_0x511b29=_0x28b1ca[_0x989c6],_0x2700ae=_0x2eddd6[_0x989c6],_0x8d40d5=_0x2700ae['value'],_0x2700ae['blendCount'+'er']===-0x745*0x1+-0x842*0x2+0x17c9?Rt['set'](_0x8d40d5,_0x511b29,_0x2700ae['target']['type']):Rt['blend'](_0x8d40d5,_0x511b29,_0x426429,_0x2700ae['target']['type']),_0x2700ae['blendCount'+'er']++;}}}const _0x1c40b6=this['_targets'],_0x1ba274=this['_binder'];for(const _0xc131a7 in _0x1c40b6)if(_0x1c40b6['hasOwnProp'+'erty'](_0xc131a7)){const _0x23cfc1=_0x1c40b6[_0xc131a7];if(_0x1ba274['animCompon'+'ent']&&_0x23cfc1['target']['isTransfor'+'m']){const _0x362294=_0x1ba274['animCompon'+'ent']['targets'][_0xc131a7];_0x362294['counter']===_0x362294['layerCount'+'er']&&(_0x362294['counter']=-0xdcf+-0x5*-0x7d+-0x5*-0x246),_0x362294['path']||(_0x362294['path']=_0xc131a7,_0x362294['baseValue']=_0x23cfc1['target']['get'](),_0x362294['setter']=_0x23cfc1['target']['set']),_0x362294['updateValu'+'e'](_0x1ba274['layerIndex'],_0x23cfc1['value']),_0x362294['counter']++;}else _0x23cfc1['target']['set'](_0x23cfc1['value']);_0x23cfc1['blendCount'+'er']=-0x1*-0x1a8a+0x5cd+-0x1*0x2057;}this['_binder']['update'](_0x3ab188);}}class K0{constructor(_0x5c8c79){this['_events']=[..._0x5c8c79],this['_events']['sort']((_0x4a4210,_0x286a99)=>_0x4a4210['time']-_0x286a99['time']);}get['events'](){return this['_events'];}}const fc=class fc{constructor(_0x3ec80c,_0x20c0f7,_0xac3a0c,_0x144c36,_0x467599,_0x41c1f4=new K0([])){this['_name']=_0x3ec80c,this['_duration']=_0x20c0f7,this['_inputs']=_0xac3a0c,this['_outputs']=_0x144c36,this['_curves']=_0x467599,this['_animEvent'+'s']=_0x41c1f4;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0xd42636){this['_animEvent'+'s']=_0xd42636;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x203d9b,_0x16a206){_0x16a206['_time']=_0x203d9b;const _0xa3a23f=this['_inputs'],_0x278ce9=this['_outputs'],_0x2be8d8=this['_curves'],_0x59b70e=_0x16a206['_cache'],_0x43d3eb=_0x16a206['_results'];for(let _0x45c1d3=0xf6+0x1464+-0x155a;_0x45c1d3<_0xa3a23f['length'];++_0x45c1d3)_0x59b70e[_0x45c1d3]['update'](_0x203d9b,_0xa3a23f[_0x45c1d3]['_data']);for(let _0x42e5d1=0xa75+-0x1a06+0xf91;_0x42e5d1<_0x2be8d8['length'];++_0x42e5d1){const _0x1df7f3=_0x2be8d8[_0x42e5d1],_0x58a514=_0x278ce9[_0x1df7f3['_output']],_0xef08a8=_0x43d3eb[_0x42e5d1];_0x59b70e[_0x1df7f3['_input']]['eval'](_0xef08a8,_0x1df7f3['_interpola'+'tion'],_0x58a514);}}};c(fc,'EMPTY',Object['freeze'](new fc('empty',Number['MAX_VALUE'],[],[],[])));let ki=fc;class Xr{static['joinPath'](_0x35c678,_0x51fdd6){_0x51fdd6=_0x51fdd6||'.';const _0x2182eb=function(_0x182b53){return _0x182b53['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x51fdd6,'g'),'\x5c'+_0x51fdd6);};return _0x35c678['map'](_0x2182eb)['join'](_0x51fdd6);}static['splitPath'](_0x3dfdef,_0x1523df){_0x1523df=_0x1523df||'.';const _0x502330=[];let _0x400352='',_0x34de3f=-0xa9b+0x1946+-0xeab;for(;_0x34de3f<_0x3dfdef['length'];){let _0x1c7a8d=_0x3dfdef[_0x34de3f++];_0x1c7a8d==='\x5c'&&_0x34de3f<_0x3dfdef['length']?(_0x1c7a8d=_0x3dfdef[_0x34de3f++],_0x1c7a8d==='\x5c'||_0x1c7a8d===_0x1523df?_0x400352+=_0x1c7a8d:_0x400352+='\x5c'+_0x1c7a8d):_0x1c7a8d===_0x1523df?(_0x502330['push'](_0x400352),_0x400352=''):_0x400352+=_0x1c7a8d;}return _0x400352['length']>-0x334*-0x5+-0x2*-0xf0d+-0x2e1e&&_0x502330['push'](_0x400352),_0x502330;}static['encode'](_0x20cf78,_0x5920e1,_0x11b015){return(Array['isArray'](_0x20cf78)?_0x20cf78['join']('/'):_0x20cf78)+'/'+_0x5920e1+'/'+(Array['isArray'](_0x11b015)?_0x11b015['join']('/'):_0x11b015);}['resolve'](_0x39be1a){return null;}['unresolve'](_0x3b3021){}['update'](_0xc7b767){}}class tf{constructor(_0x4180f6,_0x5846fc,_0x2f19c5,_0x3d7546){_0x4180f6['set']?(this['_set']=_0x4180f6['set'],this['_get']=_0x4180f6['get']):this['_set']=_0x4180f6,this['_type']=_0x5846fc,this['_component'+'s']=_0x2f19c5,this['_targetPat'+'h']=_0x3d7546,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x1*0xd3b+-0xc89*0x1+-0xa5))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x54a*0x3+-0x160+-0xe71*0x1))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x8*0x3c2+-0x6*0x60f+0x4*0x109d))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class tr{constructor(_0x16a318){c(this,'_isPathInM'+'ask',(_0x4ec464,_0x1789c0)=>{const _0x52e435=this['_mask'][_0x4ec464];if(_0x52e435){if(_0x52e435['children']||_0x1789c0&&_0x52e435['value']!==!(0x90b*-0x4+-0x227c+-0x1*-0x46a9))return!(-0x5f1+-0x11fc+0x17ed*0x1);}else return!(0xb13+-0x142*0x11+0xa50);return!(-0x1271*-0x1+0x1b5c+-0x2dcc);});if(this['graph']=_0x16a318,!_0x16a318)return;this['_mask']=null;const _0x37164c={},_0x31331e=function(_0x497b87){_0x37164c[_0x497b87['name']]=_0x497b87;for(let _0x3b059d=0x1*0x4f3+-0x169d+0x11aa;_0x3b059d<_0x497b87['children']['length'];++_0x3b059d)_0x31331e(_0x497b87['children'][_0x3b059d]);};_0x31331e(_0x16a318),this['nodes']=_0x37164c,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x481943=function(_0x583544){let _0x21e433=_0x583544;for(;_0x21e433&&!(_0x21e433 instanceof je);)_0x21e433=_0x21e433['parent'];let _0x9491a4;return _0x21e433&&(_0x21e433['render']?_0x9491a4=_0x21e433['render']['meshInstan'+'ces']:_0x21e433['model']&&(_0x9491a4=_0x21e433['model']['meshInstan'+'ces'])),_0x9491a4;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x43e106){const _0xe34fc3=_0x43e106['localPosit'+'ion'],_0x5a89b7=function(_0x4aebce){_0xe34fc3['set'](..._0x4aebce);};return tr['createAnim'+'Target'](_0x5a89b7,'vector',0x6*0x482+0x1d85+-0x388e,_0x43e106,'localPosit'+'ion');},'localRotation':function(_0x4f27b6){const _0x491398=_0x4f27b6['localRotat'+'ion'],_0x55c0d6=function(_0x5761cd){_0x491398['set'](..._0x5761cd);};return tr['createAnim'+'Target'](_0x55c0d6,'quaternion',-0x1*-0x72d+-0x1259+0xb3*0x10,_0x4f27b6,'localRotat'+'ion');},'localScale':function(_0x11f2bf){const _0x2ed55e=_0x11f2bf['localScale'],_0x400a86=function(_0x54c512){_0x2ed55e['set'](..._0x54c512);};return tr['createAnim'+'Target'](_0x400a86,'vector',-0x1*0x19b7+0x7*0xa9+0x151b,_0x11f2bf,'localScale');},'weight':function(_0x4ecd05,_0x5cfb67){_0x5cfb67['indexOf']('name.')===-0x1b84+-0x802+0x2386?_0x5cfb67=_0x5cfb67['replace']('name.',''):_0x5cfb67=Number(_0x5cfb67);const _0x538607=_0x481943(_0x4ecd05);let _0xc0e928;if(_0x538607){for(let _0x56714c=-0xad5+-0x11bc*0x2+0x3*0xf6f;_0x56714c<_0x538607['length'];++_0x56714c)if(_0x538607[_0x56714c]['node']['name']===_0x4ecd05['name']&&_0x538607[_0x56714c]['morphInsta'+'nce']){const _0x582c18=_0x538607[_0x56714c]['morphInsta'+'nce'],_0x57db6b=_0x335e2c=>{_0x582c18['setWeight'](_0x5cfb67,_0x335e2c[-0x297+0x164*0x6+-0x1*0x5c1]);};_0xc0e928||(_0xc0e928=[]),_0xc0e928['push'](_0x57db6b);}}if(_0xc0e928){const _0x89b82b=_0x4df42c=>{for(let _0x382b5e=0xdcc+-0x1*0x11fd+-0x1*-0x431;_0x382b5e<_0xc0e928['length'];++_0x382b5e)_0xc0e928[_0x382b5e](_0x4df42c);};return tr['createAnim'+'Target'](_0x89b82b,'number',0x1527+0x181b+-0x2d41,_0x4ecd05,'weight.'+_0x5cfb67);}return null;},'materialTexture':(_0x2f2c61,_0x5d4836)=>{const _0x2dc578=_0x481943(_0x2f2c61);if(_0x2dc578){let _0x5836eb;for(let _0x483462=-0x23fd+-0x1a8d*-0x1+0x970;_0x483462<_0x2dc578['length'];++_0x483462)if(_0x2dc578[_0x483462]['node']['name']===_0x2f2c61['name']){_0x5836eb=_0x2dc578[_0x483462];break;}if(_0x5836eb){const _0x39762a=_0x27a55f=>{const _0x3e4317=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x27a55f[0x1c7f*0x1+0xa40*-0x2+-0x59*0x17]);_0x3e4317&&_0x3e4317['resource']&&_0x3e4317['type']==='texture'&&(_0x5836eb['material'][_0x5d4836]=_0x3e4317['resource'],_0x5836eb['material']['update']());};return tr['createAnim'+'Target'](_0x39762a,'vector',-0x10be+-0x720+0x9*0x2a7,_0x2f2c61,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x5bcf3e){if(!this['_mask'])return!(-0x1f45+0x1a8f+-0x1*-0x4b6);const _0x3ae996=[_0x5bcf3e['entityPath'][0x2571+0xa3f+0xe*-0x368],this['graph']['name']];for(let _0x3f73fd=0x4ca+-0x3ef+-0x49*0x3;_0x3f73fd<_0x3ae996['length'];++_0x3f73fd){let _0x7381c7=_0x3ae996[_0x3f73fd];if(this['_isPathInM'+'ask'](_0x7381c7,_0x5bcf3e['entityPath']['length']===0x5*-0x5b7+-0x1ace+0x3762))return!(-0x12a7+-0x1*-0xa99+0x80e);for(let _0x2dfc89=0x2*-0x11ef+0x235b*0x1+-0x6*-0x16;_0x2dfc89<_0x5bcf3e['entityPath']['length'];_0x2dfc89++)if(_0x7381c7+='/'+_0x5bcf3e['entityPath'][_0x2dfc89],this['_isPathInM'+'ask'](_0x7381c7,_0x2dfc89===_0x5bcf3e['entityPath']['length']-(-0x16b0+-0x25*-0xf7+-0xd02)))return!(-0x2*0x75a+0x29*0x86+-0x6c2);}return!(0x1117*0x1+0x1a3*-0x5+-0x8e7*0x1);}['findNode'](_0x4c71dd){if(!this['_isPathAct'+'ive'](_0x4c71dd))return null;let _0xe846e9;if(this['graph']&&(_0xe846e9=this['graph']['findByPath'](_0x4c71dd['entityPath']),_0xe846e9||(_0xe846e9=this['graph']['findByPath'](_0x4c71dd['entityPath']['slice'](0xb*0x21a+-0x4bd+0x54*-0x38)))),!_0xe846e9){_0xe846e9=this['nodes'][_0x4c71dd['entityPath'][_0x4c71dd['entityPath']['length']-(0x1f3f+0x1*0x526+0x89*-0x44)]||''];const _0x37b8fb=Xr['encode'](_0x4c71dd['entityPath'][_0x4c71dd['entityPath']['length']-(0x3a*-0xa3+0x1eac+0x643)]||'','graph',_0x4c71dd['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x37b8fb]===0x5fa+-0x13*0xd5+0x9d6&&b['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x37b8fb+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x37b8fb])?this['visitedFal'+'lbackGraph'+'Paths'][_0x37b8fb]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x37b8fb]=0xf0e+0x909*-0x4+-0x1*-0x1516;}return _0xe846e9;}static['createAnim'+'Target'](_0x4d3fb9,_0x31988c,_0x59e365,_0x42f7f8,_0x22ab50,_0x14d4a2){const _0x53980d=Xr['encode'](_0x42f7f8['path'],_0x14d4a2||'entity',_0x22ab50);return new tf(_0x4d3fb9,_0x31988c,_0x59e365,_0x53980d);}['resolve'](_0x17cb7e){const _0x5d96ed=Xr['encode'](_0x17cb7e['entityPath'],_0x17cb7e['component'],_0x17cb7e['propertyPa'+'th']);let _0xf7514c=this['targetCach'+'e'][_0x5d96ed];if(_0xf7514c)return _0xf7514c;const _0x24c7be=this['findNode'](_0x17cb7e);if(!_0x24c7be)return null;const _0x4c71fe=this['handlers'][_0x17cb7e['propertyPa'+'th']];return!_0x4c71fe||(_0xf7514c=_0x4c71fe(_0x24c7be),!_0xf7514c)?null:(this['targetCach'+'e'][_0x5d96ed]=_0xf7514c,this['nodeCounts'][_0x24c7be['path']]?this['nodeCounts'][_0x24c7be['path']]++:(this['activeNode'+'s']['push'](_0x24c7be),this['nodeCounts'][_0x24c7be['path']]=0x1*-0x2597+-0x19cc+0x3f64),_0xf7514c);}['unresolve'](_0x5ee219){if(_0x5ee219['component']!=='graph')return;const _0xc70d3b=this['nodes'][_0x5ee219['entityPath'][_0x5ee219['entityPath']['length']-(-0x1b71+-0x1*0x3ce+0x1f40)]||''];if(this['nodeCounts'][_0xc70d3b['path']]--,this['nodeCounts'][_0xc70d3b['path']]===0xb90+0x123e+0x46*-0x6d){const _0x2005d=this['activeNode'+'s'],_0xb30c03=_0x2005d['indexOf'](_0xc70d3b['node']),_0x470e00=_0x2005d['length'];_0xb30c03<_0x470e00-(0x698*0x4+0x614*-0x2+-0x4bd*0x3)&&(_0x2005d[_0xb30c03]=_0x2005d[_0x470e00-(-0x56*-0x22+-0x1*-0x251f+-0x308a)]),_0x2005d['pop']();}}['update'](_0x30bdb3){const _0x42f6e4=this['activeNode'+'s'];for(let _0x4e7e40=-0xacb*0x3+-0xa3d+-0x2a9e*-0x1;_0x4e7e40<_0x42f6e4['length'];++_0x4e7e40)_0x42f6e4[_0x4e7e40]['_dirtifyLo'+'cal']();}['assignMask'](_0x4ad657){return _0x4ad657!==this['_mask']?(this['_mask']=_0x4ad657,!(0x1271*-0x1+0x1b1d+-0x8ac)):!(-0x21f2+-0x2ea*-0x5+-0x29*-0x79);}}class Z0 extends pe{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(0x1a1*-0x1+0x22*-0x35+0x8ab*0x1)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',0x2089*-0x1+-0x217+0x22a0),c(this,'blending',!(0x6f7*0x4+0x1289+-0x2e64)),c(this,'blendSpeed',-0x1ef3+-0x825+0x2718),c(this,'activate',!(0x52a+0xce*-0x29+0x1bd4)),c(this,'speed',0x1740+-0xd*-0x233+-0x19eb*0x2);}set['animations'](_0xaa05af){this['_animation'+'s']=_0xaa05af,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x394ed3){const _0x6dc6d1=this['_assets'];if(_0x6dc6d1&&_0x6dc6d1['length']){for(let _0xd70fd1=-0xf*-0x1+-0x1*-0x12f2+0x2b7*-0x7;_0xd70fd1<_0x6dc6d1['length'];_0xd70fd1++)if(_0x6dc6d1[_0xd70fd1]){const _0x54cee4=this['system']['app']['assets']['get'](_0x6dc6d1[_0xd70fd1]);if(_0x54cee4){_0x54cee4['off']('change',this['onAssetCha'+'nged'],this),_0x54cee4['off']('remove',this['onAssetRem'+'oved'],this);const _0xcc9da5=this['animations'+'Index'][_0x54cee4['id']];this['currAnim']===_0xcc9da5&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0xcc9da5],delete this['animations'+'Index'][_0x54cee4['id']];}}}this['_assets']=_0x394ed3;const _0x995ff7=_0x394ed3['map'](_0x5ddf59=>_0x5ddf59 instanceof he?_0x5ddf59['id']:_0x5ddf59);this['loadAnimat'+'ionAssets'](_0x995ff7);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x54d16d){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x54d16d,this['skeleton']['addTime'](0x1e41+0x714+-0x1f7*0x13),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x5cc7da=this['animEvalua'+'tor']['clips'];for(let _0x3b942d=-0x1ade+0x1cb6+-0x1d8;_0x3b942d<_0x5cc7da['length'];++_0x3b942d)_0x5cc7da[_0x3b942d]['time']=_0x54d16d;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x490661=this['animEvalua'+'tor']['clips'];if(_0x490661['length']>0x9d*-0x1a+0xb5*0x5+0xc69)return _0x490661[_0x490661['length']-(0x34*-0x82+-0x2*0x473+0x234f)]['time'];}return-0x4ef*0x4+0xfdf+0x2b*0x17;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(b['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x20d3+0xb7b+-0x1558*-0x1);}set['loop'](_0x970326){if(this['_loop']=_0x970326,this['skeleton']&&(this['skeleton']['looping']=_0x970326),this['animEvalua'+'tor']){for(let _0x257ebc=-0x17bc+-0x50d*0x6+0x360a;_0x257ebc<this['animEvalua'+'tor']['clips']['length'];++_0x257ebc)this['animEvalua'+'tor']['clips'][_0x257ebc]['loop']=_0x970326;}}get['loop'](){return this['_loop'];}['play'](_0x188d4b,_0x1c4729=-0x1adc*-0x1+0x133*-0x2+-0x1876){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x188d4b]){b['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x188d4b+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x188d4b,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x2016ef=this['animations'][this['prevAnim']],_0x4e1296=this['animations'][this['currAnim']];if(this['blending']=_0x1c4729>0x1*0x12fd+0x7a+0x67d*-0x3&&!!this['prevAnim'],this['blending']&&(this['blend']=0x2504+-0x20c8*-0x1+0x2*-0x22e6,this['blendSpeed']=(0x1*-0x204a+-0x2026+0x4071)/_0x1c4729),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x2016ef,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x4e1296):this['skeleton']['animation']=_0x4e1296),this['animEvalua'+'tor']){const _0x404f8e=this['animEvalua'+'tor'];if(this['blending']){for(;_0x404f8e['clips']['length']>0x1cf*0x4+0x1*0xc37+-0x106*0x13;)_0x404f8e['removeClip'](-0x14c1+0xefb+0x2*0x2e3);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x2ddad9=new Qh(this['animations'][this['currAnim']],-0x1b*-0x61+-0x59*0x2d+0xe*0x63,0x83*0x2c+0x1d81+-0x3404,!(-0xc7*0x2c+-0xd76+0x2faa),this['loop']);_0x2ddad9['name']=this['currAnim'],_0x2ddad9['blendWeigh'+'t']=this['blending']?-0x1ebf*-0x1+0xb3*-0x1a+-0x1*0xc91:-0xd0b+-0x5*-0x48b+-0x9ab,_0x2ddad9['reset'](),this['animEvalua'+'tor']['addClip'](_0x2ddad9);}}this['playing']=!(0x1da1+0x10c*-0x6+-0x2b*0x8b);}}['getAnimati'+'on'](_0x44c445){return this['animations'][_0x44c445];}['setModel'](_0x3332e4){_0x3332e4!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x3332e4,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x1cd9b5=this['entity']['model'];if(_0x1cd9b5){const _0x5aed23=_0x1cd9b5['model'];_0x5aed23&&_0x5aed23!==this['model']&&this['setModel'](_0x5aed23);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x1538bf=Object['keys'](this['_animation'+'s']);_0x1538bf['length']>-0x6*-0x14f+0x265b*-0x1+-0x19b*-0x13&&this['play'](_0x1538bf[0x1515+-0x5d9+-0x64*0x27]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x510196=this['model'],_0x80c548=this['animations'];let _0x44d0cf=!(0xaf+0x40*0x85+0x65*-0x56),_0x312f30=!(0x1d22+0x5c*-0x1d+-0x12b5);for(const _0x5017d0 in _0x80c548)_0x80c548['hasOwnProp'+'erty'](_0x5017d0)&&(_0x80c548[_0x5017d0]['constructo'+'r']===ki?_0x312f30=!(0x2648+0x13b9+0x1*-0x3a01):_0x44d0cf=!(-0xa1*-0x3+-0x1*0x46+-0x19d));const _0x2ff731=_0x510196['getGraph']();_0x44d0cf?(this['fromSkel']=new jd(_0x2ff731),this['toSkel']=new jd(_0x2ff731),this['skeleton']=new jd(_0x2ff731),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x2ff731)):_0x312f30&&(this['animEvalua'+'tor']=new Y0(new tr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x58ab11){if(!_0x58ab11||!_0x58ab11['length'])return;const _0x1bb4c1=this['system']['app']['assets'],_0x142e89=_0x5795c5=>{if(_0x5795c5['resources']['length']>-0x3*-0xbb7+0xe5c*-0x1+-0x14c8){for(let _0x57d603=0x1*0x1846+-0x1297+0x123*-0x5;_0x57d603<_0x5795c5['resources']['length'];_0x57d603++)this['animations'][_0x5795c5['resources'][_0x57d603]['name']]=_0x5795c5['resources'][_0x57d603],this['animations'+'Index'][_0x5795c5['id']]=_0x5795c5['resources'][_0x57d603]['name'];}else this['animations'][_0x5795c5['name']]=_0x5795c5['resource'],this['animations'+'Index'][_0x5795c5['id']]=_0x5795c5['name'];this['animations']=this['animations'];},_0x31b308=_0x2604be=>{_0x2604be['off']('change',this['onAssetCha'+'nged'],this),_0x2604be['on']('change',this['onAssetCha'+'nged'],this),_0x2604be['off']('remove',this['onAssetRem'+'oved'],this),_0x2604be['on']('remove',this['onAssetRem'+'oved'],this),_0x2604be['resource']?_0x142e89(_0x2604be):(_0x2604be['once']('load',_0x142e89,this),this['enabled']&&this['entity']['enabled']&&_0x1bb4c1['load'](_0x2604be));};for(let _0xab4582=-0xa93+-0x197a*-0x1+-0x6d*0x23,_0x5a54fd=_0x58ab11['length'];_0xab4582<_0x5a54fd;_0xab4582++){const _0x32101c=_0x1bb4c1['get'](_0x58ab11[_0xab4582]);_0x32101c?_0x31b308(_0x32101c):_0x1bb4c1['on']('add:'+_0x58ab11[_0xab4582],_0x31b308);}}['onAssetCha'+'nged'](_0x2c4dc2,_0x589056,_0x40a4dc,_0x2fb2ae){if(_0x589056==='resource'||_0x589056==='resources'){if(_0x589056==='resources'&&_0x40a4dc&&_0x40a4dc['length']===0x100*0x10+0x1fc8+-0x2fc8&&(_0x40a4dc=null),_0x40a4dc){let _0x5abd9b=!(-0x1613+-0xed*-0xb+-0x3*-0x3f7);if(_0x40a4dc['length']>-0x2*-0x12b5+0x31f*-0xa+-0x633){if(_0x2fb2ae&&_0x2fb2ae['length']>-0x8b7*-0x2+-0x2287+0x111a){for(let _0x1057db=-0x1424+-0x21b+0x1*0x163f;_0x1057db<_0x2fb2ae['length'];_0x1057db++)delete this['animations'][_0x2fb2ae[_0x1057db]['name']];}else delete this['animations'][_0x2c4dc2['name']];_0x5abd9b=!(0x50*0x2d+-0x6b5*-0x3+-0x222e);for(let _0x365de9=-0x21e8+0xc68+-0x80*-0x2b;_0x365de9<_0x40a4dc['length'];_0x365de9++)this['animations'][_0x40a4dc[_0x365de9]['name']]=_0x40a4dc[_0x365de9],!_0x5abd9b&&this['currAnim']===_0x40a4dc[_0x365de9]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x5abd9b=!(-0xcd*-0x5+-0x3*0x161+-0x11*-0x2),this['play'](_0x40a4dc[_0x365de9]['name']));_0x5abd9b||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x2fb2ae&&_0x2fb2ae['length']>-0x1426*-0x1+0x14b1*0x1+0x1*-0x28d6){for(let _0x418a48=-0x105*-0x19+-0x10f7*-0x1+-0x4*0xa9d;_0x418a48<_0x2fb2ae['length'];_0x418a48++)delete this['animations'][_0x2fb2ae[_0x418a48]['name']];}this['animations'][_0x2c4dc2['name']]=_0x40a4dc[-0x3*0x559+0x569*0x5+0x1*-0xb02]||_0x40a4dc,_0x5abd9b=!(0x4c2+-0x172b+0x126a),this['currAnim']===_0x2c4dc2['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x5abd9b=!(0x224f*0x1+-0xa3*0x33+0x5e*-0x5),this['play'](_0x2c4dc2['name'])),_0x5abd9b||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x2c4dc2['id']]=_0x2c4dc2['name'];}else{if(_0x2fb2ae['length']>-0x1610+-0x78b+-0x4*-0x767){for(let _0x3c3ba9=-0x1ad5+-0x631*-0x5+-0x420;_0x3c3ba9<_0x2fb2ae['length'];_0x3c3ba9++)delete this['animations'][_0x2fb2ae[_0x3c3ba9]['name']],this['currAnim']===_0x2fb2ae[_0x3c3ba9]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x2c4dc2['name']],this['currAnim']===_0x2c4dc2['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x2c4dc2['id']];}}}['onAssetRem'+'oved'](_0x57c2e6){if(_0x57c2e6['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x57c2e6['resources']['length']>0x1*-0x16b4+-0x1a19+0x30ce){for(let _0x1e6e37=0xf6+0x1c2f+-0x9*0x33d;_0x1e6e37<_0x57c2e6['resources']['length'];_0x1e6e37++)delete this['animations'][_0x57c2e6['resources'][_0x1e6e37]['name']],this['currAnim']===_0x57c2e6['resources'][_0x1e6e37]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x57c2e6['name']],this['currAnim']===_0x57c2e6['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x57c2e6['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(0x1dd8+-0x1a3*0x1+-0x1c34),this['skeleton']&&(this['skeleton']['currentTim'+'e']=-0x4f1*0x2+-0x1d95+0x2777,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x1b669a=-0x117c*-0x1+-0xf7e+-0x1fe;_0x1b669a<this['animEvalua'+'tor']['clips']['length'];++_0x1b669a)this['animEvalua'+'tor']['clips'][_0x1b669a]['stop']();this['animEvalua'+'tor']['update'](-0x1da9+-0x14e*0x4+0x22e1*0x1),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x57c3fa=this['assets'],_0xd19c1a=this['system']['app']['assets'];if(_0x57c3fa)for(let _0x130c74=-0xd1f*-0x1+-0x2262*0x1+0x1543,_0x4d6902=_0x57c3fa['length'];_0x130c74<_0x4d6902;_0x130c74++){let _0xbf42ff=_0x57c3fa[_0x130c74];_0xbf42ff instanceof he||(_0xbf42ff=_0xd19c1a['get'](_0xbf42ff)),_0xbf42ff&&!_0xbf42ff['resource']&&_0xd19c1a['load'](_0xbf42ff);}if(this['activate']&&!this['currAnim']){const _0x56bd8d=Object['keys'](this['animations']);_0x56bd8d['length']>-0x21*0x50+-0x5*0x35e+-0x1b26*-0x1&&this['play'](_0x56bd8d[0x2b*-0x95+0xd1*0x15+0x7e2]);}}['onBeforeRe'+'move'](){for(let _0x36b2a3=0x1*-0x34b+-0x1218+-0x447*-0x5;_0x36b2a3<this['assets']['length'];_0x36b2a3++){let _0x27668e=this['assets'][_0x36b2a3];typeof _0x27668e=='number'&&(_0x27668e=this['system']['app']['assets']['get'](_0x27668e)),_0x27668e&&(_0x27668e['off']('change',this['onAssetCha'+'nged'],this),_0x27668e['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x121f4b){if(this['blending']&&(this['blend']+=_0x121f4b*this['blendSpeed'],this['blend']>=-0xe0+-0x2540+-0xe3*-0x2b&&(this['blend']=-0x1ffd+-0x33e*-0x5+0xa*0x194)),this['playing']){const _0x1e3c47=this['skeleton'];if(_0x1e3c47!==null&&this['model']!==null){if(this['blending'])_0x1e3c47['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x53a417=_0x121f4b*this['speed'];_0x1e3c47['addTime'](_0x53a417),this['speed']>-0x168f+0xdba+0x7*0x143&&_0x1e3c47['_time']===_0x1e3c47['animation']['duration']&&!this['loop']?this['playing']=!(0x99d+0x633+-0xfcf):this['speed']<0xe5*-0x1+0x1f0c*0x1+-0x1e27&&_0x1e3c47['_time']===0x252e+0xa44+-0x2*0x17b9&&!this['loop']&&(this['playing']=!(0x1e22+0x2e*0x22+-0x243d));}this['blending']&&this['blend']===-0x8f*-0x38+0x1520+0xa7b*-0x5&&(_0x1e3c47['animation']=this['toSkel']['animation']),_0x1e3c47['updateGrap'+'h']();}}const _0x1b932e=this['animEvalua'+'tor'];if(_0x1b932e){for(let _0x2c3515=0x2619+-0x5f9+-0x2020;_0x2c3515<_0x1b932e['clips']['length'];++_0x2c3515){const _0x3c517c=_0x1b932e['clips'][_0x2c3515];_0x3c517c['speed']=this['speed'],this['playing']?_0x3c517c['resume']():_0x3c517c['pause']();}this['blending']&&_0x1b932e['clips']['length']>0xd07+0x2*-0xd12+0x1*0xd1e&&(_0x1b932e['clips'][0x23fa+-0x12c5+-0x1134]['blendWeigh'+'t']=this['blend']),_0x1b932e['update'](_0x121f4b);}this['blending']&&this['blend']===-0x1363+0x4d+-0x1317*-0x1&&(this['blending']=!(0x20a*-0x4+-0x2592+-0x1fd*-0x17));}}class UP{constructor(){this['enabled']=!(0x1f46*-0x1+0x7cc+0x177a);}}const sf=['enabled'];class VP extends Qe{constructor(_0x41334a){super(_0x41334a),this['id']='animation',this['ComponentT'+'ype']=Z0,this['DataType']=UP,this['schema']=sf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3f0030,_0x353251,_0x50803f){_0x50803f=['activate','enabled','loop','speed','assets'];for(const _0x3ce5dc of _0x50803f)_0x353251['hasOwnProp'+'erty'](_0x3ce5dc)&&(_0x3f0030[_0x3ce5dc]=_0x353251[_0x3ce5dc]);super['initialize'+'ComponentD'+'ata'](_0x3f0030,_0x353251,sf);}['cloneCompo'+'nent'](_0x593e25,_0x1016bd){this['addCompone'+'nt'](_0x1016bd,{}),_0x1016bd['animation']['assets']=_0x593e25['animation']['assets']['slice'](),_0x1016bd['animation']['speed']=_0x593e25['animation']['speed'],_0x1016bd['animation']['loop']=_0x593e25['animation']['loop'],_0x1016bd['animation']['activate']=_0x593e25['animation']['activate'],_0x1016bd['animation']['enabled']=_0x593e25['animation']['enabled'];const _0x55734b={},_0x1a99e2=_0x593e25['animation']['animations'];for(const _0x57c0a2 in _0x1a99e2)_0x1a99e2['hasOwnProp'+'erty'](_0x57c0a2)&&(_0x55734b[_0x57c0a2]=_0x1a99e2[_0x57c0a2]);_0x1016bd['animation']['animations']=_0x55734b;const _0x5a7ef2={},_0x6c294e=_0x593e25['animation']['animations'+'Index'];for(const _0x50fec6 in _0x6c294e)_0x6c294e['hasOwnProp'+'erty'](_0x50fec6)&&(_0x5a7ef2[_0x50fec6]=_0x6c294e[_0x50fec6]);return _0x1016bd['animation']['animations'+'Index']=_0x5a7ef2,_0x1016bd['animation'];}['onBeforeRe'+'move'](_0x188886,_0xbbfd6a){_0xbbfd6a['onBeforeRe'+'move']();}['onUpdate'](_0x405c82){const _0xd02c5e=this['store'];for(const _0x2d2bb1 in _0xd02c5e)if(_0xd02c5e['hasOwnProp'+'erty'](_0x2d2bb1)){const _0x78963d=_0xd02c5e[_0x2d2bb1];_0x78963d['data']['enabled']&&_0x78963d['entity']['enabled']&&_0x78963d['entity']['animation']['update'](_0x405c82);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}pe['_buildAcce'+'ssors'](Z0['prototype'],sf);class Wo{constructor(_0x24c3a8,_0x5cedba,_0x1be6be,_0x6b0d0c,_0x3d1eff=-0x585*0x1+0x1228+-0xe7*0xe){this['_state']=_0x24c3a8,this['_parent']=_0x5cedba,this['_name']=_0x1be6be,Array['isArray'](_0x6b0d0c)?(this['_point']=new W(_0x6b0d0c[-0x2*0x277+0x5*0x593+0x1*-0x16f1],_0x6b0d0c[0x15bf+-0x6c*-0x1f+0x1*-0x22d2]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x6b0d0c,this['_pointLeng'+'th']=_0x6b0d0c),this['_speed']=_0x3d1eff,this['_weightedS'+'peed']=-0x1*-0x596+0x1ea1+0xa*-0x39f,this['_weight']=-0x8*-0x1f4+-0xe81+-0xb*0x1a,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x4b5c5d){this['_weight']=_0x4b5c5d;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0xa91d59=this['_state']['totalWeigh'+'t'];return _0xa91d59===-0x15da+-0x1*0x1bb3+-0x3b*-0xd7?0x1b7*0x1+-0x761+-0x122*-0x5:this['weight']/_0xa91d59;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x4b17c6){this['_weightedS'+'peed']=_0x4b17c6;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x1a0970){this['_animTrack']=_0x1a0970;}get['animTrack'](){return this['_animTrack'];}}class Ua extends Wo{constructor(_0x10e095,_0xc85d61,_0x43fcd6,_0x5a0a03,_0x336a33,_0x3a6b27,_0x43e62c,_0x19d861,_0x43933b){super(_0x10e095,_0xc85d61,_0x43fcd6,_0x5a0a03),this['_parameter'+'s']=_0x336a33,this['_parameter'+'Values']=new Array(_0x336a33['length']),this['_children']=[],this['_findParam'+'eter']=_0x43933b,this['_syncAnima'+'tions']=_0x43e62c!==!(0x69*0x5f+-0x228+-0x24ce*0x1),this['_pointCach'+'e']={};for(let _0x2c7593=0x1e*-0xbd+-0x5*0x6f1+0x38db;_0x2c7593<_0x3a6b27['length'];_0x2c7593++){const _0x4ad3f1=_0x3a6b27[_0x2c7593];_0x4ad3f1['children']?this['_children']['push'](_0x19d861(_0x4ad3f1['type'],_0x10e095,this,_0x4ad3f1['name'],-0x1*0x1e86+0x7*-0x1af+0x2a50,_0x4ad3f1['parameter']?[_0x4ad3f1['parameter']]:_0x4ad3f1['parameters'],_0x4ad3f1['children'],_0x4ad3f1['syncAnimat'+'ions'],_0x19d861,_0x43933b)):this['_children']['push'](new Wo(_0x10e095,this,_0x4ad3f1['name'],_0x4ad3f1['point'],_0x4ad3f1['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x4b1606){for(let _0x13ae19=-0x1*0x2167+0x143+0x2024;_0x13ae19<this['_children']['length'];_0x13ae19++)if(this['_children'][_0x13ae19]['name']===_0x4b1606)return this['_children'][_0x13ae19];return null;}['updatePara'+'meterValue'+'s'](){let _0x53fa08=!(-0xf87+0x12b*-0x1e+0x3291);for(let _0x194bcc=-0x7*0x471+0x211f+-0x1a*0x14;_0x194bcc<this['_parameter'+'Values']['length'];_0x194bcc++){const _0x2913ef=this['_findParam'+'eter'](this['_parameter'+'s'][_0x194bcc])['value'];this['_parameter'+'Values'][_0x194bcc]!==_0x2913ef&&(this['_parameter'+'Values'][_0x194bcc]=_0x2913ef,_0x53fa08=!(-0x1562+0x13ae+-0x17*-0x13));}return _0x53fa08;}['getNodeWei'+'ghtedDurat'+'ion'](_0x121e00){return this['_children'][_0x121e00]['animTrack']['duration']/this['_children'][_0x121e00]['speedMulti'+'plier']*this['_children'][_0x121e00]['weight'];}['getNodeCou'+'nt'](){let _0x2075f1=0x1*-0xb85+-0x18c3+0x9*0x408;for(let _0x2cc499=-0x11*0x1c6+0x1*0x2d4+0x1a*0x10d;_0x2cc499<this['_children']['length'];_0x2cc499++)this['_children'][_0x2cc499]['constructo'+'r']===Ua?_0x2075f1+=this['_children'][_0x2cc499]['getNodeCou'+'nt']():_0x2075f1++;return _0x2075f1;}}class GP extends Ua{constructor(_0x74241d,_0x2f5ce8,_0x3feebb,_0x2f7ccd,_0x5eb9f8,_0x53b716,_0x97a1b2,_0x40e3f8,_0x56a1f7){_0x53b716['sort']((_0x296c28,_0x35035f)=>_0x296c28['point']-_0x35035f['point']),super(_0x74241d,_0x2f5ce8,_0x3feebb,_0x2f7ccd,_0x5eb9f8,_0x53b716,_0x97a1b2,_0x40e3f8,_0x56a1f7);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0xe2f23=-0x2431+-0x2ec+0x24d*0x11;this['_children'][-0xc9*-0xd+0x2*0x67+-0xb03]['weight']=-0x2561+-0x1*0x2130+0x4691;for(let _0x2c6e0d=-0x14f3+0x4*-0x5+-0x301*-0x7;_0x2c6e0d<this['_children']['length'];_0x2c6e0d++){const _0x1a883c=this['_children'][_0x2c6e0d];if(_0x2c6e0d!==this['_children']['length']-(-0x1671+-0x3*0x2bf+0x5*0x623)){const _0x3bc2ce=this['_children'][_0x2c6e0d+(0x628*-0x2+0x1075+0x5*-0xd4)];if(_0x1a883c['point']===_0x3bc2ce['point'])_0x1a883c['weight']=0x2584+-0x4*-0x266+0x3ed*-0xc+0.5,_0x3bc2ce['weight']=0xbbd*-0x1+-0xbea+0x17a7+0.5;else{if(z['between'](this['_parameter'+'Values'][-0x1229+-0x8a9+0x1ad2],_0x1a883c['point'],_0x3bc2ce['point'],!(-0x1*0x1953+-0x9c5+0x4*0x8c6))){const _0x3af71f=Math['abs'](_0x1a883c['point']-_0x3bc2ce['point']),_0x35fdbf=Math['abs'](_0x1a883c['point']-this['_parameter'+'Values'][0x9a9+-0x11b*0x15+0xd8e]),_0x1b4676=(_0x3af71f-_0x35fdbf)/_0x3af71f;_0x1a883c['weight']=_0x1b4676,_0x3bc2ce['weight']=-0x1103+0x43*0x22+-0x2*-0x40f-_0x1b4676;}else _0x3bc2ce['weight']=0x3b*0x52+-0x1c77+0x1*0x991;}}this['_syncAnima'+'tions']&&(_0xe2f23+=_0x1a883c['animTrack']['duration']/_0x1a883c['absoluteSp'+'eed']*_0x1a883c['weight']);}if(this['_syncAnima'+'tions'])for(let _0x5825e6=-0x19b0+-0x161f+0x2fcf;_0x5825e6<this['_children']['length'];_0x5825e6++){const _0x2f1665=this['_children'][_0x5825e6];_0x2f1665['weightedSp'+'eed']=_0x2f1665['animTrack']['duration']/_0x2f1665['absoluteSp'+'eed']/_0xe2f23;}}}const bi=class bi extends Ua{['pointDista'+'nceCache'](_0x2a8f80,_0x5cb5e4){const _0x3912f7=''+_0x2a8f80+_0x5cb5e4;return this['_pointCach'+'e'][_0x3912f7]||(this['_pointCach'+'e'][_0x3912f7]=this['_children'][_0x5cb5e4]['point']['clone']()['sub'](this['_children'][_0x2a8f80]['point'])),this['_pointCach'+'e'][_0x3912f7];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x3338e8,_0x34463;bi['_p']['set'](...this['_parameter'+'Values']),_0x3338e8=0x1fb5*-0x1+-0x1*0x1c3f+-0x4*-0xefd,_0x34463=-0xefc+0xcd*0xd+0x493;for(let _0x35a6d7=-0x142d+-0x1b65*0x1+0x2f92;_0x35a6d7<this['_children']['length'];_0x35a6d7++){const _0x27137c=this['_children'][_0x35a6d7],_0x46b5aa=_0x27137c['point'];bi['_pip']['set'](bi['_p']['x'],bi['_p']['y'])['sub'](_0x46b5aa);let _0x254a99=Number['MAX_VALUE'];for(let _0x501138=-0x1d64+0x10*-0x198+0x36e4;_0x501138<this['_children']['length'];_0x501138++){if(_0x35a6d7===_0x501138)continue;const _0x417609=this['pointDista'+'nceCache'](_0x35a6d7,_0x501138),_0x4381a9=z['clamp'](0x3c5+-0x2*0xa55+0x2a*0x67-bi['_pip']['dot'](_0x417609)/_0x417609['lengthSq'](),0x2372+-0x1f3e+-0x434,0x1*0x1267+-0x6f*0x21+0x417*-0x1);_0x4381a9<_0x254a99&&(_0x254a99=_0x4381a9);}_0x27137c['weight']=_0x254a99,_0x3338e8+=_0x254a99,this['_syncAnima'+'tions']&&(_0x34463+=_0x27137c['animTrack']['duration']/_0x27137c['absoluteSp'+'eed']*_0x27137c['weight']);}for(let _0x5e5d44=-0x2*-0x55e+-0x1a82+0x3*0x542;_0x5e5d44<this['_children']['length'];_0x5e5d44++){const _0x29942a=this['_children'][_0x5e5d44];_0x29942a['weight']=_0x29942a['_weight']/_0x3338e8,this['_syncAnima'+'tions']&&(_0x29942a['weightedSp'+'eed']=_0x29942a['animTrack']['duration']/_0x29942a['absoluteSp'+'eed']/_0x34463);}}};c(bi,'_p',new W()),c(bi,'_pip',new W());let rf=bi;const wi=class wi extends Ua{['pointCache'](_0x17f465,_0x34201e){const _0x321652=''+_0x17f465+_0x34201e;return this['_pointCach'+'e'][_0x321652]||(this['_pointCach'+'e'][_0x321652]=new W((this['_children'][_0x34201e]['pointLengt'+'h']-this['_children'][_0x17f465]['pointLengt'+'h'])/((this['_children'][_0x34201e]['pointLengt'+'h']+this['_children'][_0x17f465]['pointLengt'+'h'])/(-0x4*-0x775+-0x2*0x1293+0x754)),W['angleRad'](this['_children'][_0x17f465]['point'],this['_children'][_0x34201e]['point'])*(0xd47+0x1ae4+-0x2829))),this['_pointCach'+'e'][_0x321652];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x42d5cb,_0x5e9fb7;wi['_p']['set'](...this['_parameter'+'Values']);const _0x2bb9bb=wi['_p']['length']();_0x42d5cb=0x57*0x4c+0x1338*0x2+0x1c9*-0x24,_0x5e9fb7=-0xb6+-0x8ed*-0x2+0x1124*-0x1;for(let _0x24fdc0=0x1a2c+-0xa*-0x3bb+-0x3f7a;_0x24fdc0<this['_children']['length'];_0x24fdc0++){const _0x223f79=this['_children'][_0x24fdc0],_0x3888b7=_0x223f79['point'],_0x3d68a4=_0x223f79['pointLengt'+'h'];let _0x344d01=Number['MAX_VALUE'];for(let _0x543f79=-0x1f8b+-0x21dd*0x1+0xb6*0x5c;_0x543f79<this['_children']['length'];_0x543f79++){if(_0x24fdc0===_0x543f79)continue;const _0x3b3d84=this['pointCache'](_0x24fdc0,_0x543f79),_0x50925e=this['_children'][_0x543f79]['pointLengt'+'h'];wi['_pip']['set']((_0x2bb9bb-_0x3d68a4)/((_0x50925e+_0x3d68a4)/(0x13d3+-0x1744*0x1+-0x1*-0x373)),W['angleRad'](_0x3888b7,wi['_p'])*(-0x8e6+-0x162a+0x1f12));const _0x224eae=z['clamp'](0xc65+0x593+-0x5fd*0x3-Math['abs'](wi['_pip']['dot'](_0x3b3d84)/_0x3b3d84['lengthSq']()),0x15a8+0x13*0x133+-0x16f*0x1f,-0xbba+0x51b*-0x1+-0x35e*-0x5);_0x224eae<_0x344d01&&(_0x344d01=_0x224eae);}_0x223f79['weight']=_0x344d01,_0x42d5cb+=_0x344d01,this['_syncAnima'+'tions']&&(_0x5e9fb7+=_0x223f79['animTrack']['duration']/_0x223f79['absoluteSp'+'eed']*_0x223f79['weight']);}for(let _0x5a90e7=0x4ab+0x2158+-0x2603;_0x5a90e7<this['_children']['length'];_0x5a90e7++){const _0x507a23=this['_children'][_0x5a90e7];if(_0x507a23['weight']=_0x507a23['_weight']/_0x42d5cb,this['_syncAnima'+'tions']){const _0x454cba=_0x507a23['animTrack']['duration']/_0x5e9fb7*_0x42d5cb;_0x507a23['weightedSp'+'eed']=_0x507a23['absoluteSp'+'eed']*_0x454cba;}}}};c(wi,'_p',new W()),c(wi,'_pip',new W());let nf=wi;class HP extends Ua{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x59e935=-0x21*0x129+-0x773*-0x2+0x1763*0x1,_0x2cb9cb=0xe7*0x29+-0x153f+-0x240*0x7;for(let _0x2299d9=0x5*-0x430+0xc3d+0x1*0x8b3;_0x2299d9<this['_children']['length'];_0x2299d9++)if(_0x59e935+=Math['max'](this['_parameter'+'Values'][_0x2299d9],-0x1145+0x68*-0x24+-0x163*-0x17),this['_syncAnima'+'tions']){const _0x427474=this['_children'][_0x2299d9];_0x2cb9cb+=_0x427474['animTrack']['duration']/_0x427474['absoluteSp'+'eed']*_0x427474['weight'];}for(let _0x1789c9=0x1d33+-0xe9d+0xe96*-0x1;_0x1789c9<this['_children']['length'];_0x1789c9++){const _0x371e21=this['_children'][_0x1789c9],_0x558219=Math['max'](this['_parameter'+'Values'][_0x1789c9],-0x1a*0x3d+-0x17bf+0x1df1);_0x59e935?(_0x371e21['weight']=_0x558219/_0x59e935,this['_syncAnima'+'tions']&&(_0x371e21['weightedSp'+'eed']=_0x371e21['animTrack']['duration']/_0x371e21['absoluteSp'+'eed']/_0x2cb9cb)):(_0x371e21['weight']=0x2416+-0x1af3+-0x923,this['_syncAnima'+'tions']&&(_0x371e21['weightedSp'+'eed']=0x1316+0xbb9*0x1+0x2cd*-0xb));}}}class tg{constructor(_0x56eef1,_0x217247,_0x2486ae=-0x179e*-0x1+0x1e92*-0x1+-0x1*-0x6f5,_0x3be8e9=!(0x1960+-0x2a5*-0x1+-0x1*0x1c05),_0x1a407e){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x56eef1,this['_name']=_0x217247,this['_speed']=_0x2486ae,this['_loop']=_0x3be8e9,this['_hasAnimat'+'ions']=!(0x4*-0x9a7+-0x1ddf+0x4*0x111f),_0x1a407e?this['_blendTree']=this['_createTre'+'e'](_0x1a407e['type'],this,null,_0x217247,0x7c5+0x154c*-0x1+-0x8*-0x1b1,_0x1a407e['parameter']?[_0x1a407e['parameter']]:_0x1a407e['parameters'],_0x1a407e['children'],_0x1a407e['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Wo(this,null,_0x217247,-0xa9c+0x1bf6+-0x1*0x1159,_0x2486ae));}['_createTre'+'e'](_0x4599fc,_0x401054,_0x749213,_0x116c71,_0x5161ab,_0x178b94,_0x575aef,_0x399acd,_0x40c70c,_0x32e870){switch(_0x4599fc){case kP:return new GP(_0x401054,_0x749213,_0x116c71,_0x5161ab,_0x178b94,_0x575aef,_0x399acd,_0x40c70c,_0x32e870);case BP:return new rf(_0x401054,_0x749213,_0x116c71,_0x5161ab,_0x178b94,_0x575aef,_0x399acd,_0x40c70c,_0x32e870);case OP:return new nf(_0x401054,_0x749213,_0x116c71,_0x5161ab,_0x178b94,_0x575aef,_0x399acd,_0x40c70c,_0x32e870);case NP:return new HP(_0x401054,_0x749213,_0x116c71,_0x5161ab,_0x178b94,_0x575aef,_0x399acd,_0x40c70c,_0x32e870);}b['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x4599fc);}['_getNodeFr'+'omPath'](_0x588716){let _0x1862ab=this['_blendTree'];for(let _0x36f2f0=-0x5b*-0x1b+0x5*0x23f+-0x3*0x6f1;_0x36f2f0<_0x588716['length'];_0x36f2f0++)_0x1862ab=_0x1862ab['getChild'](_0x588716[_0x36f2f0]);return _0x1862ab;}['addAnimati'+'on'](_0x396761,_0x17cc8d){const _0x3a376b=_0x396761['join']('.'),_0x5db80e=this['_animation'+'List']['findIndex'](_0x520394=>_0x520394['path']===_0x3a376b);if(_0x5db80e>=0x224b+0x181e+-0x3a69)this['_animation'+'List'][_0x5db80e]['animTrack']=_0x17cc8d;else{const _0x3c83f1=this['_getNodeFr'+'omPath'](_0x396761);_0x3c83f1['animTrack']=_0x17cc8d,this['_animation'+'List']['push'](_0x3c83f1);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0x3*-0x6c1+0x3*-0x4b3+-0x62a&&this['_animation'+'List']['every'](_0x4bfb5a=>_0x4bfb5a['animTrack']&&_0x4bfb5a['animTrack']!==ki['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x4a4e75){this['_animation'+'List']=_0x4a4e75,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x313208){this['_speed']=_0x313208;}get['speed'](){return this['_speed'];}set['loop'](_0x59ca16){this['_loop']=_0x59ca16;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Wo?0x1b14+-0x1179+0x2*-0x4cd:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Jh['indexOf'](this['name'])!==-(0x1fad+-0x118f+-0xe1d)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x3*0x407+0x8b*-0xd+0x2*-0x283){const _0x62d976=this['name']+'.'+this['animations'][-0x1c53+0x4d*0x2b+0xf64]['animTrack']['name'],_0x48b0a0=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x62d976);if(_0x48b0a0)return _0x48b0a0['loop'];}return!(-0x2eb*0x7+0x19ad+-0x53f*0x1);}get['totalWeigh'+'t'](){let _0x2328f8=0x1*0x2461+0x8*0x30d+-0x333*0x13;for(let _0x45cb6b=-0x1*-0x2f3+-0x82b+0x14e*0x4;_0x45cb6b<this['animations']['length'];_0x45cb6b++)_0x2328f8+=this['animations'][_0x45cb6b]['weight'];return _0x2328f8;}get['timelineDu'+'ration'](){let _0x81f69c=0x1*0x1e7b+-0x1d*-0xe5+-0x386c;for(let _0x502670=0x13b+-0x1bf+0x84;_0x502670<this['animations']['length'];_0x502670++){const _0x344e9c=this['animations'][_0x502670];_0x344e9c['animTrack']['duration']>_0x81f69c&&(_0x81f69c=_0x344e9c['animTrack']['duration']);}return _0x81f69c;}}class ec{constructor({from:_0x42a670,to:_0x18842b,time:_0x538d62=-0x5a6+-0x23c0+0x5ea*0x7,priority:_0x2194be=-0x1cda+-0x313*-0x7+0x755,conditions:_0x5d7f84=[],exitTime:_0x4aa64e=null,transitionOffset:_0x2f0383=null,interruptionSource:_0x4fe74c=X0}){this['_from']=_0x42a670,this['_to']=_0x18842b,this['_time']=_0x538d62,this['_priority']=_0x2194be,this['_condition'+'s']=_0x5d7f84,this['_exitTime']=_0x4aa64e,this['_transitio'+'nOffset']=_0x2f0383,this['_interrupt'+'ionSource']=_0x4fe74c;}get['from'](){return this['_from'];}set['to'](_0x384e59){this['_to']=_0x384e59;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class WP{constructor(_0x5c6bf2,_0x4c7020,_0x304d3b,_0x3d17e7,_0x322184,_0x3ca0f9,_0x59602a){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',uo),c(this,'_activeSta'+'teDuration',0x9d0+0x305*-0x5+0x549),c(this,'_activeSta'+'teDuration'+'Dirty',!(0xd46*-0x2+-0xa9d+-0x3*-0xc63)),c(this,'_playing',!(0x10b4*0x2+-0x13*0xcc+0x19*-0xbb)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',0x12a+0x18a9*-0x1+-0x10*-0x178),c(this,'_totalTran'+'sitionTime',0x265c+-0x6b*-0x50+-0x47cb*0x1),c(this,'_isTransit'+'ioning',!(-0xc*-0x234+0x17*0x1a9+-0x409e)),c(this,'_transitio'+'nInterrupt'+'ionSource',X0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',0x7*-0x136+-0x8db*-0x1+0x61*-0x1),c(this,'_timeInSta'+'teBefore',0x126c+0x89*-0x22+-0x2*0x1d),c(this,'findParame'+'ter',_0x47eb20=>this['_findParam'+'eter'](_0x47eb20)),(this['_animEvalu'+'ator']=_0x5c6bf2,this['_eventHand'+'ler']=_0x322184,this['_findParam'+'eter']=_0x3ca0f9,this['_consumeTr'+'igger']=_0x59602a);for(let _0x3df007=-0x18e*0x3+0x158a+-0x10e0;_0x3df007<_0x4c7020['length'];_0x3df007++)this['_states'][_0x4c7020[_0x3df007]['name']]=new tg(this,_0x4c7020[_0x3df007]['name'],_0x4c7020[_0x3df007]['speed'],_0x4c7020[_0x3df007]['loop'],_0x4c7020[_0x3df007]['blendTree']),this['_stateName'+'s']['push'](_0x4c7020[_0x3df007]['name']);this['_transitio'+'ns']=_0x304d3b['map'](_0x3df34b=>new ec({..._0x3df34b})),this['_activate']=_0x3d17e7;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x55b76e){this['_activeSta'+'teName']=_0x55b76e;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x4382c2){this['_previousS'+'tateName']=_0x4382c2;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x3fbacf=!(-0x167f+0xe5d+0x822);for(let _0x2270fa=0x21d9+0x1*0x3f+-0x2218;_0x2270fa<this['_stateName'+'s']['length'];_0x2270fa++)this['_states'][this['_stateName'+'s'][_0x2270fa]]['playable']||(_0x3fbacf=!(0xa*0x277+-0xa4*-0x10+-0x1*0x22e5));return _0x3fbacf;}set['playing'](_0x3a7ed2){this['_playing']=_0x3a7ed2;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x3b9d9e=-0x1*0x72a+-0x53*0x44+-0xe9b*-0x2;for(let _0x1d1d81=0x1133+0x567*-0x1+-0xbcc;_0x1d1d81<this['activeStat'+'eAnimation'+'s']['length'];_0x1d1d81++){const _0x5a0e2c=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x1d1d81]['name']);_0x5a0e2c&&(_0x3b9d9e=Math['max'](_0x3b9d9e,_0x5a0e2c['track']['duration']));}this['_activeSta'+'teDuration']=_0x3b9d9e,this['_activeSta'+'teDuration'+'Dirty']=!(0x1537+-0x20e7*0x1+0xbb1);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x2339e4){this['_timeInSta'+'teBefore']=_0x2339e4,this['_timeInSta'+'te']=_0x2339e4;for(let _0x210eb6=-0x2*-0x12b5+-0x3*0x305+-0x1c5b;_0x210eb6<this['activeStat'+'eAnimation'+'s']['length'];_0x210eb6++){const _0x518297=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x210eb6]['name']);_0x518297&&(_0x518297['time']=_0x2339e4);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x59e1ce){return this['_animEvalu'+'ator']['assignMask'](_0x59e1ce);}['_findState'](_0x4f675a){return this['_states'][_0x4f675a];}['_getActive'+'StateProgr'+'essForTime'](_0x48b2a5){if(this['activeStat'+'eName']===uo||this['activeStat'+'eName']===ef||this['activeStat'+'eName']===Or)return-0x1791*-0x1+0x1ef7+-0x8d*0x63;const _0x22720c=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0xc7*-0xd+0x7b3+-0x11ce]['name']);return _0x22720c?_0x22720c['progressFo'+'rTime'](_0x48b2a5):null;}['_findTrans'+'itionsFrom'+'State'](_0x405cec){let _0x4f50b7=this['_findTrans'+'itionsFrom'+'StateCache'][_0x405cec];return _0x4f50b7||(_0x4f50b7=this['_transitio'+'ns']['filter'](_0x40db61=>_0x40db61['from']===_0x405cec),Go(_0x4f50b7),this['_findTrans'+'itionsFrom'+'StateCache'][_0x405cec]=_0x4f50b7),_0x4f50b7;}['_findTrans'+'itionsBetw'+'eenStates'](_0x55e6e0,_0x4badcd){let _0x492b67=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x55e6e0+'->'+_0x4badcd];return _0x492b67||(_0x492b67=this['_transitio'+'ns']['filter'](_0x3d181f=>_0x3d181f['from']===_0x55e6e0&&_0x3d181f['to']===_0x4badcd),Go(_0x492b67),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x55e6e0+'->'+_0x4badcd]=_0x492b67),_0x492b67;}['_transitio'+'nHasCondit'+'ionsMet'](_0x591129){const _0x6aee4=_0x591129['conditions'];for(let _0x59f815=-0x13*0x9f+-0x8*-0x3d+0x9e5;_0x59f815<_0x6aee4['length'];_0x59f815++){const _0x1102ea=_0x6aee4[_0x59f815],_0xfd382d=this['_findParam'+'eter'](_0x1102ea['parameterN'+'ame']);switch(_0x1102ea['predicate']){case PP:if(!(_0xfd382d['value']>_0x1102ea['value']))return!(-0x1343+-0x29c+-0x19*-0xe0);break;case RP:if(!(_0xfd382d['value']<_0x1102ea['value']))return!(0x13*0x7a+0x13*-0x157+0x1068);break;case IP:if(!(_0xfd382d['value']>=_0x1102ea['value']))return!(0x955*-0x1+0x4*0x10d+0x522);break;case DP:if(!(_0xfd382d['value']<=_0x1102ea['value']))return!(-0x3*-0xbcb+-0x16b5+-0xcab);break;case LP:if(_0xfd382d['value']!==_0x1102ea['value'])return!(-0x4ca*-0x7+0xe07+-0x2f8c);break;case FP:if(_0xfd382d['value']===_0x1102ea['value'])return!(-0x22*-0xbd+0x1f*0x115+-0x3aa4);break;}}return!(0x4c1*-0x5+0x7ef+-0x1*-0xfd6);}['_findTrans'+'ition'](_0x29959a,_0x3f85bc){let _0x52f9e8=[];if(_0x29959a&&_0x3f85bc)_0x52f9e8=_0x52f9e8['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x29959a,_0x3f85bc));else{if(!this['_isTransit'+'ioning'])_0x52f9e8=_0x52f9e8['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x52f9e8=_0x52f9e8['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case AP:_0x52f9e8=_0x52f9e8['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x52f9e8=_0x52f9e8['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0x52f9e8=_0x52f9e8['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x52f9e8=_0x52f9e8['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0x52f9e8=_0x52f9e8['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x52f9e8=_0x52f9e8['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x52f9e8=_0x52f9e8['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case MP:_0x52f9e8=_0x52f9e8['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x52f9e8=_0x52f9e8['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x52f9e8=_0x52f9e8['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0x52f9e8=_0x52f9e8['filter'](_0x59900a=>{if(_0x59900a['to']===this['activeStat'+'eName'])return!(-0x1*-0x1904+-0x11*0x183+0xb0);if(_0x59900a['hasExitTim'+'e']){let _0x3f897a=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x29927f=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x59900a['exitTime']<-0x18b6*0x1+-0x4f2+0x9e3*0x3&&this['activeStat'+'e']['loop']&&(_0x3f897a-=Math['floor'](_0x3f897a),_0x29927f-=Math['floor'](_0x29927f)),_0x29927f===_0x3f897a){if(_0x29927f!==_0x59900a['exitTime'])return null;}else{if(!(_0x59900a['exitTime']>_0x3f897a&&_0x59900a['exitTime']<=_0x29927f))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x59900a);}),_0x52f9e8['length']>-0x2462+0xb*0x2db+0x1*0x4f9){const _0x55e609=_0x52f9e8[0x1c2+0x161a*0x1+0x5f7*-0x4];if(_0x55e609['to']===ef){const _0x5785a1=this['_findTrans'+'itionsFrom'+'State'](uo)[0x10*-0x15d+-0x136f+0x293f];_0x55e609['to']=_0x5785a1['to'];}return _0x55e609;}return null;}['updateStat'+'eFromTrans'+'ition'](_0xdaf565){let _0x38ce9f,_0x1b3f0c,_0x29c299;this['previousSt'+'ate']=_0xdaf565['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0xdaf565['to'],this['_activeSta'+'teDuration'+'Dirty']=!(-0x3*-0x31+-0x4f6+0x463);for(let _0x289e6b=0x1baa+-0x481*-0x8+-0x1fd9*0x2;_0x289e6b<_0xdaf565['conditions']['length'];_0x289e6b++){const _0x3eed2c=_0xdaf565['conditions'][_0x289e6b];this['_findParam'+'eter'](_0x3eed2c['parameterN'+'ame'])['type']===xh&&this['_consumeTr'+'igger'](_0x3eed2c['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x21718e=Math['min'](this['_totalTran'+'sitionTime']!==-0xe*-0x207+0x10c7+-0x2d29?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0xec*0x8+-0xe48+0x15a9,-0x45*-0x67+-0xf1a+-0x21c*0x6);for(let _0x305b62=-0xc*-0x98+-0x1*0xfcb+0x8ab;_0x305b62<this['_transitio'+'nPreviousS'+'tates']['length'];_0x305b62++){this['_isTransit'+'ioning']?_0x305b62!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x230b+0x16b6*-0x1+0x39c2)?this['_transitio'+'nPreviousS'+'tates'][_0x305b62]['weight']*=0x144f*-0x1+0x1fb6+-0x1*0xb66-_0x21718e:this['_transitio'+'nPreviousS'+'tates'][_0x305b62]['weight']=_0x21718e:this['_transitio'+'nPreviousS'+'tates'][_0x305b62]['weight']=0x2*0x9a9+-0x7f*0xb+0x1*-0xddc,_0x38ce9f=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x305b62]['name']);for(let _0x25cc75=0x2495*0x1+0x25*-0xd9+-0x538;_0x25cc75<_0x38ce9f['animations']['length'];_0x25cc75++)_0x1b3f0c=_0x38ce9f['animations'][_0x25cc75],_0x29c299=this['_animEvalu'+'ator']['findClip'](_0x1b3f0c['name']+'.previous.'+_0x305b62),_0x29c299||(_0x29c299=this['_animEvalu'+'ator']['findClip'](_0x1b3f0c['name']),_0x29c299['name']=_0x1b3f0c['name']+'.previous.'+_0x305b62),_0x305b62!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x1d*-0x52+-0x7f4+-0x155)&&_0x29c299['pause']();}}this['_isTransit'+'ioning']=!(0x391*-0x1+0xfbe+-0x40f*0x3),this['_totalTran'+'sitionTime']=_0xdaf565['time'],this['_currTrans'+'itionTime']=-0xb79+-0x21e3*-0x1+0x13*-0x12e,this['_transitio'+'nInterrupt'+'ionSource']=_0xdaf565['interrupti'+'onSource'];const _0x3ab695=this['activeStat'+'e'],_0x2b4fe4=_0xdaf565['transition'+'Offset']&&_0xdaf565['transition'+'Offset']>-0xd*0x221+-0xa2e*0x3+-0x851*-0x7&&_0xdaf565['transition'+'Offset']<0x2*0x61+0x80d*-0x3+0x1766;let _0x3ae9bd=0x8e4+-0x76*-0x4f+-0x3*0xf1a,_0x3955f8=-0xf77+-0x13bf*-0x1+-0x448;if(_0x2b4fe4){const _0x212f79=_0x3ab695['timelineDu'+'ration']*_0xdaf565['transition'+'Offset'];_0x3ae9bd=_0x212f79,_0x3955f8=_0x212f79;}this['_timeInSta'+'te']=_0x3ae9bd,this['_timeInSta'+'teBefore']=_0x3955f8;for(let _0x55460c=-0x2126+0xed+0x2039;_0x55460c<_0x3ab695['animations']['length'];_0x55460c++){if(_0x29c299=this['_animEvalu'+'ator']['findClip'](_0x3ab695['animations'][_0x55460c]['name']),_0x29c299)_0x29c299['reset']();else{const _0x1d25e0=Number['isFinite'](_0x3ab695['animations'][_0x55460c]['speed'])?_0x3ab695['animations'][_0x55460c]['speed']:_0x3ab695['speed'];_0x29c299=new Qh(_0x3ab695['animations'][_0x55460c]['animTrack'],this['_timeInSta'+'te'],_0x1d25e0,!(0x4b*0x4f+0xd*-0x218+0x95*0x7),_0x3ab695['loop'],this['_eventHand'+'ler']),_0x29c299['name']=_0x3ab695['animations'][_0x55460c]['name'],this['_animEvalu'+'ator']['addClip'](_0x29c299);}if(_0xdaf565['time']>-0x26c1+0xa5*-0x2b+0x4278?_0x29c299['blendWeigh'+'t']=0x221*-0x1+-0x2*-0x67f+-0xadd:_0x29c299['blendWeigh'+'t']=_0x3ab695['animations'][_0x55460c]['normalized'+'Weight'],_0x29c299['play'](),_0x2b4fe4)_0x29c299['time']=_0x3ab695['timelineDu'+'ration']*_0xdaf565['transition'+'Offset'];else{const _0x384e0f=_0x3ab695['speed']>=-0x22ac+0x1c9e+0x60e?-0x1264+-0x5e0+-0x4*-0x611:this['activeStat'+'eDuration'];_0x29c299['time']=_0x384e0f;}}}['_transitio'+'nToState'](_0x2ed921){if(!this['_findState'](_0x2ed921))return;let _0x56bd11=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x2ed921);_0x56bd11||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x56bd11=new ec({'from':null,'to':_0x2ed921})),this['updateStat'+'eFromTrans'+'ition'](_0x56bd11);}['assignAnim'+'ation'](_0x5812ac,_0x1ffdb0,_0x3983ad,_0x1ec23e){const _0x3ca58a=_0x5812ac['split']('.');let _0x344b6a=this['_findState'](_0x3ca58a[0x1445*-0x1+-0x869*-0x2+-0x1*-0x373]);_0x344b6a||(_0x344b6a=new tg(this,_0x3ca58a[-0x3*0x93c+0x115c+0xa58],_0x3983ad),this['_states'][_0x3ca58a[0x1*-0x233f+-0x705+0x2a44]]=_0x344b6a,this['_stateName'+'s']['push'](_0x3ca58a[-0x15c+0x5*0x1a5+-0x7*0xfb])),_0x344b6a['addAnimati'+'on'](_0x3ca58a,_0x1ffdb0),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x344b6a['name'],_0x1ffdb0),_0x3983ad!==void(0x57*0x1f+0x1e40+-0x28c9)&&(_0x344b6a['speed']=_0x3983ad),_0x1ec23e!==void(-0xda*-0x1c+-0x1bd9+-0x1*-0x401)&&(_0x344b6a['loop']=_0x1ec23e),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0x2019+-0x2609+0x2f8*0x2);}['removeNode'+'Animations'](_0x5d97ea){if(Jh['indexOf'](_0x5d97ea)!==-(-0x1*-0xe9e+0x24ec+-0xa7*0x4f))return!(0x32d*0x3+-0x1cf0+0xa*0x1f1);const _0x4568ab=this['_findState'](_0x5d97ea);return _0x4568ab?(_0x4568ab['animations']=[],!(-0xa5c+-0x2c5*0x1+0xd21)):(b['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x5d97ea),!(0xa06+0x1638+-0x203d));}['play'](_0x24217f){_0x24217f&&this['_transitio'+'nToState'](_0x24217f),this['_playing']=!(0x1cdc+0x2f*0x47+-0x1ad*0x19);}['pause'](){this['_playing']=!(0x1382*0x1+-0x25d6+0x169*0xd);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=uo,this['_playing']=!(0x95d*0x4+-0x2367+-0x20c),this['_currTrans'+'itionTime']=0x18c3+-0x18f1+0x2f,this['_totalTran'+'sitionTime']=-0x1f77+0x17fc+0x3be*0x2,this['_isTransit'+'ioning']=!(0x636+0x1fb*0x10+-0x25e5),this['_timeInSta'+'te']=0x4*-0x5de+0x7cc*0x3+0x14,this['_timeInSta'+'teBefore']=-0x3fd+0x4*-0x688+0x1e1d,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x77121d){if(!this['_playing'])return;let _0x58cac3,_0x56e185,_0x26fe1e;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x77121d*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x77121d=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0xcbd36b=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0xcbd36b&&this['updateStat'+'eFromTrans'+'ition'](_0xcbd36b),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x77121d,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x590316=this['_totalTran'+'sitionTime']!==-0x23f6+-0x43*0xd+0x275d?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x2*0x1082+0x8*-0x382+-0x7*0xb5;for(let _0x25a659=0x2202+0x9ff+0x2ef*-0xf;_0x25a659<this['_transitio'+'nPreviousS'+'tates']['length'];_0x25a659++){_0x58cac3=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x25a659]['name']);const _0x40f695=this['_transitio'+'nPreviousS'+'tates'][_0x25a659]['weight'];for(let _0x584031=-0xe1d*-0x1+-0x769+0x11e*-0x6;_0x584031<_0x58cac3['animations']['length'];_0x584031++)_0x56e185=_0x58cac3['animations'][_0x584031],_0x26fe1e=this['_animEvalu'+'ator']['findClip'](_0x56e185['name']+'.previous.'+_0x25a659),_0x26fe1e&&(_0x26fe1e['blendWeigh'+'t']=(-0x2*-0x9a1+0x16a5+-0x29e6-_0x590316)*_0x56e185['normalized'+'Weight']*_0x40f695);}_0x58cac3=this['activeStat'+'e'];for(let _0x157e40=-0x18d1*0x1+-0x23d3+0x1*0x3ca4;_0x157e40<_0x58cac3['animations']['length'];_0x157e40++)_0x56e185=_0x58cac3['animations'][_0x157e40],this['_animEvalu'+'ator']['findClip'](_0x56e185['name'])['blendWeigh'+'t']=_0x590316*_0x56e185['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x14*-0x199+-0x84a+0x283f);const _0x28db38=this['activeStat'+'eAnimation'+'s']['length'],_0x5a6a46=this['_animEvalu'+'ator']['clips']['length'];for(let _0x2b00a8=-0x230f+-0xc5*-0x14+-0x1*-0x13ab;_0x2b00a8<_0x5a6a46-_0x28db38;_0x2b00a8++)this['_animEvalu'+'ator']['removeClip'](-0x1d0f+0x19ed*0x1+-0x2*-0x191);this['_transitio'+'nPreviousS'+'tates']=[],_0x58cac3=this['activeStat'+'e'];for(let _0x25d3ed=0x1b0a+-0x1*-0x1667+-0x3171;_0x25d3ed<_0x58cac3['animations']['length'];_0x25d3ed++)_0x56e185=_0x58cac3['animations'][_0x25d3ed],_0x26fe1e=this['_animEvalu'+'ator']['findClip'](_0x56e185['name']),_0x26fe1e&&(_0x26fe1e['blendWeigh'+'t']=_0x56e185['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Wo){_0x58cac3=this['activeStat'+'e'];for(let _0x748f02=-0xb*-0x29b+0x919*0x4+0x3d*-0x111;_0x748f02<_0x58cac3['animations']['length'];_0x748f02++)_0x56e185=_0x58cac3['animations'][_0x748f02],_0x26fe1e=this['_animEvalu'+'ator']['findClip'](_0x56e185['name']),_0x26fe1e&&(_0x26fe1e['blendWeigh'+'t']=_0x56e185['normalized'+'Weight'],_0x56e185['parent']['syncAnimat'+'ions']&&(_0x26fe1e['speed']=_0x56e185['speed']));}}this['_animEvalu'+'ator']['update'](_0x77121d,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Jd=new W(),Zl=new A(),io=new ee(),ro=new Y(),no=new ie();class Si extends tr{constructor(_0xd03937,_0x565256,_0x4f6692,_0x547822,_0x474ccd){super(_0x565256),this['animCompon'+'ent']=_0xd03937,this['_mask']=_0x547822,this['layerName']=_0x4f6692,this['layerIndex']=_0x474ccd;}static['_packFloat'](_0xc2978d){return _0xc2978d[0x13b9*0x1+-0x1ac8*0x1+-0x70f*-0x1];}static['_packBoole'+'an'](_0x540d36){return!!_0x540d36[0xd81*-0x1+0x15*0x92+0x187*0x1];}static['_packVec2'](_0x576cb7){return Jd['x']=_0x576cb7[-0x17de+0x14ee+-0x2f*-0x10],Jd['y']=_0x576cb7[-0xa30+-0xd81+0x1*0x17b2],Jd;}static['_packVec3'](_0x388442){return Zl['x']=_0x388442[0x4d6+0x17a7*-0x1+-0x1*-0x12d1],Zl['y']=_0x388442[0x470*-0x4+-0x236c+0x352d],Zl['z']=_0x388442[0x10f2+-0x110f+0x1f],Zl;}static['_packVec4'](_0x53b0d2){return io['x']=_0x53b0d2[-0x2704+-0x1a4d*-0x1+0xcb7],io['y']=_0x53b0d2[0x103e+0xeff+-0x1f3c],io['z']=_0x53b0d2[0xee3+-0xa3*-0x16+0x5c7*-0x5],io['w']=_0x53b0d2[0x8*-0x2db+-0x12b3+0x6*0x6ed],io;}static['_packColor'](_0x4184a2){return ro['r']=_0x4184a2[0x22a9+-0x1da2*-0x1+-0x404b],ro['g']=_0x4184a2[-0xfe5*0x1+0x260e+-0x1628],ro['b']=_0x4184a2[0x21*-0xc2+-0xa75*0x1+0x1*0x2379],ro['a']=_0x4184a2[-0xc*-0xb3+-0x27d+-0x5e4],ro;}static['_packQuat'](_0x56a86e){return no['x']=_0x56a86e[0x22e5+-0x2163+-0x182],no['y']=_0x56a86e[-0xd*-0x151+0x237+-0x1353*0x1],no['z']=_0x56a86e[0x2412+-0x1*-0x1cd6+-0x40e6],no['w']=_0x56a86e[-0x257c+0x4*-0x314+-0x31cf*-0x1],no;}['resolve'](_0x27502e){const _0x397dda=Xr['encode'](_0x27502e['entityPath'],_0x27502e['component'],_0x27502e['propertyPa'+'th']);let _0x163496=this['targetCach'+'e'][_0x397dda];if(_0x163496)return _0x163496;let _0x57e5db,_0x18bf6d,_0x566380;switch(_0x27502e['component']){case'entity':_0x57e5db=this['_getEntity'+'FromHierar'+'chy'](_0x27502e['entityPath']),_0x566380=Xr['encode'](_0x57e5db['path'],'entity',_0x27502e['propertyPa'+'th']),_0x18bf6d=_0x57e5db;break;case'graph':if(_0x18bf6d=this['findNode'](_0x27502e),!_0x18bf6d)return null;_0x566380=Xr['encode'](_0x18bf6d['path'],'graph',_0x27502e['propertyPa'+'th']);break;default:if(_0x57e5db=this['_getEntity'+'FromHierar'+'chy'](_0x27502e['entityPath']),_0x18bf6d=_0x57e5db['findCompon'+'ent'](_0x27502e['component']),!_0x18bf6d)return null;_0x566380=Xr['encode'](_0x57e5db['path'],_0x27502e['component'],_0x27502e['propertyPa'+'th']);break;}return _0x163496=this['_createAni'+'mTargetFor'+'Property'](_0x18bf6d,_0x27502e['propertyPa'+'th'],_0x566380),this['targetCach'+'e'][_0x397dda]=_0x163496,_0x163496;}['update'](_0x23ba51){const _0x27533a=this['activeNode'+'s'];if(_0x27533a){for(let _0x133135=-0x7*0x2b3+0x2294+-0x323*0x5;_0x133135<_0x27533a['length'];_0x133135++)_0x27533a[_0x133135]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x3859ca){if(!this['animCompon'+'ent']['entity']['name']===_0x3859ca[-0x2*-0x7a7+-0xa74+-0x1*0x4da])return null;const _0x5a6ed7=this['animCompon'+'ent']['entity'];return _0x3859ca['length']===0x1*0xd3a+0xd4b+0x6a1*-0x4?_0x5a6ed7:_0x5a6ed7['_parent']['findByPath'](_0x3859ca);}['_resolvePa'+'th'](_0x345aef,_0x1e443b,_0x5bad0a){const _0x17934f=_0x1e443b['length']-(_0x5bad0a?-0xb*0x23+-0xc36+0xdb7:0x1651+-0x24c5*-0x1+-0x19*0x25d);for(let _0x124670=-0x571+-0x8*-0x2fe+0x1*-0x127f;_0x124670<_0x17934f;_0x124670++)_0x345aef=_0x345aef[_0x1e443b[_0x124670]];return _0x345aef;}['_setter'](_0x573735,_0x16c443,_0x355998){const _0x17f034=this['_resolvePa'+'th'](_0x573735,_0x16c443),_0x28ea45=_0x16c443[_0x16c443['length']-(0x1*-0x27+-0x2c3+-0x1*-0x2eb)],_0x2e8cf1='set'+_0x28ea45['substring'](-0x7*0x3a5+0x10b9*-0x1+0x4*0xa8f,-0x21d*0x1+-0x5*0x67+-0x1*-0x421)['toUpperCas'+'e']()+_0x28ea45['substring'](-0x7*0x225+-0x293+-0x1197*-0x1);if(_0x17f034[_0x2e8cf1]){let _0x2fc972=_0x17f034['get'+_0x28ea45['substring'](-0x1310+-0x1679+-0x1f*-0x157,0x230e+0x4*0x1eb+0x2ab9*-0x1)['toUpperCas'+'e']()+_0x28ea45['substring'](0x5*0x4eb+0x2*-0x11ff+0xb68)]['bind'](_0x17f034)();_0x2fc972=[_0x2fc972['x'],_0x2fc972['y'],_0x2fc972['z'],_0x2fc972['w']];const _0x476ba1=_0x17f034[_0x2e8cf1]['bind'](_0x17f034);return{'set':_0x5b8a69=>{_0x476ba1(_0x355998(_0x5b8a69));},'get':()=>_0x2fc972};}const _0x5949a2=_0x17f034[_0x28ea45];if(typeof _0x5949a2=='object'&&_0x5949a2['hasOwnProp'+'erty']('copy'))return function(_0xae164b){_0x5949a2['copy'](_0x355998(_0xae164b));};if([W,A,ee,Y,ie]['indexOf'](_0x17f034['constructo'+'r'])!==-(-0xecb+-0x3ad*0x1+0x1*0x1279)&&_0x16c443['length']>0x1*0x22af+-0x1*0x22ed+0x3f){const _0x1b6228=_0x16c443['length']>0x307*-0x5+0x17fb+-0x8d6?this['_resolvePa'+'th'](_0x573735,_0x16c443['slice'](-0xc*0xc5+0x6*0x2c3+-0x756,-(0x1b16+0x13b1+-0x2ec6))):_0x573735,_0x43fb0a=_0x16c443[_0x16c443['length']-(0x1810+-0x2*0x124b+0x191*0x8)];return function(_0x38cdcb){_0x17f034[_0x28ea45]=_0x355998(_0x38cdcb),_0x1b6228[_0x43fb0a]=_0x17f034;};}return function(_0xaeade1){_0x17f034[_0x28ea45]=_0x355998(_0xaeade1);};}['_createAni'+'mTargetFor'+'Property'](_0x9378f8,_0x1dabd5,_0x2b1fb5){if(this['handlers']&&_0x1dabd5[0x190+-0x13*0x14b+0x1701]['startsWith']('weight.'))return this['handlers']['weight'](_0x9378f8,_0x1dabd5[-0x17b*0x2+0xeca+-0xbd4]['replace']('weight.',''));if(this['handlers']&&_0x1dabd5[0xacd*-0x2+-0xdf*-0x9+-0xd*-0x10f]==='material'&&_0x1dabd5['length']===-0xa23+-0x1*0x7a+0xa9f*0x1){const _0x20d097=_0x1dabd5[0x7*-0x3fb+0xa97*0x3+-0x3e7];if(_0x20d097['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x9378f8,_0x20d097);}const _0x5b7eb2=this['_resolvePa'+'th'](_0x9378f8,_0x1dabd5,!(0xf50+0xcd7+-0x1*0x1c27));if(typeof _0x5b7eb2>'u')return null;let _0xd4503,_0x3a1d8b,_0x13d0ce;if(typeof _0x5b7eb2=='number')_0xd4503=this['_setter'](_0x9378f8,_0x1dabd5,Si['_packFloat']),_0x3a1d8b='vector',_0x13d0ce=-0x8c4+0x1*-0x1a87+0x234c;else{if(typeof _0x5b7eb2=='boolean')_0xd4503=this['_setter'](_0x9378f8,_0x1dabd5,Si['_packBoole'+'an']),_0x3a1d8b='vector',_0x13d0ce=0x2*0x4a3+0x249e+0x2b3*-0x11;else{if(typeof _0x5b7eb2=='object')switch(_0x5b7eb2['constructo'+'r']){case W:_0xd4503=this['_setter'](_0x9378f8,_0x1dabd5,Si['_packVec2']),_0x3a1d8b='vector',_0x13d0ce=-0x89*0x1f+-0x24e1*0x1+0x4a*0xb9;break;case A:_0xd4503=this['_setter'](_0x9378f8,_0x1dabd5,Si['_packVec3']),_0x3a1d8b='vector',_0x13d0ce=-0x1e8b+-0x1389*0x1+0x3217;break;case ee:_0xd4503=this['_setter'](_0x9378f8,_0x1dabd5,Si['_packVec4']),_0x3a1d8b='vector',_0x13d0ce=-0x232b+-0x161e+0x394d;break;case Y:_0xd4503=this['_setter'](_0x9378f8,_0x1dabd5,Si['_packColor']),_0x3a1d8b='vector',_0x13d0ce=-0x1fea+0x1b42+0x4ac;break;case ie:_0xd4503=this['_setter'](_0x9378f8,_0x1dabd5,Si['_packQuat']),_0x3a1d8b='quaternion',_0x13d0ce=0x18*0x11+0x131c+-0x14b0;break;default:return null;}}}return _0x1dabd5['indexOf']('material')!==-(0x7*0x3df+-0x1e5f+-0x1*-0x347)?new tf(_0x3759b7=>{_0xd4503(_0x3759b7),_0x9378f8['material']['update']();},_0x3a1d8b,_0x13d0ce,_0x2b1fb5):new tf(_0xd4503,_0x3a1d8b,_0x13d0ce,_0x2b1fb5);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x38f55a={},_0x1745d9=function(_0x32f10a){_0x38f55a[_0x32f10a['name']]=_0x32f10a;for(let _0x471a14=0x1*0x184b+0xf*0x64+0x1f*-0xf9;_0x471a14<_0x32f10a['children']['length'];++_0x471a14)_0x1745d9(_0x32f10a['children'][_0x471a14]);};_0x1745d9(this['graph']),this['nodes']=_0x38f55a;}}class $P{constructor(_0x2c2aaf,_0xcd294e,_0x2d699b,_0x4fad7b=0x1*-0x1c4b+-0xb87*-0x1+0x1dd*0x9,_0x3563c8=j0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',0x3*0xcd6+0x1412+-0x3a94),c(this,'_blendTime'+'Elapsed',-0x2*-0x655+-0x203d+-0x1393*-0x1),c(this,'_startingW'+'eight',-0x134a*-0x2+0x2*-0x984+-0x116*0x12),c(this,'_targetWei'+'ght',-0x7c9*0x5+-0x1*-0x2377+-0x1*-0x376),(this['_name']=_0x2c2aaf,this['_controlle'+'r']=_0xcd294e,this['_component']=_0x2d699b,this['_weight']=_0x4fad7b,this['_blendType']=_0x3563c8);}get['name'](){return this['_name'];}set['playing'](_0x5ab2c8){this['_controlle'+'r']['playing']=_0x5ab2c8;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x45d4a4){const _0x1a4232=this['_controlle'+'r'],_0x180076=_0x1a4232['playing'];_0x1a4232['playing']=!(-0xbe2*-0x2+-0x235f+-0xb9b*-0x1),_0x1a4232['activeStat'+'eCurrentTi'+'me']=_0x45d4a4,_0x180076||_0x1a4232['update'](0x24b8+-0x2178+-0x340),_0x1a4232['playing']=_0x180076;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x8921c3){this['_weight']=_0x8921c3,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x2238f7){_0x2238f7!==this['_blendType']&&(this['_blendType']=_0x2238f7,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x343b9a){this['_controlle'+'r']['assignMask'](_0x343b9a)&&this['_component']['rebind'](),this['_mask']=_0x343b9a;}get['mask'](){return this['_mask'];}['play'](_0x40d2bc){this['_controlle'+'r']['play'](_0x40d2bc);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x409018){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=z['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x409018):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x2013+0x18ea+0x1*0x729,this['_blendTime'+'Elapsed']=-0x1ee+0x17*0x1+0x1d7,this['_startingW'+'eight']=-0x52f*-0x1+0x265*-0x7+0xb94,this['_targetWei'+'ght']=0x20cf+0xe*0x18d+-0x3685)),this['_controlle'+'r']['update'](_0x409018);}['blendToWei'+'ght'](_0x3e6463,_0x14a524){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x3e6463,this['_blendTime']=Math['max'](0x83f+0x187*-0x7+0x272*0x1,_0x14a524),this['_blendTime'+'Elapsed']=-0x1b*0x157+-0x241c+-0x5*-0xe75;}['assignAnim'+'ation'](_0xc073c2,_0x3e291b,_0x537032,_0x492a53){if(!(_0x3e291b instanceof ki)){b['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0xc073c2,_0x3e291b,_0x537032,_0x492a53),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x1820+-0x1e73+0x3693*0x1&&this['_controlle'+'r']['_transitio'+'ns']['push'](new ec({'from':'START','to':_0xc073c2})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x847+-0x2*-0xec3+-0x153f));}['removeNode'+'Animations'](_0x243601){this['_controlle'+'r']['removeNode'+'Animations'](_0x243601)&&(this['_component']['playing']=!(-0x3d*0x62+0x187*0x17+0x89*-0x16));}['getAnimati'+'onAsset'](_0x58d263){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x58d263];}['transition'](_0x5bf75d,_0x2a9811=0x1651+-0x1c48+-0x1*-0x5f7,_0x2de5a7=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new ec({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x5bf75d,'time':_0x2a9811,'transitionOffset':_0x2de5a7}));}}class Sh{constructor(_0x7657b3){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x7657b3['layers']))this['_layers']=_0x7657b3['layers'];else for(const _0x864ff in _0x7657b3['layers']){const _0x2be0d7=_0x7657b3['layers'][_0x864ff],_0x3e1779={'name':_0x2be0d7['name'],'blendType':_0x2be0d7['blendType'],'weight':_0x2be0d7['weight'],'states':[],'transitions':[]};for(let _0x33ab71=-0x44f*-0x1+0x3d6*-0x7+-0x1*-0x168b;_0x33ab71<_0x2be0d7['states']['length'];_0x33ab71++)_0x3e1779['states']['push'](_0x7657b3['states'][_0x2be0d7['states'][_0x33ab71]]);for(let _0x437f8e=0x1df6+-0x5*0x353+-0xd57;_0x437f8e<_0x2be0d7['transition'+'s']['length'];_0x437f8e++){const _0x51974b=_0x7657b3['transition'+'s'][_0x2be0d7['transition'+'s'][_0x437f8e]];if(_0x51974b['conditions']&&!Array['isArray'](_0x51974b['conditions'])){const _0x53dc80=Object['keys'](_0x51974b['conditions']),_0x5bdb92=[];for(let _0x36b512=-0xd2f+-0x1*0x374+-0x1*-0x10a3;_0x36b512<_0x53dc80['length'];_0x36b512++){const _0x1cc9d7=_0x51974b['conditions'][_0x53dc80[_0x36b512]];_0x1cc9d7['parameterN'+'ame']&&_0x5bdb92['push'](_0x1cc9d7);}_0x51974b['conditions']=_0x5bdb92;}Number['isInteger'](_0x51974b['from'])&&(_0x51974b['from']=_0x7657b3['states'][_0x51974b['from']]['name']),Number['isInteger'](_0x51974b['to'])&&(_0x51974b['to']=_0x7657b3['states'][_0x51974b['to']]['name']),_0x3e1779['transition'+'s']['push'](_0x51974b);}this['_layers']['push'](_0x3e1779);}for(const _0x2571bb in _0x7657b3['parameters']){const _0x32120b=_0x7657b3['parameters'][_0x2571bb];this['_parameter'+'s'][_0x32120b['name']]={'type':_0x32120b['type'],'value':_0x32120b['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Q0 extends pe{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',-0x369+-0x1368+-0xfe*-0x17),c(this,'_activate',!(0x14c9+0x2*0xba8+-0x2c19)),c(this,'_playing',!(-0x1bb8+-0xf9c+0x2b55)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(0x1f7*0x8+-0xe68*-0x1+-0x1e1f)),c(this,'findParame'+'ter',_0x4103ee=>this['_parameter'+'s'][_0x4103ee]),c(this,'consumeTri'+'gger',_0x180e55=>{this['_consumedT'+'riggers']['add'](_0x180e55);});}set['stateGraph'+'Asset'](_0x3bad82){if(_0x3bad82===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x38022a,_0x169c40;_0x3bad82 instanceof he?(_0x38022a=_0x3bad82['id'],_0x169c40=this['system']['app']['assets']['get'](_0x38022a),_0x169c40||(this['system']['app']['assets']['add'](_0x3bad82),_0x169c40=this['system']['app']['assets']['get'](_0x38022a))):(_0x38022a=_0x3bad82,_0x169c40=this['system']['app']['assets']['get'](_0x38022a)),!(!_0x169c40||this['_stateGrap'+'hAsset']===_0x38022a)&&(_0x169c40['resource']?(this['_stateGrap'+'h']=_0x169c40['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x169c40['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x169c40['once']('load',_0x1e457d=>{this['_stateGrap'+'h']=_0x1e457d['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x169c40['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x169c40)),this['_stateGrap'+'hAsset']=_0x38022a);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x1beba8){this['_normalize'+'Weights']=_0x1beba8,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x561785){this['_animation'+'Assets']=_0x561785,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x6df5f3){this['_speed']=_0x6df5f3;}get['speed'](){return this['_speed'];}set['activate'](_0x444b02){this['_activate']=_0x444b02;}get['activate'](){return this['_activate'];}set['playing'](_0x321ffc){this['_playing']=_0x321ffc;}get['playing'](){return this['_playing'];}set['rootBone'](_0x59b433){if(typeof _0x59b433=='string'){const _0x576adb=this['entity']['root']['findByGuid'](_0x59b433);b['assert'](_0x576adb,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x59b433+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x576adb;}else _0x59b433 instanceof je?this['_rootBone']=_0x59b433:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x565f25){this['_stateGrap'+'h']=_0x565f25;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x281e96){this['_layerIndi'+'ces']=_0x281e96;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x8a156d){this['_parameter'+'s']=_0x8a156d;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x1783ce){this['_targets']=_0x1783ce;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x3588e0=-0x18f6*-0x1+0x647+0x1*-0x1f3d;_0x3588e0<this['_layers']['length'];_0x3588e0++)if(!this['_layers'][_0x3588e0]['playable'])return!(-0x1*-0xbde+0x5dc+-0x11b9);return!(0x2149+0x22b+0x2*-0x11ba);}get['baseLayer'](){return this['_layers']['length']>-0x2*0x1297+-0xa57+0x2f85?this['_layers'][-0x150+0x244d+-0x22fd]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x25b32e){const _0x349fca=this['animationA'+'ssets'],_0x28bdc1=this['layers']['map'](_0x5c7006=>_0x5c7006['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Sh(_0x25b32e['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x349fca,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x8bab6f,_0xc4994f)=>{_0x8bab6f['mask']=_0x28bdc1[_0xc4994f];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x213e2d=Object['values'](this['_targets']);for(let _0x194964=0x21c9+-0x232f+0x2*0xb3;_0x194964<_0x213e2d['length'];_0x194964++)_0x213e2d[_0x194964]['dirty']=!(-0x1*-0x1bc6+-0x6fc+-0x14ca);}['_addLayer']({name:_0x54b426,states:_0x30f119,transitions:_0xaf9fae,weight:_0x5cb40f,mask:_0x5bbe71,blendType:_0x47a554}){let _0x11a441;this['rootBone']?_0x11a441=this['rootBone']:_0x11a441=this['entity'];const _0x5e48d0=this['_layers']['length'],_0x2dc434=new Si(this,_0x11a441,_0x54b426,_0x5bbe71,_0x5e48d0),_0x5bf745=new Y0(_0x2dc434),_0x435652=new WP(_0x5bf745,_0x30f119,_0xaf9fae,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new $P(_0x54b426,_0x435652,this,_0x5cb40f,_0x47a554)),this['_layerIndi'+'ces'][_0x54b426]=_0x5e48d0,this['_layers'][_0x5e48d0];}['addLayer'](_0x3d1333,_0x4ee989,_0x57ae1c,_0x296ee9){const _0x1b1198=this['findAnimat'+'ionLayer'](_0x3d1333);if(_0x1b1198)return _0x1b1198;const _0x4d8651=[{'name':'START','speed':0x1}],_0x5a8ca6=[];return this['_addLayer']({'name':_0x3d1333,'states':_0x4d8651,'transitions':_0x5a8ca6,'weight':_0x4ee989,'mask':_0x57ae1c,'blendType':_0x296ee9});}['_assignPar'+'ameters'](_0x3100c0){this['_parameter'+'s']={};const _0x253f85=Object['keys'](_0x3100c0['parameters']);for(let _0x1002dd=0x8dc+-0x778+-0x59*0x4;_0x1002dd<_0x253f85['length'];_0x1002dd++){const _0x29d23f=_0x253f85[_0x1002dd];this['_parameter'+'s'][_0x29d23f]={'type':_0x3100c0['parameters'][_0x29d23f]['type'],'value':_0x3100c0['parameters'][_0x29d23f]['value']};}}['loadStateG'+'raph'](_0x8c151){this['_stateGrap'+'h']=_0x8c151,this['_assignPar'+'ameters'](_0x8c151),this['_layers']=[];let _0x29b717=!(0x11*0x109+0x193c+-0x2ad4);for(let _0xcd8896=0xddf+-0x1*-0xa16+-0x17f5;_0xcd8896<_0x8c151['layers']['length'];_0xcd8896++){const _0x4ee3cb=_0x8c151['layers'][_0xcd8896];this['_addLayer']({..._0x4ee3cb}),_0x4ee3cb['states']['some'](_0xe015c6=>_0xe015c6['blendTree'])&&(_0x29b717=!(0x40*0x1f+0x1b1*0x13+-0x27e3));}_0x29b717||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x29245c=0xe99+-0x1*0x75f+0x73a*-0x1;_0x29245c<this['_layers']['length'];_0x29245c++){const _0x3b5f6e=this['_layers'][_0x29245c],_0x2cb307=_0x3b5f6e['name'];for(let _0x2ca809=0x161d+0x880+-0x1e9d;_0x2ca809<_0x3b5f6e['states']['length'];_0x2ca809++){const _0xafcf9c=_0x3b5f6e['states'][_0x2ca809];if(Jh['indexOf'](_0xafcf9c)===-(0x2*-0x63d+-0x345*-0x1+0x1*0x936)){const _0x2e1c4a=_0x2cb307+':'+_0xafcf9c;this['_animation'+'Assets'][_0x2e1c4a]||(this['_animation'+'Assets'][_0x2e1c4a]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x358325=-0x15*0x15b+-0xbab+0x2822;_0x358325<this['_layers']['length'];_0x358325++){const _0x28ca5a=this['_layers'][_0x358325];for(let _0x29078d=-0x2*-0x337+-0x1*0xf53+0x8e5;_0x29078d<_0x28ca5a['states']['length'];_0x29078d++){const _0x1448d3=_0x28ca5a['states'][_0x29078d];if(Jh['indexOf'](_0x1448d3)!==-(-0x9e8+-0x15dc+0x1fc5))continue;const _0xb10d44=this['_animation'+'Assets'][_0x28ca5a['name']+':'+_0x1448d3];if(!_0xb10d44||!_0xb10d44['asset']){this['findAnimat'+'ionLayer'](_0x28ca5a['name'])['assignAnim'+'ation'](_0x1448d3,ki['EMPTY']);continue;}const _0xf28962=_0xb10d44['asset'],_0x505d59=this['system']['app']['assets']['get'](_0xf28962);_0x505d59&&(_0x505d59['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x28ca5a['name'],_0x1448d3,_0x505d59):(_0x505d59['once']('load',function(_0x35431f,_0x47ede6){return function(_0x4ef446){this['onAnimatio'+'nAssetLoad'+'ed'](_0x35431f,_0x47ede6,_0x4ef446);}['bind'](this);}['bind'](this)(_0x28ca5a['name'],_0x1448d3)),this['system']['app']['assets']['load'](_0x505d59)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x5034fb,_0x279df5,_0x1656da){this['findAnimat'+'ionLayer'](_0x5034fb)['assignAnim'+'ation'](_0x279df5,_0x1656da['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x5b3*-0x1+0x105d+-0x160f*0x1),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x479475=0x8b1*-0x4+0x13c5+0xeff;_0x479475<this['_layers']['length'];_0x479475++){const _0x4664d2=this['_layers'][_0x479475]['playing'];this['_layers'][_0x479475]['reset'](),this['_layers'][_0x479475]['playing']=_0x4664d2;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0xedd006=>{this['_targets'][_0xedd006]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x3c49bf=-0x7*-0x338+0xa38+0x418*-0x8;_0x3c49bf<this['_layers']['length'];_0x3c49bf++)this['_layers'][_0x3c49bf]['rebind']();}['findAnimat'+'ionLayer'](_0x156162){const _0x25ba34=this['_layerIndi'+'ces'][_0x156162];return this['_layers'][_0x25ba34]||null;}['addAnimati'+'onState'](_0x2fea82,_0x44916f,_0xb9a09b=0x1067+-0x362+-0xd04,_0x5045bd=!(0x1b69+-0xbbb+-0xfae),_0x280179='Base'){var _0x4b489e;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Sh({'layers':[{'name':_0x280179,'states':[{'name':'START','speed':0x1},{'name':_0x2fea82,'speed':_0xb9a09b,'loop':_0x5045bd,'defaultState':!(-0x3*-0x749+-0x321+-0x66*0x2f)}],'transitions':[{'from':'START','to':_0x2fea82}]}],'parameters':{}}));const _0x1ea438=this['findAnimat'+'ionLayer'](_0x280179);_0x1ea438?_0x1ea438['assignAnim'+'ation'](_0x2fea82,_0x44916f,_0xb9a09b,_0x5045bd):(_0x4b489e=this['addLayer'](_0x280179))==null||_0x4b489e['assignAnim'+'ation'](_0x2fea82,_0x44916f,_0xb9a09b,_0x5045bd);}['assignAnim'+'ation'](_0x3eac3c,_0xaa593,_0x10e078,_0x4c0884=-0x14d*-0x12+0x794+0x1efd*-0x1,_0x366b02=!(-0xc87*0x3+-0xad*-0x29+-0x1*-0x9e0)){if(!this['_stateGrap'+'h']&&_0x3eac3c['indexOf']('.')===-(0x26*0x5+0x2*-0x1065+0x223*0xf)){this['loadStateG'+'raph'](new Sh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x3eac3c,'speed':_0x4c0884,'loop':_0x366b02,'defaultState':!(0x1141*0x1+0x1946+-0x2a87)}],'transitions':[{'from':'START','to':_0x3eac3c}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x3eac3c,_0xaa593);return;}const _0x21e8be=_0x10e078?this['findAnimat'+'ionLayer'](_0x10e078):this['baseLayer'];if(!_0x21e8be){b['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x21e8be['assignAnim'+'ation'](_0x3eac3c,_0xaa593,_0x4c0884,_0x366b02);}['removeNode'+'Animations'](_0x103130,_0x41a4fe){const _0x58586d=_0x41a4fe?this['findAnimat'+'ionLayer'](_0x41a4fe):this['baseLayer'];if(!_0x58586d){b['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x58586d['removeNode'+'Animations'](_0x103130);}['getParamet'+'erValue'](_0x417701,_0x1be1ed){const _0x3b568f=this['_parameter'+'s'][_0x417701];if(_0x3b568f&&_0x3b568f['type']===_0x1be1ed)return _0x3b568f['value'];b['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x417701+('\x22\x20of\x20type\x20'+'\x22')+_0x1be1ed+'\x22');}['setParamet'+'erValue'](_0x5e50d5,_0x571903,_0x1175db){const _0x224cb=this['_parameter'+'s'][_0x5e50d5];if(_0x224cb&&_0x224cb['type']===_0x571903){_0x224cb['value']=_0x1175db;return;}b['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x5e50d5+('\x22\x20of\x20type\x20'+'\x22')+_0x571903+'\x22');}['getFloat'](_0x37d541){return this['getParamet'+'erValue'](_0x37d541,J_);}['setFloat'](_0x1839d0,_0x5854c1){this['setParamet'+'erValue'](_0x1839d0,J_,_0x5854c1);}['getInteger'](_0x4036c1){return this['getParamet'+'erValue'](_0x4036c1,Q_);}['setInteger'](_0x147e9e,_0x3a0740){typeof _0x3a0740=='number'&&_0x3a0740%(-0x25f8+-0x1*-0x1261+0x1398)===0x2*-0x9b3+-0x15f4+0x295a?this['setParamet'+'erValue'](_0x147e9e,Q_,_0x3a0740):b['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x147e9e,_0x3a0740);}['getBoolean'](_0x5c1e4b){return this['getParamet'+'erValue'](_0x5c1e4b,eg);}['setBoolean'](_0x6293c4,_0x4dd976){this['setParamet'+'erValue'](_0x6293c4,eg,!!_0x4dd976);}['getTrigger'](_0x517e1e){return this['getParamet'+'erValue'](_0x517e1e,xh);}['setTrigger'](_0x122bd9,_0x6720ad=!(0x1bcb+0x66e+-0x5b4*0x6)){this['setParamet'+'erValue'](_0x122bd9,xh,!(-0x1520+0x2073+-0xb53)),_0x6720ad&&this['_consumedT'+'riggers']['add'](_0x122bd9);}['resetTrigg'+'er'](_0x38a24a){this['setParamet'+'erValue'](_0x38a24a,xh,!(-0x244f+-0x4*0x5f5+0x3c24));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x59b707){for(let _0x177482=-0x1186*-0x1+0xee5+-0x206b;_0x177482<this['layers']['length'];_0x177482++)this['layers'][_0x177482]['update'](_0x59b707*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x5cfc0a=>{this['parameters'][_0x5cfc0a]['value']=!(0x49*-0x11+-0xd*-0x4a+0x118);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2f363f,_0x498730){_0x2f363f['rootBone']&&_0x498730[_0x2f363f['rootBone']['getGuid']()]?this['rootBone']=_0x498730[_0x2f363f['rootBone']['getGuid']()]:this['rebind']();}}class qP{constructor(){this['enabled']=!(0x5ca*-0x3+-0x1bb3+0x2d11);}}const af=['enabled'];class XP extends Qe{constructor(_0x5ce6f0){super(_0x5ce6f0),this['id']='anim',this['ComponentT'+'ype']=Q0,this['DataType']=qP,this['schema']=af,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x386a04,_0x56cacf,_0x45c6a6){super['initialize'+'ComponentD'+'ata'](_0x386a04,_0x56cacf,af);const _0xdeea18=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x56cacf)['forEach'](_0x487c06=>{_0xdeea18['includes'](_0x487c06)||(_0x386a04[_0x487c06]=_0x56cacf[_0x487c06]);}),_0x56cacf['stateGraph']&&(_0x386a04['stateGraph']=_0x56cacf['stateGraph'],_0x386a04['loadStateG'+'raph'](_0x386a04['stateGraph'])),_0x56cacf['layers']&&_0x56cacf['layers']['forEach']((_0x392e47,_0x223ce7)=>{_0x392e47['_controlle'+'r']['states']['forEach'](_0x430ffb=>{_0x392e47['_controlle'+'r']['_states'][_0x430ffb]['_animation'+'List']['forEach'](_0xf9cd87=>{if(!_0xf9cd87['animTrack']||_0xf9cd87['animTrack']===ki['EMPTY']){const _0x393204=this['app']['assets']['get'](_0x392e47['_component']['_animation'+'Assets'][_0x392e47['name']+':'+_0xf9cd87['name']]['asset']);_0x393204&&!_0x393204['loaded']&&_0x393204['once']('load',()=>{_0x386a04['layers'][_0x223ce7]['assignAnim'+'ation'](_0xf9cd87['name'],_0x393204['resource']);});}else _0x386a04['layers'][_0x223ce7]['assignAnim'+'ation'](_0xf9cd87['name'],_0xf9cd87['animTrack']);});});}),_0x56cacf['animationA'+'ssets']&&(_0x386a04['animationA'+'ssets']=Object['assign'](_0x386a04['animationA'+'ssets'],_0x56cacf['animationA'+'ssets'])),_0x56cacf['masks']&&Object['keys'](_0x56cacf['masks'])['forEach'](_0x4a6510=>{if(_0x386a04['layers'][_0x4a6510]){const _0x2878b5=_0x56cacf['masks'][_0x4a6510]['mask'],_0x36db72={};Object['keys'](_0x2878b5)['forEach'](_0x4c6702=>{_0x36db72[decodeURI(_0x4c6702)]=_0x2878b5[_0x4c6702];}),_0x386a04['layers'][_0x4a6510]['mask']=_0x36db72;}});}['onAnimatio'+'nUpdate'](_0x4a9dce){const _0x1f94a4=this['store'];for(const _0x2c005e in _0x1f94a4)if(_0x1f94a4['hasOwnProp'+'erty'](_0x2c005e)){const _0x1a4ad3=_0x1f94a4[_0x2c005e]['entity']['anim'];_0x1a4ad3['data']['enabled']&&_0x1a4ad3['entity']['enabled']&&_0x1a4ad3['playing']&&_0x1a4ad3['update'](_0x4a9dce);}}['cloneCompo'+'nent'](_0x5ec3c9,_0x59c44e){let _0x144e67;(!_0x5ec3c9['anim']['rootBone']||_0x5ec3c9['anim']['rootBone']===_0x5ec3c9)&&(_0x144e67={},_0x5ec3c9['anim']['layers']['forEach']((_0x4c15ec,_0x97aa38)=>{if(_0x4c15ec['mask']){const _0x1e233a={};Object['keys'](_0x4c15ec['mask'])['forEach'](_0x4d8207=>{const _0x4d7060=_0x4d8207['split']('/');_0x4d7060['shift']();const _0x275b45=[_0x59c44e['name'],..._0x4d7060]['join']('/');_0x1e233a[_0x275b45]=_0x4c15ec['mask'][_0x4d8207];}),_0x144e67[_0x97aa38]={'mask':_0x1e233a};}}));const _0x422b2b={'enabled':_0x5ec3c9['anim']['enabled'],'stateGraphAsset':_0x5ec3c9['anim']['stateGraph'+'Asset'],'animationAssets':_0x5ec3c9['anim']['animationA'+'ssets'],'speed':_0x5ec3c9['anim']['speed'],'activate':_0x5ec3c9['anim']['activate'],'playing':_0x5ec3c9['anim']['playing'],'rootBone':_0x5ec3c9['anim']['rootBone'],'stateGraph':_0x5ec3c9['anim']['stateGraph'],'layers':_0x5ec3c9['anim']['layers'],'layerIndices':_0x5ec3c9['anim']['layerIndic'+'es'],'parameters':_0x5ec3c9['anim']['parameters'],'normalizeWeights':_0x5ec3c9['anim']['normalizeW'+'eights'],'masks':_0x144e67};return this['addCompone'+'nt'](_0x59c44e,_0x422b2b);}['onBeforeRe'+'move'](_0x105ab5,_0x5f1244){_0x5f1244['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}pe['_buildAcce'+'ssors'](Q0['prototype'],af);class J0 extends pe{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x33a2f2=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x33a2f2);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class jP{constructor(){this['enabled']=!(0x1589+-0x347+0x1242*-0x1);}}const ex=['enabled'];class YP extends Qe{constructor(_0x4ffd84){super(_0x4ffd84),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=J0,this['DataType']=jP,this['schema']=ex,this['manager']=_0x4ffd84['soundManag'+'er'],b['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x364e80,_0x1446fd,_0x4d252d){_0x4d252d=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x364e80,_0x1446fd,_0x4d252d);}['onUpdate'](_0x33abd0){if(this['current']){const _0x42ae66=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x42ae66);const _0x1926c0=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x1926c0);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}pe['_buildAcce'+'ssors'](J0['prototype'],ex);const of=-0x2*-0xfed+-0xfb*0x20+-0x7a*0x1,sg=0x74*0x2f+-0x75d+0xdee*-0x1,vh='group',lf='image',tx='text',bh='stretch',KP='contain',ZP='cover',Je={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},fl={};fl[Je['DEFAULT']]='_defaultTi'+'nt',fl[Je['HOVER']]='hoverTint',fl[Je['PRESSED']]='pressedTin'+'t',fl[Je['INACTIVE']]='inactiveTi'+'nt';const pl={};pl[Je['DEFAULT']]='_defaultSp'+'riteAsset',pl[Je['HOVER']]='hoverSprit'+'eAsset',pl[Je['PRESSED']]='pressedSpr'+'iteAsset',pl[Je['INACTIVE']]='inactiveSp'+'riteAsset';const ml={};ml[Je['DEFAULT']]='_defaultSp'+'riteFrame',ml[Je['HOVER']]='hoverSprit'+'eFrame',ml[Je['PRESSED']]='pressedSpr'+'iteFrame',ml[Je['INACTIVE']]='inactiveSp'+'riteFrame';class _t extends pe{constructor(_0x1cce27,_0x1a39a4){super(_0x1cce27,_0x1a39a4),c(this,'_visualSta'+'te',Je['DEFAULT']),c(this,'_isHoverin'+'g',!(0x2c9+-0xc5*-0x7+-0x11*0x7b)),c(this,'_hoveringC'+'ounter',-0x160e*0x1+0x3b*0x96+-0xc84),c(this,'_isPressed',!(-0xd3e+0x1d5b+0x80e*-0x2)),c(this,'_defaultTi'+'nt',new Y(-0x6df+-0xe50+-0x4*-0x54c,-0xa18+0x19*-0xa1+0x19d2,-0x1f5c+0x5c3*-0x4+0x3669,-0x251*0x1+0x13*-0x45+-0xf*-0x7f)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',-0x2ca+-0x1559+-0x1*-0x1823),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Je['DEFAULT'],this['_isHoverin'+'g']=!(-0xaa3+0x1032+-0x58e),this['_hoveringC'+'ounter']=-0xeed+-0x1f5+-0x871*-0x2,this['_isPressed']=!(0x1*-0x307+-0x3*0x178+-0x1c*-0x44),this['_defaultTi'+'nt']=new Y(-0x3e*0x9d+-0x9a5*0x1+-0x1*-0x2fac,0x2*-0x89+0x108a+-0xf77,-0x78d+0x3b3*-0x1+0xb41,0x810+-0x725+-0xea),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=0xc4c*0x2+0x22e9+-0x3b81,this['_toggleLif'+'ecycleList'+'eners']('on',_0x1cce27));}get['data'](){const _0x1914f0=this['system']['store'][this['entity']['getGuid']()];return _0x1914f0?_0x1914f0['data']:null;}set['enabled'](_0x249e0a){this['_setValue']('enabled',_0x249e0a);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x3b8aeb){this['_setValue']('active',_0x3b8aeb);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x1d0c04){if(this['_imageEnti'+'ty']!==_0x1d0c04){const _0x3e2677=typeof _0x1d0c04=='string';if(this['_imageEnti'+'ty']&&_0x3e2677&&this['_imageEnti'+'ty']['getGuid']()===_0x1d0c04)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x1d0c04 instanceof Oe?this['_imageEnti'+'ty']=_0x1d0c04:_0x3e2677?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x1d0c04)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x3e2677&&_0x1d0c04&&(this['data']['imageEntit'+'y']=_0x1d0c04);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x513347){this['_setValue']('hitPadding',_0x513347);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x4e665a){this['_setValue']('transition'+'Mode',_0x4e665a);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x300cba){this['_setValue']('hoverTint',_0x300cba);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x49f0bb){this['_setValue']('pressedTin'+'t',_0x49f0bb);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x101475){this['_setValue']('inactiveTi'+'nt',_0x101475);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x3f1729){this['_setValue']('fadeDurati'+'on',_0x3f1729);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x6f1a5b){this['_setValue']('hoverSprit'+'eAsset',_0x6f1a5b);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0xc8bd8f){this['_setValue']('hoverSprit'+'eFrame',_0xc8bd8f);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x1e9c08){this['_setValue']('pressedSpr'+'iteAsset',_0x1e9c08);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x59c089){this['_setValue']('pressedSpr'+'iteFrame',_0x59c089);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x129556){this['_setValue']('inactiveSp'+'riteAsset',_0x129556);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x5d9717){this['_setValue']('inactiveSp'+'riteFrame',_0x5d9717);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x1ead81,_0x26bfb1){const _0x55c445=this['data'],_0x43cd2d=_0x55c445[_0x1ead81];_0x55c445[_0x1ead81]=_0x26bfb1,this['fire']('set',_0x1ead81,_0x43cd2d,_0x26bfb1);}['_toggleLif'+'ecycleList'+'eners'](_0x35c65d,_0x46ed4c){var _0x19d3e1;this[_0x35c65d]('set_active',this['_onSetActi'+'ve'],this),this[_0x35c65d]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x35c65d]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x35c65d]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x35c65d]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x35c65d]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x35c65d]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x35c65d]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x35c65d]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x35c65d]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x35c65d]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x35c65d==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x19d3e1=this['_evtElemen'+'tAdd'])==null||_0x19d3e1['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x4dcfa2,_0x1af325,_0x4a7299){_0x1af325!==_0x4a7299&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x2ec972,_0x461097,_0x572463){_0x461097!==_0x572463&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x461097),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x2d2e1d,_0x1ba010,_0x5b4831){_0x1ba010!==_0x5b4831&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x39d006,_0x51cfbd;(_0x39d006=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x39d006['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x51cfbd=this['_imageEnti'+'ty'])!=null&&_0x51cfbd['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x3b7564=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x3b7564['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x3b7564['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x3b7564['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x3b7564['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x3b7564['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x274c86,_0x359806,_0x5e0a86,_0x1af431,_0x45bddd;(_0x274c86=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x274c86['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x359806=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x359806['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x5e0a86=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x5e0a86['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x1af431=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x1af431['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x45bddd=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x45bddd['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x5674c2){if(this['entity']['element']){const _0x2982a9=_0x5674c2==='on';if(_0x2982a9&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x5674c2]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x5674c2]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x5674c2]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x5674c2]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x5674c2]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x5674c2]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x5674c2]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x5674c2]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x5674c2]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x5674c2]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x5674c2]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x5674c2]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x5674c2]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x5674c2]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x2982a9;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x30eda3;const _0x3449b4=(_0x30eda3=this['_imageEnti'+'ty'])==null?void(0x209d+-0x1*0x1cd5+-0x3c8):_0x30eda3['element'];!_0x3449b4||_0x3449b4['type']===vh||(this['_storeDefa'+'ultColor'](_0x3449b4['color']),this['_storeDefa'+'ultOpacity'](_0x3449b4['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x3449b4['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x3449b4['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x1fa25d){this['_defaultTi'+'nt']['r']=_0x1fa25d['r'],this['_defaultTi'+'nt']['g']=_0x1fa25d['g'],this['_defaultTi'+'nt']['b']=_0x1fa25d['b'];}['_storeDefa'+'ultOpacity'](_0x464406){this['_defaultTi'+'nt']['a']=_0x464406;}['_storeDefa'+'ultSpriteA'+'sset'](_0x3ea878){this['_defaultSp'+'riteAsset']=_0x3ea878;}['_storeDefa'+'ultSpriteF'+'rame'](_0x7867cc){this['_defaultSp'+'riteFrame']=_0x7867cc;}['_onSetColo'+'r'](_0x5486e3){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x5486e3),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x54ddef){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x54ddef),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x4ace8f){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x4ace8f),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x4994f1){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x4994f1),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x17e388){this['_isHoverin'+'g']=!(-0x659+0x49*0x38+-0x99f),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x17e388);}['_onMouseLe'+'ave'](_0xac5927){this['_isHoverin'+'g']=!(-0xe*0x215+0x13*0xb1+0x334*0x5),this['_isPressed']=!(0x22*-0x59+-0x2209+-0x16ee*-0x2),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0xac5927);}['_onMouseDo'+'wn'](_0x29e664){this['_isPressed']=!(0x25d9*-0x1+-0x4bd*-0x3+0x17a2),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x29e664);}['_onMouseUp'](_0x5c15d3){this['_isPressed']=!(0x2*-0xa7+-0x410+0x55f),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x5c15d3);}['_onTouchSt'+'art'](_0x581d62){this['_isPressed']=!(0xb97+0x1a3*-0xd+0x9b0),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x581d62);}['_onTouchEn'+'d'](_0x4d2603){_0x4d2603['event']['preventDef'+'ault'](),this['_isPressed']=!(0x4*-0x19c+-0x853*0x1+-0x2*-0x762),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x4d2603);}['_onTouchLe'+'ave'](_0x438866){this['_isPressed']=!(0xb*-0x233+0xd*-0x1be+0x2ed8),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x438866);}['_onTouchCa'+'ncel'](_0x2f584e){this['_isPressed']=!(0x15cb+-0x1008+0x43*-0x16),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x2f584e);}['_onSelectS'+'tart'](_0x4e8e71){this['_isPressed']=!(-0x13*-0x197+-0x1*0x9cd+-0x1468),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x4e8e71);}['_onSelectE'+'nd'](_0x3c6f72){this['_isPressed']=!(-0x77*0x19+0x1efa+-0x135a),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x3c6f72);}['_onSelectE'+'nter'](_0x33eca6){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0xf36+0x21df*0x1+-0x3114&&(this['_isHoverin'+'g']=!(-0x171a+-0x49*0x1d+0x1*0x1f5f),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x33eca6);}['_onSelectL'+'eave'](_0x5e3baa){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0xcad+-0x241+-0xa6c&&(this['_isHoverin'+'g']=!(0x5ef*-0x5+-0x1*-0x1cc9+-0xe3*-0x1),this['_isPressed']=!(0x1077+-0x91a+-0x75c),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x5e3baa);}['_onClick'](_0x565c90){this['_fireIfAct'+'ive']('click',_0x565c90);}['_fireIfAct'+'ive'](_0x1e8a9a,_0x4b69e4){this['data']['active']&&this['fire'](_0x1e8a9a,_0x4b69e4);}['_updateVis'+'ualState'](_0x5c89ff){const _0x1a903e=this['_visualSta'+'te'],_0x303970=this['_determine'+'VisualStat'+'e']();if((_0x1a903e!==_0x303970||_0x5c89ff)&&this['enabled'])switch(this['_visualSta'+'te']=_0x303970,_0x1a903e===Je['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x1a903e===Je['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x303970===Je['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x303970===Je['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case of:{const _0x43efc6=fl[this['_visualSta'+'te']],_0x529fc0=this[_0x43efc6];this['_applyTint'](_0x529fc0);break;}case sg:{const _0x48c605=pl[this['_visualSta'+'te']],_0x1a4cd8=ml[this['_visualSta'+'te']],_0x5f4e5c=this[_0x48c605],_0x44ec2d=this[_0x1a4cd8];this['_applySpri'+'te'](_0x5f4e5c,_0x44ec2d);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x198b+0x202*0x8+0x97b));}['_resetToDe'+'faultVisua'+'lState'](_0x154e67){var _0x361b22;if((_0x361b22=this['_imageEnti'+'ty'])!=null&&_0x361b22['element'])switch(_0x154e67){case of:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case sg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Je['PRESSED'];if(this['_isHoverin'+'g'])return Je['HOVER'];}else return Je['INACTIVE'];return Je['DEFAULT'];}['_applySpri'+'te'](_0x312e36,_0x3fd0ec){var _0x1f8baa;const _0x561c99=(_0x1f8baa=this['_imageEnti'+'ty'])==null?void(-0x1869+-0x117*0x1b+-0x35d6*-0x1):_0x1f8baa['element'];_0x561c99&&(_0x3fd0ec=_0x3fd0ec||0x5a2+0x400*-0x7+0x165e,this['_isApplyin'+'gSprite']=!(-0x1854+-0x1f15*-0x1+0x5b*-0x13),_0x561c99['spriteAsse'+'t']!==_0x312e36&&(_0x561c99['spriteAsse'+'t']=_0x312e36),_0x561c99['spriteFram'+'e']!==_0x3fd0ec&&(_0x561c99['spriteFram'+'e']=_0x3fd0ec),this['_isApplyin'+'gSprite']=!(-0x2b9*-0x5+0x18e+-0x6*0x287));}['_applyTint'](_0x30f077){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x1153*0x1+0x21*-0xa7+0x1*0x434?this['_applyTint'+'Immediatel'+'y'](_0x30f077):this['_applyTint'+'WithTween'](_0x30f077);}['_applyTint'+'Immediatel'+'y'](_0x442217){var _0x44c420;const _0x2e53f5=(_0x44c420=this['_imageEnti'+'ty'])==null?void(0x20c5*0x1+-0x69d+-0x1a28):_0x44c420['element'];if(!_0x442217||!_0x2e53f5||_0x2e53f5['type']===vh)return;const _0x3771ef=ig(_0x442217);this['_isApplyin'+'gTint']=!(0x19ad+0x2521+-0x2*0x1f67),_0x3771ef['equals'](_0x2e53f5['color'])||(_0x2e53f5['color']=_0x3771ef),_0x2e53f5['opacity']!==_0x442217['a']&&(_0x2e53f5['opacity']=_0x442217['a']),this['_isApplyin'+'gTint']=!(0x19a*-0x2+0x1a3b+-0x1706);}['_applyTint'+'WithTween'](_0x21ebfb){var _0x37ced8;const _0x27fa26=(_0x37ced8=this['_imageEnti'+'ty'])==null?void(0xd55*0x1+-0x8*-0x35f+-0x13*0x21f):_0x37ced8['element'];if(!_0x21ebfb||!_0x27fa26||_0x27fa26['type']===vh)return;const _0x588338=ig(_0x21ebfb),_0x2d4669=_0x27fa26['color'],_0x36f269=_0x27fa26['opacity'];_0x588338['equals'](_0x2d4669)&&_0x21ebfb['a']===_0x36f269||(this['_tweenInfo']={'startTime':ae(),'from':new Y(_0x2d4669['r'],_0x2d4669['g'],_0x2d4669['b'],_0x36f269),'to':_0x21ebfb['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0xbe97df=ae()-this['_tweenInfo']['startTime'];let _0x5b36d5=this['fadeDurati'+'on']===-0x1ca3+-0x87*0x47+0x4214?-0x2*-0x4cf+0x184c+-0x21e9:_0xbe97df/this['fadeDurati'+'on'];if(_0x5b36d5=z['clamp'](_0x5b36d5,0x18d6+-0x5*-0x4cd+-0x30d7,-0xb93+0x1*0x26e5+-0x1b51),Math['abs'](_0x5b36d5-(0x1380+-0x16f1+0x7e*0x7))>0x1988+0xf1*-0x5+-0x14d3+0.00001){const _0x168c25=this['_tweenInfo']['lerpColor'];_0x168c25['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x5b36d5),this['_applyTint'+'Immediatel'+'y'](new Y(_0x168c25['r'],_0x168c25['g'],_0x168c25['b'],_0x168c25['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x1be+-0x1*0x5a9+-0x3b4*-0x2),this['_hoveringC'+'ounter']=-0x3ea*-0x7+-0x1b*-0x10f+-0x37fb,this['_isPressed']=!(-0x673+0x1a35+0x1*-0x13c1),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x78a72f,_0x501309){_0x78a72f['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x501309[_0x78a72f['imageEntit'+'y']['getGuid']()]);}}c(_t,'EVENT_MOUS'+'EDOWN','mousedown'),c(_t,'EVENT_MOUS'+'EUP','mouseup'),c(_t,'EVENT_MOUS'+'EENTER','mouseenter'),c(_t,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(_t,'EVENT_CLIC'+'K','click'),c(_t,'EVENT_TOUC'+'HSTART','touchstart'),c(_t,'EVENT_TOUC'+'HEND','touchend'),c(_t,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(_t,'EVENT_TOUC'+'HLEAVE','touchleave'),c(_t,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(_t,'EVENT_SELE'+'CTEND','selectend'),c(_t,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(_t,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(_t,'EVENT_HOVE'+'RSTART','hoverstart'),c(_t,'EVENT_HOVE'+'REND','hoverend'),c(_t,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(_t,'EVENT_PRES'+'SEDEND','pressedend');function ig(_0x18a51a){return new Y(_0x18a51a['r'],_0x18a51a['g'],_0x18a51a['b']);}class QP{constructor(){this['enabled']=!(-0xdea+0x168e+-0xe*0x9e),this['active']=!(-0x2153+-0x2052+0x41a5),this['imageEntit'+'y']=null,this['hitPadding']=new ee(),this['transition'+'Mode']=of,this['hoverTint']=new Y(-0x8*-0x4f+0x11a5+0x141d*-0x1+0.75,-0x1533*0x1+-0xfa8+0x24db+0.75,-0xd3*-0x22+0x1989+-0x1*0x358f+0.75),this['pressedTin'+'t']=new Y(0x21c8+0x23a3+-0x456b+0.5,-0x86*-0x43+0x246b+-0x477d*0x1+0.5,0x795+-0x1*-0x1043+0x1*-0x17d8+0.5),this['inactiveTi'+'nt']=new Y(-0xcc*0x4+-0x1020+0x30*0x67+0.25,0x9*0x29+-0x14*0x18e+0x1da7+0.25,0x4a3*0x3+0x6c1*0x5+-0x2fae+0.25),this['fadeDurati'+'on']=-0x2a*-0x15+-0xefa+0xb88,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=-0x1308+0x23e1+0x1*-0x10d9,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x1*-0x16e5+0x2ca*0x2+-0x1*0x1c79,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0x1*0xa45+-0x1e97+-0x2*-0xa29;}}const rg=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class JP extends Qe{constructor(_0x196e63){super(_0x196e63),this['id']='button',this['ComponentT'+'ype']=_t,this['DataType']=QP,this['schema']=rg,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3cf02d,_0x514cf1,_0x230b69){_0x3cf02d['imageEntit'+'y']=_0x514cf1['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x3cf02d,_0x514cf1,rg);}['onUpdate'](_0x3f3c20){const _0xdb7f=this['store'];for(const _0xef984 in _0xdb7f){const _0x4a9c5e=_0xdb7f[_0xef984]['entity'],_0x23a99c=_0x4a9c5e['button'];_0x23a99c['enabled']&&_0x4a9c5e['enabled']&&_0x23a99c['onUpdate']();}}['_onRemoveC'+'omponent'](_0x367145,_0x4c11c3){_0x4c11c3['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const ng=new A(),ag=new ie();class Zn extends pe{constructor(_0x173e0c,_0x449508){super(_0x173e0c,_0x449508),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(0x224*-0x9+0xe*0xd6+0x791)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0xd2a415=this['system']['store'][this['entity']['getGuid']()];return _0xd2a415?_0xd2a415['data']:null;}set['enabled'](_0xb172ed){this['_setValue']('enabled',_0xb172ed);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x52e589){this['_setValue']('type',_0x52e589);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0xadba44){this['_setValue']('halfExtent'+'s',_0xadba44);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x288680){this['_setValue']('linearOffs'+'et',_0x288680);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x35eed1){this['_setValue']('angularOff'+'set',_0x35eed1);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x45da0c){this['_setValue']('radius',_0x45da0c);}get['radius'](){return this['data']['radius'];}set['axis'](_0x288da8){this['_setValue']('axis',_0x288da8);}get['axis'](){return this['data']['axis'];}set['height'](_0x2ddc9c){this['_setValue']('height',_0x2ddc9c);}get['height'](){return this['data']['height'];}set['asset'](_0x4a1aa9){this['_setValue']('asset',_0x4a1aa9);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x394551){this['_setValue']('renderAsse'+'t',_0x394551);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0xf6bf4f){this['_setValue']('convexHull',_0xf6bf4f);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0xf126fc){this['_setValue']('shape',_0xf126fc);}get['shape'](){return this['data']['shape'];}set['model'](_0x4b3b81){this['_setValue']('model',_0x4b3b81);}get['model'](){return this['data']['model'];}set['render'](_0x2c4a1f){this['_setValue']('render',_0x2c4a1f);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x513c81){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x513c81);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x4975a9,_0x4a04d7){const _0x14508b=this['data'],_0x21e9b9=_0x14508b[_0x4975a9];_0x14508b[_0x4975a9]=_0x4a04d7,this['fire']('set',_0x4975a9,_0x21e9b9,_0x4a04d7);}['onSetType'](_0x462db6,_0x24f287,_0x350d7d){_0x24f287!==_0x350d7d&&this['system']['changeType'](this,_0x24f287,_0x350d7d);}['onSetHalfE'+'xtents'](_0xbcad09,_0x3b6a46,_0x274733){const _0x2c4bdb=this['data']['type'];this['data']['initialize'+'d']&&_0x2c4bdb==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x13d4e0,_0x40ba29,_0x52a0d4){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](A['ZERO'])||!this['data']['angularOff'+'set']['equals'](ie['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x121416,_0x2e7735,_0xe231a2){const _0x3003ca=this['data']['type'];this['data']['initialize'+'d']&&(_0x3003ca==='sphere'||_0x3003ca==='capsule'||_0x3003ca==='cylinder'||_0x3003ca==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x3d715d,_0x5481c9,_0x569b98){const _0x12365d=this['data']['type'];this['data']['initialize'+'d']&&(_0x12365d==='capsule'||_0x12365d==='cylinder'||_0x12365d==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x81b73,_0x156218,_0x33760a){const _0x9cbac9=this['data']['type'];this['data']['initialize'+'d']&&(_0x9cbac9==='capsule'||_0x9cbac9==='cylinder'||_0x9cbac9==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x564de0,_0xc41c,_0x40962c){const _0x2d30cb=this['system']['app']['assets'];if(_0xc41c){const _0x2f713d=_0x2d30cb['get'](_0xc41c);_0x2f713d&&_0x2f713d['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x40962c){_0x40962c instanceof he&&(this['data']['asset']=_0x40962c['id']);const _0x3a7ea5=_0x2d30cb['get'](this['data']['asset']);_0x3a7ea5&&(_0x3a7ea5['off']('remove',this['onAssetRem'+'oved'],this),_0x3a7ea5['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x40962c||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x349a71,_0x56f19b,_0x51cadc){const _0x20949c=this['system']['app']['assets'];if(_0x56f19b){const _0x2ee945=_0x20949c['get'](_0x56f19b);_0x2ee945&&_0x2ee945['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x51cadc){_0x51cadc instanceof he&&(this['data']['renderAsse'+'t']=_0x51cadc['id']);const _0x3b51fd=_0x20949c['get'](this['data']['renderAsse'+'t']);_0x3b51fd&&(_0x3b51fd['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x3b51fd['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x51cadc||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x12f685,_0x37363c,_0x49a6ac){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x420487,_0x5d70c1,_0x46adc2){this['onSetModel'](_0x420487,_0x5d70c1,_0x46adc2);}['onAssetRem'+'oved'](_0x523226){_0x523226['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x523226['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x3961de){_0x3961de['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x3961de['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x3bfe30){const _0x199d5b=this['data']['shape'],_0x5e5ec2=_0x199d5b['getNumChil'+'dShapes']();for(let _0xb9b313=0x2c1+-0x222+0x1*-0x9f;_0xb9b313<_0x5e5ec2;_0xb9b313++){const _0x36ce06=_0x199d5b['getChildSh'+'ape'](_0xb9b313);if(Ammo['getPointer'](_0x36ce06)===Ammo['getPointer'](_0x3bfe30))return _0xb9b313;}return null;}['_onInsert'](_0x2bf5f4){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x3e2f22=this['entity']['parent'];for(;_0x3e2f22;){if(_0x3e2f22['collision']&&_0x3e2f22['collision']['type']==='compound'){_0x3e2f22['collision']['shape']['getNumChil'+'dShapes']()===0x1d60+-0x1bcb+0x9*-0x2d?this['system']['recreatePh'+'ysicalShap'+'es'](_0x3e2f22['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x3e2f22=_0x3e2f22['parent'];}}}}}['_updateCom'+'pound'](){const _0x36e401=this['entity'];if(_0x36e401['_dirtyWorl'+'d']){let _0x1218d5=_0x36e401['_dirtyLoca'+'l'],_0x2575d1=_0x36e401;for(;_0x2575d1&&!_0x1218d5&&!(_0x2575d1['collision']&&_0x2575d1['collision']===this['_compoundP'+'arent']);)_0x2575d1['_dirtyLoca'+'l']&&(_0x1218d5=!(-0x1*-0x1aeb+-0x19e0+-0x10b)),_0x2575d1=_0x2575d1['parent'];if(_0x1218d5){_0x36e401['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x36e401);const _0x2bdc9f=this['_compoundP'+'arent']['entity']['rigidbody'];_0x2bdc9f&&_0x2bdc9f['activate']();}}}['getShapePo'+'sition'](){const _0x560c50=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x526472=this['entity']['getRotatio'+'n'](),_0x4b58af=this['data']['linearOffs'+'et'];return ag['copy'](_0x526472)['transformV'+'ector'](_0x4b58af,ng),ng['add'](_0x560c50);}return _0x560c50;}['getShapeRo'+'tation'](){const _0x3754c8=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ag['copy'](_0x3754c8)['mul'](this['data']['angularOff'+'set']):_0x3754c8;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x2d3b1b=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x2d3b1b&&(!_0x2d3b1b['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0xecf*-0x1+-0x1*0xc1f+0x1aee)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x5d3959=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x5d3959,this['data']['shape']),Ammo['destroy'](_0x5d3959),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Zn,'EVENT_CONT'+'ACT','contact'),c(Zn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Zn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Zn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Zn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class eR{constructor(){this['enabled']=!(-0x365*-0x6+-0x1efe+0x22*0x50),this['type']='box',this['halfExtent'+'s']=new A(-0x18e4+0x1a71+0x1*-0x18d+0.5,-0xcfa+0x3*0xc52+-0x17fc+0.5,-0x1*-0x1cc7+-0xe27*-0x1+0x13a*-0x23+0.5),this['linearOffs'+'et']=new A(),this['angularOff'+'set']=new ie(),this['radius']=0xe28+-0x1f34+0x110c+0.5,this['axis']=0xbde+-0x11e7*0x1+-0x1*-0x60a,this['height']=0x3*0x939+-0x711+-0x1498,this['convexHull']=!(-0x1*0xbcb+0x1a1e+0x1a*-0x8d),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x1ce5+0x4*0x53a+-0x199*-0x5),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x13*0x91+-0xf*-0x18a+-0x21d8);}}const ao='static',vs='dynamic',zn='kinematic',tR=0x1*-0x1b1+0xc+0x1a7,fo=-0x877+-0x562*-0x4+0xd*-0x101,hf=-0x239*-0x1+0x271+-0x4a9*0x1,og=-0x1096+-0x727+0x1*0x17c1,sx=0x132e+0x5c2*0x3+-0x246f,sR=0x21e*-0x1+0x1d3b*0x1+-0x1b1c,lg=0x881+-0x22a5+0x1a26,iR=0x2f*0xb+-0x9bd+0x7bc,hg=-0x4*-0x194+-0x1*0x9d9+0x3*0x133,cg=-0x1d*-0xbf5+-0x3487+-0x1*0x263b,cf=0x6aa3*0x2+-0x343f+0x5ef6;let bs,Cr,Un;class ix{constructor(_0x45e81d,_0x319abf,_0x1299f7){this['entity']=_0x319abf['entity'],this['component']=_0x319abf,this['app']=_0x45e81d,typeof Ammo<'u'&&!bs&&(bs=new Ammo['btVector3'](),Cr=new Ammo['btQuaterni'+'on'](),Un=new Ammo['btTransfor'+'m']()),this['initialize'](_0x1299f7);}['initialize'](_0x471319){const _0x2e41f5=this['entity'],_0x2ecebf=_0x471319['shape'];if(_0x2ecebf&&typeof Ammo<'u'){_0x2e41f5['trigger']&&_0x2e41f5['trigger']['destroy']();const _0x4ef654=0x1*0x108b+-0x1fe0+0xf56,_0xf042b7=this['component'];if(_0xf042b7){const _0x231b22=_0xf042b7['getShapePo'+'sition'](),_0x2488b9=_0xf042b7['getShapeRo'+'tation']();bs['setValue'](_0x231b22['x'],_0x231b22['y'],_0x231b22['z']),Cr['setValue'](_0x2488b9['x'],_0x2488b9['y'],_0x2488b9['z'],_0x2488b9['w']);}else{const _0x35cac5=_0x2e41f5['getPositio'+'n'](),_0x4f3637=_0x2e41f5['getRotatio'+'n']();bs['setValue'](_0x35cac5['x'],_0x35cac5['y'],_0x35cac5['z']),Cr['setValue'](_0x4f3637['x'],_0x4f3637['y'],_0x4f3637['z'],_0x4f3637['w']);}Un['setOrigin'](bs),Un['setRotatio'+'n'](Cr);const _0xa3a985=this['app']['systems']['rigidbody']['createBody'](_0x4ef654,_0x2ecebf,Un);_0xa3a985['setRestitu'+'tion'](0x2395+-0x1f73+-0x422),_0xa3a985['setFrictio'+'n'](0x1*0x193c+-0x1b25+0x1e9),_0xa3a985['setDamping'](-0x2e+-0x26*-0xb1+-0x1a18,-0x11c0+0x33f+0xe81),bs['setValue'](-0x1*0x15ab+0x42*0x66+-0x4a1,-0x1c7+0x9*-0x4e+0xd*0x59,-0x1*0x11e3+0x26*0xbc+-0xa05),_0xa3a985['setLinearF'+'actor'](bs),_0xa3a985['setAngular'+'Factor'](bs),_0xa3a985['setCollisi'+'onFlags'](_0xa3a985['getCollisi'+'onFlags']()|fo),_0xa3a985['entity']=_0x2e41f5,this['body']=_0xa3a985,this['component']['enabled']&&_0x2e41f5['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x24f73a){const _0x4a273c=this['component'];if(_0x4a273c){const _0x2cd397=_0x4a273c['getShapePo'+'sition'](),_0x4e6fa6=_0x4a273c['getShapeRo'+'tation']();bs['setValue'](_0x2cd397['x'],_0x2cd397['y'],_0x2cd397['z']),Cr['setValue'](_0x4e6fa6['x'],_0x4e6fa6['y'],_0x4e6fa6['z'],_0x4e6fa6['w']);}else{const _0x5b7d94=this['entity']['getPositio'+'n'](),_0x5547c4=this['entity']['getRotatio'+'n']();bs['setValue'](_0x5b7d94['x'],_0x5b7d94['y'],_0x5b7d94['z']),Cr['setValue'](_0x5547c4['x'],_0x5547c4['y'],_0x5547c4['z'],_0x5547c4['w']);}_0x24f73a['setOrigin'](bs),_0x24f73a['setRotatio'+'n'](Cr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Un);const _0x53c315=this['body'];_0x53c315['setWorldTr'+'ansform'](Un),_0x53c315['activate']();}['enable'](){const _0x3cfa02=this['body'];if(!_0x3cfa02)return;const _0xe431bf=this['app']['systems']['rigidbody'];_0xe431bf['_triggers']['indexOf'](this)<-0x4*0x15+0x1895+-0x377*0x7&&(_0xe431bf['addBody'](_0x3cfa02,hg,cf^hg),_0xe431bf['_triggers']['push'](this)),_0x3cfa02['forceActiv'+'ationState'](hf),this['updateTran'+'sform']();}['disable'](){const _0x3b297=this['body'];if(!_0x3b297)return;const _0x4793d5=this['app']['systems']['rigidbody'],_0x2c568a=_0x4793d5['_triggers']['indexOf'](this);_0x2c568a>-(0x10c0+0xce4*-0x1+-0x3db)&&(_0x4793d5['removeBody'](_0x3b297),_0x4793d5['_triggers']['splice'](_0x2c568a,-0x2254+0xc1b+0x472*0x5)),_0x3b297['forceActiv'+'ationState'](sx);}}const Ql=new q(),rR=new A(),nR=new A(),Mr=new ie(),dg=new Oe(),aR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class vn{constructor(_0x206da7){this['system']=_0x206da7;}['beforeInit'+'ialize'](_0x1263c5,_0x1fd7b7){_0x1fd7b7['shape']=null,_0x1fd7b7['model']=new Ui(),_0x1fd7b7['model']['graph']=new Oe();}['afterIniti'+'alize'](_0x4077da,_0xb55bd5){this['recreatePh'+'ysicalShap'+'es'](_0x4077da),_0x4077da['data']['initialize'+'d']=!(-0x24db+-0x2133+0x460e);}['reset'](_0x4667cb,_0x460a29){this['beforeInit'+'ialize'](_0x4667cb,_0x460a29),this['afterIniti'+'alize'](_0x4667cb,_0x460a29);}['recreatePh'+'ysicalShap'+'es'](_0x1d733e){const _0x3a1ef2=_0x1d733e['entity'],_0x423c0f=_0x1d733e['data'];if(typeof Ammo<'u'){_0x3a1ef2['trigger']&&(_0x3a1ef2['trigger']['destroy'](),delete _0x3a1ef2['trigger']),_0x423c0f['shape']&&(_0x1d733e['_compoundP'+'arent']&&(_0x1d733e!==_0x1d733e['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x1d733e['_compoundP'+'arent'],_0x423c0f['shape']),_0x1d733e['_compoundP'+'arent']['entity']['rigidbody']&&_0x1d733e['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x423c0f)),_0x423c0f['shape']=this['createPhys'+'icalShape'](_0x1d733e['entity'],_0x423c0f);const _0x13d0fa=!_0x1d733e['_compoundP'+'arent'];if(_0x423c0f['type']==='compound'&&(!_0x1d733e['_compoundP'+'arent']||_0x1d733e===_0x1d733e['_compoundP'+'arent']))_0x1d733e['_compoundP'+'arent']=_0x1d733e,_0x3a1ef2['forEach'](this['_addEachDe'+'scendant'],_0x1d733e);else{if(_0x423c0f['type']!=='compound'&&!_0x1d733e['rigidbody']){_0x1d733e['_compoundP'+'arent']=null;let _0x1bd7d1=_0x3a1ef2['parent'];for(;_0x1bd7d1;){if(_0x1bd7d1['collision']&&_0x1bd7d1['collision']['type']==='compound'){_0x1d733e['_compoundP'+'arent']=_0x1bd7d1['collision'];break;}_0x1bd7d1=_0x1bd7d1['parent'];}}}_0x1d733e['_compoundP'+'arent']&&_0x1d733e!==_0x1d733e['_compoundP'+'arent']&&(_0x13d0fa&&_0x1d733e['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x2f1+-0x2549+0x2258?this['system']['recreatePh'+'ysicalShap'+'es'](_0x1d733e['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x3a1ef2,!(0x1*-0x3db+-0x2171+0x254c)),_0x1d733e['_compoundP'+'arent']['entity']['rigidbody']&&_0x1d733e['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x3a1ef2['rigidbody']?(_0x3a1ef2['rigidbody']['disableSim'+'ulation'](),_0x3a1ef2['rigidbody']['createBody'](),_0x3a1ef2['enabled']&&_0x3a1ef2['rigidbody']['enabled']&&_0x3a1ef2['rigidbody']['enableSimu'+'lation']()):_0x1d733e['_compoundP'+'arent']||(_0x3a1ef2['trigger']?_0x3a1ef2['trigger']['initialize'](_0x423c0f):_0x3a1ef2['trigger']=new ix(this['system']['app'],_0x1d733e,_0x423c0f));}}['createPhys'+'icalShape'](_0x3f99db,_0x21bdc1){}['updateTran'+'sform'](_0x4c4b6a,_0x8e3294,_0x2572c4,_0x571e00){_0x4c4b6a['entity']['trigger']&&_0x4c4b6a['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x3a23a7){_0x3a23a7['shape']&&(Ammo['destroy'](_0x3a23a7['shape']),_0x3a23a7['shape']=null);}['beforeRemo'+'ve'](_0x1b1e4c,_0x2f5f89){_0x2f5f89['data']['shape']&&(_0x2f5f89['_compoundP'+'arent']&&!_0x2f5f89['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x2f5f89['_compoundP'+'arent'],_0x2f5f89['data']['shape']),_0x2f5f89['_compoundP'+'arent']['entity']['rigidbody']&&_0x2f5f89['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x2f5f89['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x2f5f89['data']));}['remove'](_0x3377b0,_0x9d66f1){_0x3377b0['rigidbody']&&_0x3377b0['rigidbody']['body']&&_0x3377b0['rigidbody']['disableSim'+'ulation'](),_0x3377b0['trigger']&&(_0x3377b0['trigger']['destroy'](),delete _0x3377b0['trigger']);}['clone'](_0x1bad03,_0x46485b){const _0x99d199=this['system']['store'][_0x1bad03['getGuid']()],_0xf64e74={'enabled':_0x99d199['data']['enabled'],'type':_0x99d199['data']['type'],'halfExtents':[_0x99d199['data']['halfExtent'+'s']['x'],_0x99d199['data']['halfExtent'+'s']['y'],_0x99d199['data']['halfExtent'+'s']['z']],'linearOffset':[_0x99d199['data']['linearOffs'+'et']['x'],_0x99d199['data']['linearOffs'+'et']['y'],_0x99d199['data']['linearOffs'+'et']['z']],'angularOffset':[_0x99d199['data']['angularOff'+'set']['x'],_0x99d199['data']['angularOff'+'set']['y'],_0x99d199['data']['angularOff'+'set']['z'],_0x99d199['data']['angularOff'+'set']['w']],'radius':_0x99d199['data']['radius'],'axis':_0x99d199['data']['axis'],'height':_0x99d199['data']['height'],'convexHull':_0x99d199['data']['convexHull'],'asset':_0x99d199['data']['asset'],'renderAsset':_0x99d199['data']['renderAsse'+'t'],'model':_0x99d199['data']['model'],'render':_0x99d199['data']['render'],'checkVertexDuplicates':_0x99d199['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x46485b,_0xf64e74);}}class oR extends vn{['createPhys'+'icalShape'](_0xa4fac4,_0x574541){if(typeof Ammo<'u'){const _0x2f6913=_0x574541['halfExtent'+'s'],_0x59992a=new Ammo['btVector3'](_0x2f6913?_0x2f6913['x']:0x449*-0x2+0x26b*0xb+0x163*-0xd+0.5,_0x2f6913?_0x2f6913['y']:-0x12d6+-0x2f*-0x3b+0x3*0x2ab+0.5,_0x2f6913?_0x2f6913['z']:0x5b0+-0x182*-0x13+-0xf*0x24a+0.5),_0x225f4f=new Ammo['btBoxShape'](_0x59992a);return Ammo['destroy'](_0x59992a),_0x225f4f;}}}class lR extends vn{['createPhys'+'icalShape'](_0x2147a7,_0x168604){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x168604['radius']);}}class hR extends vn{['createPhys'+'icalShape'](_0x44d57a,_0x4a3f16){const _0x500add=_0x4a3f16['axis']??-0x2551+0x1*0x1a1c+-0x11f*-0xa,_0x60eb3e=_0x4a3f16['radius']??-0x19d+0x3*-0xb55+0x239c*0x1+0.5,_0x1946bd=Math['max']((_0x4a3f16['height']??0x67*0x7+0x2ad*-0x7+0xfec)-(-0x22e6+0x10*-0x72+-0x541*-0x8)*_0x60eb3e,-0x1693*0x1+-0x4*-0x52c+0x3*0xa1);let _0x4f5755=null;if(typeof Ammo<'u')switch(_0x500add){case 0x1e1d+-0x6*-0x15c+-0x65*0x61:_0x4f5755=new Ammo['btCapsuleS'+'hapeX'](_0x60eb3e,_0x1946bd);break;case 0x2bb*-0xd+0x2337+0x49:_0x4f5755=new Ammo['btCapsuleS'+'hape'](_0x60eb3e,_0x1946bd);break;case 0x25e*0x5+-0x9d*-0x1+-0xc71:_0x4f5755=new Ammo['btCapsuleS'+'hapeZ'](_0x60eb3e,_0x1946bd);break;}return _0x4f5755;}}class cR extends vn{['createPhys'+'icalShape'](_0x6509bf,_0x2ff285){const _0x1b8c00=_0x2ff285['axis']??-0xe61+0x25*-0xcf+-0x1*-0x2c4d,_0x1161ad=_0x2ff285['radius']??-0x16ad+-0x1124+-0x27d1*-0x1+0.5,_0x55efb7=_0x2ff285['height']??0x1a5e+-0x82*-0x1+-0x3*0x8f5;let _0x4964af=null,_0xd7a24=null;if(typeof Ammo<'u')switch(_0x1b8c00){case 0x243e+0x1b*-0x13e+-0x2b4:_0x4964af=new Ammo['btVector3'](_0x55efb7*(-0xbd*0xf+-0x8eb*-0x3+-0xfae+0.5),_0x1161ad,_0x1161ad),_0xd7a24=new Ammo['btCylinder'+'ShapeX'](_0x4964af);break;case 0x1b07+-0x3*0x6aa+0x64*-0x12:_0x4964af=new Ammo['btVector3'](_0x1161ad,_0x55efb7*(-0x1*-0x12be+-0xd8a+-0x94*0x9+0.5),_0x1161ad),_0xd7a24=new Ammo['btCylinder'+'Shape'](_0x4964af);break;case-0xeb9+0x20*0x60+0x2bb:_0x4964af=new Ammo['btVector3'](_0x1161ad,_0x1161ad,_0x55efb7*(0x190a+-0xb3e+-0x4*0x373+0.5)),_0xd7a24=new Ammo['btCylinder'+'ShapeZ'](_0x4964af);break;}return _0x4964af&&Ammo['destroy'](_0x4964af),_0xd7a24;}}class dR extends vn{['createPhys'+'icalShape'](_0x4f80ca,_0x3ccd79){const _0x177c5b=_0x3ccd79['axis']??-0x1af2+-0x49d*0x7+0x3b3e,_0x5b9781=_0x3ccd79['radius']??-0x1*0xb5d+0x213f*-0x1+0x2c9c+0.5,_0x283c5d=_0x3ccd79['height']??0x172e+-0x117*0xf+0x1*-0x6d4;let _0x4dc4e7=null;if(typeof Ammo<'u')switch(_0x177c5b){case 0x298+0x3d*0x1d+-0x981:_0x4dc4e7=new Ammo['btConeShap'+'eX'](_0x5b9781,_0x283c5d);break;case-0x18e2+0x348+0x159b:_0x4dc4e7=new Ammo['btConeShap'+'e'](_0x5b9781,_0x283c5d);break;case 0x1838+-0xf1*-0x8+-0x1fbe:_0x4dc4e7=new Ammo['btConeShap'+'eZ'](_0x5b9781,_0x283c5d);break;}return _0x4dc4e7;}}class uR extends vn{['beforeInit'+'ialize'](_0xf9afc,_0x388529){}['createAmmo'+'Hull'](_0x9b87fb,_0x46c7ad,_0x5bb448,_0x1dc2ff){const _0x29f134=new Ammo['btConvexHu'+'llShape'](),_0x434a79=new Ammo['btVector3'](),_0x267b71=[];_0x9b87fb['getPositio'+'ns'](_0x267b71);for(let _0x3c2fe0=0x191c+0x14b*-0x4+-0x13f0;_0x3c2fe0<_0x267b71['length'];_0x3c2fe0+=0x15d*0x18+0xfd2+-0x3087)_0x434a79['setValue'](_0x267b71[_0x3c2fe0]*_0x1dc2ff['x'],_0x267b71[_0x3c2fe0+(-0x1b*-0x103+-0x1de*0x11+0x46e)]*_0x1dc2ff['y'],_0x267b71[_0x3c2fe0+(-0x7ae*0x1+0x10bb*0x1+-0x90b)]*_0x1dc2ff['z']),_0x29f134['addPoint'](_0x434a79,!(-0x15d2+0x1*-0x1ba3+-0x3ce*-0xd));Ammo['destroy'](_0x434a79),_0x29f134['recalcLoca'+'lAabb'](),_0x29f134['setMargin'](-0xf77+0x3*-0x26+0xfe9+0.01);const _0x5f5196=this['system']['_getNodeTr'+'ansform'](_0x46c7ad);_0x5bb448['addChildSh'+'ape'](_0x5f5196,_0x29f134),Ammo['destroy'](_0x5f5196);}['createAmmo'+'Mesh'](_0x5a8f91,_0x4c704b,_0x19d20a,_0x5a6373,_0x5c6854=!(0xe94+0x3a9*0x1+0x123d*-0x1)){const _0x23dc89=this['system'];let _0x202945;if(_0x23dc89['_triMeshCa'+'che'][_0x5a8f91['id']])_0x202945=_0x23dc89['_triMeshCa'+'che'][_0x5a8f91['id']];else{const _0x5b89cd=_0x5a8f91['vertexBuff'+'er'],_0x549356=_0x5b89cd['getFormat']();let _0xfb9bb8,_0x3862d2;for(let _0x96b64e=0xd9c*-0x1+-0x4f4*0x4+0x216c;_0x96b64e<_0x549356['elements']['length'];_0x96b64e++){const _0x52a5be=_0x549356['elements'][_0x96b64e];if(_0x52a5be['name']===Xe){_0x3862d2=new Float32Array(_0x5b89cd['lock'](),_0x52a5be['offset']),_0xfb9bb8=_0x52a5be['stride']/(0xc94+0x5fb*-0x3+0x561);break;}}const _0x33d08e=[];_0x5a8f91['getIndices'](_0x33d08e);const _0x24e152=_0x5a8f91['primitive'][0xfcf+0xf56+-0x1f25]['count']/(0x1cdf+0x878+-0x12aa*0x2),_0x5c338d=new Ammo['btVector3']();let _0x406f8a,_0x3c4f0b,_0x5d79d1;const _0x43ad5b=_0x5a8f91['primitive'][-0x7a8+-0x1937+0x20df]['base'];_0x202945=new Ammo['btTriangle'+'Mesh'](),_0x23dc89['_triMeshCa'+'che'][_0x5a8f91['id']]=_0x202945;const _0xb9997f=new Map();b['assert'](typeof _0x202945['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x56e12f=_0x202945['getIndexed'+'MeshArray']();_0x56e12f['at'](-0x7cd*-0x2+0xfd*-0x21+-0x1*-0x1103)['m_numTrian'+'gles']=_0x24e152;const _0x1af8ec=_0x5a6373?_0x5a6373['x']:-0x38*-0x2+0x354*0x8+-0x1b0f,_0x514b6c=_0x5a6373?_0x5a6373['y']:-0xb0+-0x2f*-0x4+-0xb*0x1,_0x13de27=_0x5a6373?_0x5a6373['z']:0xb*0xe3+-0xe0b+-0x9d*-0x7,_0xf7188c=_0x2ebb1e=>{const _0x40379c=_0x3862d2[_0x2ebb1e*_0xfb9bb8]*_0x1af8ec,_0x3ab914=_0x3862d2[_0x2ebb1e*_0xfb9bb8+(-0x6*0x8b+-0x9*-0x5+0x5*0x9e)]*_0x514b6c,_0x5a1812=_0x3862d2[_0x2ebb1e*_0xfb9bb8+(-0x2*0xe55+0x956+0x63*0x32)]*_0x13de27;let _0x4bf2ba;if(_0x5c6854){const _0x308b10=_0x40379c+':'+_0x3ab914+':'+_0x5a1812;if(_0x4bf2ba=_0xb9997f['get'](_0x308b10),_0x4bf2ba!==void(0x269d+0xe4a*0x1+-0x34e7))return _0x4bf2ba;_0x5c338d['setValue'](_0x40379c,_0x3ab914,_0x5a1812),_0x4bf2ba=_0x202945['findOrAddV'+'ertex'](_0x5c338d,!(-0x67d+-0x1*-0x2317+0x1c99*-0x1)),_0xb9997f['set'](_0x308b10,_0x4bf2ba);}else _0x5c338d['setValue'](_0x40379c,_0x3ab914,_0x5a1812),_0x4bf2ba=_0x202945['findOrAddV'+'ertex'](_0x5c338d,!(-0x3d3*-0x9+0x24ab+-0x4715));return _0x4bf2ba;};for(let _0x4f8fd1=-0xe17+0x1*0x1af8+-0xce1*0x1;_0x4f8fd1<_0x24e152;_0x4f8fd1++)_0x406f8a=_0xf7188c(_0x33d08e[_0x43ad5b+_0x4f8fd1*(-0x15e2+0x14a*0x3+-0x39b*-0x5)]),_0x3c4f0b=_0xf7188c(_0x33d08e[_0x43ad5b+_0x4f8fd1*(0xd9*-0x19+-0x3*-0x739+0x7*-0x11)+(0x1a18+-0x3b8+-0x165f)]),_0x5d79d1=_0xf7188c(_0x33d08e[_0x43ad5b+_0x4f8fd1*(-0x1e13*0x1+0x1f2e+0x46*-0x4)+(-0x3dd*-0x4+-0x13c3+0x451)]),_0x202945['addIndex'](_0x406f8a),_0x202945['addIndex'](_0x3c4f0b),_0x202945['addIndex'](_0x5d79d1);Ammo['destroy'](_0x5c338d);}const _0x24ff48=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x202945,!(-0x833*-0x3+0x2333*0x1+-0x3bcc));if(!_0x5a6373){const _0x350f00=_0x23dc89['_getNodeSc'+'aling'](_0x4c704b);_0x24ff48['setLocalSc'+'aling'](_0x350f00),Ammo['destroy'](_0x350f00);}const _0x4dadfb=_0x23dc89['_getNodeTr'+'ansform'](_0x4c704b);_0x19d20a['addChildSh'+'ape'](_0x4dadfb,_0x24ff48),Ammo['destroy'](_0x4dadfb);}['createPhys'+'icalShape'](_0x4261a5,_0x5a9fac){if(!(typeof Ammo>'u')&&(_0x5a9fac['model']||_0x5a9fac['render'])){const _0x29f87d=new Ammo['btCompound'+'Shape'](),_0x22e50b=_0x4261a5['getWorldTr'+'ansform']()['getScale']();if(_0x5a9fac['render']){const _0x490141=_0x5a9fac['render']['meshes'];for(let _0xbd21b3=-0x1b05*0x1+0x238f+-0x88a;_0xbd21b3<_0x490141['length'];_0xbd21b3++)_0x5a9fac['convexHull']?this['createAmmo'+'Hull'](_0x490141[_0xbd21b3],dg,_0x29f87d,_0x22e50b):this['createAmmo'+'Mesh'](_0x490141[_0xbd21b3],dg,_0x29f87d,_0x22e50b,_0x5a9fac['checkVerte'+'xDuplicate'+'s']);}else{if(_0x5a9fac['model']){const _0xf8eed9=_0x5a9fac['model']['meshInstan'+'ces'];for(let _0x534e44=-0x2*0x1103+0x1be8+-0x1b*-0x3a;_0x534e44<_0xf8eed9['length'];_0x534e44++)this['createAmmo'+'Mesh'](_0xf8eed9[_0x534e44]['mesh'],_0xf8eed9[_0x534e44]['node'],_0x29f87d,null,_0x5a9fac['checkVerte'+'xDuplicate'+'s']);const _0x277183=new Ammo['btVector3'](_0x22e50b['x'],_0x22e50b['y'],_0x22e50b['z']);_0x29f87d['setLocalSc'+'aling'](_0x277183),Ammo['destroy'](_0x277183);}}return _0x29f87d;}}['recreatePh'+'ysicalShap'+'es'](_0x5e503f){const _0x390356=_0x5e503f['data'];if((_0x390356['renderAsse'+'t']||_0x390356['asset'])&&_0x5e503f['enabled']&&_0x5e503f['entity']['enabled']){this['loadAsset'](_0x5e503f,_0x390356['renderAsse'+'t']||_0x390356['asset'],_0x390356['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x5e503f);}['loadAsset'](_0xe9f6a6,_0x18bd37,_0x50d522){const _0x1e948a=_0xe9f6a6['data'],_0x4effe1=this['system']['app']['assets'],_0x28f220=_0x1e948a[_0x50d522],_0x3aa7ae=_0x403150=>{_0x1e948a[_0x50d522]===_0x28f220&&(_0x1e948a[_0x50d522]=_0x403150['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0xe9f6a6));},_0x1187f3=_0x464d96=>{_0x464d96['ready'](_0x147be9=>{if(_0x147be9['data']['containerA'+'sset']){const _0x484c0e=_0x4effe1['get'](_0x147be9['data']['containerA'+'sset']);_0x484c0e['loaded']?_0x3aa7ae(_0x147be9):(_0x484c0e['ready'](()=>{_0x3aa7ae(_0x147be9);}),_0x4effe1['load'](_0x484c0e));}else _0x3aa7ae(_0x147be9);}),_0x4effe1['load'](_0x464d96);},_0x268713=_0x4effe1['get'](_0x18bd37);_0x268713?_0x1187f3(_0x268713):_0x4effe1['once']('add:'+_0x18bd37,_0x1187f3);}['doRecreate'+'PhysicalSh'+'ape'](_0x1b1613){const _0x9e28c9=_0x1b1613['entity'],_0x39c25a=_0x1b1613['data'];_0x39c25a['model']||_0x39c25a['render']?(this['destroySha'+'pe'](_0x39c25a),_0x39c25a['shape']=this['createPhys'+'icalShape'](_0x9e28c9,_0x39c25a),_0x9e28c9['rigidbody']?(_0x9e28c9['rigidbody']['disableSim'+'ulation'](),_0x9e28c9['rigidbody']['createBody'](),_0x9e28c9['enabled']&&_0x9e28c9['rigidbody']['enabled']&&_0x9e28c9['rigidbody']['enableSimu'+'lation']()):_0x9e28c9['trigger']?_0x9e28c9['trigger']['initialize'](_0x39c25a):_0x9e28c9['trigger']=new ix(this['system']['app'],_0x1b1613,_0x39c25a)):(this['beforeRemo'+'ve'](_0x9e28c9,_0x1b1613),this['remove'](_0x9e28c9,_0x39c25a));}['updateTran'+'sform'](_0x1d3567,_0x4bc4e0,_0x34421b,_0x48526b){if(_0x1d3567['shape']){const _0x1fa0e9=_0x1d3567['entity']['getWorldTr'+'ansform']()['getScale'](),_0x10d20c=_0x1d3567['shape']['getLocalSc'+'aling']();(_0x1fa0e9['x']!==_0x10d20c['x']()||_0x1fa0e9['y']!==_0x10d20c['y']()||_0x1fa0e9['z']!==_0x10d20c['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x1d3567);}super['updateTran'+'sform'](_0x1d3567,_0x4bc4e0,_0x34421b,_0x48526b);}['destroySha'+'pe'](_0x5e3d79){if(!_0x5e3d79['shape'])return;const _0x3bb9a4=_0x5e3d79['shape']['getNumChil'+'dShapes']();for(let _0xe0f5b6=0x112*-0x20+0xc*0x18f+0xf8c;_0xe0f5b6<_0x3bb9a4;_0xe0f5b6++){const _0x2c5ff9=_0x5e3d79['shape']['getChildSh'+'ape'](_0xe0f5b6);Ammo['destroy'](_0x2c5ff9);}Ammo['destroy'](_0x5e3d79['shape']),_0x5e3d79['shape']=null;}}class fR extends vn{['createPhys'+'icalShape'](_0x402e45,_0x4e9bf2){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x246ab4){!_0x246ab4['collision']||_0x246ab4['rigidbody']||(_0x246ab4['collision']['_compoundP'+'arent']=this,_0x246ab4!==this['entity']&&_0x246ab4['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x246ab4['collision']));}['_updateEac'+'hDescendan'+'t'](_0x3730e3){_0x3730e3['collision']&&_0x3730e3['collision']['_compoundP'+'arent']===this&&(_0x3730e3['collision']['_compoundP'+'arent']=null,_0x3730e3!==this['entity']&&!_0x3730e3['rigidbody']&&_0x3730e3['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x3730e3['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0xb4e32c){!_0xb4e32c['collision']||_0xb4e32c['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0xb4e32c,!(-0x13*0x6a+-0x25fe+0x2ddd*0x1));}}class pR extends Qe{constructor(_0x455222){super(_0x455222),this['id']='collision',this['ComponentT'+'ype']=Zn,this['DataType']=eR,this['schema']=aR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x1a20aa,_0x3d81e2,_0x4a0de9){_0x4a0de9=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x3bb5f7={};for(let _0x2d2ab1=-0x1172+-0x104e+0x87*0x40,_0x23e97b=_0x4a0de9['length'];_0x2d2ab1<_0x23e97b;_0x2d2ab1++){const _0x2a0609=_0x4a0de9[_0x2d2ab1];_0x3bb5f7[_0x2a0609]=_0x3d81e2[_0x2a0609];}let _0x199771;if(_0x3d81e2['hasOwnProp'+'erty']('asset')?(_0x199771=_0x4a0de9['indexOf']('model'),_0x199771!==-(-0x1d1d+0x60f+0x170f)&&_0x4a0de9['splice'](_0x199771,-0x25b5+0x3*-0xb2+-0x4*-0x9f3),_0x199771=_0x4a0de9['indexOf']('render'),_0x199771!==-(0x2*0x407+0x745+-0x6a*0x25)&&_0x4a0de9['splice'](_0x199771,-0x25*0x96+0x9d*0x26+-0x19f*0x1)):_0x3d81e2['hasOwnProp'+'erty']('model')&&(_0x199771=_0x4a0de9['indexOf']('asset'),_0x199771!==-(0x7*-0x13+-0x30*0x4+-0x2*-0xa3)&&_0x4a0de9['splice'](_0x199771,-0x1*0x1c95+0x22*-0x102+0x3eda)),_0x3bb5f7['type']||(_0x3bb5f7['type']=_0x1a20aa['data']['type']),_0x1a20aa['data']['type']=_0x3bb5f7['type'],Array['isArray'](_0x3bb5f7['halfExtent'+'s'])&&(_0x3bb5f7['halfExtent'+'s']=new A(_0x3bb5f7['halfExtent'+'s'])),Array['isArray'](_0x3bb5f7['linearOffs'+'et'])&&(_0x3bb5f7['linearOffs'+'et']=new A(_0x3bb5f7['linearOffs'+'et'])),Array['isArray'](_0x3bb5f7['angularOff'+'set'])){const _0x3cc6c0=_0x3bb5f7['angularOff'+'set'];_0x3cc6c0['length']===-0x291+0x741+0x3*-0x18f?_0x3bb5f7['angularOff'+'set']=new ie()['setFromEul'+'erAngles'](_0x3cc6c0[0xc7e*0x2+0x1*-0x1d62+-0x2*-0x233],_0x3cc6c0[-0xaa6+-0x427*0x6+0x2391],_0x3cc6c0[0x20f6+-0x1fe7*0x1+-0x1*0x10d]):_0x3bb5f7['angularOff'+'set']=new ie(_0x3bb5f7['angularOff'+'set']);}const _0x3c368e=this['_createImp'+'lementatio'+'n'](_0x3bb5f7['type']);_0x3c368e['beforeInit'+'ialize'](_0x1a20aa,_0x3bb5f7),super['initialize'+'ComponentD'+'ata'](_0x1a20aa,_0x3bb5f7,_0x4a0de9),_0x3c368e['afterIniti'+'alize'](_0x1a20aa,_0x3bb5f7);}['_createImp'+'lementatio'+'n'](_0x456909){if(this['implementa'+'tions'][_0x456909]===void(0x205c+-0x1*0x1b7d+-0x4df)){let _0x18f013;switch(_0x456909){case'box':_0x18f013=new oR(this);break;case'sphere':_0x18f013=new lR(this);break;case'capsule':_0x18f013=new hR(this);break;case'cylinder':_0x18f013=new cR(this);break;case'cone':_0x18f013=new dR(this);break;case'mesh':_0x18f013=new uR(this);break;case'compound':_0x18f013=new fR(this);break;default:b['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x456909);}this['implementa'+'tions'][_0x456909]=_0x18f013;}return this['implementa'+'tions'][_0x456909];}['_getImplem'+'entation'](_0x2c2a6e){return this['implementa'+'tions'][_0x2c2a6e['collision']['data']['type']];}['cloneCompo'+'nent'](_0x47c80e,_0x36656b){return this['_getImplem'+'entation'](_0x47c80e)['clone'](_0x47c80e,_0x36656b);}['onBeforeRe'+'move'](_0x16e27d,_0x522131){this['implementa'+'tions'][_0x522131['data']['type']]['beforeRemo'+'ve'](_0x16e27d,_0x522131),_0x522131['onBeforeRe'+'move']();}['onRemove'](_0x33c81a,_0x14c11f){this['implementa'+'tions'][_0x14c11f['type']]['remove'](_0x33c81a,_0x14c11f);}['updateComp'+'oundChildT'+'ransform'](_0x55022f,_0x284376){const _0x590179=_0x55022f['collision']['_compoundP'+'arent'];if(_0x590179!==_0x55022f['collision']&&_0x55022f['enabled']&&_0x55022f['collision']['enabled']&&(_0x55022f['_dirtyLoca'+'l']||_0x284376)){const _0x2c4c17=this['_getNodeTr'+'ansform'](_0x55022f,_0x590179['entity']),_0x55aa90=_0x590179['getCompoun'+'dChildShap'+'eIndex'](_0x55022f['collision']['shape']);_0x55aa90===null?_0x590179['shape']['addChildSh'+'ape'](_0x2c4c17,_0x55022f['collision']['data']['shape']):_0x590179['shape']['updateChil'+'dTransform'](_0x55aa90,_0x2c4c17,!(0x688*-0x3+0x1ebb+-0xb23)),Ammo['destroy'](_0x2c4c17);}}['_removeCom'+'poundChild'](_0x456452,_0x1fa34a){if(_0x456452['shape']['getNumChil'+'dShapes']()!==-0x401+0x591+-0x190){if(_0x456452['shape']['removeChil'+'dShape'])_0x456452['shape']['removeChil'+'dShape'](_0x1fa34a);else{const _0x21f27c=_0x456452['getCompoun'+'dChildShap'+'eIndex'](_0x1fa34a);_0x21f27c!==null&&_0x456452['shape']['removeChil'+'dShapeByIn'+'dex'](_0x21f27c);}}}['onTransfor'+'mChanged'](_0x53e628,_0xc1d4dd,_0x16d3bf,_0x265d03){this['implementa'+'tions'][_0x53e628['data']['type']]['updateTran'+'sform'](_0x53e628,_0xc1d4dd,_0x16d3bf,_0x265d03);}['changeType'](_0x284e19,_0x54ad87,_0x4d89c0){this['implementa'+'tions'][_0x54ad87]['beforeRemo'+'ve'](_0x284e19['entity'],_0x284e19),this['implementa'+'tions'][_0x54ad87]['remove'](_0x284e19['entity'],_0x284e19['data']),this['_createImp'+'lementatio'+'n'](_0x4d89c0)['reset'](_0x284e19,_0x284e19['data']);}['recreatePh'+'ysicalShap'+'es'](_0x121572){this['implementa'+'tions'][_0x121572['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x121572);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x19dd1f,_0x382f71){if(_0x19dd1f===_0x382f71){const _0x17a25b=_0x19dd1f['getWorldTr'+'ansform']()['getScale']();Ql['setScale'](_0x17a25b['x'],_0x17a25b['y'],_0x17a25b['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x19dd1f['parent'],_0x382f71),Ql['mul'](_0x19dd1f['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x1c3536){const _0x537846=_0x1c3536['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x537846['x'],_0x537846['y'],_0x537846['z']);}['_getNodeTr'+'ansform'](_0x1005c0,_0xf0567a){let _0x177cbb,_0x374c43;_0xf0567a?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x1005c0,_0xf0567a),_0x177cbb=rR,_0x374c43=Mr,Ql['getTransla'+'tion'](_0x177cbb),_0x374c43['setFromMat'+'4'](Ql)):(_0x177cbb=_0x1005c0['getPositio'+'n'](),_0x374c43=_0x1005c0['getRotatio'+'n']());const _0x4152cc=new Ammo['btQuaterni'+'on'](),_0x4b675f=new Ammo['btTransfor'+'m']();_0x4b675f['setIdentit'+'y']();const _0x2949eb=_0x4b675f['getOrigin'](),_0x2b0728=_0x1005c0['collision'];if(_0x2b0728&&_0x2b0728['_hasOffset']){const _0x3e68ac=_0x2b0728['data']['linearOffs'+'et'],_0x353e1a=_0x2b0728['data']['angularOff'+'set'],_0x1df4a3=nR;Mr['copy'](_0x374c43)['transformV'+'ector'](_0x3e68ac,_0x1df4a3),_0x1df4a3['add'](_0x177cbb),Mr['copy'](_0x374c43)['mul'](_0x353e1a),_0x2949eb['setValue'](_0x1df4a3['x'],_0x1df4a3['y'],_0x1df4a3['z']),_0x4152cc['setValue'](Mr['x'],Mr['y'],Mr['z'],Mr['w']);}else _0x2949eb['setValue'](_0x177cbb['x'],_0x177cbb['y'],_0x177cbb['z']),_0x4152cc['setValue'](_0x374c43['x'],_0x374c43['y'],_0x374c43['z'],_0x374c43['w']);return _0x4b675f['setRotatio'+'n'](_0x4152cc),Ammo['destroy'](_0x4152cc),_0x4b675f;}['destroy'](){for(const _0x4bfe22 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x4bfe22]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Jl=new Y(),mR=new Ht();class _R{constructor(_0x14a3e9,_0x5a3f1f,_0x47a000){this['_entity']=_0x14a3e9,this['_element']=_0x14a3e9['element'],this['model']=new Ui(),this['node']=new Oe(),this['model']['graph']=this['node'],this['mesh']=_0x5a3f1f,this['meshInstan'+'ce']=new Be(this['mesh'],_0x47a000,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x14a3e9['name'],this['meshInstan'+'ce']['castShadow']=!(-0x18b9+0x19a3+-0xe9),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x1d1b*0x1+-0x1c92+-0x88),this['_meshDirty']=!(-0x1*0x16a+0x1a53+-0x18e8),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x288479,_0x53894d;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x288479=this['meshInstan'+'ce'])==null||_0x288479['destroy'](),this['meshInstan'+'ce']=null,(_0x53894d=this['unmaskMesh'+'Instance'])==null||_0x53894d['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x34de38){this['meshInstan'+'ce']&&(this['mesh']=_0x34de38,this['meshInstan'+'ce']['mesh']=_0x34de38,this['meshInstan'+'ce']['visible']=!!_0x34de38,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x34de38),this['forceUpdat'+'eAabb']());}['setMask'](_0xf8b23b){var _0x1d1cf1;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0xf8b23b){this['unmaskMesh'+'Instance']=new Be(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x28*0x26+-0x1e+-0x2f*-0x21),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0x2158+0x174d+-0x38a4),this['unmaskMesh'+'Instance']['pick']=!(0x6cd+0x1c90+0x4*-0x8d7),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x3d813c in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x3d813c,this['meshInstan'+'ce']['parameters'][_0x3d813c]['data']);}else{const _0x590511=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x590511>=0x48+0xf92*0x2+0xfb6*-0x2&&this['model']['meshInstan'+'ces']['splice'](_0x590511,0x2b*-0x14+-0x712*0x3+-0x9*-0x2bb);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0xf8b23b||((_0x1d1cf1=this['unmaskMesh'+'Instance'])==null||_0x1d1cf1['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x3cf575){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x3cf575,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x3cf575));}['setParamet'+'er'](_0x340d77,_0x2824b2){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x340d77,_0x2824b2),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x340d77,_0x2824b2));}['deletePara'+'meter'](_0x5b1055){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x5b1055),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x5b1055));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x499456=function(_0x2cd190){let _0x3502f3;const _0x28ecc7=_0x2cd190['children'],_0x2cf940=_0x28ecc7['length'];if(_0x2cf940){for(let _0x27b75e=-0x1b1f+0x166b*0x1+0x1*0x4b4;_0x27b75e<_0x2cf940;_0x27b75e++)_0x28ecc7[_0x27b75e]['element']&&(_0x3502f3=_0x28ecc7[_0x27b75e]);if(!_0x3502f3)return null;const _0x507a65=_0x499456(_0x3502f3);return _0x507a65||_0x3502f3;}return null;};if(this['unmaskMesh'+'Instance']){const _0x2fbf8a=_0x499456(this['_entity']);_0x2fbf8a&&_0x2fbf8a['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x2fbf8a['element']['drawOrder']+_0x2fbf8a['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),b['trace'](Es,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0xe7c456){this['meshInstan'+'ce']&&(b['trace'](Es,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0xe7c456),this['meshInstan'+'ce']['drawOrder']=_0xe7c456);}['setCull'](_0x4685e7){if(!this['meshInstan'+'ce'])return;const _0x117659=this['_element'];let _0x22100d=null;_0x4685e7&&_0x117659['_isScreenS'+'pace']()&&(_0x22100d=function(_0x359e4d){return _0x117659['isVisibleF'+'orCamera'](_0x359e4d);}),this['meshInstan'+'ce']['cull']=_0x4685e7,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x22100d,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x4685e7,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x22100d);}['setScreenS'+'pace'](_0x18ca0b){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x18ca0b,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x18ca0b));}['setLayer'](_0x541bac){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x541bac,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x541bac));}['forceUpdat'+'eAabb'](_0x589b49){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0xd*0x22b+0x1bcd+0x1*0x63),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0x9*-0x137+0x53c+-0x102a)));}['setAabbFun'+'c'](_0x58385b){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x58385b,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x58385b));}}class gR{constructor(_0x4ed52f){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x4ed52f,this['_entity']=_0x4ed52f['entity'],this['_system']=_0x4ed52f['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x658+-0x75*0x3e+0x1*0x22ae,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0xa*-0xda+-0x1343*-0x2+-0x2f09*0x1),this['_rect']=new ee(0xb38+-0x20*0xbe+-0x8*-0x191,-0x2101+-0x7ed*-0x2+-0x1*-0x1127,-0x1aad+-0x23fd+0x3eab,0x18bd*0x1+-0x1df*0x4+0x20*-0x8a),this['_mask']=!(-0x214e+0x3*-0x639+-0x2*-0x19fd),this['_maskRef']=-0x895*0x2+0x1df7+-0xccd,this['_outerScal'+'e']=new W(),this['_outerScal'+'eUniform']=new Float32Array(0x2509*-0x1+0x3ad*-0x5+0x376c),this['_innerOffs'+'et']=new ee(),this['_innerOffs'+'etUniform']=new Float32Array(-0x1*-0x1fbb+-0x1ff4+0x3d),this['_atlasRect']=new ee(),this['_atlasRect'+'Uniform']=new Float32Array(-0x11*0x147+0x311+0x12aa),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new _R(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(-0x1bdb+0x4a7+0x1735,-0xf76+0x1*-0xbb7+0x1b2e,0xeb7+-0x891+-0x625,-0x3*-0x301+0xffc+-0x2*0xc7f),this['_colorUnif'+'orm']=new Float32Array([-0x1c38+-0x6*-0x5f+-0x533*-0x5,0x6a*0x1+0x1765+-0x17ce,-0x25c3+0x146+0x247e*0x1]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0x1*0xf25+0xa0b+0x51b),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x2e1e01){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x1c2f65){this['_updateMat'+'erial'](_0x1c2f65);}['_onScreenC'+'hange'](_0x3d8b48,_0x4fe30c){_0x3d8b48?this['_updateMat'+'erial'](_0x3d8b48['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x1767+0x105b+-0x27c1));}['_onDrawOrd'+'erChange'](_0x2cc82c){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x2cc82c),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0xcea+0x264*0x5+-0x43*0x5f);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===ht||this['sprite']['renderMode']===st);}['_updateMat'+'erial'](_0x38e635){const _0xb0e526=!!this['_mask'],_0x309de9=!!(this['sprite']&&this['sprite']['renderMode']===ht),_0x339a24=!!(this['sprite']&&this['sprite']['renderMode']===st);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x38e635,_0xb0e526,_0x309de9,_0x339a24)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x38e635),this['_renderabl'+'e']['setLayer'](_0x38e635?Ub:d0));}['_createMes'+'h'](){const _0x16d0b1=this['_element'],_0x16eaa8=_0x16d0b1['calculated'+'Width'],_0x39cd63=_0x16d0b1['calculated'+'Height'],_0x3ec3c6=this['_rect'],_0x7e7c3=this['_system']['app']['graphicsDe'+'vice'],_0x299b52=new Float32Array([_0x16eaa8,0x5e*-0x6a+0x6*0x4ab+0xaea,0x222a+0x2b*-0x49+-0x321*0x7,-0x251*-0xb+-0x71*-0x45+0x10*-0x37f,0x1168*-0x1+-0x1bd3+0x2d3b*0x1,0xa*0xc5+0x10c4+-0x827*0x3,_0x3ec3c6['x']+_0x3ec3c6['z'],-0x1ed9+0x3*-0xb3f+-0x4097*-0x1-_0x3ec3c6['y'],_0x16eaa8,_0x39cd63,-0x13b2+0x4fd+0xeb5,-0x6d*0x47+0x1*0x1ec7+-0x14*0x7,-0x7e*0x1d+0x3a7+-0xa9f*-0x1,0x89c+0x202*0x12+-0x18b*0x1d,_0x3ec3c6['x']+_0x3ec3c6['z'],0x497+0x1*-0x913+-0x1*-0x47d-(_0x3ec3c6['y']+_0x3ec3c6['w']),0x1f4c+-0x118b+0xdc1*-0x1,0xdf0*-0x1+0x1*-0xadb+-0x18cb*-0x1,0x53c*-0x2+0x1*0x2119+-0x16a1,0xf*0xe9+-0x7a*0x3d+-0x1*-0xf6b,-0x1a*0xec+-0x500+0x1cf8,0x1d51+0x73b*-0x4+-0x64,_0x3ec3c6['x'],-0x8a3+0x502*0x1+0x3a2-_0x3ec3c6['y'],0x911*0x3+0x81+-0x18a*0x12,_0x39cd63,0x282+0x1670+-0x18f2,0x4*0x5bc+0xbf*-0xa+-0x1*0xf7a,0xdf7+0xa3b*0x1+-0x1832,0x1e90+0xd*0x113+-0x2c86,_0x3ec3c6['x'],-0xf4c+0x20*-0x67+0x1c2d-(_0x3ec3c6['y']+_0x3ec3c6['w'])]),_0x3176d5=mR['get'](_0x7e7c3,()=>new Dt(_0x7e7c3,[{'semantic':Xe,'components':0x3,'type':Re},{'semantic':ss,'components':0x3,'type':Re},{'semantic':ds,'components':0x2,'type':Re}])),_0x469ed1=new fs(_0x7e7c3,_0x3176d5,0x740+-0x1da9+-0x1*-0x166d,{'data':_0x299b52['buffer']}),_0x1da353=new ke(_0x7e7c3);return _0x1da353['vertexBuff'+'er']=_0x469ed1,_0x1da353['primitive'][-0x3fa*-0x5+-0x198*-0x13+-0x322a]['type']=lr,_0x1da353['primitive'][-0x10*-0x1bf+0x7e5+-0x23d5]['base']=-0xef0+0x2*0x9e1+0x2*-0x269,_0x1da353['primitive'][0xe6e+-0x3*0xb51+0x107*0x13]['count']=-0x1f79+0x1*0xfa1+0x3f7*0x4,_0x1da353['primitive'][0x1623*0x1+-0x105+-0x151e]['indexed']=!(0x105b+-0x243e+0x13e4),_0x1da353['aabb']['setMinMax'](A['ZERO'],new A(_0x16eaa8,_0x39cd63,0xaaf*0x1+-0x11e7+0x738)),this['_updateMes'+'h'](_0x1da353),_0x1da353;}['_updateMes'+'h'](_0x46fd8e){const _0x476d34=this['_element'];let _0x2c65b5=_0x476d34['calculated'+'Width'],_0x522ed0=_0x476d34['calculated'+'Height'];if(_0x476d34['fitMode']!==bh&&this['_targetAsp'+'ectRatio']>0x1c6e+-0x9*-0x25f+0x19b*-0x1f){const _0x57cbf9=_0x476d34['calculated'+'Width']/_0x476d34['calculated'+'Height'];_0x476d34['fitMode']===KP&&_0x57cbf9>this['_targetAsp'+'ectRatio']||_0x476d34['fitMode']===ZP&&_0x57cbf9<this['_targetAsp'+'ectRatio']?_0x2c65b5=_0x476d34['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x522ed0=_0x476d34['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x206b54=_0x476d34['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x206b54),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===ht||this['sprite']['renderMode']===st)){const _0x3ebe21=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x2920c0=(0x329+0x15ce*0x1+-0x18f5*0x1)/_0x3ebe21['rect']['z'],_0x1d1a43=(-0x499*0x1+0xd6b+0x8d*-0x10)/_0x3ebe21['rect']['w'];this['_innerOffs'+'et']['set'](_0x3ebe21['border']['x']*_0x2920c0,_0x3ebe21['border']['y']*_0x1d1a43,_0x3ebe21['border']['z']*_0x2920c0,_0x3ebe21['border']['w']*_0x1d1a43);const _0x260679=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x3ebe21['rect']['x']/_0x260679['width'],_0x3ebe21['rect']['y']/_0x260679['height'],_0x3ebe21['rect']['z']/_0x260679['width'],_0x3ebe21['rect']['w']/_0x260679['height']);const _0x4b9704=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x54be1f=_0x3ebe21['rect']['z']/_0x4b9704,_0xa046b3=_0x3ebe21['rect']['w']/_0x4b9704;this['_outerScal'+'e']['set'](Math['max'](_0x2c65b5,this['_innerOffs'+'et']['x']*_0x54be1f),Math['max'](_0x522ed0,this['_innerOffs'+'et']['y']*_0xa046b3));let _0x2ca21b=_0x54be1f,_0x2ff11c=_0xa046b3;this['_outerScal'+'e']['x']/=_0x54be1f,this['_outerScal'+'e']['y']/=_0xa046b3,_0x2ca21b*=z['clamp'](_0x2c65b5/(this['_innerOffs'+'et']['x']*_0x54be1f),0x2b*-0x2c+0x15e4+-0x2*0x740+0.0001,0x2b+0x253b+-0x1*0x2565),_0x2ff11c*=z['clamp'](_0x522ed0/(this['_innerOffs'+'et']['y']*_0xa046b3),-0x22*0xb+-0x79f*-0x5+-0x3*0xc37+0.0001,-0x3a4*-0x4+0x1592*-0x1+0x703),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x9c1+0x14e*0x8+-0x1431]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x22cd+-0x1*0xe67+0x1067*0x3]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0xd41+-0x166+-0xbd9]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x1455+0x205c+-0x34ae]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x10f*0x19+-0x3ea+-0x168d]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x1af2+-0xeb*-0x1e+-0x367b]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x1e23*-0x1+0x1*0x5a1+-0x23c2]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0xa09+-0x1*0x75a+-0x106*-0x11]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0x2*0xead+-0x15dd*0x1+0x3337]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1f*-0x8d+0x2*-0x102e+0x3170]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x2ca21b,_0x2ff11c,-0x717+-0x1e02+0x2*0x128d),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0x9d4+-0x1341+0x96d+0.5-_0x476d34['pivot']['x'])*_0x2c65b5,(0x2148+0x3*-0x7d7+0x31*-0x33+0.5-_0x476d34['pivot']['y'])*_0x522ed0,-0x9f2*0x1+-0x1d3c+0x272e));}else{const _0x2512d4=_0x46fd8e['vertexBuff'+'er'],_0x1702c1=new Float32Array(_0x2512d4['lock']()),_0x7b14d0=_0x476d34['pivot']['x'],_0x63f7a3=_0x476d34['pivot']['y'];_0x1702c1[-0x1*-0x449+-0x20cc+0x1c83]=_0x2c65b5-_0x7b14d0*_0x2c65b5,_0x1702c1[0xbb7+-0x1863+0xcad*0x1]=-0x1c8f+0xd*0x221+-0x2*-0x71-_0x63f7a3*_0x522ed0,_0x1702c1[0x356+-0xb96*0x2+0x13de]=_0x2c65b5-_0x7b14d0*_0x2c65b5,_0x1702c1[-0x1df5*0x1+0x6d*-0x20+0x2b9e]=_0x522ed0-_0x63f7a3*_0x522ed0,_0x1702c1[0x12a5+-0x1*0x2203+0xf6e]=-0x2478+0x1ab8+0x9c0-_0x7b14d0*_0x2c65b5,_0x1702c1[0x6*0x3eb+-0x12f3+-0x47e]=0xbad*-0x1+0x203a+-0x148d-_0x63f7a3*_0x522ed0,_0x1702c1[-0x1*-0x77f+0xc11+0x4*-0x4de]=-0x2bb*0xd+-0x7d8+0x2b57-_0x7b14d0*_0x2c65b5,_0x1702c1[0x2*-0xf9d+-0x1*0xc60+0x2bb3]=_0x522ed0-_0x63f7a3*_0x522ed0;let _0x5924b4=-0x1*0x16e5+0xbce+0xb18,_0x1a381a=-0x884+0x239*0xd+0x518*-0x4,_0x2357e1=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x218ea8=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x218ea8&&(_0x2357e1=_0x218ea8['rect'],_0x5924b4=this['_sprite']['atlas']['texture']['width'],_0x1a381a=this['_sprite']['atlas']['texture']['height']);}_0x1702c1[-0x203a+0xa18+0x1628]=(_0x2357e1['x']+_0x2357e1['z'])/_0x5924b4,_0x1702c1[0x17b8+-0x588*0x2+-0xca1]=0x6*-0x3b+-0xa11+0xb74-_0x2357e1['y']/_0x1a381a,_0x1702c1[-0x727+-0xda9+-0x1*-0x14de]=(_0x2357e1['x']+_0x2357e1['z'])/_0x5924b4,_0x1702c1[-0x19de+0x26c4+-0xcd7]=0x5*0x512+-0x2537+-0x31*-0x3e-(_0x2357e1['y']+_0x2357e1['w'])/_0x1a381a,_0x1702c1[-0x7c8*0x3+0x22d0+-0x1f*0x5e]=_0x2357e1['x']/_0x5924b4,_0x1702c1[0x1974+0x14c*0xa+0x3*-0xcc7]=0x1*0x209d+-0x1*-0xe5+-0x2181-_0x2357e1['y']/_0x1a381a,_0x1702c1[0x5*-0x59+0x9c9+-0x7ee]=_0x2357e1['x']/_0x5924b4,_0x1702c1[-0x5*-0x51a+0x143f+0x16d1*-0x2]=-0x19fb+-0x1912+0x1987*0x2-(_0x2357e1['y']+_0x2357e1['w'])/_0x1a381a,_0x2512d4['unlock']();const _0x41b9ea=new A(-0x37+0x17*-0xfb+-0x7c*-0x2f-_0x7b14d0*_0x2c65b5,0xf36+-0x2415*-0x1+-0x334b-_0x63f7a3*_0x522ed0,0x164b+-0x5c7+-0x2*0x842),_0x5ee3e0=new A(_0x2c65b5-_0x7b14d0*_0x2c65b5,_0x522ed0-_0x63f7a3*_0x522ed0,0xdbd*-0x2+-0x1cd2+-0x4*-0xe13);_0x46fd8e['aabb']['setMinMax'](_0x41b9ea,_0x5ee3e0),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x2*-0x3a2+0x4ff*0x2+-0x1141*0x1,0x5*0x6cd+0x195a+-0x8e*0x6b,0x506*-0x1+-0x248+-0x74f*-0x1),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0x1*-0x1431+-0x2005*0x1+0xbd4,0x1*-0xf69+0x3*0xa5e+-0xfb1,-0x1*0xc3+-0x25a6+0x2669),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0xa6*0x20+-0x7db*-0x1+-0x1c9a);}['_updateSpr'+'ite'](){let _0x3bcde5=!(0x21*0x3b+0x13ca+-0x1b64),_0x8e14c9=null;if(this['_targetAsp'+'ectRatio']=-(-0x209f*0x1+0xcd2*0x1+-0x41*-0x4e),this['_sprite']&&this['_sprite']['atlas']){_0x8e14c9=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x3bcde5=this['_sprite']['renderMode']===ht||this['_sprite']['renderMode']===st;const _0xb5319d=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0xb5319d==null?void(0x1936+-0x1d7*0xa+-0x6d0):_0xb5319d['rect']['w'])>0x1c8e+-0xb2e+-0x8b*0x20&&(this['_targetAsp'+'ectRatio']=_0xb5319d['rect']['z']/_0xb5319d['rect']['w']);}this['mesh']=_0x3bcde5?_0x8e14c9:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0xcb5*0x1+0x1*-0x2586+-0x18d1*-0x1):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x1e8ee6){return _0x1e8ee6['center']['set'](0xfa8+0x1ab6+0xbb*-0x3a,-0x81*-0x1b+0x177b*0x1+-0x2516,0x7*-0x4eb+0x1fde+0x5*0x83),_0x1e8ee6['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x5a*-0x17+-0x185*-0xd+-0xbab+0.5),this['_outerScal'+'e']['y']*(0x1d14+0x27*-0x7b+-0xa57+0.5),0x2*-0xd4d+-0x12a*0x11+-0x1*-0x2e64+0.001),_0x1e8ee6['setFromTra'+'nsformedAa'+'bb'](_0x1e8ee6,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x1e8ee6;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x5a90fe=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x5a90fe),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x3bc6bf){this['material']=_0x3bc6bf['resource'];}['_onMateria'+'lAdded'](_0x9fd60e){this['_system']['app']['assets']['off']('add:'+_0x9fd60e['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x9fd60e['id']&&this['_bindMater'+'ialAsset'](_0x9fd60e);}['_bindMater'+'ialAsset'](_0x166cb0){this['_entity']['enabled']&&(_0x166cb0['on']('load',this['_onMateria'+'lLoad'],this),_0x166cb0['on']('change',this['_onMateria'+'lChange'],this),_0x166cb0['on']('remove',this['_onMateria'+'lRemove'],this),_0x166cb0['resource']?this['_onMateria'+'lLoad'](_0x166cb0):this['_system']['app']['assets']['load'](_0x166cb0));}['_unbindMat'+'erialAsset'](_0x5b1d62){_0x5b1d62['off']('load',this['_onMateria'+'lLoad'],this),_0x5b1d62['off']('change',this['_onMateria'+'lChange'],this),_0x5b1d62['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0xc2cf81){this['_system']['app']['assets']['off']('add:'+_0xc2cf81['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0xc2cf81['id']&&this['_bindTextu'+'reAsset'](_0xc2cf81);}['_bindTextu'+'reAsset'](_0x2506ab){this['_entity']['enabled']&&(_0x2506ab['on']('load',this['_onTexture'+'Load'],this),_0x2506ab['on']('change',this['_onTexture'+'Change'],this),_0x2506ab['on']('remove',this['_onTexture'+'Remove'],this),_0x2506ab['resource']?this['_onTexture'+'Load'](_0x2506ab):this['_system']['app']['assets']['load'](_0x2506ab));}['_unbindTex'+'tureAsset'](_0x50db1a){_0x50db1a['off']('load',this['_onTexture'+'Load'],this),_0x50db1a['off']('change',this['_onTexture'+'Change'],this),_0x50db1a['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x269b15){this['texture']=_0x269b15['resource'];}['_onTexture'+'Change'](_0x7e35eb){}['_onTexture'+'Remove'](_0x458d30){}['_onSpriteA'+'ssetAdded'](_0x42396b){this['_system']['app']['assets']['off']('add:'+_0x42396b['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x42396b['id']&&this['_bindSprit'+'eAsset'](_0x42396b);}['_bindSprit'+'eAsset'](_0x5585db){this['_entity']['enabled']&&(_0x5585db['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5585db['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x5585db['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5585db['resource']?this['_onSpriteA'+'ssetLoad'](_0x5585db):this['_system']['app']['assets']['load'](_0x5585db));}['_unbindSpr'+'iteAsset'](_0x3a0ac4){_0x3a0ac4['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x3a0ac4['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x3a0ac4['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x3a0ac4['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x3a0ac4['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x1ecc7e){if(!_0x1ecc7e||!_0x1ecc7e['resource'])this['sprite']=null;else{if(_0x1ecc7e['resource']['atlas'])this['sprite']=_0x1ecc7e['resource'];else{const _0x4222cf=_0x1ecc7e['data']['textureAtl'+'asAsset'];if(_0x4222cf){const _0x245885=this['_system']['app']['assets'];_0x245885['off']('load:'+_0x4222cf,this['_onTexture'+'AtlasLoad'],this),_0x245885['once']('load:'+_0x4222cf,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x4ac5bd){this['_onSpriteA'+'ssetLoad'](_0x4ac5bd);}['_onSpriteA'+'ssetRemove'](_0x4fe1d5){}['_bindSprit'+'e'](_0x127adf){this['_evtSetMes'+'hes']=_0x127adf['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x127adf['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x127adf['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x127adf['atlas']&&_0x127adf['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x56534a){var _0x131582;(_0x131582=this['_evtSetMes'+'hes'])==null||_0x131582['off'](),this['_evtSetMes'+'hes']=null,_0x56534a['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x56534a['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x56534a['atlas']&&_0x56534a['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=z['clamp'](this['_spriteFra'+'me'],-0x9*-0x1c1+0x1*-0x2189+0x40*0x47,this['_sprite']['frameKeys']['length']-(-0x143e+0xcfb+0x744))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Pi&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x35a8d4){const _0x699573=this['_spriteAss'+'et'];_0x699573 instanceof he?this['_onSpriteA'+'ssetLoad'](_0x699573):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x699573));}['onEnable'](){if(this['_materialA'+'sset']){const _0x422b82=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x422b82&&_0x422b82['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x422b82);}if(this['_textureAs'+'set']){const _0x152eaf=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x152eaf&&_0x152eaf['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x152eaf);}if(this['_spriteAss'+'et']){const _0x19f466=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x19f466&&_0x19f466['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x19f466);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x919f2f){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x919f2f,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x919f2f;let _0x4f56d0=-0x4*0x823+-0x1598+-0x2a*-0x14a;if(this['_element']['maskedBy']&&(_0x4f56d0=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x5eff4b=new Zs({'ref':_0x4f56d0+(-0x24aa+0xd95+0x1716),'func':Dh,'zpass':WS});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x5eff4b,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x5eff4b;}}['_updateRen'+'derableEmi'+'ssive'](){Jl['linear'](this['_color']),this['_colorUnif'+'orm'][0xd*0x28d+-0x8de*0x2+0x167*-0xb]=Jl['r'],this['_colorUnif'+'orm'][0xd*-0x121+-0x134b*-0x1+-0x49d]=Jl['g'],this['_colorUnif'+'orm'][-0x6ec*0x3+0x55a*0x2+0x509*0x2]=Jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x30f85f){this['_color']===_0x30f85f&&b['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x583921,g:_0x3faa0,b:_0x5c830d}=_0x30f85f;(this['_color']['r']!==_0x583921||this['_color']['g']!==_0x3faa0||this['_color']['b']!==_0x5c830d)&&(this['_color']['r']=_0x583921,this['_color']['g']=_0x3faa0,this['_color']['b']=_0x5c830d,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x59b38a){_0x59b38a!==this['_color']['a']&&(this['_color']['a']=_0x59b38a,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x59b38a)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x59b38a);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x5e5260){this['_rect']===_0x5e5260&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x1a22a4,_0x43b2fd,_0x2a3719,_0x2eb1ae;_0x5e5260 instanceof ee?(_0x1a22a4=_0x5e5260['x'],_0x43b2fd=_0x5e5260['y'],_0x2a3719=_0x5e5260['z'],_0x2eb1ae=_0x5e5260['w']):(_0x1a22a4=_0x5e5260[0xd*0x2b3+-0x1*-0x1ab4+-0x1*0x3dcb],_0x43b2fd=_0x5e5260[-0x12fd+0x196c*-0x1+-0x8e2*-0x5],_0x2a3719=_0x5e5260[0x81e+-0x1ad1+0x1*0x12b5],_0x2eb1ae=_0x5e5260[-0x63d+0x32b+0x315]),!(_0x1a22a4===this['_rect']['x']&&_0x43b2fd===this['_rect']['y']&&_0x2a3719===this['_rect']['z']&&_0x2eb1ae===this['_rect']['w'])&&(this['_rect']['set'](_0x1a22a4,_0x43b2fd,_0x2a3719,_0x2eb1ae),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x1669+-0x2*-0xef3+0x7*-0x779):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x41c555=this['_system']['app']['assets'];_0x41c555['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x95c971=_0x41c555['get'](this['_materialA'+'sset']);_0x95c971&&(_0x95c971['off']('load',this['_onMateria'+'lLoad'],this),_0x95c971['off']('change',this['_onMateria'+'lChange'],this),_0x95c971['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x1fa9dc){if(this['_material']!==_0x1fa9dc){if(!_0x1fa9dc){const _0x197a80=this['_element']['_isScreenS'+'pace']();this['mask']?_0x1fa9dc=_0x197a80?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x1fa9dc=_0x197a80?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x1fa9dc,this['_materialA'+'sset']){const _0x5cc605=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x5cc605||_0x5cc605['resource']!==_0x1fa9dc)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x1fa9dc&&(this['_renderabl'+'e']['setMateria'+'l'](_0x1fa9dc),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x54a1e4){const _0x272906=this['_system']['app']['assets'];let _0x1d9c29=_0x54a1e4;if(_0x54a1e4 instanceof he&&(_0x1d9c29=_0x54a1e4['id']),this['_materialA'+'sset']!==_0x1d9c29){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x1d9c29,this['_materialA'+'sset']){const _0x28ae80=_0x272906['get'](this['_materialA'+'sset']);_0x28ae80?this['_bindMater'+'ialAsset'](_0x28ae80):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x1d9c29,_0x272906['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x1d9c29;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x5885a8){if(this['_texture']!==_0x5885a8){if(this['_textureAs'+'set']){const _0xbb28ab=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0xbb28ab&&_0xbb28ab['resource']!==_0x5885a8&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x5885a8,_0x5885a8){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x2845c4=this['_texture']['width']/this['_texture']['height'];_0x2845c4!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x2845c4,this['_element']['fitMode']!==bh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x1075+0x2*0xddd+-0x91*0x4e),this['_element']['fitMode']!==bh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x49572a){const _0x513ecc=this['_system']['app']['assets'];let _0x2fc333=_0x49572a;if(_0x49572a instanceof he&&(_0x2fc333=_0x49572a['id']),this['_textureAs'+'set']!==_0x2fc333){if(this['_textureAs'+'set']){_0x513ecc['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x19ca63=_0x513ecc['get'](this['_textureAs'+'set']);_0x19ca63&&(_0x19ca63['off']('load',this['_onTexture'+'Load'],this),_0x19ca63['off']('change',this['_onTexture'+'Change'],this),_0x19ca63['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x2fc333,this['_textureAs'+'set']){const _0x5f1255=_0x513ecc['get'](this['_textureAs'+'set']);_0x5f1255?this['_bindTextu'+'reAsset'](_0x5f1255):(this['texture']=null,_0x513ecc['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x340ecd){const _0x993a80=this['_system']['app']['assets'];let _0x1bdc08=_0x340ecd;if(_0x340ecd instanceof he&&(_0x1bdc08=_0x340ecd['id']),this['_spriteAss'+'et']!==_0x1bdc08){if(this['_spriteAss'+'et']){_0x993a80['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x552677=_0x993a80['get'](this['_spriteAss'+'et']);_0x552677&&this['_unbindSpr'+'iteAsset'](_0x552677);}if(this['_spriteAss'+'et']=_0x1bdc08,this['_spriteAss'+'et']){const _0x157abb=_0x993a80['get'](this['_spriteAss'+'et']);_0x157abb?this['_bindSprit'+'eAsset'](_0x157abb):(this['sprite']=null,_0x993a80['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x1bdc08);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x5b5cb1){if(this['_sprite']!==_0x5b5cb1){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x5a4832=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x5a4832&&_0x5a4832['resource']!==_0x5b5cb1&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x5b5cb1,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=z['clamp'](this['_spriteFra'+'me'],-0x2ef*0x1+-0xa7e+0xd6d,this['_sprite']['frameKeys']['length']-(0x1*0x749+-0x7*-0x50d+-0x2aa3))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x335541){const _0x521e36=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=z['clamp'](_0x335541,-0x1623+-0x15bd+-0x34*-0xd8,this['_sprite']['frameKeys']['length']-(-0xfcf*0x1+-0x1f45+0x1*0x2f15)):this['_spriteFra'+'me']=_0x335541,this['_spriteFra'+'me']!==_0x521e36&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x335541);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x273203){this['_renderabl'+'e']['setMesh'](_0x273203),this['_defaultMe'+'sh']===_0x273203?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x1e27b8){this['_mask']!==_0x1e27b8&&(this['_mask']=_0x1e27b8,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x2418cc){this['_pixelsPer'+'Unit']!==_0x2418cc&&(this['_pixelsPer'+'Unit']=_0x2418cc,this['_sprite']&&(this['_sprite']['renderMode']===ht||this['_sprite']['renderMode']===st)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class yR extends de{constructor(_0x3e1110){super(),this['_app']=_0x3e1110,_0x3e1110['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x10dc+-0x2000+0x1*0x30dd),this['_disableLo'+'calization']=!(0x1*-0x19ab+-0x3*0xc9e+0x3f86),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x47d499){const _0x21750e=_0x47d499 instanceof he?_0x47d499['id']:_0x47d499;this['_defaultAs'+'set']!==_0x21750e&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x21750e,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x334406){const _0x3284f4=_0x334406 instanceof he?_0x334406['id']:_0x334406;this['_localized'+'Asset']!==_0x3284f4&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x3284f4,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x338eda){this['_autoLoad']!==_0x338eda&&(this['_autoLoad']=_0x338eda,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x2e1e32){this['_disableLo'+'calization']!==_0x2e1e32&&(this['_disableLo'+'calization']=_0x2e1e32,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x503237=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x503237?this['_onDefault'+'AssetAdd'](_0x503237):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x415d59=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x415d59&&(_0x415d59['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x415d59['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x415d59['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x4d3ec7){this['_defaultAs'+'set']===_0x4d3ec7['id']&&(_0x4d3ec7['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x4d3ec7['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x4d3ec7['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x392c19){this['_defaultAs'+'set']===_0x392c19['id']&&(_0x392c19['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x392c19['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x341871=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x341871&&(_0x341871['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x341871['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x341871['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x341871['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x341871):this['_app']['assets']['load'](_0x341871));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x9f2d19=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x9f2d19&&(_0x9f2d19['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x9f2d19['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x9f2d19['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x4aa586){this['_localized'+'Asset']===_0x4aa586['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x2177f2){this['fire']('load',_0x2177f2);}['_onLocaliz'+'edAssetCha'+'nge'](_0x3a5eb8,_0x51e6fe,_0x2fcb5e,_0x5a0062){this['fire']('change',_0x3a5eb8,_0x51e6fe,_0x2fcb5e,_0x5a0062);}['_onLocaliz'+'edAssetRem'+'ove'](_0x3044a5){this['_localized'+'Asset']===_0x3044a5['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x3044a5);}['_onLocaleA'+'dd'](_0x5bf23d,_0x3259f1){this['_app']['i18n']['locale']===_0x5bf23d&&this['_onSetLoca'+'le'](_0x5bf23d);}['_onLocaleR'+'emove'](_0x4bc496,_0xb7a10b){this['_app']['i18n']['locale']===_0x4bc496&&this['_onSetLoca'+'le'](_0x4bc496);}['_onSetLoca'+'le'](_0x55a5fa){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x995501=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x995501||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x215a3d=_0x995501['getLocaliz'+'edAssetId'](_0x55a5fa);if(!_0x215a3d){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x215a3d;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const tc='msdf',xR='bitmap',po=-0x8*0x218+0x793*0x3+-0xb*0x8b,Qn=0xe*0x14d+-0x80b+-0xa2a,df=0x7d2+-0x2289+0x1ab9,rx=0x2475+-0x2a3+-0x21cf,uf=-0x1*0x5b6+-0x3*-0x6d7+0xecb*-0x1,ff=0xc3*-0x2e+-0x8*0x346+-0x1*-0x3d3f,pf=0x21aa+0xb19+-0x2cbd*0x1,mf=-0x4a*0x13+0x14ee+-0xf69,ug=0xb2e+0x1563*-0x1+-0xa3d*-0x1,SR='\x20\x09\x0a\x0d\x0b\x0c',vR=/[\w|/]/;class bR{constructor(_0xa6cb5b){this['_symbols']=_0xa6cb5b,this['_index']=-0x1f0d+0x25*-0x43+0xa2f*0x4,this['_last']=-0x1efc+0x24de+0x3*-0x1f6,this['_cur']=this['_symbols']['length']>0x897*-0x1+0x29b+0x2*0x2fe?this['_symbols'][-0x630+-0x3*0x305+0xf3f]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x5a3b35=this['_read']();for(;_0x5a3b35===ug;)_0x5a3b35=this['_read']();return _0x5a3b35!==po&&_0x5a3b35!==Qn&&(this['_last']=this['_index']),_0x5a3b35;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x3e36bd=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x28f9f1=this['read'](),_0x42b3cc='';for(;_0x42b3cc+=(_0x42b3cc['length']>0x1ad8+-0xf45*0x1+-0xb93?'\x0a':'')+_0x3e36bd[_0x28f9f1]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x28f9f1===po||_0x28f9f1===Qn);)_0x28f9f1=this['read']();return _0x42b3cc;}['_read'](){return this['_buf']=[],this['_eof']()?po:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x175+0x12ee+0xd5*-0x15?df:po;case'[':return this['_mode']='tag',this['_buf']['length']>-0x29b*0x2+0xeb8+-0x982?df:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Qn;case'[':return this['_store'](),rx;case']':return this['_store'](),this['_mode']='text',uf;case'=':return this['_store'](),ff;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Qn);}}['_whitespac'+'e'](){for(this['_store']();SR['indexOf'](this['_cur'])!==-(-0x19*0x15d+0x18f9+0x91d);)this['_store']();return ug;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Qn;case'\x22':return this['_next'](),pf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return mf;}['_isIdentif'+'ierSymbol'](_0x2b5958){return _0x2b5958['length']===-0x136e+0x8*-0xec+-0x1*-0x1acf&&_0x2b5958['match'](vR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0xe2c5f1){this['_buf']['push'](_0xe2c5f1);}}class wR{constructor(_0x251e07){this['_scanner']=new bR(_0x251e07),this['_error']=null;}['parse'](_0x2a6a8a,_0x37ecb4){for(;;)switch(this['_scanner']['read']()){case po:return!(-0xb0c+0x1f11+-0x1405);case Qn:return!(0x265d+-0x140b+-0x61b*0x3);case df:Array['prototype']['push']['apply'](_0x2a6a8a,this['_scanner']['buf']());break;case rx:if(!this['_parseTag'](_0x2a6a8a,_0x37ecb4))return!(0x1*-0x4d6+0x1ae7+-0xb08*0x2);break;default:return!(-0x1c04+0x1*-0x23c9+0x3fce);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x228dbb,_0x23a32c){let _0x327543=this['_scanner']['read']();if(_0x327543!==mf)return this['_error']='expected\x20i'+'dentifier',!(-0x20cf+-0x21ca+-0x136*-0x37);const _0x8524e6=this['_scanner']['buf']()['join']('');if(_0x8524e6[0x1ee5+0x1c04+-0x21*0x1c9]==='/'){for(let _0x3c2d8c=_0x23a32c['length']-(0xb0f+-0x55*-0x63+0x1*-0x2bed);_0x3c2d8c>=-0x1d*-0x8a+0x6ca+-0x166c;--_0x3c2d8c)if(_0x8524e6==='/'+_0x23a32c[_0x3c2d8c]['name']&&_0x23a32c[_0x3c2d8c]['end']===null)return _0x23a32c[_0x3c2d8c]['end']=_0x228dbb['length'],_0x327543=this['_scanner']['read'](),_0x327543!==uf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(0x1*0xd15+0xcb*-0x2c+0x15d0)):!(0x1f17+-0x6*-0x637+-0xdad*0x5);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0x2*-0x49+0x1f*-0x67+0xa7*0x14);}const _0x2db732={'name':_0x8524e6,'value':null,'attributes':{},'start':_0x228dbb['length'],'end':null};if(_0x327543=this['_scanner']['read'](),_0x327543===ff){if(_0x327543=this['_scanner']['read'](),_0x327543!==pf)return this['_error']='expected\x20s'+'tring',!(0x17*0x166+-0xac*0x16+-0x1161);_0x2db732['value']=this['_scanner']['buf']()['join'](''),_0x327543=this['_scanner']['read']();}for(;;){switch(_0x327543){case uf:return _0x23a32c['push'](_0x2db732),!(0xa98*-0x3+-0x249a+0x1*0x4462);case mf:{const _0x205424=this['_scanner']['buf']()['join']('');if(_0x327543=this['_scanner']['read'](),_0x327543!==ff)return this['_error']='expected\x20e'+'quals',!(0xe*-0x12d+-0x1bd5+0x2c4c);if(_0x327543=this['_scanner']['read'](),_0x327543!==pf)return this['_error']='expected\x20s'+'tring',!(0x3*0x92b+0x5f1+0x2171*-0x1);const _0x89de79=this['_scanner']['buf']()['join']('');_0x2db732['attributes'][_0x205424]=_0x89de79;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0x127f+0xb2*-0x5+0x15fa);}_0x327543=this['_scanner']['read']();}}}function nx(_0x3c1c16,_0x1be1d7){for(const _0x19e5f4 in _0x1be1d7){if(!_0x1be1d7['hasOwnProp'+'erty'](_0x19e5f4))continue;const _0x277a98=_0x1be1d7[_0x19e5f4];_0x277a98 instanceof Object?(_0x3c1c16['hasOwnProp'+'erty'](_0x19e5f4)||(_0x3c1c16[_0x19e5f4]={}),nx(_0x3c1c16[_0x19e5f4],_0x1be1d7[_0x19e5f4])):_0x3c1c16[_0x19e5f4]=_0x277a98;}}function TR(_0x56709f){if(_0x56709f['length']===-0x7b*0x19+0x86f+0x394)return null;const _0x4d7771={};for(let _0x4a9c8a=-0x16f4+0x1*0x1158+0x4*0x167;_0x4a9c8a<_0x56709f['length'];++_0x4a9c8a){const _0x46c1be=_0x56709f[_0x4a9c8a],_0x255408={};_0x255408[_0x46c1be['name']]={'value':_0x46c1be['value'],'attributes':_0x46c1be['attributes']},nx(_0x4d7771,_0x255408);}return _0x4d7771;}function AR(_0x772ea1,_0x3a2d50){if(_0x772ea1['length']===0x1*-0x23c5+0x1897+0xb2e)return null;const _0x1334fb={};for(let _0xc32505=-0x942+0x9*-0x1b+0xa35;_0xc32505<_0x772ea1['length'];++_0xc32505){const _0x4f5ca7=_0x772ea1[_0xc32505];_0x1334fb['hasOwnProp'+'erty'](_0x4f5ca7['start'])?_0x1334fb[_0x4f5ca7['start']]['open']===null?_0x1334fb[_0x4f5ca7['start']]['open']=[_0x4f5ca7]:_0x1334fb[_0x4f5ca7['start']]['open']['push'](_0x4f5ca7):_0x1334fb[_0x4f5ca7['start']]={'open':[_0x4f5ca7],'close':null},_0x1334fb['hasOwnProp'+'erty'](_0x4f5ca7['end'])?_0x1334fb[_0x4f5ca7['end']]['close']===null?_0x1334fb[_0x4f5ca7['end']]['close']=[_0x4f5ca7]:_0x1334fb[_0x4f5ca7['end']]['close']['push'](_0x4f5ca7):_0x1334fb[_0x4f5ca7['end']]={'open':null,'close':[_0x4f5ca7]};}let _0x28a0c9=[];function _0x2c6f9b(_0x2ba17e){_0x28a0c9=_0x28a0c9['filter'](_0x5903ac=>_0x2ba17e['find'](_0x86af15=>_0x86af15===_0x5903ac)===void(-0xef2+-0x1*0x23c9+0x32bb));}function _0x39173a(_0x518d1f){for(let _0x6b035c=-0xf9e+-0x1082+-0x202*-0x10;_0x6b035c<_0x518d1f['length'];++_0x6b035c)_0x28a0c9['push'](_0x518d1f[_0x6b035c]);}const _0x381f33=Object['keys'](_0x1334fb)['sort']((_0xda0af9,_0x3e54cc)=>_0xda0af9-_0x3e54cc),_0x4dafc3=[];for(let _0x1933eb=0xccd*0x2+0xee*-0x5+-0x14f4;_0x1933eb<_0x381f33['length'];++_0x1933eb){const _0x2ed4f2=_0x1334fb[_0x381f33[_0x1933eb]];_0x2ed4f2['close']!==null&&_0x2c6f9b(_0x2ed4f2['close']),_0x2ed4f2['open']!==null&&_0x39173a(_0x2ed4f2['open']),_0x4dafc3['push']({'start':_0x381f33[_0x1933eb],'tags':TR(_0x28a0c9)});}const _0x4ae662=[];let _0x256457=null;for(let _0x1611fa=0x1*-0xe4d+0x2132+-0x12e5;_0x1611fa<_0x4dafc3['length'];++_0x1611fa){const _0x1de321=_0x4dafc3[_0x1611fa];for(;_0x4ae662['length']<_0x1de321['start'];)_0x4ae662['push'](_0x256457?_0x256457['tags']:null);_0x256457=_0x1de321;}for(;_0x4ae662['length']<_0x3a2d50;)_0x4ae662['push'](null);return _0x4ae662;}function ER(_0x38d78e){const _0x1708eb=new wR(_0x38d78e),_0x456c57=[],_0x214049=[];if(!_0x1708eb['parse'](_0x456c57,_0x214049))return console['warn'](_0x1708eb['error']()),{'symbols':_0x38d78e,'tags':null};const _0x432dfa=_0x214049['find'](_0x5bee62=>_0x5bee62['end']===null);if(_0x432dfa)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x432dfa['name']+'\x27'),{'symbols':_0x38d78e,'tags':null};const _0x5c9413=AR(_0x214049,_0x456c57['length']);return{'symbols':_0x456c57,'tags':_0x5c9413};}class CR{static['evaluate'](_0x1e0a8d){return ER(_0x1e0a8d);}}class MR{constructor(){this['count']=0x862*0x1+-0xf2*0x2+0x1*-0x67e,this['quad']=-0x1289+0x2*-0xdd7+0x2e37*0x1,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function PR(_0x1be58d,_0x18cfeb){const _0x39c723=new ke(_0x1be58d);return _0x39c723['setPositio'+'ns'](_0x18cfeb['positions']),_0x39c723['setNormals'](_0x18cfeb['normals']),_0x39c723['setColors3'+'2'](_0x18cfeb['colors']),_0x39c723['setUvs'](0x168a+-0xe2f+0x1f*-0x45,_0x18cfeb['uvs']),_0x39c723['setIndices'](_0x18cfeb['indices']),_0x39c723['setVertexS'+'tream'](Lo,_0x18cfeb['outlines'],0xaa9+0xf3b+-0x19e1,void(0x2*-0xfd9+0x1*0x1002+-0x10*-0xfb),Re,!(-0x3*-0xa81+-0x1369+-0xa3*0x13)),_0x39c723['setVertexS'+'tream'](Fo,_0x18cfeb['shadows'],-0x254a+0x1*0x49f+0x20ae,void(0x189c+-0x1*0x1070+-0x82c),Re,!(0x26e*0x4+-0x1ae4+0x112d)),_0x39c723['update'](),_0x39c723;}const fg=/^[\r\n]$/,RR=/^[ \t]$/,pg=/^[ \t\-]|\u200b$/,IR=/^[a-z0-9]$/i,mg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,DR=/^[〕〉》」』】〙〗〟ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻]$/,LR=['​','؜','‎','‏','‪','‫','‬','‭','‮','⁦','⁧','⁨','⁩'],FR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},_g=new Y(),kR=new W(),De=new Y();class OR{constructor(_0xbe848f){this['_element']=_0xbe848f,this['_system']=_0xbe848f['system'],this['_entity']=_0xbe848f['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new yR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0xd7*0x5+0x4*-0x1ec+0x13*0x2f),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(-0xd9*-0x29+-0x1*-0x551+0x1*-0x2811,0xfc8+-0x11fc+-0x71*-0x5,0x6f*0x3b+-0x12fb+-0x699,0x25*-0x11+0x326*-0x7+-0x1c0*-0xe),this['_colorUnif'+'orm']=new Float32Array(0xba*0xd+-0x219*-0x12+-0x2f31),this['_spacing']=0x22bb+0x1*-0x158+-0x2162,this['_fontSize']=-0x1580+-0xd*-0x43+-0x1239*-0x1,this['_fontMinY']=0x11e7*0x1+-0x509+0x12*-0xb7,this['_fontMaxY']=-0x31*-0xa1+-0x2*0x625+-0x1287*0x1,this['_originalF'+'ontSize']=0xd0a*-0x1+0x1a2*-0xd+0x2264,this['_maxFontSi'+'ze']=-0xbc4*-0x1+0x610+0x2*-0x8da,this['_minFontSi'+'ze']=0x20b*0x1+0x469*0x1+-0x66c,this['_autoFitWi'+'dth']=!(-0x16a9*-0x1+-0x243d+0xd95),this['_autoFitHe'+'ight']=!(0x1a3b+-0x6*-0x59a+-0x17*0x29a),this['_maxLines']=-(-0x18d+0x12fb+0x5cf*-0x3),this['_lineHeigh'+'t']=0x3cb*0xa+-0xa2a+-0x1ba4,this['_scaledLin'+'eHeight']=0x1e3d+-0x5*-0xdf+-0x2278,this['_wrapLines']=!(0x1*0xd23+-0xf51+0x22f),this['_drawOrder']=-0xa82+0x305*-0x7+-0x1*-0x1fa5,this['_alignment']=new W(0x967*-0x2+-0x14*0x2+0x12f6+0.5,0x3*-0x1c3+-0x1*0x14b3+0x19fc+0.5),this['_autoWidth']=!(-0x38*-0x25+0x1*-0xda6+0x3*0x1da),this['_autoHeigh'+'t']=!(0x1488*0x1+-0x74f+-0x5*0x2a5),this['width']=0x2174+0xaa4*0x1+-0x2c18,this['height']=-0x1f84+0xb96*0x3+0xa*-0x53,this['_node']=new Oe(),this['_model']=new Ui(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x1f3a+-0xb*0x363+0x607),this['_aabb']=new ve(),this['_noResize']=!(0x6*0x3c8+-0x2230+0xb81),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x1a94+0x1ba3+-0x3636),this['_unicodeCo'+'nverter']=!(0x2b1+0x1893+-0x1b43),this['_rtl']=!(-0x17c4+-0xa4d+-0xe*-0x26f),this['_outlineCo'+'lor']=new Y(0x1810+0x158*0x9+-0x2428,0x17+0x5*0x443+-0x391*0x6,-0x4*-0x60c+-0x11c9+-0x667,-0xca2+0x1a3f+-0x86*0x1a),this['_outlineCo'+'lorUniform']=new Float32Array(-0x1a84+-0x24f8+0x3f80),this['_outlineTh'+'icknessSca'+'le']=-0x35*-0x6a+0x1e41+0x1*-0x3433+0.2,this['_outlineTh'+'ickness']=-0x199*0x1+-0x23ac+0x2545,this['_shadowCol'+'or']=new Y(0x6b*0x51+-0x3*0x6c4+-0xd8f*0x1,0x16e8+-0x17e9+-0x1*-0x101,-0x26ff+-0xf08+0x3607,0x7f*-0x19+0x1eb8+-0x10*0x125),this['_shadowCol'+'orUniform']=new Float32Array(0xf29+0x1*-0x236f+0x144a),this['_shadowOff'+'setScale']=-0x73*-0x8+-0x3fd*0x7+0x1*0x1853+0.005,this['_shadowOff'+'set']=new W(0xbaf+0xb1c+-0x16cb,-0x21ff+0xf*0x284+0xb*-0x57),this['_shadowOff'+'setUniform']=new Float32Array(-0xf8a+-0xe93+0x1e1f),this['_enableMar'+'kup']=!(0x131e+0x480+-0x179d),this['_onScreenC'+'hange'](this['_element']['screen']),_0xbe848f['on']('resize',this['_onParentR'+'esize'],this),_0xbe848f['on']('set:screen',this['_onScreenC'+'hange'],this),_0xbe848f['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0xbe848f['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0xbe848f['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=-0x17*-0x5d+-0x8a8+0xb*0x7,this['_rangeEnd']=0x1*0x65a+-0x9*0x376+0x18cc;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x456b8e,_0x9b2748){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x4271f7){_0x4271f7?this['_updateMat'+'erial'](_0x4271f7['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x1*0x1e31+0x16c+-0x1f9c));}['_onScreenS'+'paceChange'](_0xf1f67){this['_updateMat'+'erial'](_0xf1f67);}['_onDrawOrd'+'erChange'](_0x1a56bc){if(this['_drawOrder']=_0x1a56bc,this['_model']){for(let _0x13f1e2=-0x1b*-0x59+0xb1*-0x38+0x9c7*0x3,_0x97d418=this['_model']['meshInstan'+'ces']['length'];_0x13f1e2<_0x97d418;_0x13f1e2++)this['_model']['meshInstan'+'ces'][_0x13f1e2]['drawOrder']=_0x1a56bc;}}['_onPivotCh'+'ange'](_0x592c0b){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x4fef60){if(this['_i18nKey']){if(this['fontAsset']){const _0x2f001f=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x2f001f||!_0x2f001f['resource']||_0x2f001f['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x6ae9f4,_0x4fffd8){this['_i18nKey']&&_0x4fffd8[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x3cdcaa){if(this['unicodeCon'+'verter']){const _0x16fd67=this['_system']['getUnicode'+'Converter']();_0x16fd67?_0x3cdcaa=_0x16fd67(_0x3cdcaa):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x3cdcaa&&(this['_font']&&this['_updateTex'+'t'](_0x3cdcaa),this['_text']=_0x3cdcaa);}['_updateTex'+'t'](_0x495579){let _0x380ee7;if(_0x495579===void(-0x260b+-0x3d1*0x8+-0x1*-0x4493)&&(_0x495579=this['_text']),this['_symbols']=dh['getSymbols'](_0x495579['normalize']?_0x495579['normalize']('NFC'):_0x495579),this['_symbols']['length']===0x146*0x17+-0x1bb0+0x2*-0xcd&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x282923=CR['evaluate'](this['_symbols']);this['_symbols']=_0x282923['symbols'],_0x380ee7=_0x282923['tags']||[];}if(this['_rtlReorde'+'r']){const _0x513ad9=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x513ad9){const _0x53c702=_0x513ad9(this['_symbols']);this['_rtl']=_0x53c702['rtl'],this['_symbols']=_0x53c702['mapping']['map'](function(_0x322dfb){return this['_symbols'][_0x322dfb];},this),_0x380ee7&&(_0x380ee7=_0x53c702['mapping']['map'](_0x2a4ff4=>_0x380ee7[_0x2a4ff4]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x1*-0x23cf+-0x1568+-0xe66);const _0x208964=(_0x8f70a8,_0x1d7690)=>_0x8f70a8['toString'](!(0x19c0+-0x13b4+-0x9*0xac))['toLowerCas'+'e']()+':'+_0x1d7690['toFixed'](0xb5f+0x2*-0x102f+0x1501),_0x59eaf2=(_0x50abb1,_0x475263)=>_0x50abb1['toString'](!(0x13*-0x167+0x2431+0x34*-0x2f))['toLowerCas'+'e']()+':'+_0x475263['x']['toFixed'](0x1b5e+0x5*-0x33f+-0x7*0x197)+':'+_0x475263['y']['toFixed'](0x82c+0x5c0+-0xdea);if(_0x380ee7){const _0x4b3a92={},_0x58a9c0={},_0x11491f={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(0x1*0x1517+0x13e8+-0x5*0x800)),Math['round'](this['_color']['g']*(-0x25f7+0x4dd*0x1+0x2219)),Math['round'](this['_color']['b']*(-0x12*0x201+0x2504+0xd))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0x21a*-0x4+0x26d0+0x1*-0x1d69)),Math['round'](this['_outlineCo'+'lor']['g']*(0x1999+0x41*0x4+-0x199e)),Math['round'](this['_outlineCo'+'lor']['b']*(0x2301+0x1d*0x143+0x4699*-0x1)),Math['round'](this['_outlineCo'+'lor']['a']*(0x217e+-0x3de*0x7+-0x56d)),Math['round'](this['_outlineTh'+'ickness']*(-0x1083+-0xdad*0x1+0x1f2f))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0x3*-0x828+0xb8e+-0x2307)),Math['round'](this['_shadowCol'+'or']['g']*(-0x1866+0x2e+0x1937)),Math['round'](this['_shadowCol'+'or']['b']*(0x2*-0x10c1+-0x142d+0x36ae)),Math['round'](this['_shadowCol'+'or']['a']*(0x798+0x1501+-0x1b9a)),Math['round'](this['_shadowOff'+'set']['x']*(-0x9fd+-0x1a75+0x24f1)),Math['round'](this['_shadowOff'+'set']['y']*(-0x25*-0x7f+-0x4b2+-0xd2a))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x4b3a92[this['_color']['toString'](!(-0xc4f+-0xc1*0xd+0x3*0x75f))['toLowerCas'+'e']()]=0x2*-0xf39+0x2645+0x7d3*-0x1,_0x58a9c0[_0x208964(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x6*0x112+-0x100c+0x9a0,_0x11491f[_0x59eaf2(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x638+0x13fe+-0x56*0x29;for(let _0x32ce73=-0xef*0x19+0x1e80+-0x729,_0x4532bf=this['_symbols']['length'];_0x32ce73<_0x4532bf;++_0x32ce73){const _0x20ebad=_0x380ee7[_0x32ce73];let _0x158186=0x83c+-0x1*-0x581+-0xdbd;if(_0x20ebad&&_0x20ebad['color']&&_0x20ebad['color']['value']){const _0x4b831d=_0x20ebad['color']['value'];if(_0x4b831d['length']===-0x6*0x13d+-0x74+0x7e9&&_0x4b831d[0x1*-0x553+-0x2cc*-0xb+-0x1971]==='#'){const _0x309fbc=_0x4b831d['substring'](0x1*-0x10df+0x24a9*0x1+-0x13c9)['toLowerCas'+'e']();_0x4b3a92['hasOwnProp'+'erty'](_0x309fbc)?_0x158186=_0x4b3a92[_0x309fbc]:/^[0-9a-f]{6}$/['test'](_0x309fbc)&&(_0x158186=this['_colorPale'+'tte']['length']/(-0x48a+-0x17a3+0x1c30),_0x4b3a92[_0x309fbc]=_0x158186,this['_colorPale'+'tte']['push'](parseInt(_0x309fbc['substring'](0x261d*0x1+0xf7e+-0x359b,-0xd92+0x21f2+-0x145e),0x3*-0x8b7+-0x4a*0x40+0x2cb5)),this['_colorPale'+'tte']['push'](parseInt(_0x309fbc['substring'](-0xb3*0x17+-0x22bd*0x1+0x1*0x32d4,-0x11b2+-0x1480+0x2636),-0x28b+0x3*-0x9bc+0x1fcf)),this['_colorPale'+'tte']['push'](parseInt(_0x309fbc['substring'](0x1ede+-0x5b*0x31+0x1*-0xd6f,-0x2*-0x6f6+0x304*0x3+-0x16f2*0x1),-0x16d5+0x1704+-0x1f)));}}this['_symbolCol'+'ors']['push'](_0x158186);let _0x3b9711=0x1536*0x1+0x1be+0x1a*-0xe2;if(_0x20ebad&&_0x20ebad['outline']&&(_0x20ebad['outline']['attributes']['color']||_0x20ebad['outline']['attributes']['thickness'])){let _0x74d93=_0x20ebad['outline']['attributes']['color']?_g['fromString'](_0x20ebad['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x4f33b9=Number(_0x20ebad['outline']['attributes']['thickness']);(Number['isNaN'](_0x74d93['r'])||Number['isNaN'](_0x74d93['g'])||Number['isNaN'](_0x74d93['b'])||Number['isNaN'](_0x74d93['a']))&&(_0x74d93=this['_outlineCo'+'lor']),Number['isNaN'](_0x4f33b9)&&(_0x4f33b9=this['_outlineTh'+'ickness']);const _0x5db669=_0x208964(_0x74d93,_0x4f33b9);_0x58a9c0['hasOwnProp'+'erty'](_0x5db669)?_0x3b9711=_0x58a9c0[_0x5db669]:(_0x3b9711=this['_outlinePa'+'lette']['length']/(0x1e90+0x1117+0x7*-0x6ce),_0x58a9c0[_0x5db669]=_0x3b9711,this['_outlinePa'+'lette']['push'](Math['round'](_0x74d93['r']*(0x1a7f+0x7*-0x3b+0x17e3*-0x1)),Math['round'](_0x74d93['g']*(0xa22+0x1*0x1611+-0x1f34)),Math['round'](_0x74d93['b']*(0x1748+-0x2008+0x9bf)),Math['round'](_0x74d93['a']*(-0x2*0xa7b+-0xeeb+-0x8*-0x49c)),Math['round'](_0x4f33b9*(0x4a2+-0x2193+0x4*0x77c))));}this['_symbolOut'+'lineParams']['push'](_0x3b9711);let _0x46dc1c=-0x7*0x83+-0x34b+0x6e0;if(_0x20ebad&&_0x20ebad['shadow']&&(_0x20ebad['shadow']['attributes']['color']||_0x20ebad['shadow']['attributes']['offset']||_0x20ebad['shadow']['attributes']['offsetX']||_0x20ebad['shadow']['attributes']['offsetY'])){let _0x156d23=_0x20ebad['shadow']['attributes']['color']?_g['fromString'](_0x20ebad['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x5542d4=Number(_0x20ebad['shadow']['attributes']['offset']),_0x2c5d80=Number(_0x20ebad['shadow']['attributes']['offsetX']),_0x4882ae=Number(_0x20ebad['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x156d23['r'])||Number['isNaN'](_0x156d23['g'])||Number['isNaN'](_0x156d23['b'])||Number['isNaN'](_0x156d23['a']))&&(_0x156d23=this['_shadowCol'+'or']);const _0x18d07c=kR['set'](Number['isNaN'](_0x2c5d80)?Number['isNaN'](_0x5542d4)?this['_shadowOff'+'set']['x']:_0x5542d4:_0x2c5d80,Number['isNaN'](_0x4882ae)?Number['isNaN'](_0x5542d4)?this['_shadowOff'+'set']['y']:_0x5542d4:_0x4882ae),_0x1d41c3=_0x59eaf2(_0x156d23,_0x18d07c);_0x11491f['hasOwnProp'+'erty'](_0x1d41c3)?_0x46dc1c=_0x11491f[_0x1d41c3]:(_0x46dc1c=this['_shadowPal'+'ette']['length']/(0xe9c+-0x1bf2+0xd5c),_0x11491f[_0x1d41c3]=_0x46dc1c,this['_shadowPal'+'ette']['push'](Math['round'](_0x156d23['r']*(-0x95*-0x3a+0x419+0x126e*-0x2)),Math['round'](_0x156d23['g']*(0x2087+0x89*0x11+0x1*-0x28a1)),Math['round'](_0x156d23['b']*(0x977+-0x12ea+0xa72)),Math['round'](_0x156d23['a']*(-0x55b+0x2*0x112f+-0x1c04)),Math['round'](_0x18d07c['x']*(0x4e9*0x7+0xbbb+0x5*-0x91f)),Math['round'](_0x18d07c['y']*(-0x133*-0x7+-0xed5*-0x2+-0x4*0x964))));}this['_symbolSha'+'dowParams']['push'](_0x46dc1c);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x37e844=this['_calculate'+'CharsPerTe'+'xture']();let _0x2c151a=!(0x203b+0x1*-0x1af3+-0x547);const _0x371a62=this['_element'],_0x47e0cb=_0x371a62['_isScreenS'+'pace'](),_0x2b8bc6=_0x371a62['_isScreenC'+'ulled'](),_0xe7784c=function(_0x3275e3){return _0x371a62['isVisibleF'+'orCamera'](_0x3275e3);};for(let _0x27e7cb=0x1e29*0x1+0x4b0+-0x22d9,_0x40db88=this['_meshInfo']['length'];_0x27e7cb<_0x40db88;_0x27e7cb++){const _0x57d3ce=_0x37e844[_0x27e7cb]||-0x1a6+-0x3c4*0x4+-0x3e*-0x45,_0x403672=this['_meshInfo'][_0x27e7cb];if(_0x403672['count']!==_0x57d3ce){if(_0x2c151a||(_0x371a62['removeMode'+'lFromLayer'+'s'](this['_model']),_0x2c151a=!(-0x2421+0x976*-0x3+0x4083*0x1)),_0x403672['count']=_0x57d3ce,_0x403672['positions']['length']=_0x403672['normals']['length']=_0x57d3ce*(0xe5*0x1d+-0x253a+-0x2*-0x5a6)*(0x163d*0x1+-0x4*-0x863+-0x37c5),_0x403672['indices']['length']=_0x57d3ce*(-0x237c+-0x195d*-0x1+0x2*0x511)*(0x427*-0x2+0x1d2d+-0x14dd),_0x403672['uvs']['length']=_0x57d3ce*(-0x3d*0x8d+-0xa11*0x2+0x35bd)*(-0x151a+0xcf+-0x1*-0x144f),_0x403672['colors']['length']=_0x57d3ce*(0x1019+0xc3+-0x10d8)*(0x587+0x2708+-0x2c8b),_0x403672['outlines']['length']=_0x57d3ce*(-0xbd*0x1+-0x5*0x75e+0x2597)*(0x151*0x17+0x58d+-0x23d1),_0x403672['shadows']['length']=_0x57d3ce*(0xffd+0xd2b*0x2+-0x2a4f)*(0xca*0x3+0x2581+-0x2*0x13ee),_0x403672['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x403672['meshInstan'+'ce']),_0x57d3ce===0x9ea+0x29*-0xb+-0x827){_0x403672['meshInstan'+'ce']=null;continue;}for(let _0x9288d=0x1*0x1a+0x10*0x17b+-0x4c2*0x5;_0x9288d<_0x57d3ce;_0x9288d++)_0x403672['indices'][_0x9288d*(-0x1*0x7a4+-0x18bf+0x2066)*(-0xc4f+-0x5*-0x748+0x1817*-0x1)+(0x13b7+-0x512+0xa3*-0x17)]=_0x9288d*(-0x1*0x3db+-0x1c86+0x2065),_0x403672['indices'][_0x9288d*(-0x2173+-0x1077+0x31ed)*(0x47*-0x8+0x58f+-0x355)+(-0x20fe+-0x142b*-0x1+0x2*0x66a)]=_0x9288d*(0x34*-0x53+0x12c9+-0x1e9)+(0x2656+0x1c2e+-0x4283),_0x403672['indices'][_0x9288d*(-0x3*-0x2bf+-0xfab+0x771)*(0x39*0x35+-0x24aa+0x18df)+(0xcea+0x1*-0x979+-0x36f)]=_0x9288d*(0x310+-0x3*0x293+0x4ad)+(0x2120+-0x1d57+0x2e*-0x15),_0x403672['indices'][_0x9288d*(0xda3+-0x1648+0x8a8)*(0x1*-0x134f+0xe3*0x9+-0x2*-0x5ab)+(0x1145*-0x1+-0x14a2+0x25ea)]=_0x9288d*(0x1e*-0x7f+-0x1471+-0x6d*-0x53)+(0x1242+0x53a+-0x177a),_0x403672['indices'][_0x9288d*(-0x1*0x11a9+0x9a*0x28+-0x664*0x1)*(0x10c8*-0x1+0x713*-0x5+0x3429)+(-0x16be+0x1061+0x661)]=_0x9288d*(-0x20ef*0x1+-0x12d8+0x33cb)+(0x36c+0x5d+-0x3c6),_0x403672['indices'][_0x9288d*(-0x2477+0x13fa+0x1080)*(0x7*-0x397+-0x322*0x2+0x1*0x1f67)+(-0xd5*0xc+-0x2f4*0x5+0x18c5)]=_0x9288d*(0x2561+-0x2a6+-0x22b7)+(-0x2430+-0x22f1*-0x1+0x140),_0x403672['normals'][_0x9288d*(-0x6d*-0x5+-0x1de5*-0x1+-0x2002)*(0x187d+0x1466+-0x2ce0)+(0x13e1+-0x25f3+0x1212)]=-0x82*0x20+-0x2242+-0x10d6*-0x3,_0x403672['normals'][_0x9288d*(0x17*-0xa2+0xbc*-0xa+0x15ea)*(0x1*0x2c1+0x12aa+-0x1568)+(-0xe79+-0x2264+0x5*0x9c6)]=0x2500+0x19ef+-0x3eef,_0x403672['normals'][_0x9288d*(-0xbdd*0x2+-0x6*-0x29d+0x810)*(0x16e2+-0x25e9+-0x181*-0xa)+(0x1d*-0x4f+-0x1*0x7a9+-0x6*-0x2c5)]=-(-0x1*-0x65+0x148+-0x1ac),_0x403672['normals'][_0x9288d*(0x1d7f+0x938+0x1*-0x26b3)*(0xe7e+0x249a+-0x3315)+(0x114*-0xb+0xf*-0x167+0x20e8)]=-0x74d+0x62b*-0x2+0xb*0x1c9,_0x403672['normals'][_0x9288d*(0x794+-0x1386+0xbf6*0x1)*(-0x1*0x26dd+-0xd94+-0x9*-0x5d4)+(-0x3*-0x7f6+-0x2595*0x1+0xdb7)]=0x1a7a+-0x47*-0x2f+-0x2783,_0x403672['normals'][_0x9288d*(0x236a+0x22c1+-0x4627)*(-0x11a0+0x1a2e+0x88b*-0x1)+(0x208*-0x11+0x1*0x2635+-0x3a8)]=-(-0x1*0x1b79+-0xd15+-0x288f*-0x1),_0x403672['normals'][_0x9288d*(0x1a40+-0x184f+-0x1ed*0x1)*(-0x5dc+-0x1*-0x76a+-0x18b)+(-0x1*-0x47+0x43e+-0x47f)]=0x409+0x24a8+0xb*-0x3b3,_0x403672['normals'][_0x9288d*(-0xca6*0x1+0x835+-0x475*-0x1)*(-0x1*-0x18fd+0x48+-0x1942)+(0x246b*0x1+-0xec9+-0x159b)]=0x7*0x2+0x1cf0+0x4d5*-0x6,_0x403672['normals'][_0x9288d*(-0x91a+0x1*0x1141+-0x823)*(-0x2202+-0x22d3+0x44d8)+(0x109+-0x2555+0x14*0x1d1)]=-(-0x1*0x2107+0x25a9+-0x4a1),_0x403672['normals'][_0x9288d*(-0x1b34+-0x1c0e+0x1ba3*0x2)*(0x1d7*0x9+-0x4be+0x5e7*-0x2)+(0x1a83+-0x10d*-0xa+0xc54*-0x3)]=-0xe*-0x24+-0xa99+0x8a1,_0x403672['normals'][_0x9288d*(-0x1588*0x1+-0x1*0x1877+0x2e03)*(0x24c3+0xdfa+-0x32ba)+(0xd86+0x6cd+0x9*-0x241)]=-0x1895+0x103e+0x857,_0x403672['normals'][_0x9288d*(-0xcda+0xd*-0x2ea+0x32c0)*(-0x2c*0x6+-0x53*-0x55+-0x1a84)+(-0x255c+-0x1*0x1a06+0x3f6d)]=-(-0x1*-0xb92+-0x23ba+0x4d5*0x5);const _0x355b80=PR(this['_system']['app']['graphicsDe'+'vice'],_0x403672),_0x1a2b83=new Be(_0x355b80,this['_material'],this['_node']);if(_0x1a2b83['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x1a2b83['castShadow']=!(0x1b1*0x5+-0xce*-0x11+0xb11*-0x2),_0x1a2b83['receiveSha'+'dow']=!(-0xaf1*-0x3+-0x3*-0x7ab+-0x1f*0x1cd),_0x1a2b83['cull']=!_0x47e0cb,_0x1a2b83['screenSpac'+'e']=_0x47e0cb,_0x1a2b83['drawOrder']=this['_drawOrder'],_0x2b8bc6&&(_0x1a2b83['cull']=!(-0x94*0x11+-0x1d01+0x26d5*0x1),_0x1a2b83['isVisibleF'+'unc']=_0xe7784c),this['_setTextur'+'eParams'](_0x1a2b83,this['_font']['textures'][_0x27e7cb]),_0x1a2b83['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x1a2b83['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x1a2b83['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x1a2b83['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x1a2b83['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x27e7cb]['width']),_0x1a2b83['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x1a2b83['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x1a2b83['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0x1ed0+-0x85*0x1+-0x1*0x1e4b]=0x24f7*0x1+-0x12*-0x3a+-0x229*0x13,this['_shadowOff'+'setUniform'][0x1f*0x52+-0x2*0x7d3+0x5b9]=0x191*-0x5+0x25b9+-0xef2*0x2;else{const _0x5a2c49=-this['_font']['data']['info']['maps'][_0x27e7cb]['width']/this['_font']['data']['info']['maps'][_0x27e7cb]['height'];this['_shadowOff'+'setUniform'][-0x11e2+-0x2b3*0x5+0x115*0x1d]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x1b8a+0x1f84+-0x3b0d]=_0x5a2c49*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x1a2b83['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x403672['meshInstan'+'ce']=_0x1a2b83,this['_model']['meshInstan'+'ces']['push'](_0x1a2b83);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x2c151a&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=0x14c9+-0x1*0x21d7+0xd0e,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x268c80){_0x268c80['destroy']();const _0x21071a=this['_model']['meshInstan'+'ces']['indexOf'](_0x268c80);_0x21071a!==-(-0x71*0x29+0x1444*0x1+0x115*-0x2)&&this['_model']['meshInstan'+'ces']['splice'](_0x21071a,0xabb+-0x2*0x41b+0x1c*-0x17);}['_setMateri'+'al'](_0x13712a){if(this['_material']=_0x13712a,this['_model'])for(let _0x5528ee=0xbe7*-0x1+0x3*0x9a+-0x1*-0xa19,_0x53c01b=this['_model']['meshInstan'+'ces']['length'];_0x5528ee<_0x53c01b;_0x5528ee++){const _0x1a266b=this['_model']['meshInstan'+'ces'][_0x5528ee];_0x1a266b['material']=_0x13712a;}}['_updateMat'+'erial'](_0x2f6a8d){const _0x480015=this['_element'],_0xc2201f=_0x480015['_isScreenC'+'ulled'](),_0x1fa795=function(_0x49f663){return _0x480015['isVisibleF'+'orCamera'](_0x49f663);},_0x3acb95=this['_font']&&this['_font']['type']===tc;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x2f6a8d,_0x3acb95,this['_enableMar'+'kup']),this['_model'])for(let _0x4a8059=0xcbb+-0x5b6*0x4+0xa1d,_0x1b68c2=this['_model']['meshInstan'+'ces']['length'];_0x4a8059<_0x1b68c2;_0x4a8059++){const _0x26c2f5=this['_model']['meshInstan'+'ces'][_0x4a8059];_0x26c2f5['cull']=!_0x2f6a8d,_0x26c2f5['material']=this['_material'],_0x26c2f5['screenSpac'+'e']=_0x2f6a8d,_0xc2201f?(_0x26c2f5['cull']=!(-0x1*0x1237+-0x1*0x1927+0x2b5e),_0x26c2f5['isVisibleF'+'unc']=_0x1fa795):_0x26c2f5['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][-0x1145+-0x8b*0x3c+0x31d9]=-0x1bef*-0x1+-0x3ec+-0xc01*0x2,this['_colorUnif'+'orm'][0x143d*-0x1+0x11c0+0x27e]=0x2*0x254+0x4b7+-0x95e,this['_colorUnif'+'orm'][-0xc*0x6d+0x653*-0x1+0xb71]=0x70*-0x4f+0x410+0x1e81):(De['linear'](this['_color']),this['_colorUnif'+'orm'][0x1860+-0x9f8+0x4*-0x39a]=De['r'],this['_colorUnif'+'orm'][-0xbd1+-0x1*0x1747+0x2319]=De['g'],this['_colorUnif'+'orm'][-0x1966+-0x189b*0x1+0x3203*0x1]=De['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][0x32b*0x7+-0x9a1+-0x646*0x2]=-0x1119+-0x1c15+-0x1*-0x2d2e,this['_outlineCo'+'lorUniform'][-0x5b3+-0xbfb+0x3*0x5e5]=0x13*0x31+0xcd1+-0x1074,this['_outlineCo'+'lorUniform'][-0x254+-0x1*0x16b7+0x1*0x190d]=-0x869+0x2*0x1249+-0x1c29,this['_outlineCo'+'lorUniform'][-0x1*-0x1087+0x19d9+-0x1*0x2a5d]=0x1d97+0x1fab*-0x1+-0x1*-0x215):(De['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x13ac+-0x83f+0x1beb]=De['r'],this['_outlineCo'+'lorUniform'][-0x2*-0xd4d+-0x8f4+0x1*-0x11a5]=De['g'],this['_outlineCo'+'lorUniform'][-0x37*-0x4b+0xe2f*0x1+-0x2*0xf25]=De['b'],this['_outlineCo'+'lorUniform'][-0x1f*0x1d+0x11*-0x43+0x7f9]=De['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0x3b5+-0xb*0x56+-0x5*-0x17b]=0x1840*-0x1+0x0+0x1840,this['_shadowCol'+'orUniform'][-0x867+0x215a+-0x18f2]=0xd1*0x11+-0x2617+-0x6*-0x409,this['_shadowCol'+'orUniform'][-0x1*0x1ac7+-0x29*-0x91+0x39*0x10]=0xd*-0x26b+-0x1d8+0x2147*0x1,this['_shadowCol'+'orUniform'][0x1926+-0x13a7+0x27*-0x24]=0x7b1*0x3+-0x201e+-0x5*-0x1cf):(De['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x10*0x80+-0xe7c+0x14c*0x5]=De['r'],this['_shadowCol'+'orUniform'][-0x3*-0x303+-0x5*-0x32f+-0x18f3*0x1]=De['g'],this['_shadowCol'+'orUniform'][-0xf5b*0x2+-0x173a+-0x565*-0xa]=De['b'],this['_shadowCol'+'orUniform'][-0x61*0x23+-0x3*0xb11+0x2e79*0x1]=De['a']);}['_isWordBou'+'ndary'](_0x421b5f){return pg['test'](_0x421b5f);}['_isValidNe'+'xtChar'](_0x2077aa){return _0x2077aa!==null&&!DR['test'](_0x2077aa);}['_isNextCJK'+'Boundary'](_0x308ca8,_0x5d75b6){return mg['test'](_0x308ca8)&&(pg['test'](_0x5d75b6)||IR['test'](_0x5d75b6));}['_isNextCJK'+'WholeWord'](_0x27dbf5){return mg['test'](_0x27dbf5);}['_updateMes'+'hes'](){const _0x573d1a=this['_font']['data'],_0x35496c=this,_0x7cbdc=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x37666b=this['_maxFontSi'+'ze'],_0x40a137=this['_shouldAut'+'oFit']();_0x40a137&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x422e30=-0xb04+0xa2*0x19+-0x4ae,_0x323452=this['_symbols']['length'];let _0x5c01bf=0x170d+0x1aa9+-0x31b6,_0x5f56b3=-0x944*0x2+-0x4*0x7f+0x1484,_0x1c9db1=-0x1a64+-0x1ca*-0xb+0x1*0x6b6,_0xe0f808=-0x281+-0x176b+-0xcf6*-0x2,_0x4991d2=0xcec+0x2153+-0x2e3e,_0x5782eb=0x1fdd+-0x2301+0x324,_0x44bd6b=-0x2c5+-0x1*-0x1c03+-0x193e,_0x1404d1=-0xf67+-0x2098+0x2fff,_0x17e820=0x3fd*-0x8+-0x1b19*0x1+-0x3*-0x13ab,_0x1a32ea=0x2*-0xc3e+0x2d8+0x15a4,_0x5f23ee=0x24e6+0x236a+0x1214*-0x4;const _0x2c8f90=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0x19c7+-0x18ea+-0x32b1*-0x1+0.0001;let _0x49258c=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x2c8f90||!this['_wrapLines'])&&(_0x49258c=Number['POSITIVE_I'+'NFINITY']);let _0x54fe4a=0x81b+-0x6*-0x114+-0xe93,_0x5f51c7=-0x1286+0x27*-0x7d+0x2591,_0x355d52,_0x2cf79b,_0x4fa415,_0x303c66;function _0x474105(_0x591eb1,_0xd835b,_0x414d10){_0x35496c['_lineWidth'+'s']['push'](Math['abs'](_0x414d10));const _0x4c1791=_0x1404d1>_0xd835b?_0xd835b+(-0xf41+-0x1*-0x1135+0x1f3*-0x1):_0x1404d1,_0x571fb0=_0x1404d1>_0xd835b?_0x1404d1+(0xa3*-0x7+0xdff+-0x989):_0xd835b,_0x1ba36b=_0x591eb1['slice'](_0x4c1791,_0x571fb0);if(_0x5f23ee){let _0x1747c1=_0x1ba36b['length'];for(;_0x1747c1--&&_0x5f23ee>0x1be1+0x1204*-0x2+0x827*0x1;)fg['test'](_0x1ba36b[_0x1747c1])&&(_0x1ba36b['splice'](_0x1747c1,-0x21fe+0xfae*-0x1+0x108f*0x3),_0x5f23ee--);}_0x35496c['_lineConte'+'nts']['push'](_0x1ba36b['join']('')),_0x5c01bf=0x22a*0x1+0x22db+-0x2505,_0x5f56b3-=_0x35496c['_scaledLin'+'eHeight'],_0x4991d2++,_0x17e820=0x2*0xfb8+-0x133*0x11+-0xb0d,_0x1a32ea=0xa3d+-0xe09*0x1+-0x51*-0xc,_0x5f23ee=0xa75*0x1+0x9e9+0xa2f*-0x2,_0x5782eb=-0xb5*0x9+0x160f+-0xfb2,_0x1404d1=_0xd835b;}let _0x706c1b=!(-0x1c82+-0xdf6+0x2*0x153c);for(;_0x706c1b;){_0x706c1b=!(-0x22b+0x1*-0x1bcd+-0x1*-0x1df9),_0x40a137?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x1dab+0x1fff*-0x1+-0x36d*-0x12+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=-0x1*-0xd6d+-0x587+-0x7e6,this['height']=0x130+-0x4c*-0x67+-0x1fc4,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x5c01bf=-0x7d5*0x3+-0xe71*-0x1+0x90e,_0x5f56b3=0x1382*-0x2+0x1*0x1101+0x1603,_0x1c9db1=0x63*0x3+-0xe2+-0x47*0x1,_0xe0f808=-0x3*-0x14e+0x1*0x1115+-0xd7*0x19,_0x4991d2=0x1442+0xe3f*-0x1+0x1*-0x602,_0x5782eb=-0x431*-0x7+-0x1fde+0x287,_0x44bd6b=0x15df+-0x1623+0x2*0x22,_0x1404d1=-0x765*-0x5+0xe59+-0x1*0x3352,_0x17e820=-0x21be+-0x146f+-0x25b*-0x17,_0x1a32ea=-0x260a+0x242a+0x1e0,_0x5f23ee=0x1e30+0x1dab+-0x3bdb;const _0x55043c=this['_fontSize']/_0x422e30;_0x54fe4a=this['_fontMinY']*_0x55043c,_0x5f51c7=this['_fontMaxY']*_0x55043c;for(let _0x4ed6c5=0x22b+0x5cd+-0x7f8;_0x4ed6c5<this['_meshInfo']['length'];_0x4ed6c5++)this['_meshInfo'][_0x4ed6c5]['quad']=-0x1223+0x1ee4+0x1*-0xcc1,this['_meshInfo'][_0x4ed6c5]['lines']={};let _0x574296=0x7b9+-0x108*0x8+0x186,_0x14871b=0x1*-0x2677+0x1d74+0xa02,_0x42f701=-0xc57+0x1f4c+-0x11f6,_0x136de1=0x1*-0x15dc+-0x1c5a+0x3335+(-0x1*0xfd7+-0xb*-0x281+-0x1*0xab5)*(0x20ea+-0x57*0x15+-0x18c7),_0x41d9ea=-0x1149+-0x1b72+-0x16dd*-0x2+(0x170c+0x1cae+-0x32bb)*(-0x6df+0x2*0xfc7+-0x17af),_0xfb1876=-0x1*0x838+-0x23b0+0x14*0x232,_0x4d327f=-0x2*0xad0+0x586+0x1119+(-0x6*0x358+0x14c7+0x24*0x2)*(-0x3a3+0x11c2+-0xd1f),_0x3307e4=-0xc44*0x1+0xb62+0x1e1+(0xcc7*-0x2+0x975*0x2+0x7a3)*(-0x285*-0x6+0xfaf+0x9ef*-0x3),_0x4250bf=-0x20a+0x14e3*-0x1+0xbb6*0x2+(-0xa18+-0xd*0x2f4+0x1*0x30fb)*(-0x117a+-0x1491+0x270b);for(let _0x3f6e6f=0x15ec+0x4*-0x73f+0x710;_0x3f6e6f<_0x323452;_0x3f6e6f++){if(_0x355d52=this['_symbols'][_0x3f6e6f],_0x303c66=_0x3f6e6f+(-0xa89*0x2+-0x2*0xabd+0x1*0x2a8d)>=_0x323452?null:this['_symbols'][_0x3f6e6f+(0x47*0x3b+-0x9ee+-0x66e)],fg['test'](_0x355d52)){_0x5f23ee++,(!this['_wrapLines']||this['_maxLines']<0x1609+0x12c7+-0x28d0||_0x4991d2<this['_maxLines'])&&(_0x474105(this['_symbols'],_0x3f6e6f,_0xe0f808),_0x44bd6b=_0x3f6e6f+(0xd72+-0x5ab+-0x7c6),_0x1404d1=_0x3f6e6f+(0x259*0xa+0x1f8c+-0x9*0x61d));continue;}let _0x9e6a4=-0x1*-0x246f+-0x9e7+-0x1a88,_0x362576=-0x767*0x5+-0x2cc*-0x2+0x1f6b,_0x3b6079=-0x8dc+0x403*0x2+-0xd6*-0x1,_0x21ba41=-0x67*0xd+0x1cf*0x1+0x36d*0x1,_0x50a9a0,_0x54439e;if(_0x2cf79b=_0x573d1a['chars'][_0x355d52],!_0x2cf79b){if(LR['indexOf'](_0x355d52)!==-(0x1bfb*-0x1+-0x1c4*0x5+-0x24d*-0x10))_0x2cf79b=FR;else{if(_0x573d1a['chars']['\x20'])_0x2cf79b=_0x573d1a['chars']['\x20'];else for(const _0x4338fa in _0x573d1a['chars']){_0x2cf79b=_0x573d1a['chars'][_0x4338fa];break;}_0x573d1a['missingCha'+'rs']||(_0x573d1a['missingCha'+'rs']=new Set()),_0x573d1a['missingCha'+'rs']['has'](_0x355d52)||(console['warn']('Character\x20'+'\x27'+_0x355d52+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x573d1a['info']['face']),_0x573d1a['missingCha'+'rs']['add'](_0x355d52));}}if(_0x2cf79b){let _0x4d7421=0x2*0xb97+0x2255+-0x3983;if(_0x1a32ea>-0x47*0x86+-0x2d+0x2557){const _0x53f951=this['_font']['data']['kerning'];if(_0x53f951){const _0x1d511c=_0x53f951[dh['getCodePoi'+'nt'](this['_symbols'][_0x3f6e6f-(0x1*-0x1181+0x4*0x331+0x4be)])||-0x114e+-0x6*-0x478+0x4c1*-0x2];_0x1d511c&&(_0x4d7421=_0x1d511c[dh['getCodePoi'+'nt'](this['_symbols'][_0x3f6e6f])||-0x649*-0x5+0x105*-0x12+-0xd13]||-0xa31*0x1+-0xac8+0x14f9*0x1);}}_0x50a9a0=_0x2cf79b['scale']||-0x944*0x2+0x1f7*0x7+0x4c8,_0x54439e=(_0x2cf79b['width']+_0x2cf79b['height'])/(0x12c2+-0x1*-0x1069+0x1*-0x2329),_0x21ba41=_0x55043c*_0x54439e/_0x50a9a0,_0x3b6079=(_0x2cf79b['xadvance']+_0x4d7421)*_0x55043c,_0x9e6a4=(_0x2cf79b['xoffset']-_0x4d7421)*_0x55043c,_0x362576=_0x2cf79b['yoffset']*_0x55043c;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x355d52+'\x27');const _0x9146d7=RR['test'](_0x355d52),_0x5e4f6d=_0x2cf79b&&_0x2cf79b['map']||0x13bd+-0x301*0xa+0x125*0x9,_0x223fb8=-this['_font']['data']['info']['maps'][_0x5e4f6d]['width']/this['_font']['data']['info']['maps'][_0x5e4f6d]['height'],_0x1c2185=this['_meshInfo'][_0x5e4f6d],_0x3cc4a3=_0x5c01bf+this['_spacing']*_0x3b6079;if(_0x3cc4a3>_0x49258c&&_0x1a32ea>0xad*-0x2f+0xf48+0x107b&&!_0x9146d7&&(this['_maxLines']<-0xbb9*0x2+0x1df6+-0x684||_0x4991d2<this['_maxLines'])){if(_0x17e820===0x392*-0x1+-0x95*-0x1d+-0xd4f)_0x44bd6b=_0x3f6e6f,_0x474105(this['_symbols'],_0x3f6e6f,_0xe0f808);else{const _0x5d7b4d=Math['max'](_0x3f6e6f-_0x44bd6b,-0x5b*-0x5b+-0x20e9+-0x1*-0x90);if(this['_meshInfo']['length']<=0x8b*-0x3f+0x15b1+0xc85)_0x1c2185['lines'][_0x4991d2-(0x1791+0x7f7+0x1f87*-0x1)]-=_0x5d7b4d,_0x1c2185['quad']-=_0x5d7b4d;else{const _0x3ede0e=_0x44bd6b,_0x6940fc=_0x3f6e6f;for(let _0x196f8e=_0x3ede0e;_0x196f8e<_0x6940fc;_0x196f8e++){const _0x5eee44=this['_symbols'][_0x196f8e],_0x4cc191=_0x573d1a['chars'][_0x5eee44],_0x310ff9=this['_meshInfo'][_0x4cc191&&_0x4cc191['map']||-0xe7f+0x2*-0x100f+-0x2e9d*-0x1];_0x310ff9['lines'][_0x4991d2-(0x1a52+0x1d44+0x1287*-0x3)]-=0x799*0x1+-0x1a91+0x12f9,_0x310ff9['quad']-=-0x12*0x17f+-0x107*0x1+0x2*0xdfb;}}_0x3f6e6f-=_0x5d7b4d+(0x1bb3*0x1+0x259b+-0x414d),_0x474105(this['_symbols'],_0x44bd6b,_0x5782eb);continue;}}_0x4fa415=_0x1c2185['quad'],_0x1c2185['lines'][_0x4991d2-(-0x468+0x2387+-0x1f1e)]=_0x4fa415;let _0xb0dcc7=_0x5c01bf-_0x9e6a4,_0x35a7f5=_0xb0dcc7+_0x21ba41;const _0x11f61f=_0x5f56b3-_0x362576,_0x57b6fd=_0x11f61f+_0x21ba41;if(this['_rtl']){const _0x46cf6c=_0x21ba41-_0x9e6a4-this['_spacing']*_0x3b6079-_0x9e6a4;_0xb0dcc7-=_0x46cf6c,_0x35a7f5-=_0x46cf6c;}_0x1c2185['positions'][_0x4fa415*(0x6db+0x358+-0xa2f)*(0x138e*-0x1+-0x3*-0x221+0xd2e)+(0xb1*0x4+-0x126*0x19+0x19f2)]=_0xb0dcc7,_0x1c2185['positions'][_0x4fa415*(0x1547*0x1+-0x863*-0x3+-0x4*0xb9b)*(0x25*-0x8b+0x132a+0xf0)+(0x1d1b+0xedb+-0x2bf5)]=_0x11f61f,_0x1c2185['positions'][_0x4fa415*(0xad7+-0x31*-0x4d+-0x664*0x4)*(-0x2075+0x2*-0x79c+0x5f6*0x8)+(0x438+-0x8fa+0x4c4*0x1)]=_0x1c9db1,_0x1c2185['positions'][_0x4fa415*(-0x437+0xc5b+-0x820)*(0x2*-0x9f+0xdec+-0x3*0x439)+(0x105e+-0x1d79+0xd1e)]=_0x35a7f5,_0x1c2185['positions'][_0x4fa415*(-0x2*0xe21+0x1add+-0x1*-0x169)*(0xb32*0x2+-0x120+-0x1541)+(0x19*0xa4+-0x40*0x43+0xc*0x10)]=_0x11f61f,_0x1c2185['positions'][_0x4fa415*(0x1a80+-0x1e3*0xe+0x9*-0x2)*(0x1168+-0x9c*0x3b+0x128f)+(0x82b+0x1a78+-0x229e)]=_0x1c9db1,_0x1c2185['positions'][_0x4fa415*(0x1*-0x1f6c+0x1*0x1733+-0x83d*-0x1)*(-0x14*-0x129+0x1a9b*-0x1+-0x36a*-0x1)+(0x1df1+0xc64+-0x2a4f*0x1)]=_0x35a7f5,_0x1c2185['positions'][_0x4fa415*(0x2a3+-0x7*0x3f5+-0x282*-0xa)*(0x194b+0x1d*-0x9+-0x1843)+(-0x415+0x150f*0x1+-0x10f3)]=_0x57b6fd,_0x1c2185['positions'][_0x4fa415*(0x6a+-0xfa9+-0x1*-0xf43)*(0x240a+-0x2*0x82d+0x17*-0xdb)+(0x1a93*0x1+0x1*0x1a0d+0xc*-0x462)]=_0x1c9db1,_0x1c2185['positions'][_0x4fa415*(-0x565+0x221e+0x1*-0x1cb5)*(-0x20b3+-0x1e3b*0x1+-0x1*-0x3ef1)+(0x14a6+0xd6d+-0x220a)]=_0xb0dcc7,_0x1c2185['positions'][_0x4fa415*(-0x1c4a+0xa59+0x11f5)*(0x15f*-0xb+-0x1b60+-0x25c*-0x12)+(0x1*0x1585+0x8*-0x10b+-0xd23)]=_0x57b6fd,_0x1c2185['positions'][_0x4fa415*(0x20e*0x1+0x3cf+0x3*-0x1f3)*(-0x25f6+0x3*0x110+-0x2ad*-0xd)+(-0x1*0x10+0xf97+-0xf7c)]=_0x1c9db1,this['width']=Math['max'](this['width'],_0x3cc4a3);let _0xa06265;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0xa06265=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0x1fb3+-0x2272+-0x2bf*-0x1+0.0001)),_0xa06265=z['clamp'](_0xa06265,_0x7cbdc,_0x37666b),_0xa06265!==this['_element']['fontSize'])){this['_fontSize']=_0xa06265,_0x706c1b=!(-0x2b3*-0xd+0x474+-0x278b);break;}if(this['height']=Math['max'](this['height'],_0x5f51c7-(_0x5f56b3+_0x54fe4a)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0xa06265=z['clamp'](this['_fontSize']-(0x329*0x9+0x134b+-0x2fbb),_0x7cbdc,_0x37666b),_0xa06265!==this['_element']['fontSize'])){this['_fontSize']=_0xa06265,_0x706c1b=!(0x4*-0x8d8+-0x1c2e+0x3f8e);break;}_0x5c01bf+=this['_spacing']*_0x3b6079,_0x9146d7||(_0xe0f808=_0x5c01bf),(this['_isWordBou'+'ndary'](_0x355d52)||this['_isValidNe'+'xtChar'](_0x303c66)&&(this['_isNextCJK'+'Boundary'](_0x355d52,_0x303c66)||this['_isNextCJK'+'WholeWord'](_0x303c66)))&&(_0x17e820++,_0x5782eb=_0xe0f808,_0x44bd6b=_0x3f6e6f+(0x18f7+0x515+-0x1*0x1e0b)),_0x1a32ea++;const _0x250beb=this['_getUv'](_0x355d52);if(_0x1c2185['uvs'][_0x4fa415*(-0x1561+0xd55*0x1+0x810)*(0x59e+-0x7*-0x24e+0xadf*-0x2)+(0x3*-0xacf+0x1de1*-0x1+0x3e4e)]=_0x250beb[0x1*-0x8e7+-0x1e5c+-0x1*-0x2743],_0x1c2185['uvs'][_0x4fa415*(0x1a2+0x52f+-0x6cd)*(-0x6b*0x54+-0x6ee+0x2a0c)+(0x1268+0x1a5e+-0x2cc5)]=-0xbae+0x1*0x10fd+-0x54e-_0x250beb[-0x1a7+-0x197f+-0x15*-0x14b],_0x1c2185['uvs'][_0x4fa415*(0x35a+0xdc+0x219*-0x2)*(-0x3*0x6e6+-0x1ac9+0x2f7d*0x1)+(-0x2*-0x43e+0x100b+0x1885*-0x1)]=_0x250beb[-0x1*-0x7e5+0x277+-0x212*0x5],_0x1c2185['uvs'][_0x4fa415*(0x131d+-0x387+0x7c9*-0x2)*(-0x2275*0x1+0xd1f+0x1558)+(0x1b6c+-0xf*0x31+0x417*-0x6)]=-0x87e*-0x2+0x7*0x493+-0x3100-_0x250beb[-0x1204*0x1+0xd57+0x4ae],_0x1c2185['uvs'][_0x4fa415*(0xd*-0x205+0x983+-0x41*-0x42)*(-0x1*0x1f7f+-0x1b71+-0x1d79*-0x2)+(0x551*-0x3+-0x1*-0x1493+-0x4*0x127)]=_0x250beb[0xe8f*0x1+-0x32*-0x81+-0x19*0x197],_0x1c2185['uvs'][_0x4fa415*(-0x18*0x11e+0x1*0x1d0b+-0x237)*(-0x4*0x476+-0x63f*-0x2+0x2*0x2ae)+(0x2681*-0x1+0xf5a+0x172c)]=0x79*-0x4b+0x4*0x51b+0xf08-_0x250beb[-0x3*0xbdb+-0x96e*-0x1+-0x1*-0x1a26],_0x1c2185['uvs'][_0x4fa415*(0x1aaf+0xc35*0x3+-0x1fa5*0x2)*(0x482*-0x1+0x5*0x7a7+-0x21bf)+(0xc1+-0x348+0x28d*0x1)]=_0x250beb[0x881+-0x9*-0x353+-0x266c],_0x1c2185['uvs'][_0x4fa415*(-0x1*0x18c5+0xd8b+0xb3e)*(0x7b2+0x4*-0x40d+0x884)+(-0x19fe+0x7*0x3d1+-0xb2*0x1)]=0x1*0x16eb+-0x4cb*-0x4+0x2a16*-0x1-_0x250beb[0xa6a+-0x1ceb+-0x3c*-0x4f],this['_symbolCol'+'ors']){const _0x18c6e2=this['_symbolCol'+'ors'][_0x3f6e6f]*(-0x1f*0xa3+0x1fac+-0xbec);_0x574296=this['_colorPale'+'tte'][_0x18c6e2],_0x14871b=this['_colorPale'+'tte'][_0x18c6e2+(0x12fc+0x1*0x6fb+-0x19f6)],_0x42f701=this['_colorPale'+'tte'][_0x18c6e2+(-0x876*0x3+0x1*0x1ba3+-0x23f)];}if(_0x1c2185['colors'][_0x4fa415*(0x6*0x2c0+0x175d+-0x65*0x65)*(0x3*0x381+0x98f*0x4+0x30bb*-0x1)+(-0x33*0x97+-0x5e4+-0x1*-0x23f9)]=_0x574296,_0x1c2185['colors'][_0x4fa415*(0x6ee+-0x227f+0x1b95)*(-0x1*-0xde+0x8da+0xcf*-0xc)+(0x3c*-0x79+0x1c4c+0x11)]=_0x14871b,_0x1c2185['colors'][_0x4fa415*(0x1373+-0x11d2*0x1+0x7*-0x3b)*(0x26fe+0x143*0x1+-0x283d)+(-0x14ad+0x16c6+-0x217)]=_0x42f701,_0x1c2185['colors'][_0x4fa415*(-0x3*0x64a+-0x2*-0xef9+0x1d8*-0x6)*(0x1fe6+0x120f+0x5*-0x9fd)+(-0x140+-0x27*0xc7+0x2*0xfca)]=0x209c+0x2*0x475+-0x2887,_0x1c2185['colors'][_0x4fa415*(-0x4*0x1b2+0xa*-0x275+0x1f5e)*(-0x15e6+0x1527+0xc3)+(-0x644*0x2+0x21c6+-0x16*0xf7)]=_0x574296,_0x1c2185['colors'][_0x4fa415*(0x1*0x1c1d+-0x2bd*-0xe+-0x3*0x1625)*(0x1ac5+0x128a+-0x305*0xf)+(-0x1638+-0x2*-0x5db+0xa87)]=_0x14871b,_0x1c2185['colors'][_0x4fa415*(-0x197*-0x11+0x7*0x549+-0x1*0x4002)*(0x1924+-0x20c5+0x7a5)+(0xb*0x8f+-0x13bd+0xd9e)]=_0x42f701,_0x1c2185['colors'][_0x4fa415*(0x2184+0x1*0xd0f+-0x2e8f)*(-0x2*0x370+0x107*0xf+-0x885)+(-0x1*-0x5a5+-0x11e7*-0x1+-0x1785)]=0x2f8*0x2+0x13*-0xd+-0x2*0x1fd,_0x1c2185['colors'][_0x4fa415*(0x405*-0x1+0xb3e+0x9*-0xcd)*(0x1*-0x8ab+0x25c0+0x7*-0x427)+(-0x83c+-0x20ee+0x1499*0x2)]=_0x574296,_0x1c2185['colors'][_0x4fa415*(-0x1bf*-0xe+-0xb*-0x1a2+-0x2a64)*(-0x8*0x4e+0x987*-0x3+0x1f09)+(-0x4c1*-0x1+0x1042+-0x1*0x14fa)]=_0x14871b,_0x1c2185['colors'][_0x4fa415*(0x17*0x4a+-0x13b5+0xd13)*(-0x1*-0x1543+0x1c4e*0x1+0x5*-0x9e9)+(-0x4fc+0x47*-0x3a+0x1c*0xc1)]=_0x42f701,_0x1c2185['colors'][_0x4fa415*(-0x334+0x17e4+-0x14ac)*(0x2*-0x5e6+0x7ec+-0x3*-0x14c)+(0xa38+0x9f*-0x35+-0x1*-0x16be)]=-0x22db+0x7*0x61+0x2133,_0x1c2185['colors'][_0x4fa415*(0x8aa+-0x1613*0x1+0x1*0xd6d)*(-0x1a*0xbf+-0x421*-0x3+0x7*0x101)+(-0x1b0d+0xbf0+0xf29)]=_0x574296,_0x1c2185['colors'][_0x4fa415*(-0x678+-0xff3+0x166f)*(-0x1*0x1d53+0x22e2+-0x58b)+(0x2bd+-0xa18+0x768)]=_0x14871b,_0x1c2185['colors'][_0x4fa415*(-0x1bd3+-0xd2c+0x2903*0x1)*(0x83+0x1*0x1b02+-0x1b81)+(0x196a+-0xc01+-0xd*0x107)]=_0x42f701,_0x1c2185['colors'][_0x4fa415*(0x28*-0xe8+0x16f1*0x1+-0x3*-0x471)*(0x1db5+-0x1c*0x15d+0x87b)+(0x1496+-0x72*-0x9+-0x23b*0xb)]=-0xd*0x2b0+0x17f7*0x1+0xbf8,this['_symbolOut'+'lineParams']){const _0x49f9b7=this['_symbolOut'+'lineParams'][_0x3f6e6f]*(0x903+-0x2*0x6bb+0x478);_0x136de1=this['_outlinePa'+'lette'][_0x49f9b7]+this['_outlinePa'+'lette'][_0x49f9b7+(-0xce5*-0x1+-0x215d+0x1479)]*(0x2702+0x44*-0x44+-0x13f2),_0x41d9ea=this['_outlinePa'+'lette'][_0x49f9b7+(-0x2f1*-0x6+0x1c6*0xe+-0x2a78)]+this['_outlinePa'+'lette'][_0x49f9b7+(-0x3*-0x8fb+0x1d5*0x13+-0x6d*0x91)]*(0xc77+-0xe35+0x15f*0x2),_0xfb1876=this['_outlinePa'+'lette'][_0x49f9b7+(-0xabc+-0xfdb+0x1a9b)];}if(_0x1c2185['outlines'][_0x4fa415*(-0x1*0x37c+-0x1589+0x1909)*(-0x1225+-0x3b*0x3b+-0x2e3*-0xb)+(0x1*0x22cd+0xa*-0x10+0x2a1*-0xd)]=_0x136de1,_0x1c2185['outlines'][_0x4fa415*(-0x436*-0x7+-0x1c2b+-0x1*0x14b)*(0x14*-0x1bb+-0x39*-0x99+0x8e)+(0x12a2+0x7a0+0x8f*-0x2f)]=_0x41d9ea,_0x1c2185['outlines'][_0x4fa415*(-0x48*-0x1+0x236b+-0x23af)*(-0x1*-0xbaf+-0x1a79+0xecd)+(0x1db*0x9+0x2*0x1cd+0x144b*-0x1)]=_0xfb1876,_0x1c2185['outlines'][_0x4fa415*(0x1be+-0x1877*-0x1+-0x1a31)*(-0x2*-0x535+-0xd2d*-0x1+-0x1794)+(0x1103+0x3c1+-0x15*0xfd)]=_0x136de1,_0x1c2185['outlines'][_0x4fa415*(-0x1*-0x657+-0x1*-0x16eb+-0x18a*0x13)*(-0x1f*-0x29+-0x20f*0xb+0x1*0x11b1)+(0x173e+-0xf1*-0x11+-0x273b)]=_0x41d9ea,_0x1c2185['outlines'][_0x4fa415*(0x2005+-0xe9f+-0x1162)*(-0xe3c+0x1cd*-0x12+-0x5*-0x955)+(-0x14*-0xfa+0x224f*0x1+-0x35d2)]=_0xfb1876,_0x1c2185['outlines'][_0x4fa415*(-0x112+0x13*0x75+0x1*-0x799)*(0xe10+-0x10b6+-0x1*-0x2a9)+(0x1fbf+-0x1c3a*0x1+0x1*-0x37f)]=_0x136de1,_0x1c2185['outlines'][_0x4fa415*(-0x1fd7+0x235b+0x1*-0x380)*(-0xffb*-0x1+0x14dd+0x15*-0x1c1)+(0x24a1+0x208f*0x1+-0xdd5*0x5)]=_0x41d9ea,_0x1c2185['outlines'][_0x4fa415*(-0x188a+0xa*0x389+-0x566*0x2)*(-0x431*-0x1+0x169*0xd+-0x1*0x1683)+(0xb5b+0x2271+-0x2dc4)]=_0xfb1876,_0x1c2185['outlines'][_0x4fa415*(0x2d+0x1d5c*0x1+-0x1d85)*(0x5a6+0xebc+-0x145f)+(0x2c8+0x1899+-0x1b58)]=_0x136de1,_0x1c2185['outlines'][_0x4fa415*(-0x3dd*-0x1+0x13+-0x3ec)*(0x2109*-0x1+-0xc4c*0x2+0x1dc*0x1f)+(0x324+-0x7ea*-0x2+-0x2*0x977)]=_0x41d9ea,_0x1c2185['outlines'][_0x4fa415*(-0x62*-0x19+-0x1eba+0x152c)*(0x1*-0x56b+0x14d*0x1+0x421)+(-0x7*0x56f+0x2281+0x3*0x131)]=_0xfb1876,this['_symbolSha'+'dowParams']){const _0x502b94=this['_symbolSha'+'dowParams'][_0x3f6e6f]*(-0x360*-0x4+-0xa11*0x1+0x61*-0x9);_0x4d327f=this['_shadowPal'+'ette'][_0x502b94]+this['_shadowPal'+'ette'][_0x502b94+(0xecd+-0xc55+-0x277)]*(0x4*0x3f6+-0xde5+-0xf3),_0x3307e4=this['_shadowPal'+'ette'][_0x502b94+(0x2509*-0x1+0x31c+0x1ff*0x11)]+this['_shadowPal'+'ette'][_0x502b94+(0x20c*0x10+0x1*0x1b2e+-0x3beb)]*(-0x1b01+-0x1b*0x123+0x3ab2),_0x4250bf=this['_shadowPal'+'ette'][_0x502b94+(0x5*-0x2a9+-0x2e7*0x4+0x18ed)]+(0x1187+0x646*-0x3+-0x1ca*-0x1)+Math['round'](_0x223fb8*this['_shadowPal'+'ette'][_0x502b94+(-0xba9+0x313*0x5+0x3b1*-0x1)]+(-0x1c*0xa3+0x357+0xefc))*(0x1f0d*0x1+-0x148a+-0x983);}_0x1c2185['shadows'][_0x4fa415*(0x98e+0x5db+-0xf65*0x1)*(0x7cf*0x1+-0x754+-0x3c*0x2)+(0x1fbd+0x25b*-0x9+-0x26*0x47)]=_0x4d327f,_0x1c2185['shadows'][_0x4fa415*(-0x42c*-0x2+-0xc7d*-0x2+-0x4c2*0x7)*(0xa3+0x134b*0x1+-0x13eb)+(0x55*-0x5+-0x244d*-0x1+-0x22a3*0x1)]=_0x3307e4,_0x1c2185['shadows'][_0x4fa415*(-0x1*-0x11f7+-0x1*-0xe53+-0x22*0xf3)*(-0x1379*-0x1+-0x1*-0xb65+-0x1edb)+(-0x1d3e+-0x1*-0x89+0x1cb7)]=_0x4250bf,_0x1c2185['shadows'][_0x4fa415*(-0x21c7+0x8b+-0x40*-0x85)*(-0xf65*0x1+0x1a49*-0x1+0x29b1)+(0x246*-0x5+0x1f0e+-0x13ad*0x1)]=_0x4d327f,_0x1c2185['shadows'][_0x4fa415*(0x4*0x9bc+0x2561+-0x4c4d)*(0x12c6*-0x2+-0x2c*-0x71+-0x1*-0x1223)+(0x1264+0x215c+0x764*-0x7)]=_0x3307e4,_0x1c2185['shadows'][_0x4fa415*(0xd*0x275+-0x1c01*-0x1+-0x3*0x13fa)*(0x8*-0x1d2+-0x8e6+-0x3*-0x7d3)+(0x1266+0x1*0x18b3+-0x72e*0x6)]=_0x4250bf,_0x1c2185['shadows'][_0x4fa415*(0x806+0x1e36+-0x2638)*(-0xc90+0x6*-0x455+0x9*0x449)+(-0x771*-0x1+-0x4d*-0x7+0x4c3*-0x2)]=_0x4d327f,_0x1c2185['shadows'][_0x4fa415*(-0xccd+-0xc7c+-0x3*-0x86f)*(0x3b*-0x89+0x1*0x1174+0xe22)+(0xf67+-0x25e9+0x1689*0x1)]=_0x3307e4,_0x1c2185['shadows'][_0x4fa415*(0x7*-0x1f7+0x963+-0xbb*-0x6)*(-0x1*0x7ed+-0x1c7d+-0x246d*-0x1)+(-0x191f*-0x1+-0x1afb*-0x1+-0x3412)]=_0x4250bf,_0x1c2185['shadows'][_0x4fa415*(-0x1539+0x3*-0x93a+0x30eb)*(0x386+-0x1b43+-0x2*-0xbe0)+(0x335*-0x1+0x1689+-0x134b)]=_0x4d327f,_0x1c2185['shadows'][_0x4fa415*(0x2410+0x212c+-0x1*0x4538)*(0x11*-0x1ca+-0xd46+-0x71*-0x63)+(-0x1878+-0x1c7e+-0x80*-0x6a)]=_0x3307e4,_0x1c2185['shadows'][_0x4fa415*(0x2137*0x1+-0xb46+-0x1*0x15ed)*(-0x85*0x40+0x25f0+-0x4ad)+(0x1308+0x2*-0xb01+0x1*0x305)]=_0x4250bf,_0x1c2185['quad']++;}_0x706c1b||_0x1404d1<_0x323452&&_0x474105(this['_symbols'],_0x323452,_0x5c01bf);}this['_noResize']=!(0x233*0xd+-0x160e*-0x1+0x1*-0x32a5),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(-0x1f1a+0x38d+0x1b8e);const _0x257066=this['_element']['pivot']['x'],_0x1f71bb=this['_element']['pivot']['y'],_0x11c723=this['_alignment']['x'],_0x259a59=this['_alignment']['y'];for(let _0x2f846c=-0x1*0x1552+-0x1f*-0x83+0x7f*0xb;_0x2f846c<this['_meshInfo']['length'];_0x2f846c++){if(this['_meshInfo'][_0x2f846c]['count']===-0x14cf+-0x44a+-0x1919*-0x1)continue;let _0xf30ff2=-0x1*-0xc04+0x2ab*0x6+-0x1c06;for(const _0x27ab3a in this['_meshInfo'][_0x2f846c]['lines']){const _0x6dfc96=this['_meshInfo'][_0x2f846c]['lines'][_0x27ab3a],_0x3e2ec9=this['_lineWidth'+'s'][parseInt(_0x27ab3a,-0x14ee+0x1*-0x25f7+-0x1*-0x3aef)],_0x2a7b8d=-_0x257066*this['_element']['calculated'+'Width']+_0x11c723*(this['_element']['calculated'+'Width']-_0x3e2ec9)*(this['_rtl']?-(0xe*-0x10a+0x250f+-0x1682):0xb*-0x60+-0x173f+0x124*0x18),_0x54715d=(0x1*-0x2642+0x1dad+0x896-_0x1f71bb)*this['_element']['calculated'+'Height']-_0x5f51c7-(-0x153b+-0x577*-0x5+0x1*-0x617-_0x259a59)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x16f048=_0xf30ff2;_0x16f048<=_0x6dfc96;_0x16f048++)this['_meshInfo'][_0x2f846c]['positions'][_0x16f048*(0xc56*-0x1+-0xa6c+-0x35*-0x6e)*(-0xb*-0x10d+-0x1130+0x4c*0x13)]+=_0x2a7b8d,this['_meshInfo'][_0x2f846c]['positions'][_0x16f048*(0x19*0x7a+-0x1*-0x195b+-0x2541)*(0xaa9*0x1+0x2706+-0x31ac)+(0x2c4+0x17*-0x33+0x1d4)]+=_0x2a7b8d,this['_meshInfo'][_0x2f846c]['positions'][_0x16f048*(0x8*0x36d+0x2500+-0xd*0x4f4)*(-0x158e+0x2529+-0x2*0x7cc)+(0x142f+0x23f0+-0x3819)]+=_0x2a7b8d,this['_meshInfo'][_0x2f846c]['positions'][_0x16f048*(-0xc41*0x2+0x1c1b+-0x395)*(-0x639*-0x4+0x24d6*-0x1+0xbf5)+(-0xd7*-0x6+-0x1*0x1b21+0x1620)]+=_0x2a7b8d,this['_meshInfo'][_0x2f846c]['positions'][_0x16f048*(-0xaf*0x4+-0x26*0x95+0x18de*0x1)*(0x5*-0x3a6+-0x88*-0x1f+0x1c9)+(-0x13+-0x675+0x689)]+=_0x54715d,this['_meshInfo'][_0x2f846c]['positions'][_0x16f048*(-0x24f+-0x19f0+-0x5*-0x5a7)*(-0x3a*-0x62+-0x26a*-0x7+-0x2717*0x1)+(-0x1263+0x1701+-0x49a)]+=_0x54715d,this['_meshInfo'][_0x2f846c]['positions'][_0x16f048*(0x12f7+0x1430+0x2b*-0xe9)*(-0x3e4*0xa+-0x1*0x7+0x26f2*0x1)+(0x21cf+-0x1*0xaa2+-0x1*0x1726)]+=_0x54715d,this['_meshInfo'][_0x2f846c]['positions'][_0x16f048*(-0x1*0x5f7+-0x23a1+0xa67*0x4)*(-0x163f+0x1f1e+-0x6*0x17a)+(0x1*0x1b72+0x20f1+-0x3c59)]+=_0x54715d;if(this['_rtl'])for(let _0x5a4482=_0xf30ff2;_0x5a4482<=_0x6dfc96;_0x5a4482++){const _0xe6820=_0x5a4482*(0x552*0x6+0x1efc+-0x73*0x8c)*(0x31*0xcb+-0x2285*-0x1+-0x495d*0x1);for(let _0x5026d9=0x4e6+0x21*-0xec+0x6*0x441;_0x5026d9<0x13cd+-0x7*-0x535+-0xf4*0x3b;++_0x5026d9)this['_meshInfo'][_0x2f846c]['positions'][_0xe6820+_0x5026d9*(0x2033+-0xcc7+-0x1369)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x2f846c]['positions'][_0xe6820+_0x5026d9*(-0x2393+-0x1462+0x37f8)]+_0x2a7b8d*(0x11b1+-0x23b1+0x1202);const _0xb7da21=this['_meshInfo'][_0x2f846c]['positions'][_0xe6820+(-0xfd6*-0x1+0x140*-0x8+-0x5d3)],_0x660f7f=this['_meshInfo'][_0x2f846c]['positions'][_0xe6820+(-0xe55*0x2+0x8bd+0x13f3)];this['_meshInfo'][_0x2f846c]['positions'][_0xe6820+(-0x12e0+0x1fd5+-0xcf2)]=this['_meshInfo'][_0x2f846c]['positions'][_0xe6820+(0x1f7*0xb+0x1*-0x24df+0xf42)],this['_meshInfo'][_0x2f846c]['positions'][_0xe6820+(-0x1*-0x458+-0x1*-0x12e9+-0x13*0x139)]=this['_meshInfo'][_0x2f846c]['positions'][_0xe6820+(0x2349+0x1*0xa61+-0x2da1)],this['_meshInfo'][_0x2f846c]['positions'][_0xe6820+(0x11b3+-0x12bb+0x4*0x42)]=_0xb7da21,this['_meshInfo'][_0x2f846c]['positions'][_0xe6820+(-0x18d*0x9+-0xcf4+-0x1*-0x1af2)]=_0x660f7f;}_0xf30ff2=_0x6dfc96+(-0x198*0x3+-0x1a1d+0x1ee6);}const _0x2aa782=this['_meshInfo'][_0x2f846c]['count']*(0x7bd+-0x1*-0x1a8+-0x961),_0x4620f5=this['_meshInfo'][_0x2f846c]['quad']*(-0x83*0x4c+0x1c91+0xa57),_0x30a93e=new vo(this['_meshInfo'][_0x2f846c]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x4c9c38=0x1*0x2143+0x3*0xc0b+-0x1*0x4564;_0x4c9c38<_0x2aa782;_0x4c9c38++)_0x4c9c38>=_0x4620f5?(_0x30a93e['element'][Xe]['set'](-0x1*0x243d+-0x2529+0x2*0x24b3,0x97a+-0xc17+0x29d,0x2*-0x3b0+0x1f1b*0x1+-0x17bb),_0x30a93e['element'][ds]['set'](-0x1fc8+0x213e+-0x1*0x176,0x172+-0x1054+-0x1e*-0x7f),_0x30a93e['element'][It]['set'](0x23d4+0x11*0x1f9+-0x455d*0x1,0x15*-0x135+-0x20d5+-0x2a5*-0x16,0x1993*0x1+0x1*0x2427+-0x3dba,-0x13d*0x13+-0x1b21+-0x32a8*-0x1),_0x30a93e['element'][Lo]['set'](0xdda+-0x1dd+-0xbfd,-0x13bf*-0x1+-0x1fd2+-0xc13*-0x1,0x850+0x9c8+-0x90c*0x2,-0x4db+0xc4a*0x2+-0x13b9),_0x30a93e['element'][Fo]['set'](-0x1b6a+0x23ce+-0x864,-0x947+0xc9+-0x43f*-0x2,0xf87+0x151b+-0x24a2,0x20df+-0x87c+-0x1863)):(_0x30a93e['element'][Xe]['set'](this['_meshInfo'][_0x2f846c]['positions'][_0x4c9c38*(-0x3da*-0x6+-0x19f6+-0x1*-0x2dd)+(-0x2*-0xb96+-0x2186+-0x32*-0x35)],this['_meshInfo'][_0x2f846c]['positions'][_0x4c9c38*(0x261c+0x1103+-0x1*0x371c)+(0x2f*-0x31+-0x56*-0x22+-0x26c)],this['_meshInfo'][_0x2f846c]['positions'][_0x4c9c38*(0xa0c*-0x1+-0x1*0x5e+0xa6d)+(0x6fb*0x1+0xa6e+-0x5cd*0x3)]),_0x30a93e['element'][ds]['set'](this['_meshInfo'][_0x2f846c]['uvs'][_0x4c9c38*(0x1e8f*-0x1+-0x637*-0x5+0x1a*-0x5)+(0x53a+0x4eb*-0x6+0x206*0xc)],this['_meshInfo'][_0x2f846c]['uvs'][_0x4c9c38*(0x2*-0xbf6+0x203a+-0x84c)+(0xf2c+-0x808+0x261*-0x3)]),_0x30a93e['element'][It]['set'](this['_meshInfo'][_0x2f846c]['colors'][_0x4c9c38*(0xa7d+0x59f+0xce*-0x14)+(0x178a+-0x1032+-0x758)],this['_meshInfo'][_0x2f846c]['colors'][_0x4c9c38*(0x21f0*0x1+-0x20df+0x10d*-0x1)+(-0x1b1b+0x4*-0x7b+0xe84*0x2)],this['_meshInfo'][_0x2f846c]['colors'][_0x4c9c38*(0x1a74+-0x166b+-0x157*0x3)+(0xec*-0xe+-0xa36+0x1720)],this['_meshInfo'][_0x2f846c]['colors'][_0x4c9c38*(-0x5*-0x5f3+-0x206f+0x2b4)+(-0x13bd+-0x2d3+0x1693)]),_0x30a93e['element'][Lo]['set'](this['_meshInfo'][_0x2f846c]['outlines'][_0x4c9c38*(0x1fcc+0x181a*-0x1+-0x7af)+(0x2180+-0x10de+-0x10a2)],this['_meshInfo'][_0x2f846c]['outlines'][_0x4c9c38*(0x1165+0xc2*0x15+-0x214c)+(0x1*0xa90+-0x1525*0x1+-0xa96*-0x1)],this['_meshInfo'][_0x2f846c]['outlines'][_0x4c9c38*(-0x1*0x1cbd+0x6a3*0x1+-0x11*-0x14d)+(0x3*-0x709+0x21d3+-0xcb6)]),_0x30a93e['element'][Fo]['set'](this['_meshInfo'][_0x2f846c]['shadows'][_0x4c9c38*(0x6aa+-0xad9+0x432)+(0x1c84+0x686+0x6*-0x5d7)],this['_meshInfo'][_0x2f846c]['shadows'][_0x4c9c38*(0x12*-0x1c9+-0x1fb0+0x3fd5)+(-0x1*-0x18d9+-0x1*-0x5f8+-0x1ed0)],this['_meshInfo'][_0x2f846c]['shadows'][_0x4c9c38*(0x1df2+-0x179a+-0x655)+(0x18d*-0x1+0x1276+-0x10e7)])),_0x30a93e['next']();_0x30a93e['end'](),this['_meshInfo'][_0x2f846c]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x2f846c]['positions']),this['_meshInfo'][_0x2f846c]['meshInstan'+'ce']['_aabbVer']=-(-0x160f+0xfe*-0x1+0x170e);}this['_aabbDirty']=!(-0xa1*0x10+-0x22b9*0x1+-0x5*-0x8f5);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x1e0ecb){this['font']!==_0x1e0ecb['resource']&&(this['font']=_0x1e0ecb['resource']);}['_onFontCha'+'nge'](_0x14cdbf,_0x263b82,_0x2dd458,_0x299253){if(_0x263b82==='data'){this['_font']['data']=_0x2dd458;const _0x407f93=this['_font']['data']['info']['maps']['length'];for(let _0x407b71=-0x16cc+-0x1c3*-0x7+0xa77;_0x407b71<_0x407f93;_0x407b71++){if(!this['_meshInfo'][_0x407b71])continue;const _0x467570=this['_meshInfo'][_0x407b71]['meshInstan'+'ce'];_0x467570&&(_0x467570['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x467570['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x467570['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x407b71]['width']));}}}['_onFontRem'+'ove'](_0x1d5e98){}['_setTextur'+'eParams'](_0x1b1f90,_0x530068){this['_font']&&(this['_font']['type']===tc?(_0x1b1f90['deletePara'+'meter']('texture_em'+'issiveMap'),_0x1b1f90['deletePara'+'meter']('texture_op'+'acityMap'),_0x1b1f90['setParamet'+'er']('texture_ms'+'dfMap',_0x530068)):this['_font']['type']===xR&&(_0x1b1f90['deletePara'+'meter']('texture_ms'+'dfMap'),_0x1b1f90['setParamet'+'er']('texture_em'+'issiveMap',_0x530068),_0x1b1f90['setParamet'+'er']('texture_op'+'acityMap',_0x530068)));}['_getPxRang'+'e'](_0x1d7145){const _0x42a853=Object['keys'](this['_font']['data']['chars']);for(let _0x309778=-0x10b*-0x7+-0x16f9+0xfac;_0x309778<_0x42a853['length'];_0x309778++){const _0x468ffb=this['_font']['data']['chars'][_0x42a853[_0x309778]];if(_0x468ffb['range'])return(_0x468ffb['scale']||0x527*-0x4+-0x177d+0xa*0x469)*_0x468ffb['range'];}return-0x1be4+0x1a5*-0xc+-0x6ce*-0x7;}['_getUv'](_0x4fc750){const _0x287020=this['_font']['data'];if(!_0x287020['chars'][_0x4fc750]){const _0xc92d0='\x20';return _0x287020['chars'][_0xc92d0]?this['_getUv'](_0xc92d0):[0x1e31+0x1087*-0x2+0x2dd,-0x1b2a+0x3*0x67a+-0xb4*-0xb,0x3e7+-0x371+-0x76,0x1cf*-0x11+-0xf53+0x2e12];}const _0x41a05c=_0x287020['chars'][_0x4fc750]['map'],_0x56478f=_0x287020['info']['maps'][_0x41a05c]['width'],_0x45f8a7=_0x287020['info']['maps'][_0x41a05c]['height'],_0x1e7e57=_0x287020['chars'][_0x4fc750]['x'],_0x51b642=_0x287020['chars'][_0x4fc750]['y'],_0x217f7b=_0x1e7e57,_0x2b6f69=_0x51b642,_0x5ccced=_0x1e7e57+_0x287020['chars'][_0x4fc750]['width'],_0x5ee7ec=_0x51b642-_0x287020['chars'][_0x4fc750]['height'],_0x282701=-0x15ec+-0x77e+-0x11*-0x1bb-_0x287020['chars'][_0x4fc750]['height']/_0x45f8a7;return[_0x217f7b/_0x56478f,_0x282701-_0x2b6f69/_0x45f8a7,_0x5ccced/_0x56478f,_0x282701-_0x5ee7ec/_0x45f8a7];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x5a+0x15ff+-0x15a5),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0x1a39+-0x2648+0x2e*0x167),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x363906){if(this['_model']){const _0x516171=this['_model']['meshInstan'+'ces'];for(let _0x1a03c0=-0x483*0x6+-0x13*0x6b+-0x1*-0x2303;_0x1a03c0<_0x516171['length'];_0x1a03c0++)_0x516171[_0x1a03c0]['stencilFro'+'nt']=_0x363906,_0x516171[_0x1a03c0]['stencilBac'+'k']=_0x363906;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x4148e){const _0x24ad9b={};_0x4148e===void(0x1e4a+-0xf64+0x1*-0xee6)&&(_0x4148e=this['_symbols']['length']);for(let _0x8a371f=-0x2cd+0xfec+0x1*-0xd1f,_0x488ca4=_0x4148e;_0x8a371f<_0x488ca4;_0x8a371f++){const _0x3b196c=this['_symbols'][_0x8a371f];let _0x5c06be=this['_font']['data']['chars'][_0x3b196c];_0x5c06be||(_0x5c06be=this['_font']['data']['chars']['\x20'],_0x5c06be||(_0x5c06be=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x1886+0x21*-0x11f+0x1*0x3d85]]));const _0x2cfa74=_0x5c06be['map'];_0x24ad9b[_0x2cfa74]?_0x24ad9b[_0x2cfa74]++:_0x24ad9b[_0x2cfa74]=0x183a+-0x1528+-0x1*0x311;}return _0x24ad9b;}['_updateRen'+'derRange'](){const _0x92a30d=this['_rangeStar'+'t']===0x172c+-0x1*0xf3f+-0x7ed?0x20e9+0x263c+-0x4725:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x1523e2=this['_rangeEnd']===0x952*0x3+-0x1e60+0x26a?-0x59e*0x3+-0x2*0xf61+0x2f9c:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x29c091=0x28*0x16+0x4d7+0xd*-0xa3,_0x59cb07=this['_meshInfo']['length'];_0x29c091<_0x59cb07;_0x29c091++){const _0x5a7d0f=_0x92a30d[_0x29c091]||0xe43*-0x1+-0xff4+0x1e37,_0x2f9a2a=_0x1523e2[_0x29c091]||-0x115*0xd+0x272*-0xf+0x32bf*0x1,_0x106d97=this['_meshInfo'][_0x29c091]['meshInstan'+'ce'];if(_0x106d97){const _0x908ce1=_0x106d97['mesh'];_0x908ce1&&(_0x908ce1['primitive'][-0x1c85+-0x1514+0x3199]['base']=_0x5a7d0f*(-0x1*0x14b0+-0x24f0+0x39a3)*(0x29f*-0x5+-0x203*0xb+0x233e),_0x908ce1['primitive'][0x59*0x1f+0x1ef*0x1+-0xcb6]['count']=(_0x2f9a2a-_0x5a7d0f)*(0x180d*0x1+-0x8d7+-0xf33)*(-0x1*0xaed+-0x4a*-0x63+0x1f7*-0x9));}}}set['text'](_0x22987a){this['_i18nKey']=null;const _0x5c551a=_0x22987a!=null&&_0x22987a['toString']()||'';this['_setText'](_0x5c551a);}get['text'](){return this['_text'];}set['key'](_0x2f777b){const _0x48e46c=_0x2f777b!==null?_0x2f777b['toString']():null;this['_i18nKey']!==_0x48e46c&&(this['_i18nKey']=_0x48e46c,_0x48e46c?(this['_fontAsset']['disableLoc'+'alization']=!(0x233a*0x1+-0x67d+0x4*-0x72f),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(0x9*0x283+0x13d6+-0x87d*0x5));}get['key'](){return this['_i18nKey'];}set['color'](_0x20bf42){const _0x2fd6ff=_0x20bf42['r'],_0x175d2e=_0x20bf42['g'],_0xd3e8f8=_0x20bf42['b'];if(this['_color']===_0x20bf42&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x2fd6ff&&this['_color']['g']===_0x175d2e&&this['_color']['b']===_0xd3e8f8)&&(this['_color']['r']=_0x2fd6ff,this['_color']['g']=_0x175d2e,this['_color']['b']=_0xd3e8f8,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{De['linear'](this['_color']),this['_colorUnif'+'orm'][0x1b*0x1+-0x4c7*0x6+-0x3*-0x985]=De['r'],this['_colorUnif'+'orm'][-0xd9d*0x1+0x1506+0xc*-0x9e]=De['g'],this['_colorUnif'+'orm'][0x1*-0x80+0x3d0*-0x6+0x1762]=De['b'];for(let _0x31dbaa=-0x29d*0x7+0x1aa0+-0x1*0x855,_0x44248a=this['_model']['meshInstan'+'ces']['length'];_0x31dbaa<_0x44248a;_0x31dbaa++)this['_model']['meshInstan'+'ces'][_0x31dbaa]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x497c08){if(this['_color']['a']!==_0x497c08&&(this['_color']['a']=_0x497c08,this['_model'])){for(let _0x8032e7=0x6be+0x24d7+-0x2b95,_0x3be01d=this['_model']['meshInstan'+'ces']['length'];_0x8032e7<_0x3be01d;_0x8032e7++)this['_model']['meshInstan'+'ces'][_0x8032e7]['setParamet'+'er']('material_o'+'pacity',_0x497c08);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x497c08);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x5c7e78){const _0x4dddb2=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x5c7e78,this['_scaledLin'+'eHeight']=_0x5c7e78,_0x4dddb2!==_0x5c7e78&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x1233e7){const _0x3200f4=this['_wrapLines'];this['_wrapLines']=_0x1233e7,_0x3200f4!==_0x1233e7&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x5d34ad){const _0x2bc506=this['_spacing'];this['_spacing']=_0x5d34ad,_0x2bc506!==_0x5d34ad&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x4e2790){const _0x43613b=this['_fontSize'];this['_fontSize']=_0x4e2790,this['_originalF'+'ontSize']=_0x4e2790,_0x43613b!==_0x4e2790&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x3533ae){this['_fontAsset']['defaultAss'+'et']=_0x3533ae;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x5e41f3){let _0x2fad61;if(this['_font']&&(_0x2fad61=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x5e41f3,this['_fontMinY']=0x21b0+-0x1557+-0xc59,this['_fontMaxY']=-0x1*0xd21+-0x2532*-0x1+-0x1811*0x1,!_0x5e41f3)return;const _0x29d883=this['_font']['data'];for(const _0x53a291 in _0x29d883['chars']){const _0x378da5=_0x29d883['chars'][_0x53a291];_0x378da5['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x378da5['bounds'][-0x1275+0x14*0x9d+-0x2*-0x319]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x378da5['bounds'][-0x2*-0x8ec+-0x111e+-0xb7]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x5e41f3['type']!==_0x2fad61){const _0x3863b1=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x3863b1);}for(let _0x24bb73=0x1*-0xfb3+0x1*-0xd61+0x2*0xe8a,_0x4e73fe=this['_font']['textures']['length'];_0x24bb73<_0x4e73fe;_0x24bb73++)if(!this['_meshInfo'][_0x24bb73])this['_meshInfo'][_0x24bb73]=new MR();else{const _0x1264ac=this['_meshInfo'][_0x24bb73]['meshInstan'+'ce'];_0x1264ac&&(_0x1264ac['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x1264ac['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x1264ac['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x24bb73]['width']),this['_setTextur'+'eParams'](_0x1264ac,this['_font']['textures'][_0x24bb73]));}let _0x3e8ab8=!(0x19dd*-0x1+-0x4*-0x865+-0x7b6);for(let _0x13c55d=this['_font']['textures']['length'];_0x13c55d<this['_meshInfo']['length'];_0x13c55d++)this['_meshInfo'][_0x13c55d]['meshInstan'+'ce']&&(_0x3e8ab8||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x3e8ab8=!(0x8f+-0x1*-0x225a+-0x22e9)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x13c55d]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x16a8be){_0x16a8be instanceof W?this['_alignment']['set'](_0x16a8be['x'],_0x16a8be['y']):this['_alignment']['set'](_0x16a8be[0x1cd3+-0x23a6+-0x6d3*-0x1],_0x16a8be[0x15c4+-0x2*-0x2d+-0x33*0x6f]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x3db232){const _0x54af8b=this['_autoWidth'];if(this['_autoWidth']=_0x3db232,_0x3db232&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x1*0xa87+0x219f+-0x2c26+0.0001&&(this['_element']['width']=this['width']),_0x54af8b!==_0x3db232){const _0x530bd1=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x530bd1!==this['_fontSize']&&(this['_fontSize']=_0x530bd1,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x15b682){const _0x27a838=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x15b682,_0x15b682&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x89*0x3a+-0x6*0x36+0x25*-0xce+0.0001&&(this['_element']['height']=this['height']),_0x27a838!==_0x15b682){const _0x112973=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x112973!==this['_fontSize']&&(this['_fontSize']=_0x112973,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x45cb32){this['_rtlReorde'+'r']!==_0x45cb32&&(this['_rtlReorde'+'r']=_0x45cb32,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x260582){this['_unicodeCo'+'nverter']!==_0x260582&&(this['_unicodeCo'+'nverter']=_0x260582,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x2ef207=!(-0xe97*0x2+-0xe59+0x2b88);for(let _0x569c4c=-0xdd+-0x16f*0x18+0x2345;_0x569c4c<this['_meshInfo']['length'];_0x569c4c++)this['_meshInfo'][_0x569c4c]['meshInstan'+'ce']&&(_0x2ef207?this['_aabb']['add'](this['_meshInfo'][_0x569c4c]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x569c4c]['meshInstan'+'ce']['aabb']),_0x2ef207=!(-0x2699+0x1b*-0x15b+0x37*0x15e)));this['_aabbDirty']=!(-0x71*-0x35+0x13da+0x52*-0x87);}return this['_aabb'];}set['outlineCol'+'or'](_0x20b840){const _0x137a7b=_0x20b840 instanceof Y?_0x20b840['r']:_0x20b840[0x1*0x2056+0x919+-0x1*0x296f],_0x2c70ff=_0x20b840 instanceof Y?_0x20b840['g']:_0x20b840[0xdb4+0xd1b*0x1+0x5e*-0x49],_0x58b12e=_0x20b840 instanceof Y?_0x20b840['b']:_0x20b840[-0x247b+-0x3*0xa8b+-0x2*-0x220f],_0xb1089b=_0x20b840 instanceof Y?_0x20b840['a']:_0x20b840[0x12*-0x95+0x2101+-0x5a1*0x4];if(this['_outlineCo'+'lor']===_0x20b840&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x137a7b&&this['_outlineCo'+'lor']['g']===_0x2c70ff&&this['_outlineCo'+'lor']['b']===_0x58b12e&&this['_outlineCo'+'lor']['a']===_0xb1089b)&&(this['_outlineCo'+'lor']['r']=_0x137a7b,this['_outlineCo'+'lor']['g']=_0x2c70ff,this['_outlineCo'+'lor']['b']=_0x58b12e,this['_outlineCo'+'lor']['a']=_0xb1089b,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{De['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0xadf+0x2*-0xbb+-0x969]=De['r'],this['_outlineCo'+'lorUniform'][0x4*-0x5ce+-0x1*-0x1225+-0x4*-0x145]=De['g'],this['_outlineCo'+'lorUniform'][0x1*0x8e1+-0x26*-0x31+-0x1025]=De['b'],this['_outlineCo'+'lorUniform'][-0x1*-0x1f0c+0x1*-0x240d+-0x504*-0x1]=De['a'];for(let _0x5d6a60=-0x17*-0x7b+-0xac1*0x1+0x26*-0x2,_0x41ec7d=this['_model']['meshInstan'+'ces']['length'];_0x5d6a60<_0x41ec7d;_0x5d6a60++)this['_model']['meshInstan'+'ces'][_0x5d6a60]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x3c8e67){const _0x17ae55=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x3c8e67,_0x17ae55!==_0x3c8e67&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x440e22=0x1b2*-0x13+0x1384*0x2+-0x6d2,_0x248f49=this['_model']['meshInstan'+'ces']['length'];_0x440e22<_0x248f49;_0x440e22++)this['_model']['meshInstan'+'ces'][_0x440e22]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x33f5c2){const _0xbb4966=_0x33f5c2 instanceof Y?_0x33f5c2['r']:_0x33f5c2[-0x1*-0xa6d+-0x21c+-0x851],_0x3c820d=_0x33f5c2 instanceof Y?_0x33f5c2['g']:_0x33f5c2[0x2677+0x18f5+-0x55*0xbf],_0x5dd799=_0x33f5c2 instanceof Y?_0x33f5c2['b']:_0x33f5c2[0x18*0x18d+0x17d2+-0x3d08],_0xbb784f=_0x33f5c2 instanceof Y?_0x33f5c2['a']:_0x33f5c2[0x5*-0x10c+0xa7*-0x1f+0x1978];if(this['_shadowCol'+'or']===_0x33f5c2&&b['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0xbb4966&&this['_shadowCol'+'or']['g']===_0x3c820d&&this['_shadowCol'+'or']['b']===_0x5dd799&&this['_shadowCol'+'or']['a']===_0xbb784f)&&(this['_shadowCol'+'or']['r']=_0xbb4966,this['_shadowCol'+'or']['g']=_0x3c820d,this['_shadowCol'+'or']['b']=_0x5dd799,this['_shadowCol'+'or']['a']=_0xbb784f,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{De['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x11*0x17d+-0xd*0x12a+0x1*-0xa2b]=De['r'],this['_shadowCol'+'orUniform'][-0x31e+0x5f2*0x2+0x5*-0x1c1]=De['g'],this['_shadowCol'+'orUniform'][0x19b2+-0x29*-0xd3+-0x3b7b]=De['b'],this['_shadowCol'+'orUniform'][0x2*0x3f5+-0x26e7+-0x10*-0x1f0]=De['a'];for(let _0x598a59=-0x20e*-0x12+0x1d*0x49+-0x90d*0x5,_0x3189ee=this['_model']['meshInstan'+'ces']['length'];_0x598a59<_0x3189ee;_0x598a59++)this['_model']['meshInstan'+'ces'][_0x598a59]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x4f5136){const _0x2e7657=_0x4f5136 instanceof W?_0x4f5136['x']:_0x4f5136[0x7e4+-0x5*0x52+-0x64a],_0x186a7d=_0x4f5136 instanceof W?_0x4f5136['y']:_0x4f5136[-0x935*0x2+0x276*0x7+0x131*0x1];if(!(this['_shadowOff'+'set']['x']===_0x2e7657&&this['_shadowOff'+'set']['y']===_0x186a7d)&&(this['_shadowOff'+'set']['set'](_0x2e7657,_0x186a7d),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x5d7834=0x1e35+-0x1d*-0x137+-0x4170,_0x45f865=this['_model']['meshInstan'+'ces']['length'];_0x5d7834<_0x45f865;_0x5d7834++){const _0x4b91af=-this['_font']['data']['info']['maps'][_0x5d7834]['width']/this['_font']['data']['info']['maps'][_0x5d7834]['height'];this['_shadowOff'+'setUniform'][0x1*0x1861+-0x18ef+0x8e*0x1]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x3*0x25+-0x5c*0x3+0x184]=_0x4b91af*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x5d7834]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x514dad){this['_minFontSi'+'ze']!==_0x514dad&&(this['_minFontSi'+'ze']=_0x514dad,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x558ac0){this['_maxFontSi'+'ze']!==_0x558ac0&&(this['_maxFontSi'+'ze']=_0x558ac0,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x181e30){this['_autoFitWi'+'dth']!==_0x181e30&&(this['_autoFitWi'+'dth']=_0x181e30,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x139085){this['_autoFitHe'+'ight']!==_0x139085&&(this['_autoFitHe'+'ight']=_0x139085,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x19ac7a){this['_maxLines']!==_0x19ac7a&&(_0x19ac7a===null&&this['_maxLines']===-(-0x9a3*-0x1+-0x4*-0x8c3+-0x12d*0x26)||(this['_maxLines']=_0x19ac7a===null?-(-0x9*0x33+-0x16f4+0x18c0):_0x19ac7a,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x2c9323){if(_0x2c9323=!!_0x2c9323,this['_enableMar'+'kup']===_0x2c9323)return;this['_enableMar'+'kup']=_0x2c9323,this['font']&&this['_updateTex'+'t']();const _0x3abcf0=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x3abcf0);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x41aaaf){return this['_colorPale'+'tte']['slice'](_0x41aaaf*(-0x13*-0x1d2+0xacc+0x5*-0x913),_0x41aaaf*(-0xda9+0x1a00*-0x1+0x13d6*0x2)+(0x543+0x95b+-0xe9b));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x55a01b){return this['_outlinePa'+'lette']['slice'](_0x55a01b*(-0x2126+0x3*-0xbec+0x44ef),_0x55a01b*(-0xe83+0x2691+-0x1809)+(0x2015+-0x1fc*-0x3+-0x656*0x6));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x186594){return this['_shadowPal'+'ette']['slice'](_0x186594*(-0x13+0xedc+-0xec3),_0x186594*(0x7a2+-0x5*0x5eb+0x15fb)+(0x1ff5*0x1+0x305*-0x1+-0x1cea));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0xf32646){_0xf32646=Math['max'](0x22*0x44+0x1*0x1d46+0x1*-0x264e,Math['min'](_0xf32646,this['_symbols']['length'])),_0xf32646!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0xf32646,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x347ff2){_0x347ff2=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x347ff2,this['_symbols']['length'])),_0x347ff2!==this['_rangeEnd']&&(this['_rangeEnd']=_0x347ff2,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const eu=new A(),gg=new q(),ci=new A(),BR=new A(),as=new q(),eh=new q(),th=new q(),Vn=new q();class Kt extends pe{constructor(_0x5ecf75,_0x45bd8c){super(_0x5ecf75,_0x45bd8c),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(-0x93e+0xa*0x18d+-0x643),this['_anchor']=new ee(),this['_localAnch'+'or']=new ee(),this['_pivot']=new W(),this['_width']=this['_calculate'+'dWidth']=0x11dc+0x23eb+-0x35a7,this['_height']=this['_calculate'+'dHeight']=0x1*-0x1f1f+0x1e0f+0x130*0x1,this['_margin']=new ee(0x1*-0x215b+0x1ee*-0x3+0x38f*0xb,0x1a53+-0x2031+0x2*0x2ef,-(-0x4*-0x232+-0x2401+-0x1b59*-0x1),-(0x283*0x4+-0x1*-0x1ead+-0x223*0x13)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(0x8c7+0x1*-0x626+-0x1*0x2a1),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new A(),new A(),new A(),new A()],this['_canvasCor'+'ners']=[new W(),new W(),new W(),new W()],this['_worldCorn'+'ers']=[new A(),new A(),new A(),new A()],this['_cornersDi'+'rty']=!(-0x120d*-0x1+-0x159e+-0x53*-0xb),this['_canvasCor'+'nersDirty']=!(0x21ad*0x1+-0x4c4+0x1*-0x1ce9),this['_worldCorn'+'ersDirty']=!(-0x91+0xef8*-0x1+0xf89),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=vh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0x4c+0x242a+-0x23de,this['_fitMode']=bh,this['_useInput']=!(-0x45+-0xf99+0x11*0xef),this['_layers']=[nl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(-0x275+-0x81a+-0x2*-0x548),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0x2153+0x2*0xa7e+-0x364f,this['_maskOffse'+'t']=-0xd3*0x2+-0x1d1b*0x1+-0x1*-0x1ec1+0.5,this['_maskedBy']=null);}get['data'](){const _0x26ef93=this['system']['store'][this['entity']['getGuid']()];return _0x26ef93?_0x26ef93['data']:null;}set['enabled'](_0xc0b534){const _0x3afbb6=this['data'],_0x36ad93=_0x3afbb6['enabled'];_0x3afbb6['enabled']=_0xc0b534,this['fire']('set','enabled',_0x36ad93,_0xc0b534);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0x7de+0x1dfb+0x75f*-0x3+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>-0x25aa+0x317*-0xc+0x4abe+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x92bbb3){_0x92bbb3 instanceof ee?this['_anchor']['copy'](_0x92bbb3):this['_anchor']['set'](..._0x92bbb3),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x131d+0x3b7+0xf66),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x544138){var _0x461d49,_0x27812d;this['_batchGrou'+'pId']!==_0x544138&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x15*0x39+-0x626+0xad3&&((_0x461d49=this['system']['app']['batcher'])==null||_0x461d49['remove'](rt['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x544138>=-0x203b+0x1*0x61f+0x1a1c&&((_0x27812d=this['system']['app']['batcher'])==null||_0x27812d['insert'](rt['ELEMENT'],_0x544138,this['entity'])),_0x544138<-0x18a0*0x1+-0x1*-0xc7+0x17d9&&this['_batchGrou'+'pId']>=-0x129+0x257*0x7+-0xf38&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x544138);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x3601fe){this['_margin']['y']=_0x3601fe;const _0x4437e8=this['entity']['getLocalPo'+'sition'](),_0x52b3e0=this['_absTop'],_0x42bf62=this['_localAnch'+'or']['y']+_0x3601fe;this['_setHeight'](_0x52b3e0-_0x42bf62),_0x4437e8['y']=_0x3601fe+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x4437e8);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x45ca1e){this['_setCalcul'+'atedWidth'](_0x45ca1e,!(0xb3e*0x1+-0xdd5*-0x2+-0x26e8));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x14c7b5){this['_setCalcul'+'atedHeight'](_0x14c7b5,!(0x1*-0x1755+-0x32e+0x1*0x1a83));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x209612=this['system']['app']['graphicsDe'+'vice'],_0x25cd8e=this['screenCorn'+'ers'],_0x55fb04=_0x209612['canvas']['clientWidt'+'h']/_0x209612['width'],_0x58f4d5=_0x209612['canvas']['clientHeig'+'ht']/_0x209612['height'];for(let _0x5938f4=0x1bc1+-0x15c5+-0x5fc;_0x5938f4<-0x116b+0x1f3*0x13+-0x139a;_0x5938f4++)this['_canvasCor'+'ners'][_0x5938f4]['set'](_0x25cd8e[_0x5938f4]['x']*_0x55fb04,(_0x209612['height']-_0x25cd8e[_0x5938f4]['y'])*_0x58f4d5);return this['_canvasCor'+'nersDirty']=!(0x2645+0x1833+0x3e77*-0x1),this['_canvasCor'+'ners'];}set['drawOrder'](_0x23e570){let _0xc9a700=-0x2a*0xe+0x1*-0x266+0x4b2;this['screen']&&(_0xc9a700=this['screen']['screen']['priority']),_0x23e570>-0x5f00d*-0x55+-0x46dd*0x2bf+-0x1*0x361b6f&&(b['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x23e570=-0x33ef5b+-0x3cb5*0x61+0x9ef3*0x215),this['_drawOrder']=(_0xc9a700<<0x1dec+0x3b5*0x2+-0x253e)+_0x23e570,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x5ce5da){this['_height']=_0x5ce5da,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x5ce5da,!(0x1a0c*-0x1+-0x383*-0x2+-0x3ce*-0x5)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x254895){if(this['_addedMode'+'ls']['length'])for(let _0x63e476=0x1*0x191+-0x59*-0x3+-0x29c;_0x63e476<this['_layers']['length'];_0x63e476++){const _0x5d85d1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x63e476]);if(_0x5d85d1){for(let _0x83a6d6=0x17f+0xee*0x10+-0x105f*0x1;_0x83a6d6<this['_addedMode'+'ls']['length'];_0x83a6d6++)_0x5d85d1['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x83a6d6]['meshInstan'+'ces']);}}if(this['_layers']=_0x254895,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x5df05b=-0x377*0x7+0x10*0x6a+0x11a1*0x1;_0x5df05b<this['_layers']['length'];_0x5df05b++){const _0x145fec=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x5df05b]);if(_0x145fec){for(let _0x3953a8=0x6ea+-0x25ea*-0x1+-0x2cd4;_0x3953a8<this['_addedMode'+'ls']['length'];_0x3953a8++)_0x145fec['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x3953a8]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x370afe){this['_margin']['x']=_0x370afe;const _0x51dfea=this['entity']['getLocalPo'+'sition'](),_0xe5aa34=this['_absRight'],_0x155800=this['_localAnch'+'or']['x']+_0x370afe;this['_setWidth'](_0xe5aa34-_0x155800),_0x51dfea['x']=_0x370afe+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x51dfea);}get['left'](){return this['_margin']['x'];}set['margin'](_0x11c2c8){this['_margin']['copy'](_0x11c2c8),this['_calculate'+'Size'](!(0x1*0x123e+-0x16a3+-0x3*-0x177),!(0x1*-0x1481+0x48a+0xff7)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x3b837b){const {pivot:_0x2fea0f,margin:_0x24f28f}=this,_0xcea8fb=_0x2fea0f['x'],_0x339916=_0x2fea0f['y'];_0x3b837b instanceof W?_0x2fea0f['copy'](_0x3b837b):_0x2fea0f['set'](..._0x3b837b);const _0x1a61ba=_0x24f28f['x']+_0x24f28f['z'],_0x12fbbe=_0x2fea0f['x']-_0xcea8fb;_0x24f28f['x']+=_0x1a61ba*_0x12fbbe,_0x24f28f['z']-=_0x1a61ba*_0x12fbbe;const _0x4d2ae3=_0x24f28f['y']+_0x24f28f['w'],_0x35bc17=_0x2fea0f['y']-_0x339916;_0x24f28f['y']+=_0x4d2ae3*_0x35bc17,_0x24f28f['w']-=_0x4d2ae3*_0x35bc17,this['_anchorDir'+'ty']=!(-0x15*0x1b3+-0xc5b*0x1+-0x3b2*-0xd),this['_cornersDi'+'rty']=!(-0x1afb*-0x1+0x4*0x80d+-0x3b2f),this['_worldCorn'+'ersDirty']=!(-0x144c+-0x5*-0x732+-0xfae),this['_calculate'+'Size'](!(0x345*0x1+-0x2a*-0x48+0xf14*-0x1),!(-0x2021+0x1*0x1ff+0x1e23)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x2fea0f);}get['pivot'](){return this['_pivot'];}set['right'](_0x3eb886){this['_margin']['z']=_0x3eb886;const _0x321ceb=this['entity']['getLocalPo'+'sition'](),_0x51a74f=this['_absLeft'],_0x1db763=this['_localAnch'+'or']['z']-_0x3eb886;this['_setWidth'](_0x1db763-_0x51a74f),_0x321ceb['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x3eb886-this['_calculate'+'dWidth']*(0x1782+-0x9*-0x407+0x1de*-0x20-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x321ceb);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x4b95d6=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x117e+-0x65*0x60+0x375e];this['_screenCor'+'ners'][-0x4b8+-0x9a1+0xe59]['set'](this['_absLeft'],this['_absBottom'],0x23cd+-0x1*0x10fd+0x2*-0x968),this['_screenCor'+'ners'][-0xf9*-0x1d+0x2006*-0x1+-0x3*-0x146]['set'](this['_absRight'],this['_absBottom'],-0x8d2*-0x4+0x24f+-0x2597),this['_screenCor'+'ners'][0x5d6*-0x3+-0x1ca4*-0x1+-0xb20]['set'](this['_absRight'],this['_absTop'],0x1*-0x23c5+0x10db+0x12ea*0x1),this['_screenCor'+'ners'][-0x1*0x1f91+0x1328+-0x27c*-0x5]['set'](this['_absLeft'],this['_absTop'],-0x952*0x3+-0x2083+0x3c79);const _0x58462c=this['screen']['screen']['screenSpac'+'e'];for(let _0x13c620=0x8*0x35b+0x3*-0x1f1+0x1*-0x1505;_0x13c620<0x1c26+-0x179+0x23*-0xc3;_0x13c620++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x13c620],this['_screenCor'+'ners'][_0x13c620]),_0x58462c&&this['_screenCor'+'ners'][_0x13c620]['mulScalar'](this['screen']['screen']['scale']),_0x4b95d6&&this['_screenCor'+'ners'][_0x13c620]['add'](_0x4b95d6);return this['_cornersDi'+'rty']=!(-0x22cb+0x3*0xa2a+0x44e),this['_canvasCor'+'nersDirty']=!(-0x1ca1+-0x13*0xc+0x1d85),this['_worldCorn'+'ersDirty']=!(0x5f2*0x4+-0x1*0x20b+0x9f*-0x23),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x14f7+0x2e9*0x1+-0x907*-0x2;}get['textHeight'](){return this['_text']?this['_text']['height']:-0x2701+-0xad+0x27ae;}set['top'](_0x220593){this['_margin']['w']=_0x220593;const _0x356211=this['entity']['getLocalPo'+'sition'](),_0x31f083=this['_absBottom'],_0x2e394f=this['_localAnch'+'or']['w']-_0x220593;this['_setHeight'](_0x2e394f-_0x31f083),_0x356211['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x220593-this['_calculate'+'dHeight']*(0xd*0x2a5+-0x1f5a+-0x2*0x183-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x356211);}get['top'](){return this['_margin']['w'];}set['type'](_0xa53e1b){_0xa53e1b!==this['_type']&&(this['_type']=_0xa53e1b,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0xa53e1b===lf?this['_image']=new gR(this):_0xa53e1b===tx&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x1840b2){this['_useInput']!==_0x1840b2&&(this['_useInput']=_0x1840b2,this['system']['app']['elementInp'+'ut']?_0x1840b2?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(0x218d*-0x1+0x1*0x1697+-0xaf6*-0x1)&&b['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x1840b2));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x2f03c4){this['_fitMode']=_0x2f03c4,this['_calculate'+'Size'](!(0x1ce6+0x2497+0x1*-0x417d),!(0x97*-0x17+0x1dd9+0x412*-0x4)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x4de3f8){this['_width']=_0x4de3f8,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x4de3f8,!(0x2204+-0x337*0x2+0x1*-0x1b96)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x24402a=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){as['copy'](this['screen']['screen']['_screenMat'+'rix']),as['data'][-0x13a*-0x1f+-0xd53+-0x1*0x18a6]=-as['data'][-0x19f2+-0x33b*0x1+-0x1d3a*-0x1],as['mul2'](this['screen']['getWorldTr'+'ansform'](),as);for(let _0x124b6c=0xc2b+-0x1cf5+0x10ca;_0x124b6c<0x85*-0x3d+0x41*0x91+-0x147*0x4;_0x124b6c++)as['transformP'+'oint'](_0x24402a[_0x124b6c],this['_worldCorn'+'ers'][_0x124b6c]);}}else{const _0x3046c5=this['entity']['getLocalPo'+'sition']();as['setTransla'+'te'](-_0x3046c5['x'],-_0x3046c5['y'],-_0x3046c5['z']),eh['setTRS'](A['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),th['setTransla'+'te'](_0x3046c5['x'],_0x3046c5['y'],_0x3046c5['z']);const _0x54ac80=this['entity']['parent']?this['entity']['parent']:this['entity'];Vn['copy'](_0x54ac80['getWorldTr'+'ansform']()),Vn['mul'](th)['mul'](eh)['mul'](as),ci['set'](_0x3046c5['x']-this['pivot']['x']*this['calculated'+'Width'],_0x3046c5['y']-this['pivot']['y']*this['calculated'+'Height'],_0x3046c5['z']),Vn['transformP'+'oint'](ci,this['_worldCorn'+'ers'][-0x1f41+-0x25a5+-0x1*-0x44e6]),ci['set'](_0x3046c5['x']+(0x1f*0x118+-0x50*-0x6b+-0x4357-this['pivot']['x'])*this['calculated'+'Width'],_0x3046c5['y']-this['pivot']['y']*this['calculated'+'Height'],_0x3046c5['z']),Vn['transformP'+'oint'](ci,this['_worldCorn'+'ers'][-0x377*0x1+-0xb7e*0x2+0x2*0xd3a]),ci['set'](_0x3046c5['x']+(0xb37+0x1b13+-0x2649-this['pivot']['x'])*this['calculated'+'Width'],_0x3046c5['y']+(-0x218b+-0x121+0x22ad-this['pivot']['y'])*this['calculated'+'Height'],_0x3046c5['z']),Vn['transformP'+'oint'](ci,this['_worldCorn'+'ers'][-0xaed*0x1+-0x22d9+0x2dc8]),ci['set'](_0x3046c5['x']-this['pivot']['x']*this['calculated'+'Width'],_0x3046c5['y']+(0x1*-0xaa6+-0x1d7a+0x2821-this['pivot']['y'])*this['calculated'+'Height'],_0x3046c5['z']),Vn['transformP'+'oint'](ci,this['_worldCorn'+'ers'][-0x25*-0x67+0x32a+-0x1*0x120a]);}return this['_worldCorn'+'ersDirty']=!(0xcfd*-0x3+-0x4b4*-0x6+0xac0),this['_worldCorn'+'ers'];}set['fontSize'](_0xd97fac){this['_setValue']('fontSize',_0xd97fac);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x38f4fb){this['_setValue']('minFontSiz'+'e',_0x38f4fb);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x164dc5){this['_setValue']('maxFontSiz'+'e',_0x164dc5);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x220357){this['_setValue']('maxLines',_0x220357);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x25f89d){this['_setValue']('autoFitWid'+'th',_0x25f89d);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x2b8066){this['_setValue']('autoFitHei'+'ght',_0x2b8066);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0xa7874b){this['_setValue']('color',_0xa7874b);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x15cafd){this['_setValue']('font',_0x15cafd);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x305964){this['_setValue']('fontAsset',_0x305964);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x166e49){this['_setValue']('spacing',_0x166e49);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x1e130d){this['_setValue']('lineHeight',_0x1e130d);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x431269){this['_setValue']('wrapLines',_0x431269);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x2b260d){this['_setValue']('lines',_0x2b260d);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x14ae58){this['_setValue']('alignment',_0x14ae58);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x376a43){this['_setValue']('autoWidth',_0x376a43);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x454004){this['_setValue']('autoHeight',_0x454004);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x394a4d){this['_setValue']('rtlReorder',_0x394a4d);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x1001d7){this['_setValue']('unicodeCon'+'verter',_0x1001d7);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x4b2275){this['_setValue']('text',_0x4b2275);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x269d52){this['_setValue']('key',_0x269d52);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x448850){this['_setValue']('texture',_0x448850);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x53111f){this['_setValue']('textureAss'+'et',_0x53111f);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x9b2c1a){this['_setValue']('material',_0x9b2c1a);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x3086ca){this['_setValue']('materialAs'+'set',_0x3086ca);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x4ae12d){this['_setValue']('sprite',_0x4ae12d);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x15b72b){this['_setValue']('spriteAsse'+'t',_0x15b72b);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x22ff18){this['_setValue']('spriteFram'+'e',_0x22ff18);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x229eac){this['_setValue']('pixelsPerU'+'nit',_0x229eac);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x561eaf){this['_setValue']('opacity',_0x561eaf);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x51bd67){this['_setValue']('rect',_0x51bd67);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x5182c1){this['_setValue']('mask',_0x5182c1);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x5daf27){this['_setValue']('outlineCol'+'or',_0x5daf27);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x2dd473){this['_setValue']('outlineThi'+'ckness',_0x2dd473);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x431364){this['_setValue']('shadowColo'+'r',_0x431364);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x296609){this['_setValue']('shadowOffs'+'et',_0x296609);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x14dfb9){this['_setValue']('enableMark'+'up',_0x14dfb9);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x5aa369){this['_setValue']('rangeStart',_0x5aa369);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x39502c){this['_setValue']('rangeEnd',_0x39502c);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x1638d1,_0x3a9cdf){this['_text']?(this['_text'][_0x1638d1]!==_0x3a9cdf&&this['_dirtyBatc'+'h'](),this['_text'][_0x1638d1]=_0x3a9cdf):this['_image']&&(this['_image'][_0x1638d1]!==_0x3a9cdf&&this['_dirtyBatc'+'h'](),this['_image'][_0x1638d1]=_0x3a9cdf);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=je['prototype']['_sync'],this['entity']['setPositio'+'n']=je['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=je['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0xf88d7b,_0x3cf3ee,_0x3fefc5){if(!this['element']['screen']){je['prototype']['setPositio'+'n']['call'](this,_0xf88d7b,_0x3cf3ee,_0x3fefc5);return;}_0xf88d7b instanceof A?eu['copy'](_0xf88d7b):eu['set'](_0xf88d7b,_0x3cf3ee,_0x3fefc5),this['getWorldTr'+'ansform'](),gg['copy'](this['element']['_screenToW'+'orld'])['invert'](),gg['transformP'+'oint'](eu,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x1ab28c,_0x3fcb49,_0xaea286){_0x1ab28c instanceof A?this['localPosit'+'ion']['copy'](_0x1ab28c):this['localPosit'+'ion']['set'](_0x1ab28c,_0x3fcb49,_0xaea286);const _0x38372c=this['element'],_0x5ac6dc=this['localPosit'+'ion'],_0x3ca458=_0x38372c['_pivot'];_0x38372c['_margin']['x']=_0x5ac6dc['x']-_0x38372c['_calculate'+'dWidth']*_0x3ca458['x'],_0x38372c['_margin']['z']=_0x38372c['_localAnch'+'or']['z']-_0x38372c['_localAnch'+'or']['x']-_0x38372c['_calculate'+'dWidth']-_0x38372c['_margin']['x'],_0x38372c['_margin']['y']=_0x5ac6dc['y']-_0x38372c['_calculate'+'dHeight']*_0x3ca458['y'],_0x38372c['_margin']['w']=_0x38372c['_localAnch'+'or']['w']-_0x38372c['_localAnch'+'or']['y']-_0x38372c['_calculate'+'dHeight']-_0x38372c['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x3bcb4e=this['element'],_0x2b0633=_0x3bcb4e['screen'];if(_0x2b0633){if(_0x3bcb4e['_anchorDir'+'ty']){let _0x2d196d=0x1c85+0x19a6+-0x7bd*0x7,_0xc3a31e=-0x5d9+-0x472+-0x5*-0x20f,_0x3937ab=0x72*0x31+-0x5*0x1af+-0xd67,_0x49e59c=-0x1b0c+0xd34+0xdd9;if(this['_parent']&&this['_parent']['element'])_0x2d196d=this['_parent']['element']['calculated'+'Width'],_0xc3a31e=this['_parent']['element']['calculated'+'Height'],_0x3937ab=this['_parent']['element']['pivot']['x'],_0x49e59c=this['_parent']['element']['pivot']['y'];else{const _0x6ad7ca=_0x2b0633['screen']['resolution'];_0x2d196d=_0x6ad7ca['x']/_0x2b0633['screen']['scale'],_0xc3a31e=_0x6ad7ca['y']/_0x2b0633['screen']['scale'];}_0x3bcb4e['_anchorTra'+'nsform']['setTransla'+'te'](_0x2d196d*(_0x3bcb4e['anchor']['x']-_0x3937ab),-(_0xc3a31e*(_0x49e59c-_0x3bcb4e['anchor']['y'])),0x3*0x4ff+0xcda+-0x1bd7),_0x3bcb4e['_anchorDir'+'ty']=!(-0x23bf+-0x2583*-0x1+-0x1c3),_0x3bcb4e['_calculate'+'LocalAncho'+'rs']();}_0x3bcb4e['_sizeDirty']&&_0x3bcb4e['_calculate'+'Size'](!(-0x250a*-0x1+0x3*-0x3a7+0x4*-0x685),!(0x1*0x1e80+-0x2309*-0x1+-0x4188));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x1abd95=this['localPosit'+'ion'],_0xe7700f=_0x3bcb4e['_pivot'];_0x3bcb4e['_margin']['x']=_0x1abd95['x']-_0x3bcb4e['_calculate'+'dWidth']*_0xe7700f['x'],_0x3bcb4e['_margin']['z']=_0x3bcb4e['_localAnch'+'or']['z']-_0x3bcb4e['_localAnch'+'or']['x']-_0x3bcb4e['_calculate'+'dWidth']-_0x3bcb4e['_margin']['x'],_0x3bcb4e['_margin']['y']=_0x1abd95['y']-_0x3bcb4e['_calculate'+'dHeight']*_0xe7700f['y'],_0x3bcb4e['_margin']['w']=_0x3bcb4e['_localAnch'+'or']['w']-_0x3bcb4e['_localAnch'+'or']['y']-_0x3bcb4e['_calculate'+'dHeight']-_0x3bcb4e['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x2*-0x6ad+0x2424+-0x1*0x317d);}if(!_0x2b0633){this['_dirtyWorl'+'d']&&(_0x3bcb4e['_cornersDi'+'rty']=!(-0x1478+-0x1*0x1229+0x26a1),_0x3bcb4e['_canvasCor'+'nersDirty']=!(0x1fa2+-0x469+0x913*-0x3),_0x3bcb4e['_worldCorn'+'ersDirty']=!(-0x7b*0x25+-0x225d+-0x4*-0xd09)),je['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x3bcb4e['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x3bcb4e['_anchorTra'+'nsform']):_0x3bcb4e['_screenToW'+'orld']['copy'](_0x3bcb4e['_anchorTra'+'nsform']),_0x3bcb4e['_modelTran'+'sform']['mul2'](_0x3bcb4e['_screenToW'+'orld'],this['localTrans'+'form']),_0x2b0633){_0x3bcb4e['_screenToW'+'orld']['mul2'](_0x2b0633['screen']['_screenMat'+'rix'],_0x3bcb4e['_screenToW'+'orld']),_0x2b0633['screen']['screenSpac'+'e']||_0x3bcb4e['_screenToW'+'orld']['mul2'](_0x2b0633['worldTrans'+'form'],_0x3bcb4e['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x3bcb4e['_screenToW'+'orld'],this['localTrans'+'form']);const _0x41a54f=_0x3bcb4e['_parentWor'+'ldTransfor'+'m'];_0x41a54f['setIdentit'+'y']();const _0x5842b7=this['_parent'];_0x5842b7&&_0x5842b7['element']&&_0x5842b7!==_0x2b0633&&(as['setTRS'](A['ZERO'],_0x5842b7['getLocalRo'+'tation'](),_0x5842b7['getLocalSc'+'ale']()),_0x41a54f['mul2'](_0x5842b7['element']['_parentWor'+'ldTransfor'+'m'],as));const _0x518b38=ci;_0x518b38['set'](0x1c01+0x2178+-0x3d79*0x1,-0xef2*0x1+0x14a2+0xd0*-0x7,this['localPosit'+'ion']['z']);const _0x45d846=BR;_0x45d846['set'](_0x3bcb4e['_absLeft']+_0x3bcb4e['_pivot']['x']*_0x3bcb4e['calculated'+'Width'],_0x3bcb4e['_absBottom']+_0x3bcb4e['_pivot']['y']*_0x3bcb4e['calculated'+'Height'],0x3dd*0x8+-0x180d+-0x6db),as['setTransla'+'te'](-_0x45d846['x'],-_0x45d846['y'],-_0x45d846['z']),eh['setTRS'](_0x518b38,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),th['setTransla'+'te'](_0x45d846['x'],_0x45d846['y'],_0x45d846['z']),_0x3bcb4e['_screenTra'+'nsform']['mul2'](_0x3bcb4e['_parentWor'+'ldTransfor'+'m'],th)['mul'](eh)['mul'](as),_0x3bcb4e['_cornersDi'+'rty']=!(-0x48c*-0x2+-0x15b1+0xc99),_0x3bcb4e['_canvasCor'+'nersDirty']=!(0x1669+0x6a5*-0x5+0xad0),_0x3bcb4e['_worldCorn'+'ersDirty']=!(0x1*-0x1583+0x1d2d+-0x7aa);}else this['worldTrans'+'form']['copy'](_0x3bcb4e['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0x137c+0x31*0x36+0x927);}}['_onInsert'](_0xbde244){const _0x21afd3=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x21afd3['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x87e4d0=this['entity'];for(;_0x87e4d0;){const _0xe940a2=_0x87e4d0['parent'];if((_0xe940a2===null||_0xe940a2['screen'])&&_0x87e4d0['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),b['trace'](Es,'register\x20p'+'rerender'));const _0x58a576=this['system']['_prerender']['indexOf'](this['entity']);_0x58a576>=-0xcd0+0xe*-0x283+-0x17*-0x216&&this['system']['_prerender']['splice'](_0x58a576,0x465*0x4+0x1dd+-0x1370*0x1),this['system']['_prerender']['indexOf'](_0x87e4d0)<-0x24de+-0x55b+0x2a39&&this['system']['_prerender']['push'](_0x87e4d0),b['trace'](Es,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x87e4d0['name']);}_0x87e4d0=_0xe940a2;}}['_onPrerend'+'er'](){for(let _0x325cab=-0x4b7*-0x3+-0x9a2+-0xa5*0x7;_0x325cab<this['system']['_prerender']['length'];_0x325cab++){const _0x5e3144=this['system']['_prerender'][_0x325cab];b['trace'](Es,'prerender\x20'+'from:\x20'+_0x5e3144['name']),_0x5e3144['element']&&_0x5e3144['element']['syncMask'](-0x1c70+-0x4dd*-0x7+-0x59a);}this['system']['_prerender']['length']=-0x2*-0x977+0x2*0x1a5+0x3b4*-0x6;}['_bindScree'+'n'](_0x3362c4){_0x3362c4['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x54af76){_0x54af76['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x3db89c){this['screen']&&this['screen']!==_0x3db89c&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x2a9ecd=this['screen'];this['screen']=_0x3db89c,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x2a9ecd),this['_anchorDir'+'ty']=!(-0x7*0x38f+0x11f6*0x2+-0xb03);const _0x34d801=this['entity']['children'];for(let _0x51dce6=-0x14a1*0x1+0x9a1+-0x8*-0x160,_0x4d1702=_0x34d801['length'];_0x51dce6<_0x4d1702;_0x51dce6++)_0x34d801[_0x51dce6]['element']&&_0x34d801[_0x51dce6]['element']['_updateScr'+'een'](_0x3db89c);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x2e4350){const _0x1691a3=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x1691a3['mask'],_0x2e4350);}['_setMasked'+'By'](_0x385686){const _0x5346db=this['_image']||this['_text'];if(_0x385686){const _0x2943ba=_0x385686['element']['_image']['_maskRef'];b['trace'](Es,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x2943ba),_0x5346db==null||_0x5346db['_setStenci'+'l'](new Zs({'ref':_0x2943ba,'func':Dh})),this['_maskedBy']=_0x385686;}else b['trace'](Es,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x5346db==null||_0x5346db['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0xeccdb7,_0x3d1065){var _0x56ced6,_0x5c2347;if(_0xeccdb7){if(this['_setMasked'+'By'](_0xeccdb7),this['mask']){const _0x15b3f3=_0xeccdb7['element']['_image']['_maskRef'],_0x15a941=new Zs({'ref':_0x15b3f3,'func':Dh,'zpass':HS});this['_image']['_setStenci'+'l'](_0x15a941),this['_image']['_maskRef']=_0x3d1065,_0x3d1065++,b['trace'](Es,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x15a941['ref']+(0x3e*0xd+-0x23fe+0x3*0xaf3))),b['trace'](Es,'depth++\x20to'+':\x20',_0x3d1065),_0xeccdb7=this['entity'];}const _0x253840=this['entity']['children'];for(let _0x1b7fa0=-0x817*0x2+0x1*-0x2519+0x251*0x17,_0x44b37d=_0x253840['length'];_0x1b7fa0<_0x44b37d;_0x1b7fa0++)(_0x56ced6=_0x253840[_0x1b7fa0]['element'])==null||_0x56ced6['_updateMas'+'k'](_0xeccdb7,_0x3d1065);this['mask']&&_0x3d1065--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x4d2427=new Zs({'ref':_0x3d1065,'func':Ri,'zpass':GS});this['_image']['_setStenci'+'l'](_0x4d2427),this['_image']['_maskRef']=_0x3d1065,_0x3d1065++,b['trace'](Es,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x4d2427['ref']),b['trace'](Es,'depth++\x20to'+':\x20',_0x3d1065),_0xeccdb7=this['entity'];}const _0x37ce67=this['entity']['children'];for(let _0x156535=0xd24+0x18c5+0x1*-0x25e9,_0x3844a9=_0x37ce67['length'];_0x156535<_0x3844a9;_0x156535++)(_0x5c2347=_0x37ce67[_0x156535]['element'])==null||_0x5c2347['_updateMas'+'k'](_0xeccdb7,_0x3d1065);this['mask']&&_0x3d1065--;}}['_parseUpTo'+'Screen'](){const _0x169b07={'screen':null,'mask':null};let _0xb1db0e=this['entity']['_parent'];for(;_0xb1db0e&&!_0xb1db0e['screen'];)_0xb1db0e['element']&&_0xb1db0e['element']['mask']&&(_0x169b07['mask']||(_0x169b07['mask']=_0xb1db0e)),_0xb1db0e=_0xb1db0e['parent'];return _0xb1db0e&&_0xb1db0e['screen']&&(_0x169b07['screen']=_0xb1db0e),_0x169b07;}['_onScreenR'+'esize'](_0xbadbdc){this['_anchorDir'+'ty']=!(0x465+-0x31*0x17+-0x1*-0x2),this['_cornersDi'+'rty']=!(-0x205*-0x8+-0x2017+0xfef*0x1),this['_worldCorn'+'ersDirty']=!(0x5*0x271+-0x14a8+-0x67*-0x15),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0xbadbdc);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x47949d=-0x8f6+-0x1e+-0x1*-0xcfc,_0x3c094a=-0x715+-0x18de+0x23db;const _0xff254f=this['entity']['_parent'];if(_0xff254f&&_0xff254f['element'])_0x47949d=_0xff254f['element']['calculated'+'Width'],_0x3c094a=_0xff254f['element']['calculated'+'Height'];else{if(this['screen']){const _0x18c8cd=this['screen']['screen']['resolution'],_0x330b9b=this['screen']['screen']['scale'];_0x47949d=_0x18c8cd['x']/_0x330b9b,_0x3c094a=_0x18c8cd['y']/_0x330b9b;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x47949d,this['_anchor']['y']*_0x3c094a,this['_anchor']['z']*_0x47949d,this['_anchor']['w']*_0x3c094a);}['getOffsetP'+'osition'](_0x350d2c,_0xe528cf){const _0xc0c70e=this['entity']['getLocalPo'+'sition']()['clone']();return _0xc0c70e['x']+=_0x350d2c,_0xc0c70e['y']+=_0xe528cf,this['_screenToW'+'orld']['transformP'+'oint'](_0xc0c70e,_0xc0c70e),_0xc0c70e;}['onLayersCh'+'anged'](_0x166b77,_0x5a86c0){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x166b77['off']('add',this['onLayerAdd'+'ed'],this),_0x166b77['off']('remove',this['onLayerRem'+'oved'],this),_0x5a86c0['on']('add',this['onLayerAdd'+'ed'],this),_0x5a86c0['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x34dd1c){this['layers']['indexOf'](_0x34dd1c['id'])<-0x6b7+-0xf*0x147+0x19e0||(this['_image']?_0x34dd1c['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x34dd1c['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x336493){this['layers']['indexOf'](_0x336493['id'])<-0x3*0xff+0x1e82+-0x1b85||(this['_image']?_0x336493['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x336493['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x2c3990;const _0x4b8757=this['system']['app']['scene'],_0x316fc8=_0x4b8757['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x4b8757['on']('set:layers',this['onLayersCh'+'anged'],this),_0x316fc8&&(this['_evtLayerA'+'dded']=_0x316fc8['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x316fc8['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x19ec+-0x1*0x1bd1+-0x1e5*-0x1&&((_0x2c3990=this['system']['app']['batcher'])==null||_0x2c3990['insert'](rt['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x436a1f,_0x4a9acb,_0x2acf5c,_0x2482a5;const _0x51320f=this['system']['app']['scene']['layers'];(_0x436a1f=this['_evtLayers'+'Changed'])==null||_0x436a1f['off'](),this['_evtLayers'+'Changed']=null,_0x51320f&&((_0x4a9acb=this['_evtLayerA'+'dded'])==null||_0x4a9acb['off'](),this['_evtLayerA'+'dded']=null,(_0x2acf5c=this['_evtLayerR'+'emoved'])==null||_0x2acf5c['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0x23d*-0x1+0x2147+-0x1f0a&&((_0x2482a5=this['system']['app']['batcher'])==null||_0x2482a5['remove'](rt['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x58b6db,_0x5d06da){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x489fc2=this['_absRight']-this['_absLeft'],_0x23324f=this['_absTop']-this['_absBottom'];_0x58b6db?this['_setWidth'](_0x489fc2):this['_setCalcul'+'atedWidth'](_0x489fc2,!(0x2349+-0x70*0x45+-0x8*0xa3)),_0x5d06da?this['_setHeight'](_0x23324f):this['_setCalcul'+'atedHeight'](_0x23324f,!(0x1*-0x8aa+-0xa8d+0x1338));const _0x34a542=this['entity']['getLocalPo'+'sition']();_0x34a542['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x34a542['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x34a542),this['_sizeDirty']=!(0x84b*-0x1+-0x14b1*0x1+0xb5*0x29);}['_setWidth'](_0x5d3183){this['_width']=_0x5d3183,this['_setCalcul'+'atedWidth'](_0x5d3183,!(-0x401*0x4+0x664*0x1+0x9a1)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x1ec008){this['_height']=_0x1ec008,this['_setCalcul'+'atedHeight'](_0x1ec008,!(-0xa08+-0x9f7*0x1+0x400*0x5)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x4e0047,_0x907cb7){if(!(Math['abs'](_0x4e0047-this['_calculate'+'dWidth'])<=-0xa*-0x25d+-0x3*-0x242+0x2*-0xf34+0.0001)){if(this['_calculate'+'dWidth']=_0x4e0047,this['entity']['_dirtifyLo'+'cal'](),_0x907cb7){const _0x324aa8=this['entity']['getLocalPo'+'sition'](),_0x1dad86=this['_pivot'];this['_margin']['x']=_0x324aa8['x']-this['_calculate'+'dWidth']*_0x1dad86['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x39af0d,_0x3f8719){if(!(Math['abs'](_0x39af0d-this['_calculate'+'dHeight'])<=0xbf2+0x1*-0x2415+-0x25*-0xa7+0.0001)){if(this['_calculate'+'dHeight']=_0x39af0d,this['entity']['_dirtifyLo'+'cal'](),_0x3f8719){const _0x264ef5=this['entity']['getLocalPo'+'sition'](),_0x215e0b=this['_pivot'];this['_margin']['y']=_0x264ef5['y']-this['_calculate'+'dHeight']*_0x215e0b['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x5ce271=this['entity']['_children'];for(let _0x182c41=-0x2*0x574+-0x170b+-0x3*-0xb51,_0x2c8a05=_0x5ce271['length'];_0x182c41<_0x2c8a05;_0x182c41++)_0x5ce271[_0x182c41]['element']&&(_0x5ce271[_0x182c41]['element']['_anchorDir'+'ty']=!(0x2120+0xf5c+-0x307c),_0x5ce271[_0x182c41]['element']['_sizeDirty']=!(0x1f*0xe+0x1704+0xc5b*-0x2));}['addModelTo'+'Layers'](_0x4fb713){this['_addedMode'+'ls']['push'](_0x4fb713);for(let _0x44c081=0x4*-0x29e+0x260b+-0x21f*0xd;_0x44c081<this['layers']['length'];_0x44c081++){const _0xd54fec=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x44c081]);_0xd54fec&&_0xd54fec['addMeshIns'+'tances'](_0x4fb713['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x2720e8){const _0x404034=this['_addedMode'+'ls']['indexOf'](_0x2720e8);_0x404034>=0xf1b*-0x2+-0x3*0x8e0+0x38d6&&this['_addedMode'+'ls']['splice'](_0x404034,-0x18a8+-0x41*0x4e+0x2c77);for(let _0x4f3966=-0x1*-0xc31+0x25c3*0x1+-0x31f4;_0x4f3966<this['layers']['length'];_0x4f3966++){const _0x5d8c4e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4f3966]);_0x5d8c4e&&_0x5d8c4e['removeMesh'+'Instances'](_0x2720e8['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x1199e3=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x1199e3&&(this['_maskOffse'+'t']=-0x1226+0x629+0x21*0x5d+0.5,this['_offsetRea'+'dAt']=_0x1199e3);const _0x4598a7=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x141b+-0x3*-0xb1e+0xd3f*-0x1+0.001,_0x4598a7;}['isVisibleF'+'orCamera'](_0x1ccdab){let _0x4ac3d9,_0x3cbb1a,_0xf0145a,_0x5113a2;if(this['maskedBy']){const _0x1b2820=this['maskedBy']['element']['screenCorn'+'ers'];_0x4ac3d9=Math['min'](Math['min'](_0x1b2820[0x1a9a+0x16e1*0x1+-0x317b]['x'],_0x1b2820[0x12b4+0x257e+0xb3d*-0x5]['x']),Math['min'](_0x1b2820[-0x1979*0x1+0x1178+-0x7*-0x125]['x'],_0x1b2820[0xf9f+0x7c5+0xab*-0x23]['x'])),_0x3cbb1a=Math['max'](Math['max'](_0x1b2820[0x1*0x466+-0xb0a*-0x1+-0xf70]['x'],_0x1b2820[-0xf86*0x2+0x72a+0x17e3]['x']),Math['max'](_0x1b2820[0xb99+0x21cd*0x1+-0x19f*0x1c]['x'],_0x1b2820[-0x1*0x26ff+0x31a*0xa+0x3*0x2aa]['x'])),_0x5113a2=Math['min'](Math['min'](_0x1b2820[0x26*-0x7f+-0x216a+0x3444]['y'],_0x1b2820[-0x1ed2+0xd46*0x2+-0x447*-0x1]['y']),Math['min'](_0x1b2820[-0x3fd*-0x7+0x251e+-0x4107]['y'],_0x1b2820[-0x4b5*0x1+-0x1bcc+0x1042*0x2]['y'])),_0xf0145a=Math['max'](Math['max'](_0x1b2820[0x23eb+-0x187a+-0x1*0xb71]['y'],_0x1b2820[0x1*0x679+-0x134c+0x4*0x335]['y']),Math['max'](_0x1b2820[0x125b+-0x7*0x32+0x1*-0x10fb]['y'],_0x1b2820[-0x1*0x197f+0x1*-0x341+0x1cc3]['y']));}else{const _0x131a10=this['system']['app']['graphicsDe'+'vice']['width'],_0x4ba08c=this['system']['app']['graphicsDe'+'vice']['height'],_0x18bae9=_0x1ccdab['_rect']['z']*_0x131a10,_0x381647=_0x1ccdab['_rect']['w']*_0x4ba08c;_0x4ac3d9=_0x1ccdab['_rect']['x']*_0x131a10,_0x3cbb1a=_0x4ac3d9+_0x18bae9,_0xf0145a=(-0x70+0x19*0x95+-0xe1c-_0x1ccdab['_rect']['y'])*_0x4ba08c,_0x5113a2=_0xf0145a-_0x381647;}const _0x127dd4=this['screenCorn'+'ers'],_0x11c6b9=Math['min'](Math['min'](_0x127dd4[0x1678+0x23ef+-0x3a67]['x'],_0x127dd4[0x551+-0x1892+0x1ed*0xa]['x']),Math['min'](_0x127dd4[0x41d*-0x4+-0x3e3+0x1459]['x'],_0x127dd4[-0x16*0x11e+-0xb*0x2cc+0x375b*0x1]['x'])),_0xa3f7e3=Math['max'](Math['max'](_0x127dd4[0xb59+-0x1*0x9a3+-0x92*0x3]['x'],_0x127dd4[0x1b1c+-0x31f+0x1*-0x17fc]['x']),Math['max'](_0x127dd4[0xd09*-0x1+0x5*-0x2dd+0x1b5c]['x'],_0x127dd4[0x1173*-0x1+0x386*-0xb+0x3838]['x'])),_0x315f73=Math['min'](Math['min'](_0x127dd4[0x123d*0x1+-0xd13*-0x1+-0x1f50]['y'],_0x127dd4[0x25d+0xded+-0xb*0x17b]['y']),Math['min'](_0x127dd4[-0x1106+0x1*-0xe45+0xa6f*0x3]['y'],_0x127dd4[0x24*0x45+0x1f0+0xd*-0xe5]['y'])),_0x5f0df6=Math['max'](Math['max'](_0x127dd4[-0x1215*0x1+-0x84+0x17*0xcf]['y'],_0x127dd4[-0x14c5+0x1e8a+-0xa*0xfa]['y']),Math['max'](_0x127dd4[0x30*-0x2b+-0x2*0x12af+0x1*0x2d70]['y'],_0x127dd4[0x1fd3+0x1*-0x679+-0x1957]['y']));return!(_0xa3f7e3<_0x4ac3d9||_0x11c6b9>_0x3cbb1a||_0x315f73>_0xf0145a||_0x5f0df6<_0x5113a2);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0x40*0x57+-0x2015+-0x11f2*-0x3);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0x2*-0x54a+0x148f+-0x1f22);}['_dirtyBatc'+'h'](){var _0x1f56e0;this['batchGroup'+'Id']!==-(0x2484+-0x1727+-0xd5c)&&((_0x1f56e0=this['system']['app']['batcher'])==null||_0x1f56e0['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Kt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Kt,'EVENT_MOUS'+'EUP','mouseup'),c(Kt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Kt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Kt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Kt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Kt,'EVENT_CLIC'+'K','click'),c(Kt,'EVENT_TOUC'+'HSTART','touchstart'),c(Kt,'EVENT_TOUC'+'HEND','touchend'),c(Kt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Kt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class NR{constructor(){this['enabled']=!(0x145d+0x1db3*0x1+-0x321*0x10);}}const zR=['enabled'];class UR extends Qe{constructor(_0x1757c0){super(_0x1757c0),this['id']='element',this['ComponentT'+'ype']=Kt,this['DataType']=NR,this['schema']=zR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new ce(_0x1757c0['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':cs,'name':'element-sy'+'stem'});const _0x374468=this['_defaultTe'+'xture']['lock'](),_0x188136=new Uint8Array(0x235a+0xa73+0xf43*-0x3);_0x188136[0xe2a+-0x1d1+-0xc59]=0x25fb+-0x1fff+-0x4fd,_0x188136[0x6d0+-0x5*0x145+-0x76]=-0x23b0+-0x13df+0x388e,_0x188136[-0x17*-0x11b+0x10d8+-0x2a43]=-0xe3c*0x1+0x1*0xd79+0x1c2,_0x188136[-0x14cf+0x223*0x5+0x1*0xa23]=0x1528+-0xbd0+-0x859,_0x374468['set'](_0x188136),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x273056,_0x4b935a,_0x4d9d5f){_0x273056['_beingInit'+'ialized']=!(0x8*-0x445+-0x196a+0xa*0x5f5),_0x4b935a['anchor']!==void(-0x1ba8+-0x47c+-0x2c*-0xbb)&&(_0x4b935a['anchor']instanceof ee?_0x273056['anchor']['copy'](_0x4b935a['anchor']):_0x273056['anchor']['set'](_0x4b935a['anchor'][-0x2f*0x8a+-0xe6+-0x2e*-0x92],_0x4b935a['anchor'][0xb77*-0x1+-0xb6e+-0xb73*-0x2],_0x4b935a['anchor'][-0x11f6+-0x1d0+0x13c8],_0x4b935a['anchor'][-0x63a+-0x202a*-0x1+0x19ed*-0x1])),_0x4b935a['pivot']!==void(0x6a2+-0x4e6*-0x3+0x54*-0x41)&&(_0x4b935a['pivot']instanceof W?_0x273056['pivot']['copy'](_0x4b935a['pivot']):_0x273056['pivot']['set'](_0x4b935a['pivot'][-0xfe*-0x26+0x1895+0xc75*-0x5],_0x4b935a['pivot'][-0x1e39+0x136f+-0x133*-0x9]));const _0x58cc46=Math['abs'](_0x273056['anchor']['x']-_0x273056['anchor']['z'])>-0x1*0x18d9+-0x185e+0x3137+0.001,_0x39131a=Math['abs'](_0x273056['anchor']['y']-_0x273056['anchor']['w'])>-0xe3*-0x1f+-0xff6+-0xb87+0.001;let _0xf9ce94=!(0x5*0x1f7+0x2025+-0x29f7),_0x526a90;_0x4b935a['margin']!==void(0x269e*-0x1+-0x174d+0x3deb)&&(_0x4b935a['margin']instanceof ee?_0x273056['margin']['copy'](_0x4b935a['margin']):_0x273056['_margin']['set'](_0x4b935a['margin'][-0x276+0x839*0x4+-0xcd*0x26],_0x4b935a['margin'][-0x1*0x10e0+0x1b04+-0x3*0x361],_0x4b935a['margin'][-0x1*-0x1df+0x605+0x1*-0x7e2],_0x4b935a['margin'][-0x1870+0xd*0x2e3+0x117*-0xc]),_0xf9ce94=!(0x34*-0x82+-0x1*0x193d+0x33a5)),_0x4b935a['left']!==void(0xb30+-0x1fc4+0x1494)&&(_0x273056['_margin']['x']=_0x4b935a['left'],_0xf9ce94=!(0x5e4+0x1883+-0x1e67)),_0x4b935a['bottom']!==void(0x608+-0x4*0x3ce+-0xc4*-0xc)&&(_0x273056['_margin']['y']=_0x4b935a['bottom'],_0xf9ce94=!(-0x32+0x2d*-0x99+0x49*0x5f)),_0x4b935a['right']!==void(-0x10ff*0x1+0x2*0x83+-0xff9*-0x1)&&(_0x273056['_margin']['z']=_0x4b935a['right'],_0xf9ce94=!(-0x1722+-0x14f3+0x131*0x25)),_0x4b935a['top']!==void(-0x1*0x118b+0x1*0x3c3+-0x15*-0xa8)&&(_0x273056['_margin']['w']=_0x4b935a['top'],_0xf9ce94=!(0x1*0x3fd+-0x1c0b*0x1+-0xc07*-0x2)),_0xf9ce94&&(_0x273056['margin']=_0x273056['_margin']);let _0x4d45f8=!(-0x2*-0x6c4+0xa14+-0x1*0x179b);_0x4b935a['width']!==void(0xcc*0x2a+0x1dcb+-0x3f43)&&!_0x58cc46?_0x273056['width']=_0x4b935a['width']:_0x58cc46&&(_0x4d45f8=!(-0x2bd*0x3+0x27*0x97+-0xeca)),_0x4b935a['height']!==void(-0x1f69+-0xc1a+0x2b83)&&!_0x39131a?_0x273056['height']=_0x4b935a['height']:_0x39131a&&(_0x4d45f8=!(-0x2*-0xa7b+0x1bad+-0x30a3*0x1)),_0x4d45f8&&(_0x273056['anchor']=_0x273056['anchor']),_0x4b935a['enabled']!==void(-0x22b3*0x1+0x32d+0x1f86)&&(_0x273056['enabled']=_0x4b935a['enabled']),_0x4b935a['useInput']!==void(0x16ad+-0x3*0x135+-0x65a*0x3)&&(_0x273056['useInput']=_0x4b935a['useInput']),_0x4b935a['fitMode']!==void(0x4*-0x982+0x24de+0x12a)&&(_0x273056['fitMode']=_0x4b935a['fitMode']),_0x273056['batchGroup'+'Id']=_0x4b935a['batchGroup'+'Id']===void(0x1ae4*-0x1+0x64d*-0x3+0x13*0x269)||_0x4b935a['batchGroup'+'Id']===null?-(-0x1d10+-0xec6+-0x2bd7*-0x1):_0x4b935a['batchGroup'+'Id'],_0x4b935a['layers']&&Array['isArray'](_0x4b935a['layers'])&&(_0x273056['layers']=_0x4b935a['layers']['slice'](-0x20e6+0xf3*-0x1d+0x3c6d)),_0x4b935a['type']!==void(-0x1*-0x11f9+0x73+0x83*-0x24)&&(_0x273056['type']=_0x4b935a['type']),_0x273056['type']===lf?(_0x4b935a['rect']!==void(-0x1601+0x1*-0x3c5+-0x19c6*-0x1)&&(_0x273056['rect']=_0x4b935a['rect']),_0x4b935a['color']!==void(0xf*0x1ce+0xeb9+-0xd*0x337)&&(_0x526a90=_0x4b935a['color'],_0x526a90 instanceof Y||(_0x526a90=new Y(_0x4b935a['color'][-0x16e6+-0x86*0x49+-0xf47*-0x4],_0x4b935a['color'][-0xc31+0xba5+0x8d],_0x4b935a['color'][-0x1f56+-0x1fa9+0x7f*0x7f])),_0x273056['color']=_0x526a90),_0x4b935a['opacity']!==void(0x20a1+0x1d*0x6e+0x11*-0x2a7)&&(_0x273056['opacity']=_0x4b935a['opacity']),_0x4b935a['textureAss'+'et']!==void(0x1*0x1193+0x1dcc+-0x2f5f)&&(_0x273056['textureAss'+'et']=_0x4b935a['textureAss'+'et']),_0x4b935a['texture']&&(_0x273056['texture']=_0x4b935a['texture']),_0x4b935a['spriteAsse'+'t']!==void(0x808*0x1+0x22a6+0x71d*-0x6)&&(_0x273056['spriteAsse'+'t']=_0x4b935a['spriteAsse'+'t']),_0x4b935a['sprite']&&(_0x273056['sprite']=_0x4b935a['sprite']),_0x4b935a['spriteFram'+'e']!==void(-0x13d*0x18+-0x1c92+0x3a4a)&&(_0x273056['spriteFram'+'e']=_0x4b935a['spriteFram'+'e']),_0x4b935a['pixelsPerU'+'nit']!==void(0x1*-0x1ba5+0x5ff*0x1+0xa3*0x22)&&_0x4b935a['pixelsPerU'+'nit']!==null&&(_0x273056['pixelsPerU'+'nit']=_0x4b935a['pixelsPerU'+'nit']),_0x4b935a['materialAs'+'set']!==void(0x1d0b+-0xf7c+0xd*-0x10b)&&(_0x273056['materialAs'+'set']=_0x4b935a['materialAs'+'set']),_0x4b935a['material']&&(_0x273056['material']=_0x4b935a['material']),_0x4b935a['mask']!==void(-0x1834+0x1*-0xbff+0x2433*0x1)&&(_0x273056['mask']=_0x4b935a['mask'])):_0x273056['type']===tx&&(_0x4b935a['autoWidth']!==void(0x4cc+-0x25*-0xfb+0xf*-0x2bd)&&(_0x273056['autoWidth']=_0x4b935a['autoWidth']),_0x4b935a['autoHeight']!==void(0x2*0x945+0x1*0x1d0b+-0x2f95)&&(_0x273056['autoHeight']=_0x4b935a['autoHeight']),_0x4b935a['rtlReorder']!==void(0x1257+0x187d*-0x1+0x626)&&(_0x273056['rtlReorder']=_0x4b935a['rtlReorder']),_0x4b935a['unicodeCon'+'verter']!==void(0x1*0xf+-0x878+0x1*0x869)&&(_0x273056['unicodeCon'+'verter']=_0x4b935a['unicodeCon'+'verter']),_0x4b935a['text']!==null&&_0x4b935a['text']!==void(-0xb*-0x386+-0xaf*0x4+-0x6a*0x57)?_0x273056['text']=_0x4b935a['text']:_0x4b935a['key']!==null&&_0x4b935a['key']!==void(-0xc9*-0x23+0x1006+-0x2b81)&&(_0x273056['key']=_0x4b935a['key']),_0x4b935a['color']!==void(-0x115f+-0xabd+-0x7*-0x404)&&(_0x526a90=_0x4b935a['color'],_0x526a90 instanceof Y||(_0x526a90=new Y(_0x526a90[-0x11f2*-0x1+-0x5b8+-0xc3a],_0x526a90[-0x1ccd+-0x17b9*-0x1+-0x1*-0x515],_0x526a90[-0x2*0xe2d+0x25cf*0x1+-0x973])),_0x273056['color']=_0x526a90),_0x4b935a['opacity']!==void(-0xd3f+0x24da+0x179b*-0x1)&&(_0x273056['opacity']=_0x4b935a['opacity']),_0x4b935a['spacing']!==void(-0x2602+-0x16e4+0x3ce6)&&(_0x273056['spacing']=_0x4b935a['spacing']),_0x4b935a['fontSize']!==void(-0x1fd7+-0x21c3+0x419a)&&(_0x273056['fontSize']=_0x4b935a['fontSize'],_0x4b935a['lineHeight']||(_0x273056['lineHeight']=_0x4b935a['fontSize'])),_0x4b935a['lineHeight']!==void(0xc99+0xc11*0x3+-0x30cc)&&(_0x273056['lineHeight']=_0x4b935a['lineHeight']),_0x4b935a['maxLines']!==void(0x19b*-0x7+0x447+0x42*0x1b)&&(_0x273056['maxLines']=_0x4b935a['maxLines']),_0x4b935a['wrapLines']!==void(-0xd47+-0x9f7*-0x1+0x350)&&(_0x273056['wrapLines']=_0x4b935a['wrapLines']),_0x4b935a['minFontSiz'+'e']!==void(0x1*0x7a9+-0xc*0xc7+0x1ab)&&(_0x273056['minFontSiz'+'e']=_0x4b935a['minFontSiz'+'e']),_0x4b935a['maxFontSiz'+'e']!==void(0x2208+-0x960+0x41c*-0x6)&&(_0x273056['maxFontSiz'+'e']=_0x4b935a['maxFontSiz'+'e']),_0x4b935a['autoFitWid'+'th']&&(_0x273056['autoFitWid'+'th']=_0x4b935a['autoFitWid'+'th']),_0x4b935a['autoFitHei'+'ght']&&(_0x273056['autoFitHei'+'ght']=_0x4b935a['autoFitHei'+'ght']),_0x4b935a['fontAsset']!==void(-0x112*-0x1a+0x75*-0x15+-0x123b*0x1)&&(_0x273056['fontAsset']=_0x4b935a['fontAsset']),_0x4b935a['font']!==void(0x127e*0x1+-0x49*0x7d+0x1*0x1127)&&(_0x273056['font']=_0x4b935a['font']),_0x4b935a['alignment']!==void(-0x226b+-0x1e4c+-0x40b7*-0x1)&&(_0x273056['alignment']=_0x4b935a['alignment']),_0x4b935a['outlineCol'+'or']!==void(0x15c2+-0x322+-0x12a0)&&(_0x273056['outlineCol'+'or']=_0x4b935a['outlineCol'+'or']),_0x4b935a['outlineThi'+'ckness']!==void(-0x1364+0x1430+0xcc*-0x1)&&(_0x273056['outlineThi'+'ckness']=_0x4b935a['outlineThi'+'ckness']),_0x4b935a['shadowColo'+'r']!==void(0x152*0x4+-0x1f81+0x1a39)&&(_0x273056['shadowColo'+'r']=_0x4b935a['shadowColo'+'r']),_0x4b935a['shadowOffs'+'et']!==void(0x5ee*0x2+-0x9be+-0x1*0x21e)&&(_0x273056['shadowOffs'+'et']=_0x4b935a['shadowOffs'+'et']),_0x4b935a['enableMark'+'up']!==void(-0xf5f+0x90c+-0x653*-0x1)&&(_0x273056['enableMark'+'up']=_0x4b935a['enableMark'+'up']));const _0x1ed25d=_0x273056['_parseUpTo'+'Screen']();_0x1ed25d['screen']&&_0x273056['_updateScr'+'een'](_0x1ed25d['screen']),super['initialize'+'ComponentD'+'ata'](_0x273056,_0x4b935a,_0x4d9d5f),_0x273056['_beingInit'+'ialized']=!(-0x3ff*-0x1+0x81a*0x4+-0x2466),_0x273056['type']===lf&&_0x273056['_image']['_meshDirty']&&_0x273056['_image']['_updateMes'+'h'](_0x273056['_image']['mesh']);}['onAddCompo'+'nent'](_0x30bb92,_0x1d4298){_0x30bb92['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x32dc67,_0x3839aa){_0x3839aa['onRemove']();}['cloneCompo'+'nent'](_0x30c660,_0x6e7ac8){const _0x37595d=_0x30c660['element'],_0x4e479b={'enabled':_0x37595d['enabled'],'width':_0x37595d['width'],'height':_0x37595d['height'],'anchor':_0x37595d['anchor']['clone'](),'pivot':_0x37595d['pivot']['clone'](),'margin':_0x37595d['margin']['clone'](),'alignment':_0x37595d['alignment']&&_0x37595d['alignment']['clone']()||_0x37595d['alignment'],'autoWidth':_0x37595d['autoWidth'],'autoHeight':_0x37595d['autoHeight'],'type':_0x37595d['type'],'rect':_0x37595d['rect']&&_0x37595d['rect']['clone']()||_0x37595d['rect'],'rtlReorder':_0x37595d['rtlReorder'],'unicodeConverter':_0x37595d['unicodeCon'+'verter'],'materialAsset':_0x37595d['materialAs'+'set'],'material':_0x37595d['material'],'color':_0x37595d['color']&&_0x37595d['color']['clone']()||_0x37595d['color'],'opacity':_0x37595d['opacity'],'textureAsset':_0x37595d['textureAss'+'et'],'texture':_0x37595d['texture'],'spriteAsset':_0x37595d['spriteAsse'+'t'],'sprite':_0x37595d['sprite'],'spriteFrame':_0x37595d['spriteFram'+'e'],'pixelsPerUnit':_0x37595d['pixelsPerU'+'nit'],'spacing':_0x37595d['spacing'],'lineHeight':_0x37595d['lineHeight'],'wrapLines':_0x37595d['wrapLines'],'layers':_0x37595d['layers'],'fontSize':_0x37595d['fontSize'],'minFontSize':_0x37595d['minFontSiz'+'e'],'maxFontSize':_0x37595d['maxFontSiz'+'e'],'autoFitWidth':_0x37595d['autoFitWid'+'th'],'autoFitHeight':_0x37595d['autoFitHei'+'ght'],'maxLines':_0x37595d['maxLines'],'fontAsset':_0x37595d['fontAsset'],'font':_0x37595d['font'],'useInput':_0x37595d['useInput'],'fitMode':_0x37595d['fitMode'],'batchGroupId':_0x37595d['batchGroup'+'Id'],'mask':_0x37595d['mask'],'outlineColor':_0x37595d['outlineCol'+'or']&&_0x37595d['outlineCol'+'or']['clone']()||_0x37595d['outlineCol'+'or'],'outlineThickness':_0x37595d['outlineThi'+'ckness'],'shadowColor':_0x37595d['shadowColo'+'r']&&_0x37595d['shadowColo'+'r']['clone']()||_0x37595d['shadowColo'+'r'],'shadowOffset':_0x37595d['shadowOffs'+'et']&&_0x37595d['shadowOffs'+'et']['clone']()||_0x37595d['shadowOffs'+'et'],'enableMarkup':_0x37595d['enableMark'+'up']};return _0x37595d['key']!==void(0x23df+-0x1ebb*0x1+-0x5e*0xe)&&_0x37595d['key']!==null?_0x4e479b['key']=_0x37595d['key']:_0x4e479b['text']=_0x37595d['text'],this['addCompone'+'nt'](_0x6e7ac8,_0x4e479b);}['getTextEle'+'mentMateri'+'al'](_0x54928e,_0xc79e0a,_0x4d3146){const _0x57ec2c=(_0x54928e&&0x14d1+0xd0d+-0x21dd)|(_0xc79e0a&&-0x377+-0x13ee*-0x1+-0xb*0x17f)|(_0x4d3146&&-0x1d*0x147+-0x1*0x2179+0x94*0x7a);let _0x35dcb4=this['_defaultTe'+'xtMaterial'+'s'][_0x57ec2c];if(_0x35dcb4)return _0x35dcb4;let _0xa63427='TextMateri'+'al';return _0x35dcb4=new _s(),_0xc79e0a?(_0x35dcb4['msdfMap']=this['_defaultTe'+'xture'],_0x35dcb4['msdfTextAt'+'tribute']=_0x4d3146,_0x35dcb4['emissive']['set'](-0x62*0x26+-0x1bf+0x104c,-0x1536+-0x1b9c+-0x1d*-0x1af,-0x24e2+0x2b*-0x37+0x2e20)):(_0xa63427='Bitmap'+_0xa63427,_0x35dcb4['emissive']['set'](-0x1f0f+-0xdd7+-0xd1*-0x37,0x3*0x6da+0x2115+-0x35a2,0x7d6+0x1987+-0x8c*0x3d),_0x35dcb4['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x35dcb4['opacityMap']=this['_defaultTe'+'xture'],_0x35dcb4['opacityMap'+'Channel']='a'),_0x54928e&&(_0xa63427='ScreenSpac'+'e'+_0xa63427,_0x35dcb4['depthTest']=!(-0x25cb+0x2703*0x1+0x1*-0x137)),_0x35dcb4['name']='default'+_0xa63427,_0x35dcb4['useLightin'+'g']=!(0x1aca+0x1def+-0x38b8),_0x35dcb4['useTonemap']=!(0x1dd3*-0x1+0x1780+-0x1*-0x654),_0x35dcb4['useFog']=!(-0x122a+-0x1722+0x294d*0x1),_0x35dcb4['useSkybox']=!(0x8bd*0x3+0x1b96+0x139*-0x2c),_0x35dcb4['diffuse']['set'](-0xbc9*-0x1+-0x40*0x6d+-0xf77*-0x1,0x43*-0x1f+-0xe3*-0x11+-0x6f6,0x11da+-0x1977*-0x1+-0x2b51),_0x35dcb4['opacity']=0x302*-0x1+-0x5*0xd5+-0x5*-0x16f+0.5,_0x35dcb4['blendType']=dn,_0x35dcb4['depthWrite']=!(-0xa3*0x1f+-0x2a*-0xe5+-0x11d4),_0x35dcb4['emissiveVe'+'rtexColor']=!(0x80b+0xbd3*0x2+0x7*-0x487),_0x35dcb4['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x57ec2c]=_0x35dcb4,_0x35dcb4;}['_createBas'+'eImageMate'+'rial'](){const _0x38efb7=new _s();return _0x38efb7['diffuse']['set'](0x100*0xe+0xe8c+-0x1c8c,0xb*0x239+0x25*-0xd3+0x60c,0x2277+-0x187a+-0x9fd*0x1),_0x38efb7['emissive']['set'](0x352+0x244c+-0x1*0x279d,-0xcd+-0x3*-0xc9b+-0x19*0x17b,0x9f7+-0x2*-0xea1+-0x2738),_0x38efb7['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x38efb7['opacityMap']=this['_defaultTe'+'xture'],_0x38efb7['opacityMap'+'Channel']='a',_0x38efb7['useLightin'+'g']=!(-0x7d*0xb+-0x101*0x21+0x2681),_0x38efb7['useTonemap']=!(0x137d*0x1+-0x21c7*0x1+-0x1*-0xe4b),_0x38efb7['useFog']=!(0x89e*0x1+-0x1f22+0x1685),_0x38efb7['useSkybox']=!(0x1*-0x11a7+-0x31f*0x9+0x2dbf),_0x38efb7['blendType']=dn,_0x38efb7['depthWrite']=!(0x1669+0x1afa+0x93*-0x56),_0x38efb7;}['getImageEl'+'ementMater'+'ial'](_0x39c7bd,_0x106cc1,_0x36643a,_0xd06dc6){return _0x39c7bd?_0x106cc1?_0x36643a?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=ht,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x83e*0x1+-0x26*0x38+0x1b*0x9d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x5a*-0x5d+-0x1f39*0x1+-0x2*-0x1ff6,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x45b+0x17c6+-0x136a),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(-0x26f4+0x4*-0x24a+0x301d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0x959*-0x1+0x959*-0x1+0x12b3),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x188b+-0x1128+-0x762),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0xd06dc6?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=st,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0x1*0x7bd+-0x1*0x12b1+0x1a6f),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x599*-0x1+-0x1*0x2e1+-0x2b7,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(-0x17d9+-0x1*-0x23ed+0xb*-0x119),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0x235*0x5+0x1334+0x5f*-0x16),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0xb06*0x2+0x655*0x5+-0x99c),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x5de+-0x11bb+0xbde),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(0x1*-0x2309+-0x5e7+0x28f1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0x177a+0x6*0x76+-0x14b7*-0x1,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0x513*0x6+0x6d*0x21+-0x2c7e),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(-0x568*0x3+0x3*0x567+-0x2*-0x2),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(-0x90e*-0x4+-0xae8*-0x1+-0x2f1f),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(-0x9a*0x15+-0x2d0+0xf73*0x1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x36643a?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=ht,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x205c+-0xdda+0x2e37*0x1),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0xd06dc6?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=st,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0x1*-0x1ec5+0x148d+0x111b*-0x3),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x22*0xb6+-0x1*-0x1826+0x7*0x1),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x106cc1?_0x36643a?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=ht,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0x2*-0x12c+0x2294*0x1+0xd*-0x2d7,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0x26*-0x11+-0x24*-0x86+-0x155d),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x7be+-0x851+0x1010),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0x3e3+-0x5cb*0x1+0x9af),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x14bb+0x704+0xdb8),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0xd06dc6?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=st,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0x8*-0x23b+-0x6f*0x14+-0x92b*0x1,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0x1*0x2395+-0x9f*0x4+-0x2118),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0xa7e*0x1+0x37a*0x8+-0x155*0xd),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x17ac+0x1*-0x1d24+0x34d1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x6*0x43b+-0x508+0x1e6b),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0xb3a+-0x58f*-0x5+-0x2704,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x2281+-0x157e+-0xd02),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x533*-0x1+0x3d*0x4+-0x20*-0x22),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0xf1a+-0xdb7+0x6*-0x3b),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x1d49+-0x684+-0x16c4),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x36643a?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=ht,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0xd06dc6?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=st,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x167bf7){this['_unicodeCo'+'nverter']=_0x167bf7;}['registerRt'+'lReorder'](_0x2d53aa){this['_rtlReorde'+'r']=_0x2d53aa;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Gn='free',Hn='limited',Wn='locked',VR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Wp extends pe{constructor(_0x25a692,_0x544bbb){super(_0x25a692,_0x544bbb),b['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(0x1870+-0x23c0*-0x1+0x48*-0xd6),this['_linearMot'+'ionX']=Wn,this['_linearLim'+'itsX']=new W(-0x1*-0x20b9+-0x385*-0xb+0x4770*-0x1,0x2*-0x59f+0x9df*0x1+0x15f),this['_linearSpr'+'ingX']=!(-0x39b*-0x3+-0x1*-0x1bd9+0xce3*-0x3),this['_linearSti'+'ffnessX']=0x1b23+0xd3f*0x2+0x1*-0x35a1,this['_linearDam'+'pingX']=-0x25f9+-0x530+0x55*0x82,this['_linearEqu'+'ilibriumX']=-0x5*-0x1a6+0xa*-0x1f9+-0x2df*-0x4,this['_linearMot'+'ionY']=Wn,this['_linearLim'+'itsY']=new W(0xeed+-0x1*-0x215f+-0x304c,-0x1f08+0x8*0x39a+0x238),this['_linearSpr'+'ingY']=!(-0x131b+-0x1fc0*-0x1+-0xca4),this['_linearSti'+'ffnessY']=-0x1*-0x753+0x16ef+-0x2*0xf21,this['_linearDam'+'pingY']=-0x5*0x1e1+0x1225+-0x8bf*0x1,this['_linearEqu'+'ilibriumY']=-0x1*0x62c+0x1*0x15fa+-0xfce,this['_linearMot'+'ionZ']=Wn,this['_linearLim'+'itsZ']=new W(0x1*-0x165d+0xa7e+-0x3*-0x3f5,-0x126d+-0xdd1+0x1*0x203e),this['_linearSpr'+'ingZ']=!(0xf*0xff+-0x1891+-0x9a1*-0x1),this['_linearSti'+'ffnessZ']=0x25*-0x8b+0x1ff2+-0xbdb,this['_linearDam'+'pingZ']=-0xc41*-0x2+0x1*0x509+-0x18e*0x13,this['_linearEqu'+'ilibriumZ']=-0x2e+-0x4bd*0x3+-0x5*-0x2e1,this['_angularMo'+'tionX']=Wn,this['_angularLi'+'mitsX']=new W(0x190a+-0x21*0x91+-0x659,-0x1423*0x1+0x1*0xc8f+0x794),this['_angularSp'+'ringX']=!(-0x1*-0x2f6+0x5*-0x368+-0x4b1*-0x3),this['_angularSt'+'iffnessX']=-0x2469+0x1f*-0x2f+0x2a1a*0x1,this['_angularDa'+'mpingX']=0x1*0x269f+-0x7d*-0xb+-0x2bfd,this['_angularEq'+'uilibriumX']=-0x2fe*0xd+0x266f+0x77,this['_angularMo'+'tionY']=Wn,this['_angularLi'+'mitsY']=new W(0x34c*0x2+0x7ca+0x107*-0xe,-0x948+-0x22d4+0x2c1c),this['_angularSp'+'ringY']=!(-0x1*-0x1197+0x3*0x14b+-0x1577),this['_angularSt'+'iffnessY']=0x1232+0x49+-0x127b,this['_angularDa'+'mpingY']=0x3*-0xa8a+0x7b8+0x17e7*0x1,this['_angularEq'+'uilibriumY']=-0x1fc3+0xb88*-0x2+0x36d3,this['_angularMo'+'tionZ']=Wn,this['_angularLi'+'mitsZ']=new W(0x2a5+0x245*-0x7+0xd3e,-0x149c+-0x782+0x1c1e),this['_angularSp'+'ringZ']=!(-0x55d*0x5+0xc03+0xecf),this['_angularEq'+'uilibriumZ']=0x25a7+-0x2*-0x99d+-0x38e1,this['_angularDa'+'mpingZ']=0x3*0x403+0x4*-0x13+-0xbbc*0x1,this['_angularSt'+'iffnessZ']=0x21e6+0x1894+-0x3a7a,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x466fde){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x466fde,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x555942){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x555942,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x5e0a70){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x5e0a70&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x5e0a70),this['_breakForc'+'e']=_0x5e0a70);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x27fb49){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x27fb49,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0xbf8c3e){this['_angularLi'+'mitsX']['equals'](_0xbf8c3e)||(this['_angularLi'+'mitsX']['copy'](_0xbf8c3e),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x3ff918){this['_angularMo'+'tionX']!==_0x3ff918&&(this['_angularMo'+'tionX']=_0x3ff918,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x2c0ded){this['_angularLi'+'mitsY']['equals'](_0x2c0ded)||(this['_angularLi'+'mitsY']['copy'](_0x2c0ded),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x10f0a6){this['_angularMo'+'tionY']!==_0x10f0a6&&(this['_angularMo'+'tionY']=_0x10f0a6,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x230c79){this['_angularLi'+'mitsZ']['equals'](_0x230c79)||(this['_angularLi'+'mitsZ']['copy'](_0x230c79),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x91bb98){this['_angularMo'+'tionZ']!==_0x91bb98&&(this['_angularMo'+'tionZ']=_0x91bb98,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x2479b5){this['_linearLim'+'itsX']['equals'](_0x2479b5)||(this['_linearLim'+'itsX']['copy'](_0x2479b5),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x4cb995){this['_linearMot'+'ionX']!==_0x4cb995&&(this['_linearMot'+'ionX']=_0x4cb995,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x55bb70){this['_linearLim'+'itsY']['equals'](_0x55bb70)||(this['_linearLim'+'itsY']['copy'](_0x55bb70),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x3a3480){this['_linearMot'+'ionY']!==_0x3a3480&&(this['_linearMot'+'ionY']=_0x3a3480,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x852d28){this['_linearLim'+'itsZ']['equals'](_0x852d28)||(this['_linearLim'+'itsZ']['copy'](_0x852d28),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x56e569){this['_linearMot'+'ionZ']!==_0x56e569&&(this['_linearMot'+'ionZ']=_0x56e569,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x22c7c1,_0xf3b2f1){const _0x3d5dc5=_0x22c7c1['getTransla'+'tion'](),_0x50edd5=new ie();_0x50edd5['setFromMat'+'4'](_0x22c7c1);const _0x57f075=new Ammo['btVector3'](_0x3d5dc5['x'],_0x3d5dc5['y'],_0x3d5dc5['z']),_0x58deb1=new Ammo['btQuaterni'+'on'](_0x50edd5['x'],_0x50edd5['y'],_0x50edd5['z'],_0x50edd5['w']);_0xf3b2f1['setOrigin'](_0x57f075),_0xf3b2f1['setRotatio'+'n'](_0x58deb1),Ammo['destroy'](_0x57f075),Ammo['destroy'](_0x58deb1);}['_updateAng'+'ularLimits'](){const _0x166429=this['_constrain'+'t'];if(_0x166429){let _0x46e2dd,_0x5ce656,_0x4d47a6,_0x6fa6b3,_0x5a3524,_0xb5d10b;this['_angularMo'+'tionX']===Hn?(_0x46e2dd=this['_angularLi'+'mitsX']['x']*z['DEG_TO_RAD'],_0x6fa6b3=this['_angularLi'+'mitsX']['y']*z['DEG_TO_RAD']):this['_angularMo'+'tionX']===Gn?(_0x46e2dd=-0x61*-0x51+-0x1*-0xce3+-0x73*0x61,_0x6fa6b3=0xa34+0x116*-0x16+0xdb0):_0x46e2dd=_0x6fa6b3=-0x208e+0xe3e*0x2+0x412,this['_angularMo'+'tionY']===Hn?(_0x5ce656=this['_angularLi'+'mitsY']['x']*z['DEG_TO_RAD'],_0x5a3524=this['_angularLi'+'mitsY']['y']*z['DEG_TO_RAD']):this['_angularMo'+'tionY']===Gn?(_0x5ce656=0x85b+0x347*0x4+-0x1576,_0x5a3524=-0x232a*-0x1+0xa*0x3a4+0x23c9*-0x2):_0x5ce656=_0x5a3524=-0x31f*-0x5+-0x39a+0x7*-0x1b7,this['_angularMo'+'tionZ']===Hn?(_0x4d47a6=this['_angularLi'+'mitsZ']['x']*z['DEG_TO_RAD'],_0xb5d10b=this['_angularLi'+'mitsZ']['y']*z['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Gn?(_0x4d47a6=0x1890+0x24d3+0x3*-0x1476,_0xb5d10b=0x1e63*-0x1+0xa*0x5+0x1e31):_0x4d47a6=_0xb5d10b=-0xd*-0x59+0x194d+0x15b*-0x16;const _0x5b125b=new Ammo['btVector3'](_0x46e2dd,_0x5ce656,_0x4d47a6);_0x166429['setAngular'+'LowerLimit'](_0x5b125b),_0x5b125b['setValue'](_0x6fa6b3,_0x5a3524,_0xb5d10b),_0x166429['setAngular'+'UpperLimit'](_0x5b125b),Ammo['destroy'](_0x5b125b);}}['_updateLin'+'earLimits'](){const _0x1f5983=this['_constrain'+'t'];if(_0x1f5983){let _0x1304d2,_0x4836ee,_0x3027d0,_0x193b1d,_0x45722f,_0x5cd2f7;this['_linearMot'+'ionX']===Hn?(_0x1304d2=this['_linearLim'+'itsX']['x'],_0x193b1d=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Gn?(_0x1304d2=-0x345+-0x1*0x1d68+-0xb2*-0x2f,_0x193b1d=-0xe41+0x1845+0x2*-0x502):_0x1304d2=_0x193b1d=-0x1*-0xe22+-0x2418+-0x2*-0xafb,this['_linearMot'+'ionY']===Hn?(_0x4836ee=this['_linearLim'+'itsY']['x'],_0x45722f=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Gn?(_0x4836ee=0x21df+-0x9ca+-0xc0a*0x2,_0x45722f=-0xde5+-0x16b5+-0x1*-0x249a):_0x4836ee=_0x45722f=0x29*0x71+-0x1*-0x398+0x15b1*-0x1,this['_linearMot'+'ionZ']===Hn?(_0x3027d0=this['_linearLim'+'itsZ']['x'],_0x5cd2f7=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Gn?(_0x3027d0=-0x3d7*-0x3+-0x4*-0x7e2+-0x244*0x13,_0x5cd2f7=0x1*-0x1eca+-0x5cf*-0x1+0x18fb):_0x3027d0=_0x5cd2f7=-0xf89+-0x20*0xfe+-0x327*-0xf;const _0x17d089=new Ammo['btVector3'](_0x1304d2,_0x4836ee,_0x3027d0);_0x1f5983['setLinearL'+'owerLimit'](_0x17d089),_0x17d089['setValue'](_0x193b1d,_0x45722f,_0x5cd2f7),_0x1f5983['setLinearU'+'pperLimit'](_0x17d089),Ammo['destroy'](_0x17d089);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x2ffddf=new q(),_0x5e80e4=this['_entityA']['rigidbody']['body'];_0x5e80e4['activate']();const _0x5e9a21=this['entity']['getWorldTr'+'ansform'](),_0x201622=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x2ffddf['mul2'](_0x201622,_0x5e9a21);const _0x575e55=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x2ffddf,_0x575e55),this['_entityB']&&this['_entityB']['rigidbody']){const _0x3bca9c=this['_entityB']['rigidbody']['body'];_0x3bca9c['activate']();const _0x4c5c0e=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x2ffddf['mul2'](_0x4c5c0e,_0x5e9a21);const _0x3adcb9=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x2ffddf,_0x3adcb9),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x5e80e4,_0x3bca9c,_0x575e55,_0x3adcb9,!this['_enableCol'+'lision']),Ammo['destroy'](_0x3adcb9);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x5e80e4,_0x575e55,!this['_enableCol'+'lision']);Ammo['destroy'](_0x575e55);const _0x418f61=['X','Y','Z','X','Y','Z'];for(let _0x450056=0x2a4*0x7+-0x328*-0x1+-0x4*0x569;_0x450056<0x1d81+-0xa25+-0x1356;_0x450056++){const _0x5243ab=_0x450056<0x3*-0x29+-0x1494+0xa89*0x2?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x450056,this[_0x5243ab+'Spring'+_0x418f61[_0x450056]]),this['_constrain'+'t']['setDamping'](_0x450056,this[_0x5243ab+'Damping'+_0x418f61[_0x450056]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x450056,this[_0x5243ab+('Equilibriu'+'m')+_0x418f61[_0x450056]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x450056,this[_0x5243ab+'Stiffness'+_0x418f61[_0x450056]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x40a62d){for(const _0x44412a of VR)_0x40a62d['hasOwnProp'+'erty'](_0x44412a)&&(_0x40a62d[_0x44412a]instanceof W?this['_'+_0x44412a]['copy'](_0x40a62d[_0x44412a]):this['_'+_0x44412a]=_0x40a62d[_0x44412a]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x4d5e0d,_0xbcc91c,_0x5bd963){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const GR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x18384d=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x4be162=>{['X','Y','Z']['forEach'](_0x5725c8=>{const _0x1c7aa7=_0x18384d+_0x4be162+_0x5725c8,_0x4358c8='_'+_0x1c7aa7;let _0x1492d3=_0x18384d==='linear'?0x16b3+0x17a9+0x2e*-0x102:0x1*-0x1105+0x2470+-0x1368;_0x5725c8==='Y'&&(_0x1492d3+=-0x3d0+0x2356*0x1+0x1f85*-0x1),_0x5725c8==='Z'&&(_0x1492d3+=-0x256+0x2589+-0x3e9*0x9),Object['defineProp'+'erty'](Wp['prototype'],_0x1c7aa7,{'get':function(){return this[_0x4358c8];},'set':function(_0x472c18){this[_0x4358c8]!==_0x472c18&&(this[_0x4358c8]=_0x472c18,this['_constrain'+'t'][GR[_0x4be162]](_0x1492d3,_0x472c18));}});});});});class HR{constructor(){this['enabled']=!(-0x7ae+-0x3*0xbb9+0x2ad9);}}const _f=['enabled'];class WR extends Qe{constructor(_0x10c6d9){super(_0x10c6d9),this['id']='joint',this['app']=_0x10c6d9,this['ComponentT'+'ype']=Wp,this['DataType']=HR,this['schema']=_f;}['initialize'+'ComponentD'+'ata'](_0x26a345,_0x5b3972,_0x3b7fc7){_0x26a345['initFromDa'+'ta'](_0x5b3972),super['initialize'+'ComponentD'+'ata'](_0x26a345,_0x5b3972,_f);}}pe['_buildAcce'+'ssors'](Wp['prototype'],_f);class ax extends pe{constructor(){super(...arguments),c(this,'_minWidth',-0x1*0x209f+0x1*-0x21d1+-0x4270*-0x1),c(this,'_minHeight',-0x501*0x1+-0x1*0x829+0x1*0xd2a),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',-0x1*-0x5c9+-0x15b7+0xfee),c(this,'_fitHeight'+'Proportion',0x11e8+-0x1263+-0x3*-0x29),c(this,'_excludeFr'+'omLayout',!(0xa5d*-0x3+0x23a2+-0xe*0x53));}set['minWidth'](_0x1399f9){_0x1399f9!==this['_minWidth']&&(this['_minWidth']=_0x1399f9,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x2453d0){_0x2453d0!==this['_minHeight']&&(this['_minHeight']=_0x2453d0,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x3d5b43){_0x3d5b43!==this['_maxWidth']&&(this['_maxWidth']=_0x3d5b43,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x56d54d){_0x56d54d!==this['_maxHeight']&&(this['_maxHeight']=_0x56d54d,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x107e41){_0x107e41!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x107e41,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x8f54c8){_0x8f54c8!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x8f54c8,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x141aa2){_0x141aa2!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x141aa2,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class $R{constructor(){this['enabled']=!(0xbb7*-0x3+-0xb*0x166+0x3287);}}const ox=['enabled'];class qR extends Qe{constructor(_0x10dead){super(_0x10dead),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=ax,this['DataType']=$R,this['schema']=ox;}['initialize'+'ComponentD'+'ata'](_0x1e1d79,_0x21a7ec,_0x279c5f){_0x21a7ec['enabled']!==void(0x2*0x7ef+0x13d0+-0x23ae)&&(_0x1e1d79['enabled']=_0x21a7ec['enabled']),_0x21a7ec['minWidth']!==void(0x23*0xb5+0x1*-0x91d+0x57*-0x2e)&&(_0x1e1d79['minWidth']=_0x21a7ec['minWidth']),_0x21a7ec['minHeight']!==void(0x234a+-0x1*0x17a9+-0xba1)&&(_0x1e1d79['minHeight']=_0x21a7ec['minHeight']),_0x21a7ec['maxWidth']!==void(0x2f*0x8b+0xd02+-0x2687*0x1)&&(_0x1e1d79['maxWidth']=_0x21a7ec['maxWidth']),_0x21a7ec['maxHeight']!==void(-0x1e0a+0xc79+0x1191)&&(_0x1e1d79['maxHeight']=_0x21a7ec['maxHeight']),_0x21a7ec['fitWidthPr'+'oportion']!==void(-0x89d+-0x2522+0x2dbf)&&(_0x1e1d79['fitWidthPr'+'oportion']=_0x21a7ec['fitWidthPr'+'oportion']),_0x21a7ec['fitHeightP'+'roportion']!==void(-0x1*-0x17ce+-0x1287+-0x547)&&(_0x1e1d79['fitHeightP'+'roportion']=_0x21a7ec['fitHeightP'+'roportion']),_0x21a7ec['excludeFro'+'mLayout']!==void(-0x22d*-0x3+0x35a+-0x34b*0x3)&&(_0x1e1d79['excludeFro'+'mLayout']=_0x21a7ec['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x1e1d79,_0x21a7ec,_0x279c5f);}['cloneCompo'+'nent'](_0xaaa402,_0x3e937d){const _0x3ec7e4=_0xaaa402['layoutchil'+'d'];return this['addCompone'+'nt'](_0x3e937d,{'enabled':_0x3ec7e4['enabled'],'minWidth':_0x3ec7e4['minWidth'],'minHeight':_0x3ec7e4['minHeight'],'maxWidth':_0x3ec7e4['maxWidth'],'maxHeight':_0x3ec7e4['maxHeight'],'fitWidthProportion':_0x3ec7e4['fitWidthPr'+'oportion'],'fitHeightProportion':_0x3ec7e4['fitHeightP'+'roportion'],'excludeFromLayout':_0x3ec7e4['excludeFro'+'mLayout']});}}pe['_buildAcce'+'ssors'](ax['prototype'],ox);const gf=-0x1*0x2231+-0x1bef*-0x1+0x59*0x12,XR=0x1678*0x1+0x96*0x1e+-0x280b,yg=-0x839+-0x2c*0x29+0xf47*0x1,jR=-0x11*-0x12d+0x1*0x18a+-0x1584,sc={};sc[ye]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},sc[Ve]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const $p={};$p[ye]=Ve,$p[Ve]=ye;const YR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},Xt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},jt=new W();function lx(_0x2e385a){let _0x17fb25;const _0x1ddc26=sc[_0x2e385a],_0x5da766=sc[$p[_0x2e385a]];function _0x2ab9cf(_0x2c66d5,_0x23ff7b){return-_0x23ff7b[_0x1ddc26['size']]*_0x2c66d5['pivot'][_0x1ddc26['axis']];}function _0x312bfb(_0x432a95,_0x59744b){return-_0x59744b[_0x5da766['size']]*_0x432a95['pivot'][_0x5da766['axis']];}function _0x286ea2(_0x5e4802,_0x1f24d1){return _0x1f24d1[_0x1ddc26['size']]*(0xe4a+-0x1*-0x1b74+-0x5*0x859-_0x5e4802['pivot'][_0x1ddc26['axis']]);}function _0x172c30(_0x27d589,_0x513f8){_0x27d589=_0x27d589['filter'](_0x6dbe72),_0x17fb25=_0x513f8,jt['x']=_0x17fb25['containerS'+'ize']['x']-_0x17fb25['padding']['x']-_0x17fb25['padding']['z'],jt['y']=_0x17fb25['containerS'+'ize']['y']-_0x17fb25['padding']['y']-_0x17fb25['padding']['w'],_0x176b61(_0x27d589);const _0x2685e4=_0x2fd9b7(_0x10f2b7(_0x27d589)),_0x274d5a=_0x29e38c(_0x2685e4,_0x39e0a3(_0x2685e4)),_0x12fcb8=_0x5a48c3(_0x2685e4,_0x274d5a);return _0x495351(_0x2685e4,_0x274d5a,_0x12fcb8),_0x53f97c(_0x2685e4,_0x274d5a,_0x12fcb8),_0x1227c3(_0x2685e4);}function _0x6dbe72(_0x3b2c6f){const _0x15af21=_0x3b2c6f['entity']['layoutchil'+'d'];return!_0x15af21||!_0x15af21['enabled']||!_0x15af21['excludeFro'+'mLayout'];}function _0x176b61(_0x240d22){for(let _0x162d14=0xa04+-0x1*-0x1edd+-0x73*0x5b;_0x162d14<_0x240d22['length'];++_0x162d14){const _0x4eb190=_0x240d22[_0x162d14],_0x3967ce=_0x4eb190['anchor'];(_0x3967ce['x']!==-0xca9+-0x9fd*-0x3+-0x114e*0x1||_0x3967ce['y']!==0x1*0x957+0x1ef9*-0x1+0x15a2||_0x3967ce['z']!==0x97*0x11+0x10f5+-0x1afc||_0x3967ce['w']!==-0x16*-0x3b+0x3*0x577+0x5*-0x44b)&&(_0x4eb190['anchor']=ee['ZERO']);}}function _0x10f2b7(_0x35f32a){if(!_0x17fb25['wrap'])return[_0x35f32a];const _0x409cc1=[[]],_0x2f2a72=_0x51ebe0(_0x35f32a);let _0x321c66=0xebd+-0x307*-0x1+-0x11c4;const _0x1e2127=_0x17fb25[_0x1ddc26['fitting']]===yg;for(let _0x5ea77d=-0x1703*-0x1+0x1bea+-0x1*0x32ed;_0x5ea77d<_0x35f32a['length'];++_0x5ea77d){_0x409cc1[_0x409cc1['length']-(0x1*0x1f28+0x1aa3*0x1+-0x2*0x1ce5)]['length']>0x2118+0xb0e+0x1*-0x2c26&&(_0x321c66+=_0x17fb25['spacing'][_0x1ddc26['axis']]);const _0x398a69=_0x2f2a72[_0x5ea77d][_0x1ddc26['size']];_0x321c66+=_0x398a69,!_0x1e2127&&_0x321c66>jt[_0x1ddc26['axis']]&&_0x409cc1[_0x409cc1['length']-(-0x4db*0x7+-0x15f3+0x37f1)]['length']!==0x16d8+0xb5f+0x1cd*-0x13&&(_0x321c66=_0x398a69,_0x409cc1['push']([])),_0x409cc1[_0x409cc1['length']-(0x1d03+-0x1*-0x15b+-0x3*0xa1f)]['push'](_0x35f32a[_0x5ea77d]),_0x1e2127&&_0x321c66>jt[_0x1ddc26['axis']]&&_0x5ea77d!==_0x35f32a['length']-(-0x9ba+0x260e+-0x1c53)&&(_0x321c66=-0x2471+-0xac+0x251d,_0x409cc1['push']([]));}return _0x409cc1;}function _0x2fd9b7(_0x2bd2e8){const _0x4d5b2d=_0x17fb25['orientatio'+'n']===ye&&_0x17fb25['reverseX']||_0x17fb25['orientatio'+'n']===Ve&&_0x17fb25['reverseY'],_0x390d02=_0x17fb25['orientatio'+'n']===ye&&_0x17fb25['reverseY']||_0x17fb25['orientatio'+'n']===Ve&&_0x17fb25['reverseX'];if(_0x4d5b2d){for(let _0x42f9b3=0x1*0x1ecb+-0x481*-0x1+-0x234c;_0x42f9b3<_0x2bd2e8['length'];++_0x42f9b3)_0x4d5b2d&&_0x2bd2e8[_0x42f9b3]['reverse']();}return _0x390d02&&_0x2bd2e8['reverse'](),_0x2bd2e8;}function _0x39e0a3(_0x487ce5){const _0x2c7ffa=[];for(let _0x57a614=-0x73*-0x2+0x14f+-0x235;_0x57a614<_0x487ce5['length'];++_0x57a614){const _0x4ae5a7=_0x487ce5[_0x57a614],_0x356f27=_0x51ebe0(_0x4ae5a7),_0x44b427=_0x1462b5(_0x356f27,_0x1ddc26),_0x428ff1=_0x376da8(_0x17fb25[_0x1ddc26['fitting']],_0x44b427,jt[_0x1ddc26['axis']]);_0x428ff1===Xt['APPLY_STRE'+'TCHING']?_0xb36380(_0x356f27,_0x44b427,_0x1ddc26):_0x428ff1===Xt['APPLY_SHRI'+'NKING']&&_0x50b69b(_0x356f27,_0x44b427,_0x1ddc26),_0x2c7ffa['push'](_0x356f27);}return _0x2c7ffa;}function _0x29e38c(_0x5ee889,_0x58e44c){const _0x56c38a=[],_0x5014d9=[];for(let _0x472dc7=0x87f+-0x7*0x19f+0x5*0x92;_0x472dc7<_0x5ee889['length'];++_0x472dc7){const _0x1e4b88=_0x5ee889[_0x472dc7];_0x1e4b88['largestEle'+'ment']=null,_0x1e4b88['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x18b22d=-0x1017+-0x1*-0x1733+-0x71c;_0x18b22d<_0x1e4b88['length'];++_0x18b22d){const _0x33dd8d=_0x58e44c[_0x472dc7][_0x18b22d];_0x33dd8d[_0x5da766['size']]>_0x1e4b88['largestSiz'+'e'][_0x5da766['size']]&&(_0x1e4b88['largestEle'+'ment']=_0x1e4b88[_0x18b22d],_0x1e4b88['largestSiz'+'e']=_0x33dd8d);}_0x56c38a['push'](_0x1e4b88['largestEle'+'ment']),_0x5014d9['push'](_0x1e4b88['largestSiz'+'e']);}const _0x4d3df3=_0x1462b5(_0x5014d9,_0x5da766),_0x3b2cc4=_0x376da8(_0x17fb25[_0x5da766['fitting']],_0x4d3df3,jt[_0x5da766['axis']]);_0x3b2cc4===Xt['APPLY_STRE'+'TCHING']?_0xb36380(_0x5014d9,_0x4d3df3,_0x5da766):_0x3b2cc4===Xt['APPLY_SHRI'+'NKING']&&_0x50b69b(_0x5014d9,_0x4d3df3,_0x5da766);for(let _0x3b9551=0x114c+-0xf1*-0x1+-0xcb*0x17;_0x3b9551<_0x5ee889['length'];++_0x3b9551){const _0x47d7e5=_0x5ee889[_0x3b9551];for(let _0x38f4ab=-0x197e+-0x1*-0xcb3+0xccb;_0x38f4ab<_0x47d7e5['length'];++_0x38f4ab){const _0x2e93bb=_0x58e44c[_0x3b9551][_0x38f4ab],_0xb4758d=_0x2e93bb[_0x5da766['size']],_0x55ec8c=_0x5ee889['length']===-0x17*-0x89+-0x238+-0xa16?jt[_0x5da766['axis']]:_0x47d7e5['largestSiz'+'e'][_0x5da766['size']],_0xf3ff1e=_0x376da8(_0x17fb25[_0x5da766['fitting']],_0xb4758d,_0x55ec8c);_0xf3ff1e===Xt['APPLY_STRE'+'TCHING']?_0x2e93bb[_0x5da766['size']]=Math['min'](_0x55ec8c,_0x2e93bb[_0x5da766['maxSize']]):_0xf3ff1e===Xt['APPLY_SHRI'+'NKING']&&(_0x2e93bb[_0x5da766['size']]=Math['max'](_0x55ec8c,_0x2e93bb[_0x5da766['minSize']]));}}return _0x58e44c;}function _0x376da8(_0x102ec7,_0xbbb38a,_0x35b038){switch(_0x102ec7){case gf:return Xt['NONE'];case XR:return _0xbbb38a<_0x35b038?Xt['APPLY_STRE'+'TCHING']:Xt['NONE'];case yg:return _0xbbb38a>=_0x35b038?Xt['APPLY_SHRI'+'NKING']:Xt['NONE'];case jR:return _0xbbb38a<_0x35b038?Xt['APPLY_STRE'+'TCHING']:Xt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x102ec7);}}function _0x1462b5(_0x373d67,_0x3bbeef){const _0x27c66e=_0x286b23(_0x373d67,_0x3bbeef['size']),_0x1705e2=(_0x373d67['length']-(-0x10da*0x2+0xd*0x65+0x1c94))*_0x17fb25['spacing'][_0x3bbeef['axis']];return _0x27c66e+_0x1705e2;}function _0xb36380(_0x2619e7,_0x119faa,_0x44e56c){const _0x50ec60=_0x161c66(_0x2619e7,_0x44e56c['maxSize']),_0x49ebeb=_0x467045(_0x2619e7,_0x44e56c['fittingPro'+'portion']),_0xd26984=_0x2de226(_0x49ebeb,_0x50ec60);let _0x5b3fbc=jt[_0x44e56c['axis']]-_0x119faa;for(let _0x4cd417=0x2da+0xbb6+-0xe90;_0x4cd417<_0x2619e7['length'];++_0x4cd417){const _0x378ba0=_0x50ec60[_0x4cd417],_0x21fe8=_0x4df652(_0x378ba0,_0x5b3fbc,_0x49ebeb,_0xd26984),_0x263470=_0x2619e7[_0x378ba0][_0x44e56c['size']]+_0x21fe8,_0x4e6220=_0x2619e7[_0x378ba0][_0x44e56c['maxSize']],_0x3d78e7=Math['min'](_0x263470,_0x4e6220);_0x2619e7[_0x378ba0][_0x44e56c['size']]=_0x3d78e7;const _0x7338e1=Math['max'](_0x263470-_0x3d78e7,0x33*0x1+-0x1be8+-0x29*-0xad),_0x4f7df9=_0x21fe8-_0x7338e1;_0x5b3fbc-=_0x4f7df9;}}function _0x50b69b(_0xb5bfaf,_0x243c66,_0x4e5920){const _0xd0f1f5=_0x161c66(_0xb5bfaf,_0x4e5920['minSize'],!(-0x1bd9+0x1*-0xb33+-0x66*-0x62)),_0x8cfa05=_0x467045(_0xb5bfaf,_0x4e5920['fittingPro'+'portion']),_0x3a1f05=_0x39d6db(_0x8cfa05),_0x4f3ab6=_0x2de226(_0x3a1f05,_0xd0f1f5);let _0x336b6c=_0x243c66-jt[_0x4e5920['axis']];for(let _0xa45ccd=-0x2049+-0x1af*0x1+0x21f8;_0xa45ccd<_0xb5bfaf['length'];++_0xa45ccd){const _0x4a6489=_0xd0f1f5[_0xa45ccd],_0x23caaf=_0x4df652(_0x4a6489,_0x336b6c,_0x3a1f05,_0x4f3ab6),_0x384486=_0xb5bfaf[_0x4a6489][_0x4e5920['size']]-_0x23caaf,_0x10e134=_0xb5bfaf[_0x4a6489][_0x4e5920['minSize']],_0x7db35e=Math['max'](_0x384486,_0x10e134);_0xb5bfaf[_0x4a6489][_0x4e5920['size']]=_0x7db35e;const _0x4b0dfc=Math['max'](_0x7db35e-_0x384486,0x218c+0x7*-0x49+0x29*-0xc5),_0x2bdee4=_0x23caaf-_0x4b0dfc;_0x336b6c-=_0x2bdee4;}}function _0x4df652(_0x49ca73,_0x474599,_0x1b55a0,_0x1834bd){const _0x2745c6=_0x1b55a0[_0x49ca73],_0x5a0199=_0x1834bd[_0x49ca73];return Math['abs'](_0x2745c6)<-0x93*0xc+-0xd7f*-0x1+-0x69b+0.00001&&Math['abs'](_0x5a0199)<0x22*-0x115+-0x1c22+0xc*0x569+0.00001?_0x474599:_0x474599*_0x2745c6/_0x5a0199;}function _0x5a48c3(_0x31841f,_0xeeecdc){const _0x5a0278={};_0x5a0278[_0x1ddc26['axis']]=-0x2b3*-0x9+0x2b*-0x18+-0x1443,_0x5a0278[_0x5da766['axis']]=-0x257e+-0x929+0x2ea7,_0x31841f[_0x1ddc26['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x3a9b94=[];for(let _0x411453=-0x4c7*-0x3+-0x1ac4+0x3*0x425;_0x411453<_0x31841f['length'];++_0x411453){const _0x3bccfe=_0x31841f[_0x411453];if(_0x3bccfe['length']===0x19e4+0xca0+-0x1*0x2684){_0x3a9b94['push']([]);continue;}const _0x14debf=[],_0x1592f1=_0xeeecdc[_0x411453];for(let _0x42b9ea=0x1*0x145c+0x61*0x3e+-0x2bda;_0x42b9ea<_0x3bccfe['length'];++_0x42b9ea){const _0x8572e0=_0x3bccfe[_0x42b9ea],_0x1e157b=_0x1592f1[_0x42b9ea];_0x5a0278[_0x5da766['axis']]-=_0x312bfb(_0x8572e0,_0x1e157b),_0x5a0278[_0x1ddc26['axis']]-=_0x2ab9cf(_0x8572e0,_0x1e157b),_0x14debf[_0x42b9ea]={},_0x14debf[_0x42b9ea][_0x1ddc26['axis']]=_0x5a0278[_0x1ddc26['axis']],_0x14debf[_0x42b9ea][_0x5da766['axis']]=_0x5a0278[_0x5da766['axis']],_0x5a0278[_0x5da766['axis']]+=_0x312bfb(_0x8572e0,_0x1e157b),_0x5a0278[_0x1ddc26['axis']]+=_0x286ea2(_0x8572e0,_0x1e157b)+_0x17fb25['spacing'][_0x1ddc26['axis']];}_0x3bccfe[_0x1ddc26['size']]=_0x5a0278[_0x1ddc26['axis']]-_0x17fb25['spacing'][_0x1ddc26['axis']],_0x3bccfe[_0x5da766['size']]=_0x3bccfe['largestSiz'+'e'][_0x5da766['size']],_0x31841f[_0x1ddc26['size']]=Math['max'](_0x31841f[_0x1ddc26['size']],_0x3bccfe[_0x1ddc26['size']]),_0x5a0278[_0x1ddc26['axis']]=-0xe75+0x1743+0x467*-0x2,_0x5a0278[_0x5da766['axis']]+=_0x3bccfe[_0x5da766['size']]+_0x17fb25['spacing'][_0x5da766['axis']],_0x3a9b94['push'](_0x14debf);}return _0x31841f[_0x5da766['size']]=_0x5a0278[_0x5da766['axis']]-_0x17fb25['spacing'][_0x5da766['axis']],_0x3a9b94;}function _0x495351(_0x2b802e,_0x490bea,_0x511e7a){const _0x1a221d=_0x17fb25['alignment'][_0x1ddc26['axis']],_0xa4b629=_0x17fb25['alignment'][_0x5da766['axis']],_0x434a0b=_0x17fb25['padding'][_0x1ddc26['axis']],_0x58d9b3=_0x17fb25['padding'][_0x5da766['axis']];for(let _0x463600=0x28d+0xcf*-0x2+-0x1*0xef;_0x463600<_0x2b802e['length'];++_0x463600){const _0x424dfa=_0x2b802e[_0x463600],_0x4f68e6=_0x490bea[_0x463600],_0x31e05d=_0x511e7a[_0x463600],_0x3d7e91=(jt[_0x1ddc26['axis']]-_0x424dfa[_0x1ddc26['size']])*_0x1a221d+_0x434a0b,_0x33f58d=(jt[_0x5da766['axis']]-_0x2b802e[_0x5da766['size']])*_0xa4b629+_0x58d9b3;for(let _0x1bb679=0x2*-0x11ef+0x335*0x3+0x1a3f*0x1;_0x1bb679<_0x424dfa['length'];++_0x1bb679){const _0x3be7b0=(_0x424dfa[_0x5da766['size']]-_0x4f68e6[_0x1bb679][_0x5da766['size']])*_0x17fb25['alignment'][_0x5da766['axis']];_0x31e05d[_0x1bb679][_0x1ddc26['axis']]+=_0x3d7e91,_0x31e05d[_0x1bb679][_0x5da766['axis']]+=_0x33f58d+_0x3be7b0;}}}function _0x53f97c(_0x1ef6d9,_0x1b00f2,_0x463159){for(let _0x160441=0x160f+-0x952+-0xcbd*0x1;_0x160441<_0x1ef6d9['length'];++_0x160441){const _0x4a0b25=_0x1ef6d9[_0x160441],_0x132a8b=_0x1b00f2[_0x160441],_0x33b38c=_0x463159[_0x160441];for(let _0x70ca49=-0x1468+-0x1f0b+0x3373;_0x70ca49<_0x4a0b25['length'];++_0x70ca49){const _0x54f9c6=_0x4a0b25[_0x70ca49];_0x54f9c6[_0x1ddc26['calculated'+'Size']]=_0x132a8b[_0x70ca49][_0x1ddc26['size']],_0x54f9c6[_0x5da766['calculated'+'Size']]=_0x132a8b[_0x70ca49][_0x5da766['size']],_0x17fb25['orientatio'+'n']===ye?_0x54f9c6['entity']['setLocalPo'+'sition'](_0x33b38c[_0x70ca49][_0x1ddc26['axis']],_0x33b38c[_0x70ca49][_0x5da766['axis']],_0x54f9c6['entity']['getLocalPo'+'sition']()['z']):_0x54f9c6['entity']['setLocalPo'+'sition'](_0x33b38c[_0x70ca49][_0x5da766['axis']],_0x33b38c[_0x70ca49][_0x1ddc26['axis']],_0x54f9c6['entity']['getLocalPo'+'sition']()['z']);}}}function _0x1227c3(_0x4c2b85){const _0x58e7ea=_0x4c2b85['width'],_0x4570ec=_0x4c2b85['height'],_0x42c138=(jt['x']-_0x58e7ea)*_0x17fb25['alignment']['x']+_0x17fb25['padding']['x'],_0x585460=(jt['y']-_0x4570ec)*_0x17fb25['alignment']['y']+_0x17fb25['padding']['y'];return{'bounds':new ee(_0x42c138,_0x585460,_0x58e7ea,_0x4570ec)};}function _0x51ebe0(_0x400b14){const _0x45346e=[];for(let _0x1d3952=0x1*-0x779+0x21ad*-0x1+0x2926;_0x1d3952<_0x400b14['length'];++_0x1d3952){const _0x5ec176=_0x400b14[_0x1d3952],_0x4d39b5=Math['max'](_0x34c21b(_0x5ec176,'minWidth'),0x3d4+-0x1*0x191+-0x243),_0x4ab42a=Math['max'](_0x34c21b(_0x5ec176,'minHeight'),0x1*0x2033+-0x824+-0x180f),_0x585d54=Math['max'](_0x34c21b(_0x5ec176,'maxWidth'),_0x4d39b5),_0x4bb20d=Math['max'](_0x34c21b(_0x5ec176,'maxHeight'),_0x4ab42a),_0x22a5a8=_0x4e88aa(_0x34c21b(_0x5ec176,'width'),_0x4d39b5,_0x585d54),_0x42d320=_0x4e88aa(_0x34c21b(_0x5ec176,'height'),_0x4ab42a,_0x4bb20d),_0x4d45f0=_0x34c21b(_0x5ec176,'fitWidthPr'+'oportion'),_0x4ab1b7=_0x34c21b(_0x5ec176,'fitHeightP'+'roportion');_0x45346e['push']({'minWidth':_0x4d39b5,'minHeight':_0x4ab42a,'maxWidth':_0x585d54,'maxHeight':_0x4bb20d,'width':_0x22a5a8,'height':_0x42d320,'fitWidthProportion':_0x4d45f0,'fitHeightProportion':_0x4ab1b7});}return _0x45346e;}function _0x34c21b(_0x9d4ccc,_0x236760){const _0x47fa30=_0x9d4ccc['entity']['layoutchil'+'d'];return _0x47fa30&&_0x47fa30['enabled']&&_0x47fa30[_0x236760]!==void(0x2241+0x347+-0x2588)&&_0x47fa30[_0x236760]!==null?_0x47fa30[_0x236760]:_0x9d4ccc[_0x236760]!==void(0x2081+-0x4fd+-0x1b84)?_0x9d4ccc[_0x236760]:YR[_0x236760];}function _0x4e88aa(_0x18b44d,_0x535bb5,_0x544549){return Math['min'](Math['max'](_0x18b44d,_0x535bb5),_0x544549);}function _0x286b23(_0x5ef9f9,_0x5c2041){return _0x5ef9f9['reduce']((_0x27a6ee,_0x3d241b)=>_0x27a6ee+_0x3d241b[_0x5c2041],0x14c0+-0xca*0x2f+0x1056);}function _0x467045(_0x358a76,_0x197169){const _0x2f2b85=_0x286b23(_0x358a76,_0x197169),_0x1f6772=[],_0x2aa62b=_0x358a76['length'];if(_0x2f2b85===0x12ad*-0x1+0xb93*0x1+0xca*0x9){for(let _0x142078=0x1*0x11d1+0x2a+-0x11fb*0x1;_0x142078<_0x2aa62b;++_0x142078)_0x1f6772['push']((0x1f51+-0x1353+-0xbfd)/_0x2aa62b);}else{for(let _0x3273e3=0x1f21*-0x1+0xc*0x24d+0x385;_0x3273e3<_0x2aa62b;++_0x3273e3)_0x1f6772['push'](_0x358a76[_0x3273e3][_0x197169]/_0x2f2b85);}return _0x1f6772;}function _0x39d6db(_0x44dfcf){if(_0x44dfcf['length']===-0x1d8*-0x4+-0x45e+-0x301*0x1)return[-0x822+0x2c+0x7f7];const _0x2122a2=[],_0x45d3c9=_0x44dfcf['length'];for(let _0x2fc627=0x2*-0x11c0+-0x26a9+0x4a29;_0x2fc627<_0x45d3c9;++_0x2fc627)_0x2122a2['push']((-0x3d0+-0x634*-0x1+0x263*-0x1-_0x44dfcf[_0x2fc627])/(_0x45d3c9-(0x1296*-0x1+0xdec+0x4ab)));return _0x2122a2;}function _0x161c66(_0x469202,_0x375796,_0x1c31a8){return _0x469202['forEach'](_0x5b8350),_0x469202['slice']()['sort']((_0x3e321f,_0x187efc)=>_0x1c31a8?_0x187efc[_0x375796]-_0x3e321f[_0x375796]:_0x3e321f[_0x375796]-_0x187efc[_0x375796])['map'](_0x26eb0e);}function _0x5b8350(_0x6771e8,_0x2d7178){_0x6771e8['index']=_0x2d7178;}function _0x26eb0e(_0xe1f88){return _0xe1f88['index'];}function _0x2de226(_0x2ef7fb,_0x1f3e4e){const _0x17624a=[];_0x17624a[_0x1f3e4e[_0x2ef7fb['length']-(0x1aa8+0x15e0+0x7b*-0x65)]]=_0x2ef7fb[_0x1f3e4e[_0x2ef7fb['length']-(0x1*-0x11c3+0x1121+-0xa3*-0x1)]];for(let _0x2bd9fd=_0x2ef7fb['length']-(0x1*-0xb39+-0xbb9+0x16f4);_0x2bd9fd>=-0x139e+-0x7*-0x1ec+-0x3*-0x20e;--_0x2bd9fd)_0x17624a[_0x1f3e4e[_0x2bd9fd]]=_0x17624a[_0x1f3e4e[_0x2bd9fd+(-0x1*0x107b+0x1b8f+-0xb13)]]+_0x2ef7fb[_0x1f3e4e[_0x2bd9fd]];return _0x17624a;}return _0x172c30;}const qp={};qp[ye]=lx(ye),qp[Ve]=lx(Ve);class KR{['calculateL'+'ayout'](_0x393661,_0x593017){const _0x5e3da1=qp[_0x593017['orientatio'+'n']];if(_0x5e3da1)return _0x5e3da1(_0x393661,_0x593017);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x593017['orientatio'+'n']);}}function xg(_0x46b636){return _0x46b636['element'];}function ZR(_0x50c58f){return _0x50c58f['enabled']&&_0x50c58f['element']&&_0x50c58f['element']['enabled'];}class hx extends pe{constructor(_0x10e9b2,_0x52bb51){super(_0x10e9b2,_0x52bb51),c(this,'_orientati'+'on',ye),c(this,'_reverseX',!(0x15c3+0x16b9+-0xc1*0x3b)),c(this,'_reverseY',!(0x1*0x6c6+0xfa*-0x1c+0x1492)),c(this,'_alignment',new W(-0x624+0x1*-0x1c33+0x2257,-0x681*0x1+0x1f42*0x1+0x2*-0xc60)),c(this,'_padding',new ee()),c(this,'_spacing',new W()),c(this,'_widthFitt'+'ing',gf),c(this,'_heightFit'+'ting',gf),c(this,'_wrap',!(-0x3*0x9b+0xe6*0x7+-0x16*0x34)),c(this,'_layoutCal'+'culator',new KR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x49c1b7=>{this['_listenFor'+'ReflowEven'+'ts'](_0x49c1b7,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),b['assert'](_0x10e9b2['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x10e9b2['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x10e9b2['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),b['assert'](_0x10e9b2['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x10e9b2['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x10e9b2['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x1370e9){_0x1370e9!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x1370e9,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x11c101){_0x11c101!==this['_reverseX']&&(this['_reverseX']=_0x11c101,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x56f6bd){_0x56f6bd!==this['_reverseY']&&(this['_reverseY']=_0x56f6bd,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x50b57c){_0x50b57c['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x50b57c),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x5cdb22){_0x5cdb22['equals'](this['_padding'])||(this['_padding']['copy'](_0x5cdb22),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x536999){_0x536999['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x536999),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x49675e){_0x49675e!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x49675e,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x8c153a){_0x8c153a!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x8c153a,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x49b4b8){_0x49b4b8!==this['_wrap']&&(this['_wrap']=_0x49b4b8,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0xa0f043){return _0xa0f043===this['entity']||this['entity']['children']['indexOf'](_0xa0f043)!==-(-0xd07+-0x17bc+-0x1*-0x24c4);}['_listenFor'+'ReflowEven'+'ts'](_0x577536,_0x35b34a){_0x577536['element']&&(_0x577536['element'][_0x35b34a]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x577536['element'][_0x35b34a]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x577536['element'][_0x35b34a]('resize',this['_scheduleR'+'eflow'],this),_0x577536['element'][_0x35b34a]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x577536['layoutchil'+'d']&&(_0x577536['layoutchil'+'d'][_0x35b34a]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x577536['layoutchil'+'d'][_0x35b34a]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x1671a9){this['_isSelfOrC'+'hild'](_0x1671a9)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x1671a9,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x4afb20){this['_isSelfOrC'+'hild'](_0x4afb20)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x4afb20,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0xa1bc7){this['_listenFor'+'ReflowEven'+'ts'](_0xa1bc7,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x33701c){this['_listenFor'+'ReflowEven'+'ts'](_0x33701c,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x3d7b01=xg(this['entity']),_0x59e04b=this['entity']['children']['filter'](ZR)['map'](xg);if(!_0x3d7b01||_0x59e04b['length']===0x1738+-0x1*0x24ee+0xdb6)return;const _0x40dae6=Math['max'](_0x3d7b01['calculated'+'Width'],-0x22c6*-0x1+0x23b1+-0x3*0x177d),_0x19631a=Math['max'](_0x3d7b01['calculated'+'Height'],0x1c89+0x1421*0x1+-0x30aa),_0x1cc676={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new W(_0x40dae6,_0x19631a)};this['_isPerform'+'ingReflow']=!(-0x1*-0x1408+-0x1*-0x1990+-0x2d98);const _0x3878f5=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x59e04b,_0x1cc676);this['_isPerform'+'ingReflow']=!(-0x1e37+0x33b*-0xa+0x6a*0x97),this['fire']('reflow',_0x3878f5);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x6372e9=>{this['_listenFor'+'ReflowEven'+'ts'](_0x6372e9,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class QR{constructor(){this['enabled']=!(0x14c5+0x8df+0x1da4*-0x1);}}const cx=['enabled'],JR=0x128b+0x1*0x23b1+0xd76*-0x4;class eI extends Qe{constructor(_0x2fb66f){super(_0x2fb66f),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=hx,this['DataType']=QR,this['schema']=cx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x5be833,_0x186684,_0x3622aa){_0x186684['enabled']!==void(-0x632*0x3+-0x1710+0x29a6)&&(_0x5be833['enabled']=_0x186684['enabled']),_0x186684['orientatio'+'n']!==void(-0x235b*-0x1+0x525+0x6*-0x6c0)&&(_0x5be833['orientatio'+'n']=_0x186684['orientatio'+'n']),_0x186684['reverseX']!==void(-0x8f5+0xe71*0x1+-0x57c)&&(_0x5be833['reverseX']=_0x186684['reverseX']),_0x186684['reverseY']!==void(0x856*-0x4+-0x7d*-0x3b+0x489)&&(_0x5be833['reverseY']=_0x186684['reverseY']),_0x186684['alignment']!==void(0x742*0x2+0x1dc0+-0x4*0xb11)&&(_0x5be833['alignment']=Array['isArray'](_0x186684['alignment'])?new W(_0x186684['alignment']):_0x186684['alignment']),_0x186684['padding']!==void(-0x1801+-0x2*-0xed6+0x1*-0x5ab)&&(_0x5be833['padding']=Array['isArray'](_0x186684['padding'])?new ee(_0x186684['padding']):_0x186684['padding']),_0x186684['spacing']!==void(0x15e1+-0x70a+-0xed7)&&(_0x5be833['spacing']=Array['isArray'](_0x186684['spacing'])?new W(_0x186684['spacing']):_0x186684['spacing']),_0x186684['widthFitti'+'ng']!==void(0x2*0x5ee+0x4c1*0x3+0x9*-0x2e7)&&(_0x5be833['widthFitti'+'ng']=_0x186684['widthFitti'+'ng']),_0x186684['heightFitt'+'ing']!==void(-0x18b8+-0x1758+0x3010)&&(_0x5be833['heightFitt'+'ing']=_0x186684['heightFitt'+'ing']),_0x186684['wrap']!==void(-0x12*-0x121+0x1353+-0x11*0x255)&&(_0x5be833['wrap']=_0x186684['wrap']),super['initialize'+'ComponentD'+'ata'](_0x5be833,_0x186684,_0x3622aa);}['cloneCompo'+'nent'](_0x54e3e5,_0x23c685){const _0x10e90b=_0x54e3e5['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x23c685,{'enabled':_0x10e90b['enabled'],'orientation':_0x10e90b['orientatio'+'n'],'reverseX':_0x10e90b['reverseX'],'reverseY':_0x10e90b['reverseY'],'alignment':_0x10e90b['alignment'],'padding':_0x10e90b['padding'],'spacing':_0x10e90b['spacing'],'widthFitting':_0x10e90b['widthFitti'+'ng'],'heightFitting':_0x10e90b['heightFitt'+'ing'],'wrap':_0x10e90b['wrap']});}['scheduleRe'+'flow'](_0x1a2976){this['_reflowQue'+'ue']['indexOf'](_0x1a2976)===-(-0x2267+-0x188*-0x1+0x20e0)&&this['_reflowQue'+'ue']['push'](_0x1a2976);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0x10a+0x1*-0x1297+0x1*0x118d)return;let _0x51a24f=0x91f+0x230+-0xb4f;for(;this['_reflowQue'+'ue']['length']>-0x2469*-0x1+0xf60+-0x33c9;){const _0x1ae398=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=0x1*-0x41b+-0x582+0x99d,_0x1ae398['sort']((_0x5511a6,_0x4f8fd6)=>_0x5511a6['entity']['graphDepth']-_0x4f8fd6['entity']['graphDepth']);for(let _0x4f5d3e=0x1*0xad6+-0x24e5+-0x1*-0x1a0f;_0x4f5d3e<_0x1ae398['length'];++_0x4f5d3e)_0x1ae398[_0x4f5d3e]['reflow']();if(++_0x51a24f>=JR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x44a9e3,_0x55ddaf){_0x55ddaf['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}pe['_buildAcce'+'ssors'](hx['prototype'],cx);class tI{constructor(){c(this,'map',new Map());}['destroy'](_0x25f017){this['map']['forEach'](_0x3e138c=>_0x3e138c['mesh']['destroy']());}}const sI=new Ht(),dx=(_0x5c0d05,_0xc9caa5)=>{const _0x5aa22d=sI['get'](_0x5c0d05,()=>new tI());let _0x11623e=_0x5aa22d['map']['get'](_0xc9caa5);if(!_0x11623e){let _0x567945,_0x207294;switch(_0xc9caa5){case'box':_0x567945=ke['fromGeomet'+'ry'](_0x5c0d05,new Yu()),_0x207294={'x':0x2,'y':0x2,'z':0x2,'uv':(-0x15d9+-0x1*0x1f33+-0x2*-0x1a87)/(0x1*-0x755+-0x184*-0xc+-0x4*0x2b6)};break;case'capsule':_0x567945=ke['fromGeomet'+'ry'](_0x5c0d05,new M1({'radius':0.5,'height':0x2})),_0x207294={'x':Math['PI']*(-0x1665+0x70*-0x5+0x1*0x1897),'y':Math['PI'],'z':Math['PI']*(-0xec6+-0x2*-0x1262+-0x754*0x3),'uv':(-0xe*-0x44+-0x1*0xde5+0xa2e)/(0x3b*0x97+0x232+0x9*-0x41c)+(-0x737*-0x3+0x1ba+-0x175e)/(-0x8ee+-0x5e3*-0x3+-0x8b8)/(0x3*-0xcca+0x183b+0xe26)*(-0xe47*0x1+0x1b1*0x1+0xd*0xf8)};break;case'cone':_0x567945=ke['fromGeomet'+'ry'](_0x5c0d05,new P1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x207294={'x':2.54,'y':2.54,'z':2.54,'uv':(0x1c2*0xf+0x8c8+0x3*-0xbb7)/(-0x1a6*-0xd+0x1221+0x1*-0x278c)+(0x25fa+0x3*-0x7a8+-0xf01)/(-0x1537*-0x1+-0x23e6+0x1a2*0x9)/(0x3ca*-0x1+-0x1c65+0x2*0x1019)};break;case'cylinder':_0x567945=ke['fromGeomet'+'ry'](_0x5c0d05,new R1({'radius':0.5,'height':0x1})),_0x207294={'x':Math['PI'],'y':(0x145c*-0x1+0x58*0x34+0x27c+0.79)*(0x2097+0x25be+-0x4653*0x1),'z':Math['PI'],'uv':(0x316*0x5+0x35d+-0x3c2*0x5)/(0x47*0x5b+0x6f8+-0x2032)+(0xbb*0x32+0xc1c+-0x1*0x30a1)/(0xd70+-0x1*0x1e28+0x1*0x10bb)/(0x1e11+-0x70*0x52+0x5d2)*(0x1*0x15d2+0x1*0xacf+-0x209f)};break;case'plane':_0x567945=ke['fromGeomet'+'ry'](_0x5c0d05,new I1({'halfExtents':new W(0x1e35+0x177c+-0xabd*0x5+0.5,0x1*0x8ed+-0x1d36*0x1+0x1449+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x207294={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x567945=ke['fromGeomet'+'ry'](_0x5c0d05,new N0({'radius':0.5})),_0x207294={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x567945=ke['fromGeomet'+'ry'](_0x5c0d05,new D1({'tubeRadius':0.2,'ringRadius':0.3})),_0x207294={'x':Math['PI']*(0x3b*-0x71+0x10a4+0x967+0.5)*(0x21b7+0x1977+-0x3b2e+0.5)-Math['PI']*(-0x4*-0x4c1+0xf66+-0x226a+0.1)*(-0x1010+-0x2005+0x3015+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0xc9caa5);}_0x567945['incRefCoun'+'t'](),_0x11623e={'mesh':_0x567945,'area':_0x207294},_0x5aa22d['map']['set'](_0xc9caa5,_0x11623e);}return _0x11623e;};class ux extends pe{constructor(_0x3a15fc,_0x577095){super(_0x3a15fc,_0x577095),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(-0x17*0xb3+0x802*0x1+0x813*0x1)),c(this,'_receiveSh'+'adows',!(0x221f+-0x1359*0x1+-0xec6)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(-0x13*-0x1e7+0x238*0xd+-0x40fd)),c(this,'_lightmapp'+'ed',!(0x185d+0x5c*0x43+-0x3070)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0x736+-0xb87+0x12be),c(this,'isStatic',!(-0x1*-0x22a3+-0x183e+0x299*-0x4)),c(this,'_layers',[zi]),c(this,'_batchGrou'+'pId',-(-0x1d*-0xd1+0x2*-0xa0f+-0x38e)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(-0x22f6+0x906+0x19f1)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x3a15fc['defaultMat'+'erial'],_0x577095['on']('remove',this['onRemoveCh'+'ild'],this),_0x577095['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x577095['on']('insert',this['onInsertCh'+'ild'],this),_0x577095['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x9d166a){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x9d166a);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x2383e2){if(this['_customAab'+'b']=_0x2383e2,this['_model']){const _0x434edd=this['_model']['meshInstan'+'ces'];if(_0x434edd){for(let _0x4402bc=0x154b+-0x4*0x358+-0x7eb;_0x4402bc<_0x434edd['length'];_0x4402bc++)_0x434edd[_0x4402bc]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x3a6c91){if(this['_type']!==_0x3a6c91){if(this['_area']=null,this['_type']=_0x3a6c91,_0x3a6c91==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x2460cf=dx(this['system']['app']['graphicsDe'+'vice'],_0x3a6c91);this['_area']=_0x2460cf['area'];const _0x4da198=_0x2460cf['mesh'],_0x514056=new Oe(),_0x77d385=new Ui();_0x77d385['graph']=_0x514056,_0x77d385['meshInstan'+'ces']=[new Be(_0x4da198,this['_material'],_0x514056)],this['model']=_0x77d385,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x3211a6){const _0x47950f=this['system']['app']['assets'];let _0x1e2b01=_0x3211a6;if(_0x3211a6 instanceof he&&(_0x1e2b01=_0x3211a6['id']),this['_asset']!==_0x1e2b01){if(this['_asset']){_0x47950f['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x4eeb56=_0x47950f['get'](this['_asset']);_0x4eeb56&&this['_unbindMod'+'elAsset'](_0x4eeb56);}if(this['_asset']=_0x1e2b01,this['_asset']){const _0x344772=_0x47950f['get'](this['_asset']);_0x344772?this['_bindModel'+'Asset'](_0x344772):(this['model']=null,_0x47950f['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x48b29a){if(this['_model']!==_0x48b29a){if(_0x48b29a&&_0x48b29a['_immutable']){b['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x2570+0x21*-0x1c+-0x21d3),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x21bd*0x1+-0x616+-0x1*0x1ba6))),this['_model']=_0x48b29a,this['_model']){this['_model']['_immutable']=!(0x1fbe+-0xc5*0x11+-0x1*0x12a9);const _0x157205=this['_model']['meshInstan'+'ces'];for(let _0x465794=0x648+0x1f34+-0x257c;_0x465794<_0x157205['length'];_0x465794++)_0x157205[_0x465794]['castShadow']=this['_castShado'+'ws'],_0x157205[_0x465794]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x157205[_0x465794]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x3b36f8){if(_0x3b36f8!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x3b36f8,this['_model'])){const _0x3a68b2=this['_model']['meshInstan'+'ces'];for(let _0x140d4d=0x20b*-0xa+0x1c21+-0x7b3;_0x140d4d<_0x3a68b2['length'];_0x140d4d++)_0x3a68b2[_0x140d4d]['setLightma'+'pped'](_0x3b36f8);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x14ba8a){if(this['_castShado'+'ws']===_0x14ba8a)return;const _0x333049=this['_model'];if(_0x333049){const _0x461b07=this['layers'],_0x4aeccd=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x14ba8a)for(let _0x398d36=0x2d0+-0x207*0x9+0xf6f*0x1;_0x398d36<_0x461b07['length'];_0x398d36++){const _0x508c6a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x398d36]);_0x508c6a&&_0x508c6a['removeShad'+'owCasters'](_0x333049['meshInstan'+'ces']);}const _0x28703c=_0x333049['meshInstan'+'ces'];for(let _0x311bd5=0x1ad9+-0xcb0+0x91*-0x19;_0x311bd5<_0x28703c['length'];_0x311bd5++)_0x28703c[_0x311bd5]['castShadow']=_0x14ba8a;if(!this['_castShado'+'ws']&&_0x14ba8a)for(let _0x41b90a=0x1e4f*0x1+-0xe6f*0x1+-0xfe0;_0x41b90a<_0x461b07['length'];_0x41b90a++){const _0x3e611f=_0x4aeccd['layers']['getLayerBy'+'Id'](_0x461b07[_0x41b90a]);_0x3e611f&&_0x3e611f['addShadowC'+'asters'](_0x333049['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x14ba8a;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x443d92){if(this['_receiveSh'+'adows']!==_0x443d92&&(this['_receiveSh'+'adows']=_0x443d92,this['_model'])){const _0x54890c=this['_model']['meshInstan'+'ces'];for(let _0x30ea9a=0xa73+-0x165d*-0x1+-0x20d0,_0x31892c=_0x54890c['length'];_0x30ea9a<_0x31892c;_0x30ea9a++)_0x54890c[_0x30ea9a]['receiveSha'+'dow']=_0x443d92;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x21ced2){this['_castShado'+'wsLightmap']=_0x21ced2;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x267e87){this['_lightmapS'+'izeMultipl'+'ier']=_0x267e87;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x1a0bad){const _0x5e7696=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x4fa527=-0x19ab*0x1+0x10ba+0x8f1;_0x4fa527<this['_layers']['length'];_0x4fa527++){const _0x15e86e=_0x5e7696['getLayerBy'+'Id'](this['_layers'][_0x4fa527]);_0x15e86e&&_0x15e86e['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0x257*0x1+-0x129*-0x1a+-0x2081;for(let _0x37d991=0x2*-0x462+0xa7f+-0x1bb*0x1;_0x37d991<_0x1a0bad['length'];_0x37d991++)this['_layers'][_0x37d991]=_0x1a0bad[_0x37d991];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x53cb81=-0x7*-0x4d1+0x23be+-0x4575*0x1;_0x53cb81<this['_layers']['length'];_0x53cb81++){const _0x3065e0=_0x5e7696['getLayerBy'+'Id'](this['_layers'][_0x53cb81]);_0x3065e0&&_0x3065e0['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x5cf50a){var _0x526b71,_0x5e824e;this['_batchGrou'+'pId']!==_0x5cf50a&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x6*-0x559+-0x21db+0x41f1&&((_0x526b71=this['system']['app']['batcher'])==null||_0x526b71['remove'](rt['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x5cf50a>=0x58d*-0x5+0xa41*-0x1+0x2602&&((_0x5e824e=this['system']['app']['batcher'])==null||_0x5e824e['insert'](rt['MODEL'],_0x5cf50a,this['entity'])),_0x5cf50a<0x5a5+-0xfd9+0x28d*0x4&&this['_batchGrou'+'pId']>=-0x89*0x15+0x3*-0x277+0x12a2&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x5cf50a);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x3d2df1){let _0x5b3cd6=_0x3d2df1;_0x3d2df1 instanceof he&&(_0x5b3cd6=_0x3d2df1['id']);const _0x11afef=this['system']['app']['assets'];if(_0x5b3cd6!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x11afef['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x34d487=_0x11afef['get'](this['_materialA'+'sset']);_0x34d487&&this['_unbindMat'+'erialAsset'](_0x34d487);}if(this['_materialA'+'sset']=_0x5b3cd6,this['_materialA'+'sset']){const _0x114c52=_0x11afef['get'](this['_materialA'+'sset']);_0x114c52?this['_bindMater'+'ialAsset'](_0x114c52):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x11afef['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x588aa5){this['_material']!==_0x588aa5&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x588aa5));}get['material'](){return this['_material'];}set['mapping'](_0x5e62a){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x5e62a||(_0x5e62a={}),this['_mapping']=_0x5e62a,!this['_model']))return;const _0x4e9a96=this['_model']['meshInstan'+'ces'],_0x58556f=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x84bc77=_0x58556f?_0x58556f['data']['mapping']:null;let _0x313277=null;for(let _0x550c17=-0x3*0xad+-0x232f*-0x1+-0x84a*0x4,_0x29aae8=_0x4e9a96['length'];_0x550c17<_0x29aae8;_0x550c17++)if(_0x5e62a[_0x550c17]!==void(0x15b1+0x1b65+-0x3116))_0x5e62a[_0x550c17]?(_0x313277=this['system']['app']['assets']['get'](_0x5e62a[_0x550c17]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x313277,_0x4e9a96[_0x550c17],_0x550c17)):_0x4e9a96[_0x550c17]['material']=this['system']['defaultMat'+'erial'];else{if(_0x84bc77){if(_0x84bc77[_0x550c17]&&(_0x84bc77[_0x550c17]['material']||_0x84bc77[_0x550c17]['path'])){if(_0x84bc77[_0x550c17]['material']!==void(0x1c0d+-0x7*0x18e+-0x112b))_0x313277=this['system']['app']['assets']['get'](_0x84bc77[_0x550c17]['material']);else{if(_0x84bc77[_0x550c17]['path']!==void(-0x127*-0xd+-0x89*-0x11+-0x1814)){const _0x5a78d5=this['_getMateri'+'alAssetUrl'](_0x84bc77[_0x550c17]['path']);_0x5a78d5&&(_0x313277=this['system']['app']['assets']['getByUrl'](_0x5a78d5));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x313277,_0x4e9a96[_0x550c17],_0x550c17);}else _0x4e9a96[_0x550c17]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x5127bf=this['system']['app']['scene']['layers'];for(let _0x56f563=-0x95f+0x1*0x14a6+-0xb47;_0x56f563<this['_layers']['length'];_0x56f563++){const _0x389137=_0x5127bf['getLayerBy'+'Id'](this['_layers'][_0x56f563]);_0x389137&&_0x389137['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x18d37d=this['system']['app']['scene']['layers'];for(let _0x22d80d=0xa97+0xf5f*0x2+-0x2955;_0x22d80d<this['_layers']['length'];_0x22d80d++){const _0x2eb08b=_0x18d37d['getLayerBy'+'Id'](this['_layers'][_0x22d80d]);_0x2eb08b&&_0x2eb08b['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x17c135,_0x37e01b){this['addModelTo'+'Layers'](),_0x17c135['off']('add',this['onLayerAdd'+'ed'],this),_0x17c135['off']('remove',this['onLayerRem'+'oved'],this),_0x37e01b['on']('add',this['onLayerAdd'+'ed'],this),_0x37e01b['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x56d882){this['layers']['indexOf'](_0x56d882['id'])<0x2391*-0x1+-0xe8d+0x321e||_0x56d882['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x3a418e){this['layers']['indexOf'](_0x3a418e['id'])<-0x83*0x3+-0x8f9*-0x1+-0x770||_0x3a418e['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x4623b0,_0x550f54,_0x2dd3df,_0x4d238a){const _0x14a8ad=_0x550f54+':'+_0x2dd3df;this['system']['app']['assets']['on'](_0x14a8ad,_0x4d238a,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x4623b0]||(this['_materialE'+'vents'][_0x4623b0]={}),this['_materialE'+'vents'][_0x4623b0][_0x14a8ad]={'id':_0x2dd3df,'handler':_0x4d238a};}['_unsetMate'+'rialEvents'](){const _0x1a6cdc=this['system']['app']['assets'],_0x5bb7e2=this['_materialE'+'vents'];if(_0x5bb7e2){for(let _0x3da88c=-0x13d1+0x32f+0x10a2,_0x57ccdc=_0x5bb7e2['length'];_0x3da88c<_0x57ccdc;_0x3da88c++){if(!_0x5bb7e2[_0x3da88c])continue;const _0xba3b7=_0x5bb7e2[_0x3da88c];for(const _0x367ac8 in _0xba3b7)_0x1a6cdc['off'](_0x367ac8,_0xba3b7[_0x367ac8]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x2cc943){let _0x1d420c=null;if(!isNaN(parseInt(_0x2cc943,0x4d1*-0x1+-0x54e+0x121*0x9)))_0x1d420c=this['system']['app']['assets']['get'](_0x2cc943);else{if(this['asset']){const _0x439e12=this['_getMateri'+'alAssetUrl'](_0x2cc943);_0x439e12&&(_0x1d420c=this['system']['app']['assets']['getByUrl'](_0x439e12));}}return _0x1d420c;}['_getMateri'+'alAssetUrl'](_0x487684){if(!this['asset'])return null;const _0x427a47=this['system']['app']['assets']['get'](this['asset']);return _0x427a47?_0x427a47['getAbsolut'+'eUrl'](_0x487684):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x3e2ed4,_0x154d6e,_0x14752e){const _0x166855=this['system']['app']['assets'];_0x3e2ed4&&(_0x3e2ed4['resource']?(_0x154d6e['material']=_0x3e2ed4['resource'],this['_setMateri'+'alEvent'](_0x14752e,'remove',_0x3e2ed4['id'],function(){_0x154d6e['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x14752e,'load',_0x3e2ed4['id'],function(_0x35f04e){_0x154d6e['material']=_0x35f04e['resource'],this['_setMateri'+'alEvent'](_0x14752e,'remove',_0x3e2ed4['id'],function(){_0x154d6e['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x166855['load'](_0x3e2ed4)));}['onEnable'](){var _0xb5978d;const _0x467dab=this['system']['app'],_0x58287c=_0x467dab['scene'],_0x1b2353=_0x58287c==null?void(-0x26e7+0x3*-0x28e+0x2e91):_0x58287c['layers'];this['_evtLayers'+'Changed']=_0x58287c['on']('set:layers',this['onLayersCh'+'anged'],this),_0x1b2353&&(this['_evtLayerA'+'dded']=_0x1b2353['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x1b2353['on']('remove',this['onLayerRem'+'oved'],this));const _0x2a35f7=this['_type']==='asset';let _0x2bdc26;if(this['_model']?this['addModelTo'+'Layers']():_0x2a35f7&&this['_asset']&&(_0x2bdc26=_0x467dab['assets']['get'](this['_asset']),_0x2bdc26&&_0x2bdc26['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x2bdc26)),this['_materialA'+'sset']&&(_0x2bdc26=_0x467dab['assets']['get'](this['_materialA'+'sset']),_0x2bdc26&&_0x2bdc26['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x2bdc26)),_0x2a35f7&&this['_mapping']){for(const _0x3dbab4 in this['_mapping'])this['_mapping'][_0x3dbab4]&&(_0x2bdc26=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x3dbab4]),_0x2bdc26&&!_0x2bdc26['resource']&&_0x467dab['assets']['load'](_0x2bdc26));}this['_batchGrou'+'pId']>=-0x2*-0x3b9+-0x901+-0x7*-0x39&&((_0xb5978d=_0x467dab['batcher'])==null||_0xb5978d['insert'](rt['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x37da79,_0x1c517b,_0x5ee242,_0x200d37;const _0x4e2942=this['system']['app'],_0x57cbbd=_0x4e2942['scene']['layers'];(_0x37da79=this['_evtLayers'+'Changed'])==null||_0x37da79['off'](),this['_evtLayers'+'Changed']=null,_0x57cbbd&&((_0x1c517b=this['_evtLayerA'+'dded'])==null||_0x1c517b['off'](),this['_evtLayerA'+'dded']=null,(_0x5ee242=this['_evtLayerR'+'emoved'])==null||_0x5ee242['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x18c1+0xf24+-0x27e5&&((_0x200d37=_0x4e2942['batcher'])==null||_0x200d37['remove'](rt['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x181b20=this['_model']['meshInstan'+'ces'];for(let _0x149144=-0x1c0f+-0x1*0x1f2e+0x3*0x13bf,_0x13b577=_0x181b20['length'];_0x149144<_0x13b577;_0x149144++)_0x181b20[_0x149144]['visible']=!(-0x3*-0x691+-0x455*-0x7+-0x3205);}}['show'](){if(this['_model']){const _0x438f7f=this['_model']['meshInstan'+'ces'];for(let _0x3e4a93=-0x192d+0xb*0x1ec+0x409*0x1,_0x3766a8=_0x438f7f['length'];_0x3e4a93<_0x3766a8;_0x3e4a93++)_0x438f7f[_0x3e4a93]['visible']=!(-0x3ad*0x1+0x2d8+0xd5);}}['_bindMater'+'ialAsset'](_0x4da82b){if(_0x4da82b['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x4da82b['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x4da82b['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x4da82b['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x4da82b['resource'])this['_onMateria'+'lAssetLoad'](_0x4da82b);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x4da82b);}}['_unbindMat'+'erialAsset'](_0x1263d7){_0x1263d7['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x1263d7['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x1263d7['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x1263d7['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x422cb9){this['system']['app']['assets']['off']('add:'+_0x422cb9['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x422cb9['id']&&this['_bindMater'+'ialAsset'](_0x422cb9);}['_onMateria'+'lAssetLoad'](_0x58f9b8){this['_setMateri'+'al'](_0x58f9b8['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x10c0a1){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x27c259){this['_onMateria'+'lAssetUnlo'+'ad'](_0x27c259);}['_onMateria'+'lAssetChan'+'ge'](_0x430a20){}['_bindModel'+'Asset'](_0x2e2ec0){if(this['_unbindMod'+'elAsset'](_0x2e2ec0),_0x2e2ec0['on']('load',this['_onModelAs'+'setLoad'],this),_0x2e2ec0['on']('unload',this['_onModelAs'+'setUnload'],this),_0x2e2ec0['on']('change',this['_onModelAs'+'setChange'],this),_0x2e2ec0['on']('remove',this['_onModelAs'+'setRemove'],this),_0x2e2ec0['resource'])this['_onModelAs'+'setLoad'](_0x2e2ec0);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x2e2ec0);}}['_unbindMod'+'elAsset'](_0x51c218){_0x51c218['off']('load',this['_onModelAs'+'setLoad'],this),_0x51c218['off']('unload',this['_onModelAs'+'setUnload'],this),_0x51c218['off']('change',this['_onModelAs'+'setChange'],this),_0x51c218['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x525a7f){this['system']['app']['assets']['off']('add:'+_0x525a7f['id'],this['_onModelAs'+'setAdded'],this),_0x525a7f['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x525a7f);}['_onModelAs'+'setLoad'](_0x2a30ce){this['model']=_0x2a30ce['resource']['clone'](),this['_clonedMod'+'el']=!(0x1d2f+-0x782*0x2+-0xe2b);}['_onModelAs'+'setUnload'](_0x95ed28){this['model']=null;}['_onModelAs'+'setChange'](_0x1116ed,_0x458ae4,_0x3df068,_0x525ba8){_0x458ae4==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x247761){this['model']=null;}['_setMateri'+'al'](_0x45c416){if(this['_material']===_0x45c416)return;this['_material']=_0x45c416;const _0x3ec36b=this['_model'];if(_0x3ec36b&&this['_type']!=='asset'){const _0x46f585=_0x3ec36b['meshInstan'+'ces'];for(let _0x2bace5=-0x3*-0x56+0x5c*-0x61+0x21da,_0xad761c=_0x46f585['length'];_0x2bace5<_0xad761c;_0x2bace5++)_0x46f585[_0x2bace5]['material']=_0x45c416;}}}class iI{constructor(){this['enabled']=!(0x12ef+-0x5d0+-0xd1f*0x1);}}const fx=['enabled'];class rI extends Qe{constructor(_0x23ed9a){super(_0x23ed9a),this['id']='model',this['ComponentT'+'ype']=ux,this['DataType']=iI,this['schema']=fx,this['defaultMat'+'erial']=cl(_0x23ed9a['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x4be355,_0x366aa7,_0x56b796){_0x56b796=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x366aa7['batchGroup'+'Id']===null||_0x366aa7['batchGroup'+'Id']===void(-0x12ba+-0x1*0x1a23+0x2cdd))&&(_0x366aa7['batchGroup'+'Id']=-(0x2c1+-0x16b*-0x2+-0xb*0x82)),_0x366aa7['layers']&&_0x366aa7['layers']['length']&&(_0x366aa7['layers']=_0x366aa7['layers']['slice'](0x1*-0xb1b+0x26b2+-0x1b97));for(let _0x1a7b3b=-0x436+-0x1504*-0x1+-0x3*0x59a;_0x1a7b3b<_0x56b796['length'];_0x1a7b3b++)_0x366aa7['hasOwnProp'+'erty'](_0x56b796[_0x1a7b3b])&&(_0x4be355[_0x56b796[_0x1a7b3b]]=_0x366aa7[_0x56b796[_0x1a7b3b]]);_0x366aa7['aabbCenter']&&_0x366aa7['aabbHalfEx'+'tents']&&(_0x4be355['customAabb']=new ve(new A(_0x366aa7['aabbCenter']),new A(_0x366aa7['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x4be355,_0x366aa7,['enabled']);}['cloneCompo'+'nent'](_0x4f04d5,_0x2f4304){const _0x3f9bcd={'type':_0x4f04d5['model']['type'],'asset':_0x4f04d5['model']['asset'],'castShadows':_0x4f04d5['model']['castShadow'+'s'],'receiveShadows':_0x4f04d5['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x4f04d5['model']['castShadow'+'sLightmap'],'lightmapped':_0x4f04d5['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x4f04d5['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x4f04d5['model']['isStatic'],'enabled':_0x4f04d5['model']['enabled'],'layers':_0x4f04d5['model']['layers'],'batchGroupId':_0x4f04d5['model']['batchGroup'+'Id'],'mapping':Eh({},_0x4f04d5['model']['mapping'])};let _0x21b54c=_0x4f04d5['model']['materialAs'+'set'];!(_0x21b54c instanceof he)&&_0x21b54c!=null&&(_0x21b54c=this['app']['assets']['get'](_0x21b54c));const _0xdedeca=_0x4f04d5['model']['material'];(!_0xdedeca||_0xdedeca===this['defaultMat'+'erial']||!_0x21b54c||_0xdedeca===_0x21b54c['resource'])&&(_0x3f9bcd['materialAs'+'set']=_0x21b54c);const _0x2da5e4=this['addCompone'+'nt'](_0x2f4304,_0x3f9bcd);if(_0x4f04d5['model']['model']&&_0x4f04d5['model']['type']==='asset'&&!_0x4f04d5['model']['asset']&&(_0x2da5e4['model']=_0x4f04d5['model']['model']['clone'](),_0x2da5e4['_clonedMod'+'el']=!(-0x1f81+0xc31+-0x4d4*-0x4)),_0x3f9bcd['materialAs'+'set']||(_0x2da5e4['material']=_0xdedeca),_0x4f04d5['model']['model']){const _0x13ddd6=_0x4f04d5['model']['model']['meshInstan'+'ces'],_0x5c6d32=_0x2da5e4['model']['meshInstan'+'ces'];for(let _0x2764e9=-0x11f7+0x4*-0x608+0x2a17;_0x2764e9<_0x13ddd6['length'];_0x2764e9++)_0x5c6d32[_0x2764e9]['mask']=_0x13ddd6[_0x2764e9]['mask'],_0x5c6d32[_0x2764e9]['material']=_0x13ddd6[_0x2764e9]['material'],_0x5c6d32[_0x2764e9]['layer']=_0x13ddd6[_0x2764e9]['layer'],_0x5c6d32[_0x2764e9]['receiveSha'+'dow']=_0x13ddd6[_0x2764e9]['receiveSha'+'dow'];}return _0x4f04d5['model']['customAabb']&&(_0x2da5e4['customAabb']=_0x4f04d5['model']['customAabb']['clone']()),_0x2da5e4;}['onRemove'](_0x4a2e75,_0x35d581){_0x35d581['onRemove']();}}pe['_buildAcce'+'ssors'](ux['prototype'],fx);const nI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],aI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],oI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],sh=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let $n;class lI extends pe{constructor(_0x2cc1d0,_0x1bbfca){super(_0x2cc1d0,_0x1bbfca),c(this,'_requested'+'Depth',!(0x10fd+0x1*0x9d5+-0x55d*0x5)),c(this,'_drawOrder',-0xe75*0x1+-0x2*0xd48+0x1*0x2905),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),nI['forEach'](_0x231e35=>{this['on']('set_'+_0x231e35,this['onSetSimpl'+'eProperty'],this);}),aI['forEach'](_0x5d3522=>{this['on']('set_'+_0x5d3522,this['onSetCompl'+'exProperty'],this);}),oI['forEach'](_0x347b69=>{this['on']('set_'+_0x347b69,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0xad2084=this['system']['store'][this['entity']['getGuid']()];return _0xad2084?_0xad2084['data']:null;}set['enabled'](_0x43964f){this['_setValue']('enabled',_0x43964f);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x2d3614){this['_setValue']('autoPlay',_0x2d3614);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x513cef){this['_setValue']('numParticl'+'es',_0x513cef);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x19edea){this['_setValue']('lifetime',_0x19edea);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x465991){this['_setValue']('rate',_0x465991);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x1cd65f){this['_setValue']('rate2',_0x1cd65f);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x4bc6c2){this['_setValue']('startAngle',_0x4bc6c2);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x3e7c21){this['_setValue']('startAngle'+'2',_0x3e7c21);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x3698d5){this['_setValue']('loop',_0x3698d5);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x54f961){this['_setValue']('preWarm',_0x54f961);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x450ec2){this['_setValue']('lighting',_0x450ec2);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x526d1d){this['_setValue']('halfLamber'+'t',_0x526d1d);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0xcb5ebc){this['_setValue']('intensity',_0xcb5ebc);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x3a34fd){this['_setValue']('depthWrite',_0x3a34fd);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x511b40){this['_setValue']('noFog',_0x511b40);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x4c825f){this['_setValue']('depthSofte'+'ning',_0x4c825f);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0xd4f037){this['_setValue']('sort',_0xd4f037);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x548059){this['_setValue']('blendType',_0x548059);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x463918){this['_setValue']('stretch',_0x463918);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x2ba3bc){this['_setValue']('alignToMot'+'ion',_0x2ba3bc);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x2a9f09){this['_setValue']('emitterSha'+'pe',_0x2a9f09);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x591479){this['_setValue']('emitterExt'+'ents',_0x591479);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x6a4464){this['_setValue']('emitterExt'+'entsInner',_0x6a4464);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x57a0bf){this['_setValue']('emitterRad'+'ius',_0x57a0bf);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x4e4f73){this['_setValue']('emitterRad'+'iusInner',_0x4e4f73);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x187dd7){this['_setValue']('initialVel'+'ocity',_0x187dd7);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x52e138){this['_setValue']('wrap',_0x52e138);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x5235a8){this['_setValue']('wrapBounds',_0x5235a8);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x557c8d){this['_setValue']('localSpace',_0x557c8d);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x21ca5f){this['_setValue']('screenSpac'+'e',_0x21ca5f);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x4e5d0c){this['_setValue']('colorMapAs'+'set',_0x4e5d0c);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x2d5477){this['_setValue']('normalMapA'+'sset',_0x2d5477);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x3a5431){this['_setValue']('mesh',_0x3a5431);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x3b7310){this['_setValue']('meshAsset',_0x3b7310);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x3cae1b){this['_setValue']('renderAsse'+'t',_0x3cae1b);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x1c8963){this['_setValue']('orientatio'+'n',_0x1c8963);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x2bcc53){this['_setValue']('particleNo'+'rmal',_0x2bcc53);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x5e6adc){this['_setValue']('localVeloc'+'ityGraph',_0x5e6adc);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x5e21ba){this['_setValue']('localVeloc'+'ityGraph2',_0x5e21ba);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x4b8b74){this['_setValue']('velocityGr'+'aph',_0x4b8b74);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x5819ae){this['_setValue']('velocityGr'+'aph2',_0x5819ae);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x122494){this['_setValue']('rotationSp'+'eedGraph',_0x122494);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x2e9a6c){this['_setValue']('rotationSp'+'eedGraph2',_0x2e9a6c);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x1c87b1){this['_setValue']('radialSpee'+'dGraph',_0x1c87b1);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x14d356){this['_setValue']('radialSpee'+'dGraph2',_0x14d356);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x3dfbd7){this['_setValue']('scaleGraph',_0x3dfbd7);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x21d845){this['_setValue']('scaleGraph'+'2',_0x21d845);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x185eba){this['_setValue']('colorGraph',_0x185eba);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x5c82ea){this['_setValue']('colorGraph'+'2',_0x5c82ea);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x2cb631){this['_setValue']('alphaGraph',_0x2cb631);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x1b2ab7){this['_setValue']('alphaGraph'+'2',_0x1b2ab7);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x13270b){this['_setValue']('colorMap',_0x13270b);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x41267d){this['_setValue']('normalMap',_0x41267d);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x48a0db){this['_setValue']('animTilesX',_0x48a0db);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x4c880a){this['_setValue']('animTilesY',_0x4c880a);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0xf5db1d){this['_setValue']('animStartF'+'rame',_0xf5db1d);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0xd35e36){this['_setValue']('animNumFra'+'mes',_0xd35e36);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x4e297c){this['_setValue']('animNumAni'+'mations',_0x4e297c);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x28e930){this['_setValue']('animIndex',_0x28e930);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x1cca38){this['_setValue']('randomizeA'+'nimIndex',_0x1cca38);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x455271){this['_setValue']('animSpeed',_0x455271);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x5b01f9){this['_setValue']('animLoop',_0x5b01f9);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x1cd0d9){this['_setValue']('layers',_0x1cd0d9);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x202a9d){this['_drawOrder']=_0x202a9d,this['emitter']&&(this['emitter']['drawOrder']=_0x202a9d);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x2d29da,_0x459007){const _0x37219d=this['data'],_0x3a20cc=_0x37219d[_0x2d29da];_0x37219d[_0x2d29da]=_0x459007,this['fire']('set',_0x2d29da,_0x3a20cc,_0x459007);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x35b112=0x984+0x47*-0x68+0x9aa*0x2;_0x35b112<this['layers']['length'];_0x35b112++){const _0x390664=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x35b112]);_0x390664&&(_0x390664['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x390664);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x5c1954=0x2431+-0x4*-0x612+-0x3c79*0x1;_0x5c1954<this['layers']['length'];_0x5c1954++){const _0x5752fa=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5c1954]);_0x5752fa&&_0x5752fa['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x2a7c8f,_0x4122e4,_0x36248b){if(this['emitter']){for(let _0x33f4a3=0xd6d*-0x1+0x1*-0xc9f+0x1a0c;_0x33f4a3<_0x4122e4['length'];_0x33f4a3++){const _0x3d1e28=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4122e4[_0x33f4a3]);_0x3d1e28&&_0x3d1e28['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x4fb519=0x1195+-0x51d+-0x26*0x54;_0x4fb519<_0x36248b['length'];_0x4fb519++){const _0x1ce17b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x36248b[_0x4fb519]);_0x1ce17b&&_0x1ce17b['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x51bdf7,_0x5dcb57){this['addMeshIns'+'tanceToLay'+'ers'](),_0x51bdf7['off']('add',this['onLayerAdd'+'ed'],this),_0x51bdf7['off']('remove',this['onLayerRem'+'oved'],this),_0x5dcb57['on']('add',this['onLayerAdd'+'ed'],this),_0x5dcb57['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x34bacf){!this['emitter']||this['layers']['indexOf'](_0x34bacf['id'])<0x22*0x43+0x3*-0x6d+-0x79f*0x1||_0x34bacf['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x30d883){!this['emitter']||this['layers']['indexOf'](_0x30d883['id'])<0x2698+-0x1*0x2269+-0x42f||_0x30d883['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x55556e){if(_0x55556e['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x55556e['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x55556e['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x55556e['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x55556e['resource'])this['_onColorMa'+'pAssetLoad'](_0x55556e);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x55556e);}}['_unbindCol'+'orMapAsset'](_0x2b5470){_0x2b5470['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x2b5470['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x2b5470['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x2b5470['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x2f2d24){this['colorMap']=_0x2f2d24['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x472b14){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0xee7e28){this['_onColorMa'+'pAssetUnlo'+'ad'](_0xee7e28);}['_onColorMa'+'pAssetChan'+'ge'](_0x3ec514){}['onSetColor'+'MapAsset'](_0x41121b,_0x4fc973,_0x25034f){const _0x6ea532=this['system']['app']['assets'];if(_0x4fc973){const _0x2ad8bf=_0x6ea532['get'](_0x4fc973);_0x2ad8bf&&this['_unbindCol'+'orMapAsset'](_0x2ad8bf);}if(_0x25034f){_0x25034f instanceof he&&(this['data']['colorMapAs'+'set']=_0x25034f['id'],_0x25034f=_0x25034f['id']);const _0x3ff5b5=_0x6ea532['get'](_0x25034f);_0x3ff5b5?this['_bindColor'+'MapAsset'](_0x3ff5b5):_0x6ea532['once']('add:'+_0x25034f,_0x56881c=>{this['_bindColor'+'MapAsset'](_0x56881c);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x40b47e){if(_0x40b47e['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x40b47e['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x40b47e['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x40b47e['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x40b47e['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x40b47e);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x40b47e);}}['_unbindNor'+'malMapAsse'+'t'](_0x4a0b99){_0x4a0b99['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x4a0b99['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x4a0b99['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x4a0b99['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x32844e){this['normalMap']=_0x32844e['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x4a90ab){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x131c55){this['_onNormalM'+'apAssetUnl'+'oad'](_0x131c55);}['_onNormalM'+'apAssetCha'+'nge'](_0x28c8c6){}['onSetNorma'+'lMapAsset'](_0x59223f,_0x2896db,_0x37c6c2){const _0x3e83d6=this['system']['app']['assets'];if(_0x2896db){const _0x306c0e=_0x3e83d6['get'](_0x2896db);_0x306c0e&&this['_unbindNor'+'malMapAsse'+'t'](_0x306c0e);}if(_0x37c6c2){_0x37c6c2 instanceof he&&(this['data']['normalMapA'+'sset']=_0x37c6c2['id'],_0x37c6c2=_0x37c6c2['id']);const _0x8d9066=_0x3e83d6['get'](_0x37c6c2);_0x8d9066?this['_bindNorma'+'lMapAsset'](_0x8d9066):_0x3e83d6['once']('add:'+_0x37c6c2,_0x199891=>{this['_bindNorma'+'lMapAsset'](_0x199891);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x1e1256){if(_0x1e1256['on']('load',this['_onMeshAss'+'etLoad'],this),_0x1e1256['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x1e1256['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x1e1256['on']('change',this['_onMeshAss'+'etChange'],this),_0x1e1256['resource'])this['_onMeshAss'+'etLoad'](_0x1e1256);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x1e1256);}}['_unbindMes'+'hAsset'](_0x2d1a93){_0x2d1a93['off']('load',this['_onMeshAss'+'etLoad'],this),_0x2d1a93['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x2d1a93['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x2d1a93['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x14b356){this['_onMeshCha'+'nged'](_0x14b356['resource']);}['_onMeshAss'+'etUnload'](_0x278666){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x593594){this['_onMeshAss'+'etUnload'](_0x593594);}['_onMeshAss'+'etChange'](_0x12b7da){}['onSetMeshA'+'sset'](_0x59669,_0x5da4c8,_0x45cace){const _0x142bf7=this['system']['app']['assets'];if(_0x5da4c8){const _0x52bc95=_0x142bf7['get'](_0x5da4c8);_0x52bc95&&this['_unbindMes'+'hAsset'](_0x52bc95);}if(_0x45cace){_0x45cace instanceof he&&(this['data']['meshAsset']=_0x45cace['id'],_0x45cace=_0x45cace['id']);const _0x273d50=_0x142bf7['get'](_0x45cace);_0x273d50&&this['_bindMeshA'+'sset'](_0x273d50);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x541fd8,_0x1d8098,_0x47db13){!_0x47db13||_0x47db13 instanceof he||typeof _0x47db13=='number'?this['meshAsset']=_0x47db13:this['_onMeshCha'+'nged'](_0x47db13);}['_onMeshCha'+'nged'](_0x2d1479){_0x2d1479&&!(_0x2d1479 instanceof ke)&&(_0x2d1479['meshInstan'+'ces'][0x1479+0x1440+-0x19*0x1a1]?_0x2d1479=_0x2d1479['meshInstan'+'ces'][0x261d+-0x11cc+-0x1451]['mesh']:_0x2d1479=null),this['data']['mesh']=_0x2d1479,this['emitter']&&(this['emitter']['mesh']=_0x2d1479,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x4cf2a2,_0x22d3e6,_0x1ff6ad){const _0x3ea2ac=this['system']['app']['assets'];if(_0x22d3e6){const _0x1302c2=_0x3ea2ac['get'](_0x22d3e6);_0x1302c2&&this['_unbindRen'+'derAsset'](_0x1302c2);}if(_0x1ff6ad){_0x1ff6ad instanceof he&&(this['data']['renderAsse'+'t']=_0x1ff6ad['id'],_0x1ff6ad=_0x1ff6ad['id']);const _0x5985e9=_0x3ea2ac['get'](_0x1ff6ad);_0x5985e9&&this['_bindRende'+'rAsset'](_0x5985e9);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x29ba20){if(_0x29ba20['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x29ba20['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x29ba20['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x29ba20['resource'])this['_onRenderA'+'ssetLoad'](_0x29ba20);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x29ba20);}}['_unbindRen'+'derAsset'](_0x5594ab){var _0x472db5;_0x5594ab['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x5594ab['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x5594ab['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x472db5=this['_evtSetMes'+'hes'])==null||_0x472db5['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x15d8b9){this['_onRenderC'+'hanged'](_0x15d8b9['resource']);}['_onRenderA'+'ssetUnload'](_0x33a402){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x562c90){this['_onRenderA'+'ssetUnload'](_0x562c90);}['_onRenderC'+'hanged'](_0x344d50){var _0x3664d8;if(!_0x344d50){this['_onMeshCha'+'nged'](null);return;}(_0x3664d8=this['_evtSetMes'+'hes'])==null||_0x3664d8['off'](),this['_evtSetMes'+'hes']=_0x344d50['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x344d50['meshes']&&this['_onRenderS'+'etMeshes'](_0x344d50['meshes']);}['_onRenderS'+'etMeshes'](_0x13a963){this['_onMeshCha'+'nged'](_0x13a963&&_0x13a963[-0xda*0x5+-0x144d*0x1+0x188f]);}['onSetLoop'](_0x1a56b6,_0x98f727,_0x13c2c3){this['emitter']&&(this['emitter'][_0x1a56b6]=_0x13c2c3,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x557b40,_0xc6b3df,_0x53e191){this['emitter']&&(this['emitter'][_0x557b40]=_0x53e191,this['emitter']['material']['blendType']=_0x53e191,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||($n||($n=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](es)),$n&&($n['incrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x475*0x1+-0x1*0x74b+0xbc0)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&$n&&($n['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x1618+0x21*0x59+-0x2190));}['onSetDepth'+'Softening'](_0x24aad4,_0x525bae,_0x2fe0cb){_0x525bae!==_0x2fe0cb&&(_0x2fe0cb?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x24aad4]=_0x2fe0cb)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x24aad4]=_0x2fe0cb)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x29f3b5,_0x570c17,_0x5f5864){this['emitter']&&(this['emitter'][_0x29f3b5]=_0x5f5864,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x1578e8,_0x45aa2a,_0x317fe6){this['emitter']&&(this['emitter'][_0x1578e8]=_0x317fe6,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x409ebb,_0x12b0a1,_0x556106){this['emitter']&&(this['emitter'][_0x409ebb]=_0x556106,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x59c35a=this['system']['app']['scene'],_0x131b0d=_0x59c35a['layers'],_0xb5da1=this['data'];for(let _0x54fc8d=0x11*-0x4f+0x1*-0x2501+0x2a40,_0x6b16ff=sh['length'];_0x54fc8d<_0x6b16ff;_0x54fc8d++){let _0x5a1e95=_0xb5da1[sh[_0x54fc8d]];if(_0x5a1e95){if(!(_0x5a1e95 instanceof he)){if(parseInt(_0x5a1e95,0x1371+0x3*-0x8f9+0x784)>=0xfca+-0xb21+0x1*-0x4a9)_0x5a1e95=this['system']['app']['assets']['get'](_0x5a1e95);else continue;}_0x5a1e95&&!_0x5a1e95['resource']&&this['system']['app']['assets']['load'](_0x5a1e95);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x3c2a55=_0xb5da1['mesh'];_0x3c2a55 instanceof ke||(_0x3c2a55=null),this['emitter']=new u1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0xb5da1['numParticl'+'es'],'emitterExtents':_0xb5da1['emitterExt'+'ents'],'emitterExtentsInner':_0xb5da1['emitterExt'+'entsInner'],'emitterRadius':_0xb5da1['emitterRad'+'ius'],'emitterRadiusInner':_0xb5da1['emitterRad'+'iusInner'],'emitterShape':_0xb5da1['emitterSha'+'pe'],'initialVelocity':_0xb5da1['initialVel'+'ocity'],'wrap':_0xb5da1['wrap'],'localSpace':_0xb5da1['localSpace'],'screenSpace':_0xb5da1['screenSpac'+'e'],'wrapBounds':_0xb5da1['wrapBounds'],'lifetime':_0xb5da1['lifetime'],'rate':_0xb5da1['rate'],'rate2':_0xb5da1['rate2'],'orientation':_0xb5da1['orientatio'+'n'],'particleNormal':_0xb5da1['particleNo'+'rmal'],'animTilesX':_0xb5da1['animTilesX'],'animTilesY':_0xb5da1['animTilesY'],'animStartFrame':_0xb5da1['animStartF'+'rame'],'animNumFrames':_0xb5da1['animNumFra'+'mes'],'animNumAnimations':_0xb5da1['animNumAni'+'mations'],'animIndex':_0xb5da1['animIndex'],'randomizeAnimIndex':_0xb5da1['randomizeA'+'nimIndex'],'animSpeed':_0xb5da1['animSpeed'],'animLoop':_0xb5da1['animLoop'],'startAngle':_0xb5da1['startAngle'],'startAngle2':_0xb5da1['startAngle'+'2'],'scaleGraph':_0xb5da1['scaleGraph'],'scaleGraph2':_0xb5da1['scaleGraph'+'2'],'colorGraph':_0xb5da1['colorGraph'],'colorGraph2':_0xb5da1['colorGraph'+'2'],'alphaGraph':_0xb5da1['alphaGraph'],'alphaGraph2':_0xb5da1['alphaGraph'+'2'],'localVelocityGraph':_0xb5da1['localVeloc'+'ityGraph'],'localVelocityGraph2':_0xb5da1['localVeloc'+'ityGraph2'],'velocityGraph':_0xb5da1['velocityGr'+'aph'],'velocityGraph2':_0xb5da1['velocityGr'+'aph2'],'rotationSpeedGraph':_0xb5da1['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0xb5da1['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0xb5da1['radialSpee'+'dGraph'],'radialSpeedGraph2':_0xb5da1['radialSpee'+'dGraph2'],'colorMap':_0xb5da1['colorMap'],'normalMap':_0xb5da1['normalMap'],'loop':_0xb5da1['loop'],'preWarm':_0xb5da1['preWarm'],'sort':_0xb5da1['sort'],'stretch':_0xb5da1['stretch'],'alignToMotion':_0xb5da1['alignToMot'+'ion'],'lighting':_0xb5da1['lighting'],'halfLambert':_0xb5da1['halfLamber'+'t'],'intensity':_0xb5da1['intensity'],'depthSoftening':_0xb5da1['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x3c2a55,'depthWrite':_0xb5da1['depthWrite'],'noFog':_0xb5da1['noFog'],'node':this['entity'],'blendType':_0xb5da1['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0xb5da1['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x2173+0xc71+-0x1503*-0x1));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x59c35a['on']('set:layers',this['onLayersCh'+'anged'],this),_0x131b0d&&(this['_evtLayerA'+'dded']=_0x131b0d['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x131b0d['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0xb5da1['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x51f1c4,_0x9af6bf,_0x422df2;const _0x1fc6b6=this['system']['app']['scene']['layers'];(_0x51f1c4=this['_evtLayers'+'Changed'])==null||_0x51f1c4['off'](),this['_evtLayers'+'Changed']=null,_0x1fc6b6&&((_0x9af6bf=this['_evtLayerA'+'dded'])==null||_0x9af6bf['off'](),this['_evtLayerA'+'dded']=null,(_0x422df2=this['_evtLayerR'+'emoved'])==null||_0x422df2['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0x9d*0xb+-0x423+-0xae3*-0x1)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x3c6244=0x208b+0x20f*-0x11+0x274;_0x3c6244<sh['length'];_0x3c6244++){const _0x5d1f93=sh[_0x3c6244];this['data'][_0x5d1f93]&&(this[_0x5d1f93]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0x1f*0x39+-0x1942+0x125c),this['emitter']['resetTime'](),this['emitter']['addTime'](0x3*-0x7a7+-0x14*-0x189+-0x3*0x295,!(-0x417+-0x1a1c+0x1e33)));}['pause'](){this['data']['paused']=!(0x73d*-0x3+-0xf9*0x1b+-0x17fd*-0x2);}['unpause'](){this['data']['paused']=!(-0x7c*0x4+-0x321*0x4+0xe75*0x1);}['play'](){this['data']['paused']=!(-0x127e+0x1656+-0x3d7),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(0x2268+0x22b1+-0x4519),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x264a+-0x101*0x7+-0x1*0x1f42):this['emitter']&&this['emitter']['loop']?!(0xf8*0x22+-0x59*-0x1d+0x2b05*-0x1):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x1782b8}=this;_0x1782b8&&!_0x1782b8['inTools']&&(_0x1782b8['inTools']=!(0x1acf+0xf42+-0x2a11),this['rebuild']());}['rebuild'](){const _0x3a18be=this['enabled'];this['enabled']=!(0x1*0x22cd+-0x2567*0x1+0x29b),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x3a18be;}}class hI{constructor(){this['numParticl'+'es']=0x1f1a+-0x2*0x5cb+-0x1383,this['rate']=0xe12+-0x8ff*-0x1+0x2e2*-0x8,this['rate2']=null,this['startAngle']=-0x2*0xc37+0x3*-0x6a1+0x2c51,this['startAngle'+'2']=null,this['lifetime']=0x103*-0x7+0xd*0xed+0x6*-0xcb,this['emitterExt'+'ents']=new A(),this['emitterExt'+'entsInner']=new A(),this['emitterRad'+'ius']=-0x11+-0x218f+-0x2*-0x10d0,this['emitterRad'+'iusInner']=-0x1f80+-0x15*-0xe2+0xcf6,this['emitterSha'+'pe']=qs,this['initialVel'+'ocity']=-0xd06+-0xdf6+-0x4*-0x6bf,this['wrap']=!(-0x1019*-0x1+-0x1f5d+-0x3*-0x517),this['wrapBounds']=new A(),this['localSpace']=!(-0x2279+-0x2c*-0x40+0x177a),this['screenSpac'+'e']=!(0xd65+0x2516*-0x1+0x12*0x151),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x82e+-0x4*-0x49+-0x4a9*0x2),this['preWarm']=!(-0x1bcf*-0x1+-0x2*-0x10ae+-0x3d2a),this['sort']=-0x197*-0x1+0xf78+0x1*-0x110f,this['mode']=u0,this['scene']=null,this['lighting']=!(-0x1*-0x4d5+0x215d+-0x2631*0x1),this['halfLamber'+'t']=!(-0x3b5+-0x1*-0x1958+-0x27*0x8e),this['intensity']=-0x370+0x1289+-0xf18,this['stretch']=-0x9*0x40f+0x535*0x7+0x14,this['alignToMot'+'ion']=!(-0x1cf3+-0xd0c+0x2a00),this['depthSofte'+'ning']=0x482*-0x4+-0x1fc4+0x31cc,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x3*-0xac5+0xd7*0x11+-0x51*-0x39),this['noFog']=!(-0x1720+-0x1da1+0x34c2),this['orientatio'+'n']=$h,this['particleNo'+'rmal']=new A(-0x628+-0x1afe+0x2126,0x11af+-0x16f7*-0x1+0x1*-0x28a5,0x267+0x419*-0x2+0x1*0x5cb),this['animTilesX']=-0x26db+-0x7a6+0x2e82,this['animTilesY']=-0x3*-0x40f+0x1c15+0x2af*-0xf,this['animStartF'+'rame']=0x1b4e+0x2226+0x8a*-0x72,this['animNumFra'+'mes']=-0x6c4*-0x3+-0x2f*-0x25+0x2*-0xd8b,this['animNumAni'+'mations']=0x22f9+-0x26cb+0xb*0x59,this['animIndex']=0x16f*-0xe+-0x13a5+0x27b7,this['randomizeA'+'nimIndex']=!(-0x191a+0x1*0x1357+0x5c4),this['animSpeed']=0x2c+-0xca+0x9f,this['animLoop']=!(0xf6b*0x2+-0x1893+-0x643),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Gt,this['enabled']=!(0x1751+-0x24b*-0xd+-0x3520),this['paused']=!(0x7*0x3c3+-0x1996+-0x5f*0x2),this['autoPlay']=!(-0x1ab4+0x2*-0x1107+0xe*0x457),this['layers']=[zi];}}const cI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class dI extends Qe{constructor(_0x90a592){super(_0x90a592),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=lI,this['DataType']=hI,this['schema']=cI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x399da1,_0x4a59d7,_0x4ea100){const _0x1371a9={};_0x4ea100=[];const _0x2d4195=this['propertyTy'+'pes'];(_0x4a59d7['mesh']instanceof he||typeof _0x4a59d7['mesh']=='number')&&(_0x4a59d7['meshAsset']=_0x4a59d7['mesh'],delete _0x4a59d7['mesh']);for(const _0x48db40 in _0x4a59d7){if(_0x4a59d7['hasOwnProp'+'erty'](_0x48db40)&&(_0x4ea100['push'](_0x48db40),_0x1371a9[_0x48db40]=_0x4a59d7[_0x48db40]),_0x2d4195[_0x48db40]==='vec3')Array['isArray'](_0x1371a9[_0x48db40])&&(_0x1371a9[_0x48db40]=new A(_0x1371a9[_0x48db40][-0x2234+0x1*-0x144e+0x3682],_0x1371a9[_0x48db40][-0x1948*0x1+-0x1409+0x2d52],_0x1371a9[_0x48db40][0x1696+-0x356*-0x7+-0x1*0x2dee]));else{if(_0x2d4195[_0x48db40]==='curve'){if(!(_0x1371a9[_0x48db40]instanceof Ls)){const _0x57f5b0=_0x1371a9[_0x48db40]['type'];_0x1371a9[_0x48db40]=new Ls(_0x1371a9[_0x48db40]['keys']),_0x1371a9[_0x48db40]['type']=_0x57f5b0;}}else{if(_0x2d4195[_0x48db40]==='curveset'&&!(_0x1371a9[_0x48db40]instanceof Yr)){const _0x14fdc7=_0x1371a9[_0x48db40]['type'];_0x1371a9[_0x48db40]=new Yr(_0x1371a9[_0x48db40]['keys']),_0x1371a9[_0x48db40]['type']=_0x14fdc7;}}}_0x1371a9['layers']&&Array['isArray'](_0x1371a9['layers'])&&(_0x1371a9['layers']=_0x1371a9['layers']['slice'](0x11cf+-0xc7*0x1+-0x1108));}super['initialize'+'ComponentD'+'ata'](_0x399da1,_0x1371a9,_0x4ea100);}['cloneCompo'+'nent'](_0x5a3a92,_0x305f43){const _0x489977=_0x5a3a92['particlesy'+'stem']['data'],_0x48d629=this['schema'],_0x419cd8={};for(let _0x365261=0x1ce9*0x1+-0x1f3*0x13+-0xd*-0xa0,_0x14e915=_0x48d629['length'];_0x365261<_0x14e915;_0x365261++){const _0x4bf969=_0x48d629[_0x365261];let _0x487d55=_0x489977[_0x4bf969];_0x487d55 instanceof A||_0x487d55 instanceof Ls||_0x487d55 instanceof Yr?(_0x487d55=_0x487d55['clone'](),_0x419cd8[_0x4bf969]=_0x487d55):_0x4bf969==='layers'?_0x419cd8['layers']=_0x489977['layers']['slice'](-0x23d1+0x56*-0x5+0x257f):_0x487d55!=null&&(_0x419cd8[_0x4bf969]=_0x487d55);}return this['addCompone'+'nt'](_0x305f43,_0x419cd8);}['onUpdate'](_0x56a9c6){const _0x478f69=this['store'];let _0x80ca17;const _0x466a48=this['app']['stats']['particles'],_0xcda1dd=this['app']['scene']['layers'];for(let _0x3d8d02=0x1*-0x26ed+-0x1*0x12c9+0x1cdb*0x2;_0x3d8d02<_0xcda1dd['layerList']['length'];_0x3d8d02++)_0xcda1dd['layerList'][_0x3d8d02]['requiresLi'+'ghtCube']=!(-0x2*0x11ab+-0x20d5+-0x2216*-0x2);for(const _0x3580dd in _0x478f69)if(_0x478f69['hasOwnProp'+'erty'](_0x3580dd)){const _0x5c6055=_0x478f69[_0x3580dd],_0x4bbfb9=_0x5c6055['entity'],_0x2304cd=_0x5c6055['data'];if(_0x2304cd['enabled']&&_0x4bbfb9['enabled']){const _0x46c58c=_0x4bbfb9['particlesy'+'stem']['emitter'];if(!(_0x46c58c!=null&&_0x46c58c['meshInstan'+'ce']['visible']))continue;if(_0x46c58c['lighting']){const _0x47b252=_0x2304cd['layers'];for(let _0x18c13e=-0x2f*-0x83+-0x1d*-0x137+-0x8*0x769;_0x18c13e<_0x47b252['length'];_0x18c13e++){const _0x27aa56=_0xcda1dd['getLayerBy'+'Id'](_0x47b252[_0x18c13e]);_0x27aa56&&(_0x27aa56['requiresLi'+'ghtCube']=!(-0xf95+-0x1b*0xc5+0x34*0xb3));}}if(!_0x2304cd['paused']){if(_0x46c58c['simTime']+=_0x56a9c6,_0x46c58c['simTime']>_0x46c58c['fixedTimeS'+'tep']&&(_0x80ca17=Math['floor'](_0x46c58c['simTime']/_0x46c58c['fixedTimeS'+'tep']),_0x46c58c['simTime']-=_0x80ca17*_0x46c58c['fixedTimeS'+'tep']),_0x80ca17){_0x80ca17=Math['min'](_0x80ca17,_0x46c58c['maxSubStep'+'s']);for(let _0x1b6334=0xf29*-0x2+-0x1cf*-0x3+0x18e5;_0x1b6334<_0x80ca17;_0x1b6334++)_0x46c58c['addTime'](_0x46c58c['fixedTimeS'+'tep'],!(0x1333*0x2+0x1*-0x1591+-0x10d4));_0x466a48['_updatesPe'+'rFrame']+=_0x80ca17,_0x466a48['_frameTime']+=_0x46c58c['_addTimeTi'+'me'],_0x46c58c['_addTimeTi'+'me']=0x2100+-0x1c33+-0x4cd*0x1;}_0x46c58c['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x5986ed,_0x516820){_0x516820['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class uI extends qc{constructor(_0x30e4c4,_0xa54dc5){super(),this['skin']=_0x30e4c4,this['skinInstan'+'ce']=_0xa54dc5;}}const Ms=class Ms{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Ms['_skinInsta'+'nceCache']['forEach']((_0x540510,_0x3c40f6)=>{console['log'](_0x3c40f6['name']+':\x20Array('+_0x540510['length']+')');for(let _0x37c5f2=-0x5*-0x5af+0x1382+-0x2fed;_0x37c5f2<_0x540510['length'];_0x37c5f2++)console['log']('\x20\x20'+_0x37c5f2+(':\x20RefCount'+'\x20')+_0x540510[_0x37c5f2]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x514ebd,_0x381968,_0x291d20){let _0x6db63f=Ms['getCachedS'+'kinInstanc'+'e'](_0x514ebd,_0x381968);return _0x6db63f||(_0x6db63f=new hl(_0x514ebd),_0x6db63f['resolve'](_0x381968,_0x291d20),Ms['addCachedS'+'kinInstanc'+'e'](_0x514ebd,_0x381968,_0x6db63f)),_0x6db63f;}static['getCachedS'+'kinInstanc'+'e'](_0x3fe63e,_0x2d74f6){let _0x2156d9=null;const _0x20a627=Ms['_skinInsta'+'nceCache']['get'](_0x2d74f6);if(_0x20a627){const _0x39c443=_0x20a627['find'](_0x2b2747=>_0x2b2747['skin']===_0x3fe63e);_0x39c443&&(_0x39c443['incRefCoun'+'t'](),_0x2156d9=_0x39c443['skinInstan'+'ce']);}return _0x2156d9;}static['addCachedS'+'kinInstanc'+'e'](_0xea28bb,_0x16ccd0,_0x531bff){let _0x4862e6=Ms['_skinInsta'+'nceCache']['get'](_0x16ccd0);_0x4862e6||(_0x4862e6=[],Ms['_skinInsta'+'nceCache']['set'](_0x16ccd0,_0x4862e6));let _0x228c03=_0x4862e6['find'](_0x147667=>_0x147667['skin']===_0xea28bb);_0x228c03||(_0x228c03=new uI(_0xea28bb,_0x531bff),_0x4862e6['push'](_0x228c03)),_0x228c03['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x2dce06){if(_0x2dce06){const _0x4fbd3a=_0x2dce06['rootBone'];if(_0x4fbd3a){const _0x49a8b2=Ms['_skinInsta'+'nceCache']['get'](_0x4fbd3a);if(_0x49a8b2){const _0x3d1d70=_0x49a8b2['findIndex'](_0x27d4e4=>_0x27d4e4['skinInstan'+'ce']===_0x2dce06);if(_0x3d1d70>=0x2120+-0xdf*0xb+-0x178b){const _0x4b18ac=_0x49a8b2[_0x3d1d70];_0x4b18ac['decRefCoun'+'t'](),_0x4b18ac['refCount']===-0x21cc+-0x1ff2+0x41be&&(_0x49a8b2['splice'](_0x3d1d70,-0x1*0x1925+-0x2dd*-0xc+-0x936),_0x49a8b2['length']||Ms['_skinInsta'+'nceCache']['delete'](_0x4fbd3a),_0x2dce06&&(_0x2dce06['destroy'](),_0x4b18ac['skinInstan'+'ce']=null));}}}}}};c(Ms,'_skinInsta'+'nceCache',new Map());let $o=Ms;class qo{constructor(_0x41b37a,_0x4c4c53,_0x4af065,_0x48f6c6,_0xaf9a2){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x41b37a,this['parent']=_0x4c4c53,this['_scope']=_0xaf9a2,this['_registry']=_0x4af065,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x48f6c6['load'],this['_onAssetAd'+'d']=_0x48f6c6['add'],this['_onAssetRe'+'move']=_0x48f6c6['remove'],this['_onAssetUn'+'load']=_0x48f6c6['unload']);}set['id'](_0x3552ed){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x3552ed,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x4f1fef){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x4f1fef,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0xec3533,_0x84b66f,_0x204f86,_0x3184a2,_0x4c0ef1,_0x59bf6d,_0xee94d;this['id']&&((_0xec3533=this['_evtLoadBy'+'Id'])==null||_0xec3533['off'](),this['_evtLoadBy'+'Id']=null,(_0x84b66f=this['_evtAddByI'+'d'])==null||_0x84b66f['off'](),this['_evtAddByI'+'d']=null,(_0x204f86=this['_evtRemove'+'ById'])==null||_0x204f86['off'](),this['_evtRemove'+'ById']=null,(_0x3184a2=this['_evtUnload'+'ById'])==null||_0x3184a2['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x4c0ef1=this['_evtLoadBy'+'Url'])==null||_0x4c0ef1['off'](),this['_evtLoadBy'+'Url']=null,(_0x59bf6d=this['_evtAddByU'+'rl'])==null||_0x59bf6d['off'](),this['_evtAddByU'+'rl']=null,(_0xee94d=this['_evtRemove'+'ByUrl'])==null||_0xee94d['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x1cbe4e){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x1cbe4e);}['_onAdd'](_0x296fda){this['asset']=_0x296fda,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x296fda);}['_onRemove'](_0x254ea4){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x254ea4),this['asset']=null;}['_onUnload'](_0x5d633b){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x5d633b);}}class px extends pe{constructor(_0x77bbf8,_0x17692c){super(_0x77bbf8,_0x17692c),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(-0x1f73*-0x1+-0x26*0x35+-0x1*0x1795)),c(this,'_receiveSh'+'adows',!(0x8e4+-0x2*0x18a+-0x5d0)),c(this,'_castShado'+'wsLightmap',!(0x4d2*0x5+0xbd*0x2c+-0x1*0x3896)),c(this,'_lightmapp'+'ed',!(0x2405*-0x1+0x11f1+0x1*0x1215)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0x761+-0x2451+0x2bb3),c(this,'isStatic',!(0xae2*0x2+-0x74*0x3f+0x6c9)),c(this,'_batchGrou'+'pId',-(-0x1b1a+0x1f34+0x419*-0x1)),c(this,'_layers',[zi]),c(this,'_renderSty'+'le',bo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new qo('asset',this,_0x77bbf8['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x77bbf8['defaultMat'+'erial'],_0x17692c['on']('remove',this['onRemoveCh'+'ild'],this),_0x17692c['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x17692c['on']('insert',this['onInsertCh'+'ild'],this),_0x17692c['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x5addd5){this['_renderSty'+'le']!==_0x5addd5&&(this['_renderSty'+'le']=_0x5addd5,Be['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x5addd5));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x24c86e){this['_customAab'+'b']=_0x24c86e;const _0x10abb2=this['_meshInsta'+'nces'];if(_0x10abb2){for(let _0xa0a305=0x2578+-0x6e7+-0x1e91;_0xa0a305<_0x10abb2['length'];_0xa0a305++)_0x10abb2[_0xa0a305]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x2eef59){if(this['_type']!==_0x2eef59&&(this['_area']=null,this['_type']=_0x2eef59,this['destroyMes'+'hInstances'](),_0x2eef59!=='asset')){let _0x11428a=this['_material'];(!_0x11428a||_0x11428a===this['system']['defaultMat'+'erial'])&&(_0x11428a=this['_materialR'+'eferences'][0x50f*-0x1+0x1*-0x1a37+0xfa3*0x2]&&this['_materialR'+'eferences'][-0x1d3c+-0x167+0x1ea3]['asset']&&this['_materialR'+'eferences'][-0x56*0x58+-0x1164+-0xbbd*-0x4]['asset']['resource']);const _0x5e5c99=dx(this['system']['app']['graphicsDe'+'vice'],_0x2eef59);this['_area']=_0x5e5c99['area'],this['meshInstan'+'ces']=[new Be(_0x5e5c99['mesh'],_0x11428a||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x102093){if(b['assert'](Array['isArray'](_0x102093),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x102093,this['_meshInsta'+'nces']){const _0x29f5ef=this['_meshInsta'+'nces'];for(let _0x9cf4e8=0xb2d+-0x7ea*-0x4+-0x55*0x81;_0x9cf4e8<_0x29f5ef['length'];_0x9cf4e8++)_0x29f5ef[_0x9cf4e8]['node']||(_0x29f5ef[_0x9cf4e8]['node']=this['entity']),_0x29f5ef[_0x9cf4e8]['castShadow']=this['_castShado'+'ws'],_0x29f5ef[_0x9cf4e8]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x29f5ef[_0x9cf4e8]['renderStyl'+'e']=this['_renderSty'+'le'],_0x29f5ef[_0x9cf4e8]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x29f5ef[_0x9cf4e8]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x5d83f4){if(_0x5d83f4!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x5d83f4;const _0x4b5514=this['_meshInsta'+'nces'];if(_0x4b5514){for(let _0x42ba40=0xce*0x1+-0x6b0+0x5e2;_0x42ba40<_0x4b5514['length'];_0x42ba40++)_0x4b5514[_0x42ba40]['setLightma'+'pped'](_0x5d83f4);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x4ea395){if(this['_castShado'+'ws']!==_0x4ea395){const _0x598911=this['_meshInsta'+'nces'];if(_0x598911){const _0x27c104=this['layers'],_0x29f9bc=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x4ea395)for(let _0x16fd01=0x233e+-0x335*0x8+-0x2*0x4cb;_0x16fd01<_0x27c104['length'];_0x16fd01++){const _0x551cee=_0x29f9bc['layers']['getLayerBy'+'Id'](this['layers'][_0x16fd01]);_0x551cee&&_0x551cee['removeShad'+'owCasters'](_0x598911);}for(let _0x154dee=0x4*0x849+-0x14b*-0x19+-0x1*0x4177;_0x154dee<_0x598911['length'];_0x154dee++)_0x598911[_0x154dee]['castShadow']=_0x4ea395;if(!this['_castShado'+'ws']&&_0x4ea395)for(let _0x161ef9=0x1d*-0x144+0x1f53+-0x9*-0x99;_0x161ef9<_0x27c104['length'];_0x161ef9++){const _0x41ad63=_0x29f9bc['layers']['getLayerBy'+'Id'](_0x27c104[_0x161ef9]);_0x41ad63&&_0x41ad63['addShadowC'+'asters'](_0x598911);}}this['_castShado'+'ws']=_0x4ea395;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x44c4db){if(this['_receiveSh'+'adows']!==_0x44c4db){this['_receiveSh'+'adows']=_0x44c4db;const _0x48aa5b=this['_meshInsta'+'nces'];if(_0x48aa5b){for(let _0x369930=-0x1c81*0x1+0x17f*-0x1+0x1e00;_0x369930<_0x48aa5b['length'];_0x369930++)_0x48aa5b[_0x369930]['receiveSha'+'dow']=_0x44c4db;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x1ef278){this['_castShado'+'wsLightmap']=_0x1ef278;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x28533d){this['_lightmapS'+'izeMultipl'+'ier']=_0x28533d;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x1e0791){const _0x589218=this['system']['app']['scene']['layers'];let _0x3f4d7d;if(this['_meshInsta'+'nces']){for(let _0x34c2f3=-0x10d*-0xd+0x86d+-0x16*0x101;_0x34c2f3<this['_layers']['length'];_0x34c2f3++)_0x3f4d7d=_0x589218['getLayerBy'+'Id'](this['_layers'][_0x34c2f3]),_0x3f4d7d&&_0x3f4d7d['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0x226a+0x301*-0xb+0x4375;for(let _0x5f0221=-0x8a6+0x645+-0x261*-0x1;_0x5f0221<_0x1e0791['length'];_0x5f0221++)this['_layers'][_0x5f0221]=_0x1e0791[_0x5f0221];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x298a1f=0x547*0x1+-0x10f3+0xbac;_0x298a1f<this['_layers']['length'];_0x298a1f++)_0x3f4d7d=_0x589218['getLayerBy'+'Id'](this['_layers'][_0x298a1f]),_0x3f4d7d&&_0x3f4d7d['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x32ad15){var _0x344b83,_0x11cbb5;this['_batchGrou'+'pId']!==_0x32ad15&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0xb*-0x223+0x1*0x3cb+0x13b6*0x1&&((_0x344b83=this['system']['app']['batcher'])==null||_0x344b83['remove'](rt['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x32ad15>=0x78+0x9ab+-0x361*0x3&&((_0x11cbb5=this['system']['app']['batcher'])==null||_0x11cbb5['insert'](rt['RENDER'],_0x32ad15,this['entity'])),_0x32ad15<0x743*-0x2+-0xe3b+0x1*0x1cc1&&this['_batchGrou'+'pId']>=0xba8*0x1+-0x179c*0x1+0x99*0x14&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x32ad15);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x4c4d79){if(this['_material']!==_0x4c4d79&&(this['_material']=_0x4c4d79,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x1b0452=-0xc04+0x374+0x448*0x2;_0x1b0452<this['_meshInsta'+'nces']['length'];_0x1b0452++)this['_meshInsta'+'nces'][_0x1b0452]['material']=_0x4c4d79;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x64e7f5=[]){if(this['_materialR'+'eferences']['length']>_0x64e7f5['length']){for(let _0x3c1f39=_0x64e7f5['length'];_0x3c1f39<this['_materialR'+'eferences']['length'];_0x3c1f39++)this['_materialR'+'eferences'][_0x3c1f39]['id']=null;this['_materialR'+'eferences']['length']=_0x64e7f5['length'];}for(let _0x3415e1=0x27*0xfc+0x1*-0x5d+0xf*-0x289;_0x3415e1<_0x64e7f5['length'];_0x3415e1++)if(this['_materialR'+'eferences'][_0x3415e1]||this['_materialR'+'eferences']['push'](new qo(_0x3415e1,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x64e7f5[_0x3415e1]){const _0x375586=_0x64e7f5[_0x3415e1]instanceof he?_0x64e7f5[_0x3415e1]['id']:_0x64e7f5[_0x3415e1];this['_materialR'+'eferences'][_0x3415e1]['id']!==_0x375586&&(this['_materialR'+'eferences'][_0x3415e1]['id']=_0x375586),this['_materialR'+'eferences'][_0x3415e1]['asset']&&this['_onMateria'+'lAdded'](_0x3415e1,this,this['_materialR'+'eferences'][_0x3415e1]['asset']);}else this['_materialR'+'eferences'][_0x3415e1]['id']=null,this['_meshInsta'+'nces'][_0x3415e1]&&(this['_meshInsta'+'nces'][_0x3415e1]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x449dea=>_0x449dea['id']);}set['asset'](_0x4d9168){const _0x27ea6c=_0x4d9168 instanceof he?_0x4d9168['id']:_0x4d9168;this['_assetRefe'+'rence']['id']!==_0x27ea6c&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x27ea6c,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x30270a){const _0x511b62=_0x30270a instanceof he?_0x30270a['id']:_0x30270a;this['_assetRefe'+'rence']['id']=_0x511b62;}set['rootBone'](_0x44777b){if(this['_rootBone']!==_0x44777b){const _0x1a1f5c=typeof _0x44777b=='string';if(this['_rootBone']&&_0x1a1f5c&&this['_rootBone']['getGuid']()===_0x44777b)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x44777b instanceof Oe?this['_rootBone']=_0x44777b:_0x1a1f5c?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x44777b)||null,this['_rootBone']||b['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x1d164c=this['_meshInsta'+'nces'];if(_0x1d164c){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x346142=0x1344*-0x1+0x207*0xb+0x15*-0x25;_0x346142<_0x1d164c['length'];_0x346142++)_0x1d164c[_0x346142]['destroy']();this['_meshInsta'+'nces']['length']=-0x351+-0x71*-0x4a+-0x1d59;}}['addToLayer'+'s'](){const _0x73fd12=this['system']['app']['scene']['layers'];for(let _0x3a1f21=-0x202f+-0x20c7+0x40f6;_0x3a1f21<this['_layers']['length'];_0x3a1f21++){const _0xc2f160=_0x73fd12['getLayerBy'+'Id'](this['_layers'][_0x3a1f21]);_0xc2f160&&_0xc2f160['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0xf3a683=this['system']['app']['scene']['layers'];for(let _0x41bdc9=-0x5*-0x434+-0x1357+0x27*-0xb;_0x41bdc9<this['_layers']['length'];_0x41bdc9++){const _0x22980f=_0xf3a683['getLayerBy'+'Id'](this['_layers'][_0x41bdc9]);_0x22980f&&_0x22980f['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x3cf5cf=-0x21ee+-0x1*0x24a5+0x7*0xa15;_0x3cf5cf<this['_materialR'+'eferences']['length'];_0x3cf5cf++)this['_materialR'+'eferences'][_0x3cf5cf]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0xe3739,_0x3d4bc0){this['addToLayer'+'s'](),_0xe3739['off']('add',this['onLayerAdd'+'ed'],this),_0xe3739['off']('remove',this['onLayerRem'+'oved'],this),_0x3d4bc0['on']('add',this['onLayerAdd'+'ed'],this),_0x3d4bc0['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0xc443fd){this['layers']['indexOf'](_0xc443fd['id'])<0x32*0x5a+0x1*-0x200b+0xe77||_0xc443fd['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x259088){this['layers']['indexOf'](_0x259088['id'])<-0x817+-0x329*0xa+-0x27b1*-0x1||_0x259088['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0xb0dcb8;const _0x332c22=this['system']['app'],_0x5d7244=_0x332c22['scene'],_0x58ea70=_0x5d7244['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x5d7244['on']('set:layers',this['onLayersCh'+'anged'],this),_0x58ea70&&(this['_evtLayerA'+'dded']=_0x58ea70['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x58ea70['on']('remove',this['onLayerRem'+'oved'],this));const _0x341d76=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x341d76&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x43c56e=-0x1*0x1517+-0x1d*0xb5+-0xb*-0x3c8;_0x43c56e<this['_materialR'+'eferences']['length'];_0x43c56e++)this['_materialR'+'eferences'][_0x43c56e]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x43c56e]['asset']);this['_batchGrou'+'pId']>=-0x55*0xf+0x2*0x8b5+-0xc6f&&((_0xb0dcb8=_0x332c22['batcher'])==null||_0xb0dcb8['insert'](rt['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x2adb3b,_0x188b14,_0x430b6a,_0x50fbf3;const _0x5640f4=this['system']['app'],_0x5c4fc5=_0x5640f4['scene']['layers'];(_0x2adb3b=this['_evtLayers'+'Changed'])==null||_0x2adb3b['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x5c4fc5&&((_0x188b14=this['_evtLayerA'+'dded'])==null||_0x188b14['off'](),this['_evtLayerA'+'dded']=null,(_0x430b6a=this['_evtLayerR'+'emoved'])==null||_0x430b6a['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x5*0x3df+-0x1*0x18ce+-0xf*-0x5d&&((_0x50fbf3=_0x5640f4['batcher'])==null||_0x50fbf3['remove'](rt['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x287722=-0x2537+-0x1903+0x3e3a;_0x287722<this['_meshInsta'+'nces']['length'];_0x287722++)this['_meshInsta'+'nces'][_0x287722]['visible']=!(-0x1954+0x1*0x25c+0x16f9);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x35ecf5=-0x1494+-0x16de+0x2b72;_0x35ecf5<this['_meshInsta'+'nces']['length'];_0x35ecf5++)this['_meshInsta'+'nces'][_0x35ecf5]['visible']=!(0x17f*-0x2+0x1da3+-0x167*0x13);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x2f9d91;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0xc7ec87=this['_assetRefe'+'rence']['asset']['resource'];(_0x2f9d91=this['_evtSetMes'+'hes'])==null||_0x2f9d91['off'](),this['_evtSetMes'+'hes']=_0xc7ec87['on']('set:meshes',this['_onSetMesh'+'es'],this),_0xc7ec87['meshes']&&this['_onSetMesh'+'es'](_0xc7ec87['meshes']);}}['_onSetMesh'+'es'](_0x225b9d){this['_cloneMesh'+'es'](_0x225b9d);}['_clearSkin'+'Instances'](){for(let _0x5b25cf=-0x13fa+0x2158+-0xd5e;_0x5b25cf<this['_meshInsta'+'nces']['length'];_0x5b25cf++){const _0x89881d=this['_meshInsta'+'nces'][_0x5b25cf];$o['removeCach'+'edSkinInst'+'ance'](_0x89881d['skinInstan'+'ce']),_0x89881d['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Oe)for(let _0x104cbc=0x1cce+0x21ec*0x1+-0x3eba;_0x104cbc<this['_meshInsta'+'nces']['length'];_0x104cbc++){const _0x57b8c2=this['_meshInsta'+'nces'][_0x104cbc],_0x1faa48=_0x57b8c2['mesh'];_0x1faa48['skin']&&!_0x57b8c2['skinInstan'+'ce']&&(_0x57b8c2['skinInstan'+'ce']=$o['createCach'+'edSkinInst'+'ance'](_0x1faa48['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x69cc2e){if(_0x69cc2e&&_0x69cc2e['length']){const _0x2edc4a=[];for(let _0xadbd4e=0x45*0x79+-0xd8e+-0x1*0x130f;_0xadbd4e<_0x69cc2e['length'];_0xadbd4e++){const _0x325e5f=_0x69cc2e[_0xadbd4e],_0x2491f6=this['_materialR'+'eferences'][_0xadbd4e]&&this['_materialR'+'eferences'][_0xadbd4e]['asset']&&this['_materialR'+'eferences'][_0xadbd4e]['asset']['resource'],_0x3d2a35=new Be(_0x325e5f,_0x2491f6||this['system']['defaultMat'+'erial'],this['entity']);_0x2edc4a['push'](_0x3d2a35),_0x325e5f['morph']&&(_0x3d2a35['morphInsta'+'nce']=new mn(_0x325e5f['morph']));}this['meshInstan'+'ces']=_0x2edc4a,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x120df3;(_0x120df3=this['_evtSetMes'+'hes'])==null||_0x120df3['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x26905c,_0x144567,_0xf8189c){_0xf8189c['resource']?this['_onMateria'+'lLoad'](_0x26905c,_0x144567,_0xf8189c):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0xf8189c);}['_updateMai'+'nMaterial'](_0x3dd79e,_0x3e4d6c){_0x3dd79e===-0x2*0xeab+-0x1*-0x79f+0x15b7&&(this['material']=_0x3e4d6c);}['_onMateria'+'lLoad'](_0x5acaee,_0x4fc5c8,_0x9f24a3){this['_meshInsta'+'nces'][_0x5acaee]&&(this['_meshInsta'+'nces'][_0x5acaee]['material']=_0x9f24a3['resource']),this['_updateMai'+'nMaterial'](_0x5acaee,_0x9f24a3['resource']);}['_onMateria'+'lRemove'](_0x549258,_0x331e6c,_0x33e54d){this['_meshInsta'+'nces'][_0x549258]&&(this['_meshInsta'+'nces'][_0x549258]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x549258,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x1064ca,_0x1bb862,_0x15f6d2){this['_meshInsta'+'nces'][_0x1064ca]&&(this['_meshInsta'+'nces'][_0x1064ca]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x1064ca,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x22dc80,_0x2a6dc3){_0x22dc80['rootBone']&&(this['rootBone']=_0x2a6dc3[_0x22dc80['rootBone']['getGuid']()]);}}class fI{constructor(){this['enabled']=!(-0x52*-0x5b+0x17*0x41+0x1*-0x22fd);}}const yf=['enabled'],Pr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class pI extends Qe{constructor(_0x2c9373){super(_0x2c9373),this['id']='render',this['ComponentT'+'ype']=px,this['DataType']=fI,this['schema']=yf,this['defaultMat'+'erial']=cl(_0x2c9373['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x5b3aee,_0x528409,_0x3607f1){(_0x528409['batchGroup'+'Id']===null||_0x528409['batchGroup'+'Id']===void(0x2*-0x14b+-0x20c7+0x235d))&&(_0x528409['batchGroup'+'Id']=-(0x2429*-0x1+-0x1d1c+-0x1e*-0x22d)),_0x528409['layers']&&_0x528409['layers']['length']&&(_0x528409['layers']=_0x528409['layers']['slice'](-0x9b3+-0xa39+0x13ec));for(let _0x417745=0x782+-0x169d+-0x509*-0x3;_0x417745<Pr['length'];_0x417745++)_0x528409['hasOwnProp'+'erty'](Pr[_0x417745])&&(_0x5b3aee[Pr[_0x417745]]=_0x528409[Pr[_0x417745]]);_0x528409['aabbCenter']&&_0x528409['aabbHalfEx'+'tents']&&(_0x5b3aee['customAabb']=new ve(new A(_0x528409['aabbCenter']),new A(_0x528409['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x5b3aee,_0x528409,yf);}['cloneCompo'+'nent'](_0x177a39,_0x6cc18a){const _0x26c83c={};for(let _0xfc812=-0xff0+0x94f*0x3+-0x5d*0x21;_0xfc812<Pr['length'];_0xfc812++)_0x26c83c[Pr[_0xfc812]]=_0x177a39['render'][Pr[_0xfc812]];_0x26c83c['enabled']=_0x177a39['render']['enabled'],delete _0x26c83c['meshInstan'+'ces'];const _0x44b261=this['addCompone'+'nt'](_0x6cc18a,_0x26c83c),_0x60d86a=_0x177a39['render']['meshInstan'+'ces'],_0xc3020c=_0x60d86a['map'](_0x5057f1=>_0x5057f1['mesh']);_0x44b261['_onSetMesh'+'es'](_0xc3020c);for(let _0xd3278e=-0x50b*0x6+-0x18fe+-0x2*-0x1ba0;_0xd3278e<_0x60d86a['length'];_0xd3278e++)_0x44b261['meshInstan'+'ces'][_0xd3278e]['material']=_0x60d86a[_0xd3278e]['material'];return _0x177a39['render']['customAabb']&&(_0x44b261['customAabb']=_0x177a39['render']['customAabb']['clone']()),_0x44b261;}['onRemove'](_0x41a4d8,_0x2843c9){_0x2843c9['onRemove']();}}pe['_buildAcce'+'ssors'](px['prototype'],yf);class tu{constructor(_0x10dc02,_0x3079c9){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',0x1f*0x8d+-0x1173+0x60),(this['_construct'+'or']=_0x10dc02,this['_resize'](_0x3079c9));}['_resize'](_0x3d6ced){if(_0x3d6ced>this['_pool']['length']){for(let _0x238dc2=this['_pool']['length'];_0x238dc2<_0x3d6ced;_0x238dc2++)this['_pool'][_0x238dc2]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x132a+-0x2*0x7f7+-0x33a)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x47f*-0x2+0x2*-0x909+-0x10*-0x1b1;}}let Yt,we,ws,qn;const mI=new ie(),_I=new ie(),ih=new A();class Ys extends pe{constructor(){super(...arguments),c(this,'_angularDa'+'mping',0x11d1+0x4*0x194+-0x1821),c(this,'_angularFa'+'ctor',new A(-0x9d5+0x1c7b*-0x1+0x2651,0xb*0x61+-0x16e1*-0x1+-0x1b0b,-0x23d2+-0x1d*0x4f+0x2cc6)),c(this,'_angularVe'+'locity',new A()),c(this,'_body',null),c(this,'_friction',-0x149f+0x1c65+-0x7c6+0.5),c(this,'_group',lg),c(this,'_linearDam'+'ping',0x1*0x225b+0x50f*0x5+-0x3ba6),c(this,'_linearFac'+'tor',new A(0x1cc3+0x11b2+-0x2e74,0xc2e+-0x2bd+-0x970,0xe44+-0x6*-0x593+-0x2fb5)),c(this,'_linearVel'+'ocity',new A()),c(this,'_mask',cf),c(this,'_mass',0x3*-0x58a+0x1*0x1136+-0x97),c(this,'_restituti'+'on',0x2*0xf5d+0x147e+-0x199c*0x2),c(this,'_rollingFr'+'iction',-0xa7+-0x41f*-0x2+-0x797),c(this,'_simulatio'+'nEnabled',!(0x400+-0xcf5+0x8f6)),c(this,'_type',ao);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Yt=new Ammo['btTransfor'+'m'](),we=new Ammo['btVector3'](),ws=new Ammo['btVector3'](),qn=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Yt),Ammo['destroy'](we),Ammo['destroy'](ws),Ammo['destroy'](qn),Yt=null,we=null,ws=null,qn=null;}set['angularDam'+'ping'](_0x5e8bba){this['_angularDa'+'mping']!==_0x5e8bba&&(this['_angularDa'+'mping']=_0x5e8bba,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x5e8bba));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x23e5f5){this['_angularFa'+'ctor']['equals'](_0x23e5f5)||(this['_angularFa'+'ctor']['copy'](_0x23e5f5),this['_body']&&this['_type']===vs&&(we['setValue'](_0x23e5f5['x'],_0x23e5f5['y'],_0x23e5f5['z']),this['_body']['setAngular'+'Factor'](we)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x28bcee){this['_body']&&this['_type']===vs&&(this['_body']['activate'](),we['setValue'](_0x28bcee['x'],_0x28bcee['y'],_0x28bcee['z']),this['_body']['setAngular'+'Velocity'](we),this['_angularVe'+'locity']['copy'](_0x28bcee));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===vs){const _0x248eb3=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x248eb3['x'](),_0x248eb3['y'](),_0x248eb3['z']());}return this['_angularVe'+'locity'];}set['body'](_0x1e600d){this['_body']!==_0x1e600d&&(this['_body']=_0x1e600d,_0x1e600d&&this['_simulatio'+'nEnabled']&&_0x1e600d['activate']());}get['body'](){return this['_body'];}set['friction'](_0x39ae03){this['_friction']!==_0x39ae03&&(this['_friction']=_0x39ae03,this['_body']&&this['_body']['setFrictio'+'n'](_0x39ae03));}get['friction'](){return this['_friction'];}set['group'](_0x12395c){this['_group']!==_0x12395c&&(this['_group']=_0x12395c,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x3eccb0){this['_linearDam'+'ping']!==_0x3eccb0&&(this['_linearDam'+'ping']=_0x3eccb0,this['_body']&&this['_body']['setDamping'](_0x3eccb0,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x964e1b){this['_linearFac'+'tor']['equals'](_0x964e1b)||(this['_linearFac'+'tor']['copy'](_0x964e1b),this['_body']&&this['_type']===vs&&(we['setValue'](_0x964e1b['x'],_0x964e1b['y'],_0x964e1b['z']),this['_body']['setLinearF'+'actor'](we)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x227476){this['_body']&&this['_type']===vs&&(this['_body']['activate'](),we['setValue'](_0x227476['x'],_0x227476['y'],_0x227476['z']),this['_body']['setLinearV'+'elocity'](we),this['_linearVel'+'ocity']['copy'](_0x227476));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===vs){const _0x2f03a2=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x2f03a2['x'](),_0x2f03a2['y'](),_0x2f03a2['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x47140c){this['_mask']!==_0x47140c&&(this['_mask']=_0x47140c,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x4465f2){if(this['_mass']!==_0x4465f2&&(this['_mass']=_0x4465f2,this['_body']&&this['_type']===vs)){const _0x13b4ae=this['enabled']&&this['entity']['enabled'];_0x13b4ae&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x4465f2,we),this['_body']['setMassPro'+'ps'](_0x4465f2,we),this['_body']['updateIner'+'tiaTensor'](),_0x13b4ae&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x5eee78){this['_restituti'+'on']!==_0x5eee78&&(this['_restituti'+'on']=_0x5eee78,this['_body']&&this['_body']['setRestitu'+'tion'](_0x5eee78));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0xae18f9){this['_rollingFr'+'iction']!==_0xae18f9&&(this['_rollingFr'+'iction']=_0xae18f9,this['_body']&&this['_body']['setRolling'+'Friction'](_0xae18f9));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x4b21c3){if(this['_type']!==_0x4b21c3){switch(this['_type']=_0x4b21c3,this['disableSim'+'ulation'](),_0x4b21c3){case vs:this['_group']=sR,this['_mask']=cg;break;case zn:this['_group']=iR,this['_mask']=cg;break;case ao:default:this['_group']=lg,this['_mask']=cf;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x51a329=this['entity'];let _0x403a21;if(_0x51a329['collision']&&(_0x403a21=_0x51a329['collision']['shape'],_0x51a329['trigger']&&(_0x51a329['trigger']['destroy'](),delete _0x51a329['trigger'])),_0x403a21){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x2ace8f=this['_type']===vs?this['_mass']:-0x1b78+0x217d+-0x17*0x43;this['_getEntity'+'Transform'](Yt);const _0x190c8d=this['system']['createBody'](_0x2ace8f,_0x403a21,Yt);if(_0x190c8d['setRestitu'+'tion'](this['_restituti'+'on']),_0x190c8d['setFrictio'+'n'](this['_friction']),_0x190c8d['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x190c8d['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===vs){const _0x42f8be=this['_linearFac'+'tor'];we['setValue'](_0x42f8be['x'],_0x42f8be['y'],_0x42f8be['z']),_0x190c8d['setLinearF'+'actor'](we);const _0x25b587=this['_angularFa'+'ctor'];we['setValue'](_0x25b587['x'],_0x25b587['y'],_0x25b587['z']),_0x190c8d['setAngular'+'Factor'](we);}else this['_type']===zn&&(_0x190c8d['setCollisi'+'onFlags'](_0x190c8d['getCollisi'+'onFlags']()|tR),_0x190c8d['setActivat'+'ionState'](og));_0x190c8d['entity']=_0x51a329,this['body']=_0x190c8d,this['enabled']&&_0x51a329['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x205f+-0x27f*0x3+0x27dd);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x54db2a=this['entity'];if(_0x54db2a['collision']&&_0x54db2a['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0xa817a8=this['_body'];if(_0xa817a8){switch(this['system']['addBody'](_0xa817a8,this['_group'],this['_mask']),this['_type']){case vs:this['system']['_dynamic']['push'](this),_0xa817a8['forceActiv'+'ationState'](hf),this['syncEntity'+'ToBody']();break;case zn:this['system']['_kinematic']['push'](this),_0xa817a8['forceActiv'+'ationState'](og);break;case ao:_0xa817a8['forceActiv'+'ationState'](hf),this['syncEntity'+'ToBody']();break;}_0x54db2a['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x54db2a['collision']),_0xa817a8['activate'](),this['_simulatio'+'nEnabled']=!(0x48e+0x2415+0x1*-0x28a3);}}}['disableSim'+'ulation'](){const _0x48b15e=this['_body'];if(_0x48b15e&&this['_simulatio'+'nEnabled']){const _0x2d71c9=this['system'];let _0x4528a1=_0x2d71c9['_compounds']['indexOf'](this['entity']['collision']);_0x4528a1>-(-0x3ab*-0x1+0x14a6+-0x1850)&&_0x2d71c9['_compounds']['splice'](_0x4528a1,0x14+0x1918+-0x192b*0x1),_0x4528a1=_0x2d71c9['_dynamic']['indexOf'](this),_0x4528a1>-(0x1*-0x187+-0x6de+0x866)&&_0x2d71c9['_dynamic']['splice'](_0x4528a1,0x1*0x1ac9+-0xa08+-0x10c0),_0x4528a1=_0x2d71c9['_kinematic']['indexOf'](this),_0x4528a1>-(0x1*-0x641+-0x36c+0x3b*0x2a)&&_0x2d71c9['_kinematic']['splice'](_0x4528a1,-0x928+-0xf71+0x43*0x5e),_0x2d71c9['removeBody'](_0x48b15e),_0x48b15e['forceActiv'+'ationState'](sx),this['_simulatio'+'nEnabled']=!(-0xbb4*0x2+0x1*-0x19ee+0x3157);}}['applyForce'](_0xf2dc1,_0x39bde6,_0x1fc4b7,_0x6ea65f,_0x3b88b8,_0x5d921c){const _0xc7b887=this['_body'];_0xc7b887&&(_0xc7b887['activate'](),_0xf2dc1 instanceof A?we['setValue'](_0xf2dc1['x'],_0xf2dc1['y'],_0xf2dc1['z']):we['setValue'](_0xf2dc1,_0x39bde6,_0x1fc4b7),_0x39bde6 instanceof A?ws['setValue'](_0x39bde6['x'],_0x39bde6['y'],_0x39bde6['z']):_0x6ea65f!==void(-0x2*-0x6a7+-0x2465+0x1717)?ws['setValue'](_0x6ea65f,_0x3b88b8,_0x5d921c):ws['setValue'](-0xd00*-0x2+-0x81*0x2f+0x1*-0x251,0x204a+0x66e+0x162*-0x1c,-0x1*-0x565+0x15b*0x6+0x1*-0xd87),_0xc7b887['applyForce'](we,ws));}['applyTorqu'+'e'](_0x309ee0,_0x2ed1aa,_0x4bee27){const _0x279854=this['_body'];_0x279854&&(_0x279854['activate'](),_0x309ee0 instanceof A?we['setValue'](_0x309ee0['x'],_0x309ee0['y'],_0x309ee0['z']):we['setValue'](_0x309ee0,_0x2ed1aa,_0x4bee27),_0x279854['applyTorqu'+'e'](we));}['applyImpul'+'se'](_0xaa34bd,_0x7c4b8e,_0x35a049,_0xf1e622,_0x3036f6,_0x2ecb0f){const _0x2b4510=this['_body'];_0x2b4510&&(_0x2b4510['activate'](),_0xaa34bd instanceof A?we['setValue'](_0xaa34bd['x'],_0xaa34bd['y'],_0xaa34bd['z']):we['setValue'](_0xaa34bd,_0x7c4b8e,_0x35a049),_0x7c4b8e instanceof A?ws['setValue'](_0x7c4b8e['x'],_0x7c4b8e['y'],_0x7c4b8e['z']):_0xf1e622!==void(0x163*0x13+0x3a3*0x5+-0x19*0x1c8)?ws['setValue'](_0xf1e622,_0x3036f6,_0x2ecb0f):ws['setValue'](0xf7f*-0x1+-0x1578+-0x1*-0x24f7,0x2686+0x2*-0x10bd+-0x50c,-0x1404+0x1a*0x38+-0xe54*-0x1),_0x2b4510['applyImpul'+'se'](we,ws));}['applyTorqu'+'eImpulse'](_0x43e9e7,_0x2be5eb,_0xd5506){const _0x5a3424=this['_body'];_0x5a3424&&(_0x5a3424['activate'](),_0x43e9e7 instanceof A?we['setValue'](_0x43e9e7['x'],_0x43e9e7['y'],_0x43e9e7['z']):we['setValue'](_0x43e9e7,_0x2be5eb,_0xd5506),_0x5a3424['applyTorqu'+'eImpulse'](we));}['isStatic'](){return this['_type']===ao;}['isStaticOr'+'Kinematic'](){return this['_type']===ao||this['_type']===zn;}['isKinemati'+'c'](){return this['_type']===zn;}['_getEntity'+'Transform'](_0xa445f9){const _0x374386=this['entity'],_0x1198c1=_0x374386['collision'];if(_0x1198c1){const _0x1d6351=_0x1198c1['getShapePo'+'sition'](),_0x1c5033=_0x1198c1['getShapeRo'+'tation']();we['setValue'](_0x1d6351['x'],_0x1d6351['y'],_0x1d6351['z']),qn['setValue'](_0x1c5033['x'],_0x1c5033['y'],_0x1c5033['z'],_0x1c5033['w']);}else{const _0x70abf4=_0x374386['getPositio'+'n'](),_0x284b63=_0x374386['getRotatio'+'n']();we['setValue'](_0x70abf4['x'],_0x70abf4['y'],_0x70abf4['z']),qn['setValue'](_0x284b63['x'],_0x284b63['y'],_0x284b63['z'],_0x284b63['w']);}_0xa445f9['setOrigin'](we),_0xa445f9['setRotatio'+'n'](qn);}['syncEntity'+'ToBody'](){const _0x9b6a00=this['_body'];if(_0x9b6a00){if(this['_getEntity'+'Transform'](Yt),_0x9b6a00['setWorldTr'+'ansform'](Yt),this['_type']===zn){const _0x5217e9=_0x9b6a00['getMotionS'+'tate']();_0x5217e9&&_0x5217e9['setWorldTr'+'ansform'](Yt);}_0x9b6a00['activate']();}}['_updateDyn'+'amic'](){const _0x470013=this['_body'];if(_0x470013['isActive']()){const _0x208d06=_0x470013['getMotionS'+'tate']();if(_0x208d06){const _0x58eaff=this['entity'];_0x208d06['getWorldTr'+'ansform'](Yt);const _0x26f0bd=Yt['getOrigin'](),_0x59c55d=Yt['getRotatio'+'n'](),_0xde7b39=_0x58eaff['collision'];if(_0xde7b39&&_0xde7b39['_hasOffset']){const _0x5325ad=_0xde7b39['data']['linearOffs'+'et'],_0xed00d0=_0xde7b39['data']['angularOff'+'set'],_0x1d7c86=_I['copy'](_0xed00d0)['invert'](),_0x57317e=mI['set'](_0x59c55d['x'](),_0x59c55d['y'](),_0x59c55d['z'](),_0x59c55d['w']())['mul'](_0x1d7c86);_0x57317e['transformV'+'ector'](_0x5325ad,ih),_0x58eaff['setPositio'+'n'](_0x26f0bd['x']()-ih['x'],_0x26f0bd['y']()-ih['y'],_0x26f0bd['z']()-ih['z']),_0x58eaff['setRotatio'+'n'](_0x57317e);}else _0x58eaff['setPositio'+'n'](_0x26f0bd['x'](),_0x26f0bd['y'](),_0x26f0bd['z']()),_0x58eaff['setRotatio'+'n'](_0x59c55d['x'](),_0x59c55d['y'](),_0x59c55d['z'](),_0x59c55d['w']());}}}['_updateKin'+'ematic'](){const _0x172a33=this['_body']['getMotionS'+'tate']();_0x172a33&&(this['_getEntity'+'Transform'](Yt),_0x172a33['setWorldTr'+'ansform'](Yt));}['teleport'](_0x1b5224,_0x539ee5,_0x52352b,_0x3548b9,_0x26ba72,_0x2fcdb0){_0x1b5224 instanceof A?this['entity']['setPositio'+'n'](_0x1b5224):this['entity']['setPositio'+'n'](_0x1b5224,_0x539ee5,_0x52352b),_0x539ee5 instanceof ie?this['entity']['setRotatio'+'n'](_0x539ee5):_0x539ee5 instanceof A?this['entity']['setEulerAn'+'gles'](_0x539ee5):_0x3548b9!==void(-0x4*0x3d+0xcd9*0x2+0x2*-0xc5f)&&this['entity']['setEulerAn'+'gles'](_0x3548b9,_0x26ba72,_0x2fcdb0),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c(Ys,'EVENT_CONT'+'ACT','contact'),c(Ys,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Ys,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Ys,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Ys,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c(Ys,'order',-(0x1*0x2b3+-0xe*0x185+0x1294));class gI{constructor(){this['enabled']=!(0x7b3+0x35*0x97+-0x26f6);}}let di,ui;class Sg{constructor(_0x289c19,_0x2faf70,_0x2bf65b,_0x1c3a15){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x289c19,this['point']=_0x2faf70,this['normal']=_0x2bf65b,this['hitFractio'+'n']=_0x1c3a15);}}class yI{constructor(_0x18273a,_0x12edd6,_0x2e39ff){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==0x89*0x2+-0x1*0x1f5f+0x1e4d?(this['a']=_0x18273a,this['b']=_0x12edd6,this['impulse']=_0x2e39ff['impulse'],this['localPoint'+'A']=_0x2e39ff['localPoint'],this['localPoint'+'B']=_0x2e39ff['localPoint'+'Other'],this['pointA']=_0x2e39ff['point'],this['pointB']=_0x2e39ff['pointOther'],this['normal']=_0x2e39ff['normal']):(this['a']=null,this['b']=null,this['impulse']=0xd7b+-0x1af*-0x15+0x292*-0x13,this['localPoint'+'A']=new A(),this['localPoint'+'B']=new A(),this['pointA']=new A(),this['pointB']=new A(),this['normal']=new A());}}class xI{constructor(_0x5f0410=new A(),_0x43bd23=new A(),_0x2469eb=new A(),_0x52bcff=new A(),_0x518392=new A(),_0x1ab51c=0x25*0xb+-0x1a1c+0x1*0x1885){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x5f0410,this['localPoint'+'Other']=_0x43bd23,this['point']=_0x2469eb,this['pointOther']=_0x52bcff,this['normal']=_0x518392,this['impulse']=_0x1ab51c);}}class SI{constructor(_0x114f0d,_0x2b9f6d){c(this,'other'),c(this,'contacts'),(this['other']=_0x114f0d,this['contacts']=_0x2b9f6d);}}const mx=['enabled'];class _x extends Qe{constructor(_0x27f52b){super(_0x27f52b),c(this,'maxSubStep'+'s',0x1*-0x85f+-0x1*0x84a+-0x11d*-0xf),c(this,'fixedTimeS'+'tep',(-0x212f+0x4*-0x674+0x3b00)/(-0x3*0x8c3+-0xee8+-0x2c3*-0xf)),c(this,'gravity',new A(0x969+0x8cf*0x3+0x3*-0xbf2,-(0x1159*-0x1+0x1*-0xe27+0x1f89+0.8100000000000005),-0x30b*-0x6+0x1556*-0x1+0x314)),c(this,'_gravityFl'+'oat32',new Float32Array(-0x2*0x2ed+-0xd8e+0x3*0x679)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x27f52b['stats']['frame'],this['ComponentT'+'ype']=Ys,this['DataType']=gI,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=mx,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x46ea0d=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x46ea0d);}else b['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');di=new Ammo['btVector3'](),ui=new Ammo['btVector3'](),Ys['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new tu(xI,0x1*-0x498+-0xc59+0x10f2),this['contactRes'+'ultPool']=new tu(SI,0x49*0x75+-0x1*-0x1ad5+-0x13*0x32b),this['singleCont'+'actResultP'+'ool']=new tu(yI,-0xba*-0x4+0x9*0x139+-0xde8),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x577190,_0x1e9896,_0x55ebec){const _0x46d726=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x5c1180 of _0x46d726)if(_0x1e9896['hasOwnProp'+'erty'](_0x5c1180)){const _0xeb40e3=_0x1e9896[_0x5c1180];Array['isArray'](_0xeb40e3)?_0x577190[_0x5c1180]=new A(_0xeb40e3[0x2*-0x5d8+-0x5*0x4e1+0x2415],_0xeb40e3[-0x3cb*-0x1+0x279+-0x643],_0xeb40e3[0x606+0x1*0x15df+-0x1be3]):_0x577190[_0x5c1180]=_0xeb40e3;}super['initialize'+'ComponentD'+'ata'](_0x577190,_0x1e9896,['enabled']);}['cloneCompo'+'nent'](_0x438948,_0x45cfa7){const _0x1dbdb0=_0x438948['rigidbody'],_0x145497={'enabled':_0x1dbdb0['enabled'],'mass':_0x1dbdb0['mass'],'linearDamping':_0x1dbdb0['linearDamp'+'ing'],'angularDamping':_0x1dbdb0['angularDam'+'ping'],'linearFactor':[_0x1dbdb0['linearFact'+'or']['x'],_0x1dbdb0['linearFact'+'or']['y'],_0x1dbdb0['linearFact'+'or']['z']],'angularFactor':[_0x1dbdb0['angularFac'+'tor']['x'],_0x1dbdb0['angularFac'+'tor']['y'],_0x1dbdb0['angularFac'+'tor']['z']],'friction':_0x1dbdb0['friction'],'rollingFriction':_0x1dbdb0['rollingFri'+'ction'],'restitution':_0x1dbdb0['restitutio'+'n'],'type':_0x1dbdb0['type'],'group':_0x1dbdb0['group'],'mask':_0x1dbdb0['mask']};return this['addCompone'+'nt'](_0x45cfa7,_0x145497);}['onBeforeRe'+'move'](_0xdc1eb2,_0x558bc5){_0x558bc5['enabled']&&(_0x558bc5['enabled']=!(0x3*-0x959+-0x1cd+0x9f3*0x3)),_0x558bc5['body']&&(this['destroyBod'+'y'](_0x558bc5['body']),_0x558bc5['body']=null);}['addBody'](_0x32d7f6,_0x20ef92,_0x5d9a58){_0x20ef92!==void(0x1397+0x58*-0x7+-0x1*0x112f)&&_0x5d9a58!==void(-0x22+-0x349*-0x8+-0x1a26)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x32d7f6,_0x20ef92,_0x5d9a58):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x32d7f6);}['removeBody'](_0x86c1c0){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x86c1c0);}['createBody'](_0x53fe34,_0x291f32,_0x3d2908){const _0x144e8b=new Ammo['btVector3'](0xd*0xe2+-0x4*-0x4b4+-0x1e4a,-0xdb+-0x975+-0x50*-0x21,0x2*-0x1180+0xe2*-0x3+0x25a6);_0x53fe34!==0x12fb+-0xae7*-0x3+-0x33b0&&_0x291f32['calculateL'+'ocalInerti'+'a'](_0x53fe34,_0x144e8b);const _0x1a1c41=new Ammo['btDefaultM'+'otionState'](_0x3d2908),_0x5d3d4f=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x53fe34,_0x1a1c41,_0x291f32,_0x144e8b),_0x100fbe=new Ammo['btRigidBod'+'y'](_0x5d3d4f);return Ammo['destroy'](_0x5d3d4f),Ammo['destroy'](_0x144e8b),_0x100fbe;}['destroyBod'+'y'](_0x2f183b){const _0x29bb60=_0x2f183b['getMotionS'+'tate']();_0x29bb60&&Ammo['destroy'](_0x29bb60),Ammo['destroy'](_0x2f183b);}['raycastFir'+'st'](_0x5c0e36,_0x5b7e55,_0x1a7609={}){if(_0x1a7609['filterTags']||_0x1a7609['filterCall'+'back'])return _0x1a7609['sort']=!(-0xc85+0x7*-0x427+0x1*0x2996),this['raycastAll'](_0x5c0e36,_0x5b7e55,_0x1a7609)[-0x21c1+-0x193*-0xa+0x1203]||null;let _0x33b0d2=null;di['setValue'](_0x5c0e36['x'],_0x5c0e36['y'],_0x5c0e36['z']),ui['setValue'](_0x5b7e55['x'],_0x5b7e55['y'],_0x5b7e55['z']);const _0x74de53=new Ammo['ClosestRay'+'ResultCall'+'back'](di,ui);if(typeof _0x1a7609['filterColl'+'isionGroup']=='number'&&_0x74de53['set_m_coll'+'isionFilte'+'rGroup'](_0x1a7609['filterColl'+'isionGroup']),typeof _0x1a7609['filterColl'+'isionMask']=='number'&&_0x74de53['set_m_coll'+'isionFilte'+'rMask'](_0x1a7609['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](di,ui,_0x74de53),_0x74de53['hasHit']()){const _0x357613=_0x74de53['get_m_coll'+'isionObjec'+'t'](),_0x16a399=Ammo['castObject'](_0x357613,Ammo['btRigidBod'+'y']);if(_0x16a399){const _0x386cb2=_0x74de53['get_m_hitP'+'ointWorld'](),_0x31b51b=_0x74de53['get_m_hitN'+'ormalWorld']();_0x33b0d2=new Sg(_0x16a399['entity'],new A(_0x386cb2['x'](),_0x386cb2['y'](),_0x386cb2['z']()),new A(_0x31b51b['x'](),_0x31b51b['y'](),_0x31b51b['z']()),_0x74de53['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x74de53),_0x33b0d2;}['raycastAll'](_0x388bc6,_0x441c71,_0x22e775={}){b['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x3e7b48=[];di['setValue'](_0x388bc6['x'],_0x388bc6['y'],_0x388bc6['z']),ui['setValue'](_0x441c71['x'],_0x441c71['y'],_0x441c71['z']);const _0x1b8620=new Ammo['AllHitsRay'+'ResultCall'+'back'](di,ui);if(typeof _0x22e775['filterColl'+'isionGroup']=='number'&&_0x1b8620['set_m_coll'+'isionFilte'+'rGroup'](_0x22e775['filterColl'+'isionGroup']),typeof _0x22e775['filterColl'+'isionMask']=='number'&&_0x1b8620['set_m_coll'+'isionFilte'+'rMask'](_0x22e775['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](di,ui,_0x1b8620),_0x1b8620['hasHit']()){const _0x42a373=_0x1b8620['get_m_coll'+'isionObjec'+'ts'](),_0x1f5d0b=_0x1b8620['get_m_hitP'+'ointWorld'](),_0x3f5e76=_0x1b8620['get_m_hitN'+'ormalWorld'](),_0x57e259=_0x1b8620['get_m_hitF'+'ractions'](),_0x574ab3=_0x42a373['size']();for(let _0x3dd855=-0x1855*0x1+-0x7c2+-0x2017*-0x1;_0x3dd855<_0x574ab3;_0x3dd855++){const _0xda18df=Ammo['castObject'](_0x42a373['at'](_0x3dd855),Ammo['btRigidBod'+'y']);if(_0xda18df&&_0xda18df['entity']){if(_0x22e775['filterTags']&&!_0xda18df['entity']['tags']['has'](..._0x22e775['filterTags'])||_0x22e775['filterCall'+'back']&&!_0x22e775['filterCall'+'back'](_0xda18df['entity']))continue;const _0x1bc8af=_0x1f5d0b['at'](_0x3dd855),_0xf67c8e=_0x3f5e76['at'](_0x3dd855),_0x1d0494=new Sg(_0xda18df['entity'],new A(_0x1bc8af['x'](),_0x1bc8af['y'](),_0x1bc8af['z']()),new A(_0xf67c8e['x'](),_0xf67c8e['y'](),_0xf67c8e['z']()),_0x57e259['at'](_0x3dd855));_0x3e7b48['push'](_0x1d0494);}}_0x22e775['sort']&&_0x3e7b48['sort']((_0x47c470,_0x5d6f0d)=>_0x47c470['hitFractio'+'n']-_0x5d6f0d['hitFractio'+'n']);}return Ammo['destroy'](_0x1b8620),_0x3e7b48;}['_storeColl'+'ision'](_0x3f87dd,_0x4e4c1d){let _0x5d5c47=!(0x5*0x2d3+0x2650+-0x1*0x346e);const _0x182039=_0x3f87dd['getGuid']();return this['collisions'][_0x182039]=this['collisions'][_0x182039]||{'others':[],'entity':_0x3f87dd},this['collisions'][_0x182039]['others']['indexOf'](_0x4e4c1d)<-0x1*0x449+0x5*0x79+0x1ec&&(this['collisions'][_0x182039]['others']['push'](_0x4e4c1d),_0x5d5c47=!(0x8*0x167+-0x53*0x43+0x1*0xa81)),this['frameColli'+'sions'][_0x182039]=this['frameColli'+'sions'][_0x182039]||{'others':[],'entity':_0x3f87dd},this['frameColli'+'sions'][_0x182039]['others']['push'](_0x4e4c1d),_0x5d5c47;}['_createCon'+'tactPointF'+'romAmmo'](_0x5ef613){const _0x3c68df=_0x5ef613['get_m_loca'+'lPointA'](),_0x4de943=_0x5ef613['get_m_loca'+'lPointB'](),_0xb25ec7=_0x5ef613['getPositio'+'nWorldOnA'](),_0x2e4beb=_0x5ef613['getPositio'+'nWorldOnB'](),_0x4cc8d8=_0x5ef613['get_m_norm'+'alWorldOnB'](),_0x3fb328=this['contactPoi'+'ntPool']['allocate']();return _0x3fb328['localPoint']['set'](_0x3c68df['x'](),_0x3c68df['y'](),_0x3c68df['z']()),_0x3fb328['localPoint'+'Other']['set'](_0x4de943['x'](),_0x4de943['y'](),_0x4de943['z']()),_0x3fb328['point']['set'](_0xb25ec7['x'](),_0xb25ec7['y'](),_0xb25ec7['z']()),_0x3fb328['pointOther']['set'](_0x2e4beb['x'](),_0x2e4beb['y'](),_0x2e4beb['z']()),_0x3fb328['normal']['set'](_0x4cc8d8['x'](),_0x4cc8d8['y'](),_0x4cc8d8['z']()),_0x3fb328['impulse']=_0x5ef613['getApplied'+'Impulse'](),_0x3fb328;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x8b1c6c){const _0x38ef0a=_0x8b1c6c['get_m_loca'+'lPointA'](),_0x465e74=_0x8b1c6c['get_m_loca'+'lPointB'](),_0x93aba1=_0x8b1c6c['getPositio'+'nWorldOnA'](),_0x137d6b=_0x8b1c6c['getPositio'+'nWorldOnB'](),_0x2afe97=_0x8b1c6c['get_m_norm'+'alWorldOnB'](),_0xbc9efd=this['contactPoi'+'ntPool']['allocate']();return _0xbc9efd['localPoint'+'Other']['set'](_0x38ef0a['x'](),_0x38ef0a['y'](),_0x38ef0a['z']()),_0xbc9efd['localPoint']['set'](_0x465e74['x'](),_0x465e74['y'](),_0x465e74['z']()),_0xbc9efd['pointOther']['set'](_0x93aba1['x'](),_0x93aba1['y'](),_0x93aba1['z']()),_0xbc9efd['point']['set'](_0x137d6b['x'](),_0x137d6b['y'](),_0x137d6b['z']()),_0xbc9efd['normal']['set'](_0x2afe97['x'](),_0x2afe97['y'](),_0x2afe97['z']()),_0xbc9efd['impulse']=_0x8b1c6c['getApplied'+'Impulse'](),_0xbc9efd;}['_createSin'+'gleContact'+'Result'](_0x91b293,_0x52ea41,_0x3f97a6){const _0x3d1d52=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x3d1d52['a']=_0x91b293,_0x3d1d52['b']=_0x52ea41,_0x3d1d52['localPoint'+'A']=_0x3f97a6['localPoint'],_0x3d1d52['localPoint'+'B']=_0x3f97a6['localPoint'+'Other'],_0x3d1d52['pointA']=_0x3f97a6['point'],_0x3d1d52['pointB']=_0x3f97a6['pointOther'],_0x3d1d52['normal']=_0x3f97a6['normal'],_0x3d1d52['impulse']=_0x3f97a6['impulse'],_0x3d1d52;}['_createCon'+'tactResult'](_0x5b911c,_0x1cceca){const _0x58c1f3=this['contactRes'+'ultPool']['allocate']();return _0x58c1f3['other']=_0x5b911c,_0x58c1f3['contacts']=_0x1cceca,_0x58c1f3;}['_cleanOldC'+'ollisions'](){for(const _0x1cd095 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x1cd095)){const _0x238f2d=this['frameColli'+'sions'][_0x1cd095],_0x3a9624=this['collisions'][_0x1cd095],_0x47c8b9=_0x3a9624['entity'],_0x109660=_0x47c8b9['collision'],_0x234c6a=_0x47c8b9['rigidbody'],_0x1d9f8b=_0x3a9624['others'];let _0x2c5d0b=_0x1d9f8b['length'];for(;_0x2c5d0b--;){const _0x142c26=_0x1d9f8b[_0x2c5d0b];(!_0x238f2d||_0x238f2d['others']['indexOf'](_0x142c26)<0x1*-0x17c2+-0x1*0x1ec5+0x3687)&&(_0x1d9f8b['splice'](_0x2c5d0b,-0x102f+0x2454+0x1*-0x1424),_0x47c8b9['trigger']?(_0x109660&&_0x109660['fire']('triggerlea'+'ve',_0x142c26),_0x142c26['rigidbody']&&_0x142c26['rigidbody']['fire']('triggerlea'+'ve',_0x47c8b9)):_0x142c26['trigger']||(_0x234c6a&&_0x234c6a['fire']('collisione'+'nd',_0x142c26),_0x109660&&_0x109660['fire']('collisione'+'nd',_0x142c26)));}_0x1d9f8b['length']===0xf66+0x5b*-0x4f+-0xbf*-0x11&&delete this['collisions'][_0x1cd095];}}['_hasContac'+'tEvent'](_0x53cac2){const _0x222070=_0x53cac2['collision'];if(_0x222070&&(_0x222070['hasEvent']('collisions'+'tart')||_0x222070['hasEvent']('collisione'+'nd')||_0x222070['hasEvent']('contact')))return!(0x2630+0x35*0x2+0x36*-0xb7);const _0x50c3c8=_0x53cac2['rigidbody'];return _0x50c3c8&&(_0x50c3c8['hasEvent']('collisions'+'tart')||_0x50c3c8['hasEvent']('collisione'+'nd')||_0x50c3c8['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x254ca9,_0x57501f){const _0x251ee0=Ammo['wrapPointe'+'r'](_0x254ca9,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x350ef3=_0x251ee0['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x322073=0x135f+-0xb6d+0x3*-0x2a6;_0x322073<_0x350ef3;_0x322073++){const _0x261191=_0x251ee0['getManifol'+'dByIndexIn'+'ternal'](_0x322073),_0x532bb7=_0x261191['getBody0'](),_0x5b7762=_0x261191['getBody1'](),_0x3ecc3b=Ammo['castObject'](_0x532bb7,Ammo['btRigidBod'+'y']),_0x93dc28=Ammo['castObject'](_0x5b7762,Ammo['btRigidBod'+'y']),_0x5d621a=_0x3ecc3b['entity'],_0x156e57=_0x93dc28['entity'];if(!_0x5d621a||!_0x156e57)continue;const _0x5af092=_0x3ecc3b['getCollisi'+'onFlags'](),_0x42dd43=_0x93dc28['getCollisi'+'onFlags'](),_0x4bdae4=_0x261191['getNumCont'+'acts'](),_0x3256d1=[],_0x53fe17=[];let _0x213b47;if(_0x4bdae4>-0x98b+-0x20b1*-0x1+-0x1726){if(_0x5af092&fo||_0x42dd43&fo){const _0x3e7ef3=_0x5d621a['collision']&&(_0x5d621a['collision']['hasEvent']('triggerent'+'er')||_0x5d621a['collision']['hasEvent']('triggerlea'+'ve')),_0x4acb0d=_0x156e57['collision']&&(_0x156e57['collision']['hasEvent']('triggerent'+'er')||_0x156e57['collision']['hasEvent']('triggerlea'+'ve')),_0x125423=_0x5d621a['rigidbody']&&(_0x5d621a['rigidbody']['hasEvent']('triggerent'+'er')||_0x5d621a['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x2cbdd1=_0x156e57['rigidbody']&&(_0x156e57['rigidbody']['hasEvent']('triggerent'+'er')||_0x156e57['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x3e7ef3&&(_0x213b47=this['_storeColl'+'ision'](_0x5d621a,_0x156e57),_0x213b47&&!(_0x42dd43&fo)&&_0x5d621a['collision']['fire']('triggerent'+'er',_0x156e57)),_0x4acb0d&&(_0x213b47=this['_storeColl'+'ision'](_0x156e57,_0x5d621a),_0x213b47&&!(_0x5af092&fo)&&_0x156e57['collision']['fire']('triggerent'+'er',_0x5d621a)),_0x125423&&(_0x213b47||(_0x213b47=this['_storeColl'+'ision'](_0x156e57,_0x5d621a)),_0x213b47&&_0x5d621a['rigidbody']['fire']('triggerent'+'er',_0x156e57)),_0x2cbdd1&&(_0x213b47||(_0x213b47=this['_storeColl'+'ision'](_0x5d621a,_0x156e57)),_0x213b47&&_0x156e57['rigidbody']['fire']('triggerent'+'er',_0x5d621a));}else{const _0x4cae17=this['_hasContac'+'tEvent'](_0x5d621a),_0x2c530a=this['_hasContac'+'tEvent'](_0x156e57),_0x510239=this['hasEvent']('contact');if(_0x510239||_0x4cae17||_0x2c530a){for(let _0x5ac60d=0xb94+0x1821+-0x23b5;_0x5ac60d<_0x4bdae4;_0x5ac60d++){const _0xfcf654=_0x261191['getContact'+'Point'](_0x5ac60d),_0x5356db=this['_createCon'+'tactPointF'+'romAmmo'](_0xfcf654);if(_0x4cae17||_0x2c530a){_0x3256d1['push'](_0x5356db);const _0x536893=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0xfcf654);_0x53fe17['push'](_0x536893);}if(_0x510239){const _0x1d4fc6=this['_createSin'+'gleContact'+'Result'](_0x5d621a,_0x156e57,_0x5356db);this['fire']('contact',_0x1d4fc6);}}if(_0x4cae17){const _0x382274=this['_createCon'+'tactResult'](_0x156e57,_0x3256d1);_0x213b47=this['_storeColl'+'ision'](_0x5d621a,_0x156e57),_0x5d621a['collision']&&(_0x5d621a['collision']['fire']('contact',_0x382274),_0x213b47&&_0x5d621a['collision']['fire']('collisions'+'tart',_0x382274)),_0x5d621a['rigidbody']&&(_0x5d621a['rigidbody']['fire']('contact',_0x382274),_0x213b47&&_0x5d621a['rigidbody']['fire']('collisions'+'tart',_0x382274));}if(_0x2c530a){const _0x3b29e7=this['_createCon'+'tactResult'](_0x5d621a,_0x53fe17);_0x213b47=this['_storeColl'+'ision'](_0x156e57,_0x5d621a),_0x156e57['collision']&&(_0x156e57['collision']['fire']('contact',_0x3b29e7),_0x213b47&&_0x156e57['collision']['fire']('collisions'+'tart',_0x3b29e7)),_0x156e57['rigidbody']&&(_0x156e57['rigidbody']['fire']('contact',_0x3b29e7),_0x213b47&&_0x156e57['rigidbody']['fire']('collisions'+'tart',_0x3b29e7));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x3bf3ce){let _0x34c1be,_0x453ad8;this['_stats']['physicsSta'+'rt']=ae(),this['_gravityFl'+'oat32'][-0x2006+-0x93d+0x2943]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0x1ba2+-0x1e6b+0x6*0x9ad]=this['gravity']['y'],this['_gravityFl'+'oat32'][0x1b4f+-0x751+-0x1*0x13fc]=this['gravity']['z'];const _0x332a08=this['dynamicsWo'+'rld']['getGravity']();(_0x332a08['x']()!==this['_gravityFl'+'oat32'][0x1e70+-0x12a+-0x2*0xea3]||_0x332a08['y']()!==this['_gravityFl'+'oat32'][-0x23f0+0x86e*0x4+-0x239*-0x1]||_0x332a08['z']()!==this['_gravityFl'+'oat32'][0x1fc8+-0x8*-0x296+-0x3476])&&(_0x332a08['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x332a08));const _0x41849a=this['_triggers'];for(_0x34c1be=0x17c3+-0xff3+0x64*-0x14,_0x453ad8=_0x41849a['length'];_0x34c1be<_0x453ad8;_0x34c1be++)_0x41849a[_0x34c1be]['updateTran'+'sform']();const _0x4673d1=this['_compounds'];for(_0x34c1be=-0x17b*0x1+0x1*0x1c09+-0x1a8e,_0x453ad8=_0x4673d1['length'];_0x34c1be<_0x453ad8;_0x34c1be++)_0x4673d1[_0x34c1be]['_updateCom'+'pound']();const _0x414fbb=this['_kinematic'];for(_0x34c1be=-0x1144+0x13f1+-0x2ad,_0x453ad8=_0x414fbb['length'];_0x34c1be<_0x453ad8;_0x34c1be++)_0x414fbb[_0x34c1be]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x3bf3ce,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x4057ce=this['_dynamic'];for(_0x34c1be=0x7*0x2f3+-0x1*-0x26+-0x14cb,_0x453ad8=_0x4057ce['length'];_0x34c1be<_0x453ad8;_0x34c1be++)_0x4057ce[_0x34c1be]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x3bf3ce),this['_stats']['physicsTim'+'e']=ae()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](di),Ammo['destroy'](ui),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,di=null,ui=null,Ys['onAppDestr'+'oy']());}}c(_x,'EVENT_CONT'+'ACT','contact'),pe['_buildAcce'+'ssors'](Ys['prototype'],mx);const Xn='none',vI='blend',vg=new q();class gx extends pe{constructor(_0x345d95,_0x3e5e53){super(_0x345d95,_0x3e5e53),this['_resolutio'+'n']=new W(-0x1*-0x47d+-0x41*-0x9+-0x446,0x7d9+0x9*0xa2+-0x419*0x3),this['_reference'+'Resolution']=new W(0x193e+-0x1b78+0x25d*0x2,0x79f+-0x1f15+-0x1*-0x18b6),this['_scaleMode']=Xn,this['scale']=-0xc3+0x4*-0x43e+0x11bc,this['_scaleBlen'+'d']=-0x1*0x23f7+0x443*-0x1+-0x2*-0x141d+0.5,this['_priority']=0x3f3+0x8*-0x3f8+0x1bcd,this['_screenSpa'+'ce']=!(0x301*0xd+0x3*0xbb+0x1cb*-0x17),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0x345d95['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x51769a,_0x597b9e){var _0x505919;if(!(_0x51769a instanceof je))return _0x597b9e;if(_0x51769a['element']){const _0x4f26a0=_0x51769a['element']['drawOrder'];_0x51769a['element']['drawOrder']=_0x597b9e++,_0x51769a['element']['_batchGrou'+'pId']>=0x12d+0x10e*-0x1b+0x1*0x1b4d&&_0x4f26a0!==_0x51769a['element']['drawOrder']&&((_0x505919=this['system']['app']['batcher'])==null||_0x505919['markGroupD'+'irty'](_0x51769a['element']['_batchGrou'+'pId']));}_0x51769a['particlesy'+'stem']&&(_0x51769a['particlesy'+'stem']['drawOrder']=_0x597b9e++);const _0x39ed07=_0x51769a['children'];for(let _0x5355cb=0xe6e+0x135d*-0x1+0x4ef;_0x5355cb<_0x39ed07['length'];_0x5355cb++)_0x597b9e=this['_recurseDr'+'awOrderSyn'+'c'](_0x39ed07[_0x5355cb],_0x597b9e);return _0x597b9e;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0x1*0x1dd3+-0x2227+0x455),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x293d61=this['_resolutio'+'n']['x']/this['scale'],_0x46f0cb=this['_resolutio'+'n']['y']/this['scale'],_0xe9994=-0xee1+0x29d*-0x2+-0x141b*-0x1,_0x527f66=_0x293d61,_0x3d2ec2=-_0x46f0cb;this['_screenMat'+'rix']['setOrtho'](_0xe9994,_0x527f66,_0x3d2ec2,0x496+-0x2c5*0x7+0xecd,-0xbcf+0x2055+-0x1485,-(0x103f+-0x43a+-0xc04)),this['_screenSpa'+'ce']||(vg['setScale']((-0x437+-0x871*0x4+0x25fb+0.5)*_0x293d61,(0x1333*0x2+-0x161c+-0x116*0xf+0.5)*_0x46f0cb,0x23b7+-0x1c*-0x11f+-0x431a),this['_screenMat'+'rix']['mul2'](vg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x4a323c,_0x33af50){const _0x1df47a=Math['log2']((_0x4a323c['x']||0x2f*0x4d+-0x2*-0x28a+-0x2*0x99b)/_0x33af50['x']),_0xdc2a42=Math['log2']((_0x4a323c['y']||-0x9*0x347+-0x263*0x1+-0x1fe3*-0x1)/_0x33af50['y']);return Math['pow'](-0x1*0x193f+-0x4*0x89a+-0x6a1*-0x9,_0x1df47a*(0x4f*0x1+0x88*0x1+-0xd6*0x1-this['_scaleBlen'+'d'])+_0xdc2a42*this['_scaleBlen'+'d']);}['_onResize'](_0x1afc47,_0x141582){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x1afc47,_0x141582),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x462ac0){this['_elements']['add'](_0x462ac0);}['_unbindEle'+'ment'](_0x2acda6){this['_elements']['delete'](_0x2acda6);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x1db6db=>_0x1db6db['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x4e23c0){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x4e23c0['x'],_0x4e23c0['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x571f29=>_0x571f29['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x1e907f){this['_reference'+'Resolution']['set'](_0x1e907f['x'],_0x1e907f['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x288b6a=>_0x288b6a['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Xn?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x357692){this['_screenSpa'+'ce']=_0x357692,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0xb9e9df=>_0xb9e9df['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x3f906d){_0x3f906d!==Xn&&_0x3f906d!==vI&&(_0x3f906d=Xn),!this['_screenSpa'+'ce']&&_0x3f906d!==Xn&&(_0x3f906d=Xn),this['_scaleMode']=_0x3f906d,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x4d5577){this['_scaleBlen'+'d']=_0x4d5577,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x42c31b=>_0x42c31b['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x45e635){_0x45e635>0x1530+-0x21df*-0x1+0x28*-0x15a&&(b['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x45e635+'\x20to\x20255'),_0x45e635=0x262f+-0x1d*0x110+0x2*-0x330),this['_priority']!==_0x45e635&&(this['_priority']=_0x45e635,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class bI{constructor(){this['enabled']=!(-0x37*0x3d+0x1*-0x975+0x1690);}}const xf=['enabled'];class wI extends Qe{constructor(_0x46225d){super(_0x46225d),this['id']='screen',this['ComponentT'+'ype']=gx,this['DataType']=bI,this['schema']=xf,this['windowReso'+'lution']=new W(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x6e3428,_0x5352e5,_0x14cb1e){_0x5352e5['priority']!==void(0x2187+-0x1*-0x4+-0x218b*0x1)&&(_0x6e3428['priority']=_0x5352e5['priority']),_0x5352e5['screenSpac'+'e']!==void(-0x13*-0x132+0x2dd*-0x2+-0x2*0x87e)&&(_0x6e3428['screenSpac'+'e']=_0x5352e5['screenSpac'+'e']),_0x6e3428['cull']=_0x6e3428['screenSpac'+'e'],_0x5352e5['scaleMode']!==void(-0x535*-0x3+-0xcb6*0x1+-0x2e9*0x1)&&(_0x6e3428['scaleMode']=_0x5352e5['scaleMode']),_0x5352e5['scaleBlend']!==void(0x1*0x191b+-0x276+-0x1*0x16a5)&&(_0x6e3428['scaleBlend']=_0x5352e5['scaleBlend']),_0x5352e5['resolution']!==void(-0x13cc+0x91f+0xaad*0x1)&&(_0x5352e5['resolution']instanceof W?_0x6e3428['_resolutio'+'n']['copy'](_0x5352e5['resolution']):_0x6e3428['_resolutio'+'n']['set'](_0x5352e5['resolution'][0x8fe+-0x49*0x1b+-0x14b*0x1],_0x5352e5['resolution'][0x145d+0x3d*0x37+-0x2177*0x1]),_0x6e3428['resolution']=_0x6e3428['_resolutio'+'n']),_0x5352e5['referenceR'+'esolution']!==void(0x195a+0x23e5+-0x1*0x3d3f)&&(_0x5352e5['referenceR'+'esolution']instanceof W?_0x6e3428['_reference'+'Resolution']['copy'](_0x5352e5['referenceR'+'esolution']):_0x6e3428['_reference'+'Resolution']['set'](_0x5352e5['referenceR'+'esolution'][-0x26e8+-0xd33*0x1+0x341b],_0x5352e5['referenceR'+'esolution'][0x651+0x1a2f+0x2f*-0xb1]),_0x6e3428['referenceR'+'esolution']=_0x6e3428['_reference'+'Resolution']),_0x6e3428['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x6e3428,_0x5352e5,xf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x47e84a){const _0x18c0f9=this['store'];for(const _0x2645aa in _0x18c0f9)_0x18c0f9[_0x2645aa]['entity']['screen']['update']&&_0x18c0f9[_0x2645aa]['entity']['screen']['update'](_0x47e84a);}['_onResize'](_0x3541a6,_0x317a3f){this['windowReso'+'lution']['x']=_0x3541a6,this['windowReso'+'lution']['y']=_0x317a3f;}['cloneCompo'+'nent'](_0x2e89f7,_0xaa1c86){const _0x2840b3=_0x2e89f7['screen'];return this['addCompone'+'nt'](_0xaa1c86,{'enabled':_0x2840b3['enabled'],'screenSpace':_0x2840b3['screenSpac'+'e'],'scaleMode':_0x2840b3['scaleMode'],'resolution':_0x2840b3['resolution']['clone'](),'referenceResolution':_0x2840b3['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x166242,_0x3b4efb){_0x3b4efb['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0xf015ec=this['_drawOrder'+'SyncQueue']['list']();for(let _0x1c74c9=-0x14f3+-0x1bb+0x16ae;_0x1c74c9<_0xf015ec['length'];_0x1c74c9++){const _0x4cd136=_0xf015ec[_0x1c74c9];_0x4cd136['callback']['call'](_0x4cd136['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0xbb1738,_0x2b8743,_0x305e6e){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0xbb1738)||this['_drawOrder'+'SyncQueue']['push'](_0xbb1738,{'callback':_0x2b8743,'scope':_0x305e6e});}}pe['_buildAcce'+'ssors'](gx['prototype'],xf);const ji=new W(),bg=new A(),Rr=new _u(),wg=new cy(),Tg=new A(),oo=new A(),TI=new ie(),AI={'x':'y','y':'x'};class Co extends de{constructor(_0x50a1bd,_0x4ada63){if(super(),!_0x50a1bd||!(_0x50a1bd instanceof Kt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x4ada63&&_0x4ada63!=='x'&&_0x4ada63!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x4ada63);this['_element']=_0x50a1bd,this['_app']=_0x50a1bd['system']['app'],this['_axis']=_0x4ada63||null,this['_enabled']=!(-0xb*-0x17f+-0x1388+0x313*0x1),this['_dragScale']=new A(),this['_dragStart'+'MousePosit'+'ion']=new A(),this['_dragStart'+'HandlePosi'+'tion']=new A(),this['_deltaMous'+'ePosition']=new A(),this['_deltaHand'+'lePosition']=new A(),this['_isDraggin'+'g']=!(-0x2*-0x1a+0x89b+0x467*-0x2),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x15ed39){this['_element'][_0x15ed39]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x15ed39]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x15ed39]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0xbb0037){const _0x26f047=_0xbb0037==='on';this['_hasDragLi'+'steners']&&_0x26f047||(this['_app']['mouse']&&(this['_element'][_0xbb0037]('mousemove',this['_onMove'],this),this['_element'][_0xbb0037]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),be['touch']&&(this['_element'][_0xbb0037]('touchmove',this['_onMove'],this),this['_element'][_0xbb0037]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0xbb0037]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0xbb0037]('selectmove',this['_onMove'],this),this['_element'][_0xbb0037]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x26f047);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x1f1b72){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x1f1b72['camera'],this['_calculate'+'DragScale']();const _0xfd05eb=this['_screenToL'+'ocal'](_0x1f1b72);_0xfd05eb&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(0x3*0x7bf+-0x50a+-0x1233),this['_dragStart'+'MousePosit'+'ion']['copy'](_0xfd05eb),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(-0xd*0x18d+0x2570+-0x5c2*0x3),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x518f61){return _0x518f61['inputSourc'+'e']?Rr['set'](_0x518f61['inputSourc'+'e']['getOrigin'](),_0x518f61['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x518f61),this['_chooseRay'+'OriginAndD'+'irection']()),Tg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0x2ae+-0x1b99+0x18ec)),wg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),Tg),wg['intersects'+'Ray'](Rr,oo)?(TI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](oo,oo),oo['mul'](this['_dragScale']),oo):null;}['_determine'+'InputPosit'+'ion'](_0x37150f){const _0x3d52f5=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x37150f['x']<'u'&&typeof _0x37150f['y']<'u'?(ji['x']=_0x37150f['x']*_0x3d52f5,ji['y']=_0x37150f['y']*_0x3d52f5):_0x37150f['changedTou'+'ches']?(ji['x']=_0x37150f['changedTou'+'ches'][0x162a+-0xf07*-0x2+-0x3438]['x']*_0x3d52f5,ji['y']=_0x37150f['changedTou'+'ches'][0xc9f+-0x1984+0xce5]['y']*_0x3d52f5):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Rr['origin']['set'](ji['x'],-ji['y'],-0xe58+-0x1*0x20c5+0x2f1d),Rr['direction']['copy'](A['FORWARD'])):(bg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](ji['x'],ji['y'],0xd1+0x1b00+-0x1bd0)),Rr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Rr['direction']['copy'](bg)['sub'](Rr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x3d7453=this['_element']['entity']['parent'];const _0x57feae=this['_element']['screen']&&this['_element']['screen']['screen'],_0xa30095=_0x57feae&&_0x57feae['screenSpac'+'e'],_0x3946d3=_0xa30095?_0x57feae['scale']:0x1*-0x841+0xd*0x169+-0xa13,_0x53517f=this['_dragScale'];for(_0x53517f['set'](_0x3946d3,_0x3946d3,_0x3946d3);_0x3d7453&&(_0x53517f['mul'](_0x3d7453['getLocalSc'+'ale']()),_0x3d7453=_0x3d7453['parent'],!(_0xa30095&&_0x3d7453['screen'])););_0x53517f['x']=(-0x2*0x4e9+-0x976+0x1349*0x1)/_0x53517f['x'],_0x53517f['y']=(0xd*-0xe6+0xe2*0x1c+-0xd09*0x1)/_0x53517f['y'],_0x53517f['z']=0x18b7+-0x39*0xe+0x13*-0x123;}['_onMove'](_0x337bae){const {_element:_0xc7fcf9,_deltaMousePosition:_0x45c666,_deltaHandlePosition:_0x32be20,_axis:_0x180d02}=this;if(_0xc7fcf9&&this['_isDraggin'+'g']&&this['enabled']&&_0xc7fcf9['enabled']&&_0xc7fcf9['entity']['enabled']){const _0x18f113=this['_screenToL'+'ocal'](_0x337bae);if(_0x18f113){if(_0x45c666['sub2'](_0x18f113,this['_dragStart'+'MousePosit'+'ion']),_0x32be20['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x45c666),_0x180d02){const _0x4475e0=_0xc7fcf9['entity']['getLocalPo'+'sition'](),_0x59c0d1=AI[_0x180d02];_0x32be20[_0x59c0d1]=_0x4475e0[_0x59c0d1];}_0xc7fcf9['entity']['setLocalPo'+'sition'](_0x32be20),this['fire']('drag:move',_0x32be20);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x48f511){this['_enabled']=_0x48f511;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(Co,'EVENT_DRAG'+'START','drag:start'),c(Co,'EVENT_DRAG'+'END','drag:end'),c(Co,'EVENT_DRAG'+'MOVE','drag:move');const EI=0x1cc*-0x5+0x21b4+0x8*-0x317,Ag=-0x283+-0x129f+0x1523,CI=-0x8*-0x4ae+-0x660*-0x1+0xb2*-0x3f,MI=-0x19d8+-0x15a5*-0x1+0x433,PI=-0x9e8+0x1*0x673+0x1*0x376,lo=new W();class yx extends pe{constructor(_0x98b8a6,_0x20bc49){super(_0x98b8a6,_0x20bc49),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][ye]=null,this['_prevConte'+'ntSizes'][Ve]=null,this['_scroll']=new W(),this['_velocity']=new A(),this['_dragStart'+'Position']=new A(),this['_disabledC'+'ontentInpu'+'t']=!(0xebd*0x1+0x557*0x3+0x1*-0x1ec1),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x348837=this['system']['store'][this['entity']['getGuid']()];return _0x348837?_0x348837['data']:null;}set['enabled'](_0x23803b){this['_setValue']('enabled',_0x23803b);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x3b8eed){this['_setValue']('horizontal',_0x3b8eed);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x1929c1){this['_setValue']('vertical',_0x1929c1);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0xec760b){this['_setValue']('scrollMode',_0xec760b);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x171097){this['_setValue']('bounceAmou'+'nt',_0x171097);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x1ab031){this['_setValue']('friction',_0x1ab031);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x34e99b){this['_setValue']('dragThresh'+'old',_0x34e99b);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x1e6419){this['_setValue']('useMouseWh'+'eel',_0x1e6419);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x88b46b){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x88b46b);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x75fe2a){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x75fe2a);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x1d1d86){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x1d1d86);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x581fe4){if(this['_viewportE'+'ntity']===_0x581fe4)return;const _0x302d37=typeof _0x581fe4=='string';this['_viewportE'+'ntity']&&_0x302d37&&this['_viewportE'+'ntity']['getGuid']()===_0x581fe4||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x581fe4 instanceof Oe?this['_viewportE'+'ntity']=_0x581fe4:_0x302d37?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x581fe4)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x302d37&&_0x581fe4&&(this['data']['viewportEn'+'tity']=_0x581fe4));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x2ca70d){if(this['_contentEn'+'tity']===_0x2ca70d)return;const _0x4dcab8=typeof _0x2ca70d=='string';this['_contentEn'+'tity']&&_0x4dcab8&&this['_contentEn'+'tity']['getGuid']()===_0x2ca70d||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x2ca70d instanceof Oe?this['_contentEn'+'tity']=_0x2ca70d:_0x4dcab8?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x2ca70d)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x4dcab8&&_0x2ca70d&&(this['data']['contentEnt'+'ity']=_0x2ca70d));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x218044){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x218044)return;const _0x2ccef3=typeof _0x218044=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x2ccef3&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x218044||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x218044 instanceof Oe?this['_horizonta'+'lScrollbar'+'Entity']=_0x218044:_0x2ccef3?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x218044)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][ye]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x2ccef3&&_0x218044&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x218044));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x1bc4ff){if(this['_verticalS'+'crollbarEn'+'tity']===_0x1bc4ff)return;const _0x21208a=typeof _0x1bc4ff=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x21208a&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x1bc4ff||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x1bc4ff instanceof Oe?this['_verticalS'+'crollbarEn'+'tity']=_0x1bc4ff:_0x21208a?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x1bc4ff)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][Ve]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x21208a&&_0x1bc4ff&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x1bc4ff));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0xfb6b18){this['_onSetScro'+'ll'](_0xfb6b18['x'],_0xfb6b18['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0xf63e1,_0x325b1f){const _0xf2d5df=this['data'],_0x5b44fa=_0xf2d5df[_0xf63e1];_0xf2d5df[_0xf63e1]=_0x325b1f,this['fire']('set',_0xf63e1,_0x5b44fa,_0x325b1f);}['_toggleLif'+'ecycleList'+'eners'](_0x231b94){this[_0x231b94]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x231b94]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x231b94]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x23f3d8){if(this['entity']['element']){if(_0x23f3d8==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x23f3d8]('resize',this['_syncAll'],this),this['entity']['element'][_0x23f3d8](Du,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x23f3d8==='on';}}['_onElement'+'ComponentA'+'dd'](_0x5cdf5a){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x253a24){var _0x1a197c;(_0x1a197c=this['_evtElemen'+'tRemove'])==null||_0x1a197c['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x16e594,_0x18e3f0;(_0x16e594=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x16e594['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x18e3f0=this['_viewportE'+'ntity'])!=null&&_0x18e3f0['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x2894b2=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x2894b2['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x2894b2['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x5210ac,_0x71f5d5;(_0x5210ac=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x5210ac['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x71f5d5=this['_evtViewpo'+'rtResize'])==null||_0x71f5d5['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x5f4699,_0x5c5274;(_0x5f4699=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x5f4699['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x5c5274=this['_contentEn'+'tity'])!=null&&_0x5c5274['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0xbf3cf5=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0xbf3cf5['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0xbf3cf5['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x4d51e1,_0x42ff57;(_0x4d51e1=this['_evtConten'+'tElementRe'+'move'])==null||_0x4d51e1['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x42ff57=this['_evtConten'+'tResize'])==null||_0x42ff57['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Co(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][ye]=null,this['_prevConte'+'ntSizes'][Ve]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x3052ce){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0x22b9+-0x1df5*-0x1+-0x7a*-0xa),this['_setScroll'+'FromConten'+'tPosition'](_0x3052ce),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x3052ce),!this['_disabledC'+'ontentInpu'+'t'])){const _0x2dae99=_0x3052ce['x']-this['_dragStart'+'Position']['x'],_0x1941cb=_0x3052ce['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x2dae99)>this['dragThresh'+'old']||Math['abs'](_0x1941cb)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x2438a1;(_0x2438a1=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x2438a1['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x37cd98;(_0x37cd98=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x37cd98['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x1e2075){!this['_scrollbar'+'UpdateFlag'+'s'][ye]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x1e2075,null);}['_onSetVert'+'icalScroll'+'barValue'](_0xa2a6b6){!this['_scrollbar'+'UpdateFlag'+'s'][Ve]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0xa2a6b6);}['_onHorizon'+'talScrollb'+'arGain'](){var _0xcdf365;const _0x5e5488=(_0xcdf365=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(0x8aa+-0x1*0x24ce+0x1c24):_0xcdf365['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x5e5488['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x5e5488['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ye),this['_syncScrol'+'lbarPositi'+'on'](ye);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x18a79d;const _0x5b4678=(_0x18a79d=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0x2659+-0x251d+0x4b76):_0x18a79d['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x5b4678['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x5b4678['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ve),this['_syncScrol'+'lbarPositi'+'on'](Ve);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x392635,_0x1caf86;(_0x392635=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x392635['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x1caf86=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x1caf86['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x1fa3ec,_0x415e2a;(_0x1fa3ec=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x1fa3ec['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x415e2a=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x415e2a['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](ye);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](Ve);}['_onSetScro'+'ll'](_0x3100cb,_0x135cc2,_0x2a98cf){_0x2a98cf!==!(0x2319+-0x1*-0xafb+-0x2e13)&&this['_velocity']['set'](-0x1bdf+-0x1fc6*-0x1+-0x3e7,0xd49+-0x8c*-0x37+0x1*-0x2b5d,-0x1bda+-0x1221+0x1*0x2dfb);const _0x22cdf5=this['_updateAxi'+'s'](_0x3100cb,'x',ye),_0x4003b6=this['_updateAxi'+'s'](_0x135cc2,'y',Ve);(_0x22cdf5||_0x4003b6)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x4c26c5,_0x57a6e9,_0x4262c3){const _0x2454e5=_0x4c26c5!==null&&Math['abs'](_0x4c26c5-this['_scroll'][_0x57a6e9])>0x4d2+0x1eb*-0x8+0x1c1*0x6+0.00001;return(_0x2454e5||this['_isDraggin'+'g']()||_0x4c26c5===-0x1*0x23+-0xd33+0x239*0x6)&&(this['_scroll'][_0x57a6e9]=this['_determine'+'NewScrollV'+'alue'](_0x4c26c5,_0x57a6e9,_0x4262c3),this['_syncConte'+'ntPosition'](_0x4262c3),this['_syncScrol'+'lbarPositi'+'on'](_0x4262c3)),_0x2454e5;}['_determine'+'NewScrollV'+'alue'](_0xd82a62,_0x152771,_0x28c528){if(!this['_getScroll'+'ingEnabled'](_0x28c528))return this['_scroll'][_0x152771];switch(this['scrollMode']){case EI:return z['clamp'](_0xd82a62,-0x6a4*-0x4+0x1af3+0x13*-0x2d1,this['_getMaxScr'+'ollValue'](_0x28c528));case Ag:return this['_setVeloci'+'tyFromOver'+'shoot'](_0xd82a62,_0x152771,_0x28c528),_0xd82a62;case CI:return _0xd82a62;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0xd82a62;}}['_syncAll'](){this['_syncConte'+'ntPosition'](ye),this['_syncConte'+'ntPosition'](Ve),this['_syncScrol'+'lbarPositi'+'on'](ye),this['_syncScrol'+'lbarPositi'+'on'](Ve),this['_syncScrol'+'lbarEnable'+'dState'](ye),this['_syncScrol'+'lbarEnable'+'dState'](Ve);}['_syncConte'+'ntPosition'](_0x1de0c1){if(!this['_contentEn'+'tity'])return;const _0x11e2cb=this['_getAxis'](_0x1de0c1),_0x5e70c3=this['_getSign'](_0x1de0c1),_0x20ecad=this['_prevConte'+'ntSizes'][_0x1de0c1],_0x259140=this['_getConten'+'tSize'](_0x1de0c1);if(_0x20ecad!==null&&Math['abs'](_0x20ecad-_0x259140)>-0x91a*-0x3+-0x1*-0x1750+-0xd1*0x3e+0.0001){const _0x21ba06=this['_getMaxOff'+'set'](_0x1de0c1,_0x20ecad),_0x5ad08f=this['_getMaxOff'+'set'](_0x1de0c1,_0x259140);_0x5ad08f===-0x2*-0x4b5+0x16c9+0x2033*-0x1?this['_scroll'][_0x11e2cb]=0x62*-0x55+0x637*-0x1+-0x16*-0x1c3:this['_scroll'][_0x11e2cb]=z['clamp'](this['_scroll'][_0x11e2cb]*_0x21ba06/_0x5ad08f,0x337*-0xa+0x2fa+0x1d2c,0x6c+0x2e*-0xd3+0x257f);}const _0x3bc53b=this['_scroll'][_0x11e2cb]*this['_getMaxOff'+'set'](_0x1de0c1),_0x1710b6=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x1710b6[_0x11e2cb]=_0x3bc53b*_0x5e70c3,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x1710b6),this['_prevConte'+'ntSizes'][_0x1de0c1]=_0x259140;}['_syncScrol'+'lbarPositi'+'on'](_0x365fd2){const _0x66fe52=this['_scrollbar'+'Entities'][_0x365fd2];if(!(_0x66fe52!=null&&_0x66fe52['scrollbar']))return;const _0x131d19=this['_getAxis'](_0x365fd2);this['_scrollbar'+'UpdateFlag'+'s'][_0x365fd2]=!(0x8d6+-0x23c9+0x1af3),_0x66fe52['scrollbar']['value']=this['_scroll'][_0x131d19],_0x66fe52['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x131d19,_0x365fd2),this['_scrollbar'+'UpdateFlag'+'s'][_0x365fd2]=!(0x1*0x2383+0x5c9+-0xb*0x3c1);}['_syncScrol'+'lbarEnable'+'dState'](_0x581f05){const _0xd677b9=this['_scrollbar'+'Entities'][_0x581f05];if(!_0xd677b9)return;const _0x11f050=this['_getScroll'+'ingEnabled'](_0x581f05),_0xe84fd8=this['_getScroll'+'barVisibil'+'ity'](_0x581f05);switch(_0xe84fd8){case MI:_0xd677b9['enabled']=_0x11f050;return;case PI:_0xd677b9['enabled']=_0x11f050&&this['_contentIs'+'LargerThan'+'Viewport'](_0x581f05);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0xe84fd8),_0xd677b9['enabled']=_0x11f050;}}['_contentIs'+'LargerThan'+'Viewport'](_0x407002){return this['_getConten'+'tSize'](_0x407002)>this['_getViewpo'+'rtSize'](_0x407002);}['_contentPo'+'sitionToSc'+'rollValue'](_0x419bd5){const _0xab74f6=this['_getMaxOff'+'set'](ye),_0x36502e=this['_getMaxOff'+'set'](Ve);return _0xab74f6===0xb*0x211+0x1*-0x7b+-0x59*0x40?lo['x']=-0x1*-0xf43+0x4cb*0x4+-0x226f:lo['x']=_0x419bd5['x']/_0xab74f6,_0x36502e===0x938*-0x4+0x23b6+0x12a*0x1?lo['y']=-0x2*-0x25a+0x233+-0x6e7:lo['y']=_0x419bd5['y']/-_0x36502e,lo;}['_getMaxOff'+'set'](_0x5f079f,_0x252818){_0x252818=_0x252818===void(0x38+0x1f41+0x1*-0x1f79)?this['_getConten'+'tSize'](_0x5f079f):_0x252818;const _0x10d486=this['_getViewpo'+'rtSize'](_0x5f079f);return _0x252818<_0x10d486?-this['_getViewpo'+'rtSize'](_0x5f079f):_0x10d486-_0x252818;}['_getMaxScr'+'ollValue'](_0x2e4914){return this['_contentIs'+'LargerThan'+'Viewport'](_0x2e4914)?-0x1f39+0x1*-0x1284+0x31be:0x4*-0x259+0x1*-0x18e6+-0x6*-0x5b7;}['_getScroll'+'barHandleS'+'ize'](_0x2ebd44,_0x22b74f){const _0x373e5f=this['_getViewpo'+'rtSize'](_0x22b74f),_0x4f1c04=this['_getConten'+'tSize'](_0x22b74f);if(Math['abs'](_0x4f1c04)<-0x1*-0xf0c+0x1*0x16b5+-0x25c1*0x1+0.001)return 0x9e*0x1+-0x1f6a+0x1ecd;const _0x2f47cb=Math['min'](_0x373e5f/_0x4f1c04,0x1*-0xa32+-0x16fb+0x212e),_0x4624dd=this['_toOversho'+'ot'](this['_scroll'][_0x2ebd44],_0x22b74f);return _0x4624dd===0x2*-0x1300+-0x8ae+0x2eae?_0x2f47cb:_0x2f47cb/(-0x18e*0xb+0x174c+-0x631+Math['abs'](_0x4624dd));}['_getViewpo'+'rtSize'](_0x1e9cb7){return this['_getSize'](_0x1e9cb7,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x2dbc40){return this['_getSize'](_0x2dbc40,this['_contentEn'+'tity']);}['_getSize'](_0x367d6c,_0x1dfc0e){return _0x1dfc0e!=null&&_0x1dfc0e['element']?_0x1dfc0e['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x367d6c)]:-0x85f*0x1+-0xaba+0x1*0x1319;}['_getScroll'+'ingEnabled'](_0x9572f){if(_0x9572f===ye)return this['horizontal'];if(_0x9572f===Ve)return this['vertical'];b['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x9572f);}['_getScroll'+'barVisibil'+'ity'](_0x5ae754){if(_0x5ae754===ye)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x5ae754===Ve)return this['verticalSc'+'rollbarVis'+'ibility'];b['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x5ae754);}['_getSign'](_0x33e500){return _0x33e500===ye?-0x1ab7*-0x1+0x4*-0x37c+-0xcc6:-(0x127+-0xd7*-0x2c+-0x261a);}['_getAxis'](_0x13f260){return _0x13f260===ye?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x551378){return _0x551378===ye?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](ye),this['_syncScrol'+'lbarEnable'+'dState'](Ve));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Ag&&(this['_hasOversh'+'oot']('x',ye)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',ye),this['_hasOversh'+'oot']('y',Ve)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',Ve)),Math['abs'](this['_velocity']['x'])>0x8d*0x12+-0x16e3+0xcf9+0.0001||Math['abs'](this['_velocity']['y'])>-0x21c1+0x1927+0x89a+0.0001){const _0x236373=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x236373['x']+=this['_velocity']['x'],_0x236373['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x236373),this['_setScroll'+'FromConten'+'tPosition'](_0x236373);}this['_velocity']['x']*=-0x664+-0x11*0x1ac+-0x3*-0xb9b-this['friction'],this['_velocity']['y']*=0x23c*-0x7+-0x12f7+-0x14*-0x1bb-this['friction'];}}['_hasOversh'+'oot'](_0x5bdaba,_0x372df9){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x5bdaba],_0x372df9))>0x13c9*-0x1+-0x5*-0x54e+-0x6bd+0.001;}['_toOversho'+'ot'](_0x2b9aeb,_0x2e037b){const _0x35da7a=this['_getMaxScr'+'ollValue'](_0x2e037b);return _0x2b9aeb<0x38a*0x3+0x92d+0x3*-0x699?_0x2b9aeb:_0x2b9aeb>_0x35da7a?_0x2b9aeb-_0x35da7a:-0x7ae*-0x1+-0x1*0x2c5+-0x4e9*0x1;}['_setVeloci'+'tyFromOver'+'shoot'](_0x250514,_0x413ef5,_0x2eed06){const _0x13920b=this['_toOversho'+'ot'](_0x250514,_0x2eed06)*this['_getMaxOff'+'set'](_0x2eed06)*this['_getSign'](_0x2eed06);Math['abs'](_0x13920b)>0x5*0x501+0x3*-0x521+-0x1*0x9a2&&(this['_velocity'][_0x413ef5]=-_0x13920b/(this['bounceAmou'+'nt']*(0x162e+0x2*-0xfb5+0x96e)+(0x25*-0x44+0x481*-0x4+0x1bd9)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x15d8f7){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x15d8f7,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x15d8f7)):(this['_velocity']['set'](0xed0+0x1299*-0x1+0x3c9,-0x6ee*0x2+0x85b+0x581,-0x812*-0x3+-0x120+-0x1716),this['_prevConte'+'ntDragPosi'+'tion']=_0x15d8f7['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x1c8aa8){let _0x102bf3=this['_contentPo'+'sitionToSc'+'rollValue'](_0x1c8aa8);this['_isDraggin'+'g']()&&(_0x102bf3=this['_applyScro'+'llValueTen'+'sion'](_0x102bf3)),this['_onSetScro'+'ll'](_0x102bf3['x'],_0x102bf3['y'],!(-0x1b01+0x781*-0x4+-0x1*-0x3906));}['_applyScro'+'llValueTen'+'sion'](_0x5e6576){let _0x4badd6=this['_getMaxScr'+'ollValue'](ye),_0x4eece5=this['_toOversho'+'ot'](_0x5e6576['x'],ye);return _0x4eece5>-0x60*0x1c+0xc30+-0x6c*0x4?_0x5e6576['x']=_0x4badd6+(0x1*-0x1583+-0x68c+-0x10*-0x1c1)*Math['log10'](-0x235f*0x1+0x9b1+-0x107*-0x19+_0x4eece5):_0x4eece5<0x2cf+0x429*-0x9+0x22a2&&(_0x5e6576['x']=-(0x19ad+-0xd*-0x179+0x95*-0x4d)*Math['log10'](-0x1*-0xd7+-0x2458+-0x25e*-0xf-_0x4eece5)),_0x4badd6=this['_getMaxScr'+'ollValue'](Ve),_0x4eece5=this['_toOversho'+'ot'](_0x5e6576['y'],Ve),_0x4eece5>0x325+-0x113f+-0x5*-0x2d2?_0x5e6576['y']=_0x4badd6+(-0x152c*-0x1+0x2423*0x1+-0x2*0x1ca7)*Math['log10'](0x2027+-0x2*-0x125b+-0x44dc+_0x4eece5):_0x4eece5<-0xf13+-0xb*-0x5c+0xb1f&&(_0x5e6576['y']=-(0x3e*-0x9f+-0x1*0x1233+0x356*0x11)*Math['log10'](0x164+0x283+-0x2*0x1f3-_0x4eece5)),_0x5e6576;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x50c145){var _0x2b2134,_0x1f0c69;(_0x2b2134=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x2b2134['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x50c145),(_0x1f0c69=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x1f0c69['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x50c145);}['_setConten'+'tDraggingE'+'nabled'](_0x53648f){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x53648f);}['_onMouseWh'+'eel'](_0x2ecdf6){var _0x955c70;if(!this['useMouseWh'+'eel']||!((_0x955c70=this['_contentEn'+'tity'])!=null&&_0x955c70['element']))return;const _0x5d9d32=_0x2ecdf6['event'],_0x43a0f8=_0x5d9d32['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x2c4fb6=_0x5d9d32['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x3e38f4=z['clamp'](this['_scroll']['x']+_0x43a0f8,-0x1da1+-0x5*0x2ed+0x2c42,this['_getMaxScr'+'ollValue'](ye)),_0x2b6993=z['clamp'](this['_scroll']['y']+_0x2c4fb6,-0x2*-0x581+0x2489+0x2f8b*-0x1,this['_getMaxScr'+'ollValue'](Ve));this['scroll']=new W(_0x3e38f4,_0x2b6993);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x40ca34=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x40ca34['element']&&(_0x40ca34['element']['useInput']=!(-0x15f0+-0x1c25+0x1*0x3215));}this['_disabledC'+'ontentInpu'+'t']=!(-0x9bb+0x13*-0x1e2+0x2d82);}['_disableCo'+'ntentInput'](){const _0x425aec=_0x3fc122=>{_0x3fc122['element']&&_0x3fc122['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x3fc122),_0x3fc122['element']['useInput']=!(-0x1c17+0x22e6*0x1+-0x6ce));const _0x36b2de=_0x3fc122['children'];for(let _0x251358=0x4b*-0x4a+-0x2*0x1c2+0x1932,_0x26ed9e=_0x36b2de['length'];_0x251358<_0x26ed9e;_0x251358++)_0x425aec(_0x36b2de[_0x251358]);};if(this['_contentEn'+'tity']){const _0x37b18f=this['_contentEn'+'tity']['children'];for(let _0x57d335=0x2509+0xc15+-0x188f*0x2,_0x531fe5=_0x37b18f['length'];_0x57d335<_0x531fe5;_0x57d335++)_0x425aec(_0x37b18f[_0x57d335]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x1fdd+0x27*-0xd6+-0x4077*-0x1);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x1*-0x2345+-0x2560+-0x31*-0xb)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x8bd*-0x3+-0x1589*0x1+0x4ae*-0x1)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0xbc5+0x11cf+0x135*-0x5)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x1926*0x1+0x1324+0x603));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5344f7,_0x55cb46){_0x5344f7['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x55cb46[_0x5344f7['viewportEn'+'tity']['getGuid']()]),_0x5344f7['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x55cb46[_0x5344f7['contentEnt'+'ity']['getGuid']()]),_0x5344f7['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x55cb46[_0x5344f7['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x5344f7['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x55cb46[_0x5344f7['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(yx,'EVENT_SETS'+'CROLL','set:scroll');const RI=-0x25c9*0x1+-0x10bb+0x368e;class II{constructor(){c(this,'enabled',!(-0x78b+0x112f+-0x9a4)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',RI),c(this,'useMouseWh'+'eel',!(0x19d2+0xe*0x13+0x17e*-0x12)),c(this,'mouseWheel'+'Sensitivit'+'y',new W(0x11cd+0x132f*0x1+-0x1*0x24fb,0x23e0+-0x43*0xd+-0x2078)),c(this,'horizontal'+'ScrollbarV'+'isibility',-0x1617+-0x1*-0xcd4+0x943),c(this,'verticalSc'+'rollbarVis'+'ibility',-0x28*-0x4e+0xf01+-0x1b31),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],DI=-0x6fe+-0xbc1+-0xe5*-0x15;class LI extends Qe{constructor(_0xceb606){super(_0xceb606),this['id']='scrollview',this['ComponentT'+'ype']=yx,this['DataType']=II,this['schema']=Eg,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x14e209,_0x17eb53,_0x41f7dd){_0x17eb53['dragThresh'+'old']===void(-0x263*0xe+0x1f49+0x5*0x6d)&&(_0x17eb53['dragThresh'+'old']=DI),_0x17eb53['useMouseWh'+'eel']===void(0x141b*0x1+-0x1732*0x1+0x317*0x1)&&(_0x17eb53['useMouseWh'+'eel']=!(0x17c7+-0x9bf+-0xe08)),_0x17eb53['mouseWheel'+'Sensitivit'+'y']===void(-0x25*-0x83+-0x5b1+-0x3*0x46a)&&(_0x17eb53['mouseWheel'+'Sensitivit'+'y']=new W(-0x1bfe+-0xb30+0x272f,-0x1164+-0x4f*0x1d+-0x464*-0x6)),super['initialize'+'ComponentD'+'ata'](_0x14e209,_0x17eb53,Eg),_0x14e209['viewportEn'+'tity']=_0x17eb53['viewportEn'+'tity'],_0x14e209['contentEnt'+'ity']=_0x17eb53['contentEnt'+'ity'],_0x14e209['horizontal'+'ScrollbarE'+'ntity']=_0x17eb53['horizontal'+'ScrollbarE'+'ntity'],_0x14e209['verticalSc'+'rollbarEnt'+'ity']=_0x17eb53['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x4ee148){const _0x12eab4=this['store'];for(const _0x4d4513 in _0x12eab4){const _0x37a5eb=_0x12eab4[_0x4d4513]['entity'],_0x5286a7=_0x37a5eb['scrollview'];_0x5286a7['enabled']&&_0x37a5eb['enabled']&&_0x5286a7['onUpdate']();}}['_onRemoveC'+'omponent'](_0x460018,_0x36c317){_0x36c317['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class xx extends pe{constructor(_0x57c898,_0x371615){super(_0x57c898,_0x371615),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x1dfbb4=this['system']['store'][this['entity']['getGuid']()];return _0x1dfbb4?_0x1dfbb4['data']:null;}set['enabled'](_0x3d30d4){this['_setValue']('enabled',_0x3d30d4);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x51a443){this['_setValue']('orientatio'+'n',_0x51a443);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x2fe0dd){this['_setValue']('value',_0x2fe0dd);}get['value'](){return this['data']['value'];}set['handleSize'](_0x27adcc){this['_setValue']('handleSize',_0x27adcc);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x58093d){if(this['_handleEnt'+'ity']===_0x58093d)return;const _0x2aaef1=typeof _0x58093d=='string';this['_handleEnt'+'ity']&&_0x2aaef1&&this['_handleEnt'+'ity']['getGuid']()===_0x58093d||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x58093d instanceof Oe?this['_handleEnt'+'ity']=_0x58093d:_0x2aaef1?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x58093d)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x2aaef1&&_0x58093d&&(this['data']['handleEnti'+'ty']=_0x58093d));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x13fccf,_0x2e4daa){const _0x41611e=this['data'],_0x37d295=_0x41611e[_0x13fccf];_0x41611e[_0x13fccf]=_0x2e4daa,this['fire']('set',_0x13fccf,_0x37d295,_0x2e4daa);}['_toggleLif'+'ecycleList'+'eners'](_0x2908c6){this[_0x2908c6]('set_value',this['_onSetValu'+'e'],this),this[_0x2908c6]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x2908c6]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x31d910,_0x5a989;(_0x31d910=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x31d910['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x5a989=this['_handleEnt'+'ity'])!=null&&_0x5a989['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x18472a=this['_handleEnt'+'ity']['element'],_0x4ae78b=this['_evtHandle'+'EntityChan'+'ges'];_0x4ae78b['push'](_0x18472a['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x4ae78b['push'](_0x18472a['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x4ae78b['push'](_0x18472a['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x4ae78b['push'](_0x18472a['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x124327=-0x1*0x3a5+-0x1e5a+-0x3*-0xb55;_0x124327<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x124327++)this['_evtHandle'+'EntityChan'+'ges'][_0x124327]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x11*0x1de+-0xf29+0x2ee7;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Co(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x19e9db){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x19e9db[this['_getAxis']()]));}['_onSetValu'+'e'](_0x3c6bf2,_0x1ac8cd,_0x21e592){Math['abs'](_0x21e592-_0x1ac8cd)>-0x155d+-0x1843*0x1+-0x920*-0x5+0.00001&&(this['data']['value']=z['clamp'](_0x21e592,0x1862+0x1482+-0x2ce4,0x93a*-0x3+0x1060+0xb4f),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x4e9f51,_0x530d1f,_0xfa9c1e){Math['abs'](_0xfa9c1e-_0x530d1f)>-0x1*0x19f+0x19fe+-0x11*0x16f+0.00001&&(this['data']['handleSize']=z['clamp'](_0xfa9c1e,-0xf0d+-0xbf7*0x1+0x13*0x16c,-0x234*0x2+-0x848+-0x43b*-0x3),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x523598,_0x4d5bd8,_0x34a12f){var _0x764ec6;_0x34a12f!==_0x4d5bd8&&((_0x764ec6=this['_handleEnt'+'ity'])!=null&&_0x764ec6['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x16a*0x1+0x129f*-0x1+0x1*0x1135);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x18dfec=this['_handleEnt'+'ity'],_0x55ae9c=_0x18dfec==null?void(-0x13*0xc1+0x1*0x1409+-0x5b6):_0x18dfec['element'];if(_0x18dfec){const _0x33d7c9=_0x18dfec['getLocalPo'+'sition']();_0x33d7c9[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x18dfec['setLocalPo'+'sition'](_0x33d7c9);}_0x55ae9c&&(_0x55ae9c[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x25a351){return _0x25a351*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0xa5c610){return _0xa5c610*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x2003+0x883+-0x8*-0x2f0+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===ye?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x21bd+-0x76*-0x29+0xed7;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===ye?0x51e+-0xaab+0x9*0x9e:-(0x1*-0x1c52+-0x663+-0xb92*-0x3);}['_getAxis'](){return this['orientatio'+'n']===ye?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===ye?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===ye?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x4f7816){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x4f7816);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x1c2e+0x164d*-0x1+0x327b*0x1));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0xd0*0xa+-0xa3*-0x3+-0xa08));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x58a516,_0x4364b3){_0x58a516['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x4364b3[_0x58a516['handleEnti'+'ty']['getGuid']()]);}}c(xx,'EVENT_SETV'+'ALUE','set:value');class FI{constructor(){c(this,'enabled',!(0x4*0x4fd+0x1d49+-0x313d)),c(this,'orientatio'+'n',ye),c(this,'value',0x57d+0x2287+-0x4*0xa01),c(this,'handleSize',-0x7dc+0x9*0x3fd+-0x1c09),c(this,'handleEnti'+'ty',null);}}const Cg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class kI extends Qe{constructor(_0x4fefff){super(_0x4fefff),this['id']='scrollbar',this['ComponentT'+'ype']=xx,this['DataType']=FI,this['schema']=Cg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x3fd72f,_0xb80b69,_0x2fc3d8){super['initialize'+'ComponentD'+'ata'](_0x3fd72f,_0xb80b69,Cg),_0x3fd72f['handleEnti'+'ty']=_0xb80b69['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x437fcc){_0x437fcc['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x2844ae,_0x356a8d){_0x356a8d['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(0x1821+0x2*0x1191+-0x3b42),'startTime':0x0,'duration':0x0,'position':new A(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class sr extends de{constructor(_0x1276a8,_0x363bf5='Untitled',_0x4323a9={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x1276a8,this['_assets']=_0x1276a8['system']['app']['assets'],this['_manager']=_0x1276a8['system']['manager'],this['name']=_0x363bf5,this['_volume']=_0x4323a9['volume']!==void(-0x119*0x5+-0x1f*0x132+0x2a8b)?z['clamp'](Number(_0x4323a9['volume'])||0xd*0xe5+0x1ff8+0x1*-0x2b99,0x28d*-0x9+0x3*-0x704+0x2c01,0xf*-0x10e+-0x45*0x1f+0x182e*0x1):0x3b*-0x99+-0x179c+0x274*0x18,this['_pitch']=_0x4323a9['pitch']!==void(0x2e8+-0xccb+0x9e3)?Math['max'](-0x5*0x308+0xee9+-0x3*-0x15+0.01,Number(_0x4323a9['pitch'])||-0xfd0+0x640+0x990):-0x255e+-0x17d*-0x18+-0x8d*-0x3,this['_loop']=!!(_0x4323a9['loop']!==void(0x176*0x14+0x1d24+-0x3a5c)&&_0x4323a9['loop']),this['_duration']=_0x4323a9['duration']>0x361+0x185e+-0x1bbf*0x1?_0x4323a9['duration']:null,this['_startTime']=Math['max'](-0x1b18+0x11*-0x1c5+0x392d,Number(_0x4323a9['startTime'])||0x16cf+0x41*0x33+0xc7*-0x2e),this['_overlap']=!!_0x4323a9['overlap'],this['_autoPlay']=!!_0x4323a9['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x4323a9['asset'],this['_asset']instanceof he&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x4ca7cf){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){b['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x128205=_0x4ca7cf;if(_0x128205||(_0x128205=this['_createIns'+'tance'](),this['instances']['push'](_0x128205)),this['isLoaded'])_0x128205['play']();else{const _0x27297d=function(_0x5bdef8){const _0x6fce32=_0x128205['_playWhenL'+'oaded'];_0x128205['sound']=_0x5bdef8,_0x6fce32&&_0x128205['play']();};this['off']('load',_0x27297d),this['once']('load',_0x27297d),this['load']();}return _0x128205;}['pause'](){let _0x272a8f=!(0x151+-0x7d3+0x683);const _0x3b7b9e=this['instances'];for(let _0x592d2e=-0x191*-0x1+0x14+-0x1*0x1a5,_0x510f6a=_0x3b7b9e['length'];_0x592d2e<_0x510f6a;_0x592d2e++)_0x3b7b9e[_0x592d2e]['pause']()&&(_0x272a8f=!(-0x5f*0x5f+0x1*0xb27+0x181a));return _0x272a8f;}['resume'](){let _0x2076d2=!(-0x9b8+0x16f7*0x1+0xe2*-0xf);const _0x3d0557=this['instances'];for(let _0x183380=0x1*0x14c2+-0x3*0xce2+0x11e4,_0x188725=_0x3d0557['length'];_0x183380<_0x188725;_0x183380++)_0x3d0557[_0x183380]['resume']()&&(_0x2076d2=!(-0x454+0x1a6d+-0x1619));return _0x2076d2;}['stop'](){let _0x3e85d4=!(-0x4*-0x611+-0x1ef+0x2*-0xb2a);const _0x25d9d3=this['instances'];let _0x49e4d8=_0x25d9d3['length'];for(;_0x49e4d8--;)_0x25d9d3[_0x49e4d8]['stop'](),_0x3e85d4=!(0x2*-0xb23+0xa20+-0x2*-0x613);return _0x25d9d3['length']=0x172a+0x1ffe+-0x3728,_0x3e85d4;}['load'](){if(!this['_hasAsset']())return;const _0x390b7e=this['_assets']['get'](this['_asset']);if(!_0x390b7e){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x390b7e['off']('remove',this['_onAssetRe'+'moved'],this),_0x390b7e['on']('remove',this['_onAssetRe'+'moved'],this),!_0x390b7e['resource']){_0x390b7e['off']('load',this['_onAssetLo'+'ad'],this),_0x390b7e['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x390b7e);return;}this['fire']('load',_0x390b7e['resource']);}['setExterna'+'lNodes'](_0x47892e,_0x5c47bf){if(!_0x47892e){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x5c47bf||(_0x5c47bf=_0x47892e),this['_firstNode']=_0x47892e,this['_lastNode']=_0x5c47bf,!this['_overlap']){const _0xf0ac8d=this['instances'];for(let _0x5d9e2d=-0x1f8f+0x1*0x1a8f+-0x140*-0x4,_0xd27e84=_0xf0ac8d['length'];_0x5d9e2d<_0xd27e84;_0x5d9e2d++)_0xf0ac8d[_0x5d9e2d]['setExterna'+'lNodes'](_0x47892e,_0x5c47bf);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x4ef9f3=this['instances'];for(let _0x808c52=0x1*0x2154+0xc9*0x24+-0x3d98,_0x545aa8=_0x4ef9f3['length'];_0x808c52<_0x545aa8;_0x808c52++)_0x4ef9f3[_0x808c52]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x5c7702=null;const _0x529c2b=this['_component'];let _0x3a445d=null;if(this['_hasAsset']()){const _0x370693=this['_assets']['get'](this['_asset']);_0x370693&&(_0x3a445d=_0x370693['resource']);}const _0x4609d0=OI;return _0x4609d0['volume']=this['_volume']*_0x529c2b['volume'],_0x4609d0['pitch']=this['_pitch']*_0x529c2b['pitch'],_0x4609d0['loop']=this['_loop'],_0x4609d0['startTime']=this['_startTime'],_0x4609d0['duration']=this['_duration'],_0x4609d0['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x4609d0['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x4609d0['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x4609d0['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x4609d0['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x529c2b['positional']?(_0x4609d0['position']['copy'](_0x529c2b['entity']['getPositio'+'n']()),_0x4609d0['maxDistanc'+'e']=_0x529c2b['maxDistanc'+'e'],_0x4609d0['refDistanc'+'e']=_0x529c2b['refDistanc'+'e'],_0x4609d0['rollOffFac'+'tor']=_0x529c2b['rollOffFac'+'tor'],_0x4609d0['distanceMo'+'del']=_0x529c2b['distanceMo'+'del'],_0x5c7702=new Kn(this['_manager'],_0x3a445d,_0x4609d0)):_0x5c7702=new ls(this['_manager'],_0x3a445d,_0x4609d0),this['_firstNode']&&_0x5c7702['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x5c7702;}['_onInstanc'+'ePlay'](_0xfc11db){this['fire']('play',_0xfc11db),this['_component']['fire']('play',this,_0xfc11db);}['_onInstanc'+'ePause'](_0x1c1274){this['fire']('pause',_0x1c1274),this['_component']['fire']('pause',this,_0x1c1274);}['_onInstanc'+'eResume'](_0x8e0c7){this['fire']('resume',_0x8e0c7),this['_component']['fire']('resume',this,_0x8e0c7);}['_onInstanc'+'eStop'](_0x222c0b){const _0x460298=this['instances']['indexOf'](_0x222c0b);_0x460298!==-(0x1b8b*0x1+0x23a2+0x4*-0xfcb)&&this['instances']['splice'](_0x460298,-0x17ab+-0xdab*0x1+0x2557),this['fire']('stop',_0x222c0b),this['_component']['fire']('stop',this,_0x222c0b);}['_onInstanc'+'eEnd'](_0x5142d0){const _0x19f4d5=this['instances']['indexOf'](_0x5142d0);_0x19f4d5!==-(0x49e+0xc99+-0x1136)&&this['instances']['splice'](_0x19f4d5,0x2493+-0x2*0x773+-0x15ac),this['fire']('end',_0x5142d0),this['_component']['fire']('end',this,_0x5142d0);}['_onAssetAd'+'d'](_0x5607c0){this['load']();}['_onAssetLo'+'ad'](_0x2fc197){this['load']();}['_onAssetRe'+'moved'](_0x20b56e){_0x20b56e['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x20b56e['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x1de815){const _0x1f2587=this['instances'];for(let _0x505c51=0xa93+-0x154d+0xaba,_0x4b5f54=_0x1f2587['length'];_0x505c51<_0x4b5f54;_0x505c51++)_0x1f2587[_0x505c51]['position']=_0x1de815;}set['asset'](_0xfcce11){const _0x581c67=this['_asset'];if(_0x581c67){this['_assets']['off']('add:'+_0x581c67,this['_onAssetAd'+'d'],this);const _0x360a51=this['_assets']['get'](_0x581c67);_0x360a51&&_0x360a51['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0xfcce11,this['_asset']instanceof he&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x220f19){this['_autoPlay']=!!_0x220f19;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x32c609){if(this['_duration']=Math['max'](-0x1*0xd63+0x253f+0x2*-0xbee,Number(_0x32c609)||-0x209d+0x129*-0x1a+-0x1*-0x3ec7)||null,!this['_overlap']){const _0x52cf10=this['instances'];for(let _0x49715b=-0xd3b+-0x1*-0x1951+-0xc16,_0x4b1c48=_0x52cf10['length'];_0x49715b<_0x4b1c48;_0x49715b++)_0x52cf10[_0x49715b]['duration']=this['_duration'];}}get['duration'](){let _0x1ff559=-0x1744+0x1be8+0x1b*-0x2c;if(this['_hasAsset']()){const _0x4cd9e3=this['_assets']['get'](this['_asset']);_0x1ff559=_0x4cd9e3!=null&&_0x4cd9e3['resource']?_0x4cd9e3['resource']['duration']:0x15*0x39+0x4*-0x7f9+0x1b37;}return this['_duration']!=null?this['_duration']%(_0x1ff559||-0x8c*0x17+-0x1f38+0x2bcd):_0x1ff559;}get['isLoaded'](){if(this['_hasAsset']()){const _0x3a0576=this['_assets']['get'](this['_asset']);if(_0x3a0576)return!!_0x3a0576['resource'];}return!(0x1393+0x2*0x657+-0x2040);}get['isPaused'](){const _0x274d54=this['instances'],_0x4f9d47=_0x274d54['length'];if(_0x4f9d47===0xe6a+-0xcb3+-0x1b7)return!(0x1c56+-0x2545+0x68*0x16);for(let _0x15aa74=-0x11c5+-0x1b7d+0x2d42*0x1;_0x15aa74<_0x4f9d47;_0x15aa74++)if(!_0x274d54[_0x15aa74]['isPaused'])return!(-0x7*0x17e+0x2350+-0x18dd*0x1);return!(-0x1a99+0x1ddd+0x16*-0x26);}get['isPlaying'](){const _0xa77cb4=this['instances'];for(let _0x55d02b=0x1042+-0x178d+-0x74b*-0x1,_0x270918=_0xa77cb4['length'];_0x55d02b<_0x270918;_0x55d02b++)if(_0xa77cb4[_0x55d02b]['isPlaying'])return!(-0xaad*-0x1+0x85*-0x4+-0x47*0x1f);return!(0x6*0x121+-0x1373+0x6*0x21d);}get['isStopped'](){const _0x5e00bc=this['instances'];for(let _0x5572de=-0x664*0x6+-0xb9*0x7+0x2b67*0x1,_0x5474d1=_0x5e00bc['length'];_0x5572de<_0x5474d1;_0x5572de++)if(!_0x5e00bc[_0x5572de]['isStopped'])return!(0x1f16+0x1d*0x4c+-0xd3b*0x3);return!(-0x6d*0x1+0x18a9+-0x6*0x40a);}set['loop'](_0x3f536e){this['_loop']=!!_0x3f536e;const _0x1e0efe=this['instances'];for(let _0x4dc52d=-0x3*0x52+0x69a+-0x5a4,_0x5d3020=_0x1e0efe['length'];_0x4dc52d<_0x5d3020;_0x4dc52d++)_0x1e0efe[_0x4dc52d]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x1c8e64){this['_overlap']=!!_0x1c8e64;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x52b424){if(this['_pitch']=Math['max'](Number(_0x52b424)||-0x12f5+-0x164e+0x2943,0x19b0+-0x1*0xa22+-0xf8e+0.01),!this['_overlap']){const _0x2e54de=this['instances'];for(let _0x55e4ce=-0x1e*0x119+-0x23b3+0x44a1,_0x97db57=_0x2e54de['length'];_0x55e4ce<_0x97db57;_0x55e4ce++)_0x2e54de[_0x55e4ce]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x20d706){if(this['_startTime']=Math['max'](0x45*-0x33+-0x1280*0x1+0x41*0x7f,Number(_0x20d706)||0x2*0x151+0x7f8+-0xa9a),!this['_overlap']){const _0x5aa693=this['instances'];for(let _0xfb7698=0x180e*0x1+-0x883*0x3+-0x17b*-0x1,_0x40811b=_0x5aa693['length'];_0xfb7698<_0x40811b;_0xfb7698++)_0x5aa693[_0xfb7698]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x52a7ed){if(this['_volume']=z['clamp'](Number(_0x52a7ed)||0x8ed*0x3+0x10f1*-0x2+-0x11*-0x6b,0xf9b+0x222a+-0x3*0x1097,-0xb*-0xad+0x151c*0x1+-0x1c8a),!this['_overlap']){const _0x5b6cc0=this['instances'];for(let _0x29c687=0x1fa9*0x1+-0x41*-0x3b+-0x2ea4,_0x4ba126=_0x5b6cc0['length'];_0x29c687<_0x4ba126;_0x29c687++)_0x5b6cc0[_0x29c687]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(sr,'EVENT_PLAY','play'),c(sr,'EVENT_PAUS'+'E','pause'),c(sr,'EVENT_RESU'+'ME','resume'),c(sr,'EVENT_STOP','stop'),c(sr,'EVENT_LOAD','load');class zr extends pe{constructor(){super(...arguments),c(this,'_volume',-0x13ab+-0x9b0+0x2*0xeae),c(this,'_pitch',-0x86b+0xbd3+-0x367),c(this,'_positiona'+'l',!(0x65+0xe16+-0xe7b)),c(this,'_refDistan'+'ce',-0xc6b*-0x3+-0x4a3*0x1+-0x2f7*0xb),c(this,'_maxDistan'+'ce',-0x2*0x832+-0x49*0x3f+0x496b),c(this,'_rollOffFa'+'ctor',0x1*-0x13d8+-0x1*-0x15df+-0x4a*0x7),c(this,'_distanceM'+'odel',mc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x58d7fb,_0x5ae403,_0xb88332){const _0x5b042b=this['_slots'];for(const _0x26e5fe in _0x5b042b){const _0x44f252=_0x5b042b[_0x26e5fe];if(!_0x44f252['overlap']){const _0x1fcb0c=_0x44f252['instances'];for(let _0x1df047=-0x765+-0x179a+0x1eff,_0x5cc934=_0x1fcb0c['length'];_0x1df047<_0x5cc934;_0x1df047++)_0x1fcb0c[_0x1df047][_0x58d7fb]=_0xb88332?_0x44f252[_0x58d7fb]*_0x5ae403:_0x5ae403;}}}set['distanceMo'+'del'](_0x39e7dd){this['_distanceM'+'odel']=_0x39e7dd,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x39e7dd,!(-0x17c*0x17+0x2*-0xd2a+0x3c79*0x1));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0xaec6e5){this['_maxDistan'+'ce']=_0xaec6e5,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0xaec6e5,!(0x4*-0x206+-0x729*-0x1+0xf0));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x493f8d){this['_refDistan'+'ce']=_0x493f8d,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x493f8d,!(-0x4b1*-0x5+0xe75+0x5*-0x795));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x576ce5){this['_rollOffFa'+'ctor']=_0x576ce5,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x576ce5,!(-0x77e*0x1+-0x10be*-0x2+-0x19fd));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x117b5d){this['_pitch']=_0x117b5d,this['_updateSou'+'ndInstance'+'s']('pitch',_0x117b5d,!(0x39a*-0x2+-0x1d6e*-0x1+0x163a*-0x1));}get['pitch'](){return this['_pitch'];}set['volume'](_0x795c5a){this['_volume']=_0x795c5a,this['_updateSou'+'ndInstance'+'s']('volume',_0x795c5a,!(-0x1039+0xe75*0x2+0xab*-0x13));}get['volume'](){return this['_volume'];}set['positional'](_0x1c0f0e){this['_positiona'+'l']=_0x1c0f0e;const _0x362901=this['_slots'];for(const _0x538d4d in _0x362901){const _0x5bce33=_0x362901[_0x538d4d];if(!_0x5bce33['overlap']){const _0x2a4e28=_0x5bce33['instances'],_0x2c5283=_0x2a4e28['length'];for(let _0x33a8c2=_0x2c5283-(-0x25b*0x1+-0x1268*0x2+-0x9cb*-0x4);_0x33a8c2>=-0x1*0x1021+0x2e5*0xd+-0x4*0x560;_0x33a8c2--){const _0x3674bb=_0x2a4e28[_0x33a8c2]['isPlaying']||_0x2a4e28[_0x33a8c2]['isSuspende'+'d'],_0x4ea926=_0x2a4e28[_0x33a8c2]['currentTim'+'e'];_0x3674bb&&_0x2a4e28[_0x33a8c2]['stop']();const _0x2f86a7=_0x5bce33['_createIns'+'tance']();_0x3674bb&&(_0x2f86a7['play'](),_0x2f86a7['currentTim'+'e']=_0x4ea926),_0x2a4e28['push'](_0x2f86a7);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x51c763){const _0x4181b6=this['_slots'];if(_0x4181b6){for(const _0x55c568 in _0x4181b6)_0x4181b6[_0x55c568]['stop']();}const _0x3b74d8={};for(const _0x37d63e in _0x51c763)_0x51c763[_0x37d63e]instanceof sr?_0x3b74d8[_0x51c763[_0x37d63e]['name']]=_0x51c763[_0x37d63e]:_0x51c763[_0x37d63e]['name']&&(_0x3b74d8[_0x51c763[_0x37d63e]['name']]=new sr(this,_0x51c763[_0x37d63e]['name'],_0x51c763[_0x37d63e]));this['_slots']=_0x3b74d8,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x2bffb9=this['_slots'],_0x3400dd=this['_playingBe'+'foreDisabl'+'e'];for(const _0x2f9241 in _0x2bffb9){const _0x2086a3=_0x2bffb9[_0x2f9241];_0x2086a3['autoPlay']&&_0x2086a3['isStopped']?_0x2086a3['play']():_0x3400dd[_0x2f9241]?_0x2086a3['resume']():_0x2086a3['isLoaded']||_0x2086a3['load']();}}['onDisable'](){const _0xc72fa4=this['_slots'],_0x226701={};for(const _0x39eba7 in _0xc72fa4)_0xc72fa4[_0x39eba7]['overlap']||_0xc72fa4[_0x39eba7]['isPlaying']&&(_0xc72fa4[_0x39eba7]['pause'](),_0x226701[_0x39eba7]=!(-0x7*-0xcb+0x1e78+-0x2405));this['_playingBe'+'foreDisabl'+'e']=_0x226701;}['onRemove'](){this['off']();}['addSlot'](_0x12b6be,_0x37076b){const _0x381dce=this['_slots'];if(_0x381dce[_0x12b6be])return b['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x12b6be+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x5d9d34=new sr(this,_0x12b6be,_0x37076b);return _0x381dce[_0x12b6be]=_0x5d9d34,_0x5d9d34['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x5d9d34['play'](),_0x5d9d34;}['removeSlot'](_0x1153c6){const _0x466fbb=this['_slots'];_0x466fbb[_0x1153c6]&&(_0x466fbb[_0x1153c6]['stop'](),delete _0x466fbb[_0x1153c6]);}['slot'](_0x9941b4){return this['_slots'][_0x9941b4];}['_getSlotPr'+'operty'](_0x23d14a,_0x41c7d0){if(!this['enabled']||!this['entity']['enabled'])return;const _0x344c22=this['_slots'][_0x23d14a];if(!_0x344c22){b['warn']('Trying\x20to\x20'+'get\x20'+_0x41c7d0+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x23d14a+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x344c22[_0x41c7d0];}['isPlaying'](_0x32672b){return this['_getSlotPr'+'operty'](_0x32672b,'isPlaying')||!(-0x3f7+-0x1b3*-0x3+-0x121);}['isLoaded'](_0xd747fa){return this['_getSlotPr'+'operty'](_0xd747fa,'isLoaded')||!(0x60a*-0x4+0x14d4+0x355);}['isPaused'](_0x48e971){return this['_getSlotPr'+'operty'](_0x48e971,'isPaused')||!(0xaa3*0x1+-0xd*-0x9+-0xb17);}['isStopped'](_0xc3b9b8){return this['_getSlotPr'+'operty'](_0xc3b9b8,'isStopped')||!(0x16c*-0x6+0x1*-0x185+0xa0e);}['play'](_0x4549b4){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x4558db=this['_slots'][_0x4549b4];return _0x4558db?_0x4558db['play']():(b['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x4549b4+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x123f5b){const _0x3b1999=this['_slots'];if(_0x123f5b){const _0x5f3d7e=_0x3b1999[_0x123f5b];if(!_0x5f3d7e){b['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x123f5b+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x5f3d7e['pause']();}else{for(const _0x425cb8 in _0x3b1999)_0x3b1999[_0x425cb8]['pause']();}}['resume'](_0x338e92){const _0xd94c43=this['_slots'];if(_0x338e92){const _0x1e793e=_0xd94c43[_0x338e92];if(!_0x1e793e){b['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x338e92+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x1e793e['isPaused']&&_0x1e793e['resume']();}else{for(const _0x2ca86a in _0xd94c43)_0xd94c43[_0x2ca86a]['resume']();}}['stop'](_0xb51ef3){const _0x5c8a10=this['_slots'];if(_0xb51ef3){const _0x47c7bb=_0x5c8a10[_0xb51ef3];if(!_0x47c7bb){b['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0xb51ef3+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x47c7bb['stop']();}else{for(const _0x2d5f47 in _0x5c8a10)_0x5c8a10[_0x2d5f47]['stop']();}}}c(zr,'EVENT_PLAY','play'),c(zr,'EVENT_PAUS'+'E','pause'),c(zr,'EVENT_RESU'+'ME','resume'),c(zr,'EVENT_STOP','stop'),c(zr,'EVENT_END','end');class BI{constructor(){this['enabled']=!(-0xc0e+0x1*0xbdc+0x32);}}const Sx=['enabled'];class NI extends Qe{constructor(_0x27247b){super(_0x27247b),this['id']='sound',this['ComponentT'+'ype']=zr,this['DataType']=BI,this['schema']=Sx,this['manager']=_0x27247b['soundManag'+'er'],b['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x1cb9bf){this['manager']['volume']=_0x1cb9bf;}get['volume'](){return this['manager']['volume'];}get['context'](){return Ni()?this['manager']['context']:(b['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x2849cb,_0x580492,_0x948b61){_0x948b61=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x368a25=0x8a3+0xfea+0x3*-0x82f;_0x368a25<_0x948b61['length'];_0x368a25++)_0x580492['hasOwnProp'+'erty'](_0x948b61[_0x368a25])&&(_0x2849cb[_0x948b61[_0x368a25]]=_0x580492[_0x948b61[_0x368a25]]);super['initialize'+'ComponentD'+'ata'](_0x2849cb,_0x580492,['enabled']);}['cloneCompo'+'nent'](_0x29fad9,_0x11cd2a){const _0x44ce00=_0x29fad9['sound'],_0x3617dc=_0x44ce00['slots'],_0x15032e={};for(const _0xe6603b in _0x3617dc){const _0x4a4a45=_0x3617dc[_0xe6603b];_0x15032e[_0xe6603b]={'name':_0x4a4a45['name'],'volume':_0x4a4a45['volume'],'pitch':_0x4a4a45['pitch'],'loop':_0x4a4a45['loop'],'duration':_0x4a4a45['duration'],'startTime':_0x4a4a45['startTime'],'overlap':_0x4a4a45['overlap'],'autoPlay':_0x4a4a45['autoPlay'],'asset':_0x4a4a45['asset']};}const _0x111d0c={'distanceModel':_0x44ce00['distanceMo'+'del'],'enabled':_0x44ce00['enabled'],'maxDistance':_0x44ce00['maxDistanc'+'e'],'pitch':_0x44ce00['pitch'],'positional':_0x44ce00['positional'],'refDistance':_0x44ce00['refDistanc'+'e'],'rollOffFactor':_0x44ce00['rollOffFac'+'tor'],'slots':_0x15032e,'volume':_0x44ce00['volume']};return this['addCompone'+'nt'](_0x11cd2a,_0x111d0c);}['onUpdate'](_0x230471){const _0x43d6eb=this['store'];for(const _0x29a01a in _0x43d6eb)if(_0x43d6eb['hasOwnProp'+'erty'](_0x29a01a)){const _0x2ed12d=_0x43d6eb[_0x29a01a]['entity'];if(_0x2ed12d['enabled']){const _0x41b883=_0x2ed12d['sound'];if(_0x41b883['enabled']&&_0x41b883['positional']){const _0x4002e7=_0x2ed12d['getPositio'+'n'](),_0x3cd95a=_0x41b883['slots'];for(const _0x4df4c2 in _0x3cd95a)_0x3cd95a[_0x4df4c2]['updatePosi'+'tion'](_0x4002e7);}}}}['onBeforeRe'+'move'](_0xac7b38,_0x33dc39){const _0x5c2e10=_0x33dc39['slots'];for(const _0x21d93f in _0x5c2e10)_0x5c2e10[_0x21d93f]['overlap']||_0x5c2e10[_0x21d93f]['stop']();_0x33dc39['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}pe['_buildAcce'+'ssors'](zr['prototype'],Sx);const Mg='simple',Pg='animated';class Ci extends de{constructor(_0x1fdf26,_0x353e3e){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x1fdf26,this['_frame']=0x168*0xc+0x1*0x227f+-0x335f*0x1,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x353e3e['spriteAsse'+'t'],this['name']=_0x353e3e['name'],this['fps']=_0x353e3e['fps']||-0x6a4+-0x19a0+-0x33a*-0xa,this['loop']=_0x353e3e['loop']||!(-0x1907+-0x1c2d+0x3535),this['_playing']=!(0x151a*-0x1+-0x3ac*0x4+0x23cb),this['_paused']=!(0x2fa+0xdd8+-0x10d1),this['_time']=-0x1d71+0x3b4+0x19bd);}get['duration'](){if(this['_sprite']){const _0x2e198e=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x2e198e);}return-0x1934+0x642+0x12f2;}set['frame'](_0x5cc62e){this['_setFrame'](_0x5cc62e);const _0x45a85b=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x45a85b);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x58f7d2){var _0x4f29dc;if(this['_sprite']&&((_0x4f29dc=this['_evtSetMes'+'hes'])==null||_0x4f29dc['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x58f7d2,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x5a35fb;!_0x58f7d2||!_0x58f7d2['atlas']?(_0x5a35fb=this['_component']['_meshInsta'+'nce'],_0x5a35fb&&(_0x5a35fb['deletePara'+'meter']('texture_em'+'issiveMap'),_0x5a35fb['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x58f7d2['atlas']['texture']&&(_0x5a35fb=this['_component']['_meshInsta'+'nce'],_0x5a35fb&&(_0x5a35fb['setParamet'+'er']('texture_em'+'issiveMap',_0x58f7d2['atlas']['texture']),_0x5a35fb['setParamet'+'er']('texture_op'+'acityMap',_0x58f7d2['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x25dc86){const _0x59e6da=this['_component']['system']['app']['assets'];let _0x49ae5e=_0x25dc86;if(_0x25dc86 instanceof he&&(_0x49ae5e=_0x25dc86['id']),this['_spriteAss'+'et']!==_0x49ae5e){if(this['_spriteAss'+'et']){const _0x4e45d4=_0x59e6da['get'](this['_spriteAss'+'et']);_0x4e45d4&&this['_unbindSpr'+'iteAsset'](_0x4e45d4);}if(this['_spriteAss'+'et']=_0x49ae5e,this['_spriteAss'+'et']){const _0xdb4ee6=_0x59e6da['get'](this['_spriteAss'+'et']);_0xdb4ee6?this['_bindSprit'+'eAsset'](_0xdb4ee6):(this['sprite']=null,_0x59e6da['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x2e4ab6){this['_setTime'](_0x2e4ab6),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0x1e11*0x1+0xbd8+0x91d*0x2),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x104+0x23b*-0xd+-0x1*-0x1bfb;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x571c56){this['_component']['system']['app']['assets']['off']('add:'+_0x571c56['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x571c56['id']&&this['_bindSprit'+'eAsset'](_0x571c56);}['_bindSprit'+'eAsset'](_0x42a981){_0x42a981['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x42a981['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x42a981['resource']?this['_onSpriteA'+'ssetLoad'](_0x42a981):this['_component']['system']['app']['assets']['load'](_0x42a981);}['_unbindSpr'+'iteAsset'](_0x3d3440){_0x3d3440&&(_0x3d3440['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x3d3440['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x3d3440['resource']&&!_0x3d3440['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x3d3440['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x36c854){if(!_0x36c854['resource'])this['sprite']=null;else{if(_0x36c854['resource']['atlas'])this['sprite']=_0x36c854['resource'];else{const _0x334fb3=_0x36c854['data']['textureAtl'+'asAsset'],_0x457a3d=this['_component']['system']['app']['assets'];_0x457a3d['off']('load:'+_0x334fb3,this['_onTexture'+'AtlasLoad'],this),_0x457a3d['once']('load:'+_0x334fb3,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x530bf8){const _0x13e015=this['_spriteAss'+'et'];_0x13e015 instanceof he?this['_onSpriteA'+'ssetLoad'](_0x13e015):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x13e015));}['_onSpriteA'+'ssetRemove'](_0x1c35de){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Pi&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x2097a5){if(this['fps']===-0x1d36+-0x1e8d+0x3bc3||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x355829=this['fps']<-0x8fe*-0x3+-0x7a3+-0x1357?-(0x2464+-0xf8f+-0x14d4*0x1):0x335*0x4+-0x17c2+0xaef,_0x2f19b2=this['_time']+_0x2097a5*this['_component']['speed']*_0x355829,_0x44be3b=this['duration'],_0x217879=_0x2f19b2>_0x44be3b||_0x2f19b2<-0x12d+-0x1d0e+-0x1e3b*-0x1;this['_setTime'](_0x2f19b2);let _0x1671e1=this['frame'];this['_sprite']?_0x1671e1=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x44be3b):_0x1671e1=-0x8b*0x1+-0x1c00+0x1*0x1c8b,_0x1671e1!==this['_frame']&&this['_setFrame'](_0x1671e1),_0x217879&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0xa7*0x25+0x251a+-0x3d3c),this['_paused']=!(-0x9*0x9f+0x173b+-0x5e1*0x3),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x24c0fe){this['_time']=_0x24c0fe;const _0x52789c=this['duration'];this['_time']<0x1d22+0x5cc+-0x22ee?this['loop']?this['_time']=this['_time']%_0x52789c+_0x52789c:this['_time']=0x148d+-0x1edb+-0x2*-0x527:this['_time']>_0x52789c&&(this['loop']?this['_time']%=_0x52789c:this['_time']=_0x52789c);}['_setFrame'](_0x3e4902){this['_sprite']?this['_frame']=z['clamp'](_0x3e4902,0x28*0x4d+0x10f3*0x2+0x2dee*-0x1,this['_sprite']['frameKeys']['length']-(0x1c93+0xd3b+0x171*-0x1d)):this['_frame']=_0x3e4902,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x45e618=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x45e618['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0x1f*0x16+-0x25a9+0x22ff),this['_paused']=!(-0x17*-0xcf+-0xa75*-0x3+0x31f7*-0x1),this['frame']=0x733*-0x3+-0x43*-0x76+0x949*-0x1,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(-0x5ab*-0x1+0x23*0x17+-0x8d0),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0x5*-0x20b+0x808+-0x1*-0x230),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x1e30+0xb7c+-0x29ab*0x1),this['_paused']=!(0x1ae2+0x13a5+0x6*-0x7c1),this['_time']=0xa44+-0x9de*-0x1+0x2*-0xa11,this['frame']=-0x51*0x3c+0x9e8+0x914,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(Ci,'EVENT_PLAY','play'),c(Ci,'EVENT_PAUS'+'E','pause'),c(Ci,'EVENT_RESU'+'ME','resume'),c(Ci,'EVENT_STOP','stop'),c(Ci,'EVENT_END','end'),c(Ci,'EVENT_LOOP','loop');const Rg='texture_em'+'issiveMap',Ig='texture_op'+'acityMap',Dg='material_e'+'missive',Lg='material_o'+'pacity',zI='innerOffse'+'t',UI='outerScale',VI='atlasRect';class Ki extends pe{constructor(_0x188b69,_0xdf9fcb){super(_0x188b69,_0xdf9fcb),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Mg,this['_material']=_0x188b69['defaultMat'+'erial'],this['_color']=new Y(0x1481+-0xf42+-0x53e,0xe7b*-0x2+-0x1605+0x1f6*0x1a,-0x4e3*0x7+-0x10*-0x2b+0x1e*0x10d,0x13*-0x9a+-0x6b9+0x1228),this['_colorUnif'+'orm']=new Float32Array(0x1*0x1fc4+-0x22a7+0x2e6),this['_speed']=-0x163*0x1+-0x8d8*0x1+0xa3c,this['_flipX']=!(0x16df+-0x201f*-0x1+-0x36fd),this['_flipY']=!(0x1*0x17a1+0x1*0x1f7f+-0x371f),this['_width']=-0x23bd+-0x1*-0x1367+-0x1057*-0x1,this['_height']=-0x155+0x1ad5*0x1+0x1*-0x197f,this['_drawOrder']=-0xb0e*0x1+0x5*0x303+0x1*-0x401,this['_layers']=[zi],this['_outerScal'+'e']=new W(-0x5*-0xf2+0x1b5b+-0x2014,-0x1d23*0x1+0x1*-0x74c+0x2470),this['_outerScal'+'eUniform']=new Float32Array(-0x3e5+0x7*-0x51b+0x9e9*0x4),this['_innerOffs'+'et']=new ee(),this['_innerOffs'+'etUniform']=new Float32Array(-0x9e*-0x4+-0x1cd0+0x1a5c),this['_atlasRect']=new ee(),this['_atlasRect'+'Uniform']=new Float32Array(0x805*-0x2+0x353+-0xcbb*-0x1),this['_batchGrou'+'pId']=-(0x12d8+-0x1f1f+-0x6*-0x20c),this['_batchGrou'+'p']=null,this['_node']=new Oe(),this['_model']=new Ui(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0xdf9fcb['addChild'](this['_model']['graph']),this['_model']['_entity']=_0xdf9fcb,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0x1617+0x1f85+0x1*-0x96d),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Ci(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(0x2*0xf94+0x18*-0xa4+-0xfc7),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x16cbd0){this['_type']!==_0x16cbd0&&(this['_type']=_0x16cbd0,this['_type']===Mg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Pg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x5ed91f){this['_currentCl'+'ip']['frame']=_0x5ed91f;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x3df43e){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x3df43e;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0xbd8de7){this['_currentCl'+'ip']['sprite']=_0xbd8de7;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x2379b5){this['_material']=_0x2379b5,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x2379b5);}get['material'](){return this['_material'];}set['color'](_0x529723){this['_color']['r']=_0x529723['r'],this['_color']['g']=_0x529723['g'],this['_color']['b']=_0x529723['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0x2*-0xb3c+0x1531+-0x2ba9*0x1]=this['_color']['r'],this['_colorUnif'+'orm'][-0x22*0x8b+0x190a+-0x231*0x3]=this['_color']['g'],this['_colorUnif'+'orm'][-0x506+-0x146d+0x1975]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x19eff2){this['_color']['a']=_0x19eff2,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Lg,_0x19eff2);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x149ffb){if(!_0x149ffb){for(const _0x2cea63 in this['_clips'])this['removeClip'](_0x2cea63);return;}for(const _0x478270 in this['_clips']){let _0x4d8b4d=!(0xc96*-0x3+-0x1471*-0x1+0x1152);for(const _0x32ddcf in _0x149ffb)if(_0x149ffb[_0x32ddcf]['name']===_0x478270){_0x4d8b4d=!(-0x248f+0x1189*0x1+0x983*0x2),this['_clips'][_0x478270]['fps']=_0x149ffb[_0x32ddcf]['fps'],this['_clips'][_0x478270]['loop']=_0x149ffb[_0x32ddcf]['loop'],_0x149ffb[_0x32ddcf]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x478270]['sprite']=_0x149ffb[_0x32ddcf]['sprite']:_0x149ffb[_0x32ddcf]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x478270]['spriteAsse'+'t']=_0x149ffb[_0x32ddcf]['spriteAsse'+'t']);break;}_0x4d8b4d||this['removeClip'](_0x478270);}for(const _0x2065f5 in _0x149ffb)this['_clips'][_0x149ffb[_0x2065f5]['name']]||this['addClip'](_0x149ffb[_0x2065f5]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x5b31fd){this['_speed']=_0x5b31fd;}get['speed'](){return this['_speed'];}set['flipX'](_0x1e2300){this['_flipX']!==_0x1e2300&&(this['_flipX']=_0x1e2300,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x1262a4){this['_flipY']!==_0x1262a4&&(this['_flipY']=_0x1262a4,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x1a7d19){_0x1a7d19!==this['_width']&&(this['_width']=_0x1a7d19,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===st||this['sprite']['renderMode']===ht)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x525964){_0x525964!==this['_height']&&(this['_height']=_0x525964,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===st||this['sprite']['renderMode']===ht)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x2efea1){var _0x4dfb6e,_0x440c73;if(this['_batchGrou'+'pId']===_0x2efea1)return;const _0x65715b=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x2efea1,this['entity']['enabled']&&_0x65715b>=-0x25d6*-0x1+-0x194e+-0x8*0x191&&((_0x4dfb6e=this['system']['app']['batcher'])==null||_0x4dfb6e['remove'](rt['SPRITE'],_0x65715b,this['entity'])),this['entity']['enabled']&&_0x2efea1>=0xefd*0x1+0x1*0x662+0x1*-0x155f?(_0x440c73=this['system']['app']['batcher'])==null||_0x440c73['insert'](rt['SPRITE'],_0x2efea1,this['entity']):_0x65715b>=0x1a65+0x14ed+-0x2f52&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x52318d){this['_autoPlayC'+'lip']=_0x52318d instanceof Ci?_0x52318d['name']:_0x52318d,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x27728f){this['_drawOrder']=_0x27728f,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x27728f);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x398f1f){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x398f1f,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x17c113;const _0x3b459a=this['system']['app'],_0x561e35=_0x3b459a['scene'],_0x32c766=_0x561e35['layers'];this['_evtLayers'+'Changed']=_0x561e35['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x32c766&&(this['_evtLayerA'+'dded']=_0x32c766['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x32c766['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0xea+-0x659+0x743&&((_0x17c113=_0x3b459a['batcher'])==null||_0x17c113['insert'](rt['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x2b4483,_0x115e33,_0xbe594f,_0x50492c;const _0x3475a=this['system']['app'],_0x58afba=_0x3475a['scene']['layers'];(_0x2b4483=this['_evtLayers'+'Changed'])==null||_0x2b4483['off'](),this['_evtLayers'+'Changed']=null,_0x58afba&&((_0x115e33=this['_evtLayerA'+'dded'])==null||_0x115e33['off'](),this['_evtLayerA'+'dded']=null,(_0xbe594f=this['_evtLayerR'+'emoved'])==null||_0xbe594f['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0xe*-0x2b1+0x1938+0xc76&&((_0x50492c=_0x3475a['batcher'])==null||_0x50492c['remove'](rt['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x4a0449;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x280cea in this['_clips'])this['_clips'][_0x280cea]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x4a0449=this['_node'])==null||_0x4a0449['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0xf699b2=[this['_meshInsta'+'nce']];for(let _0xe188b7=0x1*0x1fd+-0x1967*0x1+0x176a,_0x1f3678=this['_layers']['length'];_0xe188b7<_0x1f3678;_0xe188b7++){const _0x273163=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0xe188b7]);_0x273163&&_0x273163['addMeshIns'+'tances'](_0xf699b2);}this['_addedMode'+'l']=!(0x180e+0xda9*0x2+0x89*-0x60);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x5551f3=[this['_meshInsta'+'nce']];for(let _0x40c67a=0x44f+0x83a+0x1*-0xc89,_0x5c8271=this['_layers']['length'];_0x40c67a<_0x5c8271;_0x40c67a++){const _0x3f5457=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x40c67a]);_0x3f5457&&_0x3f5457['removeMesh'+'Instances'](_0x5551f3);}this['_addedMode'+'l']=!(0x19e*0x13+-0x3ad*-0x7+0x4*-0xe1d);}['_showFrame'](_0x1cee81){if(!this['sprite'])return;const _0x266e37=this['sprite']['meshes'][_0x1cee81];if(!_0x266e37){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x3*0x70a+0x59*-0x2f+0x2576));return;}let _0x34b73f;if(this['sprite']['renderMode']===ht?_0x34b73f=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===st?_0x34b73f=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x34b73f=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Be(_0x266e37,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x884+0x2ec*0x9+-0x22cf),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0xb82+0x541*0x1+-0x10c2),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0x7cb+-0xb9*0x19+0xa46]=this['_color']['r'],this['_colorUnif'+'orm'][-0x1a6f+-0x1*-0x192d+0x13*0x11]=this['_color']['g'],this['_colorUnif'+'orm'][0x1170+0x1c66+-0x2dd4]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Lg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x34b73f&&(this['_meshInsta'+'nce']['material']=_0x34b73f),this['_meshInsta'+'nce']['mesh']!==_0x266e37&&(this['_meshInsta'+'nce']['mesh']=_0x266e37,this['_meshInsta'+'nce']['visible']=!(-0xe03*-0x2+0x1f9c+-0x3ba2),this['_meshInsta'+'nce']['_aabbVer']=-(0xb9b+-0x140+-0xa*0x109)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Rg),this['_meshInsta'+'nce']['deletePara'+'meter'](Ig)),this['sprite']['atlas']&&(this['sprite']['renderMode']===ht||this['sprite']['renderMode']===st)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x1c78ee=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x1cee81]];if(_0x1c78ee){const _0x3f8782=(0xd0e+0x2555+-0x3261)/_0x1c78ee['rect']['z'],_0x5d9122=(0x1f96+0xc1*0x28+-0x1b7*0x24)/_0x1c78ee['rect']['w'];this['_innerOffs'+'et']['set'](_0x1c78ee['border']['x']*_0x3f8782,_0x1c78ee['border']['y']*_0x5d9122,_0x1c78ee['border']['z']*_0x3f8782,_0x1c78ee['border']['w']*_0x5d9122);const _0x31546f=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x1c78ee['rect']['x']/_0x31546f['width'],_0x1c78ee['rect']['y']/_0x31546f['height'],_0x1c78ee['rect']['z']/_0x31546f['width'],_0x1c78ee['rect']['w']/_0x31546f['height']);}else this['_innerOffs'+'et']['set'](-0x78e+0x1db2+-0x1624,0x1742+0x1*-0x1e53+-0x25b*-0x3,0x1*0xb26+0x8*-0x2f2+0x1*0xc6a,-0x1724+0x1*-0x178a+0x5*0x956);this['_innerOffs'+'etUniform'][0xb*0xf9+0x1b6e*-0x1+0x10bb]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x1*-0xaec+0x2607+-0x30f2]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x111c+0x17b7+-0x699]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x1*0x25a5+0x19cf*0x1+-0x1*0x3f71]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x1b20+0x16c7*-0x1+0x31e7]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x199f+0x1*0x2104+0x5f*-0x9e]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x25da+0x7*0x45d+0x1*0x751]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0xc*-0x8b+-0xa77+-0x4e*-0xd]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](VI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x32a4bd=this['flipX']?-(-0x1ee5+0x1b19+0x3cd*0x1):0x1377+-0x44c+-0x3*0x50e,_0x252e6d=this['flipY']?-(-0x1*0x1b3c+0x65*-0x62+0x41e7):0x1*0x1bb0+0x23d2+0x152b*-0x3,_0x7b3b91=0x12f6+-0x66*-0x9+-0x168c,_0xfd5efc=-0x158e+0x86f+0x1*0xd1f;if(this['sprite']&&(this['sprite']['renderMode']===ht||this['sprite']['renderMode']===st)){let _0x3b0ed7=-0x6*-0xb3+0x839+-0xc6a,_0x13a59c=-0xc61*0x2+0x6*0x564+-0x795;if(this['sprite']['atlas']){const _0x2f6280=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x2f6280&&(_0x3b0ed7=_0x2f6280['rect']['z'],_0x13a59c=_0x2f6280['rect']['w'],_0x7b3b91=(-0x1*0x172f+-0x152b+-0x1*-0x2c5a+0.5-_0x2f6280['pivot']['x'])*this['_width'],_0xfd5efc=(0x7*-0x524+-0x91d*0x3+0x3f53+0.5-_0x2f6280['pivot']['y'])*this['_height']);}const _0x1941c0=_0x3b0ed7/this['sprite']['pixelsPerU'+'nit'],_0x37c8ff=_0x13a59c/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x1941c0),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x37c8ff)),_0x32a4bd*=_0x1941c0,_0x252e6d*=_0x37c8ff,this['_outerScal'+'e']['x']/=_0x1941c0,this['_outerScal'+'e']['y']/=_0x37c8ff,_0x32a4bd*=z['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x1941c0),-0x1f7e+-0x5b3*0x1+0x2531+0.0001,-0x25c3+0x8*0xe3+0x34*0x97),_0x252e6d*=z['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x37c8ff),-0x71d*0x1+0x1*-0x2668+0x2d85+0.0001,-0x370*0xb+-0x1297*0x1+-0x2d2*-0x14),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x22fd+0x458+-0x2755]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1eef*-0x1+-0x45e+0x11a7*0x2]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x32a4bd,_0x252e6d,-0xee*-0x25+0x1f9f+0x34d*-0x14),this['_node']['setLocalPo'+'sition'](_0x7b3b91,_0xfd5efc,-0x1de*-0xe+0x10a2*-0x2+0xe4*0x8);}['_updateAab'+'b'](_0x42057d){return _0x42057d['center']['set'](-0x51+0x239*0x11+-0x2578,0xeb6+-0x9d*0x6+-0x584*0x2,-0x253d*0x1+-0x2536+-0x4a73*-0x1),_0x42057d['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x27*-0x3c+-0x2150+-0x5b*-0x44+0.5),this['_outerScal'+'e']['y']*(-0xba3+-0xe5e+0x1a01+0.5),-0x1*-0x1945+-0x22c6+0x3*0x32b+0.001),_0x42057d['setFromTra'+'nsformedAa'+'bb'](_0x42057d,this['_node']['getWorldTr'+'ansform']()),_0x42057d;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Pg)return;const _0x56ed1e=this['_clips'][this['_autoPlayC'+'lip']];_0x56ed1e&&!_0x56ed1e['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x56ed1e['name']);}['_onLayersC'+'hanged'](_0x2fd8eb,_0x55f89a){_0x2fd8eb['off']('add',this['onLayerAdd'+'ed'],this),_0x2fd8eb['off']('remove',this['onLayerRem'+'oved'],this),_0x55f89a['on']('add',this['onLayerAdd'+'ed'],this),_0x55f89a['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x25a012){this['layers']['indexOf'](_0x25a012['id'])<-0x51+-0x145e+0x161*0xf||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x25a012['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x14fcda){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x14fcda['id'])<0x37f*-0xb+-0x12db+0xe*0x418||_0x14fcda['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0xb8b780=0x85f+0x1a3d*-0x1+0x11de;_0xb8b780<this['layers']['length'];_0xb8b780++){const _0x4bf6c4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xb8b780]);_0x4bf6c4&&_0x4bf6c4['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x82abbe){const _0x2fd140=new Ci(this,{'name':_0x82abbe['name'],'fps':_0x82abbe['fps'],'loop':_0x82abbe['loop'],'spriteAsset':_0x82abbe['spriteAsse'+'t']});return this['_clips'][_0x82abbe['name']]=_0x2fd140,_0x2fd140['name']&&_0x2fd140['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x2fd140;}['removeClip'](_0x1e2ade){delete this['_clips'][_0x1e2ade];}['clip'](_0x41f31b){return this['_clips'][_0x41f31b];}['play'](_0x3ea7f5){const _0x1609f7=this['_clips'][_0x3ea7f5],_0x305ba2=this['_currentCl'+'ip'];return _0x305ba2&&_0x305ba2!==_0x1609f7&&(_0x305ba2['_playing']=!(0xcef+-0x59*0x35+0x57f)),this['_currentCl'+'ip']=_0x1609f7,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x1609f7,this['_currentCl'+'ip']['play']()):b['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x3ea7f5+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x1609f7;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(Ki,'EVENT_PLAY','play'),c(Ki,'EVENT_PAUS'+'E','pause'),c(Ki,'EVENT_RESU'+'ME','resume'),c(Ki,'EVENT_STOP','stop'),c(Ki,'EVENT_END','end'),c(Ki,'EVENT_LOOP','loop');class GI{constructor(){this['enabled']=!(-0xb2*-0x2f+0x1d68+-0x1*0x3e16);}}const vx=['enabled'];class HI extends Qe{constructor(_0x1432da){super(_0x1432da),this['id']='sprite',this['ComponentT'+'ype']=Ki,this['DataType']=GI,this['schema']=vx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0xa52899){this['_defaultMa'+'terial']=_0xa52899;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x2f6424=new ce(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Te,'name':'sprite'}),_0x4c3e5a=new Uint8Array(_0x2f6424['lock']());_0x4c3e5a[-0x1f8a+-0x6*0x60d+0x538*0xd]=_0x4c3e5a[0x1433+-0xb*0x1b+-0x1309]=_0x4c3e5a[0xb23*0x1+0x3*-0x863+0xe08]=_0x4c3e5a[-0x5cb*0x1+0x16b4+0x5a2*-0x3]=0x2fc*-0x2+0x1651*-0x1+0x1d48,_0x2f6424['unlock']();const _0x3a9af7=new _s();_0x3a9af7['diffuse']['set'](0x5d3+-0x1115+0xb42,0x1*0xe1d+0xb8*-0x5+-0xa85,0x1*-0x230b+-0x6*0x5f7+0x46d5*0x1),_0x3a9af7['emissive']['set'](-0x21dc*0x1+-0x4a4+0x1*0x2681,0x1*0x1fcd+-0x269*-0x3+-0x2707,0x49a*-0x5+-0x728+0x1e2b),_0x3a9af7['emissiveMa'+'p']=_0x2f6424,_0x3a9af7['opacityMap']=_0x2f6424,_0x3a9af7['opacityMap'+'Channel']='a',_0x3a9af7['useLightin'+'g']=!(-0x199*0xd+-0x13d*-0x1a+0xac*-0x11),_0x3a9af7['useTonemap']=!(-0xa4e+0x3*-0xc70+0x2f9f),_0x3a9af7['useFog']=!(0x955*-0x4+0x15d3+0x2*0x7c1),_0x3a9af7['useSkybox']=!(0x2*-0x793+0x1237+-0x310),_0x3a9af7['blendType']=dn,_0x3a9af7['depthWrite']=!(-0x469*0x1+0x13*0xf2+-0xd8c),_0x3a9af7['pixelSnap']=!(0xb25*0x1+0x25*0xbc+-0x1*0x2650),_0x3a9af7['cull']=vt,_0x3a9af7['update'](),this['_defaultTe'+'xture']=_0x2f6424,this['_defaultMa'+'terial']=_0x3a9af7;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x9636c3){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x9636c3;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x673fd1=this['defaultMat'+'erial']['clone']();_0x673fd1['nineSliced'+'Mode']=ht,_0x673fd1['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x673fd1;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x47f457){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x47f457;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x48acc8=this['defaultMat'+'erial']['clone']();_0x48acc8['nineSliced'+'Mode']=st,_0x48acc8['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x48acc8;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x3e1d83,_0x11e958,_0x4ee57c){if(_0x11e958['enabled']!==void(-0x5*-0x59b+-0x1c43+0x3c)&&(_0x3e1d83['enabled']=_0x11e958['enabled']),_0x3e1d83['type']=_0x11e958['type'],_0x11e958['layers']&&Array['isArray'](_0x11e958['layers'])&&(_0x3e1d83['layers']=_0x11e958['layers']['slice'](0x1f*-0xa3+-0x3*-0x842+-0x509)),_0x11e958['drawOrder']!==void(-0x6ec+0x954+-0x268)&&(_0x3e1d83['drawOrder']=_0x11e958['drawOrder']),_0x11e958['color']!==void(-0x5db*0x6+0x14c4+0xe5e)&&(_0x11e958['color']instanceof Y?_0x3e1d83['color']['set'](_0x11e958['color']['r'],_0x11e958['color']['g'],_0x11e958['color']['b'],_0x11e958['opacity']??0x259e+0x1*0xf08+0x1*-0x34a5):_0x3e1d83['color']['set'](_0x11e958['color'][-0x151*-0x1a+-0x36+-0x2204],_0x11e958['color'][-0x46d+0x2a2+0x1cc],_0x11e958['color'][-0x24d+-0x1*0x1148+0x1397],_0x11e958['opacity']??-0xc72+-0xe1c+0x1a8f),_0x3e1d83['color']=_0x3e1d83['color']),_0x11e958['opacity']!==void(-0xa11+-0x14ae+-0x1ebf*-0x1)&&(_0x3e1d83['opacity']=_0x11e958['opacity']),_0x11e958['flipX']!==void(-0xb83+0x68f*-0x1+0x1212)&&(_0x3e1d83['flipX']=_0x11e958['flipX']),_0x11e958['flipY']!==void(0x1d*0xa1+-0x82f+-0xa0e)&&(_0x3e1d83['flipY']=_0x11e958['flipY']),_0x11e958['width']!==void(-0x19b4+-0xa94+0x2448)&&(_0x3e1d83['width']=_0x11e958['width']),_0x11e958['height']!==void(0x5*0x6ac+0x91*0x1+-0x21ed*0x1)&&(_0x3e1d83['height']=_0x11e958['height']),_0x11e958['spriteAsse'+'t']!==void(0x1c23*-0x1+-0xaf9+-0x1*-0x271c)&&(_0x3e1d83['spriteAsse'+'t']=_0x11e958['spriteAsse'+'t']),_0x11e958['sprite']&&(_0x3e1d83['sprite']=_0x11e958['sprite']),_0x11e958['frame']!==void(0xcf4*-0x3+-0x3d*0x97+0x4ad7)&&(_0x3e1d83['frame']=_0x11e958['frame']),_0x11e958['clips']){for(const _0x235f08 in _0x11e958['clips'])_0x3e1d83['addClip'](_0x11e958['clips'][_0x235f08]);}_0x11e958['speed']!==void(0x8e8+0x12ff+-0x1be7*0x1)&&(_0x3e1d83['speed']=_0x11e958['speed']),_0x11e958['autoPlayCl'+'ip']&&(_0x3e1d83['autoPlayCl'+'ip']=_0x11e958['autoPlayCl'+'ip']),_0x3e1d83['batchGroup'+'Id']=_0x11e958['batchGroup'+'Id']===void(-0x4*-0x4f+0x81*0x1+0x1*-0x1bd)||_0x11e958['batchGroup'+'Id']===null?-(0x12b5*-0x1+-0x1296+-0x7c*-0x4d):_0x11e958['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x3e1d83,_0x11e958,_0x4ee57c);}['cloneCompo'+'nent'](_0x5269cb,_0x2fcd7d){const _0x4fdcf1=_0x5269cb['sprite'];return this['addCompone'+'nt'](_0x2fcd7d,{'enabled':_0x4fdcf1['enabled'],'type':_0x4fdcf1['type'],'spriteAsset':_0x4fdcf1['spriteAsse'+'t'],'sprite':_0x4fdcf1['sprite'],'width':_0x4fdcf1['width'],'height':_0x4fdcf1['height'],'frame':_0x4fdcf1['frame'],'color':_0x4fdcf1['color']['clone'](),'opacity':_0x4fdcf1['opacity'],'flipX':_0x4fdcf1['flipX'],'flipY':_0x4fdcf1['flipY'],'speed':_0x4fdcf1['speed'],'clips':_0x4fdcf1['clips'],'autoPlayClip':_0x4fdcf1['autoPlayCl'+'ip'],'batchGroupId':_0x4fdcf1['batchGroup'+'Id'],'drawOrder':_0x4fdcf1['drawOrder'],'layers':_0x4fdcf1['layers']['slice'](0x15b3+-0x12e1+-0x2d2)});}['onUpdate'](_0x2c1100){const _0x5dbe34=this['store'];for(const _0x38f351 in _0x5dbe34)if(_0x5dbe34['hasOwnProp'+'erty'](_0x38f351)){const _0x49b420=_0x5dbe34[_0x38f351];if(_0x49b420['data']['enabled']&&_0x49b420['entity']['enabled']){const _0x40daa8=_0x49b420['entity']['sprite'];_0x40daa8['_currentCl'+'ip']&&_0x40daa8['_currentCl'+'ip']['_update'](_0x2c1100);}}}['onBeforeRe'+'move'](_0x41770a,_0x2b61d7){_0x2b61d7['onDestroy']();}}pe['_buildAcce'+'ssors'](Ki['prototype'],vx);class aa extends pe{constructor(_0x15e4c4,_0x3c861b){super(_0x15e4c4,_0x3c861b),this['_oldState']=!(-0x42*0x57+0x25*0xbb+-0x499),this['_size']=new A(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x2bdf52){_0x2bdf52 instanceof A?this['_size']['copy'](_0x2bdf52):_0x2bdf52 instanceof Array&&_0x2bdf52['length']>=-0x8c6+0x132e+0xa65*-0x1&&this['size']['set'](_0x2bdf52[-0x2388+-0x1*-0x20dc+0x12*0x26],_0x2bdf52[0x2*-0xefb+0x1929+-0x4ce*-0x1],_0x2bdf52[-0x135e+0x1bf0+-0x890]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x3ab57b,_0x223883,_0x5743e2){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x5bec8c=this['enabled']&&this['entity']['enabled'];_0x5bec8c!==this['_oldState']&&(this['_oldState']=_0x5bec8c,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(aa,'EVENT_ENAB'+'LE','enable'),c(aa,'EVENT_DISA'+'BLE','disable'),c(aa,'EVENT_STAT'+'E','state'),c(aa,'EVENT_REMO'+'VE','remove');class WI{constructor(){this['enabled']=!(0x21c1+0x1e+-0x21df);}}const bx=['enabled'];class $I extends Qe{constructor(_0x4126b8){super(_0x4126b8),this['id']='zone',this['ComponentT'+'ype']=aa,this['DataType']=WI,this['schema']=bx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x33e425,_0x26230a,_0x483f3b){_0x33e425['enabled']=_0x26230a['hasOwnProp'+'erty']('enabled')?!!_0x26230a['enabled']:!(-0x244+0x1*-0xb36+-0x159*-0xa),_0x26230a['size']&&(_0x26230a['size']instanceof A?_0x33e425['size']['copy'](_0x26230a['size']):_0x26230a['size']instanceof Array&&_0x26230a['size']['length']>=-0x26*-0x72+0x2246+-0x332f&&_0x33e425['size']['set'](_0x26230a['size'][0xc50+-0x1082*0x1+0xb3*0x6],_0x26230a['size'][0xe18+-0x4*0x610+-0x33*-0x33],_0x26230a['size'][0x2537+0x1*-0x1733+-0xe02]));}['cloneCompo'+'nent'](_0xb6ee4c,_0x499176){const _0xbacf65={'enabled':_0xb6ee4c['zone']['enabled'],'size':_0xb6ee4c['zone']['size']};return this['addCompone'+'nt'](_0x499176,_0xbacf65);}['_onBeforeR'+'emove'](_0x5db295,_0x4cc7f7){_0x4cc7f7['_onBeforeR'+'emove']();}}pe['_buildAcce'+'ssors'](aa['prototype'],bx);class qI{constructor(_0x59ad6a,_0x55b883){this['effect']=_0x59ad6a,this['inputTarge'+'t']=_0x55b883,this['outputTarg'+'et']=null,this['name']=_0x59ad6a['constructo'+'r']['name'];}}class XI{constructor(_0x6ee1e6,_0x11f6bf){this['app']=_0x6ee1e6,this['camera']=_0x11f6bf,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0x4f7+0x96b*0x3+-0x2137),this['depthTarge'+'t']=null,_0x11f6bf['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x492b34,_0x49f139){const _0x2b8980=this['camera']['rect'],_0x3d4104=this['destinatio'+'nRenderTar'+'get'],_0x568a58=this['app']['graphicsDe'+'vice'],_0x5c8799=Math['floor'](_0x2b8980['z']*((_0x3d4104==null?void(0xc94*-0x2+0x9e7*0x3+-0x48d*0x1):_0x3d4104['width'])??_0x568a58['width'])),_0x183c24=Math['floor'](_0x2b8980['w']*((_0x3d4104==null?void(0xb4+-0x1d*0x14c+0x24e8):_0x3d4104['height'])??_0x568a58['height']));return new ce(_0x568a58,{'name':_0x49f139,'format':_0x492b34,'width':_0x5c8799,'height':_0x183c24,'mipmaps':!(-0x1ac9+-0x312+0x1ddc),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe});}['_createOff'+'screenTarg'+'et'](_0xd52758,_0x43ba63){const _0x28cfdd=this['app']['graphicsDe'+'vice'],_0x1cdeec=(this['destinatio'+'nRenderTar'+'get']??_0x28cfdd['backBuffer'])['isColorBuf'+'ferSrgb'](-0x4c2*0x7+-0x2090+0x41de),_0x49068=(_0x43ba63&&_0x28cfdd['getRendera'+'bleHdrForm'+'at']([it,et],!(0x8b*0x22+-0x19a*-0xb+-0x2414)))??(_0x1cdeec?cs:Te),_0x5bc4be=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x46f1f4=this['_allocateC'+'olorBuffer'](_0x49068,_0x5bc4be);return new St({'colorBuffer':_0x46f1f4,'depth':_0xd52758,'stencil':_0xd52758&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0xd52758?_0x28cfdd['samples']:-0x11*-0xd3+0x21ae+-0xbec*0x4});}['_resizeOff'+'screenTarg'+'et'](_0x2fc6a3){const _0x3595b5=_0x2fc6a3['colorBuffe'+'r']['format'],_0x55437a=_0x2fc6a3['colorBuffe'+'r']['name'];_0x2fc6a3['destroyFra'+'meBuffers'](),_0x2fc6a3['destroyTex'+'tureBuffer'+'s'](),_0x2fc6a3['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x3595b5,_0x55437a),_0x2fc6a3['_colorBuff'+'ers']=[_0x2fc6a3['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x5de685){_0x5de685['destroyTex'+'tureBuffer'+'s'](),_0x5de685['destroy']();}['addEffect'](_0x1a753f){const _0x2644e3=this['effects'],_0x5ca8a2=_0x2644e3['length']===0x3*-0x65a+-0x65e+0x196c,_0x42d9fe=this['_createOff'+'screenTarg'+'et'](_0x5ca8a2,_0x1a753f['hdr']),_0x5e6ca4=new qI(_0x1a753f,_0x42d9fe);_0x2644e3['push'](_0x5e6ca4),this['_sourceTar'+'get']=_0x5e6ca4['inputTarge'+'t'],_0x2644e3['length']>0xd33+0xeb7*0x2+-0x2aa0&&(_0x2644e3[_0x2644e3['length']-(-0xd*-0x79+0x1f8a*0x1+0xc8f*-0x3)]['outputTarg'+'et']=_0x5e6ca4['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x1a753f,_0x1a753f['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(0x7ae+-0x27*0xb9+0x1481);}['removeEffe'+'ct'](_0x295307){let _0x46c4d3=-(-0x160f+-0x1*-0x141b+0x1f5);for(let _0x943201=-0x18af+0x86*-0x3d+0x12df*0x3,_0x249d15=this['effects']['length'];_0x943201<_0x249d15;_0x943201++)if(this['effects'][_0x943201]['effect']===_0x295307){_0x46c4d3=_0x943201;break;}_0x46c4d3>=0x1ec5*0x1+-0x77*-0x37+-0x3856&&(_0x46c4d3>-0x193+-0x4*0x3a5+0x1027?this['effects'][_0x46c4d3-(-0x1be1+-0x23cb+0x1*0x3fad)]['outputTarg'+'et']=_0x46c4d3+(0xe3e+-0x3*0x2f5+-0x1*0x55e)<this['effects']['length']?this['effects'][_0x46c4d3+(-0x14a*-0x8+0x27*0xd0+-0x29ff)]['inputTarge'+'t']:null:this['effects']['length']>0x1744*0x1+0x1677+-0x2*0x16dd&&(this['effects'][0x43e+-0x2521*0x1+0x20e4]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0x2532+-0x13b7+0x38ea]['inputTarge'+'t']),this['effects'][-0x55e+-0x1f*0x4d+0xeb2]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x133e+-0x833+-0xb0b*0x1),this['effects'][-0xd1b*-0x2+0x815*0x2+-0x2a5f]['hdr']),this['_sourceTar'+'get']=this['effects'][0x697*0x1+-0xea+-0x5ac]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x1*-0x12cd+-0x38*0x1f+-0xc04]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x46c4d3]['inputTarge'+'t']),this['effects']['splice'](_0x46c4d3,-0x259+-0x275+-0x4cf*-0x1)),this['enabled']&&_0x295307['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0x1550+-0xb*-0x38b+0xb*-0x19b&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x4a25e2=-0x1a74+0x193+0x243*0xb,_0x4f37c9=this['effects']['length'];_0x4a25e2<_0x4f37c9;_0x4a25e2++){const _0x1046b7=this['effects'][_0x4a25e2]['effect'];this['_newPostEf'+'fect']!==_0x1046b7&&_0x1046b7['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x3c877d=0x137*-0x2+-0x1154+0x13c2,_0x234371=this['effects']['length'];_0x3c877d<_0x234371;_0x3c877d++)this['effects'][_0x3c877d]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x4eb94b=this['app']['scene']['layers']['getLayerBy'+'Id'](es);_0x4eb94b&&(_0x4eb94b['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0xd39*-0x1+0xf*0x1f4+-0x1013)));}['_releaseDe'+'pthMap'](){const _0x554c01=this['app']['scene']['layers']['getLayerBy'+'Id'](es);_0x554c01&&(_0x554c01['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x25c8+-0x548*-0x4+-0x377*0x11)));}['destroy'](){for(let _0x4f859a=-0x1*0x4a2+-0x12ed+0x178f,_0x11e26d=this['effects']['length'];_0x4f859a<_0x11e26d;_0x4f859a++)this['effects'][_0x4f859a]['inputTarge'+'t']['destroy']();this['effects']['length']=0x1ea2+0x261f*-0x1+0x77d,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0x23*0x55+-0x286+0x11*0xd5),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0x1*0xdbc+-0x22b2+0x306e]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x2614da=null;const _0x40ac64=this['effects']['length'];if(_0x40ac64)for(let _0x441813=-0x1959+-0x1e*-0x5b+0x219*0x7;_0x441813<_0x40ac64;_0x441813++){const _0x22a3e7=this['effects'][_0x441813];let _0x50c6d0=_0x22a3e7['outputTarg'+'et'];_0x441813===_0x40ac64-(0xfc6+0x1*-0xf45+0x80*-0x1)&&(_0x2614da=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x50c6d0=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x22a3e7['name']),_0x22a3e7['effect']['render'](_0x22a3e7['inputTarge'+'t'],_0x50c6d0,_0x2614da),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x1282+-0x1*0x1d2f+0xaae),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x173215,_0x3509ab){const _0x4b6cea=this['camera']['rect'],_0x4889f3=this['destinatio'+'nRenderTar'+'get'];_0x173215=(_0x4889f3==null?void(-0x1*-0x1221+-0x8c*0xd+-0x5b*0x1f):_0x4889f3['width'])??_0x173215,_0x3509ab=(_0x4889f3==null?void(0x8eb*0x3+0x1*0x55e+-0x201f):_0x4889f3['height'])??_0x3509ab,this['camera']['camera']['aspectRati'+'o']=_0x173215*_0x4b6cea['z']/(_0x3509ab*_0x4b6cea['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x200344=this['app']['graphicsDe'+'vice'],_0x513a31=this['destinatio'+'nRenderTar'+'get'],_0xea4fd0=(_0x513a31==null?void(0x1c59+0x188+-0x1de1):_0x513a31['width'])??_0x200344['width'],_0x2a2406=(_0x513a31==null?void(-0x132e+-0x1d2+-0x1c0*-0xc):_0x513a31['height'])??_0x200344['height'],_0x311ffb=this['camera']['rect'],_0x49c411=Math['floor'](_0x311ffb['z']*_0xea4fd0),_0x411a30=Math['floor'](_0x311ffb['w']*_0x2a2406),_0x233dcb=this['effects'];for(let _0x4c197c=0x1438+0x6e8+-0x1b2*0x10,_0x20eaf8=_0x233dcb['length'];_0x4c197c<_0x20eaf8;_0x4c197c++){const _0x110929=_0x233dcb[_0x4c197c];(_0x110929['inputTarge'+'t']['width']!==_0x49c411||_0x110929['inputTarge'+'t']['height']!==_0x411a30)&&this['_resizeOff'+'screenTarg'+'et'](_0x110929['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x819af7,_0x3cdd5b,_0x421667){this['enabled']&&this['resizeRend'+'erTargets']();}}class wx extends pe{constructor(_0x28e42e,_0xd3682d){super(_0x28e42e,_0xd3682d),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',0xe26+-0xd09*-0x1+-0x1b2f),c(this,'_renderSce'+'neColorMap',0x26c9+0x17f+-0x2848),c(this,'_sceneDept'+'hMapReques'+'ted',!(-0x45e*0x4+0x2259+-0x10e0)),c(this,'_sceneColo'+'rMapReques'+'ted',!(0x7e6+0x5*-0x3ca+0xb0d)),c(this,'_priority',-0x20ea+-0x21a7+0x4291*0x1),c(this,'_disablePo'+'stEffectsL'+'ayer',nl),c(this,'_camera',new dl()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0xd3682d,this['_postEffec'+'ts']=new XI(_0x28e42e['app'],this));}['setShaderP'+'ass'](_0x82f903){const _0x1a452f=ti['get'](this['system']['app']['graphicsDe'+'vice']),_0x4369ef=_0x82f903?_0x1a452f['allocate'](_0x82f903,{'isForward':!(-0x1f7+0x1*-0x1b6e+0x1*0x1d65)}):null;return this['_camera']['shaderPass'+'Info']=_0x4369ef,_0x4369ef['index'];}['getShaderP'+'ass'](){var _0x113483;return(_0x113483=this['_camera']['shaderPass'+'Info'])==null?void(0x135+0x1*0x1ef3+-0x2028):_0x113483['name'];}set['renderPass'+'es'](_0x7f7dd1){this['_camera']['renderPass'+'es']=_0x7f7dd1||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0xb55*-0x2+-0x540*0x1+-0x2e7*0x6);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x2c907f){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x2c907f;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x434890){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x434890;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x39dd1f){this['_camera']['fogParams']=_0x39dd1f;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x44f3e6){this['_camera']['aperture']=_0x44f3e6;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x48f8ff){this['_camera']['aspectRati'+'o']=_0x48f8ff;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0xf206cb){this['_camera']['aspectRati'+'oMode']=_0xf206cb;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x4e8e8c){this['_camera']['calculateP'+'rojection']=_0x4e8e8c;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x1228f7){this['_camera']['calculateT'+'ransform']=_0x1228f7;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x308ab7){this['_camera']['clearColor']=_0x308ab7;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x59a452){this['_camera']['clearColor'+'Buffer']=_0x59a452,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x57b1be){this['_camera']['clearDepth'+'Buffer']=_0x57b1be,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x33c5bb){this['_camera']['clearStenc'+'ilBuffer']=_0x33c5bb,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x31aa09){this['_camera']['cullFaces']=_0x31aa09;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x24c7ab){this['_disablePo'+'stEffectsL'+'ayer']=_0x24c7ab,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x21500b){this['_camera']['farClip']=_0x21500b;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0xf3bbf1){this['_camera']['flipFaces']=_0xf3bbf1;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x385277){this['_camera']['fov']=_0x385277;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x163b47){this['_camera']['frustumCul'+'ling']=_0x163b47;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x16d656){this['_camera']['horizontal'+'Fov']=_0x16d656;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x4f7ab0){const _0x30e02c=this['_camera']['layers'],_0x2d3dd6=this['system']['app']['scene'];_0x30e02c['forEach'](_0x3d7fd8=>{const _0x688f7d=_0x2d3dd6['layers']['getLayerBy'+'Id'](_0x3d7fd8);_0x688f7d==null||_0x688f7d['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x4f7ab0,this['enabled']&&this['entity']['enabled']&&_0x4f7ab0['forEach'](_0x2bcc8a=>{const _0x522322=_0x2d3dd6['layers']['getLayerBy'+'Id'](_0x2bcc8a);_0x522322==null||_0x522322['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0xb27b88){this['_camera']['jitter']=_0xb27b88;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x240a5d){this['_camera']['nearClip']=_0x240a5d;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x38eaf1){this['_camera']['orthoHeigh'+'t']=_0x38eaf1;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x3e2ce9){this['_priority']=_0x3e2ce9,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0xef17f6){this['_camera']['projection']=_0xef17f6;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x29ffc2){this['_camera']['rect']=_0x29ffc2,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x3e5498){_0x3e5498&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x104c+0x30f*0x4+0x410)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x1*0x128c+0x1*-0x7e1+0x1a6d)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0x2667+-0x1*0x1549+-0x7*-0x887)),this['_sceneColo'+'rMapReques'+'ted']=!(0xd1e+0x43e*-0x3+-0x3*0x21));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0xdb0+0x77f*0x2+-0x1cae;}set['renderScen'+'eDepthMap'](_0x35e6fa){_0x35e6fa&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(-0x1552+0x1*-0xf73+-0x24c5*-0x1)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x18c*0x4+0xe94+-0x864)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x106+-0x146+0x1f*0x13)),this['_sceneDept'+'hMapReques'+'ted']=!(0x29*-0xeb+0x1b*-0x8+0x2*0x133e));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x12d*-0x2+0xed*0x25+0x1fe7*-0x1;}set['renderTarg'+'et'](_0x16cf4d){b['call'](()=>{this['_camera']['renderPass'+'es']['length']>0x1b56+0x1806+-0x2*0x19ae&&b['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x16cf4d,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x11b303){this['_camera']['scissorRec'+'t']=_0x11b303;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x507b72){this['_camera']['sensitivit'+'y']=_0x507b72;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x9125c7){this['_camera']['shutter']=_0x9125c7;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x397514){if(this['layers']['find'](_0x538bfb=>_0x538bfb===es)){const _0x3122bd=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](es);_0x397514?_0x3122bd==null||_0x3122bd['incrementC'+'ounter']():_0x3122bd==null||_0x3122bd['decrementC'+'ounter']();}else{if(_0x397514)return!(-0xbfd+0x2*-0x8+0x1*0xc0e);}return!(-0x1*0x233e+0x9cf+0x196f*0x1);}['requestSce'+'neColorMap'](_0x248f02){this['_renderSce'+'neColorMap']+=_0x248f02?0x71a+0xd08+-0x1421:-(-0xe3a+-0x983*-0x1+0x4b8),b['assert'](this['_renderSce'+'neColorMap']>=0x1*0x23b7+0xd39*-0x2+-0x945),this['_enableDep'+'thLayer'](_0x248f02)||b['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x5e7584){this['_renderSce'+'neDepthMap']+=_0x5e7584?0x2379+-0x23e2+-0x6a*-0x1:-(0x5fd+-0x8*-0xc5+-0x6*0x206),b['assert'](this['_renderSce'+'neDepthMap']>=0x133+0x3*0x962+-0x1d59),this['_enableDep'+'thLayer'](_0x5e7584)||b['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x435f0e=this['system']['app']['scene']['layers'];_0x435f0e['_dirty']=!(-0x3*-0x347+-0x3*-0x79d+-0x20ac);}['screenToWo'+'rld'](_0x152b79,_0x40f002,_0x4c29a1,_0x484db){const _0x25b68a=this['system']['app']['graphicsDe'+'vice'],{width:_0x3fe099,height:_0x15ba8e}=_0x25b68a['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x152b79,_0x40f002,_0x4c29a1,_0x3fe099,_0x15ba8e,_0x484db);}['worldToScr'+'een'](_0x176961,_0x18126){const _0x43a777=this['system']['app']['graphicsDe'+'vice'],{width:_0x397198,height:_0x2e4910}=_0x43a777['clientRect'];return this['_camera']['worldToScr'+'een'](_0x176961,_0x397198,_0x2e4910,_0x18126);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x8eb*0x3+-0x25d9*-0x1+-0x409a),this['_camera']['_viewProjM'+'atDirty']=!(-0x2*0x133+-0x1a9b+0x1d01);}['addCameraT'+'oLayers'](){const _0x50f38d=this['layers'];for(let _0x5f32d8=0x11*-0xe5+0x738+-0x5*-0x199;_0x5f32d8<_0x50f38d['length'];_0x5f32d8++){const _0xe9b742=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x50f38d[_0x5f32d8]);_0xe9b742&&_0xe9b742['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x33b1b4=this['layers'];for(let _0x31a652=-0x107*0x1f+0xb39*0x3+-0x1d2;_0x31a652<_0x33b1b4['length'];_0x31a652++){const _0x515689=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x33b1b4[_0x31a652]);_0x515689&&_0x515689['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x4193b1,_0x3467e6){this['addCameraT'+'oLayers'](),_0x4193b1['off']('add',this['onLayerAdd'+'ed'],this),_0x4193b1['off']('remove',this['onLayerRem'+'oved'],this),_0x3467e6['on']('add',this['onLayerAdd'+'ed'],this),_0x3467e6['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x272c53){this['layers']['indexOf'](_0x272c53['id'])<-0x56c+-0x2*-0x10b7+-0x1c02||_0x272c53['addCamera'](this);}['onLayerRem'+'oved'](_0x13b409){this['layers']['indexOf'](_0x13b409['id'])<0x153*-0x13+0x16*-0x95+0x25f7||_0x13b409['removeCame'+'ra'](this);}['onEnable'](){var _0xb221c5,_0x1b81fa,_0x4138e0;const _0x412fd2=this['system']['app']['scene'],_0x206524=_0x412fd2['layers'];this['system']['addCamera'](this),(_0xb221c5=this['_evtLayers'+'Changed'])==null||_0xb221c5['off'](),this['_evtLayers'+'Changed']=_0x412fd2['on']('set:layers',this['onLayersCh'+'anged'],this),_0x206524&&((_0x1b81fa=this['_evtLayerA'+'dded'])==null||_0x1b81fa['off'](),this['_evtLayerA'+'dded']=_0x206524['on']('add',this['onLayerAdd'+'ed'],this),(_0x4138e0=this['_evtLayerR'+'emoved'])==null||_0x4138e0['off'](),this['_evtLayerR'+'emoved']=_0x206524['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x4fbbb1,_0x4f17a9,_0x2d3084;const _0xccf085=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x4fbbb1=this['_evtLayers'+'Changed'])==null||_0x4fbbb1['off'](),this['_evtLayers'+'Changed']=null,_0xccf085&&((_0x4f17a9=this['_evtLayerA'+'dded'])==null||_0x4f17a9['off'](),this['_evtLayerA'+'dded']=null,(_0x2d3084=this['_evtLayerR'+'emoved'])==null||_0x2d3084['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x11f9cf){const _0x8262ab=this['system']['app']['graphicsDe'+'vice'],_0xf9cdd3=_0x11f9cf?_0x11f9cf['width']:_0x8262ab['width'],_0x17c1b6=_0x11f9cf?_0x11f9cf['height']:_0x8262ab['height'];return _0xf9cdd3*this['rect']['z']/(_0x17c1b6*this['rect']['w']);}['frameUpdat'+'e'](_0x5ed170){this['aspectRati'+'oMode']===kp&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x5ed170));}['startXr'](_0x40bf88,_0x175435,_0x16ea22){this['system']['app']['xr']['start'](this,_0x40bf88,_0x175435,_0x16ea22);}['endXr'](_0x33bbfa){if(!this['_camera']['xr']){_0x33bbfa&&_0x33bbfa(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x33bbfa);}['copy'](_0x51bd45){this['aperture']=_0x51bd45['aperture'],this['aspectRati'+'o']=_0x51bd45['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x51bd45['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x51bd45['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x51bd45['calculateT'+'ransform'],this['clearColor']=_0x51bd45['clearColor'],this['clearColor'+'Buffer']=_0x51bd45['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x51bd45['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x51bd45['clearStenc'+'ilBuffer'],this['cullFaces']=_0x51bd45['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x51bd45['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x51bd45['farClip'],this['flipFaces']=_0x51bd45['flipFaces'],this['fov']=_0x51bd45['fov'],this['frustumCul'+'ling']=_0x51bd45['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x51bd45['horizontal'+'Fov'],this['layers']=_0x51bd45['layers'],this['nearClip']=_0x51bd45['nearClip'],this['orthoHeigh'+'t']=_0x51bd45['orthoHeigh'+'t'],this['priority']=_0x51bd45['priority'],this['projection']=_0x51bd45['projection'],this['rect']=_0x51bd45['rect'],this['renderTarg'+'et']=_0x51bd45['renderTarg'+'et'],this['scissorRec'+'t']=_0x51bd45['scissorRec'+'t'],this['sensitivit'+'y']=_0x51bd45['sensitivit'+'y'],this['shutter']=_0x51bd45['shutter'];}}class jI{constructor(){this['enabled']=!(-0x21f4+-0x1b8*0x6+0x1622*0x2);}}const Tx=['enabled'];class YI extends Qe{constructor(_0x3f7db8){super(_0x3f7db8),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=wx,this['DataType']=jI,this['schema']=Tx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x25ed22,_0x22acc6,_0x43931d){_0x43931d=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0xcb3889=0x1*-0x1332+-0xc4*-0x31+-0x7*0x29e;_0xcb3889<_0x43931d['length'];_0xcb3889++){const _0x1ffacd=_0x43931d[_0xcb3889];if(_0x22acc6['hasOwnProp'+'erty'](_0x1ffacd)){const _0x4d0574=_0x22acc6[_0x1ffacd];switch(_0x1ffacd){case'rect':case'scissorRec'+'t':Array['isArray'](_0x4d0574)?_0x25ed22[_0x1ffacd]=new ee(_0x4d0574[-0x2264+0xdc9*0x1+0x149b],_0x4d0574[-0xcb2+-0x1b58+-0x33*-0xc9],_0x4d0574[0x4*0x749+0xb26*-0x1+0x1*-0x11fc],_0x4d0574[-0xf10+-0x49f+0x13b2]):_0x25ed22[_0x1ffacd]=_0x4d0574;break;case'clearColor':Array['isArray'](_0x4d0574)?_0x25ed22[_0x1ffacd]=new Y(_0x4d0574[0x1*-0x26d0+0x26*-0xbc+0x42b8],_0x4d0574[0xbdc+0x1*0x2191+-0x156*0x22],_0x4d0574[0x4*-0x633+0x1*-0x1bc5+0x3493],_0x4d0574[0x979+0x8c0+-0x1236]):_0x25ed22[_0x1ffacd]=_0x4d0574;break;default:_0x25ed22[_0x1ffacd]=_0x4d0574;break;}}}super['initialize'+'ComponentD'+'ata'](_0x25ed22,_0x22acc6,['enabled']);}['cloneCompo'+'nent'](_0x365215,_0x56ab2c){const _0xb434d3=_0x365215['camera'];return this['addCompone'+'nt'](_0x56ab2c,{'aspectRatio':_0xb434d3['aspectRati'+'o'],'aspectRatioMode':_0xb434d3['aspectRati'+'oMode'],'calculateProjection':_0xb434d3['calculateP'+'rojection'],'calculateTransform':_0xb434d3['calculateT'+'ransform'],'clearColor':_0xb434d3['clearColor'],'clearColorBuffer':_0xb434d3['clearColor'+'Buffer'],'clearDepthBuffer':_0xb434d3['clearDepth'+'Buffer'],'clearStencilBuffer':_0xb434d3['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0xb434d3['renderScen'+'eDepthMap'],'renderSceneColorMap':_0xb434d3['renderScen'+'eColorMap'],'cullFaces':_0xb434d3['cullFaces'],'enabled':_0xb434d3['enabled'],'farClip':_0xb434d3['farClip'],'flipFaces':_0xb434d3['flipFaces'],'fov':_0xb434d3['fov'],'frustumCulling':_0xb434d3['frustumCul'+'ling'],'horizontalFov':_0xb434d3['horizontal'+'Fov'],'layers':_0xb434d3['layers'],'renderTarget':_0xb434d3['renderTarg'+'et'],'nearClip':_0xb434d3['nearClip'],'orthoHeight':_0xb434d3['orthoHeigh'+'t'],'projection':_0xb434d3['projection'],'priority':_0xb434d3['priority'],'rect':_0xb434d3['rect'],'scissorRect':_0xb434d3['scissorRec'+'t'],'aperture':_0xb434d3['aperture'],'sensitivity':_0xb434d3['sensitivit'+'y'],'shutter':_0xb434d3['shutter'],'gammaCorrection':_0xb434d3['gammaCorre'+'ction'],'toneMapping':_0xb434d3['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x57b553,_0x3d7dbd){this['removeCame'+'ra'](_0x3d7dbd),_0x3d7dbd['onRemove']();}['onAppPrere'+'nder'](){for(let _0xc4a98b=0x1a08+-0x773+0x47*-0x43,_0x5e345b=this['cameras']['length'];_0xc4a98b<_0x5e345b;_0xc4a98b++)this['cameras'][_0xc4a98b]['onAppPrere'+'nder']();}['addCamera'](_0x3382c9){this['cameras']['push'](_0x3382c9),Go(this['cameras']);}['removeCame'+'ra'](_0xcf1497){const _0x1dc65d=this['cameras']['indexOf'](_0xcf1497);_0x1dc65d>=-0x55e*0x5+-0x1*-0x1fea+-0x514&&(this['cameras']['splice'](_0x1dc65d,0xac8+0x22d9+0x20*-0x16d),Go(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}pe['_buildAcce'+'ssors'](wx['prototype'],Tx);class Ax{constructor(){c(this,'enabled',!(-0x1e8e+-0x6b*-0x26+0xeac)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(0x95*-0x3+0x7*0xc7+-0x3b1,0x68d+-0x28*-0x7a+-0x199c,-0x11*0xb2+-0x26da*0x1+0x32ad)),c(this,'intensity',0x1816*-0x1+0x1bd8+-0x3c1*0x1),c(this,'luminance',0x1b68*-0x1+-0x80e*-0x2+0x5a6*0x2),c(this,'shape',Tt),c(this,'affectSpec'+'ularity',!(-0x431*0x4+-0x184+0x1248)),c(this,'castShadow'+'s',!(0x1f63*-0x1+-0x1ae6+0x3a4a)),c(this,'shadowDist'+'ance',-0x12a1+0x215b+0x5*-0x2ea),c(this,'shadowInte'+'nsity',0x2*-0xfee+0x751+-0x1*-0x188c),c(this,'shadowReso'+'lution',-0xab*-0x18+0x1*0x109d+-0x1ca5),c(this,'shadowBias',0xd16+0x232b+-0x3041+0.05),c(this,'numCascade'+'s',0x10*-0x1eb+0x1a+-0x1e97*-0x1),c(this,'cascadeBle'+'nd',0xb22+-0x22*0x26+-0x30b*0x2),c(this,'bakeNumSam'+'ples',0x2705+0x1b13+-0x7*0x971),c(this,'bakeArea',-0x1a07+0xc00*-0x1+-0x1*-0x2607),c(this,'cascadeDis'+'tribution',-0x1*-0x30a+-0x1*-0x1f99+-0x22a3*0x1+0.5),c(this,'normalOffs'+'etBias',0xdb*0xc+0xa69+-0x14ad),c(this,'range',-0x2*0x1142+0x7*-0x97+-0xce5*-0x3),c(this,'innerConeA'+'ngle',-0x10dd+-0x1*-0x155+-0x1f6*-0x8),c(this,'outerConeA'+'ngle',-0x71*-0x1+-0x258*0x9+0x14d4*0x1),c(this,'falloffMod'+'e',Cp),c(this,'shadowType',zt),c(this,'vsmBlurSiz'+'e',0x1f0d+0x21f6+-0x4*0x103e),c(this,'vsmBlurMod'+'e',Mp),c(this,'vsmBias',(0x2*0x904+-0x2650+0x1448+0.01)*(0x1*-0x1d0+0x17d7*0x1+-0x1607+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',-0xf*0x1b7+-0x28*-0xe5+-0xa0e),c(this,'cookieFall'+'off',!(0xbfb*-0x3+0x6d*-0x39+0x3c36)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',0x1*0x2094+-0x50d+-0x57*0x51),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Lp),c(this,'mask',-0x254a+-0x11d8+0x3723),c(this,'affectDyna'+'mic',!(-0x254c+0x1f48+0x604)),c(this,'affectLigh'+'tmapped',!(0x2591*-0x1+-0x4a*0x3+0x2670)),c(this,'bake',!(-0x259*0xd+0x1caf+-0x1d7*-0x1)),c(this,'bakeDir',!(-0x1dec+-0x1e89*0x1+0x3c75)),c(this,'isStatic',!(0x574+0x16d4+0x39*-0x7f)),c(this,'layers',[zi]),c(this,'penumbraSi'+'ze',0x1515+0x1*-0x1d3+-0x1341),c(this,'penumbraFa'+'lloff',-0x8fe*-0x3+0x1eec+-0x39e5),c(this,'shadowSamp'+'les',0x1*0x22a6+-0x2*-0xf83+0x2*-0x20ce),c(this,'shadowBloc'+'kerSamples',-0x7fe+-0xcf2*-0x1+-0x4e4*0x1);}}const Mo=Object['keys'](new Ax());class KI extends pe{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(-0x194f+-0x27a+0x1bca)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x53c83=this['system']['store'][this['entity']['getGuid']()];return _0x53c83?_0x53c83['data']:null;}set['enabled'](_0x487615){this['_setValue']('enabled',_0x487615,function(_0x264170,_0x1c54ca){this['onSetEnabl'+'ed'](null,_0x1c54ca,_0x264170);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x51fda5){this['_setValue']('light',_0x51fda5);}get['light'](){return this['data']['light'];}set['type'](_0x28525f){this['_setValue']('type',_0x28525f,function(_0x14261c,_0x51cf1d){this['system']['changeType'](this,_0x51cf1d,_0x14261c),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x4b9b11){this['_setValue']('color',_0x4b9b11,function(_0x26ade4,_0x4528ae){this['light']['setColor'](_0x26ade4);},!(-0x6e6+0x116f*-0x2+0x29c4));}get['color'](){return this['data']['color'];}set['intensity'](_0x234e9c){this['_setValue']('intensity',_0x234e9c,function(_0x1022fb,_0x57294d){this['light']['intensity']=_0x1022fb;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x23758f){this['_setValue']('luminance',_0x23758f,function(_0x4aad0f,_0x394dce){this['light']['luminance']=_0x4aad0f;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x55fea6){this['_setValue']('shape',_0x55fea6,function(_0x5359d1,_0x55baaa){this['light']['shape']=_0x5359d1;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x502aa1){this['_setValue']('affectSpec'+'ularity',_0x502aa1,function(_0x4a54ba,_0x5e9add){this['light']['affectSpec'+'ularity']=_0x4a54ba;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x519729){this['_setValue']('castShadow'+'s',_0x519729,function(_0x84914e,_0x1a1629){this['light']['castShadow'+'s']=_0x84914e;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x374d46){this['_setValue']('shadowDist'+'ance',_0x374d46,function(_0x4a144b,_0x4a7956){this['light']['shadowDist'+'ance']=_0x4a144b;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x2ef1a6){this['_setValue']('shadowInte'+'nsity',_0x2ef1a6,function(_0xd2c1e7,_0x5794b0){this['light']['shadowInte'+'nsity']=_0xd2c1e7;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x86d66){this['_setValue']('shadowReso'+'lution',_0x86d66,function(_0x588ba7,_0x45cd46){this['light']['shadowReso'+'lution']=_0x588ba7;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x2ffce5){this['_setValue']('shadowBias',_0x2ffce5,function(_0x10e17b,_0x2c6f61){this['light']['shadowBias']=-(0xa9e+-0x1*-0x1229+-0x1cc7+0.01)*z['clamp'](_0x10e17b,-0x18b8+-0xb2*-0x27+-0x266,-0x2b8+-0x214a+0x2403);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x11a457){this['_setValue']('numCascade'+'s',_0x11a457,function(_0x21e07a,_0x42e507){this['light']['numCascade'+'s']=z['clamp'](Math['floor'](_0x21e07a),0x2271+0x1bf9+0xd*-0x4cd,0x6b3*-0x5+0x2175+0xe);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x42c627){this['_setValue']('cascadeBle'+'nd',_0x42c627,function(_0x2da9d6,_0x223936){this['light']['cascadeBle'+'nd']=z['clamp'](_0x2da9d6,0xc83*0x2+-0x1855+-0xb1,-0x1b26+-0x2691+-0xaf4*-0x6);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0xbf686f){this['_setValue']('bakeNumSam'+'ples',_0xbf686f,function(_0x52b503,_0x463705){this['light']['bakeNumSam'+'ples']=z['clamp'](Math['floor'](_0x52b503),-0x1*0x1d21+-0x14ec+0x2*0x1907,-0x1cfa+0x17c4+-0x7*-0xe3);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x2adca7){this['_setValue']('bakeArea',_0x2adca7,function(_0x402a57,_0x41c0e2){this['light']['bakeArea']=z['clamp'](_0x402a57,-0x211e+-0x998+-0xb*-0x3e2,0x145d+0xba3+-0x1f4c);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x3ba59f){this['_setValue']('cascadeDis'+'tribution',_0x3ba59f,function(_0x213bde,_0x5e5108){this['light']['cascadeDis'+'tribution']=z['clamp'](_0x213bde,-0x7*0x119+-0x505*0x1+-0x3*-0x43c,-0x1f31*0x1+0x814+-0x2*-0xb8f);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x4629bb){this['_setValue']('normalOffs'+'etBias',_0x4629bb,function(_0x4a0735,_0x489fa4){this['light']['normalOffs'+'etBias']=z['clamp'](_0x4a0735,0x1*0x238f+0x1667+-0x39f6,-0x230+0x3d*0x29+-0x794);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x131b4f){this['_setValue']('range',_0x131b4f,function(_0x539a9f,_0x422131){this['light']['attenuatio'+'nEnd']=_0x539a9f;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x86fd81){this['_setValue']('innerConeA'+'ngle',_0x86fd81,function(_0x4ec041,_0x382cc9){this['light']['innerConeA'+'ngle']=_0x4ec041;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x37adb1){this['_setValue']('outerConeA'+'ngle',_0x37adb1,function(_0x3cf105,_0x471677){this['light']['outerConeA'+'ngle']=_0x3cf105;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x2bca10){this['_setValue']('falloffMod'+'e',_0x2bca10,function(_0x109e86,_0x518772){this['light']['falloffMod'+'e']=_0x109e86;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x18a4b8){this['_setValue']('shadowType',_0x18a4b8,function(_0x3f084c,_0x969869){this['light']['shadowType']=_0x3f084c;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x4ba76c){this['_setValue']('vsmBlurSiz'+'e',_0x4ba76c,function(_0x33a4a8,_0x152929){this['light']['vsmBlurSiz'+'e']=_0x33a4a8;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x9c89d9){this['_setValue']('vsmBlurMod'+'e',_0x9c89d9,function(_0x16b290,_0x12768e){this['light']['vsmBlurMod'+'e']=_0x16b290;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x57b85a){this['_setValue']('vsmBias',_0x57b85a,function(_0x3977a7,_0x80d76b){this['light']['vsmBias']=z['clamp'](_0x3977a7,0x68d*-0x2+0x245b+-0x1741,0x18c1*-0x1+-0xe31+0x26f3*0x1);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x2fe554){this['_setValue']('cookieAsse'+'t',_0x2fe554,function(_0xcfe1de,_0x3c4ad9){if(!(this['_cookieAss'+'etId']&&(_0xcfe1de instanceof he&&_0xcfe1de['id']===this['_cookieAss'+'etId']||_0xcfe1de===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0xcfe1de instanceof he)this['data']['cookieAsse'+'t']=_0xcfe1de['id'],this['_cookieAss'+'etId']=_0xcfe1de['id'],this['onCookieAs'+'setAdd'](_0xcfe1de);else{if(typeof _0xcfe1de=='number'){this['_cookieAss'+'etId']=_0xcfe1de;const _0x468e85=this['system']['app']['assets']['get'](_0xcfe1de);_0x468e85?this['onCookieAs'+'setAdd'](_0x468e85):(this['_cookieAss'+'etAdd']=!(-0x6e3+-0x1*0x1a17+0x3*0xafe),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x50c59c){this['_setValue']('cookie',_0x50c59c,function(_0x1f7c6e,_0x314458){this['light']['cookie']=_0x1f7c6e;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x1159ac){this['_setValue']('cookieInte'+'nsity',_0x1159ac,function(_0x410678,_0x3fd4ff){this['light']['cookieInte'+'nsity']=z['clamp'](_0x410678,0x1*0x1ffd+0xb91+-0x2b8e,-0xb2*0x16+0x8bf*0x2+-0x231);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x9d8fe3){this['_setValue']('cookieFall'+'off',_0x9d8fe3,function(_0x48c019,_0x282be1){this['light']['cookieFall'+'off']=_0x48c019;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x26ca0e){this['_setValue']('cookieChan'+'nel',_0x26ca0e,function(_0x365d51,_0x116353){this['light']['cookieChan'+'nel']=_0x365d51;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x1ff143){this['_setValue']('cookieAngl'+'e',_0x1ff143,function(_0x5c3040,_0x478bc7){if(_0x5c3040!==-0x1*-0x1953+-0xd3b*0x1+-0x408*0x3||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new ee());let _0x4b4b80=-0x15d9+0x40e*0x1+-0x8e6*-0x2,_0x25e1d7=-0xb*-0x1b1+0x12d4+-0x256e;this['cookieScal'+'e']&&(_0x4b4b80=this['cookieScal'+'e']['x'],_0x25e1d7=this['cookieScal'+'e']['y']);const _0x1648e9=Math['cos'](_0x5c3040*z['DEG_TO_RAD']),_0x59b01e=Math['sin'](_0x5c3040*z['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x1648e9/_0x4b4b80,-_0x59b01e/_0x4b4b80,_0x59b01e/_0x25e1d7,_0x1648e9/_0x25e1d7),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x1a4104){this['_setValue']('cookieScal'+'e',_0x1a4104,function(_0x5ee2ba,_0x20ace9){if(_0x5ee2ba!==null||this['cookieAngl'+'e']!==-0x242a+0x6*-0x83+0x273c){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new ee());const _0x128d29=_0x5ee2ba['x'],_0x45f50d=_0x5ee2ba['y'],_0x57d4c9=Math['cos'](this['cookieAngl'+'e']*z['DEG_TO_RAD']),_0x52e462=Math['sin'](this['cookieAngl'+'e']*z['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x57d4c9/_0x128d29,-_0x52e462/_0x128d29,_0x52e462/_0x45f50d,_0x57d4c9/_0x45f50d),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x1*-0x1a1+-0x778*0x1+0x919));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x2eb6ce){this['_setValue']('cookieOffs'+'et',_0x2eb6ce,function(_0x4aa190,_0x529efd){this['light']['cookieOffs'+'et']=_0x4aa190;},!(-0x1eb1+-0x1b72+0x29*0x16b));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x2edb7a){this['_setValue']('shadowUpda'+'teMode',_0x2edb7a,function(_0x30acb6,_0x5bbfc8){this['light']['shadowUpda'+'teMode']=_0x30acb6;},!(0xe*0x5b+-0x1472*0x1+0xf78));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x1ec005){this['_setValue']('mask',_0x1ec005,function(_0x9338e,_0x5640a1){this['light']['mask']=_0x9338e;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x11d7cb){this['_setValue']('affectDyna'+'mic',_0x11d7cb,function(_0x248ec6,_0x2462c9){_0x248ec6?this['light']['mask']|=ms:this['light']['mask']&=-(0x13*0xb1+-0x4a3*-0x7+-0x91e*0x5),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x5686d7){this['_setValue']('affectLigh'+'tmapped',_0x5686d7,function(_0x1d1fd6,_0x236814){_0x1d1fd6?(this['light']['mask']|=dr,this['bake']&&(this['light']['mask']&=-(0x4*0x34a+0x204c*-0x1+0x1329))):(this['light']['mask']&=-(0x1b90+-0x2004+0x477),this['bake']&&(this['light']['mask']|=ar));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x48b0f0){this['_setValue']('bake',_0x48b0f0,function(_0x33b8c5,_0x1c2250){_0x33b8c5?(this['light']['mask']|=ar,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(0x1*0x139+-0x13*0xec+-0x1*-0x104e))):(this['light']['mask']&=-(-0x2*0x2aa+0x19c6+-0x146d),this['affectLigh'+'tmapped']&&(this['light']['mask']|=dr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x55bddb){this['_setValue']('bakeDir',_0x55bddb,function(_0x580f62,_0x5c6b66){this['light']['bakeDir']=_0x580f62;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0xda0aef){this['_setValue']('isStatic',_0xda0aef,function(_0xfa13eb,_0x3080fa){this['light']['isStatic']=_0xfa13eb;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0xfccbe8){this['_setValue']('layers',_0xfccbe8,function(_0x44f60e,_0x4676bc){for(let _0x855933=-0x158f+0x208c+-0xafd;_0x855933<_0x4676bc['length'];_0x855933++){const _0x44d3ab=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4676bc[_0x855933]);_0x44d3ab&&(_0x44d3ab['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x44d3ab));}for(let _0x4f03ee=0x134c+0xa*0x95+-0xa*0x283;_0x4f03ee<_0x44f60e['length'];_0x4f03ee++){const _0x15f09c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x44f60e[_0x4f03ee]);_0x15f09c&&this['enabled']&&this['entity']['enabled']&&(_0x15f09c['addLight'](this),this['light']['addLayer'](_0x15f09c));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x3b5c0e){this['light']['shadowUpda'+'teOverride'+'s']=_0x3b5c0e;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x80b61b){this['light']['shadowSamp'+'les']=_0x80b61b;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x57c9b4){this['light']['shadowBloc'+'kerSamples']=_0x57c9b4;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x21ce43){this['light']['penumbraSi'+'ze']=_0x21ce43;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x330043){this['light']['penumbraFa'+'lloff']=_0x330043;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x245c52,_0x14ff82,_0x2ba29c,_0x5858c6){const _0x26df9e=this['data'],_0xd82ae2=_0x26df9e[_0x245c52];!_0x5858c6&&_0xd82ae2===_0x14ff82||(_0x26df9e[_0x245c52]=_0x14ff82,_0x2ba29c&&_0x2ba29c['call'](this,_0x14ff82,_0xd82ae2));}['addLightTo'+'Layers'](){for(let _0x45fec1=-0x1484*0x1+0x1f*0x73+0x697;_0x45fec1<this['layers']['length'];_0x45fec1++){const _0x4fa949=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x45fec1]);_0x4fa949&&(_0x4fa949['addLight'](this),this['light']['addLayer'](_0x4fa949));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x568d92=0x98*-0x4+-0x17*0xb8+0x58*0x37;_0x568d92<this['layers']['length'];_0x568d92++){const _0x1e549d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x568d92]);_0x1e549d&&(_0x1e549d['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x1e549d));}}['onLayersCh'+'anged'](_0x48ac4f,_0xd1ed2c){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x48ac4f['off']('add',this['onLayerAdd'+'ed'],this),_0x48ac4f['off']('remove',this['onLayerRem'+'oved'],this),_0xd1ed2c['on']('add',this['onLayerAdd'+'ed'],this),_0xd1ed2c['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x259ff2){this['layers']['indexOf'](_0x259ff2['id'])>=0xab0+-0xc62+-0x1f*-0xe&&this['enabled']&&this['entity']['enabled']&&(_0x259ff2['addLight'](this),this['light']['addLayer'](_0x259ff2));}['onLayerRem'+'oved'](_0xa52638){this['layers']['indexOf'](_0xa52638['id'])>=0xab6+0x6cb+0x1*-0x1181&&(_0xa52638['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0xa52638));}['refreshPro'+'perties'](){for(let _0x498dde=-0x22a3+0xd57+-0x2*-0xaa6;_0x498dde<Mo['length'];_0x498dde++){const _0x491e05=Mo[_0x498dde];this[_0x491e05]=this[_0x491e05];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x5aeacc=!(0xa*0x3d0+-0xed*-0x26+-0x494d);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x14ae+-0x6*0x54a+0x346a),_0x5aeacc=!(0x1df*-0x8+0x99b+0x55d)),(!this['_cookieAss'+'et']['resource']||_0x5aeacc)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x5ae18b){this['_cookieAss'+'etId']===_0x5ae18b['id']&&(this['_cookieAss'+'et']=_0x5ae18b,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0xc52+-0x195e+0x25b1)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x6dc019=this['system']['app']['scene'],_0x6e0de5=_0x6dc019['layers'];this['light']['enabled']=!(-0x1139+-0x2198+0x32d1),this['_evtLayers'+'Changed']=_0x6dc019['on']('set:layers',this['onLayersCh'+'anged'],this),_0x6e0de5&&(this['_evtLayerA'+'dded']=_0x6e0de5['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x6e0de5['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x266035,_0x494e18,_0x59a74c;const _0x874189=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0x1*0x17f7+-0xb3a+-0x14*0xa3),(_0x266035=this['_evtLayers'+'Changed'])==null||_0x266035['off'](),this['_evtLayers'+'Changed']=null,_0x874189&&((_0x494e18=this['_evtLayerA'+'dded'])==null||_0x494e18['off'](),this['_evtLayerA'+'dded']=null,(_0x59a74c=this['_evtLayerR'+'emoved'])==null||_0x59a74c['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class ZI extends Qe{constructor(_0x438d7a){super(_0x438d7a),this['id']='light',this['ComponentT'+'ype']=KI,this['DataType']=Ax,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x17f414,_0x5b54e4){const _0x908127={..._0x5b54e4};_0x908127['type']||(_0x908127['type']=_0x17f414['data']['type']),_0x17f414['data']['type']=_0x908127['type'],_0x908127['layers']&&Array['isArray'](_0x908127['layers'])&&(_0x908127['layers']=_0x908127['layers']['slice'](-0xdd*-0x3+-0x262f+0x2398)),_0x908127['color']&&Array['isArray'](_0x908127['color'])&&(_0x908127['color']=new Y(_0x908127['color'][-0x1c6a+-0x83f*0x2+-0x1674*-0x2],_0x908127['color'][-0x837+-0xe8*-0x18+-0xd88],_0x908127['color'][0x1e6b*-0x1+-0x1409+0x3276])),_0x908127['cookieOffs'+'et']&&_0x908127['cookieOffs'+'et']instanceof Array&&(_0x908127['cookieOffs'+'et']=new W(_0x908127['cookieOffs'+'et'][0x210e+0x1*0x16d2+0x8*-0x6fc],_0x908127['cookieOffs'+'et'][-0x7cc*0x1+-0x2537+0x2d04])),_0x908127['cookieScal'+'e']&&_0x908127['cookieScal'+'e']instanceof Array&&(_0x908127['cookieScal'+'e']=new W(_0x908127['cookieScal'+'e'][0x15d3+-0x25e2+0x100f],_0x908127['cookieScal'+'e'][-0xbe7*-0x1+-0xc3d+0x1d*0x3])),_0x908127['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x908127['enabled']=_0x908127['enable']),_0x908127['shape']||(_0x908127['shape']=Tt);const _0x5032f7=new Ho(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x5032f7['type']=qu[_0x908127['type']],_0x5032f7['_node']=_0x17f414['entity'],_0x17f414['data']['light']=_0x5032f7,super['initialize'+'ComponentD'+'ata'](_0x17f414,_0x908127,Mo);}['_onRemoveC'+'omponent'](_0x210386,_0x2ef94a){_0x2ef94a['onRemove']();}['cloneCompo'+'nent'](_0x353554,_0x23a118){const _0xd73a32=_0x353554['light'],_0x44a240=[];let _0x499147;for(let _0x9836a1=-0x226f+0x10*-0xad+0x2d3f;_0x9836a1<Mo['length'];_0x9836a1++)_0x499147=Mo[_0x9836a1],_0x499147!=='light'&&(_0xd73a32[_0x499147]&&_0xd73a32[_0x499147]['clone']?_0x44a240[_0x499147]=_0xd73a32[_0x499147]['clone']():_0x44a240[_0x499147]=_0xd73a32[_0x499147]);return this['addCompone'+'nt'](_0x23a118,_0x44a240);}['changeType'](_0x6a59c,_0x14de79,_0x2ab559){_0x14de79!==_0x2ab559&&(_0x6a59c['light']['type']=qu[_0x2ab559]);}}const QI=['x','y','z','w'],JI=[void(0x74d+-0x202c+0x1*0x18df),void(0x19fa*0x1+-0x1dd3+0x3d9),W,A,ee];function Oa(_0xdfc6be,_0x5983b9,_0x8983ee,_0x41cfef){switch(_0x5983b9['type']){case'boolean':return!!_0x8983ee;case'number':if(typeof _0x8983ee=='number')return _0x8983ee;if(typeof _0x8983ee=='string'){const _0x55e427=parseInt(_0x8983ee,0x2*0x11f9+0x1*0xff3+0xa5f*-0x5);return isNaN(_0x55e427)?null:_0x55e427;}else{if(typeof _0x8983ee=='boolean')return 0x160a+-0x1*0x685+-0x89*0x1d+_0x8983ee;}return null;case'json':{const _0x44f5a1={};if(Array['isArray'](_0x5983b9['schema'])){(!_0x8983ee||typeof _0x8983ee!='object')&&(_0x8983ee={});for(let _0x29c75a=0x1*0x209f+-0x51*0x3b+-0xdf4;_0x29c75a<_0x5983b9['schema']['length'];_0x29c75a++){const _0x59964a=_0x5983b9['schema'][_0x29c75a];if(_0x59964a['name']){if(_0x59964a['array']){_0x44f5a1[_0x59964a['name']]=[];const _0x24bc1b=Array['isArray'](_0x8983ee[_0x59964a['name']])?_0x8983ee[_0x59964a['name']]:[];for(let _0x1230fc=0x594+0xc0b*0x1+-0x119f;_0x1230fc<_0x24bc1b['length'];_0x1230fc++)_0x44f5a1[_0x59964a['name']]['push'](Oa(_0xdfc6be,_0x59964a,_0x24bc1b[_0x1230fc]));}else{const _0x5d1405=_0x8983ee['hasOwnProp'+'erty'](_0x59964a['name'])?_0x8983ee[_0x59964a['name']]:_0x59964a['default'];_0x44f5a1[_0x59964a['name']]=Oa(_0xdfc6be,_0x59964a,_0x5d1405);}}}}return _0x44f5a1;}case'asset':return _0x8983ee instanceof he?_0x8983ee:typeof _0x8983ee=='number'?_0xdfc6be['assets']['get'](_0x8983ee)||null:typeof _0x8983ee=='string'&&_0xdfc6be['assets']['get'](parseInt(_0x8983ee,0x9e*-0x2+0xe*-0x49+-0x2a2*-0x2))||null;case'entity':return _0x8983ee instanceof Oe?_0x8983ee:typeof _0x8983ee=='string'?_0xdfc6be['getEntityF'+'romIndex'](_0x8983ee):null;case'rgb':case'rgba':if(_0x8983ee instanceof Y)return _0x41cfef instanceof Y?(_0x41cfef['copy'](_0x8983ee),_0x41cfef):_0x8983ee['clone']();if(_0x8983ee instanceof Array&&_0x8983ee['length']>=0xde9+-0x305+-0xae1&&_0x8983ee['length']<=-0x1*0xaf0+-0x1a91+0x1*0x2585){for(let _0x401347=0x2658+0x21d5*-0x1+-0x181*0x3;_0x401347<_0x8983ee['length'];_0x401347++)if(typeof _0x8983ee[_0x401347]!='number')return null;return _0x41cfef||(_0x41cfef=new Y()),_0x41cfef['r']=_0x8983ee[-0x914+-0xf9c*0x1+0x18b0],_0x41cfef['g']=_0x8983ee[0x8*0xfd+0xb3*-0x34+-0xeb*-0x1f],_0x41cfef['b']=_0x8983ee[-0x98*0x12+-0x1*-0x19c7+-0xf15],_0x41cfef['a']=_0x8983ee['length']===-0x7*0x579+0x21*0x18+0x5df*0x6?-0x179b+0xcc3+0xad9:_0x8983ee[-0x1e4a+0x21e1+-0x2*0x1ca],_0x41cfef;}else{if(typeof _0x8983ee=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x8983ee))return _0x41cfef||(_0x41cfef=new Y()),_0x41cfef['fromString'](_0x8983ee),_0x41cfef;}return null;case'vec2':case'vec3':case'vec4':{const _0x5f138b=parseInt(_0x5983b9['type']['slice'](-0x1*-0x1dc5+0x1e58+0x1e0d*-0x2),-0x1304+0x286+0x1088),_0x5d066b=JI[_0x5f138b];if(_0x8983ee instanceof _0x5d066b)return _0x41cfef instanceof _0x5d066b?(_0x41cfef['copy'](_0x8983ee),_0x41cfef):_0x8983ee['clone']();if(_0x8983ee instanceof Array&&_0x8983ee['length']===_0x5f138b){for(let _0x22598=0x2c5*0x7+0x1*-0x9d9+-0x98a;_0x22598<_0x8983ee['length'];_0x22598++)if(typeof _0x8983ee[_0x22598]!='number')return null;_0x41cfef||(_0x41cfef=new _0x5d066b());for(let _0x10bd51=0x2645+0xb0a+-0x314f;_0x10bd51<_0x5f138b;_0x10bd51++)_0x41cfef[QI[_0x10bd51]]=_0x8983ee[_0x10bd51];return _0x41cfef;}return null;}case'curve':if(_0x8983ee){let _0x14ee4a;if(_0x8983ee instanceof Ls||_0x8983ee instanceof Yr)_0x14ee4a=_0x8983ee['clone']();else{const _0x5228aa=_0x8983ee['keys'][-0x9*-0x417+0x9*-0x311+0x936*-0x1]instanceof Array?Yr:Ls;_0x14ee4a=new _0x5228aa(_0x8983ee['keys']),_0x14ee4a['type']=_0x8983ee['type'];}return _0x14ee4a;}break;}return _0x8983ee;}function Ex(_0x8dda2d,_0x526ffd,_0x37bd16,_0x1304e0){return _0x526ffd['array']?_0x37bd16['map']((_0x1abfea,_0x220c01)=>Oa(_0x8dda2d,_0x526ffd,_0x1abfea,_0x1304e0?_0x1304e0[_0x220c01]:null)):Oa(_0x8dda2d,_0x526ffd,_0x37bd16,_0x1304e0);}function Cx(_0x20297a,_0x15676d,_0xcd228c,_0x4533ff){if(_0xcd228c)for(const _0x55baa0 in _0x15676d){const _0x4c4ee6=_0x15676d[_0x55baa0],_0x3d7a87=_0xcd228c[_0x55baa0];_0x3d7a87!==void(-0x132c+0xc2a+0x45*0x1a)&&(_0x4533ff[_0x55baa0]=Ex(_0x20297a,_0x4c4ee6,_0x3d7a87,_0x4533ff[_0x55baa0]));}}const ha=class ha{constructor(_0x58698b){this['scriptType']=_0x58698b,this['index']={};}['add'](_0x498ab0,_0x5440df){if(this['index'][_0x498ab0]){b['warn']('attribute\x20'+'\x27'+_0x498ab0+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(ha['reservedNa'+'mes']['has'](_0x498ab0)){b['warn']('attribute\x20'+'\x27'+_0x498ab0+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x498ab0]=_0x5440df,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x498ab0,{'get':function(){return this['__attribut'+'es'][_0x498ab0];},'set':function(_0x3d0c41){const _0x439df2='attr',_0x5d7d7b='attr:'+_0x498ab0,_0x3accf7=this['__attribut'+'es'][_0x498ab0];let _0x1ae0be=_0x3accf7;if(_0x3accf7&&_0x5440df['type']!=='json'&&_0x5440df['type']!=='entity'&&_0x3accf7['clone']&&(this['hasEvent'](_0x439df2)||this['hasEvent'](_0x5d7d7b))&&(_0x1ae0be=_0x3accf7['clone']()),_0x5440df['array']){if(this['__attribut'+'es'][_0x498ab0]=[],_0x3d0c41){for(let _0x143510=-0x1*0xfa7+-0x2335+0xc*0x43d,_0x27af86=_0x3d0c41['length'];_0x143510<_0x27af86;_0x143510++)this['__attribut'+'es'][_0x498ab0]['push'](Oa(this['app'],_0x5440df,_0x3d0c41[_0x143510],_0x3accf7?_0x3accf7[_0x143510]:null));}}else this['__attribut'+'es'][_0x498ab0]=Oa(this['app'],_0x5440df,_0x3d0c41,_0x3accf7);this['fire'](_0x439df2,_0x498ab0,this['__attribut'+'es'][_0x498ab0],_0x1ae0be),this['fire'](_0x5d7d7b,this['__attribut'+'es'][_0x498ab0],_0x1ae0be);}});}['remove'](_0x125b66){return this['index'][_0x125b66]?(delete this['index'][_0x125b66],delete this['scriptType']['prototype'][_0x125b66],!(-0xd76+-0xc*0x18a+0x1fee)):!(-0xf8f+0x1085*-0x1+0x2015);}['has'](_0x242745){return!!this['index'][_0x242745];}['get'](_0x5dc069){return this['index'][_0x5dc069]||null;}};c(ha,'assignAttr'+'ibutesToSc'+'ript',Cx),c(ha,'attributeT'+'oValue',Ex),c(ha,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Xo=ha;const Sf='initialize',vf='postInitia'+'lize',eD='update',tD='postUpdate',sD='swap';class Zt extends de{constructor(_0x13ae83){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x13ae83);}set['enabled'](_0x3f3af7){this['_enabled']=!!_0x3f3af7,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x1358+0x2b6+-0x160e),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Sf)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(0x3*0xa6f+-0xec*-0x1f+-0x3be1),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,vf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x40dd1e){const _0x1f547d=this['constructo'+'r'];b['assert'](_0x40dd1e&&_0x40dd1e['app']&&_0x40dd1e['entity'],'script\x20['+_0x1f547d['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x40dd1e['app'],this['entity']=_0x40dd1e['entity'],this['_enabled']=typeof _0x40dd1e['enabled']=='boolean'?_0x40dd1e['enabled']:!(-0xc62+0x1bdf+0x1*-0xf7d),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(0x159b+-0x4f*-0xd+0x1*-0x199d),this['__scriptTy'+'pe']=_0x1f547d,this['__executio'+'nOrder']=-(0x1e8d+-0xcf8+-0x1*0x1194);}static get['scriptName'](){return this['__name'];}}c(Zt,'EVENT_ENAB'+'LE','enable'),c(Zt,'EVENT_DISA'+'BLE','disable'),c(Zt,'EVENT_STAT'+'E','state'),c(Zt,'EVENT_DEST'+'ROY','destroy'),c(Zt,'EVENT_ATTR','attr'),c(Zt,'EVENT_ERRO'+'R','error'),c(Zt,'__name',null),c(Zt,'__getScrip'+'tName',Mx);const iD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Mx(_0x4aa516){if(typeof _0x4aa516!='function')return;if('name'in Function['prototype'])return _0x4aa516['name'];if(_0x4aa516===Function||_0x4aa516===Function['prototype']['constructo'+'r'])return'Function';const _0x4bf1a6=(''+_0x4aa516)['match'](iD);return _0x4bf1a6?_0x4bf1a6[0x2*-0x607+0xf3f+0x30*-0x11]:void(0x1fd*0x8+-0xb20+-0x198*0x3);}class ic extends Zt{constructor(_0x2d35c){super(_0x2d35c),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x2d35c);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Xo(this)),this['__attribut'+'es'];}['initScript'](_0x4202e4){Zt['prototype']['initScript']['call'](this,_0x4202e4),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x4202e4['attributes']||{};}['initScript'+'Type'](_0x5da239){this['initScript'](_0x5da239);}['__initiali'+'zeAttribut'+'es'](_0x4784cd){if(!(!_0x4784cd&&!this['__attribut'+'esRaw'])){for(const _0x2cf187 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x2cf187)?this[_0x2cf187]=this['__attribut'+'esRaw'][_0x2cf187]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x2cf187)||(this['__scriptTy'+'pe']['attributes']['index'][_0x2cf187]['hasOwnProp'+'erty']('default')?this[_0x2cf187]=this['__scriptTy'+'pe']['attributes']['index'][_0x2cf187]['default']:this[_0x2cf187]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x53b0c0){for(const _0x5ebaef in _0x53b0c0)_0x53b0c0['hasOwnProp'+'erty'](_0x5ebaef)&&(this['prototype'][_0x5ebaef]=_0x53b0c0[_0x5ebaef]);}}const rD=_0x531ee3=>_0x531ee3[0x447+0x2d1*-0x1+0x22*-0xb]['toLowerCas'+'e']()+_0x531ee3['substring'](0x39f*0x6+-0x34d+-0x4*0x49b);class _i extends pe{constructor(_0x348f32,_0x48d9e2){super(_0x348f32,_0x48d9e2),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new Mh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new Mh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0x3*0x4b3+-0x1*0x5c9+0x13e3),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0x14*-0x188+0x60f*0x3+-0xc73*-0x1),this['_enabled']=!(0x246f+0x84*-0x47+0x2d),this['_beingEnab'+'led']=!(0x2214+-0x167*-0x1+0x2*-0x11bd),this['_isLooping'+'ThroughScr'+'ipts']=!(-0x1*0x1ca3+-0x2*0x100b+0x3cba),this['_execution'+'Order']=-(-0x19a0+-0x1*-0x10bb+0x8e6),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x25d369){this['_scriptsDa'+'ta']=_0x25d369;for(const _0x3c5700 in _0x25d369){if(!_0x25d369['hasOwnProp'+'erty'](_0x3c5700))continue;const _0x100611=this['_scriptsIn'+'dex'][_0x3c5700];if(_0x100611){if(typeof _0x25d369[_0x3c5700]['enabled']=='boolean'&&(_0x100611['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x100611);}),_0x100611['enabled']=!!_0x25d369[_0x3c5700]['enabled']),typeof _0x25d369[_0x3c5700]['attributes']=='object'){for(const _0x53a9bf in _0x25d369[_0x3c5700]['attributes'])if(!Xo['reservedNa'+'mes']['has'](_0x53a9bf)){if(!_0x100611['__attribut'+'es']['hasOwnProp'+'erty'](_0x53a9bf)){const _0x166acb=this['system']['app']['scripts']['get'](_0x3c5700);_0x166acb&&_0x166acb['attributes']['add'](_0x53a9bf,{});}_0x100611[_0x53a9bf]=_0x25d369[_0x3c5700]['attributes'][_0x53a9bf];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x39e257){const _0x2583f6=this['_enabled'];this['_enabled']=_0x39e257,this['fire']('set','enabled',_0x2583f6,_0x39e257);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x234d*0x1+-0x3e3+-0x1f6a),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0x18bf+0x22b9+-0x3b77);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x240188=this['_beginLoop'+'ing']();for(let _0xef8780=0x17bf+0x2a5+-0x1a64,_0x14e5c2=this['scripts']['length'];_0xef8780<_0x14e5c2;_0xef8780++){const _0x1e6ed0=this['scripts'][_0xef8780];_0x1e6ed0['_initializ'+'ed']&&!_0x1e6ed0['_postIniti'+'alized']&&_0x1e6ed0['enabled']&&(_0x1e6ed0['_postIniti'+'alized']=!(0x2433+0x9e6+-0x2e19),_0x1e6ed0['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x1e6ed0,vf));}this['_endLoopin'+'g'](_0x240188);}['_beginLoop'+'ing'](){const _0x4bf9dc=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0xf39+0x1*0x2505+-0x15cc),_0x4bf9dc;}['_endLoopin'+'g'](_0x2400f4){this['_isLooping'+'ThroughScr'+'ipts']=_0x2400f4,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x2edad5,_0x7c1d4b,_0x455753){this['_beingEnab'+'led']=!(-0x1ff1+-0x18a*-0x3+0x1b53),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0x1*0x176e+0xa8b+0x21f8*-0x1);}['_checkStat'+'e'](){const _0x1637d5=this['enabled']&&this['entity']['enabled'];if(_0x1637d5===this['_oldState'])return;this['_oldState']=_0x1637d5,this['fire'](_0x1637d5?'enable':'disable'),this['fire']('state',_0x1637d5),_0x1637d5?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x37fa4b=this['_beginLoop'+'ing']();for(let _0x321d32=0x569*-0x1+0x95a*0x2+0x53*-0x29,_0x3bb1f0=this['scripts']['length'];_0x321d32<_0x3bb1f0;_0x321d32++){const _0x4150ea=this['scripts'][_0x321d32];_0x4150ea['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x4150ea);}),_0x4150ea['enabled']=_0x4150ea['_enabled'];}this['_endLoopin'+'g'](_0x37fa4b);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x2c0881=this['_beginLoop'+'ing']();for(let _0x593537=0x1*0x5f9+-0x209*0xe+0x1685;_0x593537<this['scripts']['length'];_0x593537++){const _0x37086e=this['scripts'][_0x593537];_0x37086e&&this['destroy'](_0x37086e['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x2c0881);}['_removeDes'+'troyedScri'+'pts'](){const _0x221cc8=this['_destroyed'+'Scripts']['length'];if(_0x221cc8){for(let _0x1c6198=0x1ca1+0x2549+-0x41ea;_0x1c6198<_0x221cc8;_0x1c6198++){const _0x311bc0=this['_destroyed'+'Scripts'][_0x1c6198];this['_removeScr'+'iptInstanc'+'e'](_0x311bc0);}this['_destroyed'+'Scripts']['length']=-0x1e9f+-0xb*-0x2ba+0xa1,this['_resetExec'+'utionOrder'](0x6cb+-0x1*-0xaff+-0x11ca,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x44f026=-0x267d+0x1df4+0x889,_0x4f75c6=this['scripts']['length'];_0x44f026<_0x4f75c6;_0x44f026++){const _0x3fee7e=this['scripts'][_0x44f026];this['initialize'+'Attributes'](_0x3fee7e);}}['initialize'+'Attributes'](_0x1d3b1b){var _0x2d4750;if(_0x1d3b1b instanceof ic)_0x1d3b1b['__initiali'+'zeAttribut'+'es']();else{const _0x3c30bc=_0x1d3b1b['__scriptTy'+'pe']['__name'],_0x325b11=this['_attribute'+'DataMap']['get'](_0x3c30bc);if(!_0x325b11)return;const _0xb54c01=(_0x2d4750=this['system']['app']['scripts'])==null?void(-0x59b+-0x115*-0x2+0x371):_0x2d4750['getSchema'](_0x3c30bc);_0xb54c01||b['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x3c30bc+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Cx(this['system']['app'],_0xb54c01['attributes'],_0x325b11,_0x1d3b1b);}}['_scriptMet'+'hod'](_0x138fc7,_0x510f07,_0x5acce7){try{_0x138fc7[_0x510f07](_0x5acce7);}catch(_0x557579){_0x138fc7['enabled']=!(-0xdbd*-0x1+-0x21e1+-0x23d*-0x9),_0x138fc7['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x510f07+'\x22\x20for\x20\x22'+_0x138fc7['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x557579),console['error'](_0x557579)),_0x138fc7['fire']('error',_0x557579,_0x510f07),this['fire']('error',_0x138fc7,_0x557579,_0x510f07);}}['_onInitial'+'ize'](){const _0x263b22=this['_scripts'],_0x159f36=this['_beginLoop'+'ing']();for(let _0x23206f=0x4*-0x63e+0x13ee+0x50a,_0xddf823=_0x263b22['length'];_0x23206f<_0xddf823;_0x23206f++){const _0x3c2344=_0x263b22[_0x23206f];!_0x3c2344['_initializ'+'ed']&&_0x3c2344['enabled']&&(_0x3c2344['_initializ'+'ed']=!(-0x1292+-0x2e*0xa3+0x2fdc),_0x3c2344['initialize']&&this['_scriptMet'+'hod'](_0x3c2344,Sf));}this['_endLoopin'+'g'](_0x159f36);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x42f99b){const _0x13744a=this['_updateLis'+'t'];if(!_0x13744a['length'])return;const _0x46f1be=this['_beginLoop'+'ing']();for(_0x13744a['loopIndex']=-0x765+-0xebf+-0x34*-0x6d;_0x13744a['loopIndex']<_0x13744a['length'];_0x13744a['loopIndex']++){const _0x59b52e=_0x13744a['items'][_0x13744a['loopIndex']];_0x59b52e['enabled']&&this['_scriptMet'+'hod'](_0x59b52e,eD,_0x42f99b);}this['_endLoopin'+'g'](_0x46f1be);}['_onPostUpd'+'ate'](_0xef77f9){const _0x337321=this['_postUpdat'+'eList'];if(!_0x337321['length'])return;const _0x4ae82a=this['_beginLoop'+'ing']();for(_0x337321['loopIndex']=-0x763*0x3+0x26c1+0x213*-0x8;_0x337321['loopIndex']<_0x337321['length'];_0x337321['loopIndex']++){const _0x3fa577=_0x337321['items'][_0x337321['loopIndex']];_0x3fa577['enabled']&&this['_scriptMet'+'hod'](_0x3fa577,tD,_0xef77f9);}this['_endLoopin'+'g'](_0x4ae82a);}['_insertScr'+'iptInstanc'+'e'](_0x4eeaee,_0x5d8f35,_0x9d33d5){_0x5d8f35===-(-0x452*0x9+-0xb8+0x279b)?(this['_scripts']['push'](_0x4eeaee),_0x4eeaee['__executio'+'nOrder']=_0x9d33d5,_0x4eeaee['update']&&this['_updateLis'+'t']['append'](_0x4eeaee),_0x4eeaee['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x4eeaee)):(this['_scripts']['splice'](_0x5d8f35,-0x9d9*0x1+-0x2102+0x2adb,_0x4eeaee),_0x4eeaee['__executio'+'nOrder']=_0x5d8f35,this['_resetExec'+'utionOrder'](_0x5d8f35+(-0x267b+-0xf30+0x35ac),_0x9d33d5+(-0x7*-0x28c+-0x17c7+0x5f4)),_0x4eeaee['update']&&this['_updateLis'+'t']['insert'](_0x4eeaee),_0x4eeaee['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x4eeaee));}['_removeScr'+'iptInstanc'+'e'](_0x16cf6c){const _0x37bd97=this['_scripts']['indexOf'](_0x16cf6c);return _0x37bd97===-(-0x1*0x1b40+-0x42*-0x8b+0x1*-0x895)||(this['_scripts']['splice'](_0x37bd97,0x90f+-0x1a9f+0x1191),_0x16cf6c['update']&&this['_updateLis'+'t']['remove'](_0x16cf6c),_0x16cf6c['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x16cf6c)),_0x37bd97;}['_resetExec'+'utionOrder'](_0x45592c,_0x390c31){for(let _0x2da8e2=_0x45592c;_0x2da8e2<_0x390c31;_0x2da8e2++)this['_scripts'][_0x2da8e2]['__executio'+'nOrder']=_0x2da8e2;}['_resolveEn'+'tityScript'+'Attribute'](_0x19ea4d,_0x4f71d5,_0x5df64d,_0x11f159,_0x21139d,_0x50e425){if(_0x19ea4d['array']){const _0x4e6878=_0x5df64d['length'];if(!_0x4e6878)return;const _0x4327a1=_0x5df64d['slice']();for(let _0x52059e=0x1781+0x1fea+-0x376b;_0x52059e<_0x4e6878;_0x52059e++){const _0x5c3e3a=_0x4327a1[_0x52059e]instanceof je?_0x4327a1[_0x52059e]['getGuid']():_0x4327a1[_0x52059e];_0x50e425[_0x5c3e3a]&&(_0x4327a1[_0x52059e]=_0x11f159?_0x50e425[_0x5c3e3a]['getGuid']():_0x50e425[_0x5c3e3a]);}_0x21139d[_0x4f71d5]=_0x4327a1;}else{if(_0x5df64d instanceof je)_0x5df64d=_0x5df64d['getGuid']();else{if(typeof _0x5df64d!='string')return;}_0x50e425[_0x5df64d]&&(_0x21139d[_0x4f71d5]=_0x50e425[_0x5df64d]);}}['has'](_0x50b325){if(typeof _0x50b325=='string')return!!this['_scriptsIn'+'dex'][_0x50b325];if(!_0x50b325)return!(0x13c9+0xdb6+-0x217e);const _0x5a28b7=_0x50b325,_0xfc1614=_0x5a28b7['__name'],_0x4e10b2=this['_scriptsIn'+'dex'][_0xfc1614];return(_0x4e10b2&&_0x4e10b2['instance'])instanceof _0x5a28b7;}['get'](_0x1eb267){if(typeof _0x1eb267=='string'){const _0x34225c=this['_scriptsIn'+'dex'][_0x1eb267];return _0x34225c?_0x34225c['instance']:null;}if(!_0x1eb267)return null;const _0x26c7b8=_0x1eb267,_0x354e89=_0x26c7b8['__name'],_0x2accd9=this['_scriptsIn'+'dex'][_0x354e89],_0x88e422=_0x2accd9&&_0x2accd9['instance'];return _0x88e422 instanceof _0x26c7b8?_0x88e422:null;}['create'](_0x1233cb,_0x14f0d5={}){const _0x460591=this;let _0x5180d6=_0x1233cb,_0x12d733=_0x1233cb;if(typeof _0x5180d6=='string'?_0x5180d6=this['system']['app']['scripts']['get'](_0x5180d6):_0x5180d6&&(_0x12d733=_0x5180d6['__name']??(_0x5180d6['__name']=rD(Mx(_0x5180d6)))),_0x5180d6){if(!this['_scriptsIn'+'dex'][_0x12d733]||!this['_scriptsIn'+'dex'][_0x12d733]['instance']){const _0x50d4aa=new _0x5180d6({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x14f0d5['hasOwnProp'+'erty']('enabled')?_0x14f0d5['enabled']:!(0x2329*0x1+0x12f7+0x1*-0x3620),'attributes':_0x14f0d5['attributes']||{}});_0x14f0d5['properties']&&typeof _0x14f0d5['properties']=='object'&&Object['assign'](_0x50d4aa,_0x14f0d5['properties']),_0x50d4aa instanceof ic||this['_attribute'+'DataMap']['set'](_0x12d733,_0x14f0d5['attributes']);const _0x5912b8=this['_scripts']['length'];let _0x10f59b=-(-0x12f*-0x14+0x2600+-0x3dab);return typeof _0x14f0d5['ind']=='number'&&_0x14f0d5['ind']!==-(-0x1*0x2671+0x10cf+-0x1*-0x15a3)&&_0x5912b8>_0x14f0d5['ind']&&(_0x10f59b=_0x14f0d5['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x50d4aa,_0x10f59b,_0x5912b8),this['_scriptsIn'+'dex'][_0x12d733]={'instance':_0x50d4aa,'onSwap':function(){_0x460591['swap'](_0x12d733);}},this[_0x12d733]=_0x50d4aa,_0x14f0d5['preloading']||this['initialize'+'Attributes'](_0x50d4aa),this['fire']('create',_0x12d733,_0x50d4aa),this['fire']('create:'+_0x12d733,_0x50d4aa),this['system']['app']['scripts']['on']('swap:'+_0x12d733,this['_scriptsIn'+'dex'][_0x12d733]['onSwap']),_0x14f0d5['preloading']||(_0x50d4aa['enabled']&&!_0x50d4aa['_initializ'+'ed']&&(_0x50d4aa['_initializ'+'ed']=!(0x2058+0x1d9d+-0x3df5),_0x50d4aa['initialize']&&this['_scriptMet'+'hod'](_0x50d4aa,Sf)),_0x50d4aa['enabled']&&!_0x50d4aa['_postIniti'+'alized']&&(_0x50d4aa['_postIniti'+'alized']=!(0x283*-0x2+-0x6*-0xb8+-0x2*-0x5b),_0x50d4aa['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x50d4aa,vf))),_0x50d4aa;}b['warn']('script\x20\x27'+_0x12d733+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x12d733]={'awaiting':!(-0x132f+0x26d8+-0x13a9),'ind':this['_scripts']['length']},b['warn']('script\x20\x27'+_0x12d733+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x3aa6e9){let _0xe927a2=_0x3aa6e9,_0x4ed96a=_0x3aa6e9;typeof _0x4ed96a=='string'?_0x4ed96a=this['system']['app']['scripts']['get'](_0x4ed96a):_0x4ed96a&&(_0xe927a2=_0x4ed96a['__name']);const _0x111a55=this['_scriptsIn'+'dex'][_0xe927a2];if(delete this['_scriptsIn'+'dex'][_0xe927a2],!_0x111a55)return!(0x168b+0x1*-0x2312+0x1*0xc88);this['_attribute'+'DataMap']['delete'](_0xe927a2);const _0x5f019a=_0x111a55['instance'];if(_0x5f019a&&!_0x5f019a['_destroyed']){if(_0x5f019a['enabled']=!(0x85f*0x3+0x71e*-0x3+0x1e1*-0x2),_0x5f019a['_destroyed']=!(-0x23dd+0x129c+0x1141),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x5f019a);else{const _0x184837=this['_removeScr'+'iptInstanc'+'e'](_0x5f019a);_0x184837>=-0x1*0x1ad5+0x236+0x23d*0xb&&this['_resetExec'+'utionOrder'](_0x184837,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0xe927a2,_0x111a55['onSwap']),delete this[_0xe927a2],this['fire']('destroy',_0xe927a2,_0x5f019a||null),this['fire']('destroy:'+_0xe927a2,_0x5f019a||null),_0x5f019a&&_0x5f019a['fire']('destroy'),!(0x7*-0x4a8+-0x853+0x28eb);}['swap'](_0x49ee3d){let _0x12b5bb=_0x49ee3d,_0x2d75dd=_0x49ee3d;typeof _0x2d75dd=='string'?_0x2d75dd=this['system']['app']['scripts']['get'](_0x2d75dd):_0x2d75dd&&(_0x12b5bb=_0x2d75dd['__name']);const _0x59f028=this['_scriptsIn'+'dex'][_0x12b5bb];if(!_0x59f028||!_0x59f028['instance'])return!(-0x1*0x1295+-0x6*0x191+-0x4aa*-0x6);const _0x4864c3=_0x59f028['instance'],_0x5112e1=this['_scripts']['indexOf'](_0x4864c3),_0x284564=new _0x2d75dd({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x4864c3['enabled'],'attributes':_0x4864c3['__attribut'+'es']});return _0x284564['swap']?(this['initialize'+'Attributes'](_0x284564),this['_scripts'][_0x5112e1]=_0x284564,this['_scriptsIn'+'dex'][_0x12b5bb]['instance']=_0x284564,this[_0x12b5bb]=_0x284564,_0x284564['__executio'+'nOrder']=_0x5112e1,_0x4864c3['update']&&this['_updateLis'+'t']['remove'](_0x4864c3),_0x4864c3['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x4864c3),_0x284564['update']&&this['_updateLis'+'t']['insert'](_0x284564),_0x284564['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x284564),this['_scriptMet'+'hod'](_0x284564,sD,_0x4864c3),this['fire']('swap',_0x12b5bb,_0x284564),this['fire']('swap:'+_0x12b5bb,_0x284564),!(0x2055+-0xd66+-0x12ef)):!(0x77e*0x4+-0x1d4d*0x1+0x5*-0x22);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x299ecb,_0x8c96b0){const _0x378b0d=this['entity']['script'];for(const _0xea277a in _0x299ecb['_scriptsIn'+'dex']){const _0x4313cd=this['system']['app']['scripts']['get'](_0xea277a);if(!_0x4313cd)continue;const _0x3c671b=_0x299ecb['_scriptsIn'+'dex'][_0xea277a];if(!_0x3c671b||!_0x3c671b['instance'])continue;const _0x5eebab=_0x378b0d[_0xea277a]['__attribut'+'esRaw'],_0x3e1fa8=_0x378b0d[_0xea277a]['__attribut'+'es'];if(!_0x5eebab&&!_0x3e1fa8)continue;const _0x529cc5=!!_0x5eebab,_0x568277=_0x3c671b['instance']['__attribut'+'es'];for(const _0x26dd05 in _0x568277){if(!_0x568277[_0x26dd05])continue;const _0x5b595c=_0x4313cd['attributes']['get'](_0x26dd05);if(_0x5b595c){if(_0x5b595c['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x5b595c,_0x26dd05,_0x568277[_0x26dd05],_0x529cc5,_0x5eebab||_0x3e1fa8,_0x8c96b0);else{if(_0x5b595c['type']==='json'&&Array['isArray'](_0x5b595c['schema'])){const _0x1cced2=_0x568277[_0x26dd05],_0x5619c6=_0x5eebab?_0x5eebab[_0x26dd05]:_0x3e1fa8[_0x26dd05];for(let _0x4ca5c7=0xc3c*-0x3+-0x22a5+0x4759;_0x4ca5c7<_0x5b595c['schema']['length'];_0x4ca5c7++){const _0x15d602=_0x5b595c['schema'][_0x4ca5c7];if(_0x15d602['type']==='entity'){if(_0x5b595c['array']){for(let _0x1b422a=0xa6f+-0xe58+0x3e9;_0x1b422a<_0x1cced2['length'];_0x1b422a++)this['_resolveEn'+'tityScript'+'Attribute'](_0x15d602,_0x15d602['name'],_0x1cced2[_0x1b422a][_0x15d602['name']],_0x529cc5,_0x5619c6[_0x1b422a],_0x8c96b0);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x15d602,_0x15d602['name'],_0x1cced2[_0x15d602['name']],_0x529cc5,_0x5619c6,_0x8c96b0);}}}}}}}}['move'](_0xfac139,_0xa93d1b){const _0x586be3=this['_scripts']['length'];if(_0xa93d1b>=_0x586be3||_0xa93d1b<0x10*-0x2+-0x1*0x2588+0xf1*0x28)return!(0x26eb+0xdee*0x2+-0x42c6);let _0x2ea120=_0xfac139,_0x335a06=_0xfac139;typeof _0x335a06!='string'?_0x335a06=_0xfac139['__name']:_0x2ea120=null;const _0x346820=this['_scriptsIn'+'dex'][_0x335a06];if(!_0x346820||!_0x346820['instance'])return!(-0x8ab+0x2c+0x880);const _0x57c8d8=_0x346820['instance'];if(_0x2ea120&&!(_0x57c8d8 instanceof _0x2ea120))return!(0xc1*-0x1b+-0x44*0x1b+0x371*0x8);const _0x4e230d=this['_scripts']['indexOf'](_0x57c8d8);return _0x4e230d===-(-0x1d68+0x841*0x1+0x1528)||_0x4e230d===_0xa93d1b?!(-0x1d71+-0x1*0x958+0x26ca*0x1):(this['_scripts']['splice'](_0xa93d1b,-0x1*0x1843+0x13dc+0x467,this['_scripts']['splice'](_0x4e230d,0x1bd4+-0x197+-0x1a3c)[-0x1415+-0x12a4+0x26b9]),this['_resetExec'+'utionOrder'](0x1e*-0x21+-0x20b4+0x12e*0x1f,_0x586be3),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x335a06,_0x57c8d8,_0xa93d1b,_0x4e230d),this['fire']('move:'+_0x335a06,_0x57c8d8,_0xa93d1b,_0x4e230d),!(-0x1*-0x1aa0+0x116b+-0x2c0b));}}c(_i,'EVENT_CREA'+'TE','create'),c(_i,'EVENT_DEST'+'ROY','destroy'),c(_i,'EVENT_ENAB'+'LE','enable'),c(_i,'EVENT_DISA'+'BLE','disable'),c(_i,'EVENT_REMO'+'VE','remove'),c(_i,'EVENT_STAT'+'E','state'),c(_i,'EVENT_MOVE','move'),c(_i,'EVENT_ERRO'+'R','error');class nD{constructor(){this['enabled']=!(0x1*-0x1481+0x949+0xb38*0x1);}}const aD='_onInitial'+'izeAttribu'+'tes',oD='_onInitial'+'ize',lD='_onPostIni'+'tialize',hD='_onUpdate',cD='_onPostUpd'+'ate';let rh=0x1dc+-0x1579*-0x1+-0x1755;class dD extends Qe{constructor(_0xa414a8){super(_0xa414a8),this['id']='script',this['ComponentT'+'ype']=_i,this['DataType']=nD,this['_component'+'s']=new Mh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new Mh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0x5d5+-0x1846+-0x15*-0x16f),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x89efa5,_0x4309b0){if(_0x89efa5['_execution'+'Order']=rh++,this['_component'+'s']['append'](_0x89efa5),rh>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x89efa5['enabled']=_0x4309b0['hasOwnProp'+'erty']('enabled')?!!_0x4309b0['enabled']:!(-0x6*-0x2b3+0x1*-0x35e+-0xcd4),_0x89efa5['enabled']&&_0x89efa5['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x89efa5),_0x4309b0['hasOwnProp'+'erty']('order')&&_0x4309b0['hasOwnProp'+'erty']('scripts')){_0x89efa5['_scriptsDa'+'ta']=_0x4309b0['scripts'];for(let _0x41d7d=0xdd3*-0x2+0x3e6*0x2+-0x79*-0x2a;_0x41d7d<_0x4309b0['order']['length'];_0x41d7d++)_0x89efa5['create'](_0x4309b0['order'][_0x41d7d],{'enabled':_0x4309b0['scripts'][_0x4309b0['order'][_0x41d7d]]['enabled'],'attributes':_0x4309b0['scripts'][_0x4309b0['order'][_0x41d7d]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x1e052e,_0x41e97c){var _0x3ff674;const _0x4b4626=[],_0x9a617f={};for(let _0x24ccf6=-0x288+-0x5a6+0x82e;_0x24ccf6<_0x1e052e['script']['_scripts']['length'];_0x24ccf6++){const _0x261e58=_0x1e052e['script']['_scripts'][_0x24ccf6],_0x3248aa=_0x261e58['__scriptTy'+'pe']['__name'];_0x4b4626['push'](_0x3248aa);const _0x35bbd5=((_0x3ff674=_0x1e052e['script']['_attribute'+'DataMap'])==null?void(-0x511*0x3+0x99e+-0x1*-0x595):_0x3ff674['get'](_0x3248aa))||{};for(const _0x1cc0ed in _0x261e58['__attribut'+'es'])_0x35bbd5[_0x1cc0ed]=_0x261e58['__attribut'+'es'][_0x1cc0ed];_0x9a617f[_0x3248aa]={'enabled':_0x261e58['_enabled'],'attributes':_0x35bbd5};}for(const _0x409c9e in _0x1e052e['script']['_scriptsIn'+'dex'])_0x409c9e['awaiting']&&_0x4b4626['splice'](_0x409c9e['ind'],-0xb*-0x2f5+-0x97b*-0x1+-0x2a02,_0x409c9e);const _0x34c35b={'enabled':_0x1e052e['script']['enabled'],'order':_0x4b4626,'scripts':_0x9a617f};return this['addCompone'+'nt'](_0x41e97c,_0x34c35b);}['_resetExec'+'utionOrder'](){rh=0x172*-0x9+-0x167+0x20f*0x7;for(let _0x3aacf4=-0x164*-0x15+-0x22cd*-0x1+-0x4001,_0x2c6a59=this['_component'+'s']['length'];_0x3aacf4<_0x2c6a59;_0x3aacf4++)this['_component'+'s']['items'][_0x3aacf4]['_execution'+'Order']=rh++;}['_callCompo'+'nentMethod'](_0x52a468,_0x73f202,_0x27bd90){for(_0x52a468['loopIndex']=0x3*0x5f2+0x1*-0x80b+0x1*-0x9cb;_0x52a468['loopIndex']<_0x52a468['length'];_0x52a468['loopIndex']++)_0x52a468['items'][_0x52a468['loopIndex']][_0x73f202](_0x27bd90);}['_onInitial'+'ize'](){this['preloading']=!(-0xdef+0x1972+0x3d6*-0x3),this['_callCompo'+'nentMethod'](this['_component'+'s'],aD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD);}['_onUpdate'](_0x6949b2){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x6949b2);}['_onPostUpd'+'ate'](_0xaf5efe){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],cD,_0xaf5efe);}['_addCompon'+'entToEnabl'+'ed'](_0x14203d){this['_enabledCo'+'mponents']['insert'](_0x14203d);}['_removeCom'+'ponentFrom'+'Enabled'](_0x20c990){this['_enabledCo'+'mponents']['remove'](_0x20c990);}['_onBeforeR'+'emove'](_0x285149,_0x48c531){this['_component'+'s']['items']['indexOf'](_0x48c531)>=0x158c+-0x80d*-0x1+0x1*-0x1d99&&_0x48c531['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x48c531),this['_component'+'s']['remove'](_0x48c531);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Px extends pe{constructor(_0x2c0e1f,_0xf0f794){super(_0x2c0e1f,_0xf0f794),c(this,'_layers',[zi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new qo('asset',this,_0x2c0e1f['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0xf0f794['on']('remove',this['onRemoveCh'+'ild'],this),_0xf0f794['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0xf0f794['on']('insert',this['onInsertCh'+'ild'],this),_0xf0f794['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x4a72ad){var _0x516b77,_0x2d851c;this['_customAab'+'b']=_0x4a72ad,(_0x2d851c=(_0x516b77=this['_instance'])==null?void(-0x83*0x3c+0x28*-0x1+-0x13c*-0x19):_0x516b77['meshInstan'+'ce'])==null||_0x2d851c['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x409a0a){var _0x505225;if(this['destroyIns'+'tance'](),this['_instance']=_0x409a0a,(_0x505225=this['_instance'])!=null&&_0x505225['meshInstan'+'ce']){const _0x470447=this['_instance']['meshInstan'+'ce'];_0x470447['node']||(_0x470447['node']=this['entity']),_0x470447['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x25bd20){this['_materialO'+'ptions']=Object['assign']({},_0x25bd20),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x46f638;return(_0x46f638=this['_instance'])==null?void(-0x101*0x1f+-0x1*0x879+-0x13cc*-0x2):_0x46f638['material'];}set['layers'](_0x47f37f){this['removeFrom'+'Layers'](),this['_layers']['length']=0x1f40+-0xb3c+-0x7*0x2dc;for(let _0x204ee8=-0x3*0x2eb+0x1*0x2257+-0x1996;_0x204ee8<_0x47f37f['length'];_0x204ee8++)this['_layers'][_0x204ee8]=_0x47f37f[_0x204ee8];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x3858ca){const _0x1c800f=_0x3858ca instanceof he?_0x3858ca['id']:_0x3858ca;this['_assetRefe'+'rence']['id']!==_0x1c800f&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x1c800f,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x4bf68d){const _0x14761=_0x4bf68d instanceof he?_0x4bf68d['id']:_0x4bf68d;this['_assetRefe'+'rence']['id']=_0x14761;}['destroyIns'+'tance'](){var _0x27f0c1;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x27f0c1=this['_instance'])==null||_0x27f0c1['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x96cf13,_0xd3364f;const _0x10c9b8=(_0x96cf13=this['instance'])==null?void(-0x16ca+0x600+-0x7*-0x266):_0x96cf13['meshInstan'+'ce'];if(_0x10c9b8){const _0x1d5c41=this['system']['app']['scene']['layers'];for(let _0x15db45=-0x493+0x2592+-0x20ff;_0x15db45<this['_layers']['length'];_0x15db45++)(_0xd3364f=_0x1d5c41['getLayerBy'+'Id'](this['_layers'][_0x15db45]))==null||_0xd3364f['addMeshIns'+'tances']([_0x10c9b8]);}}['removeFrom'+'Layers'](){var _0x493d07,_0x2ad96c;const _0x4fd234=(_0x493d07=this['instance'])==null?void(-0x733*-0x4+0xf24+-0x2bf0):_0x493d07['meshInstan'+'ce'];if(_0x4fd234){const _0x27b921=this['system']['app']['scene']['layers'];for(let _0x4fbdd0=-0x1741+-0x24c1+-0x2*-0x1e01;_0x4fbdd0<this['_layers']['length'];_0x4fbdd0++)(_0x2ad96c=_0x27b921['getLayerBy'+'Id'](this['_layers'][_0x4fbdd0]))==null||_0x2ad96c['removeMesh'+'Instances']([_0x4fd234]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x37261e,_0x95169c){this['addToLayer'+'s'](),_0x37261e['off']('add',this['onLayerAdd'+'ed'],this),_0x37261e['off']('remove',this['onLayerRem'+'oved'],this),_0x95169c['on']('add',this['onLayerAdd'+'ed'],this),_0x95169c['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3c7d7d){this['layers']['indexOf'](_0x3c7d7d['id'])<-0x4cf*-0x1+0x35+-0x141*0x4||this['_instance']&&_0x3c7d7d['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x154bea){this['layers']['indexOf'](_0x154bea['id'])<0x1da7+-0x53f+-0x238*0xb||this['_instance']&&_0x154bea['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x38aa3d=this['system']['app']['scene'],_0x505600=_0x38aa3d['layers'];this['_evtLayers'+'Changed']=_0x38aa3d['on']('set:layers',this['onLayersCh'+'anged'],this),_0x505600&&(this['_evtLayerA'+'dded']=_0x505600['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x505600['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x540712,_0x4717b3,_0xdf4634;const _0x2dc17d=this['system']['app']['scene']['layers'];(_0x540712=this['_evtLayers'+'Changed'])==null||_0x540712['off'](),this['_evtLayers'+'Changed']=null,_0x2dc17d&&((_0x4717b3=this['_evtLayerA'+'dded'])==null||_0x4717b3['off'](),this['_evtLayerA'+'dded']=null,(_0xdf4634=this['_evtLayerR'+'emoved'])==null||_0xdf4634['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x107f+0x1837+-0x7b7*0x1));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x246d*0x1+-0x1ae0+0x98d*-0x1));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x29e708=this['_assetRefe'+'rence']['asset'];_0x29e708&&(this['instance']=_0x29e708['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class uD{constructor(){this['enabled']=!(-0x1748+0x231d+0x1*-0xbd5);}}const bf=['enabled'],Ir=['instance','asset','layers'];class fD extends Qe{constructor(_0x26a27d){super(_0x26a27d),this['id']='gsplat',this['ComponentT'+'ype']=Px,this['DataType']=uD,this['schema']=bf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x423758,_0x429a2b,_0x2b7c31){_0x429a2b['layers']&&_0x429a2b['layers']['length']&&(_0x429a2b['layers']=_0x429a2b['layers']['slice'](-0xa9+-0x2c0*-0x1+-0x217*0x1));for(let _0x356ff7=-0xbbe+0x5bf*-0x2+-0x173c*-0x1;_0x356ff7<Ir['length'];_0x356ff7++)_0x429a2b['hasOwnProp'+'erty'](Ir[_0x356ff7])&&(_0x423758[Ir[_0x356ff7]]=_0x429a2b[Ir[_0x356ff7]]);_0x429a2b['aabbCenter']&&_0x429a2b['aabbHalfEx'+'tents']&&(_0x423758['customAabb']=new ve(new A(_0x429a2b['aabbCenter']),new A(_0x429a2b['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x423758,_0x429a2b,bf);}['cloneCompo'+'nent'](_0x4308cf,_0x2e34fe){const _0x48aac8=_0x4308cf['gsplat'],_0x201451={};for(let _0x224fda=0x2*0xc37+-0x1*-0x2099+0x3907*-0x1;_0x224fda<Ir['length'];_0x224fda++)_0x201451[Ir[_0x224fda]]=_0x48aac8[Ir[_0x224fda]];_0x201451['enabled']=_0x48aac8['enabled'],delete _0x201451['instance'];const _0x4c63a4=this['addCompone'+'nt'](_0x2e34fe,_0x201451);return _0x4c63a4['instance']=_0x48aac8['instance']['clone'](),_0x48aac8['customAabb']&&(_0x4c63a4['customAabb']=_0x48aac8['customAabb']['clone']()),_0x4c63a4;}['onRemove'](_0x1589f6,_0x248150){_0x248150['onRemove']();}}pe['_buildAcce'+'ssors'](Px['prototype'],bf);class Xp extends de{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x113bac){this['decRefMesh'+'es'](),this['_meshes']=_0x113bac,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x113bac);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x22c56f;(_0x22c56f=this['_meshes'])==null||_0x22c56f['forEach']((_0x2900a0,_0x322d66)=>{_0x2900a0&&(_0x2900a0['decRefCoun'+'t'](),_0x2900a0['refCount']<0x25c5+0x14e3+-0x3aa7&&(_0x2900a0['destroy'](),this['_meshes'][_0x322d66]=null));});}['incRefMesh'+'es'](){var _0x98237f;(_0x98237f=this['_meshes'])==null||_0x98237f['forEach'](_0x1fc1ee=>{_0x1fc1ee==null||_0x1fc1ee['incRefCoun'+'t']();});}}c(Xp,'EVENT_SETM'+'ESHES','set:meshes');function wh(_0x524d47){const _0x35614b=this;if(!_0x35614b['resource'])return;const _0x4fa1a6=_0x524d47['resource'],_0x4cdd80=_0x4fa1a6['renders']&&_0x4fa1a6['renders'][_0x35614b['data']['renderInde'+'x']];_0x4cdd80&&(_0x35614b['resource']['meshes']=_0x4cdd80['resource']['meshes']);}function Fg(_0x5bf88c){const _0x2b8baa=this;_0x2b8baa['registry']['off']('load:'+_0x5bf88c['id'],wh,_0x2b8baa),_0x2b8baa['registry']['on']('load:'+_0x5bf88c['id'],wh,_0x2b8baa),_0x2b8baa['registry']['off']('remove:'+_0x5bf88c['id'],kg,_0x2b8baa),_0x2b8baa['registry']['once']('remove:'+_0x5bf88c['id'],kg,_0x2b8baa),_0x5bf88c['resource']?wh['call'](_0x2b8baa,_0x5bf88c):_0x2b8baa['registry']['load'](_0x5bf88c);}function kg(_0x383e3e){const _0x1350db=this;_0x1350db['registry']['off']('load:'+_0x383e3e['id'],wh,_0x1350db),_0x1350db['resource']&&_0x1350db['resource']['destroy']();}class pD extends Ge{constructor(_0x3de6bb){super(_0x3de6bb,'render'),this['_registry']=_0x3de6bb['assets'];}['open'](_0x54ee9a,_0x255b6c){return new Xp();}['patch'](_0x37d24f,_0x4e93b6){if(!_0x37d24f['data']['containerA'+'sset'])return;const _0x2e142d=_0x4e93b6['get'](_0x37d24f['data']['containerA'+'sset']);if(!_0x2e142d){_0x4e93b6['once']('add:'+_0x37d24f['data']['containerA'+'sset'],Fg,_0x37d24f);return;}Fg['call'](_0x37d24f,_0x2e142d);}}class Rx{constructor(_0x57409f,_0xa86a9c,_0x264b15,_0x3448ae){this['_paths']=_0x57409f,this['_input']=_0xa86a9c,this['_output']=_0x264b15,this['_interpola'+'tion']=_0x3448ae;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class rc{constructor(_0xba9531,_0x1260ad){this['_component'+'s']=_0xba9531,this['_data']=_0x1260ad;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function mD(_0x30ae67,_0x2dd5d2){let _0x2bb7b;const _0x119c63=(_0x465715,_0x582810)=>{switch(_0x582810){case _0x2bb7b['DT_INT8']:return new Int8Array(_0x465715['buffer'],_0x465715['byteOffset'],_0x465715['byteLength']);case _0x2bb7b['DT_INT16']:return new Int16Array(_0x465715['buffer'],_0x465715['byteOffset'],_0x465715['byteLength']/(0x1e3e+0x1*-0xdd3+-0x1069));case _0x2bb7b['DT_INT32']:return new Int32Array(_0x465715['buffer'],_0x465715['byteOffset'],_0x465715['byteLength']/(0x22f8+-0x7a6+-0x2*0xda7));case _0x2bb7b['DT_UINT8']:return new Uint8Array(_0x465715['buffer'],_0x465715['byteOffset'],_0x465715['byteLength']);case _0x2bb7b['DT_UINT16']:return new Uint16Array(_0x465715['buffer'],_0x465715['byteOffset'],_0x465715['byteLength']/(-0x80*0x21+0x135*-0x1+0x11b7));case _0x2bb7b['DT_UINT32']:return new Uint32Array(_0x465715['buffer'],_0x465715['byteOffset'],_0x465715['byteLength']/(-0x2281+0x1*0xd79+0x150c));case _0x2bb7b['DT_FLOAT32']:return new Float32Array(_0x465715['buffer'],_0x465715['byteOffset'],_0x465715['byteLength']/(-0xed5*-0x1+0x2114+0xff7*-0x3));}return null;},_0x2fc26b=_0x14db2b=>{switch(_0x14db2b){case _0x2bb7b['DT_INT8']:return 0x208c+0x1826+-0x38b1*0x1;case _0x2bb7b['DT_INT16']:return 0xb98+0xfbb+-0x1b51;case _0x2bb7b['DT_INT32']:return 0x2*0xfd1+0x2*-0x1061+0x124;case _0x2bb7b['DT_UINT8']:return-0x174*0x13+-0x25cd+0x3*0x15ce;case _0x2bb7b['DT_UINT16']:return-0x68e*0x1+0x1*0x18c1+-0x1231;case _0x2bb7b['DT_UINT32']:return-0x497*0x5+-0x8e*-0x30+0x3a9*-0x1;case _0x2bb7b['DT_FLOAT32']:return-0x208a+0x21c7*-0x1+0x1*0x4255;}return-0x1573+-0x8c4+-0x2*-0xf1c;},_0x353396=_0x155bd2=>_0x155bd2['num_compon'+'ents']()*_0x2fc26b(_0x155bd2['data_type']()),_0x31080f={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x796a71=(_0x5efb2f,_0x403ded)=>{const _0x11d5f7=(_0x556213,_0x1545b6,_0x522157)=>{_0x556213[-0x29e+-0x2236+0x126a*0x2]=_0x1545b6[0x10d3+0x1*-0x4e5+-0xbee]-_0x522157[-0x11*-0x107+-0xd0e*0x1+-0x469],_0x556213[-0x523*0x1+-0x128*0x1d+0x1356*0x2]=_0x1545b6[-0x1acb*0x1+0x394*-0x3+-0x2588*-0x1]-_0x522157[0x1*-0x9fe+0x1*0x1727+-0xd28],_0x556213[-0x23*-0x112+-0xc1a+-0x195a]=_0x1545b6[0x1a+-0x179d+0x1785]-_0x522157[-0x1*0x11af+-0x7*0x1e9+0x1f10];},_0x443027=(_0x25b7e4,_0x2f29de,_0x12a8a8)=>{_0x25b7e4[-0x223*-0x9+-0x1*-0x15d9+-0x2914]=_0x2f29de[0x2636+0x16d3*0x1+-0x3d08]*_0x12a8a8[-0x17*0x7d+0xb7d+0x4*-0x10]-_0x12a8a8[-0xd*-0x25+-0x1*0xe13+0xc33]*_0x2f29de[0x1aea+-0x1812+-0x2d6],_0x25b7e4[-0x3b*0x51+-0x1*0x53+0x655*0x3]=_0x2f29de[-0x1*0x26b+-0x1c82+-0x1eef*-0x1]*_0x12a8a8[0x23a8*0x1+-0x1a1e+0x197*-0x6]-_0x12a8a8[0x16ec+0x1f84+-0x366e]*_0x2f29de[-0xef8+0x132d*-0x1+0x2225],_0x25b7e4[0x9*-0x2ab+-0x11b*-0x11+0x53a]=_0x2f29de[-0xfca+-0x1f08+0x1*0x2ed2]*_0x12a8a8[0x337*-0xa+0x7*0x4cf+0x1*-0x182]-_0x12a8a8[0x1*0x16df+0x1e23+-0x3502]*_0x2f29de[0x292*-0x4+0xc9*0x1+0x980];},_0x4036d7=(_0x4b04a0,_0x2994f8)=>{const _0x47e777=_0x4b04a0[_0x2994f8+(0x18f1+-0x1*0x1c39+0x5*0xa8)],_0x2daaac=_0x4b04a0[_0x2994f8+(0x197f+0x32a+-0x1ca8)],_0x734134=_0x4b04a0[_0x2994f8+(0x24f7+0x2316+-0x480b)],_0x273a4b=(0x1*-0x61+0x1a9e+-0x124*0x17)/Math['sqrt'](_0x47e777*_0x47e777+_0x2daaac*_0x2daaac+_0x734134*_0x734134);_0x4b04a0[_0x2994f8+(-0x2502+-0x1c59+0x8f*0x75)]*=_0x273a4b,_0x4b04a0[_0x2994f8+(0x1ef9+0x180*-0xc+-0xcf8)]*=_0x273a4b,_0x4b04a0[_0x2994f8+(0x7f5+-0x17db+0xfe8)]*=_0x273a4b;},_0x84f1a4=(_0x139657,_0x3335d7,_0x5bce77)=>{for(let _0x4f5e9d=-0x6c1*0x4+0x1091+-0x217*-0x5;_0x4f5e9d<0x670*0x5+-0xd*0x1f1+-0x6f0;++_0x4f5e9d)_0x139657[_0x4f5e9d]=_0x3335d7[_0x5bce77+_0x4f5e9d];},_0x450bcf=_0x403ded['length']/(-0xaa5+-0x45e+0xf06),_0x9b02b5=_0x5efb2f['length']/(-0x15f*0x1b+-0x2670+-0x1e*-0x284),_0x10008c=new Float32Array(_0x5efb2f['length']),_0xbb6c70=[0x6*0xb3+0x2239+0x23*-0x119,0x1*0x29f+-0x13*-0x17b+-0x1ec0,0x1d4+0x2514+0x18*-0x19f],_0x535ef4=[0x223d*0x1+-0x817+-0x1a26,-0xc*0x182+0x17ff+-0x1*0x5e7,0x1f29+0xba4+-0x2acd],_0x426792=[0x1*0x260b+-0x6*-0x351+-0x39f1,-0x1dbd+0x4*-0x205+0x25d1,-0x251b+-0xb99*-0x3+0x1*0x250],_0x2c8570=[-0x39*-0x76+0x7f9+-0x223f,-0x12b*0x2+-0x9*-0x173+0xab5*-0x1,0xd93+-0x1afe+0xd6b],_0x810409=[0x22e4+0x17c5+-0x3aa9,-0x1*0xaa8+0x72*-0x3e+-0x2*-0x1322,0x13*-0x20+0x2448+-0x87a*0x4],_0x39841c=[0x1*0xb75+-0x268c+0x49*0x5f,-0x1e19+0x134a*0x2+-0x87b,-0x2*-0x626+-0x1f29+0x12dd];for(let _0x8bb2e5=-0x18af+0x1*0x105f+0x214*0x4;_0x8bb2e5<_0x450bcf;++_0x8bb2e5){const _0x230eb8=_0x403ded[_0x8bb2e5*(0x2*0x783+0x257a+-0x347d)+(-0x21ec+-0x1d11+0x3efd)]*(0xb12*-0x3+-0xe21+0xb*0x44e),_0x51476e=_0x403ded[_0x8bb2e5*(-0x21e9+-0x1d06+0x3ef2)+(0x10b9+0xe3f+-0x1ef7)]*(-0x1a18+-0x2eb+0x1d06),_0x8cf575=_0x403ded[_0x8bb2e5*(0x12bd*-0x2+0x214e+0x42f)+(0xfd5+-0x24e1+0x150e)]*(-0xc*-0x6a+0x6ab+-0xba0);_0x84f1a4(_0xbb6c70,_0x5efb2f,_0x230eb8),_0x84f1a4(_0x535ef4,_0x5efb2f,_0x51476e),_0x84f1a4(_0x426792,_0x5efb2f,_0x8cf575),_0x11d5f7(_0x2c8570,_0x535ef4,_0xbb6c70),_0x11d5f7(_0x810409,_0x426792,_0xbb6c70),_0x443027(_0x39841c,_0x2c8570,_0x810409),_0x4036d7(_0x39841c,-0x22da+0x223e+0x9c);for(let _0x425fbf=0x189*-0x12+0x38a*-0x9+-0xbc*-0x51;_0x425fbf<0x1*-0x25f0+-0x1390+-0x1*-0x3983;++_0x425fbf)_0x10008c[_0x230eb8+_0x425fbf]+=_0x39841c[_0x425fbf],_0x10008c[_0x51476e+_0x425fbf]+=_0x39841c[_0x425fbf],_0x10008c[_0x8cf575+_0x425fbf]+=_0x39841c[_0x425fbf];}for(let _0x40dea9=0x5*0x3a6+0x2cc*-0xb+0x1*0xc86;_0x40dea9<_0x9b02b5;++_0x40dea9)_0x4036d7(_0x10008c,_0x40dea9*(-0x1c*0x153+0x365+0x21b2));return new Uint8Array(_0x10008c['buffer']);},_0x4420c7=_0x2834f1=>{const _0x45d0f6={},_0x499a0c=new _0x2bb7b['DecoderBuf'+'fer']();_0x499a0c['Init'](_0x2834f1,_0x2834f1['length']);const _0x402cb8=new _0x2bb7b['Decoder']();if(_0x402cb8['GetEncoded'+'GeometryTy'+'pe'](_0x499a0c)!==_0x2bb7b['TRIANGULAR'+'_MESH'])return _0x45d0f6['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x45d0f6;const _0x2ac5bf=new _0x2bb7b['Mesh'](),_0x564cb5=_0x402cb8['DecodeBuff'+'erToMesh'](_0x499a0c,_0x2ac5bf);if(!_0x564cb5||!_0x564cb5['ok']()||_0x2bb7b['getPointer'](_0x2ac5bf)===0x1e57+-0x846+-0x1611)return _0x45d0f6['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x45d0f6;const _0x2ef8a2=_0x2ac5bf['num_faces']()*(-0xca4+0x1063+-0x3bc),_0x13a563=_0x2ac5bf['num_points']()<=-0x5*-0x14a7+0x16d53+-0xd497,_0x32e9a7=_0x2ef8a2*(_0x13a563?0x1d3c+0x10c2+-0x2dfc:-0x1df*0x6+-0x2415+0x2f53),_0x359e06=_0x2bb7b['_malloc'](_0x32e9a7);_0x13a563?(_0x402cb8['GetTriangl'+'esUInt16Ar'+'ray'](_0x2ac5bf,_0x32e9a7,_0x359e06),_0x45d0f6['indices']=new Uint16Array(_0x2bb7b['HEAPU16']['buffer'],_0x359e06,_0x2ef8a2)['slice']()['buffer']):(_0x402cb8['GetTriangl'+'esUInt32Ar'+'ray'](_0x2ac5bf,_0x32e9a7,_0x359e06),_0x45d0f6['indices']=new Uint32Array(_0x2bb7b['HEAPU32']['buffer'],_0x359e06,_0x2ef8a2)['slice']()['buffer']),_0x2bb7b['_free'](_0x359e06);const _0x481491=[];for(let _0x2f4fd8=0x11e+0xb3f*-0x1+0xa21;_0x2f4fd8<_0x2ac5bf['num_attrib'+'utes']();++_0x2f4fd8)_0x481491['push'](_0x402cb8['GetAttribu'+'te'](_0x2ac5bf,_0x2f4fd8));_0x481491['sort']((_0x177bb1,_0x23ca7c)=>(_0x31080f[_0x177bb1['attribute_'+'type']()]??_0x31080f['length'])-(_0x31080f[_0x23ca7c['attribute_'+'type']()]??_0x31080f['length'])),_0x45d0f6['attributes']=_0x481491['map'](_0x2427dd=>_0x2427dd['unique_id']());let _0x2a2090=-0x58c+0x123b+-0x11*0xbf;const _0x1d4e46=_0x481491['map'](_0x37b378=>{const _0x361045=_0x2a2090;return _0x2a2090+=Math['ceil'](_0x353396(_0x37b378)/(-0x12fd*-0x1+-0xd*-0x1e7+-0x4*0xaed))*(-0xf*0x8d+-0x55*-0x1+0x2*0x3f9),_0x361045;}),_0x138f70=_0x481491['some'](_0x310638=>_0x310638['attribute_'+'type']()===-0x32*0x3a+-0xa*0x137+0x177b*0x1),_0x2a6aae=_0x1d4e46[0x2*0xbf1+-0x2409+0xc28];if(!_0x138f70){for(let _0x5fb37=-0x8aa+-0x1*0xf67+0xd*0x1da;_0x5fb37<_0x1d4e46['length'];++_0x5fb37)_0x1d4e46[_0x5fb37]+=-0x83*0x9+0x1*-0x2519+0x29c0*0x1;_0x2a2090+=0x1*0x1e93+-0x1195*0x1+-0xcf2;}_0x45d0f6['vertices']=new ArrayBuffer(_0x2ac5bf['num_points']()*_0x2a2090);const _0x36fb13=new Uint8Array(_0x45d0f6['vertices']);for(let _0x5df8e7=0x3eb+0x8*0x4b3+-0x2983;_0x5df8e7<_0x2ac5bf['num_attrib'+'utes']();++_0x5df8e7){const _0x26f4ad=_0x481491[_0x5df8e7],_0x1fd176=_0x353396(_0x26f4ad),_0x455b9d=_0x2ac5bf['num_points']()*_0x1fd176,_0x311edc=_0x2bb7b['_malloc'](_0x455b9d);_0x402cb8['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x2ac5bf,_0x26f4ad,_0x26f4ad['data_type'](),_0x455b9d,_0x311edc);const _0x570211=new Uint8Array(_0x2bb7b['HEAPU8']['buffer'],_0x311edc,_0x455b9d);for(let _0x4e7bc5=0x949+0xe02+0x59*-0x43;_0x4e7bc5<_0x2ac5bf['num_points']();++_0x4e7bc5)for(let _0x57ef0f=0x2650+-0x1e7d*-0x1+0x16ef*-0x3;_0x57ef0f<_0x1fd176;++_0x57ef0f)_0x36fb13[_0x4e7bc5*_0x2a2090+_0x1d4e46[_0x5df8e7]+_0x57ef0f]=_0x570211[_0x4e7bc5*_0x1fd176+_0x57ef0f];if(!_0x138f70&&_0x26f4ad['attribute_'+'type']()===0x977+0x1101+-0x9a*0x2c){const _0x1b991a=_0x796a71(_0x119c63(_0x570211,_0x26f4ad['data_type']()),_0x13a563?new Uint16Array(_0x45d0f6['indices']):new Uint32Array(_0x45d0f6['indices']));for(let _0x42f4f1=-0x19a5+0x6a0+0x1305;_0x42f4f1<_0x2ac5bf['num_points']();++_0x42f4f1)for(let _0x5b51c0=0x1467+-0x15bd+0x3*0x72;_0x5b51c0<0x1*-0x1001+-0x1*0x112b+0x84e*0x4;++_0x5b51c0)_0x36fb13[_0x42f4f1*_0x2a2090+_0x2a6aae+_0x5b51c0]=_0x1b991a[_0x42f4f1*(0x23de*0x1+0x22cc+-0x312*0x17)+_0x5b51c0];}_0x2bb7b['_free'](_0x311edc);}return _0x2bb7b['destroy'](_0x2ac5bf),_0x2bb7b['destroy'](_0x402cb8),_0x2bb7b['destroy'](_0x499a0c),_0x45d0f6;},_0x16fec4=_0x159f20=>{const _0x39c0ef=_0x4420c7(new Uint8Array(_0x159f20['buffer']));self['postMessag'+'e']({'jobId':_0x159f20['jobId'],'error':_0x39c0ef['error'],'indices':_0x39c0ef['indices'],'vertices':_0x39c0ef['vertices'],'attributes':_0x39c0ef['attributes']},[_0x39c0ef['indices'],_0x39c0ef['vertices']]['filter'](_0x117e2a=>_0x117e2a!=null));},_0x133b3a=[];self['onmessage']=_0x2f626f=>{const _0x357bef=_0x2f626f['data'];switch(_0x357bef['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x2a488d,_0x2d206e)=>(WebAssembly['instantiat'+'e'](_0x357bef['module'],_0x2a488d)['then'](_0x1d9cbc=>_0x2d206e(_0x1d9cbc))['catch'](_0x1b12a9=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x1b12a9)),{})})['then'](_0x154a5b=>{_0x2bb7b=_0x154a5b,_0x133b3a['forEach'](_0x108a51=>_0x16fec4(_0x108a51));});break;case'decodeMesh':_0x2bb7b?_0x16fec4(_0x357bef):_0x133b3a['push'](_0x357bef);break;}};}const Og=-0x1118+-0x9*0xa7+0x16fa;class _D{constructor(){this['workers']=[[],[],[]],this['jobId']=0x218+-0xc*0xb+0x2*-0xca,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x3f4470,_0x4ccbe3)=>{_0x3f4470['postMessag'+'e']({'type':'decodeMesh','jobId':_0x4ccbe3['jobId'],'buffer':_0x4ccbe3['buffer']},[_0x4ccbe3['buffer']]);};}['init'](_0x5bcbbb){for(_0x5bcbbb['forEach'](_0x358738=>{_0x358738['addEventLi'+'stener']('message',_0x57e92d=>{const _0x114175=_0x57e92d['data'],_0x1dabf8=this['jobCallbac'+'ks']['get'](_0x114175['jobId']);if(_0x1dabf8&&_0x1dabf8(_0x114175['error'],{'indices':_0x114175['indices'],'vertices':_0x114175['vertices'],'attributes':_0x114175['attributes']}),this['jobCallbac'+'ks']['delete'](_0x114175['jobId']),this['jobQueue']['length']>0x4*0x4b6+0x14ba+-0x2792){const _0x14c2eb=this['jobQueue']['shift']();this['run'](_0x358738,_0x14c2eb);}else{const _0x7b6db5=this['workers'][-0xd62+-0x2036+-0x1*-0x2d9a]['indexOf'](_0x358738);if(_0x7b6db5!==-(-0x1607*0x1+0x216*-0x4+0x1e60))this['workers'][0x803*-0x4+-0x115*0x5+-0x1a1*-0x17]['splice'](_0x7b6db5,-0xe64*-0x2+-0x3*0x8ef+0x1fa*-0x1),this['workers'][-0x1*0x14cb+0xebf+0x60d]['push'](_0x358738);else{const _0x20e2c1=this['workers'][0x3*0x6f7+-0x127d*0x1+-0x267]['indexOf'](_0x358738);_0x20e2c1!==-(0x1f66+0x29*0x9e+-0x38b3)?(this['workers'][0x1*-0x5ae+-0x1*0x233b+0x28ea]['splice'](_0x20e2c1,-0xac3+0xf5f*0x1+-0x49b),this['workers'][-0x51d+0x1bbd+-0x16a0]['push'](_0x358738)):b['error']('logical\x20er'+'ror');}}});}),this['workers'][0x4a*-0x5e+0x1*-0x11cb+-0xefd*-0x3]=_0x5bcbbb;this['jobQueue']['length']&&(this['workers'][-0x2148+-0x1402+0x354a]['length']||this['workers'][0x1b*-0x157+0x2*0x110b+0x8*0x43]['length']);){const _0x486ff7=this['jobQueue']['shift']();if(this['workers'][0x1427+0x1341*-0x1+-0xe6]['length']>0x3b*0x3+-0xcf+0x1*0x1e){const _0xbd972a=this['workers'][0x4a7*-0x3+0x2220+-0x142b]['shift']();this['workers'][0x20cf+-0x142c+-0xca2*0x1]['push'](_0xbd972a),this['run'](_0xbd972a,_0x486ff7);}else{const _0x479d5d=this['workers'][-0xe88+0x1ae9*-0x1+0x2972*0x1]['shift']();this['workers'][-0x20b5+0x184*-0x5+0x284b]['push'](_0x479d5d),this['run'](_0x479d5d,_0x486ff7);}}}['enqueueJob'](_0x7da203,_0x59c74c){const _0x599ef5={'jobId':this['jobId']++,'buffer':_0x7da203};if(this['jobCallbac'+'ks']['set'](_0x599ef5['jobId'],_0x59c74c),this['workers'][-0x32d*0x5+-0x24+-0x3*-0x557]['length']>-0x9*-0x3b9+0x2af*0x6+0xf9*-0x33){const _0x29b101=this['workers'][-0x124f+0x11f+0x1130]['shift']();this['workers'][0x6*-0x156+0x2*0x10db+-0x19b1]['push'](_0x29b101),this['run'](_0x29b101,_0x599ef5);}else{if(this['workers'][-0x1800+0x35e+-0x14a3*-0x1]['length']>0x1197+0x4*0x92+-0x13df*0x1){const _0x5e25f1=this['workers'][0x18fb+0x2*0x90d+0x72e*-0x6]['shift']();this['workers'][0xee7+-0x270b+0xb*0x232]['push'](_0x5e25f1),this['run'](_0x5e25f1,_0x599ef5);}else this['jobQueue']['push'](_0x599ef5);}}}const gD=_0x5ced5b=>new Promise((_0x4a03b2,_0x4aa4d4)=>{const _0x436dc4={'cache':!(0x262b+-0x1*0x15c1+0x106a*-0x1),'responseType':'text','retry':Og>0x29*-0xac+0x1b53+0x3*0x13,'maxRetries':Og};Ye['get'](_0x5ced5b,_0x436dc4,(_0x596c4d,_0x1ec71a)=>{_0x596c4d?_0x4aa4d4(_0x596c4d):_0x4a03b2(_0x1ec71a);});}),yD=_0x5ea083=>{const _0x4e5e42=()=>fetch(_0x5ea083)['then'](_0x5dbbbf=>_0x5dbbbf['arrayBuffe'+'r']())['then'](_0x40a1a1=>WebAssembly['compile'](_0x40a1a1)),_0x156730=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x5ea083))['catch'](_0x2e57fb=>(b['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x5ea083+'\x20('+_0x2e57fb+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x4e5e42()));return WebAssembly['compileStr'+'eaming']?_0x156730():_0x4e5e42();},Bg=0x2*0xf8a+-0x173*0xb+-0xf22;let Th;const xD=_0xaa4bfd=>{if(Th)return!(-0x1*-0xab+0x25d4+-0x267f);if(!_0xaa4bfd){const _0x3a03ce=oy['getConfig']('DracoDecod'+'erModule');_0x3a03ce?_0xaa4bfd={'jsUrl':_0x3a03ce['glueUrl'],'wasmUrl':_0x3a03ce['wasmUrl'],'numWorkers':_0x3a03ce['numWorkers']}:_0xaa4bfd={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':Bg};}return!_0xaa4bfd['jsUrl']||!_0xaa4bfd['wasmUrl']?!(-0xadf+-0x1*-0x29c+-0x4*-0x211):(Th=new _D(),Promise['all']([gD(_0xaa4bfd['jsUrl']),yD(_0xaa4bfd['wasmUrl'])])['then'](([_0x607bcd,_0x100665])=>{const _0x807092=['/*\x20draco\x20*'+'/',_0x607bcd,'/*\x20worker\x20'+'*/','(\x0a'+mD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x35870e=new Blob([_0x807092],{'type':'applicatio'+'n/javascri'+'pt'}),_0x56bb99=URL['createObje'+'ctURL'](_0x35870e),_0x55a354=Math['max'](-0x2*0x8b9+-0x190*-0x18+-0x6af*0x3,Math['min'](-0x1216+0xb99+-0x81*-0xd,_0xaa4bfd['numWorkers']||Bg)),_0x21c2e9=[];for(let _0x23f4ea=0x21d5+-0xb6b+0x12e*-0x13;_0x23f4ea<_0x55a354;++_0x23f4ea){const _0x53bf40=new Worker(_0x56bb99);_0x53bf40['postMessag'+'e']({'type':'init','module':_0x100665}),_0x21c2e9['push'](_0x53bf40);}Th['init'](_0x21c2e9);}),!(0x2153*-0x1+0x3*-0x5cb+0x32b4));},SD=(_0x25eca2,_0xccae6a)=>xD()?(Th['enqueueJob'](_0x25eca2,_0xccae6a),!(-0x1*-0x214a+-0x7ba*-0x1+-0x2904)):!(0x3b8*-0x2+-0x2*-0x69e+0x1*-0x5cb);class vD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x2f0e0a=>{_0x2f0e0a['meshes']=null;});}}const Ix=_0x3a7bcb=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x3a7bcb),bD=_0x35a917=>_0x35a917['substring'](_0x35a917['indexOf'](':')+(0x9*0xa1+-0x1a78+0x14d0),_0x35a917['indexOf'](';')),jo=_0x3f51ac=>{switch(_0x3f51ac){case'SCALAR':return-0x23be*-0x1+-0x2141+-0x27c;case'VEC2':return 0x219*-0x1+-0xc53+0xe6e;case'VEC3':return-0xbca+-0xa24+0x15f1;case'VEC4':return 0x5e0+-0x156+-0x486;case'MAT2':return-0x10c8*-0x2+-0x9f5*-0x3+-0x1*0x3f6b;case'MAT3':return 0xab5+0x1*-0x8a+-0xa22;case'MAT4':return 0x111*-0x1f+0xfa+0x27*0xd3;default:return 0x655*0x1+0xf9a*-0x1+0x948;}},id=_0x550a87=>{switch(_0x550a87){case-0x1ec*0x11+0x3e5*0x2+-0xf*-0x2fe:return Fc;case-0x665*-0x2+0x1a21*-0x1+0x2*0x10ac:return Zr;case-0x566+-0x23d*0x1+0x1ba5:return kc;case 0x5ea+-0x4*0x2+0xe21*0x1:return rl;case-0x85b+0x19d2+-0x28d*-0x1:return Ny;case 0xa1*-0x23+0x1*-0x1a17+-0x1*-0x441f:return Oo;case 0x21f9+0x1ba4+0xd*-0x333:return Re;default:return 0x5c9*0x4+0x1*0xe89+-0x25ad;}},wD=_0x45ee53=>{switch(_0x45ee53){case 0x1632+-0x41b*0x2+-0x4d*-0x14:return-0x1*0x2659+0xa30+-0xa*-0x2d1;case-0xb*-0x38f+0x141b+-0x3*0xd15:return 0x16b+0x55*0x2+0x26*-0xe;case-0xc2a*0x1+-0x1e1b+0x3e47:return 0x8*-0x13d+0x1fab+-0x15c1;case 0x1abb+0x729*-0x3+0xec3:return 0x121f+-0x181a+0x5fd;case 0x1a65+-0xf2*-0x1+0x19*-0x4b:return-0x26c2+0xe89+0x1*0x183d;case-0x1a76+-0x831+0x36ac:return 0x70f+0x7*-0x2ef+0xd7e;case 0x3*-0x65a+-0x113e+0xa2*0x59:return-0x51e+0xa5*-0x36+-0xd50*-0x3;default:return 0x162b+0x1fd1+-0x35fc;}},TD=_0x157d9c=>{switch(_0x157d9c){case 0x1790+-0x4f7*-0x1+-0x887:return Int8Array;case-0x52*0xb+0xfcc+-0x7bb*-0x1:return Uint8Array;case-0x1*-0x1e91+-0x353*-0x1+-0xde2:return Int16Array;case 0x2047+-0x1fc9*-0x1+-0x2c0d:return Uint16Array;case 0x7*0x98+0xb*-0x11f+0x407*0x7:return Int32Array;case-0x1*0x20f2+0x13d5+-0x1091*-0x2:return Uint32Array;case 0xeac+-0x1b15*0x1+-0x169*-0x17:return Float32Array;default:return null;}},nc={'POSITION':Xe,'NORMAL':ss,'TANGENT':si,'COLOR_0':It,'JOINTS_0':Jt,'WEIGHTS_0':ei,'TEXCOORD_0':ds,'TEXCOORD_1':yn,'TEXCOORD_2':Qo,'TEXCOORD_3':Jo,'TEXCOORD_4':el,'TEXCOORD_5':tl,'TEXCOORD_6':sl,'TEXCOORD_7':il},Ng={[Xe]:0x4f7+0x56*0x4+-0x64f,[ss]:0x1*0x1a2c+-0x1399*0x1+0x349*-0x2,[si]:-0x18d2+-0x7c8+0x209c,[It]:0xa82*0x2+-0x10ae+-0x453,[Jt]:-0x1b*-0x116+0x1d0e*0x1+0xa6*-0x5a,[ei]:0x7f0*0x2+0x3*-0x48b+-0x23a,[ds]:-0x28d*0x6+-0x2238+0x318c,[yn]:-0x2*-0x8e1+0xa5+0xe*-0x150,[Qo]:0x159c+-0x27e*0x7+0x422*-0x1,[Jo]:0x21a6+0x22c3*-0x1+0x126,[el]:-0x1b23+0x1998+0x87*0x3,[tl]:-0x81e+0x2*-0xc76+0x2115,[sl]:-0x1497+0xb10+0x13*0x81,[il]:-0xcd*-0x15+-0x2671+0x15ad},AD=_0x387cc9=>{switch(_0x387cc9){case Fc:return _0x3ec1ec=>Math['max'](_0x3ec1ec/(-0x1095+-0x7*0x38b+0x97*0x47),-(-0x22a7+0x1c4b+0x65d*0x1));case Zr:return _0x9566d2=>_0x9566d2/(0x1749+0x6*-0x69+-0x13d4);case kc:return _0x41d476=>Math['max'](_0x41d476/(-0x13*-0xceb+0x178+-0x3d6*0x1f),-(0xea7+0x2246+-0x30ec));case rl:return _0x354a3b=>_0x354a3b/(-0x9e00+-0x1ac93*0x1+-0x3e2*-0xd9);default:return _0x55264d=>_0x55264d;}},wf=(_0x2abcae,_0x5270da,_0x51dc36)=>{const _0x5008d2=AD(_0x51dc36),_0x10879e=_0x5270da['length'];for(let _0x477b7a=-0x425*0x9+0x1b61+0x9ec*0x1;_0x477b7a<_0x10879e;++_0x477b7a)_0x2abcae[_0x477b7a]=_0x5008d2(_0x5270da[_0x477b7a]);return _0x2abcae;},rn=(_0x48a856,_0x2fc150,_0x431c43=!(-0x13*-0x80+0x96d*0x4+0x1*-0x2f33))=>{const _0x1fb5a0=jo(_0x48a856['type']),_0x442e18=TD(_0x48a856['componentT'+'ype']);if(!_0x442e18)return null;let _0x4e5635;if(_0x48a856['sparse']){const _0x4db5ad=_0x48a856['sparse'],_0x3bdb71={'count':_0x4db5ad['count'],'type':'SCALAR'},_0x297e29=rn(Object['assign'](_0x3bdb71,_0x4db5ad['indices']),_0x2fc150,!(-0x983+0x27b*0x6+-0x55f)),_0x53dd63={'count':_0x4db5ad['count'],'type':_0x48a856['type'],'componentType':_0x48a856['componentT'+'ype']},_0x107629=rn(Object['assign'](_0x53dd63,_0x4db5ad['values']),_0x2fc150,!(-0x13*-0x14f+0x1f89+-0x3866));if(_0x48a856['hasOwnProp'+'erty']('bufferView')){const _0x124b7c={'bufferView':_0x48a856['bufferView'],'byteOffset':_0x48a856['byteOffset'],'componentType':_0x48a856['componentT'+'ype'],'count':_0x48a856['count'],'type':_0x48a856['type']};_0x4e5635=rn(_0x124b7c,_0x2fc150,!(-0x2368+0x1*0x18ab+-0xabd*-0x1))['slice']();}else _0x4e5635=new _0x442e18(_0x48a856['count']*_0x1fb5a0);for(let _0x2353de=0x1*-0x22ac+-0xa*-0x24d+-0x1*-0xbaa;_0x2353de<_0x4db5ad['count'];++_0x2353de){const _0x373a49=_0x297e29[_0x2353de];for(let _0x591ff7=0x26b4+0x1*0x808+0x1*-0x2ebc;_0x591ff7<_0x1fb5a0;++_0x591ff7)_0x4e5635[_0x373a49*_0x1fb5a0+_0x591ff7]=_0x107629[_0x2353de*_0x1fb5a0+_0x591ff7];}}else{if(_0x48a856['hasOwnProp'+'erty']('bufferView')){const _0x479b22=_0x2fc150[_0x48a856['bufferView']];if(_0x431c43&&_0x479b22['hasOwnProp'+'erty']('byteStride')){const _0x501f44=_0x1fb5a0*_0x442e18['BYTES_PER_'+'ELEMENT'],_0x495f13=new ArrayBuffer(_0x48a856['count']*_0x501f44),_0x487ccd=new Uint8Array(_0x495f13);let _0x49a90c=0x3e*-0x82+-0xff0+0x2f6c;for(let _0x2276d9=-0x119f+-0x2242+-0x3*-0x114b;_0x2276d9<_0x48a856['count'];++_0x2276d9){let _0x21e815=(_0x48a856['byteOffset']||0xcb4+-0x39e+-0x48b*0x2)+_0x2276d9*_0x479b22['byteStride'];for(let _0x45cf25=-0x25*0x2b+-0x1*0x496+0x229*0x5;_0x45cf25<_0x501f44;++_0x45cf25)_0x487ccd[_0x49a90c++]=_0x479b22[_0x21e815++];}_0x4e5635=new _0x442e18(_0x495f13);}else _0x4e5635=new _0x442e18(_0x479b22['buffer'],_0x479b22['byteOffset']+(_0x48a856['byteOffset']||-0x1877+-0x162a+0x2ea1),_0x48a856['count']*_0x1fb5a0);}else _0x4e5635=new _0x442e18(_0x48a856['count']*_0x1fb5a0);}return _0x4e5635;},ga=(_0x3bff65,_0x8e6d2b)=>{const _0x182714=rn(_0x3bff65,_0x8e6d2b,!(0xa4a+-0x1e84+0x6be*0x3));if(_0x182714 instanceof Float32Array||!_0x3bff65['normalized'])return _0x182714;const _0x203061=new Float32Array(_0x182714['length']);return wf(_0x203061,_0x182714,id(_0x3bff65['componentT'+'ype'])),_0x203061;},Tf=_0x2823e9=>{let _0x544541=_0x2823e9['min'],_0x4f1d16=_0x2823e9['max'];if(!_0x544541||!_0x4f1d16)return null;if(_0x2823e9['normalized']){const _0x1c66d4=id(_0x2823e9['componentT'+'ype']);_0x544541=wf([],_0x544541,_0x1c66d4),_0x4f1d16=wf([],_0x4f1d16,_0x1c66d4);}return new ve(new A((_0x4f1d16[-0x3f5*-0x1+0xf16+-0x130b]+_0x544541[-0x1b98+-0x1*-0xa2+0xcb*0x22])*(0xc9e+0x1*-0x1b7+-0xae7+0.5),(_0x4f1d16[-0x1*0x1426+0x2460+-0x1039]+_0x544541[0x1e7*-0x8+0x4eb*-0x7+0x31a6])*(-0x2*0x13a+0x1019+-0xda5+0.5),(_0x4f1d16[-0xd95+-0x6*-0xdf+0x85d]+_0x544541[-0x5*0x635+-0x2*-0x542+0x1487])*(-0x15bc+-0x180c+-0x1*-0x2dc8+0.5)),new A((_0x4f1d16[-0x1bb6+-0x1b24+0x7*0x7d6]-_0x544541[0xc9*0x15+0xbd2*0x3+-0x33f3])*(0x129b+0xfce*0x1+0x17*-0x17f+0.5),(_0x4f1d16[-0x15b*-0x13+-0x31d+0x487*-0x5]-_0x544541[-0x1629+-0xca*-0x29+-0xa30])*(-0xe2*-0x18+-0x1955+-0x425*-0x1+0.5),(_0x4f1d16[-0x2*0x2d4+-0x156*0x1+0x700*0x1]-_0x544541[0x230d+0x7+-0x2312])*(0x43f*-0x5+-0x13f9*0x1+0x9*0x494+0.5)));},Dx=_0x4fdbbf=>{if(!_0x4fdbbf['hasOwnProp'+'erty']('mode'))return Fs;switch(_0x4fdbbf['mode']){case 0x327*-0xb+-0x5ad+0x5*0x812:return Dc;case-0x30a*0x4+-0x4a5*0x2+0x1573:return Lc;case 0xe5f+-0x1*0x161+-0x22a*0x6:return Py;case-0x35*-0x17+0x254d+-0x2a0d:return Ry;case 0x1*-0x58f+0x95*-0x5+0x87c:return Fs;case 0x1c26*-0x1+-0x3*0xc1a+0x4079:return lr;case 0x1e54+0x16d0+0x20b*-0x1a:return Kr;default:return Fs;}},ED=_0x2b16d4=>{const _0x154951=new Uint16Array(_0x2b16d4);for(let _0x3f9218=0x902+-0x19f6+0x10f4;_0x3f9218<_0x2b16d4;_0x3f9218++)_0x154951[_0x3f9218]=_0x3f9218;return _0x154951;},CD=(_0x3b8f05,_0x230df0)=>{const _0x5a71fd=_0x3b8f05[Xe];if(!_0x5a71fd||_0x5a71fd['components']!==0x1fd0+0x315+0x1*-0x22e2)return;let _0x2fa2a3;if(_0x5a71fd['size']!==_0x5a71fd['stride']){const _0x10c1a3=_0x5a71fd['stride']/So[_0x5a71fd['type']],_0x2f131d=new fa[_0x5a71fd['type']](_0x5a71fd['buffer'],_0x5a71fd['offset'],_0x5a71fd['count']*_0x10c1a3);_0x2fa2a3=new fa[_0x5a71fd['type']](_0x5a71fd['count']*(-0x49*0x43+-0xab+0x13c9));for(let _0x982775=0x2d7+-0x241*-0x5+-0xe1c;_0x982775<_0x5a71fd['count'];++_0x982775)_0x2fa2a3[_0x982775*(-0x23e5+0x1*-0x964+0x16a6*0x2)+(0x125e+0xf59*-0x1+-0x305)]=_0x2f131d[_0x982775*_0x10c1a3+(0x1cb9+-0x653*-0x3+0x6e*-0x6f)],_0x2fa2a3[_0x982775*(0x50+0x35a*0x9+0xb*-0x2c5)+(-0x1*-0x255+-0x98b+-0x1*-0x737)]=_0x2f131d[_0x982775*_0x10c1a3+(-0x874*-0x4+0x1b7*0x12+-0x40ad)],_0x2fa2a3[_0x982775*(0x19c+-0x88*-0x2c+0x853*-0x3)+(0x153a+0x1310+-0x2848)]=_0x2f131d[_0x982775*_0x10c1a3+(-0x70+-0x2435+0x24a7)];}else _0x2fa2a3=new fa[_0x5a71fd['type']](_0x5a71fd['buffer'],_0x5a71fd['offset'],_0x5a71fd['count']*(0x1*0x61+0x18a*-0xd+-0x4e9*-0x4));const _0xedc090=_0x5a71fd['count'];_0x230df0||(_0x230df0=ED(_0xedc090));const _0x2cf5fe=B0(_0x2fa2a3,_0x230df0),_0x35b0f5=new Float32Array(_0x2cf5fe['length']);_0x35b0f5['set'](_0x2cf5fe),_0x3b8f05[ss]={'buffer':_0x35b0f5['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0xedc090,'components':0x3,'type':Re};},MD=_0x492c2c=>{const _0x2447dc=_0x111096=>{const _0xb02552=[];for(let _0x49f086=0x21be+-0x2*0x390+-0xd4f*0x2;_0x49f086<_0x111096['_levels']['length'];++_0x49f086){let _0x183919=[];if(_0x111096['cubemap']){for(let _0x200e5a=0x2539+-0xf88*0x1+-0x73b*0x3;_0x200e5a<-0x33*0x5f+-0x41+0x1334;++_0x200e5a)_0x183919['push'](_0x111096['_levels'][_0x49f086][_0x200e5a]);}else _0x183919=_0x111096['_levels'][_0x49f086];_0xb02552['push'](_0x183919);}return _0xb02552;},_0x4b6c35=new ce(_0x492c2c['device'],_0x492c2c);return _0x4b6c35['_levels']=_0x2447dc(_0x492c2c),_0x4b6c35;},PD=_0x286424=>{const _0x333917=new he(_0x286424['name']+'_clone',_0x286424['type'],_0x286424['file'],_0x286424['data'],_0x286424['options']);return _0x333917['loaded']=!(0xe3*0xb+-0xf66+0x5a5),_0x333917['resource']=MD(_0x286424['resource']),_0x286424['registry']['add'](_0x333917),_0x333917;},RD=(_0x585f79,_0x2ce879)=>{const _0x1d93ba=_0x2ce879[Xe];if(!_0x1d93ba)return null;const _0x2f0ab7=_0x1d93ba['count'],_0x3ea6ab=[];for(const _0x4fc324 in _0x2ce879)if(_0x2ce879['hasOwnProp'+'erty'](_0x4fc324)){const _0x3d5085={'semantic':_0x4fc324,'components':_0x2ce879[_0x4fc324]['components'],'type':_0x2ce879[_0x4fc324]['type'],'normalize':!!_0x2ce879[_0x4fc324]['normalize']};Dt['isElementV'+'alid'](_0x585f79,_0x3d5085)||_0x3d5085['components']++,_0x3ea6ab['push'](_0x3d5085);}_0x3ea6ab['sort']((_0x26a32f,_0x59bb26)=>Ng[_0x26a32f['semantic']]-Ng[_0x59bb26['semantic']]);let _0x2bc59f,_0x909571,_0x607534,_0x381ede,_0x270638,_0x2fb51d;const _0x81fbcd=new Dt(_0x585f79,_0x3ea6ab);let _0xe6498e=!(0x1624+0xa*-0x20b+-0x6*0x49);for(_0x2bc59f=-0x71*0x34+0x123*0x7+0xeff;_0x2bc59f<_0x81fbcd['elements']['length'];++_0x2bc59f)if(_0x270638=_0x81fbcd['elements'][_0x2bc59f],_0x381ede=_0x2ce879[_0x270638['name']],_0x2fb51d=_0x381ede['offset']-_0x1d93ba['offset'],_0x381ede['buffer']!==_0x1d93ba['buffer']||_0x381ede['stride']!==_0x270638['stride']||_0x381ede['size']!==_0x270638['size']||_0x2fb51d!==_0x270638['offset']){_0xe6498e=!(-0xcc1+-0x32*0x2e+0x15be);break;}const _0x18b271=new fs(_0x585f79,_0x81fbcd,_0x2f0ab7),_0x1b0c00=_0x18b271['lock'](),_0x2df528=new Uint32Array(_0x1b0c00);let _0x7e9ed0;if(_0xe6498e)_0x7e9ed0=new Uint32Array(_0x1d93ba['buffer'],_0x1d93ba['offset'],_0x2f0ab7*_0x18b271['format']['size']/(-0x1e06+0xf25*0x1+0x1f*0x7b)),_0x2df528['set'](_0x7e9ed0);else{let _0x2cf79e,_0x37d4da;for(_0x2bc59f=-0x51*-0x30+0x24c2+-0x33f2;_0x2bc59f<_0x18b271['format']['elements']['length'];++_0x2bc59f){_0x270638=_0x18b271['format']['elements'][_0x2bc59f],_0x2cf79e=_0x270638['stride']/(0x2433+0x57c+-0x29ab),_0x381ede=_0x2ce879[_0x270638['name']],_0x37d4da=_0x381ede['stride']/(0x14ae+0x23ec+-0x3896),_0x7e9ed0=new Uint32Array(_0x381ede['buffer'],_0x381ede['offset'],(_0x381ede['count']-(0x1*0x1e44+0x250d+-0x4350))*_0x37d4da+(_0x381ede['size']+(-0x23aa+-0x1*-0xa5a+0x3*0x871))/(-0xd9*-0x9+0x67f+-0x70e*0x2));let _0x46f93d=0xab*0x5+0x68c+0x9e3*-0x1,_0x3ec650=_0x270638['offset']/(-0x2fb+-0x1*0x41b+0x6*0x12f);const _0x38da41=Math['floor']((_0x381ede['size']+(0x37*-0x46+0xef*-0x4+0x3*0x643))/(0x49*0xd+-0x3ab*-0x3+-0xeb2));for(_0x909571=-0x2272+-0xf*-0xec+0x2f2*0x7;_0x909571<_0x2f0ab7;++_0x909571){for(_0x607534=-0xdc2+-0x7d1+0x1593;_0x607534<_0x38da41;++_0x607534)_0x2df528[_0x3ec650+_0x607534]=_0x7e9ed0[_0x46f93d+_0x607534];_0x46f93d+=_0x37d4da,_0x3ec650+=_0x2cf79e;}}}return _0x18b271['unlock'](),_0x18b271;},ID=(_0x2f63a2,_0x3d5ee3,_0x21b51c,_0x5c3378,_0x5025c2,_0x1822ac)=>{const _0x3be938={},_0x4f3c3a=[];for(const _0x14cf37 in _0x3d5ee3)_0x3d5ee3['hasOwnProp'+'erty'](_0x14cf37)&&nc['hasOwnProp'+'erty'](_0x14cf37)&&(_0x3be938[_0x14cf37]=_0x3d5ee3[_0x14cf37],_0x4f3c3a['push'](_0x14cf37+':'+_0x3d5ee3[_0x14cf37]));_0x4f3c3a['sort']();const _0x27872b=_0x4f3c3a['join']();let _0x494009=_0x1822ac[_0x27872b];if(!_0x494009){const _0x4b5519={};for(const _0x3af62d in _0x3be938){const _0x40a715=_0x5c3378[_0x3d5ee3[_0x3af62d]],_0xd5b015=rn(_0x40a715,_0x5025c2),_0x3b3766=_0x5025c2[_0x40a715['bufferView']],_0x4033aa=nc[_0x3af62d],_0x18a291=jo(_0x40a715['type'])*wD(_0x40a715['componentT'+'ype']),_0x155ab2=_0x3b3766&&_0x3b3766['hasOwnProp'+'erty']('byteStride')?_0x3b3766['byteStride']:_0x18a291;_0x4b5519[_0x4033aa]={'buffer':_0xd5b015['buffer'],'size':_0x18a291,'offset':_0xd5b015['byteOffset'],'stride':_0x155ab2,'count':_0x40a715['count'],'components':jo(_0x40a715['type']),'type':id(_0x40a715['componentT'+'ype']),'normalize':_0x40a715['normalized']};}_0x4b5519['hasOwnProp'+'erty'](ss)||CD(_0x4b5519,_0x21b51c),_0x494009=RD(_0x2f63a2,_0x4b5519),_0x1822ac[_0x27872b]=_0x494009;}return _0x494009;},DD=(_0x5b152d,_0x2e5228,_0x164101,_0x20f287,_0x5d300c,_0x1e2673)=>{let _0x34fde7,_0x13e7e4,_0x32767d;const _0x231c2d=_0x2e5228['joints'],_0x5cfbdc=_0x231c2d['length'],_0x5a9776=[];if(_0x2e5228['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x45fba8=_0x2e5228['inverseBin'+'dMatrices'],_0x32b4f1=rn(_0x164101[_0x45fba8],_0x20f287,!(-0x1a30+-0x1e3a+-0xa6*-0x57)),_0x351b59=[];for(_0x34fde7=0x5*-0x649+-0x172e+0x7cd*0x7;_0x34fde7<_0x5cfbdc;_0x34fde7++){for(_0x13e7e4=-0xe61+0x2*-0xe68+0x2b31*0x1;_0x13e7e4<0x16*-0x53+0xbfc+-0x2*0x265;_0x13e7e4++)_0x351b59[_0x13e7e4]=_0x32b4f1[_0x34fde7*(0x1*0xb26+0xc93+-0x17a9)+_0x13e7e4];_0x32767d=new q(),_0x32767d['set'](_0x351b59),_0x5a9776['push'](_0x32767d);}}else{for(_0x34fde7=-0x13b+-0x16*0x13a+0x1c37;_0x34fde7<_0x5cfbdc;_0x34fde7++)_0x32767d=new q(),_0x5a9776['push'](_0x32767d);}const _0x4cf5fd=[];for(_0x34fde7=0x1*0xc22+-0x217e+0x155c;_0x34fde7<_0x5cfbdc;_0x34fde7++)_0x4cf5fd[_0x34fde7]=_0x5d300c[_0x231c2d[_0x34fde7]]['name'];const _0x9d8beb=_0x4cf5fd['join']('#');let _0x3eda87=_0x1e2673['get'](_0x9d8beb);return _0x3eda87||(_0x3eda87=new z0(_0x5b152d,_0x5a9776,_0x4cf5fd),_0x1e2673['set'](_0x9d8beb,_0x3eda87)),_0x3eda87;},LD=(_0x1accb9,_0x28676e,_0x422c21,_0x37c422,_0xff1de7,_0x10f2b3,_0x33c07e)=>{var _0x1475b9;const _0xea62d0=new ke(_0x1accb9);_0xea62d0['aabb']=Tf(_0x422c21[_0x28676e['attributes']['POSITION']]);const _0x34044c=[];for(const [_0x264b31,_0x30f01e]of Object['entries'](_0x28676e['attributes'])){const _0x426943=_0x422c21[_0x30f01e],_0x147b20=nc[_0x264b31],_0x47204e=id(_0x426943['componentT'+'ype']);_0x34044c['push']({'semantic':_0x147b20,'components':jo(_0x426943['type']),'type':_0x47204e,'normalize':_0x426943['normalized']??(_0x147b20===It&&(_0x47204e===Zr||_0x47204e===rl))});}if(_0x33c07e['push'](new Promise((_0x533a22,_0x43cb15)=>{const _0xa23abd=_0x28676e['extensions']['KHR_draco_'+'mesh_compr'+'ession'];SD(_0x37c422[_0xa23abd['bufferView']]['slice']()['buffer'],(_0x541ecc,_0x329518)=>{var _0x48dce6;if(_0x541ecc)console['log'](_0x541ecc),_0x43cb15(_0x541ecc);else{const _0x3299e5={};for(const [_0x3fdad9,_0x370c49]of Object['entries'](_0xa23abd['attributes']))_0x3299e5[nc[_0x3fdad9]]=_0x329518['attributes']['indexOf'](_0x370c49);_0x34044c['sort']((_0x4cf483,_0x57662e)=>_0x3299e5[_0x4cf483['semantic']]-_0x3299e5[_0x57662e['semantic']]),(_0x48dce6=_0x28676e['attributes'])!=null&&_0x48dce6['NORMAL']||_0x34044c['splice'](-0x1a*0xf+-0x147*0x3+0x7*0xc4,-0x1f16+-0x79*-0x20+0x1*0xff6,{'semantic':'NORMAL','components':0x3,'type':Re});const _0x4469db=new Dt(_0x1accb9,_0x34044c),_0x31070c=_0x329518['vertices']['byteLength']/_0x4469db['size'],_0x43e5bf=_0x31070c<=0x5801+-0x1*-0xf499+-0x4c9b?Fi:or,_0x2c9857=_0x329518['indices']['byteLength']/(_0x31070c<=0x3cd8+-0x1de*-0x15+-0x1*-0x9bf1?0x1*0xeed+-0xb3e+-0x3ad:0x14*0xda+0x254d+0x5*-0xadd);b['call'](()=>{_0x31070c!==_0x422c21[_0x28676e['attributes']['POSITION']]['count']&&b['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x2c9857!==_0x422c21[_0x28676e['indices']]['count']&&b['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x22f79e=new fs(_0x1accb9,_0x4469db,_0x31070c,{'data':_0x329518['vertices']}),_0x5b9d3b=new cr(_0x1accb9,_0x43e5bf,_0x2c9857,ts,_0x329518['indices']);_0xea62d0['vertexBuff'+'er']=_0x22f79e,_0xea62d0['indexBuffe'+'r'][-0xc4a+0x19*0x130+-0x1166]=_0x5b9d3b,_0xea62d0['primitive'][0x115d+0x6d*-0x40+0x9e3]['type']=Dx(_0x28676e),_0xea62d0['primitive'][-0x11e1+0xfb*-0x17+0xa*0x40b]['base']=-0xb48+0x1574+-0x2a*0x3e,_0xea62d0['primitive'][-0x2368+0x1f8e+0x3da]['count']=_0x5b9d3b?_0x2c9857:_0x31070c,_0xea62d0['primitive'][0xcf1+-0x6f8+-0x5f9*0x1]['indexed']=!!_0x5b9d3b,_0x533a22();}});})),(_0x1475b9=_0x28676e==null?void(-0x94f+0xfd7+0x2*-0x344):_0x28676e['extensions'])!=null&&_0x1475b9['KHR_materi'+'als_varian'+'ts']){const _0x58e666=_0x28676e['extensions']['KHR_materi'+'als_varian'+'ts'],_0x2157cb={};_0x58e666['mappings']['forEach'](_0x405e38=>{_0x405e38['variants']['forEach'](_0x5dd06f=>{_0x2157cb[_0x5dd06f]=_0x405e38['material'];});}),_0xff1de7[_0xea62d0['id']]=_0x2157cb;}return _0x10f2b3[_0xea62d0['id']]=_0x28676e['material'],_0xea62d0;},FD=(_0x4129af,_0xfdb83b,_0x370009,_0x2f99b2,_0x26198e,_0x5a957c,_0x18ef6f,_0x2ab146,_0x5bebba)=>{const _0x29592f=[];return _0xfdb83b['primitives']['forEach'](_0x263e12=>{var _0x51befa;if((_0x51befa=_0x263e12['extensions'])!=null&&_0x51befa['KHR_draco_'+'mesh_compr'+'ession'])_0x29592f['push'](LD(_0x4129af,_0x263e12,_0x370009,_0x2f99b2,_0x5a957c,_0x18ef6f,_0x5bebba));else{let _0x29ce78=_0x263e12['hasOwnProp'+'erty']('indices')?rn(_0x370009[_0x263e12['indices']],_0x2f99b2,!(-0xcda+0x59*-0x27+-0x1*-0x1a69)):null;const _0x1a54ee=ID(_0x4129af,_0x263e12['attributes'],_0x29ce78,_0x370009,_0x2f99b2,_0x26198e),_0x5578ca=Dx(_0x263e12),_0x265adf=new ke(_0x4129af);if(_0x265adf['vertexBuff'+'er']=_0x1a54ee,_0x265adf['primitive'][-0xf6*-0x25+0x20af+0x16bf*-0x3]['type']=_0x5578ca,_0x265adf['primitive'][-0x11fb+0x1430+-0x5*0x71]['base']=0xeff+-0x1*0xeef+0x8*-0x2,_0x265adf['primitive'][-0x1*0x59+-0x4*0x95c+0x25c9*0x1]['indexed']=_0x29ce78!==null,_0x29ce78!==null){let _0x1396c7;_0x29ce78 instanceof Uint8Array?_0x1396c7=yu:_0x29ce78 instanceof Uint16Array?_0x1396c7=Fi:_0x1396c7=or,_0x1396c7===yu&&_0x4129af['isWebGPU']&&(_0x1396c7=Fi,_0x29ce78=new Uint16Array(_0x29ce78));const _0x3a182e=new cr(_0x4129af,_0x1396c7,_0x29ce78['length'],ts,_0x29ce78);_0x265adf['indexBuffe'+'r'][0x55*-0x31+0xe*0x271+-0x11e9]=_0x3a182e,_0x265adf['primitive'][0x165f+0x856*-0x1+0xe09*-0x1]['count']=_0x29ce78['length'];}else _0x265adf['primitive'][0x203c+0xac2+-0x2afe]['count']=_0x1a54ee['numVertice'+'s'];if(_0x263e12['hasOwnProp'+'erty']('extensions')&&_0x263e12['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x129c1b=_0x263e12['extensions']['KHR_materi'+'als_varian'+'ts'],_0x549499={};_0x129c1b['mappings']['forEach'](_0x50e625=>{_0x50e625['variants']['forEach'](_0x44c61f=>{_0x549499[_0x44c61f]=_0x50e625['material'];});}),_0x5a957c[_0x265adf['id']]=_0x549499;}_0x18ef6f[_0x265adf['id']]=_0x263e12['material'];let _0x12c21d=_0x370009[_0x263e12['attributes']['POSITION']];if(_0x265adf['aabb']=Tf(_0x12c21d),_0x263e12['hasOwnProp'+'erty']('targets')){const _0x5e73cd=[];_0x263e12['targets']['forEach']((_0x200468,_0x7b0876)=>{const _0x2b2636={};_0x200468['hasOwnProp'+'erty']('POSITION')&&(_0x12c21d=_0x370009[_0x200468['POSITION']],_0x2b2636['deltaPosit'+'ions']=ga(_0x12c21d,_0x2f99b2),_0x2b2636['aabb']=Tf(_0x12c21d)),_0x200468['hasOwnProp'+'erty']('NORMAL')&&(_0x12c21d=_0x370009[_0x200468['NORMAL']],_0x2b2636['deltaNorma'+'ls']=ga(_0x12c21d,_0x2f99b2)),_0xfdb83b['hasOwnProp'+'erty']('extras')&&_0xfdb83b['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x2b2636['name']=_0xfdb83b['extras']['targetName'+'s'][_0x7b0876]:_0x2b2636['name']=_0x7b0876['toString'](0x9*0x2d7+0x45*0x33+-0x2744),_0xfdb83b['hasOwnProp'+'erty']('weights')&&(_0x2b2636['defaultWei'+'ght']=_0xfdb83b['weights'][_0x7b0876]),_0x2b2636['preserveDa'+'ta']=_0x2ab146['morphPrese'+'rveData'],_0x5e73cd['push'](new sd(_0x2b2636));}),_0x265adf['morph']=new k0(_0x5e73cd,_0x4129af,{'preferHighPrecision':_0x2ab146['morphPrefe'+'rHighPreci'+'sion']});}_0x29592f['push'](_0x265adf);}}),_0x29592f;},xt=(_0x399acb,_0x21dbbf,_0x888a6f)=>{var _0x4b9775;let _0x9db1d0;const _0x2d55cb=_0x399acb['texCoord'];if(_0x2d55cb){for(_0x9db1d0=0xd*-0x1a6+-0x2*0x5cf+-0xeb*-0x24;_0x9db1d0<_0x888a6f['length'];++_0x9db1d0)_0x21dbbf[_0x888a6f[_0x9db1d0]+'MapUv']=_0x2d55cb;}const _0x1d7729=[0x2*-0x3d3+0x5*-0x557+0x2259,0x101e+0x151a+-0x2538],_0x12b05d=[-0x8db*-0x1+0x12ab+-0x1b85,-0x1ffe+-0x1e9*-0x10+0x16f],_0x214bfc=(_0x4b9775=_0x399acb['extensions'])==null?void(0x18c7+-0x1315+-0x5b2):_0x4b9775['KHR_textur'+'e_transfor'+'m'];if(_0x214bfc){const _0x37ca2d=_0x214bfc['offset']||_0x1d7729,_0x1922df=_0x214bfc['scale']||_0x12b05d,_0x129ab9=_0x214bfc['rotation']?-_0x214bfc['rotation']*z['RAD_TO_DEG']:0x1cd1+0x1343*0x1+0x3014*-0x1,_0x297c31=new W(_0x1922df[-0x262a+-0xa6f+-0x13f*-0x27],_0x1922df[0x7*-0x1af+0x1b*-0xc7+0x1*0x20c7]),_0x194918=new W(_0x37ca2d[0xb*-0x4f+0x2f*0xe+0xd3],-0x5e*0x65+0x8bd*-0x3+0x3f4e-_0x1922df[-0x26c1+0x1dd2*0x1+0x8f0]-_0x37ca2d[-0x1d*-0xd+-0x445+0x2cd*0x1]);for(_0x9db1d0=-0x13b1*0x1+0x171b+0x1b5*-0x2;_0x9db1d0<_0x888a6f['length'];++_0x9db1d0)_0x21dbbf[_0x888a6f[_0x9db1d0]+'MapTiling']=_0x297c31,_0x21dbbf[_0x888a6f[_0x9db1d0]+'MapOffset']=_0x194918,_0x21dbbf[_0x888a6f[_0x9db1d0]+('MapRotatio'+'n')]=_0x129ab9;}},kD=(_0x5bd5f4,_0x21be0b,_0xe9f528)=>{let _0x18af44,_0x22fd77;if(_0x5bd5f4['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x18af44=_0x5bd5f4['diffuseFac'+'tor'],_0x21be0b['diffuse']['set'](Math['pow'](_0x18af44[0x218c+-0x59d+-0x1bef],(-0x8*-0x392+0x8d9+0x54*-0x72)/(-0x20b9*0x1+0x177b*0x1+0x40*0x25+0.20000000000000018)),Math['pow'](_0x18af44[0x52*0x23+-0x1ff9+0x14c4],(0x25*0xb9+-0x242c+0x970)/(-0x2*0x4be+-0x605+0xf83+0.20000000000000018)),Math['pow'](_0x18af44[0x11*0x29+0x2*0xd37+-0x1d25],(-0x2*0xddc+-0xe1*-0x1b+0x3fe)/(-0x4*-0x3d2+0x178+-0x10be+0.20000000000000018))),_0x21be0b['opacity']=_0x18af44[0x164c+-0xf3*0x3+-0x1370]):(_0x21be0b['diffuse']['set'](-0x139b+-0x4*0x81+-0x20*-0xad,0x2*-0x76d+-0x161d+0x24f8,-0x1*0x1655+0x2*-0x88+0x5*0x4ae),_0x21be0b['opacity']=0xe25+0x851*-0x3+0x1*0xacf),_0x5bd5f4['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x3dedd6=_0x5bd5f4['diffuseTex'+'ture'];_0x22fd77=_0xe9f528[_0x3dedd6['index']],_0x21be0b['diffuseMap']=_0x22fd77,_0x21be0b['diffuseMap'+'Channel']='rgb',_0x21be0b['opacityMap']=_0x22fd77,_0x21be0b['opacityMap'+'Channel']='a',xt(_0x3dedd6,_0x21be0b,['diffuse','opacity']);}if(_0x21be0b['useMetalne'+'ss']=!(-0xf7e+0xdd3*0x1+0x1ac),_0x5bd5f4['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x18af44=_0x5bd5f4['specularFa'+'ctor'],_0x21be0b['specular']['set'](Math['pow'](_0x18af44[0x1d*-0x11b+-0x1*-0xffb+-0x15*-0xc4],(-0xfa0+-0xbd7+0x1b78)/(0x451+-0xa7*-0x24+-0x1bcb+0.20000000000000018)),Math['pow'](_0x18af44[0x2*0x50e+0x2541+-0x2f5c],(-0x9*-0x380+-0x137d+-0xc02)/(0xe92+0x11a3+-0x1*0x2033+0.20000000000000018)),Math['pow'](_0x18af44[0xd77+0x2b*-0xd5+0xb29*0x2],(0x25e6+-0x1cb4+-0x931)/(-0x1b07+-0x126f+0x5af*0x8+0.20000000000000018)))):_0x21be0b['specular']['set'](-0x1*0x16c3+0x14*-0xa+0x4*0x5e3,-0x254e+0x1f72+0x5dd,-0x22f4+0x24*-0xd3+-0x40a1*-0x1),_0x5bd5f4['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x21be0b['gloss']=_0x5bd5f4['glossiness'+'Factor']:_0x21be0b['gloss']=0x1a6*-0xf+-0xbc0+-0x11b*-0x21,_0x5bd5f4['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x19f001=_0x5bd5f4['specularGl'+'ossinessTe'+'xture'];_0x21be0b['specularEn'+'coding']='srgb',_0x21be0b['specularMa'+'p']=_0x21be0b['glossMap']=_0xe9f528[_0x19f001['index']],_0x21be0b['specularMa'+'pChannel']='rgb',_0x21be0b['glossMapCh'+'annel']='a',xt(_0x19f001,_0x21be0b,['gloss','metalness']);}},OD=(_0x86638f,_0x468d75,_0x167f6f)=>{if(_0x86638f['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x468d75['clearCoat']=_0x86638f['clearcoatF'+'actor']*(-0x531*0x6+0xc72+0x12b4+0.25):_0x468d75['clearCoat']=0x1b53+-0x829+-0x132a,_0x86638f['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x130022=_0x86638f['clearcoatT'+'exture'];_0x468d75['clearCoatM'+'ap']=_0x167f6f[_0x130022['index']],_0x468d75['clearCoatM'+'apChannel']='r',xt(_0x130022,_0x468d75,['clearCoat']);}if(_0x86638f['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x468d75['clearCoatG'+'loss']=_0x86638f['clearcoatR'+'oughnessFa'+'ctor']:_0x468d75['clearCoatG'+'loss']=0x2*0x623+-0x20bb+0x1475,_0x86638f['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x1d98da=_0x86638f['clearcoatR'+'oughnessTe'+'xture'];_0x468d75['clearCoatG'+'lossMap']=_0x167f6f[_0x1d98da['index']],_0x468d75['clearCoatG'+'lossMapCha'+'nnel']='g',xt(_0x1d98da,_0x468d75,['clearCoatG'+'loss']);}if(_0x86638f['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x4e7710=_0x86638f['clearcoatN'+'ormalTextu'+'re'];_0x468d75['clearCoatN'+'ormalMap']=_0x167f6f[_0x4e7710['index']],xt(_0x4e7710,_0x468d75,['clearCoatN'+'ormal']),_0x4e7710['hasOwnProp'+'erty']('scale')&&(_0x468d75['clearCoatB'+'umpiness']=_0x4e7710['scale']);}_0x468d75['clearCoatG'+'lossInvert']=!(-0x16*0x16c+-0x91f*0x2+-0x1*-0x3186);},BD=(_0x515197,_0x2b779d,_0x12c5ff)=>{_0x2b779d['useLightin'+'g']=!(-0x735+-0x1a0a+0x8*0x428),_0x2b779d['emissive']['copy'](_0x2b779d['diffuse']),_0x2b779d['emissiveMa'+'p']=_0x2b779d['diffuseMap'],_0x2b779d['emissiveMa'+'pUv']=_0x2b779d['diffuseMap'+'Uv'],_0x2b779d['emissiveMa'+'pTiling']['copy'](_0x2b779d['diffuseMap'+'Tiling']),_0x2b779d['emissiveMa'+'pOffset']['copy'](_0x2b779d['diffuseMap'+'Offset']),_0x2b779d['emissiveMa'+'pRotation']=_0x2b779d['diffuseMap'+'Rotation'],_0x2b779d['emissiveMa'+'pChannel']=_0x2b779d['diffuseMap'+'Channel'],_0x2b779d['emissiveVe'+'rtexColor']=_0x2b779d['diffuseVer'+'texColor'],_0x2b779d['emissiveVe'+'rtexColorC'+'hannel']=_0x2b779d['diffuseVer'+'texColorCh'+'annel'],_0x2b779d['useLightin'+'g']=!(-0xda9+-0x1f5*-0xd+-0xbc7),_0x2b779d['useSkybox']=!(0x202c+0x136+0x2161*-0x1),_0x2b779d['diffuse']['set'](-0x11*0xd9+0x2*0x95f+-0x454*0x1,-0x95*-0x19+0x10d9+-0x1f65,0x1831+0x2*0xd8a+-0x3344),_0x2b779d['diffuseMap']=null,_0x2b779d['diffuseVer'+'texColor']=!(-0x20c4+0x7a9+0x191c);},ND=(_0x2b96c1,_0x366ed3,_0x531422)=>{if(_0x366ed3['useMetalne'+'ssSpecular'+'Color']=!(-0xd04+0x15+0x2b*0x4d),_0x2b96c1['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x366ed3['specularEn'+'coding']='srgb',_0x366ed3['specularMa'+'p']=_0x531422[_0x2b96c1['specularCo'+'lorTexture']['index']],_0x366ed3['specularMa'+'pChannel']='rgb',xt(_0x2b96c1['specularCo'+'lorTexture'],_0x366ed3,['specular'])),_0x2b96c1['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x10299c=_0x2b96c1['specularCo'+'lorFactor'];_0x366ed3['specular']['set'](Math['pow'](_0x10299c[0x1*-0x634+-0x1cea+0x231e],(-0x2117+-0x1899+0x39b1)/(0x1f9+0xcb2+-0x1b*0x8b+0.20000000000000018)),Math['pow'](_0x10299c[0x6c9+-0x1112+0xa4a],(0x115d+0x1027+0x17*-0x175)/(0x1c0f*-0x1+-0x445+-0x2056*-0x1+0.20000000000000018)),Math['pow'](_0x10299c[0xbe1+0x132d+0x1f0c*-0x1],(0xdf9+0x1*0x144e+-0x2246)/(-0x214c+-0x263e+0x478c+0.20000000000000018)));}else _0x366ed3['specular']['set'](-0x1402+-0x227b+-0x9*-0x60e,0x8ce*-0x1+0x10a3+-0x7d4,-0x1517*0x1+-0xd6*-0x14+0x460);_0x2b96c1['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x366ed3['specularit'+'yFactor']=_0x2b96c1['specularFa'+'ctor']:_0x366ed3['specularit'+'yFactor']=-0x180f+-0xd17+-0x1*-0x2527,_0x2b96c1['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x366ed3['specularit'+'yFactorMap'+'Channel']='a',_0x366ed3['specularit'+'yFactorMap']=_0x531422[_0x2b96c1['specularTe'+'xture']['index']],xt(_0x2b96c1['specularTe'+'xture'],_0x366ed3,['specularit'+'yFactor']));},zD=(_0x3e0549,_0x43237b,_0x4d20c9)=>{_0x3e0549['hasOwnProp'+'erty']('ior')&&(_0x43237b['refraction'+'Index']=(0x40f*-0x1+0x679*-0x1+-0x1*-0xa89)/_0x3e0549['ior']);},UD=(_0x56d8ab,_0x650e6a,_0x50d8f8)=>{_0x56d8ab['hasOwnProp'+'erty']('dispersion')&&(_0x650e6a['dispersion']=_0x56d8ab['dispersion']);},VD=(_0x598ded,_0x3ab9e2,_0xff3018)=>{_0x3ab9e2['blendType']=Gt,_0x3ab9e2['useDynamic'+'Refraction']=!(0x1d13+0x2047*-0x1+-0x1*-0x334),_0x598ded['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x3ab9e2['refraction']=_0x598ded['transmissi'+'onFactor']),_0x598ded['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x3ab9e2['refraction'+'MapChannel']='r',_0x3ab9e2['refraction'+'Map']=_0xff3018[_0x598ded['transmissi'+'onTexture']['index']],xt(_0x598ded['transmissi'+'onTexture'],_0x3ab9e2,['refraction']));},GD=(_0x4674cf,_0x207dd2,_0x1a64d0)=>{if(_0x207dd2['useSheen']=!(0x10d*-0x1e+-0x1*0x347+-0x1*-0x22cd),_0x4674cf['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x361576=_0x4674cf['sheenColor'+'Factor'];_0x207dd2['sheen']['set'](Math['pow'](_0x361576[0xada+-0x11*-0x85+0x13af*-0x1],(0x146d+0x6*0x488+0x17ce*-0x2)/(0x1e16+-0x1fac+-0x22*-0xc+0.20000000000000018)),Math['pow'](_0x361576[0x1*-0x1bdc+-0x1d*0x29+0xdb*0x26],(0xb*-0x131+0x8*-0x153+-0xa4*-0x25)/(-0x2548+-0x51*-0x2b+0x17af+0.20000000000000018)),Math['pow'](_0x361576[-0x2*0xf8e+-0x1506+0x3424],(0x6ce*0x2+-0x11e7*-0x1+-0x1f82)/(-0x1*-0x1de+-0x22b1+0x20d5+0.20000000000000018)));}else _0x207dd2['sheen']['set'](0x262*-0xb+0x7f*-0x3e+-0xb65*-0x5,0x883+-0x1973+-0x1*-0x10f1,0x23a7+-0x10e8+0x12be*-0x1);_0x4674cf['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x207dd2['sheenMap']=_0x1a64d0[_0x4674cf['sheenColor'+'Texture']['index']],_0x207dd2['sheenEncod'+'ing']='srgb',xt(_0x4674cf['sheenColor'+'Texture'],_0x207dd2,['sheen'])),_0x207dd2['sheenGloss']=_0x4674cf['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x4674cf['sheenRough'+'nessFactor']:-0x1217*-0x1+-0x253f*-0x1+0x939*-0x6,_0x4674cf['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x207dd2['sheenGloss'+'Map']=_0x1a64d0[_0x4674cf['sheenRough'+'nessTextur'+'e']['index']],_0x207dd2['sheenGloss'+'MapChannel']='a',xt(_0x4674cf['sheenRough'+'nessTextur'+'e'],_0x207dd2,['sheenGloss'])),_0x207dd2['sheenGloss'+'Invert']=!(0x81*-0xd+0x391*0x1+0x2fc);},HD=(_0x1a9cfe,_0x5bcca0,_0x360c38)=>{if(_0x5bcca0['blendType']=Gt,_0x5bcca0['useDynamic'+'Refraction']=!(-0x1a24+0x2*-0x58e+0x2540),_0x1a9cfe['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x5bcca0['thickness']=_0x1a9cfe['thicknessF'+'actor']),_0x1a9cfe['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x5bcca0['thicknessM'+'ap']=_0x360c38[_0x1a9cfe['thicknessT'+'exture']['index']],_0x5bcca0['thicknessM'+'apChannel']='g',xt(_0x1a9cfe['thicknessT'+'exture'],_0x5bcca0,['thickness'])),_0x1a9cfe['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x5bcca0['attenuatio'+'nDistance']=_0x1a9cfe['attenuatio'+'nDistance']),_0x1a9cfe['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x13b866=_0x1a9cfe['attenuatio'+'nColor'];_0x5bcca0['attenuatio'+'n']['set'](Math['pow'](_0x13b866[-0x19d*-0x10+0x1*-0x87e+-0x1152],(-0x1401+0x499+0x5*0x315)/(0x42*0xa+0x9*-0x6f+0x1*0x155+0.20000000000000018)),Math['pow'](_0x13b866[-0x2381+0x923+0x1a5f],(0x2252+-0xe4b*-0x1+-0x1*0x309c)/(0x6d3+-0x264b*-0x1+-0x2d1c+0.20000000000000018)),Math['pow'](_0x13b866[0x22c*0xa+0x2011+0x161*-0x27],(-0x13*0xc1+-0x10b2+0x13*0x1a2)/(0x1d26+-0x65*0x4a+0xe*0x1+0.20000000000000018)));}},WD=(_0x3b3ae5,_0x185c85,_0x37da71)=>{_0x3b3ae5['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x185c85['emissiveIn'+'tensity']=_0x3b3ae5['emissiveSt'+'rength']);},$D=(_0x537647,_0xa14e8d,_0x5a8822)=>{_0xa14e8d['useIridesc'+'ence']=!(-0x2609*-0x1+0x132d*0x2+0x1*-0x4c63),_0x537647['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0xa14e8d['iridescenc'+'e']=_0x537647['iridescenc'+'eFactor']),_0x537647['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0xa14e8d['iridescenc'+'eMapChanne'+'l']='r',_0xa14e8d['iridescenc'+'eMap']=_0x5a8822[_0x537647['iridescenc'+'eTexture']['index']],xt(_0x537647['iridescenc'+'eTexture'],_0xa14e8d,['iridescenc'+'e'])),_0x537647['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0xa14e8d['iridescenc'+'eRefractio'+'nIndex']=_0x537647['iridescenc'+'eIor']),_0x537647['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0xa14e8d['iridescenc'+'eThickness'+'Min']=_0x537647['iridescenc'+'eThickness'+'Minimum']),_0x537647['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0xa14e8d['iridescenc'+'eThickness'+'Max']=_0x537647['iridescenc'+'eThickness'+'Maximum']),_0x537647['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0xa14e8d['iridescenc'+'eThickness'+'MapChannel']='g',_0xa14e8d['iridescenc'+'eThickness'+'Map']=_0x5a8822[_0x537647['iridescenc'+'eThickness'+'Texture']['index']],xt(_0x537647['iridescenc'+'eThickness'+'Texture'],_0xa14e8d,['iridescenc'+'eThickness']));},Lx=(_0x36f7ab,_0x352606)=>{const _0x174031=new _s();_0x36f7ab['hasOwnProp'+'erty']('name')&&(_0x174031['name']=_0x36f7ab['name']),_0x174031['occludeSpe'+'cular']=Vo,_0x174031['diffuseVer'+'texColor']=!(-0x9a7*0x3+-0x20ea*-0x1+-0x3f5*0x1),_0x174031['specularTi'+'nt']=!(-0x25*-0xda+-0xfbc+-0xfc6),_0x174031['specularVe'+'rtexColor']=!(-0x645*0x3+0x15f+0x10*0x117),_0x174031['specular']['set'](-0x1768+0x64c+-0x151*-0xd,0x1deb*-0x1+-0x143d*0x1+0x3229,0x295*-0xf+-0x11*-0x219+0x313),_0x174031['gloss']=0x2dd*-0x1+-0x69c+0x97a,_0x174031['glossInver'+'t']=!(0x42e*0x2+-0x1ef4+0xc*0x1e2),_0x174031['useMetalne'+'ss']=!(0x6*-0x35d+0x1*-0x911+0x1d3f);let _0x14b0f4,_0x1d906a;if(_0x36f7ab['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x1f4c40=_0x36f7ab['pbrMetalli'+'cRoughness'];if(_0x1f4c40['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x14b0f4=_0x1f4c40['baseColorF'+'actor'],_0x174031['diffuse']['set'](Math['pow'](_0x14b0f4[-0x2*0x7eb+-0x1855+0x282b],(-0x25d0+-0x21ad+0x477e)/(0x196c+0x1f*0x129+-0x3d61+0.20000000000000018)),Math['pow'](_0x14b0f4[-0x143f+0xb7*0x17+-0x5*-0xc3],(0x13*0x207+-0xfef+0x3*-0x787)/(0x2*-0x5ab+-0x20a6+0x2bfe+0.20000000000000018)),Math['pow'](_0x14b0f4[0x24a0+-0x1993+-0xb0b],(0xd9f+-0x1765+-0x1*-0x9c7)/(0x66c+-0x15b0+-0x73*-0x22+0.20000000000000018))),_0x174031['opacity']=_0x14b0f4[0x2*0x98e+-0xf12+0x1*-0x407]),_0x1f4c40['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0xd34406=_0x1f4c40['baseColorT'+'exture'];_0x1d906a=_0x352606[_0xd34406['index']],_0x174031['diffuseMap']=_0x1d906a,_0x174031['diffuseMap'+'Channel']='rgb',_0x174031['opacityMap']=_0x1d906a,_0x174031['opacityMap'+'Channel']='a',xt(_0xd34406,_0x174031,['diffuse','opacity']);}if(_0x1f4c40['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x174031['metalness']=_0x1f4c40['metallicFa'+'ctor']),_0x1f4c40['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x174031['gloss']=_0x1f4c40['roughnessF'+'actor']),_0x1f4c40['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x3a73bf=_0x1f4c40['metallicRo'+'ughnessTex'+'ture'];_0x174031['metalnessM'+'ap']=_0x174031['glossMap']=_0x352606[_0x3a73bf['index']],_0x174031['metalnessM'+'apChannel']='b',_0x174031['glossMapCh'+'annel']='g',xt(_0x3a73bf,_0x174031,['gloss','metalness']);}}if(_0x36f7ab['hasOwnProp'+'erty']('normalText'+'ure')){const _0x4eae9a=_0x36f7ab['normalText'+'ure'];_0x174031['normalMap']=_0x352606[_0x4eae9a['index']],xt(_0x4eae9a,_0x174031,['normal']),_0x4eae9a['hasOwnProp'+'erty']('scale')&&(_0x174031['bumpiness']=_0x4eae9a['scale']);}if(_0x36f7ab['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x3b855d=_0x36f7ab['occlusionT'+'exture'];_0x174031['aoMap']=_0x352606[_0x3b855d['index']],_0x174031['aoMapChann'+'el']='r',xt(_0x3b855d,_0x174031,['ao']);}if(_0x36f7ab['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x14b0f4=_0x36f7ab['emissiveFa'+'ctor'],_0x174031['emissive']['set'](Math['pow'](_0x14b0f4[0x21b8+-0x1f7b+-0x23d],(0xeda+-0xae0+0x1*-0x3f9)/(-0xe44*0x1+0x47f+0x9c7*0x1+0.20000000000000018)),Math['pow'](_0x14b0f4[0x57+-0x23e7+0x71d*0x5],(-0x241*-0x7+0x241c+-0x33e2)/(0x1c8c+0x940*-0x1+0x66e*-0x3+0.20000000000000018)),Math['pow'](_0x14b0f4[-0x1645+-0xffb*0x1+0x2642*0x1],(0x1*0x28a+-0xa9*-0x3b+-0x426*0xa)/(0xc21+0x20cc+-0x2ceb+0.20000000000000018)))),_0x36f7ab['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x3d499f=_0x36f7ab['emissiveTe'+'xture'];_0x174031['emissiveMa'+'p']=_0x352606[_0x3d499f['index']],xt(_0x3d499f,_0x174031,['emissive']);}if(_0x36f7ab['hasOwnProp'+'erty']('alphaMode'))switch(_0x36f7ab['alphaMode']){case'MASK':_0x174031['blendType']=hs,_0x36f7ab['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x174031['alphaTest']=_0x36f7ab['alphaCutof'+'f']:_0x174031['alphaTest']=0x19cf+0x876+-0x2245+0.5;break;case'BLEND':_0x174031['blendType']=Gt,_0x174031['depthWrite']=!(0x388+0xa4*0x1f+-0x1*0x1763);break;default:case'OPAQUE':_0x174031['blendType']=hs;break;}else _0x174031['blendType']=hs;_0x36f7ab['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x174031['twoSidedLi'+'ghting']=_0x36f7ab['doubleSide'+'d'],_0x174031['cull']=_0x36f7ab['doubleSide'+'d']?vt:nn):(_0x174031['twoSidedLi'+'ghting']=!(-0x18ec+-0x15e6+-0x1*-0x2ed3),_0x174031['cull']=nn);const _0x5bba0e={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':WD,'KHR_materials_ior':zD,'KHR_materials_dispersion':UD,'KHR_materials_iridescence':$D,'KHR_materials_pbrSpecularGlossiness':kD,'KHR_materials_sheen':GD,'KHR_materials_specular':ND,'KHR_materials_transmission':VD,'KHR_materials_unlit':BD,'KHR_materials_volume':HD};if(_0x36f7ab['hasOwnProp'+'erty']('extensions'))for(const _0x2cda4 in _0x36f7ab['extensions']){const _0x44c6f8=_0x5bba0e[_0x2cda4];_0x44c6f8!==void(0x26a9+0x520*0x7+-0x4a89*0x1)&&_0x44c6f8(_0x36f7ab['extensions'][_0x2cda4],_0x174031,_0x352606);}return _0x174031['update'](),_0x174031;},qD=(_0xe860f5,_0x295d8b,_0x529378,_0x36f379,_0x1c9edb,_0xfec88b,_0x1693ab)=>{const _0x3eebc8=_0x27bd62=>new rc(jo(_0x27bd62['type']),ga(_0x27bd62,_0x36f379)),_0x93167d={'STEP':q0,'LINEAR':Qu,'CUBICSPLINE':Ju},_0x2d403c={},_0x2171ed={},_0x138223={};let _0x558a1c=0x2e7+-0x1a81+0x179b,_0x192a4a;for(_0x192a4a=-0x6*0x2f9+0x26f6+-0x1520;_0x192a4a<_0xe860f5['samplers']['length'];++_0x192a4a){const _0xce918c=_0xe860f5['samplers'][_0x192a4a];_0x2d403c['hasOwnProp'+'erty'](_0xce918c['input'])||(_0x2d403c[_0xce918c['input']]=_0x3eebc8(_0x529378[_0xce918c['input']])),_0x2171ed['hasOwnProp'+'erty'](_0xce918c['output'])||(_0x2171ed[_0xce918c['output']]=_0x3eebc8(_0x529378[_0xce918c['output']]));const _0xe2c7f1=_0xce918c['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x93167d['hasOwnProp'+'erty'](_0xce918c['interpolat'+'ion'])?_0x93167d[_0xce918c['interpolat'+'ion']]:Qu,_0xaeeda6={'paths':[],'input':_0xce918c['input'],'output':_0xce918c['output'],'interpolation':_0xe2c7f1};_0x138223[_0x192a4a]=_0xaeeda6;}const _0x5a8d49=[],_0x5b3bc0={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x2b0d6e=_0x208a7c=>{const _0x4b7739=[];for(;_0x208a7c;)_0x4b7739['unshift'](_0x208a7c['name']),_0x208a7c=_0x208a7c['parent'];return _0x4b7739;},_0x397ff6=(_0x53d0f2,_0x221b17,_0x29dd20)=>{const _0x49d300=_0x2171ed[_0x53d0f2['output']];if(!_0x49d300){b['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x29dd20+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x1b02f6;if(_0xfec88b&&_0xfec88b[_0x221b17['mesh']]){const _0x464814=_0xfec88b[_0x221b17['mesh']];_0x464814['hasOwnProp'+'erty']('extras')&&_0x464814['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x1b02f6=_0x464814['extras']['targetName'+'s']);}const _0xf2806e=_0x49d300['data'],_0x1d1bf7=_0xf2806e['length']/_0x2d403c[_0x53d0f2['input']]['data']['length'],_0x68c41b=_0xf2806e['length']/_0x1d1bf7,_0xb11dd3=_0x68c41b*(-0xd*0x250+0xc41*-0x1+0x1*0x2a55),_0x7b6fc9=new ArrayBuffer(_0xb11dd3*_0x1d1bf7);for(let _0x43c62b=0x11*0x1f+0x1790+-0x7*0x3a9;_0x43c62b<_0x1d1bf7;_0x43c62b++){const _0x417e85=new Float32Array(_0x7b6fc9,_0xb11dd3*_0x43c62b,_0x68c41b);for(let _0x51d89c=-0x2*-0xe21+-0x10d7+0xb6b*-0x1;_0x51d89c<_0x68c41b;_0x51d89c++)_0x417e85[_0x51d89c]=_0xf2806e[_0x51d89c*_0x1d1bf7+_0x43c62b];const _0x45c25d=new rc(-0x10c7+0xe*-0x77+0x174a,_0x417e85),_0x1611c6=_0x1b02f6!=null&&_0x1b02f6[_0x43c62b]?'name.'+_0x1b02f6[_0x43c62b]:_0x43c62b;_0x2171ed[-_0x558a1c]=_0x45c25d;const _0x5c08ce={'paths':[{'entityPath':_0x29dd20,'component':'graph','propertyPath':['weight.'+_0x1611c6]}],'input':_0x53d0f2['input'],'output':-_0x558a1c,'interpolation':_0x53d0f2['interpolat'+'ion']};_0x558a1c++,_0x138223['morphCurve'+'-'+_0x192a4a+'-'+_0x43c62b]=_0x5c08ce;}};for(_0x192a4a=0x24c8*-0x1+-0x2674+0x4b3c;_0x192a4a<_0xe860f5['channels']['length'];++_0x192a4a){const _0x2ac6ba=_0xe860f5['channels'][_0x192a4a],_0x236443=_0x2ac6ba['target'],_0xbdbd6b=_0x138223[_0x2ac6ba['sampler']],_0x3e030=_0x1c9edb[_0x236443['node']],_0x5ae6a5=_0x1693ab[_0x236443['node']],_0xd49088=_0x2b0d6e(_0x3e030);_0x236443['path']['startsWith']('weights')?(_0x397ff6(_0xbdbd6b,_0x5ae6a5,_0xd49088),_0x138223[_0x2ac6ba['sampler']]['morphCurve']=!(-0x1*0xcc8+0x1ba1+0x4f3*-0x3)):_0xbdbd6b['paths']['push']({'entityPath':_0xd49088,'component':'graph','propertyPath':[_0x5b3bc0[_0x236443['path']]]});}const _0x8ea33b=[],_0x5c2c7b=[],_0x545459=[];for(const _0x1104dd in _0x2d403c)_0x8ea33b['push'](_0x2d403c[_0x1104dd]),_0x2d403c[_0x1104dd]=_0x8ea33b['length']-(0x25d*0x3+-0x1*0x2b3+0x1*-0x463);for(const _0x14f633 in _0x2171ed)_0x5c2c7b['push'](_0x2171ed[_0x14f633]),_0x2171ed[_0x14f633]=_0x5c2c7b['length']-(0x1e02+-0x602+0x17ff*-0x1);for(const _0x47ba50 in _0x138223){const _0x8d038d=_0x138223[_0x47ba50];_0x8d038d['morphCurve']||(_0x545459['push'](new Rx(_0x8d038d['paths'],_0x2d403c[_0x8d038d['input']],_0x2171ed[_0x8d038d['output']],_0x8d038d['interpolat'+'ion'])),_0x8d038d['paths']['length']>-0x209*-0x11+-0xfd9*-0x2+-0x424b&&_0x8d038d['paths'][0x33d+0x20af+-0x23ec]['propertyPa'+'th'][-0x231d+-0xf*0x1a7+-0x3be6*-0x1]==='localRotat'+'ion'&&_0x8d038d['interpolat'+'ion']!==Ju&&_0x5a8d49['push'](_0x545459[_0x545459['length']-(-0x3*0x4b1+0xe83*0x2+-0xef2)]['output']));}_0x5a8d49['sort']();let _0x2e0ad4=null,_0x3e0620;for(_0x192a4a=-0xa51*-0x1+0x1*0x1d2c+0x1*-0x277d;_0x192a4a<_0x5a8d49['length'];++_0x192a4a){const _0x1de6d8=_0x5a8d49[_0x192a4a];if(_0x192a4a===0x77*0x37+0x1*-0x219c+-0x47*-0x1d||_0x1de6d8!==_0x2e0ad4){if(_0x3e0620=_0x5c2c7b[_0x1de6d8],_0x3e0620['components']===-0x1*0x1e5d+0x231e+0x4bd*-0x1){const _0x1315cc=_0x3e0620['data'],_0x5e0bbe=_0x1315cc['length']-(-0x1*0xf8d+0xd73+0x2*0x10f);for(let _0x571fbc=-0x1a84+-0xd3*0x7+0x11d*0x1d;_0x571fbc<_0x5e0bbe;_0x571fbc+=0x1bef+-0x1e48+0x25d)_0x1315cc[_0x571fbc+(-0xc2c+-0x2b*-0xe5+-0x1a4b)]*_0x1315cc[_0x571fbc+(0x17*-0xd3+-0x1*-0xdb1+0x548*0x1)]+_0x1315cc[_0x571fbc+(0x1bce+0x25d1+-0x4a*0xe3)]*_0x1315cc[_0x571fbc+(-0x385*0x1+0x120e+-0xe84)]+_0x1315cc[_0x571fbc+(0x1cbd+0x1e13*-0x1+0x1*0x158)]*_0x1315cc[_0x571fbc+(-0xac2+-0x1*0x2426+0x2eee)]+_0x1315cc[_0x571fbc+(-0x9df+-0x2531*0x1+0x2f13)]*_0x1315cc[_0x571fbc+(0x2*-0x9a4+0x551*0x5+0x26*-0x31)]<0x228a+0x1a1e*-0x1+0x2*-0x436&&(_0x1315cc[_0x571fbc+(-0x2220+0x115a*-0x1+0x337e)]*=-(-0x544+-0x1731*0x1+0x1*0x1c76),_0x1315cc[_0x571fbc+(0x1*0x1ce2+-0x1*0x908+0x1*-0x13d5)]*=-(0xc73*0x1+0x1b87+-0x27f9),_0x1315cc[_0x571fbc+(-0x1f39+-0x16b*-0x5+0x1828)]*=-(-0x1243+-0x2*0x975+-0x1*-0x252e),_0x1315cc[_0x571fbc+(-0x8*-0x2c0+0x1378+-0x2971)]*=-(0x1dbc+0x1648+-0x3403));}_0x2e0ad4=_0x1de6d8;}}let _0xbc9a5f=-0x696+-0x1542+0x1bd8;for(_0x192a4a=0xf56+-0x15*-0x12a+-0x13*0x218;_0x192a4a<_0x8ea33b['length'];_0x192a4a++)_0x3e0620=_0x8ea33b[_0x192a4a]['_data'],_0xbc9a5f=Math['max'](_0xbc9a5f,_0x3e0620['length']===0x20c7+0x18ce+-0x3995?-0xa17+-0x1*-0x19b+0x87c:_0x3e0620[_0x3e0620['length']-(-0x17b7+-0x23d3+0x3b8b)]);return new ki(_0xe860f5['hasOwnProp'+'erty']('name')?_0xe860f5['name']:'animation_'+_0x295d8b,_0xbc9a5f,_0x8ea33b,_0x5c2c7b,_0x545459);},nh=new q(),jn=new A(),XD=(_0x5381a4,_0x347225,_0x251316)=>{const _0x24f455=new Oe();if(_0x5381a4['hasOwnProp'+'erty']('name')&&_0x5381a4['name']['length']>-0x44*-0x23+0x185*0x1+0x47*-0x27?_0x24f455['name']=_0x5381a4['name']:_0x24f455['name']='node_'+_0x347225,_0x5381a4['hasOwnProp'+'erty']('matrix')&&(nh['data']['set'](_0x5381a4['matrix']),nh['getTransla'+'tion'](jn),_0x24f455['setLocalPo'+'sition'](jn),nh['getEulerAn'+'gles'](jn),_0x24f455['setLocalEu'+'lerAngles'](jn),nh['getScale'](jn),_0x24f455['setLocalSc'+'ale'](jn)),_0x5381a4['hasOwnProp'+'erty']('rotation')){const _0x4c91a4=_0x5381a4['rotation'];_0x24f455['setLocalRo'+'tation'](_0x4c91a4[0x26*-0x8b+0x1a60+-0x5be],_0x4c91a4[-0x634*-0x6+0xae1+0x72*-0x6c],_0x4c91a4[0x1*0x8b+0x6*0xe0+-0x5c9],_0x4c91a4[-0x235c+-0x161*-0x6+0x1b19]);}if(_0x5381a4['hasOwnProp'+'erty']('translatio'+'n')){const _0x31f6ca=_0x5381a4['translatio'+'n'];_0x24f455['setLocalPo'+'sition'](_0x31f6ca[-0x2602+0x26cd+-0x7*0x1d],_0x31f6ca[0x1057*-0x1+0x3+0x1055],_0x31f6ca[0x21a*0x5+0x8ea+0x7*-0x2c6]);}if(_0x5381a4['hasOwnProp'+'erty']('scale')){const _0x34e1a3=_0x5381a4['scale'];_0x24f455['setLocalSc'+'ale'](_0x34e1a3[0x1a6c+-0x2104+0x34c*0x2],_0x34e1a3[-0x1cf9*0x1+0x1f83+0x1*-0x289],_0x34e1a3[0x217*0xc+0x71*-0x37+-0xcb]);}return _0x5381a4['hasOwnProp'+'erty']('extensions')&&_0x5381a4['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x251316['set'](_0x5381a4,{'ext':_0x5381a4['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x24f455;},jD=(_0x5ce573,_0x186328)=>{const _0x784265=_0x5ce573['type']==='orthograph'+'ic'?pa:Xs,_0x38882e=_0x784265===pa?_0x5ce573['orthograph'+'ic']:_0x5ce573['perspectiv'+'e'],_0x408688={'enabled':!(0x60b*-0x4+-0x411+-0x6*-0x4b5),'projection':_0x784265,'nearClip':_0x38882e['znear'],'aspectRatioMode':kp};_0x38882e['zfar']&&(_0x408688['farClip']=_0x38882e['zfar']),_0x784265===pa?(_0x408688['orthoHeigh'+'t']=(0x47*-0x11+0x2*0x989+-0x31*0x4b+0.5)*_0x38882e['ymag'],_0x38882e['ymag']&&(_0x408688['aspectRati'+'oMode']=Vu,_0x408688['aspectRati'+'o']=_0x38882e['xmag']/_0x38882e['ymag'])):(_0x408688['fov']=_0x38882e['yfov']*z['RAD_TO_DEG'],_0x38882e['aspectRati'+'o']&&(_0x408688['aspectRati'+'oMode']=Vu,_0x408688['aspectRati'+'o']=_0x38882e['aspectRati'+'o']));const _0x79139=new je(_0x5ce573['name']);return _0x79139['addCompone'+'nt']('camera',_0x408688),_0x79139;},YD=(_0x21f957,_0x1e689d)=>{const _0x287ff7={'enabled':!(0xc53+0x23aa+0x53*-0x94),'type':_0x21f957['type']==='point'?'omni':_0x21f957['type'],'color':_0x21f957['hasOwnProp'+'erty']('color')?new Y(_0x21f957['color']):Y['WHITE'],'range':_0x21f957['hasOwnProp'+'erty']('range')?_0x21f957['range']:0x626*-0x6+0x51*0x25+0x403e,'falloffMode':$b,'intensity':_0x21f957['hasOwnProp'+'erty']('intensity')?z['clamp'](_0x21f957['intensity'],0x1529+0x241c+-0xb5*0x51,-0xfe9*-0x2+-0x494*0x5+0x2*-0x476):0x1*0x164+0x7*-0x1fd+-0x8*-0x191};_0x21f957['hasOwnProp'+'erty']('spot')&&(_0x287ff7['innerConeA'+'ngle']=_0x21f957['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x21f957['spot']['innerConeA'+'ngle']*z['RAD_TO_DEG']:0xe4e+-0x72f*-0x2+-0x1cac,_0x287ff7['outerConeA'+'ngle']=_0x21f957['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x21f957['spot']['outerConeA'+'ngle']*z['RAD_TO_DEG']:Math['PI']/(-0x20cf+-0x246a+0x1*0x453d)),_0x21f957['hasOwnProp'+'erty']('intensity')&&(_0x287ff7['luminance']=_0x21f957['intensity']*Ho['getLightUn'+'itConversi'+'on'](qu[_0x287ff7['type']],_0x287ff7['outerConeA'+'ngle'],_0x287ff7['innerConeA'+'ngle']));const _0x369774=new je(_0x1e689d['name']);return _0x369774['rotateLoca'+'l'](0x3d+-0x1d31+0x2aa*0xb,-0x22b0+0x2cc+0x1fe4,-0x847*0x2+0x2fc*-0x8+0x816*0x5),_0x369774['addCompone'+'nt']('light',_0x287ff7),_0x369774;},KD=(_0x5decd2,_0x3d8be1,_0x3c2159,_0x5df681)=>{if(!_0x3d8be1['hasOwnProp'+'erty']('skins')||_0x3d8be1['skins']['length']===0x19*0x7+-0x202a+0x1f7b)return[];const _0x3a3424=new Map();return _0x3d8be1['skins']['map'](_0x3089d0=>DD(_0x5decd2,_0x3089d0,_0x3d8be1['accessors'],_0x5df681,_0x3c2159,_0x3a3424));},ZD=(_0x64058d,_0x69abaf,_0x569ff0,_0x369028)=>{var _0x14b479,_0x129ddd,_0x39207c;const _0x1674fe={},_0x31d48f={},_0x1206ec={},_0x2b9364=[];return{'meshes':!_0x369028['skipMeshes']&&((_0x14b479=_0x69abaf==null?void(0x5c3+-0x90d+0x34a):_0x69abaf['meshes'])==null?void(0x2256+-0x21*0x8d+-0x1029):_0x14b479['length'])&&((_0x129ddd=_0x69abaf==null?void(0x2cb+0x77*0x35+-0x1b6e):_0x69abaf['accessors'])==null?void(0xd*-0x301+-0x135d+-0x1*-0x3a6a):_0x129ddd['length'])&&((_0x39207c=_0x69abaf==null?void(-0x217a+0x15c4+-0x2*-0x5db):_0x69abaf['bufferView'+'s'])==null?void(0x1*0x1eae+-0x1d*0xf1+0x5*-0xad):_0x39207c['length'])?_0x69abaf['meshes']['map'](_0x191f0b=>FD(_0x64058d,_0x191f0b,_0x69abaf['accessors'],_0x569ff0,_0x1674fe,_0x31d48f,_0x1206ec,_0x369028,_0x2b9364)):[],'meshVariants':_0x31d48f,'meshDefaultMaterials':_0x1206ec,'promises':_0x2b9364};},QD=(_0x1922fb,_0x5ec0ed,_0x4bdfed)=>{var _0x1c628e,_0x34d265,_0x16a18a;if(!_0x1922fb['hasOwnProp'+'erty']('materials')||_0x1922fb['materials']['length']===-0x5d*0x27+0x1982+-0xb57)return[];const _0x1d7fe5=(_0x1c628e=_0x4bdfed==null?void(-0x1771+0xdc9+0x9a8):_0x4bdfed['material'])==null?void(-0x25ee+-0xc*-0x301+0x1e2):_0x1c628e['preprocess'],_0x6fb7f5=((_0x34d265=_0x4bdfed==null?void(0x8c1+0x1*-0x23cc+0x1b0b):_0x4bdfed['material'])==null?void(0x1013+-0x112f*-0x1+-0x2142):_0x34d265['process'])??Lx,_0x2b6baa=(_0x16a18a=_0x4bdfed==null?void(0x2166*-0x1+-0x25f6+0x475c):_0x4bdfed['material'])==null?void(0xd57+0xd*-0x16b+-0x1*-0x518):_0x16a18a['postproces'+'s'];return _0x1922fb['materials']['map'](_0xc37def=>{_0x1d7fe5&&_0x1d7fe5(_0xc37def);const _0x43a372=_0x6fb7f5(_0xc37def,_0x5ec0ed);return _0x2b6baa&&_0x2b6baa(_0xc37def,_0x43a372),_0x43a372;});},JD=_0x639357=>{if(!_0x639357['hasOwnProp'+'erty']('extensions')||!_0x639357['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x349886=_0x639357['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x5a76e7={};for(let _0x287112=0x1651+-0x1f29+0x46c*0x2;_0x287112<_0x349886['length'];_0x287112++)_0x5a76e7[_0x349886[_0x287112]['name']]=_0x287112;return _0x5a76e7;},e2=(_0x357d61,_0x3135b5,_0x5a104e,_0x3f4185)=>{var _0x2a7480,_0x2675a1;if(!_0x357d61['hasOwnProp'+'erty']('animations')||_0x357d61['animations']['length']===-0x5e6+-0x2*0x695+-0x2*-0x988)return[];const _0x26ef62=(_0x2a7480=_0x3f4185==null?void(0xea0+0x4d*-0x1d+0x1*-0x5e7):_0x3f4185['animation'])==null?void(-0x1*-0x175+0x14a3+-0x1618):_0x2a7480['preprocess'],_0x2a05f7=(_0x2675a1=_0x3f4185==null?void(-0x1f2d+0x24d5+0x1*-0x5a8):_0x3f4185['animation'])==null?void(-0x51*-0x43+-0xbdd+-0x956):_0x2675a1['postproces'+'s'];return _0x357d61['animations']['map']((_0x502bab,_0x163d94)=>{_0x26ef62&&_0x26ef62(_0x502bab);const _0x3eeb6b=qD(_0x502bab,_0x163d94,_0x357d61['accessors'],_0x5a104e,_0x3135b5,_0x357d61['meshes'],_0x357d61['nodes']);return _0x2a05f7&&_0x2a05f7(_0x502bab,_0x3eeb6b),_0x3eeb6b;});},t2=(_0x2fea08,_0xe4c077,_0x17edf8,_0x408252)=>{const _0x2eb67d=_0xe4c077['accessors'];_0x17edf8['forEach']((_0x53f61b,_0x315fe1)=>{const _0x3b9a37=_0x53f61b['ext']['attributes'];let _0x4e2c18;if(_0x3b9a37['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x42ae35=_0x2eb67d[_0x3b9a37['TRANSLATIO'+'N']];_0x4e2c18=ga(_0x42ae35,_0x408252);}let _0x51bd74;if(_0x3b9a37['hasOwnProp'+'erty']('ROTATION')){const _0x2d76a3=_0x2eb67d[_0x3b9a37['ROTATION']];_0x51bd74=ga(_0x2d76a3,_0x408252);}let _0x584e18;if(_0x3b9a37['hasOwnProp'+'erty']('SCALE')){const _0x1006c9=_0x2eb67d[_0x3b9a37['SCALE']];_0x584e18=ga(_0x1006c9,_0x408252);}const _0x2ec9e0=(_0x4e2c18?_0x4e2c18['length']/(-0x5b*0x1+-0x18b*0x5+0x815):-0x1*-0x9d7+0x3e9+0x160*-0xa)||(_0x51bd74?_0x51bd74['length']/(-0x9fa+-0x22c7*-0x1+-0x18c9):0xa*-0x1df+-0x17be*0x1+0x2a74)||(_0x584e18?_0x584e18['length']/(0x1fb3*0x1+0xcdc*0x1+-0x2c8c):0x8*-0x443+-0x835+0x2a4d);if(_0x2ec9e0){const _0x56aa87=new Float32Array(_0x2ec9e0*(-0x34a*-0x8+-0xd7e+-0x2*0x661)),_0x5c5067=new A(),_0x445f2f=new ie(),_0x41d5d9=new A(-0xb*-0x1e9+-0x1426*-0x1+0x6*-0x6dc,-0x4*-0x358+-0x1*0x71b+-0x644,-0x880*0x4+0xb9d*-0x2+0x393b),_0x45a4c3=new q();let _0x293c40=0xe2b+0xb*0x2bd+-0x2c4a;for(let _0x73e7f8=0x22f+-0xb85+0x956;_0x73e7f8<_0x2ec9e0;_0x73e7f8++){const _0x49f33d=_0x73e7f8*(0x3a3*-0x2+-0xc71+0x13ba);if(_0x4e2c18&&_0x5c5067['set'](_0x4e2c18[_0x49f33d],_0x4e2c18[_0x49f33d+(-0x209a+0x46b+0x1c30)],_0x4e2c18[_0x49f33d+(-0x116d*0x2+0x1*0x43d+0x1e9f)]),_0x51bd74){const _0x421990=_0x73e7f8*(0x1*-0x9b7+-0x1f05+-0x1*-0x28c0);_0x445f2f['set'](_0x51bd74[_0x421990],_0x51bd74[_0x421990+(0x2b*0x21+0x260c+-0x2b96)],_0x51bd74[_0x421990+(-0xbaf+0xd*0x197+-0x6*0x17f)],_0x51bd74[_0x421990+(-0xa6a+0x3*-0x8f5+0x254c)]);}_0x584e18&&_0x41d5d9['set'](_0x584e18[_0x49f33d],_0x584e18[_0x49f33d+(-0x21cf+0x232c+-0x15c)],_0x584e18[_0x49f33d+(-0x3*0xafb+0x967*0x1+0x178c)]),_0x45a4c3['setTRS'](_0x5c5067,_0x445f2f,_0x41d5d9);for(let _0x13fbd4=0x8*0x25c+0x27c*-0x9+-0x1*-0x37c;_0x13fbd4<-0x122f+0xf23*-0x1+0x2162;_0x13fbd4++)_0x56aa87[_0x293c40++]=_0x45a4c3['data'][_0x13fbd4];}_0x53f61b['matrices']=_0x56aa87;}});},s2=(_0x2b1d65,_0xa808d,_0x46f408)=>{var _0x405d12,_0x2d17a6,_0x5ba366;if(!_0x2b1d65['hasOwnProp'+'erty']('nodes')||_0x2b1d65['nodes']['length']===0xa6f+0x3*-0x48f+0x33e)return[];const _0x411afd=(_0x405d12=_0xa808d==null?void(-0x3*-0x5e1+-0x5d*-0x28+-0x393*0x9):_0xa808d['node'])==null?void(0xbca+0x1ddb+0x29a5*-0x1):_0x405d12['preprocess'],_0x1a3029=((_0x2d17a6=_0xa808d==null?void(-0x353*0x1+-0x1a79+0xee6*0x2):_0xa808d['node'])==null?void(0x5f*-0x33+-0x1de7+0x30d4):_0x2d17a6['process'])??XD,_0x1c49fe=(_0x5ba366=_0xa808d==null?void(-0x33e+-0x1*0x2090+0x1*0x23ce):_0xa808d['node'])==null?void(-0x11*-0x3e+0x18e7+0x1d05*-0x1):_0x5ba366['postproces'+'s'],_0x39bc15=_0x2b1d65['nodes']['map']((_0x504fd2,_0x28b01f)=>{_0x411afd&&_0x411afd(_0x504fd2);const _0x836e0b=_0x1a3029(_0x504fd2,_0x28b01f,_0x46f408);return _0x1c49fe&&_0x1c49fe(_0x504fd2,_0x836e0b),_0x836e0b;});for(let _0x3a93d1=-0x4*-0x404+-0x2*0xa49+0x2*0x241;_0x3a93d1<_0x2b1d65['nodes']['length'];++_0x3a93d1){const _0x8ce22b=_0x2b1d65['nodes'][_0x3a93d1];if(_0x8ce22b['hasOwnProp'+'erty']('children')){const _0x5df94d=_0x39bc15[_0x3a93d1],_0x14e18f={};for(let _0x43a449=0x17e1*0x1+-0x1*0x95c+-0xe85;_0x43a449<_0x8ce22b['children']['length'];++_0x43a449){const _0x180179=_0x39bc15[_0x8ce22b['children'][_0x43a449]];_0x180179['parent']||(_0x14e18f['hasOwnProp'+'erty'](_0x180179['name'])?_0x180179['name']+=_0x14e18f[_0x180179['name']]++:_0x14e18f[_0x180179['name']]=0x2*0xe09+-0xeda+-0xc7*0x11,_0x5df94d['addChild'](_0x180179));}}}return _0x39bc15;},i2=(_0x14b1d3,_0x9d799e)=>{var _0x43cbb1;const _0x2aead3=[],_0x2c3e77=_0x14b1d3['scenes']['length'];if(_0x2c3e77===-0x1336+0x1567+-0x8*0x46&&((_0x43cbb1=_0x14b1d3['scenes'][-0x1fec+0x13aa+0xc42]['nodes'])==null?void(-0x6*-0x2c+0x5b0+-0xac*0xa):_0x43cbb1['length'])===0xab5+0x514+0xfc8*-0x1){const _0x46c506=_0x14b1d3['scenes'][0xa81*0x1+-0x4*0x981+0x1b83]['nodes'][0x1770+-0x838+-0xf38];_0x2aead3['push'](_0x9d799e[_0x46c506]);}else for(let _0x5c66b8=-0x1ad2*0x1+0x177a+0x358;_0x5c66b8<_0x2c3e77;_0x5c66b8++){const _0x23e3a4=_0x14b1d3['scenes'][_0x5c66b8];if(_0x23e3a4['nodes']){const _0x2db8b2=new Oe(_0x23e3a4['name']);for(let _0x25ba2d=0x1a38+-0x1df*-0xb+-0x2ecd;_0x25ba2d<_0x23e3a4['nodes']['length'];_0x25ba2d++){const _0x251611=_0x9d799e[_0x23e3a4['nodes'][_0x25ba2d]];_0x2db8b2['addChild'](_0x251611);}_0x2aead3['push'](_0x2db8b2);}}return _0x2aead3;},r2=(_0x397324,_0x5d6a55,_0x4c3d07)=>{var _0x1b5a1e,_0x3814b8,_0x2f270d;let _0x570933=null;if(_0x397324['hasOwnProp'+'erty']('nodes')&&_0x397324['hasOwnProp'+'erty']('cameras')&&_0x397324['cameras']['length']>-0xd44*-0x1+-0x160a+0x2*0x463){const _0x123cd5=(_0x1b5a1e=_0x4c3d07==null?void(0x2420+0x73*0x13+-0x2ca9):_0x4c3d07['camera'])==null?void(0x837*0x3+-0x3*-0x881+0x2*-0x1914):_0x1b5a1e['preprocess'],_0x26b6b3=((_0x3814b8=_0x4c3d07==null?void(0x8d*-0x16+-0x485+0x10a3*0x1):_0x4c3d07['camera'])==null?void(0x16cc+-0x1*0x15f3+0xd9*-0x1):_0x3814b8['process'])??jD,_0x153335=(_0x2f270d=_0x4c3d07==null?void(0x2353+-0x1875+-0xade):_0x4c3d07['camera'])==null?void(-0x3*-0x1f+0xbb*-0x3+0x1d4):_0x2f270d['postproces'+'s'];_0x397324['nodes']['forEach']((_0x103e9d,_0x4d6086)=>{if(_0x103e9d['hasOwnProp'+'erty']('camera')){const _0x4b56de=_0x397324['cameras'][_0x103e9d['camera']];if(_0x4b56de){_0x123cd5&&_0x123cd5(_0x4b56de);const _0xd3bb21=_0x26b6b3(_0x4b56de,_0x5d6a55[_0x4d6086]);_0x153335&&_0x153335(_0x4b56de,_0xd3bb21),_0xd3bb21&&(_0x570933||(_0x570933=new Map()),_0x570933['set'](_0x103e9d,_0xd3bb21));}}});}return _0x570933;},n2=(_0x3d1c81,_0x4d440f,_0x35c0d1)=>{var _0x530c84,_0x52a606,_0x57c196;let _0xb5b346=null;if(_0x3d1c81['hasOwnProp'+'erty']('nodes')&&_0x3d1c81['hasOwnProp'+'erty']('extensions')&&_0x3d1c81['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x3d1c81['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x24ea8a=_0x3d1c81['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x24ea8a['length']){const _0x27bf16=(_0x530c84=_0x35c0d1==null?void(-0x121e+-0x9b+0x12b9):_0x35c0d1['light'])==null?void(-0x2393+0x513*-0x5+0x3cf2):_0x530c84['preprocess'],_0x564626=((_0x52a606=_0x35c0d1==null?void(-0x1*0x1db1+0x1b4*-0x1+0x1f65):_0x35c0d1['light'])==null?void(0x22a8+-0xd*0x1f6+0x8a*-0x11):_0x52a606['process'])??YD,_0x581cac=(_0x57c196=_0x35c0d1==null?void(-0x63d*-0x2+-0x2495+-0xbb*-0x21):_0x35c0d1['light'])==null?void(0x1e76+0x18db*0x1+0x11*-0x341):_0x57c196['postproces'+'s'];_0x3d1c81['nodes']['forEach']((_0x275df9,_0x391c2e)=>{if(_0x275df9['hasOwnProp'+'erty']('extensions')&&_0x275df9['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x275df9['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x268922=_0x275df9['extensions']['KHR_lights'+'_punctual']['light'],_0x14d4a8=_0x24ea8a[_0x268922];if(_0x14d4a8){_0x27bf16&&_0x27bf16(_0x14d4a8);const _0x37c46c=_0x564626(_0x14d4a8,_0x4d440f[_0x391c2e]);_0x581cac&&_0x581cac(_0x14d4a8,_0x37c46c),_0x37c46c&&(_0xb5b346||(_0xb5b346=new Map()),_0xb5b346['set'](_0x275df9,_0x37c46c));}}});}}return _0xb5b346;},a2=(_0x308156,_0x4847a5,_0x374778)=>{_0x308156['nodes']['forEach'](_0xfd1aa6=>{_0xfd1aa6['hasOwnProp'+'erty']('mesh')&&_0xfd1aa6['hasOwnProp'+'erty']('skin')&&_0x4847a5[_0xfd1aa6['mesh']]['meshes']['forEach'](_0x3bdd2b=>{_0x3bdd2b['skin']=_0x374778[_0xfd1aa6['skin']];});});},o2=async(_0x502900,_0x48e2d2,_0x1b084c,_0x2731ea,_0xf472bd)=>{var _0x3dee0a,_0x3cc337;const _0x5d33c3=(_0x3dee0a=_0xf472bd==null?void(-0x113a+0x87b+0x1*0x8bf):_0xf472bd['global'])==null?void(0x1d28+-0x22f7+0x5cf):_0x3dee0a['preprocess'],_0x1a41df=(_0x3cc337=_0xf472bd==null?void(-0x13*-0xa3+-0x5b0+-0x669):_0xf472bd['global'])==null?void(-0x1f77+-0x1cda+0x3c51):_0x3cc337['postproces'+'s'];_0x5d33c3&&_0x5d33c3(_0x48e2d2),_0x48e2d2['asset']&&_0x48e2d2['asset']['generator']==='PlayCanvas'&&b['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x301d09=new Map(),_0x4cb831=s2(_0x48e2d2,_0xf472bd,_0x301d09),_0x2df499=i2(_0x48e2d2,_0x4cb831),_0x3675c7=n2(_0x48e2d2,_0x4cb831,_0xf472bd),_0x43ab49=r2(_0x48e2d2,_0x4cb831,_0xf472bd),_0x13597b=JD(_0x48e2d2),_0x517df6=await Promise['all'](_0x1b084c),{meshes:_0x63eead,meshVariants:_0x4f44e1,meshDefaultMaterials:_0x1e28a4,promises:_0x32102a}=ZD(_0x502900,_0x48e2d2,_0x517df6,_0xf472bd),_0x52c7e1=e2(_0x48e2d2,_0x4cb831,_0x517df6,_0xf472bd);t2(_0x502900,_0x48e2d2,_0x301d09,_0x517df6);const _0x5d94d8=await Promise['all'](_0x2731ea),_0x536815=_0x5d94d8['map'](_0x4caae3=>_0x4caae3['resource']),_0x312324=QD(_0x48e2d2,_0x536815,_0xf472bd),_0x125ebd=KD(_0x502900,_0x48e2d2,_0x4cb831,_0x517df6),_0x187a5b=[];for(let _0xb7c5e9=-0x1ea0*0x1+-0xb95+-0x2a35*-0x1;_0xb7c5e9<_0x63eead['length'];_0xb7c5e9++)_0x187a5b[_0xb7c5e9]=new Xp(),_0x187a5b[_0xb7c5e9]['meshes']=_0x63eead[_0xb7c5e9];a2(_0x48e2d2,_0x187a5b,_0x125ebd);const _0x569f9b=new vD();return _0x569f9b['gltf']=_0x48e2d2,_0x569f9b['nodes']=_0x4cb831,_0x569f9b['scenes']=_0x2df499,_0x569f9b['animations']=_0x52c7e1,_0x569f9b['textures']=_0x5d94d8,_0x569f9b['materials']=_0x312324,_0x569f9b['variants']=_0x13597b,_0x569f9b['meshVarian'+'ts']=_0x4f44e1,_0x569f9b['meshDefaul'+'tMaterials']=_0x1e28a4,_0x569f9b['renders']=_0x187a5b,_0x569f9b['skins']=_0x125ebd,_0x569f9b['lights']=_0x3675c7,_0x569f9b['cameras']=_0x43ab49,_0x569f9b['nodeInstan'+'cingMap']=_0x301d09,_0x1a41df&&_0x1a41df(_0x48e2d2,_0x569f9b),await Promise['all'](_0x32102a),_0x569f9b;},l2=(_0x11903f,_0x408a82)=>{const _0x32aceb=(_0x577715,_0x5f3054)=>{switch(_0x577715){case-0x28d5*0x1+-0x4349+0x921e:return fe;case-0x17f7+-0x1103+0x1*0x4efb:return at;case 0x925*0x1+0x6dd*0x5+0x23b*-0x2:return yc;case-0x1ea9+0x8e*-0x17+-0xd3*-0x64:return Sc;case 0x44c0+-0x29*-0x12d+-0x5*0xf97:return xc;case 0x8*-0x64b+0xbaa+0x4db1:return an;default:return _0x5f3054;}},_0x5d4a06=(_0x5e3952,_0x2eab45)=>{switch(_0x5e3952){case 0xf523+-0x1*-0x92ab+-0x1069f:return oe;case 0xdf*0xef+-0x6b*0x109+0x2202:return zf;case 0x480e*-0x1+0x18ec+0x5823:return nt;default:return _0x2eab45;}};_0x11903f&&(_0x408a82=_0x408a82??{},_0x11903f['minFilter']=_0x32aceb(_0x408a82['minFilter'],an),_0x11903f['magFilter']=_0x32aceb(_0x408a82['magFilter'],at),_0x11903f['addressU']=_0x5d4a06(_0x408a82['wrapS'],nt),_0x11903f['addressV']=_0x5d4a06(_0x408a82['wrapT'],nt));};let h2=-0x17*-0xde+0x2244+-0x3636;const Af=_0x3d34dd=>{var _0x2ec2da,_0x162aaa,_0x92d3a6,_0x2af797;return((_0x162aaa=(_0x2ec2da=_0x3d34dd['extensions'])==null?void(-0x2593+-0x1*0x26de+-0x3*-0x197b):_0x2ec2da['KHR_textur'+'e_basisu'])==null?void(0x2409+0x496*0x3+0x3*-0x1099):_0x162aaa['source'])??((_0x2af797=(_0x92d3a6=_0x3d34dd['extensions'])==null?void(0x2d*-0x25+0x2412+-0x1d91):_0x92d3a6['EXT_textur'+'e_webp'])==null?void(-0x1*-0x7e3+-0x2037+0x1854*0x1):_0x2af797['source'])??_0x3d34dd['source'];},c2=(_0xa35f97,_0x91e640,_0x2556db,_0x2d35ec,_0x3655d5)=>{var _0x1ff882,_0x531d6f,_0x1864d3;if(!_0xa35f97['images']||_0xa35f97['images']['length']===0x1*-0x65b+-0x6d8+0xd33)return[];const _0xcd69e9=(_0x1ff882=_0x3655d5==null?void(0x3d*0x2+-0x6*-0x55d+-0x20a8):_0x3655d5['image'])==null?void(-0x7c6+0x64e+0x4*0x5e):_0x1ff882['preprocess'],_0x40db2c=(_0x531d6f=_0x3655d5==null?void(-0x7*-0x331+0x1fc8+-0x361f):_0x3655d5['image'])==null?void(0x1abc+0x2597+-0x4053):_0x531d6f['processAsy'+'nc'],_0x59e131=(_0x1864d3=_0x3655d5==null?void(0x1a88+-0xd87*0x2+-0x43*-0x2):_0x3655d5['image'])==null?void(-0xaae+0x1e5*0x9+-0x65f):_0x1864d3['postproces'+'s'],_0x447430={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0xdb098d=_0x576b55=>{const _0x3fec14=new Set();return _0x576b55['hasOwnProp'+'erty']('materials')&&_0x576b55['materials']['forEach'](_0x194595=>{if(_0x194595['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x1b7d50=_0x194595['pbrMetalli'+'cRoughness'];if(_0x1b7d50['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x277014=_0x576b55['textures'][_0x1b7d50['baseColorT'+'exture']['index']];_0x3fec14['add'](Af(_0x277014));}}if(_0x194595['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x46501b=_0x576b55['textures'][_0x194595['emissiveTe'+'xture']['index']];_0x3fec14['add'](Af(_0x46501b));}}),_0x3fec14;},_0x289d19=(_0x260388,_0x3419cf,_0x35d3ce,_0x5d6126,_0x138c52,_0x42f9ff)=>new Promise((_0xc2b716,_0x2cb801)=>{const _0x16e88a=_0x190c59=>{const _0x36816f=(_0x260388['name']||'gltf-textu'+'re')+'-'+h2++,_0x5302e9={'url':_0x3419cf||_0x36816f};if(_0x190c59&&(_0x5302e9['contents']=_0x190c59['slice'](-0x1*-0xa22+-0x696+-0x2*0x1c6)['buffer']),_0x5d6126){const _0x3f10c1=_0x447430[_0x5d6126];_0x3f10c1&&(_0x5302e9['filename']=_0x5302e9['url']+'.'+_0x3f10c1);}const _0x12bf78={'srgb':_0x42f9ff},_0x112eb7=new he(_0x36816f,'texture',_0x5302e9,_0x12bf78,_0x138c52);_0x112eb7['on']('load',_0x405c57=>_0xc2b716(_0x405c57)),_0x112eb7['on']('error',_0x46336c=>_0x2cb801(_0x46336c)),_0x2d35ec['add'](_0x112eb7),_0x2d35ec['load'](_0x112eb7);};_0x35d3ce?_0x35d3ce['then'](_0x47b9f0=>_0x16e88a(_0x47b9f0)):_0x16e88a(null);}),_0x2c67e1=_0xdb098d(_0xa35f97);return _0xa35f97['images']['map']((_0x30c27f,_0x2033ec)=>{_0xcd69e9&&_0xcd69e9(_0x30c27f);let _0x24d161;return _0x40db2c?_0x24d161=new Promise((_0x5ce7c7,_0x1e6d1e)=>{_0x40db2c(_0x30c27f,(_0x1a07e0,_0x1c3307)=>{_0x1a07e0?_0x1e6d1e(_0x1a07e0):_0x5ce7c7(_0x1c3307);});}):_0x24d161=new Promise(_0x38f6ee=>{_0x38f6ee(null);}),_0x24d161=_0x24d161['then'](_0x4622de=>{const _0x1fd3af=_0x2c67e1['has'](_0x2033ec);return _0x4622de||(_0x30c27f['hasOwnProp'+'erty']('uri')?Ix(_0x30c27f['uri'])?_0x289d19(_0x30c27f,_0x30c27f['uri'],null,bD(_0x30c27f['uri']),null,_0x1fd3af):_0x289d19(_0x30c27f,ka['test'](_0x30c27f['uri'])?_0x30c27f['uri']:me['join'](_0x2556db,_0x30c27f['uri']),null,null,{'crossOrigin':'anonymous'},_0x1fd3af):_0x30c27f['hasOwnProp'+'erty']('bufferView')&&_0x30c27f['hasOwnProp'+'erty']('mimeType')?_0x289d19(_0x30c27f,null,_0x91e640[_0x30c27f['bufferView']],_0x30c27f['mimeType'],null,_0x1fd3af):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x2033ec)));}),_0x59e131&&(_0x24d161=_0x24d161['then'](_0x72eda6=>(_0x59e131(_0x30c27f,_0x72eda6),_0x72eda6))),_0x24d161;});},d2=(_0x4b6bd1,_0x43b055,_0x6decd9)=>{var _0x9b89ce,_0xdc168e,_0x150661,_0x533a21,_0x3e842f;if(!((_0x9b89ce=_0x4b6bd1==null?void(0x551*0x7+0x1076+0x1*-0x35ad):_0x4b6bd1['images'])!=null&&_0x9b89ce['length'])||!((_0xdc168e=_0x4b6bd1==null?void(0x2377+0x161c+-0x3993):_0x4b6bd1['textures'])!=null&&_0xdc168e['length']))return[];const _0x29f325=(_0x150661=_0x6decd9==null?void(-0x17b5+0x2525+-0xd70):_0x6decd9['texture'])==null?void(0xf36+0xbbb+0x273*-0xb):_0x150661['preprocess'],_0x590f43=(_0x533a21=_0x6decd9==null?void(0x1*0xe98+0x1927*-0x1+-0x3*-0x385):_0x6decd9['texture'])==null?void(0x2*0xa4c+0x59*0x5+-0x1655):_0x533a21['processAsy'+'nc'],_0x5f23c2=(_0x3e842f=_0x6decd9==null?void(-0x13b1*-0x1+0x1c7b+-0x302c):_0x6decd9['texture'])==null?void(-0x219*-0x2+-0x4fa*0x1+0xc8):_0x3e842f['postproces'+'s'],_0x37116a=new Set();return _0x4b6bd1['textures']['map'](_0x57d18a=>{_0x29f325&&_0x29f325(_0x57d18a);let _0x12aada;return _0x590f43?_0x12aada=new Promise((_0x455f8e,_0x9311c8)=>{_0x590f43(_0x57d18a,_0x4b6bd1['images'],(_0x226be6,_0xd21d1e)=>{_0x226be6?_0x9311c8(_0x226be6):_0x455f8e(_0xd21d1e);});}):_0x12aada=new Promise(_0x252de7=>{_0x252de7(null);}),_0x12aada=_0x12aada['then'](_0x54507a=>{_0x54507a=_0x54507a??Af(_0x57d18a);const _0x54e8e5=_0x37116a['has'](_0x54507a);return _0x37116a['add'](_0x54507a),_0x43b055[_0x54507a]['then'](_0x40bca7=>{const _0x309dcd=_0x54e8e5?PD(_0x40bca7):_0x40bca7;return l2(_0x309dcd['resource'],(_0x4b6bd1['samplers']??[])[_0x57d18a['sampler']]),_0x309dcd;});}),_0x5f23c2&&(_0x12aada=_0x12aada['then'](_0x162b00=>(_0x5f23c2(_0x57d18a,_0x162b00),_0x162b00))),_0x12aada;});},u2=(_0x5bc360,_0x3e64c1,_0x3f67e4,_0x5b9f69)=>{var _0x1723d8,_0x25986a,_0x2745e7;if(!_0x5bc360['buffers']||_0x5bc360['buffers']['length']===0x108*-0x8+-0x10c*-0xb+-0x344)return[];const _0x1f999c=(_0x1723d8=_0x5b9f69==null?void(0x17de+0xf20+-0x26fe):_0x5b9f69['buffer'])==null?void(0x3*-0x91c+0x15a5+0x61*0xf):_0x1723d8['preprocess'],_0x44d283=(_0x25986a=_0x5b9f69==null?void(0x89*0x17+0x44*-0x55+0xa45):_0x5b9f69['buffer'])==null?void(0x17df+-0x263e+0xe5f):_0x25986a['processAsy'+'nc'],_0x50f75d=(_0x2745e7=_0x5b9f69==null?void(0x7db*0x3+0x25b3+-0x51b*0xc):_0x5b9f69['buffer'])==null?void(0x11c3+0x1e33+-0x2ff6):_0x2745e7['postproces'+'s'];return _0x5bc360['buffers']['map']((_0x4a96ac,_0x55de8b)=>{_0x1f999c&&_0x1f999c(_0x4a96ac);let _0x4abc3c;return _0x44d283?_0x4abc3c=new Promise((_0x499abe,_0x1684f8)=>{_0x44d283(_0x4a96ac,(_0x2aa2ee,_0x57c363)=>{_0x2aa2ee?_0x1684f8(_0x2aa2ee):_0x499abe(_0x57c363);});}):_0x4abc3c=new Promise(_0x1415d5=>{_0x1415d5(null);}),_0x4abc3c=_0x4abc3c['then'](_0x185078=>{if(_0x185078)return _0x185078;if(_0x4a96ac['hasOwnProp'+'erty']('uri')){if(Ix(_0x4a96ac['uri'])){const _0x5e0609=atob(_0x4a96ac['uri']['split'](',')[-0x13f7+-0x2267*-0x1+-0xe6f]),_0x92a9e5=new Uint8Array(_0x5e0609['length']);for(let _0x4fc276=0x1*0x967+0x11a3+-0x1b0a;_0x4fc276<_0x5e0609['length'];_0x4fc276++)_0x92a9e5[_0x4fc276]=_0x5e0609['charCodeAt'](_0x4fc276);return _0x92a9e5;}return new Promise((_0x1cbffe,_0x3c92f8)=>{Ye['get'](ka['test'](_0x4a96ac['uri'])?_0x4a96ac['uri']:me['join'](_0x3f67e4,_0x4a96ac['uri']),{'cache':!(-0xad+0x1334+0x62d*-0x3),'responseType':'arraybuffe'+'r','retry':!(-0xb73+0x124d*0x1+-0x6d9)},(_0x42dad3,_0x5caf34)=>{_0x42dad3?_0x3c92f8(_0x42dad3):_0x1cbffe(new Uint8Array(_0x5caf34));});});}return _0x3e64c1;}),_0x50f75d&&(_0x4abc3c=_0x4abc3c['then'](_0x5a1e7f=>(_0x50f75d(_0x5bc360['buffers'][_0x55de8b],_0x5a1e7f),_0x5a1e7f))),_0x4abc3c;});},f2=(_0x531c09,_0x3e4f65)=>{const _0x4d273e=JSON['parse']((_0x39cce1=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x39cce1);let _0x26e34c='';for(let _0x50aa10=0x1a5*-0xb+-0xdb2+0x1fc9;_0x50aa10<_0x39cce1['length'];_0x50aa10++)_0x26e34c+=String['fromCharCo'+'de'](_0x39cce1[_0x50aa10]);return decodeURIComponent(escape(_0x26e34c));})(_0x531c09));if(_0x4d273e['asset']&&_0x4d273e['asset']['version']&&parseFloat(_0x4d273e['asset']['version'])<-0xf1c+-0x15d*-0x11+-0x80f){_0x3e4f65('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x4d273e['asset']['version']+'\x27.');return;}_0x3e4f65(null,_0x4d273e);},p2=(_0x3c2d21,_0xb6fa9a)=>{const _0x2d7db1=_0x3c2d21 instanceof ArrayBuffer?new DataView(_0x3c2d21):new DataView(_0x3c2d21['buffer'],_0x3c2d21['byteOffset'],_0x3c2d21['byteLength']),_0x4924cf=_0x2d7db1['getUint32'](0x1435+-0x4ec+-0xf49,!(-0x139*-0x1d+0xbf*-0x1+0x1*-0x22b6)),_0x29cf49=_0x2d7db1['getUint32'](-0x2ab*-0x9+-0x2*-0x10cf+-0x399d,!(-0xf06+-0x45d*-0x2+0x7c*0xd)),_0x45476b=_0x2d7db1['getUint32'](0x22a0+-0x1*-0xf77+-0x320f,!(-0x25e7+0x32*-0xc+0x283f));if(_0x4924cf!==0xb5f3388*0x4+-0x36aa35bc+0x4f81d403){_0xb6fa9a('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x4924cf['toString'](-0x1*0xef2+0x1673+0x3*-0x27b));return;}if(_0x29cf49!==-0x188b*0x1+0x2*-0x1013+-0xb57*-0x5){_0xb6fa9a('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x29cf49);return;}if(_0x45476b<=0x216c+0x250*-0x8+-0xeec||_0x45476b>_0x2d7db1['byteLength']){_0xb6fa9a('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x45476b);return;}const _0x58de33=[];let _0x95e8be=-0x125d*-0x1+0xea7+-0x20f8;for(;_0x95e8be<_0x45476b;){const _0x5f0f85=_0x2d7db1['getUint32'](_0x95e8be,!(-0x20d3+-0x26eb+0x17ea*0x3));_0x95e8be+_0x5f0f85+(0x391+0x1566+-0x18ef)>_0x2d7db1['byteLength']&&_0xb6fa9a('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x5f0f85);const _0x42d7a7=_0x2d7db1['getUint32'](_0x95e8be+(-0x2c5*-0x7+0xfab*0x1+0x230a*-0x1),!(0xfd0*0x2+-0x1bc+-0x1de4)),_0x2f6b00=new Uint8Array(_0x2d7db1['buffer'],_0x2d7db1['byteOffset']+_0x95e8be+(0x7c7*0x2+0x2002+0xa9*-0x48),_0x5f0f85);_0x58de33['push']({'length':_0x5f0f85,'type':_0x42d7a7,'data':_0x2f6b00}),_0x95e8be+=_0x5f0f85+(-0xb*-0x371+-0x4d8+-0x1*0x20fb);}if(_0x58de33['length']!==-0x1*0xd71+-0x1f5a+0x2ccc&&_0x58de33['length']!==0x633+0x1*0x30+-0x661){_0xb6fa9a('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x58de33[0x1*0x38b+-0xa4f+0x2*0x362]['type']!==-0x1f6eb1d*0x47+0x460eaea5+0x24eef66c*0x4){_0xb6fa9a('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x58de33[-0xca9+-0x3*-0xc51+-0x184a]['type']['toString'](0x24f5+0xe96*0x1+-0x337b));return;}if(_0x58de33['length']>0x1181+0x1*0x1322+0xc36*-0x3&&_0x58de33[0x1*-0x1d23+-0xf*-0x276+0x3e3*-0x2]['type']!==-0x72af70+0x324a25+-0x8eae8d*-0x1){_0xb6fa9a('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x58de33[-0x13a*0xd+-0x6ac+0x169f]['type']['toString'](-0xd*0x68+-0x45a+0x4d9*0x2));return;}_0xb6fa9a(null,{'gltfChunk':_0x58de33[0x3f*0x62+0x3*-0xd7+0x61*-0x39]['data'],'binaryChunk':_0x58de33['length']===-0x3cf*-0x9+0x1*0x101f+-0x3264?_0x58de33[-0x1a*0xdf+0x24a7+-0xe00]['data']:null});},m2=(_0x123295,_0x5cd913,_0x2cde17)=>{const _0x1511b7=()=>{const _0xaaec4d=new Uint8Array(_0x5cd913);return _0xaaec4d[-0x1*-0x1aab+-0x13ff+-0x6ac]===-0x1eae+0x182b+-0x2*-0x375&&_0xaaec4d[0x1780+-0x1*0x11e+-0x1661*0x1]===-0x9f4+0x1391+-0x931*0x1&&_0xaaec4d[-0x13c9+0x206a+-0xc9f]===-0x3*-0xe3+-0x1dbe+0x1b69&&_0xaaec4d[0x65*0xf+0x69a+-0x2*0x641]===0x2605*0x1+0x29*0x29+0x4*-0xb14;};_0x123295&&_0x123295['toLowerCas'+'e']()['endsWith']('.glb')||_0x1511b7()?p2(_0x5cd913,_0x2cde17):_0x2cde17(null,{'gltfChunk':_0x5cd913,'binaryChunk':null});},_2=(_0x17d875,_0x430cae,_0x4ce2a3)=>{var _0x3a0289,_0x513cd3,_0x354839,_0xc76685;const _0x2f4370=[],_0x253b2d=(_0x3a0289=_0x4ce2a3==null?void(0x1a0c+-0x146f+-0x59d*0x1):_0x4ce2a3['bufferView'])==null?void(-0x1*-0x1b19+-0x1269+-0x8b0*0x1):_0x3a0289['preprocess'],_0x402c30=(_0x513cd3=_0x4ce2a3==null?void(0x145d+-0x20e6+-0x1*-0xc89):_0x4ce2a3['bufferView'])==null?void(0x1880+-0x1*0xbe7+0x19*-0x81):_0x513cd3['processAsy'+'nc'],_0x518313=(_0x354839=_0x4ce2a3==null?void(0x6*0x237+-0x1*-0x2243+-0x2f8d):_0x4ce2a3['bufferView'])==null?void(-0x48e*-0x7+0xcf8*-0x1+0x1*-0x12ea):_0x354839['postproces'+'s'];if(!((_0xc76685=_0x17d875['bufferView'+'s'])!=null&&_0xc76685['length']))return _0x2f4370;for(let _0x14b186=-0x10*0xf4+0x129d+0x7*-0x7b;_0x14b186<_0x17d875['bufferView'+'s']['length'];++_0x14b186){const _0x24cd7a=_0x17d875['bufferView'+'s'][_0x14b186];_0x253b2d&&_0x253b2d(_0x24cd7a);let _0x43bb9e;_0x402c30?_0x43bb9e=new Promise((_0x28fee7,_0x5582dc)=>{_0x402c30(_0x24cd7a,_0x430cae,(_0x1cc442,_0x2782b4)=>{_0x1cc442?_0x5582dc(_0x1cc442):_0x28fee7(_0x2782b4);});}):_0x43bb9e=new Promise(_0x3664d7=>{_0x3664d7(null);}),_0x43bb9e=_0x43bb9e['then'](_0x4918e9=>_0x4918e9||_0x430cae[_0x24cd7a['buffer']]['then'](_0x3adc80=>new Uint8Array(_0x3adc80['buffer'],_0x3adc80['byteOffset']+(_0x24cd7a['byteOffset']||0x1f89+0x18d0+-0x3859),_0x24cd7a['byteLength']))),_0x24cd7a['hasOwnProp'+'erty']('byteStride')&&(_0x43bb9e=_0x43bb9e['then'](_0x388807=>(_0x388807['byteStride']=_0x24cd7a['byteStride'],_0x388807))),_0x518313&&(_0x43bb9e=_0x43bb9e['then'](_0x1421a6=>(_0x518313(_0x24cd7a,_0x1421a6),_0x1421a6))),_0x2f4370['push'](_0x43bb9e);}return _0x2f4370;};class ac{static['parse'](_0x2ee4aa,_0x25efa2,_0x4ecf44,_0x6ba91,_0x25f306,_0x407059,_0x13b659){m2(_0x2ee4aa,_0x4ecf44,(_0x42fdd4,_0x53f7d4)=>{if(_0x42fdd4){_0x13b659(_0x42fdd4);return;}f2(_0x53f7d4['gltfChunk'],(_0x58cc11,_0x258c25)=>{if(_0x58cc11){_0x13b659(_0x58cc11);return;}const _0x22ac04=u2(_0x258c25,_0x53f7d4['binaryChun'+'k'],_0x25efa2,_0x407059),_0x49b522=_2(_0x258c25,_0x22ac04,_0x407059),_0x5281c6=c2(_0x258c25,_0x49b522,_0x25efa2,_0x25f306,_0x407059),_0xda42c6=d2(_0x258c25,_0x5281c6,_0x407059);o2(_0x6ba91,_0x258c25,_0x49b522,_0xda42c6,_0x407059)['then'](_0x27d3eb=>_0x13b659(null,_0x27d3eb))['catch'](_0x51c04f=>_0x13b659(_0x51c04f));});});}static['createDefa'+'ultMateria'+'l'](){return Lx({'name':'defaultGlb'+'Material'},[]);}}class g2 extends Ge{constructor(_0x360d59){super(_0x360d59,'animation'),this['device']=_0x360d59['graphicsDe'+'vice'],this['assets']=_0x360d59['assets'];}['load'](_0x565472,_0x320993,_0x55c9a7){typeof _0x565472=='string'&&(_0x565472={'load':_0x565472,'original':_0x565472});const _0x4f90ad={'retry':this['maxRetries']>0x694*-0x2+-0x190f*-0x1+-0xbe7,'maxRetries':this['maxRetries']};(_0x565472['load']['startsWith']('blob:')||_0x565472['load']['startsWith']('data:'))&&(me['getExtensi'+'on'](_0x565472['original'])['toLowerCas'+'e']()==='.glb'?_0x4f90ad['responseTy'+'pe']=ps['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x4f90ad['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x565472['load'],_0x4f90ad,(_0x640603,_0x368041)=>{_0x640603?_0x320993('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x565472['original']+'\x20['+_0x640603+']'):me['getExtensi'+'on'](_0x565472['original'])['toLowerCas'+'e']()==='.glb'?ac['parse']('filename.g'+'lb','',_0x368041,this['device'],this['assets'],(_0x55c9a7==null?void(0x26b*0xd+-0x3*0xb51+0x284):_0x55c9a7['options'])??{},(_0x10a5be,_0x5447bf)=>{var _0x2f52d5;if(_0x10a5be)_0x320993(_0x10a5be);else{const _0xcc8152=_0x5447bf['animations'];if((_0x2f52d5=_0x55c9a7==null?void(-0x1a33+0x1*0x246+-0x23*-0xaf):_0x55c9a7['data'])!=null&&_0x2f52d5['events']){for(let _0x353113=0x3*-0x2d0+-0x3*0x4b9+0x169b;_0x353113<_0xcc8152['length'];_0x353113++)_0xcc8152[_0x353113]['events']=new K0(Object['values'](_0x55c9a7['data']['events']));}_0x5447bf['destroy'](),_0x320993(null,_0xcc8152);}}):_0x320993(null,this['_parseAnim'+'ationV'+_0x368041['animation']['version']](_0x368041));});}['open'](_0x48893b,_0x13b36a,_0x2c1346){return _0x13b36a;}['_parseAnim'+'ationV3'](_0x23f92b){const _0xac15d2=_0x23f92b['animation'],_0x4a4ce7=new B_();_0x4a4ce7['name']=_0xac15d2['name'],_0x4a4ce7['duration']=_0xac15d2['duration'];for(let _0x50703d=0x434+0x2474+0x28a8*-0x1;_0x50703d<_0xac15d2['nodes']['length'];_0x50703d++){const _0x296cab=new O_(),_0xa4bdb2=_0xac15d2['nodes'][_0x50703d];_0x296cab['_name']=_0xa4bdb2['name'];for(let _0x47ce82=-0x2*-0xaac+-0x2d9*0x9+0x449*0x1;_0x47ce82<_0xa4bdb2['keys']['length'];_0x47ce82++){const _0x278b05=_0xa4bdb2['keys'][_0x47ce82],_0x2b7df2=_0x278b05['time'],_0x4ce624=_0x278b05['pos'],_0x6365dc=_0x278b05['rot'],_0x18a062=_0x278b05['scale'],_0x183b32=new A(_0x4ce624[0xc82*0x3+-0x176+-0x2410],_0x4ce624[0x1e93+0x1c40+-0x3ad2],_0x4ce624[-0x1*-0x143f+-0x1d13+0x8d6]),_0x2fa303=new ie()['setFromEul'+'erAngles'](_0x6365dc[0x2*-0x131f+-0x5b5*0x3+0x375d],_0x6365dc[-0x4*-0x1d+0x7bb*-0x1+0x748],_0x6365dc[-0x1*0x7ae+0x1cf2+-0x1542]),_0x2e0112=new A(_0x18a062[-0x18d8+-0xdd*0x4+0x1c4c],_0x18a062[0x3b*0x59+-0x1f3c+0xaba*0x1],_0x18a062[0x2060*0x1+-0x222a*0x1+0x1cc]),_0x5ed105=new k_(_0x2b7df2,_0x183b32,_0x2fa303,_0x2e0112);_0x296cab['_keys']['push'](_0x5ed105);}_0x4a4ce7['addNode'](_0x296cab);}return _0x4a4ce7;}['_parseAnim'+'ationV4'](_0x2ce982){const _0x44b53c=_0x2ce982['animation'],_0x515e23=new B_();_0x515e23['name']=_0x44b53c['name'],_0x515e23['duration']=_0x44b53c['duration'];for(let _0x5b1e91=0x691*-0x3+-0x187c*0x1+0x2c2f;_0x5b1e91<_0x44b53c['nodes']['length'];_0x5b1e91++){const _0x3c3068=new O_(),_0x3cbf93=_0x44b53c['nodes'][_0x5b1e91];_0x3c3068['_name']=_0x3cbf93['name'];const _0x25bc1c=_0x3cbf93['defaults']['p'],_0x50284f=_0x3cbf93['defaults']['r'],_0x421b76=_0x3cbf93['defaults']['s'];for(let _0x430db8=0x718*0x3+0x26f*-0xe+0x1*0xcca;_0x430db8<_0x3cbf93['keys']['length'];_0x430db8++){const _0x2f4c0b=_0x3cbf93['keys'][_0x430db8],_0x195f26=_0x2f4c0b['t'],_0x535684=_0x25bc1c||_0x2f4c0b['p'],_0x24151e=_0x50284f||_0x2f4c0b['r'],_0x77472e=_0x421b76||_0x2f4c0b['s'],_0x4966a0=new A(_0x535684[0x2190+0xdb*0x13+-0x31d1],_0x535684[-0x2448+-0x2566+0x49af],_0x535684[-0x144a+-0x4*0x2e3+0x4*0x7f6]),_0x44f7d2=new ie()['setFromEul'+'erAngles'](_0x24151e[-0x1*0x1136+-0xe0b+0x1f41],_0x24151e[0x29e+-0x6*-0x13+-0x30f],_0x24151e[0x12a*0x11+-0x4f9+-0xecf]),_0x492b9e=new A(_0x77472e[0x4*0x56e+-0x156b+-0xb*0x7],_0x77472e[-0xf7f+0x1*-0x15f3+0x2573],_0x77472e[0x1*-0x11e7+-0xec+-0x1*-0x12d5]),_0x1d006b=new k_(_0x195f26,_0x4966a0,_0x44f7d2,_0x492b9e);_0x3c3068['_keys']['push'](_0x1d006b);}_0x515e23['addNode'](_0x3c3068);}return _0x515e23;}}class y2 extends Ge{constructor(_0x1d500e){super(_0x1d500e,'animclip');}['load'](_0x478e4e,_0x1d242e){typeof _0x478e4e=='string'&&(_0x478e4e={'load':_0x478e4e,'original':_0x478e4e});const _0x5daf48={'retry':this['maxRetries']>0x2*-0xea5+-0x19*0x7f+0x29b1*0x1,'maxRetries':this['maxRetries']};_0x478e4e['load']['startsWith']('blob:')&&(_0x5daf48['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x478e4e['load'],_0x5daf48,(_0x421bb4,_0x503dc2)=>{_0x421bb4?_0x1d242e('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x478e4e['original']+'\x20['+_0x421bb4+']'):_0x1d242e(null,_0x503dc2);});}['open'](_0x20afed,_0x394753){const _0x48963d=_0x394753['name'],_0x217291=_0x394753['duration'],_0x22bb73=_0x394753['inputs']['map'](_0x231ee5=>new rc(0x2*0xb26+-0x5*0x126+0xdf*-0x13,_0x231ee5)),_0x32a302=_0x394753['outputs']['map'](_0x5d3ac6=>new rc(_0x5d3ac6['components'],_0x5d3ac6['data'])),_0x224ecb=_0x394753['curves']['map'](_0x23524d=>new Rx([_0x23524d['path']],_0x23524d['inputIndex'],_0x23524d['outputInde'+'x'],_0x23524d['interpolat'+'ion']));return new ki(_0x48963d,_0x217291,_0x22bb73,_0x32a302,_0x224ecb);}}class x2 extends Ge{constructor(_0xc96b91){super(_0xc96b91,'animstateg'+'raph');}['load'](_0x4db954,_0x2b101d){typeof _0x4db954=='string'&&(_0x4db954={'load':_0x4db954,'original':_0x4db954});const _0x593412={'retry':this['maxRetries']>0xdc3+-0x3*0x17+0x9d*-0x16,'maxRetries':this['maxRetries']};_0x4db954['load']['startsWith']('blob:')&&(_0x593412['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x4db954['load'],_0x593412,(_0x7168e0,_0x1c5623)=>{_0x7168e0?_0x2b101d('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x4db954['original']+'\x20['+_0x7168e0+']'):_0x2b101d(null,_0x1c5623);});}['open'](_0x347374,_0xa8976e){return new Sh(_0xa8976e);}}const su=(function(){if(typeof window>'u')return!(0x141e+0x39*-0x97+-0x13*-0xb6);const _0x3bba15=window['navigator']['userAgent'],_0x295add=_0x3bba15['indexOf']('MSIE\x20');if(_0x295add>0x7e1+0x16be+-0x1e9f)return parseInt(_0x3bba15['substring'](_0x295add+(-0x27*-0x89+0x21d2+-0x36ac),_0x3bba15['indexOf']('.',_0x295add)),0x1e1*0x5+0x4c0*0x6+-0x25db);if(_0x3bba15['indexOf']('Trident/')>0x1e2f+0x165e+-0x348d){const _0x21ef11=_0x3bba15['indexOf']('rv:');return parseInt(_0x3bba15['substring'](_0x21ef11+(-0x1*-0x1a9e+-0x1*0xc6d+-0xe2e),_0x3bba15['indexOf']('.',_0x21ef11)),-0x5ff*0x1+0x5c9+0x40);}return!(0x31c+-0x13*-0x169+-0x1de6);}()),S2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class v2 extends Ge{constructor(_0x5c0762){super(_0x5c0762,'audio'),this['manager']=_0x5c0762['soundManag'+'er'],b['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x2b9dc6){const _0x33654d=me['getExtensi'+'on'](_0x2b9dc6);return S2['indexOf'](_0x33654d)>-(0x1*-0x7ca+0x123b*0x1+-0x2*0x538)||_0x2b9dc6['startsWith']('blob:');}['load'](_0x4bbe70,_0x2cab5b){typeof _0x4bbe70=='string'&&(_0x4bbe70={'load':_0x4bbe70,'original':_0x4bbe70});const _0x5b8a03=function(_0x4374ec){_0x2cab5b(null,new Bb(_0x4374ec));},_0x557fd5=function(_0x2be0da){let _0x23e0c5='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x4bbe70['original'];_0x2be0da&&(_0x23e0c5+=':\x20'+(_0x2be0da['message']||_0x2be0da)),console['warn'](_0x23e0c5),_0x2cab5b(_0x23e0c5);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x4bbe70['original'])){_0x557fd5('Audio\x20form'+'at\x20for\x20'+_0x4bbe70['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x4bbe70['load'],_0x5b8a03,_0x557fd5);}else _0x557fd5(null);}['_createSou'+'nd'](_0x3b099f,_0x54942a,_0x96c8fb){if(Ni()){const _0x3e943d=this['manager'];if(!_0x3e943d['context']){_0x96c8fb('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x292a93={'retry':this['maxRetries']>0x5*0x2d7+0x6*-0x6c+-0xbab*0x1,'maxRetries':this['maxRetries']};(_0x3b099f['startsWith']('blob:')||_0x3b099f['startsWith']('data:'))&&(_0x292a93['responseTy'+'pe']=ps['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),Ye['get'](_0x3b099f,_0x292a93,(_0x2a55fc,_0x1c4de5)=>{if(_0x2a55fc){_0x96c8fb(_0x2a55fc);return;}_0x3e943d['context']['decodeAudi'+'oData'](_0x1c4de5,_0x54942a,_0x96c8fb);});}else{let _0x2d666d=null;try{_0x2d666d=new Audio();}catch{_0x96c8fb('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}su&&document['body']['appendChil'+'d'](_0x2d666d);const _0x2e19cd=function(){_0x2d666d['removeEven'+'tListener']('canplaythr'+'ough',_0x2e19cd),su&&document['body']['removeChil'+'d'](_0x2d666d),_0x54942a(_0x2d666d);};_0x2d666d['onerror']=function(){_0x2d666d['onerror']=null,su&&document['body']['removeChil'+'d'](_0x2d666d),_0x96c8fb();},_0x2d666d['addEventLi'+'stener']('canplaythr'+'ough',_0x2e19cd),_0x2d666d['src']=_0x3b099f;}}}class b2 extends Ge{constructor(_0x4cd429){super(_0x4cd429,'binary');}['load'](_0x4dd21a,_0x33cf7e){typeof _0x4dd21a=='string'&&(_0x4dd21a={'load':_0x4dd21a,'original':_0x4dd21a}),Ye['get'](_0x4dd21a['load'],{'responseType':ps['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x27*-0xd1+0xfb4+-0x2f8b,'maxRetries':this['maxRetries']},(_0x4a7933,_0x527e8e)=>{_0x4a7933?_0x33cf7e('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x4dd21a['original']+'\x20['+_0x4a7933+']'):_0x33cf7e(null,_0x527e8e);});}['openBinary'](_0x4fcd3f){return _0x4fcd3f['buffer'];}}class ir{constructor(_0x251049,_0x506c61,_0x1b7bc4,_0x2ad2b8){const _0x38ca7e=function(_0x1bba3e,_0x40f805,_0x4bbe5f){const _0x5a1c84=ir['createAsse'+'t'](_0x506c61['name'],_0x1bba3e,_0x40f805,_0x4bbe5f);return _0x1b7bc4['add'](_0x5a1c84),_0x5a1c84;},_0x4b70ad=[];for(let _0x4c554b=-0x51*0x18+0x113+-0x1*-0x685;_0x4c554b<_0x251049['renders']['length'];++_0x4c554b)_0x4b70ad['push'](_0x38ca7e('render',_0x251049['renders'][_0x4c554b],_0x4c554b));const _0x2fe3fb=[];for(let _0x5b5e25=-0x20de+-0x1*-0xddb+0x1303;_0x5b5e25<_0x251049['materials']['length'];++_0x5b5e25)_0x2fe3fb['push'](_0x38ca7e('material',_0x251049['materials'][_0x5b5e25],_0x5b5e25));const _0x1b875a=[];for(let _0x3b90b5=0x2430+-0x9d6+-0xd2d*0x2;_0x3b90b5<_0x251049['animations']['length'];++_0x3b90b5)_0x1b875a['push'](_0x38ca7e('animation',_0x251049['animations'][_0x3b90b5],_0x3b90b5));this['data']=_0x251049,this['_model']=null,this['_assetName']=_0x506c61['name'],this['_assets']=_0x1b7bc4,this['_defaultMa'+'terial']=_0x2ad2b8,this['renders']=_0x4b70ad,this['materials']=_0x2fe3fb,this['textures']=_0x251049['textures'],this['animations']=_0x1b875a;}get['model'](){if(!this['_model']){const _0x110d05=ir['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x4a4883=ir['createAsse'+'t'](this['_assetName'],'model',_0x110d05,0x19fb+-0x1345*0x1+-0x6b6);this['_assets']['add'](_0x4a4883),this['_model']=_0x4a4883;}return this['_model'];}static['createAsse'+'t'](_0x23b3b2,_0x1178e3,_0x4fa656,_0x39a6b8){const _0x17e8fb=new he(_0x23b3b2+'/'+_0x1178e3+'/'+_0x39a6b8,_0x1178e3,{'url':''});return _0x17e8fb['resource']=_0x4fa656,_0x17e8fb['loaded']=!(-0x297+0x18c6+0x3*-0x765),_0x17e8fb;}['instantiat'+'eModelEnti'+'ty'](_0x5604f0){const _0x183cd7=new je();return _0x183cd7['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x5604f0)),_0x183cd7;}['instantiat'+'eRenderEnt'+'ity'](_0x346237){const _0x1aebd6=this['_defaultMa'+'terial'],_0x293898=[],_0x845788=function(_0x379fca,_0x303d99,_0x24f336,_0x22aefb,_0x1bc49c,_0x4100d1,_0x45514b,_0x569e64){const _0x3d90e5=_0x1bc49c[_0x24f336['id']],_0x41db2b=_0x3d90e5===void(-0x1a2e+0x15*-0xb9+0x295b)?_0x1aebd6:_0x22aefb[_0x3d90e5],_0x53ece7=new Be(_0x24f336,_0x41db2b);_0x24f336['morph']&&(_0x53ece7['morphInsta'+'nce']=new mn(_0x24f336['morph'])),_0x45514b['hasOwnProp'+'erty']('skin')&&_0x293898['push']({'meshInstance':_0x53ece7,'rootBone':_0x379fca,'entity':_0x303d99});const _0x481146=_0x569e64['get'](_0x45514b);if(_0x481146){const _0x13bf3a=_0x481146['matrices'],_0x41bf3d=Dt['getDefault'+'Instancing'+'Format'](_0x24f336['device']),_0x16817b=new fs(_0x24f336['device'],_0x41bf3d,_0x13bf3a['length']/(0x9a9+-0x1e01+0x1468),{'data':_0x13bf3a});_0x53ece7['setInstanc'+'ing'](_0x16817b),_0x53ece7['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x4*0x982+0x9b*-0x12+0x30ee);}return _0x53ece7;},_0x174813=(_0x3bd2cb,_0x193796,_0x39fffe)=>{const _0x28e099=new je();_0x193796['_cloneInte'+'rnal'](_0x28e099),_0x3bd2cb||(_0x3bd2cb=_0x28e099);let _0x123539=null,_0x21125a=null;for(let _0x2b5f73=-0x57e*-0x7+0x9d4*-0x1+0xe4f*-0x2;_0x2b5f73<_0x39fffe['nodes']['length'];_0x2b5f73++)if(_0x39fffe['nodes'][_0x2b5f73]===_0x193796){const _0x2c6779=_0x39fffe['gltf']['nodes'][_0x2b5f73];if(_0x2c6779['hasOwnProp'+'erty']('mesh')){const _0x286839=_0x39fffe['renders'][_0x2c6779['mesh']]['meshes'];_0x21125a=this['renders'][_0x2c6779['mesh']];for(let _0x39426f=0x2190+-0x1*-0x41b+-0x25ab;_0x39426f<_0x286839['length'];_0x39426f++){const _0x588efb=_0x286839[_0x39426f];if(_0x588efb){const _0x12ad35=_0x845788(_0x3bd2cb,_0x28e099,_0x588efb,_0x39fffe['materials'],_0x39fffe['meshDefaul'+'tMaterials'],_0x39fffe['skins'],_0x2c6779,_0x39fffe['nodeInstan'+'cingMap']);_0x123539||(_0x123539=[]),_0x123539['push'](_0x12ad35);}}}if(_0x39fffe['lights']){const _0x3c1203=_0x39fffe['lights']['get'](_0x2c6779);_0x3c1203&&_0x28e099['addChild'](_0x3c1203['clone']());}if(_0x39fffe['cameras']){const _0x29fec0=_0x39fffe['cameras']['get'](_0x2c6779);_0x29fec0&&_0x29fec0['camera']['system']['cloneCompo'+'nent'](_0x29fec0,_0x28e099);}}_0x123539&&(_0x28e099['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x123539},_0x346237)),_0x28e099['render']['assignAsse'+'t'](_0x21125a));const _0x46313d=_0x193796['children'];for(let _0x13da55=0x2b9*-0xa+-0x7*-0x4d+0x191f;_0x13da55<_0x46313d['length'];_0x13da55++){const _0x2c9d1d=_0x174813(_0x3bd2cb,_0x46313d[_0x13da55],_0x39fffe);_0x28e099['addChild'](_0x2c9d1d);}return _0x28e099;},_0x46edb8=[];for(const _0x4c3d4b of this['data']['scenes'])_0x46edb8['push'](_0x174813(null,_0x4c3d4b,this['data']));return _0x293898['forEach'](_0x4923bd=>{_0x4923bd['meshInstan'+'ce']['skinInstan'+'ce']=$o['createCach'+'edSkinInst'+'ance'](_0x4923bd['meshInstan'+'ce']['mesh']['skin'],_0x4923bd['rootBone'],_0x4923bd['entity']),_0x4923bd['meshInstan'+'ce']['node']['render']['rootBone']=_0x4923bd['rootBone'];}),ir['createScen'+'eHierarchy'](_0x46edb8,je);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x22ec57,_0x2ed8de){const _0x43321c=_0x2ed8de?this['data']['variants'][_0x2ed8de]:null;if(_0x43321c===void(0x1d28+-0x246e*-0x1+-0x4196)){b['warn']('No\x20variant'+'\x20named\x20'+_0x2ed8de+('\x20exists\x20in'+'\x20resource'));return;}const _0x5b482e=_0x22ec57['findCompon'+'ents']('render');for(let _0x3f6637=-0x9c7+0x295*0x5+0x191*-0x2;_0x3f6637<_0x5b482e['length'];_0x3f6637++){const _0x2074b6=_0x5b482e[_0x3f6637];this['_applyMate'+'rialVarian'+'t'](_0x43321c,_0x2074b6['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x5eef9a,_0x22bc91){const _0x52d883=_0x22bc91?this['data']['variants'][_0x22bc91]:null;if(_0x52d883===void(-0xd0b+0xf2f+-0x224)){b['warn']('No\x20variant'+'\x20named\x20'+_0x22bc91+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x52d883,_0x5eef9a);}['_applyMate'+'rialVarian'+'t'](_0x105e9a,_0x3a7078){_0x3a7078['forEach'](_0x30e6ac=>{if(_0x105e9a===null)_0x30e6ac['material']=this['_defaultMa'+'terial'];else{const _0x9f6e12=this['data']['meshVarian'+'ts'][_0x30e6ac['mesh']['id']];_0x9f6e12&&(_0x30e6ac['material']=this['data']['materials'][_0x9f6e12[_0x105e9a]]);}b['assert'](_0x30e6ac['material']);});}static['createScen'+'eHierarchy'](_0xa3cfd4,_0x1f13c1){let _0x3c76c9=null;if(_0xa3cfd4['length']===-0x1*0xe9b+-0xbb*-0x13+-0xbb*-0x1)_0x3c76c9=_0xa3cfd4[0x16*0x164+0x1107+-0x49*0xa7];else{_0x3c76c9=new _0x1f13c1('SceneGroup');for(const _0x206c6f of _0xa3cfd4)_0x3c76c9['addChild'](_0x206c6f);}return _0x3c76c9;}static['createMode'+'l'](_0xcc4eee,_0x553972){const _0x4caa2a=function(_0x58c3bc,_0x3e2f24,_0x4c0167,_0xb811e8,_0x807da0,_0x1ddad2,_0x2bf36d){const _0x43f6f7=_0xcc4eee['meshDefaul'+'tMaterials'][_0x3e2f24['id']],_0x418fb0=_0x43f6f7===void(0xecf+-0x18ad+0x9de)?_0x553972:_0x807da0[_0x43f6f7],_0x27343f=new Be(_0x3e2f24,_0x418fb0,_0x1ddad2);if(_0x3e2f24['morph']){const _0x203e16=new mn(_0x3e2f24['morph']);_0x27343f['morphInsta'+'nce']=_0x203e16,_0x58c3bc['morphInsta'+'nces']['push'](_0x203e16);}if(_0x2bf36d['hasOwnProp'+'erty']('skin')){const _0x2a9036=_0x2bf36d['skin'],_0x21d4a4=_0x4c0167[_0x2a9036];_0x3e2f24['skin']=_0x21d4a4;const _0x3aed51=_0xb811e8[_0x2a9036];_0x27343f['skinInstan'+'ce']=_0x3aed51,_0x58c3bc['skinInstan'+'ces']['push'](_0x3aed51);}_0x58c3bc['meshInstan'+'ces']['push'](_0x27343f);},_0x3f97c9=new Ui(),_0x318060=[];for(const _0x2b201a of _0xcc4eee['skins']){const _0xa32dd2=new hl(_0x2b201a);_0xa32dd2['bones']=_0x2b201a['bones'],_0x318060['push'](_0xa32dd2);}_0x3f97c9['graph']=ir['createScen'+'eHierarchy'](_0xcc4eee['scenes'],Oe);for(let _0x26912d=-0x75*-0x41+-0xb*0x1a8+-0xad*0x11;_0x26912d<_0xcc4eee['nodes']['length'];_0x26912d++){const _0xc5c437=_0xcc4eee['nodes'][_0x26912d];if(_0xc5c437['root']===_0x3f97c9['graph']){const _0x1bef21=_0xcc4eee['gltf']['nodes'][_0x26912d];if(_0x1bef21['hasOwnProp'+'erty']('mesh')){const _0x3ea1b7=_0xcc4eee['renders'][_0x1bef21['mesh']]['meshes'];for(let _0x532cc8=-0x1*0xdde+-0x49d+0x629*0x3;_0x532cc8<_0x3ea1b7['length'];_0x532cc8++){const _0x29ff85=_0x3ea1b7[_0x532cc8];_0x29ff85&&_0x4caa2a(_0x3f97c9,_0x29ff85,_0xcc4eee['skins'],_0x318060,_0xcc4eee['materials'],_0xc5c437,_0x1bef21);}}}}return _0x3f97c9;}['destroy'](){const _0x411839=this['_assets'],_0xd2d9f4=function(_0x49af8){_0x411839['remove'](_0x49af8),_0x49af8['unload']();},_0x18d3c8=function(_0x1c9296){_0x1c9296['forEach'](_0x286d65=>{_0xd2d9f4(_0x286d65);});};this['animations']&&(_0x18d3c8(this['animations']),this['animations']=null),this['textures']&&(_0x18d3c8(this['textures']),this['textures']=null),this['materials']&&(_0x18d3c8(this['materials']),this['materials']=null),this['renders']&&(_0x18d3c8(this['renders']),this['renders']=null),this['_model']&&(_0xd2d9f4(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class w2{constructor(_0xf41536,_0x19d93c,_0x39ff03){this['_device']=_0xf41536,this['_assets']=_0x19d93c,this['_defaultMa'+'terial']=ac['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x39ff03;}['_getUrlWit'+'houtParams'](_0x22806c){return _0x22806c['indexOf']('?')>=-0x1*0x194e+0x4e1*0x4+0x5ca?_0x22806c['split']('?')[-0xf8e+-0x1a6d+0x29fb]:_0x22806c;}['load'](_0x4c720b,_0x6cdf25,_0x15009e){he['fetchArray'+'Buffer'](_0x4c720b['load'],(_0x2e6c84,_0x3d4399)=>{_0x2e6c84?_0x6cdf25(_0x2e6c84):ac['parse'](this['_getUrlWit'+'houtParams'](_0x4c720b['original']),me['extractPat'+'h'](_0x4c720b['load']),_0x3d4399,this['_device'],_0x15009e['registry'],_0x15009e['options'],(_0x55266e,_0x65d851)=>{_0x55266e?_0x6cdf25(_0x55266e):_0x6cdf25(null,new ir(_0x65d851,_0x15009e,this['_assets'],this['_defaultMa'+'terial']));});},_0x15009e,this['maxRetries']);}['open'](_0x554e54,_0x3b5ee6,_0x6b4113){return _0x3b5ee6;}['patch'](_0x1054db,_0x329820){}}class T2 extends Ge{constructor(_0x3dcce0){super(_0x3dcce0,'container'),this['glbContain'+'erParser']=new w2(_0x3dcce0['graphicsDe'+'vice'],_0x3dcce0['assets'],-0x1*0x403+0x31d+0x17*0xa),this['parsers']={};}set['maxRetries'](_0xe6484e){this['glbContain'+'erParser']['maxRetries']=_0xe6484e;for(const _0x4ac1b9 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x4ac1b9)&&(this['parsers'][_0x4ac1b9]['maxRetries']=_0xe6484e);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x58cb46){return _0x58cb46['indexOf']('?')>=0x3*0x826+-0x1*-0x260f+-0x3e81?_0x58cb46['split']('?')[-0x1861+0x1*-0x3d1+0x322*0x9]:_0x58cb46;}['_getParser'](_0x233e4e){const _0x410093=_0x233e4e?me['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x233e4e))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x410093]||this['glbContain'+'erParser'];}['load'](_0x3eef26,_0x216fb7,_0x145dbc){typeof _0x3eef26=='string'&&(_0x3eef26={'load':_0x3eef26,'original':_0x3eef26}),this['_getParser'](_0x3eef26['original'])['load'](_0x3eef26,_0x216fb7,_0x145dbc);}['open'](_0x4a0b84,_0x5886ee,_0x16eceb){return this['_getParser'](_0x4a0b84)['open'](_0x4a0b84,_0x5886ee,_0x16eceb);}}class A2 extends Ge{constructor(_0xce2f48){super(_0xce2f48,'css'),c(this,'decoder',null);}['load'](_0x2ab094,_0x55c063){typeof _0x2ab094=='string'&&(_0x2ab094={'load':_0x2ab094,'original':_0x2ab094}),Ye['get'](_0x2ab094['load'],{'retry':this['maxRetries']>-0x1*0x8b6+-0xba1*-0x3+0x1*-0x1a2d,'maxRetries':this['maxRetries']},(_0x5a94bf,_0x107e03)=>{_0x5a94bf?_0x55c063('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x2ab094['original']+'\x20['+_0x5a94bf+']'):_0x55c063(null,_0x107e03);});}['openBinary'](_0x323cc6){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x323cc6);}}class E2 extends Ge{constructor(_0x3d773f){super(_0x3d773f,'cubemap'),this['_device']=_0x3d773f['graphicsDe'+'vice'],this['_registry']=_0x3d773f['assets'],this['_loader']=_0x3d773f['loader'];}['load'](_0x2be902,_0x87df05,_0x188d9b){this['loadAssets'](_0x188d9b,_0x87df05);}['open'](_0x5c5fd6,_0x5a4808,_0x5091bc){return _0x5091bc?_0x5091bc['resource']:null;}['patch'](_0x36e383,_0x3eb235){this['loadAssets'](_0x36e383,(_0x1ead72,_0x5e25bb)=>{_0x1ead72&&(_0x3eb235['fire']('error',_0x36e383),_0x3eb235['fire']('error:'+_0x36e383['id'],_0x1ead72,_0x36e383),_0x36e383['fire']('error',_0x36e383));});}['getAssetId'+'s'](_0x22ae7c){const _0x2e5733=[];if(_0x2e5733[0xedb+-0x2585+0x16aa]=_0x22ae7c['file'],(_0x22ae7c['loadFaces']||!_0x22ae7c['file'])&&_0x22ae7c['data']&&_0x22ae7c['data']['textures']){for(let _0x27d4e8=0x5*0x4f5+-0x8*0x47f+0xb2f;_0x27d4e8<0xa*0xe5+-0x23fa+0x1b0e;++_0x27d4e8)_0x2e5733[_0x27d4e8+(-0x1819+0x143e+-0x4*-0xf7)]=_0x22ae7c['data']['textures'][_0x27d4e8];}else _0x2e5733[-0xe*0x5f+-0x1*-0x1ffa+-0x1ac7*0x1]=_0x2e5733[0x6f+0xda2+-0xe0f]=_0x2e5733[-0x1*0x176d+-0x1cbb+0x1*0x342b]=_0x2e5733[-0x241+0x1edf*0x1+-0x1c9a]=_0x2e5733[-0x6ec*-0x4+-0x2c*0x79+-0x1*0x6df]=_0x2e5733[-0x1aa0+-0xfb*-0x1e+-0x2c4]=null;return _0x2e5733;}['compareAss'+'etIds'](_0x5857b5,_0x2b2523){return _0x5857b5&&_0x2b2523?parseInt(_0x5857b5,-0x1*0x64d+-0x1107*-0x2+0x5*-0x58b)===_0x5857b5||typeof _0x5857b5=='string'?_0x5857b5===_0x2b2523:_0x5857b5['url']===_0x2b2523['url']:_0x5857b5!==null==(_0x2b2523!==null);}['update'](_0x225f0a,_0x3bd9ec,_0x37159c){const _0x2414c7=_0x225f0a['data']||{},_0x2f2df8=_0x225f0a['_handlerSt'+'ate']['assets'],_0x3e8749=_0x225f0a['_resources'];let _0x181fd6,_0x104145,_0x3dfedb;const _0xf01f8c=[null,null,null,null,null,null,null],_0x45d331=function(){return _0x2414c7['hasOwnProp'+'erty']('type')?_0x2414c7['type']:_0x2414c7['hasOwnProp'+'erty']('rgbm')?_0x2414c7['rgbm']?ln:Bi:null;};if(!_0x225f0a['loaded']||_0x37159c[0xdde+0x1d3d+-0x2b1b]!==_0x2f2df8[0x19e3+-0x1769+0x13d*-0x2]){if(_0x37159c[0x6a7+-0x10e6+-0x3d*-0x2b]){if(_0x181fd6=_0x37159c[-0x1*0xf83+0x686*-0x1+0x1609]['resource'],_0x181fd6['cubemap']){for(_0x3dfedb=0x3c8+-0xb2f+0x767;_0x3dfedb<0x5a1+-0x1538+-0x23b*-0x7;++_0x3dfedb)_0xf01f8c[_0x3dfedb+(-0x121d*0x1+-0x3e8+-0x1*-0x1606)]=new ce(this['_device'],{'name':_0x225f0a['name']+('_prelitCub'+'emap')+(_0x181fd6['width']>>_0x3dfedb),'cubemap':!(0x97d+0x31b+-0x1*0xc98),'type':_0x45d331()||_0x181fd6['type'],'width':_0x181fd6['width']>>_0x3dfedb,'height':_0x181fd6['height']>>_0x3dfedb,'format':_0x181fd6['format'],'levels':[_0x181fd6['_levels'][_0x3dfedb]],'addressU':oe,'addressV':oe,'mipmaps':_0x3dfedb===0x321+0xaf*-0x14+-0x1*-0xa8b});}else _0xf01f8c[-0xc59+0x55*0x2f+-0x77*0x7]=_0x181fd6;}}else _0xf01f8c[0xbc0+0x1f12+-0x2ad1]=_0x3e8749[-0x1*0x194+0x253b+-0x23a6]||null,_0xf01f8c[-0x2*-0x115+0x2f2+-0x51a]=_0x3e8749[0x2*-0xe5f+0x1d5+0x1aeb*0x1]||null,_0xf01f8c[-0xee+0x19*0x148+-0x1f17]=_0x3e8749[0x2*-0x9f5+-0x15a0+0x1*0x298d]||null,_0xf01f8c[-0x1f17+-0xc12+0x2b2d]=_0x3e8749[-0x1*-0x2054+-0xf0+-0xfb0*0x2]||null,_0xf01f8c[0xa16+-0x89*0x1f+0x2*0x343]=_0x3e8749[-0x2ad+0x2093+-0x1de1*0x1]||null,_0xf01f8c[0x1ae*-0x17+0x136a*0x2+0x1*-0x2c]=_0x3e8749[0x1b23+0xd3d*0x2+-0x3597]||null;const _0xc2e1e4=_0x37159c['slice'](-0x2145+-0x1*0xa5d+-0x2ba3*-0x1);if(!_0x225f0a['loaded']||!this['cmpArrays'](_0xc2e1e4,_0x2f2df8['slice'](-0x2294+-0x1e53+-0x7c*-0x86))){if(_0xc2e1e4['indexOf'](null)===-(-0x1248+-0x2*0x20b+0x165f*0x1)){const _0x2169fb=_0xc2e1e4['map'](_0x290db7=>_0x290db7['resource']),_0x5854d9=[];for(_0x104145=0x402*0x2+0x577*-0x1+-0x28d;_0x104145<_0x2169fb[-0x1d43*-0x1+0x2*-0xf13+0x1*0xe3]['_levels']['length'];++_0x104145)_0x5854d9['push'](_0x2169fb['map'](_0x261205=>_0x261205['_levels'][_0x104145]));const _0x1b7460=_0x2169fb[0x1*0xb27+-0x1a4c+-0x1*-0xf25]['format'],_0x4a5d0d=new ce(this['_device'],{'name':_0x225f0a['name']+'_faces','cubemap':!(0x124f+-0x15b2*0x1+0x363),'type':_0x45d331()||_0x2169fb[-0x1*-0xd7d+-0x2615+-0xc4c*-0x2]['type'],'width':_0x2169fb[-0x3f*0x49+0x4d*0x3+0x1110*0x1]['width'],'height':_0x2169fb[-0x22*-0xb1+0x1a87+0x1*-0x3209]['height'],'format':_0x1b7460===ur?Te:_0x1b7460,'mipmaps':_0x2414c7['mipmaps']??!(0x5*0x4cb+-0x1f92+0x79b*0x1),'levels':_0x5854d9,'minFilter':_0x2414c7['hasOwnProp'+'erty']('minFilter')?_0x2414c7['minFilter']:_0x2169fb[-0x362+0x174+0x1ee]['minFilter'],'magFilter':_0x2414c7['hasOwnProp'+'erty']('magFilter')?_0x2414c7['magFilter']:_0x2169fb[0xa1c+-0x1812*0x1+-0xdf6*-0x1]['magFilter'],'anisotropy':_0x2414c7['hasOwnProp'+'erty']('anisotropy')?_0x2414c7['anisotropy']:-0x1f5f+0x144e+0xb12,'addressU':oe,'addressV':oe});_0xf01f8c[-0x15c7+0x718*0x3+0x7f]=_0x4a5d0d;}}else _0xf01f8c[0x49d*-0x2+0xbc2+-0x288]=_0x3e8749[-0xf7e+-0x1*0x608+0x1586]||null;if(!this['cmpArrays'](_0xf01f8c,_0x3e8749)){for(_0x225f0a['resources']=_0xf01f8c,_0x225f0a['_handlerSt'+'ate']['assetIds']=_0x3bd9ec,_0x225f0a['_handlerSt'+'ate']['assets']=_0x37159c,_0x3dfedb=0xd7c+-0x296*-0xc+-0xe*0x32e;_0x3dfedb<_0x3e8749['length'];++_0x3dfedb)_0x3e8749[_0x3dfedb]!==null&&_0xf01f8c['indexOf'](_0x3e8749[_0x3dfedb])===-(-0x1a2b+-0x10b*-0x22+-0x94a)&&_0x3e8749[_0x3dfedb]['destroy']();}for(_0x3dfedb=-0x1262+-0x1af3+-0x41f*-0xb;_0x3dfedb<_0x2f2df8['length'];++_0x3dfedb)_0x2f2df8[_0x3dfedb]!==null&&_0x37159c['indexOf'](_0x2f2df8[_0x3dfedb])===-(0x41c+0x1ee5*-0x1+0x2*0xd65)&&_0x2f2df8[_0x3dfedb]['unload']();}['cmpArrays'](_0xec441e,_0x2c036e){if(_0xec441e['length']!==_0x2c036e['length'])return!(0x312*0x3+0xa7c+-0x13b1);for(let _0x513e19=0x1*-0x2054+-0x1c03+0x39*0x10f;_0x513e19<_0xec441e['length'];++_0x513e19)if(_0xec441e[_0x513e19]!==_0x2c036e[_0x513e19])return!(-0x25af*0x1+0x1c32*-0x1+-0x15f6*-0x3);return!(-0x78d+0xb22+0x7*-0x83);}['resolveId'](_0x2de442){const _0x1ad209=parseInt(_0x2de442,0x1*-0x1109+0x2*0x4e8+0xa9*0xb);return _0x1ad209===_0x2de442||_0x1ad209['toString']()===_0x2de442?_0x1ad209:_0x2de442;}['loadAssets'](_0x294e71,_0x11d32b){_0x294e71['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x294e71['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x43ef8a=this,_0x51785b=_0x43ef8a['getAssetId'+'s'](_0x294e71),_0x5343f8=[null,null,null,null,null,null,null],_0x5e1750=_0x294e71['_handlerSt'+'ate']['assetIds'],_0x574393=_0x294e71['_handlerSt'+'ate']['assets'],_0x5d0d0f=_0x43ef8a['_registry'];let _0x545345=0x26*-0x29+-0x22b*-0x1+0x1*0x3f2;const _0x4d5f8e=function(_0x4d4036,_0x196eb0){_0x5343f8[_0x4d4036]=_0x196eb0,_0x545345--,_0x545345===0x16e1+-0xf20+0x5*-0x18d&&(_0x43ef8a['update'](_0x294e71,_0x51785b,_0x5343f8),_0x11d32b(null,_0x294e71['resources']));},_0x199e95=function(_0x4ca4bd,_0x3b1afe,_0x4e06f0){_0x11d32b(_0x3b1afe);},_0xfe5e58=function(_0x14658c,_0x539ec3){_0x539ec3['loaded']?_0x4d5f8e(_0x14658c,_0x539ec3):(_0x5d0d0f['once']('load:'+_0x539ec3['id'],_0x4d5f8e['bind'](_0x43ef8a,_0x14658c)),_0x5d0d0f['once']('error:'+_0x539ec3['id'],_0x199e95['bind'](_0x43ef8a,_0x14658c)),_0x539ec3['loading']||_0x5d0d0f['load'](_0x539ec3));};let _0x40e1b1;for(let _0x468856=0x10*-0x241+0xbd7+0x35*0x75;_0x468856<0x1188+-0x1166+-0x1b;++_0x468856){const _0x4e0605=this['resolveId'](_0x51785b[_0x468856]);if(!_0x4e0605)_0x4d5f8e(_0x468856,null);else{if(_0x43ef8a['compareAss'+'etIds'](_0x4e0605,_0x5e1750[_0x468856]))_0xfe5e58(_0x468856,_0x574393[_0x468856]);else{if(parseInt(_0x4e0605,-0x16fd+0x1895+-0x18e)===_0x4e0605)_0x40e1b1=_0x5d0d0f['get'](_0x4e0605),_0x40e1b1?_0xfe5e58(_0x468856,_0x40e1b1):setTimeout(((_0x5905a2,_0x2c047c)=>{const _0x247b7c=_0x5d0d0f['get'](_0x2c047c);_0x247b7c?_0xfe5e58(_0x5905a2,_0x247b7c):_0x199e95(_0x5905a2,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x2c047c);})['bind'](null,_0x468856,_0x4e0605));else{const _0x539c1e=typeof _0x4e0605=='string'?{'url':_0x4e0605,'filename':_0x4e0605}:_0x4e0605,_0x58d31f=_0x539c1e['url']['search']('.dds')===-(0x528+0x3*0xcb0+-0x2b37)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x1*-0x2239+0x68*-0x43+0x79*0x82)}:null;_0x40e1b1=new he(_0x294e71['name']+'_part_'+_0x468856,'texture',_0x539c1e,_0x58d31f),_0x5d0d0f['add'](_0x40e1b1),_0xfe5e58(_0x468856,_0x40e1b1);}}}}}}class C2 extends Ge{constructor(_0x3701a2){super(_0x3701a2,'folder');}['load'](_0x18852f,_0x121651){_0x121651(null,null);}}class zg{constructor(_0x5c5693,_0x1a700b){this['type']=_0x1a700b&&_0x1a700b['type']||tc,this['em']=-0x1246*0x1+0x1716+0x1*-0x4cf,this['textures']=_0x5c5693,this['intensity']=-0xea2+-0x6ee+0x1590,this['_data']=null,this['data']=_0x1a700b;}set['data'](_0x4dd48c){if(this['_data']=_0x4dd48c,!!_0x4dd48c&&(this['_data']['intensity']!==void(0xfa2+-0x2538+-0x2*-0xacb)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0x8b3*-0x1+-0xac6+0x1*0x215)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x468a70 in this['_data']['chars'])this['_data']['chars'][_0x468a70]['map']=-0x2207*-0x1+0x241c*-0x1+0x215;}}get['data'](){return this['_data'];}}function iu(_0x488a60){return _0x488a60['version']<0x2552+-0x135d*-0x1+-0x117*0x34&&(_0x488a60['version']<-0x1*0x2296+0x527*-0x7+-0x46a9*-0x1&&(_0x488a60['info']['maps']=_0x488a60['info']['maps']||[{'width':_0x488a60['info']['width'],'height':_0x488a60['info']['height']}]),_0x488a60['chars']=Object['keys'](_0x488a60['chars']||{})['reduce']((_0x383794,_0xd27d0e)=>{const _0x363bc9=_0x488a60['chars'][_0xd27d0e],_0x3f03ef=_0x363bc9['letter']!==void(0x2516+0x1*0x1379+-0x388f)?_0x363bc9['letter']:dh['fromCodePo'+'int'](_0xd27d0e);return _0x488a60['version']<0x1314+-0x1453+0x3*0x6b&&(_0x363bc9['map']=_0x363bc9['map']||-0x9d9+0x115*-0xd+-0xbf5*-0x2),_0x383794[_0x3f03ef]=_0x363bc9,_0x383794;},{}),_0x488a60['version']=0x1b71+0x4ce+-0x203c),_0x488a60;}class M2 extends Ge{constructor(_0x5d6ee8){super(_0x5d6ee8,'font'),this['_loader']=_0x5d6ee8['loader'],this['maxRetries']=-0x45+-0x11*0x139+-0x2*-0xa87;}['load'](_0x3c8ef7,_0x4028ef,_0x39ed31){typeof _0x3c8ef7=='string'&&(_0x3c8ef7={'load':_0x3c8ef7,'original':_0x3c8ef7});const _0x3554fd=this;me['getExtensi'+'on'](_0x3c8ef7['original'])==='.json'?Ye['get'](_0x3c8ef7['load'],{'retry':this['maxRetries']>0x3bd+-0xa23+0x666,'maxRetries':this['maxRetries']},(_0x542446,_0x32fea0)=>{if(_0x542446)_0x4028ef('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x3c8ef7['original']+'\x20['+_0x542446+']');else{const _0x4e7c8a=iu(_0x32fea0);_0x3554fd['_loadTextu'+'res'](_0x3c8ef7['load']['replace']('.json','.png'),_0x4e7c8a,(_0x3514cb,_0xc6439b)=>{_0x3514cb?_0x4028ef(_0x3514cb):_0x4028ef(null,{'data':_0x4e7c8a,'textures':_0xc6439b});});}}):(_0x39ed31&&_0x39ed31['data']&&(_0x39ed31['data']=iu(_0x39ed31['data'])),this['_loadTextu'+'res'](_0x3c8ef7['load'],_0x39ed31&&_0x39ed31['data'],_0x4028ef));}['_loadTextu'+'res'](_0xcb6ac9,_0x1c2c89,_0x233876){const _0x5287a8=_0x1c2c89['info']['maps']['length'];let _0x3f6320=-0x24b*-0x5+0x20ff*0x1+-0x2c76,_0x485de0=null;const _0x4a760c=new Array(_0x5287a8),_0x4db835=this['_loader'],_0x4d88ca=function(_0x4f14e2){const _0x1d598b=function(_0x3e2ed1,_0x46b227){if(!_0x485de0){if(_0x3e2ed1){_0x485de0=_0x3e2ed1,_0x233876(_0x3e2ed1);return;}_0x46b227['upload'](),_0x4a760c[_0x4f14e2]=_0x46b227,_0x3f6320++,_0x3f6320===_0x5287a8&&_0x233876(null,_0x4a760c);}};_0x4f14e2===-0x2*0x847+-0x17e8+-0x2*-0x143b?_0x4db835['load'](_0xcb6ac9,'texture',_0x1d598b):_0x4db835['load'](_0xcb6ac9['replace']('.png',_0x4f14e2+'.png'),'texture',_0x1d598b);};for(let _0x2c8f99=-0xa75+0x1b76+0x3*-0x5ab;_0x2c8f99<_0x5287a8;_0x2c8f99++)_0x4d88ca(_0x2c8f99);}['open'](_0x5b6105,_0x153811,_0x49077a){let _0x48f4bd;return _0x153811['textures']?_0x48f4bd=new zg(_0x153811['textures'],_0x153811['data']):_0x48f4bd=new zg(_0x153811,null),_0x48f4bd;}['patch'](_0x35ea39,_0x7686aa){const _0x13d7bf=_0x35ea39['resource'];!_0x13d7bf['data']&&_0x35ea39['data']?_0x13d7bf['data']=_0x35ea39['data']:!_0x35ea39['data']&&_0x13d7bf['data']&&(_0x35ea39['data']=_0x13d7bf['data']),_0x35ea39['data']&&(_0x35ea39['data']=iu(_0x35ea39['data']));}}async function P2(){const _0x31dd3b=-0x1c5*-0x11+-0x1*0x24da+0x1*0x6c5+0.28209479177387814;class _0x4137d0{constructor(_0x209cc7,_0x52a36b,_0x1a1017){this['x']=_0x209cc7,this['y']=_0x52a36b,this['z']=_0x1a1017;}}class _0x37af5a{constructor(_0x1b111f,_0x43e410,_0x35a36e,_0x448730){this['x']=_0x1b111f,this['y']=_0x43e410,this['z']=_0x35a36e,this['w']=_0x448730;}}class _0x55127a{constructor(_0x45e80d,_0x452bc4,_0x5d8fad,_0x1375bf){this['x']=_0x45e80d,this['y']=_0x452bc4,this['z']=_0x5d8fad,this['w']=_0x1375bf;}['set'](_0x469b33,_0xdecc7b,_0x46f4d3,_0x4d02e5){this['x']=_0x469b33,this['y']=_0xdecc7b,this['z']=_0x46f4d3,this['w']=_0x4d02e5;}}class _0x23f7b9{constructor(_0x2b914b,_0x8159cb,_0x5e9f03,_0x53906b,_0x267c8f,_0x25f24a,_0x362c15,_0x184078,_0x76bbf3,_0x5b7cce,_0x3877e3,_0x49adb3){const _0x239dcf=(_0x405819,_0x3434a5)=>{const _0x1c12c8=(0x13*0x18+0x2264+-0x242b<<_0x3434a5)-(-0x5*0x20e+0x2*0x12b3+-0x1b1f);return(_0x405819&_0x1c12c8)/_0x1c12c8;},_0xcdf55d=(_0x444802,_0x4831d1)=>{_0x444802['x']=_0x239dcf(_0x4831d1>>>-0x1*-0x541+-0x146f+0xf43,-0x15e7+0x1*-0x21dd+-0x7f9*-0x7),_0x444802['y']=_0x239dcf(_0x4831d1>>>0x1*-0x2593+-0x1d06+0x42a4,0xc65+-0x2668+0x1a0d),_0x444802['z']=_0x239dcf(_0x4831d1,-0x1ec5+-0x2269+-0x4139*-0x1);},_0x188213=(_0x3da650,_0x1f68d8)=>{_0x3da650['x']=_0x239dcf(_0x1f68d8>>>-0x1d*0x5b+0xf1*-0x7+0x10fe,-0x2*0x6d9+0x557+0x1*0x863),_0x3da650['y']=_0x239dcf(_0x1f68d8>>>-0x932*-0x1+0x18c1+0x19*-0x15b,0x151a+0x1*-0x13e2+-0x130),_0x3da650['z']=_0x239dcf(_0x1f68d8>>>-0x270e+-0x25ae+0x121*0x44,-0x1962+-0x147c+-0x1*-0x2de6),_0x3da650['w']=_0x239dcf(_0x1f68d8,0x1af9*-0x1+-0x4af+0x1fb0);},_0x5f02da=(_0x2705f1,_0x1e766b)=>{const _0x4ac65a=(0x1e96+0x25ef+-0x4484)/(Math['sqrt'](-0x1c93+-0x530+-0x85*-0x41)*(0xa1e+0x3ff*-0x2+-0x220+0.5)),_0x1d140d=(_0x239dcf(_0x1e766b>>>0x91+0x85*-0x2b+-0x1*-0x15da,-0x137b*-0x1+0x2531+-0x38a2)-(-0x6fd+0x17c1+-0x10c4+0.5))*_0x4ac65a,_0x12e36c=(_0x239dcf(_0x1e766b>>>-0x1f9+-0x1*-0x60a+-0x407,-0x19e3+0x159f+0x44e)-(0x35*-0x65+-0x4*-0x974+-0x10e7+0.5))*_0x4ac65a,_0x3e6cb0=(_0x239dcf(_0x1e766b,-0x2635+0x18*0xfa+0xecf*0x1)-(-0xae9+0x65*-0x2f+0x1d74+0.5))*_0x4ac65a,_0x570cc4=Math['sqrt'](0x1f*-0x3d+0x1*0x1b05+-0xc9*0x19-(_0x1d140d*_0x1d140d+_0x12e36c*_0x12e36c+_0x3e6cb0*_0x3e6cb0));switch(_0x1e766b>>>-0x5e8+0x20d1+-0x1*0x1acb){case-0x145a+0x1*-0x1cda+-0x2f*-0x10c:_0x2705f1['set'](_0x1d140d,_0x12e36c,_0x3e6cb0,_0x570cc4);break;case-0x180f+0x1c45+-0x435:_0x2705f1['set'](_0x570cc4,_0x12e36c,_0x3e6cb0,_0x1d140d);break;case-0x396*-0x1+-0xa84+0xde*0x8:_0x2705f1['set'](_0x12e36c,_0x570cc4,_0x3e6cb0,_0x1d140d);break;case 0x3ac+0x3*-0x3f8+0x83f:_0x2705f1['set'](_0x12e36c,_0x3e6cb0,_0x570cc4,_0x1d140d);break;}},_0x4fc5af=(_0x251eac,_0x4724c2,_0x54e661)=>_0x251eac*(-0x1*-0x3fd+-0x17e2+0x13e6-_0x54e661)+_0x4724c2*_0x54e661,_0x3795ba=[0x1b04+0x5fe+-0x20ff,-0xce3*0x3+-0x25ae+-0x39*-0x157,-0x1*0x33d+0x6*-0x97+0x6d6][_0x267c8f-(-0x53d+-0x1*-0x1168+-0xc2a)],_0x3a60d4=0xb6f*-0x1+-0x15b3+0x2128;this['read']=_0x36cc2d=>{const _0xbf06d5=Math['floor'](_0x36cc2d/(0x11e3+0xd*-0x25+0x1*-0xf02))*_0x8159cb;if(_0x25f24a&&(_0xcdf55d(_0x25f24a,_0x5e9f03[_0x36cc2d*_0x3a60d4+(0x647*0x1+0x11e9+0x30*-0x81)]),_0x25f24a['x']=_0x4fc5af(_0x2b914b[_0xbf06d5+(-0x7dc+0xfe0*0x2+-0x116*0x16)],_0x2b914b[_0xbf06d5+(0xfbc+-0x987*-0x2+-0x22c7)],_0x25f24a['x']),_0x25f24a['y']=_0x4fc5af(_0x2b914b[_0xbf06d5+(-0x1*0xfd9+0x132e+-0x354)],_0x2b914b[_0xbf06d5+(0x1*0x1d7b+0x14a5+-0xc87*0x4)],_0x25f24a['y']),_0x25f24a['z']=_0x4fc5af(_0x2b914b[_0xbf06d5+(0x2165+-0x1eb*0x6+-0x15e1)],_0x2b914b[_0xbf06d5+(0x187c+-0x3*-0x5f5+-0x2a56)],_0x25f24a['z'])),_0x362c15&&_0x5f02da(_0x362c15,_0x5e9f03[_0x36cc2d*_0x3a60d4+(0x2*0xd66+0x52*-0x5b+0x25b*0x1)]),_0x184078&&(_0xcdf55d(_0x184078,_0x5e9f03[_0x36cc2d*_0x3a60d4+(0x150e+-0x74*-0x55+-0x3b90)]),_0x184078['x']=_0x4fc5af(_0x2b914b[_0xbf06d5+(-0x1*0x1aad+-0xf68+-0x2a1b*-0x1)],_0x2b914b[_0xbf06d5+(0x9d*0x19+0x1354+0x1*-0x22a0)],_0x184078['x']),_0x184078['y']=_0x4fc5af(_0x2b914b[_0xbf06d5+(0x3*0x893+0xb3d+0x5*-0x763)],_0x2b914b[_0xbf06d5+(0x1*-0x1e3d+-0x1*-0x13ff+0xa48)],_0x184078['y']),_0x184078['z']=_0x4fc5af(_0x2b914b[_0xbf06d5+(-0x15e*0x4+-0x56*-0x26+-0x744)],_0x2b914b[_0xbf06d5+(0x1e6f*0x1+0x1*0x3d9+0x223d*-0x1)],_0x184078['z'])),_0x76bbf3&&(_0x188213(_0x76bbf3,_0x5e9f03[_0x36cc2d*_0x3a60d4+(-0x9a5*-0x1+-0x23f3+-0x1a51*-0x1)]),_0x8159cb>0xeb*-0x19+0x1*-0x11a1+0x28a0&&(_0x76bbf3['x']=_0x4fc5af(_0x2b914b[_0xbf06d5+(-0x1850+0x1*0x9f7+-0x37*-0x43)],_0x2b914b[_0xbf06d5+(-0x55a+0x1cf3*-0x1+0x225c)],_0x76bbf3['x']),_0x76bbf3['y']=_0x4fc5af(_0x2b914b[_0xbf06d5+(-0x959*0x3+0x2*0x82c+0xbc0)],_0x2b914b[_0xbf06d5+(0x1d05+0x14a3+-0xc*0x422)],_0x76bbf3['y']),_0x76bbf3['z']=_0x4fc5af(_0x2b914b[_0xbf06d5+(-0x2019+0x2*-0x3ef+0x2805)],_0x2b914b[_0xbf06d5+(0x9*0x2a+-0xc25*-0x1+-0x2*0x6c7)],_0x76bbf3['z']))),_0x5b7cce&&(_0xcdf55d(_0x5b7cce,_0x5e9f03[_0x36cc2d*_0x3a60d4+(0x394+-0x3*0xa23+0x1ad9)]),_0x5b7cce['x']=_0x4fc5af(_0x2b914b[_0xbf06d5+(-0x2d*-0x29+0x1d3*0x11+-0x1313*0x2)],_0x2b914b[_0xbf06d5+(0x1c9b+-0x2062+-0x1*-0x3dc)],_0x5b7cce['x']),_0x5b7cce['y']=_0x4fc5af(_0x2b914b[_0xbf06d5+(-0xfd6+0x1a70+-0xf5*0xb)],_0x2b914b[_0xbf06d5+(0x151e+0x12e5*-0x2+-0x37*-0x4e)],_0x5b7cce['y']),_0x5b7cce['z']=_0x4fc5af(_0x2b914b[_0xbf06d5+(0x71*0x2f+-0x10db+-0x3d0)],_0x2b914b[_0xbf06d5+(0x4*0x303+0x7e*-0x13+0x1d*-0x17)],_0x5b7cce['z'])),_0x3877e3&&(_0xcdf55d(_0x3877e3,_0x5e9f03[_0x36cc2d*_0x3a60d4+(-0xf1e+0x10d*0x2+0xd09)]),_0x3877e3['x']=_0x4fc5af(_0x2b914b[_0xbf06d5+(-0x1a0c*0x1+-0x2c7*0x3+-0x19*-0x161)],_0x2b914b[_0xbf06d5+(-0x3*0x45d+-0x1b44+-0xa1d*-0x4)],_0x3877e3['x']),_0x3877e3['y']=_0x4fc5af(_0x2b914b[_0xbf06d5+(-0x134+-0x290*-0xe+-0x2292)],_0x2b914b[_0xbf06d5+(0x64d*-0x1+0xe41+0x29*-0x31)],_0x3877e3['y'])),_0x49adb3&&_0x267c8f>0x237a+0x66*-0x45+-0x3fe*0x2){for(let _0x1fe03c=0xb09+0x359*-0x3+0xfe*-0x1;_0x1fe03c<-0x13*0x83+0x2*0x97f+-0x942;++_0x1fe03c)for(let _0x23da29=0x5*-0x6fb+-0x4*0x670+-0x1*-0x3ca7;_0x23da29<-0x2133+0x10c9+0x1079;++_0x23da29)_0x49adb3[_0x1fe03c*(-0x2*0x73+0x3b3*-0x5+0x1374)+_0x23da29]=_0x23da29<_0x3795ba?_0x53906b[(_0x36cc2d*(0x1876+0x1da5+-0x3618)+_0x1fe03c)*_0x3795ba+_0x23da29]*((0xb82+-0x2509+0x198f)/(-0x22d+-0x3*-0x164+-0x100))-(-0x10ce+-0x141+0x1213):0x1b67+0xc55*-0x1+-0xf12;}};}}self['onmessage']=async _0x4add2a=>{const {data:_0x30a8ea}=_0x4add2a;switch(_0x30a8ea['type']){case'initWorker':break;case'decompress':_0x25f53e(_0x30a8ea['numSplats'],_0x30a8ea['chunkData'],_0x30a8ea['chunkSize'],_0x30a8ea['vertexData'],_0x30a8ea['shData'],_0x30a8ea['shBands']);break;}};const _0x25f53e=(_0x545a64,_0x4b1baf,_0x5de06a,_0x4ac906,_0xd4ef21,_0x392dc2)=>{const _0x3fdc01=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x392dc2>0x240f+0x8*-0x19f+-0x1717*0x1){const _0x110116=[];for(let _0x4e82fa=0x1498+-0x1327+-0x171;_0x4e82fa<-0x159f+-0x78e*-0x1+0x2*0x71f;++_0x4e82fa)_0x110116['push']('f_rest_'+_0x4e82fa);_0x3fdc01['splice'](_0x3fdc01['indexOf']('f_dc_0')+(0x1*0x701+0x26a5*0x1+-0x2da5),-0x378*0x1+-0x2*0xd1c+0x1db0,..._0x110116);}const _0x348192={};_0x3fdc01['forEach'](_0x2745ef=>{_0x348192[_0x2745ef]=new Float32Array(_0x545a64);}),console['log']('decompress');const _0x18bd5d=new _0x4137d0(),_0x14caba=new _0x55127a(),_0x4ea729=new _0x4137d0(),_0x2779f6=new _0x37af5a(),_0x4bfd62=new _0x4137d0(),_0x21caae=new _0x4137d0(),_0x48d9da=_0x392dc2>-0x8f9+0x10ec+-0x7f3?new Float32Array(0x7*-0x2ef+-0x24a+0x1700):null,_0x37fcc6=new _0x23f7b9(_0x4b1baf,_0x5de06a,_0x4ac906,_0xd4ef21,_0x392dc2,_0x18bd5d,_0x14caba,_0x4ea729,_0x2779f6,_0x4bfd62,_0x21caae,_0x48d9da);for(let _0x5a84ec=0x158b+-0x752*0x1+0x14b*-0xb;_0x5a84ec<_0x545a64;++_0x5a84ec)if(_0x37fcc6['read'](_0x5a84ec),_0x348192['x'][_0x5a84ec]=_0x18bd5d['x'],_0x348192['y'][_0x5a84ec]=_0x18bd5d['y'],_0x348192['z'][_0x5a84ec]=_0x18bd5d['z'],_0x348192['rot_1'][_0x5a84ec]=_0x14caba['x'],_0x348192['rot_2'][_0x5a84ec]=_0x14caba['y'],_0x348192['rot_3'][_0x5a84ec]=_0x14caba['z'],_0x348192['rot_0'][_0x5a84ec]=_0x14caba['w'],_0x348192['scale_0'][_0x5a84ec]=_0x4ea729['x'],_0x348192['scale_1'][_0x5a84ec]=_0x4ea729['y'],_0x348192['scale_2'][_0x5a84ec]=_0x4ea729['z'],_0x348192['motion_0'][_0x5a84ec]=_0x4bfd62['x'],_0x348192['motion_1'][_0x5a84ec]=_0x4bfd62['y'],_0x348192['motion_2'][_0x5a84ec]=_0x4bfd62['z'],_0x348192['t_scale'][_0x5a84ec]=_0x21caae['x'],_0x348192['t'][_0x5a84ec]=_0x21caae['y'],_0x348192['f_dc_0'][_0x5a84ec]=(_0x2779f6['x']-(0xb2e+-0x112+-0xa1c+0.5))/_0x31dd3b,_0x348192['f_dc_1'][_0x5a84ec]=(_0x2779f6['y']-(0x4f*-0x65+0x23b3+-0x488+0.5))/_0x31dd3b,_0x348192['f_dc_2'][_0x5a84ec]=(_0x2779f6['z']-(-0x1*-0xefa+0x1c85*0x1+0x83*-0x55+0.5))/_0x31dd3b,_0x348192['opacity'][_0x5a84ec]=_0x2779f6['w']<=0x2*-0x2c6+-0x3f4+0x980?-(-0x204f+-0x1a86+0x3afd):_0x2779f6['w']>=-0x26bc+-0x1*0x1d48+-0x1*-0x4405?0x84f+0x18*0x15+-0xa1f*0x1:-Math['log']((0xb72+0x1e91+-0x2a02)/_0x2779f6['w']-(0x136e+0x67*0x1d+-0x638*0x5)),_0x48d9da){for(let _0x3ee12b=-0x7d9+-0xd3*0x7+-0x6cf*-0x2;_0x3ee12b<0x17f3*-0x1+0x1b4f*-0x1+0x336f;++_0x3ee12b)_0x348192['f_rest_'+_0x3ee12b][_0x5a84ec]=_0x48d9da[_0x3ee12b];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x348192});};}class R2 extends de{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+P2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x3039ac=>{if(!this['worker'])return;const {data:_0x402c20}=_0x3039ac;switch(_0x402c20['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x402c20['data']);break;}};}['decompress'](_0x28936e,_0x1e05db,_0x5ec492,_0x2ad433,_0x2c4ddf,_0x499ae2,_0x63db16){this['chunkData']=new Float32Array(_0x1e05db)['slice'](),this['vertexData']=new Uint32Array(_0x2ad433)['slice'](),this['shData']=new Uint8Array(_0x2c4ddf)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x28936e,'chunkData':this['chunkData'],'chunkSize':_0x5ec492,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x499ae2});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class I2{constructor(_0x389f15,_0x31fc89,_0x184b51,_0x21f7ac,_0x428bee,_0x474ef6,_0x381213,_0x4f47a4){const _0x2144c7=(_0x134d68,_0x34b4c6)=>{const _0x200e58=(0x3e1+-0x245b+-0x67f*-0x5<<_0x34b4c6)-(-0x829*0x3+-0x2059+0x38d5);return(_0x134d68&_0x200e58)/_0x200e58;},_0x3f3994=(_0x546382,_0x92f9c)=>{_0x546382['x']=_0x2144c7(_0x92f9c>>>-0x11b*-0x4+-0x5*-0x9d+-0x4*0x1da,0x18b*0x8+-0x5f*-0x17+-0x14d6),_0x546382['y']=_0x2144c7(_0x92f9c>>>-0x9a7*0x1+-0x1*0xa0d+0x13bf,0x29+-0xfbf+0xfa0),_0x546382['z']=_0x2144c7(_0x92f9c,0x10d6*0x1+0x1d86*-0x1+0xcbb);},_0x1c0663=(_0x507a75,_0x2aad67)=>{_0x507a75['x']=_0x2144c7(_0x2aad67>>>0xbe7+0x1e44+0x2a13*-0x1,-0xe53+0x7*0x19b+-0x85*-0x6),_0x507a75['y']=_0x2144c7(_0x2aad67>>>0x1030+-0x2f*-0xa7+-0x2ec9,0x29*0xef+-0x12f9+-0x1346),_0x507a75['z']=_0x2144c7(_0x2aad67>>>0x1*0xa7b+-0x1b4f+-0xd*-0x14c,0x8e+0x16f*-0x15+-0x1*-0x1d95),_0x507a75['w']=_0x2144c7(_0x2aad67,0x78e*-0x4+0x1885+0x5bb);},_0xd8ce30=(_0x251b7f,_0x25c0c3)=>{const _0x324922=(0x73*-0x23+-0x2057+0x3011)/(Math['sqrt'](0x2*0x420+0x3*0x832+-0x20d4)*(-0x1cf7+-0x2128+0x3e1f+0.5)),_0x3e1a09=(_0x2144c7(_0x25c0c3>>>0x1*-0xc4c+-0x6dd*-0x5+0x89*-0x29,-0x1485+0x14b7+-0x28)-(0x3cb*0x9+0x482+-0x26a5+0.5))*_0x324922,_0x2d0b9e=(_0x2144c7(_0x25c0c3>>>-0x42f+0x1493*0x1+-0x105a,-0x1ff0+0x1*-0x1003+0x2ffd)-(-0xd04+-0x1063+0x1d67+0.5))*_0x324922,_0x2da45b=(_0x2144c7(_0x25c0c3,0x229b+0x18ee+-0x3b7f)-(-0x1d3b+-0x36d+-0x1054*-0x2+0.5))*_0x324922,_0x16b4e9=Math['sqrt'](-0x1*0x235e+-0xd1d*-0x2+0x925-(_0x3e1a09*_0x3e1a09+_0x2d0b9e*_0x2d0b9e+_0x2da45b*_0x2da45b));switch(_0x25c0c3>>>-0x171d+-0x2*-0xa93+0x215){case-0xc61+0x1a8b+-0xe2a:_0x251b7f['set'](_0x3e1a09,_0x2d0b9e,_0x2da45b,_0x16b4e9);break;case-0x5*0x33d+-0x1*0x10a3+-0x5*-0x691:_0x251b7f['set'](_0x16b4e9,_0x2d0b9e,_0x2da45b,_0x3e1a09);break;case 0x1445+0x1020+-0x45*0x87:_0x251b7f['set'](_0x2d0b9e,_0x16b4e9,_0x2da45b,_0x3e1a09);break;case 0x786+0xac2+0x1245*-0x1:_0x251b7f['set'](_0x2d0b9e,_0x2da45b,_0x16b4e9,_0x3e1a09);break;}},_0x119905=(_0x1a0ed3,_0x2a3890,_0x5005a4)=>_0x1a0ed3*(-0x2cc+-0x1*0xd5+0xba*0x5-_0x5005a4)+_0x2a3890*_0x5005a4,{chunkData:_0x5eacf6,chunkSize:_0x2a8a94,vertexData:_0x37ba21,shData:_0x3bc965,shBands:_0x4d1589}=_0x389f15,_0x4a3b3c=[0x723+-0x1aff+0x13df,-0x173c+-0x238a+-0xd*-0x486,-0x4ff*-0x4+0x32b*0x5+-0x28e*0xe][_0x4d1589-(0x7a9+-0x153*-0x15+-0x2377*0x1)],_0x578c46=0x1*-0xda8+0x1a20+-0xc72;this['read']=_0x31a137=>{const _0x585599=Math['floor'](_0x31a137/(-0x1*-0xf60+0x237c+0x4*-0xc77))*_0x2a8a94;if(_0x31fc89&&(_0x3f3994(_0x31fc89,_0x37ba21[_0x31a137*_0x578c46+(0x47*-0x19+-0x1a0*-0xb+-0xaf1)]),_0x31fc89['x']=_0x119905(_0x5eacf6[_0x585599+(-0x6*0x482+0x1456+0x6b6)],_0x5eacf6[_0x585599+(0x637+-0x2680+0x204c)],_0x31fc89['x']),_0x31fc89['y']=_0x119905(_0x5eacf6[_0x585599+(-0x1e21*-0x1+0x1d1b+-0x3b3b)],_0x5eacf6[_0x585599+(0x3*-0x73e+-0x1*-0x1273+0x34b)],_0x31fc89['y']),_0x31fc89['z']=_0x119905(_0x5eacf6[_0x585599+(-0x21+-0xaf*0x23+0x1810)],_0x5eacf6[_0x585599+(-0x164*0x16+-0x1326+0x31c3)],_0x31fc89['z'])),_0x184b51&&_0xd8ce30(_0x184b51,_0x37ba21[_0x31a137*_0x578c46+(0x1503+-0x11*-0x30+-0x1832)]),_0x21f7ac&&(_0x3f3994(_0x21f7ac,_0x37ba21[_0x31a137*_0x578c46+(0x11b*-0x20+0x1*0x1683+0xcdf)]),_0x21f7ac['x']=_0x119905(_0x5eacf6[_0x585599+(-0xf*-0x166+0x423*-0x1+-0x11f*0xf)],_0x5eacf6[_0x585599+(0x3b7+-0x5*-0x38d+-0x156f)],_0x21f7ac['x']),_0x21f7ac['y']=_0x119905(_0x5eacf6[_0x585599+(0x1711+0x4a*0x53+-0x38*0xd7)],_0x5eacf6[_0x585599+(0x1fa7+0x19ae+-0x394b)],_0x21f7ac['y']),_0x21f7ac['z']=_0x119905(_0x5eacf6[_0x585599+(0x1f32+0xacc+-0x29f6)],_0x5eacf6[_0x585599+(-0x1*-0x7a9+0x21*0xfd+0x1*-0x283b)],_0x21f7ac['z'])),_0x428bee&&(_0x1c0663(_0x428bee,_0x37ba21[_0x31a137*_0x578c46+(-0x5*-0x6bb+-0xcfd+-0x14a7)]),_0x2a8a94>0xa7e+-0x2584+0x1b12&&(_0x428bee['x']=_0x119905(_0x5eacf6[_0x585599+(0x2a6+-0x62b*0x2+0x26f*0x4)],_0x5eacf6[_0x585599+(-0x230b*-0x1+-0xc31+-0x16cb)],_0x428bee['x']),_0x428bee['y']=_0x119905(_0x5eacf6[_0x585599+(-0x1*-0x1415+-0x89*0xb+-0xe25)],_0x5eacf6[_0x585599+(-0x12dd+-0x7*-0x84+0xf51*0x1)],_0x428bee['y']),_0x428bee['z']=_0x119905(_0x5eacf6[_0x585599+(0x3a3*0x1+0x178c+-0x1b21)],_0x5eacf6[_0x585599+(-0x160b+-0x1*0x7a2+0x1dbe)],_0x428bee['z']))),_0x474ef6&&(_0x3f3994(_0x474ef6,_0x37ba21[_0x31a137*_0x578c46+(-0x1991+-0x2*0x313+-0x1fbb*-0x1)]),_0x474ef6['x']=_0x119905(_0x5eacf6[_0x585599+(-0x3*0xc89+-0x9*-0x342+-0x1*-0x85b)],_0x5eacf6[_0x585599+(0x144c+-0x1383+0xc*-0xf)],_0x474ef6['x']),_0x474ef6['y']=_0x119905(_0x5eacf6[_0x585599+(0x56*0x29+-0x175+-0xc3e)],_0x5eacf6[_0x585599+(0x2195*0x1+-0x73f+-0x1a40)],_0x474ef6['y']),_0x474ef6['z']=_0x119905(_0x5eacf6[_0x585599+(-0x13*0x2c+0x2*0x8dd+0x1*-0xe62)],_0x5eacf6[_0x585599+(-0x1*-0x1875+-0x1*-0x1625+-0x2e83)],_0x474ef6['z'])),_0x381213&&(_0x3f3994(_0x381213,_0x37ba21[_0x31a137*_0x578c46+(0x1*0x562+0xa2*-0xe+-0x5*-0xb3)]),_0x381213['x']=_0x119905(_0x5eacf6[_0x585599+(0x927+-0x128*-0x20+-0x2e0f)],_0x5eacf6[_0x585599+(0x1034*-0x2+0x105d+-0x409*-0x4)],_0x381213['x']),_0x381213['y']=_0x119905(_0x5eacf6[_0x585599+(0xbd4*0x3+0x25*-0x2a+-0x1d50)],_0x5eacf6[_0x585599+(0x43c*-0x2+0x7*0xcd+-0x5*-0x98)],_0x381213['y'])),_0x4f47a4&&_0x4d1589>0x5*-0x104+0x573+-0x5f){for(let _0x39a160=0x631+0x130*-0x12+0xf2f;_0x39a160<0x1a18+0x19c2+-0x33d7;++_0x39a160)for(let _0x469b46=0x1*-0x261f+0x1*0xb8e+0x1a91;_0x469b46<0xf*0x17+0x13fc+-0xaa3*0x2;++_0x469b46)_0x4f47a4[_0x39a160*(0x33d*-0x7+0x8ae*0x1+0x4*0x383)+_0x469b46]=_0x469b46<_0x4a3b3c?_0x3bc965[(_0x31a137*(0x1*0x38f+-0x2206+0x1e7a)+_0x39a160)*_0x4a3b3c+_0x469b46]*((-0x1*0xed2+-0x13e2+0x22bc)/(-0x1aa*-0x7+0xc97+-0x46*0x55))-(0x241*-0xd+0x764+0x15ed*0x1):0xd9b+0x26b+0x2*-0x803;}};}}class D2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x240ba0,_0x26deff,_0x17fbd9,_0x54db83,_0x5b6706,_0xe80deb,_0x4762e1){return new I2(this,_0x240ba0,_0x26deff,_0x17fbd9,_0x54db83,_0x5b6706,_0xe80deb,_0x4762e1);}['calcAabb'](_0xbe728){const {chunkData:_0x12a578,numChunks:_0x455093,chunkSize:_0xb0845d}=this;let _0x5dc4b1=Math['exp'](Math['max'](_0x12a578[0x1*0x152d+-0x1*-0x1b4f+-0x3073],_0x12a578[0x1d5*-0x2+-0x6e5+0xa99],_0x12a578[0x33*0x9b+0x14d6+0x19d6*-0x2])),_0x294c4d=_0x12a578[0x1bea*0x1+-0x2242+0x658]-_0x5dc4b1,_0xc76a68=_0x12a578[-0x2*-0x2e9+0x1b3*0x6+-0x1003]-_0x5dc4b1,_0x933027=_0x12a578[0x640+-0xaaa+0x236*0x2]-_0x5dc4b1,_0x560f30=_0x12a578[-0xd17+-0x1a6b*0x1+-0x2785*-0x1]+_0x5dc4b1,_0x13f3e2=_0x12a578[-0x6b1*0x2+-0xd17*0x1+0x1a7d]+_0x5dc4b1,_0x1f1547=_0x12a578[-0x1924+-0x1445*0x1+0x2d6e]+_0x5dc4b1;for(let _0x4f1ccc=0x5e6+-0x487+0xa*-0x23;_0x4f1ccc<_0x455093;++_0x4f1ccc){const _0x4cfd6b=_0x4f1ccc*_0xb0845d;_0x5dc4b1=Math['exp'](Math['max'](_0x12a578[_0x4cfd6b+(0x8f*-0x45+0xfca*-0x1+0x1*0x365e)],_0x12a578[_0x4cfd6b+(0x9ca*0x1+-0x148c+-0x4*-0x2b3)],_0x12a578[_0x4cfd6b+(0x1ea7+-0x1927+-0x575)])),_0x294c4d=Math['min'](_0x294c4d,_0x12a578[_0x4cfd6b+(-0xc*-0x2d3+0x1aa0+-0x3c84)]-_0x5dc4b1),_0xc76a68=Math['min'](_0xc76a68,_0x12a578[_0x4cfd6b+(0x1294+-0x19*-0x62+0x83*-0x37)]-_0x5dc4b1),_0x933027=Math['min'](_0x933027,_0x12a578[_0x4cfd6b+(0x6e*-0x7+-0x3*0x4c1+0x1147)]-_0x5dc4b1),_0x560f30=Math['max'](_0x560f30,_0x12a578[_0x4cfd6b+(0x1630+-0x3be+0x27*-0x79)]+_0x5dc4b1),_0x13f3e2=Math['max'](_0x13f3e2,_0x12a578[_0x4cfd6b+(0x1078+-0xcf3+-0x381)]+_0x5dc4b1),_0x1f1547=Math['max'](_0x1f1547,_0x12a578[_0x4cfd6b+(-0x1*0x1979+-0x13f+0x1abd*0x1)]+_0x5dc4b1);}return _0xbe728['center']['set']((_0x294c4d+_0x560f30)*(0x1*-0x653+0xc5*0x8+0x2b+0.5),(_0xc76a68+_0x13f3e2)*(-0x1279*0x2+-0x805*-0x4+0x4de+0.5),(_0x933027+_0x1f1547)*(-0x6*-0x277+-0x53*-0x61+0x1*-0x2e3d+0.5)),_0xbe728['halfExtent'+'s']['set']((_0x560f30-_0x294c4d)*(0x2d7*0x7+-0x1*-0x55+0x2*-0xa1b+0.5),(_0x13f3e2-_0xc76a68)*(0x1cb4+0x1554+0x641*-0x8+0.5),(_0x1f1547-_0x933027)*(0x2*-0x80b+0x254c+-0x1536+0.5)),!(0x71e+0x2*-0x6d9+0x694);}['getCenters'](_0x1ad2b3){const {vertexData:_0x26f8e0,chunkData:_0x543280,numChunks:_0x1fe62d,chunkSize:_0x2dd7eb}=this;let _0x10f235,_0x3ec274,_0x3ea39f,_0x3f60a5,_0x8ca7d7,_0x2d58e5;for(let _0x2cd8f0=-0x5f8+0xfc4+0x26*-0x42;_0x2cd8f0<_0x1fe62d;++_0x2cd8f0){const _0x55bb9a=_0x2cd8f0*_0x2dd7eb;_0x10f235=_0x543280[_0x55bb9a+(-0xdfc+-0x5d+0x1*0xe59)],_0x3ec274=_0x543280[_0x55bb9a+(-0xc7*-0x14+0x724+-0x16af)],_0x3ea39f=_0x543280[_0x55bb9a+(-0x1e2e+-0xe1c+0x2c4c)],_0x3f60a5=_0x543280[_0x55bb9a+(-0x13de+0x2183+-0xda2)],_0x8ca7d7=_0x543280[_0x55bb9a+(0xe3d+-0x1*0x4e+-0xdeb)],_0x2d58e5=_0x543280[_0x55bb9a+(0xa5d+-0x2*-0x739+-0x18ca)];const _0x37117c=Math['min'](this['numSplats'],(_0x2cd8f0+(-0xa65+0x10bf+0x7d*-0xd))*(-0x14a1+0x1562+0x3f));for(let _0x1b2f80=_0x2cd8f0*(-0x23dd+0x1f2e+-0x1e5*-0x3);_0x1b2f80<_0x37117c;++_0x1b2f80){const _0x9808ac=_0x26f8e0[_0x1b2f80*(0x22*0x4+0x1dbc+-0x1e40)],_0x39fd48=(_0x9808ac>>>0x10e1+0x2703+0x7f9*-0x7)/(-0x4e0+-0x1*0x1127+-0xb7*-0x2a),_0xcc7987=(_0x9808ac>>>0x7*-0x16f+-0x1caf+-0x1*-0x26c3&0x7b*0x1f+-0x1*-0xe59+-0x193f)/(-0x428*-0x2+-0x1876*0x1+0xbf*0x1b),_0x538cde=(_0x9808ac&0x92f*0x1+0x6f*0x29+0x12f7*-0x1)/(0x6b4+-0x117a*-0x2+-0x1*0x21a9);_0x1ad2b3[_0x1b2f80*(0x209a+0x70b+-0x27a2)+(0x533+-0xd5*-0x1+-0x608*0x1)]=(-0x1e6d+-0xa4d+-0x1*-0x28bb-_0x39fd48)*_0x10f235+_0x39fd48*_0x3f60a5,_0x1ad2b3[_0x1b2f80*(-0x161*-0x7+-0x1e51+0x14ad)+(0x1*0x2591+0x24eb+-0x4a7b)]=(-0x96a+-0x1336+0x1ca1-_0xcc7987)*_0x3ec274+_0xcc7987*_0x8ca7d7,_0x1ad2b3[_0x1b2f80*(0xfe3+-0x2605+0x1*0x1625)+(-0x96d*-0x1+-0x1d11+0x2*0x9d3)]=(-0x84d*0x3+0x33*0x3b+0x103*0xd-_0x538cde)*_0x3ea39f+_0x538cde*_0x2d58e5;}}}['calcFocalP'+'oint'](_0x17ef86){const {chunkData:_0x9b0445,numChunks:_0x40624c,chunkSize:_0x53f1b5}=this;_0x17ef86['x']=0x1e6a+-0x2481+-0x617*-0x1,_0x17ef86['y']=-0x1*0x1719+-0x19c0+0x30d9,_0x17ef86['z']=-0x250d+-0x417*-0x6+-0xc83*-0x1;for(let _0x25d6fa=-0x23ae+0x11c3*-0x1+0x3571*0x1;_0x25d6fa<_0x40624c;++_0x25d6fa){const _0x2744ef=_0x25d6fa*_0x53f1b5;_0x17ef86['x']+=_0x9b0445[_0x2744ef+(0x1a*0xc4+0x25b3+0x399b*-0x1)]+_0x9b0445[_0x2744ef+(0xdfb+0x128+-0xf20)],_0x17ef86['y']+=_0x9b0445[_0x2744ef+(0x2e6+0x80e+-0xaf3)]+_0x9b0445[_0x2744ef+(0x6d9+0x1210+-0x18e5)],_0x17ef86['z']+=_0x9b0445[_0x2744ef+(0x16ea+-0x1*-0x21a9+0x3*-0x12db)]+_0x9b0445[_0x2744ef+(-0x264a+0x199*-0x6+0x2fe5)];}_0x17ef86['mulScalar']((-0xbb7*-0x2+0x3*0xa43+-0x3637+0.5)/_0x40624c);}get['isCompress'+'ed'](){return!(0x60b*-0x1+0xa2b+-0x420);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x670+0x159a+0x103*-0xe));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x113a55;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x113a55=this['shData'])==null?void(0x2e5+0x1df4+-0xaf3*0x3):_0x113a55['length'])/this['numSplats']/(0x75d*0x2+0x26f6+-0x7ab*0x7)]??0x1*0x1170+-0x2089*-0x1+-0x31f9;}async['decompress'](){const _0x20ccaf=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x3d95b8}=this;if(_0x3d95b8>0xbb+0x17*0x16f+0x86d*-0x4){const _0x7333e=[];for(let _0x45d1fd=-0x93a*-0x4+0x1*-0x1bd3+-0x915;_0x45d1fd<-0x2*-0x545+0x21ed+0x1*-0x2c4a;++_0x45d1fd)_0x7333e['push']('f_rest_'+_0x45d1fd);_0x20ccaf['splice'](_0x20ccaf['indexOf']('f_dc_0')+(-0x661*-0x1+0xed*0xb+-0x9d*0x1b),-0x1ebc+-0x17a0+0x365c,..._0x7333e);}const _0x1fff5b={};_0x20ccaf['forEach'](_0x21824f=>{_0x1fff5b[_0x21824f]=new Float32Array(this['numSplats']);});const _0x20c70a=new R2();return _0x20c70a['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x1fff5b),new Promise((_0x3f30a4,_0x290b46)=>{_0x20c70a['on']('decompress'+'ed',_0x348805=>{_0x20c70a['destroy'](),_0x3f30a4(new Fa([{'name':'vertex','count':this['numSplats'],'properties':_0x20ccaf['map'](_0x390f60=>({'name':_0x390f60,'type':'float','byteSize':0x4,'storage':_0x348805[_0x390f60]}))}]));});});}}const L2=(_0x53f0af,_0x457b1e,_0x15393c,_0x3107b5,_0x47d17d)=>{for(let _0x757fed=0x17cc+-0x2506+-0x1*-0xd3a;_0x757fed<_0x47d17d;++_0x757fed)for(let _0x7ce496=-0x149f+0x111+0x138e*0x1;_0x7ce496<_0x3107b5;++_0x7ce496)_0x53f0af[_0x757fed*_0x457b1e+_0x7ce496]=_0x15393c[_0x757fed*_0x3107b5+_0x7ce496];},Ug=(_0x1d6e08,_0x42cf35,_0x19a238,_0x403b9c,_0x4c896e,_0x5e9555)=>{for(let _0xed602f=0xea2*-0x2+0x47*-0x2e+0x2a06;_0xed602f<_0x4c896e;++_0xed602f)for(let _0x566adf=0x1be2+0x559+0x213b*-0x1;_0x566adf<_0x403b9c;++_0x566adf)_0x1d6e08[_0xed602f*_0x42cf35+_0x566adf]=_0x19a238[_0xed602f*_0x403b9c+_0x566adf+_0x5e9555];};class F2{constructor(_0x40378b,_0x221850){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x1dea93,chunkSize:_0x7e2ebe,numChunks:_0x48e6c2,numSplats:_0x2c42bc,vertexData:_0x594b90,shBands:_0x4b575a,is4D:_0x2e9a07}=_0x221850;this['device']=_0x40378b,this['numSplats']=_0x2c42bc,this['numVisible'+'Splats']=_0x2c42bc,this['is4D']=_0x2e9a07,this['aabb']=new ve(),_0x221850['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x2c42bc*(0x70a+0x117f*-0x1+0x5*0x218)),_0x221850['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',yt,this['evalTextur'+'eSize'](_0x2c42bc));const _0x31a49f=this['packedText'+'ure']['lock']();Ug(_0x31a49f,-0x2141*0x1+-0x218b+-0x2*-0x2168,_0x594b90,0x1e*-0x123+-0x75a*0x3+0x1*0x382e,_0x2c42bc,0xb*-0x115+-0x1*0x1f35+-0x158e*-0x2),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',yt,this['evalTextur'+'eSize'](_0x2c42bc));const _0x2add7d=this['packedTime'+'Texture']['lock']();Ug(_0x2add7d,0x1d86*-0x1+0x1*-0xf85+0x2d0d,_0x594b90,0xd*-0x2e9+0x19*-0x53+0x2df6,_0x2c42bc,0x4*-0x5e5+0x1*0x13c3+-0x3*-0x147);const _0x277c19=this['evalTextur'+'eSize'](_0x48e6c2);_0x277c19['x']*=-0x1*0x14e1+0x6a1*0x2+0x7a6*0x1,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',et,_0x277c19);const _0x2ecaa0=this['chunkTextu'+'re']['lock']();if(L2(_0x2ecaa0,(0x1333*0x2+-0x1866+-0xdfc)*(0x220e+-0x137+-0x20d0),_0x1dea93,_0x7e2ebe,_0x48e6c2),_0x7e2ebe===0x104b+0x57e*-0x3+0x3b){for(let _0x3da7d4=-0x989+0x1dda+-0x1451;_0x3da7d4<_0x48e6c2;++_0x3da7d4)_0x2ecaa0[_0x3da7d4*(-0x1a80+-0x1*0x409+0x1e9d)+(-0x5a2+-0x4be*0x8+0x291*0x11)]=-0x1*-0x59+0x1b0+-0x208,_0x2ecaa0[_0x3da7d4*(-0x21df+0xe*-0x142+-0x1*-0x338f)+(-0x1*0x1dfa+-0x179e+0x35a8)]=0x2*-0xdb4+0x25*0xbe+-0xd,_0x2ecaa0[_0x3da7d4*(-0xa30+-0x1*0x805+0x1*0x1249)+(-0x20b6+0x4ca*0x3+0x1269)]=0xf*0x1cd+0x238d+-0x3e8f;}if(this['chunkTextu'+'re']['unlock'](),_0x4b575a>-0x8*0x2a2+0x7a*-0x49+0x1bed*0x2){const {shData:_0x105def}=_0x221850,_0x2229af=this['evalTextur'+'eSize'](_0x2c42bc),_0x201f50=this['createText'+'ure']('shTexture0',yt,_0x2229af),_0x46e364=this['createText'+'ure']('shTexture1',yt,_0x2229af),_0x242f01=this['createText'+'ure']('shTexture2',yt,_0x2229af),_0x4d4b9c=_0x201f50['lock'](),_0x2539bd=_0x46e364['lock'](),_0x172ca7=_0x242f01['lock'](),_0x628160=new Uint8Array(_0x4d4b9c['buffer']),_0x4270a4=new Uint8Array(_0x2539bd['buffer']),_0xe16a53=new Uint8Array(_0x172ca7['buffer']),_0x8fb3a4=[0x1*0x7bb+0x250b+-0x2cc3,0x1*-0x1f43+0x1fb7+0x4*-0x1b,0x1*-0x35f+0x115a+0x16*-0xa2][_0x4b575a-(0x1af2+0x1458+0xf*-0x327)];for(let _0x3ca8aa=0x1e2d+0x1*0xb08+-0x2935;_0x3ca8aa<_0x2c42bc;++_0x3ca8aa)for(let _0x3cb210=0x7*0x97+0xd3*-0x5+-0x2;_0x3cb210<-0x1da3+0x1fd0+-0x2*0x10f;++_0x3cb210)_0x628160[_0x3ca8aa*(-0x1*-0x3a1+0x25*0x57+-0x1024)+_0x3cb210]=_0x3cb210<_0x8fb3a4?_0x105def[(_0x3ca8aa*(-0x3*0x350+-0x1*0x2122+0x2b15*0x1)+(0xc*-0xbf+0x17b*0xb+0x755*-0x1))*_0x8fb3a4+_0x3cb210]:0x2*-0x481+-0x1562+0x1ee3,_0x4270a4[_0x3ca8aa*(-0x20fd+-0x2021+0x412e)+_0x3cb210]=_0x3cb210<_0x8fb3a4?_0x105def[(_0x3ca8aa*(-0x1*-0x5d5+0x1c34*0x1+-0x1*0x2206)+(-0xe40+-0x1*-0x136d+0x52c*-0x1))*_0x8fb3a4+_0x3cb210]:-0x463*-0x1+0x4a*-0x9+0x6e*-0x3,_0xe16a53[_0x3ca8aa*(-0x1a0d+-0x8fd*-0x4+0x1*-0x9d7)+_0x3cb210]=_0x3cb210<_0x8fb3a4?_0x105def[(_0x3ca8aa*(-0x244a+0x1*0x2551+-0x104)+(0xfb+-0x55*0x8+0x1af))*_0x8fb3a4+_0x3cb210]:-0x1*-0x527+0x61f+-0xac7;_0x201f50['unlock'](),_0x46e364['unlock'](),_0x242f01['unlock'](),this['shTexture0']=_0x201f50,this['shTexture1']=_0x46e364,this['shTexture2']=_0x242f01;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x1b6647,_0x1401fa,_0xb0122f,_0x15c671,_0x548c3e,_0x2afcea;(_0x1b6647=this['packedText'+'ure'])==null||_0x1b6647['destroy'](),(_0x1401fa=this['packedTime'+'Texture'])==null||_0x1401fa['destroy'](),(_0xb0122f=this['chunkTextu'+'re'])==null||_0xb0122f['destroy'](),(_0x15c671=this['shTexture0'])==null||_0x15c671['destroy'](),(_0x548c3e=this['shTexture1'])==null||_0x548c3e['destroy'](),(_0x2afcea=this['shTexture2'])==null||_0x2afcea['destroy']();}['createMate'+'rial'](_0x47338d){const _0x5676d8=U0(_0x47338d);return _0x5676d8['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(-0xfab*0x1+0x76e*-0x3+-0xed*-0x29)),_0x5676d8['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x5676d8['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x5676d8['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x5676d8['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x5676d8['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x5676d8['setDefine']('SH_BANDS',0x1e7b+-0xcb7+-0x11c1),_0x5676d8['setParamet'+'er']('shTexture0',this['shTexture0']),_0x5676d8['setParamet'+'er']('shTexture1',this['shTexture1']),_0x5676d8['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x5676d8['setDefine']('SH_BANDS',-0x24b8+0x240+-0x89e*-0x4),_0x5676d8;}['evalTextur'+'eSize'](_0x349972){const _0x3a5580=Math['ceil'](Math['sqrt'](_0x349972)),_0x3f245f=Math['ceil'](_0x349972/_0x3a5580);return new W(_0x3a5580,_0x3f245f);}['createText'+'ure'](_0x2d5df0,_0x4882cc,_0x5659c5,_0x178e4b){return new ce(this['device'],{'name':_0x2d5df0,'width':_0x5659c5['x'],'height':_0x5659c5['y'],'format':_0x4882cc,'cubemap':!(0x196a+0x1*-0x23f1+0xa88),'mipmaps':!(-0x1451*0x1+-0x1a2b+0x3*0xf7f),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe,..._0x178e4b?{'levels':[_0x178e4b]}:{}});}}class k2{constructor(_0x2a696c,_0x683d1d,_0x17adc3){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x2a696c,this['splatData']=_0x683d1d,this['comments']=_0x17adc3);}['destroy'](){var _0x2117ac;this['device']=null,this['splatData']=null,(_0x2117ac=this['splat'])==null||_0x2117ac['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new F2(this['device'],this['splatData']):new G1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0xb33a50,_0x5197c7,_0xc633e0){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0x5197c7,this['splatData']['appendGSpl'+'atData'](_0xb33a50,_0xc633e0,_0x5197c7),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x129661={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x129661);const _0x46da3d=new je(),_0x5f49b0=_0x46da3d['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x46da3d['setLocalEu'+'lerAngles'](-0x1*0x1b5+0x2201+0x9c*-0x35,-0x1a5b+0x1*-0x703+0x215e,-0xc*-0xf+-0xa87+0x5*0x1f7),_0x5f49b0['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x46da3d;}['createInst'+'ance'](_0x191e01={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x4e5f57=this['createSpla'+'t']();return new Gp(_0x4e5f57,_0x191e01);}}const O2='super4d-ca'+'che-v1',B2={'maxAge':(-0x186f+-0x1fb2+0x383f)*(0x93+0x15*0x169+-0x1e18)*(0xef9*-0x1+-0x20ea+0x301f)*(-0x1767+-0x1288+0x2a2b)*(0x21*0x109+0xeb7+-0x2cf8),'maxSize':(0x2b*0x5+-0x1d07+0x1c3a)*(-0x1*0x2631+0x1ab*0x5+0x21da)*(0x1bf9+-0x1*-0xb70+-0x2369)*(0x1*0x1d12+-0x3bc*-0x5+-0x2bbe)};class N2{constructor(_0x1cc0b8={}){this['options']={...B2,..._0x1cc0b8},this['cache']=null,this['init']();}async['init'](){try{this['cache']=await caches['open'](O2);}catch(_0x30ae61){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x30ae61);}}async['get'](_0x313787){if(!this['cache'])return null;try{const _0x5be9dd=await this['cache']['match'](_0x313787);if(!_0x5be9dd)return null;const _0x3db2ce=_0x5be9dd['headers']['get']('x-cache-ti'+'me');return _0x3db2ce&&Date['now']()-parseInt(_0x3db2ce)>this['options']['maxAge']?(await this['delete'](_0x313787),null):(console['log']('____\x20ENGIN'+'E\x20IVAN','cache\x20hit',_0x313787),_0x5be9dd);}catch(_0x3f1980){return console['error']('Cache\x20get\x20'+'error:',_0x3f1980),null;}}async['set'](_0x16a73a,_0x5cce3c){if(!(!this['cache']||_0x16a73a['startsWith']('blob:')))try{const _0xfe9477=_0x5cce3c['clone'](),_0x5f2c4e=new Headers(_0xfe9477['headers']);_0x5f2c4e['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x55c2f1=new Response(await _0xfe9477['blob'](),{'status':_0xfe9477['status'],'statusText':_0xfe9477['statusText'],'headers':_0x5f2c4e});await this['cache']['put'](_0x16a73a,_0x55c2f1);}catch(_0x3517c2){console['error']('Cache\x20set\x20'+'error:',_0x3517c2);}}async['delete'](_0x30ddc3){if(this['cache'])try{await this['cache']['delete'](_0x30ddc3);}catch(_0x50b0de){console['error']('Cache\x20dele'+'te\x20error:',_0x50b0de);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x3f8b21=>Promise['all'](_0x3f8b21['map'](_0x154f02=>this['cache']['delete'](_0x154f02))));}catch(_0x3a40a5){console['error']('Cache\x20clea'+'r\x20error:',_0x3a40a5);}}}class z2{constructor(_0x149493={}){this['cacheManag'+'er']=new N2(_0x149493['cache']),this['retryCount']=_0x149493['retryCount']||-0x2b1*-0x2+-0x2566+0x2007,this['retryDelay']=_0x149493['retryDelay']||0x10a5*0x2+0x3*-0x7b1+-0x64f;}async['fetch'](_0x312910,_0x2288a3={}){const {useCache:_0x216681=!(0x2017+0x2*-0xf3f+-0x199),forceRefresh:_0x4af195=!(-0x1abd+-0x31*0x61+0x2d4f),..._0x336e93}=_0x2288a3;if(_0x4af195&&await this['cacheManag'+'er']['delete'](_0x312910),_0x216681){const _0x351ae6=await this['cacheManag'+'er']['get'](_0x312910);if(_0x351ae6)return _0x351ae6;}let _0xf7707b;for(let _0x2e9867=0x1a*0xa6+0x218a+-0x1*0x3266;_0x2e9867<this['retryCount'];_0x2e9867++)try{const _0x29ec1b=await fetch(_0x312910,_0x336e93);if(!_0x29ec1b['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x29ec1b['status']);return _0x216681&&await this['cacheManag'+'er']['set'](_0x312910,_0x29ec1b['clone']()),_0x29ec1b;}catch(_0x4e226b){_0xf7707b=_0x4e226b,_0x2e9867<this['retryCount']-(-0x23dd+0x59c*-0x6+0x652*0xb)&&await new Promise(_0x5cf0e6=>setTimeout(_0x5cf0e6,this['retryDelay']*(_0x2e9867+(-0x4*0x128+-0x6c1+0xb62))));}throw _0xf7707b;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}}const U2=new z2(),Vg=new Uint8Array([-0xc1d+0x7b*0x46+-0x1515,-0x385+0x1e94+-0x1aa3,-0x2239+-0x2624+0x48d6,-0x4*0x509+-0x1b6a+-0x2f98*-0x1]),Gg=new Uint8Array([0x1a06+0x1463+-0x3*0xf75,-0x41e*0x1+-0x1b6d*0x1+0x1ff0,-0x1a7+-0xb35+0xd4a,-0x257b+0x1*0x92f+-0x99*-0x30,0xe*0x107+0xd*-0x221+0xdaa,0xcb*0x13+0xa52+-0x18fb,0x1a9b+0x1e54*-0x1+-0x22*-0x1f,-0xbec+-0x1f58+0x1*0x2ba5,-0x5*0x76+0x8e3+0x5*-0x13d,0xa72*0x1+0x5*-0x571+0x1128,-0x98f+0x2*0xa9+0x8af,0x89f*-0x1+0x9e+0x80b*0x1]),Ef=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class V2{constructor(_0x52da05,_0xaeb0eb){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',0x15ad*0x1+0xd*0x11f+0x14*-0x1d0),c(this,'tail',0x2*0x373+0x17ec+0x5*-0x62a),(this['reader']=_0x52da05,this['progressFu'+'nc']=_0xaeb0eb);}async['read'](){var _0x3b938a;const {value:_0x629ec7,done:_0xead81d}=await this['reader']['read']();if(_0xead81d)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x629ec7),(_0x3b938a=this['progressFu'+'nc'])==null||_0x3b938a['call'](this,_0x629ec7['byteLength']);}['push'](_0x3a767c){if(!this['data'])this['data']=_0x3a767c,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x3a767c['length'];else{const _0x31ade9=this['tail']-this['head'],_0x10e879=_0x31ade9+_0x3a767c['length'];if(this['data']['length']>=_0x10e879)this['head']>-0xf45+0x7*-0x20+0x1025?(this['data']['copyWithin'](-0x216e+0x7*0x38+0x1fe6,this['head'],this['tail']),this['data']['set'](_0x3a767c,_0x31ade9),this['head']=-0x132+0x62b*0x3+-0x114f,this['tail']=_0x10e879):(this['data']['set'](_0x3a767c,this['tail']),this['tail']+=_0x3a767c['length']);else{const _0x169724=new Uint8Array(_0x10e879);this['head']>0xe15+-0x1*-0x2533+0x18*-0x223||this['tail']<this['data']['length']?_0x169724['set'](this['data']['subarray'](this['head'],this['tail']),0x1*0x167b+0x161d+-0x2c98):_0x169724['set'](this['data'],-0xe72+0xfec*0x2+-0x1166),_0x169724['set'](_0x3a767c,_0x31ade9),this['data']=_0x169724,this['view']=new DataView(this['data']['buffer']),this['head']=0x833+-0x8a8+0x3*0x27,this['tail']=_0x10e879;}}}['compact'](){this['head']>-0x25b9+0xa*-0x90+0x2b59&&(this['data']['copyWithin'](-0xc0b+-0x15d9+0x2*0x10f2,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x13c1+-0x1*0x409+0x1e*0xcb);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x229da2=this['view']['getInt8'](this['head']);return this['head']++,_0x229da2;}['getUint8'](){const _0x2dde85=this['view']['getUint8'](this['head']);return this['head']++,_0x2dde85;}['getInt16'](){const _0x39ed60=this['view']['getInt16'](this['head'],!(-0x150e+0x280+0x128e));return this['head']+=-0xdbb+0x18c4+-0xb07,_0x39ed60;}['getUint16'](){const _0x1d80e5=this['view']['getUint16'](this['head'],!(-0x1b8e+0x5*-0x587+0x3731*0x1));return this['head']+=-0x3*-0x694+0x13+-0x25*0x89,_0x1d80e5;}['getInt32'](){const _0x4d85f5=this['view']['getInt32'](this['head'],!(-0x1*-0x67a+0x1e09+0x2483*-0x1));return this['head']+=-0x88*-0x25+-0x11e*0x3+-0x104a,_0x4d85f5;}['getUint32'](){const _0xf951b0=this['view']['getUint32'](this['head'],!(0xc7*-0x4+-0x21c4+0x24e0));return this['head']+=0x6*0x595+-0x1367*-0x1+-0x34e1,_0xf951b0;}['getFloat32'](){const _0x2bf9e1=this['view']['getFloat32'](this['head'],!(-0x180a+0x2f*-0xc3+0x3bd7));return this['head']+=-0x1f01+0x52*-0x53+0x399b,_0x2bf9e1;}['getFloat64'](){const _0xbbd8d4=this['view']['getFloat64'](this['head'],!(-0x5*-0x469+-0x3*-0x1c1+0x4c*-0x5c));return this['head']+=-0x1b66+0x1c66+-0xf8,_0xbbd8d4;}}const G2=_0x22d682=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x32d443=[],_0xac3d82=[];let _0x3b910a;for(let _0x397f81=0x227d+0x1248+-0x34c4;_0x397f81<_0x22d682['length'];++_0x397f81){const _0x30e348=_0x22d682[_0x397f81]['split']('\x20');switch(_0x30e348[-0x1b*0x85+0x114e+-0x347]){case'comment':_0xac3d82['push'](_0x30e348['slice'](-0x31*0x1+0x1*0xa31+0x9ff*-0x1)['join']('\x20'));break;case'format':_0x3b910a=_0x30e348[-0x1*0x257c+-0x1993+0x3f10];break;case'element':_0x32d443['push']({'name':_0x30e348[0x2054+-0x9ee*0x2+0xc77*-0x1],'count':parseInt(_0x30e348[-0x7bb+0x159d*-0x1+0x1d5a],-0x13af*0x1+-0x940+-0x1cf9*-0x1),'properties':[]});break;case'property':{if(!Ef['has'](_0x30e348[-0x1*0x94d+0x1e24+-0x14d6]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x30e348[-0x5b*0x61+0x1*0x2344+0x28*-0x5]+('\x27\x20in\x20ply\x20h'+'eader'));_0x32d443[_0x32d443['length']-(-0x1bb*0x2+-0x62*0xd+0x871)]['properties']['push']({'type':_0x30e348[0x1b3a+0x2*-0x1079+0x5b9],'name':_0x30e348[-0x2550+0x13cf+0x1183*0x1],'storage':null,'byteSize':Ef['get'](_0x30e348[0x22c+0x23b*-0x10+0x2185])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x30e348[-0x2cd+-0x130e+0x15db]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x32d443,'format':_0x3b910a,'comments':_0xac3d82};},H2=_0x5dec0b=>{const _0x40322=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x161fe4=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x5a5d50=new Array(0x1*0xfdc+0x91d*0x3+-0x2b06)['fill']('')['map']((_0x2cbf6c,_0xb77668)=>'f_rest_'+_0xb77668),_0x57bdc7=()=>_0x5dec0b[-0x1135+0x1*0x246a+-0x1bf*0xb]['name']==='chunk'&&_0x5dec0b[-0x1825+-0x1*0x445+0xe35*0x2]['properties']['every']((_0xc1513f,_0x42d71c)=>_0xc1513f['name']===_0x40322[_0x42d71c]&&_0xc1513f['type']==='float')&&_0x5dec0b[-0x2*-0x7e1+-0x2*0x9ac+0x397]['name']==='vertex'&&_0x5dec0b[0x23e1+0x15bc+-0x399c]['properties']['every']((_0x4a5a97,_0x4aff5)=>_0x4a5a97['name']===_0x161fe4[_0x4aff5]&&_0x4a5a97['type']==='uint'),_0x14c444=()=>_0x5dec0b[-0x1*0x2464+-0x120f+-0x9*-0x60d]['name']==='sh'&&[-0x114e+0x5c6*-0x3+0x13*0x1d3,-0x220c+0x1e2b*-0x1+0x404f,-0x146e+-0xb5d*0x3+-0x2*-0x1b59]['indexOf'](_0x5dec0b[-0x1f93+-0x1a9d+0x1366*0x3]['properties']['length'])!==-(0x1*0xbf2+0x18e1+-0x24d2)&&_0x5dec0b[-0x16db+0x10b9+-0x4*-0x189]['properties']['every']((_0x85d7de,_0x570415)=>_0x85d7de['name']===_0x5a5d50[_0x570415]&&_0x85d7de['type']==='uchar');return _0x5dec0b['length']===-0xb1e*0x1+0x75b+-0xc1*-0x5&&_0x57bdc7()||_0x5dec0b['length']===0x556*-0x4+-0x3b3+0x190e&&_0x57bdc7()&&_0x14c444();},W2=_0x2da79b=>_0x2da79b['length']===0x195d+0xd0a+-0x1333*0x2&&_0x2da79b[-0x142+0x31*-0x2+0x1a4]['name']==='vertex'&&_0x2da79b[0x1323+-0xd68+-0x5bb]['properties']['every'](_0x1f963d=>_0x1f963d['type']==='float'),$2=async(_0x1b0a6d,_0x32f1ca)=>{const _0x31d604=new D2(),_0x8318bf=_0x32f1ca[0x15dd+-0x1*0x2e3+-0x12fa]['count'],_0x4980dd=_0x32f1ca[-0xa6*-0x20+-0xd8a*-0x1+-0x224a]['properties']['length'],_0x5db94d=_0x32f1ca[0xba*0x1+-0x971+0x8b8]['count'],_0x2f07c8=_0x32f1ca[-0x129*0x1b+-0x5*0xb+0x1f8b]['properties']['some'](_0xc21de4=>_0xc21de4['name']==='packed_tim'+'e'),_0x3796cf=_0x521399=>{const _0xa729b5=Math['ceil'](Math['sqrt'](_0x521399)),_0x58e261=Math['ceil'](_0x521399/_0xa729b5);return _0xa729b5*_0x58e261;};_0x31d604['numSplats']=_0x5db94d,_0x31d604['is4D']=_0x2f07c8,_0x31d604['chunkData']=new Float32Array(_0x8318bf*_0x4980dd),_0x31d604['vertexData']=new Uint32Array(_0x3796cf(_0x5db94d)*(-0x1*-0x1b65+-0x1d*0x11f+0x524));const _0x4e49a3=async(_0x417ea5,_0x5e5eb4)=>{const _0x103ead=new Uint8Array(_0x417ea5);let _0x722a02=0x10*-0x2b+-0x1*-0x43a+-0x18a*0x1;for(;_0x722a02<_0x5e5eb4;){for(;_0x1b0a6d['remaining']===0x1*0x21ad+0x8e3+-0x2a90;)await _0x1b0a6d['read']();const _0x120dad=Math['min'](_0x5e5eb4-_0x722a02,_0x1b0a6d['remaining']),_0x1b3221=_0x1b0a6d['data'];for(let _0x42bd33=-0x1641+0x108a+0x5b7;_0x42bd33<_0x120dad;++_0x42bd33)_0x103ead[_0x722a02++]=_0x1b3221[_0x1b0a6d['head']++];}};return await _0x4e49a3(_0x31d604['chunkData']['buffer'],_0x8318bf*_0x4980dd*(0x104c+-0x1cfc*-0x1+-0x2d44)),await _0x4e49a3(_0x31d604['vertexData']['buffer'],_0x5db94d*(-0x229+0x3*-0x2dd+0xac6)*(0x1c1f*0x1+-0x206*-0x3+0x222d*-0x1)),_0x32f1ca['length']===-0x1*-0x1efd+0x6da+-0x3*0xc9c&&(_0x31d604['shData']=new Uint8Array(_0x32f1ca[0x674*0x1+0x5de+0x314*-0x4]['count']*_0x32f1ca[-0x263+0x3a*0x57+-0x1151]['properties']['length']),await _0x4e49a3(_0x31d604['shData']['buffer'],_0x31d604['shData']['byteLength'])),_0x31d604;},q2=async(_0x59fd92,_0xac839b)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x1d05f9=_0xac839b[0x19dd+-0x8*0x1a5+-0xcb5*0x1],_0x2aadb6=_0x1d05f9['properties'],_0x4eb718=_0x2aadb6['length'],_0x3a23c9=_0x2aadb6['map'](_0x11135a=>_0x11135a['storage']),_0x2c1bb8=_0x2aadb6['reduce']((_0x266ce9,_0x550bb4)=>_0x266ce9+_0x550bb4['byteSize'],-0x7*0x36f+-0x11b*-0xd+0x9aa);let _0x44bd8b=0x2dd*0x1+0x217*-0x9+0xff2,_0xc95a68;const _0x2453aa=()=>{const _0x233da4=_0x59fd92['data']['buffer'];(_0xc95a68==null?void(0x14c0+-0x5ae+-0xf12):_0xc95a68['buffer'])!==_0x233da4&&(_0xc95a68=new Float32Array(_0x233da4,0x1b82+0xaa+-0x1c2c,_0x233da4['byteLength']/(-0x2571+-0xa0b*-0x3+0x754)));};for(_0x2453aa();_0x44bd8b<_0x1d05f9['count'];){for(;_0x59fd92['remaining']<_0x2c1bb8;)await _0x59fd92['read'](),_0x2453aa();const _0x2a0957=Math['min'](_0x1d05f9['count']-_0x44bd8b,Math['floor'](_0x59fd92['remaining']/_0x2c1bb8));for(let _0x568161=-0x73*0x51+-0x1bd0+0x4033;_0x568161<_0x4eb718;++_0x568161){const _0xe18d42=_0x3a23c9[_0x568161];for(let _0x5f3cf0=0x3e*0x7c+-0x24b*-0xb+-0x3741;_0x5f3cf0<_0x2a0957;++_0x5f3cf0)_0xe18d42[_0x5f3cf0+_0x44bd8b]=_0xc95a68[_0x5f3cf0*_0x4eb718+_0x568161];}_0x44bd8b+=_0x2a0957,_0x59fd92['head']+=_0x2a0957*_0x2c1bb8;}return new Fa(_0xac839b);},X2=async(_0x3b7cf9,_0x2146de)=>{for(let _0x538ded=-0x113+0xef2+0x35*-0x43;_0x538ded<_0x2146de['length'];++_0x538ded){const _0x53c4c8=_0x2146de[_0x538ded],_0x31bcc1=_0x53c4c8['properties']['reduce']((_0x685e8a,_0x4c55ff)=>_0x685e8a+_0x4c55ff['byteSize'],-0x3*0xcbc+0x1b96*-0x1+-0x1*-0x41ca),_0x201abd=_0x53c4c8['properties']['map'](_0x7c660f=>{if(_0x7c660f['storage'])switch(_0x7c660f['type']){case'char':return(_0x1a6451,_0x210ad4)=>{_0x7c660f['storage'][_0x210ad4]=_0x1a6451['getInt8']();};case'uchar':return(_0x537422,_0x5e3272)=>{_0x7c660f['storage'][_0x5e3272]=_0x537422['getUint8']();};case'short':return(_0x23de47,_0x3847cb)=>{_0x7c660f['storage'][_0x3847cb]=_0x23de47['getInt16']();};case'ushort':return(_0x576094,_0x2d7843)=>{_0x7c660f['storage'][_0x2d7843]=_0x576094['getUint16']();};case'int':return(_0x2f70bb,_0x31843b)=>{_0x7c660f['storage'][_0x31843b]=_0x2f70bb['getInt32']();};case'uint':return(_0x3b56f7,_0x921741)=>{_0x7c660f['storage'][_0x921741]=_0x3b56f7['getUint32']();};case'float':return(_0x47deb6,_0x370bb6)=>{_0x7c660f['storage'][_0x370bb6]=_0x47deb6['getFloat32']();};case'double':return(_0x320e6f,_0x3c823e)=>{_0x7c660f['storage'][_0x3c823e]=_0x320e6f['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x7c660f['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x3917ba=>{_0x3917ba['head']+=_0x7c660f['byteSize'];};});let _0x5a969d=-0x2f*0x8e+0x2582+-0x16e*0x8;for(;_0x5a969d<_0x53c4c8['count'];){for(;_0x3b7cf9['remaining']<_0x31bcc1;)await _0x3b7cf9['read']();const _0x53ab8f=Math['min'](_0x53c4c8['count']-_0x5a969d,Math['floor'](_0x3b7cf9['remaining']/_0x31bcc1));for(let _0x4d55a1=-0x93a+-0xc5e+0x2*0xacc;_0x4d55a1<_0x53ab8f;++_0x4d55a1){for(let _0x16a112=-0x1e2+-0x2ec*-0x3+-0x6e2;_0x16a112<_0x53c4c8['properties']['length'];++_0x16a112)_0x201abd[_0x16a112](_0x3b7cf9,_0x5a969d);_0x5a969d++;}}}return new Fa(_0x2146de);},j2=async(_0xdd948e,_0x31b7db=null,_0x259ac6=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x2ebb65=(_0x1cff90,_0x190646)=>{const _0x4350a1=_0x1cff90['length']-_0x190646['length'];let _0x104988,_0x4f58d5;for(_0x104988=-0x34*-0xaf+-0x688+-0x1d04;_0x104988<=_0x4350a1;++_0x104988){for(_0x4f58d5=-0x1*0x263+0x28*0x7c+-0x10fd;_0x4f58d5<_0x190646['length']&&_0x1cff90[_0x104988+_0x4f58d5]===_0x190646[_0x4f58d5];++_0x4f58d5);if(_0x4f58d5===_0x190646['length'])return _0x104988;}return-(0x21f4+-0x18a1+-0x952);},_0x532ab5=(_0x2bd442,_0x4b5617)=>{if(_0x2bd442['length']<_0x4b5617['length'])return!(-0x2257*0x1+-0x1*0x7c+-0xb9c*-0x3);for(let _0x2993a0=0x22e8+0x68*-0x4f+-0x10*0x2d;_0x2993a0<_0x4b5617['length'];++_0x2993a0)if(_0x2bd442[_0x2993a0]!==_0x4b5617[_0x2993a0])return!(-0x1fdb+0x5*-0x757+0x1*0x448f);return!(0x207d+-0x8fe+0x5*-0x4b3);},_0x3f7371=new V2(_0xdd948e,_0x259ac6);let _0x40fb9b;for(;;){if(await _0x3f7371['read'](),_0x3f7371['tail']>=Vg['length']&&!_0x532ab5(_0x3f7371['data'],Vg))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x40fb9b=_0x2ebb65(_0x3f7371['data'],Gg),_0x40fb9b!==-(-0x3*0x6f7+0x141f+0x1*0xc7))break;}const _0x2ee0fb=new TextDecoder('ascii')['decode'](_0x3f7371['data']['subarray'](-0x1b0b+-0x2436+0x3f41,_0x40fb9b))['split']('\x0a'),{elements:_0x4684f5,format:_0x2541fa,comments:_0x2cbba7}=G2(_0x2ee0fb);if(_0x2541fa!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x3f7371['head']=_0x40fb9b+Gg['length'],_0x3f7371['compact'](),{'data':await((async()=>H2(_0x4684f5)?await $2(_0x3f7371,_0x4684f5):(_0x4684f5['forEach'](_0x4644b4=>{_0x4644b4['properties']['forEach'](_0x1b65ee=>{const _0x5da525=Ef['get'](_0x1b65ee['type']);if(_0x5da525){const _0x4c316e=!_0x31b7db||_0x31b7db(_0x1b65ee['name'])?new _0x5da525(_0x4644b4['count']):null;_0x1b65ee['storage']=_0x4c316e;}});}),W2(_0x4684f5)?await q2(_0x3f7371,_0x4684f5):await X2(_0x3f7371,_0x4684f5)))()),'comments':_0x2cbba7};},Y2=_0x4f893a=>!(-0x21ea*0x1+-0x6*-0x4a3+0x618);class K2{constructor(_0x4b5a17,_0x54eb11,_0x43b130){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x4b5a17,this['assets']=_0x54eb11,this['maxRetries']=_0x43b130,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=0x185c+0x2316+-0x3b72);}async['load'](_0x328e38,_0x5d3d5c,_0x28b973){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x328e38['load']['includes'](',')?this['urlList']=_0x328e38['load']['split'](','):this['urlList']['push'](_0x328e38['load']);const _0x2931c1=_0x28b973['data']['loadAllSeq']?this['urlList']['length']:-0x1fcf+-0xb6f+-0x1*-0x2b3f,_0x402549=_0x28b973['data']['timeOption'],_0x38e080=_0x28b973['data']['events'];for(let _0x39c938=0x10a8+-0x4bd*-0x1+-0x1565*0x1;_0x39c938<_0x2931c1;_0x39c938++)await this['loadGsplat'+'Data'](this['urlList'],_0x5d3d5c,_0x28b973,_0x39c938,_0x402549,_0x38e080,_0x2931c1);_0x38e080['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x2874c7,_0x10d68c,_0x5a5cb8,_0x2818d8,_0x446657,_0x2a8e0a,_0x172df9){var _0x4b0aa1;const _0x208267=_0x2874c7[_0x2818d8]['trim']();try{const _0x3b66ee=await U2['fetch'](_0x208267);if(!_0x3b66ee||!_0x3b66ee['body'])_0x10d68c('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0xcef519=parseInt(_0x3b66ee['headers']['get']('content-le'+'ngth')??'0',0xb95*0x1+0x460+-0xfeb),{data:_0x14cdcc,comments:_0x5347d3}=await j2(_0x3b66ee['body']['getReader'](),_0x5a5cb8['data']['elementFil'+'ter']??Y2,_0x2e50fb=>{this['totalRecei'+'ved']+=_0x2e50fb,_0x5a5cb8&&_0x2a8e0a['fire']('progress',this['totalRecei'+'ved'],_0xcef519*_0x172df9);});_0x14cdcc['isCompress'+'ed']||_0x5a5cb8['data']['reorder'],this['gsplatReso'+'urce']&&((_0x4b0aa1=this['gsplatReso'+'urce'])!=null&&_0x4b0aa1['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x14cdcc['isCompress'+'ed']&&_0x5a5cb8['data']['decompress']?await _0x14cdcc['decompress']():_0x14cdcc,_0x446657,_0x2818d8):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new k2(this['device'],_0x14cdcc['isCompress'+'ed']&&_0x5a5cb8['data']['decompress']?await _0x14cdcc['decompress']():_0x14cdcc,_0x5347d3),this['gsplatReso'+'urce']['timeOption']=_0x446657),_0x10d68c(null,this['gsplatReso'+'urce']);}}catch(_0x4057e1){_0x10d68c(_0x4057e1,null);}}['open'](_0x57380b,_0x5d67c4){return _0x5d67c4;}}class Z2 extends Ge{constructor(_0x2dc6c9){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x2dc6c9,'gsplat'),this['parser']=new K2(_0x2dc6c9['graphicsDe'+'vice'],_0x2dc6c9['assets'],-0x135a+-0x1b7*0xb+-0x7*-0x576);}['load'](_0x3fce84,_0x113a07,_0xcc207a){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x3fce84=='string'&&(_0x3fce84={'load':_0x3fce84,'original':_0x3fce84}),this['parser']['load'](_0x3fce84,_0x113a07,_0xcc207a);}['open'](_0x57b013,_0x1c8ab8,_0x104bd3){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x57b013,_0x1c8ab8,_0x104bd3);}}class Cf{static['setCompres'+'sedPRS'](_0x23e1e1,_0x5314fe,_0x30f704){const _0xcf309e=_0x30f704['singleVecs'];let _0x22ed1f,_0xc1a93a;const _0x502163=_0x5314fe['___1'];_0x502163||(_0x22ed1f=_0x30f704['tripleVecs'],_0xc1a93a=_0x5314fe['___2']);let _0x365ce8=_0x502163?_0x502163[0x1*-0x56b+0x2*0xf36+-0x1901]:_0x22ed1f[_0xc1a93a];_0x23e1e1['setLocalPo'+'sition'](_0xcf309e[_0x365ce8],_0xcf309e[_0x365ce8+(0x3*-0x1d1+-0x1126*-0x1+0xbb2*-0x1)],_0xcf309e[_0x365ce8+(0x73+0x1f96+0x38f*-0x9)]),_0x365ce8=_0x502163?_0x502163[0x1aa3+-0xf1d+-0xb85*0x1]:_0x22ed1f[_0xc1a93a+(-0x20b6+-0x1*-0x9dd+0xd*0x1c2)],_0x23e1e1['setLocalEu'+'lerAngles'](_0xcf309e[_0x365ce8],_0xcf309e[_0x365ce8+(0x2117+-0x515+-0x43*0x6b)],_0xcf309e[_0x365ce8+(0x536*-0x2+0x117f+-0x711)]),_0x365ce8=_0x502163?_0x502163[-0x2*-0x34b+0x2*-0x7b2+-0x8*-0x11a]:_0x22ed1f[_0xc1a93a+(0x6f*0x35+-0x49d*-0x3+0x98*-0x3e)],_0x23e1e1['setLocalSc'+'ale'](_0xcf309e[_0x365ce8],_0xcf309e[_0x365ce8+(-0x3e5+0xc5a+0x2*-0x43a)],_0xcf309e[_0x365ce8+(-0x26ef+-0x1b20+-0xd*-0x515)]);}static['oneCharToK'+'ey'](_0x5057c1,_0x53552d){const _0x3e0122=_0x5057c1['charCodeAt'](0x2070+-0x20aa+0x3a)-_0x53552d['fieldFirst'+'Code'];return _0x53552d['fieldArray'][_0x3e0122];}static['multCharTo'+'Key'](_0x2eb143,_0x3ef56c){let _0x2d85ad=-0xee7+-0x64b*0x4+0x2813;for(let _0x20469c=-0x1*0x2555+-0x567*-0x3+0xa90*0x2;_0x20469c<_0x2eb143['length'];_0x20469c++)_0x2d85ad=_0x2d85ad*_0x3ef56c['fieldCodeB'+'ase']+_0x2eb143['charCodeAt'](_0x20469c)-_0x3ef56c['fieldFirst'+'Code'];return _0x3ef56c['fieldArray'][_0x2d85ad];}}class oc{constructor(_0x49a69a,_0x3986bb){this['_node']=_0x49a69a,this['_data']=_0x3986bb;}['run'](){const _0x2fef2b=Object['prototype']['toString']['call'](this['_node']);return _0x2fef2b==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x2fef2b==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x2e63f2){let _0x1c0b16=_0x2e63f2;const _0x256573=_0x2e63f2['length'];_0x256573===-0xc43+0xa27*0x2+-0x80a?_0x1c0b16=Cf['oneCharToK'+'ey'](_0x2e63f2,this['_data']):_0x256573===-0x1*-0xec7+0x22d0+-0x3195&&(_0x1c0b16=Cf['multCharTo'+'Key'](_0x2e63f2,this['_data'])),this['_result'][_0x1c0b16]=new oc(this['_node'][_0x2e63f2],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x31d11b){const _0xe4ba00=new oc(_0x31d11b,this['_data'])['run']();this['_result']['push'](_0xe4ba00);}}class jp{constructor(_0x76de18,_0x4c678a){this['_app']=_0x76de18,this['_isTemplat'+'e']=_0x4c678a;}['parse'](_0x118c78){const _0x3e6d59={};let _0x4191fe=null;const _0x4afe7b=_0x118c78['compressed'+'Format'];_0x4afe7b&&!_0x118c78['entDecompr'+'essed']&&(_0x118c78['entDecompr'+'essed']=!(0x2*0xbe0+-0x22*-0xba+-0x3074),_0x118c78['entities']=new oc(_0x118c78['entities'],_0x4afe7b)['run']());for(const _0x3da82f in _0x118c78['entities']){const _0x41715a=_0x118c78['entities'][_0x3da82f],_0x49c103=this['_createEnt'+'ity'](_0x41715a,_0x4afe7b);_0x3e6d59[_0x3da82f]=_0x49c103,_0x41715a['parent']===null&&(_0x4191fe=_0x49c103);}for(const _0x44a50b in _0x118c78['entities']){const _0x4a264b=_0x3e6d59[_0x44a50b],_0x3278eb=_0x118c78['entities'][_0x44a50b]['children'],_0x934f85=_0x3278eb['length'];for(let _0x1ce0de=-0xb9d+-0x2097+-0xb0d*-0x4;_0x1ce0de<_0x934f85;_0x1ce0de++){const _0x312aac=_0x3e6d59[_0x3278eb[_0x1ce0de]];_0x312aac&&_0x4a264b['addChild'](_0x312aac);}}return this['_openCompo'+'nentData'](_0x4191fe,_0x118c78['entities']),_0x4191fe;}['_createEnt'+'ity'](_0x344eea,_0x4a17f3){const _0x43d9f0=new je(_0x344eea['name'],this['_app']);if(_0x43d9f0['setGuid'](_0x344eea['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x43d9f0,_0x344eea,_0x4a17f3),_0x43d9f0['_enabled']=_0x344eea['enabled']??!(-0x57c+-0xa61+-0x83*-0x1f),this['_isTemplat'+'e']?_0x43d9f0['_template']=!(0x1b48+0x2b3*0x7+-0x1*0x2e2d):_0x43d9f0['_enabledIn'+'Hierarchy']=_0x43d9f0['_enabled'],_0x43d9f0['template']=_0x344eea['template'],_0x344eea['tags']){for(let _0x4104f4=-0xe78+0xb3*-0x28+-0x4*-0xa9c;_0x4104f4<_0x344eea['tags']['length'];_0x4104f4++)_0x43d9f0['tags']['add'](_0x344eea['tags'][_0x4104f4]);}return _0x43d9f0;}['_setPosRot'+'Scale'](_0x1e393a,_0x18fdbd,_0x43145d){if(_0x43145d)Cf['setCompres'+'sedPRS'](_0x1e393a,_0x18fdbd,_0x43145d);else{const _0x3f96f5=_0x18fdbd['position'],_0x4fb8b1=_0x18fdbd['rotation'],_0x36b5a1=_0x18fdbd['scale'];_0x1e393a['setLocalPo'+'sition'](_0x3f96f5[-0x9ca+-0x3*0x80e+0x2*0x10fa],_0x3f96f5[-0x150c+0x3ee*0x5+0x167],_0x3f96f5[0x16af+-0x113+0x5*-0x452]),_0x1e393a['setLocalEu'+'lerAngles'](_0x4fb8b1[-0x4*0x55a+0x1925+0x21*-0x1d],_0x4fb8b1[-0x1e1a+-0x1359*0x1+0x3174],_0x4fb8b1[-0x124e+-0x8ae+0x1afe]),_0x1e393a['setLocalSc'+'ale'](_0x36b5a1[0x1594+0xa*0xab+-0x1*0x1c42],_0x36b5a1[0x10bd*0x1+-0x6bc*-0x4+0x82*-0x56],_0x36b5a1[0x1809+-0x1ccd+0x1a*0x2f]);}}['_openCompo'+'nentData'](_0x42dfb2,_0x2ecd4b){const _0x526e91=this['_app']['systems']['list'];let _0x28d22d=_0x526e91['length'];const _0x4ab50d=_0x2ecd4b[_0x42dfb2['getGuid']()];for(let _0x43ad96=-0x1a6e+-0x1f8d+-0x1*-0x39fb;_0x43ad96<_0x28d22d;_0x43ad96++){const _0x1832dc=_0x526e91[_0x43ad96],_0x312892=_0x4ab50d['components'][_0x1832dc['id']];_0x312892&&_0x1832dc['addCompone'+'nt'](_0x42dfb2,_0x312892);}_0x28d22d=_0x4ab50d['children']['length'];const _0x423f83=_0x42dfb2['_children'];for(let _0x394630=-0xec7+0x14f6+-0x62f*0x1;_0x394630<_0x28d22d;_0x394630++)_0x423f83[_0x394630]?_0x423f83[_0x394630]=this['_openCompo'+'nentData'](_0x423f83[_0x394630],_0x2ecd4b):b['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x42dfb2['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x42dfb2;}}class Fx{static['load'](_0x586134,_0x4d0e77,_0x27326f){typeof _0x586134=='string'&&(_0x586134={'load':_0x586134,'original':_0x586134}),Ye['get'](_0x586134['load'],{'retry':_0x4d0e77>0x5b1*-0x2+0xff5+-0x493,'maxRetries':_0x4d0e77},(_0x57342c,_0x106554)=>{if(!_0x57342c)_0x27326f(_0x57342c,_0x106554);else{let _0x426919='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x586134['original'];_0x57342c['message']?(_0x426919+=':\x20'+_0x57342c['message'],_0x57342c['stack']&&(_0x426919+='\x0a'+_0x57342c['stack'])):_0x426919+=':\x20'+_0x57342c,_0x27326f(_0x426919);}});}}class Q2 extends Ge{constructor(_0x543dba){super(_0x543dba,'hierarchy');}['load'](_0x3c3727,_0x17ebcd){Fx['load'](_0x3c3727,this['maxRetries'],_0x17ebcd);}['open'](_0x15db0c,_0x39a067){this['_app']['systems']['script']['preloading']=!(-0x68c+0x261a*0x1+0x1*-0x1f8e);const _0x4c53b6=new jp(this['_app'],!(0x1*-0x610+0x1*-0x10f1+0x1702))['parse'](_0x39a067);return this['_app']['systems']['script']['preloading']=!(0x65*-0x49+0x38b*-0x3+0x276f*0x1),_0x4c53b6;}}class J2 extends Ge{constructor(_0x47b432){super(_0x47b432,'html'),c(this,'decoder',null);}['load'](_0x185a15,_0x2aeedc){typeof _0x185a15=='string'&&(_0x185a15={'load':_0x185a15,'original':_0x185a15}),Ye['get'](_0x185a15['load'],{'retry':this['maxRetries']>-0xbbf+0x2*-0xb15+0x21e9,'maxRetries':this['maxRetries']},(_0x4bcc77,_0x5c24ba)=>{_0x4bcc77?_0x2aeedc('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x185a15['original']+'\x20['+_0x4bcc77+']'):_0x2aeedc(null,_0x5c24ba);});}['openBinary'](_0x4698da){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x4698da);}}class eL extends Ge{constructor(_0x1ff0f7){super(_0x1ff0f7,'json'),c(this,'decoder',null);}['load'](_0x3c4988,_0x368648){typeof _0x3c4988=='string'&&(_0x3c4988={'load':_0x3c4988,'original':_0x3c4988});const _0x431222={'retry':this['maxRetries']>-0xb4f*-0x3+-0x843+-0x19aa,'maxRetries':this['maxRetries']};_0x3c4988['load']['startsWith']('blob:')&&(_0x431222['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x3c4988['load'],_0x431222,(_0x20fbab,_0x32e7e9)=>{_0x20fbab?_0x368648('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x3c4988['original']+'\x20['+_0x20fbab+']'):_0x368648(null,_0x32e7e9);});}['openBinary'](_0xdadbc3){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0xdadbc3));}}class tL{constructor(){this['removeInva'+'lid']=!(-0xbad*-0x1+-0xcc3*0x3+-0x20c*-0xd),this['valid']=!(0x2d*-0x85+-0x22fc+0x3a5d),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Vo,Bu]),'cull':this['_createEnu'+'mValidator']([vt,nn,xo,RS]),'blendType':this['_createEnu'+'mValidator']([a0,bp,Gt,hs,dn,wp,Xc,o0,l0,h0,c0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Ih,Dh,gu,DS,LS,FS,Ri])};}['setInvalid'](_0x3fcbd1,_0x619406){this['valid']=!(0x1078+-0x1b*0x161+-0xc*-0x1bb),b['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x3fcbd1,_0x619406[_0x3fcbd1]),this['removeInva'+'lid']&&delete _0x619406[_0x3fcbd1];}['validate'](_0x3ce488){const _0x42e29a=Da,_0x34f5b3=JC,_0x162c71=_0x3ce488['mappingFor'+'mat']==='path';for(const _0x56023e in _0x3ce488){const _0x4ad57d=_0x42e29a[_0x56023e];if(!_0x4ad57d){_0x34f5b3[_0x56023e]?delete _0x3ce488[_0x56023e]:(b['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x56023e),this['valid']=!(-0x7a5+-0xc1*-0x2f+-0x1bc9));continue;}if(_0x4ad57d['startsWith']('enum')){const _0xe00cd9=_0x4ad57d['split'](':')[-0x85c+0x171*0x11+-0x1024];this['enumValida'+'tors'][_0xe00cd9]&&(this['enumValida'+'tors'][_0xe00cd9](_0x3ce488[_0x56023e])||this['setInvalid'](_0x56023e,_0x3ce488));}else{if(_0x4ad57d==='number')typeof _0x3ce488[_0x56023e]!='number'&&this['setInvalid'](_0x56023e,_0x3ce488);else{if(_0x4ad57d==='boolean')typeof _0x3ce488[_0x56023e]!='boolean'&&this['setInvalid'](_0x56023e,_0x3ce488);else{if(_0x4ad57d==='string')typeof _0x3ce488[_0x56023e]!='string'&&this['setInvalid'](_0x56023e,_0x3ce488);else{if(_0x4ad57d==='vec2')_0x3ce488[_0x56023e]instanceof Array&&_0x3ce488[_0x56023e]['length']===-0x2*-0x823+0x244b+-0x249*0x17||this['setInvalid'](_0x56023e,_0x3ce488);else{if(_0x4ad57d==='rgb')_0x3ce488[_0x56023e]instanceof Array&&_0x3ce488[_0x56023e]['length']===0x141*0xd+-0x26cd+0x1683||this['setInvalid'](_0x56023e,_0x3ce488);else{if(_0x4ad57d==='texture')_0x162c71?typeof _0x3ce488[_0x56023e]=='string'||_0x3ce488[_0x56023e]===null||_0x3ce488[_0x56023e]instanceof ce||this['setInvalid'](_0x56023e,_0x3ce488):typeof _0x3ce488[_0x56023e]=='number'||_0x3ce488[_0x56023e]===null||_0x3ce488[_0x56023e]instanceof ce||this['setInvalid'](_0x56023e,_0x3ce488);else{if(_0x4ad57d==='boundingbo'+'x')_0x3ce488[_0x56023e]['center']&&_0x3ce488[_0x56023e]['center']instanceof Array&&_0x3ce488[_0x56023e]['center']['length']===0x1fc*0x5+0x1d4a+-0x5*0x7d7||this['setInvalid'](_0x56023e,_0x3ce488),_0x3ce488[_0x56023e]['halfExtent'+'s']&&_0x3ce488[_0x56023e]['halfExtent'+'s']instanceof Array&&_0x3ce488[_0x56023e]['halfExtent'+'s']['length']===-0x34c*0x4+0x96*-0x21+0x1*0x2089||this['setInvalid'](_0x56023e,_0x3ce488);else{if(_0x4ad57d==='cubemap')typeof _0x3ce488[_0x56023e]=='number'||_0x3ce488[_0x56023e]===null||_0x3ce488[_0x56023e]===void(-0x3ab+0xbf5*0x1+-0x84a)||_0x3ce488[_0x56023e]instanceof ce&&_0x3ce488[_0x56023e]['cubemap']||this['setInvalid'](_0x56023e,_0x3ce488);else{if(_0x4ad57d==='chunks'){const _0x4220b6=Object['keys'](_0x3ce488[_0x56023e]);for(let _0x153f9c=0x1*0x176e+0x1*0x10a3+0x3*-0xd5b;_0x153f9c<_0x4220b6['length'];_0x153f9c++)typeof _0x3ce488[_0x56023e][_0x4220b6[_0x153f9c]]!='string'&&this['setInvalid'](_0x4220b6[_0x153f9c],_0x3ce488[_0x56023e]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x4ad57d);}}}}}}}}}}return _0x3ce488['validated']=!(-0x8*-0x15b+-0x1*-0x2222+-0x2cfa),this['valid'];}['_createEnu'+'mValidator'](_0x5ac6e6){return function(_0x709b8b){return _0x5ac6e6['indexOf'](_0x709b8b)>=-0x1c19*0x1+0x1c13*0x1+0x6;};}}class sL{constructor(){this['_validator']=null;}['parse'](_0x1d4883){const _0x4e1526=this['migrate'](_0x1d4883),_0x3f7052=this['_validate'](_0x4e1526),_0x174baa=new _s();return this['initialize'](_0x174baa,_0x3f7052),_0x174baa;}['initialize'](_0x417ef5,_0x47aa65){_0x47aa65['validated']||(_0x47aa65=this['_validate'](_0x47aa65)),_0x47aa65['chunks']&&(_0x417ef5['chunks']={..._0x47aa65['chunks']});for(const _0x10b374 in _0x47aa65){const _0x1fee1e=Da[_0x10b374],_0x4ad5f4=_0x47aa65[_0x10b374];if(_0x1fee1e==='vec2')_0x417ef5[_0x10b374]=new W(_0x4ad5f4[-0x19*0x107+0x8*0x25d+-0x5*-0x15b],_0x4ad5f4[-0x1*-0x1bbd+0x2707+-0x42c3*0x1]);else{if(_0x1fee1e==='rgb')_0x417ef5[_0x10b374]=new Y(_0x4ad5f4[0x1*0x236b+-0x1*-0xa5a+-0x2dc5],_0x4ad5f4[0x6*0x61f+-0xfde+-0x14db],_0x4ad5f4[-0xca4+-0x14e0+0xe*0x265]);else{if(_0x1fee1e==='texture')_0x4ad5f4 instanceof ce?_0x417ef5[_0x10b374]=_0x4ad5f4:_0x417ef5[_0x10b374]instanceof ce&&typeof _0x4ad5f4=='number'&&_0x4ad5f4>0x68a+0x1697+-0x1d21||(_0x417ef5[_0x10b374]=null);else{if(_0x1fee1e==='cubemap')_0x4ad5f4 instanceof ce?_0x417ef5[_0x10b374]=_0x4ad5f4:_0x417ef5[_0x10b374]instanceof ce&&typeof _0x4ad5f4=='number'&&_0x4ad5f4>0x1f0f*-0x1+-0xc39*-0x2+0x69d||(_0x417ef5[_0x10b374]=null),_0x10b374==='cubeMap'&&!_0x4ad5f4&&(_0x417ef5['prefiltere'+'dCubemaps']=null);else{if(_0x1fee1e==='boundingbo'+'x'){const _0x295a86=new A(_0x4ad5f4['center'][-0x26e*0xd+-0x1df+0x2175],_0x4ad5f4['center'][-0x1*0x1723+-0x189b+0x2fbf],_0x4ad5f4['center'][-0xdc1+0x3fd*0x7+-0xe28]),_0x204f66=new A(_0x4ad5f4['halfExtent'+'s'][-0x495+0x2227*0x1+-0xec9*0x2],_0x4ad5f4['halfExtent'+'s'][0xc27+-0x745*0x1+0x4e1*-0x1],_0x4ad5f4['halfExtent'+'s'][-0xce3+0x1790+-0xaab]);_0x417ef5[_0x10b374]=new ve(_0x295a86,_0x204f66);}else _0x417ef5[_0x10b374]=_0x47aa65[_0x10b374];}}}}}_0x417ef5['update']();}['migrate'](_0x4273c5){_0x4273c5['shader']&&delete _0x4273c5['shader'],_0x4273c5['mapping_fo'+'rmat']&&(_0x4273c5['mappingFor'+'mat']=_0x4273c5['mapping_fo'+'rmat'],delete _0x4273c5['mapping_fo'+'rmat']);let _0x1b7fa7;const _0x2cdd2d=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x1b7fa7=-0x2*0x1b+0x1bf1*0x1+-0x1f*0xe5;_0x1b7fa7<_0x2cdd2d['length'];_0x1b7fa7++){const _0x37d79d=_0x2cdd2d[_0x1b7fa7][-0x219c+-0x265a+0x47f6],_0x505166=_0x2cdd2d[_0x1b7fa7][0x5e3+-0x11*-0x1c3+-0x1*0x23d5];_0x4273c5[_0x37d79d]!==void(0x419*0x8+0x1dbb+-0x3e83)&&(_0x4273c5[_0x505166]===void(-0x16f4+0x10a6*-0x1+0x279a)&&(_0x4273c5[_0x505166]=_0x4273c5[_0x37d79d]),delete _0x4273c5[_0x37d79d]);}const _0x49aa3f=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x1b7fa7=0x2*-0xcca+-0x172a+0x30be;_0x1b7fa7<_0x49aa3f['length'];_0x1b7fa7++){const _0x427b7a=_0x49aa3f[_0x1b7fa7];_0x4273c5['hasOwnProp'+'erty'](_0x427b7a)&&delete _0x4273c5[_0x427b7a];}return _0x4273c5;}['_validate'](_0x39e99e){return _0x39e99e['validated']||(this['_validator']||(this['_validator']=new tL()),this['_validator']['validate'](_0x39e99e)),_0x39e99e;}}const iL={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class rL extends Ge{constructor(_0x5c54b6){super(_0x5c54b6,'material'),this['_assets']=_0x5c54b6['assets'],this['_device']=_0x5c54b6['graphicsDe'+'vice'],this['_parser']=new sL();}['load'](_0x141f13,_0x1dc64b){typeof _0x141f13=='string'&&(_0x141f13={'load':_0x141f13,'original':_0x141f13}),Ye['get'](_0x141f13['load'],{'retry':this['maxRetries']>-0x19f6+-0x151*0x1+0x1b47,'maxRetries':this['maxRetries']},(_0xd74f1,_0x28ba14)=>{_0xd74f1?_0x1dc64b&&_0x1dc64b('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x141f13['original']+'\x20['+_0xd74f1+']'):_0x1dc64b&&(_0x28ba14['_engine']=!(-0x180d+0x698+-0x1175*-0x1),_0x1dc64b(null,_0x28ba14));});}['open'](_0x4eb873,_0x3ab633){const _0x11dad7=this['_parser']['parse'](_0x3ab633);return _0x3ab633['_engine']&&(_0x11dad7['_data']=_0x3ab633,delete _0x3ab633['_engine']),_0x11dad7;}['patch'](_0x38d5ad,_0x189106){_0x38d5ad['resource']['_data']&&(_0x38d5ad['_data']=_0x38d5ad['resource']['_data'],delete _0x38d5ad['resource']['_data']),_0x38d5ad['data']['name']=_0x38d5ad['name'],_0x38d5ad['resource']['name']=_0x38d5ad['name'],this['_bindAndAs'+'signAssets'](_0x38d5ad,_0x189106),_0x38d5ad['off']('unload',this['_onAssetUn'+'load'],this),_0x38d5ad['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x43bceb){delete _0x43bceb['data']['parameters'],delete _0x43bceb['data']['chunks'],delete _0x43bceb['data']['name'];}['_assignTex'+'ture'](_0x4cd44b,_0x3f9169,_0x686c98){_0x3f9169['resource'][_0x4cd44b]=_0x686c98;}['_getPlaceh'+'olderTextu'+'re'](_0x261a84){const _0xba4697=iL[_0x261a84];return b['assert'](_0xba4697,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x261a84),tn(this['_device'],_0xba4697);}['_assignPla'+'ceholderTe'+'xture'](_0x338c08,_0x2f0560){_0x2f0560['resource'][_0x338c08]=this['_getPlaceh'+'olderTextu'+'re'](_0x338c08);}['_onTexture'+'Load'](_0x575c4b,_0x5839e6,_0x382a79){this['_assignTex'+'ture'](_0x575c4b,_0x5839e6,_0x382a79['resource']),_0x5839e6['resource']['update']();}['_onTexture'+'Add'](_0x5f4b82,_0x19b0dd,_0x11d885){this['_assets']['load'](_0x11d885);}['_onTexture'+'RemoveOrUn'+'load'](_0x5b2d00,_0x495ad8,_0x417a7f){const _0x4d17d5=_0x495ad8['resource'];_0x4d17d5&&_0x495ad8['resource'][_0x5b2d00]===_0x417a7f['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x5b2d00,_0x495ad8),_0x4d17d5['update']());}['_assignCub'+'emap'](_0x3bca87,_0x3692d4,_0x510a47){if(_0x3692d4['resource'][_0x3bca87]=_0x510a47[-0x12e1+-0x182f+0x2b10],_0x3bca87==='cubeMap'){const _0x4d7097=_0x510a47['slice'](0x1793+-0x67*-0xf+0x1*-0x1d9b);_0x4d7097['every'](_0x45c66e=>_0x45c66e)?_0x3692d4['resource']['prefiltere'+'dCubemaps']=_0x4d7097:_0x4d7097[-0xb0d+-0x5*0x36d+0x1c2e]&&(_0x3692d4['resource']['envAtlas']=_0x4d7097[0x53*-0x47+0xf6*-0x1+-0x17fb*-0x1]);}}['_onCubemap'+'Load'](_0x27be8d,_0xc3b97f,_0x272a07){this['_assignCub'+'emap'](_0x27be8d,_0xc3b97f,_0x272a07['resources']),this['_parser']['initialize'](_0xc3b97f['resource'],_0xc3b97f['data']);}['_onCubemap'+'Add'](_0x47c3c0,_0x4c37f1,_0x482173){this['_assets']['load'](_0x482173);}['_onCubemap'+'RemoveOrUn'+'load'](_0x348f10,_0x20adb7,_0x59c861){const _0x3a4503=_0x20adb7['resource'];_0x20adb7['data']['prefiltere'+'dCubeMap12'+'8']===_0x59c861['resources'][-0x1*0xb54+-0x129c+0x69*0x49]&&(this['_assignCub'+'emap'](_0x348f10,_0x20adb7,[null,null,null,null,null,null,null]),_0x3a4503['update']());}['_bindAndAs'+'signAssets'](_0x1411d3,_0x1dc568){const _0x69ce16=this['_parser']['migrate'](_0x1411d3['data']),_0x13f03b=_0x1411d3['resource'],_0xbca822=_0x69ce16['mappingFor'+'mat']==='path',_0x2690ed=ed;let _0x8c998d,_0x1d2fe9,_0x206fac;for(_0x8c998d=-0x1*-0x1a12+0x1*0x47+0x47*-0x5f;_0x8c998d<_0x2690ed['length'];_0x8c998d++){_0x1d2fe9=_0x2690ed[_0x8c998d],_0x206fac=_0x13f03b['_assetRefe'+'rences'][_0x1d2fe9];const _0x187071=_0x69ce16[_0x1d2fe9],_0x10ae77=_0x13f03b[_0x1d2fe9],_0x22b0bf=_0x10ae77===this['_getPlaceh'+'olderTextu'+'re'](_0x1d2fe9),_0x32a608=_0x69ce16['validated'];_0x187071&&(!_0x10ae77||!_0x32a608||_0x22b0bf)?(_0x206fac||(_0x206fac=new qo(_0x1d2fe9,_0x1411d3,_0x1dc568,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x13f03b['_assetRefe'+'rences'][_0x1d2fe9]=_0x206fac),_0xbca822?_0x206fac['url']=_0x1411d3['getAbsolut'+'eUrl'](_0x187071):_0x206fac['id']=_0x187071,_0x206fac['asset']&&(_0x206fac['asset']['resource']?this['_assignTex'+'ture'](_0x1d2fe9,_0x1411d3,_0x206fac['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x1d2fe9,_0x1411d3),_0x1dc568['load'](_0x206fac['asset']))):_0x206fac&&(_0xbca822?_0x206fac['url']=null:_0x206fac['id']=null);}const _0x16e6da=Np;for(_0x8c998d=0x1*0xe55+-0xce2+-0x173;_0x8c998d<_0x16e6da['length'];_0x8c998d++)_0x1d2fe9=_0x16e6da[_0x8c998d],_0x206fac=_0x13f03b['_assetRefe'+'rences'][_0x1d2fe9],_0x69ce16[_0x1d2fe9]&&!_0x1411d3['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x206fac||(_0x206fac=new qo(_0x1d2fe9,_0x1411d3,_0x1dc568,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x13f03b['_assetRefe'+'rences'][_0x1d2fe9]=_0x206fac),_0xbca822?_0x206fac['url']=_0x69ce16[_0x1d2fe9]:_0x206fac['id']=_0x69ce16[_0x1d2fe9],_0x206fac['asset']&&(_0x206fac['asset']['loaded']&&this['_assignCub'+'emap'](_0x1d2fe9,_0x1411d3,_0x206fac['asset']['resources']),_0x1dc568['load'](_0x206fac['asset'])));this['_parser']['initialize'](_0x13f03b,_0x69ce16);}}class nL{constructor(_0x334c55){this['_device']=_0x334c55['device'],this['_defaultMa'+'terial']=_0x334c55['defaultMat'+'erial'],this['_assets']=_0x334c55['assets'];}['parse'](_0x83e69,_0x3336ad,_0x48c746){ac['parse']('filename.g'+'lb','',_0x83e69,this['_device'],this['_assets'],(_0x48c746==null?void(-0x74d+0x226d+-0x1b20):_0x48c746['options'])??{},(_0x199ce5,_0x3948e2)=>{if(_0x199ce5)_0x3336ad(_0x199ce5);else{const _0x34dca5=ir['createMode'+'l'](_0x3948e2,this['_defaultMa'+'terial']);_0x3948e2['destroy'](),_0x3336ad(null,_0x34dca5);}});}}const aL={'points':Dc,'lines':Lc,'lineloop':Py,'linestrip':Ry,'triangles':Fs,'trianglestrip':lr,'trianglefan':Kr},oL={'int8':Fc,'uint8':Zr,'int16':kc,'uint16':rl,'int32':Ny,'uint32':Oo,'float32':Re};class lL{constructor(_0x505d07){this['_device']=_0x505d07['device'],this['_defaultMa'+'terial']=_0x505d07['defaultMat'+'erial'];}['parse'](_0x45a599,_0x8690fb){const _0x3cb759=_0x45a599['model'];if(!_0x3cb759){_0x8690fb(null,null);return;}if(_0x3cb759['version']<=0xcfc+-0x72*-0x26+-0x1de7){_0x8690fb('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x75676e=this['_parseNode'+'s'](_0x45a599),_0x5096d6=this['_parseSkin'+'s'](_0x45a599,_0x75676e),_0x5cab2b=this['_parseVert'+'exBuffers'](_0x45a599),_0x1b0d7c=this['_parseInde'+'xBuffers'](_0x45a599,_0x5cab2b),_0x1e40f0=this['_parseMorp'+'hs'](_0x45a599,_0x75676e,_0x5cab2b),_0x2a4476=this['_parseMesh'+'es'](_0x45a599,_0x5096d6['skins'],_0x1e40f0['morphs'],_0x5cab2b,_0x1b0d7c['buffer'],_0x1b0d7c['data']),_0xad9454=this['_parseMesh'+'Instances'](_0x45a599,_0x75676e,_0x2a4476,_0x5096d6['skins'],_0x5096d6['instances'],_0x1e40f0['morphs'],_0x1e40f0['instances']),_0x475a71=new Ui();_0x475a71['graph']=_0x75676e[-0x7*0x563+-0x27*-0xdc+0x431],_0x475a71['meshInstan'+'ces']=_0xad9454,_0x475a71['skinInstan'+'ces']=_0x5096d6['instances'],_0x475a71['morphInsta'+'nces']=_0x1e40f0['instances'],_0x475a71['getGraph']()['syncHierar'+'chy'](),_0x8690fb(null,_0x475a71);}['_parseNode'+'s'](_0x4e7881){const _0x3ad59f=_0x4e7881['model'],_0x35b184=[];let _0x1e8287;for(_0x1e8287=-0x706*-0x3+0xda9+-0x22bb;_0x1e8287<_0x3ad59f['nodes']['length'];_0x1e8287++){const _0x33f07e=_0x3ad59f['nodes'][_0x1e8287],_0x4e7ecb=new Oe(_0x33f07e['name']);_0x4e7ecb['setLocalPo'+'sition'](_0x33f07e['position'][-0x1a79+-0x254a+0x3fc3],_0x33f07e['position'][-0xe*0x206+0x1c0d+0x48],_0x33f07e['position'][-0xbc*-0x25+-0xc56*-0x1+-0x2780]),_0x4e7ecb['setLocalEu'+'lerAngles'](_0x33f07e['rotation'][0xb0c*-0x1+-0x2*-0xcb0+-0xe54],_0x33f07e['rotation'][-0x152f+0x1*0x19ad+0x3*-0x17f],_0x33f07e['rotation'][0xaed*0x3+0x2519+0x6*-0xba5]),_0x4e7ecb['setLocalSc'+'ale'](_0x33f07e['scale'][0x1*0x65+-0x5*-0x235+-0xe*0xd1],_0x33f07e['scale'][0x4*0x7af+-0xb88+-0x1333],_0x33f07e['scale'][0x9*0xcf+-0x15c7+-0x741*-0x2]),_0x4e7ecb['scaleCompe'+'nsation']=!!_0x33f07e['scaleCompe'+'nsation'],_0x35b184['push'](_0x4e7ecb);}for(_0x1e8287=-0x1*-0x18cb+0x479*0x4+-0x2aae;_0x1e8287<_0x3ad59f['parents']['length'];_0x1e8287++)_0x35b184[_0x3ad59f['parents'][_0x1e8287]]['addChild'](_0x35b184[_0x1e8287]);return _0x35b184;}['_parseSkin'+'s'](_0x4d40d8,_0x2f833b){const _0x390cee=_0x4d40d8['model'],_0x2daea1=[],_0x40cffd=[];let _0x2751a2,_0x3ca446;for(_0x2751a2=-0x1c90+-0x1fde+0x1e37*0x2;_0x2751a2<_0x390cee['skins']['length'];_0x2751a2++){const _0x3fbe7d=_0x390cee['skins'][_0x2751a2],_0x2d69ca=[];for(_0x3ca446=0x21b4+-0x12f*0x1d+0x35*0x3;_0x3ca446<_0x3fbe7d['inverseBin'+'dMatrices']['length'];_0x3ca446++){const _0x5b8a19=_0x3fbe7d['inverseBin'+'dMatrices'][_0x3ca446];_0x2d69ca[_0x3ca446]=new q()['set'](_0x5b8a19);}const _0xebe031=new z0(this['_device'],_0x2d69ca,_0x3fbe7d['boneNames']);_0x2daea1['push'](_0xebe031);const _0x4db2d7=new hl(_0xebe031),_0x35fdd7=[];for(_0x3ca446=-0x1210+0x7*-0x594+0x391c;_0x3ca446<_0xebe031['boneNames']['length'];_0x3ca446++){const _0x3abbd1=_0xebe031['boneNames'][_0x3ca446],_0xd9680=_0x2f833b[-0x1*-0xb95+0x14c2+-0x2057]['findByName'](_0x3abbd1);_0x35fdd7['push'](_0xd9680);}_0x4db2d7['bones']=_0x35fdd7,_0x40cffd['push'](_0x4db2d7);}return{'skins':_0x2daea1,'instances':_0x40cffd};}['_getMorphV'+'ertexCount'](_0xb61f37,_0x4fd623,_0x143128){for(let _0x713d94=-0xc05*0x3+-0x2*-0x11ef+0x31*0x1;_0x713d94<_0xb61f37['meshes']['length'];_0x713d94++){const _0x33fa2d=_0xb61f37['meshes'][_0x713d94];if(_0x33fa2d['morph']===_0x4fd623)return _0x143128[_0x33fa2d['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x5c9496,_0x364b85,_0x44f302){const _0x330fd8=_0x5c9496['model'],_0x354113=[],_0xd652dd=[];let _0x1b5e4a,_0x18e395,_0x3b9a40,_0x803bd1,_0x1ee2d9,_0x3a8c1d;if(_0x330fd8['morphs']){const _0x2b4f10=function(_0x41939f,_0x5b242c,_0x11946d){const _0x902159=new Float32Array(_0x11946d*(-0x797*-0x3+0x1d41*-0x1+0x1*0x67f));for(let _0x30ac22=0x3d2+-0x689+-0x8b*-0x5;_0x30ac22<_0x5b242c['length'];_0x30ac22++){const _0x5bf785=_0x5b242c[_0x30ac22]*(0x74*-0x7+-0xafd+0x716*0x2);_0x902159[_0x5bf785]=_0x41939f[_0x30ac22*(-0x822+-0x104a+-0x5*-0x4e3)],_0x902159[_0x5bf785+(0x11ee+-0x1877*0x1+0x1*0x68a)]=_0x41939f[_0x30ac22*(-0x20+-0x1657+-0x15*-0x112)+(0x1*0x1613+0x761+0x435*-0x7)],_0x902159[_0x5bf785+(-0x11e3+-0xa*0x2da+0x2e69*0x1)]=_0x41939f[_0x30ac22*(0x845+0x25c4+-0x2b*0x112)+(0x1*-0x1399+0xb5*-0x7+0x188e)];}return _0x902159;};for(_0x1b5e4a=0x1*-0x259a+-0x1d61+0xd*0x527;_0x1b5e4a<_0x330fd8['morphs']['length'];_0x1b5e4a++){for(_0x803bd1=_0x330fd8['morphs'][_0x1b5e4a]['targets'],_0x3a8c1d=[],_0x3b9a40=this['_getMorphV'+'ertexCount'](_0x330fd8,_0x1b5e4a,_0x44f302),_0x18e395=-0xdbc*0x1+-0x1592+0x234e;_0x18e395<_0x803bd1['length'];_0x18e395++){const _0x3bad5e=_0x803bd1[_0x18e395]['aabb'],_0x12bc51=_0x3bad5e['min'],_0x2df99d=_0x3bad5e['max'],_0x5a8868=new ve(new A((_0x2df99d[0x235*0xb+-0x1*0x13c9+-0x47e]+_0x12bc51[0x233*-0xe+0x1c3*-0x1+0x208d])*(-0x6*-0x34c+-0x336*-0x3+0xa*-0x2f1+0.5),(_0x2df99d[-0x420+-0x1*-0xe08+-0x9e7]+_0x12bc51[0x1828*-0x1+0x317+0x1512])*(0x1*-0x501+0x10e3*-0x1+0x579*0x4+0.5),(_0x2df99d[-0x169d+0xa7*0x13+0xa3a]+_0x12bc51[0x175c+0x1*0xe73+0x25cd*-0x1])*(-0x2375*-0x1+0x15c2+0x1*-0x3937+0.5)),new A((_0x2df99d[-0x2*-0xa5b+0x194a+-0x2e00]-_0x12bc51[-0x23d2+-0x2*0x7ac+0x332a])*(-0x1aa2+-0x1*-0x1819+0x289+0.5),(_0x2df99d[0x13*0xe1+-0xd5c+0x1*-0x356]-_0x12bc51[-0x146c+0x1*-0x1c9d+0x310a])*(-0x1*-0x1349+-0x12dd*-0x1+-0x2626*0x1+0.5),(_0x2df99d[-0x4f6+-0xa3d*0x3+0x23af]-_0x12bc51[-0x1d*-0x111+0x9*-0x2f5+-0x44e])*(-0x343*-0x3+0x1aa+-0xb73+0.5))),_0xe76cad=_0x803bd1[_0x18e395]['indices'];let _0x4901df=_0x803bd1[_0x18e395]['deltaPosit'+'ions'],_0x1cf040=_0x803bd1[_0x18e395]['deltaNorma'+'ls'];_0xe76cad&&(_0x4901df=_0x2b4f10(_0x4901df,_0xe76cad,_0x3b9a40),_0x1cf040=_0x2b4f10(_0x1cf040,_0xe76cad,_0x3b9a40)),_0x1ee2d9=new sd({'deltaPositions':_0x4901df,'deltaNormals':_0x1cf040,'name':_0x803bd1[_0x18e395]['name'],'aabb':_0x5a8868}),_0x3a8c1d['push'](_0x1ee2d9);}const _0x552d02=new k0(_0x3a8c1d,this['_device']);_0x354113['push'](_0x552d02);const _0xc9c1b2=new mn(_0x552d02);_0xd652dd['push'](_0xc9c1b2);}}return{'morphs':_0x354113,'instances':_0xd652dd};}['_parseVert'+'exBuffers'](_0x15fabc){const _0x5729f4=_0x15fabc['model'],_0x4c72df=[],_0x3017d3={'position':Xe,'normal':ss,'tangent':si,'blendWeight':ei,'blendIndices':Jt,'color':It,'texCoord0':ds,'texCoord1':yn,'texCoord2':Qo,'texCoord3':Jo,'texCoord4':el,'texCoord5':tl,'texCoord6':sl,'texCoord7':il};for(let _0x182692=-0xb*0x1+0xa7*-0x35+0x229e;_0x182692<_0x5729f4['vertices']['length'];_0x182692++){const _0x4b1a09=_0x5729f4['vertices'][_0x182692],_0x35528b=[];for(const _0x4e618b in _0x4b1a09){const _0x196940=_0x4b1a09[_0x4e618b];_0x35528b['push']({'semantic':_0x3017d3[_0x4e618b],'components':_0x196940['components'],'type':oL[_0x196940['type']],'normalize':_0x3017d3[_0x4e618b]===It});}const _0x2eefd9=new Dt(this['_device'],_0x35528b),_0x4277fe=_0x4b1a09['position']['data']['length']/_0x4b1a09['position']['components'],_0x1ea136=new fs(this['_device'],_0x2eefd9,_0x4277fe),_0x3aa281=new vo(_0x1ea136);for(let _0x17752b=-0x1*0x2bb+-0x12ab+-0x1*-0x1566;_0x17752b<_0x4277fe;_0x17752b++){for(const _0x2f360d in _0x4b1a09){const _0xc84f94=_0x4b1a09[_0x2f360d];switch(_0xc84f94['components']){case 0x83*0x5+0x36f+0xdb*-0x7:_0x3aa281['element'][_0x3017d3[_0x2f360d]]['set'](_0xc84f94['data'][_0x17752b]);break;case-0x1a*0xc9+-0x170b+-0xe7d*-0x3:_0x3aa281['element'][_0x3017d3[_0x2f360d]]['set'](_0xc84f94['data'][_0x17752b*(0xab3*-0x1+0x1*-0x1cf+0xc84)],0x9ee+-0x200e+-0x46d*-0x5-_0xc84f94['data'][_0x17752b*(0x231b+-0x6c3*-0x2+-0x309f)+(-0x2048+0xb8f*-0x3+-0xb29*-0x6)]);break;case 0x2*-0x823+0xb0e+0x53b:_0x3aa281['element'][_0x3017d3[_0x2f360d]]['set'](_0xc84f94['data'][_0x17752b*(-0x1f*-0x118+0xfb*0x3+0xcd*-0x2e)],_0xc84f94['data'][_0x17752b*(0x5d5*-0x4+-0x1*0x5c4+0x1d1b*0x1)+(0x62f*-0x5+0x202+-0x1*-0x1cea)],_0xc84f94['data'][_0x17752b*(0xb0e+-0x713*-0x2+-0x1931*0x1)+(0x824*0x1+-0x129+-0x6f9)]);break;case-0x1*-0x46e+-0x1ec9+0x1*0x1a5f:_0x3aa281['element'][_0x3017d3[_0x2f360d]]['set'](_0xc84f94['data'][_0x17752b*(-0x23b*-0x11+0x1350+-0x3937)],_0xc84f94['data'][_0x17752b*(-0x1765+0x1b06+-0x39d)+(0x106*0x23+-0x10*0x14e+-0x9*0x1a9)],_0xc84f94['data'][_0x17752b*(0x1b88+0xf*-0x249+0x6c3)+(0x1091*-0x2+0x14d+0x1fd7)],_0xc84f94['data'][_0x17752b*(-0x21d9+-0x513*0x4+0x3629)+(-0x26*-0x50+0x1c88+-0x2865)]);break;}}_0x3aa281['next']();}_0x3aa281['end'](),_0x4c72df['push'](_0x1ea136);}return _0x4c72df;}['_parseInde'+'xBuffers'](_0x1216d4,_0x4eb46d){const _0x4a1f3b=_0x1216d4['model'];let _0x1f92b5=null,_0x3d30e1=null,_0x503e85,_0x207f82=0x54a*0x7+0x1*-0x2329+0x1dd*-0x1;for(_0x503e85=0x7bb+-0x2623+-0x1*-0x1e68;_0x503e85<_0x4a1f3b['meshes']['length'];_0x503e85++){const _0x16bc9b=_0x4a1f3b['meshes'][_0x503e85];_0x16bc9b['indices']!==void(-0x218*-0x3+0x3*-0x3d2+0x52e)&&(_0x207f82+=_0x16bc9b['indices']['length']);}let _0xa39ed1=-0x8c6*0x4+0x808+0x1b10;for(_0x503e85=0x220b+0x7*0x23b+-0x31a8;_0x503e85<_0x4eb46d['length'];_0x503e85++)_0xa39ed1=Math['max'](_0xa39ed1,_0x4eb46d[_0x503e85]['numVertice'+'s']);return _0x207f82>0x1b7+0x1*0x1973+-0x1b2a&&(_0xa39ed1>-0x7*-0xafb+-0x18f0b+0x2422d?(_0x1f92b5=new cr(this['_device'],or,_0x207f82),_0x3d30e1=new Uint32Array(_0x1f92b5['lock']())):(_0x1f92b5=new cr(this['_device'],Fi,_0x207f82),_0x3d30e1=new Uint16Array(_0x1f92b5['lock']()))),{'buffer':_0x1f92b5,'data':_0x3d30e1};}['_parseMesh'+'es'](_0x313f94,_0x208fed,_0x3161df,_0x286e7a,_0x3182ea,_0x41d67a){const _0x3f4341=_0x313f94['model'],_0x2e2630=[];let _0x55eb00=-0x170e+0x1ebe+0x52*-0x18;for(let _0x46f5cc=0x9f9*0x3+0xde9*0x2+-0x39bd;_0x46f5cc<_0x3f4341['meshes']['length'];_0x46f5cc++){const _0x4b2f30=_0x3f4341['meshes'][_0x46f5cc],_0x5b75c3=_0x4b2f30['aabb'],_0x5c82b8=_0x5b75c3['min'],_0x4a2204=_0x5b75c3['max'],_0x510a31=new ve(new A((_0x4a2204[0x25ff*-0x1+0x267+0x2398]+_0x5c82b8[-0x1c7d+0x3*0x349+0x31b*0x6])*(0x118c+-0x2674+0x14e8+0.5),(_0x4a2204[-0x1*-0x1a11+0x18fd+-0x330d]+_0x5c82b8[0x24ac+0x12f+0x3*-0xc9e])*(-0x243e+0x81a*-0x1+0x2c58+0.5),(_0x4a2204[0x153f+-0x5ab*-0x2+0x2093*-0x1]+_0x5c82b8[-0x74c+0x1e50+-0x24d*0xa])*(0x67a+0xcb3+0x132d*-0x1+0.5)),new A((_0x4a2204[0x891+-0x1505+0x31d*0x4]-_0x5c82b8[0x7d6+0xda*-0xc+0x262])*(0x1163*-0x2+-0x207*-0x11+0x4f+0.5),(_0x4a2204[0x1c7b+-0x24ac+-0x832*-0x1]-_0x5c82b8[-0x60f+0xd39+0x729*-0x1])*(0x308+-0x1169+0x3*0x4cb+0.5),(_0x4a2204[-0x1389+0x2e*0x10+-0xfb*-0x11]-_0x5c82b8[0x26+0x199d+0x19c1*-0x1])*(-0x24dd*0x1+0x53*-0x61+0x4450+0.5))),_0x445904=_0x4b2f30['indices']!==void(-0xacc*-0x2+-0xdc6*-0x1+-0x235e),_0x572861=new ke(this['_device']);_0x572861['vertexBuff'+'er']=_0x286e7a[_0x4b2f30['vertices']],_0x572861['indexBuffe'+'r'][0x137*0x1a+0x1*0x2401+-0x4397]=_0x445904?_0x3182ea:null,_0x572861['primitive'][-0x198a+-0x13+0x199d]['type']=aL[_0x4b2f30['type']],_0x572861['primitive'][0x7f5+0x7*-0x2ef+-0xc94*-0x1]['base']=_0x445904?_0x4b2f30['base']+_0x55eb00:_0x4b2f30['base'],_0x572861['primitive'][0x529*0x1+0x1c6e+-0x1*0x2197]['count']=_0x4b2f30['count'],_0x572861['primitive'][-0x1ac3+-0x20d1+-0x5d*-0xa4]['indexed']=_0x445904,_0x572861['skin']=_0x4b2f30['skin']!==void(-0x25f9+-0x1ae0+0x40d9)?_0x208fed[_0x4b2f30['skin']]:null,_0x572861['morph']=_0x4b2f30['morph']!==void(-0x45d*0x1+-0xa4a+-0x79*-0x1f)?_0x3161df[_0x4b2f30['morph']]:null,_0x572861['aabb']=_0x510a31,_0x445904&&(_0x41d67a['set'](_0x4b2f30['indices'],_0x55eb00),_0x55eb00+=_0x4b2f30['indices']['length']),_0x2e2630['push'](_0x572861);}return _0x3182ea!==null&&_0x3182ea['unlock'](),_0x2e2630;}['_parseMesh'+'Instances'](_0x4f1ece,_0x1f2711,_0x529ab2,_0x95baa8,_0x2c6176,_0x53aace,_0x51199b){const _0x5e8546=_0x4f1ece['model'],_0x406ec0=[];let _0x1c8575;for(_0x1c8575=-0x1f34+-0x1*0x242b+0x3*0x1675;_0x1c8575<_0x5e8546['meshInstan'+'ces']['length'];_0x1c8575++){const _0xed8072=_0x5e8546['meshInstan'+'ces'][_0x1c8575],_0x42a2db=_0x1f2711[_0xed8072['node']],_0x343a0c=_0x529ab2[_0xed8072['mesh']],_0x152578=new Be(_0x343a0c,this['_defaultMa'+'terial'],_0x42a2db);if(_0x343a0c['skin']){const _0x5c6bff=_0x95baa8['indexOf'](_0x343a0c['skin']);if(_0x5c6bff===-(-0x16e8+-0x22be+0x39a7*0x1))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x152578['skinInstan'+'ce']=_0x2c6176[_0x5c6bff];}if(_0x343a0c['morph']){const _0x2e9baf=_0x53aace['indexOf'](_0x343a0c['morph']);if(_0x2e9baf===-(0x15*-0x1a6+0x25de+-0x33f))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x152578['morphInsta'+'nce']=_0x51199b[_0x2e9baf];}_0x406ec0['push'](_0x152578);}return _0x406ec0;}}class hL extends Ge{constructor(_0x431def){super(_0x431def,'model'),this['_parsers']=[],this['device']=_0x431def['graphicsDe'+'vice'],this['assets']=_0x431def['assets'],this['defaultMat'+'erial']=cl(this['device']),this['addParser'](new lL(this),(_0x137d98,_0x37f936)=>me['getExtensi'+'on'](_0x137d98)==='.json'),this['addParser'](new nL(this),(_0x319073,_0x1cb12c)=>me['getExtensi'+'on'](_0x319073)==='.glb');}['load'](_0x882e05,_0x1a0bdf,_0xc3e1de){typeof _0x882e05=='string'&&(_0x882e05={'load':_0x882e05,'original':_0x882e05});const _0x5bd71f={'retry':this['maxRetries']>-0x81f*-0x1+0x260d+-0x2e2c,'maxRetries':this['maxRetries']};(_0x882e05['load']['startsWith']('blob:')||_0x882e05['load']['startsWith']('data:'))&&(me['getExtensi'+'on'](_0x882e05['original'])['toLowerCas'+'e']()==='.glb'?_0x5bd71f['responseTy'+'pe']=ps['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x5bd71f['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x882e05['load'],_0x5bd71f,(_0x54cb7f,_0x5f4356)=>{if(_0x1a0bdf){if(_0x54cb7f)_0x1a0bdf('Error\x20load'+'ing\x20model:'+'\x20'+_0x882e05['original']+'\x20['+_0x54cb7f+']');else{for(let _0x317413=-0x179c+0x2315*0x1+-0xb79;_0x317413<this['_parsers']['length'];_0x317413++){const _0x395622=this['_parsers'][_0x317413];if(_0x395622['decider'](_0x882e05['original'],_0x5f4356)){_0x395622['parser']['parse'](_0x5f4356,(_0x5a0475,_0x107b68)=>{_0x5a0475?_0x1a0bdf(_0x5a0475):_0x1a0bdf(null,_0x107b68);},_0xc3e1de);return;}}_0x1a0bdf('No\x20parsers'+'\x20found');}}});}['open'](_0x9c22f3,_0x372358){return _0x372358;}['patch'](_0x5a09e5,_0x43b307){if(!_0x5a09e5['resource'])return;const _0x5596c2=_0x5a09e5['data'],_0x159553=this;_0x5a09e5['resource']['meshInstan'+'ces']['forEach']((_0x2256f0,_0x171fe9)=>{if(_0x5596c2['mapping']){const _0x5b3d74=function(_0x11aa25){_0x11aa25['resource']?_0x2256f0['material']=_0x11aa25['resource']:(_0x11aa25['once']('load',_0x5b3d74),_0x43b307['load'](_0x11aa25)),_0x11aa25['once']('remove',_0x525d72=>{_0x2256f0['material']===_0x525d72['resource']&&(_0x2256f0['material']=_0x159553['defaultMat'+'erial']);});};if(!_0x5596c2['mapping'][_0x171fe9]){_0x2256f0['material']=_0x159553['defaultMat'+'erial'];return;}const _0x3f9352=_0x5596c2['mapping'][_0x171fe9]['material'],_0x400ad1=_0x5596c2['mapping'][_0x171fe9]['path'];let _0x6e2f89;if(_0x3f9352!==void(0x19c1*0x1+-0x28*-0x3+-0x1a39))_0x3f9352?(_0x6e2f89=_0x43b307['get'](_0x3f9352),_0x6e2f89?_0x5b3d74(_0x6e2f89):_0x43b307['once']('add:'+_0x3f9352,_0x5b3d74)):_0x2256f0['material']=_0x159553['defaultMat'+'erial'];else{if(_0x400ad1){const _0x4aefd8=_0x5a09e5['getAbsolut'+'eUrl'](_0x5596c2['mapping'][_0x171fe9]['path']);_0x6e2f89=_0x43b307['getByUrl'](_0x4aefd8),_0x6e2f89?_0x5b3d74(_0x6e2f89):_0x43b307['once']('add:url:'+_0x4aefd8,_0x5b3d74);}}}});}['addParser'](_0x55b576,_0x5ebf2b){this['_parsers']['push']({'parser':_0x55b576,'decider':_0x5ebf2b});}}class cL extends Ge{constructor(_0x23beb7){super(_0x23beb7,'scene');}['load'](_0x79414,_0xcd1778){Fx['load'](_0x79414,this['maxRetries'],_0xcd1778);}['open'](_0x27ac3e,_0x1dd947){this['_app']['systems']['script']['preloading']=!(0x10fb+-0x13fe+-0x1*-0x303);const _0xb2f9ad=new jp(this['_app'],!(-0x3d*0xb+0x1dce+-0x8e*0x31))['parse'](_0x1dd947),_0x577e6b=this['_app']['scene'];return _0x577e6b['root']=_0xb2f9ad,this['_app']['applyScene'+'Settings'](_0x1dd947['settings']),this['_app']['systems']['script']['preloading']=!(0x2640+0x1505+0x1*-0x3b44),_0x577e6b;}}const pc=class pc{static['push'](_0x3ba446){pc['_types']['push'](_0x3ba446);}};c(pc,'_types',[]);let jr=pc;const dL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),uL={};Xo['reservedNa'+'mes']['forEach']((_0x2415c3,_0x423d13,_0x28cfc1)=>{uL[_0x2415c3]=-0x1688+-0x1*-0x11ea+0x5b*0xd;});function fL(_0x13bc6c,_0x56a7c8,_0x58073a){if(typeof _0x13bc6c!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x13bc6c+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x13bc6c['prototype']instanceof Zt))throw new Error('script\x20cla'+'ss:\x20\x27'+ic['__getScrip'+'tName'](_0x13bc6c)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x56a7c8=_0x56a7c8||_0x13bc6c['__name']||ic['__getScrip'+'tName'](_0x13bc6c),dL['has'](_0x56a7c8))throw new Error('script\x20nam'+'e:\x20\x27'+_0x56a7c8+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x13bc6c['__name']=_0x56a7c8,Zh['getApplica'+'tion']()['scripts']['add'](_0x13bc6c),jr['push'](_0x13bc6c);}const pL=_0x464b21=>_0x464b21[-0x473*-0x4+0x1a*0x17b+-0x1*0x384a]['toLowerCas'+'e']()+_0x464b21['substring'](-0x227e+-0x130a+0x3589);class mL extends Ge{constructor(_0x5480d0){super(_0x5480d0,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x365d59 in this['_cache']){const _0x32ff50=this['_cache'][_0x365d59],_0x5130dd=_0x32ff50['parentNode'];_0x5130dd&&_0x5130dd['removeChil'+'d'](_0x32ff50);}this['_cache']={};}['load'](_0x2f933e,_0x706ed3){typeof _0x2f933e=='string'&&(_0x2f933e={'load':_0x2f933e,'original':_0x2f933e});const _0x429a20=this;this['_app'];const _0x2a3c93=(_0x2f933e['load'],(_0x39c1ba,_0x239d04,_0x5d1b49)=>{if(_0x39c1ba)_0x706ed3(_0x39c1ba);else{const _0x374b87={};for(let _0x33f867=-0x5b*-0x1+0x15fe+-0x1659;_0x33f867<jr['_types']['length'];_0x33f867++)_0x374b87[jr['_types'][_0x33f867]['name']]=jr['_types'][_0x33f867];jr['_types']['length']=0x2b*-0x67+0x7a5+-0x3*-0x338,_0x706ed3(null,_0x374b87,_0x5d1b49);const _0x209443=_0x239d04['split']('&hash=')[0x1328+-0x1*-0x1c2d+0x6c3*-0x7];delete _0x429a20['_loader']['_cache'][_a['makeKey'](_0x209443,'script')];}}),[_0x5e103b]=_0x2f933e['load']['split']('?');_0x5e103b['endsWith']('.mjs')?this['_loadModul'+'e'](_0x5e103b,_0x2a3c93):this['_loadScrip'+'t'](_0x2f933e['load'],_0x2a3c93);}['open'](_0x47a3b1,_0x197e3c){return _0x197e3c;}['patch'](_0x2a4d6b,_0x3af422){}['_loadScrip'+'t'](_0x2fabad,_0x353764){const _0x452c3f=document['head'],_0x2ead5f=document['createElem'+'ent']('script');this['_cache'][_0x2fabad]=_0x2ead5f,_0x2ead5f['async']=!(0x1487+0x6*0x459+-0x2e9c),_0x2ead5f['addEventLi'+'stener']('error',_0xcfac53=>{_0x353764('Script:\x20'+_0xcfac53['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0x1b3f+-0x1*-0x1945+-0x3483));let _0xe3ae6=!(-0x1f*-0x93+0x144+-0x1310*0x1);_0x2ead5f['onload']=_0x2ead5f['onreadysta'+'techange']=function(){!_0xe3ae6&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0xe3ae6=!(-0x25*0x59+0x99a+-0x1*-0x343),_0x353764(null,_0x2fabad,_0x2ead5f));},_0x2ead5f['src']=_0x2fabad,_0x452c3f['appendChil'+'d'](_0x2ead5f);}['_loadModul'+'e'](_0x35cae3,_0x2f53e3){const _0x53b732=be['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x411fb7=new URL(_0x35cae3,_0x53b732);import(_0x411fb7['toString']())['then'](_0x4c610d=>{var _0x4227a6,_0x118d86;const _0x1f3849=_0x411fb7['pathname']['split']('/')['pop'](),_0x3ab248=(_0x118d86=(_0x4227a6=this['_app']['assets']['find'](_0x1f3849,'script'))==null?void(0x6a9*-0x2+-0xcb*-0x2+0x4*0x2ef):_0x4227a6['data'])==null?void(-0x1a61*0x1+0x1277+0x3f5*0x2):_0x118d86['scripts'];for(const _0x45584f in _0x4c610d){const _0x57264b=_0x4c610d[_0x45584f];if(_0x57264b['prototype']instanceof Zt){const _0x55c0c1=pL(_0x57264b['name']);fL(_0x57264b,_0x55c0c1),_0x3ab248&&this['_app']['scripts']['addSchema'](_0x55c0c1,_0x3ab248[_0x55c0c1]);}}_0x2f53e3(null,_0x35cae3,null);})['catch'](_0xff0e06=>{_0x2f53e3(_0xff0e06);});}}class _L extends Ge{constructor(_0x1a7672){super(_0x1a7672,'shader'),c(this,'decoder',null);}['load'](_0x4ab59f,_0x464832){typeof _0x4ab59f=='string'&&(_0x4ab59f={'load':_0x4ab59f,'original':_0x4ab59f}),Ye['get'](_0x4ab59f['load'],{'retry':this['maxRetries']>0x1433*0x1+-0x6*-0x9+-0x1469,'maxRetries':this['maxRetries']},(_0x4130e3,_0x4836ca)=>{_0x4130e3?_0x464832('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x4ab59f['original']+'\x20['+_0x4130e3+']'):_0x464832(null,_0x4836ca);});}['openBinary'](_0x32e2b8){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x32e2b8);}}function ru(_0x537405){const _0x765ee0=this;_0x765ee0['resource']&&(_0x765ee0['resource']['atlas']=_0x537405['resource']);}function nu(_0x5ea87b){this['registry']['load'](_0x5ea87b);}class gL extends Ge{constructor(_0x287f51){super(_0x287f51,'sprite'),this['_assets']=_0x287f51['assets'],this['_device']=_0x287f51['graphicsDe'+'vice'];}['load'](_0x236381,_0x398ab5){typeof _0x236381=='string'&&(_0x236381={'load':_0x236381,'original':_0x236381}),me['getExtensi'+'on'](_0x236381['original'])==='.json'&&Ye['get'](_0x236381['load'],{'retry':this['maxRetries']>-0xc0d+0x20*-0x11a+0x2f4d,'maxRetries':this['maxRetries']},(_0x5cff6c,_0x344c03)=>{_0x5cff6c?_0x398ab5(_0x5cff6c):_0x398ab5(null,_0x344c03);});}['open'](_0x2c30dd,_0x257e28){const _0x7b5362=new A1(this['_device']);return _0x2c30dd&&(_0x7b5362['__data']=_0x257e28),_0x7b5362;}['patch'](_0xb94c28,_0xbc0376){const _0x357116=_0xb94c28['resource'];if(_0x357116['__data']&&(_0xb94c28['data']['pixelsPerU'+'nit']=_0x357116['__data']['pixelsPerU'+'nit'],_0xb94c28['data']['renderMode']=_0x357116['__data']['renderMode'],_0xb94c28['data']['frameKeys']=_0x357116['__data']['frameKeys'],_0x357116['__data']['textureAtl'+'asAsset'])){const _0x581f23=_0xbc0376['getByUrl'](_0x357116['__data']['textureAtl'+'asAsset']);_0x581f23?_0xb94c28['data']['textureAtl'+'asAsset']=_0x581f23['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x357116['__data']['textureAtl'+'asAsset']);}_0x357116['startUpdat'+'e'](),_0x357116['renderMode']=_0xb94c28['data']['renderMode'],_0x357116['pixelsPerU'+'nit']=_0xb94c28['data']['pixelsPerU'+'nit'],_0x357116['frameKeys']=_0xb94c28['data']['frameKeys'],this['_updateAtl'+'as'](_0xb94c28),_0x357116['endUpdate'](),_0xb94c28['off']('change',this['_onAssetCh'+'ange'],this),_0xb94c28['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x45eaaa){const _0x506a20=_0x45eaaa['resource'];if(!_0x45eaaa['data']['textureAtl'+'asAsset']){_0x506a20['atlas']=null;return;}this['_assets']['off']('load:'+_0x45eaaa['data']['textureAtl'+'asAsset'],ru,_0x45eaaa),this['_assets']['on']('load:'+_0x45eaaa['data']['textureAtl'+'asAsset'],ru,_0x45eaaa);const _0x38eb05=this['_assets']['get'](_0x45eaaa['data']['textureAtl'+'asAsset']);_0x38eb05&&_0x38eb05['resource']?_0x506a20['atlas']=_0x38eb05['resource']:_0x38eb05?this['_assets']['load'](_0x38eb05):(this['_assets']['off']('add:'+_0x45eaaa['data']['textureAtl'+'asAsset'],nu,_0x45eaaa),this['_assets']['on']('add:'+_0x45eaaa['data']['textureAtl'+'asAsset'],nu,_0x45eaaa));}['_onAssetCh'+'ange'](_0xfab137,_0x3a842c,_0xa0dfdd,_0x14b9cd){_0x3a842c==='data'&&_0xa0dfdd&&_0xa0dfdd['textureAtl'+'asAsset']&&_0x14b9cd&&_0xa0dfdd['textureAtl'+'asAsset']!==_0x14b9cd['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x14b9cd['textureAtl'+'asAsset'],ru,_0xfab137),this['_assets']['off']('add:'+_0x14b9cd['textureAtl'+'asAsset'],nu,_0xfab137));}}class Hg{constructor(_0x380968,_0x182fb9){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x380968,this['_data']=_0x182fb9);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x4ce089=new jp(this['_app'],!(-0xb41*-0x3+-0x1*0x1acb+-0x6f8));this['_templateR'+'oot']=_0x4ce089['parse'](this['_data']);}}class yL extends Ge{constructor(_0x4ac3f9){super(_0x4ac3f9,'template'),c(this,'decoder',null);}['load'](_0x44b8ef,_0x3b4612){typeof _0x44b8ef=='string'&&(_0x44b8ef={'load':_0x44b8ef,'original':_0x44b8ef});const _0x3351db={'retry':this['maxRetries']>0x197*-0x15+-0xb*0x32d+-0x1*-0x4452,'maxRetries':this['maxRetries']};Ye['get'](_0x44b8ef['load'],_0x3351db,(_0x5c626b,_0x1ffe05)=>{_0x5c626b?_0x3b4612('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x44b8ef['original']):_0x3b4612(_0x5c626b,_0x1ffe05);});}['open'](_0x82b661,_0x3cdf57){return new Hg(this['_app'],_0x3cdf57);}['openBinary'](_0x40e831){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Hg(this['_app'],JSON['parse'](this['decoder']['decode'](_0x40e831)));}}class xL extends Ge{constructor(_0x4bb061){super(_0x4bb061,'text'),c(this,'decoder',null);}['load'](_0x840ce6,_0x76aa14){typeof _0x840ce6=='string'&&(_0x840ce6={'load':_0x840ce6,'original':_0x840ce6}),Ye['get'](_0x840ce6['load'],{'retry':this['maxRetries']>-0x2*0x115+-0xb71+0xd9b,'maxRetries':this['maxRetries']},(_0x1c637d,_0x11c195)=>{_0x1c637d?_0x76aa14('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x840ce6['original']+'\x20['+_0x1c637d+']'):_0x76aa14(null,_0x11c195);});}['openBinary'](_0x472d2a){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x472d2a);}}const ah={'repeat':nt,'clamp':oe,'mirror':zf},oh={'nearest':fe,'linear':at,'nearest_mip_nearest':yc,'linear_mip_nearest':Sc,'nearest_mip_linear':xc,'linear_mip_linear':an},SL=/^data\.frames\.(\d+)$/;class vL extends Ge{constructor(_0x2442f3){super(_0x2442f3,'textureatl'+'as'),this['_loader']=_0x2442f3['loader'];}['load'](_0x2cd79b,_0x48cb6a){typeof _0x2cd79b=='string'&&(_0x2cd79b={'load':_0x2cd79b,'original':_0x2cd79b});const _0x20eacb=this,_0x189eb9=this['_loader']['getHandler']('texture');me['getExtensi'+'on'](_0x2cd79b['original'])==='.json'?Ye['get'](_0x2cd79b['load'],{'retry':this['maxRetries']>-0x187b+0x37*-0x2+0x18e9,'maxRetries':this['maxRetries']},(_0x122394,_0x2aa3af)=>{if(_0x122394)_0x48cb6a(_0x122394);else{const _0x507948=_0x2cd79b['original']['replace']('.json','.png');_0x20eacb['_loader']['load'](_0x507948,'texture',(_0xcc12b3,_0x369f00)=>{_0xcc12b3?_0x48cb6a(_0xcc12b3):_0x48cb6a(null,{'data':_0x2aa3af,'texture':_0x369f00});});}}):_0x189eb9['load'](_0x2cd79b,_0x48cb6a);}['open'](_0x297f50,_0x172f12,_0xbefd94){const _0x3f2886=new E1();if(_0x172f12['texture']&&_0x172f12['data'])_0x3f2886['texture']=_0x172f12['texture'],_0x3f2886['__data']=_0x172f12['data'];else{const _0x2c22a6=this['_loader']['getHandler']('texture')['open'](_0x297f50,_0x172f12,_0xbefd94);if(!_0x2c22a6)return null;_0x3f2886['texture']=_0x2c22a6;}return _0x3f2886;}['patch'](_0x13002f,_0x2f1641){if(!_0x13002f['resource'])return;_0x13002f['resource']['__data']&&(_0x13002f['resource']['__data']['minfilter']!==void(-0x1c3c+-0x345+-0x64d*-0x5)&&(_0x13002f['data']['minfilter']=_0x13002f['resource']['__data']['minfilter']),_0x13002f['resource']['__data']['magfilter']!==void(0x1e64+0x180c+-0x3670)&&(_0x13002f['data']['magfilter']=_0x13002f['resource']['__data']['magfilter']),_0x13002f['resource']['__data']['addressu']!==void(-0x1ae7*-0x1+-0x1*0x2415+0x1d6*0x5)&&(_0x13002f['data']['addressu']=_0x13002f['resource']['__data']['addressu']),_0x13002f['resource']['__data']['addressv']!==void(0x38f*0x9+-0x36*0x7f+-0x1bf*0x3)&&(_0x13002f['data']['addressv']=_0x13002f['resource']['__data']['addressv']),_0x13002f['resource']['__data']['mipmaps']!==void(0xb7*0x1b+-0x182e+-0x1*-0x4e1)&&(_0x13002f['data']['mipmaps']=_0x13002f['resource']['__data']['mipmaps']),_0x13002f['resource']['__data']['anisotropy']!==void(-0xe*-0x1e2+-0x7*-0x36+0x7*-0x3fa)&&(_0x13002f['data']['anisotropy']=_0x13002f['resource']['__data']['anisotropy']),_0x13002f['resource']['__data']['rgbm']!==void(0xdb4+-0x1ff0+-0x614*-0x3)&&(_0x13002f['data']['rgbm']=!!_0x13002f['resource']['__data']['rgbm']),_0x13002f['data']['frames']=_0x13002f['resource']['__data']['frames'],delete _0x13002f['resource']['__data']);const _0x326695=_0x13002f['resource']['texture'];if(_0x326695&&(_0x326695['name']=_0x13002f['name'],_0x13002f['data']['hasOwnProp'+'erty']('minfilter')&&_0x326695['minFilter']!==oh[_0x13002f['data']['minfilter']]&&(_0x326695['minFilter']=oh[_0x13002f['data']['minfilter']]),_0x13002f['data']['hasOwnProp'+'erty']('magfilter')&&_0x326695['magFilter']!==oh[_0x13002f['data']['magfilter']]&&(_0x326695['magFilter']=oh[_0x13002f['data']['magfilter']]),_0x13002f['data']['hasOwnProp'+'erty']('addressu')&&_0x326695['addressU']!==ah[_0x13002f['data']['addressu']]&&(_0x326695['addressU']=ah[_0x13002f['data']['addressu']]),_0x13002f['data']['hasOwnProp'+'erty']('addressv')&&_0x326695['addressV']!==ah[_0x13002f['data']['addressv']]&&(_0x326695['addressV']=ah[_0x13002f['data']['addressv']]),_0x13002f['data']['hasOwnProp'+'erty']('mipmaps')&&_0x326695['mipmaps']!==_0x13002f['data']['mipmaps']&&(_0x326695['mipmaps']=_0x13002f['data']['mipmaps']),_0x13002f['data']['hasOwnProp'+'erty']('anisotropy')&&_0x326695['anisotropy']!==_0x13002f['data']['anisotropy']&&(_0x326695['anisotropy']=_0x13002f['data']['anisotropy']),_0x13002f['data']['hasOwnProp'+'erty']('rgbm'))){const _0x10f6b4=_0x13002f['data']['rgbm']?ln:Bi;_0x326695['type']!==_0x10f6b4&&(_0x326695['type']=_0x10f6b4);}_0x13002f['resource']['texture']=_0x326695;const _0x37b1ab={};for(const _0x30057f in _0x13002f['data']['frames']){const _0x1fd0c6=_0x13002f['data']['frames'][_0x30057f];_0x37b1ab[_0x30057f]={'rect':new ee(_0x1fd0c6['rect']),'pivot':new W(_0x1fd0c6['pivot']),'border':new ee(_0x1fd0c6['border'])};}_0x13002f['resource']['frames']=_0x37b1ab,_0x13002f['off']('change',this['_onAssetCh'+'ange'],this),_0x13002f['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x26e7da,_0x416254,_0x55b223){let _0xc5b85a;if(_0x416254==='data'||_0x416254==='data.frame'+'s'){const _0xa696e7={};for(const _0x373873 in _0x55b223['frames'])_0xc5b85a=_0x55b223['frames'][_0x373873],_0xa696e7[_0x373873]={'rect':new ee(_0xc5b85a['rect']),'pivot':new W(_0xc5b85a['pivot']),'border':new ee(_0xc5b85a['border'])};_0x26e7da['resource']['frames']=_0xa696e7;}else{const _0x13e972=_0x416254['match'](SL);if(_0x13e972){const _0x23bd24=_0x13e972[0x244a*0x1+-0x261+-0x21e8*0x1];_0x55b223?(_0x26e7da['resource']['frames'][_0x23bd24]?(_0xc5b85a=_0x26e7da['resource']['frames'][_0x23bd24],_0xc5b85a['rect']['set'](_0x55b223['rect'][-0xa73+0x11c*0x14+0x1*-0xbbd],_0x55b223['rect'][-0x3ec+-0x1e31+0x221e],_0x55b223['rect'][0x1ff4+0x10dc+0x1867*-0x2],_0x55b223['rect'][-0x32d+0xe4*-0x12+0x1338]),_0xc5b85a['pivot']['set'](_0x55b223['pivot'][0x134f*0x1+0x5*-0x4d5+0x4da],_0x55b223['pivot'][-0x1072+0x720+-0x953*-0x1]),_0xc5b85a['border']['set'](_0x55b223['border'][-0x17b*0xc+-0x1*0x1b55+0x2d19],_0x55b223['border'][-0x1933+0x2*-0x109d+0x33f*0x12],_0x55b223['border'][0x10e1+-0x1*0x1b1f+0xa40],_0x55b223['border'][0x1dbd+-0x195a+-0x8*0x8c])):_0x26e7da['resource']['frames'][_0x23bd24]={'rect':new ee(_0x55b223['rect']),'pivot':new W(_0x55b223['pivot']),'border':new ee(_0x55b223['border'])},_0x26e7da['resource']['fire']('set:frame',_0x23bd24,_0x26e7da['resource']['frames'][_0x23bd24])):_0x26e7da['resource']['frames'][_0x23bd24]&&(delete _0x26e7da['resource']['frames'][_0x23bd24],_0x26e7da['resource']['fire']('remove:fra'+'me',_0x23bd24));}}}}function bL(){const _0x2d0da5={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x1147d1={'astc':_0x2d0da5['cTFASTC_4x'+'4'],'dxt':_0x2d0da5['cTFBC1'],'etc1':_0x2d0da5['cTFETC1'],'etc2':_0x2d0da5['cTFETC1'],'pvr':_0x2d0da5['cTFPVRTC1_'+'4_RGB'],'atc':_0x2d0da5['cTFATC_RGB'],'none':_0x2d0da5['cTFRGB565']},_0x2cfb7a={'astc':_0x2d0da5['cTFASTC_4x'+'4'],'dxt':_0x2d0da5['cTFBC3'],'etc1':_0x2d0da5['cTFRGBA444'+'4'],'etc2':_0x2d0da5['cTFETC2'],'pvr':_0x2d0da5['cTFPVRTC1_'+'4_RGBA'],'atc':_0x2d0da5['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x2d0da5['cTFRGBA444'+'4']},_0x4ffeef={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x22a0ee=(_0x220cc2,_0x1740f3)=>{switch(_0x220cc2){case _0x2d0da5['cTFETC1']:return _0x1740f3['formats']['etc2']?_0x4ffeef['ETC2_RGB']:_0x4ffeef['ETC1'];case _0x2d0da5['cTFETC2']:return _0x4ffeef['ETC2_RGBA'];case _0x2d0da5['cTFBC1']:return _0x4ffeef['DXT1'];case _0x2d0da5['cTFBC3']:return _0x4ffeef['DXT5'];case _0x2d0da5['cTFPVRTC1_'+'4_RGB']:return _0x4ffeef['PVRTC_4BPP'+'_RGB_1'];case _0x2d0da5['cTFPVRTC1_'+'4_RGBA']:return _0x4ffeef['PVRTC_4BPP'+'_RGBA_1'];case _0x2d0da5['cTFASTC_4x'+'4']:return _0x4ffeef['ASTC_4x4'];case _0x2d0da5['cTFATC_RGB']:return _0x4ffeef['ATC_RGB'];case _0x2d0da5['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x4ffeef['ATC_RGBA'];case _0x2d0da5['cTFRGBA32']:return _0x4ffeef['R8_G8_B8_A'+'8'];case _0x2d0da5['cTFRGB565']:return _0x4ffeef['R5_G6_B5'];case _0x2d0da5['cTFRGBA444'+'4']:return _0x4ffeef['R4_G4_B4_A'+'4'];}},_0x264dda=_0x2e3a9c=>{const _0x577ccd=function(_0x4c4de4,_0x120401){const _0x4f1179=_0x4c4de4*(-0x67f+0x1c0b+0x158c*-0x1+0.00784313725490196)-(0x750+-0x31*-0x62+-0x1a11),_0x4b1d8b=_0x120401*((0xdc7+0x1*-0xbc5+-0x200)/(-0xa9*-0x25+0x248c+0x3bfa*-0x1))-(-0x1*-0x1861+-0xb*0x19d+-0x1*0x6a1),_0x1de87d=Math['sqrt'](-0x24b*0xe+-0xee6*-0x1+0x1135-Math['min'](-0x1169+-0x155f+-0x1*-0x26c9,_0x4f1179*_0x4f1179+_0x4b1d8b*_0x4b1d8b));return Math['max'](0x6db+0xe2*-0x8+0x35,Math['min'](0x1403+-0x7*-0x3b6+-0x1*0x2cfe,Math['floor']((_0x1de87d+(0xb*-0x177+0x15da+0x2*-0x2de))*(-0x1966+0x182f+0x1*0x137+0.5)*(0x1af1+-0x914+0x86f*-0x2))));};for(let _0x471d22=0xa76+0x1*0x2e1+0x1*-0xd57;_0x471d22<_0x2e3a9c['length'];_0x471d22+=-0x859+0x948+-0xeb){const _0xa8c1ab=_0x2e3a9c[_0x471d22+(-0x1*-0x665+-0x25f*0x1+-0x403)],_0xb5840=_0x2e3a9c[_0x471d22+(0x81e+0xf72+-0x178f)];_0x2e3a9c[_0x471d22+(-0x1*0xbb4+-0x269e+0x72*0x71)]=_0xa8c1ab,_0x2e3a9c[_0x471d22+(0x1ae6+0x1e75*0x1+0x115*-0x35)]=_0x577ccd(_0xa8c1ab,_0xb5840),_0x2e3a9c[_0x471d22+(-0x197*-0x18+0x3*0x2a4+-0x2e11)]=-0x24b2+0x2127+-0x48a*-0x1;}return _0x2e3a9c;},_0x539dd4=_0x17df7d=>{const _0x5ac1a8=new Uint16Array(_0x17df7d['length']/(-0x7a*-0x27+-0xa2*-0xc+-0x1a2a));for(let _0x12f467=-0xeea+-0x209*0x3+0x1505;_0x12f467<_0x17df7d['length'];_0x12f467+=-0x155*-0x9+0x20f5+-0xefa*0x3){const _0x3a204d=_0x17df7d[_0x12f467+(0xde*0x1a+0x8a5*0x3+-0x307b)],_0x43d928=_0x17df7d[_0x12f467+(0x372+0x17+0x2*-0x1c4)],_0x4be2a3=_0x17df7d[_0x12f467+(0x1*-0x52f+0x6a6+-0x175)];_0x5ac1a8[_0x12f467/(0x43*-0x71+-0x2449*-0x1+0x2*-0x359)]=(_0x3a204d&-0x6cc+-0x1f*-0x8c+-0x24c*0x4)<<0x13f2+-0xe51*-0x1+-0x223b|(_0x43d928&-0x2*0x887+0x1440+-0x236)<<-0x3*-0x664+-0x247c+0x1153|_0x4be2a3>>-0x8*-0x484+0x15e5*0x1+-0x3a02;}return _0x5ac1a8;},_0x3fced3=(_0x2b608e,_0xc2e540)=>(_0x2b608e&_0x2b608e-(0x2*-0x279+0x10*0x265+-0x215d))===0x13e1+0x26fe*-0x1+-0x131d*-0x1&&(_0xc2e540&_0xc2e540-(-0x1ffe+0x1fbd+0x6*0xb))===0xe*-0x21d+0x294*-0x3+-0x1*-0x2552,_0x5e4806=()=>typeof performance<'u'?performance['now']():0x1f3e+0x18b8+0x3a*-0xf7;let _0x101074,_0x8920b7,_0x152928;const _0x19770e=(_0x343730,_0x5a80d0,_0x1641c9)=>{if(_0x1641c9){if(_0x343730['formats']['astc'])return'astc';}else{if(_0x5a80d0){if(_0x343730['formats']['etc2'])return'etc2';}else{if(_0x343730['formats']['etc2'])return'etc2';if(_0x343730['formats']['etc1'])return'etc1';}}return(_0x4d662f=>{for(let _0x39944b=0x1*-0x293+-0x6*0x5b3+0x24c5;_0x39944b<_0x4d662f['length'];++_0x39944b){const _0x12299f=_0x4d662f[_0x39944b];if(_0x343730['formats'][_0x12299f])return _0x12299f;}return'none';})(_0x5a80d0?_0x152928:_0x8920b7);},_0x45d616=(_0x51dd63,_0x271a8e,_0x5c2758)=>{switch(_0x5c2758){case _0x2d0da5['cTFETC1']:case _0x2d0da5['cTFETC2']:return!(0x1*-0x24e5+-0x111d*0x1+0xdf*0x3e);case _0x2d0da5['cTFBC1']:case _0x2d0da5['cTFBC3']:return(_0x51dd63&0x3*-0xa7e+0x6f7*-0x4+0x3b59)===0x7*-0x1e9+-0xe94+0x1bf3&&(_0x271a8e&0x2*-0x119c+0x2*-0x1114+0x4563)===0x4*0x64+0x15*0x7+-0x223;case _0x2d0da5['cTFPVRTC1_'+'4_RGB']:case _0x2d0da5['cTFPVRTC1_'+'4_RGBA']:return _0x3fced3(_0x51dd63,_0x271a8e);case _0x2d0da5['cTFASTC_4x'+'4']:return!(0x1726*-0x1+-0x1a3+-0x4f5*-0x5);case _0x2d0da5['cTFATC_RGB']:case _0x2d0da5['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x299*-0xd+-0x6*-0x121+0x1aff);}return!(-0x17ab+0x386+-0x2*-0xa13);},_0x245859=(_0x2c73e6,_0x5d6b74,_0xb9cbeb)=>{if(!_0x101074['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x6c4090=_0x5e4806(),_0x400063=new _0x101074['KTX2File'](new Uint8Array(_0x5d6b74)),_0x4c6a61=_0x400063['getWidth'](),_0x443e91=_0x400063['getHeight'](),_0x5d1027=_0x400063['getLevels'](),_0x27a1f1=!!_0x400063['getHasAlph'+'a'](),_0x15c006=_0x400063['isUASTC']&&_0x400063['isUASTC']();if(!_0x4c6a61||!_0x443e91||!_0x5d1027)throw _0x400063['close'](),_0x400063['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x2c73e6+'\x20width='+_0x4c6a61+'\x20height='+_0x443e91+'\x20levels='+_0x5d1027);const _0x49bc17=_0x19770e(_0xb9cbeb['deviceDeta'+'ils'],_0x27a1f1,_0x15c006),_0x51fd53=!!_0xb9cbeb['isGGGR']&&_0x49bc17==='pvr';let _0xc58da2;if(_0x51fd53?_0xc58da2=_0x2d0da5['cTFRGBA32']:(_0xc58da2=_0x27a1f1?_0x2cfb7a[_0x49bc17]:_0x1147d1[_0x49bc17],_0x45d616(_0x4c6a61,_0x443e91,_0xc58da2)||(_0xc58da2=_0x27a1f1?_0x2d0da5['cTFRGBA32']:_0x2d0da5['cTFRGB565'])),!_0x400063['startTrans'+'coding']())throw _0x400063['close'](),_0x400063['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x2c73e6);let _0x54c6a5;const _0x45a628=[];for(let _0x1b9421=-0x1c6c+0xb3*-0x1b+-0x2f4d*-0x1;_0x1b9421<_0x5d1027;++_0x1b9421){const _0x5a8417=_0x400063['getImageTr'+'anscodedSi'+'zeInBytes'](_0x1b9421,0x1*-0x264+0x1d72+-0x1b0e,-0x25d2*0x1+0x11*-0x7c+0x2e0e,_0xc58da2),_0xeb3f7c=new Uint8Array(_0x5a8417);if(!_0x400063['transcodeI'+'mage'](_0xeb3f7c,_0x1b9421,-0xc1b+0x1745+-0x1*0xb2a,-0x1*-0x2c+-0x14d7+0x25*0x8f,_0xc58da2,-0x1871+0x18ff+0x8e*-0x1,-(0x8e+0x1106+-0x1193),-(-0x1*-0xfb0+0x1*0x2596+-0x3545*0x1)))throw _0x400063['close'](),_0x400063['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x2c73e6);const _0x2f71d0=_0xc58da2===_0x2d0da5['cTFRGB565']||_0xc58da2===_0x2d0da5['cTFRGBA444'+'4'];_0x45a628['push'](_0x2f71d0?new Uint16Array(_0xeb3f7c['buffer']):_0xeb3f7c);}if(_0x400063['close'](),_0x400063['delete'](),_0x51fd53){for(_0xc58da2=_0x2d0da5['cTFRGB565'],_0x54c6a5=0x1*-0x141a+-0x2146*-0x1+-0x232*0x6;_0x54c6a5<_0x45a628['length'];++_0x54c6a5)_0x45a628[_0x54c6a5]=_0x539dd4(_0x264dda(_0x45a628[_0x54c6a5]));}return{'format':_0x22a0ee(_0xc58da2,_0xb9cbeb['deviceDeta'+'ils']),'width':_0x4c6a61,'height':_0x443e91,'levels':_0x45a628,'cubemap':!(-0x24*-0x1d+0x255b+-0x296e),'transcodeTime':_0x5e4806()-_0x6c4090,'url':_0x2c73e6,'unswizzledGGGR':_0x51fd53};},_0x5b654d=(_0x3e794f,_0x4e3568,_0x23314e)=>{const _0x1d1e89=_0x5e4806(),_0x41bbee=new _0x101074['BasisFile'](new Uint8Array(_0x4e3568)),_0x3643f4=_0x41bbee['getImageWi'+'dth'](0x3*0x8f+-0x86*0x8+0x283,-0x1135+0xadb+-0x10f*-0x6),_0x1db926=_0x41bbee['getImageHe'+'ight'](-0xc2*0x2d+-0x355+0x256f*0x1,0xb2*-0x1+0x215b+0x1*-0x20a9),_0x24e923=_0x41bbee['getNumImag'+'es'](),_0x3180a5=_0x41bbee['getNumLeve'+'ls'](0xc9d+0x1567*-0x1+0x5*0x1c2),_0x1d9a4e=!!_0x41bbee['getHasAlph'+'a'](),_0x4135df=_0x41bbee['isUASTC']&&_0x41bbee['isUASTC']();if(!_0x3643f4||!_0x1db926||!_0x24e923||!_0x3180a5)throw _0x41bbee['close'](),_0x41bbee['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x3e794f+'\x20width='+_0x3643f4+'\x20height='+_0x1db926+'\x20images='+_0x24e923+'\x20levels='+_0x3180a5);const _0x2f6fb9=_0x19770e(_0x23314e['deviceDeta'+'ils'],_0x1d9a4e,_0x4135df),_0x282d9b=!!_0x23314e['isGGGR']&&_0x2f6fb9==='pvr';let _0x190c9a;if(_0x282d9b?_0x190c9a=_0x2d0da5['cTFRGBA32']:(_0x190c9a=_0x1d9a4e?_0x2cfb7a[_0x2f6fb9]:_0x1147d1[_0x2f6fb9],_0x45d616(_0x3643f4,_0x1db926,_0x190c9a)||(_0x190c9a=_0x1d9a4e?_0x2d0da5['cTFRGBA32']:_0x2d0da5['cTFRGB565'])),!_0x41bbee['startTrans'+'coding']())throw _0x41bbee['close'](),_0x41bbee['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x3e794f);let _0x179fc3;const _0x5a54ee=[];for(let _0x3783f7=0x222e+-0x57*0x57+-0x49d;_0x3783f7<_0x3180a5;++_0x3783f7){const _0x2c94c3=_0x41bbee['getImageTr'+'anscodedSi'+'zeInBytes'](-0x87b*-0x1+0x1b70+-0x23eb,_0x3783f7,_0x190c9a),_0x46b089=new Uint8Array(_0x2c94c3);if(!_0x41bbee['transcodeI'+'mage'](_0x46b089,-0x1b37*-0x1+-0x1*-0xcce+0x2ab*-0xf,_0x3783f7,_0x190c9a,0x20cb+0x3*-0xbfa+-0x1*-0x323,0x1a1a*0x1+0x1*0xdbe+-0x27d8)){if(_0x3783f7===_0x3180a5-(-0x551*-0x5+0x1*-0x1471+0x623*-0x1)&&_0x2c94c3===_0x5a54ee[_0x3783f7-(0x17a9+-0x52f*-0x7+-0x3bf1)]['buffer']['byteLength'])_0x46b089['set'](new Uint8Array(_0x5a54ee[_0x3783f7-(0x17ba+-0x1*-0x19d+-0x2e*0x8d)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x3e794f);else throw _0x41bbee['close'](),_0x41bbee['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x3e794f);}const _0x4de329=_0x190c9a===_0x2d0da5['cTFRGB565']||_0x190c9a===_0x2d0da5['cTFRGBA444'+'4'];_0x5a54ee['push'](_0x4de329?new Uint16Array(_0x46b089['buffer']):_0x46b089);}if(_0x41bbee['close'](),_0x41bbee['delete'](),_0x282d9b){for(_0x190c9a=_0x2d0da5['cTFRGB565'],_0x179fc3=0x1*-0x1a9e+-0x24e4+0x5c6*0xb;_0x179fc3<_0x5a54ee['length'];++_0x179fc3)_0x5a54ee[_0x179fc3]=_0x539dd4(_0x264dda(_0x5a54ee[_0x179fc3]));}return{'format':_0x22a0ee(_0x190c9a,_0x23314e['deviceDeta'+'ils']),'width':_0x3643f4,'height':_0x1db926,'levels':_0x5a54ee,'cubemap':!(-0x11*0x18b+-0xc*0x153+0x2a20),'transcodeTime':_0x5e4806()-_0x1d1e89,'url':_0x3e794f,'unswizzledGGGR':_0x282d9b};},_0x5135ed=(_0x34460b,_0x5a7385,_0x1ae5a1)=>_0x1ae5a1['isKTX2']?_0x245859(_0x34460b,_0x5a7385,_0x1ae5a1):_0x5b654d(_0x34460b,_0x5a7385,_0x1ae5a1),_0x1d054c=(_0x10fa13,_0x573d72,_0x553c3c)=>{try{const _0x115640=_0x5135ed(_0x10fa13,_0x573d72,_0x553c3c);_0x115640['levels']=_0x115640['levels']['map'](_0x4977bc=>_0x4977bc['buffer']),self['postMessag'+'e']({'url':_0x10fa13,'data':_0x115640},_0x115640['levels']);}catch(_0x568ca2){self['postMessag'+'e']({'url':_0x10fa13,'err':_0x568ca2},null);}},_0x331704=(_0x6a9bc3,_0x1a74b1)=>{const _0x56968f=(_0x1c0c64,_0x3c22a4)=>(WebAssembly['instantiat'+'e'](_0x6a9bc3['module'],_0x1c0c64)['then'](_0x4faf1d=>{_0x3c22a4(_0x4faf1d);})['catch'](_0x78fb14=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x78fb14);}),{});self['BASIS'](_0x6a9bc3['module']?{'instantiateWasm':_0x56968f}:null)['then'](_0x220101=>{_0x220101['initialize'+'Basis'](),_0x101074=_0x220101,_0x8920b7=_0x6a9bc3['rgbPriorit'+'y'],_0x152928=_0x6a9bc3['rgbaPriori'+'ty'],_0x1a74b1(null);});},_0x445f1d=[];self['onmessage']=_0x48553b=>{const _0x1acdd2=_0x48553b['data'];switch(_0x1acdd2['type']){case'init':_0x331704(_0x1acdd2['config'],()=>{for(let _0x407ed0=-0x38*0x95+-0x67+-0x1*-0x20ff;_0x407ed0<_0x445f1d['length'];++_0x407ed0)_0x1d054c(_0x445f1d[_0x407ed0]['url'],_0x445f1d[_0x407ed0]['data'],_0x445f1d[_0x407ed0]['options']);_0x445f1d['length']=-0x70c+-0xd*0x1ca+-0x1*-0x1e4e;});break;case'transcode':_0x101074?_0x1d054c(_0x1acdd2['url'],_0x1acdd2['data'],_0x1acdd2['options']):_0x445f1d['push'](_0x1acdd2);break;}};}const wL=_0x692f09=>({'astc':!!_0x692f09['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x692f09['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x692f09['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x692f09['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x692f09['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x692f09['extCompres'+'sedTexture'+'PVRTC']}),TL=(_0xdc10c5,_0x246b2f)=>{const _0x66a9fa=_0x4bc9e1=>{const _0x4040bf=['/*\x20basis\x20*'+'/',_0x4bc9e1,'','('+bL['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x4040bf],{'type':'applicatio'+'n/javascri'+'pt'});},_0x2c342c=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x5bd331=new WebAssembly['Module'](Uint8Array['of'](-0x21e6+0x1c9*0xa+0x403*0x4,-0xb*0x30d+0x1291+0xf5f,-0x1796+0x12e8+0x521,-0x5*0xc+0xa26+-0x97d,0x1cb1+-0x574*-0x1+-0x2224,0x1583*-0x1+-0x1*0x329+0x18ac,-0x1d2a+-0xdc1+0x2aeb*0x1,-0x8*0x3c7+0x472+0x1*0x19c6));if(_0x5bd331 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x5bd331)instanceof WebAssembly['Instance'];}}catch{}return!(-0x7f0+0x1*0x1165+-0x974);},_0x381854=(_0x203431,_0x2df121)=>{_0x246b2f(null,{'workerUrl':URL['createObje'+'ctURL'](_0x66a9fa(_0x203431)),'module':_0x2df121,'rgbPriority':_0xdc10c5['rgbPriorit'+'y'],'rgbaPriority':_0xdc10c5['rgbaPriori'+'ty']});},_0x13e735={'cache':!(0x50a*-0x1+-0x153b+0x1a45),'responseType':'text','retry':_0xdc10c5['maxRetries']>-0x12*-0x26+0x57*0x35+-0x14af,'maxRetries':_0xdc10c5['maxRetries']};if(_0xdc10c5['glueUrl']&&_0xdc10c5['wasmUrl']&&_0x2c342c()){let _0x42cdf2=null,_0x15590b=null;Ye['get'](_0xdc10c5['glueUrl'],_0x13e735,(_0x5012d0,_0x5a75be)=>{_0x5012d0?_0x246b2f(_0x5012d0):_0x15590b?_0x381854(_0x5a75be,_0x15590b):_0x42cdf2=_0x5a75be;});const _0x4e2133=fetch(_0xdc10c5['wasmUrl']),_0xeaf7f2=()=>{_0x4e2133['then'](_0x4f5153=>_0x4f5153['arrayBuffe'+'r']())['then'](_0x185137=>WebAssembly['compile'](_0x185137))['then'](_0x381418=>{_0x42cdf2?_0x381854(_0x42cdf2,_0x381418):_0x15590b=_0x381418;})['catch'](_0x1b4325=>{_0x246b2f(_0x1b4325,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x4e2133)['then'](_0x25ec94=>{_0x42cdf2?_0x381854(_0x42cdf2,_0x25ec94):_0x15590b=_0x25ec94;})['catch'](_0x54688c=>{b['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0xdc10c5['wasmUrl']+'\x20('+_0x54688c+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0xeaf7f2();}):_0xeaf7f2();}else Ye['get'](_0xdc10c5['fallbackUr'+'l'],_0x13e735,(_0x375c07,_0x447861)=>{_0x375c07?_0x246b2f(_0x375c07,null):_0x381854(_0x447861,null);});};class AL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x27b6e6,_0x3e3cf3,_0x489079,_0x3ceba2){if(this['callbacks']['hasOwnProp'+'erty'](_0x27b6e6))this['callbacks'][_0x27b6e6]['push'](_0x489079);else{this['callbacks'][_0x27b6e6]=[_0x489079];const _0x32bca6={'url':_0x27b6e6,'data':_0x3e3cf3,'options':_0x3ceba2};this['clients']['length']>0x1*0xaa+-0xf1f*-0x1+-0x543*0x3?this['clients']['shift']()['run'](_0x32bca6):this['queue']['push'](_0x32bca6);}}['enqueueCli'+'ent'](_0x1ac2fb){this['queue']['length']>0x1dee*0x1+-0x198d+-0x461?_0x1ac2fb['run'](this['queue']['shift']()):this['clients']['push'](_0x1ac2fb);}['handleResp'+'onse'](_0x105f15,_0x5eb617,_0x20538b){const _0x390219=this['callbacks'][_0x105f15];if(_0x5eb617){for(let _0x158f37=-0x516+0x6fd*-0x2+-0xa*-0x1e8;_0x158f37<_0x390219['length'];++_0x158f37)_0x390219[_0x158f37](_0x5eb617);}else{_0x20538b['format']===vc||_0x20538b['format']===bc?_0x20538b['levels']=_0x20538b['levels']['map'](_0x5df933=>new Uint16Array(_0x5df933)):_0x20538b['levels']=_0x20538b['levels']['map'](_0x45c63a=>new Uint8Array(_0x45c63a));for(let _0xf94891=0x1648+0x1e47+0x249*-0x17;_0xf94891<_0x390219['length'];++_0xf94891)_0x390219[_0xf94891](null,_0x20538b);}delete this['callbacks'][_0x105f15];}}class EL{constructor(_0x2ba6fb,_0x5156eb,_0x2d3df5){this['queue']=_0x2ba6fb,this['worker']=new Worker(_0x5156eb['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0xb86bc0=>{const _0x14b9f3=_0xb86bc0['data'];this['queue']['handleResp'+'onse'](_0x14b9f3['url'],_0x14b9f3['err'],_0x14b9f3['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x5156eb}),this['eager']=_0x2d3df5;}['run'](_0x40dfef){const _0x341371=[];_0x40dfef['data']instanceof ArrayBuffer&&_0x341371['push'](_0x40dfef['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x40dfef['url'],'format':_0x40dfef['format'],'data':_0x40dfef['data'],'options':_0x40dfef['options']},_0x341371),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const CL=0x1b5a+0x1f1d+-0x3a76,ML=['etc2','etc1','astc','dxt','pvr','atc'],PL=['astc','dxt','etc2','pvr','atc'],RL=-0xa34+0x29d*-0x2+0xf73,Mf=new AL();let Wg=null,Pf=!(0x54f+-0xe09+0x1*0x8bb);function IL(_0xec89f5){if(!Pf){if(!_0xec89f5)_0xec89f5=Wg||{};else{if(_0xec89f5['lazyInit']){Wg=_0xec89f5;return;}}if(!_0xec89f5['glueUrl']||!_0xec89f5['wasmUrl']||!_0xec89f5['fallbackUr'+'l']){const _0xe181ae=oy['getConfig']('BASIS');_0xe181ae&&(_0xec89f5={'glueUrl':_0xe181ae['glueUrl'],'wasmUrl':_0xe181ae['wasmUrl'],'fallbackUrl':_0xe181ae['fallbackUr'+'l'],'numWorkers':_0xe181ae['numWorkers']});}if(_0xec89f5['glueUrl']||_0xec89f5['wasmUrl']||_0xec89f5['fallbackUr'+'l']){Pf=!(-0x2047*0x1+0x37*0xb+0x1dea*0x1);const _0x592a1c=Math['max'](-0x1f4b*0x1+-0x1*-0x126c+0x20*0x67,Math['min'](0x212d*-0x1+-0x1c89+0x3dc6,_0xec89f5['numWorkers']||CL)),_0x954ab3=_0xec89f5['numWorkers']===-0x4*-0x21c+-0x2586+0x1*0x1d17||(_0xec89f5['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0xec89f5['eagerWorke'+'rs']:!(-0xb3c+-0x7a*0x4d+0x2fee));_0xec89f5['rgbPriorit'+'y']=_0xec89f5['rgbPriorit'+'y']||ML,_0xec89f5['rgbaPriori'+'ty']=_0xec89f5['rgbaPriori'+'ty']||PL,_0xec89f5['maxRetries']=_0xec89f5['hasOwnProp'+'erty']('maxRetries')?_0xec89f5['maxRetries']:RL,TL(_0xec89f5,(_0x329401,_0x286e3a)=>{if(_0x329401)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x329401);else{for(let _0x49ce17=-0x4*0x3e9+-0x26*-0x22+-0x1c4*-0x6;_0x49ce17<_0x592a1c;++_0x49ce17)Mf['enqueueCli'+'ent'](new EL(Mf,_0x286e3a,_0x954ab3));}});}}}let au=null;function kx(_0x415645,_0x2cd016,_0x4ce39f,_0xb3d0e5,_0x157057){return IL(),au||(au={'formats':wL(_0x415645)}),Mf['enqueueJob'](_0x2cd016,_0x4ce39f,_0xb3d0e5,{'deviceDetails':au,'isGGGR':!!(_0x157057!=null&&_0x157057['isGGGR']),'isKTX2':!!(_0x157057!=null&&_0x157057['isKTX2'])}),Pf;}class Va{['load'](_0x5f3520,_0x23dc58,_0x50c7af){throw new Error('not\x20implem'+'ented');}['open'](_0x22108e,_0x2d57f2,_0x69f622){throw new Error('not\x20implem'+'ented');}}class DL extends Va{constructor(_0x43af71,_0x4feeee){super(),this['device']=_0x4feeee,this['maxRetries']=-0x1620+-0x7ae*0x1+0x7*0x442;}['load'](_0x162ab6,_0x477c3c,_0x427499){const _0x21df2f=this['device'],_0x5bbc6a=_0x534ae1=>{var _0x33563c,_0x1bdffa,_0x27857a;kx(_0x21df2f,_0x162ab6['load'],_0x534ae1,_0x477c3c,{'isGGGR':(((_0x27857a=(_0x1bdffa=(_0x33563c=_0x427499==null?void(0x680+0x14f3+-0x1*0x1b73):_0x427499['file'])==null?void(-0x2d2+0x2f*0xf+0x11):_0x33563c['variants'])==null?void(0x1*0x18ac+0x8f3*0x3+-0x79*0x6d):_0x1bdffa['basis'])==null?void(0x29d*0xa+0x4*0x786+-0x3*0x12be):_0x27857a['opt'])&-0xe3b+0x44f*0x1+0x9f4)!==-0x8f2+0x11*-0x171+0x2173})||_0x477c3c('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x427499['name']+']('+_0x427499['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};he['fetchArray'+'Buffer'](_0x162ab6['load'],(_0x1d8b95,_0x46f5c6)=>{_0x1d8b95?_0x477c3c(_0x1d8b95):_0x5bbc6a(_0x46f5c6);},_0x427499,this['maxRetries']);}['open'](_0x3f4338,_0x8a8ec2,_0x15451b,_0x300fd3={}){const _0x46eee0=_0x300fd3['srgb']?Ic(_0x8a8ec2['format']):_0x8a8ec2['format'],_0x58f916=new ce(_0x15451b,{'name':_0x3f4338,'profilerHint':fr,'addressU':_0x8a8ec2['cubemap']?oe:nt,'addressV':_0x8a8ec2['cubemap']?oe:nt,'width':_0x8a8ec2['width'],'height':_0x8a8ec2['height'],'format':_0x46eee0,'cubemap':_0x8a8ec2['cubemap'],'levels':_0x8a8ec2['levels'],..._0x300fd3});return _0x58f916['upload'](),_0x58f916;}}const Ox=new Uint8Array([-0x15*-0x185+0xb40+-0x2aa0,0x722*-0x3+-0x1933+0x2ee9,-0x58d+0x214+-0x1*-0x3c7,0x1*-0x2513+0x1b9*-0xd+-0x5f*-0xa1,-0x1c1+0x634+-0x466,-0xded*0x1+0x12c*0x13+-0x84d,0x214d+0x100c+0x709*-0x7,-0x1*0x87d+-0x1e65+0x26ec,-0x883*0x3+0x493+0x2*0xa7b,0xac0*0x1+0x1db5+0x2875*-0x1,0x3a3+0xea1+-0x1244,0x2b+-0x670+0x652,-0x23a+0x1575+-0x1*0x12f2,0x9*0x3a4+0xdf*-0x19+0x1*-0xab5,-0x1*0x751+-0x5*0x61b+-0x21e*-0x12,0xbf5+0x25ec+-0x318f,-0x1*-0x224f+-0xdfe+-0x1*0x1451,-0x4f5*0x3+-0x1d*0x12c+0xb*0x471,-0x1c81+0x2d4+0x19ad,-0x1*-0x17ff+0xd87+-0x2585*0x1,0x12d3+-0xdf3*-0x1+0x1*-0x20c6,-0x2*-0xa2d+-0x727*0x5+0xf69,-0x1*0x88a+-0xc11+0x19*0xd3,0x226e+0x1*-0xdba+0x7*-0x2f5,-0x1*0x2ed+0x2*0x1327+-0x2359,0x1d9+0x134+0x19*-0x1f,0x15e5+0x3*-0x4cd+0x112*-0x7,-0x199*-0x11+-0x38c+-0x179d,0xddf*-0x2+-0xaa4+0x22*0x121,-0x24d9+0x17e8+-0xd1*-0x10,0xa36*-0x1+0x383*0x8+-0x11cd,-0x586+0x634+0x16,0xf3b+-0xd26+0x84*-0x3,-0x5b6*-0x1+-0x3*-0x9a1+-0x11*0x209,-0x1a28+0xfb3*-0x2+0x398e,-0x47*0x55+-0x1*0x188f+0x3022*0x1,0xc61+0xd69+-0x19bd,0x2b4*0x8+0x1*0x214f+0x5*-0xaee,0x3b5*0x5+0x1c66+-0x2eab,0xd*-0x13f+0x19d1+-0x8d*0x11,0x6*0x4d5+0x215c+0x2*-0x1f03,-0x1*-0x8d5+0x1*0x16ef+-0x7d3*0x4,0x7*0x2cf+0x657+-0x3a*0x6f,0x67f*0x1+-0x1ce8*0x1+-0x4*-0x5b3,0x22e5*0x1+0x1365+-0x2*0x1af3,-0x7a*0x28+0x5*0x18e+0xbae,-0xdd5*-0x1+-0x22aa+-0x1537*-0x1,-0x4c6+-0xd17+-0x13d*-0xf,-0x1*0x1f23+0x41f+0x1b0b,-0x1c*-0x27+0x2223+-0x2667,-0x1c57+0x128+0x1b2f,0x747+-0x14e*-0x13+-0x1fb8,-0x10*0x151+-0x14dd+-0x29ed*-0x1,0x11a5*0x1+0xb0f+-0x1c6d,0xde*0x1+-0xc71+0xbd6,-0x2f*0x9e+0x1f*-0x65+0x29c2*0x1,0x2ed*0xa+0x1932+0x1*-0x35e0,-0x206b+0x11c*-0x1+0x2274,-0x1*0x23e+0xfd9+-0x489*0x3,0xbff+0x11b*-0x10+0x5b1,-0x4ce*-0x4+0xe*-0x6f+-0xd26,0x1c5*0xa+-0x2*-0xf05+-0x2fbc,-0x2*0x3ad+0x1c8c+0x35*-0x65,-0x1*0xf6e+0x1*-0x827+0x1*0x17da,0x18*0x9b+-0x1743+0x101*0x9,-0x76e+0x21fd+-0x1a4b,0x23ca+0x2341+-0x465d*0x1,-0x2*0x4a4+0x1*0x21f1+-0x1867,-0x10b+-0xdd4+0x1*0xf3f,-0x37*0x29+-0x635+0xf86]),Bx=(_0x1a9aed,_0x2710ff)=>{const _0x41aad4=new ce(_0x1a9aed,{'width':0x1,'height':0x1,'format':Te,'mipmaps':!(-0x1e6+-0x1da0+0x1f87),'levels':[_0x2710ff]}),_0x8e0130=new St({'colorBuffer':_0x41aad4,'depth':!(0xc12*0x3+0x166*-0x1+0x85*-0x43)});_0x1a9aed['setFramebu'+'ffer'](_0x8e0130['impl']['_glFrameBu'+'ffer']),_0x1a9aed['initRender'+'Target'](_0x8e0130);const _0x508b28=new Uint8ClampedArray(-0x755*-0x5+0x1b79+-0x200f*0x2);return _0x1a9aed['gl']['readPixels'](-0x1*-0x1c8e+0xaa4+0x1d*-0x15a,-0x3*0x527+-0x5f8+-0x1*-0x156d,0x17e9*-0x1+0x1efa+-0x710,-0x2d+-0x13*-0x7a+0x20*-0x47,_0x1a9aed['gl']['RGBA'],_0x1a9aed['gl']['UNSIGNED_B'+'YTE'],_0x508b28),_0x8e0130['destroy'](),_0x41aad4['destroy'](),_0x508b28[-0xb*0x292+-0x2052+0x3c98]===-0x1069*-0x1+-0x1b1*0x17+0x167f*0x1&&_0x508b28[0xfad+0x68*0x2b+-0x2124]===-0x26ba+0x1*0x1852+-0x735*-0x2&&_0x508b28[0x689+-0x1*0x1673+0x4*0x3fb]===-0x3*-0xad9+-0x4*-0x824+-0x4118&&_0x508b28[0x1*0x1d92+-0x1701+-0x347*0x2]===0x15f*0xd+0x1018+-0x21ac;},LL=_0x4e9f4a=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x480756=>Bx(_0x4e9f4a,_0x480756))['catch'](_0x21e821=>!(0xd7b+-0x12be+0x544)),FL=_0x225d2a=>new Promise((_0x55d7bc,_0x2694f5)=>{const _0x7898c3=new Image();_0x7898c3['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x7898c3['onload']=()=>{_0x55d7bc(Bx(_0x225d2a,_0x7898c3));};});class kL{static['run'](_0x4d76d){LL(_0x4d76d)['then'](_0x5b5449=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x5b5449);}),FL(_0x4d76d)['then'](_0x2cb018=>{console['log']('imgElement'+'IsCorrect='+_0x2cb018);});}}class OL extends Va{constructor(_0x4604c0,_0x4687ff){super(),this['crossOrigi'+'n']=_0x4604c0['prefix']?'anonymous':null,this['maxRetries']=-0x1025*0x1+0x168d*-0x1+0x4e*0x7f,this['device']=_0x4687ff,Qs['get']('IMG_ALPHA_'+'TEST')&&kL['run'](this['device']);}['load'](_0x527ca8,_0x3e0d20,_0x37bcfd){var _0x474ade;const _0x6186d3=!!((_0x474ade=_0x37bcfd==null?void(0x143d+-0x20da+0xc9d):_0x37bcfd['file'])!=null&&_0x474ade['contents']);if(_0x6186d3){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x37bcfd['file']['contents']]),_0x3e0d20);return;}_0x527ca8={'load':URL['createObje'+'ctURL'](new Blob([_0x37bcfd['file']['contents']])),'original':_0x527ca8['original']};}const _0x461fc9=(_0x1bf146,_0x11a710)=>{_0x6186d3&&URL['revokeObje'+'ctURL'](_0x527ca8['load']),_0x3e0d20(_0x1bf146,_0x11a710);};let _0x18fd72;_0x37bcfd&&_0x37bcfd['options']&&_0x37bcfd['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x18fd72=_0x37bcfd['options']['crossOrigi'+'n']:ka['test'](_0x527ca8['load'])&&(_0x18fd72=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x527ca8['load'],_0x527ca8['original'],_0x18fd72,_0x461fc9):this['_loadImage'](_0x527ca8['load'],_0x527ca8['original'],_0x18fd72,_0x461fc9);}['open'](_0x3634ee,_0x43d810,_0x3e5999,_0xd8910b={}){const _0x2d1915=new ce(_0x3e5999,{'name':_0x3634ee,'profilerHint':fr,'width':_0x43d810['width'],'height':_0x43d810['height'],'format':_0xd8910b['srgb']?cs:Te,..._0xd8910b});return _0x2d1915['setSource'](_0x43d810),_0x2d1915;}['_loadImage'](_0x399835,_0x34564b,_0x38eece,_0x35058d){const _0x319c36=new Image();_0x38eece&&(_0x319c36['crossOrigi'+'n']=_0x38eece);let _0x2606b1=-0x6a5+-0x1750+-0x1df5*-0x1;const _0xefb11=this['maxRetries'];let _0xb12bb1;_0x319c36['onload']=function(){_0x35058d(null,_0x319c36);},_0x319c36['onerror']=function(){if(!_0xb12bb1){if(_0xefb11>-0x133a+0x3*-0x628+0x25b2&&++_0x2606b1<=_0xefb11){const _0x79b55d=Math['pow'](-0x1abf+-0x16db*0x1+0x319c,_0x2606b1)*(-0xcc1*0x1+0x104c+-0x327);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x34564b+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x79b55d+'ms...');const _0x1dd9a0=_0x399835['indexOf']('?')>=0x3f*0x1f+0x2655+-0x2df6?'&':'?';_0xb12bb1=setTimeout(()=>{_0x319c36['src']=_0x399835+_0x1dd9a0+'retry='+Date['now'](),_0xb12bb1=null;},_0x79b55d);}else _0x35058d('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x34564b+'\x27');}},_0x319c36['src']=_0x399835;}['_loadImage'+'Bitmap'](_0x26448d,_0xdacac1,_0x466d70,_0x48ec0f){const _0x2daf15={'cache':!(-0xc02+0x1*-0x2476+-0x58*-0x8d),'responseType':'blob','retry':this['maxRetries']>0x740+-0x5*-0x565+-0x2239,'maxRetries':this['maxRetries']};Ye['get'](_0x26448d,_0x2daf15,(_0x385e89,_0x374431)=>{_0x385e89?_0x48ec0f(_0x385e89):this['_loadImage'+'BitmapFrom'+'Blob'](_0x374431,_0x48ec0f);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x4d2d3c,_0x3c3982){createImageBitmap(_0x4d2d3c,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x1e5ad1=>_0x3c3982(null,_0x1e5ad1))['catch'](_0x44cf2c=>_0x3c3982(_0x44cf2c));}}const ou=[-0x3*-0x2c981d65+0x74098b2c+-0x403b8*0x283a,0x12d92d740+0x10957b69f+-0x1bceb*0xda7d,0xaadcb9+-0x11d8389b*-0x1+-0x8690b47],BL={0x83f0:wc,0x83f2:Hf,0x83f3:Yo,0x8d64:Cc,0x9274:$f,0x9278:qf,0x8c00:Mc,0x8c01:Ko,0x8c02:Pc,0x8c03:Zo,0x8051:ur,0x8058:Te,0x8c41:Wf,0x8c43:cs,0x8c3a:ya,0x881b:Tc,0x881a:it};function NL(_0x297242,_0x466a23,_0x1883f5,_0x6bbda6){return _0x297242===ya?new Uint32Array(_0x466a23,_0x1883f5,_0x6bbda6/(-0x382*-0x5+0xb3a+-0x1cc0)):new Uint8Array(_0x466a23,_0x1883f5,_0x6bbda6);}class zL extends Va{constructor(_0x41d837){super(),this['maxRetries']=-0xbfc+0x5*-0x83+-0x4d9*-0x3;}['load'](_0x36bef0,_0x145229,_0x4332df){he['fetchArray'+'Buffer'](_0x36bef0['load'],_0x145229,_0x4332df,this['maxRetries']);}['open'](_0x125718,_0x36b4b2,_0x4f8e40,_0x16e8b3={}){const _0x39d673=this['parse'](_0x36b4b2);if(!_0x39d673)return null;const _0x50c54c=_0x16e8b3['srgb']?Ic(_0x39d673['format']):_0x39d673['format'],_0x19eda2=new ce(_0x4f8e40,{'name':_0x125718,'profilerHint':fr,'addressU':_0x39d673['cubemap']?oe:nt,'addressV':_0x39d673['cubemap']?oe:nt,'width':_0x39d673['width'],'height':_0x39d673['height'],'format':_0x50c54c,'cubemap':_0x39d673['cubemap'],'levels':_0x39d673['levels'],..._0x16e8b3});return _0x19eda2['upload'](),_0x19eda2;}['parse'](_0x22d335){const _0x3acd53=new Uint32Array(_0x22d335);if(ou[0x12e*0x9+-0x26c8+-0x1c2a*-0x1]!==_0x3acd53[0x1b3e+-0x7b*-0x10+-0x22ee]||ou[-0x1*0x9f5+0xcbc+-0x5*0x8e]!==_0x3acd53[0x1ee6+-0x1d6+-0x1d0f]||ou[-0x239c+0x1*0x71+-0x709*-0x5]!==_0x3acd53[-0x1*-0x26a1+-0x9f9+-0x26*0xc1])return b['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x130a95={'endianness':_0x3acd53[-0x110a+-0x403+0x1510],'glType':_0x3acd53[-0x2663+0x1a*0x55+0x1dc5],'glTypeSize':_0x3acd53[0x3fd+-0x581+0x83*0x3],'glFormat':_0x3acd53[0x61*0x65+0x5e7*0x1+0x2c26*-0x1],'glInternalFormat':_0x3acd53[-0x17ec+0x244f+-0xc5c*0x1],'glBaseInternalFormat':_0x3acd53[-0xd*0x277+0x7*0x481+0x8c],'pixelWidth':_0x3acd53[-0x90f+0xa27+-0x1*0x10f],'pixelHeight':_0x3acd53[0x25ce*-0x1+0x181b+0xdbd],'pixelDepth':_0x3acd53[0x15*0x1d4+0x1*-0x1567+-0x10f2],'numberOfArrayElements':_0x3acd53[-0x1028+0x566+-0x3*-0x39a],'numberOfFaces':_0x3acd53[-0xee0+0x3d6*0x3+0x7d*0x7],'numberOfMipmapLevels':_0x3acd53[-0x23*0x36+-0xbb8+0x1328],'bytesOfKeyValueData':_0x3acd53[-0x1be6*-0x1+0x2c2+-0x1e99]};if(_0x130a95['pixelDepth']>-0x19ae+0x6*-0x557+0x39b9)return b['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x130a95['numberOfAr'+'rayElement'+'s']!==-0x1d*-0x95+-0x1*-0x8b2+0x1993*-0x1)return b['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x3a0834=BL[_0x130a95['glInternal'+'Format']];if(_0x3a0834===void(-0x3f*-0x35+0x13*-0xeb+-0x466*-0x1))return b['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x130a95['glInternal'+'Format']),null;let _0x27d253=0x5f3+0x79d+-0xd80+_0x130a95['bytesOfKey'+'ValueData']/(-0x1f8*-0x8+-0x1*-0x15f7+-0x25b3);const _0x51f0db=_0x130a95['numberOfFa'+'ces']>-0xc5f+-0xff2+0xfa*0x1d,_0xd3d2e3=[];for(let _0x38e202=-0x147+-0x1c8e+-0x443*-0x7;_0x38e202<(_0x130a95['numberOfMi'+'pmapLevels']||-0xce3+-0x1*-0x83f+0x4a5);_0x38e202++){const _0x385d49=_0x3acd53[_0x27d253++];_0x51f0db&&_0xd3d2e3['push']([]);const _0x135524=_0x51f0db?_0xd3d2e3[_0x38e202]:_0xd3d2e3;for(let _0x1dbfce=0x95*-0x3d+-0x8db+0x2c5c;_0x1dbfce<(_0x51f0db?-0x94c*0x1+0x85a*0x4+-0x1816:0x4a+0x2546+-0x258f);++_0x1dbfce)_0x135524['push'](NL(_0x3a0834,_0x22d335,_0x27d253*(-0x286+0x1a1*-0x3+0x76d),_0x385d49)),_0x27d253+=_0x385d49+(-0x3*0x9e7+0x1820+-0x2cc*-0x2)>>0x57*-0xb+-0x2*-0x842+-0x1d3*0x7;}return{'format':_0x3a0834,'width':_0x130a95['pixelWidth'],'height':_0x130a95['pixelHeigh'+'t'],'levels':_0xd3d2e3,'cubemap':_0x51f0db};}}const UL={'KHR_DF_MODEL_UASTC':0xa6};class VL extends Va{constructor(_0x587469,_0x16081c){super(),this['maxRetries']=-0x14d6+-0x5fb*-0x5+-0xb*0xd3,this['device']=_0x16081c;}['load'](_0x510bdf,_0xe4ec5d,_0x503c56){he['fetchArray'+'Buffer'](_0x510bdf['load'],(_0x3b04dd,_0x49335a)=>{_0x3b04dd?_0xe4ec5d(_0x3b04dd,_0x49335a):this['parse'](_0x49335a,_0x510bdf,_0xe4ec5d,_0x503c56);},_0x503c56,this['maxRetries']);}['open'](_0x5bba70,_0x1696eb,_0x51ddc0,_0x3f8646={}){const _0x524cba=_0x3f8646['srgb']?Ic(_0x1696eb['format']):_0x1696eb['format'],_0x3fba11=new ce(_0x51ddc0,{'name':_0x5bba70,'profilerHint':fr,'addressU':_0x1696eb['cubemap']?oe:nt,'addressV':_0x1696eb['cubemap']?oe:nt,'width':_0x1696eb['width'],'height':_0x1696eb['height'],'format':_0x524cba,'cubemap':_0x1696eb['cubemap'],'levels':_0x1696eb['levels'],..._0x3f8646});return _0x3fba11['upload'](),_0x3fba11;}['parse'](_0x390554,_0x3a4ebd,_0x224210,_0x201995){var _0x4312e3,_0x2406f3,_0x4f935d;const _0x1ffa5a=new ly(_0x390554),_0x5cd6df=[_0x1ffa5a['readU32be'](),_0x1ffa5a['readU32be'](),_0x1ffa5a['readU32be']()];if(_0x5cd6df[0x2bd+-0x90+0x22d*-0x1]!==0x9892cb25+-0x7d247f*-0x26b+-0x11bdeb5e2||_0x5cd6df[0x2597*0x1+-0x1*0xb39+-0x1a5d]!==0x5112c6*0x25+-0x1*0x27e917fb+0x19016*0x26a4||_0x5cd6df[0x612+0x513*-0x7+-0x1*-0x1d75]!==-0x1015ec6e+-0x9e38259+0x7*0x592ca67)return b['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x1bab22={'vkFormat':_0x1ffa5a['readU32'](),'typeSize':_0x1ffa5a['readU32'](),'pixelWidth':_0x1ffa5a['readU32'](),'pixelHeight':_0x1ffa5a['readU32'](),'pixelDepth':_0x1ffa5a['readU32'](),'layerCount':_0x1ffa5a['readU32'](),'faceCount':_0x1ffa5a['readU32'](),'levelCount':_0x1ffa5a['readU32'](),'supercompressionScheme':_0x1ffa5a['readU32']()},_0xe852bc={'dfdByteOffset':_0x1ffa5a['readU32'](),'dfdByteLength':_0x1ffa5a['readU32'](),'kvdByteOffset':_0x1ffa5a['readU32'](),'kvdByteLength':_0x1ffa5a['readU32'](),'sgdByteOffset':_0x1ffa5a['readU64'](),'sgdByteLength':_0x1ffa5a['readU64']()},_0xdadcb7=[];for(let _0xc73455=-0x25bb+0x8b7*-0x1+-0x2e72*-0x1;_0xc73455<Math['max'](0x1*0x2353+0x21a8+-0x44fa,_0x1bab22['levelCount']);++_0xc73455)_0xdadcb7['push']({'byteOffset':_0x1ffa5a['readU64'](),'byteLength':_0x1ffa5a['readU64'](),'uncompressedByteLength':_0x1ffa5a['readU64']()});if(_0x1ffa5a['readU32']()!==_0xe852bc['kvdByteOff'+'set']-_0xe852bc['dfdByteOff'+'set'])return b['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x1ffa5a['skip'](0x21b6+0x52f+-0x26dd);const _0x311adc=_0x1ffa5a['readU8']();_0x1ffa5a['skip'](_0xe852bc['dfdByteLen'+'gth']-(0xecb+-0x309*0x2+-0x1*0x8b0)),_0x1ffa5a['skip'](_0xe852bc['kvdByteLen'+'gth']),_0x1bab22['supercompr'+'essionSche'+'me']===0x48+0x41*0x33+-0x2*0x69d||_0x311adc===UL['KHR_DF_MOD'+'EL_UASTC']?kx(this['device'],_0x3a4ebd['load'],_0x390554,_0x224210,{'isGGGR':(((_0x4f935d=(_0x2406f3=(_0x4312e3=_0x201995==null?void(0x2492+-0xe1*0x26+-0x32c):_0x201995['file'])==null?void(-0x17ba+0x427*-0x1+0x1be1):_0x4312e3['variants'])==null?void(-0xf7f+0x1be4+0x1*-0xc65):_0x2406f3['basis'])==null?void(0x1664+-0x1*-0xc80+-0x32c*0xb):_0x4f935d['opt'])&-0x1f4d*0x1+-0x2a5*-0x4+0x14c1)!==0xf77+-0x3b*-0x75+-0x2*0x1537,'isKTX2':!(-0x18f9+0x5*-0x2e1+-0x1*-0x275e)})||_0x224210('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x201995['name']+']('+_0x201995['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x224210('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class GL extends Va{constructor(_0x143fce){super(),this['maxRetries']=-0x9e*0x12+0x480+0x69c;}['load'](_0x1f2a5e,_0x233411,_0x9cc639){he['fetchArray'+'Buffer'](_0x1f2a5e['load'],_0x233411,_0x9cc639,this['maxRetries']);}['open'](_0x2b69a0,_0x36525c,_0x11f5ef,_0x509f29={}){const _0x4ed1ca=new Uint32Array(_0x36525c,0x5*0x76d+-0xf6f+0x2*-0xad9,0xafb*-0x3+0x1a1f+-0x2*-0x379),_0x5ac60f=_0x4ed1ca[0xe*-0x1bd+0x1227*0x2+-0x5a*0x22],_0x303bdc=_0x4ed1ca[-0xe6+-0x18a8+0x1991],_0x17b96e=Math['max'](_0x4ed1ca[-0x1c3*-0x11+0x16d2+-0x34be],0x60a*-0x2+0xdaf*-0x1+0x19c4),_0x52714f=_0x4ed1ca[0x7e3+0x10ae+-0x187d*0x1]===-0xb*-0x106+0x1*0x530+-0x106e,_0x2b647b=_0x4ed1ca[-0x11d0+0x177b*-0x1+-0x2*-0x14b0],_0x53c2fd=_0x4ed1ca[0x3d3*0x1+-0x423*0x1+0x66],_0x556710=_0x4ed1ca[-0x120e+0x2*-0x1231+0x1*0x368c]===0x6*0x3bbb+-0xf1*0xa7+0x34d5,_0x361000=-0x1ed8b558+-0x46a1b851+-0x96cec5ed*-0x1,_0x3a23f4=-0x3e0f367d+0x18*-0xfb6c58+0x3*0x2e51e7ab,_0x41b969=-0x1a*-0xed+-0x323+-0x147e,_0x9a83b7=-0x1*0x1e3c+-0x254e+0x43fe,_0x497496=-0x246a58*0x1a5+-0x2fea349e+-0x5*-0x1f69af1f,_0x450bfc=-0x143bbd05+-0x62ea98d+0x4b9d98e2,_0x4979f8=-0x392ec712+-0xf*-0x12be97+0x6949ce89,_0x50e766=0x396df2f3+-0x1c277b04+0x5*0x3fc25ad,_0x5c9a1f=0x1*-0x4aa590b3+0x1*0x54a5fd1+0x768f6532;let _0x6165d5=!(0x16b+-0x1*0x18cd+-0x1*-0x1763),_0x5a8b05=!(-0x1729+-0xc5*0xa+0x1edc),_0x4e7b8b=!(-0x10*0xac+-0x4d5*-0x1+0x5ec),_0x32e3ac=!(-0x90c+-0x6c*0x3a+0x2185*0x1),_0x1fb635=null,_0x9d947a=0x24e4+0x26aa+-0x4b8d,_0x16f203;if(_0x52714f?_0x2b647b===_0x361000?(_0x1fb635=wc,_0x6165d5=!(0x1833+-0x387*-0x1+-0x1bba)):_0x2b647b===_0x3a23f4?(_0x1fb635=Yo,_0x6165d5=!(0x1af*-0x2+-0x1f91+0x22ef)):_0x2b647b===_0x41b969?(_0x1fb635=it,_0x9d947a=-0x1da7*0x1+-0x1*-0x21e9+0x220*-0x2):_0x2b647b===_0x9a83b7?(_0x1fb635=et,_0x9d947a=-0xa7e+0x12ca+-0xd4*0xa):_0x2b647b===_0x497496?(_0x1fb635=Cc,_0x6165d5=!(-0x59d+-0xc4*-0x2e+-0x1d9b),_0x5a8b05=!(0x1551+0x62b*-0x5+0x986)):_0x2b647b===_0x450bfc||_0x2b647b===_0x4979f8?(_0x1fb635=_0x2b647b===_0x450bfc?Ko:Zo,_0x6165d5=!(-0x1c6a+-0x232b+0x3f95),_0x4e7b8b=!(-0x17d6+-0x778+0x1f4e)):(_0x2b647b===_0x50e766||_0x2b647b===_0x5c9a1f)&&(_0x1fb635=_0x2b647b===_0x50e766?Mc:Pc,_0x6165d5=!(-0x1803+-0xd16+-0x2519*-0x1),_0x32e3ac=!(-0xcc9*-0x1+-0x105a+0x391*0x1)):_0x53c2fd===-0x164f+-0x1824+-0x1*-0x2e93&&(_0x1fb635=Te),!_0x1fb635)return b['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x2b69a0+'.'),_0x16f203=new ce(_0x11f5ef,{'width':0x4,'height':0x4,'format':ur,'name':'dds-legacy'+'-empty'}),_0x16f203;_0x16f203=new ce(_0x11f5ef,{'name':_0x2b69a0,'profilerHint':fr,'addressU':_0x556710?oe:nt,'addressV':_0x556710?oe:nt,'width':_0x5ac60f,'height':_0x303bdc,'format':_0x1fb635,'cubemap':_0x556710,'mipmaps':_0x17b96e>-0x16d*-0x12+0x12*0x229+-0x408b,..._0x509f29});let _0x6f82a7=0x1*-0x1262+0x1c48+-0x966;const _0x4c53e2=_0x556710?-0xeea+-0x953+0x1843:0x281+0x1ff3+0x2273*-0x1;let _0x142c46;const _0x59bbb1=-0x509+0x26e9+0xc5*-0x2c,_0x6012ce=-0x207c+-0x8e7*-0x1+-0x1*-0x1799,_0x8fc7c=_0x2b647b===_0x361000?-0xa69+-0x5b*0x6d+0x3130:-0x33d*-0x5+0x1*-0x1f96+-0x527*-0x3;let _0x300e08,_0x3015b1,_0x36a66d;for(let _0x4be44c=-0x204b+-0xfcc*-0x1+0x67*0x29;_0x4be44c<_0x4c53e2;_0x4be44c++){let _0x4d4cd0=_0x5ac60f,_0x210152=_0x303bdc;for(let _0x2c2ef4=-0x184a+0x145d+-0x14f*-0x3;_0x2c2ef4<_0x17b96e;_0x2c2ef4++){_0x6165d5?_0x5a8b05?_0x142c46=Math['floor']((_0x4d4cd0+(0xeca*-0x1+0x17dd+-0x8*0x122))/(0x1484+-0x1496+0x16))*Math['floor']((_0x210152+(0x1261*-0x2+0x17cb+0xcfa))/(-0x1e7a+0x26ed+-0x7f*0x11))*(-0x159d+0xb2+0x1*0x14f3):_0x4e7b8b?_0x142c46=Math['max'](_0x4d4cd0,-0x1801+0x16ef+0x122)*Math['max'](_0x210152,0xc61*0x3+-0x1fdd+-0x53e)/(0x8*0x26b+0x8c9+0x3*-0x95f):_0x32e3ac?_0x142c46=Math['max'](_0x4d4cd0,0x1e65+0x1*0x21ad+0xe*-0x493)*Math['max'](_0x210152,-0x1830+-0x11*-0x10f+0x639)/(0x1469+0xd61*0x2+0x1*-0x2f29):(_0x300e08=Math['floor']((_0x4d4cd0+_0x59bbb1-(-0xe36+0x2*-0x602+0x1a3b))/_0x59bbb1),_0x3015b1=Math['floor']((_0x210152+_0x6012ce-(0x166f+0x16f3+-0x2d61*0x1))/_0x6012ce),_0x36a66d=_0x300e08*_0x3015b1,_0x142c46=_0x36a66d*_0x8fc7c):_0x142c46=_0x4d4cd0*_0x210152*(-0x4*-0x7e+-0x91*-0x5+-0x4c9*0x1);const _0x3176c6=_0x1fb635===et?new Float32Array(_0x36525c,_0x6f82a7,_0x142c46):_0x1fb635===it?new Uint16Array(_0x36525c,_0x6f82a7,_0x142c46):new Uint8Array(_0x36525c,_0x6f82a7,_0x142c46);_0x556710?(_0x16f203['_levels'][_0x2c2ef4]||(_0x16f203['_levels'][_0x2c2ef4]=[]),_0x16f203['_levels'][_0x2c2ef4][_0x4be44c]=_0x3176c6):_0x16f203['_levels'][_0x2c2ef4]=_0x3176c6,_0x6f82a7+=_0x142c46*_0x9d947a,_0x4d4cd0=Math['max'](_0x4d4cd0*(-0x88+0x1adf*0x1+-0x1a57*0x1+0.5),0x139*0x1a+0x6de*0x3+0x3463*-0x1),_0x210152=Math['max'](_0x210152*(-0x1*0x16e5+-0x2a*0x7d+0x2b67+0.5),0x217*0x4+0x5*0x60d+-0x269c);}}return _0x16f203['upload'](),_0x16f203;}}class HL extends Va{constructor(_0x36c188){super(),this['maxRetries']=-0xa41+0x3d5+0x66c;}['load'](_0x23fa1a,_0x40919a,_0x4b8465){he['fetchArray'+'Buffer'](_0x23fa1a['load'],_0x40919a,_0x4b8465,this['maxRetries']);}['open'](_0x48175a,_0x290826,_0x51da0d,_0x3e284b={}){const _0x3523de=this['parse'](_0x290826);if(!_0x3523de)return null;const _0x1b49b1=new ce(_0x51da0d,{'name':_0x48175a,'profilerHint':fr,'addressU':nt,'addressV':oe,'minFilter':fe,'magFilter':fe,'width':_0x3523de['width'],'height':_0x3523de['height'],'levels':_0x3523de['levels'],'format':Te,'type':cp,'mipmaps':!(-0x16c1*0x1+0xf85+0x1*0x73d),..._0x3e284b});return _0x1b49b1['upload'](),_0x1b49b1;}['parse'](_0x5db9e1){const _0x291523=new ly(_0x5db9e1);if(!_0x291523['readLine']()['startsWith']('#?RADIANCE'))return b['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x1e84fe={};for(;;){const _0x2870ec=_0x291523['readLine']();if(_0x2870ec['length']===0x9c9+-0xe67+0x49e)break;{const _0x1c2b8b=_0x2870ec['split']('=');_0x1c2b8b['length']===0x1*0x446+0x9b2+-0xdf6&&(_0x1e84fe[_0x1c2b8b[-0x148e+0x7b9+0xcd5]]=_0x1c2b8b[-0x1ba2+-0x525+0x20c8]);}}if(!_0x1e84fe['hasOwnProp'+'erty']('FORMAT'))return b['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x49ad6b=_0x291523['readLine']()['split']('\x20');if(_0x49ad6b['length']!==-0x183+0x1219*-0x2+0x25b9)return b['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x2deaf9=parseInt(_0x49ad6b[0xb*-0x1d+0xf*0x51+-0x37f],-0xcfd+0x3*0x943+-0x1*0xec2),_0x36ab86=parseInt(_0x49ad6b[-0xc1c+-0x2271*-0x1+-0x1652],-0x1336+-0x1*0x57+0x1397),_0x15bb02=this['_readPixel'+'s'](_0x291523,_0x36ab86,_0x2deaf9,_0x49ad6b[-0xb76+0x651+0x525]==='-Y');return _0x15bb02?{'width':_0x36ab86,'height':_0x2deaf9,'levels':[_0x15bb02]}:null;}['_readPixel'+'s'](_0x2590a1,_0x43caad,_0x247d43,_0x440b55){if(_0x43caad<-0x1e9*-0x5+0x2417+0xf34*-0x3||_0x43caad>-0xe*0xbba+-0x6c58+0x19083)return this['_readPixel'+'sFlat'](_0x2590a1,_0x43caad,_0x247d43);const _0x4295ad=[-0x1*0x1b79+0x1653+0x526,-0x1b05+0x2a7*-0x9+-0x2*-0x1972,-0x2467*-0x1+-0x26d*-0xc+0x21d*-0x1f,0x179*0xe+-0xec*0x8+-0xd3e];if(_0x2590a1['readArray'](_0x4295ad),_0x4295ad[0x1a0f+-0x3c*-0x86+-0x139*0x2f]!==0x24f2*-0x1+-0x1*-0xcf1+0x1803||_0x4295ad[-0xd*-0x119+-0x1d71+0xf2d*0x1]!==0xeed+0x69b+-0x1586||(_0x4295ad[-0x217b+-0x95*-0x9+0x388*0x8]&0x1f01+0x974+-0x27f5)!==-0x340+0x1*-0x195f+0x1c9f)return _0x2590a1['skip'](-(0x1ca4+-0xe61+-0xe3f)),this['_readPixel'+'sFlat'](_0x2590a1,_0x43caad,_0x247d43);const _0x58d654=new ArrayBuffer(_0x43caad*_0x247d43*(-0x1089+0x3*0x111+0xd5a)),_0x232f77=new Uint8Array(_0x58d654);let _0x5025bb=_0x440b55?-0x1f0*-0x14+-0x1*-0x1e95+0x4555*-0x1:_0x43caad*(0x1caa+0xb*-0x12b+-0xfcd)*(_0x247d43-(-0x230+-0x12b6+-0x1*-0x14e7)),_0x4543da,_0x4e9503,_0x8801da,_0x2be68a,_0x285631,_0xa4cc67;for(_0x4e9503=0x2331+0x153*0x1+0x4c*-0x7b;_0x4e9503<_0x247d43;++_0x4e9503){if(_0x4e9503&&_0x2590a1['readArray'](_0x4295ad),(_0x4295ad[-0x3*0xc4f+-0x9f*-0x3e+0xd*-0x1f]<<-0xae*-0x4+-0x1*0x1d6f+-0x29*-0xa7)+_0x4295ad[0x607*-0x3+0x14*-0x15b+-0x2c*-0x107]!==_0x43caad)return b['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x2be68a=-0x20f6+-0x26f4+-0xa*-0x731;_0x2be68a<-0x2*-0x33b+-0x80b+0x1*0x199;++_0x2be68a)for(_0x4543da=0x1*0xbc9+-0x384+0x845*-0x1;_0x4543da<_0x43caad;)if(_0x285631=_0x2590a1['readU8'](),_0x285631>0x1*-0x18a3+0x1d41*0x1+-0x41e){if(_0x285631-=0x1*-0x46c+-0x1*-0xb8+-0x10d*-0x4,_0x4543da+_0x285631>_0x43caad)return b['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0xa4cc67=_0x2590a1['readU8'](),_0x8801da=0x1d9a+0x2ef+-0x2089;_0x8801da<_0x285631;++_0x8801da)_0x232f77[_0x5025bb+_0x2be68a+(0x1*0x18b3+0x465+-0x1d14)*_0x4543da++]=_0xa4cc67;}else{if(_0x285631===-0x22c6+-0x1*-0xb29+0xd*0x1d1||_0x4543da+_0x285631>_0x43caad)return b['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x8801da=0x145a+-0x1a67+0x60d;_0x8801da<_0x285631;++_0x8801da)_0x232f77[_0x5025bb+_0x2be68a+(0x1962+-0x14e*0xc+-0x9b6)*_0x4543da++]=_0x2590a1['readU8']();}_0x5025bb+=_0x43caad*(-0x950+-0x96d*0x2+-0xe17*-0x2)*(_0x440b55?0xe5b+-0x2*-0x1288+-0x336a*0x1:-(-0x330+0xd4+0x25d));}return _0x232f77;}['_readPixel'+'sFlat'](_0x2049ff,_0x3a6cc8,_0x5ec734){return _0x2049ff['remainingB'+'ytes']===_0x3a6cc8*_0x5ec734*(-0x873+0x3*-0x43b+0x1528)?new Uint8Array(_0x2049ff['arraybuffe'+'r'],_0x2049ff['offset']):null;}}const $g={'repeat':nt,'clamp':oe,'mirror':zf},qg={'nearest':fe,'linear':at,'nearest_mip_nearest':yc,'linear_mip_nearest':Sc,'nearest_mip_linear':xc,'linear_mip_linear':an},WL={'default':Bi,'rgbm':ln,'rgbe':cp,'rgbp':ko,'swizzleGGGR':dp},$L=function(_0x3f2090){const _0x2d7a59=Li['calcMipLev'+'elsCount'](_0x3f2090['_width'],_0x3f2090['_height']),_0x2a4b46=function(_0x419645){return _0x419645 instanceof HTMLCanvasElement||_0x419645 instanceof HTMLImageElement||_0x419645 instanceof HTMLVideoElement;};if(!(_0x3f2090['_format']===Te||_0x3f2090['_format']===et)||_0x3f2090['_volume']||_0x3f2090['_compresse'+'d']||_0x3f2090['_levels']['length']===0x1f45+0x25*0x88+-0x32ec||_0x3f2090['_levels']['length']===_0x2d7a59||_0x2a4b46(_0x3f2090['_cubemap']?_0x3f2090['_levels'][0x1994*-0x1+0x14c1+0x1*0x4d3][-0x1b94+0x1*0x207b+0x1*-0x4e7]:_0x3f2090['_levels'][0x5ea*0x2+-0x2c4*0xa+0xfd4]))return;const _0x5a1b60=function(_0x3b4a6a,_0x33fb07,_0x48a66c){const _0x1dba84=Math['max'](0x338+-0x1276+-0x515*-0x3,_0x3b4a6a>>-0x8db+0x14b7+-0xbdb),_0x208e63=Math['max'](-0x2556+-0x9*0x1ac+0x3463*0x1,_0x33fb07>>-0x237e+-0x9ff*0x3+0x417c),_0x596040=new _0x48a66c['constructo'+'r'](_0x1dba84*_0x208e63*(-0x39+-0x2*0x106f+0x153*0x19)),_0xe7026f=Math['floor'](_0x3b4a6a/_0x1dba84),_0x3afb94=Math['floor'](_0x33fb07/_0x208e63),_0x2d7ad1=_0xe7026f*_0x3afb94;for(let _0x52dff1=0x2591+-0x1b20+-0xa71;_0x52dff1<_0x208e63;++_0x52dff1)for(let _0x1dfa76=-0x1319+-0x1*0x3b9+0x16d2;_0x1dfa76<_0x1dba84;++_0x1dfa76)for(let _0x1208e2=0x1d7d*-0x1+0x25*0x1f+-0xc81*-0x2;_0x1208e2<-0x1b74+-0x354+-0x12*-0x1b6;++_0x1208e2){let _0x4f711c=-0x3*0x283+0x21a1+-0x1a18;for(let _0x45c56f=0x25a1+-0x10ca+-0x37*0x61;_0x45c56f<_0x3afb94;++_0x45c56f)for(let _0x3ebed0=-0x1*0xde9+0x223*-0x7+0x1cde;_0x3ebed0<_0xe7026f;++_0x3ebed0)_0x4f711c+=_0x48a66c[(_0x1dfa76*_0xe7026f+_0x3ebed0+(_0x52dff1*_0x3afb94+_0x45c56f)*_0x3b4a6a)*(-0x18f9+-0xf42+0x283f*0x1)+_0x1208e2];_0x596040[(_0x1dfa76+_0x52dff1*_0x1dba84)*(0x1*-0x246+0x4f*0x33+0x1*-0xd73)+_0x1208e2]=_0x4f711c/_0x2d7ad1;}return _0x596040;};for(let _0x5b7bca=_0x3f2090['_levels']['length'];_0x5b7bca<_0x2d7a59;++_0x5b7bca){const _0x5bd26e=Math['max'](-0x16b6+-0x1114*-0x1+0x5a3,_0x3f2090['_width']>>_0x5b7bca-(-0x165b+-0x111c+0x6*0x694)),_0x5342ff=Math['max'](0x133*0x17+-0x1213*-0x1+-0x2da7,_0x3f2090['_height']>>_0x5b7bca-(-0x3*0x282+0xc56+-0x4cf));if(_0x3f2090['_cubemap']){const _0x13ec2a=[];for(let _0x228f90=-0x10a7*0x1+-0x13*-0xad+0x3d0;_0x228f90<-0x203b+-0xd*0x17+-0x216c*-0x1;++_0x228f90)_0x13ec2a['push'](_0x5a1b60(_0x5bd26e,_0x5342ff,_0x3f2090['_levels'][_0x5b7bca-(0x1d5f+0x3*0x4eb+-0x2c1f)][_0x228f90]));_0x3f2090['_levels']['push'](_0x13ec2a);}else _0x3f2090['_levels']['push'](_0x5a1b60(_0x5bd26e,_0x5342ff,_0x3f2090['_levels'][_0x5b7bca-(0x21*0x24+-0x7d*-0xb+0x15*-0x7a)]));}_0x3f2090['_levelsUpd'+'ated']=_0x3f2090['_cubemap']?[[!(-0x1*-0x25b8+-0x1*0x16ed+0x1*-0xecb),!(0x1340+-0x8*0xe+0x2b0*-0x7),!(-0x879+-0x25db*0x1+0x5*0x944),!(-0x52*-0x59+0x28d*0xb+0x1*-0x3891),!(0x241f+0x2172+-0x4591*0x1),!(-0x72a+0x3*-0x2a5+0xf19)]]:[!(-0x1*-0x242a+0x103*-0x8+-0x1c12)];};class qL extends Ge{constructor(_0x37b5dc){super(_0x37b5dc,'texture');const _0x59dd3f=_0x37b5dc['assets'],_0xea98f7=_0x37b5dc['graphicsDe'+'vice'];this['_device']=_0xea98f7,this['_assets']=_0x59dd3f,this['imgParser']=new OL(_0x59dd3f,_0xea98f7),this['parsers']={'dds':new GL(_0x59dd3f),'ktx':new zL(_0x59dd3f),'ktx2':new VL(_0x59dd3f,_0xea98f7),'basis':new DL(_0x59dd3f,_0xea98f7),'hdr':new HL(_0x59dd3f)};}set['crossOrigi'+'n'](_0xe0b28c){this['imgParser']['crossOrigi'+'n']=_0xe0b28c;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x3a7455){this['imgParser']['maxRetries']=_0x3a7455;for(const _0x28e35c in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x28e35c)&&(this['parsers'][_0x28e35c]['maxRetries']=_0x3a7455);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x1aeccf){return _0x1aeccf['indexOf']('?')>=0xd*0x8+0x49*0x6a+-0x1ea2?_0x1aeccf['split']('?')[0x137*-0x17+0x11*0x24a+0xaf9*-0x1]:_0x1aeccf;}['_getParser'](_0x1c2abe){const _0x22f58c=me['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x1c2abe))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x22f58c]||this['imgParser'];}['_getTextur'+'eOptions'](_0x3a7c5f){var _0x2a5316;const _0x55fce0={'profilerHint':fr};if(_0x3a7c5f){((_0x2a5316=_0x3a7c5f['name'])==null?void(0x3*-0x6ff+-0x1620+-0x3*-0xe5f):_0x2a5316['length'])>0x2027+-0x1*0x115a+0x1a5*-0x9&&(_0x55fce0['name']=_0x3a7c5f['name']);const _0x5ea5d0=_0x3a7c5f['data'];_0x5ea5d0['hasOwnProp'+'erty']('minfilter')&&(_0x55fce0['minFilter']=qg[_0x5ea5d0['minfilter']]),_0x5ea5d0['hasOwnProp'+'erty']('magfilter')&&(_0x55fce0['magFilter']=qg[_0x5ea5d0['magfilter']]),_0x5ea5d0['hasOwnProp'+'erty']('addressu')&&(_0x55fce0['addressU']=$g[_0x5ea5d0['addressu']]),_0x5ea5d0['hasOwnProp'+'erty']('addressv')&&(_0x55fce0['addressV']=$g[_0x5ea5d0['addressv']]),_0x5ea5d0['hasOwnProp'+'erty']('mipmaps')&&(_0x55fce0['mipmaps']=_0x5ea5d0['mipmaps']),_0x5ea5d0['hasOwnProp'+'erty']('anisotropy')&&(_0x55fce0['anisotropy']=_0x5ea5d0['anisotropy']),_0x5ea5d0['hasOwnProp'+'erty']('flipY')&&(_0x55fce0['flipY']=!!_0x5ea5d0['flipY']),_0x5ea5d0['hasOwnProp'+'erty']('srgb')&&(_0x55fce0['srgb']=!!_0x5ea5d0['srgb']),_0x5ea5d0['hasOwnProp'+'erty']('type')?_0x55fce0['type']=WL[_0x5ea5d0['type']]:_0x5ea5d0['hasOwnProp'+'erty']('rgbm')&&_0x5ea5d0['rgbm']?_0x55fce0['type']=ln:_0x3a7c5f['file']&&(_0x3a7c5f['file']['opt']&0x1a37+0x1ce5+-0x8d*0x64)!==0x16de*-0x1+-0x12ea*0x2+0x11*0x392&&(_0x55fce0['type']=dp);}return _0x55fce0;}['load'](_0x4eab87,_0x411b85,_0x299f89){typeof _0x4eab87=='string'&&(_0x4eab87={'load':_0x4eab87,'original':_0x4eab87}),this['_getParser'](_0x4eab87['original'])['load'](_0x4eab87,_0x411b85,_0x299f89);}['open'](_0x214bf1,_0xb4a9b8,_0x8ab992){if(!_0x214bf1)return;const _0x5bfacb=this['_getTextur'+'eOptions'](_0x8ab992);let _0x20bb86=this['_getParser'](_0x214bf1)['open'](_0x214bf1,_0xb4a9b8,this['_device'],_0x5bfacb);return _0x20bb86===null?_0x20bb86=new ce(this['_device'],{'width':0x4,'height':0x4,'format':ur}):($L(_0x20bb86),_0xb4a9b8['unswizzled'+'GGGR']&&(_0x8ab992['file']['variants']['basis']['opt']&=-(-0x289*0x7+-0xf15+-0xb3*-0x2f))),_0x20bb86;}['patch'](_0x103ef5,_0x2f8b1e){const _0x19f1a0=_0x103ef5['resource'];if(!_0x19f1a0)return;const _0x313fcd=this['_getTextur'+'eOptions'](_0x103ef5);for(const _0xf7a948 of Object['keys'](_0x313fcd))_0x19f1a0[_0xf7a948]=_0x313fcd[_0xf7a948];}}const XL='inline',jL='immersive-'+'vr',Po='immersive-'+'ar',Xg='viewer',YL='left',KL='cpu-optimi'+'zed',Nx='gpu-optimi'+'zed',zx='luminance-'+'alpha',Ux='unsigned-s'+'hort',Vx='float32';class ZL{constructor(_0xceaa78){c(this,'_manager'),c(this,'_supported',be['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),this['_manager']=_0xceaa78;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x1597a8){!this['_supported']||this['_manager']['active']||(this['_root']=_0x1597a8);}get['root'](){return this['_root'];}}const lh=[],jg=[];class Rf extends de{constructor(_0x35a8c8,_0x1d42f2,_0x476a21,_0x374810=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x35a8c8,this['_xrHitTest'+'Source']=_0x1d42f2,this['_transient']=_0x476a21,this['_inputSour'+'ce']=_0x374810);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x5bbd55=this['manager']['hitTest']['sources'],_0x2ed4bc=_0x5bbd55['indexOf'](this);_0x2ed4bc!==-(-0x2*0xe9e+0x1952+0x11*0x3b)&&_0x5bbd55['splice'](_0x2ed4bc,0x35*-0x92+0x1*0x5f3+0x1848),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x1c6515){if(this['_transient']){const _0x3846e6=_0x1c6515['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0xf1e282=0x2470+-0x67a+-0x1df6*0x1;_0xf1e282<_0x3846e6['length'];_0xf1e282++){const _0x48ac16=_0x3846e6[_0xf1e282];if(!_0x48ac16['results']['length'])continue;let _0x40720;_0x48ac16['inputSourc'+'e']&&(_0x40720=this['manager']['input']['_getByInpu'+'tSource'](_0x48ac16['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x48ac16['results'],_0x40720);}}else{const _0x442c4f=_0x1c6515['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x442c4f['length'])return;this['updateHitR'+'esults'](_0x442c4f);}}['updateHitR'+'esults'](_0xdb270a,_0x520704){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x520704)return;const _0x47b7ae=lh['pop']()??new A();_0x520704?_0x47b7ae['copy'](_0x520704['getOrigin']()):_0x47b7ae['copy'](this['manager']['camera']['getPositio'+'n']());let _0xa6f1b7=(0xfd*0x17+0x2059+0x265*-0x17)/(0x1da*-0xa+-0x7*0x481+0x320b),_0x16338a=null;const _0x23e49e=lh['pop']()??new A(),_0x38135e=jg['pop']()??new ie();for(let _0x3da1e1=-0x8a*-0x24+0x1f1f+-0x3287;_0x3da1e1<_0xdb270a['length'];_0x3da1e1++){const _0x5a8442=_0xdb270a[_0x3da1e1]['getPose'](this['manager']['_reference'+'Space']),_0x257b8f=_0x47b7ae['distance'](_0x5a8442['transform']['position']);_0x257b8f>=_0xa6f1b7||(_0xa6f1b7=_0x257b8f,_0x16338a=_0xdb270a[_0x3da1e1],_0x23e49e['copy'](_0x5a8442['transform']['position']),_0x38135e['copy'](_0x5a8442['transform']['orientatio'+'n']));}this['fire']('result',_0x23e49e,_0x38135e,_0x520704||this['_inputSour'+'ce'],_0x16338a),this['manager']['hitTest']['fire']('result',this,_0x23e49e,_0x38135e,_0x520704||this['_inputSour'+'ce'],_0x16338a),lh['push'](_0x47b7ae),lh['push'](_0x23e49e),jg['push'](_0x38135e);}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_RESU'+'LT','result');class Br extends de{constructor(_0x2ce436){super(),c(this,'manager'),c(this,'_supported',be['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(-0x57*-0x1b+0xcfa+0x9*-0x276)),c(this,'_checkingA'+'vailabilit'+'y',!(0x2f*-0x4+-0x7*-0x9c+0x2b*-0x15)),c(this,'sources',[]),(this['manager']=_0x2ce436,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x3e3615=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0x190a*-0x1+0x23fa+-0xaef);if(!_0x3e3615)return;this['_available']=_0x3e3615,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(0xbd*0x1f+-0x1db4+-0x1*-0x6d1),this['manager']['session']['requestRef'+'erenceSpac'+'e'](Xg)['then'](_0x5852d4=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x5852d4})['then'](_0xdd6e63=>{_0xdd6e63['cancel'](),this['manager']['active']&&(this['_available']=!(-0x125*-0x19+0x345+-0x1fe2),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x2*0x997+-0x25e7+-0x95d*-0x2);for(let _0x45ec7a=-0xc01+0x10f3+0xd3*-0x6;_0x45ec7a<this['sources']['length'];_0x45ec7a++)this['sources'][_0x45ec7a]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x3c1e70={}){var _0x5aca50,_0xcf4879;if(!this['_supported']){(_0x5aca50=_0x3c1e70['callback'])==null||_0x5aca50['call'](_0x3c1e70,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0xcf4879=_0x3c1e70['callback'])==null||_0xcf4879['call'](_0x3c1e70,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x3c1e70['profile']&&!_0x3c1e70['spaceType']&&(_0x3c1e70['spaceType']=Xg);let _0x560ad7;const _0x5b6dc2=_0x3c1e70['offsetRay'];if(_0x5b6dc2){const _0x43c214=new DOMPoint(_0x5b6dc2['origin']['x'],_0x5b6dc2['origin']['y'],_0x5b6dc2['origin']['z'],-0x2188*-0x1+-0xec3+-0x12c4),_0x32cb7b=new DOMPoint(_0x5b6dc2['direction']['x'],_0x5b6dc2['direction']['y'],_0x5b6dc2['direction']['z'],-0x1*-0x1e85+-0x1*-0x2536+0x1*-0x43bb);_0x560ad7=new XRRay(_0x43c214,_0x32cb7b);}const _0x597534=_0x3c1e70['callback'];_0x3c1e70['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x3c1e70['spaceType'])['then'](_0x54d533=>{if(!this['manager']['session']){const _0x3f1e8a=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x597534&&_0x597534(_0x3f1e8a),this['fire']('error',_0x3f1e8a);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x54d533,'entityTypes':_0x3c1e70['entityType'+'s']||void(-0x4*0x85d+0x250a+-0x396),'offsetRay':_0x560ad7})['then'](_0x282e66=>{this['_onHitTest'+'Source'](_0x282e66,!(0x2059+0x15e3+-0x363b),_0x3c1e70['inputSourc'+'e'],_0x597534);})['catch'](_0x45a602=>{_0x597534&&_0x597534(_0x45a602),this['fire']('error',_0x45a602);});})['catch'](_0x5cee95=>{_0x597534&&_0x597534(_0x5cee95),this['fire']('error',_0x5cee95);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x3c1e70['profile'],'entityTypes':_0x3c1e70['entityType'+'s']||void(-0x204c+-0x1*-0x1d5d+0x2ef),'offsetRay':_0x560ad7})['then'](_0x1fa9bc=>{this['_onHitTest'+'Source'](_0x1fa9bc,!(-0xc13*0x3+-0x2*0x623+0x307f*0x1),_0x3c1e70['inputSourc'+'e'],_0x597534);})['catch'](_0x15860c=>{_0x597534&&_0x597534(_0x15860c),this['fire']('error',_0x15860c);});}['_onHitTest'+'Source'](_0x43cf50,_0x9fad3f,_0x2f2135,_0x1bfc02){if(!this['manager']['session']){_0x43cf50['cancel']();const _0x531791=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x1bfc02&&_0x1bfc02(_0x531791),this['fire']('error',_0x531791);return;}const _0x993dda=new Rf(this['manager'],_0x43cf50,_0x9fad3f,_0x2f2135??null);this['sources']['push'](_0x993dda),_0x1bfc02&&_0x1bfc02(null,_0x993dda),this['fire']('add',_0x993dda);}['update'](_0x356aaa){if(this['_available']){for(let _0x1682f8=0x5*0x2a1+0x3a2*0x8+-0x2a35;_0x1682f8<this['sources']['length'];_0x1682f8++)this['sources'][_0x1682f8]['update'](_0x356aaa);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(Br,'EVENT_AVAI'+'LABLE','available'),c(Br,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Br,'EVENT_ADD','add'),c(Br,'EVENT_REMO'+'VE','remove'),c(Br,'EVENT_RESU'+'LT','result'),c(Br,'EVENT_ERRO'+'R','error');class If extends de{constructor(_0x4d8034,_0x484ffa){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',-0x1d3f+0x19*-0x172+0x4161),c(this,'_trackable',!(-0x1*0x1ba5+0xb16*-0x1+-0x4a*-0x86)),c(this,'_tracking',!(0x1f1f+0x14*0x114+-0x34ae)),c(this,'_emulated',!(-0x1a8*0x9+-0x1696+-0x257f*-0x1)),c(this,'_pose',null),c(this,'_position',new A()),c(this,'_rotation',new ie()),(this['_image']=_0x4d8034,this['_width']=_0x484ffa);}get['image'](){return this['_image'];}set['width'](_0x3c6be7){this['_width']=_0x3c6be7;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x3d9207=>(this['_bitmap']=_0x3d9207,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(If,'EVENT_TRAC'+'KED','tracked'),c(If,'EVENT_UNTR'+'ACKED','untracked');class Gx extends de{constructor(_0x23acd3){super(),c(this,'_manager'),c(this,'_supported',be['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(0x1d*0x7f+-0x5*0x506+0xabc)),c(this,'_images',[]),(this['_manager']=_0x23acd3,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x59c450,_0x821257){if(!this['_supported']||this['_manager']['active'])return null;const _0x37ebc7=new If(_0x59c450,_0x821257);return this['_images']['push'](_0x37ebc7),_0x37ebc7;}['remove'](_0xd7ffdf){if(this['_manager']['active'])return;const _0x10f2e9=this['_images']['indexOf'](_0xd7ffdf);_0x10f2e9!==-(-0x689+-0xfb*0x13+-0x17b*-0x11)&&(_0xd7ffdf['destroy'](),this['_images']['splice'](_0x10f2e9,-0x9a*-0x1d+-0xbd*0x16+0x1*-0x133));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x2b8922=>{this['_available']=!(-0x6*0x270+0x1135+-0x295*0x1);for(let _0x4e475c=-0x89f*-0x1+0xdda+-0x1679;_0x4e475c<_0x2b8922['length'];_0x4e475c++)this['_images'][_0x4e475c]['_trackable']=_0x2b8922[_0x4e475c]==='trackable';})['catch'](_0x27128d=>{this['_available']=!(0x20*-0xab+0x23b9*0x1+-0xe58),this['fire']('error',_0x27128d);});}['_onSession'+'End'](){this['_available']=!(-0x1b0e+-0x1ecd+-0x2e*-0x142);for(let _0x3214a3=0x1d9a+0x1*0x16e8+0xd*-0x40a;_0x3214a3<this['_images']['length'];_0x3214a3++){const _0x4ff598=this['_images'][_0x3214a3];_0x4ff598['_pose']=null,_0x4ff598['_measuredW'+'idth']=0x48e*-0x5+-0x193c+0x3002,_0x4ff598['_tracking']&&(_0x4ff598['_tracking']=!(-0xca3*0x1+-0x9*0x43+-0xb*-0x15d),_0x4ff598['fire']('untracked'));}}['prepareIma'+'ges'](_0x4c9a7e){this['_images']['length']?Promise['all'](this['_images']['map'](_0x1337bd=>_0x1337bd['prepare']()))['then'](_0x2a087a=>{_0x4c9a7e(null,_0x2a087a);})['catch'](_0x3149ee=>{_0x4c9a7e(_0x3149ee,null);}):_0x4c9a7e(null,null);}['update'](_0x4c397a){if(!this['_available'])return;const _0x113a7f=_0x4c397a['getImageTr'+'ackingResu'+'lts'](),_0x470e41={};for(let _0x17f162=0xfcc*0x1+0xb54+0x20*-0xd9;_0x17f162<_0x113a7f['length'];_0x17f162++){_0x470e41[_0x113a7f[_0x17f162]['index']]=_0x113a7f[_0x17f162];const _0xafd54e=this['_images'][_0x113a7f[_0x17f162]['index']];_0xafd54e['_emulated']=_0x113a7f[_0x17f162]['trackingSt'+'ate']==='emulated',_0xafd54e['_measuredW'+'idth']=_0x113a7f[_0x17f162]['measuredWi'+'dthInMeter'+'s'],_0xafd54e['_pose']=_0x4c397a['getPose'](_0x113a7f[_0x17f162]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x14b1db=-0x2*-0x86e+-0x1*-0xc83+-0x1d5f;_0x14b1db<this['_images']['length'];_0x14b1db++)this['_images'][_0x14b1db]['_tracking']&&!_0x470e41[_0x14b1db]?(this['_images'][_0x14b1db]['_tracking']=!(0xa3d+0x1*0x43f+0x1*-0xe7b),this['_images'][_0x14b1db]['fire']('untracked')):!this['_images'][_0x14b1db]['_tracking']&&_0x470e41[_0x14b1db]&&(this['_images'][_0x14b1db]['_tracking']=!(0x9b9+0x178e+0x2147*-0x1),this['_images'][_0x14b1db]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Gx,'EVENT_ERRO'+'R','error');class QL{constructor(_0x3b8e85,_0x47d084){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x3b8e85,this['_hand']=_0x47d084,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const Yg=be['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Hx={};for(let l=0x933+0x4b*0x49+-0x1e96;l<Yg['length'];l++)Hx[Yg[l]]=!(0x3*-0xb99+0x9cf+0x18fc);class Kg{constructor(_0x1aa025,_0xbdc1d0,_0x59c342,_0x1c52e0=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new A()),c(this,'_localRota'+'tion',new ie()),c(this,'_position',new A()),c(this,'_rotation',new ie()),c(this,'_dirtyLoca'+'l',!(0x8*-0x1f3+-0x5*-0x27e+-0x1*-0x322)),(this['_index']=_0x1aa025,this['_id']=_0xbdc1d0,this['_hand']=_0x59c342,this['_finger']=_0x1c52e0,this['_wrist']=_0xbdc1d0==='wrist',this['_tip']=this['_finger']&&!!Hx[_0xbdc1d0]);}['update'](_0x167655){this['_dirtyLoca'+'l']=!(-0x1*0xa05+-0x17e3+0x21e8),this['_radius']=_0x167655['radius'],this['_localPosi'+'tion']['copy'](_0x167655['transform']['position']),this['_localRota'+'tion']['copy'](_0x167655['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x2fc*0x2+-0x1d0*0xd+0x1*0x1199),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],A['ONE']));const _0x361b5d=this['_hand']['_manager']['camera']['parent'];_0x361b5d?this['_worldTran'+'sform']['mul2'](_0x361b5d['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x1879+-0xaa2+0xd1*0x2b+0.005;}}let Ah=[];const Dr=new A(),hh=new A(),Zg=new A();be['browser']&&window['XRHand']&&(Ah=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Df extends de{constructor(_0x588b6e){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(-0x11ed+0x1655+-0x31*0x17)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x6f43f3=_0x588b6e['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x588b6e['_manager'],this['_inputSour'+'ce']=_0x588b6e,_0x6f43f3['get']('wrist')){const _0x4eb4f0=new Kg(0x5*-0x553+0x2*0x541+0x101d,'wrist',this,null);this['_wrist']=_0x4eb4f0,this['_joints']['push'](_0x4eb4f0),this['_jointsByI'+'d']['wrist']=_0x4eb4f0;}for(let _0x2e382a=0x133c*0x1+0x15ab+-0x28e7;_0x2e382a<Ah['length'];_0x2e382a++){const _0x1613e2=new QL(_0x2e382a,this);for(let _0x1b680e=0x161e+-0x8d*0x43+-0x5*-0x2f5;_0x1b680e<Ah[_0x2e382a]['length'];_0x1b680e++){const _0x2d7c0f=Ah[_0x2e382a][_0x1b680e];if(!_0x6f43f3['get'](_0x2d7c0f))continue;const _0x399b0d=new Kg(_0x1b680e,_0x2d7c0f,this,_0x1613e2);this['_joints']['push'](_0x399b0d),this['_jointsByI'+'d'][_0x2d7c0f]=_0x399b0d,_0x399b0d['tip']&&(this['_tips']['push'](_0x399b0d),_0x1613e2['_tip']=_0x399b0d),_0x1613e2['_joints']['push'](_0x399b0d);}}}['update'](_0x3da920){const _0x354950=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x104a50=0x1d*0xc+-0x20*-0xc0+-0xcae*0x2;_0x104a50<this['_joints']['length'];_0x104a50++){const _0x5710b2=this['_joints'][_0x104a50],_0x20e71c=_0x354950['hand']['get'](_0x5710b2['_id']);if(_0x20e71c){let _0x20da89;if(_0x3da920['session']['visibility'+'State']!=='hidden'&&(_0x20da89=_0x3da920['getJointPo'+'se'](_0x20e71c,this['_manager']['_reference'+'Space'])),_0x20da89)_0x5710b2['update'](_0x20da89),_0x5710b2['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x1*0xdb2+-0x13*0x1ac+0x3*0x606),this['fire']('tracking'));else{if(_0x5710b2['wrist']){this['_tracking']&&(this['_tracking']=!(0x19dc+-0x1*-0x20a7+0x1*-0x3a82),this['fire']('trackinglo'+'st'));break;}}}}const _0x18a231=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x5393df=this['_jointsByI'+'d']['thumb-tip'],_0x53bede=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x591fbf=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x5ec66d=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x2eec55=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x18a231&&_0x5393df&&_0x53bede&&_0x591fbf&&_0x5ec66d&&_0x2eec55){this['_inputSour'+'ce']['_dirtyRay']=!(0xb2a+0x1a1b*-0x1+0x11*0xe1),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x5393df['_localPosi'+'tion'],_0x591fbf['_localPosi'+'tion'],-0x2*-0x4a2+-0x234d+0xd7*0x1f+0.5);let _0x2af441=_0x18a231,_0x53ab6f=_0x2eec55;if(this['_inputSour'+'ce']['handedness']===YL){const _0x3da187=_0x2af441;_0x2af441=_0x53ab6f,_0x53ab6f=_0x3da187;}Dr['sub2'](_0x2af441['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),hh['sub2'](_0x53ab6f['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Zg['cross'](Dr,hh)['normalize'](),Dr['lerp'](_0x53bede['_localPosi'+'tion'],_0x5ec66d['_localPosi'+'tion'],0x3f*-0x9+-0xa*0xac+0x8ef+0.5),Dr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Zg,Dr,0x1960+0x1cb3+-0x6d*0x7f+0.5)['normalize']();}this['_fingerIsC'+'losed'](-0x21b0+0x17*-0xc5+0x3364)&&this['_fingerIsC'+'losed'](0x1*-0x1ab1+0x12e2*0x2+-0xb11)&&this['_fingerIsC'+'losed'](-0x3be*-0x5+-0x1bb0+0x8fd)&&this['_fingerIsC'+'losed'](0x10af+-0x1ba8+-0x1d*-0x61)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(0x1*-0x23f8+-0x1fe9+0x1*0x43e1),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0x1063+-0x4d4+-0x22*0x57),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x2d2cbc){const _0x53b87c=this['_fingers'][_0x2d2cbc];return Dr['sub2'](_0x53b87c['joints'][0x31*0x1f+-0x1817+0x1228]['_localPosi'+'tion'],_0x53b87c['joints'][0x1d5*0xc+-0xd*0x97+-0xe50]['_localPosi'+'tion'])['normalize'](),hh['sub2'](_0x53b87c['joints'][-0x1119+0x1470+-0x355*0x1]['_localPosi'+'tion'],_0x53b87c['joints'][-0x2139+0x74a+0x51*0x52]['_localPosi'+'tion'])['normalize'](),Dr['dot'](hh)<-(0x2*-0xcf7+0x3ba+0x1634+0.8);}['getJointBy'+'Id'](_0x59471c){return this['_jointsByI'+'d'][_0x59471c]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Df,'EVENT_TRAC'+'KING','tracking'),c(Df,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Qg=new A(),Jg=new ie();let JL=0x338+0x2030+-0x8*0x46d;class As extends de{constructor(_0x57f01d,_0xa9ac1){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new _u()),c(this,'_rayLocal',new _u()),c(this,'_grip',!(0xd4+0x2496+-0x2569)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(-0x1184+0x454*0x9+0x3b*-0x5d)),c(this,'_velocitie'+'sTimestamp',ae()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new A()),c(this,'_rotation',new ie()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(0x244d+-0x10d3+-0x12*0x115)),c(this,'_dirtyRay',!(-0x21a1+-0x1*0xc5b+-0x3d*-0xc1)),c(this,'_selecting',!(0xb8c+-0x25*-0x59+-0x1868)),c(this,'_squeezing',!(-0x5*0x61b+0xf47+0xf41*0x1)),c(this,'_elementIn'+'put',!(0x1ebd+-0x3*-0x223+-0x2526)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++JL,this['_manager']=_0x57f01d,this['_xrInputSo'+'urce']=_0xa9ac1,_0xa9ac1['hand']&&(this['_hand']=new Df(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x30b7c7){this['_elementIn'+'put']!==_0x30b7c7&&(this['_elementIn'+'put']=_0x30b7c7,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x54f53f){if(this['_hand'])this['_hand']['update'](_0x54f53f);else{const _0xe0c37f=this['_xrInputSo'+'urce']['gripSpace'];if(_0xe0c37f){const _0x5c8db8=_0x54f53f['getPose'](_0xe0c37f,this['_manager']['_reference'+'Space']);if(_0x5c8db8){this['_grip']||(this['_grip']=!(-0x6*0x494+0x1*-0x1eeb+0x3a63),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new A(),this['_localPosi'+'tion']=new A(),this['_localRota'+'tion']=new ie(),this['_linearVel'+'ocity']=new A());const _0x4b7dd0=ae(),_0x2504ad=(_0x4b7dd0-this['_velocitie'+'sTimestamp'])/(0x22*-0xed+0x1*0x357+0x200b);this['_velocitie'+'sTimestamp']=_0x4b7dd0,this['_dirtyLoca'+'l']=!(0x5*0x2b2+-0x7*0x25b+0x303),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x5c8db8['transform']['position']),this['_localRota'+'tion']['copy'](_0x5c8db8['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x11*-0x7+0x52f+-0x5a6),this['_manager']['input']['velocities'+'Supported']&&_0x5c8db8['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x5c8db8['linearVelo'+'city']):_0x2504ad>-0x187f*0x1+0xa5f+0x388*0x4&&(Qg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x2504ad),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Qg,0x1*-0x1105+0x2b3*-0x6+0x2137+0.15));}else this['_velocitie'+'sAvailable']=!(0x235b+0x5f0+-0x294a);}const _0xd2f7a3=_0x54f53f['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0xd2f7a3&&(this['_dirtyRay']=!(-0x3b*-0x97+0x670+-0x293d),this['_rayLocal']['origin']['copy'](_0xd2f7a3['transform']['position']),this['_rayLocal']['direction']['set'](0x3af+0xc*-0x305+0xd*0x281,-0x1d00*0x1+-0xa0c*0x1+0x270c,-(-0xb92+-0x123*0xb+0x1814)),Jg['copy'](_0xd2f7a3['transform']['orientatio'+'n']),Jg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x1d64+0x252d+-0x4290),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],A['ONE']));const _0x31e689=this['_manager']['camera']['parent'];_0x31e689?this['_worldTran'+'sform']['mul2'](_0x31e689['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x204819=this['_dirtyRay'];if(this['_dirtyRay']=!(0x122*0x1e+0x196c+-0x25*0x19b),this['_manager']['camera']['parent']){const _0x54ba70=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x54ba70['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x54ba70),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x204819&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x417e88={}){_0x417e88['inputSourc'+'e']=this,_0x417e88['profile']=this['_xrInputSo'+'urce']['profiles'][-0x229e+0x169*0xd+-0x1*-0x1049];const _0x99cdd4=_0x417e88['callback'];_0x417e88['callback']=(_0x258d94,_0x18482f)=>{_0x18482f&&this['onHitTestS'+'ourceAdd'](_0x18482f),_0x99cdd4&&_0x99cdd4(_0x258d94,_0x18482f);},this['_manager']['hitTest']['start'](_0x417e88);}['onHitTestS'+'ourceAdd'](_0x4a2a29){this['_hitTestSo'+'urces']['push'](_0x4a2a29),this['fire']('hittest:ad'+'d',_0x4a2a29),_0x4a2a29['on']('result',(_0x120cfa,_0x24eadd,_0x52721b,_0x5b86da)=>{_0x52721b===this&&this['fire']('hittest:re'+'sult',_0x4a2a29,_0x120cfa,_0x24eadd,_0x5b86da);}),_0x4a2a29['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x4a2a29),this['fire']('hittest:re'+'move',_0x4a2a29);});}['onHitTestS'+'ourceRemov'+'e'](_0x46c865){const _0x907ca3=this['_hitTestSo'+'urces']['indexOf'](_0x46c865);_0x907ca3!==-(-0x5b3*-0x2+-0x2036+0x14d1)&&this['_hitTestSo'+'urces']['splice'](_0x907ca3,0x1174*0x2+-0xc89*-0x1+-0x17b8*0x2);}}c(As,'EVENT_REMO'+'VE','remove'),c(As,'EVENT_SELE'+'CT','select'),c(As,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(As,'EVENT_SELE'+'CTEND','selectend'),c(As,'EVENT_SQUE'+'EZE','squeeze'),c(As,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(As,'EVENT_SQUE'+'EZEEND','squeezeend'),c(As,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(As,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(As,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class gi extends de{constructor(_0x18adff){var _0x5767a3,_0x18ece3;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(0x1061*-0x1+-0x1*-0x98f+0x6d3)),(this['manager']=_0x18adff,this['velocities'+'Supported']=!!(be['browser']&&((_0x18ece3=(_0x5767a3=window['XRPose'])==null?void(0x3d2*-0xa+-0x1783+0x3db7*0x1):_0x5767a3['prototype'])!=null&&_0x18ece3['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x4c66c6=>{this['_onInputSo'+'urcesChang'+'e'](_0x4c66c6);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x195c45=this['manager']['session'];_0x195c45['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x195c45['addEventLi'+'stener']('select',_0x58b430=>{const _0x51c06b=this['_getByInpu'+'tSource'](_0x58b430['inputSourc'+'e']);_0x51c06b['update'](_0x58b430['frame']),_0x51c06b['fire']('select',_0x58b430),this['fire']('select',_0x51c06b,_0x58b430);}),_0x195c45['addEventLi'+'stener']('selectstar'+'t',_0x164a75=>{const _0xae3865=this['_getByInpu'+'tSource'](_0x164a75['inputSourc'+'e']);_0xae3865['_selecting']||(_0xae3865['update'](_0x164a75['frame']),_0xae3865['_selecting']=!(0xc10+-0x4bc+0x2*-0x3aa),_0xae3865['fire']('selectstar'+'t',_0x164a75),this['fire']('selectstar'+'t',_0xae3865,_0x164a75));}),_0x195c45['addEventLi'+'stener']('selectend',_0x13e654=>{const _0x308e06=this['_getByInpu'+'tSource'](_0x13e654['inputSourc'+'e']);_0x308e06['update'](_0x13e654['frame']),_0x308e06['_selecting']=!(0x2015+-0x1c3a+-0x3da),_0x308e06['fire']('selectend',_0x13e654),this['fire']('selectend',_0x308e06,_0x13e654);}),_0x195c45['addEventLi'+'stener']('squeeze',_0x22679c=>{const _0x2ef265=this['_getByInpu'+'tSource'](_0x22679c['inputSourc'+'e']);_0x2ef265['update'](_0x22679c['frame']),_0x2ef265['fire']('squeeze',_0x22679c),this['fire']('squeeze',_0x2ef265,_0x22679c);}),_0x195c45['addEventLi'+'stener']('squeezesta'+'rt',_0xdbf779=>{const _0x47b15b=this['_getByInpu'+'tSource'](_0xdbf779['inputSourc'+'e']);_0x47b15b['update'](_0xdbf779['frame']),_0x47b15b['_squeezing']=!(0x1357+0x1662+-0x29b9*0x1),_0x47b15b['fire']('squeezesta'+'rt',_0xdbf779),this['fire']('squeezesta'+'rt',_0x47b15b,_0xdbf779);}),_0x195c45['addEventLi'+'stener']('squeezeend',_0x8fe8ef=>{const _0x43b167=this['_getByInpu'+'tSource'](_0x8fe8ef['inputSourc'+'e']);_0x43b167['update'](_0x8fe8ef['frame']),_0x43b167['_squeezing']=!(-0x175*-0x4+-0x2*0x751+0x8cf),_0x43b167['fire']('squeezeend',_0x8fe8ef),this['fire']('squeezeend',_0x43b167,_0x8fe8ef);});const _0x416752=_0x195c45['inputSourc'+'es'];for(let _0x5a46f9=-0x1fcd+-0x11*-0x245+0x364*-0x2;_0x5a46f9<_0x416752['length'];_0x5a46f9++)this['_addInputS'+'ource'](_0x416752[_0x5a46f9]);}['_onSession'+'End'](){let _0x4e3601=this['_inputSour'+'ces']['length'];for(;_0x4e3601--;){const _0x4f717c=this['_inputSour'+'ces'][_0x4e3601];this['_inputSour'+'ces']['splice'](_0x4e3601,0x1c6e+0x824+-0x2491),_0x4f717c['fire']('remove'),this['fire']('remove',_0x4f717c);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x42bf8a){for(let _0x507ff1=0xc41+0x1*0x2037+-0x1*0x2c78;_0x507ff1<_0x42bf8a['removed']['length'];_0x507ff1++)this['_removeInp'+'utSource'](_0x42bf8a['removed'][_0x507ff1]);for(let _0x5a36ee=-0xf57+-0xb0c+0x1a63*0x1;_0x5a36ee<_0x42bf8a['added']['length'];_0x5a36ee++)this['_addInputS'+'ource'](_0x42bf8a['added'][_0x5a36ee]);}['_getByInpu'+'tSource'](_0x3ff57a){for(let _0x356e8d=0x14*-0x1db+-0x1e*0x1a+0x2828;_0x356e8d<this['_inputSour'+'ces']['length'];_0x356e8d++)if(this['_inputSour'+'ces'][_0x356e8d]['inputSourc'+'e']===_0x3ff57a)return this['_inputSour'+'ces'][_0x356e8d];return null;}['_removeApp'+'Entity'](_0xf8048f){const _0x2c72be=this['manager']['app']['root']['findByName']('Armature_'+_0xf8048f);_0x2c72be&&this['manager']['app']['root']['removeChil'+'d'](_0x2c72be);}['_addInputS'+'ource'](_0x3f6d62){if(this['_removeApp'+'Entity'](_0x3f6d62['handedness']),this['_getByInpu'+'tSource'](_0x3f6d62))return;const _0x536b0d=new As(this['manager'],_0x3f6d62);this['_inputSour'+'ces']['push'](_0x536b0d),this['fire']('add',_0x536b0d);}['_removeInp'+'utSource'](_0x3e7945){for(let _0x32c2c6=-0x1*-0x1153+0x167c+-0x27cf;_0x32c2c6<this['_inputSour'+'ces']['length'];_0x32c2c6++){if(this['_inputSour'+'ces'][_0x32c2c6]['inputSourc'+'e']!==_0x3e7945)continue;const _0x210018=this['_inputSour'+'ces'][_0x32c2c6];this['_inputSour'+'ces']['splice'](_0x32c2c6,-0x1*0x439+0x5dc+0xb*-0x26);let _0x116e82=_0x210018['hitTestSou'+'rces']['length'];for(;_0x116e82--;)_0x210018['hitTestSou'+'rces'][_0x116e82]['remove']();this['_removeApp'+'Entity'](_0x210018['handedness']),_0x210018['fire']('remove'),this['fire']('remove',_0x210018);return;}}['update'](_0x32c594){for(let _0x1ed93e=0x24da*0x1+0xc0b*-0x1+-0x18cf;_0x1ed93e<this['_inputSour'+'ces']['length'];_0x1ed93e++)this['_inputSour'+'ces'][_0x1ed93e]['update'](_0x32c594);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(gi,'EVENT_ADD','add'),c(gi,'EVENT_REMO'+'VE','remove'),c(gi,'EVENT_SELE'+'CT','select'),c(gi,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(gi,'EVENT_SELE'+'CTEND','selectend'),c(gi,'EVENT_SQUE'+'EZE','squeeze'),c(gi,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(gi,'EVENT_SQUE'+'EZEEND','squeezeend');const Yn=new A(),ey=new A(),lu=new q(),ty=new q();class Lf extends de{constructor(_0xc91d26){super(),c(this,'_manager'),c(this,'_supported',!(-0x70*-0x13+0xdf*-0x15+0x9fc)),c(this,'_available',!(-0xfa+0x1*0x72b+-0x21*0x30)),c(this,'_lightProb'+'eRequested',!(-0x11*-0x7+-0x135*-0x17+-0x1c39)),c(this,'_lightProb'+'e',null),c(this,'_intensity',-0xdd3+-0x2*0x829+0x1*0x1e25),c(this,'_rotation',new ie()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(0x10*-0x175+-0x1*0x260e+0x3d79)),(this['_manager']=_0xc91d26,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x1*0x40f+-0x1e54+0x2263));}['_onSession'+'End'](){this['_supported']=!(0x6*-0xa+0x3*0x941+-0x1b86),this['_available']=!(-0x1ec4+-0x22f3+0x837*0x8),this['_lightProb'+'eRequested']=!(0x107*-0x9+-0x14a9+0x1de9),this['_lightProb'+'e']=null;}['start'](){let _0xd3cfe3;if(this['_manager']['session']||(_0xd3cfe3=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0xd3cfe3&&this['_manager']['type']!==Po&&(_0xd3cfe3=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0xd3cfe3&&!this['_supported']&&(_0xd3cfe3=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0xd3cfe3&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0xd3cfe3=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0xd3cfe3){this['fire']('error',_0xd3cfe3);return;}this['_lightProb'+'eRequested']=!(-0x201*-0x7+0x6*-0x5e1+0x153f),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x25e0a9=>{const _0x4d2b37=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x782+-0x92+-0x6ef*0x1),this['_manager']['active']?_0x4d2b37&&(this['_lightProb'+'e']=_0x25e0a9):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x3fccb0=>{this['_lightProb'+'eRequested']=!(0x24*0xb1+-0x68c+0x1*-0x1257),this['fire']('error',_0x3fccb0);});}['end'](){this['_lightProb'+'eRequested']=!(0x121+-0x1*0x1a47+0x1927),this['_lightProb'+'e']=null,this['_available']=!(0x65*0x2a+-0x155a+-0xf5*-0x5);}['update'](_0x4435f7){if(!this['_lightProb'+'e'])return;const _0x380b82=_0x4435f7['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x380b82)return;this['_available']||(this['_available']=!(0x2b3+-0x1e51+0x1b9e),this['fire']('available'));const _0x3432f6=_0x380b82['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x4*-0x4c+-0x1bc5+-0x2a2*-0xb,Math['max'](_0x3432f6['x'],Math['max'](_0x3432f6['y'],_0x3432f6['z']))),Yn['copy'](_0x3432f6)['mulScalar']((-0x1e*0x5f+0x1d2*0x6+0x37)/this['_intensity']),this['_color']['set'](Yn['x'],Yn['y'],Yn['z']),Yn['set'](0x116a*0x1+0x474+0x3*-0x74a,0x455*0x5+-0x1d39*-0x1+-0x2*0x1971,-0xb6*0x2a+-0x19fe+-0x129e*-0x3),ey['copy'](_0x380b82['primaryLig'+'htDirectio'+'n']),lu['setLookAt'](ey,Yn,A['UP']),ty['setFromAxi'+'sAngle'](A['RIGHT'],-0x1e72+0x9ac+0x1520),lu['mul'](ty),this['_rotation']['setFromMat'+'4'](lu),this['_spherical'+'Harmonics']['set'](_0x380b82['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Lf,'EVENT_AVAI'+'LABLE','available'),c(Lf,'EVENT_ERRO'+'R','error');let eF=0x12a5+-0x1*-0x2092+0x1*-0x3337;class Ff extends de{constructor(_0x98e9ac,_0x256a72){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new A()),c(this,'_rotation',new ie()),(this['_id']=++eF,this['_planeDete'+'ction']=_0x98e9ac,this['_xrPlane']=_0x256a72,this['_lastChang'+'edTime']=_0x256a72['lastChange'+'dTime'],this['_orientati'+'on']=_0x256a72['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x5929b5){const _0xd08886=this['_planeDete'+'ction']['_manager'],_0x11ebc7=_0x5929b5['getPose'](this['_xrPlane']['planeSpace'],_0xd08886['_reference'+'Space']);_0x11ebc7&&(this['_position']['copy'](_0x11ebc7['transform']['position']),this['_rotation']['copy'](_0x11ebc7['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Ff,'EVENT_REMO'+'VE','remove'),c(Ff,'EVENT_CHAN'+'GE','change');class mo extends de{constructor(_0x2fefd9){super(),c(this,'_manager'),c(this,'_supported',be['browser']&&!!window['XRPlane']),c(this,'_available',!(0x4*0x419+0x1*-0x31b+-0xd48)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x2fefd9,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(0xa64+-0x3*-0x85f+-0x2380)&&(this['_available']=!(-0x4*0x2bd+-0x97d+0x1471),this['fire']('available'));}['_onSession'+'End'](){for(let _0x1b7d0f=0x31a+-0x821+-0x9*-0x8f;_0x1b7d0f<this['_planes']['length'];_0x1b7d0f++)this['_planes'][_0x1b7d0f]['destroy'](),this['fire']('remove',this['_planes'][_0x1b7d0f]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x858+-0x3af+0xc07,this['_available']&&(this['_available']=!(0x2*0x1196+0x56*0x64+-0x44c3*0x1),this['fire']('unavailabl'+'e'));}['update'](_0x3317e2){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x3317e2['detectedPl'+'anes']['size'])this['_available']=!(0xd1*-0x4+0x3*-0xbd2+0x1*0x26ba),this['fire']('available');else return;}const _0x194a61=_0x3317e2['detectedPl'+'anes'];for(const [_0x468e56,_0x14976d]of this['_planesInd'+'ex'])_0x194a61['has'](_0x468e56)||(this['_planesInd'+'ex']['delete'](_0x468e56),this['_planes']['splice'](this['_planes']['indexOf'](_0x14976d),0x17*-0xfd+0xac7+0xbf5),_0x14976d['destroy'](),this['fire']('remove',_0x14976d));for(const _0x586171 of _0x194a61){let _0x3e2812=this['_planesInd'+'ex']['get'](_0x586171);_0x3e2812?_0x3e2812['update'](_0x3317e2):(_0x3e2812=new Ff(this,_0x586171),this['_planesInd'+'ex']['set'](_0x586171,_0x3e2812),this['_planes']['push'](_0x3e2812),_0x3e2812['update'](_0x3317e2),this['fire']('add',_0x3e2812));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(mo,'EVENT_AVAI'+'LABLE','available'),c(mo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(mo,'EVENT_ADD','add'),c(mo,'EVENT_REMO'+'VE','remove');class _o extends de{constructor(_0x2bf3bb,_0x39de73,_0x176b68=null){super(),c(this,'_position',new A()),c(this,'_rotation',new ie()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x2bf3bb,this['_xrAnchor']=_0x39de73,this['_uuid']=_0x176b68);}['destroy'](){if(!this['_xrAnchor'])return;const _0x4e0608=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x4e0608,this);}['update'](_0x29b85d){if(!this['_xrAnchor'])return;const _0x1fabcc=_0x29b85d['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x1fabcc){if(this['_position']['equals'](_0x1fabcc['transform']['position'])&&this['_rotation']['equals'](_0x1fabcc['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x1fabcc['transform']['position']),this['_rotation']['copy'](_0x1fabcc['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x159c54){if(!this['_anchors']['persistenc'+'e']){_0x159c54==null||_0x159c54(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x159c54==null||_0x159c54(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x159c54&&this['_uuidReque'+'sts']['push'](_0x159c54);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x13e79b=>{this['_uuid']=_0x13e79b,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x159c54==null||_0x159c54(null,_0x13e79b);for(const _0xe1ddfc of this['_uuidReque'+'sts'])_0xe1ddfc(null,_0x13e79b);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x13e79b);})['catch'](_0x4cdab8=>{_0x159c54==null||_0x159c54(_0x4cdab8,null);for(const _0xb65ed3 of this['_uuidReque'+'sts'])_0xb65ed3(_0x4cdab8,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x36d5d8){if(!this['_uuid']){_0x36d5d8==null||_0x36d5d8(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0xa14e09=>{this['_uuid']=null,_0x36d5d8==null||_0x36d5d8(_0xa14e09),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(_o,'EVENT_DEST'+'ROY','destroy'),c(_o,'EVENT_CHAN'+'GE','change'),c(_o,'EVENT_PERS'+'IST','persist'),c(_o,'EVENT_FORG'+'ET','forget');var sy;class Jn extends de{constructor(_0x1d362e){super(),c(this,'manager'),c(this,'_supported',be['browser']&&!!window['XRAnchor']),c(this,'_available',!(-0x3f4+0xa1d+0x628*-0x1)),c(this,'_checkingA'+'vailabilit'+'y',!(0x1*-0x1a5f+0x15*0x3d+-0x1*-0x155f)),c(this,'_persisten'+'ce',be['browser']&&!!((sy=window==null?void(-0xa3*0x7+-0x5c9*0x5+0x10b1*0x2):window['XRSession'])!=null&&sy['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x1d362e,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x407452=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(0x12da+-0x19e3+0x70a);_0x407452&&(this['_available']=_0x407452,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x653+0x29+-0x67b);for(let _0x1e2554=-0x1*-0x137+-0x3aa+0x39*0xb;_0x1e2554<this['_creationQ'+'ueue']['length'];_0x1e2554++)this['_creationQ'+'ueue'][_0x1e2554]['callback']&&this['_creationQ'+'ueue'][_0x1e2554]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x14c*-0x1d+0x1*0xee3+-0x33f*-0x7,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x1df60b=this['_list']['length'];for(;_0x1df60b--;)this['_list'][_0x1df60b]['destroy']();this['_list']['length']=0xe9*-0x8+0x2529+-0x1de1,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x4cd6e6,_0x508ac8=null){const _0x3a4cbe=new _o(this,_0x4cd6e6,_0x508ac8);return this['_index']['set'](_0x4cd6e6,_0x3a4cbe),_0x508ac8&&this['_indexByUu'+'id']['set'](_0x508ac8,_0x3a4cbe),this['_list']['push'](_0x3a4cbe),_0x3a4cbe['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x3a4cbe;}['_onAnchorD'+'estroy'](_0x5e7358,_0x2d41cf){this['_index']['delete'](_0x5e7358),_0x2d41cf['uuid']&&this['_indexByUu'+'id']['delete'](_0x2d41cf['uuid']);const _0x8a6e17=this['_list']['indexOf'](_0x2d41cf);_0x8a6e17!==-(0x580+0x6e3+0xc62*-0x1)&&this['_list']['splice'](_0x8a6e17,0x1e22+0x99d*-0x1+-0x1a*0xca),this['fire']('destroy',_0x2d41cf);}['create'](_0x51e1e5,_0x13c765,_0x3eac91){if(!this['_available']){_0x3eac91==null||_0x3eac91(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x51e1e5 instanceof XRHitTestResult){const _0x5999f8=_0x51e1e5;if(_0x3eac91=_0x13c765,!this['_supported']){_0x3eac91==null||_0x3eac91(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x5999f8['createAnch'+'or']){_0x3eac91==null||_0x3eac91(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x5999f8['createAnch'+'or']()['then'](_0x161e7d=>{const _0x16ea91=this['_createAnc'+'hor'](_0x161e7d);_0x3eac91==null||_0x3eac91(null,_0x16ea91),this['fire']('add',_0x16ea91);})['catch'](_0x43f21a=>{_0x3eac91==null||_0x3eac91(_0x43f21a,null),this['fire']('error',_0x43f21a);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x51e1e5,_0x13c765),'callback':_0x3eac91});}['restore'](_0x38f8a1,_0x3149a5){if(!this['_available']){_0x3149a5==null||_0x3149a5(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x3149a5==null||_0x3149a5(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x3149a5==null||_0x3149a5(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x38f8a1)['then'](_0x5149cd=>{const _0x5cec4c=this['_createAnc'+'hor'](_0x5149cd,_0x38f8a1);_0x3149a5==null||_0x3149a5(null,_0x5cec4c),this['fire']('add',_0x5cec4c);})['catch'](_0x4e2f9e=>{_0x3149a5==null||_0x3149a5(_0x4e2f9e,null),this['fire']('error',_0x4e2f9e);});}['forget'](_0x1f735b,_0x2aea57){if(!this['_available']){_0x2aea57==null||_0x2aea57(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x2aea57==null||_0x2aea57(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x2aea57==null||_0x2aea57(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x1f735b)['then'](()=>{_0x2aea57==null||_0x2aea57(null);})['catch'](_0x27c2c5=>{_0x2aea57==null||_0x2aea57(_0x27c2c5),this['fire']('error',_0x27c2c5);});}['update'](_0x1bd20b){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0x17ef+-0x1cb1+0x34a0),_0x1bd20b['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x596b73=>{_0x596b73['delete'](),this['manager']['active']&&(this['_available']=!(-0x149e+0x31e+-0x10*-0x118),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x4c9193=-0x2254+-0xe9*0x25+0x4401;_0x4c9193<this['_creationQ'+'ueue']['length'];_0x4c9193++){const _0x58628e=this['_creationQ'+'ueue'][_0x4c9193];_0x1bd20b['createAnch'+'or'](_0x58628e['transform'],this['manager']['_reference'+'Space'])['then'](_0x3c90ae=>{_0x58628e['callback']&&this['_callbacks'+'Anchors']['set'](_0x3c90ae,_0x58628e['callback']);})['catch'](_0x35aeb3=>{_0x58628e['callback']&&_0x58628e['callback'](_0x35aeb3,null),this['fire']('error',_0x35aeb3);});}this['_creationQ'+'ueue']['length']=0x1*-0x17e+0x1*0x12c1+-0x1eb*0x9;}for(const [_0x328996,_0x5d128f]of this['_index'])_0x1bd20b['trackedAnc'+'hors']['has'](_0x328996)||(this['_index']['delete'](_0x328996),_0x5d128f['destroy']());for(let _0x9ac0fe=0x10*-0x56+0x6c3+-0x5*0x47;_0x9ac0fe<this['_list']['length'];_0x9ac0fe++)this['_list'][_0x9ac0fe]['update'](_0x1bd20b);for(const _0x5d0e32 of _0x1bd20b['trackedAnc'+'hors']){if(this['_index']['has'](_0x5d0e32))continue;try{const _0x58b9c9=_0x5d0e32['anchorSpac'+'e'];}catch{continue;}const _0x36ecf6=this['_createAnc'+'hor'](_0x5d0e32);_0x36ecf6['update'](_0x1bd20b);const _0x3af364=this['_callbacks'+'Anchors']['get'](_0x5d0e32);_0x3af364&&(this['_callbacks'+'Anchors']['delete'](_0x5d0e32),_0x3af364(null,_0x36ecf6)),this['fire']('add',_0x36ecf6);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Jn,'EVENT_AVAI'+'LABLE','available'),c(Jn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Jn,'EVENT_ERRO'+'R','error'),c(Jn,'EVENT_ADD','add'),c(Jn,'EVENT_DEST'+'ROY','destroy');class kf extends de{constructor(_0x494ffb,_0x3ac989){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',0x7f4+-0x1092*0x2+0x1930),c(this,'_position',new A()),c(this,'_rotation',new ie()),(this['_meshDetec'+'tion']=_0x494ffb,this['_xrMesh']=_0x3ac989,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x32a7da){const _0x4ca28b=this['_meshDetec'+'tion']['_manager'],_0x14025b=_0x32a7da['getPose'](this['_xrMesh']['meshSpace'],_0x4ca28b['_reference'+'Space']);_0x14025b&&(this['_position']['copy'](_0x14025b['transform']['position']),this['_rotation']['copy'](_0x14025b['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(kf,'EVENT_REMO'+'VE','remove'),c(kf,'EVENT_CHAN'+'GE','change');class go extends de{constructor(_0x3cf9d6){super(),c(this,'_manager'),c(this,'_supported',be['browser']&&!!window['XRMesh']),c(this,'_available',!(-0x4*0xfb+-0x9b4+-0x3*-0x48b)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x3cf9d6,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x2ec986){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x2ec986['detectedMe'+'shes']['size'])this['_available']=!(0x82d+0xee8+-0x13*0x137),this['fire']('available');else return;}for(const _0x3dbaac of _0x2ec986['detectedMe'+'shes']){let _0x596588=this['_index']['get'](_0x3dbaac);_0x596588?_0x596588['update'](_0x2ec986):(_0x596588=new kf(this,_0x3dbaac),this['_index']['set'](_0x3dbaac,_0x596588),this['_list']['push'](_0x596588),_0x596588['update'](_0x2ec986),this['fire']('add',_0x596588));}for(const _0xa270b2 of this['_index']['values']())_0x2ec986['detectedMe'+'shes']['has'](_0xa270b2['xrMesh'])||this['_removeMes'+'h'](_0xa270b2);}['_removeMes'+'h'](_0x4948a8){this['_index']['delete'](_0x4948a8['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x4948a8),-0x1c37+0x1*-0xb8d+0x27c5),_0x4948a8['destroy'](),this['fire']('remove',_0x4948a8);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x1c6213=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x1a1a*0x1+-0x42c+0x1e47);if(!_0x1c6213)return;this['_available']=_0x1c6213,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x269a+-0x1*-0xb69+-0x3202);for(const _0x4e23e5 of this['_index']['values']())this['_removeMes'+'h'](_0x4e23e5);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(go,'EVENT_AVAI'+'LABLE','available'),c(go,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(go,'EVENT_ADD','add'),c(go,'EVENT_REMO'+'VE','remove');class Wx extends de{constructor(_0x2a2a25,_0x2725e0,_0x422eaa){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(0x14da+-0x1817+0x340)),c(this,'_viewport',new ee()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new Js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x1*0xec9+0x2c*0x44+0x339)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x2a2a25,this['_xrView']=_0x2725e0);const _0x29fa26=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new ce(_0x29fa26,{'format':ur,'mipmaps':!(0x1*0x117d+0x1f20+-0xcc*0x3d),'addressU':oe,'addressV':oe,'minFilter':at,'magFilter':at,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x442c61=this['_manager']['views']['depthGpuOp'+'timized']?fe:at;this['_textureDe'+'pth']=new ce(_0x29fa26,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x422eaa===-0x1*0xa27+-0x14f5+0x1f1d?0x1ca3*0x1+0x1e5d+-0x3b00:_0x422eaa,'mipmaps':!(-0x1d*-0x151+0x19c6+-0x3ff2),'addressU':oe,'addressV':oe,'minFilter':_0x442c61,'magFilter':_0x442c61,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x37c730=0x2421*-0x1+0x1*-0x1d36+0x2b*0x185;_0x37c730<this['_textureDe'+'pth']['_levels']['length'];_0x37c730++)this['_textureDe'+'pth']['_levels'][_0x37c730]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x29fa26['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x54cb53;return((_0x54cb53=this['_depthInfo'])==null?void(-0x1106+-0x7*0x509+-0x1*-0x3445):_0x54cb53['rawValueTo'+'Meters'])||-0x1*-0x43f+0x20b1+0x3*-0xc50;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x5c306a,_0x4ed227){this['_xrView']=_0x4ed227,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x4bab81=_0x5c306a['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x4bab81['x'],this['_viewport']['y']=_0x4bab81['y'],this['_viewport']['z']=_0x4bab81['width'],this['_viewport']['w']=_0x4bab81['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x5c306a);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x2afec7=this['_manager']['webglBindi'+'ng'];if(!_0x2afec7)return;const _0xacd082=_0x2afec7['getCameraI'+'mage'](this['_xrCamera']);if(!_0xacd082)return;const _0x5f3547=this['_manager']['app']['graphicsDe'+'vice'],_0x4180dc=_0x5f3547['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x4180dc['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x4180dc['createFram'+'ebuffer']();else{const _0x56e355=_0x4180dc['COLOR_ATTA'+'CHMENT0'],_0x2e4c3f=this['_xrCamera']['width'],_0x3386de=this['_xrCamera']['height'];_0x5f3547['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x4180dc['framebuffe'+'rTexture2D'](_0x4180dc['FRAMEBUFFE'+'R'],_0x56e355,_0x4180dc['TEXTURE_2D'],_0xacd082,-0xbc1+0x562*-0x5+0x26ab),_0x5f3547['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x4180dc['framebuffe'+'rTexture2D'](_0x4180dc['FRAMEBUFFE'+'R'],_0x56e355,_0x4180dc['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x1fb5*0x1+0x3b*-0x22+0x35*0xbf),_0x4180dc['bindFrameb'+'uffer'](_0x4180dc['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x4180dc['bindFrameb'+'uffer'](_0x4180dc['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x4180dc['blitFrameb'+'uffer'](-0x96d*0x2+-0x1d7a+0x101c*0x3,_0x3386de,_0x2e4c3f,-0xc3e+0x71*0x8+0x8b6,0x1f0e+-0x1cb8+-0x1*0x256,-0x1*-0x10c9+-0x1*0xf38+-0x191,_0x2e4c3f,_0x3386de,_0x4180dc['COLOR_BUFF'+'ER_BIT'],_0x4180dc['NEAREST']);}}['_updateDep'+'th'](_0x136547){var _0x524db3,_0x2a1fa3;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x4fbba9=this['_manager']['views']['depthGpuOp'+'timized'],_0x925f7=_0x4fbba9?this['_manager']['webglBindi'+'ng']:_0x136547;if(!_0x925f7){this['_depthInfo']=null;return;}const _0x5593ea=_0x925f7['getDepthIn'+'formation'](this['_xrView']);if(!_0x5593ea){this['_depthInfo']=null;return;}let _0xebcf98=!this['_depthInfo']!=!_0x5593ea;this['_depthInfo']=_0x5593ea;const _0x9c44cd=((_0x524db3=this['_depthInfo'])==null?void(0x9*0x2f+0x262b+-0x27d2):_0x524db3['width'])||-0xe37+-0x252*0x1+0x108d,_0x54740b=((_0x2a1fa3=this['_depthInfo'])==null?void(-0x9f*0x1d+-0x19d0+0x2bd3):_0x2a1fa3['height'])||-0xe41+-0x14e7+-0x4*-0x8cb;let _0xda744c=!(-0x22b+0x2*0x1102+0x2*-0xfec);if((this['_textureDe'+'pth']['width']!==_0x9c44cd||this['_textureDe'+'pth']['height']!==_0x54740b)&&(this['_textureDe'+'pth']['_width']=_0x9c44cd,this['_textureDe'+'pth']['_height']=_0x54740b,_0xebcf98=!(-0x1f2+0x2*0x25b+-0x2*0x162),_0xda744c=!(0xb*0x2b9+0x16e8+-0x7*0x78d)),_0xebcf98&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x4fbba9){if(this['_depthInfo']['texture']){const _0x568e12=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x568e12['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x568e12['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Oi:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x568e12['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x568e12['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x568e12['RED'];break;case Di:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x568e12['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x568e12['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x568e12['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(-0x2088+0x1087*0x1+-0xf1*-0x11);}}else this['_textureDe'+'pth']['_levels'][0xd*0x113+0x18d9+-0x26d0]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][-0x215e+0x1db5+0x3a9]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0xda744c&&this['fire']('depth:resi'+'ze',_0x9c44cd,_0x54740b);}['updateTran'+'sforms'](_0x20fd11){_0x20fd11?(this['_viewInvOf'+'fMat']['mul2'](_0x20fd11,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][-0x8e5+-0x56f*-0x1+0x376]=this['_viewInvOf'+'fMat']['data'][0x1*-0x683+-0x2*-0x66e+-0x64d],this['_positionD'+'ata'][0x119*0x20+0x41b*-0x8+-0x247]=this['_viewInvOf'+'fMat']['data'][-0x27*0xd1+-0x86b*-0x1+0x1779],this['_positionD'+'ata'][0x14bb+0x247c+-0xb71*0x5]=this['_viewInvOf'+'fMat']['data'][0x1*0x1bf8+0x3*-0x72b+0x669*-0x1];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x52ab8a,_0x3cfc60){var _0x9c2696;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x9c2696=this['_depthInfo'])==null?void(0x25cd*-0x1+0x23ee+-0x1df*-0x1):_0x9c2696['getDepthIn'+'Meters'](_0x52ab8a,_0x3cfc60))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x3c9722=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x3c9722['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x3c9722['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Wx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class lc extends de{constructor(_0x31da71){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',be['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',be['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(-0xc7e*-0x1+0x2ef+0x292*-0x6)),c(this,'_available'+'Depth',!(0xa49*-0x3+-0x1974+0x3850)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[zx]:Vf,[Ux]:Di,[Vx]:Oi}),(this['_manager']=_0x31da71,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Nx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x2f2905,_0x529f51){for(let _0x21aa80=-0x1391+-0x18e6+0x2c77;_0x21aa80<_0x529f51['length'];_0x21aa80++)this['_indexTmp']['set'](_0x529f51[_0x21aa80]['eye'],_0x529f51[_0x21aa80]);for(const [_0x4425c8,_0x3dea20]of this['_indexTmp']){let _0x35e57d=this['_index']['get'](_0x4425c8);_0x35e57d?_0x35e57d['update'](_0x2f2905,_0x3dea20):(_0x35e57d=new Wx(this['_manager'],_0x3dea20,_0x529f51['length']),this['_index']['set'](_0x4425c8,_0x35e57d),this['_list']['push'](_0x35e57d),_0x35e57d['update'](_0x2f2905,_0x3dea20),this['fire']('add',_0x35e57d));}for(const [_0x2216a1,_0x197926]of this['_index']){if(this['_indexTmp']['has'](_0x2216a1))continue;_0x197926['destroy'](),this['_index']['delete'](_0x2216a1);const _0x1e3d3f=this['_list']['indexOf'](_0x197926);_0x1e3d3f!==-(-0x1549+0x18*-0x4a+0x2*0xe1d)&&this['_list']['splice'](_0x1e3d3f,0x8e*0x10+0x270+-0xb4f),this['fire']('remove',_0x197926);}this['_indexTmp']['clear']();}['get'](_0x355003){return this['_index']['get'](_0x355003)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Po&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(0x1*-0xd77+0x16b3+-0x93b),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0xdb*0x7+0x287*0x4+0x338*-0x5),this['_available'+'Depth'])){const _0x4d3c91=this['_manager']['session'];this['_depthUsag'+'e']=_0x4d3c91['depthUsage'],this['_depthForm'+'at']=_0x4d3c91['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x58d9fb of this['_index']['values']())_0x58d9fb['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0xf9*-0x3+-0x10ef+0x12b*0x11),this['_available'+'Depth']=!(-0x1d7b+0x4c5+-0x9*-0x2bf),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0x2465+-0x83a+0x2c9f;}}c(lc,'EVENT_ADD','add'),c(lc,'EVENT_REMO'+'VE','remove');class ea extends de{constructor(_0x22d642){super(),c(this,'app'),c(this,'_supported',be['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new A()),c(this,'_localRota'+'tion',new ie()),c(this,'_depthNear',-0x2459+-0x1*0x1078+0x34d1+0.1),c(this,'_depthFar',-0x1da9+-0x189c+-0x119*-0x35),c(this,'_supported'+'FrameRates',null),c(this,'_width',-0xd*0x164+0x204b+-0xe37),c(this,'_height',-0x16c5+-0x2008+0x36cd),c(this,'_framebuff'+'erScaleFac'+'tor',-0x1a3*-0xb+-0x1*-0x9b9+-0x1*0x1bb9),(this['app']=_0x22d642,this['_available'][XL]=!(0xfba+0x165+-0x111e),this['_available'][jL]=!(0x13a0+0x4*-0x838+0xd41),this['_available'][Po]=!(-0x7f2+0xcc4+-0x19b*0x3),this['views']=new lc(this),this['domOverlay']=new ZL(this),this['hitTest']=new Br(this),this['imageTrack'+'ing']=new Gx(this),this['planeDetec'+'tion']=new mo(this),this['meshDetect'+'ion']=new go(this),this['input']=new gi(this),this['lightEstim'+'ation']=new Lf(this),this['anchors']=new Jn(this),this['views']=new lc(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x3bb089,_0x479a9a,_0x47ff46,_0x5518d6){var _0x449a59;let _0x405e54=_0x5518d6;if(typeof _0x5518d6=='object'&&(_0x405e54=_0x5518d6['callback']),!this['_available'][_0x479a9a]){_0x405e54&&_0x405e54(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x405e54&&_0x405e54(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x3bb089,this['_camera']['camera']['xr']=this,this['_type']=_0x479a9a,this['_spaceType']=_0x47ff46,this['_framebuff'+'erScaleFac'+'tor']=(_0x5518d6==null?void(0x15a8+0x3*-0xce9+-0x5b1*-0x3):_0x5518d6['framebuffe'+'rScaleFact'+'or'])??0x1*-0x1393+0x2ab*-0x9+0x2b97,this['_setClipPl'+'anes'](_0x3bb089['nearClip'],_0x3bb089['farClip']);const _0x2e8f80={'requiredFeatures':[_0x47ff46],'optionalFeatures':[]},_0xf83be1=(_0x449a59=this['app']['graphicsDe'+'vice'])==null?void(0x26d+-0x3a*-0x3d+0x1*-0x103f):_0x449a59['isWebGL2'];if(_0x479a9a===Po){if(_0x2e8f80['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x2e8f80['optionalFe'+'atures']['push']('hit-test'),_0x5518d6&&(_0x5518d6['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x2e8f80['optionalFe'+'atures']['push']('image-trac'+'king'),_0x5518d6['planeDetec'+'tion']&&_0x2e8f80['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x5518d6['meshDetect'+'ion']&&_0x2e8f80['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x2e8f80['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x2e8f80['domOverlay']={'root':this['domOverlay']['root']}),_0x5518d6&&_0x5518d6['anchors']&&this['anchors']['supported']&&_0x2e8f80['optionalFe'+'atures']['push']('anchors'),_0x5518d6&&_0x5518d6['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x2e8f80['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0xcf7c88=[],_0x36d28f=[];if(_0xcf7c88['push'](Nx,KL),_0x36d28f['push'](Vx,zx,Ux),_0x5518d6['depthSensi'+'ng']['usagePrefe'+'rence']){const _0xce9a80=_0xcf7c88['indexOf'](_0x5518d6['depthSensi'+'ng']['usagePrefe'+'rence']);_0xce9a80!==-(0xbf*-0x4+-0x821*0x3+-0x3*-0x920)&&_0xcf7c88['splice'](_0xce9a80,0x311*0xc+0x1*0xceb+-0x1092*0x3),_0xcf7c88['unshift'](_0x5518d6['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x5518d6['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x479791=_0x36d28f['indexOf'](_0x5518d6['depthSensi'+'ng']['dataFormat'+'Preference']);_0x479791!==-(-0x69+-0xf09+0xf73*0x1)&&_0x36d28f['splice'](_0x479791,-0x266+-0x2*0xeff+0x2065),_0x36d28f['unshift'](_0x5518d6['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x2e8f80['depthSensi'+'ng']={'usagePreference':_0xcf7c88,'dataFormatPreference':_0x36d28f};}_0xf83be1&&_0x5518d6&&_0x5518d6['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x2e8f80['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x2e8f80['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x5518d6&&_0x5518d6['optionalFe'+'atures']&&(_0x2e8f80['optionalFe'+'atures']=_0x2e8f80['optionalFe'+'atures']['concat'](_0x5518d6['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x50cc5c,_0x81a621)=>{if(_0x50cc5c){_0x405e54&&_0x405e54(_0x50cc5c),this['fire']('error',_0x50cc5c);return;}_0x81a621!==null&&(_0x2e8f80['trackedIma'+'ges']=_0x81a621),this['_onStartOp'+'tionsReady'](_0x479a9a,_0x47ff46,_0x2e8f80,_0x405e54);}):this['_onStartOp'+'tionsReady'](_0x479a9a,_0x47ff46,_0x2e8f80,_0x405e54);}['_onStartOp'+'tionsReady'](_0x59849e,_0x420eff,_0x47cf36,_0x3f45bd){navigator['xr']['requestSes'+'sion'](_0x59849e,_0x47cf36)['then'](_0x5ee778=>{this['_onSession'+'Start'](_0x5ee778,_0x420eff,_0x3f45bd);})['catch'](_0x31a02e=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x3f45bd&&_0x3f45bd(_0x31a02e),this['fire']('error',_0x31a02e);});}['end'](_0x3ef513){if(!this['_session']){_0x3ef513&&_0x3ef513(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x3ef513&&this['once']('end',_0x3ef513),this['_session']['end']();}['isAvailabl'+'e'](_0x586b22){return this['_available'][_0x586b22];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x11b22c in this['_available'])this['_sessionSu'+'pportCheck'](_0x11b22c);}['initiateRo'+'omCapture'](_0x5db83f){if(!this['_session']){_0x5db83f(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x5db83f(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x5db83f&&_0x5db83f(null);})['catch'](_0x239cc2=>{_0x5db83f&&_0x5db83f(_0x239cc2);});}['updateTarg'+'etFrameRat'+'e'](_0x464522,_0x4cb2a5){var _0x55207b;if(!((_0x55207b=this['_session'])!=null&&_0x55207b['updateTarg'+'etFrameRat'+'e'])){_0x4cb2a5==null||_0x4cb2a5(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x464522)['then'](()=>{_0x4cb2a5==null||_0x4cb2a5();})['catch'](_0x3e4f13=>{_0x4cb2a5==null||_0x4cb2a5(_0x3e4f13);});}['_sessionSu'+'pportCheck'](_0x27846e){navigator['xr']['isSessionS'+'upported'](_0x27846e)['then'](_0x389448=>{this['_available'][_0x27846e]!==_0x389448&&(this['_available'][_0x27846e]=_0x389448,this['fire']('available',_0x27846e,_0x389448),this['fire']('available:'+_0x27846e,_0x389448));})['catch'](_0x1e65f5=>{this['fire']('error',_0x1e65f5);});}['_onSession'+'Start'](_0x29c389,_0x453e8d,_0x1c9dc3){let _0x4303e5=!(0x1b45+-0x761+0x6a1*-0x3);this['_session']=_0x29c389;const _0x4d3bf6=()=>{this['fire']('visibility'+':change',_0x29c389['visibility'+'State']);},_0x38d485=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x25e406=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x38d485),this['_camera']['off']('set_farCli'+'p',_0x38d485),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x29c389['removeEven'+'tListener']('end',_0x25e406),_0x29c389['removeEven'+'tListener']('visibility'+'change',_0x4d3bf6),_0x4303e5||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=-0x1a27+0x15f1+0xb*0x62,this['_height']=0x7*-0x116+-0x1*-0xa1c+-0x282,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x29c389['addEventLi'+'stener']('end',_0x25e406),_0x29c389['addEventLi'+'stener']('visibility'+'change',_0x4d3bf6),this['_camera']['on']('set_nearCl'+'ip',_0x38d485),this['_camera']['on']('set_farCli'+'p',_0x38d485),b['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x26e29f;this['fire']('frameratec'+'hange',(_0x26e29f=this['_session'])==null?void(-0x127a+0x1*0x566+0x12*0xba):_0x26e29f['frameRate']);}),_0x29c389['requestRef'+'erenceSpac'+'e'](_0x453e8d)['then'](_0x5acaeb=>{this['_reference'+'Space']=_0x5acaeb,this['app']['tick'](),_0x1c9dc3&&_0x1c9dc3(null),this['fire']('start');})['catch'](_0x360e23=>{_0x4303e5=!(0x1*-0x1fb7+-0x22cd+-0x306*-0x16),_0x29c389['end'](),_0x1c9dc3&&_0x1c9dc3(_0x360e23),this['fire']('error',_0x360e23);});}['_setClipPl'+'anes'](_0x418203,_0x1b9644){this['_depthNear']===_0x418203&&this['_depthFar']===_0x1b9644||(this['_depthNear']=_0x418203,this['_depthFar']=_0x1b9644,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0xa65c22=this['app']['graphicsDe'+'vice'],_0x109dad=_0xa65c22['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0xa65c22['gl'],{'alpha':!(0x18c9+0x267*0xd+-0x59a*0xa),'depth':!(0x5*0x5f2+-0x9*0x309+0x269*-0x1),'stencil':!(-0x7d*0x25+-0x40*0x12+0x1691),'framebufferScaleFactor':_0x109dad,'antialias':!(-0x1f57+-0x21da+0xd0a*0x5)}),_0xa65c22!=null&&_0xa65c22['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0xa65c22['gl']);}catch(_0x38a86f){this['fire']('error',_0x38a86f);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x5eba3f=>{this['fire']('error',_0x5eba3f);});},0x24f7*0x1+0x9ee+0x961*-0x5);}['update'](_0x3eb371){if(!this['_session'])return!(-0x12a4*-0x2+-0x8ae+0x1c99*-0x1);const _0x43a6ca=_0x3eb371['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0xfd23c0=_0x3eb371['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x43a6ca||this['_height']!==_0xfd23c0)&&(this['_width']=_0x43a6ca,this['_height']=_0xfd23c0,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x43a6ca,_0xfd23c0));const _0x3d60c0=_0x3eb371['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x3d60c0)return!(0x1aa*-0x11+-0x2114*0x1+0x3d5f);const _0x5b23e9=this['views']['list']['length'];this['views']['update'](_0x3eb371,_0x3d60c0['views']);const _0x20507e=_0x3d60c0['transform']['position'],_0x28e005=_0x3d60c0['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x20507e['x'],_0x20507e['y'],_0x20507e['z']),this['_localRota'+'tion']['set'](_0x28e005['x'],_0x28e005['y'],_0x28e005['z'],_0x28e005['w']),_0x5b23e9===-0x17b2+0x80a+0xfa8&&this['views']['list']['length']>-0x233f+-0x65c+0x299b){const _0x54bfe7=new q(),_0x1de403=this['views']['list'][0x1*0x40d+0x4*-0x7fb+0x1*0x1bdf];_0x54bfe7['copy'](_0x1de403['projMat']);const _0x46b14b=_0x54bfe7['data'],_0x1a5c81=(-0x1ec1+-0xd2*0x1d+0x23*0x18f)*Math['atan']((-0x2195+0x1*0x11d6+0x240*0x7)/_0x46b14b[0x111a+0x1e1d*-0x1+0xd08])*(-0xe1+0x26b2+-0x251d)/Math['PI'],_0xc6b19b=_0x46b14b[-0xc91+0x1301+-0x66b*0x1]/_0x46b14b[-0x329*-0x1+-0x210+-0x119],_0x4e12a6=_0x46b14b[0x10a3*-0x1+0x1f1e+0x4cf*-0x3]/(_0x46b14b[-0x76*0x3b+0x868*-0x4+0x30b*0x14]+(-0x1d45+-0x709+0x244f)),_0x2676da=_0x46b14b[-0xcdb*-0x1+0x18b2+-0x257f]/(_0x46b14b[-0x5*0xc5+0xb2d*-0x3+0x256a]-(0x16d*-0xd+0xb5c+0x72e));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0xc6b19b,'farClip':_0x4e12a6,'fov':_0x1a5c81,'horizontalFov':!(0x255c+-0x1*0x234b+-0x210),'nearClip':_0x2676da});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x3eb371),this['_type']===Po&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x3eb371),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x3eb371),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x3eb371),this['anchors']['supported']&&this['anchors']['update'](_0x3eb371),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x3eb371),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x3eb371)),this['fire']('update',_0x3eb371),!(0x1f0d+-0x1*0xa63+-0x14aa);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x199fdd;return((_0x199fdd=this['_session'])==null?void(-0x5*-0x566+-0x4a9*-0x5+0x19*-0x203):_0x199fdd['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x4cf2c7){var _0x178c7d;(((_0x178c7d=this['_baseLayer'])==null?void(-0xbfa*0x2+-0x1597+0x2d8b):_0x178c7d['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>-0x1*0xe12+-0x15d5+-0x17f*-0x18&&b['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x4cf2c7);}get['fixedFovea'+'tion'](){var _0x25c92d;return((_0x25c92d=this['_baseLayer'])==null?void(0x34f+-0xe*-0x14c+-0x1577):_0x25c92d['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(ea,'EVENT_AVAI'+'LABLE','available'),c(ea,'EVENT_STAR'+'T','start'),c(ea,'EVENT_END','end'),c(ea,'EVENT_UPDA'+'TE','update'),c(ea,'EVENT_ERRO'+'R','error');class gF extends Zh{constructor(_0x1e6a0f,_0x259096={}){super(_0x1e6a0f);const _0x50e5e0=new mP();_0x50e5e0['graphicsDe'+'vice']=_0x259096['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x1e6a0f,_0x259096),this['addCompone'+'ntSystems'](_0x50e5e0),this['addResourc'+'eHandles'](_0x50e5e0),_0x50e5e0['elementInp'+'ut']=_0x259096['elementInp'+'ut'],_0x50e5e0['keyboard']=_0x259096['keyboard'],_0x50e5e0['mouse']=_0x259096['mouse'],_0x50e5e0['touch']=_0x259096['touch'],_0x50e5e0['gamepads']=_0x259096['gamepads'],_0x50e5e0['scriptPref'+'ix']=_0x259096['scriptPref'+'ix'],_0x50e5e0['assetPrefi'+'x']=_0x259096['assetPrefi'+'x'],_0x50e5e0['scriptsOrd'+'er']=_0x259096['scriptsOrd'+'er'],_0x50e5e0['soundManag'+'er']=new Ob(),_0x50e5e0['lightmappe'+'r']=bP,_0x50e5e0['batchManag'+'er']=uC,_0x50e5e0['xr']=ea,this['init'](_0x50e5e0);}['createDevi'+'ce'](_0x36d6aa,_0x3e26e8){return _0x3e26e8['graphicsDe'+'viceOption'+'s']||(_0x3e26e8['graphicsDe'+'viceOption'+'s']={}),be['browser']&&navigator['xr']&&(_0x3e26e8['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(-0x5*0x17e+0x3*-0x29d+0xf4d)),_0x3e26e8['graphicsDe'+'viceOption'+'s']['alpha']=_0x3e26e8['graphicsDe'+'viceOption'+'s']['alpha']||!(-0x7a5+-0x7*-0x317+0xdfb*-0x1),new pb(_0x36d6aa,_0x3e26e8['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x228819){_0x228819['componentS'+'ystems']=[_x,pR,WR,VP,XP,rI,pI,YI,ZI,dD,NI,YP,dI,wI,UR,JP,LI,kI,HI,eI,qR,$I,fD];}['addResourc'+'eHandles'](_0x447f32){_0x447f32['resourceHa'+'ndlers']=[pD,g2,y2,x2,hL,rL,qL,xL,eL,v2,mL,cL,E2,J2,A2,_L,Q2,C2,M2,b2,vL,gL,yL,T2,Z2];}}const ch=[],tF=[[],[],[]];class sF extends gs{constructor(_0x3f139c,_0xc71c7b){super(_0x3f139c),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0xc71c7b;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x2d7df3=>{_0x2d7df3['defaultUni'+'formBuffer']['destroy'](),_0x2d7df3['destroy']();}),this['viewBindGr'+'oups']['length']=-0x24bd+-0x1ef+-0x2d*-0xdc;}['update'](_0x184c26,_0x1600cf,_0x82f890,_0x144f45){this['camera']=_0x184c26,this['scene']=_0x1600cf,this['layers']=_0x82f890,this['mapping']=_0x144f45;}['execute'](){const _0x132f6c=this['device'],{renderer:_0x483988,camera:_0x26e6f3,scene:_0x2c1a54,layers:_0x20b605,mapping:_0xab49c4,renderTarget:_0x16df99}=this,_0x20806f=_0x2c1a54['layers']['layerList'],_0x456cc2=_0x2c1a54['layers']['subLayerEn'+'abled'],_0x122f28=_0x2c1a54['layers']['subLayerLi'+'st'];for(let _0xfccbe4=0x1*-0x1126+-0x59*0x69+0x35a7;_0xfccbe4<_0x20806f['length'];_0xfccbe4++){const _0x1860ca=_0x20806f[_0xfccbe4];if(!(_0x20b605&&_0x20b605['indexOf'](_0x1860ca)<-0xad*0xb+0x3*-0x9d9+-0x2*-0x127d)&&_0x1860ca['enabled']&&_0x456cc2[_0xfccbe4]&&_0x1860ca['camerasSet']['has'](_0x26e6f3['camera'])){const _0x5f4957=_0x122f28[_0xfccbe4];G['pushGpuMar'+'ker'](_0x132f6c,_0x1860ca['name']+'('+(_0x5f4957?'TRANSP':'OPAQUE')+')'),_0x1860ca['_clearDept'+'hBuffer']&&_0x483988['clear'](_0x26e6f3['camera'],!(0x5ea*-0x6+-0x2343+0x46c0),!(-0x6*-0x5c6+-0xe7b+0x1*-0x1429),!(-0x1ba+-0x1a6*0x14+0x1*0x22b3));const _0x442b30=_0x1860ca['meshInstan'+'ces'];for(let _0x2d7950=0x376*-0x1+-0x7*0x511+0x7c9*0x5;_0x2d7950<_0x442b30['length'];_0x2d7950++){const _0x62a3e1=_0x442b30[_0x2d7950];_0x62a3e1['pick']&&_0x62a3e1['transparen'+'t']===_0x5f4957&&(ch['push'](_0x62a3e1),_0xab49c4['set'](_0x62a3e1['id'],_0x62a3e1));}ch['length']>0x2107+-0x1*0x9de+-0x1729&&(_0x2c1a54['clusteredL'+'ightingEna'+'bled']&&_0x483988['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x483988['setCameraU'+'niforms'](_0x26e6f3['camera'],_0x16df99),_0x132f6c['supportsUn'+'iformBuffe'+'rs']&&_0x483988['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x483988['viewUnifor'+'mFormat'],_0x483988['viewBindGr'+'oupFormat'],0x558*-0x7+0x1a22+0xb47),_0x483988['renderForw'+'ard'](_0x26e6f3['camera'],_0x16df99,ch,tF,Na,_0x485a66=>{_0x132f6c['setBlendSt'+'ate'](bt['NOBLEND']);}),ch['length']=-0xc6e+-0x1*0x269f+-0x74b*-0x7),G['popGpuMark'+'er'](_0x132f6c);}}}}const hu=new Set(),iF=new ee();let yF=class{constructor(_0xc22708,_0x4dad9a,_0x21db15){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(0x189a+-0x422*-0x3+0x4*-0x940)),(b['assert'](_0xc22708),this['renderer']=_0xc22708['renderer'],this['device']=_0xc22708['graphicsDe'+'vice'],this['renderPass']=new sF(this['device'],_0xc22708['renderer']),this['width']=0x749+-0x371*0x3+0x30a,this['height']=0x1*0xfd3+-0x133*0x2+-0x1eb*0x7,this['resize'](_0x4dad9a,_0x21db15),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x3*-0x8ef+0x21a0+-0x6d2);}));}['getSelecti'+'on'](_0x88e330,_0x18e724,_0x5187f1=0x1930+-0x6d*0x21+0x23a*-0x5,_0xf804d3=0xe*-0x271+0x5*-0xdf+0x268a){const _0x31d367=this['device'];if(_0x31d367['isWebGPU'])return b['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];b['assert'](typeof _0x88e330!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x18e724=this['renderTarg'+'et']['height']-(_0x18e724+_0xf804d3);const _0x544581=this['sanitizeRe'+'ct'](_0x88e330,_0x18e724,_0x5187f1,_0xf804d3);_0x31d367['setRenderT'+'arget'](this['renderTarg'+'et']),_0x31d367['updateBegi'+'n']();const _0x5e8c8c=new Uint8Array((-0xf48+0x222+-0x151*-0xa)*_0x544581['z']*_0x544581['w']);return _0x31d367['readPixels'](_0x544581['x'],_0x544581['y'],_0x544581['z'],_0x544581['w'],_0x5e8c8c),_0x31d367['updateEnd'](),this['decodePixe'+'ls'](_0x5e8c8c,this['mapping']);}['getSelecti'+'onAsync'](_0x12e181,_0x4e82f6,_0x4010e9=-0x5*0x275+0x2309+-0x16bf,_0x529b4e=-0xf77+0x1515+-0x59d){var _0x472ab3;(_0x472ab3=this['device'])!=null&&_0x472ab3['isWebGL2']&&(_0x4e82f6=this['renderTarg'+'et']['height']-(_0x4e82f6+_0x529b4e));const _0xbc2427=this['sanitizeRe'+'ct'](_0x12e181,_0x4e82f6,_0x4010e9,_0x529b4e);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0xbc2427['x'],_0xbc2427['y'],_0xbc2427['z'],_0xbc2427['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x15d3+0x182*0x7+-0x241*-0x5)})['then'](_0xc4234d=>this['decodePixe'+'ls'](_0xc4234d,this['mapping']));}['sanitizeRe'+'ct'](_0x38522a,_0x3fd70d,_0x42b82c,_0x387958){const _0x42dbe3=this['renderTarg'+'et']['width'],_0x9ccd97=this['renderTarg'+'et']['height'];return _0x38522a=z['clamp'](Math['floor'](_0x38522a),-0x268e+0x1e32+0x2*0x42e,_0x42dbe3-(-0x11*-0xbf+0xe27*0x1+-0x1*0x1ad5)),_0x3fd70d=z['clamp'](Math['floor'](_0x3fd70d),0x311*0x3+0x132c+-0x1c5f,_0x9ccd97-(-0x1*-0x20a9+-0x155b+0x107*-0xb)),_0x42b82c=Math['floor'](Math['max'](_0x42b82c,-0x1c74+0x1f84+-0x30f)),_0x42b82c=Math['min'](_0x42b82c,_0x42dbe3-_0x38522a),_0x387958=Math['floor'](Math['max'](_0x387958,0xac5*-0x2+-0x163e*-0x1+-0x1*0xb3)),_0x387958=Math['min'](_0x387958,_0x9ccd97-_0x3fd70d),iF['set'](_0x38522a,_0x3fd70d,_0x42b82c,_0x387958);}['decodePixe'+'ls'](_0x409d7b,_0x474df0){const _0x45cb6f=[];if(this['deviceVali'+'d']){const _0x4fb00b=_0x409d7b['length'];for(let _0x4f4feb=0x2*-0x161+-0x2540+0x2802;_0x4f4feb<_0x4fb00b;_0x4f4feb+=-0xbb4+-0xa*0x2f1+0x12*0x249){const _0x304b10=_0x409d7b[_0x4f4feb+(-0x2196+0x2319+0x2b*-0x9)],_0x14c2ae=_0x409d7b[_0x4f4feb+(0xb*-0x21+0x2606+-0xa*0x3a9)],_0x120224=_0x409d7b[_0x4f4feb+(-0x2e5*-0x9+0x1b4*-0x16+0xb6d*0x1)],_0x2c780d=_0x409d7b[_0x4f4feb+(-0x13b*-0x7+0x1*0x2095+-0x292f)]<<0x1*0x183a+0x13a2*-0x1+-0x480|_0x304b10<<-0x1d58+0x714+0x1654|_0x14c2ae<<0x1f*-0x137+0x16c8+0xee9|_0x120224;_0x2c780d!==-(-0x71*0x1+-0x1b*-0x25+-0x375)&&hu['add'](_0x474df0['get'](_0x2c780d));}hu['forEach'](_0x53bbb1=>{_0x53bbb1&&_0x45cb6f['push'](_0x53bbb1);}),hu['clear']();}return _0x45cb6f;}['allocateRe'+'nderTarget'](){const _0x665af0=new ce(this['device'],{'format':Te,'width':this['width'],'height':this['height'],'mipmaps':!(0x3*-0x2dc+0x8b+-0x2*-0x405),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe,'name':'pick'});this['renderTarg'+'et']=new St({'colorBuffer':_0x665af0,'depth':!(0x783*0x3+0xef*-0x1f+-0x29*-0x28)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x29618b,_0x28dea4,_0x4bb8d4){_0x4bb8d4 instanceof Fr&&(_0x4bb8d4=[_0x4bb8d4]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x26d60f=this['renderPass'];_0x26d60f['init'](this['renderTarg'+'et']),_0x26d60f['colorOps']['clearValue']=Y['WHITE'],_0x26d60f['colorOps']['clear']=!(-0x428*0x1+-0x25*-0x2f+-0x2a3),_0x26d60f['depthStenc'+'ilOps']['clearDepth']=!(-0xf12+0x1*-0x177d+-0x268f*-0x1),_0x26d60f['update'](_0x29618b,_0x28dea4,_0x4bb8d4,this['mapping']),_0x26d60f['render']();}['resize'](_0x18c42a,_0x556496){this['width']=Math['floor'](_0x18c42a),this['height']=Math['floor'](_0x556496);}};class rF{constructor(_0x3aed73){this['_frameInde'+'x']=-0x1ef0*0x1+-0x19*0x14c+0x3f5c,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0x1485+-0x3*0x506+0x2398,this['enabled']=!(0x1*-0x23ef+-0x1b33+0x3f22*0x1),_0x3aed73['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x3aed73['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x3aed73['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x341f81){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x47694f=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x47694f,this['_frameInde'+'x']=-0xc3e+0x19b*-0x9+0x1ab1,this['mark'](_0x341f81);}['mark'](_0xd5979c){if(!this['enabled'])return;const _0x5735f7=ae();if(this['_frameInde'+'x']>0x1488+0xf9*-0x9+-0xbc7){const _0x38dca3=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x15f+-0x2*-0x1081+0x5*-0x6e0)];_0x38dca3[-0x13*-0x1d+0x12eb+0x1511*-0x1]=_0x5735f7-_0x38dca3[0x55b+0x1a15+-0x1f6f];}else{if(this['_timings']['length']>0x3*0x2f5+-0xd4f*0x1+-0x2*-0x238){const _0xd909d=this['_timings'][this['_timings']['length']-(0xb*-0x19f+-0x9e*-0x13+0x17*0x44)];_0xd909d[0x84a+0x126*0x13+-0x44d*0x7]=_0x5735f7-_0xd909d[-0xf*0x13e+-0x4d2*-0x2+0x8ff];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0xd5979c,_0x5735f7]);else{const _0x2aeb78=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x2aeb78[0x6c9*0x1+0x1dde+-0x1*0x24a7]=_0xd5979c,_0x2aeb78[0xb9d*0x3+0xd*-0xbf+-0x1923]=_0x5735f7;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](0x4d*0x15+0x1744+-0x1d95,-(0x17*0x2e+-0x1*0x13c3+0xfa2))['map'](_0x4f81e0=>_0x4f81e0[-0x1*0xd53+0x40a*0x6+-0x15d*0x8]);}}class nF{constructor(_0x212ccf){this['device']=_0x212ccf,_0x212ccf['gpuProfile'+'r']['enabled']=!(-0x3*-0x7c6+-0x1*0x133+0x1*-0x161f),this['enabled']=!(-0x5e*-0x5f+0x1*0x247d+0x79*-0x97),this['unitsName']='ms',this['decimalPla'+'ces']=0x263+0x21d+-0x47f*0x1,this['_timings']=[];}get['timings'](){return this['_timings'][-0x2619+0x150c+-0x1*-0x110d]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class aF{constructor(_0x3d6600,_0x1cebb1,_0x83bc5b,_0x94b514,_0x1eaa5e){this['app']=_0x3d6600,this['values']=[],this['statNames']=_0x1cebb1,this['statNames']['length']>0x3*0x9e3+0x151e+0x2d2*-0x12&&(this['statNames']['length']=0x57d+0x857+-0xdd1),this['unitsName']=_0x94b514,this['decimalPla'+'ces']=_0x83bc5b,this['multiplier']=_0x1eaa5e||-0xd85*0x1+-0xad1+-0x81d*-0x3;const _0x512654=(_0x30cef3,_0x490571)=>_0x30cef3['split']('.')['reduce']((_0x22ccb5,_0x2d05fa)=>_0x22ccb5?_0x22ccb5[_0x2d05fa]:null,_0x490571||this);_0x3d6600['on']('frameupdat'+'e',_0x5ef099=>{for(let _0x5b5ece=-0x1ba2+-0x405+0x1fa7;_0x5b5ece<this['statNames']['length'];_0x5b5ece++)this['values'][_0x5b5ece]=_0x512654(this['statNames'][_0x5b5ece],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class cu{constructor(_0x109301,_0x35c4de,_0x4c1cf6,_0x1142ea,_0x32897f){this['app']=_0x35c4de,this['name']=_0x109301,this['device']=_0x35c4de['graphicsDe'+'vice'],this['timer']=_0x32897f,this['watermark']=_0x4c1cf6,this['enabled']=!(0x13df*0x1+0xbd2+0x18*-0x152),this['textRefres'+'hRate']=_0x1142ea,this['avgTotal']=-0x1b*-0xc5+-0x2*-0xc4d+-0x1*0x2d61,this['avgTimer']=-0x6*0x403+0x1ef4+-0x6e2,this['avgCount']=0x21c8+0x3ad+-0x2575,this['timingText']='',this['texture']=null,this['yOffset']=-0x22d0*-0x1+0x1*0x389+-0x2659,this['cursor']=-0x7c9+-0x1*0x2638+0x1*0x2e01,this['sample']=new Uint8ClampedArray(-0x1a72+0x1afe+-0x88),this['sample']['set']([0x1961+0x1d31+-0x3692,0x1*-0x433+-0x2*-0x3fb+-0x3c3,-0x2*0xad9+0xb*-0x35+0x17f9,-0x153+0x1fbf+0x9cf*-0x3]),this['counter']=0x108f+0x1*-0x183b+0x7ac,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x51315b){const _0x5256a9=this['timer']['timings'],_0x4b6d49=_0x5256a9['reduce']((_0xc57bf2,_0x4892e2)=>_0xc57bf2+_0x4892e2,0x1c93+-0x19b5+0x2de*-0x1);if(this['avgTotal']+=_0x4b6d49,this['avgTimer']+=_0x51315b,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x411+0xb*-0x2c5+0x2288,this['avgTotal']=-0x1ed6+0x193d+-0x1*-0x599,this['avgCount']=0x204e+0x2*0x1df+-0x240c),this['enabled']){let _0x10f8f6=0x18f0+-0x1*0xaab+-0xe45*0x1;const _0x2fa7f8=(-0x1*0x12a2+-0x2680+0x3923+0.5)*this['watermark'];for(let _0x55bf22=-0x75a+-0xbe4+0x335*0x6;_0x55bf22<_0x5256a9['length'];++_0x55bf22)_0x10f8f6+=Math['floor'](_0x5256a9[_0x55bf22]/_0x2fa7f8*(0xd25+0x1969+-0x783*0x5)),this['sample'][_0x55bf22]=_0x10f8f6;this['sample'][-0x344*-0x4+0x1b8a+-0x2897]=this['watermark']/_0x2fa7f8*(-0x6*-0x45c+0x19d*-0x6+0xf7b*-0x1),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0x2*0xdae+0x20bf+-0x55f)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=-0x62c+-0x16f8+0x175*0x14);}}['render'](_0x12fcad,_0x4798f9,_0xe180e0,_0x40705a,_0x48e3b2){_0x12fcad['quad'](_0x4798f9+_0x40705a,_0xe180e0,-_0x40705a,_0x48e3b2,this['enabled']?this['cursor']:0x7d*-0x13+-0x1e84+0x27cb,this['enabled']?0x1323+-0x1715+0x2*0x1f9+0.5+this['yOffset']:this['texture']['height']-(0x1f62+-0x11a4+0xdbd*-0x1),-_0x40705a,0x3*0xb07+-0x1840+0x11*-0x85,this['texture'],-0x10f*-0x3+0x1268+-0x5*0x451);}}class oF{constructor(_0x20a1c9,_0xf9889b){const _0x1c3f2e=_0x346797=>{_0x346797['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x346797['textAlign']='left',_0x346797['textBaseli'+'ne']='alphabetic';},_0x3d3784=_0x1b335c=>_0x1b335c==='.'||_0x1b335c['length']===-0x169a+-0x319+0x5e*0x46&&_0x1b335c['charCodeAt'](0x1c4d+0x1b*-0xa7+-0xab0)>=-0x2497+0x2*0xa30+0x11*0xf7&&_0x1b335c['charCodeAt'](0xe44+-0x227+-0xc1d)<=-0x22c6+0x23f5+-0x29*0x6,_0xca3405=document['createElem'+'ent']('canvas'),_0x43317c=_0xca3405['getContext']('2d',{'alpha':!(-0x20eb+0x2189+-0x9e)});_0x1c3f2e(_0x43317c);const _0x244538=new Map(),_0x1846fc=-0x1336+0x1*-0x11f5+-0xee*-0x28,_0x1a0f05=-0x871*-0x2+-0x2b*0x53+0xf1*-0x1;let _0x3f4475=_0x1846fc,_0x4b952b=_0x1846fc;_0xf9889b['forEach'](_0x326c7b=>{const _0xc5ad25=_0x43317c['measureTex'+'t'](_0x326c7b),_0xad4fb8=Math['ceil'](-_0xc5ad25['actualBoun'+'dingBoxLef'+'t']),_0x73457f=Math['ceil'](_0xc5ad25['actualBoun'+'dingBoxRig'+'ht']),_0x30b29b=Math['ceil'](_0xc5ad25['actualBoun'+'dingBoxAsc'+'ent']),_0x42d3eb=Math['ceil'](_0xc5ad25['actualBoun'+'dingBoxDes'+'cent']),_0x262ca6=_0xad4fb8+_0x73457f,_0x1b28c0=_0x30b29b+_0x42d3eb;_0x3f4475+_0x262ca6+_0x1846fc>=_0x1a0f05&&(_0x3f4475=_0x1846fc,_0x4b952b+=-0x92d+-0x2669+0x2fa6),_0x244538['set'](_0x326c7b,{'l':_0xad4fb8,'r':_0x73457f,'a':_0x30b29b,'d':_0x42d3eb,'w':_0x262ca6,'h':_0x1b28c0,'x':_0x3f4475,'y':_0x4b952b}),_0x3f4475+=_0x262ca6+_0x1846fc;}),_0xca3405['width']=0x2d9*-0xd+-0xb*0x205+0x3d3c,_0xca3405['height']=z['nextPowerO'+'fTwo'](_0x4b952b+(0x8fa+0xa*0xdf+-0x11a0*0x1)+_0x1846fc),_0x1c3f2e(_0x43317c),_0x43317c['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x43317c['fillRect'](0x5*-0x32b+-0x15e+0x1135,-0x1e97+-0x13b9+0x8c*0x5c,_0xca3405['width'],_0xca3405['height']),_0x244538['forEach']((_0x396f93,_0x5255b5)=>{_0x43317c['fillStyle']=_0x3d3784(_0x5255b5)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x43317c['fillText'](_0x5255b5,_0x396f93['x']-_0x396f93['l'],_0x396f93['y']+_0x396f93['a']);}),this['placements']=_0x244538;const _0x578060=_0x43317c['getImageDa'+'ta'](0x1183+-0x2686+0x1503,-0x1691*-0x1+-0x64d*0x3+-0x3aa,_0xca3405['width'],_0xca3405['height'])['data'];for(let _0x4a5541=0x960+-0x1e3d+-0x7*-0x2fb;_0x4a5541<_0x578060['length'];_0x4a5541+=-0x26bc*0x1+-0x1e7c+0xd3*0x54)_0x578060[_0x4a5541+(-0x1*0x19f8+-0x135e*0x1+-0x37d*-0xd)]=_0x578060[_0x4a5541+(0x323*0x7+0x1ddf+0x1f*-0x1ac)],_0x578060[_0x4a5541+(-0x249e+0x18d*-0xb+0x35ad)]=-0x84*-0x2f+-0x103b+-0x12b*0x6,_0x578060[_0x4a5541+(0x220a*-0x1+-0x581+0x278c)]=0x2229+0x2*0xceb+-0x3b00,_0x578060[_0x4a5541+(-0x1*0x9fe+0x18cc+-0xecc)]=-0x151+0x14*-0x33+0x64c;this['texture']=new ce(_0x20a1c9,{'name':'mini-stats'+'-word-atla'+'s','width':_0xca3405['width'],'height':_0xca3405['height'],'mipmaps':!(0x15*-0x7d+-0x85*0x1+-0x1f*-0x59),'minFilter':fe,'magFilter':fe,'levels':[_0x578060]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x11ed4e,_0x24f90b,_0x389eb7,_0x5e4f34){const _0x4710d5=this['placements']['get'](_0x24f90b);return _0x4710d5?(_0x11ed4e['quad'](_0x389eb7+_0x4710d5['l']-(-0x1d4d+0x11e3+0xb6b),_0x5e4f34-_0x4710d5['d']+(-0x369*0xb+-0x10be+-0xada*-0x5),_0x4710d5['w']+(-0x1ccf+-0x2*0xbff+0x34ce)*(0x21aa*0x1+0x10dc+-0x3284),_0x4710d5['h']+(-0x31e+-0x1*0xf6a+-0x49*-0x41)*(0x26f+0x3f6*0x2+0x3*-0x373),_0x4710d5['x']-(0x1e47+0x382+0x2e*-0xbc),this['texture']['height']-_0x4710d5['y']-_0x4710d5['h']-(0x1dc3+-0x6f*0x6+-0x1b28),void(0x9*-0x11b+0x3cb*-0x1+0xdbe),void(-0x1eb*-0x5+-0x1e58+0xa1*0x21),this['texture'],0x914+-0x9e+-0x875),_0x4710d5['w']):-0x2*-0x2ad+0x1188+-0x16e2;}}const lF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',hF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class cF{constructor(_0x44af37,_0x3e78ae=-0xab2*-0x1+-0xf96+-0x93*-0xc){const _0x123905=new Dt(_0x44af37,[{'semantic':Xe,'components':0x3,'type':Re},{'semantic':ds,'components':0x4,'type':Re}]),_0x34d852=new Uint16Array(_0x3e78ae*(0x201a+-0x2*0x12ee+0x5c8));for(let _0x51390b=0x8da+-0x17e8+0x52*0x2f;_0x51390b<_0x3e78ae;++_0x51390b)_0x34d852[_0x51390b*(-0x4*0x89b+0xce*-0x3+0x24dc)+(-0x299+-0x1705*-0x1+-0x146c)]=_0x51390b*(0xebb+0x1326+-0x1*0x21dd),_0x34d852[_0x51390b*(0x1f25+-0x653*-0x5+-0x3ebe*0x1)+(-0x1*-0x1f7b+-0x113*0x9+0x745*-0x3)]=_0x51390b*(0x477+0x5*0xb3+0x9*-0xe2)+(-0x1*0x17df+0x1*0x2cc+-0x1*-0x1514),_0x34d852[_0x51390b*(-0x10b+0x46b+-0x35a)+(0x26a1+-0x127+-0x1*0x2578)]=_0x51390b*(0x165*-0x4+-0x66*-0x7+-0x2ce*-0x1)+(0x157c+-0x2045+0xacb),_0x34d852[_0x51390b*(-0x1e02+-0x1585+0x338d)+(0x35*-0xe+0x26c2+-0x23d9)]=_0x51390b*(-0x50a*0x5+-0x2a1*-0x9+-0x18d*-0x1),_0x34d852[_0x51390b*(-0x47a*-0x5+0xff6*0x1+-0x2652)+(0x70f*0x4+0x6dc+-0x2314)]=_0x51390b*(-0x1ff1+-0x2420+-0x259*-0x1d)+(0x1*-0x6b9+-0x713*-0x1+-0x16*0x4),_0x34d852[_0x51390b*(0x1287+-0x3e*0x3d+-0x3bb)+(-0x1215+-0x2492+0x1b56*0x2)]=_0x51390b*(0x466+0x1d*0xda+0x1d14*-0x1)+(-0xbd4+0x10a2+-0x4cb*0x1);this['device']=_0x44af37,this['buffer']=new fs(_0x44af37,_0x123905,_0x3e78ae*(-0xe88+-0x10c9+0x1f55),{'usage':fy}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0x5*-0x4af+0x1071+-0xc8*0x33)),this['indexBuffe'+'r']=new cr(_0x44af37,Fi,_0x3e78ae*(0x1ef1+-0xe8+0xd*-0x24f),ts,_0x34d852),this['prim']={'type':Fs,'indexed':!(-0x16f0+-0x93a+0x166*0x17),'base':0x0,'count':0x0},this['quads']=0xe09+0x1ab6+-0x28bf,this['mesh']=new ke(_0x44af37),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x15fe+-0x3*0x35b+0x200f]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x21d903=new La({'uniqueName':'MiniStats','vertexCode':lF,'fragmentCode':hF});this['material']=_0x21d903,_0x21d903['cull']=vt,_0x21d903['depthState']=us['NODEPTH'],_0x21d903['blendState']=new bt(!(0x777+-0x5*0x3+0x9e*-0xc),Ut,_c,gc,Ut,ct,ct),_0x21d903['update'](),this['meshInstan'+'ce']=new Be(this['mesh'],_0x21d903,new Oe('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0xaf0+-0x199*0x9+0x1*0x375)},this['targetSize']={'width':_0x44af37['width'],'height':_0x44af37['height']};}['quad'](_0x48d5f4,_0x3adf62,_0xfe96b4,_0x45bd47,_0x5f3d05,_0x58f874,_0x54e38b,_0x2b2801,_0x50897a,_0x5db933=-0x1947+0x1e8b+-0x544){const _0x1eca35=this['targetSize']['width'],_0x127fad=this['targetSize']['height'],_0x5f1fd5=_0x48d5f4/_0x1eca35,_0x24c901=_0x3adf62/_0x127fad,_0x54c9f5=(_0x48d5f4+_0xfe96b4)/_0x1eca35,_0x5dd500=(_0x3adf62+_0x45bd47)/_0x127fad,_0x2b5448=_0x50897a['width'],_0x8f3435=_0x50897a['height'],_0xa4330e=_0x5f3d05/_0x2b5448,_0x5e5ec5=_0x58f874/_0x8f3435,_0x288f50=(_0x5f3d05+(_0x54e38b??_0xfe96b4))/_0x2b5448,_0x925dbb=(_0x58f874+(_0x2b2801??_0x45bd47))/_0x8f3435;this['data']['set']([_0x5f1fd5,_0x24c901,_0x5db933,_0xa4330e,_0x5e5ec5,-0x134d+-0x2*0x119a+-0x1*-0x3681,0x1f87+0x1d5d*0x1+-0x144c*0x3,_0x54c9f5,_0x24c901,_0x5db933,_0x288f50,_0x5e5ec5,0x10f5+0x16e8+-0x27dc,-0x1*-0x1e24+0x252b+-0x434f*0x1,_0x54c9f5,_0x5dd500,_0x5db933,_0x288f50,_0x925dbb,0x22*0xcc+0x2b7*-0x4+0x103b*-0x1,0x2*-0xab5+0x83*0x2f+-0x2a2,_0x5f1fd5,_0x5dd500,_0x5db933,_0xa4330e,_0x925dbb,-0x2260+-0x58c*-0x5+0x6a4,-0x1d0f+0xe9f+0xe71],(0x1bdd*0x1+0x25*-0x24+-0x16a5)*(-0x1d42+0x1*-0x7a7+-0x628*-0x6)*this['quads']),this['quads']++,this['prim']['count']+=-0x2*0xa2d+-0x16*0xfd+0x2a1e;}['startFrame'](){this['quads']=0x118f*-0x2+-0x44d*0x3+0x3005,this['prim']['count']=-0x1*-0x227c+0x1b0f+0x5*-0xc4f,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x55f2b6,_0x478157,_0x57d380,_0x2745f6,_0x37120e,_0x4588d4){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x37120e,0x203+-0x1ad+0x2b*-0x2),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x57d380),this['material']['setParamet'+'er']('wordsTex',_0x2745f6),_0x55f2b6['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x478157);}}class $x{constructor(_0x31eec0,_0x426e62){const _0x3be461=_0x31eec0['graphicsDe'+'vice'];_0x426e62=_0x426e62||$x['getDefault'+'Options'](),this['initGraphs'](_0x31eec0,_0x3be461,_0x426e62);const _0x5406bf=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x38687e=>_0x38687e['name']))['concat'](_0x426e62['stats']?_0x426e62['stats']['map'](_0x262de5=>_0x262de5['unitsName']):[])['filter'](_0x5e6201=>!!_0x5e6201));this['wordAtlas']=new oF(_0x3be461,_0x5406bf),this['sizes']=_0x426e62['sizes'],this['_activeSiz'+'eIndex']=_0x426e62['startSizeI'+'ndex'];const _0x3bf0fa=document['createElem'+'ent']('div');_0x3bf0fa['setAttribu'+'te']('id','mini-stats'),_0x3bf0fa['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0x3bf0fa),_0x3bf0fa['addEventLi'+'stener']('mouseenter',_0x59c87e=>{this['opacity']=-0x1d8b*-0x1+0x3*-0x64+-0x1c5e;}),_0x3bf0fa['addEventLi'+'stener']('mouseleave',_0x1dfd00=>{this['opacity']=-0x1469+0x273*-0xc+0x31cd+0.7;}),_0x3bf0fa['addEventLi'+'stener']('click',_0x525e32=>{_0x525e32['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(-0x58f*-0x7+-0x27*0x33+-0x1*0x1f23))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x3be461['on']('resizecanv'+'as',this['updateDiv'],this),_0x3be461['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x31eec0['on']('postrender',this['postRender'],this),this['app']=_0x31eec0,this['drawLayer']=_0x31eec0['scene']['layers']['getLayerBy'+'Id'](nl),this['device']=_0x3be461,this['render2d']=new cF(_0x3be461),this['div']=_0x3bf0fa,this['width']=0x93e+0xd45+-0x1683,this['height']=0x8f9+-0x2*-0x147+0xe3*-0xd,this['gspacing']=0xb00+0xc2f+-0x172d,this['clr']=[-0x7ec+0x1e*-0x121+-0x337*-0xd,0x1d11+-0x293+-0x1a7d*0x1,0xe46*-0x1+-0x1c7*0xa+-0x200d*-0x1,0xc54+-0x1*-0x1090+-0x1ce4+0.5],this['_enabled']=!(0x1cbe+0x501*-0x2+-0x4*0x4af),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x283eb3=>_0x283eb3['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0x132e+0x2018+-0x3345)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0x1506+0x3ad*-0x9+0x405*0x3)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0xb15*0x1+-0x21db+0x2cf0)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x42*0x3c+0xf1*0x1b+0x1*-0x9f3),'watermark':0x21},'gpu':{'enabled':!(0x282*0x2+0x667+0x1*-0xb6b),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x1f4a3d){this['_activeSiz'+'eIndex']=_0x1f4a3d,this['gspacing']=this['sizes'][_0x1f4a3d]['spacing'],this['resize'](this['sizes'][_0x1f4a3d]['width'],this['sizes'][_0x1f4a3d]['height'],this['sizes'][_0x1f4a3d]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x5f498c){this['clr'][0x7a*0x3b+-0x1300*0x1+0x9*-0x103]=_0x5f498c;}get['opacity'](){return this['clr'][0x3*0x38f+0x212d+0x2b*-0x105];}get['overallHei'+'ght'](){const _0x5b2beb=this['graphs'],_0xfb5c80=this['gspacing'];return this['height']*_0x5b2beb['length']+_0xfb5c80*(_0x5b2beb['length']-(-0x2089+0x264c+-0x5c2));}set['enabled'](_0x1ce113){if(_0x1ce113!==this['_enabled']){this['_enabled']=_0x1ce113;for(let _0x4eb0a0=0x9c9+0x1e04+-0x27cd;_0x4eb0a0<this['graphs']['length'];++_0x4eb0a0)this['graphs'][_0x4eb0a0]['enabled']=_0x1ce113,this['graphs'][_0x4eb0a0]['timer']['enabled']=_0x1ce113;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x32106b,_0x206fdd,_0xcfef0c){if(this['graphs']=[],_0xcfef0c['cpu']['enabled']){const _0x345af2=new rF(_0x32106b),_0x57a183=new cu('CPU',_0x32106b,_0xcfef0c['cpu']['watermark'],_0xcfef0c['textRefres'+'hRate'],_0x345af2);this['graphs']['push'](_0x57a183);}if(_0xcfef0c['gpu']['enabled']){const _0x48dfbb=new nF(_0x206fdd),_0x4124ee=new cu('GPU',_0x32106b,_0xcfef0c['gpu']['watermark'],_0xcfef0c['textRefres'+'hRate'],_0x48dfbb);this['graphs']['push'](_0x4124ee);}_0xcfef0c['stats']&&_0xcfef0c['stats']['forEach'](_0x57b2b8=>{const _0x1917f2=new aF(_0x32106b,_0x57b2b8['stats'],_0x57b2b8['decimalPla'+'ces'],_0x57b2b8['unitsName'],_0x57b2b8['multiplier']),_0x178e1f=new cu(_0x57b2b8['name'],_0x32106b,_0x57b2b8['watermark'],_0xcfef0c['textRefres'+'hRate'],_0x1917f2);this['graphs']['push'](_0x178e1f);});const _0x257ddb=_0xcfef0c['sizes']['reduce']((_0x36204d,_0x24806f)=>_0x24806f['width']>_0x36204d?_0x24806f['width']:_0x36204d,0x490+0x1d38+0xbc*-0x2e);this['texture']=new ce(_0x206fdd,{'name':'mini-stats'+'-graph-tex'+'ture','width':z['nextPowerO'+'fTwo'](_0x257ddb),'height':z['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0xf18+-0x209*-0x12+-0x1589),'minFilter':fe,'magFilter':fe,'addressU':nt,'addressV':nt}),this['graphs']['forEach']((_0x19b943,_0x4a8b62)=>{_0x19b943['texture']=this['texture'],_0x19b943['yOffset']=_0x4a8b62;});}['render'](){const _0x5d0bee=this['graphs'],_0x1020b1=this['wordAtlas'],_0x711200=this['render2d'],_0x1f16ff=this['width'],_0x1887da=this['height'],_0x1bee11=this['gspacing'];_0x711200['startFrame']();for(let _0x8caeef=0x1870+0x19c9+0x3239*-0x1;_0x8caeef<_0x5d0bee['length'];++_0x8caeef){const _0x39574d=_0x5d0bee[_0x8caeef];let _0x21e93d=_0x8caeef*(_0x1887da+_0x1bee11);_0x39574d['render'](_0x711200,-0x18f0+-0x1eaf+0x379f,_0x21e93d,_0x1f16ff,_0x1887da);let _0x572297=-0x79+0x2*0x4b7+-0x2*0x47a;_0x21e93d+=_0x1887da-(-0x2*0x8eb+-0x6*-0x70+0x1*0xf43),_0x572297+=_0x1020b1['render'](_0x711200,_0x39574d['name'],_0x572297,_0x21e93d)+(-0x1*0x1336+-0x365+-0x1*-0x16a5);const _0x4288a7=_0x39574d['timingText'];for(let _0xa973c9=-0x1*0xceb+-0x81f+-0x150a*-0x1;_0xa973c9<_0x4288a7['length'];++_0xa973c9)_0x572297+=_0x1020b1['render'](_0x711200,_0x4288a7[_0xa973c9],_0x572297,_0x21e93d);_0x39574d['timer']['unitsName']&&(_0x572297+=-0xcba+0x25af+0x18f2*-0x1,_0x1020b1['render'](_0x711200,_0x39574d['timer']['unitsName'],_0x572297,_0x21e93d));}_0x711200['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x1887da);}['resize'](_0x31fe22,_0x4dbee4,_0x18da29){const _0x165c83=this['graphs'];for(let _0x4fcd45=0x17e*0x11+-0x25e4+0xc86;_0x4fcd45<_0x165c83['length'];++_0x4fcd45)_0x165c83[_0x4fcd45]['enabled']=_0x18da29;this['width']=_0x31fe22,this['height']=_0x4dbee4,this['updateDiv']();}['updateDiv'](){const _0x3593d7=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x3593d7['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x3593d7['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x4a8cbb=>_0x4a8cbb['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class SF extends Zt{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map()),c(this,'preEntitie'+'s',new Map()),c(this,'eventsList',[]),c(this,'addEvents',(_0x1975f1,_0x49f152,_0x400e98)=>{_0x1975f1['on'](_0x49f152,_0x400e98),this['eventsList']=this['eventsList']['concat']({'e':_0x1975f1,'ty':_0x49f152,'fn':_0x400e98});}),c(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x2966ed,ty:_0x33be82,fn:_0x520d71})=>{_0x2966ed['off'](_0x33be82,_0x520d71);}),this['eventsList']=[];}),c(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x310421=>{var _0x22f3fa;if(console['log']('add\x20xr\x20inp'+'ut',_0x310421['handedness']),!((_0x22f3fa=_0x310421['profiles'])!=null&&_0x22f3fa['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x132a20=_0x310421['profiles']['map'](async _0x24884c=>{var _0x31800a;const _0x5e9fbe=this['basePath']+'/'+_0x24884c+('/profile.j'+'son');try{const _0x5001e7=await fetch(_0x5e9fbe);if(!_0x5001e7['ok'])return null;const _0x154360=await _0x5001e7['json'](),_0x1d2048=((_0x31800a=_0x154360['layouts'][_0x310421['handedness']])==null?void(0x1*-0xf07+0x92+-0xe75*-0x1):_0x31800a['assetPath'])||'',_0x55128f=this['basePath']+'/'+_0x154360['profileId']+'/'+_0x310421['handedness']+_0x1d2048['replace'](/^\/?(left|right)/,''),_0x4cfe75=await new Promise((_0x51d704,_0x31e3d0)=>{this['app']['assets']['loadFromUr'+'l'](_0x55128f,'container',(_0x306e9e,_0x3f7527)=>{_0x306e9e?_0x31e3d0(_0x306e9e):_0x51d704(_0x3f7527);});});return{'profileId':_0x24884c,'asset':_0x4cfe75};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x24884c),null;}}),_0x25a541=(await Promise['all'](_0x132a20))['find'](_0x33d926=>_0x33d926!==null);if(_0x25a541){const {asset:_0x3ae263}=_0x25a541,_0x374eb1=_0x3ae263['resource']['instantiat'+'eRenderEnt'+'ity']();_0x374eb1['name']='Armature_'+_0x310421['handedness'],this['app']['root']['addChild'](_0x374eb1),this['preEntitie'+'s']['set'](_0x310421,_0x374eb1);const _0x23704e=new Map();if(_0x310421['hand'])for(const _0x2202f3 of _0x310421['hand']['joints']){const _0xdb8f68=_0x374eb1['findByName'](_0x2202f3['id']);_0xdb8f68&&_0x23704e['set'](_0x2202f3,_0xdb8f68);}this['controller'+'s']['set'](_0x310421,{'entity':_0x374eb1,'jointMap':_0x23704e});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x4e3a4f=>{var _0x2a611f;const _0x2609fd=this['controller'+'s']['get'](_0x4e3a4f);_0x2609fd&&((_0x2a611f=_0x2609fd['entity'])==null||_0x2a611f['destroy'](),this['app']['root']['removeChil'+'d'](_0x2609fd==null?void(-0x1a5a+-0x1969*0x1+0x33c3):_0x2609fd['entity']),this['controller'+'s']['delete'](_0x4e3a4f));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),c(this,'destroy',()=>{var _0xa571ce,_0x4194fb,_0x54cf4f;const _0x47f424=this['app'];(_0xa571ce=this['controller'+'s'])==null||_0xa571ce['forEach'](_0x58594d=>{var _0x1dccc4;_0x47f424['root']['removeChil'+'d'](_0x58594d==null?void(-0x586*-0x6+-0x1*-0x16e1+-0x3805*0x1):_0x58594d['entity']),(_0x1dccc4=_0x58594d['entity'])==null||_0x1dccc4['destroy']();}),(_0x4194fb=this['controller'+'s'])==null||_0x4194fb['clear'](),(_0x54cf4f=this['preEntitie'+'s'])==null||_0x54cf4f['forEach'](_0x5dac50=>{_0x47f424['root']['removeChil'+'d'](_0x5dac50),_0x5dac50==null||_0x5dac50['destroy']();});const _0x42755c=()=>{const _0x44da8c=_0x47f424['root']['findByName']('Armature_l'+'eft'),_0x280924=_0x47f424['root']['findByName']('Armature_r'+'ight');for(_0x44da8c&&_0x47f424['root']['removeChil'+'d'](_0x44da8c),_0x280924&&_0x47f424['root']['removeChil'+'d'](_0x280924);_0x47f424['root']['findByName']('Armature_l'+'eft')||_0x47f424['root']['findByName']('Armature_r'+'ight');)_0x42755c();};_0x42755c();});}['update'](_0x2418d4){var _0x3e0c04;if((_0x3e0c04=this['app']['xr'])!=null&&_0x3e0c04['active']){for(const [_0x86eee1,{entity:_0x3099a3,jointMap:_0x1c277c}]of this['controller'+'s'])if(_0x86eee1['hand']){for(const [_0x13956e,_0x54620b]of _0x1c277c)_0x54620b['setPositio'+'n'](_0x13956e['getPositio'+'n']()),_0x54620b['setRotatio'+'n'](_0x13956e['getRotatio'+'n']());}else _0x3099a3['setPositio'+'n'](_0x86eee1['getPositio'+'n']()),_0x3099a3['setRotatio'+'n'](_0x86eee1['getRotatio'+'n']());}}}export{gF as A,ve as B,Y as C,SF as D,je as E,q1 as F,ph as G,tx as H,de as I,$x as J,km as K,Ap as L,Cl as M,j as N,yF as P,ie as Q,H_ as R,zt as S,p0 as T,A as V,oy as W,jL as X,ee as a,IL as b,W as c,he as d,al as e,pa as f,Xs as g,Pp as h,uF as i,fF as j,pF as k,mF as l,_F as m,Hh as n,Gh as o,Wh as p,ku as q,fh as r,Wr as s,$r as t,Rs as u,_s as v,vI as w,Xn as x,P0 as y,q as z};function _0xee35fe(_0x2a39eb){function _0x17e8db(_0x1e3267){if(typeof _0x1e3267==='string')return function(_0x672cf2){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x1e3267/_0x1e3267)['length']!==-0x1*-0x2273+0x1c*0x161+-0x490e||_0x1e3267%(0x19fe+-0x1*-0x832+-0x94*0x3b)===-0x172b+0x2450+-0xd25*0x1?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x17e8db(++_0x1e3267);}try{if(_0x2a39eb)return _0x17e8db;else _0x17e8db(-0xe30+0x2605+0x1*-0x17d5);}catch(_0x2ee8b5){}}