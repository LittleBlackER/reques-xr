import{g as Te,r as Se,a as Ee,c as me}from"./H-cN399H.js";import{r as Me,a as Be,b as Ie,c as Ce,d as Ue,e as Ne}from"./CZq0xcQz.js";import{r as be}from"./CVOG6I8Y.js";var se={exports:{}},xe;function De(){if(xe)return se.exports;xe=1;var A=typeof Reflect=="object"?Reflect:null,b=A&&typeof A.apply=="function"?A.apply:function(f,d,v){return Function.prototype.apply.call(f,d,v)},L;A&&typeof A.ownKeys=="function"?L=A.ownKeys:Object.getOwnPropertySymbols?L=function(f){return Object.getOwnPropertyNames(f).concat(Object.getOwnPropertySymbols(f))}:L=function(f){return Object.getOwnPropertyNames(f)};function k(h){console&&console.warn&&console.warn(h)}var C=Number.isNaN||function(f){return f!==f};function E(){E.init.call(this)}se.exports=E,se.exports.once=V,E.EventEmitter=E,E.prototype._events=void 0,E.prototype._eventsCount=0,E.prototype._maxListeners=void 0;var x=10;function a(h){if(typeof h!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof h)}Object.defineProperty(E,"defaultMaxListeners",{enumerable:!0,get:function(){return x},set:function(h){if(typeof h!="number"||h<0||C(h))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+h+".");x=h}}),E.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},E.prototype.setMaxListeners=function(f){if(typeof f!="number"||f<0||C(f))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+f+".");return this._maxListeners=f,this};function c(h){return h._maxListeners===void 0?E.defaultMaxListeners:h._maxListeners}E.prototype.getMaxListeners=function(){return c(this)},E.prototype.emit=function(f){for(var d=[],v=1;v<arguments.length;v++)d.push(arguments[v]);var m=f==="error",y=this._events;if(y!==void 0)m=m&&y.error===void 0;else if(!m)return!1;if(m){var F;if(d.length>0&&(F=d[0]),F instanceof Error)throw F;var Y=new Error("Unhandled error."+(F?" ("+F.message+")":""));throw Y.context=F,Y}var J=y[f];if(J===void 0)return!1;if(typeof J=="function")b(J,this,d);else for(var X=J.length,z=_(J,X),v=0;v<X;++v)b(z[v],this,d);return!0};function R(h,f,d,v){var m,y,F;if(a(d),y=h._events,y===void 0?(y=h._events=Object.create(null),h._eventsCount=0):(y.newListener!==void 0&&(h.emit("newListener",f,d.listener?d.listener:d),y=h._events),F=y[f]),F===void 0)F=y[f]=d,++h._eventsCount;else if(typeof F=="function"?F=y[f]=v?[d,F]:[F,d]:v?F.unshift(d):F.push(d),m=c(h),m>0&&F.length>m&&!F.warned){F.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(f)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=h,Y.type=f,Y.count=F.length,k(Y)}return h}E.prototype.addListener=function(f,d){return R(this,f,d,!1)},E.prototype.on=E.prototype.addListener,E.prototype.prependListener=function(f,d){return R(this,f,d,!0)};function S(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function M(h,f,d){var v={fired:!1,wrapFn:void 0,target:h,type:f,listener:d},m=S.bind(v);return m.listener=d,v.wrapFn=m,m}E.prototype.once=function(f,d){return a(d),this.on(f,M(this,f,d)),this},E.prototype.prependOnceListener=function(f,d){return a(d),this.prependListener(f,M(this,f,d)),this},E.prototype.removeListener=function(f,d){var v,m,y,F,Y;if(a(d),m=this._events,m===void 0)return this;if(v=m[f],v===void 0)return this;if(v===d||v.listener===d)--this._eventsCount===0?this._events=Object.create(null):(delete m[f],m.removeListener&&this.emit("removeListener",f,v.listener||d));else if(typeof v!="function"){for(y=-1,F=v.length-1;F>=0;F--)if(v[F]===d||v[F].listener===d){Y=v[F].listener,y=F;break}if(y<0)return this;y===0?v.shift():B(v,y),v.length===1&&(m[f]=v[0]),m.removeListener!==void 0&&this.emit("removeListener",f,Y||d)}return this},E.prototype.off=E.prototype.removeListener,E.prototype.removeAllListeners=function(f){var d,v,m;if(v=this._events,v===void 0)return this;if(v.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):v[f]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete v[f]),this;if(arguments.length===0){var y=Object.keys(v),F;for(m=0;m<y.length;++m)F=y[m],F!=="removeListener"&&this.removeAllListeners(F);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(d=v[f],typeof d=="function")this.removeListener(f,d);else if(d!==void 0)for(m=d.length-1;m>=0;m--)this.removeListener(f,d[m]);return this};function j(h,f,d){var v=h._events;if(v===void 0)return[];var m=v[f];return m===void 0?[]:typeof m=="function"?d?[m.listener||m]:[m]:d?O(m):_(m,m.length)}E.prototype.listeners=function(f){return j(this,f,!0)},E.prototype.rawListeners=function(f){return j(this,f,!1)},E.listenerCount=function(h,f){return typeof h.listenerCount=="function"?h.listenerCount(f):g.call(h,f)},E.prototype.listenerCount=g;function g(h){var f=this._events;if(f!==void 0){var d=f[h];if(typeof d=="function")return 1;if(d!==void 0)return d.length}return 0}E.prototype.eventNames=function(){return this._eventsCount>0?L(this._events):[]};function _(h,f){for(var d=new Array(f),v=0;v<f;++v)d[v]=h[v];return d}function B(h,f){for(;f+1<h.length;f++)h[f]=h[f+1];h.pop()}function O(h){for(var f=new Array(h.length),d=0;d<f.length;++d)f[d]=h[d].listener||h[d];return f}function V(h,f){return new Promise(function(d,v){function m(F){h.removeListener(f,y),v(F)}function y(){typeof h.removeListener=="function"&&h.removeListener("error",m),d([].slice.call(arguments))}P(h,f,y,{once:!0}),f!=="error"&&U(h,m,{once:!0})})}function U(h,f,d){typeof h.on=="function"&&P(h,"error",f,d)}function P(h,f,d,v){if(typeof h.on=="function")v.once?h.once(f,d):h.on(f,d);else if(typeof h.addEventListener=="function")h.addEventListener(f,function m(y){v.once&&h.removeEventListener(f,m),d(y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof h)}return se.exports}var de={},te={},_e;function Oe(){if(_e)return te;_e=1,te.byteLength=a,te.toByteArray=R,te.fromByteArray=j;for(var A=[],b=[],L=typeof Uint8Array<"u"?Uint8Array:Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,E=k.length;C<E;++C)A[C]=k[C],b[k.charCodeAt(C)]=C;b[45]=62,b[95]=63;function x(g){var _=g.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=g.indexOf("=");B===-1&&(B=_);var O=B===_?0:4-B%4;return[B,O]}function a(g){var _=x(g),B=_[0],O=_[1];return(B+O)*3/4-O}function c(g,_,B){return(_+B)*3/4-B}function R(g){var _,B=x(g),O=B[0],V=B[1],U=new L(c(g,O,V)),P=0,h=V>0?O-4:O,f;for(f=0;f<h;f+=4)_=b[g.charCodeAt(f)]<<18|b[g.charCodeAt(f+1)]<<12|b[g.charCodeAt(f+2)]<<6|b[g.charCodeAt(f+3)],U[P++]=_>>16&255,U[P++]=_>>8&255,U[P++]=_&255;return V===2&&(_=b[g.charCodeAt(f)]<<2|b[g.charCodeAt(f+1)]>>4,U[P++]=_&255),V===1&&(_=b[g.charCodeAt(f)]<<10|b[g.charCodeAt(f+1)]<<4|b[g.charCodeAt(f+2)]>>2,U[P++]=_>>8&255,U[P++]=_&255),U}function S(g){return A[g>>18&63]+A[g>>12&63]+A[g>>6&63]+A[g&63]}function M(g,_,B){for(var O,V=[],U=_;U<B;U+=3)O=(g[U]<<16&16711680)+(g[U+1]<<8&65280)+(g[U+2]&255),V.push(S(O));return V.join("")}function j(g){for(var _,B=g.length,O=B%3,V=[],U=16383,P=0,h=B-O;P<h;P+=U)V.push(M(g,P,P+U>h?h:P+U));return O===1?(_=g[B-1],V.push(A[_>>2]+A[_<<4&63]+"==")):O===2&&(_=(g[B-2]<<8)+g[B-1],V.push(A[_>>10]+A[_>>4&63]+A[_<<2&63]+"=")),V.join("")}return te}var le={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Re;function ke(){return Re||(Re=1,le.read=function(A,b,L,k,C){var E,x,a=C*8-k-1,c=(1<<a)-1,R=c>>1,S=-7,M=L?C-1:0,j=L?-1:1,g=A[b+M];for(M+=j,E=g&(1<<-S)-1,g>>=-S,S+=a;S>0;E=E*256+A[b+M],M+=j,S-=8);for(x=E&(1<<-S)-1,E>>=-S,S+=k;S>0;x=x*256+A[b+M],M+=j,S-=8);if(E===0)E=1-R;else{if(E===c)return x?NaN:(g?-1:1)*(1/0);x=x+Math.pow(2,k),E=E-R}return(g?-1:1)*x*Math.pow(2,E-k)},le.write=function(A,b,L,k,C,E){var x,a,c,R=E*8-C-1,S=(1<<R)-1,M=S>>1,j=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=k?0:E-1,_=k?1:-1,B=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(a=isNaN(b)?1:0,x=S):(x=Math.floor(Math.log(b)/Math.LN2),b*(c=Math.pow(2,-x))<1&&(x--,c*=2),x+M>=1?b+=j/c:b+=j*Math.pow(2,1-M),b*c>=2&&(x++,c/=2),x+M>=S?(a=0,x=S):x+M>=1?(a=(b*c-1)*Math.pow(2,C),x=x+M):(a=b*Math.pow(2,M-1)*Math.pow(2,C),x=0));C>=8;A[L+g]=a&255,g+=_,a/=256,C-=8);for(x=x<<C|a,R+=C;R>0;A[L+g]=x&255,g+=_,x/=256,R-=8);A[L+g-_]|=B*128}),le}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Ae;function je(){return Ae||(Ae=1,function(A){var b=Oe(),L=ke(),k=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;A.Buffer=a,A.SlowBuffer=V,A.INSPECT_MAX_BYTES=50;var C=2147483647;A.kMaxLength=C,a.TYPED_ARRAY_SUPPORT=E(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function E(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function x(t){if(t>C)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return M(t)}return c(t,e,r)}a.poolSize=8192;function c(t,e,r){if(typeof t=="string")return j(t,e);if(ArrayBuffer.isView(t))return g(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(s(t,ArrayBuffer)||t&&s(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(s(t,SharedArrayBuffer)||t&&s(t.buffer,SharedArrayBuffer)))return _(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return a.from(n,e,r);var u=B(t);if(u)return u;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return a.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}a.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function R(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function S(t,e,r){return R(t),t<=0?x(t):e!==void 0?typeof r=="string"?x(t).fill(e,r):x(t).fill(e):x(t)}a.alloc=function(t,e,r){return S(t,e,r)};function M(t){return R(t),x(t<0?0:O(t)|0)}a.allocUnsafe=function(t){return M(t)},a.allocUnsafeSlow=function(t){return M(t)};function j(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=U(t,e)|0,n=x(r),u=n.write(t,e);return u!==r&&(n=n.slice(0,u)),n}function g(t){for(var e=t.length<0?0:O(t.length)|0,r=x(e),n=0;n<e;n+=1)r[n]=t[n]&255;return r}function _(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,a.prototype),n}function B(t){if(a.isBuffer(t)){var e=O(t.length)|0,r=x(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||w(t.length)?x(0):g(t);if(t.type==="Buffer"&&Array.isArray(t.data))return g(t.data)}function O(t){if(t>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return t|0}function V(t){return+t!=t&&(t=0),a.alloc(+t)}a.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==a.prototype},a.compare=function(e,r){if(s(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),s(r,Uint8Array)&&(r=a.from(r,r.offset,r.byteLength)),!a.isBuffer(e)||!a.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,u=r.length,l=0,p=Math.min(n,u);l<p;++l)if(e[l]!==r[l]){n=e[l],u=r[l];break}return n<u?-1:u<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return a.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var u=a.allocUnsafe(r),l=0;for(n=0;n<e.length;++n){var p=e[n];if(s(p,Uint8Array)&&(p=a.from(p)),!a.isBuffer(p))throw new TypeError('"list" argument must be an Array of Buffers');p.copy(u,l),l+=p.length}return u};function U(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||s(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var u=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return o(t).length;default:if(u)return n?-1:$(t).length;e=(""+e).toLowerCase(),u=!0}}a.byteLength=U;function P(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return ee(this,e,r);case"utf8":case"utf-8":return z(this,e,r);case"ascii":return Z(this,e,r);case"latin1":case"binary":return ne(this,e,r);case"base64":return X(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}a.prototype._isBuffer=!0;function h(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)h(this,r,r+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)h(this,r,r+3),h(this,r+1,r+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)h(this,r,r+7),h(this,r+1,r+6),h(this,r+2,r+5),h(this,r+3,r+4);return this},a.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?z(this,0,e):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:a.compare(this,e)===0},a.prototype.inspect=function(){var e="",r=A.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},k&&(a.prototype[k]=a.prototype.inspect),a.prototype.compare=function(e,r,n,u,l){if(s(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),u===void 0&&(u=0),l===void 0&&(l=this.length),r<0||n>e.length||u<0||l>this.length)throw new RangeError("out of range index");if(u>=l&&r>=n)return 0;if(u>=l)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,u>>>=0,l>>>=0,this===e)return 0;for(var p=l-u,T=n-r,I=Math.min(p,T),D=this.slice(u,l),W=e.slice(r,n),N=0;N<I;++N)if(D[N]!==W[N]){p=D[N],T=W[N];break}return p<T?-1:T<p?1:0};function f(t,e,r,n,u){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,w(r)&&(r=u?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(u)return-1;r=t.length-1}else if(r<0)if(u)r=0;else return-1;if(typeof e=="string"&&(e=a.from(e,n)),a.isBuffer(e))return e.length===0?-1:d(t,e,r,n,u);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?u?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):d(t,[e],r,n,u);throw new TypeError("val must be string, number or Buffer")}function d(t,e,r,n,u){var l=1,p=t.length,T=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;l=2,p/=2,T/=2,r/=2}function I(ge,ve){return l===1?ge[ve]:ge.readUInt16BE(ve*l)}var D;if(u){var W=-1;for(D=r;D<p;D++)if(I(t,D)===I(e,W===-1?0:D-W)){if(W===-1&&(W=D),D-W+1===T)return W*l}else W!==-1&&(D-=D-W),W=-1}else for(r+T>p&&(r=p-T),D=r;D>=0;D--){for(var N=!0,K=0;K<T;K++)if(I(t,D+K)!==I(e,K)){N=!1;break}if(N)return D}return-1}a.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1},a.prototype.indexOf=function(e,r,n){return f(this,e,r,n,!0)},a.prototype.lastIndexOf=function(e,r,n){return f(this,e,r,n,!1)};function v(t,e,r,n){r=Number(r)||0;var u=t.length-r;n?(n=Number(n),n>u&&(n=u)):n=u;var l=e.length;n>l/2&&(n=l/2);for(var p=0;p<n;++p){var T=parseInt(e.substr(p*2,2),16);if(w(T))return p;t[r+p]=T}return p}function m(t,e,r,n){return i($(e,t.length-r),t,r,n)}function y(t,e,r,n){return i(ce(e),t,r,n)}function F(t,e,r,n){return y(t,e,r,n)}function Y(t,e,r,n){return i(o(e),t,r,n)}function J(t,e,r,n){return i(fe(e,t.length-r),t,r,n)}a.prototype.write=function(e,r,n,u){if(r===void 0)u="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")u=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,u===void 0&&(u="utf8")):(u=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var l=this.length-r;if((n===void 0||n>l)&&(n=l),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");for(var p=!1;;)switch(u){case"hex":return v(this,e,r,n);case"utf8":case"utf-8":return m(this,e,r,n);case"ascii":return y(this,e,r,n);case"latin1":case"binary":return F(this,e,r,n);case"base64":return Y(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,e,r,n);default:if(p)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),p=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(t,e,r){return e===0&&r===t.length?b.fromByteArray(t):b.fromByteArray(t.slice(e,r))}function z(t,e,r){r=Math.min(t.length,r);for(var n=[],u=e;u<r;){var l=t[u],p=null,T=l>239?4:l>223?3:l>191?2:1;if(u+T<=r){var I,D,W,N;switch(T){case 1:l<128&&(p=l);break;case 2:I=t[u+1],(I&192)===128&&(N=(l&31)<<6|I&63,N>127&&(p=N));break;case 3:I=t[u+1],D=t[u+2],(I&192)===128&&(D&192)===128&&(N=(l&15)<<12|(I&63)<<6|D&63,N>2047&&(N<55296||N>57343)&&(p=N));break;case 4:I=t[u+1],D=t[u+2],W=t[u+3],(I&192)===128&&(D&192)===128&&(W&192)===128&&(N=(l&15)<<18|(I&63)<<12|(D&63)<<6|W&63,N>65535&&N<1114112&&(p=N))}}p===null?(p=65533,T=1):p>65535&&(p-=65536,n.push(p>>>10&1023|55296),p=56320|p&1023),n.push(p),u+=T}return he(n)}var Q=4096;function he(t){var e=t.length;if(e<=Q)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Q));return r}function Z(t,e,r){var n="";r=Math.min(t.length,r);for(var u=e;u<r;++u)n+=String.fromCharCode(t[u]&127);return n}function ne(t,e,r){var n="";r=Math.min(t.length,r);for(var u=e;u<r;++u)n+=String.fromCharCode(t[u]);return n}function ee(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var u="",l=e;l<r;++l)u+=H[t[l]];return u}function pe(t,e,r){for(var n=t.slice(e,r),u="",l=0;l<n.length;l+=2)u+=String.fromCharCode(n[l]+n[l+1]*256);return u}a.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var u=this.subarray(e,r);return Object.setPrototypeOf(u,a.prototype),u};function q(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||q(e,r,this.length);for(var u=this[e],l=1,p=0;++p<r&&(l*=256);)u+=this[e+p]*l;return u},a.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||q(e,r,this.length);for(var u=this[e+--r],l=1;r>0&&(l*=256);)u+=this[e+--r]*l;return u},a.prototype.readUInt8=function(e,r){return e=e>>>0,r||q(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||q(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||q(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||q(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},a.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||q(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||q(e,r,this.length);for(var u=this[e],l=1,p=0;++p<r&&(l*=256);)u+=this[e+p]*l;return l*=128,u>=l&&(u-=Math.pow(2,8*r)),u},a.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||q(e,r,this.length);for(var u=r,l=1,p=this[e+--u];u>0&&(l*=256);)p+=this[e+--u]*l;return l*=128,p>=l&&(p-=Math.pow(2,8*r)),p},a.prototype.readInt8=function(e,r){return e=e>>>0,r||q(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},a.prototype.readInt16LE=function(e,r){e=e>>>0,r||q(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n},a.prototype.readInt16BE=function(e,r){e=e>>>0,r||q(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n},a.prototype.readInt32LE=function(e,r){return e=e>>>0,r||q(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,r){return e=e>>>0,r||q(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,r){return e=e>>>0,r||q(e,4,this.length),L.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,r){return e=e>>>0,r||q(e,4,this.length),L.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||q(e,8,this.length),L.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||q(e,8,this.length),L.read(this,e,!1,52,8)};function G(t,e,r,n,u,l){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>u||e<l)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(e,r,n,u){if(e=+e,r=r>>>0,n=n>>>0,!u){var l=Math.pow(2,8*n)-1;G(this,e,r,n,l,0)}var p=1,T=0;for(this[r]=e&255;++T<n&&(p*=256);)this[r+T]=e/p&255;return r+n},a.prototype.writeUIntBE=function(e,r,n,u){if(e=+e,r=r>>>0,n=n>>>0,!u){var l=Math.pow(2,8*n)-1;G(this,e,r,n,l,0)}var p=n-1,T=1;for(this[r+p]=e&255;--p>=0&&(T*=256);)this[r+p]=e/T&255;return r+n},a.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||G(this,e,r,1,255,0),this[r]=e&255,r+1},a.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||G(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2},a.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||G(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2},a.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||G(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4},a.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||G(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4},a.prototype.writeIntLE=function(e,r,n,u){if(e=+e,r=r>>>0,!u){var l=Math.pow(2,8*n-1);G(this,e,r,n,l-1,-l)}var p=0,T=1,I=0;for(this[r]=e&255;++p<n&&(T*=256);)e<0&&I===0&&this[r+p-1]!==0&&(I=1),this[r+p]=(e/T>>0)-I&255;return r+n},a.prototype.writeIntBE=function(e,r,n,u){if(e=+e,r=r>>>0,!u){var l=Math.pow(2,8*n-1);G(this,e,r,n,l-1,-l)}var p=n-1,T=1,I=0;for(this[r+p]=e&255;--p>=0&&(T*=256);)e<0&&I===0&&this[r+p+1]!==0&&(I=1),this[r+p]=(e/T>>0)-I&255;return r+n},a.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||G(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1},a.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||G(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2},a.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||G(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2},a.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||G(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4},a.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||G(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function ie(t,e,r,n,u,l){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function oe(t,e,r,n,u){return e=+e,r=r>>>0,u||ie(t,e,r,4),L.write(t,e,r,n,23,4),r+4}a.prototype.writeFloatLE=function(e,r,n){return oe(this,e,r,!0,n)},a.prototype.writeFloatBE=function(e,r,n){return oe(this,e,r,!1,n)};function ae(t,e,r,n,u){return e=+e,r=r>>>0,u||ie(t,e,r,8),L.write(t,e,r,n,52,8),r+8}a.prototype.writeDoubleLE=function(e,r,n){return ae(this,e,r,!0,n)},a.prototype.writeDoubleBE=function(e,r,n){return ae(this,e,r,!1,n)},a.prototype.copy=function(e,r,n,u){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!u&&u!==0&&(u=this.length),r>=e.length&&(r=e.length),r||(r=0),u>0&&u<n&&(u=n),u===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),e.length-r<u-n&&(u=e.length-r+n);var l=u-n;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(r,n,u);else if(this===e&&n<r&&r<u)for(var p=l-1;p>=0;--p)e[p+r]=this[p+n];else Uint8Array.prototype.set.call(e,this.subarray(n,u),r);return l},a.prototype.fill=function(e,r,n,u){if(typeof e=="string"){if(typeof r=="string"?(u=r,r=0,n=this.length):typeof n=="string"&&(u=n,n=this.length),u!==void 0&&typeof u!="string")throw new TypeError("encoding must be a string");if(typeof u=="string"&&!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(e.length===1){var l=e.charCodeAt(0);(u==="utf8"&&l<128||u==="latin1")&&(e=l)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var p;if(typeof e=="number")for(p=r;p<n;++p)this[p]=e;else{var T=a.isBuffer(e)?e:a.from(e,u),I=T.length;if(I===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(p=0;p<n-r;++p)this[p+r]=T[p%I]}return this};var re=/[^+/0-9A-Za-z-_]/g;function ue(t){if(t=t.split("=")[0],t=t.trim().replace(re,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function $(t,e){e=e||1/0;for(var r,n=t.length,u=null,l=[],p=0;p<n;++p){if(r=t.charCodeAt(p),r>55295&&r<57344){if(!u){if(r>56319){(e-=3)>-1&&l.push(239,191,189);continue}else if(p+1===n){(e-=3)>-1&&l.push(239,191,189);continue}u=r;continue}if(r<56320){(e-=3)>-1&&l.push(239,191,189),u=r;continue}r=(u-55296<<10|r-56320)+65536}else u&&(e-=3)>-1&&l.push(239,191,189);if(u=null,r<128){if((e-=1)<0)break;l.push(r)}else if(r<2048){if((e-=2)<0)break;l.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;l.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;l.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return l}function ce(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function fe(t,e){for(var r,n,u,l=[],p=0;p<t.length&&!((e-=2)<0);++p)r=t.charCodeAt(p),n=r>>8,u=r%256,l.push(u),l.push(n);return l}function o(t){return b.toByteArray(ue(t))}function i(t,e,r,n){for(var u=0;u<n&&!(u+r>=e.length||u>=t.length);++u)e[u+r]=t[u];return u}function s(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function w(t){return t!==t}var H=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=r*16,u=0;u<16;++u)e[n+u]=t[r]+t[u];return e}()}(de)),de}const We={},Pe=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"})),qe=Te(Pe);var ye={},Fe;function He(){if(Fe)return ye;Fe=1;function A(a,c){a.prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c}var b={};function L(a,c,R){R||(R=Error);function S(j,g,_){return typeof c=="string"?c:c(j,g,_)}var M=function(j){A(g,j);function g(_,B,O){return j.call(this,S(_,B,O))||this}return g}(R);M.prototype.name=R.name,M.prototype.code=a,b[a]=M}function k(a,c){if(Array.isArray(a)){var R=a.length;return a=a.map(function(S){return String(S)}),R>2?"one of ".concat(c," ").concat(a.slice(0,R-1).join(", "),", or ")+a[R-1]:R===2?"one of ".concat(c," ").concat(a[0]," or ").concat(a[1]):"of ".concat(c," ").concat(a[0])}else return"of ".concat(c," ").concat(String(a))}function C(a,c,R){return a.substr(0,c.length)===c}function E(a,c,R){return(R===void 0||R>a.length)&&(R=a.length),a.substring(R-c.length,R)===c}function x(a,c,R){return typeof R!="number"&&(R=0),R+c.length>a.length?!1:a.indexOf(c,R)!==-1}return L("ERR_INVALID_OPT_VALUE",function(a,c){return'The value "'+c+'" is invalid for option "'+a+'"'},TypeError),L("ERR_INVALID_ARG_TYPE",function(a,c,R){var S;typeof c=="string"&&C(c,"not ")?(S="must not be",c=c.replace(/^not /,"")):S="must be";var M;if(E(a," argument"))M="The ".concat(a," ").concat(S," ").concat(k(c,"type"));else{var j=x(a,".")?"property":"argument";M='The "'.concat(a,'" ').concat(j," ").concat(S," ").concat(k(c,"type"))}return M+=". Received type ".concat(typeof R),M},TypeError),L("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),L("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),L("ERR_STREAM_PREMATURE_CLOSE","Premature close"),L("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),L("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),L("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),L("ERR_STREAM_WRITE_AFTER_END","write after end"),L("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),L("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),L("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ye.codes=b,ye}var we,Le;function Ke(){if(Le)return we;Le=1,we=y;var A;y.ReadableState=m,De().EventEmitter;var b=function(i,s){return i.listeners(s).length},L=Me(),k=je().Buffer,C=(typeof me<"u"?me:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function E(o){return k.from(o)}function x(o){return k.isBuffer(o)||o instanceof C}var a=qe,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var R=Be(),S=Ce(),M=Ie(),j=M.getHighWaterMark,g=He().codes,_=g.ERR_INVALID_ARG_TYPE,B=g.ERR_STREAM_PUSH_AFTER_EOF,O=g.ERR_METHOD_NOT_IMPLEMENTED,V=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,U,P,h;Se()(y,L);var f=S.errorOrDestroy,d=["error","close","destroy","pause","resume"];function v(o,i,s){if(typeof o.prependListener=="function")return o.prependListener(i,s);!o._events||!o._events[i]?o.on(i,s):Array.isArray(o._events[i])?o._events[i].unshift(s):o._events[i]=[s,o._events[i]]}function m(o,i,s){A=A||Ee(),o=o||{},typeof s!="boolean"&&(s=i instanceof A),this.objectMode=!!o.objectMode,s&&(this.objectMode=this.objectMode||!!o.readableObjectMode),this.highWaterMark=j(this,o,"readableHighWaterMark",s),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=o.emitClose!==!1,this.autoDestroy=!!o.autoDestroy,this.destroyed=!1,this.defaultEncoding=o.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,o.encoding&&(U||(U=be().StringDecoder),this.decoder=new U(o.encoding),this.encoding=o.encoding)}function y(o){if(A=A||Ee(),!(this instanceof y))return new y(o);var i=this instanceof A;this._readableState=new m(o,this,i),this.readable=!0,o&&(typeof o.read=="function"&&(this._read=o.read),typeof o.destroy=="function"&&(this._destroy=o.destroy)),L.call(this)}Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(i){this._readableState&&(this._readableState.destroyed=i)}}),y.prototype.destroy=S.destroy,y.prototype._undestroy=S.undestroy,y.prototype._destroy=function(o,i){i(o)},y.prototype.push=function(o,i){var s=this._readableState,w;return s.objectMode?w=!0:typeof o=="string"&&(i=i||s.defaultEncoding,i!==s.encoding&&(o=k.from(o,i),i=""),w=!0),F(this,o,i,!1,w)},y.prototype.unshift=function(o){return F(this,o,null,!0,!1)};function F(o,i,s,w,H){c("readableAddChunk",i);var t=o._readableState;if(i===null)t.reading=!1,he(o,t);else{var e;if(H||(e=J(t,i)),e)f(o,e);else if(t.objectMode||i&&i.length>0)if(typeof i!="string"&&!t.objectMode&&Object.getPrototypeOf(i)!==k.prototype&&(i=E(i)),w)t.endEmitted?f(o,new V):Y(o,t,i,!0);else if(t.ended)f(o,new B);else{if(t.destroyed)return!1;t.reading=!1,t.decoder&&!s?(i=t.decoder.write(i),t.objectMode||i.length!==0?Y(o,t,i,!1):ee(o,t)):Y(o,t,i,!1)}else w||(t.reading=!1,ee(o,t))}return!t.ended&&(t.length<t.highWaterMark||t.length===0)}function Y(o,i,s,w){i.flowing&&i.length===0&&!i.sync?(i.awaitDrain=0,o.emit("data",s)):(i.length+=i.objectMode?1:s.length,w?i.buffer.unshift(s):i.buffer.push(s),i.needReadable&&Z(o)),ee(o,i)}function J(o,i){var s;return!x(i)&&typeof i!="string"&&i!==void 0&&!o.objectMode&&(s=new _("chunk",["string","Buffer","Uint8Array"],i)),s}y.prototype.isPaused=function(){return this._readableState.flowing===!1},y.prototype.setEncoding=function(o){U||(U=be().StringDecoder);var i=new U(o);this._readableState.decoder=i,this._readableState.encoding=this._readableState.decoder.encoding;for(var s=this._readableState.buffer.head,w="";s!==null;)w+=i.write(s.data),s=s.next;return this._readableState.buffer.clear(),w!==""&&this._readableState.buffer.push(w),this._readableState.length=w.length,this};var X=1073741824;function z(o){return o>=X?o=X:(o--,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o++),o}function Q(o,i){return o<=0||i.length===0&&i.ended?0:i.objectMode?1:o!==o?i.flowing&&i.length?i.buffer.head.data.length:i.length:(o>i.highWaterMark&&(i.highWaterMark=z(o)),o<=i.length?o:i.ended?i.length:(i.needReadable=!0,0))}y.prototype.read=function(o){c("read",o),o=parseInt(o,10);var i=this._readableState,s=o;if(o!==0&&(i.emittedReadable=!1),o===0&&i.needReadable&&((i.highWaterMark!==0?i.length>=i.highWaterMark:i.length>0)||i.ended))return c("read: emitReadable",i.length,i.ended),i.length===0&&i.ended?$(this):Z(this),null;if(o=Q(o,i),o===0&&i.ended)return i.length===0&&$(this),null;var w=i.needReadable;c("need readable",w),(i.length===0||i.length-o<i.highWaterMark)&&(w=!0,c("length less than watermark",w)),i.ended||i.reading?(w=!1,c("reading or ended",w)):w&&(c("do read"),i.reading=!0,i.sync=!0,i.length===0&&(i.needReadable=!0),this._read(i.highWaterMark),i.sync=!1,i.reading||(o=Q(s,i)));var H;return o>0?H=ue(o,i):H=null,H===null?(i.needReadable=i.length<=i.highWaterMark,o=0):(i.length-=o,i.awaitDrain=0),i.length===0&&(i.ended||(i.needReadable=!0),s!==o&&i.ended&&$(this)),H!==null&&this.emit("data",H),H};function he(o,i){if(c("onEofChunk"),!i.ended){if(i.decoder){var s=i.decoder.end();s&&s.length&&(i.buffer.push(s),i.length+=i.objectMode?1:s.length)}i.ended=!0,i.sync?Z(o):(i.needReadable=!1,i.emittedReadable||(i.emittedReadable=!0,ne(o)))}}function Z(o){var i=o._readableState;c("emitReadable",i.needReadable,i.emittedReadable),i.needReadable=!1,i.emittedReadable||(c("emitReadable",i.flowing),i.emittedReadable=!0,process.nextTick(ne,o))}function ne(o){var i=o._readableState;c("emitReadable_",i.destroyed,i.length,i.ended),!i.destroyed&&(i.length||i.ended)&&(o.emit("readable"),i.emittedReadable=!1),i.needReadable=!i.flowing&&!i.ended&&i.length<=i.highWaterMark,re(o)}function ee(o,i){i.readingMore||(i.readingMore=!0,process.nextTick(pe,o,i))}function pe(o,i){for(;!i.reading&&!i.ended&&(i.length<i.highWaterMark||i.flowing&&i.length===0);){var s=i.length;if(c("maybeReadMore read 0"),o.read(0),s===i.length)break}i.readingMore=!1}y.prototype._read=function(o){f(this,new O("_read()"))},y.prototype.pipe=function(o,i){var s=this,w=this._readableState;switch(w.pipesCount){case 0:w.pipes=o;break;case 1:w.pipes=[w.pipes,o];break;default:w.pipes.push(o);break}w.pipesCount+=1,c("pipe count=%d opts=%j",w.pipesCount,i);var H=(!i||i.end!==!1)&&o!==process.stdout&&o!==process.stderr,t=H?r:W;w.endEmitted?process.nextTick(t):s.once("end",t),o.on("unpipe",e);function e(N,K){c("onunpipe"),N===s&&K&&K.hasUnpiped===!1&&(K.hasUnpiped=!0,l())}function r(){c("onend"),o.end()}var n=q(s);o.on("drain",n);var u=!1;function l(){c("cleanup"),o.removeListener("close",I),o.removeListener("finish",D),o.removeListener("drain",n),o.removeListener("error",T),o.removeListener("unpipe",e),s.removeListener("end",r),s.removeListener("end",W),s.removeListener("data",p),u=!0,w.awaitDrain&&(!o._writableState||o._writableState.needDrain)&&n()}s.on("data",p);function p(N){c("ondata");var K=o.write(N);c("dest.write",K),K===!1&&((w.pipesCount===1&&w.pipes===o||w.pipesCount>1&&fe(w.pipes,o)!==-1)&&!u&&(c("false write response, pause",w.awaitDrain),w.awaitDrain++),s.pause())}function T(N){c("onerror",N),W(),o.removeListener("error",T),b(o,"error")===0&&f(o,N)}v(o,"error",T);function I(){o.removeListener("finish",D),W()}o.once("close",I);function D(){c("onfinish"),o.removeListener("close",I),W()}o.once("finish",D);function W(){c("unpipe"),s.unpipe(o)}return o.emit("pipe",s),w.flowing||(c("pipe resume"),s.resume()),o};function q(o){return function(){var s=o._readableState;c("pipeOnDrain",s.awaitDrain),s.awaitDrain&&s.awaitDrain--,s.awaitDrain===0&&b(o,"data")&&(s.flowing=!0,re(o))}}y.prototype.unpipe=function(o){var i=this._readableState,s={hasUnpiped:!1};if(i.pipesCount===0)return this;if(i.pipesCount===1)return o&&o!==i.pipes?this:(o||(o=i.pipes),i.pipes=null,i.pipesCount=0,i.flowing=!1,o&&o.emit("unpipe",this,s),this);if(!o){var w=i.pipes,H=i.pipesCount;i.pipes=null,i.pipesCount=0,i.flowing=!1;for(var t=0;t<H;t++)w[t].emit("unpipe",this,{hasUnpiped:!1});return this}var e=fe(i.pipes,o);return e===-1?this:(i.pipes.splice(e,1),i.pipesCount-=1,i.pipesCount===1&&(i.pipes=i.pipes[0]),o.emit("unpipe",this,s),this)},y.prototype.on=function(o,i){var s=L.prototype.on.call(this,o,i),w=this._readableState;return o==="data"?(w.readableListening=this.listenerCount("readable")>0,w.flowing!==!1&&this.resume()):o==="readable"&&!w.endEmitted&&!w.readableListening&&(w.readableListening=w.needReadable=!0,w.flowing=!1,w.emittedReadable=!1,c("on readable",w.length,w.reading),w.length?Z(this):w.reading||process.nextTick(ie,this)),s},y.prototype.addListener=y.prototype.on,y.prototype.removeListener=function(o,i){var s=L.prototype.removeListener.call(this,o,i);return o==="readable"&&process.nextTick(G,this),s},y.prototype.removeAllListeners=function(o){var i=L.prototype.removeAllListeners.apply(this,arguments);return(o==="readable"||o===void 0)&&process.nextTick(G,this),i};function G(o){var i=o._readableState;i.readableListening=o.listenerCount("readable")>0,i.resumeScheduled&&!i.paused?i.flowing=!0:o.listenerCount("data")>0&&o.resume()}function ie(o){c("readable nexttick read 0"),o.read(0)}y.prototype.resume=function(){var o=this._readableState;return o.flowing||(c("resume"),o.flowing=!o.readableListening,oe(this,o)),o.paused=!1,this};function oe(o,i){i.resumeScheduled||(i.resumeScheduled=!0,process.nextTick(ae,o,i))}function ae(o,i){c("resume",i.reading),i.reading||o.read(0),i.resumeScheduled=!1,o.emit("resume"),re(o),i.flowing&&!i.reading&&o.read(0)}y.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function re(o){var i=o._readableState;for(c("flow",i.flowing);i.flowing&&o.read()!==null;);}y.prototype.wrap=function(o){var i=this,s=this._readableState,w=!1;o.on("end",function(){if(c("wrapped end"),s.decoder&&!s.ended){var e=s.decoder.end();e&&e.length&&i.push(e)}i.push(null)}),o.on("data",function(e){if(c("wrapped data"),s.decoder&&(e=s.decoder.write(e)),!(s.objectMode&&e==null)&&!(!s.objectMode&&(!e||!e.length))){var r=i.push(e);r||(w=!0,o.pause())}});for(var H in o)this[H]===void 0&&typeof o[H]=="function"&&(this[H]=function(r){return function(){return o[r].apply(o,arguments)}}(H));for(var t=0;t<d.length;t++)o.on(d[t],this.emit.bind(this,d[t]));return this._read=function(e){c("wrapped _read",e),w&&(w=!1,o.resume())},this},typeof Symbol=="function"&&(y.prototype[Symbol.asyncIterator]=function(){return P===void 0&&(P=Ue()),P(this)}),Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(y.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(y.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(i){this._readableState&&(this._readableState.flowing=i)}}),y._fromList=ue,Object.defineProperty(y.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ue(o,i){if(i.length===0)return null;var s;return i.objectMode?s=i.buffer.shift():!o||o>=i.length?(i.decoder?s=i.buffer.join(""):i.buffer.length===1?s=i.buffer.first():s=i.buffer.concat(i.length),i.buffer.clear()):s=i.buffer.consume(o,i.decoder),s}function $(o){var i=o._readableState;c("endReadable",i.endEmitted),i.endEmitted||(i.ended=!0,process.nextTick(ce,i,o))}function ce(o,i){if(c("endReadableNT",o.endEmitted,o.length),!o.endEmitted&&o.length===0&&(o.endEmitted=!0,i.readable=!1,i.emit("end"),o.autoDestroy)){var s=i._writableState;(!s||s.autoDestroy&&s.finished)&&i.destroy()}}typeof Symbol=="function"&&(y.from=function(o,i){return h===void 0&&(h=Ne()),h(y,o,i)});function fe(o,i){for(var s=0,w=o.length;s<w;s++)if(o[s]===i)return s;return-1}return we}export{He as a,je as b,De as c,qe as d,Ke as r};
