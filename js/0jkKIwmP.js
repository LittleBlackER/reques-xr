const _0x1d035e=(function(){let _0x57cf2c=!![];return function(_0x1f4c3d,_0x529fe0){const _0x12f5f0=_0x57cf2c?function(){if(_0x529fe0){const _0x488d03=_0x529fe0['apply'](_0x1f4c3d,arguments);return _0x529fe0=null,_0x488d03;}}:function(){};return _0x57cf2c=![],_0x12f5f0;};}()),_0x152979=_0x1d035e(this,function(){return _0x152979['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x152979)['search']('(((.+)+)+)'+'+$');});_0x152979();const _0x258bbf=(function(){let _0x4749e2=!![];return function(_0x56336b,_0x14b8c4){const _0x221b54=_0x4749e2?function(){if(_0x14b8c4){const _0x59c3d3=_0x14b8c4['apply'](_0x56336b,arguments);return _0x14b8c4=null,_0x59c3d3;}}:function(){};return _0x4749e2=![],_0x221b54;};}());(function(){_0x258bbf(this,function(){const _0x44fb47=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x53b76d=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x31afd1=_0x2d7104('init');!_0x44fb47['test'](_0x31afd1+'chain')||!_0x53b76d['test'](_0x31afd1+'input')?_0x31afd1('0'):_0x2d7104();})();}());const _0x155164=(function(){let _0x4fb86a=!![];return function(_0x388ee7,_0x4faef4){const _0x539c51=_0x4fb86a?function(){if(_0x4faef4){const _0x4bd8de=_0x4faef4['apply'](_0x388ee7,arguments);return _0x4faef4=null,_0x4bd8de;}}:function(){};return _0x4fb86a=![],_0x539c51;};}()),_0x3e3228=_0x155164(this,function(){const _0xcccd6b=function(){let _0x32de9c;try{_0x32de9c=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x2e604d){_0x32de9c=window;}return _0x32de9c;},_0x56faf0=_0xcccd6b(),_0x150bab=_0x56faf0['console']=_0x56faf0['console']||{},_0x451e04=['log','warn','info','error','exception','table','trace'];for(let _0xcfd0f6=0x1*0x117c+0x1867+-0x29e3;_0xcfd0f6<_0x451e04['length'];_0xcfd0f6++){const _0x248736=_0x155164['constructo'+'r']['prototype']['bind'](_0x155164),_0xe9d456=_0x451e04[_0xcfd0f6],_0x34f8c6=_0x150bab[_0xe9d456]||_0x248736;_0x248736['__proto__']=_0x155164['bind'](_0x155164),_0x248736['toString']=_0x34f8c6['toString']['bind'](_0x34f8c6),_0x150bab[_0xe9d456]=_0x248736;}});_0x3e3228();var qx=Object['defineProp'+'erty'],Xx=(_0x42ac42,_0x5d9f76,_0x134083)=>_0x5d9f76 in _0x42ac42?qx(_0x42ac42,_0x5d9f76,{'enumerable':!(0x57+0x1e2*0x7+-0xd85),'configurable':!(-0x4f+-0x1625+0x1df*0xc),'writable':!(-0x2e*-0x9b+-0x16f*-0x3+-0x2027),'value':_0x134083}):_0x42ac42[_0x5d9f76]=_0x134083,c=(_0x9a32f5,_0x20cf30,_0x2c1089)=>Xx(_0x9a32f5,typeof _0x20cf30!='symbol'?_0x20cf30+'':_0x20cf30,_0x2c1089);const jx='RenderFram'+'e',td='RenderFram'+'eTime',jp='RenderPass',Jn='RenderPass'+'Detail',pl='RenderActi'+'on',Yp='RenderTarg'+'etAlloc',Kp='TextureAll'+'oc',Zp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Ss='Element',tS='Textures',ml='GpuTimings',no='$_CURRENT_'+'SDK_VERSIO'+'N',sy='$_CURRENT_'+'SDK_REVISI'+'ON';function vh(_0x1187c6,_0x1fab28){for(const _0x25fd08 in _0x1fab28){const _0x423772=_0x1fab28[_0x25fd08];Array['isArray'](_0x423772)?_0x1187c6[_0x25fd08]=vh([],_0x423772):_0x423772&&typeof _0x423772=='object'?_0x1187c6[_0x25fd08]=vh({},_0x423772):_0x1187c6[_0x25fd08]=_0x423772;}return _0x1187c6;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x597b7b=>{const _0x2ef3ec=Math['random']()*(-0x24d7*0x1+0x1ad2+-0x1*-0xa15)|0x65e*0x3+-0x10d*-0x8+-0x1b82;return(_0x597b7b==='x'?_0x2ef3ec:_0x2ef3ec&-0x22e5*-0x1+0x2*-0xb7b+-0xbec|-0x4*0x674+0x7a1+-0x1*-0x1237)['toString'](0x11*-0x1e6+-0x611+0xccd*0x3);});}},fe={'delimiter':'/','join'(..._0x309e5e){let _0x14e914=_0x309e5e[-0x1c5b+0x4fa+-0x13b*-0x13];for(let _0x43e72e=0x13bc+-0x2611+-0x1*-0x1255;_0x43e72e<_0x309e5e['length']-(0xa3*0x35+0xc66+-0x2e24);_0x43e72e++){const _0x4db1b1=_0x309e5e[_0x43e72e],_0x56e0e1=_0x309e5e[_0x43e72e+(0x199b+-0x1979*-0x1+-0x3313*0x1)];if(_0x56e0e1[-0x813+0x2229+-0x6*0x459]===fe['delimiter']){_0x14e914=_0x56e0e1;continue;}_0x4db1b1&&_0x56e0e1&&_0x4db1b1[_0x4db1b1['length']-(-0x11*-0xd6+0x207+-0x4*0x40f)]!==fe['delimiter']&&_0x56e0e1[-0x1076+0x1*0x1d23+-0xcad]!==fe['delimiter']?_0x14e914+=fe['delimiter']+_0x56e0e1:_0x14e914+=_0x56e0e1;}return _0x14e914;},'normalize'(_0x3d7a5c){const _0x12750c=_0x3d7a5c['startsWith'](fe['delimiter']),_0x561097=_0x3d7a5c['endsWith'](fe['delimiter']),_0x32b1d1=_0x3d7a5c['split']('/');let _0x462af0='',_0x478fa2=[];for(let _0x26e949=0x1*-0x1ead+-0x1*0x2249+0x40f6;_0x26e949<_0x32b1d1['length'];_0x26e949++)if(_0x32b1d1[_0x26e949]!==''&&_0x32b1d1[_0x26e949]!=='.'){if(_0x32b1d1[_0x26e949]==='..'&&_0x478fa2['length']>0x7*-0x20c+-0xe6*0x3+0x883*0x2){_0x478fa2=_0x478fa2['slice'](-0x12b8*-0x2+0x1a34+-0x3fa4,_0x478fa2['length']-(-0x1a95+-0x1cc0+-0x3757*-0x1));continue;}_0x26e949>-0x1ec4+0x174f+0x775*0x1&&_0x478fa2['push'](fe['delimiter']),_0x478fa2['push'](_0x32b1d1[_0x26e949]);}return _0x462af0=_0x478fa2['join'](''),!_0x12750c&&_0x462af0[-0xf0c+0x1*0x1223+-0x317]===fe['delimiter']&&(_0x462af0=_0x462af0['slice'](-0x1bb6+0x1e3a+-0x283*0x1)),_0x561097&&_0x462af0[_0x462af0['length']-(0x1a*-0xd3+0x1*0x1936+-0x3c7)]!==fe['delimiter']&&(_0x462af0+=fe['delimiter']),_0x462af0;},'split'(_0x5d70ca){const _0x2c2caa=_0x5d70ca['lastIndexO'+'f'](fe['delimiter']);return _0x2c2caa!==-(-0xb5*0x21+-0x1159+0x823*0x5)?[_0x5d70ca['substring'](0x4d*0x11+0x176b+0x2*-0xe44,_0x2c2caa),_0x5d70ca['substring'](_0x2c2caa+(0x2167+0x31*0xc5+-0x1*0x471b))]:['',_0x5d70ca];},'getBasename'(_0x1d7949){return fe['split'](_0x1d7949)[-0x1e00+0x441+-0x338*-0x8];},'getDirectory'(_0x2392c1){return fe['split'](_0x2392c1)[-0x1*0x25f3+-0x151*0x15+0x4198];},'getExtension'(_0x35cf69){const _0xe82ecf=_0x35cf69['split']('?')[0x1fac+-0x116b*-0x1+-0x3117]['split']('.')['pop']();return _0xe82ecf!==_0x35cf69?'.'+_0xe82ecf:'';},'isRelativePath'(_0x1d4492){return _0x1d4492['charAt'](-0xf84+-0x12b4+0x2238)!=='/'&&_0x1d4492['match'](/:\/\//)===null;},'extractPath'(_0xe2d7fa){let _0x2bb4f0='';const _0x461a9a=_0xe2d7fa['split']('/');let _0x2e4182=-0x5*-0x48e+0x9ab+-0x2071;if(_0x461a9a['length']>-0x93*-0x3+-0x24ff+0x2347){if(fe['isRelative'+'Path'](_0xe2d7fa)){if(_0x461a9a[0xb2*0x9+-0x2*0x1fb+-0x24c]==='.'){for(_0x2e4182=0x784+0x13e2+0x15*-0x14e;_0x2e4182<_0x461a9a['length']-(0x1*-0xc0d+0x107*0x1+-0x3ad*-0x3);++_0x2e4182)_0x2bb4f0+=_0x2e4182===0x1402+0x2636*-0x1+0x1234?_0x461a9a[_0x2e4182]:'/'+_0x461a9a[_0x2e4182];}else{if(_0x461a9a[-0xa7b+-0x3*0xb9b+0x2d4c]==='..'){for(_0x2e4182=0x6*0x5e5+0x1*0x102d+0x5*-0xa4f;_0x2e4182<_0x461a9a['length']-(-0x2191+-0x20ba+0x424c);++_0x2e4182)_0x2bb4f0+=_0x2e4182===-0x1f7c+0x13*0x12e+-0x912*-0x1?_0x461a9a[_0x2e4182]:'/'+_0x461a9a[_0x2e4182];}else{for(_0x2bb4f0='.',_0x2e4182=0x2684+-0x1cf8+-0x98c;_0x2e4182<_0x461a9a['length']-(-0x68*-0x34+0x2*-0x1316+-0x9*-0x1e5);++_0x2e4182)_0x2bb4f0+='/'+_0x461a9a[_0x2e4182];}}}else{for(_0x2e4182=-0xa*-0x9e+-0x2160+0x1b34;_0x2e4182<_0x461a9a['length']-(0x8e4+0xe9*-0x13+0x868*0x1);++_0x2e4182)_0x2bb4f0+=_0x2e4182===-0x2420+-0x385*0x4+0x3234?_0x461a9a[_0x2e4182]:'/'+_0x461a9a[_0x2e4182];}}return _0x2bb4f0;}},iS=()=>{let _0x520ee1=!(-0x1ca4+0x1*-0x96b+0x2610);try{const _0x507536=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x520ee1=!(0x26ad+0xac6+-0x3173),!(-0x4f*0x69+-0x1761+0x37c9);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x507536),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x507536);}catch{}return _0x520ee1;},xi=typeof navigator<'u'?navigator['userAgent']:'',bh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Qp=/android/i['test'](xi)?'android':/ip(?:[ao]d|hone)/i['test'](xi)?'ios':/windows/i['test'](xi)?'windows':/mac os/i['test'](xi)?'osx':/linux/i['test'](xi)?'linux':/cros/i['test'](xi)?'cros':null,rS=bh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](xi)?'chrome':/Safari\//['test'](xi)?'safari':/Firefox\//['test'](xi)?'firefox':'other',nS=bh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>-0xd29+0x1c6c+-0xf43),aS=iS(),ye={'name':Qp,'browser':bh==='browser','worker':bh==='worker','android':Qp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},iy='abcdefghij'+'klmnopqrst'+'uvwxyz',ry='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=iy+ry,ou=-0x5f1*0xb+0x6851+0xb10a,ny=-0xa*0x1bc7+0x1b16*-0xf+0x3880f,Jp=0x6188+-0x12429+-0x17*-0x1207,lS=0x2070+-0x1a3*0xc9+0x1*0x2088a,hS=0x1f2b+-0x2eaf+0x2f91,em=0x1ea6e+-0xc5a5+0x17*0x8eb,tm=-0x5db*-0x70+0x6f3d*-0x1+-0x2e94,cS=0x26a1d+0x3e30b+0x4592d*-0x1,dS=-0x18bee+-0x1*0x20906+0x39b*0x189,uS=0x2c4d+-0x2afa+0x1f7d,fS=-0x65*-0x6c+0x301b+-0x4*0xe6e,lu=0x3*0x1351+-0xb1a1+-0x175ae*-0x1,hu=-0x13339*-0x1+0x82f6+-0x10*0xb82;function cu(_0x27ea6f,_0x26c9a9=0x5b*-0xd+0x2608*0x1+-0xb23*0x3){const _0x3cc8bf=_0x27ea6f['length'];if(_0x26c9a9<-0x3*0x1e1+0x2328+-0xb*0x2af||_0x26c9a9>=_0x3cc8bf)return null;const _0x24b5ce=_0x27ea6f['charCodeAt'](_0x26c9a9);if(_0x3cc8bf>0x1*0x1f97+-0x16*-0x12a+0x1c99*-0x2&&_0x24b5ce>=ou&&_0x24b5ce<=ny){const _0x1f625e=_0x27ea6f['charCodeAt'](_0x26c9a9+(0x5f*-0x1b+-0x1*0x1f57+0x295d));if(_0x1f625e>=Jp&&_0x1f625e<=lS)return{'code':(_0x24b5ce-ou)*(0x1*0x191b+0x2fa+-0x2ad*0x9)+_0x1f625e-Jp+(0x3*-0x1247+0xc294*-0x2+0x7f*0x583),'long':!(0x22ad+-0xe75*-0x1+-0x2*0x1891)};}return{'code':_0x24b5ce,'long':!(-0x23*0x35+-0x2*-0x6e9+-0x692)};}function Xi(_0x22d482,_0x1ce65c,_0x4a8975){if(!_0x22d482)return!(0x143*0x6+-0x14eb+0xd5a);const _0xe6cf66=cu(_0x22d482);if(_0xe6cf66){const _0x32d3de=_0xe6cf66['code'];return _0x32d3de>=_0x1ce65c&&_0x32d3de<=_0x4a8975;}return!(0xc1d+-0xff*-0x24+-0x2ff8);}function pS(_0x25e5cc,_0x5cc5c5){if(_0x5cc5c5===_0x25e5cc['length']-(0xdf*0x1f+-0x1a31+-0xcf*0x1))return 0x1fe7+-0x137*-0x1a+-0x3f7c;if(Xi(_0x25e5cc[_0x5cc5c5],ou,ny)){const _0x383038=_0x25e5cc['substring'](_0x5cc5c5,_0x5cc5c5+(-0x1*0x1870+-0xc9f*-0x1+0xbd3)),_0x551dde=_0x25e5cc['substring'](_0x5cc5c5+(0x5e*0x1+0x1*-0x17b8+0xbae*0x2),_0x5cc5c5+(0x3*-0x1+0x19ef+-0x19e8));return Xi(_0x551dde,cS,dS)||Xi(_0x383038,em,tm)&&Xi(_0x551dde,em,tm)?0x2c4+-0x109d*-0x2+-0x23fa:Xi(_0x551dde,lu,hu)?-0xaf8+0x1c71+-0x1176:-0x23b6+-0x59*0x18+-0x2*-0x1608;}return Xi(_0x25e5cc[_0x5cc5c5+(-0xee7*-0x1+-0xc71+0x275*-0x1)],lu,hu)?0x1225+0x245f*-0x1+0x123c:-0x1b16*-0x1+0xfea+0x1*-0x2aff;}const ah={'ASCII_LOWERCASE':iy,'ASCII_UPPERCASE':ry,'ASCII_LETTERS':oS,'format'(_0x10f180,..._0x57f99d){for(let _0x5c1beb=-0x2401+-0x1495+0x3896;_0x5c1beb<_0x57f99d['length'];_0x5c1beb++)_0x10f180=_0x10f180['replace']('{'+_0x5c1beb+'}',_0x57f99d[_0x5c1beb]);return _0x10f180;},'getCodePoint'(_0x11aed8,_0x29dc0d){const _0x1bbf4d=cu(_0x11aed8,_0x29dc0d);return _0x1bbf4d&&_0x1bbf4d['code'];},'getCodePoints'(_0x187d01){if(typeof _0x187d01!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x1a8450=-0x9d3+0x1a60+0x1*-0x108d;const _0x36f125=[];let _0x463b3e;for(;_0x463b3e=cu(_0x187d01,_0x1a8450);)_0x36f125['push'](_0x463b3e['code']),_0x1a8450+=_0x463b3e['long']?-0x3*0x5cb+-0x1054+0x21b7:0x463+0x10*-0x140+0xf9e;return _0x36f125;},'getSymbols'(_0x2e718e){if(typeof _0x2e718e!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x48346d=-0x1f*-0x95+-0x223*0xc+0x799;const _0x1897e7=_0x2e718e['length'],_0x3100d6=[];let _0x3ae599=0x2327+-0x1da4+-0x583,_0x135e93;for(;_0x48346d<_0x1897e7;){if(_0x3ae599+=pS(_0x2e718e,_0x48346d+_0x3ae599),_0x135e93=_0x2e718e[_0x48346d+_0x3ae599],Xi(_0x135e93,uS,fS)&&(_0x135e93=_0x2e718e[_0x48346d+_0x3ae599++]),Xi(_0x135e93,lu,hu)&&(_0x135e93=_0x2e718e[_0x48346d+_0x3ae599++]),_0x135e93&&_0x135e93['charCodeAt'](-0x1159*-0x2+0x1*0xbdb+-0x2e8d)===hS){_0x135e93=_0x2e718e[_0x48346d+_0x3ae599++];continue;}const _0x2d9254=_0x2e718e['substring'](_0x48346d,_0x48346d+_0x3ae599);_0x3100d6['push'](_0x2d9254),_0x48346d+=_0x3ae599,_0x3ae599=-0x1454+0x158a+-0x136;}return _0x3100d6;},'fromCodePoint'(){const _0x21e87a=[];let _0x22b253,_0x205335,_0x5ef4e7;for(let _0x273b76=0x224f+-0x599+-0x1cb6;_0x273b76<arguments['length'];++_0x273b76)_0x22b253=Number(arguments[_0x273b76]),_0x205335=_0x22b253-(0x19b15+-0x2b9f*-0x1+-0xc6b4),_0x5ef4e7=_0x22b253>-0x1d7fe+0x1879f+0x442*0x4f?[(_0x205335>>0x9f4+0x576*0x3+-0x1a4c)+(0xfec*0x12+-0xac4b+0x65b3),_0x205335%(0x2011*-0x1+0x8ef+0x1b22)+(0x6dd5+-0x148de+-0x47*-0x62f)]:[_0x22b253],_0x21e87a['push'](String['fromCharCo'+'de']['apply'](null,_0x5ef4e7));return _0x21e87a['join']('');}},zr=class zr{static['set'](_0xa4d7d7,_0x31758c=!(-0xb7a+-0x1ba7+0x2721)){_0x31758c?zr['_traceChan'+'nels']['add'](_0xa4d7d7):zr['_traceChan'+'nels']['delete'](_0xa4d7d7);}static['get'](_0x59f25d){return zr['_traceChan'+'nels']['has'](_0x59f25d);}};c(zr,'_traceChan'+'nels',new Set()),c(zr,'stack',!(-0x10d6+-0x3*-0xdc+0xe43));let Xs=zr;const bt=class bt{static['deprecated'](_0x56dccb){bt['_loggedMes'+'sages']['has'](_0x56dccb)||(bt['_loggedMes'+'sages']['add'](_0x56dccb),console['warn']('DEPRECATED'+':\x20'+_0x56dccb));}static['removed'](_0x2aa8df){bt['_loggedMes'+'sages']['has'](_0x2aa8df)||(bt['_loggedMes'+'sages']['add'](_0x2aa8df),console['error']('REMOVED:\x20'+_0x2aa8df));}static['assertDepr'+'ecated'](_0x550936,_0x2e86dc){_0x550936||bt['deprecated'](_0x2e86dc);}static['assert'](_0x41be2f,..._0x2e8221){_0x41be2f||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x2e8221);}static['assertDest'+'royed'](_0x4ce8ea){var _0x5b8a8a;if(_0x4ce8ea!=null&&_0x4ce8ea['__alreadyD'+'estroyed']){const _0x2a5237='['+((_0x5b8a8a=_0x4ce8ea['constructo'+'r'])==null?void(-0x18d0+-0xc8b*0x3+0x3e71):_0x5b8a8a['name'])+(']\x20with\x20nam'+'e\x20[')+_0x4ce8ea['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');bt['_loggedMes'+'sages']['has'](_0x2a5237)||(bt['_loggedMes'+'sages']['add'](_0x2a5237),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x2a5237,_0x4ce8ea));}}static['call'](_0x5d688a){_0x5d688a();}static['log'](..._0x56d8de){console['log'](..._0x56d8de);}static['logOnce'](_0x4ecc64,..._0x5d7af2){bt['_loggedMes'+'sages']['has'](_0x4ecc64)||(bt['_loggedMes'+'sages']['add'](_0x4ecc64),console['log'](_0x4ecc64,..._0x5d7af2));}static['warn'](..._0x14ec8f){console['warn'](..._0x14ec8f);}static['warnOnce'](_0x3fb4ae,..._0x39d87c){bt['_loggedMes'+'sages']['has'](_0x3fb4ae)||(bt['_loggedMes'+'sages']['add'](_0x3fb4ae),console['warn'](_0x3fb4ae,..._0x39d87c));}static['error'](..._0xbf60f8){console['error'](..._0xbf60f8);}static['errorOnce'](_0x35bdea,..._0x22875c){bt['_loggedMes'+'sages']['has'](_0x35bdea)||(bt['_loggedMes'+'sages']['add'](_0x35bdea),console['error'](_0x35bdea,..._0x22875c));}static['trace'](_0x38f9c3,..._0x1f27b9){Xs['get'](_0x38f9c3)&&(console['groupColla'+'psed'](_0x38f9c3['padEnd'](-0xaa8+0x2135*-0x1+0x2bf1,'\x20')+'|',..._0x1f27b9),console['groupEnd']());}};c(bt,'_loggedMes'+'sages',new Set());let v=bt;class mn{static['setName'](_0x2d970a,_0x4f1a91){_0x2d970a&&(_0x2d970a['name']=_0x4f1a91);}static['setLabel'](_0x76e42e,_0x2a1369){_0x76e42e&&(_0x76e42e['label']=_0x2a1369);}static['setDestroy'+'ed'](_0x1bbaac){_0x1bbaac&&(_0x1bbaac['__alreadyD'+'estroyed']=!(0x26c8+-0x74c+-0x1f7c));}}class mS{constructor(_0x196cc2,_0x49bbe1,_0x9e1cea,_0x5bf72e,_0x1aca81=!(0x19ea+-0x1de4+0x3fb)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(-0x1d54+-0x1511+0x3266)),(this['handler']=_0x196cc2,this['name']=_0x49bbe1,this['callback']=_0x9e1cea,this['scope']=_0x5bf72e,this['_once']=_0x1aca81);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x2296ae,_0x526d30,_0x2e7664=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x2296ae,_0x526d30,_0x2e7664,!(-0x135*0x9+-0xc64+-0xd*-0x1ca));}['once'](_0x29761e,_0x3a68e2,_0x402567=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x29761e,_0x3a68e2,_0x402567,!(-0x230c+0x46*-0x15+0x28ca));}set['removed'](_0x2e3dd9){_0x2e3dd9&&(this['_removed']=!(0x119*0x1+-0x1b35*-0x1+-0xe27*0x2));}get['removed'](){return this['_removed'];}}class ce{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x2a0280,_0x44fd21,_0x1dfe63,_0x397f3f){if((!_0x2a0280||typeof _0x2a0280!='string'||!_0x44fd21)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x2a0280+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x44fd21),this['_callbacks']['has'](_0x2a0280)||this['_callbacks']['set'](_0x2a0280,[]),this['_callbackA'+'ctive']['has'](_0x2a0280)){const _0x3c105f=this['_callbackA'+'ctive']['get'](_0x2a0280);_0x3c105f&&_0x3c105f===this['_callbacks']['get'](_0x2a0280)&&this['_callbackA'+'ctive']['set'](_0x2a0280,_0x3c105f['slice']());}const _0x258158=new mS(this,_0x2a0280,_0x44fd21,_0x1dfe63,_0x397f3f);return this['_callbacks']['get'](_0x2a0280)['push'](_0x258158),_0x258158;}['on'](_0x4c38a5,_0x58e19a,_0x12be64=this){return this['_addCallba'+'ck'](_0x4c38a5,_0x58e19a,_0x12be64,!(0x23c8+0x2ee*0xb+-0x4401));}['once'](_0x339cad,_0x5e8aa5,_0x2cf1a2=this){return this['_addCallba'+'ck'](_0x339cad,_0x5e8aa5,_0x2cf1a2,!(-0xc*0x17f+0x29a+0xf5a));}['off'](_0x25aaae,_0x36e0fb,_0x42af81){if(_0x25aaae)this['_callbackA'+'ctive']['has'](_0x25aaae)&&this['_callbackA'+'ctive']['get'](_0x25aaae)===this['_callbacks']['get'](_0x25aaae)&&this['_callbackA'+'ctive']['set'](_0x25aaae,this['_callbackA'+'ctive']['get'](_0x25aaae)['slice']());else{for(const [_0x1f9fcb,_0x43eb2a]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x1f9fcb)&&this['_callbacks']['get'](_0x1f9fcb)===_0x43eb2a&&this['_callbackA'+'ctive']['set'](_0x1f9fcb,_0x43eb2a['slice']());}if(_0x25aaae){if(_0x36e0fb){const _0x2a2cb4=this['_callbacks']['get'](_0x25aaae);if(!_0x2a2cb4)return this;for(let _0x337393=-0x10*-0xad+0x228a*0x1+0x2*-0x16ad;_0x337393<_0x2a2cb4['length'];_0x337393++)_0x2a2cb4[_0x337393]['callback']===_0x36e0fb&&(_0x42af81&&_0x2a2cb4[_0x337393]['scope']!==_0x42af81||(_0x2a2cb4[_0x337393]['removed']=!(-0x177d+-0x1*-0x12d1+0x1*0x4ac),_0x2a2cb4['splice'](_0x337393,0x114*0xd+-0x23b*0x1+0xd*-0xe8),_0x337393--));_0x2a2cb4['length']===-0x973*0x3+-0x1*0x949+0x25a2&&this['_callbacks']['delete'](_0x25aaae);}else{const _0x2cce7c=this['_callbacks']['get'](_0x25aaae);if(_0x2cce7c){for(let _0x2f6ff1=-0x2*0xfa1+-0x70*0x43+-0x1*-0x3c92;_0x2f6ff1<_0x2cce7c['length'];_0x2f6ff1++)_0x2cce7c[_0x2f6ff1]['removed']=!(0x3*0x824+-0xd23+-0x141*0x9);this['_callbacks']['delete'](_0x25aaae);}}}else{for(const _0x1e0796 of this['_callbacks']['values']())for(let _0x1006eb=-0x3*0x728+-0x4ea+0x266*0xb;_0x1006eb<_0x1e0796['length'];_0x1006eb++)_0x1e0796[_0x1006eb]['removed']=!(0x180*0x13+-0x3*-0x952+-0x3876);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x13c90b){const _0x391fb2=_0x13c90b['name'];_0x13c90b['removed']=!(0x1334+0x3*-0x2eb+-0xa73),this['_callbackA'+'ctive']['has'](_0x391fb2)&&this['_callbackA'+'ctive']['get'](_0x391fb2)===this['_callbacks']['get'](_0x391fb2)&&this['_callbackA'+'ctive']['set'](_0x391fb2,this['_callbackA'+'ctive']['get'](_0x391fb2)['slice']());const _0x3c8dc7=this['_callbacks']['get'](_0x391fb2);if(!_0x3c8dc7)return this;const _0x6a8101=_0x3c8dc7['indexOf'](_0x13c90b);return _0x6a8101!==-(0x1*0x1181+-0x518*0x7+-0x4*-0x48a)&&(_0x3c8dc7['splice'](_0x6a8101,0x1094*0x1+0x1750+-0x27e3),_0x3c8dc7['length']===0x1*0x6e6+-0x12a7+0x3b*0x33&&this['_callbacks']['delete'](_0x391fb2)),this;}['fire'](_0x5c8abb,_0x560d58,_0x3a199c,_0x4541c3,_0x4483f9,_0x2c07aa,_0x17317e,_0x463363,_0x5ead76){if(!_0x5c8abb)return this;const _0x3166a4=this['_callbacks']['get'](_0x5c8abb);if(!_0x3166a4)return this;let _0x32b329;this['_callbackA'+'ctive']['has'](_0x5c8abb)?this['_callbackA'+'ctive']['get'](_0x5c8abb)!==_0x3166a4&&(_0x32b329=_0x3166a4['slice']()):this['_callbackA'+'ctive']['set'](_0x5c8abb,_0x3166a4);for(let _0x57e6b6=-0x18c9+0x10e7*-0x2+-0x3a97*-0x1;(_0x32b329||this['_callbackA'+'ctive']['get'](_0x5c8abb))&&_0x57e6b6<(_0x32b329||this['_callbackA'+'ctive']['get'](_0x5c8abb))['length'];_0x57e6b6++){const _0x35c550=(_0x32b329||this['_callbackA'+'ctive']['get'](_0x5c8abb))[_0x57e6b6];if(_0x35c550['callback']&&(_0x35c550['callback']['call'](_0x35c550['scope'],_0x560d58,_0x3a199c,_0x4541c3,_0x4483f9,_0x2c07aa,_0x17317e,_0x463363,_0x5ead76),_0x35c550['_once'])){const _0x13d4f8=this['_callbacks']['get'](_0x5c8abb),_0x31bd90=_0x13d4f8?_0x13d4f8['indexOf'](_0x35c550):-(0x3c7*0x1+0x1*0xc9f+-0x1065);if(_0x31bd90!==-(-0x1d00+0x1*-0x13e3+-0x12a*-0x2a)){this['_callbackA'+'ctive']['get'](_0x5c8abb)===_0x13d4f8&&this['_callbackA'+'ctive']['set'](_0x5c8abb,this['_callbackA'+'ctive']['get'](_0x5c8abb)['slice']());const _0x304e34=this['_callbacks']['get'](_0x5c8abb);if(!_0x304e34)continue;_0x304e34[_0x31bd90]['removed']=!(0x18a6+-0x1b*-0x9e+-0x2950),_0x304e34['splice'](_0x31bd90,-0xbf4+-0xe7*0x16+0x1fcf),_0x304e34['length']===-0x262b+0x11e6+0x1445&&this['_callbacks']['delete'](_0x5c8abb);}}}return _0x32b329||this['_callbackA'+'ctive']['delete'](_0x5c8abb),this;}['hasEvent'](_0x190f3){var _0x400506;return!!((_0x400506=this['_callbacks']['get'](_0x190f3))!=null&&_0x400506['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x4d984c,_0x53caf3){if(this['_index'][_0x4d984c])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x4d984c);const _0x56a5f0=this['_list']['push'](_0x53caf3)-(0x151*-0x2+0xe*-0x95+0xac9);this['_index'][_0x4d984c]=_0x56a5f0;}['has'](_0x5474e9){return this['_index'][_0x5474e9]!==void(-0x1*-0x19f6+-0xc25+-0xdd1);}['get'](_0x3cc73e){const _0x594633=this['_index'][_0x3cc73e];return _0x594633!==void(-0x1*0x1a4d+0x1d*-0x101+0x376a)?this['_list'][_0x594633]:null;}['remove'](_0x3d7b89){const _0x47e7d3=this['_index'][_0x3d7b89];if(_0x47e7d3!==void(0xf28+0x20e6+0x1807*-0x2)){this['_list']['splice'](_0x47e7d3,0x2237*-0x1+-0xc1a+0x2e52),delete this['_index'][_0x3d7b89];for(_0x3d7b89 in this['_index']){const _0x31d3c8=this['_index'][_0x3d7b89];_0x31d3c8>_0x47e7d3&&(this['_index'][_0x3d7b89]=_0x31d3c8-(0x7b1*0x4+-0x489+-0x2ea*0x9));}return!(-0x1300+0x1cc7+-0x9c7*0x1);}return!(0x3*0x396+0x8*0x1ca+0x1*-0x1911);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=-0xd90+0x14*0x59+0x5e*0x12;for(const _0x1e146e in this['_index'])delete this['_index'][_0x1e146e];}}const gS=_0x512615=>{const _0x30a320={};let _0x46e4f5=_0x30a320;return()=>(_0x46e4f5===_0x30a320&&(_0x46e4f5=_0x512615()),_0x46e4f5);},Ns=class Ns{static['loadScript'](_0x167ffe,_0x1a4f60){const _0x3fce4e=document['createElem'+'ent']('script');_0x3fce4e['setAttribu'+'te']('src',_0x167ffe),_0x3fce4e['onload']=()=>{_0x1a4f60(null);},_0x3fce4e['onerror']=()=>{_0x1a4f60('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x167ffe+'\x27');},document['body']['appendChil'+'d'](_0x3fce4e);}static['loadWasm'](_0x34d46c,_0x56b6d4,_0x1efb62){const _0x28bfe3=Ns['wasmSuppor'+'ted']()&&_0x56b6d4['glueUrl']&&_0x56b6d4['wasmUrl']?_0x56b6d4['glueUrl']:_0x56b6d4['fallbackUr'+'l'];_0x28bfe3?Ns['loadScript'](_0x28bfe3,_0x53e12f=>{if(_0x53e12f)_0x1efb62(_0x53e12f,null);else{const _0x227ab7=window[_0x34d46c];window[_0x34d46c]=void(0x13c9+-0x2640+0x1277),_0x227ab7({'locateFile':()=>_0x56b6d4['wasmUrl'],'onAbort':()=>{_0x1efb62('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x3928f9=>{_0x1efb62(null,_0x3928f9);});}}):_0x1efb62('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x4bca11){return Ns['modules']['hasOwnProp'+'erty'](_0x4bca11)||(Ns['modules'][_0x4bca11]={'config':null,'initializing':!(0x118e+0x26e6+0x3873*-0x1),'instance':null,'callbacks':[]}),Ns['modules'][_0x4bca11];}static['initialize'](_0x8cb46e,_0x479fcf){if(_0x479fcf['initializi'+'ng'])return;const _0x16725f=_0x479fcf['config'];(_0x16725f['glueUrl']||_0x16725f['wasmUrl']||_0x16725f['fallbackUr'+'l'])&&(_0x479fcf['initializi'+'ng']=!(-0x914+0x7e2+0x132),Ns['loadWasm'](_0x8cb46e,_0x16725f,(_0x37ef78,_0x478f0e)=>{_0x37ef78?_0x16725f['errorHandl'+'er']?_0x16725f['errorHandl'+'er'](_0x37ef78):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x8cb46e+'\x20error='+_0x37ef78):(_0x479fcf['instance']=_0x478f0e,_0x479fcf['callbacks']['forEach'](_0x38d5a6=>{_0x38d5a6(_0x478f0e);}));}));}};c(Ns,'modules',{}),c(Ns,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x1f944c=new WebAssembly['Module'](Uint8Array['of'](-0x3*0xa79+-0x250b*-0x1+0x5a0*-0x1,0x673*-0x1+0x1*0x8c1+0x1d*-0x11,-0xf1f*0x1+0x1eab+0x5*-0x305,-0x1*-0x23b7+-0x85b+-0x1aef,-0x9ef*0x3+-0x1*0x1835+0x3603,-0x9e8+0x126e+-0x886,-0x61c+0x1ca2+-0x1686,0x120+0x1*-0x331+0x211));if(_0x1f944c instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x1f944c)instanceof WebAssembly['Instance'];}}catch{}return!(-0x4fe+-0x1a2c+0x65*0x4f);}));let Br=Ns;class ay{static['setConfig'](_0x69194,_0x4b9654){const _0x32ae89=Br['getModule'](_0x69194);_0x32ae89['config']=_0x4b9654,_0x32ae89['callbacks']['length']>0xb98+-0x1580+0x9e8&&Br['initialize'](_0x69194,_0x32ae89);}static['getConfig'](_0x4b7e27){var _0x3aca60,_0x2c6ae2;return(_0x2c6ae2=(_0x3aca60=Br['modules'])==null?void(0x4*0x10+0x6*-0x21d+0xc6e):_0x3aca60[_0x4b7e27])==null?void(-0x1863+0x74d+-0x1b*-0xa2):_0x2c6ae2['config'];}static['getInstanc'+'e'](_0x267c8e,_0x3958d1){const _0x25a733=Br['getModule'](_0x267c8e);_0x25a733['instance']?_0x3958d1(_0x25a733['instance']):(_0x25a733['callbacks']['push'](_0x3958d1),_0x25a733['config']&&Br['initialize'](_0x267c8e,_0x25a733));}}class oy{constructor(_0xed70bf){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',-0x7*0x3df+-0x493*-0x6+-0x59),(this['arraybuffe'+'r']=_0xed70bf,this['dataView']=new DataView(_0xed70bf));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x4e2a43=0x1017*0x1+-0x7f+-0xf98){this['offset']=_0x4e2a43;}['skip'](_0x82db9b){this['offset']+=_0x82db9b;}['align'](_0xbb65bc){this['offset']=this['offset']+_0xbb65bc-(0xdaf+-0x24f2+-0x5d1*-0x4)&~(_0xbb65bc-(-0x2476+0xbf0*0x3+-0x1*-0xa7));}['_inc'](_0x2abbed){return this['offset']+=_0x2abbed,this['offset']-_0x2abbed;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x1188e9){let _0x343a73='';for(let _0x4d2097=0x2592+-0x1c92+-0x900;_0x4d2097<_0x1188e9;++_0x4d2097)_0x343a73+=this['readChar']();return _0x343a73;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x203e+-0xa86+-0x32*-0xdb),!(0x5*-0x14f+-0x665*0x1+-0x8a*-0x18));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](0x16f*0x9+-0x1308+0x625),!(0x22a6+0x1*-0x128c+-0x1ca*0x9));}['readU64'](){return this['readU32']()+(0x20c7+0xfb4+-0x3079)**(0x240c+0x445*0x5+-0x1b*0x21f)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0xdaf+0x144f*0x1+-0x1*0x69c),!(0x3a0+-0x181b+0x147c));}['readArray'](_0x36394b){for(let _0x5cc49d=0x10eb+-0x198*-0x11+-0x1*0x2c03;_0x5cc49d<_0x36394b['length'];++_0x5cc49d)_0x36394b[_0x5cc49d]=this['readU8']();}['readLine'](){const _0x336918=this['dataView'];let _0x3dceca='';for(;!(this['offset']>=_0x336918['byteLength']);){const _0x34c325=String['fromCharCo'+'de'](this['readU8']());if(_0x34c325==='\x0a')break;_0x3dceca+=_0x34c325;}return _0x3dceca;}}class wh{constructor(_0x5dd387){c(this,'items',[]),c(this,'length',-0x1a3f+-0x1ec5*0x1+0x3904),c(this,'loopIndex',-(0x1374+-0x1*0x21a1+0xe2e)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x5dd387['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x459aec){let _0x5120cf=-0xf4b+0x160f+-0x6c4*0x1,_0xc544c1=this['items']['length']-(-0xc6d+0x50f+0x1*0x75f);const _0x2bc783=_0x459aec[this['_sortBy']];let _0x5c514c,_0x2e057a;for(;_0x5120cf<=_0xc544c1;)_0x5c514c=Math['floor']((_0x5120cf+_0xc544c1)/(-0x2569*0x1+-0x10f5*0x1+0x3660)),_0x2e057a=this['items'][_0x5c514c][this['_sortBy']],_0x2e057a<=_0x2bc783?_0x5120cf=_0x5c514c+(-0x134b+-0x344*0x3+-0x13*-0x188):_0x2e057a>_0x2bc783&&(_0xc544c1=_0x5c514c-(0x1d13+-0x4*0x208+0xa79*-0x2));return _0x5120cf;}['_doSort'](_0x499864,_0x2b6cef){const _0x4e9a71=this['_sortBy'];return _0x499864[_0x4e9a71]-_0x2b6cef[_0x4e9a71];}['insert'](_0x8d04ec){const _0x441139=this['_binarySea'+'rch'](_0x8d04ec);this['items']['splice'](_0x441139,-0x2239*0x1+-0x1289+0x34c2,_0x8d04ec),this['length']++,this['loopIndex']>=_0x441139&&this['loopIndex']++;}['append'](_0x5029bb){this['items']['push'](_0x5029bb),this['length']++;}['remove'](_0x1b3e8e){const _0x24ce20=this['items']['indexOf'](_0x1b3e8e);_0x24ce20<-0x11ef+0x2*0x36e+0x237*0x5||(this['items']['splice'](_0x24ce20,0x1c36+-0x968+-0x12cd),this['length']--,this['loopIndex']>=_0x24ce20&&this['loopIndex']--);}['sort'](){const _0x501ccd=this['loopIndex']>=-0x5*0x53b+-0x1e6+0x1c0d?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x501ccd!==null&&(this['loopIndex']=this['items']['indexOf'](_0x501ccd));}}class po extends ce{constructor(_0x38e1e7){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x38e1e7;}['add'](..._0x1bb9aa){let _0x44e026=!(0x477+0x635+-0xaab);const _0x5805f3=this['_processAr'+'guments'](_0x1bb9aa,!(0xe8f*-0x1+0x212b+-0x129c));if(!_0x5805f3['length'])return _0x44e026;for(let _0x5988f7=0x1821+-0x1261+-0x2e0*0x2;_0x5988f7<_0x5805f3['length'];_0x5988f7++)this['_index'][_0x5805f3[_0x5988f7]]||(_0x44e026=!(0x1202+-0xefe+-0x1*0x304),this['_index'][_0x5805f3[_0x5988f7]]=!(0x20f5+0x1*-0x558+-0x1b9d),this['_list']['push'](_0x5805f3[_0x5988f7]),this['fire']('add',_0x5805f3[_0x5988f7],this['_parent']));return _0x44e026&&this['fire']('change',this['_parent']),_0x44e026;}['remove'](..._0x230c7d){let _0x40052d=!(-0x270f+0xb3b+0x1bd5);if(!this['_list']['length'])return _0x40052d;const _0x5d51ce=this['_processAr'+'guments'](_0x230c7d,!(0x3a3*-0x1+0x1226+-0xe83));if(!_0x5d51ce['length'])return _0x40052d;for(let _0x1dc477=0x50d+-0x1e*-0x47+-0xd5f;_0x1dc477<_0x5d51ce['length'];_0x1dc477++)this['_index'][_0x5d51ce[_0x1dc477]]&&(_0x40052d=!(0x11b0*0x2+0x1c66+-0x2*0x1fe3),delete this['_index'][_0x5d51ce[_0x1dc477]],this['_list']['splice'](this['_list']['indexOf'](_0x5d51ce[_0x1dc477]),-0x6*0x21+-0x6f9+-0x10*-0x7c),this['fire']('remove',_0x5d51ce[_0x1dc477],this['_parent']));return _0x40052d&&this['fire']('change',this['_parent']),_0x40052d;}['clear'](){if(!this['_list']['length'])return;const _0xd1cc63=this['_list']['slice'](-0xe*0x3+0xf3+0x43*-0x3);this['_list']=[],this['_index']={};for(let _0x592493=0x1*0x143d+-0x2*0xacc+-0x15b*-0x1;_0x592493<_0xd1cc63['length'];_0x592493++)this['fire']('remove',_0xd1cc63[_0x592493],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x410cd5){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x410cd5)):!(0x105d+0x1d1c+-0x1e5*0x18);}['_has'](_0x206eec){if(!this['_list']['length']||!_0x206eec['length'])return!(0x167f+-0x116e+-0x510);for(let _0x65d698=0x539*-0x7+0x1280*-0x2+0x498f*0x1;_0x65d698<_0x206eec['length'];_0x65d698++)if(_0x206eec[_0x65d698]['length']===-0x78f+-0x180e*0x1+0xfcf*0x2){if(this['_index'][_0x206eec[_0x65d698][-0x6d6+0x1be6+-0x2a2*0x8]])return!(0x109b+0x1bd*-0x16+0x15a3);}else{let _0x24ba93=!(-0x9*-0x47+0x1*-0x1d96+0x1b17);for(let _0x3911a0=-0x262c+0x2f1*0x8+0xea4;_0x3911a0<_0x206eec[_0x65d698]['length'];_0x3911a0++)if(!this['_index'][_0x206eec[_0x65d698][_0x3911a0]]){_0x24ba93=!(0x9fa+-0x151f*-0x1+-0x1f18);break;}if(_0x24ba93)return!(-0x6be+-0x1*-0x12cb+0xc0d*-0x1);}return!(0x1f52+0x11*-0x62+-0x49*0x57);}['list'](){return this['_list']['slice'](-0x1*-0x1de+0x578+-0x3ab*0x2);}['_processAr'+'guments'](_0x47d990,_0x437e6c){const _0x35447e=[];let _0x21c8d4=[];if(!_0x47d990||!_0x47d990['length'])return _0x35447e;for(let _0x561797=-0x2335*-0x1+-0x23e1+0xac;_0x561797<_0x47d990['length'];_0x561797++)if(_0x47d990[_0x561797]instanceof Array){_0x437e6c||(_0x21c8d4=[]);for(let _0x1e8bba=0x1bb3+-0x1*0x1fd9+0xb1*0x6;_0x1e8bba<_0x47d990[_0x561797]['length'];_0x1e8bba++)typeof _0x47d990[_0x561797][_0x1e8bba]=='string'&&(_0x437e6c?_0x35447e['push'](_0x47d990[_0x561797][_0x1e8bba]):_0x21c8d4['push'](_0x47d990[_0x561797][_0x1e8bba]));!_0x437e6c&&_0x21c8d4['length']&&_0x35447e['push'](_0x21c8d4);}else typeof _0x47d990[_0x561797]=='string'&&(_0x437e6c?_0x35447e['push'](_0x47d990[_0x561797]):_0x35447e['push']([_0x47d990[_0x561797]]));return _0x35447e;}get['size'](){return this['_list']['length'];}}c(po,'EVENT_ADD','add'),c(po,'EVENT_REMO'+'VE','remove'),c(po,'EVENT_CHAN'+'GE','change');const ne=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class sd{constructor(_0x192473){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x29def0=_0x192473['match'](yS);this['scheme']=_0x29def0[-0x1409+0xec5+0x546],this['authority']=_0x29def0[0x11e3+-0xa84+-0x75b*0x1],this['path']=_0x29def0[-0x1c56+0x36e+0x18ed],this['query']=_0x29def0[-0x31*-0x71+-0x7*0x177+0x53*-0x23],this['fragment']=_0x29def0[0x1*-0x1db8+-0x117*-0xa+0x12db];}['toString'](){let _0x14f26d='';return this['scheme']&&(_0x14f26d+=this['scheme']+':'),this['authority']&&(_0x14f26d+='//'+this['authority']),_0x14f26d+=this['path'],this['query']&&(_0x14f26d+='?'+this['query']),this['fragment']&&(_0x14f26d+='#'+this['fragment']),_0x14f26d;}['getQuery'](){const _0x15a3cf={};if(this['query']){const _0x16ca12=decodeURIComponent(this['query'])['split']('&');for(const _0x396f69 of _0x16ca12){const _0x47cca2=_0x396f69['split']('=');_0x15a3cf[_0x47cca2[-0x13de+-0x946+0x1d24]]=_0x47cca2[-0x2e8+-0x25b6+-0x289f*-0x1];}}return _0x15a3cf;}['setQuery'](_0x344f6a){let _0x497ee6='';for(const _0x26115f in _0x344f6a)_0x344f6a['hasOwnProp'+'erty'](_0x26115f)&&(_0x497ee6!==''&&(_0x497ee6+='&'),_0x497ee6+=encodeURIComponent(_0x26115f)+'='+encodeURIComponent(_0x344f6a[_0x26115f]));this['query']=_0x497ee6;}}const xS=0x244f+0x1a49+-0x3e98,Df=-0x2e4*0x3+0x5f*-0x5e+0x2b8f,sm=0x9e9*0x1+-0x939+-0x2*0x56,SS=0x1f*0x8e+0x1*0x23d1+0x26*-0x165,N={'DEG_TO_RAD':Math['PI']/(0x2512+0xe44+-0x32a2),'RAD_TO_DEG':(0x15d1*-0x1+-0x1a*-0x16f+0x1*-0xec1)/Math['PI'],'clamp'(_0x5ad53f,_0x3611f4,_0xee19fd){return _0x5ad53f>=_0xee19fd?_0xee19fd:_0x5ad53f<=_0x3611f4?_0x3611f4:_0x5ad53f;},'intToBytes24'(_0x4fd667){const _0x441875=_0x4fd667>>0x2319*0x1+-0x2548+0x23f&0x1ec9+-0xad3+-0x12f7,_0x5cea10=_0x4fd667>>0x48*-0xc+0x62+-0x183*-0x2&-0xb*-0x2cf+0xb6e+-0x2954,_0x3d8248=_0x4fd667&0x9*-0x141+0x191e*0x1+-0x66b*0x2;return[_0x441875,_0x5cea10,_0x3d8248];},'intToBytes32'(_0x22e7ff){const _0x1aee70=_0x22e7ff>>-0x206*0x7+0x97*-0x1+0xed9&0x1485+0x16e5+0x2a6b*-0x1,_0x507f74=_0x22e7ff>>0x13*0x5c+-0x1556+0x5*0x2ea&-0x1c*-0x124+0x1c6*-0x2+-0x1*0x1b65,_0xbb2f9a=_0x22e7ff>>-0x1*0x5f7+-0x2*-0x983+-0xd07&0x150d*-0x1+-0x2*0x12fd+0x3c06,_0x3101bd=_0x22e7ff&-0x804+0x1*-0x1677+0x1f7a;return[_0x1aee70,_0x507f74,_0xbb2f9a,_0x3101bd];},'bytesToInt24'(_0x35b31b,_0x22104e,_0x4919d4){return _0x35b31b['length']&&(_0x4919d4=_0x35b31b[-0x1c46+-0x44f*0x1+0x2097],_0x22104e=_0x35b31b[-0x4*-0x919+-0xf9c+0x3*-0x6ed],_0x35b31b=_0x35b31b[0x17b2+-0x29b*0x5+0xaab*-0x1]),_0x35b31b<<0x6*0x235+-0x16ef+0x9c1|_0x22104e<<-0x1*0x228b+-0x51*-0x17+0x1b4c|_0x4919d4;},'bytesToInt32'(_0x4ed2c5,_0x38660a,_0x51d7f6,_0x2602ae){return _0x4ed2c5['length']&&(_0x2602ae=_0x4ed2c5[-0x1*0x2309+-0xe86+0x8d*0x5a],_0x51d7f6=_0x4ed2c5[-0x1cbb+0x19a7+0x316],_0x38660a=_0x4ed2c5[0x2288+-0x1*0x4c9+-0x1dbe],_0x4ed2c5=_0x4ed2c5[0x107*-0x17+-0x17*-0x22+-0x17*-0xe5]),(_0x4ed2c5<<0x20b0+0x2708+-0xbf0*0x6|_0x38660a<<0x9a3+0x595*0x5+0x12be*-0x2|_0x51d7f6<<-0xb2b*0x3+-0x1*0x1e72+0x3ffb|_0x2602ae)>>>0x7f4+0x31*0x4f+-0x1713;},'lerp'(_0x516960,_0x253bdd,_0xdfba5d){return _0x516960+(_0x253bdd-_0x516960)*N['clamp'](_0xdfba5d,0x1*0xb9e+-0x2*-0x81a+-0x1bd2,-0x137e+0x20a+0x6d*0x29);},'lerpAngle'(_0x234d22,_0xdb6287,_0x1f1b6a){return _0xdb6287-_0x234d22>-0x5*0x45+0xb1*0x11+-0x5c*0x1b&&(_0xdb6287-=0x1*0x1fd8+0x3f2+0x2262*-0x1),_0xdb6287-_0x234d22<-(0x11*0x14b+0x11c0+-0x2707)&&(_0xdb6287+=-0x5*0x2c1+0x316*0x4+-0x1d*-0x19),N['lerp'](_0x234d22,_0xdb6287,N['clamp'](_0x1f1b6a,-0x3*0x621+0x9*-0x1a5+0x2130,-0x2432+-0x2*-0x869+0x29*0x79));},'powerOfTwo'(_0x5b853c){return _0x5b853c!==-0x25ad*-0x1+-0xa5*0x27+-0x1*0xc8a&&!(_0x5b853c&_0x5b853c-(0x2261+-0x22e7+-0x3*-0x2d));},'nextPowerOfTwo'(_0x4b1181){return _0x4b1181--,_0x4b1181|=_0x4b1181>>0x4b5*0x5+0x14f*0x6+-0x1f62,_0x4b1181|=_0x4b1181>>0x1c7d+0x1122+0x1*-0x2d9d,_0x4b1181|=_0x4b1181>>0x406*-0x3+0x1*-0x1082+0x1c98,_0x4b1181|=_0x4b1181>>0xbc7+0x1*-0x2203+0x3b6*0x6,_0x4b1181|=_0x4b1181>>-0x17da+-0x1afa+0x32e4,_0x4b1181++,_0x4b1181;},'nearestPowerOfTwo'(_0x121359){return Math['pow'](0x11*0x159+0x24*0xa8+0x2b*-0x115,Math['round'](Math['log'](_0x121359)/Math['log'](0x1*-0x445+-0x26c+0x6b3)));},'random'(_0x2d75f6,_0x3dee13){const _0x23ad11=_0x3dee13-_0x2d75f6;return Math['random']()*_0x23ad11+_0x2d75f6;},'smoothstep'(_0x21cd89,_0x23f599,_0x27437b){return _0x27437b<=_0x21cd89?0x1*0x1f69+-0x1*-0x2162+0x39*-0x123:_0x27437b>=_0x23f599?-0x119d*0x1+0x5*-0x74b+0xd*0x429:(_0x27437b=(_0x27437b-_0x21cd89)/(_0x23f599-_0x21cd89),_0x27437b*_0x27437b*(0x19*0x29+0xa30*-0x2+0x1062-(-0x59*-0xc+-0x1*-0x1b3e+-0x1f68)*_0x27437b));},'smootherstep'(_0x16f57d,_0x3f6f2c,_0x38f4a3){return _0x38f4a3<=_0x16f57d?-0xdb9+-0xf04*0x1+-0x1cbd*-0x1:_0x38f4a3>=_0x3f6f2c?-0x6*0x147+-0x26b*-0x9+-0xe18:(_0x38f4a3=(_0x38f4a3-_0x16f57d)/(_0x3f6f2c-_0x16f57d),_0x38f4a3*_0x38f4a3*_0x38f4a3*(_0x38f4a3*(_0x38f4a3*(0xfa4+0x2385*-0x1+-0x3fb*-0x5)-(-0x1ee+0xfd0+-0xdd3))+(0x1a42+0x3a*-0xa+0x124*-0x15)));},'roundUp'(_0x32586b,_0x3d3f66){return _0x3d3f66===0x6*0x656+0xef*0x16+-0x3a8e?_0x32586b:Math['ceil'](_0x32586b/_0x3d3f66)*_0x3d3f66;},'between'(_0x7ee259,_0x477d54,_0x1e4667,_0x113310){const _0x410e1b=Math['min'](_0x477d54,_0x1e4667),_0x1b31a2=Math['max'](_0x477d54,_0x1e4667);return _0x113310?_0x7ee259>=_0x410e1b&&_0x7ee259<=_0x1b31a2:_0x7ee259>_0x410e1b&&_0x7ee259<_0x1b31a2;}},it=class it{constructor(_0x982f44=-0x3e5*-0x3+0x2d*0x50+-0x27*0xa9,_0x2b534d=0x1a3f*0x1+-0x270a*0x1+0xccb,_0x24c84b=0x49*0x7a+-0x79f*0x1+-0x41*0x6b,_0x2bcb6c=-0x5*-0x345+-0x1*-0xbab+0x65*-0x47){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x27782b=_0x982f44['length'];_0x27782b===-0x78b+0xe0e+0x1a*-0x40||_0x27782b===-0x2*0x47+0x69f+0x1*-0x60d?(this['r']=_0x982f44[0x1b06+-0x1d4a+0x244],this['g']=_0x982f44[-0x13d*-0x19+0x1*-0x544+-0x19b0],this['b']=_0x982f44[0x950*-0x2+-0x149d+0x273f],this['a']=_0x982f44[0x62+0x1*0x1886+-0x18e5]??0x1*-0x355+0x1eb+-0x1*-0x16b):(this['r']=_0x982f44,this['g']=_0x2b534d,this['b']=_0x24c84b,this['a']=_0x2bcb6c);}['clone'](){const _0x3161f9=this['constructo'+'r'];return new _0x3161f9(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x299a6b){return this['r']=_0x299a6b['r'],this['g']=_0x299a6b['g'],this['b']=_0x299a6b['b'],this['a']=_0x299a6b['a'],this;}['equals'](_0x1b020e){return this['r']===_0x1b020e['r']&&this['g']===_0x1b020e['g']&&this['b']===_0x1b020e['b']&&this['a']===_0x1b020e['a'];}['set'](_0x2a4409,_0x7574b3,_0x14473d,_0x1a93a1=0x1ef4+-0x108c+0x1*-0xe67){return this['r']=_0x2a4409,this['g']=_0x7574b3,this['b']=_0x14473d,this['a']=_0x1a93a1,this;}['lerp'](_0xfe9b06,_0x5189aa,_0x4115d4){return this['r']=_0xfe9b06['r']+_0x4115d4*(_0x5189aa['r']-_0xfe9b06['r']),this['g']=_0xfe9b06['g']+_0x4115d4*(_0x5189aa['g']-_0xfe9b06['g']),this['b']=_0xfe9b06['b']+_0x4115d4*(_0x5189aa['b']-_0xfe9b06['b']),this['a']=_0xfe9b06['a']+_0x4115d4*(_0x5189aa['a']-_0xfe9b06['a']),this;}['linear'](_0x38a32d=this){return this['r']=Math['pow'](_0x38a32d['r'],-0x1387+0x2597+-0x120e+0.20000000000000018),this['g']=Math['pow'](_0x38a32d['g'],0x22a*0x1+-0xd45+0x1*0xb1d+0.20000000000000018),this['b']=Math['pow'](_0x38a32d['b'],-0xdc3+0xfef+-0x22a+0.20000000000000018),this['a']=_0x38a32d['a'],this;}['gamma'](_0x1a08a7=this){return this['r']=Math['pow'](_0x1a08a7['r'],(0x106*-0x11+0x1*0x1d77+-0xc10)/(-0x1*-0x24c3+-0x1843*-0x1+-0x61a*0xa+0.20000000000000018)),this['g']=Math['pow'](_0x1a08a7['g'],(0x95*0x21+-0xadb+-0x859)/(-0xa7f*-0x2+0x103f+-0x253b+0.20000000000000018)),this['b']=Math['pow'](_0x1a08a7['b'],(-0x2335*-0x1+-0xb54*-0x1+0x1744*-0x2)/(0x5b1+-0x1801+0x1252+0.20000000000000018)),this['a']=_0x1a08a7['a'],this;}['mulScalar'](_0x3d1d12){return this['r']*=_0x3d1d12,this['g']*=_0x3d1d12,this['b']*=_0x3d1d12,this;}['fromString'](_0x4d2890){const _0x4d477a=parseInt(_0x4d2890['replace']('#','0x'),-0x2*0x122d+0x1*0x377+0x20f3);let _0x140b10;return _0x4d2890['length']>0x9e5+-0x1a40+0x1062?_0x140b10=N['intToBytes'+'32'](_0x4d477a):(_0x140b10=N['intToBytes'+'24'](_0x4d477a),_0x140b10[0x25*-0x4f+-0x84e+0x13bc]=0x1*-0xdf6+0x608+0x8ed*0x1),this['set'](_0x140b10[0x371*0x1+-0x5*-0xc1+-0x736]/(-0x1065+-0x1*-0x1d+0x1147),_0x140b10[0xb08+0x1*0xd93+-0xc4d*0x2]/(-0x20c3+0x25b6*0x1+-0x3f4),_0x140b10[0x86*0x28+-0x90a+-0xbe4]/(-0x2242+-0x1a61+-0x2e*-0x157),_0x140b10[0xa67+-0x9*0x53+-0x1*0x779]/(0x1*-0x126d+0xa5e*-0x1+-0x1f*-0xf6)),this;}['fromArray'](_0x4e5505,_0x5ccc7a=0x3*-0x377+0x2113+-0x16ae){return this['r']=_0x4e5505[_0x5ccc7a]??this['r'],this['g']=_0x4e5505[_0x5ccc7a+(0xe66+-0x148*-0x8+0x2bd*-0x9)]??this['g'],this['b']=_0x4e5505[_0x5ccc7a+(-0x1aed*0x1+-0x1fc*-0x13+-0xac5)]??this['b'],this['a']=_0x4e5505[_0x5ccc7a+(-0x25de+-0xa62+0x3043)]??this['a'],this;}['toString'](_0x308560,_0x3935b9){const {r:_0x2933cb,g:_0x2aed94,b:_0x41bfb0,a:_0x5b889e}=this;if(_0x3935b9||_0x2933cb>0x3*-0x96b+-0x35*-0x2c+0x1326*0x1||_0x2aed94>0xb9f+-0xc*-0xd8+-0x2e*0x79||_0x41bfb0>-0x1027+-0x1da9+-0x2dd1*-0x1)return _0x2933cb['toFixed'](0x1a3+0x1*0x14e+-0x2ee)+',\x20'+_0x2aed94['toFixed'](-0x15a*-0xa+-0x1*0x5b6+-0x7cb)+',\x20'+_0x41bfb0['toFixed'](0x20*-0x7c+0x22*0x5+0x1*0xed9)+',\x20'+_0x5b889e['toFixed'](0xa84+0x264b+-0x411*0xc);let _0x5de1f2='#'+((0x1140+0x76e+-0x18ad<<0x1*0x1454+-0x155c*0x1+0x120)+(Math['round'](_0x2933cb*(0x743+0x1e81+0x24c5*-0x1))<<0x2*0x76+0x724*-0x1+-0x4*-0x192)+(Math['round'](_0x2aed94*(-0x23ea+-0xd*0x1d2+0x3*0x1431))<<-0x1ff5+-0x1c41+0x3c3e)+Math['round'](_0x41bfb0*(0xcc6+-0x1*-0x16f+0x2*-0x69b)))['toString'](-0x52d*0x3+-0x1f8d+0x2f24)['slice'](0x231d+-0x56*-0x29+-0x30e2);if(_0x308560===!(-0x199+-0xce+0x267)){const _0xa8d81=Math['round'](_0x5b889e*(-0x26ed+0x9*0x374+0x8d8))['toString'](-0x1290+0x3f*-0x29+-0x1*-0x1cb7);this['a']<(0x1625+-0x63*-0xf+-0x1be2*0x1)/(0x9f9+-0x2*0x296+-0x2*0x1e7)?_0x5de1f2+='0'+_0xa8d81:_0x5de1f2+=_0xa8d81;}return _0x5de1f2;}['toArray'](_0x71b73f=[],_0x80ac52=0x20b*0xd+0x2153+-0x1*0x3be2,_0x706326=!(-0x5d3*0x1+-0x1*0xaf6+0x10c9)){return _0x71b73f[_0x80ac52]=this['r'],_0x71b73f[_0x80ac52+(0x16f0+-0x2615+0xf26)]=this['g'],_0x71b73f[_0x80ac52+(-0x8*0x1bb+0x10be*0x1+0x5*-0x94)]=this['b'],_0x706326&&(_0x71b73f[_0x80ac52+(-0x286*-0x8+0x1*0x17+-0x1*0x1444)]=this['a']),_0x71b73f;}};c(it,'BLACK',Object['freeze'](new it(0x1*-0x171a+0x84b*-0x1+0x1f65,-0x7*0x16f+-0x3a*0x39+0x16f3,-0x4a*-0x29+-0x1c0e+0x1034,-0x1*0xc94+0x174+-0x197*-0x7))),c(it,'BLUE',Object['freeze'](new it(-0x100*-0x3+0x70c+-0xa0c,0x1*0x1533+-0xb6f*-0x1+-0x1051*0x2,-0x1481+-0x408+0x188a,-0x20*-0x5f+0x6d+-0x626*0x2))),c(it,'CYAN',Object['freeze'](new it(-0x1049+0x33e*0x2+-0xc1*-0xd,-0x13bd+-0x53a*-0x7+-0x62*0x2c,-0x1425+-0x25d7+0xb99*0x5,0xa39+-0x2de*0x2+0x23e*-0x2))),c(it,'GRAY',Object['freeze'](new it(-0x12a5+-0x13ed*-0x1+-0x148*0x1+0.5,-0x90+0x564+-0x4d4+0.5,0xea2*-0x1+0xf*-0x286+0x347c*0x1+0.5,-0xde6+-0x1*0x3fd+0x11e4))),c(it,'GREEN',Object['freeze'](new it(-0xecb+0x1866+-0x99b,-0x1353+-0x18e7+0x2c3b,-0x2*0xe14+0xa75+0x11b3,0x2*-0xfe+-0x249+0x446))),c(it,'MAGENTA',Object['freeze'](new it(-0x17b*0xe+0x878+0xc43,-0x1fe6+-0xc8c+0x2c72,-0x43*-0x53+-0x18f6+-0x5*-0xa6,-0x1aa5+-0x1843+0x32e9))),c(it,'RED',Object['freeze'](new it(-0x3*-0x337+0x47f*-0x3+-0x3d9*-0x1,0x1b22+0x134e*-0x1+0x3ea*-0x2,-0x51b+0xecd+0x22*-0x49,0xeaf+0x11c3+-0x2071))),c(it,'WHITE',Object['freeze'](new it(-0x1e7d+0x32a+0x1b54,-0x2546+0x25f7+-0xb0,-0x1e*-0x96+-0xccf+0x4*-0x131,-0x206*0xc+0x9a*-0x2+0x197d))),c(it,'YELLOW',Object['freeze'](new it(0x11b1+0xf2d+-0x20dd,-0x99*-0x34+0x143d+-0x10*0x335,-0xa0*0x4+0x1662+-0x9f1*0x2,0x1caf+0x2437+-0x40e5)));let Y=it;class ly{constructor(_0x32f251,_0x288e44=-0x796*0x1+-0x6b*-0x49+-0x16ed){c(this,'_curve'),c(this,'_left',-(-0x76a+-0x260b+0x2d76)/(0x2*-0x397+0x1110+-0x9e2*0x1)),c(this,'_right',(0xcc3*0x3+0x1e5f*0x1+-0x1db*0x25)/(-0x7de+0x2b*-0x81+0x1d89)),c(this,'_recip',0x1a44+0x95*0x1+-0x1ad9),c(this,'_p0',-0xd73*0x1+-0x2506*0x1+0x3279),c(this,'_p1',0x43b+0x11a1+0x4*-0x577),c(this,'_m0',0x71*0x42+0x62d*0x5+-0x3c03),c(this,'_m1',0xb57+-0x1*0x473+-0x6e4),(this['_curve']=_0x32f251,this['_reset'](_0x288e44));}['evaluate'](_0xf0097e,_0xf75cc2=!(-0x224c+0x150*-0x2+-0x45*-0x89)){(_0xf75cc2||_0xf0097e<this['_left']||_0xf0097e>=this['_right'])&&this['_reset'](_0xf0097e);let _0xb9a95a;const _0x2080cd=this['_curve']['type'];if(_0x2080cd===SS)_0xb9a95a=this['_p0'];else{const _0x5447dc=this['_recip']===0x2446+0x54e*-0x3+-0x145c?0x17e7+0x1*0x49+-0x1830:(_0xf0097e-this['_left'])*this['_recip'];_0x2080cd===xS?_0xb9a95a=N['lerp'](this['_p0'],this['_p1'],_0x5447dc):_0x2080cd===Df?_0xb9a95a=N['lerp'](this['_p0'],this['_p1'],_0x5447dc*_0x5447dc*(-0xc05+-0x2345+0x2f4d-(-0x1cc7+0x17e5*0x1+0x4e4)*_0x5447dc)):_0xb9a95a=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x5447dc);}return _0xb9a95a;}['_reset'](_0x36caa2){const _0x502546=this['_curve']['keys'],_0x5959b4=_0x502546['length'];if(!_0x5959b4)this['_left']=-(-0x1ecc+0xc*0x2a9+-0x11f)/(-0x15c9+0xa32*-0x2+0x2a2d),this['_right']=(0x1ff4+0x8d*0x2e+0x1a3*-0x23)/(-0xd*0x175+-0x1818+0x2b09),this['_recip']=-0x25f1+-0x2321+0x18e*0x2f,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0x12b5*0x1+-0x156e*0x1+-0x11*-0x29;else{if(_0x36caa2<_0x502546[-0x6bc+-0x535+-0x3fb*-0x3][0x50f+0x63a*-0x6+-0x204d*-0x1])this['_left']=-(-0x1e*-0x2b+-0x1*-0x1d51+-0x112d*0x2)/(-0x2490+0x22f+0x2261),this['_right']=_0x502546[0x1145+0x93*0x15+0x2*-0xeaa][0x9a3*-0x2+-0x63f+0x1985],this['_recip']=0x1*0x1e41+-0x1a84+-0x3bd,this['_p0']=this['_p1']=_0x502546[0xd31+0xf45+-0x1c76][-0xc0d*-0x1+-0x30d*0x3+0x13*-0x27],this['_m0']=this['_m1']=-0xea4+-0x24e4+0xc2*0x44;else{if(_0x36caa2>=_0x502546[_0x5959b4-(0x1cf0+-0x25b7+-0x8c8*-0x1)][-0x2410+0x1e2*-0x1+0x25f2])this['_left']=_0x502546[_0x5959b4-(-0x18f1+-0xc7*0x3+0x1b47)][-0x3aa+-0x1348+0x7a6*0x3],this['_right']=(-0x2021+-0xa9f+0x2ac1)/(0x4*0x50+-0x10fd+0xfbd),this['_recip']=-0xc79*0x1+-0x1383+0x1ffc,this['_p0']=this['_p1']=_0x502546[_0x5959b4-(0xbb4+-0x17f7+-0x1*-0xc44)][0x1*0x235+0x10*0x20+-0x10d*0x4],this['_m0']=this['_m1']=0x283*0x3+-0x8*0x145+-0x3d*-0xb;else{let _0x1d40b0=0x1103+0x2*-0xf53+0x1*0xda3;for(;_0x36caa2>=_0x502546[_0x1d40b0+(0x36e*-0xb+-0x1a09+0x3fc4)][0x5*0x2b+-0x1a9c+0x1*0x19c5];)_0x1d40b0++;this['_left']=_0x502546[_0x1d40b0][0x29*0x4f+-0xb49+-0x15e],this['_right']=_0x502546[_0x1d40b0+(0x761*0x4+0x23*0xfe+-0x403d)][-0x1b8c+0x119b+0x9f1];const _0x592721=(0x13*0x8+0x9c*0xd+-0x883)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x592721)?_0x592721:0x2303*0x1+-0x3*0x607+-0x10ee,this['_p0']=_0x502546[_0x1d40b0][-0xeee+0x12bb+0x1*-0x3cc],this['_p1']=_0x502546[_0x1d40b0+(-0x5*0x738+0x1409+0x2*0x808)][0x44d*0x8+0x14b0+-0x3717],this['_curve']['type']===sm&&this['_calcTange'+'nts'](_0x502546,_0x1d40b0);}}}}['_calcTange'+'nts'](_0x1e303b,_0x323a39){let _0x5ba5dd;const _0x56cb6f=_0x1e303b[_0x323a39],_0x3aa20a=_0x1e303b[_0x323a39+(0x2*-0x1271+0x1*-0x1e9c+-0x1d3*-0x25)];let _0x41c171;if(_0x323a39===-0x23f*-0x5+0x26bc+0x31f7*-0x1?_0x5ba5dd=[_0x1e303b[0x184*0xe+-0x16e1+-0x55*-0x5][-0xf0f+0xa4*-0x35+0x3103]+(_0x1e303b[-0x2637+0x1a85+0x2*0x5d9][-0x9d*0x1+-0xe44+0xd*0x125]-_0x1e303b[-0xa24+-0x169*0x13+0x24f0][0x1bf*0x11+0x2f9+-0x17c*0x16]),_0x1e303b[0xa*0x281+-0xbbf+-0xd4b][0x4c*-0x4a+-0x4*0xa8+-0x833*-0x3]+(_0x1e303b[0x1bb5+0x1*-0xc5d+-0xf58][0x169*0x9+-0x26cb+-0x29*-0xa3]-_0x1e303b[0xe1c+-0x2f*0x8b+0xb6a][0xaa0+-0x17*0x80+-0x5*-0x2d])]:_0x5ba5dd=_0x1e303b[_0x323a39-(0x2e7*-0x3+0x8a1*0x2+-0x88c)],_0x323a39===_0x1e303b['length']-(0x1*0xa72+0xe5*0x10+-0x18c0)?_0x41c171=[_0x1e303b[_0x323a39+(-0x923*0x1+-0xd*-0x2c2+-0x1ab6)][-0x1fa6+0x77*-0x6+0x2270]+(_0x1e303b[_0x323a39+(0x9*0x139+-0xec2+0x1e1*0x2)][0x1179*-0x2+-0x77*-0x4d+-0xd9]-_0x1e303b[_0x323a39][-0x2*-0x123+0xc86+-0xecc]),_0x1e303b[_0x323a39+(-0x207f+-0x1b*-0xfe+0x5b6)][0x124f+-0x2416+0x11c8]+(_0x1e303b[_0x323a39+(-0x1458+0x1570+0x1f*-0x9)][0x225*0x5+0x1*0x1eb2+0x14b5*-0x2]-_0x1e303b[_0x323a39][0x7bf+0x1898+-0x102b*0x2])]:_0x41c171=_0x1e303b[_0x323a39+(0x25*-0xf+-0x528+0x755)],this['_curve']['type']===sm){const _0x4703cc=(0x1e66*0x1+-0x1352+-0xb12)*(_0x3aa20a[-0x3c8+0x2f*0xc6+-0x17b*0x16]-_0x56cb6f[-0x1*0x3a1+-0x3*0x565+0x27a*0x8])/(_0x3aa20a[-0x2db*-0x4+0xbbf+-0x9*0x293]-_0x5ba5dd[-0x21a7+0x527*-0x6+-0x1*-0x4091]),_0x4885ed=(0x1*0x140f+-0x1e41+0xa34)*(_0x3aa20a[0x6*0x125+0x297+-0x975]-_0x56cb6f[0x125c+0x2*-0x8bc+-0xe4])/(_0x41c171[-0xa31*0x1+0xa5e+0x9*-0x5]-_0x56cb6f[0x265e+0x11e5+-0x1*0x3843]);this['_m0']=this['_curve']['tension']*(isFinite(_0x4703cc)?_0x4703cc:0xc*-0x8a+-0x1c50+0x22c8)*(_0x3aa20a[0x12*-0x1d+0x1d03*-0x1+0x1f0e]-_0x5ba5dd[-0xc0b*-0x3+0x23d3+0xa3*-0x71]),this['_m1']=this['_curve']['tension']*(isFinite(_0x4885ed)?_0x4885ed:0x71*0x23+-0xc*0x28d+-0xf29*-0x1)*(_0x41c171[0x1*-0x235b+0x3*0x72d+0xdd5]-_0x56cb6f[0x34*0x4e+0xec9+-0x1ea0]);}else{const _0xc85bd0=(_0x3aa20a[0x1cc+-0x21d0+0x2004]-_0x56cb6f[0x839*-0x3+-0x13*0x1a+0xb*0x26b])/(_0x56cb6f[-0x680+-0x831+-0xeb1*-0x1]-_0x5ba5dd[0xb97+0xd*-0x4d+-0x7ae]),_0x5c19ce=(_0x3aa20a[0x2c3+0x1*0x959+-0xc1c]-_0x56cb6f[-0x21*0xad+-0x1d36+0x3383])/(_0x41c171[-0x13af*-0x1+0x2*0xf21+-0x31f1]-_0x3aa20a[-0x963+0x44b+-0x146*-0x4]),_0x478b98=_0x56cb6f[0x15*-0x9+0xdb5+-0xcf7]+(_0x5ba5dd[-0x52f+0x1*0x1a0+0x390]-_0x56cb6f[0x45f*-0x2+-0x2*0x3e4+0x1087])*(isFinite(_0xc85bd0)?_0xc85bd0:-0x295*-0x2+-0x9b*0x14+0x379*0x2),_0x244077=_0x3aa20a[0x1f3e+0x5fd+-0x253a]+(_0x41c171[-0x1686+0x1cb9+0x319*-0x2]-_0x3aa20a[-0x106b+0xb9f+0x4cd])*(isFinite(_0x5c19ce)?_0x5c19ce:0x107+0x941+-0xa48),_0x4a0757=this['_curve']['tension'];this['_m0']=_0x4a0757*(_0x3aa20a[0x1b3c+-0x10da+-0xa61]-_0x478b98),this['_m1']=_0x4a0757*(_0x244077-_0x56cb6f[0x1*-0x80f+0x13*0xd7+-0x7e5*0x1]);}}['_evaluateH'+'ermite'](_0x254f95,_0x13f810,_0x5429d9,_0x526426,_0xc2c0ae){const _0x13bf6b=_0xc2c0ae*_0xc2c0ae,_0x563a79=_0xc2c0ae+_0xc2c0ae,_0xb75f92=-0xa1f*-0x2+0x53*0x52+-0x2ed3-_0xc2c0ae,_0x18af1e=_0xb75f92*_0xb75f92;return _0x254f95*((-0x1655+-0x19bf+0x3015+_0x563a79)*_0x18af1e)+_0x5429d9*(_0xc2c0ae*_0x18af1e)+_0x13f810*(_0x13bf6b*(0x1fb4+0x8dc+-0x288d-_0x563a79))+_0x526426*(_0x13bf6b*(_0xc2c0ae-(-0x219f+0x1*-0xf6b+0x310b)));}}class Cs{constructor(_0x2ff7d3){c(this,'keys',[]),c(this,'type',Df),c(this,'tension',0x1b7d+0x1062+0xb*-0x3fd+0.5),c(this,'_eval',new ly(this));if(_0x2ff7d3){for(let _0x13771c=-0x2125+-0x256a+0x29d*0x1b;_0x13771c<_0x2ff7d3['length']-(-0x1ac1+0x1c32+-0x170);_0x13771c+=-0xf2c*-0x2+0x80f*0x3+0xae7*-0x5)this['keys']['push']([_0x2ff7d3[_0x13771c],_0x2ff7d3[_0x13771c+(-0xba+-0x1*-0xd3d+-0xc82)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x1792e9,_0x403916){const _0x6f3a49=this['keys'],_0x397fa9=_0x6f3a49['length'];let _0x129ac4=0x116a+0xb2f*-0x2+0x4f4;for(;_0x129ac4<_0x397fa9&&!(_0x6f3a49[_0x129ac4][0x6*0xbf+-0xd69+0x1*0x8ef]>_0x1792e9);_0x129ac4++);const _0x1f4b0b=[_0x1792e9,_0x403916];return this['keys']['splice'](_0x129ac4,-0x4e3+0x1f7*0x13+0x2072*-0x1,_0x1f4b0b),_0x1f4b0b;}['get'](_0x2834dd){return this['keys'][_0x2834dd];}['sort'](){this['keys']['sort']((_0x502531,_0x293dcf)=>_0x502531[-0x67*-0x47+0xe5f*-0x1+0x17*-0x9e]-_0x293dcf[0x515+0x5f8+-0x3af*0x3]);}['value'](_0x1f850c){return this['_eval']['evaluate'](_0x1f850c,!(-0x267a+0x2594+0x73*0x2));}['closest'](_0x3ce277){const _0xb73e0=this['keys'],_0x4af2e5=_0xb73e0['length'];let _0x41543d=0x1783+0x1be6+-0x3367*0x1,_0x10ea9e=null;for(let _0x45507d=-0x142f+-0x222a+0x3659;_0x45507d<_0x4af2e5;_0x45507d++){const _0x336246=Math['abs'](_0x3ce277-_0xb73e0[_0x45507d][0x63c+-0xb44+0x4*0x142]);if(_0x41543d>=_0x336246)_0x41543d=_0x336246,_0x10ea9e=_0xb73e0[_0x45507d];else break;}return _0x10ea9e;}['clone'](){const _0x52edad=new this['constructo'+'r']();return _0x52edad['keys']=this['keys']['map'](_0x5ccbae=>[..._0x5ccbae]),_0x52edad['type']=this['type'],_0x52edad['tension']=this['tension'],_0x52edad;}['quantize'](_0x77c09f){_0x77c09f=Math['max'](_0x77c09f,0x1501+-0x13*-0xc1+-0x2352);const _0x4ac8c7=new Float32Array(_0x77c09f),_0x43cb31=(-0x3*-0x371+0x2*-0x667+0x27c)/(_0x77c09f-(0x1*-0xcf9+0x67*0x4b+0x275*-0x7));_0x4ac8c7[0x1041*0x1+0x1bd9*0x1+0x5*-0x8d2]=this['_eval']['evaluate'](0xc*-0x305+0x1*0xffb+0x1441,!(0x256c+0x111*0x14+0x20*-0x1d6));for(let _0xad58ed=0x1c33+-0x2624*-0x1+0x97a*-0x7;_0xad58ed<_0x77c09f;_0xad58ed++)_0x4ac8c7[_0xad58ed]=this['_eval']['evaluate'](_0x43cb31*_0xad58ed);return _0x4ac8c7;}['quantizeCl'+'amped'](_0x4b898e,_0x2dfebd,_0x3dba9d){const _0xc607b5=this['quantize'](_0x4b898e);for(let _0x530d7e=0x1e7*0x1+-0x1*-0x1137+-0x131e;_0x530d7e<_0xc607b5['length'];++_0x530d7e)_0xc607b5[_0x530d7e]=Math['min'](_0x3dba9d,Math['max'](_0x2dfebd,_0xc607b5[_0x530d7e]));return _0xc607b5;}}class jr{constructor(){c(this,'curves',[]),c(this,'_type',Df);if(arguments['length']>0xd*0xf9+-0xa4e+-0x1a*0x17){for(let _0x4059a6=0x3*-0xabb+0x2316+-0x39*0xd;_0x4059a6<arguments['length'];_0x4059a6++)this['curves']['push'](new Cs(arguments[_0x4059a6]));}else{if(arguments['length']===-0x21e4+0x1d7+0x200d)this['curves']['push'](new Cs());else{const _0x49a0c7=arguments[-0x106a+-0x1e1f*-0x1+-0xdb5];if(typeof _0x49a0c7=='number'){for(let _0x1354f2=0x2480+-0x345+-0x213b;_0x1354f2<_0x49a0c7;_0x1354f2++)this['curves']['push'](new Cs());}else{for(let _0x5cefd7=0x1b8a+0xcd1+-0x285b;_0x5cefd7<_0x49a0c7['length'];_0x5cefd7++)this['curves']['push'](new Cs(_0x49a0c7[_0x5cefd7]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x2762cc){this['_type']=_0x2762cc;for(let _0x24c7b8=0x5*0x230+-0x2*0x1015+0x153a;_0x24c7b8<this['curves']['length'];_0x24c7b8++)this['curves'][_0x24c7b8]['type']=_0x2762cc;}get['type'](){return this['_type'];}['get'](_0x125b99){return this['curves'][_0x125b99];}['value'](_0x396f01,_0x1e517d=[]){const _0x4dbae0=this['curves']['length'];_0x1e517d['length']=_0x4dbae0;for(let _0x4b31df=-0x13c*0x1d+0x147e+0x7a7*0x2;_0x4b31df<_0x4dbae0;_0x4b31df++)_0x1e517d[_0x4b31df]=this['curves'][_0x4b31df]['value'](_0x396f01);return _0x1e517d;}['clone'](){const _0x5c3450=new this['constructo'+'r']();_0x5c3450['curves']=[];for(let _0x17cf58=-0x6aa+-0x1*-0x1f29+-0x187f*0x1;_0x17cf58<this['curves']['length'];_0x17cf58++)_0x5c3450['curves']['push'](this['curves'][_0x17cf58]['clone']());return _0x5c3450['_type']=this['_type'],_0x5c3450;}['quantize'](_0x49a2e){_0x49a2e=Math['max'](_0x49a2e,-0x1e68+0x19c6+0x4a4*0x1);const _0x4082fe=this['curves']['length'],_0x1f628a=new Float32Array(_0x49a2e*_0x4082fe),_0x4dbd28=(-0x2242+-0x44*-0x55+0xbaf)/(_0x49a2e-(-0xe34+0xaf3*0x1+-0x2*-0x1a1));for(let _0x5d4514=-0x1f*0xa9+0x1*-0xac6+0xb*0x2d7;_0x5d4514<_0x4082fe;_0x5d4514++){const _0x41ae70=new ly(this['curves'][_0x5d4514]);for(let _0x455ec1=0x1406+-0xc2e*0x1+-0x7d8;_0x455ec1<_0x49a2e;_0x455ec1++)_0x1f628a[_0x455ec1*_0x4082fe+_0x5d4514]=_0x41ae70['evaluate'](_0x4dbd28*_0x455ec1);}return _0x1f628a;}['quantizeCl'+'amped'](_0x212719,_0x1fbc81,_0x565353){const _0x1905a7=this['quantize'](_0x212719);for(let _0xff460a=-0x262f+-0x518+0xe6d*0x3;_0xff460a<_0x1905a7['length'];++_0xff460a)_0x1905a7[_0xff460a]=Math['min'](_0x565353,Math['max'](_0x1fbc81,_0x1905a7[_0xff460a]));return _0x1905a7;}}let im=0xa50+0xdfa*-0x2+-0xb*-0x19b;const id=(-0x2*-0x7f7+-0x1bc7+0x5ed*0x2)/(-0x49c+-0x25a7+-0x2*-0x15a1),du=new Float32Array(0xfe*0x26+-0x1*0x8+-0x25ab),rm=new Int32Array(du['buffer']);class $t{static['float2Half'](_0x941c27){du[-0x5c5*0x1+-0x600+-0x17*-0x83]=_0x941c27;const _0x18784e=rm[0xe30+-0xf*0x241+0x139f];let _0x586873=_0x18784e>>-0x29a+0x2f+0x27b&-0xa7*0x26+-0x1*-0xc766+-0x2e9c,_0xb82f39=_0x18784e>>-0x211d+0x445*-0x8+0x4351&-0x11ee+-0x43*0x41+0x2af0;const _0x438b57=_0x18784e>>0x12c8*0x2+0x1701+-0x3c7a&-0x2d1*-0x1+0x1690+-0x1862*0x1;return _0x438b57<-0x22e9+-0x16*-0x83+0x1*0x180e?_0x586873:_0x438b57>-0x20e7+0x1f0a+-0x1*-0x26b?(_0x586873|=0xd8f2+-0x1*-0x4033+0x31*-0x335,_0x586873|=(_0x438b57===-0x221a+-0x1e24+0x125*0x39?0x3e2+-0xc5*-0x17+0xdd*-0x19:0x235+-0x1dc4+-0x38*-0x7e)&&_0x18784e&-0xb0043a+-0x225d*0x494+0x1cd55fd,_0x586873):_0x438b57<0x1d6b*0x1+0x1d5e+-0x3a58?(_0xb82f39|=-0x247+-0x145e+0x3*0xa37,_0x586873|=(_0xb82f39>>-0x16*-0x11f+0xb48*0x1+-0x2380-_0x438b57)+(_0xb82f39>>0x231d+-0x3c*-0xa4+-0x491c-_0x438b57&-0x1*0xf4a+-0x1a2f+-0x297a*-0x1),_0x586873):(_0x586873|=_0x438b57-(0x1d3*0x1+-0xc65*0x2+0x1767)<<-0x2*0xdc6+0x32*0x41+-0x2*-0x772|_0xb82f39>>-0xa9*0x7+-0xa*0xe9+0xdba,_0x586873+=_0xb82f39&0xb99+0x3ce+0x36*-0x49,_0x586873);}static['float2Byte'+'s'](_0x599c0d,_0x5577c4,_0x25020d,_0x19a9c7){const _0x226c21=(-0x246f+0xf25*-0x1+0x3493)*_0x599c0d%(-0x1071+-0x132b+0x239d);if(_0x5577c4[_0x25020d+(0x218+0xbbb*0x1+-0xdd3)]=Math['round']((_0x599c0d%(-0x107*0x14+0x1334+0x5*0x45)-id*_0x226c21)*(-0x133d*0x2+-0x2f3*-0x8+0xfe1)),_0x19a9c7>-0xd53*0x1+-0x716*-0x1+-0x11*-0x5e){const _0x27ebde=(0x533*-0x3b+0x8*0x3dac+0x4362)*_0x599c0d%(-0x74*-0x2c+0x3ae+-0x1d1*0xd);if(_0x5577c4[_0x25020d+(-0x1*-0xafa+-0x978+-0xb*0x23)]=Math['round']((_0x226c21-id*_0x27ebde)*(-0x2*0xd6c+0x14a9+-0x1*-0x72e)),_0x19a9c7>-0x12f6*0x2+0x9*0x151+0x1a15){const _0x3cbee7=(-0x2*0xa4d61f+-0x5b1d0f+-0x2*-0x150e626)*_0x599c0d%(0x1*-0xfc9+0x221a+-0x1250);_0x5577c4[_0x25020d+(0x1710+-0x12a3*-0x1+-0x29b1)]=Math['round']((_0x27ebde-id*_0x3cbee7)*(0xd45+0x2*0x12ee+0x2*-0x1911)),_0x19a9c7>-0x1306*0x2+-0xd*-0x2fd+-0xca*0x1&&(_0x5577c4[_0x25020d+(0x2109+0x1*-0x2383+-0x5b*-0x7)]=Math['round'](_0x3cbee7*(-0xba7+-0x683+-0x1329*-0x1)));}}}static['float2Byte'+'sRange'](_0x38edfa,_0x25a9a7,_0x4cfdb1,_0x46e20f,_0x3c060b,_0x29f929){(_0x38edfa<_0x46e20f||_0x38edfa>_0x3c060b)&&im&&(im--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x38edfa=N['clamp']((_0x38edfa-_0x46e20f)/(_0x3c060b-_0x46e20f),-0x2*0x1e7+0x1c8d*-0x1+0x205b,0x2*0xe26+-0xc07*0x1+-0x1*0x1044),$t['float2Byte'+'s'](_0x38edfa,_0x25a9a7,_0x4cfdb1,_0x29f929);}static['float2RGBA'+'8'](_0x8bff0d,_0xab4588){du[0x32*-0x51+-0x1*-0x23f9+-0x1427]=_0x8bff0d;const _0x5569d4=rm[-0x1772+-0x16ce+0x1*0x2e40];_0xab4588['r']=(_0x5569d4>>0x2069+-0x1*-0x160e+-0x1c1*0x1f&0x786+-0x1d78+0x16f1)/(-0x1744+0x2a5*-0x1+-0xe*-0x1ec),_0xab4588['g']=(_0x5569d4>>-0xc9*0x13+-0x1277+0x2172&-0x6cf*-0x5+-0xb*0xb+-0x1f*0x10d)/(0x1237+0x56c+0x3c6*-0x6),_0xab4588['b']=(_0x5569d4>>0x1*-0x190+0x5*-0xce+0x59e&-0x1f55+0xe66*-0x1+-0x2eba*-0x1)/(0x293+-0xf9*0x11+-0x7*-0x223),_0xab4588['a']=(_0x5569d4&-0x1880+0x708+-0xa3*-0x1d)/(-0x1102*0x2+-0x1097+0x339a);}}const rt=class rt{constructor(_0x88260d=-0x56*-0x2b+-0x17*-0x12b+0xe1*-0x2f,_0x2f0dc7=0x2375+0x178a+0x1*-0x3aff,_0x50121d=0x2565+0x51b*0x3+-0x34b6){c(this,'x'),c(this,'y'),c(this,'z'),_0x88260d['length']===0x48f*0x6+-0x198d*-0x1+0x4*-0xd39?(this['x']=_0x88260d[0x23bd+-0xdf3+-0x2*0xae5],this['y']=_0x88260d[-0xc33+0x3*-0x461+-0xd*-0x1f3],this['z']=_0x88260d[-0x3a*0x9e+-0xb91*-0x3+-0x1*-0x11b]):(this['x']=_0x88260d,this['y']=_0x2f0dc7,this['z']=_0x50121d);}['add'](_0x1412bd){return this['x']+=_0x1412bd['x'],this['y']+=_0x1412bd['y'],this['z']+=_0x1412bd['z'],this;}['add2'](_0x256712,_0x2e0ef2){return this['x']=_0x256712['x']+_0x2e0ef2['x'],this['y']=_0x256712['y']+_0x2e0ef2['y'],this['z']=_0x256712['z']+_0x2e0ef2['z'],this;}['addScalar'](_0x4cef0b){return this['x']+=_0x4cef0b,this['y']+=_0x4cef0b,this['z']+=_0x4cef0b,this;}['addScaled'](_0x24b00a,_0x358a92){return this['x']+=_0x24b00a['x']*_0x358a92,this['y']+=_0x24b00a['y']*_0x358a92,this['z']+=_0x24b00a['z']*_0x358a92,this;}['clone'](){const _0x51a407=this['constructo'+'r'];return new _0x51a407(this['x'],this['y'],this['z']);}['copy'](_0x5ec3db){return this['x']=_0x5ec3db['x'],this['y']=_0x5ec3db['y'],this['z']=_0x5ec3db['z'],this;}['cross'](_0x3299ef,_0x54973f){const _0x3f8d49=_0x3299ef['x'],_0x1b47c3=_0x3299ef['y'],_0x34ee5a=_0x3299ef['z'],_0x4f7016=_0x54973f['x'],_0x5d2687=_0x54973f['y'],_0x178a04=_0x54973f['z'];return this['x']=_0x1b47c3*_0x178a04-_0x5d2687*_0x34ee5a,this['y']=_0x34ee5a*_0x4f7016-_0x178a04*_0x3f8d49,this['z']=_0x3f8d49*_0x5d2687-_0x4f7016*_0x1b47c3,this;}['distance'](_0x5c21ac){const _0x117100=this['x']-_0x5c21ac['x'],_0x3db825=this['y']-_0x5c21ac['y'],_0x36d534=this['z']-_0x5c21ac['z'];return Math['sqrt'](_0x117100*_0x117100+_0x3db825*_0x3db825+_0x36d534*_0x36d534);}['div'](_0x55a386){return this['x']/=_0x55a386['x'],this['y']/=_0x55a386['y'],this['z']/=_0x55a386['z'],this;}['div2'](_0x31a7c2,_0x1864e0){return this['x']=_0x31a7c2['x']/_0x1864e0['x'],this['y']=_0x31a7c2['y']/_0x1864e0['y'],this['z']=_0x31a7c2['z']/_0x1864e0['z'],this;}['divScalar'](_0x5cd463){return this['x']/=_0x5cd463,this['y']/=_0x5cd463,this['z']/=_0x5cd463,this;}['dot'](_0x117b61){return this['x']*_0x117b61['x']+this['y']*_0x117b61['y']+this['z']*_0x117b61['z'];}['equals'](_0x473b13){return this['x']===_0x473b13['x']&&this['y']===_0x473b13['y']&&this['z']===_0x473b13['z'];}['equalsAppr'+'ox'](_0x53cf7b,_0x5a9462=-0x1*-0x2511+0x137+-0x2648+0.000001){return Math['abs'](this['x']-_0x53cf7b['x'])<_0x5a9462&&Math['abs'](this['y']-_0x53cf7b['y'])<_0x5a9462&&Math['abs'](this['z']-_0x53cf7b['z'])<_0x5a9462;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0xe60d4d,_0x2e435b,_0x56b02c){return this['x']=_0xe60d4d['x']+_0x56b02c*(_0x2e435b['x']-_0xe60d4d['x']),this['y']=_0xe60d4d['y']+_0x56b02c*(_0x2e435b['y']-_0xe60d4d['y']),this['z']=_0xe60d4d['z']+_0x56b02c*(_0x2e435b['z']-_0xe60d4d['z']),this;}['mul'](_0x110d95){return this['x']*=_0x110d95['x'],this['y']*=_0x110d95['y'],this['z']*=_0x110d95['z'],this;}['mul2'](_0x507aa0,_0x64690){return this['x']=_0x507aa0['x']*_0x64690['x'],this['y']=_0x507aa0['y']*_0x64690['y'],this['z']=_0x507aa0['z']*_0x64690['z'],this;}['mulScalar'](_0x304edf){return this['x']*=_0x304edf,this['y']*=_0x304edf,this['z']*=_0x304edf,this;}['normalize'](_0x467aaf=this){const _0x5d28f7=_0x467aaf['x']*_0x467aaf['x']+_0x467aaf['y']*_0x467aaf['y']+_0x467aaf['z']*_0x467aaf['z'];if(_0x5d28f7>-0xf7e+0x1c48+-0x1*0xcca){const _0x138a55=(0x51*-0xf+0x1d2a+-0x186a)/Math['sqrt'](_0x5d28f7);this['x']=_0x467aaf['x']*_0x138a55,this['y']=_0x467aaf['y']*_0x138a55,this['z']=_0x467aaf['z']*_0x138a55;}return this;}['floor'](_0xbc040d=this){return this['x']=Math['floor'](_0xbc040d['x']),this['y']=Math['floor'](_0xbc040d['y']),this['z']=Math['floor'](_0xbc040d['z']),this;}['ceil'](_0x214382=this){return this['x']=Math['ceil'](_0x214382['x']),this['y']=Math['ceil'](_0x214382['y']),this['z']=Math['ceil'](_0x214382['z']),this;}['round'](_0x51f947=this){return this['x']=Math['round'](_0x51f947['x']),this['y']=Math['round'](_0x51f947['y']),this['z']=Math['round'](_0x51f947['z']),this;}['min'](_0x953dfe){return _0x953dfe['x']<this['x']&&(this['x']=_0x953dfe['x']),_0x953dfe['y']<this['y']&&(this['y']=_0x953dfe['y']),_0x953dfe['z']<this['z']&&(this['z']=_0x953dfe['z']),this;}['max'](_0x13f356){return _0x13f356['x']>this['x']&&(this['x']=_0x13f356['x']),_0x13f356['y']>this['y']&&(this['y']=_0x13f356['y']),_0x13f356['z']>this['z']&&(this['z']=_0x13f356['z']),this;}['project'](_0x321ad6){const _0x4e7ce9=this['x']*_0x321ad6['x']+this['y']*_0x321ad6['y']+this['z']*_0x321ad6['z'],_0x2a8eac=_0x321ad6['x']*_0x321ad6['x']+_0x321ad6['y']*_0x321ad6['y']+_0x321ad6['z']*_0x321ad6['z'],_0x3a848c=_0x4e7ce9/_0x2a8eac;return this['x']=_0x321ad6['x']*_0x3a848c,this['y']=_0x321ad6['y']*_0x3a848c,this['z']=_0x321ad6['z']*_0x3a848c,this;}['set'](_0x531e96,_0x4f583c,_0x4ef2c1){return this['x']=_0x531e96,this['y']=_0x4f583c,this['z']=_0x4ef2c1,this;}['sub'](_0x213785){return this['x']-=_0x213785['x'],this['y']-=_0x213785['y'],this['z']-=_0x213785['z'],this;}['sub2'](_0x2ec2d3,_0x4d8b6f){return this['x']=_0x2ec2d3['x']-_0x4d8b6f['x'],this['y']=_0x2ec2d3['y']-_0x4d8b6f['y'],this['z']=_0x2ec2d3['z']-_0x4d8b6f['z'],this;}['subScalar'](_0x34c26e){return this['x']-=_0x34c26e,this['y']-=_0x34c26e,this['z']-=_0x34c26e,this;}['fromArray'](_0x1caf78,_0x18ab57=-0x1e85+-0x1660+0x34e5){return this['x']=_0x1caf78[_0x18ab57]??this['x'],this['y']=_0x1caf78[_0x18ab57+(-0x77*0xf+0x1b8e+-0x1494)]??this['y'],this['z']=_0x1caf78[_0x18ab57+(-0x1c61+0x124d+0xa16)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x3508b1=[],_0x43c8c5=0x57c+-0x691*-0x2+0x1*-0x129e){return _0x3508b1[_0x43c8c5]=this['x'],_0x3508b1[_0x43c8c5+(-0x20a1*0x1+0xcc4+0x13de)]=this['y'],_0x3508b1[_0x43c8c5+(-0x23a3+-0x200d+0x43b2)]=this['z'],_0x3508b1;}};c(rt,'ZERO',Object['freeze'](new rt(-0xbcb+-0x3f2*0x1+0x3*0x53f,0x18e5+0x25e7+-0x3ecc,0x2dd*-0x9+0x1e55+-0x490))),c(rt,'HALF',Object['freeze'](new rt(-0x3*-0xc5b+-0x3*-0x397+0xd*-0x3ae+0.5,0x5*0x1b+-0x259b+0x2a*0xe2+0.5,0x61*0x1f+-0x2648+-0x1*-0x1a89+0.5))),c(rt,'ONE',Object['freeze'](new rt(-0x2*-0x4ca+0x1aa2*0x1+-0x2435,-0x769+0x1107+-0x17*0x6b,-0x2059+0xb99*-0x2+0x378c))),c(rt,'UP',Object['freeze'](new rt(-0x1*-0xcfc+-0x1*-0xef7+-0x1bf3,0x133*-0x1d+0x4e2+0x1*0x1de6,-0x13c4+0xa37+0x1e9*0x5))),c(rt,'DOWN',Object['freeze'](new rt(0x32e*-0x7+-0x29*0xce+0x1ba0*0x2,-(-0x86*0x3b+-0xa3*0x2+0x2029),0x1e08+0x1*-0xea2+0x2*-0x7b3))),c(rt,'RIGHT',Object['freeze'](new rt(0xe*-0x1f4+-0x119c+0x2cf5,0xd6c+-0x1743*0x1+0xe5*0xb,-0x13a6+0x10d9+0x2cd))),c(rt,'LEFT',Object['freeze'](new rt(-(-0x25*0xde+-0xa93*-0x2+-0xaf1*-0x1),0x2*-0xda+0x1816+-0x1662,-0x221b+0x7*-0x106+0x2945))),c(rt,'FORWARD',Object['freeze'](new rt(0x1cb0+0x491*-0x8+-0x8*-0xfb,-0x224*-0xc+-0x7d8+-0x8ec*0x2,-(-0x480+-0xc*0x20a+0x1cf9)))),c(rt,'BACK',Object['freeze'](new rt(0x10bb+-0x1d2d+0xc72,-0x1df*0x3+-0x2459+0x29f6,0x1*-0x4bd+0xbc0+-0x702)));let T=rt;const na=class na{constructor(){c(this,'data',new Float32Array(-0xdf1+-0x939+0x1*0x1733)),this['data'][-0xd9d+0x4*-0x83f+0x2e99]=this['data'][0x1*-0x2c9+-0xc2a+-0x3*-0x4fd]=this['data'][-0x1c*-0xe3+-0x3ad+-0x1*0x151f]=0xfcf+-0x1*0x2119+-0x1*-0x114b;}['clone'](){const _0x330450=this['constructo'+'r'];return new _0x330450()['copy'](this);}['copy'](_0x2727e1){const _0x493e50=_0x2727e1['data'],_0x55c8e4=this['data'];return _0x55c8e4[-0xa6b+0x4ef+0x12*0x4e]=_0x493e50[-0x1*-0xaae+-0x4*-0x341+-0x17b2],_0x55c8e4[0x107d+0x65*-0x19+0x3*-0x235]=_0x493e50[-0x1*-0x1426+0x7c3+-0xbc*0x26],_0x55c8e4[-0x2a7*-0x7+0x4*-0x51b+0x9*0x35]=_0x493e50[0x1291+-0x58c*0x2+-0x777],_0x55c8e4[0xf10+-0x162e+0x16d*0x5]=_0x493e50[-0x2*-0xf6a+0x9df+-0x28b0],_0x55c8e4[0x22bd+0x1*0x24d9+0x4792*-0x1]=_0x493e50[-0x23d0+0x1*0x22df+0xf5*0x1],_0x55c8e4[0x1*-0x1c24+0x26e7+0xabe*-0x1]=_0x493e50[0x168e+0x2*-0x75+-0x159f],_0x55c8e4[0x1*-0x1bf6+-0x2219+0x3e15]=_0x493e50[-0x1fb6+-0xb56*-0x2+0x910],_0x55c8e4[0xb2c+0x63d+0x1bd*-0xa]=_0x493e50[-0x1d*0x8b+0xd63*0x1+0x263],_0x55c8e4[0xe17+-0x1167+-0x1*-0x358]=_0x493e50[0xe6d*0x1+0x17e1+-0x2646],this;}['set'](_0x17d665){const _0x336f2a=this['data'];return _0x336f2a[-0x1ec7+0xdde+0x5a3*0x3]=_0x17d665[-0x3eb+0x1e80+0x1a95*-0x1],_0x336f2a[-0x12*0x4f+0xd*0x213+-0x1568]=_0x17d665[-0xbb*-0x7+0x1652*0x1+0x1*-0x1b6e],_0x336f2a[-0x10*-0x17b+0x2*-0x413+0x1c*-0x8e]=_0x17d665[0x18b9+-0xad*-0x7+-0x1d72],_0x336f2a[-0xfae+-0x3*0x1be+0x14eb]=_0x17d665[0x1*-0x1ee3+-0x2514+0x43fa],_0x336f2a[0xb00*0x1+-0x7c2+-0x33a]=_0x17d665[-0x1443+-0x1*0x398+0x17df],_0x336f2a[0x7fd+0x1*0x24f8+-0x2cf0]=_0x17d665[0x4*0x249+0xb*-0x335+-0x3*-0x8b8],_0x336f2a[0x174+0xc06+0x1*-0xd74]=_0x17d665[0x445*0x3+-0xc74+-0x55],_0x336f2a[-0x40*-0x8e+-0x21d1+-0x1a8]=_0x17d665[0x83*0xe+-0xec*-0x12+-0x17bb],_0x336f2a[-0x547+-0xeaf+0x6*0x355]=_0x17d665[0x2*-0xf51+0x1247*-0x1+0x30f1],this;}['getX'](_0x2cbea2=new T()){return _0x2cbea2['set'](this['data'][0x2*0xd34+0xf83+-0x29eb],this['data'][0xb43*0x2+-0x2e*-0x45+-0x22eb],this['data'][0x1*0x724+0x1*0x24cb+-0x5*0x8c9]);}['getY'](_0x5b62f6=new T()){return _0x5b62f6['set'](this['data'][-0x1d*-0x62+0xb3*0x2b+-0x3*0xdb8],this['data'][-0x24bd+0x12*-0x1af+-0x1*-0x430f],this['data'][0x2f*0x86+0xff2*-0x2+0x74f]);}['getZ'](_0x2fea2c=new T()){return _0x2fea2c['set'](this['data'][-0xfe2+0x3*0x962+-0xc3e],this['data'][-0xd12+-0x1*-0x4e4+0x835],this['data'][0x2c*-0x13+-0x3b*-0x26+-0x6*0xe9]);}['equals'](_0x380b62){const _0x526339=this['data'],_0x20c17f=_0x380b62['data'];return _0x526339[0x62e+-0x1*0x1e79+0x2b3*0x9]===_0x20c17f[0x2e*-0xc5+-0x752+-0x557*-0x8]&&_0x526339[0x71e+0x6f7*-0x1+-0x26]===_0x20c17f[-0x1b05+-0x1eb1+-0x24f*-0x19]&&_0x526339[0xf97*0x2+-0x3*0x617+-0x16f*0x9]===_0x20c17f[0x4*0xb7+-0xaee*0x1+0x814]&&_0x526339[0x1*0xe07+-0xb57*-0x3+-0x3009]===_0x20c17f[-0x6a*0x49+-0x3*-0x15b+-0x43*-0x64]&&_0x526339[0x1e32+0x1968+-0x3796]===_0x20c17f[0xc35+0xd31*-0x2+0xe31]&&_0x526339[-0x8*0x39+-0x2df*-0xa+-0x1ae9]===_0x20c17f[0x1d2f+0x832+-0x255c]&&_0x526339[-0x1*0x23cb+-0xd*-0x18d+-0x6*-0x29c]===_0x20c17f[0x1*-0x4d5+-0x72f*0x3+-0x1*-0x1a68]&&_0x526339[-0x10*0x21+-0x134*0x18+0x1ef7]===_0x20c17f[-0x3c8*-0x5+0x1997+-0x1*0x2c78]&&_0x526339[-0x310+0x1*-0x312+-0x3*-0x20e]===_0x20c17f[-0x5e3*0x6+0x2d7*0x4+0xa6*0x25];}['isIdentity'](){const _0x205637=this['data'];return _0x205637[-0x12e*0xd+0xb8+0x1*0xe9e]===-0x176a+-0x4af+0x1c1a&&_0x205637[0x1*0x1537+-0x19c7*-0x1+0x2efd*-0x1]===-0x13ea+0x922+0xac8&&_0x205637[0x8bd+0x1d8*-0x5+0x7d]===-0x18fa+-0xe0c+-0xde*-0x2d&&_0x205637[-0xa*-0x15d+-0x60f*0x1+-0x790]===0x2501+0x1c28+-0x4129*0x1&&_0x205637[0xb*-0x6b+-0x1400+0x189d*0x1]===-0x13bf+-0xa4*0x1a+-0x48d*-0x8&&_0x205637[0xde2+-0x11b6+-0x1*-0x3d9]===0x6be*0x1+0x16*0x33+-0xb20&&_0x205637[0x15d+0x696+0x1*-0x7ed]===0x1fd+-0x7c1*0x3+0xe*0x185&&_0x205637[-0x3*-0xa3d+-0x4*-0x63b+-0x379c]===-0x20f7+-0x1bf+0xb92*0x3&&_0x205637[0x8*0x308+-0x1*-0x4fd+-0x1*0x1d35]===-0xcbe+0x9f7+0x2c8*0x1;}['setIdentit'+'y'](){const _0x14af9b=this['data'];return _0x14af9b[-0x11a5*0x1+0x3b*-0x91+0x2b*0x130]=-0x4de+-0x125*-0x3+0xb8*0x2,_0x14af9b[0x745*-0x3+-0x185b+0x2e2b]=0xa*0x95+-0x11c3*0x1+-0x3*-0x3fb,_0x14af9b[-0x757+0x7a2+0x1*-0x49]=0x3d*0x95+0x18a8+-0x3c29,_0x14af9b[0x4c6*-0x4+0x4a8*0x2+0x9cb]=-0x97*-0x22+0x5aa+0x2*-0xcdc,_0x14af9b[-0x8ef*0x4+-0x7*0x3e5+0x3f03]=0x23c+-0x127b+0x82*0x20,_0x14af9b[-0x4a*0x2+0x105d+-0x2*0x7e2]=-0x1b94+-0x24b2+0x4046*0x1,_0x14af9b[-0x2226+-0x1*0xfbe+0x31ea]=-0x146b+0x50*-0x63+0x335b,_0x14af9b[-0x22be+-0x9*0x26c+0x3891]=-0x703*-0x2+-0xa3b+0x3cb*-0x1,_0x14af9b[-0xf76*0x1+-0x6b*0x1+0xfe9]=-0xa*0x167+-0x1155*0x1+0x1f5c,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x534740=this){const _0x48449d=_0x534740['data'],_0x21f148=this['data'];if(_0x48449d===_0x21f148){let _0x4d60a7;_0x4d60a7=_0x48449d[-0x278*0x1+-0x90+0x309],_0x21f148[-0x15*-0x77+-0x1*-0x22e1+0x3*-0xee1]=_0x48449d[-0x132e+-0x949+-0x2*-0xe3d],_0x21f148[-0x5*-0x1cd+-0x1*0x2483+0x1b85]=_0x4d60a7,_0x4d60a7=_0x48449d[-0x1*0x48d+-0x1*-0x786+-0x1*0x2f7],_0x21f148[-0x1396+0x460+0x1*0xf38]=_0x48449d[0xfc9*0x1+0x1667+-0x262a],_0x21f148[0x1ceb+-0x12a6+-0xa3f]=_0x4d60a7,_0x4d60a7=_0x48449d[-0x1*-0xa6b+-0xda2*-0x2+0x647*-0x6],_0x21f148[-0x19*0x2a+-0x139+-0x18*-0x39]=_0x48449d[0x2*-0xf11+0x263b*0x1+0x409*-0x2],_0x21f148[-0x12f5+-0x39*0x2e+0x1d3a]=_0x4d60a7;}else _0x21f148[-0xbeb+0x865+0xb*0x52]=_0x48449d[-0x792+-0x1aea+0x227c],_0x21f148[0x1b1b+-0xdb*0x25+0xe9*0x5]=_0x48449d[-0x65*-0x35+-0xea9+-0x63d],_0x21f148[-0x18c5+-0x1d*-0x115+-0x69a]=_0x48449d[-0x1ab6+-0x1cda+0x3796],_0x21f148[0xddc+0x1c*0x120+-0x2d59]=_0x48449d[0x12d8+0x8*-0x40a+-0xd79*-0x1],_0x21f148[-0x1402+-0x2a*0x4d+0xb*0x2f8]=_0x48449d[-0x3a*-0x76+-0x251+-0x1867],_0x21f148[0x1*-0x1223+-0x287*0x5+0x1ecb]=_0x48449d[-0x205f+0x7*0x4fc+-0x3a*0xb],_0x21f148[0x22c8+-0xe7f+-0x1443]=_0x48449d[0xf81+-0x14f0+0xc7*0x7],_0x21f148[0x1aea+0xa*-0x2ef+0x273]=_0x48449d[0x11e6+0x1fc2+0x61*-0x83],_0x21f148[0x25*-0x5+0x13*-0x148+-0x5*-0x505]=_0x48449d[0x8e+-0x7*0x1+-0x7f];return this;}['setFromMat'+'4'](_0x3d0171){const _0x35214=_0x3d0171['data'],_0x487b13=this['data'];return _0x487b13[0x148d+-0x8ba*-0x1+-0x1d47]=_0x35214[-0x1d*-0x121+-0xa4e*0x2+0x17*-0x87],_0x487b13[-0xfb*0x17+-0x3*-0x7db+-0x103*0x1]=_0x35214[0x7*-0x3b3+0x1867*0x1+0x17f],_0x487b13[-0x26*-0x82+0x1f0d+0x1*-0x3257]=_0x35214[0xd32+0x134a+-0x207a],_0x487b13[-0x4*-0x357+0x3*0x5f5+-0x1f38]=_0x35214[0x257c+-0x147a+-0x10fe],_0x487b13[-0x26e9+-0x248e*-0x1+0x1*0x25f]=_0x35214[0x12f*-0x13+-0x8d*0x36+0x3440],_0x487b13[0xf95+-0x55a+-0xa36]=_0x35214[-0x1*0x20b+0x1*-0x208c+-0x229d*-0x1],_0x487b13[0x11ae+0x1*0x1307+-0x24af]=_0x35214[-0xe17*-0x1+0x9d*-0x1f+-0x1*-0x4f4],_0x487b13[0x1c6e*0x1+0x1*0x99b+0xa*-0x3cd]=_0x35214[0x5e*-0x3a+0x8*-0x329+0x1*0x2e9d],_0x487b13[0x2008+0x1c8f+-0x3c8f]=_0x35214[0x1*0x153b+0x10e3*-0x2+0xc95],this;}['setFromQua'+'t'](_0x2b9dad){const _0x4d788e=_0x2b9dad['x'],_0x2a7070=_0x2b9dad['y'],_0x2cf13a=_0x2b9dad['z'],_0x1c14db=_0x2b9dad['w'],_0x5082dc=_0x4d788e+_0x4d788e,_0x80f165=_0x2a7070+_0x2a7070,_0x20b933=_0x2cf13a+_0x2cf13a,_0xcba574=_0x4d788e*_0x5082dc,_0x411648=_0x4d788e*_0x80f165,_0x37dc8e=_0x4d788e*_0x20b933,_0x2b9a2b=_0x2a7070*_0x80f165,_0x200b7b=_0x2a7070*_0x20b933,_0x4c6ef6=_0x2cf13a*_0x20b933,_0x1071b5=_0x1c14db*_0x5082dc,_0x22e58f=_0x1c14db*_0x80f165,_0x2e7c00=_0x1c14db*_0x20b933,_0x6fd5ca=this['data'];return _0x6fd5ca[0x58d+0xf2*0x4+-0x1*0x955]=0xc50+-0x1*0x1d59+0x110a-(_0x2b9a2b+_0x4c6ef6),_0x6fd5ca[-0xa4+-0x2ff*0x2+0x6a3]=_0x411648+_0x2e7c00,_0x6fd5ca[0x1684+-0x5cc+-0x10b6]=_0x37dc8e-_0x22e58f,_0x6fd5ca[-0x1480+0x3*0x289+0xce8]=_0x411648-_0x2e7c00,_0x6fd5ca[-0xa2*-0x2b+0x178e+-0x32c0]=-0x2193+-0xd7c*-0x1+-0x283*-0x8-(_0xcba574+_0x4c6ef6),_0x6fd5ca[0x1347+-0x974+-0x5*0x1f6]=_0x200b7b+_0x1071b5,_0x6fd5ca[0x13*0x6b+0x455*-0x9+0x1f12]=_0x37dc8e+_0x22e58f,_0x6fd5ca[0x25fe+0xf0d+-0x3504]=_0x200b7b-_0x1071b5,_0x6fd5ca[0x67f*-0x3+-0x1cc4+0x3049]=0x17b9+0x1*0xa13+-0x21cb-(_0xcba574+_0x2b9a2b),this;}['invertMat4'](_0x21309d){const _0x464649=_0x21309d['data'],_0x2e59f1=_0x464649[0x1b4*-0xf+0x2547+-0xbbb],_0xffa6f=_0x464649[-0xa61*-0x3+-0x1e63+-0xbf],_0x4bb446=_0x464649[-0x11*-0xda+0x1ca6+-0x2*0x158f],_0xed7d84=_0x464649[0x1*0x21b9+0xb*0x5+-0x21ec],_0x2b53e3=_0x464649[0xf7*0x28+0x134e+-0x39e1],_0x2ef426=_0x464649[0x7*-0x1a5+0x13ce+0x845*-0x1],_0x5eb128=_0x464649[0x961*0x3+-0xcc9*0x1+-0xf52],_0x4ba04f=_0x464649[0xb9b+-0xd4*-0x6+-0x108a*0x1],_0x3a6f62=_0x464649[-0x62e+0x2c*0xa3+0x1*-0x15cc],_0x240c97=_0x3a6f62*_0x2b53e3-_0x2ef426*_0x4ba04f,_0x16d745=-_0x3a6f62*_0xffa6f+_0x4bb446*_0x4ba04f,_0x304e54=_0x2ef426*_0xffa6f-_0x4bb446*_0x2b53e3,_0x1d7904=-_0x3a6f62*_0xed7d84+_0x2ef426*_0x5eb128,_0x2dc897=_0x3a6f62*_0x2e59f1-_0x4bb446*_0x5eb128,_0x11a390=-_0x2ef426*_0x2e59f1+_0x4bb446*_0xed7d84,_0x5f1004=_0x4ba04f*_0xed7d84-_0x2b53e3*_0x5eb128,_0x52dc75=-_0x4ba04f*_0x2e59f1+_0xffa6f*_0x5eb128,_0x4db93c=_0x2b53e3*_0x2e59f1-_0xffa6f*_0xed7d84,_0x26a88f=_0x2e59f1*_0x240c97+_0xffa6f*_0x1d7904+_0x4bb446*_0x5f1004;if(_0x26a88f===0x1*0x15dc+-0x1628+-0x1*-0x4c)this['setIdentit'+'y']();else{const _0x2fb984=(-0x165b+-0x107b+0x26d7)/_0x26a88f,_0x2d1370=this['data'];_0x2d1370[-0x3*-0xbdc+0x1264+-0x35f8]=_0x240c97*_0x2fb984,_0x2d1370[-0x1*-0x705+0x12f3+-0x19f7]=_0x16d745*_0x2fb984,_0x2d1370[0x11c5+-0x3de*-0x1+-0x15a1]=_0x304e54*_0x2fb984,_0x2d1370[-0xb89+0x10c6+0xdf*-0x6]=_0x1d7904*_0x2fb984,_0x2d1370[-0x3*-0xbf6+0x17f1+-0xfb*0x3d]=_0x2dc897*_0x2fb984,_0x2d1370[0x1522+0xac0+0x1fdd*-0x1]=_0x11a390*_0x2fb984,_0x2d1370[-0xf*-0x1d9+-0x2be+-0x18f3]=_0x5f1004*_0x2fb984,_0x2d1370[0x5*-0x15b+0x3*0x5b7+-0xa57]=_0x52dc75*_0x2fb984,_0x2d1370[0x976+-0x270b+0x1d9d]=_0x4db93c*_0x2fb984;}return this;}['transformV'+'ector'](_0x3143d9,_0x172860=new T()){const _0x40b921=this['data'],{x:_0x2ecbcc,y:_0x3223dc,z:_0x2e31da}=_0x3143d9;return _0x172860['x']=_0x2ecbcc*_0x40b921[-0x907+-0x1fbd+-0x2*-0x1462]+_0x3223dc*_0x40b921[-0x1a0e+-0xd*-0x1fd+0x38*0x1]+_0x2e31da*_0x40b921[0x4d5+0x6*-0x60d+0x1f7f],_0x172860['y']=_0x2ecbcc*_0x40b921[0x1706+0x1e71*-0x1+0x76c]+_0x3223dc*_0x40b921[-0x24e8+0x2325+0x1c7]+_0x2e31da*_0x40b921[0x1a13*-0x1+-0x2682+0x409c],_0x172860['z']=_0x2ecbcc*_0x40b921[-0x4*-0x191+0xeab*-0x1+0x869]+_0x3223dc*_0x40b921[-0x7*0x407+0x1*-0x7f+0x1*0x1cb5]+_0x2e31da*_0x40b921[-0x2151+0x1e03+0xe*0x3d],_0x172860;}};c(na,'IDENTITY',Object['freeze'](new na())),c(na,'ZERO',Object['freeze'](new na()['set']([0x2*-0xd3f+0x1ae8+-0x6a,-0x10c*-0x20+-0x18b8+-0x8c8,0x1d*0x68+-0x836*0x3+0xcda,0xc77*-0x1+0x14d4+-0x85d,-0x1e90+-0x990+0x358*0xc,-0x1*0x396+0x1*-0x5c7+0x95d,-0x11fb+-0x1c0a+0x21*0x165,0x7f*0x17+-0x19c0*0x1+0xe57,-0x3c+0x2*-0x784+0x2*0x7a2])));let js=na;const wt=class wt{constructor(_0x50b8e5=-0x7*0x73+-0x2*-0x10f7+0x3*-0xa43,_0x5151ab=-0xc2*0x2+0xdbd*-0x1+0xf41){c(this,'x'),c(this,'y'),_0x50b8e5['length']===-0x2615+0x42*0x71+-0x8f5*-0x1?(this['x']=_0x50b8e5[-0x202c+0x1fb9+0x73],this['y']=_0x50b8e5[0x200e*0x1+-0x29*0x3+-0x382*0x9]):(this['x']=_0x50b8e5,this['y']=_0x5151ab);}['add'](_0x3a7114){return this['x']+=_0x3a7114['x'],this['y']+=_0x3a7114['y'],this;}['add2'](_0xb86ca2,_0x50d5c1){return this['x']=_0xb86ca2['x']+_0x50d5c1['x'],this['y']=_0xb86ca2['y']+_0x50d5c1['y'],this;}['addScalar'](_0x6b9f7b){return this['x']+=_0x6b9f7b,this['y']+=_0x6b9f7b,this;}['addScaled'](_0x584c10,_0x117935){return this['x']+=_0x584c10['x']*_0x117935,this['y']+=_0x584c10['y']*_0x117935,this;}['clone'](){const _0x25fa4d=this['constructo'+'r'];return new _0x25fa4d(this['x'],this['y']);}['copy'](_0x2dd2da){return this['x']=_0x2dd2da['x'],this['y']=_0x2dd2da['y'],this;}['cross'](_0x290c7c){return this['x']*_0x290c7c['y']-this['y']*_0x290c7c['x'];}['distance'](_0x109694){const _0x10978f=this['x']-_0x109694['x'],_0x4a046c=this['y']-_0x109694['y'];return Math['sqrt'](_0x10978f*_0x10978f+_0x4a046c*_0x4a046c);}['div'](_0x38da11){return this['x']/=_0x38da11['x'],this['y']/=_0x38da11['y'],this;}['div2'](_0x372d01,_0x4e3b6c){return this['x']=_0x372d01['x']/_0x4e3b6c['x'],this['y']=_0x372d01['y']/_0x4e3b6c['y'],this;}['divScalar'](_0x557e1d){return this['x']/=_0x557e1d,this['y']/=_0x557e1d,this;}['dot'](_0x1f199a){return this['x']*_0x1f199a['x']+this['y']*_0x1f199a['y'];}['equals'](_0x252812){return this['x']===_0x252812['x']&&this['y']===_0x252812['y'];}['equalsAppr'+'ox'](_0x374709,_0x1acd18=-0x1*0x1543+-0x26ed+0x3*0x1410+0.000001){return Math['abs'](this['x']-_0x374709['x'])<_0x1acd18&&Math['abs'](this['y']-_0x374709['y'])<_0x1acd18;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x44267f,_0x201ab0,_0x546e1e){return this['x']=_0x44267f['x']+_0x546e1e*(_0x201ab0['x']-_0x44267f['x']),this['y']=_0x44267f['y']+_0x546e1e*(_0x201ab0['y']-_0x44267f['y']),this;}['mul'](_0x29c351){return this['x']*=_0x29c351['x'],this['y']*=_0x29c351['y'],this;}['mul2'](_0x4e7be0,_0x580f71){return this['x']=_0x4e7be0['x']*_0x580f71['x'],this['y']=_0x4e7be0['y']*_0x580f71['y'],this;}['mulScalar'](_0xfbddcf){return this['x']*=_0xfbddcf,this['y']*=_0xfbddcf,this;}['normalize'](_0x7782e9=this){const _0x41f1f3=_0x7782e9['x']*_0x7782e9['x']+_0x7782e9['y']*_0x7782e9['y'];if(_0x41f1f3>-0x184b+0x23ab+-0xb60){const _0x34caf6=(-0x1883*0x1+0xd93+-0xaf1*-0x1)/Math['sqrt'](_0x41f1f3);this['x']=_0x7782e9['x']*_0x34caf6,this['y']=_0x7782e9['y']*_0x34caf6;}return this;}['rotate'](_0x202578){const _0x49a092=Math['atan2'](this['x'],this['y'])+_0x202578*N['DEG_TO_RAD'],_0x292347=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x49a092)*_0x292347,this['y']=Math['cos'](_0x49a092)*_0x292347,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*N['RAD_TO_DEG'];}['angleTo'](_0x557642){return Math['atan2'](this['x']*_0x557642['y']+this['y']*_0x557642['x'],this['x']*_0x557642['x']+this['y']*_0x557642['y'])*N['RAD_TO_DEG'];}['floor'](_0x4eafac=this){return this['x']=Math['floor'](_0x4eafac['x']),this['y']=Math['floor'](_0x4eafac['y']),this;}['ceil'](_0x238b91=this){return this['x']=Math['ceil'](_0x238b91['x']),this['y']=Math['ceil'](_0x238b91['y']),this;}['round'](_0x500166=this){return this['x']=Math['round'](_0x500166['x']),this['y']=Math['round'](_0x500166['y']),this;}['min'](_0x36da2b){return _0x36da2b['x']<this['x']&&(this['x']=_0x36da2b['x']),_0x36da2b['y']<this['y']&&(this['y']=_0x36da2b['y']),this;}['max'](_0x162c9d){return _0x162c9d['x']>this['x']&&(this['x']=_0x162c9d['x']),_0x162c9d['y']>this['y']&&(this['y']=_0x162c9d['y']),this;}['set'](_0x170e6d,_0x5d2e23){return this['x']=_0x170e6d,this['y']=_0x5d2e23,this;}['sub'](_0x461088){return this['x']-=_0x461088['x'],this['y']-=_0x461088['y'],this;}['sub2'](_0x4f72c6,_0x166a27){return this['x']=_0x4f72c6['x']-_0x166a27['x'],this['y']=_0x4f72c6['y']-_0x166a27['y'],this;}['subScalar'](_0x5cc106){return this['x']-=_0x5cc106,this['y']-=_0x5cc106,this;}['fromArray'](_0x4a99de,_0x4b6632=0x147c+0x976+-0xef9*0x2){return this['x']=_0x4a99de[_0x4b6632]??this['x'],this['y']=_0x4a99de[_0x4b6632+(0x1813+0x1de4+0x1*-0x35f6)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x24aaeb=[],_0x58c69c=0x2330+0x16f8+0x3a28*-0x1){return _0x24aaeb[_0x58c69c]=this['x'],_0x24aaeb[_0x58c69c+(-0x312*-0x7+-0x2*-0x683+-0x2283)]=this['y'],_0x24aaeb;}static['angleRad'](_0x179fba,_0x10fa20){return Math['atan2'](_0x179fba['x']*_0x10fa20['y']-_0x179fba['y']*_0x10fa20['x'],_0x179fba['x']*_0x10fa20['x']+_0x179fba['y']*_0x10fa20['y']);}};c(wt,'ZERO',Object['freeze'](new wt(-0x946*-0x1+0x703+0x17b*-0xb,-0xb23+0xc69+-0xa3*0x2))),c(wt,'HALF',Object['freeze'](new wt(0x1e6+0x1525+-0x15b*0x11+0.5,0x9c+0x19bb+0x1a57*-0x1+0.5))),c(wt,'ONE',Object['freeze'](new wt(0x1*-0x247d+-0x37*0x65+-0x1*-0x3a31,-0x2*-0x4a3+-0x105e+-0x719*-0x1))),c(wt,'UP',Object['freeze'](new wt(-0x22f3+-0x67*0xe+-0x1*-0x2895,-0x19+-0x433+0x44d))),c(wt,'DOWN',Object['freeze'](new wt(-0x1816+0xfd*0xd+-0x7*-0x19b,-(-0x1d80+0x1*-0x136c+0x30ed)))),c(wt,'RIGHT',Object['freeze'](new wt(-0x4*0x241+0x3cb*-0x2+-0x27*-0x6d,0x19af+0x20a0+-0x3a4f))),c(wt,'LEFT',Object['freeze'](new wt(-(-0x11*0x167+-0xf55+0x272d),0x1c3b+-0x1*0x1917+0x6*-0x86)));let $=wt;const Yi=class Yi{constructor(_0x1a4dc9=0x1695+0x1774*-0x1+0xdf*0x1,_0x5622b4=-0x111a+0x864+-0x8b6*-0x1,_0x51f747=-0x1c1c+-0x4*0xfa+0x2004,_0x5b0317=-0x1f7c+-0x1962+0x38de){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x1a4dc9['length']===0x1e5+-0x1f99+-0x3b7*-0x8?(this['x']=_0x1a4dc9[-0x1*0x24e8+0x12ba+0x122e],this['y']=_0x1a4dc9[-0x1d90+0x22c6+0x1f*-0x2b],this['z']=_0x1a4dc9[-0x47f+-0x1*0x1d6+0x657],this['w']=_0x1a4dc9[-0x28d*0x1+-0xec3+0x377*0x5]):(this['x']=_0x1a4dc9,this['y']=_0x5622b4,this['z']=_0x51f747,this['w']=_0x5b0317);}['add'](_0x1726c3){return this['x']+=_0x1726c3['x'],this['y']+=_0x1726c3['y'],this['z']+=_0x1726c3['z'],this['w']+=_0x1726c3['w'],this;}['add2'](_0x5edca4,_0x1b78b5){return this['x']=_0x5edca4['x']+_0x1b78b5['x'],this['y']=_0x5edca4['y']+_0x1b78b5['y'],this['z']=_0x5edca4['z']+_0x1b78b5['z'],this['w']=_0x5edca4['w']+_0x1b78b5['w'],this;}['addScalar'](_0x3c9ac8){return this['x']+=_0x3c9ac8,this['y']+=_0x3c9ac8,this['z']+=_0x3c9ac8,this['w']+=_0x3c9ac8,this;}['addScaled'](_0x35d507,_0x5c0725){return this['x']+=_0x35d507['x']*_0x5c0725,this['y']+=_0x35d507['y']*_0x5c0725,this['z']+=_0x35d507['z']*_0x5c0725,this['w']+=_0x35d507['w']*_0x5c0725,this;}['clone'](){const _0x2480ff=this['constructo'+'r'];return new _0x2480ff(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x2736c0){return this['x']=_0x2736c0['x'],this['y']=_0x2736c0['y'],this['z']=_0x2736c0['z'],this['w']=_0x2736c0['w'],this;}['div'](_0x37d55e){return this['x']/=_0x37d55e['x'],this['y']/=_0x37d55e['y'],this['z']/=_0x37d55e['z'],this['w']/=_0x37d55e['w'],this;}['div2'](_0x74eb82,_0xad2abd){return this['x']=_0x74eb82['x']/_0xad2abd['x'],this['y']=_0x74eb82['y']/_0xad2abd['y'],this['z']=_0x74eb82['z']/_0xad2abd['z'],this['w']=_0x74eb82['w']/_0xad2abd['w'],this;}['divScalar'](_0x5da94c){return this['x']/=_0x5da94c,this['y']/=_0x5da94c,this['z']/=_0x5da94c,this['w']/=_0x5da94c,this;}['dot'](_0x94a131){return this['x']*_0x94a131['x']+this['y']*_0x94a131['y']+this['z']*_0x94a131['z']+this['w']*_0x94a131['w'];}['equals'](_0x2c3242){return this['x']===_0x2c3242['x']&&this['y']===_0x2c3242['y']&&this['z']===_0x2c3242['z']&&this['w']===_0x2c3242['w'];}['equalsAppr'+'ox'](_0x37958e,_0x206803=0x21cd+0x35f*-0x7+-0xa34+0.000001){return Math['abs'](this['x']-_0x37958e['x'])<_0x206803&&Math['abs'](this['y']-_0x37958e['y'])<_0x206803&&Math['abs'](this['z']-_0x37958e['z'])<_0x206803&&Math['abs'](this['w']-_0x37958e['w'])<_0x206803;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x45452f,_0x2ad5ad,_0x5c7e12){return this['x']=_0x45452f['x']+_0x5c7e12*(_0x2ad5ad['x']-_0x45452f['x']),this['y']=_0x45452f['y']+_0x5c7e12*(_0x2ad5ad['y']-_0x45452f['y']),this['z']=_0x45452f['z']+_0x5c7e12*(_0x2ad5ad['z']-_0x45452f['z']),this['w']=_0x45452f['w']+_0x5c7e12*(_0x2ad5ad['w']-_0x45452f['w']),this;}['mul'](_0xaccb28){return this['x']*=_0xaccb28['x'],this['y']*=_0xaccb28['y'],this['z']*=_0xaccb28['z'],this['w']*=_0xaccb28['w'],this;}['mul2'](_0x4218bc,_0x331536){return this['x']=_0x4218bc['x']*_0x331536['x'],this['y']=_0x4218bc['y']*_0x331536['y'],this['z']=_0x4218bc['z']*_0x331536['z'],this['w']=_0x4218bc['w']*_0x331536['w'],this;}['mulScalar'](_0x53a148){return this['x']*=_0x53a148,this['y']*=_0x53a148,this['z']*=_0x53a148,this['w']*=_0x53a148,this;}['normalize'](_0x200963=this){const _0x5002f8=_0x200963['x']*_0x200963['x']+_0x200963['y']*_0x200963['y']+_0x200963['z']*_0x200963['z']+_0x200963['w']*_0x200963['w'];if(_0x5002f8>-0xa76+0x2377*-0x1+0xf4f*0x3){const _0x43d151=(-0x69*0x34+0x1*0x1867+-0x312)/Math['sqrt'](_0x5002f8);this['x']=_0x200963['x']*_0x43d151,this['y']=_0x200963['y']*_0x43d151,this['z']=_0x200963['z']*_0x43d151,this['w']=_0x200963['w']*_0x43d151;}return this;}['floor'](_0x25ea03=this){return this['x']=Math['floor'](_0x25ea03['x']),this['y']=Math['floor'](_0x25ea03['y']),this['z']=Math['floor'](_0x25ea03['z']),this['w']=Math['floor'](_0x25ea03['w']),this;}['ceil'](_0x43a1bb=this){return this['x']=Math['ceil'](_0x43a1bb['x']),this['y']=Math['ceil'](_0x43a1bb['y']),this['z']=Math['ceil'](_0x43a1bb['z']),this['w']=Math['ceil'](_0x43a1bb['w']),this;}['round'](_0x47b8f6=this){return this['x']=Math['round'](_0x47b8f6['x']),this['y']=Math['round'](_0x47b8f6['y']),this['z']=Math['round'](_0x47b8f6['z']),this['w']=Math['round'](_0x47b8f6['w']),this;}['min'](_0x5f094d){return _0x5f094d['x']<this['x']&&(this['x']=_0x5f094d['x']),_0x5f094d['y']<this['y']&&(this['y']=_0x5f094d['y']),_0x5f094d['z']<this['z']&&(this['z']=_0x5f094d['z']),_0x5f094d['w']<this['w']&&(this['w']=_0x5f094d['w']),this;}['max'](_0x51b27b){return _0x51b27b['x']>this['x']&&(this['x']=_0x51b27b['x']),_0x51b27b['y']>this['y']&&(this['y']=_0x51b27b['y']),_0x51b27b['z']>this['z']&&(this['z']=_0x51b27b['z']),_0x51b27b['w']>this['w']&&(this['w']=_0x51b27b['w']),this;}['set'](_0x2bb760,_0x3ea32a,_0x4a5439,_0x55e3d5){return this['x']=_0x2bb760,this['y']=_0x3ea32a,this['z']=_0x4a5439,this['w']=_0x55e3d5,this;}['sub'](_0x25fe2d){return this['x']-=_0x25fe2d['x'],this['y']-=_0x25fe2d['y'],this['z']-=_0x25fe2d['z'],this['w']-=_0x25fe2d['w'],this;}['sub2'](_0x14991d,_0x1060ec){return this['x']=_0x14991d['x']-_0x1060ec['x'],this['y']=_0x14991d['y']-_0x1060ec['y'],this['z']=_0x14991d['z']-_0x1060ec['z'],this['w']=_0x14991d['w']-_0x1060ec['w'],this;}['subScalar'](_0x3c05c8){return this['x']-=_0x3c05c8,this['y']-=_0x3c05c8,this['z']-=_0x3c05c8,this['w']-=_0x3c05c8,this;}['fromArray'](_0x55993c,_0x43280f=0x1bd*-0xd+-0xe*0x1cd+-0x1*-0x2fcf){return this['x']=_0x55993c[_0x43280f]??this['x'],this['y']=_0x55993c[_0x43280f+(0x23d6+0x1ec4+-0x1633*0x3)]??this['y'],this['z']=_0x55993c[_0x43280f+(0x1*0xde+0x3*-0x2d9+-0x7*-0x119)]??this['z'],this['w']=_0x55993c[_0x43280f+(0x1763+-0xa79+0x9*-0x16f)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x4fdcac=[],_0x1fac1e=0xe76*0x2+-0x1d7f+-0x7*-0x15){return _0x4fdcac[_0x1fac1e]=this['x'],_0x4fdcac[_0x1fac1e+(0x71a+-0x47+0x369*-0x2)]=this['y'],_0x4fdcac[_0x1fac1e+(-0x4d5*0x2+-0x157*0x18+0x29d4)]=this['z'],_0x4fdcac[_0x1fac1e+(0x1765+0x1*0x1fde+0x3740*-0x1)]=this['w'],_0x4fdcac;}};c(Yi,'ZERO',Object['freeze'](new Yi(-0x10a7+-0x12c*0x1c+0x7*0x711,0xc9b+-0xb2b+-0x170,0x12a1+-0xd*-0x281+-0x332e,0x419*0x4+-0x1*0x19d1+-0x1*-0x96d))),c(Yi,'HALF',Object['freeze'](new Yi(-0x8b3+0x2e*-0x76+-0x5fb*-0x5+0.5,-0x1804+-0x2d6+-0xe*-0x1eb+0.5,0x2706+0x1300+-0x84a*0x7+0.5,0x242e+0x10*0x59+-0x29be+0.5))),c(Yi,'ONE',Object['freeze'](new Yi(0x9dd+-0x3e2+-0x2*0x2fd,-0x40d*-0x6+-0x42*-0x70+-0x352d,0x910+0xfdd+-0x27e*0xa,0x1bc6+-0x6b*0x3c+-0x2b1)));let Q=Yi;const Ua=new $(),us=new T(),Fs=new T(),Os=new T(),_l=new T(),Ur=class Ur{constructor(){c(this,'data',new Float32Array(0x5e9*0x1+-0x17*0x7f+0xb2*0x8)),this['data'][0x4cf*-0x1+-0x74e+-0xc1d*-0x1]=this['data'][0x26d+0x65f+-0x8c7]=this['data'][-0x23e1+-0x1bc5*-0x1+0x95*0xe]=this['data'][0x77*0x2b+-0x26b1+0x12c3]=-0x2*-0x2f6+-0x265f*-0x1+-0x2c4a;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x1170ca,_0xcdbe2f,_0x35f72d,_0x261b74,_0x45d76c){_0x45d76c?(_0x1170ca['x']=_0x261b74*Math['tan'](_0xcdbe2f*Math['PI']/(0xfb5*-0x2+-0x17*0x1ab+0x1*0x472f)),_0x1170ca['y']=_0x1170ca['x']/_0x35f72d):(_0x1170ca['y']=_0x261b74*Math['tan'](_0xcdbe2f*Math['PI']/(0xb1e+-0x21a8+0x17f2)),_0x1170ca['x']=_0x1170ca['y']*_0x35f72d);}['add2'](_0x56af7f,_0x583225){const _0x3d9d02=_0x56af7f['data'],_0x5f5760=_0x583225['data'],_0x52c39a=this['data'];return _0x52c39a[0x31*-0x25+-0x10d7*-0x2+0x1a99*-0x1]=_0x3d9d02[-0x16e3+0x23d7+-0x67a*0x2]+_0x5f5760[-0x7c8+-0x373+0xb3b],_0x52c39a[-0x1377+0x309+0x106f]=_0x3d9d02[0x243e+-0x224+-0x1*0x2219]+_0x5f5760[0x136*-0x1f+-0x2248+0x9*0x7fb],_0x52c39a[-0xaa2*-0x2+0x140a+-0xa53*0x4]=_0x3d9d02[0x8b4+-0x2*0x982+0xa52*0x1]+_0x5f5760[0x10*0x241+0x1f*0x10a+-0x404*0x11],_0x52c39a[0x3*-0x1b5+0xed7+-0x9b5]=_0x3d9d02[-0x4*-0xb+-0x2507+0x24de]+_0x5f5760[-0x1184*-0x2+0xef9*-0x1+-0x140c],_0x52c39a[0x5d8+-0x204f+0x1a7b]=_0x3d9d02[-0x1da6+0x6*0x17+-0x1d2*-0x10]+_0x5f5760[0xc5*-0xd+0x171*-0xc+-0x1b*-0x103],_0x52c39a[-0x3d*-0x33+0x10*-0xe2+0x1fe]=_0x3d9d02[0x33*0xa9+0x634+-0x13ed*0x2]+_0x5f5760[0x436+-0x20f5+0xe*0x20e],_0x52c39a[-0x607*-0x5+0x101c+-0x2e39*0x1]=_0x3d9d02[-0x1084+0x1e46+-0xdbc]+_0x5f5760[0x1d3d+0x1bbe+-0x1*0x38f5],_0x52c39a[0x931*0x3+0x158a+-0x188b*0x2]=_0x3d9d02[0x1b*-0x39+-0x2e5+-0x1*-0x8ef]+_0x5f5760[-0x59*0x41+0xbf5+0xaab],_0x52c39a[0x1b42+0xfab*0x2+-0x3a90]=_0x3d9d02[0x506*-0x2+0x1a0a+-0xff6]+_0x5f5760[-0x2f7*0x2+-0x1*0x6+0x5fc],_0x52c39a[0x3ce*0x1+-0x1a71+0x16ac]=_0x3d9d02[0x7*-0x11+0x2d*0x7f+-0x15d3]+_0x5f5760[0x255b*-0x1+-0x30+-0x41*-0x94],_0x52c39a[0x2686*0x1+-0xc1*0xf+-0x1b2d]=_0x3d9d02[-0x1db3+0x26e7*-0x1+0x44a4]+_0x5f5760[-0x2125+-0x1*-0x1e3a+0x2f5],_0x52c39a[0x1651+-0x2009+-0x341*-0x3]=_0x3d9d02[-0x1403*-0x1+0xefd*0x1+0x22f5*-0x1]+_0x5f5760[-0x7*-0x3a9+0x1085*0x1+-0x1*0x2a19],_0x52c39a[0x2507+-0x23f8+-0x103]=_0x3d9d02[0x1e+0x2503*-0x1+0x7*0x547]+_0x5f5760[-0x10bc+0x191a+0x8e*-0xf],_0x52c39a[0x1605+-0x12*0x133+-0x62]=_0x3d9d02[0x1db*0x3+-0x17b7+-0x1233*-0x1]+_0x5f5760[-0x24ed+-0x2361+0x485b],_0x52c39a[-0x2659*-0x1+0x1ff9*-0x1+-0x652]=_0x3d9d02[0x15*0xd2+0x145d+0x3*-0xc83]+_0x5f5760[-0x15b6+-0x3df+-0x19a3*-0x1],_0x52c39a[0xff3+0x500*0x7+0x2*-0x1972]=_0x3d9d02[-0x2651+0x1776+0xeea*0x1]+_0x5f5760[-0x75f+0xe7c+-0x70e],this;}['add'](_0x41e4df){return this['add2'](this,_0x41e4df);}['clone'](){const _0x1745cb=this['constructo'+'r'];return new _0x1745cb()['copy'](this);}['copy'](_0xf47c84){const _0x17299c=_0xf47c84['data'],_0x283a44=this['data'];return _0x283a44[-0x117c+0x17b1+-0x7*0xe3]=_0x17299c[-0x1cd0+-0x1892+0x3562],_0x283a44[0x133b*0x1+-0x1bc6+-0x4*-0x223]=_0x17299c[-0x445+-0x22bd+0xd01*0x3],_0x283a44[-0x170f+0x1f7c+-0x86b]=_0x17299c[-0xab4+-0x1588+0x203e],_0x283a44[-0x9*-0x1bf+-0x8ce*-0x1+-0x1882]=_0x17299c[-0xf*0x28f+-0x2*-0xd79+0xb72],_0x283a44[-0x11d3*-0x1+0xaca+0x1*-0x1c99]=_0x17299c[0x1*-0x11c3+0x4e*0x4d+-0x5af],_0x283a44[0x48*-0x1c+-0x11*0xc1+-0xb*-0x1e2]=_0x17299c[-0x17e1*-0x1+0x1*-0x21a3+0x9c7],_0x283a44[-0x1*0x1fe4+-0x4*0x599+-0x2*-0x1b27]=_0x17299c[-0xb18+0x245+-0x5*-0x1c5],_0x283a44[-0x170c+-0x5a1+0x1cb4]=_0x17299c[-0x25*-0xf+0x3*0x50b+-0x1145],_0x283a44[0x23b+-0xd9a+-0x1*-0xb67]=_0x17299c[-0x38*-0x81+0x2e*0xc2+-0x64e*0xa],_0x283a44[0x13f9*-0x1+0x1ff5+-0x85*0x17]=_0x17299c[0xc0d+0xaed+0x347*-0x7],_0x283a44[0x1c9c+-0xf3b+-0x1*0xd57]=_0x17299c[-0x18f7+-0xe2*-0xe+-0xd*-0xf9],_0x283a44[0x56*0x6a+-0x107f*-0x1+0x3b8*-0xe]=_0x17299c[-0x1a62+-0x124a+0x2cb7*0x1],_0x283a44[0xa16+0x1*-0x1c9c+-0x2*-0x949]=_0x17299c[0xa76+0x6*-0x33a+0x2*0x479],_0x283a44[-0x113*-0x19+-0x1*-0x6f3+-0x21c1]=_0x17299c[-0xeb3+-0x53c+0x9fe*0x2],_0x283a44[0x21f7+-0x139d+0x5*-0x2dc]=_0x17299c[-0x1cab+-0x5*-0x39e+-0x185*-0x7],_0x283a44[0x75d+-0x1*0xc91+-0x1*-0x543]=_0x17299c[0x67d+0x19*0x107+0x1*-0x201d],this;}['equals'](_0x105cf2){const _0x4f11c5=this['data'],_0x3cd9c7=_0x105cf2['data'];return _0x4f11c5[0x81e+-0x427+-0x5*0xcb]===_0x3cd9c7[0x5*0x6d7+0x1fa7*-0x1+-0x28c]&&_0x4f11c5[0x47*0x75+-0x17*0x24+-0x1d36]===_0x3cd9c7[0x5*-0x38d+-0x2*-0x189+0x1*0xeb0]&&_0x4f11c5[0x11e9+0x10*0x1cc+-0x3*0xf8d]===_0x3cd9c7[-0x9d*-0x1+0x1*-0x1559+0x426*0x5]&&_0x4f11c5[-0x103*0x25+-0xdc0+0x3332]===_0x3cd9c7[0x821+0xce9*0x1+0x1*-0x1507]&&_0x4f11c5[-0x1691+0x1322+-0x1*-0x373]===_0x3cd9c7[0x66a*-0x2+-0x4*0x59d+-0x8d3*-0x4]&&_0x4f11c5[0x49*0x37+-0x1*0x77b+0x5*-0x1a3]===_0x3cd9c7[-0x1d09+0x16c8+-0x1*-0x646]&&_0x4f11c5[0x2*0x382+0x2b*-0xd6+0x1cf4]===_0x3cd9c7[0xa68+0x1*-0x1924+-0x761*-0x2]&&_0x4f11c5[-0x115b+0x11*-0x13b+-0x109*-0x25]===_0x3cd9c7[0xaa6+0x232b+-0x2dca]&&_0x4f11c5[-0x2162+-0x1267*0x1+0x33d1]===_0x3cd9c7[0x2*0x101f+0x301*-0x2+-0x1a34]&&_0x4f11c5[-0x767+0xa1*0x2b+-0x15*0xef]===_0x3cd9c7[-0x363+-0x38c+-0x1be*-0x4]&&_0x4f11c5[0x1*0x298+-0x5bf+0x331]===_0x3cd9c7[0x1aa2+-0xc15+-0xe83]&&_0x4f11c5[0x1a17+0x17a2+-0x31ae]===_0x3cd9c7[-0x12cc+-0x1*-0x2084+-0x1*0xdad]&&_0x4f11c5[0x19*0x7f+-0x1185+0x52a*0x1]===_0x3cd9c7[-0x1057*-0x2+-0x1ce3+-0x3bf*0x1]&&_0x4f11c5[0x1353+0xd7f+-0x20c5*0x1]===_0x3cd9c7[0x4b7+-0x2*0x125e+0xa*0x335]&&_0x4f11c5[-0x960*-0x1+-0x25a4+0x1c52]===_0x3cd9c7[-0x3c6+-0x151a+-0x1*-0x18ee]&&_0x4f11c5[0x13f+-0x28*0x18+-0xa4*-0x4]===_0x3cd9c7[-0x4f*-0xb+0x11a4+0x37f*-0x6];}['isIdentity'](){const _0x1fc8c4=this['data'];return _0x1fc8c4[0x10ae*0x1+-0x2014*0x1+0x291*0x6]===-0xdbe+0x183+0x30f*0x4&&_0x1fc8c4[0x622+-0xcee*0x2+0x13bb]===0x1*-0x99e+0x1607*0x1+0x423*-0x3&&_0x1fc8c4[-0x7*0x373+0xc5+0x92*0x29]===0x1*-0x2509+-0xbb6*-0x1+0x3*0x871&&_0x1fc8c4[-0x10f+-0x1*0x261f+0x2731]===0x3e*-0x53+0x266f*-0x1+0x3a89&&_0x1fc8c4[0x1*-0x163a+-0x23dc+-0x135e*-0x3]===-0x17ac+0x1*-0x1e3a+0x35e6&&_0x1fc8c4[0xd*-0xfb+-0x1*-0x1243+-0x3*0x1d5]===0xa*0x43+0x2*-0x779+0x1c3*0x7&&_0x1fc8c4[0x1755+-0x3aa+-0x13a5]===-0xbed+-0x233*0xa+0x21eb&&_0x1fc8c4[-0x3*0x789+-0x3b0+0x463*0x6]===-0x85+-0x1a32*0x1+0x1ab7&&_0x1fc8c4[-0x12d*-0x1+-0x29*-0xd5+-0x2*0x11a1]===0x3*-0x21d+0x14f4+-0x81*0x1d&&_0x1fc8c4[0x26*-0x7c+-0x1020+0x2291]===-0x20e0+-0x1c3a+0x3d1a&&_0x1fc8c4[0xc1*-0x13+0xe3*0xf+0x110]===-0xf5c+0x2*-0x1115+0x1*0x3187&&_0x1fc8c4[-0x147f+0x1b65+-0x6db]===0x15*-0x176+0x3*0xc8d+-0x6f9&&_0x1fc8c4[-0x49*-0x3f+-0x2*-0xa7b+-0x26e1]===0x1f94+0xf21+-0x2eb5*0x1&&_0x1fc8c4[0x2196+-0x26b9+0x530]===0xa24+0x63*-0x2b+0x67d&&_0x1fc8c4[0x1*0x1b64+-0x5*0x9d+-0x1845*0x1]===-0x529*0x3+-0x1005*-0x2+-0x108f&&_0x1fc8c4[-0x61*0x53+0x2582+0x10*-0x60]===-0x1169+0x23b3+0x1*-0x1249;}['mul2'](_0x3b2ca4,_0x50416d){const _0x2ef26c=_0x3b2ca4['data'],_0x4abc4c=_0x50416d['data'],_0x118b53=this['data'],_0x5842b7=_0x2ef26c[-0xf6a+0x1*-0x14ea+0x2454],_0x160738=_0x2ef26c[0x2cd+-0x12ac+0xfe0],_0x577bf2=_0x2ef26c[0x98b+0xfde+-0x1967],_0x4d243f=_0x2ef26c[-0x1768+-0x103*0x1f+0xdb2*0x4],_0x37f145=_0x2ef26c[0x1fa*0x3+-0xd2*0x1d+0x11e0*0x1],_0x36d70f=_0x2ef26c[-0xbb8+-0x61a+0x11d7],_0x4ff216=_0x2ef26c[0xc13+-0x97a+-0x293*0x1],_0x3e23d6=_0x2ef26c[0x1cec+0x5d*0x42+-0x1*0x34df],_0xe5b82=_0x2ef26c[0x1204+0x1*0x22db+-0x1*0x34d7],_0x4916c5=_0x2ef26c[0x1767+-0x481+-0x12dd],_0x313bc5=_0x2ef26c[0x53*0x26+-0xba8+-0xa0],_0x2ba6d5=_0x2ef26c[0xdd3*-0x2+0x695*-0x5+0x3c9a],_0x14721a=_0x2ef26c[-0x2698+-0x2*0x1381+0x4da6],_0x50ad57=_0x2ef26c[-0x5*0x352+0x1b10+-0x1*0xa69],_0x467713=_0x2ef26c[0x180c+0xf1*0x18+-0x1*0x2e96],_0x30474a=_0x2ef26c[0x1*-0x2231+-0x271*0x7+0x3357];let _0x149d9e,_0x265a0d,_0x410f50,_0x4a44ea;return _0x149d9e=_0x4abc4c[0xe8+-0x3d*-0x95+-0x2469],_0x265a0d=_0x4abc4c[-0x198e*-0x1+0x367*-0x1+-0x17a*0xf],_0x410f50=_0x4abc4c[0x1ea+-0x18e5*-0x1+-0x1acd],_0x4a44ea=_0x4abc4c[-0x251+-0x1e3b*0x1+0x208f],_0x118b53[-0x17b9+0x1*0x179c+-0x1d*-0x1]=_0x5842b7*_0x149d9e+_0x37f145*_0x265a0d+_0xe5b82*_0x410f50+_0x14721a*_0x4a44ea,_0x118b53[-0x1*0x13b4+-0x4*-0x817+-0x4f*0x29]=_0x160738*_0x149d9e+_0x36d70f*_0x265a0d+_0x4916c5*_0x410f50+_0x50ad57*_0x4a44ea,_0x118b53[0x4fd*-0x3+0x6f0+-0x79*-0x11]=_0x577bf2*_0x149d9e+_0x4ff216*_0x265a0d+_0x313bc5*_0x410f50+_0x467713*_0x4a44ea,_0x118b53[-0x1b23+0x7*0xd+0x1acb*0x1]=_0x4d243f*_0x149d9e+_0x3e23d6*_0x265a0d+_0x2ba6d5*_0x410f50+_0x30474a*_0x4a44ea,_0x149d9e=_0x4abc4c[0x2062+0x71d*-0x3+-0xb07],_0x265a0d=_0x4abc4c[0x1950+-0x5*0x772+-0xbef*-0x1],_0x410f50=_0x4abc4c[0x70a+-0xe7d*0x1+0x1*0x779],_0x4a44ea=_0x4abc4c[-0x1*-0x1c61+0x12cd+0x2f27*-0x1],_0x118b53[-0x1*-0xcff+0x12d1+-0x1fcc]=_0x5842b7*_0x149d9e+_0x37f145*_0x265a0d+_0xe5b82*_0x410f50+_0x14721a*_0x4a44ea,_0x118b53[-0x2287+-0x11f*0x1f+0x454d]=_0x160738*_0x149d9e+_0x36d70f*_0x265a0d+_0x4916c5*_0x410f50+_0x50ad57*_0x4a44ea,_0x118b53[0x6*-0x199+-0x2e*0x89+-0x151*-0x1a]=_0x577bf2*_0x149d9e+_0x4ff216*_0x265a0d+_0x313bc5*_0x410f50+_0x467713*_0x4a44ea,_0x118b53[-0x74f*-0x3+0x1*0x2330+-0x3916]=_0x4d243f*_0x149d9e+_0x3e23d6*_0x265a0d+_0x2ba6d5*_0x410f50+_0x30474a*_0x4a44ea,_0x149d9e=_0x4abc4c[-0x1afa+-0x1f89+0x3a8b],_0x265a0d=_0x4abc4c[-0x1fef+-0x1*0xb7b+0x2b73],_0x410f50=_0x4abc4c[0xb42+0x15a0+-0x20d8],_0x4a44ea=_0x4abc4c[-0xc30+-0x1*-0x1163+-0x528],_0x118b53[-0x1330+0x20bc+-0xa*0x15a]=_0x5842b7*_0x149d9e+_0x37f145*_0x265a0d+_0xe5b82*_0x410f50+_0x14721a*_0x4a44ea,_0x118b53[0x5dd*-0x5+-0xe*0x235+0x3c40]=_0x160738*_0x149d9e+_0x36d70f*_0x265a0d+_0x4916c5*_0x410f50+_0x50ad57*_0x4a44ea,_0x118b53[-0x17ab+0x6e5*-0x3+-0x3b3*-0xc]=_0x577bf2*_0x149d9e+_0x4ff216*_0x265a0d+_0x313bc5*_0x410f50+_0x467713*_0x4a44ea,_0x118b53[-0xc94+-0x26*-0x8f+-0x89b*0x1]=_0x4d243f*_0x149d9e+_0x3e23d6*_0x265a0d+_0x2ba6d5*_0x410f50+_0x30474a*_0x4a44ea,_0x149d9e=_0x4abc4c[-0x841*-0x1+-0x15e1+-0x32*-0x46],_0x265a0d=_0x4abc4c[0x36e*0x3+-0x5b6*-0x2+0x455*-0x5],_0x410f50=_0x4abc4c[-0xca5*-0x1+-0x218c+0x14f5],_0x4a44ea=_0x4abc4c[0x2100+-0x1*0x342+0x1daf*-0x1],_0x118b53[0x1102+-0xc81+-0x475]=_0x5842b7*_0x149d9e+_0x37f145*_0x265a0d+_0xe5b82*_0x410f50+_0x14721a*_0x4a44ea,_0x118b53[-0x1*-0xf75+-0x149+-0xe1f]=_0x160738*_0x149d9e+_0x36d70f*_0x265a0d+_0x4916c5*_0x410f50+_0x50ad57*_0x4a44ea,_0x118b53[-0xd7c+-0x1a6+0xa2*0x18]=_0x577bf2*_0x149d9e+_0x4ff216*_0x265a0d+_0x313bc5*_0x410f50+_0x467713*_0x4a44ea,_0x118b53[-0x1937+-0x2539+0x1*0x3e7f]=_0x4d243f*_0x149d9e+_0x3e23d6*_0x265a0d+_0x2ba6d5*_0x410f50+_0x30474a*_0x4a44ea,this;}['mulAffine2'](_0x1ca25e,_0x53ce31){const _0x42da0e=_0x1ca25e['data'],_0x20b362=_0x53ce31['data'],_0x1f401a=this['data'],_0x5e67fc=_0x42da0e[-0x24f9+-0x3*0x113+-0x126*-0x23],_0x106cca=_0x42da0e[0x129f+0x95b+-0x1bf9],_0x31435c=_0x42da0e[0x127*-0x17+-0x966+0x23e9],_0xf47a4d=_0x42da0e[0x96b+0x3d*0x99+-0x24b*0x14],_0x226e45=_0x42da0e[-0x1d4d+-0x994*-0x1+0x13be],_0x255905=_0x42da0e[0x2*0x359+0x10ba+-0x1766],_0x5c879a=_0x42da0e[0x313*-0xc+-0x1afe+0x3fea],_0x45357a=_0x42da0e[0x21ee+-0x10a*-0x7+0x292b*-0x1],_0x3ea5de=_0x42da0e[0x1*-0x1c4e+0x1dae+0xab*-0x2],_0x394213=_0x42da0e[-0x1591*0x1+0x252d+-0xf90],_0x4b3acd=_0x42da0e[-0x1756+0x1f0a+0x1*-0x7a7],_0x1656b8=_0x42da0e[-0x2*0x909+-0x5*-0x13a+-0x1*-0xbfe];let _0x398ac9,_0x2cec28,_0xd90ba8;return _0x398ac9=_0x20b362[-0x11*0x106+0xdb4+0x1d9*0x2],_0x2cec28=_0x20b362[-0x3*-0xc68+-0x2*0xb71+-0xe55],_0xd90ba8=_0x20b362[0x1*-0xc83+0x250b+-0x1886],_0x1f401a[0x1bed+-0x1a76+-0x177]=_0x5e67fc*_0x398ac9+_0xf47a4d*_0x2cec28+_0x5c879a*_0xd90ba8,_0x1f401a[-0x5a*-0x61+0x223d+-0x4456]=_0x106cca*_0x398ac9+_0x226e45*_0x2cec28+_0x45357a*_0xd90ba8,_0x1f401a[-0x14*0x139+0x5*-0x4bd+0x100d*0x3]=_0x31435c*_0x398ac9+_0x255905*_0x2cec28+_0x3ea5de*_0xd90ba8,_0x1f401a[0x78e+-0x494+-0x2f7]=0x1dfe+0x6e2+-0x24e0,_0x398ac9=_0x20b362[0x16e*0x13+-0x1*0x1705+0x97*-0x7],_0x2cec28=_0x20b362[-0x26f5*0x1+0x2*0x45+-0x28*-0xf6],_0xd90ba8=_0x20b362[0x720+-0xfb*0x8+0xbe],_0x1f401a[-0x1*0x917+0x1287*-0x1+0x1ba2]=_0x5e67fc*_0x398ac9+_0xf47a4d*_0x2cec28+_0x5c879a*_0xd90ba8,_0x1f401a[-0x8*0x41+0x1e3d+-0x1c30]=_0x106cca*_0x398ac9+_0x226e45*_0x2cec28+_0x45357a*_0xd90ba8,_0x1f401a[0x5*0x566+0x426+0x472*-0x7]=_0x31435c*_0x398ac9+_0x255905*_0x2cec28+_0x3ea5de*_0xd90ba8,_0x1f401a[0xc49+0x191*-0xe+-0x1*-0x9ac]=0x296*-0xb+-0x7d*0x4+0x1e66,_0x398ac9=_0x20b362[0x23f5+0xc24+0x73*-0x6b],_0x2cec28=_0x20b362[-0x2133+-0x31d*-0x1+0x1e1f],_0xd90ba8=_0x20b362[0x201*-0x9+-0x4c5*0x1+0x16d8],_0x1f401a[0x4*0x1ba+0x1f7d+-0xa1*0x3d]=_0x5e67fc*_0x398ac9+_0xf47a4d*_0x2cec28+_0x5c879a*_0xd90ba8,_0x1f401a[0x233*0xd+0x128a+-0x224*0x16]=_0x106cca*_0x398ac9+_0x226e45*_0x2cec28+_0x45357a*_0xd90ba8,_0x1f401a[0xbc3*-0x1+0x4*-0x472+0x1*0x1d95]=_0x31435c*_0x398ac9+_0x255905*_0x2cec28+_0x3ea5de*_0xd90ba8,_0x1f401a[-0x11*-0x112+0x17b8+-0x29df]=0x32*-0xa3+0xd91+-0x3*-0x617,_0x398ac9=_0x20b362[0xa20+-0x1663+0xc4f],_0x2cec28=_0x20b362[0x1622+0x1343*-0x1+-0x2d2],_0xd90ba8=_0x20b362[-0x1*0x15d0+-0x6e2+0x1cc0],_0x1f401a[0x10*-0x7+-0x72c+0x46*0x1c]=_0x5e67fc*_0x398ac9+_0xf47a4d*_0x2cec28+_0x5c879a*_0xd90ba8+_0x394213,_0x1f401a[-0x112*-0x2+0x1a*0xda+-0x183b]=_0x106cca*_0x398ac9+_0x226e45*_0x2cec28+_0x45357a*_0xd90ba8+_0x4b3acd,_0x1f401a[-0x252e+-0x2*0xe0e+0x4158]=_0x31435c*_0x398ac9+_0x255905*_0x2cec28+_0x3ea5de*_0xd90ba8+_0x1656b8,_0x1f401a[-0x1*-0x2565+-0xd*-0x1c5+-0x3c57]=0x1*-0x1cdb+0x12b*-0xb+-0x29b5*-0x1,this;}['mul'](_0x5ed124){return this['mul2'](this,_0x5ed124);}['transformP'+'oint'](_0xd6f9b6,_0x37f195=new T()){const _0x4dc736=this['data'],{x:_0x302152,y:_0xda0510,z:_0x202bac}=_0xd6f9b6;return _0x37f195['x']=_0x302152*_0x4dc736[0x17*0x15b+-0x8e4+0x32f*-0x7]+_0xda0510*_0x4dc736[0x1*0x1d49+-0x2495+0x6*0x138]+_0x202bac*_0x4dc736[0x79*-0x4f+-0xf*-0xa6+0x1ba5]+_0x4dc736[-0xd52+-0x774+0x14d2],_0x37f195['y']=_0x302152*_0x4dc736[0xd5*-0xd+0x13d*-0x1c+-0x2*-0x16bf]+_0xda0510*_0x4dc736[-0x3*0x8b4+0x1*0x206c+-0x219*0x3]+_0x202bac*_0x4dc736[0x16*0xd0+0x25d1+0x34*-0x112]+_0x4dc736[-0x2ae+-0x1fc*0xc+-0x1a8b*-0x1],_0x37f195['z']=_0x302152*_0x4dc736[-0x1743+-0x26ae*-0x1+-0xf*0x107]+_0xda0510*_0x4dc736[-0x4*0x8d4+0x31*0x49+0x155d]+_0x202bac*_0x4dc736[-0x1063+-0x11a+0x7*0x281]+_0x4dc736[0x4*0x41+0x5*0x2c+-0x2*0xe9],_0x37f195;}['transformV'+'ector'](_0x2c5e09,_0x26b557=new T()){const _0x750471=this['data'],{x:_0xbf8815,y:_0x1e66d4,z:_0x4d0378}=_0x2c5e09;return _0x26b557['x']=_0xbf8815*_0x750471[-0x2a+0x3*0x6bd+-0x140d]+_0x1e66d4*_0x750471[0xf86+0x1*0xb4d+-0x1acf]+_0x4d0378*_0x750471[0x135*-0x1d+0xa5*0x33+0x22a],_0x26b557['y']=_0xbf8815*_0x750471[0x2426+-0x2008+-0x41d]+_0x1e66d4*_0x750471[0x138c+0x4be+-0x3*0x817]+_0x4d0378*_0x750471[0x1481+-0x3b*0x49+-0x3a5],_0x26b557['z']=_0xbf8815*_0x750471[-0x259*0x3+0x3*-0x425+0x4*0x4df]+_0x1e66d4*_0x750471[-0x2406+0x16f7+0xd15]+_0x4d0378*_0x750471[0x3*0x902+0x2636+-0x4132],_0x26b557;}['transformV'+'ec4'](_0x3666d3,_0x170815=new Q()){const _0x15dd4a=this['data'],{x:_0x2c13bd,y:_0xc9135,z:_0x3f025,w:_0x5d0364}=_0x3666d3;return _0x170815['x']=_0x2c13bd*_0x15dd4a[0x2*-0x566+0x1765+-0x3*0x433]+_0xc9135*_0x15dd4a[-0x1*0x151+-0x641*0x6+0x26db]+_0x3f025*_0x15dd4a[-0x2*0xc5f+-0x7e3*-0x1+0xb*0x189]+_0x5d0364*_0x15dd4a[0x20e9+0x1f9f*0x1+-0x407c],_0x170815['y']=_0x2c13bd*_0x15dd4a[0x1*0x8c6+-0x137*-0x19+-0x6*0x686]+_0xc9135*_0x15dd4a[0x1*0x20e3+0x1e97+-0x3*0x1527]+_0x3f025*_0x15dd4a[-0xf3b*0x1+-0x1*0x1174+0x20b8]+_0x5d0364*_0x15dd4a[-0x911*-0x1+0x11f6+-0x1*0x1afa],_0x170815['z']=_0x2c13bd*_0x15dd4a[-0x11*-0x83+-0x1fc+0x1*-0x6b5]+_0xc9135*_0x15dd4a[0x170d+-0x66a*0x1+0x109d*-0x1]+_0x3f025*_0x15dd4a[0x1ed2+0x1b11*0x1+-0x39d9]+_0x5d0364*_0x15dd4a[0x1*0xaed+0x1*-0x156+0x989*-0x1],_0x170815['w']=_0x2c13bd*_0x15dd4a[-0x3f1*-0x7+0xd90+-0x2*0x1492]+_0xc9135*_0x15dd4a[-0x838+-0x2608+-0x435*-0xb]+_0x3f025*_0x15dd4a[-0x1700+0x1ed6+-0x3*0x299]+_0x5d0364*_0x15dd4a[0x31a+0xfa0+-0x12ab],_0x170815;}['setLookAt'](_0xafeaa,_0x41b651,_0x5629bb){Os['sub2'](_0xafeaa,_0x41b651)['normalize'](),Fs['copy'](_0x5629bb)['normalize'](),us['cross'](Fs,Os)['normalize'](),Fs['cross'](Os,us);const _0x20b19e=this['data'];return _0x20b19e[-0x3*0x2d1+-0x1*0x949+-0x38c*-0x5]=us['x'],_0x20b19e[0x2275*0x1+0x24a8+0xc*-0x5ed]=us['y'],_0x20b19e[-0x11ab*-0x1+-0x1c1*0x9+0x18*-0x14]=us['z'],_0x20b19e[0x985*-0x1+0x19ed*-0x1+0x2375]=-0x1*0x2159+-0x835+0x298e,_0x20b19e[-0x71*0x7+-0x36e*0xb+-0x1*-0x28d5]=Fs['x'],_0x20b19e[-0x12a1+0xe72+0x10d*0x4]=Fs['y'],_0x20b19e[0xd*-0x277+0x1283+0xd8e]=Fs['z'],_0x20b19e[0x1548+-0x7db*-0x3+0x2cd2*-0x1]=-0x684*-0x3+-0x206f+0xce3,_0x20b19e[-0x166a+0x18d2+0x26*-0x10]=Os['x'],_0x20b19e[-0xe7a*0x2+0x18bb+0x442]=Os['y'],_0x20b19e[-0x1*0xab6+0x1dc9*-0x1+0x2889]=Os['z'],_0x20b19e[0x2618+-0x103e+0x3*-0x745]=-0x1*-0x2b6+0x25bf+-0x2875,_0x20b19e[0x9ba+0x118+-0xac6]=_0xafeaa['x'],_0x20b19e[-0x4*0x95+-0x1d0f*-0x1+-0xa*0x2ab]=_0xafeaa['y'],_0x20b19e[0x1246*-0x1+-0x1ad5+0x2d29]=_0xafeaa['z'],_0x20b19e[0x682+-0xc7a+0x607]=0x115*0x1+-0x12fa+0x11e6*0x1,this;}['setFrustum'](_0x4ba8e0,_0x54e115,_0x4ec85e,_0x48bc13,_0x270966,_0x5ee131){const _0xa8ea4d=(0x4*0x515+-0xa23+0x4f*-0x21)*_0x270966,_0x3e5e6a=_0x54e115-_0x4ba8e0,_0x519213=_0x48bc13-_0x4ec85e,_0x10626e=_0x5ee131-_0x270966,_0x51da71=this['data'];return _0x51da71[-0x2a5*0x7+-0x1164+0x65*0x5b]=_0xa8ea4d/_0x3e5e6a,_0x51da71[-0x11b2+-0x583+0x1736]=0x21a3*-0x1+-0x1b40+0x3ce3,_0x51da71[-0x14*0x9f+0x1c*0xa5+-0x59e]=0x1f11+0x1459*0x1+-0x336a,_0x51da71[0x1137+0x33*0x6+-0x1266]=0x25a0+-0x191a+0x643*-0x2,_0x51da71[-0xff4+0x1367*0x2+-0x9e*0x25]=-0x82d+0xb*0x273+-0x2*0x962,_0x51da71[-0xc49+0x10*0xff+-0x3e*0xf]=_0xa8ea4d/_0x519213,_0x51da71[0x22e4+-0x2f6*-0x4+0x3*-0xf92]=-0x19bf+-0x82b*-0x2+0x969,_0x51da71[0x22ac+-0x1*-0xf+-0x22b4]=-0x7*-0x4f9+-0x5d*-0x1a+0x1*-0x2c41,_0x51da71[0x1ad7*-0x1+-0x4b3+0x3*0xa86]=(_0x54e115+_0x4ba8e0)/_0x3e5e6a,_0x51da71[0xb1b+0x14db+-0x1fed]=(_0x48bc13+_0x4ec85e)/_0x519213,_0x51da71[-0xbbd+0x2312*-0x1+0x2ed9]=(-_0x5ee131-_0x270966)/_0x10626e,_0x51da71[0x38*-0x77+-0x5*0x119+0x1f90]=-(0x1*0x1e44+0x2*0x3b3+-0x25a9),_0x51da71[-0x3f7+0x1c*0x26+-0x25]=0x7*-0x557+0x1*-0x20e+0x276f,_0x51da71[-0x21a3+-0x81*0x1d+-0x5*-0x9a9]=0x308+-0x1*-0x18fd+-0x1c05,_0x51da71[0x1d*0x48+0x4*0x294+-0x126a]=-_0xa8ea4d*_0x5ee131/_0x10626e,_0x51da71[-0x19ff+-0x4*0x98d+0x4042]=-0x2062+-0x184a*-0x1+-0x8*-0x103,this;}['setPerspec'+'tive'](_0x2b0d84,_0x3c6f4d,_0x3c82db,_0x1de53b,_0xb979f9){return Ur['_getPerspe'+'ctiveHalfS'+'ize'](Ua,_0x2b0d84,_0x3c6f4d,_0x3c82db,_0xb979f9),this['setFrustum'](-Ua['x'],Ua['x'],-Ua['y'],Ua['y'],_0x3c82db,_0x1de53b);}['setOrtho'](_0x549544,_0x5f4899,_0x54a5d7,_0x560c80,_0x3c5391,_0x10a4ef){const _0x5055e1=this['data'];return _0x5055e1[-0x1*0x2155+0x4f9+-0x2d6*-0xa]=(0x1649+0x11d1+-0x2818)/(_0x5f4899-_0x549544),_0x5055e1[0x2ae*0xc+0x246f+0x224b*-0x2]=-0x21*0xbc+0xee4*-0x1+-0x1390*-0x2,_0x5055e1[0x1857+0x5ac+0x1e01*-0x1]=-0x269*-0x5+-0x42a*0x4+0x49b,_0x5055e1[-0x233*-0xe+-0x1447+-0xa80]=-0xb*-0x202+-0x1dc4+-0x2*-0x3d7,_0x5055e1[0x19f3+-0x8e1*0x1+-0x110e*0x1]=0x26f3+0x1*-0x1a47+-0xcac,_0x5055e1[0x507+0x1af4+-0x1ff6]=(0x26bb+-0x8*-0x485+-0x295*0x1d)/(_0x560c80-_0x54a5d7),_0x5055e1[-0x10e1+-0xa52+0x1b39]=-0xce*0x16+0xad5*-0x1+0x1c89,_0x5055e1[-0x6f7*0x2+0x4e*-0x31+0x11*0x1b3]=0x1fb+0x50*0x25+0xd8b*-0x1,_0x5055e1[-0x2*0x2d6+-0x2e*-0x7a+-0x1038]=0xbfa+0x3*0x996+0x16*-0x1da,_0x5055e1[-0x1*0x9e1+-0x630+0x101a]=0xa49+-0x1*-0x293+-0xcdc,_0x5055e1[0x1bd8+0xc0+-0x1c8e]=-(-0x1615+-0x3*-0x1ac+0x1f*0x8d)/(_0x10a4ef-_0x3c5391),_0x5055e1[0x4c1+-0x976*0x2+-0xe36*-0x1]=0x40*-0x52+0x1*0x39f+0x1d*0x95,_0x5055e1[-0x4bb*-0x3+-0x1*-0x387+-0x11ac]=-(_0x5f4899+_0x549544)/(_0x5f4899-_0x549544),_0x5055e1[-0x1052+-0x1*-0x10c3+-0x14*0x5]=-(_0x560c80+_0x54a5d7)/(_0x560c80-_0x54a5d7),_0x5055e1[0x1e3d*0x1+-0x25ff*-0x1+-0x442e]=-(_0x10a4ef+_0x3c5391)/(_0x10a4ef-_0x3c5391),_0x5055e1[-0x102d+0x1*-0x335+0x1371]=-0x46b+0x11cb+-0xd5f*0x1,this;}['setFromAxi'+'sAngle'](_0x49e73c,_0x531324){_0x531324*=N['DEG_TO_RAD'];const {x:_0x4bc3d0,y:_0x49fa82,z:_0x1066ac}=_0x49e73c,_0x27192e=Math['cos'](_0x531324),_0xc3399c=Math['sin'](_0x531324),_0x4fa0c4=-0x1f01+0x12f*-0x18+-0xa9*-0x5a-_0x27192e,_0x5a24ae=_0x4fa0c4*_0x4bc3d0,_0x52f221=_0x4fa0c4*_0x49fa82,_0x8c369d=this['data'];return _0x8c369d[0x6be+-0x1685+0xfc7*0x1]=_0x5a24ae*_0x4bc3d0+_0x27192e,_0x8c369d[0x9d*-0x25+-0x2ff+-0x19b1*-0x1]=_0x5a24ae*_0x49fa82+_0xc3399c*_0x1066ac,_0x8c369d[-0x1*0xb9f+-0x5*0x3e3+-0x3e2*-0x8]=_0x5a24ae*_0x1066ac-_0xc3399c*_0x49fa82,_0x8c369d[0x2249+-0x1fa7*-0x1+-0x7*0x96b]=-0x18fe+-0x17*-0xa7+0x1*0x9fd,_0x8c369d[0x1*-0xb35+-0x35*0xb8+-0x9dd*-0x5]=_0x5a24ae*_0x49fa82-_0xc3399c*_0x1066ac,_0x8c369d[-0xd*0x57+0x87f*0x1+-0x40f]=_0x52f221*_0x49fa82+_0x27192e,_0x8c369d[-0x15ae+0x201e+-0xa6a]=_0x52f221*_0x1066ac+_0xc3399c*_0x4bc3d0,_0x8c369d[0x1018+0x97e+0x3*-0x885]=0x9*-0x44f+0x20e1+-0x97*-0xa,_0x8c369d[-0x4*-0x665+0xd8f+0x47*-0x8d]=_0x5a24ae*_0x1066ac+_0xc3399c*_0x49fa82,_0x8c369d[-0x1*0x1b1+-0x2453+-0x11*-0x23d]=_0x52f221*_0x1066ac-_0x4bc3d0*_0xc3399c,_0x8c369d[0x7*-0x413+0x3a7*-0x1+-0xd9*-0x26]=_0x4fa0c4*_0x1066ac*_0x1066ac+_0x27192e,_0x8c369d[-0x14d4+-0x1260+0x33*0xc5]=0x125f*-0x1+-0x4*0x71f+0x2edb,_0x8c369d[0xd*-0x12f+-0x2*0x117f+0x326d]=-0x13fc*0x1+0xf49+-0x1*-0x4b3,_0x8c369d[0x20ca+0x22df+0x2*-0x21ce]=0x3*0x4ea+0x2000+0x2*-0x175f,_0x8c369d[-0x15+0x14ef+-0x14cc]=-0x170c+0xa3d+0xccf,_0x8c369d[-0x7cd*-0x3+-0x240+0x48*-0x4b]=0x1110+0x1f85*0x1+-0x3094,this;}['setTransla'+'te'](_0x1a0ef6,_0x2a55c7,_0x2740c1){const _0x1402bd=this['data'];return _0x1402bd[0x7*-0x2f9+-0x1352+0x2821]=0x10c*-0xb+0x25c1*-0x1+-0x22*-0x173,_0x1402bd[-0x4f*0x47+-0x2*0xa06+0x52*0x83]=-0x142d+-0x21fa+-0x1*-0x3627,_0x1402bd[0x156d+0x8*-0x131+-0xbe3]=-0x24b6+-0x138*0x7+0x2d3e,_0x1402bd[0x310+-0x22a9*-0x1+-0x6*0x649]=-0x2487+-0x1*-0x1da2+-0x5*-0x161,_0x1402bd[-0x2509*0x1+0xb2a+-0x8a1*-0x3]=-0x5*0x79d+0x1e53*0x1+0x7be,_0x1402bd[-0x1c*0xad+0x6cc+-0x1*-0xc25]=-0x18d5+0x2073+-0x79d,_0x1402bd[0xc01*0x3+-0x1*-0x223+0x5*-0x7a0]=-0x1*-0x1bdf+0x58*-0x5+0x203*-0xd,_0x1402bd[0x9ff+-0xb8*-0x9+0x8*-0x20e]=-0x2646+0x1*-0x2027+-0x1*-0x466d,_0x1402bd[-0x109*-0x4+-0x1bbb+0x179f]=0x1*-0x47+-0x14df+0x1526,_0x1402bd[0xdaa*0x1+-0x1*-0x4ad+-0x124e]=-0x1a3c+-0x1228+0x2c64,_0x1402bd[0x2449+-0x17d0+0xc6f*-0x1]=-0x2*-0xde6+-0x1c24+0x59,_0x1402bd[0x26d7+-0x59d+-0x212f]=-0x4*0x8f9+-0x15cf*0x1+0x39b3,_0x1402bd[0x209a+-0x2622*-0x1+-0x46b0]=_0x1a0ef6,_0x1402bd[0xa2b*-0x1+-0x23a2*0x1+0x1*0x2dda]=_0x2a55c7,_0x1402bd[0xbb9+0x1bb8+-0x2763]=_0x2740c1,_0x1402bd[-0x347*-0x3+-0x65f*-0x5+-0x29a1]=0x5*0x79f+0x146f+-0x3a89,this;}['setScale'](_0x3702b7,_0x228d2f,_0x5dfd31){const _0xffa773=this['data'];return _0xffa773[-0xef9+0x16f9+-0x800]=_0x3702b7,_0xffa773[-0x1799*-0x1+0x3*-0x8a2+0x24e]=0xc*-0x32b+0x15f2+0x1012,_0xffa773[0x270d+-0x2649*-0x1+-0x1355*0x4]=0x1395+-0x7f*0x11+-0xb26,_0xffa773[0x2ad+-0x882+-0xb*-0x88]=-0x3*-0x37e+-0x1*-0x1e8f+-0x2909,_0xffa773[-0xf17+-0x1313*0x1+-0x2*-0x1117]=0x2b9+-0x1d4f+0x1a96,_0xffa773[0x5*-0x35e+0xcf5+0x3e6]=_0x228d2f,_0xffa773[0x1bae+0x10a7+-0x1*0x2c4f]=-0xd*0x1eb+-0x21d7+0x3ac6,_0xffa773[0x10*0x22f+0x1*-0x12b+0x4d2*-0x7]=0x3*0x50f+0x14cb+-0x4*0x8fe,_0xffa773[0x52f+-0x14d2+0xfab*0x1]=0xe30+0x12c3+-0x20f3,_0xffa773[-0x1*-0x12b9+-0x94c+-0x964]=0x3d+-0x1523+0x14e6,_0xffa773[0x3f5*0x1+-0x1*-0xc2d+-0x1018]=_0x5dfd31,_0xffa773[0x65*-0x49+-0x22e3+0x3fbb]=-0xeab+-0x1529+0x23d4,_0xffa773[-0xf67+0x1efa+0x1*-0xf87]=0xcb0+0x4aa*0x5+-0x2402,_0xffa773[0x17f5+0x7*0x40d+-0x11*0x313]=0x1df+-0x14f9+-0xa*-0x1e9,_0xffa773[0x1*0x20a4+-0xc93*-0x3+0x1b7*-0x29]=-0x17e2+0x746*-0x3+0x2db4,_0xffa773[-0x57b+0x185c*-0x1+-0xef3*-0x2]=0xab4+0x1*-0x26ab+-0x14*-0x166,this;}['setViewpor'+'t'](_0x67358b,_0x16269c,_0x2a7f21,_0x3b9c5f){const _0x897a7c=this['data'];return _0x897a7c[0x3e*-0x1e+-0x2a5*0xe+-0x1625*-0x2]=_0x2a7f21*(-0xe07+-0x19f4+0x27fb+0.5),_0x897a7c[0x1b40+-0x1750+0x35*-0x13]=0x2165*0x1+0x266*0x1+-0x23cb,_0x897a7c[0x8e*0x3d+0x11*0x17e+-0x3b32]=0x1ca0*-0x1+0x118a+-0x2*-0x58b,_0x897a7c[-0x458*0x4+0x25d0+-0x3f*0x53]=-0x23b*0x1+0x1f39+-0x1cfe,_0x897a7c[-0x6f4+-0x15b6+0x1cae]=-0x1d4a+-0x153d+0xd*0x3e3,_0x897a7c[-0x13d+-0x20e*0x6+0xd96]=_0x3b9c5f*(0x2256*0x1+-0x18c6+0x22*-0x48+0.5),_0x897a7c[0x167*-0x2+0x71*0x2a+-0x7db*0x2]=0xa1a+0x226c+-0x2c86*0x1,_0x897a7c[-0x76*-0x32+-0x196e+0x269]=-0x3*-0x3a1+-0x26f8+0x1c15,_0x897a7c[0x390+-0x2d8*-0x2+0x49c*-0x2]=0x1*0x184a+0x1*-0xc47+-0xc03,_0x897a7c[0x4*-0x32d+0x4*-0x448+0x8b*0x37]=-0x18dd+0x1a42+0x165*-0x1,_0x897a7c[0xc5b*0x1+0x2bd+0x2*-0x787]=-0x2041*0x1+-0x5c2*0x1+0x107*0x25+0.5,_0x897a7c[-0x1d5b+-0x203*0x2+0x216c]=-0x221e+0x13*0x83+0x4e1*0x5,_0x897a7c[0xa*-0x37f+0x1942+0x9c0]=_0x67358b+_0x2a7f21*(-0xd3*0x4+0x8ce+-0x582+0.5),_0x897a7c[-0xa47*-0x3+-0x21d6+0x17*0x22]=_0x16269c+_0x3b9c5f*(-0x1253+0x641+0x1e*0x67+0.5),_0x897a7c[0x12d6+0x12ff+-0x25c7]=-0x13a4+0xa*-0x12f+0x1f7a+0.5,_0x897a7c[-0x64e*-0x1+0x116*-0x5+-0xd1]=0xd0*-0xd+-0xbe4+-0x1675*-0x1,this;}['setReflect'+'ion'](_0x1abe72,_0x5b41ae){const _0x5d23ec=_0x1abe72['x'],_0x185c83=_0x1abe72['y'],_0x569675=_0x1abe72['z'],_0x38de72=this['data'];return _0x38de72[-0x1193+0x13f1+-0x25e]=0x137b+0x198+-0x1512-(0x705+0x19d3+-0x20d6)*_0x5d23ec*_0x5d23ec,_0x38de72[0x2274+0xae5+-0x2d58]=-(-0x2678+0x1*0x2615+0x1*0x65)*_0x5d23ec*_0x185c83,_0x38de72[-0x1989+0x6*0x607+-0xa9f]=-(-0x9b+0xba6+-0xb09)*_0x5d23ec*_0x569675,_0x38de72[0x187c+-0x9*0x1d3+-0x80e]=-0x20d9+0x3ec*0x3+-0x1515*-0x1,_0x38de72[0x9*-0x10f+0x1*-0x1a67+0x2*0x11f9]=-(0xf6c+0xf08+-0x1e72)*_0x5d23ec*_0x185c83,_0x38de72[-0xa26+0x3*0xba4+-0x18c1]=-0x1*-0x5bf+-0x3eb*-0x1+-0x9a9-(-0xf96+0x257*0xc+-0xc7c)*_0x185c83*_0x185c83,_0x38de72[0x25ee+-0xe0a+-0xd*0x1d6]=-(-0x1733*0x1+-0x26db+-0x30*-0x14b)*_0x185c83*_0x569675,_0x38de72[-0x3*0x6af+-0xe50+0x2264]=0x1717+-0x9*-0x2e6+-0x312d,_0x38de72[0x1*0x3d+0x1*-0x18c7+-0x2*-0xc49]=-(0x1*-0xdac+0x11*-0x1cd+0x2c4b)*_0x5d23ec*_0x569675,_0x38de72[-0x4*0x959+0x12dd+0x48*0x42]=-(-0x1d36+-0x10ec+0x2*0x1712)*_0x185c83*_0x569675,_0x38de72[-0xda4+-0x2*-0x1098+-0x16*0xe3]=0x4*-0x52+0x25*0x47+0x6*-0x17f-(-0x1*-0xee3+-0x2494+0x15b3)*_0x569675*_0x569675,_0x38de72[0x1fa1+0x264f+0x1d*-0x269]=-0xd*0x79+-0x3*-0x2ad+-0x1e2,_0x38de72[0x1eb2*0x1+-0x10b4*0x2+-0x161*-0x2]=-(0x1*0x2195+0x2398+-0x452b)*_0x5d23ec*_0x5b41ae,_0x38de72[-0x6ad+-0x1fd1+0xb*0x381]=-(0x11*0x1a3+0x10*0x54+-0x2111*0x1)*_0x185c83*_0x5b41ae,_0x38de72[0x1a44+-0xe3b*-0x1+-0x2871]=-(-0x2053+-0x1*-0x1c41+0x414)*_0x569675*_0x5b41ae,_0x38de72[0x2*0x314+0xea3+-0x14bc]=-0x1*0x20ca+-0x1696+0x3761,this;}['invert'](_0x447321=this){const _0x38f159=_0x447321['data'],_0x344406=_0x38f159[-0x2*-0x107+0x2609+-0xd5d*0x3],_0x52e53c=_0x38f159[0x4c0+-0x23fb+-0x7cf*-0x4],_0x42e642=_0x38f159[-0x3*0x34b+-0x295*-0x9+0x2*-0x6ad],_0x3c4bce=_0x38f159[-0x1c53+0x1*0x17ef+-0x17*-0x31],_0x262ae6=_0x38f159[0x1752+0x156c+-0x2cba],_0x1119b9=_0x38f159[0x8ad*0x3+0x46b+-0x1e6d],_0xac342c=_0x38f159[-0x122b+0x1f*-0xe4+0x68b*0x7],_0x17b366=_0x38f159[0x153+0x2*0x2e1+-0x70e],_0x5a0ed6=_0x38f159[0x763+0x4bd+-0xc18],_0x28678b=_0x38f159[0x1*-0x17d7+-0x7*-0x31d+0x215*0x1],_0x1c9ddd=_0x38f159[0x22de+-0x19d2+-0x902],_0x956f93=_0x38f159[-0xc15*0x3+0x5*-0x27a+-0x8c*-0x59],_0x23dca1=_0x38f159[0x8*0x1a3+-0xfec+-0x2e0*-0x1],_0x5e6075=_0x38f159[0x1d90+0x2683+-0x4406],_0x2df35f=_0x38f159[-0x421+0x253f+-0x2110],_0x192955=_0x38f159[0x1f9*0x1+-0x617*0x2+-0x1*-0xa44],_0x13af7c=_0x344406*_0x1119b9-_0x52e53c*_0x262ae6,_0x176093=_0x344406*_0xac342c-_0x42e642*_0x262ae6,_0x381721=_0x344406*_0x17b366-_0x3c4bce*_0x262ae6,_0x26c94a=_0x52e53c*_0xac342c-_0x42e642*_0x1119b9,_0x178d3d=_0x52e53c*_0x17b366-_0x3c4bce*_0x1119b9,_0x8d49d1=_0x42e642*_0x17b366-_0x3c4bce*_0xac342c,_0x3322b8=_0x5a0ed6*_0x5e6075-_0x28678b*_0x23dca1,_0x1be328=_0x5a0ed6*_0x2df35f-_0x1c9ddd*_0x23dca1,_0x55ef50=_0x5a0ed6*_0x192955-_0x956f93*_0x23dca1,_0x215b1c=_0x28678b*_0x2df35f-_0x1c9ddd*_0x5e6075,_0x2768ed=_0x28678b*_0x192955-_0x956f93*_0x5e6075,_0x4790e0=_0x1c9ddd*_0x192955-_0x956f93*_0x2df35f,_0xff3cf1=_0x13af7c*_0x4790e0-_0x176093*_0x2768ed+_0x381721*_0x215b1c+_0x26c94a*_0x55ef50-_0x178d3d*_0x1be328+_0x8d49d1*_0x3322b8;if(_0xff3cf1===0x11b4+-0x17d1+0x61d)this['setIdentit'+'y']();else{const _0x572473=(0xcd3+-0x1200+0x297*0x2)/_0xff3cf1,_0x6636e6=this['data'];_0x6636e6[0x3*-0x7a6+0xc5a+-0xe2*-0xc]=(_0x1119b9*_0x4790e0-_0xac342c*_0x2768ed+_0x17b366*_0x215b1c)*_0x572473,_0x6636e6[-0x4*-0x314+-0x7f7+-0x2*0x22c]=(-_0x52e53c*_0x4790e0+_0x42e642*_0x2768ed-_0x3c4bce*_0x215b1c)*_0x572473,_0x6636e6[-0x27*-0xd1+0x2660*0x1+-0x7cd*0x9]=(_0x5e6075*_0x8d49d1-_0x2df35f*_0x178d3d+_0x192955*_0x26c94a)*_0x572473,_0x6636e6[0xcf*-0x2a+0xb77+-0x2*-0xb41]=(-_0x28678b*_0x8d49d1+_0x1c9ddd*_0x178d3d-_0x956f93*_0x26c94a)*_0x572473,_0x6636e6[0x127f+-0x19*-0x107+-0x2c2a]=(-_0x262ae6*_0x4790e0+_0xac342c*_0x55ef50-_0x17b366*_0x1be328)*_0x572473,_0x6636e6[0x1a0a+-0x1099+-0xc9*0xc]=(_0x344406*_0x4790e0-_0x42e642*_0x55ef50+_0x3c4bce*_0x1be328)*_0x572473,_0x6636e6[-0x71f*-0x3+-0x59*0x1c+-0xb9b]=(-_0x23dca1*_0x8d49d1+_0x2df35f*_0x381721-_0x192955*_0x176093)*_0x572473,_0x6636e6[0x2*-0x9+0x1453+-0x6*0x35f]=(_0x5a0ed6*_0x8d49d1-_0x1c9ddd*_0x381721+_0x956f93*_0x176093)*_0x572473,_0x6636e6[0x1d0a+0x27*0xb3+-0x3847*0x1]=(_0x262ae6*_0x2768ed-_0x1119b9*_0x55ef50+_0x17b366*_0x3322b8)*_0x572473,_0x6636e6[-0x1*0x189+0x5da*0x3+0x3ff*-0x4]=(-_0x344406*_0x2768ed+_0x52e53c*_0x55ef50-_0x3c4bce*_0x3322b8)*_0x572473,_0x6636e6[-0x1683+0xc31*-0x2+0x2eef]=(_0x23dca1*_0x178d3d-_0x5e6075*_0x381721+_0x192955*_0x13af7c)*_0x572473,_0x6636e6[-0x1ada+0xe2d+-0x8*-0x197]=(-_0x5a0ed6*_0x178d3d+_0x28678b*_0x381721-_0x956f93*_0x13af7c)*_0x572473,_0x6636e6[-0x2c*0xa0+-0x3d*-0x7+0x1*0x19e1]=(-_0x262ae6*_0x215b1c+_0x1119b9*_0x1be328-_0xac342c*_0x3322b8)*_0x572473,_0x6636e6[0x15b*-0x13+-0x7f*0x22+0x2aac]=(_0x344406*_0x215b1c-_0x52e53c*_0x1be328+_0x42e642*_0x3322b8)*_0x572473,_0x6636e6[0x1107+0x1bb+-0x9*0x214]=(-_0x23dca1*_0x26c94a+_0x5e6075*_0x176093-_0x2df35f*_0x13af7c)*_0x572473,_0x6636e6[0x14*-0x17e+0x1d21+0xc6]=(_0x5a0ed6*_0x26c94a-_0x28678b*_0x176093+_0x1c9ddd*_0x13af7c)*_0x572473;}return this;}['set'](_0x46e2a5){const _0x4fd330=this['data'];return _0x4fd330[-0x346*0xb+-0x13ef+0x37f1]=_0x46e2a5[-0x3d*0x6d+-0x1db*-0x5+0x10b2],_0x4fd330[-0x21d5+-0x31*0x6f+0x3b*0xef]=_0x46e2a5[-0x15e4*-0x1+0x1d*-0x15+0x9c1*-0x2],_0x4fd330[-0x1b55+0x811+-0x1*-0x1346]=_0x46e2a5[-0x20b*-0x2+0x1188+0x1*-0x159c],_0x4fd330[0xd73+0x2001+-0x2d71]=_0x46e2a5[-0x26a5*0x1+0x1a38+-0x8*-0x18e],_0x4fd330[-0x643+0xe20+-0x7d9]=_0x46e2a5[-0x33*-0xa9+-0x69d+-0x1b0a],_0x4fd330[0x25ea+0xe*-0x18a+-0x1059]=_0x46e2a5[-0x1543*0x1+0x393*0x6+-0x2*0x15],_0x4fd330[-0x1*-0x1b2e+0xa2d+-0x13*0x1f7]=_0x46e2a5[-0x3*0x373+0x1*0x11c9+-0x76a*0x1],_0x4fd330[0x1*0x11b+0x1ed7+0x1feb*-0x1]=_0x46e2a5[-0x9*-0x13+0x21b+-0x25*0x13],_0x4fd330[0x1*0x611+0xa3*0x3d+-0x2ce0]=_0x46e2a5[0x1635*0x1+0x142f+0x1*-0x2a5c],_0x4fd330[0xdb9+-0x8ff+-0x1*0x4b1]=_0x46e2a5[-0x491+0xceb+-0x851],_0x4fd330[-0x6d5+0x8b3*-0x3+0x20f8]=_0x46e2a5[0x168b+0x94d+-0x1fce],_0x4fd330[0x11b3+-0x2666+0x6ea*0x3]=_0x46e2a5[-0x120d*-0x1+0x3*-0x4b6+-0x3e0],_0x4fd330[0x1*-0x1619+0xceb+0x2*0x49d]=_0x46e2a5[-0x5*-0x1b4+0xa*-0x3ab+0xe1b*0x2],_0x4fd330[0x2b8+0x2e*-0x70+0x1175]=_0x46e2a5[-0x10f3+0xf92+0x16e],_0x4fd330[0x2e*0x5+0xdd8+-0xeb0]=_0x46e2a5[0x31*0xa6+-0x90a+-0x2*0xb57],_0x4fd330[0x3ac+-0x2652+-0x22b5*-0x1]=_0x46e2a5[-0xd27+0xeaf+-0x179],this;}['setIdentit'+'y'](){const _0x33dfba=this['data'];return _0x33dfba[-0x4d*0x1c+0x819*-0x1+-0x1085*-0x1]=0x1*0x1567+-0x1*0x17c2+0x25c,_0x33dfba[0x1*0x21b3+-0xeb*0x8+-0xd2d*0x2]=-0x1e12+-0x1226*0x1+-0x4*-0xc0e,_0x33dfba[-0x19b6+0x24ce+-0xb16]=0x1307*0x2+0x4c1*0x4+-0x3912,_0x33dfba[0x71b*-0x1+-0xa31+-0x7*-0x279]=-0xe52*-0x1+0x1baf+-0x2a01,_0x33dfba[0x1d*-0x3+-0x1852+0x18ad]=0x1b29+-0x3*-0x77a+0x1*-0x3197,_0x33dfba[0x3b8*0x6+-0xe*0x25d+0x3*0x399]=0x44*-0x53+0xe*-0x21a+0x3379,_0x33dfba[-0x3*0x15+-0x191f*-0x1+0xc6d*-0x2]=-0x1397+-0x674+0x1a0b*0x1,_0x33dfba[-0x1*-0x1931+0x9b3*-0x1+-0xf77]=0x1*-0xfe1+0x1c9f+-0xcbe,_0x33dfba[-0x1e6c+0x23e5+-0x7*0xc7]=-0x1d*-0x151+0x55+-0x2682,_0x33dfba[-0x1*-0xb3c+-0x1f3f+0x140c]=-0xe93+-0x2592+0x3425,_0x33dfba[0x1*0x15ff+-0x10ae+-0xc1*0x7]=0x1*-0x5a7+-0x4f*0xb+0x1*0x90d,_0x33dfba[-0xeb*-0x9+-0x2*-0x128f+0xe*-0x33d]=-0x8b1+0x19b5*0x1+-0x1104,_0x33dfba[-0x1*0x1319+0x422+0xf03]=-0x1*-0x16d6+-0x402+-0x12d4,_0x33dfba[0x267d*-0x1+-0x165*0x7+0x1*0x304d]=-0xb0a+0x56a+0x5a0,_0x33dfba[-0x1ed*-0x11+-0x5c6+-0x1ae9*0x1]=0x7*-0x43f+0x2*0xa2e+0x95d,_0x33dfba[0x150a*-0x1+0x23ba+-0x23*0x6b]=0xb*0x1d7+0x3e*0x16+-0x1990,this;}['setTRS'](_0x128d78,_0x4a5f1c,_0x53189a){const _0xd9201b=_0x4a5f1c['x'],_0x2318f0=_0x4a5f1c['y'],_0x4672b3=_0x4a5f1c['z'],_0x1de00f=_0x4a5f1c['w'],_0xeda9fb=_0x53189a['x'],_0x3b1801=_0x53189a['y'],_0x3f390f=_0x53189a['z'],_0xf1b305=_0xd9201b+_0xd9201b,_0x56c496=_0x2318f0+_0x2318f0,_0x421177=_0x4672b3+_0x4672b3,_0xd2df2a=_0xd9201b*_0xf1b305,_0x1ce01a=_0xd9201b*_0x56c496,_0x49ac09=_0xd9201b*_0x421177,_0x286cbe=_0x2318f0*_0x56c496,_0xe67ed4=_0x2318f0*_0x421177,_0x3adc4f=_0x4672b3*_0x421177,_0x2859be=_0x1de00f*_0xf1b305,_0xe58577=_0x1de00f*_0x56c496,_0x1b79a8=_0x1de00f*_0x421177,_0x1d93a3=this['data'];return _0x1d93a3[0x2233+0xbb7+0x6*-0x7a7]=(-0x62*-0x5+-0xa*-0x335+-0x1*0x21fb-(_0x286cbe+_0x3adc4f))*_0xeda9fb,_0x1d93a3[-0x11*0x93+0x24a1*0x1+0x1*-0x1add]=(_0x1ce01a+_0x1b79a8)*_0xeda9fb,_0x1d93a3[0x69c+0x5a*0x22+0x1db*-0xa]=(_0x49ac09-_0xe58577)*_0xeda9fb,_0x1d93a3[0x1f+-0x1*0x11f9+-0x1*-0x11dd]=-0x251e+-0x4*0x5b2+0x3be6,_0x1d93a3[0xec5+-0x1c5f+0xd9e]=(_0x1ce01a-_0x1b79a8)*_0x3b1801,_0x1d93a3[0x7*-0x246+-0x2a4+-0x3*-0x631]=(0x20c8+0xc5*0x17+-0x327a-(_0xd2df2a+_0x3adc4f))*_0x3b1801,_0x1d93a3[-0x16*-0x196+0x239e+-0x467c]=(_0xe67ed4+_0x2859be)*_0x3b1801,_0x1d93a3[0x1d14+0x1*0x9dc+0x26e9*-0x1]=-0x20b*-0x1+0x1fec+-0xb9*0x2f,_0x1d93a3[0x1766+-0x5*-0x670+-0x2*0x1bc7]=(_0x49ac09+_0xe58577)*_0x3f390f,_0x1d93a3[0x5*-0x577+0x480+0x16dc]=(_0xe67ed4-_0x2859be)*_0x3f390f,_0x1d93a3[0x1*0x7d9+-0xb0f+0x340]=(0x355*0xb+0x1*0xced+-0x3193-(_0xd2df2a+_0x286cbe))*_0x3f390f,_0x1d93a3[0x358*-0x9+0xb91+0x2*0x949]=-0xdaf+0x3a*0x25+-0x1*-0x54d,_0x1d93a3[0x2*-0x5f2+0x3*0x3f7+0xb]=_0x128d78['x'],_0x1d93a3[0x1694+-0x4a7*0x7+0x2*0x505]=_0x128d78['y'],_0x1d93a3[-0x1930*-0x1+0xebb+-0x27dd]=_0x128d78['z'],_0x1d93a3[-0x1c51+0xdb4+0xeac]=0x25d4+0x24c5+0x2*-0x254c,this;}['transpose'](_0x3ae014=this){const _0x1a8448=_0x3ae014['data'],_0x27c55b=this['data'];if(_0x1a8448===_0x27c55b){let _0xa65c75;_0xa65c75=_0x1a8448[-0x5*0x293+-0x13c1+0x1*0x20a1],_0x27c55b[0x213d+0x243e+-0x457a]=_0x1a8448[0x1*0x7ad+-0x22b2*0x1+-0x301*-0x9],_0x27c55b[-0x64b*0x4+0x1aa6+-0x176]=_0xa65c75,_0xa65c75=_0x1a8448[-0x563*0x1+0xca+0x49b],_0x27c55b[-0x171+0x1750+-0x15dd]=_0x1a8448[0x126a*-0x2+0x38f*0x5+0x1*0x1311],_0x27c55b[0x14b*-0x2+-0x29e*0x1+0x53c]=_0xa65c75,_0xa65c75=_0x1a8448[0xa*-0x43+0x84e*0x1+-0x5ad*0x1],_0x27c55b[0x765+-0x1d41+0x15df]=_0x1a8448[-0x3*-0x1b7+-0x1cc3+-0xbd5*-0x2],_0x27c55b[0xb94*-0x1+0x1d75+-0x11d5]=_0xa65c75,_0xa65c75=_0x1a8448[-0x17*-0x1a9+0x8be+-0x2ee7],_0x27c55b[-0x433*-0x4+0x1340*-0x2+-0x36*-0x67]=_0x1a8448[-0x2d2*0xc+0x1976+0x86b],_0x27c55b[-0x3f0+-0x930+0x1*0xd29]=_0xa65c75,_0xa65c75=_0x1a8448[0x1*-0x453+-0x24f2+0x294c],_0x27c55b[-0x2e+0x20fe+-0x20c9]=_0x1a8448[0x46f+-0xaf8+-0x1*-0x696],_0x27c55b[-0x28*-0x7f+0x1*-0x9e8+0x9e3*-0x1]=_0xa65c75,_0xa65c75=_0x1a8448[0xd13+0x479*-0x3+0x63],_0x27c55b[0x3*0xad9+-0x1*-0x1+0x1*-0x2081]=_0x1a8448[0x1725+0x23c2+-0x3ad9],_0x27c55b[0xded*0x1+-0x2*0x461+-0x51d]=_0xa65c75;}else _0x27c55b[0x16+0x1c61+-0x1c77]=_0x1a8448[0x2d1*-0x3+-0x1d62+0x2e9*0xd],_0x27c55b[0x200c+0x1a13+-0x3a1e]=_0x1a8448[0xc89+0x1d35+-0x29ba],_0x27c55b[-0x19f6+-0xc59*0x2+0x32aa]=_0x1a8448[0x1*0x1389+0xd0c+-0x208d],_0x27c55b[0x3d*-0xa+0x7*-0xfc+0x949]=_0x1a8448[0x1eb*-0xd+-0x8e*-0x32+-0x2c1],_0x27c55b[-0x7c7+-0xe21*0x1+0x15ec]=_0x1a8448[-0x1c19+0x1b33*-0x1+0x374d],_0x27c55b[-0x15*-0xf2+0x1*0x1edd+-0x32b2]=_0x1a8448[0xf7e+0x1b2d+-0x2aa6],_0x27c55b[-0x1*-0x24d9+-0x433+-0x10*0x20a]=_0x1a8448[-0x25b3+-0x21ad+0x4769],_0x27c55b[-0xe51+0x1136+-0x2de]=_0x1a8448[-0xbbe+-0x1541*0x1+0x210c],_0x27c55b[0x5df+-0x2*0x121d+0x1e63]=_0x1a8448[0x6e4+0x5b4+0x432*-0x3],_0x27c55b[0x1bd1*-0x1+-0x165c+0x3236]=_0x1a8448[0x9bb+0x10e0+-0x1a95*0x1],_0x27c55b[-0x437*0x5+0x4*-0x633+0x2de9]=_0x1a8448[0x1c94+0x2165+-0x3def],_0x27c55b[-0x6b2*-0x5+-0x199e*-0x1+-0x3b0d*0x1]=_0x1a8448[0x176+-0xba9+-0x23*-0x4b],_0x27c55b[-0x1a48+-0x2248+0x1e4e*0x2]=_0x1a8448[-0x22f6+-0x1d98+0x1*0x4091],_0x27c55b[0x1b7*-0x5+-0x1ee3+0x2783]=_0x1a8448[-0x18e3*-0x1+-0x51*0x4f+0x23],_0x27c55b[-0x1999+-0x192e+0x32d5]=_0x1a8448[0x246+0xb2*0xb+-0x9e1],_0x27c55b[-0x25*0x1d+0x66a+-0x2*0x115]=_0x1a8448[-0x6*-0x1af+-0x6*0x588+0x1725];return this;}['getTransla'+'tion'](_0x1ed0b3=new T()){return _0x1ed0b3['set'](this['data'][-0x39*-0xa1+-0xe1b+-0x2*0xad9],this['data'][-0x51*-0x2c+0x6f*-0x3+-0xc92*0x1],this['data'][-0x23a7+0x39e*-0x6+0x3969]);}['getX'](_0x3692a1=new T()){return _0x3692a1['set'](this['data'][0x1bdf+0x1ef2+-0x3ad1],this['data'][-0x264c+-0x10b*0x4+0x2a79],this['data'][-0x227f+0x1a53+0x82e]);}['getY'](_0x521fc1=new T()){return _0x521fc1['set'](this['data'][-0x129+0x2137+0x2*-0x1005],this['data'][-0x83*0x17+0x1*-0xb3f+0x1*0x1709],this['data'][0x3*0x5c2+-0x2*0x124f+0x1*0x135e]);}['getZ'](_0x2d0cc9=new T()){return _0x2d0cc9['set'](this['data'][-0x3*-0xae3+-0x1311+-0xd90],this['data'][-0xa2e+0x646+0x3f1],this['data'][0x43a+0x196d+-0x1d9d]);}['getScale'](_0x1b69a3=new T()){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),_0x1b69a3['set'](us['length'](),Fs['length'](),Os['length']()),_0x1b69a3;}get['scaleSign'](){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),us['cross'](us,Fs),us['dot'](Os)<0x2273+0x92*0x19+-0x30b5?-(-0x15a3*-0x1+-0x4*-0x26c+-0xfa9*0x2):0xa93*0x2+-0x2*0x116a+0xdaf;}['setFromEul'+'erAngles'](_0x145037,_0x564ae5,_0x3dd75a){_0x145037*=N['DEG_TO_RAD'],_0x564ae5*=N['DEG_TO_RAD'],_0x3dd75a*=N['DEG_TO_RAD'];const _0x4d98c8=Math['sin'](-_0x145037),_0xd1ab46=Math['cos'](-_0x145037),_0x87bfde=Math['sin'](-_0x564ae5),_0x4112c0=Math['cos'](-_0x564ae5),_0x8144bb=Math['sin'](-_0x3dd75a),_0x1f4e94=Math['cos'](-_0x3dd75a),_0x2e5d54=this['data'];return _0x2e5d54[-0x1*-0x52f+0x778+0x29*-0x4f]=_0x4112c0*_0x1f4e94,_0x2e5d54[-0x66f+-0x25f*-0xd+-0x1863]=-_0x4112c0*_0x8144bb,_0x2e5d54[-0x2*0xe4b+0x6fc+0x159c]=_0x87bfde,_0x2e5d54[0xed1+-0xbf*-0x31+-0x1b*0x1e7]=-0x629*-0x1+-0x1f64+0x869*0x3,_0x2e5d54[-0x1780+0x1*0x712+-0x5*-0x34a]=_0xd1ab46*_0x8144bb+_0x1f4e94*_0x4d98c8*_0x87bfde,_0x2e5d54[0x77e+-0x1924+0x11ab]=_0xd1ab46*_0x1f4e94-_0x4d98c8*_0x87bfde*_0x8144bb,_0x2e5d54[0x1*0x1b1+0x9b4+-0xb5f]=-_0x4112c0*_0x4d98c8,_0x2e5d54[-0x1148+-0x78a+0x18d9]=0x232d+-0x1*-0x1123+-0x3450,_0x2e5d54[-0xf83+-0x2180+0x310b]=_0x4d98c8*_0x8144bb-_0xd1ab46*_0x1f4e94*_0x87bfde,_0x2e5d54[0x147*-0x1+0xc88+-0xb38]=_0x1f4e94*_0x4d98c8+_0xd1ab46*_0x87bfde*_0x8144bb,_0x2e5d54[-0xef8*0x2+0x1ce4+0x8b*0x2]=_0xd1ab46*_0x4112c0,_0x2e5d54[0x1b0b+0x7e3*-0x2+-0x1*0xb3a]=0xbcb*0x1+0x1fc+-0xdc7,_0x2e5d54[0x1*0xb57+-0x23c8+0x1*0x187d]=0x3*0x909+0xc1*-0x5+-0xbab*0x2,_0x2e5d54[-0x669*0x3+-0x2*0x9+0x135a]=0x23e7+0xf08+-0xdd*0x3b,_0x2e5d54[-0xb4+-0x1cf8+-0xedd*-0x2]=0x7*0x4ed+0x47*-0x57+-0xa5a,_0x2e5d54[0x22ae+0x1dc9+-0x4068]=0x180c+-0xab1*-0x3+0x1*-0x381e,this;}['getEulerAn'+'gles'](_0x54f111=new T()){this['getScale'](_l);const _0x5325c3=_l['x'],_0xa9f6b1=_l['y'],_0x308517=_l['z'];if(_0x5325c3===0x4*0x8bf+0x2a5*0x1+-0x25a1||_0xa9f6b1===-0x26a7+-0x1924*-0x1+0xd83||_0x308517===-0x1f2f*-0x1+-0x1a8+-0x1d87*0x1)return _0x54f111['set'](-0xb*-0x1a3+0xaad+-0x1cae,-0x13*0x1cf+0x1e5f*-0x1+0x40bc,-0xbf6*-0x3+0x18fd+-0x3cdf);const _0x2bef41=this['data'],_0x5b79aa=Math['asin'](-_0x2bef41[-0x1*0x132b+-0x243d+0x376a]/_0x5325c3),_0x126bdd=Math['PI']*(0x9af*0x3+-0x1c96+0x77*-0x1+0.5);let _0x2633e5,_0xca92bc;return _0x5b79aa<_0x126bdd?_0x5b79aa>-_0x126bdd?(_0x2633e5=Math['atan2'](_0x2bef41[0x1221+0x1*-0x13b5+0xa*0x29]/_0xa9f6b1,_0x2bef41[0x26c1+-0xaa3+-0x1c14]/_0x308517),_0xca92bc=Math['atan2'](_0x2bef41[-0x234c+0x1edc+0x471]/_0x5325c3,_0x2bef41[-0x595*-0x5+-0x15ed+-0x1*0x5fc]/_0x5325c3)):(_0xca92bc=-0x1d5f*0x1+0x1b1b+0x244,_0x2633e5=-Math['atan2'](_0x2bef41[-0x8e*0x3a+0x2b3*0x5+-0x21*-0x91]/_0xa9f6b1,_0x2bef41[-0x1698+-0x6*0x503+0x34af]/_0xa9f6b1)):(_0xca92bc=-0x314+0x1294+-0xf80,_0x2633e5=Math['atan2'](_0x2bef41[0x15b6+0x1*-0xbaa+-0xa08]/_0xa9f6b1,_0x2bef41[-0x1353+-0x6b2+0x1*0x1a0a]/_0xa9f6b1)),_0x54f111['set'](_0x2633e5,_0x5b79aa,_0xca92bc)['mulScalar'](N['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Ur,'IDENTITY',Object['freeze'](new Ur())),c(Ur,'ZERO',Object['freeze'](new Ur()['set']([0x113c*-0x1+-0x2575+0x36b1,0x1b9a+-0x52a*0x7+0x88c,0x1*0x207d+-0x20f9*-0x1+0x20bb*-0x2,0x2*0x982+0x4f8+0x266*-0xa,-0x1669*0x1+0x311*0x2+0x1047,-0xfd4*-0x2+0x1*0x183f+-0x37e7,-0xc6*0x1e+0x1*-0x719+0x1e4d,-0x7*0x7+-0x38b*-0x9+-0x2*0xfd9,0xcde+0x1632+-0x2310,0x1a7*0xd+-0x248+-0x1333,0x247f*0x1+-0x157a+-0x301*0x5,0x339+-0x236*0x3+0x369,0x5b6*0x3+0x4b5*0x7+-0x3215,-0x13*0x125+-0x1f92+-0x1*-0x3551,-0x625+-0x17d*0x9+0x9c5*0x2,0x779*-0x4+0x1*-0x12b3+-0x3097*-0x1])));let q=Ur;const aa=class aa{constructor(_0x36ae8f=0x1b7a*-0x1+0x38*0x3d+-0xc9*-0x12,_0x1057cc=0x699*-0x1+-0x668+0xd01*0x1,_0x1f1b2d=0x13cc+-0x16db+0x30f,_0x1d27c9=0x2104+0x125*0x13+-0x36c2){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x36ae8f['length']===0x1d48*0x1+0x3*-0xa70+0x2*0x106?(this['x']=_0x36ae8f[0x815*-0x3+0x1d3*0x13+-0xa6a],this['y']=_0x36ae8f[0x55+0x1*-0x312+0x2be],this['z']=_0x36ae8f[-0x2*-0x859+-0x6e*0x1+0x2*-0x821],this['w']=_0x36ae8f[0x1c83+-0x6f*0x4e+0x6*0xe3]):(this['x']=_0x36ae8f,this['y']=_0x1057cc,this['z']=_0x1f1b2d,this['w']=_0x1d27c9);}['clone'](){const _0x197ca2=this['constructo'+'r'];return new _0x197ca2(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x252f56=this){return this['x']=_0x252f56['x']*-(-0x1269+-0xd4*-0xc+-0x23*-0x3e),this['y']=_0x252f56['y']*-(-0x1*-0x4cd+0x49a+-0x966),this['z']=_0x252f56['z']*-(-0x35*-0x49+-0xcc7+-0xc7*0x3),this['w']=_0x252f56['w'],this;}['copy'](_0x573427){return this['x']=_0x573427['x'],this['y']=_0x573427['y'],this['z']=_0x573427['z'],this['w']=_0x573427['w'],this;}['equals'](_0x9ad286){return this['x']===_0x9ad286['x']&&this['y']===_0x9ad286['y']&&this['z']===_0x9ad286['z']&&this['w']===_0x9ad286['w'];}['equalsAppr'+'ox'](_0x2f9f79,_0x2a987a=0x19e1+-0x23*0x3d+-0x118a+0.000001){return Math['abs'](this['x']-_0x2f9f79['x'])<_0x2a987a&&Math['abs'](this['y']-_0x2f9f79['y'])<_0x2a987a&&Math['abs'](this['z']-_0x2f9f79['z'])<_0x2a987a&&Math['abs'](this['w']-_0x2f9f79['w'])<_0x2a987a;}['getAxisAng'+'le'](_0x5d489a){let _0x3a9b1e=Math['acos'](this['w'])*(0x1f*-0xfd+0x24f3+-0x64e);const _0x3ac8f2=Math['sin'](_0x3a9b1e/(0x258f+0xf56*0x2+0x4439*-0x1));return _0x3ac8f2!==0x2332+0x117f*0x2+-0x2*0x2318?(_0x5d489a['x']=this['x']/_0x3ac8f2,_0x5d489a['y']=this['y']/_0x3ac8f2,_0x5d489a['z']=this['z']/_0x3ac8f2,(_0x5d489a['x']<0x2*-0xc0e+-0x12ec+0x2b08||_0x5d489a['y']<0x1aa8+0xd0b+-0x27b3||_0x5d489a['z']<0x1*0x1917+0x1*-0x15ce+-0x349*0x1)&&(_0x5d489a['x']*=-(0x219*0x3+0x10d*-0x21+0x1c63),_0x5d489a['y']*=-(-0x34*0xb+-0x160b+0x18*0x103),_0x5d489a['z']*=-(-0x2171+0x11f2*-0x2+0x4556),_0x3a9b1e*=-(-0x2*0x29+-0x30*0xb+0x263))):(_0x5d489a['x']=0x977+-0xe*0x1e6+0xe*0x139,_0x5d489a['y']=-0x628+-0x6c5+0xced,_0x5d489a['z']=0xc40+-0x106a+0x215*0x2),_0x3a9b1e*N['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x5d51bb=new T()){let _0x236c08,_0x548395,_0x59385d;const _0x228fd0=this['x'],_0x1619bb=this['y'],_0xcea9fd=this['z'],_0x2c1de9=this['w'],_0xfa6312=(-0x1e60+-0x1*0x1c2d+0x39*0x107)*(_0x2c1de9*_0x1619bb-_0x228fd0*_0xcea9fd);return _0xfa6312<=-(-0x10b2*-0x2+0x1054+0x4*-0xc6e+0.99999)?(_0x236c08=(-0xfac+0x25*-0x15+0x3*0x63d)*Math['atan2'](_0x228fd0,_0x2c1de9),_0x548395=-Math['PI']/(-0x2385*-0x1+-0x5dd+0xfd*-0x1e),_0x59385d=-0xab5*-0x1+0x1a53*-0x1+0xf9e):_0xfa6312>=0x23*0x5+-0x1af2+0x1a43+0.99999?(_0x236c08=(0x9*-0x233+0xa9e+0x92f)*Math['atan2'](_0x228fd0,_0x2c1de9),_0x548395=Math['PI']/(-0x1*-0x1326+-0x1b89+0x865),_0x59385d=-0x2402+-0x3*-0xb4e+0x218):(_0x236c08=Math['atan2']((0x249d+0x75f*0x1+-0x2*0x15fd)*(_0x2c1de9*_0x228fd0+_0x1619bb*_0xcea9fd),-0x198f+0x175d+0x233-(-0x5*0xed+0x1*-0x11b9+0x165c)*(_0x228fd0*_0x228fd0+_0x1619bb*_0x1619bb)),_0x548395=Math['asin'](_0xfa6312),_0x59385d=Math['atan2']((-0x1d83+-0x59*-0x31+0xbc*0x11)*(_0x2c1de9*_0xcea9fd+_0x228fd0*_0x1619bb),0x2257+-0x1*0x1d8f+-0x4c7-(0x192a+0x6d*-0x4b+-0x15b*-0x5)*(_0x1619bb*_0x1619bb+_0xcea9fd*_0xcea9fd))),_0x5d51bb['set'](_0x236c08,_0x548395,_0x59385d)['mulScalar'](N['RAD_TO_DEG']);}['invert'](_0xe73990=this){return this['conjugate'](_0xe73990)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x48beca){const _0x41b08c=this['x'],_0x1b1975=this['y'],_0x2a2e36=this['z'],_0x29139c=this['w'],_0x4348ef=_0x48beca['x'],_0x24bce2=_0x48beca['y'],_0x55e1b1=_0x48beca['z'],_0x3c3f21=_0x48beca['w'];return this['x']=_0x29139c*_0x4348ef+_0x41b08c*_0x3c3f21+_0x1b1975*_0x55e1b1-_0x2a2e36*_0x24bce2,this['y']=_0x29139c*_0x24bce2+_0x1b1975*_0x3c3f21+_0x2a2e36*_0x4348ef-_0x41b08c*_0x55e1b1,this['z']=_0x29139c*_0x55e1b1+_0x2a2e36*_0x3c3f21+_0x41b08c*_0x24bce2-_0x1b1975*_0x4348ef,this['w']=_0x29139c*_0x3c3f21-_0x41b08c*_0x4348ef-_0x1b1975*_0x24bce2-_0x2a2e36*_0x55e1b1,this;}['mulScalar'](_0x43f177,_0x2a2c55=this){return this['x']=_0x2a2c55['x']*_0x43f177,this['y']=_0x2a2c55['y']*_0x43f177,this['z']=_0x2a2c55['z']*_0x43f177,this['w']=_0x2a2c55['w']*_0x43f177,this;}['mul2'](_0x3d0c77,_0x575cf4){const _0x17773a=_0x3d0c77['x'],_0x5aceeb=_0x3d0c77['y'],_0x4e5772=_0x3d0c77['z'],_0x254598=_0x3d0c77['w'],_0x28f0a7=_0x575cf4['x'],_0x5bedee=_0x575cf4['y'],_0x1ba678=_0x575cf4['z'],_0x4ec538=_0x575cf4['w'];return this['x']=_0x254598*_0x28f0a7+_0x17773a*_0x4ec538+_0x5aceeb*_0x1ba678-_0x4e5772*_0x5bedee,this['y']=_0x254598*_0x5bedee+_0x5aceeb*_0x4ec538+_0x4e5772*_0x28f0a7-_0x17773a*_0x1ba678,this['z']=_0x254598*_0x1ba678+_0x4e5772*_0x4ec538+_0x17773a*_0x5bedee-_0x5aceeb*_0x28f0a7,this['w']=_0x254598*_0x4ec538-_0x17773a*_0x28f0a7-_0x5aceeb*_0x5bedee-_0x4e5772*_0x1ba678,this;}['normalize'](_0x1d8afa=this){let _0x30b5bc=_0x1d8afa['length']();return _0x30b5bc===-0x1*0xdaf+-0x1187+0x1f36?(this['x']=this['y']=this['z']=-0x1877+0x1916+-0x9f,this['w']=-0x1*-0x38e+-0x1*0xa1f+0x692):(_0x30b5bc=(-0x14cc+-0x21af+0x367c)/_0x30b5bc,this['x']=_0x1d8afa['x']*_0x30b5bc,this['y']=_0x1d8afa['y']*_0x30b5bc,this['z']=_0x1d8afa['z']*_0x30b5bc,this['w']=_0x1d8afa['w']*_0x30b5bc),this;}['set'](_0x1d404d,_0x6594e5,_0x435847,_0x4a8d6c){return this['x']=_0x1d404d,this['y']=_0x6594e5,this['z']=_0x435847,this['w']=_0x4a8d6c,this;}['setFromAxi'+'sAngle'](_0x34fcaa,_0x5e7218){_0x5e7218*=(-0x22a3*0x1+-0x6*0x347+0x364d+0.5)*N['DEG_TO_RAD'];const _0x2b779e=Math['sin'](_0x5e7218),_0x21787e=Math['cos'](_0x5e7218);return this['x']=_0x2b779e*_0x34fcaa['x'],this['y']=_0x2b779e*_0x34fcaa['y'],this['z']=_0x2b779e*_0x34fcaa['z'],this['w']=_0x21787e,this;}['setFromEul'+'erAngles'](_0x43480a,_0x29e900,_0x5952df){if(_0x43480a instanceof T){const _0xfd8a24=_0x43480a;_0x43480a=_0xfd8a24['x'],_0x29e900=_0xfd8a24['y'],_0x5952df=_0xfd8a24['z'];}const _0x392b03=(0x9*0x1ad+-0x1847+0x932+0.5)*N['DEG_TO_RAD'];_0x43480a*=_0x392b03,_0x29e900*=_0x392b03,_0x5952df*=_0x392b03;const _0x489fc1=Math['sin'](_0x43480a),_0x2d1759=Math['cos'](_0x43480a),_0x1453b1=Math['sin'](_0x29e900),_0x5f5853=Math['cos'](_0x29e900),_0x5e45a3=Math['sin'](_0x5952df),_0x25c3a3=Math['cos'](_0x5952df);return this['x']=_0x489fc1*_0x5f5853*_0x25c3a3-_0x2d1759*_0x1453b1*_0x5e45a3,this['y']=_0x2d1759*_0x1453b1*_0x25c3a3+_0x489fc1*_0x5f5853*_0x5e45a3,this['z']=_0x2d1759*_0x5f5853*_0x5e45a3-_0x489fc1*_0x1453b1*_0x25c3a3,this['w']=_0x2d1759*_0x5f5853*_0x25c3a3+_0x489fc1*_0x1453b1*_0x5e45a3,this;}['setFromMat'+'4'](_0x19eddd){const _0xdf96b=_0x19eddd['data'];let _0x27584d=_0xdf96b[-0x75b+0x2*-0x89e+0x5*0x4eb],_0x4500fd=_0xdf96b[0x9a1*-0x2+-0x1f5*-0xc+-0x439],_0x200ec1=_0xdf96b[-0x2*0x1055+-0xd41+0x2ded],_0x1454f7=_0xdf96b[-0x1df9+0x165*0x6+-0x1*-0x159f],_0x5f2852=_0xdf96b[-0x216b+0xe4b+-0x1325*-0x1],_0x2800c6=_0xdf96b[0x11ac*0x2+0x2*-0x89e+-0x2*0x90b],_0x45cc4d=_0xdf96b[-0x397*0x1+-0x1d7c+-0x71*-0x4b],_0x160021=_0xdf96b[0x1dc7+0xe67+-0x2c25],_0x29db3c=_0xdf96b[-0x1d61+0x1424+0x947],_0x310b84;return _0x310b84=_0x27584d*_0x27584d+_0x4500fd*_0x4500fd+_0x200ec1*_0x200ec1,_0x310b84===-0x5*0x79e+0x1a25+0xbf1?this['set'](-0x1*-0x1cea+0x136*0x2+-0xfab*0x2,-0xd*-0x1de+-0x19a*0x16+0x57b*0x2,0x6a3*-0x4+-0x1fb6+0x3a42,-0x90c+0x31*0x71+0x64a*-0x2):(_0x310b84=(-0x1a2+-0x4*-0x100+0x25d*-0x1)/Math['sqrt'](_0x310b84),_0x27584d*=_0x310b84,_0x4500fd*=_0x310b84,_0x200ec1*=_0x310b84,_0x310b84=_0x1454f7*_0x1454f7+_0x5f2852*_0x5f2852+_0x2800c6*_0x2800c6,_0x310b84===0x1*-0x873+0x266f+0x194*-0x13?this['set'](-0xcac+-0xd7*-0xd+-0x1c1*-0x1,-0x20c4+-0x173*0x17+0x4219,-0x8d*0x42+-0x1bb+0x2615,0x40*-0x28+-0x1*-0x3d9+0x628):(_0x310b84=(-0x80e+-0x13*-0x209+-0x1e9c)/Math['sqrt'](_0x310b84),_0x1454f7*=_0x310b84,_0x5f2852*=_0x310b84,_0x2800c6*=_0x310b84,_0x310b84=_0x45cc4d*_0x45cc4d+_0x160021*_0x160021+_0x29db3c*_0x29db3c,_0x310b84===-0xae4+-0x21d8+0x2cbc?this['set'](0x20eb+0x1*-0xd87+-0x92*0x22,0x1*0x11+-0x1845+-0x60d*-0x4,0x1c5*0x9+0x5ab+0xacc*-0x2,0x1108+-0x1c09+0xb02):(_0x310b84=(-0x11*0x1c1+0x1c1e+0x6d*0x4)/Math['sqrt'](_0x310b84),_0x45cc4d*=_0x310b84,_0x160021*=_0x310b84,_0x29db3c*=_0x310b84,_0x29db3c<-0x82a+0xb77*-0x1+0x3*0x68b?_0x27584d>_0x5f2852?this['set'](-0x5f8*0x2+-0x109*0x16+-0x1*-0x22b7+_0x27584d-_0x5f2852-_0x29db3c,_0x4500fd+_0x1454f7,_0x45cc4d+_0x200ec1,_0x2800c6-_0x160021):this['set'](_0x4500fd+_0x1454f7,0x1*0x15e6+-0x26a4+0x10bf-_0x27584d+_0x5f2852-_0x29db3c,_0x2800c6+_0x160021,_0x45cc4d-_0x200ec1):_0x27584d<-_0x5f2852?this['set'](_0x45cc4d+_0x200ec1,_0x2800c6+_0x160021,-0x206e*0x1+0x3b9*-0x9+0x41f0-_0x27584d-_0x5f2852+_0x29db3c,_0x4500fd-_0x1454f7):this['set'](_0x2800c6-_0x160021,_0x45cc4d-_0x200ec1,_0x4500fd-_0x1454f7,-0x638*-0x6+0x3ef*0x5+-0x52e*0xb+_0x27584d+_0x5f2852+_0x29db3c),this['mulScalar']((0x3e*-0x6+0x12b3+-0x113e)/this['length']()))));}['setFromDir'+'ections'](_0x543003,_0x474cf3){const _0x4c34c9=0x4b8*-0x6+-0x7fe+0xd*0x2cb+_0x543003['dot'](_0x474cf3);return _0x4c34c9<Number['EPSILON']?Math['abs'](_0x543003['x'])>Math['abs'](_0x543003['y'])?(this['x']=-_0x543003['z'],this['y']=-0x1a12+-0x1cb7+0x36c9,this['z']=_0x543003['x'],this['w']=0x5b*-0xc+-0x4*0x81e+0x24bc*0x1):(this['x']=0x1*-0x10d1+0x1ef0+-0x3*0x4b5,this['y']=-_0x543003['z'],this['z']=_0x543003['y'],this['w']=-0x195a+0x11c7*0x2+0x4*-0x28d):(this['x']=_0x543003['y']*_0x474cf3['z']-_0x543003['z']*_0x474cf3['y'],this['y']=_0x543003['z']*_0x474cf3['x']-_0x543003['x']*_0x474cf3['z'],this['z']=_0x543003['x']*_0x474cf3['y']-_0x543003['y']*_0x474cf3['x'],this['w']=_0x4c34c9),this['normalize']();}['slerp'](_0x4fba7f,_0x2ae9e2,_0x2ebc1e){const _0x5b2dc5=_0x4fba7f['x'],_0x582123=_0x4fba7f['y'],_0x2c8639=_0x4fba7f['z'],_0x54d84e=_0x4fba7f['w'];let _0x57b4ec=_0x2ae9e2['x'],_0x185aca=_0x2ae9e2['y'],_0x2422dc=_0x2ae9e2['z'],_0x7cd763=_0x2ae9e2['w'],_0x4ff4d9=_0x54d84e*_0x7cd763+_0x5b2dc5*_0x57b4ec+_0x582123*_0x185aca+_0x2c8639*_0x2422dc;if(_0x4ff4d9<-0xfe3+-0x20c6+0x30a9&&(_0x7cd763=-_0x7cd763,_0x57b4ec=-_0x57b4ec,_0x185aca=-_0x185aca,_0x2422dc=-_0x2422dc,_0x4ff4d9=-_0x4ff4d9),Math['abs'](_0x4ff4d9)>=-0x1*0x18c2+-0x242*-0xe+0x6d9*-0x1)return this['w']=_0x54d84e,this['x']=_0x5b2dc5,this['y']=_0x582123,this['z']=_0x2c8639,this;const _0x6ccfcd=Math['acos'](_0x4ff4d9),_0x25243e=Math['sqrt'](-0xff3+-0xb6+0x10aa-_0x4ff4d9*_0x4ff4d9);if(Math['abs'](_0x25243e)<-0x16d4+-0x3*-0x49+0x15f9+0.001)return this['w']=_0x54d84e*(-0x5f*0x45+-0x1*-0x1a5d+-0x2*0x61+0.5)+_0x7cd763*(0x5d*-0x47+-0x4f*0x50+0x1*0x327b+0.5),this['x']=_0x5b2dc5*(-0x1e5a+0x1ee7+-0x2f*0x3+0.5)+_0x57b4ec*(0x4*-0x8a7+0x18f*-0x9+-0x1*-0x30a3+0.5),this['y']=_0x582123*(0x1f9+0x19f0+-0x595*0x5+0.5)+_0x185aca*(0x3*-0x740+-0x33d+0x18fd+0.5),this['z']=_0x2c8639*(-0x5f2+-0x1*0x188b+0x1e7d+0.5)+_0x2422dc*(0x57*-0x3a+0xa*-0x35b+-0x1c*-0x1e7+0.5),this;const _0x443a65=Math['sin']((-0x26*0xc1+0x5cd+0x16da-_0x2ebc1e)*_0x6ccfcd)/_0x25243e,_0x5dcc32=Math['sin'](_0x2ebc1e*_0x6ccfcd)/_0x25243e;return this['w']=_0x54d84e*_0x443a65+_0x7cd763*_0x5dcc32,this['x']=_0x5b2dc5*_0x443a65+_0x57b4ec*_0x5dcc32,this['y']=_0x582123*_0x443a65+_0x185aca*_0x5dcc32,this['z']=_0x2c8639*_0x443a65+_0x2422dc*_0x5dcc32,this;}['transformV'+'ector'](_0x5c7a7b,_0xe03a8=new T()){const _0xd65d05=_0x5c7a7b['x'],_0x3f33b8=_0x5c7a7b['y'],_0x4a1755=_0x5c7a7b['z'],_0x1fb24a=this['x'],_0x257aae=this['y'],_0x2100f4=this['z'],_0x1896e0=this['w'],_0x33febe=_0x1896e0*_0xd65d05+_0x257aae*_0x4a1755-_0x2100f4*_0x3f33b8,_0x1a2eb3=_0x1896e0*_0x3f33b8+_0x2100f4*_0xd65d05-_0x1fb24a*_0x4a1755,_0x56fcc5=_0x1896e0*_0x4a1755+_0x1fb24a*_0x3f33b8-_0x257aae*_0xd65d05,_0xa8e640=-_0x1fb24a*_0xd65d05-_0x257aae*_0x3f33b8-_0x2100f4*_0x4a1755;return _0xe03a8['x']=_0x33febe*_0x1896e0+_0xa8e640*-_0x1fb24a+_0x1a2eb3*-_0x2100f4-_0x56fcc5*-_0x257aae,_0xe03a8['y']=_0x1a2eb3*_0x1896e0+_0xa8e640*-_0x257aae+_0x56fcc5*-_0x1fb24a-_0x33febe*-_0x2100f4,_0xe03a8['z']=_0x56fcc5*_0x1896e0+_0xa8e640*-_0x2100f4+_0x33febe*-_0x257aae-_0x1a2eb3*-_0x1fb24a,_0xe03a8;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(aa,'IDENTITY',Object['freeze'](new aa(0x562+0x213+-0x775,0x1356+0x25f9+0x35f*-0x11,-0xc26+0x1*0xe35+0x11*-0x1f,-0x13d0+0x1b17+-0x746))),c(aa,'ZERO',Object['freeze'](new aa(-0x19f*0x5+0xbb+0x760,0x29*-0x14+-0x98f*0x3+-0x1*-0x1fe1,0x29*0x42+-0x5*-0x68f+-0x2b5d,-0x1*-0x1e95+0x1ecf+-0xf59*0x4)));let se=aa;const vn=new T(),bn=new T(),nm=new T(),am=new T(),vS=new T();class _e{constructor(_0x453457,_0x5a19c0){c(this,'center',new T()),c(this,'halfExtent'+'s',new T(-0xca9*0x2+-0x12d1+-0x2c23*-0x1+0.5,-0x100*0xf+0x3*0x909+-0xc1b+0.5,0x3*-0x6bb+0x23f4*-0x1+0x3825+0.5)),c(this,'_min',new T()),c(this,'_max',new T()),(_0x453457&&this['center']['copy'](_0x453457),_0x5a19c0&&this['halfExtent'+'s']['copy'](_0x5a19c0));}['add'](_0x285c57){const _0x1f3f09=this['center'],_0xe09b46=_0x1f3f09['x'],_0x2ddddd=_0x1f3f09['y'],_0x5a707d=_0x1f3f09['z'],_0x19b2a7=this['halfExtent'+'s'],_0x297de9=_0x19b2a7['x'],_0x3f02e0=_0x19b2a7['y'],_0x3accfe=_0x19b2a7['z'];let _0x51bb39=_0xe09b46-_0x297de9,_0x3a5b40=_0xe09b46+_0x297de9,_0x1a3771=_0x2ddddd-_0x3f02e0,_0x48b6af=_0x2ddddd+_0x3f02e0,_0x3ca670=_0x5a707d-_0x3accfe,_0x421115=_0x5a707d+_0x3accfe;const _0x183d82=_0x285c57['center'],_0x31e9be=_0x183d82['x'],_0x9d42df=_0x183d82['y'],_0x285163=_0x183d82['z'],_0x18e99b=_0x285c57['halfExtent'+'s'],_0x254d45=_0x18e99b['x'],_0x39ad01=_0x18e99b['y'],_0x3f514c=_0x18e99b['z'],_0x22edd2=_0x31e9be-_0x254d45,_0x4e5101=_0x31e9be+_0x254d45,_0x4d1ded=_0x9d42df-_0x39ad01,_0x1b574d=_0x9d42df+_0x39ad01,_0x18fb06=_0x285163-_0x3f514c,_0x59989a=_0x285163+_0x3f514c;_0x22edd2<_0x51bb39&&(_0x51bb39=_0x22edd2),_0x4e5101>_0x3a5b40&&(_0x3a5b40=_0x4e5101),_0x4d1ded<_0x1a3771&&(_0x1a3771=_0x4d1ded),_0x1b574d>_0x48b6af&&(_0x48b6af=_0x1b574d),_0x18fb06<_0x3ca670&&(_0x3ca670=_0x18fb06),_0x59989a>_0x421115&&(_0x421115=_0x59989a),_0x1f3f09['x']=(_0x51bb39+_0x3a5b40)*(-0x2205+-0xd63+-0x17b4*-0x2+0.5),_0x1f3f09['y']=(_0x1a3771+_0x48b6af)*(0xa44+-0x2145+0x3*0x7ab+0.5),_0x1f3f09['z']=(_0x3ca670+_0x421115)*(-0x3*0x10c+0x1*-0x1b05+0x7*0x44f+0.5),_0x19b2a7['x']=(_0x3a5b40-_0x51bb39)*(-0x39+0x113e*0x1+-0x1*0x1105+0.5),_0x19b2a7['y']=(_0x48b6af-_0x1a3771)*(0x1773+0x26*-0x20+0x12b3*-0x1+0.5),_0x19b2a7['z']=(_0x421115-_0x3ca670)*(-0x23b*0x5+-0x1*0x1743+-0x226a*-0x1+0.5);}['copy'](_0x2835e2){this['center']['copy'](_0x2835e2['center']),this['halfExtent'+'s']['copy'](_0x2835e2['halfExtent'+'s']);}['clone'](){return new _e(this['center'],this['halfExtent'+'s']);}['intersects'](_0x1459cc){const _0x2f9ce9=this['getMax'](),_0x5c1893=this['getMin'](),_0x12820d=_0x1459cc['getMax'](),_0x8657e=_0x1459cc['getMin']();return _0x5c1893['x']<=_0x12820d['x']&&_0x2f9ce9['x']>=_0x8657e['x']&&_0x5c1893['y']<=_0x12820d['y']&&_0x2f9ce9['y']>=_0x8657e['y']&&_0x5c1893['z']<=_0x12820d['z']&&_0x2f9ce9['z']>=_0x8657e['z'];}['_intersect'+'sRay'](_0x2b9524,_0x1b9c56){const _0x2401a2=vn['copy'](this['getMin']())['sub'](_0x2b9524['origin']),_0x30e022=bn['copy'](this['getMax']())['sub'](_0x2b9524['origin']),_0xd22fe7=_0x2b9524['direction'];_0xd22fe7['x']===-0x1633+0x23b5+-0xd82?(_0x2401a2['x']=_0x2401a2['x']<0x28*0xaf+-0x1*-0x2056+0x1*-0x3bae?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x30e022['x']=_0x30e022['x']<0x1844+-0x8c8*-0x4+0x16a*-0x2a?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2401a2['x']/=_0xd22fe7['x'],_0x30e022['x']/=_0xd22fe7['x']),_0xd22fe7['y']===0x36f*-0x9+0x2683+-0x1*0x79c?(_0x2401a2['y']=_0x2401a2['y']<-0x7b*-0x4f+0x1*0x25f5+-0x4bea?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x30e022['y']=_0x30e022['y']<0x3a9*0x7+-0x46*0x5+-0x1841?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2401a2['y']/=_0xd22fe7['y'],_0x30e022['y']/=_0xd22fe7['y']),_0xd22fe7['z']===0x1237*0x2+-0xabf+-0x1*0x19af?(_0x2401a2['z']=_0x2401a2['z']<-0x703*-0x1+0x203d+-0x2740?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x30e022['z']=_0x30e022['z']<0x341*0x2+-0x1*0x2051+0x19cf?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2401a2['z']/=_0xd22fe7['z'],_0x30e022['z']/=_0xd22fe7['z']);const _0x46d943=nm['set'](Math['min'](_0x2401a2['x'],_0x30e022['x']),Math['min'](_0x2401a2['y'],_0x30e022['y']),Math['min'](_0x2401a2['z'],_0x30e022['z'])),_0xc80cca=am['set'](Math['max'](_0x2401a2['x'],_0x30e022['x']),Math['max'](_0x2401a2['y'],_0x30e022['y']),Math['max'](_0x2401a2['z'],_0x30e022['z'])),_0xc8e1b4=Math['min'](Math['min'](_0xc80cca['x'],_0xc80cca['y']),_0xc80cca['z']),_0xb7aa59=Math['max'](Math['max'](_0x46d943['x'],_0x46d943['y']),_0x46d943['z']),_0x40f97d=_0xc8e1b4>=_0xb7aa59&&_0xb7aa59>=0x86*0x5+0xbcd+-0xe6b;return _0x40f97d&&_0x1b9c56['copy'](_0x2b9524['direction'])['mulScalar'](_0xb7aa59)['add'](_0x2b9524['origin']),_0x40f97d;}['_fastInter'+'sectsRay'](_0x302754){const _0xc4c682=vn,_0x36c4ef=bn,_0x3888b6=nm,_0x20d027=am,_0x5cdac3=vS,_0x2ad146=_0x302754['direction'];return _0xc4c682['sub2'](_0x302754['origin'],this['center']),_0x20d027['set'](Math['abs'](_0xc4c682['x']),Math['abs'](_0xc4c682['y']),Math['abs'](_0xc4c682['z'])),_0x3888b6['mul2'](_0xc4c682,_0x2ad146),!(_0x20d027['x']>this['halfExtent'+'s']['x']&&_0x3888b6['x']>=-0x22*0x33+0x3*-0x641+0x1*0x1989||_0x20d027['y']>this['halfExtent'+'s']['y']&&_0x3888b6['y']>=-0x19d2+-0x10fb+-0x1*-0x2acd||_0x20d027['z']>this['halfExtent'+'s']['z']&&_0x3888b6['z']>=0x12ec+0x8*0xd3+0x2*-0xcc2||(_0x5cdac3['set'](Math['abs'](_0x2ad146['x']),Math['abs'](_0x2ad146['y']),Math['abs'](_0x2ad146['z'])),_0x36c4ef['cross'](_0x2ad146,_0xc4c682),_0x36c4ef['set'](Math['abs'](_0x36c4ef['x']),Math['abs'](_0x36c4ef['y']),Math['abs'](_0x36c4ef['z'])),_0x36c4ef['x']>this['halfExtent'+'s']['y']*_0x5cdac3['z']+this['halfExtent'+'s']['z']*_0x5cdac3['y'])||_0x36c4ef['y']>this['halfExtent'+'s']['x']*_0x5cdac3['z']+this['halfExtent'+'s']['z']*_0x5cdac3['x']||_0x36c4ef['z']>this['halfExtent'+'s']['x']*_0x5cdac3['y']+this['halfExtent'+'s']['y']*_0x5cdac3['x']);}['intersects'+'Ray'](_0x26d2fe,_0x27a63a){return _0x27a63a?this['_intersect'+'sRay'](_0x26d2fe,_0x27a63a):this['_fastInter'+'sectsRay'](_0x26d2fe);}['setMinMax'](_0x2933c5,_0x343e9f){this['center']['add2'](_0x343e9f,_0x2933c5)['mulScalar'](0x823+0x9f*-0x1f+0xb1e+0.5),this['halfExtent'+'s']['sub2'](_0x343e9f,_0x2933c5)['mulScalar'](0x1*0x1d68+0x3*-0x959+0x15d*-0x1+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x4eea28){const _0x1dcdb3=this['getMin'](),_0x204531=this['getMax']();return!(_0x4eea28['x']<_0x1dcdb3['x']||_0x4eea28['x']>_0x204531['x']||_0x4eea28['y']<_0x1dcdb3['y']||_0x4eea28['y']>_0x204531['y']||_0x4eea28['z']<_0x1dcdb3['z']||_0x4eea28['z']>_0x204531['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x119198,_0xaaa2f9,_0x11f221=!(0x2071+0x515*-0x1+-0x2f*0x95)){const _0x11c325=_0x119198['center'],_0x4ccfb0=_0x119198['halfExtent'+'s'],_0x48330d=_0xaaa2f9['data'];let _0x1f3e7c=_0x48330d[-0x1*-0x752+0x1a*-0x76+0x4aa],_0x37d66a=_0x48330d[0xe85+0xd*-0x29e+0x1385],_0xe88208=_0x48330d[-0x623*0x5+0xf*0x184+0x2a9*0x3],_0x3de095=_0x48330d[0x11d0+-0x1*-0x1813+-0xdf6*0x3],_0x5412ca=_0x48330d[0x2545+-0x160a+-0xf36],_0x306f2b=_0x48330d[0xa28+-0x2159*-0x1+0x1a*-0x1ac],_0x9a9873=_0x48330d[-0x1*-0x4b7+0x1d01+0x1*-0x21b6],_0x219061=_0x48330d[0x4fe*0x4+0x2fc+-0x16ee],_0x411fb9=_0x48330d[-0x1031+-0x17b*0x12+0x3*0xe4b];if(_0x11f221){let _0x16f5b6=_0x1f3e7c*_0x1f3e7c+_0x37d66a*_0x37d66a+_0xe88208*_0xe88208;if(_0x16f5b6>-0x1c83+-0xce*-0x2b+-0x617){const _0x1ae119=(-0x1*0x1b23+-0x1*-0xbf+0x1a65)/Math['sqrt'](_0x16f5b6);_0x1f3e7c*=_0x1ae119,_0x37d66a*=_0x1ae119,_0xe88208*=_0x1ae119;}if(_0x16f5b6=_0x3de095*_0x3de095+_0x5412ca*_0x5412ca+_0x306f2b*_0x306f2b,_0x16f5b6>-0x3b*-0x6f+0x1*0x1cf0+0x3685*-0x1){const _0x3c2826=(0x1a73+-0x23*0x25+-0x3*0x721)/Math['sqrt'](_0x16f5b6);_0x3de095*=_0x3c2826,_0x5412ca*=_0x3c2826,_0x306f2b*=_0x3c2826;}if(_0x16f5b6=_0x9a9873*_0x9a9873+_0x219061*_0x219061+_0x411fb9*_0x411fb9,_0x16f5b6>0x1625*-0x1+-0xe1*-0x1+0x1544){const _0x35598c=(0x12d*-0x4+-0x1*0x629+0xade)/Math['sqrt'](_0x16f5b6);_0x9a9873*=_0x35598c,_0x219061*=_0x35598c,_0x411fb9*=_0x35598c;}}this['center']['set'](_0x48330d[0x1d9*0xc+0x33*-0x7e+-0x2*-0x17d]+_0x1f3e7c*_0x11c325['x']+_0x37d66a*_0x11c325['y']+_0xe88208*_0x11c325['z'],_0x48330d[-0x1d0e+0xa*0x1f1+-0x3*-0x33b]+_0x3de095*_0x11c325['x']+_0x5412ca*_0x11c325['y']+_0x306f2b*_0x11c325['z'],_0x48330d[0x1a74+0x9*-0xbf+-0x13af*0x1]+_0x9a9873*_0x11c325['x']+_0x219061*_0x11c325['y']+_0x411fb9*_0x11c325['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x1f3e7c)*_0x4ccfb0['x']+Math['abs'](_0x37d66a)*_0x4ccfb0['y']+Math['abs'](_0xe88208)*_0x4ccfb0['z'],Math['abs'](_0x3de095)*_0x4ccfb0['x']+Math['abs'](_0x5412ca)*_0x4ccfb0['y']+Math['abs'](_0x306f2b)*_0x4ccfb0['z'],Math['abs'](_0x9a9873)*_0x4ccfb0['x']+Math['abs'](_0x219061)*_0x4ccfb0['y']+Math['abs'](_0x411fb9)*_0x4ccfb0['z']);}static['computeMin'+'Max'](_0x2138b1,_0x3eb741,_0x232d45,_0x382ef5=_0x2138b1['length']/(0x1*-0xb29+-0x11ae+0xe6d*0x2)){if(_0x382ef5>0x1ff+-0x7ec+0x5ed*0x1){let _0x136c6b=_0x2138b1[-0xe*0x3d+-0xc6e+0xfc4],_0x5de283=_0x2138b1[0x2*0xeec+-0x1*0x65f+-0x1778],_0x2a8a68=_0x2138b1[0x28a*0x5+-0x139*0x1+-0xb77],_0x1af447=_0x136c6b,_0x42fa7d=_0x5de283,_0x141f4e=_0x2a8a68;const _0x186e2c=_0x382ef5*(0x73e+-0x1410+0xcd5);for(let _0x533ef6=-0x24ca+0x135e*-0x2+-0x4b89*-0x1;_0x533ef6<_0x186e2c;_0x533ef6+=-0x8f1+-0x608*-0x5+0xa9a*-0x2){const _0x354bef=_0x2138b1[_0x533ef6],_0x2228c0=_0x2138b1[_0x533ef6+(-0x25c7+0x110*0xd+-0x1d8*-0xd)],_0x5ecd41=_0x2138b1[_0x533ef6+(0x1590+-0x1*0x9dc+-0xbb2)];_0x354bef<_0x136c6b&&(_0x136c6b=_0x354bef),_0x2228c0<_0x5de283&&(_0x5de283=_0x2228c0),_0x5ecd41<_0x2a8a68&&(_0x2a8a68=_0x5ecd41),_0x354bef>_0x1af447&&(_0x1af447=_0x354bef),_0x2228c0>_0x42fa7d&&(_0x42fa7d=_0x2228c0),_0x5ecd41>_0x141f4e&&(_0x141f4e=_0x5ecd41);}_0x3eb741['set'](_0x136c6b,_0x5de283,_0x2a8a68),_0x232d45['set'](_0x1af447,_0x42fa7d,_0x141f4e);}}['compute'](_0x15aefc,_0xb3e68f){_e['computeMin'+'Max'](_0x15aefc,vn,bn,_0xb3e68f),this['setMinMax'](vn,bn);}['intersects'+'BoundingSp'+'here'](_0x5a9f52){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x5a9f52)<=_0x5a9f52['radius']*_0x5a9f52['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x328535){const _0x1fec58=this['getMin'](),_0x4c272b=this['getMax']();let _0x549c26=-0x1*-0xae1+-0x2554+0xb7*0x25;const _0x38093c=['x','y','z'];for(let _0x14b6d0=0x683+0x1028+-0x7*0x33d;_0x14b6d0<-0xe2e*-0x1+0x2f8*0x5+0x1*-0x1d03;++_0x14b6d0){let _0x26c415=0x8*0x83+-0x16d3*0x1+-0x2ad*-0x7;const _0x4f48ff=_0x328535['center'][_0x38093c[_0x14b6d0]],_0x55aef3=_0x1fec58[_0x38093c[_0x14b6d0]],_0x22f3a3=_0x4c272b[_0x38093c[_0x14b6d0]];let _0x2a5274=0x52*-0xa+0x7*0xc2+-0x1*0x21a;_0x4f48ff<_0x55aef3&&(_0x2a5274=_0x55aef3-_0x4f48ff,_0x26c415+=_0x2a5274*_0x2a5274),_0x4f48ff>_0x22f3a3&&(_0x2a5274=_0x4f48ff-_0x22f3a3,_0x26c415+=_0x2a5274*_0x2a5274),_0x549c26+=_0x26c415;}return _0x549c26;}['_expand'](_0x15bac0,_0x11f555){vn['add2'](this['getMin'](),_0x15bac0),bn['add2'](this['getMax'](),_0x11f555),this['setMinMax'](vn,bn);}}const gl=new T(),bS=new T();class Lf{constructor(_0x2e623d=new T(),_0x2c1338=-0x1e59+0x4d*-0x27+0x2a14+0.5){c(this,'center'),c(this,'radius'),(v['assert'](!Object['isFrozen'](_0x2e623d),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x2e623d,this['radius']=_0x2c1338);}['containsPo'+'int'](_0x10e6f5){const _0x4e56d9=gl['sub2'](_0x10e6f5,this['center'])['lengthSq'](),_0x362009=this['radius'];return _0x4e56d9<_0x362009*_0x362009;}['intersects'+'Ray'](_0xb005aa,_0x51f478){const _0x421c4a=gl['copy'](_0xb005aa['origin'])['sub'](this['center']),_0x75f1d8=_0x421c4a['dot'](bS['copy'](_0xb005aa['direction'])['normalize']()),_0x220b72=_0x421c4a['dot'](_0x421c4a)-this['radius']*this['radius'];if(_0x220b72>-0x226*0x9+0x1f*0x13a+-0x12b0&&_0x75f1d8>0x237*0x7+0x1b14+-0x2a95)return!(0x7c1+-0x1baa+0x1*0x13ea);const _0x3620eb=_0x75f1d8*_0x75f1d8-_0x220b72;if(_0x3620eb<-0x28c*-0x5+-0xb86+-0x136)return!(-0x2ad*0x8+0x62f*-0x1+0x1b98*0x1);const _0x173be6=Math['abs'](-_0x75f1d8-Math['sqrt'](_0x3620eb));return _0x51f478&&_0x51f478['copy'](_0xb005aa['direction'])['mulScalar'](_0x173be6)['add'](_0xb005aa['origin']),!(-0x1b79*-0x1+-0x1c*-0xb3+-0x2f0d);}['intersects'+'BoundingSp'+'here'](_0x16fd21){gl['sub2'](_0x16fd21['center'],this['center']);const _0x3a7c55=_0x16fd21['radius']+this['radius'];return gl['lengthSq']()<=_0x3a7c55*_0x3a7c55;}}class hy{constructor(_0x2a35e=T['UP'],_0x2d43c2=-0x1f10+-0x1ed7+0x4c3*0xd){c(this,'normal',new T()),c(this,'distance'),(this['normal']['copy'](_0x2a35e),this['distance']=_0x2d43c2);}['clone'](){const _0x4d5b57=this['constructo'+'r'];return new _0x4d5b57()['copy'](this);}['copy'](_0x5914f7){return this['normal']['copy'](_0x5914f7['normal']),this['distance']=_0x5914f7['distance'],this;}['intersects'+'Line'](_0x3ce27a,_0x2e35e1,_0x1656d2){const _0x11a053=this['distance'],_0x36bacd=this['normal']['dot'](_0x3ce27a)+_0x11a053,_0x491d2c=this['normal']['dot'](_0x2e35e1)+_0x11a053,_0x17efc4=_0x36bacd/(_0x36bacd-_0x491d2c),_0x169634=_0x17efc4>=-0x1d2f+0x1fd3*-0x1+0x72*0x89&&_0x17efc4<=0x4*-0x32b+-0xf89+0x2e*0x9d;return _0x169634&&_0x1656d2&&_0x1656d2['lerp'](_0x3ce27a,_0x2e35e1,_0x17efc4),_0x169634;}['intersects'+'Ray'](_0x1164bf,_0xed7c6a){const _0x251ec8=this['normal']['dot'](_0x1164bf['direction']);if(_0x251ec8===-0x695+-0x3*0x5cb+0x17f6)return!(0x14a7+-0xc1*-0x2+-0x8*0x2c5);const _0x556267=-(this['normal']['dot'](_0x1164bf['origin'])+this['distance'])/_0x251ec8;return _0x556267>=0x1431+-0x3*0xbb7+0xef4&&_0xed7c6a&&_0xed7c6a['copy'](_0x1164bf['direction'])['mulScalar'](_0x556267)['add'](_0x1164bf['origin']),_0x556267>=-0x1e44+-0x1cd*-0x9+0xe0f;}['normalize'](){const _0x180fb4=(-0x2482+0x1f*-0x125+0xe66*0x5)/this['normal']['length']();return this['normal']['mulScalar'](_0x180fb4),this['distance']*=_0x180fb4,this;}['set'](_0x4dc423,_0x38880b,_0x58ae80,_0x239677){return this['normal']['set'](_0x4dc423,_0x38880b,_0x58ae80),this['distance']=_0x239677,this;}['setFromPoi'+'ntNormal'](_0x378f6a,_0x7a1c90){return this['normal']['copy'](_0x7a1c90),this['distance']=-this['normal']['dot'](_0x378f6a),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x8b4693=0x1*-0x1102+0xff*-0x1f+0x2fe3;_0x8b4693<-0xf*-0x79+-0x2*-0x1175+0x1*-0x29fb;_0x8b4693++)this['planes'][_0x8b4693]=new hy();}['clone'](){const _0xd92755=this['constructo'+'r'];return new _0xd92755()['copy'](this);}['copy'](_0x439fe8){for(let _0x2db6d7=-0x1*-0x1c69+-0x22ce+0x665;_0x2db6d7<-0x16ff+-0x15a*-0xb+0x827;_0x2db6d7++)this['planes'][_0x2db6d7]['copy'](_0x439fe8['planes'][_0x2db6d7]);return this;}['setFromMat'+'4'](_0x1fde3e){const [_0x1d6cae,_0x432877,_0x4b14c1,_0x3bb0f1,_0x28e526,_0xad4564,_0x5b3b03,_0xc54e03,_0x27dd46,_0x3fbc87,_0x3cb670,_0x250cfe,_0x83173e,_0x388bf9,_0x4aebdb,_0x5a2892]=_0x1fde3e['data'],_0x2ff8b5=this['planes'];_0x2ff8b5[0x1*-0x6af+0x2484+-0x1dd5]['set'](_0x3bb0f1-_0x1d6cae,_0xc54e03-_0x28e526,_0x250cfe-_0x27dd46,_0x5a2892-_0x83173e)['normalize'](),_0x2ff8b5[-0x121f+-0x2b3*0xb+0x2fd1]['set'](_0x3bb0f1+_0x1d6cae,_0xc54e03+_0x28e526,_0x250cfe+_0x27dd46,_0x5a2892+_0x83173e)['normalize'](),_0x2ff8b5[-0x3*0xef+0x8fe+-0x62f*0x1]['set'](_0x3bb0f1+_0x432877,_0xc54e03+_0xad4564,_0x250cfe+_0x3fbc87,_0x5a2892+_0x388bf9)['normalize'](),_0x2ff8b5[-0x2*-0x446+-0x8b3+-0xe*-0x3]['set'](_0x3bb0f1-_0x432877,_0xc54e03-_0xad4564,_0x250cfe-_0x3fbc87,_0x5a2892-_0x388bf9)['normalize'](),_0x2ff8b5[0xf1c+0x1eb3+-0x2dcb]['set'](_0x3bb0f1-_0x4b14c1,_0xc54e03-_0x5b3b03,_0x250cfe-_0x3cb670,_0x5a2892-_0x4aebdb)['normalize'](),_0x2ff8b5[-0xc*0x1e+0x172e+-0x15c1]['set'](_0x3bb0f1+_0x4b14c1,_0xc54e03+_0x5b3b03,_0x250cfe+_0x3cb670,_0x5a2892+_0x4aebdb)['normalize']();}['containsPo'+'int'](_0x15b90d){for(let _0x198fcc=-0x2292+-0x1*-0x24af+-0x21d*0x1;_0x198fcc<0x180a+-0xbc5*0x3+0x3b*0x31;_0x198fcc++){const {normal:_0x57e855,distance:_0x58ff99}=this['planes'][_0x198fcc];if(_0x57e855['dot'](_0x15b90d)+_0x58ff99<=-0x2*-0x399+-0x10ec+0x9ba)return!(0xb7a*0x1+-0xb*0x2d3+-0x1*-0x1398);}return!(0x11d1*-0x2+-0x1*0x257e+0x4920);}['containsSp'+'here'](_0x11a954){const {center:_0x227972,radius:_0x9936f2}=_0x11a954;let _0x64fc80=0xf2e+-0x1*0xac7+-0x467;for(let _0x480154=-0xe4d+0x1062+-0x215;_0x480154<-0x1042+0x6*0x3d5+-0x6b6;_0x480154++){const {normal:_0x3b1c88,distance:_0x290f54}=this['planes'][_0x480154],_0x41f4e3=_0x3b1c88['dot'](_0x227972)+_0x290f54;if(_0x41f4e3<=-_0x9936f2)return-0xd40+-0x54a*0x7+0x10c2*0x3;_0x41f4e3>_0x9936f2&&_0x64fc80++;}return _0x64fc80===-0x24ad+-0x7*0x1e1+0x31da?-0xeee+0x2414+0xa4*-0x21:0x1f7a+0xb9a+-0x2b13;}}class uu{constructor(_0x8a99c6,_0x57d5fb){c(this,'origin',new T()),c(this,'direction',T['FORWARD']['clone']()),(_0x8a99c6&&this['origin']['copy'](_0x8a99c6),_0x57d5fb&&this['direction']['copy'](_0x57d5fb));}['set'](_0x252180,_0x121c0d){return this['origin']['copy'](_0x252180),this['direction']['copy'](_0x121c0d),this;}['copy'](_0x2fdf05){return this['set'](_0x2fdf05['origin'],_0x2fdf05['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const cc='linear',Ff='inverse',cy='exponentia'+'l',tt=0x1e31*0x1+0xc2*-0x1+-0x1d6f,ae=0x47f+0x1*0x2671+0x1*-0x2aef,Of=-0x140c+0xd50+-0x35f*-0x2,kf=0x53*0x25+0xcba*0x2+-0x2573,at=0x8ca*0x4+0xb66+-0x11*0x2bd,TS=0x694+0x1*-0x65a+-0x7*0x8,dy=0x2*0xf6+0x166f+-0x1857*0x1,AS=0x6ea+0x1693+0x1*-0x1d78,dc=0x3d5*0x7+0x22f2+0x1df*-0x21,uc=-0xc94+0x20ee+-0x1452,Lt=0x23b8+-0x3*-0x12f+-0x2745*0x1,ES=-0x252b+0x2*0xc04+0xd25,CS=0x2484+0x67f*0x2+-0x317f,MS=-0x185c+0x96+0x17ca,jt=0x145+-0x140*-0x3+-0x505,Th=-0xff*-0x2+-0x1c7a+0x1a7d,uy=-0x2541+-0x2692+0x4bd5,PS=0x2381*-0x1+-0xe35+0x31b9,Co=0x1b70+0x16c3+-0x32*0x101,Mo=0x44*-0xe+0xe5c+-0x551*0x2,Ah=0x205a+0x9*-0x21a+0x4*-0x35b,mt=-0x119+-0x154f+0x6*0x3bc,rn=0x3b1*-0x3+0x23d*0x2+-0x1a*-0x41,mo=-0x239a+0x1*-0x8f2+0x2c8e,RS=0x136c+-0x57*0x66+-0x163*-0xb,de=0x89f*-0x4+-0x27*-0x63+0x1367,st=0x1f26+0x2*-0x335+-0x18bb,fc=0x2103+-0x2377+0x23*0x12,pc=0x9*-0x5e+0x212d+-0x1ddc,mc=0x98f+-0x1289+0x8fe,nn=0x1eeb+-0x2*0xa88+-0x4eb*0x2,IS=0x11*-0x6e+0x1d7f+-0x1631,Eh=0xc8a+-0x1f49+0x12c0,Ch=0x1909+-0xb7d+-0x6c5*0x2,fu=-0x16bd+-0xa*-0x259+0x6*-0x1f,DS=0xec0+-0x3+-0xeb9,LS=0x11d8*-0x1+-0x1c45*-0x1+-0x3*0x378,FS=0xa*-0x164+0x1222*0x1+-0x434,Ai=-0x1*-0xcbb+-0x92e*-0x1+-0x15e2,pu=0x11*-0x8+-0x120f+0x1297,Pi=-0x38*-0x25+0x183f+-0x2056,nr=0xaad*-0x1+0x1ad2*-0x1+0x1*0x2581,fy=-0x20be+-0x23b*-0x7+0x1121*0x1,py=0x1d8e*-0x1+-0x175*0xa+0x2c21,Bf=-0x46b*-0x1+0x1206+0x166f*-0x1,_c=-0x3*0x3c8+-0x5*0x6e6+-0x61*-0x79,Nf=0xb2*0x2+0x1018+0x8*-0x22f,gc=-0x94b+0x1847+-0xef7,dr=-0x1f75+-0x1*-0xc77+0x4*0x4c1,Se=-0x23ff+-0x2163+0x4569*0x1,yc=0x86*0x17+-0x223*0xf+0x140b*0x1,zf=0xa2+-0x1*-0xa81+0x196*-0x7,Wo=0xc15*0x3+-0xdc7*0x1+-0x166e,xc=0x1548+0x2433+-0x72e*0x8,Je=0x26b6+-0x242*-0x6+-0x3436,Sc=0x1*-0x449+0xa2e+-0x5d8,Ke=0x22*0x79+-0xa*0x13+-0xf46,Ii=-0x3*-0x312+0x1c01+0x4*-0x94a,Ci=0x1f*0x6b+-0xa*-0x346+-0x1*0x2da1,vc=0x56b*-0x7+-0x4e4+0x2ae2,_a=-0xd0b+0x26*-0x65+0x1c1b,Uf=-0x2*-0x39a+0x1*0x2231+0x6*-0x6e3,rs=0x1*-0x1a95+0x1b6f+-0x42*0x3,bc=0x2e6+-0x3*-0x2e1+-0xb74,Vf=-0x39+-0x671*-0x1+-0x2*0x311,Gf=-0x6c*0x4b+-0xbf+0x207a,qo=0x2*-0x9e3+0x1157+0x287,Xo=-0x242f+-0x1dbb+-0x189*-0x2b,wc=0x2692+-0x177d+-0x41*0x3b,Tc=-0x1*0x3e+-0xc0b*-0x3+-0x23c8,my=0x1d31+-0x2067+0x352,_y=0x205b*-0x1+0xa75*0x3+-0x1*-0x119,gy=-0x71b+-0x18f2+0x9*0x393,yy=-0x89*0x25+-0x1930+0x2d1c,Hf=-0x22bb+0x239b+-0x60*0x2,xy=-0xd77+0x10f6+0x1af*-0x2,$f=0x1aea+0x3*0x3ab+0x11*-0x239,Wf=-0x2454+-0x1470+0x38e7,qf=0x19b6+-0x3*0x7b7+-0x17*0x1b,an=0x11*-0x44+-0x2*0xbc9+-0x49*-0x63,Xf=0x150e+0xd93*-0x1+0x755*-0x1,Sy=0xb1e*0x3+0xcdd+-0x1*0x2e10,jf=-0x43*-0x31+0x1520+-0x21cb,Yf=-0x1434+0xf0d+0x550,Kf=-0xc17*0x2+-0xd81+0x25d9,Zf=-0x3a*-0x34+0x213+-0xdb0,Qf=0x241*0x5+0x11df+-0x18*0x135,vy=0x85a*-0x1+-0x2333*0x1+0x2bba,Jf=0x10a6+0x21b4*-0x1+-0x2*-0x89e,Ac=-0xdd5+0x1023+-0x21f*0x1,ep=-0x8dd+0xddb*0x2+-0x12a9,ut=0xd*-0xf5+-0x1*0x23e9+0x308b,Ec=0x781*0x1+0x236b*0x1+-0x6*0x71f,tp=0x1312+-0x6b*0x1+0x1274*-0x1,sp=0x34b+-0x1a0a+0x16f3,ip=0x3e3*-0x1+-0x17b*-0xa+-0xab6,mu=-0x1733+0xb*0x156+0x8b7,_u=-0x18b6*0x1+-0xb5f+0x2*0x1226,gu=-0xdde+-0xaf8+-0x6*-0x42d,yu=0x1b2f*-0x1+0xbc1*0x1+0xfab,xu=-0x175f+0x21fa+-0xa5d,Su=0x4c3*-0x1+0xc0d+-0x70b,by=-0x28a+0x1*0xfd5+-0xd0b,wy=0x27*0xdf+-0xb51+-0x9b*0x25,Ty=-0x192f+0x1*0x315+0x165c,Ay=-0xb1+-0x1f23+-0x2017*-0x1,vu=0xf9a+0x1*0x686+-0x577*0x4,la=0x1f*0xcd+0x1a95+-0x2b1*0x13,xt=new Map([[fy,{'name':'A8','size':0x1,'ldr':!(-0x17ee*0x1+0x21*-0xa6+-0x3*-0xf1c)}],[sp,{'name':'R8','size':0x1,'ldr':!(0x25f3+-0x309+-0x22ea*0x1)}],[py,{'name':'L8','size':0x1,'ldr':!(-0x2381+0x261c+0x1*-0x29b)}],[Bf,{'name':'LA8','size':0x2,'ldr':!(-0x32e*-0xa+0xf11*0x1+-0x183*0x1f)}],[ip,{'name':'RG8','size':0x2,'ldr':!(-0x208*-0xa+-0x15f7*0x1+-0x3*-0x8d)}],[_c,{'name':'RGB565','size':0x2,'ldr':!(-0xc0d+0x924+0x2e9)}],[Nf,{'name':'RGBA5551','size':0x2,'ldr':!(0xf53+0x3b4+-0x1307*0x1)}],[gc,{'name':'RGBA4','size':0x2,'ldr':!(-0x23fd+0x1*-0x244e+0x484b)}],[dr,{'name':'RGB8','size':0x4,'ldr':!(-0x1f0d+0x2502+-0x5f5)}],[Se,{'name':'RGBA8','size':0x4,'ldr':!(-0x1*-0x25b3+0x23b4+-0x3dd*0x13),'srgbFormat':rs}],[Ec,{'name':'R16F','size':0x2}],[tp,{'name':'RG16F','size':0x4}],[xc,{'name':'RGB16F','size':0x8}],[Je,{'name':'RGBA16F','size':0x8}],[Sc,{'name':'RGB32F','size':0x10}],[Ke,{'name':'RGBA32F','size':0x10}],[Ii,{'name':'R32F','size':0x4}],[Ci,{'name':'DEPTH','size':0x4}],[la,{'name':'DEPTH16','size':0x2}],[vc,{'name':'DEPTHSTENC'+'IL','size':0x4}],[_a,{'name':'111110F','size':0x4}],[Uf,{'name':'SRGB8','size':0x4,'ldr':!(0x1539+-0x3*0x30a+0x3*-0x409),'srgb':!(0x1e01*0x1+-0x26ac+0x8ab)}],[rs,{'name':'SRGBA8','size':0x4,'ldr':!(0x17b9*0x1+0x8*-0x3d8+0x707),'srgb':!(-0xb7e+-0x1a64+0x25e2)}],[yy,{'name':'BGRA8','size':0x4,'ldr':!(-0x1*0x122+0x934+-0x812)}],[by,{'name':'SBGRA8','size':0x4,'ldr':!(0xb64*-0x1+0x3da*-0x8+-0xa8d*-0x4),'srgb':!(0xde2*0x1+-0x6e2*-0x3+-0x2288)}],[yc,{'name':'DXT1','blockSize':0x8,'ldr':!(-0xeff*0x1+-0x180*-0xe+-0x601),'srgbFormat':mu}],[zf,{'name':'DXT3','blockSize':0x10,'ldr':!(-0x577+-0x1c6*0x11+0x3*0xbdf),'srgbFormat':_u}],[Wo,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x1072+-0x7d8+-0x184a*-0x1),'srgbFormat':gu}],[bc,{'name':'ETC1','blockSize':0x8,'ldr':!(0x24a8+-0x6*0x66c+0x1e0)}],[Vf,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0x6*-0x1a0+0x141e+-0x52f*0x2),'srgbFormat':yu}],[Gf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0x2167+0x20fa+0x1*0x6d),'srgbFormat':xu}],[qo,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0x367*0x5+0x639+0x2*0x565),'blockSize':0x8}],[Xo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x3b3*-0x1+0x1*-0x115d+0x1510),'blockSize':0x8}],[wc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x5f*0x49+0x15f1+-0x2*0x1884),'blockSize':0x8}],[Tc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0xcd+0x6c1*0x5+-0x20f8),'blockSize':0x8}],[my,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(0x2495+0xaa7*0x3+0x236*-0x1f),'srgbFormat':Su}],[_y,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x2*0x266+-0x9d+0x569)}],[gy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x200c+0x4a8*-0x1+-0x1b64*0x1)}],[wy,{'name':'BC6H_RGBF','blockSize':0x10}],[Ty,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ay,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x4e2*0x2+0x53c+-0xa*-0x74),'srgbFormat':vu}],[mu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(0x8c1+-0x43*0x56+0x7*0x1f7),'srgb':!(-0xf2a+-0x16fb+0x2625)}],[_u,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x365+0x755*0x3+0x2*-0x94d),'srgb':!(0x8e7*-0x2+-0x1586+-0x347*-0xc)}],[gu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x165e+-0x976+-0xce8),'srgb':!(-0x51b+-0x1*0x335+-0x4*-0x214)}],[yu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(-0x1*0x1ba7+-0x107+0x2*0xe57),'srgb':!(-0x37*0x5+0x51a+0x1*-0x407)}],[xu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x1*-0x1bfa+0x2212+-0x618),'srgb':!(0x20f2+-0x4af*-0x8+-0x1*0x466a)}],[Su,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x16d4+0x1f65+-0x3639),'srgb':!(-0x1a4c+0xca*0x29+-0x60e)}],[vu,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x5ad*-0x1+0x91d*-0x2+0x17e7),'srgb':!(-0xe29+-0x477+-0x95*-0x20)}],[Hf,{'name':'R8I','size':0x1,'isInt':!(-0x336*-0x7+0x1f11*0x1+0x1*-0x358b)}],[xy,{'name':'R8U','size':0x1,'isInt':!(0xb8c+0x5b2+-0x89f*0x2)}],[$f,{'name':'R16I','size':0x2,'isInt':!(0x984+0x438+-0x36f*0x4)}],[Wf,{'name':'R16U','size':0x2,'isInt':!(-0xa1f*-0x1+0x77*-0x3d+-0x4*-0x48f)}],[qf,{'name':'R32I','size':0x4,'isInt':!(-0x2*0x839+-0x2b9*0x1+-0x2bd*-0x7)}],[an,{'name':'R32U','size':0x4,'isInt':!(-0xe*0x23+0x1c76+0x1a8c*-0x1)}],[Xf,{'name':'RG8I','size':0x2,'isInt':!(0x39*-0x67+0x57d+-0x1172*-0x1)}],[Sy,{'name':'RG8U','size':0x2,'isInt':!(-0x511*-0x1+-0x1b4f+-0xb1f*-0x2)}],[jf,{'name':'RG16I','size':0x4,'isInt':!(-0x1*-0x68+-0x61f+-0x85*-0xb)}],[Yf,{'name':'RG16U','size':0x4,'isInt':!(0xdd*0x2b+0x1075*0x2+-0x4609)}],[Kf,{'name':'RG32I','size':0x8,'isInt':!(0x4c2+-0x1*-0x159a+-0x1a5c)}],[Zf,{'name':'RG32U','size':0x8,'isInt':!(-0x1a9e+-0x11c0*-0x2+-0x471*0x2)}],[Qf,{'name':'RGBA8I','size':0x4,'isInt':!(-0x78a+0x24c8+-0x1d3e)}],[vy,{'name':'RGBA8U','size':0x4,'isInt':!(0x24ff+0x178b*-0x1+-0xd74)}],[Jf,{'name':'RGBA16I','size':0x8,'isInt':!(0x730+-0x1*0x39a+-0x396)}],[Ac,{'name':'RGBA16U','size':0x8,'isInt':!(0x1c95+0x10fd*-0x1+0x38*-0x35)}],[ep,{'name':'RGBA32I','size':0x10,'isInt':!(0x26ec+0x1*-0xa85+0x1*-0x1c67)}],[ut,{'name':'RGBA32U','size':0x10,'isInt':!(-0x1*0x1d2a+0xb47*-0x2+0x5*0xa58)}]]),OS=_0x8baeeb=>{var _0x436153;return((_0x436153=xt['get'](_0x8baeeb))==null?void(-0x1d2a+0x2339*-0x1+0x4063):_0x436153['blockSize'])!==void(0xcdd+0x24a6*-0x1+-0x17c9*-0x1);},Mh=_0x223fb0=>{var _0x1582a5;return((_0x1582a5=xt['get'](_0x223fb0))==null?void(0x2f5*-0x1+-0x4a*-0x3a+-0xdcf):_0x1582a5['srgb'])===!(0x20da+-0x100f*-0x2+-0x40f8);},ea=_0x189c40=>{var _0x595416;return((_0x595416=xt['get'](_0x189c40))==null?void(-0x21c8+-0x353+0x251b):_0x595416['isInt'])===!(-0x17ed+0x1916+-0x129);},Cc=_0x283a75=>{var _0xa74154;return((_0xa74154=xt['get'](_0x283a75))==null?void(-0x11*0x1ab+-0x1999+0x4*0xd7d):_0xa74154['srgbFormat'])||_0x283a75;},kS=_0x36c6d5=>{for(const [_0x500fc,_0x37f789]of xt)if(_0x37f789['srgbFormat']===_0x36c6d5)return _0x500fc;return _0x36c6d5;},Ey=_0x931535=>{const _0xc5aa55=xt['get'](_0x931535);return!!(_0xc5aa55!=null&&_0xc5aa55['ldr']&&!(_0xc5aa55!=null&&_0xc5aa55['srgb']));},Cy=_0x55fd48=>{switch(_0x55fd48){case Ii:case Sc:case Ke:return Float32Array;case qf:case Kf:case ep:return Int32Array;case an:case Zf:case ut:return Uint32Array;case $f:case jf:case Jf:return Int16Array;case ip:case Wf:case Yf:case Ac:case _c:case Nf:case gc:case Ec:case tp:case xc:case Je:return Uint16Array;case Hf:case Xf:case Qf:return Int8Array;default:return Uint8Array;}},Mc=0x1*-0x12b3+0x19ee+-0x73b,Pc=-0x12f5*0x2+-0x1803+0x3dee,My=0x409*0x1+-0xdcb+-0x271*-0x4,Py=0x9b*-0x17+0x1c7f+-0xe8f,Ms=-0x1*-0x1c99+0x21*0xd7+0x384c*-0x1,ar=-0x21ce+-0xc89*-0x3+-0x3c8,Yr=-0x1*0x1ee3+0x19eb+0x4fe,He='POSITION',Yt='NORMAL',Zs='TANGENT',Ys='BLENDWEIGH'+'T',qt='BLENDINDIC'+'ES',At='COLOR',om='TEXCOORD',ns='TEXCOORD0',_n='TEXCOORD1',jo='TEXCOORD2',Yo='TEXCOORD3',Ko='TEXCOORD4',Zo='TEXCOORD5',Qo='TEXCOORD6',Jo='TEXCOORD7',bu='ATTR0',wu='ATTR1',Ry='ATTR2',Iy='ATTR3',Dy='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Po='ATTR8',Ro='ATTR9',US='ATTR10',VS='ATTR11',rp='ATTR12',ga='ATTR13',np='ATTR14',ya='ATTR15',Ly=0x1ec6+-0x1*0xfe3+-0x1e*0x7f,ha=0x161*0x16+0x13f0+-0x3246,GS=-0x26d0+-0xac2+-0x4c*-0xa7,HS=-0x2485+0x1*0x1bbf+0x8c9,$S=-0x6ef*-0x1+-0x37*-0x26+-0xc1*0x14,yl=-0x2*0xdd1+0x425*0x9+-0x1ef*0x5,Fy=0x125b+-0xcd6*0x2+0x752,rd=0x58c+-0x1ae2+0x1558,Di='default',on='rgbm',ap='rgbe',Io='rgbp',op='swizzleGGG'+'R',Tu=0xd36+0x2*0xfef+-0x2d13,ur=-0xcfd+-0x1*-0x9e+0xc61,Oy=0x1b62+0x243*-0x2+0x1*-0x16d9,Us='2d',WS='2d-array',qS='cube',XS='3d',oh=-0x1c31+-0x20d2+-0x1*-0x3d03,nd=0x1*0x69c+-0xa55+0x3ba,jS=0x1*-0x1620+0x2*-0x96d+0x28fc,YS=-0x98a+0x17a3+-0x1*0xe16,KS=-0x1f5d+-0x1*0x1fe7+0x3f48,ZS='none',Au='cube',lm='equirect',QS='octahedral',ky='glsl',Ph='wgsl',Rc=-0xa6f*0x2+0x372+0x116c,Kr=-0x6*-0xc+0x1d3f+-0xec3*0x2,Ic=0x1e93+0x14e6+-0x3377,el=0xcfe+-0x186b+0xb70,By=-0x17fa+0x1*-0x1459+0x2c57,Do=-0x1*0x209c+-0xd4*0x1f+0x3a4d,Ee=0xc57*0x2+0x1*-0x2011+0x769,ca=-0xc91+-0x166*-0x8+0x161,ln=-0x1b*-0x2f+-0x5cc+0xd8,Ws=0x3*-0x51e+-0xad8+0x1a34,or=0x1cbb+0x1c13*0x1+-0x1f*0x1d5,Wt=0x2f9+-0x1130+0x1*0xe3b,xa=-0x87*-0x2+0x1671+-0x2*0xbbd,Zr=-0x566*-0x2+0x1d49+-0x280f,Qr=0xd4e+-0x1904*-0x1+0x1*-0x264b,Jr=0x2*0x895+-0xc1*0x19+0x1*0x1b7,Lo=-0xbf2*-0x2+0x4*0x14b+0x9ad*-0x3,Fo=-0x1a8d+0x783*-0x1+0x221a,Oo=-0x1dae+-0x1160*0x1+-0x2f19*-0x1,Rh=0x1ee9+0x14cf+-0x1*0x33ac,ko=0x1*0x10b9+-0x144*0x1a+0x103c*0x1,Sa=0x238f+0x1533+-0x38b4,JS=0x16*-0x1d+-0x25de+0x286b,ev=-0x219c+-0xadd+0x2c89,Dc=0x1609+-0x18af+-0x1*-0x2b7,tv=0x16f5+0xe*-0x245+0x8e3,sv=-0x96+-0x25*-0x49+-0x9e4,iv=0x2227+0x1*-0x138d+-0xe86,Lc=-0x1*0x1765+-0x17*-0x193+-0xcbb,Fc=-0x23b7+0x119b+-0x1*-0x1232,lp=0x1*0x88b+0x6cd+-0xf41,Ny=0x918+-0x185e+0x1*0xf5e,rv=-0x2*-0x1204+-0xce7+-0x4*0x5c2,va=-0x1d*0x53+-0x59+0x9da*0x1,ba=0x2*0x1295+-0x1eee*0x1+-0x20b*0x3,wa=0xf11+0x19a*0x2+0x1*-0x1229,Ta=0xb5*0x3+0x2440+-0x1321*0x2,Aa=0x2158+0x15df+-0x3719,Oc=-0x740+-0x2651+0x158*0x22,kc=-0x1e36+-0x2*0x10d3+0x111*0x3c,Ea=-0x14*-0x190+-0x23*0xa3+-0x8d6,Bc=0xb*-0x4b+-0x1623+0x197e,Nc=-0x15be+-0x129c*-0x2+-0xf57,Ca=-0xbf*0xf+0x175b+-0xc06,zc=0x73d+0x42d*-0x5+0x1*0xdc9,Uc=0x2048+0x1*-0x2335+0x313*0x1,Ih=0x1*-0x1efd+0x1939+0x5eb,hp=-0x2288+0x50d+0x119*0x1b,cp=-0xcf5+0xff*-0x4+0x111a,nv=-0x157*-0x16+-0x7d3*0x3+0x5*-0x12b,av=0x1b0b+-0x2*0xf19+-0xa*-0x55,ov=0x2402+-0x1*-0xca3+-0x3079*0x1,lv=0x12e+0x1*0x6fd+0x1f*-0x42,hv=0x3*0x967+-0x1181*-0x1+-0xb62*0x4,cv=-0x7b*0xb+-0x338+0x8b0,dv=-0xe45+-0x1*0x2534+0x19*0x211,uv=-0x1a45+-0x4*-0x389+-0x629*-0x2,dp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0x33e7db,_0x4ac951)=>{_0x33e7db['forEach'](_0x30f917=>pv['set'](_0x30f917,_0x4ac951));});const mv='webgl2',up=0x2*-0x6d+0xadc+-0xa01,li=-0x89*0x21+0x20aa+0xb*-0x15d,_v=-0x25bf*0x1+0x1*0x2ef+-0x1*-0x22d4,gv='ldr',zy=0x1*-0x2144+0x2a8*-0x8+0x11*0x335,Uy=0xa7+0x5*0x236+-0xbb3,Vy=-0x270b+0x20fd*-0x1+0x6a*0xae,Gy=0x1*0x67a+0x13*0x111+0x1*-0x1ab5,Hy=-0x6c+0x1272+0x1*-0x11f6,$y=-0x9a0+0x2372+-0x19b2,Wy=-0x1*-0x14ff+0x2*0x289+-0x19d1,qy=0x928+0x1cbc+-0x4*0x959,yv=0x60*0x14+-0x8d*-0x5+-0x942,Dh=-0x3*0xb5f+-0x3e*0x77+-0x1*-0x3eef,Xy=-0x1210+0x989+-0x138*-0x7,Eu=-0x24d6+0x9fe+-0x3d6*-0x7,xv=['view','mesh','mesh_ub'],fp='default',da=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],_o=[0xb21+-0x1d*-0x1c+-0x7a*0x1e,0x1f52+0x12c3+-0x3214,-0x19d1+-0xa3*0x8+0x1eeb,-0x12c7+-0x25e8+0x1*0x38b1,-0x30*0xa6+-0x4b5+0x23d9,0x6*0x509+0x24b7+-0x42e9,-0x47*-0x89+0x2*-0xc16+0x2c3*-0x5,0x1cc+-0x2587+0x23bd],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Lh=[Uint8Array,Uint16Array,Uint32Array],vv=[-0xf3*-0x9+-0x20*-0xe3+-0xe1*0x2a,0x219d+-0x1*-0xbc3+-0x2d5e,0x8b3*-0x1+-0x3a0+0x9*0x15f],ve={};ve[He]=-0x1bd6*-0x1+0x16ab*-0x1+-0x52b,ve[Yt]=0xce0+0x2324+-0x3003*0x1,ve[Ys]=-0x1e0f+-0x92a+0x273b,ve[qt]=-0x2f6*-0x1+0x47e+-0x771,ve[At]=0x8da+-0x1542+0xc6c,ve[ns]=0xc30+-0x42*-0x8f+-0x3109,ve[_n]=0x121f*-0x1+0xd*-0x12b+0x36*0x9e,ve[jo]=-0xe*0x1cd+-0x1423+0x790*0x6,ve[Yo]=0x1e97+-0xb*-0x31d+-0x1da*0x23,ve[Ko]=0x28f+0x143e+-0x16c4,ve[Zo]=-0xde0+0x23*-0x12+0x830*0x2,ve[Qo]=0x3*-0x73c+-0x15da+0x1*0x2b99,ve[Jo]=0x2536+-0x23ee+-0x13c,ve[Zs]=-0x2f6*-0x3+0x23c3+0x164c*-0x2,ve[bu]=-0x92c+-0xc29*-0x1+-0x2fd,ve[wu]=0xd6e+0x10f*0x9+-0xb7a*0x2,ve[Ry]=0x3f3*-0x3+-0xda2+0x197d,ve[Iy]=0xf8f+0x1*-0x56e+-0x1*0xa1e,ve[Dy]=-0xb4e+-0x162f+0x2181,ve[BS]=-0x1bb+-0x22aa+0x246a,ve[NS]=0x29*0x7b+0x1ae0+-0x2e8d,ve[zS]=0x1827+0x1*0x230d+0x3b2d*-0x1,ve[Po]=-0x10b9+-0x1f05*0x1+0x1*0x2fc6,ve[Ro]=-0x47f+-0x21a1*0x1+0x2629,ve[US]=0x1954+-0x1d0f*0x1+0x5*0xc1,ve[VS]=0x15de*0x1+-0x14c2+-0x111,ve[rp]=-0x1fc2*-0x1+0x15ab+-0x3561,ve[ga]=0x20e0+-0x15b6+-0xb1d,ve[np]=0x6*-0x4ab+-0x6*0x679+0x42e6,ve[ya]=-0xb*0x161+-0x1079+0x1fb3;const Ui='1.51',wi='1.55',_r='1.56',St='1.57',ad='1.60',me='1.62',hi='1.65',hm='1.70',cm='2.1',bv='2.3',wn='2.5',Ki=class Ki{static['clearGpuMa'+'rkers'](){Ki['markers']['length']=-0x209e+0x2*0x517+0x1670;}static['pushGpuMar'+'ker'](_0x46ee77,_0x10b864){Ki['markers']['push'](_0x10b864),_0x46ee77['pushMarker'](_0x10b864);}static['popGpuMark'+'er'](_0x4a6040){Ki['markers']['length']&&Ki['markers']['pop'](),_0x4a6040['popMarker']();}static['toString'](){return Ki['markers']['join']('\x20|\x20');}};c(Ki,'markers',[]);let G=Ki,wv=-0x16dd+0xd*0x69+0x1188;const Tv={[Us]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[WS]:'texture2DA'+'rray'};class Vc{constructor(_0x5e1f9b,_0x1bf0d4){c(this,'slot',-(0x18b6+-0x8a7+-0x100e)),c(this,'scopeId',null),(this['name']=_0x5e1f9b,this['visibility']=_0x1bf0d4);}}class pp extends Vc{}class Av extends Vc{constructor(_0x2427d9,_0x196253,_0x157715=!(-0x9f7*-0x1+-0x201f+0x1629)){super(_0x2427d9,_0x196253),c(this,'format',''),(this['readOnly']=_0x157715,v['assert'](_0x157715||!(_0x196253&up),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class fi extends Vc{constructor(_0x25787b,_0x455be3,_0x46a75d=Us,_0xf2127d=oh,_0x2d33ae=!(-0x1*0x1297+-0x1d75*-0x1+-0x1a*0x6b),_0x8e580=null){super(_0x25787b,_0x455be3),this['textureDim'+'ension']=_0x46a75d,this['sampleType']=_0xf2127d,this['hasSampler']=_0x2d33ae,this['samplerNam'+'e']=_0x8e580??_0x25787b+'_sampler';}}class Ev extends Vc{constructor(_0x4c20f4,_0x94f528=Se,_0x2e2163=Us,_0x1982a5=!(-0x18e5+-0x1b01+0x33e6),_0x5764d9=!(0x96*-0xb+0x1a1*0xc+0x1df*-0x7)){super(_0x4c20f4,_v),this['format']=_0x94f528,this['textureDim'+'ension']=_0x2e2163,this['write']=_0x1982a5,this['read']=_0x5764d9;}}(function(){let _0x4450cc;try{const _0xb578ba=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x4450cc=_0xb578ba();}catch(_0x376b0a){_0x4450cc=window;}_0x4450cc['setInterva'+'l'](_0x2d7104,-0x2106*0x1+-0x193c+-0x1*-0x4212);}());class jy{constructor(_0x12e1ef,_0x136ac0){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,mn['setName'](this,'BindGroupF'+'ormat_'+this['id']),v['assert'](_0x136ac0));let _0x3b950b=-0x1*-0x76f+0x1324+-0x1*0x1a93;_0x136ac0['forEach'](_0x15f8ee=>{_0x15f8ee['slot']=_0x3b950b++,_0x15f8ee instanceof fi&&_0x15f8ee['hasSampler']&&_0x3b950b++,_0x15f8ee instanceof pp?this['uniformBuf'+'ferFormats']['push'](_0x15f8ee):_0x15f8ee instanceof fi?this['textureFor'+'mats']['push'](_0x15f8ee):_0x15f8ee instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x15f8ee):_0x15f8ee instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x15f8ee):v['assert']('Invalid\x20bi'+'nd\x20format',_0x15f8ee);}),this['device']=_0x12e1ef;const _0x17056f=_0x12e1ef['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x170d6e,_0x46c301)=>this['bufferForm'+'atsMap']['set'](_0x170d6e['name'],_0x46c301)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x5068d9,_0x5c620a)=>{this['textureFor'+'matsMap']['set'](_0x5068d9['name'],_0x5c620a),_0x5068d9['scopeId']=_0x17056f['resolve'](_0x5068d9['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x26f03c,_0x12477a)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x26f03c['name'],_0x12477a),_0x26f03c['scopeId']=_0x17056f['resolve'](_0x26f03c['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x1641fc,_0xe46c84)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x1641fc['name'],_0xe46c84),_0x1641fc['scopeId']=_0x17056f['resolve'](_0x1641fc['name']);}),this['impl']=_0x12e1ef['createBind'+'GroupForma'+'tImpl'](this),v['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0xe93266){const _0x42993d=this['textureFor'+'matsMap']['get'](_0xe93266);return _0x42993d!==void(0x1*0x123b+-0x94*-0x9+0x7*-0x359)?this['textureFor'+'mats'][_0x42993d]:null;}['getStorage'+'Texture'](_0x2951b5){const _0x580cde=this['storageTex'+'tureFormat'+'sMap']['get'](_0x2951b5);return _0x580cde!==void(-0xe21*0x1+-0x1044+0x1e65)?this['storageTex'+'tureFormat'+'s'][_0x580cde]:null;}['getShaderD'+'eclaration'+'Textures'](_0x40030a){let _0x4265f2='';return this['textureFor'+'mats']['forEach'](_0x3acbc7=>{let _0x12691c=Tv[_0x3acbc7['textureDim'+'ension']];v['assert'](_0x12691c,'Unsupporte'+'d\x20texture\x20'+'type',_0x3acbc7['textureDim'+'ension']);const _0x466bae=_0x12691c==='texture2DA'+'rray',_0x18ad45=_0x3acbc7['sampleType']===KS?'u':_0x3acbc7['sampleType']===YS?'i':'';_0x12691c=''+_0x18ad45+_0x12691c;let _0x3ca101='',_0x300f32='';_0x466bae&&(_0x3ca101='_texture',_0x300f32='#define\x20'+_0x3acbc7['name']+'\x20'+_0x18ad45+('sampler2DA'+'rray(')+_0x3acbc7['name']+_0x3ca101+',\x20'+_0x3acbc7['name']+'_sampler)\x0a'),_0x4265f2+='layout(set'+'\x20=\x20'+_0x40030a+(',\x20binding\x20'+'=\x20')+_0x3acbc7['slot']+')\x20uniform\x20'+_0x12691c+'\x20'+_0x3acbc7['name']+_0x3ca101+';\x0a',_0x3acbc7['hasSampler']&&(_0x4265f2+='layout(set'+'\x20=\x20'+_0x40030a+(',\x20binding\x20'+'=\x20')+(_0x3acbc7['slot']+(-0x1bcf+-0x2558*-0x1+-0x988*0x1))+(')\x20uniform\x20'+'sampler\x20')+_0x3acbc7['name']+'_sampler;\x0a'),_0x4265f2+=_0x300f32;}),_0x4265f2;}['loseContex'+'t'](){}}class Ot{constructor(){c(this,'_cache',new Map());}['get'](_0x46aab9,_0xca3717){return this['_cache']['has'](_0x46aab9)||(this['_cache']['set'](_0x46aab9,_0xca3717()),_0x46aab9['on']('destroy',()=>{this['remove'](_0x46aab9);}),_0x46aab9['on']('devicelost',()=>{var _0x8b56db,_0x2928c9;(_0x2928c9=(_0x8b56db=this['_cache']['get'](_0x46aab9))==null?void(0x12ea+-0xd*-0x2fe+-0x39d0):_0x8b56db['loseContex'+'t'])==null||_0x2928c9['call'](_0x8b56db,_0x46aab9);})),this['_cache']['get'](_0x46aab9);}['remove'](_0x931703){var _0x283f5f,_0xa13da6;(_0xa13da6=(_0x283f5f=this['_cache']['get'](_0x931703))==null?void(0x18f+0x5*-0x1c1+0x736):_0x283f5f['destroy'])==null||_0xa13da6['call'](_0x283f5f,_0x931703),this['_cache']['delete'](_0x931703);}}class Mi{static['calcLevelD'+'imension'](_0x25e8e2,_0x37fe52){return Math['max'](_0x25e8e2>>_0x37fe52,-0xc9d+-0x121*0x11+0x1fcf);}static['calcMipLev'+'elsCount'](_0x5e2315,_0xc7af41,_0x468727=-0x1c0f+0x628+0x15e8){return-0x13ac*-0x1+-0x1555+0x3*0x8e+Math['floor'](Math['log2'](Math['max'](_0x5e2315,_0xc7af41,_0x468727)));}static['calcLevelG'+'puSize'](_0x54cfd1,_0x128d74,_0xe1fc52,_0x496418){var _0x155dec;const _0x57d95a=xt['get'](_0x496418);v['assert'](_0x57d95a!==void(0xa88+0x183f+-0x22c7*0x1),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x496418);const _0x35f714=((_0x155dec=xt['get'](_0x496418))==null?void(-0x16a1+0x20c2+-0xa21):_0x155dec['size'])??-0xbb1+0x1464+-0x1*0x8b3;if(_0x35f714>0x53*0x4d+-0x2*0xc56+-0x5*0xf)return _0x54cfd1*_0x128d74*_0xe1fc52*_0x35f714;const _0x5dade3=_0x57d95a['blockSize']??-0xb47*-0x1+0x120d*-0x2+0x18d3;let _0x37d80c=Math['floor']((_0x54cfd1+(-0x239b+-0x1*0x2414+-0x2*-0x23d9))/(0x1b28+0xb1d+-0x2641));const _0x4143d0=Math['floor']((_0x128d74+(0x6a1*-0x1+0x1*0x1ea6+-0x1802))/(-0xa*-0x361+-0x178f+-0xa37)),_0x241968=Math['floor']((_0xe1fc52+(-0x4ef+-0x1889*-0x1+0x127*-0x11))/(0x1*0x244a+0x5a*0x1d+0x4*-0xb9e));return(_0x496418===qo||_0x496418===Xo)&&(_0x37d80c=Math['max'](Math['floor'](_0x37d80c/(-0x33d*0x9+-0x241*0x2+0x7*0x4cf)),0xd2e+0x10a*-0x11+0x47d)),_0x37d80c*_0x4143d0*_0x241968*_0x5dade3;}static['calcGpuSiz'+'e'](_0x1d0f67,_0x18a60d,_0x5e6e50,_0x316c41,_0x374f63,_0x5b9eed){let _0x27ab49=0x27d*0x7+0x14f2+-0x1ab*0x17;for(;_0x27ab49+=Mi['calcLevelG'+'puSize'](_0x1d0f67,_0x18a60d,_0x5e6e50,_0x316c41),!(!_0x374f63||_0x1d0f67===0x958+-0x1f94*0x1+0x163d&&_0x18a60d===-0x16e5+-0x1187*0x1+-0x4f*-0x83&&_0x5e6e50===0xe*0x2e+0x788+0xa0b*-0x1);)_0x1d0f67=Math['max'](_0x1d0f67>>-0x157*0x13+0x1afb+0x1*-0x185,0x2229+-0x110c+0x111c*-0x1),_0x18a60d=Math['max'](_0x18a60d>>0xde9*-0x2+-0x3*-0xcaa+-0x89*0x13,0x1011+0x4b*0x67+-0x1*0x2e3d),_0x5e6e50=Math['max'](_0x5e6e50>>0x1*0x11f5+-0x24b0+0x12bc,0x1a7f+0xc91*0x2+-0x33a0);return _0x27ab49*(_0x5b9eed?-0x1d4f+-0x41*-0x40+0xc5*0x11:0x1214+0x228f*0x1+-0x34a2);}}let Cv=0xb50+0x94*-0x26+0xaa8;class he{constructor(_0x539e18,_0x54130b={}){c(this,'name'),c(this,'_gpuSize',0x7a2+0x3*-0x68+-0x66a),c(this,'id',Cv++),c(this,'_invalid',!(0x1823+0x1aa6+-0x32c8)),c(this,'_lockedLev'+'el',-(0x25*-0x4c+0x551+0xc*0x79)),c(this,'_lockedMod'+'e',yl),c(this,'renderVers'+'ionDirty',0x15de+0x1323+0x3*-0xdab),c(this,'_storage',!(0x31c*-0x3+0x169b*-0x1+-0x1ff*-0x10)),c(this,'_numLevels',0x21fb*0x1+0x2*-0x92b+0x321*-0x5),c(this,'_numLevels'+'Requested');var _0x259c80;this['device']=_0x539e18,v['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),v['assert'](!_0x54130b['width']||Number['isInteger'](_0x54130b['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x54130b),v['assert'](!_0x54130b['height']||Number['isInteger'](_0x54130b['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x54130b),v['assert'](!_0x54130b['depth']||Number['isInteger'](_0x54130b['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x54130b),this['name']=_0x54130b['name']??'',this['_width']=Math['floor'](_0x54130b['width']??0x16*-0x49+0xca*-0xf+-0x8*-0x244),this['_height']=Math['floor'](_0x54130b['height']??-0x1*0x8cb+0x3a*0x81+-0x146b*0x1),this['_format']=_0x54130b['format']??Se,this['_compresse'+'d']=OS(this['_format']),this['_integerFo'+'rmat']=ea(this['_format']),this['_integerFo'+'rmat']&&(_0x54130b['minFilter']=de,_0x54130b['magFilter']=de),this['_volume']=_0x54130b['volume']??!(-0x1*0x19ad+0x1f71*-0x1+0x391f),this['_depth']=Math['floor'](_0x54130b['depth']??0x106c*0x1+-0x8c2+0x35*-0x25),this['_arrayLeng'+'th']=Math['floor'](_0x54130b['arrayLengt'+'h']??-0x1b94+-0x29*-0x55+0xdf7),this['_storage']=_0x54130b['storage']??!(0x11d0+-0x1*-0x38f+-0x446*0x5),this['_cubemap']=_0x54130b['cubemap']??!(-0x4*0x151+0x1*0x1e95+-0x51*0x50),this['_flipY']=_0x54130b['flipY']??!(-0x8b*-0x5+0x3*0xc79+-0x2821),this['_premultip'+'lyAlpha']=_0x54130b['premultipl'+'yAlpha']??!(0x87d+-0x2c*-0x3+-0x900),this['_mipmaps']=_0x54130b['mipmaps']??!(-0x9dc+0x1b3e+-0x1162),this['_numLevels'+'Requested']=_0x54130b['numLevels'],_0x54130b['numLevels']!==void(-0xe75+-0x22d9+0x2*0x18a7)&&(this['_numLevels']=_0x54130b['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x54130b['minFilter']??nn,this['_magFilter']=_0x54130b['magFilter']??st,this['_anisotrop'+'y']=_0x54130b['anisotropy']??0x267d+-0x1c79+-0xe9*0xb,this['_addressU']=_0x54130b['addressU']??tt,this['_addressV']=_0x54130b['addressV']??tt,this['_addressW']=_0x54130b['addressW']??tt,this['_compareOn'+'Read']=_0x54130b['compareOnR'+'ead']??!(-0x24ee+0x176e+0xd81),this['_compareFu'+'nc']=_0x54130b['compareFun'+'c']??Eh,this['type']=_0x54130b['hasOwnProp'+'erty']('type')?_0x54130b['type']:Di,v['assert'](!_0x54130b['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),v['assert'](!_0x54130b['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Au:_0x54130b['projection']&&_0x54130b['projection']!==Au&&(this['projection']=_0x54130b['projection']),this['profilerHi'+'nt']=_0x54130b['profilerHi'+'nt']??0x19ae+0x6a1*-0x1+-0x130d,this['_levels']=_0x54130b['levels'];const _0x56b599=!!_0x54130b['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x56b599),_0x539e18['textures']['push'](this),v['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x259c80=xt['get'](this['format']))==null?void(-0x152e+-0x3b7*0x6+-0x68*-0x6b):_0x259c80['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){v['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x42f98=this['device'];if(_0x42f98){const _0x361d67=_0x42f98['textures']['indexOf'](this);_0x361d67!==-(-0x5*0x59e+-0x3b*0x1+0x1c52)&&_0x42f98['textures']['splice'](_0x361d67,0x1*-0xb3+0xd47+-0xc93),_0x42f98['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x42f98),this['adjustVram'+'SizeTracki'+'ng'](_0x42f98['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x26dabd=!(0x1*-0xcbe+-0x104e*-0x1+-0x390)){var _0x29d8c5;const {device:_0x4bdf9b}=this;(_0x29d8c5=this['impl'])==null||_0x29d8c5['destroy'](_0x4bdf9b),this['impl']=null,this['impl']=_0x4bdf9b['createText'+'ureImpl'](this),this['dirtyAll'](),_0x26dabd&&this['upload']();}['resize'](_0x277f8b,_0x33074b,_0x3115c1=0x31*-0xb+-0x1*-0x25f9+0x1*-0x23dd){const _0x1a6d93=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x1a6d93['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x1a6d93),this['_width']=Math['floor'](_0x277f8b),this['_height']=Math['floor'](_0x33074b),this['_depth']=Math['floor'](_0x3115c1),this['_updateNum'+'Level'](),this['impl']=_0x1a6d93['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x296ff6,_0x1df85b){v['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x1df85b+('\x20vram.text'+'ure:\x20')+_0x296ff6['tex']+'\x20=>\x20'+(_0x296ff6['tex']+_0x1df85b)),_0x296ff6['tex']+=_0x1df85b,this['profilerHi'+'nt']===Tu?_0x296ff6['texShadow']+=_0x1df85b:this['profilerHi'+'nt']===ur?_0x296ff6['texAsset']+=_0x1df85b:this['profilerHi'+'nt']===Oy&&(_0x296ff6['texLightma'+'p']+=_0x1df85b);}['propertyCh'+'anged'](_0x26e852){this['impl']['propertyCh'+'anged'](_0x26e852),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x4c5cee=this['mipmaps']?Mi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x9*-0x18c+-0xc75+-0x22*0xb,_0x344531=this['_numLevels'+'Requested'];_0x344531!==void(-0xf9e+-0x43b+0x1*0x13d9)&&_0x344531>_0x4c5cee&&v['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x4c5cee,this),this['_numLevels']=Math['min'](_0x344531??_0x4c5cee,_0x4c5cee),this['_mipmaps']=this['_numLevels']>0x72e*0x5+0x19b7+-0x3d9c;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x44690b){this['_minFilter']!==_0x44690b&&(ea(this['_format'])?v['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x44690b,this['propertyCh'+'anged'](zy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x49a18f){this['_magFilter']!==_0x49a18f&&(ea(this['_format'])?v['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x49a18f,this['propertyCh'+'anged'](Uy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x29cd3f){this['_addressU']!==_0x29cd3f&&(this['_addressU']=_0x29cd3f,this['propertyCh'+'anged'](Vy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x4e8e06){this['_addressV']!==_0x4e8e06&&(this['_addressV']=_0x4e8e06,this['propertyCh'+'anged'](Gy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x1f2374){if(!this['_volume']){v['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x1f2374!==this['_addressW']&&(this['_addressW']=_0x1f2374,this['propertyCh'+'anged'](Hy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x454cd0){this['_compareOn'+'Read']!==_0x454cd0&&(this['_compareOn'+'Read']=_0x454cd0,this['propertyCh'+'anged']($y));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0xd5ebc){this['_compareFu'+'nc']!==_0xd5ebc&&(this['_compareFu'+'nc']=_0xd5ebc,this['propertyCh'+'anged'](Wy));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x30de91){this['_anisotrop'+'y']!==_0x30de91&&(this['_anisotrop'+'y']=_0x30de91,this['propertyCh'+'anged'](qy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x36b8ed){this['_mipmaps']!==_0x36b8ed&&(this['device']['isWebGPU']?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):ea(this['_format'])?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x36b8ed,_0x36b8ed&&(this['_needsMipm'+'apsUpload']=!(0x1751+-0x4bc+0x43*-0x47)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x4d9809=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x687+0x1ce5*-0x1+0x3*0xbcf);return Mi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x4d9809,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0x1849+0xd9*-0x11+0x17d*0x1a;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x5d17c0){var _0x2fe364,_0x5af881,_0x73ee7,_0x4eafdb;const _0x3f47c4=Mh(this['format']);if(_0x5d17c0!==_0x3f47c4){if(_0x5d17c0){const _0x221054=Cc(this['format']);this['_format']!==_0x221054&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x2fe364=xt['get'](this['format']))==null?void(-0x1967+0x23c1+0x32*-0x35):_0x2fe364['name'])+'\x20->\x20'+((_0x5af881=xt['get'](_0x221054))==null?void(-0x7b3*0x4+0xf59*-0x2+0x1ebf*0x2):_0x5af881['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x221054,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x25*0x4d+-0x107f+-0x4*-0x6e8));}else{const _0x549d98=kS(this['format']);this['_format']!==_0x549d98&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x73ee7=xt['get'](this['format']))==null?void(-0x2c1+-0x2663+0x2924):_0x73ee7['name'])+'\x20->\x20'+((_0x4eafdb=xt['get'](_0x549d98))==null?void(-0x134*0x15+0x8a6+0x109e*0x1):_0x4eafdb['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x549d98,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x1*0x22ea+-0x543*-0x2+-0x2d7*0x10));}}}get['srgb'](){return Mh(this['format']);}set['flipY'](_0x42a844){this['_flipY']!==_0x42a844&&(this['_flipY']=_0x42a844,this['_needsUplo'+'ad']=!(-0x2487+-0x1*0xb3+0x253a));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0xf7dc26){this['_premultip'+'lyAlpha']!==_0xf7dc26&&(this['_premultip'+'lyAlpha']=_0xf7dc26,this['_needsUplo'+'ad']=!(0x20bb+-0x4a2*-0x4+-0x3343));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return N['powerOfTwo'](this['_width'])&&N['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case on:return'rgbm';case ap:return'rgbe';case Io:return'rgbp';}return Ey(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0x1*0x9cd+0x1*0x149f+0xa*-0x115),!(0xa55+0x3*0x485+-0x17e4),!(-0x1a7e+-0x1c*0x148+0x3e5e),!(-0x1c64*0x1+-0x1*0x1df9+0x43*0xdf),!(-0x5*-0x6f5+0x1e3a+-0x4103),!(-0x5c5+0xc61*0x2+-0x1*0x12fd)]]:[!(-0x10c*-0xc+-0x1*0x1215+0x9*0x9d)],this['_needsUplo'+'ad']=!(0xd*-0x55+-0xfdd*-0x1+-0xb8c),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x15ed*0x1+0x202*0x6+-0x8*0x43f),this['propertyCh'+'anged'](yv);}['lock'](_0x32c555={}){_0x32c555['level']??(_0x32c555['level']=0x1*0x70b+0x6*-0x187+0x21f),_0x32c555['face']??(_0x32c555['face']=-0x2f*0x58+0x714+0x914),_0x32c555['mode']??(_0x32c555['mode']=rd),v['assert'](this['_lockedMod'+'e']===yl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),v['assert'](_0x32c555['mode']===Fy||_0x32c555['mode']===rd,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x32c555['mode'],this['_lockedLev'+'el']=_0x32c555['level'];const _0x482ecf=this['cubemap']?this['_levels'][_0x32c555['face']]:this['_levels'];if(_0x482ecf[_0x32c555['level']]===null){const _0x6cf3ff=Math['max'](-0x210+0xdf2+-0x1*0xbe1,this['_width']>>_0x32c555['level']),_0x196b8f=Math['max'](-0x1c5*-0x3+0x1158+-0x16a6,this['_height']>>_0x32c555['level']),_0x4f9c26=Math['max'](-0x3*0x671+-0x76d*0x4+0x4*0xc42,this['_depth']>>_0x32c555['level']),_0x435e22=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x6cf3ff,_0x196b8f,_0x4f9c26,this['_format']));_0x482ecf[_0x32c555['level']]=new(Cy(this['_format']))(_0x435e22);}return _0x482ecf[_0x32c555['level']];}['setSource'](_0x4c7210,_0x18e079=-0xc3c+0xbcc+0x70){let _0x1c1cb4=!(-0x2071+0x179+-0x3*-0xa53),_0x5461ef,_0x3bfd36;if(this['_cubemap']){if(_0x4c7210[-0x1cf0+0x1*-0xf9a+0x2c8a]){_0x5461ef=_0x4c7210[-0xb64+0x33c+0x828]['width']||-0x10b3+0x2*-0x62+-0x107*-0x11,_0x3bfd36=_0x4c7210[-0x2ec+0x13e7+-0x7*0x26d]['height']||-0x12f3+0x25d8+-0x1*0x12e5;for(let _0x3b5edd=0x1df*-0x12+-0x795+-0x7*-0x5e5;_0x3b5edd<-0x53a+0x84*0x1e+-0x8*0x147;_0x3b5edd++){const _0x54cd26=_0x4c7210[_0x3b5edd];if(!_0x54cd26||_0x54cd26['width']!==_0x5461ef||_0x54cd26['height']!==_0x3bfd36||!this['device']['_isBrowser'+'Interface'](_0x54cd26)){_0x1c1cb4=!(0x1*-0x25cf+0xce4+0x18eb*0x1);break;}}}else _0x1c1cb4=!(0x1*-0x506+-0x706+-0x1*-0xc0c);if(!_0x1c1cb4){for(let _0x31dfc3=-0x963+-0x2682+0x2fe5;_0x31dfc3<-0x4*-0x526+0x158f*0x1+-0x2a21;_0x31dfc3++)this['_levels'][_0x18e079][_0x31dfc3]!==_0x4c7210[_0x31dfc3]&&(this['_levelsUpd'+'ated'][_0x18e079][_0x31dfc3]=!(0x182b+0x1*-0x120e+-0x61d));}}else this['device']['_isBrowser'+'Interface'](_0x4c7210)||(_0x1c1cb4=!(0x1bba+0x12f*0x8+-0x2532)),_0x1c1cb4||(_0x4c7210!==this['_levels'][_0x18e079]&&(this['_levelsUpd'+'ated'][_0x18e079]=!(-0x176e*-0x1+0x1*-0x7df+-0xf8f)),_0x4c7210 instanceof HTMLVideoElement?(_0x5461ef=_0x4c7210['videoWidth'],_0x3bfd36=_0x4c7210['videoHeigh'+'t']):(_0x5461ef=_0x4c7210['width'],_0x3bfd36=_0x4c7210['height']));if(_0x1c1cb4){if(this['_width']=-0x1*-0xcfc+-0x15f*0xa+0xbe,this['_height']=-0x1*0x2144+-0x1067+0x31af,this['_cubemap']){for(let _0x76f198=0x443*-0x5+0x2a4*0xc+-0xa61*0x1;_0x76f198<-0x1772+0x1d1a+-0x5a2;_0x76f198++)this['_levels'][_0x18e079][_0x76f198]=null,this['_levelsUpd'+'ated'][_0x18e079][_0x76f198]=!(-0x1460+-0x69*-0x49+-0x4f*0x1f);}else this['_levels'][_0x18e079]=null,this['_levelsUpd'+'ated'][_0x18e079]=!(0x210e*-0x1+-0x1f3f+0x725*0x9);}else _0x18e079===0x21b5*0x1+0x16e2+0x1b7*-0x21&&(this['_width']=_0x5461ef,this['_height']=_0x3bfd36),this['_levels'][_0x18e079]=_0x4c7210;(this['_invalid']!==_0x1c1cb4||!_0x1c1cb4)&&(this['_invalid']=_0x1c1cb4,this['upload']());}['getSource'](_0x5de905=0x7*-0x1f3+-0xba8+-0x17d*-0x11){return this['_levels'][_0x5de905];}['unlock'](){this['_lockedMod'+'e']===yl&&v['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===rd&&this['upload'](),this['_lockedLev'+'el']=-(-0x1262+-0x185b+0x2abe),this['_lockedMod'+'e']=yl;}['upload'](){var _0x2f5f39,_0x2af4bf;this['_needsUplo'+'ad']=!(-0xb*-0x24b+0xd86+-0x26bf),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x2af4bf=(_0x2f5f39=this['impl'])['uploadImme'+'diate'])==null||_0x2af4bf['call'](_0x2f5f39,this['device'],this);}['read'](_0x21479d,_0x5cbe79,_0x1d5782,_0x39b3a5,_0x22bf2c={}){var _0x3734d0,_0x44ccf1;return(_0x44ccf1=(_0x3734d0=this['impl'])['read'])==null?void(0x204f*-0x1+-0x634+0x2683):_0x44ccf1['call'](_0x3734d0,_0x21479d,_0x5cbe79,_0x1d5782,_0x39b3a5,_0x22bf2c);}}const Mv={'white':[0x233c+-0x1bab+-0x692,0x67*-0x45+0x1a3d+-0x1*-0x285,0x1*-0x1f81+0x853*-0x1+-0x28d3*-0x1,0x13*0x3e+-0x2275*0x1+0x1eda],'gray':[0x2bf+0x16ee+-0x1*0x192d,-0xe03*-0x1+-0x1b45+0xdc2,0x1ef8+-0x1d3*0x3+-0x18ff,0x1d*-0x43+0x1f3a+-0x16a4],'black':[-0x1343+-0x5df*-0x1+-0x6b2*-0x2,-0x140b+0x63*0x51+-0x13*0x98,-0xe0*-0x21+0x195b*0x1+0x1*-0x363b,0x3*-0x61e+0x8fe+0xf1*0xb],'normal':[-0x718+0x10d*-0xf+0x175b,0xf2a+-0x2bc+-0xbee,-0x16b9+0x125*0x13+0x1f9,0x930+0x27*-0xeb+0x1b9c],'pink':[0x2142+-0xbf0+-0x1453,0x71+-0x228f*0x1+0xb8a*0x3,0x1*0x215e+-0x248b*-0x1+0x2275*-0x2,0x1d2b+0xd6b+0x49f*-0x9]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x3012b4=>{_0x3012b4['destroy']();});}}const Rv=new Ot(),en=(_0xec22d,_0x45c42b)=>{const _0x4542c9=Rv['get'](_0xec22d,()=>new Pv());if(!_0x4542c9['map']['has'](_0x45c42b)){const _0x4833e9=new he(_0xec22d,{'name':'built-in-t'+'exture-'+_0x45c42b,'width':0x1,'height':0x1,'format':Se}),_0x523bb5=_0x4833e9['lock'](),_0x30c038=Mv[_0x45c42b];v['assert'](_0x30c038,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x45c42b+('\x27\x20not\x20foun'+'d')),_0x523bb5['set'](_0x30c038),_0x4833e9['unlock'](),_0x4542c9['map']['set'](_0x45c42b,_0x4833e9);}return _0x4542c9['map']['get'](_0x45c42b);};let Iv=0x2588+-0x1a74+-0xb14;class Yy{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class mp{constructor(_0x3242a9,_0x369c6c,_0x3e9607){c(this,'renderVers'+'ionUpdated',-(0xd37+-0x14*-0x11d+-0x237a)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x3242a9,this['format']=_0x369c6c,this['dirty']=!(0x1603+0x400+-0x1a03),this['impl']=_0x3242a9['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x3e9607,_0x3e9607&&this['setUniform'+'Buffer'](fp,_0x3e9607),v['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0x369c6c));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x2d555b,_0x249e3b){const _0xb04b0b=this['format']['bufferForm'+'atsMap']['get'](_0x2d555b);v['assert'](_0xb04b0b!==void(0x1c*-0x106+0xcbc*-0x3+0x42dc),'Setting\x20a\x20'+'uniform\x20['+_0x2d555b+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0xb04b0b]!==_0x249e3b&&(this['uniformBuf'+'fers'][_0xb04b0b]=_0x249e3b,this['dirty']=!(0x1*0x84a+-0x2b5+-0x595*0x1));}['setStorage'+'Buffer'](_0x44c485,_0x2f16ca){const _0x401619=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x44c485);v['assert'](_0x401619!==void(-0x1cda+-0x3c0+0x209a),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x44c485+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x401619]!==_0x2f16ca&&(this['storageBuf'+'fers'][_0x401619]=_0x2f16ca,this['dirty']=!(-0x2646+-0xc81+-0x3*-0x10ed));}['setTexture'](_0x1202d1,_0x2e364c){const _0x4be76c=this['format']['textureFor'+'matsMap']['get'](_0x1202d1);v['assert'](_0x4be76c!==void(0x2*0xbc6+0x295*0xe+-0x3*0x13e6),'Setting\x20a\x20'+'texture\x20['+_0x1202d1+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x4be76c]!==_0x2e364c?(this['textures'][_0x4be76c]=_0x2e364c,this['dirty']=!(-0x8*0x200+-0xbd5*-0x2+-0x7aa)):this['renderVers'+'ionUpdated']<_0x2e364c['renderVers'+'ionDirty']&&(this['dirty']=!(0x177a+0x1f26+-0x36a0));}['setStorage'+'Texture'](_0x4f2808,_0x34b85e){const _0x15d6ac=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x4f2808);v['assert'](_0x15d6ac!==void(-0x13a*-0x1b+0xe0*-0xe+-0x14de),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x4f2808+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0x15d6ac]!==_0x34b85e?(this['storageTex'+'tures'][_0x15d6ac]=_0x34b85e,this['dirty']=!(0xe20*-0x2+0x1*0x1c54+-0x14)):this['renderVers'+'ionUpdated']<_0x34b85e['renderVers'+'ionDirty']&&(this['dirty']=!(-0x5*0x7ab+0x1082+0x3*0x747));}['updateUnif'+'ormBuffers'](){for(let _0x5a5a78=-0x5f4+-0x2700+0x2cf4;_0x5a5a78<this['uniformBuf'+'fers']['length'];_0x5a5a78++)this['uniformBuf'+'fers'][_0x5a5a78]['update']();}['update'](){const {textureFormats:_0x518355,storageTextureFormats:_0x322210,storageBufferFormats:_0x50a94e}=this['format'];for(let _0x94c174=0x1*0x1889+0x67*0x14+0x1b7*-0x13;_0x94c174<_0x518355['length'];_0x94c174++){const _0x1e5cc0=_0x518355[_0x94c174];let _0x4b5201=_0x1e5cc0['scopeId']['value'];_0x4b5201||(_0x1e5cc0['name']==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x4b5201=en(this['device'],'white')),_0x1e5cc0['name']==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x4b5201=en(this['device'],'pink')),_0x4b5201||(v['errorOnce']('Texture\x20'+_0x1e5cc0['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x4b5201=en(this['device'],'pink'))),this['setTexture'](_0x1e5cc0['name'],_0x4b5201);}for(let _0x536e41=0x1a8a+-0x74e+-0x133c;_0x536e41<_0x322210['length'];_0x536e41++){const _0x19c866=_0x322210[_0x536e41],_0x57494e=_0x19c866['scopeId']['value'];v['assert'](_0x57494e,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x19c866['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x19c866['name'],_0x57494e);}for(let _0x2371f8=-0x485*-0x2+-0x477+-0x493*0x1;_0x2371f8<_0x50a94e['length'];_0x2371f8++){const _0x9fe3ab=_0x50a94e[_0x2371f8],_0x24dc62=_0x9fe3ab['scopeId']['value'];v['assert'](_0x24dc62,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x9fe3ab['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x9fe3ab['name'],_0x24dc62);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x51a02b=-0x2*0x2af+0x2*0xe7e+-0x179e;_0x51a02b<this['uniformBuf'+'fers']['length'];_0x51a02b++){const _0x51a215=this['uniformBuf'+'fers'][_0x51a02b];this['uniformBuf'+'ferOffsets'][_0x51a02b]=_0x51a215['offset'],this['renderVers'+'ionUpdated']<_0x51a215['renderVers'+'ionDirty']&&(this['dirty']=!(-0x10*0x52+0x1ef2+-0x19d2));}this['dirty']&&(this['dirty']=!(-0x574*0x1+-0x179*0x2+0x867),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Oe={'set'(_0x121fae,_0x11b2b0,_0x402015,_0x1981ca=-0x2346+-0x5*0x69a+0x4449*0x1){return _0x121fae&~(_0x1981ca<<_0x402015)|_0x11b2b0<<_0x402015;},'get'(_0x5b7510,_0x527f10,_0x5ddb25=-0x16a5+-0x1*0x26c9+-0x1*-0x3d6f){return _0x5b7510>>_0x527f10&_0x5ddb25;},'all'(_0x11051c,_0x595c6f,_0x9f2d14=-0x1eca+0x38f+0x1b3c){const _0x3e5f8e=_0x9f2d14<<_0x595c6f;return(_0x11051c&_0x3e5f8e)===_0x3e5f8e;},'any'(_0x2f4ed,_0x2e3581,_0x2fde96=-0x1*0xcda+-0x7b*-0x30+0x27*-0x43){return(_0x2f4ed&_0x2fde96<<_0x2e3581)!==-0x2*-0xcd7+-0x1aab+0xfd;}},xl=-0x1976+0xd*-0x218+0x34b5,Vi=-0xeba+-0xeec+-0x34d*-0x9,dm=-0x16e+-0x17bd+-0x1*-0x192b,um=-0xb*0x191+0xe52+0x2ec,fm=0x1ab+0x1*0x2332+-0xe6*0x29,pm=0x1f41+0x153+-0x2089,mm=-0x1a27+-0x35*-0x5+-0x432*-0x6,_m=-0x1*0x189d+-0x1a*0xd+0x1a01,Cu=0x2314+0x20e+-0x1*0x250c,gm=0x1008+0x27*0xbe+-0x1*0x2ce3,ym=0x1c3d+0x30d*-0x4+-0xff1,xm=-0x1d5e+0x3*0xb99+-0x554,Sm=0xccc+-0x10a2+-0xfc*-0x4,Dv=0x685+-0x220a*-0x1+0x48*-0x90,Lv=Cu,zs=class zs{constructor(_0x2cb126=!(0x1180*-0x2+0x23cc+-0x7*0x1d),_0x4aec4d=Lt,_0x1c94db=at,_0xab384a=kf,_0x4963db,_0x34ec9e,_0x7581d0,_0xfc066e=!(0x1875+-0xf88+-0x1*0x8ed),_0x54049a=!(-0x270e+-0x20ed*0x1+0x47fb),_0x3e262e=!(0x68e*0x1+-0x1*-0xe27+-0x14b5*0x1),_0x16dd6c=!(0xb64*-0x3+-0x1c8f*-0x1+0x59d)){c(this,'target0',0xbc3*-0x2+-0x1e43+0x35c9),(this['setColorBl'+'end'](_0x4aec4d,_0x1c94db,_0xab384a),this['setAlphaBl'+'end'](_0x4963db??_0x4aec4d,_0x34ec9e??_0x1c94db,_0x7581d0??_0xab384a),this['setColorWr'+'ite'](_0xfc066e,_0x54049a,_0x3e262e,_0x16dd6c),this['blend']=_0x2cb126);}set['blend'](_0x34a7ae){this['target0']=Oe['set'](this['target0'],_0x34a7ae?-0xbe8+-0x1*-0xe37+-0x24e:-0x1*0x10c7+-0x153e+-0x2605*-0x1,Sm);}get['blend'](){return Oe['all'](this['target0'],Sm);}['setColorBl'+'end'](_0x54aaac,_0x3c041c,_0x5ad317){this['target0']=Oe['set'](this['target0'],_0x54aaac,dm,xl),this['target0']=Oe['set'](this['target0'],_0x3c041c,um,Vi),this['target0']=Oe['set'](this['target0'],_0x5ad317,fm,Vi);}['setAlphaBl'+'end'](_0x43647b,_0x282664,_0x1e3157){this['target0']=Oe['set'](this['target0'],_0x43647b,pm,xl),this['target0']=Oe['set'](this['target0'],_0x282664,mm,Vi),this['target0']=Oe['set'](this['target0'],_0x1e3157,_m,Vi);}['setColorWr'+'ite'](_0x372722,_0x57e52a,_0x1addff,_0x4d64c2){this['redWrite']=_0x372722,this['greenWrite']=_0x57e52a,this['blueWrite']=_0x1addff,this['alphaWrite']=_0x4d64c2;}get['colorOp'](){return Oe['get'](this['target0'],dm,xl);}get['colorSrcFa'+'ctor'](){return Oe['get'](this['target0'],um,Vi);}get['colorDstFa'+'ctor'](){return Oe['get'](this['target0'],fm,Vi);}get['alphaOp'](){return Oe['get'](this['target0'],pm,xl);}get['alphaSrcFa'+'ctor'](){return Oe['get'](this['target0'],mm,Vi);}get['alphaDstFa'+'ctor'](){return Oe['get'](this['target0'],_m,Vi);}set['redWrite'](_0x1ba91f){this['target0']=Oe['set'](this['target0'],_0x1ba91f?0x5*-0x125+0x895*0x1+-0x2db:-0x11ba+-0x5*-0x6f1+-0x10fb,Cu);}get['redWrite'](){return Oe['all'](this['target0'],Cu);}set['greenWrite'](_0x37f121){this['target0']=Oe['set'](this['target0'],_0x37f121?-0xa0a*0x1+-0x3*-0x4ae+0x21*-0x1f:0x12de+0x4*0x27a+-0x1d*0xfe,gm);}get['greenWrite'](){return Oe['all'](this['target0'],gm);}set['blueWrite'](_0xee8ba4){this['target0']=Oe['set'](this['target0'],_0xee8ba4?-0x1609+-0x3*-0xaa3+-0x9df:-0x118+-0xa*0x166+0xf14,ym);}get['blueWrite'](){return Oe['all'](this['target0'],ym);}set['alphaWrite'](_0x43ccac){this['target0']=Oe['set'](this['target0'],_0x43ccac?-0x1*0x2415+0x24a5+-0x8f:-0x13*-0x16+-0x2b3*-0xd+-0x24b9*0x1,xm);}get['alphaWrite'](){return Oe['all'](this['target0'],xm);}get['allWrite'](){return Oe['get'](this['target0'],Lv,Dv);}['copy'](_0x3d11a5){return this['target0']=_0x3d11a5['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x4672ce){return this['target0']===_0x4672ce['target0'];}};c(zs,'NOBLEND',Object['freeze'](new zs())),c(zs,'NOWRITE',Object['freeze'](new zs(void(0xb02+0x1742+-0x2244),void(0x235e+-0x14cc+-0xa*0x175),void(-0x205c+-0x1269+0x32c5),void(0xa9*0x1+0x197*0x1+-0x240),void(0x1fa9*0x1+-0x5df+-0x19ca),void(0x14+-0x45*0x15+0x595),void(0x1548+0x15b*-0xd+0x3a9*-0x1),!(0xec7+-0x18*-0x4b+0x1*-0x15ce),!(-0xe41+-0x174d+0x258f),!(-0x34*-0x17+0x1*-0x1fe8+0x1b3d),!(-0x1289+-0x18*0x185+0x3702)))),c(zs,'ALPHABLEND',Object['freeze'](new zs(!(0x67b+-0x30f*0x7+-0x777*-0x2),Lt,dc,uc))),c(zs,'ADDBLEND',Object['freeze'](new zs(!(-0x3ef*0x9+0x215*0x7+0x14d4),Lt,at,at)));let _t=zs;class _p{constructor(){c(this,'map',new Map()),c(this,'id',-0x1*0x1f9d+0xd*-0x9e+0x27a3);}['get'](_0x2b3f24){let _0x4dd82a=this['map']['get'](_0x2b3f24);return _0x4dd82a===void(-0xa8*-0x3b+0x1467+0x3f1*-0xf)&&(_0x4dd82a=this['id']++,this['map']['set'](_0x2b3f24,_0x4dd82a)),_0x4dd82a;}}const Fv=new _p(),vm=-0x2c8+-0x2*-0x11e7+-0x20ff,bm=-0xa*-0x21a+0x12b6+-0x27ba,wm=-0x3*-0x50b+0xd*-0x35+0xc6d*-0x1,Zi=class Zi{constructor(_0x153b16=fu,_0x455b92=!(0xa8c+-0x738+0xc*-0x47)){c(this,'data',-0x192a*-0x1+-0x7*-0x16+0x44*-0x61),c(this,'_depthBias',0x19a7+0x240c+0x1*-0x3db3),c(this,'_depthBias'+'Slope',0x229*0x1+0x1ff*0x5+-0x309*0x4),c(this,'key',-0x59e*0x5+-0x547+-0x9*-0x3b5),(this['func']=_0x153b16,this['write']=_0x455b92);}set['test'](_0x1bac23){this['func']=_0x1bac23?fu:Ai,this['updateKey']();}get['test'](){return this['func']!==Ai;}set['write'](_0x19d34a){this['data']=Oe['set'](this['data'],_0x19d34a?-0x595*0x2+0x7*-0x40f+0x95*0x44:0x24f2+0xdca+0x17e*-0x22,wm),this['updateKey']();}get['write'](){return Oe['all'](this['data'],wm);}set['func'](_0x30eda2){this['data']=Oe['set'](this['data'],_0x30eda2,bm,vm),this['updateKey']();}get['func'](){return Oe['get'](this['data'],bm,vm);}set['depthBias'](_0x15b2a7){this['_depthBias']=_0x15b2a7,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x4c9f09){this['_depthBias'+'Slope']=_0x4c9f09,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x4b28ee){return this['data']=_0x4b28ee['data'],this['_depthBias']=_0x4b28ee['_depthBias'],this['_depthBias'+'Slope']=_0x4b28ee['_depthBias'+'Slope'],this['key']=_0x4b28ee['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x30c937,_depthBias:_0x3b8032,_depthBiasSlope:_0x3e96b3}=this,_0x505270=_0x30c937+'-'+_0x3b8032+'-'+_0x3e96b3;this['key']=Fv['get'](_0x505270);}['equals'](_0x3daf34){return this['key']===_0x3daf34['key'];}};c(Zi,'DEFAULT',Object['freeze'](new Zi())),c(Zi,'NODEPTH',Object['freeze'](new Zi(Ai,!(-0xce+0x20c4+0x1ff5*-0x1)))),c(Zi,'WRITEDEPTH',Object['freeze'](new Zi(Ai,!(-0x3*0x903+0x169a+0x46f))));let as=Zi;class Ky{constructor(){c(this,'globalId',0x998*0x2+0xd11+-0x2041),c(this,'revision',0x16f6+0x1*-0x258b+0xe95);}['equals'](_0x179809){return this['globalId']===_0x179809['globalId']&&this['revision']===_0x179809['revision'];}['copy'](_0x42fc81){this['globalId']=_0x42fc81['globalId'],this['revision']=_0x42fc81['revision'];}['reset'](){this['globalId']=0x191*-0x13+0x461*-0x2+-0x207*-0x13,this['revision']=-0x1919+0x38f+-0xac5*-0x2;}}let Tm=-0x1552+0x1da+0x1378;class Ov{constructor(){Tm++,this['version']=new Ky(),this['version']['globalId']=Tm;}['increment'](){this['version']['revision']++;}}class kv{constructor(_0x330d52){this['name']=_0x330d52,this['value']=null,this['versionObj'+'ect']=new Ov();}['toJSON'](_0x9905a1){}['setValue'](_0x918126){this['value']=_0x918126,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x130ec2){this['name']=_0x130ec2,this['variables']=new Map();}['resolve'](_0x4bc296){return this['variables']['has'](_0x4bc296)||this['variables']['set'](_0x4bc296,new kv(_0x4bc296)),this['variables']['get'](_0x4bc296);}['removeValu'+'e'](_0x1583cd){for(const _0x133e5d in this['variables']){const _0x516eae=this['variables'][_0x133e5d];_0x516eae['value']===_0x1583cd&&(_0x516eae['value']=null);}}}let Nv=0x1*0x4bd+0x3*0xadf+-0x255a;class os{constructor(_0x4b7d6f,_0x11e774,_0x2d31ec,_0x23fc92){c(this,'usage',jt),(v['assert'](arguments['length']<=0x157f+0x269b+-0x1*0x3c16&&(!_0x23fc92||typeof _0x23fc92=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x23fc92==null?void(0x19fc+-0x5*-0x557+-0x1*0x34af):_0x23fc92['usage'])??jt,this['device']=_0x4b7d6f,this['format']=_0x11e774,this['numVertice'+'s']=_0x2d31ec,this['id']=Nv++,this['impl']=_0x4b7d6f['createVert'+'exBufferIm'+'pl'](this,_0x11e774,_0x23fc92),this['numBytes']=_0x11e774['verticesBy'+'teSize']?_0x11e774['verticesBy'+'teSize']:_0x11e774['size']*_0x2d31ec,this['adjustVram'+'SizeTracki'+'ng'](_0x4b7d6f['_vram'],this['numBytes']));const _0x16ee65=_0x23fc92==null?void(0x26dc+-0x1*0x235d+-0x5*0xb3):_0x23fc92['data'];_0x16ee65?this['setData'](_0x16ee65):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x44d32a=this['device'],_0x4f5223=_0x44d32a['buffers']['indexOf'](this);_0x4f5223!==-(-0x39*0x20+0x556+0x1cb)&&_0x44d32a['buffers']['splice'](_0x4f5223,0x2b*0x79+0x373+-0x17c5),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x44d32a),this['adjustVram'+'SizeTracki'+'ng'](_0x44d32a['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x34f449,_0x2139d6){v['trace'](Zx,this['id']+'\x20size:\x20'+_0x2139d6+'\x20vram.vb:\x20'+_0x34f449['vb']+'\x20=>\x20'+(_0x34f449['vb']+_0x2139d6)),_0x34f449['vb']+=_0x2139d6;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x104b62){return _0x104b62['byteLength']!==this['numBytes']?(v['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x104b62['byteLength']),!(-0x7*0x22d+-0xd30+0x1c6c)):(this['storage']=_0x104b62,this['unlock'](),!(-0x12df+-0xc7f+0x1f5e));}}function hn(_0x311a48){if(_0x311a48==null)return 0x1*0x191d+0xf*-0x74+0x61b*-0x3;let _0x501be8=-0x6*-0x1c9+0x2522+-0x2fd8;for(let _0x28cbe6=0x51b*0x7+0x22c4+-0x4681,_0x26ea4e=_0x311a48['length'];_0x28cbe6<_0x26ea4e;_0x28cbe6++)_0x501be8=(_0x501be8<<-0x137*0x1b+-0x1*0x1+0x20d3)-_0x501be8+_0x311a48['charCodeAt'](_0x28cbe6),_0x501be8|=0x1a9f+-0x1181+-0x91e;return _0x501be8;}function Zy(_0x2014b4){let _0x3d9344=-0x8641914c+0xe2*0x898963+0x8df2e5ab;for(let _0x564cb4=0x1d6b+0x9dd+-0x2748;_0x564cb4<_0x2014b4['length'];_0x564cb4++)_0x3d9344^=_0x2014b4[_0x564cb4],_0x3d9344*=0x35cfae+-0x11c5b32+0x1e68d17;return _0x3d9344>>>0x8f*-0x3b+0x14*0x3d+-0x407*-0x7;}const zv=new _p(),Uv=[0x22e7+0x17e8+-0x3acd,-0xd88+-0x1262+0x1fee,-0x22ed*-0x1+-0x1*-0xf61+-0x21*0x186,-0x2072+-0x9c*0x35+-0x40ca*-0x1,0x7*0x377+0xb0b*-0x2+-0x4d*0x7],Vv=new Ot();class Et{constructor(_0x5bfdd7,_0x3813dc,_0x50c470){this['device']=_0x5bfdd7,this['_elements']=[],this['hasUv0']=!(-0x10a+-0x13fc+0x1507),this['hasUv1']=!(-0x40*-0x7d+0xb87*0x2+0x364d*-0x1),this['hasColor']=!(-0xede+-0x5d*-0x46+0x33*-0x35),this['hasTangent'+'s']=!(-0x1137+-0x1*0xb6f+0x1ca7),this['verticesBy'+'teSize']=-0x6d9*0x3+0x6*-0x161+0x1cd1,this['vertexCoun'+'t']=_0x50c470,this['interleave'+'d']=_0x50c470===void(0x9ad*-0x4+-0x29*-0x1a+0x228a),this['instancing']=!(0x229c+-0x11e1*-0x1+-0x347c),this['size']=_0x3813dc['reduce']((_0x13e651,_0x2dfeb2)=>_0x13e651+Math['ceil'](_0x2dfeb2['components']*_o[_0x2dfeb2['type']]/(0x2682+-0x2195*0x1+0x1a3*-0x3))*(0xb03+-0x147*-0x3+-0xed4),-0x20ea+-0x8ce+0x29b8);let _0x1c4713=0x2068+0x19*-0xec+-0x1*0x95c,_0x1202cf;for(let _0x277578=0x13d8+-0x1422+0x4a,_0x171f3c=_0x3813dc['length'];_0x277578<_0x171f3c;_0x277578++){const _0x1453d8=_0x3813dc[_0x277578];_0x1202cf=_0x1453d8['components']*_o[_0x1453d8['type']],v['assert'](Et['isElementV'+'alid'](_0x5bfdd7,_0x1453d8),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x1453d8['semantic']+'\x20:\x20'+Sv[_0x1453d8['type']]+'\x20x\x20'+_0x1453d8['components']),_0x50c470&&(_0x1c4713=N['roundUp'](_0x1c4713,_0x1202cf),v['assert'](_0x1202cf%(-0x1*-0xb57+-0x2*0x121f+0x1*0x18eb)===-0x6fb*-0x1+-0x137c+-0x61*-0x21,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x1202cf));const _0x26ccd0=_0x1453d8['asInt']??!(-0x16ca+0x241b+0xc*-0x11c),_0x377a09=_0x26ccd0?!(0x1cac+-0x45*0xd+-0x192a):_0x1453d8['normalize']??!(0x1f51*-0x1+0xe1*0x1c+0x6b6),_0x2b436b={'name':_0x1453d8['semantic'],'offset':_0x50c470?_0x1c4713:_0x1453d8['hasOwnProp'+'erty']('offset')?_0x1453d8['offset']:_0x1c4713,'stride':_0x50c470?_0x1202cf:_0x1453d8['hasOwnProp'+'erty']('stride')?_0x1453d8['stride']:this['size'],'dataType':_0x1453d8['type'],'numComponents':_0x1453d8['components'],'normalize':_0x377a09,'size':_0x1202cf,'asInt':_0x26ccd0};this['_elements']['push'](_0x2b436b),_0x50c470?_0x1c4713+=_0x1202cf*_0x50c470:_0x1c4713+=Math['ceil'](_0x1202cf/(-0x1835+0x1053+-0x151*-0x6))*(0x1a97+0x1e83+0x3916*-0x1),_0x1453d8['semantic']===ns?this['hasUv0']=!(0x1d98+0x1c5*0xf+-0x3823):_0x1453d8['semantic']===_n?this['hasUv1']=!(0x1369*0x1+-0x22*-0xb1+-0x2aeb):_0x1453d8['semantic']===At?this['hasColor']=!(0xc6f*0x3+-0x1a6e+0xadf*-0x1):_0x1453d8['semantic']===Zs&&(this['hasTangent'+'s']=!(-0x18a7+0x535+0x1372));}_0x50c470&&(this['verticesBy'+'teSize']=_0x1c4713),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x51ef51){return Vv['get'](_0x51ef51,()=>new Et(_0x51ef51,[{'semantic':rp,'components':0x4,'type':Ee},{'semantic':ga,'components':0x4,'type':Ee},{'semantic':np,'components':0x4,'type':Ee},{'semantic':ya,'components':0x4,'type':Ee}]));}static['isElementV'+'alid'](_0x560bc8,_0x42b89f){const _0x5557d4=_0x42b89f['components']*_o[_0x42b89f['type']];return!(_0x560bc8['isWebGPU']&&!Uv['includes'](_0x5557d4));}['update'](){v['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x27baac=[],_0x18b8f4=[],_0x416e8f=this['_elements']['length'];for(let _0x3585fc=0x433*0x5+0x22cf+-0x37ce;_0x3585fc<_0x416e8f;_0x3585fc++){const {name:_0x52f1d2,dataType:_0x59ca2e,numComponents:_0x17f328,normalize:_0x7402be,offset:_0x5f4e05,stride:_0x14af0f,size:_0x196903,asInt:_0x4dc683}=this['_elements'][_0x3585fc],_0x422c8d=_0x52f1d2+_0x59ca2e+_0x17f328+_0x7402be+_0x4dc683;_0x27baac['push'](_0x422c8d);const _0x1aa79f=_0x422c8d+_0x5f4e05+_0x14af0f+_0x196903;_0x18b8f4['push'](_0x1aa79f);}_0x27baac['sort']();const _0x36b16b=_0x27baac['join']();this['batchingHa'+'sh']=hn(_0x36b16b),this['shaderProc'+'essingHash'+'String']=_0x36b16b,this['renderingH'+'ashString']=_0x18b8f4['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new _p(),rc=class rc{constructor(_0x3e3559={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(0x1*-0x20a1+0x6*0x56c+0x1*0x19)),c(this,'_key'),(this['_func']=_0x3e3559['func']??Ai,this['_ref']=_0x3e3559['ref']??-0x222e+0x993+0x189b,this['_readMask']=_0x3e3559['readMask']??-0x1110+-0x65*-0xb+0xdb8,this['_writeMask']=_0x3e3559['writeMask']??0x812*-0x3+0x12c3+0x672,this['_fail']=_0x3e3559['fail']??ha,this['_zfail']=_0x3e3559['zfail']??ha,this['_zpass']=_0x3e3559['zpass']??ha,this['_evalKey']());}set['func'](_0xe2d99c){this['_func']=_0xe2d99c,this['_dirty']=!(-0x27*0xb9+-0x1bfe+-0x382d*-0x1);}get['func'](){return this['_func'];}set['ref'](_0x5173d1){this['_ref']=_0x5173d1,this['_dirty']=!(0x2*-0x531+-0xe06+0x61a*0x4);}get['ref'](){return this['_ref'];}set['fail'](_0x1ac275){this['_fail']=_0x1ac275,this['_dirty']=!(0xc25+-0x2536+0x1911);}get['fail'](){return this['_fail'];}set['zfail'](_0x36fdd5){this['_zfail']=_0x36fdd5,this['_dirty']=!(0xfcd+-0x6c6+-0x907);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x3fde50){this['_zpass']=_0x3fde50,this['_dirty']=!(-0x2160*-0x1+-0xa6*0xb+-0x1a3e);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x36f8cf){this['_readMask']=_0x36f8cf,this['_dirty']=!(-0x349+0x64d+-0x4*0xc1);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x17046a){this['_writeMask']=_0x17046a,this['_dirty']=!(-0x1*-0xcaf+0x1b92+-0x2841);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x1517a1,_ref:_0x171f58,_fail:_0x5a73aa,_zfail:_0x4bc030,_zpass:_0x42f936,_readMask:_0x53fb48,_writeMask:_0x468521}=this,_0x122081=_0x1517a1+','+_0x171f58+','+_0x5a73aa+','+_0x4bc030+','+_0x42f936+','+_0x53fb48+','+_0x468521;this['_key']=Gv['get'](_0x122081),this['_dirty']=!(-0x1b0d*0x1+-0x8ea+0x23f8);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x3dd00f){return this['_func']=_0x3dd00f['_func'],this['_ref']=_0x3dd00f['_ref'],this['_readMask']=_0x3dd00f['_readMask'],this['_writeMask']=_0x3dd00f['_writeMask'],this['_fail']=_0x3dd00f['_fail'],this['_zfail']=_0x3dd00f['_zfail'],this['_zpass']=_0x3dd00f['_zpass'],this['_dirty']=_0x3dd00f['_dirty'],this['_key']=_0x3dd00f['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(rc,'DEFAULT',Object['freeze'](new rc()));let qs=rc;const nc=class nc extends ce{constructor(_0x3b12fa,_0x144a9f){var _0x1b5c0e,_0x5635d3,_0x1078d7,_0x4cf648,_0x3f9133,_0x179e2a;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new $()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(-0x3c*-0xa0+0x3*-0xb47+-0x3aa)),c(this,'isWebGPU',!(0x2a*-0x3b+0xd89+-0x3da)),c(this,'isWebGL2',!(0x14b+0xb4c*-0x3+0xd6*0x27)),c(this,'isHdr',!(-0x1a59+-0x66e*-0x4+-0x1b*-0x6)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',-0x407*0x3+0x1027*-0x1+-0x1c3d*-0x1),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',-0x1d7c+0x5*-0x24a+0x28ef),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(0x1129*0x1+0x17*0x3d+-0x16a3)),c(this,'supportsSt'+'orageTextu'+'reRead',!(0x1a02*0x1+-0x1f9f+0x59e)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',0x256d+0x1ecd+0x221d*-0x2),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(0x1ab3+0x6*-0x602+0x15*0x72)),c(this,'supportsUn'+'iformBuffe'+'rs',!(0x1976*0x1+-0xb78*-0x3+-0x3bdd)),c(this,'supportsCl'+'ipDistance'+'s',!(0x8*-0x395+0x3*-0x910+0x37d9)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(0x1ecc+0x1c17+-0x3ae2)),c(this,'textureFlo'+'atFilterab'+'le',!(-0x476+-0x58f+0xa06)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new _t()),c(this,'depthState',new as()),c(this,'stencilEna'+'bled',!(-0x11d8+-0x36*-0x7f+-0x8f1)),c(this,'stencilFro'+'nt',new qs()),c(this,'stencilBac'+'k',new qs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[-0x25e9+-0x243b+-0x1289*-0x4,0x18d+0x66*0x45+-0x1d0b,-0x68f+-0x1367*-0x1+-0xcd8,-0x1e04*0x1+-0x2629+-0x6*-0xb5d],'depth':0x1,'stencil':0x0,'flags':Co|Mo}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(0xefb+-0x7*0x535+0x1579)),(this['canvas']=_0x3b12fa,this['initOption'+'s']={..._0x144a9f},(_0x1b5c0e=this['initOption'+'s'])['alpha']??(_0x1b5c0e['alpha']=!(-0xe53+0xc27+0x1*0x22c)),(_0x5635d3=this['initOption'+'s'])['depth']??(_0x5635d3['depth']=!(-0x2*-0x3d9+0x1*-0x5b7+-0x1fb*0x1)),(_0x1078d7=this['initOption'+'s'])['stencil']??(_0x1078d7['stencil']=!(0x250b+0x31d*-0x2+-0x1ed1)),(_0x4cf648=this['initOption'+'s'])['antialias']??(_0x4cf648['antialias']=!(-0x58d+0x1*0x1166+0x9*-0x151)),(_0x3f9133=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x3f9133['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x179e2a=this['initOption'+'s'])['displayFor'+'mat']??(_0x179e2a['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=ye['browser']?Math['min'](0x104c+-0xc56+0x1*-0x3f5,window['devicePixe'+'lRatio']):-0x997*0x2+0xec6*0x1+0x469,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0x265*-0x6+0x1088+-0x1ee6,this['_shaderSwi'+'tchesPerFr'+'ame']=-0x1c81*0x1+0x6f0+0x1*0x1591,this['_primsPerF'+'rame']=[]);for(let _0x353720=Mc;_0x353720<=Yr;_0x353720++)this['_primsPerF'+'rame'][_0x353720]=0x19ca+0x1*0x1acb+-0x3495;this['_renderTar'+'getCreatio'+'nTime']=-0x92b*-0x1+-0x1da3+0x1478,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0x1*0x1d55+-0x18da+0x362f);}['postInit'](){const _0x6b9421=new Et(this,[{'semantic':He,'components':0x2,'type':Ee}]),_0x537032=new Float32Array([-(-0x1*0x1f99+-0x4ea+0x2*0x1242),-(-0x7f7+0x1*-0xf1+0x8e9*0x1),0x204+0x1*0xfee+-0x11f1,-(0x165+0x1*0x833+-0x997*0x1),-(0x61f+-0x7fc+-0x1de*-0x1),0x1dfc+0x2bc+-0x19*0x14f,0x1edb+-0xffc+-0xede,0x283*0xd+-0xd43+-0x1363*0x1]);this['quadVertex'+'Buffer']=new os(this,_0x6b9421,-0x49*-0x31+0x1e8+-0x1*0xfdd,{'data':_0x537032});}['destroy'](){var _0x13d5a1,_0x3e109e,_0x5b5c93;this['fire']('destroy'),(_0x13d5a1=this['quadVertex'+'Buffer'])==null||_0x13d5a1['destroy'](),this['quadVertex'+'Buffer']=null,(_0x3e109e=this['dynamicBuf'+'fers'])==null||_0x3e109e['destroy'](),this['dynamicBuf'+'fers']=null,(_0x5b5c93=this['gpuProfile'+'r'])==null||_0x5b5c93['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x518849){this['fire']('destroy:sh'+'ader',_0x518849);const _0xeae2d1=this['shaders']['indexOf'](_0x518849);_0xeae2d1!==-(-0x193f*-0x1+0x18f7+0x1*-0x3235)&&this['shaders']['splice'](_0xeae2d1,-0x1fb5+-0x1bc0+0x3b76);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x2c4f0c;this['contextLos'+'t']=!(-0x9f+0xa9d+-0x4ff*0x2),this['backBuffer'+'Size']['set'](-(-0xb*0x136+-0x188a+0x25dd),-(0x8e4+0x397*0x2+0x9*-0x1c9));for(const _0x337eca of this['textures'])_0x337eca['loseContex'+'t']();for(const _0x4c868b of this['buffers'])_0x4c868b['loseContex'+'t']();for(const _0x5731ea of this['targets'])_0x5731ea['loseContex'+'t']();(_0x2c4f0c=this['gpuProfile'+'r'])==null||_0x2c4f0c['loseContex'+'t']();}['restoreCon'+'text'](){var _0x9b1ab5,_0x73b862;this['contextLos'+'t']=!(-0x587*-0x1+-0x162*-0x3+-0x9ac),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x5cdc7d of this['buffers'])_0x5cdc7d['unlock']();(_0x73b862=(_0x9b1ab5=this['gpuProfile'+'r'])==null?void(-0x1973+0x39+0x193a):_0x9b1ab5['restoreCon'+'text'])==null||_0x73b862['call'](_0x9b1ab5);}['toJSON'](_0x58580f){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0x559+-0x1a0e*0x1+-0x1*-0x1f67),this['shaderAsyn'+'cCompile']=!(0x1f96+0x147b+-0x1c*0x1dc),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new _t(),this['depthState']=new as(),this['cullMode']=rn,this['vx']=this['vy']=this['vw']=this['vh']=-0x3*0xbec+-0x3*-0x359+0x19b9,this['sx']=this['sy']=this['sw']=this['sh']=-0xd49+-0x1408+-0x1*-0x2151,this['blendColor']=new Y(-0x7a6+0x1c4d+-0x11*0x137,-0x17cd+-0x136b+0x2b38,0xf78+0x22ab+0x1*-0x3223,-0x19b5*0x1+-0x2b*0xc7+0x3b22);}['setStencil'+'State'](_0x850c50,_0x3da8e0){v['assert'](!(-0x7*-0x44c+0x2*0x91d+-0x304d));}['setBlendSt'+'ate'](_0x29e5d6){v['assert'](!(-0x4e8+-0x445+-0x92e*-0x1));}['setBlendCo'+'lor'](_0x5019af,_0x3ef663,_0x2b40a1,_0x5f027f){v['assert'](!(0x2550+0xb98+0x1*-0x30e7));}['setDepthSt'+'ate'](_0x42ed81){v['assert'](!(0x1896+-0x3b1+-0x4*0x539));}['setCullMod'+'e'](_0x27e7cc){v['assert'](!(0x1169+-0x2205+-0x1*-0x109d));}['setRenderT'+'arget'](_0x4f87ad){this['renderTarg'+'et']=_0x4f87ad;}['setIndexBu'+'ffer'](_0x4541a2){this['indexBuffe'+'r']=_0x4541a2;}['setVertexB'+'uffer'](_0x324886){_0x324886&&this['vertexBuff'+'ers']['push'](_0x324886);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0xf71+0x1f16+0x115*-0x2b;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x256a0f){if(_0x256a0f['initialize'+'d'])return;const _0x2b62f4=ne();this['fire']('fbo:create',{'timestamp':_0x2b62f4,'target':this}),_0x256a0f['init'](),this['targets']['add'](_0x256a0f),this['_renderTar'+'getCreatio'+'nTime']+=ne()-_0x2b62f4;}['_isBrowser'+'Interface'](_0x6cbcd3){return this['_isImageBr'+'owserInter'+'face'](_0x6cbcd3)||this['_isImageCa'+'nvasInterf'+'ace'](_0x6cbcd3)||this['_isImageVi'+'deoInterfa'+'ce'](_0x6cbcd3);}['_isImageBr'+'owserInter'+'face'](_0x11c3ea){return typeof ImageBitmap<'u'&&_0x11c3ea instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x11c3ea instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x484290){return typeof HTMLCanvasElement<'u'&&_0x484290 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x1ab96a){return typeof HTMLVideoElement<'u'&&_0x1ab96a instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x1cf8a9,_0x44337d){const _0x6406e4=Math['min'](this['_maxPixelR'+'atio'],ye['browser']?window['devicePixe'+'lRatio']:0x1965*-0x1+0xfc7*-0x1+0x292d),_0x4889d4=Math['floor'](_0x1cf8a9*_0x6406e4),_0x133561=Math['floor'](_0x44337d*_0x6406e4);(_0x4889d4!==this['canvas']['width']||_0x133561!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x4889d4,_0x133561);}['setResolut'+'ion'](_0x255fcc,_0x473249){this['canvas']['width']=_0x255fcc,this['canvas']['height']=_0x473249,this['fire'](nc['EVENT_RESI'+'ZE'],_0x255fcc,_0x473249);}['updateClie'+'ntRect'](){if(ye['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x4b3eef=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x4b3eef['width'],this['clientRect']['height']=_0x4b3eef['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0xc53c71){v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x110b+-0x65*-0x28+0x1*-0x20d2);}set['maxPixelRa'+'tio'](_0x3bced3){this['_maxPixelR'+'atio']=_0x3bced3;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x5cf8ec){}['endRenderP'+'ass'](_0x34b283){}['startCompu'+'tePass'](_0x4af902){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0xc8f+-0x18c7+0x639*0x6,this['renderVers'+'ion']++,v['call'](()=>{if(Xs['get'](tS)){const _0x3cde91=this['textures']['slice']();_0x3cde91['sort']((_0x2be5d1,_0x290270)=>_0x290270['gpuSize']-_0x2be5d1['gpuSize']),v['log']('Textures:\x20'+_0x3cde91['length']);let _0x1f6e74=0xaa9+0x1*-0x858+-0x1*0x251;_0x3cde91['forEach']((_0xdd35b6,_0x483ea2)=>{const _0x1911ce=_0xdd35b6['gpuSize'];_0x1f6e74+=_0x1911ce,v['log'](_0x483ea2+'.\x20'+_0xdd35b6['name']+'\x20'+_0xdd35b6['width']+'x'+_0xdd35b6['height']+'\x20VRAM:\x20'+(_0x1911ce/(0xd0b+-0x22d5+0x19ca)/(-0x35*-0x42+0x1cc3+-0x266d))['toFixed'](-0x13*-0xbe+-0x1*0x435+-0x9e3)+'\x20MB');}),v['log']('Total:\x20'+(_0x1f6e74/(-0x1ab5+0x11*-0x18d+0x3912)/(-0x1*-0xb47+0x3*0x277+-0xeac))['toFixed'](-0x386*0x7+-0xf76+-0xb*-0x3a6)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x5262ae,_0x2265ae='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x1bfafa=[_a,Je,Ke],_0x4c9b5d=!(0xf37+0x13*-0x15d+0x72*0x18),_0x252fbd=-0x1*-0x9b9+0x581*0x2+0x1*-0x14ba){for(let _0xd354d9=0xc2f*0x1+-0xc30+0x1;_0xd354d9<_0x1bfafa['length'];_0xd354d9++){const _0x3961b3=_0x1bfafa[_0xd354d9];switch(_0x3961b3){case _a:{if(this['textureRG1'+'1B10Render'+'able'])return _0x3961b3;break;}case Je:if(this['textureHal'+'fFloatRend'+'erable'])return _0x3961b3;break;case Ke:if(this['isWebGPU']&&_0x252fbd>-0x9a4+0xb*-0x2bf+-0x1*-0x27da)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x4c9b5d||this['textureFlo'+'atFilterab'+'le']))return _0x3961b3;break;}}}};c(nc,'EVENT_RESI'+'ZE','resizecanv'+'as');let Fh=nc,Hv=0x146e+-0x6c7*-0x5+-0x67*0x87;class pt{constructor(_0x5c20e1={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x332c55,_0x33d7ca,_0x28dd12,_0x1cb52e,_0x589f6f,_0x4d133f;v['assert'](!(_0x5c20e1 instanceof Fh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x1426ad=((_0x332c55=_0x5c20e1['colorBuffe'+'r'])==null?void(0xf9a+0x149*-0x3+-0x1f*0x61):_0x332c55['device'])??((_0x33d7ca=_0x5c20e1['colorBuffe'+'rs'])==null?void(0xca*-0x25+0x66e+0x7c*0x2f):_0x33d7ca[0x986*0x4+0x1*-0x1449+-0x11cf]['device'])??((_0x28dd12=_0x5c20e1['depthBuffe'+'r'])==null?void(0xb0b+0x35*-0x71+0x11*0xba):_0x28dd12['device'])??_0x5c20e1['graphicsDe'+'vice'];v['assert'](_0x1426ad,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x1426ad;const {maxSamples:_0x441f08}=this['_device'];if(this['_samples']=Math['min'](_0x5c20e1['samples']??0x1*-0xfdd+0xa4b*-0x1+-0x1a29*-0x1,_0x441f08),_0x1426ad['isWebGPU']&&(this['_samples']=this['_samples']>0x14e1*-0x1+-0x1c3d+-0x311f*-0x1?_0x441f08:-0x801*-0x3+-0xf99+0x1*-0x869),this['_colorBuff'+'er']=_0x5c20e1['colorBuffe'+'r'],_0x5c20e1['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x5c20e1['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x5c20e1['depthBuffe'+'r'],this['_face']=_0x5c20e1['face']??0x186a+-0x1e3c+0x1*0x5d2,this['_depthBuff'+'er']){const _0x55586c=this['_depthBuff'+'er']['_format'];_0x55586c===Ci||_0x55586c===la?(this['_depth']=!(-0x7b4+0x23c+0x38*0x19),this['_stencil']=!(-0x2bd+0xb5+-0x209*-0x1)):_0x55586c===vc?(this['_depth']=!(0x22f*-0xe+0x1f45*0x1+0xb3*-0x1),this['_stencil']=!(-0x2a2+0x875*0x3+0x1*-0x16bd)):_0x55586c===Ii&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>0x117+0x202a+-0xe0*0x26?(this['_depth']=!(0x3*0x3ab+0x1ad9+-0x25da),this['_stencil']=!(-0x99b+0x38f+0x1*0x60d)):(v['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0x1*-0x1233+-0x26fb+-0x14c9*-0x1),this['_stencil']=!(0x7*-0x7d+-0x561+0x8cd));}else this['_depth']=_0x5c20e1['depth']??!(-0x1*-0xf7f+-0x2b9*-0x1+0x48e*-0x4),this['_stencil']=_0x5c20e1['stencil']??!(-0xcd*0x15+-0x14f6+0x25c8);_0x5c20e1['colorBuffe'+'rs']&&(v['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x5c20e1['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x5c20e1['colorBuffe'+'rs'][-0x314*-0x9+-0x20c5+-0x1*-0x511])),this['autoResolv'+'e']=_0x5c20e1['autoResolv'+'e']??!(-0x1*0x15b+-0x1*-0x1889+-0xb97*0x2),this['name']=_0x5c20e1['name'],this['name']||(this['name']=(_0x1cb52e=this['_colorBuff'+'er'])==null?void(-0x2617+0xfb7+0x1660):_0x1cb52e['name']),this['name']||(this['name']=(_0x589f6f=this['_depthBuff'+'er'])==null?void(-0x649+0x215*-0xe+0x1*0x236f):_0x589f6f['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x5c20e1['flipY']??!(0x3ff*0x1+0x6e1*-0x1+0x2e3),this['_mipLevel']=_0x5c20e1['mipLevel']??0x17*0x55+-0x913+-0x10*-0x17,this['_mipLevel']>-0x2*0x56d+0x1ef*-0x8+0x1a52*0x1&&this['_depth']&&(v['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x5c20e1}),this['_mipLevel']=-0x19+0x26f*-0x5+0xc44),this['_mipmaps']=_0x5c20e1['mipLevel']===void(0x2fc+0x953+-0xc4f),this['validateMr'+'t'](),this['impl']=_0x1426ad['createRend'+'erTargetIm'+'pl'](this),v['trace'](Yp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x4d133f=this['_colorBuff'+'ers'])!=null&&_0x4d133f['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){v['trace'](Yp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x399bf8=this['_device'];_0x399bf8&&(_0x399bf8['targets']['delete'](this),_0x399bf8['renderTarg'+'et']===this&&_0x399bf8['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x269960=this['_device'];_0x269960&&this['impl']['destroy'](_0x269960);}['destroyTex'+'tureBuffer'+'s'](){var _0x1761cf,_0x4367d6;(_0x1761cf=this['_depthBuff'+'er'])==null||_0x1761cf['destroy'](),this['_depthBuff'+'er']=null,(_0x4367d6=this['_colorBuff'+'ers'])==null||_0x4367d6['forEach'](_0x3dfba4=>{_0x3dfba4['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x25cac2,_0x542a2e){var _0x369eaa,_0x125a90;if(this['width']!==_0x25cac2||this['height']!==_0x542a2e){if(this['mipLevel']>0x19fe*-0x1+-0x1*0x1462+0x2e60){v['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x42735c=this['_device'];this['destroyFra'+'meBuffers'](),_0x42735c['renderTarg'+'et']===this&&_0x42735c['setRenderT'+'arget'](null),(_0x369eaa=this['_depthBuff'+'er'])==null||_0x369eaa['resize'](_0x25cac2,_0x542a2e),(_0x125a90=this['_colorBuff'+'ers'])==null||_0x125a90['forEach'](_0x2dac41=>{_0x2dac41['resize'](_0x25cac2,_0x542a2e);}),this['validateMr'+'t'](),this['impl']=_0x42735c['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){v['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x113a0f,height:_0xd37a32,cubemap:_0x18af1f,volume:_0x5d478f}=this['_colorBuff'+'ers'][0xb*-0x21f+-0x1*-0xd21+0x51a*0x2];for(let _0x59cabf=0x72c+-0x989*-0x3+-0x1*0x23c6;_0x59cabf<this['_colorBuff'+'ers']['length'];_0x59cabf++){const _0x2fc3db=this['_colorBuff'+'ers'][_0x59cabf];v['assert'](_0x2fc3db['width']===_0x113a0f,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),v['assert'](_0x2fc3db['height']===_0xd37a32,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),v['assert'](_0x2fc3db['cubemap']===_0x18af1f,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),v['assert'](_0x2fc3db['volume']===_0x5d478f,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x437e98=!(-0x3*0xb9c+0xa0a+0x18ca),_0x50094f=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0x410+0x1054+-0x1463&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x437e98?'[color]':'')+':'+(_0x50094f?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x437e98,_0x50094f),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x3a9248,_0x47a0fc,_0x97145d){if(!this['_device']){if(_0x3a9248['_device'])this['_device']=_0x3a9248['_device'];else return v['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0xb27*0x1+-0xa4*-0x1f+-0x8b4);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x3a9248['name']+'->'+this['name']);const _0x394de3=this['_device']['copyRender'+'Target'](_0x3a9248,this,_0x47a0fc,_0x97145d);return G['popGpuMark'+'er'](this['_device']),_0x394de3;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x56fc92){var _0x45092c;return(_0x45092c=this['_colorBuff'+'ers'])==null?void(0x34*0x50+0x5*0x5c7+-0x2d23*0x1):_0x45092c[_0x56fc92];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x3c63b8,_0x42a70e;let _0x569edf=((_0x3c63b8=this['_colorBuff'+'er'])==null?void(0x2278+-0x65*-0x61+-0x48bd):_0x3c63b8['width'])||((_0x42a70e=this['_depthBuff'+'er'])==null?void(-0xa45*0x1+0x1bf+0x886*0x1):_0x42a70e['width'])||this['_device']['width'];return this['_mipLevel']>0x15d7+-0x4*0x81e+-0x1*-0xaa1&&(_0x569edf=Mi['calcLevelD'+'imension'](_0x569edf,this['_mipLevel'])),_0x569edf;}get['height'](){var _0xfe3e7a,_0x2a427f;let _0x2d3683=((_0xfe3e7a=this['_colorBuff'+'er'])==null?void(0x1e46+0x26c9+-0x1705*0x3):_0xfe3e7a['height'])||((_0x2a427f=this['_depthBuff'+'er'])==null?void(-0x1*0x1d86+0x145d+0x929*0x1):_0x2a427f['height'])||this['_device']['height'];return this['_mipLevel']>0x1934+0x190e+-0x7*0x72e&&(_0x2d3683=Mi['calcLevelD'+'imension'](_0x2d3683,this['_mipLevel'])),_0x2d3683;}['isColorBuf'+'ferSrgb'](_0x27b62a=-0x8da+-0xfc6+0x18a0){if(this['device']['backBuffer']===this)return Mh(this['device']['backBuffer'+'Format']);const _0x1bc59e=this['getColorBu'+'ffer'](_0x27b62a);return _0x1bc59e?Mh(_0x1bc59e['format']):!(0x1c17+0x15a0+-0x31b6);}}const $v={'equals'(_0x14cb1f,_0x47ff42){if(_0x14cb1f['length']!==_0x47ff42['length'])return!(0x470*0x5+0xec1+0x1*-0x24f0);for(let _0x56d24a=-0x362*0x1+0x6b*-0x1+0x3cd;_0x56d24a<_0x14cb1f['length'];_0x56d24a++)if(_0x14cb1f[_0x56d24a]!==_0x47ff42[_0x56d24a])return!(-0xab8+-0x19ae+0x2467);return!(0x1a6d+-0x93c+-0x1131);}};class Gc{constructor(){c(this,'_refCount',-0x401+-0x163e+0x1a3f);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class Wv extends Gc{constructor(_0x2743f1){super(),c(this,'object'),(this['object']=_0x2743f1,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x3762cb=>{var _0x437a15;(_0x437a15=_0x3762cb['object'])==null||_0x437a15['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x5e676b){const _0x5dc252=this['cache']['get'](_0x5e676b);return _0x5dc252?(_0x5dc252['incRefCoun'+'t'](),_0x5dc252['object']):null;}['set'](_0x452073,_0x49a152){v['assert'](!this['cache']['has'](_0x452073),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x452073,'object':_0x49a152}),this['cache']['set'](_0x452073,new Wv(_0x49a152));}['release'](_0x58d6c2){var _0x349df1;const _0x4597d1=this['cache']['get'](_0x58d6c2);_0x4597d1?(_0x4597d1['decRefCoun'+'t'](),_0x4597d1['refCount']===0x122e+0x1*-0xf61+-0x3*0xef&&(this['cache']['delete'](_0x58d6c2),(_0x349df1=_0x4597d1['object'])==null||_0x349df1['destroy']())):v['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x58d6c2});}}class Xv extends qv{['loseContex'+'t'](_0x9b30e0){this['clear']();}}const jv=new Ot(),od=_0x4011f9=>jv['get'](_0x4011f9,()=>new Xv()),ot=[];ot[Ws]=-0x1*0x3c7+-0x670+0x1*0xa38,ot[or]=-0x150+-0x106*-0x4+-0x5*0x8e,ot[Wt]=-0x51b*-0x7+0x3*-0xa3d+-0x503,ot[xa]=-0x2*0x6e2+-0x6e9+-0x1*-0x14b1,ot[ln]=0x95*0x2a+-0x1*0x25a9+-0x24*-0x5e,ot[Zr]=-0x404+0xf3e+-0xb38,ot[Qr]=-0x17c4*0x1+-0x176+0xd*0x1f1,ot[Jr]=-0x10be*-0x2+-0x1f3c+0x1a*-0x16,ot[ca]=0x2604+-0x263f*0x1+0x3c,ot[Lo]=0x5df+0x18b5+0xb6*-0x2b,ot[Fo]=0x1a31+0xd5*0x2a+-0x3d20,ot[Oo]=0x255+-0x221+0x10*-0x3,ot[Rh]=-0x15f3+0x9b3+0x418*0x3,ot[ko]=-0x3*-0x3ae+0x1637+-0x1*0x2135,ot[Sa]=0x5f3+-0xb88+-0x55*-0x11,ot[va]=-0x45a+0x19fc+-0x7*0x317,ot[ba]=-0xb4a*-0x1+-0x79*-0x3+-0xcb3,ot[wa]=-0x1f01+-0x48e+0x1*0x2392,ot[Ta]=0x8a9*0x3+-0x1*0xe5d+-0xb9a;class gt{constructor(_0x2eeeb8,_0x20721f,_0x378ab8=0x1*-0x10c5+-0x38b*0x8+0x2d1d){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x2eeeb8,this['name']=_0x378ab8?_0x2eeeb8+'[0]':_0x2eeeb8,this['type']=_0x20721f,this['numCompone'+'nts']=ot[_0x20721f],v['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x20721f+'\x20used\x20for\x20'+_0x2eeeb8),this['updateType']=_0x20721f,_0x378ab8>-0x8ae+0x22*-0x121+0x6*0x7d8)switch(_0x20721f){case Ws:this['updateType']=Dc;break;case ln:this['updateType']=Aa;break;case va:this['updateType']=Oc;break;case ca:this['updateType']=kc;break;case or:this['updateType']=Lc;break;case Zr:this['updateType']=Ea;break;case ba:this['updateType']=Bc;break;case Lo:this['updateType']=Nc;break;case Wt:this['updateType']=Fc;break;case Qr:this['updateType']=Ca;break;case wa:this['updateType']=zc;break;case Fo:this['updateType']=Uc;break;case xa:this['updateType']=lp;break;case Jr:this['updateType']=Ih;break;case Ta:this['updateType']=hp;break;case Oo:this['updateType']=cp;break;case Sa:this['updateType']=Ny;break;default:v['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+dp[_0x20721f]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x2eeeb8+'\x27.'),v['call'](()=>{this['invalid']=!(-0xf74+0x213c*-0x1+0x4c*0xa4);});break;}this['count']=_0x378ab8,v['assert'](!isNaN(_0x378ab8),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x2eeeb8+'['+_0x378ab8+']'),v['call'](()=>{isNaN(_0x378ab8)&&(this['invalid']=!(-0x31*0x71+0x22ff+-0x3a*0x3b));});let _0x4dc675=this['numCompone'+'nts'];_0x378ab8&&(_0x4dc675=N['roundUp'](_0x4dc675,0x1*0x349+0x4cf*-0x1+0x18a)),this['byteSize']=_0x4dc675*(0xb*0x24+0xdd3+0xf5b*-0x1),_0x378ab8&&(this['byteSize']*=_0x378ab8),v['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x20721f+'\x20used\x20for\x20'+_0x2eeeb8);}get['isArrayTyp'+'e'](){return this['count']>-0x1*0x63d+0x18a1+0xb*-0x1ac;}['calculateO'+'ffset'](_0x833bf){let _0x7177d1=this['byteSize']<=-0x3d*-0x8e+0x1*-0x1229+-0xfa5?this['byteSize']:-0x1*0xbc5+0x13ee+-0x819;this['count']&&(_0x7177d1=0x2ba*0x8+0x1b31*0x1+-0xbb*0x43),_0x833bf=N['roundUp'](_0x833bf,_0x7177d1),this['offset']=_0x833bf/(0x353*0x4+-0x1dea+0x10a2);}}class Qy{constructor(_0x53d731,_0x1180d2){c(this,'byteSize',0x1a*0x8f+-0x1c9c+0xe16),c(this,'map',new Map()),(this['scope']=_0x53d731['scope'],this['uniforms']=_0x1180d2);let _0x47deee=0x16b+-0x86f*-0x4+-0x1*0x2327;for(let _0x560d9b=-0x480+-0x2609+-0x1*-0x2a89;_0x560d9b<_0x1180d2['length'];_0x560d9b++){const _0x18e49c=_0x1180d2[_0x560d9b];_0x18e49c['calculateO'+'ffset'](_0x47deee),_0x47deee=_0x18e49c['offset']*(0x1184+-0x11f4+-0x1d*-0x4)+_0x18e49c['byteSize'],_0x18e49c['scopeId']=this['scope']['resolve'](_0x18e49c['name']),this['map']['set'](_0x18e49c['name'],_0x18e49c);}this['byteSize']=N['roundUp'](_0x47deee,0x92*-0x16+0x1ea1+-0x1205);}['get'](_0x7cc4d2){return this['map']['get'](_0x7cc4d2);}['getShaderD'+'eclaration'](_0x35bd48,_0x2534ca){const _0x273cee=xv[_0x35bd48];let _0x3dbd12='layout(set'+'\x20=\x20'+_0x35bd48+(',\x20binding\x20'+'=\x20')+_0x2534ca+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x273cee+'\x20{\x0a';return this['uniforms']['forEach'](_0x94c67e=>{const _0x549664=dp[_0x94c67e['type']];v['assert'](_0x549664['length']>-0x1*0x1c96+-0x3*0xa9+0x1e91,'Uniform\x20ty'+'pe\x20'+_0x94c67e['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x3dbd12+='\x20\x20\x20\x20'+_0x549664+'\x20'+_0x94c67e['shortName']+(_0x94c67e['count']?'['+_0x94c67e['count']+']':'')+';\x0a';}),_0x3dbd12+'};\x0a';}}const gr='Preprocess'+'or',fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ld=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Am=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,hd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,cd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,dd=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Em=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,ud=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,vs=class vs{static['run'](_0x15f7de,_0x2f1f1b=new Map(),_0x2b22f9={}){vs['sourceName']=_0x2b22f9['sourceName'],_0x15f7de=this['stripComme'+'nts'](_0x15f7de),_0x15f7de=_0x15f7de['split'](/\r?\n/)['map'](_0x515cec=>_0x515cec['trimEnd']())['join']('\x0a');const _0x936109=new Map();if(_0x2b22f9['stripUnuse'+'dColorAtta'+'chments']){const _0xee1e86=new Map(),_0x4fc3b6=/(pcFragColor[1-8])\b/g,_0x101458=_0x15f7de['match'](_0x4fc3b6);_0x101458==null||_0x101458['forEach'](_0x44f152=>{const _0x230b8e=parseInt(_0x44f152['charAt'](_0x44f152['length']-(0x3*0x509+0x2180+-0x309a)),-0x1b59+0x1*-0x1532+0x3095);_0xee1e86['set'](_0x230b8e,(_0xee1e86['get'](_0x230b8e)??-0xa49+-0x25e0+0x3029)+(0xa3*-0xb+-0x2*-0x1003+0x1904*-0x1));}),_0xee1e86['forEach']((_0x3bbecf,_0x4def42)=>{_0x3bbecf===0x27b+0x1199+-0x23b*0x9&&_0x936109['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x4def42,'');});}_0x15f7de=this['_preproces'+'s'](_0x15f7de,_0x936109,_0x2f1f1b,_0x2b22f9['stripDefin'+'es']);const _0x2db4c8=new Map();_0x936109['forEach']((_0x149a4e,_0x2535c1)=>{Number['isInteger'](parseFloat(_0x149a4e))&&!_0x149a4e['includes']('.')&&_0x2db4c8['set'](_0x2535c1,_0x149a4e);});const _0x541a11=new Map();return _0x936109['forEach']((_0xde6711,_0x90f1df)=>{_0x90f1df['startsWith']('__INJECT_')&&_0x541a11['set'](_0x90f1df,_0xde6711);}),_0x15f7de=this['stripComme'+'nts'](_0x15f7de),_0x15f7de=this['RemoveEmpt'+'yLines'](_0x15f7de),_0x15f7de=this['processArr'+'aySize'](_0x15f7de,_0x2db4c8),_0x15f7de=this['injectDefi'+'nes'](_0x15f7de,_0x541a11),_0x15f7de;}static['stripComme'+'nts'](_0x11152b){return _0x11152b['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x5e7fbd,_0x453681){return _0x5e7fbd!==null&&_0x453681['forEach']((_0xa7a589,_0x37fb01)=>{_0x5e7fbd=_0x5e7fbd['replace'](new RegExp('\x5c['+_0x37fb01+'\x5c]','g'),'['+_0xa7a589+']');}),_0x5e7fbd;}static['injectDefi'+'nes'](_0x268f6b,_0x3e84af){if(_0x268f6b!==null&&_0x3e84af['size']>-0x95*-0x1a+-0x1c6a+0xd48){const _0x49fdfb=_0x268f6b['split']('\x0a');_0x3e84af['forEach']((_0x39ab75,_0x152202)=>{const _0x4fd552=new RegExp('\x5cb'+_0x152202+'\x5cb','g');for(let _0x1e1df7=0xf52+-0x53d+-0x59*0x1d;_0x1e1df7<_0x49fdfb['length'];_0x1e1df7++)_0x49fdfb[_0x1e1df7]['includes']('#')||(_0x49fdfb[_0x1e1df7]=_0x49fdfb[_0x1e1df7]['replace'](_0x4fd552,_0x39ab75));}),_0x268f6b=_0x49fdfb['join']('\x0a');}return _0x268f6b;}static['RemoveEmpt'+'yLines'](_0x26d154){return _0x26d154!==null&&(_0x26d154=_0x26d154['split'](/\r?\n/)['map'](_0x188be0=>_0x188be0['trim']()===''?'':_0x188be0)['join']('\x0a'),_0x26d154=_0x26d154['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x26d154;}static['_preproces'+'s'](_0x4eaa52,_0x1463ca=new Map(),_0x3cc8c8,_0x4e9bc6){const _0x128936=_0x4eaa52,_0x358cb8=[];let _0x3dc8bf=!(-0x1700+-0x1505*-0x1+0x1fc),_0x88b8fe;for(;(_0x88b8fe=fs['exec'](_0x4eaa52))!==null;){const _0x1161fa=_0x88b8fe[0x167c+0x1fc*0x8+-0x265b];switch(_0x1161fa){case'define':{ld['lastIndex']=_0x88b8fe['index'];const _0x50b774=ld['exec'](_0x4eaa52);v['assert'](_0x50b774,'Invalid\x20['+_0x1161fa+']:\x20'+_0x4eaa52['substring'](_0x88b8fe['index'],_0x88b8fe['index']+(0x1c30+-0xec3*0x1+0x47*-0x2f))+'...'),_0x3dc8bf||(_0x3dc8bf=_0x50b774===null);const _0x14a5a4=_0x50b774[0x1*0x1163+0x3a1*0x3+-0x1c45];Em['lastIndex']=_0x50b774['index'];const _0x52b820=Em['exec'](_0x14a5a4)[0x16fd+-0x18f7+0xa9*0x3];let _0x2a6eb6=_0x14a5a4['substring'](_0x52b820['length'])['trim']();_0x2a6eb6===''&&(_0x2a6eb6='true');const _0x50c2b9=vs['_keep'](_0x358cb8);_0x50c2b9&&(_0x1463ca['set'](_0x52b820,_0x2a6eb6),_0x4e9bc6&&(_0x4eaa52=_0x4eaa52['substring'](0x1af8+-0x45*-0x2b+0x268f*-0x1,_0x50b774['index']-(0x39*-0x93+-0xadd*0x3+-0x955*-0x7))+_0x4eaa52['substring'](ld['lastIndex']),fs['lastIndex']=_0x50b774['index']-(-0x481*0x3+-0x156a*-0x1+0x3f3*-0x2))),v['trace'](gr,_0x1161fa+':\x20['+_0x52b820+']\x20'+_0x2a6eb6+'\x20'+(_0x50c2b9?'':'IGNORED')),_0x4e9bc6||(fs['lastIndex']=_0x50b774['index']+_0x50b774[-0x1403+0xdd9*-0x2+-0xfe7*-0x3]['length']);break;}case'undef':{hd['lastIndex']=_0x88b8fe['index'];const _0x179ba7=hd['exec'](_0x4eaa52),_0x8c04d7=_0x179ba7[0x1e82+-0x19f5+0x184*-0x3]['trim'](),_0x362bad=vs['_keep'](_0x358cb8);_0x362bad&&(_0x1463ca['delete'](_0x8c04d7),_0x4e9bc6&&(_0x4eaa52=_0x4eaa52['substring'](0x3ae+0xd06*-0x2+0x165e,_0x179ba7['index']-(-0x1*0x24ee+-0x6f*-0x3d+0xa7c))+_0x4eaa52['substring'](hd['lastIndex']),fs['lastIndex']=_0x179ba7['index']-(-0x401+0xc90+0x3*-0x2da))),v['trace'](gr,_0x1161fa+':\x20['+_0x8c04d7+']\x20'+(_0x362bad?'':'IGNORED')),_0x4e9bc6||(fs['lastIndex']=_0x179ba7['index']+_0x179ba7[-0x103e+0x1280+-0x121*0x2]['length']);break;}case'extension':{Am['lastIndex']=_0x88b8fe['index'];const _0x1862d7=Am['exec'](_0x4eaa52);if(v['assert'](_0x1862d7,'Invalid\x20['+_0x1161fa+']:\x20'+_0x4eaa52['substring'](_0x88b8fe['index'],_0x88b8fe['index']+(-0x83a+-0xc66+0xa82*0x2))+'...'),_0x3dc8bf||(_0x3dc8bf=_0x1862d7===null),_0x1862d7){const _0x806f8e=_0x1862d7[0x26d7+0x55a+-0x2c30],_0x339954=vs['_keep'](_0x358cb8);_0x339954&&_0x1463ca['set'](_0x806f8e,'true'),v['trace'](gr,_0x1161fa+':\x20['+_0x806f8e+']\x20'+(_0x339954?'':'IGNORED'));}fs['lastIndex']=_0x1862d7['index']+_0x1862d7[-0x18*0x16+0x10cd+-0xebd]['length'];break;}case'ifdef':case'ifndef':case'if':{cd['lastIndex']=_0x88b8fe['index'];const _0x2b2f2f=cd['exec'](_0x4eaa52),_0x1f8d37=_0x2b2f2f[-0x2075+0x2b*0xb+0x1e9e],_0x2a6157=vs['evaluate'](_0x1f8d37,_0x1463ca);_0x3dc8bf||(_0x3dc8bf=_0x2a6157['error']);let _0x4038d7=_0x2a6157['result'];_0x1161fa==='ifndef'&&(_0x4038d7=!_0x4038d7),_0x358cb8['push']({'anyKeep':_0x4038d7,'keep':_0x4038d7,'start':_0x88b8fe['index'],'end':cd['lastIndex']}),v['trace'](gr,_0x1161fa+':\x20['+_0x1f8d37+']\x20=>\x20'+_0x4038d7),fs['lastIndex']=_0x2b2f2f['index']+_0x2b2f2f[0x255b+0x17*0x1a3+0x180*-0x32]['length'];break;}case'endif':case'else':case'elif':{dd['lastIndex']=_0x88b8fe['index'];const _0x2531a8=dd['exec'](_0x4eaa52),_0xab2531=_0x358cb8['pop'](),_0x2f3f71=_0xab2531['keep']?_0x4eaa52['substring'](_0xab2531['end'],_0x88b8fe['index']):'';v['trace'](gr,_0x1161fa+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x2f3f71!=='')),_0x4eaa52=_0x4eaa52['substring'](-0x1b*0x47+0x45*0x49+-0xc30,_0xab2531['start'])+_0x2f3f71+_0x4eaa52['substring'](dd['lastIndex']),fs['lastIndex']=_0xab2531['start']+_0x2f3f71['length'];const _0x3f8a03=_0x2531a8[0x1*-0x37+-0x145b*-0x1+0x5*-0x407];if(_0x3f8a03==='else'||_0x3f8a03==='elif'){let _0x23af06=!(0x1ba9+-0x9*-0x2fa+-0x3672*0x1);if(!_0xab2531['anyKeep']){if(_0x3f8a03==='else')_0x23af06=!_0xab2531['keep'];else{const _0x3aadc8=vs['evaluate'](_0x2531a8[0x1c64+-0x11e*0x2+0x2*-0xd13],_0x1463ca);_0x23af06=_0x3aadc8['result'],_0x3dc8bf||(_0x3dc8bf=_0x3aadc8['error']);}}_0x358cb8['push']({'anyKeep':_0xab2531['anyKeep']||_0x23af06,'keep':_0x23af06,'start':fs['lastIndex'],'end':fs['lastIndex']}),v['trace'](gr,_0x1161fa+':\x20['+_0x2531a8[-0xc39*-0x1+0x270f+-0x1*0x3346]+']\x20=>\x20'+_0x23af06);}break;}case'include':{ud['lastIndex']=_0x88b8fe['index'];const _0x21d8a3=ud['exec'](_0x4eaa52);_0x3dc8bf||(_0x3dc8bf=_0x21d8a3===null),v['assert'](_0x21d8a3,'Invalid\x20['+_0x1161fa+']:\x20'+_0x4eaa52['substring'](_0x88b8fe['index'],_0x88b8fe['index']+(-0x1921+0x1*0x1fab+-0x626))+'...');const _0x2b839b=_0x21d8a3[-0x160b+0x37+-0x45*-0x51]['trim'](),_0x464b28=vs['_keep'](_0x358cb8);if(_0x464b28){const _0x213109=_0x3cc8c8==null?void(-0x1784+0x1e*-0x43+0x646*0x5):_0x3cc8c8['get'](_0x2b839b);_0x213109!==void(0x6e2*0x2+0x242+0x125*-0xe)?(_0x4eaa52=_0x4eaa52['substring'](0x178f+0x3*-0xc2b+0xcf2,_0x21d8a3['index']-(0x5a9+0x1*0x2517+-0x1*0x2abf))+_0x213109+_0x4eaa52['substring'](ud['lastIndex']),fs['lastIndex']=_0x21d8a3['index']-(-0x1fdc+0x2065+-0x88)):(console['error']('Include\x20\x22'+_0x2b839b+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+vs['sourceName'],{'source':_0x128936}),_0x3dc8bf=!(0x24e*0x6+0x6*0x61f+-0x86d*0x6));}v['trace'](gr,_0x1161fa+':\x20['+_0x2b839b+']\x20'+(_0x464b28?'':'IGNORED'));break;}}}return _0x3dc8bf?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x128936}),_0x128936):_0x4eaa52;}static['_keep'](_0x377ffd){for(let _0x8aad15=-0x1ed7+-0x19b8+0x388f;_0x8aad15<_0x377ffd['length'];_0x8aad15++)if(!_0x377ffd[_0x8aad15]['keep'])return!(-0x1*0x2+0x188f+-0x2*0xc46);return!(-0x2492+0x10d*-0xc+0x312e);}static['evaluate'](_0x555b8c,_0x489444){const _0x1113f0=Zv['exec'](_0x555b8c)===null;v['assert'](_0x1113f0,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x555b8c);let _0x42f88a=!(-0x5bb*-0x1+0xe3b*0x1+-0x13f5);const _0x3570c3=Yv['exec'](_0x555b8c);_0x3570c3&&(_0x42f88a=_0x3570c3[0x8*-0x2d5+0x6d*0x1f+0x976]==='!',_0x555b8c=_0x3570c3[0x19*0x18a+0xe5e+-0x34d6]);const _0x3a36be=Kv['exec'](_0x555b8c);if(_0x3a36be){const _0x48f645=_0x489444['get'](_0x3a36be[-0x2355+-0x39*0xa1+0x472f])??_0x3a36be[0x9f*-0x18+-0xcbc+-0x3*-0x937],_0x2fba63=_0x489444['get'](_0x3a36be[-0x53b+-0x2b*-0xd+0x105*0x3])??_0x3a36be[0x223f+0x217b+-0x43b7],_0x38455e=_0x3a36be[-0x1e05+0x164b+-0x2c*-0x2d];let _0x371394=!(-0x1*-0xcc9+0x2072+-0x2d3a);switch(_0x38455e){case'==':_0x371394=_0x48f645===_0x2fba63;break;case'!=':_0x371394=_0x48f645!==_0x2fba63;break;case'<':_0x371394=_0x48f645<_0x2fba63;break;case'<=':_0x371394=_0x48f645<=_0x2fba63;break;case'>':_0x371394=_0x48f645>_0x2fba63;break;case'>=':_0x371394=_0x48f645>=_0x2fba63;break;}return{'result':_0x371394,'error':!_0x1113f0};}_0x555b8c=_0x555b8c['trim']();let _0x2647e6=_0x489444['has'](_0x555b8c);return _0x42f88a&&(_0x2647e6=!_0x2647e6),{'result':_0x2647e6,'error':!_0x1113f0};}};c(vs,'sourceName');let Oh=vs;const Jy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),e0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',t0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Cm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':He,'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_texCoord2':jo,'vertex_texCoord3':Yo,'vertex_texCoord4':Ko,'vertex_texCoord5':Zo,'vertex_texCoord6':Qo,'vertex_texCoord7':Jo,'vertex_color':At,'vertex_boneIndices':qt,'vertex_boneWeights':Ys};class Mt{static['createDefi'+'nition'](_0x3b016d,_0x6c3c00){v['assert'](_0x6c3c00),v['assert'](!_0x6c3c00['vertexDefi'+'nes']||_0x6c3c00['vertexDefi'+'nes']instanceof Map),v['assert'](!_0x6c3c00['vertexIncl'+'udes']||_0x6c3c00['vertexIncl'+'udes']instanceof Map),v['assert'](!_0x6c3c00['fragmentDe'+'fines']||_0x6c3c00['fragmentDe'+'fines']instanceof Map),v['assert'](!_0x6c3c00['fragmentIn'+'cludes']||_0x6c3c00['fragmentIn'+'cludes']instanceof Map);const _0x553750=(_0x17ea6f,_0x5cff5c,_0x5638c8,_0x23a3f5)=>{const _0x47c155=_0x3b016d['isWebGPU']?_0x17ea6f:_0x5cff5c;let _0x5bcb88='';if(!_0x5638c8){let _0x1b4e24=_0x23a3f5['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0x1b4e24)||(_0x1b4e24=[_0x1b4e24]);for(let _0x27c6a4=-0x4f0+0x7*0x1cd+-0x7ab;_0x27c6a4<_0x3b016d['maxColorAt'+'tachments'];_0x27c6a4++){_0x5bcb88+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x27c6a4+'\x0a';const _0x53c218=_0x1b4e24[_0x27c6a4]??'vec4';_0x5bcb88+='#define\x20ou'+'tType_'+_0x27c6a4+'\x20'+_0x53c218+'\x0a';}}return _0x5bcb88+_0x47c155;},_0x27f9a0=_0x6c3c00['name']??'Untitled';let _0x13a021,_0x255cc2;return _0x6c3c00['shaderLang'+'uage']===Ph?(_0x13a021=_0x6c3c00['vertexCode'],_0x255cc2=_0x6c3c00['fragmentCo'+'de']):(_0x13a021=Mt['versionCod'+'e'](_0x3b016d)+_0x553750(s0,e0,!(0xb1f+0x73b+-0x36*0x57),_0x6c3c00)+Mt['getDefines'+'Code'](_0x6c3c00['vertexDefi'+'nes'])+Mt['precisionC'+'ode'](_0x3b016d)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x27f9a0)+_0x6c3c00['vertexCode'],_0x255cc2=(_0x6c3c00['fragmentPr'+'eamble']||'')+Mt['versionCod'+'e'](_0x3b016d)+_0x553750(t0,Jy,!(0x1*-0xcc8+0x2640+0x3*-0x87d),_0x6c3c00)+Mt['getDefines'+'Code'](_0x6c3c00['fragmentDe'+'fines'])+Mt['precisionC'+'ode'](_0x3b016d)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x27f9a0)+(_0x6c3c00['fragmentCo'+'de']||Mt['dummyFragm'+'entCode']())),{'name':_0x27f9a0,'shaderLanguage':_0x6c3c00['shaderLang'+'uage']??ky,'attributes':_0x6c3c00['attributes'],'vshader':_0x13a021,'vincludes':_0x6c3c00['vertexIncl'+'udes'],'fincludes':_0x6c3c00['fragmentIn'+'cludes'],'fshader':_0x255cc2,'useTransformFeedback':_0x6c3c00['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x6c3c00['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x6c3c00['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x3cf7a2){let _0x123555='';return _0x3cf7a2==null||_0x3cf7a2['forEach']((_0x4b948d,_0x13ea51)=>{_0x123555+='#define\x20'+_0x13ea51+'\x20'+_0x4b948d+'\x0a';}),_0x123555;}static['getShaderN'+'ameCode'](_0x2ef6cc){return'#define\x20SH'+'ADER_NAME\x20'+_0x2ef6cc+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x55fda6){return _0x55fda6['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x9d02a8,_0x52acc4){_0x52acc4&&_0x52acc4!=='highp'&&_0x52acc4!=='mediump'&&_0x52acc4!=='lowp'&&(_0x52acc4=null),_0x52acc4&&(_0x52acc4==='highp'&&_0x9d02a8['maxPrecisi'+'on']!=='highp'&&(_0x52acc4='mediump'),_0x52acc4==='mediump'&&_0x9d02a8['maxPrecisi'+'on']==='lowp'&&(_0x52acc4='lowp'));const _0x3f082e=_0x52acc4||_0x9d02a8['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x3f082e+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x3f082e+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x3f082e+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x3f082e+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x3f082e+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x3f082e+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x3f082e+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x6330ed){const _0x2de09f={};let _0x5de191=0x18ff+0x5b5*0x2+-0x2469,_0x2f5c92=_0x6330ed['indexOf']('attribute');for(;_0x2f5c92>=-0x312+0x43*0x67+-0x17e3&&!(_0x2f5c92>-0xbe4*0x3+-0x543*0x3+0x3375*0x1&&_0x6330ed[_0x2f5c92-(0xcd8+0x11eb+-0x2*0xf61)]==='/');){let _0x42d1f4=!(0xe89+0x16*0xb+-0xf7a);if(_0x2f5c92>0x47*0x18+-0x7a2*0x3+0x16*0xbd){let _0x1a409d=_0x6330ed['lastIndexO'+'f']('\x0a',_0x2f5c92);_0x1a409d=_0x1a409d!==-(-0x1df1+0x1c99*-0x1+-0x3a8b*-0x1)?_0x1a409d+(0x1830+0x2673+-0x3ea2):0x25e0+-0xa0b+0x1*-0x1bd5,_0x6330ed['substring'](_0x1a409d,_0x2f5c92)['includes']('#')&&(_0x42d1f4=!(0x1571+0x73b+0x5*-0x5bc));}if(!_0x42d1f4){const _0x2cef28=_0x6330ed['indexOf'](';',_0x2f5c92),_0x15dc1e=_0x6330ed['lastIndexO'+'f']('\x20',_0x2cef28),_0x3add4e=_0x6330ed['substring'](_0x15dc1e+(0xfac+-0x131d*-0x2+-0x35e5),_0x2cef28);if(_0x2de09f[_0x3add4e])v['warn']('Attribute\x20'+'['+_0x3add4e+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x6330ed});else{const _0x56d4f0=Qv[_0x3add4e];_0x56d4f0!==void(-0x8*0x97+-0x612*0x1+0xaca*0x1)?_0x2de09f[_0x3add4e]=_0x56d4f0:(_0x2de09f[_0x3add4e]='ATTR'+_0x5de191,_0x5de191++);}}_0x2f5c92=_0x6330ed['indexOf']('attribute',_0x2f5c92+(0x2525+0x9af+0x1*-0x2ed3));}return _0x2de09f;}}let Jv=0xa*0x69+0x1da0+-0x3*0xb3e;class i0{constructor(_0x242444,_0xb4d7f8){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x242444,this['definition']=_0xb4d7f8,this['name']=_0xb4d7f8['name']||'Untitled',this['init'](),_0xb4d7f8['cshader'])v['assert'](_0x242444['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),v['assert'](!_0xb4d7f8['vshader']&&!_0xb4d7f8['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{v['assert'](_0xb4d7f8['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),v['assert'](_0xb4d7f8['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0xb4d7f8['vshader']=Oh['run'](_0xb4d7f8['vshader'],_0xb4d7f8['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0xb4d7f8['shaderLang'+'uage']===ky&&(_0xb4d7f8['attributes']??(_0xb4d7f8['attributes']=Mt['collectAtt'+'ributes'](_0xb4d7f8['vshader'])));const _0x1eb654=_0x242444['isWebGL2']&&(ye['name']==='osx'||ye['name']==='ios');_0xb4d7f8['fshader']=Oh['run'](_0xb4d7f8['fshader'],_0xb4d7f8['fincludes'],{'stripUnusedColorAttachments':_0x1eb654,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x242444['createShad'+'erImpl'](this),v['trace'](Zp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(0xe3*-0x1c+0x3d5+0x1500),this['failed']=!(0x1*-0x67d+0x1*-0x13c6+0x1a44);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){v['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Te=[];Te[Ws]=function(_0xb4222b,_0xbeb6ed,_0x12fc89){const _0x5ba671=_0xb4222b['storageFlo'+'at32'];_0x5ba671[_0x12fc89]=_0xbeb6ed;},Te[or]=(_0x462a7e,_0x27b4cc,_0x82fb1a)=>{const _0x21a41e=_0x462a7e['storageFlo'+'at32'];_0x21a41e[_0x82fb1a]=_0x27b4cc[0xe*-0x9+0x161f+0x317*-0x7],_0x21a41e[_0x82fb1a+(-0x6d1*-0x2+0x5e5*0x6+-0x30ff)]=_0x27b4cc[-0x15+-0x1986+0x199c];},Te[Wt]=(_0x304f44,_0x4951ac,_0x20f373)=>{const _0x438afd=_0x304f44['storageFlo'+'at32'];_0x438afd[_0x20f373]=_0x4951ac[0xe7a+0x23d4+0x1*-0x324e],_0x438afd[_0x20f373+(0xa*-0x27e+0x1*-0x4a+0x1937)]=_0x4951ac[0x167*0x6+-0xb0*0xd+0x87],_0x438afd[_0x20f373+(0x37*0x1f+0xfbc*-0x2+0x18d1)]=_0x4951ac[0x1898+-0x16*-0x115+-0x4c*0xa3];},Te[xa]=(_0x3ba336,_0x5617cb,_0x4a3345)=>{const _0x345fa0=_0x3ba336['storageFlo'+'at32'];_0x345fa0[_0x4a3345]=_0x5617cb[-0x253c+-0x17db+0x1*0x3d17],_0x345fa0[_0x4a3345+(0x9f0+-0x1343*0x1+0xc*0xc7)]=_0x5617cb[0x75f+-0x2d1*-0x4+-0x12a2],_0x345fa0[_0x4a3345+(0x1aa7*-0x1+0x2467+-0x2b*0x3a)]=_0x5617cb[0x1d2d+0xbe1+-0x47*0x94],_0x345fa0[_0x4a3345+(0x26d5*0x1+-0x1*0x1d3f+0x3*-0x331)]=_0x5617cb[0x2*0xfd3+0x129b+0x323e*-0x1];},Te[ln]=function(_0x2db20f,_0x3b2105,_0x20b296){const _0x503889=_0x2db20f['storageInt'+'32'];_0x503889[_0x20b296]=_0x3b2105;},Te[Zr]=function(_0x214782,_0x5d1770,_0x12433c){const _0x24c4bd=_0x214782['storageInt'+'32'];_0x24c4bd[_0x12433c]=_0x5d1770[-0x234f+0x99f*0x1+0x19b0],_0x24c4bd[_0x12433c+(-0x38b*0x3+0x8f*0x1f+0x3b*-0x1d)]=_0x5d1770[-0x26ba+0x1*-0x1ebc+-0x1*-0x4577];},Te[Qr]=function(_0x2b08f2,_0x5e626f,_0x3e5967){const _0x1ebc6a=_0x2b08f2['storageInt'+'32'];_0x1ebc6a[_0x3e5967]=_0x5e626f[-0xb47+-0x97a+-0xb*-0x1e3],_0x1ebc6a[_0x3e5967+(0x337*-0x8+-0xd*0x1b3+-0x5fa*-0x8)]=_0x5e626f[0x2*0xe84+-0x2d*0xf+-0x1a64],_0x1ebc6a[_0x3e5967+(0x11*0x79+0x19*0x9b+-0x172a)]=_0x5e626f[-0x13b1*0x1+0xbf*0x10+-0x1*-0x7c3];},Te[Jr]=function(_0x281cd1,_0x5b917f,_0x44c2a8){const _0x44e992=_0x281cd1['storageInt'+'32'];_0x44e992[_0x44c2a8]=_0x5b917f[-0x13*0x101+0xdee+0x525],_0x44e992[_0x44c2a8+(0x270c+0x1a7c+0x1*-0x4187)]=_0x5b917f[0x4*0x1ba+0x6b6*0x1+-0xd9d],_0x44e992[_0x44c2a8+(-0x1482+-0x22c8+-0x1ba6*-0x2)]=_0x5b917f[0xb*0x10d+0x263e+-0x31cb],_0x44e992[_0x44c2a8+(0x1*-0x221b+-0x7c3*0x1+0x29e1)]=_0x5b917f[0x326*-0x9+0x3*-0x6de+0x30f3];},Te[Rh]=(_0x458a99,_0x1bf16d,_0x289c64)=>{const _0x498e99=_0x458a99['storageFlo'+'at32'];_0x498e99[_0x289c64]=_0x1bf16d[0x1163*-0x2+-0x1*-0x30c+0x1fba],_0x498e99[_0x289c64+(-0x65d+0x5*0x25f+-0x5*0x119)]=_0x1bf16d[0x1cbe+-0x2*0x48b+-0x13a7],_0x498e99[_0x289c64+(-0x8*-0x338+0x1bf3+-0x35af)]=_0x1bf16d[0x1e47+0x36f*0x7+-0x364e],_0x498e99[_0x289c64+(-0x5c3+-0x25a4+0x31a*0xe)]=_0x1bf16d[0x1*-0x571+-0x10a2*0x1+0x1616],_0x498e99[_0x289c64+(-0x1287+-0x2*-0xfdd+0xd2b*-0x1)]=_0x1bf16d[0x1ed4+0x156f+0x217*-0x19],_0x498e99[_0x289c64+(0x1265+0x1*0x1b3e+-0x2d9a)]=_0x1bf16d[0x1812*0x1+-0xe6c+-0x9a1];},Te[ko]=(_0x292518,_0x1ac408,_0x569503)=>{const _0x3dd346=_0x292518['storageFlo'+'at32'];_0x3dd346[_0x569503]=_0x1ac408[0x1ffb+0x1b3d+-0x17b*0x28],_0x3dd346[_0x569503+(0x1b66+0x7*0x296+-0x2d7f)]=_0x1ac408[0x1*-0x223d+-0x167+0x721*0x5],_0x3dd346[_0x569503+(-0x146c+0xf3d*0x1+0x531)]=_0x1ac408[-0x1*0x2350+0x90a+0x1a48],_0x3dd346[_0x569503+(-0xc*-0x293+-0x1*-0xd25+-0x2c05)]=_0x1ac408[-0x2c*0xbf+0xac3+0x1614],_0x3dd346[_0x569503+(-0x6d*0x25+0x1*0x19ee+-0xa28)]=_0x1ac408[0x1597+-0x1*0x24b5+-0x791*-0x2],_0x3dd346[_0x569503+(0x52*-0x6d+0x258f+-0x29f)]=_0x1ac408[0x2*0xb18+-0x17dd+0x2*0xd9],_0x3dd346[_0x569503+(0x22d8+-0x1e7a+0xa*-0x6f)]=_0x1ac408[-0x256a+-0x692+0x2c02],_0x3dd346[_0x569503+(-0x2c2*-0x4+-0x1*0x15dd+0xade)]=_0x1ac408[0x11e6+0x1f10+-0x1*0x30ef],_0x3dd346[_0x569503+(-0x133*-0x1c+0x8b*-0x25+-0xd73)]=_0x1ac408[-0x196*0x16+-0x1891+0x3b7d];},Te[Dc]=function(_0x141713,_0x562d7a,_0x6ad544,_0x109085){const _0x241526=_0x141713['storageFlo'+'at32'];for(let _0x5bda7e=-0x19ac+-0x1*0x18e8+0x3294;_0x5bda7e<_0x109085;_0x5bda7e++)_0x241526[_0x6ad544+_0x5bda7e*(-0x22fc+0x278+0x2088)]=_0x562d7a[_0x5bda7e];},Te[Lc]=(_0x5d4d64,_0xbd6454,_0x2c60c0,_0x5083c8)=>{const _0x5cd45b=_0x5d4d64['storageFlo'+'at32'];for(let _0x1515e0=-0x1847+0x1*-0xcb5+0x315*0xc;_0x1515e0<_0x5083c8;_0x1515e0++)_0x5cd45b[_0x2c60c0+_0x1515e0*(-0xee9*0x2+0xfcb+-0xe0b*-0x1)]=_0xbd6454[_0x1515e0*(0x2428+0xdf*0xc+-0x2e9a)],_0x5cd45b[_0x2c60c0+_0x1515e0*(-0xaa3*0x3+-0xd12+-0x2cff*-0x1)+(-0x68+0xb12+0xaa9*-0x1)]=_0xbd6454[_0x1515e0*(0x15e6+-0x1fd5+-0x1*-0x9f1)+(-0x1*-0x255d+-0x1fe+-0x235e)];},Te[Fc]=(_0x2403e6,_0x4b4806,_0x2eeafd,_0x212534)=>{const _0x5b8473=_0x2403e6['storageFlo'+'at32'];for(let _0x1e9385=0x17*0x88+-0xc40+0x1*0x8;_0x1e9385<_0x212534;_0x1e9385++)_0x5b8473[_0x2eeafd+_0x1e9385*(0xa*-0x37+-0x2d*0x72+0x1634)]=_0x4b4806[_0x1e9385*(0xf*-0x1c5+-0x1ead+0x467*0xd)],_0x5b8473[_0x2eeafd+_0x1e9385*(0x25b5+-0x1c31+-0x8*0x130)+(0x6*0x1b7+0xa93*-0x1+0x4a)]=_0x4b4806[_0x1e9385*(-0x542*0x3+0x1e7a+-0x1*0xeb1)+(-0x545*0x6+0x1ce1+0x2be)],_0x5b8473[_0x2eeafd+_0x1e9385*(0x269*0x6+0x19*0x133+0x1*-0x2c6d)+(-0x494*-0x1+-0x1*0xfe9+-0x1*-0xb57)]=_0x4b4806[_0x1e9385*(0x3*-0xb9b+-0x7bd+-0x281*-0x11)+(-0x171*-0xd+0x1*-0x9b9+-0x902)];},Te[va]=(_0x53b97e,_0x573ae6,_0x5191dd,_0x1cfe5c)=>{const _0x5b9c47=_0x53b97e['storageUin'+'t32'];_0x5b9c47[_0x5191dd]=_0x573ae6;},Te[ba]=(_0x147749,_0xa660b7,_0x2490dd,_0x20d3ca)=>{const _0x4540d1=_0x147749['storageUin'+'t32'];_0x4540d1[_0x2490dd]=_0xa660b7[0x11d7+0xa5a+-0x1c31],_0x4540d1[_0x2490dd+(0x1c09*-0x1+-0xf8d*-0x2+-0x310)]=_0xa660b7[-0xd6*0x11+0x753+0x6e4];},Te[wa]=(_0x24a8ac,_0x47475f,_0x5d2885,_0x35d016)=>{const _0x55531b=_0x24a8ac['storageUin'+'t32'];_0x55531b[_0x5d2885]=_0x47475f[0x2063+0x3*0x7db+-0x37f4],_0x55531b[_0x5d2885+(0x18cf+-0xd*0x1d8+-0xd6)]=_0x47475f[-0x1*0x1db3+0x1*0x1f6+0x1bbe],_0x55531b[_0x5d2885+(-0xb5f+-0x69*-0x1b+0x4e)]=_0x47475f[-0xe3*-0x1d+-0x8ef*-0x1+-0x8a9*0x4];},Te[Ta]=(_0x1f3345,_0x5ce7b4,_0xc87442,_0x2e7038)=>{const _0x5ef0da=_0x1f3345['storageUin'+'t32'];_0x5ef0da[_0xc87442]=_0x5ce7b4[-0x175+0x1*-0x1dcb+0x8*0x3e8],_0x5ef0da[_0xc87442+(-0xb*0x383+0x29b+0x2407)]=_0x5ce7b4[-0x33d+-0x3f5*-0x5+-0x108b],_0x5ef0da[_0xc87442+(-0x18a9+-0xe71+0x138e*0x2)]=_0x5ce7b4[-0xb3*0xb+0x3*0x8b1+0x2a*-0x70],_0x5ef0da[_0xc87442+(-0x5a9+0x1*-0x976+0xf22)]=_0x5ce7b4[-0x129f+-0x101c+0x22be];},Te[Aa]=function(_0x520ea0,_0xcf6781,_0xd9b76b,_0x3cc00c){const _0x41f4a4=_0x520ea0['storageInt'+'32'];for(let _0x49f69c=-0x35d*-0x1+0x40*0x7f+-0x59*0x65;_0x49f69c<_0x3cc00c;_0x49f69c++)_0x41f4a4[_0xd9b76b+_0x49f69c*(0x2*0x697+-0x1e00+-0x10d6*-0x1)]=_0xcf6781[_0x49f69c];},Te[kc]=Te[Aa],Te[Oc]=function(_0x584505,_0x59e7bd,_0x1e8d98,_0x35308e){const _0x468f77=_0x584505['storageUin'+'t32'];for(let _0x592b39=-0xc*-0x11d+0x30d+-0x1*0x1069;_0x592b39<_0x35308e;_0x592b39++)_0x468f77[_0x1e8d98+_0x592b39*(-0xa2a+-0xf9c+0x19ca)]=_0x59e7bd[_0x592b39];},Te[Ea]=(_0x5d39ad,_0xf7aecd,_0x13a7fb,_0x550be0)=>{const _0x337ed3=_0x5d39ad['storageInt'+'32'];for(let _0x1f5995=-0x1cb4+0xb1a+0x119a;_0x1f5995<_0x550be0;_0x1f5995++)_0x337ed3[_0x13a7fb+_0x1f5995*(0x1ae6*0x1+-0x10bd+0x1*-0xa25)]=_0xf7aecd[_0x1f5995*(-0x349*0x3+0x1*-0x36d+-0x6a5*-0x2)],_0x337ed3[_0x13a7fb+_0x1f5995*(-0xe77+0x3*0x70+-0x1*-0xd2b)+(0x11a6+-0x2df+0x3e*-0x3d)]=_0xf7aecd[_0x1f5995*(-0x1*0x1b1d+-0x71+0x1b90)+(0x513*-0x6+-0x6a*0x40+-0x38f3*-0x1)];},Te[Nc]=Te[Ea],Te[Bc]=(_0x2857b9,_0x3c1b19,_0x3cc78d,_0x4f24c6)=>{const _0x4539f9=_0x2857b9['storageUin'+'t32'];for(let _0x5cbb5a=0x4*0x7af+-0x1b6f+0xd*-0x41;_0x5cbb5a<_0x4f24c6;_0x5cbb5a++)_0x4539f9[_0x3cc78d+_0x5cbb5a*(-0x2448+0x37*-0xa7+0x180f*0x3)]=_0x3c1b19[_0x5cbb5a*(-0x1f2a+-0x1*-0x1d68+-0xe2*-0x2)],_0x4539f9[_0x3cc78d+_0x5cbb5a*(-0x186+-0xba1*0x1+0xd2b)+(-0x3*0x4e9+-0x21d*0x2+0x12f6)]=_0x3c1b19[_0x5cbb5a*(0x162e+-0x17a2+0x176)+(-0x9ac+0x3*-0x663+-0x1cd6*-0x1)];},Te[Ca]=(_0x48f0a1,_0x2d6a9b,_0x377b52,_0x46233a)=>{const _0x2cf1d2=_0x48f0a1['storageInt'+'32'];for(let _0x1cb1e0=0x132f+0x26*0x40+-0x1caf;_0x1cb1e0<_0x46233a;_0x1cb1e0++)_0x2cf1d2[_0x377b52+_0x1cb1e0*(-0x35c+0x43b*-0x5+-0x7*-0x381)]=_0x2d6a9b[_0x1cb1e0*(-0x123*-0x4+-0x868+0x3df)],_0x2cf1d2[_0x377b52+_0x1cb1e0*(0xc85*0x1+0x267c+-0x32fd)+(0x2*-0x15+0x1834+0x36f*-0x7)]=_0x2d6a9b[_0x1cb1e0*(-0x7c7*0x1+-0xc08+0x56*0x3b)+(-0xa5*-0x19+0x1723*-0x1+0x707)],_0x2cf1d2[_0x377b52+_0x1cb1e0*(-0x41e+0x3*-0x6de+0x2*0xc5e)+(-0x149*0x1+-0x209a+0x21e5)]=_0x2d6a9b[_0x1cb1e0*(0x1309+0x6c7+-0x1*0x19cd)+(-0xdb*-0x27+0x567*-0x3+-0xa*0x1b7)];},Te[Uc]=Te[Ca],Te[zc]=(_0x420df5,_0x487bb9,_0x570648,_0x5d726b)=>{const _0x229e46=_0x420df5['storageUin'+'t32'];for(let _0x54df56=-0x771+-0xb11*-0x1+0x1d0*-0x2;_0x54df56<_0x5d726b;_0x54df56++)_0x229e46[_0x570648+_0x54df56*(0x1f00+-0x54d+-0x19af)]=_0x487bb9[_0x54df56*(0x7*-0xd3+0x1493*0x1+-0xecb)],_0x229e46[_0x570648+_0x54df56*(0x1*-0x1191+-0x2626+0x37bb)+(-0x3*-0xbfa+-0x363*0x5+0x176*-0xd)]=_0x487bb9[_0x54df56*(-0x137b+-0x2066+-0x171*-0x24)+(-0x1097+0x2383*-0x1+-0x341b*-0x1)],_0x229e46[_0x570648+_0x54df56*(-0x36e+-0x1*0x26b8+0x2a2a)+(-0x6*-0x3c1+0x10f+0x1*-0x1793)]=_0x487bb9[_0x54df56*(0x1*0x16f6+-0x1c14+0x1*0x521)+(0x206f+-0x19cf+0x79*-0xe)];};class gp{constructor(_0x581b0d,_0x2c2b10,_0x52d5bf=!(-0x1c8+-0x74d+0x915)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',-0x2221+0x1*-0x12e9+0x92*0x5d);if(this['device']=_0x581b0d,this['format']=_0x2c2b10,this['persistent']=_0x52d5bf,v['assert'](_0x2c2b10),_0x52d5bf){this['impl']=_0x581b0d['createUnif'+'ormBufferI'+'mpl'](this);const _0x429675=new ArrayBuffer(_0x2c2b10['byteSize']);this['assignStor'+'age'](new Int32Array(_0x429675)),_0x581b0d['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x5afefe=this['device'];this['impl']['destroy'](_0x5afefe),_0x5afefe['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0x25ea+0x1*-0x16c9+0x3cb3:this['allocation']['offset'];}['assignStor'+'age'](_0x100b62){this['storageInt'+'32']=_0x100b62,this['storageUin'+'t32']=new Uint32Array(_0x100b62['buffer'],_0x100b62['byteOffset'],_0x100b62['byteLength']/(-0x12af*-0x1+-0x3*-0x48f+-0x2058)),this['storageFlo'+'at32']=new Float32Array(_0x100b62['buffer'],_0x100b62['byteOffset'],_0x100b62['byteLength']/(0x175f+-0x26c4+0xf69));}['loseContex'+'t'](){var _0x6f3bbe;(_0x6f3bbe=this['impl'])==null||_0x6f3bbe['loseContex'+'t']();}['setUniform'](_0x565bf6,_0x5a4637){v['assert'](_0x565bf6);const _0x4a74c3=_0x565bf6['offset'];if(_0x5a4637!=null){const _0x53f898=Te[_0x565bf6['updateType']];_0x53f898?_0x53f898(this,_0x5a4637,_0x4a74c3,_0x565bf6['count']):this['storageFlo'+'at32']['set'](_0x5a4637,_0x4a74c3);}else v['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x565bf6['name']+('],\x20expecte'+'d\x20type\x20')+dp[_0x565bf6['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0xc91dfa,_0x1fdbcd){const _0x4e4045=this['format']['map']['get'](_0xc91dfa);v['assert'](_0x4e4045,'Uniform\x20na'+'me\x20['+_0xc91dfa+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x4e4045&&this['setUniform'](_0x4e4045,_0x1fdbcd);}['startUpdat'+'e'](_0x4d66d6){if(!this['persistent']){const _0x14c4c2=this['allocation'],_0x21e692=_0x14c4c2['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x14c4c2,this['format']['byteSize']),this['assignStor'+'age'](_0x14c4c2['storage']),_0x4d66d6&&(_0x4d66d6['bindGroup']=_0x14c4c2['gpuBuffer']['getBindGro'+'up'](this),_0x4d66d6['offsets'][0x154*-0xe+0xb*-0x298+0x1a*0x1d0]=_0x14c4c2['offset']),_0x21e692!==_0x14c4c2['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x12830d){this['startUpdat'+'e'](_0x12830d);const _0x5d29e6=this['format']['uniforms'];for(let _0x438a37=-0x16ca+0x1*0x18ad+0xa1*-0x3;_0x438a37<_0x5d29e6['length'];_0x438a37++){const _0xa55cc4=_0x5d29e6[_0x438a37]['scopeId']['value'];this['setUniform'](_0x5d29e6[_0x438a37],_0xa55cc4);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(-0x1f1d+0x1*0x1ec5+-0x1*-0x59)),c(this,'_enableReq'+'uest',!(-0x37c*0x5+0x9b7*-0x1+0x6*0x486)),c(this,'_frameTime',0x143f+0xe*0x11b+-0x23b9);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0xac596d){this['_enableReq'+'uest']=_0xac596d;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x1*-0x1413+-0x912+0x1d25));}['request'](_0x10abef){this['pastFrameA'+'llocations']['set'](_0x10abef,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x54a41a,_0x5f0482){if(_0x5f0482){const _0x399f60=this['pastFrameA'+'llocations']['get'](_0x54a41a);if(v['assert'](_0x399f60['length']===_0x5f0482['length']),_0x5f0482['length']>0x225c+0x1265+-0x16d*0x25&&(this['_frameTime']=_0x5f0482[-0x6a3*0x1+-0x3*-0xa49+0xf8*-0x19]),Xs['get'](ml)){v['trace'](ml,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x54a41a+'\x20--');let _0x5b36b1=0x677*0x6+-0x22f4+-0x3d6;for(let _0x746440=0x1525+-0x21f2+-0x1d*-0x71;_0x746440<_0x399f60['length'];++_0x746440){const _0xf401c8=_0x399f60[_0x746440];_0x5b36b1+=_0x5f0482[_0x746440],v['trace'](ml,_0x5f0482[_0x746440]['toFixed'](0x24*-0x2f+0x9d8+0x2*-0x19d)+'\x20ms\x20'+_0xf401c8);}v['trace'](ml,_0x5b36b1['toFixed'](0x2502+-0x130+-0x23d0)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x54a41a);}['getSlot'](_0x5d2d09){const _0x478ffa=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x5d2d09),_0x478ffa;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class r0{constructor(){c(this,'bufferId',null);}['destroy'](_0x4ec141){this['bufferId']&&(_0x4ec141['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x5130d4,_0x3efee2,_0x1703fc,_0x284077){const _0x2de9e0=_0x5130d4['gl'];if(this['bufferId'])_0x2de9e0['bindBuffer'](_0x1703fc,this['bufferId']),_0x2de9e0['bufferSubD'+'ata'](_0x1703fc,-0x2*0x116+-0x708+0x934,_0x284077);else{let _0x2fd469;switch(_0x3efee2){case jt:_0x2fd469=_0x2de9e0['STATIC_DRA'+'W'];break;case Th:_0x2fd469=_0x2de9e0['DYNAMIC_DR'+'AW'];break;case uy:_0x2fd469=_0x2de9e0['STREAM_DRA'+'W'];break;case PS:_0x2fd469=_0x2de9e0['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x2de9e0['createBuff'+'er'](),_0x2de9e0['bindBuffer'](_0x1703fc,this['bufferId']),_0x2de9e0['bufferData'](_0x1703fc,_0x284077,_0x2fd469);}}}class sb extends r0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x126f31){super['destroy'](_0x126f31),_0x126f31['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x372f71){const _0x4018cd=_0x372f71['device'];super['unlock'](_0x4018cd,_0x372f71['usage'],_0x4018cd['gl']['ARRAY_BUFF'+'ER'],_0x372f71['storage']);}}class ib extends r0{constructor(_0x5f3164){super();const _0x57538b=_0x5f3164['device']['gl'],_0x414c24=_0x5f3164['format'];_0x414c24===pu?this['glFormat']=_0x57538b['UNSIGNED_B'+'YTE']:_0x414c24===Pi?this['glFormat']=_0x57538b['UNSIGNED_S'+'HORT']:_0x414c24===nr&&(this['glFormat']=_0x57538b['UNSIGNED_I'+'NT']);}['unlock'](_0x5d2e38){const _0xe13ae1=_0x5d2e38['device'];super['unlock'](_0xe13ae1,_0x5d2e38['usage'],_0xe13ae1['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x5d2e38['storage']);}}class Mm{constructor(_0x3ea88e,_0xa0afb2,_0x53e3dc,_0x2ff469){if(this['locationId']=_0x2ff469,this['scopeId']=_0x3ea88e['scope']['resolve'](_0xa0afb2),this['version']=new Ky(),_0xa0afb2['substring'](_0xa0afb2['length']-(-0x11de+0xb*0x5+-0x286*-0x7))==='[0]')switch(_0x53e3dc){case Ws:_0x53e3dc=Dc;break;case ln:_0x53e3dc=Aa;break;case va:_0x53e3dc=Oc;break;case ca:_0x53e3dc=kc;break;case or:_0x53e3dc=Lc;break;case Zr:_0x53e3dc=Ea;break;case ba:_0x53e3dc=Bc;break;case Lo:_0x53e3dc=Nc;break;case Wt:_0x53e3dc=Fc;break;case Qr:_0x53e3dc=Ca;break;case wa:_0x53e3dc=zc;break;case Fo:_0x53e3dc=Uc;break;case xa:_0x53e3dc=lp;break;case Jr:_0x53e3dc=Ih;break;case Ta:_0x53e3dc=hp;break;case Oo:_0x53e3dc=cp;break;}this['dataType']=_0x53e3dc,this['value']=[null,null,null,null],this['array']=[];}}let Pm=-0x1*-0x1c31+-0xab6*0x1+0x19*-0xb3;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x5c4cbf){this['map']['forEach'](_0x16af24=>{_0x5c4cbf['gl']['deleteShad'+'er'](_0x16af24);});}['loseContex'+'t'](_0x1ac471){this['map']['clear']();}}const ab=new Ot(),ob=new Ot();class lb{constructor(_0x63c836){c(this,'compileDur'+'ation',0x12db+-0x1*-0xba2+0x1e7d*-0x1),(this['init'](),this['compile'](_0x63c836['device'],_0x63c836),this['link'](_0x63c836['device'],_0x63c836),_0x63c836['device']['shaders']['push'](_0x63c836));}['destroy'](_0x13a057){this['glProgram']&&(_0x13a057['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x4f5cbf,_0x57e2cc){this['compile'](_0x4f5cbf,_0x57e2cc),this['link'](_0x4f5cbf,_0x57e2cc);}['compile'](_0x38e55a,_0x4e5bdc){const _0x2b5193=_0x4e5bdc['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x38e55a,_0x2b5193['vshader'],!(0x225+0x9*-0x2a5+0x15a8)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x38e55a,_0x2b5193['fshader'],!(-0x1ab9*-0x1+0x1e53+-0x390b));}['link'](_0x239739,_0x3632f6){if(this['glProgram'])return;const _0x17f629=_0x239739['gl'];if(_0x17f629['isContextL'+'ost']())return;let _0x31e40d=0x1cb2+0x242e+-0x18*0x2b4;v['call'](()=>{this['compileDur'+'ation']=0x14ab+-0x179f+0x2f4,_0x31e40d=ne();});const _0x146fed=_0x17f629['createProg'+'ram']();this['glProgram']=_0x146fed,_0x17f629['attachShad'+'er'](_0x146fed,this['glVertexSh'+'ader']),_0x17f629['attachShad'+'er'](_0x146fed,this['glFragment'+'Shader']);const _0x224fe5=_0x3632f6['definition'],_0x309ec0=_0x224fe5['attributes'];if(_0x224fe5['useTransfo'+'rmFeedback']){const _0x38c1cb=[];for(const _0x38bd59 in _0x309ec0)_0x309ec0['hasOwnProp'+'erty'](_0x38bd59)&&_0x38c1cb['push']('out_'+_0x38bd59);_0x17f629['transformF'+'eedbackVar'+'yings'](_0x146fed,_0x38c1cb,_0x17f629['INTERLEAVE'+'D_ATTRIBS']);}const _0x1cf259={};for(const _0x26cdef in _0x309ec0)if(_0x309ec0['hasOwnProp'+'erty'](_0x26cdef)){const _0x13d4ca=_0x309ec0[_0x26cdef],_0x133083=ve[_0x13d4ca];v['assert'](!_0x1cf259['hasOwnProp'+'erty'](_0x133083),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x1cf259[_0x133083]+'\x20and\x20'+_0x26cdef),_0x1cf259[_0x133083]=_0x26cdef,_0x17f629['bindAttrib'+'Location'](_0x146fed,_0x133083,_0x26cdef);}_0x17f629['linkProgra'+'m'](_0x146fed),v['call'](()=>{this['compileDur'+'ation']=ne()-_0x31e40d;}),_0x239739['_shaderSta'+'ts']['linked']++,_0x224fe5['tag']===Ly&&_0x239739['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x3c2e5a,_0x4e0814,_0x227870){const _0x3d108e=_0x3c2e5a['gl'];if(_0x3d108e['isContextL'+'ost']())return null;const _0x1a7471=(_0x227870?ab:ob)['get'](_0x3c2e5a,()=>new nb());let _0x516d14=_0x1a7471['map']['get'](_0x4e0814);if(!_0x516d14){const _0x4be575=ne();_0x3c2e5a['fire']('shader:com'+'pile:start',{'timestamp':_0x4be575,'target':_0x3c2e5a}),_0x516d14=_0x3d108e['createShad'+'er'](_0x227870?_0x3d108e['VERTEX_SHA'+'DER']:_0x3d108e['FRAGMENT_S'+'HADER']),_0x3d108e['shaderSour'+'ce'](_0x516d14,_0x4e0814),_0x3d108e['compileSha'+'der'](_0x516d14),_0x1a7471['map']['set'](_0x4e0814,_0x516d14);const _0x4d61c0=ne();_0x3c2e5a['fire']('shader:com'+'pile:end',{'timestamp':_0x4d61c0,'target':_0x3c2e5a}),_0x3c2e5a['_shaderSta'+'ts']['compileTim'+'e']+=_0x4d61c0-_0x4be575,_0x227870?_0x3c2e5a['_shaderSta'+'ts']['vsCompiled']++:_0x3c2e5a['_shaderSta'+'ts']['fsCompiled']++;}return _0x516d14;}['finalize'](_0x21a3ea,_0x2ef25e){var _0xc27620,_0x578ef0;const _0x20237b=_0x21a3ea['gl'];if(_0x20237b['isContextL'+'ost']())return!(0x1e2f*0x1+-0x4f*0x5e+-0x7*0x2b);const _0x398fe6=this['glProgram'],_0x548942=_0x2ef25e['definition'],_0x474a34=ne();_0x21a3ea['fire']('shader:lin'+'k:start',{'timestamp':_0x474a34,'target':_0x21a3ea});let _0x4791e9=-0x1*0x9cd+0x172b+-0xd5e;if(v['call'](()=>{_0x4791e9=ne();}),!_0x20237b['getProgram'+'Parameter'](_0x398fe6,_0x20237b['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x21a3ea,_0x2ef25e,this['glVertexSh'+'ader'],_0x548942['vshader'],'vertex')||!this['_isCompile'+'d'](_0x21a3ea,_0x2ef25e,this['glFragment'+'Shader'],_0x548942['fshader'],'fragment'))return!(-0xc*0x1a9+0x18fe+-0x511);const _0x535b8b='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x20237b['getProgram'+'InfoLog'](_0x398fe6);return _0x548942['translated'+'Frag']=(_0xc27620=_0x20237b['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x25fa+0x1713+-0x3d0d):_0xc27620['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x548942['translated'+'Vert']=(_0x578ef0=_0x20237b['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x4c0*0x4+0x23fd+0x1*-0x10fd):_0x578ef0['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x535b8b,_0x548942),console['error'](_0x535b8b),!(0x1*0x10f7+0x2b+0x5*-0x36d);}const _0x630315=_0x20237b['getProgram'+'Parameter'](_0x398fe6,_0x20237b['ACTIVE_ATT'+'RIBUTES']);for(let _0x290ea4=-0x5a6+-0xd8e+0x1334;_0x290ea4<_0x630315;_0x290ea4++){const _0x3bf04b=_0x20237b['getActiveA'+'ttrib'](_0x398fe6,_0x290ea4),_0x472c71=_0x20237b['getAttribL'+'ocation'](_0x398fe6,_0x3bf04b['name']);if(!rb['has'](_0x3bf04b['name'])){if(_0x548942['attributes'][_0x3bf04b['name']]===void(-0xcd8+-0x5*-0x5c7+-0x100b))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x3bf04b['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x2ef25e['label']+']',_0x2ef25e),_0x2ef25e['failed']=!(-0x1*-0x1bce+-0x18cc+0x1*-0x302);else{const _0x6b756b=new Mm(_0x21a3ea,_0x548942['attributes'][_0x3bf04b['name']],_0x21a3ea['pcUniformT'+'ype'][_0x3bf04b['type']],_0x472c71);this['attributes']['push'](_0x6b756b);}}}const _0x1ed881=_0x21a3ea['_samplerTy'+'pes'],_0x43059b=_0x20237b['getProgram'+'Parameter'](_0x398fe6,_0x20237b['ACTIVE_UNI'+'FORMS']);for(let _0x50bf6b=-0x17d*0x19+-0xb*0xf2+0x2f9b;_0x50bf6b<_0x43059b;_0x50bf6b++){const _0x326ad5=_0x20237b['getActiveU'+'niform'](_0x398fe6,_0x50bf6b),_0x2c301e=_0x20237b['getUniform'+'Location'](_0x398fe6,_0x326ad5['name']),_0x417a09=new Mm(_0x21a3ea,_0x326ad5['name'],_0x21a3ea['pcUniformT'+'ype'][_0x326ad5['type']],_0x2c301e);_0x1ed881['has'](_0x326ad5['type'])?this['samplers']['push'](_0x417a09):this['uniforms']['push'](_0x417a09);}_0x2ef25e['ready']=!(0xbdd*0x1+-0xd4*0x6+-0x6e5);const _0xfb13af=ne();return _0x21a3ea['fire']('shader:lin'+'k:end',{'timestamp':_0xfb13af,'target':_0x21a3ea}),_0x21a3ea['_shaderSta'+'ts']['compileTim'+'e']+=_0xfb13af-_0x474a34,v['call'](()=>{const _0xb92ffe=ne()-_0x4791e9;this['compileDur'+'ation']+=_0xb92ffe,Pm+=this['compileDur'+'ation'],v['trace'](Yx,'[id:\x20'+_0x2ef25e['id']+']\x20'+_0x2ef25e['name']+':\x20'+this['compileDur'+'ation']['toFixed'](0x1d21*-0x1+-0x1d49+-0x5*-0xbaf)+('ms,\x20TOTAL:'+'\x20')+Pm['toFixed'](-0x2147+0x3d*0x22+0x192e)+'ms');}),!(-0x8f3+0x196a+-0x1077);}['_isCompile'+'d'](_0xa5ffa8,_0x3f6933,_0x166d87,_0x4ab28a,_0x133bf3){const _0xf833ef=_0xa5ffa8['gl'];if(!_0xf833ef['getShaderP'+'arameter'](_0x166d87,_0xf833ef['COMPILE_ST'+'ATUS'])){const _0x3a6f96=_0xf833ef['getShaderI'+'nfoLog'](_0x166d87),[_0x4c5902,_0xf2019c]=this['_processEr'+'ror'](_0x4ab28a,_0x3a6f96),_0xfa573d='Failed\x20to\x20'+'compile\x20'+_0x133bf3+'\x20shader:\x0a\x0a'+_0x3a6f96+'\x0a'+_0x4c5902+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0xf2019c['shader']=_0x3f6933,console['error'](_0xfa573d,_0xf2019c),console['error'](_0xfa573d),!(0x13*-0x15b+0xa28+0x7cd*0x2);}return!(0x1f5b+0xcb9*0x1+-0x2c14);}['isLinked'](_0x4a85db){const {extParallelShaderCompile:_0xbda1c6}=_0x4a85db;return _0xbda1c6?_0x4a85db['gl']['getProgram'+'Parameter'](this['glProgram'],_0xbda1c6['COMPLETION'+'_STATUS_KH'+'R']):!(0x1*-0x1bc5+-0xa81*-0x1+0x1144);}['_processEr'+'ror'](_0x4643d6,_0xd1c04){const _0x1d5bf7={};let _0x1223f9='';if(_0x4643d6){const _0x40adec=_0x4643d6['split']('\x0a');let _0x1c1c92=-0x14ee+0x20*0xa3+0x8e,_0x2ee8f0=_0x40adec['length'];if(_0xd1c04&&_0xd1c04['startsWith']('ERROR:')){const _0x191458=_0xd1c04['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x191458&&(_0x1d5bf7['message']=_0x191458[-0x1d2f+0x1eff+-0x1cd],_0x1d5bf7['line']=parseInt(_0x191458[-0x7*-0x35e+-0x6fd*-0x5+-0x3a81],0x14c3+0x535+-0x19ee*0x1),_0x1c1c92=Math['max'](0x2370+0x2a3+0x201*-0x13,_0x1d5bf7['line']-(0x1666+0x37*0xb5+-0x3d43)),_0x2ee8f0=Math['min'](_0x40adec['length'],_0x1d5bf7['line']+(0x205a*0x1+0x13eb+-0x3440)));}for(let _0x17bc6d=_0x1c1c92;_0x17bc6d<_0x2ee8f0;_0x17bc6d++)_0x1223f9+=_0x17bc6d+(-0x175a+0x3*0x1b3+0x1242*0x1)+':\x09'+_0x40adec[_0x17bc6d]+'\x0a';_0x1d5bf7['source']=_0x4643d6;}return[_0x1223f9,_0x1d5bf7];}}function Rm(_0x207317,_0x4e7b73){const _0x2ae168=_0x207317['width'],_0x3cb10a=_0x207317['height'];if(_0x2ae168>_0x4e7b73||_0x3cb10a>_0x4e7b73){const _0x2ddd75=_0x4e7b73/Math['max'](_0x2ae168,_0x3cb10a),_0x13a273=Math['floor'](_0x2ae168*_0x2ddd75),_0x59cb69=Math['floor'](_0x3cb10a*_0x2ddd75);v['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x4e7b73+('.\x20Resizing'+'\x20from\x20')+_0x2ae168+',\x20'+_0x3cb10a+'\x20to\x20'+_0x13a273+',\x20'+_0x59cb69+'.');const _0x561a11=document['createElem'+'ent']('canvas');return _0x561a11['width']=_0x13a273,_0x561a11['height']=_0x59cb69,_0x561a11['getContext']('2d')['drawImage'](_0x207317,0x1544+-0x58d*-0x4+-0x2b78,0x21ca+0x1*-0x171e+-0xaac,_0x2ae168,_0x3cb10a,0x24aa+0x5*0x225+0x7*-0x6c5,0x1ae+-0xa44+0x896,_0x13a273,_0x59cb69),_0x561a11;}return _0x207317;}class hb{constructor(_0x1f7855){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',0x10*0xe3+-0x519+-0x917),this['texture']=_0x1f7855;}['destroy'](_0x38bedb){if(this['_glTexture']){for(let _0xdcbf25=-0x1ff*-0x2+-0xd34+0x83*0x12;_0xdcbf25<_0x38bedb['textureUni'+'ts']['length'];_0xdcbf25++){const _0x5bcaa8=_0x38bedb['textureUni'+'ts'][_0xdcbf25];for(let _0x17b56a=-0x3aa+-0x172a+0xca*0x22;_0x17b56a<_0x5bcaa8['length'];_0x17b56a++)_0x5bcaa8[_0x17b56a]===this['_glTexture']&&(_0x5bcaa8[_0x17b56a]=null);}_0x38bedb['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x42c2cf){this['dirtyParam'+'eterFlags']|=_0x42c2cf;}['initialize'](_0x154c00,_0x3cf61a){const _0x3759e0=_0x154c00['gl'];switch(this['_glTexture']=_0x3759e0['createText'+'ure'](),this['_glTarget']=_0x3cf61a['_cubemap']?_0x3759e0['TEXTURE_CU'+'BE_MAP']:_0x3cf61a['_volume']?_0x3759e0['TEXTURE_3D']:_0x3cf61a['array']?_0x3759e0['TEXTURE_2D'+'_ARRAY']:_0x3759e0['TEXTURE_2D'],_0x3cf61a['_format']){case fy:this['_glFormat']=_0x3759e0['ALPHA'],this['_glInterna'+'lFormat']=_0x3759e0['ALPHA'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_B'+'YTE'];break;case py:this['_glFormat']=_0x3759e0['LUMINANCE'],this['_glInterna'+'lFormat']=_0x3759e0['LUMINANCE'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_B'+'YTE'];break;case Bf:this['_glFormat']=_0x3759e0['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x3759e0['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_B'+'YTE'];break;case sp:this['_glFormat']=_0x3759e0['RED'],this['_glInterna'+'lFormat']=_0x3759e0['R8'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x3759e0['RG'],this['_glInterna'+'lFormat']=_0x3759e0['RG8'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_B'+'YTE'];break;case _c:this['_glFormat']=_0x3759e0['RGB'],this['_glInterna'+'lFormat']=_0x3759e0['RGB'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_S'+'HORT_5_6_5'];break;case Nf:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x3759e0['RGBA'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case gc:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x3759e0['RGBA'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case dr:this['_glFormat']=_0x3759e0['RGB'],this['_glInterna'+'lFormat']=_0x3759e0['RGB8'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_B'+'YTE'];break;case Se:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x3759e0['RGBA8'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_B'+'YTE'];break;case yy:case by:v['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case yc:this['_glFormat']=_0x3759e0['RGB'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case zf:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case Wo:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case bc:this['_glFormat']=_0x3759e0['RGB'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case qo:this['_glFormat']=_0x3759e0['RGB'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Xo:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case wc:this['_glFormat']=_0x3759e0['RGB'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Tc:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case Vf:this['_glFormat']=_0x3759e0['RGB'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case Gf:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case my:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case _y:this['_glFormat']=_0x3759e0['RGB'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case gy:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case wy:this['_glFormat']=_0x3759e0['RGB'],this['_glInterna'+'lFormat']=_0x154c00['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ty:this['_glFormat']=_0x3759e0['RGB'],this['_glInterna'+'lFormat']=_0x154c00['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ay:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x154c00['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case mu:this['_glFormat']=_0x3759e0['SRGB'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case _u:this['_glFormat']=_0x3759e0['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case gu:this['_glFormat']=_0x3759e0['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case yu:this['_glFormat']=_0x3759e0['SRGB'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case xu:this['_glFormat']=_0x3759e0['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Su:this['_glFormat']=_0x3759e0['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x154c00['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case vu:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x154c00['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case Ec:this['_glFormat']=_0x3759e0['RED'],this['_glInterna'+'lFormat']=_0x3759e0['R16F'],this['_glPixelTy'+'pe']=_0x3759e0['HALF_FLOAT'];break;case tp:this['_glFormat']=_0x3759e0['RG'],this['_glInterna'+'lFormat']=_0x3759e0['RG16F'],this['_glPixelTy'+'pe']=_0x3759e0['HALF_FLOAT'];break;case xc:this['_glFormat']=_0x3759e0['RGB'],this['_glInterna'+'lFormat']=_0x3759e0['RGB16F'],this['_glPixelTy'+'pe']=_0x3759e0['HALF_FLOAT'];break;case Je:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x3759e0['RGBA16F'],this['_glPixelTy'+'pe']=_0x3759e0['HALF_FLOAT'];break;case Sc:this['_glFormat']=_0x3759e0['RGB'],this['_glInterna'+'lFormat']=_0x3759e0['RGB32F'],this['_glPixelTy'+'pe']=_0x3759e0['FLOAT'];break;case Ke:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x3759e0['RGBA32F'],this['_glPixelTy'+'pe']=_0x3759e0['FLOAT'];break;case Ii:this['_glFormat']=_0x3759e0['RED'],this['_glInterna'+'lFormat']=_0x3759e0['R32F'],this['_glPixelTy'+'pe']=_0x3759e0['FLOAT'];break;case Ci:this['_glFormat']=_0x3759e0['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x3759e0['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x3759e0['FLOAT'];break;case la:this['_glFormat']=_0x3759e0['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x3759e0['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_S'+'HORT'];break;case vc:this['_glFormat']=_0x3759e0['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x3759e0['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_I'+'NT_24_8'];break;case _a:this['_glFormat']=_0x3759e0['RGB'],this['_glInterna'+'lFormat']=_0x3759e0['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Uf:this['_glFormat']=_0x3759e0['RGB'],this['_glInterna'+'lFormat']=_0x3759e0['SRGB8'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_B'+'YTE'];break;case rs:this['_glFormat']=_0x3759e0['RGBA'],this['_glInterna'+'lFormat']=_0x3759e0['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_B'+'YTE'];break;case Hf:this['_glFormat']=_0x3759e0['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3759e0['R8I'],this['_glPixelTy'+'pe']=_0x3759e0['BYTE'];break;case xy:this['_glFormat']=_0x3759e0['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3759e0['R8UI'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_B'+'YTE'];break;case $f:this['_glFormat']=_0x3759e0['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3759e0['R16I'],this['_glPixelTy'+'pe']=_0x3759e0['SHORT'];break;case Wf:this['_glFormat']=_0x3759e0['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3759e0['R16UI'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_S'+'HORT'];break;case qf:this['_glFormat']=_0x3759e0['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3759e0['R32I'],this['_glPixelTy'+'pe']=_0x3759e0['INT'];break;case an:this['_glFormat']=_0x3759e0['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3759e0['R32UI'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_I'+'NT'];break;case Xf:this['_glFormat']=_0x3759e0['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3759e0['RG8I'],this['_glPixelTy'+'pe']=_0x3759e0['BYTE'];break;case Sy:this['_glFormat']=_0x3759e0['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3759e0['RG8UI'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0x3759e0['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3759e0['RG16I'],this['_glPixelTy'+'pe']=_0x3759e0['SHORT'];break;case Yf:this['_glFormat']=_0x3759e0['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3759e0['RG16UI'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0x3759e0['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3759e0['RG32I'],this['_glPixelTy'+'pe']=_0x3759e0['INT'];break;case Zf:this['_glFormat']=_0x3759e0['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3759e0['RG32UI'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_I'+'NT'];break;case Qf:this['_glFormat']=_0x3759e0['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3759e0['RGBA8I'],this['_glPixelTy'+'pe']=_0x3759e0['BYTE'];break;case vy:this['_glFormat']=_0x3759e0['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3759e0['RGBA8UI'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_B'+'YTE'];break;case Jf:this['_glFormat']=_0x3759e0['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3759e0['RGBA16I'],this['_glPixelTy'+'pe']=_0x3759e0['SHORT'];break;case Ac:this['_glFormat']=_0x3759e0['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3759e0['RGBA16UI'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0x3759e0['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3759e0['RGBA32I'],this['_glPixelTy'+'pe']=_0x3759e0['INT'];break;case ut:this['_glFormat']=_0x3759e0['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3759e0['RGBA32UI'],this['_glPixelTy'+'pe']=_0x3759e0['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0x2409+0x1*0x1709+0x1*0xd01);}['upload'](_0x583b34,_0x3ab551){v['assert'](_0x3ab551['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x3ab551);const _0x41de0c=_0x583b34['gl'];if(!_0x3ab551['_needsUplo'+'ad']&&(_0x3ab551['_needsMipm'+'apsUpload']&&_0x3ab551['_mipmapsUp'+'loaded']||!_0x3ab551['pot']))return;let _0x4338ee=-0x733+-0x1e63+0x11*0x236,_0xe89bc0,_0x5c16b2;const _0xa42e2b=_0x3ab551['numLevels'];for(_0x3ab551['array']&&_0x41de0c['texStorage'+'3D'](_0x41de0c['TEXTURE_2D'+'_ARRAY'],_0xa42e2b,this['_glInterna'+'lFormat'],_0x3ab551['_width'],_0x3ab551['_height'],_0x3ab551['_arrayLeng'+'th']);_0x3ab551['_levels'][_0x4338ee]||_0x4338ee===0x1ed2+0x10d5+-0xb*0x455;){if(!_0x3ab551['_needsUplo'+'ad']&&_0x4338ee===-0x20e9+-0x33e*-0x2+0x5*0x549){_0x4338ee++;continue;}else{if(_0x4338ee&&(!_0x3ab551['_needsMipm'+'apsUpload']||!_0x3ab551['_mipmaps']))break;}if(_0xe89bc0=_0x3ab551['_levels'][_0x4338ee],_0x5c16b2=(-0x26c4+-0x755+0x1*0x2e1a)/Math['pow'](0x1*0x209a+-0x4*-0x472+-0x3260,_0x4338ee),_0x4338ee===-0x169+-0xa7b*-0x2+-0x138c&&!_0x3ab551['_compresse'+'d']&&!_0x3ab551['_integerFo'+'rmat']&&_0x3ab551['_levels']['length']<_0xa42e2b&&(_0x41de0c['generateMi'+'pmap'](this['_glTarget']),_0x3ab551['_mipmapsUp'+'loaded']=!(-0xdec+0x2f*-0xb3+-0x1d*-0x19d)),_0x3ab551['_cubemap']){let _0x5496f4;if(_0x583b34['_isBrowser'+'Interface'](_0xe89bc0[0x1*0x1abf+-0x202f+-0x3*-0x1d0]))for(_0x5496f4=-0x1e7c+0xf48+0xf34;_0x5496f4<0xd*0x2ce+-0x1de6*-0x1+-0x97a*0x7;_0x5496f4++){if(!_0x3ab551['_levelsUpd'+'ated'][-0xd*-0x2ef+0x13a9*0x1+-0x39cc][_0x5496f4])continue;let _0x12418d=_0xe89bc0[_0x5496f4];_0x583b34['_isImageBr'+'owserInter'+'face'](_0x12418d)&&(_0x12418d['width']>_0x583b34['maxCubeMap'+'Size']||_0x12418d['height']>_0x583b34['maxCubeMap'+'Size'])&&(_0x12418d=Rm(_0x12418d,_0x583b34['maxCubeMap'+'Size']),_0x4338ee===0x1*-0x156b+0x22c+-0xd*-0x17b&&(_0x3ab551['_width']=_0x12418d['width'],_0x3ab551['_height']=_0x12418d['height'])),_0x583b34['setUnpackF'+'lipY'](!(0x19*0xff+0x2ea*0xa+0x1b05*-0x2)),_0x583b34['setUnpackP'+'remultiply'+'Alpha'](_0x3ab551['_premultip'+'lyAlpha']),this['_glCreated']?_0x41de0c['texSubImag'+'e2D'](_0x41de0c['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5496f4,_0x4338ee,0xfab+0x1edf+-0xe*0x353,-0x1*0x90e+-0x10a6+0xcda*0x2,this['_glFormat'],this['_glPixelTy'+'pe'],_0x12418d):_0x41de0c['texImage2D'](_0x41de0c['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5496f4,_0x4338ee,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x12418d);}else for(_0x5c16b2=(0x886+-0xa*0x127+0x1*0x301)/Math['pow'](0x1*-0xd55+-0x1a12+-0xd23*-0x3,_0x4338ee),_0x5496f4=0x2*-0x3aa+0x1b8e*0x1+-0x143a;_0x5496f4<0x5c*-0x1+-0xc2*-0x17+-0x110c;_0x5496f4++){if(!_0x3ab551['_levelsUpd'+'ated'][-0x1*0x1cd7+0x1a3b+0x29c][_0x5496f4])continue;const _0x5112a3=_0xe89bc0[_0x5496f4];_0x3ab551['_compresse'+'d']?this['_glCreated']&&_0x5112a3?_0x41de0c['compressed'+'TexSubImag'+'e2D'](_0x41de0c['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5496f4,_0x4338ee,-0x6b8+0x13cf+-0xd17*0x1,-0x1ce6*-0x1+-0x22b9+0x5d3,Math['max'](_0x3ab551['_width']*_0x5c16b2,0x2196+0x6*0x52+-0x2381),Math['max'](_0x3ab551['_height']*_0x5c16b2,0x15c+0x1aa7+-0x1c02),this['_glInterna'+'lFormat'],_0x5112a3):_0x41de0c['compressed'+'TexImage2D'](_0x41de0c['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5496f4,_0x4338ee,this['_glInterna'+'lFormat'],Math['max'](_0x3ab551['_width']*_0x5c16b2,0x1221*-0x1+-0x10*0xa7+-0x8a*-0x35),Math['max'](_0x3ab551['_height']*_0x5c16b2,-0x102e*-0x1+0x5f1+-0x161e),-0x50b+-0x33+0x53e,_0x5112a3):(_0x583b34['setUnpackF'+'lipY'](!(0x11*-0xa8+0x13df+-0x8b6*0x1)),_0x583b34['setUnpackP'+'remultiply'+'Alpha'](_0x3ab551['_premultip'+'lyAlpha']),this['_glCreated']&&_0x5112a3?_0x41de0c['texSubImag'+'e2D'](_0x41de0c['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5496f4,_0x4338ee,0x202a+-0x4*-0x14b+-0x2556,0x1*-0x457+0x1d*-0x61+0xf54,Math['max'](_0x3ab551['_width']*_0x5c16b2,0x23a5+-0x39*-0x89+-0x4225),Math['max'](_0x3ab551['_height']*_0x5c16b2,-0xa0c*-0x1+0x1*-0x5ed+-0x41e),this['_glFormat'],this['_glPixelTy'+'pe'],_0x5112a3):_0x41de0c['texImage2D'](_0x41de0c['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5496f4,_0x4338ee,this['_glInterna'+'lFormat'],Math['max'](_0x3ab551['_width']*_0x5c16b2,-0x1*0x12dd+-0xf59+-0x1*-0x2237),Math['max'](_0x3ab551['_height']*_0x5c16b2,0x1ad1*-0x1+-0x254e+-0xc*-0x558),0x8d3+-0x14*0xd9+0x821,this['_glFormat'],this['_glPixelTy'+'pe'],_0x5112a3));}}else{if(_0x3ab551['_volume'])_0x3ab551['_compresse'+'d']?_0x41de0c['compressed'+'TexImage3D'](_0x41de0c['TEXTURE_3D'],_0x4338ee,this['_glInterna'+'lFormat'],Math['max'](_0x3ab551['_width']*_0x5c16b2,0x1a02+-0x253c+-0x1*-0xb3b),Math['max'](_0x3ab551['_height']*_0x5c16b2,-0x487+0xe*0x2ba+-0x10d2*0x2),Math['max'](_0x3ab551['_depth']*_0x5c16b2,0xb76+-0x45*0x2f+0x136),0x26bc+0x1074+0x373*-0x10,_0xe89bc0):(_0x583b34['setUnpackF'+'lipY'](!(-0x2331+-0x1*0x18f4+-0x1*-0x3c26)),_0x583b34['setUnpackP'+'remultiply'+'Alpha'](_0x3ab551['_premultip'+'lyAlpha']),_0x41de0c['texImage3D'](_0x41de0c['TEXTURE_3D'],_0x4338ee,this['_glInterna'+'lFormat'],Math['max'](_0x3ab551['_width']*_0x5c16b2,0x2121+-0xa3*-0x2f+-0x3f0d),Math['max'](_0x3ab551['_height']*_0x5c16b2,-0x1*0x1d75+0x2cf*0x7+0x9cd),Math['max'](_0x3ab551['_depth']*_0x5c16b2,-0x42*0x35+0x167*0x19+-0x1564),0x1*0x16f+-0x22f*-0x5+-0xc5a,this['_glFormat'],this['_glPixelTy'+'pe'],_0xe89bc0));else{if(_0x3ab551['array']&&typeof _0xe89bc0=='object'){if(_0x3ab551['_arrayLeng'+'th']===_0xe89bc0['length']){if(_0x3ab551['_compresse'+'d']){for(let _0x52d64d=-0x373*0x5+-0x18*0x18b+0x3647;_0x52d64d<_0x3ab551['_arrayLeng'+'th'];_0x52d64d++)_0x41de0c['compressed'+'TexSubImag'+'e3D'](_0x41de0c['TEXTURE_2D'+'_ARRAY'],_0x4338ee,0x979*-0x1+0x9f3+0x1*-0x7a,-0x5a1+-0x1*-0x1b8d+0x2e*-0x7a,_0x52d64d,Math['max'](Math['floor'](_0x3ab551['_width']*_0x5c16b2),-0x7*-0x1e8+0x12ea*0x1+0x17*-0x167),Math['max'](Math['floor'](_0x3ab551['_height']*_0x5c16b2),-0x6*0x5ad+-0x174a*0x1+-0x35*-0x115),0x154*0x1+-0x1b2f+0x19dc,this['_glInterna'+'lFormat'],_0xe89bc0[_0x52d64d]);}else{for(let _0x54d31e=-0x1464+-0x25ff+0x3a63;_0x54d31e<_0x3ab551['_arrayLeng'+'th'];_0x54d31e++)_0x41de0c['texSubImag'+'e3D'](_0x41de0c['TEXTURE_2D'+'_ARRAY'],_0x4338ee,-0x439+-0x23d8+-0x1*-0x2811,-0x9f+-0x157d*-0x1+-0x1*0x14de,_0x54d31e,Math['max'](Math['floor'](_0x3ab551['_width']*_0x5c16b2),0xe5*-0x9+0x9*-0x355+-0x1*-0x260b),Math['max'](Math['floor'](_0x3ab551['_height']*_0x5c16b2),-0x4*0x940+0x1a00+0xb01),0x1*-0x536+0xe81*-0x1+0x13b8,this['_glFormat'],this['_glPixelTy'+'pe'],_0xe89bc0[_0x54d31e]);}}}else{if(_0x583b34['_isBrowser'+'Interface'](_0xe89bc0)){_0x583b34['_isImageBr'+'owserInter'+'face'](_0xe89bc0)&&(_0xe89bc0['width']>_0x583b34['maxTexture'+'Size']||_0xe89bc0['height']>_0x583b34['maxTexture'+'Size'])&&(_0xe89bc0=Rm(_0xe89bc0,_0x583b34['maxTexture'+'Size']),_0x4338ee===0x26d*-0x4+0x195c+-0xfa8&&(_0x3ab551['_width']=_0xe89bc0['width'],_0x3ab551['_height']=_0xe89bc0['height']));const _0x501a00=_0xe89bc0['width']||_0xe89bc0['videoWidth'],_0x168201=_0xe89bc0['height']||_0xe89bc0['videoHeigh'+'t'];_0x583b34['setUnpackF'+'lipY'](_0x3ab551['_flipY']),_0x583b34['setUnpackP'+'remultiply'+'Alpha'](_0x3ab551['_premultip'+'lyAlpha']),this['_glCreated']&&_0x3ab551['_width']===_0x501a00&&_0x3ab551['_height']===_0x168201&&!_0x583b34['_isImageVi'+'deoInterfa'+'ce'](_0xe89bc0)?_0x41de0c['texSubImag'+'e2D'](_0x41de0c['TEXTURE_2D'],_0x4338ee,-0x268f+-0x1*-0x8ba+-0x1dd5*-0x1,-0x14e5+-0xb21+0x2006,this['_glFormat'],this['_glPixelTy'+'pe'],_0xe89bc0):(_0x41de0c['texImage2D'](_0x41de0c['TEXTURE_2D'],_0x4338ee,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0xe89bc0),_0x4338ee===-0x4*0x130+-0x35*-0x86+0xb7f*-0x2&&(_0x3ab551['_width']=_0x501a00,_0x3ab551['_height']=_0x168201));}else _0x5c16b2=(0x1*-0x10db+0x5*0x38b+0x49*-0x3)/Math['pow'](0x68*-0x33+-0x238f+0x3849*0x1,_0x4338ee),_0x3ab551['_compresse'+'d']?this['_glCreated']&&_0xe89bc0?_0x41de0c['compressed'+'TexSubImag'+'e2D'](_0x41de0c['TEXTURE_2D'],_0x4338ee,-0x3b*0x94+-0x1*0x2275+0x4491,0x934*-0x4+0x1cd6+-0x3fd*-0x2,Math['max'](Math['floor'](_0x3ab551['_width']*_0x5c16b2),0x3*0x201+0x1*-0x209f+0x1a9d),Math['max'](Math['floor'](_0x3ab551['_height']*_0x5c16b2),0x1*0x57+-0x54*-0x9+-0x34a*0x1),this['_glInterna'+'lFormat'],_0xe89bc0):_0x41de0c['compressed'+'TexImage2D'](_0x41de0c['TEXTURE_2D'],_0x4338ee,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x3ab551['_width']*_0x5c16b2),0x1*0x1f4c+0x5*-0xbc+-0x1b9f),Math['max'](Math['floor'](_0x3ab551['_height']*_0x5c16b2),-0x1*0x1b2f+0x1*0x9cb+0x1165),-0xd1*0x9+0x14d+0x2b*0x24,_0xe89bc0):(_0x583b34['setUnpackF'+'lipY'](!(0xdf1*0x1+-0x99c*-0x1+0xbc6*-0x2)),_0x583b34['setUnpackP'+'remultiply'+'Alpha'](_0x3ab551['_premultip'+'lyAlpha']),this['_glCreated']&&_0xe89bc0?_0x41de0c['texSubImag'+'e2D'](_0x41de0c['TEXTURE_2D'],_0x4338ee,0x1*0x8fe+-0x67*-0x26+-0x1848,0x801+-0x870+0x6f,Math['max'](_0x3ab551['_width']*_0x5c16b2,-0x45e+-0x41b+-0x5*-0x1b2),Math['max'](_0x3ab551['_height']*_0x5c16b2,-0x499*-0x6+0x18ae+-0x3443),this['_glFormat'],this['_glPixelTy'+'pe'],_0xe89bc0):_0x41de0c['texImage2D'](_0x41de0c['TEXTURE_2D'],_0x4338ee,this['_glInterna'+'lFormat'],Math['max'](_0x3ab551['_width']*_0x5c16b2,-0x18*-0x2+0xb70+-0xb9f),Math['max'](_0x3ab551['_height']*_0x5c16b2,-0x2055+-0x1ca+-0x38*-0x9c),0x45d*-0x5+-0x2*0x67d+0x22cb,this['_glFormat'],this['_glPixelTy'+'pe'],_0xe89bc0));_0x4338ee===-0x3a*-0x11+-0x133f*0x2+0xb8c*0x3?_0x3ab551['_mipmapsUp'+'loaded']=!(0x2*-0x1ac+-0x2431+0x278a*0x1):_0x3ab551['_mipmapsUp'+'loaded']=!(-0x1b22+0x11da+0x948);}}}_0x4338ee++;}if(_0x3ab551['_needsUplo'+'ad']){if(_0x3ab551['_cubemap']){for(let _0x376b3f=0x1fed+0x1727+-0x3714;_0x376b3f<0x1*-0x1e5d+-0x119+0x1f7c;_0x376b3f++)_0x3ab551['_levelsUpd'+'ated'][-0xf81+-0x25bf+0x3540][_0x376b3f]=!(-0x26db*-0x1+0x14fc+-0x14d*0x2e);}else _0x3ab551['_levelsUpd'+'ated'][-0x1cf6+-0x6d2+0x479*0x8]=!(-0x117d+0x1*-0x1c49+0x2dc7);}!_0x3ab551['_compresse'+'d']&&!_0x3ab551['_integerFo'+'rmat']&&_0x3ab551['_mipmaps']&&_0x3ab551['_needsMipm'+'apsUpload']&&_0x3ab551['_levels']['length']===-0x2ef+-0x87*-0x35+-0x1903&&(_0x41de0c['generateMi'+'pmap'](this['_glTarget']),_0x3ab551['_mipmapsUp'+'loaded']=!(0x79f+-0x14f4+0xd55)),_0x3ab551['_gpuSize']&&_0x3ab551['adjustVram'+'SizeTracki'+'ng'](_0x583b34['_vram'],-_0x3ab551['_gpuSize']),_0x3ab551['_gpuSize']=_0x3ab551['gpuSize'],_0x3ab551['adjustVram'+'SizeTracki'+'ng'](_0x583b34['_vram'],_0x3ab551['_gpuSize']),this['_glCreated']=!(-0x205*0x3+-0x2*0xc2d+0x1e69);}['read'](_0x5b6d20,_0x5dc8e0,_0xf67c1e,_0x40d00f,_0x21de06){const _0x6d10aa=this['texture'];return _0x6d10aa['device']['readTextur'+'eAsync'](_0x6d10aa,_0x5b6d20,_0x5dc8e0,_0xf67c1e,_0x40d00f,_0x21de06);}}class cb{constructor(_0x3b19ea,_0x821499){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x3b19ea,this['resolveFB']=_0x821499);}['destroy'](_0x20e87a){this['msaaFB']&&(_0x20e87a['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x20e87a['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(-0x25ab*-0x1+-0x1*-0xe28+-0x33d2));}['destroy'](_0x542182){var _0x3baabe;const _0xaafca0=_0x542182['gl'];this['_isInitial'+'ized']=!(-0x2f*-0xc9+-0x605+-0x1ee1),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0xaafca0['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0xaafca0['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0xaafca0['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x452fe2=>{_0xaafca0['deleteRend'+'erbuffer'](_0x452fe2);}),this['_glMsaaCol'+'orBuffers']['length']=0x223b+0x1f89+-0x41c4,(_0x3baabe=this['colorMrtFr'+'amebuffers'])==null||_0x3baabe['forEach'](_0x2ea4ca=>{_0x2ea4ca['destroy'](_0xaafca0);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&od(_0x542182)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x4*-0x15a+0x2*-0x9d5+0x1912);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x513d88,_0x21fa2d){var _0x1c8379,_0x5b32e3;const _0x320df6=_0x513d88['gl'];v['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x10d*-0x5+0x8ff+-0xe40);const _0x26d746=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0xb*-0xef+0xd21*0x2+-0xffd))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{v['call'](()=>{(_0x21fa2d['width']<=0x1919+0x988+-0x24f*0xf||_0x21fa2d['height']<=-0x67*0x2+0x811*-0x1+-0x8df*-0x1)&&v['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x21fa2d['width']+'\x20x\x20'+_0x21fa2d['height'],_0x21fa2d);}),this['_glFrameBu'+'ffer']=_0x320df6['createFram'+'ebuffer'](),_0x513d88['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x359dff=((_0x1c8379=_0x21fa2d['_colorBuff'+'ers'])==null?void(-0x4*-0x972+-0x1*0x487+-0x2141):_0x1c8379['length'])??-0x159a+-0x1447*-0x1+0x153*0x1,_0x59c1b9=_0x320df6['COLOR_ATTA'+'CHMENT0'];for(let _0x3ca007=-0x1c1*0x4+-0x2197+0x289b;_0x3ca007<_0x359dff;++_0x3ca007){const _0x524107=_0x21fa2d['getColorBu'+'ffer'](_0x3ca007);_0x524107&&(_0x524107['impl']['_glTexture']||(_0x524107['_width']=Math['min'](_0x524107['width'],_0x513d88['maxRenderB'+'ufferSize']),_0x524107['_height']=Math['min'](_0x524107['height'],_0x513d88['maxRenderB'+'ufferSize']),_0x513d88['setTexture'](_0x524107,-0xaa5+-0x8*-0x227+0x33*-0x21)),_0x320df6['framebuffe'+'rTexture2D'](_0x320df6['FRAMEBUFFE'+'R'],_0x59c1b9+_0x3ca007,_0x524107['_cubemap']?_0x320df6['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x21fa2d['_face']:_0x320df6['TEXTURE_2D'],_0x524107['impl']['_glTexture'],_0x21fa2d['mipLevel']),_0x26d746['push'](_0x59c1b9+_0x3ca007));}_0x320df6['drawBuffer'+'s'](_0x26d746);const _0x4656a0=_0x21fa2d['_depthBuff'+'er'];if(_0x4656a0||_0x21fa2d['_depth']){const _0x3ab4fe=_0x21fa2d['_stencil']?_0x320df6['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x320df6['DEPTH_ATTA'+'CHMENT'];if(_0x4656a0)_0x4656a0['impl']['_glTexture']||(_0x4656a0['_width']=Math['min'](_0x4656a0['width'],_0x513d88['maxRenderB'+'ufferSize']),_0x4656a0['_height']=Math['min'](_0x4656a0['height'],_0x513d88['maxRenderB'+'ufferSize']),_0x513d88['setTexture'](_0x4656a0,0x1fc6+0x3e3*-0x1+-0x3b*0x79)),_0x320df6['framebuffe'+'rTexture2D'](_0x320df6['FRAMEBUFFE'+'R'],_0x3ab4fe,_0x4656a0['_cubemap']?_0x320df6['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x21fa2d['_face']:_0x320df6['TEXTURE_2D'],_0x21fa2d['_depthBuff'+'er']['impl']['_glTexture'],_0x21fa2d['mipLevel']);else{if(!(_0x21fa2d['_samples']>0x55a+0x4eb+-0x9*0x124)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x320df6['createRend'+'erbuffer']());const _0x26b6fd=_0x21fa2d['_stencil']?_0x320df6['DEPTH24_ST'+'ENCIL8']:_0x320df6['DEPTH_COMP'+'ONENT32F'];_0x320df6['bindRender'+'buffer'](_0x320df6['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x320df6['renderbuff'+'erStorage'](_0x320df6['RENDERBUFF'+'ER'],_0x26b6fd,_0x21fa2d['width'],_0x21fa2d['height']),_0x320df6['framebuffe'+'rRenderbuf'+'fer'](_0x320df6['FRAMEBUFFE'+'R'],_0x3ab4fe,_0x320df6['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x320df6['bindRender'+'buffer'](_0x320df6['RENDERBUFF'+'ER'],null);}}}v['call'](()=>this['_checkFbo'](_0x513d88,_0x21fa2d));}if(_0x21fa2d['_samples']>-0x3*0x6d3+-0x1b4f*0x1+0x2fc9){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x320df6['createFram'+'ebuffer'](),_0x513d88['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x13f471=((_0x5b32e3=_0x21fa2d['_colorBuff'+'ers'])==null?void(-0x166a+-0x23*-0xb7+-0x29b):_0x5b32e3['length'])??0x6*-0x53+0x1b48+-0x8d*0x2e;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x22b7*0x1+-0x17f1+-0x2*-0x1d54)){const _0x4a842f=_0x320df6['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x4a842f);const _0x31debb=_0x513d88['backBuffer'+'Format']===Se?_0x320df6['RGBA8']:_0x320df6['RGB8'];_0x320df6['bindRender'+'buffer'](_0x320df6['RENDERBUFF'+'ER'],_0x4a842f),_0x320df6['renderbuff'+'erStorageM'+'ultisample'](_0x320df6['RENDERBUFF'+'ER'],_0x21fa2d['_samples'],_0x31debb,_0x21fa2d['width'],_0x21fa2d['height']),_0x320df6['framebuffe'+'rRenderbuf'+'fer'](_0x320df6['FRAMEBUFFE'+'R'],_0x320df6['COLOR_ATTA'+'CHMENT0'],_0x320df6['RENDERBUFF'+'ER'],_0x4a842f);}else for(let _0x3eb188=0x74*-0x16+0x1594+0x2e7*-0x4;_0x3eb188<_0x13f471;++_0x3eb188){const _0x1ff887=_0x21fa2d['getColorBu'+'ffer'](_0x3eb188);if(_0x1ff887){const _0xa5af83=_0x320df6['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0xa5af83),_0x320df6['bindRender'+'buffer'](_0x320df6['RENDERBUFF'+'ER'],_0xa5af83),_0x320df6['renderbuff'+'erStorageM'+'ultisample'](_0x320df6['RENDERBUFF'+'ER'],_0x21fa2d['_samples'],_0x1ff887['impl']['_glInterna'+'lFormat'],_0x21fa2d['width'],_0x21fa2d['height']),_0x320df6['framebuffe'+'rRenderbuf'+'fer'](_0x320df6['FRAMEBUFFE'+'R'],_0x320df6['COLOR_ATTA'+'CHMENT0']+_0x3eb188,_0x320df6['RENDERBUFF'+'ER'],_0xa5af83);}}if(_0x21fa2d['_depth']){v['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x388fdc=_0x21fa2d['_stencil']?_0x320df6['DEPTH24_ST'+'ENCIL8']:_0x320df6['DEPTH_COMP'+'ONENT32F'],_0x2bf245=_0x21fa2d['_stencil']?_0x320df6['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x320df6['DEPTH_ATTA'+'CHMENT'];let _0x40474d;const _0x53c273=_0x21fa2d['_depthBuff'+'er'];_0x53c273&&(_0x40474d=_0x53c273['id']+':'+_0x21fa2d['width']+':'+_0x21fa2d['height']+':'+_0x21fa2d['_samples']+':'+_0x388fdc+':'+_0x2bf245,this['_glMsaaDep'+'thBuffer']=od(_0x513d88)['get'](_0x40474d)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x320df6['createRend'+'erbuffer'](),_0x320df6['bindRender'+'buffer'](_0x320df6['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x320df6['renderbuff'+'erStorageM'+'ultisample'](_0x320df6['RENDERBUFF'+'ER'],_0x21fa2d['_samples'],_0x388fdc,_0x21fa2d['width'],_0x21fa2d['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x320df6['deleteRend'+'erbuffer'](this);},_0x53c273&&od(_0x513d88)['set'](_0x40474d,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x40474d,_0x320df6['framebuffe'+'rRenderbuf'+'fer'](_0x320df6['FRAMEBUFFE'+'R'],_0x2bf245,_0x320df6['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}v['call'](()=>this['_checkFbo'](_0x513d88,_0x21fa2d,'MSAA')),_0x13f471>-0x19*-0x133+0xbf7*-0x1+-0x1203&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x513d88,_0x21fa2d,_0x13f471),_0x513d88['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x320df6['drawBuffer'+'s'](_0x26d746));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x534cec,_0x2392d5,_0x3cb6d5){const _0x1920b7=_0x534cec['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x58cf9b=-0x35b*0x1+-0x5*-0x1f5+-0x66e;_0x58cf9b<_0x3cb6d5;++_0x58cf9b){const _0x3ce7dd=_0x2392d5['getColorBu'+'ffer'](_0x58cf9b),_0x179e11=_0x1920b7['createFram'+'ebuffer']();_0x534cec['setFramebu'+'ffer'](_0x179e11);const _0x36d221=this['_glMsaaCol'+'orBuffers'][_0x58cf9b];_0x1920b7['bindRender'+'buffer'](_0x1920b7['RENDERBUFF'+'ER'],_0x36d221),_0x1920b7['renderbuff'+'erStorageM'+'ultisample'](_0x1920b7['RENDERBUFF'+'ER'],_0x2392d5['_samples'],_0x3ce7dd['impl']['_glInterna'+'lFormat'],_0x2392d5['width'],_0x2392d5['height']),_0x1920b7['framebuffe'+'rRenderbuf'+'fer'](_0x1920b7['FRAMEBUFFE'+'R'],_0x1920b7['COLOR_ATTA'+'CHMENT0'],_0x1920b7['RENDERBUFF'+'ER'],_0x36d221),_0x1920b7['drawBuffer'+'s']([_0x1920b7['COLOR_ATTA'+'CHMENT0']]),v['call'](()=>this['_checkFbo'](_0x534cec,_0x2392d5,'MSAA-MRT-s'+'rc'+_0x58cf9b));const _0x55c17a=_0x1920b7['createFram'+'ebuffer']();_0x534cec['setFramebu'+'ffer'](_0x55c17a),_0x1920b7['framebuffe'+'rTexture2D'](_0x1920b7['FRAMEBUFFE'+'R'],_0x1920b7['COLOR_ATTA'+'CHMENT0'],_0x3ce7dd['_cubemap']?_0x1920b7['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x2392d5['_face']:_0x1920b7['TEXTURE_2D'],_0x3ce7dd['impl']['_glTexture'],-0x5*-0x2ef+-0x1*0x247+-0xc64),this['colorMrtFr'+'amebuffers'][_0x58cf9b]=new cb(_0x179e11,_0x55c17a),v['call'](()=>this['_checkFbo'](_0x534cec,_0x2392d5,'MSAA-MRT-d'+'st'+_0x58cf9b));}}['_checkFbo'](_0x16d830,_0x2aa289,_0x78e5e9=''){const _0x8c2a8b=_0x16d830['gl'],_0x13c5a9=_0x8c2a8b['checkFrame'+'bufferStat'+'us'](_0x8c2a8b['FRAMEBUFFE'+'R']);let _0x2ebbef;switch(_0x13c5a9){case _0x8c2a8b['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x2ebbef='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x8c2a8b['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x2ebbef='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x8c2a8b['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x2ebbef='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x8c2a8b['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x2ebbef='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}v['assert'](!_0x2ebbef,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x2ebbef+(',\x20render\x20t'+'arget:\x20')+_0x2aa289['name']+'\x20'+_0x78e5e9,_0x2aa289);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0x1f*-0x3d+0x1*-0x4d3+0xc36,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0xfe0+0x82c+0x402*-0x6),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x15*-0x73+0x19*0x16d+-0x2d14),this['_isInitial'+'ized']=!(-0x425*-0x3+0x27f*0xd+0x2ce1*-0x1);}['internalRe'+'solve'](_0x2a9b26,_0x23887d,_0x1a48bd,_0x429c7c,_0x168aa0){v['assert'](_0x23887d!==_0x1a48bd,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x2a9b26['setScissor'](0x7*0x53+0x1*0x55d+-0x7a2,0x1*-0xac3+-0x48a*-0x4+-0x3*0x277,_0x429c7c['width'],_0x429c7c['height']);const _0x3d1402=_0x2a9b26['gl'];_0x3d1402['bindFrameb'+'uffer'](_0x3d1402['READ_FRAME'+'BUFFER'],_0x23887d),_0x3d1402['bindFrameb'+'uffer'](_0x3d1402['DRAW_FRAME'+'BUFFER'],_0x1a48bd),_0x3d1402['blitFrameb'+'uffer'](0x2259+0x11fc+-0x3455,-0x6*0x66b+-0x2*-0xe9f+0x251*0x4,_0x429c7c['width'],_0x429c7c['height'],0x5*-0x7e+-0x67f+0x8f5,-0x2*-0xcb3+0x50f+-0x1e75,_0x429c7c['width'],_0x429c7c['height'],_0x168aa0,_0x3d1402['NEAREST']);}['resolve'](_0x90abe,_0x23adde,_0x5a177f,_0x30a52f){const _0x366c84=_0x90abe['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x5a177f)for(let _0x5c395a=-0xad+0xa5f*0x1+-0x9b2;_0x5c395a<this['colorMrtFr'+'amebuffers']['length'];_0x5c395a++){const _0x9cf82b=this['colorMrtFr'+'amebuffers'][_0x5c395a];G['pushGpuMar'+'ker'](_0x90abe,'RESOLVE-MR'+'T'+_0x5c395a),this['internalRe'+'solve'](_0x90abe,_0x9cf82b['msaaFB'],_0x9cf82b['resolveFB'],_0x23adde,_0x366c84['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x90abe);}_0x30a52f&&(G['pushGpuMar'+'ker'](_0x90abe,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x90abe,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x23adde,_0x366c84['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x90abe));}else G['pushGpuMar'+'ker'](_0x90abe,'RESOLVE'),this['internalRe'+'solve'](_0x90abe,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x23adde,(_0x5a177f?_0x366c84['COLOR_BUFF'+'ER_BIT']:-0x623+-0x172e+-0x4f*-0x5f)|(_0x30a52f?_0x366c84['DEPTH_BUFF'+'ER_BIT']:-0xcf5*0x2+-0x11*0xe5+-0xdb5*-0x3)),G['popGpuMark'+'er'](_0x90abe);_0x366c84['bindFrameb'+'uffer'](_0x366c84['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x1ff873){this['queries']['forEach'](_0x240651=>_0x1ff873['deleteQuer'+'y'](_0x240651)),this['queries']=null;}}class fb extends tb{constructor(_0xb45efe){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0xb45efe,this['ext']=_0xb45efe['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x4e9db4=>this['device']['gl']['deleteQuer'+'y'](_0x4e9db4)),this['frameQueri'+'es']['forEach'](_0x4e0066=>this['device']['gl']['deleteQuer'+'y'](_0x4e0066)),this['previousFr'+'ameQueries']['forEach'](_0x45276e=>_0x45276e['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x21c465){if(this['ext']){const _0x15c1c5=this['getSlot'](_0x21c465),_0x26a930=this['getQuery']();return this['frameQueri'+'es'][_0x15c1c5]=_0x26a930,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x26a930),_0x15c1c5;}}['end'](_0x77d03c){_0x77d03c!==void(0x4d3+-0x207d*-0x1+-0x2550*0x1)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x3156ac=this['ext'],_0x3db7d7=this['device']['gl'],_0x27c5e6=this['device']['renderVers'+'ion'],_0x4994bd=this['frameQueri'+'es'];if(_0x4994bd['length']>-0x2451+0x1e12*-0x1+0x4263*0x1){this['frameQueri'+'es']=[];const _0x46fc30=new ub();_0x46fc30['queries']=_0x4994bd,_0x46fc30['renderVers'+'ion']=_0x27c5e6,this['previousFr'+'ameQueries']['push'](_0x46fc30);}if(this['previousFr'+'ameQueries']['length']>-0x2335+0x9*-0x26e+-0x301*-0x13){const _0x30d548=this['previousFr'+'ameQueries'][0xb7d+-0x11*0x5c+-0x561],_0x2a8181=_0x30d548['queries'],_0x37b3df=_0x2a8181[_0x2a8181['length']-(0x26*-0x67+0x2098+-0x1*0x114d)],_0x356699=_0x3db7d7['getQueryPa'+'rameter'](_0x37b3df,_0x3db7d7['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x4f6051=_0x3db7d7['getParamet'+'er'](_0x3156ac['GPU_DISJOI'+'NT_EXT']);if(_0x356699&&!_0x4f6051){this['previousFr'+'ameQueries']['shift']();const _0x34788f=this['timings'];_0x34788f['length']=0x1*0x925+-0x1d2f*0x1+-0x39*-0x5a;for(let _0x659576=0x1021+0x1*-0x15ed+-0xd4*-0x7;_0x659576<_0x2a8181['length'];_0x659576++){const _0x269436=_0x2a8181[_0x659576],_0x440490=_0x3db7d7['getQueryPa'+'rameter'](_0x269436,_0x3db7d7['QUERY_RESU'+'LT']);_0x34788f[_0x659576]=_0x440490*(0x2d*0x3b+0xff8+-0x1a57+0.000001),this['freeQuerie'+'s']['push'](_0x269436);}this['report'](_0x30d548['renderVers'+'ion'],_0x34788f);}_0x4f6051&&(this['previousFr'+'ameQueries']['forEach'](_0x54edaa=>{this['report'](_0x54edaa['renderVers'+'ion'],null),_0x54edaa['destroy'](_0x3db7d7);}),this['previousFr'+'ameQueries']['length']=-0x1087+0xd08+0x37f);}super['request'](_0x27c5e6);}}}const Tn=[];class pb extends Fh{constructor(_0x4ec05e,_0x3a9cbb={}){super(_0x4ec05e,_0x3a9cbb),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x17d*-0x3+-0x18*0x3d+0x142)),(_0x3a9cbb=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x25dd+0x55+0xc83*0x3),this['_contextLo'+'stHandler']=_0x2df49b=>{_0x2df49b['preventDef'+'ault'](),this['loseContex'+'t'](),v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x158e59=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x158e59&&_0x158e59['includes']('AppleWebKi'+'t')&&(_0x158e59['includes']('15.4')||_0x158e59['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x3a9cbb['antialias']=!(0xad*-0x4+-0xc74+0x1*0xf29),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),ye['browserNam'+'e']==='firefox'){const _0x363fcd=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x5b6628=_0x363fcd?_0x363fcd[0xc19*-0x2+-0xae2*-0x3+-0x873]:null;if(_0x5b6628){const _0x232edb=parseFloat(_0x5b6628);(ye['name']==='windows'&&(_0x232edb>=0x1af2*0x1+0x247e+-0x3ef8||_0x232edb===0x1806+0x159f+-0x1*0x2d32)||ye['name']==='android'&&_0x232edb>=-0xa7a*-0x1+-0x1ad7+0x10e1)&&(_0x3a9cbb['antialias']=!(-0x134b+0x11*0x80+0x2*0x566),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+ye['name']+('\x20platform\x20'+'version\x20')+_0x5b6628));}}this['backBuffer'+'Antialias']=_0x3a9cbb['antialias']??!(0x10f+0x17c*0x6+-0x1fe*0x5),_0x3a9cbb['antialias']=!(-0x1950+0x1*-0x2309+0x3c5a);const _0x29c408=_0x3a9cbb['gl']??_0x4ec05e['getContext']('webgl2',_0x3a9cbb);if(!_0x29c408)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x29c408,this['isWebGL2']=!(0x2*-0xa88+-0x97*-0x21+0x199),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x4a0cc9=ye['browserNam'+'e']==='chrome',_0x63830d=ye['browserNam'+'e']==='safari',_0x401338=ye['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x10*-0x257+-0x13*0x8c+-0x7*0x3dd);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x63830d,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x401338&&_0x4a0cc9&&!_0x3a9cbb['alpha'],_0x4ec05e['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0xc1+0x71*0x10+-0x7d0)),_0x4ec05e['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x25af+-0xa6d*-0x3+0x669)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x63830d&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x29c408['SAMPLER_2D'],_0x29c408['SAMPLER_CU'+'BE'],_0x29c408['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x29c408['INT_SAMPLE'+'R_2D'],_0x29c408['SAMPLER_2D'+'_SHADOW'],_0x29c408['SAMPLER_CU'+'BE_SHADOW'],_0x29c408['SAMPLER_3D'],_0x29c408['INT_SAMPLE'+'R_3D'],_0x29c408['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x29c408['SAMPLER_2D'+'_ARRAY'],_0x29c408['INT_SAMPLE'+'R_2D_ARRAY'],_0x29c408['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x29c408['REPEAT'],_0x29c408['CLAMP_TO_E'+'DGE'],_0x29c408['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x29c408['FUNC_ADD'],_0x29c408['FUNC_SUBTR'+'ACT'],_0x29c408['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x29c408['MIN'],_0x29c408['MAX']],this['glBlendFun'+'ctionColor']=[_0x29c408['ZERO'],_0x29c408['ONE'],_0x29c408['SRC_COLOR'],_0x29c408['ONE_MINUS_'+'SRC_COLOR'],_0x29c408['DST_COLOR'],_0x29c408['ONE_MINUS_'+'DST_COLOR'],_0x29c408['SRC_ALPHA'],_0x29c408['SRC_ALPHA_'+'SATURATE'],_0x29c408['ONE_MINUS_'+'SRC_ALPHA'],_0x29c408['DST_ALPHA'],_0x29c408['ONE_MINUS_'+'DST_ALPHA'],_0x29c408['CONSTANT_C'+'OLOR'],_0x29c408['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x29c408['ZERO'],_0x29c408['ONE'],_0x29c408['SRC_COLOR'],_0x29c408['ONE_MINUS_'+'SRC_COLOR'],_0x29c408['DST_COLOR'],_0x29c408['ONE_MINUS_'+'DST_COLOR'],_0x29c408['SRC_ALPHA'],_0x29c408['SRC_ALPHA_'+'SATURATE'],_0x29c408['ONE_MINUS_'+'SRC_ALPHA'],_0x29c408['DST_ALPHA'],_0x29c408['ONE_MINUS_'+'DST_ALPHA'],_0x29c408['CONSTANT_A'+'LPHA'],_0x29c408['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x29c408['NEVER'],_0x29c408['LESS'],_0x29c408['EQUAL'],_0x29c408['LEQUAL'],_0x29c408['GREATER'],_0x29c408['NOTEQUAL'],_0x29c408['GEQUAL'],_0x29c408['ALWAYS']],this['glStencilO'+'p']=[_0x29c408['KEEP'],_0x29c408['ZERO'],_0x29c408['REPLACE'],_0x29c408['INCR'],_0x29c408['INCR_WRAP'],_0x29c408['DECR'],_0x29c408['DECR_WRAP'],_0x29c408['INVERT']],this['glClearFla'+'g']=[0x26ce+-0x101c+0x48a*-0x5,_0x29c408['COLOR_BUFF'+'ER_BIT'],_0x29c408['DEPTH_BUFF'+'ER_BIT'],_0x29c408['COLOR_BUFF'+'ER_BIT']|_0x29c408['DEPTH_BUFF'+'ER_BIT'],_0x29c408['STENCIL_BU'+'FFER_BIT'],_0x29c408['STENCIL_BU'+'FFER_BIT']|_0x29c408['COLOR_BUFF'+'ER_BIT'],_0x29c408['STENCIL_BU'+'FFER_BIT']|_0x29c408['DEPTH_BUFF'+'ER_BIT'],_0x29c408['STENCIL_BU'+'FFER_BIT']|_0x29c408['COLOR_BUFF'+'ER_BIT']|_0x29c408['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0xa2*-0x1e+0x2678+0x4*-0xe5d,_0x29c408['BACK'],_0x29c408['FRONT'],_0x29c408['FRONT_AND_'+'BACK']],this['glFilter']=[_0x29c408['NEAREST'],_0x29c408['LINEAR'],_0x29c408['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x29c408['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x29c408['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x29c408['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x29c408['POINTS'],_0x29c408['LINES'],_0x29c408['LINE_LOOP'],_0x29c408['LINE_STRIP'],_0x29c408['TRIANGLES'],_0x29c408['TRIANGLE_S'+'TRIP'],_0x29c408['TRIANGLE_F'+'AN']],this['glType']=[_0x29c408['BYTE'],_0x29c408['UNSIGNED_B'+'YTE'],_0x29c408['SHORT'],_0x29c408['UNSIGNED_S'+'HORT'],_0x29c408['INT'],_0x29c408['UNSIGNED_I'+'NT'],_0x29c408['FLOAT'],_0x29c408['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x29c408['BOOL']]=ca,this['pcUniformT'+'ype'][_0x29c408['INT']]=ln,this['pcUniformT'+'ype'][_0x29c408['FLOAT']]=Ws,this['pcUniformT'+'ype'][_0x29c408['FLOAT_VEC2']]=or,this['pcUniformT'+'ype'][_0x29c408['FLOAT_VEC3']]=Wt,this['pcUniformT'+'ype'][_0x29c408['FLOAT_VEC4']]=xa,this['pcUniformT'+'ype'][_0x29c408['INT_VEC2']]=Zr,this['pcUniformT'+'ype'][_0x29c408['INT_VEC3']]=Qr,this['pcUniformT'+'ype'][_0x29c408['INT_VEC4']]=Jr,this['pcUniformT'+'ype'][_0x29c408['BOOL_VEC2']]=Lo,this['pcUniformT'+'ype'][_0x29c408['BOOL_VEC3']]=Fo,this['pcUniformT'+'ype'][_0x29c408['BOOL_VEC4']]=Oo,this['pcUniformT'+'ype'][_0x29c408['FLOAT_MAT2']]=Rh,this['pcUniformT'+'ype'][_0x29c408['FLOAT_MAT3']]=ko,this['pcUniformT'+'ype'][_0x29c408['FLOAT_MAT4']]=Sa,this['pcUniformT'+'ype'][_0x29c408['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x29c408['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x29c408['UNSIGNED_I'+'NT']]=va,this['pcUniformT'+'ype'][_0x29c408['UNSIGNED_I'+'NT_VEC2']]=ba,this['pcUniformT'+'ype'][_0x29c408['UNSIGNED_I'+'NT_VEC3']]=wa,this['pcUniformT'+'ype'][_0x29c408['UNSIGNED_I'+'NT_VEC4']]=Ta,this['pcUniformT'+'ype'][_0x29c408['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x29c408['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x29c408['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x29c408['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x29c408['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x29c408['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x29c408['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x29c408['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x29c408['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x29c408['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x29c408['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x29c408['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x29c408['TEXTURE_2D']]=-0x1bdd+-0xb79*0x3+0x3e48,this['targetToSl'+'ot'][_0x29c408['TEXTURE_CU'+'BE_MAP']]=0x12c7+0xb0f+-0x1dd5,this['targetToSl'+'ot'][_0x29c408['TEXTURE_3D']]=0x39f+0x612+0x43*-0x25;let _0x378385,_0x1ad578,_0x7d2fe0,_0x344ada,_0x4ca029;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ca]=function(_0x3de26d,_0xe12fee){_0x3de26d['value']!==_0xe12fee&&(_0x29c408['uniform1i'](_0x3de26d['locationId'],_0xe12fee),_0x3de26d['value']=_0xe12fee);},this['commitFunc'+'tion'][ln]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][Ws]=function(_0x24bdae,_0x54be27){_0x24bdae['value']!==_0x54be27&&(_0x29c408['uniform1f'](_0x24bdae['locationId'],_0x54be27),_0x24bdae['value']=_0x54be27);},this['commitFunc'+'tion'][or]=function(_0x4bd69d,_0x5084cb){_0x4ca029=_0x4bd69d['value'],_0x378385=_0x5084cb[-0x1*0x3cd+-0x68f*-0x1+0x161*-0x2],_0x1ad578=_0x5084cb[0x1c29+-0x29d+-0x198b],(_0x4ca029[-0x1454+0xf95+0x4bf]!==_0x378385||_0x4ca029[-0x34a*0x6+0x11bb+-0x1*-0x202]!==_0x1ad578)&&(_0x29c408['uniform2fv'](_0x4bd69d['locationId'],_0x5084cb),_0x4ca029[-0x117e+-0x52f*0x3+0x210b]=_0x378385,_0x4ca029[0x19bf+-0x2a*0x87+-0xb8*0x5]=_0x1ad578);},this['commitFunc'+'tion'][Wt]=function(_0x43950a,_0x53aaf5){_0x4ca029=_0x43950a['value'],_0x378385=_0x53aaf5[0x257*0x7+-0xb*0x45+0xd6a*-0x1],_0x1ad578=_0x53aaf5[-0x7e2*0x1+0x8d2+-0x1*0xef],_0x7d2fe0=_0x53aaf5[-0x24ba+0x4a*-0x79+-0x89*-0x86],(_0x4ca029[0x17a5+-0xc4b+0x5ad*-0x2]!==_0x378385||_0x4ca029[0x1648+-0x2149+0x1*0xb02]!==_0x1ad578||_0x4ca029[0x496*-0x7+-0xac2+-0x162*-0x1f]!==_0x7d2fe0)&&(_0x29c408['uniform3fv'](_0x43950a['locationId'],_0x53aaf5),_0x4ca029[0x15ad+0x57+-0x1604*0x1]=_0x378385,_0x4ca029[0x36*-0x98+-0x6*0xe8+0x2581]=_0x1ad578,_0x4ca029[0x1*0x6ad+0x17cd+-0x1e78]=_0x7d2fe0);},this['commitFunc'+'tion'][xa]=function(_0x3ea590,_0xffba34){_0x4ca029=_0x3ea590['value'],_0x378385=_0xffba34[0xa11*-0x1+-0x2558+0x35*0xe5],_0x1ad578=_0xffba34[-0x1e4+-0xdef*0x1+0xfd4],_0x7d2fe0=_0xffba34[0x1894+0x20bb+-0x394d],_0x344ada=_0xffba34[-0x8f*-0x37+-0x90*0x3b+-0x1*-0x27a],(_0x4ca029[0x5*0x584+0x1e7*-0x1+-0x3ab*0x7]!==_0x378385||_0x4ca029[-0x3*0xd5+-0xc0e*-0x1+-0x98e*0x1]!==_0x1ad578||_0x4ca029[-0x3b9*-0x1+-0x3*0x787+0x7*0x2b2]!==_0x7d2fe0||_0x4ca029[-0x61f*0x1+0x1*0x1ee3+-0x1*0x18c1]!==_0x344ada)&&(_0x29c408['uniform4fv'](_0x3ea590['locationId'],_0xffba34),_0x4ca029[-0xb38+-0x261*0x9+0x20a1]=_0x378385,_0x4ca029[-0xa*0x1b1+0x223*-0x6+0x1dbd]=_0x1ad578,_0x4ca029[0x2110+0x5*-0x158+-0xd2b*0x2]=_0x7d2fe0,_0x4ca029[-0x3*-0x959+-0x9f*0x13+-0xf*0x115]=_0x344ada);},this['commitFunc'+'tion'][Zr]=function(_0x479ac0,_0x3ee08d){_0x4ca029=_0x479ac0['value'],_0x378385=_0x3ee08d[0x23*-0x7f+0xc9c+-0x1*-0x4c1],_0x1ad578=_0x3ee08d[0xa62+-0x69+-0x9f8],(_0x4ca029[-0x1e98+0x207a+-0x1e2]!==_0x378385||_0x4ca029[-0xb*-0x25b+-0x1*-0x868+-0x2250]!==_0x1ad578)&&(_0x29c408['uniform2iv'](_0x479ac0['locationId'],_0x3ee08d),_0x4ca029[-0xa*-0x3ac+-0x161e+-0xe9a]=_0x378385,_0x4ca029[-0x3*-0x123+0x1*-0x811+0x4a9*0x1]=_0x1ad578);},this['commitFunc'+'tion'][Lo]=this['commitFunc'+'tion'][Zr],this['commitFunc'+'tion'][Qr]=function(_0x2a087f,_0x18a355){_0x4ca029=_0x2a087f['value'],_0x378385=_0x18a355[0x124a+-0x1*-0x1320+-0x256a],_0x1ad578=_0x18a355[-0x1*0x1309+-0x5d1*-0x5+-0xa0b],_0x7d2fe0=_0x18a355[0xbcf*0x2+0x407*-0x3+-0xb87],(_0x4ca029[-0x6*-0x576+0x133*0x5+-0x26c3]!==_0x378385||_0x4ca029[0xb9c*0x1+0x2229+-0x2dc4]!==_0x1ad578||_0x4ca029[-0xad4+-0xc19+0x7a5*0x3]!==_0x7d2fe0)&&(_0x29c408['uniform3iv'](_0x2a087f['locationId'],_0x18a355),_0x4ca029[-0x24ee+0x1b3b+0x9b3]=_0x378385,_0x4ca029[-0x175+0xeb5+-0xd3f]=_0x1ad578,_0x4ca029[0xbfd+0x265*-0xd+0x1326]=_0x7d2fe0);},this['commitFunc'+'tion'][Fo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x10bbbd,_0x346bce){_0x4ca029=_0x10bbbd['value'],_0x378385=_0x346bce[0xca+-0x4a4+0x3da],_0x1ad578=_0x346bce[-0x3*0xbd3+0x69d*0x1+0x9*0x335],_0x7d2fe0=_0x346bce[0x393*-0x9+0x1c37*-0x1+0x3c64],_0x344ada=_0x346bce[0x71*-0x34+0x2*-0x27+-0x1745*-0x1],(_0x4ca029[0x7*0x67+-0x1*-0xcec+-0xfbd]!==_0x378385||_0x4ca029[-0x1249*0x2+0x6ad+-0xb2*-0x2b]!==_0x1ad578||_0x4ca029[0xdb7+0x25*0xc4+-0x33*0xd3]!==_0x7d2fe0||_0x4ca029[-0x1b*-0xb2+0x29*-0x84+0x261]!==_0x344ada)&&(_0x29c408['uniform4iv'](_0x10bbbd['locationId'],_0x346bce),_0x4ca029[-0x24b2+0x19*-0xa3+0x349d]=_0x378385,_0x4ca029[-0xf46+-0x9c3*-0x2+-0x1*0x43f]=_0x1ad578,_0x4ca029[-0x78d*0x2+-0x15*-0x1c+0xcd0]=_0x7d2fe0,_0x4ca029[-0xdd*0xe+-0x1343+-0x9*-0x37c]=_0x344ada);},this['commitFunc'+'tion'][Oo]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][Rh]=function(_0x54c228,_0x558e51){_0x29c408['uniformMat'+'rix2fv'](_0x54c228['locationId'],!(-0x771+0xf65+0x1*-0x7f3),_0x558e51);},this['commitFunc'+'tion'][ko]=function(_0x3a2ff7,_0x2d97f7){_0x29c408['uniformMat'+'rix3fv'](_0x3a2ff7['locationId'],!(0x35d*-0x2+0x141*-0x1b+0x2896),_0x2d97f7);},this['commitFunc'+'tion'][Sa]=function(_0x4a66ed,_0xe17220){_0x29c408['uniformMat'+'rix4fv'](_0x4a66ed['locationId'],!(-0x26d7+-0x27e*0xf+0x4c3a),_0xe17220);},this['commitFunc'+'tion'][Dc]=function(_0x154b9c,_0x50576c){_0x29c408['uniform1fv'](_0x154b9c['locationId'],_0x50576c);},this['commitFunc'+'tion'][Lc]=function(_0x2dbf7,_0x144613){_0x29c408['uniform2fv'](_0x2dbf7['locationId'],_0x144613);},this['commitFunc'+'tion'][Fc]=function(_0x55e969,_0x4c019e){_0x29c408['uniform3fv'](_0x55e969['locationId'],_0x4c019e);},this['commitFunc'+'tion'][lp]=function(_0x584231,_0x637c52){_0x29c408['uniform4fv'](_0x584231['locationId'],_0x637c52);},this['commitFunc'+'tion'][va]=function(_0x4d221c,_0x3c2460){_0x4d221c['value']!==_0x3c2460&&(_0x29c408['uniform1ui'](_0x4d221c['locationId'],_0x3c2460),_0x4d221c['value']=_0x3c2460);},this['commitFunc'+'tion'][ba]=function(_0x3029bc,_0x3d6bce){_0x4ca029=_0x3029bc['value'],_0x378385=_0x3d6bce[-0x890+0x7*-0x4b5+-0x1*-0x2983],_0x1ad578=_0x3d6bce[-0x269+0x3*0x866+-0x12*0x144],(_0x4ca029[0x1f3*0x2+0x1772+0xe*-0x1f4]!==_0x378385||_0x4ca029[-0x19e5+0xe9*-0x1e+-0x14*-0x2a9]!==_0x1ad578)&&(_0x29c408['uniform2ui'+'v'](_0x3029bc['locationId'],_0x3d6bce),_0x4ca029[-0x205f*0x1+0x11a2+0x21b*0x7]=_0x378385,_0x4ca029[0x178f*0x1+0x106a+-0x27f8]=_0x1ad578);},this['commitFunc'+'tion'][wa]=function(_0xe79d6f,_0x32b7f8){_0x4ca029=_0xe79d6f['value'],_0x378385=_0x32b7f8[-0x1*0x1748+-0x9b3+0x1*0x20fb],_0x1ad578=_0x32b7f8[-0x1f81+0x7f*-0x29+-0x1*-0x33d9],_0x7d2fe0=_0x32b7f8[0x211e+0x6e5*0x2+-0x2ee6],(_0x4ca029[0x42b*-0x5+0x2692+-0x11bb]!==_0x378385||_0x4ca029[-0x1a4a+0x3a0*0x6+-0x1*-0x48b]!==_0x1ad578||_0x4ca029[0x13*0x20c+0x78+-0x275a]!==_0x7d2fe0)&&(_0x29c408['uniform3ui'+'v'](_0xe79d6f['locationId'],_0x32b7f8),_0x4ca029[-0xa85+-0x6ac+-0x5bb*-0x3]=_0x378385,_0x4ca029[0x1449+-0x1*-0xed4+-0x231c]=_0x1ad578,_0x4ca029[-0x174*0x1+-0x6dc+0x47*0x1e]=_0x7d2fe0);},this['commitFunc'+'tion'][Ta]=function(_0x5706d5,_0x50544a){_0x4ca029=_0x5706d5['value'],_0x378385=_0x50544a[0xfd7*0x2+-0x26ba+-0xa4*-0xb],_0x1ad578=_0x50544a[0x1*0x18ca+0x13f*0x15+0x2*-0x197a],_0x7d2fe0=_0x50544a[0x48*-0x1c+0x210d*-0x1+0x3*0xda5],_0x344ada=_0x50544a[-0x1*-0x29+0x1*0xac9+-0xaef],(_0x4ca029[0x1f*-0x12b+0x1*-0x409+-0x11*-0x25e]!==_0x378385||_0x4ca029[0x3*-0x295+0x1f61+-0x17a1]!==_0x1ad578||_0x4ca029[-0xa*-0xd6+0xbec*-0x3+0x1d*0xf2]!==_0x7d2fe0||_0x4ca029[-0x11ea+-0x114d+0x233a]!==_0x344ada)&&(_0x29c408['uniform4ui'+'v'](_0x5706d5['locationId'],_0x50544a),_0x4ca029[0x2213+-0x19be+-0x855*0x1]=_0x378385,_0x4ca029[-0x60d+-0xafe*-0x1+-0x8*0x9e]=_0x1ad578,_0x4ca029[0x2583+-0x4fb+-0x2086]=_0x7d2fe0,_0x4ca029[-0x1*0x193e+-0x2189+0x3aca]=_0x344ada);},this['commitFunc'+'tion'][Aa]=function(_0x54a8ff,_0x3ca67b){_0x29c408['uniform1iv'](_0x54a8ff['locationId'],_0x3ca67b);},this['commitFunc'+'tion'][Oc]=function(_0x55d76d,_0x52cce6){_0x29c408['uniform1ui'+'v'](_0x55d76d['locationId'],_0x52cce6);},this['commitFunc'+'tion'][kc]=this['commitFunc'+'tion'][Aa],this['commitFunc'+'tion'][Ea]=function(_0xa8d886,_0x5f19b0){_0x29c408['uniform2iv'](_0xa8d886['locationId'],_0x5f19b0);},this['commitFunc'+'tion'][Bc]=function(_0x2d0039,_0xc98fc2){_0x29c408['uniform2ui'+'v'](_0x2d0039['locationId'],_0xc98fc2);},this['commitFunc'+'tion'][Nc]=this['commitFunc'+'tion'][Ea],this['commitFunc'+'tion'][Ca]=function(_0x3a0071,_0x1269a0){_0x29c408['uniform3iv'](_0x3a0071['locationId'],_0x1269a0);},this['commitFunc'+'tion'][zc]=function(_0x3ce24d,_0x57d19a){_0x29c408['uniform3ui'+'v'](_0x3ce24d['locationId'],_0x57d19a);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ca],this['commitFunc'+'tion'][Ih]=function(_0x6fbca0,_0xd85538){_0x29c408['uniform4iv'](_0x6fbca0['locationId'],_0xd85538);},this['commitFunc'+'tion'][hp]=function(_0x2c1b41,_0x24e710){_0x29c408['uniform4ui'+'v'](_0x2c1b41['locationId'],_0x24e710);},this['commitFunc'+'tion'][cp]=this['commitFunc'+'tion'][Ih],this['commitFunc'+'tion'][Ny]=function(_0x5d49a8,_0x2a8f9e){_0x29c408['uniformMat'+'rix4fv'](_0x5d49a8['locationId'],!(0xe99+-0x1900+0xa68),_0x2a8f9e);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x5089eb=this['gl'];this['feedback']&&_0x5089eb['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x1*-0x361+0x2*0xb1c+-0x7e*0x34)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x10a3+0x17d9+-0x735)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x1fa620){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new pt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x1fa620;}['updateBack'+'bufferForm'+'at'](_0x4055cd){const _0x215857=this['gl'];_0x215857['bindFrameb'+'uffer'](_0x215857['FRAMEBUFFE'+'R'],_0x4055cd);const _0x34c62=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x34c62?Se:dr;}['updateBack'+'buffer'](){const _0x4c29be=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x4c29be)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0xf17+-0x59*0x2e+-0x8*-0x1d),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x1ea3c0,_0x4b5a1f){return new sb();}['createInde'+'xBufferImp'+'l'](_0x35ad0a){return new ib(_0x35ad0a);}['createShad'+'erImpl'](_0x3acac3){return new lb(_0x3acac3);}['createText'+'ureImpl'](_0x37e270){return new hb(_0x37e270);}['createRend'+'erTargetIm'+'pl'](_0x30a652){return new db();}['pushMarker'](_0x59ca1c){if(ye['browser']&&window['spector']){const _0x3538c8=G['toString']();window['spector']['setMarker'](_0x3538c8+'\x20#');}}['popMarker'](){if(ye['browser']&&window['spector']){const _0x3561ad=G['toString']();_0x3561ad['length']?window['spector']['setMarker'](_0x3561ad+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x301f79=this['gl'];let _0x30b695='highp';if(_0x301f79['getShaderP'+'recisionFo'+'rmat']){const _0x1c0d52=_0x301f79['getShaderP'+'recisionFo'+'rmat'](_0x301f79['VERTEX_SHA'+'DER'],_0x301f79['HIGH_FLOAT']),_0x19e47f=_0x301f79['getShaderP'+'recisionFo'+'rmat'](_0x301f79['VERTEX_SHA'+'DER'],_0x301f79['MEDIUM_FLO'+'AT']),_0x1d85e4=_0x301f79['getShaderP'+'recisionFo'+'rmat'](_0x301f79['FRAGMENT_S'+'HADER'],_0x301f79['HIGH_FLOAT']),_0x3fc929=_0x301f79['getShaderP'+'recisionFo'+'rmat'](_0x301f79['FRAGMENT_S'+'HADER'],_0x301f79['MEDIUM_FLO'+'AT']);if(_0x1c0d52&&_0x19e47f&&_0x1d85e4&&_0x3fc929){const _0x15d467=_0x1c0d52['precision']>-0x1*-0x1f81+-0x1*-0x2273+0x96c*-0x7&&_0x1d85e4['precision']>-0xf06+0x123*0x3+0xb9d,_0x33f08b=_0x19e47f['precision']>0x116*-0x15+0x6*0x2b5+0x8c*0xc&&_0x3fc929['precision']>-0x4b+0x252f*-0x1+0x215*0x12;_0x15d467||(_0x33f08b?(_0x30b695='mediump',v['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x30b695='lowp',v['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x30b695;}['getExtensi'+'on'](){for(let _0xfa746a=0xb43*0x3+-0x2*0x85d+-0x110f;_0xfa746a<arguments['length'];_0xfa746a++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0xfa746a])!==-(-0x790+-0x18be+0x204f))return this['gl']['getExtensi'+'on'](arguments[_0xfa746a]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x4b29aa=this['gl'];this['supportedE'+'xtensions']=_0x4b29aa['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(0xa27+-0x118*-0x1d+-0x29df),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x26a218=this['gl'];let _0x37206d;const _0x5a42c6=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x5f4d44=_0x26a218['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x5f4d44==null?void(0x597+-0x24e6+0x1f4f):_0x5f4d44['antialias'])??!(-0x18e9*-0x1+0x1206+-0x2aee),this['supportsSt'+'encil']=(_0x5f4d44==null?void(-0x95*0x1+0x1a1+-0x10c):_0x5f4d44['stencil'])??!(-0xb18+0x2481+0x18*-0x10f),this['maxTexture'+'Size']=_0x26a218['getParamet'+'er'](_0x26a218['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x26a218['getParamet'+'er'](_0x26a218['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x26a218['getParamet'+'er'](_0x26a218['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x26a218['getParamet'+'er'](_0x26a218['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x26a218['getParamet'+'er'](_0x26a218['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x26a218['getParamet'+'er'](_0x26a218['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x26a218['getParamet'+'er'](_0x26a218['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x26a218['getParamet'+'er'](_0x26a218['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x26a218['getParamet'+'er'](_0x26a218['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x26a218['getParamet'+'er'](_0x26a218['MAX_3D_TEX'+'TURE_SIZE']),_0x37206d=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x37206d?_0x26a218['getParamet'+'er'](_0x37206d['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x37206d?_0x26a218['getParamet'+'er'](_0x37206d['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x29bffc=/\bMali-G52+/,_0x1196b5=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x5a42c6['match'](_0x1196b5))&&!this['unmaskedRe'+'nderer']['match'](_0x29bffc),_0x37206d=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x37206d?_0x26a218['getParamet'+'er'](_0x37206d['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0x1333+0xab2+-0x1de4;const _0x2b6a8d=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x2b6a8d?_0x26a218['getParamet'+'er'](_0x26a218['MAX_SAMPLE'+'S']):0x31*0x4f+0x229d*0x1+-0x31bb,this['maxSamples']=Math['min'](this['maxSamples'],0x2310+0x725*0x1+-0x2a31),this['samples']=_0x2b6a8d&&this['backBuffer'+'Antialias']?this['maxSamples']:-0x180f+0x11*0x14b+0x215,this['supportsAr'+'eaLights']=!ye['android'],this['maxTexture'+'s']<=0x139a+0x8c*0x24+0x2742*-0x1&&(this['supportsAr'+'eaLights']=!(-0x20e2+0x56f*-0x5+-0x3c0e*-0x1));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x304041=this['gl'];_0x304041['disable'](_0x304041['BLEND']),_0x304041['blendFunc'](_0x304041['ONE'],_0x304041['ZERO']),_0x304041['blendEquat'+'ion'](_0x304041['FUNC_ADD']),_0x304041['colorMask'](!(0x2*0x3a3+-0x1*0xfc7+0x881),!(0x34*-0x81+-0xb*0x1f7+0x1*0x2fd1),!(0x1*0x171+0x1c07+-0x1d78),!(0x18f4+0x1bb1+0x34a5*-0x1)),_0x304041['blendColor'](-0x1d73+0xd*-0xb5+0x2*0x1352,-0x35f*0x2+0x1ac1+-0x2f*0x6d,-0x3*0x4ca+0x241*0x6+0xd8,-0x1*0x1633+-0x3*0x552+-0x2629*-0x1),_0x304041['enable'](_0x304041['CULL_FACE']),this['cullFace']=_0x304041['BACK'],_0x304041['cullFace'](_0x304041['BACK']),_0x304041['enable'](_0x304041['DEPTH_TEST']),_0x304041['depthFunc'](_0x304041['LEQUAL']),_0x304041['depthMask'](!(0x1*0xfc5+0x1f1c+-0x443*0xb)),this['stencil']=!(0x1c*0x68+0x177d+0x5c*-0x61),_0x304041['disable'](_0x304041['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ai,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0xba*-0x12+0x26a*0x9+-0x8a6,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0x15+0x306+-0x1f2,_0x304041['stencilFun'+'c'](_0x304041['ALWAYS'],0x14f7+0xf6d*-0x2+-0x1*-0x9e3,-0x97*-0x2f+-0x29d+-0x181d),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=ha,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=ha,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=ha,this['stencilWri'+'teMaskFron'+'t']=0x3b*0x5+0xc75*-0x3+-0x7*-0x551,this['stencilWri'+'teMaskBack']=0x62+0x1673+0x2*-0xaeb,_0x304041['stencilOp'](_0x304041['KEEP'],_0x304041['KEEP'],_0x304041['KEEP']),_0x304041['stencilMas'+'k'](-0x1a33+-0x258e+-0x940*-0x7),this['alphaToCov'+'erage']=!(0x11f+0x2208+0x16*-0x199),this['raster']=!(-0xc7a*-0x2+-0x26a*-0x1+-0x1b5e),_0x304041['disable'](_0x304041['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x304041['disable'](_0x304041['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(0x943+-0x178*0x1+0x1*-0x7ca),_0x304041['disable'](_0x304041['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=-0xb*0x167+-0x3*0x21d+-0x1*-0x15c5,_0x304041['clearDepth'](-0x303+-0x14e7+0x27*0x9d),this['clearColor']=new Y(-0x186b+0x1457+0x414,0x57*0x1+0xc22+-0x1*0xc79,0xf49+-0x1a77+-0x12*-0x9f,-0x319*-0x1+-0x4*0x4a2+0x1b7*0x9),_0x304041['clearColor'](0x1b23+0x34*-0x79+-0x28f,0x57b+0x1*0xd4d+-0x12c8,-0x14d8+-0x398*0x9+-0x353*-0x10,0x1*-0x11f6+-0x1*-0x2225+-0x3*0x565),this['clearStenc'+'il']=0x1*-0x269c+-0x1*-0x19fd+0xc9f,_0x304041['clearStenc'+'il'](-0x2*-0x2f1+-0xdb4*-0x1+-0xda*0x17),_0x304041['hint'](_0x304041['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x304041['NICEST']),_0x304041['enable'](_0x304041['SCISSOR_TE'+'ST']),_0x304041['pixelStore'+'i'](_0x304041['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x304041['NONE']),this['unpackFlip'+'Y']=!(0x26f4+-0x16d3+-0x1020),_0x304041['pixelStore'+'i'](_0x304041['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x8fa+0xa*-0x13d+0x155d)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0x16d2+-0x1330+0x9*0x4ab),_0x304041['pixelStore'+'i'](_0x304041['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(-0x9*-0x69+0x1b28+0xe*-0x234)),_0x304041['pixelStore'+'i'](_0x304041['UNPACK_ALI'+'GNMENT'],-0x252a+0x2003+0x528);}['initTextur'+'eUnits'](_0x1c6f4d=-0x168d+-0x1*0x203+0x18a0){this['textureUni'+'ts']=[];for(let _0x57f990=-0x1*0xe0a+-0x9cc+0x17d6;_0x57f990<_0x1c6f4d;_0x57f990++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x19a9+0x250a+-0x1*0x3eb3,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x531015 of this['shaders'])_0x531015['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x4840d5 of this['shaders'])_0x4840d5['restoreCon'+'text']();}['setViewpor'+'t'](_0x41885c,_0x1c2717,_0x2d99d5,_0x3b5e53){(this['vx']!==_0x41885c||this['vy']!==_0x1c2717||this['vw']!==_0x2d99d5||this['vh']!==_0x3b5e53)&&(this['gl']['viewport'](_0x41885c,_0x1c2717,_0x2d99d5,_0x3b5e53),this['vx']=_0x41885c,this['vy']=_0x1c2717,this['vw']=_0x2d99d5,this['vh']=_0x3b5e53);}['setScissor'](_0x7c0287,_0x4f0c30,_0x4cb638,_0x1eadc1){(this['sx']!==_0x7c0287||this['sy']!==_0x4f0c30||this['sw']!==_0x4cb638||this['sh']!==_0x1eadc1)&&(this['gl']['scissor'](_0x7c0287,_0x4f0c30,_0x4cb638,_0x1eadc1),this['sx']=_0x7c0287,this['sy']=_0x4f0c30,this['sw']=_0x4cb638,this['sh']=_0x1eadc1);}['setFramebu'+'ffer'](_0x483841){if(this['activeFram'+'ebuffer']!==_0x483841){const _0x179fa0=this['gl'];_0x179fa0['bindFrameb'+'uffer'](_0x179fa0['FRAMEBUFFE'+'R'],_0x483841),this['activeFram'+'ebuffer']=_0x483841;}}['copyRender'+'Target'](_0x1574d1,_0x45f70c,_0x132012,_0x46930b){var _0x2754b4,_0x316a80;const _0x5e2ed9=this['gl'];if(_0x1574d1===this['backBuffer']&&(_0x1574d1=null),_0x132012){if(_0x45f70c){if(_0x1574d1){if(!_0x1574d1['_colorBuff'+'er']||!_0x45f70c['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x17f8+0xd4+-0x18cb);if(_0x1574d1['_colorBuff'+'er']['_format']!==_0x45f70c['_colorBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0x75e+0x87d+0x2*-0x7ed);}}else{if(!_0x1574d1['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0x80*-0xb+-0x2*-0x265+-0x3d*-0x3);}}if(_0x46930b&&_0x1574d1&&!_0x1574d1['_depth']){if(!_0x1574d1['_depthBuff'+'er']||!_0x45f70c['_depthBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x1573+0x18cf+0x1*-0x2e41);if(_0x1574d1['_depthBuff'+'er']['_format']!==_0x45f70c['_depthBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x4f*0x5d+0x3*0x333+-0x264b*0x1);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x22b6ad=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x45f70c,this['updateBegi'+'n']();const _0x3f53ec=_0x1574d1?_0x1574d1['impl']['_glFrameBu'+'ffer']:(_0x2754b4=this['backBuffer'])==null?void(0x903*-0x1+-0x1e87+0xd2e*0x3):_0x2754b4['impl']['_glFrameBu'+'ffer'],_0x5d859e=_0x45f70c?_0x45f70c['impl']['_glFrameBu'+'ffer']:(_0x316a80=this['backBuffer'])==null?void(0x5f*0x5+0x5ba+0x287*-0x3):_0x316a80['impl']['_glFrameBu'+'ffer'];v['assert'](_0x3f53ec!==_0x5d859e,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x5e2ed9['bindFrameb'+'uffer'](_0x5e2ed9['READ_FRAME'+'BUFFER'],_0x3f53ec),_0x5e2ed9['bindFrameb'+'uffer'](_0x5e2ed9['DRAW_FRAME'+'BUFFER'],_0x5d859e);const _0x5488bd=_0x1574d1?_0x1574d1['width']:_0x45f70c?_0x45f70c['width']:this['width'],_0x16bae6=_0x1574d1?_0x1574d1['height']:_0x45f70c?_0x45f70c['height']:this['height'];return _0x5e2ed9['blitFrameb'+'uffer'](0x1846+0x11bc+-0x2a02,-0x163*0xd+0x58f*0x1+0x6*0x214,_0x5488bd,_0x16bae6,0x200d+0x1bc3+-0x2*0x1de8,0x6a4+0x1dab+-0x244f,_0x5488bd,_0x16bae6,(_0x132012?_0x5e2ed9['COLOR_BUFF'+'ER_BIT']:0x17c*-0xd+-0x1*-0xed5+0x477)|(_0x46930b?_0x5e2ed9['DEPTH_BUFF'+'ER_BIT']:-0x1*-0xeb1+-0x2027+0x1176),_0x5e2ed9['NEAREST']),this['renderTarg'+'et']=_0x22b6ad,_0x5e2ed9['bindFrameb'+'uffer'](_0x5e2ed9['FRAMEBUFFE'+'R'],_0x22b6ad?_0x22b6ad['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(0xdfa+-0xa*0x250+0x926);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x2952ae){const _0x5d957f=_0x2952ae['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x5d957f,v['assert'](_0x5d957f),G['pushGpuMar'+'ker'](this,'Pass:'+_0x2952ae['name']+'\x20RT:'+_0x5d957f['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x5e6330,height:_0x1cd304}=_0x5d957f;this['setViewpor'+'t'](-0xf*-0x53+-0xe3a+0x2f*0x33,-0x301+0x51b*-0x3+0x1252,_0x5e6330,_0x1cd304),this['setScissor'](-0x10*0x17b+0x8b9+0xef7,-0x1*-0x20ac+0x7*-0x2e+-0x1*0x1f6a,_0x5e6330,_0x1cd304);const _0x3cb31a=_0x2952ae['colorOps'],_0xd6542a=_0x2952ae['depthStenc'+'ilOps'];if(_0x3cb31a!=null&&_0x3cb31a['clear']||_0xd6542a['clearDepth']||_0xd6542a['clearStenc'+'il']){let _0x1ded7c=-0x22fa+0x1ff+0x20fb;const _0x19477b={};_0x3cb31a!=null&&_0x3cb31a['clear']&&(_0x1ded7c|=Co,_0x19477b['color']=[_0x3cb31a['clearValue']['r'],_0x3cb31a['clearValue']['g'],_0x3cb31a['clearValue']['b'],_0x3cb31a['clearValue']['a']]),_0xd6542a['clearDepth']&&(_0x1ded7c|=Mo,_0x19477b['depth']=_0xd6542a['clearDepth'+'Value']),_0xd6542a['clearStenc'+'il']&&(_0x1ded7c|=Ah,_0x19477b['stencil']=_0xd6542a['clearStenc'+'ilValue']),_0x19477b['flags']=_0x1ded7c,this['clear'](_0x19477b);}v['call'](()=>{this['insideRend'+'erPass']&&v['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(0x6b*-0x14+0x1*-0x166a+0x1ec6),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x560e51){var _0x43b917;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x182e85=this['renderTarg'+'et'],_0x627db=_0x560e51['colorArray'+'Ops']['length'];if(_0x182e85){Tn['length']=-0xfa1+-0x81+-0x76*-0x23;const _0x15bd99=this['gl'];for(let _0x3e8806=-0x10d8+-0x157+0x122f;_0x3e8806<_0x627db;_0x3e8806++){const _0x4ea14c=_0x560e51['colorArray'+'Ops'][_0x3e8806];_0x4ea14c['store']||_0x4ea14c['resolve']||Tn['push'](_0x15bd99['COLOR_ATTA'+'CHMENT0']+_0x3e8806);}_0x182e85!==this['backBuffer']&&(_0x560e51['depthStenc'+'ilOps']['storeDepth']||Tn['push'](_0x15bd99['DEPTH_ATTA'+'CHMENT']),_0x560e51['depthStenc'+'ilOps']['storeStenc'+'il']||Tn['push'](_0x15bd99['STENCIL_AT'+'TACHMENT'])),Tn['length']>-0x2*-0xb96+-0x1*-0x260e+0x1e9d*-0x2&&_0x560e51['fullSizeCl'+'earRect']&&_0x15bd99['invalidate'+'Framebuffe'+'r'](_0x15bd99['DRAW_FRAME'+'BUFFER'],Tn),_0x627db&&((_0x43b917=_0x560e51['colorOps'])!=null&&_0x43b917['resolve'])&&_0x560e51['samples']>-0x7d9+0x2d4+0x506&&_0x182e85['autoResolv'+'e']&&_0x182e85['resolve'](!(-0x11f1+0x2536+-0x1345*0x1),!(-0xd26+-0x1*-0xedf+-0x1b8)),_0x182e85['depthBuffe'+'r']&&_0x560e51['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x560e51['samples']>0x1fb4+-0x1d47+-0x26c&&_0x182e85['autoResolv'+'e']&&_0x182e85['resolve'](!(0x25c*-0x1+-0x1bd9*-0x1+-0x7*0x3a4),!(0x1*0x63+0x24e2+-0x2545));for(let _0x6c5ec6=-0x1a*0xf4+-0x263a+0x2*0x1f81;_0x6c5ec6<_0x627db;_0x6c5ec6++)if(_0x560e51['colorArray'+'Ops'][_0x6c5ec6]['genMipmaps']){const _0x37d68a=_0x182e85['_colorBuff'+'ers'][_0x6c5ec6];_0x37d68a&&_0x37d68a['impl']['_glTexture']&&_0x37d68a['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x6c5ec6),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x4bb+-0x1216+0x2*0xb69)),this['bindTextur'+'e'](_0x37d68a),this['gl']['generateMi'+'pmap'](_0x37d68a['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x7*-0x209+0x1412+-0x894*0x4),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x531bdf){this['_defaultFr'+'amebuffer']!==_0x531bdf&&(this['_defaultFr'+'amebuffer']=_0x531bdf,this['_defaultFr'+'amebufferC'+'hanged']=!(-0x100c+-0x1899+0x28a5));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x98cfbb=0x31a+0x226b*-0x1+-0x1*-0x1f51;_0x98cfbb<this['textureUni'+'ts']['length'];++_0x98cfbb)for(let _0xeddb62=0x5e*-0x5+-0xaf3+0xcc9;_0xeddb62<-0x313*-0x3+-0x95c+0x26;++_0xeddb62)this['textureUni'+'ts'][_0x98cfbb][_0xeddb62]=null;}const _0x7ffab0=this['renderTarg'+'et']??this['backBuffer'];v['assert'](_0x7ffab0);const _0x58c792=_0x7ffab0['impl'];_0x58c792['initialize'+'d']||this['initRender'+'Target'](_0x7ffab0),this['setFramebu'+'ffer'](_0x58c792['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x414c04=this['renderTarg'+'et'];if(_0x414c04&&_0x414c04!==this['backBuffer']){_0x414c04['_samples']>0x4db+0x1c5a+-0x2134&&_0x414c04['autoResolv'+'e']&&_0x414c04['resolve']();const _0x1bbf95=_0x414c04['_colorBuff'+'er'];_0x1bbf95&&_0x1bbf95['impl']['_glTexture']&&_0x1bbf95['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x1*0x1174+-0xb89+0x3*0x9aa)),this['bindTextur'+'e'](_0x1bbf95),this['gl']['generateMi'+'pmap'](_0x1bbf95['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x14181f){if(this['unpackFlip'+'Y']!==_0x14181f){this['unpackFlip'+'Y']=_0x14181f;const _0x7fdbc=this['gl'];_0x7fdbc['pixelStore'+'i'](_0x7fdbc['UNPACK_FLI'+'P_Y_WEBGL'],_0x14181f);}}['setUnpackP'+'remultiply'+'Alpha'](_0x2d3db3){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x2d3db3){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x2d3db3;const _0x5b4e5f=this['gl'];_0x5b4e5f['pixelStore'+'i'](_0x5b4e5f['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x2d3db3);}}['activeText'+'ure'](_0x297385){this['textureUni'+'t']!==_0x297385&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x297385),this['textureUni'+'t']=_0x297385);}['bindTextur'+'e'](_0x4eade9){const _0x29e1cf=_0x4eade9['impl'],_0x363df2=_0x29e1cf['_glTarget'],_0x4b3ac2=_0x29e1cf['_glTexture'],_0x456242=this['textureUni'+'t'],_0x3bc0be=this['targetToSl'+'ot'][_0x363df2];this['textureUni'+'ts'][_0x456242][_0x3bc0be]!==_0x4b3ac2&&(this['gl']['bindTextur'+'e'](_0x363df2,_0x4b3ac2),this['textureUni'+'ts'][_0x456242][_0x3bc0be]=_0x4b3ac2);}['bindTextur'+'eOnUnit'](_0x315361,_0x3e9ea6){const _0x48ddea=_0x315361['impl'],_0x1353c5=_0x48ddea['_glTarget'],_0x115b3b=_0x48ddea['_glTexture'],_0x40323b=this['targetToSl'+'ot'][_0x1353c5];this['textureUni'+'ts'][_0x3e9ea6][_0x40323b]!==_0x115b3b&&(this['activeText'+'ure'](_0x3e9ea6),this['gl']['bindTextur'+'e'](_0x1353c5,_0x115b3b),this['textureUni'+'ts'][_0x3e9ea6][_0x40323b]=_0x115b3b);}['setTexture'+'Parameters'](_0x54cd50){const _0x5acd25=this['gl'],_0x34e703=_0x54cd50['impl']['dirtyParam'+'eterFlags'],_0x5b9dcd=_0x54cd50['impl']['_glTarget'];if(_0x34e703&zy){let _0x2327d1=_0x54cd50['_minFilter'];(!_0x54cd50['_mipmaps']||_0x54cd50['_compresse'+'d']&&_0x54cd50['_levels']['length']===-0x51*0x67+-0x5*0x25c+0x2c64)&&(_0x2327d1===fc||_0x2327d1===pc?_0x2327d1=de:(_0x2327d1===mc||_0x2327d1===nn)&&(_0x2327d1=st)),_0x5acd25['texParamet'+'eri'](_0x5b9dcd,_0x5acd25['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x2327d1]);}if(_0x34e703&Uy&&_0x5acd25['texParamet'+'eri'](_0x5b9dcd,_0x5acd25['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x54cd50['_magFilter']]),_0x34e703&Vy&&_0x5acd25['texParamet'+'eri'](_0x5b9dcd,_0x5acd25['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x54cd50['_addressU']]),_0x34e703&Gy&&_0x5acd25['texParamet'+'eri'](_0x5b9dcd,_0x5acd25['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x54cd50['_addressV']]),_0x34e703&Hy&&_0x5acd25['texParamet'+'eri'](_0x5b9dcd,_0x5acd25['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x54cd50['_addressW']]),_0x34e703&$y&&_0x5acd25['texParamet'+'eri'](_0x5b9dcd,_0x5acd25['TEXTURE_CO'+'MPARE_MODE'],_0x54cd50['_compareOn'+'Read']?_0x5acd25['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x5acd25['NONE']),_0x34e703&Wy&&_0x5acd25['texParamet'+'eri'](_0x5b9dcd,_0x5acd25['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x54cd50['_compareFu'+'nc']]),_0x34e703&qy){const _0x4762a2=this['extTexture'+'FilterAnis'+'otropic'];_0x4762a2&&_0x5acd25['texParamet'+'erf'](_0x5b9dcd,_0x4762a2['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],N['clamp'](Math['round'](_0x54cd50['_anisotrop'+'y']),0x1*-0x26e1+0x1a00+0x1*0xce2,this['maxAnisotr'+'opy']));}}['setTexture'](_0x4c191f,_0x36f3fc){const _0xcdd004=_0x4c191f['impl'];_0xcdd004['_glTexture']||_0xcdd004['initialize'](this,_0x4c191f),_0xcdd004['dirtyParam'+'eterFlags']>0x10*0x236+-0x131b*-0x1+-0x3*0x1229||_0x4c191f['_needsUplo'+'ad']||_0x4c191f['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x36f3fc),this['bindTextur'+'e'](_0x4c191f),_0xcdd004['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x4c191f),_0xcdd004['dirtyParam'+'eterFlags']=0x1a82+-0x207a*0x1+0x5f8),(_0x4c191f['_needsUplo'+'ad']||_0x4c191f['_needsMipm'+'apsUpload'])&&(_0xcdd004['upload'](this,_0x4c191f),_0x4c191f['_needsUplo'+'ad']=!(-0x53a*-0x1+0xa*0x166+0x21*-0x95),_0x4c191f['_needsMipm'+'apsUpload']=!(0x16*0x29+-0x1259+0xed4))):this['bindTextur'+'eOnUnit'](_0x4c191f,_0x36f3fc);}['createVert'+'exArray'](_0x4e0508){let _0x4a0083,_0x303600;const _0x20b20c=_0x4e0508['length']>-0x154c*0x1+0x1*0x695+0xeb8;if(_0x20b20c){_0x4a0083='';for(let _0x467c5c=0x1*-0x13f9+0x2048*0x1+-0x17*0x89;_0x467c5c<_0x4e0508['length'];_0x467c5c++){const _0x4b97d1=_0x4e0508[_0x467c5c];_0x4a0083+=_0x4b97d1['id']+_0x4b97d1['format']['renderingH'+'ash'];}_0x303600=this['_vaoMap']['get'](_0x4a0083);}if(!_0x303600){const _0x1122fb=this['gl'];_0x303600=_0x1122fb['createVert'+'exArray'](),_0x1122fb['bindVertex'+'Array'](_0x303600),_0x1122fb['bindBuffer'](_0x1122fb['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x5a7857=!(0x201f*-0x1+-0xea1+0x2ec1);for(let _0x3886a4=-0x320*-0x5+-0x401+-0x11*0xaf;_0x3886a4<_0x4e0508['length'];_0x3886a4++){const _0x262ec1=_0x4e0508[_0x3886a4];_0x1122fb['bindBuffer'](_0x1122fb['ARRAY_BUFF'+'ER'],_0x262ec1['impl']['bufferId']);const _0x16cc92=_0x262ec1['format']['elements'];for(let _0x3bbe1f=0x1ed4*0x1+-0x2077+0x1a3;_0x3bbe1f<_0x16cc92['length'];_0x3bbe1f++){const _0xdd6e4=_0x16cc92[_0x3bbe1f],_0x453cfb=ve[_0xdd6e4['name']];_0x453cfb===0xe69+-0x22ff+0x1496&&(_0x5a7857=!(0x279*-0xa+-0x20f9+0x39b3)),_0xdd6e4['asInt']?_0x1122fb['vertexAttr'+'ibIPointer'](_0x453cfb,_0xdd6e4['numCompone'+'nts'],this['glType'][_0xdd6e4['dataType']],_0xdd6e4['stride'],_0xdd6e4['offset']):_0x1122fb['vertexAttr'+'ibPointer'](_0x453cfb,_0xdd6e4['numCompone'+'nts'],this['glType'][_0xdd6e4['dataType']],_0xdd6e4['normalize'],_0xdd6e4['stride'],_0xdd6e4['offset']),_0x1122fb['enableVert'+'exAttribAr'+'ray'](_0x453cfb),_0x262ec1['format']['instancing']&&_0x1122fb['vertexAttr'+'ibDivisor'](_0x453cfb,-0x68f+0x177*-0x5+-0x4f*-0x2d);}}_0x1122fb['bindVertex'+'Array'](null),_0x1122fb['bindBuffer'](_0x1122fb['ARRAY_BUFF'+'ER'],null),_0x20b20c&&this['_vaoMap']['set'](_0x4a0083,_0x303600),_0x5a7857||v['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x303600;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x3ff183=this['gl'];let _0x3ac42d;if(this['vertexBuff'+'ers']['length']===-0x4e+-0x16e1*-0x1+-0x1692){const _0x35527f=this['vertexBuff'+'ers'][-0x50b*-0x7+-0x1d9d+0x34*-0x1c];v['assert'](_0x35527f['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x35527f['impl']['vao']||(_0x35527f['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x3ac42d=_0x35527f['impl']['vao'];}else _0x3ac42d=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x3ac42d&&(this['boundVao']=_0x3ac42d,_0x3ff183['bindVertex'+'Array'](_0x3ac42d)),this['clearVerte'+'xBuffer']();const _0x363445=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x3ff183['bindBuffer'](_0x3ff183['ELEMENT_AR'+'RAY_BUFFER'],_0x363445);}['draw'](_0x285d13,_0x7dcc00,_0x3c0838){const _0x51446f=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x13d0dc,_0x59aa48,_0x4818d1,_0x1c8d82,_0x2f3458,_0x23d125,_0x289961,_0x24ddf7;const _0x35f959=this['shader'];if(!_0x35f959)return;const _0x2f8531=_0x35f959['impl']['samplers'],_0x5c2e8e=_0x35f959['impl']['uniforms'];_0x3c0838||this['setBuffers']();let _0x4c5b5f=0x1a60+0x53*-0x7+0x181b*-0x1;for(let _0xb68bfd=-0x108e+-0x12af+0x233d,_0x33acde=_0x2f8531['length'];_0xb68bfd<_0x33acde;_0xb68bfd++){if(_0x13d0dc=_0x2f8531[_0xb68bfd],_0x59aa48=_0x13d0dc['scopeId']['value'],!_0x59aa48){const _0x52d4dd=_0x13d0dc['scopeId']['name'];v['assert'](_0x52d4dd!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),v['assert'](_0x52d4dd!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x52d4dd==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x59aa48=en(this,'white')),_0x52d4dd==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x59aa48=en(this,'pink')),_0x59aa48||(v['errorOnce']('Shader\x20'+_0x35f959['name']+'\x20requires\x20'+_0x52d4dd+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x59aa48=en(this,'pink'));}if(_0x59aa48 instanceof he)_0x4818d1=_0x59aa48,this['setTexture'](_0x4818d1,_0x4c5b5f),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<-0x2a9+0x1*-0x210d+0x23b8&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x4818d1?v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x4818d1}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x4818d1&&v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x4818d1})),_0x13d0dc['slot']!==_0x4c5b5f&&(_0x51446f['uniform1i'](_0x13d0dc['locationId'],_0x4c5b5f),_0x13d0dc['slot']=_0x4c5b5f),_0x4c5b5f++;else{_0x13d0dc['array']['length']=0x1a29+-0x1b4e+0x125*0x1,_0x1c8d82=_0x59aa48['length'];for(let _0x41d415=-0x1*-0x2551+0x11*0x139+0x9af*-0x6;_0x41d415<_0x1c8d82;_0x41d415++)_0x4818d1=_0x59aa48[_0x41d415],this['setTexture'](_0x4818d1,_0x4c5b5f),_0x13d0dc['array'][_0x41d415]=_0x4c5b5f,_0x4c5b5f++;_0x51446f['uniform1iv'](_0x13d0dc['locationId'],_0x13d0dc['array']);}}for(let _0x486dae=-0x1*-0x1bf4+-0x2*0x10c7+-0x6*-0xef,_0x524361=_0x5c2e8e['length'];_0x486dae<_0x524361;_0x486dae++)_0x2f3458=_0x5c2e8e[_0x486dae],_0x23d125=_0x2f3458['scopeId'],_0x289961=_0x2f3458['version'],_0x24ddf7=_0x23d125['versionObj'+'ect']['version'],(_0x289961['globalId']!==_0x24ddf7['globalId']||_0x289961['revision']!==_0x24ddf7['revision'])&&(_0x289961['globalId']=_0x24ddf7['globalId'],_0x289961['revision']=_0x24ddf7['revision'],_0x23d125['value']!==null&&this['commitFunc'+'tion'][_0x2f3458['dataType']](_0x2f3458,_0x23d125['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x51446f['bindBuffer'+'Base'](_0x51446f['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x159d*-0x1+-0x780+-0x1*-0x1d1d,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x51446f['beginTrans'+'formFeedba'+'ck'](_0x51446f['POINTS']));const _0x4bae7f=this['glPrimitiv'+'e'][_0x285d13['type']],_0x299d16=_0x285d13['count'];if(_0x285d13['indexed']){const _0x3b65b0=this['indexBuffe'+'r'];v['assert'](_0x3b65b0['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x46078e=_0x3b65b0['impl']['glFormat'],_0x21e9b3=_0x285d13['base']*_0x3b65b0['bytesPerIn'+'dex'];_0x7dcc00>0xe87+0xf01*0x1+-0x118*0x1b?_0x51446f['drawElemen'+'tsInstance'+'d'](_0x4bae7f,_0x299d16,_0x46078e,_0x21e9b3,_0x7dcc00):_0x51446f['drawElemen'+'ts'](_0x4bae7f,_0x299d16,_0x46078e,_0x21e9b3);}else{const _0x50c726=_0x285d13['base'];_0x7dcc00>0xd5d+0x1f*-0x47+-0x2*0x262?_0x51446f['drawArrays'+'Instanced'](_0x4bae7f,_0x50c726,_0x299d16,_0x7dcc00):_0x51446f['drawArrays'](_0x4bae7f,_0x50c726,_0x299d16);}this['transformF'+'eedbackBuf'+'fer']&&(_0x51446f['endTransfo'+'rmFeedback'](),_0x51446f['bindBuffer'+'Base'](_0x51446f['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x1121+-0xc*-0x296+-0xde7,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x285d13['type']]+=_0x285d13['count']*(_0x7dcc00>-0x457*0x3+-0x2f*0x7c+-0x23ca*-0x1?_0x7dcc00:-0x153e+-0x220c+-0x5f*-0x95);}['clear'](_0x6af539){const _0x4701a7=this['defaultCle'+'arOptions'];_0x6af539=_0x6af539||_0x4701a7;const _0x433608=_0x6af539['flags']??_0x4701a7['flags'];if(_0x433608!==-0x17e7+-0x606+-0xa3*-0x2f){const _0x212109=this['gl'];if(_0x433608&Co){const _0x1194b7=_0x6af539['color']??_0x4701a7['color'],_0x38f3ed=_0x1194b7[0x119d+0x1*0x22a3+-0x3440],_0x401dd4=_0x1194b7[-0x7f*-0x13+0xcf7*-0x1+0x38b*0x1],_0x7921eb=_0x1194b7[0x210f+-0x2f6*0x1+-0x1e17],_0x26c1ab=_0x1194b7[0x2b*-0x20+0x43f*0x1+0x124],_0xd8a664=this['clearColor'];(_0x38f3ed!==_0xd8a664['r']||_0x401dd4!==_0xd8a664['g']||_0x7921eb!==_0xd8a664['b']||_0x26c1ab!==_0xd8a664['a'])&&(this['gl']['clearColor'](_0x38f3ed,_0x401dd4,_0x7921eb,_0x26c1ab),this['clearColor']['set'](_0x38f3ed,_0x401dd4,_0x7921eb,_0x26c1ab)),this['setBlendSt'+'ate'](_t['NOBLEND']);}if(_0x433608&Mo){const _0x53512e=_0x6af539['depth']??_0x4701a7['depth'];_0x53512e!==this['clearDepth']&&(this['gl']['clearDepth'](_0x53512e),this['clearDepth']=_0x53512e),this['setDepthSt'+'ate'](as['WRITEDEPTH']);}if(_0x433608&Ah){const _0x33bfb6=_0x6af539['stencil']??_0x4701a7['stencil'];_0x33bfb6!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x33bfb6),this['clearStenc'+'il']=_0x33bfb6),_0x212109['stencilMas'+'k'](0x1*0x47f+0xf0e*0x1+0x1db*-0xa),this['stencilWri'+'teMaskFron'+'t']=0x123+0x16b1*-0x1+0x1*0x168d,this['stencilWri'+'teMaskBack']=-0x750+-0x3*0xb39+0x29fa;}_0x212109['clear'](this['glClearFla'+'g'][_0x433608]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x214143,_0x1f9163,_0x50a578,_0x2b5c62,_0x301db6){const _0xd6f585=this['gl'];_0xd6f585['readPixels'](_0x214143,_0x1f9163,_0x50a578,_0x2b5c62,_0xd6f585['RGBA'],_0xd6f585['UNSIGNED_B'+'YTE'],_0x301db6);}async['readPixels'+'Async'](_0xc03052,_0xc0f6a7,_0xb2c05e,_0x1855d7,_0x21101f){var _0x5c07a3;const _0x4adf33=this['gl'],_0x32b45a=(_0x1e63f9,_0x3a3f15)=>{const _0x5846ec=_0x4adf33['fenceSync'](_0x4adf33['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],-0x905*-0x3+0x255b+-0x406a);return this['submit'](),new Promise((_0x8af79d,_0x2681d4)=>{function _0x31d4b0(){const _0x56e895=_0x4adf33['clientWait'+'Sync'](_0x5846ec,_0x1e63f9,-0x25cb+0x2557*-0x1+0x4b22);_0x56e895===_0x4adf33['WAIT_FAILE'+'D']?(_0x4adf33['deleteSync'](_0x5846ec),_0x2681d4(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x56e895===_0x4adf33['TIMEOUT_EX'+'PIRED']?setTimeout(_0x31d4b0,_0x3a3f15):(_0x4adf33['deleteSync'](_0x5846ec),_0x8af79d());}_0x31d4b0();});},_0x392ed1=(_0x5c07a3=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0xe5*-0x29+0x1*-0x8e1+-0x1bcc):_0x5c07a3['impl'],_0x45e51e=(_0x392ed1==null?void(-0x7*0x38+-0xf03+0x108b):_0x392ed1['_glFormat'])??_0x4adf33['RGBA'],_0x1d65c9=(_0x392ed1==null?void(-0x89f*0x1+0x2618+-0x1d79):_0x392ed1['_glPixelTy'+'pe'])??_0x4adf33['UNSIGNED_B'+'YTE'],_0x41f973=_0x4adf33['createBuff'+'er']();return _0x4adf33['bindBuffer'](_0x4adf33['PIXEL_PACK'+'_BUFFER'],_0x41f973),_0x4adf33['bufferData'](_0x4adf33['PIXEL_PACK'+'_BUFFER'],_0x21101f['byteLength'],_0x4adf33['STREAM_REA'+'D']),_0x4adf33['readPixels'](_0xc03052,_0xc0f6a7,_0xb2c05e,_0x1855d7,_0x45e51e,_0x1d65c9,-0x8*0x2c5+0xa9a*0x2+0x7a*0x2),_0x4adf33['bindBuffer'](_0x4adf33['PIXEL_PACK'+'_BUFFER'],null),await _0x32b45a(0x1ce0+-0xa3*0x33+-0x1*-0x399,-0x51f+0x1318+-0xde5),_0x4adf33['bindBuffer'](_0x4adf33['PIXEL_PACK'+'_BUFFER'],_0x41f973),_0x4adf33['getBufferS'+'ubData'](_0x4adf33['PIXEL_PACK'+'_BUFFER'],-0x165*0x9+0xf*0x64+0x6b1,_0x21101f),_0x4adf33['bindBuffer'](_0x4adf33['PIXEL_PACK'+'_BUFFER'],null),_0x4adf33['deleteBuff'+'er'](_0x41f973),_0x21101f;}['readTextur'+'eAsync'](_0x511833,_0xaa5a36,_0x263757,_0x4aacb0,_0xd67ea,_0x3cc455){const _0xf867b6=_0x3cc455['face']??0x1dab+0x2117+-0x3ec2,_0x3177b6=_0x3cc455['renderTarg'+'et']??new pt({'colorBuffer':_0x511833,'depth':!(0x925+-0x1c8d+0x1*0x1369),'face':_0xf867b6});v['assert'](_0x3177b6['colorBuffe'+'r']===_0x511833);const _0x3ce383=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x4aacb0,_0xd67ea,-0x4*0x11f+0x20a+-0x39*-0xb,_0x511833['_format'])),_0x1377da=_0x3cc455['data']??new(Cy(_0x511833['_format']))(_0x3ce383);return this['setRenderT'+'arget'](_0x3177b6),this['initRender'+'Target'](_0x3177b6),new Promise((_0x227689,_0xba0747)=>{this['readPixels'+'Async'](_0xaa5a36,_0x263757,_0x4aacb0,_0xd67ea,_0x1377da)['then'](_0x56dbb0=>{_0x3cc455['renderTarg'+'et']||_0x3177b6['destroy'](),_0x227689(_0x56dbb0);})['catch'](_0xba0747);});}['setAlphaTo'+'Coverage'](_0x5a178f){this['alphaToCov'+'erage']!==_0x5a178f&&(this['alphaToCov'+'erage']=_0x5a178f,_0x5a178f?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x530563){if(this['transformF'+'eedbackBuf'+'fer']!==_0x530563){this['transformF'+'eedbackBuf'+'fer']=_0x530563;const _0x1c5fa0=this['gl'];_0x530563?(this['feedback']||(this['feedback']=_0x1c5fa0['createTran'+'sformFeedb'+'ack']()),_0x1c5fa0['bindTransf'+'ormFeedbac'+'k'](_0x1c5fa0['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x1c5fa0['bindTransf'+'ormFeedbac'+'k'](_0x1c5fa0['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x402008){this['raster']!==_0x402008&&(this['raster']=_0x402008,_0x402008?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x2c0007){if(this['stencil']!==_0x2c0007){const _0x489ad8=this['gl'];_0x2c0007?_0x489ad8['enable'](_0x489ad8['STENCIL_TE'+'ST']):_0x489ad8['disable'](_0x489ad8['STENCIL_TE'+'ST']),this['stencil']=_0x2c0007;}}['setStencil'+'Func'](_0x5eb0b0,_0x221328,_0x1d6001){(this['stencilFun'+'cFront']!==_0x5eb0b0||this['stencilRef'+'Front']!==_0x221328||this['stencilMas'+'kFront']!==_0x1d6001||this['stencilFun'+'cBack']!==_0x5eb0b0||this['stencilRef'+'Back']!==_0x221328||this['stencilMas'+'kBack']!==_0x1d6001)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x5eb0b0],_0x221328,_0x1d6001),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x5eb0b0,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x221328,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x1d6001);}['setStencil'+'FuncFront'](_0x560561,_0x1e25f9,_0x29af91){if(this['stencilFun'+'cFront']!==_0x560561||this['stencilRef'+'Front']!==_0x1e25f9||this['stencilMas'+'kFront']!==_0x29af91){const _0x383c52=this['gl'];_0x383c52['stencilFun'+'cSeparate'](_0x383c52['FRONT'],this['glComparis'+'on'][_0x560561],_0x1e25f9,_0x29af91),this['stencilFun'+'cFront']=_0x560561,this['stencilRef'+'Front']=_0x1e25f9,this['stencilMas'+'kFront']=_0x29af91;}}['setStencil'+'FuncBack'](_0x43d12b,_0x2e601b,_0x3700fa){if(this['stencilFun'+'cBack']!==_0x43d12b||this['stencilRef'+'Back']!==_0x2e601b||this['stencilMas'+'kBack']!==_0x3700fa){const _0x382d86=this['gl'];_0x382d86['stencilFun'+'cSeparate'](_0x382d86['BACK'],this['glComparis'+'on'][_0x43d12b],_0x2e601b,_0x3700fa),this['stencilFun'+'cBack']=_0x43d12b,this['stencilRef'+'Back']=_0x2e601b,this['stencilMas'+'kBack']=_0x3700fa;}}['setStencil'+'Operation'](_0x92fb8c,_0x49add4,_0x289f8c,_0x466b86){(this['stencilFai'+'lFront']!==_0x92fb8c||this['stencilZfa'+'ilFront']!==_0x49add4||this['stencilZpa'+'ssFront']!==_0x289f8c||this['stencilFai'+'lBack']!==_0x92fb8c||this['stencilZfa'+'ilBack']!==_0x49add4||this['stencilZpa'+'ssBack']!==_0x289f8c)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x92fb8c],this['glStencilO'+'p'][_0x49add4],this['glStencilO'+'p'][_0x289f8c]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x92fb8c,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x49add4,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x289f8c),(this['stencilWri'+'teMaskFron'+'t']!==_0x466b86||this['stencilWri'+'teMaskBack']!==_0x466b86)&&(this['gl']['stencilMas'+'k'](_0x466b86),this['stencilWri'+'teMaskFron'+'t']=_0x466b86,this['stencilWri'+'teMaskBack']=_0x466b86);}['setStencil'+'OperationF'+'ront'](_0x41e0bc,_0x6e915a,_0x1ba040,_0x150414){(this['stencilFai'+'lFront']!==_0x41e0bc||this['stencilZfa'+'ilFront']!==_0x6e915a||this['stencilZpa'+'ssFront']!==_0x1ba040)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x41e0bc],this['glStencilO'+'p'][_0x6e915a],this['glStencilO'+'p'][_0x1ba040]),this['stencilFai'+'lFront']=_0x41e0bc,this['stencilZfa'+'ilFront']=_0x6e915a,this['stencilZpa'+'ssFront']=_0x1ba040),this['stencilWri'+'teMaskFron'+'t']!==_0x150414&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x150414),this['stencilWri'+'teMaskFron'+'t']=_0x150414);}['setStencil'+'OperationB'+'ack'](_0xd5c39a,_0x212c07,_0x30cd9e,_0x5af4cc){(this['stencilFai'+'lBack']!==_0xd5c39a||this['stencilZfa'+'ilBack']!==_0x212c07||this['stencilZpa'+'ssBack']!==_0x30cd9e)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0xd5c39a],this['glStencilO'+'p'][_0x212c07],this['glStencilO'+'p'][_0x30cd9e]),this['stencilFai'+'lBack']=_0xd5c39a,this['stencilZfa'+'ilBack']=_0x212c07,this['stencilZpa'+'ssBack']=_0x30cd9e),this['stencilWri'+'teMaskBack']!==_0x5af4cc&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x5af4cc),this['stencilWri'+'teMaskBack']=_0x5af4cc);}['setBlendSt'+'ate'](_0x2e1252){const _0x22ee5b=this['blendState'];if(!_0x22ee5b['equals'](_0x2e1252)){const _0x34a28b=this['gl'],{blend:_0x3a4033,colorOp:_0x5fc74b,alphaOp:_0x4deade,colorSrcFactor:_0x4d7369,colorDstFactor:_0x35d2f8,alphaSrcFactor:_0x814448,alphaDstFactor:_0x4e787d}=_0x2e1252;if(_0x22ee5b['blend']!==_0x3a4033&&(_0x3a4033?_0x34a28b['enable'](_0x34a28b['BLEND']):_0x34a28b['disable'](_0x34a28b['BLEND'])),_0x22ee5b['colorOp']!==_0x5fc74b||_0x22ee5b['alphaOp']!==_0x4deade){const _0x5785f6=this['glBlendEqu'+'ation'];_0x34a28b['blendEquat'+'ionSeparat'+'e'](_0x5785f6[_0x5fc74b],_0x5785f6[_0x4deade]);}(_0x22ee5b['colorSrcFa'+'ctor']!==_0x4d7369||_0x22ee5b['colorDstFa'+'ctor']!==_0x35d2f8||_0x22ee5b['alphaSrcFa'+'ctor']!==_0x814448||_0x22ee5b['alphaDstFa'+'ctor']!==_0x4e787d)&&_0x34a28b['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x4d7369],this['glBlendFun'+'ctionColor'][_0x35d2f8],this['glBlendFun'+'ctionAlpha'][_0x814448],this['glBlendFun'+'ctionAlpha'][_0x4e787d]),_0x22ee5b['allWrite']!==_0x2e1252['allWrite']&&this['gl']['colorMask'](_0x2e1252['redWrite'],_0x2e1252['greenWrite'],_0x2e1252['blueWrite'],_0x2e1252['alphaWrite']),_0x22ee5b['copy'](_0x2e1252);}}['setBlendCo'+'lor'](_0x3bd357,_0x58a956,_0x11ac42,_0x17824d){const _0x2ba92f=this['blendColor'];(_0x3bd357!==_0x2ba92f['r']||_0x58a956!==_0x2ba92f['g']||_0x11ac42!==_0x2ba92f['b']||_0x17824d!==_0x2ba92f['a'])&&(this['gl']['blendColor'](_0x3bd357,_0x58a956,_0x11ac42,_0x17824d),_0x2ba92f['set'](_0x3bd357,_0x58a956,_0x11ac42,_0x17824d));}['setStencil'+'State'](_0x43708b,_0x5b72ab){_0x43708b||_0x5b72ab?(this['setStencil'+'Test'](!(-0xd3*0x7+-0x19a5+0x1*0x1f6a)),_0x43708b===_0x5b72ab?(this['setStencil'+'Func'](_0x43708b['func'],_0x43708b['ref'],_0x43708b['readMask']),this['setStencil'+'Operation'](_0x43708b['fail'],_0x43708b['zfail'],_0x43708b['zpass'],_0x43708b['writeMask'])):(_0x43708b??(_0x43708b=qs['DEFAULT']),this['setStencil'+'FuncFront'](_0x43708b['func'],_0x43708b['ref'],_0x43708b['readMask']),this['setStencil'+'OperationF'+'ront'](_0x43708b['fail'],_0x43708b['zfail'],_0x43708b['zpass'],_0x43708b['writeMask']),_0x5b72ab??(_0x5b72ab=qs['DEFAULT']),this['setStencil'+'FuncBack'](_0x5b72ab['func'],_0x5b72ab['ref'],_0x5b72ab['readMask']),this['setStencil'+'OperationB'+'ack'](_0x5b72ab['fail'],_0x5b72ab['zfail'],_0x5b72ab['zpass'],_0x5b72ab['writeMask']))):this['setStencil'+'Test'](!(-0x1b4a+0x722+0x1429));}['setDepthSt'+'ate'](_0x27783e){const _0x23a835=this['depthState'];if(!_0x23a835['equals'](_0x27783e)){const _0x496d1e=this['gl'],_0x4b62a4=_0x27783e['write'];_0x23a835['write']!==_0x4b62a4&&_0x496d1e['depthMask'](_0x4b62a4);let {func:_0x34b382,test:_0x2cff0d}=_0x27783e;!_0x2cff0d&&_0x4b62a4&&(_0x2cff0d=!(-0x2*0xf94+-0x103*0x9+0x2843),_0x34b382=Ai),_0x23a835['func']!==_0x34b382&&_0x496d1e['depthFunc'](this['glComparis'+'on'][_0x34b382]),_0x23a835['test']!==_0x2cff0d&&(_0x2cff0d?_0x496d1e['enable'](_0x496d1e['DEPTH_TEST']):_0x496d1e['disable'](_0x496d1e['DEPTH_TEST']));const {depthBias:_0x335fb2,depthBiasSlope:_0xa10280}=_0x27783e;_0x335fb2||_0xa10280?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0xd1c*0x1+-0x157*0x7+-0x3bb*0x1),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x496d1e['polygonOff'+'set'](_0xa10280,_0x335fb2)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(-0x8d*0xc+-0x68*0x46+-0x3e5*-0x9),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x23a835['copy'](_0x27783e);}}['setCullMod'+'e'](_0x5b2f1e){if(this['cullMode']!==_0x5b2f1e){if(_0x5b2f1e===mt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===mt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x577f07=this['glCull'][_0x5b2f1e];this['cullFace']!==_0x577f07&&(this['gl']['cullFace'](_0x577f07),this['cullFace']=_0x577f07);}this['cullMode']=_0x5b2f1e;}}['setShader'](_0x3f65b0,_0x44b61b=!(-0x12dc+-0x122a+-0x2507*-0x1)){_0x3f65b0!==this['shader']&&(this['shader']=_0x3f65b0,this['shaderAsyn'+'cCompile']=_0x44b61b,this['shaderVali'+'d']=void(0x75+-0x312*-0x5+-0xfcf),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0x2fa46b){const {shader:_0x5d78d9}=this,{impl:_0x3fc826}=_0x5d78d9;this['shaderVali'+'d']===void(0xf27+-0x12df+0x3b8)&&(_0x5d78d9['failed']?this['shaderVali'+'d']=!(0xbc7+-0x1*-0x3d5+-0xf9b):_0x5d78d9['ready']||(this['shaderAsyn'+'cCompile']?_0x3fc826['isLinked'](_0x2fa46b)?_0x3fc826['finalize'](this,_0x5d78d9)||(_0x5d78d9['failed']=!(-0x2416*0x1+0x231d+0xf9),this['shaderVali'+'d']=!(0x1b54+-0x2332+0x7df)):this['shaderVali'+'d']=!(-0x1ca3+-0x11*0x6b+0x23bf):_0x3fc826['finalize'](this,_0x5d78d9)||(_0x5d78d9['failed']=!(0x4eb*0x7+0x15a+0xd5*-0x2b),this['shaderVali'+'d']=!(-0x7*-0x342+-0x4*-0x82c+0x127f*-0x3)))),this['shaderVali'+'d']===void(-0x19ac+0x20bf+-0x713)&&(this['gl']['useProgram'](_0x3fc826['glProgram']),this['shaderVali'+'d']=!(-0x1a5e+0x9b6+0x1a*0xa4));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x8543f5=this['gl'];this['_vaoMap']['forEach']((_0xf93cb9,_0x50a755,_0x5cc74f)=>{_0x8543f5['deleteVert'+'exArray'](_0xf93cb9);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x46643b){_0x46643b?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x327dca=-0x45*0x3+0x1d12+0x593*-0x5){const _0x4087ad=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x4087ad['loseContex'+'t'](),setTimeout(()=>_0x4087ad['restoreCon'+'text'](),_0x327dca);}}let mb=-0x13c3*-0x1+0x938+0x9a9*-0x3;class lr{constructor(_0x4364f5,_0x1130d2,_0x9eb4e8,_0x7ab50a=jt,_0x2ff4b3,_0x5579e5){this['device']=_0x4364f5,this['format']=_0x1130d2,this['numIndices']=_0x9eb4e8,this['usage']=_0x7ab50a,this['id']=mb++,this['impl']=_0x4364f5['createInde'+'xBufferImp'+'l'](this,_0x5579e5);const _0x58f05d=vv[_0x1130d2];this['bytesPerIn'+'dex']=_0x58f05d,this['numBytes']=this['numIndices']*_0x58f05d,_0x2ff4b3?this['setData'](_0x2ff4b3):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x4364f5['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x236837=this['device'],_0x4d31b7=_0x236837['buffers']['indexOf'](this);_0x4d31b7!==-(0xdd5+0x647*0x6+0x27*-0x152)&&_0x236837['buffers']['splice'](_0x4d31b7,-0x2592+-0xb57+0x1875*0x2),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x236837),this['adjustVram'+'SizeTracki'+'ng'](_0x236837['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x3bbe66,_0x3a4162){v['trace'](Qx,this['id']+'\x20size:\x20'+_0x3a4162+'\x20vram.ib:\x20'+_0x3bbe66['ib']+'\x20=>\x20'+(_0x3bbe66['ib']+_0x3a4162)),_0x3bbe66['ib']+=_0x3a4162;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x57f237){return _0x57f237['byteLength']!==this['numBytes']?(v['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x57f237['byteLength']),!(-0x1ea0+0x1f68+0xc7*-0x1)):(this['storage']=_0x57f237,this['unlock'](),!(0x11b*0xb+0x1edd+-0x2b06));}['_lockTyped'+'Array'](){const _0x366904=this['lock']();return this['format']===nr?new Uint32Array(_0x366904):this['format']===Pi?new Uint16Array(_0x366904):new Uint8Array(_0x366904);}['writeData'](_0x29ffc2,_0xc796d5){const _0x51011e=this['_lockTyped'+'Array']();if(_0x29ffc2['length']>_0xc796d5){if(ArrayBuffer['isView'](_0x29ffc2))_0x29ffc2=_0x29ffc2['subarray'](-0xa14+-0x7*-0xc1+0x4cd,_0xc796d5),_0x51011e['set'](_0x29ffc2);else{for(let _0x1cf485=-0x11f5+-0x15c0+0x217*0x13;_0x1cf485<_0xc796d5;_0x1cf485++)_0x51011e[_0x1cf485]=_0x29ffc2[_0x1cf485];}}else _0x51011e['set'](_0x29ffc2);this['unlock']();}['readData'](_0x232f74){const _0x3e518f=this['_lockTyped'+'Array'](),_0x46a89e=this['numIndices'];if(ArrayBuffer['isView'](_0x232f74))_0x232f74['set'](_0x3e518f);else{_0x232f74['length']=0x1af9+-0x1c7*-0xe+-0x5c3*0x9;for(let _0x3f4c62=0x1ba1+-0xf6c+-0xc35;_0x3f4c62<_0x46a89e;_0x3f4c62++)_0x232f74[_0x3f4c62]=_0x3e518f[_0x3f4c62];}return _0x46a89e;}}class _b{constructor(){c(this,'clearValue',new Y(-0x1883*-0x1+0x2129+-0x39ac,-0xd72+-0xfeb+0x1d5d,0x2573+0x4*0x939+-0x4a57,0x3*-0x943+-0x21a9+0x3d73)),c(this,'clearValue'+'Linear',new Y(-0xf*-0x145+-0x5*-0x199+-0x1b08,0x11*-0x29+0x17fd+-0x1544,-0x1900+-0x1a0c+0x882*0x6,0xd*0x3+-0x1*-0x115b+0x1181*-0x1)),c(this,'clear',!(0x4d5*0x3+0x232e+0x31ac*-0x1)),c(this,'store',!(0x1*-0x1895+0x4*0x499+0x632)),c(this,'resolve',!(-0x2*-0x72c+0xe*-0x27b+-0x1462*-0x1)),c(this,'genMipmaps',!(-0x887+0x19*0x94+0x4*-0x17b));}}class gb{constructor(){c(this,'clearDepth'+'Value',0x10d*-0x15+-0x1bde+0x31f0),c(this,'clearStenc'+'ilValue',-0xa6d+0x1*-0x1caa+0x2717),c(this,'clearDepth',!(-0x225a*-0x1+-0x1bb9+-0x6a0)),c(this,'clearStenc'+'il',!(-0x2*-0xed4+-0x1f25+0x17e)),c(this,'storeDepth',!(0x1c5*0xa+0x83d+0x19ee*-0x1)),c(this,'resolveDep'+'th',!(-0xc49+0x3a4+0x12*0x7b)),c(this,'storeStenc'+'il',!(-0x1720+0x1c3+0x155e));}}class ds{constructor(_0x2ae696){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(-0x738*0x1+0x1*-0x2019+-0x3*-0xd1b)),c(this,'_skipStart',!(0xc2*-0x2a+-0x296*0x2+-0x1*-0x2501)),c(this,'_skipEnd',!(-0x5c9*-0x4+-0x35*0x3d+-0x1*0xa82)),c(this,'executeEna'+'bled',!(-0x26c+-0x1*-0x1e51+-0xc1*0x25)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',0x5*-0x259+0x5e2+0x5db),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(-0x10e9+0x68*0x34+0x53*-0xd)),c(this,'fullSizeCl'+'earRect',!(0xc69+0xf5*0xd+-0x18da*0x1)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(v['assert'](_0x2ae696),this['device']=_0x2ae696);}get['colorOps'](){return this['colorArray'+'Ops'][-0x277*-0x1+0x13*0x152+0x1b8d*-0x1];}set['name'](_0x1088b8){this['_name']=_0x1088b8;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x29d3c7){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x29d3c7;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x58bdae){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x58bdae;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x37d0e0){this['_options']=_0x37d0e0,_0x37d0e0&&(this['scaleX']=this['scaleX']??0x13*0x191+0xc*-0x7e+0x17da*-0x1,this['scaleY']=this['scaleY']??0x762+-0x247f+0x1*0x1d1e);}get['options'](){return this['_options'];}['init'](_0x4e8ba9=null,_0x5efe44){this['options']=_0x5efe44,this['renderTarg'+'et']=_0x4e8ba9,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],-0x253b+0x8a2+0xe*0x20b),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x1b6e1f,_0x1f977e,_0x33c7b1,_0x5cd1f7;const _0x2b7ae5=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0x2b7ae5!=null&&_0x2b7ae5['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x6d5+-0xafa+0x11cf));const _0xfe9d65=_0x2b7ae5?((_0x1b6e1f=_0x2b7ae5['_colorBuff'+'ers'])==null?void(-0x1b84+-0x4*0x88+0x1da4):_0x1b6e1f['length'])??0x1c9+-0xbfb*0x1+0xa32:0x1f*-0x57+0x2*-0x847+0x1b18;this['colorArray'+'Ops']['length']=-0x473*-0x4+0x1*-0x58f+-0xc3d;for(let _0x5a91db=-0x1db9+-0x1ab*0xb+0x3012;_0x5a91db<_0xfe9d65;_0x5a91db++){const _0x1a4cfa=new _b();this['colorArray'+'Ops'][_0x5a91db]=_0x1a4cfa,this['samples']===-0x2242*0x1+-0x48e+0x26d1&&(_0x1a4cfa['store']=!(-0x1362+-0x1f41+0x1d*0x1bf),_0x1a4cfa['resolve']=!(-0xd6b+0x1575+-0x809));const _0x1dc26b=(_0x33c7b1=(_0x1f977e=this['renderTarg'+'et'])==null?void(-0x1786+-0x79c+-0x5*-0x63a):_0x1f977e['_colorBuff'+'ers'])==null?void(-0x2*0x1229+0x1*0xeae+0x1*0x15a4):_0x33c7b1[_0x5a91db];if((_0x5cd1f7=this['renderTarg'+'et'])!=null&&_0x5cd1f7['mipmaps']&&(_0x1dc26b!=null&&_0x1dc26b['mipmaps'])){const _0x4e2ec0=ea(_0x1dc26b['_format']);_0x1a4cfa['genMipmaps']=!_0x4e2ec0;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x3d43e5=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x4e57ab=Math['floor'](_0x3d43e5['width']*this['scaleX']),_0x3550a5=Math['floor'](_0x3d43e5['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x4e57ab,_0x3550a5);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x961d1d){this['_enabled']!==_0x961d1d&&(this['_enabled']=_0x961d1d,_0x961d1d?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x40e150){const _0x323e3d=this['colorArray'+'Ops']['length'];for(let _0x3a8272=0x1979+0x2353*0x1+0x1e66*-0x2;_0x3a8272<_0x323e3d;_0x3a8272++){const _0x3e4c1b=this['colorArray'+'Ops'][_0x3a8272];_0x40e150&&(_0x3e4c1b['clearValue']['copy'](_0x40e150),_0x3e4c1b['clearValue'+'Linear']['linear'](_0x40e150)),_0x3e4c1b['clear']=!!_0x40e150;}}['setClearDe'+'pth'](_0x235c0e){_0x235c0e&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x235c0e),this['depthStenc'+'ilOps']['clearDepth']=_0x235c0e!==void(0x1d13+0x1564+-0x3277);}['setClearSt'+'encil'](_0x2e5854){_0x2e5854&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x2e5854),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x2e5854!==void(0x8e*0x35+-0x1*-0x2227+-0x3f8d);}['render'](){if(this['enabled']){const _0x17b0b4=this['device'],_0x604dac=this['renderTarg'+'et']!==void(-0x10a3*0x1+0x1688+-0x1f7*0x3);v['call'](()=>{this['log'](_0x17b0b4,_0x17b0b4['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x604dac&&!this['_skipStart']&&_0x17b0b4['startRende'+'rPass'](this),this['execute'](),_0x604dac&&!this['_skipEnd']&&_0x17b0b4['endRenderP'+'ass'](this)),this['after'](),_0x17b0b4['renderPass'+'Index']++;}}['log'](_0x4c3b9c,_0xe2c5be=-0x2393+0x21c5+0x1ce){var _0x55c8d6,_0x1bd030,_0x30b97c;if(Xs['get'](jp)||Xs['get'](Jn)){const _0x39069f=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x4c3b9c['backBuffer']:null),_0x46cfa1=!!(_0x39069f!=null&&_0x39069f['impl']['assignedCo'+'lorTexture'])||(_0x39069f==null?void(-0x2a4+0x137a+-0x1*0x10d6):_0x39069f['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x3*-0x35b+-0x134b+0x93a),_0x3017e8=((_0x55c8d6=_0x39069f==null?void(-0x1b87+-0xcdc+0x2863*0x1):_0x39069f['_colorBuff'+'ers'])==null?void(0xcd9*-0x2+-0x9*-0x139+0xeb1*0x1):_0x55c8d6['length'])??(_0x46cfa1?-0x1149+-0x10fa+0x2244:-0x13*-0x2f+-0x10cb+0x106*0xd),_0x29a736=_0x39069f==null?void(0x60e+-0x267a+0x5*0x67c):_0x39069f['depth'],_0xd9a566=_0x39069f==null?void(0x275+-0x86e*0x2+0x3*0x4cd):_0x39069f['stencil'],_0x5edaec=_0x39069f==null?void(-0xcbb*0x1+-0x42*-0x52+-0x869):_0x39069f['mipLevel'],_0x47da0c=_0x39069f?'\x20RT:\x20'+(_0x39069f?_0x39069f['name']:'NULL')+'\x20'+(_0x3017e8>0x1616+-0x1ac4+-0x257*-0x2?'[Color'+(_0x3017e8>0x5d2+-0x142*0xd+0xa89?'\x20x\x20'+_0x3017e8:'')+']':'')+(_0x29a736?'[Depth]':'')+(_0xd9a566?'[Stencil]':'')+'\x20'+_0x39069f['width']+'\x20x\x20'+_0x39069f['height']+(this['samples']>-0xc01*-0x2+-0x3da+0xd7*-0x18?'\x20samples:\x20'+this['samples']:'')+(_0x5edaec>0x85*-0x1d+0x1f7f+-0x106e?'\x20mipLevel:'+'\x20'+_0x5edaec:''):'',_0x1d82b6=this['_skipStart']?'++':_0xe2c5be['toString']()['padEnd'](-0x9b7+0x7*-0x9a+0xdef,'\x20');v['trace'](jp,_0x1d82b6+':\x20'+this['name']['padEnd'](-0x5*-0x6d0+0xebc+-0x30b8,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x47da0c['padEnd'](0x3d0+-0xd53+0x9a1));for(let _0x368a68=-0x72b+0x1*-0x52+0x9*0xd5;_0x368a68<_0x3017e8;_0x368a68++){const _0x1a03c8=this['colorArray'+'Ops'][_0x368a68],_0x6ed494=(_0x1bd030=xt['get'](_0x46cfa1?_0x4c3b9c['backBuffer'+'Format']:_0x39069f['getColorBu'+'ffer'](_0x368a68)['format']))==null?void(-0x222c+-0x287+0x24b3):_0x1bd030['name'];v['trace'](Jn,'\x20\x20\x20\x20color['+_0x368a68+']:\x20'+(_0x1a03c8['clear']?'clear':'load')+'->'+(_0x1a03c8['store']?'store':'discard')+'\x20'+(_0x1a03c8['resolve']?'resolve\x20':'')+(_0x1a03c8['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x6ed494+']\x20'+(_0x1a03c8['clear']?'[clear:\x20'+_0x1a03c8['clearValue']['toString'](!(-0x119b+-0x2441+0x35dc),!(-0x1d94+0x11d0+0xbc4))+']':''));}if(this['depthStenc'+'ilOps']){const _0xe432b0=''+(_0x39069f['depthBuffe'+'r']?'\x20[format:\x20'+((_0x30b97c=xt['get'](_0x39069f['depthBuffe'+'r']['format']))==null?void(0x1108+-0x21ba+0x10b2):_0x30b97c['name'])+']':'');_0x29a736&&v['trace'](Jn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0xe432b0+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0xd9a566&&v['trace'](Jn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0xe432b0+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x4c9c6a){this['array'][this['index']]=_0x4c9c6a;}function xb(_0x44b489,_0x1a2459){this['array'][this['index']]=_0x44b489,this['array'][this['index']+(0x1dad+-0x2a*0x3b+-0x1*0x13fe)]=_0x1a2459;}function Sb(_0x1a1ee5,_0x42ecdd,_0xf08682){this['array'][this['index']]=_0x1a1ee5,this['array'][this['index']+(0x39f+0x21c6+-0x959*0x4)]=_0x42ecdd,this['array'][this['index']+(0x1518+0x5*0x2ff+-0x2411)]=_0xf08682;}function vb(_0x8496c,_0x1f71d8,_0x13fdb1,_0x4d12d9){this['array'][this['index']]=_0x8496c,this['array'][this['index']+(-0x265e*-0x1+0x1b46+-0x9*0x74b)]=_0x1f71d8,this['array'][this['index']+(0x4c*-0x7d+-0x1434+0x3952)]=_0x13fdb1,this['array'][this['index']+(-0x1*0x4d1+-0x1*0x12db+0x17af)]=_0x4d12d9;}function bb(_0x3b32b3,_0x1a0ec5,_0x52cf21){this['array'][_0x3b32b3]=_0x1a0ec5[_0x52cf21];}function wb(_0x270335,_0x2b43ac,_0x3dc46e){this['array'][_0x270335]=_0x2b43ac[_0x3dc46e],this['array'][_0x270335+(-0x7*-0x40f+-0x2275+0x1*0x60d)]=_0x2b43ac[_0x3dc46e+(-0x33e+0xc5c+-0x91d)];}function Tb(_0x23359a,_0x180a32,_0xc1519f){this['array'][_0x23359a]=_0x180a32[_0xc1519f],this['array'][_0x23359a+(0x206c+0x132f+-0x339a)]=_0x180a32[_0xc1519f+(-0x28a*-0x5+0xff0+-0x1ca1)],this['array'][_0x23359a+(-0x1*-0x1a7e+-0xc5f*0x1+-0xe1d)]=_0x180a32[_0xc1519f+(0x20e*-0xb+-0x202+0x17*0x112)];}function Ab(_0x30c52e,_0x1d255d,_0x1c4000){this['array'][_0x30c52e]=_0x1d255d[_0x1c4000],this['array'][_0x30c52e+(-0x1bb*-0x1+-0x1361+-0x11a7*-0x1)]=_0x1d255d[_0x1c4000+(-0x1*-0x244e+-0x1382+0x3*-0x599)],this['array'][_0x30c52e+(-0x5*0x475+0xf2*0xb+0x57*0x23)]=_0x1d255d[_0x1c4000+(0x59*-0xd+0x2a3*-0x5+0x11b6)],this['array'][_0x30c52e+(-0xf5*-0xd+-0x1c00+0xf92)]=_0x1d255d[_0x1c4000+(-0x8f0+-0x83*0x43+-0x2b3c*-0x1)];}function Eb(_0x2bc3a0,_0x141378,_0x4ce918){_0x141378[_0x4ce918]=this['array'][_0x2bc3a0];}function Cb(_0x1821a0,_0x597783,_0xbc9e29){_0x597783[_0xbc9e29]=this['array'][_0x1821a0],_0x597783[_0xbc9e29+(0x2180+0x1e62+-0x3fe1)]=this['array'][_0x1821a0+(0x1a5a+-0x47c+-0x15dd)];}function Mb(_0x108efb,_0x2afcad,_0x1368c5){_0x2afcad[_0x1368c5]=this['array'][_0x108efb],_0x2afcad[_0x1368c5+(-0x94d*-0x1+-0xceb+0x39f)]=this['array'][_0x108efb+(-0xf23+-0x6df*-0x1+0x49*0x1d)],_0x2afcad[_0x1368c5+(0x1420+0x20d*0xa+-0x28a0)]=this['array'][_0x108efb+(0x35*0x97+-0x6fb*-0x1+-0x263c)];}function Pb(_0x22acbc,_0x4978ce,_0x3a8eef){_0x4978ce[_0x3a8eef]=this['array'][_0x22acbc],_0x4978ce[_0x3a8eef+(0x2650+-0x24*-0x112+-0x4cd7*0x1)]=this['array'][_0x22acbc+(0x69*-0x26+-0x8a9+0x1840)],_0x4978ce[_0x3a8eef+(-0x9*-0x3b3+-0x1aa8+-0x6a1)]=this['array'][_0x22acbc+(0x2089*-0x1+-0x1*0x23f3+0x447e)],_0x4978ce[_0x3a8eef+(-0x5b5*-0x4+-0x151*0x1+-0x4*0x560)]=this['array'][_0x22acbc+(0x1eeb+0x1df*-0x7+-0x11cf)];}class Rb{constructor(_0x357d4a,_0x9ed07e,_0x43e6a7){switch(this['index']=-0x9*0x3b+-0x1bca+0x1ddd,this['numCompone'+'nts']=_0x9ed07e['numCompone'+'nts'],_0x43e6a7['interleave'+'d']?this['array']=new da[_0x9ed07e['dataType']](_0x357d4a,_0x9ed07e['offset']):this['array']=new da[_0x9ed07e['dataType']](_0x357d4a,_0x9ed07e['offset'],_0x43e6a7['vertexCoun'+'t']*_0x9ed07e['numCompone'+'nts']),this['stride']=_0x9ed07e['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x9ed07e['numCompone'+'nts']){case 0xbc9*0x1+-0x616+-0x1e6*0x3:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case-0x22e4+-0x52f+-0x1*-0x2815:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case-0x1ce6+-0x22ea+0x3fd3:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case 0xb2f+-0x1ee6+0x1*0x13bb:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x3eb788){return this['array'][this['index']+_0x3eb788];}['set'](_0x36e0a6,_0xb548c1,_0x1e8224,_0x3dc4a0){}['getToArray'](_0x267905,_0x4c02a2,_0x576667){}['setFromArr'+'ay'](_0x2c1468,_0x3945b8,_0x516eb3){}}class go{constructor(_0x34004e){this['vertexBuff'+'er']=_0x34004e,this['vertexForm'+'atSize']=_0x34004e['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x13ea31=this['vertexBuff'+'er']['getFormat']();for(let _0xd3bd76=-0x10a8+0x22d+0xe7b;_0xd3bd76<_0x13ea31['elements']['length'];_0xd3bd76++){const _0x1ccc00=_0x13ea31['elements'][_0xd3bd76];this['accessors'][_0xd3bd76]=new Rb(this['buffer'],_0x1ccc00,_0x13ea31),this['element'][_0x1ccc00['name']]=this['accessors'][_0xd3bd76];}}['next'](_0x4e6e16=0xb12+-0x317+-0x7fa*0x1){let _0x1d9cb3=0x15e2+0xa7*0x19+0xcbb*-0x3;const _0xe2cb30=this['accessors'],_0x8ebe34=this['accessors']['length'];for(;_0x1d9cb3<_0x8ebe34;){const _0x5d96ab=_0xe2cb30[_0x1d9cb3++];_0x5d96ab['index']+=_0x4e6e16*_0x5d96ab['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x582163,_0x14a481,_0x17d198){const _0x4858f2=this['element'][_0x582163];if(_0x4858f2){_0x17d198>this['vertexBuff'+'er']['numVertice'+'s']&&(v['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x17d198+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x17d198=this['vertexBuff'+'er']['numVertice'+'s']);const _0x874d1d=_0x4858f2['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x218725=-0x5da+-0x10*-0x9f+-0x20b*0x2;for(let _0x28dbf7=0x51f*0x5+-0x3*0xb7e+0x3*0x2f5;_0x28dbf7<_0x17d198;_0x28dbf7++)_0x4858f2['setFromArr'+'ay'](_0x218725,_0x14a481,_0x28dbf7*_0x874d1d),_0x218725+=_0x4858f2['stride'];}else{if(_0x14a481['length']>_0x17d198*_0x874d1d){const _0x1a0527=_0x17d198*_0x874d1d;if(ArrayBuffer['isView'](_0x14a481))_0x14a481=_0x14a481['subarray'](-0x1956+0xd*0x13f+0x923,_0x1a0527),_0x4858f2['array']['set'](_0x14a481);else{for(let _0x129453=0x22*-0x100+-0x1*-0x19df+0x821;_0x129453<_0x1a0527;_0x129453++)_0x4858f2['array'][_0x129453]=_0x14a481[_0x129453];}}else _0x4858f2['array']['set'](_0x14a481);}}}['readData'](_0x36f2fe,_0x323cf9){const _0x40d707=this['element'][_0x36f2fe];let _0xa06cb4=0x5*0x331+-0x1ff6+-0xf1*-0x11;if(_0x40d707){_0xa06cb4=this['vertexBuff'+'er']['numVertice'+'s'];let _0x2e2925;const _0x218b27=_0x40d707['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x323cf9)&&(_0x323cf9['length']=0x9d*-0xe+0x1*0x1597+-0xd01),_0x40d707['index']=0x5*-0x7a5+0xa6+0x2593;let _0x49ee47=-0x471*0x5+0x152+0x14e3;for(_0x2e2925=0x1bd2+-0xbd3+-0xfff;_0x2e2925<_0xa06cb4;_0x2e2925++)_0x40d707['getToArray'](_0x49ee47,_0x323cf9,_0x2e2925*_0x218b27),_0x49ee47+=_0x40d707['stride'];}else{if(ArrayBuffer['isView'](_0x323cf9))_0x323cf9['set'](_0x40d707['array']);else{_0x323cf9['length']=0x1ec5*0x1+-0x19d0*-0x1+0x3895*-0x1;const _0x4f7f73=_0xa06cb4*_0x218b27;for(_0x2e2925=0x1b6+0x33*-0xa3+-0x23*-0xe1;_0x2e2925<_0x4f7f73;_0x2e2925++)_0x323cf9[_0x2e2925]=_0x40d707['array'][_0x2e2925];}}}return _0xa06cb4;}}const Im='mousedown',Dm='mousemove',Lm='mouseup',Mu='mousewheel',Ib=-(-0x31f+-0x502*0x1+-0x6*-0x15b);class Db{constructor(_0x61e171,_0x47eb58){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x47eb58&&(this['key']=_0x47eb58['keyCode'],this['element']=_0x47eb58['target'],this['event']=_0x47eb58);}}const Sl=new Db();function fd(_0x251b43){return Sl['key']=_0x251b43['keyCode'],Sl['element']=_0x251b43['target'],Sl['event']=_0x251b43,Sl;}function vl(_0x1007b5){return typeof _0x1007b5=='string'?_0x1007b5['toUpperCas'+'e']()['charCodeAt'](0x1145*-0x2+0x1*0x687+0x1c03):_0x1007b5;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class Fm extends ce{constructor(_0x223cd6,_0x28b1b3={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x223cd6&&this['attach'](_0x223cd6),this['preventDef'+'ault']=_0x28b1b3['preventDef'+'ault']||!(0x105b+0x1*-0x6a3+-0x9b7),this['stopPropag'+'ation']=_0x28b1b3['stopPropag'+'ation']||!(-0x20b8+-0x7*-0x244+0x10dd));}['attach'](_0x314c20){this['_element']&&this['detach'](),this['_element']=_0x314c20,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0x368*-0xa+0x22*-0xbb+-0x939)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(-0x1*-0x8c6+0xcd+-0x992)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0x10f*0x10+0x1f87+0xe96*-0x1)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x80+-0xd2a+0x439*0x3)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x469*-0x1+-0x12*0x96+0xef6));}['detach'](){if(!this['_element']){v['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x365*-0xb+0x7d6*-0x2+0x3b*-0x5e)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0x1*-0x176f+0x948+-0x20b6));}['toKeyIdent'+'ifier'](_0x4d730f){_0x4d730f=vl(_0x4d730f);const _0x1abb58=Lb[_0x4d730f['toString']()];if(_0x1abb58)return _0x1abb58;let _0x24a349=_0x4d730f['toString'](0x1e93+0x59*0x25+-0x2b60)['toUpperCas'+'e']();const _0x15ac01=_0x24a349['length'];for(let _0x10d9fa=-0x12*0x19b+0x1bd*0x9+0xd41*0x1;_0x10d9fa<0x3d*-0x53+-0xeea+0x6f1*0x5-_0x15ac01;_0x10d9fa++)_0x24a349='0'+_0x24a349;return'U+'+_0x24a349;}['_handleKey'+'Down'](_0x4b053e){const _0x8c0775=_0x4b053e['keyCode']||_0x4b053e['charCode'];if(_0x8c0775===void(0x1f65+-0x23e7+0x482))return;const _0x2b0fd7=this['toKeyIdent'+'ifier'](_0x8c0775);this['_keymap'][_0x2b0fd7]=!(0x10e5+-0x1*-0x1f37+-0x301c),this['fire']('keydown',fd(_0x4b053e)),this['preventDef'+'ault']&&_0x4b053e['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x4b053e['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x49a0d8){const _0x15830e=_0x49a0d8['keyCode']||_0x49a0d8['charCode'];if(_0x15830e===void(0xa85+0x8b+-0xb10))return;const _0x5650cf=this['toKeyIdent'+'ifier'](_0x15830e);delete this['_keymap'][_0x5650cf],this['fire']('keyup',fd(_0x49a0d8)),this['preventDef'+'ault']&&_0x49a0d8['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x49a0d8['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x58e43e){this['fire']('keypress',fd(_0x58e43e)),this['preventDef'+'ault']&&_0x58e43e['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x58e43e['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x43dc5f in this['_lastmap'])delete this['_lastmap'][_0x43dc5f];for(const _0x20d0b2 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x20d0b2)&&(this['_lastmap'][_0x20d0b2]=this['_keymap'][_0x20d0b2]);}['isPressed'](_0x46a111){const _0x4665d9=vl(_0x46a111),_0x2cbcc8=this['toKeyIdent'+'ifier'](_0x4665d9);return!!this['_keymap'][_0x2cbcc8];}['wasPressed'](_0x300f8e){const _0x1e0051=vl(_0x300f8e),_0x4d6278=this['toKeyIdent'+'ifier'](_0x1e0051);return!!this['_keymap'][_0x4d6278]&&!this['_lastmap'][_0x4d6278];}['wasRelease'+'d'](_0x219a95){const _0x3a7324=vl(_0x219a95),_0x11ab3b=this['toKeyIdent'+'ifier'](_0x3a7324);return!this['_keymap'][_0x11ab3b]&&!!this['_lastmap'][_0x11ab3b];}}c(Fm,'EVENT_KEYD'+'OWN','keydown'),c(Fm,'EVENT_KEYU'+'P','keyup');function Pu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x766b05,_0x20d636){c(this,'x',0x1*0x195b+-0x28f*0x4+-0xf1f),c(this,'y',-0x14a0+-0x4*-0x1f3+0xcd4),c(this,'dx',0x1*-0x23dd+-0x1108+0x34e5),c(this,'dy',-0x1e11+-0x1bf+0x1fd0),c(this,'button',Ib),c(this,'wheelDelta',-0x20dc+0x100d+0x10cf),c(this,'element'),c(this,'ctrlKey',!(-0xbc6+0x2533+-0x196c*0x1)),c(this,'altKey',!(-0x1*0x1c60+0x19a6+0x2bb)),c(this,'shiftKey',!(0xc*0x18f+-0xf85+0x197*-0x2)),c(this,'metaKey',!(0x3*-0x122+0x15d3+-0x24*0x83)),c(this,'event');let _0x5a238f={'x':0x0,'y':0x0};if(_0x20d636){if(_0x20d636 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x5a238f=_0x766b05['_getTarget'+'Coords'](_0x20d636);}else _0x20d636={};if(_0x5a238f)this['x']=_0x5a238f['x'],this['y']=_0x5a238f['y'];else{if(Pu())this['x']=-0x872+-0x521+-0x2b7*-0x5,this['y']=0x1baf+0x1bd*0x15+0x806*-0x8;else return;}_0x20d636['type']==='wheel'&&(_0x20d636['deltaY']>-0x1*-0x21df+0x13*-0xb6+0x1*-0x145d?this['wheelDelta']=0x1eb2+0x77*0x1d+-0xb*0x404:_0x20d636['deltaY']<-0xb*-0x61+0x558+0x5*-0x1e7&&(this['wheelDelta']=-(-0x8b*-0x23+0x2181*0x1+-0x3481))),Pu()?(this['dx']=_0x20d636['movementX']||_0x20d636['webkitMove'+'mentX']||_0x20d636['mozMovemen'+'tX']||0x20*0xfb+-0x1*-0x1dc5+-0x3d25,this['dy']=_0x20d636['movementY']||_0x20d636['webkitMove'+'mentY']||_0x20d636['mozMovemen'+'tY']||0x1254+0x1*0x8f+-0x12e3):(this['dx']=this['x']-_0x766b05['_lastX'],this['dy']=this['y']-_0x766b05['_lastY']),(_0x20d636['type']==='mousedown'||_0x20d636['type']==='mouseup')&&(this['button']=_0x20d636['button']),this['buttons']=_0x766b05['_buttons']['slice'](-0x5*-0xa3+0x1*0x485+-0x3da*0x2),this['element']=_0x20d636['target'],this['ctrlKey']=_0x20d636['ctrlKey']??!(-0xdcd+-0x8*0xd0+0x144e),this['altKey']=_0x20d636['altKey']??!(0xe30+0x3a1*-0x7+0x167*0x8),this['shiftKey']=_0x20d636['shiftKey']??!(-0x103e+0x23ef*0x1+0xa8*-0x1e),this['metaKey']=_0x20d636['metaKey']??!(0x6*0x114+0x110a+-0xb*0x223),this['event']=_0x20d636;}}class bl extends ce{constructor(_0x3b0bf8){super(),c(this,'_lastX',0x1143+0x3b*0x89+-0xe*0x37d),c(this,'_lastY',-0xdb5+0x1aa+0xc0b),c(this,'_buttons',[!(-0x167c*0x1+0x88a*-0x4+-0x355*-0x11),!(0xd*0xc5+0x1*0x1bbf+-0x25bf),!(0x1*0x158f+0x2*0x1279+-0x3a80)]),c(this,'_lastbutto'+'ns',[!(-0x522+-0xfd7+0x14fa),!(-0x1908+0x71d+0x4*0x47b),!(0x1294+0x1*-0x1412+0x17f*0x1)]),c(this,'_target',null),c(this,'_attached',!(-0x1*0x567+0x11*-0x8+0x130*0x5)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x29ce03=>{_0x29ce03['preventDef'+'ault']();},this['attach'](_0x3b0bf8));}static['isPointerL'+'ocked'](){return Pu();}['attach'](_0x4a6e29){if(this['_target']=_0x4a6e29,this['_attached'])return;this['_attached']=!(0x19*-0x28+-0xaed*-0x3+-0x1cdf);const _0x27daba={'passive':!(-0x212a+-0xb31*0x1+0x2c5c)},_0x5add55=ye['passiveEve'+'nts']?_0x27daba:!(-0xe09+0x63f+-0x1*-0x7cb);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x5add55),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x5add55),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x5add55),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x5add55);}['detach'](){if(!this['_attached'])return;this['_attached']=!(0xc4b+-0x10e6+0x49c),this['_target']=null;const _0x379a1b={'passive':!(0x2*0x15d+-0x1212+0xf59)},_0x2a12ab=ye['passiveEve'+'nts']?_0x379a1b:!(-0x1cf6+-0x5*0x269+-0xfa*-0x2a);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x2a12ab),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x2a12ab),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x2a12ab),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x2a12ab);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x1c264f,_0x49aefc){if(!document['body']['requestPoi'+'nterLock']){_0x49aefc&&_0x49aefc();return;}const _0x19ccd2=()=>{_0x1c264f(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x19ccd2);},_0x3fdc21=()=>{_0x49aefc(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x3fdc21);};_0x1c264f&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x19ccd2,!(-0x30d+0x17d4+0x1*-0x14c6)),_0x49aefc&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x3fdc21,!(0x6d9*0x1+0x117a+0xc29*-0x2)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x502107){if(!document['exitPointe'+'rLock'])return;const _0x3877cd=()=>{_0x502107(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x3877cd);};_0x502107&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x3877cd,!(-0xdf2+0xdbd+0x36)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x124f+0xb56+-0x1*0x1da5]=this['_buttons'][-0x1b06*-0x1+0x2171+-0x17*0x2a1],this['_lastbutto'+'ns'][-0x85c*0x3+-0x1a40+0x3355*0x1]=this['_buttons'][0x125d+-0x1792+-0x2*-0x29b],this['_lastbutto'+'ns'][0x1371+0xba9+-0x1f18]=this['_buttons'][0xc*0xc9+-0x1*-0x1d5a+-0x26c4];}['isPressed'](_0x202652){return this['_buttons'][_0x202652];}['wasPressed'](_0x3ca1eb){return this['_buttons'][_0x3ca1eb]&&!this['_lastbutto'+'ns'][_0x3ca1eb];}['wasRelease'+'d'](_0x4d1909){return!this['_buttons'][_0x4d1909]&&this['_lastbutto'+'ns'][_0x4d1909];}['_handleUp'](_0x30275e){this['_buttons'][_0x30275e['button']]=!(0x7b9*0x1+0x1*0xa36+-0x11ee);const _0xa08154=new ta(this,_0x30275e);_0xa08154['event']&&this['fire'](Lm,_0xa08154);}['_handleDow'+'n'](_0x3210dc){this['_buttons'][_0x3210dc['button']]=!(-0x65d*0x5+0x867+0x176a);const _0x4a6263=new ta(this,_0x3210dc);_0x4a6263['event']&&this['fire'](Im,_0x4a6263);}['_handleMov'+'e'](_0x38e006){const _0x3b20f4=new ta(this,_0x38e006);_0x3b20f4['event']&&(this['fire'](Dm,_0x3b20f4),this['_lastX']=_0x3b20f4['x'],this['_lastY']=_0x3b20f4['y']);}['_handleWhe'+'el'](_0xba53f6){const _0x226ce8=new ta(this,_0xba53f6);_0x226ce8['event']&&this['fire'](Mu,_0x226ce8);}['_getTarget'+'Coords'](_0x4d36dc){const _0x235cca=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x3fe244=Math['floor'](_0x235cca['left']),_0x6478b0=Math['floor'](_0x235cca['top']);return _0x4d36dc['clientX']<_0x3fe244||_0x4d36dc['clientX']>=_0x3fe244+this['_target']['clientWidt'+'h']||_0x4d36dc['clientY']<_0x6478b0||_0x4d36dc['clientY']>=_0x6478b0+this['_target']['clientHeig'+'ht']?null:{'x':_0x4d36dc['clientX']-_0x3fe244,'y':_0x4d36dc['clientY']-_0x6478b0};}}c(bl,'EVENT_MOUS'+'EMOVE',Dm),c(bl,'EVENT_MOUS'+'EDOWN',Im),c(bl,'EVENT_MOUS'+'EUP',Lm),c(bl,'EVENT_MOUS'+'EWHEEL',Mu);const be=class be{['get'](_0x188270,_0x7fe98,_0x2eb832){return typeof _0x7fe98=='function'&&(_0x2eb832=_0x7fe98,_0x7fe98={}),this['request']('GET',_0x188270,_0x7fe98,_0x2eb832);}['post'](_0x2ece94,_0x59b2e6,_0x3c0d2f,_0x193521){return typeof _0x3c0d2f=='function'&&(_0x193521=_0x3c0d2f,_0x3c0d2f={}),_0x3c0d2f['postdata']=_0x59b2e6,this['request']('POST',_0x2ece94,_0x3c0d2f,_0x193521);}['put'](_0x3fa8df,_0x7c339f,_0x28f6d4,_0x3a0592){return typeof _0x28f6d4=='function'&&(_0x3a0592=_0x28f6d4,_0x28f6d4={}),_0x28f6d4['postdata']=_0x7c339f,this['request']('PUT',_0x3fa8df,_0x28f6d4,_0x3a0592);}['del'](_0x5c08fa,_0x141598,_0x5e4391){return typeof _0x141598=='function'&&(_0x5e4391=_0x141598,_0x141598={}),this['request']('DELETE',_0x5c08fa,_0x141598,_0x5e4391);}['request'](_0x30941e,_0x16b66e,_0xaa20d8,_0x10dd8d){let _0x2c863f,_0x11b9e1,_0x191c8d,_0x521916=!(-0x3*-0x4bb+-0x30a+-0xb26);if(typeof _0xaa20d8=='function'&&(_0x10dd8d=_0xaa20d8,_0xaa20d8={}),_0xaa20d8['retry']&&(_0xaa20d8=Object['assign']({'retries':0x0,'maxRetries':0x5},_0xaa20d8)),_0xaa20d8['callback']=_0x10dd8d,_0xaa20d8['async']==null&&(_0xaa20d8['async']=!(-0x4*0x6e7+-0x2f*0x89+0x1*0x34c3)),_0xaa20d8['headers']==null&&(_0xaa20d8['headers']={}),_0xaa20d8['postdata']!=null){if(_0xaa20d8['postdata']instanceof Document)_0x191c8d=_0xaa20d8['postdata'];else{if(_0xaa20d8['postdata']instanceof FormData)_0x191c8d=_0xaa20d8['postdata'];else{if(_0xaa20d8['postdata']instanceof Object){let _0x53d6b5=_0xaa20d8['headers']['Content-Ty'+'pe'];switch(_0x53d6b5===void(0xa0a*0x2+-0x733*-0x5+0x9*-0x63b)&&(_0xaa20d8['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x53d6b5=_0xaa20d8['headers']['Content-Ty'+'pe']),_0x53d6b5){case be['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x191c8d='';let _0xc5727d=!(-0x1e79+0xd*0x139+-0x137*-0xc);for(const _0x56fda4 in _0xaa20d8['postdata'])if(_0xaa20d8['postdata']['hasOwnProp'+'erty'](_0x56fda4)){_0xc5727d?_0xc5727d=!(0x1465+0x847*-0x1+-0xc1d):_0x191c8d+='&';const _0x556d09=encodeURIComponent(_0x56fda4),_0xac0b29=encodeURIComponent(_0xaa20d8['postdata'][_0x56fda4]);_0x191c8d+=_0x556d09+'='+_0xac0b29;}break;}default:case be['ContentTyp'+'e']['JSON']:_0x53d6b5==null&&(_0xaa20d8['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['JSON']),_0x191c8d=JSON['stringify'](_0xaa20d8['postdata']);break;}}else _0x191c8d=_0xaa20d8['postdata'];}}}if(_0xaa20d8['cache']===!(0x62*-0xf+0x227e+-0xdf*0x21)){const _0x1910ef=ne();_0x2c863f=new sd(_0x16b66e),_0x2c863f['query']?_0x2c863f['query']=_0x2c863f['query']+'&ts='+_0x1910ef:_0x2c863f['query']='ts='+_0x1910ef,_0x16b66e=_0x2c863f['toString']();}_0xaa20d8['query']&&(_0x2c863f=new sd(_0x16b66e),_0x11b9e1=vh(_0x2c863f['getQuery'](),_0xaa20d8['query']),_0x2c863f['setQuery'](_0x11b9e1),_0x16b66e=_0x2c863f['toString']());const _0x196491=new XMLHttpRequest();_0x196491['open'](_0x30941e,_0x16b66e,_0xaa20d8['async']),_0x196491['withCreden'+'tials']=_0xaa20d8['withCreden'+'tials']!==void(-0xfc1*0x1+0x265a+0x1bd*-0xd)?_0xaa20d8['withCreden'+'tials']:!(0x44c+0x3cb*0x4+0xb*-0x1c5),_0x196491['responseTy'+'pe']=_0xaa20d8['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x16b66e);for(const _0x6bab07 in _0xaa20d8['headers'])_0xaa20d8['headers']['hasOwnProp'+'erty'](_0x6bab07)&&_0x196491['setRequest'+'Header'](_0x6bab07,_0xaa20d8['headers'][_0x6bab07]);_0x196491['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x30941e,_0x16b66e,_0xaa20d8,_0x196491);},_0x196491['onerror']=()=>{this['_onError'](_0x30941e,_0x16b66e,_0xaa20d8,_0x196491),_0x521916=!(-0x1*-0x108f+0x127*-0x5+-0xacc);};try{_0x196491['send'](_0x191c8d);}catch(_0x484a3d){_0x521916||_0xaa20d8['error'](_0x196491['status'],_0x196491,_0x484a3d);}return _0x196491;}['_guessResp'+'onseType'](_0x206610){const _0x578911=new sd(_0x206610),_0xaadffe=fe['getExtensi'+'on'](_0x578911['path'])['toLowerCas'+'e']();return be['binaryExte'+'nsions']['indexOf'](_0xaadffe)>=0x3*0x1+-0x9df+0x9dc?be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0xaadffe==='.json'?be['ResponseTy'+'pe']['JSON']:_0xaadffe==='.xml'?be['ResponseTy'+'pe']['DOCUMENT']:be['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x4b3b84){return[be['ContentTyp'+'e']['BASIS'],be['ContentTyp'+'e']['BIN'],be['ContentTyp'+'e']['DDS'],be['ContentTyp'+'e']['GLB'],be['ContentTyp'+'e']['MP3'],be['ContentTyp'+'e']['MP4'],be['ContentTyp'+'e']['OGG'],be['ContentTyp'+'e']['OPUS'],be['ContentTyp'+'e']['WAV']]['indexOf'](_0x4b3b84)>=0x259+0x1e6a+0x20c3*-0x1;}['_isBinaryR'+'esponseTyp'+'e'](_0x129167){return _0x129167===be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x129167===be['ResponseTy'+'pe']['BLOB']||_0x129167===be['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x3de36f,_0x4d4ae5,_0x2d56e5,_0x369f7b){if(_0x369f7b['readyState']===0x9bf+0x2667+-0x3022)switch(_0x369f7b['status']){case-0x1111+0x268c*-0x1+-0x379d*-0x1:{_0x369f7b['responseUR'+'L']&&_0x369f7b['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x3de36f,_0x4d4ae5,_0x2d56e5,_0x369f7b):this['_onError'](_0x3de36f,_0x4d4ae5,_0x2d56e5,_0x369f7b);break;}case-0xef+0x19f3*0x1+-0xc*0x205:case-0x1dd9+0x41f+0x1*0x1a83:case-0x13d9+0xd2d+-0x2*-0x3bd:case 0x3ee*0x6+0x1a8b+0x30ef*-0x1:{this['_onSuccess'](_0x3de36f,_0x4d4ae5,_0x2d56e5,_0x369f7b);break;}default:{this['_onError'](_0x3de36f,_0x4d4ae5,_0x2d56e5,_0x369f7b);break;}}}['_onSuccess'](_0x3d3d40,_0x3e3f7e,_0x2d5216,_0x236280){let _0x3a6ddc,_0x5de6e7;const _0x420f77=_0x236280['getRespons'+'eHeader']('Content-Ty'+'pe');_0x420f77&&(_0x5de6e7=_0x420f77['split'](';')[0x13*0xd1+0x42d+-0xc*0x1a4]['trim']());try{this['_isBinaryC'+'ontentType'](_0x5de6e7)||this['_isBinaryR'+'esponseTyp'+'e'](_0x236280['responseTy'+'pe'])?_0x3a6ddc=_0x236280['response']:_0x5de6e7===be['ContentTyp'+'e']['JSON']||_0x3e3f7e['split']('?')[-0x1a8a*-0x1+0x101*0xd+-0x2797]['endsWith']('.json')?_0x3a6ddc=JSON['parse'](_0x236280['responseTe'+'xt']):_0x236280['responseTy'+'pe']===be['ResponseTy'+'pe']['DOCUMENT']||_0x5de6e7===be['ContentTyp'+'e']['XML']?_0x3a6ddc=_0x236280['responseXM'+'L']:_0x3a6ddc=_0x236280['responseTe'+'xt'],_0x2d5216['callback'](null,_0x3a6ddc);}catch(_0x3b17cd){_0x2d5216['callback'](_0x3b17cd);}}['_onError'](_0x12a44b,_0x51cefb,_0x20428,_0x9f9983){if(!_0x20428['retrying']){if(_0x20428['retry']&&_0x20428['retries']<_0x20428['maxRetries']){_0x20428['retries']++,_0x20428['retrying']=!(-0x65*-0x17+0x6d1*0x3+-0x1d86);const _0x3fecb2=N['clamp'](Math['pow'](-0x1*0x69b+0x11*0x119+0xc0c*-0x1,_0x20428['retries'])*be['retryDelay'],-0x1727+-0x253f*-0x1+-0x386*0x4,_0x20428['maxRetryDe'+'lay']||0xcab+-0x36f+-0x293*-0x4);console['log'](_0x12a44b+':\x20'+_0x51cefb+'\x20-\x20Error\x20'+_0x9f9983['status']+('.\x20Retrying'+'\x20in\x20')+_0x3fecb2+'\x20ms'),setTimeout(()=>{_0x20428['retrying']=!(-0x2047+0x8e*0x6+0x4*0x73d),this['request'](_0x12a44b,_0x51cefb,_0x20428,_0x20428['callback']);},_0x3fecb2);}else _0x20428['callback'](_0x9f9983['status']===-0xcad+0x1d48+0xd*-0x147?'Network\x20er'+'ror':_0x9f9983['status'],null);}}};c(be,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(be,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(be,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(be,'retryDelay',-0x1d1c+0x9a1*-0x4+0x4404);let ls=be;const We=new ls();function Li(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class kh{constructor(_0x5db285,_0x44a649,_0x48807f={}){if(this['volume']=_0x48807f['volume']??0x219+0xb8d+0x1*-0xda5,this['loop']=_0x48807f['loop']??!(0xae6+0xfec+-0x1ad1),this['pitch']=_0x48807f['pitch']??-0x3*-0xc17+-0x20b8*-0x1+-0x44fc,this['sound']=_0x44a649,this['paused']=!(0x153b*0x1+-0x16b0+0x176),this['suspended']=!(-0x2545+0x921+0x5*0x5a1),this['manager']=_0x5db285,this['source']=null,Li()){this['startTime']=-0x289+-0x2103+0x238c,this['startOffse'+'t']=0x9b2+0x244d+-0x2dff;const _0x228327=_0x5db285['context'];this['gain']=_0x228327['createGain']();}else _0x44a649['audio']&&(this['source']=_0x44a649['audio']['cloneNode'](!(-0x192a+0x76c+0x11bf)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0x4eba35){this['loop']=_0x4eba35,this['source']&&(this['source']['loop']=_0x4eba35);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(0x1e6b+-0xb4a+-0x1321),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(-0x1*0x237a+-0x26a9+-0x5*-0xed4),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x22b+0x1*0xedd+-0x1108,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(-0xc44*0x2+0x5ad+0x12db),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](0x260b*-0x1+0x2*-0x1119+0x483d),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0x98b+-0x1a46+0x23d1,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(0xb*0x19f+-0x1e76*-0x1+0x1*-0x304a));}['stop'](){this['source']&&(this['source']['stop'](-0x1ac3+-0xf12+0x29d5),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x43428b){_0x43428b=N['clamp'](_0x43428b,-0x850+0x1*0x1dbb+-0x156b*0x1,-0xf28+0x1*-0x151f+0x2448),this['volume']=_0x43428b,this['gain']&&(this['gain']['gain']['value']=_0x43428b*this['manager']['volume']);}['setPitch'](_0x1dcd9f){this['pitch']=_0x1dcd9f,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x1dcd9f);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0xed*0x9+-0x2*0x1270+0x1*0x2d35;}['_createSou'+'rce'](){const _0x1e5b27=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x1e5b27['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x1e5b27['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Li()||Object['assign'](kh['prototype'],{'play':function(){this['source']&&(this['paused']=!(-0x9f7*-0x2+0x23b*0xc+-0x2eb1),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(-0x1809*-0x1+0x42c+0x1c35*-0x1),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(-0x11*-0xdd+0x128e+-0x213a),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x37b4bd){_0x37b4bd=N['clamp'](_0x37b4bd,0x156d+-0x1*0x4ca+0x1*-0x10a3,-0x2*-0x1048+-0xb74+-0x3*0x709),this['volume']=_0x37b4bd,this['source']&&(this['source']['volume']=_0x37b4bd*this['manager']['volume']);},'setPitch':function(_0xf9c44){this['pitch']=_0xf9c44,this['source']&&(this['source']['playbackRa'+'te']=_0xf9c44);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:0x20f2*0x1+0x11dd+-0x32cf*0x1;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=0x989+0x644*0x8+0x1*-0x1499;class Ru extends kh{constructor(_0x41afe2,_0x1b86aa,_0x194014){super(_0x41afe2,_0x1b86aa,_0x194014),this['position']=new T(),this['velocity']=new T(),Li()?this['panner']=_0x41afe2['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=-0x2f5+-0x1265+0x155b,this['rollOffFac'+'tor']=-0x2*-0x83f+0x1115*-0x1+0x4*0x26,this['distanceMo'+'del']=Ff);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x45f806){this['position']['copy'](_0x45f806);const _0x327b47=this['panner'];'positionX'in _0x327b47?(_0x327b47['positionX']['value']=_0x45f806['x'],_0x327b47['positionY']['value']=_0x45f806['y'],_0x327b47['positionZ']['value']=_0x45f806['z']):_0x327b47['setPositio'+'n']&&_0x327b47['setPositio'+'n'](_0x45f806['x'],_0x45f806['y'],_0x45f806['z']);}['getVelocit'+'y'](){return v['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x320994){v['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x320994);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x16f456){this['panner']['maxDistanc'+'e']=_0x16f456;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x4516da){this['panner']['refDistanc'+'e']=_0x4516da;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x346487){this['panner']['rolloffFac'+'tor']=_0x346487;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x3d0ad9){this['panner']['distanceMo'+'del']=_0x3d0ad9;}['_createSou'+'rce'](){const _0x4c2b81=this['manager']['context'];this['source']=_0x4c2b81['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x4c2b81['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Li()){let l=new T();const t=function(_0x2759cc,_0x5372dd,_0x177951,_0x17885d,_0x475ed2,_0x312745){l=l['sub2'](_0x2759cc,_0x5372dd);const _0x4fabe3=l['length']();if(_0x4fabe3<_0x177951)return-0x1*0x1ec+0x9*-0x357+-0x5c*-0x59;if(_0x4fabe3>_0x17885d)return-0xc68*-0x1+-0x15e2*-0x1+-0x5b7*0x6;let _0x88495=-0x9c*-0x27+0x1*-0x1337+0x48d*-0x1;return _0x312745===cc?_0x88495=-0x14b7*-0x1+0x1a66*0x1+-0xa*0x4b6-_0x475ed2*(_0x4fabe3-_0x177951)/(_0x17885d-_0x177951):_0x312745===Ff?_0x88495=_0x177951/(_0x177951+_0x475ed2*(_0x4fabe3-_0x177951)):_0x312745===cy&&(_0x88495=Math['pow'](_0x4fabe3/_0x177951,-_0x475ed2)),N['clamp'](_0x88495,0x2495+0x531*-0x3+-0x1502,0xaac+0x250b*0x1+-0xc5*0x3e);};Object['assign'](Ru['prototype'],{'setPosition':function(_0x2aa89c){if(this['position']['copy'](_0x2aa89c),this['source']){const _0x4e46ac=this['manager']['listener']['getPositio'+'n'](),_0x5138f1=t(_0x4e46ac,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x453c1c=this['getVolume']();this['source']['volume']=_0x453c1c*_0x5138f1;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x3528fa){this['maxDistanc'+'e']=_0x3528fa;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0xe01316){this['minDistanc'+'e']=_0xe01316;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x3ccc57){this['rollOffFac'+'tor']=_0x3ccc57;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x3f9234){this['distanceMo'+'del']=_0x3f9234;}});}class Ob{constructor(_0x4aefa7){c(this,'_manager'),c(this,'position',new T()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x4aefa7;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x15c358){this['position']['copy'](_0x15c358);const _0x53809c=this['listener'];_0x53809c&&('positionX'in _0x53809c?(_0x53809c['positionX']['value']=_0x15c358['x'],_0x53809c['positionY']['value']=_0x15c358['y'],_0x53809c['positionZ']['value']=_0x15c358['z']):_0x53809c['setPositio'+'n']&&_0x53809c['setPositio'+'n'](_0x15c358['x'],_0x15c358['y'],_0x15c358['z']));}['setOrienta'+'tion'](_0x5b3ce3){this['orientatio'+'n']['copy'](_0x5b3ce3);const _0x18a2ba=this['listener'];if(_0x18a2ba){const _0x3981ba=_0x5b3ce3['data'];'forwardX'in _0x18a2ba?(_0x18a2ba['forwardX']['value']=-_0x3981ba[-0x4ed+-0xb5*-0x8+0xb3*-0x1],_0x18a2ba['forwardY']['value']=-_0x3981ba[-0x1699+-0x8ab+0xa6f*0x3],_0x18a2ba['forwardZ']['value']=-_0x3981ba[0x3*-0x8+0x1d45+0x1*-0x1d23],_0x18a2ba['upX']['value']=_0x3981ba[0x3*0x369+-0x18e1+0xeaa],_0x18a2ba['upY']['value']=_0x3981ba[-0x1*-0x16b7+0x239+0x1*-0x18eb],_0x18a2ba['upZ']['value']=_0x3981ba[0x1f74+-0x8eb+-0x1683]):_0x18a2ba['setOrienta'+'tion']&&_0x18a2ba['setOrienta'+'tion'](-_0x3981ba[-0x713*0x4+0x9*-0x382+0x3be6],-_0x3981ba[-0xa04+-0xa*-0x13f+-0x269],-_0x3981ba[0xd2a+-0x1*-0x22ae+-0x2fce],_0x3981ba[0xf1c+0x1e14+-0x2d2c],_0x3981ba[0x2070+-0xc7f+-0x13ec],_0x3981ba[-0x11*0x23b+-0xec7+0x38*0xf1]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x3cd7b8=this['_manager']['context'];return _0x3cd7b8?_0x3cd7b8['listener']:null;}}const wl='running',Om=['click','touchstart','mousedown'];class kb extends ce{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||v['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0x1eb*0x3+-0x1609*0x1+0x1049),this['listener']=new Ob(this),this['_volume']=0xb87*-0x2+0x15c5*0x1+0x3*0x6e;}set['volume'](_0x5a9c1f){_0x5a9c1f=N['clamp'](_0x5a9c1f,0x2642+-0x2*0x544+-0x1bba,0x53*0x20+0xe57*0x1+-0x18b6),this['_volume']=_0x5a9c1f,this['fire']('volumechan'+'ge',_0x5a9c1f);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==wl&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x1945*-0x1+0x7fa*-0x1+0x213f),this['_context']&&this['_context']['state']===wl&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0xd92+-0x24a9+-0x2*-0xb8c),this['_context']&&this['_context']['state']!==wl&&this['_resume']());}['destroy'](){var _0xf203f6;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0xf203f6=this['_context'])==null||_0xf203f6['close'](),this['_context']=null);}['playSound'](_0x2bc371,_0x365096={}){let _0x55145c=null;return kh&&(_0x55145c=new kh(this,_0x2bc371,_0x365096),_0x55145c['play']()),_0x55145c;}['playSound3'+'d'](_0x2a481c,_0x33705b,_0x389d49={}){let _0x13139e=null;return Ru&&(_0x13139e=new Ru(this,_0x2a481c,_0x389d49),_0x13139e['setPositio'+'n'](_0x33705b),_0x389d49['volume']&&_0x13139e['setVolume'](_0x389d49['volume']),_0x389d49['loop']&&_0x13139e['setLoop'](_0x389d49['loop']),_0x389d49['maxDistanc'+'e']&&_0x13139e['setMaxDist'+'ance'](_0x389d49['maxDistanc'+'e']),_0x389d49['minDistanc'+'e']&&_0x13139e['setMinDist'+'ance'](_0x389d49['minDistanc'+'e']),_0x389d49['rollOffFac'+'tor']&&_0x13139e['setRollOff'+'Factor'](_0x389d49['rollOffFac'+'tor']),_0x389d49['distanceMo'+'del']&&_0x13139e['setDistanc'+'eModel'](_0x389d49['distanceMo'+'del']),_0x13139e['play']()),_0x13139e;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x5a93d8=this['_context']['createBuff'+'erSource']();_0x5a93d8['buffer']=this['_context']['createBuff'+'er'](0xd0e+-0x1*0x1126+0x419,0x2633+-0x1*0xedf+-0x1753*0x1,this['_context']['sampleRate']),_0x5a93d8['connect'](this['_context']['destinatio'+'n']),_0x5a93d8['start'](-0x55a+0x1ed4*-0x1+0x16*0x1a5),_0x5a93d8['onended']=_0x4c702d=>{_0x5a93d8['disconnect'](0x309*-0xb+-0x371*-0x8+0x1*0x5db),this['fire']('resume');};},_0x5e18d2=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x5e18d2);})['catch'](_0x353605=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x353605);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x59bc61=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x59bc61);})['catch'](_0x14d7c1=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x14d7c1);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==wl&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x434cee=>{window['addEventLi'+'stener'](_0x434cee,this['_unlockHan'+'dlerFunc'],!(-0x1b97+0x1aa3*-0x1+0x363b));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x76f073=>{window['removeEven'+'tListener'](_0x76f073,this['_unlockHan'+'dlerFunc'],!(0xc19+-0x1607*0x1+0x9ef));});}}class Bb{constructor(_0x4d0e1c){c(this,'audio'),c(this,'buffer'),_0x4d0e1c instanceof Audio?this['audio']=_0x4d0e1c:this['buffer']=_0x4d0e1c;}get['duration'](){let _0x3edebf=0x94e+-0x1041+0x6f3*0x1;return this['buffer']?_0x3edebf=this['buffer']['duration']:this['audio']&&(_0x3edebf=this['audio']['duration']),_0x3edebf||0x607+0x7*0x542+-0x55*0x81;}}const Pt=-0x37a*0x8+0x237*0x9+-0x7e1*-0x1,sa=-0x1*-0x6eb+-0x1d73+-0x3*-0x783,ws=-0x21ad+-0x6*-0x622+-0x31d;function Rt(_0xc61332,_0x57f73c){return _0xc61332%_0x57f73c||0x1bf*-0x1+-0x1118+0x173*0xd;}class ss extends ce{constructor(_0x185c43,_0x3c283b,_0x3cdf30){super(),c(this,'source',null),(this['_manager']=_0x185c43,this['_volume']=_0x3cdf30['volume']!==void(-0x1*0x1edf+0x9*0x2ce+-0x5a1*-0x1)?N['clamp'](Number(_0x3cdf30['volume'])||-0x179b+-0xd83+0x128f*0x2,0x1*-0x1b42+0x140b+0x1*0x737,-0x3*0xc5f+-0x9*-0x2b7+0xcaf):0xb13+-0x1be6+0x10d4,this['_pitch']=_0x3cdf30['pitch']!==void(-0xe50*-0x1+0x5a2+-0x13f2)?Math['max'](0x15a3+0x2eb*0x6+-0x38f*0xb+0.01,Number(_0x3cdf30['pitch'])||-0xea2+-0x2629+0x9f*0x55):-0x1217+-0xdf*0x1b+0x299d,this['_loop']=!!(_0x3cdf30['loop']!==void(0x242*-0x10+-0x7*-0x526+0x16)&&_0x3cdf30['loop']),this['_sound']=_0x3c283b,this['_state']=ws,this['_suspended']=!(-0x28a+0x8*0x2f8+-0x1535),this['_suspendEn'+'dEvent']=0x1bf*0x7+-0xb07+0x99*-0x2,this['_suspendIn'+'stanceEven'+'ts']=!(0x52*0x48+0x16ef+-0x2dfe),this['_playWhenL'+'oaded']=!(-0x1aca+0x2535+-0xa6b),this['_startTime']=Math['max'](-0x1*-0x99b+-0xf71+0x5d6,Number(_0x3cdf30['startTime'])||0xff9+-0xb*-0x151+-0x1e74),this['_duration']=Math['max'](0xd76+0x25*0xa3+-0x2505,Number(_0x3cdf30['duration'])||0x1ff*-0xd+-0xb*-0x6d+-0x1*-0x1544),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x3cdf30['onPlay'],this['_onPauseCa'+'llback']=_0x3cdf30['onPause'],this['_onResumeC'+'allback']=_0x3cdf30['onResume'],this['_onStopCal'+'lback']=_0x3cdf30['onStop'],this['_onEndCall'+'back']=_0x3cdf30['onEnd'],Li()?(this['_startedAt']=-0x17b6+0x19ba+-0x204,this['_currentTi'+'me']=-0x3*0xbf5+-0x15c0+-0x95*-0x63,this['_currentOf'+'fset']=0x19a7+-0x1086+-0x29*0x39,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x18*-0x58+-0xe9+0x92a),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x9af*-0x2+0x6c2+0xc9d),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x16eb2e){if(!(_0x16eb2e<-0x2428+0x4*-0xb7+0x2704)){if(this['_state']===Pt){const _0x293a86=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x1d38+-0x2*-0x860+0xc78),this['stop'](),this['_startOffs'+'et']=_0x16eb2e,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x293a86;}else this['_startOffs'+'et']=_0x16eb2e,this['_currentTi'+'me']=_0x16eb2e;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===sa?this['_currentTi'+'me']:this['_state']===ws||!this['source']?-0xfd2+0x1e6f+-0x57*0x2b:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x9550a3){this['_duration']=Math['max'](0x1449+0x163f+-0x1*0x2a88,Number(_0x9550a3)||-0x1*-0xb5+-0x4ea+0x435*0x1);const _0x12dc7a=this['_state']===Pt;this['stop'](),_0x12dc7a&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Rt(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0x44f*-0x7+-0x426+0x1*-0x1a03;}get['isPaused'](){return this['_state']===sa;}get['isPlaying'](){return this['_state']===Pt;}get['isStopped'](){return this['_state']===ws;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0xf8b3be){this['_loop']=!!_0xf8b3be,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x56375f){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x56375f)||0x40d*0x1+0xcd9+-0x10e6,0x95f*-0x4+0x59f*-0x5+0x4197+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x20ee83){this['_sound']=_0x20ee83,this['_state']!==ws?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x3f7246){this['_startTime']=Math['max'](0x1f69+-0xb3d+-0x50b*0x4,Number(_0x3f7246)||-0x2c8*0xb+-0x25*0xfb+0x11*0x3ef);const _0x4c3652=this['_state']===Pt;this['stop'](),_0x4c3652&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x43b6eb){_0x43b6eb=N['clamp'](_0x43b6eb,-0x1c01+0x528+0x16d9,0x17*0x133+0x1d1d+-0x38b1),this['_volume']=_0x43b6eb,this['gain']&&(this['gain']['gain']['value']=_0x43b6eb*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>0x1*-0x8a5+-0x3*0x464+0x15d1){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Pt&&!this['_suspended']&&(this['_suspended']=!(-0x25*0xee+-0x1d3c+0xcba*0x5),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(-0x1*0x257+0x3cf+0x5*-0x4b),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==ws&&this['stop'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x2*-0xebf+-0xa66+0x27e5),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x1b93+0xac8*0x3+0x7a*-0xa):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x56*0x2b+0x94*-0x26+0x246a),!(-0x14f*-0x1+-0xdf*-0x1+-0x22d)):(this['_playAudio'+'Immediate'](),!(0xd7d*-0x1+-0x37*0x25+0x1570));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x10d*-0x5+0x2218+0x1*-0x2758),this['_state']!==Pt)return;this['source']||this['_createSou'+'rce']();let _0x17565b=Rt(this['_startOffs'+'et'],this['duration']);_0x17565b=Rt(this['_startTime']+_0x17565b,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x1d95+0x2209*0x1+-0x3f9e,_0x17565b,this['_duration']):this['source']['start'](-0x121+-0x1d7+0x28*0x13,_0x17565b),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0x1b2c*-0x1+0xbc9+0xf63,this['_currentOf'+'fset']=_0x17565b,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(-0x1f0d+0xdf9+0x1115),this['_state']!==Pt?!(0xd3f+0x17*0x65+-0x1651):(this['_state']=sa,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x1982+0x142+0xc*-0x23b),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0x5d1*0x1+-0x85e+0xe2f*0x1));}['resume'](){if(this['_state']!==sa)return!(0x1778+0x1*0x8cd+0xa*-0x33a);let _0xf5111b=this['currentTim'+'e'];return this['_state']=Pt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0xf5111b=Rt(this['_startOffs'+'et'],this['duration']),_0xf5111b=Rt(this['_startTime']+_0xf5111b,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x238b+0x1*0x415+-0x27a0,_0xf5111b,this['_duration']):this['source']['start'](0x4ab+0xe5e+0x1*-0x1309,_0xf5111b),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0xf5111b,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0x18d*-0x11+0x6*-0x4da+0x2*0x160),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x2fe*0x3+-0x89*-0xf+0xf3);}['stop'](){if(this['_playWhenL'+'oaded']=!(0x2051*0x1+-0x1976+-0x6da*0x1),this['_state']===ws)return!(-0x1*-0x1df+0x18f8+-0x1e*0xe5);const _0x5cd200=this['_state']===Pt;return this['_state']=ws,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=0x4ee*-0x3+0x23c9+-0x14ff,this['_currentTi'+'me']=-0x2063*-0x1+0x8*-0x3f5+-0xbb,this['_currentOf'+'fset']=-0x2609+0x89*0x11+0x1cf0,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x5cd200&&this['source']&&this['source']['stop'](-0x3*0xc77+0x52*-0x45+0x3b7f),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0x1a9e+0x1*-0x91f+-0x117f);}['setExterna'+'lNodes'](_0x48b891,_0x524b4d){if(!_0x48b891){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x524b4d||(_0x524b4d=_0x48b891);const _0xa118f9=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x48b891&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0xa118f9),this['_firstNode']=_0x48b891,this['_connector'+'Node']['connect'](_0x48b891)),this['_lastNode']!==_0x524b4d&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0xa118f9),this['_lastNode']=_0x524b4d,this['_lastNode']['connect'](_0xa118f9));}['clearExter'+'nalNodes'](){const _0x3bb163=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x3bb163),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x3bb163);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0xfc876d=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0xfc876d['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Rt(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Rt(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Rt((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Pt&&(this['source']['stop'](0x28d+0x26db+0x8*-0x52d),this['source']=null);}}c(ss,'EVENT_PLAY','play'),c(ss,'EVENT_PAUS'+'E','pause'),c(ss,'EVENT_RESU'+'ME','resume'),c(ss,'EVENT_STOP','stop'),c(ss,'EVENT_END','end'),Li()||(Object['assign'](ss['prototype'],{'play':function(){return this['_state']!==ws&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x223f+-0x19ed*0x1+0x851*-0x1):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x5ae+-0xf69+0x9bc),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x13ea+-0x186b+0x481));},'pause':function(){return!this['source']||this['_state']!==Pt?!(0x85*-0x38+-0x2d3*-0x2+0x1773):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x724*0x4+0x1*-0x1afb+0x4*-0x65),this['_state']=sa,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x7dc*0x2+-0x290+0x1248));},'resume':function(){return!this['source']||this['_state']!==sa?!(-0x2f+0x1*-0xbc2+0xbf2):(this['_state']=Pt,this['_playWhenL'+'oaded']=!(0xe9*-0x17+-0x870+-0x178*-0x14),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x24d6+0xb24+0x19b2));},'stop':function(){return!this['source']||this['_state']===ws?!(-0x21d0+0x1*-0x240b+0x45dc):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x1e9*-0x9+-0x1*0x1471+-0x341*-0x1),this['_state']=ws,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0x216+-0x1*0x1179+-0x1*-0x138f));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x20bf+0x1a40+-0x3aff);let _0x255ed5=Rt(this['_startOffs'+'et'],this['duration']);_0x255ed5=Rt(this['_startTime']+_0x255ed5,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x255ed5;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(-0x13*-0x4+-0x65e+0x1*0x613),this['source']=this['_sound']['audio']['cloneNode'](!(-0x14*-0x1c0+-0x31*-0xcb+-0x49*0x103)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Rt(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Rt(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ss['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x2304fa){_0x2304fa=N['clamp'](_0x2304fa,-0x925*-0x1+-0x22b9+0x1994,-0x4*0x792+0x2e1*0x8+0x741),this['_volume']=_0x2304fa,this['source']&&(this['source']['volume']=_0x2304fa*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ss['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x1bf514){this['_pitch']=Math['max'](Number(_0x1bf514)||0x1a39+-0x86*0xd+-0x1*0x136b,-0x22bd+0x13*-0x14f+0x3b9a+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ss['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x19cea0){this['stop'](),this['_sound']=_0x19cea0;}}),Object['defineProp'+'erty'](ss['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ws||!this['source']?0x1d06+-0x1e99+0x193:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x2d409b){_0x2d409b<0x1bdc+-0x15a8+-0x4*0x18d||(this['_startOffs'+'et']=_0x2d409b,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Rt(this['_startTime']+Rt(_0x2d409b,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=0xf*-0x313+-0x2937+0x7e64*0x1;class jn extends ss{constructor(_0x17873b,_0x5af20f,_0x4566bb={}){super(_0x17873b,_0x5af20f,_0x4566bb),c(this,'_position',new T()),c(this,'_velocity',new T()),(_0x4566bb['position']&&(this['position']=_0x4566bb['position']),this['maxDistanc'+'e']=_0x4566bb['maxDistanc'+'e']!==void(0x239d+-0x25d4+-0x3*-0xbd)?Number(_0x4566bb['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x4566bb['refDistanc'+'e']!==void(-0xd24*0x2+-0x1*0x11bf+0x11*0x297)?Number(_0x4566bb['refDistanc'+'e']):0x11*0x202+0xbe3*-0x1+0x3*-0x76a,this['rollOffFac'+'tor']=_0x4566bb['rollOffFac'+'tor']!==void(-0x1757+0x13f5+0x362)?Number(_0x4566bb['rollOffFac'+'tor']):-0xe12*0x1+0x7*0x211+-0x64,this['distanceMo'+'del']=_0x4566bb['distanceMo'+'del']!==void(0x1595+0x1668+-0x2bfd)?_0x4566bb['distanceMo'+'del']:cc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x4cd324){this['_position']['copy'](_0x4cd324);const _0x567a48=this['panner'];'positionX'in _0x567a48?(_0x567a48['positionX']['value']=_0x4cd324['x'],_0x567a48['positionY']['value']=_0x4cd324['y'],_0x567a48['positionZ']['value']=_0x4cd324['z']):_0x567a48['setPositio'+'n']&&_0x567a48['setPositio'+'n'](_0x4cd324['x'],_0x4cd324['y'],_0x4cd324['z']);}get['position'](){return this['_position'];}set['velocity'](_0x188180){v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x188180);}get['velocity'](){return v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x29a96f){this['panner']['maxDistanc'+'e']=_0x29a96f;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x121c50){this['panner']['refDistanc'+'e']=_0x121c50;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x5d6f20){this['panner']['rolloffFac'+'tor']=_0x5d6f20;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x16ec06){this['panner']['distanceMo'+'del']=_0x16ec06;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Li()){let l=new T();const t=function(_0x40df7a,_0x3afc19,_0x1c8422,_0x174fe9,_0x1b588a,_0x3fe536){l=l['sub2'](_0x40df7a,_0x3afc19);const _0x10f08d=l['length']();if(_0x10f08d<_0x1c8422)return-0x1*-0x35e+0xb96+-0xef3;if(_0x10f08d>_0x174fe9)return 0x1530+0x1cf4+-0x3224;let _0x38beae=0x203d*-0x1+0x1caf+0xe*0x41;return _0x3fe536===cc?_0x38beae=0x4b7*0x8+0x14*0x179+-0x432b-_0x1b588a*(_0x10f08d-_0x1c8422)/(_0x174fe9-_0x1c8422):_0x3fe536===Ff?_0x38beae=_0x1c8422/(_0x1c8422+_0x1b588a*(_0x10f08d-_0x1c8422)):_0x3fe536===cy&&(_0x38beae=Math['pow'](_0x10f08d/_0x1c8422,-_0x1b588a)),N['clamp'](_0x38beae,0x3a0*-0x2+-0x1*-0x1f8d+-0x184d,-0x1*-0x117e+-0x6*-0x147+0x1927*-0x1);};Object['defineProp'+'erty'](jn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x2ab318){if(this['_position']['copy'](_0x2ab318),this['source']){const _0x14cb9e=this['_manager']['listener']['getPositio'+'n'](),_0x518b2d=t(_0x14cb9e,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x1a10aa=this['volume'];this['source']['volume']=_0x1a10aa*_0x518b2d*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](jn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0xf78031){this['_maxDistan'+'ce']=_0xf78031;}}),Object['defineProp'+'erty'](jn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x165aaf){this['_refDistan'+'ce']=_0x165aaf;}}),Object['defineProp'+'erty'](jn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x134d0a){this['_rollOffFa'+'ctor']=_0x134d0a;}}),Object['defineProp'+'erty'](jn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x4f8c46){this['_distanceM'+'odel']=_0x4f8c46;}});}const n0=-0xb0d+-0xa5e+0x1*0x156b,yp=0x192*-0x7+0x5*0x10f+0x16d*0x4,Kt=-0x1a*0x3a+0xf*0x103+-0x13*0x7d,is=0x124*-0x1d+0xf08+-0xc9*-0x17,hr=0x1090+-0x1431+0x3a5*0x1,xp=0x39*0x14+-0x1*-0xb8d+-0xffc,Hc=-0xcc*0x8+0x319*-0x5+-0x1*-0x15e3,a0=0x2*0x81e+-0x1b00+-0x9*-0x133,o0=-0x1f2b+0x8fa*-0x4+0x1a3*0x29,l0=0x4*-0x736+-0x9d*-0xa+0x16bf,h0=0x1db9+0x1d63+-0x3b12,Fa='none',zb='linear',Sp=0x13f*0x15+-0x10d7*-0x2+-0x3bd7,Ub=-0x2227+-0xaff+-0x1693*-0x2,Vb=0x1*0xc87+0x104+-0xd89,c0=-0x8dc*-0x2+0x1*0x1e7e+0x15*-0x24b,Fi=0x18*-0xb4+0x150*-0x8+0xdb*0x20,Xt=-0x10e3+-0x1332+0x2416*0x1,vp=0x61b+-0x1fa5+0x198c,bp=-0x21e+0x232b+-0x210a*0x1,tl=-0x1ee8+0x5b0+0x22*0xbe,oe=0x2*-0xff9+-0x52+-0x14*-0x19d,Pe=0xc4f*-0x3+0x1ba9+-0x71*-0x15,Re=-0xc07*0x1+0x219c+-0x1593,yt=-0x9d*0x10+0x209+-0x1*-0x7c7,Gb=-0x1*-0x37f+0x6*0x2a+-0x47a,Hb=-0xc9d*-0x3+0x1*-0x7c9+0xc*-0x281,$b=-0x1a5*-0xb+-0x3*-0x5+-0x1223,wp=0x1c7c+-0x14a5+-0x9*0xdf,Wb=0x1d97+0x7a9*0x3+0x1*-0x3491,Dt=0x1aed+-0x2*-0x441+-0x2f*0xc1,Hr=0x14d2+0x1367+-0x91*0x47,$r=0x20ab*-0x1+-0x4*-0x2f1+-0x14ea*-0x1,lh=-0x84f*-0x2+0x248d*-0x1+-0x13f3*-0x1,Bh=0x1aab*-0x1+-0x223f+0x3cef,Ts=0x8df+0x1d*0x12+-0xae3,Nh=-0x1ffc+-0x1472*0x1+0xd*0x409,zh=0x4de*-0x5+-0x1ba1+-0x30f*-0x11,Iu=-0x4*-0x6da+0xa70+-0x25cf*0x1,ir=new Map([[Bh,{'name':'PCF1_32F','format':Ci,'pcf':!(0xce7+0x1*0xd33+-0x1a1a)}],[Dt,{'name':'PCF3_32F','format':Ci,'pcf':!(-0x1*-0x1a3e+-0xc86+-0xdb8)}],[lh,{'name':'PCF5_32F','format':Ci,'pcf':!(0x1*0x14e5+0x2b3*-0xc+0xb7f)}],[Nh,{'name':'PCF1_16F','format':la,'pcf':!(0x10c9*0x1+0xa*0x335+-0x30db*0x1)}],[zh,{'name':'PCF3_16F','format':la,'pcf':!(0x2*-0x4f4+-0x1*0xe2f+0x1817)}],[Iu,{'name':'PCF5_16F','format':la,'pcf':!(0x1*0x5a7+0x1695+-0x1c3c)}],[Hr,{'name':'VSM_16F','format':Je,'vsm':!(-0x16fa+0x4ef*-0x7+-0x1*-0x3983)}],[$r,{'name':'VSM_32F','format':Ke,'vsm':!(-0x140d+0x69b+-0x2*-0x6b9)}],[Ts,{'name':'PCSS_32F','format':Ii,'pcss':!(0x308*0x2+-0x676*-0x1+-0x7*0x1ca)}]]),Tp=0x80+0x1*0x723+0x7a2*-0x1,Du=-0x1*-0x131b+-0x2*0x25b+0x1*-0xe65,d0=-0x1bcc+0x1e94+0x164*-0x2,Vs=0xf70*0x1+0x24b*0x3+0x1*-0x1651,qb=0x1996+-0x1*-0x8ee+-0x2283,Uh=0x1*-0xc6d+0x1*-0x5f2+0x125f,Xb=-0x1528+-0x21d7*-0x1+-0x21d*0x6,Gs=0x3*0x24+-0x2*-0x204+-0x474,ua=0x2*0x1282+0x69d*0x5+-0x4614,yo=0x2544+-0x5*-0x71d+0x1847*-0x3,Dr=-0x1273+0x56a+0xd0a,Tl=-0x124a+0x189*0x1+0x7*0x265,u0=0x1e9b+0x1eec+-0x3d87,jb=-0xbee+-0xf9a+0x1b89,km='mul',sl=-0xa4*-0xb+0x382*-0x4+0x6fc,hh=-0x5*0xdf+0xc7*0x2b+-0x1d11,Yb={[sl]:'NONE',[hh]:'SRGB'},Ap=0x2b*-0x6+-0x21d1+0x22d3,aF=-0x2594+0x40f+0x10c3*0x2,oF=-0x4d*0x33+-0x45d+-0x692*-0x3,lF=-0x1*-0x191+0x7*-0x2c2+0x11c0,hF=0x690+-0x2039+0x19ad,cF=0x1dfa+0xca1*0x2+-0x3737,f0=-0xe2e+-0x21c6+-0x6*-0x7ff,p0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=0x1235*-0x2+0x1aff+-0x96b*-0x1,Bo=0x68a+-0x2029+0x19a0,Lu=0x1cd7+-0x74b*-0x1+-0x88*0x44,Ep=0xd7d+0x97+-0xe13,$c=0x24da+0x21*0x3+-0xc69*0x3,m0=-0xa0a*-0x3+0x1b1b+-0x65*0x91,_0=-0xfe*0x2+0x46*-0x6d+0x1*0x1fd2,g0=-0x2103+0x1*-0x16ae+0x37c1,Wc=-0x37f*-0x6+-0x1d43+0x869,Fu=0x1d*-0xf6+-0x106e+0x2*0x1646,y0=0x4*0x38a+-0x2*0x134+-0xb40,Cp=-0x32*0xb3+0x6*0xca+0xe*0x23b,Mp=0x12a8+-0xe82*-0x1+-0x1f2a,qc=0xd*-0xcd+0x1e73+-0x100a,Xc=-0x917+-0x1361+0x6*0x614,x0=0x3*-0xbfb+-0xb*0x323+0x5672,jc=0x2b9c+-0x184d*-0x2+0x2a*-0x16f,Ou=0x671d+0xb*-0x3ab+-0x4*-0x4f,Ps=0x67*-0x44+0x88c+0x12d*0x10,cn=-0xcd8+-0x6*-0x7a+0x9fd*0x1,Pp=-0x1*0xfc9+-0xb75+0x1b40,Ei=0x1ade+-0x8b*0x1d+-0xb1f,ku=-0x1471+0x48+0xa15*0x2,hs=-0xa*-0x29c+-0x2047*-0x1+-0x3a5e,cr=0x241c+0x2cd+-0x26e7,rr=-0x1*0x1aaa+-0xb5*0x29+-0x1*-0x37ab,gn=-0x20b4+-0x2b*-0x61+0x1069,il=0x1c77+-0x3*-0xadd+-0x3d0d,rl=-0x2413+0xf68+0x14ad,Oa=-0xf0b*-0x1+0x8e*0x3c+-0x8*0x60a,Rp=-0x548+-0x6c4+0xc10,Ti=-0x843+-0x5d2+0x67*0x23,nt=0x831+-0x47*0x50+-0x1*-0xe00,Qe=-0x203f+-0x3*0xc39+0xb*0x644,ch=0xa3*-0x21+0x1*0xfd1+-0xb*-0x79,Al=0x2*0x6b5+0x2*-0xf47+0x1124,dh=0x495+-0x7*0x209+-0x4d5*-0x2,Zb=0xbc*-0x35+-0x1*0x2205+-0x2479*-0x2,Qb=-0x90d*-0x1+0x1c71+-0x257c,Bm=-0x21e2+-0x2f*0xbe+0x44c7,Jb=0x84b*-0x2+-0x1646+0x26e0,ew=0x21e0+-0xc76+0x1*-0x1565,Ip=-0x1*0x171e+0x55*0xa+0x13cc,Bu=0x8*0x2b4+0x1*-0x2677+0x10d8,pe=0x2*0xd3d+-0x1*-0x2705+-0x417f,ke=-0x4*-0x6b2+-0x1e7c*0x1+0x3b5,xo='infinite',tw='box',sw='dome',Rs='none',Nm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Yc{constructor(_0xb16487,_0x3496d4,_0x52d682){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Dh]=_0xb16487,this['bindGroupF'+'ormats'][Dh]=_0x3496d4,this['vertexForm'+'at']=_0x52d682);}['hasUniform'](_0x1d7ae4){for(let _0x144a42=0x2049+-0x1710+-0x939;_0x144a42<this['uniformFor'+'mats']['length'];_0x144a42++){const _0x4a14b9=this['uniformFor'+'mats'][_0x144a42];if(_0x4a14b9!=null&&_0x4a14b9['get'](_0x1d7ae4))return!(-0x7d9*0x1+-0x1*0x5de+0xdb7);}return!(-0x896+0x517*-0x4+0x1*0x1cf3);}['hasTexture'](_0x1b0418){for(let _0x28968d=0x4*-0x6ce+0x5*0x185+0x139f;_0x28968d<this['bindGroupF'+'ormats']['length'];_0x28968d++){const _0x4add92=this['bindGroupF'+'ormats'][_0x28968d];if(_0x4add92!=null&&_0x4add92['getTexture'](_0x1b0418))return!(0xc55+0x7de+0x1433*-0x1);}return!(-0x259*0x7+0x1343+-0x2d3);}['getVertexE'+'lement'](_0x54b5b0){var _0x11c2f3;return(_0x11c2f3=this['vertexForm'+'at'])==null?void(0x1424+-0x773+0x9*-0x169):_0x11c2f3['elements']['find'](_0x3ee25d=>_0x3ee25d['name']===_0x54b5b0);}['generateKe'+'y'](_0x958873){var _0x341717;let _0x87bcc6=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x958873['isWebGPU']&&(_0x87bcc6+=(_0x341717=this['vertexForm'+'at'])==null?void(-0x6*-0x4f4+0xc77+-0x2a2f):_0x341717['shaderProc'+'essingHash'+'String']),_0x87bcc6;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',Ow='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),kw='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',S0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',$w='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',v0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),Ww='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atSHVS\x22\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22gspl'+'atSourceVS'+'\x22\x0a#include'+'\x20\x22gsplatCe'+'nterVS\x22\x0a#i'+'nclude\x20\x22gs'+'platCorner'+'VS\x22\x0a#inclu'+'de\x20\x22gsplat'+'OutputVS\x22\x0a'+'\x0a//\x20modify'+'\x20the\x20gauss'+'ian\x20corner'+'\x20so\x20it\x20exc'+'ludes\x20gaus'+'sian\x20regio'+'ns\x20with\x20al'+'pha\x0a//\x20les'+'s\x20than\x201/2'+'55\x0avoid\x20cl'+'ipCorner(i'+'nout\x20Splat'+'Corner\x20cor'+'ner,\x20float'+'\x20alpha)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'clip\x20=\x20min'+'(1.0,\x20sqrt'+'(-log(1.0\x20'+'/\x20255.0\x20/\x20'+'alpha))\x20/\x20'+'2.0);\x0a\x20\x20\x20\x20'+'corner.off'+'set\x20*=\x20cli'+'p;\x0a\x20\x20\x20\x20cor'+'ner.uv\x20*=\x20'+'clip;\x0a}\x0a\x0a/'+'/\x20spherica'+'l\x20Harmonic'+'s\x0a\x0a#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x0a#define\x20S'+'H_C1\x200.488'+'6025119029'+'199f\x0a\x0a#if\x20'+'SH_BANDS\x20>'+'\x201\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_0\x201.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_1\x20-1.0925'+'4843059207'+'92f\x0a\x20\x20\x20\x20#d'+'efine\x20SH_C'+'2_2\x200.3153'+'9156525252'+'005f\x0a\x20\x20\x20\x20#'+'define\x20SH_'+'C2_3\x20-1.09'+'2548430592'+'0792f\x0a\x20\x20\x20\x20'+'#define\x20SH'+'_C2_4\x200.54'+'6274215296'+'0396f\x0a#end'+'if\x0a\x0a#if\x20SH'+'_BANDS\x20>\x202'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_0'+'\x20-0.590043'+'5899266435'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'1\x202.890611'+'442640554f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_2'+'\x20-0.457045'+'7994644658'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_')+('3\x200.373176'+'3325901154'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'4\x20-0.45704'+'5799464465'+'8f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C3'+'_5\x201.44530'+'5721320277'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'6\x20-0.59004'+'3589926643'+'5f\x0a#endif\x0a'+'\x0a//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+'ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'vec3\x20evalS'+'H(in\x20Splat'+'Source\x20sou'+'rce,\x20in\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'[SH_COEFFS'+'];\x0a\x20\x20\x20\x20flo'+'at\x20scale;\x0a'+'\x20\x20\x20\x20readSH'+'Data(sourc'+'e,\x20sh,\x20sca'+'le);\x0a\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'dir.x;\x0a\x20\x20\x20'+'\x20float\x20y\x20='+'\x20dir.y;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20//\x201st'+'\x20degree\x0a\x20\x20'+'\x20\x20vec3\x20res'+'ult\x20=\x20SH_C'+'1\x20*\x20(-sh[0'+']\x20*\x20y\x20+\x20sh'+'[1]\x20*\x20z\x20-\x20'+'sh[2]\x20*\x20x)'+';\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20//\x202nd'+'\x20degree\x0a\x20\x20'+'\x20\x20float\x20xx'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20floa'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20fl'+'oat\x20xy\x20=\x20x'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20yz\x20='+'\x20y\x20*\x20z;\x0a\x20\x20'+'\x20\x20float\x20xz'+'\x20=\x20x\x20*\x20z;\x0a'+'\x0a\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[3]\x20*'+'\x20(SH_C2_0\x20'+'*\x20xy)\x20*\x20\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[4]\x20*\x20(SH'+'_C2_1\x20*\x20yz'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[5]\x20*\x20'+'(SH_C2_2\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[6]\x20*'+'\x20(SH_C2_3\x20'+'*\x20xz)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[7'+']\x20*\x20(SH_C2'+'_4\x20*\x20(xx\x20-'+'\x20yy));\x0a#en'+'dif\x0a\x0a#if\x20S'+'H_BANDS\x20>\x20'+'2\x0a\x20\x20\x20\x20//\x203'+'rd\x20degree\x0a'+'\x20\x20\x20\x20result'+'\x20+=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20\x20*'+'\x20(SH_C3_0\x20')+('*\x20y\x20*\x20(3.0'+'\x20*\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[9]\x20\x20'+'*\x20(SH_C3_1'+'\x20*\x20xy\x20*\x20z)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[10]\x20*\x20'+'(SH_C3_2\x20*'+'\x20y\x20*\x20(4.0\x20'+'*\x20zz\x20-\x20xx\x20'+'-\x20yy))\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'11]\x20*\x20(SH_'+'C3_3\x20*\x20z\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x203.0\x20*\x20x'+'x\x20-\x203.0\x20*\x20'+'yy))\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[12'+']\x20*\x20(SH_C3'+'_4\x20*\x20x\x20*\x20('+'4.0\x20*\x20zz\x20-'+'\x20xx\x20-\x20yy))'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[13]\x20*\x20'+'(SH_C3_5\x20*'+'\x20z\x20*\x20(xx\x20-'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20*\x20(SH_C'+'3_6\x20*\x20x\x20*\x20'+'(xx\x20-\x203.0\x20'+'*\x20yy));\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20res'+'ult\x20*\x20scal'+'e;\x0a}\x0a#endi'+'f\x0a'),hT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),cT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),dT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),uT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),fT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',pT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20A\x20=\x20dot('+'gaussianUV'+',\x20gaussian'+'UV);\x0a\x20\x20\x20\x20i'+'f\x20(A\x20>\x201.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20alpha\x0a'+'\x20\x20\x20\x20medium'+'p\x20float\x20al'+'pha\x20=\x20exp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+'Color.a;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20PICK_PASS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(alpha\x20<'+'\x200.3)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20uColor;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(alpha\x20<\x20'+'1.0\x20/\x20255.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dis'+'card;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20opa'+'cityDither'+'(alpha,\x20id'+'\x20*\x200.013);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(gauss'+'ianColor.x'+'yz\x20*\x20alpha'+',\x20alpha);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',mT='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),_T='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',gT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x0a\x20\x20\x20'+'\x20if(margin'+'al\x20>\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.w\x20*=\x20m'+'arginal;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20spherica'+'l\x20harmonic'+'s\x0a\x20\x20\x20\x20#if\x20'+'SH_BANDS\x20>'+'\x200\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20the\x20mo'+'del-space\x20'+'view\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'ize(center'+'.view\x20*\x20ma'+'t3(center.'+'modelView)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.xyz\x20+'+'=\x20evalSH(s'+'ource,\x20dir'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20c'+'lipCorner('+'corner,\x20cl'+'r.w);\x0a\x0a\x20\x20\x20'+'\x20//\x20pointC'+'loudMode\x0a\x20'+'\x20\x20\x20if\x20(poi'+'ntCloudMod'+'eEnabled\x20='+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20write\x20ou'+'tput\x0a\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20center.'+'proj\x20+\x20vec'+'4(corner.o'+'ffset,\x200,\x20'+'0);\x0a\x20\x20\x20\x20ga'+'ussianUV\x20='+'\x20corner.uv'+';\x0a\x20\x20\x20\x20gaus'+'sianColor\x20'+'=\x20vec4(pre'+'pareOutput'+'FromGamma('+'max(clr.xy'+'z,\x200.0)),\x20'+'clr.w);\x0a\x20\x20'+'\x20\x20gaussian'+'Color\x20=\x20cl'+'amp(gaussi'+'anColor,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20id\x20=\x20fl'+'oat(source'+'.id);\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a'),yT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),xT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',ST='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',vT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',bT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',wT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',TT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),ET='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',CT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',MT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),PT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',RT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',IT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',DT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),FT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),kT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',BT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',NT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',zT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),UT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',GT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',$T='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',WT='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',qT='\x0a',XT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',jT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',YT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',KT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',ZT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',QT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',eA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',tA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),sA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',nA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',aA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),oA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',lA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),hA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',cA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',dA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',uA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',fA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',pA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',mA='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',_A='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),gA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',yA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',xA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',vA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),bA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',wA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',TA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',AA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',EA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',CA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),MA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',PA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',RA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',IA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',DA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',LA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',FA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',kA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',BA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',NA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',zA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',UA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',VA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',HA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',$A='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',WA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),XA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',jA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',YA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',KA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),ZA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+S0+'\x0a'+v0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),QA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),JA='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),eE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),tE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),iE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20Φ\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),rE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),nE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),aE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),oE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),lE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),hE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',cE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),dE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),uE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),fE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',pE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',mE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',_E='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',gE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',xE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',SE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',vE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',bE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',wE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',TE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',AE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',EE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',CE='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',ME='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',RE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',FE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),kE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',NE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',zE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',UE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',VE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',GE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',HE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',X={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':Ow,'cubeMapProjectBoxPS':kw,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':S0,'emissivePS':$w,'encodePS':v0,'endPS':Ww,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':Jy,'gles3VS':e0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':dT,'gsplatColorVS':oT,'gsplatCommonVS':lT,'gsplatCompressedDataVS':hT,'gsplatCompressedSHVS':cT,'gsplatDataVS':uT,'gsplatOutputVS':fT,'gsplatPS':pT,'gsplatSHVS':mT,'gsplatSourceVS':_T,'gsplatVS':gT,'iridescenceDiffractionPS':yT,'iridescencePS':xT,'iridescenceThicknessPS':ST,'iorPS':vT,'lightDiffuseLambertPS':bT,'lightDirPointPS':wT,'lightmapAddPS':TT,'lightmapDirAddPS':AT,'lightmapDirPS':ET,'lightmapSinglePS':CT,'lightSpecularAnisoGGXPS':MT,'lightSpecularBlinnPS':PT,'lightSheenPS':RT,'linearizeDepthPS':IT,'litShaderArgsPS':DT,'ltcPS':LT,'metalnessPS':FT,'metalnessModulatePS':kT,'msdfPS':OT,'msdfVS':BT,'normalVS':NT,'normalCoreVS':zT,'normalDetailMapPS':UT,'normalMapPS':VT,'normalXYPS':GT,'normalXYZPS':HT,'opacityPS':$T,'opacityDitherPS':WT,'outputPS':qT,'outputAlphaPS':XT,'outputAlphaOpaquePS':jT,'outputAlphaPremulPS':YT,'outputTex2DPS':KT,'sheenPS':ZT,'sheenGlossPS':QT,'parallaxPS':JT,'particlePS':eA,'particleVS':tA,'particleAnimFrameClampVS':sA,'particleAnimFrameLoopVS':iA,'particleAnimTexVS':rA,'particleInputFloatPS':nA,'particleInputRgba8PS':aA,'particleOutputFloatPS':oA,'particleOutputRgba8PS':lA,'particleUpdaterAABBPS':hA,'particleUpdaterEndPS':cA,'particleUpdaterInitPS':dA,'particleUpdaterNoRespawnPS':uA,'particleUpdaterOnStopPS':fA,'particleUpdaterRespawnPS':pA,'particleUpdaterSpherePS':mA,'particleUpdaterStartPS':_A,'particle_billboardVS':gA,'particle_blendAddPS':yA,'particle_blendMultiplyPS':xA,'particle_blendNormalPS':SA,'particle_cpuVS':vA,'particle_cpu_endVS':bA,'particle_customFaceVS':wA,'particle_endPS':TA,'particle_endVS':AA,'particle_halflambertPS':EA,'particle_initVS':CA,'particle_lambertPS':MA,'particle_lightingPS':PA,'particle_localShiftVS':RA,'particle_meshVS':IA,'particle_normalVS':DA,'particle_normalMapPS':LA,'particle_pointAlongVS':FA,'particle_softPS':OA,'particle_softVS':kA,'particle_stretchVS':BA,'particle_TBNVS':NA,'particle_wrapVS':zA,'pickPS':UA,'reflDirPS':VA,'reflDirAnisoPS':GA,'reflectionCCPS':HA,'reflectionCubePS':$A,'reflectionEnvHQPS':WA,'reflectionEnvPS':qA,'reflectionSpherePS':XA,'reflectionSheenPS':jA,'refractionCubePS':YA,'refractionDynamicPS':KA,'reprojectPS':ZA,'sampleCatmullRomPS':QA,'screenDepthPS':JA,'shadowCascadesPS':eE,'shadowEVSMPS':tE,'shadowEVSMnPS':sE,'shadowPCSSPS':iE,'shadowSampleCoordPS':rE,'shadowSoftPS':nE,'shadowStandardPS':aE,'shadowStandardGL2PS':oE,'shadowVSM_commonPS':lE,'skinBatchVS':hE,'skinVS':cE,'skyboxPS':dE,'skyboxVS':uE,'specularPS':fE,'sphericalPS':pE,'specularityFactorPS':mE,'spotPS':_E,'startPS':gE,'startVS':yE,'startNineSlicedPS':xE,'startNineSlicedTiledPS':SE,'storeEVSMPS':vE,'tangentBinormalVS':bE,'TBNPS':wE,'TBNderivativePS':TE,'TBNObjectSpacePS':AE,'thicknessPS':EE,'tonemappingPS':CE,'tonemappingAcesPS':ME,'tonemappingAces2PS':PE,'tonemappingFilmicPS':RE,'tonemappingHejlPS':IE,'tonemappingLinearPS':DE,'tonemappingNeutralPS':LE,'tonemappingNonePS':FE,'transformVS':OE,'transformCoreVS':kE,'transformInstancingVS':BE,'transmissionPS':NE,'twoSidedLightingPS':zE,'uv0VS':UE,'uv1VS':VE,'viewDirPS':GE,'viewNormalVS':HE,'webgpuPS':t0,'webgpuVS':s0},b0=new Ot();function ka(_0x5f5b7f){const _0xdfb25a=b0['get'](_0x5f5b7f);return v['assert'](_0xdfb25a),_0xdfb25a;}function $E(_0x2510ce,_0x2412cb){v['assert'](_0x2412cb),b0['get'](_0x2510ce,()=>_0x2412cb);}class It{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x1b38a5){const _0x5ef4dd=Array['from'](_0x1b38a5)['sort']((_0x5e04ed,_0x4b9066)=>_0x5e04ed[0xb0f*-0x3+0x1557+0xbd6]>_0x4b9066[-0x18*0x179+0x1*-0x6c5+0x1*0x2a1d]?-0x1b6e+0x180a+0x365:-(0x12b2+0x1*0xc89+-0x1f3a));return hn(JSON['stringify'](_0x5ef4dd));}}const WE=new Ot();class qE{constructor(_0x53f79e,_0x575bd0,_0x261030={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(v['assert'](/^[a-z]\w*$/i['test'](_0x53f79e),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x53f79e),this['name']=_0x53f79e,this['index']=_0x575bd0,Object['assign'](this,_0x261030),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x3b7d03;this['isShadow']?_0x3b7d03='SHADOW':this['isForward']?_0x3b7d03='FORWARD':this['index']===rl?_0x3b7d03='DEPTH':this['index']===Oa&&(_0x3b7d03='PICK'),this['defines']['set'](_0x3b7d03+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Ks{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',0x6dc+-0x1b9f+0x14c3);const _0x3a9edd=(_0x4d9f05,_0x118bd1,_0x4d6da8)=>{const _0x1f067c=this['allocate'](_0x4d9f05,_0x4d6da8);v['assert'](_0x1f067c['index']===_0x118bd1);};_0x3a9edd('forward',gn,{'isForward':!(-0xaa*-0x1b+-0x60d*0x1+0x1*-0xbe1)}),_0x3a9edd('prepass',il),_0x3a9edd('depth',rl),_0x3a9edd('pick',Oa),_0x3a9edd('shadow',Rp);}static['get'](_0x191ecf){return v['assert'](_0x191ecf),WE['get'](_0x191ecf,()=>new Ks());}['allocate'](_0x2a0e4b,_0x243804){let _0x476a60=this['passesName'+'d']['get'](_0x2a0e4b);return _0x476a60===void(-0x1*-0x1369+-0x4b*-0x7f+-0x389e)&&(_0x476a60=new qE(_0x2a0e4b,this['nextIndex'],_0x243804),this['passesName'+'d']['set'](_0x476a60['name'],_0x476a60),this['passesInde'+'xed'][_0x476a60['index']]=_0x476a60,this['nextIndex']++),_0x476a60;}['getByIndex'](_0x172b49){const _0x33d55a=this['passesInde'+'xed'][_0x172b49];return v['assert'](_0x33d55a),_0x33d55a;}['getByName'](_0xd81472){return this['passesName'+'d']['get'](_0xd81472);}}function Is(_0x3e1815,_0xd54b27,_0x79a55e,_0x1bfb5e,_0x2f9dfb,_0x3091c=!(0x1*0x1edf+0x11d3+-0x115*0x2d),_0x531bcd={}){v['assert'](!(-0x1ef1*-0x1+-0x23cb+-0x3*-0x19e)),typeof _0x3091c=='boolean'?_0x531bcd['useTransfo'+'rmFeedback']=_0x3091c:typeof _0x3091c=='object'&&(_0x531bcd={..._0x531bcd,..._0x3091c});const _0x36d611=ka(_0x3e1815);let _0x32abb7=_0x36d611['getCachedS'+'hader'](_0x1bfb5e);return _0x32abb7||(_0x32abb7=new i0(_0x3e1815,Mt['createDefi'+'nition'](_0x3e1815,{..._0x531bcd,'name':_0x1bfb5e,'vertexCode':_0xd54b27,'fragmentCode':_0x79a55e,'attributes':_0x2f9dfb})),_0x36d611['setCachedS'+'hader'](_0x1bfb5e,_0x32abb7)),_0x32abb7;}class XE extends It{constructor(_0x5f1c0f,_0x258fb7){super(),this['key']=_0x5f1c0f,this['shaderDefi'+'nition']=_0x258fb7;}['generateKe'+'y'](_0xd062e2){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x36e70f,_0x59dd0e){return this['shaderDefi'+'nition'];}}function jE(_0x48e454,_0x40dbc1){v['assert'](_0x48e454);const _0x15a570=_0x48e454['definition'],_0x31717a=(_0x15a570['name']??'shader')+'-id-'+_0x48e454['id'],_0x1c1e55=new XE(_0x31717a,_0x15a570),_0x196e1c='shader',_0x3cf2a8=ka(_0x48e454['device']);v['assert'](!_0x3cf2a8['isRegister'+'ed'](_0x196e1c)),_0x3cf2a8['register'](_0x196e1c,_0x1c1e55);const _0xa2f616=_0x3cf2a8['getProgram'](_0x196e1c,{},_0x40dbc1);return _0x48e454['definition']['shaderLang'+'uage']===Ph&&(_0xa2f616['meshUnifor'+'mBufferFor'+'mat']=_0x15a570['meshUnifor'+'mBufferFor'+'mat'],_0xa2f616['meshBindGr'+'oupFormat']=_0x15a570['meshBindGr'+'oupFormat']),_0x3cf2a8['unregister'](_0x196e1c),_0xa2f616;}const Dp=(_0x2c686e,_0x29dc41)=>{const _0xeecd80=new Map(_0x2c686e['defines']);return _0x29dc41['cameraShad'+'erParams']['defines']['forEach']((_0x37d992,_0x508b0e)=>_0xeecd80['set'](_0x508b0e,_0x37d992)),Ks['get'](_0x29dc41['device'])['getByIndex'](_0x29dc41['pass'])['defines']['forEach']((_0x3c5ac9,_0x59c34f)=>_0xeecd80['set'](_0x59c34f,_0x3c5ac9)),_0xeecd80;},YE={'type':ar,'base':0x0,'count':0x4,'indexed':!(-0x5fc+0xb6b*-0x3+0x25e*0x11)},Va=new Q(),Ga=new Q(),pd=new Yy();class Nu{constructor(_0x1b0a11){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x93c38a=_0x1b0a11['device'];if(this['shader']=_0x1b0a11,v['assert'](_0x1b0a11),_0x93c38a['supportsUn'+'iformBuffe'+'rs']){const _0x5aac3d=new Yc();this['shader']=jE(_0x1b0a11,_0x5aac3d);const _0x26f065=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x26f065&&(this['uniformBuf'+'fer']=new gp(_0x93c38a,_0x26f065,!(0x416*0x1+-0x509*0x3+0xb06)));const _0x57f6fd=this['shader']['meshBindGr'+'oupFormat'];v['assert'](_0x57f6fd),this['bindGroup']=new mp(_0x93c38a,_0x57f6fd),mn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x204efb,_0x11a852;(_0x204efb=this['uniformBuf'+'fer'])==null||_0x204efb['destroy'](),this['uniformBuf'+'fer']=null,(_0x11a852=this['bindGroup'])==null||_0x11a852['destroy'](),this['bindGroup']=null;}['render'](_0x94cbf0,_0xc33aa3){const _0x25653c=this['shader']['device'];G['pushGpuMar'+'ker'](_0x25653c,'QuadRender'),_0x94cbf0&&(Va['set'](_0x25653c['vx'],_0x25653c['vy'],_0x25653c['vw'],_0x25653c['vh']),Ga['set'](_0x25653c['sx'],_0x25653c['sy'],_0x25653c['sw'],_0x25653c['sh']),_0xc33aa3=_0xc33aa3??_0x94cbf0,_0x25653c['setViewpor'+'t'](_0x94cbf0['x'],_0x94cbf0['y'],_0x94cbf0['z'],_0x94cbf0['w']),_0x25653c['setScissor'](_0xc33aa3['x'],_0xc33aa3['y'],_0xc33aa3['z'],_0xc33aa3['w'])),_0x25653c['setVertexB'+'uffer'](_0x25653c['quadVertex'+'Buffer'],-0x52*-0x61+0x1c13*-0x1+-0xd*0x3b);const _0x56f040=this['shader'];if(_0x25653c['setShader'](_0x56f040),_0x25653c['supportsUn'+'iformBuffe'+'rs']){_0x25653c['setBindGro'+'up'](Dh,_0x25653c['emptyBindG'+'roup']);const _0x29f74a=this['bindGroup'];_0x29f74a['update'](),_0x25653c['setBindGro'+'up'](Xy,_0x29f74a);const _0xa916e2=this['uniformBuf'+'fer'];_0xa916e2?(_0xa916e2['update'](pd),_0x25653c['setBindGro'+'up'](Eu,pd['bindGroup'],pd['offsets'])):_0x25653c['setBindGro'+'up'](Eu,_0x25653c['emptyBindG'+'roup']);}_0x25653c['draw'](YE),_0x94cbf0&&(_0x25653c['setViewpor'+'t'](Va['x'],Va['y'],Va['z'],Va['w']),_0x25653c['setScissor'](Ga['x'],Ga['y'],Ga['z'],Ga['w'])),G['popGpuMark'+'er'](_0x25653c);}}class KE extends ds{constructor(_0x15d0de,_0x424645,_0x2bc4f5,_0x23b0ed){super(_0x15d0de),this['quad']=_0x424645,this['rect']=_0x2bc4f5,this['scissorRec'+'t']=_0x23b0ed;}['execute'](){const {device:_0x5d4201}=this;G['pushGpuMar'+'ker'](_0x5d4201,this['name']+':'+this['quad']['shader']['name']),_0x5d4201['setCullMod'+'e'](mt),_0x5d4201['setDepthSt'+'ate'](as['NODEPTH']),_0x5d4201['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x5d4201);}}const ZE=new Q();function dn(_0x2d8d37,_0x5ac74b,_0x178e1b,_0x59fc26,_0x409de2){v['assert'](_0x5ac74b!==void(-0x4*-0x503+0x1313+-0x271f));const _0x3c5ebd=arguments[0xdcf+-0x1145*0x1+0x37b];v['call'](()=>{_0x3c5ebd!==void(0x1*0xeca+-0x18d0+-0x2*-0x503)&&v['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x2123f5=new Nu(_0x178e1b);_0x59fc26||(_0x59fc26=ZE,_0x59fc26['x']=0x29c+0x95*0x2f+0x9fd*-0x3,_0x59fc26['y']=0x5*-0x32b+-0xab1+0x1a88,_0x59fc26['z']=_0x5ac74b?_0x5ac74b['width']:_0x2d8d37['width'],_0x59fc26['w']=_0x5ac74b?_0x5ac74b['height']:_0x2d8d37['height']);const _0x3b862c=new KE(_0x2d8d37,_0x2123f5,_0x59fc26,_0x409de2);_0x3b862c['init'](_0x5ac74b),_0x3b862c['colorOps']['clear']=!(0x1e3*-0x6+-0x23be+0x2f11),_0x3b862c['depthStenc'+'ilOps']['clearDepth']=!(-0x21c8+-0x789+-0x6*-0x6e3),_0x2d8d37['isWebGPU']&&_0x5ac74b===null&&_0x2d8d37['samples']>0x1*0x455+-0x359*-0x7+-0x1bc3&&(_0x3b862c['colorOps']['store']=!(-0x1*0x22f+-0x145*0x18+0x20a7)),_0x3b862c['render'](),_0x2123f5['destroy']();}class zm{constructor(_0x57fef6,_0x448184,_0x5337e8){c(this,'_aabb',new _e()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x57fef6,this['dynamic']=_0x448184,this['batchGroup'+'Id']=_0x5337e8);}['destroy'](_0x1f45db,_0x415d64){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x1f45db,_0x415d64),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x591fb9,_0x5743d4){for(let _0x47f03e=0x1fc2*0x1+0xa2e*0x1+0x2c*-0xf4;_0x47f03e<_0x5743d4['length'];_0x47f03e++){const _0x39fb6a=_0x591fb9['layers']['getLayerBy'+'Id'](_0x5743d4[_0x47f03e]);_0x39fb6a&&_0x39fb6a['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x4bc90f,_0x27cd04){for(let _0x4aff1f=0x2*-0x6c6+0x1406+-0x67a;_0x4aff1f<_0x27cd04['length'];_0x4aff1f++){const _0x58aa6c=_0x4bc90f['layers']['getLayerBy'+'Id'](_0x27cd04[_0x4aff1f]);_0x58aa6c&&_0x58aa6c['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x1*0xa57+0x1227+0xe3f*-0x2]['aabb']);for(let _0x43ad4a=-0x8ae+-0x1*0xa7c+0x132b;_0x43ad4a<this['origMeshIn'+'stances']['length'];_0x43ad4a++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x43ad4a]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x21b2+0xa*0x235+-0x8*-0x174;}get['model'](){v['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class et{constructor(_0x7e84a6,_0x5e0647,_0x3effc1,_0xb6ce4,_0x277c9c=[Fi]){c(this,'_ui',!(-0x4*0x761+0x1*0xe2a+-0xf5b*-0x1)),c(this,'_sprite',!(0x6f8+-0x24eb+0x1df4)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x7e84a6,this['name']=_0x5e0647,this['dynamic']=_0x3effc1,this['maxAabbSiz'+'e']=_0xb6ce4,this['layers']=_0x277c9c);}}c(et,'MODEL','model'),c(et,'ELEMENT','element'),c(et,'SPRITE','sprite'),c(et,'RENDER','render');const Um=new q();class nl{constructor(_0x45f26d){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(-0x2*0xb3f+0x892+0x2*0x6f6),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x1005+0x38f+0xc77),this['_updateBef'+'oreCull']=!(0x22d2+0xc7f*0x2+-0x3bd0),_0x45f26d&&this['initSkin'](_0x45f26d));}set['rootBone'](_0x335aab){this['_rootBone']=_0x335aab;}get['rootBone'](){return this['_rootBone'];}['init'](_0x413abe,_0x2b934d){const _0x29d9ac=_0x2b934d*(-0x12c4+0x26e*0x5+-0x6a1*-0x1);let _0x30d072=Math['ceil'](Math['sqrt'](_0x29d9ac));_0x30d072=N['roundUp'](_0x30d072,-0x1*-0x16b3+0x2433+-0x4b*0xc9);const _0x504dcd=Math['ceil'](_0x29d9ac/_0x30d072);this['boneTextur'+'e']=new he(_0x413abe,{'width':_0x30d072,'height':_0x504dcd,'format':Ke,'mipmaps':!(-0xa59*0x3+-0x2640+0x454c),'minFilter':de,'magFilter':de,'name':'skin'}),this['boneTextur'+'eSize']=[_0x30d072,_0x504dcd,(-0x308+0x6a0*0x4+-0x1777*0x1)/_0x30d072,(0x81*-0x47+-0x6b*0x2+-0x2b*-0xda)/_0x504dcd],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':Fy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x3dd738,_0x992529){this['rootBone']=_0x3dd738;const _0x8f1145=this['skin'],_0x3b79f0=[];for(let _0x3b83e5=-0x8d*-0x5+-0xb5a+-0x1f*-0x47;_0x3b83e5<_0x8f1145['boneNames']['length'];_0x3b83e5++){const _0xe0bf84=_0x8f1145['boneNames'][_0x3b83e5];let _0x37683e=_0x3dd738['findByName'](_0xe0bf84);_0x37683e||(v['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0xe0bf84+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x992529['name']+(',\x20rootBone'+':\x20')+_0x3dd738['name']),_0x37683e=_0x992529),_0x3b79f0['push'](_0x37683e);}this['bones']=_0x3b79f0;}['initSkin'](_0x189f26){this['skin']=_0x189f26,this['bones']=[];const _0x56ad98=_0x189f26['inverseBin'+'dPose']['length'];this['init'](_0x189f26['device'],_0x56ad98),this['matrices']=[];for(let _0x3fd51b=-0x248e+0x1*-0x135e+0x952*0x6;_0x3fd51b<_0x56ad98;_0x3fd51b++)this['matrices'][_0x3fd51b]=new q();}['uploadBone'+'s'](_0x264a8d){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x5d8b2e,_0x2c6e6a){if(this['_skinUpdat'+'eIndex']!==_0x2c6e6a){this['_skinUpdat'+'eIndex']=_0x2c6e6a,Um['copy'](_0x5d8b2e['getWorldTr'+'ansform']())['invert']();for(let _0x37a285=this['bones']['length']-(-0x2b*-0x30+0x1dec*-0x1+0xc1*0x1d);_0x37a285>=-0x13*-0x16f+-0x2*0xcf4+-0x155*0x1;_0x37a285--)this['matrices'][_0x37a285]['mulAffine2'](Um,this['bones'][_0x37a285]['getWorldTr'+'ansform']()),this['matrices'][_0x37a285]['mulAffine2'](this['matrices'][_0x37a285],this['skin']['inverseBin'+'dPose'][_0x37a285]);}}['updateMatr'+'ices'](_0x8f44ba,_0x278023){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x8f44ba,_0x278023);}['updateMatr'+'ixPalette'](_0x3f3a2c,_0x377dc5){this['_updateMat'+'rices'](_0x3f3a2c,_0x377dc5);const _0x411338=this['matrixPale'+'tte'],_0x28019b=this['bones']['length'];for(let _0x372356=-0x17e3+-0x2567*0x1+0x3d4a;_0x372356<_0x28019b;_0x372356++){const _0x3c9747=this['matrices'][_0x372356]['data'],_0x2f101b=_0x372356*(-0x157f+0x8ba+0x1*0xcd1);_0x411338[_0x2f101b]=_0x3c9747[-0x2e0+0x116a*-0x1+0x144a],_0x411338[_0x2f101b+(0x3d5+-0x1733+0x135f)]=_0x3c9747[0x2653*0x1+0x10*-0x24b+-0x19f],_0x411338[_0x2f101b+(0x517+-0x1*0x1ced+0x7*0x368)]=_0x3c9747[0xf2*-0x1b+-0x9a*-0x18+0xb1e],_0x411338[_0x2f101b+(0x4*0x22+-0x151e+0x1499)]=_0x3c9747[-0xd33+0x2133+-0x13f4],_0x411338[_0x2f101b+(-0x1424*-0x1+-0x13d0+0x1*-0x50)]=_0x3c9747[-0x150c*-0x1+-0x21e9+0x7a*0x1b],_0x411338[_0x2f101b+(-0x1d2*-0x10+-0x371+0x92*-0x2d)]=_0x3c9747[-0x2594*-0x1+0x2*0xfd+-0x2789],_0x411338[_0x2f101b+(0xd*-0x20b+0x126a+-0x1*-0x82b)]=_0x3c9747[-0x2*-0x228+0x642+-0xa89],_0x411338[_0x2f101b+(0x1403+-0x2e*0x26+0x694*-0x2)]=_0x3c9747[-0x2231+-0x2465+-0x6b*-0xa9],_0x411338[_0x2f101b+(0x6cd*-0x1+-0x565*0x4+0x1c69)]=_0x3c9747[0x7e9+-0x15d*0xf+0xc8c],_0x411338[_0x2f101b+(-0x672*-0x5+0x207e+-0x40af)]=_0x3c9747[0x1*-0x220f+-0xe6d+0x3082],_0x411338[_0x2f101b+(0x8b*0x16+-0x1*-0x24cd+-0x30b5)]=_0x3c9747[-0x31e+-0x1bc*0x9+-0x12c4*-0x1],_0x411338[_0x2f101b+(0x1*0x25ac+-0x1603+-0x1*0xf9e)]=_0x3c9747[-0x1591+0x210f+-0xb70];}this['uploadBone'+'s'](this['skin']['device']);}}class Vm extends nl{constructor(_0x41c3a6,_0x5352e9,_0x2d18cd){super();const _0x109149=_0x5352e9['length'];this['init'](_0x41c3a6,_0x109149),this['device']=_0x41c3a6,this['rootNode']=_0x2d18cd,this['bones']=_0x5352e9;}['updateMatr'+'ices'](_0x59fdca,_0x3e63fe){}['updateMatr'+'ixPalette'](_0x14a0cd,_0x2a92f3){const _0x56bd72=this['matrixPale'+'tte'],_0x59f6dc=this['bones']['length'];for(let _0x307691=0x57d*0x2+-0x15*0xd3+0x655;_0x307691<_0x59f6dc;_0x307691++){const _0x373f15=this['bones'][_0x307691]['getWorldTr'+'ansform']()['data'],_0x2fca15=_0x307691*(-0x124c*-0x1+-0xaf1*0x2+0x3a2);_0x56bd72[_0x2fca15]=_0x373f15[0x34e+0x229c+-0x25ea],_0x56bd72[_0x2fca15+(-0x21a1+0xc*-0x2e1+-0x6*-0xb5d)]=_0x373f15[0x15a*-0x3+-0x8*0x8a+0x862],_0x56bd72[_0x2fca15+(-0x95*0x26+0x80*0x32+-0x8*0x5c)]=_0x373f15[0xd*0x2bd+-0x1*0x13d+0xd*-0x2a4],_0x56bd72[_0x2fca15+(0x5*-0x5b3+-0x39a*0x7+0x35b8)]=_0x373f15[0x244b+0xac8+-0x2f07],_0x56bd72[_0x2fca15+(-0xb*0xa1+-0x211f+0x280e)]=_0x373f15[0x977+0xa39+0x13af*-0x1],_0x56bd72[_0x2fca15+(-0x2445+0x1*-0x20a3+0x44ed)]=_0x373f15[0x3*-0x38b+0x2470+-0x19ca],_0x56bd72[_0x2fca15+(-0x1*0x142f+-0xc9+-0xa7f*-0x2)]=_0x373f15[-0x1220+-0x2*-0xdfd+-0x1*0x9d1],_0x56bd72[_0x2fca15+(0x1f*-0x72+-0x124f+0x2024)]=_0x373f15[-0x579+0x1b69+-0x15e3],_0x56bd72[_0x2fca15+(-0x1*-0xae2+-0x2ec+-0x7ee)]=_0x373f15[-0x1*-0x1823+0x9*0x10e+0x39*-0x97],_0x56bd72[_0x2fca15+(0x487+-0xf66+0xae8)]=_0x373f15[0xd77+0x1a93*0x1+-0xc5*0x34],_0x56bd72[_0x2fca15+(0x217e+0x171e+0x1a*-0x22d)]=_0x373f15[0x267c*-0x1+0x5*-0x1c1+0x2f4b],_0x56bd72[_0x2fca15+(-0x10a3*0x1+-0x1*0x28e+-0x4cf*-0x4)]=_0x373f15[-0x2*-0xf6a+-0x34*0x2f+-0x153a];}this['uploadBone'+'s'](this['device']);}}let QE=-0x1d1b+-0x1c75+0x3990;class Hs{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0x1079+-0x115+0x1d*0x9b),this['verticesUs'+'age']=jt,this['indicesUsa'+'ge']=jt,this['maxVertice'+'s']=-0x5*0x58f+-0x20ac+0x3c77,this['maxIndices']=-0x1d*0x7+0x1c9a+-0x1bcf,this['vertexCoun'+'t']=0xc0d+-0x20*0xe5+0x1*0x1093,this['indexCount']=-0xe*0x11c+-0x971+0x853*0x3,this['vertexStre'+'amsUpdated']=!(-0x6f5+-0xf9a+0x1690),this['indexStrea'+'mUpdated']=!(0x174c+-0x517*0x3+-0x806),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x430e2d,_0x354996){this['vertexCoun'+'t']?v['assert'](this['vertexCoun'+'t']===_0x430e2d,'Vertex\x20str'+'eam\x20'+_0x354996+'\x20has\x20'+_0x430e2d+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x430e2d;}}c(Hs,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0x1*-0x22e8+-0x661+0x294c),c(Hs,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x20f3+-0x1034+-0x10bc),c(Hs,'DEFAULT_CO'+'MPONENTS_U'+'V',0xa*-0x5c+0x1b54+-0x2*0xbdd),c(Hs,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',-0x2*-0x215+-0x5*0x22f+0x1*0x6c5);class JE{constructor(_0x106525,_0x423552,_0x37deb8,_0x4b1b70,_0x13c226){this['data']=_0x106525,this['componentC'+'ount']=_0x423552,this['dataType']=_0x37deb8,this['dataTypeNo'+'rmalize']=_0x4b1b70,this['asInt']=_0x13c226;}}class Ie extends Gc{constructor(_0x13fa6b,_0x3fddd0){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',-0x2293+-0x2*0x86b+-0x1123*-0x3),c(this,'_aabb',new _e()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(-0xcb5*-0x1+-0x36*-0x19+-0x11fa)),c(this,'_storageVe'+'rtex',!(-0x1c4+-0x1c47+-0x502*-0x6)),(this['id']=QE++,v['assert'](_0x13fa6b,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x13fa6b,this['_storageIn'+'dex']=(_0x3fddd0==null?void(-0x1*-0x3d6+0xcae+-0x842*0x2):_0x3fddd0['storageInd'+'ex'])||!(0x2e3+0x621+-0x903),this['_storageVe'+'rtex']=(_0x3fddd0==null?void(-0x35f*-0xa+0x4f3*-0x2+0xfe*-0x18):_0x3fddd0['storageVer'+'tex'])||!(0x23b8+0xef*-0x13+0x3b*-0x4e));}static['fromGeomet'+'ry'](_0x371a6e,_0x2ef9f0,_0x2f7133={}){const _0x13dbb9=new Ie(_0x371a6e,_0x2f7133),{positions:_0x16af99,normals:_0x4da99b,tangents:_0x3ae8d2,colors:_0x5c820d,uvs:_0x4f4287,uvs1:_0x1fdd30,blendIndices:_0x57ea8b,blendWeights:_0x5d637a,indices:_0x51b31c}=_0x2ef9f0;return _0x16af99&&_0x13dbb9['setPositio'+'ns'](_0x16af99),_0x4da99b&&_0x13dbb9['setNormals'](_0x4da99b),_0x3ae8d2&&_0x13dbb9['setVertexS'+'tream'](Zs,_0x3ae8d2,0xd7*0x2b+0x10d2+-0x34eb),_0x5c820d&&_0x13dbb9['setColors3'+'2'](_0x5c820d),_0x4f4287&&_0x13dbb9['setUvs'](-0x22fb+0x3*-0x391+0x2dae,_0x4f4287),_0x1fdd30&&_0x13dbb9['setUvs'](-0xa27+-0x4*-0x824+0x59a*-0x4,_0x1fdd30),_0x57ea8b&&_0x13dbb9['setVertexS'+'tream'](qt,_0x57ea8b,0x11*-0x1d8+-0x121a+0x3176,_0x57ea8b['length']/(-0x2*0xfd0+-0x35a+0x1*0x22fe),Kr),_0x5d637a&&_0x13dbb9['setVertexS'+'tream'](Ys,_0x5d637a,-0x59f+-0x502+0xaa5),_0x51b31c&&_0x13dbb9['setIndices'](_0x51b31c),_0x13dbb9['update'](),_0x13dbb9;}set['morph'](_0x4b069e){_0x4b069e!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x4b069e,_0x4b069e&&_0x4b069e['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x373310){this['_aabb']=_0x373310,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x316771=this['morph'];_0x316771&&(this['morph']=null,_0x316771['refCount']<0x2675*-0x1+-0x2f*-0xbc+0x3f2&&_0x316771['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x57d82b=0x180b+-0x79f+-0x106c;_0x57d82b<this['indexBuffe'+'r']['length'];_0x57d82b++)this['_destroyIn'+'dexBuffer'](_0x57d82b);this['indexBuffe'+'r']['length']=0x13a5+0x1085+-0x2*0x1215,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x2ff591){this['indexBuffe'+'r'][_0x2ff591]&&(this['indexBuffe'+'r'][_0x2ff591]['destroy'](),this['indexBuffe'+'r'][_0x2ff591]=null);}['_initBoneA'+'abbs'](_0x3cc214){this['boneAabb']=[],this['boneUsed']=[];let _0x29bd0e,_0x747196,_0x4f6911,_0x473d58,_0x465780;const _0x50e4da=[],_0x14f045=[],_0x40ea5f=this['boneUsed'],_0x203e3b=this['skin']['boneNames']['length'];let _0x29fcc4,_0x278606,_0x3a088b;for(let _0x24e6c4=-0x55b+-0x116c*0x2+0x1*0x2833;_0x24e6c4<_0x203e3b;_0x24e6c4++)_0x50e4da[_0x24e6c4]=new T(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x14f045[_0x24e6c4]=new T(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x23999e=new go(this['vertexBuff'+'er']),_0x11c1b9=_0x23999e['element'][He],_0x3a4a47=_0x23999e['element'][Ys],_0x4a72ad=_0x23999e['element'][qt],_0x1b7c50=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x57131d=0x2557+-0x4f2+0x2065*-0x1;_0x57131d<_0x1b7c50;_0x57131d++){for(let _0x4de8b8=0xa51+-0x81*0x29+0xa58;_0x4de8b8<-0x1d7c+0xda3+0xfdd;_0x4de8b8++)if(_0x3a4a47['array'][_0x3a4a47['index']+_0x4de8b8]>0x125*0x1d+-0x3*-0x4fc+-0x3025){const _0x4cd790=_0x4a72ad['array'][_0x4a72ad['index']+_0x4de8b8];if(_0x40ea5f[_0x4cd790]=!(0xa27+0x82a+0x1251*-0x1),_0x29bd0e=_0x11c1b9['array'][_0x11c1b9['index']],_0x747196=_0x11c1b9['array'][_0x11c1b9['index']+(0x295*-0x7+0x1*-0x22+-0x206*-0x9)],_0x4f6911=_0x11c1b9['array'][_0x11c1b9['index']+(-0x4*0x20f+-0xcd9+0x1517)],_0x473d58=_0x14f045[_0x4cd790],_0x465780=_0x50e4da[_0x4cd790],_0x465780['x']>_0x29bd0e&&(_0x465780['x']=_0x29bd0e),_0x465780['y']>_0x747196&&(_0x465780['y']=_0x747196),_0x465780['z']>_0x4f6911&&(_0x465780['z']=_0x4f6911),_0x473d58['x']<_0x29bd0e&&(_0x473d58['x']=_0x29bd0e),_0x473d58['y']<_0x747196&&(_0x473d58['y']=_0x747196),_0x473d58['z']<_0x4f6911&&(_0x473d58['z']=_0x4f6911),_0x3cc214){let _0x2fd208=_0x29fcc4=_0x29bd0e,_0x483b3b=_0x278606=_0x747196,_0x372842=_0x3a088b=_0x4f6911;for(let _0x3e7028=-0x5*0x293+0x229b*0x1+0x1ac*-0xd;_0x3e7028<_0x3cc214['length'];_0x3e7028++){const _0x3f3585=_0x3cc214[_0x3e7028],_0x49f105=_0x3f3585['deltaPosit'+'ions'][_0x57131d*(0x2de+0x3*-0xa9d+-0x6a*-0x46)],_0x18fa9c=_0x3f3585['deltaPosit'+'ions'][_0x57131d*(0x1a55+-0x63a+-0x1418)+(0x392+0x75d+-0x577*0x2)],_0x51c27c=_0x3f3585['deltaPosit'+'ions'][_0x57131d*(-0x1c4b*-0x1+0x10e2+-0x2d2a)+(-0x65e*0x3+-0x2bb+0x15d7)];_0x49f105<-0x25*-0x2b+-0x14db*-0x1+-0x302*0x9?_0x2fd208+=_0x49f105:_0x29fcc4+=_0x49f105,_0x18fa9c<-0x21a1+0x1*-0x2379+-0x131*-0x3a?_0x483b3b+=_0x18fa9c:_0x278606+=_0x18fa9c,_0x51c27c<0xe43*0x1+-0xa0b+-0x438?_0x372842+=_0x51c27c:_0x3a088b+=_0x51c27c;}_0x465780['x']>_0x2fd208&&(_0x465780['x']=_0x2fd208),_0x465780['y']>_0x483b3b&&(_0x465780['y']=_0x483b3b),_0x465780['z']>_0x372842&&(_0x465780['z']=_0x372842),_0x473d58['x']<_0x29fcc4&&(_0x473d58['x']=_0x29fcc4),_0x473d58['y']<_0x278606&&(_0x473d58['y']=_0x278606),_0x473d58['z']<_0x3a088b&&(_0x473d58['z']=_0x3a088b);}}_0x23999e['next']();}const _0x153297=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x1fa7e3=>_0x1fa7e3['name']===He);if(_0x153297&&_0x153297['normalize']){const _0x3be4b5=((()=>{switch(_0x153297['dataType']){case Rc:return _0x522523=>Math['max'](_0x522523/(-0x4*0x7a5+0x82*-0x26+0x325f),-(-0xb45+0x3ca+-0x77c*-0x1));case Kr:return _0x43b675=>_0x43b675/(0x2046+-0x3*0x1ab+0x72*-0x3b);case Ic:return _0x288ad6=>Math['max'](_0x288ad6/(0x4c2c+0x4cb*-0x27+0x7760*0x2),-(0x6*0x5d1+0x1e25*-0x1+-0x4*0x130));case el:return _0x56a7ac=>_0x56a7ac/(0x2*-0x23cf+0x1f42e+-0xac91);default:return _0x21d57c=>_0x21d57c;}})());for(let _0x40f163=0xf77*-0x1+-0xcee*-0x1+0x289;_0x40f163<_0x203e3b;_0x40f163++)if(_0x40ea5f[_0x40f163]){const _0x130e7e=_0x50e4da[_0x40f163],_0x4c608e=_0x14f045[_0x40f163];_0x130e7e['set'](_0x3be4b5(_0x130e7e['x']),_0x3be4b5(_0x130e7e['y']),_0x3be4b5(_0x130e7e['z'])),_0x4c608e['set'](_0x3be4b5(_0x4c608e['x']),_0x3be4b5(_0x4c608e['y']),_0x3be4b5(_0x4c608e['z']));}}for(let _0x1c2aa1=-0x25a0+0xd97*0x1+0x36f*0x7;_0x1c2aa1<_0x203e3b;_0x1c2aa1++){const _0x49c55c=new _e();_0x49c55c['setMinMax'](_0x50e4da[_0x1c2aa1],_0x14f045[_0x1c2aa1]),this['boneAabb']['push'](_0x49c55c);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new Hs(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x4be*-0x1+-0x101e*-0x1+-0xb60&&this['indexBuffe'+'r'][0x801*-0x2+0x25ce+-0x1e*0xba]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x6f*-0x8+-0x1cb5*-0x1+-0x202d]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][-0x11*0xa6+-0x2493*-0x1+-0x198d]['numIndices']));}['clear'](_0x5c868b,_0x2b0f89,_0x4e31d3=-0x1399*0x1+-0x133*-0x3+-0x20*-0x80,_0x1c1edf=0x1*0x121f+-0x1b61+0xa*0xed){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0x7e8+0x3*-0xc93+0x1dd1),this['_geometryD'+'ata']['maxVertice'+'s']=_0x4e31d3,this['_geometryD'+'ata']['maxIndices']=_0x1c1edf,this['_geometryD'+'ata']['verticesUs'+'age']=_0x5c868b?jt:Th,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x2b0f89?jt:Th;}['setVertexS'+'tream'](_0x3fd41f,_0x1c923f,_0x263d30,_0x52f3f6,_0x38b985=Ee,_0x5665fb=!(-0x500+-0x9e6+0xee7*0x1),_0x2f7e54=!(0x5*0x789+0xd*0x101+-0x32b9)){this['_initGeome'+'tryData']();const _0x191e6d=_0x52f3f6||_0x1c923f['length']/_0x263d30;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x191e6d,_0x3fd41f),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x1bae+-0x1*-0x1f47+0x13a7*-0x3),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x3fd41f]=new JE(_0x1c923f,_0x263d30,_0x38b985,_0x5665fb,_0x2f7e54);}['getVertexS'+'tream'](_0x2235c8,_0x2bdf6c){let _0x24180a=-0x37*0x27+-0xdd*-0x2b+-0x11b*0x1a,_0x113b2e=!(0x9ae+-0x6da+-0x2d3);if(this['_geometryD'+'ata']){const _0x3685db=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x2235c8];_0x3685db&&(_0x113b2e=!(0x7*0x413+0x2*-0xc0c+0x46d*-0x1),_0x24180a=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x2bdf6c)?_0x2bdf6c['set'](_0x3685db['data']):(_0x2bdf6c['length']=0x2580+-0x1646*0x1+-0xf3a,_0x2bdf6c['push'](_0x3685db['data'])));}return _0x113b2e||this['vertexBuff'+'er']&&(_0x24180a=new go(this['vertexBuff'+'er'])['readData'](_0x2235c8,_0x2bdf6c)),_0x24180a;}['setPositio'+'ns'](_0x53f38f,_0x197781=Hs['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x4f6b2f){this['setVertexS'+'tream'](He,_0x53f38f,_0x197781,_0x4f6b2f,Ee,!(-0x1b3e+-0x1*0x6cd+-0x2*-0x1106));}['setNormals'](_0x8d6d36,_0x4329de=Hs['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x3dbe91){this['setVertexS'+'tream'](Yt,_0x8d6d36,_0x4329de,_0x3dbe91,Ee,!(-0xdd*0x1+-0x135*-0x6+-0x4*0x198));}['setUvs'](_0x50e7a0,_0x12ea73,_0x373ff4=Hs['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x57730a){this['setVertexS'+'tream'](om+_0x50e7a0,_0x12ea73,_0x373ff4,_0x57730a,Ee,!(0x157e+0x16d5+0x5d*-0x7a));}['setColors'](_0x3af999,_0x25b690=Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x97d235){this['setVertexS'+'tream'](At,_0x3af999,_0x25b690,_0x97d235,Ee,!(-0xe2*0x14+0x1*0x1565+-0x3bc));}['setColors3'+'2'](_0x1d5b98,_0x3a3268){this['setVertexS'+'tream'](At,_0x1d5b98,Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x3a3268,Kr,!(0x203e+0x401*-0x7+0xd*-0x53));}['setIndices'](_0x25fce3,_0xd96675){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x1ba1+0x1*0x8a5+0x12fc),this['_geometryD'+'ata']['indices']=_0x25fce3,this['_geometryD'+'ata']['indexCount']=_0xd96675||_0x25fce3['length'];}['getPositio'+'ns'](_0x34445b){return this['getVertexS'+'tream'](He,_0x34445b);}['getNormals'](_0x15bc90){return this['getVertexS'+'tream'](Yt,_0x15bc90);}['getUvs'](_0x6435d9,_0x907042){return this['getVertexS'+'tream'](om+_0x6435d9,_0x907042);}['getColors'](_0x9ff118){return this['getVertexS'+'tream'](At,_0x9ff118);}['getIndices'](_0xf76841){let _0x931d69=-0x533+-0x151*-0x3+0x140;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x5402d6=this['_geometryD'+'ata']['indices'];if(_0x931d69=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0xf76841))_0xf76841['set'](_0x5402d6);else{_0xf76841['length']=0x1*-0x113f+0x470+0xccf;for(let _0x1860a9=0x2*0xf87+-0x14cb+0x25*-0x47,_0x1448da=_0x5402d6['length'];_0x1860a9<_0x1448da;_0x1860a9++)_0xf76841['push'](_0x5402d6[_0x1860a9]);}}else this['indexBuffe'+'r']['length']>0x322+-0x173a+0x506*0x4&&this['indexBuffe'+'r'][0xa04*0x2+-0x1554+0x1*0x14c]&&(_0x931d69=this['indexBuffe'+'r'][0x44c+0x16c6+0x2*-0xd89]['readData'](_0xf76841));return _0x931d69;}['update'](_0x54a94c=Ms,_0x38c224=!(0x8*0xc7+-0x1b34+0x14fc)){if(this['_geometryD'+'ata']){if(_0x38c224){const _0x37912f=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][He];_0x37912f&&_0x37912f['componentC'+'ount']===0x1241*-0x2+-0x1dd*-0x7+-0x2*-0xbbd&&(this['_aabb']['compute'](_0x37912f['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x1efa2e=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x1efa2e=!(0x1*-0x206b+0xc*-0x33e+0x4753),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x1efa2e&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x2e81ba=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x2e81ba=!(0x997*0x4+-0xb03+-0x1b59*0x1),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x2e81ba&&this['indexBuffe'+'r']['length']>-0x26e7+0x2*-0x12d1+0x4c89&&this['indexBuffe'+'r'][-0x2*-0xd6c+0x66c+-0x2144]&&(this['indexBuffe'+'r'][-0x1a68+0x11ef+0x879]['destroy'](),this['indexBuffe'+'r'][-0x1f68+-0x110b*-0x1+0xe5d]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x8*0x1c1+0x44*-0x3+-0xd3c]['type']=_0x54a94c,this['indexBuffe'+'r']['length']>0x156f+0x1*-0x2294+-0xd25*-0x1&&this['indexBuffe'+'r'][-0x55a+-0x173*-0x17+-0x1bfb]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0xb5*0x14+-0x1bfc+0x2*0x6ec]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][0xb38+-0x211f+0x15e7]['indexed']=!(0xb29+0x1*-0x154a+0xa21)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0x1dc5+-0x8e*0x2f+-0x5*-0xb2b]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x21a1+-0x1843+-0x95e]['indexed']=!(-0x13c0*0x1+0x1c6*-0x2+0x174d)),this['_geometryD'+'ata']['vertexCoun'+'t']=0x3b6*0x5+0x211c+-0x1*0x33aa,this['_geometryD'+'ata']['indexCount']=0x77f*-0x1+-0x11d0+0x194f,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0xd*-0x115+0x21f2+-0x1801*0x2),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x1c1f+0x2dc*-0xd+0x414c),this['_geometryD'+'ata']['recreate']=!(-0x1fd9+-0x175e+0x3738),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x5ca34c){const _0x14fb85=[];for(const _0xef6a9f in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x2518c6=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0xef6a9f];_0x14fb85['push']({'semantic':_0xef6a9f,'components':_0x2518c6['componentC'+'ount'],'type':_0x2518c6['dataType'],'normalize':_0x2518c6['dataTypeNo'+'rmalize'],'asInt':_0x2518c6['asInt']});}return new Et(this['device'],_0x14fb85,_0x5ca34c);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x3401c3=this['_geometryD'+'ata']['maxVertice'+'s'],_0xecc0e7=this['_buildVert'+'exFormat'](_0x3401c3);this['vertexBuff'+'er']=new os(this['device'],_0xecc0e7,_0x3401c3,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x3b84f8=new go(this['vertexBuff'+'er']),_0xbff8cd=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x31dccc in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x2bd412=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x31dccc];_0x3b84f8['writeData'](_0x31dccc,_0x2bd412['data'],_0xbff8cd),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x31dccc];}_0x3b84f8['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0x489*0x2+-0x1*0x902+0x1214||!this['indexBuffe'+'r'][-0x1fb*0x11+0x188+0x2023*0x1]){const _0x2fd8a6=this['_geometryD'+'ata']['maxVertice'+'s'],_0x2f0da3=_0x2fd8a6>0x3fd9+0x1e6c0+-0x2a16*0x7||_0x2fd8a6===-0x200*0x10+0x3*0x58a+0x7b1*0x2?nr:Pi,_0x315398=this['_storageIn'+'dex']?{'storage':!(-0x4b*-0x2b+0x27b*-0xb+0xeb0)}:void(-0xdae*0x1+-0x416+-0x1*-0x11c4);this['indexBuffe'+'r'][0xb3*-0xd+-0xb53+0x146a]=new lr(this['device'],_0x2f0da3,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0x2173*-0x1+0x1*-0xeae+-0x12c5),_0x315398);}const _0x2310c3=this['_geometryD'+'ata']['indices'];_0x2310c3&&(this['indexBuffe'+'r'][-0x15cd+0x1c0e+-0x641]['writeData'](_0x2310c3,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x55d47b){_0x55d47b===Dr?this['generateWi'+'reframe']():_0x55d47b===Tl&&(this['primitive'][Tl]={'type':Mc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0x17*0xd5+0x1*0x22c2+-0x49*0xbd,'indexed':!(-0x152b+-0x1204+0x13*0x210)});}['updateRend'+'erStates'](){this['primitive'][Tl]&&this['prepareRen'+'derState'](Tl),this['primitive'][Dr]&&this['prepareRen'+'derState'](Dr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Dr);const _0x33d506=this['vertexBuff'+'er']['numVertice'+'s'],_0x2d3fc4=[];let _0x2477ad;if(this['indexBuffe'+'r']['length']>-0xbbf+-0x154*0x19+0x2cf3&&this['indexBuffe'+'r'][0x229+-0x21bd+0x1f94]){const _0x5456e3=[[-0xb27+-0x1cd5+-0x1*-0x27fc,0x11*-0x18f+-0x1*0x67a+0x20fa],[-0x7*-0xac+-0x15b6+0x1103,-0x6*-0x353+0x1c95+-0x3085*0x1],[-0x24b6+0x2*0x1099+-0x1*-0x386,-0x4*0x20+-0x1*0x136d+0x1*0x13ed]],_0x58b4a8=this['primitive'][yo]['base'],_0x9a91ce=this['primitive'][yo]['count'],_0x10ec00=this['indexBuffe'+'r'][yo],_0x12efef=new Lh[_0x10ec00['format']](_0x10ec00['storage']),_0x3b4b0b=new Set();for(let _0x1cae8d=_0x58b4a8;_0x1cae8d<_0x58b4a8+_0x9a91ce;_0x1cae8d+=0x186c+-0x5c2+-0x1*0x12a7)for(let _0x42412f=0xc8c+-0x8d7+-0x3b5;_0x42412f<0xd*-0x255+-0x2*-0x6be+0x2*0x86c;_0x42412f++){const _0x5874fb=_0x12efef[_0x1cae8d+_0x5456e3[_0x42412f][0x22c*-0x2+-0x9*-0x1e9+-0xcd9]],_0x5cb439=_0x12efef[_0x1cae8d+_0x5456e3[_0x42412f][0xa6a+0x1d12+0x9*-0x463]],_0x1ed164=_0x5874fb>_0x5cb439?_0x5cb439*_0x33d506+_0x5874fb:_0x5874fb*_0x33d506+_0x5cb439;_0x3b4b0b['has'](_0x1ed164)||(_0x3b4b0b['add'](_0x1ed164),_0x2d3fc4['push'](_0x5874fb,_0x5cb439));}_0x2477ad=_0x10ec00['format'];}else{for(let _0x409601=-0x1b45+-0x1*-0x399+0x17ac;_0x409601<_0x33d506;_0x409601+=-0x20b2+-0x8*0x32b+0x3a0d)_0x2d3fc4['push'](_0x409601,_0x409601+(-0xd2*-0x2a+0x1*0x1303+0x3576*-0x1),_0x409601+(-0x5ac+-0x5*0x36a+-0x16bf*-0x1),_0x409601+(0x1*0x134b+0xc4b+-0x1f94),_0x409601+(-0x1*0x2005+0x18a4+0x763),_0x409601);_0x2477ad=_0x2d3fc4['length']>0x34f6*-0x4+0x1c8b*0x7+-0x16*-0xc2f?nr:Pi;}const _0x3e3ba8=new lr(this['vertexBuff'+'er']['device'],_0x2477ad,_0x2d3fc4['length']);new Lh[_0x3e3ba8['format']](_0x3e3ba8['storage'])['set'](_0x2d3fc4),_0x3e3ba8['unlock'](),this['primitive'][Dr]={'type':Pc,'base':0x0,'count':_0x2d3fc4['length'],'indexed':!(-0x6*-0x3c3+-0x104*-0x10+-0x1369*0x2)},this['indexBuffe'+'r'][Dr]=_0x3e3ba8;}}const Gm=new q(),md=new T(),Hm=new se(),_d=new se(),$m=new T(),Wm=new T(),eC=new q(),tC=new se(),kt=new T(),Ha=new q(),Bt=new se(),An=new se(),qm=new q(),gd=new T(),El=new T();function Xm(_0xf5defc,_0x2270e8){return _0xf5defc instanceof Function?_0xf5defc:_0x3c84e3=>{let _0x3bc167=_0x3c84e3[_0xf5defc];return _0x3bc167 instanceof Function&&(_0x3bc167=_0x3bc167()),_0x3bc167===_0x2270e8;};}function w0(_0x3eeafe,_0x44ff2b){if(_0x44ff2b(_0x3eeafe))return _0x3eeafe;const _0x611814=_0x3eeafe['_children'],_0x3594a7=_0x611814['length'];for(let _0x43a59e=0x99*-0x17+-0x95f*0x3+-0xbc*-0x39;_0x43a59e<_0x3594a7;++_0x43a59e){const _0x5e5290=w0(_0x611814[_0x43a59e],_0x44ff2b);if(_0x5e5290)return _0x5e5290;}return null;}class De extends ce{constructor(_0x42f310='Untitled'){super(),c(this,'name'),c(this,'tags',new po(this)),c(this,'localPosit'+'ion',new T()),c(this,'localRotat'+'ion',new se()),c(this,'localScale',new T(0x1*-0x359+0x8f*-0x19+-0x193*-0xb,-0x2271+-0x2*-0x126b+-0x44*0x9,-0x557*0x3+0x1ff6+-0xff0)),c(this,'localEuler'+'Angles',new T()),c(this,'position',new T()),c(this,'rotation',new se()),c(this,'eulerAngle'+'s',new T()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(0x23b0+0x5*-0x7f+0x2*-0x109a)),c(this,'_aabbVer',-0x56b+-0x49d+0xa08),c(this,'_frozen',!(0xca0+-0x1fa5+0x1306)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(-0xd9a+0x1*0x1537+-0x79c)),c(this,'_worldScal'+'eSign',0xfba+-0x22c6+0x6a*0x2e),c(this,'_normalMat'+'rix',new js()),c(this,'_dirtyNorm'+'al',!(0xa41+0xf9*0x6+0x55d*-0x3)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',0x2*0x6bb+-0x1*-0x203e+-0x27*0x12c),c(this,'_enabled',!(0x1894+-0x548+-0x134c)),c(this,'_enabledIn'+'Hierarchy',!(-0x786*0x3+-0x2372*-0x1+-0xcdf)),c(this,'scaleCompe'+'nsation',!(-0xb5a*0x3+0x6c*-0x4+-0x1*-0x23bf)),this['name']=_0x42f310;}get['right'](){return this['_right']||(this['_right']=new T()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new T()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new T()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0xc66+-0x2585+0x31ec));}get['normalMatr'+'ix'](){const _0x1f385a=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x1f385a['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x16ae+0x6ca+-0x18d*0x13)),_0x1f385a;}set['enabled'](_0x500275){var _0x4c0a47;this['_enabled']!==_0x500275&&(this['_enabled']=_0x500275,(_0x500275&&((_0x4c0a47=this['_parent'])!=null&&_0x4c0a47['enabled'])||!_0x500275)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x500275));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x3e3054=this['_parent'];if(!_0x3e3054)return'';let _0x536900=this['name'];for(;_0x3e3054&&_0x3e3054['_parent'];)_0x536900=_0x3e3054['name']+'/'+_0x536900,_0x3e3054=_0x3e3054['_parent'];return _0x536900;}get['root'](){let _0x3e372d=this;for(;_0x3e372d['_parent'];)_0x3e372d=_0x3e372d['_parent'];return _0x3e372d;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x33423b,_0x2cb0b5){_0x33423b['_onHierarc'+'hyStateCha'+'nged'](_0x2cb0b5);const _0x5c6630=_0x33423b['_children'];for(let _0x34230b=0x18de+-0x63f+-0x129f,_0x2c6f6a=_0x5c6630['length'];_0x34230b<_0x2c6f6a;_0x34230b++)_0x5c6630[_0x34230b]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x5c6630[_0x34230b],_0x2cb0b5);}['_onHierarc'+'hyStateCha'+'nged'](_0x48da22){this['_enabledIn'+'Hierarchy']=_0x48da22,_0x48da22&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x542c7d){_0x542c7d['name']=this['name'];const _0x339168=this['tags']['_list'];_0x542c7d['tags']['clear']();for(let _0x54de1f=-0x67*0x3d+0x2048+-0x7bd;_0x54de1f<_0x339168['length'];_0x54de1f++)_0x542c7d['tags']['add'](_0x339168[_0x54de1f]);_0x542c7d['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x542c7d['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x542c7d['localScale']['copy'](this['localScale']),_0x542c7d['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x542c7d['position']['copy'](this['position']),_0x542c7d['rotation']['copy'](this['rotation']),_0x542c7d['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x542c7d['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x542c7d['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x542c7d['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x542c7d['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x542c7d['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x542c7d['_aabbVer']=this['_aabbVer']+(-0x36d*0x8+0xa34+0x1135),_0x542c7d['_enabled']=this['_enabled'],_0x542c7d['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x542c7d['_enabledIn'+'Hierarchy']=!(0x103d*0x2+0xa45+-0x2abe);}['clone'](){const _0x59a7c6=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x59a7c6),_0x59a7c6;}['copy'](_0x5aff15){return _0x5aff15['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x5dfe03=this['_children'];for(;_0x5dfe03['length'];){const _0x56df6c=_0x5dfe03['pop']();_0x56df6c['_parent']=null,_0x56df6c['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x362f0b,_0x146c6f){const _0x1bdd8f=[],_0x2917e6=Xm(_0x362f0b,_0x146c6f);return this['forEach'](_0x12f347=>{_0x2917e6(_0x12f347)&&_0x1bdd8f['push'](_0x12f347);}),_0x1bdd8f;}['findOne'](_0xc48f0e,_0x4af682){const _0x57ceeb=Xm(_0xc48f0e,_0x4af682);return w0(this,_0x57ceeb);}['findByTag'](){const _0x33784f=arguments,_0x20c610=[],_0x43be4d=(_0x4bb914,_0x55bbe2)=>{_0x55bbe2&&_0x4bb914['tags']['has'](..._0x33784f)&&_0x20c610['push'](_0x4bb914);for(let _0x4c213d=-0x11fe+-0x129d+0x249b;_0x4c213d<_0x4bb914['_children']['length'];_0x4c213d++)_0x43be4d(_0x4bb914['_children'][_0x4c213d],!(0x91*0x35+-0x1ea1+0x34*0x3));};return _0x43be4d(this,!(0xd*-0x26c+0x17*0x13c+0x319)),_0x20c610;}['findByName'](_0x573719){return this['findOne']('name',_0x573719);}['findByPath'](_0x29d78b){const _0x444386=Array['isArray'](_0x29d78b)?_0x29d78b:_0x29d78b['split']('/');let _0x1ab6b1=this;for(let _0xf192c3=-0x1c4e+-0x1*0x15f6+0x1*0x3244,_0x1649cb=_0x444386['length'];_0xf192c3<_0x1649cb;++_0xf192c3)if(_0x1ab6b1=_0x1ab6b1['children']['find'](_0x228dc8=>_0x228dc8['name']===_0x444386[_0xf192c3]),!_0x1ab6b1)return null;return _0x1ab6b1;}['forEach'](_0x6f0ec9,_0x240e75){_0x6f0ec9['call'](_0x240e75,this);const _0x475769=this['_children'],_0xa6eed8=_0x475769['length'];for(let _0x12b61b=-0x17b1*0x1+-0x13ff+-0xe90*-0x3;_0x12b61b<_0xa6eed8;++_0x12b61b)_0x475769[_0x12b61b]['forEach'](_0x6f0ec9,_0x240e75);}['isDescenda'+'ntOf'](_0x16292d){let _0x40d820=this['_parent'];for(;_0x40d820;){if(_0x40d820===_0x16292d)return!(0x107c+-0x18*-0xbe+-0xa*0x36e);_0x40d820=_0x40d820['_parent'];}return!(0x224c+0x1652+0x12df*-0x3);}['isAncestor'+'Of'](_0x1efaae){return _0x1efaae['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x481+-0x104+-0x37c)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new T()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0x1326+-0x122d+-0xf9&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x21eb1a;(_0x21eb1a=this['_parent'])==null||_0x21eb1a['removeChil'+'d'](this);}['reparent'](_0x2287f3,_0x4cb4dc){this['remove'](),_0x2287f3&&(_0x4cb4dc>=-0x40b+0x265d+-0x2252?_0x2287f3['insertChil'+'d'](this,_0x4cb4dc):_0x2287f3['addChild'](this));}['setLocalEu'+'lerAngles'](_0x2771e6,_0x51f92c,_0x5d1054){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x2771e6,_0x51f92c,_0x5d1054),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x4df0ba,_0x173968,_0x48f8e0){_0x4df0ba instanceof T?this['localPosit'+'ion']['copy'](_0x4df0ba):this['localPosit'+'ion']['set'](_0x4df0ba,_0x173968,_0x48f8e0),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x35e4f4,_0xd8e51f,_0x2525af,_0x1c910f){_0x35e4f4 instanceof se?this['localRotat'+'ion']['copy'](_0x35e4f4):this['localRotat'+'ion']['set'](_0x35e4f4,_0xd8e51f,_0x2525af,_0x1c910f),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x55483c,_0x1cf339,_0x1c5253){_0x55483c instanceof T?this['localScale']['copy'](_0x55483c):this['localScale']['set'](_0x55483c,_0x1cf339,_0x1c5253),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x2328+-0x1258+0x3580),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x223e63=this['_parent'];for(;_0x223e63;)_0x223e63['_frozen']=!(0x45+0x1*0x194f+-0x1993*0x1),_0x223e63=_0x223e63['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(-0x2091+-0x4*0xfe+-0x6*-0x617),this['_dirtyWorl'+'d']=!(-0x1394+-0x1*0x2189+-0x1*-0x351d);for(let _0x3ccdd2=0x1*0xe48+-0x953+-0x4f5;_0x3ccdd2<this['_children']['length'];_0x3ccdd2++)this['_children'][_0x3ccdd2]['_dirtyWorl'+'d']||this['_children'][_0x3ccdd2]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x1*0x14c4+0x61*-0x34+-0x110),this['_worldScal'+'eSign']=0x7b5*0x1+0x4e2+-0xb*0x125,this['_aabbVer']++;}['setPositio'+'n'](_0x26328d,_0x55eb27,_0x43c3f1){_0x26328d instanceof T?kt['copy'](_0x26328d):kt['set'](_0x26328d,_0x55eb27,_0x43c3f1),this['_parent']===null?this['localPosit'+'ion']['copy'](kt):(Ha['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Ha['transformP'+'oint'](kt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x1ed954,_0x1d6482,_0x4eb0ff,_0x8364f8){if(_0x1ed954 instanceof se?Bt['copy'](_0x1ed954):Bt['set'](_0x1ed954,_0x1d6482,_0x4eb0ff,_0x8364f8),this['_parent']===null)this['localRotat'+'ion']['copy'](Bt);else{const _0x23ccbb=this['_parent']['getRotatio'+'n']();An['copy'](_0x23ccbb)['invert'](),this['localRotat'+'ion']['copy'](An)['mul'](Bt);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x1cc084,_0x317953){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x1cc084),this['localRotat'+'ion']['copy'](_0x317953);else{const _0x2f82ae=this['_parent']['getWorldTr'+'ansform']();Ha['copy'](_0x2f82ae)['invert'](),Ha['transformP'+'oint'](_0x1cc084,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Ha)['mul'](_0x317953);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x2fdf98,_0x52d693,_0x45e5a1){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x2fdf98,_0x52d693,_0x45e5a1),this['_parent']!==null){const _0xa809e3=this['_parent']['getRotatio'+'n']();An['copy'](_0xa809e3)['invert'](),this['localRotat'+'ion']['mul2'](An,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x40b7dd){this['_prepareIn'+'sertChild'](_0x40b7dd),this['_children']['push'](_0x40b7dd),this['_onInsertC'+'hild'](_0x40b7dd);}['addChildAn'+'dSaveTrans'+'form'](_0x3cf471){const _0x5a8214=_0x3cf471['getPositio'+'n'](),_0x240652=_0x3cf471['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x3cf471),_0x3cf471['setPositio'+'n'](eC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x5a8214)),_0x3cf471['setRotatio'+'n'](tC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x240652)),this['_children']['push'](_0x3cf471),this['_onInsertC'+'hild'](_0x3cf471);}['insertChil'+'d'](_0x3ab234,_0x45e0ee){this['_prepareIn'+'sertChild'](_0x3ab234),this['_children']['splice'](_0x45e0ee,-0x1*0xa11+0x5b4+0x45d,_0x3ab234),this['_onInsertC'+'hild'](_0x3ab234);}['_prepareIn'+'sertChild'](_0x1809c0){_0x1809c0['remove'](),v['assert'](_0x1809c0!==this,'GraphNode\x20'+(_0x1809c0==null?void(-0xc11*-0x1+-0x38*0x1f+0x3*-0x1c3):_0x1809c0['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),v['assert'](!this['isDescenda'+'ntOf'](_0x1809c0),'GraphNode\x20'+(_0x1809c0==null?void(0x11a7+0xb60+0x3*-0x9ad):_0x1809c0['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x57c40a,_0x2cbc17,_0x3e0ed4){this['fire'](_0x57c40a,_0x3e0ed4);for(let _0x67267f=-0x8a0+-0x72*0x2f+0xd*0x246;_0x67267f<this['_children']['length'];_0x67267f++)this['_children'][_0x67267f]['_fireOnHie'+'rarchy'](_0x2cbc17,_0x2cbc17,_0x3e0ed4);}['_onInsertC'+'hild'](_0x532b41){_0x532b41['_parent']=this;const _0x4717dc=_0x532b41['_enabled']&&this['enabled'];_0x532b41['_enabledIn'+'Hierarchy']!==_0x4717dc&&(_0x532b41['_enabledIn'+'Hierarchy']=_0x4717dc,_0x532b41['_notifyHie'+'rarchyStat'+'eChanged'](_0x532b41,_0x4717dc)),_0x532b41['_updateGra'+'phDepth'](),_0x532b41['_dirtifyWo'+'rld'](),this['_frozen']&&_0x532b41['_unfreezeP'+'arentToRoo'+'t'](),_0x532b41['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x532b41);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(-0x4*-0x23b+-0xa1*-0xe+0x15d*-0xd):-0x24a*-0xa+0x12*0x79+-0x1f66*0x1;for(let _0x308a22=-0x2*0xb98+-0x257e+-0x6be*-0x9,_0x5ac3c0=this['_children']['length'];_0x308a22<_0x5ac3c0;_0x308a22++)this['_children'][_0x308a22]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x4f89e4){const _0x5874f0=this['_children']['indexOf'](_0x4f89e4);_0x5874f0!==-(0x7*0x497+-0x1*-0x1ce3+0x1*-0x3d03)&&(this['_children']['splice'](_0x5874f0,0x248a+-0x2d*0xcd+-0x80),_0x4f89e4['_parent']=null,_0x4f89e4['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x4f89e4));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x163*0x13+-0x150b+-0x54d)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x105e58;const _0x1c1bd3=this['_parent'];let _0x23e037=this['localScale'],_0x5e7264=_0x1c1bd3;if(_0x5e7264){for(;_0x5e7264&&_0x5e7264['scaleCompe'+'nsation'];)_0x5e7264=_0x5e7264['_parent'];_0x5e7264&&(_0x5e7264=_0x5e7264['_parent'],_0x5e7264&&(_0x105e58=_0x5e7264['worldTrans'+'form']['getScale'](),$m['mul2'](_0x105e58,this['localScale']),_0x23e037=$m));}_d['setFromMat'+'4'](_0x1c1bd3['worldTrans'+'form']),Hm['mul2'](_d,this['localRotat'+'ion']);let _0x3b2e02=_0x1c1bd3['worldTrans'+'form'];_0x1c1bd3['scaleCompe'+'nsation']&&(Wm['mul2'](_0x105e58,_0x1c1bd3['getLocalSc'+'ale']()),Gm['setTRS'](_0x1c1bd3['worldTrans'+'form']['getTransla'+'tion'](md),_d,Wm),_0x3b2e02=Gm),_0x3b2e02['transformP'+'oint'](this['localPosit'+'ion'],md),this['worldTrans'+'form']['setTRS'](md,Hm,_0x23e037);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x1b88+0xf7f*-0x2+0x3a87*0x1);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x763+-0x3e1*0x2+0xf25*0x1),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x304dc3=this['_children'];for(let _0x58f940=-0x2e7*-0x8+-0x129a*0x1+-0x49e,_0x403629=_0x304dc3['length'];_0x58f940<_0x403629;_0x58f940++)_0x304dc3[_0x58f940]['syncHierar'+'chy']();}['lookAt'](_0x3f367b,_0x45856a,_0x394412,_0x56f29b=-0x1f67+0x3*-0x8bf+-0x1cd2*-0x2,_0x26a5a9=-0x1*0x18d9+0x242c+-0x7*0x19e,_0x1da77b=0xe3*-0x13+-0x1*-0x1270+-0x197){if(_0x3f367b instanceof T)gd['copy'](_0x3f367b),_0x45856a instanceof T?El['copy'](_0x45856a):El['copy'](T['UP']);else{if(_0x394412===void(-0x1*-0x215f+-0x2e3*-0xa+0x8d*-0x71))return;gd['set'](_0x3f367b,_0x45856a,_0x394412),El['set'](_0x56f29b,_0x26a5a9,_0x1da77b);}qm['setLookAt'](this['getPositio'+'n'](),gd,El),Bt['setFromMat'+'4'](qm),this['setRotatio'+'n'](Bt);}['translate'](_0x4088a6,_0x57657b,_0x72a3a0){_0x4088a6 instanceof T?kt['copy'](_0x4088a6):kt['set'](_0x4088a6,_0x57657b,_0x72a3a0),kt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](kt);}['translateL'+'ocal'](_0x3276c8,_0x5676a1,_0x373cde){_0x3276c8 instanceof T?kt['copy'](_0x3276c8):kt['set'](_0x3276c8,_0x5676a1,_0x373cde),this['localRotat'+'ion']['transformV'+'ector'](kt,kt),this['localPosit'+'ion']['add'](kt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x1fc368,_0x4670bc,_0x3caa1d){if(Bt['setFromEul'+'erAngles'](_0x1fc368,_0x4670bc,_0x3caa1d),this['_parent']===null)this['localRotat'+'ion']['mul2'](Bt,this['localRotat'+'ion']);else{const _0x4d0bad=this['getRotatio'+'n'](),_0x4ef8ad=this['_parent']['getRotatio'+'n']();An['copy'](_0x4ef8ad)['invert'](),Bt['mul2'](An,Bt),this['localRotat'+'ion']['mul2'](Bt,_0x4d0bad);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x13db7b,_0x2d6f39,_0x25e589){Bt['setFromEul'+'erAngles'](_0x13db7b,_0x2d6f39,_0x25e589),this['localRotat'+'ion']['mul'](Bt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const T0=new Ot();function al(_0xc557){const _0x582ce3=T0['get'](_0xc557);return v['assert'](_0x582ce3),_0x582ce3;}function sC(_0x374c9e,_0x5b6710){v['assert'](_0x5b6710),T0['get'](_0x374c9e,()=>_0x5b6710);}class iC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x1e2bb3,_0x4c0b13)=>{_0x4c0b13['destroy']();}),this['cache']['clear']();}['incRef'](_0x5620f9){const _0x9c84d8=(this['cache']['get'](_0x5620f9)||0xa5*-0x27+-0x2a*-0x2b+0x1215)+(-0xd*0xc7+-0x17c8*0x1+0x21e4*0x1);this['cache']['set'](_0x5620f9,_0x9c84d8);}['decRef'](_0x21dd50){if(_0x21dd50){let _0xa487dd=this['cache']['get'](_0x21dd50);_0xa487dd&&(_0xa487dd--,_0xa487dd===-0xf1f+-0xf71+-0xf48*-0x2?(this['cache']['delete'](_0x21dd50),_0x21dd50['destroy']()):this['cache']['set'](_0x21dd50,_0xa487dd));}}}class Si{static['incRef'](_0x3f3aa5){this['cache']['incRef'](_0x3f3aa5);}static['decRef'](_0x372715){this['cache']['decRef'](_0x372715);}static['destroy'](){this['cache']['destroy']();}}c(Si,'cache',new iC());let rC=-0x26f5+-0xd6c+-0x1*-0x3461;const nC=new _e(),Cl=new _e(),yd=new Lf(),xd=new Set(),yr=new Uint32Array(0x26*-0xf8+-0x1395+0x3869);class aC{constructor(_0x2b050f){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(-0x2*0x1101+0x4*0x817+0x1a7)),this['count']=_0x2b050f;}['destroy'](){var _0x183efd;this['_destroyVe'+'rtexBuffer']&&((_0x183efd=this['vertexBuff'+'er'])==null||_0x183efd['destroy']()),this['vertexBuff'+'er']=null;}}class oC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x4ce525){if(!this['bindGroup']){const _0x196a91=this['shader'];v['assert'](_0x196a91);const _0x3748ce=_0x196a91['meshBindGr'+'oupFormat'];v['assert'](_0x3748ce),this['bindGroup']=new mp(_0x4ce525,_0x3748ce),mn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x326408){if(!this['uniformBuf'+'fer']){const _0x3527b1=this['shader'];v['assert'](_0x3527b1);const _0x14831e=_0x3527b1['meshUnifor'+'mBufferFor'+'mat'];v['assert'](_0x14831e),this['uniformBuf'+'fer']=new gp(_0x326408,_0x14831e,!(0x12*0x22+-0x401+0x19e));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x399a39,_0x5af680;(_0x399a39=this['bindGroup'])==null||_0x399a39['destroy'](),this['bindGroup']=null,(_0x5af680=this['uniformBuf'+'fer'])==null||_0x5af680['destroy'](),this['uniformBuf'+'fer']=null;}}const Vr=class Vr{constructor(_0x3bcf3a,_0x41a95a,_0x3719e0=null){c(this,'castShadow',!(-0x325*0x5+0x407+0xbb3)),c(this,'cull',!(-0x3*0xce+-0x853*-0x1+-0x5e9)),c(this,'drawOrder',0x981+0x193f+-0x22c0),c(this,'node'),c(this,'visible',!(0x1a5*0x6+0x1d1e+0x137e*-0x2)),c(this,'visibleThi'+'sFrame',!(0x1*0x1fc4+-0x1*0x143b+-0xb88)),c(this,'flipFacesF'+'actor',0x25df+-0xb0d+-0x1*0x1ad1),c(this,'gsplatInst'+'ance',null),c(this,'id',rC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(-0x1dc+-0x36e*-0x9+-0x1*0x1d02)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(-0x1488+0x65a+0xe2f*0x1)),c(this,'_aabb',new _e()),c(this,'_aabbVer',-(-0x1eb*0xb+-0x1b22+0x54*0x93)),c(this,'_aabbMeshV'+'er',-(-0x1b4c+-0x87*-0xf+0x1364)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(-0x1b8f+0xaad+0x2*0x871)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[0x21cd+-0x184f+-0x97e,0xdff+0x1a8a+0x1*-0x2889]),c(this,'_layer',c0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(0x2*-0x11d1+0x2186+0x21c)),c(this,'_renderSty'+'le',yo),c(this,'_screenSpa'+'ce',!(-0x2*-0xc0d+-0x1b6b+-0x5*-0xaa)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',hs<<0x1c9e*-0x1+-0x1*0x1915+-0x35c3*-0x1),c(this,'_calculate'+'SortDistan'+'ce',null);if(v['assert'](!(_0x3bcf3a instanceof De),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x3719e0,this['_mesh']=_0x3bcf3a,_0x3bcf3a['incRefCoun'+'t'](),this['material']=_0x41a95a,_0x3bcf3a['vertexBuff'+'er']){const _0x30f7de=_0x3bcf3a['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x30f7de['hasUv0']?m0:0x10*0x10b+-0xf03+0xd*-0x21,this['_shaderDef'+'s']|=_0x30f7de['hasUv1']?_0:0x137*-0xb+0x11cf+0x472*-0x1,this['_shaderDef'+'s']|=_0x30f7de['hasColor']?g0:-0x14aa+0x1459+0x51,this['_shaderDef'+'s']|=_0x30f7de['hasTangent'+'s']?Mp:0x7*0x33f+-0x527+-0x1192;}this['updateKey']();}set['renderStyl'+'e'](_0x5d66a0){this['_renderSty'+'le']=_0x5d66a0,this['mesh']['prepareRen'+'derState'](_0x5d66a0);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x2fd995){_0x2fd995!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x2fd995,_0x2fd995&&_0x2fd995['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x5b89ce){this['_aabb']=_0x5b89ce;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x29bd5f=this['_customAab'+'b'],_0x1b3c3d=!!_0x29bd5f;if(!_0x29bd5f){if(_0x29bd5f=nC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x3c669a=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x3c669a);}const _0x4fcfc2=this['mesh']['boneUsed'];let _0x11a0bc=!(-0x14ee+-0x31f+0x180d);for(let _0x264693=0xcfa+-0x706+-0xc*0x7f;_0x264693<this['mesh']['boneAabb']['length'];_0x264693++)_0x4fcfc2[_0x264693]&&(Cl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x264693],this['skinInstan'+'ce']['matrices'][_0x264693]),_0x11a0bc?(_0x11a0bc=!(-0x1f14+0xecb+0x104a),_0x29bd5f['center']['copy'](Cl['center']),_0x29bd5f['halfExtent'+'s']['copy'](Cl['halfExtent'+'s'])):_0x29bd5f['add'](Cl));_0x1b3c3d=!(0x1313+-0x119*0xb+-0x700);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x29bd5f['center']['copy'](this['mesh']['aabb']['center']),_0x29bd5f['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x29bd5f['center']['set'](0x1*-0x13ed+-0x10dd*0x1+0x24ca,0x33d*-0x7+0x1d98+-0x6ed,0x1*-0x16ad+-0x2309+-0x59*-0xa6),_0x29bd5f['halfExtent'+'s']['set'](0x1ca0+-0x1fb4*0x1+0x314,0x1042+-0xb*-0xb3+-0x17f3,0x5d8*0x4+0x2507+-0x3c67)),this['mesh']&&this['mesh']['morph']){const _0x312f52=this['mesh']['morph']['aabb'];_0x29bd5f['_expand'](_0x312f52['getMin'](),_0x312f52['getMax']());}_0x1b3c3d=!(-0x2554+0x1*-0x238f+0x48e3),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x1b3c3d&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x29bd5f,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0xfa83a4=>{_0xfa83a4['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x206e3e,_0x3fe4b2,_0x303aed,_0x144152,_0x448f6f,_0x8a0652,_0x307f79){var _0xdfd832;const _0x5bbf94=this['_shaderDef'+'s'];yr[-0x236*0x6+0x3*-0xc80+0x32c4]=_0x206e3e,yr[-0x1*-0x64d+-0x11e6+0x3de*0x3]=_0x3fe4b2,yr[0x7*-0xd+0xd87*-0x1+0xde4]=_0x5bbf94,yr[0x83d+-0x6ea+-0x150]=_0x144152['hash'];const _0x29aece=Zy(yr);let _0xf5db12=this['_shaderCac'+'he']['get'](_0x29aece);if(!_0xf5db12){const _0x4beb9b=this['_material'];if(_0xf5db12=new oC(),_0xf5db12['shader']=_0x4beb9b['variants']['get'](_0x29aece),_0xf5db12['hashes']=new Uint32Array(yr),!_0xf5db12['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x15f3e7=_0x4beb9b['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x303aed,'objDefs':_0x5bbf94,'cameraShaderParams':_0x144152,'pass':_0x206e3e,'sortedLights':_0x307f79,'viewUniformFormat':_0x448f6f,'viewBindGroupFormat':_0x8a0652,'vertexFormat':(_0xdfd832=this['mesh']['vertexBuff'+'er'])==null?void(-0xce*0x2+0x138*0xa+-0xa94*0x1):_0xdfd832['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x4beb9b['variants']['set'](_0x29aece,_0x15f3e7),_0xf5db12['shader']=_0x15f3e7;}this['_shaderCac'+'he']['set'](_0x29aece,_0xf5db12);}return v['call'](()=>{$v['equals'](_0xf5db12['hashes'],yr)||v['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0xf5db12;}set['material'](_0xf86954){this['clearShade'+'rs']();const _0x3ab254=this['_material'];_0x3ab254&&_0x3ab254['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0xf86954,_0xf86954&&(_0xf86954['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0xf86954['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x3dbb97){this['_layer']=_0x3dbb97,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x56ec93){_0x56ec93!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x56ec93,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x4bc829){this['_calculate'+'SortDistan'+'ce']=_0x4bc829;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0xe6b6cd){this['_receiveSh'+'adow']!==_0xe6b6cd&&(this['_receiveSh'+'adow']=_0xe6b6cd,this['_updateSha'+'derDefs'](_0xe6b6cd?this['_shaderDef'+'s']&-(-0xa87*0x1+0xc*-0xd2+-0x2f*-0x6f):this['_shaderDef'+'s']|Ep));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0xdd156){this['_updateSha'+'derDefs'](_0xdd156?this['_shaderDef'+'s']|Ou:this['_shaderDef'+'s']&-(-0x12a*0x9+-0x3fe3+0x8a5e));}get['batching'](){return(this['_shaderDef'+'s']&Ou)!==0x1d4f+-0x1ac8+0x1*-0x287;}set['skinInstan'+'ce'](_0x359a91){this['_skinInsta'+'nce']=_0x359a91,this['_updateSha'+'derDefs'](_0x359a91?this['_shaderDef'+'s']|$c:this['_shaderDef'+'s']&-(0x15f7+0x1b7d+-0x3171)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x8bd093){var _0x2dfb66;(_0x2dfb66=this['_morphInst'+'ance'])==null||_0x2dfb66['destroy'](),this['_morphInst'+'ance']=_0x8bd093;let _0x32d1b6=this['_shaderDef'+'s'];_0x32d1b6=_0x8bd093&&_0x8bd093['morph']['morphPosit'+'ions']?_0x32d1b6|qc:_0x32d1b6&-(-0x1*-0x283+0x547*0x1+-0x3c9),_0x32d1b6=_0x8bd093&&_0x8bd093['morph']['morphNorma'+'ls']?_0x32d1b6|Xc:_0x32d1b6&-(0x180a*0x1+0x1f64*0x1+0x9*-0x545),_0x32d1b6=_0x8bd093&&_0x8bd093['morph']['intRenderF'+'ormat']?_0x32d1b6|jc:_0x32d1b6&-(0x14f*-0x7+-0x1ded*-0x2+-0x12b0),this['_updateSha'+'derDefs'](_0x32d1b6);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x143afd){this['_screenSpa'+'ce']!==_0x143afd&&(this['_screenSpa'+'ce']=_0x143afd,this['_updateSha'+'derDefs'](_0x143afd?this['_shaderDef'+'s']|Cp:this['_shaderDef'+'s']&-(-0x36*0xd+0x12d1+-0x506*0x3)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x51edb3){this['_key'][Ei]=_0x51edb3;}get['key'](){return this['_key'][Ei];}set['mask'](_0x313970){const _0x403444=this['_shaderDef'+'s']&0x5*0x5f08+0x83f8+-0x15f21;this['_updateSha'+'derDefs'](_0x403444|_0x313970<<0x3de+0x198e+-0x1d5c);}get['mask'](){return this['_shaderDef'+'s']>>0x18d*-0x17+-0x1cac+0x4067;}set['instancing'+'Count'](_0x3f49d8){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x3f49d8);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:0x2e2+0x112+0x1*-0x3f4;}['destroy'](){var _0x397224,_0x404c8e,_0x44bc42;const _0x96407d=this['mesh'];_0x96407d&&(this['mesh']=null,_0x96407d['refCount']<-0x1ea9*0x1+-0x17b0+0x365a&&_0x96407d['destroy']()),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x1*-0x10bd+0x1*-0xa89+0x1b46],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x8b3+0x189*0xa+0x1*-0x6a6],null),(_0x397224=this['_skinInsta'+'nce'])==null||_0x397224['destroy'](),this['_skinInsta'+'nce']=null,(_0x404c8e=this['morphInsta'+'nce'])==null||_0x404c8e['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x44bc42=this['instancing'+'Data'])==null||_0x44bc42['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x516b00,_0x3aba3e){if(_0x516b00){for(let _0x42eb4b=0x1*0xab9+-0x2*-0xda6+-0x2605*0x1;_0x42eb4b<_0x516b00['length'];_0x42eb4b++){_0x516b00[_0x42eb4b]['_renderSty'+'le']=_0x3aba3e;const _0x365762=_0x516b00[_0x42eb4b]['mesh'];xd['has'](_0x365762)||(xd['add'](_0x365762),_0x365762['prepareRen'+'derState'](_0x3aba3e));}xd['clear']();}}['_isVisible'](_0x1e3db5){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x1e3db5):(yd['center']=this['aabb']['center'],yd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x1e3db5['frustum']['containsSp'+'here'](yd)>0x2c*0x49+0x261f*-0x1+-0x1*-0x1993):!(-0x198d*-0x1+-0x1718+-0x274);}['updateKey'](){const _0xb217d5=this['material'],_0x1d3745=_0xb217d5['alphaToCov'+'erage']||_0xb217d5['alphaTest']?Kt:_0xb217d5['blendType'];this['_key'][Ei]=(this['layer']&-0x1*0x1bd8+0x9d0+0x1a5*0xb)<<-0xa3*-0xa+0x8b*0x2f+-0x1fc8|(_0x1d3745===is?0xb86+-0x4e2+-0x6a3:-0x1*0x29b+-0x15e*-0x11+-0x14a3)<<-0x1723+0xd79+-0x4e2*-0x2|(_0xb217d5['id']&0x349cb+-0x365465*0x8+0x3af595c*0x1)<<-0xe2*0x1c+-0x1*-0x214c+0xf4*-0x9;}['setInstanc'+'ing'](_0x55732a,_0x10af2c=!(0x185e+0xb4e*-0x2+-0x1c1)){_0x55732a?(this['instancing'+'Data']=new aC(_0x55732a['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x55732a,_0x55732a['format']['instancing']=!(-0xe1c+-0xb*0x13f+0x1bd1),this['cull']=_0x10af2c):(this['instancing'+'Data']=null,this['cull']=!(0xd1e+-0x209b+-0x1*-0x137d)),this['_updateSha'+'derDefs'](_0x55732a?this['_shaderDef'+'s']|Wc:this['_shaderDef'+'s']&-(-0x146*0x14+-0x17bb+0xa4*0x4d));}['ensureMate'+'rial'](_0x30ab73){this['material']||(v['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=al(_0x30ab73));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x435e00){return this['parameters'][_0x435e00];}['setParamet'+'er'](_0xd941e1,_0x588f5b,_0x1c5d6d=-0x1*-0x138fbc973+-0x1a946983f+-0x1*-0x1704acecb){const _0x2a8a96=this['parameters'][_0xd941e1];_0x2a8a96?(_0x2a8a96['data']=_0x588f5b,_0x2a8a96['passFlags']=_0x1c5d6d):this['parameters'][_0xd941e1]={'scopeId':null,'data':_0x588f5b,'passFlags':_0x1c5d6d};}['setRealtim'+'eLightmap'](_0x2b0746,_0xdfd31f){const _0x45f9ae=this['getParamet'+'er'](_0x2b0746);_0x45f9ae!==_0xdfd31f&&(_0x45f9ae&&Si['decRef'](_0x45f9ae['data']),_0xdfd31f?(Si['incRef'](_0xdfd31f),this['setParamet'+'er'](_0x2b0746,_0xdfd31f)):this['deletePara'+'meter'](_0x2b0746));}['deletePara'+'meter'](_0x41ce83){this['parameters'][_0x41ce83]&&delete this['parameters'][_0x41ce83];}['setParamet'+'ers'](_0x3427fe,_0x950cf2){const _0x13a40e=this['parameters'];for(const _0x2b2811 in _0x13a40e){const _0x39389f=_0x13a40e[_0x2b2811];_0x39389f['passFlags']&_0x950cf2&&(_0x39389f['scopeId']||(_0x39389f['scopeId']=_0x3427fe['scope']['resolve'](_0x2b2811)),_0x39389f['scopeId']['setValue'](_0x39389f['data']));}}['setLightma'+'pped'](_0x2c8124){_0x2c8124?this['mask']=(this['mask']|cr)&-(-0x1*0x1996+-0xf9*0x1b+-0x10f*-0x31):(this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x1506+-0x12*0x21a+0x10ce],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x4*0x5f2+-0x3*0xc81+-0x4*-0xf53],null),this['_shaderDef'+'s']&=-(0x2634+0x2*0x279+0x1*-0x1a65),this['mask']=(this['mask']|hs)&-(0x248b+0x1450+-0x1c6a*0x2));}['setCustomA'+'abb'](_0x5420f6){_0x5420f6?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x5420f6):this['_customAab'+'b']=_0x5420f6['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0xe*-0xdd+-0x259a+0x1985)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Vr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Le=Vr;const lC=[0x20eb+0x1a0a+-0x3af5,0xe5f+-0x1403+0x5a5,-0x1350*-0x2+-0x1645*0x1+-0x1058,0x596+-0x18b2*0x1+0x1*0x131e,0x63*-0x9+-0x39*0x8d+-0xba1*-0x3,0x116*-0x4+-0x216+-0x1b*-0x3d],hC=[-0x16b9+0x25de*-0x1+0x3c97,-0x1bf*-0xd+-0x8*-0x2e+-0x1822,0x589*-0x2+-0xa63+0x1578,-0x3b*-0xa+-0xed1+0xc83,0x10f8+-0x2cd+-0xe28,0x23*-0x59+0x26ef*0x1+-0x1ac2],jm=new js();function Ym(_0x27d81a,_0x28eb0c){if(_0x27d81a&&!_0x28eb0c||!_0x27d81a&&_0x28eb0c)return!(-0x1b6a+0xc22+0xf49);if(_0x27d81a=_0x27d81a['data'],_0x28eb0c=_0x28eb0c['data'],_0x27d81a===_0x28eb0c)return!(-0x1d29+-0xa4e*-0x1+0x3*0x649);if(_0x27d81a instanceof Float32Array&&_0x28eb0c instanceof Float32Array){if(_0x27d81a['length']!==_0x28eb0c['length'])return!(0x3c8+-0xc0c+0x845*0x1);for(let _0xd63212=0x5*-0x4d9+0xa8e+0xdaf;_0xd63212<_0x27d81a['length'];_0xd63212++)if(_0x27d81a[_0xd63212]!==_0x28eb0c[_0xd63212])return!(0x387+0xde*0x1+0x4*-0x119);return!(0xd42+0x1*0x1cc1+-0x2a03);}return!(-0x1ac6+0x146e+0x659);}function cC(_0x5dc1c0,_0x34f0df){for(const _0x3f64d5 in _0x5dc1c0)if(_0x5dc1c0['hasOwnProp'+'erty'](_0x3f64d5)&&!Ym(_0x5dc1c0[_0x3f64d5],_0x34f0df[_0x3f64d5]))return!(-0xb43+0xec1*0x2+0x5*-0x3a6);for(const _0xbdb234 in _0x34f0df)if(_0x34f0df['hasOwnProp'+'erty'](_0xbdb234)&&!Ym(_0x34f0df[_0xbdb234],_0x5dc1c0[_0xbdb234]))return!(-0x141*0x10+0x233d+-0xf2c);return!(0x18f3*-0x1+-0xc34+0x2527);}function Sd(_0x1ed2c8){return _0x1ed2c8['node']['worldTrans'+'form']['scaleSign'];}class dC{constructor(_0x54866b,_0x445356,_0x3dfd66){this['device']=_0x54866b,this['rootNode']=_0x445356,this['scene']=_0x3dfd66,this['_init']=!(0x69+-0x3e7+0x37f),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x1*0x5cf+-0xe1b+0x84c,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x279581,_0x4e0285,_0x4d09a4,_0x34ea1a,_0x3f69fa){if(_0x34ea1a===void(0x1*0x2656+0xf3a*-0x2+-0x1*0x7e2)&&(_0x34ea1a=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x34ea1a]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x34ea1a+('\x20already\x20e'+'xists.'));return;}const _0x36c610=new et(_0x34ea1a,_0x279581,_0x4e0285,_0x4d09a4,_0x3f69fa);return this['_batchGrou'+'ps'][_0x34ea1a]=_0x36c610,_0x36c610;}['removeGrou'+'p'](_0xa77eba){if(!this['_batchGrou'+'ps'][_0xa77eba]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0xa77eba+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x5555e0=[];for(let _0x546a13=0xc78+0xd0f+-0x1987;_0x546a13<this['_batchList']['length'];_0x546a13++)this['_batchList'][_0x546a13]['batchGroup'+'Id']===_0xa77eba?this['destroyBat'+'ch'](this['_batchList'][_0x546a13]):_0x5555e0['push'](this['_batchList'][_0x546a13]);this['_batchList']=_0x5555e0,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0xa77eba),delete this['_batchGrou'+'ps'][_0xa77eba];}['markGroupD'+'irty'](_0x4a9353){this['_dirtyGrou'+'ps']['indexOf'](_0x4a9353)<-0x193*-0x12+0x3*-0x65e+0x314*-0x3&&this['_dirtyGrou'+'ps']['push'](_0x4a9353);}['getGroupBy'+'Name'](_0x72500c){const _0x130a01=this['_batchGrou'+'ps'];for(const _0x187337 in _0x130a01)if(_0x130a01['hasOwnProp'+'erty'](_0x187337)&&_0x130a01[_0x187337]['name']===_0x72500c)return _0x130a01[_0x187337];return null;}['getBatches'](_0x5cb19f){const _0x7c1802=[],_0x40141e=this['_batchList']['length'];for(let _0x169838=0x4db+0xff7*-0x2+0x1b13;_0x169838<_0x40141e;_0x169838++){const _0x4f259d=this['_batchList'][_0x169838];_0x4f259d['batchGroup'+'Id']===_0x5cb19f&&_0x7c1802['push'](_0x4f259d);}return _0x7c1802;}['_removeMod'+'elsFromBat'+'chGroup'](_0x136474,_0x47a125){if(_0x136474['enabled']){_0x136474['model']&&_0x136474['model']['batchGroup'+'Id']===_0x47a125&&(_0x136474['model']['batchGroup'+'Id']=-(-0xebf+0x2079+0xd*-0x15d)),_0x136474['render']&&_0x136474['render']['batchGroup'+'Id']===_0x47a125&&(_0x136474['render']['batchGroup'+'Id']=-(-0x1f2b+0x24af+-0x583)),_0x136474['element']&&_0x136474['element']['batchGroup'+'Id']===_0x47a125&&(_0x136474['element']['batchGroup'+'Id']=-(0x88a+0xa97+-0x1320)),_0x136474['sprite']&&_0x136474['sprite']['batchGroup'+'Id']===_0x47a125&&(_0x136474['sprite']['batchGroup'+'Id']=-(-0xbdf+0x92c*0x1+0x2b4));for(let _0x2493cc=-0xd3a+0x359+0x119*0x9;_0x2493cc<_0x136474['_children']['length'];_0x2493cc++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x136474['_children'][_0x2493cc],_0x47a125);}}['insert'](_0x3469fd,_0x3d5e60,_0x4dd290){const _0x4d4e6e=this['_batchGrou'+'ps'][_0x3d5e60];v['assert'](_0x4d4e6e,'Invalid\x20ba'+'tch\x20'+_0x3d5e60+'\x20insertion'),_0x4d4e6e&&_0x4d4e6e['_obj'][_0x3469fd]['indexOf'](_0x4dd290)<0x71e+-0x22ce+-0x1bb0*-0x1&&(_0x4d4e6e['_obj'][_0x3469fd]['push'](_0x4dd290),this['markGroupD'+'irty'](_0x3d5e60));}['remove'](_0x6aca72,_0x1ca5a4,_0x775fef){const _0x1f69fe=this['_batchGrou'+'ps'][_0x1ca5a4];if(v['assert'](_0x1f69fe,'Invalid\x20ba'+'tch\x20'+_0x1ca5a4+'\x20insertion'),_0x1f69fe){const _0x224da9=_0x1f69fe['_obj'][_0x6aca72]['indexOf'](_0x775fef);_0x224da9>=0x6*-0x287+0x1*-0x4fd+0x2e1*0x7&&(_0x1f69fe['_obj'][_0x6aca72]['splice'](_0x224da9,0x24f0+-0x82b+0x1c*-0x107),this['markGroupD'+'irty'](_0x1ca5a4));}}['_extractRe'+'nder'](_0x28786f,_0x23e39c,_0x596a90,_0x4dadaa){return _0x28786f['render']&&(_0x23e39c=_0x4dadaa[_0x28786f['render']['batchGroup'+'Id']]=_0x23e39c['concat'](_0x28786f['render']['meshInstan'+'ces']),_0x28786f['render']['removeFrom'+'Layers']()),_0x23e39c;}['_extractMo'+'del'](_0x5b706a,_0x108db,_0x26322b,_0x4eb440){return _0x5b706a['model']&&_0x5b706a['model']['model']&&(_0x108db=_0x4eb440[_0x5b706a['model']['batchGroup'+'Id']]=_0x108db['concat'](_0x5b706a['model']['meshInstan'+'ces']),_0x5b706a['model']['removeMode'+'lFromLayer'+'s'](),_0x5b706a['model']['_batchGrou'+'p']=_0x26322b),_0x108db;}['_extractEl'+'ement'](_0x2cd6a7,_0x4ff7a6,_0x5b522c){if(!_0x2cd6a7['element'])return;let _0x2c06cf=!(-0x2055+-0x1*-0x95f+0x16f7*0x1);_0x2cd6a7['element']['_text']&&_0x2cd6a7['element']['_text']['_model']['meshInstan'+'ces']['length']>0xd96*-0x1+-0x6d8+0x146e?(_0x4ff7a6['push'](_0x2cd6a7['element']['_text']['_model']['meshInstan'+'ces'][0xbad+-0x77c+-0x431]),_0x2cd6a7['element']['removeMode'+'lFromLayer'+'s'](_0x2cd6a7['element']['_text']['_model']),_0x2c06cf=!(0x1755+0x1*-0x1fac+-0x5*-0x1ab)):_0x2cd6a7['element']['_image']&&(_0x4ff7a6['push'](_0x2cd6a7['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x2cd6a7['element']['removeMode'+'lFromLayer'+'s'](_0x2cd6a7['element']['_image']['_renderabl'+'e']['model']),_0x2cd6a7['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x4ff7a6['push'](_0x2cd6a7['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x2cd6a7['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x2cd6a7['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x2cd6a7['element']['_dirtifyMa'+'sk'](),_0x2cd6a7['element']['_onPrerend'+'er']())),_0x2c06cf=!(-0x1564+0x156*-0x5+-0x1*-0x1c12)),_0x2c06cf&&(_0x5b522c['_ui']=!(-0x7*0x4d6+-0x65a+-0x2*-0x141a),_0x2cd6a7['element']['_batchGrou'+'p']=_0x5b522c);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x365080,_0x1db684){for(let _0x3a82ea=-0x3*-0x935+-0x29+-0x1b76;_0x3a82ea<_0x1db684['length'];_0x3a82ea++){const _0x5ae0c8=_0x1db684[_0x3a82ea],_0x218a57=this['_batchGrou'+'ps'][_0x5ae0c8];if(!_0x218a57)continue;let _0x41295f=_0x365080[_0x5ae0c8];_0x41295f||(_0x41295f=_0x365080[_0x5ae0c8]=[]);for(let _0x581819=-0x2193+0xcfa+0x1499;_0x581819<_0x218a57['_obj']['model']['length'];_0x581819++)_0x41295f=this['_extractMo'+'del'](_0x218a57['_obj']['model'][_0x581819],_0x41295f,_0x218a57,_0x365080);for(let _0x34e5f8=0x1018*0x1+0x5*0x65f+0x997*-0x5;_0x34e5f8<_0x218a57['_obj']['render']['length'];_0x34e5f8++)_0x41295f=this['_extractRe'+'nder'](_0x218a57['_obj']['render'][_0x34e5f8],_0x41295f,_0x218a57,_0x365080);for(let _0x5da39f=0x3ca+0x2402+-0x27cc;_0x5da39f<_0x218a57['_obj']['element']['length'];_0x5da39f++)this['_extractEl'+'ement'](_0x218a57['_obj']['element'][_0x5da39f],_0x41295f,_0x218a57);for(let _0x314cb7=-0x59*-0x59+-0x97*-0x20+-0xd*0x3d5;_0x314cb7<_0x218a57['_obj']['sprite']['length'];_0x314cb7++){const _0x32bd18=_0x218a57['_obj']['sprite'][_0x314cb7];_0x32bd18['sprite']&&_0x32bd18['sprite']['_meshInsta'+'nce']&&(_0x218a57['dynamic']||_0x32bd18['sprite']['sprite']['_renderMod'+'e']===Ti)&&(_0x41295f['push'](_0x32bd18['sprite']['_meshInsta'+'nce']),_0x32bd18['sprite']['removeMode'+'lFromLayer'+'s'](),_0x218a57['_sprite']=!(0x1ac6+-0x10d8+-0x9ee*0x1),_0x32bd18['sprite']['_batchGrou'+'p']=_0x218a57);}}}['generate'](_0x30e10f){const _0x2311ef={};_0x30e10f||(_0x30e10f=Object['keys'](this['_batchGrou'+'ps']));const _0x49e7f2=[];for(let _0x579cde=-0xb3*-0xd+0x583+0x2a*-0x59;_0x579cde<this['_batchList']['length'];_0x579cde++){if(_0x30e10f['indexOf'](this['_batchList'][_0x579cde]['batchGroup'+'Id'])<-0x5db*0x6+-0x23f8+-0x3be*-0x13){_0x49e7f2['push'](this['_batchList'][_0x579cde]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x579cde]);}if(this['_batchList']=_0x49e7f2,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x2311ef,_0x30e10f),_0x30e10f===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0xf45+0x62*0x46+0xd*-0xe3;else{const _0x47b261=[];for(let _0x1b4569=0x39b*-0x6+0x9a9*-0x2+0x28f4;_0x1b4569<this['_dirtyGrou'+'ps']['length'];_0x1b4569++)_0x30e10f['indexOf'](this['_dirtyGrou'+'ps'][_0x1b4569])<0x2088+0x2141+-0x41c9&&_0x47b261['push'](this['_dirtyGrou'+'ps'][_0x1b4569]);this['_dirtyGrou'+'ps']=_0x47b261;}let _0x562372,_0x317f9f,_0x26d268,_0x4e55dd;for(const _0x2e039a in _0x2311ef)if(_0x2311ef['hasOwnProp'+'erty'](_0x2e039a)){if(_0x562372=_0x2311ef[_0x2e039a],_0x26d268=this['_batchGrou'+'ps'][_0x2e039a],!_0x26d268){v['error']('batch\x20grou'+'p\x20'+_0x2e039a+'\x20not\x20found');continue;}_0x317f9f=this['prepare'](_0x562372,_0x26d268['dynamic'],_0x26d268['maxAabbSiz'+'e'],_0x26d268['_ui']||_0x26d268['_sprite']);for(let _0x166c4f=-0xd4*0x22+0x29*0xe5+-0x885;_0x166c4f<_0x317f9f['length'];_0x166c4f++)_0x4e55dd=this['create'](_0x317f9f[_0x166c4f],_0x26d268['dynamic'],parseInt(_0x2e039a,0x1748+0x2*0x90d+-0x372*0xc)),_0x4e55dd&&_0x4e55dd['addToLayer'+'s'](this['scene'],_0x26d268['layers']);}}['prepare'](_0x16c38a,_0x47feda,_0x433a82=Number['POSITIVE_I'+'NFINITY'],_0x2a8068){if(_0x16c38a['length']===0x19c3+0x1fca+-0x398d)return[];const _0xac3e07=_0x433a82*(-0x8*-0x362+-0x211+-0x18ff+0.5),_0x241380=0xc*-0x301+0x1d7a+0x52*0x21,_0x485be3=-0xb72a17*-0x22d+0x6fd7a9d4+-0xfe5e3de0,_0x305902=new _e(),_0x2f3802=new _e();let _0x380332=null,_0x264f2d;const _0x2989fc=[];let _0x8f5b04=0x1dcb+0x34d+-0x584*0x6;_0x2a8068&&_0x16c38a['sort']((_0x46661c,_0x356f10)=>_0x46661c['drawOrder']-_0x356f10['drawOrder']);let _0x5b5c90=_0x16c38a,_0x2672d9;const _0x798891=_0x2a8068?function(_0x4ca5ee){_0x380332?_0x380332['add'](_0x4ca5ee['aabb']):_0x380332=_0x4ca5ee['aabb']['clone'](),_0x2672d9['push'](_0x4ca5ee);}:function(_0x1c4c5f){_0x2672d9['push'](_0x1c4c5f);};for(;_0x5b5c90['length']>0x26f6+-0x1622+-0x10d4;){_0x2989fc[_0x8f5b04]=[_0x5b5c90[0x12d1+0x1f47+-0x394*0xe]],_0x2672d9=[];const _0xa74058=_0x5b5c90[-0x2*0x734+0x109b+-0x1*0x233]['material'],_0x5b3550=_0x5b5c90[-0x23a1+0x8f*-0x28+-0x61*-0x99]['layer'],_0x94fca6=_0x5b5c90[-0x5*-0x655+-0x1d*-0x47+-0x6*0x69e]['_shaderDef'+'s'],_0x318304=_0x5b5c90[0x3b*0x29+-0x262b*-0x1+0x2*-0x17cf]['parameters'],_0x3a8edd=_0x5b5c90[-0x15b*0x6+-0x1bc5*-0x1+-0x13a3]['stencilFro'+'nt'];let _0x469588=_0x5b5c90[0x2*0x416+-0x1806+0x7ed*0x2]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x18c930=_0x5b5c90[-0xdd7+-0x24c6+0x329d]['drawOrder'];_0x305902['copy'](_0x5b5c90[-0x105b+0x1*-0x683+-0x2*-0xb6f]['aabb']);const _0xbaa6c=Sd(_0x5b5c90[0xd*0x2a1+0x1051+-0x327e]),_0x2ed2f8=_0x5b5c90[-0xd8e*-0x2+-0x1*0x13e1+-0x73b*0x1]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x4d397f=_0x5b5c90[-0x6*0xea+-0x4d8+0xa54]['mesh']['primitive'][-0x18e9+-0x5*-0x3a5+-0x8*-0xd6]['indexed'];_0x380332=null;for(let _0x40f0fd=-0x14b*0x19+0x45+0x200f;_0x40f0fd<_0x5b5c90['length'];_0x40f0fd++){const _0x3b607f=_0x5b5c90[_0x40f0fd];if(_0x47feda&&_0x2989fc[_0x8f5b04]['length']>=_0x241380){_0x2672d9=_0x2672d9['concat'](_0x5b5c90['slice'](_0x40f0fd));break;}if(_0xa74058!==_0x3b607f['material']||_0x5b3550!==_0x3b607f['layer']||_0x2ed2f8!==_0x3b607f['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x4d397f!==_0x3b607f['mesh']['primitive'][0x1*0x1d3e+0x1*-0x13d5+-0x969]['indexed']||_0x94fca6!==_0x3b607f['_shaderDef'+'s']||_0x469588+_0x3b607f['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x485be3){_0x798891(_0x3b607f);continue;}if(_0x2f3802['copy'](_0x305902),_0x2f3802['add'](_0x3b607f['aabb']),_0x2f3802['halfExtent'+'s']['x']>_0xac3e07||_0x2f3802['halfExtent'+'s']['y']>_0xac3e07||_0x2f3802['halfExtent'+'s']['z']>_0xac3e07){_0x798891(_0x3b607f);continue;}if(_0x3a8edd&&(!(_0x264f2d=_0x3b607f['stencilFro'+'nt'])||_0x3a8edd['func']!==_0x264f2d['func']||_0x3a8edd['zpass']!==_0x264f2d['zpass'])){_0x798891(_0x3b607f);continue;}if(_0xbaa6c!==Sd(_0x3b607f)){_0x798891(_0x3b607f);continue;}if(!cC(_0x318304,_0x3b607f['parameters'])){_0x798891(_0x3b607f);continue;}if(_0x2a8068&&_0x380332&&_0x380332['intersects'](_0x3b607f['aabb'])&&_0x3b607f['drawOrder']!==_0x18c930){_0x798891(_0x3b607f);continue;}_0x305902['add'](_0x3b607f['aabb']),_0x469588+=_0x3b607f['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x2989fc[_0x8f5b04]['push'](_0x3b607f);}_0x8f5b04++,_0x5b5c90=_0x2672d9;}return _0x2989fc;}['collectBat'+'chedMeshDa'+'ta'](_0x4d4049,_0x54b3d4){let _0x5dfa24=null,_0x4fbe73=-0xa96+-0x1*0x4+0xa9a,_0x5b197e=0xdb3+-0x1faf*-0x1+-0x2d62,_0x2fa2c3=null;for(let _0x419509=-0x10db*-0x1+0x2*-0x1051+0xfc7;_0x419509<_0x4d4049['length'];_0x419509++)if(_0x4d4049[_0x419509]['visible']){const _0x228459=_0x4d4049[_0x419509]['mesh'],_0x4dba38=_0x228459['vertexBuff'+'er']['numVertice'+'s'];if(_0x4fbe73+=_0x4dba38,_0x228459['primitive'][-0x1f59+-0x4f5+0x1*0x244e]['indexed'])_0x5b197e+=_0x228459['primitive'][0x146*0x1+0x19c3+-0x1b09]['count'];else{const _0x139b5b=_0x228459['primitive'][-0x1a10+-0x5ef*0x6+0x3daa]['type'];(_0x139b5b===Yr||_0x139b5b===ar)&&_0x228459['primitive'][0x1b*0x3f+-0x8f9*0x1+-0x95*-0x4]['count']===-0xc7*0x1f+-0x295*-0x4+0xdc9&&(_0x5b197e+=-0xf76+0x1481+-0x1*0x505);}if(!_0x5dfa24){_0x2fa2c3=_0x4d4049[_0x419509]['material'],_0x5dfa24={};const _0x316c92=_0x228459['vertexBuff'+'er']['format']['elements'];for(let _0x4498c6=-0x283*-0xd+-0xe49+-0x125e;_0x4498c6<_0x316c92['length'];_0x4498c6++){const _0x2e9af5=_0x316c92[_0x4498c6]['name'];_0x5dfa24[_0x2e9af5]={'numComponents':_0x316c92[_0x4498c6]['numCompone'+'nts'],'dataType':_0x316c92[_0x4498c6]['dataType'],'normalize':_0x316c92[_0x4498c6]['normalize'],'count':0x0};}_0x54b3d4&&(_0x5dfa24[qt]={'numComponents':0x1,'dataType':Ee,'normalize':!(-0x2*-0x1d6+0x1867+-0x1c12),'count':0x0});}}return{'streams':_0x5dfa24,'batchNumVerts':_0x4fbe73,'batchNumIndices':_0x5b197e,'material':_0x2fa2c3};}['create'](_0x578a0c,_0x9319f5,_0x3d9605){const _0x12483c=ne();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x1474+0x443*0x8+0x1*-0xda4));let _0x4f3667=null,_0x949673,_0x4886ef,_0x1219c9,_0x7c9416=null;const _0x26620b=this['collectBat'+'chedMeshDa'+'ta'](_0x578a0c,_0x9319f5);if(_0x26620b['streams']){const _0x15363c=_0x26620b['streams'];let _0x63135d=_0x26620b['material'];const _0x3a39d0=_0x26620b['batchNumVe'+'rts'],_0x11af82=_0x26620b['batchNumIn'+'dices'];_0x7c9416=new zm(_0x578a0c,_0x9319f5,_0x3d9605),this['_batchList']['push'](_0x7c9416);let _0x330da2,_0x468877,_0x4d2fae,_0x259d43=-0x30e+0x10fc*-0x1+-0x2d*-0x72,_0x4142e5=0x2f2*0x9+0x18*0x61+-0x516*0x7,_0x5b468e;const _0x2ee95a=_0x3a39d0<=0x44b9*0x3+-0x1*0xc33d+0x2b*0x5b3?Uint16Array:Uint32Array,_0x250af2=new _0x2ee95a(_0x11af82);for(_0x949673 in _0x15363c)_0x4f3667=_0x15363c[_0x949673],_0x4f3667['typeArrayT'+'ype']=da[_0x4f3667['dataType']],_0x4f3667['elementByt'+'eSize']=_o[_0x4f3667['dataType']],_0x4f3667['buffer']=new _0x4f3667['typeArrayT'+'ype'](_0x3a39d0*_0x4f3667['numCompone'+'nts']);for(let _0x453d4b=0x149c+-0x393+-0x1109;_0x453d4b<_0x578a0c['length'];_0x453d4b++)if(_0x578a0c[_0x453d4b]['visible']){_0x4886ef=_0x578a0c[_0x453d4b]['mesh'],_0x1219c9=_0x4886ef['vertexBuff'+'er']['numVertice'+'s'],_0x9319f5||(_0x5b468e=_0x578a0c[_0x453d4b]['node']['getWorldTr'+'ansform']());for(_0x949673 in _0x15363c)if(_0x949673!==qt){_0x4f3667=_0x15363c[_0x949673];const _0x26b43e=new _0x4f3667['typeArrayT'+'ype'](_0x4f3667['buffer']['buffer'],_0x4f3667['elementByt'+'eSize']*_0x4f3667['count']),_0x1496df=_0x4886ef['getVertexS'+'tream'](_0x949673,_0x26b43e)*_0x4f3667['numCompone'+'nts'];if(_0x4f3667['count']+=_0x1496df,!_0x9319f5&&_0x4f3667['numCompone'+'nts']>=-0x6*-0x99+0x97f+-0xd12){if(_0x949673===He){const _0x2ca768=_0x5b468e['data'],_0x39b592=_0x2ca768[-0x1103*0x1+0x5f7*0x1+0xb0c],_0x31e9f3=_0x2ca768[0x41b*0x2+0x2b*0x1+-0x860],_0x161b05=_0x2ca768[0x2278+-0x7*-0x4ef+0x40f*-0x11],_0x336627=_0x2ca768[0x1a1*0x2+0xce*-0x21+0x1750],_0x49604b=_0x2ca768[0xc3+0xee9+-0xfa7],_0x5ec509=_0x2ca768[0x491*-0x7+-0x411*-0x9+-0x49c],_0x1ce4bf=_0x2ca768[-0x22*0x100+-0x17*0x164+0x4204],_0x4f18ce=_0x2ca768[0x2*-0x11f2+-0x1fcd*0x1+0x43ba],_0x2e9370=_0x2ca768[0x2463+0xc95*0x3+-0x8*0x943],_0x228bc2=_0x2ca768[0x1ca3+-0x27*0xe5+-0x1*-0x64c],_0x5d0838=_0x2ca768[-0x2*-0xf67+-0x194c+0x575*-0x1],_0x3fb9b0=_0x2ca768[0x93d+-0x209+-0x726];let _0x3fa801,_0x1ce68c,_0x1b359a;for(let _0x279f7e=0x1*0x10c3+0x3*0x4e4+0xd*-0x26b;_0x279f7e<_0x1496df;_0x279f7e+=_0x4f3667['numCompone'+'nts'])_0x3fa801=_0x26b43e[_0x279f7e],_0x1ce68c=_0x26b43e[_0x279f7e+(-0x3a9*-0xa+-0xf09*0x1+0x78*-0x2e)],_0x1b359a=_0x26b43e[_0x279f7e+(-0x3f9*-0x7+-0x173f+-0x2*0x247)],_0x26b43e[_0x279f7e]=_0x3fa801*_0x39b592+_0x1ce68c*_0x336627+_0x1b359a*_0x1ce4bf+_0x228bc2,_0x26b43e[_0x279f7e+(0x75*-0x25+-0x56e+0x1658)]=_0x3fa801*_0x31e9f3+_0x1ce68c*_0x49604b+_0x1b359a*_0x4f18ce+_0x5d0838,_0x26b43e[_0x279f7e+(0x4*-0xb7+0x1*-0x1edd+0x21bb)]=_0x3fa801*_0x161b05+_0x1ce68c*_0x5ec509+_0x1b359a*_0x2e9370+_0x3fb9b0;}else{if(_0x949673===Yt||_0x949673===Zs){jm['invertMat4'](_0x5b468e)['transpose']();const [_0x4dd2ae,_0x50234b,_0xcc71d6,_0x54ee3d,_0x33f41e,_0x5d7135,_0x2020e8,_0x1a9196,_0x44d628]=jm['data'];let _0x599101,_0x29781d,_0x476219;for(let _0xc92cee=-0x1c7b+0x6b1*-0x3+0x308e;_0xc92cee<_0x1496df;_0xc92cee+=_0x4f3667['numCompone'+'nts'])_0x599101=_0x26b43e[_0xc92cee],_0x29781d=_0x26b43e[_0xc92cee+(0x1bba+0x232b+-0x3ee4)],_0x476219=_0x26b43e[_0xc92cee+(0x2552+-0xc56+-0x18fa)],_0x26b43e[_0xc92cee]=_0x599101*_0x4dd2ae+_0x29781d*_0x54ee3d+_0x476219*_0x2020e8,_0x26b43e[_0xc92cee+(-0x11a1+-0x5d*-0x33+-0xe5*0x1)]=_0x599101*_0x50234b+_0x29781d*_0x33f41e+_0x476219*_0x1a9196,_0x26b43e[_0xc92cee+(-0x2686+0x3*0x73e+0x6*0x2cd)]=_0x599101*_0xcc71d6+_0x29781d*_0x5d7135+_0x476219*_0x44d628;}}}}if(_0x9319f5){_0x4f3667=_0x15363c[qt];for(let _0x27410a=-0xd4f*-0x1+-0x18af+0xb60;_0x27410a<_0x1219c9;_0x27410a++)_0x4f3667['buffer'][_0x4f3667['count']++]=_0x453d4b;}if(_0x4886ef['primitive'][-0x311+0x1c*0xee+0x16f7*-0x1]['indexed']){_0x330da2=_0x4886ef['primitive'][-0x33*0x67+0x1b07+-0xee*0x7]['base'],_0x468877=_0x4886ef['primitive'][-0x2*0x1349+-0x1241*-0x1+0x1451]['count'];const _0x2ce50b=_0x4886ef['indexBuffe'+'r'][-0x2*0x80b+0x2549*-0x1+0x355f]['getFormat']();_0x4d2fae=new Lh[_0x2ce50b](_0x4886ef['indexBuffe'+'r'][-0x1b6e+0x4*0x59f+0x4f2]['storage']);}else{const _0x183669=_0x4886ef['primitive'][0x1aab+-0x1*0x1304+-0x7a7]['type'];if(_0x183669===Yr||_0x183669===ar){if(_0x4886ef['primitive'][-0x2*-0x535+0x13*0x19b+-0x28eb]['count']===0x3*-0xc95+-0x1*-0x2667+0x29*-0x4)_0x330da2=0xd42+-0xadd+-0x265,_0x468877=-0x994+0x1e55*0x1+-0x14bb,_0x4d2fae=_0x183669===Yr?lC:hC;else{_0x468877=0x180*0xb+0x16b0+-0x2730;continue;}}}for(let _0x561054=0xca*0x7+0x278*0xb+-0x1*0x20ae;_0x561054<_0x468877;_0x561054++)_0x250af2[_0x561054+_0x4142e5]=_0x4d2fae[_0x330da2+_0x561054]+_0x259d43;_0x4142e5+=_0x468877,_0x259d43+=_0x1219c9;}_0x4886ef=new Ie(this['device']);for(_0x949673 in _0x15363c)_0x4f3667=_0x15363c[_0x949673],_0x4886ef['setVertexS'+'tream'](_0x949673,_0x4f3667['buffer'],_0x4f3667['numCompone'+'nts'],void(0x2175+-0x1bf7+-0x57e),_0x4f3667['dataType'],_0x4f3667['normalize']);_0x250af2['length']>-0xf31*0x2+-0x552*-0x1+0x2*0xc88&&_0x4886ef['setIndices'](_0x250af2),_0x4886ef['update'](Ms,!(0x25f9+0x1*-0x23a2+0x1*-0x256)),_0x9319f5&&(_0x63135d=_0x63135d['clone'](),_0x63135d['update']());const _0x28ba0=new Le(_0x4886ef,_0x63135d,this['rootNode']);_0x28ba0['castShadow']=_0x7c9416['origMeshIn'+'stances'][0x1*0x228e+0x1*-0xf1f+-0x136f]['castShadow'],_0x28ba0['parameters']=_0x7c9416['origMeshIn'+'stances'][-0x1*0x15ce+-0x19ac+0x2f7a]['parameters'],_0x28ba0['layer']=_0x7c9416['origMeshIn'+'stances'][-0x17c4+-0x1*-0x156d+-0x257*-0x1]['layer'],_0x28ba0['_shaderDef'+'s']=_0x7c9416['origMeshIn'+'stances'][-0x97c*-0x1+-0x1206*-0x1+0x2*-0xdc1]['_shaderDef'+'s'],_0x28ba0['batching']=!(-0x2*-0xb93+-0x2*0x3b3+-0x540*0x3),_0x28ba0['cull']=_0x7c9416['origMeshIn'+'stances'][-0x64a+-0x1746*-0x1+-0x2*0x87e]['cull'];const _0x45f5a2=this['_batchGrou'+'ps'][_0x3d9605];if(_0x45f5a2&&_0x45f5a2['_ui']&&(_0x28ba0['cull']=!(0x146f*0x1+0x1622*0x1+-0x552*0x8)),_0x9319f5){const _0x39a2ec=[];for(let _0x429ee5=-0xda5+-0x1f71+0x2d16;_0x429ee5<_0x7c9416['origMeshIn'+'stances']['length'];_0x429ee5++)_0x39a2ec['push'](_0x7c9416['origMeshIn'+'stances'][_0x429ee5]['node']);_0x28ba0['skinInstan'+'ce']=new Vm(this['device'],_0x39a2ec,this['rootNode']);}_0x28ba0['_updateAab'+'b']=!(-0xd9b+0x1*-0xaee+-0x417*-0x6),_0x28ba0['drawOrder']=_0x7c9416['origMeshIn'+'stances'][-0x886+-0x1a11*-0x1+-0x118b]['drawOrder'],_0x28ba0['stencilFro'+'nt']=_0x7c9416['origMeshIn'+'stances'][-0xb81+-0x1eb3+0x2a34]['stencilFro'+'nt'],_0x28ba0['stencilBac'+'k']=_0x7c9416['origMeshIn'+'stances'][-0xe2+0x1*0x2703+-0x2621]['stencilBac'+'k'],_0x28ba0['flipFacesF'+'actor']=Sd(_0x7c9416['origMeshIn'+'stances'][0x2*-0x2f3+-0x18d7*-0x1+-0x12f1]),_0x28ba0['castShadow']=_0x7c9416['origMeshIn'+'stances'][0x6d7+0xd67+-0x1*0x143e]['castShadow'],_0x7c9416['meshInstan'+'ce']=_0x28ba0,_0x7c9416['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ne()-_0x12483c,_0x7c9416;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x663+0xb*-0x109+0x500&&this['generate'](this['_dirtyGrou'+'ps']);const _0x2c78c4=ne();for(let _0x3476e1=0x1f32+0x2571+-0x44a3;_0x3476e1<this['_batchList']['length'];_0x3476e1++)this['_batchList'][_0x3476e1]['dynamic']&&this['_batchList'][_0x3476e1]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ne()-_0x2c78c4;}['clone'](_0x1665a5,_0x12df15){const _0x11b5e3=new zm(_0x12df15,_0x1665a5['dynamic'],_0x1665a5['batchGroup'+'Id']);this['_batchList']['push'](_0x11b5e3);const _0x350604=[];for(let _0x5c7a99=0x199c*-0x1+-0x2006+0x39a2;_0x5c7a99<_0x12df15['length'];_0x5c7a99++)_0x350604['push'](_0x12df15[_0x5c7a99]['node']);return _0x11b5e3['meshInstan'+'ce']=new Le(_0x1665a5['meshInstan'+'ce']['mesh'],_0x1665a5['meshInstan'+'ce']['material'],_0x1665a5['meshInstan'+'ce']['node']),_0x11b5e3['meshInstan'+'ce']['_updateAab'+'b']=!(-0x276+0x37*-0x5+0x3*0x12e),_0x11b5e3['meshInstan'+'ce']['parameters']=_0x12df15[-0xd3*0x11+-0x19aa+0x27ad]['parameters'],_0x11b5e3['meshInstan'+'ce']['cull']=_0x12df15[0x4ff*0x1+-0x19*-0x113+-0x12*0x1c5]['cull'],_0x11b5e3['meshInstan'+'ce']['layer']=_0x12df15[0xa65*-0x2+0x25e7+-0x111d]['layer'],_0x1665a5['dynamic']&&(_0x11b5e3['meshInstan'+'ce']['skinInstan'+'ce']=new Vm(this['device'],_0x350604,this['rootNode'])),_0x11b5e3['meshInstan'+'ce']['castShadow']=_0x1665a5['meshInstan'+'ce']['castShadow'],_0x11b5e3;}['destroyBat'+'ch'](_0x29d0ca){_0x29d0ca['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x29d0ca['batchGroup'+'Id']]['layers']);}}const Km='uSceneColo'+'rMap';class uC extends ds{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x1eca89,_0x2f7fce,_0x493d8){if((_0x1eca89==null?void(0x10ba*0x2+-0x3*0x7db+-0x1*0x9e3):_0x1eca89['colorBuffe'+'r']['format'])!==_0x493d8)return!(-0x74b*-0x4+-0x6*-0x15+-0x1daa);const _0x2eb539=(_0x2f7fce==null?void(-0x5*0x4c+0x1*-0x2bd+-0x17*-0x2f):_0x2f7fce['width'])||this['device']['width'],_0x2218c2=(_0x2f7fce==null?void(-0x16eb+0xe4a+0x2f*0x2f):_0x2f7fce['height'])||this['device']['height'];return!_0x1eca89||_0x2eb539!==_0x1eca89['width']||_0x2218c2!==_0x1eca89['height'];}['allocateRe'+'nderTarget'](_0x3c2d5c,_0x237e68,_0x17c6ad,_0x2a6e29){const _0x4acb1c=new he(_0x17c6ad,{'name':Km,'format':_0x2a6e29,'width':_0x237e68?_0x237e68['colorBuffe'+'r']['width']:_0x17c6ad['width'],'height':_0x237e68?_0x237e68['colorBuffe'+'r']['height']:_0x17c6ad['height'],'mipmaps':!(0x2*-0x1264+0x155b+0xf6d),'minFilter':nn,'magFilter':st,'addressU':ae,'addressV':ae});return _0x3c2d5c?(_0x3c2d5c['destroyFra'+'meBuffers'](),_0x3c2d5c['_colorBuff'+'er']=_0x4acb1c,_0x3c2d5c['_colorBuff'+'ers']=[_0x4acb1c]):_0x3c2d5c=new pt({'name':'ColorGrabR'+'T','colorBuffer':_0x4acb1c,'depth':!(-0x1d25+-0x1*0x1141+-0x6a1*-0x7),'stencil':!(0x10fd+0x1*-0x2315+0x1219),'autoResolve':!(0x310*-0xc+0x70*0x2f+0x5*0x33d)}),_0x3c2d5c;}['releaseRen'+'derTarget'](_0x1475b3){_0x1475b3&&(_0x1475b3['destroyTex'+'tureBuffer'+'s'](),_0x1475b3['destroy']());}['frameUpdat'+'e'](){const _0x2a69b5=this['device'],_0x243c38=this['source'],_0x5aa951=(_0x243c38==null?void(0x50e+-0x10f2+-0x4*-0x2f9):_0x243c38['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x243c38==null?void(-0x1f54+0x1*-0x254b+0x449f):_0x243c38['colorBuffe'+'r'],_0x5aa951)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x243c38,_0x2a69b5,_0x5aa951));const _0x4461f8=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x2a69b5['scope']['resolve'](Km)['setValue'](_0x4461f8);}['execute'](){const _0x4553a8=this['device'];G['pushGpuMar'+'ker'](_0x4553a8,'GRAB-COLOR');const _0x2273ab=this['source'],_0xe3db5b=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x4553a8['isWebGPU']?(_0x4553a8['copyRender'+'Target'](_0x2273ab,this['colorRende'+'rTarget'],!(-0x3*-0xa11+0x1e+-0x1e51),!(-0xf*0x18f+-0x1*0x24b+-0x1*-0x19ad)),_0x4553a8['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x4553a8['copyRender'+'Target'](_0x2273ab,this['colorRende'+'rTarget'],!(-0xcd7*-0x2+0x9ef+-0x1*0x239d),!(0x1e*-0x8b+0xc71+0x3da)),_0x4553a8['activeText'+'ure'](_0x4553a8['maxCombine'+'dTextures']-(-0xb5a*-0x1+0x1a8+-0xd01)),_0x4553a8['bindTextur'+'e'](_0xe3db5b),_0x4553a8['gl']['generateMi'+'pmap'](_0xe3db5b['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x4553a8);}}const Zm='uSceneDept'+'hMap';class fC extends ds{constructor(_0xa602a7,_0x442940){super(_0xa602a7),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x442940;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x3a69f6,_0x443014){const _0x3a8cfa=(_0x443014==null?void(-0x26b2+-0x22ec+0x12*0x417):_0x443014['width'])||this['device']['width'],_0x42df98=(_0x443014==null?void(0x1a49+0xa34+-0x247d*0x1):_0x443014['height'])||this['device']['height'];return!_0x3a69f6||_0x3a8cfa!==_0x3a69f6['width']||_0x42df98!==_0x3a69f6['height'];}['allocateRe'+'nderTarget'](_0xa89e8b,_0x51c745,_0x4ae5dc,_0x4c5cc4,_0x32790e){const _0x16401b=new he(_0x4ae5dc,{'name':Zm,'format':_0x4c5cc4,'width':_0x51c745?_0x51c745['colorBuffe'+'r']['width']:_0x4ae5dc['width'],'height':_0x51c745?_0x51c745['colorBuffe'+'r']['height']:_0x4ae5dc['height'],'mipmaps':!(0x23c7*0x1+0xd09+0x5*-0x9c3),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});return _0xa89e8b?(_0xa89e8b['destroyFra'+'meBuffers'](),_0x32790e?_0xa89e8b['_depthBuff'+'er']=_0x16401b:(_0xa89e8b['_colorBuff'+'er']=_0x16401b,_0xa89e8b['_colorBuff'+'ers']=[_0x16401b])):_0xa89e8b=new pt({'name':'DepthGrabR'+'T','colorBuffer':_0x32790e?null:_0x16401b,'depthBuffer':_0x32790e?_0x16401b:null,'depth':!_0x32790e,'stencil':_0x4ae5dc['supportsSt'+'encil'],'autoResolve':!(-0x2*0x5e1+-0x12f7+0x1eba)}),_0xa89e8b;}['releaseRen'+'derTarget'](_0x1b376){_0x1b376&&(_0x1b376['destroyTex'+'tureBuffer'+'s'](),_0x1b376['destroy']());}['before'](){var _0x23720c,_0x85e73f;const _0x5501d2=this['camera'],_0x2e1a2a=this['device'],_0x4f89a4=(_0x5501d2==null?void(-0x1477+-0x4b7*-0x4+0x19b):_0x5501d2['renderTarg'+'et'])??_0x2e1a2a['backBuffer'];let _0x45b56c=!(-0x5*0x1df+0x838*0x4+-0x1785),_0x589330=_0x4f89a4['stencil']?vc:Ci;_0x2e1a2a['isWebGPU']&&_0x4f89a4['samples']>-0x3*0x50f+0x1d*0xc5+-0x723&&(_0x589330=Ii,_0x45b56c=!(0x8*-0x38f+-0x188b+0x3504));const _0x9ebe02=((_0x23720c=_0x5501d2['renderTarg'+'et'])==null?void(0xea0+-0x5*-0x70b+0x3*-0x109d):_0x23720c['depthBuffe'+'r'])??((_0x85e73f=_0x5501d2['renderTarg'+'et'])==null?void(-0x1772+-0x6b8*-0x4+-0x36e):_0x85e73f['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x9ebe02)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x5501d2['renderTarg'+'et'],_0x2e1a2a,_0x589330,_0x45b56c));const _0x592ad6=_0x45b56c?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x2e1a2a['scope']['resolve'](Zm)['setValue'](_0x592ad6);}['execute'](){const _0x54ffc5=this['device'];if(G['pushGpuMar'+'ker'](_0x54ffc5,'GRAB-DEPTH'),_0x54ffc5['isWebGL2']&&_0x54ffc5['renderTarg'+'et']['samples']>-0x1*0xb23+0x174*0x3+0x1b2*0x4){const _0x221cc7=_0x54ffc5['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0xe3542d=this['depthRende'+'rTarget'];_0x54ffc5['renderTarg'+'et']=_0xe3542d,_0x54ffc5['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x54ffc5,_0x221cc7,_0xe3542d['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x54ffc5['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x54ffc5['copyRender'+'Target'](_0x54ffc5['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x101+0xd56+0xe56*-0x1),!(0x21f+-0x1*0xd03+0xae4));G['popGpuMark'+'er'](_0x54ffc5);}}class A0{constructor(){c(this,'_gammaCorr'+'ection',hh),c(this,'_toneMappi'+'ng',Ap),c(this,'_srgbRende'+'rTarget',!(-0x1*-0x24af+0x1276+0x3724*-0x1)),c(this,'_ssaoEnabl'+'ed',!(-0x88f+0x1471+0x1*-0xbe1)),c(this,'_fog',Fa),c(this,'_sceneDept'+'hMapLinear',!(0x87d*0x1+0xa72+-0x12ee)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(-0x11c8+0x1fa8+-0x1bc*0x8));}get['hash'](){if(this['_hash']===void(0x1*0xb45+-0x4ed*-0x1+-0x3*0x566)){const _0x2c1b5d=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hn(_0x2c1b5d);}return this['_hash'];}get['defines'](){const _0x2fd066=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0xb25+0x1175*0x1+-0x1c99),_0x2fd066['clear'](),this['_sceneDept'+'hMapLinear']&&_0x2fd066['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x295*0x1+-0xe33*-0x1+0x2*-0x5cf)),_0x2fd066['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x2fd066['set']('TONEMAP',p0[this['_toneMappi'+'ng']]),_0x2fd066['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x2fd066;}['markDirty'](){this['_hash']=void(0xa74*-0x1+-0x2362+0x2*0x16eb),this['_definesDi'+'rty']=!(0x69a+0x2*0xfee+-0x1*0x2676);}set['fog'](_0x4fcbee){this['_fog']!==_0x4fcbee&&(this['_fog']=_0x4fcbee,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x2fc1bb){this['_ssaoEnabl'+'ed']!==_0x2fc1bb&&(this['_ssaoEnabl'+'ed']=_0x2fc1bb,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0xa6cb58){this['_gammaCorr'+'ectionAssi'+'gned']=!(0x1814+0x13de+-0x2bf2),this['_gammaCorr'+'ection']!==_0xa6cb58&&(this['_gammaCorr'+'ection']=_0xa6cb58,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x4078b1){this['_toneMappi'+'ng']!==_0x4078b1&&(this['_toneMappi'+'ng']=_0x4078b1,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x44fde8){this['_srgbRende'+'rTarget']!==_0x44fde8&&(this['_srgbRende'+'rTarget']=_0x44fde8,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x4469af){this['_sceneDept'+'hMapLinear']!==_0x4469af&&(this['_sceneDept'+'hMapLinear']=_0x4469af,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===hh&&!this['_srgbRende'+'rTarget']?hh:sl;}}const En=new T(),$a=new T(),Qm=new T(),Jm=new q(),pC=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()];class ol{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new A0()),c(this,'renderPass'+'es',[]),c(this,'jitter',-0x1bb9+0x2*-0x435+-0x349*-0xb),(this['_aspectRat'+'io']=(-0x1*-0x14c+0x1*0x175+-0x2b1*0x1)/(-0x10ed*0x1+-0x3*0xae9+-0x1*-0x31b1),this['_aspectRat'+'ioMode']=Ip,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(-0x1089+0xc87*-0x2+0x2997+0.75,-0x2e4*-0xd+0x164*0xa+-0x337c+0.75,0xb92*0x1+0x1a8*0x4+0x1*-0x1232+0.75,-0xd3e+-0xddb*0x2+0x28f5),this['_clearColo'+'rBuffer']=!(-0x20f9+0xd9e+0x135b),this['_clearDept'+'h']=-0x92*-0x23+-0x22d5+-0x8*-0x1dc,this['_clearDept'+'hBuffer']=!(0x25f8+-0x1ae9+-0xb0f),this['_clearSten'+'cil']=0x1329+-0x1ef8+-0xbcf*-0x1,this['_clearSten'+'cilBuffer']=!(0x15d*-0x1+0x2c9+0x1c*-0xd),this['_cullFaces']=!(-0xb*-0x3b+-0x2f*-0x1+-0x18*0x1d),this['_farClip']=-0x6*0x46c+0x2*0x527+0x1422,this['_flipFaces']=!(0x6db+0x13da+-0x1ab4),this['_fov']=-0x6*-0x313+-0x24c6+0x1281,this['_frustumCu'+'lling']=!(-0x907*-0x4+0x1*-0x1859+0xbc3*-0x1),this['_horizonta'+'lFov']=!(0x8d*-0x3e+-0x15c8+0x37ef),this['_layers']=[Fi,Xt,vp,tl,bp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x9fa*-0x1+0x3*-0x4a+0xad8+0.1,this['_node']=null,this['_orthoHeig'+'ht']=0x85d+-0x67a+-0x1d9,this['_projectio'+'n']=Gs,this['_rect']=new Q(-0xe96+-0xaf3*0x1+-0x883*-0x3,-0x2*0x31c+-0x1*-0xc3b+-0x603,-0xf4d*-0x2+0x1*-0x8bf+-0x15da,0x1*-0x8b1+0x1*-0x1c97+0x2549),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new Q(0x5c0+0xe68+-0x1428,-0x2593+-0x297+-0x61*-0x6a,0x1fd3*0x1+-0xc*0x125+-0x1216,0x1c9b+0x13fe+-0x3098),this['_scissorRe'+'ctClear']=!(0x102b+0x1d21+-0x2d4b),this['_aperture']=-0x1131*0x1+-0x169f+-0x160*-0x1d,this['_shutter']=(-0x1beb+0x1*-0x1049+0x2c35)/(-0xc*0x1c4+0x2019+-0x701),this['_sensitivi'+'ty']=0x72c+-0x1*0x345+0x1,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(-0x40*0x4+0x20*-0x48+-0x5*-0x200),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(-0x22b0+-0x1*0xd8b+-0x303b*-0x1),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(0x216a+0x60b*0x4+-0x3996),this['_shaderMat'+'ricesVersi'+'on']=-0xe6b*-0x1+-0xb*-0x191+0x1fa6*-0x1,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[0x14*-0x5+-0x1f6b+0x1fcf,0x185c+-0x75*0x51+0xca9,0x1c33*0x1+0xbd4+-0x2807*0x1,0x3ad*-0x4+0x7ac*-0x1+0x166*0x10],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x2ce82d,_0x1fb558;(_0x2ce82d=this['renderPass'+'ColorGrab'])==null||_0x2ce82d['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x1fb558=this['renderPass'+'DepthGrab'])==null||_0x1fb558['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=0xb12+-0x5*0x2c0+0x2ae;}['_storeShad'+'erMatrices'](_0x5acf34,_0x16d0f1,_0x20c114,_0x1f3b22){this['_shaderMat'+'ricesVersi'+'on']!==_0x1f3b22&&(this['_shaderMat'+'ricesVersi'+'on']=_0x1f3b22,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x5acf34),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x5acf34),this['_viewProjI'+'nverse']['invert'](_0x5acf34),this['_jitters'][0x1681+0x1*-0x1a9f+0x420]=this['_jitters'][-0x23c8+0x1dc4+0x5*0x134],this['_jitters'][-0x1*0x577+-0x20b+0x785]=this['_jitters'][0x7b2+-0x10*0x109+0x8df],this['_jitters'][-0x1d7+-0x1558+0x172f]=_0x16d0f1,this['_jitters'][-0x1*0x18df+-0xfed+-0x829*-0x5]=_0x20c114);}get['fullSizeCl'+'earRect'](){const _0x50cd84=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x50cd84['x']===-0x593*0x1+0x6b*0x53+-0x1d1e&&_0x50cd84['y']===0x557*-0x3+-0x927+0x12*0x166&&_0x50cd84['z']===-0x14f7*0x1+-0x4bb+-0x2db*-0x9&&_0x50cd84['w']===0x5*-0x142+0x1231*0x1+-0x5f3*0x2;}set['aspectRati'+'o'](_0x59a01e){this['_aspectRat'+'io']!==_0x59a01e&&(this['_aspectRat'+'io']=_0x59a01e,this['_projMatDi'+'rty']=!(-0xa93*-0x2+-0xc9d+-0x889));}get['aspectRati'+'o'](){var _0x7616a8;return(_0x7616a8=this['xr'])!=null&&_0x7616a8['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x1a2c5f){this['_aspectRat'+'ioMode']!==_0x1a2c5f&&(this['_aspectRat'+'ioMode']=_0x1a2c5f,this['_projMatDi'+'rty']=!(0x880*0x4+-0x1*-0x21b1+-0x43b1));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x5d5767){this['_calculate'+'Projection']=_0x5d5767,this['_projMatDi'+'rty']=!(-0xded+0x47*0x23+0x438);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x477edb){this['_calculate'+'Transform']=_0x477edb;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x148285){this['_clearColo'+'r']['copy'](_0x148285);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0xfc854){this['_clearColo'+'rBuffer']=_0xfc854;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0xae2908){this['_clearDept'+'h']=_0xae2908;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x2d1959){this['_clearDept'+'hBuffer']=_0x2d1959;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x462b17){this['_clearSten'+'cil']=_0x462b17;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x1b9f9e){this['_clearSten'+'cilBuffer']=_0x1b9f9e;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x28e2f7){this['_cullFaces']=_0x28e2f7;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x42b221){this['_farClip']!==_0x42b221&&(this['_farClip']=_0x42b221,this['_projMatDi'+'rty']=!(0x1e01+-0x841*0x3+-0x16*0x3d));}get['farClip'](){var _0x33ae03;return(_0x33ae03=this['xr'])!=null&&_0x33ae03['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x3dd8a6){this['_flipFaces']=_0x3dd8a6;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x522818){this['_fov']!==_0x522818&&(this['_fov']=_0x522818,this['_projMatDi'+'rty']=!(-0x1*0x18a5+-0x23ca+0x3c6f*0x1));}get['fov'](){var _0x3c4253;return(_0x3c4253=this['xr'])!=null&&_0x3c4253['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x2d553c){this['_frustumCu'+'lling']=_0x2d553c;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x5eff36){this['_horizonta'+'lFov']!==_0x5eff36&&(this['_horizonta'+'lFov']=_0x5eff36,this['_projMatDi'+'rty']=!(0x10a6+-0xb2*0x7+-0xbc8));}get['horizontal'+'Fov'](){var _0x322de4;return(_0x322de4=this['xr'])!=null&&_0x322de4['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x385acf){this['_layers']=_0x385acf['slice'](0x1*0x68d+0x1527+-0x18a*0x12),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x4b859e){this['_nearClip']!==_0x4b859e&&(this['_nearClip']=_0x4b859e,this['_projMatDi'+'rty']=!(0x176e+-0xec0+-0x8ae));}get['nearClip'](){var _0x2e7a55;return(_0x2e7a55=this['xr'])!=null&&_0x2e7a55['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x53266b){this['_node']=_0x53266b;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x571e2c){this['_orthoHeig'+'ht']!==_0x571e2c&&(this['_orthoHeig'+'ht']=_0x571e2c,this['_projMatDi'+'rty']=!(0x36a*-0xa+-0x3*0x82+0x23aa));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x113d65){this['_projectio'+'n']!==_0x113d65&&(this['_projectio'+'n']=_0x113d65,this['_projMatDi'+'rty']=!(-0xd*-0xae+-0x423*0x5+0x1*0xbd9));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x1d5db0){this['_rect']['copy'](_0x1d5db0);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x41cc97){this['_renderTar'+'get']=_0x41cc97;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x9c12ac){this['_scissorRe'+'ct']['copy'](_0x9c12ac);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x4631f5=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x4631f5)['invert'](),this['_viewMatDi'+'rty']=!(0x13a3*-0x1+-0xf58+0x117e*0x2);}return this['_viewMat'];}set['aperture'](_0x39b488){this['_aperture']=_0x39b488;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x484dce){this['_sensitivi'+'ty']=_0x484dce;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x162fbc){this['_shutter']=_0x162fbc;}get['shutter'](){return this['_shutter'];}set['xr'](_0x55bf2f){this['_xr']!==_0x55bf2f&&(this['_xr']=_0x55bf2f,this['_projMatDi'+'rty']=!(0x1d7a+0x44f+-0x21c9*0x1));}get['xr'](){return this['_xr'];}['clone'](){return new ol()['copy'](this);}['copy'](_0x18366b){return this['_aspectRat'+'io']=_0x18366b['_aspectRat'+'io'],this['_farClip']=_0x18366b['_farClip'],this['_fov']=_0x18366b['_fov'],this['_horizonta'+'lFov']=_0x18366b['_horizonta'+'lFov'],this['_nearClip']=_0x18366b['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x18366b['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x18366b['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x18366b['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x18366b['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x18366b['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x18366b['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x18366b['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x18366b['calculateT'+'ransform'],this['clearColor']=_0x18366b['clearColor'],this['clearColor'+'Buffer']=_0x18366b['clearColor'+'Buffer'],this['clearDepth']=_0x18366b['clearDepth'],this['clearDepth'+'Buffer']=_0x18366b['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x18366b['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x18366b['clearStenc'+'ilBuffer'],this['cullFaces']=_0x18366b['cullFaces'],this['flipFaces']=_0x18366b['flipFaces'],this['frustumCul'+'ling']=_0x18366b['frustumCul'+'ling'],this['layers']=_0x18366b['layers'],this['orthoHeigh'+'t']=_0x18366b['orthoHeigh'+'t'],this['projection']=_0x18366b['projection'],this['rect']=_0x18366b['rect'],this['renderTarg'+'et']=_0x18366b['renderTarg'+'et'],this['scissorRec'+'t']=_0x18366b['scissorRec'+'t'],this['aperture']=_0x18366b['aperture'],this['shutter']=_0x18366b['shutter'],this['sensitivit'+'y']=_0x18366b['sensitivit'+'y'],this['shaderPass'+'Info']=_0x18366b['shaderPass'+'Info'],this['jitter']=_0x18366b['jitter'],this['_projMatDi'+'rty']=!(-0x1a47*0x1+-0x1*0x17b+0x16*0x143),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x388695,_0x3f684b){var _0x24ab53;_0x3f684b?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new uC(_0x388695)):((_0x24ab53=this['renderPass'+'ColorGrab'])==null||_0x24ab53['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0xdff090,_0x98b351,_0xcdfc33){var _0x5c7a41;_0xcdfc33?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new fC(_0xdff090,this)):((_0x5c7a41=this['renderPass'+'DepthGrab'])==null||_0x5c7a41['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0xaf*-0x1d+0x9*-0x20a+-0x178));}['worldToScr'+'een'](_0x5b4e23,_0x55e366,_0x3f26f8,_0x43c6e6=new T()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x5b4e23,_0x43c6e6);const _0x4ddb82=this['_viewProjM'+'at']['data'],_0x3af8a3=_0x5b4e23['x']*_0x4ddb82[0x195d+0x4*-0x791+0x4ea]+_0x5b4e23['y']*_0x4ddb82[0x529+0x2145+-0x2667]+_0x5b4e23['z']*_0x4ddb82[-0x113f+-0x117b*-0x1+-0x31]+(-0x1*0x1db1+0xd9f*-0x1+0x2b51)*_0x4ddb82[-0x1f9b+-0x1*-0x375+-0x1d*-0xf9];return _0x43c6e6['x']=(_0x43c6e6['x']/_0x3af8a3+(-0x22e8+0x25*0x89+-0x1*-0xf1c))*(0x10c*0x24+0x25*-0x75+-0x14c7+0.5)*_0x55e366,_0x43c6e6['y']=(0x137b*-0x1+0x1e4d+-0xad1-_0x43c6e6['y']/_0x3af8a3)*(-0x303*-0x9+-0x1a1f+-0xfc+0.5)*_0x3f26f8,_0x43c6e6;}['screenToWo'+'rld'](_0x337442,_0x2d5b09,_0x21f200,_0x3181e9,_0x1d8a4d,_0x11fa7d=new T()){const _0x3205fe=this['farClip']-this['nearClip'];if(En['set'](_0x337442/_0x3181e9,(_0x1d8a4d-_0x2d5b09)/_0x1d8a4d,_0x21f200/_0x3205fe),En['mulScalar'](-0xfd3*-0x1+-0x7f*-0x38+0x1*-0x2b99),En['sub'](T['ONE']),this['_projectio'+'n']===Gs){q['_getPerspe'+'ctiveHalfS'+'ize']($a,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),$a['x']*=En['x'],$a['y']*=En['y'];const _0x4d9574=this['_node']['getWorldTr'+'ansform']();$a['z']=-this['nearClip'],_0x4d9574['transformP'+'oint']($a,Qm);const _0x335a1a=this['_node']['getPositio'+'n']();_0x11fa7d['sub2'](Qm,_0x335a1a),_0x11fa7d['normalize'](),_0x11fa7d['mulScalar'](_0x21f200),_0x11fa7d['add'](_0x335a1a);}else this['_updateVie'+'wProjMat'](),Jm['copy'](this['_viewProjM'+'at'])['invert'](),Jm['transformP'+'oint'](En,_0x11fa7d);return _0x11fa7d;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Gs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x215c22=this['_orthoHeig'+'ht'],_0x746a9b=_0x215c22*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x746a9b,_0x746a9b,-_0x215c22,_0x215c22,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0xd*0x2a2+0x10a0+0x119b);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x1c7426=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(0x2574+-0x1f4f*0x1+-0x5c1)/this['_sensitivi'+'ty']);return(-0x3ee+0x1933+0x1*-0x1544)/(Math['pow'](-0x8*-0xd4+0x935*-0x1+0x297,_0x1c7426)*(-0xb83*-0x2+-0x3c7*0x9+0xafa+0.19999999999999996));}['getScreenS'+'ize'](_0x109180){if(this['_projectio'+'n']===Gs){const _0x415a10=this['_node']['getPositio'+'n']()['distance'](_0x109180['center']);if(_0x415a10<_0x109180['radius'])return 0x4*-0x513+0x132*-0x1+0x157f;const _0x1a7527=Math['asin'](_0x109180['radius']/_0x415a10),_0x1edb9b=Math['tan'](_0x1a7527),_0x49e662=Math['tan'](this['fov']/(-0xf7a+0x1f*0x10f+-0x1155)*N['DEG_TO_RAD']);return Math['min'](_0x1edb9b/_0x49e662,-0x8f2+-0x1*0x6dc+0xfcf);}return N['clamp'](_0x109180['radius']/this['_orthoHeig'+'ht'],0x877+-0x1*0x9c6+0x14f,-0x1021+-0x9be+-0x3*-0x8a0);}['getFrustum'+'Corners'](_0x3aa33a=this['nearClip'],_0x2b236c=this['farClip']){const _0x460287=this['fov']*Math['PI']/(0xbb3*-0x2+-0xb1b*-0x1+0xcff*0x1);let _0x59d33e,_0x4be454;this['projection']===Gs?this['horizontal'+'Fov']?(_0x59d33e=_0x3aa33a*Math['tan'](_0x460287/(0x1272+0x129*-0x9+-0x7ff)),_0x4be454=_0x59d33e/this['aspectRati'+'o']):(_0x4be454=_0x3aa33a*Math['tan'](_0x460287/(0x1*0x18ad+-0xe70+-0xa3b)),_0x59d33e=_0x4be454*this['aspectRati'+'o']):(_0x4be454=this['_orthoHeig'+'ht'],_0x59d33e=_0x4be454*this['aspectRati'+'o']);const _0x5141e8=pC;return _0x5141e8[0x32*0xe+0x127d+-0x1*0x1539]['x']=_0x59d33e,_0x5141e8[0x93b*0x1+-0xfad+0x42*0x19]['y']=-_0x4be454,_0x5141e8[-0x16fe+0xd8a*0x2+0x416*-0x1]['z']=-_0x3aa33a,_0x5141e8[-0x2161+0x244+0x1f1e]['x']=_0x59d33e,_0x5141e8[-0x1a1*0x17+-0x5*-0x4f7+0xca5]['y']=_0x4be454,_0x5141e8[-0x3*-0xbf4+-0x1f63+-0x478]['z']=-_0x3aa33a,_0x5141e8[-0xf1*-0x13+0x2546+-0x3727]['x']=-_0x59d33e,_0x5141e8[0x57*0x51+0x1*-0x942+-0x1243]['y']=_0x4be454,_0x5141e8[-0x220d+0x234d+0x13e*-0x1]['z']=-_0x3aa33a,_0x5141e8[0x1186*-0x1+-0xae6+-0xfb*-0x1d]['x']=-_0x59d33e,_0x5141e8[-0x1e54+-0x1efd*-0x1+-0xa6]['y']=-_0x4be454,_0x5141e8[-0x3*0x5ad+-0x2d4+0x13de]['z']=-_0x3aa33a,this['_projectio'+'n']===Gs&&(this['horizontal'+'Fov']?(_0x59d33e=_0x2b236c*Math['tan'](_0x460287/(0x2702*-0x1+-0x16*0x2d+-0x1f3*-0x16)),_0x4be454=_0x59d33e/this['aspectRati'+'o']):(_0x4be454=_0x2b236c*Math['tan'](_0x460287/(0x1343*0x1+0x1*0x23d3+-0xa*0x582)),_0x59d33e=_0x4be454*this['aspectRati'+'o'])),_0x5141e8[0x17d1+0x2*0x617+-0x23fb]['x']=_0x59d33e,_0x5141e8[0x1c7+0x233e+-0x2501]['y']=-_0x4be454,_0x5141e8[0x143*-0x17+-0x2566*0x1+0x426f]['z']=-_0x2b236c,_0x5141e8[-0x9dd+-0x1b8d*-0x1+-0x1*0x11ab]['x']=_0x59d33e,_0x5141e8[-0x818*-0x3+-0x1*0x919+0x50e*-0x3]['y']=_0x4be454,_0x5141e8[-0x23f3+0x1*0xa3a+0x1*0x19be]['z']=-_0x2b236c,_0x5141e8[-0x5*0x324+0x1aba+-0xb00]['x']=-_0x59d33e,_0x5141e8[-0x17e5+-0x1066*0x1+0x2851*0x1]['y']=_0x4be454,_0x5141e8[0x1*-0x82c+-0x1bfb+-0x9*-0x405]['z']=-_0x2b236c,_0x5141e8[-0x418+-0x5*-0x747+-0x23*0xec]['x']=-_0x59d33e,_0x5141e8[0x10*0x163+-0x1540+-0xe9]['y']=-_0x4be454,_0x5141e8[0x2*-0xc35+-0x11d8*0x1+0x2a49]['z']=-_0x2b236c,_0x5141e8;}['setXrPrope'+'rties'](_0x3c75e3){Object['assign'](this['_xrPropert'+'ies'],_0x3c75e3),this['_projMatDi'+'rty']=!(-0x329+-0xb2*0x2c+0x21c1*0x1);}}const e_=new q(),t_=new q(),s_=new q(),Qi=class Qi{static['create'](_0x19de5a,_0x396eae,_0x2e8c87){const _0x4355ba=new ol();switch(_0x4355ba['node']=new De(_0x19de5a),_0x4355ba['aspectRati'+'o']=-0x772+-0x1504*-0x1+-0xd91,_0x4355ba['aspectRati'+'oMode']=Bu,_0x4355ba['_scissorRe'+'ctClear']=!(0x1b01+0x5d9+-0x20da),_0x396eae){case Pe:_0x4355ba['node']['setRotatio'+'n'](Qi['pointLight'+'Rotations'][_0x2e8c87]),_0x4355ba['fov']=-0x21c6+-0x805*-0x1+0x1a1b,_0x4355ba['projection']=Gs;break;case Re:_0x4355ba['projection']=Gs;break;case oe:_0x4355ba['projection']=ua;break;}return _0x4355ba;}static['evalSpotCo'+'okieMatrix'](_0x14100d){let _0x1864aa=Qi['_spotCooki'+'eCamera'];_0x1864aa||(_0x1864aa=Qi['create']('SpotCookie'+'Camera',Re),Qi['_spotCooki'+'eCamera']=_0x1864aa),_0x1864aa['fov']=_0x14100d['_outerCone'+'Angle']*(0x95a+0x293*-0x4+0xf4);const _0x2c5810=_0x1864aa['_node'];_0x2c5810['setPositio'+'n'](_0x14100d['_node']['getPositio'+'n']()),_0x2c5810['setRotatio'+'n'](_0x14100d['_node']['getRotatio'+'n']()),_0x2c5810['rotateLoca'+'l'](-(0x22cb+-0x256a+0x1*0x2f9),0x1c75+0x1*0x16f2+0x1*-0x3367,0x114e*0x1+0x88e+-0x52c*0x5),e_['setTRS'](_0x2c5810['getPositio'+'n'](),_0x2c5810['getRotatio'+'n'](),T['ONE'])['invert'](),t_['mul2'](_0x1864aa['projection'+'Matrix'],e_);const _0x55c33c=_0x14100d['cookieMatr'+'ix'],_0x406854=_0x14100d['atlasViewp'+'ort'];return s_['setViewpor'+'t'](_0x406854['x'],_0x406854['y'],_0x406854['z'],_0x406854['w']),_0x55c33c['mul2'](s_,t_),_0x55c33c;}};c(Qi,'pointLight'+'Rotations',[new se()['setFromEul'+'erAngles'](-0x1*-0x1f26+0x4ee*-0x4+0x85*-0x16,-0x157c+0x1fb6+-0x9e0,-0x9c*0x34+-0x5e*0x50+0x3dc4),new se()['setFromEul'+'erAngles'](0x336+0xd*-0x1b1+0x12c7,-(-0x1*-0xe61+0x14b7+0x2*-0x115f),-0x14fa+0x5*0x367+-0xef*-0x5),new se()['setFromEul'+'erAngles'](0x13*0x1e1+0x29*0x59+0x2*-0x18cd,0x12ab+-0x1*0x1a2f+0x784,-0x1dc8+0x6*-0x45b+0x11*0x34a),new se()['setFromEul'+'erAngles'](-(-0x29*0xd+-0x223f+0x24ae),0xd2a+-0x3*0x6ad+0x6dd*0x1,0x24d1+0x1*-0xeb1+-0x1620),new se()['setFromEul'+'erAngles'](-0x1a40+0x96*0x23+0x5be,0xf1*-0x1+0x25e7+-0x165*0x1a,-0x21b7+0x266e+-0x403),new se()['setFromEul'+'erAngles'](0x15*-0x14b+0x251b+-0x9f4,0x1149+0x6*0x205+-0x1d67,0x5e7*0x5+0x2*0x98f+-0x2fed)]),c(Qi,'_spotCooki'+'eCamera',null);let Ma=Qi;const i_=0x3c7*0x5+-0x1056+0x1*-0x28d+0.000001,Zt=new T(),xr=new Float32Array(-0xb0d+0x666+-0x39*-0x15),mC=new T(-(0x542*-0x5+-0x124b+0x2c95+0.5),0x9e*-0x5+-0x2021+-0x259*-0xf,0x79e+-0xc9f+0x501),_C=new T(0x214f*-0x1+0x23d*-0x3+0x1403*0x2,0x4*-0x90d+-0x1e95*0x1+0x42c9,-0x64d*0x2+0x10*0x242+0x2*-0xbc3+0.5),Sr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},lt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let vd;class E0{constructor(_0x595a60){c(this,'areaLights'+'Enabled',!(-0x5b2+-0x2091+0x2644*0x1)),(this['device']=_0x595a60,this['cookiesEna'+'bled']=!(-0x1541*-0x1+0x23be+-0xb66*0x5),this['shadowsEna'+'bled']=!(-0xc5e+0x164f+-0x9f0),this['areaLights'+'Enabled']=!(-0x7c*-0x2+0x131*-0xa+0xaf3),this['maxLights']=-0x35*-0x31+-0x1d3e*0x1+-0x2*-0xa0c);const _0x514476=Sr['COUNT'];this['lights8']=new Uint8ClampedArray((-0x2700+-0x2b6*0x2+0x2c70)*_0x514476*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x514476,this['maxLights'],Se,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x2937d5=lt['COUNT'];this['lightsFloa'+'t']=new Float32Array((0x1b93+-0x21b*0xd+-0x30)*_0x2937d5*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x2937d5,this['maxLights'],Ke,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=-0x7fb+-0xa2e*0x2+0x1c57,this['invMaxAtte'+'nuation']=-0x3d*-0x2d+0x16b3+-0x216c,this['boundsMin']=new T(),this['boundsDelt'+'a']=new T();}static['getShaderD'+'efines'](){const _0x4e09ab=(_0x58f16e,_0x2357c4)=>Object['keys'](_0x58f16e)['map'](_0x38522b=>'#define\x20'+_0x2357c4+_0x38522b+'\x20'+_0x58f16e[_0x38522b])['join']('\x0a');return vd||(vd='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e09ab(Sr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x4e09ab(lt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),vd;}['destroy'](){var _0xa97593,_0x4c1d6a;(_0xa97593=this['lightsText'+'ure8'])==null||_0xa97593['destroy'](),this['lightsText'+'ure8']=null,(_0x4c1d6a=this['lightsText'+'ureFloat'])==null||_0x4c1d6a['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x5e7142,_0x2bc73b,_0x4ab2c2,_0x459910,_0x597eaa){return new he(_0x5e7142,{'name':_0x597eaa,'width':_0x2bc73b,'height':_0x4ab2c2,'mipmaps':!(-0x26c7+0x1*-0x1cc1+0x4389),'format':_0x459910,'addressU':ae,'addressV':ae,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x27020e,_0x57a7f5){this['invMaxColo'+'rValue']=(-0x1fc7*-0x1+-0x22*0x86+-0xdfa)/_0x57a7f5,this['invMaxAtte'+'nuation']=(0x7ff+0x68d*0x2+-0x1518)/_0x27020e;}['setBounds'](_0x9c2887,_0x4d411a){this['boundsMin']['copy'](_0x9c2887),this['boundsDelt'+'a']['copy'](_0x4d411a);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x54988e,_0x1c7586){_0x1c7586['_node']['getWorldTr'+'ansform']()['getY'](_0x54988e)['mulScalar'](-(-0x1*0x2201+-0xb08+0x2d0a)),_0x54988e['normalize']();}['getLightAr'+'eaSizes'](_0x5c8d9a){const _0x484020=_0x5c8d9a['_node']['getWorldTr'+'ansform']();return _0x484020['transformV'+'ector'](mC,Zt),xr[0x4c*-0x6f+0x2*0x5b9+-0x2*-0xac1]=Zt['x'],xr[-0x5ae*-0x5+-0x189e+-0x1*0x3c7]=Zt['y'],xr[-0x216*-0x3+-0x1*0x7f7+-0x1b7*-0x1]=Zt['z'],_0x484020['transformV'+'ector'](_C,Zt),xr[-0xecb+-0x1070+0x1f3e]=Zt['x'],xr[0x2454+-0xe24+-0x162c]=Zt['y'],xr[0x1d*-0x35+-0xd21*-0x1+-0x71b]=Zt['z'],xr;}['addLightDa'+'taFlags'](_0xcf3662,_0x53a286,_0x2051db,_0x35e884,_0x3af286,_0x3f1494){_0xcf3662[_0x53a286+(0x1*0x903+-0x234d+0x1a4a)]=_0x35e884?-0x13d6+0x1e6c+-0x997*0x1:-0x2675+-0x18f8+0x3f6d,_0xcf3662[_0x53a286+(0x1000+-0x1*-0x267b+-0x13*0x2de)]=this['areaLights'+'Enabled']?_0x2051db['_shape']*(-0xecb+0x2070+-0x3d*0x49):-0x1e8a*0x1+-0x1*0xec5+-0x2d4f*-0x1,_0xcf3662[_0x53a286+(-0x1ca2+-0x1897+-0x353b*-0x1)]=_0x2051db['_falloffMo'+'de']*(-0x22d0+-0x1e9b*0x1+0x426a),_0xcf3662[_0x53a286+(0x1*-0xdeb+-0x1c2d*-0x1+-0xe3f)]=_0x3af286?_0x3f1494*(0x1*0x1c98+0xf8e+-0x2b27):0x1c79+0x26a6+-0x431f;}['addLightDa'+'taColor'](_0x5a8ed0,_0x21b6ea,_0x396461,_0x53198c){const _0x3a1c9c=this['invMaxColo'+'rValue'],_0x346492=_0x396461['_colorLine'+'ar'];$t['float2Byte'+'s'](_0x346492[-0x4*-0x1b4+0x74a+-0x169*0xa]*_0x3a1c9c,_0x5a8ed0,_0x21b6ea+(0x33e*0x2+-0x1c80+0x1604),0x1dd0+0x161+-0x1f2f),$t['float2Byte'+'s'](_0x346492[0x5f9*0x6+0x22a1+-0x4676]*_0x3a1c9c,_0x5a8ed0,_0x21b6ea+(0x1d5+-0x2*0xb2a+0x1481),-0x59e*0x5+-0x6e7+-0x121*-0x1f),$t['float2Byte'+'s'](_0x346492[0x134d+0x2048*0x1+0x9*-0x5bb]*_0x3a1c9c,_0x5a8ed0,_0x21b6ea+(0x433+0x1169*0x1+-0x2b3*0x8),-0x1556*-0x1+-0x13*-0x124+0x40*-0xac),_0x5a8ed0[_0x21b6ea+(-0x11bd+-0xb43+0x2*0xe83)]=_0x53198c?0x16d*-0x7+-0x4*-0x806+-0x6a*0x33:-0x19*0x126+-0x14c7+0x1*0x317d;const _0x32075b=!!(_0x396461['mask']&hs),_0x5c7a79=!!(_0x396461['mask']&cr);_0x5a8ed0[_0x21b6ea+(-0x15a0+-0x593*-0x1+0xe*0x126)]=_0x32075b&&_0x5c7a79?0x1b5e+0x73b+0x1e*-0x123:_0x5c7a79?-0x1*0x63d+-0x1c04+0x2340:0x2181+-0x1ff8+-0x189;}['addLightDa'+'taSpotAngl'+'es'](_0x234689,_0x602a3,_0x3834a0){$t['float2Byte'+'s'](_0x3834a0['_innerCone'+'AngleCos']*(-0x1854+0x1*-0x1fe7+0x383b+0.5-i_)+(-0x1*-0x12bd+0x1*-0x65b+0x631*-0x2+0.5),_0x234689,_0x602a3+(-0x4de+0x22ab+-0x1dcd),0x1507+-0x20cd+0xbc8),$t['float2Byte'+'s'](_0x3834a0['_outerCone'+'AngleCos']*(0x1*-0x229d+-0xdc9*-0x1+-0x1f*-0xac+0.5-i_)+(0xb5c*-0x1+0x1*-0x315+0xe71+0.5),_0x234689,_0x602a3+(-0x2*-0x6ff+-0x2196+-0x1*-0x139a),0xf98+0xd*-0x16c+0x7*0x6a);}['addLightDa'+'taShadowBi'+'as'](_0x5b9364,_0x177551,_0x34df2a){const _0x61d243=_0x34df2a['getRenderD'+'ata'](null,-0x7*-0x17b+0x123e+-0x1*0x1c9b),_0x121918=_0x34df2a['_getUnifor'+'mBiasValue'+'s'](_0x61d243);$t['float2Byte'+'sRange'](_0x121918['bias'],_0x5b9364,_0x177551,-(0x1f2b+-0x2cf*0xc+0x28a*0x1),-0x17aa+0xfcd+0x7f1,-0xf*-0x101+0xd32*-0x1+0x13*-0x19),$t['float2Byte'+'s'](_0x121918['normalBias'],_0x5b9364,_0x177551+(-0xb2a*-0x2+-0x8b*-0x2+-0x1768),-0x1*0xe8f+0xb93*0x1+-0x2*-0x17f);}['addLightDa'+'taCookies'](_0xd63648,_0x22e437,_0x322308){const _0x2b67c7=_0x322308['_cookieCha'+'nnel']==='rgb';if(_0xd63648[_0x22e437+(-0x23e+0x1a29*0x1+-0x1*0x17eb)]=Math['floor'](_0x322308['cookieInte'+'nsity']*(0x104+0x1662+-0x1667)),_0xd63648[_0x22e437+(-0x215d+0xb31+0x162d)]=_0x2b67c7?0xea+0x10f*-0x13+0x2f*0x6e:-0x3*0xa8d+-0x1a5a+0x3a01,!_0x2b67c7){const _0x23c95c=_0x322308['_cookieCha'+'nnel'];_0xd63648[_0x22e437+(0x2*0xadf+-0x47*0x3+0x3*-0x6f7)]=_0x23c95c==='rrr'?0xa6a*0x2+0x3*-0x64+-0x12a9*0x1:-0x7*0x221+-0x242e+0x3315,_0xd63648[_0x22e437+(-0xa86*0x2+-0x1*0x2507+0x478*0xd)]=_0x23c95c==='ggg'?-0x26dd+-0x9cb+0x31a7:0x2472+-0x1*0x16a2+-0x88*0x1a,_0xd63648[_0x22e437+(-0x259*-0xc+0x1ef4+0x3b1a*-0x1)]=_0x23c95c==='bbb'?-0x2b6*0x9+-0x2*0xefb+-0x1*-0x375b:0xb5c+-0xa63+-0xf9,_0xd63648[_0x22e437+(0x41+-0x485*0x7+0x1f69)]=_0x23c95c==='aaa'?-0x1*-0x2c9+-0xc1f+0xa55:-0x1e3d+-0x1*-0x1813+-0x1*-0x62a;}}['addLightDa'+'ta'](_0x5b21ef,_0x2a3614){const _0x404d39=_0x5b21ef['_type']===Re,_0x8bea42=_0x5b21ef['atlasViewp'+'ortAllocat'+'ed'],_0x663b9f=this['cookiesEna'+'bled']&&!!_0x5b21ef['_cookie']&&_0x8bea42,_0x6ec4ba=this['areaLights'+'Enabled']&&_0x5b21ef['shape']!==yt,_0x404a77=this['shadowsEna'+'bled']&&_0x5b21ef['castShadow'+'s']&&_0x8bea42,_0x16094c=_0x5b21ef['_node']['getPositio'+'n']();let _0x36d1ed=null,_0x525060=null;_0x404d39?_0x404a77?_0x36d1ed=_0x5b21ef['getRenderD'+'ata'](null,-0x22*-0x92+0x7ed+-0x91b*0x3)['shadowMatr'+'ix']:_0x663b9f&&(_0x36d1ed=Ma['evalSpotCo'+'okieMatrix'](_0x5b21ef)):(_0x404a77||_0x663b9f)&&(_0x525060=_0x5b21ef['atlasViewp'+'ort']);const _0x4d7486=this['lights8'],_0x2ac78f=_0x2a3614*this['lightsText'+'ure8']['width']*(0x2ea+0xcaa*-0x3+0x8c6*0x4);this['addLightDa'+'taFlags'](_0x4d7486,_0x2ac78f+(-0x8e1+0x1483*0x1+0x1*-0xb9e)*Sr['FLAGS'],_0x5b21ef,_0x404d39,_0x404a77,_0x5b21ef['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x4d7486,_0x2ac78f+(0x3b8*0x7+-0x409+-0x15fb)*Sr['COLOR_A'],_0x5b21ef,_0x663b9f),_0x404d39&&this['addLightDa'+'taSpotAngl'+'es'](_0x4d7486,_0x2ac78f+(-0x5*-0x469+0x1827+-0xb8c*0x4)*Sr['SPOT_ANGLE'+'S'],_0x5b21ef),_0x5b21ef['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x4d7486,_0x2ac78f+(-0xc6e+-0x35*-0x63+-0x80d)*Sr['SHADOW_BIA'+'S'],_0x5b21ef),_0x663b9f&&this['addLightDa'+'taCookies'](_0x4d7486,_0x2ac78f+(-0x1761+0x189d*-0x1+-0x1*-0x3002)*Sr['COOKIE_A'],_0x5b21ef);const _0x18c1f2=this['lightsFloa'+'t'],_0x5300cf=_0x2a3614*this['lightsText'+'ureFloat']['width']*(-0x1ad7*0x1+-0x1*-0x1f29+-0x44e);if(_0x18c1f2[_0x5300cf+(0x1*0x527+-0xd*0x35+-0x272)*lt['POSITION_R'+'ANGE']+(0x4f5*0x7+-0xe00+-0x14b3*0x1)]=_0x16094c['x'],_0x18c1f2[_0x5300cf+(-0xbc3*0x2+-0x25d3+0x1*0x3d5d)*lt['POSITION_R'+'ANGE']+(0xd03*0x3+0x1a*0x89+-0x34f2)]=_0x16094c['y'],_0x18c1f2[_0x5300cf+(-0x3*-0xc15+0x1*-0x1558+-0xee3)*lt['POSITION_R'+'ANGE']+(-0xe5f*0x2+0x12c8+0x16*0x74)]=_0x16094c['z'],_0x18c1f2[_0x5300cf+(0x26*0x67+0xc85*0x1+-0x1bcb)*lt['POSITION_R'+'ANGE']+(0x212e+0x32c+0x15*-0x1bb)]=_0x5b21ef['attenuatio'+'nEnd'],_0x404d39&&(this['getSpotDir'+'ection'](Zt,_0x5b21ef),_0x18c1f2[_0x5300cf+(0x2274+0x44f*0x7+-0x4099)*lt['SPOT_DIREC'+'TION']+(0x5dc+0x2*-0x2b7+-0x6e)]=Zt['x'],_0x18c1f2[_0x5300cf+(-0x67*-0x5+0x2572*-0x1+0x19*0x16b)*lt['SPOT_DIREC'+'TION']+(-0x1*-0x21d1+0x175e+-0x392e)]=Zt['y'],_0x18c1f2[_0x5300cf+(-0x5*-0x1c5+-0x16dd*0x1+0x2*0x704)*lt['SPOT_DIREC'+'TION']+(0xabc+0x238*0x7+-0x1*0x1a42)]=Zt['z']),_0x36d1ed){const _0x219287=_0x36d1ed['data'];for(let _0x1bc76a=0x7c*0x3a+-0x27*-0x2f+-0x2341;_0x1bc76a<-0x4e6*-0x1+0x1*0x1357+-0x182d;_0x1bc76a++)_0x18c1f2[_0x5300cf+(0xf79+-0x449+0x104*-0xb)*lt['PROJ_MAT_0']+_0x1bc76a]=_0x219287[_0x1bc76a];}if(_0x525060&&(_0x18c1f2[_0x5300cf+(-0x1*0x789+0x61b+0x5*0x4a)*lt['ATLAS_VIEW'+'PORT']+(0x118*0xf+-0x1be+-0xeaa)]=_0x525060['x'],_0x18c1f2[_0x5300cf+(0x39*-0x11+-0x2*-0xa8b+-0x1149)*lt['ATLAS_VIEW'+'PORT']+(0xd55*-0x2+0x1*0xb58+0x1*0xf53)]=_0x525060['y'],_0x18c1f2[_0x5300cf+(-0x98a+-0xcd+0xf1*0xb)*lt['ATLAS_VIEW'+'PORT']+(0x25ff+0x304+-0xdab*0x3)]=_0x525060['z']/(-0x26f*0xf+-0x1fb9+0x443d)),_0x6ec4ba){const _0x45634f=this['getLightAr'+'eaSizes'](_0x5b21ef);_0x18c1f2[_0x5300cf+(0x1b01+-0x3*0x21d+-0x14a6)*lt['AREA_DATA_'+'WIDTH']+(0x6a8+-0x105c+0x9b4)]=_0x45634f[-0x1*-0x711+0xabe+-0x11cf],_0x18c1f2[_0x5300cf+(-0x75*0x30+0x7*-0x133+-0x11*-0x1c9)*lt['AREA_DATA_'+'WIDTH']+(-0x17ff+-0x1f*-0x133+-0xd2d)]=_0x45634f[-0x261f*0x1+-0x1*-0xcff+0x1921],_0x18c1f2[_0x5300cf+(0xe*0x192+0xe2b+-0x1d*0x13f)*lt['AREA_DATA_'+'WIDTH']+(0x1715+-0xcf5+0xa*-0x103)]=_0x45634f[0x263f+0x4b1*0x5+-0x3db2],_0x18c1f2[_0x5300cf+(-0x1*-0x2057+-0xc9f+-0x13b4)*lt['AREA_DATA_'+'HEIGHT']+(0x26a3+-0x1*-0x259b+-0x6*0xcb5)]=_0x45634f[0x1bc0+-0x727*0x1+-0x1496],_0x18c1f2[_0x5300cf+(0x213a+0x1dbd*-0x1+-0x379)*lt['AREA_DATA_'+'HEIGHT']+(0x1*0x2df+-0x2517*-0x1+0xc1*-0x35)]=_0x45634f[-0x15ad*0x1+-0x1*0xbd1+-0x1*-0x2182],_0x18c1f2[_0x5300cf+(0x22d*0x6+-0x2473+0xd*0x1cd)*lt['AREA_DATA_'+'HEIGHT']+(0x4*-0x4e1+0xd*-0x241+0x1af*0x1d)]=_0x45634f[0x952*-0x1+-0x183f+0x2196];}}}const Ml=new T(),Pl=new T(),Rl=new T(),bd=new _e(),r_=-0xf39+-0x2678+0xabd*0x5+0.000001,n_=-0xe*0x2b4+0x24e3*0x1+0x10f5;class a_{constructor(){this['light']=null,this['min']=new T(),this['max']=new T();}}class zu{constructor(_0x52e6c4){c(this,'clusterTex'+'ture'),(this['device']=_0x52e6c4,this['name']='Untitled',this['reportCoun'+'t']=0x1*0x169f+0x4*0x469+-0x2843,this['boundsMin']=new T(),this['boundsMax']=new T(),this['boundsDelt'+'a']=new T(),this['_cells']=new T(-0xdd8*-0x2+-0x1*-0xa48+-0x25f7,0x308+-0x1cb2+-0x19ab*-0x1,-0x1*-0x1e62+-0x4cb+-0x1996),this['_cellsLimi'+'t']=new T(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=0x103c+-0x9de+-0x65a,this['_maxAttenu'+'ation']=0x12e8*-0x2+-0x417+0x29e7,this['_maxColorV'+'alue']=0xe0d+0x3ac*-0x8+0xf53,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new a_()),this['lightsBuff'+'er']=new E0(_0x52e6c4),this['registerUn'+'iforms'](_0x52e6c4));}set['maxCellLig'+'htCount'](_0x3d4857){_0x3d4857!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x3d4857,this['_cellsDirt'+'y']=!(0xdae+0xdd*0x5+-0x1*0x11ff));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x233ace){Ml['copy'](_0x233ace)['floor'](),this['_cells']['equals'](Ml)||(this['_cells']['copy'](Ml),this['_cellsLimi'+'t']['copy'](Ml)['sub'](T['ONE']),this['_cellsDirt'+'y']=!(-0x221f+0x2bd+-0x1a*-0x135));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x48f261){this['_clusterSk'+'ipId']=_0x48f261['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x48f261['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x48f261['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x48f261['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x18b7+-0x212e+0x87a),this['_clusterBo'+'undsMinId']=_0x48f261['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0x8*-0x10b+-0x217b+0x1926),this['_clusterBo'+'undsDeltaI'+'d']=_0x48f261['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(-0xad*0x22+-0x20a2+0x379f),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x48f261['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x1251+-0x222b+0xfdd),this['_clusterCe'+'llsDotId']=_0x48f261['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(-0x236d*-0x1+0x3*0x917+-0x3eaf),this['_clusterCe'+'llsMaxId']=_0x48f261['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0x3a*-0x60+-0x1d*-0x83+0x6ec),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x48f261['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(0xa4c+0xe7e+-0x18c8);}['updatePara'+'ms'](_0x4c836b){_0x4c836b&&(this['cells']=_0x4c836b['cells'],this['maxCellLig'+'htCount']=_0x4c836b['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x4c836b['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x4c836b['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x4c836b['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0x1bb8+-0x1*0x1b41+0x76*-0x1);const _0x2d646a=this['_cells']['x'],_0x197524=this['_cells']['y'],_0x244fe1=this['_cells']['z'],_0x23924a=_0x2d646a*_0x197524*_0x244fe1,_0x3e2e3=this['maxCellLig'+'htCount']*_0x23924a;let _0x4ca092=Math['ceil'](Math['sqrt'](_0x3e2e3));_0x4ca092=N['roundUp'](_0x4ca092,this['maxCellLig'+'htCount']);const _0x494a29=Math['ceil'](_0x3e2e3/_0x4ca092);v['assert'](_0x4ca092<=n_&&_0x494a29<=n_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x1c75+0x9c2*0x2+0x8f1]=_0x2d646a,this['_clusterCe'+'llsMaxData'][-0x2*0xec9+-0x162d*-0x1+0x766]=_0x197524,this['_clusterCe'+'llsMaxData'][-0x264d*0x1+-0x1003+0x3652]=_0x244fe1,this['_clusterCe'+'llsDotData'][0xf4+0x2af+-0x7*0x85]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x4d2+-0x487+0x10a*0x9]=_0x2d646a*_0x244fe1*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x496+-0x3bf+-0xd5]=_0x2d646a*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x3e2e3),this['counts']=new Int32Array(_0x23924a),this['_clusterTe'+'xtureSizeD'+'ata'][0x16*-0xd7+-0xe63+0xb3*0x2f]=_0x4ca092,this['_clusterTe'+'xtureSizeD'+'ata'][0x96+0x235*-0x5+-0xc*-0xdf]=(-0x1*0x19b2+0x1e5a+-0x4a7)/_0x4ca092,this['_clusterTe'+'xtureSizeD'+'ata'][-0x1f70+0x11df+0xd93]=(-0x63b+0x1*0x1ee3+-0x18a7)/_0x494a29,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x4ca092,_0x494a29,sp,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x9ac+-0x1817+-0x871*-0x4?-0x2fe*0xc+-0x1507+0x38ef:-0x1bfe+-0x19*0x139+0x3a90),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x281ac5=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x1568+0x2580+-0x19c*0xa]=this['_cells']['x']/_0x281ac5['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1ab0+0x1*0x19e4+0x1*-0x3493]=this['_cells']['y']/_0x281ac5['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1*-0xc9a+-0x12d+0xdc9]=this['_cells']['z']/_0x281ac5['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x1726+0x68*-0x13+0x2*0xf6f]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][0x2600+0x200*0x8+-0x1*0x35ff]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x16fa+0x1adb+0x31d3*-0x1]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1*0x2227+-0x1df9+-0x42e]=_0x281ac5['x'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x1ca6+-0x1bb1+-0x2*-0x1c2c]=_0x281ac5['y'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x453*-0x4+-0x329*0x5+0x1*-0x17d]=_0x281ac5['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][0x21ae+-0x1ef4+-0x2ba]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0x2*-0x6c9+0x2e+0x99*-0x17]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x42480d,_0x50bccc,_0x1949cd){_0x50bccc['copy'](_0x42480d['min']),_0x50bccc['sub'](this['boundsMin']),_0x50bccc['div'](this['boundsDelt'+'a']),_0x50bccc['mul2'](_0x50bccc,this['cells']),_0x50bccc['floor'](),_0x1949cd['copy'](_0x42480d['max']),_0x1949cd['sub'](this['boundsMin']),_0x1949cd['div'](this['boundsDelt'+'a']),_0x1949cd['mul2'](_0x1949cd,this['cells']),_0x1949cd['ceil'](),_0x50bccc['max'](T['ZERO']),_0x1949cd['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x7822a8){const _0x2e0bfa=this['lightsBuff'+'er']['maxLights'],_0x84f31b=this['_usedLight'+'s'];let _0x3963ce=-0x1ca7+-0x185*-0x4+0x1694;_0x7822a8['forEach'](_0x483d05=>{const _0x52655c=!!(_0x483d05['mask']&(hs|cr)),_0x3ca68e=_0x483d05['type']===Re&&_0x483d05['_outerCone'+'Angle']===-0xdba+-0x1*-0xb57+0x263;if(_0x483d05['enabled']&&_0x483d05['type']!==oe&&_0x483d05['visibleThi'+'sFrame']&&_0x483d05['intensity']>0x210f+-0x3*-0x72f+0xaec*-0x5&&_0x52655c&&!_0x3ca68e){if(_0x3963ce<_0x2e0bfa){let _0x50a4fa;_0x3963ce<_0x84f31b['length']?_0x50a4fa=_0x84f31b[_0x3963ce]:(_0x50a4fa=new a_(),_0x84f31b['push'](_0x50a4fa)),_0x50a4fa['light']=_0x483d05,_0x483d05['getBoundin'+'gBox'](bd),_0x50a4fa['min']['copy'](bd['getMin']()),_0x50a4fa['max']['copy'](bd['getMax']()),_0x3963ce++;}else v['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x2e0bfa-(0x1a91+-0x5f5+-0x149b))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x84f31b['length']=_0x3963ce;}['evaluateBo'+'unds'](){const _0x1050da=this['_usedLight'+'s'],_0xb92e9=this['boundsMin'],_0x4e7272=this['boundsMax'];if(_0x1050da['length']>0x21e3+0x19ef*-0x1+-0xb*0xb9){_0xb92e9['copy'](_0x1050da[-0x1*-0x7b9+-0x1062+-0x2*-0x455]['min']),_0x4e7272['copy'](_0x1050da[0x1*0x17e9+0x4a*-0x43+-0x48a]['max']);for(let _0x208462=-0x4f1*-0x7+-0xae2+-0x17b3;_0x208462<_0x1050da['length'];_0x208462++)_0xb92e9['min'](_0x1050da[_0x208462]['min']),_0x4e7272['max'](_0x1050da[_0x208462]['max']);}else _0xb92e9['set'](-0x1*-0x1006+0x7*0x47f+-0xfd5*0x3,0xbc9*-0x3+-0x1856+0x3bb1,0x9*-0xa7+-0x8bf*0x1+0xe9e),_0x4e7272['set'](0x4cf*0x1+-0x1e38+0x196a,-0x699*-0x3+-0x520+-0xeaa,-0xc56*-0x1+-0x1479+0x824);this['boundsDelt'+'a']['sub2'](_0x4e7272,_0xb92e9),this['lightsBuff'+'er']['setBounds'](_0xb92e9,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x428a69=-0xaee+-0x14d2+0x1fc0,_0x5121a5=-0x2b1*-0x9+0x19*-0x36+-0x12f3;const _0x327945=this['_usedLight'+'s'];for(let _0x34497c=0x1*0x25bb+0x130c+0x1a*-0x22f;_0x34497c<_0x327945['length'];_0x34497c++){const _0x129c9a=_0x327945[_0x34497c]['light'];_0x428a69=Math['max'](_0x129c9a['attenuatio'+'nEnd'],_0x428a69);const _0x82ff4b=_0x129c9a['_colorLine'+'ar'];_0x5121a5=Math['max'](_0x82ff4b[0x156d+0x1821*-0x1+0x2b4],_0x5121a5),_0x5121a5=Math['max'](_0x82ff4b[0x1*0x1cfe+-0x26fb*0x1+0x9fe],_0x5121a5),_0x5121a5=Math['max'](_0x82ff4b[-0x409*0x1+0x67a*0x6+-0x22d1*0x1],_0x5121a5);}this['_maxAttenu'+'ation']=_0x428a69+r_,this['_maxColorV'+'alue']=_0x5121a5+r_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x229628){this['counts']['fill'](0x871+-0x1080+-0x80f*-0x1),this['clusters']['fill'](-0xa0d+-0xdab+0x17b8),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x229628?_0x229628['areaLights'+'Enabled']:!(-0x22e7*0x1+0x7*0x569+0xfd*-0x3);const _0xa75ef4=this['_cells']['x'],_0x352978=this['_cells']['z'],_0x34f365=this['counts'],_0xcf8de1=this['_maxCellLi'+'ghtCount'],_0x37b0c5=this['clusters'],_0x4532bc=this['maxCellLig'+'htCount'];let _0x447a09=!(0x4b8*0x2+0x11ac+-0x1b1b);const _0x213904=this['_usedLight'+'s'];for(let _0x6d38a6=-0x112c+-0x15ee+-0x3*-0xd09;_0x6d38a6<_0x213904['length'];_0x6d38a6++){const _0x2db76c=_0x213904[_0x6d38a6],_0xa237f5=_0x2db76c['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0xa237f5,_0x6d38a6),this['evalLightC'+'ellMinMax'](_0x2db76c,Pl,Rl);const _0x1ec136=Pl['x'],_0x1e5df0=Rl['x'],_0x28a495=Pl['y'],_0x1a1247=Rl['y'],_0x3f369c=Pl['z'],_0x2d7c61=Rl['z'];for(let _0x5dcc09=_0x1ec136;_0x5dcc09<=_0x1e5df0;_0x5dcc09++)for(let _0x292d44=_0x3f369c;_0x292d44<=_0x2d7c61;_0x292d44++)for(let _0x380036=_0x28a495;_0x380036<=_0x1a1247;_0x380036++){const _0x373fb0=_0x5dcc09+_0xa75ef4*(_0x292d44+_0x380036*_0x352978),_0x2e97b9=_0x34f365[_0x373fb0];_0x2e97b9<_0xcf8de1?(_0x37b0c5[_0x4532bc*_0x373fb0+_0x2e97b9]=_0x6d38a6,_0x34f365[_0x373fb0]=_0x2e97b9+(0x54*0x38+0xe14+0x27*-0xd5)):_0x447a09=!(-0x1d1b+0x2415+-0x6fa);}}_0x447a09&&this['reportCoun'+'t']<-0x1e41+0x1fdd*0x1+-0xb*0x25&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x2*-0x105b+-0x22a5+0x435f?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x274209,_0x63627f=null){this['updatePara'+'ms'](_0x63627f),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x274209),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0x63627f),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const o_=0x4b*-0x2c+0x3*0x83+-0x1*-0xb5d+0.39996322972865306,ll={'circlePoint'(_0x3025ca){const _0x2d2308=Math['sqrt'](Math['random']()),_0x4708c1=Math['random']()*(0x14ed*0x1+0x5d*-0x52+0x8df*0x1)*Math['PI'];_0x3025ca['x']=_0x2d2308*Math['cos'](_0x4708c1),_0x3025ca['y']=_0x2d2308*Math['sin'](_0x4708c1);},'circlePointDeterministic'(_0x100160,_0x27fb67,_0x2f88f0){const _0x18ee52=_0x27fb67*o_,_0xcdcea2=Math['sqrt'](_0x27fb67)/Math['sqrt'](_0x2f88f0);_0x100160['x']=_0xcdcea2*Math['cos'](_0x18ee52),_0x100160['y']=_0xcdcea2*Math['sin'](_0x18ee52);},'spherePointDeterministic'(_0x4f427c,_0x69a301,_0x4eff29,_0x326fcb=-0x1*-0x267e+0x1d3b+0x3*-0x1693,_0x25879f=0x2590+-0x1*-0x113d+-0x36cc){_0x326fcb=-0x5*-0x233+0x21ab+0xee3*-0x3-(-0x1*0x45d+0x1e68+-0x1a09)*_0x326fcb,_0x25879f=-0x2588+-0x2698+0x4c21-(0xe96+0x220*-0x9+0x48c)*_0x25879f;const _0x44dd86=N['lerp'](_0x326fcb,_0x25879f,_0x69a301/_0x4eff29),_0x4270aa=Math['sqrt'](-0x1*-0x1618+0x2*0x7f4+-0x25ff*0x1-_0x44dd86*_0x44dd86),_0x5c3965=o_*_0x69a301;_0x4f427c['x']=Math['cos'](_0x5c3965)*_0x4270aa,_0x4f427c['y']=_0x44dd86,_0x4f427c['z']=Math['sin'](_0x5c3965)*_0x4270aa;},'radicalInverse'(_0x24fed8){let _0x10ebcf=(_0x24fed8<<-0xb*0x2f5+-0x2148+0x41df|_0x24fed8>>>-0x13e9+-0x1*-0x25cf+-0x2*0x8eb)>>>0xeee+0x62*0x3a+-0x2522;return _0x10ebcf=((_0x10ebcf&-0x2327*-0xef8b+0x6d*-0x9ef837+0x78208593)<<-0x3*0x4c5+0x1b*-0x11+-0x85*-0x1f|(_0x10ebcf&-0xcbafe3*-0x80+0xf6e6a772*0x1+-0x6*0x1dadfd0c)>>>0x2*-0xda9+0x1*0xa45+0x110e)>>>-0x1f39+0x25e0+-0x6a7,_0x10ebcf=((_0x10ebcf&0x45ca2df1+0x50dd7853+-0x63747311)<<-0x1ad2+-0x20ce+0x2*0x1dd1|(_0x10ebcf&-0x5fbc0e*0x145+0x3e7*-0x652ed9+0x2d1305b61)>>>-0x2f*0xc7+0x1f3f*0x1+0x54c)>>>0x683+0x4e7*-0x5+0x1200,_0x10ebcf=((_0x10ebcf&-0x1*-0x4175ee5+-0x2*-0xcfaae37+0x8c306*-0x1b6)<<0x236+0x2*-0x189+0xe0|(_0x10ebcf&-0xeadef0f0+-0x186a25999+-0x87bb3*-0x6623)>>>0x200+0xd09+0x1*-0xf05)>>>0x15aa+0x16*0xe2+-0x2916,_0x10ebcf=((_0x10ebcf&-0x244*-0x321f+-0x1f90b4d*0x1+0x2867e10)<<-0x2616+0xc78+0x19a6|(_0x10ebcf&-0x1*0xa8af1d4a+-0x16db11f9b+0x315613be5)>>>-0xd4f+0xdb1+0x2*-0x2d)>>>0x1d87*0x1+0x1*-0x1079+-0xd0e,_0x10ebcf*(-0x11bf+0x1077+0x148+2.3283064365386963e-10);}},gC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},yC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Es{static['decodeFunc'](_0x1f93f9){return gC[_0x1f93f9]||'decodeGamm'+'a';}static['encodeFunc'](_0x209fa7){return yC[_0x209fa7]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x18da2c,_0x55c4dd){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x55c4dd['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x18da2c['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+X['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const l_=_0x2413a2=>{switch(_0x2413a2){case Au:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Il=(_0x5a0d29,_0x296c80,_0x39a63e)=>{if(_0x5a0d29<=-0x46+-0x1*0x773+-0x293*-0x3)_0x296c80[_0x39a63e+(-0x2615+0x982+0x1c93)]=-0x1*-0x22d7+0xc*-0x95+-0x3*0x949,_0x296c80[_0x39a63e+(0x1c5d+-0x43*0x89+0x65*0x13)]=-0x597+-0x69a*0x1+0xc31*0x1,_0x296c80[_0x39a63e+(-0x13e7+-0x1d87*-0x1+-0x99e)]=0x6cc*-0x2+-0x11c5+0x25*0xd9,_0x296c80[_0x39a63e+(0x236*-0xd+-0x5d6+0x2297)]=0xe33+-0x4*0x2fc+-0x243;else{if(_0x5a0d29>=0x61f+-0x2655+0x2037)_0x296c80[_0x39a63e+(-0x5*0x1bb+0x1*0x2557+0x88*-0x36)]=-0x114e+0xd3*-0x1+0x1320,_0x296c80[_0x39a63e+(0x4*0x853+-0xb72+-0x15d9)]=-0x1df5+-0x1023+0x8*0x5c3,_0x296c80[_0x39a63e+(0x1096*0x2+-0x60c+-0x1b1e)]=-0xa9c+0x1fb2+0xa8b*-0x2,_0x296c80[_0x39a63e+(0x184a*-0x1+0x134b+0x281*0x2)]=0x9*0x169+0x1333+0x34*-0x9d;else{let _0x22ced8=(-0x2*0x7ca+-0x15d*0xa+0x1d37)*_0x5a0d29%(0xe1f+-0xeb5+0x1*0x97),_0x552f6b=(-0x2*0x33b+0xc40+-0x4cb)*_0x5a0d29%(0x24f0+-0x981*-0x1+-0x8*0x5ce),_0x241fb9=(0x187df+0x5*-0x11b6+0xc54*-0x4)*_0x5a0d29%(-0x1d36+-0x980+-0x1*-0x26b7);const _0x1205b0=(-0x4eff62+0xf6ef2*0x1f+-0x926ced)*_0x5a0d29%(0x44f*-0x9+-0x1c10+0x1*0x42d8);_0x22ced8-=_0x552f6b/(0xee+-0x360+0x371),_0x552f6b-=_0x241fb9/(-0x197c+0x1*-0x1ac4+-0x1*-0x353f),_0x241fb9-=_0x1205b0/(-0x16bb+0x1eed+-0x733),_0x296c80[_0x39a63e+(0x222d+0x1230+0xa79*-0x5)]=Math['min'](0x5*0x2f5+0x2*-0xad6+0x7e2,Math['floor'](_0x22ced8*(0x7db*-0x3+0x15*0x59+-0x1a*-0xaa))),_0x296c80[_0x39a63e+(0x101e*-0x2+-0x66*-0x11+0x1977)]=Math['min'](0x111c+-0x3*0x783+0x3*0x224,Math['floor'](_0x552f6b*(0xbc1*-0x1+0x18eb+0x2*-0x615))),_0x296c80[_0x39a63e+(0xda3+-0x35*0x9f+0x66e*0x3)]=Math['min'](-0x1*-0x232d+0x10ba+-0x24*0x16a,Math['floor'](_0x241fb9*(0x1*-0xb93+0x4*-0x553+0x21df*0x1))),_0x296c80[_0x39a63e+(-0x5bf+-0x154c+-0xd87*-0x2)]=Math['min'](0x18a7+-0x2ec*0xd+-0x20c*-0x7,Math['floor'](_0x1205b0*(0x25e8+0x1*0x871+-0x2d59)));}}},xC=_0x1c959e=>{const _0x3e5fd0=_0x1c959e['length'],_0x388e0c=Math['min'](_0x3e5fd0,0x3*0x234+0x1*-0x217+-0x285),_0x114c48=Math['ceil'](_0x3e5fd0/_0x388e0c),_0x541397=new Uint8Array(_0x388e0c*_0x114c48*(-0x8df+-0x5*0x694+-0x159*-0x1f));let _0x1a8962=-0x1*-0x1483+0x1*-0x2171+0xcee;for(let _0x2db15a=-0x2678*-0x1+0x28*0xeb+-0x191*0x30;_0x2db15a<_0x3e5fd0;_0x2db15a+=0x4d+0xd2*0x15+-0x1*0x1183)Il(_0x1c959e[_0x2db15a+(-0x12f9*0x2+-0xa69+0x305b)]*(-0x134c+-0xd29*0x1+0x2075+0.5)+(0x439*0x3+0x15fe+-0x22a9+0.5),_0x541397,_0x1a8962+(0x1*-0x8ad+-0x156*-0xf+-0xb5d)),Il(_0x1c959e[_0x2db15a+(-0x17ee+-0x99c+0x1f*0x115)]*(0x1588+0x658+-0x1be0+0.5)+(0x63f+-0xcc9+0x2*0x345+0.5),_0x541397,_0x1a8962+(0x1d*0xbf+0x1304*0x2+0x3ba7*-0x1)),Il(_0x1c959e[_0x2db15a+(0xc69+-0x4e4*-0x1+0x114b*-0x1)]*(0x224a+-0xc2f+-0x161b*0x1+0.5)+(0x2141+0x5*-0x29+-0x3e*0x86+0.5),_0x541397,_0x1a8962+(0x103f*-0x1+0x23db+0xb3*-0x1c)),Il(_0x1c959e[_0x2db15a+(0xc+0x677+0xd0*-0x8)]/(0x23d2+-0x25*-0x89+-0x3797),_0x541397,_0x1a8962+(0x174c+0x206f+0x5*-0xb23)),_0x1a8962+=0x1*0x179c+-0x14*-0x193+-0x3708*0x1;return{'width':_0x388e0c,'height':_0x114c48,'data':_0x541397};},SC=(_0x1f0172,_0x117d0b,_0x24bddc,_0x42ba24)=>{const _0x915e26=_0x24bddc*(-0x24*0x1c+-0x1ea8+0x229a)*Math['PI'],_0x37ef20=Math['pow'](-0x14a8+-0x26d5+0x3b7e-_0x117d0b,(0x1d13+0xde*0x1+-0x1df0)/(_0x42ba24+(0x18c+-0x1*-0x1255+-0x18*0xd4))),_0x21556b=Math['sqrt'](-0x83*-0x8+0x2663+-0x2a7a-_0x37ef20*_0x37ef20);_0x1f0172['set'](Math['cos'](_0x915e26)*_0x21556b,Math['sin'](_0x915e26)*_0x21556b,_0x37ef20)['normalize']();},vC=(_0x1656b6,_0x25d738,_0x666885)=>{const _0x449feb=_0x666885*(-0x182*0xb+0x13d8+-0x1a0*0x2)*Math['PI'],_0x485e3e=Math['sqrt'](0x3fc+0x2438+-0x2833-_0x25d738),_0x48b774=Math['sqrt'](_0x25d738);_0x1656b6['set'](Math['cos'](_0x449feb)*_0x48b774,Math['sin'](_0x449feb)*_0x48b774,_0x485e3e)['normalize']();},bC=(_0x3d0732,_0x4aea93,_0x3b8fff,_0x2a37f9)=>{const _0x57d11e=_0x3b8fff*(-0x15*0x8b+0x1804+-0xc9b)*Math['PI'],_0x122ab9=Math['sqrt']((-0x1388+0x9e*-0x1+-0x2e1*-0x7-_0x4aea93)/(-0x2465+-0x18ec+0x3d52+(_0x2a37f9*_0x2a37f9-(-0x2ea*0x3+0x7*-0x457+-0x2720*-0x1))*_0x4aea93)),_0x2182e1=Math['sqrt'](-0x11b+-0x5*-0x251+-0xa79-_0x122ab9*_0x122ab9);_0x3d0732['set'](Math['cos'](_0x57d11e)*_0x2182e1,Math['sin'](_0x57d11e)*_0x2182e1,_0x122ab9)['normalize']();},wC=(_0x4b2ecc,_0x53cb98)=>{const _0xe1a63d=_0x4b2ecc*_0x53cb98,_0x24ae8c=_0x53cb98/(-0x25fe+0x643*-0x5+0x454e-_0x4b2ecc*_0x4b2ecc+_0xe1a63d*_0xe1a63d);return _0x24ae8c*_0x24ae8c*((0x425*-0x5+-0x1*-0x62b+-0xe8f*-0x1)/Math['PI']);},TC=(_0x38fcdc,_0x4ceea9)=>{const _0x2143f6=new T(),_0x597503=[];for(let _0x1e4202=-0x886+-0x1*-0xef1+-0x1*0x66b;_0x1e4202<_0x38fcdc;++_0x1e4202)SC(_0x2143f6,_0x1e4202/_0x38fcdc,ll['radicalInv'+'erse'](_0x1e4202),_0x4ceea9),_0x597503['push'](_0x2143f6['x'],_0x2143f6['y'],_0x2143f6['z'],-0x52b+-0x4f*0x3d+0x53*0x4a);return _0x597503;},AC=(_0x256e28,_0x4d7129)=>{const _0x28469e=_0x4d7129/_0x256e28,_0x184eb5=new T(),_0x3030c2=[];for(let _0x46c956=-0x13a5+-0x7*0x83+-0x1*-0x173a;_0x46c956<_0x256e28;++_0x46c956){vC(_0x184eb5,_0x46c956/_0x256e28,ll['radicalInv'+'erse'](_0x46c956));const _0x22fa80=_0x184eb5['z']/Math['PI'],_0x457cb0=(-0x1083*0x2+0x61c+0x35*0x82+0.5)*Math['log2'](_0x28469e/_0x22fa80);_0x3030c2['push'](_0x184eb5['x'],_0x184eb5['y'],_0x184eb5['z'],_0x457cb0);}return _0x3030c2;},EC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},CC=(_0x2b2eb1,_0xb3a911)=>{const _0xb3bbad=EC[_0x2b2eb1];return _0xb3bbad&&_0xb3bbad[_0xb3a911]||_0x2b2eb1;},MC=(_0x19e060,_0x2ffad0,_0x23c908)=>{const _0x3d7859=_0x23c908/_0x19e060,_0x173265=-0x3*0x745+0x134b+0x285-Math['log2'](_0x2ffad0)/(-0x23e*-0x8+-0x101d+-0x1c8),_0x3a5849=_0x173265*_0x173265,_0x988a82=new T(),_0x586efc=new T(),_0x7f86fd=new T(0x1*-0x213f+-0xfb*-0x1+0x2044,0x11*-0x89+-0x7*-0x2c3+-0x5*0x20c,-0x88c*-0x1+-0x1785+0x9*0x1aa),_0x3dded6=[],_0x204f49=CC(_0x19e060,_0x2ffad0);for(let _0x3149cb=-0x1926+-0x7*0x1c4+0x2582;_0x3149cb<_0x204f49;++_0x3149cb){bC(_0x988a82,_0x3149cb/_0x204f49,ll['radicalInv'+'erse'](_0x3149cb),_0x3a5849);const _0x5d7732=_0x988a82['z'];if(_0x586efc['set'](_0x988a82['x'],_0x988a82['y'],_0x988a82['z'])['mulScalar']((-0x315*0xb+0x86d*0x1+-0x4*-0x65f)*_0x5d7732)['sub'](_0x7f86fd),_0x586efc['z']>-0x266b+0x9*0x63+-0x34*-0xac){const _0x1bcc6f=wC(Math['min'](0x326*0x2+-0x206f+0x1de*0xe,_0x5d7732),_0x3a5849)/(-0xb*-0x31a+0x1*0x551+-0x276b*0x1)+(0x470+0x156a+-0x19da+0.001),_0x496c98=(0x25*0x56+0x1b0f+-0x277d+0.5)*Math['log2'](_0x3d7859/_0x1bcc6f);_0x3dded6['push'](_0x586efc['x'],_0x586efc['y'],_0x586efc['z'],_0x496c98);}}for(;_0x3dded6['length']<_0x19e060*(0x587+-0x1*-0xf01+-0x1484);)_0x3dded6['push'](0x1f60+-0x12de+-0xc82,0x4*0x92b+0x1d68*0x1+-0x210a*0x2,-0x13*-0x10d+0x1c7*-0x4+-0x1*0xcdb,0x78b+0x34b*-0xb+-0x2*-0xe57);return _0x3dded6;},PC=(_0x5841a5,_0x116123,_0xfdf7fa)=>{const _0x189936=xC(_0xfdf7fa);return new he(_0x5841a5,{'name':_0x116123,'width':_0x189936['width'],'height':_0x189936['height'],'mipmaps':!(-0x665*0x5+-0x142b+-0x3425*-0x1),'minFilter':de,'magFilter':de,'levels':[_0x189936['data']]});};class C0{constructor(_0x17fb41=!(-0x1101+0x94*0x31+-0xb53*0x1)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x17fb41;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x4968e2,_0xc67f8c)=>{_0x4968e2['destroy']();});}['get'](_0x26befa,_0x226d36){if(!this['map']['has'](_0x26befa)){const _0x557328=_0x226d36();return this['map']['set'](_0x26befa,_0x557328),_0x557328;}return this['map']['get'](_0x26befa);}}const RC=new C0(!(0xdd9+-0x24ab+0x16d3)),IC=new Ot(),Lp=(_0x13c7a1,_0x4fd915,_0x21bdec)=>IC['get'](_0x13c7a1,()=>new C0())['get'](_0x4fd915,()=>PC(_0x13c7a1,_0x4fd915,RC['get'](_0x4fd915,_0x21bdec))),DC=(_0x2f207a,_0x59de88,_0x41c515)=>{const _0x200090='lambert-sa'+'mples-'+_0x59de88+'-'+_0x41c515;return Lp(_0x2f207a,_0x200090,()=>AC(_0x59de88,_0x41c515));},LC=(_0x2f055e,_0x9ec603,_0x5a33d3)=>{const _0x12d360='phong-samp'+'les-'+_0x9ec603+'-'+_0x5a33d3;return Lp(_0x2f055e,_0x12d360,()=>TC(_0x9ec603,_0x5a33d3));},FC=(_0xa0dbac,_0xf390cc,_0x5a45b6,_0x6a1bed)=>{const _0x5519b2='ggx-sample'+'s-'+_0xf390cc+'-'+_0x5a45b6+'-'+_0x6a1bed;return Lp(_0xa0dbac,_0x5519b2,()=>MC(_0xf390cc,_0x5a45b6,_0x6a1bed));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function Qs(_0x1d5240,_0x5d9eb5,_0x261599={}){var _0x535309,_0x5b72f0;v['assert'](_0x1d5240 instanceof he&&_0x5d9eb5 instanceof he,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0xe947bf=_0x261599['seamPixels']??-0x5e0*0x3+0x1ee1+0xd41*-0x1,_0x15adf5=(((_0x535309=_0x261599['rect'])==null?void(0x55e+-0x1145+0xbe7):_0x535309['z'])??_0x5d9eb5['width'])-_0xe947bf*(0x617*0x4+0x1*-0x1e01+-0x1*-0x5a7),_0x14cb30=(((_0x5b72f0=_0x261599['rect'])==null?void(-0x1a23*-0x1+0x368+0x1d8b*-0x1):_0x5b72f0['w'])??_0x5d9eb5['height'])-_0xe947bf*(0x313*-0x1+0x181c+-0x7*0x301);if(_0x15adf5<-0x40a+0x28d+0x17e*0x1||_0x14cb30<-0x29*0xab+0x1d4*-0x3+0x20e0)return!(0xce1+0x1ae7*-0x1+0xe07);const _0x32b2b6={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x10a707=_0x261599['hasOwnProp'+'erty']('specularPo'+'wer')?_0x261599['specularPo'+'wer']:0x2*-0xe44+0x1e16+0x1*-0x18d,_0x34cabe=_0x261599['hasOwnProp'+'erty']('face')?_0x261599['face']:null,_0x4f2d10=_0x261599['hasOwnProp'+'erty']('distributi'+'on')?_0x261599['distributi'+'on']:_0x10a707===0x11*0x27+0x287*-0xd+0xa17*0x3?'none':'phong',_0x1f82c7=_0x32b2b6[_0x4f2d10]||'reproject',_0x462e4c=_0x1f82c7['startsWith']('prefilterS'+'amples'),_0x1ed723=Es['decodeFunc'](_0x1d5240['encoding']),_0x275838=Es['encodeFunc'](_0x5d9eb5['encoding']),_0x18e690='sample'+l_(_0x1d5240['projection']),_0x4be909='getDirecti'+'on'+l_(_0x5d9eb5['projection']),_0x360130=_0x261599['hasOwnProp'+'erty']('numSamples')?_0x261599['numSamples']:0x1*-0xeed+0x9cc+-0x30b*-0x3,_0x48503c=_0x1f82c7+'_'+_0x1ed723+'_'+_0x275838+'_'+_0x18e690+'_'+_0x4be909+'_'+_0x360130,_0x70fea=_0x1d5240['device'];let _0x237124=ka(_0x70fea)['getCachedS'+'hader'](_0x48503c);if(!_0x237124){const _0x16c890='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x1f82c7+'\x0a'+(_0x462e4c?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x1d5240['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x1ed723+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x275838+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x18e690+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x4be909+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x360130+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x360130))['toFixed'](0x1076+0xd*-0x10f+-0x73*0x6)+'\x0a';_0x237124=Is(_0x70fea,OC,_0x16c890+'\x0a'+X['reprojectP'+'S'],_0x48503c);}G['pushGpuMar'+'ker'](_0x70fea,'ReprojectT'+'exture'),_0x70fea['setBlendSt'+'ate'](_t['NOBLEND']);const _0x365df3=_0x70fea['scope']['resolve'](_0x1d5240['cubemap']?'sourceCube':'sourceTex');v['assert'](_0x365df3),_0x365df3['setValue'](_0x1d5240);const _0x5b8f95=_0x70fea['scope']['resolve']('params'),_0x262431=_0x70fea['scope']['resolve']('uvMod');_0xe947bf>0x1*-0x1c6f+0x5bb+0x16b4?_0x262431['setValue']([(_0x15adf5+_0xe947bf*(0xb*-0x236+0x115e+0x63*0x12))/_0x15adf5,(_0x14cb30+_0xe947bf*(0x14a9+0x5*-0x6d5+0x26*0x5b))/_0x14cb30,-_0xe947bf/_0x15adf5,-_0xe947bf/_0x14cb30]):_0x262431['setValue']([-0x1264+0x31+-0x4*-0x48d,-0x841*-0x3+-0x1c45+-0x1f*-0x1d,-0x3ee+0x1d89*-0x1+-0x1*-0x2177,-0x101e+0x982+0x69c]);const _0x14166a=[0x52*0x18+-0x1*0x1dff+0x1*0x164f,_0x5d9eb5['width']*_0x5d9eb5['height']*(_0x5d9eb5['cubemap']?0x3d4+0x1*-0x757+-0xb5*-0x5:-0x1683+-0x1b02*-0x1+-0x47e),_0x1d5240['width']*_0x1d5240['height']*(_0x1d5240['cubemap']?0x5*-0x387+-0x2*0x767+0x2077:-0x59*-0x25+-0x930+0x1d6*-0x2)];if(_0x462e4c){const _0x13df13=_0x1d5240['width']*_0x1d5240['height']*(_0x1d5240['cubemap']?0x1196+-0x1951+0x7c1:0x6db*0x1+0x611+-0xceb),_0x4d5108=_0x4f2d10==='ggx'?FC(_0x70fea,_0x360130,_0x10a707,_0x13df13):_0x4f2d10==='lambert'?DC(_0x70fea,_0x360130,_0x13df13):LC(_0x70fea,_0x360130,_0x10a707);_0x70fea['scope']['resolve']('samplesTex')['setValue'](_0x4d5108),_0x70fea['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x5e1+0xc1e*-0x3+0x1e7a)/_0x4d5108['width'],(-0x1abf+-0xffa+-0x71f*-0x6)/_0x4d5108['height']]);}for(let _0x1e9cfc=-0x1*-0x5f3+0x26c3+-0xc2*0x3b;_0x1e9cfc<(_0x5d9eb5['cubemap']?-0x117f*0x2+0x1b58+-0x4*-0x1eb:-0x4*0x8b0+0xfff+0x1*0x12c2);_0x1e9cfc++)if(_0x34cabe===null||_0x1e9cfc===_0x34cabe){const _0x40bd86=new pt({'colorBuffer':_0x5d9eb5,'face':_0x1e9cfc,'depth':!(0x1*0xbd+0x247b+-0x2537),'flipY':_0x70fea['isWebGPU']});_0x14166a[-0x2280+-0xb*0xc7+0x2b0d]=_0x1e9cfc,_0x5b8f95['setValue'](_0x14166a),dn(_0x70fea,_0x40bd86,_0x237124,_0x261599==null?void(0x49*-0x47+0x17e7*-0x1+0x2c26):_0x261599['rect']),_0x40bd86['destroy']();}return G['popGpuMark'+'er'](_0x70fea),!(-0x15f7*0x1+0xa19+0xbde);}const wd=(_0x3e9f60,_0x441c58=0x9eb+0x39*-0x57+0x974)=>-0x1aec+0x1539+0x5b4+Math['floor'](Math['log2'](Math['max'](_0x3e9f60,_0x441c58))),kC=_0x56e2d3=>_0x56e2d3['textureHal'+'fFloatRend'+'erable'],BC=_0x14dc28=>_0x14dc28['textureFlo'+'atRenderab'+'le'],NC=_0x683330=>kC(_0x683330)?Je:BC(_0x683330)?Ke:Se,zC=_0x4ec705=>Se,UC=(_0x89787b,_0x1f52b4,_0x12c465,_0x3cbc62)=>new he(_0x89787b,{'name':'lighting-'+_0x1f52b4,'cubemap':!(-0x6a*-0x2b+0xe65+-0x2033),'width':_0x1f52b4,'height':_0x1f52b4,'format':_0x12c465,'type':Io,'addressU':ae,'addressV':ae,'mipmaps':!(-0x8*0x5+-0x3f3+0x41c)});class M0{static['generateSk'+'yboxCubema'+'p'](_0x46da06,_0x4808cb){const _0x5acbf6=_0x46da06['device'];G['pushGpuMar'+'ker'](_0x5acbf6,'genSkyboxC'+'ubemap');const _0x439ea7=UC(_0x5acbf6,_0x4808cb||(_0x46da06['cubemap']?_0x46da06['width']:_0x46da06['width']/(-0x1*0x227d+-0x1*0x257+0x24d8)),Se);return Qs(_0x46da06,_0x439ea7,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x5acbf6),_0x439ea7;}static['generateLi'+'ghtingSour'+'ce'](_0x2ef463,_0x5d5ee3){const _0x15252c=_0x2ef463['device'];G['pushGpuMar'+'ker'](_0x15252c,'genLightin'+'gSource');const _0x301f14=NC(_0x15252c),_0x209121=(_0x5d5ee3==null?void(0xf2a+-0x1*0x841+-0x1d*0x3d):_0x5d5ee3['target'])||new he(_0x15252c,{'name':'lighting-s'+'ource','cubemap':!(-0x146+0x2269+-0x2123),'width':(_0x5d5ee3==null?void(-0x9*0x274+0x16d+0x14a7):_0x5d5ee3['size'])||-0x12e7+0x1*0x66e+-0x9*-0x171,'height':(_0x5d5ee3==null?void(-0x75e+-0x77b*0x4+0x6f*0x56):_0x5d5ee3['size'])||0x110a+-0x7*0x589+-0x767*-0x3,'format':_0x301f14,'type':_0x301f14===Se?Io:Di,'addressU':ae,'addressV':ae,'mipmaps':!(0x84a*0x1+-0x1cb*0xe+0x10d*0x10)});return Qs(_0x2ef463,_0x209121,{'numSamples':_0x2ef463['mipmaps']?0x2139+-0xf7a*0x2+-0x2*0x122:0x13ca+-0x157a+0x5b0}),G['popGpuMark'+'er'](_0x15252c),_0x209121;}static['generateAt'+'las'](_0x281315,_0x1aa728){const _0x314f64=_0x281315['device'],_0x57000f=zC();G['pushGpuMar'+'ker'](_0x314f64,'genAtlas');const _0xe7c74d=(_0x1aa728==null?void(0x2*-0x139+-0x2d*0x7+0x3ad):_0x1aa728['target'])||new he(_0x314f64,{'name':'envAtlas','width':(_0x1aa728==null?void(-0x2082+0x11f0+0xe92):_0x1aa728['size'])||-0x2*-0xa67+-0x25b1+0x12e3,'height':(_0x1aa728==null?void(0x18e2+0x207c+-0xe*0x419):_0x1aa728['size'])||0x50c+-0x1*0xc10+0x904,'format':_0x57000f,'type':Io,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(-0xa4b*-0x1+0x1b4f+-0xaf*0x37)});G['pushGpuMar'+'ker'](_0x314f64,'mipmaps');const _0x3d9306=_0xe7c74d['width']/(-0x1e13+0xacc+-0xd*-0x1a3),_0x104dd9=new Q(0x13aa+-0x348+-0x1062,0xb96*0x2+-0x2151+-0x7*-0x173,(0x1fd9+0x14a0+-0x3279)*_0x3d9306,(0x1fad+0x7*0x56f+0x1*-0x44b6)*_0x3d9306),_0x3d8ad5=wd(0x163e+-0x1031+-0x50d)-wd(0x7*-0x8e+0x6c3+0x2dd*-0x1);for(let _0x45a4cc=-0x13f+-0x7cd+0x90c;_0x45a4cc<_0x3d8ad5;++_0x45a4cc)Qs(_0x281315,_0xe7c74d,{'numSamples':0x1,'rect':_0x104dd9,'seamPixels':_0x3d9306}),_0x104dd9['x']+=_0x104dd9['w'],_0x104dd9['y']+=_0x104dd9['w'],_0x104dd9['z']=Math['max'](0x7b*-0x1a+-0x7*-0x455+-0x11d4,Math['floor'](_0x104dd9['z']*(0x7*-0x545+0x4b3*-0x3+0x32fc+0.5))),_0x104dd9['w']=Math['max'](-0x1911+-0x11ac+0x2abe*0x1,Math['floor'](_0x104dd9['w']*(-0x11b*0x11+-0xd*-0x1f+0x1138+0.5)));G['popGpuMark'+'er'](_0x314f64),G['pushGpuMar'+'ker'](_0x314f64,'reflection'+'s'),_0x104dd9['set'](0x1476+0x7fd+-0x1c73,(0x1186+0x16+-0x109c*0x1)*_0x3d9306,(0xe7e+-0x24f8+-0xbbd*-0x2)*_0x3d9306,(0x805+0x1928+-0x20ad)*_0x3d9306);for(let _0x2c5100=0x15*-0x69+-0x2*-0x943+-0x9e8*0x1;_0x2c5100<-0xc8f*0x2+-0x1fa1+0x38c6;++_0x2c5100)Qs(_0x281315,_0xe7c74d,{'numSamples':(_0x1aa728==null?void(0x1f32+0x17a3+-0x36d5*0x1):_0x1aa728['numReflect'+'ionSamples'])||-0x115*-0x1f+-0x12fa*0x2+0x869,'distribution':(_0x1aa728==null?void(-0x20b+-0x14e+0x1*0x359):_0x1aa728['distributi'+'on'])||'ggx','specularPower':Math['max'](-0x1312+0x1451+-0x13e,-0x1e1c+-0x7*-0x278+0x14d4>>_0x2c5100*(0x6d6+0x58f*0x4+0x4d8*-0x6)),'rect':_0x104dd9,'seamPixels':_0x3d9306}),_0x104dd9['y']+=_0x104dd9['w'],_0x104dd9['z']=Math['max'](-0xc65*0x1+0xa*0xa4+0x5fe,Math['floor'](_0x104dd9['z']*(0x1b04+0x3*-0x2c9+-0x11*0x119+0.5))),_0x104dd9['w']=Math['max'](-0x226f+0x1e20+0x450,Math['floor'](_0x104dd9['w']*(0x3*-0xec+-0x39c*0x7+0x1c08+0.5)));return G['popGpuMark'+'er'](_0x314f64),G['pushGpuMar'+'ker'](_0x314f64,'ambient'),_0x104dd9['set']((-0x4d1+-0x13d*0x5+0xb82)*_0x3d9306,(0x423+-0x9b9*-0x3+-0x8a*0x3b)*_0x3d9306,(0x1*-0x1106+-0x1*-0x741+0xa05)*_0x3d9306,(0x1b9e+-0x265b+0xadd)*_0x3d9306),Qs(_0x281315,_0xe7c74d,{'numSamples':(_0x1aa728==null?void(0x1ee1+0x2412+-0x42f3):_0x1aa728['numAmbient'+'Samples'])||0x8f*-0x32+0xfc3+-0x142b*-0x1,'distribution':'lambert','rect':_0x104dd9,'seamPixels':_0x3d9306}),G['popGpuMark'+'er'](_0x314f64),G['popGpuMark'+'er'](_0x314f64),_0xe7c74d;}static['generatePr'+'efilteredA'+'tlas'](_0x2ebc76,_0x38ed87){const _0x4008eb=_0x2ebc76[0x8b*-0x1+-0x19a0+0x1a2b]['device'],_0x5ee098=_0x2ebc76[-0xd53+0x38f*0x8+-0xf25]['format'],_0x35d902=_0x2ebc76[-0xa9f+-0x111*-0xd+-0xa*0x53]['type'];G['pushGpuMar'+'ker'](_0x4008eb,'genPrefilt'+'eredAtlas');const _0x3ad475=(_0x38ed87==null?void(-0x26*0xc1+0x1622+0x684):_0x38ed87['target'])||new he(_0x4008eb,{'name':'envPrefilt'+'eredAtlas','width':(_0x38ed87==null?void(-0x2336+0x11e*0x15+0xbc0):_0x38ed87['size'])||0x393+0xc5e+0xdf1*-0x1,'height':(_0x38ed87==null?void(-0x22de+0x635+0x1ca9):_0x38ed87['size'])||0x103*0x24+0x1c8e+0x1f7d*-0x2,'format':_0x5ee098,'type':_0x35d902,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(-0x1fb4+-0x6e0+0x11*0x245)});G['pushGpuMar'+'ker'](_0x4008eb,'mipmaps');const _0x447794=_0x3ad475['width']/(0x3e3+-0x1*0x1f97+0x1db4),_0x39431f=new Q(-0x505+-0xf9*-0x1b+0x1*-0x153e,-0x1868+0x1172+0x16*0x51,(0x1261*0x1+0x2*0x71b+-0x1e97)*_0x447794,(0x25a2+-0x1*-0x47f+-0x2921)*_0x447794),_0x23048e=wd(0xcf0+-0x67*0x9+-0x1*0x751);for(let _0x34b79a=-0x1e0a+0x8*-0x177+0x2*0x14e1;_0x34b79a<_0x23048e;++_0x34b79a)Qs(_0x2ebc76[0x880+0x1d9d+-0xb*0x377],_0x3ad475,{'numSamples':0x1,'rect':_0x39431f,'seamPixels':_0x447794}),_0x39431f['x']+=_0x39431f['w'],_0x39431f['y']+=_0x39431f['w'],_0x39431f['z']=Math['max'](0x1*-0x17fd+-0x106*-0x25+-0xde*0x10,Math['floor'](_0x39431f['z']*(0x1*0xf16+-0x10d1+0x1bb+0.5))),_0x39431f['w']=Math['max'](-0x966*-0x1+-0xa15+0xb0*0x1,Math['floor'](_0x39431f['w']*(-0x12*-0x22+-0x209f+0x1e3b+0.5)));G['popGpuMark'+'er'](_0x4008eb),G['pushGpuMar'+'ker'](_0x4008eb,'reflection'+'s'),_0x39431f['set'](0xb91+0x18c7+-0x2*0x122c,(0xbe3*-0x3+0x689*-0x2+0x31bb)*_0x447794,(-0xb65*0x3+0x5a8+0x1d87*0x1)*_0x447794,(-0x1*0xa68+-0x1584+-0x53*-0x64)*_0x447794);for(let _0x2faba1=0x132*0x19+-0x230a+0x1*0x529;_0x2faba1<_0x2ebc76['length'];++_0x2faba1)Qs(_0x2ebc76[_0x2faba1],_0x3ad475,{'numSamples':0x1,'rect':_0x39431f,'seamPixels':_0x447794}),_0x39431f['y']+=_0x39431f['w'],_0x39431f['z']=Math['max'](-0x1f*-0x101+-0x1704+-0x81a*0x1,Math['floor'](_0x39431f['z']*(0x1b1e+-0x581*0x1+-0x159d+0.5))),_0x39431f['w']=Math['max'](0x2fd*0xd+0x1*-0x1b6b+-0x4b*0x27,Math['floor'](_0x39431f['w']*(-0x1e4d*0x1+-0x255a*-0x1+-0x70d+0.5)));return G['popGpuMark'+'er'](_0x4008eb),G['pushGpuMar'+'ker'](_0x4008eb,'ambient'),_0x39431f['set']((-0x1*0x2152+0x1d72+-0xa0*-0x7)*_0x447794,(0xb*-0xad+-0x155*0x11+0x1f94)*_0x447794,(-0xf68+-0x2267*0x1+0x320f)*_0x447794,(0xabd*-0x1+-0x2026+0x2b03)*_0x447794),_0x38ed87!=null&&_0x38ed87['legacyAmbi'+'ent']?Qs(_0x2ebc76[-0x1838+-0xa3*0xf+-0x5*-0x6c2],_0x3ad475,{'numSamples':0x1,'rect':_0x39431f,'seamPixels':_0x447794}):Qs(_0x2ebc76[-0x5b*0x1b+-0x264e+0x2fe7],_0x3ad475,{'numSamples':(_0x38ed87==null?void(-0x1cb3+-0x1edd+0x3b90):_0x38ed87['numSamples'])||-0x678*-0x2+0x7*0x363+-0x1ca5,'distribution':'lambert','rect':_0x39431f,'seamPixels':_0x447794}),G['popGpuMark'+'er'](_0x4008eb),G['popGpuMark'+'er'](_0x4008eb),_0x3ad475;}}const VC={'aoPS':St,'clearCoatPS':St,'clearCoatGlossPS':ad,'clearCoatNormalPS':St,'diffusePS':St,'diffuseDetailMapPS':St,'emissivePS':St,'glossPS':ad,'lightmapDirPS':wi,'lightmapSinglePS':wi,'metalnessPS':St,'normalMapPS':St,'normalDetailMapPS':St,'opacityPS':St,'parallaxPS':St,'sheenPS':St,'sheenGlossPS':ad,'specularPS':St,'specularityFactorPS':St,'thicknessPS':St,'transmissionPS':St,'normalVertexPS':wi,'startPS':wi,'ambientConstantPS':me,'ambientEnvPS':me,'ambientSHPS':me,'aoDiffuseOccPS':me,'aoSpecOccPS':me,'aoSpecOccConstPS':me,'aoSpecOccConstSimplePS':me,'aoSpecOccSimplePS':me,'clusteredLightPS':me,'clusteredLightShadowPS':me,'combinePS':me,'falloffInvSquaredPS':me,'falloffLinearPS':me,'lightDiffuseLambertPS':me,'lightSheenPS':me,'lightSpecularAnisoGGXPS':me,'lightSpecularBlinnPS':me,'ltcPS':me,'reflDirPS':me,'reflDirAnisoPS':me,'reflectionCCPS':me,'reflectionCubePS':me,'reflectionEnvPS':me,'reflectionEnvHQPS':me,'reflectionSheenPS':me,'reflectionSpherePS':me,'shadowCommonPS':me,'shadowCoordPS':me,'shadowCoordPerspZBufferPS':me,'shadowEVSMPS':me,'shadowEVSMnPS':me,'shadowStandardPS':me,'shadowStandardGL2PS':me,'spotPS':me,'TBNPS':me,'TBNObjectSpacePS':me,'TBNderivativePS':me,'endPS':hi,'metalnessModulatePS':hi,'outputAlphaPS':hi,'outputAlphaPremulPS':hi,'fresnelSchlickPS':hi,'iridescenceDiffractionPS':hi,'lightmapAddPS':hi,'lightmapDirAddPS':hi,'refractionCubePS':hm,'refractionDynamicPS':hm},GC={'ambientPrefilteredCubePS':Ui,'ambientPrefilteredCubeLodPS':Ui,'dpAtlasQuadPS':Ui,'genParaboloidPS':Ui,'prefilterCubemapPS':Ui,'reflectionDpAtlasPS':Ui,'reflectionPrefilteredCubePS':Ui,'reflectionPrefilteredCubeLodPS':Ui,'refractionPS':_r,'combineClearCoatPS':_r,'combineDiffusePS':_r,'combineDiffuseSpecularPS':_r,'combineDiffuseSpecularNoReflPS':_r,'combineDiffuseSpecularNoReflSeparateAmbientPS':_r,'combineDiffuseSpecularOldPS':_r,'lightmapSingleVertPS':wi,'normalMapFastPS':wi,'specularAaNonePS':wi,'specularAaToksvigPS':wi,'specularAaToksvigFastPS':wi,'skyboxEnvPS':cm,'skyboxHDRPS':cm,'shadowVSM8PS':bv,'fogExpPS':wn,'fogExp2PS':wn,'fogLinearPS':wn,'fogNonePS':wn,'gamma1_0PS':wn,'gamma2_2PS':wn},HC=(_0x4827e7,_0x537878)=>{const _0x4c0df6=_0x4827e7['split']('.')['map'](_0x4965c5=>parseInt(_0x4965c5,-0x248f+-0x452+0x28eb)),_0x19d33e=_0x537878['split']('.')['map'](_0x5bd2f1=>parseInt(_0x5bd2f1,0x8be+-0x1352+-0x54f*-0x2));return _0x4c0df6[0x2b7+0x5*0x775+0xa00*-0x4]<_0x19d33e[0x4ed*0x1+0x558+-0xa45]||_0x4c0df6[-0x1f14+-0x130c+-0x1*-0x3220]===_0x19d33e[-0x35*-0xb2+-0x59*0x4d+0x1*-0xa15]&&_0x4c0df6[0x17*-0x3f+0x11c*0x8+0x89*-0x6]<_0x19d33e[-0x98e+0x1*-0x155+-0x2*-0x572];},$C=_0x298857=>{const _0x5d6368=_0x298857['APIVersion'];for(const _0x35cea7 in _0x298857)if(_0x35cea7!=='APIVersion'){if(X['hasOwnProp'+'erty'](_0x35cea7)){const _0x13d388=VC[_0x35cea7];_0x13d388&&(!_0x5d6368||HC(_0x5d6368,_0x13d388))&&v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x35cea7+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x13d388+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x5d6368||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x2e20e2=GC[_0x35cea7];_0x2e20e2?v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x35cea7+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x2e20e2+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x35cea7+('\x27\x20is\x20not\x20s'+'upported.'));}}};class sr{constructor(){c(this,'code','');}['append'](..._0x275ff9){_0x275ff9['forEach'](_0x1c3413=>{_0x1c3413['endsWith']('\x0a')?this['code']+=_0x1c3413:this['code']+=_0x1c3413+'\x0a';});}['prepend'](..._0xd7192){_0xd7192['forEach'](_0x3ea881=>{_0x3ea881['endsWith']('\x0a')?this['code']=_0x3ea881+this['code']:this['code']=_0x3ea881+'\x0a'+this['code'];});}}const Td={'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_color':At,'vertex_boneWeights':Ys,'vertex_boneIndices':qt},h_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class WC{constructor(_0x349ca6,_0x351b48){if(this['device']=_0x349ca6,this['options']=_0x351b48,this['attributes']={'vertex_position':He},_0x351b48['userAttrib'+'utes']){for(const [_0x3aed6b,_0x421729]of Object['entries'](_0x351b48['userAttrib'+'utes']))this['attributes'][_0x421729]=_0x3aed6b;}if(_0x351b48['chunks']){const _0x29ee32=_0x351b48['chunks'];$C(_0x29ee32),this['chunks']=Object['create'](X);for(const _0x1c2ccb in X)if(_0x29ee32['hasOwnProp'+'erty'](_0x1c2ccb)){const _0x438cbd=_0x29ee32[_0x1c2ccb];for(const _0x2ae400 in Td)Td['hasOwnProp'+'erty'](_0x2ae400)&&_0x438cbd['indexOf'](_0x2ae400)>=0x14d9*0x1+0x214a+-0x3623&&(this['attributes'][_0x2ae400]=Td[_0x2ae400]);this['chunks'][_0x1c2ccb]=_0x438cbd;}}else this['chunks']=X;this['shaderPass'+'Info']=Ks['get'](this['device'])['getByIndex'](_0x351b48['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x351b48['lights']['length']>-0x71*-0x54+0x182e+-0x3d42||_0x351b48['dirLightMa'+'pEnabled']||_0x351b48['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x351b48['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x351b48['useSpecula'+'r']||_0x351b48['ambientSH']||_0x351b48['useHeights']||_0x351b48['enableGGXS'+'pecular']||_0x351b48['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x351b48['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x351b48['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x351b48['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x351b48['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x4e33dd,_0x265ddb,_0x5da2b1){return _0x4e33dd+=_0x265ddb['baseVS'],(_0x5da2b1['nineSliced'+'Mode']===nt||_0x5da2b1['nineSliced'+'Mode']===Qe)&&(_0x4e33dd+=_0x265ddb['baseNineSl'+'icedVS']),_0x4e33dd;}['_setMapTra'+'nsform'](_0x326db8,_0x529424,_0x4982bc,_0x4f966c){const _0x4772f9=_0x4982bc+_0x4f966c*(0x1*0x1c53+-0x3cf+-0x1820);if(!_0x326db8[-0x55f+-0x1*-0xac7+0x565*-0x1][_0x4772f9]){const _0x479baf='texture_'+_0x529424+('MapTransfo'+'rm');_0x326db8[0x5*-0x621+-0xb8c*-0x1+0x1319*0x1]+='uniform\x20ve'+'c3\x20'+_0x479baf+'0;\x0a',_0x326db8[-0xf8f+0x2f*-0x51+0x1e6e]+='uniform\x20ve'+'c3\x20'+_0x479baf+'1;\x0a',_0x326db8[-0x228d*0x1+0x1*0x649+0x1c45]+='varying\x20ve'+'c2\x20vUV'+_0x4f966c+'_'+_0x4982bc+';\x0a',_0x326db8[-0x6*0x422+-0x1e*0x148+0xa*0x653]+='\x20\x20\x20vUV'+_0x4f966c+'_'+_0x4982bc+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x4f966c+',\x201),\x20'+_0x479baf+('0),\x20dot(ve'+'c3(uv')+_0x4f966c+',\x201),\x20'+_0x479baf+'1));\x0a',_0x326db8[0x53*0x71+-0x18da+-0xbc6][_0x4772f9]=!(-0x2607+-0x4c3+0x2aca);}return _0x326db8;}['_fsGetBase'+'Code'](){const _0xc83d7d=this['options'],_0x1210f0=this['chunks'];let _0x3153fc=this['chunks']['basePS'];return _0xc83d7d['nineSliced'+'Mode']===nt?_0x3153fc+=_0x1210f0['baseNineSl'+'icedPS']:_0xc83d7d['nineSliced'+'Mode']===Qe&&(_0x3153fc+=_0x1210f0['baseNineSl'+'icedTiledP'+'S']),_0x3153fc;}['_fsGetStar'+'tCode'](_0x554ce8,_0x8f3e72,_0x46bd40,_0x19878e){let _0x4ed006=_0x46bd40['startPS'];return _0x19878e['nineSliced'+'Mode']===nt?_0x4ed006+=_0x46bd40['startNineS'+'licedPS']:_0x19878e['nineSliced'+'Mode']===Qe&&(_0x4ed006+=_0x46bd40['startNineS'+'licedTiled'+'PS']),_0x4ed006;}['_getLightS'+'ourceShape'+'String'](_0x3b4061){switch(_0x3b4061){case Gb:return'Rect';case Hb:return'Disk';case $b:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0xf5e05e,_0xdbb0df,_0x551783){const _0x1b8b37=this['device'],_0x5e7774=this['options'],_0x3abfeb=this['chunks'];let _0x1448bc='',_0x5ca785='',_0x482f47='';_0x1448bc=this['_vsAddBase'+'Code'](_0x1448bc,_0x3abfeb,_0x5e7774),_0x5ca785+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x482f47+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x5ca785+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===X['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=rp,this['attributes']['instance_l'+'ine2']=ga,this['attributes']['instance_l'+'ine3']=np,this['attributes']['instance_l'+'ine4']=ya),_0x1448bc+=_0x3abfeb['transformV'+'S'],this['needsNorma'+'l']&&(_0x1448bc+=_0x3abfeb['normalCore'+'VS'],_0x1448bc+=_0x3abfeb['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=Yt,_0x5ca785+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0x5e7774['reflection'+'Source']==='sphereMap'&&_0x1b8b37['fragmentUn'+'iformsCoun'+'t']<=0x15*0x14d+-0x339+-0x1808&&(_0x1448bc+=_0x3abfeb['viewNormal'+'VS'],_0x5ca785+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0x5e7774['hasTangent'+'s']&&(_0x5e7774['useHeights']||_0x5e7774['useNormals']||_0x5e7774['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=Zs,_0x1448bc+=_0x3abfeb['tangentBin'+'ormalVS'],_0x5ca785+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x5ca785+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0x5e7774['enableGGXS'+'pecular']&&(_0x5ca785+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x492011=-0xc8e+0xf44+0x4*-0xad;for(let _0x4730c9=0xf3d*0x1+-0x1315+0x3d8;_0x4730c9<_0x492011;_0x4730c9++)_0xf5e05e[_0x4730c9]&&(this['attributes']['vertex_tex'+'Coord'+_0x4730c9]='TEXCOORD'+_0x4730c9,_0x1448bc+=_0x3abfeb['uv'+_0x4730c9+'VS'],_0x5ca785+='\x20\x20\x20vec2\x20uv'+_0x4730c9+'\x20=\x20getUv'+_0x4730c9+'();\x0a'),_0xdbb0df[_0x4730c9]&&(_0x5ca785+='\x20\x20\x20vUv'+_0x4730c9+'\x20=\x20uv'+_0x4730c9+';\x0a');const _0xf89931=[_0x1448bc,this['varyings'],_0x5ca785,[]];_0x551783['forEach'](_0x7a364d=>{this['_setMapTra'+'nsform'](_0xf89931,_0x7a364d['name'],_0x7a364d['id'],_0x7a364d['uv']);}),_0x1448bc=_0xf89931[-0x1*-0x150b+0x741*-0x3+0x8*0x17],this['varyings']=_0xf89931[0x8*0x343+-0xd2d+-0xcea],_0x5ca785=_0xf89931[-0x10d8+0xe19+-0xf*-0x2f],_0x5e7774['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=At,_0x5ca785+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0x5e7774['useMsdf']&&_0x5e7774['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Po,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Ro,_0x5ca785+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x1448bc+=_0x3abfeb['msdfVS']),(_0x5e7774['useMorphPo'+'sition']||_0x5e7774['useMorphNo'+'rmal'])&&(_0x482f47+='#define\x20MO'+'RPHING\x0a',_0x5e7774['useMorphTe'+'xtureBased'+'Int']&&(_0x482f47+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0x5e7774['useMorphPo'+'sition']&&(_0x482f47+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0x5e7774['useMorphNo'+'rmal']&&(_0x482f47+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=ya),_0x5e7774['skin']?(this['attributes']['vertex_bon'+'eIndices']=qt,_0x5e7774['batch']?_0x482f47+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=Ys,_0x482f47+='#define\x20SK'+'IN\x0a')):_0x5e7774['useInstanc'+'ing']&&(_0x482f47+='#define\x20IN'+'STANCING\x0a'),_0x5e7774['screenSpac'+'e']&&(_0x482f47+='#define\x20SC'+'REENSPACE\x0a'),_0x5e7774['pixelSnap']&&(_0x482f47+='#define\x20PI'+'XELSNAP\x0a'),_0x1448bc+='\x0a',_0x1448bc+=_0x3abfeb['startVS'],_0x1448bc+=_0x5ca785,_0x1448bc+=_0x3abfeb['endVS'],_0x1448bc+='}',Object['keys'](h_)['forEach'](_0x482156=>{_0x1448bc['indexOf'](_0x482156)>=0x65+0x2*0x175+-0x79*0x7&&(this['varyings']+='varying\x20'+h_[_0x482156]+'\x20'+_0x482156+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x482156['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x482f47+this['varyings']+_0x1448bc;}['_fsGetBegi'+'nCode'](){let _0x1fa71a='';for(let _0x3acfad=-0x1a3a+-0x1553*0x1+0x7*0x6cb;_0x3acfad<this['defines']['length'];_0x3acfad++)_0x1fa71a+='#define\x20'+this['defines'][_0x3acfad]+'\x0a';return _0x1fa71a;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x3a4e03=this['_fsGetBegi'+'nCode']();return _0x3a4e03+=this['varyings'],_0x3a4e03+=this['varyingDef'+'ines'],_0x3a4e03+=this['frontendDe'+'cl'],_0x3a4e03+=this['frontendCo'+'de'],_0x3a4e03+=It['begin'](),_0x3a4e03+=this['frontendFu'+'nc'],_0x3a4e03+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x3a4e03+=It['end'](),_0x3a4e03;}['_fsGetPreP'+'assCode'](){let _0x378309=this['_fsGetBegi'+'nCode']();return _0x378309+=this['varyings'],_0x378309+=this['varyingDef'+'ines'],_0x378309+=this['chunks']['floatAsUin'+'tPS'],_0x378309+=this['frontendDe'+'cl'],_0x378309+=this['frontendCo'+'de'],_0x378309+=It['begin'](),_0x378309+=this['frontendFu'+'nc'],_0x378309+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x378309+=It['end'](),_0x378309;}['_fsGetShad'+'owPassCode'](){const _0x5d4d8b=this['options'],_0x438224=this['chunks'],_0x85034=this['varyings'],_0x26dce4=this['shaderPass'+'Info']['lightType'];let _0x5dd926=this['shaderPass'+'Info']['shadowType'];_0x26dce4!==oe&&_0x5d4d8b['clusteredL'+'ightingEna'+'bled']&&(_0x5dd926===Hr||_0x5dd926===$r||_0x5dd926===Ts)&&(_0x5dd926=Dt);const _0x43fef7=ir['get'](_0x5dd926);v['assert'](_0x43fef7);const _0x198482=(_0x43fef7==null?void(0x1932+-0x65*-0x61+0x911*-0x7):_0x43fef7['vsm'])??!(-0x1645+0x1*0x37f+0xb*0x1b5),_0x3531a5=(_0x43fef7==null?void(-0x3cc+-0x13b2*0x1+0x177e*0x1):_0x43fef7['pcss'])??!(0x1*0xa81+-0xd12+-0x292*-0x1);let _0x447e6c=this['_fsGetBegi'+'nCode']();_0x5dd926===$r?_0x447e6c+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x5dd926===Hr&&(_0x447e6c+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x26dce4!==oe&&(_0x447e6c+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x447e6c+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x447e6c+=_0x85034,_0x447e6c+=this['varyingDef'+'ines'],_0x447e6c+=this['frontendDe'+'cl'],_0x447e6c+=this['frontendCo'+'de'],_0x5dd926===Ts&&(_0x447e6c+=X['linearizeD'+'epthPS']),_0x447e6c+=It['begin'](),_0x447e6c+=this['frontendFu'+'nc'];const _0x3b6a20=_0x26dce4===oe||!_0x198482&&_0x26dce4===Re;let _0x16bb0c=!(-0x12d6+0x17*0xb+0x11da);return _0x3b6a20?(_0x447e6c+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x3531a5&&_0x26dce4!==oe&&(_0x447e6c+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x447e6c+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x16bb0c=!(0x628+0x1*-0x220d+0x1be5)),_0x198482?_0x447e6c+=_0x438224['storeEVSMP'+'S']:_0x3531a5?_0x447e6c+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x16bb0c&&(_0x447e6c+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x447e6c+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x447e6c+=It['end'](),_0x447e6c;}['_fsGetLitP'+'assCode'](){var _0x2222bc;const _0xf58b07=this['device'],_0x5b935b=this['options'],_0x13d4a3=this['chunks'],_0x38193b=new sr(),_0x2da499=new sr(),_0x5d5380=new sr(),_0x4b52ee=new sr();_0x5b935b['opacityFad'+'esSpecular']===!(0x303*0x2+-0x1*0x179e+0x1199)&&_0x38193b['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x5b935b['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x5b935b['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x5b935b['fresnelMod'+'el']>0x60a+-0x272*0x9+0xff8&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x5b935b['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x5b935b['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x18959c=[];let _0x5a0ab5=-0x23*-0xfb+-0x25d1+0x380,_0x5ffe69=!(-0x2*-0x539+0xa84*0x2+-0x1f79),_0x24ce50=!(-0x3*-0x2d1+-0x1fda+0x1768),_0x2412fd=!(0x2266+0x1229+-0x348e),_0x7147d5=_0x5b935b['lights']['some'](_0xd5de67=>_0xd5de67['_shape']&&_0xd5de67['_shape']!==yt);_0x5b935b['clusteredL'+'ightingEna'+'bled']&&_0x5b935b['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0x7147d5=!(0x143+0x20e3*-0x1+-0xb8*-0x2c)),(_0x7147d5||_0x5b935b['clusteredL'+'ightingEna'+'bled'])&&(_0x38193b['append']('#define\x20AR'+'EA_LIGHTS'),_0x38193b['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x38193b['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x126283=0x213b+-0x26a9+0x56e;_0x126283<_0x5b935b['lights']['length'];_0x126283++){const _0x1c5ff1=_0x5b935b['lights'][_0x126283],_0x596adb=_0x1c5ff1['_type'];if(_0x5b935b['clusteredL'+'ightingEna'+'bled']&&_0x596adb!==oe)continue;const _0x98f8cf=_0x7147d5&&_0x1c5ff1['_shape']?_0x1c5ff1['_shape']:yt;_0x38193b['append']('uniform\x20ve'+'c3\x20light'+_0x126283+'_color;'),_0x1c5ff1['_shadowTyp'+'e']===Ts&&_0x1c5ff1['castShadow'+'s']&&!_0x5b935b['noShadow']&&(_0x38193b['append']('uniform\x20fl'+'oat\x20light'+_0x126283+('_shadowSea'+'rchArea;')),_0x38193b['append']('uniform\x20ve'+'c4\x20light'+_0x126283+('_cameraPar'+'ams;')),_0x596adb===oe&&_0x38193b['append']('uniform\x20ve'+'c4\x20light'+_0x126283+('_softShado'+'wParams;'))),_0x596adb===oe?_0x38193b['append']('uniform\x20ve'+'c3\x20light'+_0x126283+('_direction'+';')):(_0x38193b['append']('uniform\x20ve'+'c3\x20light'+_0x126283+'_position;'),_0x38193b['append']('uniform\x20fl'+'oat\x20light'+_0x126283+'_radius;'),_0x596adb===Re&&(_0x38193b['append']('uniform\x20ve'+'c3\x20light'+_0x126283+('_direction'+';')),_0x38193b['append']('uniform\x20fl'+'oat\x20light'+_0x126283+('_innerCone'+'Angle;')),_0x38193b['append']('uniform\x20fl'+'oat\x20light'+_0x126283+('_outerCone'+'Angle;')))),_0x98f8cf!==yt&&(_0x596adb===oe&&_0x38193b['append']('uniform\x20ve'+'c3\x20light'+_0x126283+'_position;'),_0x38193b['append']('uniform\x20ve'+'c3\x20light'+_0x126283+('_halfWidth'+';')),_0x38193b['append']('uniform\x20ve'+'c3\x20light'+_0x126283+('_halfHeigh'+'t;'))),_0x1c5ff1['castShadow'+'s']&&!_0x5b935b['noShadow']&&(_0x38193b['append']('uniform\x20ma'+'t4\x20light'+_0x126283+('_shadowMat'+'rix;')),_0x38193b['append']('uniform\x20fl'+'oat\x20light'+_0x126283+('_shadowInt'+'ensity;')),_0x596adb===oe&&(_0x38193b['append']('uniform\x20ma'+'t4\x20light'+_0x126283+('_shadowMat'+'rixPalette'+'[4];')),_0x38193b['append']('uniform\x20ve'+'c4\x20light'+_0x126283+('_shadowCas'+'cadeDistan'+'ces;')),_0x38193b['append']('uniform\x20in'+'t\x20light'+_0x126283+('_shadowCas'+'cadeCount;')),_0x38193b['append']('uniform\x20fl'+'oat\x20light'+_0x126283+('_shadowCas'+'cadeBlend;'))),_0x38193b['append']('uniform\x20ve'+'c4\x20light'+_0x126283+('_shadowPar'+'ams;')),_0x596adb===oe&&(_0x5ffe69=!(0x5*0x73d+0xa*0x157+0x3197*-0x1)),_0x596adb===Pe?_0x38193b['append']('uniform\x20'+(_0x1c5ff1['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x126283+('_shadowMap'+';')):_0x38193b['append']('uniform\x20'+(_0x1c5ff1['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x126283+('_shadowMap'+';')),_0x5a0ab5++,_0x18959c[_0x1c5ff1['_shadowTyp'+'e']]=!(-0x9eb+0x23c1+-0x19d6),_0x1c5ff1['_isVsm']&&(_0x24ce50=!(-0x3d*-0x56+0x4d*0x20+-0x1e1e)),_0x1c5ff1['_shadowTyp'+'e']===Ts&&(_0x2412fd=!(0x8*0x2d3+0xd81+-0x2419))),_0x1c5ff1['_cookie']&&(_0x1c5ff1['_cookie']['_cubemap']?_0x596adb===Pe&&(_0x38193b['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x126283+'_cookie;'),_0x38193b['append']('uniform\x20fl'+'oat\x20light'+_0x126283+('_cookieInt'+'ensity;')),(!_0x1c5ff1['castShadow'+'s']||_0x5b935b['noShadow'])&&_0x38193b['append']('uniform\x20ma'+'t4\x20light'+_0x126283+('_shadowMat'+'rix;'))):_0x596adb===Re&&(_0x38193b['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x126283+'_cookie;'),_0x38193b['append']('uniform\x20fl'+'oat\x20light'+_0x126283+('_cookieInt'+'ensity;')),(!_0x1c5ff1['castShadow'+'s']||_0x5b935b['noShadow'])&&_0x38193b['append']('uniform\x20ma'+'t4\x20light'+_0x126283+('_shadowMat'+'rix;')),_0x1c5ff1['_cookieTra'+'nsform']&&(_0x38193b['append']('uniform\x20ve'+'c4\x20light'+_0x126283+('_cookieMat'+'rix;')),_0x38193b['append']('uniform\x20ve'+'c2\x20light'+_0x126283+('_cookieOff'+'set;')))));}const _0x7410dd=this['needsNorma'+'l']&&(_0x5b935b['useNormals']||_0x5b935b['useClearCo'+'atNormals']||_0x5b935b['enableGGXS'+'pecular']&&!_0x5b935b['useHeights']);if(_0x7410dd&&(_0x5b935b['hasTangent'+'s']?_0x2da499['append'](_0x13d4a3['TBNPS']):_0x5b935b['useNormals']||_0x5b935b['useClearCo'+'atNormals']?_0x2da499['append'](_0x13d4a3['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x2da499['append'](_0x13d4a3['TBNObjectS'+'pacePS']),_0x5b935b['twoSidedLi'+'ghting']&&_0x2da499['append'](_0x13d4a3['twoSidedLi'+'ghtingPS'])),_0x2da499['append'](_0x13d4a3['sphericalP'+'S']),_0x2da499['append'](_0x13d4a3['decodePS']),_0x2da499['append'](_0x13d4a3['gammaPS']),_0x2da499['append'](_0x13d4a3['tonemappin'+'gPS']),_0x2da499['append'](_0x13d4a3['fogPS']),_0x2da499['append'](this['frontendCo'+'de']),_0x5b935b['useCubeMap'+'Rotation']&&_0x38193b['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x2da499['append'](_0x13d4a3['cubeMapRot'+'atePS']),_0x2da499['append'](_0x5b935b['cubeMapPro'+'jection']>0x1474+0x21c1+-0x3635?_0x13d4a3['cubeMapPro'+'jectBoxPS']:_0x13d4a3['cubeMapPro'+'jectNonePS']),_0x2da499['append'](_0x5b935b['skyboxInte'+'nsity']?_0x13d4a3['envMultipl'+'yPS']:_0x13d4a3['envConstPS'])),(this['lighting']&&_0x5b935b['useSpecula'+'r']||this['reflection'+'s'])&&(_0x5b935b['useMetalne'+'ss']&&_0x2da499['append'](_0x13d4a3['metalnessM'+'odulatePS']),_0x5b935b['fresnelMod'+'el']===Sp&&_0x2da499['append'](_0x13d4a3['fresnelSch'+'lickPS']),_0x5b935b['useIridesc'+'ence']&&_0x2da499['append'](_0x13d4a3['iridescenc'+'eDiffracti'+'onPS'])),_0x5b935b['useAo'])switch(_0x2da499['append'](_0x13d4a3['aoDiffuseO'+'ccPS']),_0x5b935b['occludeSpe'+'cular']){case Bo:_0x2da499['append'](_0x5b935b['occludeSpe'+'cularFloat']?_0x13d4a3['aoSpecOccS'+'implePS']:_0x13d4a3['aoSpecOccC'+'onstSimple'+'PS']);break;case Lu:_0x2da499['append'](_0x5b935b['occludeSpe'+'cularFloat']?_0x13d4a3['aoSpecOccP'+'S']:_0x13d4a3['aoSpecOccC'+'onstPS']);break;}_0x5b935b['reflection'+'Source']==='envAtlasHQ'?(_0x2da499['append'](_0x13d4a3['envAtlasPS']),_0x2da499['append'](_0x13d4a3['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Es['decodeFunc'](_0x5b935b['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5b935b['reflection'+'Encoding'])))):_0x5b935b['reflection'+'Source']==='envAtlas'?(_0x2da499['append'](_0x13d4a3['envAtlasPS']),_0x2da499['append'](_0x13d4a3['reflection'+'EnvPS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5b935b['reflection'+'Encoding'])))):_0x5b935b['reflection'+'Source']==='cubeMap'?_0x2da499['append'](_0x13d4a3['reflection'+'CubePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5b935b['reflection'+'Encoding']))):_0x5b935b['reflection'+'Source']==='sphereMap'&&_0x2da499['append'](_0x13d4a3['reflection'+'SpherePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5b935b['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x5b935b['useClearCo'+'at']&&_0x2da499['append'](_0x13d4a3['reflection'+'CCPS']),_0x5b935b['useSheen']&&_0x2da499['append'](_0x13d4a3['reflection'+'SheenPS'])),_0x5b935b['useRefract'+'ion']&&(_0x5b935b['useDynamic'+'Refraction']?(_0x5b935b['dispersion']&&(_0x38193b['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x38193b['append']('#define\x20DI'+'SPERSION\x0a')),_0x2da499['append'](_0x13d4a3['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x2da499['append'](_0x13d4a3['refraction'+'CubePS'])),_0x5b935b['useSheen']&&_0x2da499['append'](_0x13d4a3['lightSheen'+'PS']),_0x5b935b['clusteredL'+'ightingEna'+'bled']&&(_0x2da499['append'](_0x13d4a3['clusteredL'+'ightUtilsP'+'S']),_0x5b935b['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x2da499['append'](_0x13d4a3['clusteredL'+'ightCookie'+'sPS']),_0x5b935b['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x5b935b['noShadow']&&(_0x18959c[Dt]=!(0x2389*-0x1+-0x86a+-0x1*-0x2bf3),_0x18959c[lh]=!(0x153*-0xf+0x4*-0x2cf+0x1f19),_0x18959c[Ts]=!(0x991+0xb57+-0x18*0xdf))),(_0x5a0ab5>0x2309+0x1f*0x74+-0x167*0x23||_0x5b935b['clusteredL'+'ightingEna'+'bled'])&&(_0x5ffe69&&_0x2da499['append'](_0x13d4a3['shadowCasc'+'adesPS']),(_0x18959c[Bh]||_0x18959c[Dt]||_0x18959c[Nh]||_0x18959c[zh])&&_0x2da499['append'](_0x13d4a3['shadowStan'+'dardPS']),(_0x18959c[lh]||_0x18959c[Iu])&&_0x2da499['append'](_0x13d4a3['shadowStan'+'dardGL2PS']),_0x24ce50&&(_0x2da499['append'](_0x13d4a3['shadowVSM_'+'commonPS']),_0x18959c[Hr]&&_0x2da499['append'](_0x13d4a3['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x18959c[$r]&&_0x2da499['append'](_0xf58b07['extTexture'+'FloatLinea'+'r']?_0x13d4a3['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x13d4a3['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x2412fd&&(_0x2da499['append'](_0x13d4a3['linearizeD'+'epthPS']),_0x2da499['append'](_0x13d4a3['shadowPCSS'+'PS']),_0x2da499['append'](_0x13d4a3['shadowSoft'+'PS']))),_0x5b935b['enableGGXS'+'pecular']&&_0x2da499['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x2da499['append'](_0x13d4a3['lightDiffu'+'seLambertP'+'S']),(_0x7147d5||_0x5b935b['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x2da499['append'](_0x13d4a3['ltcPS']));let _0x4b2a32=!(0x61d+-0x1a17+0x13fb);_0x5b935b['useSpecula'+'r']&&(this['lighting']&&_0x2da499['append'](_0x5b935b['enableGGXS'+'pecular']?_0x13d4a3['lightSpecu'+'larAnisoGG'+'XPS']:_0x13d4a3['lightSpecu'+'larBlinnPS']),!_0x5b935b['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x5b935b['diffuseMap'+'Enabled']&&(_0x38193b['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x38193b['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x4b2a32=!(0x1*0xae4+0x10*-0x1b6+0x107c))),_0x2da499['append'](_0x13d4a3['combinePS']),_0x5b935b['lightMapEn'+'abled']&&_0x2da499['append'](_0x5b935b['useSpecula'+'r']&&_0x5b935b['dirLightMa'+'pEnabled']?_0x13d4a3['lightmapDi'+'rAddPS']:_0x13d4a3['lightmapAd'+'dPS']);const _0x5c4f6d=!_0x5b935b['lightMapEn'+'abled']||_0x5b935b['lightMapWi'+'thoutAmbie'+'nt'];_0x5c4f6d&&(_0x5b935b['ambientSou'+'rce']==='ambientSH'?_0x2da499['append'](_0x13d4a3['ambientSHP'+'S']):_0x5b935b['ambientSou'+'rce']==='envAtlas'?(_0x5b935b['reflection'+'Source']!=='envAtlas'&&_0x5b935b['reflection'+'Source']!=='envAtlasHQ'&&_0x2da499['append'](_0x13d4a3['envAtlasPS']),_0x2da499['append'](_0x13d4a3['ambientEnv'+'PS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5b935b['ambientEnc'+'oding'])))):_0x2da499['append'](_0x13d4a3['ambientCon'+'stantPS'])),_0x4b2a32||_0x38193b['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x5b935b['useMsdf']&&(_0x5b935b['msdfTextAt'+'tribute']||_0x38193b['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x2da499['append'](_0x13d4a3['msdfPS'])),this['needsNorma'+'l']&&(_0x2da499['append'](_0x13d4a3['viewDirPS']),_0x5b935b['useSpecula'+'r']&&_0x2da499['append'](_0x5b935b['enableGGXS'+'pecular']?_0x13d4a3['reflDirAni'+'soPS']:_0x13d4a3['reflDirPS']));let _0x232654=!(0x46d*0x1+0xe3e+-0x12aa),_0x2bb952=!(0x2*-0x7be+-0x3*0x171+0x10*0x13d),_0x9190d1=!(-0x1365+-0x1*-0x157c+-0x10b*0x2),_0x6beead=!(0x7ae*0x1+0x4f0+-0xc9d),_0xfa41df=!(0x12f*0x17+0x131a*-0x2+-0x26*-0x4a),_0x4716ac;if(_0x5b935b['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0x6beead=!(0x955*-0x3+0x2*0x126d+-0x1*0x8db),_0x232654=!(0x2*-0x1279+-0x38*-0xa9+0x1*-0x6),_0x2bb952=!(-0xda3+-0x2a8*0xa+0x29*0xfb),_0xfa41df=!(0x650+0x1*-0xfbe+-0x11*-0x8e),_0x2da499['append'](_0x13d4a3['floatUnpac'+'kingPS']),_0x5b935b['lightMaskD'+'ynamic']&&_0x38193b['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x5b935b['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x38193b['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x5b935b['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x5b935b['noShadow']){const _0x3fec1a=(_0x2222bc=ir['get'](_0x5b935b['clusteredL'+'ightingSha'+'dowType']))==null?void(-0x3*-0x5b1+0x1bcf+0x2ce2*-0x1):_0x2222bc['name'];v['assert'](_0x3fec1a);const _0x52ced4=_0x3fec1a['substring'](0x14c*0xd+0x1e53+-0x2f2f,-0x6b*-0xa+0x1c56+-0x2080);_0x38193b['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x38193b['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x52ced4);}_0x5b935b['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x38193b['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x38193b['append'](E0['getShaderD'+'efines']()),_0x5b935b['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x5b935b['noShadow']&&_0x2da499['append'](_0x13d4a3['clusteredL'+'ightShadow'+'sPS']),_0x2da499['append'](_0x13d4a3['clusteredL'+'ightPS']);}if(_0x4b52ee['append'](this['_fsGetStar'+'tCode'](_0x4b52ee,_0xf58b07,_0x13d4a3,_0x5b935b)),this['needsNorma'+'l']&&(_0x4b52ee['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x5b935b['useHeights']||_0x5b935b['useNormals'])&&_0x5b935b['hasTangent'+'s']&&(_0x4b52ee['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x4b52ee['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x4b52ee['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x7410dd&&(_0x4b52ee['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x5b935b['twoSidedLi'+'ghting']&&_0x4b52ee['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x4b52ee['append'](this['frontendFu'+'nc']),_0x5b935b['ssao']&&(_0x2da499['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x5d5380['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x5b935b['useSpecula'+'r']&&_0x5d5380['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x5b935b['useClearCo'+'at']&&_0x5d5380['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x5b935b['useSpecula'+'r']||this['reflection'+'s'])&&(_0x5b935b['useMetalne'+'ss']&&(_0x5d5380['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x5d5380['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x5d5380['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x5b935b['useIridesc'+'ence']&&_0x5d5380['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x5c4f6d&&(_0x5d5380['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x5b935b['useSpecula'+'r']&&_0x5d5380['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x5b935b['separateAm'+'bient']&&_0x5d5380['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x4b2a32||_0x5d5380['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x5b935b['useAo']&&!_0x5b935b['occludeDir'+'ect']&&_0x5d5380['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x5b935b['lightMapEn'+'abled']&&_0x5d5380['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x5b935b['useClearCo'+'at']&&(_0x5d5380['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x5b935b['fresnelMod'+'el']>-0x6*0x3f1+0x8*-0x1c9+0x25ee?(_0x5d5380['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x5d5380['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x5d5380['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x5b935b['useSpecula'+'rityFactor']&&_0x5d5380['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x5b935b['useSheen']&&_0x5d5380['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x5d5380['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x5b935b['fresnelMod'+'el']>0x15b7+0x22ce+-0x3885?_0x5d5380['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x5d5380['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x5b935b['useSpecula'+'rityFactor']&&_0x5d5380['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0x7147d5&&(_0x5d5380['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x5b935b['useSpecula'+'r']&&_0x5d5380['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x24f9aa=0x9f0+-0xd9f*0x1+-0x3af*-0x1;_0x24f9aa<_0x5b935b['lights']['length'];_0x24f9aa++){const _0x5ad090=_0x5b935b['lights'][_0x24f9aa],_0x2c7b98=_0x5ad090['_type'];if(_0x5b935b['clusteredL'+'ightingEna'+'bled']&&_0x2c7b98!==oe)continue;_0x4716ac=!(-0xb64+0x1330+-0x7cb);const _0xa1eb0d=_0x7147d5&&_0x5ad090['_shape']?_0x5ad090['shape']:yt,_0x2d674a=_0x7147d5&&_0x5ad090['_shape']?this['_getLightS'+'ourceShape'+'String'](_0xa1eb0d):'';if(_0xa1eb0d!==yt&&_0x5d5380['append']('\x20\x20\x20\x20calc'+_0x2d674a+('LightValue'+'s(light')+_0x24f9aa+('_position,'+'\x20light')+_0x24f9aa+('_halfWidth'+',\x20light')+_0x24f9aa+('_halfHeigh'+'t);')),_0x2c7b98===oe?(_0x5d5380['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x24f9aa+('_direction'+';')),_0x5d5380['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x5ad090['_cookie']&&(_0x2c7b98===Re&&!_0x5ad090['_cookie']['_cubemap']||_0x2c7b98===Pe&&_0x5ad090['_cookie']['_cubemap'])&&(_0xfa41df=!(-0x25*0x62+-0x16d8+0x2502),_0x4716ac=!(-0x146+0x11c8+-0x1*0x1082)),_0x5d5380['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x24f9aa+('_position)'+';')),_0x232654=!(-0x39a*0x7+-0xcfb*0x1+0x2631),_0x4716ac&&(_0x2c7b98===Re?_0x5d5380['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x5ad090['_cookieFal'+'loff']?'':'Clip')+(_0x5ad090['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x24f9aa+('_cookie,\x20l'+'ight')+_0x24f9aa+('_shadowMat'+'rix,\x20light')+_0x24f9aa+('_cookieInt'+'ensity')+(_0x5ad090['_cookieTra'+'nsform']?',\x20light'+_0x24f9aa+('_cookieMat'+'rix,\x20light')+_0x24f9aa+('_cookieOff'+'set'):'')+').'+_0x5ad090['_cookieCha'+'nnel']+';'):_0x5d5380['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x24f9aa+('_cookie,\x20l'+'ight')+_0x24f9aa+('_shadowMat'+'rix,\x20light')+_0x24f9aa+('_cookieInt'+'ensity).')+_0x5ad090['_cookieCha'+'nnel']+';')),_0xa1eb0d===yt?_0x5ad090['_falloffMo'+'de']===wp?(_0x5d5380['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x24f9aa+('_radius,\x20d'+'LightDirW)'+';')),_0x2bb952=!(0x470+0x177*-0x9+0x8bf)):(_0x5d5380['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x24f9aa+('_radius,\x20d'+'LightDirW)'+';')),_0x9190d1=!(0x153e+-0x1*-0x1c5e+-0x319c)):(_0x5d5380['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x24f9aa+('_radius,\x20d'+'LightDirW)'+';')),_0x9190d1=!(-0x15e9+0x4*-0x2e9+0x218d)),_0x5d5380['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x2c7b98===Re&&(_0x4716ac&&!_0x5ad090['_cookieFal'+'loff']||(_0x5d5380['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x24f9aa+('_direction'+',\x20light')+_0x24f9aa+('_innerCone'+'Angle,\x20lig'+'ht')+_0x24f9aa+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0x6beead=!(-0xc21+-0x25ab*0x1+-0x31cc*-0x1)))),_0xa1eb0d!==yt?_0x2c7b98===oe?_0x5d5380['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x5d5380['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x2d674a+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x5d5380['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x5ad090['castShadow'+'s']&&!_0x5b935b['noShadow']){const _0x1602f1=ir['get'](_0x5ad090['_shadowTyp'+'e']);v['assert'](_0x1602f1);const _0x1b541d=_0x5ad090['_shadowTyp'+'e']===Ts,_0x2ab546=_0x1602f1==null?void(-0x22*0xb2+-0x14*0x197+0x2*0x1bb8):_0x1602f1['vsm'],_0x48a7a0=_0x1602f1==null?void(0x3*-0x566+0xcfc+0x89*0x6):_0x1602f1['pcf'];let _0x1abef0=null,_0x1d8441;switch(_0x5ad090['_shadowTyp'+'e']){case Hr:_0x1abef0='VSM16',_0x1d8441='5.54';break;case $r:_0x1abef0='VSM32',_0x1d8441='15.0';break;case Bh:case Nh:_0x1abef0='PCF1x1';break;case lh:case Iu:_0x1abef0='PCF5x5';break;case Ts:_0x1abef0='PCSS';break;case Dt:case zh:default:_0x1abef0='PCF3x3';break;}if(_0x1abef0!==null){_0x5ad090['_normalOff'+'setBias']&&!_0x5ad090['_isVsm']&&_0x2da499['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x2c7b98===oe&&_0x2da499['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x48a7a0||_0x1b541d||_0xf58b07['isWebGPU'])&&_0x2da499['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x2c7b98===Pe&&_0x2da499['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x49c14f=_0x13d4a3['shadowSamp'+'leCoordPS'];_0x2da499['append'](_0x49c14f['replace']('$LIGHT',_0x24f9aa)),_0x2da499['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x2da499['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x2da499['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x2da499['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x224e11='light'+_0x24f9aa+('_shadowMat'+'rix');_0x2c7b98===oe&&_0x5ad090['numCascade'+'s']>0xdeb+0x932*-0x3+0xdac&&(_0x5d5380['append']('int\x20cascad'+'eIndex'+_0x24f9aa+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x24f9aa+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x24f9aa+('_shadowCas'+'cadeCount)'+';')),_0x5ad090['cascadeBle'+'nd']>0x17*-0x131+0x21a5+0x31f*-0x2&&_0x5d5380['append']('cascadeInd'+'ex'+_0x24f9aa+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x24f9aa+',\x20light'+_0x24f9aa+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x24f9aa+('_shadowCas'+'cadeCount,'+'\x20light')+_0x24f9aa+('_shadowCas'+'cadeBlend)'+';')),_0x5d5380['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x24f9aa+'\x20=\x20light'+_0x24f9aa+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x24f9aa+'];'),_0x224e11='cascadeSha'+'dowMat'+_0x24f9aa),_0x5d5380['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x24f9aa+'('+_0x224e11+',\x20light'+_0x24f9aa+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x2c7b98===oe&&_0x5d5380['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x24f9aa+('_shadowCas'+'cadeDistan'+'ces);'));let _0x364289='SHADOWMAP_'+'PASS(light'+_0x24f9aa+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x24f9aa+('_shadowPar'+'ams');if(_0x2ab546)_0x364289=_0x364289+',\x20'+_0x1d8441+(',\x20dLightDi'+'rW');else{if(_0x1b541d){let _0x78b44f=_0x2c7b98===oe?'light'+_0x24f9aa+('_softShado'+'wParams'):'vec2(light'+_0x24f9aa+('_shadowSea'+'rchArea)');_0xa1eb0d!==yt&&(_0x78b44f='vec2(lengt'+'h(light'+_0x24f9aa+('_halfWidth'+'),\x20length('+'light')+_0x24f9aa+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x24f9aa+('_shadowSea'+'rchArea')),_0x364289=_0x364289+',\x20light'+_0x24f9aa+('_cameraPar'+'ams,\x20')+_0x78b44f+(',\x20dLightDi'+'rW');}}_0x2c7b98===Pe?(_0x1abef0='Point'+_0x1abef0,_0x1b541d||(_0x364289=_0x364289+(',\x20dLightDi'+'rW'))):_0x2c7b98===Re&&(_0x1abef0='Spot'+_0x1abef0),_0x5d5380['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x24f9aa+('\x20=\x20getShad'+'ow')+_0x1abef0+'('+_0x364289+');'),_0x5d5380['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x24f9aa+',\x20light'+_0x24f9aa+('_shadowInt'+'ensity);'));}}if(_0xa1eb0d!==yt?_0x5b935b['useSpecula'+'r']?_0x5d5380['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x24f9aa+'_color'+(_0x4716ac?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x5d5380['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x24f9aa+'_color'+(_0x4716ac?'\x20*\x20dAtten3':'')+';'):_0x7147d5&&_0x5b935b['useSpecula'+'r']?_0x5d5380['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x24f9aa+'_color'+(_0x4716ac?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x5d5380['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x24f9aa+'_color'+(_0x4716ac?'\x20*\x20dAtten3':'')+';'),_0x5b935b['useSpecula'+'r']&&_0x5d5380['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x5ad090['affectSpec'+'ularity']){if(_0xa1eb0d!==yt)_0x5b935b['useClearCo'+'at']&&_0x5d5380['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x2d674a+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x24f9aa+'_color'+(_0x4716ac?'\x20*\x20dAtten3':'')+';'),_0x5b935b['useSpecula'+'r']&&_0x5d5380['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x2d674a+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x24f9aa+'_color'+(_0x4716ac?'\x20*\x20dAtten3':'')+';');else{let _0x3f1d7e=!(0x1*-0xda2+-0x3aa*-0x5+-0x4af);_0x2c7b98===oe&&_0x5b935b['fresnelMod'+'el']>-0x1*0x22c2+-0x2fa*0xb+0x4380&&(_0x3f1d7e=!(-0x6f*-0x1e+-0xcc3+0x7*-0x9)),_0x5b935b['useClearCo'+'at']&&_0x5d5380['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x24f9aa+'_color'+(_0x4716ac?'\x20*\x20dAtten3':'')+(_0x3f1d7e?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x5b935b['useSheen']&&_0x5d5380['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x24f9aa+'_color'+(_0x4716ac?'\x20*\x20dAtten3'+';':';')),_0x5b935b['useSpecula'+'r']&&_0x5d5380['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x24f9aa+'_color'+(_0x4716ac?'\x20*\x20dAtten3':'')+(_0x3f1d7e?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x2c7b98!==oe&&_0x5d5380['append']('\x20\x20\x20\x20}');}_0x5b935b['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x2bb952=!(-0x399+0x5b6+-0x21d*0x1),_0x9190d1=!(-0x4*-0x368+-0x107c+-0x6*-0x7a),_0x232654=!(-0x89*0x8+-0xbf6+-0x9*-0x1ce),_0x5d5380['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0x7147d5&&(_0x5b935b['useClearCo'+'at']&&_0x5d5380['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x5b935b['useSpecula'+'r']&&_0x5d5380['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x5b935b['useRefract'+'ion']&&_0x5d5380['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x5b935b['useAo']&&(_0x5b935b['occludeDir'+'ect']&&_0x5d5380['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x5b935b['occludeSpe'+'cular']===Bo||_0x5b935b['occludeSpe'+'cular']===Lu)&&_0x5d5380['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x5b935b['useSpecula'+'rityFactor']&&_0x5d5380['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x5b935b['opacityFad'+'esSpecular']===!(0x26d8+0x531*-0x7+-0x280)&&((_0x5b935b['blendType']===Kt||_0x5b935b['blendType']===hr)&&(_0x5d5380['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x5d5380['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x5d5380['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x5d5380['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x5d5380['append'](_0x13d4a3['endPS']),_0x5b935b['blendType']===Kt||_0x5b935b['blendType']===Hc||_0x5b935b['alphaToCov'+'erage']?_0x5d5380['append'](_0x13d4a3['outputAlph'+'aPS']):_0x5b935b['blendType']===hr?_0x5d5380['append'](_0x13d4a3['outputAlph'+'aPremulPS']):_0x5d5380['append'](_0x13d4a3['outputAlph'+'aOpaquePS']),_0x5b935b['useMsdf']&&_0x5d5380['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x5d5380['append'](_0x13d4a3['outputPS']),_0x5d5380['append'](_0x13d4a3['debugOutpu'+'tPS']),_0x232654&&_0x2da499['prepend'](_0x13d4a3['lightDirPo'+'intPS']),_0x2bb952&&_0x2da499['prepend'](_0x13d4a3['falloffLin'+'earPS']),_0x9190d1&&_0x2da499['prepend'](_0x13d4a3['falloffInv'+'SquaredPS']),_0x6beead&&_0x2da499['prepend'](_0x13d4a3['spotPS']),_0xfa41df&&!_0x5b935b['clusteredL'+'ightingEna'+'bled']&&_0x2da499['prepend'](_0x13d4a3['cookiePS']);let _0x5d7912='';const _0x37f94b='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x5d5380['code']+'\x0a}';_0x2da499['append'](_0x37f94b),_0x4b52ee['append'](_0x13d4a3['debugProce'+'ssFrontend'+'PS']),_0x4b52ee['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x4b52ee['append'](It['end']());const _0x389c3c=_0x38193b['code']+_0x2da499['code']+_0x4b52ee['code'];return _0x389c3c['includes']('dTBN')&&(_0x5d7912+='mat3\x20dTBN;'+'\x0a'),_0x389c3c['includes']('dVertexNor'+'malW')&&(_0x5d7912+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0x389c3c['includes']('dTangentW')&&(_0x5d7912+='vec3\x20dTang'+'entW;\x0a'),_0x389c3c['includes']('dBinormalW')&&(_0x5d7912+='vec3\x20dBino'+'rmalW;\x0a'),_0x389c3c['includes']('dViewDirW')&&(_0x5d7912+='vec3\x20dView'+'DirW;\x0a'),_0x389c3c['includes']('dReflDirW')&&(_0x5d7912+='vec3\x20dRefl'+'DirW;\x0a'),_0x389c3c['includes']('dHalfDirW')&&(_0x5d7912+='vec3\x20dHalf'+'DirW;\x0a'),_0x389c3c['includes']('ccReflDirW')&&(_0x5d7912+='vec3\x20ccRef'+'lDirW;\x0a'),_0x389c3c['includes']('dLightDirN'+'ormW')&&(_0x5d7912+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0x389c3c['includes']('dLightDirW')&&(_0x5d7912+='vec3\x20dLigh'+'tDirW;\x0a'),_0x389c3c['includes']('dLightPosW')&&(_0x5d7912+='vec3\x20dLigh'+'tPosW;\x0a'),_0x389c3c['includes']('dShadowCoo'+'rd')&&(_0x5d7912+='vec3\x20dShad'+'owCoord;\x0a'),_0x389c3c['includes']('dReflectio'+'n')&&(_0x5d7912+='vec4\x20dRefl'+'ection;\x0a'),_0x389c3c['includes']('dDiffuseLi'+'ght')&&(_0x5d7912+='vec3\x20dDiff'+'useLight;\x0a'),_0x389c3c['includes']('dSpecularL'+'ight')&&(_0x5d7912+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0x389c3c['includes']('dAtten')&&(_0x5d7912+='float\x20dAtt'+'en;\x0a'),_0x389c3c['includes']('dAttenD')&&(_0x5d7912+='float\x20dAtt'+'enD;\x0a'),_0x389c3c['includes']('dAtten3')&&(_0x5d7912+='vec3\x20dAtte'+'n3;\x0a'),_0x389c3c['includes']('dMsdf')&&(_0x5d7912+='vec4\x20dMsdf'+';\x0a'),_0x389c3c['includes']('ccFresnel')&&(_0x5d7912+='float\x20ccFr'+'esnel;\x0a'),_0x389c3c['includes']('ccReflecti'+'on')&&(_0x5d7912+='vec3\x20ccRef'+'lection;\x0a'),_0x389c3c['includes']('ccSpecular'+'Light')&&(_0x5d7912+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0x389c3c['includes']('ccSpecular'+'ityNoFres')&&(_0x5d7912+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0x389c3c['includes']('sSpecularL'+'ight')&&(_0x5d7912+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0x389c3c['includes']('sReflectio'+'n')&&(_0x5d7912+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x5d7912+this['frontendDe'+'cl']+_0x389c3c;}['generateFr'+'agmentShad'+'er'](_0x3461b7,_0x416e38,_0x23fe9f,_0x2e65ff){const _0x439312=this['options'];this['frontendDe'+'cl']=_0x3461b7,this['frontendCo'+'de']=_0x416e38,this['frontendFu'+'nc']=_0x23fe9f,this['lightingUv']=_0x2e65ff,_0x439312['pass']===Oa?this['fshader']=this['_fsGetPick'+'PassCode']():_0x439312['pass']===rl?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x439312['pass']===il?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x439312['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x439312['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),v['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class qC{constructor(){c(this,'hasTangent'+'s',!(-0x1*-0x15d+-0x103c+0xe*0x110)),c(this,'chunks',{}),c(this,'pass',0x31d+-0x1853*-0x1+-0x1b70),c(this,'alphaTest',!(0x1678+0x5d1*0x2+-0x2219)),c(this,'blendType',is),c(this,'separateAm'+'bient',!(-0x20bb+-0x1e29+0x3ee5)),c(this,'screenSpac'+'e',!(0x2601+0x1*0x3a6+0xde2*-0x3)),c(this,'skin',!(-0x19*-0x109+0x122d+-0x2c0d)),c(this,'batch',!(0x1906+0x314*-0x8+-0x65)),c(this,'useInstanc'+'ing',!(0xb97+-0x6*-0x7+-0xbc0*0x1)),c(this,'useMorphPo'+'sition',!(-0x1ce+0x11e2+-0x1013)),c(this,'useMorphNo'+'rmal',!(0x650*0x1+-0xd04+0x6b5)),c(this,'useMorphTe'+'xtureBased'+'Int',!(-0x71a+-0xa63*-0x1+-0x348)),c(this,'nineSliced'+'Mode',0x2488+-0x15a5+0x25*-0x67),c(this,'clusteredL'+'ightingEna'+'bled',!(-0x3*0x48d+0x2*-0xc95+-0x13*-0x20b)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0xdcb+0x10d5+-0x1e9f)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0x37d*-0xb+-0x79*-0x4+-0x2842)),c(this,'clusteredL'+'ightingSha'+'dowType',0x1c37+-0x258b+0x954),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x2075+0x2*-0x923+-0x32bc*-0x1)),c(this,'vertexColo'+'rs',!(-0x45a+-0x1f7b*0x1+0x23d6)),c(this,'lightMapEn'+'abled',!(-0x12e0+-0x97f+0x1c60)),c(this,'dirLightMa'+'pEnabled',!(-0x122*-0x11+-0x4d*-0x65+0x31a2*-0x1)),c(this,'useHeights',!(-0x10*-0x70+-0x1*0x1945+-0x923*-0x2)),c(this,'useNormals',!(0x2*-0xedc+-0x16*-0x16f+-0x5d*0x5)),c(this,'useClearCo'+'atNormals',!(0x75b+-0xd*-0x1af+0x5*-0x5d9)),c(this,'useAo',!(-0xf52+0x8b1*0x3+-0xac0)),c(this,'diffuseMap'+'Enabled',!(0xf*-0x10f+-0x1130+0x2112)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(0x2266+-0x937+-0x192e)),c(this,'ambientSH',!(0x19*0x10d+-0x114c*0x1+-0x8f8)),c(this,'ssao',!(-0x1*0x184d+0x26f4*-0x1+0x3f42)),c(this,'twoSidedLi'+'ghting',!(0x9fb+0x2ec*-0x6+0x78e)),c(this,'occludeDir'+'ect',!(0x265*0x5+-0x112d+0x2b*0x1f)),c(this,'occludeSpe'+'cular',-0x1dda*-0x1+0xd*-0x269+0x17b),c(this,'occludeSpe'+'cularFloat',!(-0xe47+-0x795*-0x3+0x877*-0x1)),c(this,'useMsdf',!(-0x1*-0x1006+-0x2275*-0x1+-0x327a)),c(this,'msdfTextAt'+'tribute',!(0x1*-0x8b0+-0xd4b+-0x1d5*-0xc)),c(this,'alphaToCov'+'erage',!(0xf0c+0x5*-0x1d5+-0x5e2)),c(this,'opacityFad'+'esSpecular',!(0x79c*0x1+0xfce+-0x1769)),c(this,'opacityDit'+'her',Rs),c(this,'opacitySha'+'dowDither',Rs),c(this,'cubeMapPro'+'jection',0x175d*-0x1+-0x1824+0x2f81),c(this,'useSpecula'+'r',!(-0x746+-0x43*-0x17+0x142)),c(this,'useSpecula'+'rityFactor',!(0xb3f+0x22*0xcb+-0x2634)),c(this,'enableGGXS'+'pecular',!(0x1f*0xf3+-0xf22+0x3b*-0x3e)),c(this,'fresnelMod'+'el',-0x1b3b*-0x1+0x1*-0x1b4c+0x11),c(this,'useRefract'+'ion',!(0x1*0x113d+0x1cc7+-0x2e03)),c(this,'useClearCo'+'at',!(-0x1b6+0x10c3*-0x1+-0x16*-0xd7)),c(this,'useSheen',!(-0x15f7+-0x199*-0x7+0xac9)),c(this,'useIridesc'+'ence',!(0x9*0x67+-0x3*0x5f7+0xe47)),c(this,'useMetalne'+'ss',!(-0x99c+0x284+0x719)),c(this,'useDynamic'+'Refraction',!(0x92f*0x3+-0x1c0f+0x83)),c(this,'dispersion',!(-0xff2+-0x1f5f+0x3*0xfc6)),c(this,'fog',Fa),c(this,'gamma',sl),c(this,'toneMap',-(0x1*0xdff+0x53*-0x67+0x1367)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',0x2535+-0x21b8+-0xdf*0x4),c(this,'useCubeMap'+'Rotation',!(0x3*0x223+0x9*-0x2c3+0x1273)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(-0x63*-0x30+-0x1363+0xd4)),c(this,'lights',[]),c(this,'noShadow',!(-0x2fb+0x14*-0x1a+0x504)),c(this,'lightMaskD'+'ynamic',0x10c+-0x832+0xb7*0xa),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(-0x547+0x1733+-0x11eb));}}class Vh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(-0x12*-0x4f+0xfa1*0x1+-0x1*0x152e)),c(this,'specularTi'+'nt',!(0x25e6+-0x1*0x1543+-0x10a2)),c(this,'metalnessT'+'int',!(-0x12b+0x252c+-0x2400)),c(this,'glossTint',!(-0x3d*0x1+0xea1+-0x1*0xe63)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(-0xc57+-0x1*-0x1453+-0x7fb)),c(this,'glossInver'+'t',!(0xc*-0x32e+-0x1983+0xa3*0x64)),c(this,'sheenGloss'+'Invert',!(0xe8f+0x6d7*-0x5+0x13a5*0x1)),c(this,'clearCoatG'+'lossInvert',!(0x2327+-0x1f08+-0x41e)),c(this,'useAO',!(-0x7c5+0xf3d+0xd*-0x93)),c(this,'litOptions',new qC());}get['pass'](){return this['litOptions']['pass'];}}const Uu={'generateKey'(_0x25c6e2){return'lit'+Object['keys'](_0x25c6e2)['sort']()['map'](_0x5d3171=>_0x5d3171==='chunks'?Uu['generateCh'+'unksKey'](_0x25c6e2):_0x5d3171==='lights'?Uu['generateLi'+'ghtsKey'](_0x25c6e2):_0x5d3171+_0x25c6e2[_0x5d3171])['join']('\x0a');},'generateLightsKey'(_0x1f9cd0){return'lights:'+_0x1f9cd0['lights']['map'](_0x2159d3=>!_0x1f9cd0['clusteredL'+'ightingEna'+'bled']||_0x2159d3['_type']===oe?_0x2159d3['key']+',':'')['join']('');},'generateChunksKey'(_0x36628d){return'chunks:\x0a'+Object['keys'](_0x36628d['chunks']??{})['sort']()['map'](_0xc9440d=>_0xc9440d+_0x36628d['chunks'][_0xc9440d])['join']('');}},fa=[],Ad=_0x1c3a6=>Object['keys'](_0x1c3a6)['filter'](_0x5b3953=>_0x5b3953!=='litOptions')['sort']();class XC extends It{constructor(){super(...arguments),c(this,'optionsCon'+'text',new Vh()),c(this,'optionsCon'+'textMin',new Vh());}['generateKe'+'y'](_0x51c58a){let _0xd6b4b4;return _0x51c58a===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Ad(_0x51c58a)),_0xd6b4b4=this['propsMin']):_0x51c58a===this['optionsCon'+'text']?(this['props']||(this['props']=Ad(_0x51c58a)),_0xd6b4b4=this['props']):_0xd6b4b4=Ad(_0x51c58a),'standard:\x0a'+It['definesHas'+'h'](_0x51c58a['defines'])+'\x0a'+_0xd6b4b4['map'](_0x5a5c80=>_0x5a5c80+_0x51c58a[_0x5a5c80])['join']('\x0a')+Uu['generateKe'+'y'](_0x51c58a['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x14eedf,_0x4fdef4,_0x3a1bf0){const _0x13416a=_0x3a1bf0[_0x14eedf],_0x23f7e1=_0x3a1bf0[_0x4fdef4],_0x2ca453=_0x3a1bf0['litOptions']['pass']===gn;let _0x262585;return _0x2ca453&&_0x3a1bf0['litOptions']['nineSliced'+'Mode']===nt||_0x2ca453&&_0x3a1bf0['litOptions']['nineSliced'+'Mode']===Qe?_0x262585='nineSliced'+'Uv':(_0x13416a===-0x2*0xb9b+-0x2*0x121f+0x4*0xedd?_0x262585='vUv'+_0x23f7e1:_0x262585='vUV'+_0x23f7e1+'_'+_0x13416a,_0x3a1bf0['heightMap']&&_0x14eedf!=='heightMapT'+'ransform'&&(_0x262585+='\x20+\x20dUvOffs'+'et')),_0x262585;}['_addMapDef'](_0x47084d,_0x5aae90){return _0x5aae90?'#define\x20'+_0x47084d+'\x0a':'#undef\x20'+_0x47084d+'\x0a';}['_addMapDef'+'s'](_0x44da56,_0x28f4f7,_0x140d73,_0x454d13,_0x551edc){return this['_addMapDef']('MAPFLOAT',_0x44da56)+this['_addMapDef']('MAPCOLOR',_0x28f4f7)+this['_addMapDef']('MAPVERTEX',_0x140d73)+this['_addMapDef']('MAPTEXTURE',_0x454d13)+this['_addMapDef']('MAPINVERT',_0x551edc);}['_addMap'](_0x3dff87,_0x2c9c0c,_0x35430b,_0x253fce,_0x2dc605,_0x358158=null){const _0x1a287c=_0x3dff87+'Map',_0x50eaad=_0x1a287c+'Uv',_0x226786=_0x1a287c+'Identifier',_0x4d831d=_0x1a287c+'Transform',_0x5d621b=_0x1a287c+'Channel',_0x34dfeb=_0x3dff87+('VertexColo'+'rChannel'),_0x40fd7a=_0x3dff87+'Tint',_0x2f96f5=_0x3dff87+('VertexColo'+'r'),_0x2de919=_0x3dff87+'Mode',_0x5e7541=_0x3dff87+'Invert',_0x4ae1af=_0x35430b[_0x40fd7a],_0x3ee3e3=_0x35430b[_0x2f96f5],_0x3a10dc=_0x35430b[_0x1a287c],_0x208e97=_0x35430b[_0x226786],_0x2a9a46=_0x35430b[_0x2de919];let _0x36e4d6=_0x253fce[_0x2c9c0c];if(_0x3a10dc){const _0xd5d682=this['_getUvSour'+'ceExpressi'+'on'](_0x4d831d,_0x50eaad,_0x35430b);if(_0x36e4d6=_0x36e4d6['replace'](/\$UV/g,_0xd5d682)['replace'](/\$CH/g,_0x35430b[_0x5d621b]),_0x2dc605&&_0x36e4d6['search'](/\$SAMPLER/g)!==-(0x228b*-0x1+-0x122e+0x34ba)){let _0x306302='texture_'+_0x1a287c;const _0x6c01fe=_0x2dc605[_0x208e97];_0x6c01fe?_0x306302=_0x6c01fe:_0x2dc605[_0x208e97]=_0x306302,_0x36e4d6=_0x36e4d6['replace'](/\$SAMPLER/g,_0x306302);}if(_0x358158&&(_0x35430b[_0x5d621b]==='aaa'?_0x36e4d6=_0x36e4d6['replace'](/\$DECODE/g,'passThroug'+'h'):_0x36e4d6=_0x36e4d6['replace'](/\$DECODE/g,Es['decodeFunc'](_0x358158)),_0x36e4d6['indexOf']('$texture2D'+'SAMPLE'))){const _0x1698ed={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x36e4d6=_0x36e4d6['replace'](/\$texture2DSAMPLE/g,_0x1698ed[_0x358158]||'texture2D');}}_0x3ee3e3&&(_0x36e4d6=_0x36e4d6['replace'](/\$VC/g,_0x35430b[_0x34dfeb])),_0x2a9a46&&(_0x36e4d6=_0x36e4d6['replace'](/\$DETAILMODE/g,_0x2a9a46));const _0x69a7d4=!!(_0x4ae1af&-0x4f2+-0x9*-0x1bf+-0x4*0x2b1),_0x58dc8b=!!(_0x4ae1af&-0xefa+-0x113e+0x21*0xfa),_0x580346=!!_0x35430b[_0x5e7541];return _0x36e4d6=this['_addMapDef'+'s'](_0x69a7d4,_0x58dc8b,_0x3ee3e3,_0x3a10dc,_0x580346)+_0x36e4d6,_0x36e4d6['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x201014,_0x3491bb,_0x189ca5){if(_0x189ca5[_0x201014]>0xfe3+0x755*-0x3+-0x5c*-0x11){if(_0x189ca5[_0x201014]<_0x3491bb['length'])return _0x3491bb['substring'](-0x532+-0x1*-0x733+-0x201,_0x189ca5[_0x201014]);if(_0x189ca5[_0x201014]>_0x3491bb['length']){let _0x1d44db=_0x3491bb;const _0x2a5fbf=_0x1d44db['charAt'](_0x1d44db['length']-(-0x1a3c+0x3*-0xfd+0x1d34)),_0x4a1bcf=_0x189ca5[_0x201014]-_0x1d44db['length'];for(let _0x3c7e71=0x1*-0x261+-0x3*0x665+0x730*0x3;_0x3c7e71<_0x4a1bcf;_0x3c7e71++)_0x1d44db+=_0x2a5fbf;return _0x1d44db;}return _0x3491bb;}}['createShad'+'erDefiniti'+'on'](_0x2a9c88,_0x555210){const _0x59cfcf=Ks['get'](_0x2a9c88)['getByIndex'](_0x555210['litOptions']['pass'])['isForward'],_0x5d0763=new WC(_0x2a9c88,_0x555210['litOptions']),_0x290f14=[],_0x5ceb4a=[],_0x49d572=[],_0xe17a67=-0x10db*-0x1+0x8a*-0x3d+-0x335*-0x5,_0x50d792={};for(const _0x4fc301 in fa){const _0x4ae530=_0x4fc301+'Map';if(_0x555210[_0x4fc301+('VertexColo'+'r')]){const _0x2e2d0a=_0x4fc301+('VertexColo'+'rChannel');_0x555210[_0x2e2d0a]=this['_correctCh'+'annel'](_0x4fc301,_0x555210[_0x2e2d0a],fa);}if(_0x555210[_0x4ae530]){const _0x2723eb=_0x4ae530+'Channel',_0x47709a=_0x4ae530+'Transform',_0x2e0973=_0x4ae530+'Uv';_0x555210[_0x2e0973]=Math['min'](_0x555210[_0x2e0973],_0xe17a67-(0x120e+0x2b3*0x9+-0x2a58)),_0x555210[_0x2723eb]=this['_correctCh'+'annel'](_0x4fc301,_0x555210[_0x2723eb],fa);const _0x3cd43a=_0x555210[_0x2e0973];_0x290f14[_0x3cd43a]=!(-0x1*0x21e5+0x190+-0x2055*-0x1),_0x5ceb4a[_0x3cd43a]=_0x5ceb4a[_0x3cd43a]||_0x555210[_0x4ae530]&&!_0x555210[_0x47709a],_0x555210[_0x47709a]&&_0x49d572['push']({'name':_0x4fc301,'id':_0x555210[_0x47709a],'uv':_0x555210[_0x2e0973]});}}_0x555210['forceUv1']&&(_0x290f14[0x497+-0x795+0x2ff]=!(0x200c+0x8bf*-0x1+0x5*-0x4a9),_0x5ceb4a[-0x7f6*0x2+0x257f+-0x1592]=_0x5ceb4a[-0x2162+-0x2532*-0x1+-0x3cf]!==void(-0x1*0x741+-0xe36*0x1+-0x1*-0x1577)?_0x5ceb4a[0x1*0x962+0x398*-0xa+0x1a8f]:!(-0x160d+-0x1*-0x1b68+-0x55b)),_0x5d0763['generateVe'+'rtexShader'](_0x290f14,_0x5ceb4a,_0x49d572),_0x555210['litOptions']['fresnelMod'+'el']=_0x555210['litOptions']['fresnelMod'+'el']===0x1*-0x1a3f+0x1967+-0x4*-0x36?Sp:_0x555210['litOptions']['fresnelMod'+'el'];const _0x443fdc=new sr(),_0x59fa80=new sr(),_0x13491c=new sr(),_0x54a57e=new sr();let _0x57e2ec='';if(_0x555210['litOptions']['nineSliced'+'Mode']===Qe?_0x443fdc['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x443fdc['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0x59cfcf){if(_0x555210['heightMap']&&(_0x443fdc['append']('vec2\x20dUvOf'+'fset;'),_0x59fa80['append'](this['_addMap']('height','parallaxPS',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getParalla'+'x();')),_0x555210['litOptions']['blendType']!==is||_0x555210['litOptions']['alphaTest']||_0x555210['litOptions']['alphaToCov'+'erage']||_0x555210['litOptions']['opacityDit'+'her']!==Rs){_0x443fdc['append']('float\x20dAlp'+'ha;'),_0x59fa80['append'](this['_addMap']('opacity','opacityPS',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getOpacity'+'();'),_0x54a57e['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x555210['litOptions']['alphaTest']&&(_0x59fa80['append'](_0x5d0763['chunks']['alphaTestP'+'S']),_0x13491c['append']('alphaTest('+'dAlpha);'));const _0x2bbe36=_0x555210['litOptions']['opacityDit'+'her'];_0x2bbe36!==Rs&&(_0x2bbe36===Nm&&_0x443fdc['append'](_0x5d0763['chunks']['bayerPS']),_0x443fdc['append']('#define\x20DI'+'THER_'+_0x2bbe36['toUpperCas'+'e']()+'\x0a'),_0x443fdc['append'](_0x5d0763['chunks']['opacityDit'+'herPS']),_0x13491c['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x443fdc['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x5d0763['needsNorma'+'l']){if((_0x555210['normalMap']||_0x555210['clearCoatN'+'ormalMap'])&&(_0x59fa80['append'](_0x555210['packedNorm'+'al']?_0x5d0763['chunks']['normalXYPS']:_0x5d0763['chunks']['normalXYZP'+'S']),!_0x555210['litOptions']['hasTangent'+'s'])){const _0x5adc4e=_0x555210['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x57e2ec=this['_getUvSour'+'ceExpressi'+'on'](_0x5adc4e+'Transform',_0x5adc4e+'Uv',_0x555210);}_0x443fdc['append']('vec3\x20dNorm'+'alW;'),_0x59fa80['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x59fa80['append'](this['_addMap']('normal','normalMapP'+'S',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getNormal('+');'),_0x54a57e['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x5d0763['needsScene'+'Color']&&_0x443fdc['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x5d0763['needsScree'+'nSize']&&_0x443fdc['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x5d0763['needsTrans'+'forms']&&(_0x443fdc['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x443fdc['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x555210['diffuseDet'+'ail']||_0x555210['aoDetail'])&&_0x59fa80['append'](_0x5d0763['chunks']['detailMode'+'sPS']),_0x443fdc['append']('vec3\x20dAlbe'+'do;'),_0x555210['diffuseDet'+'ail']&&_0x59fa80['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x555210,_0x5d0763['chunks'],_0x50d792,_0x555210['diffuseDet'+'ailEncodin'+'g'])),_0x59fa80['append'](this['_addMap']('diffuse','diffusePS',_0x555210,_0x5d0763['chunks'],_0x50d792,_0x555210['diffuseEnc'+'oding'])),_0x13491c['append']('getAlbedo('+');'),_0x54a57e['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x555210['litOptions']['useRefract'+'ion']&&(_0x443fdc['append']('float\x20dTra'+'nsmission;'),_0x59fa80['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getRefract'+'ion();'),_0x54a57e['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x443fdc['append']('float\x20dThi'+'ckness;'),_0x59fa80['append'](this['_addMap']('thickness','thicknessP'+'S',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getThickne'+'ss();'),_0x54a57e['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x555210['litOptions']['dispersion']&&_0x54a57e['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x555210['litOptions']['useIridesc'+'ence']&&(_0x443fdc['append']('float\x20dIri'+'descence;'),_0x59fa80['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getIridesc'+'ence();'),_0x54a57e['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x443fdc['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x59fa80['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getIridesc'+'enceThickn'+'ess();'),_0x54a57e['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x5d0763['lighting']&&_0x555210['litOptions']['useSpecula'+'r']||_0x5d0763['reflection'+'s']?(_0x443fdc['append']('vec3\x20dSpec'+'ularity;'),_0x443fdc['append']('float\x20dGlo'+'ssiness;'),_0x555210['litOptions']['useSheen']&&(_0x443fdc['append']('vec3\x20sSpec'+'ularity;'),_0x59fa80['append'](this['_addMap']('sheen','sheenPS',_0x555210,_0x5d0763['chunks'],_0x50d792,_0x555210['sheenEncod'+'ing'])),_0x13491c['append']('getSheen()'+';'),_0x54a57e['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x443fdc['append']('float\x20sGlo'+'ssiness;'),_0x59fa80['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getSheenGl'+'ossiness()'+';'),_0x54a57e['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x555210['litOptions']['useMetalne'+'ss']&&(_0x443fdc['append']('float\x20dMet'+'alness;'),_0x59fa80['append'](this['_addMap']('metalness','metalnessP'+'S',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getMetalne'+'ss();'),_0x54a57e['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x443fdc['append']('float\x20dIor'+';'),_0x59fa80['append'](this['_addMap']('ior','iorPS',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getIor();'),_0x54a57e['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x555210['litOptions']['useSpecula'+'rityFactor']&&(_0x443fdc['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x59fa80['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getSpecula'+'rityFactor'+'();'),_0x54a57e['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x555210['useSpecula'+'rColor']?_0x59fa80['append'](this['_addMap']('specular','specularPS',_0x555210,_0x5d0763['chunks'],_0x50d792,_0x555210['specularEn'+'coding'])):_0x59fa80['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x59fa80['append'](this['_addMap']('gloss','glossPS',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getGlossin'+'ess();'),_0x13491c['append']('getSpecula'+'rity();'),_0x54a57e['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x54a57e['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x443fdc['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x443fdc['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x555210['aoDetail']&&_0x59fa80['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x555210,_0x5d0763['chunks'],_0x50d792)),(_0x555210['aoMap']||_0x555210['aoVertexCo'+'lor']||_0x555210['useAO'])&&(_0x443fdc['append']('float\x20dAo;'),_0x59fa80['append'](this['_addMap']('ao','aoPS',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getAO();'),_0x54a57e['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x443fdc['append']('vec3\x20dEmis'+'sion;'),_0x59fa80['append'](this['_addMap']('emissive','emissivePS',_0x555210,_0x5d0763['chunks'],_0x50d792,_0x555210['emissiveEn'+'coding'])),_0x13491c['append']('getEmissio'+'n();'),_0x54a57e['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x555210['litOptions']['useClearCo'+'at']&&(_0x443fdc['append']('float\x20ccSp'+'ecularity;'),_0x443fdc['append']('float\x20ccGl'+'ossiness;'),_0x443fdc['append']('vec3\x20ccNor'+'malW;'),_0x59fa80['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x59fa80['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x59fa80['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getClearCo'+'at();'),_0x13491c['append']('getClearCo'+'atGlossine'+'ss();'),_0x13491c['append']('getClearCo'+'atNormal()'+';'),_0x54a57e['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x54a57e['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x54a57e['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x555210['lightMap']||_0x555210['lightVerte'+'xColor']){const _0x14b8bb=_0x555210['dirLightMa'+'p']&&_0x555210['litOptions']['useSpecula'+'r'],_0x5f130f=_0x14b8bb?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x443fdc['append']('vec3\x20dLigh'+'tmap;'),_0x14b8bb&&_0x443fdc['append']('vec3\x20dLigh'+'tmapDir;'),_0x59fa80['append'](this['_addMap']('light',_0x5f130f,_0x555210,_0x5d0763['chunks'],_0x50d792,_0x555210['lightMapEn'+'coding'])),_0x13491c['append']('getLightMa'+'p();'),_0x54a57e['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x14b8bb&&_0x54a57e['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}v['assert'](_0x59fa80['code']['indexOf']('texture2DS'+'RGB')===-(0x1dd9+-0x6f*-0x2b+-0x307d)&&_0x59fa80['code']['indexOf']('texture2DR'+'GBM')===-(0x1aa1+-0x7c5+0x12db*-0x1)&&_0x59fa80['code']['indexOf']('texture2DR'+'GBE')===-(-0x1279*0x2+-0xbab+0x309e),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x27a1fb=_0x555210['litOptions']['opacitySha'+'dowDither'];(_0x555210['litOptions']['alphaTest']||_0x27a1fb)&&(_0x443fdc['append']('float\x20dAlp'+'ha;'),_0x59fa80['append'](this['_addMap']('opacity','opacityPS',_0x555210,_0x5d0763['chunks'],_0x50d792)),_0x13491c['append']('getOpacity'+'();'),_0x54a57e['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x555210['litOptions']['alphaTest']&&(_0x59fa80['append'](_0x5d0763['chunks']['alphaTestP'+'S']),_0x13491c['append']('alphaTest('+'dAlpha);')),_0x27a1fb!==Rs&&(_0x27a1fb===Nm&&_0x443fdc['append'](_0x5d0763['chunks']['bayerPS']),_0x443fdc['append']('#define\x20DI'+'THER_'+_0x27a1fb['toUpperCas'+'e']()+'\x0a'),_0x443fdc['append'](_0x5d0763['chunks']['opacityDit'+'herPS']),_0x13491c['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x443fdc['append'](_0x5d0763['chunks']['litShaderA'+'rgsPS']),_0x59fa80['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x13491c['code']+'\x0a'+_0x54a57e['code']+'\x0a\x20}\x0a'),_0x13491c['code']='evaluateFr'+'ontend();';for(const _0x58cef2 in _0x50d792)_0x443fdc['append']('uniform\x20sa'+'mpler2D\x20'+_0x50d792[_0x58cef2]+';');_0x13491c['code']='\x0a'+_0x13491c['code']['split']('\x0a')['map'](_0x5880f7=>'\x20\x20\x20\x20'+_0x5880f7)['join']('\x0a')+'\x0a\x0a',_0x5d0763['generateFr'+'agmentShad'+'er'](_0x443fdc['code'],_0x59fa80['code'],_0x13491c['code'],_0x57e2ec);const _0x238d0d=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x5d0763['chunks']),..._0x5d0763['chunks'],..._0x555210['litOptions']['chunks']})),_0x15b055=new Map(_0x555210['defines']),_0x469eba=Mt['createDefi'+'nition'](_0x2a9c88,{'name':'StandardSh'+'ader','attributes':_0x5d0763['attributes'],'vertexCode':_0x5d0763['vshader'],'fragmentCode':_0x5d0763['fshader'],'vertexIncludes':_0x238d0d,'fragmentIncludes':_0x238d0d,'fragmentDefines':_0x15b055,'vertexDefines':_0x15b055});return _0x5d0763['shaderPass'+'Info']['isForward']&&(_0x469eba['tag']=Ly),_0x469eba;}}const Ed=new XC(),Ft=[];Ft[n0]={'src':at,'dst':at,'op':ES},Ft[is]={'src':at,'dst':kf,'op':Lt},Ft[Kt]={'src':dc,'dst':uc,'op':Lt,'alphaSrc':at},Ft[hr]={'src':at,'dst':uc,'op':Lt},Ft[yp]={'src':at,'dst':at,'op':Lt},Ft[Hc]={'src':dc,'dst':at,'op':Lt},Ft[a0]={'src':dy,'dst':TS,'op':Lt},Ft[o0]={'src':AS,'dst':at,'op':Lt},Ft[xp]={'src':dy,'dst':kf,'op':Lt},Ft[l0]={'src':at,'dst':at,'op':CS},Ft[h0]={'src':at,'dst':at,'op':MS};let jC=-0x1*0x2125+0x347*0x1+0x1dde*0x1;class yn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',jC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(0x8fb+0x1*0x3ff+0xcf9*-0x1)),c(this,'parameters',{}),c(this,'alphaTest',0xa4*0x2f+-0x428+0x16*-0x12e),c(this,'alphaToCov'+'erage',!(-0x1bed*0x1+0x2*-0x861+0x2cb0)),c(this,'_blendStat'+'e',new _t()),c(this,'_depthStat'+'e',new as()),c(this,'cull',rn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(0x24e4*0x1+0x101a+-0x34fe)),c(this,'_shaderVer'+'sion',-0x1*0x1b97+-0x1*0x1904+0x349b),c(this,'_scene',null),c(this,'dirty',!(-0x3c3+0x206*-0x7+0x11ed)),new.target===yn&&v['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x718898){this['_dirtyShad'+'er']=!(0x69d+0x122b*0x1+-0x18c8),this['_chunks']=_0x718898;}get['chunks'](){return this['_dirtyShad'+'er']=!(-0x3*-0x78b+0x2*-0xfce+0x8fb*0x1),this['_chunks'];}set['depthBias'](_0x3f9f56){this['_depthStat'+'e']['depthBias']=_0x3f9f56;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x12670c){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x12670c;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x5054e3){this['_blendStat'+'e']['redWrite']=_0x5054e3;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x39b57a){this['_blendStat'+'e']['greenWrite']=_0x39b57a;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x519008){this['_blendStat'+'e']['blueWrite']=_0x519008;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x399616){this['_blendStat'+'e']['alphaWrite']=_0x399616;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0xacb1c0=this['transparen'+'t'],_0x1bf2c8=this['meshInstan'+'ces'];for(let _0x37ebb9=-0xe*0x27a+-0x3*0x1f+-0x2309*-0x1;_0x37ebb9<_0x1bf2c8['length'];_0x37ebb9++)_0x1bf2c8[_0x37ebb9]['transparen'+'t']=_0xacb1c0;}set['blendState'](_0x42bdba){this['_blendStat'+'e']['copy'](_0x42bdba),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x191a69){const _0x40bc93=Ft[_0x191a69];v['assert'](_0x40bc93,'Unknown\x20bl'+'end\x20mode\x20'+_0x191a69),this['_blendStat'+'e']['setColorBl'+'end'](_0x40bc93['op'],_0x40bc93['src'],_0x40bc93['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x40bc93['alphaOp']??_0x40bc93['op'],_0x40bc93['alphaSrc']??_0x40bc93['src'],_0x40bc93['alphaDst']??_0x40bc93['dst']);const _0x2eb825=_0x191a69!==is;this['_blendStat'+'e']['blend']!==_0x2eb825&&(this['_blendStat'+'e']['blend']=_0x2eb825,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return is;const {colorOp:_0x54de6f,colorSrcFactor:_0x10f714,colorDstFactor:_0x1369f1,alphaOp:_0x507ede,alphaSrcFactor:_0x2c5869,alphaDstFactor:_0x9924e2}=this['_blendStat'+'e'];for(let _0x1d977c=-0x371*-0x1+-0x1*0x823+-0x1*-0x4b2;_0x1d977c<Ft['length'];_0x1d977c++){const _0x2e657d=Ft[_0x1d977c];if(_0x2e657d['src']===_0x10f714&&_0x2e657d['dst']===_0x1369f1&&_0x2e657d['op']===_0x54de6f&&_0x2e657d['src']===_0x2c5869&&_0x2e657d['dst']===_0x9924e2&&_0x2e657d['op']===_0x507ede)return _0x1d977c;}return Kt;}set['depthState'](_0x1fc5db){this['_depthStat'+'e']['copy'](_0x1fc5db);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0xd963c8){this['_depthStat'+'e']['test']=_0xd963c8;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x967c64){this['_depthStat'+'e']['func']=_0x967c64;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x500a25){this['_depthStat'+'e']['write']=_0x500a25;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x2061ea){var _0x36f4b6;this['name']=_0x2061ea['name'],this['alphaTest']=_0x2061ea['alphaTest'],this['alphaToCov'+'erage']=_0x2061ea['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x2061ea['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x2061ea['_depthStat'+'e']),this['cull']=_0x2061ea['cull'],this['stencilFro'+'nt']=(_0x36f4b6=_0x2061ea['stencilFro'+'nt'])==null?void(-0x9a2+0xc53*0x2+-0xf04):_0x36f4b6['clone'](),_0x2061ea['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x2061ea['stencilFro'+'nt']===_0x2061ea['stencilBac'+'k']?this['stencilFro'+'nt']:_0x2061ea['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x4e8718 in _0x2061ea['parameters'])_0x2061ea['parameters']['hasOwnProp'+'erty'](_0x4e8718)&&this['_setParame'+'terSimple'](_0x4e8718,_0x2061ea['parameters'][_0x4e8718]['data']);this['defines']['clear'](),_0x2061ea['defines']['forEach']((_0x37e8ec,_0x29583a)=>this['defines']['set'](_0x29583a,_0x37e8ec));const _0x10e413=_0x2061ea['_chunks'];for(const _0x4626cc in _0x10e413)_0x10e413['hasOwnProp'+'erty'](_0x4626cc)&&(this['_chunks'][_0x4626cc]=_0x10e413[_0x4626cc]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x58ba42=this['meshInstan'+'ces'];for(let _0x1050b1=0x25e4+0xd87+-0x336b;_0x1050b1<_0x58ba42['length'];_0x1050b1++)_0x58ba42[_0x1050b1]['updateKey']();}['updateUnif'+'orms'](_0x117299,_0x58b9f5){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x3036a4){v['assert'](!(0x1*-0x1139+-0xb65*-0x3+-0x10f5),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x71c+0x153*0x6+0xf0d*-0x1),this['clearVaria'+'nts']()),this['dirty']=!(0x8e+-0x230f+-0x323*-0xb);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x828b05=this['meshInstan'+'ces'],_0x46f40c=_0x828b05['length'];for(let _0x5028ca=0x4*-0x367+0x1bfd*0x1+-0x4cb*0x3;_0x5028ca<_0x46f40c;_0x5028ca++)_0x828b05[_0x5028ca]['clearShade'+'rs']();}['getParamet'+'er'](_0x21ef1d){return this['parameters'][_0x21ef1d];}['_setParame'+'terSimple'](_0x5986ab,_0x45be6d){v['call'](()=>{_0x45be6d===void(-0x1f7b*0x1+-0x3*-0xc0b+-0x4a6)&&v['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x5986ab+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x2ed490=this['parameters'][_0x5986ab];_0x2ed490?_0x2ed490['data']=_0x45be6d:this['parameters'][_0x5986ab]={'scopeId':null,'data':_0x45be6d};}['setParamet'+'er'](_0x3c5350,_0x1ea195){if(_0x1ea195===void(0xb3*-0x2d+0x1ef1+0x86)&&typeof _0x3c5350=='object'){const _0x7ddfba=_0x3c5350;if(_0x7ddfba['length']){for(let _0x54df39=0x1240+-0xbc1*-0x1+0x1*-0x1e01;_0x54df39<_0x7ddfba['length'];_0x54df39++)this['setParamet'+'er'](_0x7ddfba[_0x54df39]);return;}_0x3c5350=_0x7ddfba['name'],_0x1ea195=_0x7ddfba['value'];}this['_setParame'+'terSimple'](_0x3c5350,_0x1ea195);}['deletePara'+'meter'](_0x420a5a){this['parameters'][_0x420a5a]&&delete this['parameters'][_0x420a5a];}['setParamet'+'ers'](_0x17d1e0,_0x3ddf7e){const _0x110124=this['parameters'];_0x3ddf7e===void(-0x16c6+-0x3*0x10+-0x2*-0xb7b)&&(_0x3ddf7e=_0x110124);for(const _0xfc0d9b in _0x3ddf7e){const _0x1173bf=_0x110124[_0xfc0d9b];_0x1173bf&&(_0x1173bf['scopeId']||(_0x1173bf['scopeId']=_0x17d1e0['scope']['resolve'](_0xfc0d9b)),_0x1173bf['scopeId']['setValue'](_0x1173bf['data']));}}['setDefine'](_0x97637c,_0x1ad1bc){let _0x549171=!(0x5*0x47f+0x85*0x33+-0x1053*0x3);const {defines:_0x23fc30}=this;_0x1ad1bc!==void(0x54*0xb+0xc57*-0x1+0x8bb)&&_0x1ad1bc!==!(0x2337+-0x681+-0x1cb5)?(_0x549171=!_0x23fc30['has'](_0x97637c)||_0x23fc30['get'](_0x97637c)!==_0x1ad1bc,_0x23fc30['set'](_0x97637c,_0x1ad1bc)):(_0x549171=_0x23fc30['has'](_0x97637c),_0x23fc30['delete'](_0x97637c)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x549171);}['getDefine'](_0x273cf2){return this['defines']['has'](_0x273cf2);}['destroy'](){this['variants']['clear']();for(let _0x500f91=0x1fe5+-0x24e9+0x504;_0x500f91<this['meshInstan'+'ces']['length'];_0x500f91++){const _0x4efe88=this['meshInstan'+'ces'][_0x500f91];if(_0x4efe88['clearShade'+'rs'](),_0x4efe88['_material']=null,_0x4efe88['mesh']){const _0x5d5b8e=al(_0x4efe88['mesh']['device']);this!==_0x5d5b8e&&(_0x4efe88['material']=_0x5d5b8e);}else v['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0x1694+-0x4*-0x395+0x49d*-0x8;}['addMeshIns'+'tanceRef'](_0x2f7d70){this['meshInstan'+'ces']['push'](_0x2f7d70);}['removeMesh'+'InstanceRe'+'f'](_0x1b0723){const _0x581e00=this['meshInstan'+'ces'],_0x398f69=_0x581e00['indexOf'](_0x1b0723);_0x398f69!==-(0x1f6e+-0x2*0x103f+0x111)&&_0x581e00['splice'](_0x398f69,-0x69e+0x11*-0x36+0xa35);}}class As{static['update'](_0x57346e,_0x3b33df,_0x1c8731,_0xeb546,_0x1bc4ae,_0xaa0069,_0x39b18d){As['updateShar'+'edOptions'](_0x57346e,_0x3b33df,_0x1c8731,_0x1bc4ae,_0xaa0069),As['updateMate'+'rialOption'+'s'](_0x57346e,_0x3b33df),As['updateEnvO'+'ptions'](_0x57346e,_0x3b33df,_0x1c8731,_0xeb546),As['updateLigh'+'tingOption'+'s'](_0x57346e,_0x3b33df,_0x1bc4ae,_0x39b18d);}static['updateShar'+'edOptions'](_0x49e040,_0x37bc7a,_0x1a1ffc,_0x489cce,_0x5a4b23){_0x49e040['chunks']=_0x37bc7a['chunks'],_0x49e040['pass']=_0x5a4b23,_0x49e040['alphaTest']=_0x37bc7a['alphaTest']>-0x1372+-0x27*-0xf1+-0x1145,_0x49e040['blendType']=_0x37bc7a['blendType'],_0x49e040['screenSpac'+'e']=_0x489cce&&(_0x489cce&Cp)!==-0x71*0x13+0x21e3+-0x1980,_0x49e040['skin']=_0x489cce&&(_0x489cce&$c)!==-0x53a*0x5+-0x1e3a+0x385c,_0x49e040['useInstanc'+'ing']=_0x489cce&&(_0x489cce&Wc)!==-0x80*0x1d+0x3*-0x3b7+-0x1f9*-0xd,_0x49e040['useMorphPo'+'sition']=_0x489cce&&(_0x489cce&qc)!==-0x1*0x1173+-0x2d3*-0x4+-0x20d*-0x3,_0x49e040['useMorphNo'+'rmal']=_0x489cce&&(_0x489cce&Xc)!==0x1*0xe4c+-0xa85+-0x3c7,_0x49e040['useMorphTe'+'xtureBased'+'Int']=_0x489cce&&(_0x489cce&jc)!==-0x4*0x9c2+-0x2e9+0x29f1,_0x49e040['hasTangent'+'s']=_0x489cce&&(_0x489cce&Mp)!==-0xb*-0x79+0x9d*0x2+0x5*-0x149,_0x49e040['nineSliced'+'Mode']=_0x37bc7a['nineSliced'+'Mode']||Ti,_0x37bc7a['useLightin'+'g']&&_0x1a1ffc['clusteredL'+'ightingEna'+'bled']?(_0x49e040['clusteredL'+'ightingEna'+'bled']=!(0x1*-0x11bd+0x1927*0x1+0x49*-0x1a),_0x49e040['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x1a1ffc['lighting']['cookiesEna'+'bled'],_0x49e040['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x1a1ffc['lighting']['shadowsEna'+'bled'],_0x49e040['clusteredL'+'ightingSha'+'dowType']=_0x1a1ffc['lighting']['shadowType'],_0x49e040['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x1a1ffc['lighting']['areaLights'+'Enabled']):(_0x49e040['clusteredL'+'ightingEna'+'bled']=!(0x1f6+-0x1*0x650+0x45b*0x1),_0x49e040['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x1c76*0x1+-0xb5b+-0xd46*-0x3),_0x49e040['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x688*0x2+0xe*-0x25f+0x2e43),_0x49e040['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x853+0x1c73+-0x24c5*0x1));}static['updateMate'+'rialOption'+'s'](_0x4610f8,_0x31a9d4){_0x4610f8['separateAm'+'bient']=!(0x569*0x3+-0xa90+0x32*-0x1d),_0x4610f8['customFrag'+'mentShader']=null,_0x4610f8['pixelSnap']=_0x31a9d4['pixelSnap'],_0x4610f8['ambientSH']=_0x31a9d4['ambientSH'],_0x4610f8['twoSidedLi'+'ghting']=_0x31a9d4['twoSidedLi'+'ghting'],_0x4610f8['occludeDir'+'ect']=_0x31a9d4['occludeDir'+'ect'],_0x4610f8['occludeSpe'+'cular']=_0x31a9d4['occludeSpe'+'cular'],_0x4610f8['occludeSpe'+'cularFloat']=_0x31a9d4['occludeSpe'+'cularInten'+'sity']!==-0x1*0x306+0xb5*-0x33+0x2716,_0x4610f8['useMsdf']=!(0x13b3+-0x2302+0xf50),_0x4610f8['msdfTextAt'+'tribute']=!(-0x1a3+-0x218f+0x1*0x2333),_0x4610f8['alphaToCov'+'erage']=_0x31a9d4['alphaToCov'+'erage'],_0x4610f8['opacityFad'+'esSpecular']=_0x31a9d4['opacityFad'+'esSpecular'],_0x4610f8['opacityDit'+'her']=_0x31a9d4['opacityDit'+'her'],_0x4610f8['cubeMapPro'+'jection']=u0,_0x4610f8['useSpecula'+'r']=_0x31a9d4['hasSpecula'+'r'],_0x4610f8['useSpecula'+'rityFactor']=_0x31a9d4['hasSpecula'+'rityFactor'],_0x4610f8['enableGGXS'+'pecular']=_0x31a9d4['ggxSpecula'+'r'],_0x4610f8['fresnelMod'+'el']=_0x31a9d4['fresnelMod'+'el'],_0x4610f8['useRefract'+'ion']=_0x31a9d4['hasRefract'+'ion'],_0x4610f8['useClearCo'+'at']=_0x31a9d4['hasClearCo'+'at'],_0x4610f8['useSheen']=_0x31a9d4['hasSheen'],_0x4610f8['useIridesc'+'ence']=_0x31a9d4['hasIrrides'+'cence'],_0x4610f8['useMetalne'+'ss']=_0x31a9d4['hasMetalne'+'ss'],_0x4610f8['useDynamic'+'Refraction']=_0x31a9d4['dynamicRef'+'raction'],_0x4610f8['dispersion']=_0x31a9d4['dispersion']>-0xa7b*0x2+-0x1db5+-0x7*-0x73d,_0x4610f8['vertexColo'+'rs']=!(0x11+-0x26a6+-0x2696*-0x1),_0x4610f8['lightMapEn'+'abled']=_0x31a9d4['hasLightin'+'g'],_0x4610f8['dirLightMa'+'pEnabled']=_0x31a9d4['dirLightMa'+'p'],_0x4610f8['useHeights']=_0x31a9d4['hasHeights'],_0x4610f8['useNormals']=_0x31a9d4['hasNormals'],_0x4610f8['useClearCo'+'atNormals']=_0x31a9d4['hasClearCo'+'atNormals'],_0x4610f8['useAo']=_0x31a9d4['hasAo'],_0x4610f8['diffuseMap'+'Enabled']=_0x31a9d4['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x16acc5,_0x5ca54d,_0xb9c628,_0x57df14){_0x16acc5['fog']=_0x5ca54d['useFog']?_0x57df14['fog']:Fa,_0x16acc5['gamma']=_0x57df14['shaderOutp'+'utGamma'],_0x16acc5['toneMap']=_0x5ca54d['useTonemap']?_0x57df14['toneMappin'+'g']:f0,_0x5ca54d['useSkybox']&&_0xb9c628['envAtlas']&&_0xb9c628['skybox']?(_0x16acc5['reflection'+'Source']='envAtlasHQ',_0x16acc5['reflection'+'Encoding']=_0xb9c628['envAtlas']['encoding'],_0x16acc5['reflection'+'CubemapEnc'+'oding']=_0xb9c628['skybox']['encoding']):_0x5ca54d['useSkybox']&&_0xb9c628['envAtlas']?(_0x16acc5['reflection'+'Source']='envAtlas',_0x16acc5['reflection'+'Encoding']=_0xb9c628['envAtlas']['encoding']):_0x5ca54d['useSkybox']&&_0xb9c628['skybox']?(_0x16acc5['reflection'+'Source']='cubeMap',_0x16acc5['reflection'+'Encoding']=_0xb9c628['skybox']['encoding']):(_0x16acc5['reflection'+'Source']=null,_0x16acc5['reflection'+'Encoding']=null),_0x5ca54d['ambientSH']?(_0x16acc5['ambientSou'+'rce']='ambientSH',_0x16acc5['ambientEnc'+'oding']=null):_0x16acc5['reflection'+'Source']&&_0xb9c628['envAtlas']?(_0x16acc5['ambientSou'+'rce']='envAtlas',_0x16acc5['ambientEnc'+'oding']=_0xb9c628['envAtlas']['encoding']):(_0x16acc5['ambientSou'+'rce']='constant',_0x16acc5['ambientEnc'+'oding']=null);const _0x2d1b8b=!!_0x16acc5['reflection'+'Source'];_0x16acc5['skyboxInte'+'nsity']=_0x2d1b8b,_0x16acc5['useCubeMap'+'Rotation']=_0x2d1b8b&&_0xb9c628['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x59e3d9,_0x1613ab,_0x2519cf,_0x921752){if(_0x59e3d9['lightMapWi'+'thoutAmbie'+'nt']=!(0xb08+0x3e*0x7c+-0x290f),_0x1613ab['useLightin'+'g']){const _0x3a112e=[],_0xa190b9=_0x2519cf?_0x2519cf>>-0x3*0x7f7+-0x204d+0x3842:hs;_0x59e3d9['lightMaskD'+'ynamic']=!!(_0xa190b9&hs),_0x59e3d9['lightMapWi'+'thoutAmbie'+'nt']=!(-0x3*-0x12a+0x104e*-0x2+0x1d1f),_0x921752&&(As['collectLig'+'hts'](oe,_0x921752[oe],_0x3a112e,_0xa190b9),As['collectLig'+'hts'](Pe,_0x921752[Pe],_0x3a112e,_0xa190b9),As['collectLig'+'hts'](Re,_0x921752[Re],_0x3a112e,_0xa190b9)),_0x59e3d9['lights']=_0x3a112e;}else _0x59e3d9['lights']=[];(_0x59e3d9['lights']['length']===0x2*0x124a+0x1*-0x73f+-0x1d55*0x1||(_0x2519cf&Ep)!==-0x2*-0x71f+-0x56c+0x8d2*-0x1)&&(_0x59e3d9['noShadow']=!(0xbed+-0x2644+0x1a57));}static['collectLig'+'hts'](_0x4f6806,_0xc3fd26,_0x9192e8,_0x2f126c){for(let _0x24c6a4=-0x24bf*-0x1+-0x1cd*0x7+0x26a*-0xa;_0x24c6a4<_0xc3fd26['length'];_0x24c6a4++){const _0x24303a=_0xc3fd26[_0x24c6a4];_0x24303a['enabled']&&_0x24303a['mask']&_0x2f126c&&_0x9192e8['push'](_0x24303a);}}}const c_=(_0x361ea4,_0x20b773)=>{if(_0x361ea4['length']!==_0x20b773['length'])return!(-0x15f5+-0x141*0x16+0x842*0x6);for(let _0x23f3d4=-0x12d2+0x2408+-0x1136;_0x23f3d4<_0x361ea4['length'];++_0x23f3d4)if(_0x361ea4[_0x23f3d4]!==_0x20b773[_0x23f3d4])return!(0x10e6+-0x237f+0x129a);return!(-0x1*-0x3e+0x187f*0x1+0x18bd*-0x1);},YC=_0x1a7cf9=>_0x1a7cf9['r']!==0x1*0x1021+-0xc48+-0x3d8||_0x1a7cf9['g']!==0x1*-0x1ad6+-0x1cc*-0x3+-0x1*-0x1573||_0x1a7cf9['b']!==0x1ff5+0xefb+-0x2eef,KC=_0x19754f=>_0x19754f['r']!==0x1fba+-0x8b*-0x41+0x1*-0x4305||_0x19754f['g']!==-0x8df*-0x4+0x2*-0x8b6+-0x110*0x11||_0x19754f['b']!==-0x2681*0x1+-0x259f+0x6*0xcb0;class ZC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x2b8de7,_0x5ab693,_0x3a8a9b,_0x2307fd,_0x3d4c42,_0x534804){this['_updateSha'+'redOptions'](_0x2b8de7,_0x5ab693,_0x3a8a9b,_0x2307fd,_0x3d4c42),this['_updateMin'+'Options'](_0x2b8de7,_0x3a8a9b,_0x3d4c42),this['_updateUVO'+'ptions'](_0x2b8de7,_0x3a8a9b,_0x2307fd,!(-0xaec+0x1263+0x27*-0x31));}['updateRef'](_0x18c518,_0x4aa269,_0x3a6231,_0x118809,_0x53448c,_0x63d2f3,_0xef2258){this['_updateSha'+'redOptions'](_0x18c518,_0x4aa269,_0x118809,_0x53448c,_0x63d2f3),this['_updateEnv'+'Options'](_0x18c518,_0x118809,_0x4aa269,_0x3a6231),this['_updateMat'+'erialOptio'+'ns'](_0x18c518,_0x118809),_0x18c518['litOptions']['hasTangent'+'s']=_0x53448c&&(_0x53448c&Mp)!==-0x2b7+0x1ca6+0x3*-0x8a5,this['_updateLig'+'htOptions'](_0x18c518,_0x4aa269,_0x118809,_0x53448c,_0xef2258),this['_updateUVO'+'ptions'](_0x18c518,_0x118809,_0x53448c,!(0x189*-0x4+0x9*-0x56+0x92b),_0x3a6231);}['_updateSha'+'redOptions'](_0x46e03b,_0x115d88,_0x2d5d29,_0x58853a,_0x183ff7){_0x46e03b['forceUv1']=_0x2d5d29['forceUv1'],_0x2d5d29['userAttrib'+'utes']&&(_0x46e03b['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x2d5d29['userAttrib'+'utes']['entries']())),_0x46e03b['litOptions']['chunks']=_0x2d5d29['chunks']||{},_0x46e03b['litOptions']['pass']=_0x183ff7,_0x46e03b['litOptions']['alphaTest']=_0x2d5d29['alphaTest']>-0xec9+0x17*-0x164+-0x27*-0x133,_0x46e03b['litOptions']['blendType']=_0x2d5d29['blendType'],_0x46e03b['litOptions']['screenSpac'+'e']=_0x58853a&&(_0x58853a&Cp)!==-0x179f+0x1aa8+-0x25*0x15,_0x46e03b['litOptions']['skin']=_0x58853a&&(_0x58853a&$c)!==0xc0d*-0x3+-0x26fb*0x1+0x4b22*0x1,_0x46e03b['litOptions']['batch']=_0x58853a&&(_0x58853a&Ou)!==-0x893*0x3+-0x1271*-0x1+0x3a4*0x2,_0x46e03b['litOptions']['useInstanc'+'ing']=_0x58853a&&(_0x58853a&Wc)!==0xa*0x119+0x1*-0x13e6+0x8ec,_0x46e03b['litOptions']['useMorphPo'+'sition']=_0x58853a&&(_0x58853a&qc)!==-0x1*0x18d5+0x2*-0xf7a+-0x1*-0x37c9,_0x46e03b['litOptions']['useMorphNo'+'rmal']=_0x58853a&&(_0x58853a&Xc)!==0x1*0xfb4+0x73*0x25+0x1*-0x2053,_0x46e03b['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x58853a&&(_0x58853a&jc)!==-0x5*0x75+0x1*-0x211f+-0xb*-0x338,_0x46e03b['litOptions']['nineSliced'+'Mode']=_0x2d5d29['nineSliced'+'Mode']||-0x7*0x2d9+-0x1*0x1dfa+0x31e9,_0x115d88['clusteredL'+'ightingEna'+'bled']&&_0x2d5d29['useLightin'+'g']?(_0x46e03b['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x77*0x3f+-0x101f*0x1+-0x4*-0xb5a),_0x46e03b['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x115d88['lighting']['cookiesEna'+'bled'],_0x46e03b['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x115d88['lighting']['shadowsEna'+'bled'],_0x46e03b['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x115d88['lighting']['shadowType'],_0x46e03b['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x115d88['lighting']['areaLights'+'Enabled']):(_0x46e03b['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x10ac+0x421*-0x9+-0x56*-0x3d),_0x46e03b['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x2105+-0x1931*-0x1+0x7d5),_0x46e03b['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x1c*-0xdd+0x800+-0x131*0x1b),_0x46e03b['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x9e5+-0x15a*-0x11+-0xe*0x259));}['_updateUVO'+'ptions'](_0x2514dd,_0x318578,_0x1867b9,_0x319da4,_0xab10a2){let _0x42508c=!(0x44c+-0x1b55*-0x1+-0x1fa0),_0x237b01=!(-0x2e7*-0x2+-0x1718+0x114b),_0x24fa93=!(-0x1025*0x2+0x2420*0x1+-0x3d5);_0x1867b9&&(_0x42508c=(_0x1867b9&m0)!==-0x1f29*0x1+0x7*0x314+0x1*0x99d,_0x237b01=(_0x1867b9&_0)!==0x2710+-0x1f5d+-0x7b3,_0x24fa93=(_0x1867b9&g0)!==0x1eb6+0x166d+-0x3523),_0x2514dd['litOptions']['vertexColo'+'rs']=!(0xe7e+-0x1*-0x1f57+-0x2dd4),this['_mapXForms']=[];const _0x15dd3e={};for(const _0x1b4544 in fa)this['_updateTex'+'Options'](_0x2514dd,_0x318578,_0x1b4544,_0x42508c,_0x237b01,_0x24fa93,_0x319da4,_0x15dd3e);this['_mapXForms']=null,_0x2514dd['litOptions']['ssao']=_0xab10a2==null?void(0x15d*0x8+0xd61+-0x1849):_0xab10a2['ssaoEnable'+'d'],_0x2514dd['useAO']=_0x2514dd['litOptions']['ssao'],_0x2514dd['litOptions']['lightMapEn'+'abled']=_0x2514dd['lightMap'],_0x2514dd['litOptions']['dirLightMa'+'pEnabled']=_0x2514dd['dirLightMa'+'p'],_0x2514dd['litOptions']['useHeights']=_0x2514dd['heightMap'],_0x2514dd['litOptions']['useNormals']=_0x2514dd['normalMap'],_0x2514dd['litOptions']['useClearCo'+'atNormals']=_0x2514dd['clearCoatN'+'ormalMap'],_0x2514dd['litOptions']['useAo']=_0x2514dd['aoMap']||_0x2514dd['aoVertexCo'+'lor']||_0x2514dd['litOptions']['ssao'],_0x2514dd['litOptions']['diffuseMap'+'Enabled']=_0x2514dd['diffuseMap'];}['_updateTex'+'Options'](_0x34c238,_0x2ba3f1,_0x4490bb,_0x4e1f52,_0x3277da,_0x1b8051,_0x174f01,_0x4ab0da){const _0xef6acb=_0x4490bb==='opacity';if(!_0x174f01||_0xef6acb){const _0x2f805c=_0x4490bb+'Map',_0x6429df=_0x4490bb+('VertexColo'+'r'),_0x2db2a0=_0x4490bb+('VertexColo'+'rChannel'),_0x85fe4a=_0x2f805c+'Channel',_0x7c0949=_0x2f805c+'Transform',_0x5917ad=_0x2f805c+'Uv',_0x2c6ded=_0x2f805c+'Identifier';if(_0x4490bb!=='light'&&(_0x34c238[_0x2f805c]=!(-0x106a+0x1a75+-0xa0a),_0x34c238[_0x2c6ded]=void(-0x918+0x1*-0x104b+0x1963),_0x34c238[_0x85fe4a]='',_0x34c238[_0x7c0949]=0x2485+0x3*-0x167+-0x16*0x178,_0x34c238[_0x5917ad]=-0x668+-0x1*-0xdd3+0x3*-0x279),_0x34c238[_0x6429df]=!(0x2560+-0x39*0x8f+-0x588),_0x34c238[_0x2db2a0]='',_0xef6acb&&_0x2ba3f1['blendType']===is&&_0x2ba3f1['alphaTest']===-0x2*0x693+-0x3aa*-0x2+0x1*0x5d2&&!_0x2ba3f1['alphaToCov'+'erage']&&_0x2ba3f1['opacityDit'+'her']===Rs)return;if(_0x4490bb!=='height'&&_0x2ba3f1[_0x6429df]&&_0x1b8051&&(_0x34c238[_0x6429df]=_0x2ba3f1[_0x6429df],_0x34c238[_0x2db2a0]=_0x2ba3f1[_0x2db2a0],_0x34c238['litOptions']['vertexColo'+'rs']=!(-0x1856+0x1945+-0xef)),_0x2ba3f1[_0x2f805c]){let _0x4f91b4=!(-0x4*0x150+0xc5*-0x7+0x1*0xaa3);if(_0x2ba3f1[_0x5917ad]===0x19ba+-0xa*0x30f+0x4*0x137&&!_0x4e1f52&&(_0x4f91b4=!(0x87b+0x865+-0x269*0x7)),_0x2ba3f1[_0x5917ad]===-0x14a4*0x1+0x241c+-0x25*0x6b&&!_0x3277da&&(_0x4f91b4=!(0x2*0x527+0x1*0x49+-0xa96)),_0x4f91b4){const _0x3afb6b=_0x2ba3f1[_0x2f805c]['id'];let _0x37538f=_0x4ab0da[_0x3afb6b];_0x37538f===void(0x819+0x2372+0x2b8b*-0x1)&&(_0x4ab0da[_0x3afb6b]=_0x4490bb,_0x37538f=_0x4490bb),_0x34c238[_0x2f805c]=!!_0x2ba3f1[_0x2f805c],_0x34c238[_0x2c6ded]=_0x37538f,_0x34c238[_0x7c0949]=this['_getMapTra'+'nsformID'](_0x2ba3f1['getUniform'](_0x7c0949),_0x2ba3f1[_0x5917ad]),_0x34c238[_0x85fe4a]=_0x2ba3f1[_0x85fe4a],_0x34c238[_0x5917ad]=_0x2ba3f1[_0x5917ad];}}}}['_updateMin'+'Options'](_0x24638f,_0x2598b4,_0x5520b6){const _0x2fb9af=_0x5520b6===il;_0x24638f['litOptions']['opacitySha'+'dowDither']=_0x2fb9af?_0x2598b4['opacityDit'+'her']:_0x2598b4['opacitySha'+'dowDither'],_0x24638f['litOptions']['linearDept'+'h']=_0x2fb9af,_0x24638f['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x2a752a,_0x5c4dba){var _0x56e95c,_0x3381ae,_0x210400,_0x41b29d;const _0x5901dd=!!(_0x5c4dba['useMetalne'+'ss']||_0x5c4dba['specularMa'+'p']||_0x5c4dba['sphereMap']||_0x5c4dba['cubeMap']||KC(_0x5c4dba['specular'])||_0x5c4dba['specularit'+'yFactor']>0x23d*-0x3+-0x19*-0xba+-0x3d1*0x3&&_0x5c4dba['useMetalne'+'ss']||_0x5c4dba['enableGGXS'+'pecular']||_0x5c4dba['clearCoat']>0x5*0x4e1+0x199*0xb+-0x29f8),_0x99b0b8=!_0x5c4dba['useMetalne'+'ss']||_0x5c4dba['useMetalne'+'ssSpecular'+'Color'],_0x23e61b=_0x5901dd&&(_0x5c4dba['specularTi'+'nt']||!_0x5c4dba['specularMa'+'p']&&!_0x5c4dba['specularVe'+'rtexColor'])&&YC(_0x5c4dba['specular']),_0x2d96fe=_0x5901dd&&_0x5c4dba['useMetalne'+'ssSpecular'+'Color']&&(_0x5c4dba['specularit'+'yFactorTin'+'t']||_0x5c4dba['specularit'+'yFactor']<-0x7*-0x1a9+0xc61*0x2+0x18*-0x184&&!_0x5c4dba['specularit'+'yFactorMap']),_0x4cb74f=_0x5c4dba['normalMap']?_0x5c4dba['normalMap']['format']===Wo||_0x5c4dba['normalMap']['type']===op:!(0x878*-0x4+0x2542+-0x361),_0x35b7bd=(_0x58ef6b,_0x11a3f9)=>Math['abs'](_0x58ef6b-_0x11a3f9)<0xb41+0x5a*-0x2e+0x4eb+0.0001;_0x2a752a['specularTi'+'nt']=_0x23e61b?0x4e1*0x3+-0x9*-0x101+-0x17aa:0x683*0x4+-0xe91+-0x1*0xb7b,_0x2a752a['specularit'+'yFactorTin'+'t']=_0x2d96fe?-0x1782+-0xbee+0x2371:0x27*0x16+-0x2*-0xd18+-0x1d8a,_0x2a752a['metalnessT'+'int']=_0x5c4dba['useMetalne'+'ss']&&_0x5c4dba['metalness']<0x8*-0x162+-0x4f*-0x11+-0x5d2*-0x1?-0x587*-0x4+-0x2405+0xdea:0x2a*-0x2b+-0x7*-0x269+0x9d1*-0x1,_0x2a752a['glossTint']=-0x21cd+-0x641*-0x5+0x289,_0x2a752a['diffuseEnc'+'oding']=(_0x56e95c=_0x5c4dba['diffuseMap'])==null?void(-0x8*-0x77+0x305*-0x9+0x1775):_0x56e95c['encoding'],_0x2a752a['diffuseDet'+'ailEncodin'+'g']=(_0x3381ae=_0x5c4dba['diffuseDet'+'ailMap'])==null?void(0xb27+-0x206*0xd+0xf27):_0x3381ae['encoding'],_0x2a752a['emissiveEn'+'coding']=(_0x210400=_0x5c4dba['emissiveMa'+'p'])==null?void(-0x1*-0x2aa+-0x757*-0x4+-0x2006):_0x210400['encoding'],_0x2a752a['lightMapEn'+'coding']=(_0x41b29d=_0x5c4dba['lightMap'])==null?void(-0x4ea+-0xdfd*-0x1+-0x65*0x17):_0x41b29d['encoding'],_0x2a752a['packedNorm'+'al']=_0x4cb74f,_0x2a752a['refraction'+'Tint']=_0x35b7bd(_0x5c4dba['refraction'],0xd0f+0x1359+-0x5*0x67b)?0xe3f+-0x17e0+0x9a1:-0xe2*0x28+-0xa4*-0x37+0x15,_0x2a752a['refraction'+'IndexTint']=_0x35b7bd(_0x5c4dba['refraction'+'Index'],(-0x147f+-0xb*-0x23b+0x409*-0x1)/(0x62c+0xcaa+-0x12d5+0.5))?-0x1543+-0x6b3+0x1bf6:-0x1101+0xad9+0x53*0x13,_0x2a752a['thicknessT'+'int']=_0x5c4dba['useDynamic'+'Refraction']&&_0x5c4dba['thickness']!==-0x1055*0x2+0x2384*-0x1+0x442f?0x673*-0x2+0x1*-0x956+0x1*0x163d:-0xca4+0x5b4*-0x1+-0x1*-0x1258,_0x2a752a['specularEn'+'coding']=_0x5c4dba['specularEn'+'coding']||'linear',_0x2a752a['sheenEncod'+'ing']=_0x5c4dba['sheenEncod'+'ing']||'linear',_0x2a752a['aoMapUv']=_0x5c4dba['aoUvSet'],_0x2a752a['aoDetail']=!!_0x5c4dba['aoMap'],_0x2a752a['diffuseDet'+'ail']=!!_0x5c4dba['diffuseMap'],_0x2a752a['normalDeta'+'il']=!!_0x5c4dba['normalMap'],_0x2a752a['diffuseDet'+'ailMode']=_0x5c4dba['diffuseDet'+'ailMode'],_0x2a752a['aoDetailMo'+'de']=_0x5c4dba['aoDetailMo'+'de'],_0x2a752a['clearCoatT'+'int']=_0x35b7bd(_0x5c4dba['clearCoat'],0x1ba9+-0x1112+-0xa96)?-0x265c+-0x2*-0x109+0x3a1*0xa:0x1eca+-0x19eb+-0xb2*0x7,_0x2a752a['clearCoatG'+'loss']=!!_0x5c4dba['clearCoatG'+'loss'],_0x2a752a['clearCoatG'+'lossTint']=_0x5c4dba['clearCoatG'+'loss']!==0x1e2a+-0x16d*-0x3+-0x2270?-0x1789+0x12a9+0x4e1:0x3cb*-0x1+-0x3*0x6fa+0x18b9,_0x2a752a['iorTint']=_0x35b7bd(_0x5c4dba['refraction'+'Index'],(0x77b*-0x3+0x2ce*0x9+0x2cc*-0x1)/(0x1d0f+-0x22ad+0x59f+0.5))?-0xced+0xf22+-0x235:-0x621*0x3+0x4*0xd+-0x184*-0xc,_0x2a752a['iridescenc'+'eTint']=_0x5c4dba['iridescenc'+'e']!==-0x4*0x899+0xff5*0x2+0x27b?0x215a+-0x228c+-0x1*-0x133:-0x2d*0x13+0xc4*-0x1a+-0x1*-0x173f,_0x2a752a['glossInver'+'t']=_0x5c4dba['glossInver'+'t'],_0x2a752a['sheenGloss'+'Invert']=_0x5c4dba['sheenGloss'+'Invert'],_0x2a752a['clearCoatG'+'lossInvert']=_0x5c4dba['clearCoatG'+'lossInvert'],_0x2a752a['useSpecula'+'rColor']=_0x99b0b8,_0x2a752a['litOptions']['separateAm'+'bient']=!(-0x1d20+0x1836+0x4eb),_0x2a752a['litOptions']['customFrag'+'mentShader']=_0x5c4dba['customFrag'+'mentShader'],_0x2a752a['litOptions']['pixelSnap']=_0x5c4dba['pixelSnap'],_0x2a752a['litOptions']['ambientSH']=!!_0x5c4dba['ambientSH'],_0x2a752a['litOptions']['twoSidedLi'+'ghting']=_0x5c4dba['twoSidedLi'+'ghting'],_0x2a752a['litOptions']['occludeSpe'+'cular']=_0x5c4dba['occludeSpe'+'cular'],_0x2a752a['litOptions']['occludeSpe'+'cularFloat']=_0x5c4dba['occludeSpe'+'cularInten'+'sity']!==0x1*0x1ed9+-0x1dad+-0x12b,_0x2a752a['litOptions']['useMsdf']=!!_0x5c4dba['msdfMap'],_0x2a752a['litOptions']['msdfTextAt'+'tribute']=!!_0x5c4dba['msdfTextAt'+'tribute'],_0x2a752a['litOptions']['alphaToCov'+'erage']=_0x5c4dba['alphaToCov'+'erage'],_0x2a752a['litOptions']['opacityFad'+'esSpecular']=_0x5c4dba['opacityFad'+'esSpecular'],_0x2a752a['litOptions']['opacityDit'+'her']=_0x5c4dba['opacityDit'+'her'],_0x2a752a['litOptions']['cubeMapPro'+'jection']=_0x5c4dba['cubeMapPro'+'jection'],_0x2a752a['litOptions']['occludeDir'+'ect']=_0x5c4dba['occludeDir'+'ect'],_0x2a752a['litOptions']['useSpecula'+'r']=_0x5901dd,_0x2a752a['litOptions']['useSpecula'+'rityFactor']=(_0x2d96fe||!!_0x5c4dba['specularit'+'yFactorMap'])&&_0x5c4dba['useMetalne'+'ssSpecular'+'Color'],_0x2a752a['litOptions']['enableGGXS'+'pecular']=_0x5c4dba['enableGGXS'+'pecular'],_0x2a752a['litOptions']['fresnelMod'+'el']=_0x5c4dba['fresnelMod'+'el'],_0x2a752a['litOptions']['useRefract'+'ion']=(_0x5c4dba['refraction']||!!_0x5c4dba['refraction'+'Map'])&&(_0x5c4dba['useDynamic'+'Refraction']||!!_0x2a752a['litOptions']['reflection'+'Source']),_0x2a752a['litOptions']['useClearCo'+'at']=!!_0x5c4dba['clearCoat'],_0x2a752a['litOptions']['useSheen']=_0x5c4dba['useSheen'],_0x2a752a['litOptions']['useIridesc'+'ence']=_0x5c4dba['useIridesc'+'ence']&&_0x5c4dba['iridescenc'+'e']!==-0x1a11+-0x8b1+0x6*0x5cb,_0x2a752a['litOptions']['useMetalne'+'ss']=_0x5c4dba['useMetalne'+'ss'],_0x2a752a['litOptions']['useDynamic'+'Refraction']=_0x5c4dba['useDynamic'+'Refraction'],_0x2a752a['litOptions']['dispersion']=_0x5c4dba['dispersion']>0x54b*-0x1+-0x22c*-0x9+-0xe41;}['_updateEnv'+'Options'](_0xf2a819,_0x47991c,_0x3850d8,_0x8125e1){_0xf2a819['litOptions']['fog']=_0x47991c['useFog']?_0x8125e1['fog']:Fa,_0xf2a819['litOptions']['gamma']=_0x8125e1['shaderOutp'+'utGamma'],_0xf2a819['litOptions']['toneMap']=_0x47991c['useTonemap']?_0x8125e1['toneMappin'+'g']:f0;let _0x65f8ad=!(0x21+-0x5*0x2ba+0xd82);if(_0x47991c['envAtlas']&&_0x47991c['cubeMap']?(_0xf2a819['litOptions']['reflection'+'Source']='envAtlasHQ',_0xf2a819['litOptions']['reflection'+'Encoding']=_0x47991c['envAtlas']['encoding'],_0xf2a819['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x47991c['cubeMap']['encoding']):_0x47991c['envAtlas']?(_0xf2a819['litOptions']['reflection'+'Source']='envAtlas',_0xf2a819['litOptions']['reflection'+'Encoding']=_0x47991c['envAtlas']['encoding']):_0x47991c['cubeMap']?(_0xf2a819['litOptions']['reflection'+'Source']='cubeMap',_0xf2a819['litOptions']['reflection'+'Encoding']=_0x47991c['cubeMap']['encoding']):_0x47991c['sphereMap']?(_0xf2a819['litOptions']['reflection'+'Source']='sphereMap',_0xf2a819['litOptions']['reflection'+'Encoding']=_0x47991c['sphereMap']['encoding']):_0x47991c['useSkybox']&&_0x3850d8['envAtlas']&&_0x3850d8['skybox']?(_0xf2a819['litOptions']['reflection'+'Source']='envAtlasHQ',_0xf2a819['litOptions']['reflection'+'Encoding']=_0x3850d8['envAtlas']['encoding'],_0xf2a819['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x3850d8['skybox']['encoding'],_0x65f8ad=!(-0x86*0x43+0x1eb*0x1+-0x45*-0x7b)):_0x47991c['useSkybox']&&_0x3850d8['envAtlas']?(_0xf2a819['litOptions']['reflection'+'Source']='envAtlas',_0xf2a819['litOptions']['reflection'+'Encoding']=_0x3850d8['envAtlas']['encoding'],_0x65f8ad=!(0x91e+-0x18b6+0x3e6*0x4)):_0x47991c['useSkybox']&&_0x3850d8['skybox']?(_0xf2a819['litOptions']['reflection'+'Source']='cubeMap',_0xf2a819['litOptions']['reflection'+'Encoding']=_0x3850d8['skybox']['encoding'],_0x65f8ad=!(-0x266*0x5+0x5*-0x1cd+0x14ff)):(_0xf2a819['litOptions']['reflection'+'Source']=null,_0xf2a819['litOptions']['reflection'+'Encoding']=null),_0x47991c['ambientSH'])_0xf2a819['litOptions']['ambientSou'+'rce']='ambientSH',_0xf2a819['litOptions']['ambientEnc'+'oding']=null;else{const _0x5904cb=_0x47991c['envAtlas']||(_0x47991c['useSkybox']&&_0x3850d8['envAtlas']?_0x3850d8['envAtlas']:null);_0x5904cb&&!_0x47991c['sphereMap']?(_0xf2a819['litOptions']['ambientSou'+'rce']='envAtlas',_0xf2a819['litOptions']['ambientEnc'+'oding']=_0x5904cb['encoding']):(_0xf2a819['litOptions']['ambientSou'+'rce']='constant',_0xf2a819['litOptions']['ambientEnc'+'oding']=null);}_0xf2a819['litOptions']['skyboxInte'+'nsity']=_0x65f8ad,_0xf2a819['litOptions']['useCubeMap'+'Rotation']=_0x65f8ad&&_0x3850d8['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x16dc96,_0x1d44ba,_0x4abdf2,_0x117120,_0x2175f9){if(_0x16dc96['lightMap']=!(0x17*0x161+0x1d6*-0x6+0x14b2*-0x1),_0x16dc96['lightMapCh'+'annel']='',_0x16dc96['lightMapUv']=-0x41*0x83+-0x62*-0x7+0x1e95*0x1,_0x16dc96['lightMapTr'+'ansform']=-0x1cab+0x8ae*0x1+0x13fd,_0x16dc96['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x168*0x18+-0x37c*0x9+-0x263),_0x16dc96['dirLightMa'+'p']=!(-0x4f6+-0x2260+0x2757),_0x117120&&(_0x16dc96['litOptions']['noShadow']=(_0x117120&Ep)!==0x255e+-0x25d1+0x5*0x17,(_0x117120&Fu)!==-0x4b*0x84+0xb3*-0x3+0x28c5&&(_0x16dc96['lightMapEn'+'coding']=_0x1d44ba['lightmapPi'+'xelFormat']===Se?'rgbm':'linear',_0x16dc96['lightMap']=!(0x825+0xec3+0x16e8*-0x1),_0x16dc96['lightMapCh'+'annel']='rgb',_0x16dc96['lightMapUv']=-0x19fb*0x1+0x914+0x43a*0x4,_0x16dc96['lightMapTr'+'ansform']=0x1*-0x100f+-0x331+-0x10*-0x134,_0x16dc96['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x4abdf2['lightMap'],(_0x117120&y0)!==0x2fe*0x8+-0x17fe+0xe&&(_0x16dc96['dirLightMa'+'p']=!(0x5*-0x21+-0x1685+0x2*0xb95)),(_0x117120&x0)!==0x3e*0x9c+-0xcc1+-0x1907&&(_0x16dc96['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x2c*0xcb+0x159e+-0x3*-0x46d)))),_0x4abdf2['useLightin'+'g']){const _0x279525=[],_0x103230=_0x117120?_0x117120>>0x12b2+0xe0*0x1f+-0x2dc2:hs;_0x16dc96['litOptions']['lightMaskD'+'ynamic']=!!(_0x103230&hs),_0x2175f9&&(As['collectLig'+'hts'](oe,_0x2175f9[oe],_0x279525,_0x103230),As['collectLig'+'hts'](Pe,_0x2175f9[Pe],_0x279525,_0x103230),As['collectLig'+'hts'](Re,_0x2175f9[Re],_0x279525,_0x103230)),_0x16dc96['litOptions']['lights']=_0x279525;}else _0x16dc96['litOptions']['lights']=[];_0x16dc96['litOptions']['lights']['length']===0x2012+0x104d+0xcb*-0x3d&&(_0x16dc96['litOptions']['noShadow']=!(-0x49*0x1c+-0x92e+0x112a));}['_getMapTra'+'nsformID'](_0x1d93d8,_0x2fa1e5){if(!_0x1d93d8)return-0x2453+0x32*0xb2+0x18f;let _0x5eca20=this['_mapXForms'][_0x2fa1e5];_0x5eca20||(_0x5eca20=[],this['_mapXForms'][_0x2fa1e5]=_0x5eca20);for(let _0x4155dc=0x1c98+0x193b+-0x3*0x11f1;_0x4155dc<_0x5eca20['length'];_0x4155dc++)if(c_(_0x5eca20[_0x4155dc][0x4*-0x92c+0x209+0x22a7]['value'],_0x1d93d8[0x5be+0x1f+-0x5dd]['value'])&&c_(_0x5eca20[_0x4155dc][-0x22f3+0x1*0x7cc+0x1b28]['value'],_0x1d93d8[0x1*0x959+0xa0*0x26+-0x2118]['value']))return _0x4155dc+(0x18e+0x1783+-0x1910);return _0x5eca20['push'](_0x1d93d8);}}function qe(_0x580233,_0x13040b=!(0x1d*-0x4+-0x9cf+0xa43),_0x46a7b8=!(0x1e23+0x1d4c+-0x3b6f)){const _0x3e38f4={};return _0x3e38f4[_0x580233+'Map']='texture',_0x3e38f4[_0x580233+'MapTiling']='vec2',_0x3e38f4[_0x580233+'MapOffset']='vec2',_0x3e38f4[_0x580233+('MapRotatio'+'n')]='number',_0x3e38f4[_0x580233+'MapUv']='number',_0x13040b&&(_0x3e38f4[_0x580233+'MapChannel']='string',_0x46a7b8&&(_0x3e38f4[_0x580233+('VertexColo'+'r')]='boolean',_0x3e38f4[_0x580233+('VertexColo'+'rChannel')]='string')),_0x3e38f4;}const Pa={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...qe('ao'),...qe('aoDetail',!(0x93f+-0x1e5c+0x151d),!(-0x5*-0xf6+-0x5cb*-0x3+0x162e*-0x1)),'aoDetailMode':'string','diffuse':'rgb',...qe('diffuse'),...qe('diffuseDet'+'ail',!(-0xcaf*0x2+0x5*0x72a+-0x6*0x1be),!(0x20ed+0x73d+-0x2829)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...qe('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...qe('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...qe('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...qe('gloss'),'clearCoat':'number',...qe('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...qe('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...qe('clearCoatN'+'ormal',!(-0x20e7+0x203*-0xd+0x3b0f)),'useSheen':'boolean','sheen':'rgb',...qe('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...qe('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...qe('emissive'),'emissiveIntensity':'number',...qe('normal',!(0x239*-0xd+0xe*0xa3+0x13fc)),'bumpiness':'number',...qe('normalDeta'+'il',!(0x2db+0x74f*-0x1+-0xa3*-0x7)),'normalDetailMapBumpiness':'number',...qe('height',!(-0x184c+-0x1*-0x2674+-0x6*0x25c),!(-0x1770+-0x1d83+0x34f4)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...qe('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...qe('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...qe('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...qe('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...qe('iridescenc'+'eThickness'),...qe('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},Kc=[];for(const l in Pa)Pa[l]==='texture'&&Kc['push'](l);const Fp=[];for(const l in Pa)Pa[l]==='cubemap'&&Fp['push'](l);const QC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},uh={},P0={};let Wa=new Set();const Dl=new Y();class cs extends yn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new ZC(),this['reset']());}['reset'](){Object['keys'](uh)['forEach'](_0x45af52=>{this['_'+_0x45af52]=uh[_0x45af52]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x374036){return super['copy'](_0x374036),Object['keys'](uh)['forEach'](_0x50d879=>{this[_0x50d879]=_0x374036[_0x50d879];}),this['userAttrib'+'utes']=new Map(_0x374036['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0xfb51a7,_0x5d8209){this['userAttrib'+'utes']['set'](_0x5d8209,_0xfb51a7);}['_setParame'+'ter'](_0x4a008a,_0x517fbe){Wa['add'](_0x4a008a),this['setParamet'+'er'](_0x4a008a,_0x517fbe);}['_setParame'+'ters'](_0xa8abfb){_0xa8abfb['forEach'](_0x1bef25=>{this['_setParame'+'ter'](_0x1bef25['name'],_0x1bef25['value']);});}['_processPa'+'rameters'](_0x49a616){const _0x416f5c=this[_0x49a616];_0x416f5c['forEach'](_0xd4e5e6=>{Wa['has'](_0xd4e5e6)||delete this['parameters'][_0xd4e5e6];}),this[_0x49a616]=Wa,Wa=_0x416f5c,Wa['clear']();}['_updateMap'](_0x35451e){const _0x350d2e=_0x35451e+'Map',_0x4ea230=this[_0x350d2e];if(_0x4ea230){this['_setParame'+'ter']('texture_'+_0x350d2e,_0x4ea230);const _0x45ae77=_0x350d2e+'Transform',_0x6acc2a=this['getUniform'](_0x45ae77);_0x6acc2a&&this['_setParame'+'ters'](_0x6acc2a);}}['_allocUnif'+'orm'](_0x2eef6f,_0x265cc6){let _0x3950f9=this['_uniformCa'+'che'][_0x2eef6f];return _0x3950f9||(_0x3950f9=_0x265cc6(),this['_uniformCa'+'che'][_0x2eef6f]=_0x3950f9),_0x3950f9;}['getUniform'](_0x38ffb5,_0x242c4b,_0x521453){return P0[_0x38ffb5](this,_0x242c4b,_0x521453);}['updateUnif'+'orms'](_0x2303a6,_0x18113d){const _0x3002df=_0x3f194c=>this['getUniform'](_0x3f194c,_0x2303a6,_0x18113d);this['_setParame'+'ter']('material_a'+'mbient',_0x3002df('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x3002df('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<-0x1*-0xea4+-0x1f4a+0x10a7)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x3002df('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x3002df('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x3002df('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>-0x1*-0x2553+-0x1*0xfbe+-0x1595&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),v['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0xd32+0x1c*-0x56+0x169a&&this['emissive']['g']===-0x170f*-0x1+0xa53+-0x2162&&this['emissive']['b']===0x1511+-0x1cc3+0x18a*0x5&&v['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x3002df('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x1404+0x1*-0x1645+0x2a49&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x37*-0xa7+0x1eb1+0x2*-0x2149&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x3002df('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0x244+0x1*-0x1fb3+0x2f*0xb9?0x65*0x1f+0x791*-0x3+0x5*0x218:(-0x1*0xee5+-0xdc7+-0x98f*-0x3)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x19f8+-0x1*0x5a7+0xc8*-0x1a)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x3002df('cubeMapPro'+'jectionBox'));for(const _0x4a9be0 in fa)this['_updateMap'](_0x4a9be0);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x3002df('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x2303a6,_0x18113d);}['updateEnvU'+'niforms'](_0x3e4110,_0x38fe7a){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x38fe7a['envAtlas']&&_0x38fe7a['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x38fe7a['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x38fe7a['skybox'])):_0x38fe7a['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x38fe7a['envAtlas']):_0x38fe7a['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x38fe7a['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0xfe784a){const {device:_0x1e420f,scene:_0x5d6499,pass:_0xdd0d6d,objDefs:_0x1f5f53,sortedLights:_0x3543bc,cameraShaderParams:_0xe4e7d3}=_0xfe784a;this['updateEnvU'+'niforms'](_0x1e420f,_0x5d6499);const _0x13d3b2=Ks['get'](_0x1e420f)['getByIndex'](_0xdd0d6d),_0xcde0ac=_0xdd0d6d===rl||_0xdd0d6d===Oa||_0xdd0d6d===il||_0x13d3b2['isShadow'];let _0x54419f=_0xcde0ac?Ed['optionsCon'+'textMin']:Ed['optionsCon'+'text'];_0x54419f['defines']=Dp(this,_0xfe784a),_0xcde0ac?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x54419f,_0x5d6499,this,_0x1f5f53,_0xdd0d6d,_0x3543bc):this['shaderOptB'+'uilder']['updateRef'](_0x54419f,_0x5d6499,_0xe4e7d3,this,_0x1f5f53,_0xdd0d6d,_0x3543bc),_0x54419f['defines']['set']('TONEMAP',p0[_0x54419f['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x54419f=this['onUpdateSh'+'ader'](_0x54419f));const _0x11b0a8=new Yc(_0xfe784a['viewUnifor'+'mFormat'],_0xfe784a['viewBindGr'+'oupFormat'],_0xfe784a['vertexForm'+'at']),_0x2f1f8f=ka(_0x1e420f);_0x2f1f8f['register']('standard',Ed);const _0x45e738=_0x2f1f8f['getProgram']('standard',_0x54419f,_0x11b0a8,this['userId']);return this['_dirtyShad'+'er']=!(-0x1*-0xfc5+0x13f3+-0x23b7),_0x45e738;}['destroy'](){for(const _0x1e445b in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x1e445b]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(cs,'TEXTURE_PA'+'RAMETERS',Kc),c(cs,'CUBEMAP_PA'+'RAMETERS',Fp);const Zc=(_0x29c729,_0x1df753)=>{P0[_0x29c729]=_0x1df753;},Op=(_0x436342,_0xcf9f95,_0x35ccd7,_0x5398ba)=>{Object['defineProp'+'erty'](cs['prototype'],_0x436342,{'get':_0x5398ba||function(){return this['_'+_0x436342];},'set':_0x35ccd7}),uh[_0x436342]={'value':_0xcf9f95};},JC=_0x58de40=>{const _0x27eced='_'+_0x58de40['name'],_0xb724e2=_0x58de40['dirtyShade'+'rFunc']||(()=>!(0x2*-0x52+0xd*-0x28a+-0x2*-0x10d3)),_0xf988f1=function(_0x83261e){const _0x42893b=this[_0x27eced];_0x42893b!==_0x83261e&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0xb724e2(_0x42893b,_0x83261e),this[_0x27eced]=_0x83261e);};Op(_0x58de40['name'],()=>_0x58de40['defaultVal'+'ue'],_0xf988f1,_0x58de40['getterFunc']);},eM=_0x5ba9e8=>{const _0x256434='_'+_0x5ba9e8['name'],_0xbe0a50=_0x5ba9e8['dirtyShade'+'rFunc']||(()=>!(-0x7f*0x2d+-0x84c+0x1e9f)),_0x1df930=function(_0x5e3d75){const _0x45f175=this[_0x256434];_0x45f175['equals'](_0x5e3d75)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0xbe0a50(_0x45f175,_0x5e3d75),this[_0x256434]=_0x45f175['copy'](_0x5e3d75));};Op(_0x5ba9e8['name'],()=>_0x5ba9e8['defaultVal'+'ue']['clone'](),_0x1df930,_0x5ba9e8['getterFunc']);},ts=_0x1ff6bc=>_0x1ff6bc['defaultVal'+'ue']&&_0x1ff6bc['defaultVal'+'ue']['clone']?eM(_0x1ff6bc):JC(_0x1ff6bc);function Ge(_0x561164,_0x4683c2='rgb',_0x3a434e=!(-0x4cf+0x7*-0x393+-0x14c*-0x17),_0x407fd6=-0x115*-0x1f+-0x2253*-0x1+-0x1*0x43de){fa[_0x561164]=_0x4683c2['length']||-(-0x1b95*0x1+0x13*-0x1c5+0x3d35),ts({'name':_0x561164+'Map','defaultValue':null,'dirtyShaderFunc':(_0x4a8338,_0x1ebb9a)=>!!_0x4a8338!=!!_0x1ebb9a||_0x4a8338&&(_0x4a8338['type']!==_0x1ebb9a['type']||_0x4a8338['format']!==_0x1ebb9a['format'])}),ts({'name':_0x561164+'MapTiling','defaultValue':new $(-0x2*-0x17e+0x1*0x24d9+0x13ea*-0x2,-0x2370+-0x21c5+0x4536)}),ts({'name':_0x561164+'MapOffset','defaultValue':new $(-0x1f15+-0x7*-0x27b+-0x1*-0xdb8,-0x1f15+-0x1*-0xed7+0x2*0x81f)}),ts({'name':_0x561164+('MapRotatio'+'n'),'defaultValue':0x0}),ts({'name':_0x561164+'MapUv','defaultValue':_0x407fd6}),_0x4683c2&&(ts({'name':_0x561164+'MapChannel','defaultValue':_0x4683c2}),_0x3a434e&&(ts({'name':_0x561164+('VertexColo'+'r'),'defaultValue':!(-0x6*-0x674+-0x2*-0x1d1+-0x2a59)}),ts({'name':_0x561164+('VertexColo'+'rChannel'),'defaultValue':_0x4683c2})));const _0x6ca6dd=_0x561164+'MapTiling',_0x4a0f88=_0x561164+'MapOffset',_0x1f3250=_0x561164+('MapRotatio'+'n'),_0x3617d6=_0x561164+('MapTransfo'+'rm');Zc(_0x3617d6,(_0x2bf9b0,_0x68e2cb,_0x3980db)=>{const _0x3a9abb=_0x2bf9b0[_0x6ca6dd],_0x5832e6=_0x2bf9b0[_0x4a0f88],_0x1f6f58=_0x2bf9b0[_0x1f3250];if(_0x3a9abb['x']===-0x1*0x18ac+0x1e12+0x1*-0x565&&_0x3a9abb['y']===-0x26e0+0x26c0+0x21&&_0x5832e6['x']===0x68*-0x3a+-0x3*0x905+0x329f&&_0x5832e6['y']===-0x4*-0x74b+-0xbc*-0x5+-0x20d8&&_0x1f6f58===-0x9bc+-0x200f+-0x337*-0xd)return null;const _0x4a62e2=_0x2bf9b0['_allocUnif'+'orm'](_0x3617d6,()=>[{'name':'texture_'+_0x3617d6+'0','value':new Float32Array(-0xd62*0x1+-0x183c+0x25a1)},{'name':'texture_'+_0x3617d6+'1','value':new Float32Array(0x1*-0x1df7+0x2374+0x2bd*-0x2)}]),_0x3ec4af=Math['cos'](_0x1f6f58*N['DEG_TO_RAD']),_0x51038c=Math['sin'](_0x1f6f58*N['DEG_TO_RAD']),_0xc1a450=_0x4a62e2[-0xb6b*-0x2+0x11f7+0x1*-0x28cd]['value'];_0xc1a450[-0x65*-0x17+0x2*-0x335+-0x2a9]=_0x3ec4af*_0x3a9abb['x'],_0xc1a450[0xb*-0x1c9+-0xe0b+0x21af]=-_0x51038c*_0x3a9abb['y'],_0xc1a450[-0xf*-0x1ef+-0x12a3*-0x2+-0x4245]=_0x5832e6['x'];const _0x355853=_0x4a62e2[0x8aa+0x1ca*-0x8+0x5a7]['value'];return _0x355853[0x7f3+-0x677*0x3+0xb72]=_0x51038c*_0x3a9abb['x'],_0x355853[-0xfda*-0x2+-0xb47*0x2+-0x1*0x925]=_0x3ec4af*_0x3a9abb['y'],_0x355853[-0x1f46+0x207*0x1+0x1*0x1d41]=0x1ca2+0x124d+-0x2eee-_0x3a9abb['y']-_0x5832e6['y'],_0x4a62e2;});}function Cn(_0x1ff56c,_0x497846){ts({'name':_0x1ff56c,'defaultValue':_0x497846,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x12b0+0x1ad9+0x1*-0x829),this['_'+_0x1ff56c];}}),Zc(_0x1ff56c,(_0x872897,_0x34f5f6,_0xd1cc74)=>{const _0xa0af41=_0x872897['_allocUnif'+'orm'](_0x1ff56c,()=>new Float32Array(-0x1*0x23a7+0x1f99+0x411)),_0x3b4963=_0x872897[_0x1ff56c];return Dl['linear'](_0x3b4963),_0xa0af41[-0x483+-0x1a2c+0x1eaf]=Dl['r'],_0xa0af41[-0x111f+0x1d6c+-0x626*0x2]=Dl['g'],_0xa0af41[0x7*-0x1b1+-0x1f43+0x2b1c]=Dl['b'],_0xa0af41;});}function Ce(_0x1c5ee5,_0x10e68b,_0x4d7b83){ts({'name':_0x1c5ee5,'defaultValue':_0x10e68b,'dirtyShaderFunc':(_0x43f8d2,_0xacdaf6)=>(_0x43f8d2===0x2666+-0x211b+-0x5*0x10f||_0x43f8d2===-0x1*-0x1fd5+-0x26a9*0x1+0x9f*0xb)!=(_0xacdaf6===0x1dc3+-0xf7b+-0xe48||_0xacdaf6===0x63a+-0x1e30+-0x4cb*-0x5)}),Zc(_0x1c5ee5,_0x4d7b83);}function qa(_0x3220b5,_0xeeb55f){ts({'name':_0x3220b5,'defaultValue':null,'dirtyShaderFunc':(_0x12c15d,_0x291e0a)=>!!_0x12c15d==!!_0x291e0a}),Zc(_0x3220b5,_0xeeb55f);}function we(_0x3ec7d1,_0x544760){ts({'name':_0x3ec7d1,'defaultValue':_0x544760});}function tM(){Cn('ambient',new Y(0x1b9f+0x25bd+-0x9*0x743,-0x3af*-0x4+-0x5db*-0x1+0x2*-0xa4b,-0x14a+0x53*-0x52+0x9*0x319)),Cn('diffuse',new Y(0x1*0xc83+0x297*0x3+-0x1447,-0x3be*0x9+0x19c*-0xe+-0x12bd*-0x3,-0xaf8+-0x20bc+0x2bb5)),Cn('specular',new Y(0x209c+-0xe*0xb1+0xb77*-0x2,0x1557+-0xdcd+-0x78a,-0x1*0x213d+-0x10ed+-0x2*-0x1915)),Cn('emissive',new Y(0x1ba4+-0x73c+-0x1468,0x1*0x2498+0xe16+0x1a*-0x1f3,0xd*-0x1c+-0x2*-0x11e3+-0x225a)),Cn('sheen',new Y(0x1759*0x1+-0xe3*0x2+-0x1592,0x1266+-0xbf*-0x31+0xdbd*-0x4,-0x18*-0xb0+-0xea4+-0x1db)),Cn('attenuatio'+'n',new Y(-0x351*-0x5+0x2452*-0x1+-0x2d2*-0x7,-0x1f18+-0xc*0x283+0x1*0x3d3d,-0x23bc+-0x120*0x14+0x36d*0x11)),Ce('emissiveIn'+'tensity',0x3d5+0x1*0x5ab+-0x97f),Ce('specularit'+'yFactor',-0x464+-0x15fa+-0x1*-0x1a5f),Ce('sheenGloss',0x1ac5+-0x1ef9+0x434*0x1),Ce('gloss',0x1c6*0x8+0x3*-0x65b+0x1*0x4e1+0.25),Ce('aoIntensit'+'y',0x2*-0x8a8+0x2*-0xb33+0x27b7),Ce('heightMapF'+'actor',0x190f+-0x1c0+-0x174e,(_0xe17352,_0x1090a0,_0x6b9a67)=>_0xe17352['heightMapF'+'actor']*(-0x2651+0x1c78+0x9d9+0.025)),Ce('opacity',0x158+-0x38c+0x235),Ce('alphaFade',-0x44*-0x7+-0xe17+0xc3c),Ce('alphaTest',0x5e9+0x1f2c+-0x2515),Ce('bumpiness',-0x1*0x1bf1+0x7*0x322+0x604),Ce('normalDeta'+'ilMapBumpi'+'ness',-0x29*-0x44+-0x123*-0x1+-0xc06*0x1),Ce('reflectivi'+'ty',0x6e1+-0x422+-0x2be),Ce('occludeSpe'+'cularInten'+'sity',-0xd51+-0x2b7+0x5*0x335),Ce('refraction',-0x1837*0x1+0x3*0x8b7+-0x2*0xf7),Ce('refraction'+'Index',(-0x4e5*-0x3+-0x20*-0x52+-0x18ee)/(0x33b*0x7+-0x18b9+0x21d*0x1+0.5)),Ce('dispersion',-0x1*-0x7ea+0x641+0x3*-0x4b9),Ce('thickness',-0x9*-0x12b+-0x206c+0x4f*0x47),Ce('attenuatio'+'nDistance',0x13*-0xba+0x1*0xbe9+0x1*0x1e5),Ce('metalness',-0x13c7+-0xaa8+0x1*0x1e70),Ce('anisotropy',0x2197+0x9*-0x315+-0x2ed*0x2),Ce('clearCoat',0x1*0x236f+-0xb3+-0x22bc),Ce('clearCoatG'+'loss',0x6e4*0x5+-0x1*-0x128d+-0x3500),Ce('clearCoatB'+'umpiness',0x150e+-0x1*0xa55+-0xab8),Ce('aoUvSet',0x1af+0x3b9+-0x568,null),Ce('iridescenc'+'e',0x1*0x178+0xf79+-0x1*0x10f1),Ce('iridescenc'+'eRefractio'+'nIndex',(0x2e9+-0xeb0+0xbc8)/(-0x1*0x18d7+-0x63*0x41+0x9ff*0x5+0.5)),Ce('iridescenc'+'eThickness'+'Min',-0x6f4*-0x1+0x715+-0xe09),Ce('iridescenc'+'eThickness'+'Max',-0x2600+-0x18d3+-0x14f1*-0x3),qa('ambientSH'),qa('cubeMapPro'+'jectionBox',(_0x119630,_0x45b8e7,_0x4adbf6)=>{const _0x2375ca=_0x119630['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x1a6e+-0x4*0x796+0x3ed)},{'name':'envBoxMax','value':new Float32Array(-0x1a0f+0x241a+-0x6*0x1ac)}]),_0x189118=_0x119630['cubeMapPro'+'jectionBox']['getMin'](),_0x2fb4e2=_0x2375ca[-0xf4a*0x2+0xb9+0x1ddb*0x1]['value'];_0x2fb4e2[0x199b+0x1951*-0x1+-0x2*0x25]=_0x189118['x'],_0x2fb4e2[-0x463*0x1+0x12ba+-0x1*0xe56]=_0x189118['y'],_0x2fb4e2[0x2*-0x8bf+-0x1ab6+0x2c36]=_0x189118['z'];const _0x313730=_0x119630['cubeMapPro'+'jectionBox']['getMax'](),_0x23fe2b=_0x2375ca[0x416*0x2+-0x4*0x99c+0x1*0x1e45]['value'];return _0x23fe2b[-0xf23+0x1*0x184d+0x66*-0x17]=_0x313730['x'],_0x23fe2b[-0x14ef*-0x1+-0x1bb*-0xe+-0x2d28]=_0x313730['y'],_0x23fe2b[0x41f+-0xc*0xb3+0x447]=_0x313730['z'],_0x2375ca;}),we('specularTi'+'nt',!(0x116f+-0x235c+0x11ee)),we('specularit'+'yFactorTin'+'t',!(-0x3*0x746+0x2133*0x1+-0xb60)),we('useMetalne'+'ss',!(0x146*-0x18+-0x1*0x138a+-0x7f*-0x65)),we('useMetalne'+'ssSpecular'+'Color',!(0x1c85+0x70+-0x1cf4)),we('useSheen',!(-0x5b4+-0x8d7*0x1+0xe8c)),we('enableGGXS'+'pecular',!(-0x1*-0x1cee+-0x989*-0x4+0x1*-0x4311)),we('occludeDir'+'ect',!(0x65*0x1+-0x18*0x19b+0x2624)),we('opacityFad'+'esSpecular',!(0x1*-0x2353+-0x1399+0x36ec)),we('occludeSpe'+'cular',Bo),we('fresnelMod'+'el',Sp),we('useDynamic'+'Refraction',!(0x126b+-0x1*0x25ea+0x1380)),we('cubeMapPro'+'jection',u0),we('customFrag'+'mentShader',null),we('useFog',!(-0x2306+0xe*0x1a5+0xc00)),we('useLightin'+'g',!(0x241*0xa+0x18f6+0x1*-0x2f80)),we('useTonemap',!(-0xa09*-0x2+-0x2291+0xe7f)),we('useSkybox',!(0x1d62*0x1+-0x2195+0x5*0xd7)),we('forceUv1',!(-0x44f*-0x5+0xf*-0x189+0x17d)),we('pixelSnap',!(0x25a7+0x24*-0x88+-0x943*0x2)),we('twoSidedLi'+'ghting',!(-0x581+0x1b*0x12b+-0x1*0x1a07)),we('nineSliced'+'Mode',void(-0x202b+0xc6*0xa+0x186f)),we('msdfTextAt'+'tribute',!(-0x15f8+-0x24f5*-0x1+-0xefc)),we('useIridesc'+'ence',!(0x139*0xb+0x1fa4+-0x2d16)),we('glossInver'+'t',!(-0x1*0x8f3+-0xb9d*-0x3+-0x19e3)),we('sheenGloss'+'Invert',!(0x1787+-0x72d*0x3+-0x1ff)),we('clearCoatG'+'lossInvert',!(0x237b+0xdfe+-0x3178)),we('opacityDit'+'her',Rs),we('opacitySha'+'dowDither',Rs),Ge('diffuse'),Ge('specular'),Ge('emissive'),Ge('thickness','g'),Ge('specularit'+'yFactor','g'),Ge('normal',''),Ge('metalness','g'),Ge('gloss','g'),Ge('opacity','a'),Ge('refraction','g'),Ge('height','g',!(-0x751*-0x2+0x1a19+-0x145d*0x2)),Ge('ao','g'),Ge('light','rgb',!(-0x41*0x91+-0x191*0xd+0x392e),-0x3d*0x7+0xc62+-0xab6),Ge('msdf',''),Ge('diffuseDet'+'ail','rgb',!(0x15a*-0x16+-0x23e6*0x1+0x41a3)),Ge('normalDeta'+'il',''),Ge('aoDetail','g',!(-0x1a22+-0x264c+0x406f)),Ge('clearCoat','g'),Ge('clearCoatG'+'loss','g'),Ge('clearCoatN'+'ormal',''),Ge('sheen','rgb'),Ge('sheenGloss','g'),Ge('iridescenc'+'e','g'),Ge('iridescenc'+'eThickness','g'),we('diffuseDet'+'ailMode',km),we('aoDetailMo'+'de',km),qa('cubeMap'),qa('sphereMap'),qa('envAtlas');const _0x55fd28=function(){return this['_prefilter'+'edCubemaps'];},_0x51e6ed=function(_0x400a41){const _0x1a9dd9=this['_prefilter'+'edCubemaps'];_0x400a41=_0x400a41||[];let _0x35a686=!(0x1132+0x882+0x11*-0x183),_0x3638fe=!(0xad8+-0xccc+0x1f4);for(let _0xcdb42b=0x23de+0x8*-0x152+-0x194e;_0xcdb42b<0xb3a*-0x3+0x3*-0x303+0x2abd;++_0xcdb42b){const _0x306171=_0x400a41[_0xcdb42b]||null;_0x1a9dd9[_0xcdb42b]!==_0x306171&&(_0x1a9dd9[_0xcdb42b]=_0x306171,_0x35a686=!(0x64a+-0x748+-0x2*-0x7f)),_0x3638fe=_0x3638fe&&!!_0x1a9dd9[_0xcdb42b];}_0x35a686&&(_0x3638fe?this['envAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x1a9dd9,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x2127*0x1+-0x486+0x15*-0x15d));},_0x16218c=[null,null,null,null,null,null];Op('prefiltere'+'dCubemaps',()=>_0x16218c['slice'](),_0x51e6ed,_0x55fd28);}tM();const dt=class dt{static['render'](_0x4a0180,_0x36d275){const _0x3c7a79=_0x36d275['device'],_0x77de31=_0x4a0180['cells'],_0x1ce1f1=_0x4a0180['lightsBuff'+'er'],_0x3f5971=_0x1ce1f1['boundsMin'],_0xb12566=_0x1ce1f1['boundsDelt'+'a'],_0x47dd4b=_0x3f5971['clone']()['add'](_0xb12566),_0x26c6c5=_0x1ce1f1['boundsDelt'+'a']['clone']()['div'](_0x77de31),_0x26c3d5=dt['gridPositi'+'ons'],_0x197e1e=dt['gridColors'],_0x530457=new Y(-0x1686+0x33+0x17d*0xf+0.3,0x131a+-0x1*0x1866+0x54c+0.3,0x12f+-0x323*-0xb+-0x23b0+0.3),_0x1ddfe5=(_0x10f1a3,_0x1ebefb,_0x5e737f,_0x10f265,_0xa56792,_0xe00ad0,_0x4b26e4,_0x1f148e,_0x49baf2)=>{for(let _0x26ddfc=-0xf9c+-0x1f4e+0x1775*0x2;_0x26ddfc<=_0x10f1a3;_0x26ddfc++)for(let _0x74a4a8=0x1da+-0xfec*0x1+0xe12;_0x74a4a8<=_0x1ebefb;_0x74a4a8++){const _0x227826=_0x5e737f+_0x26ddfc*_0x10f265,_0x260206=_0xa56792+_0x74a4a8*_0xe00ad0;_0x49baf2===-0x347*0xa+0x5b*0x35+0xdef?_0x26c3d5['push'](_0x227826,_0x4b26e4,_0x260206,_0x227826,_0x1f148e,_0x260206):_0x49baf2===0x18c4*-0x1+-0x1443+-0x5a1*-0x8?_0x26c3d5['push'](_0x227826,_0x260206,_0x4b26e4,_0x227826,_0x260206,_0x1f148e):_0x49baf2===0x17*-0xad+0x1f39*-0x1+0x2ec6&&_0x26c3d5['push'](_0x4b26e4,_0x227826,_0x260206,_0x1f148e,_0x227826,_0x260206);}};if(_0x1ddfe5(_0x77de31['x'],_0x77de31['z'],_0x3f5971['x'],_0x26c6c5['x'],_0x3f5971['z'],_0x26c6c5['z'],_0x3f5971['y'],_0x47dd4b['y'],0x3*0x9f7+0x19da+-0x37bf*0x1),_0x1ddfe5(_0x77de31['x'],_0x77de31['y'],_0x3f5971['x'],_0x26c6c5['x'],_0x3f5971['y'],_0x26c6c5['y'],_0x3f5971['z'],_0x47dd4b['z'],0x117c+-0x23f3*-0x1+0x1ab7*-0x2),_0x1ddfe5(_0x77de31['y'],_0x77de31['z'],_0x3f5971['y'],_0x26c6c5['y'],_0x3f5971['z'],_0x26c6c5['z'],_0x3f5971['x'],_0x47dd4b['x'],-0x3a1*-0x1+0x144c+-0x17eb),_0x26c3d5['length']){const _0x17d0be=_0x26c3d5['length']/(-0xd*0x8+0x1c21+-0x1bb6);if(_0x17d0be!==_0x197e1e['length']/(-0x144e+-0x3*-0x208+-0x1*-0xe3a)){_0x197e1e['length']=-0x1193*-0x2+0x454*0x7+0x1*-0x4172;for(let _0x15e116=0x119*-0x17+-0x584*-0x5+-0x255;_0x15e116<_0x17d0be;_0x15e116++)_0x197e1e['push'](_0x530457['r'],_0x530457['g'],_0x530457['b'],_0x530457['a']);}_0x36d275['drawLineAr'+'rays'](_0x26c3d5,_0x197e1e),_0x26c3d5['length']=0x2310+0x2*0x10be+-0x52*0xd6;}let _0x57924c=dt['mesh'];_0x57924c||(_0x57924c=new Ie(_0x3c7a79),_0x57924c['clear'](!(-0xd0e*0x1+-0x3*0x2bd+-0x717*-0x3),!(-0x18aa+-0xe*-0x215+-0x1c*0x29)),dt['mesh']=_0x57924c);const _0x3528b1=[],_0x6d69f2=[],_0x4a3adc=[],_0x1da12e=_0x4a0180['_cells']['x'],_0x4da6ff=_0x4a0180['_cells']['z'],_0x1186a3=_0x4a0180['counts'],_0x1ed127=_0x4a0180['_maxCellLi'+'ghtCount'],_0x36a6b1=new T(),_0x4fa110=new T(),_0x5b17f2=new T(),_0x435bec=_0xb12566['clone']()['div'](_0x77de31);let _0x22ae66=0x47*-0x17+0x6a8+-0x47;for(let _0x39314d=-0x1*-0x169f+-0x23d+0x1462*-0x1;_0x39314d<_0x77de31['x'];_0x39314d++)for(let _0x4d5297=0x16*-0x199+-0x35*0x76+0x3b94;_0x4d5297<_0x77de31['z'];_0x4d5297++)for(let _0x48a004=0x501+-0x1cdc*-0x1+-0x21dd;_0x48a004<_0x77de31['y'];_0x48a004++){const _0x11d9f1=_0x39314d+_0x1da12e*(_0x4d5297+_0x48a004*_0x4da6ff),_0x41e13a=_0x1186a3[_0x11d9f1];if(_0x41e13a>0x23cc+0x1*-0x15b2+-0x26*0x5f){_0x36a6b1['x']=_0x3f5971['x']+_0x435bec['x']*_0x39314d,_0x36a6b1['y']=_0x3f5971['y']+_0x435bec['y']*_0x48a004,_0x36a6b1['z']=_0x3f5971['z']+_0x435bec['z']*_0x4d5297,_0x4fa110['add2'](_0x36a6b1,_0x435bec),_0x3528b1['push'](_0x36a6b1['x'],_0x36a6b1['y'],_0x4fa110['z']),_0x3528b1['push'](_0x4fa110['x'],_0x36a6b1['y'],_0x4fa110['z']),_0x3528b1['push'](_0x4fa110['x'],_0x4fa110['y'],_0x4fa110['z']),_0x3528b1['push'](_0x36a6b1['x'],_0x4fa110['y'],_0x4fa110['z']),_0x3528b1['push'](_0x4fa110['x'],_0x36a6b1['y'],_0x36a6b1['z']),_0x3528b1['push'](_0x36a6b1['x'],_0x36a6b1['y'],_0x36a6b1['z']),_0x3528b1['push'](_0x36a6b1['x'],_0x4fa110['y'],_0x36a6b1['z']),_0x3528b1['push'](_0x4fa110['x'],_0x4fa110['y'],_0x36a6b1['z']),_0x5b17f2['lerp'](dt['colorLow'],dt['colorHigh'],_0x41e13a/_0x1ed127)['round']();for(let _0x570d1e=0x2201+0x4*-0x5c7+-0xae5;_0x570d1e<0x1127*-0x1+-0x2662+-0x1*-0x3791;_0x570d1e++)_0x6d69f2['push'](_0x5b17f2['x'],_0x5b17f2['y'],_0x5b17f2['z'],0x13cd+0x66a+0x1a36*-0x1);_0x4a3adc['push'](_0x22ae66*(0x900*-0x2+0x1b6f+-0x1d*0x53)+(0x4*-0x1b1+-0x1d*0x46+0xeb2),_0x22ae66*(0x2cd*0x1+0x20b+-0x4d0)+(-0x43*-0x51+0x20d*-0xa+-0x2c*0x4),_0x22ae66*(0x24c8+0x53*-0x4c+-0xc1c)+(0xaff*0x3+-0x495+-0x1c65*0x1)),_0x4a3adc['push'](_0x22ae66*(0x3b*0x11+-0x8*0x3c1+0x1a25)+(0x3*-0x74+0x669*0x5+0xb*-0x2ca),_0x22ae66*(0x2*0xfa3+-0x1af+-0x1d8f)+(0x153b+-0x1*0x1a3+-0x1397),_0x22ae66*(0x25b7+0x1aa1+0x1570*-0x3)+(-0x13e1+-0x1f55*0x1+0x3338)),_0x4a3adc['push'](_0x22ae66*(0x4a5+0x16e7+-0x1b84)+(0x7fe*-0x2+-0x227c+0x327c),_0x22ae66*(-0x22c0+-0x8b0+0x2b78)+(0x910+-0x14fe+-0x7*-0x1b5),_0x22ae66*(0x9e*0xd+0x23b1*0x1+-0x2baf*0x1)+(-0x4*0x577+0x5f*0x1a+0xc3d)),_0x4a3adc['push'](_0x22ae66*(0x1c35+-0x2685+-0x14b*-0x8)+(0x8ea*-0x1+0x26eb+-0xefd*0x2),_0x22ae66*(-0x15de*0x1+0x2063+-0x3*0x37f)+(-0x2536+0x25ee+-0xb3),_0x22ae66*(-0xeb*0x7+0xef4+-0x2d5*0x3)+(0x473+-0x15*0x1bb+0x1fea)),_0x4a3adc['push'](_0x22ae66*(-0x22af+0x167e+-0x413*-0x3)+(0x80e*0x2+0x29e*-0x8+0x4d7),_0x22ae66*(-0x5*0x2c5+-0x1*0x191+0xf72)+(0x18a7+-0x1428+-0x47d),_0x22ae66*(-0x2*-0x743+0x290*0x7+-0x206e)+(-0x66d+-0x1*-0x1b6b+-0x14f8)),_0x4a3adc['push'](_0x22ae66*(-0x5ca+-0x2f*-0x2f+-0x2cf)+(0x4*0x86a+0x58b+-0x7f*0x4f),_0x22ae66*(0x1*0x1c03+-0x108e+-0xb6d)+(0x22db+-0x1951+0x1e7*-0x5),_0x22ae66*(-0xd*-0x1d+-0xa6*-0x35+-0x23cf)+(0x1*0x679+-0x1305*-0x1+0x518*-0x5)),_0x4a3adc['push'](_0x22ae66*(0x15d6+0x61*-0x2e+-0x460)+(-0x8b*0x2c+0x1f90+-0xd*0x97),_0x22ae66*(-0x1e8a+0x244d+-0x5bb)+(0x16*0x109+0x40*-0x6d+0x47a),_0x22ae66*(0x1e58+-0x1a1b+-0x167*0x3)+(-0x1*-0x20+0x17*0x87+-0xc3d)),_0x4a3adc['push'](_0x22ae66*(-0xb30+-0x1*0xa3d+0x3*0x727)+(0x19*0xbf+-0x1c12+-0x1*-0x96b),_0x22ae66*(0x4ff+-0x1726+-0x3a3*-0x5)+(-0x54+-0x2300+0x2359*0x1),_0x22ae66*(0xb*-0x71+-0x44d+0x6*0x188)+(-0x2d*0x4b+0x100f+-0x2*0x16e)),_0x4a3adc['push'](_0x22ae66*(0x163*-0x5+-0x2433+-0x22*-0x145)+(-0x44*-0x3b+0x1*-0x103d+0x92),_0x22ae66*(0xb96+0x1*0x2509+-0x7*0x6f1)+(0x16c4+-0x1*0xc85+-0xa3b),_0x22ae66*(0x1e32+0x1862+-0x368c)+(0x1a15*-0x1+-0xe6e*0x2+-0x1b*-0x209)),_0x4a3adc['push'](_0x22ae66*(-0x41*-0x2a+-0x2*0x304+-0x49a)+(-0x19c9+0x112*-0x17+0x326b*0x1),_0x22ae66*(-0x46f*-0x1+-0x218+-0x3*0xc5)+(-0xc*-0x52+-0x9f*0x9+0xe3*0x2),_0x22ae66*(-0xd*0x2f5+0x9a5*-0x3+-0x8*-0x86d)+(-0x4c3+0x1bfe+-0x1739)),_0x4a3adc['push'](_0x22ae66*(0x1*-0x24dd+-0x11ba+0x369f)+(-0x2*-0x7c9+0x74f*0x1+-0x1c*0xd1),_0x22ae66*(-0xe*-0x24a+-0x5*0x47a+-0x9a2)+(0x49a*-0x7+-0x95b+-0x3*-0xddb),_0x22ae66*(0x1139+-0x113e*0x1+0xd)+(0xc94+0x13cb+-0x2059*0x1)),_0x4a3adc['push'](_0x22ae66*(-0x1298+-0x2032*0x1+0x32d2*0x1)+(-0x1*0x23cf+-0xfb*0x1+0x24ca),_0x22ae66*(-0x2433+-0x1*0x1d7+0x2612)+(0xa*-0x8d+-0xd*-0x1f+0x3f2),_0x22ae66*(0x1a85+-0x7*-0x6d+0xebc*-0x2)+(0x1*0x1529+0x627+0x3e6*-0x7)),_0x22ae66++;}}if(_0x22ae66){if(_0x57924c['setPositio'+'ns'](_0x3528b1),_0x57924c['setColors3'+'2'](_0x6d69f2),_0x57924c['setIndices'](_0x4a3adc),_0x57924c['update'](Ms,!(-0x1bb1+-0x67*0x3b+0x336f)),!dt['meshInstan'+'ce']){const _0x12ffc9=new cs();_0x12ffc9['useLightin'+'g']=!(0x2f5*0x2+0x1a37+-0x2020),_0x12ffc9['emissive']=new Y(-0x1*-0xacd+-0x1*0x2218+0x2*0xba6,0x2412+-0x5c*-0x3+-0x2525,-0x11e+-0x7c6+0x8e5*0x1),_0x12ffc9['emissiveVe'+'rtexColor']=!(0x19e3+-0xca0*-0x1+-0x2683),_0x12ffc9['blendType']=Hc,_0x12ffc9['depthWrite']=!(-0x1dee+-0xb*0x299+0x3a82),_0x12ffc9['update']();const _0x3f91f9=new De('WorldClust'+'ersDebug');_0x3f91f9['worldTrans'+'form']=q['IDENTITY'],_0x3f91f9['_dirtyWorl'+'d']=_0x3f91f9['_dirtyNorm'+'al']=!(-0x20d1+-0x22a*-0x9+-0xe*-0xf4),dt['meshInstan'+'ce']=new Le(_0x57924c,_0x12ffc9,_0x3f91f9),dt['meshInstan'+'ce']['cull']=!(-0x1*-0x2051+0x9de+-0x2a2e);}const _0x9fb701=dt['meshInstan'+'ce'];_0x36d275['immediate']['drawMesh'](_0x9fb701['material'],_0x9fb701['node']['worldTrans'+'form'],null,_0x9fb701,_0x36d275['defaultDra'+'wLayer']);}}};c(dt,'gridPositi'+'ons',[]),c(dt,'gridColors',[]),c(dt,'mesh',null),c(dt,'meshInstan'+'ce',null),c(dt,'colorLow',new T(-0x115b*0x1+0x6*0x4cb+-0xb66*0x1,0x1*0xcfb+-0xa4+-0x2*0x62b,0x9*0x27+0x13*-0x1ba+0x1f70)),c(dt,'colorHigh',new T(0x39*0x7f+0x2*-0x11ef+0x7bf*0x1,-0x2225+-0xf75+0x319a,-0x11c9+0x18*0x43+0x5f*0x1f));let Vu=dt;const sM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let vi=null;const R0=()=>{if(!vi){const _0x597b2b=atob(sM);vi=Uint8Array['from'](_0x597b2b,_0x429057=>_0x429057['charCodeAt'](0x2011*-0x1+0x20fd+-0x3b*0x4));}},iM=()=>(R0(),vi);class rM{constructor(_0x3143f0=-0x3*-0x289+-0x1cb4+0x1519){c(this,'seed',0x1*-0xd6e+0x2213+0x2f3*-0x7),(this['seed']=_0x3143f0*(0x1203*-0x2+-0x2681+0x4a8b),R0());}['_next'](){this['seed']=(this['seed']+(-0x201a+0x16e0+0xa9*0xe))%vi['length'];}['value'](){return this['_next'](),vi[this['seed']]/(-0x57*-0x56+0x2*-0x2c9+-0x16a9);}['vec4'](_0x252b86=new Q()){return this['_next'](),_0x252b86['set'](vi[this['seed']],vi[this['seed']+(-0x62*0x61+0x209f+0x484)],vi[this['seed']+(0xde4+0x4*0x52c+-0x2292)],vi[this['seed']+(-0x1*-0xcc6+-0x1759+0xa96)])['mulScalar']((0x3*-0xc66+-0x1*0x1a53+0x3f86)/(-0x5*-0x783+0x2*-0x1e8+0x83*-0x40));}}const nM=[new T(-(0xb59*0x1+-0x1f26+0x1a*0xc3),0xe*0xc+-0xa62+0xf9*0xa,0x11a*-0x1+0x817*0x2+-0xf14),new T(0x610+0xc1*-0x18+0xc09,-0x5e8+-0x1000+-0xaf4*-0x2,0x32c+0x8*-0x455+0x1f7c),new T(-0x20ab*-0x1+0x1*0x1829+-0x38d4,-(0x1*-0x26c8+-0x3df+0x2aa8),-0x149e+-0x16fc+0x2b9a),new T(-0xad2+0x1bb1+-0x10df,-0x2b0*-0x5+0x249+0x7dc*-0x2,-0x209b+-0x760+0x27fb),new T(0x21a8+-0x1f90+0x2*-0x10c,0x1*0x1409+0x11*0x24b+-0x3b04,-(0x1fe1+-0x1686+-0x95a)),new T(0x1*0x279+-0x186f+0xafb*0x2,0x1a60+0x15b*-0x7+-0x3*0x5a1,0x1a8e+0x286+-0x1d13)];class aM{constructor(){c(this,'colors',new Float32Array((-0xc6*-0x13+0x1*-0x15f2+-0x62*-0x13)*(0x13cb+0x212f+-0x34f7)));}['update'](_0x350f65,_0x156ba7){const _0xd2fc69=this['colors'],{r:_0x3fc9e8,g:_0x3d96e4,b:_0x183eee}=_0x350f65;for(let _0x93a51a=-0x11*-0x59+0x6fb*-0x1+0x112;_0x93a51a<0x2128+0xb24+-0x2c46;_0x93a51a++)_0xd2fc69[_0x93a51a*(0x1a0e+0xeb0*-0x2+0x355)]=_0x3fc9e8,_0xd2fc69[_0x93a51a*(0x701+0x1668+-0x1d66)+(0x1995+-0x26e4+0xd50)]=_0x3d96e4,_0xd2fc69[_0x93a51a*(-0x14e3+-0x1f22+0x5*0xa68)+(-0x123b+-0x5*0x125+-0x2*-0xbfb)]=_0x183eee;for(let _0x53ef6f=0x1cda+0x1*0x903+-0x25dd;_0x53ef6f<_0x156ba7['length'];_0x53ef6f++){const _0x59fafd=_0x156ba7[_0x53ef6f];if(_0x59fafd['_type']===oe)for(let _0xeb953=-0x1097+0x1710+-0x679;_0xeb953<-0xff0+-0x1412+0x2408;_0xeb953++){const _0x7a529c=Math['max'](nM[_0xeb953]['dot'](_0x59fafd['_direction']),0x2*-0xd69+0x719+0x13b9)*_0x59fafd['_intensity'],_0x137f33=_0x59fafd['_color'];_0xd2fc69[_0xeb953*(-0x1c83+-0x7b1+0x2437*0x1)]+=_0x137f33['r']*_0x7a529c,_0xd2fc69[_0xeb953*(-0x2603*0x1+-0x1053*-0x2+-0xac*-0x8)+(-0x2019+0xb7*0x7+0x1b19)]+=_0x137f33['g']*_0x7a529c,_0xd2fc69[_0xeb953*(-0x1b6d+-0x2*0x10a2+-0x1e*-0x206)+(0x2*0xa39+-0xd1b+-0x755*0x1)]+=_0x137f33['b']*_0x7a529c;}}}}const oM=(_0x5eb0c1,_0xe3ea6a,_0x29921e,_0x14bf6f)=>{const _0x572ab4=new he(_0x5eb0c1,{'name':''+_0xe3ea6a+_0x29921e,'width':_0x29921e,'height':_0x29921e,'format':Se,'addressU':tt,'addressV':tt,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x44*0x35+0x4*-0x790+0x2c55)});return _0x572ab4['lock']()['set'](_0x14bf6f),_0x572ab4['unlock'](),_0x572ab4;},lM=new Ot(),hM=_0x10319f=>lM['get'](_0x10319f,()=>{const _0x4b3158=iM(),_0x50c05d=Math['sqrt'](_0x4b3158['length']/(0x1*0x5bd+0x325+-0x8de));return oM(_0x10319f,'BlueNoise',_0x50c05d,_0x4b3158);});class un{constructor(_0x216e9e,_0x4a832a){this['texture']=_0x216e9e,this['cached']=!(0x6df*0x4+-0xc7*-0x31+-0x4192),this['renderTarg'+'ets']=_0x4a832a;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0xde9ceb=this['renderTarg'+'ets'];for(let _0x4e019f=-0x44+0x424+-0x3e0;_0x4e019f<_0xde9ceb['length'];_0x4e019f++)_0xde9ceb[_0x4e019f]['destroy']();this['renderTarg'+'ets']['length']=-0xd21+0x1e08+-0x10e7;}static['getShadowF'+'iltering'](_0x52afa6,_0x4a30a0){return _0x4a30a0===$r?_0x52afa6['extTexture'+'FloatLinea'+'r']?st:de:st;}static['create'](_0x4b7793,_0x31cb9b){let _0x19f1d1=null;return _0x31cb9b['_type']===Pe?_0x19f1d1=this['createCube'+'map'](_0x4b7793,_0x31cb9b['_shadowRes'+'olution'],_0x31cb9b['_shadowTyp'+'e']):_0x19f1d1=this['create2dMa'+'p'](_0x4b7793,_0x31cb9b['_shadowRes'+'olution'],_0x31cb9b['_shadowTyp'+'e']),_0x19f1d1;}static['createAtla'+'s'](_0x122953,_0xb25f36,_0x5c50e9){const _0x4f9099=this['create2dMa'+'p'](_0x122953,_0xb25f36,_0x5c50e9),_0x4eaf83=_0x4f9099['renderTarg'+'ets'],_0xc23315=_0x4eaf83[0x287*0xd+-0x1*-0x16b5+0xe*-0x3f8];for(let _0x14b967=-0x2088+0xd*0x256+0x22a;_0x14b967<0x1441+-0x2252+-0x4b2*-0x3;_0x14b967++)_0x4eaf83['push'](_0xc23315);return _0x4f9099;}static['create2dMa'+'p'](_0xcc48e9,_0x2b6328,_0x1e8726){var _0x45131b;const _0x16a076=ir['get'](_0x1e8726);v['assert'](_0x16a076);let _0xbec275=_0x16a076['format'];_0xbec275===Ii&&!_0xcc48e9['textureFlo'+'atRenderab'+'le']&&_0xcc48e9['textureHal'+'fFloatRend'+'erable']&&(_0xbec275=Ec);const _0x453d53=(_0x45131b=xt['get'](_0xbec275))==null?void(-0x267f+0x53*-0x76+0xaf7*0x7):_0x45131b['name'],_0x2d9863=this['getShadowF'+'iltering'](_0xcc48e9,_0x1e8726),_0x3b36f3=new he(_0xcc48e9,{'profilerHint':Tu,'format':_0xbec275,'width':_0x2b6328,'height':_0x2b6328,'mipmaps':!(-0x12e*0xb+-0x23fb+-0x829*-0x6),'minFilter':_0x2d9863,'magFilter':_0x2d9863,'addressU':ae,'addressV':ae,'name':'ShadowMap2'+'D_'+_0x453d53});let _0x3eb201=null;return _0x16a076!=null&&_0x16a076['pcf']?(_0x3b36f3['compareOnR'+'ead']=!(-0x57+0x1be*-0x6+0xacb),_0x3b36f3['compareFun'+'c']=Eh,_0x3eb201=new pt({'depthBuffer':_0x3b36f3})):_0x3eb201=new pt({'colorBuffer':_0x3b36f3,'depth':!(0x1511*0x1+-0x1b3*-0x5+-0x1d90)}),_0xcc48e9['isWebGPU']&&(_0x3eb201['flipY']=!(-0xa6f+-0x131b+0x1d8a)),new un(_0x3b36f3,[_0x3eb201]);}static['createCube'+'map'](_0x31a6b3,_0x4bb6cc,_0x476ff0){var _0x3455f9;const _0x5ce779=ir['get'](_0x476ff0);v['assert'](_0x5ce779);const _0x563dbb=(_0x3455f9=xt['get'](_0x5ce779['format']))==null?void(0xe6*-0x22+-0x1db9+0x3c45):_0x3455f9['name'],_0x368cd5=_0x476ff0===Ts,_0xb90c54=_0x368cd5?de:st,_0x5939fb=new he(_0x31a6b3,{'profilerHint':Tu,'format':_0x5ce779==null?void(-0x1*-0x1d53+0x57a*0x5+-0x38b5):_0x5ce779['format'],'width':_0x4bb6cc,'height':_0x4bb6cc,'cubemap':!(0x2*-0x74f+-0xd9d+-0xdb*-0x21),'mipmaps':!(0xbcc+-0xf8d+0x1e1*0x2),'minFilter':_0xb90c54,'magFilter':_0xb90c54,'addressU':ae,'addressV':ae,'name':'ShadowMapC'+'ube_'+_0x563dbb});_0x368cd5||(_0x5939fb['compareOnR'+'ead']=!(-0x96d*0x3+-0x1033+0x2c7a),_0x5939fb['compareFun'+'c']=Eh);const _0x21b973=[];for(let _0x2aea45=-0x6b*0x2e+-0xbbf*0x3+-0xbf*-0x49;_0x2aea45<0x2109+0x1*-0x215+-0x1*0x1eee;_0x2aea45++)_0x368cd5?_0x21b973['push'](new pt({'colorBuffer':_0x5939fb,'face':_0x2aea45,'depth':!(0xc42*-0x3+0x79c*-0x1+0x2c62)})):_0x21b973['push'](new pt({'depthBuffer':_0x5939fb,'face':_0x2aea45}));return new un(_0x5939fb,_0x21b973);}}const cM=[],dM=[],Js=new Q(),Cd=new Q();class Md{constructor(_0x5dfea9){this['size']=Math['floor'](_0x5dfea9['w']*(0x56f*0x7+0x1*-0xec3+0x1346*-0x1)),this['used']=!(-0x129e*0x1+-0x6f+0x130e),this['lightId']=-(0x3*-0x8a5+0x20a3+-0x157*0x5),this['rect']=_0x5dfea9;}}class uM{constructor(_0x1805ff){this['device']=_0x1805ff,this['version']=-0x1*0x45+-0x20c8+0x210e,this['shadowAtla'+'sResolutio'+'n']=0x15bc+0x23bc*-0x1+0x1600,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0xf50+-0x3d6+0x147*0xf,this['cookieAtla'+'sResolutio'+'n']=-0x59*-0x4a+-0x774+0x52*-0x39,this['cookieAtla'+'s']=new he(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':rs,'cubemap':!(-0x4*-0x2cd+-0x1*0x10ed+0x5ba),'mipmaps':!(0x1e6e+0x10*0xc1+-0x2a7d),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae}),this['cookieRend'+'erTarget']=new pt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0xf11+0x363*0x4+0x4*-0x727),'flipY':!(-0x150d+0x2667+0x8ad*-0x2)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new $(0x233c+-0x836+-0x3*0x902,0xd5c+-0x958+-0x404),new $(0x1*0x16f7+0x62e+0x9*-0x33d,0x5fe+0xdc+-0x6d9),new $(0x835*-0x1+0x35*-0x87+0x2429,-0x1261+-0x938+0x9d*0x2d),new $(0x3f3+-0x5cb+-0xb*-0x2b,0x3*-0x5f9+-0x103d+0x37*0x9f),new $(0x7f*-0xb+-0x1*-0x4c7+0xb0,0x10*0x107+-0x376*-0x1+-0x13e6),new $(-0x8a*0x1+0x21bb*0x1+-0x212f,-0x12b0+0x1659+-0x8*0x75)],this['scissorVec']=new Q(),this['allocateSh'+'adowAtlas'](0x2225+-0x3d*0x48+-0x2*0x87e),this['allocateCo'+'okieAtlas'](-0x1077+0x78e*-0x5+0x363e),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x1eb78a;(_0x1eb78a=this['shadowAtla'+'s'])==null||_0x1eb78a['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x212c21,_0x277be1;(_0x212c21=this['cookieAtla'+'s'])==null||_0x212c21['destroy'](),this['cookieAtla'+'s']=null,(_0x277be1=this['cookieRend'+'erTarget'])==null||_0x277be1['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0xcdb5f9,_0x5a102a=Dt){var _0x104e62;const _0x57d568=(_0x104e62=this['shadowAtla'+'s'])==null?void(-0x7bc+0xdcf+-0x613):_0x104e62['texture']['format'],_0x30472f=ir['get'](_0x5a102a)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0xcdb5f9||_0x57d568!==_0x30472f){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=un['createAtla'+'s'](this['device'],_0xcdb5f9,_0x5a102a),this['shadowAtla'+'s']['cached']=!(-0x297+0x146+-0x1*-0x151);const _0x35088a=(0x1ec4+0x1*-0x2467+0x5a7)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x35088a,_0x35088a,-(0x2*-0xf95+-0x1df2*0x1+-0x1e8f*-0x2)*_0x35088a,-(0x5*0xd7+0x2682+-0x2ab3*0x1)*_0x35088a);}}['allocateCo'+'okieAtlas'](_0x5ebd6e){this['cookieAtla'+'s']['width']!==_0x5ebd6e&&(this['cookieRend'+'erTarget']['resize'](_0x5ebd6e,_0x5ebd6e),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x56*0x2b+0x6ca*0x5+0x9bf*-0x2),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0xf4687a=this['shadowAtla'+'s']['renderTarg'+'ets'][0x1e64+0x2320+-0x7*0x95c]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0xf4687a),this['_shadowAtl'+'asParams'][-0x2*0xe25+0x1*0x19c6+-0xe*-0x2e]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0x6*-0x288+0xc*-0x22f+0x2965]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x4f57bf,_0x3844be){let _0x367276=_0x3844be['atlasSplit'];if(!_0x367276){const _0x5733d9=Math['ceil'](Math['sqrt'](_0x4f57bf));_0x367276=dM,_0x367276[-0x39*0x9f+0x813*-0x1+0x2b7a]=_0x5733d9,_0x367276['length']=0xa14+-0x262f+0x1c1c;}if(!((_0x4ccc0e,_0x505dfc)=>_0x4ccc0e['length']===_0x505dfc['length']&&_0x4ccc0e['every']((_0x307046,_0x189a6d)=>_0x307046===_0x505dfc[_0x189a6d]))(_0x367276,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x13*0xfe+0x2687+-0x13ad,this['atlasSplit']['length']=-0x1265*0x1+0x316*0x7+-0x335*0x1,this['atlasSplit']['push'](..._0x367276);const _0x458583=this['atlasSplit'][0x189d+0x1*-0x1e3f+0x5a2];if(_0x458583>0x16ba+0xac+-0x1765){const _0x16736b=(-0x1c86+0xc82*-0x1+-0x3bb*-0xb)/_0x458583;for(let _0x24646d=-0x1c*0x98+-0x1980+0x151*0x20;_0x24646d<_0x458583;_0x24646d++)for(let _0x1b0559=0x1fa*0x7+0xfb4+-0x1*0x1d8a;_0x1b0559<_0x458583;_0x1b0559++){const _0x1d948b=new Q(_0x24646d*_0x16736b,_0x1b0559*_0x16736b,_0x16736b,_0x16736b),_0x252024=this['atlasSplit'][0x2cf*-0x7+0x149+-0x3ad*-0x5+_0x24646d*_0x458583+_0x1b0559];if(_0x252024>0x11a+0x1edd+0x1ff6*-0x1){for(let _0x221d3c=0xaff*-0x1+-0xd1b+0x5*0x4d2;_0x221d3c<_0x252024;_0x221d3c++)for(let _0x41e887=-0x37c*0x2+-0xb*-0x29+0x535;_0x41e887<_0x252024;_0x41e887++){const _0x2f4d78=_0x16736b/_0x252024,_0x2beced=new Q(_0x1d948b['x']+_0x221d3c*_0x2f4d78,_0x1d948b['y']+_0x41e887*_0x2f4d78,_0x2f4d78,_0x2f4d78);this['slots']['push'](new Md(_0x2beced));}}else this['slots']['push'](new Md(_0x1d948b));}}else this['slots']['push'](new Md(new Q(0xd*0x28d+0x4*0x77f+-0xca1*0x5,0x1*-0xca6+-0x1efb+0x2ba1,0xfa8*-0x1+0x1*-0xa38+-0x19e1*-0x1,0x1ad2*-0x1+-0x1*0x43+0x1b16)));this['slots']['sort']((_0x39c833,_0x4dcca3)=>_0x4dcca3['size']-_0x39c833['size']);}}['collectLig'+'hts'](_0xfc233e,_0x5eeab6){const _0x173fe8=_0x5eeab6['cookiesEna'+'bled'],_0x2064f8=_0x5eeab6['shadowsEna'+'bled'];let _0x1d89ea=!(-0x2b*-0xad+-0x3cb+-0x1943),_0x5970fc=!(0x911*0x2+-0x1374+0x153*0x1);const _0x575e11=cM;return _0x575e11['length']=0x2688+0x187c+-0x3f04,(_0x173fe8||_0x2064f8)&&(_0x2b13c4=>{for(let _0x337a88=0xe98*0x2+0x17c6+0x1a7b*-0x2;_0x337a88<_0x2b13c4['length'];_0x337a88++){const _0x294213=_0x2b13c4[_0x337a88];if(_0x294213['visibleThi'+'sFrame']){const _0x26976f=_0x2064f8&&_0x294213['castShadow'+'s'],_0x2d1111=_0x173fe8&&!!_0x294213['cookie'];_0x1d89ea||(_0x1d89ea=_0x26976f),_0x5970fc||(_0x5970fc=_0x2d1111),(_0x26976f||_0x2d1111)&&_0x575e11['push'](_0x294213);}}})(_0xfc233e),_0x575e11['sort']((_0x1b8954,_0x52a3fd)=>_0x52a3fd['maxScreenS'+'ize']-_0x1b8954['maxScreenS'+'ize']),_0x1d89ea&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x5eeab6['shadowType']),_0x5970fc&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x1d89ea||_0x5970fc)&&this['subdivide'](_0x575e11['length'],_0x5eeab6),_0x575e11;}['setupSlot'](_0x467fa6,_0x3b4a6e){_0x467fa6['atlasViewp'+'ort']['copy'](_0x3b4a6e);const _0x15c3cd=_0x467fa6['numShadowF'+'aces'];for(let _0x4ec82c=-0x36f*0x2+-0x2*0x1077+0xd44*0x3;_0x4ec82c<_0x15c3cd;_0x4ec82c++)if(_0x467fa6['castShadow'+'s']||_0x467fa6['_cookie']){if(Js['copy'](_0x3b4a6e),Cd['copy'](_0x3b4a6e),_0x467fa6['_type']===Re&&Js['add'](this['scissorVec']),_0x467fa6['_type']===Pe){const _0x454f5f=Js['z']/(-0x2*0x127f+0x188b+0xc76),_0x5c1c5c=this['cubeSlotsO'+'ffsets'][_0x4ec82c];Js['x']+=_0x454f5f*_0x5c1c5c['x'],Js['y']+=_0x454f5f*_0x5c1c5c['y'],Js['z']=_0x454f5f,Js['w']=_0x454f5f,Cd['copy'](Js);}if(_0x467fa6['castShadow'+'s']){const _0x5b3194=_0x467fa6['getRenderD'+'ata'](null,_0x4ec82c);_0x5b3194['shadowView'+'port']['copy'](Js),_0x5b3194['shadowScis'+'sor']['copy'](Cd);}}}['assignSlot'](_0x5dad0d,_0x46a7f5,_0x12e13a){_0x5dad0d['atlasViewp'+'ortAllocat'+'ed']=!(-0x1*-0x1589+-0x3d*0x61+0x194);const _0x581da0=this['slots'][_0x46a7f5];_0x581da0['lightId']=_0x5dad0d['id'],_0x581da0['used']=!(-0x19de+0x13c3*-0x1+0x2da1),_0x12e13a&&(_0x5dad0d['atlasSlotU'+'pdated']=!(-0x848+-0x196+0x9de),_0x5dad0d['atlasVersi'+'on']=this['version'],_0x5dad0d['atlasSlotI'+'ndex']=_0x46a7f5);}['update'](_0x5396ff,_0x58fcfa){this['shadowAtla'+'sResolutio'+'n']=_0x58fcfa['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x58fcfa['cookieAtla'+'sResolutio'+'n'];const _0x329c16=this['collectLig'+'hts'](_0x5396ff,_0x58fcfa);if(_0x329c16['length']>0x2093+-0xb*-0x57+-0xe*0x298){const _0x4371e7=this['slots'];for(let _0x5c6dc1=0x2*-0x955+-0x1*0x236+0x10*0x14e;_0x5c6dc1<_0x4371e7['length'];_0x5c6dc1++)_0x4371e7[_0x5c6dc1]['used']=!(-0x1307+-0x316*-0x5+-0x39a*-0x1);const _0x1f937b=Math['min'](_0x329c16['length'],_0x4371e7['length']);for(let _0x1840b2=-0x32*0x4f+-0x1461+0x23cf;_0x1840b2<_0x1f937b;_0x1840b2++){const _0x41f98c=_0x329c16[_0x1840b2];_0x41f98c['castShadow'+'s']&&(_0x41f98c['_shadowMap']=this['shadowAtla'+'s']);const _0x3adbfc=_0x4371e7[_0x41f98c['atlasSlotI'+'ndex']];if(_0x41f98c['atlasVersi'+'on']===this['version']&&_0x41f98c['id']===(_0x3adbfc==null?void(-0x5*-0x721+0x1e*-0x57+-0x1973):_0x3adbfc['lightId'])){const _0x1410d3=_0x4371e7[_0x41f98c['atlasSlotI'+'ndex']];_0x1410d3['size']===_0x4371e7[_0x1840b2]['size']&&!_0x1410d3['used']&&this['assignSlot'](_0x41f98c,_0x41f98c['atlasSlotI'+'ndex'],!(0xbde*-0x2+0x4*-0x26b+-0x3*-0xb23));}}let _0x3b5e0a=0x107d+0xa5e+0x271*-0xb;for(let _0x5a48b5=-0xab9+0x3*0x55+0x9ba;_0x5a48b5<_0x1f937b;_0x5a48b5++){for(;_0x3b5e0a<_0x4371e7['length']&&_0x4371e7[_0x3b5e0a]['used'];)_0x3b5e0a++;const _0x29b855=_0x329c16[_0x5a48b5];_0x29b855['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x29b855,_0x3b5e0a,!(-0x1*-0x1f04+0x9b*-0xf+-0x15ef));const _0x435684=_0x4371e7[_0x29b855['atlasSlotI'+'ndex']];this['setupSlot'](_0x29b855,_0x435684['rect']);}}this['updateUnif'+'orms']();}}class fM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x5e6311=>{_0x5e6311['forEach'](_0xc449b0=>{_0xc449b0['destroy']();});}),this['cache']['clear']();}['getKey'](_0x439bc5){const _0x892f14=_0x439bc5['_type']===Pe,_0x47116d=_0x439bc5['_shadowTyp'+'e'],_0x408031=_0x439bc5['_shadowRes'+'olution'];return _0x892f14+'-'+_0x47116d+'-'+_0x408031;}['get'](_0x2c1a13,_0x4c033f){const _0x2033ea=this['getKey'](_0x4c033f),_0x52ec2f=this['cache']['get'](_0x2033ea);if(_0x52ec2f&&_0x52ec2f['length'])return _0x52ec2f['pop']();const _0x2ec8ae=un['create'](_0x2c1a13,_0x4c033f);return _0x2ec8ae['cached']=!(0x5af+-0x1c6d+0x16be*0x1),_0x2ec8ae;}['add'](_0x24d822,_0x3f6ddc){const _0x433e45=this['getKey'](_0x24d822),_0x24a23c=this['cache']['get'](_0x433e45);_0x24a23c?_0x24a23c['push'](_0x3f6ddc):this['cache']['set'](_0x433e45,[_0x3f6ddc]);}}class pM extends ds{constructor(_0x37e5aa,_0x3e1ba4,_0xbc8201,_0x32022d,_0x2b49f4){super(_0x37e5aa),mn['setName'](this,this['name']+'-'+_0xbc8201['_node']['name']),this['requiresCu'+'bemaps']=!(-0x1*-0x829+0x110d+0x2cd*-0x9),this['shadowRend'+'erer']=_0x3e1ba4,this['light']=_0xbc8201,this['face']=_0x32022d,this['applyVsm']=_0x2b49f4,this['shadowCame'+'ra']=_0x3e1ba4['prepareFac'+'e'](_0xbc8201,null,_0x32022d),_0x3e1ba4['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0x1c*-0x29+0xee+-0x56a));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(-0x169f*-0x1+0x1916+-0x2fb4));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class mM{constructor(_0x4e6208,_0x39f021){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x4e6208,this['shadowRend'+'erer']=_0x39f021,this['device']=_0x4e6208['device']);}['cull'](_0x509ffe,_0x244655,_0x441ed7=null){const _0x5712d6=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x509ffe['visibleThi'+'sFrame']=!(0x1970+-0x119*-0x13+-0x2e4b*0x1),_0x5712d6||_0x509ffe['_shadowMap']||(_0x509ffe['_shadowMap']=un['create'](this['device'],_0x509ffe));const _0x3d81b4=_0x509ffe['_type'],_0xb027f3=_0x3d81b4===Re?-0x2259+-0xc6*-0x2d+0x4*-0x1d:-0xf89+0x17*-0xbd+0x208a;for(let _0x186ef0=0x2*0x7cf+0x40f+-0x13ad;_0x186ef0<_0xb027f3;_0x186ef0++){const _0x46d31b=_0x509ffe['getRenderD'+'ata'](null,_0x186ef0),_0x47b0d3=_0x46d31b['shadowCame'+'ra'];_0x47b0d3['nearClip']=_0x509ffe['attenuatio'+'nEnd']/(0x12d7+-0xcad*-0x3+0x1*-0x34f6),_0x47b0d3['farClip']=_0x509ffe['attenuatio'+'nEnd'];const _0x55bf87=_0x47b0d3['_node'],_0x5b4b76=_0x509ffe['_node'];if(_0x55bf87['setPositio'+'n'](_0x5b4b76['getPositio'+'n']()),_0x3d81b4===Re)_0x47b0d3['fov']=_0x509ffe['_outerCone'+'Angle']*(-0x13*-0x1ed+-0xa1f+0x2*-0xd3b),_0x55bf87['setRotatio'+'n'](_0x5b4b76['getRotatio'+'n']()),_0x55bf87['rotateLoca'+'l'](-(-0x208f*0x1+-0x2023+-0x1043*-0x4),-0xbb+-0x23e7+0x412*0x9,0x22a6+-0x1*0x1507+-0xd9f);else{if(_0x3d81b4===Pe){if(_0x5712d6){const _0x331a0c=(-0x1*-0x20e2+0x234a+0xda2*-0x5)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x509ffe['atlasViewp'+'ort']['z']/(0x1a64+0x11*0x113+-0x1652*0x2))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x47b0d3['fov']=Math['atan'](-0x4f4+-0xf0+0x5e5+_0x331a0c)*N['RAD_TO_DEG']*(0x23*-0x73+-0x1601+0x25bc);}else _0x47b0d3['fov']=-0x7*0x2ab+-0x6b2*-0x1+-0x11f*-0xb;}}this['renderer']['updateCame'+'raFrustum'](_0x47b0d3),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x244655,_0x509ffe,_0x46d31b['visibleCas'+'ters'],_0x47b0d3,_0x441ed7);}}['prepareLig'+'hts'](_0x3bf17f,_0x490711){let _0xcbd423;for(let _0x581171=-0x29*0x66+0x266c+-0x101*0x16;_0x581171<_0x490711['length'];_0x581171++){const _0x3b60ab=_0x490711[_0x581171];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x3b60ab)&&_0x3b60ab['atlasViewp'+'ortAllocat'+'ed']){_0x3bf17f['push'](_0x3b60ab);for(let _0x40beed=-0x1c9*0x13+0x6*-0x622+-0x46b7*-0x1;_0x40beed<_0x3b60ab['numShadowF'+'aces'];_0x40beed++)_0xcbd423=this['shadowRend'+'erer']['prepareFac'+'e'](_0x3b60ab,null,_0x40beed);}}return _0xcbd423;}['buildNonCl'+'usteredRen'+'derPasses'](_0x49e06e,_0x10a156){for(let _0x40e2d5=0x139*0x11+-0x1b6d+-0x4*-0x1a9;_0x40e2d5<_0x10a156['length'];_0x40e2d5++){const _0x2617a2=_0x10a156[_0x40e2d5];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x2617a2)){const _0x4c3ba2=_0x2617a2['_type']===Re,_0x43c987=_0x2617a2['numShadowF'+'aces'];for(let _0x3839b8=0x15af+-0x644+0x1*-0xf6b;_0x3839b8<_0x43c987;_0x3839b8++){const _0x19b76b=new pM(this['device'],this['shadowRend'+'erer'],_0x2617a2,_0x3839b8,_0x4c3ba2);_0x49e06e['addRenderP'+'ass'](_0x19b76b);}}}}}class _M extends ds{constructor(_0x37dab7,_0xafb582,_0x4b2d4d,_0x3a96b7,_0x231e8e){super(_0x37dab7),mn['setName'](this,this['name']+'-'+_0x4b2d4d['_node']['name']),this['shadowRend'+'erer']=_0xafb582,this['light']=_0x4b2d4d,this['camera']=_0x3a96b7,this['allCascade'+'sRendering']=_0x231e8e;}['execute'](){const {light:_0x7ea232,camera:_0x56fe2f,shadowRenderer:_0x1b1e4f,allCascadesRendering:_0x30fb3a}=this,_0x354467=_0x7ea232['numShadowF'+'aces'],_0x196ae8=_0x7ea232['shadowUpda'+'teOverride'+'s'];for(let _0x5b53f8=0xeb5*-0x2+0x14f3+-0xb*-0xc5;_0x5b53f8<_0x354467;_0x5b53f8++)(_0x196ae8==null?void(-0x51*0x28+0x1e57+-0x1*0x11af):_0x196ae8[_0x5b53f8])!==Ps&&_0x1b1e4f['renderFace'](_0x7ea232,_0x56fe2f,_0x5b53f8,!_0x30fb3a),(_0x196ae8==null?void(-0x13a0+-0x1b94+-0x27c*-0x13):_0x196ae8[_0x5b53f8])===cn&&(_0x196ae8[_0x5b53f8]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Ll=new _e(),ei=new T(),d_=new q(),Fe=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()],Pd={'min':0x0,'max':0x0};function gM(_0x4c0221,_0x591c2c,_0x4047ce){Fe[-0x25b+0x19*0x157+0x1*-0x1f24]['x']=Fe[0x1*-0x1568+0x1f3a+0x167*-0x7]['x']=Fe[-0x24b7+0x11e0+0x12d9]['x']=Fe[-0x82b+-0x1041+0x186f]['x']=_0x591c2c['x'],Fe[0x55*-0x6d+0x4*0x61+0x182*0x17]['y']=Fe[-0x2560+0x2b*-0x8b+0x17*0x2a4]['y']=Fe[-0x1413+-0x11c3+-0x167*-0x1b]['y']=Fe[-0x493*0x3+-0x5*-0x48d+-0x903]['y']=_0x591c2c['y'],Fe[-0x176d*0x1+-0x212b*-0x1+-0x9bc]['z']=Fe[-0x18ab*-0x1+-0x200e+0x1*0x766]['z']=Fe[-0x393*-0x5+-0x1a96+0x1*0x8bd]['z']=Fe[-0x432+0x19bb+-0x1*0x1582]['z']=_0x591c2c['z'],Fe[-0xc0b*0x1+0x2d2*-0xb+0x2b15]['x']=Fe[0x1253+-0x1*0x1e2f+0x1*0xbe1]['x']=Fe[0x6f2*0x2+-0x8f5+-0x1a3*0x3]['x']=Fe[-0x245d+-0x47*0x47+0x3815]['x']=_0x4047ce['x'],Fe[0xb27+-0x1526+0x9ff]['y']=Fe[0x3*-0xce3+0x3*0xc5+-0x2*-0x122e]['y']=Fe[-0xb*0xa7+-0x11db*0x1+0x190c]['y']=Fe[0x6fb+-0x216d+0x1a78]['y']=_0x4047ce['y'],Fe[0x19de+0xf07+0x28e5*-0x1]['z']=Fe[0x2141*-0x1+-0x1ead*-0x1+0x295]['z']=Fe[0x228f+-0x3fa+0x139*-0x19]['z']=Fe[0x1*-0x1b8e+0x95b+0x1238]['z']=_0x4047ce['z'];let _0x4903b2=-0xc*0x32d2bad7+-0x1f7e4e1*-0x95+0x1c852378f*0x2,_0xb0e925=-(0x132535e39+0x46b2cf799+0xec32a6b*-0x39);for(let _0xd49dc2=-0x96+0x123*0x8+-0xf2*0x9;_0xd49dc2<0x161d+0x1775+-0x2d8a;++_0xd49dc2){_0x4c0221['transformP'+'oint'](Fe[_0xd49dc2],Fe[_0xd49dc2]);const _0x3e9ef7=Fe[_0xd49dc2]['z'];_0x3e9ef7<_0x4903b2&&(_0x4903b2=_0x3e9ef7),_0x3e9ef7>_0xb0e925&&(_0xb0e925=_0x3e9ef7);}return Pd['min']=_0x4903b2,Pd['max']=_0xb0e925,Pd;}class yM{constructor(_0x5783a4,_0x28d7d4){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x5783a4,this['shadowRend'+'erer']=_0x28d7d4,this['device']=_0x5783a4['device']);}['cull'](_0x2e1854,_0xd20bb9,_0x3f80d4,_0x5f1436=null){_0x2e1854['visibleThi'+'sFrame']=!(-0x1b*0x9b+-0xb6*0x23+0x5*0x83f),_0x2e1854['_shadowMap']||(_0x2e1854['_shadowMap']=un['create'](this['device'],_0x2e1854));const _0x4257a7=_0x3f80d4['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x2e1854,_0x4257a7,Math['min'](_0x3f80d4['_farClip'],_0x2e1854['shadowDist'+'ance']));const _0x769f6f=_0x2e1854['shadowUpda'+'teOverride'+'s'];for(let _0x24d22f=0x12*-0x35+0x1840+0x1*-0x1486;_0x24d22f<_0x2e1854['numCascade'+'s']&&(_0x769f6f==null?void(0x2127+-0x19b*0x3+0x326*-0x9):_0x769f6f[_0x24d22f])!==Ps;_0x24d22f++){const _0x225134=_0x2e1854['getRenderD'+'ata'](_0x3f80d4,_0x24d22f),_0x5c0257=_0x225134['shadowCame'+'ra'];_0x5c0257['renderTarg'+'et']=_0x2e1854['_shadowMap']['renderTarg'+'ets'][-0x12e*0xa+-0xa05+0x15d1],_0x225134['shadowView'+'port']['copy'](_0x2e1854['cascades'][_0x24d22f]),_0x225134['shadowScis'+'sor']['copy'](_0x2e1854['cascades'][_0x24d22f]);const _0x2e9194=_0x5c0257['_node'],_0x345e7d=_0x2e1854['_node'];_0x2e9194['setPositio'+'n'](_0x345e7d['getPositio'+'n']()),_0x2e9194['setRotatio'+'n'](_0x345e7d['getRotatio'+'n']()),_0x2e9194['rotateLoca'+'l'](-(0x7*0x399+0x1*0x142+0x1*-0x1a17),-0xabe+0x19b9+-0xefb,-0x1c48+0x1f8c+-0x344);const _0x441e75=_0x24d22f===-0x2011+0x2692*0x1+0x681*-0x1?_0x4257a7:_0x2e1854['_shadowCas'+'cadeDistan'+'ces'][_0x24d22f-(0x105b*0x1+-0x1692+0x638)],_0x300c06=_0x2e1854['_shadowCas'+'cadeDistan'+'ces'][_0x24d22f],_0x1b8038=_0x3f80d4['getFrustum'+'Corners'](_0x441e75,_0x300c06);ei['set'](0x40f*-0x5+0x16c7*-0x1+0x25*0x12a,0x1*-0x19bf+-0x19da+0x3399,0x2504+-0x7ef+-0x1d15);const _0x35f8b0=_0x3f80d4['node']['getWorldTr'+'ansform']();for(let _0x3282d7=-0x1198*0x2+0x1582+-0xdae*-0x1;_0x3282d7<-0x1689+-0x2*0x1019+0x3*0x1241;_0x3282d7++)_0x35f8b0['transformP'+'oint'](_0x1b8038[_0x3282d7],_0x1b8038[_0x3282d7]),ei['add'](_0x1b8038[_0x3282d7]);ei['mulScalar']((0x924+-0x20d2+-0x7e5*-0x3)/(-0x110b+-0x1515+0x2628));let _0x58bbee=-0xc5c+0x7e5+0x7f*0x9;for(let _0x515cd7=0xb2+0x1bd+-0x26f;_0x515cd7<-0x6*-0x4a9+0x1e7*-0x1+-0x3*0x8ad;_0x515cd7++){const _0x42ac0d=_0x1b8038[_0x515cd7]['sub'](ei)['length']();_0x42ac0d>_0x58bbee&&(_0x58bbee=_0x42ac0d);}const _0x1f25e2=_0x2e9194['right'],_0x21a3ec=_0x2e9194['up'],_0x4034a8=_0x2e9194['forward'],_0x35cd7f=(0xd10+0x1*-0x3c1+0x1*-0x94f+0.25)*_0x2e1854['_shadowRes'+'olution']/_0x58bbee,_0x2622d5=Math['ceil'](ei['dot'](_0x21a3ec)*_0x35cd7f)/_0x35cd7f,_0x2ac6b2=Math['ceil'](ei['dot'](_0x1f25e2)*_0x35cd7f)/_0x35cd7f,_0x2ca408=_0x21a3ec['mulScalar'](_0x2622d5),_0x249e82=_0x1f25e2['mulScalar'](_0x2ac6b2),_0x22fe94=ei['dot'](_0x4034a8),_0x370fc9=_0x4034a8['mulScalar'](_0x22fe94);ei['add2'](_0x2ca408,_0x249e82)['add'](_0x370fc9),_0x2e9194['setPositio'+'n'](ei),_0x2e9194['translateL'+'ocal'](-0x1126+0x1b3c*-0x1+0x2c62,-0x2673+-0x200b*0x1+0x509*0xe,-0x17957d+-0x1399a0+0x3a715d),_0x5c0257['nearClip']=-0x383*0x7+0x360+-0x1*-0x1535+0.01,_0x5c0257['farClip']=0x1*-0x1237f7+-0x286*0x125f+-0x3*-0x1fb2bb,_0x5c0257['orthoHeigh'+'t']=_0x58bbee,this['renderer']['updateCame'+'raFrustum'](_0x5c0257),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0xd20bb9,_0x2e1854,_0x225134['visibleCas'+'ters'],_0x5c0257,_0x5f1436);let _0x2756dd=!(-0x893*-0x1+0x12ab+-0xb*0x27a);const _0x32a268=_0x225134['visibleCas'+'ters'];for(let _0x50d152=-0x9c5+-0x1*-0x1532+-0x5*0x249;_0x50d152<_0x32a268['length'];_0x50d152++){const _0x7d7819=_0x32a268[_0x50d152];_0x2756dd?(_0x2756dd=!(0xdc9+0x2*0x79c+0xe8*-0x20),Ll['copy'](_0x7d7819['aabb'])):Ll['add'](_0x7d7819['aabb']);}d_['copy'](_0x2e9194['getWorldTr'+'ansform']())['invert']();const _0x1f6775=gM(d_,Ll['getMin'](),Ll['getMax']());_0x2e9194['translateL'+'ocal'](-0x3*0x54d+0x9*0x15+-0xf2a*-0x1,0x1017+0x761+0xbbc*-0x2,_0x1f6775['max']+(0x1f44+0x105*0x1d+0x1d*-0x219+0.1)),_0x5c0257['farClip']=_0x1f6775['max']-_0x1f6775['min']+(0x2507*-0x1+-0x12df*0x1+0xf*0x3ba+0.2),_0x225134['projection'+'Compensati'+'on']=_0x58bbee;}}['generateSp'+'litDistanc'+'es'](_0x165426,_0x4afc8c,_0x283175){_0x165426['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x283175);for(let _0x1856f0=-0x1b*0xdd+0xd6e+-0x5*-0x1fa;_0x1856f0<_0x165426['numCascade'+'s'];_0x1856f0++){const _0x29d129=_0x1856f0/_0x165426['numCascade'+'s'],_0x33b91f=_0x4afc8c+(_0x283175-_0x4afc8c)*_0x29d129,_0xdd8e92=_0x4afc8c*(_0x283175/_0x4afc8c)**_0x29d129,_0x43af4c=N['lerp'](_0x33b91f,_0xdd8e92,_0x165426['cascadeDis'+'tribution']);_0x165426['_shadowCas'+'cadeDistan'+'ces'][_0x1856f0-(-0x28*0x95+-0x239b*-0x1+-0x1*0xc52)]=_0x43af4c;}}['getLightRe'+'nderPass'](_0x549d20,_0x56c6de){v['assert'](_0x549d20&&_0x549d20['_type']===oe);let _0x554be6=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x549d20)){const _0x359db1=_0x549d20['numShadowF'+'aces'],_0x151776=_0x549d20['shadowUpda'+'teOverride'+'s'];let _0x2553c4=!(0x1f44+-0x8db+-0x1669),_0x5f20ef;for(let _0x5a66fc=-0x1788+-0x1652+0x2*0x16ed;_0x5a66fc<_0x359db1;_0x5a66fc++)(_0x151776==null?void(-0x1*0x1147+-0xa29+-0x1b70*-0x1):_0x151776[_0x5a66fc])===Ps&&(_0x2553c4=!(0x2b*-0x90+-0x12f+0x38*0x74)),_0x5f20ef=this['shadowRend'+'erer']['prepareFac'+'e'](_0x549d20,_0x56c6de,_0x5a66fc);_0x554be6=new _M(this['device'],this['shadowRend'+'erer'],_0x549d20,_0x56c6de,_0x2553c4),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x554be6,_0x5f20ef,_0x2553c4);}return _0x554be6;}}const Rd=new Set(),u_=new q(),f_=new q(),vr=new Float32Array(0x1eb+0x4f0+-0x6d9*0x1),Xa=new Q(0x26d5*0x1+-0x5b*0x53+-0x953,-0xb*0xb0+0x597+0x1fa,-0x1e43+-0x1*-0x230c+0x7*-0xaf,-0x1f2c+-0x140c+0x3338),p_=new q();function xM(_0x56ebfd,_0x5e0b23){return Math['exp'](-(_0x56ebfd*_0x56ebfd)/((0x2108+-0x1*-0x22d3+-0x43d9)*_0x5e0b23*_0x5e0b23));}function SM(_0x3cf055){const _0x294e9e=(_0x3cf055-(0x1*-0xd57+-0xec0*0x1+-0x1f*-0xe8))/(-0x399*0x9+-0xa*-0x15b+0x12d9),_0x4ccfcf=(_0x3cf055-(0x150d+-0x1ea+0x3e*-0x4f))*(-0x18a2*-0x1+-0xba2+-0xd00+0.5),_0x25329d=new Array(_0x3cf055);let _0x1bafb3=-0x9de+-0x186b+-0x43*-0x83;for(let _0x2c4afe=0xf35+-0x2dc+-0xc59;_0x2c4afe<_0x3cf055;++_0x2c4afe)_0x25329d[_0x2c4afe]=xM(_0x2c4afe-_0x4ccfcf,_0x294e9e),_0x1bafb3+=_0x25329d[_0x2c4afe];for(let _0x4e7084=0x1b3*0x3+-0x137+-0x3e2;_0x4e7084<_0x3cf055;++_0x4e7084)_0x25329d[_0x4e7084]/=_0x1bafb3;return _0x25329d;}class I0{constructor(_0x355024,_0x1f9b60){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x355024['device'],this['renderer']=_0x355024,this['lightTextu'+'reAtlas']=_0x1f9b60);const _0x39f8e1=this['device']['scope'];this['sourceId']=_0x39f8e1['resolve']('source'),this['pixelOffse'+'tId']=_0x39f8e1['resolve']('pixelOffse'+'t'),this['weightId']=_0x39f8e1['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[X['blurVSMPS'],'#define\x20GA'+'USS\x0a'+X['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x39f8e1['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new _t(),this['blendState'+'NoWrite']=new _t(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(-0xf38+-0x1db3+0x1676*0x2),!(-0xf2e+-0x214c+-0x1*-0x307b),!(0x1*-0x1d4b+-0x8c*0xd+-0x4*-0x91a),!(-0x15*-0x139+0x400+-0x1dac));}static['createShad'+'owCamera'](_0x1d9708,_0x16938e,_0x515ab2){const _0x487f85=Ma['create']('ShadowCame'+'ra',_0x16938e,_0x515ab2),_0x4c5860=ir['get'](_0x1d9708);v['assert'](_0x4c5860);const _0x41ae15=(_0x4c5860==null?void(-0x2f9*-0x3+-0xb97*-0x1+0x15e*-0xf):_0x4c5860['vsm'])??!(0x3f+-0x4*0x2c6+0xada),_0x23f6e2=(_0x4c5860==null?void(0x1*-0xbb9+-0x3*0x17b+-0x815*-0x2):_0x4c5860['pcf'])??!(0x1dce+-0x12fb+0x22a*-0x5);return _0x41ae15?_0x487f85['clearColor']=new Y(-0x1*0xb7b+0x1575+-0x9fa,0xb*-0x227+0x1*-0x8e9+-0x2b*-0xc2,-0x23*0xbc+-0xfd9*-0x2+-0x5fe*0x1,-0x135a+0x32b+-0x102f*-0x1):_0x487f85['clearColor']=new Y(-0x11c5*0x2+0x2569+-0x2*0xef,0x1*0x12e+0x1db7+-0x1ee4,-0x628+-0x1303+-0x2*-0xc96,0x1169+0x1918+-0x2a80),_0x487f85['clearDepth'+'Buffer']=!(0x3*0x317+0x21d9+0x2b1e*-0x1),_0x487f85['clearStenc'+'ilBuffer']=!(0x35*-0x1f+-0x181*-0xa+-0x89e),_0x487f85['clearColor'+'Buffer']=!_0x23f6e2,_0x487f85;}['_cullShado'+'wCastersIn'+'ternal'](_0x76760b,_0x34ce4a,_0x29889b){const _0x3a8444=_0x76760b['length'];for(let _0x20605c=0xa98+-0x890+-0x208;_0x20605c<_0x3a8444;_0x20605c++){const _0x7ca0ed=_0x76760b[_0x20605c];_0x7ca0ed['castShadow']&&(!_0x7ca0ed['cull']||_0x7ca0ed['_isVisible'](_0x29889b))&&(_0x7ca0ed['visibleThi'+'sFrame']=!(-0x54d*-0x5+0x2e*-0xd4+0x45*0x2b),_0x34ce4a['push'](_0x7ca0ed));}}['cullShadow'+'Casters'](_0x4692fa,_0x2849ab,_0x48d017,_0x3098f2,_0x589cbb){if(_0x48d017['length']=-0x25e5+0x3ab*-0x4+0x1*0x3491,_0x589cbb)this['_cullShado'+'wCastersIn'+'ternal'](_0x589cbb,_0x48d017,_0x3098f2);else{const _0x11e630=_0x4692fa['layerList'],_0xc60ec9=_0x11e630['length'];for(let _0x2a4499=0x72*0x2+-0xe*-0xd6+-0xc98;_0x2a4499<_0xc60ec9;_0x2a4499++){const _0xab78cf=_0x11e630[_0x2a4499];_0xab78cf['_lightsSet']['has'](_0x2849ab)&&(Rd['has'](_0xab78cf)||(Rd['add'](_0xab78cf),this['_cullShado'+'wCastersIn'+'ternal'](_0xab78cf['shadowCast'+'ers'],_0x48d017,_0x3098f2)));}Rd['clear']();}_0x48d017['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x4ca187,_0x4f1551){const _0x12d382=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x4f1551['_isPcf']:_0x4f1551['_isPcf']&&_0x4f1551['_type']!==Pe;_0x4ca187['setBlendSt'+'ate'](_0x12d382?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x4ca187['setDepthSt'+'ate'](_0x4f1551['shadowDept'+'hState']),_0x4ca187['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x1ec556,_0x344509,_0xe99319,_0x4356f9){const _0x49e62d=_0x344509['_node'];_0x1ec556['_type']!==oe&&(this['renderer']['dispatchVi'+'ewPos'](_0x49e62d['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x1ec556['attenuatio'+'nEnd'])),u_['setTRS'](_0x49e62d['getPositio'+'n'](),_0x49e62d['getRotatio'+'n'](),T['ONE'])['invert'](),f_['mul2'](_0x344509['projection'+'Matrix'],u_);const _0x382a05=_0xe99319['shadowView'+'port'];_0x344509['rect']=_0x382a05,_0x344509['scissorRec'+'t']=_0xe99319['shadowScis'+'sor'],p_['setViewpor'+'t'](_0x382a05['x'],_0x382a05['y'],_0x382a05['z'],_0x382a05['w']),_0xe99319['shadowMatr'+'ix']['mul2'](p_,f_),_0x1ec556['_type']===oe&&_0x1ec556['_shadowMat'+'rixPalette']['set'](_0xe99319['shadowMatr'+'ix']['data'],_0x4356f9*(0x1*-0x19f6+-0x31f+-0x1*-0x1d25));}['getShadowP'+'ass'](_0x2a7886){var _0x258ec2;const _0x6c0303=_0x2a7886['_type'],_0x2ff283=_0x2a7886['_shadowTyp'+'e'];let _0x520a23=(_0x258ec2=this['shadowPass'+'Cache'][_0x6c0303])==null?void(0x56*-0x3+0x82e*-0x2+-0x75*-0x26):_0x258ec2[_0x2ff283];if(!_0x520a23){const _0x30bd97='ShadowPass'+'_'+_0x6c0303+'_'+_0x2ff283;_0x520a23=Ks['get'](this['device'])['allocate'](_0x30bd97,{'isShadow':!(0xac*-0x9+-0x26ef*-0x1+0x20e3*-0x1),'lightType':_0x6c0303,'shadowType':_0x2ff283}),this['shadowPass'+'Cache'][_0x6c0303]||(this['shadowPass'+'Cache'][_0x6c0303]=[]),this['shadowPass'+'Cache'][_0x6c0303][_0x2ff283]=_0x520a23;}return _0x520a23['index'];}['submitCast'+'ers'](_0x271f9b,_0x542682,_0x2a264e){const _0x1b51ce=this['device'],_0x1b8a2f=this['renderer'],_0x301486=_0x1b8a2f['scene'],_0x2242ac=-0x1bb2+-0xcff+0x28b2<<Rp,_0x52a447=this['getShadowP'+'ass'](_0x542682),_0x1b049b=_0x2a264e['shaderPara'+'ms'],_0x4b0f59=_0x2a264e['renderTarg'+'et']['flipY']?-(0x1*-0x114b+-0x15*0x1a5+-0x1147*-0x3):0x1*-0x2bf+-0x257*0x6+0x10ca,_0x21218a=_0x271f9b['length'];for(let _0x48e3df=-0x338*0x2+-0xe1*0x1d+0x1fed;_0x48e3df<_0x21218a;_0x48e3df++){const _0x3c2939=_0x271f9b[_0x48e3df],_0x492fea=_0x3c2939['mesh'];_0x3c2939['ensureMate'+'rial'](_0x1b51ce);const _0x25734c=_0x3c2939['material'];G['pushGpuMar'+'ker'](_0x1b51ce,'Node:\x20'+_0x3c2939['node']['name']+(',\x20Material'+':\x20')+_0x25734c['name']),_0x1b8a2f['setBaseCon'+'stants'](_0x1b51ce,_0x25734c),_0x1b8a2f['setSkinnin'+'g'](_0x1b51ce,_0x3c2939),_0x25734c['dirty']&&(_0x25734c['updateUnif'+'orms'](_0x1b51ce,_0x301486),_0x25734c['dirty']=!(-0x125+0xbf3*-0x1+0x7*0x1df)),_0x1b8a2f['setupCullM'+'ode'](!(0xaea*-0x3+-0x1942+0x3a00),_0x4b0f59,_0x3c2939),_0x25734c['setParamet'+'ers'](_0x1b51ce),_0x3c2939['setParamet'+'ers'](_0x1b51ce,_0x2242ac);const _0x26e0db=_0x3c2939['getShaderI'+'nstance'](_0x52a447,0x7*-0x1de+-0x255*0x5+0x18bb,_0x301486,_0x1b049b,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x543b53=_0x26e0db['shader'];v['assert'](_0x543b53,'no\x20shader\x20'+'for\x20pass\x20'+_0x52a447,_0x25734c),_0x3c2939['_key'][ku]=_0x543b53['id'],_0x1b51ce['setShader'](_0x543b53),_0x1b8a2f['setVertexB'+'uffers'](_0x1b51ce,_0x492fea),_0x1b8a2f['setMorphin'+'g'](_0x1b51ce,_0x3c2939['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x26e0db,_0x3c2939);const _0x155b5b=_0x3c2939['renderStyl'+'e'];_0x1b51ce['setIndexBu'+'ffer'](_0x492fea['indexBuffe'+'r'][_0x155b5b]),_0x1b8a2f['drawInstan'+'ce'](_0x1b51ce,_0x3c2939,_0x492fea,_0x155b5b),_0x1b8a2f['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x1b51ce);}}['needsShado'+'wRendering'](_0x39d465){const _0x24fcf1=_0x39d465['enabled']&&_0x39d465['castShadow'+'s']&&_0x39d465['shadowUpda'+'teMode']!==Ps&&_0x39d465['visibleThi'+'sFrame'];return _0x39d465['shadowUpda'+'teMode']===cn&&(_0x39d465['shadowUpda'+'teMode']=Ps),_0x24fcf1&&(this['renderer']['_shadowMap'+'Updates']+=_0x39d465['numShadowF'+'aces']),_0x24fcf1;}['getLightRe'+'nderData'](_0x4ef272,_0x3a60b6,_0x43e2a5){return _0x4ef272['getRenderD'+'ata'](_0x4ef272['_type']===oe?_0x3a60b6:null,_0x43e2a5);}['setupRende'+'rPass'](_0x5b800a,_0x4a4190,_0x1e5559){const _0x590610=_0x4a4190['renderTarg'+'et'];_0x5b800a['init'](_0x590610),_0x5b800a['depthStenc'+'ilOps']['clearDepth'+'Value']=0x5b1*0x2+0x1*0xc73+0x4c4*-0x5,_0x5b800a['depthStenc'+'ilOps']['clearDepth']=_0x1e5559,_0x590610['depthBuffe'+'r']?_0x5b800a['depthStenc'+'ilOps']['storeDepth']=!(-0x13*0xa9+-0x925*0x4+0x311f):(_0x5b800a['colorOps']['clearValue']['copy'](_0x4a4190['clearColor']),_0x5b800a['colorOps']['clear']=_0x1e5559,_0x5b800a['depthStenc'+'ilOps']['storeDepth']=!(-0x230d+0x1169*-0x2+0x45e0)),_0x5b800a['requiresCu'+'bemaps']=!(-0xe16*0x2+0x3*0x184+0x17a1);}['prepareFac'+'e'](_0x163e65,_0x47270d,_0x3bc0da){const _0x4fe2a8=_0x163e65['_type'],_0x2d49fa=this['getLightRe'+'nderData'](_0x163e65,_0x47270d,_0x3bc0da)['shadowCame'+'ra'],_0x1639fd=_0x4fe2a8===oe?0x338+0x219b+-0x24d3:_0x3bc0da;return _0x2d49fa['renderTarg'+'et']=_0x163e65['_shadowMap']['renderTarg'+'ets'][_0x1639fd],_0x2d49fa;}['renderFace'](_0x49bed8,_0x510b61,_0x2a5d2b,_0x39c633,_0x131123=!(-0xe68+0x13ef+-0x587*0x1)){const _0x554cbe=this['device'],_0x3429e7=ne();G['pushGpuMar'+'ker'](_0x554cbe,'SHADOW\x20'+_0x49bed8['_node']['name']+'\x20FACE\x20'+_0x2a5d2b);const _0x18617b=this['getLightRe'+'nderData'](_0x49bed8,_0x510b61,_0x2a5d2b),_0x39f0a1=_0x18617b['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x49bed8,_0x39f0a1,_0x18617b,_0x2a5d2b);const _0x300948=_0x39f0a1['renderTarg'+'et'],_0x332003=this['renderer'];_0x332003['setCameraU'+'niforms'](_0x39f0a1,_0x300948),_0x554cbe['supportsUn'+'iformBuffe'+'rs']&&_0x332003['setupViewU'+'niformBuff'+'ers'](_0x18617b['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],0x62f+0x1dc7+-0x23f5),_0x131123?(_0x332003['setupViewp'+'ort'](_0x39f0a1,_0x300948),_0x39c633&&_0x332003['clear'](_0x39f0a1)):_0x332003['clearView'](_0x39f0a1,_0x300948,!(0x1df9+-0x244d+0x654),!(0x1afe*0x1+0x1523+-0x3020)),this['setupRende'+'rState'](_0x554cbe,_0x49bed8),this['submitCast'+'ers'](_0x18617b['visibleCas'+'ters'],_0x49bed8,_0x39f0a1),G['popGpuMark'+'er'](_0x554cbe),_0x332003['_shadowMap'+'Time']+=ne()-_0x3429e7;}['render'](_0xbdb603,_0xfa972b,_0x310447=!(-0x9b+-0x1516+0x15b1)){if(this['needsShado'+'wRendering'](_0xbdb603)){const _0x466525=_0xbdb603['numShadowF'+'aces'];for(let _0x5eee6e=-0x422+0x1*0x9f9+-0x5d7;_0x5eee6e<_0x466525;_0x5eee6e++)this['prepareFac'+'e'](_0xbdb603,_0xfa972b,_0x5eee6e),this['renderFace'](_0xbdb603,_0xfa972b,_0x5eee6e,!(0x4cb*0x7+0x26c4*0x1+-0xbb*0x63),_0x310447);this['renderVsm'](_0xbdb603,_0xfa972b);}}['renderVsm'](_0x9aa117,_0x3ba228){_0x9aa117['_isVsm']&&_0x9aa117['_vsmBlurSi'+'ze']>0x1090+0xf*0x17d+-0x26e2*0x1&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x9aa117['_type']===oe)&&this['applyVsmBl'+'ur'](_0x9aa117,_0x3ba228);}['getVsmBlur'+'Shader'](_0x13f372,_0x67d503){const _0x4b9ebd=this['blurVsmSha'+'der'];let _0x3102de=_0x4b9ebd[_0x13f372][_0x67d503];if(!_0x3102de){this['blurVsmWei'+'ghts'][_0x67d503]=SM(_0x67d503);const _0x314fd7=X['fullscreen'+'QuadVS'];let _0x3e87ed='#define\x20SA'+'MPLES\x20'+_0x67d503+'\x0a';_0x3e87ed+=this['blurVsmSha'+'derCode'][_0x13f372];const _0x37dd53='blurVsm'+_0x13f372+_0x67d503;_0x3102de=Is(this['device'],_0x314fd7,_0x3e87ed,_0x37dd53),_0x4b9ebd[_0x13f372][_0x67d503]=_0x3102de;}return _0x3102de;}['applyVsmBl'+'ur'](_0x8aeffe,_0x4f9cdf){const _0x27b7a4=this['device'];G['pushGpuMar'+'ker'](_0x27b7a4,'VSM\x20'+_0x8aeffe['_node']['name']),_0x27b7a4['setBlendSt'+'ate'](_t['NOBLEND']);const _0x15bba1=_0x8aeffe['getRenderD'+'ata'](_0x8aeffe['_type']===oe?_0x4f9cdf:null,0x1853+-0x1*-0x20ab+0x38fe*-0x1)['shadowCame'+'ra']['renderTarg'+'et'],_0x211776=this['renderer']['shadowMapC'+'ache']['get'](_0x27b7a4,_0x8aeffe),_0x103c8e=_0x211776['renderTarg'+'ets'][0xa96+-0xad*-0xa+-0x1158],_0x386ab8=_0x8aeffe['vsmBlurMod'+'e'],_0x326702=_0x8aeffe['_vsmBlurSi'+'ze'],_0x2fef2c=this['getVsmBlur'+'Shader'](_0x386ab8,_0x326702);Xa['z']=_0x8aeffe['_shadowRes'+'olution']-(-0x1*-0x277+0x123*0x13+-0x180e),Xa['w']=Xa['z'],this['sourceId']['setValue'](_0x15bba1['colorBuffe'+'r']),vr[-0x298+-0x643+0x8db]=(-0x2418+0x2361*0x1+0xb8)/_0x8aeffe['_shadowRes'+'olution'],vr[0x2196+0x97e+0x1*-0x2b13]=-0x166c+0x15bf*0x1+0xad,this['pixelOffse'+'tId']['setValue'](vr),_0x386ab8===Tp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x326702]),dn(_0x27b7a4,_0x103c8e,_0x2fef2c,null,Xa),this['sourceId']['setValue'](_0x103c8e['colorBuffe'+'r']),vr[0x2*0x6a7+-0x1*-0x1f7+-0xf44]=vr[0xc*-0x12f+-0xfbd+0x69*0x49],vr[-0x45d*-0x5+-0x25ef+-0x80f*-0x2]=-0x2*-0xe0f+-0xe22+-0xdfc,this['pixelOffse'+'tId']['setValue'](vr),dn(_0x27b7a4,_0x15bba1,_0x2fef2c,null,Xa),this['renderer']['shadowMapC'+'ache']['add'](_0x8aeffe,_0x211776),G['popGpuMark'+'er'](_0x27b7a4);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Qy(this['device'],[new gt('matrix_vie'+'wProjectio'+'n',Sa)]),this['viewBindGr'+'oupFormat']=new jy(this['device'],[new pp(fp,up|li)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const Fl=[];class vM{constructor(_0x4fcffb){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x4fcffb;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x523c31=>{_0x523c31['destroy']();}),this['_allocated']['length']=-0x981+-0x10f+0xa90;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x14eb83=new zu(this['device']);_0x14eb83['name']='ClusterEmp'+'ty',_0x14eb83['update']([]),this['_empty']=_0x14eb83;}return this['_empty'];}['assign'](_0x4894b1){const _0x1c27c1=this['empty'];Fl['push'](...this['_allocated']),this['_allocated']['length']=0x136b+0x2*-0xefe+0x1*0xa91,this['_clusters']['clear']();const _0x4c5c4a=_0x4894b1['length'];for(let _0x3d9f63=0x1*-0x1eb+-0x611*-0x2+0x5*-0x20b;_0x3d9f63<_0x4c5c4a;_0x3d9f63++){const _0x2b95a7=_0x4894b1[_0x3d9f63]['renderActi'+'ons'];if(_0x2b95a7){const _0x28ced7=_0x2b95a7['length'];for(let _0x20e314=-0x69*0x35+0x1982+-0x3c5;_0x20e314<_0x28ced7;_0x20e314++){const _0x4a15d9=_0x2b95a7[_0x20e314];_0x4a15d9['lightClust'+'ers']=null;const _0x33fdf7=_0x4a15d9['layer'];if(_0x33fdf7['hasCluster'+'edLights']&&_0x33fdf7['meshInstan'+'ces']['length']){const _0x502c43=_0x33fdf7['getLightId'+'Hash'](),_0xae4f9b=this['_clusters']['get'](_0x502c43);let _0x188354=_0xae4f9b==null?void(0x16f4+-0x31f*0xb+-0x3cb*-0x3):_0xae4f9b['lightClust'+'ers'];_0x188354||(_0x188354=Fl['pop']()??new zu(this['device']),mn['setName'](_0x188354,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x188354),this['_clusters']['set'](_0x502c43,_0x4a15d9)),_0x4a15d9['lightClust'+'ers']=_0x188354;}_0x4a15d9['lightClust'+'ers']||(_0x4a15d9['lightClust'+'ers']=_0x1c27c1);}}}Fl['forEach'](_0x95cc6f=>_0x95cc6f['destroy']()),Fl['length']=-0x25fc+-0x1df4+0x43f0;}['update'](_0x3aee03,_0x2618d9){this['assign'](_0x3aee03),this['_clusters']['forEach'](_0x15b918=>{const _0x335b8f=_0x15b918['layer'];_0x15b918['lightClust'+'ers']['update'](_0x335b8f['clusteredL'+'ightsSet'],_0x2618d9);});}}const m_='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',bM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Gi=new Q(),Id=[];class kp extends ds{constructor(_0x2a66c6,_0x394f4d){super(_0x2a66c6),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x394f4d,this['requiresCu'+'bemaps']=!(-0x2*-0xe57+0x51*0x23+0x2*-0x13e0),this['blitTextur'+'eId']=_0x2a66c6['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x2a66c6['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x3f6682,_0x2981ad;(_0x3f6682=this['_quadRende'+'rer2D'])==null||_0x3f6682['destroy'](),this['_quadRende'+'rer2D']=null,(_0x2981ad=this['_quadRende'+'rerCube'])==null||_0x2981ad['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x138aaa,_0x41b48d){v['assert'](_0x138aaa);const _0x18df40=new kp(_0x138aaa['device'],_0x41b48d);return _0x18df40['init'](_0x138aaa),_0x18df40['colorOps']['clear']=!(-0x5d3+0x19f6*0x1+0xa11*-0x2),_0x18df40['depthStenc'+'ilOps']['clearDepth']=!(-0x25*0xb3+-0x4f*-0x1d+0x1*0x10ed),_0x18df40;}['update'](_0x129bdc){const _0x764b3c=this['_filteredL'+'ights'];this['filter'](_0x129bdc,_0x764b3c),this['executeEna'+'bled']=_0x764b3c['length']>0x379+0xf76+-0x83*0x25;}['filter'](_0xd466,_0x36f91e){for(let _0x5810e7=0x1fe9*0x1+-0x103e+0x15*-0xbf;_0x5810e7<_0xd466['length'];_0x5810e7++){const _0x4cd57f=_0xd466[_0x5810e7];_0x4cd57f['_type']!==oe&&_0x4cd57f['atlasViewp'+'ortAllocat'+'ed']&&_0x4cd57f['atlasSlotU'+'pdated']&&_0x4cd57f['enabled']&&_0x4cd57f['cookie']&&_0x4cd57f['visibleThi'+'sFrame']&&_0x36f91e['push'](_0x4cd57f);}}['initInvVie'+'wProjMatri'+'ces'](){if(!Id['length'])for(let _0x4bf213=0x1388+0x24cd*0x1+-0x3855;_0x4bf213<-0x2258+-0x50*-0x50+0x16*0x6d;_0x4bf213++){const _0x4bb53c=Ma['create'](null,Pe,_0x4bf213),_0x3cae47=_0x4bb53c['projection'+'Matrix'],_0x4651ef=_0x4bb53c['node']['getLocalTr'+'ansform']()['clone']()['invert']();Id[_0x4bf213]=new q()['mul2'](_0x3cae47,_0x4651ef)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x5ac98f=Is(this['device'],m_,bM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Nu(_0x5ac98f);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x2f7ed7=Is(this['device'],m_,wM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Nu(_0x2f7ed7);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x5b7461=this['device'];_0x5b7461['setBlendSt'+'ate'](_t['NOBLEND']),_0x5b7461['setCullMod'+'e'](mt),_0x5b7461['setDepthSt'+'ate'](as['NODEPTH']),_0x5b7461['setStencil'+'State']();const _0x4c8f34=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x444cf5=this['_cubeSlots'+'Offsets'],_0x2aafc1=this['_filteredL'+'ights'];for(let _0x4e74b3=-0x44*0x53+-0x1020+0x262c;_0x4e74b3<_0x2aafc1['length'];_0x4e74b3++){const _0x13726b=_0x2aafc1[_0x4e74b3];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x13726b['_node']['name']);const _0x46bf9d=_0x13726b['numShadowF'+'aces'],_0x54318e=_0x46bf9d>-0x3a*0x9f+0x1886*0x1+-0x5*-0x24d?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x46bf9d>-0x1a96+-0x1*0x2a8+-0x1d3f*-0x1&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x13726b['cookie']);for(let _0x3e326b=0x1a2+-0x16*0x4e+-0x512*-0x1;_0x3e326b<_0x46bf9d;_0x3e326b++){if(Gi['copy'](_0x13726b['atlasViewp'+'ort']),_0x46bf9d>0xfe6+-0x5*0x563+0x13a*0x9){const _0x3907f3=Gi['z']/(-0x7cd*0x3+0x6af+-0x1*-0x10bb),_0x26e340=_0x444cf5[_0x3e326b];Gi['x']+=_0x3907f3*_0x26e340['x'],Gi['y']+=_0x3907f3*_0x26e340['y'],Gi['z']=_0x3907f3,Gi['w']=_0x3907f3,this['invViewPro'+'jId']['setValue'](Id[_0x3e326b]['data']);}Gi['mulScalar'](_0x4c8f34),_0x54318e['render'](Gi);}G['popGpuMark'+'er'](_0x5b7461);}_0x2aafc1['length']=-0xa3d*-0x3+0x19*-0x4b+-0x1764;}}class TM extends ds{constructor(_0x244425,_0x3a446e,_0x2a9c00){super(_0x244425),this['requiresCu'+'bemaps']=!(-0x2*0xf70+-0x2*0x4f+0x1f7f),this['shadowRend'+'erer']=_0x3a446e,this['shadowRend'+'ererLocal']=_0x2a9c00;}['update'](_0x787db){const _0x3e8d50=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x564415=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x3e8d50,_0x787db),_0x1131b2=_0x3e8d50['length'];this['enabled']=_0x1131b2>0x174e*-0x1+-0x95c+0x20aa,_0x1131b2&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x564415,!(-0xaa0+0x6bd+0x3e4));}['execute'](){const _0x146d77=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x537cde=_0x146d77['length'];for(let _0x58551a=0xb90*0x2+0x20f0+0x2*-0x1c08;_0x58551a<_0x537cde;_0x58551a++){const _0x117d97=_0x146d77[_0x58551a];for(let _0x1c2db6=-0x22ae+0x168e*-0x1+0x4a*0xc6;_0x1c2db6<_0x117d97['numShadowF'+'aces'];_0x1c2db6++)this['shadowRend'+'erer']['renderFace'](_0x117d97,null,_0x1c2db6,!(0x100*-0x14+-0xd20+0x1*0x2120));}_0x146d77['length']=-0x3fd*0x7+0x23cc+0x7e1*-0x1;}}class AM extends ds{constructor(_0x16ace8,_0x262fbc,_0x3bdbf2,_0x51d200,_0x60dbd3){super(_0x16ace8),this['renderer']=_0x262fbc,this['frameGraph']=null,this['cookiesRen'+'derPass']=kp['create'](_0x60dbd3['cookieRend'+'erTarget'],_0x60dbd3['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new TM(_0x16ace8,_0x3bdbf2,_0x51d200),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x50b349,_0x42605,_0x3cf529,_0x1c8a81,_0x319ca0){this['frameGraph']=_0x50b349,this['cookiesRen'+'derPass']['enabled']=_0x3cf529,_0x3cf529&&this['cookiesRen'+'derPass']['update'](_0x1c8a81),this['shadowRend'+'erPass']['enabled']=_0x42605,_0x42605&&this['shadowRend'+'erPass']['update'](_0x319ca0);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x567a3b=ne(),{renderer:_0x4c42e6}=this,{scene:_0x3f8ccf}=_0x4c42e6;_0x4c42e6['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x3f8ccf['lighting']),_0x4c42e6['_lightClus'+'tersTime']+=ne()-_0x567a3b,_0x4c42e6['_lightClus'+'ters']=_0x4c42e6['worldClust'+'ersAllocat'+'or']['count'];}}let Dd=-0x101c+-0x3d0+0x13ec;const Hi=new q(),$i=new q(),Mn=new q(),__=new js(),Ld=new Lf(),g_=new q()['setScale'](-0x1562+-0x1b*0xf+0xc*0x1ea,-(0x4*0x8bf+0x17b6+-0x1*0x3ab1),0x621*-0x1+0x6*-0x17f+0xf1c),Fd=new Set(),Od=new Set(),kd=new Yy(),y_=new q()['set']([0x1fdc+-0x72f*-0x1+-0x20e*0x13,0x1b0+-0x3a*0x29+0x79a,0x3*-0x5f+-0x14b3+-0x15d0*-0x1,0x12*0xf7+-0x16d1+-0x573*-0x1,-0x2033+0x468+0x1bcb*0x1,-0x1*-0x210e+0x3*-0x897+-0x4*0x1d2,-0x1*-0x1e47+-0xbd3+-0x4*0x49d,-0x5b1*0x6+0x2*0x10c9+-0x25*-0x4,-0x71+0x950*0x1+-0x8df,-0x1806+0x1575+-0xdb*-0x3,-0xa65+-0x1*-0x1e70+-0x140b+0.5,-0xed2+-0xf7e+0x1e50,-0x8a*-0x1b+-0x21e2+0x1354*0x1,0x1*0xb64+0x10*-0xb2+-0x44,-0x13df+-0xeaa+0x2289*0x1+0.5,-0x74*0x33+0xb*0x239+-0x156]),x_=[new $(0x1*0x1632+0x1137+-0x213*0x13+0.5,-0xd47+0x2*-0x446+0x15d3*0x1+0.333333),new $(0xc7*0x1d+-0x18d6+0x24b+0.25,-0x2e*0xa0+-0x6*-0x627+-0x82a+0.666667),new $(0x21+-0x14*-0x10a+-0x14e9+0.75,-0x4*-0x391+-0x20eb*0x1+0x12a7+0.111111),new $(0x842+0x807+0x1*-0x1049+0.125,-0x1742+-0x1*-0x148d+-0x63*-0x7+0.444444),new $(-0x2*0x3a4+-0x90c*-0x3+0x52*-0x3e+0.625,-0x12*-0x195+0xced*-0x1+-0xf8d+0.777778),new $(0x1ed5*0x1+-0x1*-0x1607+-0x34dc+0.375,-0x397*0x1+-0x64c+-0x1*-0x9e3+0.222222),new $(0xceb+-0x86a*-0x1+-0x1555+0.875,-0x9a4+0x86a+0x13a*0x1+0.555556),new $(-0x1*0x1a91+-0x1b88+0x1*0x3619+0.0625,-0xdcb+0xbf+0xd0c+0.888889),new $(-0x8f5+-0x119*-0x16+0x1*-0xf31+0.5625,0x1600+0x12d2+-0xb*0x3b6+0.037037),new $(-0x18+-0x7*0x253+0x1*0x105d+0.3125,0xf92+0x8*-0x7a+-0xbc2+0.37037),new $(-0x1*-0x1439+-0x1d53+0x91a+0.8125,-0xb*-0xba+-0x10d*-0x22+0x4*-0xaee+0.703704),new $(0x3*-0xc51+-0x95*-0x35+-0x61a*-0x1+0.1875,-0x20d8+0x22b0+-0x1d8+0.148148),new $(-0x3d*0x2e+-0x3*0x41+-0xbb9*-0x1+0.6875,-0x233*-0x5+-0x2187*0x1+0x8*0x2d1+0.481481),new $(-0x3*0xbd9+0x25e+0x212d+0.4375,-0x1*0xa9f+0x1566+-0x1*0xac7+0.814815),new $(0xcf1*-0x1+0x851+0x4a0+0.9375,-0x258d+0x26b5+-0x2*0x94+0.259259),new $(0x1353+0x1*-0x899+0x55d*-0x2+0.03125,0xf40+0xe89+-0x1dc9+0.592593)],EM=new q(),CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),Pn=new Set(),Bd=[],Nd=[];class DM{constructor(_0x324ed2){c(this,'clustersDe'+'bugRendere'+'d',!(0x276+-0x253e+0x22c9)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new rM(-0xe75+-0x18bc+-0x27ac*-0x1)),(this['device']=_0x324ed2,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new vM(_0x324ed2),this['lightTextu'+'reAtlas']=new uM(_0x324ed2),this['shadowMapC'+'ache']=new fM(),this['shadowRend'+'erer']=new I0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new mM(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new yM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new AM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x235c*-0x1+0x1*0x2615+0x1*-0x2b9,this['_morphTime']=0xfd1+0x17a1*-0x1+0x7d0*0x1,this['_cullTime']=0x495*-0x1+0x1b73*-0x1+0x2008,this['_shadowMap'+'Time']=-0x2077*-0x1+-0x1aa5+0x2e9*-0x2,this['_lightClus'+'tersTime']=0x57c+-0x6d1+0x155,this['_layerComp'+'ositionUpd'+'ateTime']=-0x8ae+-0x1*-0x1b95+-0x12e7,this['_shadowDra'+'wCalls']=-0x1*0xa51+0x4*0x3a4+-0x43f,this['_skinDrawC'+'alls']=0x734+-0x31*0x97+0x15b3,this['_instanced'+'DrawCalls']=0x1bcb+-0x3f3*0x4+-0x53*0x25,this['_shadowMap'+'Updates']=0x1*0x14e3+-0x19d6+0x1*0x4f3,this['_numDrawCa'+'llsCulled']=-0xe26+-0x2579+0x339f,this['_camerasRe'+'ndered']=0x1d9f*-0x1+0x79d+0x1602,this['_lightClus'+'ters']=0x2*-0xac+0x2504+-0x23ac);const _0x1850a5=_0x324ed2['scope'];this['boneTextur'+'eId']=_0x1850a5['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x1850a5['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x1850a5['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x1850a5['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x1850a5['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0x1df*0x1+0x5c5+-0x7a1*0x1),this['viewPosId']=_0x1850a5['resolve']('view_posit'+'ion'),this['projId']=_0x1850a5['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x1850a5['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x1850a5['resolve']('matrix_vie'+'w'),this['viewId3']=_0x1850a5['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x1850a5['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x1850a5['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x1850a5['resolve']('tbnBasis'),this['nearClipId']=_0x1850a5['resolve']('camera_nea'+'r'),this['farClipId']=_0x1850a5['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(-0x97a+-0x1*0x1bf5+-0x1*-0x2573),this['cameraPara'+'msId']=_0x1850a5['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x1850a5['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=-0xdb6+-0xc34+-0xd6*-0x1f,this['blueNoiseJ'+'itterVec']=new Q(),this['blueNoiseJ'+'itterData']=new Float32Array(0x14a5*-0x1+0x253b+-0x1092),this['blueNoiseJ'+'itterId']=_0x1850a5['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x1850a5['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x1850a5['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x1850a5['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x1850a5['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x1850a5['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0x47*0x79+-0x6d*-0x1+0x1e*-0x122),this['morphPosit'+'ionTex']=_0x1850a5['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x1850a5['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x1850a5['resolve']('morph_tex_'+'params'),this['lightCube']=new aM(),this['constantLi'+'ghtCube']=_0x1850a5['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x435447,_0x20cf56){if(_0x435447['layer']===_0x20cf56['layer']){if(_0x435447['drawOrder']&&_0x20cf56['drawOrder'])return _0x435447['drawOrder']-_0x20cf56['drawOrder'];if(_0x435447['zdist']&&_0x20cf56['zdist'])return _0x20cf56['zdist']-_0x435447['zdist'];if(_0x435447['zdist2']&&_0x20cf56['zdist2'])return _0x435447['zdist2']-_0x20cf56['zdist2'];}return _0x20cf56['_key'][Ei]-_0x435447['_key'][Ei];}['sortCompar'+'eMesh'](_0x5ce976,_0xea1bd3){if(_0x5ce976['layer']===_0xea1bd3['layer']){if(_0x5ce976['drawOrder']&&_0xea1bd3['drawOrder'])return _0x5ce976['drawOrder']-_0xea1bd3['drawOrder'];if(_0x5ce976['zdist']&&_0xea1bd3['zdist'])return _0xea1bd3['zdist']-_0x5ce976['zdist'];}const _0x3f0211=_0x5ce976['_key'][Ei],_0x32bce3=_0xea1bd3['_key'][Ei];return _0x3f0211===_0x32bce3&&_0x5ce976['mesh']&&_0xea1bd3['mesh']?_0xea1bd3['mesh']['id']-_0x5ce976['mesh']['id']:_0x32bce3-_0x3f0211;}['sortCompar'+'eDepth'](_0x34993d,_0x528d45){const _0xa351b8=_0x34993d['_key'][ku],_0x3f17de=_0x528d45['_key'][ku];return _0xa351b8===_0x3f17de&&_0x34993d['mesh']&&_0x528d45['mesh']?_0x528d45['mesh']['id']-_0x34993d['mesh']['id']:_0x3f17de-_0xa351b8;}['setupViewp'+'ort'](_0x58d1e0,_0x463c37){const _0x4bb0b3=this['device'],_0x39f236=_0x463c37?_0x463c37['width']:_0x4bb0b3['width'],_0x381e09=_0x463c37?_0x463c37['height']:_0x4bb0b3['height'],_0x592516=_0x58d1e0['rect'];let _0x11b009=Math['floor'](_0x592516['x']*_0x39f236),_0x3e5614=Math['floor'](_0x592516['y']*_0x381e09),_0xdbfd1b=Math['floor'](_0x592516['z']*_0x39f236),_0x2f2f68=Math['floor'](_0x592516['w']*_0x381e09);if(_0x4bb0b3['setViewpor'+'t'](_0x11b009,_0x3e5614,_0xdbfd1b,_0x2f2f68),_0x58d1e0['_scissorRe'+'ctClear']){const _0x13dca1=_0x58d1e0['scissorRec'+'t'];_0x11b009=Math['floor'](_0x13dca1['x']*_0x39f236),_0x3e5614=Math['floor'](_0x13dca1['y']*_0x381e09),_0xdbfd1b=Math['floor'](_0x13dca1['z']*_0x39f236),_0x2f2f68=Math['floor'](_0x13dca1['w']*_0x381e09);}_0x4bb0b3['setScissor'](_0x11b009,_0x3e5614,_0xdbfd1b,_0x2f2f68);}['setCameraU'+'niforms'](_0xa8bd1c,_0x5d9b22){var _0x4db53a,_0x53b9ec;const _0xb4e151=_0x5d9b22==null?void(0x8*-0x2ff+0xc3b+0xbbd):_0x5d9b22['flipY'];let _0x7c7079=0x1*0x1588+-0x7*0x69+0xc7*-0x18;if(_0xa8bd1c['xr']&&_0xa8bd1c['xr']['session']){const _0x2ac063=((_0x53b9ec=(_0x4db53a=_0xa8bd1c['_node'])==null?void(-0x2*-0x1305+0x7*0x39e+-0x3f5c):_0x4db53a['parent'])==null?void(-0x3*0x2a9+-0xef0+-0x1*-0x16eb):_0x53b9ec['getWorldTr'+'ansform']())||null,_0x113adb=_0xa8bd1c['xr']['views'];_0x7c7079=_0x113adb['list']['length'];for(let _0x1efc06=-0x1bfb+0x7*-0x1a9+0x112*0x25;_0x1efc06<_0x7c7079;_0x1efc06++){const _0x496a84=_0x113adb['list'][_0x1efc06];_0x496a84['updateTran'+'sforms'](_0x2ac063),_0xa8bd1c['frustum']['setFromMat'+'4'](_0x496a84['projViewOf'+'fMat']);}}else{let _0x1a488c=_0xa8bd1c['projection'+'Matrix'];_0xa8bd1c['calculateP'+'rojection']&&_0xa8bd1c['calculateP'+'rojection'](_0x1a488c,Al);let _0x3a6bb3=_0xa8bd1c['getProject'+'ionMatrixS'+'kybox']();_0xb4e151&&(_0x1a488c=EM['mul2'](g_,_0x1a488c),_0x3a6bb3=CM['mul2'](g_,_0x3a6bb3)),this['device']['isWebGPU']&&(_0x1a488c=MM['mul2'](y_,_0x1a488c),_0x3a6bb3=PM['mul2'](y_,_0x3a6bb3));const {jitter:_0x19866d}=_0xa8bd1c;let _0x29bb04=-0xa*0x2b7+0x1*0x885+-0x13*-0xfb,_0x2dc9b1=0x1f*0x41+0xdc3+-0x15a2;if(_0x19866d>-0x7c2+-0x449*-0x8+-0x1a86){const _0x447ef6=_0x5d9b22?_0x5d9b22['width']:this['device']['width'],_0x4b9dec=_0x5d9b22?_0x5d9b22['height']:this['device']['height'],_0x3fe1cc=x_[this['device']['renderVers'+'ion']%x_['length']];_0x29bb04=_0x19866d*(_0x3fe1cc['x']*(0x1a75+-0x2605+-0xb92*-0x1)-(0x1d9f*0x1+0x1ac4+-0x3862))/_0x447ef6,_0x2dc9b1=_0x19866d*(_0x3fe1cc['y']*(-0xc2a*-0x1+0xb17+0x173f*-0x1)-(-0x76c+0x2065+0x8*-0x31f))/_0x4b9dec,_0x1a488c=RM['copy'](_0x1a488c),_0x1a488c['data'][-0x61*0x67+-0x896*-0x2+-0x1af*-0xd]=_0x29bb04,_0x1a488c['data'][0x2*0x877+0x3*0xc3e+-0x359f]=_0x2dc9b1,_0x3a6bb3=IM['copy'](_0x3a6bb3),_0x3a6bb3['data'][-0x1*-0x8dd+0x31*-0x1b+-0x2*0x1d5]=_0x29bb04,_0x3a6bb3['data'][-0x1884+-0x77f+0x200c]=_0x2dc9b1,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x1ccac5=_0x19866d>0x9f*0x6+0x10cf+0x2ef*-0x7?this['blueNoiseJ'+'itterVec']:Q['ZERO'];if(this['blueNoiseJ'+'itterData'][-0x60*-0x1+0x1c6*0x4+-0x778]=_0x1ccac5['x'],this['blueNoiseJ'+'itterData'][0x1f28+0x2677*0x1+-0x459e]=_0x1ccac5['y'],this['blueNoiseJ'+'itterData'][-0x49+0x1*0xc8f+-0xc44]=_0x1ccac5['z'],this['blueNoiseJ'+'itterData'][-0x2706+0x1a06+0xd03]=_0x1ccac5['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x1a488c['data']),this['projSkybox'+'Id']['setValue'](_0x3a6bb3['data']),_0xa8bd1c['calculateT'+'ransform'])_0xa8bd1c['calculateT'+'ransform']($i,Al);else{const _0x26ef91=_0xa8bd1c['_node']['getPositio'+'n'](),_0x1a79df=_0xa8bd1c['_node']['getRotatio'+'n']();$i['setTRS'](_0x26ef91,_0x1a79df,T['ONE']);}this['viewInvId']['setValue']($i['data']),Mn['copy']($i)['invert'](),this['viewId']['setValue'](Mn['data']),__['setFromMat'+'4'](Mn),this['viewId3']['setValue'](__['data']),Hi['mul2'](_0x1a488c,Mn),this['viewProjId']['setValue'](Hi['data']),_0xa8bd1c['_storeShad'+'erMatrices'](Hi,_0x29bb04,_0x2dc9b1,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0xb4e151?-(0x24ac+-0xb2+-0x23f9*0x1):-0x85e+0x2*-0x859+0x1911),this['dispatchVi'+'ewPos'](_0xa8bd1c['_node']['getPositio'+'n']()),_0xa8bd1c['frustum']['setFromMat'+'4'](Hi);}this['tbnBasis']['setValue'](_0xb4e151?-(0xd51+-0x15b4+0x864):0x2a7*0x1+0x7ec+0x1*-0xa92);const _0x5e2925=_0xa8bd1c['_nearClip'],_0x52e50d=_0xa8bd1c['_farClip'];return this['nearClipId']['setValue'](_0x5e2925),this['farClipId']['setValue'](_0x52e50d),this['cameraPara'+'ms'][-0x2506*-0x1+0xa*-0x1e2+-0x11*0x112]=(-0x1673*0x1+0xf84+0x6f0)/_0x52e50d,this['cameraPara'+'ms'][0x2340+-0x20bd+-0x3*0xd6]=_0x52e50d,this['cameraPara'+'ms'][-0x10*0xb0+-0x189e*-0x1+-0xd9c]=_0x5e2925,this['cameraPara'+'ms'][0x4bd*-0x5+-0x36d+0x1b21*0x1]=_0xa8bd1c['projection']===ua?-0x2*0x29c+0x1e3f+-0x1906:0x4*0x95f+-0x1f75+-0x1*0x607,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0xa8bd1c['getExposur'+'e']():this['scene']['exposure']),_0x7c7079;}['clear'](_0x270a76,_0x51a6f9,_0x4dce9f,_0x1ff4a8){const _0x4c2716=(_0x51a6f9??_0x270a76['_clearColo'+'rBuffer']?Co:0x1cc8+-0x936+-0x1392)|(_0x4dce9f??_0x270a76['_clearDept'+'hBuffer']?Mo:0x166*0x17+-0x1eea+0x5*-0x40)|(_0x1ff4a8??_0x270a76['_clearSten'+'cilBuffer']?Ah:0x22c3+-0x14d2+-0xdf1*0x1);if(_0x4c2716){const _0x2dee8f=this['device'];G['pushGpuMar'+'ker'](_0x2dee8f,'CLEAR'),_0x2dee8f['clear']({'color':[_0x270a76['_clearColo'+'r']['r'],_0x270a76['_clearColo'+'r']['g'],_0x270a76['_clearColo'+'r']['b'],_0x270a76['_clearColo'+'r']['a']],'depth':_0x270a76['_clearDept'+'h'],'stencil':_0x270a76['_clearSten'+'cil'],'flags':_0x4c2716}),G['popGpuMark'+'er'](_0x2dee8f);}}['setCamera'](_0x28c2b7,_0x4bc0ff,_0x997eac,_0x4dbbcd=null){this['setCameraU'+'niforms'](_0x28c2b7,_0x4bc0ff),this['clearView'](_0x28c2b7,_0x4bc0ff,_0x997eac,!(-0x1f4d+-0x156*-0x15+0x1*0x340));}['clearView'](_0xf50611,_0x311a21,_0x34bb62,_0xadb680){const _0x28c075=this['device'];if(G['pushGpuMar'+'ker'](_0x28c075,'CLEAR-VIEW'),_0x28c075['setRenderT'+'arget'](_0x311a21),_0x28c075['updateBegi'+'n'](),_0xadb680&&(_0x28c075['setColorWr'+'ite'](!(-0x74*0x32+-0x3*0x4dd+-0x1*-0x253f),!(-0x562+-0x24b7+0x2a19),!(0x1*0x2209+0x1df*-0x9+0x3e*-0x47),!(-0xd4*-0x3+0x267f+-0x3*0xda9)),_0x28c075['setDepthWr'+'ite'](!(-0x1131+-0x19*-0x33+-0x209*-0x6))),this['setupViewp'+'ort'](_0xf50611,_0x311a21),_0x34bb62){const _0x5b5dea=_0xf50611['_clearOpti'+'ons'];_0x28c075['clear'](_0x5b5dea||{'color':[_0xf50611['_clearColo'+'r']['r'],_0xf50611['_clearColo'+'r']['g'],_0xf50611['_clearColo'+'r']['b'],_0xf50611['_clearColo'+'r']['a']],'depth':_0xf50611['_clearDept'+'h'],'flags':(_0xf50611['_clearColo'+'rBuffer']?Co:-0x35*0x95+0x15f9+0x238*0x4)|(_0xf50611['_clearDept'+'hBuffer']?Mo:-0x909+-0x25c9+0x2ed2)|(_0xf50611['_clearSten'+'cilBuffer']?Ah:0x1af8+-0x2055+0x55d),'stencil':_0xf50611['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x28c075);}['setupCullM'+'ode'](_0x2437df,_0x53d1f3,_0x4e5e8f){const _0x5f1ca2=_0x4e5e8f['material'];let _0x236bed=mt;if(_0x2437df){let _0x2b5471=0x31f+-0x6d1*-0x1+-0x9ef;(_0x5f1ca2['cull']===mo||_0x5f1ca2['cull']===rn)&&(_0x2b5471=_0x53d1f3*_0x4e5e8f['flipFacesF'+'actor']*_0x4e5e8f['node']['worldScale'+'Sign']),_0x2b5471<-0x1d7c+-0x1*-0x1b15+0x267?_0x236bed=_0x5f1ca2['cull']===mo?rn:mo:_0x236bed=_0x5f1ca2['cull'];}this['device']['setCullMod'+'e'](_0x236bed),_0x236bed===mt&&_0x5f1ca2['cull']===mt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x4e5e8f['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x3ddf19){if(_0x3ddf19['xr']&&_0x3ddf19['xr']['views']['list']['length']){const _0x207610=_0x3ddf19['xr']['views']['list'][-0x8*-0x8f+-0x1347*0x1+-0x11*-0xdf];Hi['mul2'](_0x207610['projMat'],_0x207610['viewOffMat']),_0x3ddf19['frustum']['setFromMat'+'4'](Hi);return;}const _0x2b76ff=_0x3ddf19['projection'+'Matrix'];if(_0x3ddf19['calculateP'+'rojection']&&_0x3ddf19['calculateP'+'rojection'](_0x2b76ff,Al),_0x3ddf19['calculateT'+'ransform'])_0x3ddf19['calculateT'+'ransform']($i,Al);else{const _0x1b3319=_0x3ddf19['_node']['getPositio'+'n'](),_0x38b41b=_0x3ddf19['_node']['getRotatio'+'n']();$i['setTRS'](_0x1b3319,_0x38b41b,T['ONE']),this['viewInvId']['setValue']($i['data']);}Mn['copy']($i)['invert'](),Hi['mul2'](_0x2b76ff,Mn),_0x3ddf19['frustum']['setFromMat'+'4'](Hi);}['setBaseCon'+'stants'](_0xa70e17,_0x14f5b8){_0xa70e17['setCullMod'+'e'](_0x14f5b8['cull']),_0x14f5b8['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x14f5b8['opacityMap']),(_0x14f5b8['opacityMap']||_0x14f5b8['alphaTest']>0x1fd0+0x10*-0x17d+0x100*-0x8)&&this['alphaTestI'+'d']['setValue'](_0x14f5b8['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x3f2b49){Dd++;const _0x140999=_0x3f2b49['length'];if(_0x140999===-0x1761+0x1*0x84e+0xf13)return;const _0x2a65ef=ne();for(let _0x237498=-0x1bf3+-0x695*0x4+0x3647;_0x237498<_0x140999;_0x237498++){const _0x5c9391=_0x3f2b49[_0x237498]['skinInstan'+'ce'];_0x5c9391&&(_0x5c9391['updateMatr'+'ices'](_0x3f2b49[_0x237498]['node'],Dd),_0x5c9391['_dirty']=!(-0x1e92+-0x3fe+0x2290));}this['_skinTime']+=ne()-_0x2a65ef;}['updateGpuS'+'kinMatrice'+'s'](_0x3e51ea){const _0x323c01=ne();for(const _0x450a06 of _0x3e51ea){const _0x17d0e6=_0x450a06['skinInstan'+'ce'];_0x17d0e6&&_0x17d0e6['_dirty']&&(_0x17d0e6['updateMatr'+'ixPalette'](_0x450a06['node'],Dd),_0x17d0e6['_dirty']=!(-0x1a01*0x1+0xfe9*-0x1+-0x31*-0xdb));}this['_skinTime']+=ne()-_0x323c01;}['updateMorp'+'hing'](_0x50433e){const _0x4d3420=ne();for(const _0x4f1217 of _0x50433e){const _0x1e5785=_0x4f1217['morphInsta'+'nce'];_0x1e5785&&_0x1e5785['_dirty']&&_0x1e5785['update']();}this['_morphTime']+=ne()-_0x4d3420;}['updateGSpl'+'ats'](_0x5493cd){var _0x15d49b;for(const _0x290002 of _0x5493cd)(_0x15d49b=_0x290002['gsplatInst'+'ance'])==null||_0x15d49b['update']();}['gpuUpdate'](_0x275e08){this['updateGpuS'+'kinMatrice'+'s'](_0x275e08),this['updateMorp'+'hing'](_0x275e08),this['updateGSpl'+'ats'](_0x275e08);}['setVertexB'+'uffers'](_0x356499,_0x116772){_0x356499['setVertexB'+'uffer'](_0x116772['vertexBuff'+'er']);}['setMorphin'+'g'](_0x3ee071,_0x1f97bf){_0x1f97bf&&(_0x1f97bf['prepareRen'+'dering'](_0x3ee071),_0x3ee071['setVertexB'+'uffer'](_0x1f97bf['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x1f97bf['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x1f97bf['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x1f97bf['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x51a084,_0x136628){const _0x8f656=_0x136628['skinInstan'+'ce'];if(_0x8f656){this['_skinDrawC'+'alls']++;const _0x39ba1f=_0x8f656['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x39ba1f),this['boneTextur'+'eSizeId']['setValue'](_0x8f656['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x4c77ea){const _0x259b7d=this['viewPos'];_0x259b7d[-0x47*0x2c+-0x2062+0x2c96]=_0x4c77ea['x'],_0x259b7d[0x16ea+0x1747+-0x2e30]=_0x4c77ea['y'],_0x259b7d[-0xe09*-0x1+0x163e+-0x2445]=_0x4c77ea['z'],this['viewPosId']['setValue'](_0x259b7d);}['initViewBi'+'ndGroupFor'+'mat'](_0x514501){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x39fcd4=[new gt('matrix_vie'+'wProjectio'+'n',Sa),new gt('cubeMapRot'+'ationMatri'+'x',ko),new gt('view_posit'+'ion',Wt),new gt('skyboxInte'+'nsity',Ws),new gt('exposure',Ws),new gt('textureBia'+'s',Ws)];_0x514501&&_0x39fcd4['push'](new gt('clusterCel'+'lsCountByB'+'oundsSize',Wt),new gt('clusterTex'+'tureSize',Wt),new gt('clusterBou'+'ndsMin',Wt),new gt('clusterBou'+'ndsDelta',Wt),new gt('clusterCel'+'lsDot',Wt),new gt('clusterCel'+'lsMax',Wt),new gt('clusterCom'+'pressionLi'+'mit0',or),new gt('shadowAtla'+'sParams',or),new gt('clusterMax'+'Cells',ln),new gt('clusterSki'+'p',Ws)),this['viewUnifor'+'mFormat']=new Qy(this['device'],_0x39fcd4);const _0x2387fc=[new pp(fp,up|li),new fi('lightsText'+'ureFloat',li,Us,nd),new fi('lightsText'+'ure8',li,Us,nd),new fi('shadowAtla'+'sTexture',li,Us,jS),new fi('cookieAtla'+'sTexture',li,Us,oh),new fi('areaLights'+'LutTex1',li,Us,oh),new fi('areaLights'+'LutTex2',li,Us,oh)];_0x514501&&_0x2387fc['push'](new fi('clusterWor'+'ldTexture',li,Us,nd)),this['viewBindGr'+'oupFormat']=new jy(this['device'],_0x2387fc);}}['setupViewU'+'niformBuff'+'ers'](_0x439ac5,_0x3073b9,_0x4e94bc,_0x127a44){v['assert'](Array['isArray'](_0x439ac5),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x23d69d=this['device'];for(v['assert'](_0x127a44===0xf33+-0xe08+0x1*-0x12a,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x439ac5['length']<_0x127a44;){const _0x1b5baa=new gp(_0x23d69d,_0x3073b9,!(-0x145c+-0x21e3+-0x1b2*-0x20)),_0x17c291=new mp(_0x23d69d,_0x4e94bc,_0x1b5baa);mn['setName'](_0x17c291,'ViewBindGr'+'oup_'+_0x17c291['id']),_0x439ac5['push'](_0x17c291);}const _0x4863a1=_0x439ac5[0x241d+-0xa17+-0x1a06];_0x4863a1['defaultUni'+'formBuffer']['update'](),_0x4863a1['update'](),_0x23d69d['setBindGro'+'up'](Dh,_0x4863a1);}['setupMeshU'+'niformBuff'+'ers'](_0x46bb53,_0x38ad1d){const _0x2b7f15=this['device'];if(_0x2b7f15['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x38ad1d['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x38ad1d['node']['normalMatr'+'ix']['data']);const _0x20b6f8=_0x46bb53['getBindGro'+'up'](_0x2b7f15);_0x20b6f8['update'](),_0x2b7f15['setBindGro'+'up'](Xy,_0x20b6f8),_0x46bb53['getUniform'+'Buffer'](_0x2b7f15)['update'](kd),_0x2b7f15['setBindGro'+'up'](Eu,kd['bindGroup'],kd['offsets']);}}['drawInstan'+'ce'](_0x26e72c,_0xe82242,_0x1862cc,_0x9cb559,_0xff13a8){const _0x4f5f8f=_0xe82242['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x4f5f8f['data']),_0xff13a8&&this['normalMatr'+'ixId']['setValue'](_0xe82242['node']['normalMatr'+'ix']['data']);const _0xe8b1d4=_0xe82242['instancing'+'Data'];_0xe8b1d4?_0xe8b1d4['count']>0x802+0x1*0x1551+-0x1d53?(this['_instanced'+'DrawCalls']++,_0x26e72c['setVertexB'+'uffer'](_0xe8b1d4['vertexBuff'+'er']),_0x26e72c['draw'](_0x1862cc['primitive'][_0x9cb559],_0xe8b1d4['count'])):_0x26e72c['clearVerte'+'xBuffer']():_0x26e72c['draw'](_0x1862cc['primitive'][_0x9cb559]);}['drawInstan'+'ce2'](_0x2515e4,_0x1a400d,_0x144190,_0x15c931){const _0x275a3c=_0x1a400d['instancing'+'Data'];_0x275a3c?_0x275a3c['count']>0xd*0x2cd+0x265+0x1367*-0x2?(this['_instanced'+'DrawCalls']++,_0x2515e4['draw'](_0x144190['primitive'][_0x15c931],_0x275a3c['count'],!(0x1f*0x1d+0x2*-0x544+0x705))):_0x2515e4['clearVerte'+'xBuffer']():_0x2515e4['draw'](_0x144190['primitive'][_0x15c931],void(-0x1ad8+-0x8e0+0x24*0xfe),!(0x65b+0x17*0x125+-0x20ae));}['cull'](_0x368555,_0xdec5de,_0x1d433b){const _0x3d2537=ne(),_0x435dcf=_0x1d433b['opaque'];_0x435dcf['length']=0x177d+0x425*-0x4+0x1*-0x6e9;const _0x441cdb=_0x1d433b['transparen'+'t'];_0x441cdb['length']=0x11fd+0x864+0x8cb*-0x3;const _0x12635d=_0x368555['frustumCul'+'ling'],_0x1a2051=_0xdec5de['length'];for(let _0x36356c=-0xfdd+0x1*0x679+-0x964*-0x1;_0x36356c<_0x1a2051;_0x36356c++){const _0x551ae3=_0xdec5de[_0x36356c];_0x551ae3['visible']&&(!_0x12635d||!_0x551ae3['cull']||_0x551ae3['_isVisible'](_0x368555))&&(_0x551ae3['visibleThi'+'sFrame']=!(-0x2e7*-0x1+0x4*-0x5a2+0x13a1),(_0x551ae3['transparen'+'t']?_0x441cdb:_0x435dcf)['push'](_0x551ae3),(_0x551ae3['skinInstan'+'ce']||_0x551ae3['morphInsta'+'nce']||_0x551ae3['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x551ae3),_0x551ae3['gsplatInst'+'ance']&&_0x551ae3['gsplatInst'+'ance']['cameras']['push'](_0x368555)));}this['_cullTime']+=ne()-_0x3d2537,this['_numDrawCa'+'llsCulled']+=_0x12635d?_0x1a2051:-0x1*-0x24cd+-0x2259+-0x274;}['collectLig'+'hts'](_0x5e7f9e){this['lights']['length']=0x1de1+-0x1*-0x88e+0x1*-0x266f,this['localLight'+'s']['length']=-0x16da+-0x9db*0x1+0x20b5;const _0x34e762=this['scene']['_stats'];_0x34e762['dynamicLig'+'hts']=-0x2*-0x329+-0x1*0x1d47+0x16f5,_0x34e762['bakedLight'+'s']=0x49*0x6b+-0x136*0x5+0x827*-0x3;const _0x759340=_0x5e7f9e['layerList']['length'];for(let _0x3e42e2=0x12e5*0x1+0x1df4+0x9c5*-0x5;_0x3e42e2<_0x759340;_0x3e42e2++){const _0x395c44=_0x5e7f9e['layerList'][_0x3e42e2];if(!Od['has'](_0x395c44)){Od['add'](_0x395c44);const _0x246df4=_0x395c44['_lights'];for(let _0x17cc92=-0x47d+-0x846*-0x4+-0x1c9b;_0x17cc92<_0x246df4['length'];_0x17cc92++){const _0x505f6f=_0x246df4[_0x17cc92];Fd['has'](_0x505f6f)||(Fd['add'](_0x505f6f),this['lights']['push'](_0x505f6f),_0x505f6f['_type']!==oe&&this['localLight'+'s']['push'](_0x505f6f),(_0x505f6f['mask']&hs||_0x505f6f['mask']&cr)&&_0x34e762['dynamicLig'+'hts']++,_0x505f6f['mask']&rr&&_0x34e762['bakedLight'+'s']++);}}}_0x34e762['lights']=this['lights']['length'],Fd['clear'](),Od['clear']();}['cullLights'](_0x52965e,_0x246462){const _0x8cbcf3=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x14681e=this['scene']['physicalUn'+'its'];for(let _0x12c52f=-0x6b*-0x33+0x19b5+-0x2f06;_0x12c52f<_0x246462['length'];_0x12c52f++){const _0x363812=_0x246462[_0x12c52f];if(_0x363812['enabled']){if(_0x363812['_type']!==oe){if(_0x363812['getBoundin'+'gSphere'](Ld),_0x52965e['frustum']['containsSp'+'here'](Ld)){_0x363812['visibleThi'+'sFrame']=!(0x2464+0x165a*0x1+-0x3abe),_0x363812['usePhysica'+'lUnits']=_0x14681e;const _0x2c84a6=_0x52965e['getScreenS'+'ize'](Ld);_0x363812['maxScreenS'+'ize']=Math['max'](_0x363812['maxScreenS'+'ize'],_0x2c84a6);}else _0x8cbcf3||_0x363812['castShadow'+'s']&&!_0x363812['shadowMap']&&(_0x363812['visibleThi'+'sFrame']=!(-0x1*-0x371+0x1814+-0x1b85));}else _0x363812['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x1a4894){const _0x452f6d=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x2f2f41=0x236e+0x6cb+-0x2a39;_0x2f2f41<this['localLight'+'s']['length'];_0x2f2f41++){const _0x224a34=this['localLight'+'s'][_0x2f2f41];_0x224a34['_type']!==oe&&(_0x452f6d?_0x224a34['atlasSlotU'+'pdated']&&_0x224a34['shadowUpda'+'teMode']===Ps&&(_0x224a34['shadowUpda'+'teMode']=cn):_0x224a34['shadowUpda'+'teMode']===Ps&&_0x224a34['castShadow'+'s']&&(_0x224a34['getRenderD'+'ata'](null,-0x9*-0x1ae+-0x7*-0x21a+-0x1dd4)['shadowCame'+'ra']['renderTarg'+'et']||(_0x224a34['shadowUpda'+'teMode']=cn)),_0x224a34['visibleThi'+'sFrame']&&_0x224a34['castShadow'+'s']&&_0x224a34['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x224a34,_0x1a4894));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x2ebc21=_0x1a4894['cameras'];for(let _0x55214f=-0x1*-0x1f6d+0x1*0x1069+-0x2fd6;_0x55214f<_0x2ebc21['length'];_0x55214f++){const _0x90f25f=_0x2ebc21[_0x55214f];if(_0x90f25f['enabled']){const _0x340bc1=_0x90f25f['camera'];let _0x16a3ba;const _0x1998a6=_0x340bc1['layers'];for(let _0x47ece9=-0x1d*0xea+-0x1cc0+0x3742;_0x47ece9<_0x1998a6['length'];_0x47ece9++){const _0x265cea=_0x1a4894['getLayerBy'+'Id'](_0x1998a6[_0x47ece9]);if(_0x265cea){const _0xe2bf3d=_0x265cea['splitLight'+'s'][oe];for(let _0x1876c0=-0x4d6+0xa1*-0x20+0x18f6;_0x1876c0<_0xe2bf3d['length'];_0x1876c0++){const _0x17de77=_0xe2bf3d[_0x1876c0];_0x17de77['castShadow'+'s']&&!Pn['has'](_0x17de77)&&(Pn['add'](_0x17de77),_0x16a3ba=_0x16a3ba??[],_0x16a3ba['push'](_0x17de77),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x17de77,_0x1a4894,_0x340bc1));}}}_0x16a3ba&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x340bc1,_0x16a3ba),Pn['clear']();}}}['cullCompos'+'ition'](_0x211865){const _0x11597e=ne(),{scene:_0x372f46}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x531196=_0x211865['cameras']['length'];this['_camerasRe'+'ndered']+=_0x531196;for(let _0x5d93f4=-0x41*-0x67+0x3*-0xa95+0xb3*0x8;_0x5d93f4<_0x531196;_0x5d93f4++){const _0x50bb3f=_0x211865['cameras'][_0x5d93f4];_0x372f46==null||_0x372f46['fire'](ow,_0x50bb3f);const _0x5a95bf=_0x50bb3f['renderTarg'+'et'];_0x50bb3f['frameUpdat'+'e'](_0x5a95bf),this['updateCame'+'raFrustum'](_0x50bb3f['camera']);const _0x41d72a=_0x50bb3f['layers'];for(let _0x4243c1=0x129e+-0x65*-0x34+-0x2722;_0x4243c1<_0x41d72a['length'];_0x4243c1++){const _0xc4a9b9=_0x211865['getLayerBy'+'Id'](_0x41d72a[_0x4243c1]);if(_0xc4a9b9&&_0xc4a9b9['enabled']){this['cullLights'](_0x50bb3f['camera'],_0xc4a9b9['_lights']);const _0x5e349b=_0xc4a9b9['getCulledI'+'nstances'](_0x50bb3f['camera']);this['cull'](_0x50bb3f['camera'],_0xc4a9b9['meshInstan'+'ces'],_0x5e349b);}}_0x372f46==null||_0x372f46['fire'](lw,_0x50bb3f);}_0x372f46['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x211865),this['_cullTime']+=ne()-_0x11597e;}['updateShad'+'ers'](_0x19f2bf,_0x1f1423){const _0x3f32b7=_0x19f2bf['length'];for(let _0x539bcf=-0x265d+0x1*0x3b3+-0xae*-0x33;_0x539bcf<_0x3f32b7;_0x539bcf++){const _0x4017fb=_0x19f2bf[_0x539bcf]['material'];if(_0x4017fb&&!Pn['has'](_0x4017fb)&&(Pn['add'](_0x4017fb),_0x4017fb['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant'])){if(_0x1f1423&&(!_0x4017fb['useLightin'+'g']||_0x4017fb['emitter']&&!_0x4017fb['emitter']['lighting']))continue;_0x4017fb['clearVaria'+'nts']();}}Pn['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](hM(this['device']));}['beginFrame'](_0x36222a){const _0x21c10c=this['scene'],_0x2d149f=_0x21c10c['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x290ddf=0x1*0x16ac+-0xef2*0x1+-0x2*0x3dd;const _0x2728cd=_0x36222a['layerList'],_0x2bec22=_0x2728cd['length'];for(let _0xbba71d=-0x1*0x1675+-0x5*-0xdf+0xe*0x14b;_0xbba71d<_0x2bec22;_0xbba71d++){const _0x3f2597=_0x2728cd[_0xbba71d]['meshInstan'+'ces'],_0x57b784=_0x3f2597['length'];_0x290ddf+=_0x57b784;for(let _0x5abfed=-0xf29+-0x26*0x67+0x1e73;_0x5abfed<_0x57b784;_0x5abfed++){const _0x40dc79=_0x3f2597[_0x5abfed];_0x40dc79['visibleThi'+'sFrame']=!(-0x7e2*-0x2+0x3*0x7a+-0x1131),_0x2d149f&&Bd['push'](_0x40dc79),_0x40dc79['skinInstan'+'ce']&&Nd['push'](_0x40dc79);}}if(_0x21c10c['_stats']['meshInstan'+'ces']=_0x290ddf,_0x2d149f){const _0x38bf66=!_0x21c10c['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Bd,_0x38bf66),_0x21c10c['updateShad'+'ers']=!(-0x14*-0x16d+0x14ee+-0x3171),this['device']['_shadersDi'+'rty']=!(-0x1*-0x251e+-0x79c*-0x2+0x1*-0x3455),_0x21c10c['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Nd),Bd['length']=0x4*-0x969+-0x1a88+-0x1*-0x402c,Nd['length']=-0x1a*-0x83+0x21b4+-0x2f02;const _0x3b6a42=this['lights'],_0x55835e=_0x3b6a42['length'];for(let _0x3d2774=-0x3d*-0xa3+-0xc39+0x1*-0x1a9e;_0x3d2774<_0x55835e;_0x3d2774++)_0x3b6a42[_0x3d2774]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x49b59a){const _0x1784c2=ne(),_0x30e666=_0x49b59a['layerList']['length'],_0xe03e26=this['scene']['_shaderVer'+'sion'];for(let _0x5f30d0=-0x171+-0x2317+-0x491*-0x8;_0x5f30d0<_0x30e666;_0x5f30d0++){const _0x2ff43c=_0x49b59a['layerList'][_0x5f30d0];_0x2ff43c['_shaderVer'+'sion']=_0xe03e26,_0x2ff43c['_skipRende'+'rCounter']=-0x30c*0x7+0x4af+0x10a5,_0x2ff43c['_forwardDr'+'awCalls']=0x11*0xe2+-0xa52*-0x1+-0x1954,_0x2ff43c['_shadowDra'+'wCalls']=0x1*0x11cd+0x15e+-0x132b,_0x2ff43c['_renderTim'+'e']=-0xa86+-0x3bc+0xe42;}_0x49b59a['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ne()-_0x1784c2;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x1*0x1a2d+0xe92+-0xb9c*-0x1),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class D0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x1fd8*-0x1+0x1d65+0x3d3c*-0x1),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x205+0xaf1+-0xcf5),this['clearDepth']=!(-0xcb3+-0x1ff+0xeb3),this['clearStenc'+'il']=!(0x7b*-0x13+-0x1*-0x1982+-0x1060),this['triggerPos'+'tprocess']=!(-0x1dcf+0x1f7*0x7+-0x1*-0x100f),this['firstCamer'+'aUse']=!(-0x135d*0x1+-0x61b+0x1979),this['lastCamera'+'Use']=!(0x99+-0x123b+0x11a3),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x15a5+0x5e*0xe+-0xd64*0x2));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x100224=>{_0x100224['defaultUni'+'formBuffer']['destroy'](),_0x100224['destroy']();}),this['viewBindGr'+'oups']['length']=0xd6d*-0x1+0x19f9+-0xc8c;}['setupClear'+'s'](_0x1700a8,_0x534442){this['clearColor']=(_0x1700a8==null?void(0x1685+0x79b+-0x1e20):_0x1700a8['clearColor'+'Buffer'])||_0x534442['clearColor'+'Buffer'],this['clearDepth']=(_0x1700a8==null?void(-0x13f3*0x1+0x7ba*0x2+0x1*0x47f):_0x1700a8['clearDepth'+'Buffer'])||_0x534442['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x1700a8==null?void(-0x1785+0xf5e+0x827*0x1):_0x1700a8['clearStenc'+'ilBuffer'])||_0x534442['clearStenc'+'ilBuffer'];}}class LM extends ds{constructor(_0xf0dfac,_0x29e724,_0xa7387c,_0x17ee44){super(_0xf0dfac),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(-0x25e6+0x8ad+0x9be*0x3)),(this['layerCompo'+'sition']=_0x29e724,this['scene']=_0xa7387c,this['renderer']=_0x17ee44);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>0xf12*-0x2+0x1928+-0x16*-0x3a;}['addRenderA'+'ction'](_0x54d9a2){this['renderActi'+'ons']['push'](_0x54d9a2);}['addLayer'](_0x484c84,_0x12b1ca,_0x90518f,_0x2c811d=!(-0x145b+0x7*-0x19a+0x1f91*0x1)){v['assert'](_0x484c84),v['assert'](this['renderTarg'+'et']!==void(-0xb0b+0x974+0x197),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),v['assert'](_0x484c84['camera']['layersSet']['has'](_0x12b1ca['id']),'Camera\x20'+_0x484c84['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x12b1ca['name']+'.');const _0x3dc692=new D0();if(_0x3dc692['renderTarg'+'et']=this['renderTarg'+'et'],_0x3dc692['camera']=_0x484c84,_0x3dc692['layer']=_0x12b1ca,_0x3dc692['transparen'+'t']=_0x90518f,_0x2c811d){const _0x3b13ab=this['renderActi'+'ons']['length']===0x255d+-0x9d*-0x39+-0x1*0x4852;_0x3dc692['setupClear'+'s'](_0x3b13ab?_0x484c84:void(-0xcb6+0x311*-0x3+0x1*0x15e9),_0x12b1ca);}this['addRenderA'+'ction'](_0x3dc692);}['addLayers'](_0x3f5186,_0x4e1a99,_0x4bf21a,_0x4a9e4d,_0xb420cc,_0x1bcf77=!(-0x12ed+0xc*0x16f+0x1b9)){const {layerList:_0x19dc22,subLayerList:_0x266dfa}=_0x3f5186;let _0x3dbcd5=_0x4a9e4d,_0x4f87f6=_0x4bf21a;for(;_0x4f87f6<_0x19dc22['length'];){const _0x58c44b=_0x19dc22[_0x4f87f6],_0x241465=_0x266dfa[_0x4f87f6];if(_0x4e1a99['camera']['layersSet']['has'](_0x58c44b['id'])&&(this['addLayer'](_0x4e1a99,_0x58c44b,_0x241465,_0x3dbcd5),_0x3dbcd5=!(-0x140*0x3+0x10bb+-0xcfa)),_0x4f87f6++,_0x58c44b['id']===_0xb420cc&&_0x241465===_0x1bcf77)break;}return _0x4f87f6;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x5793a2,renderActions:_0x2402f7}=this;for(let _0x4d8cef=0x1f17+-0x51b+-0x19fc;_0x4d8cef<_0x2402f7['length'];_0x4d8cef++){const _0x367b5f=_0x2402f7[_0x4d8cef]['camera']['camera'],_0x1581bc=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x367b5f);if(_0x1581bc)for(let _0x4e85f6=0x15b0+-0x77+-0x1539;_0x4e85f6<_0x1581bc['length'];_0x4e85f6++){const _0x2d12cc=_0x1581bc[_0x4e85f6];if(_0x5793a2['dirLightSh'+'adows']['get'](_0x2d12cc)!==_0x367b5f){_0x5793a2['dirLightSh'+'adows']['set'](_0x2d12cc,_0x367b5f);const _0x179f94=_0x5793a2['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x2d12cc,_0x367b5f);_0x179f94&&this['beforePass'+'es']['push'](_0x179f94);}}}}['updateClea'+'rs'](){const _0x32b48d=this['renderActi'+'ons'][0x2414+-0x13*-0x124+-0x39c0];if(_0x32b48d){const _0x297717=_0x32b48d['camera']['camera'],_0x1ced55=_0x297717['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x1ced55&&_0x32b48d['clearColor']?_0x297717['clearColor']:void(-0x2ee+-0x1301+0x15ef*0x1)),this['setClearDe'+'pth'](_0x1ced55&&_0x32b48d['clearDepth']&&!this['noDepthCle'+'ar']?_0x297717['clearDepth']:void(0x23e3+-0x176c+-0xc77)),this['setClearSt'+'encil'](_0x1ced55&&_0x32b48d['clearStenc'+'il']?_0x297717['clearStenc'+'il']:void(-0x82d+-0x1*-0x1b37+-0x130a));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x39377f}=this;for(let _0x339f1c=0x216c+0x595+-0x2701;_0x339f1c<_0x39377f['length'];_0x339f1c++){const _0x53586b=_0x39377f[_0x339f1c];_0x53586b['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x53586b['camera']);}}['execute'](){const {layerComposition:_0x3a108c,renderActions:_0x4b0322}=this;for(let _0x223d56=-0x93d+0x1b81+-0xa7*0x1c;_0x223d56<_0x4b0322['length'];_0x223d56++){const _0x196fa2=_0x4b0322[_0x223d56],_0x8426fc=_0x196fa2['layer'];v['call'](()=>{_0x3a108c['getLayerBy'+'Name'](_0x8426fc['name'])||v['warnOnce']('Layer\x20'+_0x8426fc['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x3a108c['isEnabled'](_0x8426fc,_0x196fa2['transparen'+'t'])&&this['renderRend'+'erAction'](_0x196fa2,_0x223d56===-0x1506+0x5e*-0x33+0x27c0);}}['after'](){for(let _0x26e040=-0xb*-0xbf+0x1aa0+-0x22d5;_0x26e040<this['renderActi'+'ons']['length'];_0x26e040++){const _0x337cb2=this['renderActi'+'ons'][_0x26e040];_0x337cb2['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x337cb2['camera']);}this['beforePass'+'es']['length']=-0x19a+0x19f5+-0x185b*0x1;}['renderRend'+'erAction'](_0x3e2486,_0x8206a7){var _0x152e18;const {renderer:_0x5a9d39,scene:_0x205423}=this,_0xd5f2d=_0x5a9d39['device'],{layer:_0x2cf821,transparent:_0x356065,camera:_0x396955}=_0x3e2486;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x396955?_0x396955['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x2cf821['name']+'('+(_0x356065?'TRANSP':'OPAQUE')+')');const _0x115ab0=ne();if(_0x396955){const _0x33a53a=_0x396955['gammaCorre'+'ction'],_0x7a4dbd=_0x396955['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0x3b*-0x72+-0x1*0x1c71+0x22b)&&(_0x396955['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(-0x1b0e+-0x1646+0x1*0x3154)&&(_0x396955['toneMappin'+'g']=this['toneMappin'+'g']),_0x205423['fire'](nw,_0x396955,_0x2cf821,_0x356065);const _0x39a275={'lightClusters':_0x3e2486['lightClust'+'ers']},_0x181574=((_0x152e18=_0x396955['camera']['shaderPass'+'Info'])==null?void(-0x2433+-0x1372+-0xb9*-0x4d):_0x152e18['index'])??gn;(!_0x8206a7||!_0x396955['camera']['fullSizeCl'+'earRect'])&&(_0x39a275['clearColor']=_0x3e2486['clearColor'],_0x39a275['clearDepth']=_0x3e2486['clearDepth'],_0x39a275['clearStenc'+'il']=_0x3e2486['clearStenc'+'il']);const _0x1b53a4=_0x3e2486['renderTarg'+'et']??_0xd5f2d['backBuffer'];_0x5a9d39['renderForw'+'ardLayer'](_0x396955['camera'],_0x1b53a4,_0x2cf821,_0x356065,_0x181574,_0x3e2486['viewBindGr'+'oups'],_0x39a275),_0xd5f2d['setBlendSt'+'ate'](_t['NOBLEND']),_0xd5f2d['setStencil'+'State'](null,null),_0xd5f2d['setAlphaTo'+'Coverage'](!(0x233+-0x10db+0xea9)),_0x205423['fire'](aw,_0x396955,_0x2cf821,_0x356065),this['gammaCorre'+'ction']!==void(0x1*0x7b1+-0xe*-0xc0+0x1231*-0x1)&&(_0x396955['gammaCorre'+'ction']=_0x33a53a),this['toneMappin'+'g']!==void(0x7da+0x1*0x1997+-0x2171)&&(_0x396955['toneMappin'+'g']=_0x7a4dbd);}G['popGpuMark'+'er'](this['device']),_0x2cf821['_renderTim'+'e']+=ne()-_0x115ab0;}['log'](_0x9f5d14,_0x293e0f){if(super['log'](_0x9f5d14,_0x293e0f),Xs['get'](Jn)){const {layerComposition:_0x5bc7ef}=this;this['renderActi'+'ons']['forEach']((_0x136fde,_0x41abde)=>{const _0x23d722=_0x136fde['layer'],_0x264ecd=_0x23d722['enabled']&&_0x5bc7ef['isEnabled'](_0x23d722,_0x136fde['transparen'+'t']),_0x3d6670=_0x136fde['camera'];v['trace'](Jn,'\x20\x20\x20\x20'+_0x41abde+':'+('\x20Cam:\x20'+(_0x3d6670?_0x3d6670['entity']['name']:'-'))['padEnd'](-0x11*0xb2+-0x36d+0xf55*0x1,'\x20')+('\x20Lay:\x20'+_0x23d722['name'])['padEnd'](0x4*-0xf9+0x10f9+-0xcff,'\x20')+(_0x136fde['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x264ecd?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x23d722['meshInstan'+'ces']['length'])['padEnd'](-0x62d+-0x1119+0x174b,'\x20'));});}}}class FM extends ds{constructor(_0x4095e4,_0x5063db,_0x102e2f){super(_0x4095e4),this['renderer']=_0x5063db,this['renderActi'+'on']=_0x102e2f,this['requiresCu'+'bemaps']=!(-0x15*-0x10d+0x2609+-0x5*0xc05);}['execute'](){const _0xea2119=this['renderActi'+'on'],_0x7b4e4d=_0xea2119['camera'];v['assert'](_0xea2119['triggerPos'+'tprocess']&&_0x7b4e4d['onPostproc'+'essing']),_0x7b4e4d['onPostproc'+'essing']();}}const OM=[[],[],[]],Wi=new Y(),br={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=-0x33*-0x16+0x205c+-0x125f*0x2,this['shaderInst'+'ances']['length']=-0x9fc*0x3+0x1bf2+0x1*0x202,this['isNewMater'+'ial']['length']=-0xd46*0x1+-0x7*-0x109+0x607,this['lightMaskC'+'hanged']['length']=-0x2f8+-0x146b*-0x1+-0x1173;}};function kM(_0x2471d2){const _0x19c760=[];for(let _0x181611=0x25b4+0x2c9*0x9+-0x3ec5;_0x181611<_0x2471d2;++_0x181611){const _0x2fc7a6=Math['sqrt'](_0x181611+(-0xc05+-0x2*-0x903+-0x601+0.5))/Math['sqrt'](_0x2471d2);_0x19c760['push'](_0x2fc7a6);}return _0x19c760;}function BM(_0x4414c8){const _0x2685ed=[];for(let _0x21ba0b=-0xf*-0x166+-0x9e1*-0x1+-0x1edb;_0x21ba0b<_0x4414c8;_0x21ba0b++){const _0x4584e0=_0x21ba0b/_0x4414c8,_0x185610=Math['sqrt'](_0x4584e0*_0x4584e0);_0x2685ed['push'](_0x185610);}return _0x2685ed;}const _i=class _i extends DM{constructor(_0x2819f7){super(_0x2819f7);const _0x4f7f1d=this['device'];this['_forwardDr'+'awCalls']=0x2430+-0xd84+-0x16ac,this['_materialS'+'witches']=0x68b+0x1f2e*0x1+-0x25b9,this['_depthMapT'+'ime']=-0x4bd+0xaad+-0x5f0,this['_forwardTi'+'me']=-0x1685+0x25a3*0x1+-0xf1e*0x1,this['_sortTime']=-0xe87*0x1+-0x1990+-0xd5d*-0x3;const _0x1b690a=_0x4f7f1d['scope'];this['fogColorId']=_0x1b690a['resolve']('fog_color'),this['fogStartId']=_0x1b690a['resolve']('fog_start'),this['fogEndId']=_0x1b690a['resolve']('fog_end'),this['fogDensity'+'Id']=_0x1b690a['resolve']('fog_densit'+'y'),this['ambientId']=_0x1b690a['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x1b690a['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x1b690a['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x1b690a['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x1b690a['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x1b690a['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x7f7*0x1+0x2b*-0x6b+-0xcfa*-0x2),this['fogColor']=new Float32Array(-0x1b88+-0xc84+0x125*0x23),this['ambientCol'+'or']=new Float32Array(0x644+-0x7*-0xd6+-0xc1b*0x1),this['pcssDiskSa'+'mples']=kM(-0x1b92+-0x95*-0x22+0x7d8),this['pcssSphere'+'Samples']=BM(0xeda+-0x1*-0x23e3+-0x1*0x32ad);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x4e2c3e){const _0x1eb318=this['ambientCol'+'or'];if(Wi['linear'](_0x4e2c3e['ambientLig'+'ht']),_0x1eb318[-0x17e*0x3+0x7*0x247+0xb77*-0x1]=Wi['r'],_0x1eb318[0x1223+-0x21e+-0x1004]=Wi['g'],_0x1eb318[-0xeb9+-0x200*-0x9+0x117*-0x3]=Wi['b'],_0x4e2c3e['physicalUn'+'its']){for(let _0x5189a3=-0x7*0x40e+-0x1106+-0x16b4*-0x2;_0x5189a3<-0x1*-0x295+-0x1ee4+0x1c52;_0x5189a3++)_0x1eb318[_0x5189a3]*=_0x4e2c3e['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x1eb318),this['skyboxInte'+'nsityId']['setValue'](_0x4e2c3e['physicalUn'+'its']?_0x4e2c3e['skyboxLumi'+'nance']:_0x4e2c3e['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x4e2c3e['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x121ba8,_0x19bd6f){const _0x1e1f2d='light'+_0x19bd6f;this['lightColor'+'Id'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+'_color'),this['lightDir'][_0x19bd6f]=new Float32Array(-0x3*0x3f9+-0x1bc1+0x27af),this['lightDirId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+'_direction'),this['lightShado'+'wMapId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+'_radius'),this['lightPos'][_0x19bd6f]=new Float32Array(-0x1*0x1aa+0x10a3+-0xef6),this['lightPosId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+'_position'),this['lightWidth'][_0x19bd6f]=new Float32Array(0x5*-0x46f+-0x2650+0x3c7e),this['lightWidth'+'Id'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+'_halfWidth'),this['lightHeigh'+'t'][_0x19bd6f]=new Float32Array(0x2448+0xe8c*-0x1+-0x43*0x53),this['lightHeigh'+'tId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+'_cookie'),this['lightCooki'+'eIntId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x19bd6f]=_0x121ba8['resolve'](_0x1e1f2d+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x494638,_0x2a40d8,_0x53cf33,_0x5efc28,_0x453f99){this['lightPos'][_0x2a40d8][0xf*0x18f+0x1*0x297+-0x19f8]=_0x5efc28['x']-_0x53cf33['x']*_0x453f99,this['lightPos'][_0x2a40d8][0x4f*0x4f+-0x1f0b+-0x1*-0x6ab]=_0x5efc28['y']-_0x53cf33['y']*_0x453f99,this['lightPos'][_0x2a40d8][0x5e7*0x5+-0x562+-0x181f*0x1]=_0x5efc28['z']-_0x53cf33['z']*_0x453f99,this['lightPosId'][_0x2a40d8]['setValue'](this['lightPos'][_0x2a40d8]);const _0x8e5426=_0x494638['transformV'+'ector'](new T(-(-0x3b0*0xa+0x2c3*-0x4+-0x1*-0x2fec+0.5),0x1*0x20a9+-0x5af*-0x1+-0x2658,0x1a62+-0x212d+-0x2f*-0x25));this['lightWidth'][_0x2a40d8][-0x5df+-0x6b3+0xc92]=_0x8e5426['x']*_0x453f99,this['lightWidth'][_0x2a40d8][-0xdbf+0x3d*0x29+0x3fb*0x1]=_0x8e5426['y']*_0x453f99,this['lightWidth'][_0x2a40d8][0xfcf*0x1+0x25e3+-0x35b0]=_0x8e5426['z']*_0x453f99,this['lightWidth'+'Id'][_0x2a40d8]['setValue'](this['lightWidth'][_0x2a40d8]);const _0x41bfcf=_0x494638['transformV'+'ector'](new T(0x12b8+0xa02+-0x1*0x1cba,0x1*-0x22bd+-0x1fb7+-0x1*-0x4274,0x1e14+-0x794+0x168*-0x10+0.5));this['lightHeigh'+'t'][_0x2a40d8][0xc07+-0x2*0xcc7+0x1*0xd87]=_0x41bfcf['x']*_0x453f99,this['lightHeigh'+'t'][_0x2a40d8][0x1f*-0x81+0x1*0x7cf+0x1d*0x45]=_0x41bfcf['y']*_0x453f99,this['lightHeigh'+'t'][_0x2a40d8][-0x11d0+0x12dc*0x1+0x2*-0x85]=_0x41bfcf['z']*_0x453f99,this['lightHeigh'+'tId'][_0x2a40d8]['setValue'](this['lightHeigh'+'t'][_0x2a40d8]);}['dispatchDi'+'rectLights'](_0x24c814,_0x13289f,_0x5803bb){let _0x10717d=0x2*-0x299+-0x449*0x7+0x2331;const _0x451b5c=this['device']['scope'];for(let _0x1b3d50=0x1*0x17f9+0xcf2*-0x1+-0xb07;_0x1b3d50<_0x24c814['length'];_0x1b3d50++){if(!(_0x24c814[_0x1b3d50]['mask']&_0x13289f))continue;const _0x28e3d7=_0x24c814[_0x1b3d50],_0x1d57e1=_0x28e3d7['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x10717d]||this['_resolveLi'+'ght'](_0x451b5c,_0x10717d),this['lightColor'+'Id'][_0x10717d]['setValue'](_0x28e3d7['_colorLine'+'ar']),_0x1d57e1['getY'](_0x28e3d7['_direction'])['mulScalar'](-(0x25c6+-0x3ba+-0x220b)),_0x28e3d7['_direction']['normalize'](),this['lightDir'][_0x10717d][-0x298+0x1*-0x6d5+0x96d*0x1]=_0x28e3d7['_direction']['x'],this['lightDir'][_0x10717d][0xe*-0x1c5+0x41c+-0x1*-0x14ab]=_0x28e3d7['_direction']['y'],this['lightDir'][_0x10717d][0x8*-0x42f+0x95d+0x181d*0x1]=_0x28e3d7['_direction']['z'],this['lightDirId'][_0x10717d]['setValue'](this['lightDir'][_0x10717d]),_0x28e3d7['shape']!==yt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x1d57e1,_0x10717d,_0x28e3d7['_direction'],_0x5803bb['_node']['getPositio'+'n'](),_0x5803bb['farClip']),_0x28e3d7['castShadow'+'s']){const _0x17b4b8=_0x28e3d7['getRenderD'+'ata'](_0x5803bb,0x7ac+-0x17da*0x1+0x102e),_0x59c1e8=_0x28e3d7['_getUnifor'+'mBiasValue'+'s'](_0x17b4b8);this['lightShado'+'wMapId'][_0x10717d]['setValue'](_0x17b4b8['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x10717d]['setValue'](_0x17b4b8['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x10717d]['setValue'](_0x28e3d7['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x10717d]['setValue'](_0x28e3d7['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x10717d]['setValue'](_0x28e3d7['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x10717d]['setValue'](-0x2*-0x26d+0x1c8d*0x1+0x5a*-0x5f-_0x28e3d7['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x10717d]['setValue'](_0x28e3d7['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x10717d]['setValue'](_0x28e3d7['_softShado'+'wParams']),_0x17b4b8['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x10717d]['setValue'](_0x28e3d7['penumbraSi'+'ze']/_0x17b4b8['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x17b4b8['projection'+'Compensati'+'on']);const _0x20f190=_0x28e3d7['_shadowCam'+'eraParams'];_0x20f190['length']=-0x1902+-0x55d*-0x4+0x392*0x1,_0x20f190[0x1697*-0x1+0x15d0*-0x1+-0x4ef*-0x9]=0x2*-0x66a+0x3ff*0x3+0x2b*0x5,_0x20f190[0x4d*-0x55+-0xca*-0xe+-0x8f*-0x1a]=_0x17b4b8['shadowCame'+'ra']['_farClip'],_0x20f190[0x1311+0x1f78+-0x3287]=_0x17b4b8['shadowCame'+'ra']['_nearClip'],_0x20f190[0xf9+0x10e0+-0x8eb*0x2]=-0x11ae+0x10a3*-0x2+0x32f5,this['lightCamer'+'aParamsId'][_0x10717d]['setValue'](_0x20f190);const _0x565416=_0x28e3d7['_shadowRen'+'derParams'];_0x565416['length']=0x150e+0x312*0x9+-0x30ac,_0x565416[-0x8*0xae+-0x229a+0xfa*0x29]=_0x28e3d7['_shadowRes'+'olution'],_0x565416[0xc9f*-0x1+0x83*-0x7+0x1035]=_0x59c1e8['normalBias'],_0x565416[-0x17e+-0x1b8b+-0x1d0b*-0x1]=_0x59c1e8['bias'],_0x565416[-0x1b73*0x1+-0x25b4+0x412a]=-0x716+-0x49b*-0x3+0x1*-0x6bb,this['lightShado'+'wParamsId'][_0x10717d]['setValue'](_0x565416);}_0x10717d++;}return _0x10717d;}['setLTCPosi'+'tionalLigh'+'t'](_0x53917c,_0x36caf4){const _0x428f35=_0x53917c['transformV'+'ector'](new T(-(-0x211*-0x5+0x5a3+-0xff8+0.5),-0x164f*0x1+-0x2046+-0x59*-0x9d,-0x8c4+0x3b*-0x5b+0x1dbd));this['lightWidth'][_0x36caf4][-0x10f*0x11+-0x1d10+0x2f0f]=_0x428f35['x'],this['lightWidth'][_0x36caf4][-0x12f8+0xb2*-0x29+0x2f7b]=_0x428f35['y'],this['lightWidth'][_0x36caf4][-0xd*-0x162+0x12f6+0x146*-0x1d]=_0x428f35['z'],this['lightWidth'+'Id'][_0x36caf4]['setValue'](this['lightWidth'][_0x36caf4]);const _0x15edb4=_0x53917c['transformV'+'ector'](new T(-0x1e23*0x1+-0x1e8f*0x1+0x1*0x3cb2,-0x311*0x1+0x190*-0xf+0x1a81,-0x64b*0x1+0x623*0x2+-0x5fb+0.5));this['lightHeigh'+'t'][_0x36caf4][-0x227e*0x1+-0x1482+0x3700]=_0x15edb4['x'],this['lightHeigh'+'t'][_0x36caf4][0x803+-0x7ca*0x1+-0x38]=_0x15edb4['y'],this['lightHeigh'+'t'][_0x36caf4][-0x1b89+-0x58*0x7+0x1df3]=_0x15edb4['z'],this['lightHeigh'+'tId'][_0x36caf4]['setValue'](this['lightHeigh'+'t'][_0x36caf4]);}['dispatchOm'+'niLight'](_0x52039d,_0x2697e7,_0x30c545){const _0x586879=_0x2697e7['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x30c545]||this['_resolveLi'+'ght'](_0x52039d,_0x30c545),this['lightRadiu'+'sId'][_0x30c545]['setValue'](_0x2697e7['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x30c545]['setValue'](_0x2697e7['_colorLine'+'ar']),_0x586879['getTransla'+'tion'](_0x2697e7['_position']),this['lightPos'][_0x30c545][0xa95+0x1*-0x326+-0xb*0xad]=_0x2697e7['_position']['x'],this['lightPos'][_0x30c545][0xb74*0x1+-0x1e*0x26+-0x6ff]=_0x2697e7['_position']['y'],this['lightPos'][_0x30c545][-0x1247+-0xd2+-0x1*-0x131b]=_0x2697e7['_position']['z'],this['lightPosId'][_0x30c545]['setValue'](this['lightPos'][_0x30c545]),_0x2697e7['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x586879,_0x30c545),_0x2697e7['castShadow'+'s']){const _0x18dbd2=_0x2697e7['getRenderD'+'ata'](null,0x1979*0x1+0x3*-0x851+0x1*-0x86);this['lightShado'+'wMapId'][_0x30c545]['setValue'](_0x18dbd2['shadowBuff'+'er']);const _0x5e956b=_0x2697e7['_getUnifor'+'mBiasValue'+'s'](_0x18dbd2),_0x3681fa=_0x2697e7['_shadowRen'+'derParams'];_0x3681fa['length']=0x110+0x2de*0xa+-0x1db8,_0x3681fa[0x3*-0x6aa+0x2004+-0xc06]=_0x2697e7['_shadowRes'+'olution'],_0x3681fa[-0x14c2+-0x6*-0x557+-0xb47]=_0x5e956b['normalBias'],_0x3681fa[0x134+-0x188+0x56]=_0x5e956b['bias'],_0x3681fa[-0x7d*0x2b+-0x1c3*0x7+0x2157]=(-0x2*-0x5aa+-0x26ad+0x1b5a)/_0x2697e7['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x30c545]['setValue'](_0x3681fa),this['lightShado'+'wIntensity'][_0x30c545]['setValue'](_0x2697e7['shadowInte'+'nsity']);const _0x2bb81b=_0x2697e7['penumbraSi'+'ze']/_0x18dbd2['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x30c545]['setValue'](_0x2bb81b);const _0x3c1073=_0x2697e7['_shadowCam'+'eraParams'];_0x3c1073['length']=-0x1*0x8c2+0x1*-0x1291+0x1*0x1b57,_0x3c1073[-0x1599+-0x13a5+-0x293e*-0x1]=0x189f+-0x638+-0x1267,_0x3c1073[-0x1f71+-0x10b*-0xf+0xfcd]=_0x18dbd2['shadowCame'+'ra']['_farClip'],_0x3c1073[0x1*0x418+-0x164f+0x1239]=_0x18dbd2['shadowCame'+'ra']['_nearClip'],_0x3c1073[-0x8db+-0x8*0x180+0x14de*0x1]=-0x1677+-0x395*0x1+0x1a0c,this['lightCamer'+'aParamsId'][_0x30c545]['setValue'](_0x3c1073);}_0x2697e7['_cookie']&&(this['lightCooki'+'eId'][_0x30c545]['setValue'](_0x2697e7['_cookie']),this['lightShado'+'wMatrixId'][_0x30c545]['setValue'](_0x586879['data']),this['lightCooki'+'eIntId'][_0x30c545]['setValue'](_0x2697e7['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x145d3d,_0x3f7c64,_0x1fea68){const _0x3e6441=_0x3f7c64['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x1fea68]||this['_resolveLi'+'ght'](_0x145d3d,_0x1fea68),this['lightInAng'+'leId'][_0x1fea68]['setValue'](_0x3f7c64['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x1fea68]['setValue'](_0x3f7c64['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x1fea68]['setValue'](_0x3f7c64['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x1fea68]['setValue'](_0x3f7c64['_colorLine'+'ar']),_0x3e6441['getTransla'+'tion'](_0x3f7c64['_position']),this['lightPos'][_0x1fea68][0x7*0x3d9+0xb*-0xef+-0x10aa]=_0x3f7c64['_position']['x'],this['lightPos'][_0x1fea68][0x6d2+-0x25da+0x1f09]=_0x3f7c64['_position']['y'],this['lightPos'][_0x1fea68][-0x107d+0x1475*-0x1+0x24f4]=_0x3f7c64['_position']['z'],this['lightPosId'][_0x1fea68]['setValue'](this['lightPos'][_0x1fea68]),_0x3f7c64['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x3e6441,_0x1fea68),_0x3e6441['getY'](_0x3f7c64['_direction'])['mulScalar'](-(0x1*0x119+0x5*0x3ab+-0x3e3*0x5)),_0x3f7c64['_direction']['normalize'](),this['lightDir'][_0x1fea68][-0x1*-0xfad+-0x19bc+0x5*0x203]=_0x3f7c64['_direction']['x'],this['lightDir'][_0x1fea68][0x167a+-0x22ed*0x1+0xc74]=_0x3f7c64['_direction']['y'],this['lightDir'][_0x1fea68][-0x25*-0x73+0x178c+-0x1*0x2829]=_0x3f7c64['_direction']['z'],this['lightDirId'][_0x1fea68]['setValue'](this['lightDir'][_0x1fea68]),_0x3f7c64['castShadow'+'s']){const _0x229671=_0x3f7c64['getRenderD'+'ata'](null,-0xd0+0x2592+-0x5*0x75a);this['lightShado'+'wMapId'][_0x1fea68]['setValue'](_0x229671['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x1fea68]['setValue'](_0x229671['shadowMatr'+'ix']['data']);const _0x416d34=_0x3f7c64['_getUnifor'+'mBiasValue'+'s'](_0x229671),_0x499df9=_0x3f7c64['_shadowRen'+'derParams'];_0x499df9['length']=-0xaca+-0x8cf+0x139d,_0x499df9[-0x9e3*0x3+-0x2228+-0x20f*-0x1f]=_0x3f7c64['_shadowRes'+'olution'],_0x499df9[0x44c+0x18c2*-0x1+-0xa9*-0x1f]=_0x416d34['normalBias'],_0x499df9[-0x595+0x8*-0x80+-0x5*-0x1eb]=_0x416d34['bias'],_0x499df9[-0x1b9c+-0x1e8e*-0x1+-0x2ef*0x1]=(0x393+-0x1f89*0x1+0x1bf7)/_0x3f7c64['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x1fea68]['setValue'](_0x499df9),this['lightShado'+'wIntensity'][_0x1fea68]['setValue'](_0x3f7c64['shadowInte'+'nsity']);const _0x201a9e=_0x3f7c64['penumbraSi'+'ze']/_0x229671['shadowCame'+'ra']['renderTarg'+'et']['width'],_0xa30a2c=_0x229671['shadowCame'+'ra']['_fov']*Math['PI']/(0x2392*0x1+-0x13f7+-0x7*0x221),_0x128cb9=(0x1*0x1a77+0x6c0+-0x2136)/Math['tan'](_0xa30a2c/(0x78a+0x1233+-0x19bb));this['lightShado'+'wSearchAre'+'aId'][_0x1fea68]['setValue'](_0x201a9e*_0x128cb9);const _0x168ad2=_0x3f7c64['_shadowCam'+'eraParams'];_0x168ad2['length']=0x70e+0x2*-0x9d+-0x5d0,_0x168ad2[-0x1466+-0x20dd+-0x1*-0x3543]=-0x3d*-0x1c+-0x11ff*-0x1+0x4ef*-0x5,_0x168ad2[0x2e3+-0x1*0x142f+0x2b*0x67]=_0x229671['shadowCame'+'ra']['_farClip'],_0x168ad2[-0x19a5+-0xe34+0x27db]=_0x229671['shadowCame'+'ra']['_nearClip'],_0x168ad2[-0xe5d*-0x1+0x7ef*-0x1+-0x66b]=-0x1b*-0x27+-0xa48+0x62b*0x1,this['lightCamer'+'aParamsId'][_0x1fea68]['setValue'](_0x168ad2);}if(_0x3f7c64['_cookie']){if(!_0x3f7c64['castShadow'+'s']){const _0x3c19c2=Ma['evalSpotCo'+'okieMatrix'](_0x3f7c64);this['lightShado'+'wMatrixId'][_0x1fea68]['setValue'](_0x3c19c2['data']);}this['lightCooki'+'eId'][_0x1fea68]['setValue'](_0x3f7c64['_cookie']),this['lightCooki'+'eIntId'][_0x1fea68]['setValue'](_0x3f7c64['cookieInte'+'nsity']),_0x3f7c64['_cookieTra'+'nsform']&&(_0x3f7c64['_cookieTra'+'nsformUnif'+'orm'][0x682+0x4*0x77+-0x85e]=_0x3f7c64['_cookieTra'+'nsform']['x'],_0x3f7c64['_cookieTra'+'nsformUnif'+'orm'][-0xf89*0x1+-0x1e*0xe2+0x2a06]=_0x3f7c64['_cookieTra'+'nsform']['y'],_0x3f7c64['_cookieTra'+'nsformUnif'+'orm'][-0x1ebd+-0x259b+0x445a]=_0x3f7c64['_cookieTra'+'nsform']['z'],_0x3f7c64['_cookieTra'+'nsformUnif'+'orm'][-0x1*-0x17ea+0x10de+0x1*-0x28c5]=_0x3f7c64['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x1fea68]['setValue'](_0x3f7c64['_cookieTra'+'nsformUnif'+'orm']),_0x3f7c64['_cookieOff'+'setUniform'][0x171+-0x195e+0x17ed]=_0x3f7c64['_cookieOff'+'set']['x'],_0x3f7c64['_cookieOff'+'setUniform'][-0x1*0x1803+-0x737*-0x5+0x3f*-0x31]=_0x3f7c64['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x1fea68]['setValue'](_0x3f7c64['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x35781a,_0xd5a27d,_0x84f30b){let _0x5788b1=_0x84f30b;const _0x206c7a=this['device']['scope'],_0x236787=_0x35781a[Pe],_0x2ff888=_0x236787['length'];for(let _0x284001=0x1f25+-0x8*0x2bf+-0x57*0x1b;_0x284001<_0x2ff888;_0x284001++){const _0xcb971b=_0x236787[_0x284001];_0xcb971b['mask']&_0xd5a27d&&(this['dispatchOm'+'niLight'](_0x206c7a,_0xcb971b,_0x5788b1),_0x5788b1++);}const _0x494336=_0x35781a[Re],_0x28f848=_0x494336['length'];for(let _0x3ffccd=-0x15b7+0xe99*-0x1+-0x2450*-0x1;_0x3ffccd<_0x28f848;_0x3ffccd++){const _0x5a6001=_0x494336[_0x3ffccd];_0x5a6001['mask']&_0xd5a27d&&(this['dispatchSp'+'otLight'](_0x206c7a,_0x5a6001,_0x5788b1),_0x5788b1++);}}['renderForw'+'ardPrepare'+'Materials'](_0x4415d2,_0x5146ef,_0x4e8e23,_0x2c0c2d,_0x44327f,_0x31581a){const _0x3ae531=_0x4415d2['fog']??this['scene']['fog'],_0x413f6c=_0x4415d2['shaderPara'+'ms'];_0x413f6c['fog']=_0x3ae531['type'],_0x413f6c['srgbRender'+'Target']=(_0x5146ef==null?void(-0x314*-0x6+0x21b7+0x3d*-0xdb):_0x5146ef['isColorBuf'+'ferSrgb'](-0x530*0x7+-0xe98+0x9*0x5a8))??!(0xeb8+-0x2419+0x1562);const _0xd3813f=(_0x136b26,_0xb0d1d9,_0x711049,_0x5cef39)=>{br['drawCalls']['push'](_0x136b26),br['shaderInst'+'ances']['push'](_0xb0d1d9),br['isNewMater'+'ial']['push'](_0x711049),br['lightMaskC'+'hanged']['push'](_0x5cef39);};br['clear']();const _0x38ed3e=this['device'],_0x34efb5=this['scene'],_0x27562b=_0x34efb5['clusteredL'+'ightingEna'+'bled'],_0x879dd=(_0x44327f==null?void(-0x1ea4+-0x50*-0x3a+-0xc*-0x10b):_0x44327f['getLightHa'+'sh'](_0x27562b))??-0x16f8+0x1d26+-0x62e;let _0x3b94a5=null,_0x3311a7,_0x29ffaa;const _0x3884c6=_0x4e8e23['length'];for(let _0x491a8a=0x3*-0x34a+0x15c*0x5+0x312;_0x491a8a<_0x3884c6;_0x491a8a++){const _0x536526=_0x4e8e23[_0x491a8a];if(_0x4415d2===_i['skipRender'+'Camera']){if(_i['_skipRende'+'rCounter']>=_i['skipRender'+'After'])continue;_i['_skipRende'+'rCounter']++;}if(_0x44327f){if(_0x44327f['_skipRende'+'rCounter']>=_0x44327f['skipRender'+'After'])continue;_0x44327f['_skipRende'+'rCounter']++;}_0x536526['ensureMate'+'rial'](_0x38ed3e);const _0x3b88b2=_0x536526['material'],_0x586335=_0x536526['_shaderDef'+'s'],_0xebfb67=_0x536526['mask'];_0x3b88b2&&_0x3b88b2===_0x3b94a5&&_0x586335!==_0x3311a7&&(_0x3b94a5=null),_0x3b88b2!==_0x3b94a5&&(this['_materialS'+'witches']++,_0x3b88b2['_scene']=_0x34efb5,_0x3b88b2['dirty']&&(G['pushGpuMar'+'ker'](_0x38ed3e,'Node:\x20'+_0x536526['node']['name']+(',\x20Material'+':\x20')+_0x3b88b2['name']),_0x3b88b2['updateUnif'+'orms'](_0x38ed3e,_0x34efb5),_0x3b88b2['dirty']=!(-0xab8+-0x282*-0xe+-0x1863),G['popGpuMark'+'er'](_0x38ed3e)));const _0xb87f2b=_0x536526['getShaderI'+'nstance'](_0x31581a,_0x879dd,_0x34efb5,_0x413f6c,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x2c0c2d);_0xd3813f(_0x536526,_0xb87f2b,_0x3b88b2!==_0x3b94a5,!_0x3b94a5||_0xebfb67!==_0x29ffaa),_0x3b94a5=_0x3b88b2,_0x3311a7=_0x586335,_0x29ffaa=_0xebfb67;}return br;}['renderForw'+'ardInterna'+'l'](_0x23eb87,_0xcf395a,_0x507551,_0x1adf2b,_0x1de7b2,_0x4b2728){const _0x1024c2=this['device'],_0x36ab8e=this['scene'],_0x113e4c=0x1c86+0x1*0x6e1+-0x1*0x2366<<_0x1adf2b,_0x228d73=_0x4b2728?-(0xb44+0x5b4*-0x2+0x25):-0x1dde+-0x1cea*0x1+-0x1*-0x3ac9,_0x97e48c=_0x36ab8e['clusteredL'+'ightingEna'+'bled'],_0x22cb24=_0xcf395a['drawCalls']['length'];for(let _0x4ff94a=0x76f*-0x1+0x985+0x216*-0x1;_0x4ff94a<_0x22cb24;_0x4ff94a++){const _0x5f19c6=_0xcf395a['drawCalls'][_0x4ff94a],_0xfbe531=_0xcf395a['isNewMater'+'ial'][_0x4ff94a],_0x4d4d69=_0xcf395a['lightMaskC'+'hanged'][_0x4ff94a],_0x28b7a7=_0xcf395a['shaderInst'+'ances'][_0x4ff94a],_0x4565a6=_0x5f19c6['material'],_0xdf7e2c=_0x5f19c6['mask'];if(_0xfbe531){if(_0x1024c2['setShader'](_0x28b7a7['shader'],!(0x1*0x2b1+-0x1236+0xf86)),_0x4565a6['setParamet'+'ers'](_0x1024c2),_0x4d4d69){const _0x1042bf=this['dispatchDi'+'rectLights'](_0x507551[oe],_0xdf7e2c,_0x23eb87);_0x97e48c||this['dispatchLo'+'calLights'](_0x507551,_0xdf7e2c,_0x1042bf);}this['alphaTestI'+'d']['setValue'](_0x4565a6['alphaTest']),_0x1024c2['setBlendSt'+'ate'](_0x4565a6['blendState']),_0x1024c2['setDepthSt'+'ate'](_0x4565a6['depthState']),_0x1024c2['setAlphaTo'+'Coverage'](_0x4565a6['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x1024c2,'Node:\x20'+_0x5f19c6['node']['name']+(',\x20Material'+':\x20')+_0x4565a6['name']),this['setupCullM'+'ode'](_0x23eb87['_cullFaces'],_0x228d73,_0x5f19c6);const _0x2a5ea3=_0x5f19c6['stencilFro'+'nt']??_0x4565a6['stencilFro'+'nt'],_0x247dbb=_0x5f19c6['stencilBac'+'k']??_0x4565a6['stencilBac'+'k'];_0x1024c2['setStencil'+'State'](_0x2a5ea3,_0x247dbb),_0x5f19c6['setParamet'+'ers'](_0x1024c2,_0x113e4c),_0x1024c2['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x5f19c6['id']);const _0x3d787c=_0x5f19c6['mesh'];this['setVertexB'+'uffers'](_0x1024c2,_0x3d787c),this['setMorphin'+'g'](_0x1024c2,_0x5f19c6['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x1024c2,_0x5f19c6),this['setupMeshU'+'niformBuff'+'ers'](_0x28b7a7,_0x5f19c6);const _0x441d78=_0x5f19c6['renderStyl'+'e'];if(_0x1024c2['setIndexBu'+'ffer'](_0x3d787c['indexBuffe'+'r'][_0x441d78]),_0x1de7b2==null||_0x1de7b2(_0x5f19c6,_0x4ff94a),_0x23eb87['xr']&&_0x23eb87['xr']['session']&&_0x23eb87['xr']['views']['list']['length']){const _0x340eae=_0x23eb87['xr']['views'];for(let _0x4d79db=0x15bc+0x313*0xb+-0x378d;_0x4d79db<_0x340eae['list']['length'];_0x4d79db++){const _0x1d9a67=_0x340eae['list'][_0x4d79db];_0x1024c2['setViewpor'+'t'](_0x1d9a67['viewport']['x'],_0x1d9a67['viewport']['y'],_0x1d9a67['viewport']['z'],_0x1d9a67['viewport']['w']),this['projId']['setValue'](_0x1d9a67['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x1d9a67['projMat']['data']),this['viewId']['setValue'](_0x1d9a67['viewOffMat']['data']),this['viewInvId']['setValue'](_0x1d9a67['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x1d9a67['viewMat3']['data']),this['viewProjId']['setValue'](_0x1d9a67['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x1d9a67['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x4d79db),_0x4d79db===-0x12*0x11a+-0xc67+0x203b?this['drawInstan'+'ce'](_0x1024c2,_0x5f19c6,_0x3d787c,_0x441d78,!(0x2390+-0x45c+-0x4*0x7cd)):this['drawInstan'+'ce2'](_0x1024c2,_0x5f19c6,_0x3d787c,_0x441d78),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x1024c2,_0x5f19c6,_0x3d787c,_0x441d78,!(0xa53+0x1ca8+-0x26fb)),this['_forwardDr'+'awCalls']++;_0x4ff94a<_0x22cb24-(0xe5a+-0x464+-0x9f5)&&!_0xcf395a['isNewMater'+'ial'][_0x4ff94a+(-0x571+0xa98+-0x2*0x293)]&&_0x4565a6['setParamet'+'ers'](_0x1024c2,_0x5f19c6['parameters']),G['popGpuMark'+'er'](_0x1024c2);}}['renderForw'+'ard'](_0x4c51f8,_0x1c65a4,_0x3a42a7,_0x1f1065,_0x440e02,_0x54f298,_0x16c196,_0x367cdd){const _0x25d0a3=ne(),_0x3426ff=this['renderForw'+'ardPrepare'+'Materials'](_0x4c51f8,_0x1c65a4,_0x3a42a7,_0x1f1065,_0x16c196,_0x440e02);this['renderForw'+'ardInterna'+'l'](_0x4c51f8,_0x3426ff,_0x1f1065,_0x440e02,_0x54f298,_0x367cdd),br['clear'](),this['_forwardTi'+'me']+=ne()-_0x25d0a3;}['renderForw'+'ardLayer'](_0x324d81,_0x50c5a6,_0x710eb5,_0x2f96f4,_0x42d8df,_0x34cdff,_0x47ecf4={}){const {scene:_0x3b099c,device:_0x4f1aa1}=this,_0x58c895=_0x3b099c['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x324d81,_0x50c5a6);let _0x479157,_0x3cc736;if(_0x710eb5){const _0x4a8ec9=ne();_0x710eb5['sortVisibl'+'e'](_0x324d81,_0x2f96f4),this['_sortTime']+=ne()-_0x4a8ec9;const _0x271e5a=_0x710eb5['getCulledI'+'nstances'](_0x324d81);_0x479157=_0x2f96f4?_0x271e5a['transparen'+'t']:_0x271e5a['opaque'],_0x3b099c['immediate']['onPreRende'+'rLayer'](_0x710eb5,_0x479157,_0x2f96f4),_0x710eb5['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x3b099c['ambientLig'+'ht'],_0x710eb5['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x3cc736=_0x710eb5['splitLight'+'s'];}else _0x479157=_0x47ecf4['meshInstan'+'ces'],_0x3cc736=_0x47ecf4['splitLight'+'s']??OM;if(v['assert'](_0x479157,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x58c895){const _0x58a142=_0x47ecf4['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x58a142['activate'](),_0x710eb5&&!this['clustersDe'+'bugRendere'+'d']&&_0x3b099c['lighting']['debugLayer']===_0x710eb5['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0x1184+0x2191+-0x1*0x100d),Vu['render'](_0x58a142,this['scene']));}_0x3b099c['_activeCam'+'era']=_0x324d81;const _0x25fe68=_0x324d81['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x25fe68);const _0x41556b=this['setCameraU'+'niforms'](_0x324d81,_0x50c5a6);_0x4f1aa1['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x34cdff,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x41556b);const _0x3a09c3=_0x47ecf4['clearColor']??!(0x1719+0x59d+-0x1cb5),_0x401b18=_0x47ecf4['clearDepth']??!(-0x2476+-0x1*0x18f5+0xf5b*0x4),_0x42e29d=_0x47ecf4['clearStenc'+'il']??!(0x1028+-0x22a6+0x127f);(_0x3a09c3||_0x401b18||_0x42e29d)&&this['clear'](_0x324d81,_0x3a09c3,_0x401b18,_0x42e29d);const _0x1804ab=!!(_0x324d81['_flipFaces']^(_0x50c5a6==null?void(-0x1361*0x1+0x25d8+0xa3*-0x1d):_0x50c5a6['flipY'])),_0x30f14f=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x324d81,_0x50c5a6,_0x479157,_0x3cc736,_0x42d8df,null,_0x710eb5,_0x1804ab),_0x710eb5&&(_0x710eb5['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x30f14f);}['setFogCons'+'tants'](_0x17a28e){if(_0x17a28e['type']!==Fa){Wi['linear'](_0x17a28e['color']);const _0x33900a=this['fogColor'];_0x33900a[0x1fcf+-0x81f+-0x17b0]=Wi['r'],_0x33900a[-0x1d0+-0x1a7a+0x1c4b]=Wi['g'],_0x33900a[0xa22*0x3+-0xc61*-0x1+-0x2ac5]=Wi['b'],this['fogColorId']['setValue'](_0x33900a),_0x17a28e['type']===zb?(this['fogStartId']['setValue'](_0x17a28e['start']),this['fogEndId']['setValue'](_0x17a28e['end'])):this['fogDensity'+'Id']['setValue'](_0x17a28e['density']);}}['setSceneCo'+'nstants'](){const _0x392678=this['scene'];this['dispatchGl'+'obalLights'](_0x392678);const _0x6f4255=this['device'];this['_screenSiz'+'e'][0x127*0x1c+-0x106+-0x3e*0x81]=_0x6f4255['width'],this['_screenSiz'+'e'][0x24f8+-0xa7*-0x3+0xbc*-0x35]=_0x6f4255['height'],this['_screenSiz'+'e'][0x1*-0x1d12+-0x2454+-0x256*-0x1c]=(-0x6bc+-0x220c+0x28c9)/_0x6f4255['width'],this['_screenSiz'+'e'][-0x720+-0x1169+-0x2*-0xc46]=(-0x38f*0x5+0xaa4+0x728)/_0x6f4255['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0xb60fa,_0x410ffa){const _0x5966ac=this['scene'];if(_0xb60fa['reset'](),_0x5966ac['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x2f83a2,cookiesEnabled:_0x47c433}=_0x5966ac['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0xb60fa,_0x2f83a2,_0x47c433,this['lights'],this['localLight'+'s']),_0xb60fa['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0xb60fa,this['localLight'+'s']);let _0x543f65=-0x179*-0x2+-0x15ba+0x12c8*0x1,_0x17ef7a=!(0x1343*0x2+-0xf10+-0x1776),_0x17a78e=null;const _0x1feffa=_0x410ffa['_renderAct'+'ions'];for(let _0x197e92=_0x543f65;_0x197e92<_0x1feffa['length'];_0x197e92++){const _0x27ccd4=_0x1feffa[_0x197e92],{layer:_0xe18466,camera:_0x654325}=_0x27ccd4;if(_0x27ccd4['useCameraP'+'asses'])v['call'](()=>{_0x654325['postEffect'+'s']['effects']['length']>-0x15ed+0x5*0x707+-0x13*0xb2&&v['warnOnce']('Camera\x20\x27'+_0x654325['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x654325['camera']['renderPass'+'es']['forEach'](_0x53ff76=>{_0xb60fa['addRenderP'+'ass'](_0x53ff76);});else{const _0x46fdba=_0xe18466['id']===Xt,_0x249f9f=_0x46fdba&&(_0x654325['renderScen'+'eColorMap']||_0x654325['renderScen'+'eDepthMap']);_0x17ef7a&&(_0x17ef7a=!(-0x473+-0x1bcb+-0x673*-0x5),_0x543f65=_0x197e92,_0x17a78e=_0x27ccd4['renderTarg'+'et']);const _0x3f0b87=_0x1feffa[_0x197e92+(0x12cf+-0x202d*-0x1+-0x32fb)],_0x39435e=(_0x3f0b87?!_0x3f0b87['useCameraP'+'asses']&&_0x3f0b87['layer']['id']===Xt:!(-0x172*-0x15+-0xa54*0x2+0x9b1*-0x1))&&(_0x654325['renderScen'+'eColorMap']||_0x654325['renderScen'+'eDepthMap']),_0x3f6b26=_0x3f0b87?_0x3f0b87['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x3f0b87['camera']['camera']):!(-0x1*0x65e+0xb23+0x2*-0x262);if(!_0x3f0b87||_0x3f0b87['renderTarg'+'et']!==_0x17a78e||_0x3f6b26||_0x39435e||_0x249f9f){if(_0x46fdba&&_0x543f65===_0x197e92||this['addMainRen'+'derPass'](_0xb60fa,_0x410ffa,_0x17a78e,_0x543f65,_0x197e92),_0x46fdba){if(_0x654325['renderScen'+'eColorMap']){const _0x5c2308=_0x654325['camera']['renderPass'+'ColorGrab'];_0x5c2308['source']=_0x654325['renderTarg'+'et'],_0xb60fa['addRenderP'+'ass'](_0x5c2308);}_0x654325['renderScen'+'eDepthMap']&&_0xb60fa['addRenderP'+'ass'](_0x654325['camera']['renderPass'+'DepthGrab']);}if(_0x27ccd4['triggerPos'+'tprocess']&&(_0x654325!=null&&_0x654325['onPostproc'+'essing'])){const _0x2dd7f8=new FM(this['device'],this,_0x27ccd4);_0xb60fa['addRenderP'+'ass'](_0x2dd7f8);}_0x17ef7a=!(0xc22*0x2+-0x1*-0x991+-0x21d5);}}}}['addMainRen'+'derPass'](_0x164508,_0x10f072,_0x4418de,_0x4038f5,_0x43bdba){const _0x428259=new LM(this['device'],_0x10f072,this['scene'],this);_0x428259['init'](_0x4418de);const _0x1797ae=_0x10f072['_renderAct'+'ions'];for(let _0x2d7b3a=_0x4038f5;_0x2d7b3a<=_0x43bdba;_0x2d7b3a++)_0x428259['addRenderA'+'ction'](_0x1797ae[_0x2d7b3a]);_0x164508['addRenderP'+'ass'](_0x428259);}['update'](_0x39ce79){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x39ce79),this['collectLig'+'hts'](_0x39ce79),this['beginFrame'](_0x39ce79),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x39ce79),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(_i,'skipRender'+'Camera',null),c(_i,'_skipRende'+'rCounter',0x56+0xc85*0x3+0x25e5*-0x1),c(_i,'skipRender'+'After',-0x11ca+-0x1cf0+-0x2*-0x175d);let Gh=_i,zd=-0xfd*0x1e+0x1*-0x17c2+-0x6ad*-0x8;const ja=[],Ol=new Set();function NM(_0x49dfb3,_0x63d681){return _0x49dfb3['drawOrder']-_0x63d681['drawOrder'];}function zM(_0x592308,_0xa406ed){const _0x27c0ad=_0x592308['_key'][Ei],_0xdf4861=_0xa406ed['_key'][Ei];return _0x27c0ad===_0xdf4861&&_0x592308['mesh']&&_0xa406ed['mesh']?_0xa406ed['mesh']['id']-_0x592308['mesh']['id']:_0xdf4861-_0x27c0ad;}function UM(_0x529715,_0x23c34e){return _0x23c34e['zdist']-_0x529715['zdist'];}function VM(_0x31100f,_0x664f9c){return _0x31100f['zdist']-_0x664f9c['zdist'];}const GM=[null,NM,zM,UM,VM];class HM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Lr{constructor(_0x5d944f={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(-0x1aeb*0x1+-0x1*-0xfec+-0x5*-0x233)),c(this,'requiresLi'+'ghtCube',!(0x115d+0x11*-0x243+0x1*0x1517)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(-0x1*0x1dc3+0x6*-0x2d9+0x2eda)),(_0x5d944f['id']!==void(0x26c3*0x1+-0x1e5a+-0x869)?(this['id']=_0x5d944f['id'],zd=Math['max'](this['id']+(-0x25*-0xe7+-0x24a3*0x1+0x341),zd)):this['id']=zd++,this['name']=_0x5d944f['name'],this['_enabled']=_0x5d944f['enabled']??!(-0xed*0x5+-0x1040+0x14e1*0x1),this['_refCounte'+'r']=this['_enabled']?0x23*-0xf9+0x14df+0xd2d:-0x53d*-0x3+0xb45*0x1+-0x13a*0x16,this['opaqueSort'+'Mode']=_0x5d944f['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x5d944f['transparen'+'tSortMode']??Bm,_0x5d944f['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x5d944f['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x5d944f['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x5d944f['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x5d944f['clearStenc'+'ilBuffer'],this['onEnable']=_0x5d944f['onEnable'],this['onDisable']=_0x5d944f['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=-0x566+0xeab+-0x945,this['_lightHash'+'Dirty']=!(-0x2b*0x3c+-0x1*-0x10d+0x908),this['_lightIdHa'+'sh']=-0x142d*-0x1+-0x8a8*0x1+-0xb85*0x1,this['_lightIdHa'+'shDirty']=!(0x1ec2+-0x226+0x989*-0x3),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x2341+0x10bc+0x1285,this['_renderTim'+'e']=0x2e9+-0xa*-0x128+-0xe79,this['_forwardDr'+'awCalls']=0x1ea5+-0x26b4+0x80f,this['_shadowDra'+'wCalls']=0xd*-0xd+-0x7bc+0x865,this['_shaderVer'+'sion']=-(-0xde3+-0x19a8+0x278c));}set['enabled'](_0xef894){_0xef894!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0x9ef*0x1+0x140d+-0x1dfc),this['_enabled']=_0xef894,_0xef894?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x4399d5){this['_clearColo'+'rBuffer']=_0x4399d5,this['_dirtyComp'+'osition']=!(-0xb26*-0x1+-0x92*0xc+-0x1d*0x26);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x14a7ac){this['_clearDept'+'hBuffer']=_0x14a7ac,this['_dirtyComp'+'osition']=!(-0x1efe+0x2213+-0x315);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x4b701e){this['_clearSten'+'cilBuffer']=_0x4b701e,this['_dirtyComp'+'osition']=!(-0x1*0x753+0x2026+-0x18d3);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x1*0x224f+0x757+0x1af8;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x6*0x1a1+-0x223d+0x1877&&(this['_enabled']=!(0x11a4+0x1147+-0x22eb),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x1*-0x942+-0x1*0x1639+0x1f7c)this['_enabled']=!(0x11af+-0x1*-0x9c5+-0x1b73),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x18a1+0x1*0x1c25+-0x384){v['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x1b8843,_0x2ef833){const _0xeff434=this['meshInstan'+'ces'],_0x550c94=this['meshInstan'+'cesSet'];for(let _0x246218=-0x50*-0x3a+0x23dc+-0x35fc;_0x246218<_0x1b8843['length'];_0x246218++){const _0x6880c7=_0x1b8843[_0x246218];_0x550c94['has'](_0x6880c7)||(_0xeff434['push'](_0x6880c7),_0x550c94['add'](_0x6880c7),Ol['add'](_0x6880c7['material']));}if(_0x2ef833||this['addShadowC'+'asters'](_0x1b8843),Ol['size']>-0x1*-0x26ad+-0x1*0x3da+-0x22d3){const _0x1e9abf=this['_shaderVer'+'sion'];Ol['forEach'](_0x5f56c7=>{_0x1e9abf>=-0x1*0x1cd6+-0x16d9+-0x1*-0x33af&&_0x5f56c7['_shaderVer'+'sion']!==_0x1e9abf&&(_0x5f56c7['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant']&&_0x5f56c7['clearVaria'+'nts'](),_0x5f56c7['_shaderVer'+'sion']=_0x1e9abf);}),Ol['clear']();}}['removeMesh'+'Instances'](_0x3d03cd,_0x34b963){const _0x47b3ed=this['meshInstan'+'ces'],_0x3e626b=this['meshInstan'+'cesSet'];for(let _0x4886ea=-0x9*0x3bd+-0x21+0x21c6;_0x4886ea<_0x3d03cd['length'];_0x4886ea++){const _0x10d501=_0x3d03cd[_0x4886ea];if(_0x3e626b['has'](_0x10d501)){_0x3e626b['delete'](_0x10d501);const _0x35faa8=_0x47b3ed['indexOf'](_0x10d501);_0x35faa8>=0x7ed*-0x2+0x191d+-0x943&&_0x47b3ed['splice'](_0x35faa8,0x21e3*-0x1+-0x79d+0x1*0x2981);}}_0x34b963||this['removeShad'+'owCasters'](_0x3d03cd);}['addShadowC'+'asters'](_0x3f8306){const _0x3b634f=this['shadowCast'+'ers'],_0x132591=this['shadowCast'+'ersSet'];for(let _0x179b75=0x1f*-0x7f+0x8*0x4c+0x1*0xd01;_0x179b75<_0x3f8306['length'];_0x179b75++){const _0x3a3e22=_0x3f8306[_0x179b75];_0x3a3e22['castShadow']&&!_0x132591['has'](_0x3a3e22)&&(_0x132591['add'](_0x3a3e22),_0x3b634f['push'](_0x3a3e22));}}['removeShad'+'owCasters'](_0x384c50){const _0x3122ec=this['shadowCast'+'ers'],_0x1bec1b=this['shadowCast'+'ersSet'];for(let _0x4af711=-0x1*-0x94e+0x115c+-0x1aaa;_0x4af711<_0x384c50['length'];_0x4af711++){const _0x5b13a9=_0x384c50[_0x4af711];if(_0x1bec1b['has'](_0x5b13a9)){_0x1bec1b['delete'](_0x5b13a9);const _0x12fd6d=_0x3122ec['indexOf'](_0x5b13a9);_0x12fd6d>=-0x6e2*0x1+0x4*-0x6b+0x88e&&_0x3122ec['splice'](_0x12fd6d,0x139*0x3+0x157*0x11+-0x1a71);}}}['clearMeshI'+'nstances'](_0x19c841=!(0x70f*-0x1+-0x19+-0x729*-0x1)){this['meshInstan'+'ces']['length']=0x22fc+0x116a+0x26*-0x161,this['meshInstan'+'cesSet']['clear'](),_0x19c841||(this['shadowCast'+'ers']['length']=0x7ca+-0x89*0x8+-0x382*0x1,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x90c+0x446*-0x7+0x26f6),this['_lightIdHa'+'shDirty']=!(-0x634*-0x1+0xaf*0x37+-0x2bcd),this['_splitLigh'+'tsDirty']=!(-0xc4b*0x1+0x24f2+-0x18a7);}['hasLight'](_0x3b5519){return this['_lightsSet']['has'](_0x3b5519);}['addLight'](_0x80b3db){const _0x440263=_0x80b3db['light'];this['_lightsSet']['has'](_0x440263)||(this['_lightsSet']['add'](_0x440263),this['_lights']['push'](_0x440263),this['markLights'+'Dirty']()),_0x440263['type']!==oe&&this['_clustered'+'LightsSet']['add'](_0x440263);}['removeLigh'+'t'](_0x4bcba4){const _0x501289=_0x4bcba4['light'];this['_lightsSet']['has'](_0x501289)&&(this['_lightsSet']['delete'](_0x501289),this['_lights']['splice'](this['_lights']['indexOf'](_0x501289),0x1c44*-0x1+0x1*0x6e1+0x1564),this['markLights'+'Dirty']()),_0x501289['type']!==oe&&this['_clustered'+'LightsSet']['delete'](_0x501289);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x595525=>_0x595525['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x1*0xf09+0x19f2+0x85*-0x15,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0x18cd+-0x1adf*0x1+-0x213*-0x1);const _0x3ff381=this['_splitLigh'+'ts'];for(let _0x57e58c=0x1152+0x1dba+-0x4*0xbc3;_0x57e58c<_0x3ff381['length'];_0x57e58c++)_0x3ff381[_0x57e58c]['length']=0x125c+0x12ff*0x2+-0x385a*0x1;const _0x79009=this['_lights'];for(let _0x396db9=0xb*0x6d+0x10*0xdf+-0x129f;_0x396db9<_0x79009['length'];_0x396db9++){const _0x299a57=_0x79009[_0x396db9];_0x299a57['enabled']&&_0x3ff381[_0x299a57['_type']]['push'](_0x299a57);}for(let _0xcbb9d1=0x2482*-0x1+-0x44e*0x5+0x3a08;_0xcbb9d1<_0x3ff381['length'];_0xcbb9d1++)_0x3ff381[_0xcbb9d1]['sort']((_0x1acc67,_0x46b4b8)=>_0x1acc67['key']-_0x46b4b8['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x130a2e,_0x5211c8,_0x2a4565){let _0x31b7cc=0x1016+-0x2435+-0x11*-0x12f;const _0x27e893=this['_lights'];for(let _0x1fd3c5=0x1028*0x2+0x83e+0x288e*-0x1;_0x1fd3c5<_0x27e893['length'];_0x1fd3c5++){const _0x39f9c8=_0x27e893[_0x1fd3c5]['type']!==oe;(_0x130a2e&&_0x39f9c8||_0x5211c8&&!_0x39f9c8)&&ja['push'](_0x2a4565?_0x27e893[_0x1fd3c5]['id']:_0x27e893[_0x1fd3c5]['key']);}return ja['length']>-0x17d4+0x4*0x220+0xf54&&(ja['sort'](),_0x31b7cc=Zy(ja),ja['length']=-0x18c+0x59a+0x3*-0x15a),_0x31b7cc;}['getLightHa'+'sh'](_0x32bc47){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0x14e*-0x7+0x6c9+0x25a),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x32bc47,!(-0x239*-0x7+0xbf+0x827*-0x2),!(-0x5fa+-0x80*0x4b+0x1*0x2b7b))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x15b8+0x78d*0x3+-0x2c5e),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x15db+-0xad3*0x1+0x20ae),!(-0xeb*0x2+-0x15+0x1ec),!(0x1*-0xdfa+-0x19db+0x135*0x21))),this['_lightIdHa'+'sh'];}['addCamera'](_0x3c60b4){this['camerasSet']['has'](_0x3c60b4['camera'])||(this['camerasSet']['add'](_0x3c60b4['camera']),this['cameras']['push'](_0x3c60b4),this['_dirtyComp'+'osition']=!(0x1cbc+0x1*0x3e3+-0x209f));}['removeCame'+'ra'](_0x228692){if(this['camerasSet']['has'](_0x228692['camera'])){this['camerasSet']['delete'](_0x228692['camera']);const _0x642155=this['cameras']['indexOf'](_0x228692);this['cameras']['splice'](_0x642155,-0x905+0x21b7+-0x18b1),this['_dirtyComp'+'osition']=!(-0x127f*-0x1+0x187b+-0x2afa);}}['clearCamer'+'as'](){this['cameras']['length']=0x26b3*0x1+-0x11*-0xd3+-0x6*0x8c9,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x222e+-0xd1f*-0x1+-0x2f4d*0x1);}['_calculate'+'SortDistan'+'ces'](_0x337f8c,_0x5758d5,_0x43cf42,_0x36d3bd){for(let _0x5c9b45=-0x1*-0xc0b+0x1a39+-0x2644;_0x5c9b45<_0x5758d5;_0x5c9b45++){const _0x1e9cbe=_0x337f8c[_0x5c9b45];if(_0x1e9cbe['layer']<=Vb)continue;if(_0x1e9cbe['calculateS'+'ortDistanc'+'e']){_0x1e9cbe['zdist']=_0x1e9cbe['calculateS'+'ortDistanc'+'e'](_0x1e9cbe,_0x43cf42,_0x36d3bd);continue;}const _0x16b6f4=_0x1e9cbe['aabb']['center'],_0x2d1c81=_0x16b6f4['x']-_0x43cf42['x'],_0x2f7623=_0x16b6f4['y']-_0x43cf42['y'],_0xaaec75=_0x16b6f4['z']-_0x43cf42['z'];_0x1e9cbe['zdist']=_0x2d1c81*_0x36d3bd['x']+_0x2f7623*_0x36d3bd['y']+_0xaaec75*_0x36d3bd['z'];}}['getCulledI'+'nstances'](_0x9010b2){let _0x3d9ee4=this['_visibleIn'+'stances']['get'](_0x9010b2);return _0x3d9ee4||(_0x3d9ee4=new HM(),this['_visibleIn'+'stances']['set'](_0x9010b2,_0x3d9ee4)),_0x3d9ee4;}['sortVisibl'+'e'](_0xed1882,_0x5cb304){const _0x351bd0=_0x5cb304?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x351bd0===dh)return;const _0x4bb604=this['getCulledI'+'nstances'](_0xed1882),_0x326d18=_0x5cb304?_0x4bb604['transparen'+'t']:_0x4bb604['opaque'],_0x331d9a=_0xed1882['node'];if(_0x351bd0===ew){const _0x146afd=_0x331d9a['getPositio'+'n'](),_0x423a2c=_0x331d9a['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x326d18,_0x326d18['length'],_0x146afd,_0x423a2c),this['customSort'+'Callback']&&_0x326d18['sort'](this['customSort'+'Callback']);}else{if(_0x351bd0===Bm||_0x351bd0===Jb){const _0x48f9a8=_0x331d9a['getPositio'+'n'](),_0x427bb4=_0x331d9a['forward'];this['_calculate'+'SortDistan'+'ces'](_0x326d18,_0x326d18['length'],_0x48f9a8,_0x427bb4);}_0x326d18['sort'](GM[_0x351bd0]);}}}const $M=(_0x2751b7,_0x45801d)=>_0x2751b7['priority']-_0x45801d['priority'],No=_0x291962=>_0x291962['sort']($M);class S_ extends ce{constructor(_0x133359='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(-0x5*0xb+0x709*0x4+0x1bec*-0x1)),(this['name']=_0x133359,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x397a36=>_0x397a36['destroy']()),this['_renderAct'+'ions']['length']=-0x21*-0x12e+0x1*-0x6d9+-0x2015;}['_update'](){const _0x240992=this['layerList']['length'];if(!this['_dirty']){for(let _0x54e96e=0x24b9+-0x1de5+-0x6d4;_0x54e96e<_0x240992;_0x54e96e++)if(this['layerList'][_0x54e96e]['_dirtyComp'+'osition']){this['_dirty']=!(-0x832+0x1b*-0x3+0x883);break;}}if(this['_dirty']){this['_dirty']=!(0x1668+0x2377+-0x39de),this['cameras']['length']=0x394*-0x1+-0x1*0xaf9+0xe8d;for(let _0x5c90e1=-0xc10+0x40e*-0x8+-0x2c80*-0x1;_0x5c90e1<_0x240992;_0x5c90e1++){const _0x19fa6b=this['layerList'][_0x5c90e1];_0x19fa6b['_dirtyComp'+'osition']=!(0x5f3+0x3b*-0x41+0x909);for(let _0x1ae25e=-0x64d*-0x1+0x4*0x78a+-0x99*0x3d;_0x1ae25e<_0x19fa6b['cameras']['length'];_0x1ae25e++){const _0x42b218=_0x19fa6b['cameras'][_0x1ae25e];this['cameras']['indexOf'](_0x42b218)<0x1bf8+0x200+-0x1df8&&this['cameras']['push'](_0x42b218);}}this['cameras']['length']>-0x886+-0x3c3+-0x8f*-0x16&&No(this['cameras']);let _0x40c3f9=0xe60+-0x1*-0x1afb+0x295b*-0x1;this['destroyRen'+'derActions']();for(let _0x38ae26=-0x209a+0x3*0x76b+-0xa59*-0x1;_0x38ae26<this['cameras']['length'];_0x38ae26++){const _0x740c93=this['cameras'][_0x38ae26];if(_0x740c93['camera']['renderPass'+'es']['length']>-0x1006+-0x994+0x199a){this['addDummyRe'+'nderAction'](_0x40c3f9,_0x740c93),_0x40c3f9++;continue;}let _0x4e8574=!(0x2227*0x1+-0x1105+0x6*-0x2db);const _0xabc350=_0x40c3f9;let _0xdb6b4e=null,_0x18e2b0=!(-0x17*-0x4d+-0x1451+0x1*0xd67);for(let _0x198f89=0xce6+0x2683+0x3369*-0x1;_0x198f89<_0x240992;_0x198f89++){const _0x219a1a=this['layerList'][_0x198f89];if(_0x219a1a['enabled']&&this['subLayerEn'+'abled'][_0x198f89]&&_0x219a1a['cameras']['length']>-0x11c2*-0x1+0x1*0x21c9+-0x338b&&_0x740c93['layers']['indexOf'](_0x219a1a['id'])>=-0x8e*0x9+-0x21b+0x719*0x1){!_0x18e2b0&&_0x219a1a['id']===_0x740c93['disablePos'+'tEffectsLa'+'yer']&&(_0x18e2b0=!(-0x9fe+-0xb42+0x110*0x14),_0xdb6b4e&&(_0xdb6b4e['triggerPos'+'tprocess']=!(0xd39+-0xa02+-0x1*0x337)));const _0x4c2f4b=this['subLayerLi'+'st'][_0x198f89];_0xdb6b4e=this['addRenderA'+'ction'](_0x40c3f9,_0x219a1a,_0x4c2f4b,_0x740c93,_0x4e8574,_0x18e2b0),_0x40c3f9++,_0x4e8574=!(0x34*-0x9+-0x128*-0x18+-0x5*0x52f);}}_0xabc350<_0x40c3f9&&(_0xdb6b4e['lastCamera'+'Use']=!(-0x16f8+0xbac*0x3+-0xc0c)),!_0x18e2b0&&_0xdb6b4e&&(_0xdb6b4e['triggerPos'+'tprocess']=!(0x3a*-0x1+0xfe1+-0xfa7*0x1)),_0x740c93['renderTarg'+'et']&&_0x740c93['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0xabc350-(-0x97*0xe+0x2146*-0x1+0x2989),_0x740c93);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x49587c){v['assert'](this['_renderAct'+'ions']['length']===_0x49587c);const _0x46bf99=new D0();return this['_renderAct'+'ions']['push'](_0x46bf99),_0x46bf99;}['addDummyRe'+'nderAction'](_0x522740,_0x98794f){const _0x2996d9=this['getNextRen'+'derAction'](_0x522740);_0x2996d9['camera']=_0x98794f,_0x2996d9['useCameraP'+'asses']=!(-0x2199+0x144f+0xd4a);}['addRenderA'+'ction'](_0x20eacd,_0x155120,_0x352f49,_0x43599e,_0x1cf41f,_0x226e48){let _0x5b614d=_0x155120['id']!==Xt?_0x43599e['renderTarg'+'et']:null,_0x43e966=!(-0x1524+-0x1a57+-0x2f7c*-0x1);const _0x158b2a=this['_renderAct'+'ions'];for(let _0x37464c=_0x20eacd-(-0xf*-0x277+0x8ad+0xf*-0x30b);_0x37464c>=-0x1*0x256f+-0x1484+0x1351*0x3;_0x37464c--)if(_0x158b2a[_0x37464c]['camera']===_0x43599e&&_0x158b2a[_0x37464c]['renderTarg'+'et']===_0x5b614d){_0x43e966=!(-0x110c+-0x14be+0x25ca);break;}_0x226e48&&_0x43599e['postEffect'+'sEnabled']&&(_0x5b614d=null);const _0x2879fb=this['getNextRen'+'derAction'](_0x20eacd);_0x2879fb['triggerPos'+'tprocess']=!(0x772+-0x15fd+0x1c*0x85),_0x2879fb['layer']=_0x155120,_0x2879fb['transparen'+'t']=_0x352f49,_0x2879fb['camera']=_0x43599e,_0x2879fb['renderTarg'+'et']=_0x5b614d,_0x2879fb['firstCamer'+'aUse']=_0x1cf41f,_0x2879fb['lastCamera'+'Use']=!(-0xa3d+0x21b5*-0x1+0x1*0x2bf3);const _0xb9a0cf=_0x1cf41f||!_0x43e966,_0x30807a=_0x155120['clearColor'+'Buffer']||_0x155120['clearDepth'+'Buffer']||_0x155120['clearStenc'+'ilBuffer'];return(_0xb9a0cf||_0x30807a)&&_0x2879fb['setupClear'+'s'](_0xb9a0cf?_0x43599e:void(0x1588+-0x23df+-0xe57*-0x1),_0x155120),_0x2879fb;}['propagateR'+'enderTarge'+'t'](_0x771bd4,_0x2f7daf){for(let _0x8c39cc=_0x771bd4;_0x8c39cc>=-0x23b*0x2+0x1*-0xc7+0x53d;_0x8c39cc--){const _0x38d20b=this['_renderAct'+'ions'][_0x8c39cc],_0x250224=_0x38d20b['layer'];if(_0x38d20b['renderTarg'+'et']&&_0x250224['id']!==Xt)break;if(_0x250224['id']===Xt)continue;if(_0x38d20b['useCameraP'+'asses'])break;const _0x148e2e=_0x38d20b==null?void(-0x1*0xef9+-0xab+0xfa4):_0x38d20b['camera']['camera'];if(_0x148e2e&&(!_0x2f7daf['camera']['rect']['equals'](_0x148e2e['rect'])||!_0x2f7daf['camera']['scissorRec'+'t']['equals'](_0x148e2e['scissorRec'+'t'])))break;_0x38d20b['renderTarg'+'et']=_0x2f7daf['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Xs['get'](pl)){v['trace'](pl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x4e2bb3=-0x633+0x2f6*-0x5+0x1501;_0x4e2bb3<this['_renderAct'+'ions']['length'];_0x4e2bb3++){const _0x19a825=this['_renderAct'+'ions'][_0x4e2bb3],_0x4f0720=_0x19a825['camera'];if(_0x19a825['useCameraP'+'asses'])v['trace'](pl,_0x4e2bb3+('CustomPass'+'es\x20Cam:\x20')+(_0x4f0720?_0x4f0720['entity']['name']:'-'));else{const _0x41607f=_0x19a825['layer'],_0x3e1086=_0x41607f['enabled']&&this['isEnabled'](_0x41607f,_0x19a825['transparen'+'t']),_0x509dd8=(_0x19a825['clearColor']?'Color\x20':'.....\x20')+(_0x19a825['clearDepth']?'Depth\x20':'.....\x20')+(_0x19a825['clearStenc'+'il']?'Stencil':'.......');v['trace'](pl,_0x4e2bb3+('\x20Cam:\x20'+(_0x4f0720?_0x4f0720['entity']['name']:'-'))['padEnd'](-0x194b+0x331*-0x1+0x13e*0x17,'\x20')+('\x20Lay:\x20'+_0x41607f['name'])['padEnd'](-0x439*0x9+-0x2381+0x4998,'\x20')+(_0x19a825['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x3e1086?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x19a825['renderTarg'+'et']?_0x19a825['renderTarg'+'et']['name']:'-'))['padEnd'](-0x7a*-0x29+-0x32b*-0x1+-0x1697,'\x20')+'\x20Clear:\x20'+_0x509dd8+(_0x19a825['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x19a825['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x19a825['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x50cfdd){const _0x452f47=this['layerIdMap']['get'](_0x50cfdd['id'])===_0x50cfdd;return v['assert'](!_0x452f47,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x50cfdd['name']),_0x452f47;}['_isSublaye'+'rAdded'](_0x1e40fd,_0x548cc5){return(_0x548cc5?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x1e40fd)!==void(0x688+-0x2*-0x535+-0x10f2)?(v['error']('Sublayer\x20'+_0x1e40fd['name']+(',\x20transpar'+'ent:\x20')+_0x548cc5+('\x20is\x20alread'+'y\x20added.')),!(-0x2439+0x2208*0x1+0x231)):!(0x18f3+-0x2465+0x1*0xb73);}['push'](_0x59dbfc){this['_isLayerAd'+'ded'](_0x59dbfc)||(this['layerList']['push'](_0x59dbfc),this['layerList']['push'](_0x59dbfc),this['_opaqueOrd'+'er'][_0x59dbfc['id']]=this['subLayerLi'+'st']['push'](!(0x1dd+-0x1037+0xe5b))-(-0x15e5+0xb*0xfd+0xb07),this['_transpare'+'ntOrder'][_0x59dbfc['id']]=this['subLayerLi'+'st']['push'](!(-0x1f18+0x2254+-0x33c))-(-0x1996+0x1*-0x1e5d+0x37f4*0x1),this['subLayerEn'+'abled']['push'](!(0xd25+0xb5*0x13+0x17a*-0x12)),this['subLayerEn'+'abled']['push'](!(-0x1d6e+0x2374+-0x303*0x2)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x22e+-0x5b3*0x1+0x385),this['fire']('add',_0x59dbfc));}['insert'](_0x1553c8,_0x12f546){if(this['_isLayerAd'+'ded'](_0x1553c8))return;this['layerList']['splice'](_0x12f546,-0x44*-0x4a+0x1d51+-0x30f9,_0x1553c8,_0x1553c8),this['subLayerLi'+'st']['splice'](_0x12f546,0x13b4+-0x71*-0x4f+-0x3693,!(-0x1a42+-0x2*-0x1201+-0x9bf),!(-0x1*-0x96b+-0x1c7+-0x7a4*0x1));const _0x222ca8=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x12f546,_0x222ca8-(0x1f97+0x1a21+-0x39b7)),this['_updateTra'+'nsparentOr'+'der'](_0x12f546,_0x222ca8-(-0x1cb7*-0x1+0x1*0x101+0x1db7*-0x1)),this['subLayerEn'+'abled']['splice'](_0x12f546,0x25f5+0x1ea*-0xe+-0x1*0xb29,!(0x14f2+0x1a7+-0x1699),!(-0x22c7+-0xa3d+0xac*0x43)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1f5c+0x86f*0x2+-0x303a),this['fire']('add',_0x1553c8);}['remove'](_0x251f5e){let _0x3f9284=this['layerList']['indexOf'](_0x251f5e);for(delete this['_opaqueOrd'+'er'][_0x3f9284],delete this['_transpare'+'ntOrder'][_0x3f9284];_0x3f9284>=-0x5*0xa7+-0x125*-0x20+-0x27*0xdb;)this['layerList']['splice'](_0x3f9284,-0xefd*0x2+0x2*-0x655+-0x9*-0x4bd),this['subLayerLi'+'st']['splice'](_0x3f9284,-0x71f*-0x4+-0x2502+0x25*0x3b),this['subLayerEn'+'abled']['splice'](_0x3f9284,-0x2438+-0x1e38+0x4271),_0x3f9284=this['layerList']['indexOf'](_0x251f5e),this['_dirty']=!(-0x8e0+-0x227a+0x2b5a),this['fire']('remove',_0x251f5e);const _0x2b8027=this['layerList']['length'];this['_updateOpa'+'queOrder'](-0x6cd*-0x3+0x1bce+-0x3035,_0x2b8027-(0xf5*-0x23+-0x1667+0x1*0x37e7)),this['_updateTra'+'nsparentOr'+'der'](0x8f*0xb+0x4*0x2c3+0x1e9*-0x9,_0x2b8027-(0x5f3*0x1+-0x3f4*-0x1+-0x9e6)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x4a8516){this['_isSublaye'+'rAdded'](_0x4a8516,!(0x1*0x1dd5+-0x13*-0x3b+-0x2235))||(this['layerList']['push'](_0x4a8516),this['_opaqueOrd'+'er'][_0x4a8516['id']]=this['subLayerLi'+'st']['push'](!(-0x6f*-0xf+0x5f*0x3f+0x1de1*-0x1))-(0x1f93+0x20f5+-0x4087),this['subLayerEn'+'abled']['push'](!(-0xe51*0x1+-0xb96*0x1+0x1*0x19e7)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x11c1+0x443*-0x9+0x6c*0x85),this['fire']('add',_0x4a8516));}['insertOpaq'+'ue'](_0x130f62,_0xd04e71){if(this['_isSublaye'+'rAdded'](_0x130f62,!(0x1267*-0x1+0x512+0x3*0x472)))return;this['layerList']['splice'](_0xd04e71,-0x26*0xc5+0x67c+0x16c2*0x1,_0x130f62),this['subLayerLi'+'st']['splice'](_0xd04e71,0x7*0x154+0x1a02+-0x11a7*0x2,!(0x1*-0xb1d+0x114*0x7+0x392));const _0x202c1b=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0xd04e71,_0x202c1b-(-0x24cf+-0x3*0x23d+0x2b87)),this['subLayerEn'+'abled']['splice'](_0xd04e71,-0x1*0x872+-0xd60+0x15d2,!(0x14be+-0x3af+-0xb*0x18d)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x199a+0xcd5+-0x1d3*-0x7),this['fire']('add',_0x130f62);}['removeOpaq'+'ue'](_0x4fe766){for(let _0x843f1a=0x1*0xd4f+-0x4d*-0x6+-0xf1d,_0x19a7b1=this['layerList']['length'];_0x843f1a<_0x19a7b1;_0x843f1a++)if(this['layerList'][_0x843f1a]===_0x4fe766&&!this['subLayerLi'+'st'][_0x843f1a]){this['layerList']['splice'](_0x843f1a,0xc77*0x2+-0x1db3*0x1+0x4c6),this['subLayerLi'+'st']['splice'](_0x843f1a,0x4*0x72a+-0x23d2+0x72b),_0x19a7b1--,this['_updateOpa'+'queOrder'](_0x843f1a,_0x19a7b1-(0x18*0x1d+0x1130+-0x13e7)),this['subLayerEn'+'abled']['splice'](_0x843f1a,0x821+0x526*0x1+-0xd46*0x1),this['_dirty']=!(-0x12bd+0x1b5*0x2+-0xf53*-0x1),this['layerList']['indexOf'](_0x4fe766)<-0x5*0x271+-0x75a+0x138f&&this['fire']('remove',_0x4fe766);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0xed6df9){this['_isSublaye'+'rAdded'](_0xed6df9,!(-0x9b5*0x4+-0x2276+-0x186e*-0x3))||(this['layerList']['push'](_0xed6df9),this['_transpare'+'ntOrder'][_0xed6df9['id']]=this['subLayerLi'+'st']['push'](!(0x25b8+0x3*-0x911+-0x1*0xa85))-(0x347*0x5+-0x97*0x1b+-0x75),this['subLayerEn'+'abled']['push'](!(-0x18b*0x9+0x6*0x1c6+0x33f)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x479+0x235b+-0x1ee2),this['fire']('add',_0xed6df9));}['insertTran'+'sparent'](_0x3c7c84,_0x2ab675){if(this['_isSublaye'+'rAdded'](_0x3c7c84,!(-0xca*0x4+0x5*-0x5e6+-0x571*-0x6)))return;this['layerList']['splice'](_0x2ab675,0x1*-0x4e9+-0x223d+-0x2726*-0x1,_0x3c7c84),this['subLayerLi'+'st']['splice'](_0x2ab675,0x3b*0x25+-0x71e+0x13*-0x13,!(-0x1f15*0x1+-0x2cb+0x21e0));const _0x5ac9da=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x2ab675,_0x5ac9da-(-0x1*0x48f+-0x2629+0x2ab9*0x1)),this['subLayerEn'+'abled']['splice'](_0x2ab675,0x31*0x14+-0x89*0x47+0x222b*0x1,!(0xf31+0x6d8+0x1*-0x1609)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0xaf8*0x3+0x1d03+-0x3deb),this['fire']('add',_0x3c7c84);}['removeTran'+'sparent'](_0x2424ce){for(let _0x177b7b=0x1c17*0x1+-0xf31+-0xce6*0x1,_0x259e7c=this['layerList']['length'];_0x177b7b<_0x259e7c;_0x177b7b++)if(this['layerList'][_0x177b7b]===_0x2424ce&&this['subLayerLi'+'st'][_0x177b7b]){this['layerList']['splice'](_0x177b7b,0x15b7+0x3*0x282+-0x1d3c*0x1),this['subLayerLi'+'st']['splice'](_0x177b7b,-0x23e2+-0x3*-0x305+0x1ad4),_0x259e7c--,this['_updateTra'+'nsparentOr'+'der'](_0x177b7b,_0x259e7c-(-0x8ce+-0x3*0xbc8+0x2c27)),this['subLayerEn'+'abled']['splice'](_0x177b7b,-0x47*0x57+0x196+0x168c),this['_dirty']=!(-0x2508+0x1fd*-0x4+0x2cfc),this['layerList']['indexOf'](_0x2424ce)<0x1414+-0x21+-0x13f3&&this['fire']('remove',_0x2424ce);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x4dd377){return this['layerOpaqu'+'eIndexMap']['get'](_0x4dd377)??-(-0xb*-0x283+0x19fc*-0x1+-0x15*0x14);}['getTranspa'+'rentIndex'](_0x230c92){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x230c92)??-(0x182f*-0x1+0x126c+0x12*0x52);}['isEnabled'](_0x4a9868,_0x514608){if(_0x4a9868['enabled']){const _0x2ef995=_0x514608?this['getTranspa'+'rentIndex'](_0x4a9868):this['getOpaqueI'+'ndex'](_0x4a9868);if(_0x2ef995>=0x217b+-0xe*0xfe+-0x1397)return this['subLayerEn'+'abled'][_0x2ef995];}return!(-0x1*0x16+-0x1*-0x8a3+0x4*-0x223);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x305b5f=-0x26c0+0x1e29*-0x1+-0x17*-0x2ff;_0x305b5f<this['layerList']['length'];_0x305b5f++){const _0x342993=this['layerList'][_0x305b5f];this['layerIdMap']['set'](_0x342993['id'],_0x342993),this['layerNameM'+'ap']['set'](_0x342993['name'],_0x342993),(this['subLayerLi'+'st'][_0x305b5f]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x342993,_0x305b5f);}}['getLayerBy'+'Id'](_0x4298b0){return this['layerIdMap']['get'](_0x4298b0)??null;}['getLayerBy'+'Name'](_0x4e8d06){return this['layerNameM'+'ap']['get'](_0x4e8d06)??null;}['_updateOpa'+'queOrder'](_0x1dab63,_0x43af60){for(let _0xfd138e=_0x1dab63;_0xfd138e<=_0x43af60;_0xfd138e++)this['subLayerLi'+'st'][_0xfd138e]===!(-0xd2a*-0x1+0x564+0x62f*-0x3)&&(this['_opaqueOrd'+'er'][this['layerList'][_0xfd138e]['id']]=_0xfd138e);}['_updateTra'+'nsparentOr'+'der'](_0x573877,_0x1e4b7f){for(let _0x2358e5=_0x573877;_0x2358e5<=_0x1e4b7f;_0x2358e5++)this['subLayerLi'+'st'][_0x2358e5]===!(0x50d*-0x4+0x3*-0xa4a+-0x1989*-0x2)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x2358e5]['id']]=_0x2358e5);}['_sortLayer'+'sDescendin'+'g'](_0x4df146,_0x41ace7,_0x4c4c2f){let _0x4f055f=-(-0x1*0x248b+0x1bc7+0x8c5),_0x2602cd=-(0xde7*-0x1+0x11b5*-0x2+0x3152);for(let _0x397533=0xa5b*0x2+-0x4*-0x852+0x2*-0x1aff,_0x379c5c=_0x4df146['length'];_0x397533<_0x379c5c;_0x397533++){const _0x184f0b=_0x4df146[_0x397533];_0x4c4c2f['hasOwnProp'+'erty'](_0x184f0b)&&(_0x4f055f=Math['max'](_0x4f055f,_0x4c4c2f[_0x184f0b]));}for(let _0x8f4347=0xa1d+0x769+-0x1186,_0x91fa9b=_0x41ace7['length'];_0x8f4347<_0x91fa9b;_0x8f4347++){const _0x5814a6=_0x41ace7[_0x8f4347];_0x4c4c2f['hasOwnProp'+'erty'](_0x5814a6)&&(_0x2602cd=Math['max'](_0x2602cd,_0x4c4c2f[_0x5814a6]));}return _0x4f055f===-(-0x1912+-0x241f+0x3d32)&&_0x2602cd!==-(0x95*-0x25+-0x26b6+-0x40*-0xf1)?0x1c6a+-0x1da4+0x3*0x69:_0x2602cd===-(-0x4ca*0x3+-0x3*-0x9ab+-0xea2)&&_0x4f055f!==-(0x140b+0x262f+-0x3a39)?-(0x15*0x1c1+0x2113*0x1+-0x174d*0x3):_0x2602cd-_0x4f055f;}['sortTransp'+'arentLayer'+'s'](_0x28e2fd,_0x3e5a76){return this['_sortLayer'+'sDescendin'+'g'](_0x28e2fd,_0x3e5a76,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x58ab59,_0x357a80){return this['_sortLayer'+'sDescendin'+'g'](_0x58ab59,_0x357a80,this['_opaqueOrd'+'er']);}}const kl=new T(),ti={'bias':0x0,'normalBias':0x0},Ya=new Y(),Ud={'r':0x0,'g':0x1,'b':0x2,'a':0x3},Gu={'directional':oe,'omni':Pe,'point':Pe,'spot':Re},WM=[[new Q(-0xb4+0x1db9+-0x1d05,-0x1f27+0x1079*-0x1+-0xfe0*-0x3,0x7b2+-0x874+-0x1*-0xc3,0x258*0x4+-0x17a2+-0x1*-0xe43)],[new Q(-0xc6f*-0x1+-0x57c+-0x3*0x251,-0x395*-0x3+-0x1*0xdee+0x32f*0x1,-0x5*0x9a+0x22be+0x4*-0x7ef+0.5,-0x1745+-0x509*0x3+0x2660+0.5),new Q(0xd20+-0x19f1+0x11*0xc1,0xb79+-0x13bc+0x843+0.5,0x13*-0xa2+0x1a6*0x5+0x3c8+0.5,-0x1*-0x11a5+0x179e+-0x2943+0.5)],[new Q(-0x9*0x2a5+-0x76b*-0x3+0x18c,0x1*0x230a+0xfff*0x2+-0x4308,-0x2*0x503+-0x3*0xcc7+-0x305b*-0x1+0.5,-0x24fc+0x9f5*0x2+-0x73*-0x26+0.5),new Q(-0x3d9*-0x2+0x1*-0x10bb+-0x303*-0x3,0x10f1*-0x2+-0x2482+0x4*0x1199+0.5,0x232a+0x1*0xe89+-0x1091*0x3+0.5,0x3*0xb67+0x22a3+0x89b*-0x8+0.5),new Q(0x230a*0x1+-0x266*-0x2+0x2*-0x13eb+0.5,0x1f9*-0x7+-0x2670+0x343f,-0x250b+0xf58+-0x15b3*-0x1+0.5,0x13d*-0x1d+-0x1bcb+-0x3*-0x153c+0.5)],[new Q(0x950+-0x1801+0xeb1,0x1aa2+0x1759+-0x31fb,-0x8b6+0x1be*-0xc+0x1d9e+0.5,0x11ee+-0x261c+-0x6*-0x35d+0.5),new Q(-0x3*-0x6f1+-0x428+-0x10ab,0x1*0x210d+-0x1*-0x18a9+-0x39b6+0.5,-0x3*0xb3b+0x1fd8+0x1d9*0x1+0.5,0xcdf+0x11c2*-0x2+0x16a5+0.5),new Q(-0x556*-0x1+0x195*0x4+-0x2*0x5d5+0.5,-0x1e9b+-0xa9a+0x2935,-0x24d2+0x15da+0xef8+0.5,0x1c09+0x411*-0x1+-0x8*0x2ff+0.5),new Q(0x12c2+0x77b+0x8bf*-0x3+0.5,0x69+0x2*-0xa79+0x1489*0x1+0.5,-0x5c2+0xa51*-0x3+-0x1*-0x24b5+0.5,0x2f*-0x5+0x7*0x47a+-0xd*0x257+0.5)]];let qM=-0x1*0x3e1+0x158c+0x1*-0x11ab;class XM{constructor(_0xad7c99,_0x1450d8,_0x4f491f){this['light']=_0x4f491f,this['camera']=_0xad7c99,this['shadowCame'+'ra']=I0['createShad'+'owCamera'](_0x4f491f['_shadowTyp'+'e'],_0x4f491f['_type'],_0x1450d8),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new Q(-0x5e*0x34+0x724+-0x44*-0x2d,-0x2449+0x127*-0x1e+0x671*0xb,-0x1088+-0x607+0x26*0x98,-0x1158+0x1f7*-0x6+0x1d23),this['shadowScis'+'sor']=new Q(0x26c5*-0x1+0x1*-0x2683+0x4d48,-0x1*0x252e+0x23c2+0x16c,0x16e1+-0xbb5+0x1*-0xb2b,-0x31a+-0x1be7+0x1f02),this['projection'+'Compensati'+'on']=-0x22ea+0x1*-0x1716+0x3a00,this['face']=_0x1450d8,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1a1794=>{_0x1a1794['defaultUni'+'formBuffer']['destroy'](),_0x1a1794['destroy']();}),this['viewBindGr'+'oups']['length']=0x566+-0x2267+0x1d01;}get['shadowBuff'+'er'](){const _0xdeb0f0=this['shadowCame'+'ra']['renderTarg'+'et'];return _0xdeb0f0?this['light']['_isPcf']?_0xdeb0f0['depthBuffe'+'r']:_0xdeb0f0['colorBuffe'+'r']:null;}}class zo{constructor(_0x808260,_0xd78ce0){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',as['DEFAULT']['clone']()),(this['device']=_0x808260,this['clusteredL'+'ighting']=_0xd78ce0,this['id']=qM++,this['_type']=oe,this['_color']=new Y(-0xc47+-0x8f1*-0x3+-0xe8c+0.8,0x17*0x1a5+0x18*0x179+-0x492b+0.8,-0x72*0x1d+-0xd5+0x17*0x99+0.8),this['_intensity']=0x5d1*-0x2+-0x60*0x10+0x11a3,this['_affectSpe'+'cularity']=!(0x1fd+-0x190a+0x7*0x34b),this['_luminance']=0x1c04+0xf6b*0x1+-0x2b6f,this['_castShado'+'ws']=!(-0x1*-0xbd+0x24ce+0x12c5*-0x2),this['_enabled']=!(0x1027*-0x2+-0x2112+0x4161),this['_mask']=hs,this['isStatic']=!(0xfbf+-0x563+-0xa5b),this['key']=-0xf05+-0x2*0x5b3+0x1a6b,this['bakeDir']=!(-0xbed*0x1+0x1f7*0x3+0x608),this['bakeNumSam'+'ples']=0xf9*0x25+0x2227*0x1+-0x13b*0x39,this['bakeArea']=-0x13*-0x131+0xaed+0x864*-0x4,this['attenuatio'+'nStart']=0x7*0xb2+0xbe*-0x23+0xa93*0x2,this['attenuatio'+'nEnd']=0x11*-0xad+-0x161d+-0x21a4*-0x1,this['_falloffMo'+'de']=wp,this['_shadowTyp'+'e']=Dt,this['_vsmBlurSi'+'ze']=0x137e+0xf95+0x2308*-0x1,this['vsmBlurMod'+'e']=Tp,this['vsmBias']=(-0x16a8+0x135f+0x349+0.01)*(0xd*0x17+-0x25a8+0x247d+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0x5*-0x761+0xdc+-0x1*-0x240a,this['_cookieFal'+'loff']=!(0x7af*0x1+0x1dbf*0x1+-0x6*0x63d),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(-0x2f*0x70+0x59*0x17+0xc95),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0xdc*-0x29+0xac6+-0x2e00),this['_cookieTra'+'nsformSet']=!(-0x3e*0x2b+0x1*0x11c8+0x1*-0x75d),this['_cookieOff'+'setSet']=!(0xd8a+-0xad6*-0x1+-0x185f),this['_innerCone'+'Angle']=0x22f9+0x1749+0x6*-0x9af,this['_outerCone'+'Angle']=0x1937+0x16c4+-0x2fce,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=0xbf4+0xa38+0x46f*-0x5,this['_cascadeBl'+'end']=0x3*0x1e7+0x1*-0x2135+0x1b80,this['cascadeDis'+'tribution']=0x25c0+0x1*0x1a15+0x1547*-0x3+0.5,this['_shape']=yt,this['_colorLine'+'ar']=new Float32Array(0x4e5+0xf5*0x22+-0x1df*0x14),this['_updateLin'+'earColor'](),this['_position']=new T(-0x9b+-0x1466+0x1501,-0x4aa+-0x81b+0xcc5,-0x2243*0x1+0x3*-0xa3+0x242c),this['_direction']=new T(0x5*-0xe3+0x42*-0x71+0xd*0x295,0xb9d+-0xe61+0x2c4,-0x237+-0x2*0x5b+-0x6b*-0x7),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0x9aa+0x7cf+-0x5*-0x83)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0x9ab+-0x193a+0x1*0x22e5),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x2601+0xcb5+-0x328e,this['_shadowRes'+'olution']=-0x351+-0x1*0xb09+0x51*0x3a,this['_shadowBia'+'s']=-(0x2*-0x1357+0xf60+0x26*0x9d+0.0005),this['shadowInte'+'nsity']=-0x2*0x2c5+-0x135*-0x8+-0x41d,this['_normalOff'+'setBias']=0x1d54*-0x1+0x3ec+-0x878*-0x3,this['shadowUpda'+'teMode']=Pp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0x1*0xf27+-0x9*-0x22d+-0x1*0x46d),this['_isPcf']=!(-0x25a8+-0x1*0x7cc+0x2d74),this['_softShado'+'wParams']=new Float32Array(0x1cd9+-0x1e5f+0x18a),this['shadowSamp'+'les']=-0x994+0x1*0x76e+-0x1*-0x236,this['shadowBloc'+'kerSamples']=-0x1a*0x56+-0x1cca+0x2596*0x1,this['penumbraSi'+'ze']=-0x9*-0x3d7+-0x1271*-0x1+-0x34ff,this['penumbraFa'+'lloff']=-0x2*-0xfbb+-0x11e7+-0xd8e,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0x929+-0x1*-0xd31+0x1659*-0x1),this['atlasVersi'+'on']=-0xa2a+0x1092+-0x668,this['atlasSlotI'+'ndex']=0x16d2+-0x1*-0x1082+-0x2754,this['atlasSlotU'+'pdated']=!(0x3*-0xc95+-0x4db*0x1+0x2a9b),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0xbb2*-0x2+-0x52*-0x59+0x51d*-0x1),this['maxScreenS'+'ize']=0x1492+-0x15fd+0x16b,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0xbb134a=-0x1f2+-0x1*-0x448+-0x256;_0xbb134a<this['_renderDat'+'a']['length'];_0xbb134a++)this['_renderDat'+'a'][_0xbb134a]['destroy']();this['_renderDat'+'a']['length']=0x55f+-0x1b1*-0x13+-0x2582;}}['addLayer'](_0x1de8ab){this['layers']['add'](_0x1de8ab);}['removeLaye'+'r'](_0x28ba19){this['layers']['delete'](_0x28ba19);}set['shadowSamp'+'les'](_0x2ca4a0){this['_softShado'+'wParams'][-0x31*0x46+0x147b+-0x715]=_0x2ca4a0;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x801+-0xa3*0xe+0x3d*0x47];}set['shadowBloc'+'kerSamples'](_0x7e0fbe){this['_softShado'+'wParams'][0x801+-0x208a+-0x6*-0x417]=_0x7e0fbe;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x23bb+-0xaa*-0x4+0x1d*0x124];}set['shadowBias'](_0x3242ae){this['_shadowBia'+'s']!==_0x3242ae&&(this['_shadowBia'+'s']=_0x3242ae,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x337df8){(!this['cascades']||this['numCascade'+'s']!==_0x337df8)&&(this['cascades']=WM[_0x337df8-(0x15e7+-0x6a3*-0x1+0x3*-0x983)],this['_shadowMat'+'rixPalette']=new Float32Array((0x4bd*0x1+0x20a4+-0x255d)*(-0x1522+-0x8b*-0x9+-0xa7*-0x19)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0xbe6+-0x22fe+0x171c),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x1f6d25){this['_cascadeBl'+'end']!==_0x1f6d25&&(this['_cascadeBl'+'end']=_0x1f6d25,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x7b4a94){this['_shadowMap']!==_0x7b4a94&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x7b4a94);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x2a371e){this['_mask']!==_0x2a371e&&(this['_mask']=_0x2a371e,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x3f130b=this['_type'];return _0x3f130b===oe?this['numCascade'+'s']:_0x3f130b===Pe?-0x1*-0xd3f+0x1*-0x1b6d+0xe34:0x844*0x4+-0x1f*-0x74+-0x185*0x1f;}set['type'](_0x5a3277){if(this['_type']===_0x5a3277)return;this['_type']=_0x5a3277,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x5511cc=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x5511cc;}get['type'](){return this['_type'];}set['shape'](_0x201844){if(this['_shape']===_0x201844)return;this['_shape']=_0x201844,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x3bcf32=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x3bcf32;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x26ae28){this['_usePhysic'+'alUnits']!==_0x26ae28&&(this['_usePhysic'+'alUnits']=_0x26ae28,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0xbb2bcc){if(this['_shadowTyp'+'e']===_0xbb2bcc)return;const _0x2b9ae1=this['device'];_0xbb2bcc===Ts&&!_0x2b9ae1['textureFlo'+'atRenderab'+'le']&&!_0x2b9ae1['textureHal'+'fFloatRend'+'erable']&&(_0xbb2bcc=Dt),this['_type']===Pe&&_0xbb2bcc!==Bh&&_0xbb2bcc!==Dt&&_0xbb2bcc!==Nh&&_0xbb2bcc!==zh&&_0xbb2bcc!==Ts&&(_0xbb2bcc=Dt),_0xbb2bcc===$r&&(!_0x2b9ae1['textureFlo'+'atRenderab'+'le']||!_0x2b9ae1['textureFlo'+'atFilterab'+'le'])&&(_0xbb2bcc=Hr),_0xbb2bcc===Hr&&!_0x2b9ae1['textureHal'+'fFloatRend'+'erable']&&(_0xbb2bcc=Dt);const _0x230ceb=ir['get'](_0xbb2bcc);this['_isVsm']=(_0x230ceb==null?void(-0x13c3+-0x527*0x2+0x1e11):_0x230ceb['vsm'])??!(-0x95*-0x27+0x10cc+0x695*-0x6),this['_isPcf']=(_0x230ceb==null?void(-0x11f0+0x1930+-0x740):_0x230ceb['pcf'])??!(-0x258f+-0x141+-0x1*-0x26d1),this['_shadowTyp'+'e']=_0xbb2bcc,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x3480e9){this['_enabled']!==_0x3480e9&&(this['_enabled']=_0x3480e9,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x2db77c){this['_castShado'+'ws']!==_0x2db77c&&(this['_castShado'+'ws']=_0x2db77c,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==rr&&this['_mask']!==-0x2552+-0x2175+0x46c7*0x1;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===rr;}set['shadowReso'+'lution'](_0x459940){this['_shadowRes'+'olution']!==_0x459940&&(this['_type']===Pe?_0x459940=Math['min'](_0x459940,this['device']['maxCubeMap'+'Size']):_0x459940=Math['min'](_0x459940,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x459940,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x5398fa){this['_vsmBlurSi'+'ze']!==_0x5398fa&&(_0x5398fa%(0x12d5+0x2f4*-0x6+0x1*-0x11b)===-0xe68+0x66a+-0x21*-0x3e&&_0x5398fa++,this['_vsmBlurSi'+'ze']=_0x5398fa);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x11a018){if(this['_normalOff'+'setBias']!==_0x11a018){const _0x4ec1b5=!this['_normalOff'+'setBias']&&_0x11a018||this['_normalOff'+'setBias']&&!_0x11a018;this['_normalOff'+'setBias']=_0x11a018,_0x4ec1b5&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x57da94){this['_falloffMo'+'de']!==_0x57da94&&(this['_falloffMo'+'de']=_0x57da94,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x37b3c7){this['_innerCone'+'Angle']!==_0x37b3c7&&(this['_innerCone'+'Angle']=_0x37b3c7,this['_innerCone'+'AngleCos']=Math['cos'](_0x37b3c7*Math['PI']/(0x2629*0x1+0x25f9+-0x1*0x4b6e)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x373bdb){this['_outerCone'+'Angle']!==_0x373bdb&&(this['_outerCone'+'Angle']=_0x373bdb,this['_updateOut'+'erAngle'](_0x373bdb),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x23b251){this['_penumbraS'+'ize']=_0x23b251,this['_softShado'+'wParams'][-0x51d*-0x1+0x12b3+-0x17ce]=_0x23b251;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x524668){this['_softShado'+'wParams'][0x246b+-0x1bee+-0x87a]=_0x524668;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x1250+0x17e1*-0x1+-0x151a*-0x2];}['_updateOut'+'erAngle'](_0x3a3b4d){const _0x3d9479=_0x3a3b4d*Math['PI']/(-0xe8d+0x2617+-0x16d6);this['_outerCone'+'AngleCos']=Math['cos'](_0x3d9479),this['_outerCone'+'AngleSin']=Math['sin'](_0x3d9479);}set['intensity'](_0x1c93f8){this['_intensity']!==_0x1c93f8&&(this['_intensity']=_0x1c93f8,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x38fbd1){this['_type']===oe&&(this['_affectSpe'+'cularity']=_0x38fbd1,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x41eab9){this['_luminance']!==_0x41eab9&&(this['_luminance']=_0x41eab9,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new Q(-0xbf1*-0x1+-0x1b4+-0x1*0xa3d,0x268d+-0x2e4+-0x23a9,0x2212+-0x1869*-0x1+-0x3*0x137e,-0x20b*0xd+-0x2683*0x1+-0x1*-0x4113)),this['_atlasView'+'port'];}set['cookie'](_0x4c7b92){this['_cookie']!==_0x4c7b92&&(this['_cookie']=_0x4c7b92,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x1282a2){this['_cookieFal'+'loff']!==_0x1282a2&&(this['_cookieFal'+'loff']=_0x1282a2,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x11afce){if(this['_cookieCha'+'nnel']!==_0x11afce){if(_0x11afce['length']<-0xe1e+-0x2135*0x1+0xa6*0x49){const _0x3afb98=_0x11afce['charAt'](_0x11afce['length']-(-0x1660+-0xed9+-0x253a*-0x1)),_0x19b9ce=0x3d*-0x9d+-0x1a*0x153+0x43a*0x11-_0x11afce['length'];for(let _0x314784=0x15*0x1af+-0x5cf+-0x1d8c;_0x314784<_0x19b9ce;_0x314784++)_0x11afce+=_0x3afb98;}this['_cookieCha'+'nnel']=_0x11afce,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x6fb2f){this['_cookieTra'+'nsform']!==_0x6fb2f&&(this['_cookieTra'+'nsform']=_0x6fb2f,this['_cookieTra'+'nsformSet']=!!_0x6fb2f,_0x6fb2f&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new $(),this['_cookieOff'+'setSet']=!(-0x1*-0x17bd+-0x1fb8+0x7fc)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x33b06f){if(this['_cookieOff'+'set']===_0x33b06f)return;!!(this['_cookieTra'+'nsformSet']||_0x33b06f)&&!_0x33b06f&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x9d5+-0x1ad3+-0xc*-0x30e,0x6*-0x37d+-0xca3+-0x1*-0x2191):this['_cookieOff'+'set']=_0x33b06f,this['_cookieOff'+'setSet']=!!_0x33b06f,_0x33b06f&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new Q(-0x1722+0xfa4+0x13*0x65,-0x6*0xa3+0x1f7e*0x1+-0x1bab,0x2639+0x1*0x80f+-0x2e48,0x2411+-0x248c+0x29*0x3),this['_cookieTra'+'nsformSet']=!(-0x1f42*-0x1+-0x3da*-0x2+-0x1*0x26f5)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===oe&&this['_enabled'],this['maxScreenS'+'ize']=-0xc*0x2aa+-0x3*-0x24b+0x1917,this['atlasViewp'+'ortAllocat'+'ed']=!(0x95e+0x2a3+-0x2*0x600),this['atlasSlotU'+'pdated']=!(-0x33a+0xd0d+-0x9d2);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=cn),this['shadowUpda'+'teOverride'+'s']){for(let _0x1c99a9=0x1ba1+0x1*-0x1330+-0x871;_0x1c99a9<this['shadowUpda'+'teOverride'+'s']['length'];_0x1c99a9++)this['shadowUpda'+'teOverride'+'s'][_0x1c99a9]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x1c99a9]=cn);}}['getRenderD'+'ata'](_0x257637,_0x5f20db){for(let _0x2a7f24=-0x25c5+-0x1*-0x16e7+0x76f*0x2;_0x2a7f24<this['_renderDat'+'a']['length'];_0x2a7f24++){const _0x19c61b=this['_renderDat'+'a'][_0x2a7f24];if(_0x19c61b['camera']===_0x257637&&_0x19c61b['face']===_0x5f20db)return _0x19c61b;}const _0x1fac74=new XM(_0x257637,_0x5f20db,this);return this['_renderDat'+'a']['push'](_0x1fac74),_0x1fac74;}['clone'](){const _0x1aa54a=new zo(this['device'],this['clusteredL'+'ighting']);return _0x1aa54a['type']=this['_type'],_0x1aa54a['setColor'](this['_color']),_0x1aa54a['intensity']=this['_intensity'],_0x1aa54a['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x1aa54a['luminance']=this['_luminance'],_0x1aa54a['castShadow'+'s']=this['castShadow'+'s'],_0x1aa54a['_enabled']=this['_enabled'],_0x1aa54a['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x1aa54a['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x1aa54a['falloffMod'+'e']=this['_falloffMo'+'de'],_0x1aa54a['shadowType']=this['_shadowTyp'+'e'],_0x1aa54a['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x1aa54a['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x1aa54a['vsmBias']=this['vsmBias'],_0x1aa54a['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x1aa54a['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x1aa54a['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x1aa54a['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x1aa54a['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x1aa54a['numCascade'+'s']=this['numCascade'+'s'],_0x1aa54a['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x1aa54a['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x1aa54a['shape']=this['_shape'],_0x1aa54a['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x1aa54a['shadowBias']=this['shadowBias'],_0x1aa54a['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x1aa54a['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x1aa54a['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x1aa54a['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x1aa54a['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x1aa54a['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x1aa54a['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x1aa54a['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x1aa54a;}static['getLightUn'+'itConversi'+'on'](_0x9a97ab,_0x5b4b58=Math['PI']/(0xfc2+0xd1a+0x68*-0x47),_0x371fb9=0x185*-0x7+-0x9*-0x17b+-0x158*0x2){switch(_0x9a97ab){case Re:{const _0x416cde=Math['cos'](_0x5b4b58),_0x1ab621=Math['cos'](_0x371fb9);return(-0x1*-0x2329+0x3fd*-0x1+0xf95*-0x2)*Math['PI']*(-0x1*-0xb57+-0xb77+-0x21*-0x1-_0x1ab621+(_0x1ab621-_0x416cde)/(0x1e40+-0x30d*0x5+-0xefd));}case Pe:return(-0x1*0x793+-0x1b53+0x22ea)*Math['PI'];case oe:return 0x1020+-0x4cc*-0x2+-0x1d*0xe3;}}['_getUnifor'+'mBiasValue'+'s'](_0x1c32f3){const _0x47d290=_0x1c32f3['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Pe:ti['bias']=this['shadowBias'],ti['normalBias']=this['_normalOff'+'setBias'];break;case Re:this['_isVsm']?ti['bias']=-(0xcba+0x6e0+0x182*-0xd+0.00001)*(-0x387*-0xb+-0x73d*-0x5+-0x1*0x4aea):ti['bias']=this['shadowBias']*(0x16c6+-0xfa8+-0x70a),ti['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(0x3*0xc25+-0xc94*-0x1+-0x30fc)):this['_normalOff'+'setBias'];break;case oe:this['_isVsm']?ti['bias']=-(0xf27*0x1+-0x16b1+0x78a+0.00001)*(0x3a*0x5c+-0x2255+0xd91):ti['bias']=this['shadowBias']/_0x47d290*(0x2a9+0x2*0xf9a+-0x2179),ti['normalBias']=this['_isVsm']?this['vsmBias']/(_0x47d290/(0x1023+-0x7*-0x229+0xd*-0x267)):this['_normalOff'+'setBias'];break;}return ti;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x586545){if(this['_type']===Re){const _0x46cad7=this['attenuatio'+'nEnd'],_0x3cc100=this['_outerCone'+'Angle'],_0x49414d=this['_outerCone'+'AngleCos'],_0xf46158=this['_node'];kl['copy'](_0xf46158['up']),_0x3cc100>-0x31*-0x77+0x1*0x89+-0x1723?(_0x586545['radius']=_0x46cad7*this['_outerCone'+'AngleSin'],kl['mulScalar'](-_0x46cad7*_0x49414d)):(_0x586545['radius']=_0x46cad7/((-0x263*0x10+-0x2136+0x4768)*_0x49414d),kl['mulScalar'](-_0x586545['radius'])),_0x586545['center']['add2'](_0xf46158['getPositio'+'n'](),kl);}else this['_type']===Pe&&(_0x586545['center']=this['_node']['getPositio'+'n'](),_0x586545['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x48a1e9){if(this['_type']===Re){const _0x21bfc4=this['attenuatio'+'nEnd'],_0x5643b7=this['_outerCone'+'Angle'],_0x38033f=this['_node'],_0x6d8651=Math['abs'](Math['sin'](_0x5643b7*N['DEG_TO_RAD'])*_0x21bfc4);_0x48a1e9['center']['set'](0x3f3+0x26b6+-0x43*0xa3,-_0x21bfc4*(-0x2*0x1373+-0x1*-0x1efd+-0x87*-0xf+0.5),-0x32d*-0x3+-0x1*-0xba7+-0xa97*0x2),_0x48a1e9['halfExtent'+'s']['set'](_0x6d8651,_0x21bfc4*(0x7*-0xd6+0x2372+-0x1d98*0x1+0.5),_0x6d8651),_0x48a1e9['setFromTra'+'nsformedAa'+'bb'](_0x48a1e9,_0x38033f['getWorldTr'+'ansform'](),!(-0xf3a*-0x2+-0x20b*-0x11+-0xb*0x5ed));}else this['_type']===Pe&&(_0x48a1e9['center']['copy'](this['_node']['getPositio'+'n']()),_0x48a1e9['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Pe&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x43*0x2f+-0x893*-0x1+0x3ba,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x309+-0x1*-0x17b+-0x1*0x484;else{const _0x4d8ba3=this['shadowBias']*-(-0xda1+-0x11f4*-0x2+0x1*-0x125f);this['shadowDept'+'hState']['depthBias']=_0x4d8ba3,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x4d8ba3;}}['_updateLin'+'earColor'](){let _0x228fb7=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x228fb7=this['_luminance']/zo['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*N['DEG_TO_RAD'],this['_innerCone'+'Angle']*N['DEG_TO_RAD']));const _0x57962d=this['_color'],_0x3146b7=this['_colorLine'+'ar'];_0x228fb7>=-0x3ee*0x1+0x839+0x16e*-0x3?Ya['linear'](_0x57962d)['mulScalar'](_0x228fb7):Ya['copy'](_0x57962d)['mulScalar'](_0x228fb7)['linear'](),_0x3146b7[-0x705*-0x3+-0xeae+-0x661]=Ya['r'],_0x3146b7[0xd55+0xa45+-0x1799]=Ya['g'],_0x3146b7[-0x6e6*0x1+-0x1*-0x939+-0x251]=Ya['b'];}['setColor'](){arguments['length']===-0x7*0xe8+0x1a09+-0x4ec*0x4?this['_color']['set'](arguments[-0x2b8*-0xc+-0x29*0x56+-0x12da]['r'],arguments[0x259b+-0x5*0x5c9+-0xb*0xca]['g'],arguments[-0xf5c+0x1*-0x19c3+0x291f]['b']):arguments['length']===-0x3d*-0x3+-0x1b5*-0x11+-0x1db9&&this['_color']['set'](arguments[-0x1bec+0x22cb+-0x1*0x6df],arguments[-0x9*-0x2b9+0xf16*0x1+-0x2796],arguments[0xd2+0x933+0x1*-0xa03]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x33b91a=>{_0x33b91a['hasLight'](this)&&_0x33b91a['markLights'+'Dirty']();});}['updateKey'](){let _0x3bf775=this['_type']<<0xaa9+0x70*0x1f+-0x181c|this['_shadowTyp'+'e']<<0x6*0x51a+-0x3b*0x39+-0x1160|this['_falloffMo'+'de']<<0x1cf9+0xbc4+-0x28a6|(this['_normalOff'+'setBias']!==0xa93+-0x14f9+0xa66?-0x251+-0x4fe+0x750:0x1609*-0x1+-0x1*-0x28b+0x137e)<<-0x2*-0x181+-0x1518+0x2*0x916|(this['_cookie']?-0x1f23+0x4b2+0x1a72*0x1:-0x20c+-0x205d*-0x1+-0xa1b*0x3)<<0x1dd+-0x691*0x3+-0x21*-0x8b|(this['_cookieFal'+'loff']?-0x2*-0x131b+-0x9b7*0x2+0xb*-0x1b5:0x1e73+-0x857+-0x161c)<<0x6d0*0x1+-0x162d+0xf71|Ud[this['_cookieCha'+'nnel']['charAt'](-0x883*0x1+0x973+-0xf0)]<<-0x4cc+0xa3d*0x3+-0x1fd*0xd|(this['_cookieTra'+'nsform']?0x8*-0x397+-0x1ba3+-0x385c*-0x1:0x6*0x1e2+-0x3*-0x399+-0x3*0x75d)<<0x1*-0x17a5+0x2b6*0x5+0xa23|this['_shape']<<-0x1b*0xb3+0x5c*-0x11+0x1*0x1907|(this['numCascade'+'s']>0x1062+-0x475*-0x1+-0x14d7?0x22af+0x1cc*0xc+-0x383e:0x242*-0xe+-0x3eb*-0x1+0x11*0x1a1)<<-0x7c0+-0x391+0xb5a*0x1|(this['_cascadeBl'+'end']>0x24bb*0x1+0x18d7+-0x3d92?-0xe89+0x59f+0x3*0x2f9:-0x1d89*-0x1+-0x7bf+-0x15ca)<<0x1*-0x24b3+0xa1f+0x1a9c|(this['affectSpec'+'ularity']?-0x2c*-0x65+0xcf2*-0x2+0x1b5*0x5:-0x3*-0xcb5+0xe31+-0x45c*0xc)<<0x34e+-0xd66+0xa1f|this['mask']<<0x3*-0xad9+-0x91*0x3d+0x431e|(this['_castShado'+'ws']?0x157*-0x6+-0x1003+0x180e:0x1*0x571+-0x4f8*0x3+0x977)<<-0x12c4+-0xed0+0x2197;this['_cookieCha'+'nnel']['length']===-0x41c+-0xe08+0x1227&&(_0x3bf775|=Ud[this['_cookieCha'+'nnel']['charAt'](0x1f60*-0x1+-0x17*0x61+0x4*0xa06)]<<0x4*-0x79d+-0xc21+0x2aa5,_0x3bf775|=Ud[this['_cookieCha'+'nnel']['charAt'](0x1*-0x779+0x24a2*0x1+-0x1d27)]<<0x1c1f+0x29b+-0x1eac),_0x3bf775!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x3bf775;}}class L0{constructor(_0x50fe50,_0x24d31e,_0x1e9614){c(this,'_areaLight'+'sEnabled',!(-0x25e1+0x170f*-0x1+0x3cf1)),c(this,'_cells',new T(0x1*0x3b7+0x1*0x2da+-0x687,0xffc+0x1c8e+-0x2c87,-0x1*0x1c89+0x56*0x47+0x27*0x1f)),c(this,'_maxLights'+'PerCell',0x2679+0x875*-0x1+-0x1d05),c(this,'_shadowsEn'+'abled',!(-0x1*-0x198+-0x2*-0x846+-0x1224)),c(this,'_shadowTyp'+'e',Dt),c(this,'_shadowAtl'+'asResoluti'+'on',0x2*-0x5cf+0x1148+0x256),c(this,'_cookiesEn'+'abled',!(-0x1*-0x1ada+-0x1360+-0x779)),c(this,'_cookieAtl'+'asResoluti'+'on',-0x55b+-0x24eb+0x3246),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x50fe50,this['_maxTextur'+'eSize']=_0x24d31e,this['_dirtyLigh'+'tsFnc']=_0x1e9614);}['applySetti'+'ngs'](_0x58d218){this['shadowsEna'+'bled']=_0x58d218['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x58d218['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x58d218['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x58d218['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x58d218['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x58d218['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x58d218['lightingSh'+'adowType']??this['shadowType'],_0x58d218['lightingCe'+'lls']&&(this['cell']=new T(_0x58d218['lightingCe'+'lls']));}set['cells'](_0x358bcf){this['_cells']['copy'](_0x358bcf);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x4e20ff){this['_maxLights'+'PerCell']=N['clamp'](_0x4e20ff,0x277*0x3+0x1*-0x15fd+0xe99,-0x1*0x1d3f+0x10*-0x87+0x26ae);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x43ca3b){this['_cookieAtl'+'asResoluti'+'on']=N['clamp'](_0x43ca3b,0x1815+0x1646+-0x2e3b,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x320f15){this['_shadowAtl'+'asResoluti'+'on']=N['clamp'](_0x320f15,0x1f1c+-0x18cc+-0x90*0xb,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x503ea0){this['_shadowTyp'+'e']!==_0x503ea0&&(this['_shadowTyp'+'e']=_0x503ea0,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x3fa877){this['_cookiesEn'+'abled']!==_0x3fa877&&(this['_cookiesEn'+'abled']=_0x3fa877,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x4649e7){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x4649e7&&(this['_areaLight'+'sEnabled']=_0x4649e7,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x5b7652){this['_shadowsEn'+'abled']!==_0x5b7652&&(this['_shadowsEn'+'abled']=_0x5b7652,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const jM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',YM=new _t(!(0x83*0x1f+-0x29e*-0x8+0x1*-0x24cd),Lt,at,at);class fn{constructor(_0x55b9e0){c(this,'shaderCach'+'e',[]),(this['morph']=_0x55b9e0,_0x55b9e0['incRefCoun'+'t'](),this['device']=_0x55b9e0['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x2d72a7=-0x98+-0x38*0x4a+0x10c8;_0x2d72a7<_0x55b9e0['_targets']['length'];_0x2d72a7++){const _0xa7d7c1=_0x55b9e0['_targets'][_0x2d72a7];_0xa7d7c1['name']&&this['_weightMap']['set'](_0xa7d7c1['name'],_0x2d72a7),this['setWeight'](_0x2d72a7,_0xa7d7c1['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x4dce79=(_0x2115ec,_0x4aa421)=>(this[_0x4aa421]=_0x55b9e0['_createTex'+'ture'](_0x2115ec,_0x55b9e0['_renderTex'+'tureFormat']),new pt({'colorBuffer':this[_0x4aa421],'depth':!(-0x9a3*-0x4+0x8a4*0x2+-0x1cd*0x1f)}));_0x55b9e0['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x4dce79('MorphRTPos','texturePos'+'itions')),_0x55b9e0['morphNorma'+'ls']&&(this['rtNormals']=_0x4dce79('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x55b9e0['morphTextu'+'reWidth'],_0x55b9e0['morphTextu'+'reHeight']]);const _0x14a35c=_0x55b9e0['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x14a35c['x']*(0x62b*-0x1+0x1861*-0x1+0x1e90),_0x14a35c['y']*(0xe*0x1fb+0x1c09+-0x37bf),_0x14a35c['z']*(-0x1*0x1c9+-0x14bf*0x1+-0x3c2*-0x6)]);const _0x38585d=_0x55b9e0['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x38585d['x']*(-0x1f3f*0x1+-0x1*-0xa1d+-0xb*-0x1ec),_0x38585d['y']*(-0x43*-0x1+-0x2150+0xb05*0x3),_0x38585d['z']*(-0x1*0x19b7+-0x3*-0x4ce+-0x3c5*-0x3)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x1b33+-0x9c2+-0x116f,-0x1bf*0x10+0x192d*-0x1+0x5e7*0x9,-0x218d+0x5*-0x427+0x22*0x199]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x1bb5+0xf03*0x2+-0x39ba),-(0x1a7e+0x5*-0x701+-0x16c*-0x6),-(-0x1da9+0x3*0x214+-0x1*-0x176e)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x1e7614=-0x2*-0x3d+-0xd*-0x277+-0xe1*0x25;_0x1e7614<this['maxSubmitC'+'ount'];_0x1e7614++)this['morphBlend'+'Tex'+_0x1e7614]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x1e7614);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(0x200b+0x29*-0x9+-0x1e99);}['destroy'](){this['shader']=null;const _0x325fff=this['morph'];_0x325fff&&(this['morph']=null,_0x325fff['decRefCoun'+'t'](),_0x325fff['refCount']<0x198d+-0x151+-0x1*0x183b&&_0x325fff['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new fn(this['morph']);}['_getWeight'+'Index'](_0x528371){if(typeof _0x528371=='string'){const _0x3d8e51=this['_weightMap']['get'](_0x528371);return _0x3d8e51===void(0x1207+0x7cb+-0x19d2)&&v['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x528371+'.'),_0x3d8e51;}return _0x528371;}['getWeight'](_0x586d55){const _0x59c548=this['_getWeight'+'Index'](_0x586d55);return this['_weights'][_0x59c548];}['setWeight'](_0x3f25b0,_0x995b6d){const _0x37052a=this['_getWeight'+'Index'](_0x3f25b0);v['assert'](_0x37052a>=-0x244d+0x1*0xf55+0x14f8&&_0x37052a<this['morph']['_targets']['length']),this['_weights'][_0x37052a]=_0x995b6d,this['_dirty']=!(0xb96+0x161b+0x21b1*-0x1);}['_getFragme'+'ntShader'](_0x5f03d3){let _0x48c9be='',_0x3a6317='';for(let _0x23a6c8=-0x20da+-0x1762+0x383c;_0x23a6c8<_0x5f03d3;_0x23a6c8++)_0x48c9be+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x23a6c8+';',_0x3a6317+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x23a6c8+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x23a6c8+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x5f03d3>-0x1a23+0x1*-0x1b1a+0x353d?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x5f03d3+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x48c9be+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x3a6317+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x7a8cf8){let _0x3120c8=this['shaderCach'+'e'][_0x7a8cf8];if(!_0x3120c8){const _0x4d4192=this['_getFragme'+'ntShader'](_0x7a8cf8),_0x1b683f=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x3120c8=Is(this['device'],jM,_0x4d4192,'textureMor'+'ph'+_0x7a8cf8,void(0x977*0x2+-0xcbe+-0x18*0x42),{'fragmentOutputTypes':[_0x1b683f]}),this['shaderCach'+'e'][_0x7a8cf8]=_0x3120c8;}return _0x3120c8;}['_updateTex'+'tureRender'+'Target'](_0x32d626,_0x23ef1d,_0x20d19b){const _0x46d845=this['device'],_0x2fed56=(_0x236b95,_0x495dc6)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x46d845['setBlendSt'+'ate'](_0x495dc6?YM:_t['NOBLEND']);const _0x318d4a=this['_getShader'](_0x236b95);dn(_0x46d845,_0x32d626,_0x318d4a);};this['setAabbUni'+'forms'](_0x20d19b);let _0x191bfc=-0x19f7+-0x1*-0x150a+0x4ed,_0x27644b=!(-0x1305*0x1+0x1*0x1bf5+0x8ef*-0x1);const _0x535679=this['_activeTar'+'gets']['length'];for(let _0x163b42=0x23ef+0x2d8+0x26c7*-0x1;_0x163b42<_0x535679;_0x163b42++){const _0x2c5dd6=this['_activeTar'+'gets'][_0x163b42],_0x2e2447=_0x2c5dd6['target'][_0x23ef1d];_0x2e2447&&(this['morphBlend'+'Tex'+_0x191bfc]['setValue'](_0x2e2447),this['_shaderMor'+'phWeights'][_0x191bfc]=_0x2c5dd6['weight'],_0x191bfc++,_0x191bfc>=this['maxSubmitC'+'ount']&&(_0x2fed56(_0x191bfc,_0x27644b),_0x191bfc=0x10a7+-0xcea+-0x21*0x1d,_0x27644b=!(0x1268*0x2+0x3*0x8f1+-0x1*0x3fa3)));}(_0x191bfc>0x27*0x11+-0xb*0x195+0xed0||_0x535679===-0x8f4+-0x247f*0x1+0x2d73*0x1&&!this['zeroTextur'+'es'])&&_0x2fed56(_0x191bfc,_0x27644b);}['_updateTex'+'tureMorph'](){const _0x2194a3=this['device'];G['pushGpuMar'+'ker'](_0x2194a3,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>0x2115+0x2472+0x3*-0x172d||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(-0x21ca*0x1+-0x156b+0x3735)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(0x1*0x455+-0x24*0xd0+0x5*0x4fc)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===0x1632+0x1a13+0x1017*-0x3),G['popGpuMark'+'er'](_0x2194a3);}['setAabbUni'+'forms'](_0x4c980e=!(0x159f+-0x228b+0xcec)){this['aabbSizeId']['setValue'](_0x4c980e?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x4c980e?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x4e1c36){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x1c78+0x1*0x240b+-0x792);const _0x5baed6=this['morph']['_targets'];let _0x5bc3eb=-0x1*-0x2b0+-0x8*0xd4+0x3f0;const _0x491e41=-0x175c+0x25*-0xfb+0x3ba3+0.00001;for(let _0x1ca4d0=-0xe8d*-0x1+-0x5*0x607+-0x39*-0x46;_0x1ca4d0<_0x5baed6['length'];_0x1ca4d0++){const _0x520525=Math['abs'](this['getWeight'](_0x1ca4d0));if(_0x520525>_0x491e41){this['_activeTar'+'gets']['length']<=_0x5bc3eb&&(this['_activeTar'+'gets'][_0x5bc3eb]={});const _0x3c4906=this['_activeTar'+'gets'][_0x5bc3eb++];_0x3c4906['absWeight']=_0x520525,_0x3c4906['weight']=this['getWeight'](_0x1ca4d0),_0x3c4906['target']=_0x5baed6[_0x1ca4d0];}}this['_activeTar'+'gets']['length']=_0x5bc3eb,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x162d23,_0x4cd025)=>_0x162d23['absWeight']<_0x4cd025['absWeight']?-0x1*-0xdf4+0x10a8+-0x1e9b:_0x4cd025['absWeight']<_0x162d23['absWeight']?-(0x1*-0x18d9+-0x1e*-0x1+0x2*0xc5e):-0x791*0x1+-0x793+-0x3c9*-0x4),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Oi{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=0x59*0x67+-0x1a3d+-0x992,this['_immutable']=!(-0x15e1+-0x6fc+0x1cde));}['getGraph'](){return this['graph'];}['setGraph'](_0x3bc6ac){this['graph']=_0x3bc6ac;}['getCameras'](){return this['cameras'];}['setCameras'](_0x1fccb1){this['cameras']=_0x1fccb1;}['getLights'](){return this['lights'];}['setLights'](_0x155c4b){this['lights']=_0x155c4b;}['getMateria'+'ls'](){const _0x1c27f5=[];for(let _0x482f35=-0x243b+0x493*0x8+-0x5d;_0x482f35<this['meshInstan'+'ces']['length'];_0x482f35++){const _0x129be2=this['meshInstan'+'ces'][_0x482f35];_0x1c27f5['indexOf'](_0x129be2['material'])===-(0x4f*-0x7+-0x1d1b+0x1f45)&&_0x1c27f5['push'](_0x129be2['material']);}return _0x1c27f5;}['clone'](){const _0x4bf71c=[],_0x4d2161=[],_0x77f395=function(_0x2f055b){const _0x29b14a=_0x2f055b['clone']();_0x4bf71c['push'](_0x2f055b),_0x4d2161['push'](_0x29b14a);for(let _0x57400c=0x78f+0xfde+-0x1*0x176d;_0x57400c<_0x2f055b['_children']['length'];_0x57400c++)_0x29b14a['addChild'](_0x77f395(_0x2f055b['_children'][_0x57400c]));return _0x29b14a;},_0x1d196d=_0x77f395(this['graph']),_0x222165=[],_0x350f81=[],_0x5c3020=[];for(let _0x3194f1=0x1*0x452+-0x91f*0x1+0x4cd;_0x3194f1<this['skinInstan'+'ces']['length'];_0x3194f1++){const _0x48327b=this['skinInstan'+'ces'][_0x3194f1]['skin'],_0x4c41ba=new nl(_0x48327b),_0x246b3c=[];for(let _0x4fa517=-0x61*-0x21+0x8*-0x1e+-0x3db*0x3;_0x4fa517<_0x48327b['boneNames']['length'];_0x4fa517++){const _0x2b91ad=_0x48327b['boneNames'][_0x4fa517],_0x66c956=_0x1d196d['findByName'](_0x2b91ad);_0x246b3c['push'](_0x66c956);}_0x4c41ba['bones']=_0x246b3c,_0x350f81['push'](_0x4c41ba);}for(let _0x59b78e=-0x1924+0xadb+0xe49;_0x59b78e<this['morphInsta'+'nces']['length'];_0x59b78e++){const _0x455743=this['morphInsta'+'nces'][_0x59b78e]['morph'],_0x357bd0=new fn(_0x455743);_0x5c3020['push'](_0x357bd0);}for(let _0x401576=0xba7*0x1+0x229c+-0x38f*0xd;_0x401576<this['meshInstan'+'ces']['length'];_0x401576++){const _0xc4c226=this['meshInstan'+'ces'][_0x401576],_0x1ad1dd=_0x4bf71c['indexOf'](_0xc4c226['node']),_0x3c1eb1=new Le(_0xc4c226['mesh'],_0xc4c226['material'],_0x4d2161[_0x1ad1dd]);if(_0xc4c226['skinInstan'+'ce']){const _0x5b58cb=this['skinInstan'+'ces']['indexOf'](_0xc4c226['skinInstan'+'ce']);_0x3c1eb1['skinInstan'+'ce']=_0x350f81[_0x5b58cb];}if(_0xc4c226['morphInsta'+'nce']){const _0x4047d0=this['morphInsta'+'nces']['indexOf'](_0xc4c226['morphInsta'+'nce']);_0x3c1eb1['morphInsta'+'nce']=_0x5c3020[_0x4047d0];}_0x222165['push'](_0x3c1eb1);}const _0x6adea=new Oi();return _0x6adea['graph']=_0x1d196d,_0x6adea['meshInstan'+'ces']=_0x222165,_0x6adea['skinInstan'+'ces']=_0x350f81,_0x6adea['morphInsta'+'nces']=_0x5c3020,_0x6adea['getGraph']()['syncHierar'+'chy'](),_0x6adea;}['destroy'](){const _0x192cc9=this['meshInstan'+'ces'];for(let _0xe1f55a=-0xf5*0x1d+-0xb75*0x2+-0x2fb*-0x11;_0xe1f55a<_0x192cc9['length'];_0xe1f55a++)_0x192cc9[_0xe1f55a]['destroy']();this['meshInstan'+'ces']['length']=0x1bb3+-0x751*0x1+0x1462*-0x1;}['generateWi'+'reframe'](){Le['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Dr);}}class F0 extends Gc{constructor(_0x435efe,_0x20086a,{preferHighPrecision:_0x114e54=!(0x1a54+-0x3bd*-0x7+-0x347e)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(v['assert'](_0x20086a,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x20086a,this['preferHigh'+'Precision']=_0x114e54,v['assert'](_0x435efe['every'](_0x489389=>!_0x489389['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x435efe['slice']());const _0x312c2a=this['device'],_0x138055=_0x312c2a['textureHal'+'fFloatRend'+'erable']?Je:void(-0x6cc+-0x2b*-0x20+0x16c),_0x6430fb=_0x312c2a['textureFlo'+'atRenderab'+'le']?Ke:void(0x11d5+0x3a0+0x1*-0x1575);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x6430fb??_0x138055:_0x138055??_0x6430fb,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Ac,this['intRenderF'+'ormat']=ea(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Sc:Je,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x578767=new T(),_0x57fea1=new T();for(let _0x5aa6f1=0x11d2+0x8bb+-0x1a8d;_0x5aa6f1<this['_targets']['length'];_0x5aa6f1++){const _0x174ea9=this['_targets'][_0x5aa6f1]['aabb'];_0x578767['min'](_0x174ea9['getMin']()),_0x57fea1['max'](_0x174ea9['getMax']());}this['_aabb']=new _e(),this['_aabb']['setMinMax'](_0x578767,_0x57fea1);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x4d26be=0xc91*-0x1+0x504+0x1*0x78d;_0x4d26be<this['_targets']['length'];_0x4d26be++)this['_targets'][_0x4d26be]['_postInit']();}['_findSpars'+'eSet'](_0x1dbdd3,_0x158505,_0xa69c09){let _0xa3e052=-0x1*-0xaab+-0x1ddd+0x1333;const _0x241266=_0x1dbdd3[0x1bf5+-0x193c+-0x2b9]['length'];for(let _0x2bab1c=-0x1395+0x107*0x15+-0x1fe;_0x2bab1c<_0x241266;_0x2bab1c+=0x64*-0x3f+0x1c89+0x2*-0x1f5){let _0x19b55a=!(-0x801+-0x8*0x32a+0x2152);for(let _0xb3f614=-0x1ea9*-0x1+-0xa*0x114+-0x13e1;_0xb3f614<_0x1dbdd3['length'];_0xb3f614++){const _0x53e25c=_0x1dbdd3[_0xb3f614];if(_0x53e25c[_0x2bab1c]!==0x1b27+0x13*-0x15b+-0x166||_0x53e25c[_0x2bab1c+(0x16a*-0x9+-0x645+-0x980*-0x2)]!==0x548*0x4+-0x20b3*-0x1+-0x35d3*0x1||_0x53e25c[_0x2bab1c+(-0x17*-0xe5+0x16*0x9d+-0x220f)]!==0x253f*0x1+0xe99+0x9e*-0x54){_0x19b55a=!(0x1a64*-0x1+0xbc2+-0x1*-0xea2);break;}}_0x19b55a?(_0x158505['push'](_0xa3e052),_0xa69c09['push'](_0x2bab1c/(0x98+0x1bd*-0x6+0x9d9)),_0xa3e052++):_0x158505['push'](-0x1127+-0x5*0x595+0x2d10);}return _0xa3e052;}['_initTextu'+'reBased'](){const _0x31b08a=[],_0xd07523=[];for(let _0x205fe0=-0x1c0d*0x1+-0x134e+-0x2f5b*-0x1;_0x205fe0<this['_targets']['length'];_0x205fe0++){const _0xd55cfc=this['_targets'][_0x205fe0];_0xd55cfc['options']['deltaPosit'+'ions']&&(_0x31b08a['push'](_0xd55cfc['options']['deltaPosit'+'ions']),_0xd07523['push']({'target':_0xd55cfc,'name':'texturePos'+'itions'})),_0xd55cfc['options']['deltaNorma'+'ls']&&(_0x31b08a['push'](_0xd55cfc['options']['deltaNorma'+'ls']),_0xd07523['push']({'target':_0xd55cfc,'name':'textureNor'+'mals'}));}const _0x4afcba=[],_0x488fd9=[],_0x1b1279=this['_findSpars'+'eSet'](_0x31b08a,_0x4afcba,_0x488fd9),_0x139ca1=this['device']['maxTexture'+'Size'];let _0x2fdd35=Math['ceil'](Math['sqrt'](_0x1b1279));_0x2fdd35=Math['min'](_0x2fdd35,_0x139ca1);const _0xd2fcfb=Math['ceil'](_0x1b1279/_0x2fdd35);if(_0xd2fcfb>_0x139ca1)return!(0xb*0x325+0x26db+-0x4971);this['morphTextu'+'reWidth']=_0x2fdd35,this['morphTextu'+'reHeight']=_0xd2fcfb;let _0x5ed5fa=!(0x2d*-0x4f+0x1535+0x751*-0x1),_0x47d908=0x4*-0x7c3+-0x25*-0x1a+-0xf1*-0x1d;const _0x361ced=$t['float2Half'];this['_textureFo'+'rmat']===Je&&(_0x5ed5fa=!(0x1bfd+0x1fc*-0x4+-0x140d),_0x47d908=0x14bb*0x1+0x169f*0x1+-0x2b56);const _0x431e67=[];for(let _0x4d4595=-0x6*0x518+-0x1cbd+0x1*0x3b4d;_0x4d4595<_0x31b08a['length'];_0x4d4595++)_0x431e67['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x2912d2=0xce*0x25+0x252d+-0x1*0x42f3;_0x2912d2<_0x31b08a['length'];_0x2912d2++){const _0x1c35ac=_0x31b08a[_0x2912d2],_0x26c465=_0x431e67[_0x2912d2],_0x471502=_0x26c465['lock']();if(_0x5ed5fa)for(let _0x24b45e=0xc2a+-0x15c2+0x998;_0x24b45e<_0x488fd9['length'];_0x24b45e++){const _0x5ce555=_0x488fd9[_0x24b45e]*(-0x9af+0x156d+-0xb*0x111),_0x3aed3f=_0x24b45e*_0x47d908+_0x47d908;_0x471502[_0x3aed3f]=_0x361ced(_0x1c35ac[_0x5ce555]),_0x471502[_0x3aed3f+(-0x242f+0x1*-0x75b+0x2b8b)]=_0x361ced(_0x1c35ac[_0x5ce555+(0x1*0xb67+-0x1*-0x1f19+-0x2a7f)]),_0x471502[_0x3aed3f+(-0x1892+0x15d9+0x2bb)]=_0x361ced(_0x1c35ac[_0x5ce555+(-0x112a+-0x24*0x9c+0x271c)]);}else for(let _0x21de3a=-0x16cf+0x670+0x105f;_0x21de3a<_0x488fd9['length'];_0x21de3a++){const _0x25379c=_0x488fd9[_0x21de3a]*(0x2*0x1373+0x1b63+0x2*-0x2123),_0x9ec38d=_0x21de3a*_0x47d908+_0x47d908;_0x471502[_0x9ec38d]=_0x1c35ac[_0x25379c],_0x471502[_0x9ec38d+(0x1b6+0xe1+-0x296)]=_0x1c35ac[_0x25379c+(-0x1888+0x8a5*-0x1+0x212e)],_0x471502[_0x9ec38d+(0xe5*-0x1c+-0x46a*-0x2+-0x2*-0x81d)]=_0x1c35ac[_0x25379c+(0x16f*0x16+0x1803*0x1+-0x1*0x378b)];}_0x26c465['unlock'](),_0xd07523[_0x2912d2]['target']['_setTextur'+'e'](_0xd07523[_0x2912d2]['name'],_0x26c465);}const _0x2c3931=[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(-0x1*0x1f87+-0x840+0x27c7)}];return this['vertexBuff'+'erIds']=new os(this['device'],new Et(this['device'],_0x2c3931,_0x4afcba['length']),_0x4afcba['length'],{'data':new Uint32Array(_0x4afcba)}),!(-0xe98+-0x200c+0x2ea4);}['destroy'](){var _0x58b671;(_0x58b671=this['vertexBuff'+'erIds'])==null||_0x58b671['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0xf5ec2=0x2*-0x737+0x40f*-0x2+-0x1a*-0xde;_0xf5ec2<this['_targets']['length'];_0xf5ec2++)this['_targets'][_0xf5ec2]['destroy']();this['_targets']['length']=0x46c*-0x5+0x155+0x14c7;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0x702+0x1e16+-0xb3*0x21),this['_morphNorm'+'als']=!(0xcfc+0xe57+0x1b52*-0x1);for(let _0x45bbc9=-0x1fdd+-0x1*-0x1eab+0x2*0x99;_0x45bbc9<this['_targets']['length'];_0x45bbc9++){const _0x14b4ef=this['_targets'][_0x45bbc9];_0x14b4ef['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0xa34+-0x1*-0x1022+0x17*-0x42)),_0x14b4ef['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(0x11*0x3c+-0x1154+0xd58));}}['_createTex'+'ture'](_0x42fb07,_0x1cc18a){return new he(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x1cc18a,'cubemap':!(0x2*0x5cb+0x2f0+-0x213*0x7),'mipmaps':!(-0x3ee*0x9+0x471+-0x4a*-0x6b),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x42fb07});}}class Qc{constructor(_0x1784c9){c(this,'used',!(0x8df*-0x1+-0x6*-0x322+-0x9ec)),(v['assert'](arguments['length']===0x1*0x1151+-0x19c7+0x877),this['options']=_0x1784c9,this['_name']=_0x1784c9['name'],this['_defaultWe'+'ight']=_0x1784c9['defaultWei'+'ght']||-0xa1*0x26+0x3c5+0x1421,this['_aabb']=_0x1784c9['aabb'],this['deltaPosit'+'ions']=_0x1784c9['deltaPosit'+'ions']);}['destroy'](){var _0x59016b,_0x30411b;(_0x59016b=this['texturePos'+'itions'])==null||_0x59016b['destroy'](),this['texturePos'+'itions']=null,(_0x30411b=this['textureNor'+'mals'])==null||_0x30411b['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new _e(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return v['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Qc(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0x17*0x34+-0x7b*0x38+-0x2*-0xb1e);}['_setTextur'+'e'](_0x3ff7aa,_0x15870f){this[_0x3ff7aa]=_0x15870f;}}let si,v_=-0x2030+-0x2219+0x6a1*0xa;const ie=-0x6de+-0x1*-0x131e+0x20a*-0x6,Vd=new q(),Gd=new q(),ks=new T(),ze=new T(),ps=new T(),Rn=new T(),Nt=new T(),Ze=new T(),In=new T(),Dn=new T(),Ka=new T(),b_=new T(),vt=new T(),Bl=new T(),wr=new T();function ia(_0x2b6b95){return _0x2b6b95-Math['floor'](_0x2b6b95);}function KM(_0x60b7f3){return Math['max'](Math['min'](_0x60b7f3,0xcc4+-0x1fdd+0x131a),0x1*0x39+0x698+-0x6d1);}function Hd(_0x32a119,_0x2c6083){return _0x32a119-_0x2c6083*Math['floor'](_0x32a119/_0x2c6083);}function ZM(_0x4d7a98){let _0x3b5ea4=ia(_0x4d7a98),_0x18db1f=ia((-0x1*0x20f+-0x3*-0x648+-0xfca)*_0x4d7a98),_0x1361e3=ia((0x64b5*-0x3+-0x1f081*-0x1+0x3b9f)*_0x4d7a98),_0x455f7b=ia((-0x1ab26f1*-0x9+0x12ac2f82+-0x181e46fc)*_0x4d7a98);return _0x3b5ea4-=_0x18db1f/(0x17f0+0x6f1+-0x1de2),_0x18db1f-=_0x1361e3/(0x29*0xad+-0x802+-0x12b4),_0x1361e3-=_0x455f7b/(-0x185+0xa83+0x7ff*-0x1),_0x455f7b-=_0x455f7b/(0x126d+0x2*0x1343+-0x4*0xdfd),[_0x3b5ea4,_0x18db1f,_0x1361e3,_0x455f7b];}function Nl(_0x5e5070){let _0x59509c=ia(_0x5e5070),_0x4d1271=ia((-0xb8a*0x1+0x1bb7+-0xf2e)*_0x5e5070);return _0x59509c-=_0x4d1271/(0xb4e+0x2073+0x2*-0x1561),_0x4d1271-=_0x4d1271/(-0xf0b+0x155*-0x5+0x16b3),[_0x59509c,_0x4d1271];}class QM{constructor(_0x14f6ad){this['_emitter']=_0x14f6ad;}['calcSpawnP'+'osition'](_0x106ec7,_0x52a322,_0x2f633c,_0xc0803c,_0x52960b){const _0x1bc771=this['_emitter'],_0x16a770=Math['random'](),_0x1bac65=Math['random'](),_0x55c47d=Math['random'](),_0x39a068=Math['random']();if(_0x1bc771['useCpu']&&(_0x106ec7[_0x52960b*ie+(0x16b2+0x1b4+0x9*-0x2b6)+_0x1bc771['numParticl'+'esPot']*(-0x1be8+0x6c*0x39+0x3de)*ie]=_0x16a770,_0x106ec7[_0x52960b*ie+(0x1dea+-0x243e+0x655)+_0x1bc771['numParticl'+'esPot']*(-0x1844+0x2619*-0x1+0x3e5f)*ie]=_0x1bac65,_0x106ec7[_0x52960b*ie+(0x6*0x490+-0x1be*0x5+-0x638*0x3)+_0x1bc771['numParticl'+'esPot']*(0x5*-0x727+0x37b*-0x3+-0xb6*-0x41)*ie]=_0x55c47d),ze['x']=_0x16a770-(-0x103*-0x17+0x28c+0x3*-0x89b+0.5),ze['y']=_0x1bac65-(-0x1763+-0x1*-0x683+-0x120*-0xf+0.5),ze['z']=_0x55c47d-(0x100*-0x10+0x76*-0x20+0x148*0x18+0.5),_0x1bc771['emitterSha'+'pe']===Vs){const _0x47e140=Math['max'](Math['abs'](ze['x']),Math['max'](Math['abs'](ze['y']),Math['abs'](ze['z']))),_0x1de9c2=_0x47e140+(0x163a+-0x19eb+0x23*0x1b+0.5-_0x47e140)*_0x2f633c[0x701+0x16c1+-0x1dc2],_0x2df162=_0x47e140+(-0xb36+-0x1851+0x71b*0x5+0.5-_0x47e140)*_0x2f633c[-0x37c+-0x49*-0x80+-0x2103],_0x7ae39e=_0x47e140+(0x22ba+0x1b6d+-0x3e27+0.5-_0x47e140)*_0x2f633c[0x1839+-0xba*0xc+-0xf7f];ze['x']=_0x1de9c2*(_0x47e140===Math['abs'](ze['x'])?Math['sign'](ze['x']):(-0x1*0x2+0x11f2+0x1e*-0x99)*ze['x']),ze['y']=_0x2df162*(_0x47e140===Math['abs'](ze['y'])?Math['sign'](ze['y']):(0x18*-0x12a+0x5*0x57a+0x90*0x1)*ze['y']),ze['z']=_0x7ae39e*(_0x47e140===Math['abs'](ze['z'])?Math['sign'](ze['z']):(0x64e*0x4+-0x59*-0x67+-0x3d05*0x1)*ze['z']),_0x1bc771['localSpace']?ks['copy'](_0x52a322['transformP'+'oint'](ze)):ks['copy'](_0xc0803c)['add'](_0x52a322['transformP'+'oint'](ze));}else{ze['normalize']();const _0x2daacd=_0x1bc771['emitterRad'+'ius']===0x1f8f+-0x14f1+0xa9e*-0x1?0x16f7+-0x803*0x1+-0xef4:_0x1bc771['emitterRad'+'iusInner']/_0x1bc771['emitterRad'+'ius'],_0x560e28=_0x39a068*(-0x2d5*0x3+0xc5b*0x2+-0x2*0x81b-_0x2daacd)+_0x2daacd;_0x1bc771['localSpace']?ks['copy'](ze['mulScalar'](_0x560e28*_0x1bc771['emitterRad'+'ius'])):ks['copy'](_0xc0803c)['add'](ze['mulScalar'](_0x560e28*_0x1bc771['emitterRad'+'ius']));}let _0x5a6ae3=-N['lerp'](_0x1bc771['rate'],_0x1bc771['rate2'],_0x16a770)*_0x52960b;if(_0x1bc771['pack8']){const _0x2dd4b0=(ks['x']-_0x1bc771['worldBound'+'s']['center']['x'])/_0x1bc771['worldBound'+'sSize']['x']+(-0x2467+-0x216*-0xd+0x949+0.5),_0x22389f=(ks['y']-_0x1bc771['worldBound'+'s']['center']['y'])/_0x1bc771['worldBound'+'sSize']['y']+(0x4de+-0x1e61+0x1983+0.5),_0x19282f=(ks['z']-_0x1bc771['worldBound'+'s']['center']['z'])/_0x1bc771['worldBound'+'sSize']['z']+(-0x13a6+0x2*0xc71+-0x53c*0x1+0.5);let _0x226ec8=N['lerp'](_0x1bc771['startAngle']*N['DEG_TO_RAD'],_0x1bc771['startAngle'+'2']*N['DEG_TO_RAD'],_0x16a770);_0x226ec8=_0x226ec8%(Math['PI']*(-0x1bd2+0xc5*0x25+0x1*-0xa5))/(Math['PI']*(-0xc*-0x2b6+-0x71*-0x1a+-0x200*0x16));const _0x3e9478=Nl(_0x2dd4b0);_0x106ec7[_0x52960b*ie]=_0x3e9478[-0xe65+0x1e7f+-0x101a],_0x106ec7[_0x52960b*ie+(0x2705+0x22d6+-0x49da)]=_0x3e9478[-0x8d*0x3b+-0x1*-0xb8d+-0xad*-0x1f];const _0x58c602=Nl(_0x22389f);_0x106ec7[_0x52960b*ie+(-0x502+0x270e+-0x220a)]=_0x58c602[0x1*0x1de0+0xed7+-0x2cb7],_0x106ec7[_0x52960b*ie+(-0x12c0*-0x2+0x4*-0x20b+-0x18b*0x13)]=_0x58c602[-0x1169*-0x1+-0x1*-0x2047+-0x31af];const _0x37c545=Nl(_0x19282f);_0x106ec7[_0x52960b*ie+(0x29e+0x1ffc+-0x1*0x229a)+_0x1bc771['numParticl'+'esPot']*ie]=_0x37c545[-0x23fe+-0x1*-0xf8b+0x1*0x1473],_0x106ec7[_0x52960b*ie+(0xbc+-0xe*-0x288+-0x242b)+_0x1bc771['numParticl'+'esPot']*ie]=_0x37c545[-0x21dd+-0x12ab+0x3*0x1183];const _0x43205a=Nl(_0x226ec8);_0x106ec7[_0x52960b*ie+(-0x35*-0x67+0xdf6*0x1+-0x2347)+_0x1bc771['numParticl'+'esPot']*ie]=_0x43205a[0x1af*-0xb+0x25ad+-0x1328],_0x106ec7[_0x52960b*ie+(-0x132f+0xfb*-0x9+-0x9*-0x31d)+_0x1bc771['numParticl'+'esPot']*ie]=_0x43205a[0x134*-0xb+0x19c2+-0xc85];const _0x3c80cc=0x6*-0x5d1+0x216b+0x17c;_0x106ec7[_0x52960b*ie+(0xa9*-0x2f+0xd*-0x10a+0x2*0x1646)+_0x1bc771['numParticl'+'esPot']*ie*(0xcae+0xe4a+0x1*-0x1af6)]=_0x3c80cc;const _0x28ccda=Math['max'](_0x1bc771['lifetime'],(_0x1bc771['numParticl'+'es']-(-0x1fda+0xfd6+-0x1005*-0x1))*Math['max'](_0x1bc771['rate'],_0x1bc771['rate2'])),_0x230917=_0x1bc771['lifetime']+(-0x3*0x6b5+0x242*0xd+-0x93a);_0x5a6ae3=(_0x5a6ae3+_0x28ccda)/(_0x28ccda+_0x230917);const _0x354092=ZM(_0x5a6ae3);_0x106ec7[_0x52960b*ie+(0x1bae+0x1*-0x1484+-0x72a)+_0x1bc771['numParticl'+'esPot']*ie*(0x27f+0xf*0x10c+0xc*-0x184)]=_0x354092[0x1*-0x57+-0x1d52+0x1da9],_0x106ec7[_0x52960b*ie+(-0xce7*0x3+-0x3*-0xbcd+0x34f)+_0x1bc771['numParticl'+'esPot']*ie*(0x502+-0x1*-0x51d+-0xa1c)]=_0x354092[-0x2029+0x11d1*0x2+-0x378],_0x106ec7[_0x52960b*ie+(0xb51*-0x3+0x1771+0xa84)+_0x1bc771['numParticl'+'esPot']*ie*(-0x819*-0x3+-0x3b3+-0x1495)]=_0x354092[-0xa92+-0xb8c+0x1620],_0x106ec7[_0x52960b*ie+(-0x26e0+-0x4c0+0x2ba3)+_0x1bc771['numParticl'+'esPot']*ie*(0x1*-0x542+-0x2056*0x1+0x259b)]=_0x354092[0x1183+-0x13f5+0x1*0x275];}else _0x106ec7[_0x52960b*ie]=ks['x'],_0x106ec7[_0x52960b*ie+(0x681+0x3*0x523+-0x15e9)]=ks['y'],_0x106ec7[_0x52960b*ie+(-0x25e6+-0x1*-0x298+0x28*0xe2)]=ks['z'],_0x106ec7[_0x52960b*ie+(0xe*0xaf+-0x19ed+-0x1a3*-0xa)]=N['lerp'](_0x1bc771['startAngle']*N['DEG_TO_RAD'],_0x1bc771['startAngle'+'2']*N['DEG_TO_RAD'],_0x16a770),_0x106ec7[_0x52960b*ie+(-0x8c7*-0x1+-0x17a1*0x1+0xedd)+_0x1bc771['numParticl'+'esPot']*ie]=_0x5a6ae3;}['update'](_0x53fe4e,_0x4b8696,_0x23ef08,_0x46ae2f,_0x1066dd,_0x254ca9,_0x18b635,_0x317d2e){let _0x39ff3e,_0x1815d0,_0xbdcbcb;const _0x2fb9be=this['_emitter'];if(_0x2fb9be['meshInstan'+'ce']['node']){const _0x3ab12c=_0x2fb9be['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0xb59789=-0xda0+0x6*-0x3d5+0x249e;_0xb59789<0x24ea+-0xb2*0x10+-0x526*0x5;_0xb59789++)Vd['data'][_0xb59789]=_0x3ab12c['data'][_0xb59789];Gd['copy'](Vd),Gd['invert'](),si=_0x2fb9be['meshInstan'+'ce']['node']['localScale'],v_=Math['max'](Math['max'](si['x'],si['y']),si['z']);}_0x254ca9=_0x2fb9be['meshInstan'+'ce']['node']===null||_0x2fb9be['localSpace']?T['ZERO']:_0x2fb9be['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x12e444=_0x2fb9be['camera']?_0x2fb9be['camera']['_node']['getPositio'+'n']():T['ZERO'],_0x3082b9=_0x2fb9be['useMesh']?-0x8ab+-0x2*0x391+0xfde:0x3*-0x4f7+-0x3b9*-0x9+-0x128d*0x1;let _0x447556,_0xb3d695,_0x2c12bf,_0x31d671,_0x3b029d,_0x287b6e,_0x23ab60,_0x1902c2,_0x30fe7f;const _0xfea66d=_0x2fb9be['precision']-(-0xcab+-0x1200+0x1eac);for(let _0x2fa1ca=-0x1*-0x294+-0x2d1+0x3d*0x1;_0x2fa1ca<_0x2fb9be['numParticl'+'es'];_0x2fa1ca++){const _0x4450a4=Math['floor'](_0x2fb9be['vbCPU'][_0x2fa1ca*_0x2fb9be['numParticl'+'eVerts']*(_0x2fb9be['useMesh']?0xe*0x145+0x4*0x271+-0x1b84:-0x952+-0x1161*0x1+0x1ab7)+(-0x1*0x13eb+0x8*0x5c+0x1*0x110e)]),_0x2bc819=_0x23ef08[_0x4450a4*ie+(0x4bb*-0x5+-0x2*0x1163+0x3a6d)+_0x2fb9be['numParticl'+'esPot']*(0x1d1e*-0x1+0x1*-0x11b7+0x2ed7)*ie];ps['x']=_0x2bc819,ps['y']=_0x23ef08[_0x4450a4*ie+(-0x1*-0x15ef+-0x16b1+0xc3)+_0x2fb9be['numParticl'+'esPot']*(-0xc1b*0x2+0x1661+-0x9d*-0x3)*ie],ps['z']=_0x23ef08[_0x4450a4*ie+(-0xc07*-0x1+-0x1710+0x1*0xb0b)+_0x2fb9be['numParticl'+'esPot']*(-0x215d+0x170b+-0x4*-0x295)*ie];const _0x2d106c=_0x2fb9be['rate']+(_0x2fb9be['rate2']-_0x2fb9be['rate'])*_0x2bc819,_0x3d8bd7=_0x2fb9be['lifetime'];let _0x52c9b6=_0x23ef08[_0x4450a4*ie+(-0x5db*0x5+-0x919+0x2663)+_0x2fb9be['numParticl'+'esPot']*ie]+_0x18b635;const _0x37311e=KM(_0x52c9b6/_0x3d8bd7);let _0x5595ec=0xc53+0x2*0xbd4+0x23fb*-0x1,_0x46c9fb=-0x2a*-0x2+-0xcea+0xc96;const _0x55af0a=0xb*0x146+-0x2552+0x5d4*0x4;(_0x52c9b6-_0x18b635<=0x1caa*-0x1+0xca*-0x7+-0x446*-0x8||_0x52c9b6>=_0x3d8bd7)&&this['calcSpawnP'+'osition'](_0x23ef08,_0x46ae2f,_0x1066dd,_0x254ca9,_0x4450a4);let _0x508e38=_0x52c9b6>-0x1*0x220d+-0x2119+-0x3bb*-0x12&&_0x52c9b6<_0x3d8bd7;_0x508e38&&(_0xbdcbcb=_0x37311e*_0xfea66d,_0x447556=Math['floor'](_0xbdcbcb),_0xb3d695=Math['ceil'](_0xbdcbcb),_0xbdcbcb%=0x377+0x1*0x36f+-0x6e5,_0x39ff3e=_0x2fb9be['qRotSpeed'][_0x447556],_0x1815d0=_0x2fb9be['qRotSpeed'][_0xb3d695],_0x2c12bf=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qRotSpeed2'][_0x447556],_0x1815d0=_0x2fb9be['qRotSpeed2'][_0xb3d695],_0x31d671=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qScale'][_0x447556],_0x1815d0=_0x2fb9be['qScale'][_0xb3d695],_0x5595ec=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qScale2'][_0x447556],_0x1815d0=_0x2fb9be['qScale2'][_0xb3d695],_0x3b029d=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qAlpha'][_0x447556],_0x1815d0=_0x2fb9be['qAlpha'][_0xb3d695],_0x287b6e=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qAlpha2'][_0x447556],_0x1815d0=_0x2fb9be['qAlpha2'][_0xb3d695],_0x23ab60=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qRadialSpe'+'ed'][_0x447556],_0x1815d0=_0x2fb9be['qRadialSpe'+'ed'][_0xb3d695],_0x1902c2=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qRadialSpe'+'ed2'][_0x447556],_0x1815d0=_0x2fb9be['qRadialSpe'+'ed2'][_0xb3d695],_0x30fe7f=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x1902c2+=(_0x30fe7f-_0x1902c2)*(_0x2bc819*(-0x2*0x67d+0x4fd*0x7+-0x3*0x72f)%(-0x22*-0x65+0x36*-0xad+0x1715)),Rn['x']=_0x23ef08[_0x4450a4*ie],Rn['y']=_0x23ef08[_0x4450a4*ie+(-0x54d+-0x1*0x24f0+0x2a3e)],Rn['z']=_0x23ef08[_0x4450a4*ie+(-0x194*0x13+-0x1*-0x1bd9+-0xb7*-0x3)],_0x2fb9be['localSpace']?Ka['copy'](Rn):Ka['copy'](Rn)['sub'](_0x254ca9),Ka['normalize']()['mulScalar'](_0x1902c2),_0x447556*=0x1eb2+-0x1*0x1a2d+-0x482,_0xb3d695*=-0x1ee9+-0x1a93+0x397f,_0x39ff3e=_0x2fb9be['qLocalVelo'+'city'][_0x447556],_0x1815d0=_0x2fb9be['qLocalVelo'+'city'][_0xb3d695],Ze['x']=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qLocalVelo'+'city'][_0x447556+(-0x1af4+-0x56*-0x63+-0x64d)],_0x1815d0=_0x2fb9be['qLocalVelo'+'city'][_0xb3d695+(0xd5d*-0x1+0xe8a*0x1+-0x19*0xc)],Ze['y']=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qLocalVelo'+'city'][_0x447556+(0x250e+0x1646*-0x1+-0x763*0x2)],_0x1815d0=_0x2fb9be['qLocalVelo'+'city'][_0xb3d695+(-0x193a*0x1+0x2f9+0x1643)],Ze['z']=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qLocalVelo'+'city2'][_0x447556],_0x1815d0=_0x2fb9be['qLocalVelo'+'city2'][_0xb3d695],Dn['x']=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qLocalVelo'+'city2'][_0x447556+(0x1ea5+0x13f*0xd+-0x6b1*0x7)],_0x1815d0=_0x2fb9be['qLocalVelo'+'city2'][_0xb3d695+(0x477+0x1*0x3af+0x8b*-0xf)],Dn['y']=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qLocalVelo'+'city2'][_0x447556+(0x1296+-0x2*-0xc25+-0x2ade)],_0x1815d0=_0x2fb9be['qLocalVelo'+'city2'][_0xb3d695+(-0x610*0x5+-0x2585+0x43d7)],Dn['z']=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qVelocity'][_0x447556],_0x1815d0=_0x2fb9be['qVelocity'][_0xb3d695],Nt['x']=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qVelocity'][_0x447556+(-0x259a+0x1ae5+0xab6)],_0x1815d0=_0x2fb9be['qVelocity'][_0xb3d695+(0x2*-0x4f3+-0x93*0xc+0x10cb)],Nt['y']=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qVelocity'][_0x447556+(0x4*-0x46c+0x27*0x45+-0x3*-0x265)],_0x1815d0=_0x2fb9be['qVelocity'][_0xb3d695+(0x1685*-0x1+-0x8e*0x10+0x1f67)],Nt['z']=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qVelocity2'][_0x447556],_0x1815d0=_0x2fb9be['qVelocity2'][_0xb3d695],In['x']=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qVelocity2'][_0x447556+(-0x11*0x1bd+-0x1*-0x1ceb+0xa3)],_0x1815d0=_0x2fb9be['qVelocity2'][_0xb3d695+(-0xbf3*0x1+-0x52*0x1e+-0x1*-0x1590)],In['y']=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,_0x39ff3e=_0x2fb9be['qVelocity2'][_0x447556+(0x5*-0x317+-0x279+0x11ee)],_0x1815d0=_0x2fb9be['qVelocity2'][_0xb3d695+(-0x2391+-0x19f6+0x3d89)],In['z']=_0x39ff3e+(_0x1815d0-_0x39ff3e)*_0xbdcbcb,Ze['x']+=(Dn['x']-Ze['x'])*ps['x'],Ze['y']+=(Dn['y']-Ze['y'])*ps['y'],Ze['z']+=(Dn['z']-Ze['z'])*ps['z'],_0x2fb9be['initialVel'+'ocity']>0x65f*0x1+0x4b*0x3+-0x740&&(_0x2fb9be['emitterSha'+'pe']===qb?(ze['copy'](ps)['mulScalar'](-0x13da+-0x312+0x16ee)['sub'](T['ONE'])['normalize'](),Ze['add'](ze['mulScalar'](_0x2fb9be['initialVel'+'ocity']))):Ze['add'](T['FORWARD']['mulScalar'](_0x2fb9be['initialVel'+'ocity']))),Nt['x']+=(In['x']-Nt['x'])*ps['x'],Nt['y']+=(In['y']-Nt['y'])*ps['y'],Nt['z']+=(In['z']-Nt['z'])*ps['z'],_0x2c12bf+=(_0x31d671-_0x2c12bf)*ps['y'],_0x5595ec=(_0x5595ec+(_0x3b029d-_0x5595ec)*(_0x2bc819*(-0x1*-0x19ee+0x4ba1*-0x1+-0x58c3*-0x1)%(0x1*-0x999+0x803+0x197*0x1)))*v_,_0x46c9fb=(_0x23ab60-_0x287b6e)*(_0x2bc819*(0x3d4*0x1+0x2*-0xb75+-0x2*-0xb7f)%(-0x17b*0x13+-0x2499+0x40bb)),_0x2fb9be['meshInstan'+'ce']['node']&&(_0x2fb9be['localSpace']?(Ze['x']/=si['x'],Ze['y']/=si['y'],Ze['z']/=si['z']):Vd['transformP'+'oint'](Ze,Ze)),_0x2fb9be['localSpace']?(Gd['transformP'+'oint'](Nt,Nt),Ze['add'](Nt)['add'](Ka)):(Ze['add'](Nt['mul'](si)),Ze['add'](Ka['mul'](si))),Bl['copy'](Ze),b_['copy'](Rn)['add'](Ze['mulScalar'](_0x18b635)),vt['copy'](b_),_0x23ef08[_0x4450a4*ie]=vt['x'],_0x23ef08[_0x4450a4*ie+(0x3b*0x93+-0xcc6+-0x151a)]=vt['y'],_0x23ef08[_0x4450a4*ie+(-0x1bf3+-0xf*-0x22d+0x1*-0x4ae)]=vt['z'],_0x23ef08[_0x4450a4*ie+(-0x938+0x158a+-0x17*0x89)]+=_0x2c12bf*_0x18b635,_0x2fb9be['wrap']&&_0x2fb9be['wrapBounds']&&(_0x2fb9be['localSpace']||vt['sub'](_0x254ca9),vt['x']=Hd(vt['x'],_0x2fb9be['wrapBounds']['x'])-_0x2fb9be['wrapBounds']['x']*(-0x97*0x10+0x9*0xfb+0x9d+0.5),vt['y']=Hd(vt['y'],_0x2fb9be['wrapBounds']['y'])-_0x2fb9be['wrapBounds']['y']*(0xee5+0x220d+-0x30f2*0x1+0.5),vt['z']=Hd(vt['z'],_0x2fb9be['wrapBounds']['z'])-_0x2fb9be['wrapBounds']['z']*(-0xc20+-0x1*0xdf5+0x1a15+0.5),_0x2fb9be['localSpace']||vt['add'](_0x254ca9)),_0x2fb9be['sort']>0x47*-0x6+-0xdf*0x17+0x15b3&&(_0x2fb9be['sort']===0x23b8+-0x229b+0x8e*-0x2?(wr['copy'](vt)['sub'](_0x12e444),_0x2fb9be['particleDi'+'stance'][_0x4450a4]=-(wr['x']*wr['x']+wr['y']*wr['y']+wr['z']*wr['z'])):_0x2fb9be['sort']===0x8e2+-0x45b*-0x8+-0x577*0x8?_0x2fb9be['particleDi'+'stance'][_0x4450a4]=_0x52c9b6:_0x2fb9be['sort']===0x13*-0x4c+0x40*0x5e+-0x11d9&&(_0x2fb9be['particleDi'+'stance'][_0x4450a4]=-_0x52c9b6))),_0x317d2e?_0x52c9b6<0x1*0x14e1+-0x1f04+0xa23&&(_0x23ef08[_0x4450a4*ie+(-0x40a+-0x1366*-0x2+-0x22bf)+_0x2fb9be['numParticl'+'esPot']*(0xba8+-0x2479*0x1+0x18d3)*ie]=-(0x1b8b+0x229*-0xa+0x8*-0xbe)):(_0x52c9b6>=_0x3d8bd7&&(_0x52c9b6-=Math['max'](_0x3d8bd7,(_0x2fb9be['numParticl'+'es']-(-0x2*-0x315+-0x44*0x74+0x18a7))*_0x2d106c),_0x23ef08[_0x4450a4*ie+(0x1*-0x1f2b+-0x1b9f+-0x3acd*-0x1)+_0x2fb9be['numParticl'+'esPot']*(0x1*0xbbf+-0x816+-0x1*0x3a7)*ie]=_0x2fb9be['loop']?0x1701+-0x1*-0x1cc2+-0xa5a*0x5:-(-0x1*0x1dd5+0x1*0x2166+-0x1c8*0x2)),_0x52c9b6<-0x7*-0x40+-0x23aa*0x1+0x10f5*0x2&&_0x2fb9be['loop']&&(_0x23ef08[_0x4450a4*ie+(-0x23*-0x103+0x309*0x6+-0x359c)+_0x2fb9be['numParticl'+'esPot']*(0x6ba*0x2+-0x8e*0x1f+0x5*0xc0)*ie]=-0x48f+-0x72*0x1f+0x125e)),_0x23ef08[_0x4450a4*ie+(-0x11d0+-0x12ed*0x1+0x24c0)+_0x2fb9be['numParticl'+'esPot']*(-0x75a*-0x1+0x4+-0x75c)*ie]<-0x1239*0x1+-0x16e7+0x2920&&(_0x508e38=!(0x70f+0x402+-0xb10)),_0x23ef08[_0x4450a4*ie+(0x2208+0x10b2+0x32b7*-0x1)+_0x2fb9be['numParticl'+'esPot']*ie]=_0x52c9b6;for(let _0x5cc85d=-0x140b*-0x1+-0xbc1+-0x84a;_0x5cc85d<_0x2fb9be['numParticl'+'eVerts'];_0x5cc85d++){const _0x1892e7=(_0x2fa1ca*_0x2fb9be['numParticl'+'eVerts']+_0x5cc85d)*(_0x2fb9be['useMesh']?-0x1c67+0x118a+0xae3:-0xbb2+-0x1614+0x21ca);let _0x47fbd1=_0x2fb9be['vbCPU'][_0x1892e7],_0x293453=_0x2fb9be['vbCPU'][_0x1892e7+(0xbe2*-0x1+0x613*0x5+0xe*-0x152)],_0x39a932=_0x2fb9be['vbCPU'][_0x1892e7+(0x1686+-0x187d+0x1f9)];_0x508e38||(_0x47fbd1=_0x293453=_0x39a932=-0xd79+-0x1061+0x1dda);const _0x439ec1=_0x2fa1ca*_0x2fb9be['numParticl'+'eVerts']*_0x3082b9+_0x5cc85d*_0x3082b9;_0x53fe4e[_0x439ec1]=vt['x'],_0x53fe4e[_0x439ec1+(0x82*-0x22+-0x1ee8+0x302d)]=vt['y'],_0x53fe4e[_0x439ec1+(-0x1d*-0xc7+-0x291*0xa+0x321*0x1)]=vt['z'],_0x53fe4e[_0x439ec1+(0x40*-0x8b+0x1*0xf7f+0x66c*0x3)]=_0x37311e,_0x53fe4e[_0x439ec1+(0x17d5+0xf65+-0x2736)]=_0x2fb9be['alignToMot'+'ion']?_0x55af0a:_0x23ef08[_0x4450a4*ie+(-0x69b+0x2309*0x1+0x1c6b*-0x1)],_0x53fe4e[_0x439ec1+(-0x182f+-0x1*0x1691+0x2ec5)]=_0x5595ec,_0x53fe4e[_0x439ec1+(0x1*0x936+0x1df4+0x14e*-0x1e)]=_0x46c9fb,_0x53fe4e[_0x439ec1+(-0x3*-0xae7+0x76*-0x29+0x38*-0x3f)]=Bl['x'],_0x53fe4e[_0x439ec1+(0x305*-0x3+0x1f0a+0x1*-0x15f3)]=_0x47fbd1,_0x53fe4e[_0x439ec1+(-0x7*-0x418+0x56f+-0x220e)]=_0x293453,_0x53fe4e[_0x439ec1+(-0x4*-0x9ad+-0x120d+-0x149d)]=_0x39a932,_0x53fe4e[_0x439ec1+(0xac3+0x2*-0xcd1+0xeea)]=Bl['y'],_0x53fe4e[_0x439ec1+(0xc*0xf6+-0x2388+0x180c)]=_0x4450a4,_0x53fe4e[_0x439ec1+(-0xf22+-0x11fe+-0x39*-0x95)]=Bl['z'],_0x53fe4e[_0x439ec1+(-0x14d4+0x4*-0x58+0x1642)]=_0x2fb9be['vbCPU'][_0x1892e7+(0x2017*-0x1+-0xe4b*-0x1+0x11cf)],_0x2fb9be['useMesh']&&(_0x53fe4e[_0x439ec1+(-0x18a2*0x1+-0x1*-0x1793+0x11e)]=_0x2fb9be['vbCPU'][_0x1892e7+(-0x1407+0x3f6*0x8+0xba5*-0x1)],_0x53fe4e[_0x439ec1+(-0x3*-0x7b2+0x2490+-0x3b96)]=_0x2fb9be['vbCPU'][_0x1892e7+(0xc16*0x2+0x2*0x2d9+-0x1dd9)]);}}if(_0x2fb9be['sort']>Du&&_0x2fb9be['camera']){const _0xeae9c1=_0x2fb9be['useMesh']?-0x72*0x15+-0x112e+-0x46d*-0x6:0x22c9+0x1*-0xf59+-0x2*0x9b6,_0x3640f3=_0x2fb9be['particleDi'+'stance'];for(let _0x1104eb=-0x2652+0x354+0x22fe;_0x1104eb<_0x2fb9be['numParticl'+'es'];_0x1104eb++)_0x4b8696[_0x1104eb][0xf1e+0x47*-0x19+-0x82f]=_0x1104eb,_0x4b8696[_0x1104eb][-0x209e+-0x1*0x141f+0x56*0x9d]=_0x3640f3[Math['floor'](_0x2fb9be['vbCPU'][_0x1104eb*_0x2fb9be['numParticl'+'eVerts']*_0xeae9c1+(-0x394+-0x1*-0x103f+-0x51*0x28)])];_0x2fb9be['vbOld']['set'](_0x2fb9be['vbCPU']),_0x4b8696['sort']((_0x501fa3,_0x51af92)=>_0x501fa3[-0xd03*0x3+-0x569+-0x1*-0x2c73]-_0x51af92[0x1*-0xf47+0x1fd3+-0x108b]);for(let _0x2e1e7a=0x1*-0x2704+0x2051+0xf5*0x7;_0x2e1e7a<_0x2fb9be['numParticl'+'es'];_0x2e1e7a++){const _0x22d385=_0x4b8696[_0x2e1e7a][-0xbce+0xd5b*0x1+-0x18d*0x1]*_0x2fb9be['numParticl'+'eVerts']*_0xeae9c1,_0x3bc397=_0x2e1e7a*_0x2fb9be['numParticl'+'eVerts']*_0xeae9c1;for(let _0x52402f=0x245d*-0x1+-0x220e+0x466b;_0x52402f<_0x2fb9be['numParticl'+'eVerts']*_0xeae9c1;_0x52402f++)_0x2fb9be['vbCPU'][_0x3bc397+_0x52402f]=_0x2fb9be['vbOld'][_0x22d385+_0x52402f];}}}}const w_=new js(),T_=new js(),A_=new js();class JM{constructor(_0x5d81ce,_0x927934){this['_emitter']=_0x5d81ce,this['frameRando'+'mUniform']=new Float32Array(-0xb87+0x25d3+-0x1a49),this['emitterPos'+'Uniform']=new Float32Array(0x3*0xf0+0xa9+-0x376),this['emitterSca'+'leUniform']=new Float32Array([0xb19+0x809+-0x53*0x3b,0xc97*-0x2+-0x149b+0x2dca,-0xd94+-0xab0+0x1845]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(-0x66b+0x14c+0x522),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0x1ee8+0x4a7+-0x4*-0x691),this['inBoundsSi'+'zeUniform']=new Float32Array(0x22bc+-0x740+0xd*-0x21d),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(0x6d*0x5b+-0x142f+-0x128d),this['constantPa'+'rticleTexI'+'N']=_0x927934['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x927934['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x927934['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x927934['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x927934['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x927934['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x927934['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x927934['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x927934['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x927934['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x927934['scope']['resolve']('delta'),this['constantRa'+'te']=_0x927934['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x927934['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x927934['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x927934['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x927934['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x927934['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x927934['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x927934['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x927934['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x927934['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x927934['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x927934['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x927934['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x927934['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x927934['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x927934['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x927934['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x927934['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x927934['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x927934['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x927934['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x927934['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x927934['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x927934['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x927934['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x927934['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x2f*0x2e+-0x1315+0xaa3]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x1*0x5ae+0xe35*-0x1+0x54*0x1a]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][-0x3*0xc43+-0x1*0x1051+0x21*0x19c]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0xeb4+-0x1c39+0x2aed*0x1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x25*-0xab+0xa3c*-0x1+-0x1*0xe7a]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0xd35+0x1da7+-0x1*0x1070]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0xca9*0x1+0x2174+-0x14cb]=Math['random'](),this['frameRando'+'mUniform'][0x98*0x10+-0x5*-0x212+0x1*-0x13d9]=Math['random'](),this['frameRando'+'mUniform'][0x9d9*-0x1+-0x2379+-0x3*-0xf1c]=Math['random']();}['update'](_0x54c807,_0x466e15,_0xe0274d,_0x1e0ddc,_0x508ea8){G['pushGpuMar'+'ker'](_0x54c807,'ParticleGP'+'U');const _0x70e2ee=this['_emitter'];_0x54c807['setBlendSt'+'ate'](_t['NOBLEND']),_0x54c807['setDepthSt'+'ate'](as['NODEPTH']),_0x54c807['setCullMod'+'e'](mt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0x1d2e+-0x18af*0x1+0x5*-0xe6)/_0x70e2ee['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x70e2ee['precision']),this['constantNu'+'mParticles']['setValue'](_0x70e2ee['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x70e2ee['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x70e2ee['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x70e2ee['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x70e2ee['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x70e2ee['internalTe'+'x3']);const _0x32a436=_0x70e2ee['meshInstan'+'ce']['node'],_0x8a68ca=_0x32a436===null?T['ONE']:_0x32a436['localScale'];if(_0x70e2ee['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x1*-0xcab+-0x1734+0x23df*0x1]=_0x70e2ee['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][-0x896+-0x1*0x326+0xbbd]=_0x70e2ee['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x6*0x202+-0x1cc+0x39*-0x2e]=_0x70e2ee['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0x2546+0x3*0xb65+0x71*0x7]=_0x70e2ee['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][0x18ea+-0x117f*0x1+-0x76a]=_0x70e2ee['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][-0x23a1+-0x1*0x869+0x2*0x1606]=_0x70e2ee['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x3e6f33=_0x70e2ee['maxVel']*Math['max'](Math['max'](_0x8a68ca['x'],_0x8a68ca['y']),_0x8a68ca['z']);_0x3e6f33=Math['max'](_0x3e6f33,0x161+0x56*-0x2f+0xe6a),this['constantMa'+'xVel']['setValue'](_0x3e6f33);}const _0x6c5d5b=_0x32a436===null||_0x70e2ee['localSpace']?T['ZERO']:_0x32a436['getPositio'+'n'](),_0x6f6838=_0x32a436===null?q['IDENTITY']:_0x32a436['getWorldTr'+'ansform']();_0x70e2ee['emitterSha'+'pe']===Vs?(w_['setFromMat'+'4'](_0x466e15),this['constantSp'+'awnBounds']['setValue'](w_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0xe0274d)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x70e2ee['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x70e2ee['emitterRad'+'ius']===-0x43*0x5e+0x1*-0xbfb+0x2495?-0x2*-0x6d7+0x1c83+0x2a31*-0x1:_0x70e2ee['emitterRad'+'iusInner']/_0x70e2ee['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x70e2ee['initialVel'+'ocity']),T_['setFromMat'+'4'](_0x6f6838),A_['invertMat4'](_0x6f6838),this['emitterPos'+'Uniform'][0x1*0x3e6+0x1*0x26a1+-0x39*0xbf]=_0x6c5d5b['x'],this['emitterPos'+'Uniform'][-0x483+0x10d5*-0x2+-0x12*-0x21f]=_0x6c5d5b['y'],this['emitterPos'+'Uniform'][-0x1faf*0x1+0x167*0x6+0x1747]=_0x6c5d5b['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x1e0ddc),this['constantRa'+'te']['setValue'](_0x70e2ee['rate']),this['constantRa'+'teDiv']['setValue'](_0x70e2ee['rate2']-_0x70e2ee['rate']),this['constantSt'+'artAngle']['setValue'](_0x70e2ee['startAngle']*N['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x70e2ee['startAngle'+'2']*N['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x70e2ee['seed']),this['constantLi'+'fetime']['setValue'](_0x70e2ee['lifetime']),this['emitterSca'+'leUniform'][-0x26be+-0x1836*0x1+-0x3b4*-0x11]=_0x8a68ca['x'],this['emitterSca'+'leUniform'][-0x11a7*0x1+0x1918+-0x770]=_0x8a68ca['y'],this['emitterSca'+'leUniform'][0x11ca+-0xe4e+0x1bd*-0x2]=_0x8a68ca['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](T_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](A_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x70e2ee['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x70e2ee['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x70e2ee['rotSpeedUM'+'ax'][0xc9c+-0x43*-0x83+-0x2ee5]);let _0x18dc99=_0x70e2ee['swapTex']?_0x70e2ee['particleTe'+'xOUT']:_0x70e2ee['particleTe'+'xIN'];_0x18dc99=_0x70e2ee['beenReset']?_0x70e2ee['particleTe'+'xStart']:_0x18dc99;const _0x47ef72=_0x70e2ee['swapTex']?_0x70e2ee['particleTe'+'xIN']:_0x70e2ee['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x18dc99),dn(_0x54c807,_0x70e2ee['swapTex']?_0x70e2ee['rtParticle'+'TexIN']:_0x70e2ee['rtParticle'+'TexOUT'],_0x508ea8?_0x70e2ee['shaderPart'+'icleUpdate'+'OnStop']:_0x70e2ee['loop']?_0x70e2ee['shaderPart'+'icleUpdate'+'Respawn']:_0x70e2ee['shaderPart'+'icleUpdate'+'NoRespawn']),_0x70e2ee['material']['setParamet'+'er']('particleTe'+'xOUT',_0x18dc99),_0x70e2ee['material']['setParamet'+'er']('particleTe'+'xIN',_0x47ef72),_0x70e2ee['beenReset']=!(-0x15bd+-0x1048+0x9d*0x3e),_0x70e2ee['swapTex']=!_0x70e2ee['swapTex'],_0x70e2ee['prevWorldB'+'oundsSize']['copy'](_0x70e2ee['worldBound'+'sSize']),_0x70e2ee['prevWorldB'+'oundsCente'+'r']['copy'](_0x70e2ee['worldBound'+'s']['center']),_0x70e2ee['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x54c807);}}class e1 extends It{['generateKe'+'y'](_0x2ac0d9){let _0x558f88='particle_'+It['definesHas'+'h'](_0x2ac0d9['defines'])+'_';for(const _0x55b03a in _0x2ac0d9)_0x2ac0d9['hasOwnProp'+'erty'](_0x55b03a)&&(_0x558f88+=_0x2ac0d9[_0x55b03a]);return _0x558f88;}['_animTex'](_0x39e1cc){let _0x4c19e2='';return _0x4c19e2+=_0x39e1cc['animTexLoo'+'p']?X['particleAn'+'imFrameLoo'+'pVS']:X['particleAn'+'imFrameCla'+'mpVS'],_0x4c19e2+=X['particleAn'+'imTexVS'],_0x4c19e2;}['createShad'+'erDefiniti'+'on'](_0x8579a9,_0x5e8e1a){const _0x4bc2fa='#define\x20PA'+'RTICLE_'+(_0x5e8e1a['useCpu']?'CPU':'GPU')+'\x0a';let _0xea67ae='#define\x20PA'+'RTICLE\x0a'+_0x4bc2fa,_0x59a84f='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x4bc2fa;_0x5e8e1a['mesh']&&(_0x59a84f+='#define\x20US'+'E_MESH\x0a'),_0x5e8e1a['localSpace']&&(_0x59a84f+='#define\x20LO'+'CAL_SPACE\x0a'),_0x5e8e1a['screenSpac'+'e']&&(_0x59a84f+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x5e8e1a['animTex']&&(_0x59a84f+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x5e8e1a['animTex']&&(_0x59a84f+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x5e8e1a['animTex']&&(_0x59a84f+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x5e8e1a['normal']===-0x2681+-0x54*0x4f+0x406f&&(_0x59a84f+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x5e8e1a['normal']===-0x1*0x626+-0x1c*0x118+0x24c7&&(_0x59a84f+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x5e8e1a['soft']&&(_0x59a84f+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x4fdc2e=_0x5e8e1a['customFace']?X['particle_c'+'ustomFaceV'+'S']:X['particle_b'+'illboardVS'];_0x5e8e1a['useCpu']?(_0x5e8e1a['soft']>-0x169c+0x19*0x131+-0xa7*0xb&&(_0x59a84f+=X['screenDept'+'hPS']),_0x59a84f+=X['particle_c'+'puVS'],_0x5e8e1a['localSpace']&&(_0x59a84f+=X['particle_l'+'ocalShiftV'+'S']),_0x5e8e1a['animTex']&&(_0x59a84f+=this['_animTex'](_0x5e8e1a)),_0x5e8e1a['alignToMot'+'ion']&&(_0x59a84f+=X['particle_p'+'ointAlongV'+'S']),_0x59a84f+=_0x5e8e1a['mesh']?X['particle_m'+'eshVS']:_0x4fdc2e,_0x5e8e1a['normal']===0x43*-0x13+0xc25*-0x1+0x111f&&(_0x59a84f+=X['particle_n'+'ormalVS']),_0x5e8e1a['normal']===0x217c+0x12e2+-0x2*0x1a2e&&(_0x59a84f+=X['particle_T'+'BNVS']),_0x5e8e1a['stretch']>0x158b*0x1+0x835*-0x2+0xd*-0x65&&(_0x59a84f+=X['particle_s'+'tretchVS']),_0x59a84f+=X['particle_c'+'pu_endVS'],_0x5e8e1a['soft']>0x3f8+0x1*0x374+-0x76c&&(_0x59a84f+=X['particle_s'+'oftVS'])):(_0x59a84f+=X['particle_i'+'nitVS'],_0x59a84f+=_0x5e8e1a['pack8']?X['particleIn'+'putRgba8PS']:X['particleIn'+'putFloatPS'],_0x5e8e1a['soft']>-0x20ff*-0x1+0x1eb8+0x3fb7*-0x1&&(_0x59a84f+=X['screenDept'+'hPS']),_0x59a84f+=X['particleVS'],_0x5e8e1a['localSpace']&&(_0x59a84f+=X['particle_l'+'ocalShiftV'+'S']),_0x5e8e1a['animTex']&&(_0x59a84f+=this['_animTex'](_0x5e8e1a)),_0x5e8e1a['wrap']&&(_0x59a84f+=X['particle_w'+'rapVS']),_0x5e8e1a['alignToMot'+'ion']&&(_0x59a84f+=X['particle_p'+'ointAlongV'+'S']),_0x59a84f+=_0x5e8e1a['mesh']?X['particle_m'+'eshVS']:_0x4fdc2e,_0x5e8e1a['normal']===-0x4d*-0xb+0xcb5*-0x1+-0x1*-0x967&&(_0x59a84f+=X['particle_n'+'ormalVS']),_0x5e8e1a['normal']===-0x3b4+-0x2076+0x242c&&(_0x59a84f+=X['particle_T'+'BNVS']),_0x5e8e1a['stretch']>-0x317+0xe2f*0x1+-0xb18&&(_0x59a84f+=X['particle_s'+'tretchVS']),_0x59a84f+=X['particle_e'+'ndVS'],_0x5e8e1a['soft']>0xbbb+-0xf05+0x34a&&(_0x59a84f+=X['particle_s'+'oftVS'])),_0x59a84f+='}\x0a',_0x5e8e1a['normal']>0x26a6+-0x2681*0x1+-0x1*0x25&&(_0x5e8e1a['normal']===-0x29*0xd7+0x1eef+0x27*0x17?_0xea67ae+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x5e8e1a['normal']===-0x68d+0x1487+-0x3*0x4a8&&(_0xea67ae+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0xea67ae+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x5e8e1a['soft']&&(_0xea67ae+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0xea67ae+=X['decodePS'],_0xea67ae+='#include\x20\x22'+'gammaPS\x22\x0a',_0xea67ae+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0xea67ae+='#include\x20\x22'+'fogPS\x22\x0a',_0x5e8e1a['normal']===0x1e*-0x11b+-0x1b*-0xeb+0x863&&(_0xea67ae+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x5e8e1a['soft']>-0x1*-0x993+-0x2*0x608+0xd*0x31&&(_0xea67ae+=X['screenDept'+'hPS']),_0xea67ae+=X['particlePS'],_0x5e8e1a['soft']>-0x11ce+-0x886+-0x695*-0x4&&(_0xea67ae+=X['particle_s'+'oftPS']),_0x5e8e1a['normal']===0x1c3a*0x1+-0x25*-0x21+-0x20fe*0x1&&(_0xea67ae+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x5e8e1a['normal']===-0x770+-0x714+-0xa9*-0x16&&(_0xea67ae+=X['particle_n'+'ormalMapPS']),_0x5e8e1a['normal']>0x1492+0x103*0x15+-0x85d*0x5&&(_0xea67ae+=_0x5e8e1a['halflamber'+'t']?X['particle_h'+'alflambert'+'PS']:X['particle_l'+'ambertPS']),_0x5e8e1a['normal']>-0x1589*-0x1+0xd90+-0x3*0xbb3&&(_0xea67ae+=X['particle_l'+'ightingPS']),_0x5e8e1a['blend']===Kt?_0xea67ae+=X['particle_b'+'lendNormal'+'PS']:_0x5e8e1a['blend']===yp?_0xea67ae+=X['particle_b'+'lendAddPS']:_0x5e8e1a['blend']===xp&&(_0xea67ae+=X['particle_b'+'lendMultip'+'lyPS']),_0xea67ae+=X['particle_e'+'ndPS'];const _0x1ff093=new Map(Object['entries']({...X,..._0x5e8e1a['chunks']}));return Mt['createDefi'+'nition'](_0x8579a9,{'name':'ParticleSh'+'ader','vertexCode':_0x59a84f,'fragmentCode':_0xea67ae,'fragmentDefines':_0x5e8e1a['defines'],'fragmentIncludes':_0x1ff093,'vertexDefines':_0x5e8e1a['defines']});}}const t1=new e1();class s1 extends yn{constructor(_0x5349dc){super(),c(this,'emitter',null),(this['emitter']=_0x5349dc,v['assert'](_0x5349dc));}['getShaderV'+'ariant'](_0x789a90){const {device:_0x458e8f,scene:_0xd08296,cameraShaderParams:_0x7c7c78}=_0x789a90,{emitter:_0xd499ab}=this,_0x4548b8={'defines':Dp(this,_0x789a90),'pass':gn,'useCpu':this['emitter']['useCpu'],'normal':_0xd499ab['lighting']?_0xd499ab['normalMap']!==null?-0x197a+0xc*0x187+0x8*0xe5:0x40d+-0x17*-0x1f+-0x6d5:0xfc0+-0x1001+0x41,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0x7c7c78==null?void(0x132e*-0x1+-0x14ed+0x1*0x281b):_0x7c7c78['shaderOutp'+'utGamma'])??sl,'toneMap':(_0x7c7c78==null?void(0x210c+0x15a+0x4ea*-0x7):_0x7c7c78['toneMappin'+'g'])??Ap,'fog':_0xd08296&&!this['emitter']['noFog']?_0xd08296['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0xd499ab['inTools']?!(0x16*0x15f+-0xad7+-0x1352):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==Uh},_0x313344=new Yc(_0x789a90['viewUnifor'+'mFormat'],_0x789a90['viewBindGr'+'oupFormat'],_0x789a90['vertexForm'+'at']),_0xe137b1=ka(_0x458e8f);return _0xe137b1['register']('particle',t1),_0xe137b1['getProgram']('particle',_0x4548b8,_0x313344,this['userId']);}}const E_=[[-(-0x41+-0x1*-0x20f1+0xae5*-0x3),-(0x2*-0x2ea+0x1*-0x362+0x151*0x7)],[0xb3c*0x1+-0x1*-0x1555+0x2*-0x1048,-(-0x19*0x162+0x1*0x133f+0x2*0x7aa)],[-0xdb7*-0x1+0x228e*-0x1+0x8*0x29b,-0x1468+0x38e*0x4+0x1*0x631],[-(-0xd31*0x1+-0xf7b+-0x98f*-0x3),0x2*-0xf3e+-0x1b10+0x9*0x665]];function Qt(_0x5bbd9e,_0x35630c,_0x48e876,_0x3d03cc,_0x20627e=Ke,_0x1a40d7,_0x54b5a2){let _0x11efeb=de;_0x54b5a2&&(_0x20627e===Se||_0x20627e===rs)&&(_0x11efeb=st);const _0x34ba92=new he(_0x5bbd9e,{'width':_0x35630c,'height':_0x48e876,'format':_0x20627e,'cubemap':!(0xee2+-0x13*0x1d8+0x1427),'mipmaps':!(-0x2505+-0x1b22+0x4028),'minFilter':_0x11efeb,'magFilter':_0x11efeb,'addressU':ae,'addressV':ae,'name':'ParticleSy'+'stemTextur'+'e'}),_0x50ef22=_0x34ba92['lock']();if(_0x20627e===Se||_0x20627e===rs){const _0x356e03=new Uint8Array(_0x3d03cc['length']);for(let _0x56fb52=-0x202*0x8+0x239d+-0x41*0x4d;_0x56fb52<_0x3d03cc['length'];_0x56fb52++)_0x356e03[_0x56fb52]=_0x3d03cc[_0x56fb52]*_0x1a40d7*(0x1a41+0x1f1+-0x1b33);_0x3d03cc=_0x356e03;}return _0x50ef22['set'](_0x3d03cc),_0x34ba92['unlock'](),_0x34ba92;}function C_(_0x124e43){return Math['max'](Math['min'](_0x124e43,0x1858+-0x31*-0x4a+0x2681*-0x1),-0x6*0xdf+-0x8f5+0xe2f);}const M_=new Cs([0x9ab+0xe2c+0x167*-0x11,0x281+-0xc7*0x1+0x1*-0x1ba,-0x1*0x251c+0x8cc*-0x3+0x3f81,0x2*0x11c+0x1a2d*-0x1+0x17f5*0x1]),P_=new Cs([-0x966+-0x1*-0xcf1+-0x38b,-0x179f+0x16*-0x86+0x4*0x8c9,-0x1*0x1f77+-0x5c7*0x5+0x3c5b*0x1,-0x1*-0x737+0x10ac+-0x3*0x7f6]),R_=new jr([-0x13*0x18d+0xd40+0x1037,0xc4f*-0x1+0x24cf+-0x1880,-0x337*0x4+0x1130+0x29*-0x1b,-0x11fe*0x2+0x3b*0x71+0x9f1],[0x5*0x44d+0x1c35+-0x31b6,-0x1*-0xd5b+0x1835+-0x2590,0x1*-0xc52+-0x17ad+0x2400,0xbdb+0x101a+-0x1*0x1bf5],[-0x2*0x431+0xe22+-0x5c0,0xc*0x1d2+0x29*0x1b+-0x1a2b,0x74d+0x6d*-0x21+-0xd*-0x85,-0x10e8+0x2445+-0x1*0x135d]),i1=new jr([0x2*0x37f+0xb51+-0x124f,0x2*-0x125f+-0x234*0x3+0x2b5b,-0x69c+0x665+-0x7*-0x8,-0x1fac+-0x19d3*-0x1+0x2*0x2ed],[0x5*0x1fd+-0x1*-0xa7b+-0x146c,0x20e6+-0x65c*0x4+0x1*-0x775,-0x2447+0x1*-0xb95+0x2fdd,0xf9*-0x11+0xe70+0x21a*0x1],[-0x3c1*-0x1+-0x1*-0x15d7+-0x9*0x2d8,0x158d+-0x2b*-0x8a+0x8f2*-0x5,-0x1840+0x1561+0x2e0,0x13b*0x1+0x2*-0x115+0x14*0xc]);let ii=-0x1fe9+-0x107*0x11+0x3162;const zl=0x2*0x1231+0x40b+-0x2869,ri=new Float32Array(0xd*-0x8f+0x4b5+0x291),Tr=new q(),I_=new T(),Ul=new T(),Vl=new T();let Hu,fh;function re(_0x294dbf,_0xaaea32){fh[_0x294dbf]!==void(0x251b+0x86d*0x4+-0x46cf)&&fh[_0x294dbf]!==null?Hu[_0x294dbf]=fh[_0x294dbf]:Hu[_0x294dbf]=_0xaaea32;}function O0(_0x3cda05,_0x5e8bae,_0x2da1b8){return(_0x3cda05*(-0x21ce+0x16e9+0xbe4)<<0x10c*-0x5+0x351*-0x7+0x3*0x981|_0x5e8bae*(-0x25*0x2+0x1e6e+-0x1d25)<<-0x3df+0x15*0x197+-0x1d7c|_0x2da1b8*(0x610*-0x2+0x1*0x386+0x3*0x333))/(0x16*0x127+-0x2163+0x31*0x2a<<-0x1040*-0x1+-0x12be+-0x296*-0x1);}function D_(_0x1a291b,_0x3e96c8){const _0x265f7d=_0x1a291b['length']/(0x1d*0x13e+0x2441+-0x4844),_0x296d7e=new Array(_0x265f7d*(-0x1*0x848+0x3*0x64b+-0xa95));for(let _0x26f781=-0x3*0xaf4+0x484+0x1*0x1c58;_0x26f781<_0x265f7d;_0x26f781++)_0x296d7e[_0x26f781*(-0x1e32+-0x26fb+0x1*0x4531)]=_0x1a291b[_0x26f781*(0x55*0x21+0xf2b+-0xbf*0x23)],_0x296d7e[_0x26f781*(-0x80*-0x44+-0x4*-0x994+-0x484c)+(0x17b*-0xf+0x132e+-0x184*-0x2)]=_0x1a291b[_0x26f781*(0x1*0x1163+0x15a6+-0x2706)+(-0x2*-0x67e+-0x1dd8+0x10dd)],_0x296d7e[_0x26f781*(0x218c+0x487*-0x1+0x87*-0x37)+(-0x2513+-0x1*-0x23d5+0xa*0x20)]=_0x1a291b[_0x26f781*(-0x86b+-0x4*-0x1d1+0x12a)+(-0x21a0+0x35d+0x9*0x35d)],_0x296d7e[_0x26f781*(0x148f+0x1130+-0xd*0x2e7)+(0x1*0x2411+-0xd46+-0x16c8)]=O0(_0x3e96c8[_0x26f781*(-0x25e6+0x1*0x35e+-0xef*-0x25)],_0x3e96c8[_0x26f781*(-0x2d7*0x7+0x11d4+0xc*0x2c)+(-0x781+0x9cc+-0x24a)],_0x3e96c8[_0x26f781*(-0x1*-0x895+-0x1*-0xd21+-0x15b3)+(0xf6f+-0x21ea+0x127d)]);return _0x296d7e;}function r1(_0xdc9178,_0x598910){const _0x2535fb=new Array(_0x598910['length']*(-0x25*0xe+-0x81d*-0x3+-0x164d));for(let _0x55a615=0xfb1+-0x4f9+-0xab8;_0x55a615<_0x598910['length'];_0x55a615++)_0x2535fb[_0x55a615*(-0x64c+0x1*-0x1da5+0x23f5)]=_0xdc9178[_0x55a615*(-0x1*0xe2f+-0x1*-0x10b9+-0x287)],_0x2535fb[_0x55a615*(-0x184f+-0x2031+-0x2*-0x1c42)+(0x8b8+-0x240f+0x1f4*0xe)]=_0xdc9178[_0x55a615*(0x87b+-0x8ae+0x2*0x1b)+(0x26a*0x2+-0x650+-0x17d*-0x1)],_0x2535fb[_0x55a615*(-0x7cf+0x1fd+0x5d6)+(0x48b*0x8+-0x23c9*-0x1+-0x481f)]=_0xdc9178[_0x55a615*(0x12a7+-0xfcd*0x1+0x2d7*-0x1)+(0x6b*-0x7+-0x525*-0x5+-0x2*0xb65)],_0x2535fb[_0x55a615*(-0x1c9a+0x2b*0xb1+-0x11d)+(0x3b*-0x45+0x31*0x35+0x5c5)]=_0x598910[_0x55a615];return _0x2535fb;}function n1(_0x41eb7a,_0x39d09a,_0x5813e0,_0x396700,_0x5aebda){const _0x50502b=new Array(_0x41eb7a['length']*(-0x19db+0x1aad+-0xce));for(let _0x2d4b84=-0x2*0xeae+-0x9b*-0x2+-0x1c26*-0x1;_0x2d4b84<_0x41eb7a['length'];_0x2d4b84++)_0x50502b[_0x2d4b84*(0x1891+-0x246e+0xbe1*0x1)]=_0x41eb7a[_0x2d4b84],_0x50502b[_0x2d4b84*(-0x1101+-0x7*-0x43a+-0xc91)+(0x1f*0x14+-0x25*0x25+0x2ee)]=_0x39d09a[_0x2d4b84],_0x50502b[_0x2d4b84*(0x2bf*-0x1+0x93c+-0x679)+(-0xa0b+-0x1569+0xfbb*0x2)]=-0x1560+0x134a+0x59*0x6,_0x50502b[_0x2d4b84*(-0xedb+0x1671+-0x22*0x39)+(0x526+-0x1230+0xd*0x101)]=O0(_0x5813e0[_0x2d4b84],_0x396700[_0x2d4b84],_0x5aebda[_0x2d4b84]);return _0x50502b;}function a1(_0x36b4fd,_0x430144){const _0x366de8=new Array(_0x36b4fd['length']*(-0x20bc+0x22c4+0xc*-0x2b));for(let _0x128c26=0x201+-0x2e2+0xe1*0x1;_0x128c26<_0x36b4fd['length'];_0x128c26++)_0x366de8[_0x128c26*(0xe2d+0x18de+-0x2707)]=_0x36b4fd[_0x128c26],_0x366de8[_0x128c26*(0x1*0xa5b+-0x1724+0xccd)+(-0x2c5*0x5+-0x1*0x1747+0x2521)]=_0x430144[_0x128c26],_0x366de8[_0x128c26*(0x1*0xed+0x1*0x1d7d+0xa22*-0x3)+(0xb4c+0x2065*-0x1+0x151b)]=-0x1824+0x251b+-0xcf7,_0x366de8[_0x128c26*(0x1f*-0xe3+-0x1*0x2034+-0xbf1*-0x5)+(0x214*-0x4+-0x1001*0x1+0x1854)]=-0x19*0xfd+-0x27d*-0x5+0xc44;return _0x366de8;}function o1(_0x2441df){const _0x167972=Math['max'](_0x2441df['rate'],_0x2441df['rate2'])*_0x2441df['numParticl'+'es']+_0x2441df['lifetime'];return Date['now']()+_0x167972*(-0x7*0x123+-0x65*-0x47+0x6*-0x2b1);}function l1(_0x5711ef,_0x3a13f8){const _0x4e60da=new Float32Array(_0x5711ef['length']);for(let _0x503229=0x1*-0x1eca+-0x1795+0x365f;_0x503229<_0x5711ef['length'];_0x503229++)_0x4e60da[_0x503229]=_0x5711ef[_0x503229]-_0x3a13f8[_0x503229];return _0x4e60da;}function Fr(_0xdaeb88,_0x29491a){const _0x1fcce8=_0x29491a['length'],_0x2afead=_0xdaeb88['length']/_0x1fcce8;for(let _0x5a12d9=-0x7*-0xfe+-0x25f2+0x2*0xf80;_0x5a12d9<_0x2afead;_0x5a12d9++)for(let _0x2d06d0=0x414*0x7+0x23a9+-0x4035;_0x2d06d0<_0x1fcce8;_0x2d06d0++){const _0x3dbd0e=Math['abs'](_0xdaeb88[_0x5a12d9*_0x1fcce8+_0x2d06d0]);_0x29491a[_0x2d06d0]=Math['max'](_0x29491a[_0x2d06d0],_0x3dbd0e);}}function h1(_0x29f71f,_0x360ac3){const _0x40da0b=_0x360ac3['length'],_0x57bec9=_0x29f71f['length']/_0x40da0b;for(let _0x4a1f12=0x1a7b+-0x1b47+0xcc;_0x4a1f12<_0x57bec9;_0x4a1f12++)for(let _0x5710d8=-0x153e+0xa81+-0x1*-0xabd;_0x5710d8<_0x40da0b;_0x5710d8++)_0x29f71f[_0x4a1f12*_0x40da0b+_0x5710d8]/=_0x360ac3[_0x5710d8]===-0xf08+-0xc42+0x1b4a?0xf48+0xdc6+-0x1d0d:_0x360ac3[_0x5710d8],_0x29f71f[_0x4a1f12*_0x40da0b+_0x5710d8]*=0x1*-0x96c+0xead+-0x541+0.5,_0x29f71f[_0x4a1f12*_0x40da0b+_0x5710d8]+=-0x1*-0x1ac6+-0x469+0x19*-0xe5+0.5;}function Ar(_0x3e8a29,_0x11e91e,_0x11f9f4){const _0x311378=l1(_0x11e91e,_0x3e8a29);return Fr(_0x311378,_0x11f9f4),h1(_0x311378,_0x11f9f4),_0x311378;}const c1=new Ot();class d1{constructor(_0x28c2f4,_0x547e48){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x28c2f4;const _0x5beedb=_0x28c2f4,_0x27774a=-0x1520+0x46f+0x10d1;this['precision']=_0x27774a,this['_addTimeTi'+'me']=0xf56+-0x1827+0x8d1*0x1,Hu=this,fh=_0x547e48,re('numParticl'+'es',0x18f8+-0x251c+0xc25),this['numParticl'+'es']>_0x28c2f4['maxTexture'+'Size']&&(v['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x28c2f4['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x28c2f4['maxTexture'+'Size']),re('rate',-0xcc8*-0x2+-0x12b2+-0x6dd),re('rate2',this['rate']),re('lifetime',0x201d+0x3*0x82b+0x386c*-0x1),re('emitterExt'+'ents',new T(0x67*-0x47+0x1c76+0x1b,0xd*-0x3b+0x652+-0x353,0x206*0x11+0x1710+-0x3976)),re('emitterExt'+'entsInner',new T(-0x596+-0x161b+0x1bb1,0xc0d+-0x348+0x1c1*-0x5,0x35+-0x4c1+0x48c)),re('emitterRad'+'ius',0x465+0x24ce+-0x2933),re('emitterRad'+'iusInner',0x1*-0x1fd5+0x11c*-0x18+0x3a75),re('emitterSha'+'pe',Vs),re('initialVel'+'ocity',-0x28e*-0xb+-0x1bb7+0x62*-0x1),re('wrap',!(-0x7bf*0x4+0xe1d+0x10e0)),re('localSpace',!(-0x1fd*-0x7+-0x2630+0x1846)),re('screenSpac'+'e',!(0x1fa4+-0x238d+0xa7*0x6)),re('wrapBounds',null),re('colorMap',this['defaultPar'+'amTexture']),re('normalMap',null),re('loop',!(0x33*-0x74+-0x1c28+0x22*0x182)),re('preWarm',!(-0x5*0x3a2+-0x15d1+0x6aa*0x6)),re('sort',Du),re('mode',d0),re('scene',null),re('lighting',!(-0x916+0xea*0x1a+-0xead)),re('halfLamber'+'t',!(-0x43*0x1+0xcb*-0x2+0x1da)),re('intensity',0x1*-0x22fd+-0xd22+0x460*0xb),re('stretch',0x13c+-0x36*0x3+0x9a*-0x1),re('alignToMot'+'ion',!(-0xa57*0x3+0x1*-0x2075+0x3f7b)),re('depthSofte'+'ning',0x2*0x1307+0x1f*0x43+-0x2e2b),re('mesh',null),re('particleNo'+'rmal',new T(0x54+0x810+-0x864,0x5*0x7a5+0x622+-0x2c5a,0x531*-0x2+0xc7b+-0x219)),re('orientatio'+'n',Uh),re('depthWrite',!(-0x6c*-0x1d+0x394+-0x1*0xfcf)),re('noFog',!(-0xd0*0x2c+0xef*0x20+0x5e1)),re('blendType',Kt),re('node',null),re('startAngle',0x3*-0x5ff+-0x709+0xc83*0x2),re('startAngle'+'2',this['startAngle']),re('animTilesX',0x186e*-0x1+-0x13a4+0xeb1*0x3),re('animTilesY',0x18*-0x12f+0x15f*0x15+0x2*-0x31),re('animStartF'+'rame',0x2eb+-0x14be+0x11d3),re('animNumFra'+'mes',0x1*-0x23e2+0x1391+0x2*0x829),re('animNumAni'+'mations',-0x10e1+-0x1a51+0x2b33),re('animIndex',-0xbe+-0x1*0xb9f+0xc5d),re('randomizeA'+'nimIndex',!(-0x1d34+0x1a*-0x4a+-0x11*-0x229)),re('animSpeed',0x774+-0x16af+0xf3c),re('animLoop',!(0xb*-0xeb+-0x230+0xc49)),this['_gpuUpdate'+'r']=new JM(this,_0x5beedb),this['_cpuUpdate'+'r']=new QM(this),this['emitterPos'+'Uniform']=new Float32Array(-0x151b*-0x1+-0x168*0x10+0x168),this['wrapBounds'+'Uniform']=new Float32Array(0x9f2*0x3+-0x737*-0x2+-0x2c41),this['emitterSca'+'leUniform']=new Float32Array([0x5*-0x580+0x3e*0x8b+0x1*-0x629,-0xbb5+0x1*-0x9ee+0x115*0x14,-0x1aa2+-0x1c4d+0x36f0*0x1]),re('colorGraph',i1),re('colorGraph'+'2',this['colorGraph']),re('scaleGraph',P_),re('scaleGraph'+'2',this['scaleGraph']),re('alphaGraph',P_),re('alphaGraph'+'2',this['alphaGraph']),re('localVeloc'+'ityGraph',R_),re('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),re('velocityGr'+'aph',R_),re('velocityGr'+'aph2',this['velocityGr'+'aph']),re('rotationSp'+'eedGraph',M_),re('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),re('radialSpee'+'dGraph',M_),re('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(0x1a81+-0x138d+-0x6f2),this['animParams']=new Float32Array(0x1*0x1ed1+-0x2645*0x1+-0x1*-0x778),this['animIndexP'+'arams']=new Float32Array(-0x1*0x5d6+0x4c5*0x4+0xd3c*-0x1),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0x218f+0x72*0x3f+0x2c1*0x2),this['useMesh']=!(0x1dbd*-0x1+-0x1896+-0x1*-0x3653),this['useCpu']=!_0x28c2f4['supportsGp'+'uParticles'],this['pack8']=!(0xd65+-0x1f93+0x122e),this['localBound'+'s']=new _e(),this['worldBound'+'sNoTrail']=new _e(),this['worldBound'+'sTrail']=[new _e(),new _e()],this['worldBound'+'s']=new _e(),this['worldBound'+'sSize']=new T(),this['prevWorldB'+'oundsSize']=new T(),this['prevWorldB'+'oundsCente'+'r']=new T(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new T(),this['worldBound'+'sAdd']=new T(),this['timeToSwit'+'chBounds']=0x2e1*-0xb+0x5a1+0x1a0a,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x92b+-0x3c*0xa5+0x2fd7,this['numParticl'+'eIndices']=0x1cc3+-0x1493+-0x8*0x106,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x2598+-0x1300+-0x4*-0xe26,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(0x1495*0x1+0x5e3*-0x3+-0x9*0x53)/(0x1936+0x53*0x52+0x210*-0x19),this['maxSubStep'+'s']=0x4c*-0x1+0x1*0x1d6e+-0x1d18,this['simTime']=0x1f2+0x3f5*0x4+0xa*-0x1c7,this['simTimeTot'+'al']=-0x5b0+-0x225d*0x1+0x1*0x280d,this['beenReset']=!(0x11b3+0x1*0xfc2+0x1*-0x2174),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return v['assert'](this['graphicsDe'+'vice']),c1['get'](this['graphicsDe'+'vice'],()=>{const _0x523512=new Float32Array(-0x1c8*0xe+0xaef+0x1201);for(let _0xfbe792=-0x2457*-0x1+0x11ab+-0x1f*0x1be;_0xfbe792<0x373*-0x2+0x1f*0x49+-0x1e1;_0xfbe792++)for(let _0x23c94c=-0x1d00+-0x1152+0x2e52;_0x23c94c<-0x1*-0x23b1+-0x16ee+0xcb3*-0x1;_0x23c94c++){const _0x574bb9=_0x23c94c+(0x2b*0xb5+0x4eb*0x7+-0x1*0x40d3)-(0x78+0x27*0x29+-0x6af*0x1+0.5),_0x4f3286=_0xfbe792+(-0x1382+0xa99+0x1*0x8ea)-(-0xaa2+0x1cd*0x4+-0x2*-0x1bb+0.5),_0x5eece5=C_(0x1*-0x25ad+0x14d0+-0x1*-0x10de-C_(Math['sqrt'](_0x574bb9*_0x574bb9+_0x4f3286*_0x4f3286)/(-0xf*0xef+0x3ce+-0xa43*-0x1))-(-0x1*0x16d+-0x6b9+0x826+0.5)),_0x1c9484=_0xfbe792*(0x422+-0x2*-0xd9d+-0xfa6*0x2)+_0x23c94c;_0x523512[_0x1c9484*(-0x98b*-0x4+-0x7e3+-0x1e45)]=-0x2*-0x295+0xcb0+0x3*-0x5f3,_0x523512[_0x1c9484*(-0x71*0x4b+-0x21c3+0x42e2)+(0x169a+-0x137b*0x2+0x105d)]=0x265c+-0x1418+-0x3a7*0x5,_0x523512[_0x1c9484*(0x1*-0x159b+0x2139+-0x129*0xa)+(0x393+-0x1f2*-0x9+-0x1513)]=-0x161e+0x9f2+0xc2d,_0x523512[_0x1c9484*(-0x2019+-0x1f7c+0x9*0x711)+(0x1e33+0x3*0x22c+-0x24b4)]=_0x5eece5;}const _0x3fcff2=Qt(this['graphicsDe'+'vice'],0x1*-0x1f5+-0xbee+0xdf3,0x7d0+-0x2f7*0x6+0x505*0x2,_0x523512,rs,0xf40*0x2+-0x14e*-0x5+-0x2505,!(-0x282*0xb+0x8*0x2a5+0x66e));return _0x3fcff2['minFilter']=st,_0x3fcff2['magFilter']=st,_0x3fcff2;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0x18*0x132+0x913*-0x1+-0x139c)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x22c0+-0x1841+-0x4f*0x22)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x3*-0x4da+0x1ec7*-0x1+0x1f*0x86)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(0x44*-0x6d+0x1*-0xac0+0x27b5)),this['worldBound'+'sAdd']['x']+=-0x18de+-0x2332+0x3c10+0.5,this['worldBound'+'sAdd']['y']+=-0x20*-0x13+-0x1*-0x13fd+0x19*-0xe5+0.5,this['worldBound'+'sAdd']['z']+=0x9*0x11f+-0x2ba*-0x5+-0x17b9*0x1+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x466d8f=!(-0x1ae5*-0x1+0x1ca7+0x378b*-0x1);this['emitterSha'+'pe']===Vs?_0x466d8f=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x466d8f=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x466d8f&&this['calculateL'+'ocalBounds']();}const _0x30322e=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x30322e),this['worldBound'+'sTrail'][0x6d1+-0x1*0xdf1+-0x72*-0x10]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0xb02+0x2617*0x1+-0xc46*0x4]['add'](this['worldBound'+'sNoTrail']);const _0x56bdb0=this['simTimeTot'+'al'];_0x56bdb0>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0xf04*0x2+-0x3*0xbcc+-0x9e*-0x6a]['copy'](this['worldBound'+'sTrail'][-0x2*0x117a+-0x2346+0x1*0x463b]),this['worldBound'+'sTrail'][-0x3d3+0x298+0x13c]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x56bdb0+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x167c+-0x1010+-0x66c]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0xc41*-0x2+-0x1b19+0x339d),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x30322e),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x30322e)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0xc*-0x285+0x2*-0x1a+-0x1*0x1e07-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x1*0x125+0x615*-0x1+-0x19*-0x4a]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0xdd7+0x19cc+0xb2*-0x39]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x1eb8*0x1+-0x5*0x4a9+0x3605]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x162c+-0x15*0x107+0x97*-0x1),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0x3*0xa6d+-0x228c+0x41d3,this['timeToSwit'+'chBounds']=-0x20da*-0x1+-0x1007+-0x10d3);}['calculateL'+'ocalBounds'](){let _0x7dd874=Number['MAX_VALUE'],_0x424bac=Number['MAX_VALUE'],_0xe5b61e=Number['MAX_VALUE'],_0x5dfdea=-Number['MAX_VALUE'],_0x315d92=-Number['MAX_VALUE'],_0x554921=-Number['MAX_VALUE'],_0x38406b=0x1518+0x3*-0x47b+-0x7a7,_0x4a9be9=0x992+0x2*0xebe+-0x270e;const _0x37ded0=this['lifetime']/this['precision'],_0x4eb93f=[this['qVelocity'],this['qVelocity2']],_0x314cf0=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x1d6f1a=[-0x4*0x42c+0x1e3a+-0x6c5*0x2,-0xecb+0x114d*-0x1+0x13c*0x1a],_0x4105f3=[0x7e2*0x1+-0x943*0x2+-0x2*-0x552,0x44a+-0x2303+0x625*0x5],_0x363503=[0x1951+0x18d0+0x1*-0x3221,0x1d62+0x48b*-0x2+-0x4*0x513],_0x160caa=[0x261e+0x2414*0x1+0x2519*-0x2,-0x109*-0x3+-0xa1+-0x2*0x13d],_0x3dfe95=[-0x214b*0x1+0x3*-0x527+0x30c0,-0x2262+-0xac1+0x2d23];let _0x1c1289,_0x4a3702,_0x4e2078;for(let _0x76c536=0xa88+0xede*-0x2+0x2*0x99a;_0x76c536<this['precision']+(-0x234d+0x3*-0x15a+0x394*0xb);_0x76c536++){const _0x334038=Math['min'](_0x76c536,this['precision']-(0x8*-0x2a+0x4*-0x687+0x1b6d));for(let _0x59de93=-0x1*-0x23d5+-0xccc+0x1709*-0x1;_0x59de93<-0x2045+0x4*-0x7f2+0x2c9*0x17;_0x59de93++)_0x1c1289=_0x314cf0[_0x59de93][_0x334038*(0x8cf+0x150*0x6+-0x10ac)+(-0x8*-0x25f+0x1*0xcbb+-0x1fb3*0x1)]*_0x37ded0+_0x1d6f1a[_0x59de93],_0x4a3702=_0x314cf0[_0x59de93][_0x334038*(-0x18*0x16e+-0x44f*-0x6+0x3*0x2d3)+(-0x29*-0x9d+0x1076+-0x19*0x1aa)]*_0x37ded0+_0x4105f3[_0x59de93],_0x4e2078=_0x314cf0[_0x59de93][_0x334038*(-0x248f*0x1+-0x2232*0x1+-0x50e*-0xe)+(-0x6f*0x39+-0x2056+-0x1*-0x390f)]*_0x37ded0+_0x363503[_0x59de93],_0x7dd874=Math['min'](_0x1c1289,_0x7dd874),_0x424bac=Math['min'](_0x4a3702,_0x424bac),_0xe5b61e=Math['min'](_0x4e2078,_0xe5b61e),_0x5dfdea=Math['max'](_0x1c1289,_0x5dfdea),_0x315d92=Math['max'](_0x4a3702,_0x315d92),_0x554921=Math['max'](_0x4e2078,_0x554921),_0x1d6f1a[_0x59de93]=_0x1c1289,_0x4105f3[_0x59de93]=_0x4a3702,_0x363503[_0x59de93]=_0x4e2078;for(let _0x52f795=-0x19e0+-0x6c5*0x1+-0x1*-0x20a5;_0x52f795<-0x1a05+-0x62b*-0x2+0x1*0xdb1;_0x52f795++)_0x3dfe95[_0x52f795]+=_0x37ded0*Math['sqrt'](_0x4eb93f[_0x52f795][_0x334038*(-0xe8*-0xe+0x1*0x7fd+0xe6*-0x17)+(-0xf67+-0x1af0+-0xe1d*-0x3)]*_0x4eb93f[_0x52f795][_0x334038*(-0x1*-0x1d3+-0x5dd+0x40d)+(0x2485+0x1*-0xe9b+0x1fe*-0xb)]+_0x4eb93f[_0x52f795][_0x334038*(0x4f*-0x13+-0x1*0x10f1+-0x16d1*-0x1)+(0x178c+0x1*0x57d+-0x1d08)]*_0x4eb93f[_0x52f795][_0x334038*(0x185b+0x1*-0xb11+-0xd47)+(-0x42a+0x1f82+-0x1b57)]+_0x4eb93f[_0x52f795][_0x334038*(0xb*-0x1d+-0x147a+0xd*0x1ac)+(-0x186c*-0x1+0x2561+-0x3dcb)]*_0x4eb93f[_0x52f795][_0x334038*(0x1*0x6c7+-0x686+-0x3e)+(0x219f+0x5b*-0x29+-0x1*0x130a)]);_0x160caa[0x1*-0xd8b+-0xdb*-0xd+0x1f*0x14]+=this['qRadialSpe'+'ed'][_0x334038]*_0x37ded0,_0x160caa[-0x106b+-0x1f85*0x1+-0x1*-0x2ff1]+=this['qRadialSpe'+'ed2'][_0x334038]*_0x37ded0,_0x38406b=Math['max'](_0x38406b,Math['max'](Math['abs'](_0x160caa[0x10a9+-0x128*-0xc+-0x1e89]),Math['abs'](_0x160caa[0x1*-0xb65+0x1*-0x1445+-0x1*-0x1fab]))),_0x4a9be9=Math['max'](_0x4a9be9,this['qScale'][_0x334038]);}this['emitterSha'+'pe']===Vs?(_0x1c1289=this['emitterExt'+'ents']['x']*(0x292*-0x9+0xd*0x167+-0x1*-0x4e7+0.5),_0x4a3702=this['emitterExt'+'ents']['y']*(-0x11*-0x1a3+-0x1290+0x943*-0x1+0.5),_0x4e2078=this['emitterExt'+'ents']['z']*(0x1*-0x481+-0xd*-0x143+-0xbe6+0.5)):(_0x1c1289=this['emitterRad'+'ius'],_0x4a3702=this['emitterRad'+'ius'],_0x4e2078=this['emitterRad'+'ius']);const _0x3dcff8=Math['max'](_0x3dfe95[0x1654+0x449*0x4+-0x2*0x13bc],_0x3dfe95[-0x2247+-0x1*-0x221f+0x29]);Ul['x']=_0x7dd874-_0x4a9be9-_0x1c1289-_0x38406b-_0x3dcff8,Ul['y']=_0x424bac-_0x4a9be9-_0x4a3702-_0x38406b-_0x3dcff8,Ul['z']=_0xe5b61e-_0x4a9be9-_0x4e2078-_0x38406b-_0x3dcff8,Vl['x']=_0x5dfdea+_0x4a9be9+_0x1c1289+_0x38406b+_0x3dcff8,Vl['y']=_0x315d92+_0x4a9be9+_0x4a3702+_0x38406b+_0x3dcff8,Vl['z']=_0x554921+_0x4a9be9+_0x4e2078+_0x38406b+_0x3dcff8,this['localBound'+'s']['setMinMax'](Ul,Vl);}['rebuild'](){const _0x1af692=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===Vs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Du||_0x1af692['maxVertexT'+'extures']<=0xfc2+0x25bb+-0x357c||_0x1af692['fragmentUn'+'iformsCoun'+'t']<0x1fb2+0x4*0x3b6+-0x4f*0x96||_0x1af692['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x1af692['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],ii=this['useCpu']||this['pack8']?0xced*0x2+-0x6ea+-0x12ec:0x3df*0x4+0x45*-0x3e+0x13c,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=N['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x7ab+0x20e*0xe+-0x1*0x246f]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0x1367+0x1954+-0x5ec]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x10c5+-0x16e7+0xc*0x83),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x28d412=-0x11c9+0xd*0x226+-0xa25;_0x28d412<this['numParticl'+'es'];_0x28d412++)this['vbToSort'][_0x28d412]=[-0x1dfa*0x1+0xe*-0xac+0x2762,-0x19cf+0x187e+0x151];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*ii*zl);const _0x180ef2=this['node']===null||this['localSpace']?T['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===Vs&&(this['node']===null||this['localSpace']?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['spawnBound'+'s']):Tr['setTRS'](T['ZERO'],this['node']['getRotatio'+'n'](),I_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),ri[0xd*0x2dd+-0x13b2+0x1187*-0x1]=this['emitterExt'+'ents']['x']!==-0x2*-0x7cd+0x912*-0x3+0xb9c?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0xe2+0xac7+-0x11*0x95,ri[-0x3*-0x20f+-0x9c+-0x590]=this['emitterExt'+'ents']['y']!==-0x86+0x3*-0x39+0x131?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x11c+0xe31*0x1+-0xd15,ri[0x20d3+-0x141*0xf+0xa3*-0x16]=this['emitterExt'+'ents']['z']!==-0xb*0xfb+0x12a1+-0x7d8?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x1ebd+-0x1b34+0x7*0x847);for(let _0x1e04a9=-0x244a+0x1057+-0x13f3*-0x1;_0x1e04a9<this['numParticl'+'es'];_0x1e04a9++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Tr,ri,_0x180ef2,_0x1e04a9),this['useCpu']&&(this['particleTe'+'x'][_0x1e04a9*zl+(-0x3*0x667+-0x1e*-0x112+-0xce4)+this['numParticl'+'esPot']*(-0x1b2+-0xfa1+0x1155)*zl]=0x256*0xa+-0x25e8+0xe8d);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*ii*zl);for(let _0x4ceef2=0xea1+-0xfbc*0x1+0x1*0x11b;_0x4ceef2<this['particleTe'+'xStart']['length'];_0x4ceef2++)this['particleTe'+'xStart'][_0x4ceef2]=this['particleTe'+'x'][_0x4ceef2];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=Qt(_0x1af692,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0x49d*-0x3+0x1*0x1723+0xd*-0xb7,!(0x8e9+-0x1d57+0x146f)),this['particleTe'+'xOUT']=Qt(_0x1af692,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0x3ee*-0x3+-0x2*0x11de+0x1*0x2f87,!(-0x3*-0xa95+-0x5*-0xc7+-0x23a1)),this['particleTe'+'xStart']=Qt(_0x1af692,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'],Se,-0x1d08+0x23f3+-0x6ea,!(0x221+-0x51*0x27+0xa37))):(this['particleTe'+'xIN']=Qt(_0x1af692,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xOUT']=Qt(_0x1af692,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xStart']=Qt(_0x1af692,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new pt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(0x72c*-0x3+-0x2573*-0x1+-0xfee)}),this['rtParticle'+'TexOUT']=new pt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(0xe99+0x6d3+-0x156b)}),this['swapTex']=!(-0x337*0xb+0x1581*0x1+-0x1fb*-0x7));const _0x4d9835=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+X['particleUp'+'daterInitP'+'S']+(this['pack8']?X['particleIn'+'putRgba8PS']+X['particleOu'+'tputRgba8P'+'S']:X['particleIn'+'putFloatPS']+X['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===Vs?X['particleUp'+'daterAABBP'+'S']:X['particleUp'+'daterSpher'+'ePS'])+X['particleUp'+'daterStart'+'PS'],_0x2c9bc0=_0x4d9835+X['particleUp'+'daterRespa'+'wnPS']+X['particleUp'+'daterEndPS'],_0x432a92=_0x4d9835+X['particleUp'+'daterNoRes'+'pawnPS']+X['particleUp'+'daterEndPS'],_0x13fd44=_0x4d9835+X['particleUp'+'daterOnSto'+'pPS']+X['particleUp'+'daterEndPS'],_0x508675='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Is(_0x1af692,X['fullscreen'+'QuadVS'],_0x2c9bc0,'ParticleUp'+'dateRespaw'+'n-'+_0x508675),this['shaderPart'+'icleUpdate'+'NoRespawn']=Is(_0x1af692,X['fullscreen'+'QuadVS'],_0x432a92,'ParticleUp'+'dateNoResp'+'awn-'+_0x508675),this['shaderPart'+'icleUpdate'+'OnStop']=Is(_0x1af692,X['fullscreen'+'QuadVS'],_0x13fd44,'ParticleUp'+'dateStop-'+_0x508675),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x988+0x4b5*0x3+-0x493,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][0x24cf+-0x1c49+-0x886]['numIndices']:0x3*0x9d5+0x1521+-0x7f*0x66,this['_allocate'](this['numParticl'+'es']);const _0x44ee5b=new Ie(_0x1af692);_0x44ee5b['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x44ee5b['indexBuffe'+'r'][0x1701*-0x1+-0xc7f*0x1+0x470*0x8]=this['indexBuffe'+'r'],_0x44ee5b['primitive'][-0x487*0x1+0x2180+-0x1*0x1cf9]['type']=Ms,_0x44ee5b['primitive'][0x21*-0x97+-0x11*-0x20a+-0xf33]['base']=-0xbc2+0x1*-0x94e+0x1510,_0x44ee5b['primitive'][-0x256e+0x13b9+0x11b5]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x44ee5b['primitive'][0x1410+-0x25*0x6e+0x1*-0x42a]['indexed']=!(0xdd8+-0x1a42*-0x1+-0x281a),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x18f01e=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x1cc7+0x15d2*-0x1+-0x1*-0x3299);this['meshInstan'+'ce']=new Le(_0x44ee5b,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x8*0x21a+0x496+-0xc3b*-0x1),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0xc6+0x8d6+-0x810),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0x8dc+-0x17fc+-0xf21*-0x1),this['meshInstan'+'ce']['visible']=_0x18f01e,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0xee+-0x22c+-0x35*-0x6,!(0x903+0x2e7*0x7+-0x1d53)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0xd67+-0x7*-0x37+-0x2fb*0x5&&(this['animTilesX']>0xd40*-0x2+0x12b8+0x7c9||this['animTilesY']>0x32e*0x8+0xade+-0x244d)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x90c757=this['precision'],_0x30b469=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x90c757),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x90c757),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x90c757,0x1c79+-0x62f*0x2+-0x101b,-0xf16*-0x2+0x61*-0x5e+0x573),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x90c757),this['qScale']=this['scaleGraph']['quantize'](_0x90c757),this['qAlpha']=this['alphaGraph']['quantize'](_0x90c757),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x90c757),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x90c757),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x90c757),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x90c757,-0x10c3+0x2b6+0xe0d,0x11f*-0x9+0x1a01+-0xfe9),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x90c757),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x90c757),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x90c757),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x90c757);for(let _0x225336=-0x234+-0x140e+0x206*0xb;_0x225336<_0x90c757;_0x225336++)this['qRotSpeed'][_0x225336]*=N['DEG_TO_RAD'],this['qRotSpeed2'][_0x225336]*=N['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0xa3f+-0x5b*0x38+0x9ac),this['velocityUM'+'ax']=new Float32Array(-0x1015+-0x25fe+0x12d*0x2e),this['colorUMax']=new Float32Array(0x1274+-0xa*0x22d+0x351),this['rotSpeedUM'+'ax']=[-0x1e35+-0x1*-0x1ca5+0x190],this['scaleUMax']=[0x1*0x18c1+-0x1327*0x2+0xd8d*0x1],this['alphaUMax']=[-0x8f7+-0x119*0x1+0x1c*0x5c],this['radialSpee'+'dUMax']=[0x1231*0x1+0x5*-0x425+0x288],this['qLocalVelo'+'cityDiv']=Ar(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Ar(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Ar(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Ar(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Ar(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Ar(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Ar(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0xd8a0b5=[-0x1ef+-0x1b6c+0x5df*0x5,0xdc9+0x2069+-0x2e32,-0x2548+0xe6*-0x28+0x16*0x354];Fr(this['qVelocity'],_0xd8a0b5);const _0x3d231c=[-0x1c3*0xb+0x1d03*0x1+-0x9a2,-0x3d*0x77+0xd08+-0x1*-0xf53,0x3ed+-0x1*-0xa6c+-0x1*0xe59];Fr(this['qVelocity2'],_0x3d231c);const _0x75e36b=[-0x28d*-0xf+-0x1bec+0xa57*-0x1,0x15*-0x9b+-0x26b*0x5+0x19*0xfe,0x2253+-0xf35*-0x1+-0x3188];Fr(this['qLocalVelo'+'city'],_0x75e36b);const _0xd2b26f=[0xc8e+0x5*0x24b+0xb*-0x22f,0x851+-0x20c*0xb+-0xe33*-0x1,-0x1*0x1253+-0x5f6+0x1849];Fr(this['qLocalVelo'+'city2'],_0xd2b26f);const _0x1fac33=[-0x365+-0xeb0+-0x1215*-0x1];Fr(this['qRadialSpe'+'ed'],_0x1fac33);const _0x3485c6=[-0x33a+0x718+0x14a*-0x3];Fr(this['qRadialSpe'+'ed2'],_0x3485c6);let _0x5151a7=Math['max'](_0xd8a0b5[0x5*0x4eb+0x1*0x20fd+-0x2c*0x14f],_0x3d231c[0x92d+0xcbd*0x3+0x12*-0x2a2]);_0x5151a7=Math['max'](_0x5151a7,_0xd8a0b5[0x1*0x211+0x789+-0x999]),_0x5151a7=Math['max'](_0x5151a7,_0x3d231c[-0x423+-0x5*0x237+0x5f*0x29]),_0x5151a7=Math['max'](_0x5151a7,_0xd8a0b5[-0x1fba+-0x1319*-0x1+0xca3]),_0x5151a7=Math['max'](_0x5151a7,_0x3d231c[-0xe1e+0x2623+-0x1803]);let _0x288beb=Math['max'](_0x75e36b[0x7a*-0x20+-0x1*0x1663+0x25a3],_0xd2b26f[-0x9*0x235+0x2144+-0xd67]);_0x288beb=Math['max'](_0x288beb,_0x75e36b[0x1e76+0x138f+-0x3204]),_0x288beb=Math['max'](_0x288beb,_0xd2b26f[-0x8c9+0x176b+-0x1*0xea1]),_0x288beb=Math['max'](_0x288beb,_0x75e36b[0x483+-0x11d4+-0x1*-0xd53]),_0x288beb=Math['max'](_0x288beb,_0xd2b26f[-0x1d9c+-0x3*-0x3a5+-0x1*-0x12af]);const _0x26bb6d=Math['max'](_0x1fac33[-0x1b46+0x16cc+0x1*0x47a],_0x3485c6[-0x24e+0x7f*0xa+-0x28*0x11]);this['maxVel']=_0x5151a7+_0x288beb+_0x26bb6d;}this['useCpu']||(this['internalTe'+'x0']=Qt(_0x30b469,_0x90c757,0x7c7*-0x4+-0x46e+0x238b,D_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=Qt(_0x30b469,_0x90c757,-0x2*-0x306+0x8*-0x12f+0x1*0x36d,D_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=Qt(_0x30b469,_0x90c757,-0xe62+0x891+0x5d2*0x1,n1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=Qt(_0x30b469,_0x90c757,-0x1c*-0x5f+-0x1001+0x59e,a1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=Qt(_0x30b469,_0x90c757,0x2292+-0x25eb+0x35a,r1(this['qColor'],this['qAlpha']),rs,-0x19ce+-0x1186+-0x2b55*-0x1,!(-0x1*0x1c2b+0x1aa3+-0x2*-0xc4));}['_setMateri'+'alTextures'](){this['colorMap']&&(v['call'](()=>{Ey(this['colorMap']['format'])&&v['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x566772=new s1(this);return _0x566772['name']='EmitterMat'+'erial:'+this['node']['name'],_0x566772['cull']=mt,_0x566772['alphaWrite']=!(-0x2186+0x1447*0x1+0xd40),_0x566772['blendType']=this['blendType'],_0x566772['depthWrite']=this['depthWrite'],_0x566772;}['resetMater'+'ial'](){const _0x59cdeb=this['material'];_0x59cdeb['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x59cdeb['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x59cdeb['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x59cdeb['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x59cdeb['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x59cdeb['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x59cdeb['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x59cdeb['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x59cdeb['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x59cdeb['setParamet'+'er']('colorParam',this['colorParam']),_0x59cdeb['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x59cdeb['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x59cdeb['setParamet'+'er']('lifetime',this['lifetime']),_0x59cdeb['setParamet'+'er']('rate',this['rate']),_0x59cdeb['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x59cdeb['setParamet'+'er']('seed',this['seed']),_0x59cdeb['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0x1*0x22db+-0x1e3f+-0x49c]),_0x59cdeb['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][0x1*0x1bc1+-0xa*0xdd+-0x131f]),_0x59cdeb['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x180d+-0x2b7*-0x9+-0x62]),_0x59cdeb['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x59cdeb['setParamet'+'er']('graphSampl'+'eSize',(-0x10*-0x193+-0xd2d+0x2*-0x601)/this['precision']),_0x59cdeb['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x2531+-0x7*-0x7c+-0xa25*0x4,0x2*0x27c+-0x185a+0x1363,0x1*0x1c6a+0x8b*-0x16+0x3*-0x57d])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x59cdeb['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x59cdeb['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x59cdeb['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][-0x256b+-0x1*0x24a9+0x4a14]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0x7*-0x35b+-0x1817+-0x1*-0x9b]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x25d4+0xe13+-0x1*-0x17c3]=this['wrapBounds']['z'],_0x59cdeb['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x1*-0x7e3+0x18cb+0x2f*-0xb2&&_0x59cdeb['setParamet'+'er']('softening',(-0x16*-0x79+0x2*0xdc9+0x1*-0x25f7)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0x111b*-0x2+-0x1107*-0x1+0x1193))),this['stretch']>-0x48b*-0x5+0x1e01+-0x1a5c*0x2&&(_0x59cdeb['cull']=mt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x5eabb3,_0x5f390d;if(this['orientatio'+'n']===Uh)_0x5eabb3=new Float32Array([0x1*-0xbb0+0x1c76+-0x1*0x10c5,0x377*-0x1+-0x1d85+0x20fc,-0xaf6+-0x2*-0xa30+-0x96a*0x1]),_0x5f390d=new Float32Array([-0x2*0x8bf+0x1773+-0x5f5*0x1,-0x1b*-0xb5+0x2d*0xb+-0x1506,0x1e01+-0x304*-0x8+-0x1b1*0x20]);else{let _0x2ae106;this['orientatio'+'n']===Xb?_0x2ae106=this['particleNo'+'rmal']['normalize']():_0x2ae106=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x4c1edf=new T(0x53*0x27+0x1459+-0x20fd,0x20a2+-0x18*0x191+0x4f6,0x6b*-0x58+0x2528+-0x20*0x3);Math['abs'](_0x4c1edf['dot'](_0x2ae106))===0x5*-0x4f4+0xea8+0xa1d&&_0x4c1edf['set'](-0x11f7+0x1*0x2709+-0x57*0x3e,0x5f1+0x1a90+-0x2081,-0x1bc8+-0x1*-0x245b+0x892*-0x1);const _0x117aab=new T()['cross'](_0x2ae106,_0x4c1edf)['normalize']();_0x4c1edf['cross'](_0x117aab,_0x2ae106)['normalize'](),_0x5eabb3=new Float32Array([_0x4c1edf['x'],_0x4c1edf['y'],_0x4c1edf['z']]),_0x5f390d=new Float32Array([_0x117aab['x'],_0x117aab['y'],_0x117aab['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x5eabb3),this['material']['setParamet'+'er']('faceBinorm',_0x5f390d);}['_allocate'](_0x1cf858){const _0x104139=_0x1cf858*this['numParticl'+'eVerts'],_0x470c8e=_0x1cf858*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0x88f+-0x215d+0x29ec)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x104139){const _0x3c9412=[];this['useCpu']?_0x3c9412['push']({'semantic':bu,'components':0x4,'type':Ee},{'semantic':wu,'components':0x4,'type':Ee},{'semantic':Ry,'components':0x4,'type':Ee},{'semantic':Iy,'components':0x1,'type':Ee},{'semantic':Dy,'components':this['useMesh']?0x14c5*0x1+-0x13cd+0xf4*-0x1:0x170e+-0x2*0x407+-0xefe,'type':Ee}):(_0x3c9412['push']({'semantic':bu,'components':0x4,'type':Ee}),this['useMesh']&&_0x3c9412['push']({'semantic':wu,'components':0x2,'type':Ee}));const _0x568458=new Et(this['graphicsDe'+'vice'],_0x3c9412);this['vertexBuff'+'er']=new os(this['graphicsDe'+'vice'],_0x568458,_0x104139,{'usage':Th}),this['indexBuffe'+'r']=new lr(this['graphicsDe'+'vice'],nr,_0x470c8e);const _0x24ff94=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x3ecff6,_0x4efd77,_0x1428fb;if(this['useMesh']){_0x3ecff6=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x4efd77=_0x3ecff6['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0xdf17e2=-0xed4+0xf69+-0x95;_0xdf17e2<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0xdf17e2++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0xdf17e2]['name']===ns){_0x1428fb=this['mesh']['vertexBuff'+'er']['format']['elements'][_0xdf17e2]['offset']/(-0x587*0x5+0xd4b+-0xe5c*-0x1);break;}}for(let _0x2296df=0xd59+0x1c5b+-0x29b4;_0x2296df<_0x104139;_0x2296df++){const _0x57df6=Math['floor'](_0x2296df/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x26cf42=_0x2296df%this['numParticl'+'eVerts'];_0x24ff94[_0x2296df*(0x8*-0x2cf+0xb*-0x3e+-0xb8*-0x23)]=_0x3ecff6[_0x26cf42*_0x4efd77],_0x24ff94[_0x2296df*(-0x2291+0x307*0x9+0x758)+(0xb1*-0x14+0x25e7+-0x1812)]=_0x3ecff6[_0x26cf42*_0x4efd77+(0x64f+0x489+-0xad7)],_0x24ff94[_0x2296df*(0x633+-0x1834*0x1+0x5*0x39b)+(-0x4d3+-0x1*-0x1663+0x3*-0x5da)]=_0x3ecff6[_0x26cf42*_0x4efd77+(0x13*-0x107+-0xa7*-0x18+-0x1*-0x3df)],_0x24ff94[_0x2296df*(-0x13d2+-0x492+0x19*0xfa)+(-0x18f9+0x1f90+-0x694)]=_0x57df6,_0x24ff94[_0x2296df*(-0x61*-0x33+-0x3b5*-0x6+0x1*-0x298b)+(0x901+-0xa7*-0x20+-0x1ddd)]=_0x3ecff6[_0x26cf42*_0x4efd77+_0x1428fb+(-0x125a+-0x1fca+0x3224)],_0x24ff94[_0x2296df*(-0x523+-0x2*-0x83f+-0x1*0xb55)+(0x118*-0xb+-0x188*-0x16+-0x15a3)]=0x233f+-0xbd1*-0x2+0x10*-0x3ae-_0x3ecff6[_0x26cf42*_0x4efd77+_0x1428fb+(0xebe+0x3*-0x51e+0x9d)];}else{const _0xdae1ce=_0x2296df%(-0x8ed*0x1+0x1*-0x136b+0x1c5c);_0x24ff94[_0x2296df*(0x971+-0x13fe*0x1+0xa91)]=E_[_0xdae1ce][0x1bd+-0x1*-0x853+0x70*-0x17],_0x24ff94[_0x2296df*(-0x9*0x3ad+0x1*0x2381+0x134*-0x2)+(0x1934+0x1ee+-0x1b21)]=E_[_0xdae1ce][0x260d+-0x1342+-0x12ca],_0x24ff94[_0x2296df*(0x1*-0x184a+-0x26b1+0x3eff)+(0x977+0x1*0x2384+-0x2cf9)]=-0x137*0x15+0x454+0xb*0x1ed,_0x24ff94[_0x2296df*(-0x1b19+-0x17*-0x11+-0x106*-0x19)+(-0x241b+-0x4c6+-0x1472*-0x2)]=_0x57df6;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x24ff94),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0xabbb55=0x511+0x26*-0x5+-0x453*0x1;const _0x33e99a=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x4815df=this['mesh']['indexBuffe'+'r'][-0xaec+0x183c+-0xd50];_0x3ecff6=new Lh[_0x4815df['format']](_0x4815df['lock']());}for(let _0x35a177=0x259f+-0x24a+-0xc9*0x2d;_0x35a177<_0x1cf858;_0x35a177++)if(this['useMesh']){for(let _0x1142bd=0x187d+0x11*-0xb5+-0xc78;_0x1142bd<this['numParticl'+'eIndices'];_0x1142bd++)_0x33e99a[_0x35a177*this['numParticl'+'eIndices']+_0x1142bd]=_0x3ecff6[_0x1142bd]+_0x35a177*this['numParticl'+'eVerts'];}else{const _0x31c68c=_0x35a177*(0x2*0x60a+0xc2c+0x8d*-0x2c);_0x33e99a[_0xabbb55++]=_0x31c68c,_0x33e99a[_0xabbb55++]=_0x31c68c+(0x194f+-0xe2*0x7+-0x132*0x10),_0x33e99a[_0xabbb55++]=_0x31c68c+(0x13c+-0x1*0x2620+0x1*0x24e6),_0x33e99a[_0xabbb55++]=_0x31c68c,_0x33e99a[_0xabbb55++]=_0x31c68c+(0xd2b+0x1003*0x2+-0x2d2f),_0x33e99a[_0xabbb55++]=_0x31c68c+(-0x15d*0x2+0x1*-0x1505+0x17c2);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0x3e6*0x9+0xf*0x47+-0x273f]['unlock']();}}['reset'](){if(this['beenReset']=!(0x24e2*0x1+-0xa*-0x2ef+-0x34*0x146),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x4b917a=0x1d93+0x1ae4+-0x3877;_0x4b917a<this['particleTe'+'xStart']['length'];_0x4b917a++)this['particleTe'+'x'][_0x4b917a]=this['particleTe'+'xStart'][_0x4b917a];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0xab2339=this['loop'];this['loop']=!(-0x3fd+-0x1*-0x1f91+-0x2*0xdca),this['addTime'](0x649*-0x4+-0x1a71+0x3395,!(-0xd52+0xe52+-0xf*0x11)),this['loop']=_0xab2339,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x2ed928){const _0x5d4fe9=_0x2ed928/this['lifetime'],_0x19cd87=Math['min'](Math['floor'](_0x5d4fe9*this['precision']),this['precision']),_0x5d56c1=_0x2ed928/_0x19cd87;for(let _0x7c105d=0xeb6+0x1*0x211e+-0xbf5*0x4;_0x7c105d<_0x19cd87;_0x7c105d++)this['addTime'](_0x5d56c1,!(-0x1*0x1a42+-0x257+0x20b*0xe));}['resetTime'](){this['endTime']=o1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x23584d,_0x4e17f0){const _0x46d4d5=this['graphicsDe'+'vice'],_0x580ef8=ne();if(this['simTimeTot'+'al']+=_0x23584d,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x39af0c=this['animTilesP'+'arams'];_0x39af0c[0x61b*-0x2+0x16*-0x7a+0x16b2]=(0xea*-0x1b+-0x247e+0x3d2d)/this['animTilesX'],_0x39af0c[0x5f*-0x5d+-0x4*-0x998+-0x34*0x13]=(-0x5*0x223+0x1*0x1d23+-0x1273)/this['animTilesY'];const _0x4c16b3=this['animParams'];_0x4c16b3[0xccd+-0x23e7+0x1*0x171a]=this['animStartF'+'rame'],_0x4c16b3[0x14bc+-0x4c3+-0xff8]=this['animNumFra'+'mes']*this['animSpeed'],_0x4c16b3[-0x1*-0xd5a+0x956+-0x16ae]=this['animNumFra'+'mes']-(-0xe*0x77+0x4*-0x5ce+0x2b*0xb1),_0x4c16b3[-0xbb8+0x1cf8+-0x113d*0x1]=this['animNumAni'+'mations']-(0x3*-0x1ab+0x42b+0xd7);const _0x4aebe1=this['animIndexP'+'arams'];_0x4aebe1[-0xa85*-0x1+0xaa6*0x3+-0x611*0x7]=this['animIndex'],_0x4aebe1[0x1964+-0x2*0x33b+0x11d*-0x11]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===Vs&&(ri[-0x1232+-0x1bb*-0xf+-0x7c3]=this['emitterExt'+'ents']['x']!==-0xc*0x247+-0x21cf+0x3d23?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0xf62+0xe*-0x24a+0x2f6e,ri[-0x266f+-0x25c0+0x4c30]=this['emitterExt'+'ents']['y']!==-0xb9f+-0x196f+-0x22e*-0x11?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x17d0+-0x1ee4+-0x2*-0x38a,ri[0x4*-0x7c9+0x2*-0x4a2+0x286a]=this['emitterExt'+'ents']['z']!==0x1*-0x23a7+0xf12+0x1495?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0xd53+0xc5*-0x2a+0x2da5,this['meshInstan'+'ce']['node']===null?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['emitterExt'+'ents']):Tr['setTRS'](T['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),I_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x5bfc20;const _0x92995e=this['meshInstan'+'ce']['node']===null?T['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x129e+0xc7f+-0x3*0xa5f]=_0x92995e['x'],this['emitterSca'+'leUniform'][-0x163b+0xeac+0x790]=_0x92995e['y'],this['emitterSca'+'leUniform'][-0x137b+-0xe24+0x21a1]=_0x92995e['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x5bfc20=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][0x161b+-0x2*-0x5ff+-0x2219]=_0x5bfc20['x'],this['emitterPos'+'Uniform'][0x2041+-0x2406+0x3c6]=_0x5bfc20['y'],this['emitterPos'+'Uniform'][-0x2e*-0xd9+-0x12*0x1fa+-0x368]=_0x5bfc20['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x46d4d5,Tr,ri,_0x23584d,_0x4e17f0);else{const _0x227186=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x227186,this['vbToSort'],this['particleTe'+'x'],Tr,ri,_0x5bfc20,_0x23584d,_0x4e17f0);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x569+0x1582+-0x1018)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ne()-_0x580ef8;}['_destroyRe'+'sources'](){var _0x3f6111,_0x355186,_0x20d59f,_0x35fb6b,_0x452ecd,_0x4b71c5,_0x400e29,_0x51faf9,_0x20f079,_0x4e37d0,_0x59f105,_0x2a78ae;(_0x3f6111=this['particleTe'+'xIN'])==null||_0x3f6111['destroy'](),this['particleTe'+'xIN']=null,(_0x355186=this['particleTe'+'xOUT'])==null||_0x355186['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x20d59f=this['rtParticle'+'TexIN'])==null||_0x20d59f['destroy'](),this['rtParticle'+'TexIN']=null,(_0x35fb6b=this['rtParticle'+'TexOUT'])==null||_0x35fb6b['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x452ecd=this['internalTe'+'x0'])==null||_0x452ecd['destroy'](),this['internalTe'+'x0']=null,(_0x4b71c5=this['internalTe'+'x1'])==null||_0x4b71c5['destroy'](),this['internalTe'+'x1']=null,(_0x400e29=this['internalTe'+'x2'])==null||_0x400e29['destroy'](),this['internalTe'+'x2']=null,(_0x51faf9=this['internalTe'+'x3'])==null||_0x51faf9['destroy'](),this['internalTe'+'x3']=null,(_0x20f079=this['colorParam'])==null||_0x20f079['destroy'](),this['colorParam']=null,(_0x4e37d0=this['vertexBuff'+'er'])==null||_0x4e37d0['destroy'](),this['vertexBuff'+'er']=void(0x179d+0x7d8+0x1f75*-0x1),(_0x59f105=this['indexBuffe'+'r'])==null||_0x59f105['destroy'](),this['indexBuffe'+'r']=void(-0x23ad*-0x1+0x2536+-0x48e3),(_0x2a78ae=this['material'])==null||_0x2a78ae['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class u1 extends It{['generateKe'+'y'](_0x193a7c){const _0x4d27ba=_0x193a7c['shaderDesc'],_0x469066=_0x4d27ba['vertexCode']?hn(_0x4d27ba['vertexCode']):-0x71e*-0x1+-0x464*0x3+0x136*0x5,_0x22589c=_0x4d27ba['fragmentCo'+'de']?hn(_0x4d27ba['fragmentCo'+'de']):-0xbae+0xf*-0x24+0x5*0x2c2,_0x2f9d47=It['definesHas'+'h'](_0x193a7c['defines']);let _0x2f0998=_0x4d27ba['uniqueName']+'_'+_0x469066+'_'+_0x22589c+'_'+_0x2f9d47;return _0x193a7c['skin']&&(_0x2f0998+='_skin'),_0x193a7c['useInstanc'+'ing']&&(_0x2f0998+='_inst'),_0x193a7c['useMorphPo'+'sition']&&(_0x2f0998+='_morphp'),_0x193a7c['useMorphNo'+'rmal']&&(_0x2f0998+='_morphn'),_0x193a7c['useMorphTe'+'xtureBased'+'Int']&&(_0x2f0998+='_morphi'),_0x2f0998;}['createAttr'+'ibutesDefi'+'nition'](_0x1d3ca8,_0x309032){const _0x352d96=_0x309032['shaderDesc']['attributes'],_0x4eb815=_0x352d96?{..._0x352d96}:void(0x23da+0x14a3+-0x387d);_0x309032['skin']&&(_0x4eb815['vertex_bon'+'eWeights']=Ys,_0x4eb815['vertex_bon'+'eIndices']=qt),(_0x309032['useMorphPo'+'sition']||_0x309032['useMorphNo'+'rmal'])&&(_0x4eb815['morph_vert'+'ex_id']=ya),_0x1d3ca8['attributes']=_0x4eb815;}['createVert'+'exDefiniti'+'on'](_0x21e1ab,_0x3c7421,_0x1ac376){const _0x32d488=_0x3c7421['shaderDesc'];if(_0x21e1ab['shaderLang'+'uage']===Ph)_0x21e1ab['vertexCode']=_0x32d488['vertexCode'];else{const _0x4da44c=new Map(_0x1ac376),_0x5bb40e=new Map(_0x3c7421['defines']);_0x4da44c['set']('transformI'+'nstancingV'+'S',''),_0x3c7421['skin']&&_0x5bb40e['set']('SKIN',!(0x1*-0x1e4+-0x11*-0xfd+0xee9*-0x1)),_0x3c7421['useInstanc'+'ing']&&_0x5bb40e['set']('INSTANCING',!(0x67f+-0xde7*-0x1+0xa33*-0x2)),(_0x3c7421['useMorphPo'+'sition']||_0x3c7421['useMorphNo'+'rmal'])&&(_0x5bb40e['set']('MORPHING',!(0x4*0x790+-0x17ed+-0x653)),_0x3c7421['useMorphTe'+'xtureBased'+'Int']&&_0x5bb40e['set']('MORPHING_I'+'NT',!(-0x2*-0x683+-0x1c59+0xf53)),_0x3c7421['useMorphPo'+'sition']&&_0x5bb40e['set']('MORPHING_P'+'OSITION',!(-0x26e0+0x70d+0x1fd3*0x1)),_0x3c7421['useMorphNo'+'rmal']&&_0x5bb40e['set']('MORPHING_N'+'ORMAL',!(-0x19ab+0x3*0x9b1+-0x6d*0x8))),_0x21e1ab['vertexCode']=_0x32d488['vertexCode'],_0x21e1ab['vertexIncl'+'udes']=_0x4da44c,_0x21e1ab['vertexDefi'+'nes']=_0x5bb40e;}}['createFrag'+'mentDefini'+'tion'](_0xea946e,_0x59bc6d,_0x643999){const _0x313cbc=_0x59bc6d['shaderDesc'];if(_0xea946e['shaderLang'+'uage']===Ph)_0xea946e['fragmentCo'+'de']=_0x313cbc['fragmentCo'+'de'];else{const _0x23f3d9=new Map(_0x643999),_0xfbe20a=new Map(_0x59bc6d['defines']);_0xea946e['fragmentCo'+'de']=_0x313cbc['fragmentCo'+'de'],_0xea946e['fragmentIn'+'cludes']=_0x23f3d9,_0xea946e['fragmentDe'+'fines']=_0xfbe20a;}}['createShad'+'erDefiniti'+'on'](_0x224e40,_0xa4e331){const _0x4d943d=_0xa4e331['shaderDesc'],_0x8e4d84={'name':'ShaderMate'+'rial-'+_0x4d943d['uniqueName'],'shaderLanguage':_0x4d943d['shaderLang'+'uage'],'fragmentOutputTypes':_0x4d943d['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x4d943d['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x4d943d['meshBindGr'+'oupFormat']},_0x172858=new Map(Object['entries']({...X,..._0xa4e331['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x8e4d84,_0xa4e331),this['createVert'+'exDefiniti'+'on'](_0x8e4d84,_0xa4e331,_0x172858),this['createFrag'+'mentDefini'+'tion'](_0x8e4d84,_0xa4e331,_0x172858),Mt['createDefi'+'nition'](_0x224e40,_0x8e4d84);}}const f1=new u1();class Ra extends yn{constructor(_0x39fc27){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0x39fc27;}set['shaderDesc'](_0x2df8b9){_0x2df8b9&&(v['assert'](_0x2df8b9['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),v['assert'](_0x2df8b9['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x2df8b9?{..._0x2df8b9}:void(0x553+0x26*-0xdd+-0x7*-0x3ed),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x5dc761){return super['copy'](_0x5dc761),this['shaderDesc']=_0x5dc761['shaderDesc'],this;}['getShaderV'+'ariant'](_0x1e8b55){const {objDefs:_0x4a3cd8}=_0x1e8b55,_0x11cf6e={'defines':Dp(this,_0x1e8b55),'skin':(_0x4a3cd8&$c)!==-0x2*0x53+0x1*0x1dd3+-0xb*0x2a7,'useInstancing':(_0x4a3cd8&Wc)!==0x36*-0x7c+-0x19a5+0x59*0x95,'useMorphPosition':(_0x4a3cd8&qc)!==0x524*-0x5+0xf92*-0x2+-0x38d8*-0x1,'useMorphNormal':(_0x4a3cd8&Xc)!==-0x1a56*-0x1+0x13cd+-0x2e23,'useMorphTextureBasedInt':(_0x4a3cd8&jc)!==-0xc0+-0x2550+-0x4c2*-0x8,'pass':_0x1e8b55['pass'],'gamma':_0x1e8b55['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x1e8b55['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x1e8b55['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x478e9b=new Yc(_0x1e8b55['viewUnifor'+'mFormat'],_0x1e8b55['viewBindGr'+'oupFormat'],_0x1e8b55['vertexForm'+'at']),_0x3887ea=ka(_0x1e8b55['device']);return _0x3887ea['register']('shader-mat'+'erial',f1),_0x3887ea['getProgram']('shader-mat'+'erial',_0x11cf6e,_0x478e9b,this['userId']);}}const k0=(_0x29b85a,_0x3e9bb0)=>{const _0x557dff=_0x3e9bb0['length']/(0x2*-0x1fd+-0x2130+-0x1f*-0x133),_0x5963d6=_0x29b85a['length']/(-0x1*-0x16ee+0xb*-0x125+0x1*-0xa54),_0xa19f2d=new T(),_0x319500=new T(),_0x397ae3=new T(),_0x5558cc=new T(),_0x40b433=new T(),_0x102827=new T(),_0x4fcf90=[];for(let _0x18f803=-0x3f8+0x3*0x89+0x25d;_0x18f803<_0x29b85a['length'];_0x18f803++)_0x4fcf90[_0x18f803]=-0x1*0x1c52+-0x1*0xc01+-0x3*-0xd71;for(let _0x2de97b=-0xb0c+-0x3*0xd3+0xd85*0x1;_0x2de97b<_0x557dff;_0x2de97b++){const _0x53baa4=_0x3e9bb0[_0x2de97b*(-0x9*0x2ed+0x5*0xd3+0x1639)],_0x2abda6=_0x3e9bb0[_0x2de97b*(0x1430+0x100*0x1c+-0x302d)+(-0x1*-0xc24+0xa70+0x1693*-0x1)],_0x537026=_0x3e9bb0[_0x2de97b*(-0x1*-0x23e6+-0x1*-0xcdc+-0x30bf)+(0x2584+0x2af*-0x2+-0x2024)];_0xa19f2d['set'](_0x29b85a[_0x53baa4*(-0x7*-0xc5+-0x2f*-0xa7+-0x2409)],_0x29b85a[_0x53baa4*(0x24ac+-0x1*0x9d6+-0x1ad3*0x1)+(-0x389+-0x20d0+0x21*0x11a)],_0x29b85a[_0x53baa4*(0x10d3+-0x1757+0x3*0x22d)+(0x1*0x9a1+0x12c9+-0xca*0x24)]),_0x319500['set'](_0x29b85a[_0x2abda6*(-0x2563+0x73*0xf+0x1ea9)],_0x29b85a[_0x2abda6*(0x14d7+0x1de4+-0x32b8)+(-0x57*0x2e+-0xcba+0x1c5d)],_0x29b85a[_0x2abda6*(0x16f4+-0x588+-0x1169)+(-0x17*0x169+-0x1939+-0x3d*-0xf2)]),_0x397ae3['set'](_0x29b85a[_0x537026*(-0x1*0x24bb+-0x13*-0xb7+-0x21b*-0xb)],_0x29b85a[_0x537026*(-0x2104+0x1ea6+0x261)+(-0xfda+0x1*0x1914+-0x939)],_0x29b85a[_0x537026*(0x5*-0x505+-0x7d2+0x20ee)+(0xe95*-0x1+-0x3c*0x6d+-0xf*-0x2ad)]),_0x5558cc['sub2'](_0x319500,_0xa19f2d),_0x40b433['sub2'](_0x397ae3,_0xa19f2d),_0x102827['cross'](_0x5558cc,_0x40b433)['normalize'](),_0x4fcf90[_0x53baa4*(-0x7*-0x581+-0x1f52+-0x399*0x2)]+=_0x102827['x'],_0x4fcf90[_0x53baa4*(-0xa*0x7f+-0x6ab*-0x1+-0x1b2)+(0x23c9*0x1+0x16b5*0x1+0x3a7d*-0x1)]+=_0x102827['y'],_0x4fcf90[_0x53baa4*(-0x236a+-0x71*-0x13+0x1b0a)+(-0x12*0x104+0x2618+0x3f6*-0x5)]+=_0x102827['z'],_0x4fcf90[_0x2abda6*(-0x1185+-0x2572+-0x2*-0x1b7d)]+=_0x102827['x'],_0x4fcf90[_0x2abda6*(0x1454+-0x1*0x823+-0xc2e)+(-0xd8b+0x3d*-0x7a+-0xa*-0x443)]+=_0x102827['y'],_0x4fcf90[_0x2abda6*(0x1127+-0x41b*0x6+0x77e)+(0xae9+0x1*-0x132a+0x843)]+=_0x102827['z'],_0x4fcf90[_0x537026*(0x7a+0x171*0x1b+-0x2762)]+=_0x102827['x'],_0x4fcf90[_0x537026*(-0x1f7d+-0x2045+0x5*0xcc1)+(-0x23c0+-0xd*-0x1fc+0x9f5)]+=_0x102827['y'],_0x4fcf90[_0x537026*(0x3*-0xb0f+-0x483+-0x25b3*-0x1)+(0x15*-0x53+-0x1*-0x1a4b+0x6*-0x33f)]+=_0x102827['z'];}for(let _0x2321cb=-0xa87+0x1018*0x1+-0x591;_0x2321cb<_0x5963d6;_0x2321cb++){const _0x36b614=_0x4fcf90[_0x2321cb*(0xaa*0x31+-0x2*0x44f+-0x17e9*0x1)],_0x97dcf1=_0x4fcf90[_0x2321cb*(-0x828+0x1*-0x6b9+0xee4)+(0x2570+-0x29*0x8d+-0xeda)],_0x12ac57=_0x4fcf90[_0x2321cb*(-0x2*-0x1229+-0x24fc+0x1*0xad)+(0xb3b*0x2+-0xe6a+-0x80a)],_0x19fe3e=(0x1037+0x1f18+0x6c2*-0x7)/Math['sqrt'](_0x36b614*_0x36b614+_0x97dcf1*_0x97dcf1+_0x12ac57*_0x12ac57);_0x4fcf90[_0x2321cb*(0x1*0x776+-0x973*0x1+0x200)]*=_0x19fe3e,_0x4fcf90[_0x2321cb*(-0x198e+-0x1*-0x1df+0x7e6*0x3)+(-0x105e+-0x1*-0xb53+0x50c)]*=_0x19fe3e,_0x4fcf90[_0x2321cb*(0x23*-0x9f+0x94d+0xc73)+(-0x23*-0x3d+-0x2a5*0x7+-0x1*-0xa2e)]*=_0x19fe3e;}return _0x4fcf90;},fr=(_0x29cd8d,_0x43df0e,_0x2739d3,_0x2aad04)=>{const _0x25db35=_0x2aad04['length']/(0x15c1*-0x1+0x7f*-0x18+0x21ac),_0x589606=_0x29cd8d['length']/(0x2af+0x3a*-0x68+-0x2fc*-0x7),_0x4dab19=new T(),_0x18c46e=new T(),_0x252be1=new T(),_0x100871=new $(),_0x3108e7=new $(),_0x38d94a=new $(),_0x2b2ec3=new T(),_0x2e9455=new T(),_0x316823=new Float32Array(_0x589606*(0x3a6*0x7+0x216f+-0x3af6)),_0x4557eb=new Float32Array(_0x589606*(0x23*-0x4f+-0x2a5*0x3+0x12bf)),_0x4f50c5=[];for(let _0x3fc309=0x1e62+0x1848+-0x36aa;_0x3fc309<_0x25db35;_0x3fc309++){const _0xd5ae76=_0x2aad04[_0x3fc309*(-0x202b+0x16cc+0x962)],_0x205708=_0x2aad04[_0x3fc309*(0x2b*0xb3+0x8bc*-0x3+-0x22*0x1d)+(0x1*0xef2+-0x57*-0x15+0x9d*-0x24)],_0x553d60=_0x2aad04[_0x3fc309*(-0xc7*-0x30+0x1*0x1a41+-0x3f8e*0x1)+(0x2f*0xf+-0x1a57+0x8*0x2f3)];_0x4dab19['set'](_0x29cd8d[_0xd5ae76*(0x1*-0x2428+0x1307*-0x1+-0x9d*-0x5a)],_0x29cd8d[_0xd5ae76*(-0x17*-0xf2+0x43*-0x6f+0x1*0x752)+(-0x1459+-0x2013+-0x346d*-0x1)],_0x29cd8d[_0xd5ae76*(-0x109d+-0x192c+-0x32*-0xd6)+(0x220+0x25*0xa+-0x390)]),_0x18c46e['set'](_0x29cd8d[_0x205708*(-0x10*-0x86+-0x29c*0x7+0x34d*0x3)],_0x29cd8d[_0x205708*(-0x81*0x1f+0x98b*0x1+0x617)+(0x1e4a+0x1dee+-0x5*0xc0b)],_0x29cd8d[_0x205708*(0x1a31*-0x1+0xa+0x1a2a)+(0x1*-0x17b0+-0x215+-0x1*-0x19c7)]),_0x252be1['set'](_0x29cd8d[_0x553d60*(-0x1*0x13a+0x1df*-0x5+0xa98)],_0x29cd8d[_0x553d60*(0x1bc7*-0x1+-0xe7e+0x2a48)+(0xe00+0xbbc*0x3+-0x3133)],_0x29cd8d[_0x553d60*(-0x2*0x272+0x740+-0x259)+(0xf57+0xe72+-0x1dc7)]),_0x100871['set'](_0x2739d3[_0xd5ae76*(0x287*0xc+-0x1cc1+0x191*-0x1)],_0x2739d3[_0xd5ae76*(0x1311*0x1+0x139c+0x13*-0x209)+(-0x12b8+0x1357*0x1+-0x9e)]),_0x3108e7['set'](_0x2739d3[_0x205708*(0x185*0xf+-0x19db*0x1+-0x312*-0x1)],_0x2739d3[_0x205708*(-0x10df+0x8a2*0x3+-0x905)+(-0x1c9+0x1*0x17dd+-0x1613)]),_0x38d94a['set'](_0x2739d3[_0x553d60*(-0x2*-0x551+0xfdd+-0x1a7d*0x1)],_0x2739d3[_0x553d60*(0x19cb*-0x1+-0x10b9+0x2a86)+(0xa*0x1f1+-0x20*0x72+-0x529)]);const _0xd46570=_0x18c46e['x']-_0x4dab19['x'],_0x2ac7a9=_0x252be1['x']-_0x4dab19['x'],_0xe22c49=_0x18c46e['y']-_0x4dab19['y'],_0x59891d=_0x252be1['y']-_0x4dab19['y'],_0x2d2f63=_0x18c46e['z']-_0x4dab19['z'],_0x144149=_0x252be1['z']-_0x4dab19['z'],_0x204d97=_0x3108e7['x']-_0x100871['x'],_0x218f89=_0x38d94a['x']-_0x100871['x'],_0x1b6d24=_0x3108e7['y']-_0x100871['y'],_0x1e8c6b=_0x38d94a['y']-_0x100871['y'],_0x8bd0af=_0x204d97*_0x1e8c6b-_0x218f89*_0x1b6d24;if(_0x8bd0af===0x191e+0x2217+-0x293*0x17)_0x2b2ec3['set'](0x9d*0x9+0x778+-0x23*0x5f,-0x1*-0x10eb+0x2b*-0x96+0x28*0x35,-0x8b*-0x2c+0xd3a*-0x1+-0x1e*0x5b),_0x2e9455['set'](-0x21d6+0x923+0x2*0xc5a,0x1608+-0x3*0xc6d+0xf3f*0x1,0x203*-0x1+0x190e+0x1*-0x170b);else{const _0x590fe6=(0x1*-0x10d3+0x1*-0x4cf+-0x15a3*-0x1)/_0x8bd0af;_0x2b2ec3['set']((_0x1e8c6b*_0xd46570-_0x1b6d24*_0x2ac7a9)*_0x590fe6,(_0x1e8c6b*_0xe22c49-_0x1b6d24*_0x59891d)*_0x590fe6,(_0x1e8c6b*_0x2d2f63-_0x1b6d24*_0x144149)*_0x590fe6),_0x2e9455['set']((_0x204d97*_0x2ac7a9-_0x218f89*_0xd46570)*_0x590fe6,(_0x204d97*_0x59891d-_0x218f89*_0xe22c49)*_0x590fe6,(_0x204d97*_0x144149-_0x218f89*_0x2d2f63)*_0x590fe6);}_0x316823[_0xd5ae76*(0x3bb+0x2cd*0xd+-0x2821)+(-0x1e5*-0xd+0x1cd1*0x1+-0x3572)]+=_0x2b2ec3['x'],_0x316823[_0xd5ae76*(0x2*-0x12ad+0x36*-0x67+-0x7*-0x871)+(0x2f0+-0x7f4*-0x2+-0x12d7)]+=_0x2b2ec3['y'],_0x316823[_0xd5ae76*(0x1d5f+-0x8a0+-0x4*0x52f)+(-0x21f2+-0x180e+0x3a02)]+=_0x2b2ec3['z'],_0x316823[_0x205708*(-0x1c01*-0x1+0x9ff*0x2+-0x2ffc)+(0x267a+0x431*-0x1+-0x83*0x43)]+=_0x2b2ec3['x'],_0x316823[_0x205708*(-0x328+0xffd*-0x1+-0x1*-0x1328)+(-0xe35+-0x34*-0x83+-0xc66)]+=_0x2b2ec3['y'],_0x316823[_0x205708*(-0x135d+-0x962*0x1+-0x2*-0xe61)+(-0xe34*0x1+0x14a3*0x1+-0x7*0xeb)]+=_0x2b2ec3['z'],_0x316823[_0x553d60*(0x1fcd*-0x1+0xb1+0x101*0x1f)+(0x719+0x1969+-0x2082)]+=_0x2b2ec3['x'],_0x316823[_0x553d60*(-0x23d0+-0x8df+0x2cb2*0x1)+(0x18e9*0x1+0x5e*0x51+-0x36a6)]+=_0x2b2ec3['y'],_0x316823[_0x553d60*(-0x9fb*-0x3+-0x1a9f+-0x34f)+(0xa*0x2fe+0xd5b+0x3ef*-0xb)]+=_0x2b2ec3['z'],_0x4557eb[_0xd5ae76*(0x1a4d*-0x1+0x14e1+-0x1*-0x56f)+(-0x1797+-0xb1f+-0x2*-0x115b)]+=_0x2e9455['x'],_0x4557eb[_0xd5ae76*(-0x1*-0x626+-0x10da+0xab7)+(0x187f+0x1e0c+-0x368a)]+=_0x2e9455['y'],_0x4557eb[_0xd5ae76*(-0x81b+-0xc64+0x1482)+(-0x2*0x10d2+-0x27d+0x2423*0x1)]+=_0x2e9455['z'],_0x4557eb[_0x205708*(0x1*-0x1391+0x180f+-0x47b)+(-0x1eb4+0x716*-0x3+0x33f6)]+=_0x2e9455['x'],_0x4557eb[_0x205708*(-0x379+-0x5*0x568+0x1e84)+(-0x1*0xb93+0x3*0x4d3+-0x2e5)]+=_0x2e9455['y'],_0x4557eb[_0x205708*(0x72f*-0x3+0x9*0x2dd+-0x435)+(0xb*0x375+-0xd02+-0x1903)]+=_0x2e9455['z'],_0x4557eb[_0x553d60*(0x1a69*0x1+-0x1*-0xd31+-0x2797)+(-0x151a+0x2141+-0xc27)]+=_0x2e9455['x'],_0x4557eb[_0x553d60*(0x1*0x13d9+0x122c*-0x2+0x2*0x841)+(-0x991*-0x1+-0x1*-0x12a4+-0xa*0x2d2)]+=_0x2e9455['y'],_0x4557eb[_0x553d60*(-0x18c1+0x14d0+-0xfd*-0x4)+(0x16a5+-0xe9*-0xd+0x89e*-0x4)]+=_0x2e9455['z'];}const _0x2f8cc8=new T(),_0x1b021c=new T(),_0x4fa780=new T(),_0x4188c5=new T();for(let _0x245e48=-0xc42+0xfef*0x1+-0x1*0x3ad;_0x245e48<_0x589606;_0x245e48++){_0x4fa780['set'](_0x43df0e[_0x245e48*(-0x2020+-0x7*0x63+0x22d8)],_0x43df0e[_0x245e48*(-0x51b*0x1+0x15c9+0x1*-0x10ab)+(-0xa*-0x3+-0x1758+-0x13*-0x139)],_0x43df0e[_0x245e48*(-0x3*-0x25f+-0x1ef5+0x1*0x17db)+(0x1*0x4a2+0x18c6+0x47*-0x6a)]),_0x2f8cc8['set'](_0x316823[_0x245e48*(-0x2f3*-0x1+0xbf*-0xd+0x6c3)],_0x316823[_0x245e48*(0x11f9*0x1+-0x1dc9*-0x1+-0x1*0x2fbf)+(0x146a+0x12cb+-0x2734)],_0x316823[_0x245e48*(0x179b+-0x1*-0x1e7+-0x6b*0x3d)+(-0x5d7+-0xd*0x5f+-0x1*-0xaac)]),_0x1b021c['set'](_0x4557eb[_0x245e48*(0x1f86+-0x1397+-0xbec)],_0x4557eb[_0x245e48*(-0x1bd6+0x4*-0x92b+0x4085)+(0x2f3*0x9+0x7d0+-0x225a)],_0x4557eb[_0x245e48*(0x133b*-0x2+-0x28*-0x35+-0x1e31*-0x1)+(0x83*-0x2b+0x1278+0x38b)]);const _0x311e51=_0x4fa780['dot'](_0x2f8cc8);_0x4188c5['copy'](_0x4fa780)['mulScalar'](_0x311e51),_0x4188c5['sub2'](_0x2f8cc8,_0x4188c5)['normalize'](),_0x4f50c5[_0x245e48*(0x1*-0x26fa+0x34c+0x23b2)]=_0x4188c5['x'],_0x4f50c5[_0x245e48*(-0x4*0x7e8+0xbc2*0x1+0x2*0x9f1)+(0x1704+0x1bf+-0x18c2)]=_0x4188c5['y'],_0x4f50c5[_0x245e48*(0xe2c+-0x207*-0x11+-0x309f)+(-0x151b*-0x1+0x13d4+-0x28ed)]=_0x4188c5['z'],_0x4188c5['cross'](_0x4fa780,_0x2f8cc8),_0x4f50c5[_0x245e48*(0x1*-0x1f7e+-0x701+0x2683)+(-0x33*-0x8b+0x2b2+-0x1e60)]=_0x4188c5['dot'](_0x1b021c)<0x13*0x71+0xee8*0x2+-0x2633?-(-0x1afb*-0x1+-0xdf9+-0xd01):0x1*0x1fa1+0x1*0x16bd+0x3*-0x121f;}return _0x4f50c5;};class pn{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=k0(this['positions'],this['indices']);}['calculateT'+'angents'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),v['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const $u=(-0x4d6+0x1*0x12c9+-0xdef)/(-0x2*0xd4e+-0x465+0x1f41),L_=0x275+0x1d7e+-0x1ff2-$u*(-0x1ad1+-0x1635+0x3*0x1058);class Wu extends pn{constructor(_0xa6cd3e={}){super();const _0x525890=_0xa6cd3e['halfExtent'+'s']??new T(-0xc29*-0x3+0x43*-0x21+0x9*-0x318+0.5,-0x1*0x11a7+-0x9b0+0x1b57+0.5,0x15*-0x76+-0x92f*0x1+0x12dd*0x1+0.5),_0x2d198c=_0xa6cd3e['widthSegme'+'nts']??-0x20cb+-0x1a9d+0xe3*0x43,_0x5c07c0=_0xa6cd3e['lengthSegm'+'ents']??0x749+-0xb11*-0x2+0xa*-0x2f1,_0x28ac54=_0xa6cd3e['heightSegm'+'ents']??-0x450+0x13c*0x15+-0x159b,_0x6f2a5=_0xa6cd3e['yOffset']??0x3*-0x5f1+-0x26c1+0x3894,_0x3f37b0=-_0x525890['y']+_0x6f2a5,_0x284695=_0x525890['y']+_0x6f2a5,_0x5e687d=[new T(-_0x525890['x'],_0x3f37b0,_0x525890['z']),new T(_0x525890['x'],_0x3f37b0,_0x525890['z']),new T(_0x525890['x'],_0x284695,_0x525890['z']),new T(-_0x525890['x'],_0x284695,_0x525890['z']),new T(_0x525890['x'],_0x3f37b0,-_0x525890['z']),new T(-_0x525890['x'],_0x3f37b0,-_0x525890['z']),new T(-_0x525890['x'],_0x284695,-_0x525890['z']),new T(_0x525890['x'],_0x284695,-_0x525890['z'])],_0xc50479=[[0x23b*-0xb+0x2706+-0xe7d*0x1,0x764+-0x229*0xd+-0x6*-0x373,-0x1a01+-0x1*0x180a+-0x2*-0x1907],[-0x107e*0x1+0x8f8+0x78a,-0x2602+-0x5c5+0x2bcc,-0x191b+0x1550+-0x1e9*-0x2],[-0x1484+0x1*-0x1ef7+-0xa9*-0x4e,0x1*0x2c9+-0x1a06+0x173f*0x1,-0xe5*0x1+-0x113b*0x1+0x65*0x2e],[-0x23f9+-0x2*0x425+0x2c44,0x1523*-0x1+-0x253a+-0xdf*-0x43,0x487*0x1+0x13ed*0x1+-0x1870],[-0x1c*-0x5+0xc59*-0x2+0x1827,-0x4*-0x154+0x15*-0x16+-0x37e,0x1b7e+0x706+-0x2282],[0x1a9d+0x2a*-0x73+-0x2b*0x2e,0xae9*0x1+-0x236*0x5+0x25,0x5cd+-0x16e5+-0xe*-0x139]],_0x4ef54f=[[-0x27*-0x63+0x770*-0x5+0x1*0x161b,0xa57+-0x1fc9+0x5*0x44a,-0x1660+0xbf*-0x1+0x1720],[-0x991+0x17*0x8a+0x1*-0x2d5,-0x1015*0x1+0x203*-0x5+0x1a24*0x1,-(-0xdf*0xe+0x7*0x2de+-0x9b*0xd)],[-0x214b+-0x3*0xb8d+-0xd*-0x53a,-0x79d+0xad3*0x1+-0x335,-0xb*-0x30a+0x22af+0x149*-0x35],[-0x7a5+-0x1a4c+0x21f1,-(-0x1c0d*0x1+-0x2523+0x4131),-0x3c1*0x4+-0x1*-0x247e+-0x1*0x157a],[-0x1*0x14cb+0x2c6*0x5+0x6ee,0x100f*0x2+0x142f+0x3*-0x116f,-0x1*-0x31d+0x2d8+0x5f5*-0x1],[-(0xced+0x1fcc+0x35*-0xd8),-0x1100+0x362*0x7+-0x6ae,0x4*0x3af+0x1*0x1982+0x65*-0x66]],_0xadf63a={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x313306=[],_0x44b9f5=[],_0x274969=[],_0xdb70a2=[];let _0x4d4cbe=-0xbbd+0x1c5a+0x109d*-0x1;const _0x17a17c=(_0x1b5fe8,_0x299dfc,_0x1f0bac)=>{const _0x1e907c=new T(),_0x3fb62b=new T(),_0x10b548=new T(),_0x3b1e88=new T();for(let _0xf5d9f4=0x169b+-0x6a1+0x2*-0x7fd;_0xf5d9f4<=_0x299dfc;_0xf5d9f4++)for(let _0x455223=0x1*-0x1f6f+-0x6ad+0x261c;_0x455223<=_0x1f0bac;_0x455223++){_0x1e907c['lerp'](_0x5e687d[_0xc50479[_0x1b5fe8][-0x1783+0x149a*0x1+-0x1*-0x2e9]],_0x5e687d[_0xc50479[_0x1b5fe8][-0x18dd+-0xb*0x147+-0x1b*-0x171]],_0xf5d9f4/_0x299dfc),_0x3fb62b['lerp'](_0x5e687d[_0xc50479[_0x1b5fe8][0x5fc+0x24ec+-0x2ae8]],_0x5e687d[_0xc50479[_0x1b5fe8][0x155+-0x1eca+0x1d77*0x1]],_0x455223/_0x1f0bac),_0x10b548['sub2'](_0x3fb62b,_0x5e687d[_0xc50479[_0x1b5fe8][0x1e6a+-0x10dc+-0xa*0x15b]]),_0x3b1e88['add2'](_0x1e907c,_0x10b548);let _0x16c7c9=_0xf5d9f4/_0x299dfc,_0x225d66=_0x455223/_0x1f0bac;_0x313306['push'](_0x3b1e88['x'],_0x3b1e88['y'],_0x3b1e88['z']),_0x44b9f5['push'](_0x4ef54f[_0x1b5fe8][0x81e+-0x4*-0xda+-0xb86],_0x4ef54f[_0x1b5fe8][0x1*0x255a+0x637+-0x2b90],_0x4ef54f[_0x1b5fe8][-0x1cfc*-0x1+0x1*-0x595+-0x71*0x35]),_0x274969['push'](_0x16c7c9,-0x3*0xab5+-0x385*0x7+-0x529*-0xb-_0x225d66),_0x16c7c9=_0x16c7c9*L_+$u,_0x225d66=_0x225d66*L_+$u,_0x16c7c9/=0x1*-0x16f1+0x4*-0x14+0x1744,_0x225d66/=0x1313*0x1+-0x1dc4+0xab4,_0x16c7c9+=_0x1b5fe8%(-0x12b0+0x1b56+-0x8a3)/(-0xd55*-0x1+-0x161e+-0x2*-0x466),_0x225d66+=Math['floor'](_0x1b5fe8/(-0x19*0x168+-0x17a*-0x4+0x1d43))/(0x268d+0x242f*-0x1+-0x25b),_0xf5d9f4<_0x299dfc&&_0x455223<_0x1f0bac&&(_0xdb70a2['push'](_0x4d4cbe+_0x1f0bac+(0xca8+0x152a+-0xb*0x313),_0x4d4cbe+(-0xeea+0xcac+0x23f),_0x4d4cbe),_0xdb70a2['push'](_0x4d4cbe+_0x1f0bac+(0x198b+0x336+-0x1cc0),_0x4d4cbe+_0x1f0bac+(0x219c+0x239+-0x23d3),_0x4d4cbe+(0x10a9+0xeca+-0x1f72))),_0x4d4cbe++;}};_0x17a17c(_0xadf63a['FRONT'],_0x2d198c,_0x28ac54),_0x17a17c(_0xadf63a['BACK'],_0x2d198c,_0x28ac54),_0x17a17c(_0xadf63a['TOP'],_0x2d198c,_0x5c07c0),_0x17a17c(_0xadf63a['BOTTOM'],_0x2d198c,_0x5c07c0),_0x17a17c(_0xadf63a['RIGHT'],_0x5c07c0,_0x28ac54),_0x17a17c(_0xadf63a['LEFT'],_0x5c07c0,_0x28ac54),this['positions']=_0x313306,this['normals']=_0x44b9f5,this['uvs']=_0x274969,this['uvs1']=_0x274969,this['indices']=_0xdb70a2,_0xa6cd3e['calculateT'+'angents']&&(this['tangents']=fr(_0x313306,_0x44b9f5,_0x274969,_0xdb70a2));}}class B0 extends pn{constructor(_0x916fe6={}){super();const _0x3c8125=_0x916fe6['radius']??-0x9*0x263+0x64*-0xb+-0x19c7*-0x1+0.5,_0xe0b1d2=_0x916fe6['latitudeBa'+'nds']??-0xedd+0x8b9+0x634,_0x5c79c7=_0x916fe6['longitudeB'+'ands']??0x517*0x4+-0x1ad0+0x22c*0x3,_0xfb92e0=[],_0x5bf321=[],_0x5e05df=[],_0x4cd574=[];for(let _0x102ec4=-0x1*-0x22f7+-0xbe3+-0x1714;_0x102ec4<=_0xe0b1d2;_0x102ec4++){const _0x4d126b=_0x102ec4*Math['PI']/_0xe0b1d2,_0x5c03a2=Math['sin'](_0x4d126b),_0x259d90=Math['cos'](_0x4d126b);for(let _0x162885=-0x1*0x757+-0x13*-0x20c+-0xc5*0x29;_0x162885<=_0x5c79c7;_0x162885++){const _0x4d62b0=_0x162885*(0x2f1*-0x4+-0x232a+0x2ef0)*Math['PI']/_0x5c79c7-Math['PI']/(-0xb*0x1c1+-0x241a*0x1+0x3767),_0x8c941d=Math['sin'](_0x4d62b0),_0x1bc85f=Math['cos'](_0x4d62b0)*_0x5c03a2,_0x518d91=_0x259d90,_0x20bd86=_0x8c941d*_0x5c03a2,_0x2ed060=0x1b7d*-0x1+0x1*0xe49+0xd35-_0x162885/_0x5c79c7,_0x1fe606=0x955+-0x13*-0x1bd+-0x2a5b-_0x102ec4/_0xe0b1d2;_0xfb92e0['push'](_0x1bc85f*_0x3c8125,_0x518d91*_0x3c8125,_0x20bd86*_0x3c8125),_0x5bf321['push'](_0x1bc85f,_0x518d91,_0x20bd86),_0x5e05df['push'](_0x2ed060,-0x1771*-0x1+-0x55*-0x27+0x26d*-0xf-_0x1fe606);}}for(let _0x330eab=-0x13e+-0x124d+0x138b;_0x330eab<_0xe0b1d2;++_0x330eab)for(let _0x4294ba=0x7b1+-0x1da0+0x15ef;_0x4294ba<_0x5c79c7;++_0x4294ba){const _0x28e133=_0x330eab*(_0x5c79c7+(-0x1b74+0x5*-0x13d+0x21a6))+_0x4294ba,_0x3d9e96=_0x28e133+_0x5c79c7+(0xe06+-0x16*-0x13d+-0x2943);_0x4cd574['push'](_0x28e133+(-0x1ff7*0x1+0x14ed+0xb0b),_0x3d9e96,_0x28e133),_0x4cd574['push'](_0x28e133+(0x14*0x4f+-0xa6*0x2+-0x1d*0x2b),_0x3d9e96+(0x2b*-0xc8+-0x9f5+0x2b8e),_0x3d9e96);}this['positions']=_0xfb92e0,this['normals']=_0x5bf321,this['uvs']=_0x5e05df,this['uvs1']=_0x5e05df,this['indices']=_0x4cd574,_0x916fe6['calculateT'+'angents']&&(this['tangents']=fr(_0xfb92e0,_0x5bf321,_0x5e05df,_0x4cd574));}}class p1 extends B0{constructor(_0x486284={}){const _0x31cd90=_0x486284['latitudeBa'+'nds']??-0x3b9+0x1*-0x8ad+0x1*0xc76,_0x14e612=_0x486284['longitudeB'+'ands']??0x1a18+0x2596+0x2*-0x1fcf;super({'radius':0.5,'latitudeBands':_0x31cd90,'longitudeBands':_0x14e612});const _0x1ed206=-0x1*-0x216a+0x213*0x3+-0x27a3+0.1,_0x57feda=-0x1267+-0x4d9*0x8+0x392f*0x1+0.95,_0x567a5d=_0x57feda*_0x57feda,_0x21fb77=this['positions'];for(let _0x8dddf7=0x1*-0x128f+0x883*-0x4+-0xc9*-0x43;_0x8dddf7<_0x21fb77['length'];_0x8dddf7+=0x468+-0xbec+0x787){const _0x49863c=_0x21fb77[_0x8dddf7]/(0x15a8+0x2*0x10c+0xbe*-0x20+0.5);let _0x56d591=_0x21fb77[_0x8dddf7+(-0x6*0x8+0x7*0x45e+-0x1e61)]/(0x47*-0x67+0x1*0x15b7+-0x1*-0x6da+0.5);const _0x95495d=_0x21fb77[_0x8dddf7+(0x16*-0x107+-0x67*-0x53+0xac9*-0x1)]/(-0x407*0x1+-0xa53*-0x1+0x7c*-0xd+0.5);_0x56d591<-0xb*0x1d+-0x1*0x26e9+0x2828&&(_0x56d591*=-0x121*0xa+-0x144f*0x1+-0x1f99*-0x1+0.3,_0x49863c*_0x49863c+_0x95495d*_0x95495d<_0x567a5d&&(_0x56d591=-(0x15f1+0x1*-0x1091+-0x158*0x4+0.1))),_0x56d591+=_0x1ed206,_0x56d591*=-0x23c3+0x237e+-0x1*-0x45+0.5,_0x21fb77[_0x8dddf7+(0x2412+-0x5*0x73d+0x1*0x20)]=_0x56d591;}}}class So{static['create'](_0x216ea4,_0x23ab26){switch(_0x23ab26){case tw:return So['box'](_0x216ea4);case sw:return So['dome'](_0x216ea4);}return v['assert'](_0x23ab26===xo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x23ab26),So['infinite'](_0x216ea4);}static['infinite'](_0xf8c933){return Ie['fromGeomet'+'ry'](_0xf8c933,new Wu(_0xf8c933));}static['box'](_0x3c5cc9){return Ie['fromGeomet'+'ry'](_0x3c5cc9,new Wu({'yOffset':0.5}));}static['dome'](_0x8cfe00){const _0x45ded0=new p1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x45ded0['normals']=void(-0x56*-0x13+0x25*-0x1a+0x30*-0xe),_0x45ded0['uvs']=void(-0x21a1+0xa3c+0x1765),Ie['fromGeomet'+'ry'](_0x8cfe00,_0x45ded0);}}class m1{constructor(_0x55fd60,_0x56eb97,_0x4c0e5a,_0x39bc85,_0x687639){c(this,'meshInstan'+'ce',null);const _0x525349=new Ra({'uniqueName':'SkyMateria'+'l','vertexCode':X['skyboxVS'],'fragmentCode':X['skyboxPS'],'attributes':{'aPosition':He}});_0x525349['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Es['decodeFunc'](_0x39bc85['encoding'])),_0x687639!==xo&&_0x525349['setDefine']('SKYMESH',''),_0x39bc85['cubemap']&&_0x525349['setDefine']('SKY_CUBEMA'+'P',''),_0x525349['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x56eb97['skyboxHigh'+'lightMulti'+'plier']),_0x39bc85['cubemap']?_0x525349['setParamet'+'er']('texture_cu'+'beMap',_0x39bc85):(_0x525349['setParamet'+'er']('texture_en'+'vAtlas',_0x39bc85),_0x525349['setParamet'+'er']('mipLevel',_0x56eb97['skyboxMip'])),_0x525349['cull']=mo,_0x525349['depthWrite']=!(0x1*0x1435+-0x160c+0x1d8);const _0x16fe9b=_0x56eb97['layers']['getLayerBy'+'Id'](vp);if(_0x16fe9b){const _0x5d8715=So['create'](_0x55fd60,_0x687639),_0x2ac381=new Le(_0x5d8715,_0x525349,_0x4c0e5a);this['meshInstan'+'ce']=_0x2ac381,_0x2ac381['cull']=!(0x1*0x1d83+-0x1*0xd23+-0x3*0x575),_0x2ac381['pick']=!(0x1bf1+-0x1cd6+0xe6),_0x16fe9b['addMeshIns'+'tances']([_0x2ac381]),this['skyLayer']=_0x16fe9b;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class _1{constructor(_0x1c886d){c(this,'_type',xo),c(this,'_center',new T(0x26fe+-0x1605+-0x10f9,-0x5*0x757+-0x1bd0+0x4084,-0xf96+0xb47+0x44f)),c(this,'skyMesh',null),c(this,'node',new De('SkyMeshNod'+'e')),(this['device']=_0x1c886d['device'],this['scene']=_0x1c886d,this['center']=new T(-0x481*-0x2+-0x1dc2+0x14c0,0x2002+-0x1*-0x86+-0x2087,-0x1*0xa44+0x1254+0x8*-0x102),this['centerArra'+'y']=new Float32Array(-0xc3c+-0x12a9+0xb8*0x2b),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0xdcba88){this['type']=_0xdcba88['skyType']??xo,this['node']['setLocalPo'+'sition'](new T(_0xdcba88['skyMeshPos'+'ition']??[-0x1a5c+-0x781+-0x21dd*-0x1,0x95*-0x29+-0x262f+0x1f06*0x2,0xd37+0x1*-0x671+-0x6c6])),this['node']['setLocalEu'+'lerAngles'](new T(_0xdcba88['skyMeshRot'+'ation']??[-0xffb+-0x795*0x1+0x2*0xbc8,0x19*-0x14a+0x11d4+0xe66,-0x313*0x6+0x473*0x6+-0x16*0x60])),this['node']['setLocalSc'+'ale'](new T(_0xdcba88['skyMeshSca'+'le']??[-0x298*-0xa+0xa61*-0x1+-0x16*0xb5,-0x4f*-0x4f+0x1e3f+-0x1*0x369f,-0x70d+-0xb*0x2c5+0x2585])),_0xdcba88['skyCenter']&&(this['_center']=new T(_0xdcba88['skyCenter']));}set['type'](_0xd647a9){this['_type']!==_0xd647a9&&(this['_type']=_0xd647a9,this['scene']['updateShad'+'ers']=!(0x1681+0xa*-0x3bb+0x9*0x1a5),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x29fe54){this['_center']['copy'](_0x29fe54);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x2f7462=this['scene']['_getSkybox'+'Tex']();_0x2f7462&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new m1(this['device'],this['scene'],this['node'],_0x2f7462,this['type']),this['scene']['fire']('set:skybox',_0x2f7462));}['resetSkyMe'+'sh'](){var _0x217c32;(_0x217c32=this['skyMesh'])==null||_0x217c32['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==xo){const {center:_0x5bc0de,centerArray:_0x3f1727}=this,_0xeffa5=new T();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x5bc0de,_0xeffa5),_0x3f1727[0x490*-0x5+0x4ed+0x11e3]=_0xeffa5['x'],_0x3f1727[0xe8a+-0x1b*0x49+-0x5*0x15e]=_0xeffa5['y'],_0x3f1727[-0x1d99+0x1*-0x198d+0xa*0x584]=_0xeffa5['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x3f1727);}}}const Hh=new De();Hh['worldTrans'+'form']=q['IDENTITY'],Hh['_dirtyWorl'+'d']=Hh['_dirtyNorm'+'al']=!(-0x957+0x1e4*0x6+0x100*-0x2);class g1{constructor(_0x31d75c,_0x292843,_0x2251d5){this['material']=_0x292843,this['layer']=_0x2251d5,this['positions']=[],this['colors']=[],this['mesh']=new Ie(_0x31d75c),this['meshInstan'+'ce']=null;}['addLines'](_0x4723bc,_0x1ebfd9){const _0x3ef32a=this['positions'],_0x260742=_0x4723bc['length'];for(let _0x121d65=-0x2*-0x4+0xcc5*-0x1+0xcbd;_0x121d65<_0x260742;_0x121d65++){const _0x256441=_0x4723bc[_0x121d65];_0x3ef32a['push'](_0x256441['x'],_0x256441['y'],_0x256441['z']);}const _0x3a65bc=this['colors'];if(_0x1ebfd9['length'])for(let _0x11c8e0=-0x7e8+0x23a6+-0x1bbe;_0x11c8e0<_0x260742;_0x11c8e0++){const _0x45e697=_0x1ebfd9[_0x11c8e0];_0x3a65bc['push'](_0x45e697['r'],_0x45e697['g'],_0x45e697['b'],_0x45e697['a']);}else{for(let _0x4b48ed=0xbeb*-0x2+-0x12f8+0x2ace;_0x4b48ed<_0x260742;_0x4b48ed++)_0x3a65bc['push'](_0x1ebfd9['r'],_0x1ebfd9['g'],_0x1ebfd9['b'],_0x1ebfd9['a']);}}['addLinesAr'+'rays'](_0x5379b6,_0x364b31){const _0x2019f=this['positions'];for(let _0x540b37=-0x1128+-0x2123+0x67*0x7d;_0x540b37<_0x5379b6['length'];_0x540b37+=0x1b0f+0x5*0x27b+0x1*-0x2773)_0x2019f['push'](_0x5379b6[_0x540b37],_0x5379b6[_0x540b37+(-0x1*0x2449+0x5f9*-0x6+0x482*0x10)],_0x5379b6[_0x540b37+(-0x16*0x8a+0x19d5+-0xdf7)]);const _0x373bae=this['colors'];if(_0x364b31['length']){for(let _0x3c7ab5=0x12fb*0x1+-0x308*0x6+0x1*-0xcb;_0x3c7ab5<_0x364b31['length'];_0x3c7ab5+=0x3e+-0xa43+0xa09)_0x373bae['push'](_0x364b31[_0x3c7ab5],_0x364b31[_0x3c7ab5+(-0x105*-0x1f+0x775+-0x270f)],_0x364b31[_0x3c7ab5+(-0x2373+-0x4f*0x53+0x3d12)],_0x364b31[_0x3c7ab5+(0x1*0xd31+-0x18bf+0xb91)]);}else{const _0x113c8a=_0x5379b6['length']/(0x2155+0x204f+0x1*-0x41a1);for(let _0x2176bf=0x71c+0x1*0x1b85+0x3d9*-0x9;_0x2176bf<_0x113c8a;_0x2176bf++)_0x373bae['push'](_0x364b31['r'],_0x364b31['g'],_0x364b31['b'],_0x364b31['a']);}}['onPreRende'+'r'](_0x112cd7,_0x205d6f){this['positions']['length']>0x3*-0xaad+0x73a+0x18cd&&this['material']['transparen'+'t']===_0x205d6f&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Pc,!(0x2*-0xecb+0x1612+0x785)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Le(this['mesh'],this['material'],Hh)),_0x112cd7['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x10*0x15e+-0x3*0x469+-0x231b*-0x1,this['colors']['length']=-0x154a+0x2132+-0xbe8;}}class y1{constructor(_0x7545f1){this['device']=_0x7545f1,this['map']=new Map();}['getBatch'](_0x19d78c,_0x321618){let _0x2b9df1=this['map']['get'](_0x19d78c);return _0x2b9df1||(_0x2b9df1=new g1(this['device'],_0x19d78c,_0x321618),this['map']['set'](_0x19d78c,_0x2b9df1)),_0x2b9df1;}['onPreRende'+'r'](_0x3768ad,_0x9268e6){this['map']['forEach'](_0x5a1d55=>{_0x5a1d55['onPreRende'+'r'](_0x3768ad,_0x9268e6);});}['clear'](){this['map']['forEach'](_0x594cb7=>_0x594cb7['clear']());}}const Jt=[],Ln=new T(),x1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':He,'vertex_color':At}};class S1{constructor(_0x2c6325){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x2c6325,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x142211){const _0x29c318=new Ra(x1);return _0x29c318['blendType']=Kt,_0x29c318['depthTest']=_0x142211,_0x29c318['update'](),_0x29c318;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0x53d+-0xf44*-0x2+-0x194b))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0xf3*-0x14+-0xc95*0x3+0x1c5e*0x2))),this['_materialN'+'oDepth'];}['getBatch'](_0x575292,_0x55cb0c){let _0x21d0f3=this['batchesMap']['get'](_0x575292);_0x21d0f3||(_0x21d0f3=new y1(this['device']),this['batchesMap']['set'](_0x575292,_0x21d0f3)),this['allBatches']['add'](_0x21d0f3);const _0x4dcefe=_0x55cb0c?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x21d0f3['getBatch'](_0x4dcefe,_0x575292);}['getShaderD'+'esc'](_0x2b4949,_0x1b8f21){return this['shaderDesc'+'s']['has'](_0x2b4949)||this['shaderDesc'+'s']['set'](_0x2b4949,{'uniqueName':'DebugShade'+'r:'+_0x2b4949,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x1b8f21,'attributes':{'vertex_position':He}}),this['shaderDesc'+'s']['get'](_0x2b4949);}['getTexture'+'ShaderDesc'](_0x13e7e1){const _0x3f4956=Es['decodeFunc'](_0x13e7e1);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x13e7e1,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x3f4956+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+X['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ie(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x1*0x1e23+0x1*0x1948+0x4db+0.5),-(0x2*-0x77+-0x8d9+-0x9c7*-0x1+0.5),-0xbb9+-0x15c5*0x1+0x217e,0x7*0x2e1+0x3*-0xf5+-0x7*0x278+0.5,-(-0x3*0x20f+0xbbe*-0x1+0x11eb+0.5),0x1*-0x1f78+-0x8e*0x44+0x9*0x7b0,-(-0x1ca5+-0x1170+0x2e15+0.5),0xb27+-0x17a9+0x2*0x641+0.5,0x2160+-0x5e9*-0x6+0x21*-0x216,-0x112b+-0xe07*0x1+0x16*0x16b+0.5,0x68b*0x5+-0x447*-0x3+0x6a*-0x6e+0.5,-0x1*0x254d+0x19a2*0x1+0xbab]),this['quadMesh']['update'](ar)),this['quadMesh'];}['drawMesh'](_0x12b9c5,_0x188bc7,_0x10a685,_0x4b1c1a,_0x745bd1){if(!_0x4b1c1a){const _0x440c88=this['getGraphNo'+'de'](_0x188bc7);_0x4b1c1a=new Le(_0x10a685,_0x12b9c5,_0x440c88);}let _0x439a3c=this['layerMeshI'+'nstances']['get'](_0x745bd1);_0x439a3c||(_0x439a3c=[],this['layerMeshI'+'nstances']['set'](_0x745bd1,_0x439a3c)),_0x439a3c['push'](_0x4b1c1a);}['drawWireAl'+'ignedBox'](_0xd3448d,_0x121191,_0x390266,_0x405011,_0x39cf2e,_0x1f8d78){if(_0x1f8d78){const _0x4578aa=(_0x5c6f70,_0x25e5f1,_0x2d5711)=>{Ln['set'](_0x5c6f70,_0x25e5f1,_0x2d5711),_0x1f8d78['transformP'+'oint'](Ln,Ln),Jt['push'](Ln['x'],Ln['y'],Ln['z']);};_0x4578aa(_0xd3448d['x'],_0xd3448d['y'],_0xd3448d['z']),_0x4578aa(_0xd3448d['x'],_0x121191['y'],_0xd3448d['z']),_0x4578aa(_0xd3448d['x'],_0x121191['y'],_0xd3448d['z']),_0x4578aa(_0x121191['x'],_0x121191['y'],_0xd3448d['z']),_0x4578aa(_0x121191['x'],_0x121191['y'],_0xd3448d['z']),_0x4578aa(_0x121191['x'],_0xd3448d['y'],_0xd3448d['z']),_0x4578aa(_0x121191['x'],_0xd3448d['y'],_0xd3448d['z']),_0x4578aa(_0xd3448d['x'],_0xd3448d['y'],_0xd3448d['z']),_0x4578aa(_0xd3448d['x'],_0xd3448d['y'],_0x121191['z']),_0x4578aa(_0xd3448d['x'],_0x121191['y'],_0x121191['z']),_0x4578aa(_0xd3448d['x'],_0x121191['y'],_0x121191['z']),_0x4578aa(_0x121191['x'],_0x121191['y'],_0x121191['z']),_0x4578aa(_0x121191['x'],_0x121191['y'],_0x121191['z']),_0x4578aa(_0x121191['x'],_0xd3448d['y'],_0x121191['z']),_0x4578aa(_0x121191['x'],_0xd3448d['y'],_0x121191['z']),_0x4578aa(_0xd3448d['x'],_0xd3448d['y'],_0x121191['z']),_0x4578aa(_0xd3448d['x'],_0xd3448d['y'],_0xd3448d['z']),_0x4578aa(_0xd3448d['x'],_0xd3448d['y'],_0x121191['z']),_0x4578aa(_0xd3448d['x'],_0x121191['y'],_0xd3448d['z']),_0x4578aa(_0xd3448d['x'],_0x121191['y'],_0x121191['z']),_0x4578aa(_0x121191['x'],_0x121191['y'],_0xd3448d['z']),_0x4578aa(_0x121191['x'],_0x121191['y'],_0x121191['z']),_0x4578aa(_0x121191['x'],_0xd3448d['y'],_0xd3448d['z']),_0x4578aa(_0x121191['x'],_0xd3448d['y'],_0x121191['z']);}else Jt['push'](_0xd3448d['x'],_0xd3448d['y'],_0xd3448d['z'],_0xd3448d['x'],_0x121191['y'],_0xd3448d['z'],_0xd3448d['x'],_0x121191['y'],_0xd3448d['z'],_0x121191['x'],_0x121191['y'],_0xd3448d['z'],_0x121191['x'],_0x121191['y'],_0xd3448d['z'],_0x121191['x'],_0xd3448d['y'],_0xd3448d['z'],_0x121191['x'],_0xd3448d['y'],_0xd3448d['z'],_0xd3448d['x'],_0xd3448d['y'],_0xd3448d['z'],_0xd3448d['x'],_0xd3448d['y'],_0x121191['z'],_0xd3448d['x'],_0x121191['y'],_0x121191['z'],_0xd3448d['x'],_0x121191['y'],_0x121191['z'],_0x121191['x'],_0x121191['y'],_0x121191['z'],_0x121191['x'],_0x121191['y'],_0x121191['z'],_0x121191['x'],_0xd3448d['y'],_0x121191['z'],_0x121191['x'],_0xd3448d['y'],_0x121191['z'],_0xd3448d['x'],_0xd3448d['y'],_0x121191['z'],_0xd3448d['x'],_0xd3448d['y'],_0xd3448d['z'],_0xd3448d['x'],_0xd3448d['y'],_0x121191['z'],_0xd3448d['x'],_0x121191['y'],_0xd3448d['z'],_0xd3448d['x'],_0x121191['y'],_0x121191['z'],_0x121191['x'],_0x121191['y'],_0xd3448d['z'],_0x121191['x'],_0x121191['y'],_0x121191['z'],_0x121191['x'],_0xd3448d['y'],_0xd3448d['z'],_0x121191['x'],_0xd3448d['y'],_0x121191['z']);this['getBatch'](_0x39cf2e,_0x405011)['addLinesAr'+'rays'](Jt,_0x390266),Jt['length']=0xd06+0x119e+-0x1ea4;}['drawWireSp'+'here'](_0x4904b7,_0x53398a,_0x5cb31d,_0x8c8ddf,_0x27333b,_0x49c4f7){const _0x3887e2=(-0x3*-0xc41+0xb48+-0x3009)*Math['PI']/_0x8c8ddf;let _0x470840=0x2091+-0x1*-0xeaf+-0x2f40;for(let _0x339e9f=0x1892+-0xfa5+-0x8ed;_0x339e9f<_0x8c8ddf;_0x339e9f++){const _0x1c40e8=Math['sin'](_0x470840),_0x18e358=Math['cos'](_0x470840);_0x470840+=_0x3887e2;const _0x29df35=Math['sin'](_0x470840),_0xb7435b=Math['cos'](_0x470840);Jt['push'](_0x4904b7['x']+_0x53398a*_0x1c40e8,_0x4904b7['y'],_0x4904b7['z']+_0x53398a*_0x18e358),Jt['push'](_0x4904b7['x']+_0x53398a*_0x29df35,_0x4904b7['y'],_0x4904b7['z']+_0x53398a*_0xb7435b),Jt['push'](_0x4904b7['x']+_0x53398a*_0x1c40e8,_0x4904b7['y']+_0x53398a*_0x18e358,_0x4904b7['z']),Jt['push'](_0x4904b7['x']+_0x53398a*_0x29df35,_0x4904b7['y']+_0x53398a*_0xb7435b,_0x4904b7['z']),Jt['push'](_0x4904b7['x'],_0x4904b7['y']+_0x53398a*_0x1c40e8,_0x4904b7['z']+_0x53398a*_0x18e358),Jt['push'](_0x4904b7['x'],_0x4904b7['y']+_0x53398a*_0x29df35,_0x4904b7['z']+_0x53398a*_0xb7435b);}this['getBatch'](_0x49c4f7,_0x27333b)['addLinesAr'+'rays'](Jt,_0x5cb31d),Jt['length']=-0x1*-0x139f+0x698*-0x4+0x6c1*0x1;}['getGraphNo'+'de'](_0x16f0b2){const _0x4e5f73=new De('ImmediateD'+'ebug');return _0x4e5f73['worldTrans'+'form']=_0x16f0b2,_0x4e5f73['_dirtyWorl'+'d']=_0x4e5f73['_dirtyNorm'+'al']=!(0x8c5+-0x2391+0x1acd),_0x4e5f73;}['onPreRende'+'rLayer'](_0x1204f0,_0x451fbe,_0x2eadb2){if(this['batchesMap']['forEach']((_0x1b673f,_0x5afa29)=>{_0x5afa29===_0x1204f0&&_0x1b673f['onPreRende'+'r'](_0x451fbe,_0x2eadb2);}),!this['updatedLay'+'ers']['has'](_0x1204f0)){this['updatedLay'+'ers']['add'](_0x1204f0);const _0x274fe1=this['layerMeshI'+'nstances']['get'](_0x1204f0);if(_0x274fe1){for(let _0x16444a=-0x1bd3*0x1+-0x2529+0x40fc;_0x16444a<_0x274fe1['length'];_0x16444a++)_0x451fbe['push'](_0x274fe1[_0x16444a]);_0x274fe1['length']=0x9*-0x331+0xe*-0x27e+0x5*0xcb9;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x4f3320=>_0x4f3320['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class v1{constructor(){c(this,'type',Fa),c(this,'color',new Y(-0x8*0x269+0x24bd+-0x1175,0x1*0x1929+-0x1*0x808+-0x5*0x36d,0x2549+0x106a*0x2+0x1*-0x461d)),c(this,'density',0x13e2+-0x3c4+0x80f*-0x2),c(this,'start',0xf*0x207+0x27*-0x89+0x1*-0x989),c(this,'end',-0x279*-0xb+0x1*-0x1c06+0x7*0xad);}}class ci extends ce{constructor(_0x2d91df){super(),c(this,'ambientBak'+'e',!(0x1acc+0x9b1*0x2+-0x2e2d)),c(this,'ambientBak'+'eOcclusion'+'Brightness',0x3*0x5bd+-0xc89*0x1+-0x4ae),c(this,'ambientBak'+'eOcclusion'+'Contrast',0x2dd*0xb+0x9*-0xa5+0xcd9*-0x2),c(this,'ambientLig'+'ht',new Y(-0x127*-0xb+-0x2*-0xa61+-0x1b*0x13d,-0x11a*0x10+0x1731*0x1+-0x591,-0x1b4a+0x193a+0x210)),c(this,'ambientLum'+'inance',0x16bd+0x1786+0x1*-0x2e43),c(this,'exposure',-0x180b+0x1f6b+0x1*-0x75f),c(this,'lightmapSi'+'zeMultipli'+'er',-0x18af+-0x19c4+0xc9d*0x4),c(this,'lightmapMa'+'xResolutio'+'n',-0x21f*0x5+0x17fc+0x1cb*-0x3),c(this,'lightmapMo'+'de',ch),c(this,'lightmapFi'+'lterEnable'+'d',!(-0x1*-0x2045+-0x22eb*-0x1+0x31*-0x15f)),c(this,'lightmapHD'+'R',!(0x783+0x3a*0x75+-0x1*0x2204)),c(this,'root',null),c(this,'physicalUn'+'its',!(-0xae7+0x5c2+0x526*0x1)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new v1()),(v['assert'](_0x2d91df,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x2d91df,this['_gravity']=new T(0x597+-0x10fd+0xb66,-(0x1*-0x21d5+0x1*-0x231d+0x44fb*0x1+0.8000000000000007),-0x1*-0x73+-0x299+-0x32*-0xb),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x6*-0x494+-0x1*-0x1f10+0x1*-0x3a87,this['_skyboxLum'+'inance']=-0x2*0x842+-0xf7b+0x1fff,this['_skyboxMip']=0x2e6+-0x1de*0x9+0x14*0xb2,this['_skyboxHig'+'hlightMult'+'iplier']=0xba*0x2f+0x7*-0x28f+-0x1*0x103c,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x287*-0x8+-0x7aa+0x15*-0x99),this['_skyboxRot'+'ation']=new se(),this['_skyboxRot'+'ationMat3']=new js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=0x241c+0x11*0x1d2+0x430d*-0x1,this['_ambientBa'+'keSpherePa'+'rt']=0x69f+-0x238b+-0x3*-0x9a4+0.4,this['_lightmapF'+'ilterRange']=-0x1b91+0xb09+-0x25e*-0x7,this['_lightmapF'+'ilterSmoot'+'hness']=0x178a+0x34*-0x2d+-0xe66+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0x81+-0x74*-0x56+0x2b*-0xe5),this['_lightingP'+'arams']=new L0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0x11*0x19a+0x998+-0x24d2);}),this['_sky']=new _1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(0x6bc*-0x4+0x350*0x6+0x710),this['_shaderVer'+'sion']=0x35*-0x46+0x14cb+-0x64d,this['immediate']=new S1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](bp);}set['ambientBak'+'eNumSample'+'s'](_0x40bda6){this['_ambientBa'+'keNumSampl'+'es']=N['clamp'](Math['floor'](_0x40bda6),0x120b*0x2+-0x21*0xa7+-0x4da*0x3,0x1e0d+0x1*-0x35e+0x19b*-0x10);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x33ee05){this['_ambientBa'+'keSpherePa'+'rt']=N['clamp'](_0x33ee05,0x20c9+0x6*0x539+-0x43*0xf5+0.001,0x1ad3+-0x17bf*0x1+0x1*-0x313);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x1beb6c){if(this['device']['isWebGPU']&&!_0x1beb6c){v['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x1beb6c){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x1beb6c;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x4522e1){_0x4522e1!==this['_envAtlas']&&(this['_envAtlas']=_0x4522e1,_0x4522e1&&(_0x4522e1['addressU']=ae,_0x4522e1['addressV']=ae,_0x4522e1['minFilter']=st,_0x4522e1['magFilter']=st,_0x4522e1['mipmaps']=!(0x5f2*0x2+-0x175*0x5+-0x49a)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x4cd1f9){const _0x278a00=this['_layers'];this['_layers']=_0x4cd1f9,this['fire']('set:layers',_0x278a00,_0x4cd1f9);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x59ecd8){this['_lightmapF'+'ilterRange']=Math['max'](_0x59ecd8,-0x2480+0xc36+-0x184a*-0x1+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x1517f4){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x1517f4,-0x1*0x1b1+-0x86e+0xa1f*0x1+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0xa82eb3){_0xa82eb3=_0xa82eb3||[];const _0x207d99=this['_prefilter'+'edCubemaps'];(_0x207d99['length']!==_0xa82eb3['length']||_0x207d99['some']((_0x13d159,_0x3dfe21)=>_0x13d159!==_0xa82eb3[_0x3dfe21]))&&(_0xa82eb3['length']===-0xdf4+0x36c+-0x182*-0x7&&_0xa82eb3['every'](_0x814cf2=>!!_0x814cf2)?(this['_internalE'+'nvAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0xa82eb3,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0xa82eb3['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x274d34){_0x274d34!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x274d34,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x58b089){_0x58b089!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x58b089,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x248bf1){_0x248bf1!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x248bf1,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x28e64c){_0x28e64c!==this['_skyboxMip']&&(this['_skyboxMip']=_0x28e64c,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x5dde78){_0x5dde78!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x5dde78,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x276e20){if(!this['_skyboxRot'+'ation']['equals'](_0x276e20)){const _0x243095=_0x276e20['equals'](se['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x276e20),_0x243095?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](T['ZERO'],_0x276e20,T['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x243095&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x28*0x1d+0x1*-0x26e+0x6f6),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x248330,_0x1fff16,_0x55e5e6=Y['WHITE'],_0x2e2c11=!(0x56b*0x2+0x3*-0x3e6+0x5*0x2c),_0x25b17b=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x25b17b,_0x2e2c11)['addLines']([_0x248330,_0x1fff16],[_0x55e5e6,_0x55e5e6]);}['drawLines'](_0x28a7b3,_0x1241f9,_0x292ed9=!(-0x1c7f+0x2c9*-0x2+-0x2211*-0x1),_0x3d5206=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x3d5206,_0x292ed9)['addLines'](_0x28a7b3,_0x1241f9);}['drawLineAr'+'rays'](_0x29f7b2,_0x5ab6e5,_0x385cbf=!(-0xcc4+0x21ad+0x14e9*-0x1),_0x472fa3=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x472fa3,_0x385cbf)['addLinesAr'+'rays'](_0x29f7b2,_0x5ab6e5);}['applySetti'+'ngs'](_0x5efab6){const _0x1541a1=_0x5efab6['physics'],_0x11218e=_0x5efab6['render'];this['_gravity']['set'](_0x1541a1['gravity'][0x181b+-0x3*-0xd01+0x6*-0xa85],_0x1541a1['gravity'][-0xff9*-0x1+-0xe7f+0x1*-0x179],_0x1541a1['gravity'][0x55*0x67+0x11*-0x61+-0x1bc0]),this['ambientLig'+'ht']['set'](_0x11218e['global_amb'+'ient'][-0x25db+-0x1c3f+0x421a],_0x11218e['global_amb'+'ient'][0x21f3+0xe54*-0x1+0x9*-0x22e],_0x11218e['global_amb'+'ient'][-0x24cf*-0x1+0x15f+-0x262c]),this['ambientLum'+'inance']=_0x11218e['ambientLum'+'inance'],this['fog']['type']=_0x11218e['fog'],this['fog']['color']['set'](_0x11218e['fog_color'][-0x21*-0x47+-0x17*0x73+0x12e],_0x11218e['fog_color'][-0x1f*-0x6f+0x733+-0x14a3],_0x11218e['fog_color'][0x18e+-0x758*-0x1+-0x8e4*0x1]),this['fog']['start']=_0x11218e['fog_start'],this['fog']['end']=_0x11218e['fog_end'],this['fog']['density']=_0x11218e['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x11218e['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x11218e['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x11218e['lightmapMo'+'de'],this['exposure']=_0x11218e['exposure'],this['_skyboxInt'+'ensity']=_0x11218e['skyboxInte'+'nsity']??0x1*-0x1240+0x2687+-0x1e*0xad,this['_skyboxLum'+'inance']=_0x11218e['skyboxLumi'+'nance']??-0x4087*-0x1+0x7ba6+-0x6e0d,this['_skyboxMip']=_0x11218e['skyboxMip']??0xe3*0x17+-0x12e9*-0x1+-0xd1a*0x3,_0x11218e['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new se()['setFromEul'+'erAngles'](_0x11218e['skyboxRota'+'tion'][-0x1*-0x21b2+0xcef*0x3+-0x487f],_0x11218e['skyboxRota'+'tion'][0x2473*-0x1+-0x1a4+0x2618],_0x11218e['skyboxRota'+'tion'][0x4*0x36d+-0x1b45+0xd93])),this['sky']['applySetti'+'ngs'](_0x11218e),this['clusteredL'+'ightingEna'+'bled']=_0x11218e['clusteredL'+'ightingEna'+'bled']??!(-0x1bd+-0x65*-0x47+-0x1a45),this['lighting']['applySetti'+'ngs'](_0x11218e),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x47273a=>{_0x11218e['hasOwnProp'+'erty'](_0x47273a)&&(this[_0x47273a]=_0x11218e[_0x47273a]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x3fea7e=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x3fea7e[[0x2*0x669+-0x1*-0x1ee3+-0x2bb5,0x1c0b+0x26eb+0x1*-0x42f5,-0x31*-0x3d+-0x1eb8+-0x10f*-0x12,0x8df+-0x51b*0x2+0x15b,0x2*0x39b+-0x1194+0x1*0xa63,-0x1913+0x1166+0x7b3][this['_skyboxMip']]]||this['_envAtlas']||_0x3fea7e[-0x196c*0x1+-0x3c*0x1f+0x1058*0x2]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x3fea7e[0xb3d*0x1+0x23aa+-0x2ee7*0x1]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x1014+0x36d*-0x1+0x1381);}['setSkybox'](_0x5d8e50){_0x5d8e50?(this['skybox']=_0x5d8e50[-0x1d7e+-0x1*0x1ffd+0x1*0x3d7b]||null,_0x5d8e50[0xb7*-0xe+0xd*-0x7d+0x105c]&&!_0x5d8e50[0x1*0x1562+0x201a+-0x357b]['cubemap']?this['envAtlas']=_0x5d8e50[0x13f8+-0x7ab*0x3+-0x185*-0x2]:this['prefiltere'+'dCubemaps']=_0x5d8e50['slice'](0x136f+-0x1358*0x2+-0x2*-0x9a1)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Se;}}c(ci,'EVENT_SETL'+'AYERS','set:layers'),c(ci,'EVENT_SETS'+'KYBOX','set:skybox'),c(ci,'EVENT_PRER'+'ENDER','prerender'),c(ci,'EVENT_POST'+'RENDER','postrender'),c(ci,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(ci,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(ci,'EVENT_PREC'+'ULL','precull'),c(ci,'EVENT_POST'+'CULL','postcull');class N0{constructor(_0xffcf7a,_0x28dff5,_0xd7f5f0){this['device']=_0xffcf7a,this['inverseBin'+'dPose']=_0x28dff5,this['boneNames']=_0xd7f5f0;}}const b1=[-0x4*-0x4ca+0x2399+-0x36c1,0x1edb+-0xdb1+-0x112a,-0x182c+-0xb8d+0x23ba,-0x2186+-0x1e77+0x1*0x3ffd,-0x1dd8+0x1*-0xc1f+0x29f7,0x23b3+-0xb1f+-0x1893,0x2099+0x23b+0x3*-0xb9c,0x167*0x9+0x20c2+-0x2d61,-0x1c71+0x129d+0x9d5,-0x2ca+0x2*0x281+-0x238,0x1d67+0x10*-0x7a+0x19*-0xdf,-0xe*0x18e+-0x9*0x1f9+0x2786],w1=[0x1e00+0x1c1f+-0x3a1f,0x1fb6+-0x766+-0x184f,0x6b3*0x4+-0xad7+-0xff2,-0x1672+0x187e+-0x20a,0x1*0x133f+-0x1cb3+0x977,-0xf4*0x1d+0x3a9*-0x4+-0x875*-0x5];class T1 extends ce{constructor(_0x16ee22,_0x1c9a6a){super(),this['_device']=_0x16ee22,this['_pixelsPer'+'Unit']=_0x1c9a6a&&_0x1c9a6a['pixelsPerU'+'nit']!==void(0x1254+-0x73a+-0xb1a)?_0x1c9a6a['pixelsPerU'+'nit']:0x50e*-0x5+-0x88d+0x6c4*0x5,this['_renderMod'+'e']=_0x1c9a6a&&_0x1c9a6a['renderMode']!==void(0x14*0xb6+-0x76*-0x44+0xd8*-0x36)?_0x1c9a6a['renderMode']:Ti,this['_atlas']=_0x1c9a6a&&_0x1c9a6a['atlas']!==void(0x18a9+0x8d1+0x359*-0xa)?_0x1c9a6a['atlas']:null,this['_frameKeys']=_0x1c9a6a&&_0x1c9a6a['frameKeys']!==void(-0x1*-0x1f2f+0x162a+-0x79f*0x7)?_0x1c9a6a['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x144+-0x192a+0x17e7*0x1),this['_meshesDir'+'ty']=!(-0xbeb*0x2+0x13b+-0x2*-0xb4e),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x3260c8){this['_frameKeys']=_0x3260c8,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x67c+-0x22b8+0x1c3c):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x3260c8);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x1bfa4a){_0x1bfa4a!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x1bfa4a,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0xe8b+-0x15*-0x9c+0x1bf):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x1bfa4a));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x4fc6ec){this['_pixelsPer'+'Unit']!==_0x4fc6ec&&(this['_pixelsPer'+'Unit']=_0x4fc6ec,this['fire']('set:pixels'+'PerUnit',_0x4fc6ec),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Ti&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0xe*-0x127+-0x7e*-0x36+-0xa72):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x400e20){if(this['_renderMod'+'e']===_0x400e20)return;const _0x34a585=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x400e20,this['fire']('set:render'+'Mode',_0x400e20),(_0x34a585===Ti||_0x400e20===Ti)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x77b*0x1+0x15e9+-0xe6e):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x56b93c=this['_meshes']['length'];for(let _0x7aa120=0x3*-0x8db+-0x1cad+-0x935*-0x6;_0x7aa120<_0x56b93c;_0x7aa120++){const _0x4e2c44=this['_meshes'][_0x7aa120];_0x4e2c44&&_0x4e2c44['destroy']();}const _0x2ba9b7=this['_frameKeys']['length'];this['_meshes']=new Array(_0x2ba9b7);const _0x55baca=this['renderMode']===nt||this['_renderMod'+'e']===Qe?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x32ba1b=-0x1*-0x83f+0xcb*-0x4+0x1b1*-0x3;_0x32ba1b<_0x2ba9b7;_0x32ba1b++){const _0x1e6acb=this['_atlas']['frames'][this['_frameKeys'][_0x32ba1b]];this['_meshes'][_0x32ba1b]=_0x1e6acb?_0x55baca['call'](this,_0x1e6acb):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x3b07f4){const _0x57aa44=_0x3b07f4['rect'],_0x3f53cb=this['_atlas']['texture']['width'],_0x12690=this['_atlas']['texture']['height'],_0x466fe7=_0x57aa44['z']/this['_pixelsPer'+'Unit'],_0x56e0f1=_0x57aa44['w']/this['_pixelsPer'+'Unit'],_0x1e3ce2=_0x3b07f4['pivot']['x'],_0xceaeab=_0x3b07f4['pivot']['y'],_0x2d5d75=[-_0x1e3ce2*_0x466fe7,-_0xceaeab*_0x56e0f1,-0x9*-0x259+-0x1d78+-0x3d*-0x23,(0xd05*0x3+0x25e8+-0x1*0x4cf6-_0x1e3ce2)*_0x466fe7,-_0xceaeab*_0x56e0f1,-0x1*0x2649+0x25b+0x23ee,(-0x9b2+0x1a7f+-0x10cc-_0x1e3ce2)*_0x466fe7,(-0x377+0x1*-0x244d+-0x27c5*-0x1-_0xceaeab)*_0x56e0f1,0x1fac+-0x5*-0x5ba+-0x3c4e*0x1,-_0x1e3ce2*_0x466fe7,(-0x92*-0x41+-0x95*-0x2b+-0x3e18-_0xceaeab)*_0x56e0f1,0x739*0x5+-0x16c3+-0xd5a*0x1],_0x516cef=_0x57aa44['x']/_0x3f53cb,_0x4693fb=-0x1c6*-0xb+-0x1222*-0x2+0x3*-0x1297-_0x57aa44['y']/_0x12690,_0x50d520=(_0x57aa44['x']+_0x57aa44['z'])/_0x3f53cb,_0x41f27a=-0x17*-0x16+0x1*-0x878+0x1*0x67f-(_0x57aa44['y']+_0x57aa44['w'])/_0x12690,_0x1f1d10=[_0x516cef,_0x4693fb,_0x50d520,_0x4693fb,_0x50d520,_0x41f27a,_0x516cef,_0x41f27a],_0x49fc91=new pn();return _0x49fc91['positions']=_0x2d5d75,_0x49fc91['normals']=b1,_0x49fc91['uvs']=_0x1f1d10,_0x49fc91['indices']=w1,Ie['fromGeomet'+'ry'](this['_device'],_0x49fc91);}['_create9Sl'+'iceMesh'](){const _0x1a0935=$['ONE'],_0x73f499=-0x1ac3+0x1934*0x1+-0x43*-0x6,_0xab9d57=-0xfb*-0x8+-0x201f+0x184a,_0x17fdac=[],_0x58b4cd=[],_0x4b8b17=[],_0x55fc4d=[];let _0x1d4f3a=-0x1*-0x80e+0x23a9+-0x1f*0x169;for(let _0x54bf47=-0x27*-0xc7+-0x1*-0x16cc+-0x351d*0x1;_0x54bf47<=_0x73f499;_0x54bf47++){const _0x1ffd79=_0x54bf47===0x6f2+0xba+-0x7ac||_0x54bf47===_0x73f499?-0x19a7+-0xe4e+0x27f5:-0x25a4*0x1+0x257*0xd+0x73a;for(let _0x138cca=-0x7cc+-0x16bb+-0xf*-0x209;_0x138cca<=_0xab9d57;_0x138cca++){const _0x4dac34=-_0x1a0935['x']+(-0x218a+-0x218c+0x4318)*_0x1a0935['x']*(_0x54bf47<=-0x231a+0x599*0x5+0x71e?0x16c2+-0x1*-0x1e7a+-0x353c:0x155a+-0x24e+-0x1309)/_0x73f499,_0xf0fadf=-0x1e8f+-0x19b6+-0xd7*-0x43,_0xa1258=-(-_0x1a0935['y']+(-0x967*0x1+-0x717+0x58*0x30)*_0x1a0935['y']*(_0x138cca<=-0x1982+-0x1e0c+-0x3*-0x1285?-0x1*0xe7d+-0x316+0x1193:-0x189a+0x12f*0x5+0x1*0x12b2)/_0xab9d57),_0x50362c=_0x138cca===-0x4d1+-0x1012+0x14e3||_0x138cca===_0xab9d57?0x15c6*0x1+-0x202c+0xa66:-0x23f4+-0x239*0x6+0x314b;_0x17fdac['push'](-_0x4dac34,_0xf0fadf,_0xa1258),_0x58b4cd['push'](-0x61*-0x2b+0x2*0x1115+0x1*-0x3275,-0x24c9+0x17*0x151+0x683,0x467*0x7+-0x1*-0x23f1+-0x42c2),_0x4b8b17['push'](_0x1ffd79,_0x50362c),_0x54bf47<_0x73f499&&_0x138cca<_0xab9d57&&(_0x55fc4d['push'](_0x1d4f3a+_0xab9d57+(-0x1730+-0x23d1+0x7*0x86e),_0x1d4f3a+(0x17f2+0x224c+-0x3a3d*0x1),_0x1d4f3a),_0x55fc4d['push'](_0x1d4f3a+_0xab9d57+(-0x262+0xbbf+0x4*-0x257),_0x1d4f3a+_0xab9d57+(0x188a+0xe9d*-0x1+-0x9eb),_0x1d4f3a+(0x2627+0x3*-0x577+0x15c1*-0x1))),_0x1d4f3a++;}}const _0x3a7e63=new pn();return _0x3a7e63['positions']=_0x17fdac,_0x3a7e63['normals']=_0x58b4cd,_0x3a7e63['uvs']=_0x4b8b17,_0x3a7e63['indices']=_0x55fc4d,Ie['fromGeomet'+'ry'](this['_device'],_0x3a7e63);}['_onSetFram'+'es'](_0x519e22){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x1ca3+0x25da+-0x427d):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x44f401,_0x370afd){const _0x10eb6a=this['_frameKeys']['indexOf'](_0x44f401);_0x10eb6a<0x3f+0x1ecd+-0x1f0c||(_0x370afd?this['renderMode']===Ti&&(this['_meshes'][_0x10eb6a]=this['_createSim'+'pleMesh'](_0x370afd)):this['_meshes'][_0x10eb6a]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x4938dc){const _0x354faf=this['_frameKeys']['indexOf'](_0x4938dc);_0x354faf<-0x153e+0x1*-0x1a31+0x2f6f||(this['_meshes'][_0x354faf]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(0x117b+-0x1942+0x1*0x7c7),this['_meshesDir'+'ty']=!(0x2296+0x716+-0x29ab);}['endUpdate'](){this['_updatingP'+'roperties']=!(-0x55*0x14+-0x1*0x181d+0x1ec2),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x12b4+-0xed*-0x2+0x148d*-0x1);}['destroy'](){for(const _0x58a572 of this['_meshes'])_0x58a572&&_0x58a572['destroy']();this['_meshes']['length']=0x217b+0x11e5+-0x66c*0x8;}}class A1 extends ce{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x217a2d){this['_texture']=_0x217a2d,this['fire']('set:textur'+'e',_0x217a2d);}get['texture'](){return this['_texture'];}set['frames'](_0x2b6bba){this['_frames']=_0x2b6bba,this['fire']('set:frames',_0x2b6bba);}get['frames'](){return this['_frames'];}['setFrame'](_0x3dcc4b,_0x22203d){let _0x115318=this['_frames'][_0x3dcc4b];_0x115318?(_0x115318['rect']['copy'](_0x22203d['rect']),_0x115318['pivot']['copy'](_0x22203d['pivot']),_0x115318['border']['copy'](_0x22203d['border'])):(_0x115318={'rect':_0x22203d['rect']['clone'](),'pivot':_0x22203d['pivot']['clone'](),'border':_0x22203d['border']['clone']()},this['_frames'][_0x3dcc4b]=_0x115318),this['fire']('set:frame',_0x3dcc4b['toString'](),_0x115318);}['removeFram'+'e'](_0x65a7c7){const _0x3d5678=this['_frames'][_0x65a7c7];_0x3d5678&&(delete this['_frames'][_0x65a7c7],this['fire']('remove:fra'+'me',_0x65a7c7['toString'](),_0x3d5678));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class F_{constructor(_0x567bd8,_0x35a277,_0x2ac7f6,_0x19f180){this['time']=_0x567bd8,this['position']=_0x35a277,this['rotation']=_0x2ac7f6,this['scale']=_0x19f180;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class k_{constructor(){c(this,'name',''),c(this,'duration',-0x1*0xdfd+0x525+-0x46c*-0x2),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x301bb6){return this['_nodeDict'][_0x301bb6];}['addNode'](_0xa78762){this['_nodes']['push'](_0xa78762),this['_nodeDict'][_0xa78762['_name']]=_0xa78762;}get['nodes'](){return this['_nodes'];}}class E1{constructor(){this['_written']=!(0x4b2+0x1837+0x1*-0x1ce8),this['_name']='',this['_keyFrames']=[],this['_quat']=new se(),this['_pos']=new T(),this['_scale']=new T(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x293342){this['_targetNod'+'e']=_0x293342;}}class $d{constructor(_0x2e4cf4){c(this,'looping',!(0x1332+0x1b5e+0xba4*-0x4)),(this['_animation']=null,this['_time']=-0x5*0x83+0x50*0x75+-0x2201,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x4bb7c6=_0x112328=>{const _0x5d92c9=new E1();_0x5d92c9['_name']=_0x112328['name'],this['_interpola'+'tedKeys']['push'](_0x5d92c9),this['_interpola'+'tedKeyDict'][_0x112328['name']]=_0x5d92c9,this['_currKeyIn'+'dices'][_0x112328['name']]=0x1db1+-0x4cf*0x4+-0xa75;for(let _0x91f8c9=-0xc34+-0x1*0x1025+0x973*0x3;_0x91f8c9<_0x112328['_children']['length'];_0x91f8c9++)_0x4bb7c6(_0x112328['_children'][_0x91f8c9]);};_0x4bb7c6(_0x2e4cf4);}set['animation'](_0x17f37b){this['_animation']=_0x17f37b,this['currentTim'+'e']=-0x854+0x1bac+0x1358*-0x1;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x58d877){this['_time']=_0x58d877;const _0x279498=this['_interpola'+'tedKeys']['length'];for(let _0x31c3db=0x1*-0x26fd+-0x1*0xcd0+-0x95*-0x59;_0x31c3db<_0x279498;_0x31c3db++){const _0x1e0aab=this['_interpola'+'tedKeys'][_0x31c3db]['_name'];this['_currKeyIn'+'dices'][_0x1e0aab]=0x410+-0x3*0x77+-0x2ab;}this['addTime'](0x1*0x148d+0x209c*-0x1+0x93*0x15),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x45eb8f){if(this['_animation']!==null){const _0x3e729e=this['_animation']['_nodes'],_0x45feec=this['_animation']['duration'];if(this['_time']===_0x45feec&&!this['looping'])return;if(this['_time']+=_0x45eb8f,this['_time']>_0x45feec){this['_time']=this['looping']?-0xe44+-0x135d+0x21a1:_0x45feec;for(let _0xe5e261=0x8*-0x31+0x13*0x5+-0x1b*-0xb;_0xe5e261<_0x3e729e['length'];_0xe5e261++){const _0x3f87e7=_0x3e729e[_0xe5e261]['_name'];this['_currKeyIn'+'dices'][_0x3f87e7]=0xa3a*-0x1+0x7d1+0x269;}}else{if(this['_time']<0x1f1a+0x1976*-0x1+-0x13*0x4c){this['_time']=this['looping']?_0x45feec:-0x5e*-0x5b+-0x7f9+-0x1971;for(let _0x106020=0x1*0xf7c+-0x2*0xaac+0x5*0x12c;_0x106020<_0x3e729e['length'];_0x106020++){const _0x7b017b=_0x3e729e[_0x106020],_0x166598=_0x7b017b['_name'];this['_currKeyIn'+'dices'][_0x166598]=_0x7b017b['_keys']['length']-(0x2028+0x5d8*-0x3+0x2*-0x74f);}}}const _0x243d05=_0x45eb8f>=-0x5b8+0x1252+-0xc9a?-0x6c0+-0x269*0xc+-0x23ad*-0x1:-(-0x2cb*-0x3+-0x2f0+0x1d0*-0x3);for(let _0x432b84=0x9a5*0x3+0x9f3+-0xcf6*0x3;_0x432b84<_0x3e729e['length'];_0x432b84++){const _0x331ef1=_0x3e729e[_0x432b84],_0x1a69c7=_0x331ef1['_name'],_0x1da6ee=_0x331ef1['_keys'],_0x20a2fd=this['_interpola'+'tedKeyDict'][_0x1a69c7];if(_0x20a2fd===void(-0xe*0x26d+0x2211+0x1b*-0x1)){v['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x1a69c7);continue;}let _0x5e6f93=!(0x16a8+0x12bf+0x1*-0x2966);if(_0x1da6ee['length']!==-0x90d+-0x1*-0x1445+-0x105*0xb)for(let _0x4ee3b1=this['_currKeyIn'+'dices'][_0x1a69c7];_0x4ee3b1<_0x1da6ee['length']-(0x1*0x1483+-0x163d+0x1*0x1bb)&&_0x4ee3b1>=-0x266d+0xabd+0x376*0x8;_0x4ee3b1+=_0x243d05){const _0x15ab24=_0x1da6ee[_0x4ee3b1],_0x2ae526=_0x1da6ee[_0x4ee3b1+(0x268b+0x7*-0x251+0xf*-0x17d)];if(_0x15ab24['time']<=this['_time']&&_0x2ae526['time']>=this['_time']){const _0x3cab5a=(this['_time']-_0x15ab24['time'])/(_0x2ae526['time']-_0x15ab24['time']);_0x20a2fd['_pos']['lerp'](_0x15ab24['position'],_0x2ae526['position'],_0x3cab5a),_0x20a2fd['_quat']['slerp'](_0x15ab24['rotation'],_0x2ae526['rotation'],_0x3cab5a),_0x20a2fd['_scale']['lerp'](_0x15ab24['scale'],_0x2ae526['scale'],_0x3cab5a),_0x20a2fd['_written']=!(-0x1592*0x1+0x1773+-0x1e1),this['_currKeyIn'+'dices'][_0x1a69c7]=_0x4ee3b1,_0x5e6f93=!(0x417*-0x1+0x26c5+-0x22ae);break;}}(_0x1da6ee['length']===-0x7*-0x215+0x803+-0x1695||!_0x5e6f93&&this['_time']===0x262*0x1+-0x3*0x886+0x1730*0x1&&this['looping'])&&(_0x20a2fd['_pos']['copy'](_0x1da6ee[0x991+0x2522+-0x5*0x957]['position']),_0x20a2fd['_quat']['copy'](_0x1da6ee[-0xf*-0x77+-0x759*0x4+0x166b]['rotation']),_0x20a2fd['_scale']['copy'](_0x1da6ee[-0x144+0x1f3e+-0x1dfa]['scale']),_0x20a2fd['_written']=!(-0x12*-0x20e+0x4d2+0x1*-0x29ce));}}}['blend'](_0x1b9914,_0x15478f,_0x23debc){const _0x19dca7=this['_interpola'+'tedKeys']['length'];for(let _0x5dc6a5=-0x131*0x3+0x1*-0x778+0xb0b;_0x5dc6a5<_0x19dca7;_0x5dc6a5++){const _0x55760a=_0x1b9914['_interpola'+'tedKeys'][_0x5dc6a5],_0x509bb5=_0x15478f['_interpola'+'tedKeys'][_0x5dc6a5],_0x243c14=this['_interpola'+'tedKeys'][_0x5dc6a5];_0x55760a['_written']&&_0x509bb5['_written']?(_0x243c14['_quat']['slerp'](_0x55760a['_quat'],_0x15478f['_interpola'+'tedKeys'][_0x5dc6a5]['_quat'],_0x23debc),_0x243c14['_pos']['lerp'](_0x55760a['_pos'],_0x15478f['_interpola'+'tedKeys'][_0x5dc6a5]['_pos'],_0x23debc),_0x243c14['_scale']['lerp'](_0x55760a['_scale'],_0x509bb5['_scale'],_0x23debc),_0x243c14['_written']=!(0x6b*0x2b+0x296*0x2+0x18b*-0xf)):_0x55760a['_written']?(_0x243c14['_quat']['copy'](_0x55760a['_quat']),_0x243c14['_pos']['copy'](_0x55760a['_pos']),_0x243c14['_scale']['copy'](_0x55760a['_scale']),_0x243c14['_written']=!(0x4ad+-0xa88+0x5db)):_0x509bb5['_written']&&(_0x243c14['_quat']['copy'](_0x509bb5['_quat']),_0x243c14['_pos']['copy'](_0x509bb5['_pos']),_0x243c14['_scale']['copy'](_0x509bb5['_scale']),_0x243c14['_written']=!(0x2662+-0xcdc*-0x3+-0x4cf6));}}['setGraph'](_0x1b374f){if(this['graph']=_0x1b374f,_0x1b374f)for(let _0x111c85=-0x4de+-0x1048+0x1526;_0x111c85<this['_interpola'+'tedKeys']['length'];_0x111c85++){const _0xec12e0=this['_interpola'+'tedKeys'][_0x111c85],_0x26c579=_0x1b374f['findByName'](_0xec12e0['_name']);this['_interpola'+'tedKeys'][_0x111c85]['setTarget'](_0x26c579);}else{for(let _0x1c208d=-0x109*-0x1d+-0x1ffb*-0x1+-0x3e00;_0x1c208d<this['_interpola'+'tedKeys']['length'];_0x1c208d++)this['_interpola'+'tedKeys'][_0x1c208d]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x185247=-0x18f7+-0x20f1+0x39e8;_0x185247<this['_interpola'+'tedKeys']['length'];_0x185247++){const _0x147063=this['_interpola'+'tedKeys'][_0x185247];if(_0x147063['_written']){const _0x13d998=_0x147063['getTarget']();_0x13d998['localPosit'+'ion']['copy'](_0x147063['_pos']),_0x13d998['localRotat'+'ion']['copy'](_0x147063['_quat']),_0x13d998['localScale']['copy'](_0x147063['_scale']),_0x13d998['_dirtyLoca'+'l']||_0x13d998['_dirtifyLo'+'cal'](),_0x147063['_written']=!(-0x1078+-0x2146*-0x1+-0x10cd);}}}}const ys=(0x940+-0x1364+0xa28)/(0x20c8*0x1+-0x18*-0xd6+-0x3498),Bs=-0x9d*-0xc+0x107*0x2+-0x969-ys*(-0x18*0x61+0x26b1+-0x1d97);class Bp extends pn{constructor(_0x4b9ba0,_0x1978fe,_0x23abba,_0x4e02fc,_0x3dba42,_0xf90fbe){super();const _0xf30a4d=new T(),_0x55dffc=new T(),_0x1fd7ee=new T(),_0x9e1fa4=new T(),_0x590539=new T(),_0x44e8ee=new T(),_0x2399be=[],_0x1a4487=[],_0x19fb02=[],_0x558f55=[],_0x3789a8=[];let _0x3a6199;if(_0x23abba>0x1a5*0x1+0x1cef+-0x13*0x19c){for(let _0x35f14d=-0x1958+-0x26e+0x1bc6;_0x35f14d<=_0x4e02fc;_0x35f14d++)for(let _0x2c57da=0x6f3+0x1084+0x1*-0x1777;_0x2c57da<=_0x3dba42;_0x2c57da++){const _0x132b34=_0x2c57da/_0x3dba42*(0xc66+0x37d+-0xfe1)*Math['PI']-Math['PI'],_0xde76bd=Math['sin'](_0x132b34),_0x4eb7e8=Math['cos'](_0x132b34);_0x590539['set'](_0xde76bd*_0x4b9ba0,-_0x23abba/(-0xa6*0x1+0x9*-0x1a5+-0x1*-0xf75),_0x4eb7e8*_0x4b9ba0),_0x9e1fa4['set'](_0xde76bd*_0x1978fe,_0x23abba/(0x92c+0x1*0x2029+0x47*-0x95),_0x4eb7e8*_0x1978fe),_0xf30a4d['lerp'](_0x590539,_0x9e1fa4,_0x35f14d/_0x4e02fc),_0x55dffc['sub2'](_0x9e1fa4,_0x590539)['normalize'](),_0x44e8ee['set'](_0x4eb7e8,0x1687+0x972+-0x1ff9,-_0xde76bd),_0x1fd7ee['cross'](_0x44e8ee,_0x55dffc)['normalize'](),_0x2399be['push'](_0xf30a4d['x'],_0xf30a4d['y'],_0xf30a4d['z']),_0x1a4487['push'](_0x1fd7ee['x'],_0x1fd7ee['y'],_0x1fd7ee['z']);let _0x226520=_0x2c57da/_0x3dba42,_0x45514=_0x35f14d/_0x4e02fc;_0x19fb02['push'](_0x226520,0x1cf0+-0x2*-0x9e2+0x3bf*-0xd-_0x45514);const _0x21225c=_0x45514;if(_0x45514=_0x226520,_0x226520=_0x21225c,_0x226520=_0x226520*Bs+ys,_0x45514=_0x45514*Bs+ys,_0x226520/=0xccb+0xc61+-0x1929,_0x558f55['push'](_0x226520,0x2204+-0x50b+0x2*-0xe7c-_0x45514),_0x35f14d<_0x4e02fc&&_0x2c57da<_0x3dba42){const _0x28e096=_0x35f14d*(_0x3dba42+(-0x9ca+0x226d+-0x18a2))+_0x2c57da,_0x1b97c1=_0x35f14d*(_0x3dba42+(0x2*0xe9e+-0x15*0x1a+0x1b19*-0x1))+(_0x2c57da+(0x285*-0x2+0x1*0xe4+0x427)),_0x498461=(_0x35f14d+(0x1d15+-0x197d+-0x397))*(_0x3dba42+(-0x1*-0xa57+-0x2107+-0x1*-0x16b1))+_0x2c57da,_0x179b6e=(_0x35f14d+(0x14cc+-0x1d9+-0x12f2))*(_0x3dba42+(0x121b+-0x1*0x17cb+0x5b1*0x1))+(_0x2c57da+(0xbe7+0xcb*0x2b+0x3*-0xf55));_0x3789a8['push'](_0x28e096,_0x1b97c1,_0x498461),_0x3789a8['push'](_0x1b97c1,_0x179b6e,_0x498461);}}}if(_0xf90fbe){const _0x456509=Math['floor'](_0x3dba42/(-0x1d54+0xe1c+0x79d*0x2)),_0x3af5a5=_0x3dba42,_0x5ed51b=_0x23abba/(-0xb5*0x2e+0x9*-0x401+0x4491);for(let _0x15e91a=0x29f+-0xbd0+0x931;_0x15e91a<=_0x456509;_0x15e91a++){const _0x526fee=_0x15e91a*Math['PI']*(0x1f4*-0xf+-0x1*-0xc8f+0x10bd+0.5)/_0x456509,_0x1ad8fa=Math['sin'](_0x526fee),_0x36c94b=Math['cos'](_0x526fee);for(let _0x3c9d42=-0x1125*0x1+-0x22a9+-0x19e7*-0x2;_0x3c9d42<=_0x3af5a5;_0x3c9d42++){const _0x3643a1=_0x3c9d42*(0x8*-0x3dd+0x1*-0x13e9+0x32d3)*Math['PI']/_0x3af5a5-Math['PI']/(0x13e5+-0x1811+0x42e),_0xb4b582=Math['sin'](_0x3643a1),_0x4a172f=Math['cos'](_0x3643a1)*_0x1ad8fa,_0x30620a=_0x36c94b,_0x56c745=_0xb4b582*_0x1ad8fa;let _0x3a564a=0x20f1+0x239*-0xd+0xf*-0x45-_0x3c9d42/_0x3af5a5,_0x3ca929=-0x15*0xec+-0x18df+-0x12a*-0x26-_0x15e91a/_0x456509;_0x2399be['push'](_0x4a172f*_0x1978fe,_0x30620a*_0x1978fe+_0x5ed51b,_0x56c745*_0x1978fe),_0x1a4487['push'](_0x4a172f,_0x30620a,_0x56c745),_0x19fb02['push'](_0x3a564a,0x1f*0x61+0x1*0x2ef+-0x121*0xd-_0x3ca929),_0x3a564a=_0x3a564a*Bs+ys,_0x3ca929=_0x3ca929*Bs+ys,_0x3a564a/=0x6b9*0x5+0x1*0x2007+-0x41a1,_0x3ca929/=0x2*-0xa16+0x3*0x848+-0x4a9,_0x3a564a+=(0x2234+0x637+0x5c6*-0x7)/(0x12a8+0x1*0x1bbf+-0x2e64),_0x558f55['push'](_0x3a564a,0x723+-0x2b*0x1b+0x5*-0x85-_0x3ca929);}}_0x3a6199=(_0x4e02fc+(-0x1f8e+0x2465+-0x4d6))*(_0x3dba42+(-0x37e*-0x5+-0x11aa+0x35*0x1));for(let _0x30448c=-0xfaf+-0x768+0x1717;_0x30448c<_0x456509;++_0x30448c)for(let _0x26abcf=0x1c26+-0x1ca4+0x7e;_0x26abcf<_0x3af5a5;++_0x26abcf){const _0x1e22fd=_0x30448c*(_0x3af5a5+(0x10*0x2c+0x2*-0x9f7+0x53*0x35))+_0x26abcf,_0x29aebc=_0x1e22fd+_0x3af5a5+(-0x2c*0x30+-0x124+0x965);_0x3789a8['push'](_0x3a6199+_0x1e22fd+(-0x33+0xe80+-0xe4c),_0x3a6199+_0x29aebc,_0x3a6199+_0x1e22fd),_0x3789a8['push'](_0x3a6199+_0x1e22fd+(0x15ee+-0xd1+-0x151c),_0x3a6199+_0x29aebc+(-0x2*0xc0e+-0x26e1+0x3efe),_0x3a6199+_0x29aebc);}for(let _0x2a4b68=0x2*-0x89b+0x14de+-0x2*0x1d4;_0x2a4b68<=_0x456509;_0x2a4b68++){const _0x245f17=Math['PI']*(0x686+0x1*0x24c9+-0x1*0x2b4f+0.5)+_0x2a4b68*Math['PI']*(0x734+-0x1a27*0x1+-0x31*-0x63+0.5)/_0x456509,_0x5d2ec3=Math['sin'](_0x245f17),_0x2ead96=Math['cos'](_0x245f17);for(let _0x1c6974=0xd*0x13d+-0x2*0xf93+-0x1*-0xf0d;_0x1c6974<=_0x3af5a5;_0x1c6974++){const _0x3f73d5=_0x1c6974*(0x1dd7+0x12b8+0x102f*-0x3)*Math['PI']/_0x3af5a5-Math['PI']/(0xace+0x1*0x5d5+-0x10a1),_0x56e595=Math['sin'](_0x3f73d5),_0x5aa191=Math['cos'](_0x3f73d5)*_0x5d2ec3,_0xf2a37a=_0x2ead96,_0x1cc547=_0x56e595*_0x5d2ec3;let _0x2f0797=0x573+-0x7b2+0x240-_0x1c6974/_0x3af5a5,_0x2a4f96=-0x1*-0xa31+-0x24f4+0x1ac4-_0x2a4b68/_0x456509;_0x2399be['push'](_0x5aa191*_0x1978fe,_0xf2a37a*_0x1978fe-_0x5ed51b,_0x1cc547*_0x1978fe),_0x1a4487['push'](_0x5aa191,_0xf2a37a,_0x1cc547),_0x19fb02['push'](_0x2f0797,-0x25e5+-0x1fa9*0x1+-0x1*-0x458f-_0x2a4f96),_0x2f0797=_0x2f0797*Bs+ys,_0x2a4f96=_0x2a4f96*Bs+ys,_0x2f0797/=0x1*-0xc57+-0x15*0xad+0x1c5*0xf,_0x2a4f96/=0xeaf+-0x1ff7+0x1*0x114b,_0x2f0797+=(-0x19ec+-0xfb6*-0x2+-0x57e)/(-0xd*-0x216+-0x1572+-0x5a9),_0x558f55['push'](_0x2f0797,-0x25b*-0x1+-0x11e4+0xf8a-_0x2a4f96);}}_0x3a6199=(_0x4e02fc+(0x1e7*0x1+-0x1ee2+0x173*0x14))*(_0x3dba42+(0xc5*0x1b+0x1*-0x195b+0x495*0x1))+(_0x3af5a5+(0x11d8+0xe2*0x11+-0x20d9))*(_0x456509+(0x53b*-0x1+-0x990+0xecc));for(let _0x222db5=0x13*0x1a+-0x2*-0xeb7+-0x1f5c;_0x222db5<_0x456509;++_0x222db5)for(let _0x56a968=0x1197+-0x17*-0x14f+-0xda*0x38;_0x56a968<_0x3af5a5;++_0x56a968){const _0x44acae=_0x222db5*(_0x3af5a5+(0x7bf*0x4+-0x1*0xa88+0xf*-0x15d))+_0x56a968,_0xce1d92=_0x44acae+_0x3af5a5+(-0x204e+0xf85*0x1+0x1*0x10ca);_0x3789a8['push'](_0x3a6199+_0x44acae+(-0x1*0x319+0x12df+-0xfc5),_0x3a6199+_0xce1d92,_0x3a6199+_0x44acae),_0x3789a8['push'](_0x3a6199+_0x44acae+(0x1c07+-0x62*0x2c+0x1b*-0x6a),_0x3a6199+_0xce1d92+(0x1a83+-0x2b4*-0x1+-0x1*0x1d36),_0x3a6199+_0xce1d92);}}else{if(_0x3a6199=(_0x4e02fc+(0x1090+0x20a2+-0x3131*0x1))*(_0x3dba42+(-0xf*0x43+0xa8c+-0xb*0x9a)),_0x4b9ba0>-0x5*-0x5cc+-0x1278+-0xa84)for(let _0x263716=-0x222c+0x2015+-0x1*-0x217;_0x263716<_0x3dba42;_0x263716++){const _0x4b8128=_0x263716/_0x3dba42*(-0xff*-0x4+0x142c+-0x232*0xb)*Math['PI'],_0x11c872=Math['sin'](_0x4b8128),_0x2375a2=-_0x23abba/(0x2b1*-0x1+0x1*0x1481+0x35*-0x56),_0x1d49cb=Math['cos'](_0x4b8128);let _0x5dfd5b=-0x165a+-0x1f66+0x35c1-(_0x11c872+(-0x2424+0x1c12*-0x1+-0x1*-0x4037))/(-0x511+-0x1fa+0x70d),_0x1abd5e=(_0x1d49cb+(-0x116c+-0x1bcc+0x33*0xe3))/(0x2635+-0x10d5+-0x155e*0x1);_0x2399be['push'](_0x11c872*_0x4b9ba0,_0x2375a2,_0x1d49cb*_0x4b9ba0),_0x1a4487['push'](-0x19*0xe2+0x2*-0x8d8+0x27c2,-(-0x296*0x2+0xf6c+-0xa3f),-0xa*-0x16e+-0x1f73+0x1127),_0x19fb02['push'](_0x5dfd5b,-0x7*-0x33c+0x1fd*-0x4+-0xeaf-_0x1abd5e),_0x5dfd5b=_0x5dfd5b*Bs+ys,_0x1abd5e=_0x1abd5e*Bs+ys,_0x5dfd5b/=-0x1*-0x1be3+-0x1b74+0x36*-0x2,_0x1abd5e/=0xfac+-0xba3+-0x406,_0x5dfd5b+=(-0x6*0x2d1+0xad7+0x610)/(-0xa*-0x1a3+0x1d41+-0x79a*0x6),_0x558f55['push'](_0x5dfd5b,0xe6d+0x144*-0x10+0x5d4-_0x1abd5e),_0x263716>0x153b*0x1+0x10f2*-0x1+0x112*-0x4&&_0x3789a8['push'](_0x3a6199,_0x3a6199+_0x263716,_0x3a6199+_0x263716-(-0x2293+0x153d+0x5*0x2ab));}if(_0x3a6199+=_0x3dba42,_0x1978fe>0x783+-0x2b*-0xa5+-0x233a)for(let _0x2fb5e8=0xde+-0x3d*0x65+0x1733*0x1;_0x2fb5e8<_0x3dba42;_0x2fb5e8++){const _0x1fba68=_0x2fb5e8/_0x3dba42*(0x23*0xcb+-0x102b*-0x1+0x3fe*-0xb)*Math['PI'],_0x16b4e4=Math['sin'](_0x1fba68),_0x4aebe8=_0x23abba/(-0x24e8+-0x2590+0x4a7a),_0x30f58d=Math['cos'](_0x1fba68);let _0xa1ac05=-0xc25+-0xc91+0x1*0x18b7-(_0x16b4e4+(0xfd5*-0x2+-0x13e1*-0x1+0x5e5*0x2))/(-0x1c29+0x2*0x12ff+-0x9d3),_0x473c69=(_0x30f58d+(-0x3bf*0x9+-0xd2d+0x2ee5))/(0x30*-0xcb+-0x2701+0x4d13);_0x2399be['push'](_0x16b4e4*_0x1978fe,_0x4aebe8,_0x30f58d*_0x1978fe),_0x1a4487['push'](-0x4*-0x3f9+0x1a0d+0x4a9*-0x9,0x12*-0x14b+-0x438+0x1b7f,-0x4*-0x4f2+0x5*-0x61+-0x11e3),_0x19fb02['push'](_0xa1ac05,-0xd9+0x2319*-0x1+0x23f3-_0x473c69),_0xa1ac05=_0xa1ac05*Bs+ys,_0x473c69=_0x473c69*Bs+ys,_0xa1ac05/=0xa83+0x1457*0x1+-0x1ed7,_0x473c69/=-0x2641+0x1683+0xfc1,_0xa1ac05+=(0x10d3*-0x1+-0x1*-0xe2c+0x2a9)/(0x8*0x2+-0x966*-0x4+-0x25a5),_0x558f55['push'](_0xa1ac05,-0xa3*-0x2c+0x6*0x409+0x1d*-0x1cd-_0x473c69),_0x2fb5e8>0x97*0x1f+0x32f*-0x1+-0xf19&&_0x3789a8['push'](_0x3a6199,_0x3a6199+_0x2fb5e8-(0x165e+0xa30+-0x208d),_0x3a6199+_0x2fb5e8);}}this['positions']=_0x2399be,this['normals']=_0x1a4487,this['uvs']=_0x19fb02,this['uvs1']=_0x558f55,this['indices']=_0x3789a8;}}class C1 extends Bp{constructor(_0x3cc06c={}){const _0x194cd7=_0x3cc06c['radius']??0x1*-0x2ab+-0xe2c+-0x59d*-0x3+0.3,_0x5418cd=_0x3cc06c['height']??-0x17d9+-0x1*0x1bf1+0x33cb,_0x190144=_0x3cc06c['heightSegm'+'ents']??-0x1*-0x196f+-0x20*-0x136+-0x402e,_0x59e912=_0x3cc06c['sides']??0x173+-0x1a1c+0x18bd;super(_0x194cd7,_0x194cd7,_0x5418cd-(-0x1*0x8bf+0x2615+0x1d54*-0x1)*_0x194cd7,_0x190144,_0x59e912,!(-0x9b1*-0x3+-0x1388+-0x15d*0x7)),_0x3cc06c['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class M1 extends Bp{constructor(_0xbefd85={}){const _0x331fd2=_0xbefd85['baseRadius']??0x321+-0x6*0x30d+0x1*0xf2d+0.5,_0x2b87f1=_0xbefd85['peakRadius']??0x815+-0xd*0xdd+0x324,_0x2f761d=_0xbefd85['height']??-0x1532*-0x1+0x1961+-0x2e92,_0x40691e=_0xbefd85['heightSegm'+'ents']??0x1021+0x15b4+-0x25d0,_0x5e50fd=_0xbefd85['capSegment'+'s']??0xe19*0x2+0xe98+-0x1*0x2ab8;super(_0x331fd2,_0x2b87f1,_0x2f761d,_0x40691e,_0x5e50fd,!(-0x23ce*-0x1+0x14bd+-0x388a)),_0xbefd85['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Bp{constructor(_0xdb9261={}){const _0x204766=_0xdb9261['radius']??-0x10cb+0x5*-0x5+-0x439*-0x4+0.5,_0x18272d=_0xdb9261['height']??-0x6*-0x29+-0x4c7*0x8+-0x2543*-0x1,_0xd5b3a4=_0xdb9261['heightSegm'+'ents']??0x81b*-0x1+0x937+-0x1f*0x9,_0x44f441=_0xdb9261['capSegment'+'s']??0x1d*-0x127+0x204*0x5+0x221*0xb;super(_0x204766,_0x204766,_0x18272d,_0xd5b3a4,_0x44f441,!(-0x2*-0xbcb+0x1d*-0x6b+-0xa3*0x12)),_0xdb9261['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends pn{constructor(_0x3e84cc={}){super();const _0x2f5b2e=_0x3e84cc['halfExtent'+'s']??new $(-0x9*-0x327+0xe2f*-0x1+-0xe30+0.5,0xa12+-0x2015+0x7*0x325+0.5),_0x5b4b2a=_0x3e84cc['widthSegme'+'nts']??-0x3*0x281+-0x267f+-0x2e07*-0x1,_0x139d69=_0x3e84cc['lengthSegm'+'ents']??-0x22da+0x821*-0x4+0xd*0x52f,_0x35621f=[],_0x323b45=[],_0x426465=[],_0x1ff28d=[];let _0x59df36=0xb2*-0x23+0x14*-0x10e+-0x16b7*-0x2;for(let _0x426cc7=0xdb*-0x9+0x266*0xa+-0x1049;_0x426cc7<=_0x5b4b2a;_0x426cc7++)for(let _0x3e5f86=-0x989*-0x1+0x9e*0x34+-0x29a1;_0x3e5f86<=_0x139d69;_0x3e5f86++){const _0x4f6534=-_0x2f5b2e['x']+(0x2e6*0x7+0x62f+-0x1a77)*_0x2f5b2e['x']*_0x426cc7/_0x5b4b2a,_0x688252=-0x71d+-0x24b1+-0x2*-0x15e7,_0x22ea40=-(-_0x2f5b2e['y']+(0x223b+-0x1b62+-0x6d7)*_0x2f5b2e['y']*_0x3e5f86/_0x139d69),_0x2b6496=_0x426cc7/_0x5b4b2a,_0x51a386=_0x3e5f86/_0x139d69;_0x35621f['push'](_0x4f6534,_0x688252,_0x22ea40),_0x323b45['push'](0xbfc+-0x1f*0x11+-0x21*0x4d,0x72f*0x1+0x2bd*-0x1+0x3*-0x17b,0x1*-0x496+-0xf*0x147+-0x1*-0x17bf),_0x426465['push'](_0x2b6496,-0x1767+0x1823+-0xbb-_0x51a386),_0x426cc7<_0x5b4b2a&&_0x3e5f86<_0x139d69&&(_0x1ff28d['push'](_0x59df36+_0x139d69+(0x176e+0x246+-0x19b3),_0x59df36+(0x1*-0x797+0x24cf+-0x1d37),_0x59df36),_0x1ff28d['push'](_0x59df36+_0x139d69+(0x1da9+0x1*0x127a+0x1811*-0x2),_0x59df36+_0x139d69+(-0xe43*0x1+0x3*0xab7+-0x11e0),_0x59df36+(-0x1ed9+-0x1de3+0x3cbd))),_0x59df36++;}this['positions']=_0x35621f,this['normals']=_0x323b45,this['uvs']=_0x426465,this['uvs1']=_0x426465,this['indices']=_0x1ff28d,_0x3e84cc['calculateT'+'angents']&&(this['tangents']=fr(_0x35621f,_0x323b45,_0x426465,_0x1ff28d));}}class I1 extends pn{constructor(_0x1ee862={}){super();const _0x24867a=_0x1ee862['tubeRadius']??-0x607+0x12ac+0x1*-0xca5+0.2,_0x40fa19=_0x1ee862['ringRadius']??0x53a+-0x52c*0x2+0x51e+0.3,_0x22c267=(_0x1ee862['sectorAngl'+'e']??0x1*-0x201b+-0x6*-0x2d4+0x108b)*N['DEG_TO_RAD'],_0x837a57=_0x1ee862['segments']??-0x1ed9*0x1+-0x21f3+0x40ea,_0x449ab9=_0x1ee862['sides']??-0x16*-0xa6+-0x1292*0x2+0x16f4,_0x17e523=[],_0x2bfeda=[],_0x3946cd=[],_0x30d7ec=[];for(let _0x11f5e1=0x882+-0xeac+0x62a;_0x11f5e1<=_0x449ab9;_0x11f5e1++)for(let _0x3a3a89=-0x31a+-0x2300+-0x2*-0x130d;_0x3a3a89<=_0x837a57;_0x3a3a89++){const _0x2a627e=Math['cos'](_0x22c267*_0x3a3a89/_0x837a57)*(_0x40fa19+_0x24867a*Math['cos']((0x197c+-0x287*-0xf+0x259*-0x1b)*Math['PI']*_0x11f5e1/_0x449ab9)),_0x594d69=Math['sin']((0x8c1*-0x3+-0x1983+-0x19e4*-0x2)*Math['PI']*_0x11f5e1/_0x449ab9)*_0x24867a,_0x11a532=Math['sin'](_0x22c267*_0x3a3a89/_0x837a57)*(_0x40fa19+_0x24867a*Math['cos']((0x8f6+0xa65+-0x1359)*Math['PI']*_0x11f5e1/_0x449ab9)),_0x6a6a82=Math['cos'](_0x22c267*_0x3a3a89/_0x837a57)*Math['cos']((0x13*0x76+0x2334+-0x2bf4)*Math['PI']*_0x11f5e1/_0x449ab9),_0x1a2614=Math['sin']((-0x1d88+0x10e8*-0x1+0x1*0x2e72)*Math['PI']*_0x11f5e1/_0x449ab9),_0x2c2428=Math['sin'](_0x22c267*_0x3a3a89/_0x837a57)*Math['cos']((-0x1918+0x490+0x148a)*Math['PI']*_0x11f5e1/_0x449ab9),_0x46d3b=_0x11f5e1/_0x449ab9,_0x26c441=-0x1*-0x1fdd+0x13eb+0xb*-0x4b5-_0x3a3a89/_0x837a57;if(_0x17e523['push'](_0x2a627e,_0x594d69,_0x11a532),_0x2bfeda['push'](_0x6a6a82,_0x1a2614,_0x2c2428),_0x3946cd['push'](_0x46d3b,-0xa86+-0x2*0xc05+0x2291-_0x26c441),_0x11f5e1<_0x449ab9&&_0x3a3a89<_0x837a57){const _0x31f6b3=_0x11f5e1*(_0x837a57+(0x218f+0x1*0xff9+-0x3187*0x1))+_0x3a3a89,_0xb0e168=(_0x11f5e1+(-0x2678+0x4bb+0x21be))*(_0x837a57+(0x5*-0x2b+-0x9e7+0xabf))+_0x3a3a89,_0xf61c73=_0x11f5e1*(_0x837a57+(0x15c8+0x1a64+-0x461*0xb))+(_0x3a3a89+(0x1caa+0x1db6*-0x1+-0x10d*-0x1)),_0x2e226b=(_0x11f5e1+(-0x1d3b*0x1+-0x8d*0x1f+-0x2e4f*-0x1))*(_0x837a57+(-0x1*-0x17da+0x1*0x14e2+-0x2cbb))+(_0x3a3a89+(-0xd86*0x1+-0x18ef+0x2676));_0x30d7ec['push'](_0x31f6b3,_0xb0e168,_0xf61c73),_0x30d7ec['push'](_0xb0e168,_0x2e226b,_0xf61c73);}}this['positions']=_0x17e523,this['normals']=_0x2bfeda,this['uvs']=_0x3946cd,this['uvs1']=_0x3946cd,this['indices']=_0x30d7ec,_0x1ee862['calculateT'+'angents']&&(this['tangents']=fr(_0x17e523,_0x2bfeda,_0x3946cd,_0x30d7ec));}}class D1{constructor(_0x4dae40,_0x56f0d7){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x4dae40,this['_isClearin'+'gCache']=!(-0x20a5+0x1*-0xb5e+0x2c04),this['_precached']=!(-0x2702+0x944+-0x1*-0x1dbf),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new Vh(),this['_defaultSt'+'dMatOption'+'Min']=new Vh());const _0x51e737=new A0();_0x56f0d7['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x51e737,_0x56f0d7,null,[],gn,null),_0x56f0d7['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x56f0d7,null,Rp,null),_0x4dae40['on']('destroy:sh'+'ader',_0x486115=>{this['removeFrom'+'Cache'](_0x486115);});}['destroy'](){this['clearCache']();}['register'](_0x224bea,_0x14349a){this['_generator'+'s']['has'](_0x224bea)||this['_generator'+'s']['set'](_0x224bea,_0x14349a);}['unregister'](_0x68be1b){this['_generator'+'s']['has'](_0x68be1b)&&this['_generator'+'s']['delete'](_0x68be1b);}['isRegister'+'ed'](_0x243627){return this['_generator'+'s']['has'](_0x243627);}['generateSh'+'aderDefini'+'tion'](_0x6acd8e,_0x438d6d,_0x18256a,_0x321920){var _0xe624a8,_0x364fb9;let _0xe3bcf0=this['definition'+'sCache']['get'](_0x18256a);if(!_0xe3bcf0){let _0x34a967;(_0xe624a8=_0x321920['litOptions'])!=null&&_0xe624a8['lights']&&(_0x34a967=_0x321920['litOptions']['lights'],_0x321920['litOptions']['lights']=_0x34a967['map'](_0x58aca1=>{const _0x112ef6=_0x58aca1['clone']?_0x58aca1['clone']():_0x58aca1;return _0x112ef6['key']=_0x58aca1['key'],_0x112ef6;})),this['storeNewPr'+'ogram'](_0x438d6d,_0x321920),(_0x364fb9=_0x321920['litOptions'])!=null&&_0x364fb9['lights']&&(_0x321920['litOptions']['lights']=_0x34a967),this['_precached']&&v['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x438d6d+'\x20key\x20'+_0x18256a+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x1a2d84=this['_device'];_0xe3bcf0=_0x6acd8e['createShad'+'erDefiniti'+'on'](_0x1a2d84,_0x321920),_0xe3bcf0['name']=_0xe3bcf0['name']??(_0x321920['pass']?_0x438d6d+'-pass:'+_0x321920['pass']:_0x438d6d),this['definition'+'sCache']['set'](_0x18256a,_0xe3bcf0);}return _0xe3bcf0;}['getCachedS'+'hader'](_0x5f1601){return this['processedC'+'ache']['get'](_0x5f1601);}['setCachedS'+'hader'](_0x432cd0,_0x44b8e6){this['processedC'+'ache']['set'](_0x432cd0,_0x44b8e6);}['getProgram'](_0xae4a8c,_0x4f9681,_0x5e309a,_0x28117c){const _0x33fc5f=this['_generator'+'s']['get'](_0xae4a8c);if(!_0x33fc5f)return v['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0xae4a8c),null;const _0x3df070=_0x33fc5f['generateKe'+'y'](_0x4f9681),_0x49f217=hn(_0x3df070),_0x117e84=_0x5e309a['generateKe'+'y'](this['_device']),_0x2d7ef6=hn(_0x117e84),_0x412b67=_0x49f217+'#'+_0x2d7ef6;let _0x2696bf=this['getCachedS'+'hader'](_0x412b67);if(!_0x2696bf){const _0x618a4b=this['generateSh'+'aderDefini'+'tion'](_0x33fc5f,_0xae4a8c,_0x49f217,_0x4f9681);v['assert'](_0x618a4b);let _0x81690e='',_0x4d44a9;_0x4f9681['pass']!==void(-0xfe3*0x1+-0x1bd2+0xa7*0x43)&&(_0x4d44a9=Ks['get'](this['_device'])['getByIndex'](_0x4f9681['pass']),_0x81690e='-'+_0x4d44a9['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x28117c,'shaderPassInfo':_0x4d44a9,'definition':_0x618a4b});const _0x406f67={'name':''+_0x618a4b['name']+_0x81690e+'-proc','attributes':_0x618a4b['attributes'],'vshader':_0x618a4b['vshader'],'vincludes':_0x618a4b['vincludes'],'fincludes':_0x618a4b['fincludes'],'fshader':_0x618a4b['fshader'],'processingOptions':_0x5e309a,'shaderLanguage':_0x618a4b['shaderLang'+'uage'],'meshUniformBufferFormat':_0x618a4b['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x618a4b['meshBindGr'+'oupFormat']};_0x2696bf=new i0(this['_device'],_0x406f67),v['call'](()=>{_0x2696bf['_generatio'+'nKey']=_0x3df070,_0x2696bf['_processin'+'gKey']=_0x117e84;}),this['setCachedS'+'hader'](_0x412b67,_0x2696bf);}return _0x2696bf;}['storeNewPr'+'ogram'](_0x3fd8bb,_0xfb0f11){let _0x58ef40={};if(_0x3fd8bb==='standard'){const _0x398b16=this['_getDefaul'+'tStdMatOpt'+'ions'](_0xfb0f11['pass']);for(const _0xfc85f4 in _0xfb0f11)(_0xfb0f11['hasOwnProp'+'erty'](_0xfc85f4)&&_0x398b16[_0xfc85f4]!==_0xfb0f11[_0xfc85f4]||_0xfc85f4==='pass')&&(_0x58ef40[_0xfc85f4]=_0xfb0f11[_0xfc85f4]);for(const _0x325132 in _0xfb0f11['litOptions'])_0x58ef40[_0x325132]=_0xfb0f11['litOptions'][_0x325132];}else _0x58ef40=_0xfb0f11;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x3fd8bb,'options':_0x58ef40}));}['dumpProgra'+'ms'](){let _0x2a6605='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x2a6605+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0xc18*0x1+-0x268b+-0xb7*-0x25]&&(_0x2a6605+='\x0a\x09'+this['_programsC'+'ollection'][0x1*-0x1fe2+0x84b+0xb*0x225]);for(let _0x54932a=-0x9a+-0xb1d*-0x2+-0x5*0x453;_0x54932a<this['_programsC'+'ollection']['length'];++_0x54932a)_0x2a6605+=',\x0a\x09'+this['_programsC'+'ollection'][_0x54932a];_0x2a6605+='\x0a];\x0a',_0x2a6605+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x2a6605+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+no+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+sy+'\x22)\x0a',_0x2a6605+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x53fd99=document['createElem'+'ent']('a');_0x53fd99['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x2a6605)),_0x53fd99['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x53fd99['style']['display']='none',document['body']['appendChil'+'d'](_0x53fd99),_0x53fd99['click'](),document['body']['removeChil'+'d'](_0x53fd99);}['clearCache'](){this['_isClearin'+'gCache']=!(0x4*0x2e7+-0x21d3*0x1+-0x79*-0x2f),this['processedC'+'ache']['forEach'](_0x1ce587=>{_0x1ce587['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x86*0x3d+0x10d7+0x2*0x78c);}['removeFrom'+'Cache'](_0x8a084c){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x256f65,_0x182e7d)=>{_0x8a084c===_0x256f65&&this['processedC'+'ache']['delete'](_0x182e7d);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x23e8f7){const _0x47b7c1=Ks['get'](this['_device'])['getByIndex'](_0x23e8f7);return _0x23e8f7===rl||_0x23e8f7===Oa||_0x23e8f7===il||_0x47b7c1['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x459e41){if(_0x459e41){const _0x223503=new Array(_0x459e41['length']);for(let _0xd566be=0x1650+-0x207f+0xa2f;_0xd566be<_0x459e41['length'];_0xd566be++){if(_0x459e41[_0xd566be]['name']==='standard'){const _0x1004df=_0x459e41[_0xd566be]['options'],_0x1ec25f=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x1004df['pass']);for(const _0x413a98 in _0x1ec25f)_0x1ec25f['hasOwnProp'+'erty'](_0x413a98)&&_0x1004df[_0x413a98]===void(0x1*-0x45e+0x410*0x7+-0x1812)&&(_0x1004df[_0x413a98]=_0x1ec25f[_0x413a98]);}_0x223503[_0xd566be]=this['getProgram'](_0x459e41[_0xd566be]['name'],_0x459e41[_0xd566be]['options']);}}this['_precached']=!(0xb57*-0x2+-0x403*-0x1+0x12ab);}}const L1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',F1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',k1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),vo={'bakeDirLmEndPS':L1,'bakeLmEndPS':F1,'dilatePS':O1,'bilateralDeNoisePS':k1},Fn=new q(),B_=new se(),Wd=new _e(),N_=new _e(),B1=new Y(-0x249+-0x206a+0x22b4,-0x132d+0x1ad1*0x1+0x187*-0x5,0x1839+0x1*0x93b+-0x2174*0x1,-0x1*0x12cd+0x71a+0x1*0xbb3+0.4),qd=-0x1*-0x16f1+0x6fb*-0x5+0xbf6*0x1+0.28209479177387814;class N1{constructor(_0x15fe61,_0x3d642b,_0x38a6e6,_0x5ed821,_0x34586d,_0x1244a8){const _0x5181c9=_0x15fe61['getProp']('x'),_0x4a1024=_0x15fe61['getProp']('y'),_0xede78e=_0x15fe61['getProp']('z'),_0x18b668=_0x15fe61['getProp']('rot_1'),_0x1d782a=_0x15fe61['getProp']('rot_2'),_0x368e95=_0x15fe61['getProp']('rot_3'),_0x214b01=_0x15fe61['getProp']('rot_0'),_0x46066d=_0x15fe61['getProp']('motion_0'),_0x41603d=_0x15fe61['getProp']('motion_1'),_0x45d36b=_0x15fe61['getProp']('motion_2'),_0x9bebf0=_0x15fe61['getProp']('scale_0'),_0x48c7f6=_0x15fe61['getProp']('scale_1'),_0x5aaf22=_0x15fe61['getProp']('scale_2'),_0x1aea5b=_0x15fe61['getProp']('f_dc_0'),_0x4d0433=_0x15fe61['getProp']('f_dc_1'),_0x120afa=_0x15fe61['getProp']('f_dc_2'),_0x35de35=_0x15fe61['getProp']('opacity'),_0x24719d=_0x4c236a=>{if(_0x4c236a>-0x7*-0x265+0x3*-0x197+-0x2*0x5ff)return(-0x1*0x2297+-0x1620+-0xdc*-0x42)/(-0x1c71*-0x1+-0x84b+-0x1425+Math['exp'](-_0x4c236a));const _0x15ab8e=Math['exp'](_0x4c236a);return _0x15ab8e/(-0x792+0x17*0x175+-0x19f0+_0x15ab8e);};this['read']=_0x4c2a12=>{_0x3d642b&&(_0x3d642b['x']=_0x5181c9[_0x4c2a12],_0x3d642b['y']=_0x4a1024[_0x4c2a12],_0x3d642b['z']=_0xede78e[_0x4c2a12]),_0x38a6e6&&_0x38a6e6['set'](_0x18b668[_0x4c2a12],_0x1d782a[_0x4c2a12],_0x368e95[_0x4c2a12],_0x214b01[_0x4c2a12]),_0x5ed821&&_0x5ed821['set'](Math['exp'](_0x9bebf0[_0x4c2a12]),Math['exp'](_0x48c7f6[_0x4c2a12]),Math['exp'](_0x5aaf22[_0x4c2a12])),_0x1244a8&&_0x46066d&&_0x1244a8['set'](_0x46066d[_0x4c2a12],_0x41603d[_0x4c2a12],_0x45d36b[_0x4c2a12]),_0x34586d&&_0x34586d['set'](0xa1a+-0x296*-0x4+0x1472*-0x1+0.5+_0x1aea5b[_0x4c2a12]*qd,0x3d1+-0x1*0x2db+-0x1*0xf6+0.5+_0x4d0433[_0x4c2a12]*qd,0x2029*0x1+0x1*0x69+-0x2092+0.5+_0x120afa[_0x4c2a12]*qd,_0x24719d(_0x35de35[_0x4c2a12]));};}}const z_=(_0x55fb92,_0x106f67,_0x1beecf)=>{B_['set'](_0x1beecf['x'],_0x1beecf['y'],_0x1beecf['z'],_0x1beecf['w'])['normalize'](),_0x55fb92['setTRS'](_0x106f67,B_,T['ONE']);};class Ia{constructor(_0x582bb7){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x206e75,_0x4e17ee,_0x3a38c0;this['elements']=_0x582bb7,this['numSplats']=(_0x206e75=this['getElement']('vertex'))==null?void(0x83f*-0x3+-0x7cb+0x2088):_0x206e75['count'],this['is4D']=!!((_0x3a38c0=(_0x4e17ee=this['getElement']('vertex'))==null?void(0xe0b+0xe32*0x1+0x1c3d*-0x1):_0x4e17ee['properties']['find'](_0x84ff62=>_0x84ff62['name']==='t'))!=null&&_0x3a38c0['storage']);}['appendGSpl'+'atData'](_0x5c4d17,_0x28c5d5,_0x2b972a){const _0x5df562=this['getElement']('vertex')['properties'];_0x5df562['find'](_0x5396b8=>_0x5396b8['name']==='time_index')||_0x5df562['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x5c4d17['numSplats'];for(let _0x26abd1=-0x1102+0x49*-0x35+0x3*0xab5;_0x26abd1<_0x5df562['length'];_0x26abd1++){const _0x359194=_0x5df562[_0x26abd1],_0x3be810=_0x5c4d17['getElement']('vertex')['properties']['find'](_0x24a08e=>_0x24a08e['name']===_0x359194['name']);if(_0x359194['name']==='time_index'){const _0x2d282c=new Float32Array(this['numSplats']);_0x2d282c['fill'](_0x28c5d5),_0x2d282c['set'](_0x359194['storage'],-0x5*0x748+0x1*-0x269+0x26d1),_0x359194['storage']=_0x2d282c;}else{if(_0x3be810&&_0x359194['name']==='t'){const _0x3671ea=new Float32Array(this['numSplats']);if(_0x3671ea['set'](_0x359194['storage'],-0x254+0x2*0xda5+-0x6*0x429),_0x2b972a){for(let _0x5d5da8=_0x359194['storage']['length'];_0x5d5da8<this['numSplats'];_0x5d5da8++)_0x3671ea[_0x5d5da8]=_0x3be810['storage'][_0x5d5da8-_0x359194['storage']['length']]+_0x2b972a[(0x4cd*-0x7+-0x2047*0x1+0x41e4)*_0x28c5d5];}else _0x3671ea['set'](_0x3be810['storage'],_0x359194['storage']['length']);_0x359194['storage']=_0x3671ea;}else{if(_0x3be810){const _0x116996=new Float32Array(this['numSplats']);_0x116996['set'](_0x359194['storage'],0x1d01*0x1+-0x1*-0x1f7+-0x1ef8),_0x116996['set'](_0x3be810['storage'],_0x359194['storage']['length']),_0x359194['storage']=_0x116996;}}}}}static['calcSplatA'+'abb'](_0x150a8b,_0x4a1683,_0x400411,_0xeae6f9){z_(Fn,_0x4a1683,_0x400411),Wd['center']['set'](-0x1*0x1bf5+-0x18*0x125+0x7eb*0x7,0x5bc+0x1*0x1ad2+-0x208e,-0x2a*-0x13+-0x17*0x6a+0x668),Wd['halfExtent'+'s']['set'](_0xeae6f9['x']*(-0x2*0x81+0x20f1+0xb*-0x2e7),_0xeae6f9['y']*(-0x7*-0x194+0x2*-0xe3e+0x1172),_0xeae6f9['z']*(-0x7*-0x1d9+-0x25a9*0x1+0x18bc)),_0x150a8b['setFromTra'+'nsformedAa'+'bb'](Wd,Fn);}['getProp'](_0x2f336d,_0x19dccd='vertex'){var _0x532dc5,_0x14dcd0;return(_0x14dcd0=(_0x532dc5=this['getElement'](_0x19dccd))==null?void(0x1067+0x1da3+0x47*-0xa6):_0x532dc5['properties']['find'](_0x183401=>_0x183401['name']===_0x2f336d))==null?void(-0x2b7*0x3+-0x2168+0x298d):_0x14dcd0['storage'];}['getElement'](_0x15fea3){return this['elements']['find'](_0x28cfe3=>_0x28cfe3['name']===_0x15fea3);}['addProp'](_0x2b3ff6,_0x2d36c3){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x2b3ff6,'storage':_0x2d36c3,'byteSize':0x4});}['createIter'](_0x30b088,_0x5e913b,_0x1a3949,_0x5a8965,_0x2adec4){return new N1(this,_0x30b088,_0x5e913b,_0x1a3949,_0x5a8965,_0x2adec4);}['calcAabb'](_0x3812f3,_0x3ef951){let _0x436fbe,_0x2868b9,_0x4e237a,_0x580435,_0x43d5da,_0x149185,_0x3c26e4=!(-0x22b6+-0xfd4*-0x2+0x30e);const _0x8312a2=this['getProp']('x'),_0x53e43b=this['getProp']('y'),_0x32429e=this['getProp']('z'),_0x411bc9=this['getProp']('scale_0'),_0x2acf83=this['getProp']('scale_1'),_0x1c0627=this['getProp']('scale_2');for(let _0x384637=-0x5be+0x5c0+0x2*-0x1;_0x384637<this['numSplats'];++_0x384637){if(_0x3ef951&&!_0x3ef951(_0x384637))continue;const _0x9cc6f4=(0xc2*0x33+-0x1c4b+-0xa59*0x1)*Math['exp'](Math['max'](_0x411bc9[_0x384637],_0x2acf83[_0x384637],_0x1c0627[_0x384637])),_0x596654=_0x8312a2[_0x384637],_0x2865c7=_0x53e43b[_0x384637],_0x3f304a=_0x32429e[_0x384637];_0x3c26e4?(_0x3c26e4=!(0x1*-0x1fff+-0xdcd*0x2+0x1*0x3b9a),_0x436fbe=_0x596654-_0x9cc6f4,_0x2868b9=_0x2865c7-_0x9cc6f4,_0x4e237a=_0x3f304a-_0x9cc6f4,_0x580435=_0x596654+_0x9cc6f4,_0x43d5da=_0x2865c7+_0x9cc6f4,_0x149185=_0x3f304a+_0x9cc6f4):(_0x436fbe=Math['min'](_0x436fbe,_0x596654-_0x9cc6f4),_0x2868b9=Math['min'](_0x2868b9,_0x2865c7-_0x9cc6f4),_0x4e237a=Math['min'](_0x4e237a,_0x3f304a-_0x9cc6f4),_0x580435=Math['max'](_0x580435,_0x596654+_0x9cc6f4),_0x43d5da=Math['max'](_0x43d5da,_0x2865c7+_0x9cc6f4),_0x149185=Math['max'](_0x149185,_0x3f304a+_0x9cc6f4));}return _0x3c26e4||(_0x3812f3['center']['set']((_0x436fbe+_0x580435)*(0x420+-0x489+0x69*0x1+0.5),(_0x2868b9+_0x43d5da)*(-0x1fa+0x23ec+-0x21f2+0.5),(_0x4e237a+_0x149185)*(0x3f6+0x7cf*-0x2+0x2*0x5d4+0.5)),_0x3812f3['halfExtent'+'s']['set']((_0x580435-_0x436fbe)*(-0x141+-0x2429+-0x1*-0x256a+0.5),(_0x43d5da-_0x2868b9)*(0x1724+-0x1a35+-0x311*-0x1+0.5),(_0x149185-_0x4e237a)*(-0x1544+-0x16f1+0x1*0x2c35+0.5))),!_0x3c26e4;}['calcAabbEx'+'act'](_0x32ebed,_0x27b5cc){const _0x1612a2=new T(),_0x4e3e8d=new se(),_0x274fed=new T(),_0x4859c7=this['createIter'](_0x1612a2,_0x4e3e8d,_0x274fed);let _0x36d389=!(-0x1*-0xde7+0x5d1*0x1+-0x13b8);for(let _0x399c15=-0x916*0x3+0x19f8*0x1+0x14a*0x1;_0x399c15<this['numSplats'];++_0x399c15)_0x27b5cc&&!_0x27b5cc(_0x399c15)||(_0x4859c7['read'](_0x399c15),_0x36d389?(_0x36d389=!(-0x2d8*0x4+-0x17a9+0x230a),Ia['calcSplatA'+'abb'](_0x32ebed,_0x1612a2,_0x4e3e8d,_0x274fed)):(Ia['calcSplatA'+'abb'](N_,_0x1612a2,_0x4e3e8d,_0x274fed),_0x32ebed['add'](N_)));return!_0x36d389;}['getCenters'](_0x524c55){const _0x58c991=this['getProp']('x'),_0x4fe0b7=this['getProp']('y'),_0x40f4ae=this['getProp']('z');for(let _0x3aa1bb=-0x1fd8+0x53*0x1a+0x29a*0x9;_0x3aa1bb<this['numSplats'];++_0x3aa1bb)_0x524c55[_0x3aa1bb*(-0x266e*0x1+0x2*0x319+0x203f)+(-0x21d*-0x5+0x3c*-0xd+-0x785)]=_0x58c991[_0x3aa1bb],_0x524c55[_0x3aa1bb*(-0x1927+-0x2*0xb99+0x305c)+(0x2266+-0x1797+0xace*-0x1)]=_0x4fe0b7[_0x3aa1bb],_0x524c55[_0x3aa1bb*(-0x1*-0xf09+0x84*-0x43+0x1386)+(-0x14fc+-0x257+0x3*0x7c7)]=_0x40f4ae[_0x3aa1bb];}['getMuT'](){const _0x24bb40=this['getProp']('t');if(!_0x24bb40)return;const _0x5e4240=new Float32Array(this['numSplats']);for(let _0x5a7918=-0x1013*-0x1+-0x1774+0x761;_0x5a7918<this['numSplats'];++_0x5a7918)_0x5e4240[_0x5a7918]=_0x24bb40[_0x5a7918];return _0x5e4240;}['getTScale'](){const _0x44b1d0=this['getProp']('t_scale');if(!_0x44b1d0)return;const _0x5932a4=new Float32Array(this['numSplats']);for(let _0x31d9cf=-0x13d*0x5+-0x1*-0x2031+-0x1a00;_0x31d9cf<this['numSplats'];++_0x31d9cf)_0x5932a4[_0x31d9cf]=Math['exp'](_0x44b1d0[_0x31d9cf]);return _0x5932a4;}['getMotion'](_0x3c6ba4){const _0x4cdccd=this['getProp']('motion_0'),_0x152c45=this['getProp']('motion_1'),_0x2f6ea1=this['getProp']('motion_2');if(!(!_0x4cdccd||!_0x152c45||!_0x2f6ea1)){for(let _0x491d50=0xe8e+-0x1e04+0xf76;_0x491d50<this['numSplats'];++_0x491d50)_0x3c6ba4[_0x491d50*(0x14a6*0x1+0x213+-0x16b6)+(0x232f*0x1+0x241a+0x4f*-0xe7)]=_0x4cdccd[_0x491d50],_0x3c6ba4[_0x491d50*(0x24b5*-0x1+-0x6f7*-0x2+0x16ca)+(0x86f+0x7*-0x224+0x68e)]=_0x152c45[_0x491d50],_0x3c6ba4[_0x491d50*(0xe71*-0x1+-0x2419+0x328d)+(0x1*-0xc07+-0x241f+0x3028)]=_0x2f6ea1[_0x491d50];}}['getTimeInd'+'ex'](_0x210fe4){const _0x32f989=this['getProp']('time_index');_0x32f989&&_0x210fe4['set'](_0x32f989,0x2*-0xd46+-0x252e+0x3fba);}['calcFocalP'+'oint'](_0x151fc2,_0x1ed7e2){const _0x2b30b2=this['getProp']('x'),_0x584ec5=this['getProp']('y'),_0x2d562a=this['getProp']('z'),_0x5d8cfd=this['getProp']('scale_0'),_0x53b55a=this['getProp']('scale_1'),_0x4298e8=this['getProp']('scale_2');_0x151fc2['x']=0x617*0x4+0x482*-0x7+-0x399*-0x2,_0x151fc2['y']=-0x1*0x2543+0x2469+-0x2*-0x6d,_0x151fc2['z']=-0x73c+-0x4*-0x8bf+0xde*-0x20;let _0x5ead81=0x4b*-0x17+-0x8*-0x3c8+-0x1783;for(let _0x476c81=0xbe3+-0x16fd*-0x1+-0x45c*0x8;_0x476c81<this['numSplats'];++_0x476c81){if(_0x1ed7e2&&!_0x1ed7e2(_0x476c81))continue;const _0x10cd04=(0x155c+-0x1a*-0x85+0x69*-0x55)/(-0x2d9+-0x1*-0x10ee+-0xe14+Math['exp'](Math['max'](_0x5d8cfd[_0x476c81],_0x53b55a[_0x476c81],_0x4298e8[_0x476c81])));_0x151fc2['x']+=_0x2b30b2[_0x476c81]*_0x10cd04,_0x151fc2['y']+=_0x584ec5[_0x476c81]*_0x10cd04,_0x151fc2['z']+=_0x2d562a[_0x476c81]*_0x10cd04,_0x5ead81+=_0x10cd04;}_0x151fc2['mulScalar']((-0x12b7+0x1*0x1975+-0x4b*0x17)/_0x5ead81);}['renderWire'+'frameBound'+'s'](_0xfb8192,_0x50db89){const _0x44f22c=new T(),_0x411f75=new se(),_0x41de6c=new T(),_0x12a148=new T(),_0x229bca=new T(),_0x3657ad=this['createIter'](_0x44f22c,_0x411f75,_0x41de6c);for(let _0x2dcb80=-0x607*0x1+-0x1709+0x1d10;_0x2dcb80<this['numSplats'];++_0x2dcb80)_0x3657ad['read'](_0x2dcb80),z_(Fn,_0x44f22c,_0x411f75),Fn['mul2'](_0x50db89,Fn),_0x12a148['set'](_0x41de6c['x']*-(-0x3fd*0x9+0x10c1*0x2+0x265),_0x41de6c['y']*-(-0x14d9*-0x1+-0x2417*0x1+-0x8*-0x1e8),_0x41de6c['z']*-(-0x2eb*-0x5+0x2024*-0x1+0x1d*0x9b)),_0x229bca['set'](_0x41de6c['x']*(-0x1ed*-0x13+0x1df*-0x2+0x1*-0x20d7),_0x41de6c['y']*(0x4db*0x3+0xe76+-0x1b5*0x11),_0x41de6c['z']*(0x2151+-0x3d5+-0x4d*0x62)),_0xfb8192['immediate']['drawWireAl'+'ignedBox'](_0x12a148,_0x229bca,B1,!(-0x1*0x83f+0x1*-0xcb5+0x24*0x95),_0xfb8192['defaultDra'+'wLayer'],Fn);}get['isCompress'+'ed'](){return!(-0xf84*0x1+-0x3*-0x631+-0x30e);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x12a8ec=0xa11+0x2342+-0x29*0x11b;_0x12a8ec<-0x13d*-0xe+-0x1c05+-0x4*-0x2b7;++_0x12a8ec)if(!this['getProp']('f_rest_'+_0x12a8ec))return _0x12a8ec;return 0xb02*-0x3+0x1594+0x1a9*0x7;})())]??-0x1a53+0xf9*0x6+0x147d;}['calcMorton'+'Order'](){const _0x125e2b=_0x4cc8a5=>{let _0x4aeae9=_0x4cc8a5[-0x5e3+-0x7e1+0x6e2*0x2],_0x3b6a93=_0x4cc8a5[0x2693+-0xf9d+-0x16f6];for(let _0x34d9ab=0xa*-0x112+0x7cf*0x4+-0x1487;_0x34d9ab<_0x4cc8a5['length'];_0x34d9ab++)_0x4cc8a5[_0x34d9ab]<_0x4aeae9&&(_0x4aeae9=_0x4cc8a5[_0x34d9ab]),_0x4cc8a5[_0x34d9ab]>_0x3b6a93&&(_0x3b6a93=_0x4cc8a5[_0x34d9ab]);return{'min':_0x4aeae9,'max':_0x3b6a93};},_0x458d6a=(_0x24b958,_0x4ca206,_0xb903a9)=>{const _0x420737=_0x1ec81b=>(_0x1ec81b&=0x5*0x7a1+-0x2e8+-0x1f3e,_0x1ec81b=(_0x1ec81b^_0x1ec81b<<-0x1574+-0x83*0x9+-0x8b5*-0x3)&0x1e27d4893+0x29040fe8+-0x10c81577c,_0x1ec81b=(_0x1ec81b^_0x1ec81b<<0xd71*0x2+0x1355+-0x2e2f)&0x2*-0x1a45f95+0x1*-0x42cc04a+0xa766f83,_0x1ec81b=(_0x1ec81b^_0x1ec81b<<-0x2645+0x6f8*0x4+0xa69)&0x1ea241*-0x25+0x1589*0x3420+-0xa*-0x4f1cb4,_0x1ec81b=(_0x1ec81b^_0x1ec81b<<0x153d+-0x203b+0x2*0x580)&-0x1*0xb034a4f+-0x9821b+-0x9*-0x23e5fdb,_0x1ec81b);return(_0x420737(_0xb903a9)<<-0x22b7*-0x1+-0x5*-0x3e1+-0x361a)+(_0x420737(_0x4ca206)<<0x1c*0xc4+0x9b*-0x5+-0x1268)+_0x420737(_0x24b958);},_0x5951d9=this['getProp']('x'),_0x2c3ca0=this['getProp']('y'),_0x161276=this['getProp']('z'),{min:_0x5149dc,max:_0x5ab21a}=_0x125e2b(_0x5951d9),{min:_0x39d7ae,max:_0x34f281}=_0x125e2b(_0x2c3ca0),{min:_0x2025c9,max:_0x5ac60b}=_0x125e2b(_0x161276),_0x38b44b=_0x5149dc===_0x5ab21a?0x1109+0x932+-0x1a3b:(-0x5c7*-0x1+0x7b1+-0x2*0x4bc)/(_0x5ab21a-_0x5149dc),_0x5eb3bb=_0x39d7ae===_0x34f281?0x10a9+0x1a5c+-0x2b05:(-0xb*0x52+0xe9*0x2+0x5b4)/(_0x34f281-_0x39d7ae),_0x1dc251=_0x2025c9===_0x5ac60b?0x1*0x4c8+-0x7d*-0x3+0x215*-0x3:(0x69*-0xf+-0xc9*-0x5+0x63a)/(_0x5ac60b-_0x2025c9),_0x2796cc=new Map();for(let _0x587d4e=-0x559*-0x1+0x2*-0xdc7+0x1635;_0x587d4e<this['numSplats'];_0x587d4e++){const _0x42f315=Math['floor']((_0x5951d9[_0x587d4e]-_0x5149dc)*_0x38b44b),_0x27a60a=Math['floor']((_0x2c3ca0[_0x587d4e]-_0x39d7ae)*_0x5eb3bb),_0x5b2f4a=Math['floor']((_0x161276[_0x587d4e]-_0x2025c9)*_0x1dc251),_0x2a187d=_0x458d6a(_0x42f315,_0x27a60a,_0x5b2f4a),_0x8fc161=_0x2796cc['get'](_0x2a187d);_0x8fc161?_0x8fc161['push'](_0x587d4e):_0x2796cc['set'](_0x2a187d,[_0x587d4e]);}const _0x2d2ed2=Array['from'](_0x2796cc['keys']())['sort']((_0x3f2d6b,_0x58ce36)=>_0x3f2d6b-_0x58ce36),_0xac7d63=new Uint32Array(this['numSplats']);let _0x26d9a7=-0x21ae+0x3ab+0x1e03;for(let _0x413039=0x259c+0x3*0x14d+0x1*-0x2983;_0x413039<_0x2d2ed2['length'];++_0x413039){const _0x18278c=_0x2796cc['get'](_0x2d2ed2[_0x413039]);for(let _0x198b50=-0x1*0x1b9+-0x1bd6+0x1d8f;_0x198b50<_0x18278c['length'];++_0x198b50)_0xac7d63[_0x26d9a7++]=_0x18278c[_0x198b50];}return _0xac7d63;}['reorder'](_0x42fc48){const _0x54adeb=new Map(),_0x10068e=_0xacfc57=>{if(_0x54adeb['has'](_0xacfc57)){const _0x3ccacd=_0x54adeb['get'](_0xacfc57);return _0x54adeb['delete'](_0xacfc57),_0x3ccacd;}return new ArrayBuffer(_0xacfc57);},_0x1f9a19=_0x26a083=>{_0x54adeb['set'](_0x26a083['byteLength'],_0x26a083);},_0x4be234=_0x4359fd=>{const _0x5b4e6b=new _0x4359fd['constructo'+'r'](_0x10068e(_0x4359fd['byteLength']));for(let _0x1e7ded=0x2*-0x509+-0x2533*0x1+0x2f45*0x1;_0x1e7ded<_0x42fc48['length'];_0x1e7ded++)_0x5b4e6b[_0x1e7ded]=_0x4359fd[_0x42fc48[_0x1e7ded]];return _0x1f9a19(_0x4359fd['buffer']),_0x5b4e6b;};this['elements']['forEach'](_0xea821a=>{_0xea821a['properties']['forEach'](_0x12fee0=>{_0x12fee0['storage']&&(_0x12fee0['storage']=_0x4be234(_0x12fee0['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const z0=(_0x25738a={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x3a5e8f=_0x25738a['dither']??Rs,_0x28fd78=_0x3a5e8f!==Rs,_0x4874da=new Ra({'uniqueName':'SplatMater'+'ial','vertexCode':_0x25738a['vertex']??X['gsplatVS'],'fragmentCode':_0x25738a['fragment']??X['gsplatPS'],'attributes':{'vertex_position':He,'vertex_id_attrib':ga}});return _0x4874da['setDefine']('DITHER_'+_0x3a5e8f['toUpperCas'+'e'](),''),_0x4874da['cull']=mt,_0x4874da['blendType']=_0x28fd78?is:hr,_0x4874da['depthWrite']=_0x28fd78,_0x4874da['update'](),_0x4874da;};async function z1(){self['onmessage']=async _0x4709af=>{const {data:_0x4258fa}=_0x4709af;switch(_0x4258fa['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x12dc62(_0x4258fa['numSplats'],_0x4258fa['shBands'],_0x4258fa['SHData']);break;}};const _0x12dc62=(_0x39a429,_0x432863,_0x2c3b5a)=>{const _0x3dd4ef=new Uint32Array(_0x39a429*(-0x43e*0x1+0xde7+-0x9a5)),_0x552fe2=new Uint32Array(_0x39a429*(-0x1ce3+-0x233c+-0x1a5*-0x27)),_0x1dcddb=new Uint32Array(_0x39a429*(-0x15*-0x19d+-0xeca*0x1+-0x1313)),_0x4ac8a5=new Uint32Array(_0x39a429*(-0x1*-0x1cc5+0x1*-0x2de+-0x2f*0x8d)),_0x32b089={0x1:0x3,0x2:0x8,0x3:0xf}[_0x432863],_0x2286e6=_0x2c3b5a,_0x1e8508=-0x212b+-0x1dcf+0x46f9,_0x5b69ef=-0x18b7*-0x1+-0xf98*-0x2+0x2c*-0x12e,_0x997ea0=new Float32Array(-0x1*-0x913+0x1c4*-0x8+0x50e),_0x572be2=new Uint32Array(_0x997ea0['buffer']),_0x28b5a8=new Array(_0x32b089*(0x245c+0x2bb*-0x5+-0x16b2))['fill'](0x9ef*0x1+-0x305*0x5+-0x52a*-0x1);for(let _0x425061=0x1e10+-0x11d4+-0xc3c;_0x425061<_0x39a429;++_0x425061){for(let _0x2c43f9=-0x1c2b+-0x4*-0x133+0xc1*0x1f;_0x2c43f9<_0x32b089;++_0x2c43f9)_0x28b5a8[_0x2c43f9*(0x1*-0x2287+0x1816+0xc*0xdf)]=_0x2286e6[_0x2c43f9][_0x425061],_0x28b5a8[_0x2c43f9*(0x24cc+-0x1696+0xe33*-0x1)+(0x103e+0xe4c+-0x1e89)]=_0x2286e6[_0x2c43f9+_0x32b089][_0x425061],_0x28b5a8[_0x2c43f9*(-0x228+0x16ff+-0x2b*0x7c)+(-0x6*0x17e+-0x1b0e+0x2404)]=_0x2286e6[_0x2c43f9+_0x32b089*(-0x2454+0xa97*-0x2+0x3984)][_0x425061];let _0x2e29df=_0x28b5a8[-0xd01+-0x196e+0x266f];for(let _0x1a2868=-0x2435*-0x1+0x13ea+0x2*-0x1c0f;_0x1a2868<_0x32b089*(-0x1*-0xb5c+0x1610+-0x2169);++_0x1a2868)_0x2e29df=Math['max'](_0x2e29df,Math['abs'](_0x28b5a8[_0x1a2868]));if(_0x2e29df!==-0xd*0x28a+-0x562+0x2664){for(let _0x3361b8=-0x3ad+0x4*0x93b+-0x213f*0x1;_0x3361b8<_0x32b089;++_0x3361b8)_0x28b5a8[_0x3361b8*(-0x953+0x7*0x4fe+0x4*-0x667)+(-0xd8b*0x2+-0x4db+-0x275*-0xd)]=Math['max'](0xd*-0x137+-0x1a0+-0xd*-0x157,Math['min'](_0x1e8508,Math['floor']((_0x28b5a8[_0x3361b8*(-0xf29+0x409+0xb23*0x1)+(-0x1377+0x1*0x3a5+0xfd2)]/_0x2e29df*(0x1958+0xd3f*0x2+0x1*-0x33d6+0.5)+(0x1164+0x424+-0x1588+0.5))*_0x1e8508+(-0x6f*-0x50+-0x1529+-0xd87+0.5)))),_0x28b5a8[_0x3361b8*(-0x65*0x26+0x241*-0x3+-0x1*-0x15c4)+(-0x3*0x7be+-0x7ce+-0x23*-0xe3)]=Math['max'](-0x1dde+-0x1ed7+-0x1*-0x3cb5,Math['min'](_0x5b69ef,Math['floor']((_0x28b5a8[_0x3361b8*(0xe35*0x1+-0x1a33+0xc01)+(-0x996+0x131d+0x986*-0x1)]/_0x2e29df*(0x2*0xe0a+0xc47*-0x1+0x1*-0xfcd+0.5)+(0x655*-0x2+0x2603+-0x1959+0.5))*_0x5b69ef+(-0x11ce+0x1c7*-0x2+-0xaae*-0x2+0.5)))),_0x28b5a8[_0x3361b8*(-0x41*-0x65+-0xa29*0x3+0x4d9)+(0x1*-0x77e+0x387+0x3f9)]=Math['max'](-0xa6*0x3+0x1*-0x14bd+0x16af,Math['min'](_0x1e8508,Math['floor']((_0x28b5a8[_0x3361b8*(0x19*0x8+-0x110a+0x1045)+(0x23fb+-0x18d*-0x4+-0x2a2d)]/_0x2e29df*(-0x2*0xfe9+-0xae*0x16+0x2ec6+0.5)+(0x1759+0x1d4b*-0x1+-0x1*-0x5f2+0.5))*_0x1e8508+(0x731+0xeb6+-0x15e7+0.5))));_0x997ea0[0xbf1*0x1+-0x2*0x8b3+0x575]=_0x2e29df,_0x3dd4ef[_0x425061*(-0x1ef*-0x2+-0x2f*-0x84+0x1*-0x1c16)+(0x13e3*0x1+-0xd89+-0x65a)]=_0x572be2[-0x2397*0x1+0x13f5+-0x29b*-0x6],_0x3dd4ef[_0x425061*(-0x11e1*-0x2+-0x17f*0x19+0x1a9)+(0xb*0x92+-0x485+-0x1c0)]=_0x28b5a8[0x850+-0x4c*0x5f+-0x13*-0x10c]<<0x1164+-0x1*0x2166+-0x1017*-0x1|_0x28b5a8[-0x5*0x5e7+0x11a*0x11+0x565*0x2]<<-0x5*-0x33e+0x18c2+0x1*-0x28ed|_0x28b5a8[-0x821*-0x1+0xd3*-0xd+0x298],_0x3dd4ef[_0x425061*(-0x1f59+-0x2*0xbfa+0x3751)+(-0x26a7*-0x1+0x32+-0x3d*0xa3)]=_0x28b5a8[-0x1*0x593+-0x1*-0xa57+-0x4c1*0x1]<<-0xe19*0x2+0x6*-0x190+-0x15*-0x1cb|_0x28b5a8[-0x14eb+0x2127+-0xc38]<<-0xd68+0x1a*-0x42+-0x2e1*-0x7|_0x28b5a8[0x11d1+0x2464+0x10*-0x363],_0x3dd4ef[_0x425061*(-0xd92+0x2ed*0x3+0x4cf)+(-0x67*-0x59+0x1c09+-0x1*0x3fd5)]=_0x28b5a8[-0x1f3b+-0xd18+0x2c59*0x1]<<-0x83*0x23+-0x2509*-0x1+-0x130b|_0x28b5a8[0x19e8+0x1eaf+-0x3890]<<0x1c44+0x1*-0x13d+-0x1afc|_0x28b5a8[-0x8e5*-0x3+-0x4*-0x51+-0x1beb],_0x432863>0x1105*0x2+-0x10a4+-0x3d*0x49&&(_0x552fe2[_0x425061*(0xed9+0x70d+-0xaf1*0x2)+(-0x1*-0x123e+0x14*0x47+-0x17ca)]=_0x28b5a8[-0x9*-0x137+-0x10d*-0x6+0x3*-0x5bc]<<-0x2f*0x35+-0x85*0x2e+0x21b6|_0x28b5a8[0x6*0x5c2+0x2dd*0x5+-0x30d3]<<-0x2159+-0x1823+-0x1*-0x3987|_0x28b5a8[-0xdfe+0xe3*-0x11+0x1d1c],_0x552fe2[_0x425061*(-0x10f9+0xb32*-0x1+0x1c2f)+(0xaa*0x1d+-0x12d*-0x7+-0x1b7c)]=_0x28b5a8[0x23c+-0xb14*-0x3+-0x236c]<<0x2106+0xbe3+-0x2cd4|_0x28b5a8[-0x8*0x385+0x495+0x3f*0x60]<<-0x106f+0x2*-0x5d1+0x1c1c|_0x28b5a8[-0xbde+-0x158c+-0x1c*-0x132],_0x552fe2[_0x425061*(0x1d*0xb5+-0x361+0x5*-0x36c)+(-0x2406+0x1419+-0x1*-0xfef)]=_0x28b5a8[-0x1e27+-0x1*-0x1f2d+-0xf7]<<0xb78+0xc71+0x4c4*-0x5|_0x28b5a8[0x1115*0x1+-0x1e2d+0x8*0x1a5]<<0x8df+-0x21f3+-0x3b*-0x6d|_0x28b5a8[0x2b0+0x192f*0x1+-0x1bce],_0x552fe2[_0x425061*(0x147b+-0x37+-0x1440)+(0x7cb+-0x196a+0x11a2)]=_0x28b5a8[-0x27+-0x1b02+0x1b3b]<<-0x2*0xef7+0x177d+0x14e*0x5|_0x28b5a8[-0x260*-0x4+-0x1949*0x1+0xa*0x196]<<-0x16b5+0x324*-0x9+-0x5*-0xa34|_0x28b5a8[0x21eb+-0x4*0x241+-0x9b*0x29],_0x432863>-0x2bc+-0x9*0x1a1+0x1167?(_0x1dcddb[_0x425061*(0x1ccf+-0x12*-0x177+-0x3729)+(-0x17*-0x1af+-0x14*0x10d+-0x3*0x5e7)]=_0x28b5a8[-0x2*0xc8a+-0x187f*-0x1+0xaa]<<-0xc*-0xb1+-0x17*-0x8e+-0x14f9|_0x28b5a8[0x1f7c+0x8ec+0x1a*-0x18d]<<-0x214f+0x4*0x473+0xf8e|_0x28b5a8[-0xb*0x2d9+0x2474+-0x2b*0x1e],_0x1dcddb[_0x425061*(0x236+-0x1*-0x7bb+-0x9ed)+(0x1357+-0x2*0xedd+0x85*0x14)]=_0x28b5a8[0x995*0x1+0xcc9*0x1+-0x1646]<<0x381*-0x1+0x1*0x2415+-0x207f|_0x28b5a8[0xba8+-0x257+-0x938]<<0x45a*0x2+-0x1891*0x1+0xfe8|_0x28b5a8[-0x1377+0x40b+0xf86],_0x1dcddb[_0x425061*(0x3a*-0xa+-0x6c4+-0x486*-0x2)+(0x19af+-0xe45+-0xb68)]=_0x28b5a8[-0x135f+-0x22*0xa+0x14ce]<<-0x151e+-0xe20+-0x1*-0x2353|_0x28b5a8[0x89d+0x2a4*0xb+-0x1*0x258d]<<0x1*-0x2507+-0x24db+0x49ed|_0x28b5a8[0x5e0*0x4+0x11*-0x97+-0xd5c],_0x1dcddb[_0x425061*(0xa5e+-0x5*-0x125+-0x1013*0x1)+(0x243+0x97*-0x22+-0x11ce*-0x1)]=_0x28b5a8[-0x855+0x3*-0xa93+-0x4*-0xa0b]<<-0x1f69+0x6e2+-0x4*-0x627|_0x28b5a8[0x240b+0x32*0x4d+-0x32f6]<<0x1a99+-0x5c*0x4f+0xa*0x2f|_0x28b5a8[0x23f3+-0x1412+-0xfc1],_0x4ac8a5[_0x425061*(-0x2505+0x22d*0xa+-0x1*-0xf47)+(0x1ef5+-0x1*-0xea1+-0x2d96)]=_0x28b5a8[0x1*0x17b2+-0x1857+0xb*0x12]<<-0x5a*-0x4f+0x953+0x19c*-0x17|_0x28b5a8[-0x7b1+-0x1a91+0x47*0x7c]<<-0x1f64+-0x116e+-0x1*-0x30dd|_0x28b5a8[0x2f*0xb2+-0x1841+0x1*-0x84a],_0x4ac8a5[_0x425061*(-0xefa+-0x1677+0x2575)+(-0x80d*-0x3+0x22c8+-0x3aee)]=_0x28b5a8[0x462+0x1f66+-0x23a4]<<-0x1788+0x2*-0x631+-0x733*-0x5|_0x28b5a8[0x1783+-0x1052+0x1c3*-0x4]<<0x168f+-0x14bd+-0x1c7|_0x28b5a8[0x1006+-0x13f3*-0x1+0x9*-0x3fb],_0x4ac8a5[_0x425061*(-0x517*-0x1+-0x1b32+0x161f*0x1)+(0x12*-0xdf+0x21b7+-0x163*0xd)]=_0x28b5a8[0x153d+-0x14b2+-0x5*0x14]<<-0x18f8+0x1138+0x7d5|_0x28b5a8[-0x2094+-0x1934+-0x4*-0xe7c]<<-0x1*0x4d5+-0x22dc*-0x1+-0x1dfc|_0x28b5a8[-0x1*-0x23a2+-0xb9d*0x3+-0xa2],_0x4ac8a5[_0x425061*(0x1+-0x2a5*0x9+0xfe*0x18)+(0x16e8+0x2*0x251+0x92d*-0x3)]=_0x28b5a8[0x14a4+0x190+-0x160a]<<0x841*-0x2+0xb*-0x34b+0x34d0|_0x28b5a8[0x208f+0x2244+-0x1*0x42a8]<<-0x11*0x1df+-0x5*-0xc5+-0x1c01*-0x1|_0x28b5a8[-0x8*0x134+0xb2b+0x9*-0x27]):_0x1dcddb[_0x425061]=_0x28b5a8[0x1*0x1de6+-0xd6d+-0x419*0x4]<<0x19ef+-0x1dc9+0x3ef|_0x28b5a8[-0x1*0xa5a+0xb1b*-0x3+-0x17*-0x1e7]<<0x1*-0x24ec+-0x4*0x43f+0x35f3*0x1|_0x28b5a8[-0x1*-0x2a2+-0x6a*0x5a+0x22b9]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0x3dd4ef,'sh4to7Data':_0x552fe2,'sh8to11Data':_0x1dcddb,'sh12to15Data':_0x4ac8a5},[_0x3dd4ef['buffer'],_0x552fe2['buffer'],_0x1dcddb['buffer'],_0x4ac8a5['buffer']]);};}class U1 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+z1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x51e64d=>{if(!this['worker'])return;const {data:_0x4b6ce9}=_0x51e64d;switch(_0x4b6ce9['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x4b6ce9['sh1to3Data'],_0x4b6ce9['sh4to7Data'],_0x4b6ce9['sh8to11Dat'+'a'],_0x4b6ce9['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x130ce9,_0xdaa7e5,_0x1451ee){var _0x16a1f0;(_0x16a1f0=this['worker'])==null||_0x16a1f0['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x130ce9,'shBands':_0xdaa7e5,'SHData':_0x1451ee});}['destroy'](){var _0x2004f0;this['worker']&&((_0x2004f0=this['worker'])==null||_0x2004f0['terminate'](),this['worker']=null);}}const U_=(_0x276af4,_0x23caf0)=>{const _0x58431c=[];for(let _0x8fb8fb=0xf2d+-0x1*0x7ab+-0x3e*0x1f;_0x8fb8fb<_0x23caf0;++_0x8fb8fb)_0x58431c['push'](_0x276af4['getProp']('f_rest_'+_0x8fb8fb));return _0x58431c;};class V1{constructor(_0x5dafe8,_0x5a9ddc){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x1863f6=_0x5a9ddc['numSplats'];this['device']=_0x5dafe8,this['numSplats']=_0x1863f6,this['numSplatsV'+'isible']=_0x1863f6,this['updateData'+'Worker']=new U1(),this['centers']=new Float32Array(_0x5a9ddc['numSplats']*(-0x1de6+0x44*0x51+0x865)),this['motion']=new Float32Array(_0x5a9ddc['numSplats']*(-0x1f0*-0x14+-0x137a+-0x1343)),this['timeIndex']=new Float32Array(_0x5a9ddc['numSplats']),_0x5a9ddc['getCenters'](this['centers']),_0x5a9ddc['getMotion'](this['motion']),_0x5a9ddc['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x5a9ddc['getMuT'](this['timeOption']),this['tScale']=_0x5a9ddc['getTScale'](),this['is4D']=_0x5a9ddc['is4D'],this['aabb']=new _e(),_0x5a9ddc['calcAabb'](this['aabb']);const _0x35f776=this['evalTextur'+'eSize'](_0x1863f6);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x35f776),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x35f776),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x35f776),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x35f776),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x35f776),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x35f776)),this['updateColo'+'rData'](_0x5a9ddc),this['updateTran'+'sformData'](_0x5a9ddc),this['shBands']=_0x5a9ddc['shBands'],this['shBands']>0x1*0xee+-0xcf1*-0x3+0x27c1*-0x1&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x35f776),this['shBands']>-0x2*-0x11de+-0x349*0x2+-0x1d29&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x35f776),this['shBands']>0x237d+-0xd*-0x34+-0x261f?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x35f776),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x35f776)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x35f776)),this['updateSHDa'+'ta'](_0x5a9ddc));}['updateData'](_0x2d75a8){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x1412a6=_0x2d75a8['numSplats'];this['numSplats']=_0x1412a6,this['numSplatsV'+'isible']=_0x1412a6,this['centers']=new Float32Array(_0x2d75a8['numSplats']*(-0x3ad*-0x8+-0x2b3*0x3+-0x5e*0x3a)),this['motion']=new Float32Array(_0x2d75a8['numSplats']*(0x21*0x50+0x9e3+-0x1430)),this['timeIndex']=new Float32Array(_0x2d75a8['numSplats']),_0x2d75a8['getCenters'](this['centers']),_0x2d75a8['getMotion'](this['motion']),_0x2d75a8['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x2d75a8['getMuT'](this['timeOption']),this['tScale']=_0x2d75a8['getTScale'](),this['is4D']=_0x2d75a8['is4D'],this['aabb']=new _e(),_0x2d75a8['calcAabb'](this['aabb']);const _0x230215=this['evalTextur'+'eSize'](_0x1412a6);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x230215),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x230215),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x230215),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x230215),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x230215),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x230215)),this['updateColo'+'rData'](_0x2d75a8),this['updateTran'+'sformData'](_0x2d75a8),this['shBands']=_0x2d75a8['shBands'],this['shBands']>0xea1*0x1+-0x1*-0x1735+-0x25d6&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x230215),this['shBands']>0x936+-0x4b6+-0x1*0x47f&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x230215),this['shBands']>-0x1*-0xdc6+0x1b87+-0x1f*0x155?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x230215),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x230215)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x230215)),this['updateSHDa'+'ta'](_0x2d75a8));}['destroy'](){var _0x1325a7,_0x36df5c,_0x25dc55,_0x193e24,_0x3d1bd5,_0x405f04,_0x19431c,_0x2862bc,_0x1af748,_0x58183a;(_0x1325a7=this['colorTextu'+'re'])==null||_0x1325a7['destroy'](),(_0x36df5c=this['transformA'+'Texture'])==null||_0x36df5c['destroy'](),(_0x25dc55=this['transformB'+'Texture'])==null||_0x25dc55['destroy'](),(_0x193e24=this['transformR'+'Texture'])==null||_0x193e24['destroy'](),(_0x3d1bd5=this['transformT'+'SpeedTextu'+'re'])==null||_0x3d1bd5['destroy'](),(_0x405f04=this['transformT'+'Texture'])==null||_0x405f04['destroy'](),(_0x19431c=this['sh1to3Text'+'ure'])==null||_0x19431c['destroy'](),(_0x2862bc=this['sh4to7Text'+'ure'])==null||_0x2862bc['destroy'](),(_0x1af748=this['sh8to11Tex'+'ture'])==null||_0x1af748['destroy'](),(_0x58183a=this['sh12to15Te'+'xture'])==null||_0x58183a['destroy']();}['createMate'+'rial'](_0x2e0d22){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0x452955=z0(_0x2e0d22);return _0x452955['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x452955['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x452955['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x452955['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0x452955['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0x452955['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0x452955['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x452955['setDefine']('SH_BANDS',this['shBands']),_0x452955['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x452955['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x452955['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x452955['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x452955['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0x452955;}['evalTextur'+'eSize'](_0xb05bd1){const _0xa6ff6b=Math['ceil'](Math['sqrt'](_0xb05bd1)),_0xdb6fbc=Math['ceil'](_0xb05bd1/_0xa6ff6b);return new $(_0xa6ff6b,_0xdb6fbc);}['createText'+'ure'](_0x14a3b7,_0x23d676,_0xfd0d2a){return new he(this['device'],{'name':_0x14a3b7,'width':_0xfd0d2a['x'],'height':_0xfd0d2a['y'],'format':_0x23d676,'cubemap':!(0x1*0x68e+0xbd6+0x1263*-0x1),'mipmaps':!(-0x50+0x2*0x2c+0x7*-0x1),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['updateColo'+'rData'](_0x235b45){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x13ce9e=this['colorTextu'+'re'];if(!_0x13ce9e)return;const _0x3696e1=$t['float2Half'],_0x25ebe4=_0x13ce9e['lock'](),_0x554b66=_0x235b45['getProp']('f_dc_0'),_0x32debb=_0x235b45['getProp']('f_dc_1'),_0x249671=_0x235b45['getProp']('f_dc_2'),_0x2d83a5=_0x235b45['getProp']('opacity'),_0x148137=-0x26d7*0x1+-0x7*-0x42c+0x9a3+0.28209479177387814;for(let _0xe775f5=-0xfd9*0x1+-0x1*-0x15b2+0x1*-0x5d9;_0xe775f5<this['numSplats'];++_0xe775f5){const _0x26be09=_0x554b66[_0xe775f5]*_0x148137+(0x5d*0x34+0x1*0x1ceb+-0x1*0x2fcf+0.5),_0x2fc81c=_0x32debb[_0xe775f5]*_0x148137+(-0x115*0xc+-0x1cfd+0x23*0x133+0.5),_0x49244d=_0x249671[_0xe775f5]*_0x148137+(0x1356+-0x10ac+-0x2aa+0.5),_0x146da3=(-0x352*0x2+-0x47*0x6e+0x2527)/(-0x1760+-0xd25+0x2486*0x1+Math['exp'](-_0x2d83a5[_0xe775f5]));_0x25ebe4[_0xe775f5*(0x62+-0x2104+0x20a6)+(0x1386+-0x266b+0x12e5)]=_0x3696e1(_0x26be09),_0x25ebe4[_0xe775f5*(0xae4+0x13ca+-0x1eaa)+(-0x1fff+-0x609+-0x5b*-0x6b)]=_0x3696e1(_0x2fc81c),_0x25ebe4[_0xe775f5*(-0x1*-0x1137+-0xe*-0x40+-0x14b3)+(-0x162b+0x637*-0x5+-0xd5*-0x40)]=_0x3696e1(_0x49244d),_0x25ebe4[_0xe775f5*(0x21e*0x4+0x8f4+0x8b4*-0x2)+(-0x133*-0x17+-0x1b66+0x16*-0x2)]=_0x3696e1(_0x146da3);}_0x13ce9e['unlock']();}['updateTran'+'sformData'](_0x4cd60a){var _0x556e32,_0xc1e8a7,_0xfc1e55,_0x1b70bb;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x1d9a52=$t['float2Half'];if(!this['transformA'+'Texture'])return;const _0x444d7b=this['transformA'+'Texture']['lock'](),_0x9978ca=new Float32Array(_0x444d7b['buffer']),_0x3a1c3d=this['transformR'+'Texture']['lock'](),_0x40b9cc=new Float32Array(_0x3a1c3d['buffer']),_0x53d897=this['transformB'+'Texture']['lock'](),_0x43c4d7=(_0x556e32=this['transformT'+'SpeedTextu'+'re'])==null?void(0xb*0x32f+-0x17a3+-0xb62):_0x556e32['lock']();let _0x543a7e;_0x43c4d7&&(_0x543a7e=new Float32Array(_0x43c4d7['buffer']));const _0x24da26=(_0xc1e8a7=this['transformT'+'Texture'])==null?void(0x11d7*0x2+0x46*0x15+0xb*-0x3c4):_0xc1e8a7['lock']();let _0x3adabb;_0x24da26&&(_0x3adabb=new Float32Array(_0x24da26['buffer']));const _0x21a736=new T(),_0x1177b0=new se(),_0x4b758f=new T(),_0x3828df=new T(),_0x2844df=_0x4cd60a['createIter'](_0x21a736,_0x1177b0,_0x4b758f,null,_0x3828df),_0x2bcc6d=_0x4cd60a['getProp']('t'),_0xc22140=_0x4cd60a['getProp']('t_scale');for(let _0xb8fbe0=0x8*-0x8d+-0x1*-0x2511+0x3a1*-0x9;_0xb8fbe0<this['numSplats'];_0xb8fbe0++)_0x2844df['read'](_0xb8fbe0),_0x1177b0['normalize'](),_0x1177b0['w']<0x9a1+0x432*0x4+-0x1a69&&_0x1177b0['mulScalar'](-(0x1*0xb1e+0x91*-0x31+-0x58c*-0x3)),_0x9978ca[_0xb8fbe0*(-0x122*0xb+-0x151+0x1*0xdcb)+(-0xd4b*-0x2+0x4c7+-0xd9*0x25)]=_0x21a736['x'],_0x9978ca[_0xb8fbe0*(-0x2344+0x1*-0x238a+0x46d2)+(0x1*-0x2408+0x1a6*-0x7+0x2f93)]=_0x21a736['y'],_0x9978ca[_0xb8fbe0*(0x3*-0x468+0x154b+0x1*-0x80f)+(-0x2034+-0xb05*-0x3+-0x1f*0x7)]=_0x21a736['z'],_0x53d897[_0xb8fbe0*(-0x173f*0x1+-0x1469+0x2bac)+(0x1b0+0x269c*-0x1+0x24ec)]=_0x1d9a52(_0x4b758f['x']),_0x53d897[_0xb8fbe0*(0x5b*0xd+0x251*-0x6+0x319*0x3)+(0x6a5+0x3d*-0x5+0x5d*-0xf)]=_0x1d9a52(_0x4b758f['y']),_0x53d897[_0xb8fbe0*(-0xc1b+-0xf24+-0x1b43*-0x1)+(0x11*0x1bc+-0x1cfc+-0x7e)]=_0x1d9a52(_0x4b758f['z']),_0x40b9cc[_0xb8fbe0*(0x2011+-0x3*-0x20b+-0xb5*0x36)+(-0x3*0xad6+-0x14a2+0xb3*0x4c)]=_0x1177b0['x'],_0x40b9cc[_0xb8fbe0*(0x1*-0x6c9+-0x17db+0x1ea8)+(-0x3*-0xc5f+0x23b9+0x48d5*-0x1)]=_0x1177b0['y'],_0x40b9cc[_0xb8fbe0*(-0x2097+-0x2*0xbe1+0x385d*0x1)+(-0x194*-0xe+0x4ce+-0x4*0x6b9)]=_0x1177b0['z'],this['is4D']&&_0x543a7e&&_0x3adabb&&(_0x543a7e[_0xb8fbe0*(-0x124c+0xb03+0x74d)+(0xb*0x202+0x38*0x1+-0x164e)]=_0x3828df['x'],_0x543a7e[_0xb8fbe0*(0x2493+0x30d*-0x2+-0x1e75)+(-0x15ed+-0xe*0x204+0x3226)]=_0x3828df['y'],_0x543a7e[_0xb8fbe0*(0xeb7*-0x2+0x48b+0x4fb*0x5)+(-0x241c+-0x482*-0x6+0x912)]=_0x3828df['z'],_0x3adabb[_0xb8fbe0*(0x925*0x2+0x67b*0x5+-0x1*0x32ad)+(0x1305+-0x9d9*-0x3+-0x3090)]=_0x2bcc6d?_0x2bcc6d[_0xb8fbe0]:0x1*-0x1391+-0xd4a+0x20db,_0x3adabb[_0xb8fbe0*(-0x137c+-0x1916+0x2c96)+(-0x250a+-0x1d8e+0x1633*0x3)]=_0xc22140?Math['exp'](_0xc22140[_0xb8fbe0]):-0x37e+0x1f98+-0x1c1a);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0xfc1e55=this['transformT'+'SpeedTextu'+'re'])==null||_0xfc1e55['unlock'](),(_0x1b70bb=this['transformT'+'Texture'])==null||_0x1b70bb['unlock']();}['updateSHDa'+'ta'](_0x56766d){var _0x1e050f,_0x2b0035,_0x42939a,_0x5b584e,_0x4a0a64,_0x2367c9,_0x5a0dd0;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x29b558=(_0x1e050f=this['sh1to3Text'+'ure'])==null?void(0x591*-0x1+0x1*-0x124a+0x17db):_0x1e050f['lock'](),_0xb77655=(_0x2b0035=this['sh4to7Text'+'ure'])==null?void(0x4d6*0x6+0x7c+-0x1d80):_0x2b0035['lock'](),_0x1316d1=(_0x42939a=this['sh8to11Tex'+'ture'])==null?void(0xe7c+0x1a56+0x1a2*-0x19):_0x42939a['lock'](),_0x45b18b=(_0x5b584e=this['sh12to15Te'+'xture'])==null?void(0x79*-0x9+0x2443+-0x2*0x1001):_0x5b584e['lock'](),_0x1dca69={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x24deb8=U_(_0x56766d,_0x1dca69*(-0x65*-0x4d+-0x13*0x15e+0x232*-0x2)),_0x58ffe9=-0x78*0x1c+-0x53c+-0x3*-0x8c9,_0x9d4eb5=0xb*0x25+0x2243+-0x65f*0x5,_0x5928d0=new Float32Array(-0x3e+0x11cd+0x8c7*-0x2),_0xe71923=new Uint32Array(_0x5928d0['buffer']),_0x2b5e4d=new Array(_0x1dca69*(0x1be1+0x3ab*0x1+-0x17*0x15f))['fill'](-0xc7a+-0x1*0x2027+-0x19*-0x1c9);for(let _0x7b9af=0x1a6d+0x935+0x1*-0x23a2;_0x7b9af<_0x56766d['numSplats'];++_0x7b9af){for(let _0x198e28=-0x25c1+0x1*-0x538+0xe53*0x3;_0x198e28<_0x1dca69;++_0x198e28)_0x2b5e4d[_0x198e28*(0x3a7*-0x6+0x18ea+-0x2fd)]=_0x24deb8[_0x198e28][_0x7b9af],_0x2b5e4d[_0x198e28*(-0x8b*0x1c+-0x1*0x24d+0x1184)+(-0xa99*-0x2+0xc*0x1bb+-0x1*0x29f5)]=_0x24deb8[_0x198e28+_0x1dca69][_0x7b9af],_0x2b5e4d[_0x198e28*(-0x215*-0x5+-0x237a+-0x504*-0x5)+(-0x232f+0x5dd*0x3+0x119a)]=_0x24deb8[_0x198e28+_0x1dca69*(0x168f+-0x1a5e*-0x1+-0x6fd*0x7)][_0x7b9af];let _0x887db3=_0x2b5e4d[-0x1daf+0x4*-0x28+0x1e4f];for(let _0x5e5d5d=0x2704+-0x105b+-0xc8*0x1d;_0x5e5d5d<_0x1dca69*(0x127d*-0x2+0x2e9*0x1+0x5ae*0x6);++_0x5e5d5d)_0x887db3=Math['max'](_0x887db3,Math['abs'](_0x2b5e4d[_0x5e5d5d]));if(_0x887db3!==-0x23db+-0x158e+0x3969){for(let _0x132f4e=0x8ff+-0xd4*-0x1+-0x9d3;_0x132f4e<_0x1dca69;++_0x132f4e)_0x2b5e4d[_0x132f4e*(0x1*0x1725+-0xd4*-0xd+-0x21e6)+(-0x2c2+-0x1c84+0x1f46*0x1)]=Math['max'](-0x2*-0x10ed+0x26a2+-0x487c*0x1,Math['min'](_0x58ffe9,Math['floor']((_0x2b5e4d[_0x132f4e*(-0x14e1+0x1ea*-0x6+-0x4*-0x818)+(-0xa41+-0x93f+0x1380)]/_0x887db3*(0x1014+-0x1ecc+0x18*0x9d+0.5)+(0x1f2a+-0x12d*-0x1f+-0x439d+0.5))*_0x58ffe9+(-0x18b4+-0x3*-0x269+0x1179+0.5)))),_0x2b5e4d[_0x132f4e*(-0x729+-0x122c*-0x2+-0x1d2c)+(-0x1*-0x952+0x17cb+-0x211c)]=Math['max'](-0x1354*0x1+-0x5*-0x14b+0x25*0x59,Math['min'](_0x9d4eb5,Math['floor']((_0x2b5e4d[_0x132f4e*(0x2d+-0x11d7*-0x2+-0x23d8)+(0x103a+0x16*-0xb3+-0xd7)]/_0x887db3*(0xde8+0x43b+-0x1223+0.5)+(0x10ba*-0x2+-0x2c9*0xd+0x45a9+0.5))*_0x9d4eb5+(-0x12da+-0x18f3+0x2bcd*0x1+0.5)))),_0x2b5e4d[_0x132f4e*(-0x1863+0x153*-0xa+0x25a4)+(-0x1f3*0x6+0x10*0x236+-0x17ac)]=Math['max'](-0x22dd+0xca5+-0x2c7*-0x8,Math['min'](_0x58ffe9,Math['floor']((_0x2b5e4d[_0x132f4e*(0x17c2*-0x1+0x6a9*0x1+0x6*0x2da)+(-0x20b9*-0x1+0x276+-0x232d)]/_0x887db3*(-0x4a9*-0x1+0xeda+-0x25*0x87+0.5)+(0x117+0x3*-0x597+0xfae+0.5))*_0x58ffe9+(-0x2*-0xcc4+-0x1355+-0x633+0.5))));_0x5928d0[-0x3d*0x7f+-0x1fdc+0x14b5*0x3]=_0x887db3,_0x29b558[_0x7b9af*(0xa40+0xed6+0x2*-0xc89)+(-0x714+-0x19*-0xa4+0xd*-0xb0)]=_0xe71923[-0x1*-0x19fc+0x9ba*-0x3+0x332],_0x29b558[_0x7b9af*(0x240e+-0xa1e+0x67b*-0x4)+(0x4*-0x84c+-0x12bd+0x33ee)]=_0x2b5e4d[0xd1*0x2c+0xe+0x399*-0xa]<<-0x1f7*-0xd+0x4*0x359+-0x26da*0x1|_0x2b5e4d[-0x22*-0x101+0x19db+-0x3bfc]<<-0x1367+0x17d1*0x1+-0x45f|_0x2b5e4d[0x1d37+0xd53+-0x551*0x8],_0x29b558[_0x7b9af*(-0x11d+-0x1de3*0x1+0x31a*0xa)+(-0x62e+-0x1625+0x1*0x1c55)]=_0x2b5e4d[-0x201c+0x2bf*0x1+-0x2f0*-0xa]<<-0x1ac+-0x69*0x1e+0xe0f|_0x2b5e4d[-0x1bc+0x710+0x44*-0x14]<<-0x2*0x803+-0x1131+0x2142|_0x2b5e4d[0x1285+0x1a49*-0x1+0x1*0x7c9],_0x29b558[_0x7b9af*(0xc*-0x15+-0xe36+0x3*0x512)+(0xca1+-0x36*-0xae+-0x3152)]=_0x2b5e4d[-0x6a9*0x4+0x1843*0x1+0x267]<<-0x78*0x1a+-0xf5d+0x1ba2|_0x2b5e4d[0xd69*0x1+0x22f4+0x21a*-0x17]<<0x12e2+-0x5*0x416+-0x25*-0xb|_0x2b5e4d[0x202+0x10d*-0xd+0xbaf],this['shBands']>-0x177a+0x1*0x118c+0x5ef&&(_0xb77655[_0x7b9af*(0x9ae+-0x1*0x5cf+0x3*-0x149)+(0x28d+0x2015+-0x16*0x193)]=_0x2b5e4d[-0x1f06+0x1aeb+0x2*0x212]<<-0xec1*0x1+-0x17*-0x84+0x2fa|_0x2b5e4d[-0x1390+-0x4*0x61+0x22*0x9f]<<-0x139e+-0x1286+0x1a9*0x17|_0x2b5e4d[-0x16*0x18b+-0x155b+0x3758],_0xb77655[_0x7b9af*(0x10*-0x1bb+-0x22*0xfe+-0x10*-0x3d7)+(0x47*-0x42+0x4cf+0x80*0x1b)]=_0x2b5e4d[-0x40*0x3b+0x8a9*0x2+-0x286]<<-0x78*-0x48+-0x373*0x1+-0x1e38|_0x2b5e4d[-0x10bf+0x1a5e+-0x992]<<-0x2*0x83f+-0x2f3+0x2b*0x74|_0x2b5e4d[0x1b50*0x1+0xfce+-0x2b10],_0xb77655[_0x7b9af*(-0x52b+-0x2638+0x2b67)+(0x44*-0x21+0x1ea5+-0xb*0x1fd)]=_0x2b5e4d[-0x1b33+0x213f*0x1+-0x1ff*0x3]<<-0x2442+0x229d+-0x22*-0xd|_0x2b5e4d[-0x1*0x971+-0xb4+0xa35]<<0x23ea+-0x355*0x2+-0x1d35|_0x2b5e4d[-0x26a*-0x5+-0x1131+0x530],_0xb77655[_0x7b9af*(0xf25+-0x26c9+0x17a8)+(-0x1*-0x1bf5+-0x187*-0xd+0x2fcd*-0x1)]=_0x2b5e4d[-0x1*-0x2119+-0x1d*0xe6+0x77*-0xf]<<0x16ba+0x53e+-0x1be3|_0x2b5e4d[-0x12e+0x1366+-0x1225]<<0x1315*-0x2+-0x15b+0x2790|_0x2b5e4d[0x2473+-0x182a+-0x19*0x7d],this['shBands']>-0x1*0xd36+0x101d+0x2e5*-0x1?(_0x1316d1[_0x7b9af*(0x301*-0x1+-0x7bb*-0x5+0x1*-0x23a2)+(0x8*0x183+-0x17c7+0xbaf)]=_0x2b5e4d[-0x1366+0x17*-0x3b+0x18c8]<<0x252d+0x1726+-0x2bd*0x16|_0x2b5e4d[-0x4d4+-0x16cd+0x1bb7]<<0x16f7+-0x19b*-0x11+-0x3237|_0x2b5e4d[-0x133*-0x2+0x20b4+-0x2303],_0x1316d1[_0x7b9af*(0x911+0x159a+0x461*-0x7)+(0x1cdd+-0x6a*0x2+-0x8*0x381)]=_0x2b5e4d[0xc4*-0x11+-0xa68+0x7*0x35c]<<-0x15de+0x1cd9+-0x6e6|_0x2b5e4d[-0x75a+0x117c+-0xa09]<<0xb9*-0x32+0x113c+0x12f1|_0x2b5e4d[-0xfe2+0x5*0x344+0x8*-0xb],_0x1316d1[_0x7b9af*(0xcdc+-0x38*-0x86+-0x2a28)+(-0x2f3+-0x2*-0x93a+-0xf7f*0x1)]=_0x2b5e4d[-0x67*-0x39+-0xd61+0x29*-0x3b]<<0x3a*0x8b+-0xba8*-0x1+-0x2b11|_0x2b5e4d[-0x7*-0x1e2+0x1*-0x2410+0x7aa*0x3]<<0x150b+0xd*0x20b+0x1e7*-0x19|_0x2b5e4d[0x1*-0x1d6b+-0x1*0x243a+-0x1bb*-0x26],_0x1316d1[_0x7b9af*(-0x21*-0x9d+0x265e+-0x1*0x3a97)+(0x64b*0x1+-0x2e3*-0x1+-0x92b)]=_0x2b5e4d[-0x3*-0xa11+0x523*0x1+0x188*-0x17]<<-0x1403+0xd14+0x4*0x1c1|_0x2b5e4d[0x4*0x687+0x21c3+0x3bc*-0x10]<<-0x1*0x322+0x5e6*0x1+-0x2b9|_0x2b5e4d[0x7*0x44f+0xf99+-0x2da2],_0x45b18b[_0x7b9af*(0x1271+-0xef9*0x1+-0x374)+(0xff6+0x1496+-0x248c)]=_0x2b5e4d[0x47*0x5e+0x24f2+-0x11*0x3b3]<<0x20db+-0x19a6+-0x720|_0x2b5e4d[0x145e+-0x1*0x50f+-0xf2d]<<0x1666+-0xde2+-0x879*0x1|_0x2b5e4d[-0x65e+-0x1310+0x5*0x51d],_0x45b18b[_0x7b9af*(0x171d+0x8b2*-0x4+-0x3e5*-0x3)+(0xb31+-0x14*-0xdf+0x1*-0x1c9c)]=_0x2b5e4d[0x7fa+0x8cb*-0x1+0x23*0x7]<<-0x41*-0x27+-0x2700+0x1d2e|_0x2b5e4d[-0x1*0x16d5+0x1*-0x1a5b+0x3155]<<-0xb*-0x286+0x19ac+-0x3563|_0x2b5e4d[-0x14b4+-0xec2+0x56*0x6a],_0x45b18b[_0x7b9af*(-0x1b8d*0x1+0x7a2+0x13ef)+(0xf52+-0x9dc*-0x2+-0x2308)]=_0x2b5e4d[0x7*-0x392+-0xfdd*-0x1+0x108*0x9]<<0x9ff*-0x1+0x5*-0x1af+-0x3b3*-0x5|_0x2b5e4d[0x1e31*-0x1+-0x732+-0x55d*-0x7]<<0x1abf+-0xc5d+-0x1*0xe57|_0x2b5e4d[-0x909*0x2+-0x1d0c+-0xf7*-0x31],_0x45b18b[_0x7b9af*(0xb35+-0x1af1+0xfc0)+(-0x15a*0x9+-0x2325+0x2f52)]=_0x2b5e4d[-0x12ce+-0x2d7*0x8+0x29b0]<<-0x5be+-0x21c7+0x279a*0x1|_0x2b5e4d[-0x388+0x1*-0x2671+0x2a24]<<-0x18e6+0x1b00+-0x20f|_0x2b5e4d[-0xa*0x38e+-0x6f*-0x28+0x620*0x3]):_0x1316d1[_0x7b9af]=_0x2b5e4d[0x3*0x61f+-0x1d*-0x3+0x7*-0x2a9]<<0x172b+-0x1c29+0x3*0x1b1|_0x2b5e4d[-0x33b+0x3cc+-0x7b]<<0x2065+0x26a+-0xa*0x37a|_0x2b5e4d[-0x12f6+0x3*-0x76e+-0x13*-0x22d]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x4a0a64=this['sh4to7Text'+'ure'])==null||_0x4a0a64['unlock'](),(_0x2367c9=this['sh8to11Tex'+'ture'])==null||_0x2367c9['unlock'](),(_0x5a0dd0=this['sh12to15Te'+'xture'])==null||_0x5a0dd0['unlock']();}['updateSHDa'+'taByWorker'](_0x825481){const _0x3551a6={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x1c3d36=U_(_0x825481,_0x3551a6*(-0x8e7*0x1+0xcb5+-0x3cb*0x1));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x825481['numSplats'],this['shBands'],_0x1c3d36),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x2654ed,_0x11664e,_0x1bb98d,_0x8f0382)=>{var _0x3b2156,_0x47b2af,_0x51daf3,_0x51fcf5,_0x2b5c07,_0x2309eb,_0x1d0d4b,_0x43649b,_0x4a4eec,_0x2efd22;const _0x1167a6=(_0x3b2156=this['sh1to3Text'+'ure'])==null?void(0x997*-0x1+-0x132f+0x7f*0x3a):_0x3b2156['lock']();if(new Uint32Array(_0x1167a6['buffer'])['set'](_0x2654ed),(_0x47b2af=this['sh1to3Text'+'ure'])==null||_0x47b2af['unlock'](),this['shBands']>-0x124*0x1a+-0x26b3+0x445c){const _0x5ea62d=(_0x51daf3=this['sh4to7Text'+'ure'])==null?void(0xdc7+-0x40*-0x21+-0x1607*0x1):_0x51daf3['lock']();if(new Uint32Array(_0x5ea62d['buffer'])['set'](_0x11664e),(_0x51fcf5=this['sh4to7Text'+'ure'])==null||_0x51fcf5['unlock'](),this['shBands']>-0x1c5c+0x47*-0x25+0x26a1){const _0x48488a=(_0x2b5c07=this['sh8to11Tex'+'ture'])==null?void(0xe9*0x21+-0x7f*0x11+-0x159a):_0x2b5c07['lock']();new Uint32Array(_0x48488a['buffer'])['set'](_0x1bb98d),(_0x2309eb=this['sh8to11Tex'+'ture'])==null||_0x2309eb['unlock']();const _0x47c8f1=(_0x1d0d4b=this['sh12to15Te'+'xture'])==null?void(0x11*-0x167+-0x10ba+0x1*0x2891):_0x1d0d4b['lock']();new Uint32Array(_0x47c8f1['buffer'])['set'](_0x8f0382),(_0x43649b=this['sh12to15Te'+'xture'])==null||_0x43649b['unlock']();}else{const _0x1573df=(_0x4a4eec=this['sh8to11Tex'+'ture'])==null?void(0x33b+0x279+-0x5b4):_0x4a4eec['lock']();new Uint32Array(_0x1573df['buffer'])['set'](_0x1bb98d),(_0x2efd22=this['sh8to11Tex'+'ture'])==null||_0x2efd22['unlock']();}}});}}async function G1(){let _0x5f1e44=null,_0x57f8f7=null,_0x4e3197=null,_0x40e33d=null,_0x490cdc=null,_0x38db4f=null,_0x403f50=null,_0x5a2e6a=null,_0x52bc96=null,_0x430a57=null,_0x18d373=null,_0x654dc4=null,_0x4ded38=null,_0x1cc49c=null,_0x223544=null,_0x5ddffc=null,_0x1ceafa=null,_0x295f67=null,_0x2a9bbb=null,_0x2263c5=null,_0x337403=null,_0xe3e14b=null,_0x2be3e3=null,_0xf1bb76=null,_0xa2be1f=null,_0x2cc8d5=Float32Array['BYTES_PER_'+'ELEMENT'],_0x486bda=Uint32Array['BYTES_PER_'+'ELEMENT'],_0xecf87=-0x22e5+-0x3*-0xb3e+0x12b,_0x5dce72=!(-0xb6a*0x2+0x16c2+0x1*0x12),_0x4e55cf,_0x15c841,_0x35b8c1={'x':0x0,'y':0x0,'z':0x0},_0x282c26={'x':0x0,'y':0x0,'z':0x0},_0x8197f2=!(0x1*0x1b5+0x3*-0x7ab+0x4*0x553),_0x39025d=!(-0x11c9+-0x1bcd+-0xb*-0x425),_0x4b7132=!(-0x2*0xe63+-0x3*-0x80e+0x49d),_0x2db5fe=0x173d+0x71d+-0x1e5a,_0x13cd8c=-0x16f8+-0x2e4+0x296*0xa,_0x567de3=!(-0x1*0xf8+0x615*0x3+0x16*-0xc9),_0x4a592b=null;self['onmessage']=async _0x51da7d=>{const {data:_0x334012}=_0x51da7d;switch(_0x334012['type']){case'initWorker':_0xecf87=_0x334012['numSplats'],_0x56e87c(),_0x5dce72=_0x334012['is4d'],await _0x18a78d(_0x334012['sortWasmUr'+'l']),_0x32e9a0(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x334012['dataReady']){if(_0x38db4f&&_0x334012['centers']&&_0x38db4f['length']===_0x334012['centers']['length']){const _0x32999f=new Float32Array(_0x334012['centers']);_0x38db4f['set'](_0x32999f);}if(_0x52bc96&&_0x334012['timeIndex']&&_0x52bc96['length']===_0x334012['timeIndex']['length']){const _0x2ef082=new Uint32Array(_0x334012['timeIndex']);_0x52bc96['set'](_0x2ef082);}if(_0x654dc4&&_0x334012['motion']&&_0x654dc4['length']===_0x334012['motion']['length']){const _0x191cd2=new Float32Array(_0x334012['motion']);_0x654dc4['set'](_0x191cd2);}if(_0x5dce72&&_0x430a57&&_0x18d373&&_0x334012['muT']&&_0x334012['tScale']&&_0x430a57['length']===_0x334012['muT']['length']&&_0x18d373['length']===_0x334012['tScale']['length']&&(_0x430a57['set'](_0x334012['muT']),_0x18d373['set'](_0x334012['tScale'])),_0x403f50){for(let _0x164cb1=0x20fe+0x19f7+0x489*-0xd;_0x164cb1<_0x403f50['length'];++_0x164cb1)_0x403f50[_0x164cb1]=_0x164cb1;}_0x490cdc&&_0x334012['timeOption']&&_0x490cdc['set'](_0x334012['timeOption']),setTimeout(()=>{_0x311488();},-0x123d+0x3*0xc9d+-0x139a);}break;case'setTime':_0x4e55cf=_0x334012['time'],_0x4168a2();break;case'setUseTemp'+'oralSort':_0x8197f2=_0x334012['useTempora'+'lSort'];break;case'sort':if(!_0x4e3197)return;_0x4e3197[-0x8*0x31+-0x18b8*0x1+0x1a40]=_0x334012['cameraPosi'+'tion']['x'],_0x4e3197[0xe8c+-0x1*-0xa5f+-0x18ea]=_0x334012['cameraPosi'+'tion']['y'],_0x4e3197[-0x1c55+-0xadf+0x2736]=_0x334012['cameraPosi'+'tion']['z'],_0x40e33d[0x5c9+0x535*0x5+-0x1fd2]=_0x334012['cameraDire'+'ction']['x'],_0x40e33d[-0x853*-0x1+0x2*-0x8a5+-0x148*-0x7]=_0x334012['cameraDire'+'ction']['y'],_0x40e33d[0x197*0xd+0x1238*-0x1+0x271*-0x1]=_0x334012['cameraDire'+'ction']['z'],_0x4168a2();break;}};const _0x4168a2=()=>{_0x4a592b&&clearTimeout(_0x4a592b),_0x4a592b=setTimeout(()=>{_0x4a592b=null,_0x542d16();},0x2*0x62f+0x791+0x2d9*-0x7);},_0x56e87c=()=>{_0x13cd8c=Math['max'](0xae0+0x8*-0x265+0x852,Math['min'](-0x16f*-0x1+-0xef5*-0x2+0x1f45*-0x1,Math['round'](Math['log2'](_0xecf87/(-0x844+-0x8e0*0x2+-0x1*-0x1a08))))),_0x2db5fe=(0x1d15+0x1*0x5a6+-0x1*0x22b9)**_0x13cd8c+(0x2d1*-0x1+-0xd77+-0x1*-0x1049);},_0x32e9a0=()=>(_0x4ded38=-0x17a2+-0x2*-0x1299+-0xd90*0x1,_0x1cc49c=_0x4ded38+_0xecf87*_0x2cc8d5*(0x166*0x13+-0x2*0x56b+0x5*-0x325),_0x2a9bbb=_0x1cc49c+(0x4ab*0x1+0x1027+0x146e*-0x1)*_0x2cc8d5*(-0x229f*0x1+-0xa12+0x2cb3),_0x2263c5=_0x2a9bbb+_0xecf87*_0x486bda,_0x337403=_0x2263c5+(-0xd33+-0x210+0xf46)*_0x2cc8d5,_0xe3e14b=_0x337403+(0x1ea6+0x1bea+-0x3a8d)*_0x2cc8d5,_0x2be3e3=_0xe3e14b+(-0x707+0x115*-0xb+0x175*0xd)*_0x2cc8d5,_0xf1bb76=_0x2be3e3+(-0x1*0xd1+-0x49c+0x570)*_0x2cc8d5,_0xa2be1f=_0xf1bb76+_0xecf87*_0x486bda,_0x38db4f=new Float32Array(_0x57f8f7,_0x4ded38,_0xecf87*(-0x1*-0x14a1+-0xb19+-0x985)),_0x490cdc=new Float32Array(_0x57f8f7,_0x1cc49c,(-0x176b+-0x1db3+-0x1*-0x3582)*(0xf9*-0x1+-0x3*-0x4b2+-0xd1b)),_0x403f50=new Uint32Array(_0x57f8f7,_0x2a9bbb,_0xecf87),_0x5a2e6a=new Uint32Array(_0x403f50),_0x4e3197=new Float32Array(_0x57f8f7,_0x2263c5,0x19*-0x3b+0x6*-0x4fc+0x23ae),_0x40e33d=new Float32Array(_0x57f8f7,_0x337403,0x808+0x1dcd+-0xce*0x2f),_0x5dce72&&(_0x1ceafa=_0xa2be1f+_0x2db5fe*_0x486bda,_0x295f67=_0x1ceafa+_0xecf87*_0x2cc8d5,_0x5ddffc=_0x295f67+_0xecf87*_0x2cc8d5,_0x223544=_0x5ddffc+_0xecf87*(-0x2197*0x1+0x6*0x2a3+-0x11c8*-0x1)*_0x2cc8d5,_0x430a57=new Float32Array(_0x57f8f7,_0x1ceafa,_0xecf87),_0x18d373=new Float32Array(_0x57f8f7,_0x295f67,_0xecf87),_0x654dc4=new Float32Array(_0x57f8f7,_0x5ddffc,_0xecf87*(0x387+-0x1*-0xad1+0x4c7*-0x3)),_0x52bc96=new Uint32Array(_0x57f8f7,_0x223544,_0xecf87)),{'sharedMemory':_0x57f8f7,'layout':{'timeOptionPtr':_0x1cc49c,'timeIndexPtr':_0x223544,'centersPtr':_0x4ded38,'motionPtr':_0x5ddffc,'muTPtr':_0x1ceafa,'tScalePtr':_0x295f67,'orderPtr':_0x2a9bbb,'cameraPositionPtr':_0x2263c5,'cameraDirectionPtr':_0x337403,'boundMinPtr':_0xe3e14b,'boundMaxPtr':_0x2be3e3,'distancesPtr':_0xf1bb76,'countBufferPtr':_0xa2be1f}}),_0x18a78d=async _0x5b9ebc=>{let _0x425a37=_0xecf87*_0x2cc8d5*(0x1def+0x16a2+-0x1*0x348e);_0x425a37+=_0xecf87*_0x486bda,_0x425a37+=(0x2*0x12d4+-0x2057+-0x54e)*_0x2cc8d5,_0x425a37+=(0xa39+-0x1aaf+-0x1*-0x1079)*_0x2cc8d5,_0x425a37+=(0x1448+0xa8a+-0x1ecf)*_0x2cc8d5,_0x425a37+=(-0x1b*-0x167+-0x1f79+-0x661)*_0x2cc8d5,_0x425a37+=_0xecf87*_0x2cc8d5,_0x425a37+=_0x2db5fe*_0x486bda,_0x425a37+=(-0x17a+-0x1ec4+0x20a2)*_0x2cc8d5*(-0x1*0x22c+0xd7*0x16+-0x104c),_0x425a37+=_0xecf87*_0x486bda,_0x5dce72&&(_0x425a37+=_0xecf87*_0x2cc8d5,_0x425a37+=_0xecf87*_0x2cc8d5,_0x425a37+=_0xecf87*_0x2cc8d5*(-0x27*0xb5+-0x49*-0xd+0x17e1));const _0x14a9f2=(-0x63f+-0xa41+0x10c0)*(-0x2362+0x1e8f+0x8d3),_0x1a69c1=Math['ceil'](_0x425a37/_0x14a9f2),_0x3d3d33={'env':{'memory':new WebAssembly['Memory']({'initial':_0x1a69c1,'maximum':_0x1a69c1,'shared':!(0x14*0x1bb+0x1be3+-0x3e7f)}),'pthread_self':function(){return-0x26fb+-0x1d73+0x446e*0x1;},'emscripten_builtin_memalign':function(){return 0x1*-0x2383+0x1d66+0x61d;},'loggerVec3':(_0x21c5b7,_0x3bf84e,_0x4cee2d,_0x53699c)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x21c5b7+']\x200:'+_0x3bf84e+'\x201:'+_0x4cee2d+'\x202:'+_0x53699c);},'loggerFloat':(_0x237cf1,_0x2f8906)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x237cf1+']\x20a:'+_0x2f8906);},'loggerValue':(_0x48cabd,_0x53d4f8,_0x37660e,_0x1ee6f3,_0x2fbab3)=>{console['log']('C++\x20logger'+'Value\x20['+_0x48cabd+']\x20minDist:'+_0x53d4f8+'\x20maxDist:'+_0x37660e+'\x20range:'+_0x1ee6f3+'\x20divider:'+_0x2fbab3);},'loggerCamera':(_0x48c3b3,_0x45685a,_0x392f76,_0x24c80c,_0x40544b,_0x4512ba,_0xc4dd2f)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x48c3b3+']\x20x:'+_0x45685a+'\x20y:'+_0x392f76+'\x20z:'+_0x24c80c+'\x20dx:'+_0x40544b+'\x20dy:'+_0x4512ba+'\x20dz:'+_0xc4dd2f);},'loggerBound':(_0x5b0d28,_0x34f24c,_0x100c16,_0x47f3f4,_0x4785e6,_0x1561ef)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x5b0d28+'\x20minY:'+_0x34f24c+'\x20minZ:'+_0x100c16+'\x20maxX:'+_0x47f3f4+'\x20maxY:'+_0x4785e6+'\x20maxZ:'+_0x1561ef);},'loggerDebug':_0x4eda8c=>{console['log']('C++\x20logger'+'Debug\x20['+_0x4eda8c+']');}}};try{const _0x24c44a=await(await fetch(_0x5b9ebc))['arrayBuffe'+'r']();return _0x5f1e44=(await WebAssembly['instantiat'+'e'](_0x24c44a,_0x3d3d33))['instance'],_0x57f8f7=_0x3d3d33['env']['memory']['buffer'],_0x5f1e44;}catch(_0x57d097){throw console['error']('加载WASM模块失败'+':',_0x57d097),_0x57d097;}},_0x311488=()=>{if(!_0x5f1e44)return;const {calcAABB:_0x10ce35}=_0x5f1e44['exports'];_0x10ce35(_0x4ded38,_0xe3e14b,_0x2be3e3,_0xecf87);},_0x542d16=()=>{if(!_0x5f1e44||_0x2a9bbb===null||_0x4ded38===null||_0x2263c5===null||_0x337403===null||_0xe3e14b===null||_0x2be3e3===null)return;const _0x19e135=_0x4e3197[0x58*0x6b+0x8*0x63+-0x27e0],_0x16b346=_0x4e3197[0x4c*-0x26+-0x2316*-0x1+-0x17cd],_0x3bf5d6=_0x4e3197[-0x464*-0x6+0x1457+-0x2ead],_0x36d162=_0x40e33d[0x23a5+0x37c+0x3f*-0x9f],_0x40faa9=_0x40e33d[-0x15a7+-0x20e8+0x2*0x1b48],_0x1564e6=_0x40e33d[0x11da*-0x2+-0x1b70+0x3f26],_0xec6671=-0xb3f*-0x2+0x3fb+-0x1a79+0.001;if(!_0x39025d&&Math['abs'](_0x19e135-_0x35b8c1['x'])<_0xec6671&&Math['abs'](_0x16b346-_0x35b8c1['y'])<_0xec6671&&Math['abs'](_0x3bf5d6-_0x35b8c1['z'])<_0xec6671&&Math['abs'](_0x36d162-_0x282c26['x'])<_0xec6671&&Math['abs'](_0x40faa9-_0x282c26['y'])<_0xec6671&&Math['abs'](_0x1564e6-_0x282c26['z'])<_0xec6671&&Math['abs'](_0x4e55cf-_0x15c841)<0x13*-0xc2+-0x218e*-0x1+-0x1328+0.01)return;if(_0x4b7132){_0x567de3=!(-0x3d7*0x3+0x4*0x4b3+-0x747);return;}_0x4b7132=!(0x1083+-0x22d2+0x124f),_0x39025d=!(-0x1bcf+0x26d7+-0xb07),_0x15c841=_0x4e55cf,_0x35b8c1['x']=_0x19e135,_0x35b8c1['y']=_0x16b346,_0x35b8c1['z']=_0x3bf5d6,_0x282c26['x']=_0x36d162,_0x282c26['y']=_0x40faa9,_0x282c26['z']=_0x1564e6,_0x567de3=!(-0x1*0x80e+0xc6a+-0x1*0x45b);const {sortIndexes:_0xbbc14}=_0x5f1e44['exports'];try{const _0x4ff89a=_0xbbc14(_0x2a9bbb,_0x4ded38,_0x5ddffc,_0x1ceafa,_0x295f67,_0x2263c5,_0x337403,_0xe3e14b,_0x2be3e3,_0xf1bb76,_0xa2be1f,_0x4e55cf,_0x8197f2,_0x5dce72,_0xecf87,_0x2db5fe,_0x13cd8c,_0x1cc49c,_0x223544);_0x5a2e6a['set'](_0x403f50),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x4ff89a,'order':_0x5a2e6a});}catch(_0x4dffba){console['error']('排序操作失败:',_0x4dffba),self['postMessag'+'e']({'type':'error','error':_0x4dffba['message']});}_0x4b7132=!(-0x166f+0x1fa3+-0x933),_0x567de3&&_0x4168a2();};}class H1 extends ce{constructor(_0x5b002c,_0x241842=!(-0x2425*0x1+0xfda+0x144b*0x1)){super(),c(this,'worker',null),c(this,'numSplats',0x17e9+-0x1*0x15a+-0x168f),c(this,'is4d',!(-0x16*0x5f+0x4*0x116+0x3d2)),c(this,'sortStartT'+'ime',-0x120d+-0x1*-0x809+0xa04),c(this,'orderTextu'+'re'),(this['numSplats']=_0x5b002c,this['is4d']=_0x241842,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+G1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x30f0da=>{if(!this['worker'])return;const {data:_0x518b2a}=_0x30f0da;switch(_0x518b2a['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x518b2a['order']){const _0x2e5e65=this['orderTextu'+'re']['lock']();new Uint32Array(_0x2e5e65['buffer'])['set'](_0x518b2a['order']),this['orderTextu'+'re']['unlock']();}let _0x2609d3=-0xacd*-0x3+-0x166f*0x1+-0x4*0x27e;this['sortStartT'+'ime']!==-0x796+-0xf06+-0xb4e*-0x2&&(_0x2609d3=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x30f0da['data']['count'],_0x2609d3),this['sortStartT'+'ime']=0x41d*-0x1+0x1cbf+-0x18a2;break;case'error':console['error']('Worker错误:',_0x518b2a['error']),this['fire']('error',_0x518b2a['error']);break;}};const _0x21a51e=('https://4dv-frontend.oss-cn-hangzhou.aliyuncs.com/dist/viewer/1748318561813/sorter.wasm');this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':_0x21a51e,'numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x47435a,_0x4336f7,_0x444db6,_0x2e326d,_0x13a062,_0x17c0d3,_0xdd66d4){var _0x392f1f;(!_0xdd66d4||_0xdd66d4['length']===-0x13a5+0x370+0x1035)&&(_0xdd66d4=[-0x700+0x1386+-0x1*0xc86,-0x2665*0x1+-0x865*-0x2+0x15d7]),this['orderTextu'+'re']=_0x47435a,(_0x392f1f=this['worker'])==null||_0x392f1f['postMessag'+'e']({'type':'initData','centers':_0x4336f7,'muT':_0x444db6,'tScale':_0x2e326d,'motion':_0x13a062,'timeIndex':_0x17c0d3,'timeOption':_0xdd66d4,'dataReady':!(-0xc1d+-0x26d0+0x32ed)});}['resize'](_0x5119f2){this['destroy'](),this['numSplats']=_0x5119f2,this['_initWorke'+'r']();}['setCamera'](_0x82490d,_0x31dab2){this['worker']&&(this['sortStartT'+'ime']===0x7b3+0x2510+0x1*-0x2cc3&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x82490d['x'],'y':_0x82490d['y'],'z':_0x82490d['z']},'cameraDirection':{'x':_0x31dab2['x'],'y':_0x31dab2['y'],'z':_0x31dab2['z']}}));}['setCurrent'+'Time'](_0x101c1e){this['worker']&&(this['sortStartT'+'ime']===0x8b5+-0x1*0xeae+0x5f9&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x101c1e}));}['setUseTemp'+'oralSort'](_0xf24751){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0xf24751});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const $1=new q(),On=new T(),kn=new T(),Gl=[-0xb63*-0x2+-0x123d+-0x489,-0x1*0x251b+0x5ce+-0xa6f*-0x3];class Np{constructor(_0x3366e4,_0x40708c){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',0x167a+0xdca+-0x2*0x1222),c(this,'lastCamera'+'Position',new T()),c(this,'lastCamera'+'Direction',new T()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x3366e4['numSplats']),this['splat']=_0x3366e4,this['options']=Object['assign'](this['options'],_0x40708c));const _0x421ef3=_0x3366e4['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x575f3d=0x1b5*-0xf+0x1*-0x213f+0x8e*0x6b,_0x1f9de6=Math['ceil'](_0x3366e4['numSplats']/_0x575f3d)*_0x575f3d/_0x575f3d,_0x3db0d8=new Uint32Array(_0x1f9de6);for(let _0x5546aa=-0x1809*-0x1+-0x1*0x103c+0x7cd*-0x1;_0x5546aa<_0x1f9de6;++_0x5546aa)_0x3db0d8[_0x5546aa]=_0x5546aa*_0x575f3d;const _0x163dc0=new Et(_0x421ef3,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0x2f0*0x4+0x1*0xc6a+0x6*-0x407)}]),_0x24f405=new os(_0x421ef3,_0x163dc0,_0x1f9de6,{'usage':jt,'data':_0x3db0d8['buffer']}),_0xe3fc76=new Float32Array((-0x13e5+-0x155*0x9+-0x1*-0x1fee)*_0x575f3d),_0x11991a=new Uint32Array((-0x1c4e+0x1f33*0x1+0x31*-0xf)*_0x575f3d);for(let _0x3fd9ed=-0x118a+0x8*0x15b+0x6b2;_0x3fd9ed<_0x575f3d;++_0x3fd9ed){_0xe3fc76['set']([-(0x1e4a+-0xb*-0x346+0x424b*-0x1),-(-0x2169+-0x1*0x20d3+0x223*0x1f),_0x3fd9ed,-0x2*0x163+-0x1e95*0x1+-0x8c*-0x3d,-(0x7f*-0x3c+-0x1992*0x1+0x3757),_0x3fd9ed,-0x2604+-0x1*-0x2226+0x3df,0x1e74+0x3*-0x2bb+0x2*-0xb21,_0x3fd9ed,-(0x1f08+-0x11*-0x233+-0x446a),0x5*0x5cc+0x1ba6+0x13*-0x2fb,_0x3fd9ed],_0x3fd9ed*(0x17dd+-0x601*-0x2+-0x3*0xbf1));const _0x3a6811=_0x3fd9ed*(-0x1481+-0x12a7+-0x1*-0x272c);_0x11991a['set']([0x434*0x1+0x452+-0x886+_0x3a6811,0xf85+0xea+-0x106e*0x1+_0x3a6811,0x1731+0x1967+-0x6*0x819+_0x3a6811,0x161*-0x1+-0x12e7+0x1448+_0x3a6811,-0x2*0x1257+0x23af+0x101+_0x3a6811,-0x28a+-0xcf5+0x31a*0x5+_0x3a6811],_0x3fd9ed*(0x149a+-0x39*0x96+0xcd2*0x1));}const _0x4c46e0=new Ie(_0x421ef3);_0x4c46e0['setPositio'+'ns'](_0xe3fc76,0x1d2f+-0x19f*-0xf+-0x1*0x357d),_0x4c46e0['setIndices'](_0x11991a),_0x4c46e0['update'](),this['mesh']=_0x4c46e0,this['mesh']['aabb']['copy'](_0x3366e4['aabb']),this['meshInstan'+'ce']=new Le(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x24f405,!(-0x477+-0x20e6+-0x779*-0x5)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0xce9*-0x1+-0xd51+0x1a3a,(!_0x40708c['dither']||_0x40708c['dither']===Rs)&&(this['sorter']=new H1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x306762;(_0x306762=this['sorter'])==null||_0x306762['initData'](this['orderTextu'+'re'],_0x3366e4['centers'],_0x3366e4['muT'],_0x3366e4['tScale'],_0x3366e4['motion'],_0x3366e4['timeIndex'],_0x3366e4['timeOption']);}),this['sorter']['on']('updated',_0x316a5f=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x316a5f/_0x575f3d),this['material']['setParamet'+'er']('numSplats',_0x316a5f);}));}['updateData'](_0x2c317e){var _0x53bbe6;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x2c317e['numSplats']),this['splat']=_0x2c317e;const _0x1ced49=_0x2c317e['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x177940=-0x3ca+0x111*0x21+-0x1ee7,_0x51a7bf=Math['ceil'](_0x2c317e['numSplats']/_0x177940)*_0x177940/_0x177940,_0x51995a=new Uint32Array(_0x51a7bf);for(let _0x212b35=-0x656*0x1+-0xe*0x191+0x43*0x6c;_0x212b35<_0x51a7bf;++_0x212b35)_0x51995a[_0x212b35]=_0x212b35*_0x177940;const _0x7d4732=new Et(_0x1ced49,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0x53f*-0x7+0x1*-0xa41+0x2efa)}]),_0x11997d=new os(_0x1ced49,_0x7d4732,_0x51a7bf,{'usage':jt,'data':_0x51995a['buffer']});this['mesh']['aabb']['copy'](_0x2c317e['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x11997d,!(0x1015+0x1aab+0x120*-0x26)),this['meshInstan'+'ce']['instancing'+'Count']=-0x18b7+-0x211d+0x39d4*0x1,(_0x53bbe6=this['sorter'])==null||_0x53bbe6['resize'](_0x2c317e['numSplats']);}['releaseSeq'](_0x304fb7){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x304fb7);}['destroy'](){var _0x4b3454,_0xa3ce35,_0x5d0661;(_0x4b3454=this['material'])==null||_0x4b3454['destroy'](),(_0xa3ce35=this['meshInstan'+'ce'])==null||_0xa3ce35['destroy'](),(_0x5d0661=this['sorter'])==null||_0x5d0661['destroy']();}['clone'](){return new Np(this['splat'],this['options']);}['createMate'+'rial'](_0x82ea4f){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x82ea4f),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x223498=this['splat']['device'];if(Gl[0x1481*0x1+0x1a40+-0x2ec1]=_0x223498['width'],Gl[-0x2707+-0x2*0x7e3+-0x5*-0xaf6]=_0x223498['height'],this['cameras']['length']>-0x1*-0x142f+-0x26a5+0x2*0x93b){const _0x14605e=this['cameras'][-0x11e1+-0x1fea+0x31cb]['xr'];_0x14605e&&_0x14605e['active']&&_0x14605e['views']['list']['length']===0x15e0+0x235e+0x1bc*-0x21&&(Gl[-0xc*-0x199+0x1a8d+0x925*-0x5]/=-0xc59*0x3+0x67c*0x1+0x1e91);}this['material']['setParamet'+'er']('viewport',Gl);}['sort'](_0x10d56a){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x235617=_0x10d56a['getWorldTr'+'ansform']();_0x235617['getTransla'+'tion'](On),_0x235617['getZ'](kn);const _0x4c514b=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x170235=$1['invert'](_0x4c514b);_0x170235['transformP'+'oint'](On,On),_0x170235['transformV'+'ector'](kn,kn),(!On['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!kn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](On),this['lastCamera'+'Direction']['copy'](kn),this['sorter']['setCamera'](On,kn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>-0x43*0x7d+0x155+0x1f62){const _0x5ec86e=this['cameras'][-0x338*0x2+-0x1d0e+0x237e];this['sort'](_0x5ec86e['_node']),this['cameras']['length']=0x1e83+0x1f8d+0x18*-0x296;}}['updateTime'](_0x316a53){this['time']=_0x316a53;}}const W1='FILL_WINDO'+'W',V_='KEEP_ASPEC'+'T',G_='AUTO',q1='FIXED';let U0;function tn(){return U0;}function qu(_0x399bdd){U0=_0x399bdd;}class X1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x2b1025){v['assert'](_0x2b1025),_0x2b1025['frameUpdat'+'e']();const _0xf4aca6=_0x2b1025['beforePass'+'es'];for(let _0x23a997=-0x1*0x1dd8+0x202d+-0x255;_0x23a997<_0xf4aca6['length'];_0x23a997++){const _0x3f5c3e=_0xf4aca6[_0x23a997];_0x3f5c3e['enabled']&&this['addRenderP'+'ass'](_0x3f5c3e);}_0x2b1025['enabled']&&this['renderPass'+'es']['push'](_0x2b1025);const _0x50eaa5=_0x2b1025['afterPasse'+'s'];for(let _0x429407=-0x1a7c+-0x1*0xb11+0x258d;_0x429407<_0x50eaa5['length'];_0x429407++){const _0x2cff61=_0x50eaa5[_0x429407];_0x2cff61['enabled']&&this['addRenderP'+'ass'](_0x2cff61);}}['reset'](){this['renderPass'+'es']['length']=0x261b+0x15b7+0x3e*-0xf7;}['compile'](){const _0x24dcc2=this['renderTarg'+'etMap'],_0x21d676=this['renderPass'+'es'];for(let _0xb0dc1d=-0xb0*0x22+-0xb9*0x9+0x1*0x1de1;_0xb0dc1d<_0x21d676['length'];_0xb0dc1d++){const _0x5cf8ff=_0x21d676[_0xb0dc1d],_0x11e7e2=_0x5cf8ff['renderTarg'+'et'];if(_0x11e7e2!==void(-0x1c06+-0x15de+0x3e*0xce)){const _0xe4cfc8=_0x24dcc2['get'](_0x11e7e2);if(_0xe4cfc8){const _0x42f4b3=_0x5cf8ff['colorArray'+'Ops']['length'];for(let _0x54222b=0x3fd*0x5+0x1741+-0x2b32;_0x54222b<_0x42f4b3;_0x54222b++)_0x5cf8ff['colorArray'+'Ops'][_0x54222b]['clear']||(_0xe4cfc8['colorArray'+'Ops'][_0x54222b]['store']=!(-0xa3*0x2e+0x303*0x1+-0xd9*-0x1f));_0x5cf8ff['depthStenc'+'ilOps']['clearDepth']||(_0xe4cfc8['depthStenc'+'ilOps']['storeDepth']=!(0x1046*0x1+-0x944+0x17*-0x4e)),_0x5cf8ff['depthStenc'+'ilOps']['clearStenc'+'il']||(_0xe4cfc8['depthStenc'+'ilOps']['storeStenc'+'il']=!(-0x2*-0x11b6+-0xc0b*0x2+0x1*-0xb56));}_0x24dcc2['set'](_0x11e7e2,_0x5cf8ff);}}for(let _0x380c51=-0xe49+0x1654+-0x80b;_0x380c51<_0x21d676['length']-(-0x6*0x329+0x1*-0x1dc3+0x6*0x81f);_0x380c51++){const _0x50c1b4=_0x21d676[_0x380c51],_0x280c76=_0x50c1b4['renderTarg'+'et'],_0x2cb108=_0x21d676[_0x380c51+(0x1*-0x90+-0x1837+0x18c8)],_0x5189f4=_0x2cb108['renderTarg'+'et'];_0x280c76!==_0x5189f4||_0x280c76===void(0x21d7*0x1+0x2640+-0x4817)||_0x2cb108['depthStenc'+'ilOps']['clearDepth']||_0x2cb108['depthStenc'+'ilOps']['clearStenc'+'il']||_0x2cb108['colorArray'+'Ops']['some'](_0x4c5e7f=>_0x4c5e7f['clear'])||_0x50c1b4['afterPasse'+'s']['length']>0x18fd+-0x1*0xdf+-0x181e||_0x2cb108['beforePass'+'es']['length']>-0x2*-0x2e+0x191f+-0x197b||(_0x50c1b4['_skipEnd']=!(-0x8e5+0xbf*-0x4+0xbe1),_0x2cb108['_skipStart']=!(-0x1f2d*0x1+0x1a5d+0x4d0));}let _0x27b228=null,_0x51986b=null;for(let _0x47fda0=-0x2*-0x12eb+0x8d*-0x35+-0x8a5;_0x47fda0<_0x21d676['length'];_0x47fda0++){const _0x5c69ed=_0x21d676[_0x47fda0],_0x102eb8=_0x5c69ed['renderTarg'+'et'],_0xc4d5c3=_0x102eb8==null?void(-0x1978+-0xf88+0x2900):_0x102eb8['colorBuffe'+'r'];if(_0xc4d5c3!=null&&_0xc4d5c3['cubemap']){if(_0x27b228===_0xc4d5c3){const _0x5b3d96=_0x51986b['colorArray'+'Ops']['length'];for(let _0x23299e=-0x25*-0x8d+-0x1ed2+0x129*0x9;_0x23299e<_0x5b3d96;_0x23299e++)_0x51986b['colorArray'+'Ops'][_0x23299e]['mipmaps']=!(-0x1*-0x1c1f+0x4af*-0x7+-0x4ab*-0x1);}_0x27b228=_0x102eb8['colorBuffe'+'r'],_0x51986b=_0x5c69ed;}else _0x5c69ed['requiresCu'+'bemaps']&&(_0x27b228=null,_0x51986b=null);}_0x24dcc2['clear']();}['render'](_0x494320){this['compile']();const _0x33a33b=this['renderPass'+'es'];for(let _0x169232=0x1e59+-0x1469+0x8*-0x13e;_0x169232<_0x33a33b['length'];_0x169232++)_0x33a33b[_0x169232]['render']();}}class j1{constructor(_0x12592f,_0x1b80f2){this['texture0']=_0x12592f,this['texture1']=_0x1b80f2;}['destroy'](){var _0x158930,_0x536c90;(_0x158930=this['texture0'])==null||_0x158930['destroy'](),(_0x536c90=this['texture1'])==null||_0x536c90['destroy']();}}const H_=new Ot();class Wr{static['createText'+'ure'](_0xfba110,_0x31eae7,_0x18cf27,_0x242e72=''){return new he(_0xfba110,{'name':'AreaLightL'+'UT'+_0x242e72,'width':_0x18cf27,'height':_0x18cf27,'format':_0x31eae7,'addressU':ae,'addressV':ae,'type':Di,'magFilter':st,'minFilter':de,'anisotropy':0x1,'mipmaps':!(0xb8f+0x7e7+-0x1375)});}static['applyTextu'+'res'](_0x57f945,_0x2f0581,_0x3bf8ec){H_['remove'](_0x57f945),H_['get'](_0x57f945,()=>new j1(_0x2f0581,_0x2f0581===_0x3bf8ec?null:_0x3bf8ec)),_0x57f945['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x2f0581),_0x57f945['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x3bf8ec);}static['createPlac'+'eholder'](_0x3403eb){const _0x2d9f6e=Wr['createText'+'ure'](_0x3403eb,Je,0xf85+-0x10d3+0x150,'placeholde'+'r');_0x2d9f6e['lock']()['fill'](0x21d9+0xff+0x5*-0x6f8),_0x2d9f6e['unlock'](),Wr['applyTextu'+'res'](_0x3403eb,_0x2d9f6e,_0x2d9f6e);}static['set'](_0x4c056,_0x460147,_0x2fc3cf){function _0x29ef2b(_0x2ea181,_0x42a7db,_0x29fc8b){const _0x46c28b=Wr['createText'+'ure'](_0x2ea181,_0x29fc8b,0x1*0x1981+0xc*0x196+-0x2c49);return _0x46c28b['lock']()['set'](_0x42a7db),_0x46c28b['unlock'](),_0x46c28b;}function _0xc2512c(_0x4f8c62){const _0x5ec9a5=_0x4f8c62['length'],_0x94e0e9=new Uint16Array(_0x5ec9a5),_0x1bf38b=$t['float2Half'];for(let _0x336260=-0x23d1*0x1+0x130a+0x10c7;_0x336260<_0x5ec9a5;_0x336260++)_0x94e0e9[_0x336260]=_0x1bf38b(_0x4f8c62[_0x336260]);return _0x94e0e9;}const _0x392a4f=_0x460147,_0x3a350a=_0x2fc3cf,_0x1a2979=_0xc2512c(_0x392a4f),_0x4fbd18=_0xc2512c(_0x3a350a),_0x1aec7e=_0x29ef2b(_0x4c056,_0x1a2979,Je),_0x6a0465=_0x29ef2b(_0x4c056,_0x4fbd18,Je);Wr['applyTextu'+'res'](_0x4c056,_0x1aec7e,_0x6a0465);}}const $h='en-US',Wh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},zp={};function pr(_0x12e643,_0x1e3dca){for(let _0x39f8b3=-0x8e6*-0x1+-0x2407+0x1b21,_0x5649fb=_0x12e643['length'];_0x39f8b3<_0x5649fb;_0x39f8b3++)zp[_0x12e643[_0x39f8b3]]=_0x1e3dca;}function pi(_0x4bc686){const _0x385450=_0x4bc686['indexOf']('-');return _0x385450!==-(-0xf1*0x1f+-0x1cc3*0x1+0x39f3)?_0x4bc686['substring'](-0x184*0xd+0x1546+-0x6*0x43,_0x385450):_0x4bc686;}function Y1(_0x14bdb1,_0x2cfdf3){const _0x3681a2=_0x14bdb1['indexOf']('-');return _0x3681a2!==-(0xc5*0x5+0x1ccd+-0x3d*0x89)?_0x2cfdf3+_0x14bdb1['substring'](_0x3681a2):_0x2cfdf3;}function V0(_0x382345,_0x5adcce){if(_0x5adcce[_0x382345])return _0x382345;let _0xa23da5=Wh[_0x382345];if(_0xa23da5&&_0x5adcce[_0xa23da5])return _0xa23da5;const _0x2613d6=pi(_0x382345);return _0xa23da5=Wh[_0x2613d6],_0x5adcce[_0xa23da5]?_0xa23da5:_0x5adcce[_0x2613d6]?_0x2613d6:$h;}pr(['ja','ko','th','vi','zh','id'],_0x491719=>-0x1*-0x14cb+-0x4db+-0xff0),pr(['fa','hi'],_0x3ed1e8=>_0x3ed1e8>=0x1*0xb57+-0x1453+0x8fc&&_0x3ed1e8<=0x3*0xb2b+0x7a1+-0x2921?-0x3*-0x7a0+-0x81f+-0xec1:-0x5dd+-0x26fc+0x2cda),pr(['fr','pt'],_0x5b7b95=>_0x5b7b95>=-0x25e5+0xbcf*-0x3+0x4952&&_0x5b7b95<0x4*-0x823+-0x6*0x275+0x2f4c?0x286+0x1f3*-0x7+-0x27*-0x49:-0x7bd+0x32*0x19+0x2dc),pr(['da'],_0xe07b08=>_0xe07b08===0x1c1a+-0x8ae+0x136b*-0x1||!Number['isInteger'](_0xe07b08)&&_0xe07b08>=0x2b*0x41+0x1*0x146b+0xa72*-0x3&&_0xe07b08<=-0x639+0x5*0x13c+0x1*0xe?0x11db+0x1*-0x530+-0x8d*0x17:0x23a2+-0x2*-0x11a4+-0x46e9),pr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x1e68de=>_0x1e68de===0xb0c*0x1+0xd7c+0x27*-0xa1?-0xec6+0x1b84+-0xcbe:0x1*0x1557+-0x164f+0xf9),pr(['ru','uk'],_0x5bd75f=>{if(Number['isInteger'](_0x5bd75f)){const _0x48a974=_0x5bd75f%(0x1*0x2a9+-0x62e+0x38f*0x1),_0x50dffe=_0x5bd75f%(0x1*0x2681+0xc*-0x2c1+0x511*-0x1);if(_0x48a974===-0x1c*-0xae+-0x1c5+-0x1142&&_0x50dffe!==0x23e9+0xca6+0x6*-0x816)return-0x138b*0x1+0x5*0x221+0x8e6*0x1;if(_0x48a974>=0x581+0x1*0x1d23+-0x22a2&&_0x48a974<=0x2*-0x77c+-0xe7*0x2a+0x34e2&&(_0x50dffe<-0xb*-0x13d+0x4a9*-0x1+-0x8ea||_0x50dffe>0xd*-0x52+-0x31c+0x754))return-0xb90+-0x29*0xbf+0x2a28;if(_0x48a974===-0x131d+-0x11c9+0x24e6||_0x48a974>=0xc62+-0x2*-0x132c+0x1*-0x32b5&&_0x48a974<=-0x67*0x13+0x3a3*0x1+0x40b||_0x50dffe>=0x131*0x8+0x3*0x34c+-0x1361&&_0x50dffe<=-0x19*-0xc0+0x142+-0x13f4)return-0x193*-0x7+0x2517+-0x301a;}return 0xbd+-0x1*-0x1997+-0x1a51;}),pr(['pl'],_0x2f07e1=>{if(Number['isInteger'](_0x2f07e1)){if(_0x2f07e1===0x1dfa+-0x313+0x139*-0x16)return 0x1*0x3b+0x3*-0x753+0x15be;const _0x43e7bb=_0x2f07e1%(0x1*0x17f5+-0x9b*0x1+-0x1750),_0x19d32f=_0x2f07e1%(-0x3a0+0x2*0x7dc+-0x2*0x5da);if(_0x43e7bb>=0x1649+-0x6*0x5fc+0xda1&&_0x43e7bb<=-0x2643+0x4*0xc2+0x233f&&(_0x19d32f<0x235*-0x11+0x1326+0x126b||_0x19d32f>0x58a*0x2+0x2e2+0x2*-0x6f4))return 0x170d+-0x53*0x41+-0x1f9;if(_0x43e7bb>=0x445*0x5+0xc1*-0x26+-0x10b*-0x7&&_0x43e7bb<=-0x1*-0xf0f+0xdaf+-0x1cbd||_0x43e7bb>=-0x1073+0xd*-0x13f+0x1*0x20ab&&_0x43e7bb<=0x18d1+0xe3d+0x593*-0x7||_0x19d32f>=-0x2*-0x2ea+-0x1bf1+0x3*0x763&&_0x19d32f<=0x2*-0x9d+0x13ca+-0x1282)return 0x13a9+-0x2201+0xe5a;}return 0x833+0x4ac+-0xcdc;}),pr(['ar'],_0x4a654d=>{if(_0x4a654d===0x30a*0xb+0x1ef5+-0x1*0x4063)return-0x2c*-0x8c+0x4c7*0x4+-0x9*0x4cc;if(_0x4a654d===-0xa8*-0x29+-0x3*0x1+-0x1ae4)return-0x4*-0x44d+-0x133+-0x1000;if(_0x4a654d===-0x6b2+0x1*0x1c5b+0xf1*-0x17)return-0xc0c+0xa*0x3dd+0x24*-0xbd;if(Number['isInteger'](_0x4a654d)){const _0x3aea07=_0x4a654d%(-0x23b*-0xe+-0x540+-0x1996);if(_0x3aea07>=0x463*0x2+-0x22*-0x7f+-0x19a1*0x1&&_0x3aea07<=-0x1528*-0x1+0x1*-0x1d6d+-0x2c5*-0x3)return-0x2336+0x3d*-0x86+0x4327*0x1;if(_0x3aea07>=0xdc9+-0x3d*-0x7f+0x1*-0x2c01&&_0x3aea07<=-0x1177+-0xe69+-0xac1*-0x3)return-0x2130+-0x149d*0x1+0x35d1;}return 0x8ed*0x1+0x7c0+-0x10a8;});const K1=zp[pi($h)];function Xd(_0x173e30){return zp[_0x173e30]||K1;}const Da=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Z1{constructor(_0x1939b7='',_0x5c09c8='',_0x2f50b2=null,_0x28dddc=null,_0x2b83b7=null,_0x46d51c=null){this['url']=_0x1939b7,this['filename']=_0x5c09c8,this['hash']=_0x2f50b2,this['size']=_0x28dddc,this['opt']=_0x2b83b7,this['contents']=_0x46d51c;}['equals'](_0x5df409){return this['url']===_0x5df409['url']&&this['filename']===_0x5df409['filename']&&this['hash']===_0x5df409['hash']&&this['size']===_0x5df409['size']&&this['opt']===_0x5df409['opt']&&this['contents']===_0x5df409['contents'];}}let Q1=-(-0x1819*0x1+-0xa02+-0x4a*-0x76);const J1={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},$_=['pvr','dxt','etc2','etc1','basis'];class le extends ce{constructor(_0x37258b,_0x2d8760,_0x5b549c,_0x26b764,_0x4963d1){super(),this['_id']=Q1--,this['_name']=_0x37258b||'',this['type']=_0x2d8760,this['tags']=new po(this),this['_preload']=!(0x1d46+-0x1e2*-0xd+-0x35bf),this['_file']=null,this['_data']=_0x26b764||{},this['options']=_0x4963d1||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(-0x7d2+0x3*-0xb3d+0x199*0x1a),this['loading']=!(-0x8*0x1a5+-0x595*-0x5+-0xec0),this['registry']=null,_0x5b549c&&(this['file']=_0x5b549c);}set['id'](_0x153af8){this['_id']=_0x153af8;}get['id'](){return this['_id'];}set['name'](_0x53428d){if(this['_name']===_0x53428d)return;const _0x16443f=this['_name'];this['_name']=_0x53428d,this['fire']('name',this,this['_name'],_0x16443f);}get['name'](){return this['_name'];}set['file'](_0x15593f){var _0x4ffa78,_0x41ff48;if(_0x15593f&&_0x15593f['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0x1*0x80c+-0x14ea+0xcdf)){const _0x2afeed=((_0x41ff48=(_0x4ffa78=this['registry'])==null?void(0x1d40+-0x1fba+0x27a):_0x4ffa78['_loader'])==null?void(-0x147*0x5+0x7*0x1b2+-0x57b):_0x41ff48['_app'])||tn(),_0x808213=_0x2afeed==null?void(-0x2046+0x191c+-0xe*-0x83):_0x2afeed['graphicsDe'+'vice'];if(_0x808213)for(let _0x500f0e=0x464*-0x5+0x15bd+-0x5*-0xb,_0x13c93d=$_['length'];_0x500f0e<_0x13c93d;_0x500f0e++){const _0x219717=$_[_0x500f0e];if(_0x15593f['variants'][_0x219717]&&_0x808213[J1[_0x219717]]){_0x15593f=_0x15593f['variants'][_0x219717];break;}if(_0x2afeed['enableBund'+'les']){const _0x421e52=_0x2afeed['bundles']['listBundle'+'sForAsset'](this);if(_0x421e52&&_0x421e52['find'](_0x4e14e5=>{var _0x1afd5e;return(_0x1afd5e=_0x4e14e5==null?void(0x3b9*0xa+0x1d*-0x7+0x3*-0xc25):_0x4e14e5['file'])==null?void(0x1173+-0xfe*-0x6+-0x3*0x7cd):_0x1afd5e['variants'][_0x219717];}))break;}}}const _0x202036=this['_file'],_0x27879b=_0x15593f?new Z1(_0x15593f['url'],_0x15593f['filename'],_0x15593f['hash'],_0x15593f['size'],_0x15593f['opt'],_0x15593f['contents']):null;(!!_0x27879b!=!!_0x202036||_0x27879b&&!_0x27879b['equals'](_0x202036))&&(this['_file']=_0x27879b,this['fire']('change',this,'file',_0x27879b,_0x202036),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x57d384){const _0x3401f7=this['_data'];this['_data']=_0x57d384,_0x57d384!==_0x3401f7&&(this['fire']('change',this,'data',_0x57d384,_0x3401f7),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x42ef48){const _0x23e610=this['_resources'][0xf41*0x1+-0x1c*0xa9+-0x1*-0x33b];this['_resources'][0x12fc+0xfc4*0x1+-0x1160*0x2]=_0x42ef48,this['fire']('change',this,'resource',_0x42ef48,_0x23e610);}get['resource'](){return this['_resources'][0x4*0x893+0x1128+-0x3374];}set['resources'](_0x5176bb){const _0x20a782=this['_resources'];this['_resources']=_0x5176bb,this['fire']('change',this,'resources',_0x5176bb,_0x20a782);}get['resources'](){return this['_resources'];}set['preload'](_0x23f075){_0x23f075=!!_0x23f075,this['_preload']!==_0x23f075&&(this['_preload']=_0x23f075,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x676c20){_0x676c20=!!_0x676c20,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x676c20!==this['_loadFaces'])&&(this['_loadFaces']=_0x676c20,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x5525c9=this['file'];if(!_0x5525c9||!_0x5525c9['url'])return null;let _0x3aa36a=_0x5525c9['url'];if(this['registry']&&this['registry']['prefix']&&!Da['test'](_0x3aa36a)&&(_0x3aa36a=this['registry']['prefix']+_0x3aa36a),this['type']!=='script'&&_0x5525c9['hash']){const _0x4cbf69=_0x3aa36a['indexOf']('?')!==-(0x1*0x7fc+0xd4*-0x1f+0x11b1)?'&':'?';_0x3aa36a+=_0x4cbf69+'t='+_0x5525c9['hash'];}return _0x3aa36a;}['getAbsolut'+'eUrl'](_0x2ddde0){if(_0x2ddde0['startsWith']('blob:')||_0x2ddde0['startsWith']('data:'))return _0x2ddde0;const _0x39c6f6=fe['getDirecto'+'ry'](this['file']['url']);return fe['join'](_0x39c6f6,_0x2ddde0);}['getLocaliz'+'edAssetId'](_0x13920d){return _0x13920d=V0(_0x13920d,this['_i18n']),this['_i18n'][_0x13920d]||null;}['addLocaliz'+'edAssetId'](_0x4e455c,_0x1feb93){this['_i18n'][_0x4e455c]=_0x1feb93,this['fire']('add:locali'+'zed',_0x4e455c,_0x1feb93);}['removeLoca'+'lizedAsset'+'Id'](_0x5374eb){const _0x1fd629=this['_i18n'][_0x5374eb];_0x1fd629&&(delete this['_i18n'][_0x5374eb],this['fire']('remove:loc'+'alized',_0x5374eb,_0x1fd629));}['ready'](_0x2c9134,_0x518bfc){_0x518bfc=_0x518bfc||this,this['loaded']?_0x2c9134['call'](_0x518bfc,this):this['once']('load',_0x5cfdf0=>{_0x2c9134['call'](_0x518bfc,_0x5cfdf0);});}['reload'](){this['loaded']&&(this['loaded']=!(-0x83b*-0x1+-0x9f2+-0x2*-0xdc),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x291*-0xa+0x150b*-0x1+-0x49f)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x1f4657=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0x2c*0xc8+-0xd0a+0x2f6b),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x1a47e6=-0x1e42+-0x1a5*-0xb+0x26f*0x5;_0x1a47e6<_0x1f4657['length'];++_0x1a47e6){const _0xdd758e=_0x1f4657[_0x1a47e6];_0xdd758e&&_0xdd758e['destroy']&&_0xdd758e['destroy']();}}static['fetchArray'+'Buffer'](_0x5516a5,_0x530ff1,_0x5b78c7,_0x4ce4b0=-0x5b4*0x5+-0x21f8+0x3e7c){var _0x1cfd29;(_0x1cfd29=_0x5b78c7==null?void(0x4a8+-0x61d*-0x3+-0x16ff):_0x5b78c7['file'])!=null&&_0x1cfd29['contents']?setTimeout(()=>{_0x530ff1(null,_0x5b78c7['file']['contents']);}):We['get'](_0x5516a5,{'cache':!(-0x737*0x1+0x8e3+-0x1ac),'responseType':'arraybuffe'+'r','retry':_0x4ce4b0>-0x137*-0x14+-0x1cc2+-0x476*-0x1,'maxRetries':_0x4ce4b0},_0x530ff1);}}c(le,'EVENT_LOAD','load'),c(le,'EVENT_UNLO'+'AD','unload'),c(le,'EVENT_REMO'+'VE','remove'),c(le,'EVENT_ERRO'+'R','error'),c(le,'EVENT_CHAN'+'GE','change'),c(le,'EVENT_PROG'+'RESS','progress'),c(le,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(le,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class eP{constructor(_0x1b04ac=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x1b04ac;}['addItem'](_0x1f6fff){const _0x59a4c4=_0x1f6fff['tags']['_list'];for(const _0x13d1cc of _0x59a4c4)this['add'](_0x13d1cc,_0x1f6fff);}['removeItem'](_0x16c266){const _0x60d196=_0x16c266['tags']['_list'];for(const _0x53f7dd of _0x60d196)this['remove'](_0x53f7dd,_0x16c266);}['add'](_0x18d185,_0x1a2c55){this['_index'][_0x18d185]&&this['_index'][_0x18d185]['list']['indexOf'](_0x1a2c55)!==-(-0x4bd*-0x2+0x3b2+0xd2b*-0x1)||(this['_index'][_0x18d185]||(this['_index'][_0x18d185]={'list':[]},this['_key']&&(this['_index'][_0x18d185]['keys']={})),this['_index'][_0x18d185]['list']['push'](_0x1a2c55),this['_key']&&(this['_index'][_0x18d185]['keys'][_0x1a2c55[this['_key']]]=_0x1a2c55));}['remove'](_0x328fde,_0x4470ba){if(!this['_index'][_0x328fde]||this['_key']&&!this['_index'][_0x328fde]['keys'][_0x4470ba[this['_key']]])return;const _0xcee98d=this['_index'][_0x328fde]['list']['indexOf'](_0x4470ba);_0xcee98d!==-(0x1155+-0xb3b*0x1+-0x619)&&(this['_index'][_0x328fde]['list']['splice'](_0xcee98d,0x1f89+-0x2f*0x57+0x7*-0x239),this['_key']&&delete this['_index'][_0x328fde]['keys'][_0x4470ba[this['_key']]],this['_index'][_0x328fde]['list']['length']===0x1*-0x1ffa+0x2403+-0x409&&delete this['_index'][_0x328fde]);}['find'](_0x37c4f5){const _0x178ce2={},_0xc87e29=[];let _0x2a78ed,_0x2d990d,_0x4740a1,_0x311f0e,_0x26af2f;const _0x555fdd=(_0x414f9b,_0x49e266)=>this['_index'][_0x414f9b]['list']['length']-this['_index'][_0x49e266]['list']['length'];for(let _0x1552f4=0x1*-0x1367+0x143*0x1d+-0x8*0x226;_0x1552f4<_0x37c4f5['length'];_0x1552f4++){if(_0x2d990d=_0x37c4f5[_0x1552f4],_0x2d990d instanceof Array){if(_0x2d990d['length']===0x1*0x1223+0x1*-0xe17+-0x1c*0x25)continue;if(_0x2d990d['length']===-0x1*0x1456+-0x1*-0x2425+-0xfce)_0x2d990d=_0x2d990d[0x13a0+-0x13+-0x138d];else{_0x26af2f=!(0x70a+-0x2*0x6+-0x6fd*0x1);for(let _0x1c8ad8=0x401+-0xfff+0xbfe;_0x1c8ad8<_0x2d990d['length'];_0x1c8ad8++)if(!this['_index'][_0x2d990d[_0x1c8ad8]]){_0x26af2f=!(0x6*0x33d+-0x8bf*-0x1+-0x1*0x1c2d);break;}if(_0x26af2f)continue;_0x4740a1=_0x2d990d['slice'](-0x41*-0x8d+0x768+0x2b35*-0x1)['sort'](_0x555fdd),_0x311f0e=_0x4740a1['slice'](-0x774+-0x1b7*-0x7+-0x48c),_0x311f0e['length']===0x29d*-0x5+0xc77*0x1+0x9b*0x1&&(_0x311f0e=_0x311f0e[0x2*0xfc2+0x26da+0x232f*-0x2]);for(let _0x1b0a76=-0x165a+0x16dc+0x5*-0x1a;_0x1b0a76<this['_index'][_0x4740a1[-0x13*-0x1db+0x1a67*-0x1+-0x8da]]['list']['length'];_0x1b0a76++)_0x2a78ed=this['_index'][_0x4740a1[0x237f+-0x918*-0x2+-0x1b*0x1fd]]['list'][_0x1b0a76],(this['_key']?!_0x178ce2[_0x2a78ed[this['_key']]]:_0xc87e29['indexOf'](_0x2a78ed)===-(-0x1*0x223+-0x2628+0x1426*0x2))&&_0x2a78ed['tags']['has'](_0x311f0e)&&(this['_key']&&(_0x178ce2[_0x2a78ed[this['_key']]]=!(0x17b6*0x1+0x1b25+0x115*-0x2f)),_0xc87e29['push'](_0x2a78ed));continue;}}if(_0x2d990d&&typeof _0x2d990d=='string'&&this['_index'][_0x2d990d]){for(let _0xf438cf=-0xd6a+0x1*-0x1b07+0x2871;_0xf438cf<this['_index'][_0x2d990d]['list']['length'];_0xf438cf++)_0x2a78ed=this['_index'][_0x2d990d]['list'][_0xf438cf],this['_key']?_0x178ce2[_0x2a78ed[this['_key']]]||(_0x178ce2[_0x2a78ed[this['_key']]]=!(0x1d46*0x1+0x17d5*-0x1+-0x571),_0xc87e29['push'](_0x2a78ed)):_0xc87e29['indexOf'](_0x2a78ed)===-(0x25a*-0x3+-0x14*-0xf3+-0xbed)&&_0xc87e29['push'](_0x2a78ed);}}return _0xc87e29;}}class ao extends ce{constructor(_0x1ef306){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new eP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x1ef306;}['list'](_0xa3f841={}){const _0x52ed24=Array['from'](this['_assets']);return _0xa3f841['preload']!==void(0xa1e+0x5*-0x161+0x4b*-0xb)?_0x52ed24['filter'](_0x12265a=>_0x12265a['preload']===_0xa3f841['preload']):_0x52ed24;}['add'](_0x1cd39e){var _0x22ed90,_0x551435;this['_assets']['has'](_0x1cd39e)||(this['_assets']['add'](_0x1cd39e),this['_idToAsset']['set'](_0x1cd39e['id'],_0x1cd39e),(_0x22ed90=_0x1cd39e['file'])!=null&&_0x22ed90['url']&&this['_urlToAsse'+'t']['set'](_0x1cd39e['file']['url'],_0x1cd39e),this['_nameToAss'+'et']['has'](_0x1cd39e['name'])||this['_nameToAss'+'et']['set'](_0x1cd39e['name'],new Set()),this['_nameToAss'+'et']['get'](_0x1cd39e['name'])['add'](_0x1cd39e),_0x1cd39e['on']('name',this['_onNameCha'+'nge'],this),_0x1cd39e['registry']=this,this['_tags']['addItem'](_0x1cd39e),_0x1cd39e['tags']['on']('add',this['_onTagAdd'],this),_0x1cd39e['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x1cd39e),this['fire']('add:'+_0x1cd39e['id'],_0x1cd39e),(_0x551435=_0x1cd39e['file'])!=null&&_0x551435['url']&&this['fire']('add:url:'+_0x1cd39e['file']['url'],_0x1cd39e),_0x1cd39e['preload']&&this['load'](_0x1cd39e));}['remove'](_0x10b873){var _0x35b486,_0x96adeb;if(!this['_assets']['has'](_0x10b873))return!(0x3d3*-0x3+0x6fd+-0x47d*-0x1);if(this['_assets']['delete'](_0x10b873),this['_idToAsset']['delete'](_0x10b873['id']),(_0x35b486=_0x10b873['file'])!=null&&_0x35b486['url']&&this['_urlToAsse'+'t']['delete'](_0x10b873['file']['url']),_0x10b873['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x10b873['name'])){const _0x46c19e=this['_nameToAss'+'et']['get'](_0x10b873['name']);_0x46c19e['delete'](_0x10b873),_0x46c19e['size']===-0x1cd*0x5+0x1*-0x13af+0x4*0x72c&&this['_nameToAss'+'et']['delete'](_0x10b873['name']);}return this['_tags']['removeItem'](_0x10b873),_0x10b873['tags']['off']('add',this['_onTagAdd'],this),_0x10b873['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x10b873['fire']('remove',_0x10b873),this['fire']('remove',_0x10b873),this['fire']('remove:'+_0x10b873['id'],_0x10b873),(_0x96adeb=_0x10b873['file'])!=null&&_0x96adeb['url']&&this['fire']('remove:url'+':'+_0x10b873['file']['url'],_0x10b873),!(-0x9*-0x36e+-0x18fe+-0xbc*0x8);}['get'](_0x28532c){return this['_idToAsset']['get'](Number(_0x28532c));}['getByUrl'](_0x2d05dd){return this['_urlToAsse'+'t']['get'](_0x2d05dd);}['load'](_0x3ff3c6,_0x1e037b){if((_0x3ff3c6['loading']||_0x3ff3c6['loaded'])&&!(_0x1e037b!=null&&_0x1e037b['force']))return;const _0x174964=_0x3ff3c6['file'],_0x591249=()=>{this['fire']('load',_0x3ff3c6),this['fire']('load:'+_0x3ff3c6['id'],_0x3ff3c6),_0x174964&&_0x174964['url']&&this['fire']('load:url:'+_0x174964['url'],_0x3ff3c6),_0x3ff3c6['fire']('load',_0x3ff3c6);},_0xd18b68=_0x497aae=>{if(_0x497aae instanceof Array?_0x3ff3c6['resources']=_0x497aae:_0x3ff3c6['resource']=_0x497aae,this['_loader']['patch'](_0x3ff3c6,this),_0x3ff3c6['type']==='bundle'){const _0x275d79=_0x3ff3c6['data']['assets'];for(let _0x4c17ff=-0x44*-0x80+-0x2396+0x1*0x196;_0x4c17ff<_0x275d79['length'];_0x4c17ff++){const _0x588937=this['_idToAsset']['get'](_0x275d79[_0x4c17ff]);_0x588937&&!_0x588937['loaded']&&this['load'](_0x588937,{'force':!(-0x18e+-0x1*0x1f9d+-0x4bd*-0x7)});}_0x3ff3c6['resource']['loaded']?_0x591249():(this['fire']('load:start',_0x3ff3c6),this['fire']('load:start'+':'+_0x3ff3c6['id'],_0x3ff3c6),_0x174964&&_0x174964['url']&&this['fire']('load:start'+':url:'+_0x174964['url'],_0x3ff3c6),_0x3ff3c6['fire']('load:start',_0x3ff3c6),_0x3ff3c6['resource']['on']('load',_0x591249));}else _0x591249();},_0x13722c=(_0x547726,_0x268d71,_0x41f021)=>{if(_0x3ff3c6['loaded']=!(0x39*-0x3b+-0x78e+-0x1*-0x14b1),_0x3ff3c6['loading']=!(-0x685+0x1f12+-0x188c),_0x547726)this['fire']('error',_0x547726,_0x3ff3c6),this['fire']('error:'+_0x3ff3c6['id'],_0x547726,_0x3ff3c6),_0x3ff3c6['fire']('error',_0x547726,_0x3ff3c6);else{if(_0x3ff3c6['type']==='script'){const _0x31a56a=this['_loader']['getHandler']('script');_0x31a56a['_cache'][_0x3ff3c6['id']]&&_0x31a56a['_cache'][_0x3ff3c6['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x31a56a['_cache'][_0x3ff3c6['id']]),_0x31a56a['_cache'][_0x3ff3c6['id']]=_0x41f021;}_0xd18b68(_0x268d71);}};if(_0x174964||_0x3ff3c6['type']==='cubemap'){this['fire']('load:start',_0x3ff3c6),this['fire']('load:'+_0x3ff3c6['id']+':start',_0x3ff3c6),_0x3ff3c6['loading']=!(0x3de+-0xa3*0x38+-0x272*-0xd);const _0x202214=_0x3ff3c6['getFileUrl']();if(_0x3ff3c6['type']==='bundle'){const _0x653d06=_0x3ff3c6['data']['assets'];for(let _0x17a2c3=0xf58+-0xf18+-0x40;_0x17a2c3<_0x653d06['length'];_0x17a2c3++){const _0x2e7fd4=this['_idToAsset']['get'](_0x653d06[_0x17a2c3]);_0x2e7fd4&&(_0x2e7fd4['loaded']||_0x2e7fd4['resource']||_0x2e7fd4['loading']||(_0x2e7fd4['loading']=!(0x1*-0x1f+0x138+0x1*-0x119)));}}this['_loader']['load'](_0x202214,_0x3ff3c6['type'],_0x13722c,_0x3ff3c6,_0x1e037b);}else{const _0x3902f0=this['_loader']['open'](_0x3ff3c6['type'],_0x3ff3c6['data']);_0x3ff3c6['loaded']=!(0x90+0x17f4+-0x1884),_0xd18b68(_0x3902f0);}}['loadFromUr'+'l'](_0x5a5705,_0x2a0ed8,_0x16e90e){this['loadFromUr'+'lAndFilena'+'me'](_0x5a5705,null,_0x2a0ed8,_0x16e90e);}['loadFromUr'+'lAndFilena'+'me'](_0x4097f7,_0x33b0f9,_0x3d63ad,_0xb5649c){const _0x15b0c3=fe['getBasenam'+'e'](_0x33b0f9||_0x4097f7),_0x6b1b85={'filename':_0x33b0f9||_0x15b0c3,'url':_0x4097f7};let _0x203394=this['getByUrl'](_0x4097f7);if(!_0x203394)_0x203394=new le(_0x15b0c3,_0x3d63ad,_0x6b1b85),this['add'](_0x203394);else{if(_0x203394['loaded']){_0xb5649c(_0x203394['loadFromUr'+'lError']||null,_0x203394);return;}}const _0x4257bc=_0x200621=>{_0x200621['once']('load',_0x33a9f9=>{_0x3d63ad==='material'?this['_loadTextu'+'res'](_0x33a9f9,(_0x1ec1c3,_0x3d8f66)=>{_0xb5649c(_0x1ec1c3,_0x33a9f9);}):_0xb5649c(null,_0x33a9f9);}),_0x200621['once']('error',_0x282103=>{_0x282103&&(this['loadFromUr'+'lError']=_0x282103),_0xb5649c(_0x282103,_0x200621);}),this['load'](_0x200621);};_0x203394['resource']?_0xb5649c(null,_0x203394):_0x3d63ad==='model'?this['_loadModel'](_0x203394,_0x4257bc):_0x4257bc(_0x203394);}['_loadModel'](_0x19eacb,_0x58ef64){const _0x4a76ce=_0x19eacb['getFileUrl'](),_0xd61e16=fe['getExtensi'+'on'](_0x4a76ce);if(_0xd61e16==='.json'||_0xd61e16==='.glb'){const _0x371a65=fe['getDirecto'+'ry'](_0x4a76ce),_0x2d8062=fe['getBasenam'+'e'](_0x4a76ce),_0x518582=fe['join'](_0x371a65,_0x2d8062['replace'](_0xd61e16,'.mapping.j'+'son'));this['_loader']['load'](_0x518582,'json',(_0x4302f6,_0x36c237)=>{_0x4302f6?(_0x19eacb['data']={'mapping':[]},_0x58ef64(_0x19eacb)):this['_loadMater'+'ials'](_0x19eacb,_0x36c237,(_0xc0b990,_0x228ed0)=>{_0x19eacb['data']=_0x36c237,_0x58ef64(_0x19eacb);});});}else _0x58ef64(_0x19eacb);}['_loadMater'+'ials'](_0x469da7,_0x2f37f2,_0x36f5c9){const _0x3fa82c=[];let _0x84c616=-0x150b+-0xc95+0x21a0;const _0x24f8e3=(_0x5d4fee,_0x537771)=>{this['_loadTextu'+'res'](_0x537771,(_0x28e5f3,_0x258380)=>{_0x3fa82c['push'](_0x537771),_0x3fa82c['length']===_0x84c616&&_0x36f5c9(null,_0x3fa82c);});};for(let _0x365b26=0x35*-0x4d+0x6c6+0x92b;_0x365b26<_0x2f37f2['mapping']['length'];_0x365b26++){const _0x30ea67=_0x2f37f2['mapping'][_0x365b26]['path'];if(_0x30ea67){_0x84c616++;const _0x4f67e7=_0x469da7['getAbsolut'+'eUrl'](_0x30ea67);this['loadFromUr'+'l'](_0x4f67e7,'material',_0x24f8e3);}}_0x84c616===0xc0e*0x2+0x296+0x11*-0x192&&_0x36f5c9(null,_0x3fa82c);}['_loadTextu'+'res'](_0xed6c2a,_0x29245b){const _0x5e860c=[];let _0x471f0c=-0x1b*0x5c+0xfd6+-0x622;const _0x406fa3=_0xed6c2a['data'];if(_0x406fa3['mappingFor'+'mat']!=='path'){v['warn']('Skipping:\x20'+_0xed6c2a['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x29245b(null,_0x5e860c);return;}const _0xda58ee=(_0x35bf9f,_0x1b286a)=>{_0x35bf9f&&console['error'](_0x35bf9f),_0x5e860c['push'](_0x1b286a),_0x5e860c['length']===_0x471f0c&&_0x29245b(null,_0x5e860c);},_0x672b43=Kc;for(let _0x3a5ee4=-0x1a69*0x1+-0x152a+0x2f93;_0x3a5ee4<_0x672b43['length'];_0x3a5ee4++){const _0x659e4e=_0x406fa3[_0x672b43[_0x3a5ee4]];if(_0x659e4e&&typeof _0x659e4e=='string'){_0x471f0c++;const _0x158fc5=_0xed6c2a['getAbsolut'+'eUrl'](_0x659e4e);this['loadFromUr'+'l'](_0x158fc5,'texture',_0xda58ee);}}_0x471f0c===0x14e4+-0x202e+0x5*0x242&&_0x29245b(null,_0x5e860c);}['_onTagAdd'](_0x20bab3,_0x43a36f){this['_tags']['add'](_0x20bab3,_0x43a36f);}['_onTagRemo'+'ve'](_0x78ddc2,_0x50ca40){this['_tags']['remove'](_0x78ddc2,_0x50ca40);}['_onNameCha'+'nge'](_0x27c833,_0x1bc386,_0x4e97d7){if(this['_nameToAss'+'et']['has'](_0x4e97d7)){const _0x4e7abc=this['_nameToAss'+'et']['get'](_0x4e97d7);_0x4e7abc['delete'](_0x27c833),_0x4e7abc['size']===-0x22a*-0x9+-0x25*0x95+0x20f&&this['_nameToAss'+'et']['delete'](_0x4e97d7);}this['_nameToAss'+'et']['has'](_0x27c833['name'])||this['_nameToAss'+'et']['set'](_0x27c833['name'],new Set()),this['_nameToAss'+'et']['get'](_0x27c833['name'])['add'](_0x27c833);}['findByTag'](..._0x589558){return this['_tags']['find'](_0x589558);}['filter'](_0x56780b){return Array['from'](this['_assets'])['filter'](_0x103bc9=>_0x56780b(_0x103bc9));}['find'](_0x28fe47,_0x34a929){const _0x104ada=this['_nameToAss'+'et']['get'](_0x28fe47);if(!_0x104ada)return null;for(const _0x1a92ad of _0x104ada)if(!_0x34a929||_0x1a92ad['type']===_0x34a929)return _0x1a92ad;return null;}['findAll'](_0x2057f9,_0x524735){const _0xbee4ea=this['_nameToAss'+'et']['get'](_0x2057f9);if(!_0xbee4ea)return[];const _0x32484b=Array['from'](_0xbee4ea);return _0x524735?_0x32484b['filter'](_0x11044f=>_0x11044f['type']===_0x524735):_0x32484b;}}c(ao,'EVENT_LOAD','load'),c(ao,'EVENT_ADD','add'),c(ao,'EVENT_REMO'+'VE','remove'),c(ao,'EVENT_ERRO'+'R','error');class tP{constructor(_0x4da9bd){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x4da9bd,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x15ce46){if(_0x15ce46['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x15ce46['id'],_0x15ce46),this['_assets']['on']('load:start'+':'+_0x15ce46['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x15ce46['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x15ce46['id'],this['_onBundleE'+'rror'],this);const _0xda57a4=_0x15ce46['data']['assets'];for(let _0x122866=0x36*0x53+-0x15bf+0xd9*0x5;_0x122866<_0xda57a4['length'];_0x122866++)this['_indexAsse'+'tInBundle'](_0xda57a4[_0x122866],_0x15ce46);}else this['_assetToBu'+'ndles']['has'](_0x15ce46['id'])&&this['_indexAsse'+'tFileUrls'](_0x15ce46);}['_unbindAss'+'etEvents'](_0x52077a){this['_assets']['off']('load:start'+':'+_0x52077a,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x52077a,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x52077a,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x2f8012,_0x6aeab9){let _0x671f03=this['_assetToBu'+'ndles']['get'](_0x2f8012);_0x671f03||(_0x671f03=new Set(),this['_assetToBu'+'ndles']['set'](_0x2f8012,_0x671f03)),_0x671f03['add'](_0x6aeab9);const _0x219eaf=this['_assets']['get'](_0x2f8012);_0x219eaf&&this['_indexAsse'+'tFileUrls'](_0x219eaf);}['_indexAsse'+'tFileUrls'](_0x252624){const _0x189826=this['_getAssetF'+'ileUrls'](_0x252624);if(_0x189826)for(let _0x2a4bb2=-0x4*-0x2eb+-0x1098+0x4ec;_0x2a4bb2<_0x189826['length'];_0x2a4bb2++){const _0x43385e=this['_assetToBu'+'ndles']['get'](_0x252624['id']);_0x43385e&&this['_urlsToBun'+'dles']['set'](_0x189826[_0x2a4bb2],_0x43385e);}}['_getAssetF'+'ileUrls'](_0x34c104){let _0x38bf7b=_0x34c104['getFileUrl']();if(!_0x38bf7b)return null;_0x38bf7b=_0x38bf7b['split']('?')[0x443*-0x3+-0x673*0x2+0x19af];const _0x2cdc16=[_0x38bf7b];if(_0x34c104['type']==='font'){const _0x389c22=_0x34c104['data']['info']['maps']['length'];for(let _0x16d222=0x1*0x36d+0x2d*-0xb0+0x6e1*0x4;_0x16d222<_0x389c22;_0x16d222++)_0x2cdc16['push'](_0x38bf7b['replace']('.png',_0x16d222+'.png'));}return _0x2cdc16;}['_onAssetRe'+'move'](_0x496710){if(_0x496710['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x496710['id']),this['_unbindAss'+'etEvents'](_0x496710['id']);const _0x432401=_0x496710['data']['assets'];for(let _0x9d382f=-0x1b4f+0x7a4*-0x1+0x22f3;_0x9d382f<_0x432401['length'];_0x9d382f++){const _0x1b524d=this['_assetToBu'+'ndles']['get'](_0x432401[_0x9d382f]);if(_0x1b524d&&(_0x1b524d['delete'](_0x496710),_0x1b524d['size']===0x19b2+0x2*0x1278+0x1*-0x3ea2)){this['_assetToBu'+'ndles']['delete'](_0x432401[_0x9d382f]);for(const [_0x4a579e,_0x5d3921]of this['_urlsToBun'+'dles'])_0x5d3921===_0x1b524d&&this['_urlsToBun'+'dles']['delete'](_0x4a579e);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x496710['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x496710['id']))return;this['_assetToBu'+'ndles']['delete'](_0x496710['id']);const _0x568045=this['_getAssetF'+'ileUrls'](_0x496710);if(!_0x568045)return;for(let _0xaf408=0x3b9*-0x9+-0x1*0x182+0x2303;_0xaf408<_0x568045['length'];_0xaf408++)this['_urlsToBun'+'dles']['delete'](_0x568045[_0xaf408]);}}['_onBundleL'+'oadStart'](_0x586f74){_0x586f74['resource']['on']('add',(_0x1979c6,_0x5cad1c)=>{const _0x5eafad=this['_fileReque'+'sts']['get'](_0x1979c6);if(_0x5eafad){for(let _0x4fa127=0x1bbe+-0x1d6*0x3+0x58f*-0x4;_0x4fa127<_0x5eafad['length'];_0x4fa127++)_0x5eafad[_0x4fa127](null,_0x5cad1c);this['_fileReque'+'sts']['delete'](_0x1979c6);}});}['_onBundleL'+'oad'](_0x151a97){if(!_0x151a97['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x151a97['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x4a40c3,_0x4e362e]of this['_fileReque'+'sts']){const _0xc9e047=this['_urlsToBun'+'dles']['get'](_0x4a40c3);if(!_0xc9e047||!_0xc9e047['has'](_0x151a97))continue;const _0x3918fd=decodeURIComponent(_0x4a40c3);let _0x4f6af5,_0x5f3dbb;if(_0x151a97['resource']['has'](_0x3918fd))_0x5f3dbb=_0x151a97['resource']['get'](_0x3918fd);else{if(_0x151a97['resource']['loaded'])_0x4f6af5='Bundle\x20'+_0x151a97['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x4a40c3;else continue;}for(let _0x538985=-0x1*0x130c+-0xfa3*-0x2+-0xc3a;_0x538985<_0x4e362e['length'];_0x538985++)_0x4e362e[_0x538985](_0x4f6af5,_0x4f6af5||_0x5f3dbb);this['_fileReque'+'sts']['delete'](_0x4a40c3);}}['_onBundleE'+'rror'](_0x286063){for(const [_0x3adc0,_0x3c48f2]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x3adc0)){for(let _0x4f2248=-0x36f*0xb+0x1*-0x2f9+0x28be;_0x4f2248<_0x3c48f2['length'];_0x4f2248++)_0x3c48f2[_0x4f2248](_0x286063);this['_fileReque'+'sts']['delete'](_0x3adc0);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x2aaa17){const _0x4837fc=this['_urlsToBun'+'dles']['get'](_0x2aaa17);if(!_0x4837fc)return null;let _0x2a8e00=null;for(const _0x376ef5 of _0x4837fc){if(_0x376ef5['loaded']&&_0x376ef5['resource'])return _0x376ef5;_0x376ef5['loading']&&(_0x2a8e00=_0x376ef5);}return _0x2a8e00;}['listBundle'+'sForAsset'](_0x26cb23){const _0x151304=this['_assetToBu'+'ndles']['get'](_0x26cb23['id']);return _0x151304?Array['from'](_0x151304):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x4c98e3){return this['_urlsToBun'+'dles']['has'](_0x4c98e3);}['urlIsLoade'+'dOrLoading'](_0x5614ff){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x5614ff);}['loadUrl'](_0x21cec9,_0x3d128b){const _0x29552a=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x21cec9);if(!_0x29552a){_0x3d128b('URL\x20'+_0x21cec9+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x29552a['loaded']){const _0x15ab22=decodeURIComponent(_0x21cec9);if(_0x29552a['resource']['has'](_0x15ab22)){_0x3d128b(null,_0x29552a['resource']['get'](_0x15ab22));return;}else{if(_0x29552a['resource']['loaded']){_0x3d128b('Bundle\x20'+_0x29552a['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x21cec9);return;}}}let _0x909a6b=this['_fileReque'+'sts']['get'](_0x21cec9);_0x909a6b||(_0x909a6b=[],this['_fileReque'+'sts']['set'](_0x21cec9,_0x909a6b)),_0x909a6b['push'](_0x3d128b);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x272c32 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x272c32);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class sP extends ce{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0xe2febc){const _0x4ec0c2=_0xe2febc['id'];if(this[_0x4ec0c2])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x4ec0c2+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x4ec0c2]=_0xe2febc,this['list']['push'](_0xe2febc);}['remove'](_0x5d8af1){const _0x4ddfe5=_0x5d8af1['id'];if(!this[_0x4ddfe5])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x4ddfe5+('\x27\x20register'+'ed'));delete this[_0x4ddfe5];const _0xbc9f5c=this['list']['indexOf'](this[_0x4ddfe5]);_0xbc9f5c!==-(0x167*0x13+0x1ed2+-0x5bf*0xa)&&this['list']['splice'](_0xbc9f5c,0x2030+0x3*-0xc15+0x410);}['destroy'](){this['off']();for(let _0x3acdea=-0x1*0x26ed+0x6*-0x5ce+-0xef*-0x4f;_0x3acdea<this['list']['length'];_0x3acdea++)this['list'][_0x3acdea]['destroy']();}}class Xu extends ce{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(-0x1f31+0xe0*-0x7+0x119*0x22));}['addFile'](_0x5a9209,_0x425c29){this['_index']['has'](_0x5a9209)||(this['_index']['set'](_0x5a9209,_0x425c29),this['fire']('add',_0x5a9209,_0x425c29));}['has'](_0x3ea2a2){return this['_index']['has'](_0x3ea2a2);}['get'](_0x2938c6){return this['_index']['get'](_0x2938c6)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x5e064b){!_0x5e064b||this['_loaded']||(this['_loaded']=!(0x2*-0x6b2+-0x17f1+0x2555),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Xu,'EVENT_ADD','add'),c(Xu,'EVENT_LOAD','load');class iP extends ce{constructor(_0x5f5773,_0x50a595=''){super(),c(this,'headerSize',-0xb*0x223+0xf17+0xa6a),c(this,'paddingSiz'+'e',-0x2ea*-0xa+-0x195e+-0x1c6),c(this,'bytesRead',-0xf*-0x241+-0xae3+0x1*-0x16ec),c(this,'bytesRecei'+'ved',0x1bff+0x1c3a+0x3839*-0x1),c(this,'headerRead',!(0x7c0+0xfd5+-0x1794)),c(this,'reader',null),c(this,'data',new Uint8Array(-0x49*0xa+-0x1*0x1b09+0x1de3)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',0xa3*0x1f+-0x74f+-0xc6e),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x50a595||'',this['reader']=_0x5f5773['body']['getReader'](),this['reader']['read']()['then'](_0xaa321c=>{this['pump'](_0xaa321c['done'],_0xaa321c['value']);})['catch'](_0x1ccbdc=>{this['fire']('error',_0x1ccbdc);}));}['pump'](_0x3238dd,_0x5c325b){if(_0x3238dd)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x5c325b['byteLength'];const _0x171a6d=new Uint8Array(this['data']['length']+_0x5c325b['length']);for(_0x171a6d['set'](this['data']),_0x171a6d['set'](_0x5c325b,this['data']['length']),this['data']=_0x171a6d;this['readFile'](););return this['reader']['read']()['then'](_0x33bbc3=>{this['pump'](_0x33bbc3['done'],_0x33bbc3['value']);})['catch'](_0x5ae664=>{this['fire']('error',_0x5ae664);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0xea+-0x1898+0x17ae);const _0x4a45bd=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x510978=this['decoder']['decode'](_0x4a45bd);if(this['fileName']=_0x510978['substring'](-0x1a28+0x1*0xd17+0xd11,0x11*-0xf9+-0x143d+-0x43*-0x8e)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x510978['substring'](0x66e*-0x6+0x22aa+0x466,-0xff*-0x1f+-0x445+0x4*-0x685),0x76f+-0x5*-0x712+0x37*-0xc7),this['fileType']=_0x510978['substring'](0x175d+-0xb1*0x31+0x2*0x590,-0x2*0x752+-0x16b7+0x25f8),this['ustarForma'+'t']=_0x510978['substring'](-0x257*-0x1+0x24c7+-0x261d,0x3*0x2b1+0x1d1*-0xb+0xcef),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x1*0x20a7+-0xd*-0x1a5+0xb47*0x1)){const _0x3df01a=_0x510978['substring'](-0x11b*-0xa+0x1d5c+-0x2711,-0xedc+-0x1625+-0x1*-0x26f5)['replace'](/\0/g,'');_0x3df01a['length']>0x421*-0x1+-0x1*-0x21a3+0x1*-0x1d82&&(this['fileName']=_0x3df01a['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0x6*-0x1bd+0x2421+0xbb*-0x3d;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(-0x654+0x4df*-0x2+0x1013);if(this['fileType']===''||this['fileType']==='0'){const _0x431c12=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x22dad1={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x431c12};this['fire']('file',_0x22dad1);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x1e32+-0x8*0x39f+-0x139);const _0x445a8d=this['bytesRead']%this['paddingSiz'+'e'];return _0x445a8d!==0x730+0x11a7+-0x18d7&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x445a8d),!(0x2525+-0x51*-0x35+0x86*-0x67);}return!(0x5d5*0x1+-0x17*-0x4+0x1*-0x630);}}class Ne{constructor(_0x1d2100,_0x36ab34){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',-0x247e+0x1777+0x1*0xd07),(this['_app']=_0x1d2100,this['handlerTyp'+'e']=_0x36ab34);}set['maxRetries'](_0x2dca60){this['_maxRetrie'+'s']=_0x2dca60;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x1baa6e,_0x1b7752,_0x3ceb0a){}['open'](_0x266749,_0x52676b,_0x28b143){return _0x52676b;}['patch'](_0x52f2be,_0x16aebf){}}class rP extends Ne{constructor(_0x4b43ec){super(_0x4b43ec,'bundle'),this['_assets']=_0x4b43ec['assets'];}['_fetchRetr'+'ies'](_0x58a2f0,_0x4a0bc6,_0x3b77e0=-0xad1+0xdf*-0x29+0x2e88*0x1){return new Promise((_0x363e5,_0x3aacf3)=>{const _0x209403=()=>{fetch(_0x58a2f0,_0x4a0bc6)['then'](_0x363e5)['catch'](_0x583eb1=>{_0x3b77e0++,_0x3b77e0<this['maxRetries']?(v['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x3b77e0),_0x209403()):_0x3aacf3(_0x583eb1);});};_0x209403();});}['load'](_0x1021e3,_0x2021d3){typeof _0x1021e3=='string'&&(_0x1021e3={'load':_0x1021e3,'original':_0x1021e3}),this['_fetchRetr'+'ies'](_0x1021e3['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x56377f=>{const _0x58bdbf=new Xu();_0x2021d3(null,_0x58bdbf);const _0x54d765=new iP(_0x56377f,this['_assets']['prefix']);_0x54d765['on']('file',_0x1b3874=>{_0x58bdbf['addFile'](_0x1b3874['name'],_0x1b3874['data']);}),_0x54d765['on']('done',()=>{_0x58bdbf['loaded']=!(0xa*0x15f+-0x15e9+0x833);}),_0x54d765['on']('error',_0x18eadc=>{v['error'](_0x18eadc),_0x2021d3(_0x18eadc);});})['catch'](_0x5cefa4=>{v['error'](_0x5cefa4),_0x2021d3(_0x5cefa4);});}['open'](_0x38a9eb,_0x5308d1){return _0x5308d1;}}class pa{constructor(_0x1eb8fe){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x1eb8fe;}['addHandler'](_0x2a1ed2,_0x4f2ab5){this['_handlers'][_0x2a1ed2]=_0x4f2ab5,_0x4f2ab5['_loader']=this;}['removeHand'+'ler'](_0x5c1e92){delete this['_handlers'][_0x5c1e92];}['getHandler'](_0x5087d2){return this['_handlers'][_0x5087d2];}static['makeKey'](_0x5535b4,_0x217eb8){return _0x5535b4+'-'+_0x217eb8;}['load'](_0x340acd,_0x452ae3,_0x5ecc3c,_0x4286ad,_0x2645c7){var _0x5679a3;const _0x5bd2ff=this['_handlers'][_0x452ae3];if(!_0x5bd2ff){const _0x2e4eb6='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x452ae3+('\x27\x20when\x20loa'+'ding\x20[')+_0x340acd+']';v['errorOnce'](_0x2e4eb6),_0x5ecc3c(_0x2e4eb6);return;}if(!_0x340acd){this['_loadNull'](_0x5bd2ff,_0x5ecc3c,_0x4286ad);return;}const _0x4aadde=pa['makeKey'](_0x340acd,_0x452ae3);if(this['_cache'][_0x4aadde]!==void(0x14ed+-0x1b01*-0x1+0x5*-0x996))_0x5ecc3c(null,this['_cache'][_0x4aadde]);else{if(this['_requests'][_0x4aadde])this['_requests'][_0x4aadde]['push'](_0x5ecc3c);else{this['_requests'][_0x4aadde]=[_0x5ecc3c];const _0x35ab02=this,_0x196e0e=function(_0x4f2c20,_0x5357d7){if(_0x4f2c20){_0x35ab02['_onFailure'](_0x4aadde,_0x4f2c20);return;}if(_0x5357d7['load']instanceof DataView){if(_0x5bd2ff['openBinary']){if(!_0x35ab02['_requests'][_0x4aadde])return;try{const _0x131886=_0x5bd2ff['openBinary'](_0x5357d7['load']);_0x35ab02['_onSuccess'](_0x4aadde,_0x131886);}catch(_0xc5913b){_0x35ab02['_onFailure'](_0x4aadde,_0xc5913b);}return;}_0x5357d7['load']=URL['createObje'+'ctURL'](new Blob([_0x5357d7['load']])),_0x4286ad&&(_0x4286ad['urlObject']&&URL['revokeObje'+'ctURL'](_0x4286ad['urlObject']),_0x4286ad['urlObject']=_0x5357d7['load']);}_0x5bd2ff['load'](_0x5357d7,(_0x21bd1a,_0xaffb99,_0x1f8429)=>{if(_0x35ab02['_requests'][_0x4aadde]){if(_0x21bd1a){_0x35ab02['_onFailure'](_0x4aadde,_0x21bd1a);return;}try{_0x35ab02['_onSuccess'](_0x4aadde,_0x5bd2ff['open'](_0x5357d7['original'],_0xaffb99,_0x4286ad),_0x1f8429);}catch(_0x485c90){_0x35ab02['_onFailure'](_0x4aadde,_0x485c90);}}},_0x4286ad);},_0x2ec103=_0x340acd['split']('?')[0x1679*0x1+0x10e2+-0x275b];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x2ec103)&&!(_0x2645c7&&_0x2645c7['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x2ec103)){const _0x59b243=this['_app']['bundles']['listBundle'+'sForAsset'](_0x4286ad);let _0x457220;_0x2645c7&&_0x2645c7['bundlesFil'+'ter']&&(_0x457220=_0x2645c7['bundlesFil'+'ter'](_0x59b243)),_0x457220||(_0x59b243==null||_0x59b243['sort']((_0x10717f,_0x184050)=>_0x10717f['file']['size']-_0x184050['file']['size']),_0x457220=_0x59b243==null?void(-0x1b*-0xe5+0x1eaf+-0x36d6):_0x59b243[0x6d5+-0x1c7*0x7+-0x2ce*-0x2]),_0x457220&&((_0x5679a3=this['_app']['assets'])==null||_0x5679a3['load'](_0x457220));}this['_app']['bundles']['loadUrl'](_0x2ec103,(_0x4da305,_0x2b6b18)=>{_0x196e0e(_0x4da305,{'load':_0x2b6b18,'original':_0x2ec103});});}else _0x196e0e(null,{'load':_0x340acd,'original':_0x4286ad&&_0x4286ad['file']['filename']||_0x340acd});}}}['_loadNull'](_0x1b61e1,_0x35e183,_0x57e5bf){const _0x443f1a=function(_0x566b2b,_0x1aacdd,_0x294eb8){if(_0x566b2b)_0x35e183(_0x566b2b);else try{_0x35e183(null,_0x1b61e1['open'](null,_0x1aacdd,_0x57e5bf),_0x294eb8);}catch(_0x58701c){_0x35e183(_0x58701c);}};_0x1b61e1['load'](null,_0x443f1a,_0x57e5bf);}['_onSuccess'](_0x1385bf,_0x5d9d75,_0x13190d){_0x5d9d75!==null?this['_cache'][_0x1385bf]=_0x5d9d75:delete this['_cache'][_0x1385bf];for(let _0x5b2fb3=0x2143+-0x2329*-0x1+-0x446c;_0x5b2fb3<this['_requests'][_0x1385bf]['length'];_0x5b2fb3++)this['_requests'][_0x1385bf][_0x5b2fb3](null,_0x5d9d75,_0x13190d);delete this['_requests'][_0x1385bf];}['_onFailure'](_0x333348,_0x412b30){if(console['error'](_0x412b30),this['_requests'][_0x333348]){for(let _0x1886de=0x13f9+0x13a*0x1d+0xf1*-0x3b;_0x1886de<this['_requests'][_0x333348]['length'];_0x1886de++)this['_requests'][_0x333348][_0x1886de](_0x412b30);delete this['_requests'][_0x333348];}}['open'](_0x3e5fdd,_0x22b648){const _0x52b5b7=this['_handlers'][_0x3e5fdd];return _0x52b5b7?_0x52b5b7['open'](null,_0x22b648):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x3e5fdd),_0x22b648);}['patch'](_0x979670,_0xed12ea){const _0x32d713=this['_handlers'][_0x979670['type']];if(!_0x32d713){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x979670['type']);return;}_0x32d713['patch']&&_0x32d713['patch'](_0x979670,_0xed12ea);}['clearCache'](_0xf3c86e,_0x43454c){const _0x4294f4=pa['makeKey'](_0xf3c86e,_0x43454c);delete this['_cache'][_0x4294f4];}['getFromCac'+'he'](_0x37c65f,_0x32197f){const _0x13f024=pa['makeKey'](_0x37c65f,_0x32197f);if(this['_cache'][_0x13f024])return this['_cache'][_0x13f024];}['enableRetr'+'y'](_0x56e8e5=-0x9e1+-0x132+0xb18){_0x56e8e5=Math['max'](0xa79*-0x2+0x1cb7*0x1+-0x7c5,_0x56e8e5)||0x3*0xb5e+-0x1dd5+-0x445;for(const _0x583187 in this['_handlers'])this['_handlers'][_0x583187]['maxRetries']=_0x56e8e5;}['disableRet'+'ry'](){for(const _0x12ae50 in this['_handlers'])this['_handlers'][_0x12ae50]['maxRetries']=-0x1c3f*0x1+0xcaf+0xf90;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class nP{['_validate'](_0x28764c){if(!_0x28764c['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x28764c['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x28764c['header']['version']!==0x59f+0x2*0x12af+-0x2a*0x106)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x28764c['data']){if(!Array['isArray'](_0x28764c['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x59dc8a=0x2f2+-0xe*-0x97+-0x2*0x59a,_0x1924b3=_0x28764c['data']['length'];_0x59dc8a<_0x1924b3;_0x59dc8a++){const _0x3cbb94=_0x28764c['data'][_0x59dc8a];if(!_0x3cbb94['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x59dc8a+('].info\x22\x20fi'+'eld'));if(!_0x3cbb94['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x59dc8a+('].info.loc'+'ale\x22\x20field'));if(typeof _0x3cbb94['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x59dc8a+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x3cbb94['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x59dc8a+('].messages'+'\x22\x20field'));}}['parse'](_0x11d0f6){return this['_validate'](_0x11d0f6),_0x11d0f6['data'];}}class aP extends ce{constructor(_0x306a69){super(),this['locale']=$h,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x306a69,this['_assets']=[],this['_parser']=new nP();}set['assets'](_0x7cad0a){const _0x2e4803={};for(let _0x22c186=-0x1b93+-0xb5*-0x22+0x389*0x1,_0x841010=_0x7cad0a['length'];_0x22c186<_0x841010;_0x22c186++){const _0x1c4a99=_0x7cad0a[_0x22c186]instanceof le?_0x7cad0a[_0x22c186]['id']:_0x7cad0a[_0x22c186];_0x2e4803[_0x1c4a99]=!(0x833+-0xa3*-0x1b+-0x1964);}let _0x1a5c96=this['_assets']['length'];for(;_0x1a5c96--;){const _0x3c842d=this['_assets'][_0x1a5c96];if(!_0x2e4803[_0x3c842d]){this['_app']['assets']['off']('add:'+_0x3c842d,this['_onAssetAd'+'d'],this);const _0x139aaa=this['_app']['assets']['get'](_0x3c842d);_0x139aaa&&this['_onAssetRe'+'move'](_0x139aaa),this['_assets']['splice'](_0x1a5c96,0x162e+0x2236+0x3863*-0x1);}}for(const _0x14c1ab in _0x2e4803){const _0x3f5b18=parseInt(_0x14c1ab,0x741+-0xb6*-0xe+-0x112b);if(this['_assets']['indexOf'](_0x3f5b18)!==-(0x116b+0x172a+0x173*-0x1c))continue;this['_assets']['push'](_0x3f5b18);const _0x5df07b=this['_app']['assets']['get'](_0x3f5b18);_0x5df07b?this['_onAssetAd'+'d'](_0x5df07b):this['_app']['assets']['once']('add:'+_0x3f5b18,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x1b2d1d){if(this['_locale']===_0x1b2d1d)return;let _0x847c62=pi(_0x1b2d1d);if(_0x847c62==='in'&&(_0x847c62='id',_0x1b2d1d=Y1(_0x1b2d1d,_0x847c62),this['_locale']===_0x1b2d1d))return;const _0x285e5c=this['_locale'];this['_locale']=_0x1b2d1d,this['_lang']=_0x847c62,this['_pluralFn']=Xd(this['_lang']),this['fire']('set:locale',_0x1b2d1d,_0x285e5c);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x954099,_0x2614e6){return V0(_0x954099,_0x2614e6);}['findAvaila'+'bleLocale'](_0x30d3f6){if(this['_translati'+'ons'][_0x30d3f6])return _0x30d3f6;const _0x1a5fcf=pi(_0x30d3f6);return this['_findFallb'+'ackLocale'](_0x30d3f6,_0x1a5fcf);}['getText'](_0x3fb0ba,_0x3b4233){let _0x10b687=_0x3fb0ba,_0x354c3c;_0x3b4233||(_0x3b4233=this['_locale'],_0x354c3c=this['_lang']);let _0xca65c6=this['_translati'+'ons'][_0x3b4233];return _0xca65c6||(_0x354c3c||(_0x354c3c=pi(_0x3b4233)),_0x3b4233=this['_findFallb'+'ackLocale'](_0x3b4233,_0x354c3c),_0xca65c6=this['_translati'+'ons'][_0x3b4233]),_0xca65c6&&_0xca65c6['hasOwnProp'+'erty'](_0x3fb0ba)&&(_0x10b687=_0xca65c6[_0x3fb0ba],Array['isArray'](_0x10b687)&&(_0x10b687=_0x10b687[0x1569+-0x17dd+0x274]),_0x10b687==null&&(_0x10b687=_0x3fb0ba)),_0x10b687;}['getPluralT'+'ext'](_0x289413,_0x1dea78,_0x28a238){let _0x5a32ce=_0x289413,_0x1f1c78,_0x5731a3;_0x28a238?(_0x1f1c78=pi(_0x28a238),_0x5731a3=Xd(_0x1f1c78)):(_0x28a238=this['_locale'],_0x1f1c78=this['_lang'],_0x5731a3=this['_pluralFn']);let _0x1334a9=this['_translati'+'ons'][_0x28a238];if(_0x1334a9||(_0x28a238=this['_findFallb'+'ackLocale'](_0x28a238,_0x1f1c78),_0x1f1c78=pi(_0x28a238),_0x5731a3=Xd(_0x1f1c78),_0x1334a9=this['_translati'+'ons'][_0x28a238]),_0x1334a9&&_0x1334a9[_0x289413]&&_0x5731a3){const _0xc32320=_0x5731a3(_0x1dea78);_0x5a32ce=_0x1334a9[_0x289413][_0xc32320],_0x5a32ce==null&&(_0x5a32ce=_0x289413);}return _0x5a32ce;}['addData'](_0x3a38ce){let _0x12cb6f;try{_0x12cb6f=this['_parser']['parse'](_0x3a38ce);}catch(_0x30a78c){console['error'](_0x30a78c);return;}for(let _0x173087=0x19fc*-0x1+0x19d*0x3+-0x1525*-0x1,_0x37b6d6=_0x12cb6f['length'];_0x173087<_0x37b6d6;_0x173087++){const _0x3540d6=_0x12cb6f[_0x173087],_0x3be2d9=_0x3540d6['info']['locale'],_0x5dbb26=_0x3540d6['messages'];if(!this['_translati'+'ons'][_0x3be2d9]){this['_translati'+'ons'][_0x3be2d9]={};const _0x1891e2=pi(_0x3be2d9);this['_available'+'Langs'][_0x1891e2]||(this['_available'+'Langs'][_0x1891e2]=_0x3be2d9);}Object['assign'](this['_translati'+'ons'][_0x3be2d9],_0x5dbb26),this['fire']('data:add',_0x3be2d9,_0x5dbb26);}}['removeData'](_0x36b5b6){let _0xab722c;try{_0xab722c=this['_parser']['parse'](_0x36b5b6);}catch(_0x5cc3e2){console['error'](_0x5cc3e2);return;}for(let _0x552862=-0x2*0x135c+-0x244+0x28fc,_0x21c01c=_0xab722c['length'];_0x552862<_0x21c01c;_0x552862++){const _0x22ba1f=_0xab722c[_0x552862],_0x3b1f86=_0x22ba1f['info']['locale'],_0x5aa456=this['_translati'+'ons'][_0x3b1f86];if(!_0x5aa456)continue;const _0x404828=_0x22ba1f['messages'];for(const _0x1788af in _0x404828)delete _0x5aa456[_0x1788af];Object['keys'](_0x5aa456)['length']===-0xf6a*0x2+-0x8a1*0x1+0x2775&&(delete this['_translati'+'ons'][_0x3b1f86],delete this['_available'+'Langs'][pi(_0x3b1f86)]),this['fire']('data:remov'+'e',_0x3b1f86,_0x404828);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x3e0ecd,_0x323799){let _0x5213a7=Wh[_0x3e0ecd];return _0x5213a7&&this['_translati'+'ons'][_0x5213a7]||(_0x5213a7=Wh[_0x323799],_0x5213a7&&this['_translati'+'ons'][_0x5213a7])||(_0x5213a7=this['_available'+'Langs'][_0x323799],_0x5213a7&&this['_translati'+'ons'][_0x5213a7])?_0x5213a7:$h;}['_onAssetAd'+'d'](_0x2398c5){_0x2398c5['on']('load',this['_onAssetLo'+'ad'],this),_0x2398c5['on']('change',this['_onAssetCh'+'ange'],this),_0x2398c5['on']('remove',this['_onAssetRe'+'move'],this),_0x2398c5['on']('unload',this['_onAssetUn'+'load'],this),_0x2398c5['resource']&&this['_onAssetLo'+'ad'](_0x2398c5);}['_onAssetLo'+'ad'](_0x30730b){this['addData'](_0x30730b['resource']);}['_onAssetCh'+'ange'](_0xbc262f){_0xbc262f['resource']&&this['addData'](_0xbc262f['resource']);}['_onAssetRe'+'move'](_0xe4fc3b){_0xe4fc3b['off']('load',this['_onAssetLo'+'ad'],this),_0xe4fc3b['off']('change',this['_onAssetCh'+'ange'],this),_0xe4fc3b['off']('remove',this['_onAssetRe'+'move'],this),_0xe4fc3b['off']('unload',this['_onAssetUn'+'load'],this),_0xe4fc3b['resource']&&this['removeData'](_0xe4fc3b['resource']),this['_app']['assets']['once']('add:'+_0xe4fc3b['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x110356){_0x110356['resource']&&this['removeData'](_0x110356['resource']);}}class oP extends ce{constructor(_0xe2f145){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0xe2f145;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x56c952,_0x5b6bc3){_0x5b6bc3&&this['_scriptSch'+'emas']['set'](_0x56c952,_0x5b6bc3);}['getSchema'](_0x5f3b59){return this['_scriptSch'+'emas']['get'](_0x5f3b59);}['add'](_0x1b55b7){const _0x10da49=_0x1b55b7['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x10da49)?(setTimeout(()=>{if(_0x1b55b7['prototype']['swap']){const _0x2753e0=this['_scripts'][_0x10da49],_0x4c4e7e=this['_list']['indexOf'](_0x2753e0);this['_list'][_0x4c4e7e]=_0x1b55b7,this['_scripts'][_0x10da49]=_0x1b55b7,this['fire']('swap',_0x10da49,_0x1b55b7),this['fire']('swap:'+_0x10da49,_0x1b55b7);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x10da49+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x1489+-0xa9b+0x1f25)):(this['_scripts'][_0x10da49]=_0x1b55b7,this['_list']['push'](_0x1b55b7),this['fire']('add',_0x10da49,_0x1b55b7),this['fire']('add:'+_0x10da49,_0x1b55b7),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x10da49)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x251a0d=this['app']['systems']['script']['_component'+'s'];let _0x425d1c;const _0x5e86b9=[],_0x4fa747=[];for(_0x251a0d['loopIndex']=-0x111c+0x1d71*0x1+0x1*-0xc55;_0x251a0d['loopIndex']<_0x251a0d['length'];_0x251a0d['loopIndex']++){const _0x1a3eec=_0x251a0d['items'][_0x251a0d['loopIndex']];if(_0x1a3eec['_scriptsIn'+'dex'][_0x10da49]&&_0x1a3eec['_scriptsIn'+'dex'][_0x10da49]['awaiting']){_0x1a3eec['_scriptsDa'+'ta']&&_0x1a3eec['_scriptsDa'+'ta'][_0x10da49]&&(_0x425d1c=_0x1a3eec['_scriptsDa'+'ta'][_0x10da49]['attributes']);const _0x237d94=_0x1a3eec['create'](_0x10da49,{'preloading':!(0x4*0x59c+-0x251a+0xeaa),'ind':_0x1a3eec['_scriptsIn'+'dex'][_0x10da49]['ind'],'attributes':_0x425d1c});_0x237d94&&_0x5e86b9['push'](_0x237d94);for(const _0xd23226 of _0x1a3eec['scripts'])_0x1a3eec['initialize'+'Attributes'](_0xd23226);}}for(let _0x5309c9=-0x26*-0x28+-0x1c5a+0x13*0x12e;_0x5309c9<_0x5e86b9['length'];_0x5309c9++)_0x5e86b9[_0x5309c9]['enabled']&&(_0x5e86b9[_0x5309c9]['_initializ'+'ed']=!(-0x50d*0x4+-0x1dea+-0x2*-0x190f),_0x4fa747['push'](_0x5e86b9[_0x5309c9]),_0x5e86b9[_0x5309c9]['initialize']&&_0x5e86b9[_0x5309c9]['initialize']());for(let _0x56c15c=0x1fd7+0x135*-0xf+-0xdbc;_0x56c15c<_0x4fa747['length'];_0x56c15c++)!_0x4fa747[_0x56c15c]['enabled']||_0x4fa747[_0x56c15c]['_postIniti'+'alized']||(_0x4fa747[_0x56c15c]['_postIniti'+'alized']=!(-0x12ab+-0x17b5+-0xe20*-0x3),_0x4fa747[_0x56c15c]['postInitia'+'lize']&&_0x4fa747[_0x56c15c]['postInitia'+'lize']());}),!(0x3*0x114+0x4cd+-0x809));}['remove'](_0x39f60b){let _0x984950=_0x39f60b,_0x2bd9d3=_0x39f60b;if(typeof _0x2bd9d3!='string'?_0x2bd9d3=_0x984950['__name']:_0x984950=this['get'](_0x2bd9d3),this['get'](_0x2bd9d3)!==_0x984950)return!(0x7a1*-0x1+-0x7*0x29f+0x2e3*0x9);delete this['_scripts'][_0x2bd9d3];const _0x4d7461=this['_list']['indexOf'](_0x984950);return this['_list']['splice'](_0x4d7461,-0xbcc+-0xd64+-0x1*-0x1931),this['fire']('remove',_0x2bd9d3,_0x984950),this['fire']('remove:'+_0x2bd9d3,_0x984950),!(0x48b+0x52+0xf9*-0x5);}['get'](_0x39af2){return this['_scripts'][_0x39af2]||null;}['has'](_0x2a5848){if(typeof _0x2a5848=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x2a5848);if(!_0x2a5848)return!(0x2*0x5cb+-0x2*0x119b+0x17a1*0x1);const _0x576094=_0x2a5848['__name'];return this['_scripts'][_0x576094]===_0x2a5848;}['list'](){return this['_list'];}}const lP=(_0x4e54ee,_0xf57ca2)=>_0x4e54ee['constructo'+'r']['order']-_0xf57ca2['constructo'+'r']['order'],hP=_0x51656f=>_0x51656f['sort'](lP),Za=[],G0=[],cP=()=>G0['pop']()??[],W_=_0x5639e2=>{_0x5639e2['length']=-0xd5d*0x2+-0x1204+0x775*0x6,G0['push'](_0x5639e2);},ac=class ac extends De{constructor(_0x27ca68,_0x4c9ec0=tn()){super(_0x27ca68),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(0x391*0x7+-0x2508+0xc12)),c(this,'_guid',null),c(this,'_template',!(0x527*-0x1+-0x1ba*0x4+0xc10)),(v['assert'](_0x4c9ec0,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x4c9ec0);}['addCompone'+'nt'](_0x1b6f2f,_0x391917){const _0x62bf79=this['_app']['systems'][_0x1b6f2f];return _0x62bf79?this['c'][_0x1b6f2f]?(v['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x1b6f2f+('\x27\x20componen'+'t')),null):_0x62bf79['addCompone'+'nt'](this,_0x391917):(v['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x1b6f2f+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x5ae118){const _0x643f7b=this['_app']['systems'][_0x5ae118];if(!_0x643f7b){v['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x5ae118+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x5ae118]){v['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x5ae118+('\x27\x20componen'+'t'));return;}_0x643f7b['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x391f26){const _0x198321=this['findOne'](_0x3db6db=>{var _0x73f2a7;return(_0x73f2a7=_0x3db6db['c'])==null?void(-0x2243+-0x126e+0x34b1):_0x73f2a7[_0x391f26];});return _0x198321&&_0x198321['c'][_0x391f26];}['findCompon'+'ents'](_0xd98475){return this['find'](_0x1025cd=>{var _0x5e9ddb;return(_0x5e9ddb=_0x1025cd['c'])==null?void(-0xfa8+-0x1376+0x231e):_0x5e9ddb[_0xd98475];})['map'](_0x121bf7=>_0x121bf7['c'][_0xd98475]);}['findScript'](_0xeb573c){const _0x515f03=this['findOne'](_0x45e408=>{var _0x2e5472,_0x3eb19c;return(_0x3eb19c=(_0x2e5472=_0x45e408['c'])==null?void(0xf85+0x20e+0x1*-0x1193):_0x2e5472['script'])==null?void(0x1d02*-0x1+0x3*0x1d+0xb3*0x29):_0x3eb19c['has'](_0xeb573c);});return _0x515f03==null?void(0x13*0x1f5+0x1169*-0x2+-0x25d):_0x515f03['c']['script']['get'](_0xeb573c);}['findScript'+'s'](_0x43d822){return this['find'](_0x22ee93=>{var _0x4a2e39,_0x463d55;return(_0x463d55=(_0x4a2e39=_0x22ee93['c'])==null?void(0xc0a*0x2+-0x1ea2*0x1+0x2*0x347):_0x4a2e39['script'])==null?void(0x1c2e+-0x1*0x23ad+0x77f):_0x463d55['has'](_0x43d822);})['map'](_0x58fd47=>_0x58fd47['c']['script']['get'](_0x43d822));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x2835e6){const _0x6587cf=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x6587cf[this['_guid']],this['_guid']=_0x2835e6,_0x6587cf[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x6f5100,_0x2d16ad){let _0x28d08c=!(0x17f*0x9+-0x1fb6+0x1240);_0x6f5100===this&&Za['length']===-0x2*-0xc3e+0x1*0xbdf+-0x245b*0x1&&(_0x28d08c=!(-0xc07*0x3+-0x1f2+0xb1*0x37)),_0x6f5100['_beingEnab'+'led']=!(-0x8a4+0x191c+-0x1078),_0x6f5100['_onHierarc'+'hyStateCha'+'nged'](_0x2d16ad),_0x6f5100['_onHierarc'+'hyStatePos'+'tChanged']&&Za['push'](_0x6f5100);const _0x185937=_0x6f5100['_children'];for(let _0x4d08f4=0x1*0xf6a+-0x1*-0xd04+-0x1c6e,_0x38b07e=_0x185937['length'];_0x4d08f4<_0x38b07e;_0x4d08f4++)_0x185937[_0x4d08f4]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x185937[_0x4d08f4],_0x2d16ad);if(_0x6f5100['_beingEnab'+'led']=!(-0x154f+-0x4bd*-0x5+-0x261),_0x28d08c){for(let _0x4be529=-0x1915+-0x37+0x194c;_0x4be529<Za['length'];_0x4be529++)Za[_0x4be529]['_onHierarc'+'hyStatePos'+'tChanged']();Za['length']=0xa31+-0x2486+-0x6b*-0x3f;}}['_onHierarc'+'hyStateCha'+'nged'](_0x57b0f0){super['_onHierarc'+'hyStateCha'+'nged'](_0x57b0f0);const _0x42b5d9=this['_getSorted'+'Components']();for(let _0x43cc1f=0x5ad*-0x1+0x2411+-0x1e64;_0x43cc1f<_0x42b5d9['length'];_0x43cc1f++){const _0x30b86e=_0x42b5d9[_0x43cc1f];_0x30b86e['enabled']&&(_0x57b0f0?_0x30b86e['onEnable']():_0x30b86e['onDisable']());}W_(_0x42b5d9);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x48f8b0=this['_getSorted'+'Components']();for(let _0x29adf4=-0xb83+-0xb7f+0x1702;_0x29adf4<_0x48f8b0['length'];_0x29adf4++)_0x48f8b0[_0x29adf4]['onPostStat'+'eChange']();W_(_0x48f8b0);}['findByGuid'](_0x3ea972){if(this['_guid']===_0x3ea972)return this;const _0x21d9ea=this['_app']['_entityInd'+'ex'][_0x3ea972];return _0x21d9ea&&(_0x21d9ea===this||_0x21d9ea['isDescenda'+'ntOf'](this))?_0x21d9ea:null;}['destroy'](){this['_destroyin'+'g']=!(-0x22a+-0x1270+-0x36f*-0x6);for(const _0x1375c2 in this['c'])this['c'][_0x1375c2]['enabled']=!(0x2188+-0x937*0x1+-0x1850);for(const _0x363472 in this['c'])this['c'][_0x363472]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x215b+0x1dbc*0x1+0xe8*0x4);}['clone'](){const _0x1bd2ac={},_0x52b408=this['_cloneRecu'+'rsively'](_0x1bd2ac);return _0x1bd2ac[this['getGuid']()]=_0x52b408,H0(this,this,_0x52b408,_0x1bd2ac),_0x52b408;}['_getSorted'+'Components'](){const _0x1766be=this['c'],_0x514a59=cP();let _0x5152c1=-0x688+-0x6e5+0xd6d;for(const _0x45d7da in _0x1766be)if(_0x1766be['hasOwnProp'+'erty'](_0x45d7da)){const _0x113b6c=_0x1766be[_0x45d7da];_0x5152c1|=_0x113b6c['constructo'+'r']['order']!==0x2022+-0x170*-0xe+-0x3442,_0x514a59['push'](_0x113b6c);}return _0x5152c1&&_0x514a59['length']>-0x4db*0x1+0x1a85+-0x15a9&&hP(_0x514a59),_0x514a59;}['_cloneRecu'+'rsively'](_0x4b1d92){const _0x137564=new this['constructo'+'r'](void(-0x153*0x15+0x5*-0x3f5+0x5f3*0x8),this['_app']);super['_cloneInte'+'rnal'](_0x137564);for(const _0x5ac734 in this['c'])this['c'][_0x5ac734]['system']['cloneCompo'+'nent'](this,_0x137564);for(let _0x27f33f=0xe71+-0x4f*-0x22+-0x18ef;_0x27f33f<this['_children']['length'];_0x27f33f++){const _0x352248=this['_children'][_0x27f33f];if(_0x352248 instanceof ac){const _0x1308bd=_0x352248['_cloneRecu'+'rsively'](_0x4b1d92);_0x137564['addChild'](_0x1308bd),_0x4b1d92[_0x352248['getGuid']()]=_0x1308bd;}}return _0x137564;}};c(ac,'EVENT_DEST'+'ROY','destroy');let $e=ac;function H0(_0x5660ea,_0xb28a6c,_0x2a90f9,_0x12c833){if(_0xb28a6c instanceof $e){const _0x1f77b9=_0xb28a6c['c'];for(const _0x1ba4d7 in _0x1f77b9){const _0x57440b=_0x1f77b9[_0x1ba4d7],_0x3e0d35=_0x57440b['system']['getPropert'+'iesOfType']('entity');for(let _0x483625=-0x3*-0x39+0x1873*0x1+-0xc8f*0x2,_0x9ae039=_0x3e0d35['length'];_0x483625<_0x9ae039;_0x483625++){const _0x5aada8=_0x3e0d35[_0x483625]['name'],_0x17ab8c=_0x57440b[_0x5aada8];if(!!_0x5660ea['findByGuid'](_0x17ab8c)){const _0x1d00a5=_0x12c833[_0x17ab8c]['getGuid']();_0x1d00a5?_0x2a90f9['c'][_0x1ba4d7][_0x5aada8]=_0x1d00a5:v['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x1f77b9['script']&&_0x2a90f9['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1f77b9['script'],_0x12c833),_0x1f77b9['render']&&_0x2a90f9['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1f77b9['render'],_0x12c833),_0x1f77b9['button']&&_0x2a90f9['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1f77b9['button'],_0x12c833),_0x1f77b9['scrollview']&&_0x2a90f9['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1f77b9['scrollview'],_0x12c833),_0x1f77b9['scrollbar']&&_0x2a90f9['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1f77b9['scrollbar'],_0x12c833),_0x1f77b9['anim']&&_0x2a90f9['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1f77b9['anim'],_0x12c833);const _0x43c3c7=_0xb28a6c['children']['filter'](_0x4b9c80=>_0x4b9c80 instanceof $e),_0x4aeeaf=_0x2a90f9['children']['filter'](_0x401ca8=>_0x401ca8 instanceof $e);for(let _0x22a432=-0x7ff+0xeb6+-0x6b7,_0x17cf8c=_0x43c3c7['length'];_0x22a432<_0x17cf8c;_0x22a432++)H0(_0x5660ea,_0x43c3c7[_0x22a432],_0x4aeeaf[_0x22a432],_0x12c833);}}class q_{constructor(_0x1e551c,_0x11ba86){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(0x99e+0xc9c+-0x1639)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x1e551c,this['url']=_0x11ba86);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class dP{constructor(_0x5afe78){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x5afe78;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x443f84,_0x209b30){if(this['_index']['hasOwnProp'+'erty'](_0x443f84))return v['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x443f84),!(-0x208+0x740*-0x4+-0x46f*-0x7);const _0x30f915=new q_(_0x443f84,_0x209b30),_0x36a6da=this['_list']['push'](_0x30f915);return this['_index'][_0x30f915['name']]=_0x36a6da-(-0xa5b*-0x2+0x1a0f+-0xbb1*0x4),this['_urlIndex'][_0x30f915['url']]=_0x36a6da-(0x1dbc+0x21e+0x1fd9*-0x1),!(0x1674+-0x1a91+0x41d);}['find'](_0x37e412){return this['_index']['hasOwnProp'+'erty'](_0x37e412)?this['_list'][this['_index'][_0x37e412]]:null;}['findByUrl'](_0x53696a){return this['_urlIndex']['hasOwnProp'+'erty'](_0x53696a)?this['_list'][this['_urlIndex'][_0x53696a]]:null;}['remove'](_0x59aa6a){if(this['_index']['hasOwnProp'+'erty'](_0x59aa6a)){const _0x2266db=this['_index'][_0x59aa6a];let _0xf9f6fd=this['_list'][_0x2266db];delete this['_urlIndex'][_0xf9f6fd['url']],delete this['_index'][_0x59aa6a],this['_list']['splice'](_0x2266db,0x241f+-0x1*-0x1b47+0x3f65*-0x1);for(let _0x3b6905=-0x1c06+-0x1601+0x3207;_0x3b6905<this['_list']['length'];_0x3b6905++)_0xf9f6fd=this['_list'][_0x3b6905],this['_index'][_0xf9f6fd['name']]=_0x3b6905,this['_urlIndex'][_0xf9f6fd['url']]=_0x3b6905;}}['_loadScene'+'Data'](_0x166e6b,_0x5030a9,_0xf45c13){const _0x2d7a20=this['_app'];let _0x52f39f=_0x166e6b;if(typeof _0x166e6b=='string'&&(_0x166e6b=this['findByUrl'](_0x52f39f)||this['find'](_0x52f39f)||new q_('Untitled',_0x52f39f)),_0x52f39f=_0x166e6b['url'],!_0x52f39f){_0xf45c13('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x166e6b['loaded']){_0xf45c13(null,_0x166e6b);return;}_0x2d7a20['assets']&&_0x2d7a20['assets']['prefix']&&!Da['test'](_0x52f39f)&&(_0x52f39f=fe['join'](_0x2d7a20['assets']['prefix'],_0x52f39f)),_0x166e6b['_onLoadedC'+'allbacks']['push'](_0xf45c13),_0x166e6b['_loading']||_0x2d7a20['loader']['getHandler']('hierarchy')['load'](_0x52f39f,(_0xeef1e6,_0x3dc117)=>{_0x166e6b['data']=_0x3dc117,_0x166e6b['_loading']=!(0x5d5*0x5+-0x2285+0x55d);for(let _0x536fc3=0x9+0x1529+0x1*-0x1532;_0x536fc3<_0x166e6b['_onLoadedC'+'allbacks']['length'];_0x536fc3++)_0x166e6b['_onLoadedC'+'allbacks'][_0x536fc3](_0xeef1e6,_0x166e6b);_0x5030a9||(_0x166e6b['data']=null),_0x166e6b['_onLoadedC'+'allbacks']['length']=-0x50*-0x47+-0xdb6+0xa*-0xd9;}),_0x166e6b['_loading']=!(0xd5e+0xc33*0x1+-0x1991);}['loadSceneD'+'ata'](_0xb438ce,_0x3e8dcc){this['_loadScene'+'Data'](_0xb438ce,!(-0xa*-0x1b6+0x605*-0x2+-0x2*0x289),_0x3e8dcc);}['unloadScen'+'eData'](_0x123067){typeof _0x123067=='string'&&(_0x123067=this['findByUrl'](_0x123067)),_0x123067&&(_0x123067['data']=null);}['_loadScene'+'Hierarchy'](_0x164739,_0x4ce40b,_0x5f1c5b){this['_loadScene'+'Data'](_0x164739,!(0x5e*-0x32+-0x347*-0x5+0x1fa*0x1),(_0x12138d,_0x2855dd)=>{if(_0x12138d){_0x5f1c5b&&_0x5f1c5b(_0x12138d);return;}_0x4ce40b&&_0x4ce40b(_0x2855dd);const _0x3dd636=this['_app'],_0xe52da4=()=>{const _0x4da87a=_0x3dd636['loader']['getHandler']('hierarchy');_0x3dd636['systems']['script']['preloading']=!(-0x3*-0x936+0x1124+-0x2cc6);const _0x478742=_0x4da87a['open'](_0x2855dd['url'],_0x2855dd['data']);_0x3dd636['systems']['script']['preloading']=!(0x150*-0x5+-0x2d*-0x97+-0x1*0x13fa),_0x3dd636['loader']['clearCache'](_0x2855dd['url'],'hierarchy'),_0x3dd636['root']['addChild'](_0x478742),_0x3dd636['systems']['fire']('initialize',_0x478742),_0x3dd636['systems']['fire']('postInitia'+'lize',_0x478742),_0x3dd636['systems']['fire']('postPostIn'+'itialize',_0x478742),_0x5f1c5b&&_0x5f1c5b(null,_0x478742);};_0x3dd636['_preloadSc'+'ripts'](_0x2855dd['data'],_0xe52da4);});}['loadSceneH'+'ierarchy'](_0x18ce29,_0x292911){this['_loadScene'+'Hierarchy'](_0x18ce29,null,_0x292911);}['loadSceneS'+'ettings'](_0x184914,_0x2483ff){this['_loadScene'+'Data'](_0x184914,!(0x40f*0x3+0x68*-0x11+-0x544),(_0x474032,_0x484e0f)=>{_0x474032?_0x2483ff&&_0x2483ff(_0x474032):(this['_app']['applyScene'+'Settings'](_0x484e0f['data']['settings']),_0x2483ff&&_0x2483ff(null));});}['changeScen'+'e'](_0x52ecde,_0x345699){const _0x4d105e=this['_app'],_0x3d4141=_0x2f300a=>{const {children:_0x4c85f6}=_0x4d105e['root'];for(;_0x4c85f6['length'];)_0x4c85f6[0x918*0x1+-0x1935+0x177*0xb]['destroy']();_0x4d105e['applyScene'+'Settings'](_0x2f300a['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x52ecde,_0x3d4141,_0x345699);}['loadScene'](_0x9b3a3c,_0x2a6294){const _0xe97862=this['_app'],_0x3ca506=_0xe97862['loader']['getHandler']('scene');_0xe97862['assets']&&_0xe97862['assets']['prefix']&&!Da['test'](_0x9b3a3c)&&(_0x9b3a3c=fe['join'](_0xe97862['assets']['prefix'],_0x9b3a3c)),_0x3ca506['load'](_0x9b3a3c,(_0x314acf,_0x47f6d4)=>{if(_0x314acf)_0x2a6294&&_0x2a6294(_0x314acf);else{const _0x9dbf1f=()=>{_0xe97862['systems']['script']['preloading']=!(-0x60e+0x1*0x216e+-0x6*0x490);const _0x1268dd=_0x3ca506['open'](_0x9b3a3c,_0x47f6d4),_0x221233=this['findByUrl'](_0x9b3a3c);_0x221233&&!_0x221233['loaded']&&(_0x221233['data']=_0x47f6d4),_0xe97862['systems']['script']['preloading']=!(-0x7f3+0x1df9+-0x1605),_0xe97862['loader']['clearCache'](_0x9b3a3c,'scene'),_0xe97862['loader']['patch']({'resource':_0x1268dd,'type':'scene'},_0xe97862['assets']),_0xe97862['root']['addChild'](_0x1268dd['root']),_0xe97862['systems']['rigidbody']&&typeof Ammo<'u'&&_0xe97862['systems']['rigidbody']['gravity']['set'](_0x1268dd['_gravity']['x'],_0x1268dd['_gravity']['y'],_0x1268dd['_gravity']['z']),_0x2a6294&&_0x2a6294(null,_0x1268dd);};_0xe97862['_preloadSc'+'ripts'](_0x47f6d4,_0x9dbf1f);}});}}class uP{constructor(_0x14494e){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x14494e['_shaderSta'+'ts'],this['vram']=_0x14494e['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return tn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x2b5750;return(_0x2b5750=tn()['lightmappe'+'r'])==null?void(0x1*0x90f+-0xdcd+0x4be):_0x2b5750['stats'];}get['batcher'](){const _0x18183e=tn()['_batcher'];return _0x18183e?_0x18183e['_stats']:null;}}const Gr=class Gr extends ce{constructor(_0x1fa576){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(0x165f+0x1211+-0x286f)),c(this,'_inFrameUp'+'date',!(0x80f*-0x2+-0x1d9a+-0x5*-0x925)),c(this,'_libraries'+'Loaded',!(-0x47d+-0xe66+0x174*0xd)),c(this,'_fillMode',V_),c(this,'_resolutio'+'nMode',q1),c(this,'_allowResi'+'ze',!(-0xcd3+-0xac*0xb+0x1437)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(0x61f*0x5+0x2*0x86+0x1fa6*-0x1)),c(this,'_scriptPre'+'fix',''),c(this,'_time',0xe85+-0x6b*0x2e+0x4b5),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',-0x8f9*-0x4+-0x869+-0x1b7a),c(this,'maxDeltaTi'+'me',-0x1*-0x21af+-0x1*0xc5+-0x20ea+0.1),c(this,'frame',-0x2*-0xd0f+-0x109e+-0x980),c(this,'frameGraph',new X1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(-0x6dc+-0x5*0x43f+-0x31f*-0x9)),c(this,'renderNext'+'Frame',!(-0x6d*-0x6+-0x174e+-0xe7*-0x17)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new pa(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new dP(this)),c(this,'scripts',new oP(this)),c(this,'systems',new sP()),c(this,'i18n',new aP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((no==null?void(-0x105f*-0x2+0x1ee3+-0x3fa1):no['indexOf']('$'))<0x1e91+-0x93+0x1dfe*-0x1&&v['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+no+'\x20'+sy),Gr['_applicati'+'ons'][_0x1fa576['id']]=this,qu(this),this['root']=new $e(),this['root']['_enabledIn'+'Hierarchy']=!(0xeeb+0x2eb+0x5f2*-0x3));}['init'](_0x3c9456){const {assetPrefix:_0x1e7556,batchManager:_0x13216d,componentSystems:_0x263450,elementInput:_0x25e089,gamepads:_0x3d7773,graphicsDevice:_0x18dd04,keyboard:_0x497e4d,lightmapper:_0x1fcd5c,mouse:_0x5ac76d,resourceHandlers:_0x5325b0,scriptsOrder:_0xcb84d,scriptPrefix:_0x2d55a0,soundManager:_0x404a10,touch:_0x2394ba,xr:_0x459d8e}=_0x3c9456;v['assert'](_0x18dd04,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x18dd04,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new uP(_0x18dd04),this['_soundMana'+'ger']=_0x404a10,this['scene']=new ci(_0x18dd04),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new ao(this['loader']),_0x1e7556&&(this['assets']['prefix']=_0x1e7556),this['bundles']=new tP(this['assets']),this['scriptsOrd'+'er']=_0xcb84d||[],this['defaultLay'+'erWorld']=new Lr({'name':'World','id':Fi}),this['defaultLay'+'erDepth']=new Lr({'name':'Depth','id':Xt,'enabled':!(0xe95+-0x4*0x413+0x5*0x58),'opaqueSortMode':dh}),this['defaultLay'+'erSkybox']=new Lr({'name':'Skybox','id':vp,'opaqueSortMode':dh}),this['defaultLay'+'erUi']=new Lr({'name':'UI','id':tl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Lr({'name':'Immediate','id':bp,'opaqueSortMode':dh});const _0x3702e5=new S_('default');_0x3702e5['pushOpaque'](this['defaultLay'+'erWorld']),_0x3702e5['pushOpaque'](this['defaultLay'+'erDepth']),_0x3702e5['pushOpaque'](this['defaultLay'+'erSkybox']),_0x3702e5['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x3702e5['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x3702e5['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x3702e5['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x3702e5,Wr['createPlac'+'eholder'](_0x18dd04),this['renderer']=new Gh(_0x18dd04),this['renderer']['scene']=this['scene'],_0x1fcd5c&&(this['lightmappe'+'r']=new _0x1fcd5c(_0x18dd04,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x13216d&&(this['_batcher']=new _0x13216d(_0x18dd04,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x497e4d||null,this['mouse']=_0x5ac76d||null,this['touch']=_0x2394ba||null,this['gamepads']=_0x3d7773||null,_0x25e089&&(this['elementInp'+'ut']=_0x25e089,this['elementInp'+'ut']['app']=this),this['xr']=_0x459d8e?new _0x459d8e(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x2d55a0||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new rP(this)),_0x5325b0['forEach'](_0x3fc044=>{const _0x3f4182=new _0x3fc044(this);this['loader']['addHandler'](_0x3f4182['handlerTyp'+'e'],_0x3f4182);}),_0x263450['forEach'](_0x328c3b=>{this['systems']['add'](new _0x328c3b(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0x2399+0x4*-0x5fe+0x3b91)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x245+0x24bc+0x68*-0x60))):document['mozHidden']!==void(0x2537+0x12af*0x1+0x109*-0x36)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1c15+-0xbc9+0x2b*-0x61))):document['msHidden']!==void(0x1*0x553+0x26*0xca+-0x234f)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1339+-0x2231+0x356b))):document['webkitHidd'+'en']!==void(-0x15e1+-0x759+0x1d3a)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*0x1c9b+-0x1e2*-0xb+0x7e6)))),this['tick']=fP(this);}static['getApplica'+'tion'](_0x4431bd){return _0x4431bd?Gr['_applicati'+'ons'][_0x4431bd]:tn();}['_initDefau'+'ltMaterial'](){const _0x237463=new cs();_0x237463['name']='Default\x20Ma'+'terial',sC(this['graphicsDe'+'vice'],_0x237463);}['_initProgr'+'amLibrary'](){const _0x1e4c20=new D1(this['graphicsDe'+'vice'],new cs());$E(this['graphicsDe'+'vice'],_0x1e4c20);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return v['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x430ea4,_0x2e8128){We['get'](_0x430ea4,(_0x2163cf,_0x2045a3)=>{if(_0x2163cf){_0x2e8128(_0x2163cf);return;}const _0x5dc80e=_0x2045a3['applicatio'+'n_properti'+'es'],_0x459699=_0x2045a3['scenes'],_0x4c6187=_0x2045a3['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x5dc80e,_0x276eec=>{this['_parseScen'+'es'](_0x459699),this['_parseAsse'+'ts'](_0x4c6187),_0x2e8128(_0x276eec||null);});});}['preload'](_0x34554d){this['fire']('preload:st'+'art');const _0x149ee4=this['assets']['list']({'preload':!(-0x10a2+-0x116*-0x16+-0x742)});if(_0x149ee4['length']===0x8*-0x133+0x537*0x1+-0x13*-0x3b){this['fire']('preload:en'+'d'),_0x34554d();return;}let _0x4c3d6d=-0x25ef+-0x856+0x5*0x941;const _0x1fae27=()=>{_0x4c3d6d++,this['fire']('preload:pr'+'ogress',_0x4c3d6d/_0x149ee4['length']),_0x4c3d6d===_0x149ee4['length']&&(this['fire']('preload:en'+'d'),_0x34554d());};_0x149ee4['forEach'](_0x34d48e=>{_0x34d48e['loaded']?_0x1fae27():(_0x34d48e['once']('load',_0x1fae27),_0x34d48e['once']('error',_0x1fae27),this['assets']['load'](_0x34d48e));});}['_preloadSc'+'ripts'](_0x36e618,_0xec8a95){_0xec8a95();}['_parseAppl'+'icationPro'+'perties'](_0x2c1789,_0x2cc3d3){if(typeof _0x2c1789['maxAssetRe'+'tries']=='number'&&_0x2c1789['maxAssetRe'+'tries']>-0x1555*0x1+-0x2311+0x3866*0x1&&this['loader']['enableRetr'+'y'](_0x2c1789['maxAssetRe'+'tries']),_0x2c1789['useDeviceP'+'ixelRatio']||(_0x2c1789['useDeviceP'+'ixelRatio']=_0x2c1789['use_device'+'_pixel_rat'+'io']),_0x2c1789['resolution'+'Mode']||(_0x2c1789['resolution'+'Mode']=_0x2c1789['resolution'+'_mode']),_0x2c1789['fillMode']||(_0x2c1789['fillMode']=_0x2c1789['fill_mode']),this['_width']=_0x2c1789['width'],this['_height']=_0x2c1789['height'],_0x2c1789['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x2c1789['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x2c1789['fillMode'],this['_width'],this['_height']),_0x2c1789['layers']&&_0x2c1789['layerOrder']){const _0x369f84=new S_('applicatio'+'n'),_0x4a48c7={};for(const _0x48de2f in _0x2c1789['layers']){const _0x3f20f2=_0x2c1789['layers'][_0x48de2f];_0x3f20f2['id']=parseInt(_0x48de2f,0x1d09*-0x1+-0x132b+0x303e),_0x3f20f2['enabled']=_0x3f20f2['id']!==Xt,_0x4a48c7[_0x48de2f]=new Lr(_0x3f20f2);}for(let _0x26795c=0x1a92+0x1e2b+-0x38bd,_0x41c7f6=_0x2c1789['layerOrder']['length'];_0x26795c<_0x41c7f6;_0x26795c++){const _0x52dfcd=_0x2c1789['layerOrder'][_0x26795c],_0xbbd862=_0x4a48c7[_0x52dfcd['layer']];_0xbbd862&&(_0x52dfcd['transparen'+'t']?_0x369f84['pushTransp'+'arent'](_0xbbd862):_0x369f84['pushOpaque'](_0xbbd862),_0x369f84['subLayerEn'+'abled'][_0x26795c]=_0x52dfcd['enabled']);}this['scene']['layers']=_0x369f84;}if(_0x2c1789['batchGroup'+'s']){const _0x4b205c=this['batcher'];if(_0x4b205c)for(let _0x35b642=0x23ed+-0x15e1+0x706*-0x2,_0x12074f=_0x2c1789['batchGroup'+'s']['length'];_0x35b642<_0x12074f;_0x35b642++){const _0x54befc=_0x2c1789['batchGroup'+'s'][_0x35b642];_0x4b205c['addGroup'](_0x54befc['name'],_0x54befc['dynamic'],_0x54befc['maxAabbSiz'+'e'],_0x54befc['id'],_0x54befc['layers']);}}_0x2c1789['i18nAssets']&&(this['i18n']['assets']=_0x2c1789['i18nAssets']),this['_loadLibra'+'ries'](_0x2c1789['libraries'],_0x2cc3d3);}['_loadLibra'+'ries'](_0x49ecd2,_0x412f70){const _0x5a685d=_0x49ecd2['length'];let _0x4bb727=_0x5a685d;const _0x4f9e36=/^https?:\/\//;if(_0x5a685d){const _0x2caec7=(_0x4fdfb0,_0x430116)=>{_0x4bb727--,_0x4fdfb0?_0x412f70(_0x4fdfb0):_0x4bb727===-0x1027*-0x1+-0x1a18+0x9f1&&(this['onLibrarie'+'sLoaded'](),_0x412f70(null));};for(let _0x35e7fc=0x1916+0xbb*-0x1+0x1d*-0xd7;_0x35e7fc<_0x5a685d;++_0x35e7fc){let _0x5e133c=_0x49ecd2[_0x35e7fc];!_0x4f9e36['test'](_0x5e133c['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x5e133c=fe['join'](this['_scriptPre'+'fix'],_0x5e133c)),this['loader']['load'](_0x5e133c,'script',_0x2caec7);}}else this['onLibrarie'+'sLoaded'](),_0x412f70(null);}['_parseScen'+'es'](_0x3dd80d){if(_0x3dd80d){for(let _0x3be59e=-0x22*-0xfe+-0x1*-0x1b41+-0x3cfd*0x1;_0x3be59e<_0x3dd80d['length'];_0x3be59e++)this['scenes']['add'](_0x3dd80d[_0x3be59e]['name'],_0x3dd80d[_0x3be59e]['url']);}}['_parseAsse'+'ts'](_0xec10ef){const _0x4e2814=[],_0x327710={},_0x1479cd={};for(let _0x3dace7=-0x25d0+0x7*-0x534+0x4a3c;_0x3dace7<this['scriptsOrd'+'er']['length'];_0x3dace7++){const _0x28f266=this['scriptsOrd'+'er'][_0x3dace7];_0xec10ef[_0x28f266]&&(_0x327710[_0x28f266]=!(0xd7e+-0x109a+0x4*0xc7),_0x4e2814['push'](_0xec10ef[_0x28f266]));}if(this['enableBund'+'les']){for(const _0x47d1a8 in _0xec10ef)_0xec10ef[_0x47d1a8]['type']==='bundle'&&(_0x1479cd[_0x47d1a8]=!(0x1*-0x22ab+0x1b69+0x742),_0x4e2814['push'](_0xec10ef[_0x47d1a8]));}for(const _0xa06899 in _0xec10ef)_0x327710[_0xa06899]||_0x1479cd[_0xa06899]||_0x4e2814['push'](_0xec10ef[_0xa06899]);for(let _0x517477=-0x1*-0x2563+0x2096+-0x45f9;_0x517477<_0x4e2814['length'];_0x517477++){const _0x29f485=_0x4e2814[_0x517477],_0x2282b7=new le(_0x29f485['name'],_0x29f485['type'],_0x29f485['file'],_0x29f485['data']);if(_0x2282b7['id']=parseInt(_0x29f485['id'],-0x1816+-0x1cd*-0xe+-0x116),_0x2282b7['preload']=_0x29f485['preload']?_0x29f485['preload']:!(0x266e+-0x3b*0x7c+0x1*-0x9d9),_0x2282b7['loaded']=_0x29f485['type']==='script'&&_0x29f485['data']&&_0x29f485['data']['loadingTyp'+'e']>0x229*-0x4+0x8b+0x819,_0x2282b7['tags']['add'](_0x29f485['tags']),_0x29f485['i18n']){for(const _0x5a9bb4 in _0x29f485['i18n'])_0x2282b7['addLocaliz'+'edAssetId'](_0x5a9bb4,_0x29f485['i18n'][_0x5a9bb4]);}this['assets']['add'](_0x2282b7);}}['start'](){v['call'](()=>{v['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x12c9+-0x23*0x83+-0x8*0x1c);}),this['frame']=0x1bc8+0x10f*-0xe+-0xcf6,this['fire']('start',{'timestamp':ne(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x2289e1){this['controller']&&this['controller']['update'](_0x2289e1),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x1c22e3){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ne(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x1c22e3),this['systems']['fire']('animationU'+'pdate',_0x1c22e3),this['systems']['fire']('postUpdate',_0x1c22e3),this['fire']('update',_0x1c22e3),this['inputUpdat'+'e'](_0x1c22e3),this['stats']['frame']['updateTime']=ne()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ne(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Gh['_skipRende'+'rCounter']=-0x1a65+0xa1*-0x38+0x3d9d,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ne()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x1eacbd){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x1eacbd),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x1eacbd),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x3b1dbc,_0x5831a7,_0x218f81){const _0x18b1ee=this['stats']['frame'];_0x18b1ee['dt']=_0x5831a7,_0x18b1ee['ms']=_0x218f81,_0x3b1dbc>_0x18b1ee['_timeToCou'+'ntFrames']?(_0x18b1ee['fps']=_0x18b1ee['_fpsAccum'],_0x18b1ee['_fpsAccum']=-0x2d8*0x6+-0x1d9e+0x2eae,_0x18b1ee['_timeToCou'+'ntFrames']=_0x3b1dbc+(0x198b+-0x110*0xb+-0x11b*0x9)):_0x18b1ee['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0xd*0x14f+0x6f*0x4f+0x1*-0x3344;}['_fillFrame'+'Stats'](){let _0x2c38bc=this['stats']['frame'];_0x2c38bc['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x2c38bc['materials']=this['renderer']['_materialS'+'witches'],_0x2c38bc['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x2c38bc['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x2c38bc['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x2c38bc['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x2c38bc['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x4e485=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x2c38bc['triangles']=_0x4e485[Ms]/(-0x1193+0xb*-0x2f9+0x3249)+Math['max'](_0x4e485[ar]-(-0x1ce0+-0x23e0+-0xacb*-0x6),0x2507*-0x1+-0x1*0x6a3+0x2baa)+Math['max'](_0x4e485[Yr]-(0x76d*0x2+-0x190+-0xd48),0x8d8+0x270f+0x2fe7*-0x1),_0x2c38bc['cullTime']=this['renderer']['_cullTime'],_0x2c38bc['sortTime']=this['renderer']['_sortTime'],_0x2c38bc['skinTime']=this['renderer']['_skinTime'],_0x2c38bc['morphTime']=this['renderer']['_morphTime'],_0x2c38bc['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x2c38bc['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x2c38bc['otherPrimi'+'tives']=-0x1*0x1e76+-0x1ff1+0x3e67;for(let _0x5e74f1=-0x1e27+0x5*-0x7c9+0x4514;_0x5e74f1<_0x4e485['length'];_0x5e74f1++)_0x5e74f1<Ms&&(_0x2c38bc['otherPrimi'+'tives']+=_0x4e485[_0x5e74f1]),_0x4e485[_0x5e74f1]=-0x124*0x8+-0x592+0x6*0x273;this['renderer']['_camerasRe'+'ndered']=0x30f*0x1+-0x1eb*0x12+-0x64b*-0x5,this['renderer']['_materialS'+'witches']=-0x16b*0xf+0x63e+0xf07,this['renderer']['_shadowMap'+'Updates']=-0x13*0x151+-0x1*-0x2134+-0x831,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x20f+0x1*-0x1b65+0x1956,this['renderer']['_cullTime']=-0x1*-0x86+-0x1d77+0x1cf1,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x131*0x1+0x1*-0x707+0x5d6,this['renderer']['_lightClus'+'tersTime']=0x1362+0x1af5+-0x2e57,this['renderer']['_sortTime']=-0xa5b*0x1+0x1*0x16b5+-0x1*0xc5a,this['renderer']['_skinTime']=0x1d0+-0x6d*0x29+-0x321*-0x5,this['renderer']['_morphTime']=-0x1e80+0x1*0x1cb5+0x1cb,this['renderer']['_shadowMap'+'Time']=0x2535+-0x228+-0x230d*0x1,this['renderer']['_depthMapT'+'ime']=0x9b*-0x32+0x59*0x4f+-0x1*-0x2cf,this['renderer']['_forwardTi'+'me']=0x1efc+-0x7d2+0xb95*-0x2,_0x2c38bc=this['stats']['drawCalls'],_0x2c38bc['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x2c38bc['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x2c38bc['depth']=-0x1eba+-0x1*0x559+0x737*0x5,_0x2c38bc['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x2c38bc['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x2c38bc['immediate']=0x4f*0x5d+-0x39a*0x3+-0x3*0x5f7,_0x2c38bc['instanced']=-0x6bd+-0xd01+-0x85*-0x26,_0x2c38bc['removedByI'+'nstancing']=0x878*0x2+-0x13*0x2c+-0xdac,_0x2c38bc['misc']=_0x2c38bc['total']-(_0x2c38bc['forward']+_0x2c38bc['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x37c*-0x1+-0x1*0xc1d+0x2f*0x2f,this['renderer']['_shadowDra'+'wCalls']=-0x2a*0x6f+-0x24e8+0x371e,this['renderer']['_forwardDr'+'awCalls']=0xb2c+0x149f+-0x1fcb,this['renderer']['_numDrawCa'+'llsCulled']=-0x256*-0x5+-0x1*0x2071+0x14c3,this['renderer']['_skinDrawC'+'alls']=-0x85*0x1d+0xd7*0x1f+-0xaf8,this['renderer']['_immediate'+'Rendered']=-0x1372+0x8*-0x16b+0x1*0x1eca,this['renderer']['_instanced'+'DrawCalls']=-0x61*-0x28+-0xa6d+-0xad*0x7,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x2c38bc=this['stats']['particles'],_0x2c38bc['updatesPer'+'Frame']=_0x2c38bc['_updatesPe'+'rFrame'],_0x2c38bc['frameTime']=_0x2c38bc['_frameTime'],_0x2c38bc['_updatesPe'+'rFrame']=0x560+-0xd89+0x1*0x829,_0x2c38bc['_frameTime']=-0x375*0x9+0x3*-0xbe8+0x1*0x42d5;}['setCanvasF'+'illMode'](_0x558da4,_0x2020db,_0xbabbd1){this['_fillMode']=_0x558da4,this['resizeCanv'+'as'](_0x2020db,_0xbabbd1);}['setCanvasR'+'esolution'](_0x17cf1d,_0x1102d0,_0x4ade10){this['_resolutio'+'nMode']=_0x17cf1d,_0x17cf1d===G_&&_0x1102d0===void(0x20cd+0xd82+-0x2e4f)&&(_0x1102d0=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x4ade10=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x1102d0,_0x4ade10);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x12b32,_0x17ab2d){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x407eed=window['innerWidth'],_0x54eb29=window['innerHeigh'+'t'];if(this['_fillMode']===V_){const _0x42d31e=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x17952d=_0x407eed/_0x54eb29;_0x42d31e>_0x17952d?(_0x12b32=_0x407eed,_0x17ab2d=_0x12b32/_0x42d31e):(_0x17ab2d=_0x54eb29,_0x12b32=_0x17ab2d*_0x42d31e);}else this['_fillMode']===W1&&(_0x12b32=_0x407eed,_0x17ab2d=_0x54eb29);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x12b32+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x17ab2d+'px',this['updateCanv'+'asSize'](),{'width':_0x12b32,'height':_0x17ab2d};}['updateCanv'+'asSize'](){var _0x390292;if(!(!this['_allowResi'+'ze']||(_0x390292=this['xr'])!=null&&_0x390292['active'])&&this['_resolutio'+'nMode']===G_){const _0x11958c=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x11958c['clientWidt'+'h'],_0x11958c['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x19ea+-0x5*-0x551+-0x1*0xab),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x1a9e5f){let _0x208db1;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x5e1e63,_0x4441b9,_0x3b3fe3]=_0x1a9e5f['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x5e1e63,_0x4441b9,_0x3b3fe3);}this['scene']['applySetti'+'ngs'](_0x1a9e5f),_0x1a9e5f['render']['hasOwnProp'+'erty']('skybox')&&(_0x1a9e5f['render']['skybox']?(_0x208db1=this['assets']['get'](_0x1a9e5f['render']['skybox']),_0x208db1?this['setSkybox'](_0x208db1):this['assets']['once']('add:'+_0x1a9e5f['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x25d1d7,_0x4ec3fb){_0x25d1d7&&_0x4ec3fb?Wr['set'](this['graphicsDe'+'vice'],_0x25d1d7,_0x4ec3fb):v['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x1273dc){if(_0x1273dc!==this['_skyboxAss'+'et']){const _0x266e84=()=>{this['setSkybox'](null);},_0x4e6149=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x4e6149,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x266e84,this),this['_skyboxAss'+'et']['off']('change',_0x4e6149,this)),this['_skyboxAss'+'et']=_0x1273dc,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x4e6149,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x266e84,this),this['_skyboxAss'+'et']['on']('change',_0x4e6149,this),this['scene']['skyboxMip']===-0xfec+-0x1d35*-0x1+-0x1*0xd49&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0x2055+-0x1acf+-0xca*0x7)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x4e6149();}}['_firstBake'](){var _0x2a3745;(_0x2a3745=this['lightmappe'+'r'])==null||_0x2a3745['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x47d8d9;(_0x47d8d9=this['batcher'])==null||_0x47d8d9['generate']();}['_processTi'+'mestamp'](_0x12745a){return _0x12745a;}['drawLine'](_0x5fa349,_0x34d0a0,_0x1090fe,_0x4e1d8a,_0x5ef734){this['scene']['drawLine'](_0x5fa349,_0x34d0a0,_0x1090fe,_0x4e1d8a,_0x5ef734);}['drawLines'](_0x252007,_0x335aed,_0x1e3aa3=!(-0x24f9+0xa2f*-0x3+0x4386),_0x4608cd=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x252007,_0x335aed,_0x1e3aa3,_0x4608cd);}['drawLineAr'+'rays'](_0x4e7082,_0x33eac0,_0x2aff55=!(0x136f+-0x1093+-0x3*0xf4),_0x4a70cb=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x4e7082,_0x33eac0,_0x2aff55,_0x4a70cb);}['drawWireSp'+'here'](_0x4839be,_0x10d305,_0x490474=Y['WHITE'],_0x523ea3=0xc96+-0x1b08+0xe86,_0x142520=!(0x3*-0x725+-0x615+0x1b84),_0x5b49eb=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x4839be,_0x10d305,_0x490474,_0x523ea3,_0x142520,_0x5b49eb);}['drawWireAl'+'ignedBox'](_0x320b27,_0x57b9d5,_0x8db6ed=Y['WHITE'],_0x269891=!(0x92d+0x1656+-0x1f83*0x1),_0x4255b1=this['scene']['defaultDra'+'wLayer'],_0x235d07){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x320b27,_0x57b9d5,_0x8db6ed,_0x269891,_0x4255b1,_0x235d07);}['drawMeshIn'+'stance'](_0x372a6c,_0x32a26e=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x372a6c,_0x32a26e);}['drawMesh'](_0x1f2549,_0x41c91d,_0x30030f,_0x3d0a07=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x41c91d,_0x30030f,_0x1f2549,null,_0x3d0a07);}['drawQuad'](_0x17a66e,_0x3d1a9f,_0x4866e3=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x3d1a9f,_0x17a66e,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x4866e3);}['drawTextur'+'e'](_0x20b81d,_0x1fd49a,_0x1f1b04,_0x1edd49,_0x5f3513,_0x42c2d8,_0x5a50ff=this['scene']['defaultDra'+'wLayer'],_0x4022b8=!(-0x819*0x1+-0x140b+0x1c24)){if(_0x4022b8===!(-0xe8a+-0xf6*0x1+0xf81)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0xfb18c7=new q();_0xfb18c7['setTRS'](new T(_0x20b81d,_0x1fd49a,-0x1*0x2682+-0xca+0x7dc*0x5),se['IDENTITY'],new T(_0x1f1b04,-_0x1edd49,-0x1*-0x159b+0x53f*0x2+-0x9*0x391)),_0x42c2d8||(_0x42c2d8=new Ra(),_0x42c2d8['cull']=mt,_0x42c2d8['setParamet'+'er']('colorMap',_0x5f3513),_0x42c2d8['shaderDesc']=_0x4022b8?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x5f3513['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x42c2d8['update']()),this['drawQuad'](_0xfb18c7,_0x42c2d8,_0x5a50ff);}['drawDepthT'+'exture'](_0x21e1c5,_0x36e66c,_0x24d96e,_0x4ecbc9,_0x1daa2a=this['scene']['defaultDra'+'wLayer']){const _0x527a9a=new Ra();_0x527a9a['cull']=mt,_0x527a9a['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x527a9a['update'](),this['drawTextur'+'e'](_0x21e1c5,_0x36e66c,_0x24d96e,_0x4ecbc9,null,_0x527a9a,_0x1daa2a);}['destroy'](){var _0x5e7a70,_0x14a314,_0x4aea14,_0x55d289;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0x1c16+-0x510+0x2126);return;}const _0x3c40b0=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x2*0x11c9+-0xe96+0x3229)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1128+0x13b*-0x8+-0x74f)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1d89*0x1+-0x8c9*-0x3+-0x37e3)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x262*0x4+-0x2*0x4c+-0x8ef))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x1c4e77=this['assets']['list']();for(let _0x48a728=-0x12b1+-0x4b7+0x1768;_0x48a728<_0x1c4e77['length'];_0x48a728++)_0x1c4e77[_0x48a728]['unload'](),_0x1c4e77[_0x48a728]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x20b97e=this['loader']['getHandler']('script');_0x20b97e==null||_0x20b97e['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x5e7a70=this['lightmappe'+'r'])==null||_0x5e7a70['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x14a314=this['xr'])==null||_0x14a314['end'](),(_0x4aea14=this['xr'])==null||_0x4aea14['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x55d289=this['_soundMana'+'ger'])==null||_0x55d289['destroy'](),this['_soundMana'+'ger']=null,Gr['_applicati'+'ons'][_0x3c40b0]=null,tn()===this&&qu(null),Gr['cancelTick'](this);}static['cancelTick'](_0x23fd8a){_0x23fd8a['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x23fd8a['frameReque'+'stId']),_0x23fd8a['frameReque'+'stId']=void(0x3*-0xa16+0x2355+-0x513));}['getEntityF'+'romIndex'](_0x4e4850){return this['_entityInd'+'ex'][_0x4e4850];}['_registerS'+'ceneImmedi'+'ate'](_0x304e5b){this['on']('postrender',_0x304e5b['immediate']['onPostRend'+'er'],_0x304e5b['immediate']);}};c(Gr,'_applicati'+'ons',{});let qh=Gr;const jd={},fP=function(_0x56a938){const _0x34aa78=_0x56a938;return function(_0x289428,_0x86ba1d){var _0x2bf2a8,_0x31184e,_0x409ec2,_0x18e454;if(!_0x34aa78['graphicsDe'+'vice'])return;_0x34aa78['frameReque'+'stId']&&((_0x31184e=(_0x2bf2a8=_0x34aa78['xr'])==null?void(-0xc1+0xc4a+-0x1*0xb89):_0x2bf2a8['session'])==null||_0x31184e['cancelAnim'+'ationFrame'](_0x34aa78['frameReque'+'stId']),cancelAnimationFrame(_0x34aa78['frameReque'+'stId']),_0x34aa78['frameReque'+'stId']=null),_0x34aa78['_inFrameUp'+'date']=!(0x1799*0x1+0x25*0x7+-0x189c),qu(_0x34aa78);const _0x25f2f8=_0x34aa78['_processTi'+'mestamp'](_0x289428)||ne(),_0x42ecba=_0x25f2f8-(_0x34aa78['_time']||_0x25f2f8);let _0x16808e=_0x42ecba/(-0x9*0x29+-0x17f3+-0x12c*-0x19);if(_0x16808e=N['clamp'](_0x16808e,0x8d1*-0x1+0x12ba+-0x9e9,_0x34aa78['maxDeltaTi'+'me']),_0x16808e*=_0x34aa78['timeScale'],_0x34aa78['_time']=_0x25f2f8,(_0x409ec2=_0x34aa78['xr'])!=null&&_0x409ec2['session']?_0x34aa78['frameReque'+'stId']=_0x34aa78['xr']['session']['requestAni'+'mationFram'+'e'](_0x34aa78['tick']):_0x34aa78['frameReque'+'stId']=ye['browser']||ye['worker']?requestAnimationFrame(_0x34aa78['tick']):null,_0x34aa78['graphicsDe'+'vice']['contextLos'+'t'])return;_0x34aa78['_fillFrame'+'StatsBasic'](_0x25f2f8,_0x16808e,_0x42ecba),_0x34aa78['_fillFrame'+'Stats'](),_0x34aa78['fire']('frameupdat'+'e',_0x42ecba);let _0x39c200=!(0x20ad+-0x15c4+0xae9*-0x1);_0x86ba1d?(_0x39c200=(_0x18e454=_0x34aa78['xr'])==null?void(-0xe5*-0x25+0x2404+-0x451d):_0x18e454['update'](_0x86ba1d),_0x34aa78['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x86ba1d['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x34aa78['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x39c200&&(v['trace'](jx,'----\x20Frame'+'\x20'+_0x34aa78['frame']),v['trace'](td,'--\x20UpdateS'+'tart\x20'+ne()['toFixed'](-0x1993*0x1+0x1331+0x664)+'ms'),_0x34aa78['update'](_0x16808e),_0x34aa78['fire']('framerende'+'r'),(_0x34aa78['autoRender']||_0x34aa78['renderNext'+'Frame'])&&(v['trace'](td,'--\x20RenderS'+'tart\x20'+ne()['toFixed'](0x1e1b+0x158d+-0x33a6)+'ms'),_0x34aa78['updateCanv'+'asSize'](),_0x34aa78['frameStart'](),_0x34aa78['render'](),_0x34aa78['frameEnd'](),_0x34aa78['renderNext'+'Frame']=!(-0x1886+0x423*0x3+0xc1e),v['trace'](td,'--\x20RenderE'+'nd\x20'+ne()['toFixed'](0x1*0x35+-0x2*-0xe75+-0x1d1d)+'ms')),jd['timestamp']=ne(),jd['target']=_0x34aa78,_0x34aa78['fire']('frameend',jd)),_0x34aa78['_inFrameUp'+'date']=!(-0x17ee+-0x3*0xa61+0xe*0x3ef),_0x34aa78['_destroyRe'+'quested']&&_0x34aa78['destroy']();};};class pP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const Qa=new Lf();class $0{constructor(_0x5a116d,_0x45358a,_0x931f37){this['scene']=_0x5a116d,this['light']=_0x45358a,this['store'](),_0x45358a['numCascade'+'s']=0x1d39*0x1+0x1*-0x1c8d+-0x39*0x3,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x45358a['castShadow'+'s']=_0x45358a['bakeShadow'+'s']&&_0x931f37['shadowsEna'+'bled']),_0x45358a['type']!==oe&&(_0x45358a['_node']['getWorldTr'+'ansform'](),_0x45358a['getBoundin'+'gSphere'](Qa),this['lightBound'+'s']=new _e(),this['lightBound'+'s']['center']['copy'](Qa['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](Qa['radius'],Qa['radius'],Qa['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0xd0dca9=this['light'];_0xd0dca9['mask']=this['mask'],_0xd0dca9['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0xd0dca9['enabled']=this['enabled'],_0xd0dca9['intensity']=this['intensity'],_0xd0dca9['_node']['setLocalRo'+'tation'](this['rotation']),_0xd0dca9['numCascade'+'s']=this['numCascade'+'s'],_0xd0dca9['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0x26b*0x3+-0xcd*0x2f+0x2ce4),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x2bed8b){const _0x5cb083=this['light'];_0x5cb083['enabled']=!(-0x7*0x25f+-0x1ffb+0x3095),_0x5cb083['shadowMap']&&(_0x5cb083['shadowMap']['cached']&&_0x2bed8b['add'](_0x5cb083,_0x5cb083['shadowMap']),_0x5cb083['shadowMap']=null);}}const Hl=new $();class mP extends $0{constructor(_0x3da5df,_0x36accc){super(_0x3da5df['scene'],_0x36accc,_0x3da5df['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===oe?this['light']['bakeNumSam'+'ples']:-0x2*0x12fb+0x1174+0x1483;}['prepareVir'+'tualLight'](_0x336695,_0x161e9d){const _0x49ae99=this['light'];if(_0x49ae99['_node']['setLocalRo'+'tation'](this['rotation']),_0x336695>0x11*0x47+-0x10c7+0xc10*0x1){const _0x5dda1c=_0x49ae99['bakeArea'];ll['circlePoin'+'tDetermini'+'stic'](Hl,_0x336695,_0x161e9d),Hl['mulScalar'](_0x5dda1c*(0x29*0x2b+-0x2669+0x21a*0xf+0.5)),_0x49ae99['_node']['rotateLoca'+'l'](Hl['x'],-0x1561+-0x959+-0x156*-0x17,Hl['y']);}_0x49ae99['_node']['getWorldTr'+'ansform']();const _0x211fa7=0x201f+0x1ae1+-0x3afe+0.20000000000000018,_0x7297eb=Math['pow'](this['intensity'],_0x211fa7);_0x49ae99['intensity']=Math['pow'](_0x7297eb/_0x161e9d,(-0x3*0x497+-0xf91+0x1d57)/_0x211fa7);}}const X_=new T();class j_ extends $0{constructor(_0x34e439){const _0x49fcf2=_0x34e439['scene'],_0x27b8a4=new $e('AmbientLig'+'ht');_0x27b8a4['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x28*0xf0+0x979+-0x19*-0x11f),'affectLightmapped':!(0x2240+0x4ff*0x2+-0x2c3d),'bake':!(0xd5*0x6+0x62*0x12+-0xbe2),'bakeNumSamples':_0x49fcf2['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x1f8a+0x226b+-0x2e1),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':Dt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(0x14e3+-0xac9+-0xa19*0x1)}),super(_0x49fcf2,_0x27b8a4['light']['light'],_0x34e439['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x281406,_0x556b40){ll['spherePoin'+'tDetermini'+'stic'](X_,_0x281406,_0x556b40,-0xd31*0x2+0x1*-0x1305+0x2d67,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](X_['mulScalar'](-(0x1b*-0x86+-0x531*0x2+0x1885))),this['light']['_node']['rotateLoca'+'l'](-0x23ff+0x1a*0xc4+0x3*0x57b,0x1*-0x2523+-0x750*0x1+0x2c73,-0x14*0x17b+-0x1f4f+0x3ceb);const _0x3d6a2f=-0x13a2+-0xc7*0x2c+0x35d8+0.20000000000000018,_0xb92edc=(-0x2324+0x26ef+0x11*-0x39)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x298347=Math['pow'](_0xb92edc,_0x3d6a2f);this['light']['intensity']=Math['pow'](_0x298347/_0x556b40,(-0x1*0xa01+-0x13*0x65+0x1181)/_0x3d6a2f);}}class $l{constructor(_0x57d12b,_0x4be3dc=null){this['node']=_0x57d12b,this['component']=_0x57d12b['render']||_0x57d12b['model'],_0x4be3dc=_0x4be3dc||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x4be3dc,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const Y_=0xe59+0x2659+0xa87*-0x5;class _P{constructor(_0x47e64c){this['device']=_0x47e64c,this['shaderDila'+'te']=Is(_0x47e64c,X['fullscreen'+'QuadVS'],vo['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0x47e64c['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x47e64c['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x4a1*0x3+0xb*-0x6b+0x315*0x6),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x35e049){this['constantTe'+'xSource']['setValue'](_0x35e049);}['prepare'](_0x28e840,_0x3f137a){this['pixelOffse'+'t'][-0x1*0xb2+-0x17f1*-0x1+-0x1*0x173f]=(0x20e6+0xfcb+0x52*-0x98)/_0x28e840,this['pixelOffse'+'t'][0x4e3+-0x35*0x33+0x5ad]=(0xc7d+0x354*0x3+-0xb3c*0x2)/_0x3f137a,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x2be9e7,_0x2e8f8a,_0x559112){const _0x5d1226=_0x559112?0x16b9+-0x1402+-0x2b7:0x1f8b+-0x40*0x4a+-0xd0a;if(!this['shaderDeno'+'ise'][_0x5d1226]){const _0x51c6f7='lmBilatera'+'lDeNoise-'+(_0x559112?'hdr':'rgbm'),_0x4ae2a5=_0x559112?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x5d1226]=Is(this['device'],X['fullscreen'+'QuadVS'],_0x4ae2a5+vo['bilateralD'+'eNoisePS'],_0x51c6f7),this['sigmas']=new Float32Array(-0x1a35+-0xa*-0x55+0x16e5),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][0xab5+0x96*-0x2b+0x1*0xe7d]=_0x2be9e7,this['sigmas'][-0x18aa+-0x1154*-0x2+-0x9fd]=_0x2e8f8a,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x2be9e7,_0x2e8f8a);}['getDenoise'](_0x568676){const _0x4df943=_0x568676?-0x135*-0x13+0x43*-0x1+0x16ac*-0x1:0x2*-0x134f+-0x25*-0x63+0x30a*0x8;return this['shaderDeno'+'ise'][_0x4df943];}['getDilate'](_0x1da135,_0x388705){const _0x3775fa=_0x388705?-0x5a7+-0x74d+0xcf4*0x1:0xc3b+-0x3*0x1c4+-0x1*0x6ee;if(!this['shaderDila'+'te'][_0x3775fa]){const _0x49a8d0='lmDilate-'+(_0x388705?'hdr':'rgbm'),_0xf3ec69=_0x388705?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x3775fa]=Is(_0x1da135,X['fullscreen'+'QuadVS'],_0xf3ec69+vo['dilatePS'],_0x49a8d0);}return this['shaderDila'+'te'][_0x3775fa];}['evaluateDe'+'noiseUnifo'+'rms'](_0x8d7dd9,_0xdfb976){function _0x353db3(_0x3ff2f6,_0x13c76e){return(0x2573+0x56*0x2d+0x3491*-0x1+0.39894)*Math['exp'](-(0xe2*0x1e+-0x112d*-0x1+-0x2ba9+0.5)*_0x3ff2f6*_0x3ff2f6/(_0x13c76e*_0x13c76e))/_0x13c76e;}this['kernel']=this['kernel']||new Float32Array(Y_);const _0x41ab4b=this['kernel'],_0x5c30f2=Math['floor']((Y_-(-0x11cb+0x10e8+-0x3*-0x4c))/(0x7b7+-0x2*0xb03+0xe51));for(let _0x4ce8f9=0x3d*0x72+-0x27*-0x81+-0x2ed1;_0x4ce8f9<=_0x5c30f2;++_0x4ce8f9){const _0x569b2d=_0x353db3(_0x4ce8f9,_0x8d7dd9);_0x41ab4b[_0x5c30f2+_0x4ce8f9]=_0x569b2d,_0x41ab4b[_0x5c30f2-_0x4ce8f9]=_0x569b2d;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x56a2d7=(-0x2436+-0x52a*0x1+0x1*0x2961)/_0x353db3(0x1db1*0x1+0x1733+-0x34e4,_0xdfb976);this['bZnorm']['setValue'](_0x56a2d7);}}class gP extends ds{constructor(_0x1905ee,_0x1f3fd3,_0x3ec0b4,_0x2e2156,_0x23f2ba,_0xf57bcf){super(_0x1905ee),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x1f3fd3,this['camera']=_0x3ec0b4,this['worldClust'+'ers']=_0x2e2156,this['receivers']=_0x23f2ba,this['lightArray']=_0xf57bcf);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1e9d44=>{_0x1e9d44['defaultUni'+'formBuffer']['destroy'](),_0x1e9d44['destroy']();}),this['viewBindGr'+'oups']['length']=0x1715+-0xf2f+0x2*-0x3f3;}['execute'](){const _0x1b1964=this['device'];G['pushGpuMar'+'ker'](_0x1b1964,'Lightmappe'+'r');const {renderer:_0x3ddbac,camera:_0x5e3295,receivers:_0x1bdb8d,renderTarget:_0x25b806,worldClusters:_0x2b3c62,lightArray:_0x5b9d03}=this;_0x3ddbac['renderForw'+'ardLayer'](_0x5e3295,_0x25b806,null,void(-0xb*0x1cb+0x1788*-0x1+-0xe6b*-0x3),gn,this['viewBindGr'+'oups'],{'meshInstances':_0x1bdb8d,'splitLights':_0x5b9d03,'lightClusters':_0x2b3c62}),G['popGpuMark'+'er'](_0x1b1964);}}const yP=-0x21b1+-0x1*0x19+0x29ca,xP=0x7*-0x236+0x49*0x3a+0x10*-0x11,SP=-0x6*-0x3e4+0x10*-0xc5+-0xb07,Wl=new T();class vP{constructor(_0x2f1d47,_0x53d24b,_0x4dab28,_0x2525fd,_0x399348){this['device']=_0x2f1d47,this['root']=_0x53d24b,this['scene']=_0x4dab28,this['renderer']=_0x2525fd,this['assets']=_0x399348,this['shadowMapC'+'ache']=_0x2525fd['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x1720+0x9e1+-0x2100),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x3c9da9;Si['decRef'](this['blackTex']),this['blackTex']=null,Si['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x3c9da9=this['camera'])==null||_0x3c9da9['destroy'](),this['camera']=null;}['initBake'](_0x3c7765){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Se,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x250d+0x161e+-0x3b2b),this['lightmapFi'+'lters']=new _P(_0x3c7765),this['constantBa'+'keDir']=_0x3c7765['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new he(this['device'],{'width':0x4,'height':0x4,'format':Se,'type':on,'name':'lightmapBl'+'ack'}),Si['incRef'](this['blackTex']);const _0x66a3a6=new ol();_0x66a3a6['clearColor']['set'](0xdd2+-0x130e+-0x10c*-0x5,0x13b1+-0x116e+-0x1*0x243,0x28c*0x1+-0x1*0x814+0x588,0x1*0x1937+-0xa22+-0xf15),_0x66a3a6['clearColor'+'Buffer']=!(0x86*0x1+0x96*0x7+-0x1*0x4a0),_0x66a3a6['clearDepth'+'Buffer']=!(-0x2376+0x7*0x42c+0x643),_0x66a3a6['clearStenc'+'ilBuffer']=!(0xdfc+0x1dc3*-0x1+0xfc8),_0x66a3a6['frustumCul'+'ling']=!(0x35f+0x53e*-0x1+0x1e0),_0x66a3a6['projection']=ua,_0x66a3a6['aspectRati'+'o']=-0x918+-0x259b+-0xe*-0x356,_0x66a3a6['node']=new De(),this['camera']=_0x66a3a6,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=sl,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Ap;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x13f58e=new L0(_0x3c7765['supportsAr'+'eaLights'],_0x3c7765['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x13f58e;const _0xa6b95b=this['scene']['lighting'];_0x13f58e['shadowsEna'+'bled']=_0xa6b95b['shadowsEna'+'bled'],_0x13f58e['shadowAtla'+'sResolutio'+'n']=_0xa6b95b['shadowAtla'+'sResolutio'+'n'],_0x13f58e['cookiesEna'+'bled']=_0xa6b95b['cookiesEna'+'bled'],_0x13f58e['cookieAtla'+'sResolutio'+'n']=_0xa6b95b['cookieAtla'+'sResolutio'+'n'],_0x13f58e['areaLights'+'Enabled']=_0xa6b95b['areaLights'+'Enabled'],_0x13f58e['cells']=new T(0x7a5+-0x7aa+0x8*0x1,0x347+0xfb7+-0x1*0x12fb,0x1471*0x1+0x24cd+-0x393b),_0x13f58e['maxLightsP'+'erCell']=0x11b1+0x227+-0x69c*0x3,this['worldClust'+'ers']=new zu(_0x3c7765),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x3ba03c){this['materials']=[];function _0x3a4d69(_0x38054f){Si['decRef'](_0x38054f['colorBuffe'+'r']),_0x38054f['destroy']();}this['renderTarg'+'ets']['forEach'](_0x208e26=>{_0x3a4d69(_0x208e26);}),this['renderTarg'+'ets']['clear'](),_0x3ba03c['forEach'](_0x4b98fc=>{_0x4b98fc['renderTarg'+'ets']['forEach'](_0x302a1b=>{_0x3a4d69(_0x302a1b);}),_0x4b98fc['renderTarg'+'ets']['length']=0x1d*0x106+-0x3ab*0x4+0x11*-0xe2;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x64de68,_0x148344,_0x1a3082,_0x57d680){const _0x22cb57=new cs();_0x22cb57['name']='lmMaterial'+'-pass:'+_0x1a3082+'-ambient:'+_0x57d680,_0x22cb57['chunks']['APIVersion']=hi;const _0x2404a4='#define\x20UV'+'1LAYOUT\x0a';if(_0x22cb57['chunks']['transformV'+'S']=_0x2404a4+X['transformV'+'S'],_0x1a3082===xP){let _0x19140b=vo['bakeLmEndP'+'S'];_0x57d680?_0x19140b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x148344['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](-0x1d19*0x1+0x7d3*0x2+0xd74)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x148344['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](0x85*0x47+-0x40*-0x30+-0x30e2)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x19140b:_0x22cb57['ambient']=new Y(-0x2381+-0x1749+-0x19*-0x25a,0xb8+0xbe2+-0xc9a,0x119*0x11+0xb0e+0x1db7*-0x1),_0x22cb57['chunks']['basePS']=X['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x22cb57['chunks']['endPS']=_0x19140b,_0x22cb57['lightMap']=this['blackTex'];}else _0x22cb57['chunks']['basePS']=X['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x22cb57['chunks']['endPS']=vo['bakeDirLmE'+'ndPS'];return _0x22cb57['chunks']['outputAlph'+'aPS']='\x0a',_0x22cb57['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x22cb57['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x22cb57['cull']=mt,_0x22cb57['forceUv1']=!(-0x1e*-0x33+-0x761*-0x1+-0xd5b),_0x22cb57['update'](),_0x22cb57;}['createMate'+'rials'](_0x2ded1c,_0x2c1c13,_0xa44ee4){for(let _0x367d94=-0x341+-0x1b44+-0x1e85*-0x1;_0x367d94<_0xa44ee4;_0x367d94++)this['passMateri'+'als'][_0x367d94]||(this['passMateri'+'als'][_0x367d94]=this['createMate'+'rialForPas'+'s'](_0x2ded1c,_0x2c1c13,_0x367d94,!(0x1a+-0x1*0x1eb5+0x1e9c)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x2ded1c,_0x2c1c13,-0x32a+0x23ca+-0x120*0x1d,!(0xab+-0x14a4+0x1*0x13f9)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x1f8260){return _0x1f8260['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1d*-0x11e+0x13*-0x7+0x1fe1*-0x1),_0x1f8260['litOptions']['separateAm'+'bient']=!(0x73a+0x1651+-0x1*0x1d8b),_0x1f8260;});}['createText'+'ure'](_0x5a7a8a,_0x10550c){return new he(this['device'],{'profilerHint':Oy,'width':_0x5a7a8a,'height':_0x5a7a8a,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x2497+0x1*0xf8+-0x258e),'type':this['bakeHDR']?Di:on,'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x10550c});}['collectMod'+'els'](_0x9c846b,_0x1d363f,_0x572a67){var _0x54f7f3,_0x185410,_0x3967d6;if(!_0x9c846b['enabled'])return;let _0x3444d2;if((_0x54f7f3=_0x9c846b['model'])!=null&&_0x54f7f3['model']&&((_0x185410=_0x9c846b['model'])!=null&&_0x185410['enabled'])&&(_0x572a67&&_0x572a67['push'](new $l(_0x9c846b)),_0x9c846b['model']['lightmappe'+'d']&&_0x1d363f&&(_0x3444d2=_0x9c846b['model']['model']['meshInstan'+'ces'])),(_0x3967d6=_0x9c846b['render'])!=null&&_0x3967d6['enabled']&&(_0x572a67&&_0x572a67['push'](new $l(_0x9c846b)),_0x9c846b['render']['lightmappe'+'d']&&_0x1d363f&&(_0x3444d2=_0x9c846b['render']['meshInstan'+'ces'])),_0x3444d2){let _0x4f7335=!(0x1d*-0x10f+0xe4a*-0x2+0x3b47);for(let _0x736b87=0x2*-0xa17+-0x1aa7+-0x277*-0x13;_0x736b87<_0x3444d2['length'];_0x736b87++)if(!_0x3444d2[_0x736b87]['mesh']['vertexBuff'+'er']['format']['hasUv1']){v['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x9c846b['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x4f7335=!(-0xde9+0xb18+0x2d2);break;}if(_0x4f7335){const _0x4e7223=[];for(let _0x2a8913=-0x25*0x13+-0x10b8+0x1377;_0x2a8913<_0x3444d2['length'];_0x2a8913++){const _0x107f64=_0x3444d2[_0x2a8913]['mesh'];this['_tempSet']['has'](_0x107f64)?_0x1d363f['push'](new $l(_0x9c846b,[_0x3444d2[_0x2a8913]])):_0x4e7223['push'](_0x3444d2[_0x2a8913]),this['_tempSet']['add'](_0x107f64);}this['_tempSet']['clear'](),_0x4e7223['length']>0x2*-0x25b+0x1874+-0x26*0x85&&_0x1d363f['push'](new $l(_0x9c846b,_0x4e7223));}}for(let _0x376c42=0xdba+0xc66*-0x3+0x1778;_0x376c42<_0x9c846b['_children']['length'];_0x376c42++)this['collectMod'+'els'](_0x9c846b['_children'][_0x376c42],_0x1d363f,_0x572a67);}['prepareSha'+'dowCasters'](_0xc31d75){const _0x265b87=[];for(let _0x2ef228=0xb*-0x2c+-0x8fe+0xae2;_0x2ef228<_0xc31d75['length'];_0x2ef228++){const _0x5784e8=_0xc31d75[_0x2ef228]['component'];if(_0x5784e8['castShadow'+'s']=_0x5784e8['castShadow'+'sLightmap'],_0x5784e8['castShadow'+'sLightmap']){const _0x36d345=_0xc31d75[_0x2ef228]['meshInstan'+'ces'];for(let _0x5aa194=0x1273+0x1*0x1e13+0x1*-0x3086;_0x5aa194<_0x36d345['length'];_0x5aa194++)_0x36d345[_0x5aa194]['visibleThi'+'sFrame']=!(0x35*0x91+-0x1737+0x367*-0x2),_0x265b87['push'](_0x36d345[_0x5aa194]);}}return _0x265b87;}['updateTran'+'sforms'](_0x22e31b){for(let _0x456270=0x1*-0x20d9+0xc7f*-0x1+0x2d58*0x1;_0x456270<_0x22e31b['length'];_0x456270++){const _0x41f43a=_0x22e31b[_0x456270]['meshInstan'+'ces'];for(let _0x30b3da=0x1*0x58a+0x1*-0xab+-0x4df;_0x30b3da<_0x41f43a['length'];_0x30b3da++)_0x41f43a[_0x30b3da]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x19731f){let _0x27077d;const _0x44d839=this['scene']['lightmapSi'+'zeMultipli'+'er']||0xa7*0x22+0xe1e*-0x1+-0x800,_0x5e1828=Wl;let _0x28231e,_0x30454c;_0x19731f['model']?(_0x30454c=_0x19731f['model']['lightmapSi'+'zeMultipli'+'er'],_0x19731f['model']['asset']?(_0x27077d=this['assets']['get'](_0x19731f['model']['asset'])['data'],_0x27077d['area']&&(_0x28231e=_0x27077d['area'])):_0x19731f['model']['_area']&&(_0x27077d=_0x19731f['model'],_0x27077d['_area']&&(_0x28231e=_0x27077d['_area']))):_0x19731f['render']&&(_0x30454c=_0x19731f['render']['lightmapSi'+'zeMultipli'+'er'],_0x19731f['render']['type']!=='asset'&&_0x19731f['render']['_area']&&(_0x27077d=_0x19731f['render'],_0x27077d['_area']&&(_0x28231e=_0x27077d['_area'])));const _0xdb543e={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x28231e&&(_0xdb543e['x']=_0x28231e['x'],_0xdb543e['y']=_0x28231e['y'],_0xdb543e['z']=_0x28231e['z'],_0xdb543e['uv']=_0x28231e['uv']);const _0x4d8527=_0x30454c||-0x9*0x16f+0x2419+-0x1731;_0xdb543e['x']*=_0x4d8527,_0xdb543e['y']*=_0x4d8527,_0xdb543e['z']*=_0x4d8527;const _0x1a24d3=_0x19731f['render']||_0x19731f['model'],_0x315814=this['computeNod'+'eBounds'](_0x1a24d3['meshInstan'+'ces']);_0x5e1828['copy'](_0x315814['halfExtent'+'s']);let _0x4556fa=_0xdb543e['x']*_0x5e1828['y']*_0x5e1828['z']+_0xdb543e['y']*_0x5e1828['x']*_0x5e1828['z']+_0xdb543e['z']*_0x5e1828['x']*_0x5e1828['y'];return _0x4556fa/=_0xdb543e['uv'],_0x4556fa=Math['sqrt'](_0x4556fa),Math['min'](N['nextPowerO'+'fTwo'](_0x4556fa*_0x44d839),this['scene']['lightmapMa'+'xResolutio'+'n']||yP);}['setLightma'+'pping'](_0x1fa857,_0xc4ce48,_0x121ec0,_0x3d5e77){for(let _0x350ee7=-0x1*-0x1529+-0x2*0x801+-0x1*0x527;_0x350ee7<_0x1fa857['length'];_0x350ee7++){const _0x1079f3=_0x1fa857[_0x350ee7],_0x17705d=_0x1079f3['meshInstan'+'ces'];for(let _0x219a7c=0xa77+-0x213d+0x5*0x48e;_0x219a7c<_0x17705d['length'];_0x219a7c++){const _0x46bf2a=_0x17705d[_0x219a7c];if(_0x46bf2a['setLightma'+'pped'](_0xc4ce48),_0xc4ce48){_0x3d5e77&&(_0x46bf2a['_shaderDef'+'s']|=_0x3d5e77),_0x46bf2a['mask']=cr;for(let _0x596388=0xc3+-0x2635*0x1+0x2572;_0x596388<_0x121ec0;_0x596388++){const _0x112551=_0x1079f3['renderTarg'+'ets'][_0x596388]['colorBuffe'+'r'];_0x112551['minFilter']=st,_0x112551['magFilter']=st,_0x46bf2a['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x596388],_0x112551);}}}}}['bake'](_0x5c2bc1,_0x45f2a6=ch){const _0x32d637=this['device'],_0x2c9290=ne();this['scene']['_updateSky'+'Mesh'](),_0x32d637['fire']('lightmappe'+'r:start',{'timestamp':_0x2c9290,'target':this}),this['stats']['renderPass'+'es']=0x75*-0x27+0x1f8a+-0xdb7,this['stats']['shadowMapT'+'ime']=0x15a*0x1+0xebc+0x1d*-0x8e,this['stats']['forwardTim'+'e']=-0x2*0x99b+-0x1961*0x1+0x2c97;const _0x58ec21=_0x32d637['_shaderSta'+'ts']['linked'],_0x1589ae=_0x32d637['_renderTar'+'getCreatio'+'nTime'],_0x3a2251=_0x32d637['_shaderSta'+'ts']['compileTim'+'e'],_0x4f8a75=[],_0x4ce318=[];if(_0x5c2bc1){for(let _0x4c43d4=-0x344*-0x3+-0x1f07+0x153b;_0x4c43d4<_0x5c2bc1['length'];_0x4c43d4++)this['collectMod'+'els'](_0x5c2bc1[_0x4c43d4],_0x4f8a75,null);this['collectMod'+'els'](this['root'],null,_0x4ce318);}else this['collectMod'+'els'](this['root'],_0x4f8a75,_0x4ce318);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x4f8a75['length']>-0x1891+-0x1*0x2042+-0x12f1*-0x3){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x419e70=_0x45f2a6===ch?-0x1ae9+-0x646*0x1+0x2131:0x1ab0+0x28d*0x5+0x2770*-0x1;this['setLightma'+'pping'](_0x4f8a75,!(0xed0+0x1a3*-0x10+-0x3cb*-0x3),_0x419e70),this['initBake'](_0x32d637),this['bakeIntern'+'al'](_0x419e70,_0x4f8a75,_0x4ce318);let _0x380fff=Fu;_0x45f2a6===ch&&(_0x380fff|=y0),this['scene']['ambientBak'+'e']&&(_0x380fff|=x0),this['setLightma'+'pping'](_0x4f8a75,!(0x11*-0x24c+-0xc32*0x2+-0x1fb8*-0x2),_0x419e70,_0x380fff),this['finishBake'](_0x4f8a75);}G['popGpuMark'+'er'](this['device']);const _0x20a895=ne();this['stats']['totalRende'+'rTime']=_0x20a895-_0x2c9290,this['stats']['shadersLin'+'ked']=_0x32d637['_shaderSta'+'ts']['linked']-_0x58ec21,this['stats']['compileTim'+'e']=_0x32d637['_shaderSta'+'ts']['compileTim'+'e']-_0x3a2251,this['stats']['fboTime']=_0x32d637['_renderTar'+'getCreatio'+'nTime']-_0x1589ae,this['stats']['lightmapCo'+'unt']=_0x4f8a75['length'],_0x32d637['fire']('lightmappe'+'r:end',{'timestamp':_0x20a895,'target':this});}['allocateTe'+'xtures'](_0x34e507,_0x317d5d){for(let _0x3f8d7b=-0x1c*0x4c+0x16d0+-0xe80;_0x3f8d7b<_0x34e507['length'];_0x3f8d7b++){const _0x1766f5=_0x34e507[_0x3f8d7b],_0x5bbdb3=this['calculateL'+'ightmapSiz'+'e'](_0x1766f5['node']);for(let _0x3981ce=-0x1265+-0x504+-0x1769*-0x1;_0x3981ce<_0x317d5d;_0x3981ce++){const _0xc2bd5f=this['createText'+'ure'](_0x5bbdb3,'lightmappe'+'r_lightmap'+'_'+_0x3f8d7b);Si['incRef'](_0xc2bd5f),_0x1766f5['renderTarg'+'ets'][_0x3981ce]=new pt({'colorBuffer':_0xc2bd5f,'depth':!(-0x2db*0x6+0xe4c+0x2d7)});}if(!this['renderTarg'+'ets']['has'](_0x5bbdb3)){const _0x3afa57=this['createText'+'ure'](_0x5bbdb3,'lightmappe'+'r_temp_lig'+'htmap_'+_0x5bbdb3);Si['incRef'](_0x3afa57),this['renderTarg'+'ets']['set'](_0x5bbdb3,new pt({'colorBuffer':_0x3afa57,'depth':!(-0x38c+0x1649+0x2c*-0x6d)}));}}}['prepareLig'+'htsToBake'](_0xe179ca,_0x59a9ec){if(this['scene']['ambientBak'+'e']){const _0x4fa9fb=new j_(this);_0x59a9ec['push'](_0x4fa9fb);}const _0x2df9ab=this['renderer']['lights'];for(let _0x57dd33=-0xcd*0x1f+-0x1391+0xb19*0x4;_0x57dd33<_0x2df9ab['length'];_0x57dd33++){const _0x451a4d=_0x2df9ab[_0x57dd33],_0x1b9cb9=new mP(this,_0x451a4d);_0xe179ca['push'](_0x1b9cb9),_0x451a4d['enabled']&&(_0x451a4d['mask']&rr)!==-0x29a*-0x6+-0x10*-0x14c+0x1*-0x245c&&(_0x451a4d['mask']=rr|cr|hs,_0x451a4d['shadowUpda'+'teMode']=_0x451a4d['type']===oe?Pp:cn,_0x59a9ec['push'](_0x1b9cb9));}_0x59a9ec['sort']();}['restoreLig'+'hts'](_0x3994c6){for(let _0x3ed8a3=0x252f+-0x7*0x4c1+-0x3e8;_0x3ed8a3<_0x3994c6['length'];_0x3ed8a3++)_0x3994c6[_0x3ed8a3]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x1ce+0x24*0x25+-0x1*0x702,0x1*-0xf77+0x17c5+-0x427*0x2,0x1cc2+-0x43*0x10+0x172*-0x11),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0xe19355){const _0xf05814=new _e();if(_0xe19355['length']>0x23*0xc2+-0x19c*-0xa+-0x2a9e){_0xf05814['copy'](_0xe19355[-0xe1*0x11+-0x3*-0x934+0x17*-0x8d]['aabb']);for(let _0x31aeed=0x1*-0x955+-0x24fa+-0x10*-0x2e5;_0x31aeed<_0xe19355['length'];_0x31aeed++)_0xf05814['add'](_0xe19355[_0x31aeed]['aabb']);}return _0xf05814;}['computeNod'+'esBounds'](_0x54e6f0){for(let _0x2f57a5=-0x253e+-0xb*0x23b+-0x3dc7*-0x1;_0x2f57a5<_0x54e6f0['length'];_0x2f57a5++){const _0x28c059=_0x54e6f0[_0x2f57a5]['meshInstan'+'ces'];_0x54e6f0[_0x2f57a5]['bounds']=this['computeNod'+'eBounds'](_0x28c059);}}['computeBou'+'nds'](_0x36107f){const _0x5c4ef9=new _e();for(let _0x1a1678=-0x538*-0x3+-0x1b24+0xb7c;_0x1a1678<_0x36107f['length'];_0x1a1678++){_0x5c4ef9['copy'](_0x36107f[0xcfd+0x251a+0x3217*-0x1]['aabb']);for(let _0x2a365b=0x83*0x17+-0x1412+0x2*0x427;_0x2a365b<_0x36107f['length'];_0x2a365b++)_0x5c4ef9['add'](_0x36107f[_0x2a365b]['aabb']);}return _0x5c4ef9;}['backupMate'+'rials'](_0x575134){for(let _0x3f01b9=0x1*0x89c+0x13fd*-0x1+0xb61;_0x3f01b9<_0x575134['length'];_0x3f01b9++)this['materials'][_0x3f01b9]=_0x575134[_0x3f01b9]['material'];}['restoreMat'+'erials'](_0x3a0758){for(let _0x2c354c=-0x1ed6*0x1+-0x11c8+0x309e;_0x2c354c<_0x3a0758['length'];_0x2c354c++)_0x3a0758[_0x2c354c]['material']=this['materials'][_0x2c354c];}['lightCamer'+'aPrepare'](_0x39f5c2,_0x55fbb9){const _0x4e6af8=_0x55fbb9['light'];let _0x5e8557;return _0x4e6af8['type']===Re&&(_0x5e8557=_0x4e6af8['getRenderD'+'ata'](null,-0x1*0x121d+-0x710+0x5*0x509)['shadowCame'+'ra'],_0x5e8557['_node']['setPositio'+'n'](_0x4e6af8['_node']['getPositio'+'n']()),_0x5e8557['_node']['setRotatio'+'n'](_0x4e6af8['_node']['getRotatio'+'n']()),_0x5e8557['_node']['rotateLoca'+'l'](-(0xb*-0x13d+0x4*0x8a9+-0x1e1*0xb),0x177a+-0x153b*-0x1+-0x2cb5,-0x21d4+-0x18bf+0x3a93),_0x5e8557['projection']=Gs,_0x5e8557['nearClip']=_0x4e6af8['attenuatio'+'nEnd']/(0x73+0x2357+-0x173*0x16),_0x5e8557['farClip']=_0x4e6af8['attenuatio'+'nEnd'],_0x5e8557['aspectRati'+'o']=0xe99+0x1853*-0x1+0x9bb,_0x5e8557['fov']=_0x4e6af8['_outerCone'+'Angle']*(-0x24*0x108+0x6e6*-0x3+0xe75*0x4),this['renderer']['updateCame'+'raFrustum'](_0x5e8557)),_0x5e8557;}['lightCamer'+'aPrepareAn'+'dCull'](_0x21914b,_0x88dce2,_0xdf512d,_0x3f811b){const _0x1bd47e=_0x21914b['light'];let _0x2d355a=!(0x1*0x1d89+0x1f09+-0x3c92);if(_0x1bd47e['type']===oe){Wl['copy'](_0x3f811b['center']),Wl['y']+=_0x3f811b['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](Wl),this['camera']['node']['setEulerAn'+'gles'](-(0xca*-0x1+0x2370+-0x224c),-0x2408+-0x3*0xb1+0x261b,-0x6a9+0x133b+-0xc92),this['camera']['nearClip']=0x148c+-0x2597+0x110b,this['camera']['farClip']=_0x3f811b['halfExtent'+'s']['y']*(0x669*-0x4+-0x151d+-0x1*-0x2ec3);const _0x46d497=Math['max'](_0x3f811b['halfExtent'+'s']['x'],_0x3f811b['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x46d497;}else _0x21914b['lightBound'+'s']['intersects'](_0x88dce2['bounds'])||(_0x2d355a=!(0x37*-0x21+0x15*0x16f+-0x1703));if(_0x1bd47e['type']===Re){let _0x2d99e1=!(-0x1857+0x64b+0x120d);const _0x3d1ae3=_0x88dce2['meshInstan'+'ces'];for(let _0x584d49=0x204d*-0x1+0xa0c+0x1b*0xd3;_0x584d49<_0x3d1ae3['length'];_0x584d49++)if(_0x3d1ae3[_0x584d49]['_isVisible'](_0xdf512d)){_0x2d99e1=!(0x1a82+-0x2583+0xb01);break;}_0x2d99e1||(_0x2d355a=!(-0x2097+-0x47*0x26+0x2b22));}return _0x2d355a;}['setupLight'+'Array'](_0x156f66,_0x30dd07){_0x156f66[oe]['length']=0x2170+0x21d2+-0x4342,_0x156f66[Pe]['length']=-0xf1c+0x724+0x7f8,_0x156f66[Re]['length']=-0x1676+-0x18ef*0x1+-0x1*-0x2f65,_0x156f66[_0x30dd07['type']][0x1027+-0x18f7+0x8d0]=_0x30dd07,_0x30dd07['visibleThi'+'sFrame']=!(-0x10d2*-0x2+-0x2574+-0x2*-0x1e8);}['renderShad'+'owMap'](_0x4fa9d5,_0x50ef69,_0x2701a5,_0x309fbf){const _0x4a03cc=_0x309fbf['light'],_0x3d22d1=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x27963c=_0x4a03cc['castShadow'+'s']&&(!_0x3d22d1||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x50ef69&&_0x27963c){if(!_0x4a03cc['shadowMap']&&!_0x3d22d1&&(_0x4a03cc['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x4a03cc)),_0x4a03cc['type']===oe){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x4a03cc,_0x4fa9d5,this['camera'],_0x2701a5);const _0x22a888=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x4a03cc,this['camera']);_0x22a888==null||_0x22a888['render']();}else{if(this['device']['isWebGPU'])return v['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(0x146f+-0xe2b*0x1+-0x1*0x644);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x4a03cc,_0x4fa9d5,_0x2701a5),this['renderer']['shadowRend'+'erer']['render'](_0x4a03cc,this['camera'],!(0x1925+0x2b*-0xc7+0x849*0x1));}}return!(0x23d5+-0x2025+-0x3b0);}['postproces'+'sTextures'](_0x429b91,_0x38d76e,_0x106c0c){const _0x35e8da=this['lightmapFi'+'lters']['getDilate'](_0x429b91,this['bakeHDR']);let _0x438698;const _0x285359=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x285359&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x438698=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x429b91['setBlendSt'+'ate'](_t['NOBLEND']),_0x429b91['setDepthSt'+'ate'](as['NODEPTH']),_0x429b91['setStencil'+'State'](null,null);for(let _0xde5c58=-0x264b+0x2*0xc1c+0xe13;_0xde5c58<_0x38d76e['length'];_0xde5c58++){const _0x213916=_0x38d76e[_0xde5c58];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0xde5c58);for(let _0x42c693=0x154b+0x503*0x7+-0xe18*0x4;_0x42c693<_0x106c0c;_0x42c693++){const _0x4ac875=_0x213916['renderTarg'+'ets'][_0x42c693],_0x443c40=_0x4ac875['colorBuffe'+'r'],_0x47c519=this['renderTarg'+'ets']['get'](_0x443c40['width']),_0xd0cb3=_0x47c519['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x443c40['width'],_0x443c40['height']);for(let _0x4fb549=-0x658+0x1*-0x12b5+0x190d;_0x4fb549<-0x12b9+0x6da*-0x2+0x251*0xe;_0x4fb549++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x443c40),dn(_0x429b91,_0x47c519,_0x285359&&_0x42c693===-0x1ad+-0xe98+-0x1045*-0x1&&_0x4fb549===-0x17d4+0x12cd+-0x3*-0x1ad?_0x438698:_0x35e8da),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0xd0cb3),dn(_0x429b91,_0x4ac875,_0x35e8da);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x35f925,_0x4ac946,_0x4f6867){const _0x16a663=this['scene'],_0x2ec7a9=_0x16a663['layers'],_0x41e80d=this['device'],_0x306533=_0x16a663['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x41e80d,_0x16a663,_0x35f925),this['setupScene'](),_0x2ec7a9['_update'](),this['computeNod'+'esBounds'](_0x4ac946),this['allocateTe'+'xtures'](_0x4ac946,_0x35f925),this['renderer']['collectLig'+'hts'](_0x2ec7a9);const _0x2f9695=[],_0x220802=[];this['prepareLig'+'htsToBake'](_0x2f9695,_0x220802),this['updateTran'+'sforms'](_0x4f6867);const _0x33fbc8=this['prepareSha'+'dowCasters'](_0x4f6867);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x33fbc8),this['renderer']['gpuUpdate'](_0x33fbc8);const _0x5e289a=this['computeBou'+'nds'](_0x33fbc8);let _0xeff92c,_0x3b0577,_0x23966c,_0x39bf24;for(_0xeff92c=0x1a*0x14f+-0x10ea+-0x88e*0x2;_0xeff92c<_0x4ac946['length'];_0xeff92c++)for(_0x23966c=_0x4ac946[_0xeff92c]['meshInstan'+'ces'],_0x3b0577=-0x2188+-0x2470+0x45f8;_0x3b0577<_0x23966c['length'];_0x3b0577++)_0x39bf24=_0x23966c[_0x3b0577],_0x39bf24['setLightma'+'pped'](!(0x5f9*0x4+0xde7+-0xe*0x2b3)),_0x39bf24['mask']=rr,_0x39bf24['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][-0xa52+-0x86f+0x12c1],this['blackTex']),_0x39bf24['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][0x5c*0x3b+-0x2*-0x939+-0x27a5],this['blackTex']);for(_0x3b0577=0xa*0x250+0x584*-0x2+-0xc18;_0x3b0577<_0x220802['length'];_0x3b0577++)_0x220802[_0x3b0577]['light']['enabled']=!(-0x22a+0x108d+0xe62*-0x1);const _0x56c3d8=[[],[],[]];let _0x2e6c95,_0x484144,_0x370bcc=!(-0x119f+-0xb56*-0x3+0x6*-0x2bb);for(_0xeff92c=-0x2034+0x13e4+-0x10*-0xc5;_0xeff92c<_0x220802['length'];_0xeff92c++){const _0x49a421=_0x220802[_0xeff92c],_0xbbb1a6=_0x49a421 instanceof j_,_0x93011e=_0x49a421['light']['type']===oe;let _0x3ba745=_0x49a421['numVirtual'+'Lights'];_0x35f925>-0x7c4*0x2+0x1662+-0x1*0x6d9&&_0x3ba745>-0x141f+-0x25dd*0x1+0x1*0x39fd&&_0x49a421['light']['bakeDir']&&(_0x3ba745=-0x5f7*0x3+-0x755*0x4+0x2f3a,v['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x3a063b=0x253e+0x6b*0x2+0x985*-0x4;_0x3a063b<_0x3ba745;_0x3a063b++){G['pushGpuMar'+'ker'](_0x41e80d,'Light:'+_0x49a421['light']['_node']['name']+':'+_0x3a063b),_0x3ba745>-0x1*0xd0a+-0x72f*0x1+-0x3*-0x6be&&_0x49a421['prepareVir'+'tualLight'](_0x3a063b,_0x3ba745),_0x49a421['startBake']();let _0x2eb808=!(-0x9a*0x1+-0x1*-0x55d+-0x4c2);const _0x212bf7=this['lightCamer'+'aPrepare'](_0x41e80d,_0x49a421);for(_0x484144=-0x79c+0x1e0d+0x3*-0x77b;_0x484144<_0x4ac946['length'];_0x484144++){const _0x41a325=_0x4ac946[_0x484144];if(_0x23966c=_0x41a325['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x49a421,_0x41a325,_0x212bf7,_0x5e289a))continue;this['setupLight'+'Array'](_0x56c3d8,_0x49a421['light']);const _0x20ac62=_0x93011e?[]:[_0x49a421['light']];for(_0x306533&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x20ac62,this['lightingPa'+'rams']),_0x2eb808=this['renderShad'+'owMap'](_0x2ec7a9,_0x2eb808,_0x33fbc8,_0x49a421),_0x306533&&this['worldClust'+'ers']['update'](_0x20ac62,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x23966c),_0x2e6c95=0x1*0x250b+0x2355+-0x4*0x1218;_0x2e6c95<_0x35f925&&!(_0x2e6c95>0x519+0x5*-0x465+0x87*0x20&&_0x3a063b>-0x6db+-0x62+0x73d||_0xbbb1a6&&_0x2e6c95>0x5*0x3b5+-0x1*-0x806+-0x1a8f);_0x2e6c95++){G['pushGpuMar'+'ker'](_0x41e80d,'LMPass:'+_0x2e6c95);const _0x26faee=_0x41a325['renderTarg'+'ets'][_0x2e6c95],_0x96d71e=_0x41a325['renderTarg'+'ets'][_0x2e6c95]['colorBuffe'+'r']['width'],_0x10aa6a=this['renderTarg'+'ets']['get'](_0x96d71e),_0x44ee59=_0x10aa6a['colorBuffe'+'r'];_0x2e6c95===0x21e0+-0x169b+-0xb45?_0x370bcc=_0x16a663['updateShad'+'ers']:_0x370bcc&&(_0x16a663['updateShad'+'ers']=!(-0x17de+0x7b2+0x102c));let _0x4aaa4d=this['passMateri'+'als'][_0x2e6c95];for(_0xbbb1a6&&_0x3a063b+(-0x23f1+0xa8+0x234a)===_0x3ba745&&_0x2e6c95===-0x8*-0x4ca+-0x3*0x835+-0x5*0x2bd&&(_0x4aaa4d=this['ambientAOM'+'aterial']),_0x3b0577=0x3*-0xa76+0x9*0x8d+-0x29*-0xa5;_0x3b0577<_0x23966c['length'];_0x3b0577++)_0x23966c[_0x3b0577]['material']=_0x4aaa4d;if(this['renderer']['updateShad'+'ers'](_0x23966c),_0x2e6c95===SP&&this['constantBa'+'keDir']['setValue'](_0x49a421['light']['bakeDir']?-0xd3d*0x1+-0x1b8d+-0xd99*-0x3:-0x465+-0x1b86+0x1feb),_0x41e80d['isWebGPU']){const _0x19d7ce=new gP(_0x41e80d,this['renderer'],this['camera'],_0x306533?this['worldClust'+'ers']:null,_0x23966c,_0x56c3d8);_0x19d7ce['init'](_0x10aa6a),_0x19d7ce['render'](),_0x19d7ce['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x10aa6a,!(-0x2705*-0x1+-0x25f7*-0x1+-0x4cfc)),_0x306533&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0x1bb4+-0xc60+-0xf54,this['renderer']['_shadowMap'+'Time']=0x1*0x1505+-0x1555+-0x28*-0x2,this['renderer']['renderForw'+'ard'](this['camera'],_0x10aa6a,_0x23966c,_0x56c3d8,gn),_0x41e80d['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x41a325['renderTarg'+'ets'][_0x2e6c95]=_0x10aa6a,this['renderTarg'+'ets']['set'](_0x96d71e,_0x26faee),_0x3b0577=0x820+0xfa1+-0x17c1*0x1;_0x3b0577<_0x23966c['length'];_0x3b0577++)_0x39bf24=_0x23966c[_0x3b0577],_0x39bf24['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x2e6c95],_0x44ee59),_0x39bf24['_shaderDef'+'s']|=Fu;G['popGpuMark'+'er'](_0x41e80d);}this['restoreMat'+'erials'](_0x23966c);}_0x49a421['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x41e80d);}}for(this['postproces'+'sTextures'](_0x41e80d,_0x4ac946,_0x35f925),_0x484144=0x1d2c+-0x1*0x2001+0x2d5;_0x484144<_0x4f6867['length'];_0x484144++)_0x4f6867[_0x484144]['restore']();this['restoreLig'+'hts'](_0x2f9695),this['restoreSce'+'ne'](),_0x306533||this['shadowMapC'+'ache']['clear']();}}const oc=class oc extends ce{constructor(_0x5d2553,_0x4eebbb){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x5d2553,this['entity']=_0x4eebbb,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x4c6f19,_0x5011b6,_0x2be060){this['fire']('set_'+_0x4c6f19,_0x4c6f19,_0x5011b6,_0x2be060);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x2c37d3,_0x54a6e0){_0x54a6e0['forEach'](_0xeccfb0=>{const _0x2fe187=typeof _0xeccfb0=='object'?_0xeccfb0['name']:_0xeccfb0;Object['defineProp'+'erty'](_0x2c37d3,_0x2fe187,{'get':function(){return this['data'][_0x2fe187];},'set':function(_0x2362c3){const _0x20a97d=this['data'],_0x254bde=_0x20a97d[_0x2fe187];_0x20a97d[_0x2fe187]=_0x2362c3,this['fire']('set',_0x2fe187,_0x254bde,_0x2362c3);},'configurable':!(0x119+0x317*-0xb+-0x5*-0x694)});}),_0x2c37d3['_accessors'+'Built']=!(0x1*0x1ea1+0x1*0xd6f+-0x2c10*0x1);}['buildAcces'+'sors'](_0x3df45f){oc['_buildAcce'+'ssors'](this,_0x3df45f);}['onSetEnabl'+'ed'](_0x344ccf,_0x5568a9,_0x1f984f){_0x5568a9!==_0x1f984f&&this['entity']['enabled']&&(_0x1f984f?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x4ddeb5=this['system']['store'][this['entity']['getGuid']()];return _0x4ddeb5?_0x4ddeb5['data']:null;}set['enabled'](_0x2ad8b5){}get['enabled'](){return!(0xbfe+-0x4fc+0x2e*-0x27);}};c(oc,'order',0xa2b+-0x2bf*-0x3+-0x1268);let ue=oc;class Xe extends ce{constructor(_0x5d6f60){super(),this['app']=_0x5d6f60,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0xe76cdd,_0x24f017={}){const _0x4da23b=new this['ComponentT'+'ype'](this,_0xe76cdd),_0x44ed33=new this['DataType']();return this['store'][_0xe76cdd['getGuid']()]={'entity':_0xe76cdd,'data':_0x44ed33},_0xe76cdd[this['id']]=_0x4da23b,_0xe76cdd['c'][this['id']]=_0x4da23b,this['initialize'+'ComponentD'+'ata'](_0x4da23b,_0x24f017,[]),this['fire']('add',_0xe76cdd,_0x4da23b),_0x4da23b;}['removeComp'+'onent'](_0x1808f5){const _0xf674ee=this['id'],_0x9037a0=this['store'][_0x1808f5['getGuid']()],_0x486ffc=_0x1808f5['c'][_0xf674ee];_0x486ffc['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x1808f5,_0x486ffc),delete this['store'][_0x1808f5['getGuid']()],_0x1808f5[_0xf674ee]=void(0x1a6+0x76b+0xd3*-0xb),delete _0x1808f5['c'][_0xf674ee],this['fire']('remove',_0x1808f5,_0x9037a0['data']);}['cloneCompo'+'nent'](_0xf18480,_0x18b831){const _0x39966f=this['store'][_0xf18480['getGuid']()];return this['addCompone'+'nt'](_0x18b831,_0x39966f['data']);}['initialize'+'ComponentD'+'ata'](_0x5c9b63,_0xdae4e8={},_0x42e6fc){for(let _0x419f0d=-0x1ff1+-0x1b2f+-0x160*-0x2b,_0x30d42f=_0x42e6fc['length'];_0x419f0d<_0x30d42f;_0x419f0d++){const _0x1ecd80=_0x42e6fc[_0x419f0d];let _0x56578b,_0x5be42d;typeof _0x1ecd80=='object'?(_0x56578b=_0x1ecd80['name'],_0x5be42d=_0x1ecd80['type']):(_0x56578b=_0x1ecd80,_0x5be42d=void(0x15*0x13d+-0xa9*0x11+-0xec8));let _0x1e024a=_0xdae4e8[_0x56578b];_0x1e024a!==void(-0x23f5+0x1908*-0x1+0x3cfd)?(_0x5be42d!==void(-0xb*0xdf+0x1ffd+-0x1668)&&(_0x1e024a=bP(_0x1e024a,_0x5be42d)),_0x5c9b63[_0x56578b]=_0x1e024a):_0x5c9b63[_0x56578b]=_0x5c9b63['data'][_0x56578b];}_0x5c9b63['enabled']&&_0x5c9b63['entity']['enabled']&&_0x5c9b63['onEnable']();}['getPropert'+'iesOfType'](_0x5a111d){const _0x517c5b=[];return(this['schema']||[])['forEach'](_0x2f95ad=>{_0x2f95ad&&typeof _0x2f95ad=='object'&&_0x2f95ad['type']===_0x5a111d&&_0x517c5b['push'](_0x2f95ad);}),_0x517c5b;}['destroy'](){this['off']();}}function bP(_0x91d7fb,_0x4d5cb3){if(!_0x91d7fb)return _0x91d7fb;switch(_0x4d5cb3){case'rgb':return _0x91d7fb instanceof Y?_0x91d7fb['clone']():new Y(_0x91d7fb[0x19f9+0xa52+-0x244b],_0x91d7fb[-0x1693+-0xf4*0x27+0x3bc0],_0x91d7fb[-0xa31*0x2+-0xb3f*-0x2+-0x21a]);case'rgba':return _0x91d7fb instanceof Y?_0x91d7fb['clone']():new Y(_0x91d7fb[-0x1eb*-0x6+-0x3da+0x62*-0x14],_0x91d7fb[0x7f8+-0x1*0x558+-0x29f],_0x91d7fb[0x875*-0x4+0x78a*-0x1+0x296*0x10],_0x91d7fb[0x2698+-0xe*-0x51+-0x2b03]);case'vec2':return _0x91d7fb instanceof $?_0x91d7fb['clone']():new $(_0x91d7fb[-0x4*-0x835+-0x442+-0x1c92],_0x91d7fb[-0x28e+-0xcb5*0x3+0x28ae]);case'vec3':return _0x91d7fb instanceof T?_0x91d7fb['clone']():new T(_0x91d7fb[-0x19a1+-0x1*-0xf2b+-0x53b*-0x2],_0x91d7fb[0x17*-0x55+0x11c*-0x8+0x7*0x25c],_0x91d7fb[-0x1*0x160c+-0x1*-0x1e25+0x1*-0x817]);case'vec4':return _0x91d7fb instanceof Q?_0x91d7fb['clone']():new Q(_0x91d7fb[0x1f77*0x1+-0x6a9+0xc67*-0x2],_0x91d7fb[0xbec+0x2a*-0x2a+0x75*-0xb],_0x91d7fb[0x1*-0x172f+-0xb*-0xbb+0xf28],_0x91d7fb[0x1*0xfca+0x1260+-0x2227]);case'boolean':case'number':case'string':return _0x91d7fb;case'entity':return _0x91d7fb;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x4d5cb3);}}const W0=-0x4*-0x8ef+0x5*0x511+-0x3d11,ju=0x159f+0x1*0x22d2+0x30*-0x12d,Yu=0xb89*0x1+-0x584+-0x603;class wP{constructor(){this['_left']=(-0xf56+0x431*0x3+0xb1*0x4)/(-0x20e*-0x4+0x23*0xa7+-0x1f0d),this['_right']=-(-0x11c1+0x3d*0x65+-0x64f)/(0x1ab6+0x45e+-0x7c5*0x4),this['_len']=0x1518+-0x7b1*-0x3+-0x2c2b,this['_recip']=-0x5b1*-0x1+0x23*-0xd+-0x3ea,this['_p0']=-0x2561*0x1+-0x21c7+0x4728,this['_p1']=0x2e3*-0x4+-0x1*-0x1f2b+0x139f*-0x1,this['_t']=-0x5ad*0x5+-0x18ad+0x350e,this['_hermite']={'valid':!(-0x1a47+-0x147*-0x4+0x152c),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x189a61,_0x27262b){if(_0x189a61<this['_left']||_0x189a61>=this['_right']){const _0x1808e3=_0x27262b['length'];if(!_0x1808e3)this['_left']=-(-0xb19+0x26e6+-0x1bcc)/(0x227a+-0x1d8*0xb+-0x4f*0x2e),this['_right']=(0x976*-0x2+0x1007*-0x2+0x32fb*0x1)/(0x3de+0xb16*-0x1+0x58*0x15),this['_len']=-0x1e6a+0x1d5f*0x1+0x3*0x59,this['_recip']=0x1bba+0x398+-0xfa9*0x2,this['_p0']=this['_p1']=-0x1ab*0x15+-0x1999+-0x20*-0x1e5;else{if(_0x189a61<_0x27262b[0x435*0x9+-0xf79+0x599*-0x4])this['_left']=-(0x17ad*-0x1+-0x3*0x38f+0x225b)/(0x1*0x1084+0xbf3+0x411*-0x7),this['_right']=_0x27262b[0x42d+0x8*-0x158+-0xbb*-0x9],this['_len']=-0x8a4+0x5aa+0x2fa,this['_recip']=0xc*-0x1e0+0x1ab4+-0x1*0x434,this['_p0']=this['_p1']=-0x21d5+0x12*-0x20+0x2415;else{if(_0x189a61>=_0x27262b[_0x1808e3-(-0x20dd+-0x4f*0x31+0x2ffd)])this['_left']=_0x27262b[_0x1808e3-(-0x13c*0x1b+0x1aa2+0x31*0x23)],this['_right']=(-0x1e58+-0x1267+0x820*0x6)/(0x1765*-0x1+-0x8fe*0x4+-0x7*-0x87b),this['_len']=0x7*0x11e+0x1779+-0x1f4b,this['_recip']=0x4d6+0x1*0xafb+-0xfd1*0x1,this['_p0']=this['_p1']=_0x1808e3-(0xa*-0x106+-0x254e+0x2f8b);else{const _0x4ab455=this['_findKey'](_0x189a61,_0x27262b);this['_left']=_0x27262b[_0x4ab455],this['_right']=_0x27262b[_0x4ab455+(-0x64a+0x60+0x5eb)],this['_len']=this['_right']-this['_left'];const _0x5a21f1=(0x1*-0x1a92+-0x96a+0x23fd)/this['_len'];this['_recip']=isFinite(_0x5a21f1)?_0x5a21f1:-0x26cb+0xb*-0x2d3+0x45dc,this['_p0']=_0x4ab455,this['_p1']=_0x4ab455+(0x5*0x3ab+-0x54*0x4f+0x3cb*0x2);}}}}this['_t']=this['_recip']===0x83*0x9+-0x1c38+0x179d?0x1018+-0x157e+-0x1*-0x566:(_0x189a61-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x13af+0x1268+0x28a*-0xf);}['_findKey'](_0xdd0235,_0x591949){let _0x27d217=0x1156+0x2073+-0x1*0x31c9;for(;_0xdd0235>=_0x591949[_0x27d217+(0xcc2+-0xce5*0x1+-0x9*-0x4)];)_0x27d217++;return _0x27d217;}['eval'](_0x217798,_0x2a1055,_0x4dcd00){const _0x1f308e=_0x4dcd00['_data'],_0x1b5c8f=_0x4dcd00['_component'+'s'],_0x521e91=this['_p0']*_0x1b5c8f;if(_0x2a1055===W0){for(let _0x416655=-0x142*0x6+-0x1*-0x1c2a+0x1*-0x149e;_0x416655<_0x1b5c8f;++_0x416655)_0x217798[_0x416655]=_0x1f308e[_0x521e91+_0x416655];}else{const _0x16541a=this['_t'],_0x477d42=this['_p1']*_0x1b5c8f;switch(_0x2a1055){case ju:for(let _0x32ed67=-0xebb+0xd5*-0x29+0x30d8;_0x32ed67<_0x1b5c8f;++_0x32ed67)_0x217798[_0x32ed67]=N['lerp'](_0x1f308e[_0x521e91+_0x32ed67],_0x1f308e[_0x477d42+_0x32ed67],_0x16541a);break;case Yu:{const _0x3b9d74=this['_hermite'];if(!_0x3b9d74['valid']){const _0x595a37=_0x16541a*_0x16541a,_0x1d7ad8=_0x16541a+_0x16541a,_0x5bc634=-0x537+0x155c+-0x1024-_0x16541a,_0x300ac9=_0x5bc634*_0x5bc634;_0x3b9d74['valid']=!(0x9d7*-0x1+-0x26c8+0x1035*0x3),_0x3b9d74['p0']=(-0x1*0x4a3+0x1965+-0xa1*0x21+_0x1d7ad8)*_0x300ac9,_0x3b9d74['m0']=_0x16541a*_0x300ac9,_0x3b9d74['p1']=_0x595a37*(-0x738+-0x1f0b+0x2646-_0x1d7ad8),_0x3b9d74['m1']=_0x595a37*(_0x16541a-(0x617*-0x2+0x1*-0xa6f+0x2*0xb4f));}const _0x318747=(this['_p0']*(0x1fa2+0xe9e+0x59*-0x85)+(-0x679*-0x1+-0x23c6+-0x2aa*-0xb))*_0x1b5c8f,_0x1dba5e=(this['_p0']*(0x9fe*-0x2+-0x1*-0x188b+-0x48c)+(0xe72*-0x1+-0x2648+0x34bc))*_0x1b5c8f,_0x57f088=(this['_p1']*(-0x2534+-0x120+0x2657)+(0x705+0x1*-0x1786+0x1082))*_0x1b5c8f,_0x4d4fe4=(this['_p1']*(-0x85*0x4b+0x1d6d*-0x1+-0x4467*-0x1)+(-0x1e69+0xcd0+0x35*0x55))*_0x1b5c8f;for(let _0x381c0a=-0x1*0x17aa+0x1*0x11ca+-0x178*-0x4;_0x381c0a<_0x1b5c8f;++_0x381c0a)_0x217798[_0x381c0a]=_0x3b9d74['p0']*_0x1f308e[_0x318747+_0x381c0a]+_0x3b9d74['m0']*_0x1f308e[_0x1dba5e+_0x381c0a]*this['_len']+_0x3b9d74['p1']*_0x1f308e[_0x57f088+_0x381c0a]+_0x3b9d74['m1']*_0x1f308e[_0x4d4fe4+_0x381c0a]*this['_len'];break;}}}}}class K_{constructor(_0x540d9e){this['_name']=_0x540d9e['name']+'Snapshot',this['_time']=-(0x1073*0x1+0x189*-0xf+0x151*0x5),this['_cache']=[],this['_results']=[];for(let _0xd4fc6b=0x22*-0x8a+-0x968+-0xa*-0x2c6;_0xd4fc6b<_0x540d9e['_inputs']['length'];++_0xd4fc6b)this['_cache'][_0xd4fc6b]=new wP();const _0x3d7b9a=_0x540d9e['_curves'],_0x22de85=_0x540d9e['_outputs'];for(let _0x4cfbac=0x24*0x5f+-0x6e9+-0xd*0x7f;_0x4cfbac<_0x3d7b9a['length'];++_0x4cfbac){const _0x4b3400=_0x3d7b9a[_0x4cfbac],_0x3ebb51=_0x22de85[_0x4b3400['_output']],_0x897d=[];for(let _0x5d9cdb=0x52*-0x25+-0x2177+0x2d51;_0x5d9cdb<_0x3ebb51['_component'+'s'];++_0x5d9cdb)_0x897d[_0x5d9cdb]=-0x239f+0x1087*-0x1+0x3426;this['_results'][_0x4cfbac]=_0x897d;}}}const Eo=class Eo{constructor(_0x3a013d,_0x1734e3,_0x5285d1,_0x2d1ef7,_0x281055,_0xc72335){this['_name']=_0x3a013d['name'],this['_track']=_0x3a013d,this['_snapshot']=new K_(_0x3a013d),this['_playing']=_0x2d1ef7,this['_time']=_0x1734e3,this['_speed']=_0x5285d1,this['_loop']=_0x281055,this['_blendWeig'+'ht']=0x5*-0x18b+-0x3a2+0xb5a,this['_blendOrde'+'r']=-0x250f+-0x2007+0x4516,this['_eventHand'+'ler']=_0xc72335,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x49167d){this['_name']=_0x49167d;}get['name'](){return this['_name'];}set['track'](_0x2bf6fa){this['_track']=_0x2bf6fa,this['_snapshot']=new K_(_0x2bf6fa);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x4f144c){this['_time']=_0x4f144c,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0xd60e00){const _0x3435f6=Math['sign'](_0xd60e00)!==Math['sign'](this['_speed']);this['_speed']=_0xd60e00,_0x3435f6&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x1eaa56){this['_loop']=_0x1eaa56;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x41d490){this['_blendWeig'+'ht']=_0x41d490;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x3b422d){this['_blendOrde'+'r']=_0x3b422d;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x374b87){this['_eventCurs'+'or']=_0x374b87;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0x228*0x5+0xb1a*-0x2+-0x1*-0x20fc:this['_track']['events']['length']-(-0x1ad8+-0x90e+-0x1*-0x23e7);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x166e+-0x7*0x583+0x3d03;}['nextEventA'+'headOfTime'](_0x586caa){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x586caa:this['nextEvent']['time']>=_0x586caa:!(-0x2639+-0x29*-0xc7+0x1*0x65b);}['nextEventB'+'ehindTime'](_0x4018a2){return this['nextEvent']?_0x4018a2===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x4018a2:this['nextEvent']['time']<=_0x4018a2:this['isReverse']?this['nextEvent']['time']>_0x4018a2:this['nextEvent']['time']<_0x4018a2:!(-0x4d*0x11+0x1ad2+-0xada*0x2);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(0x5*-0x496+0x2475+-0xd86):0x1ab6+-0x127a+-0x83c;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0xf5f*0x2+0x25c+0x1c63):0x1*-0x1779+-0x9*-0x44f+0x1*-0xf4d,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0x1aba+-0x17*-0x166+-0x3ae4:this['_eventCurs'+'or']<-0x5a6+-0xaf4+-0x11*-0xfa&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x2482+0x1180+-0x3601));}['clipFrameT'+'ime'](_0x103744){const _0x23c1ba=Eo['eventFrame'];_0x23c1ba['start']=-0x59*-0x46+-0x129*-0xb+-0x2519*0x1,_0x23c1ba['end']=_0x103744,_0x23c1ba['residual']=0xff7+0x1b29+-0x2b20,this['isReverse']?_0x103744<-0x5*-0x313+-0x11*-0x44+-0x6a1*0x3&&(_0x23c1ba['start']=this['track']['duration'],_0x23c1ba['end']=-0x5e*0x9+-0x798+0xae6,_0x23c1ba['residual']=_0x103744+this['track']['duration']):_0x103744>this['track']['duration']&&(_0x23c1ba['start']=0x2363*0x1+-0x1a76+-0x8ed*0x1,_0x23c1ba['end']=this['track']['duration'],_0x23c1ba['residual']=_0x103744-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x58e5fb,_0x1fbbcc){return this['nextEventA'+'headOfTime'](_0x58e5fb)&&this['nextEventB'+'ehindTime'](_0x1fbbcc)?(this['fireNextEv'+'ent'](),!(0x24ea+-0x4*-0x1a+0x22*-0x119)):!(-0x1*-0x217d+-0x383*0x1+-0x1df9);}['activeEven'+'tsForFrame'](_0x24e350,_0x53475e){const _0x4583fb=Eo['eventFrame'];this['clipFrameT'+'ime'](_0x53475e);const _0x175e06=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x24e350,_0x4583fb['end'])&&_0x175e06!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x4583fb['residual'])>-0x1486+-0x1d11+-0x1*-0x3197&&this['activeEven'+'tsForFrame'](_0x4583fb['start'],_0x4583fb['residual']);}['progressFo'+'rTime'](_0x51cade){return _0x51cade*this['_speed']/this['_track']['duration'];}['_update'](_0x48daa5){if(this['_playing']){let _0x232338=this['_time'];const _0x168ce3=this['_track']['duration'],_0xeb7040=this['_speed'],_0x5cad6d=this['_loop'];this['_track']['events']['length']>0x40f*0x2+0x27*-0xb3+0x1327&&_0x168ce3>-0x4bb*0x1+-0x15b4+0x1a6f&&this['activeEven'+'tsForFrame'](_0x232338,_0x232338+_0xeb7040*_0x48daa5),_0x232338+=_0xeb7040*_0x48daa5,_0xeb7040>=-0x2115+0x35*0x61+0xd00?_0x232338>_0x168ce3&&(_0x5cad6d?_0x232338=_0x232338%_0x168ce3||0x687+0x4*-0x725+0x160d:(_0x232338=this['_track']['duration'],this['pause']())):_0x232338<0x127*-0x6+-0x623*-0x5+-0x17c5&&(_0x5cad6d?_0x232338=_0x168ce3+(_0x232338%_0x168ce3||0x1f*-0x1f+-0x9e2*0x2+-0xdf*-0x1b):(_0x232338=-0x1b30+-0x172d+0x325d,this['pause']())),this['_time']=_0x232338;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0x1*0x1b25+-0x8a8+-0x127d),this['_time']=-0x1*0x20f5+0x1*0xfd1+0x1124;}['stop'](){this['_playing']=!(0x10ce+0x1*-0x2253+-0x1*-0x1186),this['_time']=0x1e*-0xf1+0x38c*0x1+-0xc59*-0x2;}['pause'](){this['_playing']=!(-0x1*-0x140b+0x2498+0x2*-0x1c51);}['resume'](){this['_playing']=!(-0xe6b+-0x1*-0x2696+-0x182b);}['reset'](){this['_time']=-0x17e1*-0x1+-0x3f*-0x1b+-0x1e86*0x1;}};c(Eo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Xh=Eo;const q0='NONE',TP='PREV_STATE',AP='NEXT_STATE',EP='PREV_STATE'+'_NEXT_STAT'+'E',CP='NEXT_STATE'+'_PREV_STAT'+'E',MP='GREATER_TH'+'AN',PP='LESS_THAN',RP='GREATER_TH'+'AN_EQUAL_T'+'O',IP='LESS_THAN_'+'EQUAL_TO',DP='EQUAL_TO',LP='NOT_EQUAL_'+'TO',Z_='INTEGER',Q_='FLOAT',J_='BOOLEAN',ph='TRIGGER',FP='1D',OP='2D_DIRECTI'+'ONAL',kP='2D_CARTESI'+'AN',BP='DIRECT',oo='START',Ku='END',Or='ANY',jh=[oo,Ku,Or],X0='OVERWRITE',NP='ADDITIVE';class Tt{static['dot'](_0x10a1e2,_0x4deab7){const _0x5d6350=_0x10a1e2['length'];let _0x2ec758=-0x17e+-0x2373+0x24f1;for(let _0x3cdec5=-0x11ef+-0x3*0xc92+0x37a5;_0x3cdec5<_0x5d6350;++_0x3cdec5)_0x2ec758+=_0x10a1e2[_0x3cdec5]*_0x4deab7[_0x3cdec5];return _0x2ec758;}static['normalize'](_0x34a7cc){let _0x26b4bc=Tt['dot'](_0x34a7cc,_0x34a7cc);if(_0x26b4bc>0x51*0x79+0xafd*-0x1+-0x1b4c){_0x26b4bc=(-0x267a+0x2313+-0x1b4*-0x2)/Math['sqrt'](_0x26b4bc);const _0x249f40=_0x34a7cc['length'];for(let _0x4645a5=0xe50+0x7*0x101+-0x1557;_0x4645a5<_0x249f40;++_0x4645a5)_0x34a7cc[_0x4645a5]*=_0x26b4bc;}}static['set'](_0x1cf3e5,_0x30e887,_0x16d8d5){const _0x150a39=_0x1cf3e5['length'];if(_0x16d8d5==='quaternion'){let _0x34aed4=Tt['dot'](_0x30e887,_0x30e887);_0x34aed4>-0x67*-0x3e+0x13f*0x8+-0x22ea&&(_0x34aed4=(-0xf2*0x10+-0x18f8+-0x5*-0x805)/Math['sqrt'](_0x34aed4));for(let _0x36f975=0x9*0x2ed+-0x1*-0x19a0+-0x33f5;_0x36f975<_0x150a39;++_0x36f975)_0x1cf3e5[_0x36f975]=_0x30e887[_0x36f975]*_0x34aed4;}else{for(let _0x475723=0x1fdf+0x45b+-0x243a;_0x475723<_0x150a39;++_0x475723)_0x1cf3e5[_0x475723]=_0x30e887[_0x475723];}}static['blendVec'](_0x68a5e9,_0x1cde51,_0x596aa1,_0x303a37){const _0x46dd36=_0x303a37?-0x1076+-0x2168+-0x2ef*-0x11:-0x2621+-0x8*0x146+0x9aa*0x5-_0x596aa1,_0x2cc69f=_0x68a5e9['length'];for(let _0x2c6f32=-0x1a3d*0x1+0x2bf*-0x1+0x1cfc;_0x2c6f32<_0x2cc69f;++_0x2c6f32)_0x68a5e9[_0x2c6f32]=_0x68a5e9[_0x2c6f32]*_0x46dd36+_0x1cde51[_0x2c6f32]*_0x596aa1;}static['blendQuat'](_0xd625af,_0x31c39f,_0x317c4a,_0x1ca0d4){const _0x378ee4=_0xd625af['length'],_0x2faed9=_0x1ca0d4?0x34b*-0x1+0x1*-0x1217+-0x4b*-0x49:-0x4*-0x84d+0x5bb+-0x26ee-_0x317c4a;Tt['dot'](_0xd625af,_0x31c39f)<0x2126+-0x7*0x4b1+-0x4f&&(_0x317c4a=-_0x317c4a);for(let _0x220ffd=-0x76*-0x1b+0x1f6d+-0x2bdf*0x1;_0x220ffd<_0x378ee4;++_0x220ffd)_0xd625af[_0x220ffd]=_0xd625af[_0x220ffd]*_0x2faed9+_0x31c39f[_0x220ffd]*_0x317c4a;_0x1ca0d4||Tt['normalize'](_0xd625af);}static['blend'](_0x311f47,_0x13ffdd,_0x856ccb,_0x109604,_0x29e31a){_0x109604==='quaternion'?Tt['blendQuat'](_0x311f47,_0x13ffdd,_0x856ccb,_0x29e31a):Tt['blendVec'](_0x311f47,_0x13ffdd,_0x856ccb,_0x29e31a);}static['stableSort'](_0x58c116,_0x2184af){const _0x177c86=_0x58c116['length'];for(let _0x56bfec=-0x164d*-0x1+-0x9d6+-0xc77;_0x56bfec<_0x177c86-(-0x31*-0x31+-0x1cf9+0x1399);++_0x56bfec)for(let _0x3842c9=_0x56bfec+(-0x21*-0x60+0x1*0xa67+-0x16c6);_0x3842c9<_0x177c86;++_0x3842c9)if(_0x2184af(_0x58c116[_0x3842c9],_0x58c116[_0x56bfec])){const _0x158295=_0x58c116[_0x56bfec];_0x58c116[_0x56bfec]=_0x58c116[_0x3842c9],_0x58c116[_0x3842c9]=_0x158295;}}}const Ue=class Ue{constructor(_0x33e417,_0x192da8){this['_component']=_0x33e417,this['mask']=new Int8Array(_0x33e417['layers']['length']),this['weights']=new Float32Array(_0x33e417['layers']['length']),this['totalWeigh'+'t']=-0x7*-0x463+0x1*-0x269d+0x7e8,this['counter']=-0x17b*-0x16+-0x2d*0x96+-0x634,this['layerCount'+'er']=-0x115f+0x10a*-0x2+-0x1*-0x1373,this['valueType']=_0x192da8,this['dirty']=!(0x2*0xbce+0x5*0x95+-0x1a85),this['value']=_0x192da8===Ue['TYPE_QUAT']?[0x1*-0x13f3+0x3de+0x1015,-0x641*0x1+0xf*0x1c1+0x11*-0x12e,-0x20d8+0x1*-0x21c1+-0x1633*-0x3,-0x1b4e+0x43*0x13+0x1656]:[-0x1469+-0x121*0xe+0x2437,0x1655+-0x1142*-0x1+-0x2797,-0x3fc+0x1*0x5ef+-0x1f3*0x1],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x47c84f){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0xa3+-0x8*0x186+0xb8d||!this['mask'][_0x47c84f]?-0x1eea+0x40d*-0x3+0x2b11:this['_normalize'+'Weights']?this['weights'][_0x47c84f]/this['totalWeigh'+'t']:N['clamp'](this['weights'][_0x47c84f],0x1a50+0xb34+-0x2584,0x1a8b+0x221a+-0x1e52*0x2);}['_layerBlen'+'dType'](_0x1adbba){return this['_component']['layers'][_0x1adbba]['blendType'];}['setMask'](_0x201957,_0x10978b){this['mask'][_0x201957]=_0x10978b,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x201957]['blendType']===X0&&(this['mask']=this['mask']['fill'](-0x1*0x417+-0x1f9a+0x23b1,0x113d+-0x8eb+-0x852,_0x201957)),this['dirty']=!(-0x234+-0xaa1*-0x1+-0x86d));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x25ff*-0x1+-0x21*-0xc2+0x3f01*-0x1;for(let _0x49b4c9=0x1916+-0x692*0x4+0x132;_0x49b4c9<this['weights']['length'];_0x49b4c9++)this['weights'][_0x49b4c9]=this['_component']['layers'][_0x49b4c9]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x49b4c9]*this['weights'][_0x49b4c9];this['dirty']=!(-0x2517+0x1fbd+-0x55b*-0x1);}['updateValu'+'e'](_0x59bddf,_0x516f87){if(this['counter']===-0x7eb+-0x144a+0x57*0x53&&(Tt['set'](this['value'],Ue['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Tt['blend'](this['value'],this['baseValue'],-0x19f*-0x11+-0x231b+0x78d,this['valueType'])),!(!this['mask'][_0x59bddf]||this['getWeight'](_0x59bddf)===0x733+-0x27b*0x9+0x1e4*0x8)){if(this['_layerBlen'+'dType'](_0x59bddf)===NP&&!this['_normalize'+'Weights']){if(this['valueType']===Ue['TYPE_QUAT']){const _0x227057=Ue['q1']['set'](this['value'][0x12d9+-0x65*-0x3d+-0x2aea],this['value'][-0x12a1*-0x1+-0x1*0x2006+-0x7*-0x1ea],this['value'][0x68*-0x30+-0x1*-0x2303+-0xf81],this['value'][-0x14*-0xe0+-0x5f2+-0xb8b]),_0x4e4cf7=Ue['q2']['set'](this['baseValue'][-0x16ba*0x1+-0x25cd+-0xc1b*-0x5],this['baseValue'][-0x1445+-0x1a45*-0x1+-0x5ff],this['baseValue'][0x13fe+-0xd98+0x664*-0x1],this['baseValue'][0x3a7+0x1ce8+0x823*-0x4]),_0x1cc9a5=Ue['q3']['set'](_0x516f87[0x26*0xcb+-0x20a7*0x1+0x5*0x81],_0x516f87[0x10dd+0x2a9*0xb+-0x2e1f],_0x516f87[0x425*0x5+-0xe*-0xdf+-0x20e9],_0x516f87[0x1dc1+-0x44f*-0x1+-0x220d]),_0x25681d=_0x4e4cf7['invert']()['mul'](_0x1cc9a5);_0x25681d['slerp'](se['IDENTITY'],_0x25681d,this['getWeight'](_0x59bddf)),_0x227057['mul'](_0x25681d),Ue['quatArr'][0x2059+-0x16b1+-0x9a8]=_0x227057['x'],Ue['quatArr'][-0x45+-0x1e3c+0x163*0x16]=_0x227057['y'],Ue['quatArr'][0x19b1+0x2*0x668+-0x5*0x7b3]=_0x227057['z'],Ue['quatArr'][-0x12b2*-0x1+-0x1*0x1a30+0x781*0x1]=_0x227057['w'],Tt['set'](this['value'],Ue['quatArr'],this['valueType']);}else Ue['vecArr'][-0x2*0xac4+-0x13*0x2+0x15ae]=_0x516f87[0x239e+0x667+-0x2a05]-this['baseValue'][0x153a+0x19f2+-0x2f2c],Ue['vecArr'][0x13c3+0x583*0x3+-0xc19*0x3]=_0x516f87[-0x8*-0x42a+0x154d+-0x369c]-this['baseValue'][0x10db*-0x2+0x907*-0x1+-0x2*-0x155f],Ue['vecArr'][-0x24bc*-0x1+0x2155+-0x1*0x460f]=_0x516f87[0x34d+0x50d+-0x2*0x42c]-this['baseValue'][-0x2*-0x6a2+-0xff*-0x1f+-0x2c23],Tt['blend'](this['value'],Ue['vecArr'],this['getWeight'](_0x59bddf),this['valueType'],!(0x117f*0x1+0x3b*0x49+0x2*-0x1129));}else Tt['blend'](this['value'],_0x516f87,this['getWeight'](_0x59bddf),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(Ue,'TYPE_QUAT','quaternion'),c(Ue,'TYPE_VEC3','vector3'),c(Ue,'q1',new se()),c(Ue,'q2',new se()),c(Ue,'q3',new se()),c(Ue,'quatArr',[-0x7db+-0x394+0xb6f*0x1,0x1cb+0x1ef0+-0x18f*0x15,-0x208c+-0x135a*-0x1+0xd32,-0xe5*-0x17+0xfd9*-0x2+-0xb2*-0x10]),c(Ue,'vecArr',[0xef8*-0x2+-0xdb1+0x2ba1,-0x1*0x14d5+-0x4c+0x1521,-0x1bb4+0x30*-0x71+0x30e4]),c(Ue,'IDENTITY_Q'+'UAT_ARR',[0x3*0x29a+0x12b*-0x5+-0x1*0x1f7,0xb11+0x1*-0x1d8a+0x1279,0x949*-0x1+0x257*0x5+-0x26a,-0x1f4*0x11+0xc17+0x151e]);let bo=Ue;class j0{constructor(_0x3ee500){this['_binder']=_0x3ee500,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x49460f){const _0x1ef617=this['_targets'],_0x2dfa42=this['_binder'],_0x5ced4d=_0x49460f['track']['curves'],_0x1c13c5=_0x49460f['snapshot'],_0x4f3f87=[],_0x5d0157=[];for(let _0x303ac5=0xa4a+0x245f*-0x1+-0x1a15*-0x1;_0x303ac5<_0x5ced4d['length'];++_0x303ac5){const _0x379b07=_0x5ced4d[_0x303ac5]['paths'];for(let _0x24efcb=0x602*-0x4+0x1ccc+-0x4c4;_0x24efcb<_0x379b07['length'];++_0x24efcb){const _0x47273b=_0x379b07[_0x24efcb],_0x39752e=_0x2dfa42['resolve'](_0x47273b);let _0x3d484e=_0x1ef617[_0x39752e&&_0x39752e['targetPath']||null];if(!_0x3d484e&&_0x39752e){_0x3d484e={'target':_0x39752e,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x529dc1=0x96b+0x1511+-0x1e7c;_0x529dc1<_0x3d484e['target']['components'];++_0x529dc1)_0x3d484e['value']['push'](0xf11+0x1*0x19a7+-0x28b8);if(_0x1ef617[_0x39752e['targetPath']]=_0x3d484e,_0x2dfa42['animCompon'+'ent']){if(!_0x2dfa42['animCompon'+'ent']['targets'][_0x39752e['targetPath']]){let _0x338172;_0x39752e['targetPath']['substring'](_0x39752e['targetPath']['length']-(-0xc*-0x2b+0x5f7*-0x1+0x2*0x200))==='localRotat'+'ion'?_0x338172=bo['TYPE_QUAT']:_0x338172=bo['TYPE_VEC3'],_0x2dfa42['animCompon'+'ent']['targets'][_0x39752e['targetPath']]=new bo(_0x2dfa42['animCompon'+'ent'],_0x338172);}_0x2dfa42['animCompon'+'ent']['targets'][_0x39752e['targetPath']]['layerCount'+'er']++,_0x2dfa42['animCompon'+'ent']['targets'][_0x39752e['targetPath']]['setMask'](_0x2dfa42['layerIndex'],0x16c2+0x11ff+-0x28c0);}}_0x3d484e&&(_0x3d484e['curves']++,_0x4f3f87['push'](_0x1c13c5['_results'][_0x303ac5]),_0x5d0157['push'](_0x3d484e));}}this['_clips']['push'](_0x49460f),this['_inputs']['push'](_0x4f3f87),this['_outputs']['push'](_0x5d0157);}['removeClip'](_0x39e55d){const _0x112fba=this['_targets'],_0xa10c14=this['_binder'],_0x5de640=this['_clips'],_0x38dd43=_0x5de640[_0x39e55d]['track']['curves'];for(let _0x26928f=-0xfb8+0xae9+0x1*0x4cf;_0x26928f<_0x38dd43['length'];++_0x26928f){const _0x26a44d=_0x38dd43[_0x26928f]['paths'];for(let _0x41534=-0x225a+0x2651*-0x1+0x1b*0x2b1;_0x41534<_0x26a44d['length'];++_0x41534){const _0x489731=_0x26a44d[_0x41534],_0x4c2d2f=this['_binder']['resolve'](_0x489731);_0x4c2d2f&&(_0x4c2d2f['curves']--,_0x4c2d2f['curves']===0x2*0xd9f+0xb0d*-0x2+-0x4*0x149&&(_0xa10c14['unresolve'](_0x489731),delete _0x112fba[_0x4c2d2f['targetPath']],_0xa10c14['animCompon'+'ent']&&_0xa10c14['animCompon'+'ent']['targets'][_0x4c2d2f['targetPath']]['layerCount'+'er']--));}}_0x5de640['splice'](_0x39e55d,-0x2165*-0x1+-0x19*0x23+0x1*-0x1df9),this['_inputs']['splice'](_0x39e55d,-0x2622*0x1+-0x47*-0x29+-0xc*-0x23b),this['_outputs']['splice'](_0x39e55d,0x7f*-0x46+-0x1470+0x372b);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x15c7+-0x2*0xe76+0x32b3*0x1;)this['removeClip'](0x77f*-0x1+-0x16c2+0x1e41);}['updateClip'+'Track'](_0x5a7566,_0x426c0e){this['_clips']['forEach'](_0x350c63=>{_0x350c63['name']['includes'](_0x5a7566)&&(_0x350c63['track']=_0x426c0e);}),this['rebind']();}['findClip'](_0x2d5c41){const _0x2eb0f9=this['_clips'];for(let _0x4dac75=0x24b9+-0x1ea*0xc+-0xdc1*0x1;_0x4dac75<_0x2eb0f9['length'];++_0x4dac75){const _0xb3563c=_0x2eb0f9[_0x4dac75];if(_0xb3563c['name']===_0x2d5c41)return _0xb3563c;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x109ed5=[...this['clips']];this['removeClip'+'s'](),_0x109ed5['forEach'](_0x53f307=>{this['addClip'](_0x53f307);});}['assignMask'](_0x357087){return this['_binder']['assignMask'](_0x357087);}['update'](_0x812725,_0x2828e3=!(0x179*-0x2+-0x16c2+0x1d6*0xe)){const _0x490b2f=this['_clips'],_0x3963fc=_0x490b2f['map']((_0x291ef3,_0x12ff9d)=>_0x12ff9d);Tt['stableSort'](_0x3963fc,(_0x344bec,_0x1200e7)=>_0x490b2f[_0x344bec]['blendOrder']<_0x490b2f[_0x1200e7]['blendOrder']);for(let _0x380875=0x2*-0x435+-0x6a3+0xf0d;_0x380875<_0x3963fc['length'];++_0x380875){const _0x37b0db=_0x3963fc[_0x380875],_0x2dc825=_0x490b2f[_0x37b0db],_0x303333=this['_inputs'][_0x37b0db],_0x1d0d3b=this['_outputs'][_0x37b0db],_0x27ab06=_0x2dc825['blendWeigh'+'t'];if(_0x27ab06>0x1bb2+0x9d*0x27+-0x339d&&_0x2dc825['_update'](_0x812725),!_0x2828e3)break;let _0x134dd0,_0x1c588a,_0x469dc3;if(_0x27ab06>=-0x4*0x87b+-0x1*0x7ea+0x29d7){for(let _0x278c89=-0xac8+-0x5ca+0x1092;_0x278c89<_0x303333['length'];++_0x278c89)_0x134dd0=_0x303333[_0x278c89],_0x1c588a=_0x1d0d3b[_0x278c89],_0x469dc3=_0x1c588a['value'],Tt['set'](_0x469dc3,_0x134dd0,_0x1c588a['target']['type']),_0x1c588a['blendCount'+'er']++;}else{if(_0x27ab06>-0x1f*0x4d+-0x2*0xb9e+-0x5*-0x683){for(let _0x21c9c0=-0x25*0x10b+-0x1e54+0x44eb*0x1;_0x21c9c0<_0x303333['length'];++_0x21c9c0)_0x134dd0=_0x303333[_0x21c9c0],_0x1c588a=_0x1d0d3b[_0x21c9c0],_0x469dc3=_0x1c588a['value'],_0x1c588a['blendCount'+'er']===-0x2485*0x1+0x303*0xc+0x1*0x61?Tt['set'](_0x469dc3,_0x134dd0,_0x1c588a['target']['type']):Tt['blend'](_0x469dc3,_0x134dd0,_0x27ab06,_0x1c588a['target']['type']),_0x1c588a['blendCount'+'er']++;}}}const _0x54d890=this['_targets'],_0x450faa=this['_binder'];for(const _0x20ccc6 in _0x54d890)if(_0x54d890['hasOwnProp'+'erty'](_0x20ccc6)){const _0x349015=_0x54d890[_0x20ccc6];if(_0x450faa['animCompon'+'ent']&&_0x349015['target']['isTransfor'+'m']){const _0x34b732=_0x450faa['animCompon'+'ent']['targets'][_0x20ccc6];_0x34b732['counter']===_0x34b732['layerCount'+'er']&&(_0x34b732['counter']=-0x1f03+0x6*0x486+0x3df*0x1),_0x34b732['path']||(_0x34b732['path']=_0x20ccc6,_0x34b732['baseValue']=_0x349015['target']['get'](),_0x34b732['setter']=_0x349015['target']['set']),_0x34b732['updateValu'+'e'](_0x450faa['layerIndex'],_0x349015['value']),_0x34b732['counter']++;}else _0x349015['target']['set'](_0x349015['value']);_0x349015['blendCount'+'er']=-0x219*-0xd+0x25ed+0xa*-0x685;}this['_binder']['update'](_0x812725);}}class Y0{constructor(_0x120c2b){this['_events']=[..._0x120c2b],this['_events']['sort']((_0x50b054,_0x1e9004)=>_0x50b054['time']-_0x1e9004['time']);}get['events'](){return this['_events'];}}const lc=class lc{constructor(_0x262f8d,_0x578a7e,_0x285fb3,_0x5ef423,_0x4c9afa,_0x4cb269=new Y0([])){this['_name']=_0x262f8d,this['_duration']=_0x578a7e,this['_inputs']=_0x285fb3,this['_outputs']=_0x5ef423,this['_curves']=_0x4c9afa,this['_animEvent'+'s']=_0x4cb269;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x56b39e){this['_animEvent'+'s']=_0x56b39e;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x3aca94,_0x5ac17f){_0x5ac17f['_time']=_0x3aca94;const _0xfda55b=this['_inputs'],_0x74719c=this['_outputs'],_0x12b38f=this['_curves'],_0x3c2d1c=_0x5ac17f['_cache'],_0x23a0ac=_0x5ac17f['_results'];for(let _0x497b99=-0x6f*-0x29+-0x74*-0x2b+0x2543*-0x1;_0x497b99<_0xfda55b['length'];++_0x497b99)_0x3c2d1c[_0x497b99]['update'](_0x3aca94,_0xfda55b[_0x497b99]['_data']);for(let _0xf54da=-0x10*0x1d4+-0x302+0x2042;_0xf54da<_0x12b38f['length'];++_0xf54da){const _0x1098a1=_0x12b38f[_0xf54da],_0x2f4443=_0x74719c[_0x1098a1['_output']],_0x39a83f=_0x23a0ac[_0xf54da];_0x3c2d1c[_0x1098a1['_input']]['eval'](_0x39a83f,_0x1098a1['_interpola'+'tion'],_0x2f4443);}}};c(lc,'EMPTY',Object['freeze'](new lc('empty',Number['MAX_VALUE'],[],[],[])));let Ri=lc;class qr{static['joinPath'](_0x217c2c,_0x39de19){_0x39de19=_0x39de19||'.';const _0xca69b2=function(_0x2f7c4c){return _0x2f7c4c['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x39de19,'g'),'\x5c'+_0x39de19);};return _0x217c2c['map'](_0xca69b2)['join'](_0x39de19);}static['splitPath'](_0x8aa26e,_0x2b7e33){_0x2b7e33=_0x2b7e33||'.';const _0x4e7dbd=[];let _0x38dcbf='',_0x502965=0x59*0x9+-0x1611+-0x12f*-0x10;for(;_0x502965<_0x8aa26e['length'];){let _0x2e660a=_0x8aa26e[_0x502965++];_0x2e660a==='\x5c'&&_0x502965<_0x8aa26e['length']?(_0x2e660a=_0x8aa26e[_0x502965++],_0x2e660a==='\x5c'||_0x2e660a===_0x2b7e33?_0x38dcbf+=_0x2e660a:_0x38dcbf+='\x5c'+_0x2e660a):_0x2e660a===_0x2b7e33?(_0x4e7dbd['push'](_0x38dcbf),_0x38dcbf=''):_0x38dcbf+=_0x2e660a;}return _0x38dcbf['length']>-0x5be*0x1+-0x8*0x315+0x1e66&&_0x4e7dbd['push'](_0x38dcbf),_0x4e7dbd;}static['encode'](_0x48fd8b,_0x54ba6b,_0x2e6a62){return(Array['isArray'](_0x48fd8b)?_0x48fd8b['join']('/'):_0x48fd8b)+'/'+_0x54ba6b+'/'+(Array['isArray'](_0x2e6a62)?_0x2e6a62['join']('/'):_0x2e6a62);}['resolve'](_0x305124){return null;}['unresolve'](_0x529fa3){}['update'](_0x16a1e0){}}class Zu{constructor(_0x26ffbf,_0x2e5c17,_0x4571ae,_0x5e1b01){_0x26ffbf['set']?(this['_set']=_0x26ffbf['set'],this['_get']=_0x26ffbf['get']):this['_set']=_0x26ffbf,this['_type']=_0x2e5c17,this['_component'+'s']=_0x4571ae,this['_targetPat'+'h']=_0x5e1b01,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x1634*-0x1+0xa48+0x5*0x265))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x44d*0x3+0x3ef+-0x10c9))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0xceb*-0x2+-0x79*-0x33+0x3*0x97))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Ji{constructor(_0x47fefe){c(this,'_isPathInM'+'ask',(_0x2afdda,_0x223aeb)=>{const _0x45cc18=this['_mask'][_0x2afdda];if(_0x45cc18){if(_0x45cc18['children']||_0x223aeb&&_0x45cc18['value']!==!(0xe80+-0x164d*-0x1+-0x24cc))return!(-0xdd3+-0x4*-0x95f+-0x17a9);}else return!(-0xa70+0x8fe+0x173);return!(0x197a+-0x1770+-0x1*0x209);});if(this['graph']=_0x47fefe,!_0x47fefe)return;this['_mask']=null;const _0x1deaa2={},_0x438634=function(_0x2b9eee){_0x1deaa2[_0x2b9eee['name']]=_0x2b9eee;for(let _0x6352e3=0x2400+-0x188f*0x1+-0x65*0x1d;_0x6352e3<_0x2b9eee['children']['length'];++_0x6352e3)_0x438634(_0x2b9eee['children'][_0x6352e3]);};_0x438634(_0x47fefe),this['nodes']=_0x1deaa2,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x7b5725=function(_0x5c1bda){let _0x4b23bd=_0x5c1bda;for(;_0x4b23bd&&!(_0x4b23bd instanceof $e);)_0x4b23bd=_0x4b23bd['parent'];let _0x1e2038;return _0x4b23bd&&(_0x4b23bd['render']?_0x1e2038=_0x4b23bd['render']['meshInstan'+'ces']:_0x4b23bd['model']&&(_0x1e2038=_0x4b23bd['model']['meshInstan'+'ces'])),_0x1e2038;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x3125ef){const _0x110917=_0x3125ef['localPosit'+'ion'],_0x2080d4=function(_0x1190d3){_0x110917['set'](..._0x1190d3);};return Ji['createAnim'+'Target'](_0x2080d4,'vector',-0x8e6*0x3+0x1*0x146+0x196f,_0x3125ef,'localPosit'+'ion');},'localRotation':function(_0x458ad5){const _0x12afcc=_0x458ad5['localRotat'+'ion'],_0x5bf80b=function(_0x1b7000){_0x12afcc['set'](..._0x1b7000);};return Ji['createAnim'+'Target'](_0x5bf80b,'quaternion',-0x1*-0x1669+0x4e4*0x6+-0x33bd,_0x458ad5,'localRotat'+'ion');},'localScale':function(_0x5eefbf){const _0x1cfb76=_0x5eefbf['localScale'],_0x3e8481=function(_0x3f43b2){_0x1cfb76['set'](..._0x3f43b2);};return Ji['createAnim'+'Target'](_0x3e8481,'vector',-0x75a+0x1781+-0x1024,_0x5eefbf,'localScale');},'weight':function(_0xd2312d,_0x5ca3ac){_0x5ca3ac['indexOf']('name.')===-0x204*0x11+-0x157b+0x37bf?_0x5ca3ac=_0x5ca3ac['replace']('name.',''):_0x5ca3ac=Number(_0x5ca3ac);const _0x5a0b89=_0x7b5725(_0xd2312d);let _0x58e224;if(_0x5a0b89){for(let _0x2f4186=0xb*-0x1c+0x4ab+-0x377*0x1;_0x2f4186<_0x5a0b89['length'];++_0x2f4186)if(_0x5a0b89[_0x2f4186]['node']['name']===_0xd2312d['name']&&_0x5a0b89[_0x2f4186]['morphInsta'+'nce']){const _0x1f7c7c=_0x5a0b89[_0x2f4186]['morphInsta'+'nce'],_0x125af9=_0x210078=>{_0x1f7c7c['setWeight'](_0x5ca3ac,_0x210078[-0x23e9+-0xa*0xdf+-0x2c9f*-0x1]);};_0x58e224||(_0x58e224=[]),_0x58e224['push'](_0x125af9);}}if(_0x58e224){const _0x10712f=_0x1d8cf4=>{for(let _0x6008c5=0x5*0x3b+0x4*-0xd6+0x1*0x231;_0x6008c5<_0x58e224['length'];++_0x6008c5)_0x58e224[_0x6008c5](_0x1d8cf4);};return Ji['createAnim'+'Target'](_0x10712f,'number',0xcc5+0xbdf*0x1+-0x18a3,_0xd2312d,'weight.'+_0x5ca3ac);}return null;},'materialTexture':(_0x3d2e45,_0x119c6d)=>{const _0x3c4538=_0x7b5725(_0x3d2e45);if(_0x3c4538){let _0x494f47;for(let _0x184742=-0x2250+0x25e6+-0x396;_0x184742<_0x3c4538['length'];++_0x184742)if(_0x3c4538[_0x184742]['node']['name']===_0x3d2e45['name']){_0x494f47=_0x3c4538[_0x184742];break;}if(_0x494f47){const _0x5e4dca=_0xda2fae=>{const _0x56ba72=this['animCompon'+'ent']['system']['app']['assets']['get'](_0xda2fae[-0x46e+0x21fd+-0x1d8f]);_0x56ba72&&_0x56ba72['resource']&&_0x56ba72['type']==='texture'&&(_0x494f47['material'][_0x119c6d]=_0x56ba72['resource'],_0x494f47['material']['update']());};return Ji['createAnim'+'Target'](_0x5e4dca,'vector',0x1a86+0xef*0xf+-0x2886,_0x3d2e45,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x28a8f3){if(!this['_mask'])return!(-0xd*0xc6+0xcc8+0x15d*-0x2);const _0x2004cd=[_0x28a8f3['entityPath'][0x2*-0x4d1+-0x7*0x214+0x182e],this['graph']['name']];for(let _0x521232=-0x97*0x5+-0x294+0x587;_0x521232<_0x2004cd['length'];++_0x521232){let _0x1a8651=_0x2004cd[_0x521232];if(this['_isPathInM'+'ask'](_0x1a8651,_0x28a8f3['entityPath']['length']===0x1*-0xdfd+0x5*-0x50e+-0x2*-0x13a2))return!(0x1dc*0xa+0x697*0x1+-0x1*0x192f);for(let _0x1f202b=0x1580*-0x1+-0x7*-0x2f+0x1438*0x1;_0x1f202b<_0x28a8f3['entityPath']['length'];_0x1f202b++)if(_0x1a8651+='/'+_0x28a8f3['entityPath'][_0x1f202b],this['_isPathInM'+'ask'](_0x1a8651,_0x1f202b===_0x28a8f3['entityPath']['length']-(0x144d+0x1*-0x37a+-0x10d2)))return!(0x4*-0x972+-0x844+0x2e0c);}return!(-0x1*-0xdff+-0x2607+-0x7*-0x36f);}['findNode'](_0x196e55){if(!this['_isPathAct'+'ive'](_0x196e55))return null;let _0x345590;if(this['graph']&&(_0x345590=this['graph']['findByPath'](_0x196e55['entityPath']),_0x345590||(_0x345590=this['graph']['findByPath'](_0x196e55['entityPath']['slice'](-0x1ef*0xf+0xb*0x31d+-0x3*0x1bf)))),!_0x345590){_0x345590=this['nodes'][_0x196e55['entityPath'][_0x196e55['entityPath']['length']-(0x1e7f+0x44f*0x7+-0x3ca7)]||''];const _0x4f17b8=qr['encode'](_0x196e55['entityPath'][_0x196e55['entityPath']['length']-(0x1*-0x125+0x1bd1*-0x1+0x1cf7)]||'','graph',_0x196e55['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x4f17b8]===0x163e+0x2*-0x1078+0xab3&&v['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x4f17b8+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x4f17b8])?this['visitedFal'+'lbackGraph'+'Paths'][_0x4f17b8]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x4f17b8]=0x130b+0x23*-0xa7+0x3ca;}return _0x345590;}static['createAnim'+'Target'](_0x376e93,_0x332551,_0x3cce4e,_0x4e99e9,_0x3d1eb3,_0x1b1752){const _0x275789=qr['encode'](_0x4e99e9['path'],_0x1b1752||'entity',_0x3d1eb3);return new Zu(_0x376e93,_0x332551,_0x3cce4e,_0x275789);}['resolve'](_0x25ec17){const _0x42fd75=qr['encode'](_0x25ec17['entityPath'],_0x25ec17['component'],_0x25ec17['propertyPa'+'th']);let _0x1ff25b=this['targetCach'+'e'][_0x42fd75];if(_0x1ff25b)return _0x1ff25b;const _0x166477=this['findNode'](_0x25ec17);if(!_0x166477)return null;const _0x2959aa=this['handlers'][_0x25ec17['propertyPa'+'th']];return!_0x2959aa||(_0x1ff25b=_0x2959aa(_0x166477),!_0x1ff25b)?null:(this['targetCach'+'e'][_0x42fd75]=_0x1ff25b,this['nodeCounts'][_0x166477['path']]?this['nodeCounts'][_0x166477['path']]++:(this['activeNode'+'s']['push'](_0x166477),this['nodeCounts'][_0x166477['path']]=0xf*-0xe5+0x1151*0x2+-0x1536),_0x1ff25b);}['unresolve'](_0x2b659a){if(_0x2b659a['component']!=='graph')return;const _0x4eac66=this['nodes'][_0x2b659a['entityPath'][_0x2b659a['entityPath']['length']-(-0x1493+0x88b+0xc09)]||''];if(this['nodeCounts'][_0x4eac66['path']]--,this['nodeCounts'][_0x4eac66['path']]===0xc5f*0x1+-0x8*-0x127+0x1*-0x1597){const _0x1e6080=this['activeNode'+'s'],_0x220c28=_0x1e6080['indexOf'](_0x4eac66['node']),_0x14d4c1=_0x1e6080['length'];_0x220c28<_0x14d4c1-(-0x6a0*-0x2+-0x1df4+0x10b5)&&(_0x1e6080[_0x220c28]=_0x1e6080[_0x14d4c1-(0x460+-0x1514+-0x10b5*-0x1)]),_0x1e6080['pop']();}}['update'](_0x31fe40){const _0x4d3454=this['activeNode'+'s'];for(let _0x153d47=-0x7*-0x4b2+0x1*0x1262+-0x29*0x140;_0x153d47<_0x4d3454['length'];++_0x153d47)_0x4d3454[_0x153d47]['_dirtifyLo'+'cal']();}['assignMask'](_0x544a16){return _0x544a16!==this['_mask']?(this['_mask']=_0x544a16,!(-0xbf1+0x1e60+0x27*-0x79)):!(0x3*0x8+-0x23be*0x1+0x1*0x23a7);}}class K0 extends ue{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(0x695*0x1+0x7c7+-0x2*0x72e)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',-0x76*-0x2+0x1e08+0x1*-0x1ef4),c(this,'blending',!(0x980+0xbed+-0x156c)),c(this,'blendSpeed',0x4*-0x694+-0x1*-0x4a4+0x15ac),c(this,'activate',!(-0x753+0x1845+0x2d3*-0x6)),c(this,'speed',0x713+-0x1*-0x65a+-0x6b6*0x2);}set['animations'](_0x2e9b82){this['_animation'+'s']=_0x2e9b82,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x31fa0f){const _0x5c5c8=this['_assets'];if(_0x5c5c8&&_0x5c5c8['length']){for(let _0x4c572c=0x7*-0x59+-0x1*-0xf0f+0x8*-0x194;_0x4c572c<_0x5c5c8['length'];_0x4c572c++)if(_0x5c5c8[_0x4c572c]){const _0x33f796=this['system']['app']['assets']['get'](_0x5c5c8[_0x4c572c]);if(_0x33f796){_0x33f796['off']('change',this['onAssetCha'+'nged'],this),_0x33f796['off']('remove',this['onAssetRem'+'oved'],this);const _0x25754c=this['animations'+'Index'][_0x33f796['id']];this['currAnim']===_0x25754c&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x25754c],delete this['animations'+'Index'][_0x33f796['id']];}}}this['_assets']=_0x31fa0f;const _0x52cd60=_0x31fa0f['map'](_0x44d88d=>_0x44d88d instanceof le?_0x44d88d['id']:_0x44d88d);this['loadAnimat'+'ionAssets'](_0x52cd60);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x281642){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x281642,this['skeleton']['addTime'](0x2*-0xe0b+-0x1*-0x1e7a+-0x264),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x3a8374=this['animEvalua'+'tor']['clips'];for(let _0x1ed45d=-0xd94+-0x56*-0x22+0x228;_0x1ed45d<_0x3a8374['length'];++_0x1ed45d)_0x3a8374[_0x1ed45d]['time']=_0x281642;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x405f1a=this['animEvalua'+'tor']['clips'];if(_0x405f1a['length']>-0x2672+-0x6a0+0x2d12)return _0x405f1a[_0x405f1a['length']-(0xb*-0x1c3+0x7*-0xfb+0x1a3f)]['time'];}return-0x2*-0x925+0xb7*-0x22+0x604;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(v['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),0xc3c+-0x722+-0x51a);}set['loop'](_0x3af8a0){if(this['_loop']=_0x3af8a0,this['skeleton']&&(this['skeleton']['looping']=_0x3af8a0),this['animEvalua'+'tor']){for(let _0x2fe97e=0x1d*0x131+0x22c+0x77*-0x4f;_0x2fe97e<this['animEvalua'+'tor']['clips']['length'];++_0x2fe97e)this['animEvalua'+'tor']['clips'][_0x2fe97e]['loop']=_0x3af8a0;}}get['loop'](){return this['_loop'];}['play'](_0x137686,_0x3076af=0xadb+-0x1b40+0x1065){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x137686]){v['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x137686+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x137686,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x2b830e=this['animations'][this['prevAnim']],_0x1195a5=this['animations'][this['currAnim']];if(this['blending']=_0x3076af>0x1897*0x1+-0x8*-0x26+-0x19c7&&!!this['prevAnim'],this['blending']&&(this['blend']=0x1803+0xdd2+-0x25d5,this['blendSpeed']=(-0x1b6*-0x11+0x3*0x68f+0x2*-0x1861)/_0x3076af),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x2b830e,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x1195a5):this['skeleton']['animation']=_0x1195a5),this['animEvalua'+'tor']){const _0x37f88f=this['animEvalua'+'tor'];if(this['blending']){for(;_0x37f88f['clips']['length']>-0x10a8*-0x2+-0x14c0+-0x283*0x5;)_0x37f88f['removeClip'](-0x3a1+-0x2167*0x1+-0x2*-0x1284);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x49a8a6=new Xh(this['animations'][this['currAnim']],0x13*-0x7c+0x214a*-0x1+0x2a7e,0x88+0x1314+-0x139b,!(-0x1f6+0x1e3b+0x1c45*-0x1),this['loop']);_0x49a8a6['name']=this['currAnim'],_0x49a8a6['blendWeigh'+'t']=this['blending']?0x1*-0x1402+-0x2*0x947+0x2690:0x2*0x120d+-0x1f8b+-0x48e,_0x49a8a6['reset'](),this['animEvalua'+'tor']['addClip'](_0x49a8a6);}}this['playing']=!(-0x3*-0x772+0x3c0+-0x1a16);}}['getAnimati'+'on'](_0x2632c3){return this['animations'][_0x2632c3];}['setModel'](_0x242d43){_0x242d43!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x242d43,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x54acc9=this['entity']['model'];if(_0x54acc9){const _0x222c83=_0x54acc9['model'];_0x222c83&&_0x222c83!==this['model']&&this['setModel'](_0x222c83);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x55b7d9=Object['keys'](this['_animation'+'s']);_0x55b7d9['length']>-0x2664+0x100f+0x1655&&this['play'](_0x55b7d9[-0x2*-0xc32+0x17b*-0xb+-0x81b]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x28f246=this['model'],_0x3e4f3a=this['animations'];let _0x26f380=!(0x190d+-0x3*-0x5c1+-0x2a4f*0x1),_0x470e59=!(-0xfa2+-0x528+-0x14cb*-0x1);for(const _0x35554c in _0x3e4f3a)_0x3e4f3a['hasOwnProp'+'erty'](_0x35554c)&&(_0x3e4f3a[_0x35554c]['constructo'+'r']===Ri?_0x470e59=!(-0x1*0x18e5+0x2485*-0x1+-0x1eb5*-0x2):_0x26f380=!(0x207a+-0x1941+0x2b*-0x2b));const _0x1d5d85=_0x28f246['getGraph']();_0x26f380?(this['fromSkel']=new $d(_0x1d5d85),this['toSkel']=new $d(_0x1d5d85),this['skeleton']=new $d(_0x1d5d85),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x1d5d85)):_0x470e59&&(this['animEvalua'+'tor']=new j0(new Ji(this['entity'])));}['loadAnimat'+'ionAssets'](_0x538433){if(!_0x538433||!_0x538433['length'])return;const _0x131617=this['system']['app']['assets'],_0x37b532=_0x1ad75a=>{if(_0x1ad75a['resources']['length']>0xb*0x26b+-0xe46+-0x629*0x2){for(let _0x4d0d06=-0x52e*-0x1+-0xd81*-0x2+-0x14*0x19c;_0x4d0d06<_0x1ad75a['resources']['length'];_0x4d0d06++)this['animations'][_0x1ad75a['resources'][_0x4d0d06]['name']]=_0x1ad75a['resources'][_0x4d0d06],this['animations'+'Index'][_0x1ad75a['id']]=_0x1ad75a['resources'][_0x4d0d06]['name'];}else this['animations'][_0x1ad75a['name']]=_0x1ad75a['resource'],this['animations'+'Index'][_0x1ad75a['id']]=_0x1ad75a['name'];this['animations']=this['animations'];},_0x4e4bd9=_0x4cf003=>{_0x4cf003['off']('change',this['onAssetCha'+'nged'],this),_0x4cf003['on']('change',this['onAssetCha'+'nged'],this),_0x4cf003['off']('remove',this['onAssetRem'+'oved'],this),_0x4cf003['on']('remove',this['onAssetRem'+'oved'],this),_0x4cf003['resource']?_0x37b532(_0x4cf003):(_0x4cf003['once']('load',_0x37b532,this),this['enabled']&&this['entity']['enabled']&&_0x131617['load'](_0x4cf003));};for(let _0x47922f=-0x1473+-0x20b7+0x1a95*0x2,_0x4ec00f=_0x538433['length'];_0x47922f<_0x4ec00f;_0x47922f++){const _0x248697=_0x131617['get'](_0x538433[_0x47922f]);_0x248697?_0x4e4bd9(_0x248697):_0x131617['on']('add:'+_0x538433[_0x47922f],_0x4e4bd9);}}['onAssetCha'+'nged'](_0x21947f,_0x2282b8,_0x5ded5b,_0x4d2c0c){if(_0x2282b8==='resource'||_0x2282b8==='resources'){if(_0x2282b8==='resources'&&_0x5ded5b&&_0x5ded5b['length']===0xdc5+-0x4f1+-0x235*0x4&&(_0x5ded5b=null),_0x5ded5b){let _0x13fbe9=!(-0x1*0xbca+0x8*-0x110+0x144b);if(_0x5ded5b['length']>-0xfcf+0x2e*-0x1c+-0x3a*-0x5c){if(_0x4d2c0c&&_0x4d2c0c['length']>-0xb*-0x7+0x4*-0x787+-0x8*-0x3ba){for(let _0x34c010=-0x139*-0x1+-0x2512+-0x17*-0x18f;_0x34c010<_0x4d2c0c['length'];_0x34c010++)delete this['animations'][_0x4d2c0c[_0x34c010]['name']];}else delete this['animations'][_0x21947f['name']];_0x13fbe9=!(0x63d*0x5+0x6a3+-0x1a5*0x17);for(let _0x4c9421=0x355*0x7+0x111a+0x286d*-0x1;_0x4c9421<_0x5ded5b['length'];_0x4c9421++)this['animations'][_0x5ded5b[_0x4c9421]['name']]=_0x5ded5b[_0x4c9421],!_0x13fbe9&&this['currAnim']===_0x5ded5b[_0x4c9421]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x13fbe9=!(0x1a*0xe9+-0x11d1+-0x5d9),this['play'](_0x5ded5b[_0x4c9421]['name']));_0x13fbe9||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x4d2c0c&&_0x4d2c0c['length']>0x1afb+-0x1*-0x15a7+0x1*-0x30a1){for(let _0x2ebcc7=0x216a+0x1*0x1129+-0x3293;_0x2ebcc7<_0x4d2c0c['length'];_0x2ebcc7++)delete this['animations'][_0x4d2c0c[_0x2ebcc7]['name']];}this['animations'][_0x21947f['name']]=_0x5ded5b[0x3*0x419+0x4e1*-0x3+0x32*0xc]||_0x5ded5b,_0x13fbe9=!(0xd61+-0x1*-0x3d1+0x1131*-0x1),this['currAnim']===_0x21947f['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x13fbe9=!(0x1*0x1fbb+0x157f+-0x353a),this['play'](_0x21947f['name'])),_0x13fbe9||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x21947f['id']]=_0x21947f['name'];}else{if(_0x4d2c0c['length']>-0x1fb5*-0x1+-0x45e+-0x1b56){for(let _0x533053=-0x5*-0x283+0x946+-0x15d5;_0x533053<_0x4d2c0c['length'];_0x533053++)delete this['animations'][_0x4d2c0c[_0x533053]['name']],this['currAnim']===_0x4d2c0c[_0x533053]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x21947f['name']],this['currAnim']===_0x21947f['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x21947f['id']];}}}['onAssetRem'+'oved'](_0xaf2b71){if(_0xaf2b71['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0xaf2b71['resources']['length']>-0x1982+0x1*0x201d+-0x41*0x1a){for(let _0xca3213=0x1abc+-0x23a3+0x8e7;_0xca3213<_0xaf2b71['resources']['length'];_0xca3213++)delete this['animations'][_0xaf2b71['resources'][_0xca3213]['name']],this['currAnim']===_0xaf2b71['resources'][_0xca3213]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0xaf2b71['name']],this['currAnim']===_0xaf2b71['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0xaf2b71['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x18de+-0x2b*0xc+0x1ae3),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x1a41+-0x962+-0x10df,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x32c985=0x9*0x265+-0x2c*-0x92+-0x2ea5;_0x32c985<this['animEvalua'+'tor']['clips']['length'];++_0x32c985)this['animEvalua'+'tor']['clips'][_0x32c985]['stop']();this['animEvalua'+'tor']['update'](0x19*0x3e+-0x19cd+0x13bf),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x2b578e=this['assets'],_0xd682b3=this['system']['app']['assets'];if(_0x2b578e)for(let _0x2db273=-0x6c6+-0x56d+0xc33,_0x7740f3=_0x2b578e['length'];_0x2db273<_0x7740f3;_0x2db273++){let _0x378daf=_0x2b578e[_0x2db273];_0x378daf instanceof le||(_0x378daf=_0xd682b3['get'](_0x378daf)),_0x378daf&&!_0x378daf['resource']&&_0xd682b3['load'](_0x378daf);}if(this['activate']&&!this['currAnim']){const _0x52f1e4=Object['keys'](this['animations']);_0x52f1e4['length']>0x196d+-0x1*-0x2c2+0x5*-0x5a3&&this['play'](_0x52f1e4[0x1*-0x56f+-0x5e*-0x5f+-0x9d1*0x3]);}}['onBeforeRe'+'move'](){for(let _0x4e8963=0x1d02+-0x425+-0x18dd;_0x4e8963<this['assets']['length'];_0x4e8963++){let _0x21587a=this['assets'][_0x4e8963];typeof _0x21587a=='number'&&(_0x21587a=this['system']['app']['assets']['get'](_0x21587a)),_0x21587a&&(_0x21587a['off']('change',this['onAssetCha'+'nged'],this),_0x21587a['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x12a9bc){if(this['blending']&&(this['blend']+=_0x12a9bc*this['blendSpeed'],this['blend']>=0x1*-0x62+0x214a*-0x1+0x21ad*0x1&&(this['blend']=0x508*-0x6+-0x1*-0x2af+-0x1f7*-0xe)),this['playing']){const _0x543343=this['skeleton'];if(_0x543343!==null&&this['model']!==null){if(this['blending'])_0x543343['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x4cb7a0=_0x12a9bc*this['speed'];_0x543343['addTime'](_0x4cb7a0),this['speed']>0x140f+-0x1e99+0xa8a&&_0x543343['_time']===_0x543343['animation']['duration']&&!this['loop']?this['playing']=!(0x816+-0x1*0xa5b+0x246):this['speed']<-0x22e0+0x10a2*-0x2+0x59*0xc4&&_0x543343['_time']===0x1+0x1814+0x3*-0x807&&!this['loop']&&(this['playing']=!(-0x14c*-0xf+0x1d75*-0x1+0xa02));}this['blending']&&this['blend']===-0x1d7d*0x1+-0xbb9+0x2937&&(_0x543343['animation']=this['toSkel']['animation']),_0x543343['updateGrap'+'h']();}}const _0x57f1cb=this['animEvalua'+'tor'];if(_0x57f1cb){for(let _0x28706d=-0x12c4*-0x2+-0x1*-0x43f+-0x159*0x1f;_0x28706d<_0x57f1cb['clips']['length'];++_0x28706d){const _0x556d46=_0x57f1cb['clips'][_0x28706d];_0x556d46['speed']=this['speed'],this['playing']?_0x556d46['resume']():_0x556d46['pause']();}this['blending']&&_0x57f1cb['clips']['length']>0x8f4+0xef6*0x1+-0x17e9*0x1&&(_0x57f1cb['clips'][-0xa2*0x1f+0x2504+-0x1165]['blendWeigh'+'t']=this['blend']),_0x57f1cb['update'](_0x12a9bc);}this['blending']&&this['blend']===0x288*-0x1+-0x357+0x5e0&&(this['blending']=!(0x181a+0x2038+0xd*-0x455));}}class zP{constructor(){this['enabled']=!(0x199b+0x1c47+-0x35e2);}}const Qu=['enabled'];class UP extends Xe{constructor(_0x35dda4){super(_0x35dda4),this['id']='animation',this['ComponentT'+'ype']=K0,this['DataType']=zP,this['schema']=Qu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x1b7d78,_0x5305e4,_0x4ecde7){_0x4ecde7=['activate','enabled','loop','speed','assets'];for(const _0x2926cf of _0x4ecde7)_0x5305e4['hasOwnProp'+'erty'](_0x2926cf)&&(_0x1b7d78[_0x2926cf]=_0x5305e4[_0x2926cf]);super['initialize'+'ComponentD'+'ata'](_0x1b7d78,_0x5305e4,Qu);}['cloneCompo'+'nent'](_0x3477be,_0x52e40f){this['addCompone'+'nt'](_0x52e40f,{}),_0x52e40f['animation']['assets']=_0x3477be['animation']['assets']['slice'](),_0x52e40f['animation']['speed']=_0x3477be['animation']['speed'],_0x52e40f['animation']['loop']=_0x3477be['animation']['loop'],_0x52e40f['animation']['activate']=_0x3477be['animation']['activate'],_0x52e40f['animation']['enabled']=_0x3477be['animation']['enabled'];const _0x509c67={},_0x1d1fa3=_0x3477be['animation']['animations'];for(const _0x32e19f in _0x1d1fa3)_0x1d1fa3['hasOwnProp'+'erty'](_0x32e19f)&&(_0x509c67[_0x32e19f]=_0x1d1fa3[_0x32e19f]);_0x52e40f['animation']['animations']=_0x509c67;const _0x51f63e={},_0x25b6e1=_0x3477be['animation']['animations'+'Index'];for(const _0x621349 in _0x25b6e1)_0x25b6e1['hasOwnProp'+'erty'](_0x621349)&&(_0x51f63e[_0x621349]=_0x25b6e1[_0x621349]);return _0x52e40f['animation']['animations'+'Index']=_0x51f63e,_0x52e40f['animation'];}['onBeforeRe'+'move'](_0xa1f581,_0x954fe1){_0x954fe1['onBeforeRe'+'move']();}['onUpdate'](_0x24fe80){const _0x3b1d74=this['store'];for(const _0xd22df3 in _0x3b1d74)if(_0x3b1d74['hasOwnProp'+'erty'](_0xd22df3)){const _0x4aa3fc=_0x3b1d74[_0xd22df3];_0x4aa3fc['data']['enabled']&&_0x4aa3fc['entity']['enabled']&&_0x4aa3fc['entity']['animation']['update'](_0x24fe80);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](K0['prototype'],Qu);class Uo{constructor(_0x354276,_0x269838,_0x2916cf,_0x37469b,_0x13587c=-0x1be1+-0x13e3+-0x7*-0x6d3){this['_state']=_0x354276,this['_parent']=_0x269838,this['_name']=_0x2916cf,Array['isArray'](_0x37469b)?(this['_point']=new $(_0x37469b[0xfb9+0x7*-0x4bf+0x230*0x8],_0x37469b[-0x111e+-0x961+-0x350*-0x8]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x37469b,this['_pointLeng'+'th']=_0x37469b),this['_speed']=_0x13587c,this['_weightedS'+'peed']=0x309+0x181b+-0x1*0x1b23,this['_weight']=0x2689+-0xa78+-0x2*0xe08,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x473313){this['_weight']=_0x473313;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x25e96c=this['_state']['totalWeigh'+'t'];return _0x25e96c===-0x2dd*0x1+-0x26c6+0x29a3?-0x458+0x1cc0+0x58*-0x47:this['weight']/_0x25e96c;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x501964){this['_weightedS'+'peed']=_0x501964;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x42c691){this['_animTrack']=_0x42c691;}get['animTrack'](){return this['_animTrack'];}}class Ba extends Uo{constructor(_0x5b2db7,_0x574e7b,_0x2b6f94,_0x518d85,_0x580b37,_0x341470,_0xa2307b,_0x17bdeb,_0x17acbb){super(_0x5b2db7,_0x574e7b,_0x2b6f94,_0x518d85),this['_parameter'+'s']=_0x580b37,this['_parameter'+'Values']=new Array(_0x580b37['length']),this['_children']=[],this['_findParam'+'eter']=_0x17acbb,this['_syncAnima'+'tions']=_0xa2307b!==!(0x1a2a+-0x5e*0xa+-0x65*0x39),this['_pointCach'+'e']={};for(let _0x423608=0x4d*-0x75+-0x3*-0x463+0x8*0x2c1;_0x423608<_0x341470['length'];_0x423608++){const _0xf36dd9=_0x341470[_0x423608];_0xf36dd9['children']?this['_children']['push'](_0x17bdeb(_0xf36dd9['type'],_0x5b2db7,this,_0xf36dd9['name'],0x12f1*-0x1+-0xe29+0x211b,_0xf36dd9['parameter']?[_0xf36dd9['parameter']]:_0xf36dd9['parameters'],_0xf36dd9['children'],_0xf36dd9['syncAnimat'+'ions'],_0x17bdeb,_0x17acbb)):this['_children']['push'](new Uo(_0x5b2db7,this,_0xf36dd9['name'],_0xf36dd9['point'],_0xf36dd9['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x57aedb){for(let _0x1637be=-0x1131+-0x23eb+0x351c;_0x1637be<this['_children']['length'];_0x1637be++)if(this['_children'][_0x1637be]['name']===_0x57aedb)return this['_children'][_0x1637be];return null;}['updatePara'+'meterValue'+'s'](){let _0x2153c0=!(0x1333+-0x1f7a+0xc47*0x1);for(let _0x5a1bd=-0x21e*0x2+-0x19b3+0x1def;_0x5a1bd<this['_parameter'+'Values']['length'];_0x5a1bd++){const _0x16f2e1=this['_findParam'+'eter'](this['_parameter'+'s'][_0x5a1bd])['value'];this['_parameter'+'Values'][_0x5a1bd]!==_0x16f2e1&&(this['_parameter'+'Values'][_0x5a1bd]=_0x16f2e1,_0x2153c0=!(-0x1*0x225+-0x1156+0x1d*0xac));}return _0x2153c0;}['getNodeWei'+'ghtedDurat'+'ion'](_0x1eda3d){return this['_children'][_0x1eda3d]['animTrack']['duration']/this['_children'][_0x1eda3d]['speedMulti'+'plier']*this['_children'][_0x1eda3d]['weight'];}['getNodeCou'+'nt'](){let _0x16f223=0x3*-0x5c9+-0x552*-0x6+-0xe91;for(let _0x5b8a76=0x15*0x18c+0x2612+-0x468e;_0x5b8a76<this['_children']['length'];_0x5b8a76++)this['_children'][_0x5b8a76]['constructo'+'r']===Ba?_0x16f223+=this['_children'][_0x5b8a76]['getNodeCou'+'nt']():_0x16f223++;return _0x16f223;}}class VP extends Ba{constructor(_0x54209a,_0xdb43a9,_0x3b3687,_0x441d31,_0x47b7e9,_0x1d56c1,_0x5e3cd8,_0x37340a,_0x82bd71){_0x1d56c1['sort']((_0xe04342,_0x305a90)=>_0xe04342['point']-_0x305a90['point']),super(_0x54209a,_0xdb43a9,_0x3b3687,_0x441d31,_0x47b7e9,_0x1d56c1,_0x5e3cd8,_0x37340a,_0x82bd71);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x2374fd=-0x2709*0x1+0x2251+0x4b8;this['_children'][-0x1afd+-0x1*-0x149f+0x65e]['weight']=0xfbf*0x2+0x8c5+-0x2843;for(let _0x30c2ee=-0x1cec+0xac+0xe2*0x20;_0x30c2ee<this['_children']['length'];_0x30c2ee++){const _0x5c5df9=this['_children'][_0x30c2ee];if(_0x30c2ee!==this['_children']['length']-(-0x1a*0x16+-0xae3+-0x3c*-0x38)){const _0x324062=this['_children'][_0x30c2ee+(0x1f4a+0xa0+-0x1fe9)];if(_0x5c5df9['point']===_0x324062['point'])_0x5c5df9['weight']=0xd93+0x1ae*0x17+0xf3*-0x37+0.5,_0x324062['weight']=-0x3d3*-0x3+-0x2f*-0x45+-0x1824+0.5;else{if(N['between'](this['_parameter'+'Values'][0xb15+0xa49*0x1+0x5*-0x446],_0x5c5df9['point'],_0x324062['point'],!(0xb10+0x4c3+-0xfd3))){const _0x24ee85=Math['abs'](_0x5c5df9['point']-_0x324062['point']),_0x5de2a6=Math['abs'](_0x5c5df9['point']-this['_parameter'+'Values'][0x142b+0x4b2*-0x1+0xe9*-0x11]),_0xc1b2f1=(_0x24ee85-_0x5de2a6)/_0x24ee85;_0x5c5df9['weight']=_0xc1b2f1,_0x324062['weight']=-0x17*0xcb+0x9*-0x277+0x286d-_0xc1b2f1;}else _0x324062['weight']=0x132d*-0x1+0x77*0x43+-0xbf8;}}this['_syncAnima'+'tions']&&(_0x2374fd+=_0x5c5df9['animTrack']['duration']/_0x5c5df9['absoluteSp'+'eed']*_0x5c5df9['weight']);}if(this['_syncAnima'+'tions'])for(let _0x30ce61=-0x15e1+-0x1f98+-0x1fb*-0x1b;_0x30ce61<this['_children']['length'];_0x30ce61++){const _0x547c5a=this['_children'][_0x30ce61];_0x547c5a['weightedSp'+'eed']=_0x547c5a['animTrack']['duration']/_0x547c5a['absoluteSp'+'eed']/_0x2374fd;}}}const gi=class gi extends Ba{['pointDista'+'nceCache'](_0x3fbd70,_0xab3190){const _0x1ef4ea=''+_0x3fbd70+_0xab3190;return this['_pointCach'+'e'][_0x1ef4ea]||(this['_pointCach'+'e'][_0x1ef4ea]=this['_children'][_0xab3190]['point']['clone']()['sub'](this['_children'][_0x3fbd70]['point'])),this['_pointCach'+'e'][_0x1ef4ea];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x8dc61d,_0x691252;gi['_p']['set'](...this['_parameter'+'Values']),_0x8dc61d=-0x753+-0x2da+-0x5*-0x209,_0x691252=-0x1205+0x15d5+-0x10*0x3d;for(let _0x157ec8=-0x1*-0x1e76+0xae1+-0x1*0x2957;_0x157ec8<this['_children']['length'];_0x157ec8++){const _0x2453db=this['_children'][_0x157ec8],_0x29939a=_0x2453db['point'];gi['_pip']['set'](gi['_p']['x'],gi['_p']['y'])['sub'](_0x29939a);let _0x1f474d=Number['MAX_VALUE'];for(let _0x106aa6=0x1b04+0x1084*-0x1+-0xa80;_0x106aa6<this['_children']['length'];_0x106aa6++){if(_0x157ec8===_0x106aa6)continue;const _0x2a8d27=this['pointDista'+'nceCache'](_0x157ec8,_0x106aa6),_0x4582f6=N['clamp'](-0x1e28+-0x12ee+0x3117-gi['_pip']['dot'](_0x2a8d27)/_0x2a8d27['lengthSq'](),-0x1bc*-0x1+-0x174d+0x1591*0x1,0x2352+0xcb2+-0x3003);_0x4582f6<_0x1f474d&&(_0x1f474d=_0x4582f6);}_0x2453db['weight']=_0x1f474d,_0x8dc61d+=_0x1f474d,this['_syncAnima'+'tions']&&(_0x691252+=_0x2453db['animTrack']['duration']/_0x2453db['absoluteSp'+'eed']*_0x2453db['weight']);}for(let _0xd34e3=-0x49b+-0x1*-0x1a38+-0x159d;_0xd34e3<this['_children']['length'];_0xd34e3++){const _0x40e7d1=this['_children'][_0xd34e3];_0x40e7d1['weight']=_0x40e7d1['_weight']/_0x8dc61d,this['_syncAnima'+'tions']&&(_0x40e7d1['weightedSp'+'eed']=_0x40e7d1['animTrack']['duration']/_0x40e7d1['absoluteSp'+'eed']/_0x691252);}}};c(gi,'_p',new $()),c(gi,'_pip',new $());let Ju=gi;const yi=class yi extends Ba{['pointCache'](_0x4c160e,_0x4c66cd){const _0x9a4ca0=''+_0x4c160e+_0x4c66cd;return this['_pointCach'+'e'][_0x9a4ca0]||(this['_pointCach'+'e'][_0x9a4ca0]=new $((this['_children'][_0x4c66cd]['pointLengt'+'h']-this['_children'][_0x4c160e]['pointLengt'+'h'])/((this['_children'][_0x4c66cd]['pointLengt'+'h']+this['_children'][_0x4c160e]['pointLengt'+'h'])/(-0x1*-0x223+0x12bc+-0x14dd)),$['angleRad'](this['_children'][_0x4c160e]['point'],this['_children'][_0x4c66cd]['point'])*(0x1ee*0xf+0x98c+0x2*-0x133e))),this['_pointCach'+'e'][_0x9a4ca0];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x41d2e7,_0x159e03;yi['_p']['set'](...this['_parameter'+'Values']);const _0x2eff55=yi['_p']['length']();_0x41d2e7=-0x13ab+-0x1cfc+-0x30a7*-0x1,_0x159e03=-0x2*0x678+0xe6+-0x86*-0x17;for(let _0x373347=0x256f+0xb8b+-0x30fa;_0x373347<this['_children']['length'];_0x373347++){const _0x369685=this['_children'][_0x373347],_0x5d2103=_0x369685['point'],_0x82b3d6=_0x369685['pointLengt'+'h'];let _0x1cf0e9=Number['MAX_VALUE'];for(let _0x4d1751=0x1d40+-0x4*-0x4c7+-0x5*0x9ac;_0x4d1751<this['_children']['length'];_0x4d1751++){if(_0x373347===_0x4d1751)continue;const _0x3dbdf3=this['pointCache'](_0x373347,_0x4d1751),_0x4186dd=this['_children'][_0x4d1751]['pointLengt'+'h'];yi['_pip']['set']((_0x2eff55-_0x82b3d6)/((_0x4186dd+_0x82b3d6)/(-0x7*-0x54f+0x11*0x1a6+-0x412d)),$['angleRad'](_0x5d2103,yi['_p'])*(-0x11c*0x22+-0xe5*-0xd+0x1a19));const _0x3e0242=N['clamp'](-0x114b+-0x2de*0x7+0x1*0x255e-Math['abs'](yi['_pip']['dot'](_0x3dbdf3)/_0x3dbdf3['lengthSq']()),-0x22da+-0x1b47+-0x1*-0x3e21,-0x303*-0xc+0x1c9f+-0x40c2*0x1);_0x3e0242<_0x1cf0e9&&(_0x1cf0e9=_0x3e0242);}_0x369685['weight']=_0x1cf0e9,_0x41d2e7+=_0x1cf0e9,this['_syncAnima'+'tions']&&(_0x159e03+=_0x369685['animTrack']['duration']/_0x369685['absoluteSp'+'eed']*_0x369685['weight']);}for(let _0x3e5211=0x11bc+0x502*0x1+0x2*-0xb5f;_0x3e5211<this['_children']['length'];_0x3e5211++){const _0x2914c2=this['_children'][_0x3e5211];if(_0x2914c2['weight']=_0x2914c2['_weight']/_0x41d2e7,this['_syncAnima'+'tions']){const _0x1bbcc0=_0x2914c2['animTrack']['duration']/_0x159e03*_0x41d2e7;_0x2914c2['weightedSp'+'eed']=_0x2914c2['absoluteSp'+'eed']*_0x1bbcc0;}}}};c(yi,'_p',new $()),c(yi,'_pip',new $());let ef=yi;class GP extends Ba{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x1d06e9=0x9d*0x1f+0x181f+-0x2b22,_0x50556b=-0x7d2+0x94f*-0x3+0x23bf;for(let _0x55828a=-0x20ef*0x1+-0x766+-0x5c3*-0x7;_0x55828a<this['_children']['length'];_0x55828a++)if(_0x1d06e9+=Math['max'](this['_parameter'+'Values'][_0x55828a],0x1baa+-0x110+0x6*-0x46f),this['_syncAnima'+'tions']){const _0x3fbb2e=this['_children'][_0x55828a];_0x50556b+=_0x3fbb2e['animTrack']['duration']/_0x3fbb2e['absoluteSp'+'eed']*_0x3fbb2e['weight'];}for(let _0x131342=-0x9aa+-0xa9*-0x7+0x50b*0x1;_0x131342<this['_children']['length'];_0x131342++){const _0x4daab9=this['_children'][_0x131342],_0x1e66ba=Math['max'](this['_parameter'+'Values'][_0x131342],-0x1*-0x1253+0xa*0x3bc+0x1*-0x37ab);_0x1d06e9?(_0x4daab9['weight']=_0x1e66ba/_0x1d06e9,this['_syncAnima'+'tions']&&(_0x4daab9['weightedSp'+'eed']=_0x4daab9['animTrack']['duration']/_0x4daab9['absoluteSp'+'eed']/_0x50556b)):(_0x4daab9['weight']=0x1b4*0x8+-0x1*-0x2619+-0x33b9,this['_syncAnima'+'tions']&&(_0x4daab9['weightedSp'+'eed']=-0x1065*-0x1+0x1cfc+-0x2d61));}}}class eg{constructor(_0x24d786,_0x2b72ef,_0x32fc3d=-0x1*0x1256+0xd8d*-0x1+0x1fe4,_0x8b9c20=!(-0x82e+-0x2*0x6a7+0x157c),_0x18eb10){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x24d786,this['_name']=_0x2b72ef,this['_speed']=_0x32fc3d,this['_loop']=_0x8b9c20,this['_hasAnimat'+'ions']=!(-0xcc1*0x2+-0x233c+0x3cbf),_0x18eb10?this['_blendTree']=this['_createTre'+'e'](_0x18eb10['type'],this,null,_0x2b72ef,-0x1930+0x6*0x293+0x9bf,_0x18eb10['parameter']?[_0x18eb10['parameter']]:_0x18eb10['parameters'],_0x18eb10['children'],_0x18eb10['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Uo(this,null,_0x2b72ef,0x2e3+-0x78*0x10+0x49e,_0x32fc3d));}['_createTre'+'e'](_0x5c0a11,_0x514b7f,_0x2947d4,_0x25daf0,_0x206c4e,_0x2636f3,_0x185db0,_0x31cdcd,_0x3744b5,_0x579d33){switch(_0x5c0a11){case FP:return new VP(_0x514b7f,_0x2947d4,_0x25daf0,_0x206c4e,_0x2636f3,_0x185db0,_0x31cdcd,_0x3744b5,_0x579d33);case kP:return new Ju(_0x514b7f,_0x2947d4,_0x25daf0,_0x206c4e,_0x2636f3,_0x185db0,_0x31cdcd,_0x3744b5,_0x579d33);case OP:return new ef(_0x514b7f,_0x2947d4,_0x25daf0,_0x206c4e,_0x2636f3,_0x185db0,_0x31cdcd,_0x3744b5,_0x579d33);case BP:return new GP(_0x514b7f,_0x2947d4,_0x25daf0,_0x206c4e,_0x2636f3,_0x185db0,_0x31cdcd,_0x3744b5,_0x579d33);}v['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x5c0a11);}['_getNodeFr'+'omPath'](_0x22318d){let _0x59500d=this['_blendTree'];for(let _0xac6b01=-0x1*-0xa8b+-0x436+-0x654;_0xac6b01<_0x22318d['length'];_0xac6b01++)_0x59500d=_0x59500d['getChild'](_0x22318d[_0xac6b01]);return _0x59500d;}['addAnimati'+'on'](_0x296916,_0x1c329e){const _0x4020d8=_0x296916['join']('.'),_0x6a4466=this['_animation'+'List']['findIndex'](_0x2c0fec=>_0x2c0fec['path']===_0x4020d8);if(_0x6a4466>=-0x2*-0xb89+-0x1d*0xd3+-0xd5*-0x1)this['_animation'+'List'][_0x6a4466]['animTrack']=_0x1c329e;else{const _0x4391b9=this['_getNodeFr'+'omPath'](_0x296916);_0x4391b9['animTrack']=_0x1c329e,this['_animation'+'List']['push'](_0x4391b9);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0xd87+-0x1*0x251b+0x32a2&&this['_animation'+'List']['every'](_0x4968d1=>_0x4968d1['animTrack']&&_0x4968d1['animTrack']!==Ri['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x5b355d){this['_animation'+'List']=_0x5b355d,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0xc285b2){this['_speed']=_0xc285b2;}get['speed'](){return this['_speed'];}set['loop'](_0x32889f){this['_loop']=_0x32889f;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Uo?-0x3d*0x6+-0xa2a+0xb99*0x1:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return jh['indexOf'](this['name'])!==-(0x1238+0x154a+-0xd2b*0x3)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x1*0xc11+-0x5*0x16f+0x133c*0x1){const _0x3113fb=this['name']+'.'+this['animations'][0x139*-0xd+-0x1*-0x1e53+-0xe6e]['animTrack']['name'],_0x12e28c=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x3113fb);if(_0x12e28c)return _0x12e28c['loop'];}return!(-0x102b*0x2+0x243e+0x1*-0x3e7);}get['totalWeigh'+'t'](){let _0xf494cc=-0x2a*0xc6+-0x26af+0x472b;for(let _0x378942=0xb4*-0x25+-0x88f+0x35*0xa7;_0x378942<this['animations']['length'];_0x378942++)_0xf494cc+=this['animations'][_0x378942]['weight'];return _0xf494cc;}get['timelineDu'+'ration'](){let _0x2e0a14=-0x83f*0x2+0x7a4+0x67*0x16;for(let _0x276dca=-0x1163+-0x20db+0x323e;_0x276dca<this['animations']['length'];_0x276dca++){const _0x5e39e5=this['animations'][_0x276dca];_0x5e39e5['animTrack']['duration']>_0x2e0a14&&(_0x2e0a14=_0x5e39e5['animTrack']['duration']);}return _0x2e0a14;}}class Yh{constructor({from:_0x353706,to:_0x470194,time:_0x519ebe=-0x1*-0x69+0x97d*-0x3+-0x402*-0x7,priority:_0x363a7f=-0x1*0x3df+0x10da+-0xcfb,conditions:_0x440282=[],exitTime:_0x193a2b=null,transitionOffset:_0x19cd30=null,interruptionSource:_0x53cda2=q0}){this['_from']=_0x353706,this['_to']=_0x470194,this['_time']=_0x519ebe,this['_priority']=_0x363a7f,this['_condition'+'s']=_0x440282,this['_exitTime']=_0x193a2b,this['_transitio'+'nOffset']=_0x19cd30,this['_interrupt'+'ionSource']=_0x53cda2;}get['from'](){return this['_from'];}set['to'](_0x347704){this['_to']=_0x347704;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class HP{constructor(_0x59d7ba,_0x5d0aac,_0xc316a7,_0x15788a,_0x40585e,_0x22b1d4,_0x63b9c2){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',oo),c(this,'_activeSta'+'teDuration',-0x24de+0x1984+0xb5a*0x1),c(this,'_activeSta'+'teDuration'+'Dirty',!(0x137*-0x1f+-0x1c98+0x4241*0x1)),c(this,'_playing',!(0x1*0xcdf+-0x44+-0xc9a)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',-0x10dd+-0x1*-0x21d1+-0x1*0x10f3),c(this,'_totalTran'+'sitionTime',0xd4*-0x1e+0x1db0+-0x4d7),c(this,'_isTransit'+'ioning',!(0x8f1+0x4*-0x431+0x7d4)),c(this,'_transitio'+'nInterrupt'+'ionSource',q0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',0x44+-0x1e*-0x7d+-0xeea),c(this,'_timeInSta'+'teBefore',0x1*-0xe33+0x1688+-0x855*0x1),c(this,'findParame'+'ter',_0x161eb3=>this['_findParam'+'eter'](_0x161eb3)),(this['_animEvalu'+'ator']=_0x59d7ba,this['_eventHand'+'ler']=_0x40585e,this['_findParam'+'eter']=_0x22b1d4,this['_consumeTr'+'igger']=_0x63b9c2);for(let _0x3ce431=-0x1*-0x3e0+0xf4*-0xf+0x1d*0x5c;_0x3ce431<_0x5d0aac['length'];_0x3ce431++)this['_states'][_0x5d0aac[_0x3ce431]['name']]=new eg(this,_0x5d0aac[_0x3ce431]['name'],_0x5d0aac[_0x3ce431]['speed'],_0x5d0aac[_0x3ce431]['loop'],_0x5d0aac[_0x3ce431]['blendTree']),this['_stateName'+'s']['push'](_0x5d0aac[_0x3ce431]['name']);this['_transitio'+'ns']=_0xc316a7['map'](_0x188941=>new Yh({..._0x188941})),this['_activate']=_0x15788a;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0xf5592){this['_activeSta'+'teName']=_0xf5592;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x49ad7a){this['_previousS'+'tateName']=_0x49ad7a;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x37694e=!(0x275+-0xb73+-0x47f*-0x2);for(let _0x3df837=0x1a1c+0x113b*-0x2+-0x1*-0x85a;_0x3df837<this['_stateName'+'s']['length'];_0x3df837++)this['_states'][this['_stateName'+'s'][_0x3df837]]['playable']||(_0x37694e=!(-0x2626+-0x222f+0x4856));return _0x37694e;}set['playing'](_0x17e35a){this['_playing']=_0x17e35a;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x1c533c=0x1eae+0x22ef+-0x419d;for(let _0x27d9cb=0x2*0x521+0x7*-0xa9+-0x5a3;_0x27d9cb<this['activeStat'+'eAnimation'+'s']['length'];_0x27d9cb++){const _0x4529de=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x27d9cb]['name']);_0x4529de&&(_0x1c533c=Math['max'](_0x1c533c,_0x4529de['track']['duration']));}this['_activeSta'+'teDuration']=_0x1c533c,this['_activeSta'+'teDuration'+'Dirty']=!(0x57d*-0x6+-0xa9*0x29+0x4*0xf00);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x429f2f){this['_timeInSta'+'teBefore']=_0x429f2f,this['_timeInSta'+'te']=_0x429f2f;for(let _0x306236=-0x4e2+-0xdc+0x1e*0x31;_0x306236<this['activeStat'+'eAnimation'+'s']['length'];_0x306236++){const _0x320c9f=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x306236]['name']);_0x320c9f&&(_0x320c9f['time']=_0x429f2f);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x4c84cf){return this['_animEvalu'+'ator']['assignMask'](_0x4c84cf);}['_findState'](_0x266252){return this['_states'][_0x266252];}['_getActive'+'StateProgr'+'essForTime'](_0x1d7f61){if(this['activeStat'+'eName']===oo||this['activeStat'+'eName']===Ku||this['activeStat'+'eName']===Or)return 0x7aa+0xb14+-0x215*0x9;const _0x18c858=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x3*-0x6a3+-0x2*-0x959+-0x269b]['name']);return _0x18c858?_0x18c858['progressFo'+'rTime'](_0x1d7f61):null;}['_findTrans'+'itionsFrom'+'State'](_0x178c4c){let _0x1a9309=this['_findTrans'+'itionsFrom'+'StateCache'][_0x178c4c];return _0x1a9309||(_0x1a9309=this['_transitio'+'ns']['filter'](_0x5b9ab6=>_0x5b9ab6['from']===_0x178c4c),No(_0x1a9309),this['_findTrans'+'itionsFrom'+'StateCache'][_0x178c4c]=_0x1a9309),_0x1a9309;}['_findTrans'+'itionsBetw'+'eenStates'](_0x39cef7,_0x15c295){let _0x55fefb=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x39cef7+'->'+_0x15c295];return _0x55fefb||(_0x55fefb=this['_transitio'+'ns']['filter'](_0x1477a8=>_0x1477a8['from']===_0x39cef7&&_0x1477a8['to']===_0x15c295),No(_0x55fefb),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x39cef7+'->'+_0x15c295]=_0x55fefb),_0x55fefb;}['_transitio'+'nHasCondit'+'ionsMet'](_0x3671c5){const _0x15ff59=_0x3671c5['conditions'];for(let _0x113784=-0xb*-0x131+0x1*0x21cb+0x29b*-0x12;_0x113784<_0x15ff59['length'];_0x113784++){const _0x13232c=_0x15ff59[_0x113784],_0x44a2f2=this['_findParam'+'eter'](_0x13232c['parameterN'+'ame']);switch(_0x13232c['predicate']){case MP:if(!(_0x44a2f2['value']>_0x13232c['value']))return!(0x18cf*0x1+0x65*-0x19+-0x33*0x4b);break;case PP:if(!(_0x44a2f2['value']<_0x13232c['value']))return!(-0x17fb+-0xe99*-0x1+0x963);break;case RP:if(!(_0x44a2f2['value']>=_0x13232c['value']))return!(0x87a+0x56b+0x2*-0x6f2);break;case IP:if(!(_0x44a2f2['value']<=_0x13232c['value']))return!(0xcd*-0x1+0x4bb+-0x3*0x14f);break;case DP:if(_0x44a2f2['value']!==_0x13232c['value'])return!(-0xdd6+-0xf5*0x16+-0x22e5*-0x1);break;case LP:if(_0x44a2f2['value']===_0x13232c['value'])return!(0x385*-0x2+0x1597+-0xe8c);break;}}return!(0x47*-0x4c+0x2242+-0xd2e);}['_findTrans'+'ition'](_0x1da4a2,_0x5b7a4f){let _0x5bbae4=[];if(_0x1da4a2&&_0x5b7a4f)_0x5bbae4=_0x5bbae4['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x1da4a2,_0x5b7a4f));else{if(!this['_isTransit'+'ioning'])_0x5bbae4=_0x5bbae4['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x5bbae4=_0x5bbae4['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case TP:_0x5bbae4=_0x5bbae4['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x5bbae4=_0x5bbae4['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case AP:_0x5bbae4=_0x5bbae4['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x5bbae4=_0x5bbae4['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0x5bbae4=_0x5bbae4['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x5bbae4=_0x5bbae4['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x5bbae4=_0x5bbae4['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0x5bbae4=_0x5bbae4['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x5bbae4=_0x5bbae4['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x5bbae4=_0x5bbae4['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0x5bbae4=_0x5bbae4['filter'](_0x553c77=>{if(_0x553c77['to']===this['activeStat'+'eName'])return!(0x71*-0x2+-0xc9+0x1ac);if(_0x553c77['hasExitTim'+'e']){let _0x3a7a5a=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x24741a=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x553c77['exitTime']<-0x2*-0x517+-0x990+-0x1*0x9d&&this['activeStat'+'e']['loop']&&(_0x3a7a5a-=Math['floor'](_0x3a7a5a),_0x24741a-=Math['floor'](_0x24741a)),_0x24741a===_0x3a7a5a){if(_0x24741a!==_0x553c77['exitTime'])return null;}else{if(!(_0x553c77['exitTime']>_0x3a7a5a&&_0x553c77['exitTime']<=_0x24741a))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x553c77);}),_0x5bbae4['length']>0x49f+-0x225+-0x27a){const _0x29d802=_0x5bbae4[-0x1d6e+-0x2*-0x9de+0x9b2];if(_0x29d802['to']===Ku){const _0x1b0cf9=this['_findTrans'+'itionsFrom'+'State'](oo)[-0x7ef+0x15ad+-0x1*0xdbe];_0x29d802['to']=_0x1b0cf9['to'];}return _0x29d802;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x4eb6bc){let _0x371a42,_0x1e495a,_0x51bb64;this['previousSt'+'ate']=_0x4eb6bc['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x4eb6bc['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x5*-0x527+-0x373+0x1d36);for(let _0xde0d68=0x1a8c+-0x2520+0xa94;_0xde0d68<_0x4eb6bc['conditions']['length'];_0xde0d68++){const _0x9ed714=_0x4eb6bc['conditions'][_0xde0d68];this['_findParam'+'eter'](_0x9ed714['parameterN'+'ame'])['type']===ph&&this['_consumeTr'+'igger'](_0x9ed714['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x544657=Math['min'](this['_totalTran'+'sitionTime']!==0x202d+0x2031+-0x202f*0x2?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x1afb+0x1056+-0x2b50,0xa*-0x316+0x3*0xccd+-0x78a);for(let _0x16282f=-0x9*0x3f5+-0x1075*0x1+0xa6a*0x5;_0x16282f<this['_transitio'+'nPreviousS'+'tates']['length'];_0x16282f++){this['_isTransit'+'ioning']?_0x16282f!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x7*-0x326+-0xd1a+-0x1*0x8ef)?this['_transitio'+'nPreviousS'+'tates'][_0x16282f]['weight']*=0x670*-0x2+0x6*-0x2d6+0x1de5-_0x544657:this['_transitio'+'nPreviousS'+'tates'][_0x16282f]['weight']=_0x544657:this['_transitio'+'nPreviousS'+'tates'][_0x16282f]['weight']=-0x2b9*0x6+-0x34+-0x37*-0x4d,_0x371a42=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x16282f]['name']);for(let _0x55287d=0x987*-0x4+-0x9+0x2625;_0x55287d<_0x371a42['animations']['length'];_0x55287d++)_0x1e495a=_0x371a42['animations'][_0x55287d],_0x51bb64=this['_animEvalu'+'ator']['findClip'](_0x1e495a['name']+'.previous.'+_0x16282f),_0x51bb64||(_0x51bb64=this['_animEvalu'+'ator']['findClip'](_0x1e495a['name']),_0x51bb64['name']=_0x1e495a['name']+'.previous.'+_0x16282f),_0x16282f!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x1*0x238+-0x23*-0xed+-0x229e)&&_0x51bb64['pause']();}}this['_isTransit'+'ioning']=!(0x1500+-0x40f+-0x1*0x10f1),this['_totalTran'+'sitionTime']=_0x4eb6bc['time'],this['_currTrans'+'itionTime']=0xfb*-0x2+0xb2f+-0x1*0x939,this['_transitio'+'nInterrupt'+'ionSource']=_0x4eb6bc['interrupti'+'onSource'];const _0x379bc6=this['activeStat'+'e'],_0x4be62d=_0x4eb6bc['transition'+'Offset']&&_0x4eb6bc['transition'+'Offset']>-0x127d+0x1e3e+-0xbc1&&_0x4eb6bc['transition'+'Offset']<0x1d90+0xa6c+-0x27fb;let _0x536fd6=-0x1b40+-0x2*-0x236+0x16d4,_0x5194e5=-0x11ce+-0x1*0x196b+0x2b39;if(_0x4be62d){const _0x281096=_0x379bc6['timelineDu'+'ration']*_0x4eb6bc['transition'+'Offset'];_0x536fd6=_0x281096,_0x5194e5=_0x281096;}this['_timeInSta'+'te']=_0x536fd6,this['_timeInSta'+'teBefore']=_0x5194e5;for(let _0x17cde7=-0x1c*0x157+-0x11e*0x17+0x383*0x12;_0x17cde7<_0x379bc6['animations']['length'];_0x17cde7++){if(_0x51bb64=this['_animEvalu'+'ator']['findClip'](_0x379bc6['animations'][_0x17cde7]['name']),_0x51bb64)_0x51bb64['reset']();else{const _0x36cdbb=Number['isFinite'](_0x379bc6['animations'][_0x17cde7]['speed'])?_0x379bc6['animations'][_0x17cde7]['speed']:_0x379bc6['speed'];_0x51bb64=new Xh(_0x379bc6['animations'][_0x17cde7]['animTrack'],this['_timeInSta'+'te'],_0x36cdbb,!(0x1f3a+-0x6f3*0x3+-0xa61),_0x379bc6['loop'],this['_eventHand'+'ler']),_0x51bb64['name']=_0x379bc6['animations'][_0x17cde7]['name'],this['_animEvalu'+'ator']['addClip'](_0x51bb64);}if(_0x4eb6bc['time']>0x8f9*-0x3+-0x116a*0x1+0x61*0x75?_0x51bb64['blendWeigh'+'t']=-0x1*0x1ef1+0xdbe*-0x1+0x4f7*0x9:_0x51bb64['blendWeigh'+'t']=_0x379bc6['animations'][_0x17cde7]['normalized'+'Weight'],_0x51bb64['play'](),_0x4be62d)_0x51bb64['time']=_0x379bc6['timelineDu'+'ration']*_0x4eb6bc['transition'+'Offset'];else{const _0x7aea0e=_0x379bc6['speed']>=0x2078+-0x1141*-0x2+-0x42fa?0x1e7d+0x192f+0x7f4*-0x7:this['activeStat'+'eDuration'];_0x51bb64['time']=_0x7aea0e;}}}['_transitio'+'nToState'](_0x38d627){if(!this['_findState'](_0x38d627))return;let _0x10109e=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x38d627);_0x10109e||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x10109e=new Yh({'from':null,'to':_0x38d627})),this['updateStat'+'eFromTrans'+'ition'](_0x10109e);}['assignAnim'+'ation'](_0x3017db,_0x86f28,_0x455da7,_0x2b0116){const _0x5aac74=_0x3017db['split']('.');let _0x5f1514=this['_findState'](_0x5aac74[0x3b*0x6b+0x7c9+-0x2072*0x1]);_0x5f1514||(_0x5f1514=new eg(this,_0x5aac74[-0x16*0xcb+0xe43+0xa3*0x5],_0x455da7),this['_states'][_0x5aac74[0xc1*-0x17+-0x11e8+0x233f]]=_0x5f1514,this['_stateName'+'s']['push'](_0x5aac74[-0x17b6+-0x3*-0xcfe+-0x7a2*0x2])),_0x5f1514['addAnimati'+'on'](_0x5aac74,_0x86f28),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x5f1514['name'],_0x86f28),_0x455da7!==void(0x24aa+0xd06+-0x31b0)&&(_0x5f1514['speed']=_0x455da7),_0x2b0116!==void(0x1598+0x1*0x1d87+-0x331f)&&(_0x5f1514['loop']=_0x2b0116),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x24df+-0xcfc*0x1+0x31db);}['removeNode'+'Animations'](_0x3f5ea9){if(jh['indexOf'](_0x3f5ea9)!==-(0x9af+0x2131*-0x1+0x1cf*0xd))return!(0xfca+-0x224a+-0x1281*-0x1);const _0x4c979f=this['_findState'](_0x3f5ea9);return _0x4c979f?(_0x4c979f['animations']=[],!(-0x1470+0x121d+-0x5*-0x77)):(v['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x3f5ea9),!(0x11cd+-0x1*0x71+-0x3*0x5c9));}['play'](_0x5d4c50){_0x5d4c50&&this['_transitio'+'nToState'](_0x5d4c50),this['_playing']=!(0x149+-0x23dd*-0x1+-0x2526);}['pause'](){this['_playing']=!(-0x15a4+0x1cf*0x11+-0x91a);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=oo,this['_playing']=!(0xc7*-0x2c+0x184e+0x9e7),this['_currTrans'+'itionTime']=-0x1106*-0x1+0x231a+-0x341f,this['_totalTran'+'sitionTime']=-0xb2c+0x1a3c+-0xf*0x101,this['_isTransit'+'ioning']=!(0x26ff+0xc1*0x2e+-0x49ac),this['_timeInSta'+'te']=-0x16ca+0x30*0x20+-0x7*-0x266,this['_timeInSta'+'teBefore']=0x3d*0x8e+-0x1c53+-0x1*0x583,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x1e0ebf){if(!this['_playing'])return;let _0x35c11f,_0x48dc1d,_0x15c06a;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x1e0ebf*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x1e0ebf=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x2a70ec=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x2a70ec&&this['updateStat'+'eFromTrans'+'ition'](_0x2a70ec),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x1e0ebf,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x4d65ce=this['_totalTran'+'sitionTime']!==0xf26+-0x15d4*-0x1+-0x24fa?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x1*0x2129+0x1*0x2208+-0x4330;for(let _0x1a067a=-0x1390+-0x45*0x2b+-0xb*-0x2d5;_0x1a067a<this['_transitio'+'nPreviousS'+'tates']['length'];_0x1a067a++){_0x35c11f=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x1a067a]['name']);const _0x430f77=this['_transitio'+'nPreviousS'+'tates'][_0x1a067a]['weight'];for(let _0x18462e=-0x174b+-0x10ea+0x2835;_0x18462e<_0x35c11f['animations']['length'];_0x18462e++)_0x48dc1d=_0x35c11f['animations'][_0x18462e],_0x15c06a=this['_animEvalu'+'ator']['findClip'](_0x48dc1d['name']+'.previous.'+_0x1a067a),_0x15c06a&&(_0x15c06a['blendWeigh'+'t']=(0x191b+-0x4a0*0x5+-0x1fa-_0x4d65ce)*_0x48dc1d['normalized'+'Weight']*_0x430f77);}_0x35c11f=this['activeStat'+'e'];for(let _0x4d3376=-0x134f+-0xdd8+0x2127;_0x4d3376<_0x35c11f['animations']['length'];_0x4d3376++)_0x48dc1d=_0x35c11f['animations'][_0x4d3376],this['_animEvalu'+'ator']['findClip'](_0x48dc1d['name'])['blendWeigh'+'t']=_0x4d65ce*_0x48dc1d['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x1f05+0x1254+-0x3158);const _0x243920=this['activeStat'+'eAnimation'+'s']['length'],_0x308288=this['_animEvalu'+'ator']['clips']['length'];for(let _0x186252=-0x5c6+0x15a6*-0x1+0x1b6c;_0x186252<_0x308288-_0x243920;_0x186252++)this['_animEvalu'+'ator']['removeClip'](0x129a*-0x1+0x4e9+-0x2bd*-0x5);this['_transitio'+'nPreviousS'+'tates']=[],_0x35c11f=this['activeStat'+'e'];for(let _0x471f86=-0x20*-0x59+-0x193+-0x98d;_0x471f86<_0x35c11f['animations']['length'];_0x471f86++)_0x48dc1d=_0x35c11f['animations'][_0x471f86],_0x15c06a=this['_animEvalu'+'ator']['findClip'](_0x48dc1d['name']),_0x15c06a&&(_0x15c06a['blendWeigh'+'t']=_0x48dc1d['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Uo){_0x35c11f=this['activeStat'+'e'];for(let _0x395b53=-0xc13*-0x1+-0x189*-0x9+-0x19e4;_0x395b53<_0x35c11f['animations']['length'];_0x395b53++)_0x48dc1d=_0x35c11f['animations'][_0x395b53],_0x15c06a=this['_animEvalu'+'ator']['findClip'](_0x48dc1d['name']),_0x15c06a&&(_0x15c06a['blendWeigh'+'t']=_0x48dc1d['normalized'+'Weight'],_0x48dc1d['parent']['syncAnimat'+'ions']&&(_0x15c06a['speed']=_0x48dc1d['speed']));}}this['_animEvalu'+'ator']['update'](_0x1e0ebf,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Yd=new $(),ql=new T(),Ja=new Q(),eo=new Y(),to=new se();class mi extends Ji{constructor(_0xe04466,_0x380591,_0x510fd5,_0x4a944d,_0x554c35){super(_0x380591),this['animCompon'+'ent']=_0xe04466,this['_mask']=_0x4a944d,this['layerName']=_0x510fd5,this['layerIndex']=_0x554c35;}static['_packFloat'](_0xf6989e){return _0xf6989e[-0x1db8+-0x22*-0x4c+0x13a0];}static['_packBoole'+'an'](_0x274d6d){return!!_0x274d6d[0x1e69+0x1*0x1b15+-0x397e];}static['_packVec2'](_0x10682c){return Yd['x']=_0x10682c[-0x882+0x89a*-0x1+-0x6*-0x2da],Yd['y']=_0x10682c[0x1*0x377+-0x2118+0x1da2],Yd;}static['_packVec3'](_0x28f46f){return ql['x']=_0x28f46f[0x23ef+0xe9b+-0x328a],ql['y']=_0x28f46f[0x364+-0x3d6*0x7+0x1777],ql['z']=_0x28f46f[0x1b6c+0x7c*-0xb+-0x1*0x1616],ql;}static['_packVec4'](_0x341655){return Ja['x']=_0x341655[0x265c+0x15bd+-0x3c19],Ja['y']=_0x341655[-0x89+-0x1f02+0x1f8c],Ja['z']=_0x341655[0x4*0x493+-0x1887*0x1+-0x1*-0x63d],Ja['w']=_0x341655[0x3*0x4bd+0xef2*0x2+-0x2c18],Ja;}static['_packColor'](_0x122cb0){return eo['r']=_0x122cb0[0x1*0x257b+-0x1ecb+-0x6b0],eo['g']=_0x122cb0[0x1dc9+-0x20c1*0x1+0x2f9],eo['b']=_0x122cb0[0x254a+-0x2*-0x7f0+-0x3528],eo['a']=_0x122cb0[-0x26*0x2+-0x5d*0x12+0x6d9],eo;}static['_packQuat'](_0x2327ad){return to['x']=_0x2327ad[0xb83*-0x3+0x2eb+0x1f9e],to['y']=_0x2327ad[-0x3*0xc0c+0xf47*0x1+0x14de],to['z']=_0x2327ad[0x5*-0x33b+-0x1860+0x9*0x481],to['w']=_0x2327ad[0x1*0x1769+-0x2*0x1046+0x926],to;}['resolve'](_0x4d623a){const _0x66f23c=qr['encode'](_0x4d623a['entityPath'],_0x4d623a['component'],_0x4d623a['propertyPa'+'th']);let _0x307f83=this['targetCach'+'e'][_0x66f23c];if(_0x307f83)return _0x307f83;let _0x53e2e0,_0x3add94,_0x302e5a;switch(_0x4d623a['component']){case'entity':_0x53e2e0=this['_getEntity'+'FromHierar'+'chy'](_0x4d623a['entityPath']),_0x302e5a=qr['encode'](_0x53e2e0['path'],'entity',_0x4d623a['propertyPa'+'th']),_0x3add94=_0x53e2e0;break;case'graph':if(_0x3add94=this['findNode'](_0x4d623a),!_0x3add94)return null;_0x302e5a=qr['encode'](_0x3add94['path'],'graph',_0x4d623a['propertyPa'+'th']);break;default:if(_0x53e2e0=this['_getEntity'+'FromHierar'+'chy'](_0x4d623a['entityPath']),_0x3add94=_0x53e2e0['findCompon'+'ent'](_0x4d623a['component']),!_0x3add94)return null;_0x302e5a=qr['encode'](_0x53e2e0['path'],_0x4d623a['component'],_0x4d623a['propertyPa'+'th']);break;}return _0x307f83=this['_createAni'+'mTargetFor'+'Property'](_0x3add94,_0x4d623a['propertyPa'+'th'],_0x302e5a),this['targetCach'+'e'][_0x66f23c]=_0x307f83,_0x307f83;}['update'](_0x2cfd25){const _0x3d9c6c=this['activeNode'+'s'];if(_0x3d9c6c){for(let _0x3a8b40=-0x104*-0xb+-0x1*0x1904+0xdd8;_0x3a8b40<_0x3d9c6c['length'];_0x3a8b40++)_0x3d9c6c[_0x3a8b40]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x19f7d6){if(!this['animCompon'+'ent']['entity']['name']===_0x19f7d6[0x1*0x242+0x23*0x113+-0x27db*0x1])return null;const _0x114a8d=this['animCompon'+'ent']['entity'];return _0x19f7d6['length']===0x1a41+0x1ef3+-0x3933?_0x114a8d:_0x114a8d['_parent']['findByPath'](_0x19f7d6);}['_resolvePa'+'th'](_0x5ea0a7,_0x2a8289,_0x32d1b1){const _0x5d7fa2=_0x2a8289['length']-(_0x32d1b1?0x1c*0x8d+-0x1918+-0x1*-0x9ac:-0x2156*0x1+0x1*-0x3d4+0xb*0x361);for(let _0x44477d=0x1385+0x24*0x2+0x89*-0x25;_0x44477d<_0x5d7fa2;_0x44477d++)_0x5ea0a7=_0x5ea0a7[_0x2a8289[_0x44477d]];return _0x5ea0a7;}['_setter'](_0x41483a,_0x60e986,_0x2e43df){const _0x2d1e28=this['_resolvePa'+'th'](_0x41483a,_0x60e986),_0x288979=_0x60e986[_0x60e986['length']-(0x6bd+0x19d0+-0x208c)],_0x3f8d7e='set'+_0x288979['substring'](0x14*-0x19c+-0x305*-0x3+0x1721,-0x8f*-0x42+0x1*0x17a3+0x80*-0x79)['toUpperCas'+'e']()+_0x288979['substring'](-0x3*0x5ce+0x9e5*-0x1+0x1b50);if(_0x2d1e28[_0x3f8d7e]){let _0x1c576f=_0x2d1e28['get'+_0x288979['substring'](-0x26a6+0x16a8+0x2*0x7ff,-0x1426+-0xe1e+0x2245)['toUpperCas'+'e']()+_0x288979['substring'](0x159*-0x11+0x21ff*-0x1+-0x38e9*-0x1)]['bind'](_0x2d1e28)();_0x1c576f=[_0x1c576f['x'],_0x1c576f['y'],_0x1c576f['z'],_0x1c576f['w']];const _0x128b7b=_0x2d1e28[_0x3f8d7e]['bind'](_0x2d1e28);return{'set':_0x46b467=>{_0x128b7b(_0x2e43df(_0x46b467));},'get':()=>_0x1c576f};}const _0x188e7c=_0x2d1e28[_0x288979];if(typeof _0x188e7c=='object'&&_0x188e7c['hasOwnProp'+'erty']('copy'))return function(_0xb79da4){_0x188e7c['copy'](_0x2e43df(_0xb79da4));};if([$,T,Q,Y,se]['indexOf'](_0x2d1e28['constructo'+'r'])!==-(-0x3aa*-0x5+-0x8*0x2a8+0x2ef)&&_0x60e986['length']>0x171a+0x251d+-0xa09*0x6){const _0x597e48=_0x60e986['length']>0x1254+0xc5c+0x2a*-0xbb?this['_resolvePa'+'th'](_0x41483a,_0x60e986['slice'](-0x247+0xf*0x73+0x1*-0x476,-(0x1*-0x1481+0x11bf+-0x65*-0x7))):_0x41483a,_0x14db7e=_0x60e986[_0x60e986['length']-(-0x18d5*-0x1+0x744+0x2017*-0x1)];return function(_0x39437e){_0x2d1e28[_0x288979]=_0x2e43df(_0x39437e),_0x597e48[_0x14db7e]=_0x2d1e28;};}return function(_0x58babd){_0x2d1e28[_0x288979]=_0x2e43df(_0x58babd);};}['_createAni'+'mTargetFor'+'Property'](_0xd0c33f,_0x1b1d33,_0x54d019){if(this['handlers']&&_0x1b1d33[0x1f2b+0xfe2+-0x37*0xdb]['startsWith']('weight.'))return this['handlers']['weight'](_0xd0c33f,_0x1b1d33[0x9eb*0x3+-0x1*-0xa4c+-0x280d]['replace']('weight.',''));if(this['handlers']&&_0x1b1d33[0xf*0x8d+-0x8f9*-0x1+-0x44f*0x4]==='material'&&_0x1b1d33['length']===-0xfbe+-0x2607+0x35c7){const _0x1d68d8=_0x1b1d33[-0x5a3+-0x169b+0x1c3f];if(_0x1d68d8['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0xd0c33f,_0x1d68d8);}const _0x27c06f=this['_resolvePa'+'th'](_0xd0c33f,_0x1b1d33,!(0x2244+0x9*-0x87+-0xb*0x2af));if(typeof _0x27c06f>'u')return null;let _0x27af24,_0x4b336e,_0x13de6d;if(typeof _0x27c06f=='number')_0x27af24=this['_setter'](_0xd0c33f,_0x1b1d33,mi['_packFloat']),_0x4b336e='vector',_0x13de6d=0x1928+-0xc5*0x1+-0x1862;else{if(typeof _0x27c06f=='boolean')_0x27af24=this['_setter'](_0xd0c33f,_0x1b1d33,mi['_packBoole'+'an']),_0x4b336e='vector',_0x13de6d=-0x898+-0x1b7d+0x2416;else{if(typeof _0x27c06f=='object')switch(_0x27c06f['constructo'+'r']){case $:_0x27af24=this['_setter'](_0xd0c33f,_0x1b1d33,mi['_packVec2']),_0x4b336e='vector',_0x13de6d=-0x13e9+0x48f*0x2+0x23*0x4f;break;case T:_0x27af24=this['_setter'](_0xd0c33f,_0x1b1d33,mi['_packVec3']),_0x4b336e='vector',_0x13de6d=-0x6*0x3b7+-0x2037+0x3684;break;case Q:_0x27af24=this['_setter'](_0xd0c33f,_0x1b1d33,mi['_packVec4']),_0x4b336e='vector',_0x13de6d=-0x1201+-0x2*0x62f+-0xa21*-0x3;break;case Y:_0x27af24=this['_setter'](_0xd0c33f,_0x1b1d33,mi['_packColor']),_0x4b336e='vector',_0x13de6d=-0x1859+-0xf21*-0x2+-0x5e5;break;case se:_0x27af24=this['_setter'](_0xd0c33f,_0x1b1d33,mi['_packQuat']),_0x4b336e='quaternion',_0x13de6d=0x7a*-0x1d+-0x13e9+0x1*0x21bf;break;default:return null;}}}return _0x1b1d33['indexOf']('material')!==-(0x1aec+0x220d+0x1*-0x3cf8)?new Zu(_0x1712f6=>{_0x27af24(_0x1712f6),_0xd0c33f['material']['update']();},_0x4b336e,_0x13de6d,_0x54d019):new Zu(_0x27af24,_0x4b336e,_0x13de6d,_0x54d019);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x34dd16={},_0x53efa4=function(_0xf8b3c3){_0x34dd16[_0xf8b3c3['name']]=_0xf8b3c3;for(let _0x22d977=-0x14a7+0x405+-0x2*-0x851;_0x22d977<_0xf8b3c3['children']['length'];++_0x22d977)_0x53efa4(_0xf8b3c3['children'][_0x22d977]);};_0x53efa4(this['graph']),this['nodes']=_0x34dd16;}}class $P{constructor(_0x13bff2,_0x9db7b7,_0x375565,_0x1b2ecb=0x1e6b*0x1+-0x1154*0x2+0x43e,_0x3cf34f=X0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',-0x715+0x1431*-0x1+-0x1*-0x1b46),c(this,'_blendTime'+'Elapsed',0x3b*-0x47+0x2479*0x1+-0x141c),c(this,'_startingW'+'eight',0x1*-0x1729+-0x1*-0x14b9+0x270),c(this,'_targetWei'+'ght',-0x5f*-0x7+0x3c*0x4+-0x389),(this['_name']=_0x13bff2,this['_controlle'+'r']=_0x9db7b7,this['_component']=_0x375565,this['_weight']=_0x1b2ecb,this['_blendType']=_0x3cf34f);}get['name'](){return this['_name'];}set['playing'](_0x432ae2){this['_controlle'+'r']['playing']=_0x432ae2;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x47b956){const _0x834b5=this['_controlle'+'r'],_0x526496=_0x834b5['playing'];_0x834b5['playing']=!(-0x4*-0x2cf+0x1*-0x16ed+-0xbb1*-0x1),_0x834b5['activeStat'+'eCurrentTi'+'me']=_0x47b956,_0x526496||_0x834b5['update'](0x1ceb+0x722*0x1+-0x240d),_0x834b5['playing']=_0x526496;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x10c742){this['_weight']=_0x10c742,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x337c78){_0x337c78!==this['_blendType']&&(this['_blendType']=_0x337c78,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x2e4882){this['_controlle'+'r']['assignMask'](_0x2e4882)&&this['_component']['rebind'](),this['_mask']=_0x2e4882;}get['mask'](){return this['_mask'];}['play'](_0x4517a9){this['_controlle'+'r']['play'](_0x4517a9);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x4eeedd){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=N['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x4eeedd):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x20*-0x39+0x7dd+-0xefd,this['_blendTime'+'Elapsed']=-0x1c8a+-0x2*-0x3d0+-0x1*-0x14ea,this['_startingW'+'eight']=-0x25*0x89+0x1569+-0x19c,this['_targetWei'+'ght']=0xdd7+0x1*0x6a0+-0xa9*0x1f)),this['_controlle'+'r']['update'](_0x4eeedd);}['blendToWei'+'ght'](_0xd03237,_0x2fa7f0){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0xd03237,this['_blendTime']=Math['max'](-0x11bd*0x1+0x3*-0xc5e+-0x8b*-0x65,_0x2fa7f0),this['_blendTime'+'Elapsed']=0x174+-0x3b*0x1d+0x1*0x53b;}['assignAnim'+'ation'](_0x40be1b,_0x17976b,_0x5d0bb0,_0x2a04ec){if(!(_0x17976b instanceof Ri)){v['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x40be1b,_0x17976b,_0x5d0bb0,_0x2a04ec),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x22a1+-0x34c+-0x56b*-0x7&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Yh({'from':'START','to':_0x40be1b})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x267d*-0x1+-0x1dd*0x13+-0x9e*0x5));}['removeNode'+'Animations'](_0x44e03f){this['_controlle'+'r']['removeNode'+'Animations'](_0x44e03f)&&(this['_component']['playing']=!(-0x1da1+0x3d*0xa+0x1b40));}['getAnimati'+'onAsset'](_0x582f1b){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x582f1b];}['transition'](_0x2e8bfb,_0xe1a01f=-0x1a39+0x5b9+-0x1480*-0x1,_0x396ddc=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Yh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x2e8bfb,'time':_0xe1a01f,'transitionOffset':_0x396ddc}));}}class mh{constructor(_0x2ba581){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x2ba581['layers']))this['_layers']=_0x2ba581['layers'];else for(const _0x1f3ace in _0x2ba581['layers']){const _0x29a366=_0x2ba581['layers'][_0x1f3ace],_0x19d5c8={'name':_0x29a366['name'],'blendType':_0x29a366['blendType'],'weight':_0x29a366['weight'],'states':[],'transitions':[]};for(let _0x4f9fb6=-0xa3+-0xd47+0xdea;_0x4f9fb6<_0x29a366['states']['length'];_0x4f9fb6++)_0x19d5c8['states']['push'](_0x2ba581['states'][_0x29a366['states'][_0x4f9fb6]]);for(let _0x41660f=-0x37+-0x20c8+0x20ff;_0x41660f<_0x29a366['transition'+'s']['length'];_0x41660f++){const _0xcaf3f3=_0x2ba581['transition'+'s'][_0x29a366['transition'+'s'][_0x41660f]];if(_0xcaf3f3['conditions']&&!Array['isArray'](_0xcaf3f3['conditions'])){const _0x40c37a=Object['keys'](_0xcaf3f3['conditions']),_0x7c130a=[];for(let _0x472f96=-0x1*0xe26+-0x49*-0x6d+-0x10ef;_0x472f96<_0x40c37a['length'];_0x472f96++){const _0x261d81=_0xcaf3f3['conditions'][_0x40c37a[_0x472f96]];_0x261d81['parameterN'+'ame']&&_0x7c130a['push'](_0x261d81);}_0xcaf3f3['conditions']=_0x7c130a;}Number['isInteger'](_0xcaf3f3['from'])&&(_0xcaf3f3['from']=_0x2ba581['states'][_0xcaf3f3['from']]['name']),Number['isInteger'](_0xcaf3f3['to'])&&(_0xcaf3f3['to']=_0x2ba581['states'][_0xcaf3f3['to']]['name']),_0x19d5c8['transition'+'s']['push'](_0xcaf3f3);}this['_layers']['push'](_0x19d5c8);}for(const _0x579a78 in _0x2ba581['parameters']){const _0x298466=_0x2ba581['parameters'][_0x579a78];this['_parameter'+'s'][_0x298466['name']]={'type':_0x298466['type'],'value':_0x298466['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Z0 extends ue{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',-0xc03*0x3+-0x2192+0x459c),c(this,'_activate',!(-0x1509+-0x85+0x1f*0xb2)),c(this,'_playing',!(0x50f+-0x7ef+-0xb*-0x43)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(-0x1c49+0x267d+-0xa33)),c(this,'findParame'+'ter',_0x33069e=>this['_parameter'+'s'][_0x33069e]),c(this,'consumeTri'+'gger',_0x4dabd4=>{this['_consumedT'+'riggers']['add'](_0x4dabd4);});}set['stateGraph'+'Asset'](_0x459c57){if(_0x459c57===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x3d94c7,_0xac5c20;_0x459c57 instanceof le?(_0x3d94c7=_0x459c57['id'],_0xac5c20=this['system']['app']['assets']['get'](_0x3d94c7),_0xac5c20||(this['system']['app']['assets']['add'](_0x459c57),_0xac5c20=this['system']['app']['assets']['get'](_0x3d94c7))):(_0x3d94c7=_0x459c57,_0xac5c20=this['system']['app']['assets']['get'](_0x3d94c7)),!(!_0xac5c20||this['_stateGrap'+'hAsset']===_0x3d94c7)&&(_0xac5c20['resource']?(this['_stateGrap'+'h']=_0xac5c20['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0xac5c20['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0xac5c20['once']('load',_0x220c78=>{this['_stateGrap'+'h']=_0x220c78['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0xac5c20['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0xac5c20)),this['_stateGrap'+'hAsset']=_0x3d94c7);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x5509f5){this['_normalize'+'Weights']=_0x5509f5,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x2760f0){this['_animation'+'Assets']=_0x2760f0,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x5aef1c){this['_speed']=_0x5aef1c;}get['speed'](){return this['_speed'];}set['activate'](_0x1ef413){this['_activate']=_0x1ef413;}get['activate'](){return this['_activate'];}set['playing'](_0x3ac923){this['_playing']=_0x3ac923;}get['playing'](){return this['_playing'];}set['rootBone'](_0x162337){if(typeof _0x162337=='string'){const _0x4a3123=this['entity']['root']['findByGuid'](_0x162337);v['assert'](_0x4a3123,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x162337+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x4a3123;}else _0x162337 instanceof $e?this['_rootBone']=_0x162337:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x469f56){this['_stateGrap'+'h']=_0x469f56;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x576739){this['_layerIndi'+'ces']=_0x576739;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x9c5e5b){this['_parameter'+'s']=_0x9c5e5b;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0xdc5f91){this['_targets']=_0xdc5f91;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x27cac8=-0x992+0x47*-0x6d+0x27cd;_0x27cac8<this['_layers']['length'];_0x27cac8++)if(!this['_layers'][_0x27cac8]['playable'])return!(0x23*-0x53+0x1428+0x2e*-0x31);return!(-0x1*-0x8c9+0x162e+-0x1ef7);}get['baseLayer'](){return this['_layers']['length']>-0x4d7*-0x2+0x5fd+-0xfab?this['_layers'][0x7c0+0x12a4+-0x1a64]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x117006){const _0x308c72=this['animationA'+'ssets'],_0x1ca32b=this['layers']['map'](_0x4e6d0a=>_0x4e6d0a['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new mh(_0x117006['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x308c72,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x52d727,_0x1848d6)=>{_0x52d727['mask']=_0x1ca32b[_0x1848d6];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x38c50a=Object['values'](this['_targets']);for(let _0xce368b=-0x1e22+-0x37*-0x80+0x2a2;_0xce368b<_0x38c50a['length'];_0xce368b++)_0x38c50a[_0xce368b]['dirty']=!(-0x5e*0x11+0x1*-0xd3b+0x1*0x1379);}['_addLayer']({name:_0x15af1a,states:_0x49d776,transitions:_0x6634b8,weight:_0x4560f6,mask:_0x2d995a,blendType:_0x3611aa}){let _0x2fb4f1;this['rootBone']?_0x2fb4f1=this['rootBone']:_0x2fb4f1=this['entity'];const _0xa0f1d1=this['_layers']['length'],_0x4fdc32=new mi(this,_0x2fb4f1,_0x15af1a,_0x2d995a,_0xa0f1d1),_0x2bdf37=new j0(_0x4fdc32),_0xea37e1=new HP(_0x2bdf37,_0x49d776,_0x6634b8,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new $P(_0x15af1a,_0xea37e1,this,_0x4560f6,_0x3611aa)),this['_layerIndi'+'ces'][_0x15af1a]=_0xa0f1d1,this['_layers'][_0xa0f1d1];}['addLayer'](_0x15e0f5,_0x32f5b5,_0x5e9c81,_0x1cb739){const _0x8b9536=this['findAnimat'+'ionLayer'](_0x15e0f5);if(_0x8b9536)return _0x8b9536;const _0x4f16e0=[{'name':'START','speed':0x1}],_0x512bc1=[];return this['_addLayer']({'name':_0x15e0f5,'states':_0x4f16e0,'transitions':_0x512bc1,'weight':_0x32f5b5,'mask':_0x5e9c81,'blendType':_0x1cb739});}['_assignPar'+'ameters'](_0x3c283c){this['_parameter'+'s']={};const _0x50e74f=Object['keys'](_0x3c283c['parameters']);for(let _0x3b7c73=0x1*-0x4e1+0x26ea+-0x2209*0x1;_0x3b7c73<_0x50e74f['length'];_0x3b7c73++){const _0x1f5b0d=_0x50e74f[_0x3b7c73];this['_parameter'+'s'][_0x1f5b0d]={'type':_0x3c283c['parameters'][_0x1f5b0d]['type'],'value':_0x3c283c['parameters'][_0x1f5b0d]['value']};}}['loadStateG'+'raph'](_0x4d1d08){this['_stateGrap'+'h']=_0x4d1d08,this['_assignPar'+'ameters'](_0x4d1d08),this['_layers']=[];let _0x287b5f=!(-0x165c+0x1c45+-0x6c*0xe);for(let _0x35df9d=0x1e9d+0x153c+-0x33d9*0x1;_0x35df9d<_0x4d1d08['layers']['length'];_0x35df9d++){const _0x3c0f00=_0x4d1d08['layers'][_0x35df9d];this['_addLayer']({..._0x3c0f00}),_0x3c0f00['states']['some'](_0x4095cf=>_0x4095cf['blendTree'])&&(_0x287b5f=!(0x1f29*-0x1+0x1*0x19f3+-0x3a*-0x17));}_0x287b5f||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x5e4713=-0x1*0x1ded+0x210b*-0x1+0x3ef8;_0x5e4713<this['_layers']['length'];_0x5e4713++){const _0x1294ad=this['_layers'][_0x5e4713],_0x14abcd=_0x1294ad['name'];for(let _0x5256ee=-0xd*0x2d3+-0xe58+-0x1105*-0x3;_0x5256ee<_0x1294ad['states']['length'];_0x5256ee++){const _0x1bd198=_0x1294ad['states'][_0x5256ee];if(jh['indexOf'](_0x1bd198)===-(0x203f+0x1ed9+-0x3f17)){const _0x3c193e=_0x14abcd+':'+_0x1bd198;this['_animation'+'Assets'][_0x3c193e]||(this['_animation'+'Assets'][_0x3c193e]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x28296e=0x43e*-0x3+-0xe37*-0x2+-0xfb4;_0x28296e<this['_layers']['length'];_0x28296e++){const _0x2175f1=this['_layers'][_0x28296e];for(let _0xe538d3=0x43a*-0x5+-0x162*-0xc+0x53*0xe;_0xe538d3<_0x2175f1['states']['length'];_0xe538d3++){const _0x157064=_0x2175f1['states'][_0xe538d3];if(jh['indexOf'](_0x157064)!==-(-0x5*0x4b8+0x23db+-0xc42))continue;const _0x46aa37=this['_animation'+'Assets'][_0x2175f1['name']+':'+_0x157064];if(!_0x46aa37||!_0x46aa37['asset']){this['findAnimat'+'ionLayer'](_0x2175f1['name'])['assignAnim'+'ation'](_0x157064,Ri['EMPTY']);continue;}const _0x11b8d7=_0x46aa37['asset'],_0x5bdbca=this['system']['app']['assets']['get'](_0x11b8d7);_0x5bdbca&&(_0x5bdbca['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x2175f1['name'],_0x157064,_0x5bdbca):(_0x5bdbca['once']('load',function(_0x40619e,_0x32eda1){return function(_0x45fd68){this['onAnimatio'+'nAssetLoad'+'ed'](_0x40619e,_0x32eda1,_0x45fd68);}['bind'](this);}['bind'](this)(_0x2175f1['name'],_0x157064)),this['system']['app']['assets']['load'](_0x5bdbca)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x4df9cf,_0x18853f,_0x109981){this['findAnimat'+'ionLayer'](_0x4df9cf)['assignAnim'+'ation'](_0x18853f,_0x109981['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(0x1c33+-0x1b90+-0x1b*0x6),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x2068f3=-0x1*0x1c19+-0x251*-0xa+0x4ef*0x1;_0x2068f3<this['_layers']['length'];_0x2068f3++){const _0x1c3133=this['_layers'][_0x2068f3]['playing'];this['_layers'][_0x2068f3]['reset'](),this['_layers'][_0x2068f3]['playing']=_0x1c3133;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x5e0557=>{this['_targets'][_0x5e0557]['unbind']();});}['rebind'](){this['_targets']={};for(let _0xb0018b=0xa21+-0xfb9+0x598;_0xb0018b<this['_layers']['length'];_0xb0018b++)this['_layers'][_0xb0018b]['rebind']();}['findAnimat'+'ionLayer'](_0x495273){const _0x209e8a=this['_layerIndi'+'ces'][_0x495273];return this['_layers'][_0x209e8a]||null;}['addAnimati'+'onState'](_0x1e8ca6,_0x39d1f9,_0x1d1e5d=-0x2*-0x3d6+-0x118e+0x9e3,_0x4b990c=!(0x1630+0x7c*-0x1b+-0xb*0xd4),_0x26826d='Base'){var _0x41d656;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new mh({'layers':[{'name':_0x26826d,'states':[{'name':'START','speed':0x1},{'name':_0x1e8ca6,'speed':_0x1d1e5d,'loop':_0x4b990c,'defaultState':!(0x515*-0x3+0xf85+-0x46)}],'transitions':[{'from':'START','to':_0x1e8ca6}]}],'parameters':{}}));const _0x43953c=this['findAnimat'+'ionLayer'](_0x26826d);_0x43953c?_0x43953c['assignAnim'+'ation'](_0x1e8ca6,_0x39d1f9,_0x1d1e5d,_0x4b990c):(_0x41d656=this['addLayer'](_0x26826d))==null||_0x41d656['assignAnim'+'ation'](_0x1e8ca6,_0x39d1f9,_0x1d1e5d,_0x4b990c);}['assignAnim'+'ation'](_0x3b1996,_0x289649,_0x3b55d3,_0x415efb=-0xa2b+0xdf+0x94d,_0x369588=!(0x10a6+-0xdfd+-0x2a9)){if(!this['_stateGrap'+'h']&&_0x3b1996['indexOf']('.')===-(-0xce9*0x1+-0x1d1f+0x2a09)){this['loadStateG'+'raph'](new mh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x3b1996,'speed':_0x415efb,'loop':_0x369588,'defaultState':!(0xfc1+-0x1781+-0x7c*-0x10)}],'transitions':[{'from':'START','to':_0x3b1996}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x3b1996,_0x289649);return;}const _0x4e3105=_0x3b55d3?this['findAnimat'+'ionLayer'](_0x3b55d3):this['baseLayer'];if(!_0x4e3105){v['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x4e3105['assignAnim'+'ation'](_0x3b1996,_0x289649,_0x415efb,_0x369588);}['removeNode'+'Animations'](_0x8c80d7,_0xccfef1){const _0x454b8b=_0xccfef1?this['findAnimat'+'ionLayer'](_0xccfef1):this['baseLayer'];if(!_0x454b8b){v['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x454b8b['removeNode'+'Animations'](_0x8c80d7);}['getParamet'+'erValue'](_0x18ff30,_0x235d30){const _0x59b811=this['_parameter'+'s'][_0x18ff30];if(_0x59b811&&_0x59b811['type']===_0x235d30)return _0x59b811['value'];v['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x18ff30+('\x22\x20of\x20type\x20'+'\x22')+_0x235d30+'\x22');}['setParamet'+'erValue'](_0x1a781f,_0x3a3c6a,_0x38d240){const _0x4126fe=this['_parameter'+'s'][_0x1a781f];if(_0x4126fe&&_0x4126fe['type']===_0x3a3c6a){_0x4126fe['value']=_0x38d240;return;}v['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x1a781f+('\x22\x20of\x20type\x20'+'\x22')+_0x3a3c6a+'\x22');}['getFloat'](_0x134ba7){return this['getParamet'+'erValue'](_0x134ba7,Q_);}['setFloat'](_0x62ea98,_0x583c1d){this['setParamet'+'erValue'](_0x62ea98,Q_,_0x583c1d);}['getInteger'](_0x17f88a){return this['getParamet'+'erValue'](_0x17f88a,Z_);}['setInteger'](_0x190a6f,_0x1b5e17){typeof _0x1b5e17=='number'&&_0x1b5e17%(-0x1*-0x313+0x1492+0x44*-0x59)===0x4ba+-0x44*0x2e+-0x3bf*-0x2?this['setParamet'+'erValue'](_0x190a6f,Z_,_0x1b5e17):v['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x190a6f,_0x1b5e17);}['getBoolean'](_0x17afc1){return this['getParamet'+'erValue'](_0x17afc1,J_);}['setBoolean'](_0x39fdc5,_0x1f1f68){this['setParamet'+'erValue'](_0x39fdc5,J_,!!_0x1f1f68);}['getTrigger'](_0x8e1fdb){return this['getParamet'+'erValue'](_0x8e1fdb,ph);}['setTrigger'](_0x520021,_0x458025=!(-0x16a7+0x1d6*-0x6+0xa*0x35e)){this['setParamet'+'erValue'](_0x520021,ph,!(-0x35e*-0x6+-0x601+-0xe33)),_0x458025&&this['_consumedT'+'riggers']['add'](_0x520021);}['resetTrigg'+'er'](_0x3139b){this['setParamet'+'erValue'](_0x3139b,ph,!(0x1a11+0x5be+-0x1fce));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x2db558){for(let _0xc3b368=0x183*0x7+-0x8b*-0x22+-0x1d0b;_0xc3b368<this['layers']['length'];_0xc3b368++)this['layers'][_0xc3b368]['update'](_0x2db558*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x4f1ed6=>{this['parameters'][_0x4f1ed6]['value']=!(0x85+0x11bf+-0x3a7*0x5);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x56e5c5,_0xd335fc){_0x56e5c5['rootBone']&&_0xd335fc[_0x56e5c5['rootBone']['getGuid']()]?this['rootBone']=_0xd335fc[_0x56e5c5['rootBone']['getGuid']()]:this['rebind']();}}class WP{constructor(){this['enabled']=!(0xbce+0x63f+0x120d*-0x1);}}const tf=['enabled'];class qP extends Xe{constructor(_0x424934){super(_0x424934),this['id']='anim',this['ComponentT'+'ype']=Z0,this['DataType']=WP,this['schema']=tf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x20f32d,_0x5917b5,_0x2cb7bd){super['initialize'+'ComponentD'+'ata'](_0x20f32d,_0x5917b5,tf);const _0x4b6e38=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x5917b5)['forEach'](_0x18a731=>{_0x4b6e38['includes'](_0x18a731)||(_0x20f32d[_0x18a731]=_0x5917b5[_0x18a731]);}),_0x5917b5['stateGraph']&&(_0x20f32d['stateGraph']=_0x5917b5['stateGraph'],_0x20f32d['loadStateG'+'raph'](_0x20f32d['stateGraph'])),_0x5917b5['layers']&&_0x5917b5['layers']['forEach']((_0x2ad431,_0x191ca7)=>{_0x2ad431['_controlle'+'r']['states']['forEach'](_0x20aec2=>{_0x2ad431['_controlle'+'r']['_states'][_0x20aec2]['_animation'+'List']['forEach'](_0x29b881=>{if(!_0x29b881['animTrack']||_0x29b881['animTrack']===Ri['EMPTY']){const _0x2463f9=this['app']['assets']['get'](_0x2ad431['_component']['_animation'+'Assets'][_0x2ad431['name']+':'+_0x29b881['name']]['asset']);_0x2463f9&&!_0x2463f9['loaded']&&_0x2463f9['once']('load',()=>{_0x20f32d['layers'][_0x191ca7]['assignAnim'+'ation'](_0x29b881['name'],_0x2463f9['resource']);});}else _0x20f32d['layers'][_0x191ca7]['assignAnim'+'ation'](_0x29b881['name'],_0x29b881['animTrack']);});});}),_0x5917b5['animationA'+'ssets']&&(_0x20f32d['animationA'+'ssets']=Object['assign'](_0x20f32d['animationA'+'ssets'],_0x5917b5['animationA'+'ssets'])),_0x5917b5['masks']&&Object['keys'](_0x5917b5['masks'])['forEach'](_0x51ef93=>{if(_0x20f32d['layers'][_0x51ef93]){const _0x268310=_0x5917b5['masks'][_0x51ef93]['mask'],_0x36f6ff={};Object['keys'](_0x268310)['forEach'](_0xdc94bc=>{_0x36f6ff[decodeURI(_0xdc94bc)]=_0x268310[_0xdc94bc];}),_0x20f32d['layers'][_0x51ef93]['mask']=_0x36f6ff;}});}['onAnimatio'+'nUpdate'](_0x2ff6ce){const _0x2bd6d7=this['store'];for(const _0x345a66 in _0x2bd6d7)if(_0x2bd6d7['hasOwnProp'+'erty'](_0x345a66)){const _0x38b4d9=_0x2bd6d7[_0x345a66]['entity']['anim'];_0x38b4d9['data']['enabled']&&_0x38b4d9['entity']['enabled']&&_0x38b4d9['playing']&&_0x38b4d9['update'](_0x2ff6ce);}}['cloneCompo'+'nent'](_0x4a5a71,_0x397ee5){let _0x3426ec;(!_0x4a5a71['anim']['rootBone']||_0x4a5a71['anim']['rootBone']===_0x4a5a71)&&(_0x3426ec={},_0x4a5a71['anim']['layers']['forEach']((_0x5d6d3a,_0x5db25d)=>{if(_0x5d6d3a['mask']){const _0x5a0a89={};Object['keys'](_0x5d6d3a['mask'])['forEach'](_0xca2806=>{const _0x2aee94=_0xca2806['split']('/');_0x2aee94['shift']();const _0x5e3b82=[_0x397ee5['name'],..._0x2aee94]['join']('/');_0x5a0a89[_0x5e3b82]=_0x5d6d3a['mask'][_0xca2806];}),_0x3426ec[_0x5db25d]={'mask':_0x5a0a89};}}));const _0x4da9b7={'enabled':_0x4a5a71['anim']['enabled'],'stateGraphAsset':_0x4a5a71['anim']['stateGraph'+'Asset'],'animationAssets':_0x4a5a71['anim']['animationA'+'ssets'],'speed':_0x4a5a71['anim']['speed'],'activate':_0x4a5a71['anim']['activate'],'playing':_0x4a5a71['anim']['playing'],'rootBone':_0x4a5a71['anim']['rootBone'],'stateGraph':_0x4a5a71['anim']['stateGraph'],'layers':_0x4a5a71['anim']['layers'],'layerIndices':_0x4a5a71['anim']['layerIndic'+'es'],'parameters':_0x4a5a71['anim']['parameters'],'normalizeWeights':_0x4a5a71['anim']['normalizeW'+'eights'],'masks':_0x3426ec};return this['addCompone'+'nt'](_0x397ee5,_0x4da9b7);}['onBeforeRe'+'move'](_0x4a8d5e,_0x4bb389){_0x4bb389['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}ue['_buildAcce'+'ssors'](Z0['prototype'],tf);class Q0 extends ue{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x1026ba=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x1026ba);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class XP{constructor(){this['enabled']=!(0x16b4+-0x5c3*0x4+0x4*0x16);}}const J0=['enabled'];class jP extends Xe{constructor(_0x5ab43c){super(_0x5ab43c),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Q0,this['DataType']=XP,this['schema']=J0,this['manager']=_0x5ab43c['soundManag'+'er'],v['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x5f0a6c,_0x23cef4,_0x5458e7){_0x5458e7=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x5f0a6c,_0x23cef4,_0x5458e7);}['onUpdate'](_0x5256f2){if(this['current']){const _0x15bc97=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x15bc97);const _0x5b6b73=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x5b6b73);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Q0['prototype'],J0);const sf=-0x1a05*0x1+0x1*0x127d+0x4*0x1e2,tg=-0x2*0x116a+-0xbd7+0x1d*0x19c,_h='group',rf='image',ex='text',gh='stretch',YP='contain',KP='cover',Ye={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},hl={};hl[Ye['DEFAULT']]='_defaultTi'+'nt',hl[Ye['HOVER']]='hoverTint',hl[Ye['PRESSED']]='pressedTin'+'t',hl[Ye['INACTIVE']]='inactiveTi'+'nt';const cl={};cl[Ye['DEFAULT']]='_defaultSp'+'riteAsset',cl[Ye['HOVER']]='hoverSprit'+'eAsset',cl[Ye['PRESSED']]='pressedSpr'+'iteAsset',cl[Ye['INACTIVE']]='inactiveSp'+'riteAsset';const dl={};dl[Ye['DEFAULT']]='_defaultSp'+'riteFrame',dl[Ye['HOVER']]='hoverSprit'+'eFrame',dl[Ye['PRESSED']]='pressedSpr'+'iteFrame',dl[Ye['INACTIVE']]='inactiveSp'+'riteFrame';class ct extends ue{constructor(_0x8b760d,_0x2d6729){super(_0x8b760d,_0x2d6729),c(this,'_visualSta'+'te',Ye['DEFAULT']),c(this,'_isHoverin'+'g',!(0x1*0x2353+0x1937+-0x3c89*0x1)),c(this,'_hoveringC'+'ounter',0x19b9+-0x551+-0x1468),c(this,'_isPressed',!(-0x125b+-0x1f63+0x31bf)),c(this,'_defaultTi'+'nt',new Y(0x25d1+0xe9*0x25+0x1*-0x477d,-0x884+0x2647+-0x1dc2,-0x735+-0x615*0x1+0xd4b,0x1138+0xa9*-0x1d+0x1ee)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',0x13f7*-0x1+0x2ff*-0x2+-0x531*-0x5),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Ye['DEFAULT'],this['_isHoverin'+'g']=!(-0x10*0x18a+0x2582+0x9d*-0x15),this['_hoveringC'+'ounter']=0x3*-0x94d+-0x1c6+-0x6b*-0x47,this['_isPressed']=!(0x136a+-0x4*0x4d9+-0x5),this['_defaultTi'+'nt']=new Y(0xab0+0x129e+0x1d4d*-0x1,0x1*0x2653+-0xf2d+-0x1725,0x1ad6+-0x7*-0x2a7+-0x2d66,-0x555+0x87b+-0x1*0x325),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=0x33*-0x51+-0x1cb0+-0xe1*-0x33,this['_toggleLif'+'ecycleList'+'eners']('on',_0x8b760d));}get['data'](){const _0x3711d9=this['system']['store'][this['entity']['getGuid']()];return _0x3711d9?_0x3711d9['data']:null;}set['enabled'](_0x26a0ce){this['_setValue']('enabled',_0x26a0ce);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x55d0b6){this['_setValue']('active',_0x55d0b6);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x49bdf6){if(this['_imageEnti'+'ty']!==_0x49bdf6){const _0x4b3183=typeof _0x49bdf6=='string';if(this['_imageEnti'+'ty']&&_0x4b3183&&this['_imageEnti'+'ty']['getGuid']()===_0x49bdf6)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x49bdf6 instanceof De?this['_imageEnti'+'ty']=_0x49bdf6:_0x4b3183?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x49bdf6)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x4b3183&&_0x49bdf6&&(this['data']['imageEntit'+'y']=_0x49bdf6);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x2bc5b8){this['_setValue']('hitPadding',_0x2bc5b8);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x2d63db){this['_setValue']('transition'+'Mode',_0x2d63db);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x54f41d){this['_setValue']('hoverTint',_0x54f41d);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x13418e){this['_setValue']('pressedTin'+'t',_0x13418e);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x4dbb6b){this['_setValue']('inactiveTi'+'nt',_0x4dbb6b);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x4f23e9){this['_setValue']('fadeDurati'+'on',_0x4f23e9);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x15c4ab){this['_setValue']('hoverSprit'+'eAsset',_0x15c4ab);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x121b3c){this['_setValue']('hoverSprit'+'eFrame',_0x121b3c);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x44ca4a){this['_setValue']('pressedSpr'+'iteAsset',_0x44ca4a);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x3bb367){this['_setValue']('pressedSpr'+'iteFrame',_0x3bb367);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x37ffae){this['_setValue']('inactiveSp'+'riteAsset',_0x37ffae);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x587f89){this['_setValue']('inactiveSp'+'riteFrame',_0x587f89);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x4f22c4,_0x1bca87){const _0x5f2213=this['data'],_0x4f3234=_0x5f2213[_0x4f22c4];_0x5f2213[_0x4f22c4]=_0x1bca87,this['fire']('set',_0x4f22c4,_0x4f3234,_0x1bca87);}['_toggleLif'+'ecycleList'+'eners'](_0x296c8f,_0x4579f8){var _0x85ebfb;this[_0x296c8f]('set_active',this['_onSetActi'+'ve'],this),this[_0x296c8f]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x296c8f]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x296c8f]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x296c8f]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x296c8f]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x296c8f]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x296c8f]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x296c8f]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x296c8f]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x296c8f]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x296c8f==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x85ebfb=this['_evtElemen'+'tAdd'])==null||_0x85ebfb['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x27b971,_0x1812f6,_0x46d93a){_0x1812f6!==_0x46d93a&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x34c686,_0xcec269,_0xf4ed12){_0xcec269!==_0xf4ed12&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0xcec269),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x211fd2,_0x391d14,_0x302c3c){_0x391d14!==_0x302c3c&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x257719,_0x2e5739;(_0x257719=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x257719['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x2e5739=this['_imageEnti'+'ty'])!=null&&_0x2e5739['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x2f0443=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x2f0443['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x2f0443['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x2f0443['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x2f0443['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x2f0443['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x1e9b2b,_0x58eb49,_0x150e93,_0x476b79,_0x33f469;(_0x1e9b2b=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x1e9b2b['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x58eb49=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x58eb49['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x150e93=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x150e93['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x476b79=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x476b79['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x33f469=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x33f469['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x5577d2){if(this['entity']['element']){const _0x2ea243=_0x5577d2==='on';if(_0x2ea243&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x5577d2]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x5577d2]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x5577d2]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x5577d2]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x5577d2]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x5577d2]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x5577d2]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x5577d2]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x5577d2]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x5577d2]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x5577d2]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x5577d2]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x5577d2]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x5577d2]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x2ea243;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x57ade8;const _0x3ffb71=(_0x57ade8=this['_imageEnti'+'ty'])==null?void(0x2*-0x4a9+0x251e+0x1bcc*-0x1):_0x57ade8['element'];!_0x3ffb71||_0x3ffb71['type']===_h||(this['_storeDefa'+'ultColor'](_0x3ffb71['color']),this['_storeDefa'+'ultOpacity'](_0x3ffb71['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x3ffb71['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x3ffb71['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x157619){this['_defaultTi'+'nt']['r']=_0x157619['r'],this['_defaultTi'+'nt']['g']=_0x157619['g'],this['_defaultTi'+'nt']['b']=_0x157619['b'];}['_storeDefa'+'ultOpacity'](_0x365995){this['_defaultTi'+'nt']['a']=_0x365995;}['_storeDefa'+'ultSpriteA'+'sset'](_0xb68223){this['_defaultSp'+'riteAsset']=_0xb68223;}['_storeDefa'+'ultSpriteF'+'rame'](_0x417041){this['_defaultSp'+'riteFrame']=_0x417041;}['_onSetColo'+'r'](_0x4d2e53){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x4d2e53),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x1a1ff9){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x1a1ff9),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x41cccf){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x41cccf),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0xa1cc92){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0xa1cc92),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x57c80b){this['_isHoverin'+'g']=!(0x24d4+-0x1169*0x1+-0x136b),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x57c80b);}['_onMouseLe'+'ave'](_0xcc1a0){this['_isHoverin'+'g']=!(-0x16c2+-0x61*0x1+0x1724),this['_isPressed']=!(-0x1d03+0xf8b*0x2+0x212*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0xcc1a0);}['_onMouseDo'+'wn'](_0x1df2e5){this['_isPressed']=!(0xbf3+-0x439*0x1+0x17*-0x56),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x1df2e5);}['_onMouseUp'](_0x512e89){this['_isPressed']=!(-0x59*-0x33+-0x2*0x11b1+0x11a8),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x512e89);}['_onTouchSt'+'art'](_0x3960b7){this['_isPressed']=!(-0xfd7*-0x2+0x1ff1+-0x3f9f),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x3960b7);}['_onTouchEn'+'d'](_0x1c9053){_0x1c9053['event']['preventDef'+'ault'](),this['_isPressed']=!(-0xb*0x1a1+-0x264b*-0x1+0x413*-0x5),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x1c9053);}['_onTouchLe'+'ave'](_0x596b1a){this['_isPressed']=!(-0x3a0+0xc7f+-0x8de),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x596b1a);}['_onTouchCa'+'ncel'](_0x2fd9ff){this['_isPressed']=!(0x2391+0x1999+-0x3d29),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x2fd9ff);}['_onSelectS'+'tart'](_0x428412){this['_isPressed']=!(0x1b88+-0x1cd+-0x3ad*0x7),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x428412);}['_onSelectE'+'nd'](_0x48e6eb){this['_isPressed']=!(-0x1b58+-0x854+0x23ad*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x48e6eb);}['_onSelectE'+'nter'](_0xfc78e9){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0x7d9*0x3+-0x376*-0x8+-0x333a&&(this['_isHoverin'+'g']=!(0xe41+-0x1b2d*-0x1+-0x296e),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0xfc78e9);}['_onSelectL'+'eave'](_0x150647){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x7c8+-0x17a2+0x1f6a&&(this['_isHoverin'+'g']=!(0x2e7+0xd*-0x299+0x1edf),this['_isPressed']=!(0xb4a*-0x3+0x907*0x1+0x18d8),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x150647);}['_onClick'](_0x2daecf){this['_fireIfAct'+'ive']('click',_0x2daecf);}['_fireIfAct'+'ive'](_0xb831c0,_0x280f26){this['data']['active']&&this['fire'](_0xb831c0,_0x280f26);}['_updateVis'+'ualState'](_0x66b585){const _0x595740=this['_visualSta'+'te'],_0x30ba29=this['_determine'+'VisualStat'+'e']();if((_0x595740!==_0x30ba29||_0x66b585)&&this['enabled'])switch(this['_visualSta'+'te']=_0x30ba29,_0x595740===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x595740===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x30ba29===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x30ba29===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case sf:{const _0x2c75d8=hl[this['_visualSta'+'te']],_0xe2b3a5=this[_0x2c75d8];this['_applyTint'](_0xe2b3a5);break;}case tg:{const _0x5e806c=cl[this['_visualSta'+'te']],_0x48d864=dl[this['_visualSta'+'te']],_0x4a5bbc=this[_0x5e806c],_0x20405d=this[_0x48d864];this['_applySpri'+'te'](_0x4a5bbc,_0x20405d);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(0x61*-0x10+0x1c96+-0x1686));}['_resetToDe'+'faultVisua'+'lState'](_0x16a204){var _0x226ba8;if((_0x226ba8=this['_imageEnti'+'ty'])!=null&&_0x226ba8['element'])switch(_0x16a204){case sf:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case tg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Ye['PRESSED'];if(this['_isHoverin'+'g'])return Ye['HOVER'];}else return Ye['INACTIVE'];return Ye['DEFAULT'];}['_applySpri'+'te'](_0x29e6cd,_0x19cf07){var _0x55151d;const _0x555b0c=(_0x55151d=this['_imageEnti'+'ty'])==null?void(0x53*-0x25+-0x42+-0xc41*-0x1):_0x55151d['element'];_0x555b0c&&(_0x19cf07=_0x19cf07||0x482*-0x7+0x199*0x4+0x192a,this['_isApplyin'+'gSprite']=!(-0x8db*-0x3+-0x1*0xa55+-0x103c),_0x555b0c['spriteAsse'+'t']!==_0x29e6cd&&(_0x555b0c['spriteAsse'+'t']=_0x29e6cd),_0x555b0c['spriteFram'+'e']!==_0x19cf07&&(_0x555b0c['spriteFram'+'e']=_0x19cf07),this['_isApplyin'+'gSprite']=!(-0x1d5d+0x1892+0x4cc));}['_applyTint'](_0x297d27){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x2493*0x1+-0xe8d+-0x1606?this['_applyTint'+'Immediatel'+'y'](_0x297d27):this['_applyTint'+'WithTween'](_0x297d27);}['_applyTint'+'Immediatel'+'y'](_0x25d710){var _0x194cbc;const _0xa2070d=(_0x194cbc=this['_imageEnti'+'ty'])==null?void(-0x1a5d+-0x53c+-0x1*-0x1f99):_0x194cbc['element'];if(!_0x25d710||!_0xa2070d||_0xa2070d['type']===_h)return;const _0x50b96a=sg(_0x25d710);this['_isApplyin'+'gTint']=!(-0x5f7+0x340+-0x2b7*-0x1),_0x50b96a['equals'](_0xa2070d['color'])||(_0xa2070d['color']=_0x50b96a),_0xa2070d['opacity']!==_0x25d710['a']&&(_0xa2070d['opacity']=_0x25d710['a']),this['_isApplyin'+'gTint']=!(-0x16*0xe9+-0x2169+0x3*0x11d0);}['_applyTint'+'WithTween'](_0x9c77af){var _0x147aad;const _0x269faa=(_0x147aad=this['_imageEnti'+'ty'])==null?void(-0x24ca+0x2237+0x293):_0x147aad['element'];if(!_0x9c77af||!_0x269faa||_0x269faa['type']===_h)return;const _0x10920d=sg(_0x9c77af),_0x128c20=_0x269faa['color'],_0x256ebc=_0x269faa['opacity'];_0x10920d['equals'](_0x128c20)&&_0x9c77af['a']===_0x256ebc||(this['_tweenInfo']={'startTime':ne(),'from':new Y(_0x128c20['r'],_0x128c20['g'],_0x128c20['b'],_0x256ebc),'to':_0x9c77af['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0x45c114=ne()-this['_tweenInfo']['startTime'];let _0x38e112=this['fadeDurati'+'on']===0xd6c*0x1+-0x5*0x719+0x1611?0xbad+0x140*0x16+-0x272c:_0x45c114/this['fadeDurati'+'on'];if(_0x38e112=N['clamp'](_0x38e112,-0x17c0+-0x1ad1+0x3291,0x1f1*-0x6+-0x1b27*-0x1+-0x10*0xf8),Math['abs'](_0x38e112-(-0x1782+-0x4f*0x1c+0x1*0x2027))>-0xa*0x2ea+-0x1c55*-0x1+0xcf+0.00001){const _0x206ef9=this['_tweenInfo']['lerpColor'];_0x206ef9['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x38e112),this['_applyTint'+'Immediatel'+'y'](new Y(_0x206ef9['r'],_0x206ef9['g'],_0x206ef9['b'],_0x206ef9['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x10a8+-0x1745+0x13f7*0x2),this['_hoveringC'+'ounter']=-0x26f3+0xbc*-0x1a+-0x7f*-0x75,this['_isPressed']=!(0x4*0x2ab+-0x1d68+0x75*0x29),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xcc0183,_0x11f658){_0xcc0183['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x11f658[_0xcc0183['imageEntit'+'y']['getGuid']()]);}}c(ct,'EVENT_MOUS'+'EDOWN','mousedown'),c(ct,'EVENT_MOUS'+'EUP','mouseup'),c(ct,'EVENT_MOUS'+'EENTER','mouseenter'),c(ct,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(ct,'EVENT_CLIC'+'K','click'),c(ct,'EVENT_TOUC'+'HSTART','touchstart'),c(ct,'EVENT_TOUC'+'HEND','touchend'),c(ct,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(ct,'EVENT_TOUC'+'HLEAVE','touchleave'),c(ct,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ct,'EVENT_SELE'+'CTEND','selectend'),c(ct,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(ct,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(ct,'EVENT_HOVE'+'RSTART','hoverstart'),c(ct,'EVENT_HOVE'+'REND','hoverend'),c(ct,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(ct,'EVENT_PRES'+'SEDEND','pressedend');function sg(_0x4952e8){return new Y(_0x4952e8['r'],_0x4952e8['g'],_0x4952e8['b']);}class ZP{constructor(){this['enabled']=!(0x170f+-0x36*-0x21+-0x109*0x1d),this['active']=!(-0x1dca+0x2*-0x601+0xd6*0x32),this['imageEntit'+'y']=null,this['hitPadding']=new Q(),this['transition'+'Mode']=sf,this['hoverTint']=new Y(0x104*0x1+0x3c4*-0x2+0xc*0x8b+0.75,-0x78d*0x5+-0x1c64+0x4225+0.75,0x1226+0xad*-0xd+-0x33*0x2f+0.75),this['pressedTin'+'t']=new Y(0x45a+-0xeea+0xa90+0.5,0xae+0x1a*0xfd+-0x1*0x1a60+0.5,0xb*0x109+-0x30*-0xb8+-0x2de3+0.5),this['inactiveTi'+'nt']=new Y(0x39*0x3f+0x2617+0x3b9*-0xe+0.25,-0x125f+-0x1*-0x25e5+0xee*-0x15+0.25,0x11*0x45+-0x5*-0x33d+-0x14c6+0.25),this['fadeDurati'+'on']=-0x1*0xa58+-0xd57+0x81*0x2f,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x8c3+-0x7*-0x1a7+-0xa2a*0x2,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x130e*0x2+0x2*-0x13+-0xa6*-0x3b,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0xb*-0x370+0x1*-0x7c+0x2554*-0x1;}}const ig=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class QP extends Xe{constructor(_0x333ed4){super(_0x333ed4),this['id']='button',this['ComponentT'+'ype']=ct,this['DataType']=ZP,this['schema']=ig,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x54a1a6,_0x481599,_0x4d0e5f){_0x54a1a6['imageEntit'+'y']=_0x481599['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x54a1a6,_0x481599,ig);}['onUpdate'](_0x1a06fb){const _0x4a3fa8=this['store'];for(const _0x3e7ebf in _0x4a3fa8){const _0x32e709=_0x4a3fa8[_0x3e7ebf]['entity'],_0x1b3b6b=_0x32e709['button'];_0x1b3b6b['enabled']&&_0x32e709['enabled']&&_0x1b3b6b['onUpdate']();}}['_onRemoveC'+'omponent'](_0x5b45f2,_0x511919){_0x511919['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const rg=new T(),ng=new se();class Yn extends ue{constructor(_0x4d83e6,_0x4e13e4){super(_0x4d83e6,_0x4e13e4),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(-0xded+0x24b3+-0x797*0x3)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x431041=this['system']['store'][this['entity']['getGuid']()];return _0x431041?_0x431041['data']:null;}set['enabled'](_0x112858){this['_setValue']('enabled',_0x112858);}get['enabled'](){return this['data']['enabled'];}set['type'](_0xf51d3c){this['_setValue']('type',_0xf51d3c);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0xb720eb){this['_setValue']('halfExtent'+'s',_0xb720eb);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x4a1df0){this['_setValue']('linearOffs'+'et',_0x4a1df0);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x37057c){this['_setValue']('angularOff'+'set',_0x37057c);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x50e999){this['_setValue']('radius',_0x50e999);}get['radius'](){return this['data']['radius'];}set['axis'](_0x213154){this['_setValue']('axis',_0x213154);}get['axis'](){return this['data']['axis'];}set['height'](_0x34e5d1){this['_setValue']('height',_0x34e5d1);}get['height'](){return this['data']['height'];}set['asset'](_0x5b5944){this['_setValue']('asset',_0x5b5944);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x39baab){this['_setValue']('renderAsse'+'t',_0x39baab);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x5aa54e){this['_setValue']('convexHull',_0x5aa54e);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x495b43){this['_setValue']('shape',_0x495b43);}get['shape'](){return this['data']['shape'];}set['model'](_0x3e7976){this['_setValue']('model',_0x3e7976);}get['model'](){return this['data']['model'];}set['render'](_0x1b88d5){this['_setValue']('render',_0x1b88d5);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x4d0252){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x4d0252);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x48050c,_0xa11d86){const _0x28e1f1=this['data'],_0x2af6a9=_0x28e1f1[_0x48050c];_0x28e1f1[_0x48050c]=_0xa11d86,this['fire']('set',_0x48050c,_0x2af6a9,_0xa11d86);}['onSetType'](_0x88c00a,_0x338808,_0x24bc06){_0x338808!==_0x24bc06&&this['system']['changeType'](this,_0x338808,_0x24bc06);}['onSetHalfE'+'xtents'](_0x5ded78,_0x211279,_0x2a8750){const _0x526cbb=this['data']['type'];this['data']['initialize'+'d']&&_0x526cbb==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x4cf27f,_0x4b79a2,_0x54772a){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](T['ZERO'])||!this['data']['angularOff'+'set']['equals'](se['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x20b4ed,_0x16c7d0,_0x2f34f1){const _0x3ebcf0=this['data']['type'];this['data']['initialize'+'d']&&(_0x3ebcf0==='sphere'||_0x3ebcf0==='capsule'||_0x3ebcf0==='cylinder'||_0x3ebcf0==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x527322,_0x13c2f4,_0x229bfb){const _0x548dda=this['data']['type'];this['data']['initialize'+'d']&&(_0x548dda==='capsule'||_0x548dda==='cylinder'||_0x548dda==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x497258,_0x321048,_0x23e3d6){const _0x3f2d99=this['data']['type'];this['data']['initialize'+'d']&&(_0x3f2d99==='capsule'||_0x3f2d99==='cylinder'||_0x3f2d99==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x274bf9,_0x238a06,_0x56cd63){const _0x5b786b=this['system']['app']['assets'];if(_0x238a06){const _0x29d9d8=_0x5b786b['get'](_0x238a06);_0x29d9d8&&_0x29d9d8['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x56cd63){_0x56cd63 instanceof le&&(this['data']['asset']=_0x56cd63['id']);const _0x2bc7e9=_0x5b786b['get'](this['data']['asset']);_0x2bc7e9&&(_0x2bc7e9['off']('remove',this['onAssetRem'+'oved'],this),_0x2bc7e9['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x56cd63||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x1f289b,_0x81e1f2,_0x19e6e5){const _0x2be977=this['system']['app']['assets'];if(_0x81e1f2){const _0x1a1e8f=_0x2be977['get'](_0x81e1f2);_0x1a1e8f&&_0x1a1e8f['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x19e6e5){_0x19e6e5 instanceof le&&(this['data']['renderAsse'+'t']=_0x19e6e5['id']);const _0x244096=_0x2be977['get'](this['data']['renderAsse'+'t']);_0x244096&&(_0x244096['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x244096['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x19e6e5||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x3f131c,_0x5c9072,_0x325456){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x358438,_0xc9ac28,_0x18b703){this['onSetModel'](_0x358438,_0xc9ac28,_0x18b703);}['onAssetRem'+'oved'](_0xb119bc){_0xb119bc['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0xb119bc['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x2ef5fc){_0x2ef5fc['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x2ef5fc['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x3f7c00){const _0x363ee2=this['data']['shape'],_0x3e86ae=_0x363ee2['getNumChil'+'dShapes']();for(let _0x11737e=-0xaec+0xfbf+-0xd*0x5f;_0x11737e<_0x3e86ae;_0x11737e++){const _0x2907d9=_0x363ee2['getChildSh'+'ape'](_0x11737e);if(Ammo['getPointer'](_0x2907d9)===Ammo['getPointer'](_0x3f7c00))return _0x11737e;}return null;}['_onInsert'](_0x336e91){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x1e10d2=this['entity']['parent'];for(;_0x1e10d2;){if(_0x1e10d2['collision']&&_0x1e10d2['collision']['type']==='compound'){_0x1e10d2['collision']['shape']['getNumChil'+'dShapes']()===0x1*-0x22ed+0x185c+0xa91?this['system']['recreatePh'+'ysicalShap'+'es'](_0x1e10d2['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x1e10d2=_0x1e10d2['parent'];}}}}}['_updateCom'+'pound'](){const _0x526c53=this['entity'];if(_0x526c53['_dirtyWorl'+'d']){let _0x28f984=_0x526c53['_dirtyLoca'+'l'],_0x5039c4=_0x526c53;for(;_0x5039c4&&!_0x28f984&&!(_0x5039c4['collision']&&_0x5039c4['collision']===this['_compoundP'+'arent']);)_0x5039c4['_dirtyLoca'+'l']&&(_0x28f984=!(0x3b7+0x1fcf+-0x2386)),_0x5039c4=_0x5039c4['parent'];if(_0x28f984){_0x526c53['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x526c53);const _0x4f88f4=this['_compoundP'+'arent']['entity']['rigidbody'];_0x4f88f4&&_0x4f88f4['activate']();}}}['getShapePo'+'sition'](){const _0x46dd40=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x36dbcc=this['entity']['getRotatio'+'n'](),_0x3441dc=this['data']['linearOffs'+'et'];return ng['copy'](_0x36dbcc)['transformV'+'ector'](_0x3441dc,rg),rg['add'](_0x46dd40);}return _0x46dd40;}['getShapeRo'+'tation'](){const _0x4c324f=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ng['copy'](_0x4c324f)['mul'](this['data']['angularOff'+'set']):_0x4c324f;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x86dc59=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x86dc59&&(!_0x86dc59['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x151d+-0x17ea*-0x1+-0x2cd)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x21aff2=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x21aff2,this['data']['shape']),Ammo['destroy'](_0x21aff2),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Yn,'EVENT_CONT'+'ACT','contact'),c(Yn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Yn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Yn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Yn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class JP{constructor(){this['enabled']=!(0xaf*-0x29+-0x4*-0x611+0x3c3),this['type']='box',this['halfExtent'+'s']=new T(-0x238c+0x2670+0x5*-0x94+0.5,0x171*-0x13+0x10cd+0x21e*0x5+0.5,-0xf7a+0x2*-0xdd2+-0x1*-0x2b1e+0.5),this['linearOffs'+'et']=new T(),this['angularOff'+'set']=new se(),this['radius']=-0x23b3+-0x42*0x87+-0x1*-0x4681+0.5,this['axis']=-0x1*-0x15c7+-0x2705+0x113f,this['height']=0x3*0x6df+0x1a49+-0x4*0xbb9,this['convexHull']=!(-0x1cd*-0x14+0x1741+-0x1*0x3b44),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x1470+0x6*0x674+-0x138*0xf),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0xf1+0xf6*-0x2+0xfc);}}const so='static',ms='dynamic',Bn='kinematic',eR=0x14fd+-0x28+0x14d3*-0x1,lo=0x1979+0x2233+-0x8*0x775,nf=0xcf*0x2a+-0x7*-0x1bb+0x2*-0x1709,ag=-0x1*-0xeff+0xa*0x2cd+-0x2afd,tx=-0xe*0x20+0x363*-0x9+0x2040,tR=-0x4*0x38d+0x11*-0x239+-0x33fe*-0x1,og=0x9c3+0x1*-0x1df+-0x7e2,sR=-0x1360+-0x1790+0x4*0xabd,lg=0x25df+0x111*0x19+-0x4078,hg=-0xa671+-0xc983+0x26ff3,af=0x3d60+-0x7*-0x112d+0x2531*0x2;let _s,Er,Nn;class sx{constructor(_0x52a61a,_0x1ee4ca,_0x4a91ce){this['entity']=_0x1ee4ca['entity'],this['component']=_0x1ee4ca,this['app']=_0x52a61a,typeof Ammo<'u'&&!_s&&(_s=new Ammo['btVector3'](),Er=new Ammo['btQuaterni'+'on'](),Nn=new Ammo['btTransfor'+'m']()),this['initialize'](_0x4a91ce);}['initialize'](_0x27d24e){const _0x3c7f13=this['entity'],_0x2d8174=_0x27d24e['shape'];if(_0x2d8174&&typeof Ammo<'u'){_0x3c7f13['trigger']&&_0x3c7f13['trigger']['destroy']();const _0x486645=-0x76c+0x76*0xc+0x1e5,_0xb4baca=this['component'];if(_0xb4baca){const _0x3e2d5d=_0xb4baca['getShapePo'+'sition'](),_0x222878=_0xb4baca['getShapeRo'+'tation']();_s['setValue'](_0x3e2d5d['x'],_0x3e2d5d['y'],_0x3e2d5d['z']),Er['setValue'](_0x222878['x'],_0x222878['y'],_0x222878['z'],_0x222878['w']);}else{const _0xdfd325=_0x3c7f13['getPositio'+'n'](),_0x4a8a54=_0x3c7f13['getRotatio'+'n']();_s['setValue'](_0xdfd325['x'],_0xdfd325['y'],_0xdfd325['z']),Er['setValue'](_0x4a8a54['x'],_0x4a8a54['y'],_0x4a8a54['z'],_0x4a8a54['w']);}Nn['setOrigin'](_s),Nn['setRotatio'+'n'](Er);const _0x3574db=this['app']['systems']['rigidbody']['createBody'](_0x486645,_0x2d8174,Nn);_0x3574db['setRestitu'+'tion'](-0x15ae+0x1*0x263f+-0x1091),_0x3574db['setFrictio'+'n'](0x31*-0xa7+-0x1*-0xe96+0x1*0x1161),_0x3574db['setDamping'](0x1e68+0x2398+-0x4200,0x234+-0x69+-0x1cb),_s['setValue'](-0x1c26+0x2*-0x29b+0x215c,-0xcb*-0xf+-0x33a+-0x8ab,-0x1e43+0x28*0x76+0x3*0x3f1),_0x3574db['setLinearF'+'actor'](_s),_0x3574db['setAngular'+'Factor'](_s),_0x3574db['setCollisi'+'onFlags'](_0x3574db['getCollisi'+'onFlags']()|lo),_0x3574db['entity']=_0x3c7f13,this['body']=_0x3574db,this['component']['enabled']&&_0x3c7f13['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x54a087){const _0x1c76e0=this['component'];if(_0x1c76e0){const _0x7032e2=_0x1c76e0['getShapePo'+'sition'](),_0xa5c5a6=_0x1c76e0['getShapeRo'+'tation']();_s['setValue'](_0x7032e2['x'],_0x7032e2['y'],_0x7032e2['z']),Er['setValue'](_0xa5c5a6['x'],_0xa5c5a6['y'],_0xa5c5a6['z'],_0xa5c5a6['w']);}else{const _0x446448=this['entity']['getPositio'+'n'](),_0x2b2e1e=this['entity']['getRotatio'+'n']();_s['setValue'](_0x446448['x'],_0x446448['y'],_0x446448['z']),Er['setValue'](_0x2b2e1e['x'],_0x2b2e1e['y'],_0x2b2e1e['z'],_0x2b2e1e['w']);}_0x54a087['setOrigin'](_s),_0x54a087['setRotatio'+'n'](Er);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Nn);const _0x31a359=this['body'];_0x31a359['setWorldTr'+'ansform'](Nn),_0x31a359['activate']();}['enable'](){const _0xe7d0cc=this['body'];if(!_0xe7d0cc)return;const _0xd643af=this['app']['systems']['rigidbody'];_0xd643af['_triggers']['indexOf'](this)<0x1*0xb19+-0xadf*0x2+0xaa5&&(_0xd643af['addBody'](_0xe7d0cc,lg,af^lg),_0xd643af['_triggers']['push'](this)),_0xe7d0cc['forceActiv'+'ationState'](nf),this['updateTran'+'sform']();}['disable'](){const _0x31249c=this['body'];if(!_0x31249c)return;const _0xfc159f=this['app']['systems']['rigidbody'],_0x19cd7f=_0xfc159f['_triggers']['indexOf'](this);_0x19cd7f>-(0x358+0x19*0xdf+-0x5*0x506)&&(_0xfc159f['removeBody'](_0x31249c),_0xfc159f['_triggers']['splice'](_0x19cd7f,0xbc*0x1f+-0x110d+-0x5b6)),_0x31249c['forceActiv'+'ationState'](tx);}}const Xl=new q(),iR=new T(),rR=new T(),Cr=new se(),cg=new De(),nR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class xn{constructor(_0x3b5674){this['system']=_0x3b5674;}['beforeInit'+'ialize'](_0x41e209,_0x3e4650){_0x3e4650['shape']=null,_0x3e4650['model']=new Oi(),_0x3e4650['model']['graph']=new De();}['afterIniti'+'alize'](_0x1da0b2,_0x2ba836){this['recreatePh'+'ysicalShap'+'es'](_0x1da0b2),_0x1da0b2['data']['initialize'+'d']=!(-0x1c*-0x14e+0xb*-0x234+0xc4c*-0x1);}['reset'](_0x3acb97,_0x29d269){this['beforeInit'+'ialize'](_0x3acb97,_0x29d269),this['afterIniti'+'alize'](_0x3acb97,_0x29d269);}['recreatePh'+'ysicalShap'+'es'](_0x328e77){const _0x54c1c5=_0x328e77['entity'],_0x2e3818=_0x328e77['data'];if(typeof Ammo<'u'){_0x54c1c5['trigger']&&(_0x54c1c5['trigger']['destroy'](),delete _0x54c1c5['trigger']),_0x2e3818['shape']&&(_0x328e77['_compoundP'+'arent']&&(_0x328e77!==_0x328e77['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x328e77['_compoundP'+'arent'],_0x2e3818['shape']),_0x328e77['_compoundP'+'arent']['entity']['rigidbody']&&_0x328e77['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x2e3818)),_0x2e3818['shape']=this['createPhys'+'icalShape'](_0x328e77['entity'],_0x2e3818);const _0x35b2a3=!_0x328e77['_compoundP'+'arent'];if(_0x2e3818['type']==='compound'&&(!_0x328e77['_compoundP'+'arent']||_0x328e77===_0x328e77['_compoundP'+'arent']))_0x328e77['_compoundP'+'arent']=_0x328e77,_0x54c1c5['forEach'](this['_addEachDe'+'scendant'],_0x328e77);else{if(_0x2e3818['type']!=='compound'&&!_0x328e77['rigidbody']){_0x328e77['_compoundP'+'arent']=null;let _0x4b9725=_0x54c1c5['parent'];for(;_0x4b9725;){if(_0x4b9725['collision']&&_0x4b9725['collision']['type']==='compound'){_0x328e77['_compoundP'+'arent']=_0x4b9725['collision'];break;}_0x4b9725=_0x4b9725['parent'];}}}_0x328e77['_compoundP'+'arent']&&_0x328e77!==_0x328e77['_compoundP'+'arent']&&(_0x35b2a3&&_0x328e77['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x1ee1+-0x752*0x2+-0x1*0x103d?this['system']['recreatePh'+'ysicalShap'+'es'](_0x328e77['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x54c1c5,!(-0x1*0xac0+0x25e8+-0x16*0x13c)),_0x328e77['_compoundP'+'arent']['entity']['rigidbody']&&_0x328e77['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x54c1c5['rigidbody']?(_0x54c1c5['rigidbody']['disableSim'+'ulation'](),_0x54c1c5['rigidbody']['createBody'](),_0x54c1c5['enabled']&&_0x54c1c5['rigidbody']['enabled']&&_0x54c1c5['rigidbody']['enableSimu'+'lation']()):_0x328e77['_compoundP'+'arent']||(_0x54c1c5['trigger']?_0x54c1c5['trigger']['initialize'](_0x2e3818):_0x54c1c5['trigger']=new sx(this['system']['app'],_0x328e77,_0x2e3818));}}['createPhys'+'icalShape'](_0x16db18,_0x528234){}['updateTran'+'sform'](_0x341154,_0x3c0b68,_0x49375f,_0x2f8327){_0x341154['entity']['trigger']&&_0x341154['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x54d12a){_0x54d12a['shape']&&(Ammo['destroy'](_0x54d12a['shape']),_0x54d12a['shape']=null);}['beforeRemo'+'ve'](_0x2f4515,_0x584c9d){_0x584c9d['data']['shape']&&(_0x584c9d['_compoundP'+'arent']&&!_0x584c9d['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x584c9d['_compoundP'+'arent'],_0x584c9d['data']['shape']),_0x584c9d['_compoundP'+'arent']['entity']['rigidbody']&&_0x584c9d['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x584c9d['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x584c9d['data']));}['remove'](_0x1d1f05,_0x106698){_0x1d1f05['rigidbody']&&_0x1d1f05['rigidbody']['body']&&_0x1d1f05['rigidbody']['disableSim'+'ulation'](),_0x1d1f05['trigger']&&(_0x1d1f05['trigger']['destroy'](),delete _0x1d1f05['trigger']);}['clone'](_0x256c4f,_0x295753){const _0x1730de=this['system']['store'][_0x256c4f['getGuid']()],_0x2dae64={'enabled':_0x1730de['data']['enabled'],'type':_0x1730de['data']['type'],'halfExtents':[_0x1730de['data']['halfExtent'+'s']['x'],_0x1730de['data']['halfExtent'+'s']['y'],_0x1730de['data']['halfExtent'+'s']['z']],'linearOffset':[_0x1730de['data']['linearOffs'+'et']['x'],_0x1730de['data']['linearOffs'+'et']['y'],_0x1730de['data']['linearOffs'+'et']['z']],'angularOffset':[_0x1730de['data']['angularOff'+'set']['x'],_0x1730de['data']['angularOff'+'set']['y'],_0x1730de['data']['angularOff'+'set']['z'],_0x1730de['data']['angularOff'+'set']['w']],'radius':_0x1730de['data']['radius'],'axis':_0x1730de['data']['axis'],'height':_0x1730de['data']['height'],'convexHull':_0x1730de['data']['convexHull'],'asset':_0x1730de['data']['asset'],'renderAsset':_0x1730de['data']['renderAsse'+'t'],'model':_0x1730de['data']['model'],'render':_0x1730de['data']['render'],'checkVertexDuplicates':_0x1730de['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x295753,_0x2dae64);}}class aR extends xn{['createPhys'+'icalShape'](_0x350cd5,_0x3f6d03){if(typeof Ammo<'u'){const _0x47b1a7=_0x3f6d03['halfExtent'+'s'],_0x14bd14=new Ammo['btVector3'](_0x47b1a7?_0x47b1a7['x']:-0x9*0x17b+0x72b+0x628+0.5,_0x47b1a7?_0x47b1a7['y']:-0x25*-0xcd+0x12c0+-0x3061+0.5,_0x47b1a7?_0x47b1a7['z']:-0xcf6+-0x1e9d+-0x8b7*-0x5+0.5),_0x573134=new Ammo['btBoxShape'](_0x14bd14);return Ammo['destroy'](_0x14bd14),_0x573134;}}}class oR extends xn{['createPhys'+'icalShape'](_0x5c980e,_0x56a59f){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x56a59f['radius']);}}class lR extends xn{['createPhys'+'icalShape'](_0xbe5b36,_0x4a6d76){const _0x1b5b27=_0x4a6d76['axis']??-0x2d4*-0x8+-0x26*-0x31+-0x1de5,_0x9bf59d=_0x4a6d76['radius']??-0x145a+0x247f*-0x1+0x38d9+0.5,_0x2e101e=Math['max']((_0x4a6d76['height']??0x74e+-0xaa7*0x1+0x35b)-(0x10d0+-0x217f+0x10b1)*_0x9bf59d,0xd18+0x13*-0xe9+0x433);let _0x1fd47f=null;if(typeof Ammo<'u')switch(_0x1b5b27){case-0x49a+0x1b8b*0x1+-0x16f1:_0x1fd47f=new Ammo['btCapsuleS'+'hapeX'](_0x9bf59d,_0x2e101e);break;case-0x2de*-0xc+-0x5ad*-0x5+0x38*-0x11f:_0x1fd47f=new Ammo['btCapsuleS'+'hape'](_0x9bf59d,_0x2e101e);break;case-0x12dd*-0x1+0x2*0x9c7+-0x2669:_0x1fd47f=new Ammo['btCapsuleS'+'hapeZ'](_0x9bf59d,_0x2e101e);break;}return _0x1fd47f;}}class hR extends xn{['createPhys'+'icalShape'](_0x358542,_0x37bf2a){const _0x19921f=_0x37bf2a['axis']??0x422+-0x2*-0x2dd+0x9db*-0x1,_0x7da021=_0x37bf2a['radius']??-0xea3+0x9d2+0x19b*0x3+0.5,_0x28e4e1=_0x37bf2a['height']??-0xd17+-0xcbb+0x19d3;let _0x42661b=null,_0x157b67=null;if(typeof Ammo<'u')switch(_0x19921f){case 0x1*-0x24a+-0x1b11+0x1d5b:_0x42661b=new Ammo['btVector3'](_0x28e4e1*(0x22c7+-0x30a+-0x1*0x1fbd+0.5),_0x7da021,_0x7da021),_0x157b67=new Ammo['btCylinder'+'ShapeX'](_0x42661b);break;case-0x7*-0x52d+0xef2+-0x332c:_0x42661b=new Ammo['btVector3'](_0x7da021,_0x28e4e1*(0x1373*-0x1+0x2c*-0x71+0x26df*0x1+0.5),_0x7da021),_0x157b67=new Ammo['btCylinder'+'Shape'](_0x42661b);break;case-0x11c0+-0x36*0x4e+-0x111b*-0x2:_0x42661b=new Ammo['btVector3'](_0x7da021,_0x7da021,_0x28e4e1*(0x1*-0x2d4+-0x1f*-0x7c+-0xc30+0.5)),_0x157b67=new Ammo['btCylinder'+'ShapeZ'](_0x42661b);break;}return _0x42661b&&Ammo['destroy'](_0x42661b),_0x157b67;}}class cR extends xn{['createPhys'+'icalShape'](_0x4918be,_0x4d6440){const _0x4ad6fe=_0x4d6440['axis']??-0x1392+-0x31d*0x1+0x210*0xb,_0x1180a1=_0x4d6440['radius']??-0x26*-0x31+0x26d0+-0x2e16+0.5,_0x391cb7=_0x4d6440['height']??0x6db*0x3+-0x17d3+0x343;let _0xb7f98d=null;if(typeof Ammo<'u')switch(_0x4ad6fe){case-0x17ea+0x2cd*-0x4+0x231e:_0xb7f98d=new Ammo['btConeShap'+'eX'](_0x1180a1,_0x391cb7);break;case 0x1*-0x50e+-0x2222*-0x1+0x9b1*-0x3:_0xb7f98d=new Ammo['btConeShap'+'e'](_0x1180a1,_0x391cb7);break;case-0x1c6f+-0x566+-0x1*-0x21d7:_0xb7f98d=new Ammo['btConeShap'+'eZ'](_0x1180a1,_0x391cb7);break;}return _0xb7f98d;}}class dR extends xn{['beforeInit'+'ialize'](_0x45b72d,_0x37e7a6){}['createAmmo'+'Hull'](_0x2b52d3,_0x3f85ab,_0x3791f7,_0x4c3801){const _0x36a16e=new Ammo['btConvexHu'+'llShape'](),_0x2678c2=new Ammo['btVector3'](),_0x34c2d7=[];_0x2b52d3['getPositio'+'ns'](_0x34c2d7);for(let _0x5ae11c=0x1*0x1796+-0x1*0x343+0x1*-0x1453;_0x5ae11c<_0x34c2d7['length'];_0x5ae11c+=0x4ae+0xef2*0x2+-0x9*0x3d7)_0x2678c2['setValue'](_0x34c2d7[_0x5ae11c]*_0x4c3801['x'],_0x34c2d7[_0x5ae11c+(-0x18f4+-0x11c*-0xa+0xddd)]*_0x4c3801['y'],_0x34c2d7[_0x5ae11c+(-0x12c2+-0x2*-0x2d4+0xd1c)]*_0x4c3801['z']),_0x36a16e['addPoint'](_0x2678c2,!(-0x1039*-0x1+-0x1a33+0x16d*0x7));Ammo['destroy'](_0x2678c2),_0x36a16e['recalcLoca'+'lAabb'](),_0x36a16e['setMargin'](0x3*-0x923+-0x2306+0x3e6f+0.01);const _0x23a682=this['system']['_getNodeTr'+'ansform'](_0x3f85ab);_0x3791f7['addChildSh'+'ape'](_0x23a682,_0x36a16e),Ammo['destroy'](_0x23a682);}['createAmmo'+'Mesh'](_0x520d3c,_0x4bc98a,_0x319f83,_0x1a0e29,_0x44f2ba=!(0xd81+-0x41*-0x71+-0x2a32)){const _0x2765c0=this['system'];let _0x564919;if(_0x2765c0['_triMeshCa'+'che'][_0x520d3c['id']])_0x564919=_0x2765c0['_triMeshCa'+'che'][_0x520d3c['id']];else{const _0x179c2d=_0x520d3c['vertexBuff'+'er'],_0x338a77=_0x179c2d['getFormat']();let _0x160a08,_0x456c20;for(let _0x2f0c50=0x17*-0xe4+-0x8b3+0x1d2f;_0x2f0c50<_0x338a77['elements']['length'];_0x2f0c50++){const _0x1e82bd=_0x338a77['elements'][_0x2f0c50];if(_0x1e82bd['name']===He){_0x456c20=new Float32Array(_0x179c2d['lock'](),_0x1e82bd['offset']),_0x160a08=_0x1e82bd['stride']/(0x98f*0x1+-0x34a*0x4+0x39d);break;}}const _0x2f4d50=[];_0x520d3c['getIndices'](_0x2f4d50);const _0x30a8bc=_0x520d3c['primitive'][-0x53*-0x1b+0x1ac3+-0x8e1*0x4]['count']/(-0xa0a+-0x14ad+-0x13*-0x19e),_0x45a04d=new Ammo['btVector3']();let _0x26b848,_0xde927a,_0x404ded;const _0x4fe0a7=_0x520d3c['primitive'][0xf6+0x2570+0x5*-0x7ae]['base'];_0x564919=new Ammo['btTriangle'+'Mesh'](),_0x2765c0['_triMeshCa'+'che'][_0x520d3c['id']]=_0x564919;const _0x386193=new Map();v['assert'](typeof _0x564919['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x2c7f26=_0x564919['getIndexed'+'MeshArray']();_0x2c7f26['at'](-0x709+0x1663+0x1e*-0x83)['m_numTrian'+'gles']=_0x30a8bc;const _0x472f4f=_0x1a0e29?_0x1a0e29['x']:0x2fe+-0xcd*-0x17+-0x1568,_0x2f5a2d=_0x1a0e29?_0x1a0e29['y']:0x2*-0xabd+-0x530+0x1aab,_0x57027a=_0x1a0e29?_0x1a0e29['z']:0x24c9+0x17*0x26+-0x157*0x1e,_0x20dd26=_0x3e3ddf=>{const _0x3a0968=_0x456c20[_0x3e3ddf*_0x160a08]*_0x472f4f,_0xf9e7f0=_0x456c20[_0x3e3ddf*_0x160a08+(-0x8*0x8e+-0x213a+-0x1*-0x25ab)]*_0x2f5a2d,_0x1b871a=_0x456c20[_0x3e3ddf*_0x160a08+(0x182+-0xc*-0x183+-0x13a4)]*_0x57027a;let _0x42ef28;if(_0x44f2ba){const _0x22c44c=_0x3a0968+':'+_0xf9e7f0+':'+_0x1b871a;if(_0x42ef28=_0x386193['get'](_0x22c44c),_0x42ef28!==void(-0xdc6+-0x6*0x3d5+0x24c4))return _0x42ef28;_0x45a04d['setValue'](_0x3a0968,_0xf9e7f0,_0x1b871a),_0x42ef28=_0x564919['findOrAddV'+'ertex'](_0x45a04d,!(-0x37f*-0x9+0x2119*0x1+-0x408f)),_0x386193['set'](_0x22c44c,_0x42ef28);}else _0x45a04d['setValue'](_0x3a0968,_0xf9e7f0,_0x1b871a),_0x42ef28=_0x564919['findOrAddV'+'ertex'](_0x45a04d,!(0x7ea*0x3+-0x1*0xeb1+-0x304*0x3));return _0x42ef28;};for(let _0xd3f862=-0x56+-0xcc1+-0x3*-0x45d;_0xd3f862<_0x30a8bc;_0xd3f862++)_0x26b848=_0x20dd26(_0x2f4d50[_0x4fe0a7+_0xd3f862*(0x14b*0x7+0x676+0x10*-0xf8)]),_0xde927a=_0x20dd26(_0x2f4d50[_0x4fe0a7+_0xd3f862*(0x1*-0x141b+0x453+0xfcb*0x1)+(0x308+0x7*-0x1ab+0x7b*0x12)]),_0x404ded=_0x20dd26(_0x2f4d50[_0x4fe0a7+_0xd3f862*(0x108e*-0x2+-0x1ef8+0x4017)+(0xa44+-0x115*-0x1f+0x2bcd*-0x1)]),_0x564919['addIndex'](_0x26b848),_0x564919['addIndex'](_0xde927a),_0x564919['addIndex'](_0x404ded);Ammo['destroy'](_0x45a04d);}const _0x41cb64=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x564919,!(-0x143a+0x19ed+-0x5b3));if(!_0x1a0e29){const _0x14d72b=_0x2765c0['_getNodeSc'+'aling'](_0x4bc98a);_0x41cb64['setLocalSc'+'aling'](_0x14d72b),Ammo['destroy'](_0x14d72b);}const _0x359004=_0x2765c0['_getNodeTr'+'ansform'](_0x4bc98a);_0x319f83['addChildSh'+'ape'](_0x359004,_0x41cb64),Ammo['destroy'](_0x359004);}['createPhys'+'icalShape'](_0x1f6c67,_0x3e4a7a){if(!(typeof Ammo>'u')&&(_0x3e4a7a['model']||_0x3e4a7a['render'])){const _0x207420=new Ammo['btCompound'+'Shape'](),_0x33a800=_0x1f6c67['getWorldTr'+'ansform']()['getScale']();if(_0x3e4a7a['render']){const _0xb496fa=_0x3e4a7a['render']['meshes'];for(let _0x2dfa12=-0x1*-0x1c5a+-0x3f7+0x1*-0x1863;_0x2dfa12<_0xb496fa['length'];_0x2dfa12++)_0x3e4a7a['convexHull']?this['createAmmo'+'Hull'](_0xb496fa[_0x2dfa12],cg,_0x207420,_0x33a800):this['createAmmo'+'Mesh'](_0xb496fa[_0x2dfa12],cg,_0x207420,_0x33a800,_0x3e4a7a['checkVerte'+'xDuplicate'+'s']);}else{if(_0x3e4a7a['model']){const _0x212ab8=_0x3e4a7a['model']['meshInstan'+'ces'];for(let _0x2cad0b=0x34*0x2b+-0x848+-0x74;_0x2cad0b<_0x212ab8['length'];_0x2cad0b++)this['createAmmo'+'Mesh'](_0x212ab8[_0x2cad0b]['mesh'],_0x212ab8[_0x2cad0b]['node'],_0x207420,null,_0x3e4a7a['checkVerte'+'xDuplicate'+'s']);const _0x2f869a=new Ammo['btVector3'](_0x33a800['x'],_0x33a800['y'],_0x33a800['z']);_0x207420['setLocalSc'+'aling'](_0x2f869a),Ammo['destroy'](_0x2f869a);}}return _0x207420;}}['recreatePh'+'ysicalShap'+'es'](_0x5c2952){const _0x1ab4f2=_0x5c2952['data'];if((_0x1ab4f2['renderAsse'+'t']||_0x1ab4f2['asset'])&&_0x5c2952['enabled']&&_0x5c2952['entity']['enabled']){this['loadAsset'](_0x5c2952,_0x1ab4f2['renderAsse'+'t']||_0x1ab4f2['asset'],_0x1ab4f2['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x5c2952);}['loadAsset'](_0x5a0871,_0x36196a,_0x53df69){const _0x55680a=_0x5a0871['data'],_0x2be627=this['system']['app']['assets'],_0x6e91d4=_0x55680a[_0x53df69],_0x370eb5=_0x4ad40a=>{_0x55680a[_0x53df69]===_0x6e91d4&&(_0x55680a[_0x53df69]=_0x4ad40a['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x5a0871));},_0xd5f519=_0x42e825=>{_0x42e825['ready'](_0x47b78d=>{if(_0x47b78d['data']['containerA'+'sset']){const _0x1cb3e2=_0x2be627['get'](_0x47b78d['data']['containerA'+'sset']);_0x1cb3e2['loaded']?_0x370eb5(_0x47b78d):(_0x1cb3e2['ready'](()=>{_0x370eb5(_0x47b78d);}),_0x2be627['load'](_0x1cb3e2));}else _0x370eb5(_0x47b78d);}),_0x2be627['load'](_0x42e825);},_0x7edf9f=_0x2be627['get'](_0x36196a);_0x7edf9f?_0xd5f519(_0x7edf9f):_0x2be627['once']('add:'+_0x36196a,_0xd5f519);}['doRecreate'+'PhysicalSh'+'ape'](_0x2248e3){const _0x2572ac=_0x2248e3['entity'],_0x1bd6f5=_0x2248e3['data'];_0x1bd6f5['model']||_0x1bd6f5['render']?(this['destroySha'+'pe'](_0x1bd6f5),_0x1bd6f5['shape']=this['createPhys'+'icalShape'](_0x2572ac,_0x1bd6f5),_0x2572ac['rigidbody']?(_0x2572ac['rigidbody']['disableSim'+'ulation'](),_0x2572ac['rigidbody']['createBody'](),_0x2572ac['enabled']&&_0x2572ac['rigidbody']['enabled']&&_0x2572ac['rigidbody']['enableSimu'+'lation']()):_0x2572ac['trigger']?_0x2572ac['trigger']['initialize'](_0x1bd6f5):_0x2572ac['trigger']=new sx(this['system']['app'],_0x2248e3,_0x1bd6f5)):(this['beforeRemo'+'ve'](_0x2572ac,_0x2248e3),this['remove'](_0x2572ac,_0x1bd6f5));}['updateTran'+'sform'](_0x53fb1c,_0x1bbbf7,_0x17fdf9,_0x42b52f){if(_0x53fb1c['shape']){const _0xf34aa2=_0x53fb1c['entity']['getWorldTr'+'ansform']()['getScale'](),_0x50d525=_0x53fb1c['shape']['getLocalSc'+'aling']();(_0xf34aa2['x']!==_0x50d525['x']()||_0xf34aa2['y']!==_0x50d525['y']()||_0xf34aa2['z']!==_0x50d525['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x53fb1c);}super['updateTran'+'sform'](_0x53fb1c,_0x1bbbf7,_0x17fdf9,_0x42b52f);}['destroySha'+'pe'](_0x1b7c7c){if(!_0x1b7c7c['shape'])return;const _0x399868=_0x1b7c7c['shape']['getNumChil'+'dShapes']();for(let _0x378f53=0x178c+-0x1cb3+0x527;_0x378f53<_0x399868;_0x378f53++){const _0x577aef=_0x1b7c7c['shape']['getChildSh'+'ape'](_0x378f53);Ammo['destroy'](_0x577aef);}Ammo['destroy'](_0x1b7c7c['shape']),_0x1b7c7c['shape']=null;}}class uR extends xn{['createPhys'+'icalShape'](_0x3b679e,_0x4fa5e2){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x29a535){!_0x29a535['collision']||_0x29a535['rigidbody']||(_0x29a535['collision']['_compoundP'+'arent']=this,_0x29a535!==this['entity']&&_0x29a535['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x29a535['collision']));}['_updateEac'+'hDescendan'+'t'](_0x318876){_0x318876['collision']&&_0x318876['collision']['_compoundP'+'arent']===this&&(_0x318876['collision']['_compoundP'+'arent']=null,_0x318876!==this['entity']&&!_0x318876['rigidbody']&&_0x318876['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x318876['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0xb72e12){!_0xb72e12['collision']||_0xb72e12['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0xb72e12,!(-0xd*-0x296+0x23ed+-0x45*0x102));}}class fR extends Xe{constructor(_0x3a848f){super(_0x3a848f),this['id']='collision',this['ComponentT'+'ype']=Yn,this['DataType']=JP,this['schema']=nR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x1c377b,_0xdc5836,_0x20402c){_0x20402c=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x3a19e9={};for(let _0x5f501f=0x1*0x2209+0x14*0x8+-0x22a9,_0x4ba9ca=_0x20402c['length'];_0x5f501f<_0x4ba9ca;_0x5f501f++){const _0x181087=_0x20402c[_0x5f501f];_0x3a19e9[_0x181087]=_0xdc5836[_0x181087];}let _0x2829cd;if(_0xdc5836['hasOwnProp'+'erty']('asset')?(_0x2829cd=_0x20402c['indexOf']('model'),_0x2829cd!==-(0xbb5+-0x21a9+0x49*0x4d)&&_0x20402c['splice'](_0x2829cd,0x6cc+0x97*-0x2b+0x949*0x2),_0x2829cd=_0x20402c['indexOf']('render'),_0x2829cd!==-(-0x13c0+-0x1530+0x2f*0xdf)&&_0x20402c['splice'](_0x2829cd,0x3b*-0x5f+0x36c*0x9+0x22*-0x43)):_0xdc5836['hasOwnProp'+'erty']('model')&&(_0x2829cd=_0x20402c['indexOf']('asset'),_0x2829cd!==-(-0xba1+-0x63+0x1*0xc05)&&_0x20402c['splice'](_0x2829cd,-0x2d*-0x79+-0x1454*-0x1+-0x2998)),_0x3a19e9['type']||(_0x3a19e9['type']=_0x1c377b['data']['type']),_0x1c377b['data']['type']=_0x3a19e9['type'],Array['isArray'](_0x3a19e9['halfExtent'+'s'])&&(_0x3a19e9['halfExtent'+'s']=new T(_0x3a19e9['halfExtent'+'s'])),Array['isArray'](_0x3a19e9['linearOffs'+'et'])&&(_0x3a19e9['linearOffs'+'et']=new T(_0x3a19e9['linearOffs'+'et'])),Array['isArray'](_0x3a19e9['angularOff'+'set'])){const _0x3367c3=_0x3a19e9['angularOff'+'set'];_0x3367c3['length']===-0xe*0x26b+0x1e*0x9+0x20cf?_0x3a19e9['angularOff'+'set']=new se()['setFromEul'+'erAngles'](_0x3367c3[-0x6*0x5cf+-0x1*-0x130c+0xfce],_0x3367c3[0x326*0xb+-0x234*-0xb+-0x3add],_0x3367c3[0xaf5+0x303*0x1+-0xdf6]):_0x3a19e9['angularOff'+'set']=new se(_0x3a19e9['angularOff'+'set']);}const _0x523b55=this['_createImp'+'lementatio'+'n'](_0x3a19e9['type']);_0x523b55['beforeInit'+'ialize'](_0x1c377b,_0x3a19e9),super['initialize'+'ComponentD'+'ata'](_0x1c377b,_0x3a19e9,_0x20402c),_0x523b55['afterIniti'+'alize'](_0x1c377b,_0x3a19e9);}['_createImp'+'lementatio'+'n'](_0x192f7b){if(this['implementa'+'tions'][_0x192f7b]===void(0x6e5+0xdec+0x49*-0x49)){let _0x46ec5e;switch(_0x192f7b){case'box':_0x46ec5e=new aR(this);break;case'sphere':_0x46ec5e=new oR(this);break;case'capsule':_0x46ec5e=new lR(this);break;case'cylinder':_0x46ec5e=new hR(this);break;case'cone':_0x46ec5e=new cR(this);break;case'mesh':_0x46ec5e=new dR(this);break;case'compound':_0x46ec5e=new uR(this);break;default:v['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x192f7b);}this['implementa'+'tions'][_0x192f7b]=_0x46ec5e;}return this['implementa'+'tions'][_0x192f7b];}['_getImplem'+'entation'](_0x53a18c){return this['implementa'+'tions'][_0x53a18c['collision']['data']['type']];}['cloneCompo'+'nent'](_0x15cc9b,_0x30ab9d){return this['_getImplem'+'entation'](_0x15cc9b)['clone'](_0x15cc9b,_0x30ab9d);}['onBeforeRe'+'move'](_0x55b7cb,_0x2860f6){this['implementa'+'tions'][_0x2860f6['data']['type']]['beforeRemo'+'ve'](_0x55b7cb,_0x2860f6),_0x2860f6['onBeforeRe'+'move']();}['onRemove'](_0x3f8ce6,_0x28701a){this['implementa'+'tions'][_0x28701a['type']]['remove'](_0x3f8ce6,_0x28701a);}['updateComp'+'oundChildT'+'ransform'](_0x52a5a9,_0x5e99d8){const _0x142629=_0x52a5a9['collision']['_compoundP'+'arent'];if(_0x142629!==_0x52a5a9['collision']&&_0x52a5a9['enabled']&&_0x52a5a9['collision']['enabled']&&(_0x52a5a9['_dirtyLoca'+'l']||_0x5e99d8)){const _0x4057a4=this['_getNodeTr'+'ansform'](_0x52a5a9,_0x142629['entity']),_0x2c1a33=_0x142629['getCompoun'+'dChildShap'+'eIndex'](_0x52a5a9['collision']['shape']);_0x2c1a33===null?_0x142629['shape']['addChildSh'+'ape'](_0x4057a4,_0x52a5a9['collision']['data']['shape']):_0x142629['shape']['updateChil'+'dTransform'](_0x2c1a33,_0x4057a4,!(0x541+0x10c*-0x8+0x11*0x2f)),Ammo['destroy'](_0x4057a4);}}['_removeCom'+'poundChild'](_0x48804f,_0x424468){if(_0x48804f['shape']['getNumChil'+'dShapes']()!==-0x232+0x5*-0x2a2+0xf5c){if(_0x48804f['shape']['removeChil'+'dShape'])_0x48804f['shape']['removeChil'+'dShape'](_0x424468);else{const _0x4b642e=_0x48804f['getCompoun'+'dChildShap'+'eIndex'](_0x424468);_0x4b642e!==null&&_0x48804f['shape']['removeChil'+'dShapeByIn'+'dex'](_0x4b642e);}}}['onTransfor'+'mChanged'](_0x5cd67b,_0xfe0fed,_0x19f844,_0x44f013){this['implementa'+'tions'][_0x5cd67b['data']['type']]['updateTran'+'sform'](_0x5cd67b,_0xfe0fed,_0x19f844,_0x44f013);}['changeType'](_0x4248c6,_0x4aa651,_0x56cbc0){this['implementa'+'tions'][_0x4aa651]['beforeRemo'+'ve'](_0x4248c6['entity'],_0x4248c6),this['implementa'+'tions'][_0x4aa651]['remove'](_0x4248c6['entity'],_0x4248c6['data']),this['_createImp'+'lementatio'+'n'](_0x56cbc0)['reset'](_0x4248c6,_0x4248c6['data']);}['recreatePh'+'ysicalShap'+'es'](_0x3b4921){this['implementa'+'tions'][_0x3b4921['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x3b4921);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x2c5fd7,_0x4bbe7e){if(_0x2c5fd7===_0x4bbe7e){const _0x37ca9c=_0x2c5fd7['getWorldTr'+'ansform']()['getScale']();Xl['setScale'](_0x37ca9c['x'],_0x37ca9c['y'],_0x37ca9c['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x2c5fd7['parent'],_0x4bbe7e),Xl['mul'](_0x2c5fd7['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x35fdac){const _0xe7b622=_0x35fdac['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0xe7b622['x'],_0xe7b622['y'],_0xe7b622['z']);}['_getNodeTr'+'ansform'](_0x7688e4,_0xae348c){let _0x57bf92,_0x4c96b5;_0xae348c?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x7688e4,_0xae348c),_0x57bf92=iR,_0x4c96b5=Cr,Xl['getTransla'+'tion'](_0x57bf92),_0x4c96b5['setFromMat'+'4'](Xl)):(_0x57bf92=_0x7688e4['getPositio'+'n'](),_0x4c96b5=_0x7688e4['getRotatio'+'n']());const _0x284cac=new Ammo['btQuaterni'+'on'](),_0x4c3fb0=new Ammo['btTransfor'+'m']();_0x4c3fb0['setIdentit'+'y']();const _0x65897=_0x4c3fb0['getOrigin'](),_0x5118bd=_0x7688e4['collision'];if(_0x5118bd&&_0x5118bd['_hasOffset']){const _0x12a096=_0x5118bd['data']['linearOffs'+'et'],_0x4e619e=_0x5118bd['data']['angularOff'+'set'],_0x51e908=rR;Cr['copy'](_0x4c96b5)['transformV'+'ector'](_0x12a096,_0x51e908),_0x51e908['add'](_0x57bf92),Cr['copy'](_0x4c96b5)['mul'](_0x4e619e),_0x65897['setValue'](_0x51e908['x'],_0x51e908['y'],_0x51e908['z']),_0x284cac['setValue'](Cr['x'],Cr['y'],Cr['z'],Cr['w']);}else _0x65897['setValue'](_0x57bf92['x'],_0x57bf92['y'],_0x57bf92['z']),_0x284cac['setValue'](_0x4c96b5['x'],_0x4c96b5['y'],_0x4c96b5['z'],_0x4c96b5['w']);return _0x4c3fb0['setRotatio'+'n'](_0x284cac),Ammo['destroy'](_0x284cac),_0x4c3fb0;}['destroy'](){for(const _0x534449 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x534449]);this['_triMeshCa'+'che']=null,super['destroy']();}}const jl=new Y(),pR=new Ot();class mR{constructor(_0x21a5ba,_0x58e1f9,_0x6f5a1b){this['_entity']=_0x21a5ba,this['_element']=_0x21a5ba['element'],this['model']=new Oi(),this['node']=new De(),this['model']['graph']=this['node'],this['mesh']=_0x58e1f9,this['meshInstan'+'ce']=new Le(this['mesh'],_0x6f5a1b,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x21a5ba['name'],this['meshInstan'+'ce']['castShadow']=!(-0x75*-0x2e+-0x1eed+-0x2*-0x4f4),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x193*0x11+-0x1c78+-0x49*-0x6),this['_meshDirty']=!(0x368+-0x2447+0x20e0),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x31ab43,_0x3ee9c4;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x31ab43=this['meshInstan'+'ce'])==null||_0x31ab43['destroy'](),this['meshInstan'+'ce']=null,(_0x3ee9c4=this['unmaskMesh'+'Instance'])==null||_0x3ee9c4['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0xe08098){this['meshInstan'+'ce']&&(this['mesh']=_0xe08098,this['meshInstan'+'ce']['mesh']=_0xe08098,this['meshInstan'+'ce']['visible']=!!_0xe08098,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0xe08098),this['forceUpdat'+'eAabb']());}['setMask'](_0x263365){var _0x3b7e63;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x263365){this['unmaskMesh'+'Instance']=new Le(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0x17*-0x2b+-0x20a3+-0x3*-0xc2b),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0x9d*-0x1b+-0xbf3+0x1c83),this['unmaskMesh'+'Instance']['pick']=!(0x104a+0x1*0x157c+-0x25c5),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x3c70b4 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x3c70b4,this['meshInstan'+'ce']['parameters'][_0x3c70b4]['data']);}else{const _0xd4c61=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0xd4c61>=-0x361+-0x18d5+0x1c36&&this['model']['meshInstan'+'ces']['splice'](_0xd4c61,0x2*-0xb00+-0x94f*-0x2+-0x3*-0x121);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x263365||((_0x3b7e63=this['unmaskMesh'+'Instance'])==null||_0x3b7e63['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0xcb311c){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0xcb311c,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0xcb311c));}['setParamet'+'er'](_0x3d863e,_0x4e64b3){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x3d863e,_0x4e64b3),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x3d863e,_0x4e64b3));}['deletePara'+'meter'](_0x21646d){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x21646d),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x21646d));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x44f78e=function(_0x5db9ab){let _0x30bfaf;const _0xbc3d=_0x5db9ab['children'],_0x12ac13=_0xbc3d['length'];if(_0x12ac13){for(let _0x39ae96=-0x86d*0x1+-0x57*0x6d+0x2d78;_0x39ae96<_0x12ac13;_0x39ae96++)_0xbc3d[_0x39ae96]['element']&&(_0x30bfaf=_0xbc3d[_0x39ae96]);if(!_0x30bfaf)return null;const _0x2f3baf=_0x44f78e(_0x30bfaf);return _0x2f3baf||_0x30bfaf;}return null;};if(this['unmaskMesh'+'Instance']){const _0x364a20=_0x44f78e(this['_entity']);_0x364a20&&_0x364a20['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x364a20['element']['drawOrder']+_0x364a20['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),v['trace'](Ss,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x5c09c2){this['meshInstan'+'ce']&&(v['trace'](Ss,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x5c09c2),this['meshInstan'+'ce']['drawOrder']=_0x5c09c2);}['setCull'](_0x7b585d){if(!this['meshInstan'+'ce'])return;const _0x416ef4=this['_element'];let _0x417945=null;_0x7b585d&&_0x416ef4['_isScreenS'+'pace']()&&(_0x417945=function(_0x270c83){return _0x416ef4['isVisibleF'+'orCamera'](_0x270c83);}),this['meshInstan'+'ce']['cull']=_0x7b585d,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x417945,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x7b585d,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x417945);}['setScreenS'+'pace'](_0xd34c09){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0xd34c09,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0xd34c09));}['setLayer'](_0x2fbf33){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x2fbf33,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x2fbf33));}['forceUpdat'+'eAabb'](_0xf77b0b){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0x336*0x4+0x11*0x1c9+0x80*-0x23),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x1863+0x31e+-0x1b80)));}['setAabbFun'+'c'](_0x3c6822){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x3c6822,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x3c6822));}}class _R{constructor(_0x15286d){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x15286d,this['_entity']=_0x15286d['entity'],this['_system']=_0x15286d['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=0x1607+0x1*0xedb+-0x1271*0x2,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0xf3*0x11+-0x596*0x4+0x267c),this['_rect']=new Q(0xbb1*0x1+0x1*0x7dd+0x2*-0x9c7,0x1*-0x2077+-0xa37*0x2+0x34e5,0x276+0xf6e+-0x11e3,0xf31+0x37c+0x2*-0x956),this['_mask']=!(-0x1*0x19fb+0x1*0x4+0x67e*0x4),this['_maskRef']=0x1802+-0x481+-0x1381,this['_outerScal'+'e']=new $(),this['_outerScal'+'eUniform']=new Float32Array(0xa2*-0x6+0x826+0x2*-0x22c),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x12*0xc3+-0x185f+0x2619),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0x1ca7+-0xe31+0x739*-0x2),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new mR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(0x19cf+0x64b+-0x9*0x391,-0x167*-0x13+0x431*0x6+-0x33ca,0x6f+0x245*-0x2+0x20e*0x2,-0xa1b+-0xe84*-0x1+-0x468),this['_colorUnif'+'orm']=new Float32Array([0x1b36+-0xf*-0x9b+0x742*-0x5,0x1489+-0x184+-0x1304,-0x2658+-0x2e4+0x293d]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',0x49d*-0x3+-0x2*-0x3fd+0x5de),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x562ea1){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x4cbb06){this['_updateMat'+'erial'](_0x4cbb06);}['_onScreenC'+'hange'](_0x353881,_0x4d23aa){_0x353881?this['_updateMat'+'erial'](_0x353881['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x3*0x270+-0x1142+0x9f3*0x1));}['_onDrawOrd'+'erChange'](_0xa9fe91){this['_renderabl'+'e']['setDrawOrd'+'er'](_0xa9fe91),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0xa27+-0x23c0+0x199a);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe);}['_updateMat'+'erial'](_0x1d1789){const _0x33886b=!!this['_mask'],_0x802c0f=!!(this['sprite']&&this['sprite']['renderMode']===nt),_0xd94d98=!!(this['sprite']&&this['sprite']['renderMode']===Qe);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x1d1789,_0x33886b,_0x802c0f,_0xd94d98)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x1d1789),this['_renderabl'+'e']['setLayer'](_0x1d1789?Ub:c0));}['_createMes'+'h'](){const _0x8bbd40=this['_element'],_0x4f6008=_0x8bbd40['calculated'+'Width'],_0x47755f=_0x8bbd40['calculated'+'Height'],_0x434f4b=this['_rect'],_0x2fc9d7=this['_system']['app']['graphicsDe'+'vice'],_0x1caca2=new Float32Array([_0x4f6008,-0x143e*-0x1+-0x2128+-0x72*-0x1d,0x167*0x8+-0xa*-0x177+-0x19de,-0x24b3+-0x169a+-0x2f*-0x143,0x691*-0x5+-0x1047+0xe*0x382,0x17b*-0x15+-0x9b6+0x6cd*0x6,_0x434f4b['x']+_0x434f4b['z'],-0x10*-0x18d+0x1a*-0x8b+-0xab1-_0x434f4b['y'],_0x4f6008,_0x47755f,0x1bc2+0xda*-0x26+0x49a,0x26ba*-0x1+0x45b*-0x1+0x29*0x10d,-0x1d87+0x8e*-0x3+-0x1*-0x1f31,-0x17ec+0x570+-0x1*-0x127d,_0x434f4b['x']+_0x434f4b['z'],-0x77c+0xae1+-0x364-(_0x434f4b['y']+_0x434f4b['w']),0x1820+0x9*-0x9d+-0x1b1*0xb,0x71*0xa+-0x26ee+-0x1142*-0x2,-0x1b97+0x15f4+0x1*0x5a3,0x91*0x3b+0xb61+-0x2ccc,0x24*-0x2a+0x1ea4+-0x4*0x62f,0x3d*0x6f+-0x1b88+0x2*0x8b,_0x434f4b['x'],-0x18e8*0x1+-0x2e*0xcc+0x1*0x3d91-_0x434f4b['y'],-0x7*0x35b+0x2055*0x1+-0x8d8,_0x47755f,-0xa58+-0x16a*-0x11+-0xdb2,0x9c4*0x3+0x40*-0x18+-0x174c,-0x4b7*-0x2+0x8b*0x7+-0xd3b,0xf7d+0x243f+-0x2b9*0x13,_0x434f4b['x'],0x759+0x1*0x1604+0xeae*-0x2-(_0x434f4b['y']+_0x434f4b['w'])]),_0x5402a5=pR['get'](_0x2fc9d7,()=>new Et(_0x2fc9d7,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':Yt,'components':0x3,'type':Ee},{'semantic':ns,'components':0x2,'type':Ee}])),_0x15f763=new os(_0x2fc9d7,_0x5402a5,0x26b1+0x1*0x557+-0x2c04,{'data':_0x1caca2['buffer']}),_0x5e2a64=new Ie(_0x2fc9d7);return _0x5e2a64['vertexBuff'+'er']=_0x15f763,_0x5e2a64['primitive'][-0x8e4+0x9d*-0x3+-0xabb*-0x1]['type']=ar,_0x5e2a64['primitive'][0x3a*-0x39+-0x182d+-0xf*-0x279]['base']=-0x1bd2+0x10*0x16+-0x2a5*-0xa,_0x5e2a64['primitive'][-0x62f+-0x10c6+-0x16f5*-0x1]['count']=-0x8*-0x2d7+-0x20f7+0x25*0x47,_0x5e2a64['primitive'][-0x6f3+-0x1c32+0x2325]['indexed']=!(0x359+0x1*-0x1c64+-0x2*-0xc86),_0x5e2a64['aabb']['setMinMax'](T['ZERO'],new T(_0x4f6008,_0x47755f,-0x2f0+-0x37*-0xb3+-0x2385)),this['_updateMes'+'h'](_0x5e2a64),_0x5e2a64;}['_updateMes'+'h'](_0x401cef){const _0x58c2ff=this['_element'];let _0x3a7d64=_0x58c2ff['calculated'+'Width'],_0x24030b=_0x58c2ff['calculated'+'Height'];if(_0x58c2ff['fitMode']!==gh&&this['_targetAsp'+'ectRatio']>-0x20fd+0x1f*-0xfa+-0x29*-0x18b){const _0x104043=_0x58c2ff['calculated'+'Width']/_0x58c2ff['calculated'+'Height'];_0x58c2ff['fitMode']===YP&&_0x104043>this['_targetAsp'+'ectRatio']||_0x58c2ff['fitMode']===KP&&_0x104043<this['_targetAsp'+'ectRatio']?_0x3a7d64=_0x58c2ff['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x24030b=_0x58c2ff['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x10fd2a=_0x58c2ff['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x10fd2a),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){const _0x4b75f8=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x56ece3=(-0xc1d+-0x1c8+-0xde7*-0x1)/_0x4b75f8['rect']['z'],_0x19778e=(0x3*0x476+0x3*-0x407+-0x1*0x14b)/_0x4b75f8['rect']['w'];this['_innerOffs'+'et']['set'](_0x4b75f8['border']['x']*_0x56ece3,_0x4b75f8['border']['y']*_0x19778e,_0x4b75f8['border']['z']*_0x56ece3,_0x4b75f8['border']['w']*_0x19778e);const _0x4465de=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x4b75f8['rect']['x']/_0x4465de['width'],_0x4b75f8['rect']['y']/_0x4465de['height'],_0x4b75f8['rect']['z']/_0x4465de['width'],_0x4b75f8['rect']['w']/_0x4465de['height']);const _0xfda01=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0xc5160d=_0x4b75f8['rect']['z']/_0xfda01,_0xba2d45=_0x4b75f8['rect']['w']/_0xfda01;this['_outerScal'+'e']['set'](Math['max'](_0x3a7d64,this['_innerOffs'+'et']['x']*_0xc5160d),Math['max'](_0x24030b,this['_innerOffs'+'et']['y']*_0xba2d45));let _0x80d1bb=_0xc5160d,_0x57966b=_0xba2d45;this['_outerScal'+'e']['x']/=_0xc5160d,this['_outerScal'+'e']['y']/=_0xba2d45,_0x80d1bb*=N['clamp'](_0x3a7d64/(this['_innerOffs'+'et']['x']*_0xc5160d),0x1bd0*0x1+-0x1f7a+0x3aa+0.0001,0xa4+0xe*-0x1f5+0x1ac3),_0x57966b*=N['clamp'](_0x24030b/(this['_innerOffs'+'et']['y']*_0xba2d45),0x2*-0xb6a+0xab*0x21+-0xc9*-0x1+0.0001,0x117b+0xa7*-0x27+0x7f7),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x6ab+-0x2c5*-0x3+-0xefa]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0xe57*-0x1+-0x136e*-0x1+-0x516]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x1*0x26ab+0x18e*-0x1+-0x251b]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x236e+0xf6c+0x1405]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x1057*0x1+-0x3a*0x29+0x19a1]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x51*-0x2+0x4f*0x4c+0x4d1*-0x5]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x24ae+0x83e*0x4+-0x1dc*-0x2]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0xbbe+-0x39e+0xf5f*0x1]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][0x17b5+-0x2467*0x1+0xcb2]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1a9*0x17+0x1f51+-0x457f*0x1]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x80d1bb,_0x57966b,-0x1c*0x125+0x2682*-0x1+-0x9*-0x7d7),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((-0x4c9*0x2+-0x6*-0x607+-0x1a98*0x1+0.5-_0x58c2ff['pivot']['x'])*_0x3a7d64,(0x1bdb+0x23d0+0x3fab*-0x1+0.5-_0x58c2ff['pivot']['y'])*_0x24030b,-0xb2*0x29+-0x26b9+0x1*0x433b));}else{const _0x59d6df=_0x401cef['vertexBuff'+'er'],_0x263e58=new Float32Array(_0x59d6df['lock']()),_0x21027a=_0x58c2ff['pivot']['x'],_0x34a944=_0x58c2ff['pivot']['y'];_0x263e58[0x26c0*0x1+0x1bc2+-0x4282]=_0x3a7d64-_0x21027a*_0x3a7d64,_0x263e58[0xf91*-0x1+-0x65b*0x5+0x2f59]=0x1*-0x14cb+0xed6+0x5*0x131-_0x34a944*_0x24030b,_0x263e58[-0x405+0x39f+0x6e]=_0x3a7d64-_0x21027a*_0x3a7d64,_0x263e58[0x3*0x50c+-0xef6*0x1+-0x1*0x25]=_0x24030b-_0x34a944*_0x24030b,_0x263e58[0x241f+-0x5fc*-0x4+0x3bff*-0x1]=-0x16b7+0x954+0x95*0x17-_0x21027a*_0x3a7d64,_0x263e58[-0x60f+0x150d*0x1+-0xeed]=-0xa*0x206+0x562+0xeda*0x1-_0x34a944*_0x24030b,_0x263e58[0x1*0x1941+0x1d53+-0x367c]=0x17a*-0x7+-0x2*0x942+0x1cda-_0x21027a*_0x3a7d64,_0x263e58[0x19d2+-0x1439+-0x58*0x10]=_0x24030b-_0x34a944*_0x24030b;let _0xa611ca=-0x6e6+-0x29f*0xc+0x265b,_0x5ecf10=0x31*0x74+-0xc99+-0x2*0x4cd,_0x5c43f0=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x4f392c=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x4f392c&&(_0x5c43f0=_0x4f392c['rect'],_0xa611ca=this['_sprite']['atlas']['texture']['width'],_0x5ecf10=this['_sprite']['atlas']['texture']['height']);}_0x263e58[0xb2c+0x25*0xfa+-0x2f48]=(_0x5c43f0['x']+_0x5c43f0['z'])/_0xa611ca,_0x263e58[0x2015+0x17eb+0x17*-0x26f]=0x9f0+-0x25fd+0x1c0e-_0x5c43f0['y']/_0x5ecf10,_0x263e58[0x2016+0x18db+-0x38e3]=(_0x5c43f0['x']+_0x5c43f0['z'])/_0xa611ca,_0x263e58[-0x19e1+0x1*0x91d+0x10d3]=0x24+0x1c55*-0x1+-0x9*-0x322-(_0x5c43f0['y']+_0x5c43f0['w'])/_0x5ecf10,_0x263e58[-0x1911+-0x1e39+0x3760]=_0x5c43f0['x']/_0xa611ca,_0x263e58[-0x1c5e*-0x1+0x17*0x43+-0x6dc*0x5]=-0x227d+0x11bc+0x10c2-_0x5c43f0['y']/_0x5ecf10,_0x263e58[0x1611+0x1305+-0x28f8]=_0x5c43f0['x']/_0xa611ca,_0x263e58[-0xbd8+0x1143+0x153*-0x4]=-0x1*0x2491+0x20ae+0x3e4-(_0x5c43f0['y']+_0x5c43f0['w'])/_0x5ecf10,_0x59d6df['unlock']();const _0x4fd7d8=new T(0x121f+-0x2*0xcdf+-0x79f*-0x1-_0x21027a*_0x3a7d64,-0x14ef+-0x2503+0x2*0x1cf9-_0x34a944*_0x24030b,0x17*0x18d+0x325+-0x26d0),_0x52cf89=new T(_0x3a7d64-_0x21027a*_0x3a7d64,_0x24030b-_0x34a944*_0x24030b,-0x732+0x4*0x3d2+-0x5*0x19e);_0x401cef['aabb']['setMinMax'](_0x4fd7d8,_0x52cf89),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x5*0x7a9+-0xd78+0x33c6,-0xeca*-0x1+-0xf16+0x4d,-0x21b1*-0x1+-0x1c80+0xa6*-0x8),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0x125a+-0x1c*0x31+0x17b6,-0x1d05+-0x35c+0xacb*0x3,0x1ce6+-0x97*-0x1d+-0x2e01),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0x268+0x2403+0x1*-0x219a);}['_updateSpr'+'ite'](){let _0x292419=!(0x86e*-0x3+0x47f*0x1+0x14cc),_0xb31a9d=null;if(this['_targetAsp'+'ectRatio']=-(-0x2375*0x1+-0x4*-0x464+-0x2*-0x8f3),this['_sprite']&&this['_sprite']['atlas']){_0xb31a9d=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x292419=this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe;const _0x39a4ec=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x39a4ec==null?void(-0x1f72+0xc33+0x17b*0xd):_0x39a4ec['rect']['w'])>-0x2412+-0x9*-0x123+0x19d7&&(this['_targetAsp'+'ectRatio']=_0x39a4ec['rect']['z']/_0x39a4ec['rect']['w']);}this['mesh']=_0x292419?_0xb31a9d:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x446*0x6+0x1f30+-0x38d4):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x91bc6e){return _0x91bc6e['center']['set'](-0xa2b+-0x26d3+0x30fe,0xa3+0x22*-0x8a+0x11b1,0x2eb*-0xa+0x3ab*0x9+-0x3d5),_0x91bc6e['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x410+0x133c+-0x174c+0.5),this['_outerScal'+'e']['y']*(-0x20*-0x71+0xafb+-0x191b+0.5),0x267b+-0x1f84+-0x6f7+0.001),_0x91bc6e['setFromTra'+'nsformedAa'+'bb'](_0x91bc6e,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x91bc6e;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x4eab52=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x4eab52),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x30ec02){this['material']=_0x30ec02['resource'];}['_onMateria'+'lAdded'](_0x59fea2){this['_system']['app']['assets']['off']('add:'+_0x59fea2['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x59fea2['id']&&this['_bindMater'+'ialAsset'](_0x59fea2);}['_bindMater'+'ialAsset'](_0x13deea){this['_entity']['enabled']&&(_0x13deea['on']('load',this['_onMateria'+'lLoad'],this),_0x13deea['on']('change',this['_onMateria'+'lChange'],this),_0x13deea['on']('remove',this['_onMateria'+'lRemove'],this),_0x13deea['resource']?this['_onMateria'+'lLoad'](_0x13deea):this['_system']['app']['assets']['load'](_0x13deea));}['_unbindMat'+'erialAsset'](_0x21c40d){_0x21c40d['off']('load',this['_onMateria'+'lLoad'],this),_0x21c40d['off']('change',this['_onMateria'+'lChange'],this),_0x21c40d['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x26de7f){this['_system']['app']['assets']['off']('add:'+_0x26de7f['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x26de7f['id']&&this['_bindTextu'+'reAsset'](_0x26de7f);}['_bindTextu'+'reAsset'](_0x14b8b0){this['_entity']['enabled']&&(_0x14b8b0['on']('load',this['_onTexture'+'Load'],this),_0x14b8b0['on']('change',this['_onTexture'+'Change'],this),_0x14b8b0['on']('remove',this['_onTexture'+'Remove'],this),_0x14b8b0['resource']?this['_onTexture'+'Load'](_0x14b8b0):this['_system']['app']['assets']['load'](_0x14b8b0));}['_unbindTex'+'tureAsset'](_0x54d9d0){_0x54d9d0['off']('load',this['_onTexture'+'Load'],this),_0x54d9d0['off']('change',this['_onTexture'+'Change'],this),_0x54d9d0['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x4e8cb9){this['texture']=_0x4e8cb9['resource'];}['_onTexture'+'Change'](_0x4f6650){}['_onTexture'+'Remove'](_0x422eb0){}['_onSpriteA'+'ssetAdded'](_0x4137fc){this['_system']['app']['assets']['off']('add:'+_0x4137fc['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x4137fc['id']&&this['_bindSprit'+'eAsset'](_0x4137fc);}['_bindSprit'+'eAsset'](_0x11339a){this['_entity']['enabled']&&(_0x11339a['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x11339a['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x11339a['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x11339a['resource']?this['_onSpriteA'+'ssetLoad'](_0x11339a):this['_system']['app']['assets']['load'](_0x11339a));}['_unbindSpr'+'iteAsset'](_0xfdaeb0){_0xfdaeb0['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0xfdaeb0['off']('change',this['_onSpriteA'+'ssetChange'],this),_0xfdaeb0['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0xfdaeb0['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0xfdaeb0['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x4751cf){if(!_0x4751cf||!_0x4751cf['resource'])this['sprite']=null;else{if(_0x4751cf['resource']['atlas'])this['sprite']=_0x4751cf['resource'];else{const _0x1c5b46=_0x4751cf['data']['textureAtl'+'asAsset'];if(_0x1c5b46){const _0x2259df=this['_system']['app']['assets'];_0x2259df['off']('load:'+_0x1c5b46,this['_onTexture'+'AtlasLoad'],this),_0x2259df['once']('load:'+_0x1c5b46,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x18fef1){this['_onSpriteA'+'ssetLoad'](_0x18fef1);}['_onSpriteA'+'ssetRemove'](_0x1c2ebf){}['_bindSprit'+'e'](_0x35d595){this['_evtSetMes'+'hes']=_0x35d595['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x35d595['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x35d595['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x35d595['atlas']&&_0x35d595['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x3065f5){var _0x5d065f;(_0x5d065f=this['_evtSetMes'+'hes'])==null||_0x5d065f['off'](),this['_evtSetMes'+'hes']=null,_0x3065f5['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x3065f5['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x3065f5['atlas']&&_0x3065f5['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x1f91+-0x1262+0x31f3,this['_sprite']['frameKeys']['length']-(-0x35*0x11+0xf5*-0x26+-0x17*-0x1bc))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Ti&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x4bf409){const _0x3a075a=this['_spriteAss'+'et'];_0x3a075a instanceof le?this['_onSpriteA'+'ssetLoad'](_0x3a075a):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x3a075a));}['onEnable'](){if(this['_materialA'+'sset']){const _0x52f65f=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x52f65f&&_0x52f65f['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x52f65f);}if(this['_textureAs'+'set']){const _0x3d96ae=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x3d96ae&&_0x3d96ae['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x3d96ae);}if(this['_spriteAss'+'et']){const _0x352fca=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x352fca&&_0x352fca['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x352fca);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x3120f4){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x3120f4,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x3120f4;let _0x311a2d=-0x8*0x80+-0x9+0x409;if(this['_element']['maskedBy']&&(_0x311a2d=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x3f2096=new qs({'ref':_0x311a2d+(-0x7a8+0x5df*0x1+0x2*0xe5),'func':Ch,'zpass':$S});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x3f2096,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x3f2096;}}['_updateRen'+'derableEmi'+'ssive'](){jl['linear'](this['_color']),this['_colorUnif'+'orm'][-0x1294+-0x3*0x6d0+-0x1*-0x2704]=jl['r'],this['_colorUnif'+'orm'][-0x1*0x1305+-0x2243+0x3549]=jl['g'],this['_colorUnif'+'orm'][0x11*0xdf+-0x249b*-0x1+-0x3368]=jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x1e11c9){this['_color']===_0x1e11c9&&v['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x199a27,g:_0x1baee8,b:_0xdc83f7}=_0x1e11c9;(this['_color']['r']!==_0x199a27||this['_color']['g']!==_0x1baee8||this['_color']['b']!==_0xdc83f7)&&(this['_color']['r']=_0x199a27,this['_color']['g']=_0x1baee8,this['_color']['b']=_0xdc83f7,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x291895){_0x291895!==this['_color']['a']&&(this['_color']['a']=_0x291895,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x291895)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x291895);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x86a297){this['_rect']===_0x86a297&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x2855c3,_0x43d097,_0x270734,_0x198c8e;_0x86a297 instanceof Q?(_0x2855c3=_0x86a297['x'],_0x43d097=_0x86a297['y'],_0x270734=_0x86a297['z'],_0x198c8e=_0x86a297['w']):(_0x2855c3=_0x86a297[0xa*-0x30+0x1d81+-0x1ba1],_0x43d097=_0x86a297[0x266f+0x1*0x29c+-0x290a],_0x270734=_0x86a297[0x11f9+-0x1d64+0xb6d],_0x198c8e=_0x86a297[-0x1*0x1406+-0xf*0x1a0+-0x1*-0x2c69]),!(_0x2855c3===this['_rect']['x']&&_0x43d097===this['_rect']['y']&&_0x270734===this['_rect']['z']&&_0x198c8e===this['_rect']['w'])&&(this['_rect']['set'](_0x2855c3,_0x43d097,_0x270734,_0x198c8e),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x35*0x10+-0x1c2a+0x1f7a):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x33754c=this['_system']['app']['assets'];_0x33754c['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x3f523a=_0x33754c['get'](this['_materialA'+'sset']);_0x3f523a&&(_0x3f523a['off']('load',this['_onMateria'+'lLoad'],this),_0x3f523a['off']('change',this['_onMateria'+'lChange'],this),_0x3f523a['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x238df9){if(this['_material']!==_0x238df9){if(!_0x238df9){const _0x46d5e3=this['_element']['_isScreenS'+'pace']();this['mask']?_0x238df9=_0x46d5e3?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x238df9=_0x46d5e3?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x238df9,this['_materialA'+'sset']){const _0x1c8175=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x1c8175||_0x1c8175['resource']!==_0x238df9)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x238df9&&(this['_renderabl'+'e']['setMateria'+'l'](_0x238df9),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x465e46){const _0x1f078e=this['_system']['app']['assets'];let _0x46452e=_0x465e46;if(_0x465e46 instanceof le&&(_0x46452e=_0x465e46['id']),this['_materialA'+'sset']!==_0x46452e){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x46452e,this['_materialA'+'sset']){const _0x48845b=_0x1f078e['get'](this['_materialA'+'sset']);_0x48845b?this['_bindMater'+'ialAsset'](_0x48845b):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x46452e,_0x1f078e['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x46452e;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x3e185d){if(this['_texture']!==_0x3e185d){if(this['_textureAs'+'set']){const _0x162b54=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x162b54&&_0x162b54['resource']!==_0x3e185d&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x3e185d,_0x3e185d){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x4404fd=this['_texture']['width']/this['_texture']['height'];_0x4404fd!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x4404fd,this['_element']['fitMode']!==gh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x1542+0x1354+0x5*0x63),this['_element']['fitMode']!==gh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x53ae7d){const _0x32fa5e=this['_system']['app']['assets'];let _0x2b3a9f=_0x53ae7d;if(_0x53ae7d instanceof le&&(_0x2b3a9f=_0x53ae7d['id']),this['_textureAs'+'set']!==_0x2b3a9f){if(this['_textureAs'+'set']){_0x32fa5e['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x19b474=_0x32fa5e['get'](this['_textureAs'+'set']);_0x19b474&&(_0x19b474['off']('load',this['_onTexture'+'Load'],this),_0x19b474['off']('change',this['_onTexture'+'Change'],this),_0x19b474['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x2b3a9f,this['_textureAs'+'set']){const _0x24b3b3=_0x32fa5e['get'](this['_textureAs'+'set']);_0x24b3b3?this['_bindTextu'+'reAsset'](_0x24b3b3):(this['texture']=null,_0x32fa5e['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x2b9bc1){const _0x1b7f31=this['_system']['app']['assets'];let _0x52ce74=_0x2b9bc1;if(_0x2b9bc1 instanceof le&&(_0x52ce74=_0x2b9bc1['id']),this['_spriteAss'+'et']!==_0x52ce74){if(this['_spriteAss'+'et']){_0x1b7f31['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x448ea6=_0x1b7f31['get'](this['_spriteAss'+'et']);_0x448ea6&&this['_unbindSpr'+'iteAsset'](_0x448ea6);}if(this['_spriteAss'+'et']=_0x52ce74,this['_spriteAss'+'et']){const _0x5572ce=_0x1b7f31['get'](this['_spriteAss'+'et']);_0x5572ce?this['_bindSprit'+'eAsset'](_0x5572ce):(this['sprite']=null,_0x1b7f31['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x52ce74);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x56be93){if(this['_sprite']!==_0x56be93){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x393869=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x393869&&_0x393869['resource']!==_0x56be93&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x56be93,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],0x1ead*0x1+0x2*-0x32b+-0x3*0x81d,this['_sprite']['frameKeys']['length']-(-0x1ab5+-0xd7*0x14+-0x2b82*-0x1))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x4dc130){const _0x207064=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=N['clamp'](_0x4dc130,-0xb89*-0x3+0x1b37*-0x1+-0x764,this['_sprite']['frameKeys']['length']-(0x11*0x3d+-0x25d+0x1*-0x1af)):this['_spriteFra'+'me']=_0x4dc130,this['_spriteFra'+'me']!==_0x207064&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x4dc130);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0xe8bd38){this['_renderabl'+'e']['setMesh'](_0xe8bd38),this['_defaultMe'+'sh']===_0xe8bd38?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x25a23c){this['_mask']!==_0x25a23c&&(this['_mask']=_0x25a23c,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x44557f){this['_pixelsPer'+'Unit']!==_0x44557f&&(this['_pixelsPer'+'Unit']=_0x44557f,this['_sprite']&&(this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class gR extends ce{constructor(_0x519068){super(),this['_app']=_0x519068,_0x519068['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x191*0x13+-0x11ef*0x1+-0x2fb3*-0x1),this['_disableLo'+'calization']=!(0x89f*0x4+0x1*0xb6b+-0x2de6),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x2666ef){const _0x2f7d4b=_0x2666ef instanceof le?_0x2666ef['id']:_0x2666ef;this['_defaultAs'+'set']!==_0x2f7d4b&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x2f7d4b,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x6e0184){const _0x460072=_0x6e0184 instanceof le?_0x6e0184['id']:_0x6e0184;this['_localized'+'Asset']!==_0x460072&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x460072,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x401ab6){this['_autoLoad']!==_0x401ab6&&(this['_autoLoad']=_0x401ab6,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x36e4f7){this['_disableLo'+'calization']!==_0x36e4f7&&(this['_disableLo'+'calization']=_0x36e4f7,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x330391=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x330391?this['_onDefault'+'AssetAdd'](_0x330391):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x18a68f=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x18a68f&&(_0x18a68f['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x18a68f['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x18a68f['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x3f7718){this['_defaultAs'+'set']===_0x3f7718['id']&&(_0x3f7718['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x3f7718['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x3f7718['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x482fe7){this['_defaultAs'+'set']===_0x482fe7['id']&&(_0x482fe7['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x482fe7['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x275bd3=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x275bd3&&(_0x275bd3['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x275bd3['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x275bd3['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x275bd3['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x275bd3):this['_app']['assets']['load'](_0x275bd3));}['_unbindLoc'+'alizedAsse'+'t'](){const _0xa6b7d3=this['_app']['assets']['get'](this['_localized'+'Asset']);_0xa6b7d3&&(_0xa6b7d3['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0xa6b7d3['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0xa6b7d3['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x412834){this['_localized'+'Asset']===_0x412834['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x211cd0){this['fire']('load',_0x211cd0);}['_onLocaliz'+'edAssetCha'+'nge'](_0x572824,_0x11c895,_0x5873bb,_0x32d676){this['fire']('change',_0x572824,_0x11c895,_0x5873bb,_0x32d676);}['_onLocaliz'+'edAssetRem'+'ove'](_0x4dfd85){this['_localized'+'Asset']===_0x4dfd85['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x4dfd85);}['_onLocaleA'+'dd'](_0x40d6cf,_0x2ea1e6){this['_app']['i18n']['locale']===_0x40d6cf&&this['_onSetLoca'+'le'](_0x40d6cf);}['_onLocaleR'+'emove'](_0x19a7cd,_0x2c550d){this['_app']['i18n']['locale']===_0x19a7cd&&this['_onSetLoca'+'le'](_0x19a7cd);}['_onSetLoca'+'le'](_0x1216c5){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x389312=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x389312||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x17aec5=_0x389312['getLocaliz'+'edAssetId'](_0x1216c5);if(!_0x17aec5){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x17aec5;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const Kh='msdf',yR='bitmap',ho=0x245f*0x1+-0x5c6+-0x3*0xa33,Kn=-0x2191*0x1+-0xf7f*-0x2+0x294,of=-0xd0f*0x1+0xf4c+-0x23b,ix=-0x64c*0x1+-0x18c4+0x1f13,lf=-0x2ef*-0x2+-0x4*0x438+0xb06,hf=-0x1*0x178b+-0x281*0x9+-0x1*-0x2e19,cf=0x24da+0x1005+0x34d9*-0x1,df=0x446*-0x6+0x1e62*0x1+-0x47*0x11,dg=0x1f62+0x2376+-0x42d0,xR='\x20\x09\x0a\x0d\x0b\x0c',SR=/[\w|/]/;class vR{constructor(_0x1c62ec){this['_symbols']=_0x1c62ec,this['_index']=0x1*0x1a86+-0x71*0x44+-0x6*-0x95,this['_last']=-0xf*0x237+0x19d0+-0x10f*-0x7,this['_cur']=this['_symbols']['length']>-0x1235+-0x2686*-0x1+-0x1451?this['_symbols'][-0x3d*-0x23+0x1dc+-0xa33]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x424aaa=this['_read']();for(;_0x424aaa===dg;)_0x424aaa=this['_read']();return _0x424aaa!==ho&&_0x424aaa!==Kn&&(this['_last']=this['_index']),_0x424aaa;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x4aec41=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x24b17e=this['read'](),_0x1fca52='';for(;_0x1fca52+=(_0x1fca52['length']>0xdb*0x15+0x28d*0x3+-0x199e?'\x0a':'')+_0x4aec41[_0x24b17e]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x24b17e===ho||_0x24b17e===Kn);)_0x24b17e=this['read']();return _0x1fca52;}['_read'](){return this['_buf']=[],this['_eof']()?ho:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>0x2*0x137+0x21a0+-0x240e?of:ho;case'[':return this['_mode']='tag',this['_buf']['length']>0x212a+0x9c9+-0xf*0x2dd?of:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Kn;case'[':return this['_store'](),ix;case']':return this['_store'](),this['_mode']='text',lf;case'=':return this['_store'](),hf;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Kn);}}['_whitespac'+'e'](){for(this['_store']();xR['indexOf'](this['_cur'])!==-(-0x201a*0x1+-0x99a+0x3*0xde7);)this['_store']();return dg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Kn;case'\x22':return this['_next'](),cf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return df;}['_isIdentif'+'ierSymbol'](_0x3a37a9){return _0x3a37a9['length']===-0x1*0x14a3+0x50+0x1454&&_0x3a37a9['match'](SR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x3bcbd1){this['_buf']['push'](_0x3bcbd1);}}class bR{constructor(_0x41679a){this['_scanner']=new vR(_0x41679a),this['_error']=null;}['parse'](_0x5a7400,_0x5c5576){for(;;)switch(this['_scanner']['read']()){case ho:return!(0x7b9*0x3+-0x3ad+-0x137e);case Kn:return!(0x147d+0xf*-0x24a+0xdda);case of:Array['prototype']['push']['apply'](_0x5a7400,this['_scanner']['buf']());break;case ix:if(!this['_parseTag'](_0x5a7400,_0x5c5576))return!(0x42d+-0x4*0x229+-0x8*-0x8f);break;default:return!(0x1*0x204a+0xa3c+-0x2a85);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x2781b7,_0x9dcf7a){let _0x4f370b=this['_scanner']['read']();if(_0x4f370b!==df)return this['_error']='expected\x20i'+'dentifier',!(-0x2a*0x3d+0x1a9a+-0x1097);const _0x58a079=this['_scanner']['buf']()['join']('');if(_0x58a079[0x2*-0xe4d+-0x352+0x1fec]==='/'){for(let _0x42f842=_0x9dcf7a['length']-(-0x1751+0xeae+-0x229*-0x4);_0x42f842>=0x3d*-0x5e+0x1*0x1f0f+-0x8a9;--_0x42f842)if(_0x58a079==='/'+_0x9dcf7a[_0x42f842]['name']&&_0x9dcf7a[_0x42f842]['end']===null)return _0x9dcf7a[_0x42f842]['end']=_0x2781b7['length'],_0x4f370b=this['_scanner']['read'](),_0x4f370b!==lf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x3*0x8f+-0xe01+0x5*0x323)):!(0xf2e*-0x1+-0x115f*0x2+0x31ec);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0x4d*-0x47+-0x342+-0x1218);}const _0x583b30={'name':_0x58a079,'value':null,'attributes':{},'start':_0x2781b7['length'],'end':null};if(_0x4f370b=this['_scanner']['read'](),_0x4f370b===hf){if(_0x4f370b=this['_scanner']['read'](),_0x4f370b!==cf)return this['_error']='expected\x20s'+'tring',!(0x23ca+0x119*-0x16+0x9*-0x14b);_0x583b30['value']=this['_scanner']['buf']()['join'](''),_0x4f370b=this['_scanner']['read']();}for(;;){switch(_0x4f370b){case lf:return _0x9dcf7a['push'](_0x583b30),!(0x3*-0x381+0x1ffd+0xabd*-0x2);case df:{const _0x469b72=this['_scanner']['buf']()['join']('');if(_0x4f370b=this['_scanner']['read'](),_0x4f370b!==hf)return this['_error']='expected\x20e'+'quals',!(0xb99+0x22f0+0x8*-0x5d1);if(_0x4f370b=this['_scanner']['read'](),_0x4f370b!==cf)return this['_error']='expected\x20s'+'tring',!(-0x1964+0x1b4a+-0x5*0x61);const _0x3351cd=this['_scanner']['buf']()['join']('');_0x583b30['attributes'][_0x469b72]=_0x3351cd;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0xcc2+-0x5e1+-0x6e0);}_0x4f370b=this['_scanner']['read']();}}}function rx(_0x1c5861,_0xaea9ab){for(const _0x5d1b89 in _0xaea9ab){if(!_0xaea9ab['hasOwnProp'+'erty'](_0x5d1b89))continue;const _0x5b99cd=_0xaea9ab[_0x5d1b89];_0x5b99cd instanceof Object?(_0x1c5861['hasOwnProp'+'erty'](_0x5d1b89)||(_0x1c5861[_0x5d1b89]={}),rx(_0x1c5861[_0x5d1b89],_0xaea9ab[_0x5d1b89])):_0x1c5861[_0x5d1b89]=_0x5b99cd;}}function wR(_0x16a14c){if(_0x16a14c['length']===0x5ab*0x1+0x20ed+-0x134c*0x2)return null;const _0x35a668={};for(let _0x3f83cf=0x1*-0xc9+-0x2627*0x1+-0x590*-0x7;_0x3f83cf<_0x16a14c['length'];++_0x3f83cf){const _0x259bdf=_0x16a14c[_0x3f83cf],_0x1545be={};_0x1545be[_0x259bdf['name']]={'value':_0x259bdf['value'],'attributes':_0x259bdf['attributes']},rx(_0x35a668,_0x1545be);}return _0x35a668;}function TR(_0x186beb,_0x5baa84){if(_0x186beb['length']===-0x6e6*-0x2+-0x1d43+0x6b*0x25)return null;const _0x591eab={};for(let _0x5e8e21=-0x5fd+-0x110*-0x1f+-0x1af3;_0x5e8e21<_0x186beb['length'];++_0x5e8e21){const _0x891144=_0x186beb[_0x5e8e21];_0x591eab['hasOwnProp'+'erty'](_0x891144['start'])?_0x591eab[_0x891144['start']]['open']===null?_0x591eab[_0x891144['start']]['open']=[_0x891144]:_0x591eab[_0x891144['start']]['open']['push'](_0x891144):_0x591eab[_0x891144['start']]={'open':[_0x891144],'close':null},_0x591eab['hasOwnProp'+'erty'](_0x891144['end'])?_0x591eab[_0x891144['end']]['close']===null?_0x591eab[_0x891144['end']]['close']=[_0x891144]:_0x591eab[_0x891144['end']]['close']['push'](_0x891144):_0x591eab[_0x891144['end']]={'open':null,'close':[_0x891144]};}let _0x5cb978=[];function _0x1102c6(_0x4c481c){_0x5cb978=_0x5cb978['filter'](_0x4475c1=>_0x4c481c['find'](_0x3788a6=>_0x3788a6===_0x4475c1)===void(-0x1eb9+-0x1bd6+0x3a8f));}function _0x302147(_0x11fb75){for(let _0x48ddc2=0x161*0x12+-0x2377+-0x5*-0x221;_0x48ddc2<_0x11fb75['length'];++_0x48ddc2)_0x5cb978['push'](_0x11fb75[_0x48ddc2]);}const _0x3bfbe7=Object['keys'](_0x591eab)['sort']((_0x5ddf6e,_0x34bc39)=>_0x5ddf6e-_0x34bc39),_0x1d1aa5=[];for(let _0x471a5a=0xbc9*0x3+-0x684*0x1+0x141*-0x17;_0x471a5a<_0x3bfbe7['length'];++_0x471a5a){const _0x41a834=_0x591eab[_0x3bfbe7[_0x471a5a]];_0x41a834['close']!==null&&_0x1102c6(_0x41a834['close']),_0x41a834['open']!==null&&_0x302147(_0x41a834['open']),_0x1d1aa5['push']({'start':_0x3bfbe7[_0x471a5a],'tags':wR(_0x5cb978)});}const _0x1b97e4=[];let _0x471d43=null;for(let _0x30b9b1=-0x20bb+-0x4b*0x6b+0x4014;_0x30b9b1<_0x1d1aa5['length'];++_0x30b9b1){const _0x12d5df=_0x1d1aa5[_0x30b9b1];for(;_0x1b97e4['length']<_0x12d5df['start'];)_0x1b97e4['push'](_0x471d43?_0x471d43['tags']:null);_0x471d43=_0x12d5df;}for(;_0x1b97e4['length']<_0x5baa84;)_0x1b97e4['push'](null);return _0x1b97e4;}function AR(_0x3355bd){const _0xbc461f=new bR(_0x3355bd),_0x4bfca3=[],_0x38ea99=[];if(!_0xbc461f['parse'](_0x4bfca3,_0x38ea99))return console['warn'](_0xbc461f['error']()),{'symbols':_0x3355bd,'tags':null};const _0x559267=_0x38ea99['find'](_0x6c707a=>_0x6c707a['end']===null);if(_0x559267)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x559267['name']+'\x27'),{'symbols':_0x3355bd,'tags':null};const _0x1348a=TR(_0x38ea99,_0x4bfca3['length']);return{'symbols':_0x4bfca3,'tags':_0x1348a};}class ER{static['evaluate'](_0x3f3344){return AR(_0x3f3344);}}class CR{constructor(){this['count']=-0x1c22+0x1c51*0x1+-0x1*0x2f,this['quad']=-0x70f*0x3+0x220d+-0xce*0x10,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function MR(_0x1198e3,_0x34d3ba){const _0x3fb938=new Ie(_0x1198e3);return _0x3fb938['setPositio'+'ns'](_0x34d3ba['positions']),_0x3fb938['setNormals'](_0x34d3ba['normals']),_0x3fb938['setColors3'+'2'](_0x34d3ba['colors']),_0x3fb938['setUvs'](0x77d*-0x3+-0x12f8+-0x296f*-0x1,_0x34d3ba['uvs']),_0x3fb938['setIndices'](_0x34d3ba['indices']),_0x3fb938['setVertexS'+'tream'](Po,_0x34d3ba['outlines'],-0x11db*-0x2+0x212d+-0x44e0,void(0x111e+0x2185+-0x32a3),Ee,!(-0xb*-0xdf+0x2414+-0x2da8)),_0x3fb938['setVertexS'+'tream'](Ro,_0x34d3ba['shadows'],-0x1*-0x14e7+-0xbad+0x937*-0x1,void(-0x312*0x4+0x296*-0xd+0x2de6),Ee,!(-0x19a3+0x2*-0x2e8+0x1f74)),_0x3fb938['update'](),_0x3fb938;}const ug=/^[\r\n]$/,PR=/^[ \t]$/,fg=/^[ \t\-]|\u200b$/,RR=/^[a-z0-9]$/i,pg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,IR=/^[〕〉》」』】〙〗〟ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻]$/,DR=['​','؜','‎','‏','‪','‫','‬','‭','‮','⁦','⁧','⁨','⁩'],LR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},mg=new Y(),FR=new $(),Me=new Y();class OR{constructor(_0x5d9c32){this['_element']=_0x5d9c32,this['_system']=_0x5d9c32['system'],this['_entity']=_0x5d9c32['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new gR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x9d*0x3e+0x71e+-0xf0c*0x3),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(0x95f*0x2+-0x1*0x1492+0x1d5,0x256c*0x1+0x1256+0x1*-0x37c1,0x1ed6+0x14c7+-0x16f*0x24,0x250d+0x493*0x5+0x13f9*-0x3),this['_colorUnif'+'orm']=new Float32Array(0x9c3*0x1+-0x2*-0x10e9+-0x2b92),this['_spacing']=-0x1208+-0x584+0x178d,this['_fontSize']=0x21fe+-0x25*0xb2+-0x2*0x412,this['_fontMinY']=-0x1c*-0x83+0x1*0x7a1+-0x15f5,this['_fontMaxY']=0x136a+0x1733+-0x2a9d,this['_originalF'+'ontSize']=0x9*0x111+-0x1079+-0x7*-0x100,this['_maxFontSi'+'ze']=0xa49+-0xb8f+0x166*0x1,this['_minFontSi'+'ze']=-0x3df*-0x5+0xbd5*-0x1+-0x1*0x77e,this['_autoFitWi'+'dth']=!(0x1381*-0x1+-0x10d4+0x2456),this['_autoFitHe'+'ight']=!(0x1*0x10c9+-0x3*0xaab+0xf39),this['_maxLines']=-(-0x1faf*-0x1+0x2279+-0xd3b*0x5),this['_lineHeigh'+'t']=-0x16d8+0x1544+0x1b4,this['_scaledLin'+'eHeight']=0x1efb+0x1*0x1ef8+-0x3dd3,this['_wrapLines']=!(-0x4*0x9d+0x1b13+-0x189e),this['_drawOrder']=-0x1979+0x18d2+-0x1*-0xa7,this['_alignment']=new $(-0x5e2+0x20f*-0xb+0x1c87+0.5,0x4b7+-0x7*0x373+0x136e+0.5),this['_autoWidth']=!(0x1287+-0x2530+0x119*0x11),this['_autoHeigh'+'t']=!(-0x3*-0x97+0x788*0x2+-0x10d5),this['width']=0x168f+0x19f4+-0x3083,this['height']=0x25e1+0x26de+-0x4cbf,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(-0x2314+0x1*-0x150d+0x1*0x3821),this['_aabb']=new _e(),this['_noResize']=!(0x2dd*-0xa+-0x1*0x1f15+0x3bb8),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0xb9*-0x8+0x1*-0x13c+-0x48b),this['_unicodeCo'+'nverter']=!(-0x206a+0xec2+0x11a9),this['_rtl']=!(0xd2e+-0x20cb+0x1f*0xa2),this['_outlineCo'+'lor']=new Y(0x1*-0x1529+0x2*0x7d9+0x1*0x577,0x1d2f+0x469+-0x2198,-0xb*0xf1+-0x1011+0x1a6c,-0x2cf+-0xc9*0x21+0x1cb9),this['_outlineCo'+'lorUniform']=new Float32Array(0x1*0x1883+0x1*-0x218d+0x90e*0x1),this['_outlineTh'+'icknessSca'+'le']=-0x12+0x20cc+-0x76*0x47+0.2,this['_outlineTh'+'ickness']=-0x7*0x1c9+0x803*-0x3+-0x491*-0x8,this['_shadowCol'+'or']=new Y(0x1de5+0x1e4b+-0x3c30,0x2f*0xbf+0x1fb*-0x7+-0x1*0x1534,0x1501+0x1105+-0x2606,0x2164+-0x611*0x1+-0x1b52),this['_shadowCol'+'orUniform']=new Float32Array(0x1ce1+0x23*-0x17+-0x19b8),this['_shadowOff'+'setScale']=0xe77+-0x1c8c+0x7*0x203+0.005,this['_shadowOff'+'set']=new $(-0x1*-0x12f5+-0x1*-0x71f+-0xd0a*0x2,-0x2225*0x1+-0x8+-0xd*-0x2a1),this['_shadowOff'+'setUniform']=new Float32Array(0x21eb+0x1b14+-0x3cfd),this['_enableMar'+'kup']=!(-0x2*-0xca2+0x1d*0x6e+-0x25b9),this['_onScreenC'+'hange'](this['_element']['screen']),_0x5d9c32['on']('resize',this['_onParentR'+'esize'],this),_0x5d9c32['on']('set:screen',this['_onScreenC'+'hange'],this),_0x5d9c32['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x5d9c32['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x5d9c32['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=-0x3*-0x55d+0x5*0x76d+-0x3538,this['_rangeEnd']=0x2*0xafd+-0x150b+-0xef*0x1;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x1e299f,_0x16470d){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x486f0f){_0x486f0f?this['_updateMat'+'erial'](_0x486f0f['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x1*0x403+-0x3d*-0x5b+-0x19b1));}['_onScreenS'+'paceChange'](_0x54ac4d){this['_updateMat'+'erial'](_0x54ac4d);}['_onDrawOrd'+'erChange'](_0x1ac46d){if(this['_drawOrder']=_0x1ac46d,this['_model']){for(let _0x45beb9=-0xc7b+-0x2555+0x63a*0x8,_0x232a92=this['_model']['meshInstan'+'ces']['length'];_0x45beb9<_0x232a92;_0x45beb9++)this['_model']['meshInstan'+'ces'][_0x45beb9]['drawOrder']=_0x1ac46d;}}['_onPivotCh'+'ange'](_0xdf105a){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x23fadc){if(this['_i18nKey']){if(this['fontAsset']){const _0x211df7=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x211df7||!_0x211df7['resource']||_0x211df7['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x1a99f2,_0x366bee){this['_i18nKey']&&_0x366bee[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x1a0e4f){if(this['unicodeCon'+'verter']){const _0x273765=this['_system']['getUnicode'+'Converter']();_0x273765?_0x1a0e4f=_0x273765(_0x1a0e4f):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x1a0e4f&&(this['_font']&&this['_updateTex'+'t'](_0x1a0e4f),this['_text']=_0x1a0e4f);}['_updateTex'+'t'](_0x41d7bf){let _0x3c2271;if(_0x41d7bf===void(0x211b+0x565*0x1+0x2*-0x1340)&&(_0x41d7bf=this['_text']),this['_symbols']=ah['getSymbols'](_0x41d7bf['normalize']?_0x41d7bf['normalize']('NFC'):_0x41d7bf),this['_symbols']['length']===-0x4*-0x32c+-0x3c6*0x6+-0xc4*-0xd&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0xd41ab2=ER['evaluate'](this['_symbols']);this['_symbols']=_0xd41ab2['symbols'],_0x3c2271=_0xd41ab2['tags']||[];}if(this['_rtlReorde'+'r']){const _0x131b09=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x131b09){const _0x51b800=_0x131b09(this['_symbols']);this['_rtl']=_0x51b800['rtl'],this['_symbols']=_0x51b800['mapping']['map'](function(_0x48ff43){return this['_symbols'][_0x48ff43];},this),_0x3c2271&&(_0x3c2271=_0x51b800['mapping']['map'](_0x460eeb=>_0x3c2271[_0x460eeb]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x2ef*-0xc+0x5*0x40f+-0x1*-0xeea);const _0x207f9c=(_0x1c40e9,_0x5e1c34)=>_0x1c40e9['toString'](!(0x1cbe+-0x1cc+-0x1af2))['toLowerCas'+'e']()+':'+_0x5e1c34['toFixed'](0x1bb5+-0x1c73+0x8*0x18),_0x444f70=(_0x1431f2,_0x25368b)=>_0x1431f2['toString'](!(0x2*0x130d+-0x4f8+-0x1091*0x2))['toLowerCas'+'e']()+':'+_0x25368b['x']['toFixed'](0x8a7+0x9*-0x295+-0x2*-0x74c)+':'+_0x25368b['y']['toFixed'](0xf2f+0x9bd+-0x18ea);if(_0x3c2271){const _0x4db899={},_0x3669fe={},_0x3e0a48={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x1824+-0x6*0x221+-0x1*-0x25e9)),Math['round'](this['_color']['g']*(0x58d*-0x1+0x28c+0x400)),Math['round'](this['_color']['b']*(-0x17b3*-0x1+0x807+-0x1ebb*0x1))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x3*0x8e1+-0x1751+0x32f3)),Math['round'](this['_outlineCo'+'lor']['g']*(0x2d3*0x1+0x10e7*-0x1+-0xe3*-0x11)),Math['round'](this['_outlineCo'+'lor']['b']*(0x65*-0x1b+-0xcb+0xf5*0xd)),Math['round'](this['_outlineCo'+'lor']['a']*(0x875+-0x81a+0xa4)),Math['round'](this['_outlineTh'+'ickness']*(0x1b71*-0x1+0x2*-0x296+0x219c))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0xef9+0x4*0x245+0x7*0xfc)),Math['round'](this['_shadowCol'+'or']['g']*(-0x1a9b*0x1+0x1add+-0x9*-0x15)),Math['round'](this['_shadowCol'+'or']['b']*(0x136b+0x5f*-0x37+0x1fd)),Math['round'](this['_shadowCol'+'or']['a']*(-0x7*0x283+0xfcf+0x2c5*0x1)),Math['round'](this['_shadowOff'+'set']['x']*(-0x4d6+0x79d+-0x248)),Math['round'](this['_shadowOff'+'set']['y']*(-0x1064+0xa*-0x164+0x1ecb))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x4db899[this['_color']['toString'](!(-0xeff*-0x2+0x1da1+-0x496*0xd))['toLowerCas'+'e']()]=0x16fa+0x11a1+-0x289b,_0x3669fe[_0x207f9c(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0xe4d+-0xf2a+0xdd,_0x3e0a48[_0x444f70(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=0x1f7*0x2+-0x1*-0xbc9+-0xfb7;for(let _0x533f12=0x42b+-0x1*0x683+0x3*0xc8,_0x1541c6=this['_symbols']['length'];_0x533f12<_0x1541c6;++_0x533f12){const _0x37a0fb=_0x3c2271[_0x533f12];let _0x545cb2=-0x65+-0x6bf+0x1c9*0x4;if(_0x37a0fb&&_0x37a0fb['color']&&_0x37a0fb['color']['value']){const _0x4cb802=_0x37a0fb['color']['value'];if(_0x4cb802['length']===0xf82+-0x1dcc+0xe51&&_0x4cb802[-0x1653+-0x5fa+-0x45*-0x69]==='#'){const _0x1733c2=_0x4cb802['substring'](-0x1*-0x141a+0x2306+-0x371f*0x1)['toLowerCas'+'e']();_0x4db899['hasOwnProp'+'erty'](_0x1733c2)?_0x545cb2=_0x4db899[_0x1733c2]:/^[0-9a-f]{6}$/['test'](_0x1733c2)&&(_0x545cb2=this['_colorPale'+'tte']['length']/(0x1*0xf4b+-0x2656+0x1a*0xe3),_0x4db899[_0x1733c2]=_0x545cb2,this['_colorPale'+'tte']['push'](parseInt(_0x1733c2['substring'](0xc*0x1a5+-0x22a8+0xeec,0x1*-0x3df+0x7*-0x71+-0x8*-0xdf),-0x1ea+0x1741+-0x1547)),this['_colorPale'+'tte']['push'](parseInt(_0x1733c2['substring'](0x1d0b+-0x1*0x11ef+-0x196*0x7,-0x11*-0xfe+-0x93*-0x27+0xc5*-0x33),0x13d2+-0x1831+0x5*0xe3)),this['_colorPale'+'tte']['push'](parseInt(_0x1733c2['substring'](-0x1805+0x2110+-0x1*0x907,-0x1a*0x166+-0x745*-0x5+0x9*0x1),0x1597+-0x4*0x1a4+0x3*-0x4fd)));}}this['_symbolCol'+'ors']['push'](_0x545cb2);let _0x5a2041=0xabc+-0x47*-0x23+-0x1471;if(_0x37a0fb&&_0x37a0fb['outline']&&(_0x37a0fb['outline']['attributes']['color']||_0x37a0fb['outline']['attributes']['thickness'])){let _0x29bdea=_0x37a0fb['outline']['attributes']['color']?mg['fromString'](_0x37a0fb['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x1db504=Number(_0x37a0fb['outline']['attributes']['thickness']);(Number['isNaN'](_0x29bdea['r'])||Number['isNaN'](_0x29bdea['g'])||Number['isNaN'](_0x29bdea['b'])||Number['isNaN'](_0x29bdea['a']))&&(_0x29bdea=this['_outlineCo'+'lor']),Number['isNaN'](_0x1db504)&&(_0x1db504=this['_outlineTh'+'ickness']);const _0x4a91cf=_0x207f9c(_0x29bdea,_0x1db504);_0x3669fe['hasOwnProp'+'erty'](_0x4a91cf)?_0x5a2041=_0x3669fe[_0x4a91cf]:(_0x5a2041=this['_outlinePa'+'lette']['length']/(-0x2241+0xa9+0x6b9*0x5),_0x3669fe[_0x4a91cf]=_0x5a2041,this['_outlinePa'+'lette']['push'](Math['round'](_0x29bdea['r']*(-0x1*-0x1031+-0x5*0x5f1+-0x2e7*-0x5)),Math['round'](_0x29bdea['g']*(-0xe86+0x8f9*-0x1+-0x2*-0xc3f)),Math['round'](_0x29bdea['b']*(0x1356+0x1*-0x220d+0x7db*0x2)),Math['round'](_0x29bdea['a']*(-0xc6d+-0x260f*-0x1+-0x18a3)),Math['round'](_0x1db504*(-0x10e*-0x4+-0x23ed*0x1+0x12b*0x1c))));}this['_symbolOut'+'lineParams']['push'](_0x5a2041);let _0x5f3b7b=-0x25c1+0x127d*0x1+0x1344;if(_0x37a0fb&&_0x37a0fb['shadow']&&(_0x37a0fb['shadow']['attributes']['color']||_0x37a0fb['shadow']['attributes']['offset']||_0x37a0fb['shadow']['attributes']['offsetX']||_0x37a0fb['shadow']['attributes']['offsetY'])){let _0x5c9c46=_0x37a0fb['shadow']['attributes']['color']?mg['fromString'](_0x37a0fb['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x3fd56d=Number(_0x37a0fb['shadow']['attributes']['offset']),_0x4e54b5=Number(_0x37a0fb['shadow']['attributes']['offsetX']),_0x4b2523=Number(_0x37a0fb['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x5c9c46['r'])||Number['isNaN'](_0x5c9c46['g'])||Number['isNaN'](_0x5c9c46['b'])||Number['isNaN'](_0x5c9c46['a']))&&(_0x5c9c46=this['_shadowCol'+'or']);const _0x10adee=FR['set'](Number['isNaN'](_0x4e54b5)?Number['isNaN'](_0x3fd56d)?this['_shadowOff'+'set']['x']:_0x3fd56d:_0x4e54b5,Number['isNaN'](_0x4b2523)?Number['isNaN'](_0x3fd56d)?this['_shadowOff'+'set']['y']:_0x3fd56d:_0x4b2523),_0x4354a5=_0x444f70(_0x5c9c46,_0x10adee);_0x3e0a48['hasOwnProp'+'erty'](_0x4354a5)?_0x5f3b7b=_0x3e0a48[_0x4354a5]:(_0x5f3b7b=this['_shadowPal'+'ette']['length']/(0x79d*0x4+-0x243+-0x1c2b),_0x3e0a48[_0x4354a5]=_0x5f3b7b,this['_shadowPal'+'ette']['push'](Math['round'](_0x5c9c46['r']*(-0x2345+-0x1fef+-0x11*-0x403)),Math['round'](_0x5c9c46['g']*(0x1c61+-0xeb*-0x11+-0x2afd)),Math['round'](_0x5c9c46['b']*(0xfb7+0x143*-0x15+0xbc7*0x1)),Math['round'](_0x5c9c46['a']*(-0x2029+0x1e52+0x2*0x16b)),Math['round'](_0x10adee['x']*(-0x199b+0x10d6+0x4a2*0x2)),Math['round'](_0x10adee['y']*(-0x691*0x1+0x4e*-0x3f+0xd21*0x2))));}this['_symbolSha'+'dowParams']['push'](_0x5f3b7b);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x362af9=this['_calculate'+'CharsPerTe'+'xture']();let _0x32c3da=!(-0x48f+-0x1*0x8f4+0xd84*0x1);const _0x4f049a=this['_element'],_0x1d16b2=_0x4f049a['_isScreenS'+'pace'](),_0x5cc355=_0x4f049a['_isScreenC'+'ulled'](),_0x2816fd=function(_0xb3e591){return _0x4f049a['isVisibleF'+'orCamera'](_0xb3e591);};for(let _0x1c1210=-0x1757+-0x21a+-0x27*-0xa7,_0x251ae8=this['_meshInfo']['length'];_0x1c1210<_0x251ae8;_0x1c1210++){const _0x221ca0=_0x362af9[_0x1c1210]||0x1*-0xafa+0x13f1*0x1+-0x8f7,_0x3cea51=this['_meshInfo'][_0x1c1210];if(_0x3cea51['count']!==_0x221ca0){if(_0x32c3da||(_0x4f049a['removeMode'+'lFromLayer'+'s'](this['_model']),_0x32c3da=!(0x239e+-0xd69*0x1+-0x1635)),_0x3cea51['count']=_0x221ca0,_0x3cea51['positions']['length']=_0x3cea51['normals']['length']=_0x221ca0*(0x107f*-0x1+0x2*-0xa33+0x8*0x49d)*(-0x20e8+-0xda*-0x14+0xfe4),_0x3cea51['indices']['length']=_0x221ca0*(-0x206*-0xa+-0x45*0x29+0x1*-0x92c)*(0x1*-0x2679+0x4*-0x849+0x479f),_0x3cea51['uvs']['length']=_0x221ca0*(0x611*0x6+-0x823*0x2+-0x141e)*(-0x7db+0x94a+-0x16b),_0x3cea51['colors']['length']=_0x221ca0*(-0x7c0+0x2071+-0x18ad)*(-0x3a*-0xd+-0x2538+-0x9a*-0x39),_0x3cea51['outlines']['length']=_0x221ca0*(0x97e+0x39*0x3d+0x1*-0x170f)*(0x2*0x9f5+-0x1*-0x1c4e+-0x1*0x3035),_0x3cea51['shadows']['length']=_0x221ca0*(-0xb5*-0x5+-0x16f3+-0x9b7*-0x2)*(-0x232d+-0xaed+0x2e1d),_0x3cea51['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x3cea51['meshInstan'+'ce']),_0x221ca0===0x19f7*-0x1+0x1*0xe32+0x83*0x17){_0x3cea51['meshInstan'+'ce']=null;continue;}for(let _0x3c0cd0=0xdc2+0x72b*-0x2+0x94;_0x3c0cd0<_0x221ca0;_0x3c0cd0++)_0x3cea51['indices'][_0x3c0cd0*(0x1377+-0x16c+-0x241*0x8)*(-0x1*-0x261b+-0x2*-0xa75+-0x3b03)+(-0x2*-0xbf0+-0x1bcd+-0x5*-0xc9)]=_0x3c0cd0*(0x130e*-0x1+0x1f*0xe5+0x1*-0x8a9),_0x3cea51['indices'][_0x3c0cd0*(0x1*0x959+0x1b71+-0x24c7)*(-0x43*-0x1f+-0x1*-0x127+-0xed*0xa)+(0x1e06+-0x215e*-0x1+0x1*-0x3f63)]=_0x3c0cd0*(0x1e7+0x48*-0x16+-0x16f*-0x3)+(0x1*0x92d+0x4*0x1a+-0x2*0x4ca),_0x3cea51['indices'][_0x3c0cd0*(0x8e+0x1*0x1cf+-0x25a)*(0x26f*-0x2+-0x18a0+0x8*0x3b0)+(-0x1a61+0x1d8*0x8+0x14b*0x9)]=_0x3c0cd0*(0x4*0x577+-0x1*-0x1f3f+-0x3517)+(0x19b*-0x7+-0x5*0x693+0x2c1f),_0x3cea51['indices'][_0x3c0cd0*(-0x5*-0x63b+0x26e*0x8+-0x3294)*(-0x1*0x1b8f+-0xb66*-0x1+0x102b)+(0x2321+-0x303+-0x1*0x201b)]=_0x3c0cd0*(-0x575+0x1*0x38f+0x1ea)+(0xfc8+-0x2436+0x4*0x51c),_0x3cea51['indices'][_0x3c0cd0*(-0x397*-0x2+0x2*0x6c8+-0x14bb)*(0x14e*-0x3+-0x7e+-0x1*-0x46a)+(0x1477+0x67*0x24+0x1*-0x22ef)]=_0x3c0cd0*(0x422+-0x2*-0x56f+-0xefc)+(-0x683+0x67f*-0x6+-0x7*-0x680),_0x3cea51['indices'][_0x3c0cd0*(0xead+-0x1b61+0x23*0x5d)*(-0x13*-0x1f9+-0x1615+-0xf64)+(-0x313*-0xb+0xc4b+0x1b*-0x1b5)]=_0x3c0cd0*(-0x645*0x3+0xc41*-0x2+0x2b55)+(-0x1*0x98b+0x3*0xa49+-0x5*0x443),_0x3cea51['normals'][_0x3c0cd0*(0x6aa*0x4+-0x267d+0xbd9)*(0xb3d+0x18*-0x18e+-0x1*-0x1a16)+(-0x23ff+-0x237f+0x477e)]=-0xd*0x29e+-0x1d87*0x1+0x3f8d,_0x3cea51['normals'][_0x3c0cd0*(-0x24b*0x9+-0x91f*-0x2+-0x269*-0x1)*(0xd5b*0x1+0x24eb+-0x3243)+(0x137e+-0xbb+0x12c2*-0x1)]=0x2a5*0x7+-0x5*-0x607+-0x30a6,_0x3cea51['normals'][_0x3c0cd0*(0x133+-0x1*-0x15f6+0x18b*-0xf)*(0x2*0xe63+0x2162+-0x3e25)+(-0x2*0x6da+-0xb42*0x2+0x243a)]=-(-0x26*-0x73+0x3*-0xe1+0x737*-0x2),_0x3cea51['normals'][_0x3c0cd0*(0x172*0x10+-0x2ec+0x143*-0x10)*(-0x1*0x17b3+0x148b+0x32b)+(-0x2*-0xf9d+-0xfbd+-0xf7a)]=-0x1628+-0xd57+0x3*0xbd5,_0x3cea51['normals'][_0x3c0cd0*(-0x1b19+-0x1*0x9b5+0x24d2)*(0x12ff+-0x153e+-0x22*-0x11)+(0x210d*0x1+0xe*-0x1ed+0x613*-0x1)]=0xaf5*-0x2+0x467+0x1*0x1183,_0x3cea51['normals'][_0x3c0cd0*(0x2*-0x10fc+-0x2*-0x985+0xef2)*(-0x578+-0x1710+0x1*0x1c8b)+(-0x193e*0x1+-0x1f14+0x3857)]=-(0x11e0+0xd*0x3+-0x1206),_0x3cea51['normals'][_0x3c0cd0*(-0x27c+0x1551+0x12d1*-0x1)*(-0x15d3+-0x1bd0+0x52*0x9b)+(-0x239c+-0x2*0x3ad+-0x15*-0x20c)]=-0x839+-0x1364+0x1b9d,_0x3cea51['normals'][_0x3c0cd0*(0x1dc+-0x10ca+-0x2*-0x779)*(0x12e+-0x29*-0xbf+-0x1fc2)+(-0x25a7+0x487+-0x7b*-0x45)]=0x76f+-0x83*0x7+0x3a*-0x11,_0x3cea51['normals'][_0x3c0cd0*(0x14a6+-0x2206+0xd64*0x1)*(-0x1bff*0x1+-0x1*-0xa16+0x11ec)+(0x45*-0x19+0x1*0x5f6+-0x3*-0x45)]=-(0x12e5*-0x2+-0xe44+0x1*0x340f),_0x3cea51['normals'][_0x3c0cd0*(-0x119c+0x11e8+0xc*-0x6)*(-0x19*0x53+0x1ee0+-0x16c2*0x1)+(-0x113a+-0xd5e+0x1ea1*0x1)]=-0x19dc+0x2136+-0x2*0x3ad,_0x3cea51['normals'][_0x3c0cd0*(-0x671+-0xdee+0x1463*0x1)*(0x76*0x21+-0x155*-0x7+-0x1886)+(0x12bb*-0x1+0x2b*-0x97+0x2c22)]=0x2*-0x59e+-0x6b6+0x1*0x11f2,_0x3cea51['normals'][_0x3c0cd0*(-0x9e*0x1+-0x1d50+0x1*0x1df2)*(-0xd5*0x2b+-0x12e2+0x36ac)+(-0x1feb+0x1809+0x7ed)]=-(0x7*-0x54+-0x425*-0x3+-0xa22*0x1);const _0x580c88=MR(this['_system']['app']['graphicsDe'+'vice'],_0x3cea51),_0x24a880=new Le(_0x580c88,this['_material'],this['_node']);if(_0x24a880['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x24a880['castShadow']=!(0x1*-0x1acd+-0x1*0xc13+0x26e1*0x1),_0x24a880['receiveSha'+'dow']=!(-0x5+-0x1*-0x159e+-0x1598),_0x24a880['cull']=!_0x1d16b2,_0x24a880['screenSpac'+'e']=_0x1d16b2,_0x24a880['drawOrder']=this['_drawOrder'],_0x5cc355&&(_0x24a880['cull']=!(0xa*-0x13+0xc60+-0x5d1*0x2),_0x24a880['isVisibleF'+'unc']=_0x2816fd),this['_setTextur'+'eParams'](_0x24a880,this['_font']['textures'][_0x1c1210]),_0x24a880['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x24a880['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x24a880['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x24a880['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x24a880['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x1c1210]['width']),_0x24a880['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x24a880['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x24a880['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0x10f6*0x2+-0x1*0x2275+0x89]=0xa36+-0x13*0x1e0+0x196a,this['_shadowOff'+'setUniform'][0x18ca+0xd4a+-0x169*0x1b]=0x194*0x3+-0x11*0xe9+-0x1*-0xabd;else{const _0x5b764f=-this['_font']['data']['info']['maps'][_0x1c1210]['width']/this['_font']['data']['info']['maps'][_0x1c1210]['height'];this['_shadowOff'+'setUniform'][0x1fac+-0x83f*-0x2+-0x89*0x5a]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x185*0xb+-0x903+0x19bb]=_0x5b764f*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x24a880['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x3cea51['meshInstan'+'ce']=_0x24a880,this['_model']['meshInstan'+'ces']['push'](_0x24a880);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x32c3da&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x353*0x7+-0x1375+-0xe3e*-0x3,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x18ccc5){_0x18ccc5['destroy']();const _0x152711=this['_model']['meshInstan'+'ces']['indexOf'](_0x18ccc5);_0x152711!==-(-0x12b2*0x1+0x123*0xa+-0x1*-0x755)&&this['_model']['meshInstan'+'ces']['splice'](_0x152711,0x1e89+0x1177+0x1*-0x2fff);}['_setMateri'+'al'](_0x566b22){if(this['_material']=_0x566b22,this['_model'])for(let _0x3f5a7c=-0x7bb*0x1+-0xc49+0xa02*0x2,_0x227fce=this['_model']['meshInstan'+'ces']['length'];_0x3f5a7c<_0x227fce;_0x3f5a7c++){const _0x1d89b5=this['_model']['meshInstan'+'ces'][_0x3f5a7c];_0x1d89b5['material']=_0x566b22;}}['_updateMat'+'erial'](_0x2951f3){const _0x2e2fe4=this['_element'],_0x5343dd=_0x2e2fe4['_isScreenC'+'ulled'](),_0x489fae=function(_0x4398cd){return _0x2e2fe4['isVisibleF'+'orCamera'](_0x4398cd);},_0x2b0cb7=this['_font']&&this['_font']['type']===Kh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x2951f3,_0x2b0cb7,this['_enableMar'+'kup']),this['_model'])for(let _0x79e4ee=-0x15b+0x22e5*-0x1+-0xa*-0x3a0,_0x94794c=this['_model']['meshInstan'+'ces']['length'];_0x79e4ee<_0x94794c;_0x79e4ee++){const _0x17478d=this['_model']['meshInstan'+'ces'][_0x79e4ee];_0x17478d['cull']=!_0x2951f3,_0x17478d['material']=this['_material'],_0x17478d['screenSpac'+'e']=_0x2951f3,_0x5343dd?(_0x17478d['cull']=!(-0x207*0x8+0x3*0xb47+-0x119d),_0x17478d['isVisibleF'+'unc']=_0x489fae):_0x17478d['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x128a+-0x3*0x9a3+0xa5f]=0x6*-0x39a+0x1e83*-0x1+0x3420,this['_colorUnif'+'orm'][-0x69*0x29+0xb*0xbb+0x8c9]=-0x1983+0xc34+0x10*0xd5,this['_colorUnif'+'orm'][-0x3*0xbc9+-0xd14+0x1*0x3071]=-0x11ed*0x2+0x1bd7+-0x1b*-0x4c):(Me['linear'](this['_color']),this['_colorUnif'+'orm'][0x35*-0x97+0x1e*-0x61+0x2aa1]=Me['r'],this['_colorUnif'+'orm'][-0x322*0x1+0x253f*-0x1+0x2862]=Me['g'],this['_colorUnif'+'orm'][-0x1*0x1de4+0x1*-0x128+0x1f0e]=Me['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x91c*0x4+-0xd*-0x2d0+0x10*-0x2]=0x9ec+0x177b*-0x1+0xd8f,this['_outlineCo'+'lorUniform'][0x2*-0xce+-0x7a+0x217*0x1]=-0x14+-0x1121+0x371*0x5,this['_outlineCo'+'lorUniform'][0x1060+-0x2a*0x83+0x520]=-0x78a*0x1+0x1*0x24e9+-0x1*0x1d5f,this['_outlineCo'+'lorUniform'][0x18b3*0x1+0x1e9c+-0x2*0x1ba6]=-0x258b+-0x10cd+0x3659):(Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x15e4+0x17*-0x19d+0x3aff]=Me['r'],this['_outlineCo'+'lorUniform'][-0x4ff*-0x7+0x32b+-0x2623]=Me['g'],this['_outlineCo'+'lorUniform'][-0x5*0x25b+-0x25d4+-0x1*-0x319d]=Me['b'],this['_outlineCo'+'lorUniform'][-0x5*-0x614+0x1*-0x1e8b+0x2a]=Me['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0x1*0x8e9+-0xb5e+-0x1*-0x275]=0x2*-0x38a+-0x246f+0x2b83,this['_shadowCol'+'orUniform'][0x9d1+0x3*-0xcd+0x1*-0x769]=0x23*-0x14+0x5a*-0x6+-0x8*-0x9b,this['_shadowCol'+'orUniform'][0x107*0x1+0x1c1*0x1+-0x2c6]=-0x1*0x10d4+0x197*0x3+-0x9*-0x157,this['_shadowCol'+'orUniform'][-0x13d+-0x2002+0xb*0x306]=0x2*0xead+0x1ff3+0x146f*-0x3):(Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x20dd+0x12a*0x5+0x2b*0xa1]=Me['r'],this['_shadowCol'+'orUniform'][0x1920+-0x1e9*0x3+-0x1364]=Me['g'],this['_shadowCol'+'orUniform'][0x1*-0x19e3+0xc89*-0x1+0x266e]=Me['b'],this['_shadowCol'+'orUniform'][-0x74b*-0x4+0xbd0+0x1*-0x28f9]=Me['a']);}['_isWordBou'+'ndary'](_0x271cb8){return fg['test'](_0x271cb8);}['_isValidNe'+'xtChar'](_0x45ea3d){return _0x45ea3d!==null&&!IR['test'](_0x45ea3d);}['_isNextCJK'+'Boundary'](_0x2afcf3,_0x3af0c4){return pg['test'](_0x2afcf3)&&(fg['test'](_0x3af0c4)||RR['test'](_0x3af0c4));}['_isNextCJK'+'WholeWord'](_0x1e3491){return pg['test'](_0x1e3491);}['_updateMes'+'hes'](){const _0x4f097b=this['_font']['data'],_0x1772fe=this,_0x2a9a57=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x4540eb=this['_maxFontSi'+'ze'],_0x142ebe=this['_shouldAut'+'oFit']();_0x142ebe&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x39b4e2=-0x1b9e+-0x1b98*-0x1+0x13*0x2,_0x1e2bc6=this['_symbols']['length'];let _0x30e9e2=-0x235f*-0x1+0x7*-0x273+-0x123a*0x1,_0x3f74cd=-0x1a8a+-0xc76+-0x9c*-0x40,_0x5cafd6=0x7d8+0x8ad+-0x1*0x1085,_0x3c2374=-0xcd*0x1d+0x1*-0x252b+0x3c64,_0x10994b=-0x1696*-0x1+-0xa57+-0x61f*0x2,_0x5b588b=0x1b*-0xe9+-0x1*0x13c4+-0x1*-0x2c57,_0x338d7a=-0x1*-0x1a5+0xe41+-0xfe6,_0x3654f9=-0x19*-0xf1+0x68c+-0x1e15,_0x3e32a4=0xc50*-0x1+-0x2*0x161+-0x3*-0x506,_0x12784c=-0x11c5+0x1*0x853+0x2*0x4b9,_0x3f9468=0x20fe+-0x1d82*-0x1+-0x3e80;const _0x5891b6=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0x11*-0x101+0xcff+-0x412*-0x1+0.0001;let _0x27667c=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x5891b6||!this['_wrapLines'])&&(_0x27667c=Number['POSITIVE_I'+'NFINITY']);let _0x1f6b6c=0x199*0x17+0xb*-0x1eb+0x2*-0x7d3,_0x55a253=0x1168*0x1+0x2193+0x1a5*-0x1f,_0x2feaae,_0x3350d4,_0x4cbee2,_0x41652b;function _0x385a93(_0x178a73,_0x1f0f58,_0x4e3938){_0x1772fe['_lineWidth'+'s']['push'](Math['abs'](_0x4e3938));const _0xb24021=_0x3654f9>_0x1f0f58?_0x1f0f58+(-0x56*-0x43+-0x1*0xa59+0x614*-0x2):_0x3654f9,_0x5e6297=_0x3654f9>_0x1f0f58?_0x3654f9+(-0x4e*-0x6b+-0x1*0x1171+0x14*-0xc2):_0x1f0f58,_0x13fe53=_0x178a73['slice'](_0xb24021,_0x5e6297);if(_0x3f9468){let _0x24760f=_0x13fe53['length'];for(;_0x24760f--&&_0x3f9468>-0x1*-0xa81+0x471+-0xef2;)ug['test'](_0x13fe53[_0x24760f])&&(_0x13fe53['splice'](_0x24760f,0x1c*-0x15e+-0x58e+0x2bd7),_0x3f9468--);}_0x1772fe['_lineConte'+'nts']['push'](_0x13fe53['join']('')),_0x30e9e2=0x1*-0x158c+0x2c*0x32+-0xcf4*-0x1,_0x3f74cd-=_0x1772fe['_scaledLin'+'eHeight'],_0x10994b++,_0x3e32a4=-0x1bc8+-0xaec+0x26b4,_0x12784c=0x18*0x93+0xef*0x1+-0xeb7,_0x3f9468=-0x2400+-0x2f*-0x6+0x2*0x1173,_0x5b588b=0x1d05+-0x2276+0x571,_0x3654f9=_0x1f0f58;}let _0x1fd7ca=!(-0x1*0x103e+0x859+0x7e5);for(;_0x1fd7ca;){_0x1fd7ca=!(-0x2*0x8db+-0x1*0xee1+0x413*0x8),_0x142ebe?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x25f*-0x3+-0x1e4a*-0x1+-0x2567*0x1+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=-0xbac*0x1+0x899+0x313,this['height']=-0x534+0x4d7+-0x1*-0x5d,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x30e9e2=-0x11d4+0x1728+0x7c*-0xb,_0x3f74cd=-0x1789+-0x68a+-0x1*-0x1e13,_0x5cafd6=-0x320*0x6+-0xee9+-0x7*-0x4cf,_0x3c2374=-0x3b3*-0x7+0x3*0xb79+-0x2*0x1e28,_0x10994b=0x1ea6+0x84e+-0x26f3,_0x5b588b=-0x680+0x3b*-0x9b+0x3*0xe13,_0x338d7a=-0x1a3d*0x1+0x13c9+0x2*0x33a,_0x3654f9=-0x1d0d+-0x1f*-0x133+-0x41*0x20,_0x3e32a4=-0xe95+0x11fb*-0x1+-0x4*-0x824,_0x12784c=-0x192*-0xe+0xa31*0x3+-0x348f,_0x3f9468=-0xc41*-0x1+-0x1f59+0x4*0x4c6;const _0x582e32=this['_fontSize']/_0x39b4e2;_0x1f6b6c=this['_fontMinY']*_0x582e32,_0x55a253=this['_fontMaxY']*_0x582e32;for(let _0x488277=0x4d5*0x7+-0x15ee+0x91*-0x15;_0x488277<this['_meshInfo']['length'];_0x488277++)this['_meshInfo'][_0x488277]['quad']=0x2*-0xe95+0x1305*0x2+-0x2*0x470,this['_meshInfo'][_0x488277]['lines']={};let _0x5e9238=-0x1074+-0xf88+0x20fb,_0x478fcd=0x17*-0x1af+-0x1*-0x6aa+-0x1087*-0x2,_0x19a550=-0x16f0+0x1b1*0x3+0x4*0x4b7,_0x15f006=0x1*-0x1611+0x1b01+-0x3f1+(-0x1*-0x355+0xcef+-0xf45)*(0x228e*-0x1+0x2487+-0xf9),_0x2332ad=0xe52+0x1f86+-0x3*0xef3+(-0x18aa+0xe59+0xb50)*(0x38b*-0x3+-0x577+0x1118),_0x41c02e=0x9e5+-0x2268+0x4e7*0x5,_0x2c2c33=-0x14b8+0xd74+0x843+(-0x871*0x1+-0x1*0x1ce1+-0x2651*-0x1)*(-0x1d7*-0xc+-0x15b*-0x17+-0x3441),_0x20b884=-0x112*-0x3+-0x1*0x1a02+0x1*0x17cb+(0x1*0x1b34+-0x896+-0x15b*0xd)*(0x2056+-0x2*-0x689+-0x2c68),_0x2421e9=0x1282+0xb7*-0x33+0x626*0x3+(0x69d+-0x3*-0x2b+-0x1*0x69f)*(-0xaf4+0x13*0x13+0xa8b);for(let _0x42ad57=0x16ff+0x82f+-0x1f2e;_0x42ad57<_0x1e2bc6;_0x42ad57++){if(_0x2feaae=this['_symbols'][_0x42ad57],_0x41652b=_0x42ad57+(0x1*0x261f+0x38f*0xa+-0x49b4)>=_0x1e2bc6?null:this['_symbols'][_0x42ad57+(-0x176e+0x10*-0x8b+0x201f)],ug['test'](_0x2feaae)){_0x3f9468++,(!this['_wrapLines']||this['_maxLines']<-0x1*0xf8e+-0x1*-0x1bb6+-0x614*0x2||_0x10994b<this['_maxLines'])&&(_0x385a93(this['_symbols'],_0x42ad57,_0x3c2374),_0x338d7a=_0x42ad57+(-0x23*0x49+0x153c+0x168*-0x8),_0x3654f9=_0x42ad57+(-0x3*-0xb43+0x2fb*0x8+-0x39a0));continue;}let _0x2041ac=-0xc5*0x7+0x2398+-0x1e35,_0x4c4d5a=-0x20dd+-0xa40+0x27*0x11b,_0x577981=0x14ad+0xff4+-0x1*0x24a1,_0x39134e=-0x23eb+-0x1*0x235f+0x474b,_0x164c67,_0x5ab65d;if(_0x3350d4=_0x4f097b['chars'][_0x2feaae],!_0x3350d4){if(DR['indexOf'](_0x2feaae)!==-(0x2151+0x1*0x3a9+-0x24f9))_0x3350d4=LR;else{if(_0x4f097b['chars']['\x20'])_0x3350d4=_0x4f097b['chars']['\x20'];else for(const _0x582d1e in _0x4f097b['chars']){_0x3350d4=_0x4f097b['chars'][_0x582d1e];break;}_0x4f097b['missingCha'+'rs']||(_0x4f097b['missingCha'+'rs']=new Set()),_0x4f097b['missingCha'+'rs']['has'](_0x2feaae)||(console['warn']('Character\x20'+'\x27'+_0x2feaae+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x4f097b['info']['face']),_0x4f097b['missingCha'+'rs']['add'](_0x2feaae));}}if(_0x3350d4){let _0x3592ef=-0x2*-0x643+-0xb*-0x323+-0x2f07;if(_0x12784c>0x809+-0x2c*-0x29+-0xf15){const _0x1c1a81=this['_font']['data']['kerning'];if(_0x1c1a81){const _0x17f1d6=_0x1c1a81[ah['getCodePoi'+'nt'](this['_symbols'][_0x42ad57-(-0xd3*-0x29+0x5c5+-0x278f)])||0x2fd+-0x142a+-0x112d*-0x1];_0x17f1d6&&(_0x3592ef=_0x17f1d6[ah['getCodePoi'+'nt'](this['_symbols'][_0x42ad57])||-0xc47+-0xe18+-0x2b*-0x9d]||0xc37+0x4cb+-0x881*0x2);}}_0x164c67=_0x3350d4['scale']||-0x1e45+-0x2176*0x1+0x1*0x3fbc,_0x5ab65d=(_0x3350d4['width']+_0x3350d4['height'])/(-0x355+0x8f1+-0x6*0xef),_0x39134e=_0x582e32*_0x5ab65d/_0x164c67,_0x577981=(_0x3350d4['xadvance']+_0x3592ef)*_0x582e32,_0x2041ac=(_0x3350d4['xoffset']-_0x3592ef)*_0x582e32,_0x4c4d5a=_0x3350d4['yoffset']*_0x582e32;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x2feaae+'\x27');const _0x3e6937=PR['test'](_0x2feaae),_0x1b52ba=_0x3350d4&&_0x3350d4['map']||0x29*0x5f+-0x2*0x926+0x315,_0xa7f9e6=-this['_font']['data']['info']['maps'][_0x1b52ba]['width']/this['_font']['data']['info']['maps'][_0x1b52ba]['height'],_0x28d721=this['_meshInfo'][_0x1b52ba],_0x261e35=_0x30e9e2+this['_spacing']*_0x577981;if(_0x261e35>_0x27667c&&_0x12784c>0x18cf+-0xb95+-0xd3a&&!_0x3e6937&&(this['_maxLines']<-0xfb0+-0x9c*-0x29+0x1dc*-0x5||_0x10994b<this['_maxLines'])){if(_0x3e32a4===-0x5*0x5e+0xb58+-0x982)_0x338d7a=_0x42ad57,_0x385a93(this['_symbols'],_0x42ad57,_0x3c2374);else{const _0x40f96c=Math['max'](_0x42ad57-_0x338d7a,-0x6b*0x26+-0xb*0x2b3+0xf31*0x3);if(this['_meshInfo']['length']<=0x5fd+0x1*0x2375+-0x2971)_0x28d721['lines'][_0x10994b-(0x803*0x1+0x1533+-0x1d35*0x1)]-=_0x40f96c,_0x28d721['quad']-=_0x40f96c;else{const _0x473c0b=_0x338d7a,_0x5b2524=_0x42ad57;for(let _0x329867=_0x473c0b;_0x329867<_0x5b2524;_0x329867++){const _0x1d7235=this['_symbols'][_0x329867],_0x144fb0=_0x4f097b['chars'][_0x1d7235],_0xa17f9e=this['_meshInfo'][_0x144fb0&&_0x144fb0['map']||-0x3*0x8a+0xb*0xf2+-0x4*0x232];_0xa17f9e['lines'][_0x10994b-(0x1*0x171b+-0xfe9+0x7*-0x107)]-=-0x1bbb+-0x12bb*-0x1+0x901,_0xa17f9e['quad']-=0x1b1d+0x1*0x229f+-0x3dbb;}}_0x42ad57-=_0x40f96c+(-0x11a7*-0x2+0xeb1*0x1+-0x31fe),_0x385a93(this['_symbols'],_0x338d7a,_0x5b588b);continue;}}_0x4cbee2=_0x28d721['quad'],_0x28d721['lines'][_0x10994b-(-0x76*0x47+0x1eac+-0x1*-0x20f)]=_0x4cbee2;let _0x15965f=_0x30e9e2-_0x2041ac,_0x2aa990=_0x15965f+_0x39134e;const _0x44d56a=_0x3f74cd-_0x4c4d5a,_0x34a694=_0x44d56a+_0x39134e;if(this['_rtl']){const _0x1dc965=_0x39134e-_0x2041ac-this['_spacing']*_0x577981-_0x2041ac;_0x15965f-=_0x1dc965,_0x2aa990-=_0x1dc965;}_0x28d721['positions'][_0x4cbee2*(0xb5d+0xb96+-0x16ef)*(0x40e+-0x1a2d*-0x1+-0x78e*0x4)+(-0xf*0x1f5+-0x809*-0x3+0x10*0x54)]=_0x15965f,_0x28d721['positions'][_0x4cbee2*(0xd*0x119+-0x460+-0x9e1)*(-0xd*-0x115+0x8ad*-0x3+-0x265*-0x5)+(-0x2*0x7dc+-0x1b0+0x1169)]=_0x44d56a,_0x28d721['positions'][_0x4cbee2*(-0x1e4f*0x1+-0xc9e+0x2af1)*(0x1276+-0x1031+-0x242)+(0x60c*0x6+0x6dc+0x1*-0x2b22)]=_0x5cafd6,_0x28d721['positions'][_0x4cbee2*(0x25ef+-0x1*-0x69e+-0x2c89)*(0x61*-0x51+0x1a01+0x191*0x3)+(-0x15a+0x26c7*-0x1+-0x1*-0x2824)]=_0x2aa990,_0x28d721['positions'][_0x4cbee2*(-0x67f*-0x5+-0x68b+-0x7*0x3b4)*(0x1e00+-0xa*0x3dc+0x89b)+(0x833*-0x3+-0x10f6+-0x2993*-0x1)]=_0x44d56a,_0x28d721['positions'][_0x4cbee2*(-0xd*-0x101+-0x26a6+-0x53*-0x4f)*(0xd*0xa9+0xc88+0x1*-0x151a)+(0x1925+0x13c3*-0x1+0x55d*-0x1)]=_0x5cafd6,_0x28d721['positions'][_0x4cbee2*(0x3*0x297+-0x1fb*0x7+0x2*0x30e)*(0x206*-0x4+0x9e0*0x2+-0xba5*0x1)+(0x118d+0x270d+-0x3894)]=_0x2aa990,_0x28d721['positions'][_0x4cbee2*(-0x167d+0x2258*0x1+-0xbd7)*(-0x1ef0+0x153*-0x1+-0xa2*-0x33)+(0x152a+-0x25e+-0x1f*0x9b)]=_0x34a694,_0x28d721['positions'][_0x4cbee2*(-0x21ba+0x2*-0x1169+0x4490)*(-0x10ed+0x826+0x8ca)+(-0x1*0x24b5+0x478+0x2045)]=_0x5cafd6,_0x28d721['positions'][_0x4cbee2*(-0x555*0x1+-0x51*-0x11+-0x1*0x8)*(0x1*0x1159+0x2*-0x104c+0xf42)+(-0x573+-0x8*0x423+0x2694)]=_0x15965f,_0x28d721['positions'][_0x4cbee2*(0x1670+0x36*0x32+-0x20f8)*(0x11d5+-0xd*0x1d6+0x60c)+(0x20b0+0x24ad+-0x1*0x4553)]=_0x34a694,_0x28d721['positions'][_0x4cbee2*(-0x45*-0x3+0x545+0x1*-0x610)*(0xf96+-0x1*-0x11e2+0x5*-0x6b1)+(-0x1*0xc3e+-0x78c+0x13d5)]=_0x5cafd6,this['width']=Math['max'](this['width'],_0x261e35);let _0x1b4077;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x1b4077=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0x1a61+-0x1315+0x16bb*0x2+0.0001)),_0x1b4077=N['clamp'](_0x1b4077,_0x2a9a57,_0x4540eb),_0x1b4077!==this['_element']['fontSize'])){this['_fontSize']=_0x1b4077,_0x1fd7ca=!(0x1*0x12f+0x10d9*0x2+-0x22e1);break;}if(this['height']=Math['max'](this['height'],_0x55a253-(_0x3f74cd+_0x1f6b6c)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x1b4077=N['clamp'](this['_fontSize']-(0xaa3*0x2+-0xee6+0x1*-0x65f),_0x2a9a57,_0x4540eb),_0x1b4077!==this['_element']['fontSize'])){this['_fontSize']=_0x1b4077,_0x1fd7ca=!(-0x113*-0xd+-0xbf8+0x7*-0x49);break;}_0x30e9e2+=this['_spacing']*_0x577981,_0x3e6937||(_0x3c2374=_0x30e9e2),(this['_isWordBou'+'ndary'](_0x2feaae)||this['_isValidNe'+'xtChar'](_0x41652b)&&(this['_isNextCJK'+'Boundary'](_0x2feaae,_0x41652b)||this['_isNextCJK'+'WholeWord'](_0x41652b)))&&(_0x3e32a4++,_0x5b588b=_0x3c2374,_0x338d7a=_0x42ad57+(-0x1*-0x104f+-0x31+-0x101d)),_0x12784c++;const _0x4202a6=this['_getUv'](_0x2feaae);if(_0x28d721['uvs'][_0x4cbee2*(0x1ef1+0x4*-0xd3+-0xb*0x283)*(-0x3a0*0x2+-0xc8b+-0x89*-0x25)+(0x21f2+0x42d*0x2+-0x2a4c)]=_0x4202a6[-0x1*-0x2215+-0x25d9+0x3c4],_0x28d721['uvs'][_0x4cbee2*(-0x1f4e+0x24b*0x1+0x1d07)*(-0x118e+0x1af*0x6+0x776)+(0x112c+0x241c+-0x3547)]=0x1cfa+0x355*0x1+-0x204e-_0x4202a6[0x4ed+-0xd*-0x151+-0x1609],_0x28d721['uvs'][_0x4cbee2*(-0x239*0x3+-0x1580+0x1c2f)*(-0x369+-0x4ce+0x839)+(-0x1*-0xc47+-0x3aa*-0x6+-0x1*0x2241)]=_0x4202a6[0x143e+0x1*-0x23d5+0x16b*0xb],_0x28d721['uvs'][_0x4cbee2*(-0x1975*0x1+0x23c5+-0x526*0x2)*(0x10f*-0x7+-0x1e9e+0x2609)+(-0xdaf+0x6*0x3c5+-0x8ec)]=-0x1837+0x30f+-0x1*-0x1529-_0x4202a6[0x1010+0x2b*0xb7+-0x2ecc*0x1],_0x28d721['uvs'][_0x4cbee2*(0x979+0x588+-0xefd)*(0x1c*0x43+0x1385+-0x1ad7)+(-0x102a+0x2247+0x1219*-0x1)]=_0x4202a6[-0x19c7+-0x7a7*-0x3+0x2d4],_0x28d721['uvs'][_0x4cbee2*(0x792*-0x2+0x2*0x97+0xdfa)*(0x61*0x51+-0x1864+-0x64b)+(-0xc*0x52+0x1c6d+-0x1*0x1890)]=0xfe5+-0x4c*0x30+0xf*-0x1c-_0x4202a6[-0x3d5*-0x1+0x3d9*0x6+-0x1ae8],_0x28d721['uvs'][_0x4cbee2*(0x1*-0x1dad+-0x2367+0x4118)*(0x1f41+0x1c8*0xc+0x13*-0x2c5)+(0x1*-0x1a09+-0x483*-0x6+-0x103)]=_0x4202a6[0x6cb*-0x4+-0x3*-0x7c7+-0x1*-0x3d7],_0x28d721['uvs'][_0x4cbee2*(0x1cf*0xe+-0x2170+0x822*0x1)*(0x214+-0xce9*-0x1+-0xefb)+(0x1f7*-0x2+-0x1219+0x160e)]=-0xa49*0x1+0x1a9f+-0x1055-_0x4202a6[0x1086+-0x2*-0xf50+-0x2f23*0x1],this['_symbolCol'+'ors']){const _0x3a207b=this['_symbolCol'+'ors'][_0x42ad57]*(0x103c+0x135c+-0x1*0x2395);_0x5e9238=this['_colorPale'+'tte'][_0x3a207b],_0x478fcd=this['_colorPale'+'tte'][_0x3a207b+(0x7a4+0x20b0*-0x1+0x79*0x35)],_0x19a550=this['_colorPale'+'tte'][_0x3a207b+(0xc40+0xa95+0x1*-0x16d3)];}if(_0x28d721['colors'][_0x4cbee2*(0xb93*0x1+0x12c3+0x1e52*-0x1)*(0x1ba*0x12+-0x9*-0x401+-0x4319)+(-0x1*0x8cb+0x4*-0x58+0xa2b)]=_0x5e9238,_0x28d721['colors'][_0x4cbee2*(0x1381+-0x2463+0x10e6)*(0x14f1*-0x1+-0xd1e+0x2213)+(0x16f5+0x1*0x2239+-0x392d)]=_0x478fcd,_0x28d721['colors'][_0x4cbee2*(-0x5fb*0x1+0x17*-0x7a+0x10f5)*(-0x77*-0x49+-0x1297+-0x147*0xc)+(0x8*-0x412+0xe4d+0x1245)]=_0x19a550,_0x28d721['colors'][_0x4cbee2*(0xaea*0x2+0xf3b*0x1+-0x250b)*(0x1b68+0x24cb+-0x402f*0x1)+(-0x1*-0x39e+0x1b06+-0x1ea1*0x1)]=0xbb9+-0xe18+0x35e*0x1,_0x28d721['colors'][_0x4cbee2*(0xf47+-0x6d+-0xed6)*(-0x1*-0x23d5+-0xb0e+-0x18c3)+(0x1*0xe17+0xa52*0x1+0x5*-0x4e1)]=_0x5e9238,_0x28d721['colors'][_0x4cbee2*(-0xbbb+0x61*0x15+0x3ca)*(0x7*-0x137+-0x4*-0x895+-0x1*0x19cf)+(0x1*-0x371+0x1df1+-0x1*0x1a7b)]=_0x478fcd,_0x28d721['colors'][_0x4cbee2*(0x254+-0x11f*0xd+-0xc43*-0x1)*(0x1cdc*0x1+0x2022+-0x3cfa)+(0x3b*0x43+0x200a+-0x1*0x2f75)]=_0x19a550,_0x28d721['colors'][_0x4cbee2*(-0x135+-0xd6b+0x752*0x2)*(0x2008+-0x1000+-0x1004)+(-0x8e8+-0x1d2f+0x23e*0x11)]=0x1*-0x1e55+0x905*-0x1+0xb*0x3ab,_0x28d721['colors'][_0x4cbee2*(-0x92b*0x1+-0x125+0xa54)*(0x202e+-0x24c6+0x3b*0x14)+(-0x5ef*-0x1+0x150*0x13+-0x1ed7)]=_0x5e9238,_0x28d721['colors'][_0x4cbee2*(0x139*0x1+0x1bb0+-0x1ce5)*(0x3*-0xc64+-0x47*-0xa+0x226a)+(0x1c2a+0x34*-0x53+-0xb45)]=_0x478fcd,_0x28d721['colors'][_0x4cbee2*(0x65d*0x5+0x8e*0x28+-0x1*0x35fd)*(-0x1418+-0x1db7*-0x1+-0x99b)+(-0x17be+0x2045*-0x1+0x12af*0x3)]=_0x19a550,_0x28d721['colors'][_0x4cbee2*(0x1*0x1b0b+0x68*-0x2b+0x1*-0x98f)*(0x2091*-0x1+0x20af+-0x1a)+(-0x2c5*0x2+-0x20b*-0x7+0x9*-0xf8)]=0x87a+0x2*-0x3f1+0x67,_0x28d721['colors'][_0x4cbee2*(-0x4d6*-0x8+-0x164a+-0x1062)*(-0x1bea+-0x2651+0x423f*0x1)+(0x1c3b+-0x5*0x45b+0x334*-0x2)]=_0x5e9238,_0x28d721['colors'][_0x4cbee2*(0x2450+0xe9a+0x2*-0x1973)*(-0x4a8+-0x15df*-0x1+0x275*-0x7)+(-0x28e+-0x2aa+0x545)]=_0x478fcd,_0x28d721['colors'][_0x4cbee2*(0x34c*-0x4+0x139*0x1+0xbfb)*(-0x18a9+-0x18cc+-0x9e5*-0x5)+(-0x317*-0x7+-0x998*0x2+-0x263)]=_0x19a550,_0x28d721['colors'][_0x4cbee2*(-0x707+0x507+0x204)*(0x1*0x1c55+0x4c3*-0x3+-0xe08)+(0x5*0x23+0xd29+-0xdc9*0x1)]=0x190d+0x2*-0xb11+-0x1ec,this['_symbolOut'+'lineParams']){const _0x2a32d1=this['_symbolOut'+'lineParams'][_0x42ad57]*(0x2288+-0xee1+0x2ce*-0x7);_0x15f006=this['_outlinePa'+'lette'][_0x2a32d1]+this['_outlinePa'+'lette'][_0x2a32d1+(0x15cc+-0x226*-0x7+-0x24d5)]*(0x6d7+0x1383+0xb*-0x24e),_0x2332ad=this['_outlinePa'+'lette'][_0x2a32d1+(0x1ad7+0x3*-0xa9f+0x508)]+this['_outlinePa'+'lette'][_0x2a32d1+(-0x424+0x1698+-0x1271*0x1)]*(-0x1d1b+0x3*-0x99f+0x75f*0x8),_0x41c02e=this['_outlinePa'+'lette'][_0x2a32d1+(0xf11+0x13b+-0x1048)];}if(_0x28d721['outlines'][_0x4cbee2*(-0x1d3c+0x1*-0x1d83+-0x133*-0x31)*(-0xc22+0x17a*-0x9+0x11*0x17f)+(-0x1db9+-0x6b*0x23+0x2*0x162d)]=_0x15f006,_0x28d721['outlines'][_0x4cbee2*(-0x4*-0x265+0x4e1*-0x3+-0x1b1*-0x3)*(0x1*0x10e7+-0x399+-0xd4b)+(0x1c83+0x1d5+0x1e57*-0x1)]=_0x2332ad,_0x28d721['outlines'][_0x4cbee2*(-0x21e5+-0x1*-0x10de+0x110b)*(0x7e9+-0x22b4+-0xd67*-0x2)+(0x1041+0x2477+0x1a5b*-0x2)]=_0x41c02e,_0x28d721['outlines'][_0x4cbee2*(0x1bd9+0x31c*0x1+-0x1*0x1ef1)*(-0x1*0x5c0+0xabd*0x1+-0x4fa)+(0x1e7f+0xd3*0x1+-0x1f4f)]=_0x15f006,_0x28d721['outlines'][_0x4cbee2*(0xa31*0x2+0xe77+-0x22d5)*(0x103+-0x1f84+0x1e84)+(0x1*0x2267+-0x15ba+-0x7*0x1cf)]=_0x2332ad,_0x28d721['outlines'][_0x4cbee2*(-0x1c24+-0x37*-0x9d+-0x593)*(0x25a5+-0x1*0x26b3+-0x27*-0x7)+(0x72d*-0x4+-0xf7d+-0x1*-0x2c36)]=_0x41c02e,_0x28d721['outlines'][_0x4cbee2*(0x7c5+-0x3*0x137+-0x41c)*(-0x9*0x1f3+-0xc*-0x254+-0xa62)+(-0x1db7*0x1+-0x2182+-0x1*-0x3f3f)]=_0x15f006,_0x28d721['outlines'][_0x4cbee2*(0x806+0x500+-0x25*0x5a)*(0x165c*0x1+-0x1d58+0x6ff)+(-0x1*-0x90d+0x202*-0x5+-0xd*-0x14)]=_0x2332ad,_0x28d721['outlines'][_0x4cbee2*(0x384+0x1b49+0xd5*-0x25)*(-0x5*0x257+-0xa80+0x1636)+(0x15d7+-0x839+-0xd96)]=_0x41c02e,_0x28d721['outlines'][_0x4cbee2*(-0x385*0x7+0x5e*-0x63+0x3d01)*(-0x29e+0x18eb+-0x12*0x13d)+(0x1b33+0x234d+-0x3e77)]=_0x15f006,_0x28d721['outlines'][_0x4cbee2*(0x1*-0x1ab1+0x1*0xa1f+0xb*0x182)*(0x4f3*0x2+-0x1dc9+0x13e6)+(-0x7*0x392+0x1e6b*-0x1+0xb17*0x5)]=_0x2332ad,_0x28d721['outlines'][_0x4cbee2*(0x10d8+-0x23c*0x2+0x4*-0x317)*(-0xb44+0x92c*-0x3+0x26cb)+(-0x397*-0x1+0x6df+0x3*-0x379)]=_0x41c02e,this['_symbolSha'+'dowParams']){const _0x4bdab1=this['_symbolSha'+'dowParams'][_0x42ad57]*(0x2b2+0x21b3+-0x245f);_0x2c2c33=this['_shadowPal'+'ette'][_0x4bdab1]+this['_shadowPal'+'ette'][_0x4bdab1+(0x171c+-0x1118+-0x1*0x603)]*(-0x915+0xa03+-0x12*-0x1),_0x20b884=this['_shadowPal'+'ette'][_0x4bdab1+(-0x10a3*0x1+-0x5*0x561+0x2b8a)]+this['_shadowPal'+'ette'][_0x4bdab1+(0x448+0x592+0xb*-0xe5)]*(-0x3*-0x373+0x12b6+-0x1c0f),_0x2421e9=this['_shadowPal'+'ette'][_0x4bdab1+(-0x1*0x1f9d+0x1*-0x778+-0x1*-0x2719)]+(-0x183e+0x37*-0x9+0x239*0xc)+Math['round'](_0xa7f9e6*this['_shadowPal'+'ette'][_0x4bdab1+(-0x1610+-0x1482+0x2a97*0x1)]+(0x4*-0x179+-0x149c+0x1aff))*(-0x16f1+0x119e+0x653);}_0x28d721['shadows'][_0x4cbee2*(0x1a5+0x7*0x445+-0x2*0xfc2)*(0x45b*-0x1+0xaee*-0x3+0x2528)+(0x96b*0x1+-0x20c4+-0x8b*-0x2b)]=_0x2c2c33,_0x28d721['shadows'][_0x4cbee2*(-0x23e9+0x2530+-0x11*0x13)*(-0x2*-0x41f+-0x2*-0x1035+0x1*-0x28a5)+(0x172b+0x2*-0x5d1+-0xb88)]=_0x20b884,_0x28d721['shadows'][_0x4cbee2*(0x3d3*0x9+-0xe8d+0x6*-0x34f)*(-0x5*0x1c2+-0xdca+-0x1*-0x1697)+(0x1afb+0x1e13+0x4*-0xe43)]=_0x2421e9,_0x28d721['shadows'][_0x4cbee2*(0x8b0*0x4+-0xa*-0x329+0x212b*-0x2)*(0x1a42+-0x1b56+-0x117*-0x1)+(-0x7*0x29e+0x1b40+-0x8eb)]=_0x2c2c33,_0x28d721['shadows'][_0x4cbee2*(0x24af+0x256c+-0x4a17)*(-0x46f*0x4+-0x5c7*-0x1+0xbf8)+(0x22*0x5b+-0x17*0x16f+0x14e7*0x1)]=_0x20b884,_0x28d721['shadows'][_0x4cbee2*(-0x1461+0x1*-0x48d+0x18f2)*(0x13bb*-0x1+-0x3*0x705+0x28cd)+(-0xa2d*-0x1+0xfb3*-0x1+0x1d9*0x3)]=_0x2421e9,_0x28d721['shadows'][_0x4cbee2*(-0xa70+-0xb*-0x18f+-0x23b*0x3)*(0x1*-0x94a+0x170*0x11+-0xf23)+(0x5*0x5c+-0x121a+0x1054)]=_0x2c2c33,_0x28d721['shadows'][_0x4cbee2*(0x2636+0x16f1+0x1461*-0x3)*(-0x7ef+-0x3b9*0x1+-0x1d*-0x67)+(0x21d3+0x22f7+-0x44c3)]=_0x20b884,_0x28d721['shadows'][_0x4cbee2*(-0xe6*-0xe+0x3*-0x509+0xd9*0x3)*(0xc38*-0x2+-0x11b8+0x2a2b)+(0x1*-0x14d1+-0x38*-0x31+0xa21)]=_0x2421e9,_0x28d721['shadows'][_0x4cbee2*(-0x16f4+-0xd21*-0x2+-0x34a)*(-0x106b+-0x1*0xe8+0xe*0x13d)+(0x9be+-0x9*0x20b+0x8ae)]=_0x2c2c33,_0x28d721['shadows'][_0x4cbee2*(-0x1*-0x1379+0x22ae+-0x1*0x3623)*(0x2448+-0x1655+-0x1*0xdf0)+(0x31c*-0x8+0x772+0x34*0x56)]=_0x20b884,_0x28d721['shadows'][_0x4cbee2*(0x1d8b+0x1*0x1f4b+-0x3cd2)*(-0x4c*-0x4c+0x2038*0x1+-0x36c5*0x1)+(0x3*0x2aa+0x931+-0x892*0x2)]=_0x2421e9,_0x28d721['quad']++;}_0x1fd7ca||_0x3654f9<_0x1e2bc6&&_0x385a93(this['_symbols'],_0x1e2bc6,_0x30e9e2);}this['_noResize']=!(-0xa87+0x24ee+0x2ef*-0x9),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0xb29*-0x1+0x1c1b+0x10f1*-0x1);const _0x16da6b=this['_element']['pivot']['x'],_0x4f446f=this['_element']['pivot']['y'],_0x399b44=this['_alignment']['x'],_0x1fbc63=this['_alignment']['y'];for(let _0x2522b8=-0x1ff+-0x41d*-0x6+-0x16af*0x1;_0x2522b8<this['_meshInfo']['length'];_0x2522b8++){if(this['_meshInfo'][_0x2522b8]['count']===-0xc*-0x1fb+-0x2594+0x2*0x6e8)continue;let _0x56b766=0xa1f*0x3+0x1f81+-0x3dde*0x1;for(const _0x167356 in this['_meshInfo'][_0x2522b8]['lines']){const _0x363226=this['_meshInfo'][_0x2522b8]['lines'][_0x167356],_0x2a5469=this['_lineWidth'+'s'][parseInt(_0x167356,0x1*0x73d+0x1*-0x8a1+0x16e)],_0x3826f1=-_0x16da6b*this['_element']['calculated'+'Width']+_0x399b44*(this['_element']['calculated'+'Width']-_0x2a5469)*(this['_rtl']?-(-0x6b*-0x36+-0x5bf*0x5+0x62a):-0xe7e+0x4ab*-0x2+0x17d5),_0x2d5aa5=(-0x4c5+0x42f+0x1*0x97-_0x4f446f)*this['_element']['calculated'+'Height']-_0x55a253-(0x4*-0x1ca+0x1*-0x6aa+-0xdd3*-0x1-_0x1fbc63)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x18f45e=_0x56b766;_0x18f45e<=_0x363226;_0x18f45e++)this['_meshInfo'][_0x2522b8]['positions'][_0x18f45e*(0x1a85+-0x24b*-0x3+-0x10b1*0x2)*(0x1c2a+0x7bb+0x1*-0x23e2)]+=_0x3826f1,this['_meshInfo'][_0x2522b8]['positions'][_0x18f45e*(0x8e+-0x1fba+0x1f30)*(-0x1c0e+0x5f3*0x3+-0x4*-0x28e)+(0x3c2+-0x2*0x6ab+0x1eb*0x5)]+=_0x3826f1,this['_meshInfo'][_0x2522b8]['positions'][_0x18f45e*(-0x186b+-0xd2e+0x259d)*(0x25cf+-0xa*-0x19f+-0x1b01*0x2)+(0x37*-0x8a+0x9*-0xf6+0x2652)]+=_0x3826f1,this['_meshInfo'][_0x2522b8]['positions'][_0x18f45e*(-0x132*-0x16+-0x4*-0x8dd+-0x3dbc)*(-0xbc3+-0x35f*0x7+0x713*0x5)+(0x1468+-0x1*0x137b+-0xe4)]+=_0x3826f1,this['_meshInfo'][_0x2522b8]['positions'][_0x18f45e*(0x29e+0x248d+-0x2727)*(-0x1e95+0x1ea4+0x3*-0x4)+(-0xf*0x92+0xf51+-0x6c2)]+=_0x2d5aa5,this['_meshInfo'][_0x2522b8]['positions'][_0x18f45e*(0x1395+0x1983+-0x2d14)*(-0x1*0xb9b+0x1*-0xa06+0x115*0x14)+(-0x2414+-0x19b0+0x3dc8)]+=_0x2d5aa5,this['_meshInfo'][_0x2522b8]['positions'][_0x18f45e*(0xf*-0x293+-0xd1d+0x33be)*(0xe1*-0x13+-0x1*-0x1445+-0x38f)+(-0x100d+-0x1f43+0x2f57)]+=_0x2d5aa5,this['_meshInfo'][_0x2522b8]['positions'][_0x18f45e*(-0x1142+0x1*0x1cfb+-0xbb5)*(0xb3*-0x11+0x24eb+-0x1905)+(-0x1a*0x74+0x1a3d+-0xe6b)]+=_0x2d5aa5;if(this['_rtl'])for(let _0x1c19ac=_0x56b766;_0x1c19ac<=_0x363226;_0x1c19ac++){const _0x694fba=_0x1c19ac*(0x4d*0x43+0x13f6+-0x2819)*(-0xe58+-0xb94+0x19ef);for(let _0x4ebcab=0x823*-0x1+-0x2*0xd4f+0x29*0xd9;_0x4ebcab<0x1*0x981+0x239f+-0x2*0x168e;++_0x4ebcab)this['_meshInfo'][_0x2522b8]['positions'][_0x694fba+_0x4ebcab*(0x1a57*0x1+0x202+-0x1c56)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x2522b8]['positions'][_0x694fba+_0x4ebcab*(-0x2*0x62f+-0x5*-0x454+-0x943*0x1)]+_0x3826f1*(-0x2ed*-0x6+-0x1cb9+-0x1*-0xb2d);const _0xd99fef=this['_meshInfo'][_0x2522b8]['positions'][_0x694fba+(-0x95c*0x2+0x197*-0x6+0x1*0x1c45)],_0x34f653=this['_meshInfo'][_0x2522b8]['positions'][_0x694fba+(0x183a+-0x504+0x1*-0x1330)];this['_meshInfo'][_0x2522b8]['positions'][_0x694fba+(-0x130e+-0x16a1+0x29b2)]=this['_meshInfo'][_0x2522b8]['positions'][_0x694fba+(-0x260f+0xb9*0x9+0x1f8e)],this['_meshInfo'][_0x2522b8]['positions'][_0x694fba+(0x8a*0x31+-0xc32*-0x3+0x14fe*-0x3)]=this['_meshInfo'][_0x2522b8]['positions'][_0x694fba+(-0x24d*-0xb+0xda*-0x2+-0x1792*0x1)],this['_meshInfo'][_0x2522b8]['positions'][_0x694fba+(0x366+-0x47*-0x3+0x169*-0x3)]=_0xd99fef,this['_meshInfo'][_0x2522b8]['positions'][_0x694fba+(-0x134b+-0x4d5*0x6+0x3052)]=_0x34f653;}_0x56b766=_0x363226+(0x1e54+0x1*0x161e+0x1*-0x3471);}const _0x1322d0=this['_meshInfo'][_0x2522b8]['count']*(-0x2272+-0x1c54+0x3eca),_0x3024c1=this['_meshInfo'][_0x2522b8]['quad']*(0x1eb6+-0x2*-0x394+-0x25da),_0x5e2764=new go(this['_meshInfo'][_0x2522b8]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x2665dd=0x1baf+-0x2603+-0x2*-0x52a;_0x2665dd<_0x1322d0;_0x2665dd++)_0x2665dd>=_0x3024c1?(_0x5e2764['element'][He]['set'](0x1dc5+-0x2494+0x3*0x245,-0xeb*0x1e+-0x457+0x1fe1,-0x236*0xc+-0x897+0x6f*0x51),_0x5e2764['element'][ns]['set'](0x926+0x2bc+-0x3*0x3f6,-0x25da*0x1+-0x122c*0x1+-0x65*-0x8e),_0x5e2764['element'][At]['set'](0x483*-0x1+0x26cb+-0x2248,0xbd8*-0x3+0x1*-0x1dc8+0x4150,-0x18db+-0xff*-0x17+0x1*0x1f2,0x2*-0x1073+0x829*-0x1+0x290f),_0x5e2764['element'][Po]['set'](0x2405+-0x1*-0x64d+-0x1*0x2a52,0x110c+0x1*-0x2133+0x1027,0xb05+-0xf53*0x1+-0x2*-0x227,-0xba9*0x2+-0x1440+0x2b92),_0x5e2764['element'][Ro]['set'](0x3*0x983+-0xb30+0x1*-0x1159,-0x5a8+0x1*0x885+-0x2dd*0x1,0x2331+0x24e+-0x257f,-0x3e*-0x97+0x1f*0x9f+-0x37d3)):(_0x5e2764['element'][He]['set'](this['_meshInfo'][_0x2522b8]['positions'][_0x2665dd*(0x1b12+0x8*0x452+-0x3d9f)+(0x1*-0x21da+-0x1*0x1c83+0x3e5d)],this['_meshInfo'][_0x2522b8]['positions'][_0x2665dd*(-0x4*-0x791+-0x1cef+0x152*-0x1)+(-0x2581+-0xaca*0x1+0x119*0x2c)],this['_meshInfo'][_0x2522b8]['positions'][_0x2665dd*(-0x1db8+-0x5*-0x54d+0xe*0x3b)+(0x1ada*-0x1+-0x33*-0xa7+-0x669)]),_0x5e2764['element'][ns]['set'](this['_meshInfo'][_0x2522b8]['uvs'][_0x2665dd*(-0x1*0x14ae+0x17*0x10+0x1c0*0xb)+(-0x13d*-0xf+-0xad6+-0x7bd)],this['_meshInfo'][_0x2522b8]['uvs'][_0x2665dd*(0x8c0+-0x1*-0x234e+0x2*-0x1606)+(-0xd*0x212+0x878*0x4+-0x1*0x6f5)]),_0x5e2764['element'][At]['set'](this['_meshInfo'][_0x2522b8]['colors'][_0x2665dd*(-0x175f*0x1+-0x4*-0x713+-0x4e9)+(0x89e+0x184*0x2+0xd5*-0xe)],this['_meshInfo'][_0x2522b8]['colors'][_0x2665dd*(-0x1499*-0x1+0xb*0x2bd+-0x32b4)+(-0x8ce*0x4+-0x1a*-0x4f+0x1b33)],this['_meshInfo'][_0x2522b8]['colors'][_0x2665dd*(0x2eb+0x2*0x6f4+0x14b*-0xd)+(-0xf7*0x27+0x1352+0x9*0x209)],this['_meshInfo'][_0x2522b8]['colors'][_0x2665dd*(0xa*-0x197+0x1590+-0x2d3*0x2)+(0x1*0x1352+0x772+0x9*-0x2f9)]),_0x5e2764['element'][Po]['set'](this['_meshInfo'][_0x2522b8]['outlines'][_0x2665dd*(0x2*-0x11f3+-0xd7c+0x3165)+(-0x1f16+-0x36f+0x2285)],this['_meshInfo'][_0x2522b8]['outlines'][_0x2665dd*(0xbfd+-0xa*-0x260+0x1*-0x23ba)+(-0x209b+-0x11d8+-0x1*-0x3274)],this['_meshInfo'][_0x2522b8]['outlines'][_0x2665dd*(-0x1977*-0x1+0x3a*0x2e+-0x23e0)+(0x7c7+0xad9*-0x1+-0x18a*-0x2)]),_0x5e2764['element'][Ro]['set'](this['_meshInfo'][_0x2522b8]['shadows'][_0x2665dd*(-0x11c*0x1f+0x119d+0x1*0x10ca)+(0x33*0x4b+-0x2577+0x1686)],this['_meshInfo'][_0x2522b8]['shadows'][_0x2665dd*(-0x11*0x2+-0x1fb8+0x1fdd)+(-0x1a7*-0x5+0x5a*0x49+0x10f6*-0x2)],this['_meshInfo'][_0x2522b8]['shadows'][_0x2665dd*(0x112f+-0x1*-0x1cba+-0x5*0x92e)+(-0x4*0x841+0xbb*-0x25+0x3c0d)])),_0x5e2764['next']();_0x5e2764['end'](),this['_meshInfo'][_0x2522b8]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x2522b8]['positions']),this['_meshInfo'][_0x2522b8]['meshInstan'+'ce']['_aabbVer']=-(-0x47*0x56+0x65*0x7+-0x2*-0xa8c);}this['_aabbDirty']=!(0xd50+-0x1fde+0x128e*0x1);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x2e6353){this['font']!==_0x2e6353['resource']&&(this['font']=_0x2e6353['resource']);}['_onFontCha'+'nge'](_0x24b464,_0x55a8a2,_0x4caa8a,_0x1698dc){if(_0x55a8a2==='data'){this['_font']['data']=_0x4caa8a;const _0x1c664c=this['_font']['data']['info']['maps']['length'];for(let _0x14efe0=0x2f7*0xd+0xd0f+-0x339a;_0x14efe0<_0x1c664c;_0x14efe0++){if(!this['_meshInfo'][_0x14efe0])continue;const _0x159a8f=this['_meshInfo'][_0x14efe0]['meshInstan'+'ce'];_0x159a8f&&(_0x159a8f['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x159a8f['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x159a8f['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x14efe0]['width']));}}}['_onFontRem'+'ove'](_0x424f4c){}['_setTextur'+'eParams'](_0x414228,_0x333778){this['_font']&&(this['_font']['type']===Kh?(_0x414228['deletePara'+'meter']('texture_em'+'issiveMap'),_0x414228['deletePara'+'meter']('texture_op'+'acityMap'),_0x414228['setParamet'+'er']('texture_ms'+'dfMap',_0x333778)):this['_font']['type']===yR&&(_0x414228['deletePara'+'meter']('texture_ms'+'dfMap'),_0x414228['setParamet'+'er']('texture_em'+'issiveMap',_0x333778),_0x414228['setParamet'+'er']('texture_op'+'acityMap',_0x333778)));}['_getPxRang'+'e'](_0x37cd55){const _0x33c82c=Object['keys'](this['_font']['data']['chars']);for(let _0x2cb231=0x1697+-0x17*-0x85+-0x228a;_0x2cb231<_0x33c82c['length'];_0x2cb231++){const _0x279f25=this['_font']['data']['chars'][_0x33c82c[_0x2cb231]];if(_0x279f25['range'])return(_0x279f25['scale']||0x9c2*0x2+-0x1ba7+0x824)*_0x279f25['range'];}return-0x3*0x11b+-0x1*-0x8b2+-0x55f;}['_getUv'](_0x1020a4){const _0x296710=this['_font']['data'];if(!_0x296710['chars'][_0x1020a4]){const _0x458b55='\x20';return _0x296710['chars'][_0x458b55]?this['_getUv'](_0x458b55):[-0xa5a+-0x1*-0x1747+-0xced,-0x1*-0x8f1+-0x208+-0x1d*0x3d,-0x1cb2+0x1*-0x193f+-0x3*-0x11fb,0xa2*-0x6+-0x20a8+0x2474];}const _0x50f67a=_0x296710['chars'][_0x1020a4]['map'],_0x4f21a7=_0x296710['info']['maps'][_0x50f67a]['width'],_0x7f6bd8=_0x296710['info']['maps'][_0x50f67a]['height'],_0xcfb8cf=_0x296710['chars'][_0x1020a4]['x'],_0x3fd7fc=_0x296710['chars'][_0x1020a4]['y'],_0x24b187=_0xcfb8cf,_0xa1dad6=_0x3fd7fc,_0x599f77=_0xcfb8cf+_0x296710['chars'][_0x1020a4]['width'],_0x5537f1=_0x3fd7fc-_0x296710['chars'][_0x1020a4]['height'],_0x377467=-0x2*-0x11bc+-0x25*-0x3b+0x3*-0xeaa-_0x296710['chars'][_0x1020a4]['height']/_0x7f6bd8;return[_0x24b187/_0x4f21a7,_0x377467-_0xa1dad6/_0x7f6bd8,_0x599f77/_0x4f21a7,_0x377467-_0x5537f1/_0x7f6bd8];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x2*-0x100f+0x1e7+-0x2205),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0xc25*0x1+-0x2492+-0xc2e*-0x4),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x1403f2){if(this['_model']){const _0x326b8c=this['_model']['meshInstan'+'ces'];for(let _0x922f01=0xfe*0x26+-0xa9*-0x2d+-0x4369;_0x922f01<_0x326b8c['length'];_0x922f01++)_0x326b8c[_0x922f01]['stencilFro'+'nt']=_0x1403f2,_0x326b8c[_0x922f01]['stencilBac'+'k']=_0x1403f2;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x445758){const _0x327614={};_0x445758===void(-0x3e*-0xa0+-0xd2d+-0x1993*0x1)&&(_0x445758=this['_symbols']['length']);for(let _0x4b8f86=0x79d+-0x61*0x4d+0x1cc*0xc,_0xbaebf2=_0x445758;_0x4b8f86<_0xbaebf2;_0x4b8f86++){const _0x51a4f3=this['_symbols'][_0x4b8f86];let _0xfa996b=this['_font']['data']['chars'][_0x51a4f3];_0xfa996b||(_0xfa996b=this['_font']['data']['chars']['\x20'],_0xfa996b||(_0xfa996b=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0xe0+-0x89c+0x97c]]));const _0x5a8587=_0xfa996b['map'];_0x327614[_0x5a8587]?_0x327614[_0x5a8587]++:_0x327614[_0x5a8587]=-0xad*0x6+0x1*0x6f+-0x1d*-0x20;}return _0x327614;}['_updateRen'+'derRange'](){const _0x4ba184=this['_rangeStar'+'t']===0xca7+0x1751+-0x23f8?-0x237d+-0x2*-0x878+0x128d:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x2b04f3=this['_rangeEnd']===-0x2382+-0x3*0xb6f+-0x309*-0x17?0x1c57*0x1+0x1*-0x1337+0x1*-0x920:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x36d568=0x1b*-0x1+0x61*-0xb+0x446,_0x2b00d7=this['_meshInfo']['length'];_0x36d568<_0x2b00d7;_0x36d568++){const _0x117f9a=_0x4ba184[_0x36d568]||0x2*-0x133e+-0x1d1+0x284d,_0x1f9863=_0x2b04f3[_0x36d568]||-0x1*0x15f3+0x121f+-0x7*-0x8c,_0x2f3933=this['_meshInfo'][_0x36d568]['meshInstan'+'ce'];if(_0x2f3933){const _0x36d0a2=_0x2f3933['mesh'];_0x36d0a2&&(_0x36d0a2['primitive'][0xf57+0x989*-0x3+0xd44]['base']=_0x117f9a*(-0x10ae+-0x1*-0x373+0x2*0x69f)*(0x17*-0x43+0x1401+0x1*-0xdfa),_0x36d0a2['primitive'][-0x13b8+0x1b*0x5b+0xa1f*0x1]['count']=(_0x1f9863-_0x117f9a)*(-0x2629+-0x1*0x1e2b+0x4457)*(0x1169+0x1ab3+-0x5*0x8d2));}}}set['text'](_0x273624){this['_i18nKey']=null;const _0x1b711c=_0x273624!=null&&_0x273624['toString']()||'';this['_setText'](_0x1b711c);}get['text'](){return this['_text'];}set['key'](_0x165b7b){const _0x4a2cf6=_0x165b7b!==null?_0x165b7b['toString']():null;this['_i18nKey']!==_0x4a2cf6&&(this['_i18nKey']=_0x4a2cf6,_0x4a2cf6?(this['_fontAsset']['disableLoc'+'alization']=!(-0x22e3+-0x2089*0x1+0x1*0x436d),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x3*-0x7ba+-0x15f6+-0x138));}get['key'](){return this['_i18nKey'];}set['color'](_0x4eac73){const _0x2e3aa1=_0x4eac73['r'],_0x58f9cb=_0x4eac73['g'],_0x9b3d90=_0x4eac73['b'];if(this['_color']===_0x4eac73&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x2e3aa1&&this['_color']['g']===_0x58f9cb&&this['_color']['b']===_0x9b3d90)&&(this['_color']['r']=_0x2e3aa1,this['_color']['g']=_0x58f9cb,this['_color']['b']=_0x9b3d90,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0x13e2+0xe5a+0x588]=Me['r'],this['_colorUnif'+'orm'][-0x2*0x3ec+-0x3*-0x6b7+0x4*-0x313]=Me['g'],this['_colorUnif'+'orm'][-0x455*0x1+0x1*-0xb72+0xfc9]=Me['b'];for(let _0x513277=0x1*-0x1ed3+0x1*0x37+0x1e9c,_0x24a383=this['_model']['meshInstan'+'ces']['length'];_0x513277<_0x24a383;_0x513277++)this['_model']['meshInstan'+'ces'][_0x513277]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x557208){if(this['_color']['a']!==_0x557208&&(this['_color']['a']=_0x557208,this['_model'])){for(let _0x48ce47=-0x800+0x63e+0x1c2,_0x764c4d=this['_model']['meshInstan'+'ces']['length'];_0x48ce47<_0x764c4d;_0x48ce47++)this['_model']['meshInstan'+'ces'][_0x48ce47]['setParamet'+'er']('material_o'+'pacity',_0x557208);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x557208);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x2f7c62){const _0x898efe=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x2f7c62,this['_scaledLin'+'eHeight']=_0x2f7c62,_0x898efe!==_0x2f7c62&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x476d5e){const _0x34c4e7=this['_wrapLines'];this['_wrapLines']=_0x476d5e,_0x34c4e7!==_0x476d5e&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x3d2fb5){const _0x2d314d=this['_spacing'];this['_spacing']=_0x3d2fb5,_0x2d314d!==_0x3d2fb5&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x26204e){const _0x165c89=this['_fontSize'];this['_fontSize']=_0x26204e,this['_originalF'+'ontSize']=_0x26204e,_0x165c89!==_0x26204e&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x500b4f){this['_fontAsset']['defaultAss'+'et']=_0x500b4f;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x4f49f9){let _0x273dd1;if(this['_font']&&(_0x273dd1=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x4f49f9,this['_fontMinY']=0x373+-0x2529*0x1+0x21b6,this['_fontMaxY']=-0x5a*0x5b+-0x24c7+-0xdc1*-0x5,!_0x4f49f9)return;const _0x4d345d=this['_font']['data'];for(const _0x880cfd in _0x4d345d['chars']){const _0xe48348=_0x4d345d['chars'][_0x880cfd];_0xe48348['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0xe48348['bounds'][0x19*0xb+-0xcb0+-0x2*-0x5cf]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0xe48348['bounds'][-0x2144+-0x232*-0x2+0x57*0x55]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x4f49f9['type']!==_0x273dd1){const _0x14b3dc=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x14b3dc);}for(let _0x35b9d3=-0x1*-0x5bd+0x1629+-0x1be6,_0x1dac4c=this['_font']['textures']['length'];_0x35b9d3<_0x1dac4c;_0x35b9d3++)if(!this['_meshInfo'][_0x35b9d3])this['_meshInfo'][_0x35b9d3]=new CR();else{const _0x1078e9=this['_meshInfo'][_0x35b9d3]['meshInstan'+'ce'];_0x1078e9&&(_0x1078e9['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x1078e9['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x1078e9['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x35b9d3]['width']),this['_setTextur'+'eParams'](_0x1078e9,this['_font']['textures'][_0x35b9d3]));}let _0x181e66=!(0x2c*-0x38+0x1*0x1d7b+-0x1*0x13da);for(let _0x340020=this['_font']['textures']['length'];_0x340020<this['_meshInfo']['length'];_0x340020++)this['_meshInfo'][_0x340020]['meshInstan'+'ce']&&(_0x181e66||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x181e66=!(0x12e3+-0x7*0x1a1+-0x77c)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x340020]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x103d68){_0x103d68 instanceof $?this['_alignment']['set'](_0x103d68['x'],_0x103d68['y']):this['_alignment']['set'](_0x103d68[0x106+0xa*0x236+-0x1722],_0x103d68[-0x1dd2+0x24e3+-0x710]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x3ff4b8){const _0x3687ea=this['_autoWidth'];if(this['_autoWidth']=_0x3ff4b8,_0x3ff4b8&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<-0x49f+0x1983+-0x14e4+0.0001&&(this['_element']['width']=this['width']),_0x3687ea!==_0x3ff4b8){const _0xe8a426=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0xe8a426!==this['_fontSize']&&(this['_fontSize']=_0xe8a426,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x26d6ca){const _0x167415=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x26d6ca,_0x26d6ca&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<-0x1510+0x29*0x44+0xa2c+0.0001&&(this['_element']['height']=this['height']),_0x167415!==_0x26d6ca){const _0x2da2ba=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x2da2ba!==this['_fontSize']&&(this['_fontSize']=_0x2da2ba,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x497ce7){this['_rtlReorde'+'r']!==_0x497ce7&&(this['_rtlReorde'+'r']=_0x497ce7,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x373e38){this['_unicodeCo'+'nverter']!==_0x373e38&&(this['_unicodeCo'+'nverter']=_0x373e38,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x34ca88=!(-0x2042+0x7*-0x54f+0x456c);for(let _0x38707b=0x3a6+-0x127e+-0x98*-0x19;_0x38707b<this['_meshInfo']['length'];_0x38707b++)this['_meshInfo'][_0x38707b]['meshInstan'+'ce']&&(_0x34ca88?this['_aabb']['add'](this['_meshInfo'][_0x38707b]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x38707b]['meshInstan'+'ce']['aabb']),_0x34ca88=!(-0x1*0x1bed+-0x5f4+0x21e1)));this['_aabbDirty']=!(-0x1f7b+-0x2bd*-0x2+-0x2*-0xd01);}return this['_aabb'];}set['outlineCol'+'or'](_0x5b3640){const _0x39759c=_0x5b3640 instanceof Y?_0x5b3640['r']:_0x5b3640[-0x4*0x7e2+-0x2b*0x6d+0x1*0x31d7],_0x42c068=_0x5b3640 instanceof Y?_0x5b3640['g']:_0x5b3640[0x181c+0x23a3+-0x3bbe],_0x490daa=_0x5b3640 instanceof Y?_0x5b3640['b']:_0x5b3640[0x15c3+0x2425*-0x1+0x3*0x4cc],_0x43dfc5=_0x5b3640 instanceof Y?_0x5b3640['a']:_0x5b3640[-0x6f0+0x118d+-0xa9a];if(this['_outlineCo'+'lor']===_0x5b3640&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x39759c&&this['_outlineCo'+'lor']['g']===_0x42c068&&this['_outlineCo'+'lor']['b']===_0x490daa&&this['_outlineCo'+'lor']['a']===_0x43dfc5)&&(this['_outlineCo'+'lor']['r']=_0x39759c,this['_outlineCo'+'lor']['g']=_0x42c068,this['_outlineCo'+'lor']['b']=_0x490daa,this['_outlineCo'+'lor']['a']=_0x43dfc5,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x989*-0x1+0xc6e+0x1*-0x2e5]=Me['r'],this['_outlineCo'+'lorUniform'][-0xbc3*-0x3+-0xa*-0x1c1+-0x34d2]=Me['g'],this['_outlineCo'+'lorUniform'][-0x17bf*0x1+-0x23b9+0x3b7a]=Me['b'],this['_outlineCo'+'lorUniform'][0x18e0+0x12a+0x8ad*-0x3]=Me['a'];for(let _0x31af4e=-0x124c+0x135f+-0x113,_0x45a537=this['_model']['meshInstan'+'ces']['length'];_0x31af4e<_0x45a537;_0x31af4e++)this['_model']['meshInstan'+'ces'][_0x31af4e]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x557633){const _0x15751e=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x557633,_0x15751e!==_0x557633&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x72361e=0x2*0xd89+0x1*0x962+-0x2474,_0x15add0=this['_model']['meshInstan'+'ces']['length'];_0x72361e<_0x15add0;_0x72361e++)this['_model']['meshInstan'+'ces'][_0x72361e]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x492246){const _0x5c49c0=_0x492246 instanceof Y?_0x492246['r']:_0x492246[0x1*0x1871+-0x22de+-0x11*-0x9d],_0x653335=_0x492246 instanceof Y?_0x492246['g']:_0x492246[0x1*-0x2a2+-0xe72+-0x1115*-0x1],_0x596edb=_0x492246 instanceof Y?_0x492246['b']:_0x492246[-0x2541+0x5*-0x47d+-0x1*-0x3bb4],_0x13af71=_0x492246 instanceof Y?_0x492246['a']:_0x492246[0x7ef*0x1+-0x118c*-0x1+0x28c*-0xa];if(this['_shadowCol'+'or']===_0x492246&&v['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x5c49c0&&this['_shadowCol'+'or']['g']===_0x653335&&this['_shadowCol'+'or']['b']===_0x596edb&&this['_shadowCol'+'or']['a']===_0x13af71)&&(this['_shadowCol'+'or']['r']=_0x5c49c0,this['_shadowCol'+'or']['g']=_0x653335,this['_shadowCol'+'or']['b']=_0x596edb,this['_shadowCol'+'or']['a']=_0x13af71,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0xb33*-0x3+0x4e0*0x7+-0x43b9]=Me['r'],this['_shadowCol'+'orUniform'][0x4d6+-0xa*0x79+-0x1b]=Me['g'],this['_shadowCol'+'orUniform'][-0x1802+-0x1345*0x2+-0x1*-0x3e8e]=Me['b'],this['_shadowCol'+'orUniform'][-0x4ec+-0x5*-0x2a1+0x2*-0x41b]=Me['a'];for(let _0x3428c8=-0xc7*0x19+0x1*-0xcb4+-0x1*-0x2023,_0x4bf125=this['_model']['meshInstan'+'ces']['length'];_0x3428c8<_0x4bf125;_0x3428c8++)this['_model']['meshInstan'+'ces'][_0x3428c8]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x9969bb){const _0x4acd66=_0x9969bb instanceof $?_0x9969bb['x']:_0x9969bb[-0x1722+-0x1bf2+0x3314*0x1],_0x1ab95f=_0x9969bb instanceof $?_0x9969bb['y']:_0x9969bb[0x210f+-0x1d4c+-0x3c2];if(!(this['_shadowOff'+'set']['x']===_0x4acd66&&this['_shadowOff'+'set']['y']===_0x1ab95f)&&(this['_shadowOff'+'set']['set'](_0x4acd66,_0x1ab95f),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x2f6404=-0x2693*-0x1+0x13b+-0x27ce,_0x292309=this['_model']['meshInstan'+'ces']['length'];_0x2f6404<_0x292309;_0x2f6404++){const _0x2271e8=-this['_font']['data']['info']['maps'][_0x2f6404]['width']/this['_font']['data']['info']['maps'][_0x2f6404]['height'];this['_shadowOff'+'setUniform'][0x174f+-0x15f0+0x9*-0x27]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x363+-0x2*-0x3a2+0x2*-0x1f0]=_0x2271e8*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x2f6404]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x37fae3){this['_minFontSi'+'ze']!==_0x37fae3&&(this['_minFontSi'+'ze']=_0x37fae3,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x3d821e){this['_maxFontSi'+'ze']!==_0x3d821e&&(this['_maxFontSi'+'ze']=_0x3d821e,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x2a8e8a){this['_autoFitWi'+'dth']!==_0x2a8e8a&&(this['_autoFitWi'+'dth']=_0x2a8e8a,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x4102b2){this['_autoFitHe'+'ight']!==_0x4102b2&&(this['_autoFitHe'+'ight']=_0x4102b2,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x58872a){this['_maxLines']!==_0x58872a&&(_0x58872a===null&&this['_maxLines']===-(0x15cb+-0x1609+-0x3*-0x15)||(this['_maxLines']=_0x58872a===null?-(0x1*-0x166f+-0x1a18+0x3088):_0x58872a,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x29324e){if(_0x29324e=!!_0x29324e,this['_enableMar'+'kup']===_0x29324e)return;this['_enableMar'+'kup']=_0x29324e,this['font']&&this['_updateTex'+'t']();const _0x71392b=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x71392b);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0xf75199){return this['_colorPale'+'tte']['slice'](_0xf75199*(-0x2579+-0xb0*-0x1b+-0x15a*-0xe),_0xf75199*(0x1fe5+0xd79*-0x1+-0x1269)+(-0x1*-0x1196+-0x6d1+-0xac2));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x2e1b6f){return this['_outlinePa'+'lette']['slice'](_0x2e1b6f*(-0x1d88+-0x137c+0x3109*0x1),_0x2e1b6f*(0x9*0x2a5+0x1c*0x1a+-0x1aa0)+(-0x1*0x255b+0xd03*-0x1+-0x1*-0x3263));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x4dacbc){return this['_shadowPal'+'ette']['slice'](_0x4dacbc*(-0x1a85+-0xa4b+0x24d6),_0x4dacbc*(-0x172f*0x1+0xf16+0x81f)+(0x1c78+0x2217+-0x3e89));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x5bf0ab){_0x5bf0ab=Math['max'](-0x218a+-0x89a*-0x3+0xc6*0xa,Math['min'](_0x5bf0ab,this['_symbols']['length'])),_0x5bf0ab!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x5bf0ab,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x384a6a){_0x384a6a=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x384a6a,this['_symbols']['length'])),_0x384a6a!==this['_rangeEnd']&&(this['_rangeEnd']=_0x384a6a,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Kd=new T(),_g=new q(),ni=new T(),kR=new T(),es=new q(),Yl=new q(),Kl=new q(),zn=new q();class Gt extends ue{constructor(_0x2c121d,_0x24bbf9){super(_0x2c121d,_0x24bbf9),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(-0x1c82+0x1edd*-0x1+0x3b60),this['_anchor']=new Q(),this['_localAnch'+'or']=new Q(),this['_pivot']=new $(),this['_width']=this['_calculate'+'dWidth']=-0x3*0x767+0x1*0x1f4+0x25*0x8d,this['_height']=this['_calculate'+'dHeight']=0x24c5+0x1*-0x4df+-0x1fc6,this['_margin']=new Q(-0x147*0x1e+0x2ea*0x3+0x1d94,0x11f*0x3+-0x649*0x2+0x935,-(-0x13*-0x1bd+0x51*0x3e+0x5*-0xa81),-(-0x7c*-0x3e+-0x1eb4+0xcc)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(0x1809+-0xb5*0x2f+0x932),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new T(),new T(),new T(),new T()],this['_canvasCor'+'ners']=[new $(),new $(),new $(),new $()],this['_worldCorn'+'ers']=[new T(),new T(),new T(),new T()],this['_cornersDi'+'rty']=!(-0x4*-0x80+0xc1+-0x2c1),this['_canvasCor'+'nersDirty']=!(0xb2*0x31+-0x497*0x3+-0x1*0x144d),this['_worldCorn'+'ersDirty']=!(0x1f7b+-0x2*-0x12e0+-0x453b),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=_h,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0xe*-0xb5+0x1b1e*-0x1+-0x5c*-0x67,this['_fitMode']=gh,this['_useInput']=!(-0xfa5+-0x13*-0xb3+0x25d),this['_layers']=[tl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(-0x1ef0+-0xa07+0x28f8),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0x15c5+-0x1a8f*-0x1+-0x4ca,this['_maskOffse'+'t']=-0x2048+-0x1*0x1ac9+0x1*0x3b11+0.5,this['_maskedBy']=null);}get['data'](){const _0x2342c7=this['system']['store'][this['entity']['getGuid']()];return _0x2342c7?_0x2342c7['data']:null;}set['enabled'](_0x157af9){const _0x11937c=this['data'],_0x2a6344=_0x11937c['enabled'];_0x11937c['enabled']=_0x157af9,this['fire']('set','enabled',_0x2a6344,_0x157af9);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0x13bb*-0x1+-0x4a3+-0x2*-0xc2f+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>-0x25*-0xc+0x971*-0x1+0x7b5*0x1+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x1dbfa3){_0x1dbfa3 instanceof Q?this['_anchor']['copy'](_0x1dbfa3):this['_anchor']['set'](..._0x1dbfa3),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(0x11d8+0xc3*-0x2b+0xee9*0x1),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x2b9266){var _0x3e6533,_0x480bc8;this['_batchGrou'+'pId']!==_0x2b9266&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x2d*-0x53+0x184+-0x101b*0x1&&((_0x3e6533=this['system']['app']['batcher'])==null||_0x3e6533['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x2b9266>=-0x7*0x2d3+0x201d*0x1+-0x4*0x316&&((_0x480bc8=this['system']['app']['batcher'])==null||_0x480bc8['insert'](et['ELEMENT'],_0x2b9266,this['entity'])),_0x2b9266<0x686+-0x8*-0x385+-0x22ae&&this['_batchGrou'+'pId']>=-0x1*-0x1369+0x8*-0x31d+0x15*0x43&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x2b9266);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x2ca2ba){this['_margin']['y']=_0x2ca2ba;const _0x14ce83=this['entity']['getLocalPo'+'sition'](),_0x8f9149=this['_absTop'],_0x537c19=this['_localAnch'+'or']['y']+_0x2ca2ba;this['_setHeight'](_0x8f9149-_0x537c19),_0x14ce83['y']=_0x2ca2ba+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x14ce83);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x285b24){this['_setCalcul'+'atedWidth'](_0x285b24,!(-0xb*0x1ab+-0x1*0x2397+0x35f0*0x1));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x2e85c0){this['_setCalcul'+'atedHeight'](_0x2e85c0,!(-0x1b7*-0x13+-0x907+-0x25b*0xa));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x4b63b2=this['system']['app']['graphicsDe'+'vice'],_0x493418=this['screenCorn'+'ers'],_0x32322d=_0x4b63b2['canvas']['clientWidt'+'h']/_0x4b63b2['width'],_0x5e26ec=_0x4b63b2['canvas']['clientHeig'+'ht']/_0x4b63b2['height'];for(let _0x27c78c=0x1a58+0x275*0x4+-0x242c;_0x27c78c<-0x7d3+0x1ea7+-0x16d0*0x1;_0x27c78c++)this['_canvasCor'+'ners'][_0x27c78c]['set'](_0x493418[_0x27c78c]['x']*_0x32322d,(_0x4b63b2['height']-_0x493418[_0x27c78c]['y'])*_0x5e26ec);return this['_canvasCor'+'nersDirty']=!(-0x1245+-0x6b*-0x16+0x1c*0x53),this['_canvasCor'+'ners'];}set['drawOrder'](_0x833947){let _0x99fd26=-0x2*0x4db+0x1*0x1bd7+-0x1221;this['screen']&&(_0x99fd26=this['screen']['screen']['priority']),_0x833947>-0xe49da4+-0xb2ef78+-0x3d5e7*-0xad&&(v['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x833947=0x17de8fc+0x2*0x7ef118+-0x17bcb2d),this['_drawOrder']=(_0x99fd26<<-0x4de+-0x7*0x49a+0x2*0x1296)+_0x833947,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x1daad7){this['_height']=_0x1daad7,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x1daad7,!(-0x1*0x2482+-0x325*0xa+0x43f4*0x1)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x344997){if(this['_addedMode'+'ls']['length'])for(let _0x33f3d8=0x3*0xb+-0x2066+0xb*0x2ef;_0x33f3d8<this['_layers']['length'];_0x33f3d8++){const _0x95ea7a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x33f3d8]);if(_0x95ea7a){for(let _0x54d901=0x37*-0x82+-0x1b*0x103+0x1*0x373f;_0x54d901<this['_addedMode'+'ls']['length'];_0x54d901++)_0x95ea7a['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x54d901]['meshInstan'+'ces']);}}if(this['_layers']=_0x344997,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x3cc989=-0x17da+0x1933+0x159*-0x1;_0x3cc989<this['_layers']['length'];_0x3cc989++){const _0x2269c6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x3cc989]);if(_0x2269c6){for(let _0x420242=-0x2514+0xb99+0x197b;_0x420242<this['_addedMode'+'ls']['length'];_0x420242++)_0x2269c6['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x420242]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0xd8ba8c){this['_margin']['x']=_0xd8ba8c;const _0x57e0b0=this['entity']['getLocalPo'+'sition'](),_0x2837d8=this['_absRight'],_0x337c54=this['_localAnch'+'or']['x']+_0xd8ba8c;this['_setWidth'](_0x2837d8-_0x337c54),_0x57e0b0['x']=_0xd8ba8c+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x57e0b0);}get['left'](){return this['_margin']['x'];}set['margin'](_0x3bccc7){this['_margin']['copy'](_0x3bccc7),this['_calculate'+'Size'](!(-0x1302+0x1b00+-0x7fe),!(0x7a7*-0x3+-0xda3+0x2498)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x13a912){const {pivot:_0x52962f,margin:_0x40a2c2}=this,_0x459aa8=_0x52962f['x'],_0x96e896=_0x52962f['y'];_0x13a912 instanceof $?_0x52962f['copy'](_0x13a912):_0x52962f['set'](..._0x13a912);const _0x202213=_0x40a2c2['x']+_0x40a2c2['z'],_0x2e1fb3=_0x52962f['x']-_0x459aa8;_0x40a2c2['x']+=_0x202213*_0x2e1fb3,_0x40a2c2['z']-=_0x202213*_0x2e1fb3;const _0x3e6bbe=_0x40a2c2['y']+_0x40a2c2['w'],_0x22a243=_0x52962f['y']-_0x96e896;_0x40a2c2['y']+=_0x3e6bbe*_0x22a243,_0x40a2c2['w']-=_0x3e6bbe*_0x22a243,this['_anchorDir'+'ty']=!(-0x1c70+0x2*0xb1e+0x634),this['_cornersDi'+'rty']=!(0x117a+0x3*0x511+-0x4ab*0x7),this['_worldCorn'+'ersDirty']=!(-0x133f*-0x2+-0x19fb+-0xc83),this['_calculate'+'Size'](!(0x7*-0x19f+0x15d*0x4+0x5e6),!(-0x1*0x184c+-0x6f5+0x1f42)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x52962f);}get['pivot'](){return this['_pivot'];}set['right'](_0x5bf11f){this['_margin']['z']=_0x5bf11f;const _0xe24921=this['entity']['getLocalPo'+'sition'](),_0x298f04=this['_absLeft'],_0x4b81d9=this['_localAnch'+'or']['z']-_0x5bf11f;this['_setWidth'](_0x4b81d9-_0x298f04),_0xe24921['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x5bf11f-this['_calculate'+'dWidth']*(0x1*-0x2272+0xd0f*-0x1+0x3*0xfd6-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0xe24921);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x2d5633=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x5*0x395+0x2*0x33b+0xb73];this['_screenCor'+'ners'][0x118a+0xee1*-0x2+0xc38]['set'](this['_absLeft'],this['_absBottom'],0x2*0x5ec+0x18b3*-0x1+0xcdb),this['_screenCor'+'ners'][0x135c+0x55+0x23*-0x90]['set'](this['_absRight'],this['_absBottom'],-0xc84+-0x8a*-0x3b+-0x9a5*0x2),this['_screenCor'+'ners'][-0x722*0x2+-0x4*0x60d+0x267a]['set'](this['_absRight'],this['_absTop'],-0xd02+0x23e+0xac4),this['_screenCor'+'ners'][-0x17a1*0x1+0x2642+-0xe9e]['set'](this['_absLeft'],this['_absTop'],-0x1210+-0x785+0x1995);const _0x622a8f=this['screen']['screen']['screenSpac'+'e'];for(let _0x27d83a=-0x182*0xa+0xd29+-0x1eb*-0x1;_0x27d83a<0x213c+-0x4f5+0x1c43*-0x1;_0x27d83a++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x27d83a],this['_screenCor'+'ners'][_0x27d83a]),_0x622a8f&&this['_screenCor'+'ners'][_0x27d83a]['mulScalar'](this['screen']['screen']['scale']),_0x2d5633&&this['_screenCor'+'ners'][_0x27d83a]['add'](_0x2d5633);return this['_cornersDi'+'rty']=!(0x1093+0x221a*0x1+-0x2f*0x114),this['_canvasCor'+'nersDirty']=!(0xe82+-0x1*0xfa7+0x125),this['_worldCorn'+'ersDirty']=!(0x2635+-0x3*-0x27e+-0x2daf),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x100+0x4e+0xb2;}get['textHeight'](){return this['_text']?this['_text']['height']:-0x2*-0xf3e+-0x26*-0xa2+-0x5*0xae8;}set['top'](_0x3adf30){this['_margin']['w']=_0x3adf30;const _0x1ebd0d=this['entity']['getLocalPo'+'sition'](),_0x361d27=this['_absBottom'],_0x469f57=this['_localAnch'+'or']['w']-_0x3adf30;this['_setHeight'](_0x469f57-_0x361d27),_0x1ebd0d['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x3adf30-this['_calculate'+'dHeight']*(0x79*0x43+-0x7*-0x58c+-0x1*0x467e-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x1ebd0d);}get['top'](){return this['_margin']['w'];}set['type'](_0x1be58e){_0x1be58e!==this['_type']&&(this['_type']=_0x1be58e,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x1be58e===rf?this['_image']=new _R(this):_0x1be58e===ex&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0xeac41f){this['_useInput']!==_0xeac41f&&(this['_useInput']=_0xeac41f,this['system']['app']['elementInp'+'ut']?_0xeac41f?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x1a2f+-0x14b3+0x22*0x161)&&v['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0xeac41f));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x108483){this['_fitMode']=_0x108483,this['_calculate'+'Size'](!(0x26da*0x1+0x204+0x2*-0x146f),!(0xa8f+-0x2f5*-0x7+0x1f42*-0x1)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x8a9c9b){this['_width']=_0x8a9c9b,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x8a9c9b,!(0x1*0x1169+0x1cbf+-0x2e28*0x1)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x480f59=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){es['copy'](this['screen']['screen']['_screenMat'+'rix']),es['data'][-0x1eaf+-0x2*-0x100f+-0x3b*0x6]=-es['data'][-0x4*0x74+0x5*0x1dc+-0x76f],es['mul2'](this['screen']['getWorldTr'+'ansform'](),es);for(let _0x508077=0x4*0x955+-0x1d8a+-0x7ca*0x1;_0x508077<-0x2634+0x263e+-0x6;_0x508077++)es['transformP'+'oint'](_0x480f59[_0x508077],this['_worldCorn'+'ers'][_0x508077]);}}else{const _0xb587cc=this['entity']['getLocalPo'+'sition']();es['setTransla'+'te'](-_0xb587cc['x'],-_0xb587cc['y'],-_0xb587cc['z']),Yl['setTRS'](T['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0xb587cc['x'],_0xb587cc['y'],_0xb587cc['z']);const _0x4e5ff4=this['entity']['parent']?this['entity']['parent']:this['entity'];zn['copy'](_0x4e5ff4['getWorldTr'+'ansform']()),zn['mul'](Kl)['mul'](Yl)['mul'](es),ni['set'](_0xb587cc['x']-this['pivot']['x']*this['calculated'+'Width'],_0xb587cc['y']-this['pivot']['y']*this['calculated'+'Height'],_0xb587cc['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x1cbd+0x1*-0x2119+0x45c]),ni['set'](_0xb587cc['x']+(0x71*0x7+-0x53*-0x29+-0x1061*0x1-this['pivot']['x'])*this['calculated'+'Width'],_0xb587cc['y']-this['pivot']['y']*this['calculated'+'Height'],_0xb587cc['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x2*-0x120d+-0x31*-0x32+0x1a89]),ni['set'](_0xb587cc['x']+(0x5*-0x95+-0x81*-0x7+-0x9d-this['pivot']['x'])*this['calculated'+'Width'],_0xb587cc['y']+(0x59d*-0x3+0xfaf+0xb*0x1b-this['pivot']['y'])*this['calculated'+'Height'],_0xb587cc['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x282+-0x404*-0x1+-0x180]),ni['set'](_0xb587cc['x']-this['pivot']['x']*this['calculated'+'Width'],_0xb587cc['y']+(-0xed1*0x1+0x10af*0x2+-0x128c-this['pivot']['y'])*this['calculated'+'Height'],_0xb587cc['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x1*-0x1df5+-0x12ca+-0xb28]);}return this['_worldCorn'+'ersDirty']=!(0x7*-0x314+-0x2*0x26a+0x1a61),this['_worldCorn'+'ers'];}set['fontSize'](_0x4db529){this['_setValue']('fontSize',_0x4db529);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x4b8dbb){this['_setValue']('minFontSiz'+'e',_0x4b8dbb);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x21894a){this['_setValue']('maxFontSiz'+'e',_0x21894a);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x8f8ab6){this['_setValue']('maxLines',_0x8f8ab6);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x23c608){this['_setValue']('autoFitWid'+'th',_0x23c608);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0xfee861){this['_setValue']('autoFitHei'+'ght',_0xfee861);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x490163){this['_setValue']('color',_0x490163);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x91b73e){this['_setValue']('font',_0x91b73e);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x66ab9b){this['_setValue']('fontAsset',_0x66ab9b);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x2ca659){this['_setValue']('spacing',_0x2ca659);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x2feee8){this['_setValue']('lineHeight',_0x2feee8);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x412901){this['_setValue']('wrapLines',_0x412901);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x3be131){this['_setValue']('lines',_0x3be131);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x839f7f){this['_setValue']('alignment',_0x839f7f);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x1c1cfa){this['_setValue']('autoWidth',_0x1c1cfa);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x5c894c){this['_setValue']('autoHeight',_0x5c894c);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x3b36ab){this['_setValue']('rtlReorder',_0x3b36ab);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x12b9a5){this['_setValue']('unicodeCon'+'verter',_0x12b9a5);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x1ddf52){this['_setValue']('text',_0x1ddf52);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x1ad11c){this['_setValue']('key',_0x1ad11c);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0xe73163){this['_setValue']('texture',_0xe73163);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x1ef7ca){this['_setValue']('textureAss'+'et',_0x1ef7ca);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x50005e){this['_setValue']('material',_0x50005e);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x543c7f){this['_setValue']('materialAs'+'set',_0x543c7f);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x14e93d){this['_setValue']('sprite',_0x14e93d);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x340cf4){this['_setValue']('spriteAsse'+'t',_0x340cf4);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x2fcbb8){this['_setValue']('spriteFram'+'e',_0x2fcbb8);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x2c938c){this['_setValue']('pixelsPerU'+'nit',_0x2c938c);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x2cca1c){this['_setValue']('opacity',_0x2cca1c);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x257bc0){this['_setValue']('rect',_0x257bc0);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x1b7c1a){this['_setValue']('mask',_0x1b7c1a);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x486908){this['_setValue']('outlineCol'+'or',_0x486908);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x171815){this['_setValue']('outlineThi'+'ckness',_0x171815);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x204c5e){this['_setValue']('shadowColo'+'r',_0x204c5e);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x77619a){this['_setValue']('shadowOffs'+'et',_0x77619a);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x474ad8){this['_setValue']('enableMark'+'up',_0x474ad8);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x55002d){this['_setValue']('rangeStart',_0x55002d);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x1fcfd9){this['_setValue']('rangeEnd',_0x1fcfd9);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x2c9fee,_0x45bcbf){this['_text']?(this['_text'][_0x2c9fee]!==_0x45bcbf&&this['_dirtyBatc'+'h'](),this['_text'][_0x2c9fee]=_0x45bcbf):this['_image']&&(this['_image'][_0x2c9fee]!==_0x45bcbf&&this['_dirtyBatc'+'h'](),this['_image'][_0x2c9fee]=_0x45bcbf);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=$e['prototype']['_sync'],this['entity']['setPositio'+'n']=$e['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=$e['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x624210,_0x43486c,_0x57b311){if(!this['element']['screen']){$e['prototype']['setPositio'+'n']['call'](this,_0x624210,_0x43486c,_0x57b311);return;}_0x624210 instanceof T?Kd['copy'](_0x624210):Kd['set'](_0x624210,_0x43486c,_0x57b311),this['getWorldTr'+'ansform'](),_g['copy'](this['element']['_screenToW'+'orld'])['invert'](),_g['transformP'+'oint'](Kd,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x228fde,_0x285911,_0x38d743){_0x228fde instanceof T?this['localPosit'+'ion']['copy'](_0x228fde):this['localPosit'+'ion']['set'](_0x228fde,_0x285911,_0x38d743);const _0x5cdc3e=this['element'],_0x48a28d=this['localPosit'+'ion'],_0x2ade51=_0x5cdc3e['_pivot'];_0x5cdc3e['_margin']['x']=_0x48a28d['x']-_0x5cdc3e['_calculate'+'dWidth']*_0x2ade51['x'],_0x5cdc3e['_margin']['z']=_0x5cdc3e['_localAnch'+'or']['z']-_0x5cdc3e['_localAnch'+'or']['x']-_0x5cdc3e['_calculate'+'dWidth']-_0x5cdc3e['_margin']['x'],_0x5cdc3e['_margin']['y']=_0x48a28d['y']-_0x5cdc3e['_calculate'+'dHeight']*_0x2ade51['y'],_0x5cdc3e['_margin']['w']=_0x5cdc3e['_localAnch'+'or']['w']-_0x5cdc3e['_localAnch'+'or']['y']-_0x5cdc3e['_calculate'+'dHeight']-_0x5cdc3e['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x6a6b6a=this['element'],_0x329471=_0x6a6b6a['screen'];if(_0x329471){if(_0x6a6b6a['_anchorDir'+'ty']){let _0x594569=0x227*-0xe+0x1f34*0x1+-0x112*0x1,_0xac6853=-0x137*-0x4+0x11f5+-0x16d1,_0x12164e=0x1978+-0x16f5+0x1*-0x283,_0x515a3f=0x1*-0x14da+-0x1753+0x1617*0x2;if(this['_parent']&&this['_parent']['element'])_0x594569=this['_parent']['element']['calculated'+'Width'],_0xac6853=this['_parent']['element']['calculated'+'Height'],_0x12164e=this['_parent']['element']['pivot']['x'],_0x515a3f=this['_parent']['element']['pivot']['y'];else{const _0x168f30=_0x329471['screen']['resolution'];_0x594569=_0x168f30['x']/_0x329471['screen']['scale'],_0xac6853=_0x168f30['y']/_0x329471['screen']['scale'];}_0x6a6b6a['_anchorTra'+'nsform']['setTransla'+'te'](_0x594569*(_0x6a6b6a['anchor']['x']-_0x12164e),-(_0xac6853*(_0x515a3f-_0x6a6b6a['anchor']['y'])),-0x1cb6+-0x1dd7+0x3a8d*0x1),_0x6a6b6a['_anchorDir'+'ty']=!(0xc70*-0x1+0x230b+0xb4d*-0x2),_0x6a6b6a['_calculate'+'LocalAncho'+'rs']();}_0x6a6b6a['_sizeDirty']&&_0x6a6b6a['_calculate'+'Size'](!(0x23eb+0x70b*0x5+0x1*-0x4721),!(-0x7*0x458+-0x2*0x265+0x2333));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x29ccfd=this['localPosit'+'ion'],_0x38c7d1=_0x6a6b6a['_pivot'];_0x6a6b6a['_margin']['x']=_0x29ccfd['x']-_0x6a6b6a['_calculate'+'dWidth']*_0x38c7d1['x'],_0x6a6b6a['_margin']['z']=_0x6a6b6a['_localAnch'+'or']['z']-_0x6a6b6a['_localAnch'+'or']['x']-_0x6a6b6a['_calculate'+'dWidth']-_0x6a6b6a['_margin']['x'],_0x6a6b6a['_margin']['y']=_0x29ccfd['y']-_0x6a6b6a['_calculate'+'dHeight']*_0x38c7d1['y'],_0x6a6b6a['_margin']['w']=_0x6a6b6a['_localAnch'+'or']['w']-_0x6a6b6a['_localAnch'+'or']['y']-_0x6a6b6a['_calculate'+'dHeight']-_0x6a6b6a['_margin']['y'],this['_dirtyLoca'+'l']=!(0x139f+-0x80*-0x33+0x69*-0x6e);}if(!_0x329471){this['_dirtyWorl'+'d']&&(_0x6a6b6a['_cornersDi'+'rty']=!(-0x5fb*0x1+0xfd9*-0x1+0x15d4),_0x6a6b6a['_canvasCor'+'nersDirty']=!(0x1b8*0x7+0x66e*-0x3+0x3a1*0x2),_0x6a6b6a['_worldCorn'+'ersDirty']=!(-0x4*-0x27a+-0xffc+0x30a*0x2)),$e['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x6a6b6a['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x6a6b6a['_anchorTra'+'nsform']):_0x6a6b6a['_screenToW'+'orld']['copy'](_0x6a6b6a['_anchorTra'+'nsform']),_0x6a6b6a['_modelTran'+'sform']['mul2'](_0x6a6b6a['_screenToW'+'orld'],this['localTrans'+'form']),_0x329471){_0x6a6b6a['_screenToW'+'orld']['mul2'](_0x329471['screen']['_screenMat'+'rix'],_0x6a6b6a['_screenToW'+'orld']),_0x329471['screen']['screenSpac'+'e']||_0x6a6b6a['_screenToW'+'orld']['mul2'](_0x329471['worldTrans'+'form'],_0x6a6b6a['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x6a6b6a['_screenToW'+'orld'],this['localTrans'+'form']);const _0xf23a41=_0x6a6b6a['_parentWor'+'ldTransfor'+'m'];_0xf23a41['setIdentit'+'y']();const _0xc07f71=this['_parent'];_0xc07f71&&_0xc07f71['element']&&_0xc07f71!==_0x329471&&(es['setTRS'](T['ZERO'],_0xc07f71['getLocalRo'+'tation'](),_0xc07f71['getLocalSc'+'ale']()),_0xf23a41['mul2'](_0xc07f71['element']['_parentWor'+'ldTransfor'+'m'],es));const _0x228bfa=ni;_0x228bfa['set'](-0x1*0x8ef+-0x7f7*-0x1+0xf8,-0x1af8+0x1*-0x1e25+0x391d*0x1,this['localPosit'+'ion']['z']);const _0x2ab04e=kR;_0x2ab04e['set'](_0x6a6b6a['_absLeft']+_0x6a6b6a['_pivot']['x']*_0x6a6b6a['calculated'+'Width'],_0x6a6b6a['_absBottom']+_0x6a6b6a['_pivot']['y']*_0x6a6b6a['calculated'+'Height'],-0x1*-0x149f+-0x2*-0x9d9+-0x2851),es['setTransla'+'te'](-_0x2ab04e['x'],-_0x2ab04e['y'],-_0x2ab04e['z']),Yl['setTRS'](_0x228bfa,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x2ab04e['x'],_0x2ab04e['y'],_0x2ab04e['z']),_0x6a6b6a['_screenTra'+'nsform']['mul2'](_0x6a6b6a['_parentWor'+'ldTransfor'+'m'],Kl)['mul'](Yl)['mul'](es),_0x6a6b6a['_cornersDi'+'rty']=!(-0x82b+0x21fd+-0x19d2),_0x6a6b6a['_canvasCor'+'nersDirty']=!(-0x7c3*-0x1+0x12b1+-0x1a74),_0x6a6b6a['_worldCorn'+'ersDirty']=!(0x21c8+0xab*-0x17+-0x126b);}else this['worldTrans'+'form']['copy'](_0x6a6b6a['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0xac*-0x2c+-0x4*0x13a+0x1*-0x18a7);}}['_onInsert'](_0x18a776){const _0x11a435=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x11a435['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x406531=this['entity'];for(;_0x406531;){const _0xe35792=_0x406531['parent'];if((_0xe35792===null||_0xe35792['screen'])&&_0x406531['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),v['trace'](Ss,'register\x20p'+'rerender'));const _0x5f3970=this['system']['_prerender']['indexOf'](this['entity']);_0x5f3970>=-0x38*0x98+0x1396+0x9f*0x16&&this['system']['_prerender']['splice'](_0x5f3970,0x1ac2+0x51b+-0x1fdc),this['system']['_prerender']['indexOf'](_0x406531)<0x2345+0x2077+-0x43bc&&this['system']['_prerender']['push'](_0x406531),v['trace'](Ss,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x406531['name']);}_0x406531=_0xe35792;}}['_onPrerend'+'er'](){for(let _0x1554f8=0x1f07+-0xa99*0x3+-0x4*-0x31;_0x1554f8<this['system']['_prerender']['length'];_0x1554f8++){const _0xd23628=this['system']['_prerender'][_0x1554f8];v['trace'](Ss,'prerender\x20'+'from:\x20'+_0xd23628['name']),_0xd23628['element']&&_0xd23628['element']['syncMask'](-0x2149+0x2*0x7d3+0x8d2*0x2);}this['system']['_prerender']['length']=0x2051+0x143e+-0x348f;}['_bindScree'+'n'](_0x39d5d3){_0x39d5d3['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x1896f8){_0x1896f8['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x512407){this['screen']&&this['screen']!==_0x512407&&this['_unbindScr'+'een'](this['screen']['screen']);const _0xa9c8=this['screen'];this['screen']=_0x512407,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0xa9c8),this['_anchorDir'+'ty']=!(-0x7*0x1+-0x1110+0x23*0x7d);const _0x55a5c4=this['entity']['children'];for(let _0x19269=0x1*0xe4e+-0x1f8+-0xc56,_0x57febc=_0x55a5c4['length'];_0x19269<_0x57febc;_0x19269++)_0x55a5c4[_0x19269]['element']&&_0x55a5c4[_0x19269]['element']['_updateScr'+'een'](_0x512407);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x5d7713){const _0x63a3d7=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x63a3d7['mask'],_0x5d7713);}['_setMasked'+'By'](_0x47f1c2){const _0x93cfb2=this['_image']||this['_text'];if(_0x47f1c2){const _0x59ac6f=_0x47f1c2['element']['_image']['_maskRef'];v['trace'](Ss,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x59ac6f),_0x93cfb2==null||_0x93cfb2['_setStenci'+'l'](new qs({'ref':_0x59ac6f,'func':Ch})),this['_maskedBy']=_0x47f1c2;}else v['trace'](Ss,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x93cfb2==null||_0x93cfb2['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x4f5e59,_0x45264d){var _0x226f07,_0x327217;if(_0x4f5e59){if(this['_setMasked'+'By'](_0x4f5e59),this['mask']){const _0x8e4562=_0x4f5e59['element']['_image']['_maskRef'],_0x2818f1=new qs({'ref':_0x8e4562,'func':Ch,'zpass':HS});this['_image']['_setStenci'+'l'](_0x2818f1),this['_image']['_maskRef']=_0x45264d,_0x45264d++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x2818f1['ref']+(-0x1*-0x15e1+-0x4*0x39a+-0x778*0x1))),v['trace'](Ss,'depth++\x20to'+':\x20',_0x45264d),_0x4f5e59=this['entity'];}const _0xc7cfe9=this['entity']['children'];for(let _0xee7687=0x13f0+0x8*0x463+-0x3708,_0x5162b1=_0xc7cfe9['length'];_0xee7687<_0x5162b1;_0xee7687++)(_0x226f07=_0xc7cfe9[_0xee7687]['element'])==null||_0x226f07['_updateMas'+'k'](_0x4f5e59,_0x45264d);this['mask']&&_0x45264d--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x3dda5c=new qs({'ref':_0x45264d,'func':Ai,'zpass':GS});this['_image']['_setStenci'+'l'](_0x3dda5c),this['_image']['_maskRef']=_0x45264d,_0x45264d++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x3dda5c['ref']),v['trace'](Ss,'depth++\x20to'+':\x20',_0x45264d),_0x4f5e59=this['entity'];}const _0x27f247=this['entity']['children'];for(let _0x436300=-0x2494+-0x54b*-0x2+-0x1*-0x19fe,_0x1c8d84=_0x27f247['length'];_0x436300<_0x1c8d84;_0x436300++)(_0x327217=_0x27f247[_0x436300]['element'])==null||_0x327217['_updateMas'+'k'](_0x4f5e59,_0x45264d);this['mask']&&_0x45264d--;}}['_parseUpTo'+'Screen'](){const _0x29a52e={'screen':null,'mask':null};let _0x12b303=this['entity']['_parent'];for(;_0x12b303&&!_0x12b303['screen'];)_0x12b303['element']&&_0x12b303['element']['mask']&&(_0x29a52e['mask']||(_0x29a52e['mask']=_0x12b303)),_0x12b303=_0x12b303['parent'];return _0x12b303&&_0x12b303['screen']&&(_0x29a52e['screen']=_0x12b303),_0x29a52e;}['_onScreenR'+'esize'](_0x3ab181){this['_anchorDir'+'ty']=!(-0x972+-0xbaf*0x1+0x1521),this['_cornersDi'+'rty']=!(0x4f8*0x1+-0xa*0x3a3+-0x1*-0x1f66),this['_worldCorn'+'ersDirty']=!(0xf25+0x2*-0xf5f+-0xb*-0x16b),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x3ab181);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x285329=-0x12e4+0x1*-0x9ab+0x2077*0x1,_0x37e0b8=0x1f0b+0x1a92+-0x11e7*0x3;const _0x93e8bb=this['entity']['_parent'];if(_0x93e8bb&&_0x93e8bb['element'])_0x285329=_0x93e8bb['element']['calculated'+'Width'],_0x37e0b8=_0x93e8bb['element']['calculated'+'Height'];else{if(this['screen']){const _0x508770=this['screen']['screen']['resolution'],_0x478336=this['screen']['screen']['scale'];_0x285329=_0x508770['x']/_0x478336,_0x37e0b8=_0x508770['y']/_0x478336;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x285329,this['_anchor']['y']*_0x37e0b8,this['_anchor']['z']*_0x285329,this['_anchor']['w']*_0x37e0b8);}['getOffsetP'+'osition'](_0x38e736,_0x46426d){const _0x82b143=this['entity']['getLocalPo'+'sition']()['clone']();return _0x82b143['x']+=_0x38e736,_0x82b143['y']+=_0x46426d,this['_screenToW'+'orld']['transformP'+'oint'](_0x82b143,_0x82b143),_0x82b143;}['onLayersCh'+'anged'](_0x4a6ea2,_0x2647ff){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x4a6ea2['off']('add',this['onLayerAdd'+'ed'],this),_0x4a6ea2['off']('remove',this['onLayerRem'+'oved'],this),_0x2647ff['on']('add',this['onLayerAdd'+'ed'],this),_0x2647ff['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3e1fdd){this['layers']['indexOf'](_0x3e1fdd['id'])<-0x1c5*0x5+0x279+0x660||(this['_image']?_0x3e1fdd['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x3e1fdd['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x1004d8){this['layers']['indexOf'](_0x1004d8['id'])<-0x8da+0x1409+0xb2f*-0x1||(this['_image']?_0x1004d8['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x1004d8['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x260d43;const _0x3e264c=this['system']['app']['scene'],_0x55d841=_0x3e264c['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x3e264c['on']('set:layers',this['onLayersCh'+'anged'],this),_0x55d841&&(this['_evtLayerA'+'dded']=_0x55d841['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x55d841['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x8ea+0x24d4+-0x2dbe&&((_0x260d43=this['system']['app']['batcher'])==null||_0x260d43['insert'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x56a555,_0x560052,_0x33e60b,_0x2348c7;const _0xbd9680=this['system']['app']['scene']['layers'];(_0x56a555=this['_evtLayers'+'Changed'])==null||_0x56a555['off'](),this['_evtLayers'+'Changed']=null,_0xbd9680&&((_0x560052=this['_evtLayerA'+'dded'])==null||_0x560052['off'](),this['_evtLayerA'+'dded']=null,(_0x33e60b=this['_evtLayerR'+'emoved'])==null||_0x33e60b['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0x4*0x7db+0x1ea1+-0xf*0x423&&((_0x2348c7=this['system']['app']['batcher'])==null||_0x2348c7['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x520481,_0x1ce4c9){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x520944=this['_absRight']-this['_absLeft'],_0x4bcdde=this['_absTop']-this['_absBottom'];_0x520481?this['_setWidth'](_0x520944):this['_setCalcul'+'atedWidth'](_0x520944,!(0xd7+0x2*0xfcd+0x1038*-0x2)),_0x1ce4c9?this['_setHeight'](_0x4bcdde):this['_setCalcul'+'atedHeight'](_0x4bcdde,!(-0x3ec+0x1010+-0xc23));const _0x380efe=this['entity']['getLocalPo'+'sition']();_0x380efe['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x380efe['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x380efe),this['_sizeDirty']=!(0x348+0x508*0x7+-0x267f);}['_setWidth'](_0x1006d4){this['_width']=_0x1006d4,this['_setCalcul'+'atedWidth'](_0x1006d4,!(0x2*0x9ac+0x1*0x1bd1+-0x2f28)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x41cd47){this['_height']=_0x41cd47,this['_setCalcul'+'atedHeight'](_0x41cd47,!(0x1*0x171d+0x3e*0x49+-0x1*0x28ca)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x3c4547,_0x380003){if(!(Math['abs'](_0x3c4547-this['_calculate'+'dWidth'])<=0x4*0x59+-0x1*0x1305+0x11a1+0.0001)){if(this['_calculate'+'dWidth']=_0x3c4547,this['entity']['_dirtifyLo'+'cal'](),_0x380003){const _0x4e8a48=this['entity']['getLocalPo'+'sition'](),_0x1c78cd=this['_pivot'];this['_margin']['x']=_0x4e8a48['x']-this['_calculate'+'dWidth']*_0x1c78cd['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x1964b8,_0x121144){if(!(Math['abs'](_0x1964b8-this['_calculate'+'dHeight'])<=0x26ab+-0x39e*-0x3+0x713*-0x7+0.0001)){if(this['_calculate'+'dHeight']=_0x1964b8,this['entity']['_dirtifyLo'+'cal'](),_0x121144){const _0x477bcc=this['entity']['getLocalPo'+'sition'](),_0x16d4cb=this['_pivot'];this['_margin']['y']=_0x477bcc['y']-this['_calculate'+'dHeight']*_0x16d4cb['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x23f791=this['entity']['_children'];for(let _0x2e6d4c=0x3*-0x21f+0xc3a+0x4f*-0x13,_0xe70407=_0x23f791['length'];_0x2e6d4c<_0xe70407;_0x2e6d4c++)_0x23f791[_0x2e6d4c]['element']&&(_0x23f791[_0x2e6d4c]['element']['_anchorDir'+'ty']=!(0xd08+0x19a9+-0x5*0x7bd),_0x23f791[_0x2e6d4c]['element']['_sizeDirty']=!(0x1*0x117c+-0x8e+-0x10ee));}['addModelTo'+'Layers'](_0x2d7976){this['_addedMode'+'ls']['push'](_0x2d7976);for(let _0x19f032=0x9fe*-0x2+0x7f3+-0x3*-0x403;_0x19f032<this['layers']['length'];_0x19f032++){const _0x414216=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x19f032]);_0x414216&&_0x414216['addMeshIns'+'tances'](_0x2d7976['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0xe330fd){const _0x4dd9a2=this['_addedMode'+'ls']['indexOf'](_0xe330fd);_0x4dd9a2>=0x2064*-0x1+0x2182+-0x11e&&this['_addedMode'+'ls']['splice'](_0x4dd9a2,0x1d*0x152+-0x32*-0x7+0x1*-0x27a7);for(let _0x2e0db4=0x18f9+0xecf+-0x27c8;_0x2e0db4<this['layers']['length'];_0x2e0db4++){const _0x410d40=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2e0db4]);_0x410d40&&_0x410d40['removeMesh'+'Instances'](_0xe330fd['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x410c69=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x410c69&&(this['_maskOffse'+'t']=0x1*-0x1cff+0x1*0x25d7+-0x8d8+0.5,this['_offsetRea'+'dAt']=_0x410c69);const _0x2cfbca=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=0xd09*-0x2+-0x1e5e+-0xac*-0x54+0.001,_0x2cfbca;}['isVisibleF'+'orCamera'](_0x4108de){let _0x152804,_0x52b668,_0x1ff3ff,_0x193e2a;if(this['maskedBy']){const _0x1b9db2=this['maskedBy']['element']['screenCorn'+'ers'];_0x152804=Math['min'](Math['min'](_0x1b9db2[-0xc7+0xea*-0x6+0x643]['x'],_0x1b9db2[-0x182+-0x20e6+0x17*0x17f]['x']),Math['min'](_0x1b9db2[-0xa1b+-0x330+-0x1*-0xd4d]['x'],_0x1b9db2[-0x1*-0x18d1+0x1bdc*0x1+-0x34aa]['x'])),_0x52b668=Math['max'](Math['max'](_0x1b9db2[-0x423+-0x1*0x912+0xd35]['x'],_0x1b9db2[-0x16*0x10+-0x22ce+0x9d*0x3b]['x']),Math['max'](_0x1b9db2[0x2c5+-0x22a1+-0xfef*-0x2]['x'],_0x1b9db2[-0x1d61+-0x2*0x1088+0x3e74]['x'])),_0x193e2a=Math['min'](Math['min'](_0x1b9db2[0x2506*0x1+0x279*0x8+0x1c67*-0x2]['y'],_0x1b9db2[-0x992+0xa*-0x32c+0x1*0x294b]['y']),Math['min'](_0x1b9db2[0x10ed+0x68a+-0x1775]['y'],_0x1b9db2[0x134a+0x97a*0x3+-0x3b*0xcf]['y'])),_0x1ff3ff=Math['max'](Math['max'](_0x1b9db2[-0xdc1*0x2+-0x71*0x53+0x4025]['y'],_0x1b9db2[-0x1699+0x1*-0x956+0x1ff0]['y']),Math['max'](_0x1b9db2[0x3*0x753+-0x92a+-0x71*0x1d]['y'],_0x1b9db2[-0x51b+-0x5d6+0xaf4]['y']));}else{const _0x45671e=this['system']['app']['graphicsDe'+'vice']['width'],_0x493639=this['system']['app']['graphicsDe'+'vice']['height'],_0x673d83=_0x4108de['_rect']['z']*_0x45671e,_0x3611a1=_0x4108de['_rect']['w']*_0x493639;_0x152804=_0x4108de['_rect']['x']*_0x45671e,_0x52b668=_0x152804+_0x673d83,_0x1ff3ff=(0x7aa+0x1*-0x120a+0xa61-_0x4108de['_rect']['y'])*_0x493639,_0x193e2a=_0x1ff3ff-_0x3611a1;}const _0xf149b5=this['screenCorn'+'ers'],_0x45871c=Math['min'](Math['min'](_0xf149b5[-0xa1*0x1d+0xc55*-0x2+-0x3*-0xe4d]['x'],_0xf149b5[-0x1a05*-0x1+0xc1d*0x1+-0x2621]['x']),Math['min'](_0xf149b5[-0xca*-0x2b+-0x2534+0x348]['x'],_0xf149b5[0x1*-0x11cf+0x1741+-0x56f]['x'])),_0x55de5c=Math['max'](Math['max'](_0xf149b5[0x583*0x7+0x39+-0x1367*0x2]['x'],_0xf149b5[0x1*-0x14b1+0xe61+0x651]['x']),Math['max'](_0xf149b5[-0xe37+-0x5c1*-0x1+-0x4*-0x21e]['x'],_0xf149b5[0x6de+0x7a+-0x755*0x1]['x'])),_0x1b4e5b=Math['min'](Math['min'](_0xf149b5[-0x139b+-0x88+0x1423]['y'],_0xf149b5[0xc2a*-0x3+0x120e*0x1+-0x1271*-0x1]['y']),Math['min'](_0xf149b5[0x74a+-0x2*0x98f+0xbd6]['y'],_0xf149b5[-0x65+-0x3*0x656+0x136a]['y'])),_0x28b0c4=Math['max'](Math['max'](_0xf149b5[-0x1f27+0x5*-0xa3+0x2256]['y'],_0xf149b5[0x181a+0xda1*0x2+0x1*-0x335b]['y']),Math['max'](_0xf149b5[-0x73c+0xc*0x213+-0x11a6]['y'],_0xf149b5[-0x1e2d+0x2b7*-0xd+-0x1*-0x417b]['y']));return!(_0x55de5c<_0x152804||_0x45871c>_0x52b668||_0x1b4e5b>_0x1ff3ff||_0x28b0c4<_0x193e2a);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x17c8+-0xcb2+-0xb15);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0x3a0*0x5+0x299*-0x4+0x31*0x95);}['_dirtyBatc'+'h'](){var _0x112dd1;this['batchGroup'+'Id']!==-(-0xcbd+0x116*-0x9+0x1684)&&((_0x112dd1=this['system']['app']['batcher'])==null||_0x112dd1['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Gt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Gt,'EVENT_MOUS'+'EUP','mouseup'),c(Gt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Gt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Gt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Gt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Gt,'EVENT_CLIC'+'K','click'),c(Gt,'EVENT_TOUC'+'HSTART','touchstart'),c(Gt,'EVENT_TOUC'+'HEND','touchend'),c(Gt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Gt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class BR{constructor(){this['enabled']=!(0x2ef*-0x8+-0x1c52+0x3b3*0xe);}}const NR=['enabled'];class zR extends Xe{constructor(_0x4d693d){super(_0x4d693d),this['id']='element',this['ComponentT'+'ype']=Gt,this['DataType']=BR,this['schema']=NR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new he(_0x4d693d['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':rs,'name':'element-sy'+'stem'});const _0x5ead1a=this['_defaultTe'+'xture']['lock'](),_0x5f35ce=new Uint8Array(0x3*-0x8ad+0x1*-0xedc+0x25*0x11b);_0x5f35ce[0x35*-0xac+-0x570+0x290c]=0x2*0x293+-0x21bc+-0x1*-0x1d95,_0x5f35ce[0x1af*0x5+-0x1ca3*-0x1+0x10f*-0x23]=-0x14f4+-0x101e*-0x1+0x5d5,_0x5f35ce[-0x1d78+-0x1*0x25d9+0x4353]=0x1bef+-0x9*-0x309+-0x143*0x2b,_0x5f35ce[-0x3ac*-0x8+-0x6e5+0x2cf*-0x8]=0x3f6+0x10d+-0x404,_0x5ead1a['set'](_0x5f35ce),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x38402a,_0x240b70,_0x4879ac){_0x38402a['_beingInit'+'ialized']=!(-0x1f3e*0x1+-0x2*-0x121d+0x1*-0x4fc),_0x240b70['anchor']!==void(-0x647*-0x1+0x2*-0xdd+-0x48d*0x1)&&(_0x240b70['anchor']instanceof Q?_0x38402a['anchor']['copy'](_0x240b70['anchor']):_0x38402a['anchor']['set'](_0x240b70['anchor'][-0x6b0+-0x152*-0x1c+-0xc*0x286],_0x240b70['anchor'][0x18a2+0x17*-0x23+-0x157c],_0x240b70['anchor'][0x6b*-0x17+-0x17b7*-0x1+-0xe18],_0x240b70['anchor'][0x9ca+-0x2*0x47e+0xcb*-0x1])),_0x240b70['pivot']!==void(0x313*-0x3+-0x77*-0x3a+-0x11bd)&&(_0x240b70['pivot']instanceof $?_0x38402a['pivot']['copy'](_0x240b70['pivot']):_0x38402a['pivot']['set'](_0x240b70['pivot'][0x175+0x1*-0x965+0x7f0],_0x240b70['pivot'][0x25a*0xe+0x1*-0x1f11+-0x1da]));const _0x4b5f66=Math['abs'](_0x38402a['anchor']['x']-_0x38402a['anchor']['z'])>-0x4*-0x45b+-0x254d+0x13e1+0.001,_0x59e5ad=Math['abs'](_0x38402a['anchor']['y']-_0x38402a['anchor']['w'])>-0xe87*0x1+0x157*-0x17+0x2d58+0.001;let _0x475725=!(-0x1*-0x476+0x86f*0x1+-0xce4),_0x347c13;_0x240b70['margin']!==void(0x1*0xef0+-0x174d+-0x1*-0x85d)&&(_0x240b70['margin']instanceof Q?_0x38402a['margin']['copy'](_0x240b70['margin']):_0x38402a['_margin']['set'](_0x240b70['margin'][0xa*0x28d+0x1607+-0x1*0x2f89],_0x240b70['margin'][-0x58*-0x1b+-0x4*0x2f5+0x1*0x28d],_0x240b70['margin'][0x2611*-0x1+0xc2+0x2551],_0x240b70['margin'][-0x471*0x3+-0x92f*-0x1+0x427]),_0x475725=!(-0x2*0x1163+-0xee1*-0x2+0x504)),_0x240b70['left']!==void(0x26*-0x9d+0x502*0x7+-0xbc0)&&(_0x38402a['_margin']['x']=_0x240b70['left'],_0x475725=!(-0x158*-0x1+0x17c3+-0x191b*0x1)),_0x240b70['bottom']!==void(0x18e5+0x84f*-0x4+-0x857*-0x1)&&(_0x38402a['_margin']['y']=_0x240b70['bottom'],_0x475725=!(-0xc25+-0x1059+0x209*0xe)),_0x240b70['right']!==void(-0x151*0x3+-0x11a5+0x1598)&&(_0x38402a['_margin']['z']=_0x240b70['right'],_0x475725=!(0xe8d+0x44f+-0x1*0x12dc)),_0x240b70['top']!==void(0xdc3*-0x1+0xe9*-0x1a+0x256d)&&(_0x38402a['_margin']['w']=_0x240b70['top'],_0x475725=!(0xa*0x1dc+0x3*0x6cd+-0x26ff)),_0x475725&&(_0x38402a['margin']=_0x38402a['_margin']);let _0x5d2f4e=!(0x2*0xeed+-0x1d5*-0x4+-0x252d*0x1);_0x240b70['width']!==void(0x1176+0x1*0x16b5+-0x282b)&&!_0x4b5f66?_0x38402a['width']=_0x240b70['width']:_0x4b5f66&&(_0x5d2f4e=!(-0xd8e*0x2+0x15ad+0x56f)),_0x240b70['height']!==void(-0xe6e+0x14a5+-0x637)&&!_0x59e5ad?_0x38402a['height']=_0x240b70['height']:_0x59e5ad&&(_0x5d2f4e=!(0x1c18+0x181e+-0x3436)),_0x5d2f4e&&(_0x38402a['anchor']=_0x38402a['anchor']),_0x240b70['enabled']!==void(-0x14*-0x3+-0x1af*0x3+0x4d1)&&(_0x38402a['enabled']=_0x240b70['enabled']),_0x240b70['useInput']!==void(0x14ad+-0xdf2+-0x6bb)&&(_0x38402a['useInput']=_0x240b70['useInput']),_0x240b70['fitMode']!==void(-0x1*0x17dd+-0x28*0xcd+0x37e5)&&(_0x38402a['fitMode']=_0x240b70['fitMode']),_0x38402a['batchGroup'+'Id']=_0x240b70['batchGroup'+'Id']===void(-0x4*0x52f+0xa81*0x1+0xa3b)||_0x240b70['batchGroup'+'Id']===null?-(0x1*-0x1999+-0x4ac+-0xfa*-0x1f):_0x240b70['batchGroup'+'Id'],_0x240b70['layers']&&Array['isArray'](_0x240b70['layers'])&&(_0x38402a['layers']=_0x240b70['layers']['slice'](0x3*0x76d+0x4*-0x952+0xf01*0x1)),_0x240b70['type']!==void(0xa84+-0x3*-0x2ce+-0x12ee)&&(_0x38402a['type']=_0x240b70['type']),_0x38402a['type']===rf?(_0x240b70['rect']!==void(0x25bf+-0x7b1+0x2*-0xf07)&&(_0x38402a['rect']=_0x240b70['rect']),_0x240b70['color']!==void(-0xb2*-0x1f+0x2e+-0x15bc)&&(_0x347c13=_0x240b70['color'],_0x347c13 instanceof Y||(_0x347c13=new Y(_0x240b70['color'][-0x2450+0x2*-0x12b9+-0x832*-0x9],_0x240b70['color'][0x1c66+-0xb01+0xd4*-0x15],_0x240b70['color'][0x24f5+0x1e9b+0x21c7*-0x2])),_0x38402a['color']=_0x347c13),_0x240b70['opacity']!==void(0xdfd+-0x2624+0x1827)&&(_0x38402a['opacity']=_0x240b70['opacity']),_0x240b70['textureAss'+'et']!==void(-0x1af5+-0x15*-0x10f+0x37*0x16)&&(_0x38402a['textureAss'+'et']=_0x240b70['textureAss'+'et']),_0x240b70['texture']&&(_0x38402a['texture']=_0x240b70['texture']),_0x240b70['spriteAsse'+'t']!==void(-0xd*-0x7d+0x122f+0xa*-0x274)&&(_0x38402a['spriteAsse'+'t']=_0x240b70['spriteAsse'+'t']),_0x240b70['sprite']&&(_0x38402a['sprite']=_0x240b70['sprite']),_0x240b70['spriteFram'+'e']!==void(0x126a+0xd2f+0x1f99*-0x1)&&(_0x38402a['spriteFram'+'e']=_0x240b70['spriteFram'+'e']),_0x240b70['pixelsPerU'+'nit']!==void(0x2599+-0xeee+-0x7*0x33d)&&_0x240b70['pixelsPerU'+'nit']!==null&&(_0x38402a['pixelsPerU'+'nit']=_0x240b70['pixelsPerU'+'nit']),_0x240b70['materialAs'+'set']!==void(0x20cf+0x341+-0x2410)&&(_0x38402a['materialAs'+'set']=_0x240b70['materialAs'+'set']),_0x240b70['material']&&(_0x38402a['material']=_0x240b70['material']),_0x240b70['mask']!==void(0x427*-0x9+-0x1dd+0x273c)&&(_0x38402a['mask']=_0x240b70['mask'])):_0x38402a['type']===ex&&(_0x240b70['autoWidth']!==void(-0x256b+0x57*-0x2f+0x1ab2*0x2)&&(_0x38402a['autoWidth']=_0x240b70['autoWidth']),_0x240b70['autoHeight']!==void(-0x1*0x177b+0xb2a+0x3*0x41b)&&(_0x38402a['autoHeight']=_0x240b70['autoHeight']),_0x240b70['rtlReorder']!==void(0xcb6*-0x1+0x2c9*0xb+-0x11ed*0x1)&&(_0x38402a['rtlReorder']=_0x240b70['rtlReorder']),_0x240b70['unicodeCon'+'verter']!==void(0x185f+-0x1975+-0x1*-0x116)&&(_0x38402a['unicodeCon'+'verter']=_0x240b70['unicodeCon'+'verter']),_0x240b70['text']!==null&&_0x240b70['text']!==void(-0x51f+0x23c4+-0x1ea5)?_0x38402a['text']=_0x240b70['text']:_0x240b70['key']!==null&&_0x240b70['key']!==void(0x58f+0x1633+-0x1bc2)&&(_0x38402a['key']=_0x240b70['key']),_0x240b70['color']!==void(-0xaa0*-0x2+0x1*0x1b19+-0x1*0x3059)&&(_0x347c13=_0x240b70['color'],_0x347c13 instanceof Y||(_0x347c13=new Y(_0x347c13[0x8e+-0x6*0x4b1+-0x373*-0x8],_0x347c13[-0x7*0x3d2+-0x31d*0x9+0x36c4],_0x347c13[0x3*0x18a+-0x53*-0x1+-0x4ef])),_0x38402a['color']=_0x347c13),_0x240b70['opacity']!==void(-0xa*-0x3cf+-0x23fd+-0x219)&&(_0x38402a['opacity']=_0x240b70['opacity']),_0x240b70['spacing']!==void(-0x2*-0x6b1+-0x1*-0x1b15+-0x2877)&&(_0x38402a['spacing']=_0x240b70['spacing']),_0x240b70['fontSize']!==void(0xf11+-0x5db+-0x936)&&(_0x38402a['fontSize']=_0x240b70['fontSize'],_0x240b70['lineHeight']||(_0x38402a['lineHeight']=_0x240b70['fontSize'])),_0x240b70['lineHeight']!==void(-0x1561+-0xc*0x18e+0x2809)&&(_0x38402a['lineHeight']=_0x240b70['lineHeight']),_0x240b70['maxLines']!==void(-0x1ec6+0x11ba+0x1*0xd0c)&&(_0x38402a['maxLines']=_0x240b70['maxLines']),_0x240b70['wrapLines']!==void(0x1*-0x19e4+0x19*-0x14d+0x313*0x13)&&(_0x38402a['wrapLines']=_0x240b70['wrapLines']),_0x240b70['minFontSiz'+'e']!==void(-0x224b+-0x18be+0x3b09)&&(_0x38402a['minFontSiz'+'e']=_0x240b70['minFontSiz'+'e']),_0x240b70['maxFontSiz'+'e']!==void(-0x56*0x48+-0x3*-0x443+0x15*0x8b)&&(_0x38402a['maxFontSiz'+'e']=_0x240b70['maxFontSiz'+'e']),_0x240b70['autoFitWid'+'th']&&(_0x38402a['autoFitWid'+'th']=_0x240b70['autoFitWid'+'th']),_0x240b70['autoFitHei'+'ght']&&(_0x38402a['autoFitHei'+'ght']=_0x240b70['autoFitHei'+'ght']),_0x240b70['fontAsset']!==void(-0xa*-0x239+0x1845+-0x2e7f)&&(_0x38402a['fontAsset']=_0x240b70['fontAsset']),_0x240b70['font']!==void(-0x11ef*-0x1+-0x4e1*-0x1+-0x16d0)&&(_0x38402a['font']=_0x240b70['font']),_0x240b70['alignment']!==void(-0x1*-0xafb+-0x3*0x4b3+0x3*0x10a)&&(_0x38402a['alignment']=_0x240b70['alignment']),_0x240b70['outlineCol'+'or']!==void(0x158f+0x211b*0x1+-0x36aa)&&(_0x38402a['outlineCol'+'or']=_0x240b70['outlineCol'+'or']),_0x240b70['outlineThi'+'ckness']!==void(0x28d*-0x2+0xbeb*-0x1+0x1*0x1105)&&(_0x38402a['outlineThi'+'ckness']=_0x240b70['outlineThi'+'ckness']),_0x240b70['shadowColo'+'r']!==void(0xb24*0x2+-0x10ec+-0x55c)&&(_0x38402a['shadowColo'+'r']=_0x240b70['shadowColo'+'r']),_0x240b70['shadowOffs'+'et']!==void(0x1*0x2183+0x11f0+-0x3373)&&(_0x38402a['shadowOffs'+'et']=_0x240b70['shadowOffs'+'et']),_0x240b70['enableMark'+'up']!==void(-0x30e+-0x157d+0x3d*0x67)&&(_0x38402a['enableMark'+'up']=_0x240b70['enableMark'+'up']));const _0x5e1ea9=_0x38402a['_parseUpTo'+'Screen']();_0x5e1ea9['screen']&&_0x38402a['_updateScr'+'een'](_0x5e1ea9['screen']),super['initialize'+'ComponentD'+'ata'](_0x38402a,_0x240b70,_0x4879ac),_0x38402a['_beingInit'+'ialized']=!(0xd*0x9+0x9*0x1dd+-0x1139),_0x38402a['type']===rf&&_0x38402a['_image']['_meshDirty']&&_0x38402a['_image']['_updateMes'+'h'](_0x38402a['_image']['mesh']);}['onAddCompo'+'nent'](_0x420789,_0x2c5498){_0x420789['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x44d2d1,_0xb31658){_0xb31658['onRemove']();}['cloneCompo'+'nent'](_0x438d06,_0x58d5a4){const _0xc5a7f8=_0x438d06['element'],_0x2da14b={'enabled':_0xc5a7f8['enabled'],'width':_0xc5a7f8['width'],'height':_0xc5a7f8['height'],'anchor':_0xc5a7f8['anchor']['clone'](),'pivot':_0xc5a7f8['pivot']['clone'](),'margin':_0xc5a7f8['margin']['clone'](),'alignment':_0xc5a7f8['alignment']&&_0xc5a7f8['alignment']['clone']()||_0xc5a7f8['alignment'],'autoWidth':_0xc5a7f8['autoWidth'],'autoHeight':_0xc5a7f8['autoHeight'],'type':_0xc5a7f8['type'],'rect':_0xc5a7f8['rect']&&_0xc5a7f8['rect']['clone']()||_0xc5a7f8['rect'],'rtlReorder':_0xc5a7f8['rtlReorder'],'unicodeConverter':_0xc5a7f8['unicodeCon'+'verter'],'materialAsset':_0xc5a7f8['materialAs'+'set'],'material':_0xc5a7f8['material'],'color':_0xc5a7f8['color']&&_0xc5a7f8['color']['clone']()||_0xc5a7f8['color'],'opacity':_0xc5a7f8['opacity'],'textureAsset':_0xc5a7f8['textureAss'+'et'],'texture':_0xc5a7f8['texture'],'spriteAsset':_0xc5a7f8['spriteAsse'+'t'],'sprite':_0xc5a7f8['sprite'],'spriteFrame':_0xc5a7f8['spriteFram'+'e'],'pixelsPerUnit':_0xc5a7f8['pixelsPerU'+'nit'],'spacing':_0xc5a7f8['spacing'],'lineHeight':_0xc5a7f8['lineHeight'],'wrapLines':_0xc5a7f8['wrapLines'],'layers':_0xc5a7f8['layers'],'fontSize':_0xc5a7f8['fontSize'],'minFontSize':_0xc5a7f8['minFontSiz'+'e'],'maxFontSize':_0xc5a7f8['maxFontSiz'+'e'],'autoFitWidth':_0xc5a7f8['autoFitWid'+'th'],'autoFitHeight':_0xc5a7f8['autoFitHei'+'ght'],'maxLines':_0xc5a7f8['maxLines'],'fontAsset':_0xc5a7f8['fontAsset'],'font':_0xc5a7f8['font'],'useInput':_0xc5a7f8['useInput'],'fitMode':_0xc5a7f8['fitMode'],'batchGroupId':_0xc5a7f8['batchGroup'+'Id'],'mask':_0xc5a7f8['mask'],'outlineColor':_0xc5a7f8['outlineCol'+'or']&&_0xc5a7f8['outlineCol'+'or']['clone']()||_0xc5a7f8['outlineCol'+'or'],'outlineThickness':_0xc5a7f8['outlineThi'+'ckness'],'shadowColor':_0xc5a7f8['shadowColo'+'r']&&_0xc5a7f8['shadowColo'+'r']['clone']()||_0xc5a7f8['shadowColo'+'r'],'shadowOffset':_0xc5a7f8['shadowOffs'+'et']&&_0xc5a7f8['shadowOffs'+'et']['clone']()||_0xc5a7f8['shadowOffs'+'et'],'enableMarkup':_0xc5a7f8['enableMark'+'up']};return _0xc5a7f8['key']!==void(-0xfda+-0x14fa+0x24d4)&&_0xc5a7f8['key']!==null?_0x2da14b['key']=_0xc5a7f8['key']:_0x2da14b['text']=_0xc5a7f8['text'],this['addCompone'+'nt'](_0x58d5a4,_0x2da14b);}['getTextEle'+'mentMateri'+'al'](_0x4a2c98,_0x1cb193,_0x57bc26){const _0x469064=(_0x4a2c98&&0xbe1+0x1a61+-0x7*0x577)|(_0x1cb193&&-0x347*-0x1+0x1*-0x23fb+0x1*0x20b6)|(_0x57bc26&&0x6cb+0x54*0x7+-0x913);let _0x3205c8=this['_defaultTe'+'xtMaterial'+'s'][_0x469064];if(_0x3205c8)return _0x3205c8;let _0x166d07='TextMateri'+'al';return _0x3205c8=new cs(),_0x1cb193?(_0x3205c8['msdfMap']=this['_defaultTe'+'xture'],_0x3205c8['msdfTextAt'+'tribute']=_0x57bc26,_0x3205c8['emissive']['set'](0x14e3+-0x189+0x1359*-0x1,0x2*0xcc2+-0x8a5+0x11*-0xfe,-0x10a4+-0xcd0+0x1d75)):(_0x166d07='Bitmap'+_0x166d07,_0x3205c8['emissive']['set'](-0x77c+-0x43*0x5+0x8cc,0xa*0x144+-0x20b9*-0x1+-0xf20*0x3,-0x1*-0x208c+-0x20*0x33+-0x1a2b),_0x3205c8['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x3205c8['opacityMap']=this['_defaultTe'+'xture'],_0x3205c8['opacityMap'+'Channel']='a'),_0x4a2c98&&(_0x166d07='ScreenSpac'+'e'+_0x166d07,_0x3205c8['depthTest']=!(-0x1*0x1670+-0x119*-0x8+0xda9)),_0x3205c8['name']='default'+_0x166d07,_0x3205c8['useLightin'+'g']=!(0x1e77+0xc3b+-0x2ab1),_0x3205c8['useTonemap']=!(-0x1478+-0x82*0x43+-0x7c9*-0x7),_0x3205c8['useFog']=!(0x60b+0x221+-0x82b),_0x3205c8['useSkybox']=!(0x3*0x6e6+0x1*-0x21d7+0xd26),_0x3205c8['diffuse']['set'](0x10bd*0x1+-0x7fc+-0x3*0x2eb,-0x3*0x517+-0x6cd*-0x5+-0x1b4*0xb,0x121a+0xa78+-0x1c92),_0x3205c8['opacity']=0x5*0x65e+0x1daf*0x1+-0x3d85+0.5,_0x3205c8['blendType']=hr,_0x3205c8['depthWrite']=!(-0x9bb+0x1337+-0x3*0x329),_0x3205c8['emissiveVe'+'rtexColor']=!(-0x17a3+0x145f*0x1+0x344),_0x3205c8['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x469064]=_0x3205c8,_0x3205c8;}['_createBas'+'eImageMate'+'rial'](){const _0x280bda=new cs();return _0x280bda['diffuse']['set'](-0x13*0xe6+-0x22*0x1+0x1134,0x346+0x710+-0x1b*0x62,-0x1248+-0x197*0xa+0x222e),_0x280bda['emissive']['set'](-0xcbd*-0x1+-0x1*0x4cd+0x7ef*-0x1,0x9d9*0x3+-0x8c*-0x1+0x1*-0x1e16,-0x1*0x129e+-0x3c1*0x7+0x2ce6),_0x280bda['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x280bda['opacityMap']=this['_defaultTe'+'xture'],_0x280bda['opacityMap'+'Channel']='a',_0x280bda['useLightin'+'g']=!(-0x16*-0xd1+0x4d1+-0x5*0x48e),_0x280bda['useTonemap']=!(-0x2141+0x1e8*-0x2+-0x16d*-0x1a),_0x280bda['useFog']=!(-0x9eb*-0x1+0x2708+-0x9ca*0x5),_0x280bda['useSkybox']=!(-0x1e39*-0x1+0x2*-0x29e+-0x18fc),_0x280bda['blendType']=hr,_0x280bda['depthWrite']=!(-0x1b5f+-0x36b*-0x5+0xa49*0x1),_0x280bda;}['getImageEl'+'ementMater'+'ial'](_0x23cef5,_0x2f3b4e,_0x16df8e,_0x2c8bc2){return _0x23cef5?_0x2f3b4e?_0x16df8e?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x1*-0x6a3+-0x8e+-0x2*0x30a),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x61f*-0x4+0x1549+-0xcd*-0x4,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x2182*-0x1+0x9*0x16+-0x2247),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x1de7+0xd19*0x1+-0x1*0x2aff),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0x22c0+0x143+-0x2402),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x1*-0x2230+-0x4*0x68f+0x3c6d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x2c8bc2?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0xce*0x2+-0x1d3*0x11+-0x8*-0x414),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=0x9b6+0x261e+-0x2fd3*0x1,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x531*0x7+0x8d+0x7*-0x545),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0x675+-0x235a+0x1*0x29d0),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x7ad*-0x4+0x1f86+-0x13*0xb),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x1*-0x2339+-0x22*-0x8e+0x105e),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(0x31*0xb5+0x8f*-0x20+-0x10c4),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x47*-0x75+0x11b*0x1+0x1f59,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0x157*0x1b+-0x7c*-0x4c+0x1854*-0x3),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x224c+-0x2*0x130c+0x3cd),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x1186+0x1f5+-0x33f*0x6),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(-0x1*0x2333+0x95*-0xc+0x2a30),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x16df8e?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x5*0x3a6+0x1*-0x13c1+0x980*0x4),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x2c8bc2?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0xbce+-0x175*0x5+0x1318),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(0x57e*0x1+-0x487+-0xf6),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x2f3b4e?_0x16df8e?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0x3f+0x34*-0x67+0x152c,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0x13ec+-0x10b5+-0x89*0x6),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x76f*0x4+0xccc+-0x39*0xbf),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0x122b+-0x5a7+-0xc83),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x1612+-0x1048+0x265b),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x2c8bc2?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0xe34+-0x87a+0x16af,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0x13c9*0x1+0x2*0x44f+0xb2c),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0xd5b+0x1*-0xe1d+0x1*0x1b79),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x1*-0x2603+-0x2424+-0x1de),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x1*0x2339+0x257a+-0x240),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=-0xc44+-0x416+0x105b,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x1f2f+-0x2158+-0x2*-0x115),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(-0x4*0x48f+-0xb45+0x1d82),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(-0x21d*0x1+0xc8c+0x5*-0x216),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(-0x1be1+-0x1a5*0x2+0x54*0x5f),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x16df8e?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x2c8bc2?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x15655b){this['_unicodeCo'+'nverter']=_0x15655b;}['registerRt'+'lReorder'](_0x415005){this['_rtlReorde'+'r']=_0x415005;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Un='free',Vn='limited',Gn='locked',UR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Up extends ue{constructor(_0x11a8bc,_0x2fa06b){super(_0x11a8bc,_0x2fa06b),v['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x3f5*-0x1+-0x7f*-0x8+-0x7ed),this['_linearMot'+'ionX']=Gn,this['_linearLim'+'itsX']=new $(0x30+0x3*-0x625+0x123f,-0x10cb+-0x335*0x1+-0x40*-0x50),this['_linearSpr'+'ingX']=!(-0x192e+-0x3*0xa6a+0x386d),this['_linearSti'+'ffnessX']=0x8d8+-0xfdf+0x1*0x707,this['_linearDam'+'pingX']=-0x4*0x289+-0x73*-0x43+-0x13f4,this['_linearEqu'+'ilibriumX']=-0xdf7+-0x21*-0xa3+0x4*-0x1c3,this['_linearMot'+'ionY']=Gn,this['_linearLim'+'itsY']=new $(-0x1322+0x25*0x1+0x12fd,0x1*-0x199+-0xa2b+0xbc4),this['_linearSpr'+'ingY']=!(0x3f4+-0x689*-0x5+0x24a0*-0x1),this['_linearSti'+'ffnessY']=-0x322*0xa+0x1cd2+-0x1*-0x282,this['_linearDam'+'pingY']=0x161b+-0x386+0x2*-0x94a,this['_linearEqu'+'ilibriumY']=-0x2079+0xf*0x76+0x2d7*0x9,this['_linearMot'+'ionZ']=Gn,this['_linearLim'+'itsZ']=new $(0xa6d+-0x1746+-0x1*-0xcd9,-0x9*0x13f+-0x1*0x16de+0x6d1*0x5),this['_linearSpr'+'ingZ']=!(0x8b*0xb+-0x7ff*-0x3+0x1*-0x1df5),this['_linearSti'+'ffnessZ']=-0xa7f+-0x2351+0x1*0x2dd0,this['_linearDam'+'pingZ']=-0x1756+-0x21a5+-0x2*-0x1c7e,this['_linearEqu'+'ilibriumZ']=-0x26b3+-0xfe3*0x2+0x4679*0x1,this['_angularMo'+'tionX']=Gn,this['_angularLi'+'mitsX']=new $(-0x20c8+-0x1*-0xd01+0x53*0x3d,-0xa69+-0x1329+0x1d92),this['_angularSp'+'ringX']=!(0x178c+0x1956+-0x30e1),this['_angularSt'+'iffnessX']=-0xff3+-0x59*-0x2c+0x1*0xa7,this['_angularDa'+'mpingX']=-0x434+0x1b3b*0x1+0x7*-0x34a,this['_angularEq'+'uilibriumX']=-0x1d85+-0x247c+-0x115*-0x3d,this['_angularMo'+'tionY']=Gn,this['_angularLi'+'mitsY']=new $(0x2107+0x1*-0x781+-0x1986,-0x1*0x25f+0x17da+-0xd*0x1a7),this['_angularSp'+'ringY']=!(-0x1001+0x1ef1*0x1+0x1*-0xeef),this['_angularSt'+'iffnessY']=-0xd85+-0x1922+-0x26a7*-0x1,this['_angularDa'+'mpingY']=-0x2*-0x273+-0x26ad*-0x1+-0x2b92,this['_angularEq'+'uilibriumY']=-0x1776+-0x198d+-0x3103*-0x1,this['_angularMo'+'tionZ']=Gn,this['_angularLi'+'mitsZ']=new $(0x251b+-0x437*0x1+-0x20e4,0x1*0xa7+0x201a*-0x1+0x1f73),this['_angularSp'+'ringZ']=!(0x42d*-0x1+-0x2265+0x2693),this['_angularEq'+'uilibriumZ']=-0x143c+-0x1*-0x220f+0x1*-0xdd3,this['_angularDa'+'mpingZ']=0x11e*0x1+0x5*-0x61d+0x1d74,this['_angularSt'+'iffnessZ']=0x2234+-0x2617+0x1*0x3e3,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x42ee1e){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x42ee1e,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0xbf0be0){this['_destroyCo'+'nstraint'](),this['_entityB']=_0xbf0be0,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x3d2469){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x3d2469&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x3d2469),this['_breakForc'+'e']=_0x3d2469);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x3321de){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x3321de,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x417d76){this['_angularLi'+'mitsX']['equals'](_0x417d76)||(this['_angularLi'+'mitsX']['copy'](_0x417d76),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x4023f4){this['_angularMo'+'tionX']!==_0x4023f4&&(this['_angularMo'+'tionX']=_0x4023f4,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x2237a5){this['_angularLi'+'mitsY']['equals'](_0x2237a5)||(this['_angularLi'+'mitsY']['copy'](_0x2237a5),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x597232){this['_angularMo'+'tionY']!==_0x597232&&(this['_angularMo'+'tionY']=_0x597232,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x58efbe){this['_angularLi'+'mitsZ']['equals'](_0x58efbe)||(this['_angularLi'+'mitsZ']['copy'](_0x58efbe),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x257e6f){this['_angularMo'+'tionZ']!==_0x257e6f&&(this['_angularMo'+'tionZ']=_0x257e6f,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x1f538c){this['_linearLim'+'itsX']['equals'](_0x1f538c)||(this['_linearLim'+'itsX']['copy'](_0x1f538c),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x556f81){this['_linearMot'+'ionX']!==_0x556f81&&(this['_linearMot'+'ionX']=_0x556f81,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x407968){this['_linearLim'+'itsY']['equals'](_0x407968)||(this['_linearLim'+'itsY']['copy'](_0x407968),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x3f29f0){this['_linearMot'+'ionY']!==_0x3f29f0&&(this['_linearMot'+'ionY']=_0x3f29f0,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x341b8d){this['_linearLim'+'itsZ']['equals'](_0x341b8d)||(this['_linearLim'+'itsZ']['copy'](_0x341b8d),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x235b37){this['_linearMot'+'ionZ']!==_0x235b37&&(this['_linearMot'+'ionZ']=_0x235b37,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x974ff1,_0x55140f){const _0x184995=_0x974ff1['getTransla'+'tion'](),_0x19d6de=new se();_0x19d6de['setFromMat'+'4'](_0x974ff1);const _0x2cd898=new Ammo['btVector3'](_0x184995['x'],_0x184995['y'],_0x184995['z']),_0x5af8bc=new Ammo['btQuaterni'+'on'](_0x19d6de['x'],_0x19d6de['y'],_0x19d6de['z'],_0x19d6de['w']);_0x55140f['setOrigin'](_0x2cd898),_0x55140f['setRotatio'+'n'](_0x5af8bc),Ammo['destroy'](_0x2cd898),Ammo['destroy'](_0x5af8bc);}['_updateAng'+'ularLimits'](){const _0x3666c0=this['_constrain'+'t'];if(_0x3666c0){let _0x50935a,_0x55ac6b,_0x33958f,_0xfd9802,_0x1e6706,_0x596f02;this['_angularMo'+'tionX']===Vn?(_0x50935a=this['_angularLi'+'mitsX']['x']*N['DEG_TO_RAD'],_0xfd9802=this['_angularLi'+'mitsX']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionX']===Un?(_0x50935a=0x6*-0x4af+0x25f3+-0x9d8,_0xfd9802=-0x8*-0x14c+-0x14*0x3a+-0x5d8):_0x50935a=_0xfd9802=0x1be8+-0x352+0x2*-0xc4b,this['_angularMo'+'tionY']===Vn?(_0x55ac6b=this['_angularLi'+'mitsY']['x']*N['DEG_TO_RAD'],_0x1e6706=this['_angularLi'+'mitsY']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionY']===Un?(_0x55ac6b=0x17*-0x42+-0xeb6+-0x2f3*-0x7,_0x1e6706=-0x1f*0xf8+0x15a3+0x133*0x7):_0x55ac6b=_0x1e6706=0x1cf9*-0x1+-0x3*-0x8c5+0x155*0x2,this['_angularMo'+'tionZ']===Vn?(_0x33958f=this['_angularLi'+'mitsZ']['x']*N['DEG_TO_RAD'],_0x596f02=this['_angularLi'+'mitsZ']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Un?(_0x33958f=-0x1d29+0xfcc+-0x6af*-0x2,_0x596f02=0xc19+0x1f20+-0x5*0x8a5):_0x33958f=_0x596f02=0x53*0x65+0x1cde+-0x1*0x3d9d;const _0xd84fb5=new Ammo['btVector3'](_0x50935a,_0x55ac6b,_0x33958f);_0x3666c0['setAngular'+'LowerLimit'](_0xd84fb5),_0xd84fb5['setValue'](_0xfd9802,_0x1e6706,_0x596f02),_0x3666c0['setAngular'+'UpperLimit'](_0xd84fb5),Ammo['destroy'](_0xd84fb5);}}['_updateLin'+'earLimits'](){const _0x1d47ec=this['_constrain'+'t'];if(_0x1d47ec){let _0xa3b10b,_0x5a6070,_0x14cead,_0x4fd444,_0x3e6a4a,_0x15c399;this['_linearMot'+'ionX']===Vn?(_0xa3b10b=this['_linearLim'+'itsX']['x'],_0x4fd444=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Un?(_0xa3b10b=0x73*0x11+0x22e5+-0xbf*0x39,_0x4fd444=0x1*0xf0b+0x4f+-0xf5a):_0xa3b10b=_0x4fd444=-0x3*0xbcd+-0x6*-0x5f7+-0x3*0x21,this['_linearMot'+'ionY']===Vn?(_0x5a6070=this['_linearLim'+'itsY']['x'],_0x3e6a4a=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Un?(_0x5a6070=0x4*0x7ce+0x1ac6*-0x1+-0x471,_0x3e6a4a=-0x69d+-0x1391*0x1+-0x1*-0x1a2e):_0x5a6070=_0x3e6a4a=-0x5*0x337+-0x1ddc+0x2def,this['_linearMot'+'ionZ']===Vn?(_0x14cead=this['_linearLim'+'itsZ']['x'],_0x15c399=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Un?(_0x14cead=0x3*-0x8dd+-0xb67+-0x47*-0x89,_0x15c399=-0xfa9+-0xa7*0x2e+-0xf39*-0x3):_0x14cead=_0x15c399=-0x4*0x289+0xebf+-0x49b;const _0xdc220f=new Ammo['btVector3'](_0xa3b10b,_0x5a6070,_0x14cead);_0x1d47ec['setLinearL'+'owerLimit'](_0xdc220f),_0xdc220f['setValue'](_0x4fd444,_0x3e6a4a,_0x15c399),_0x1d47ec['setLinearU'+'pperLimit'](_0xdc220f),Ammo['destroy'](_0xdc220f);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x52a6d2=new q(),_0x557054=this['_entityA']['rigidbody']['body'];_0x557054['activate']();const _0x43dae0=this['entity']['getWorldTr'+'ansform'](),_0x5e25f3=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x52a6d2['mul2'](_0x5e25f3,_0x43dae0);const _0x3a991b=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x52a6d2,_0x3a991b),this['_entityB']&&this['_entityB']['rigidbody']){const _0x4828dd=this['_entityB']['rigidbody']['body'];_0x4828dd['activate']();const _0x31bb29=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x52a6d2['mul2'](_0x31bb29,_0x43dae0);const _0x442a55=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x52a6d2,_0x442a55),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x557054,_0x4828dd,_0x3a991b,_0x442a55,!this['_enableCol'+'lision']),Ammo['destroy'](_0x442a55);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x557054,_0x3a991b,!this['_enableCol'+'lision']);Ammo['destroy'](_0x3a991b);const _0x4e7db6=['X','Y','Z','X','Y','Z'];for(let _0x276e7b=0x2*0x7a1+0x23f9*0x1+-0x2b*0x131;_0x276e7b<-0x15f6+-0x4a3*-0x7+0x17f*-0x7;_0x276e7b++){const _0x2a2661=_0x276e7b<0x1903+-0x1629+-0x2d7*0x1?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x276e7b,this[_0x2a2661+'Spring'+_0x4e7db6[_0x276e7b]]),this['_constrain'+'t']['setDamping'](_0x276e7b,this[_0x2a2661+'Damping'+_0x4e7db6[_0x276e7b]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x276e7b,this[_0x2a2661+('Equilibriu'+'m')+_0x4e7db6[_0x276e7b]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x276e7b,this[_0x2a2661+'Stiffness'+_0x4e7db6[_0x276e7b]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0xca2118){for(const _0x5dac0f of UR)_0xca2118['hasOwnProp'+'erty'](_0x5dac0f)&&(_0xca2118[_0x5dac0f]instanceof $?this['_'+_0x5dac0f]['copy'](_0xca2118[_0x5dac0f]):this['_'+_0x5dac0f]=_0xca2118[_0x5dac0f]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x2ee664,_0x24980e,_0x15dcc9){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const VR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x27e88b=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x192ed5=>{['X','Y','Z']['forEach'](_0x15acaf=>{const _0x2cc087=_0x27e88b+_0x192ed5+_0x15acaf,_0x3bb537='_'+_0x2cc087;let _0x640e2f=_0x27e88b==='linear'?0x12d8+-0x1ad7*0x1+0x7ff:0x8c7*0x3+-0x1445+-0x60d;_0x15acaf==='Y'&&(_0x640e2f+=-0xb*-0x349+-0x9ce+-0x1a54),_0x15acaf==='Z'&&(_0x640e2f+=-0x754+-0x7f9+0xf4f),Object['defineProp'+'erty'](Up['prototype'],_0x2cc087,{'get':function(){return this[_0x3bb537];},'set':function(_0x2fe695){this[_0x3bb537]!==_0x2fe695&&(this[_0x3bb537]=_0x2fe695,this['_constrain'+'t'][VR[_0x192ed5]](_0x640e2f,_0x2fe695));}});});});});class GR{constructor(){this['enabled']=!(-0x181*-0x5+0x1*0x1cdf+-0x2464);}}const uf=['enabled'];class HR extends Xe{constructor(_0x3f5e47){super(_0x3f5e47),this['id']='joint',this['app']=_0x3f5e47,this['ComponentT'+'ype']=Up,this['DataType']=GR,this['schema']=uf;}['initialize'+'ComponentD'+'ata'](_0x8efbc6,_0xeaec65,_0x406d02){_0x8efbc6['initFromDa'+'ta'](_0xeaec65),super['initialize'+'ComponentD'+'ata'](_0x8efbc6,_0xeaec65,uf);}}ue['_buildAcce'+'ssors'](Up['prototype'],uf);class nx extends ue{constructor(){super(...arguments),c(this,'_minWidth',0x21c4+-0x28*-0x8b+0x43*-0xd4),c(this,'_minHeight',0x5*0x359+0x1f86+-0x3043),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',0xd3*-0x2a+0x1a*-0x167+0x4714),c(this,'_fitHeight'+'Proportion',0x342*-0x2+0x60c+0x14*0x6),c(this,'_excludeFr'+'omLayout',!(0x2e*0x89+0x1838+-0x56d*0x9));}set['minWidth'](_0x398d5e){_0x398d5e!==this['_minWidth']&&(this['_minWidth']=_0x398d5e,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x39e5f2){_0x39e5f2!==this['_minHeight']&&(this['_minHeight']=_0x39e5f2,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x26f711){_0x26f711!==this['_maxWidth']&&(this['_maxWidth']=_0x26f711,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x33edec){_0x33edec!==this['_maxHeight']&&(this['_maxHeight']=_0x33edec,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x13bb40){_0x13bb40!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x13bb40,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x8c8160){_0x8c8160!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x8c8160,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x124cb8){_0x124cb8!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x124cb8,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class $R{constructor(){this['enabled']=!(0x2*0x773+0x1f*-0xa7+0x1d*0x2f);}}const ax=['enabled'];class WR extends Xe{constructor(_0x293e8f){super(_0x293e8f),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=nx,this['DataType']=$R,this['schema']=ax;}['initialize'+'ComponentD'+'ata'](_0x2c5ac7,_0x4f3164,_0x5e7b50){_0x4f3164['enabled']!==void(-0x7*0x1af+0x1b6b+-0xfa2)&&(_0x2c5ac7['enabled']=_0x4f3164['enabled']),_0x4f3164['minWidth']!==void(0x19eb+0x60d*0x2+0x2605*-0x1)&&(_0x2c5ac7['minWidth']=_0x4f3164['minWidth']),_0x4f3164['minHeight']!==void(0x823+-0x17*0xb5+0x410*0x2)&&(_0x2c5ac7['minHeight']=_0x4f3164['minHeight']),_0x4f3164['maxWidth']!==void(-0x6e3+-0xb*0x2f9+0x2796)&&(_0x2c5ac7['maxWidth']=_0x4f3164['maxWidth']),_0x4f3164['maxHeight']!==void(0x21a3+0x26df+-0x4882)&&(_0x2c5ac7['maxHeight']=_0x4f3164['maxHeight']),_0x4f3164['fitWidthPr'+'oportion']!==void(-0x45+0x4ea+-0x4a5)&&(_0x2c5ac7['fitWidthPr'+'oportion']=_0x4f3164['fitWidthPr'+'oportion']),_0x4f3164['fitHeightP'+'roportion']!==void(-0x39*-0x3d+-0x9a9+-0x3ec)&&(_0x2c5ac7['fitHeightP'+'roportion']=_0x4f3164['fitHeightP'+'roportion']),_0x4f3164['excludeFro'+'mLayout']!==void(0xd*-0x10c+0x18d7+-0xb3b)&&(_0x2c5ac7['excludeFro'+'mLayout']=_0x4f3164['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x2c5ac7,_0x4f3164,_0x5e7b50);}['cloneCompo'+'nent'](_0x416242,_0x323373){const _0x331476=_0x416242['layoutchil'+'d'];return this['addCompone'+'nt'](_0x323373,{'enabled':_0x331476['enabled'],'minWidth':_0x331476['minWidth'],'minHeight':_0x331476['minHeight'],'maxWidth':_0x331476['maxWidth'],'maxHeight':_0x331476['maxHeight'],'fitWidthProportion':_0x331476['fitWidthPr'+'oportion'],'fitHeightProportion':_0x331476['fitHeightP'+'roportion'],'excludeFromLayout':_0x331476['excludeFro'+'mLayout']});}}ue['_buildAcce'+'ssors'](nx['prototype'],ax);const ff=0xb7e+-0x1*0xa2e+0x4*-0x54,qR=-0x1*-0x8f8+0x1*-0xc55+0x35e*0x1,gg=-0x15c1+-0x1ab0+0x9d*0x4f,XR=-0x2b*-0x57+0x2392*0x1+-0x322c,Zh={};Zh[pe]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Zh[ke]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const Vp={};Vp[pe]=ke,Vp[ke]=pe;const jR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},zt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},Ut=new $();function ox(_0x321c66){let _0x26aa32;const _0x4b5e5d=Zh[_0x321c66],_0xb91ef6=Zh[Vp[_0x321c66]];function _0x4a8611(_0x2e8aa0,_0x230150){return-_0x230150[_0x4b5e5d['size']]*_0x2e8aa0['pivot'][_0x4b5e5d['axis']];}function _0x9861e4(_0x16f8f6,_0x5eb1a7){return-_0x5eb1a7[_0xb91ef6['size']]*_0x16f8f6['pivot'][_0xb91ef6['axis']];}function _0x34a85c(_0xd460b1,_0x3117fc){return _0x3117fc[_0x4b5e5d['size']]*(0x83d+-0xae*-0x1+-0x8ea-_0xd460b1['pivot'][_0x4b5e5d['axis']]);}function _0x2906c5(_0x5660fb,_0x42939e){_0x5660fb=_0x5660fb['filter'](_0x37faf0),_0x26aa32=_0x42939e,Ut['x']=_0x26aa32['containerS'+'ize']['x']-_0x26aa32['padding']['x']-_0x26aa32['padding']['z'],Ut['y']=_0x26aa32['containerS'+'ize']['y']-_0x26aa32['padding']['y']-_0x26aa32['padding']['w'],_0x423288(_0x5660fb);const _0x34f487=_0x483f24(_0x5458a6(_0x5660fb)),_0x8d8efe=_0x5015cf(_0x34f487,_0x378424(_0x34f487)),_0x464cf7=_0x43b339(_0x34f487,_0x8d8efe);return _0x2cf1a0(_0x34f487,_0x8d8efe,_0x464cf7),_0x2bc230(_0x34f487,_0x8d8efe,_0x464cf7),_0xb69705(_0x34f487);}function _0x37faf0(_0x3b7bf8){const _0x564db1=_0x3b7bf8['entity']['layoutchil'+'d'];return!_0x564db1||!_0x564db1['enabled']||!_0x564db1['excludeFro'+'mLayout'];}function _0x423288(_0x6ee7fb){for(let _0x27a9da=0x12c1+-0x1797+0x1*0x4d6;_0x27a9da<_0x6ee7fb['length'];++_0x27a9da){const _0xa3c113=_0x6ee7fb[_0x27a9da],_0x1e8d5c=_0xa3c113['anchor'];(_0x1e8d5c['x']!==-0x914+0x6*0x3fc+-0xed4||_0x1e8d5c['y']!==-0x2*0xf85+0xbdd*-0x1+-0x7*-0x621||_0x1e8d5c['z']!==-0xa27+-0x3ab+0xdd2*0x1||_0x1e8d5c['w']!==0x2438+-0x47d*-0x5+-0x3aa9)&&(_0xa3c113['anchor']=Q['ZERO']);}}function _0x5458a6(_0x5d203f){if(!_0x26aa32['wrap'])return[_0x5d203f];const _0x5cd8af=[[]],_0x1f661d=_0x5b12de(_0x5d203f);let _0x518140=-0x20e8+-0x1d69*-0x1+0x37f;const _0x52ebfb=_0x26aa32[_0x4b5e5d['fitting']]===gg;for(let _0x2fea79=-0x2*-0x8bd+-0x142c+-0x2*-0x159;_0x2fea79<_0x5d203f['length'];++_0x2fea79){_0x5cd8af[_0x5cd8af['length']-(-0x1*0xd3b+-0x2133+0x2e6f*0x1)]['length']>0x17*0xe9+0x2*-0x1150+-0x2bd*-0x5&&(_0x518140+=_0x26aa32['spacing'][_0x4b5e5d['axis']]);const _0x472928=_0x1f661d[_0x2fea79][_0x4b5e5d['size']];_0x518140+=_0x472928,!_0x52ebfb&&_0x518140>Ut[_0x4b5e5d['axis']]&&_0x5cd8af[_0x5cd8af['length']-(-0x2186*0x1+-0x696+0x281d)]['length']!==-0x11ad*-0x1+0x1841+-0x29ee&&(_0x518140=_0x472928,_0x5cd8af['push']([])),_0x5cd8af[_0x5cd8af['length']-(0x19*-0x89+0xb89*0x1+0x1d9)]['push'](_0x5d203f[_0x2fea79]),_0x52ebfb&&_0x518140>Ut[_0x4b5e5d['axis']]&&_0x2fea79!==_0x5d203f['length']-(0x373*-0x2+0xa9f*0x2+0x1*-0xe57)&&(_0x518140=-0xf*0x247+0x7f1+0x1a38,_0x5cd8af['push']([]));}return _0x5cd8af;}function _0x483f24(_0x192ce7){const _0x153ffe=_0x26aa32['orientatio'+'n']===pe&&_0x26aa32['reverseX']||_0x26aa32['orientatio'+'n']===ke&&_0x26aa32['reverseY'],_0x5abf38=_0x26aa32['orientatio'+'n']===pe&&_0x26aa32['reverseY']||_0x26aa32['orientatio'+'n']===ke&&_0x26aa32['reverseX'];if(_0x153ffe){for(let _0x28a113=-0x1df8+0x22f9+-0x501;_0x28a113<_0x192ce7['length'];++_0x28a113)_0x153ffe&&_0x192ce7[_0x28a113]['reverse']();}return _0x5abf38&&_0x192ce7['reverse'](),_0x192ce7;}function _0x378424(_0x59add4){const _0x95896b=[];for(let _0x1a7c1b=0xb18+0x1*-0x156b+0xa53;_0x1a7c1b<_0x59add4['length'];++_0x1a7c1b){const _0x1b590f=_0x59add4[_0x1a7c1b],_0x400686=_0x5b12de(_0x1b590f),_0x200437=_0x3408d9(_0x400686,_0x4b5e5d),_0x149a02=_0x44c764(_0x26aa32[_0x4b5e5d['fitting']],_0x200437,Ut[_0x4b5e5d['axis']]);_0x149a02===zt['APPLY_STRE'+'TCHING']?_0x463d8f(_0x400686,_0x200437,_0x4b5e5d):_0x149a02===zt['APPLY_SHRI'+'NKING']&&_0x1e7448(_0x400686,_0x200437,_0x4b5e5d),_0x95896b['push'](_0x400686);}return _0x95896b;}function _0x5015cf(_0x5ae826,_0x4e33e6){const _0x19f046=[],_0x28e5b0=[];for(let _0x854bf9=0x2d2+0x5d0+-0x8a2;_0x854bf9<_0x5ae826['length'];++_0x854bf9){const _0x57d6f5=_0x5ae826[_0x854bf9];_0x57d6f5['largestEle'+'ment']=null,_0x57d6f5['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x9ad066=0x5dd*0x1+0x9bd*0x4+-0x2cd1;_0x9ad066<_0x57d6f5['length'];++_0x9ad066){const _0x2b055a=_0x4e33e6[_0x854bf9][_0x9ad066];_0x2b055a[_0xb91ef6['size']]>_0x57d6f5['largestSiz'+'e'][_0xb91ef6['size']]&&(_0x57d6f5['largestEle'+'ment']=_0x57d6f5[_0x9ad066],_0x57d6f5['largestSiz'+'e']=_0x2b055a);}_0x19f046['push'](_0x57d6f5['largestEle'+'ment']),_0x28e5b0['push'](_0x57d6f5['largestSiz'+'e']);}const _0x37ee4b=_0x3408d9(_0x28e5b0,_0xb91ef6),_0x5ad52a=_0x44c764(_0x26aa32[_0xb91ef6['fitting']],_0x37ee4b,Ut[_0xb91ef6['axis']]);_0x5ad52a===zt['APPLY_STRE'+'TCHING']?_0x463d8f(_0x28e5b0,_0x37ee4b,_0xb91ef6):_0x5ad52a===zt['APPLY_SHRI'+'NKING']&&_0x1e7448(_0x28e5b0,_0x37ee4b,_0xb91ef6);for(let _0xf2dc84=0xea1+-0x8fa+0x5a7*-0x1;_0xf2dc84<_0x5ae826['length'];++_0xf2dc84){const _0x46257a=_0x5ae826[_0xf2dc84];for(let _0x586c99=0x1*-0xffd+0x114b+-0xa7*0x2;_0x586c99<_0x46257a['length'];++_0x586c99){const _0x125e5a=_0x4e33e6[_0xf2dc84][_0x586c99],_0x5323c=_0x125e5a[_0xb91ef6['size']],_0x1e8f91=_0x5ae826['length']===0x1165*0x2+-0x1*-0x628+-0x28f1?Ut[_0xb91ef6['axis']]:_0x46257a['largestSiz'+'e'][_0xb91ef6['size']],_0x2861dc=_0x44c764(_0x26aa32[_0xb91ef6['fitting']],_0x5323c,_0x1e8f91);_0x2861dc===zt['APPLY_STRE'+'TCHING']?_0x125e5a[_0xb91ef6['size']]=Math['min'](_0x1e8f91,_0x125e5a[_0xb91ef6['maxSize']]):_0x2861dc===zt['APPLY_SHRI'+'NKING']&&(_0x125e5a[_0xb91ef6['size']]=Math['max'](_0x1e8f91,_0x125e5a[_0xb91ef6['minSize']]));}}return _0x4e33e6;}function _0x44c764(_0x43803f,_0x2130c2,_0x5123cb){switch(_0x43803f){case ff:return zt['NONE'];case qR:return _0x2130c2<_0x5123cb?zt['APPLY_STRE'+'TCHING']:zt['NONE'];case gg:return _0x2130c2>=_0x5123cb?zt['APPLY_SHRI'+'NKING']:zt['NONE'];case XR:return _0x2130c2<_0x5123cb?zt['APPLY_STRE'+'TCHING']:zt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x43803f);}}function _0x3408d9(_0x39f737,_0x2ce9c7){const _0x43ece8=_0x106bd8(_0x39f737,_0x2ce9c7['size']),_0x453c8e=(_0x39f737['length']-(-0x256b+-0xa2a*0x1+-0x17cb*-0x2))*_0x26aa32['spacing'][_0x2ce9c7['axis']];return _0x43ece8+_0x453c8e;}function _0x463d8f(_0x2fa6a3,_0x3cb150,_0x320258){const _0x365d4d=_0x41d00f(_0x2fa6a3,_0x320258['maxSize']),_0x5e91fa=_0x1046f2(_0x2fa6a3,_0x320258['fittingPro'+'portion']),_0x394c03=_0x427f88(_0x5e91fa,_0x365d4d);let _0x24fd49=Ut[_0x320258['axis']]-_0x3cb150;for(let _0x58611f=-0x140f+-0x67*-0x7+0x2*0x89f;_0x58611f<_0x2fa6a3['length'];++_0x58611f){const _0x3f6551=_0x365d4d[_0x58611f],_0x34196b=_0x17e912(_0x3f6551,_0x24fd49,_0x5e91fa,_0x394c03),_0x441c67=_0x2fa6a3[_0x3f6551][_0x320258['size']]+_0x34196b,_0x3afe59=_0x2fa6a3[_0x3f6551][_0x320258['maxSize']],_0x5dd4f3=Math['min'](_0x441c67,_0x3afe59);_0x2fa6a3[_0x3f6551][_0x320258['size']]=_0x5dd4f3;const _0x10f2da=Math['max'](_0x441c67-_0x5dd4f3,0x1*-0x945+0x73*-0x3+0x54f*0x2),_0x27a6aa=_0x34196b-_0x10f2da;_0x24fd49-=_0x27a6aa;}}function _0x1e7448(_0xf12694,_0x1a8acb,_0x42677b){const _0x45bfdf=_0x41d00f(_0xf12694,_0x42677b['minSize'],!(-0x1*0x85f+-0x1ccc+0x252b)),_0x1983aa=_0x1046f2(_0xf12694,_0x42677b['fittingPro'+'portion']),_0x34ab6f=_0x5633d8(_0x1983aa),_0xe8ad41=_0x427f88(_0x34ab6f,_0x45bfdf);let _0xb16452=_0x1a8acb-Ut[_0x42677b['axis']];for(let _0x473b5c=0xe6*0x23+0x2180+0x33*-0x146;_0x473b5c<_0xf12694['length'];++_0x473b5c){const _0x149bbf=_0x45bfdf[_0x473b5c],_0x117f79=_0x17e912(_0x149bbf,_0xb16452,_0x34ab6f,_0xe8ad41),_0x1f223a=_0xf12694[_0x149bbf][_0x42677b['size']]-_0x117f79,_0xf639e8=_0xf12694[_0x149bbf][_0x42677b['minSize']],_0xbec999=Math['max'](_0x1f223a,_0xf639e8);_0xf12694[_0x149bbf][_0x42677b['size']]=_0xbec999;const _0x2e64af=Math['max'](_0xbec999-_0x1f223a,-0x2b*-0x67+-0x1e57+0xd0a*0x1),_0x3f7254=_0x117f79-_0x2e64af;_0xb16452-=_0x3f7254;}}function _0x17e912(_0x50ee4f,_0x52f56e,_0x15c3b0,_0x34ff8b){const _0x594778=_0x15c3b0[_0x50ee4f],_0x41a106=_0x34ff8b[_0x50ee4f];return Math['abs'](_0x594778)<0x2*-0xa7c+0x2*0x9b1+-0x196*-0x1+0.00001&&Math['abs'](_0x41a106)<0x23ba+0xf09+-0xa27*0x5+0.00001?_0x52f56e:_0x52f56e*_0x594778/_0x41a106;}function _0x43b339(_0x58f585,_0x5e9b68){const _0x4702e8={};_0x4702e8[_0x4b5e5d['axis']]=-0x205d+-0x499*0x8+0x4525,_0x4702e8[_0xb91ef6['axis']]=0x1d09+0x774+0x247d*-0x1,_0x58f585[_0x4b5e5d['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0xd148bf=[];for(let _0x1944a6=-0x1*-0xd3+-0x19d*-0x17+-0x25ee;_0x1944a6<_0x58f585['length'];++_0x1944a6){const _0x4a3ecc=_0x58f585[_0x1944a6];if(_0x4a3ecc['length']===0x1a7*-0xd+0x14cf*-0x1+-0x2a4a*-0x1){_0xd148bf['push']([]);continue;}const _0x2c09f9=[],_0x230f7b=_0x5e9b68[_0x1944a6];for(let _0x5c22f0=0x1*0xf5c+-0xbac+-0x3b0;_0x5c22f0<_0x4a3ecc['length'];++_0x5c22f0){const _0xa1b467=_0x4a3ecc[_0x5c22f0],_0x5440ba=_0x230f7b[_0x5c22f0];_0x4702e8[_0xb91ef6['axis']]-=_0x9861e4(_0xa1b467,_0x5440ba),_0x4702e8[_0x4b5e5d['axis']]-=_0x4a8611(_0xa1b467,_0x5440ba),_0x2c09f9[_0x5c22f0]={},_0x2c09f9[_0x5c22f0][_0x4b5e5d['axis']]=_0x4702e8[_0x4b5e5d['axis']],_0x2c09f9[_0x5c22f0][_0xb91ef6['axis']]=_0x4702e8[_0xb91ef6['axis']],_0x4702e8[_0xb91ef6['axis']]+=_0x9861e4(_0xa1b467,_0x5440ba),_0x4702e8[_0x4b5e5d['axis']]+=_0x34a85c(_0xa1b467,_0x5440ba)+_0x26aa32['spacing'][_0x4b5e5d['axis']];}_0x4a3ecc[_0x4b5e5d['size']]=_0x4702e8[_0x4b5e5d['axis']]-_0x26aa32['spacing'][_0x4b5e5d['axis']],_0x4a3ecc[_0xb91ef6['size']]=_0x4a3ecc['largestSiz'+'e'][_0xb91ef6['size']],_0x58f585[_0x4b5e5d['size']]=Math['max'](_0x58f585[_0x4b5e5d['size']],_0x4a3ecc[_0x4b5e5d['size']]),_0x4702e8[_0x4b5e5d['axis']]=0xb1c+-0x23dd+0x18c1,_0x4702e8[_0xb91ef6['axis']]+=_0x4a3ecc[_0xb91ef6['size']]+_0x26aa32['spacing'][_0xb91ef6['axis']],_0xd148bf['push'](_0x2c09f9);}return _0x58f585[_0xb91ef6['size']]=_0x4702e8[_0xb91ef6['axis']]-_0x26aa32['spacing'][_0xb91ef6['axis']],_0xd148bf;}function _0x2cf1a0(_0x5e6cfb,_0x477070,_0xa938c7){const _0xb7806=_0x26aa32['alignment'][_0x4b5e5d['axis']],_0xb97034=_0x26aa32['alignment'][_0xb91ef6['axis']],_0x1a5cda=_0x26aa32['padding'][_0x4b5e5d['axis']],_0x182dda=_0x26aa32['padding'][_0xb91ef6['axis']];for(let _0x16551a=0x31*-0x46+0x13bb*-0x1+-0x303*-0xb;_0x16551a<_0x5e6cfb['length'];++_0x16551a){const _0x185359=_0x5e6cfb[_0x16551a],_0x1b6d4c=_0x477070[_0x16551a],_0x4c4c26=_0xa938c7[_0x16551a],_0xa7dbe2=(Ut[_0x4b5e5d['axis']]-_0x185359[_0x4b5e5d['size']])*_0xb7806+_0x1a5cda,_0x14c84a=(Ut[_0xb91ef6['axis']]-_0x5e6cfb[_0xb91ef6['size']])*_0xb97034+_0x182dda;for(let _0x58715c=0x2084+-0x317*-0x3+-0x1*0x29c9;_0x58715c<_0x185359['length'];++_0x58715c){const _0x269146=(_0x185359[_0xb91ef6['size']]-_0x1b6d4c[_0x58715c][_0xb91ef6['size']])*_0x26aa32['alignment'][_0xb91ef6['axis']];_0x4c4c26[_0x58715c][_0x4b5e5d['axis']]+=_0xa7dbe2,_0x4c4c26[_0x58715c][_0xb91ef6['axis']]+=_0x14c84a+_0x269146;}}}function _0x2bc230(_0xa31659,_0x311ee1,_0x5c7438){for(let _0x348fea=-0x11ff+-0x23*-0xaf+-0x5ee;_0x348fea<_0xa31659['length'];++_0x348fea){const _0x2a4602=_0xa31659[_0x348fea],_0x3d6638=_0x311ee1[_0x348fea],_0x521a89=_0x5c7438[_0x348fea];for(let _0x2ea713=-0x3*0x779+-0x4d1*-0x4+0x3*0x10d;_0x2ea713<_0x2a4602['length'];++_0x2ea713){const _0x5d67c0=_0x2a4602[_0x2ea713];_0x5d67c0[_0x4b5e5d['calculated'+'Size']]=_0x3d6638[_0x2ea713][_0x4b5e5d['size']],_0x5d67c0[_0xb91ef6['calculated'+'Size']]=_0x3d6638[_0x2ea713][_0xb91ef6['size']],_0x26aa32['orientatio'+'n']===pe?_0x5d67c0['entity']['setLocalPo'+'sition'](_0x521a89[_0x2ea713][_0x4b5e5d['axis']],_0x521a89[_0x2ea713][_0xb91ef6['axis']],_0x5d67c0['entity']['getLocalPo'+'sition']()['z']):_0x5d67c0['entity']['setLocalPo'+'sition'](_0x521a89[_0x2ea713][_0xb91ef6['axis']],_0x521a89[_0x2ea713][_0x4b5e5d['axis']],_0x5d67c0['entity']['getLocalPo'+'sition']()['z']);}}}function _0xb69705(_0xeeb1b2){const _0x418197=_0xeeb1b2['width'],_0x418019=_0xeeb1b2['height'],_0x4b5b56=(Ut['x']-_0x418197)*_0x26aa32['alignment']['x']+_0x26aa32['padding']['x'],_0x28169c=(Ut['y']-_0x418019)*_0x26aa32['alignment']['y']+_0x26aa32['padding']['y'];return{'bounds':new Q(_0x4b5b56,_0x28169c,_0x418197,_0x418019)};}function _0x5b12de(_0x4e280f){const _0x3633fb=[];for(let _0x306f2d=-0x1*-0x3d2+-0x1*-0x53d+-0x90f*0x1;_0x306f2d<_0x4e280f['length'];++_0x306f2d){const _0x19a5a8=_0x4e280f[_0x306f2d],_0x16a62f=Math['max'](_0x5c7ea6(_0x19a5a8,'minWidth'),0x15c7+-0x21e6+0xc1f),_0x17b5fb=Math['max'](_0x5c7ea6(_0x19a5a8,'minHeight'),0x25ed*0x1+-0x2180+-0x1*0x46d),_0xd8ec42=Math['max'](_0x5c7ea6(_0x19a5a8,'maxWidth'),_0x16a62f),_0x1402a5=Math['max'](_0x5c7ea6(_0x19a5a8,'maxHeight'),_0x17b5fb),_0x578245=_0x624f7f(_0x5c7ea6(_0x19a5a8,'width'),_0x16a62f,_0xd8ec42),_0x49b0e7=_0x624f7f(_0x5c7ea6(_0x19a5a8,'height'),_0x17b5fb,_0x1402a5),_0x4a5800=_0x5c7ea6(_0x19a5a8,'fitWidthPr'+'oportion'),_0x31a3e2=_0x5c7ea6(_0x19a5a8,'fitHeightP'+'roportion');_0x3633fb['push']({'minWidth':_0x16a62f,'minHeight':_0x17b5fb,'maxWidth':_0xd8ec42,'maxHeight':_0x1402a5,'width':_0x578245,'height':_0x49b0e7,'fitWidthProportion':_0x4a5800,'fitHeightProportion':_0x31a3e2});}return _0x3633fb;}function _0x5c7ea6(_0x1b27f3,_0x32fb5c){const _0x3344a8=_0x1b27f3['entity']['layoutchil'+'d'];return _0x3344a8&&_0x3344a8['enabled']&&_0x3344a8[_0x32fb5c]!==void(0x257*-0x5+0x13da+-0x827*0x1)&&_0x3344a8[_0x32fb5c]!==null?_0x3344a8[_0x32fb5c]:_0x1b27f3[_0x32fb5c]!==void(-0xcc4+-0x1904+0xba*0x34)?_0x1b27f3[_0x32fb5c]:jR[_0x32fb5c];}function _0x624f7f(_0x52a90e,_0x3f5d9e,_0x19ea7f){return Math['min'](Math['max'](_0x52a90e,_0x3f5d9e),_0x19ea7f);}function _0x106bd8(_0x17a5c2,_0x570894){return _0x17a5c2['reduce']((_0x25121c,_0x37c03d)=>_0x25121c+_0x37c03d[_0x570894],-0x227a+0x1d09*-0x1+0x3f83);}function _0x1046f2(_0x4f7fde,_0x50e5f6){const _0x4870b5=_0x106bd8(_0x4f7fde,_0x50e5f6),_0x54c74f=[],_0x3d387b=_0x4f7fde['length'];if(_0x4870b5===0x12c1*-0x1+0x1*-0x6be+0x197f){for(let _0x44683c=0x216f+0x2*0x8ba+-0x32e3;_0x44683c<_0x3d387b;++_0x44683c)_0x54c74f['push']((-0x1918+0xf25*-0x1+-0x22*-0x12f)/_0x3d387b);}else{for(let _0x15357c=-0x363+-0xfb*0x24+0x26af;_0x15357c<_0x3d387b;++_0x15357c)_0x54c74f['push'](_0x4f7fde[_0x15357c][_0x50e5f6]/_0x4870b5);}return _0x54c74f;}function _0x5633d8(_0x12eac2){if(_0x12eac2['length']===-0x14f5+-0xf*-0x1e1+-0x739)return[-0x2*-0x1042+-0xe*0xda+-0x1497];const _0x10f3b8=[],_0x457a58=_0x12eac2['length'];for(let _0x53ceda=0x1824+0x1724+-0x2f48;_0x53ceda<_0x457a58;++_0x53ceda)_0x10f3b8['push']((-0xa12+-0x1b68+0x257b-_0x12eac2[_0x53ceda])/(_0x457a58-(-0x117f+-0x114a+0x2*0x1165)));return _0x10f3b8;}function _0x41d00f(_0xff1f4c,_0x4fad7c,_0xfa435e){return _0xff1f4c['forEach'](_0x381d12),_0xff1f4c['slice']()['sort']((_0x1c9e5a,_0x23e8d2)=>_0xfa435e?_0x23e8d2[_0x4fad7c]-_0x1c9e5a[_0x4fad7c]:_0x1c9e5a[_0x4fad7c]-_0x23e8d2[_0x4fad7c])['map'](_0x219fe9);}function _0x381d12(_0x438ba7,_0x2471b2){_0x438ba7['index']=_0x2471b2;}function _0x219fe9(_0x4a28db){return _0x4a28db['index'];}function _0x427f88(_0x5a8342,_0x48b58a){const _0x4b7f66=[];_0x4b7f66[_0x48b58a[_0x5a8342['length']-(0x1b92*0x1+0x13*0xf5+-0x2dc0)]]=_0x5a8342[_0x48b58a[_0x5a8342['length']-(0x25*-0x39+-0x2*-0xa7a+-0x65b*0x2)]];for(let _0x268be8=_0x5a8342['length']-(0x1ccc+-0x219b+-0x3*-0x19b);_0x268be8>=-0x259e+-0x256b+0x151*0x39;--_0x268be8)_0x4b7f66[_0x48b58a[_0x268be8]]=_0x4b7f66[_0x48b58a[_0x268be8+(-0x87a+0x1f3+0x688)]]+_0x5a8342[_0x48b58a[_0x268be8]];return _0x4b7f66;}return _0x2906c5;}const Gp={};Gp[pe]=ox(pe),Gp[ke]=ox(ke);class YR{['calculateL'+'ayout'](_0xadb57f,_0x5bbff0){const _0x2e9b6e=Gp[_0x5bbff0['orientatio'+'n']];if(_0x2e9b6e)return _0x2e9b6e(_0xadb57f,_0x5bbff0);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x5bbff0['orientatio'+'n']);}}function yg(_0x3147a0){return _0x3147a0['element'];}function KR(_0x1b6a43){return _0x1b6a43['enabled']&&_0x1b6a43['element']&&_0x1b6a43['element']['enabled'];}class lx extends ue{constructor(_0x58953a,_0x5ea13f){super(_0x58953a,_0x5ea13f),c(this,'_orientati'+'on',pe),c(this,'_reverseX',!(0xcff+0x27c*0x2+-0x11f6)),c(this,'_reverseY',!(0x1fbb*0x1+-0x1*-0x155+-0x2110)),c(this,'_alignment',new $(-0x134b+0x18a0+0x1*-0x555,0x1551+-0x137*0x13+0x3*0x97)),c(this,'_padding',new Q()),c(this,'_spacing',new $()),c(this,'_widthFitt'+'ing',ff),c(this,'_heightFit'+'ting',ff),c(this,'_wrap',!(-0xa05+-0x9d9*0x2+0x1db8)),c(this,'_layoutCal'+'culator',new YR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x1cb4b9=>{this['_listenFor'+'ReflowEven'+'ts'](_0x1cb4b9,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),v['assert'](_0x58953a['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x58953a['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x58953a['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),v['assert'](_0x58953a['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x58953a['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x58953a['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x5f5b77){_0x5f5b77!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x5f5b77,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x2e16db){_0x2e16db!==this['_reverseX']&&(this['_reverseX']=_0x2e16db,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x23347f){_0x23347f!==this['_reverseY']&&(this['_reverseY']=_0x23347f,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x84cb1){_0x84cb1['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x84cb1),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x4ebbaf){_0x4ebbaf['equals'](this['_padding'])||(this['_padding']['copy'](_0x4ebbaf),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x3ca8bc){_0x3ca8bc['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x3ca8bc),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x326bbf){_0x326bbf!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x326bbf,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x43a327){_0x43a327!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x43a327,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0xa8f1fa){_0xa8f1fa!==this['_wrap']&&(this['_wrap']=_0xa8f1fa,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x38a0df){return _0x38a0df===this['entity']||this['entity']['children']['indexOf'](_0x38a0df)!==-(-0x590*0x6+0x5*-0x641+0x296*0x19);}['_listenFor'+'ReflowEven'+'ts'](_0x32122a,_0x2ed31e){_0x32122a['element']&&(_0x32122a['element'][_0x2ed31e]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x32122a['element'][_0x2ed31e]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x32122a['element'][_0x2ed31e]('resize',this['_scheduleR'+'eflow'],this),_0x32122a['element'][_0x2ed31e]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x32122a['layoutchil'+'d']&&(_0x32122a['layoutchil'+'d'][_0x2ed31e]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x32122a['layoutchil'+'d'][_0x2ed31e]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0xdeb766){this['_isSelfOrC'+'hild'](_0xdeb766)&&(this['_listenFor'+'ReflowEven'+'ts'](_0xdeb766,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x5b0adf){this['_isSelfOrC'+'hild'](_0x5b0adf)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x5b0adf,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0xc68e24){this['_listenFor'+'ReflowEven'+'ts'](_0xc68e24,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x5ab0a5){this['_listenFor'+'ReflowEven'+'ts'](_0x5ab0a5,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x3b413d=yg(this['entity']),_0x3f094e=this['entity']['children']['filter'](KR)['map'](yg);if(!_0x3b413d||_0x3f094e['length']===-0xb*-0x109+0x45*0x3b+0xda5*-0x2)return;const _0x3cb349=Math['max'](_0x3b413d['calculated'+'Width'],0x25b0+0x24ba+-0x4a6a),_0x1b9125=Math['max'](_0x3b413d['calculated'+'Height'],0xa43+-0x1ee5+-0x2*-0xa51),_0x1ff255={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new $(_0x3cb349,_0x1b9125)};this['_isPerform'+'ingReflow']=!(-0x1*-0x191f+0x1*0x174d+-0x306c);const _0x7643ee=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x3f094e,_0x1ff255);this['_isPerform'+'ingReflow']=!(-0x1*0xe0a+-0x5*0x419+0x2288),this['fire']('reflow',_0x7643ee);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x170164=>{this['_listenFor'+'ReflowEven'+'ts'](_0x170164,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class ZR{constructor(){this['enabled']=!(0x581*0x2+-0xea1+-0x67*-0x9);}}const hx=['enabled'],QR=-0x1*0x1d30+0x1*0x1999+0x3fb;class JR extends Xe{constructor(_0x17de7d){super(_0x17de7d),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=lx,this['DataType']=ZR,this['schema']=hx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x3f1a87,_0x5d6d01,_0x31353){_0x5d6d01['enabled']!==void(0x1966*0x1+-0xac6*0x3+0x6ec)&&(_0x3f1a87['enabled']=_0x5d6d01['enabled']),_0x5d6d01['orientatio'+'n']!==void(0x1*0x1417+0x3cb*-0x2+0x61*-0x21)&&(_0x3f1a87['orientatio'+'n']=_0x5d6d01['orientatio'+'n']),_0x5d6d01['reverseX']!==void(-0x253*-0x1+0x2708+-0x295b)&&(_0x3f1a87['reverseX']=_0x5d6d01['reverseX']),_0x5d6d01['reverseY']!==void(-0x1*0x9d3+-0x1*0x86f+0x1242)&&(_0x3f1a87['reverseY']=_0x5d6d01['reverseY']),_0x5d6d01['alignment']!==void(-0x1*-0x34+0x7eb*0x4+0x66*-0x50)&&(_0x3f1a87['alignment']=Array['isArray'](_0x5d6d01['alignment'])?new $(_0x5d6d01['alignment']):_0x5d6d01['alignment']),_0x5d6d01['padding']!==void(0x1d6b+-0xef0+-0xe7b)&&(_0x3f1a87['padding']=Array['isArray'](_0x5d6d01['padding'])?new Q(_0x5d6d01['padding']):_0x5d6d01['padding']),_0x5d6d01['spacing']!==void(0x1349*-0x1+0x4d6*-0x3+0x1*0x21cb)&&(_0x3f1a87['spacing']=Array['isArray'](_0x5d6d01['spacing'])?new $(_0x5d6d01['spacing']):_0x5d6d01['spacing']),_0x5d6d01['widthFitti'+'ng']!==void(-0xc8f+0xb37+0x158)&&(_0x3f1a87['widthFitti'+'ng']=_0x5d6d01['widthFitti'+'ng']),_0x5d6d01['heightFitt'+'ing']!==void(-0x189d+-0x1f8a*0x1+0x23f*0x19)&&(_0x3f1a87['heightFitt'+'ing']=_0x5d6d01['heightFitt'+'ing']),_0x5d6d01['wrap']!==void(-0x5d*-0x5e+-0x482+-0x1da4)&&(_0x3f1a87['wrap']=_0x5d6d01['wrap']),super['initialize'+'ComponentD'+'ata'](_0x3f1a87,_0x5d6d01,_0x31353);}['cloneCompo'+'nent'](_0x1e6bda,_0x6276f3){const _0x8ef2e3=_0x1e6bda['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x6276f3,{'enabled':_0x8ef2e3['enabled'],'orientation':_0x8ef2e3['orientatio'+'n'],'reverseX':_0x8ef2e3['reverseX'],'reverseY':_0x8ef2e3['reverseY'],'alignment':_0x8ef2e3['alignment'],'padding':_0x8ef2e3['padding'],'spacing':_0x8ef2e3['spacing'],'widthFitting':_0x8ef2e3['widthFitti'+'ng'],'heightFitting':_0x8ef2e3['heightFitt'+'ing'],'wrap':_0x8ef2e3['wrap']});}['scheduleRe'+'flow'](_0x1b271b){this['_reflowQue'+'ue']['indexOf'](_0x1b271b)===-(-0xd*0x2d5+0xd3*0x15+-0x1b*-0xb9)&&this['_reflowQue'+'ue']['push'](_0x1b271b);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0x1*0x2501+-0x25f5*-0x1+-0x4af6)return;let _0x46f3c3=-0x1396+0x24f*0x2+0xef8;for(;this['_reflowQue'+'ue']['length']>0xee*-0x1c+0x1*0x1d53+-0x34b;){const _0x15b7a2=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x3*-0x3f4+0x2*0x4c2+0x4*-0x558,_0x15b7a2['sort']((_0x54883e,_0x43798d)=>_0x54883e['entity']['graphDepth']-_0x43798d['entity']['graphDepth']);for(let _0x4bd8d1=-0x832*0x3+0x119b+0x6fb;_0x4bd8d1<_0x15b7a2['length'];++_0x4bd8d1)_0x15b7a2[_0x4bd8d1]['reflow']();if(++_0x46f3c3>=QR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x34e937,_0x2d35ee){_0x2d35ee['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}ue['_buildAcce'+'ssors'](lx['prototype'],hx);class eI{constructor(){c(this,'map',new Map());}['destroy'](_0x36c8f4){this['map']['forEach'](_0x144b0e=>_0x144b0e['mesh']['destroy']());}}const tI=new Ot(),cx=(_0x37b41e,_0x3b867a)=>{const _0x36afef=tI['get'](_0x37b41e,()=>new eI());let _0x296ed5=_0x36afef['map']['get'](_0x3b867a);if(!_0x296ed5){let _0x3add76,_0xc241c2;switch(_0x3b867a){case'box':_0x3add76=Ie['fromGeomet'+'ry'](_0x37b41e,new Wu()),_0xc241c2={'x':0x2,'y':0x2,'z':0x2,'uv':(0x837+0xd*0x140+-0x1875)/(-0x1*0x449+-0x17d+0x5c9)};break;case'capsule':_0x3add76=Ie['fromGeomet'+'ry'](_0x37b41e,new C1({'radius':0.5,'height':0x2})),_0xc241c2={'x':Math['PI']*(-0xa5*-0x14+0x565*0x7+-0x32a5),'y':Math['PI'],'z':Math['PI']*(0x2256+-0x1*0x6+-0x1127*0x2),'uv':(-0x1*0x11ef+0x2154+-0xf64)/(-0x154*-0x1+-0xf4f+0xdfe)+(-0x346*0x1+0x1934*0x1+0x74f*-0x3)/(0x3a+-0x2054+0x1*0x201d)/(0x6d*-0x3b+0x407*-0x8+0x395a)*(0x4*0x209+0x16*-0x10b+0x8*0x1da)};break;case'cone':_0x3add76=Ie['fromGeomet'+'ry'](_0x37b41e,new M1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0xc241c2={'x':2.54,'y':2.54,'z':2.54,'uv':(-0xf8+0x11d9+0x2d*-0x60)/(-0x6*0x437+-0x81*-0x1a+-0x1*-0xc33)+(-0x17*-0x107+0x2213+-0x39b3)/(-0x57*-0x57+0x530*0x4+-0x324e)/(0x1*0xce+0x29*-0x25+0x522)};break;case'cylinder':_0x3add76=Ie['fromGeomet'+'ry'](_0x37b41e,new P1({'radius':0.5,'height':0x1})),_0xc241c2={'x':Math['PI'],'y':(0x14b2+-0x7d*0xd+-0xe59*0x1+0.79)*(0x10c8+-0x1*-0x280+-0x1346),'z':Math['PI'],'uv':(-0x253b*-0x1+-0x3a*-0x9+-0x2744)/(-0x270a+0x1*-0x25be+0x4ccb)+(0x1005*-0x1+0x63e+-0x139*-0x8)/(-0x3*-0x996+-0x1ca2+0x1*-0x1d)/(-0x51+0x204*0xa+-0x13d4)*(-0x662+-0x1*-0x1e8d+-0x4d5*0x5)};break;case'plane':_0x3add76=Ie['fromGeomet'+'ry'](_0x37b41e,new R1({'halfExtents':new $(0x45*0x5d+-0x1*-0x139d+-0x7*0x662+0.5,-0x1*0x20e9+0xff8*0x1+-0x10f1*-0x1+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0xc241c2={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x3add76=Ie['fromGeomet'+'ry'](_0x37b41e,new B0({'radius':0.5})),_0xc241c2={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x3add76=Ie['fromGeomet'+'ry'](_0x37b41e,new I1({'tubeRadius':0.2,'ringRadius':0.3})),_0xc241c2={'x':Math['PI']*(-0x83*0x2+-0x1*-0x1cd5+-0x945*0x3+0.5)*(-0x16fa+-0x182f+0x2f29+0.5)-Math['PI']*(-0x10a7+0x3*0xab2+-0x1*0xf6f+0.1)*(-0x6cd*-0x3+0xe25+-0xb84*0x3+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x3b867a);}_0x3add76['incRefCoun'+'t'](),_0x296ed5={'mesh':_0x3add76,'area':_0xc241c2},_0x36afef['map']['set'](_0x3b867a,_0x296ed5);}return _0x296ed5;};class dx extends ue{constructor(_0x2439a3,_0x2a9460){super(_0x2439a3,_0x2a9460),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(-0xa46+-0x11*0x32+-0x4*-0x366)),c(this,'_receiveSh'+'adows',!(0x2*-0x567+0x18e7+-0x9*0x191)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(0x2f*0xad+0x1ff7+-0x1fdd*0x2)),c(this,'_lightmapp'+'ed',!(0xe44*-0x1+-0x6a0+0x14e5)),c(this,'_lightmapS'+'izeMultipl'+'ier',0x1*0xe0a+0x631+0x6be*-0x3),c(this,'isStatic',!(0x1919+0x2205+0x1*-0x3b1d)),c(this,'_layers',[Fi]),c(this,'_batchGrou'+'pId',-(-0xd7a+0x188f+-0xb14)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(-0x1a36+-0x244c+0x4cf*0xd)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x2439a3['defaultMat'+'erial'],_0x2a9460['on']('remove',this['onRemoveCh'+'ild'],this),_0x2a9460['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x2a9460['on']('insert',this['onInsertCh'+'ild'],this),_0x2a9460['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0xf96db9){this['_model']&&(this['_model']['meshInstan'+'ces']=_0xf96db9);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x3c8d41){if(this['_customAab'+'b']=_0x3c8d41,this['_model']){const _0x205663=this['_model']['meshInstan'+'ces'];if(_0x205663){for(let _0x489717=0x95*0x1d+0x240a+-0x34eb;_0x489717<_0x205663['length'];_0x489717++)_0x205663[_0x489717]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x5f1806){if(this['_type']!==_0x5f1806){if(this['_area']=null,this['_type']=_0x5f1806,_0x5f1806==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x4b2330=cx(this['system']['app']['graphicsDe'+'vice'],_0x5f1806);this['_area']=_0x4b2330['area'];const _0x5ef601=_0x4b2330['mesh'],_0x520f38=new De(),_0x36f250=new Oi();_0x36f250['graph']=_0x520f38,_0x36f250['meshInstan'+'ces']=[new Le(_0x5ef601,this['_material'],_0x520f38)],this['model']=_0x36f250,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x4c1ba2){const _0x295dcb=this['system']['app']['assets'];let _0x517939=_0x4c1ba2;if(_0x4c1ba2 instanceof le&&(_0x517939=_0x4c1ba2['id']),this['_asset']!==_0x517939){if(this['_asset']){_0x295dcb['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x151f02=_0x295dcb['get'](this['_asset']);_0x151f02&&this['_unbindMod'+'elAsset'](_0x151f02);}if(this['_asset']=_0x517939,this['_asset']){const _0x25ecd7=_0x295dcb['get'](this['_asset']);_0x25ecd7?this['_bindModel'+'Asset'](_0x25ecd7):(this['model']=null,_0x295dcb['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x34d9db){if(this['_model']!==_0x34d9db){if(_0x34d9db&&_0x34d9db['_immutable']){v['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(-0x119e+-0x2*-0xf0+0xfbf),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x1966+-0x243a+0xad5))),this['_model']=_0x34d9db,this['_model']){this['_model']['_immutable']=!(-0x1*-0x7f7+0x128+-0x91f*0x1);const _0x3814c7=this['_model']['meshInstan'+'ces'];for(let _0x426de5=0x1c52+-0x262b+0x9d9;_0x426de5<_0x3814c7['length'];_0x426de5++)_0x3814c7[_0x426de5]['castShadow']=this['_castShado'+'ws'],_0x3814c7[_0x426de5]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x3814c7[_0x426de5]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x309783){if(_0x309783!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x309783,this['_model'])){const _0x55ffd7=this['_model']['meshInstan'+'ces'];for(let _0x2c6801=-0x152a+0xfa5+0x585;_0x2c6801<_0x55ffd7['length'];_0x2c6801++)_0x55ffd7[_0x2c6801]['setLightma'+'pped'](_0x309783);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x2a3f7d){if(this['_castShado'+'ws']===_0x2a3f7d)return;const _0xc7d0c6=this['_model'];if(_0xc7d0c6){const _0x455c8b=this['layers'],_0x422808=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x2a3f7d)for(let _0x29fec0=-0x14d9+0x108b*-0x1+0x959*0x4;_0x29fec0<_0x455c8b['length'];_0x29fec0++){const _0x344e68=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x29fec0]);_0x344e68&&_0x344e68['removeShad'+'owCasters'](_0xc7d0c6['meshInstan'+'ces']);}const _0x2c786d=_0xc7d0c6['meshInstan'+'ces'];for(let _0x22223e=-0x892+-0x2709+0x2f9b;_0x22223e<_0x2c786d['length'];_0x22223e++)_0x2c786d[_0x22223e]['castShadow']=_0x2a3f7d;if(!this['_castShado'+'ws']&&_0x2a3f7d)for(let _0xd8e4ff=-0x1*0x1375+0x25b8*-0x1+0x29*0x165;_0xd8e4ff<_0x455c8b['length'];_0xd8e4ff++){const _0x5825ac=_0x422808['layers']['getLayerBy'+'Id'](_0x455c8b[_0xd8e4ff]);_0x5825ac&&_0x5825ac['addShadowC'+'asters'](_0xc7d0c6['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x2a3f7d;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x1c0232){if(this['_receiveSh'+'adows']!==_0x1c0232&&(this['_receiveSh'+'adows']=_0x1c0232,this['_model'])){const _0x4d4840=this['_model']['meshInstan'+'ces'];for(let _0x274a16=-0x665*-0x1+-0x796+0x131,_0x5a9d33=_0x4d4840['length'];_0x274a16<_0x5a9d33;_0x274a16++)_0x4d4840[_0x274a16]['receiveSha'+'dow']=_0x1c0232;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x5a15fb){this['_castShado'+'wsLightmap']=_0x5a15fb;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0xf93d0c){this['_lightmapS'+'izeMultipl'+'ier']=_0xf93d0c;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x541e63){const _0x5f141f=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x46f170=0xb47+-0x9*-0xc9+-0x1258;_0x46f170<this['_layers']['length'];_0x46f170++){const _0x33c10b=_0x5f141f['getLayerBy'+'Id'](this['_layers'][_0x46f170]);_0x33c10b&&_0x33c10b['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0x1*-0x171f+0x2512+-0x3c31;for(let _0x12f49d=0x923*0x1+0x2386+-0x2ca9;_0x12f49d<_0x541e63['length'];_0x12f49d++)this['_layers'][_0x12f49d]=_0x541e63[_0x12f49d];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x104f52=0x1*0x1fe7+-0x4*0x492+0xb*-0x13d;_0x104f52<this['_layers']['length'];_0x104f52++){const _0x506dec=_0x5f141f['getLayerBy'+'Id'](this['_layers'][_0x104f52]);_0x506dec&&_0x506dec['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x370aa9){var _0x5633f5,_0x5def15;this['_batchGrou'+'pId']!==_0x370aa9&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x89f*0x2+0x21f*-0xa+0x2674&&((_0x5633f5=this['system']['app']['batcher'])==null||_0x5633f5['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x370aa9>=0x61*0x67+0x41*-0x17+0x3*-0xb10&&((_0x5def15=this['system']['app']['batcher'])==null||_0x5def15['insert'](et['MODEL'],_0x370aa9,this['entity'])),_0x370aa9<0x229f+0x42*-0x36+-0x14b3*0x1&&this['_batchGrou'+'pId']>=0x25d+0x1aa6+-0x7*0x425&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x370aa9);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x37cac8){let _0x1b1116=_0x37cac8;_0x37cac8 instanceof le&&(_0x1b1116=_0x37cac8['id']);const _0xffb94c=this['system']['app']['assets'];if(_0x1b1116!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0xffb94c['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x6f36d0=_0xffb94c['get'](this['_materialA'+'sset']);_0x6f36d0&&this['_unbindMat'+'erialAsset'](_0x6f36d0);}if(this['_materialA'+'sset']=_0x1b1116,this['_materialA'+'sset']){const _0x38e312=_0xffb94c['get'](this['_materialA'+'sset']);_0x38e312?this['_bindMater'+'ialAsset'](_0x38e312):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0xffb94c['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x3ed269){this['_material']!==_0x3ed269&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x3ed269));}get['material'](){return this['_material'];}set['mapping'](_0x1f3fc1){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x1f3fc1||(_0x1f3fc1={}),this['_mapping']=_0x1f3fc1,!this['_model']))return;const _0x6fdc25=this['_model']['meshInstan'+'ces'],_0x501f47=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x1a2f1d=_0x501f47?_0x501f47['data']['mapping']:null;let _0x188668=null;for(let _0x1be1b0=-0x2*0x238+-0x3*0x182+0x8f6,_0x441bc3=_0x6fdc25['length'];_0x1be1b0<_0x441bc3;_0x1be1b0++)if(_0x1f3fc1[_0x1be1b0]!==void(-0x155e+0xf0+0x146e))_0x1f3fc1[_0x1be1b0]?(_0x188668=this['system']['app']['assets']['get'](_0x1f3fc1[_0x1be1b0]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x188668,_0x6fdc25[_0x1be1b0],_0x1be1b0)):_0x6fdc25[_0x1be1b0]['material']=this['system']['defaultMat'+'erial'];else{if(_0x1a2f1d){if(_0x1a2f1d[_0x1be1b0]&&(_0x1a2f1d[_0x1be1b0]['material']||_0x1a2f1d[_0x1be1b0]['path'])){if(_0x1a2f1d[_0x1be1b0]['material']!==void(-0x12db+0x7f7*-0x1+0x1ad2))_0x188668=this['system']['app']['assets']['get'](_0x1a2f1d[_0x1be1b0]['material']);else{if(_0x1a2f1d[_0x1be1b0]['path']!==void(-0x1*-0x2672+-0x1*-0x62f+-0x2ca1)){const _0x5438a6=this['_getMateri'+'alAssetUrl'](_0x1a2f1d[_0x1be1b0]['path']);_0x5438a6&&(_0x188668=this['system']['app']['assets']['getByUrl'](_0x5438a6));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x188668,_0x6fdc25[_0x1be1b0],_0x1be1b0);}else _0x6fdc25[_0x1be1b0]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x17df19=this['system']['app']['scene']['layers'];for(let _0x48fab9=-0x1*0x2a3+-0x131b+0x15be;_0x48fab9<this['_layers']['length'];_0x48fab9++){const _0x536aa4=_0x17df19['getLayerBy'+'Id'](this['_layers'][_0x48fab9]);_0x536aa4&&_0x536aa4['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x2a242d=this['system']['app']['scene']['layers'];for(let _0xa5b18c=-0x1*-0x23e3+-0x1992+-0xa51;_0xa5b18c<this['_layers']['length'];_0xa5b18c++){const _0x107fae=_0x2a242d['getLayerBy'+'Id'](this['_layers'][_0xa5b18c]);_0x107fae&&_0x107fae['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x59fc94,_0xfb66f0){this['addModelTo'+'Layers'](),_0x59fc94['off']('add',this['onLayerAdd'+'ed'],this),_0x59fc94['off']('remove',this['onLayerRem'+'oved'],this),_0xfb66f0['on']('add',this['onLayerAdd'+'ed'],this),_0xfb66f0['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5b4d5a){this['layers']['indexOf'](_0x5b4d5a['id'])<-0x157e*0x1+-0x15b3+0x2b31||_0x5b4d5a['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x3c92a2){this['layers']['indexOf'](_0x3c92a2['id'])<0x12ba+0x1f6*0x11+0x188*-0x22||_0x3c92a2['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x4a60b0,_0x167c8b,_0x55936e,_0x426f36){const _0x458461=_0x167c8b+':'+_0x55936e;this['system']['app']['assets']['on'](_0x458461,_0x426f36,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x4a60b0]||(this['_materialE'+'vents'][_0x4a60b0]={}),this['_materialE'+'vents'][_0x4a60b0][_0x458461]={'id':_0x55936e,'handler':_0x426f36};}['_unsetMate'+'rialEvents'](){const _0x457b7e=this['system']['app']['assets'],_0xc6231b=this['_materialE'+'vents'];if(_0xc6231b){for(let _0x1ab2b7=-0x2290+0x1f06+0x38a,_0x3357a4=_0xc6231b['length'];_0x1ab2b7<_0x3357a4;_0x1ab2b7++){if(!_0xc6231b[_0x1ab2b7])continue;const _0x172e21=_0xc6231b[_0x1ab2b7];for(const _0x48dfdb in _0x172e21)_0x457b7e['off'](_0x48dfdb,_0x172e21[_0x48dfdb]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x39cb7e){let _0x14e478=null;if(!isNaN(parseInt(_0x39cb7e,0xa01+-0xeed+0x4f6)))_0x14e478=this['system']['app']['assets']['get'](_0x39cb7e);else{if(this['asset']){const _0x5801d4=this['_getMateri'+'alAssetUrl'](_0x39cb7e);_0x5801d4&&(_0x14e478=this['system']['app']['assets']['getByUrl'](_0x5801d4));}}return _0x14e478;}['_getMateri'+'alAssetUrl'](_0x258f60){if(!this['asset'])return null;const _0x2cb656=this['system']['app']['assets']['get'](this['asset']);return _0x2cb656?_0x2cb656['getAbsolut'+'eUrl'](_0x258f60):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x2d2389,_0x250b95,_0x9e1a48){const _0x5b50d6=this['system']['app']['assets'];_0x2d2389&&(_0x2d2389['resource']?(_0x250b95['material']=_0x2d2389['resource'],this['_setMateri'+'alEvent'](_0x9e1a48,'remove',_0x2d2389['id'],function(){_0x250b95['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x9e1a48,'load',_0x2d2389['id'],function(_0x10bcec){_0x250b95['material']=_0x10bcec['resource'],this['_setMateri'+'alEvent'](_0x9e1a48,'remove',_0x2d2389['id'],function(){_0x250b95['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x5b50d6['load'](_0x2d2389)));}['onEnable'](){var _0x538947;const _0x5e3960=this['system']['app'],_0x70653a=_0x5e3960['scene'],_0x4b14b6=_0x70653a==null?void(-0x1a6b+-0x1b*0x6f+0x2620):_0x70653a['layers'];this['_evtLayers'+'Changed']=_0x70653a['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4b14b6&&(this['_evtLayerA'+'dded']=_0x4b14b6['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4b14b6['on']('remove',this['onLayerRem'+'oved'],this));const _0x52e137=this['_type']==='asset';let _0x4e310c;if(this['_model']?this['addModelTo'+'Layers']():_0x52e137&&this['_asset']&&(_0x4e310c=_0x5e3960['assets']['get'](this['_asset']),_0x4e310c&&_0x4e310c['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x4e310c)),this['_materialA'+'sset']&&(_0x4e310c=_0x5e3960['assets']['get'](this['_materialA'+'sset']),_0x4e310c&&_0x4e310c['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x4e310c)),_0x52e137&&this['_mapping']){for(const _0x2aa49e in this['_mapping'])this['_mapping'][_0x2aa49e]&&(_0x4e310c=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x2aa49e]),_0x4e310c&&!_0x4e310c['resource']&&_0x5e3960['assets']['load'](_0x4e310c));}this['_batchGrou'+'pId']>=0xbda+0x1df3+-0x29*0x105&&((_0x538947=_0x5e3960['batcher'])==null||_0x538947['insert'](et['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x3a8916,_0x711dc7,_0x452fd2,_0x4e497b;const _0x525c7f=this['system']['app'],_0x3d459f=_0x525c7f['scene']['layers'];(_0x3a8916=this['_evtLayers'+'Changed'])==null||_0x3a8916['off'](),this['_evtLayers'+'Changed']=null,_0x3d459f&&((_0x711dc7=this['_evtLayerA'+'dded'])==null||_0x711dc7['off'](),this['_evtLayerA'+'dded']=null,(_0x452fd2=this['_evtLayerR'+'emoved'])==null||_0x452fd2['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x22f3+0x244e+0x15b*-0x1&&((_0x4e497b=_0x525c7f['batcher'])==null||_0x4e497b['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x13aaf7=this['_model']['meshInstan'+'ces'];for(let _0x4980fb=-0x1f*0xb3+-0x784+0x1d31,_0x40dc7c=_0x13aaf7['length'];_0x4980fb<_0x40dc7c;_0x4980fb++)_0x13aaf7[_0x4980fb]['visible']=!(-0x7*-0x4e5+-0x5*0x4ee+-0x2*0x4ce);}}['show'](){if(this['_model']){const _0x56163f=this['_model']['meshInstan'+'ces'];for(let _0x28ad31=0x14b*0xf+0x3aa*0x3+-0x1e63,_0x1ad813=_0x56163f['length'];_0x28ad31<_0x1ad813;_0x28ad31++)_0x56163f[_0x28ad31]['visible']=!(-0x518*-0x5+-0x5db+-0x139d);}}['_bindMater'+'ialAsset'](_0x42ba4b){if(_0x42ba4b['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x42ba4b['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x42ba4b['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x42ba4b['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x42ba4b['resource'])this['_onMateria'+'lAssetLoad'](_0x42ba4b);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x42ba4b);}}['_unbindMat'+'erialAsset'](_0xde2a88){_0xde2a88['off']('load',this['_onMateria'+'lAssetLoad'],this),_0xde2a88['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0xde2a88['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0xde2a88['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x580bcf){this['system']['app']['assets']['off']('add:'+_0x580bcf['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x580bcf['id']&&this['_bindMater'+'ialAsset'](_0x580bcf);}['_onMateria'+'lAssetLoad'](_0xef4204){this['_setMateri'+'al'](_0xef4204['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x28d5ef){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x41898a){this['_onMateria'+'lAssetUnlo'+'ad'](_0x41898a);}['_onMateria'+'lAssetChan'+'ge'](_0x23a6d5){}['_bindModel'+'Asset'](_0x16e4ca){if(this['_unbindMod'+'elAsset'](_0x16e4ca),_0x16e4ca['on']('load',this['_onModelAs'+'setLoad'],this),_0x16e4ca['on']('unload',this['_onModelAs'+'setUnload'],this),_0x16e4ca['on']('change',this['_onModelAs'+'setChange'],this),_0x16e4ca['on']('remove',this['_onModelAs'+'setRemove'],this),_0x16e4ca['resource'])this['_onModelAs'+'setLoad'](_0x16e4ca);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x16e4ca);}}['_unbindMod'+'elAsset'](_0x50dbe4){_0x50dbe4['off']('load',this['_onModelAs'+'setLoad'],this),_0x50dbe4['off']('unload',this['_onModelAs'+'setUnload'],this),_0x50dbe4['off']('change',this['_onModelAs'+'setChange'],this),_0x50dbe4['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x4006c3){this['system']['app']['assets']['off']('add:'+_0x4006c3['id'],this['_onModelAs'+'setAdded'],this),_0x4006c3['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x4006c3);}['_onModelAs'+'setLoad'](_0x51fe86){this['model']=_0x51fe86['resource']['clone'](),this['_clonedMod'+'el']=!(-0x2509+-0x4a8+-0xd*-0x335);}['_onModelAs'+'setUnload'](_0x3e1d3b){this['model']=null;}['_onModelAs'+'setChange'](_0x1b5aa6,_0x41c471,_0x19f79d,_0x444f9d){_0x41c471==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x586c59){this['model']=null;}['_setMateri'+'al'](_0x5f2575){if(this['_material']===_0x5f2575)return;this['_material']=_0x5f2575;const _0x5bd332=this['_model'];if(_0x5bd332&&this['_type']!=='asset'){const _0x27e7f0=_0x5bd332['meshInstan'+'ces'];for(let _0x1462eb=0x266f*0x1+-0x176*0xf+0x1*-0x1085,_0x254b62=_0x27e7f0['length'];_0x1462eb<_0x254b62;_0x1462eb++)_0x27e7f0[_0x1462eb]['material']=_0x5f2575;}}}class sI{constructor(){this['enabled']=!(0x244e+-0x9*-0x163+-0x30c9);}}const ux=['enabled'];class iI extends Xe{constructor(_0x532770){super(_0x532770),this['id']='model',this['ComponentT'+'ype']=dx,this['DataType']=sI,this['schema']=ux,this['defaultMat'+'erial']=al(_0x532770['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x33a181,_0x24659b,_0x180711){_0x180711=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x24659b['batchGroup'+'Id']===null||_0x24659b['batchGroup'+'Id']===void(0x22a3*-0x1+0xdd7+0x16*0xf2))&&(_0x24659b['batchGroup'+'Id']=-(0x1255+0x1675*-0x1+0x421*0x1)),_0x24659b['layers']&&_0x24659b['layers']['length']&&(_0x24659b['layers']=_0x24659b['layers']['slice'](0x1cb*-0xf+-0x1085+0x2b6a));for(let _0x1520ba=-0x1de*-0x3+-0x16b6+0x111c;_0x1520ba<_0x180711['length'];_0x1520ba++)_0x24659b['hasOwnProp'+'erty'](_0x180711[_0x1520ba])&&(_0x33a181[_0x180711[_0x1520ba]]=_0x24659b[_0x180711[_0x1520ba]]);_0x24659b['aabbCenter']&&_0x24659b['aabbHalfEx'+'tents']&&(_0x33a181['customAabb']=new _e(new T(_0x24659b['aabbCenter']),new T(_0x24659b['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x33a181,_0x24659b,['enabled']);}['cloneCompo'+'nent'](_0x24a73a,_0x56d522){const _0x194633={'type':_0x24a73a['model']['type'],'asset':_0x24a73a['model']['asset'],'castShadows':_0x24a73a['model']['castShadow'+'s'],'receiveShadows':_0x24a73a['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x24a73a['model']['castShadow'+'sLightmap'],'lightmapped':_0x24a73a['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x24a73a['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x24a73a['model']['isStatic'],'enabled':_0x24a73a['model']['enabled'],'layers':_0x24a73a['model']['layers'],'batchGroupId':_0x24a73a['model']['batchGroup'+'Id'],'mapping':vh({},_0x24a73a['model']['mapping'])};let _0x53cbe9=_0x24a73a['model']['materialAs'+'set'];!(_0x53cbe9 instanceof le)&&_0x53cbe9!=null&&(_0x53cbe9=this['app']['assets']['get'](_0x53cbe9));const _0x1b8ce2=_0x24a73a['model']['material'];(!_0x1b8ce2||_0x1b8ce2===this['defaultMat'+'erial']||!_0x53cbe9||_0x1b8ce2===_0x53cbe9['resource'])&&(_0x194633['materialAs'+'set']=_0x53cbe9);const _0x1406e2=this['addCompone'+'nt'](_0x56d522,_0x194633);if(_0x24a73a['model']['model']&&_0x24a73a['model']['type']==='asset'&&!_0x24a73a['model']['asset']&&(_0x1406e2['model']=_0x24a73a['model']['model']['clone'](),_0x1406e2['_clonedMod'+'el']=!(-0x1a4e+-0x233*-0x3+-0x13b5*-0x1)),_0x194633['materialAs'+'set']||(_0x1406e2['material']=_0x1b8ce2),_0x24a73a['model']['model']){const _0x346c84=_0x24a73a['model']['model']['meshInstan'+'ces'],_0x109c9d=_0x1406e2['model']['meshInstan'+'ces'];for(let _0x134244=-0x6*-0x161+0x8a0+-0x2*0x873;_0x134244<_0x346c84['length'];_0x134244++)_0x109c9d[_0x134244]['mask']=_0x346c84[_0x134244]['mask'],_0x109c9d[_0x134244]['material']=_0x346c84[_0x134244]['material'],_0x109c9d[_0x134244]['layer']=_0x346c84[_0x134244]['layer'],_0x109c9d[_0x134244]['receiveSha'+'dow']=_0x346c84[_0x134244]['receiveSha'+'dow'];}return _0x24a73a['model']['customAabb']&&(_0x1406e2['customAabb']=_0x24a73a['model']['customAabb']['clone']()),_0x1406e2;}['onRemove'](_0x33ec27,_0xff7f2c){_0xff7f2c['onRemove']();}}ue['_buildAcce'+'ssors'](dx['prototype'],ux);const rI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],nI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],aI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Zl=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Hn;class oI extends ue{constructor(_0x349659,_0x525c4b){super(_0x349659,_0x525c4b),c(this,'_requested'+'Depth',!(0x1*0x168a+0x1*0xf65+-0x2*0x12f7)),c(this,'_drawOrder',-0x29*0xc7+0x1*-0x103+0x20e2),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),rI['forEach'](_0x1b7412=>{this['on']('set_'+_0x1b7412,this['onSetSimpl'+'eProperty'],this);}),nI['forEach'](_0xade4fe=>{this['on']('set_'+_0xade4fe,this['onSetCompl'+'exProperty'],this);}),aI['forEach'](_0x59678f=>{this['on']('set_'+_0x59678f,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x1d7cd6=this['system']['store'][this['entity']['getGuid']()];return _0x1d7cd6?_0x1d7cd6['data']:null;}set['enabled'](_0x1fa57e){this['_setValue']('enabled',_0x1fa57e);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x16d69c){this['_setValue']('autoPlay',_0x16d69c);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x3296ba){this['_setValue']('numParticl'+'es',_0x3296ba);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x322ced){this['_setValue']('lifetime',_0x322ced);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0xfa0776){this['_setValue']('rate',_0xfa0776);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x2fe5ea){this['_setValue']('rate2',_0x2fe5ea);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x3b652a){this['_setValue']('startAngle',_0x3b652a);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x30e9f3){this['_setValue']('startAngle'+'2',_0x30e9f3);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x11b8b5){this['_setValue']('loop',_0x11b8b5);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x5ae877){this['_setValue']('preWarm',_0x5ae877);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x4c8692){this['_setValue']('lighting',_0x4c8692);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x573681){this['_setValue']('halfLamber'+'t',_0x573681);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x30fc3a){this['_setValue']('intensity',_0x30fc3a);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x2e0f6f){this['_setValue']('depthWrite',_0x2e0f6f);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x5dc977){this['_setValue']('noFog',_0x5dc977);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x307209){this['_setValue']('depthSofte'+'ning',_0x307209);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x3c1a44){this['_setValue']('sort',_0x3c1a44);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x1508c4){this['_setValue']('blendType',_0x1508c4);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x49fd65){this['_setValue']('stretch',_0x49fd65);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x4a621a){this['_setValue']('alignToMot'+'ion',_0x4a621a);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x269759){this['_setValue']('emitterSha'+'pe',_0x269759);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x1b7eb5){this['_setValue']('emitterExt'+'ents',_0x1b7eb5);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x19fbfb){this['_setValue']('emitterExt'+'entsInner',_0x19fbfb);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x5e7dea){this['_setValue']('emitterRad'+'ius',_0x5e7dea);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x8e74bb){this['_setValue']('emitterRad'+'iusInner',_0x8e74bb);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x376b77){this['_setValue']('initialVel'+'ocity',_0x376b77);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x1e3240){this['_setValue']('wrap',_0x1e3240);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x1bc9be){this['_setValue']('wrapBounds',_0x1bc9be);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x42c22d){this['_setValue']('localSpace',_0x42c22d);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x1a2b47){this['_setValue']('screenSpac'+'e',_0x1a2b47);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x1dc771){this['_setValue']('colorMapAs'+'set',_0x1dc771);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x24bfb5){this['_setValue']('normalMapA'+'sset',_0x24bfb5);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x385a31){this['_setValue']('mesh',_0x385a31);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x323042){this['_setValue']('meshAsset',_0x323042);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x23a383){this['_setValue']('renderAsse'+'t',_0x23a383);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x2a32c5){this['_setValue']('orientatio'+'n',_0x2a32c5);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x504c0b){this['_setValue']('particleNo'+'rmal',_0x504c0b);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x35a157){this['_setValue']('localVeloc'+'ityGraph',_0x35a157);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x34f200){this['_setValue']('localVeloc'+'ityGraph2',_0x34f200);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x12a51c){this['_setValue']('velocityGr'+'aph',_0x12a51c);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x30dc13){this['_setValue']('velocityGr'+'aph2',_0x30dc13);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x5c5d02){this['_setValue']('rotationSp'+'eedGraph',_0x5c5d02);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x9158c8){this['_setValue']('rotationSp'+'eedGraph2',_0x9158c8);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x2dc73a){this['_setValue']('radialSpee'+'dGraph',_0x2dc73a);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x124b9f){this['_setValue']('radialSpee'+'dGraph2',_0x124b9f);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x111c20){this['_setValue']('scaleGraph',_0x111c20);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x5b69f4){this['_setValue']('scaleGraph'+'2',_0x5b69f4);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x4366e7){this['_setValue']('colorGraph',_0x4366e7);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x198e34){this['_setValue']('colorGraph'+'2',_0x198e34);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x272e12){this['_setValue']('alphaGraph',_0x272e12);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x36a3e2){this['_setValue']('alphaGraph'+'2',_0x36a3e2);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x18c3d2){this['_setValue']('colorMap',_0x18c3d2);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x17f9f5){this['_setValue']('normalMap',_0x17f9f5);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x210f73){this['_setValue']('animTilesX',_0x210f73);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x139153){this['_setValue']('animTilesY',_0x139153);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x5db6f4){this['_setValue']('animStartF'+'rame',_0x5db6f4);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x2e7fcf){this['_setValue']('animNumFra'+'mes',_0x2e7fcf);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x2d4342){this['_setValue']('animNumAni'+'mations',_0x2d4342);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x314618){this['_setValue']('animIndex',_0x314618);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x12d127){this['_setValue']('randomizeA'+'nimIndex',_0x12d127);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x56daff){this['_setValue']('animSpeed',_0x56daff);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x39b479){this['_setValue']('animLoop',_0x39b479);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x19948a){this['_setValue']('layers',_0x19948a);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x5a1ed2){this['_drawOrder']=_0x5a1ed2,this['emitter']&&(this['emitter']['drawOrder']=_0x5a1ed2);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x7d70e3,_0x28d2bb){const _0x4965e7=this['data'],_0x595393=_0x4965e7[_0x7d70e3];_0x4965e7[_0x7d70e3]=_0x28d2bb,this['fire']('set',_0x7d70e3,_0x595393,_0x28d2bb);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x59ce91=0x13fa*0x1+-0x362*-0x2+-0x1abe;_0x59ce91<this['layers']['length'];_0x59ce91++){const _0x1dd502=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x59ce91]);_0x1dd502&&(_0x1dd502['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x1dd502);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x587b21=0x14*0x18b+0xfdd+-0x531*0x9;_0x587b21<this['layers']['length'];_0x587b21++){const _0x46ad49=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x587b21]);_0x46ad49&&_0x46ad49['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x2f63db,_0x50818f,_0x56ffc5){if(this['emitter']){for(let _0x485133=0x1172+-0x1*0xf07+-0x26b;_0x485133<_0x50818f['length'];_0x485133++){const _0x37fa60=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x50818f[_0x485133]);_0x37fa60&&_0x37fa60['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x31432e=-0x1fcb+0xd36+-0x43*-0x47;_0x31432e<_0x56ffc5['length'];_0x31432e++){const _0x399755=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x56ffc5[_0x31432e]);_0x399755&&_0x399755['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x3cfd79,_0xb435ff){this['addMeshIns'+'tanceToLay'+'ers'](),_0x3cfd79['off']('add',this['onLayerAdd'+'ed'],this),_0x3cfd79['off']('remove',this['onLayerRem'+'oved'],this),_0xb435ff['on']('add',this['onLayerAdd'+'ed'],this),_0xb435ff['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4217b2){!this['emitter']||this['layers']['indexOf'](_0x4217b2['id'])<-0x3*0x820+0x14b8+0x3a8||_0x4217b2['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x147d62){!this['emitter']||this['layers']['indexOf'](_0x147d62['id'])<-0x106+0x11f5+-0x10ef||_0x147d62['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x3bba63){if(_0x3bba63['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x3bba63['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x3bba63['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x3bba63['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x3bba63['resource'])this['_onColorMa'+'pAssetLoad'](_0x3bba63);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3bba63);}}['_unbindCol'+'orMapAsset'](_0xc7d25f){_0xc7d25f['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0xc7d25f['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0xc7d25f['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0xc7d25f['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x1a8d07){this['colorMap']=_0x1a8d07['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x3e9e16){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x148ef3){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x148ef3);}['_onColorMa'+'pAssetChan'+'ge'](_0x2cd150){}['onSetColor'+'MapAsset'](_0x4a9d30,_0x3e83df,_0x86dba4){const _0x4fdb24=this['system']['app']['assets'];if(_0x3e83df){const _0x2b06c8=_0x4fdb24['get'](_0x3e83df);_0x2b06c8&&this['_unbindCol'+'orMapAsset'](_0x2b06c8);}if(_0x86dba4){_0x86dba4 instanceof le&&(this['data']['colorMapAs'+'set']=_0x86dba4['id'],_0x86dba4=_0x86dba4['id']);const _0x331f37=_0x4fdb24['get'](_0x86dba4);_0x331f37?this['_bindColor'+'MapAsset'](_0x331f37):_0x4fdb24['once']('add:'+_0x86dba4,_0x3610e0=>{this['_bindColor'+'MapAsset'](_0x3610e0);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0xb22920){if(_0xb22920['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0xb22920['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0xb22920['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0xb22920['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0xb22920['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0xb22920);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xb22920);}}['_unbindNor'+'malMapAsse'+'t'](_0x449845){_0x449845['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x449845['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x449845['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x449845['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x2a1a49){this['normalMap']=_0x2a1a49['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x5e6008){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x3fcce7){this['_onNormalM'+'apAssetUnl'+'oad'](_0x3fcce7);}['_onNormalM'+'apAssetCha'+'nge'](_0x33df7f){}['onSetNorma'+'lMapAsset'](_0x4491c4,_0x4971e9,_0x2ce5f3){const _0x12ddef=this['system']['app']['assets'];if(_0x4971e9){const _0x3e2f5a=_0x12ddef['get'](_0x4971e9);_0x3e2f5a&&this['_unbindNor'+'malMapAsse'+'t'](_0x3e2f5a);}if(_0x2ce5f3){_0x2ce5f3 instanceof le&&(this['data']['normalMapA'+'sset']=_0x2ce5f3['id'],_0x2ce5f3=_0x2ce5f3['id']);const _0x177da8=_0x12ddef['get'](_0x2ce5f3);_0x177da8?this['_bindNorma'+'lMapAsset'](_0x177da8):_0x12ddef['once']('add:'+_0x2ce5f3,_0x7d0f54=>{this['_bindNorma'+'lMapAsset'](_0x7d0f54);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x50c9f2){if(_0x50c9f2['on']('load',this['_onMeshAss'+'etLoad'],this),_0x50c9f2['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x50c9f2['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x50c9f2['on']('change',this['_onMeshAss'+'etChange'],this),_0x50c9f2['resource'])this['_onMeshAss'+'etLoad'](_0x50c9f2);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x50c9f2);}}['_unbindMes'+'hAsset'](_0x535180){_0x535180['off']('load',this['_onMeshAss'+'etLoad'],this),_0x535180['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x535180['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x535180['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x211da1){this['_onMeshCha'+'nged'](_0x211da1['resource']);}['_onMeshAss'+'etUnload'](_0x14aac4){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0xfb6e3a){this['_onMeshAss'+'etUnload'](_0xfb6e3a);}['_onMeshAss'+'etChange'](_0x31b34f){}['onSetMeshA'+'sset'](_0x1ed9f9,_0x73df0b,_0x4d5804){const _0x1c3b75=this['system']['app']['assets'];if(_0x73df0b){const _0x280010=_0x1c3b75['get'](_0x73df0b);_0x280010&&this['_unbindMes'+'hAsset'](_0x280010);}if(_0x4d5804){_0x4d5804 instanceof le&&(this['data']['meshAsset']=_0x4d5804['id'],_0x4d5804=_0x4d5804['id']);const _0xf9d3d=_0x1c3b75['get'](_0x4d5804);_0xf9d3d&&this['_bindMeshA'+'sset'](_0xf9d3d);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x2adbdc,_0x2b9dbb,_0x1e4966){!_0x1e4966||_0x1e4966 instanceof le||typeof _0x1e4966=='number'?this['meshAsset']=_0x1e4966:this['_onMeshCha'+'nged'](_0x1e4966);}['_onMeshCha'+'nged'](_0x27fe15){_0x27fe15&&!(_0x27fe15 instanceof Ie)&&(_0x27fe15['meshInstan'+'ces'][-0xae*0x1f+-0x22f9+0x380b*0x1]?_0x27fe15=_0x27fe15['meshInstan'+'ces'][0x134a+0x1536+0x24*-0x120]['mesh']:_0x27fe15=null),this['data']['mesh']=_0x27fe15,this['emitter']&&(this['emitter']['mesh']=_0x27fe15,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x41adbd,_0x20db87,_0x5d8700){const _0x229dcf=this['system']['app']['assets'];if(_0x20db87){const _0x4b9183=_0x229dcf['get'](_0x20db87);_0x4b9183&&this['_unbindRen'+'derAsset'](_0x4b9183);}if(_0x5d8700){_0x5d8700 instanceof le&&(this['data']['renderAsse'+'t']=_0x5d8700['id'],_0x5d8700=_0x5d8700['id']);const _0x40f0d7=_0x229dcf['get'](_0x5d8700);_0x40f0d7&&this['_bindRende'+'rAsset'](_0x40f0d7);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x7c8b65){if(_0x7c8b65['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x7c8b65['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x7c8b65['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x7c8b65['resource'])this['_onRenderA'+'ssetLoad'](_0x7c8b65);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x7c8b65);}}['_unbindRen'+'derAsset'](_0x429d9b){var _0x3c2bad;_0x429d9b['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x429d9b['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x429d9b['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x3c2bad=this['_evtSetMes'+'hes'])==null||_0x3c2bad['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x135bcd){this['_onRenderC'+'hanged'](_0x135bcd['resource']);}['_onRenderA'+'ssetUnload'](_0x30795d){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x472c78){this['_onRenderA'+'ssetUnload'](_0x472c78);}['_onRenderC'+'hanged'](_0xa88177){var _0x445ea7;if(!_0xa88177){this['_onMeshCha'+'nged'](null);return;}(_0x445ea7=this['_evtSetMes'+'hes'])==null||_0x445ea7['off'](),this['_evtSetMes'+'hes']=_0xa88177['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0xa88177['meshes']&&this['_onRenderS'+'etMeshes'](_0xa88177['meshes']);}['_onRenderS'+'etMeshes'](_0x2d16ed){this['_onMeshCha'+'nged'](_0x2d16ed&&_0x2d16ed[-0x1433+0x2584+-0x1151]);}['onSetLoop'](_0x43c219,_0x5125c5,_0x556eed){this['emitter']&&(this['emitter'][_0x43c219]=_0x556eed,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x1b0489,_0x1bbaf5,_0x5b4553){this['emitter']&&(this['emitter'][_0x1b0489]=_0x5b4553,this['emitter']['material']['blendType']=_0x5b4553,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Hn||(Hn=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt)),Hn&&(Hn['incrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x1a8c+-0x97*0x3e+-0x1*-0x3f1e)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Hn&&(Hn['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0xfc3*0x1+0x16be+-0x1*0x2680));}['onSetDepth'+'Softening'](_0x1a1cc5,_0x3dc45b,_0x45a4c6){_0x3dc45b!==_0x45a4c6&&(_0x45a4c6?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x1a1cc5]=_0x45a4c6)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x1a1cc5]=_0x45a4c6)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x1a4778,_0x4cdb58,_0x360252){this['emitter']&&(this['emitter'][_0x1a4778]=_0x360252,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x1aaac7,_0x2c99c,_0x4a8077){this['emitter']&&(this['emitter'][_0x1aaac7]=_0x4a8077,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x3fa58e,_0xe29893,_0x843b96){this['emitter']&&(this['emitter'][_0x3fa58e]=_0x843b96,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x67b59b=this['system']['app']['scene'],_0x2a0ff4=_0x67b59b['layers'],_0x3c32a0=this['data'];for(let _0x37dbbd=-0x2560+-0x29*0x5+0x262d,_0x3d7bc0=Zl['length'];_0x37dbbd<_0x3d7bc0;_0x37dbbd++){let _0x4b3b7a=_0x3c32a0[Zl[_0x37dbbd]];if(_0x4b3b7a){if(!(_0x4b3b7a instanceof le)){if(parseInt(_0x4b3b7a,0x190+0xfe+0x1*-0x284)>=0x224*-0x1+-0x145*0xe+-0x2*-0x9f5)_0x4b3b7a=this['system']['app']['assets']['get'](_0x4b3b7a);else continue;}_0x4b3b7a&&!_0x4b3b7a['resource']&&this['system']['app']['assets']['load'](_0x4b3b7a);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x387fa6=_0x3c32a0['mesh'];_0x387fa6 instanceof Ie||(_0x387fa6=null),this['emitter']=new d1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x3c32a0['numParticl'+'es'],'emitterExtents':_0x3c32a0['emitterExt'+'ents'],'emitterExtentsInner':_0x3c32a0['emitterExt'+'entsInner'],'emitterRadius':_0x3c32a0['emitterRad'+'ius'],'emitterRadiusInner':_0x3c32a0['emitterRad'+'iusInner'],'emitterShape':_0x3c32a0['emitterSha'+'pe'],'initialVelocity':_0x3c32a0['initialVel'+'ocity'],'wrap':_0x3c32a0['wrap'],'localSpace':_0x3c32a0['localSpace'],'screenSpace':_0x3c32a0['screenSpac'+'e'],'wrapBounds':_0x3c32a0['wrapBounds'],'lifetime':_0x3c32a0['lifetime'],'rate':_0x3c32a0['rate'],'rate2':_0x3c32a0['rate2'],'orientation':_0x3c32a0['orientatio'+'n'],'particleNormal':_0x3c32a0['particleNo'+'rmal'],'animTilesX':_0x3c32a0['animTilesX'],'animTilesY':_0x3c32a0['animTilesY'],'animStartFrame':_0x3c32a0['animStartF'+'rame'],'animNumFrames':_0x3c32a0['animNumFra'+'mes'],'animNumAnimations':_0x3c32a0['animNumAni'+'mations'],'animIndex':_0x3c32a0['animIndex'],'randomizeAnimIndex':_0x3c32a0['randomizeA'+'nimIndex'],'animSpeed':_0x3c32a0['animSpeed'],'animLoop':_0x3c32a0['animLoop'],'startAngle':_0x3c32a0['startAngle'],'startAngle2':_0x3c32a0['startAngle'+'2'],'scaleGraph':_0x3c32a0['scaleGraph'],'scaleGraph2':_0x3c32a0['scaleGraph'+'2'],'colorGraph':_0x3c32a0['colorGraph'],'colorGraph2':_0x3c32a0['colorGraph'+'2'],'alphaGraph':_0x3c32a0['alphaGraph'],'alphaGraph2':_0x3c32a0['alphaGraph'+'2'],'localVelocityGraph':_0x3c32a0['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x3c32a0['localVeloc'+'ityGraph2'],'velocityGraph':_0x3c32a0['velocityGr'+'aph'],'velocityGraph2':_0x3c32a0['velocityGr'+'aph2'],'rotationSpeedGraph':_0x3c32a0['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x3c32a0['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x3c32a0['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x3c32a0['radialSpee'+'dGraph2'],'colorMap':_0x3c32a0['colorMap'],'normalMap':_0x3c32a0['normalMap'],'loop':_0x3c32a0['loop'],'preWarm':_0x3c32a0['preWarm'],'sort':_0x3c32a0['sort'],'stretch':_0x3c32a0['stretch'],'alignToMotion':_0x3c32a0['alignToMot'+'ion'],'lighting':_0x3c32a0['lighting'],'halfLambert':_0x3c32a0['halfLamber'+'t'],'intensity':_0x3c32a0['intensity'],'depthSoftening':_0x3c32a0['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x387fa6,'depthWrite':_0x3c32a0['depthWrite'],'noFog':_0x3c32a0['noFog'],'node':this['entity'],'blendType':_0x3c32a0['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x3c32a0['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x1a50+0x1*0x1a5a+-0x34a9));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x67b59b['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2a0ff4&&(this['_evtLayerA'+'dded']=_0x2a0ff4['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2a0ff4['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x3c32a0['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x4e6397,_0x5396b0,_0x1bb3db;const _0x2bc052=this['system']['app']['scene']['layers'];(_0x4e6397=this['_evtLayers'+'Changed'])==null||_0x4e6397['off'](),this['_evtLayers'+'Changed']=null,_0x2bc052&&((_0x5396b0=this['_evtLayerA'+'dded'])==null||_0x5396b0['off'](),this['_evtLayerA'+'dded']=null,(_0x1bb3db=this['_evtLayerR'+'emoved'])==null||_0x1bb3db['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0x860+-0x1dd4+0x1*0x2635)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0xafcfbe=0x18c7+-0xf86*0x2+0x6b*0xf;_0xafcfbe<Zl['length'];_0xafcfbe++){const _0x318bea=Zl[_0xafcfbe];this['data'][_0x318bea]&&(this[_0x318bea]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0x5*-0x3b3+0x1*0x2679+-0x38f7),this['emitter']['resetTime'](),this['emitter']['addTime'](-0xfd8+-0x102*-0x5+0x6*0x1cd,!(0x259e+-0x1*-0x2033+0x1*-0x45d1)));}['pause'](){this['data']['paused']=!(0x79e+-0x254d*-0x1+-0x2ceb);}['unpause'](){this['data']['paused']=!(-0x5*-0x7f+0x1e0f+0x1*-0x2089);}['play'](){this['data']['paused']=!(-0x32f*-0x7+-0x12d1+0x377*-0x1),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(0x1*-0x2293+-0x14bf+0x3752),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0x1609*0x1+0x1c1b+-0x1*0x611):this['emitter']&&this['emitter']['loop']?!(-0x1963+0x1372+0x5f1):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x1150d1}=this;_0x1150d1&&!_0x1150d1['inTools']&&(_0x1150d1['inTools']=!(-0x218*0x6+0x112*-0x3+0x2a1*0x6),this['rebuild']());}['rebuild'](){const _0x1b5412=this['enabled'];this['enabled']=!(0x1df*-0x5+0x11bd*-0x2+-0x2cd6*-0x1),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x1b5412;}}class lI{constructor(){this['numParticl'+'es']=-0x235f+0x5*0x2ab+-0x1609*-0x1,this['rate']=-0x265f+0x680+0x1fe0,this['rate2']=null,this['startAngle']=-0x3*-0x8b9+0x8*0xf7+-0x21e3,this['startAngle'+'2']=null,this['lifetime']=0xb89+0x2*-0x1107+0x16b7*0x1,this['emitterExt'+'ents']=new T(),this['emitterExt'+'entsInner']=new T(),this['emitterRad'+'ius']=0xb14+0x25+-0xb39,this['emitterRad'+'iusInner']=-0x22d2+0x4f*-0x10+0x1*0x27c2,this['emitterSha'+'pe']=Vs,this['initialVel'+'ocity']=0xe6c+0x822+-0x168e,this['wrap']=!(-0x517*-0x5+0x78d+0x1*-0x20ff),this['wrapBounds']=new T(),this['localSpace']=!(0x3e*0x5+-0x652+-0x1*-0x51d),this['screenSpac'+'e']=!(0x865+0x1081+0x18e5*-0x1),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x1*0x1e15+0x148d+0x1951*-0x2),this['preWarm']=!(-0xc85+0x1*-0x13b5+-0x203b*-0x1),this['sort']=0x2045+-0x1*0x2011+-0x1*0x34,this['mode']=d0,this['scene']=null,this['lighting']=!(-0x14*0x125+-0x21cd*0x1+0xb1*0x52),this['halfLamber'+'t']=!(0xf55+0xdf1+-0x1d45*0x1),this['intensity']=0x1e29+0xd1e+-0x2b46,this['stretch']=-0x1*-0x784+0x1d*0x7f+0x26f*-0x9,this['alignToMot'+'ion']=!(0x2291*-0x1+0x2361+-0xcf),this['depthSofte'+'ning']=-0x1955*0x1+-0xaea*-0x1+0xe6b,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x1*0x1c33+-0x178b+-0x4a7),this['noFog']=!(-0x2700+0x337*0x1+0x23ca),this['orientatio'+'n']=Uh,this['particleNo'+'rmal']=new T(0x23*0x51+0x1257+-0x1d6a,0x1*0x128+-0x95*-0x36+-0x1*0x2095,-0x1d3*0xb+-0x1826+0x2c37),this['animTilesX']=0x1396+-0x1f65+-0x1b*-0x70,this['animTilesY']=-0x1321+-0x169e+0x4*0xa70,this['animStartF'+'rame']=-0x24ae+-0x182d+0x3cdb,this['animNumFra'+'mes']=-0xe87*-0x1+-0x11b*-0x9+0x4e5*-0x5,this['animNumAni'+'mations']=0xaeb+0x1013*0x2+-0x1a*0x1a8,this['animIndex']=-0x20*0x12e+-0x204c+-0x2*-0x2306,this['randomizeA'+'nimIndex']=!(0x184f+0x1*0x10df+0x53*-0x7f),this['animSpeed']=-0x1*0x2087+-0x1fc6+0x404e,this['animLoop']=!(-0xa93*-0x1+0x72*-0xe+-0x457*0x1),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Kt,this['enabled']=!(0xeb*-0x1d+0x2205+-0x766),this['paused']=!(-0x49f+-0x17d9+-0x1*-0x1c79),this['autoPlay']=!(-0xe86+-0x2426+0x32ac),this['layers']=[Fi];}}const hI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class cI extends Xe{constructor(_0x5c64ae){super(_0x5c64ae),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=oI,this['DataType']=lI,this['schema']=hI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2feb48,_0x5c231c,_0x53e8b1){const _0x52646e={};_0x53e8b1=[];const _0x4bd52a=this['propertyTy'+'pes'];(_0x5c231c['mesh']instanceof le||typeof _0x5c231c['mesh']=='number')&&(_0x5c231c['meshAsset']=_0x5c231c['mesh'],delete _0x5c231c['mesh']);for(const _0x416c59 in _0x5c231c){if(_0x5c231c['hasOwnProp'+'erty'](_0x416c59)&&(_0x53e8b1['push'](_0x416c59),_0x52646e[_0x416c59]=_0x5c231c[_0x416c59]),_0x4bd52a[_0x416c59]==='vec3')Array['isArray'](_0x52646e[_0x416c59])&&(_0x52646e[_0x416c59]=new T(_0x52646e[_0x416c59][-0x6d4+0x31*0x55+-0x971],_0x52646e[_0x416c59][0x1e55+0x495+-0x22e9],_0x52646e[_0x416c59][-0x2*0x519+-0x1*0x201d+-0x1d7*-0x17]));else{if(_0x4bd52a[_0x416c59]==='curve'){if(!(_0x52646e[_0x416c59]instanceof Cs)){const _0x1caed3=_0x52646e[_0x416c59]['type'];_0x52646e[_0x416c59]=new Cs(_0x52646e[_0x416c59]['keys']),_0x52646e[_0x416c59]['type']=_0x1caed3;}}else{if(_0x4bd52a[_0x416c59]==='curveset'&&!(_0x52646e[_0x416c59]instanceof jr)){const _0x58d2bc=_0x52646e[_0x416c59]['type'];_0x52646e[_0x416c59]=new jr(_0x52646e[_0x416c59]['keys']),_0x52646e[_0x416c59]['type']=_0x58d2bc;}}}_0x52646e['layers']&&Array['isArray'](_0x52646e['layers'])&&(_0x52646e['layers']=_0x52646e['layers']['slice'](0x1ff6+-0x27+-0x1fcf));}super['initialize'+'ComponentD'+'ata'](_0x2feb48,_0x52646e,_0x53e8b1);}['cloneCompo'+'nent'](_0x458c46,_0x3f6cd0){const _0x24e28d=_0x458c46['particlesy'+'stem']['data'],_0x412107=this['schema'],_0x31ea48={};for(let _0x2780df=0x10aa+-0x469+-0xc41*0x1,_0x5046c9=_0x412107['length'];_0x2780df<_0x5046c9;_0x2780df++){const _0x79239a=_0x412107[_0x2780df];let _0x5c62c1=_0x24e28d[_0x79239a];_0x5c62c1 instanceof T||_0x5c62c1 instanceof Cs||_0x5c62c1 instanceof jr?(_0x5c62c1=_0x5c62c1['clone'](),_0x31ea48[_0x79239a]=_0x5c62c1):_0x79239a==='layers'?_0x31ea48['layers']=_0x24e28d['layers']['slice'](0x45d*0x1+0xf1*-0x13+0xd86):_0x5c62c1!=null&&(_0x31ea48[_0x79239a]=_0x5c62c1);}return this['addCompone'+'nt'](_0x3f6cd0,_0x31ea48);}['onUpdate'](_0x57b000){const _0x6576c7=this['store'];let _0x52397f;const _0x439863=this['app']['stats']['particles'],_0x1b60b3=this['app']['scene']['layers'];for(let _0xed2735=-0x1eeb+0x24be*-0x1+0x1*0x43a9;_0xed2735<_0x1b60b3['layerList']['length'];_0xed2735++)_0x1b60b3['layerList'][_0xed2735]['requiresLi'+'ghtCube']=!(0x1f3c+-0xeef*-0x2+-0x3d19);for(const _0x59fa24 in _0x6576c7)if(_0x6576c7['hasOwnProp'+'erty'](_0x59fa24)){const _0x2c54d4=_0x6576c7[_0x59fa24],_0x43989c=_0x2c54d4['entity'],_0x162dfe=_0x2c54d4['data'];if(_0x162dfe['enabled']&&_0x43989c['enabled']){const _0x469131=_0x43989c['particlesy'+'stem']['emitter'];if(!(_0x469131!=null&&_0x469131['meshInstan'+'ce']['visible']))continue;if(_0x469131['lighting']){const _0x286f30=_0x162dfe['layers'];for(let _0x3ac075=-0xd*-0x7b+0xa61+-0x10a0;_0x3ac075<_0x286f30['length'];_0x3ac075++){const _0x293798=_0x1b60b3['getLayerBy'+'Id'](_0x286f30[_0x3ac075]);_0x293798&&(_0x293798['requiresLi'+'ghtCube']=!(0x1fd9+0x33d+0x3*-0xbb2));}}if(!_0x162dfe['paused']){if(_0x469131['simTime']+=_0x57b000,_0x469131['simTime']>_0x469131['fixedTimeS'+'tep']&&(_0x52397f=Math['floor'](_0x469131['simTime']/_0x469131['fixedTimeS'+'tep']),_0x469131['simTime']-=_0x52397f*_0x469131['fixedTimeS'+'tep']),_0x52397f){_0x52397f=Math['min'](_0x52397f,_0x469131['maxSubStep'+'s']);for(let _0x1f1e09=-0x5*0x799+-0x12e6+0x38e3;_0x1f1e09<_0x52397f;_0x1f1e09++)_0x469131['addTime'](_0x469131['fixedTimeS'+'tep'],!(-0x5*-0x6e2+-0x3b9*-0x5+-0x3506));_0x439863['_updatesPe'+'rFrame']+=_0x52397f,_0x439863['_frameTime']+=_0x469131['_addTimeTi'+'me'],_0x469131['_addTimeTi'+'me']=-0x14d5+-0x53b*-0x5+0xe3*-0x6;}_0x469131['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x181410,_0x35e43a){_0x35e43a['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class dI extends Gc{constructor(_0x12e3cf,_0x419603){super(),this['skin']=_0x12e3cf,this['skinInstan'+'ce']=_0x419603;}}const bs=class bs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),bs['_skinInsta'+'nceCache']['forEach']((_0x2131a5,_0x542cde)=>{console['log'](_0x542cde['name']+':\x20Array('+_0x2131a5['length']+')');for(let _0x15e865=-0x146*0x4+-0xd87+0xe3*0x15;_0x15e865<_0x2131a5['length'];_0x15e865++)console['log']('\x20\x20'+_0x15e865+(':\x20RefCount'+'\x20')+_0x2131a5[_0x15e865]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x13700b,_0x120ca1,_0x2edec7){let _0x2144de=bs['getCachedS'+'kinInstanc'+'e'](_0x13700b,_0x120ca1);return _0x2144de||(_0x2144de=new nl(_0x13700b),_0x2144de['resolve'](_0x120ca1,_0x2edec7),bs['addCachedS'+'kinInstanc'+'e'](_0x13700b,_0x120ca1,_0x2144de)),_0x2144de;}static['getCachedS'+'kinInstanc'+'e'](_0x1838c3,_0x3116d8){let _0x355b8a=null;const _0x2ea982=bs['_skinInsta'+'nceCache']['get'](_0x3116d8);if(_0x2ea982){const _0x5e69cd=_0x2ea982['find'](_0x2e2e89=>_0x2e2e89['skin']===_0x1838c3);_0x5e69cd&&(_0x5e69cd['incRefCoun'+'t'](),_0x355b8a=_0x5e69cd['skinInstan'+'ce']);}return _0x355b8a;}static['addCachedS'+'kinInstanc'+'e'](_0x2aa0d2,_0x33cd40,_0x543a92){let _0x1bd9b1=bs['_skinInsta'+'nceCache']['get'](_0x33cd40);_0x1bd9b1||(_0x1bd9b1=[],bs['_skinInsta'+'nceCache']['set'](_0x33cd40,_0x1bd9b1));let _0x494e1d=_0x1bd9b1['find'](_0xbc7325=>_0xbc7325['skin']===_0x2aa0d2);_0x494e1d||(_0x494e1d=new dI(_0x2aa0d2,_0x543a92),_0x1bd9b1['push'](_0x494e1d)),_0x494e1d['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x1400d7){if(_0x1400d7){const _0x5bf450=_0x1400d7['rootBone'];if(_0x5bf450){const _0xa8d0e4=bs['_skinInsta'+'nceCache']['get'](_0x5bf450);if(_0xa8d0e4){const _0x33f8a2=_0xa8d0e4['findIndex'](_0xe1d75b=>_0xe1d75b['skinInstan'+'ce']===_0x1400d7);if(_0x33f8a2>=0x1d0*0xc+-0x35*0x2b+-0xcd9){const _0x3a7fc7=_0xa8d0e4[_0x33f8a2];_0x3a7fc7['decRefCoun'+'t'](),_0x3a7fc7['refCount']===-0xe7c+-0x3*0xb51+-0x1025*-0x3&&(_0xa8d0e4['splice'](_0x33f8a2,-0x1f3*0x11+0x1*-0x93a+0x2a5e),_0xa8d0e4['length']||bs['_skinInsta'+'nceCache']['delete'](_0x5bf450),_0x1400d7&&(_0x1400d7['destroy'](),_0x3a7fc7['skinInstan'+'ce']=null));}}}}}};c(bs,'_skinInsta'+'nceCache',new Map());let Vo=bs;class Go{constructor(_0x279d82,_0x521063,_0x385a10,_0x17bbc1,_0x4108ef){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x279d82,this['parent']=_0x521063,this['_scope']=_0x4108ef,this['_registry']=_0x385a10,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x17bbc1['load'],this['_onAssetAd'+'d']=_0x17bbc1['add'],this['_onAssetRe'+'move']=_0x17bbc1['remove'],this['_onAssetUn'+'load']=_0x17bbc1['unload']);}set['id'](_0x41c207){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x41c207,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x13a923){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x13a923,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x32aa4b,_0x401ec7,_0x4a5e35,_0x1a826f,_0x2f125c,_0x36bf69,_0x5a4833;this['id']&&((_0x32aa4b=this['_evtLoadBy'+'Id'])==null||_0x32aa4b['off'](),this['_evtLoadBy'+'Id']=null,(_0x401ec7=this['_evtAddByI'+'d'])==null||_0x401ec7['off'](),this['_evtAddByI'+'d']=null,(_0x4a5e35=this['_evtRemove'+'ById'])==null||_0x4a5e35['off'](),this['_evtRemove'+'ById']=null,(_0x1a826f=this['_evtUnload'+'ById'])==null||_0x1a826f['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x2f125c=this['_evtLoadBy'+'Url'])==null||_0x2f125c['off'](),this['_evtLoadBy'+'Url']=null,(_0x36bf69=this['_evtAddByU'+'rl'])==null||_0x36bf69['off'](),this['_evtAddByU'+'rl']=null,(_0x5a4833=this['_evtRemove'+'ByUrl'])==null||_0x5a4833['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x57eed4){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x57eed4);}['_onAdd'](_0x2969a2){this['asset']=_0x2969a2,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x2969a2);}['_onRemove'](_0x3b4300){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x3b4300),this['asset']=null;}['_onUnload'](_0x461b52){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x461b52);}}class fx extends ue{constructor(_0x1ca8ca,_0x3e22b8){super(_0x1ca8ca,_0x3e22b8),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(-0x25e1+0x17fa+0xde7)),c(this,'_receiveSh'+'adows',!(0xb1f+0x16c3+-0x21e2)),c(this,'_castShado'+'wsLightmap',!(0x3*0x9b9+0xeb*0x18+-0x3333)),c(this,'_lightmapp'+'ed',!(0x1941+-0x254b+0x1*0xc0b)),c(this,'_lightmapS'+'izeMultipl'+'ier',0xfbd+0xc*-0x195+-0x20*-0x1a),c(this,'isStatic',!(-0x11d7+-0x75d*0x2+0x2092)),c(this,'_batchGrou'+'pId',-(0x1b26+0x4f2+0x1f*-0x109)),c(this,'_layers',[Fi]),c(this,'_renderSty'+'le',yo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x1ca8ca['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x1ca8ca['defaultMat'+'erial'],_0x3e22b8['on']('remove',this['onRemoveCh'+'ild'],this),_0x3e22b8['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x3e22b8['on']('insert',this['onInsertCh'+'ild'],this),_0x3e22b8['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x2c5143){this['_renderSty'+'le']!==_0x2c5143&&(this['_renderSty'+'le']=_0x2c5143,Le['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x2c5143));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x46cac9){this['_customAab'+'b']=_0x46cac9;const _0x2f55a9=this['_meshInsta'+'nces'];if(_0x2f55a9){for(let _0x32e0d4=-0x1e2d+0xe*0x1a3+0xb*0xa9;_0x32e0d4<_0x2f55a9['length'];_0x32e0d4++)_0x2f55a9[_0x32e0d4]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x449ad2){if(this['_type']!==_0x449ad2&&(this['_area']=null,this['_type']=_0x449ad2,this['destroyMes'+'hInstances'](),_0x449ad2!=='asset')){let _0x4e8dd7=this['_material'];(!_0x4e8dd7||_0x4e8dd7===this['system']['defaultMat'+'erial'])&&(_0x4e8dd7=this['_materialR'+'eferences'][0x1772+0x141f+0x24b*-0x13]&&this['_materialR'+'eferences'][0x1131*-0x1+0x2*-0x10b8+-0xd*-0x3e5]['asset']&&this['_materialR'+'eferences'][0x11a6+0x66d+0x1813*-0x1]['asset']['resource']);const _0x4b6bf3=cx(this['system']['app']['graphicsDe'+'vice'],_0x449ad2);this['_area']=_0x4b6bf3['area'],this['meshInstan'+'ces']=[new Le(_0x4b6bf3['mesh'],_0x4e8dd7||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0xbef4cb){if(v['assert'](Array['isArray'](_0xbef4cb),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0xbef4cb,this['_meshInsta'+'nces']){const _0x5ac859=this['_meshInsta'+'nces'];for(let _0x37c9d2=0x82*0x47+-0x66*-0x33+-0x3860;_0x37c9d2<_0x5ac859['length'];_0x37c9d2++)_0x5ac859[_0x37c9d2]['node']||(_0x5ac859[_0x37c9d2]['node']=this['entity']),_0x5ac859[_0x37c9d2]['castShadow']=this['_castShado'+'ws'],_0x5ac859[_0x37c9d2]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x5ac859[_0x37c9d2]['renderStyl'+'e']=this['_renderSty'+'le'],_0x5ac859[_0x37c9d2]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x5ac859[_0x37c9d2]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x490a46){if(_0x490a46!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x490a46;const _0x41c12b=this['_meshInsta'+'nces'];if(_0x41c12b){for(let _0x91e9cf=-0x3*-0x74f+0xc64*0x2+0xb*-0x43f;_0x91e9cf<_0x41c12b['length'];_0x91e9cf++)_0x41c12b[_0x91e9cf]['setLightma'+'pped'](_0x490a46);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x16aad4){if(this['_castShado'+'ws']!==_0x16aad4){const _0x52607f=this['_meshInsta'+'nces'];if(_0x52607f){const _0x56f193=this['layers'],_0x591dc2=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x16aad4)for(let _0x357337=0x13*0x1bb+0x149f+-0x3580;_0x357337<_0x56f193['length'];_0x357337++){const _0x5128c8=_0x591dc2['layers']['getLayerBy'+'Id'](this['layers'][_0x357337]);_0x5128c8&&_0x5128c8['removeShad'+'owCasters'](_0x52607f);}for(let _0x2058f5=0x26f4+-0x2f*-0x7a+-0x1*0x3d5a;_0x2058f5<_0x52607f['length'];_0x2058f5++)_0x52607f[_0x2058f5]['castShadow']=_0x16aad4;if(!this['_castShado'+'ws']&&_0x16aad4)for(let _0x3abac2=0x2f4+-0x2*0xfc8+0x727*0x4;_0x3abac2<_0x56f193['length'];_0x3abac2++){const _0xd8fc18=_0x591dc2['layers']['getLayerBy'+'Id'](_0x56f193[_0x3abac2]);_0xd8fc18&&_0xd8fc18['addShadowC'+'asters'](_0x52607f);}}this['_castShado'+'ws']=_0x16aad4;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x1b6fb4){if(this['_receiveSh'+'adows']!==_0x1b6fb4){this['_receiveSh'+'adows']=_0x1b6fb4;const _0x3a0528=this['_meshInsta'+'nces'];if(_0x3a0528){for(let _0x5e86e9=-0xa63*-0x3+0xe1f+-0x2d48;_0x5e86e9<_0x3a0528['length'];_0x5e86e9++)_0x3a0528[_0x5e86e9]['receiveSha'+'dow']=_0x1b6fb4;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x2371da){this['_castShado'+'wsLightmap']=_0x2371da;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0xa42f43){this['_lightmapS'+'izeMultipl'+'ier']=_0xa42f43;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x35787e){const _0x16c5fa=this['system']['app']['scene']['layers'];let _0x33d787;if(this['_meshInsta'+'nces']){for(let _0x356f18=0xcd0+0x517+-0x1*0x11e7;_0x356f18<this['_layers']['length'];_0x356f18++)_0x33d787=_0x16c5fa['getLayerBy'+'Id'](this['_layers'][_0x356f18]),_0x33d787&&_0x33d787['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0x31*-0xb9+-0x94e+-0x1*0x1a1b;for(let _0x144d47=-0x312*0x4+0x2036+-0x1*0x13ee;_0x144d47<_0x35787e['length'];_0x144d47++)this['_layers'][_0x144d47]=_0x35787e[_0x144d47];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x32fa5d=-0x114b+0xed1*0x2+-0xc57;_0x32fa5d<this['_layers']['length'];_0x32fa5d++)_0x33d787=_0x16c5fa['getLayerBy'+'Id'](this['_layers'][_0x32fa5d]),_0x33d787&&_0x33d787['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x7442d6){var _0x37858e,_0x3aad13;this['_batchGrou'+'pId']!==_0x7442d6&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x2383*-0x1+0xca+0x22b9&&((_0x37858e=this['system']['app']['batcher'])==null||_0x37858e['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x7442d6>=0x25f+-0x163d*0x1+0x13de&&((_0x3aad13=this['system']['app']['batcher'])==null||_0x3aad13['insert'](et['RENDER'],_0x7442d6,this['entity'])),_0x7442d6<-0xc0b+0x13*-0x109+0xc6*0x29&&this['_batchGrou'+'pId']>=-0x1*-0x9df+0x13eb+0xf6*-0x1f&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x7442d6);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x9cf367){if(this['_material']!==_0x9cf367&&(this['_material']=_0x9cf367,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x2a49ab=-0x2642+0x1*-0x15ee+0x3c30;_0x2a49ab<this['_meshInsta'+'nces']['length'];_0x2a49ab++)this['_meshInsta'+'nces'][_0x2a49ab]['material']=_0x9cf367;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x55e419=[]){if(this['_materialR'+'eferences']['length']>_0x55e419['length']){for(let _0x3e64bd=_0x55e419['length'];_0x3e64bd<this['_materialR'+'eferences']['length'];_0x3e64bd++)this['_materialR'+'eferences'][_0x3e64bd]['id']=null;this['_materialR'+'eferences']['length']=_0x55e419['length'];}for(let _0x20ef2d=0xc2d*-0x1+0x433*0x7+-0x1138;_0x20ef2d<_0x55e419['length'];_0x20ef2d++)if(this['_materialR'+'eferences'][_0x20ef2d]||this['_materialR'+'eferences']['push'](new Go(_0x20ef2d,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x55e419[_0x20ef2d]){const _0x128e3a=_0x55e419[_0x20ef2d]instanceof le?_0x55e419[_0x20ef2d]['id']:_0x55e419[_0x20ef2d];this['_materialR'+'eferences'][_0x20ef2d]['id']!==_0x128e3a&&(this['_materialR'+'eferences'][_0x20ef2d]['id']=_0x128e3a),this['_materialR'+'eferences'][_0x20ef2d]['asset']&&this['_onMateria'+'lAdded'](_0x20ef2d,this,this['_materialR'+'eferences'][_0x20ef2d]['asset']);}else this['_materialR'+'eferences'][_0x20ef2d]['id']=null,this['_meshInsta'+'nces'][_0x20ef2d]&&(this['_meshInsta'+'nces'][_0x20ef2d]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x346d76=>_0x346d76['id']);}set['asset'](_0x177b01){const _0x179c6e=_0x177b01 instanceof le?_0x177b01['id']:_0x177b01;this['_assetRefe'+'rence']['id']!==_0x179c6e&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x179c6e,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x2d3d1f){const _0x3cf685=_0x2d3d1f instanceof le?_0x2d3d1f['id']:_0x2d3d1f;this['_assetRefe'+'rence']['id']=_0x3cf685;}set['rootBone'](_0x278cc5){if(this['_rootBone']!==_0x278cc5){const _0x11a38e=typeof _0x278cc5=='string';if(this['_rootBone']&&_0x11a38e&&this['_rootBone']['getGuid']()===_0x278cc5)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x278cc5 instanceof De?this['_rootBone']=_0x278cc5:_0x11a38e?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x278cc5)||null,this['_rootBone']||v['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x1afcf2=this['_meshInsta'+'nces'];if(_0x1afcf2){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x3ea81d=0x10ca+-0x9+-0x10c1*0x1;_0x3ea81d<_0x1afcf2['length'];_0x3ea81d++)_0x1afcf2[_0x3ea81d]['destroy']();this['_meshInsta'+'nces']['length']=0x7fa+0x3c*0xf+-0xb7e;}}['addToLayer'+'s'](){const _0x362f76=this['system']['app']['scene']['layers'];for(let _0x5bd0fe=0x10bd+0xf6b*0x2+0x281*-0x13;_0x5bd0fe<this['_layers']['length'];_0x5bd0fe++){const _0x27a9fb=_0x362f76['getLayerBy'+'Id'](this['_layers'][_0x5bd0fe]);_0x27a9fb&&_0x27a9fb['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0xf614be=this['system']['app']['scene']['layers'];for(let _0x53334b=0x45*-0x49+-0x26a9+0x6*0x9b9;_0x53334b<this['_layers']['length'];_0x53334b++){const _0x2cff2b=_0xf614be['getLayerBy'+'Id'](this['_layers'][_0x53334b]);_0x2cff2b&&_0x2cff2b['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x2c56ee=-0x712+-0x2*-0x547+0x37c*-0x1;_0x2c56ee<this['_materialR'+'eferences']['length'];_0x2c56ee++)this['_materialR'+'eferences'][_0x2c56ee]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x1ae4c5,_0x103c22){this['addToLayer'+'s'](),_0x1ae4c5['off']('add',this['onLayerAdd'+'ed'],this),_0x1ae4c5['off']('remove',this['onLayerRem'+'oved'],this),_0x103c22['on']('add',this['onLayerAdd'+'ed'],this),_0x103c22['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5e3f7e){this['layers']['indexOf'](_0x5e3f7e['id'])<0x1*0x7db+0x11*-0x1+-0x7ca||_0x5e3f7e['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x33c899){this['layers']['indexOf'](_0x33c899['id'])<0xeb*0x8+0x2708+-0x2e60||_0x33c899['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x5a4e58;const _0xe6b472=this['system']['app'],_0xb37e50=_0xe6b472['scene'],_0x309998=_0xb37e50['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0xb37e50['on']('set:layers',this['onLayersCh'+'anged'],this),_0x309998&&(this['_evtLayerA'+'dded']=_0x309998['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x309998['on']('remove',this['onLayerRem'+'oved'],this));const _0x3676b9=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x3676b9&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x17c507=-0x18da+-0x1*0x1472+0x2d4c;_0x17c507<this['_materialR'+'eferences']['length'];_0x17c507++)this['_materialR'+'eferences'][_0x17c507]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x17c507]['asset']);this['_batchGrou'+'pId']>=0xdca+-0xfe6+0xa*0x36&&((_0x5a4e58=_0xe6b472['batcher'])==null||_0x5a4e58['insert'](et['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x5bfcfd,_0x1520d5,_0x219900,_0x30f2a9;const _0x3bf8ca=this['system']['app'],_0x44692=_0x3bf8ca['scene']['layers'];(_0x5bfcfd=this['_evtLayers'+'Changed'])==null||_0x5bfcfd['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x44692&&((_0x1520d5=this['_evtLayerA'+'dded'])==null||_0x1520d5['off'](),this['_evtLayerA'+'dded']=null,(_0x219900=this['_evtLayerR'+'emoved'])==null||_0x219900['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0xb*0x13d+-0x11d5+0x16*0x16e&&((_0x30f2a9=_0x3bf8ca['batcher'])==null||_0x30f2a9['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x19f319=-0x4d1*0x1+-0x4*-0x4a2+-0xdb7;_0x19f319<this['_meshInsta'+'nces']['length'];_0x19f319++)this['_meshInsta'+'nces'][_0x19f319]['visible']=!(0x3a*0x5b+0x23a3+-0x3840);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x5baaf5=0x915+-0x1d91+-0x45*-0x4c;_0x5baaf5<this['_meshInsta'+'nces']['length'];_0x5baaf5++)this['_meshInsta'+'nces'][_0x5baaf5]['visible']=!(0x1349*-0x1+0x159d+-0x254);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0xc2d837;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x4025d1=this['_assetRefe'+'rence']['asset']['resource'];(_0xc2d837=this['_evtSetMes'+'hes'])==null||_0xc2d837['off'](),this['_evtSetMes'+'hes']=_0x4025d1['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x4025d1['meshes']&&this['_onSetMesh'+'es'](_0x4025d1['meshes']);}}['_onSetMesh'+'es'](_0x1bc045){this['_cloneMesh'+'es'](_0x1bc045);}['_clearSkin'+'Instances'](){for(let _0x1b2137=0x42d*-0x1+-0x1*0x1e99+0x1163*0x2;_0x1b2137<this['_meshInsta'+'nces']['length'];_0x1b2137++){const _0x413ad3=this['_meshInsta'+'nces'][_0x1b2137];Vo['removeCach'+'edSkinInst'+'ance'](_0x413ad3['skinInstan'+'ce']),_0x413ad3['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof De)for(let _0x546d3f=-0x140b*0x1+0x99a+0xa71;_0x546d3f<this['_meshInsta'+'nces']['length'];_0x546d3f++){const _0x321f34=this['_meshInsta'+'nces'][_0x546d3f],_0x4a867d=_0x321f34['mesh'];_0x4a867d['skin']&&!_0x321f34['skinInstan'+'ce']&&(_0x321f34['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x4a867d['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x8a2147){if(_0x8a2147&&_0x8a2147['length']){const _0x15cac5=[];for(let _0x354a09=-0x19ca+0xc41+-0x7*-0x1ef;_0x354a09<_0x8a2147['length'];_0x354a09++){const _0x5ad695=_0x8a2147[_0x354a09],_0x5cb844=this['_materialR'+'eferences'][_0x354a09]&&this['_materialR'+'eferences'][_0x354a09]['asset']&&this['_materialR'+'eferences'][_0x354a09]['asset']['resource'],_0x47ff3d=new Le(_0x5ad695,_0x5cb844||this['system']['defaultMat'+'erial'],this['entity']);_0x15cac5['push'](_0x47ff3d),_0x5ad695['morph']&&(_0x47ff3d['morphInsta'+'nce']=new fn(_0x5ad695['morph']));}this['meshInstan'+'ces']=_0x15cac5,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x31178c;(_0x31178c=this['_evtSetMes'+'hes'])==null||_0x31178c['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x28faa9,_0x3b902c,_0x3578aa){_0x3578aa['resource']?this['_onMateria'+'lLoad'](_0x28faa9,_0x3b902c,_0x3578aa):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x3578aa);}['_updateMai'+'nMaterial'](_0x40ff36,_0x3226bf){_0x40ff36===0x1*0x3c7+-0xc4b+0x884&&(this['material']=_0x3226bf);}['_onMateria'+'lLoad'](_0x90e383,_0x1af312,_0x26a2ce){this['_meshInsta'+'nces'][_0x90e383]&&(this['_meshInsta'+'nces'][_0x90e383]['material']=_0x26a2ce['resource']),this['_updateMai'+'nMaterial'](_0x90e383,_0x26a2ce['resource']);}['_onMateria'+'lRemove'](_0x448469,_0x34c290,_0x361903){this['_meshInsta'+'nces'][_0x448469]&&(this['_meshInsta'+'nces'][_0x448469]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x448469,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x3367c2,_0xc6f0c3,_0x1dde07){this['_meshInsta'+'nces'][_0x3367c2]&&(this['_meshInsta'+'nces'][_0x3367c2]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x3367c2,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x595331,_0xd4463f){_0x595331['rootBone']&&(this['rootBone']=_0xd4463f[_0x595331['rootBone']['getGuid']()]);}}class uI{constructor(){this['enabled']=!(-0x1dab+0x2420+0x1d*-0x39);}}const pf=['enabled'],Mr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class fI extends Xe{constructor(_0x2e0a11){super(_0x2e0a11),this['id']='render',this['ComponentT'+'ype']=fx,this['DataType']=uI,this['schema']=pf,this['defaultMat'+'erial']=al(_0x2e0a11['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x44936b,_0x25534a,_0x4f6293){(_0x25534a['batchGroup'+'Id']===null||_0x25534a['batchGroup'+'Id']===void(0xb2b+-0x1*0x156a+0xa3f))&&(_0x25534a['batchGroup'+'Id']=-(-0xd*-0x18e+0x2437+-0x386c)),_0x25534a['layers']&&_0x25534a['layers']['length']&&(_0x25534a['layers']=_0x25534a['layers']['slice'](0x2590+-0x886+-0x1d0a));for(let _0x542d1f=0x1e2b+0x22bf*-0x1+0x494;_0x542d1f<Mr['length'];_0x542d1f++)_0x25534a['hasOwnProp'+'erty'](Mr[_0x542d1f])&&(_0x44936b[Mr[_0x542d1f]]=_0x25534a[Mr[_0x542d1f]]);_0x25534a['aabbCenter']&&_0x25534a['aabbHalfEx'+'tents']&&(_0x44936b['customAabb']=new _e(new T(_0x25534a['aabbCenter']),new T(_0x25534a['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x44936b,_0x25534a,pf);}['cloneCompo'+'nent'](_0x1805c1,_0x332768){const _0x1bd1dd={};for(let _0x4e3475=-0x18b0+-0x1c5+0x1a75;_0x4e3475<Mr['length'];_0x4e3475++)_0x1bd1dd[Mr[_0x4e3475]]=_0x1805c1['render'][Mr[_0x4e3475]];_0x1bd1dd['enabled']=_0x1805c1['render']['enabled'],delete _0x1bd1dd['meshInstan'+'ces'];const _0x1bcf44=this['addCompone'+'nt'](_0x332768,_0x1bd1dd),_0xbc44c6=_0x1805c1['render']['meshInstan'+'ces'],_0x462e2a=_0xbc44c6['map'](_0x350c4d=>_0x350c4d['mesh']);_0x1bcf44['_onSetMesh'+'es'](_0x462e2a);for(let _0x847293=0xb*0xad+-0x18a*0x10+0x1131;_0x847293<_0xbc44c6['length'];_0x847293++)_0x1bcf44['meshInstan'+'ces'][_0x847293]['material']=_0xbc44c6[_0x847293]['material'];return _0x1805c1['render']['customAabb']&&(_0x1bcf44['customAabb']=_0x1805c1['render']['customAabb']['clone']()),_0x1bcf44;}['onRemove'](_0x5ca0ca,_0x50535a){_0x50535a['onRemove']();}}ue['_buildAcce'+'ssors'](fx['prototype'],pf);class Zd{constructor(_0x378cf3,_0x27ea2f){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',-0x2*-0x1314+0x59*0x11+-0x2c11),(this['_construct'+'or']=_0x378cf3,this['_resize'](_0x27ea2f));}['_resize'](_0x59780f){if(_0x59780f>this['_pool']['length']){for(let _0x2ca918=this['_pool']['length'];_0x2ca918<_0x59780f;_0x2ca918++)this['_pool'][_0x2ca918]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(-0xe41*0x2+-0x92d+-0x1*-0x25b1)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0x185f+-0x2512+0x3d71;}}let Vt,xe,gs,$n;const pI=new se(),mI=new se(),Ql=new T();class $s extends ue{constructor(){super(...arguments),c(this,'_angularDa'+'mping',-0x1*0x1909+-0x107f+0x8*0x531),c(this,'_angularFa'+'ctor',new T(0x607+-0xf69+-0x1b*-0x59,-0x1*-0xa7+0x1d04+-0x1daa,0x1871+0x1ca6*-0x1+-0x21b*-0x2)),c(this,'_angularVe'+'locity',new T()),c(this,'_body',null),c(this,'_friction',-0x217c+0x249e+-0x191*0x2+0.5),c(this,'_group',og),c(this,'_linearDam'+'ping',0x1*-0x23dd+0x4*-0x928+-0x697*-0xb),c(this,'_linearFac'+'tor',new T(-0x8a7+0x11*-0x1f7+0x1*0x2a0f,0x7*0x24b+-0x99*-0x6+-0x13a2,-0x20ab+-0x1df2+0x7*0x8f2)),c(this,'_linearVel'+'ocity',new T()),c(this,'_mask',af),c(this,'_mass',-0x7c*-0x32+0x1*0x214c+-0x3983),c(this,'_restituti'+'on',-0xdfe+-0x3e*0x39+0x4a2*0x6),c(this,'_rollingFr'+'iction',0x22a8+-0x2*0xf94+-0x38*0x10),c(this,'_simulatio'+'nEnabled',!(-0x1806+0x97+0x1770)),c(this,'_type',so);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Vt=new Ammo['btTransfor'+'m'](),xe=new Ammo['btVector3'](),gs=new Ammo['btVector3'](),$n=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Vt),Ammo['destroy'](xe),Ammo['destroy'](gs),Ammo['destroy']($n),Vt=null,xe=null,gs=null,$n=null;}set['angularDam'+'ping'](_0x2fed48){this['_angularDa'+'mping']!==_0x2fed48&&(this['_angularDa'+'mping']=_0x2fed48,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x2fed48));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x3a9860){this['_angularFa'+'ctor']['equals'](_0x3a9860)||(this['_angularFa'+'ctor']['copy'](_0x3a9860),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x3a9860['x'],_0x3a9860['y'],_0x3a9860['z']),this['_body']['setAngular'+'Factor'](xe)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x12c7e2){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x12c7e2['x'],_0x12c7e2['y'],_0x12c7e2['z']),this['_body']['setAngular'+'Velocity'](xe),this['_angularVe'+'locity']['copy'](_0x12c7e2));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ms){const _0x6a7cba=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x6a7cba['x'](),_0x6a7cba['y'](),_0x6a7cba['z']());}return this['_angularVe'+'locity'];}set['body'](_0x37c07d){this['_body']!==_0x37c07d&&(this['_body']=_0x37c07d,_0x37c07d&&this['_simulatio'+'nEnabled']&&_0x37c07d['activate']());}get['body'](){return this['_body'];}set['friction'](_0x17dc79){this['_friction']!==_0x17dc79&&(this['_friction']=_0x17dc79,this['_body']&&this['_body']['setFrictio'+'n'](_0x17dc79));}get['friction'](){return this['_friction'];}set['group'](_0x186625){this['_group']!==_0x186625&&(this['_group']=_0x186625,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x39d91a){this['_linearDam'+'ping']!==_0x39d91a&&(this['_linearDam'+'ping']=_0x39d91a,this['_body']&&this['_body']['setDamping'](_0x39d91a,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x471edd){this['_linearFac'+'tor']['equals'](_0x471edd)||(this['_linearFac'+'tor']['copy'](_0x471edd),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x471edd['x'],_0x471edd['y'],_0x471edd['z']),this['_body']['setLinearF'+'actor'](xe)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x28b468){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x28b468['x'],_0x28b468['y'],_0x28b468['z']),this['_body']['setLinearV'+'elocity'](xe),this['_linearVel'+'ocity']['copy'](_0x28b468));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ms){const _0x23aa6a=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x23aa6a['x'](),_0x23aa6a['y'](),_0x23aa6a['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x5d1e72){this['_mask']!==_0x5d1e72&&(this['_mask']=_0x5d1e72,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x273663){if(this['_mass']!==_0x273663&&(this['_mass']=_0x273663,this['_body']&&this['_type']===ms)){const _0x5ef52e=this['enabled']&&this['entity']['enabled'];_0x5ef52e&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x273663,xe),this['_body']['setMassPro'+'ps'](_0x273663,xe),this['_body']['updateIner'+'tiaTensor'](),_0x5ef52e&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x10919b){this['_restituti'+'on']!==_0x10919b&&(this['_restituti'+'on']=_0x10919b,this['_body']&&this['_body']['setRestitu'+'tion'](_0x10919b));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x306b30){this['_rollingFr'+'iction']!==_0x306b30&&(this['_rollingFr'+'iction']=_0x306b30,this['_body']&&this['_body']['setRolling'+'Friction'](_0x306b30));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x4f07d4){if(this['_type']!==_0x4f07d4){switch(this['_type']=_0x4f07d4,this['disableSim'+'ulation'](),_0x4f07d4){case ms:this['_group']=tR,this['_mask']=hg;break;case Bn:this['_group']=sR,this['_mask']=hg;break;case so:default:this['_group']=og,this['_mask']=af;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x3936a3=this['entity'];let _0x15589d;if(_0x3936a3['collision']&&(_0x15589d=_0x3936a3['collision']['shape'],_0x3936a3['trigger']&&(_0x3936a3['trigger']['destroy'](),delete _0x3936a3['trigger'])),_0x15589d){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x3fd5ad=this['_type']===ms?this['_mass']:-0x18a6+-0x50b*-0x4+0x3*0x17e;this['_getEntity'+'Transform'](Vt);const _0x43727c=this['system']['createBody'](_0x3fd5ad,_0x15589d,Vt);if(_0x43727c['setRestitu'+'tion'](this['_restituti'+'on']),_0x43727c['setFrictio'+'n'](this['_friction']),_0x43727c['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x43727c['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ms){const _0x382a97=this['_linearFac'+'tor'];xe['setValue'](_0x382a97['x'],_0x382a97['y'],_0x382a97['z']),_0x43727c['setLinearF'+'actor'](xe);const _0x202b97=this['_angularFa'+'ctor'];xe['setValue'](_0x202b97['x'],_0x202b97['y'],_0x202b97['z']),_0x43727c['setAngular'+'Factor'](xe);}else this['_type']===Bn&&(_0x43727c['setCollisi'+'onFlags'](_0x43727c['getCollisi'+'onFlags']()|eR),_0x43727c['setActivat'+'ionState'](ag));_0x43727c['entity']=_0x3936a3,this['body']=_0x43727c,this['enabled']&&_0x3936a3['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0x535+0xa4c+-0xf80*0x1);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x2f658e=this['entity'];if(_0x2f658e['collision']&&_0x2f658e['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x3f5af3=this['_body'];if(_0x3f5af3){switch(this['system']['addBody'](_0x3f5af3,this['_group'],this['_mask']),this['_type']){case ms:this['system']['_dynamic']['push'](this),_0x3f5af3['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;case Bn:this['system']['_kinematic']['push'](this),_0x3f5af3['forceActiv'+'ationState'](ag);break;case so:_0x3f5af3['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;}_0x2f658e['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x2f658e['collision']),_0x3f5af3['activate'](),this['_simulatio'+'nEnabled']=!(0x1905+-0x1*0x217+0x16ee*-0x1);}}}['disableSim'+'ulation'](){const _0x3dc5be=this['_body'];if(_0x3dc5be&&this['_simulatio'+'nEnabled']){const _0x2bbcd1=this['system'];let _0x1b217e=_0x2bbcd1['_compounds']['indexOf'](this['entity']['collision']);_0x1b217e>-(0x205*0x3+-0x984+0x1*0x376)&&_0x2bbcd1['_compounds']['splice'](_0x1b217e,0x10bd*0x1+0x396+-0x2*0xa29),_0x1b217e=_0x2bbcd1['_dynamic']['indexOf'](this),_0x1b217e>-(0x614+-0x139+-0x8a*0x9)&&_0x2bbcd1['_dynamic']['splice'](_0x1b217e,-0x680+-0x9d0+-0x1051*-0x1),_0x1b217e=_0x2bbcd1['_kinematic']['indexOf'](this),_0x1b217e>-(0x7*0x4d+-0x206+-0x14)&&_0x2bbcd1['_kinematic']['splice'](_0x1b217e,0x117f+-0x1cea+0xb6c),_0x2bbcd1['removeBody'](_0x3dc5be),_0x3dc5be['forceActiv'+'ationState'](tx),this['_simulatio'+'nEnabled']=!(0x26f1+0x2016+0x1*-0x4706);}}['applyForce'](_0x2a5718,_0x5b8a96,_0x4f4b8f,_0x434104,_0x4a2d2a,_0x290787){const _0x466e07=this['_body'];_0x466e07&&(_0x466e07['activate'](),_0x2a5718 instanceof T?xe['setValue'](_0x2a5718['x'],_0x2a5718['y'],_0x2a5718['z']):xe['setValue'](_0x2a5718,_0x5b8a96,_0x4f4b8f),_0x5b8a96 instanceof T?gs['setValue'](_0x5b8a96['x'],_0x5b8a96['y'],_0x5b8a96['z']):_0x434104!==void(0x6b6+0x217f+-0x2835)?gs['setValue'](_0x434104,_0x4a2d2a,_0x290787):gs['setValue'](0x1*0x1181+0x3*-0x74c+0x463,-0x1*-0x203b+0x1*0x1a8f+-0x56*0xaf,0xc07+0x1df5+-0x14fe*0x2),_0x466e07['applyForce'](xe,gs));}['applyTorqu'+'e'](_0x57ea9d,_0x459888,_0x141aa5){const _0x4a4324=this['_body'];_0x4a4324&&(_0x4a4324['activate'](),_0x57ea9d instanceof T?xe['setValue'](_0x57ea9d['x'],_0x57ea9d['y'],_0x57ea9d['z']):xe['setValue'](_0x57ea9d,_0x459888,_0x141aa5),_0x4a4324['applyTorqu'+'e'](xe));}['applyImpul'+'se'](_0x56e3e0,_0x72e0c0,_0x357a7d,_0x4c708f,_0x46466e,_0x1c00dc){const _0x5535a9=this['_body'];_0x5535a9&&(_0x5535a9['activate'](),_0x56e3e0 instanceof T?xe['setValue'](_0x56e3e0['x'],_0x56e3e0['y'],_0x56e3e0['z']):xe['setValue'](_0x56e3e0,_0x72e0c0,_0x357a7d),_0x72e0c0 instanceof T?gs['setValue'](_0x72e0c0['x'],_0x72e0c0['y'],_0x72e0c0['z']):_0x4c708f!==void(-0x638+-0x1*-0x1367+0x5*-0x2a3)?gs['setValue'](_0x4c708f,_0x46466e,_0x1c00dc):gs['setValue'](-0x1ad5*0x1+-0x1*-0x18f5+-0x1e0*-0x1,0x6cf+-0x1*0x237c+0x3*0x98f,0x1*0x7bb+-0x69+-0x3a9*0x2),_0x5535a9['applyImpul'+'se'](xe,gs));}['applyTorqu'+'eImpulse'](_0x5be1ee,_0x296ec5,_0xa90796){const _0xbdea7b=this['_body'];_0xbdea7b&&(_0xbdea7b['activate'](),_0x5be1ee instanceof T?xe['setValue'](_0x5be1ee['x'],_0x5be1ee['y'],_0x5be1ee['z']):xe['setValue'](_0x5be1ee,_0x296ec5,_0xa90796),_0xbdea7b['applyTorqu'+'eImpulse'](xe));}['isStatic'](){return this['_type']===so;}['isStaticOr'+'Kinematic'](){return this['_type']===so||this['_type']===Bn;}['isKinemati'+'c'](){return this['_type']===Bn;}['_getEntity'+'Transform'](_0x1d52d7){const _0xf3c5d3=this['entity'],_0x560e0d=_0xf3c5d3['collision'];if(_0x560e0d){const _0x1a9eba=_0x560e0d['getShapePo'+'sition'](),_0xf2de6d=_0x560e0d['getShapeRo'+'tation']();xe['setValue'](_0x1a9eba['x'],_0x1a9eba['y'],_0x1a9eba['z']),$n['setValue'](_0xf2de6d['x'],_0xf2de6d['y'],_0xf2de6d['z'],_0xf2de6d['w']);}else{const _0x4a796c=_0xf3c5d3['getPositio'+'n'](),_0x4611bd=_0xf3c5d3['getRotatio'+'n']();xe['setValue'](_0x4a796c['x'],_0x4a796c['y'],_0x4a796c['z']),$n['setValue'](_0x4611bd['x'],_0x4611bd['y'],_0x4611bd['z'],_0x4611bd['w']);}_0x1d52d7['setOrigin'](xe),_0x1d52d7['setRotatio'+'n']($n);}['syncEntity'+'ToBody'](){const _0x4a2b97=this['_body'];if(_0x4a2b97){if(this['_getEntity'+'Transform'](Vt),_0x4a2b97['setWorldTr'+'ansform'](Vt),this['_type']===Bn){const _0x214842=_0x4a2b97['getMotionS'+'tate']();_0x214842&&_0x214842['setWorldTr'+'ansform'](Vt);}_0x4a2b97['activate']();}}['_updateDyn'+'amic'](){const _0x27c213=this['_body'];if(_0x27c213['isActive']()){const _0x34ace3=_0x27c213['getMotionS'+'tate']();if(_0x34ace3){const _0x6eaa3f=this['entity'];_0x34ace3['getWorldTr'+'ansform'](Vt);const _0x218c66=Vt['getOrigin'](),_0x59cafd=Vt['getRotatio'+'n'](),_0x4ab003=_0x6eaa3f['collision'];if(_0x4ab003&&_0x4ab003['_hasOffset']){const _0x250ec9=_0x4ab003['data']['linearOffs'+'et'],_0x9851b3=_0x4ab003['data']['angularOff'+'set'],_0x8c2043=mI['copy'](_0x9851b3)['invert'](),_0x1f956e=pI['set'](_0x59cafd['x'](),_0x59cafd['y'](),_0x59cafd['z'](),_0x59cafd['w']())['mul'](_0x8c2043);_0x1f956e['transformV'+'ector'](_0x250ec9,Ql),_0x6eaa3f['setPositio'+'n'](_0x218c66['x']()-Ql['x'],_0x218c66['y']()-Ql['y'],_0x218c66['z']()-Ql['z']),_0x6eaa3f['setRotatio'+'n'](_0x1f956e);}else _0x6eaa3f['setPositio'+'n'](_0x218c66['x'](),_0x218c66['y'](),_0x218c66['z']()),_0x6eaa3f['setRotatio'+'n'](_0x59cafd['x'](),_0x59cafd['y'](),_0x59cafd['z'](),_0x59cafd['w']());}}}['_updateKin'+'ematic'](){const _0x3010f4=this['_body']['getMotionS'+'tate']();_0x3010f4&&(this['_getEntity'+'Transform'](Vt),_0x3010f4['setWorldTr'+'ansform'](Vt));}['teleport'](_0x5927d1,_0xbe5f0d,_0x37b7b0,_0x254f81,_0x584ed3,_0x159521){_0x5927d1 instanceof T?this['entity']['setPositio'+'n'](_0x5927d1):this['entity']['setPositio'+'n'](_0x5927d1,_0xbe5f0d,_0x37b7b0),_0xbe5f0d instanceof se?this['entity']['setRotatio'+'n'](_0xbe5f0d):_0xbe5f0d instanceof T?this['entity']['setEulerAn'+'gles'](_0xbe5f0d):_0x254f81!==void(-0x33a+-0x16*0x4d+0x5a*0x1c)&&this['entity']['setEulerAn'+'gles'](_0x254f81,_0x584ed3,_0x159521),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c($s,'EVENT_CONT'+'ACT','contact'),c($s,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c($s,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c($s,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c($s,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c($s,'order',-(0x8db+-0xe*0x284+-0x5*-0x546));class _I{constructor(){this['enabled']=!(0x1e23+-0x2056+0x233);}}let ai,oi;class xg{constructor(_0x483e64,_0x986563,_0x169943,_0x59fa42){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x483e64,this['point']=_0x986563,this['normal']=_0x169943,this['hitFractio'+'n']=_0x59fa42);}}class gI{constructor(_0x3f8dea,_0x26f534,_0x5aaca5){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==-0x1929+0x1831+0x1f*0x8?(this['a']=_0x3f8dea,this['b']=_0x26f534,this['impulse']=_0x5aaca5['impulse'],this['localPoint'+'A']=_0x5aaca5['localPoint'],this['localPoint'+'B']=_0x5aaca5['localPoint'+'Other'],this['pointA']=_0x5aaca5['point'],this['pointB']=_0x5aaca5['pointOther'],this['normal']=_0x5aaca5['normal']):(this['a']=null,this['b']=null,this['impulse']=-0x3c*0x2+-0x23cf+0x2447,this['localPoint'+'A']=new T(),this['localPoint'+'B']=new T(),this['pointA']=new T(),this['pointB']=new T(),this['normal']=new T());}}class yI{constructor(_0x3800ed=new T(),_0x5b429c=new T(),_0x4f5c02=new T(),_0x4b998d=new T(),_0x38c9aa=new T(),_0x442594=-0x857+-0x1cbe+0xb*0x35f){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x3800ed,this['localPoint'+'Other']=_0x5b429c,this['point']=_0x4f5c02,this['pointOther']=_0x4b998d,this['normal']=_0x38c9aa,this['impulse']=_0x442594);}}class xI{constructor(_0x4ee4c1,_0x4f32b1){c(this,'other'),c(this,'contacts'),(this['other']=_0x4ee4c1,this['contacts']=_0x4f32b1);}}const px=['enabled'];class mx extends Xe{constructor(_0x17be55){super(_0x17be55),c(this,'maxSubStep'+'s',-0x1b98+0xaf1+-0x10b1*-0x1),c(this,'fixedTimeS'+'tep',(-0x273*-0x9+-0x14fd+0x10d*-0x1)/(0x1*0xdf1+-0x24fa+0x17*0x103)),c(this,'gravity',new T(0x22de+-0x1055+-0x1289,-(-0x19a7+-0x16ce+-0x1*-0x307e+0.8100000000000005),-0x1799*0x1+0xd*0x3d+0x1480)),c(this,'_gravityFl'+'oat32',new Float32Array(0x41+-0x89a+0x85c)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x17be55['stats']['frame'],this['ComponentT'+'ype']=$s,this['DataType']=_I,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=px,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x44ccd4=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x44ccd4);}else v['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');ai=new Ammo['btVector3'](),oi=new Ammo['btVector3'](),$s['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new Zd(yI,-0x17f5+0xb9b*0x3+-0x18d*0x7),this['contactRes'+'ultPool']=new Zd(xI,-0x1e73+-0x16b5*-0x1+0x3*0x295),this['singleCont'+'actResultP'+'ool']=new Zd(gI,-0x1120*-0x1+0x5*0x20b+-0x2*0xdab),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x33d4e4,_0x532db1,_0x15354c){const _0x52cc5a=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x2af370 of _0x52cc5a)if(_0x532db1['hasOwnProp'+'erty'](_0x2af370)){const _0x5abe5b=_0x532db1[_0x2af370];Array['isArray'](_0x5abe5b)?_0x33d4e4[_0x2af370]=new T(_0x5abe5b[0xadc+0x9*-0xc5+-0x1*0x3ef],_0x5abe5b[-0x2547*0x1+0x1989+0xbbf],_0x5abe5b[0x1*0x805+-0x836*-0x1+-0x1*0x1039]):_0x33d4e4[_0x2af370]=_0x5abe5b;}super['initialize'+'ComponentD'+'ata'](_0x33d4e4,_0x532db1,['enabled']);}['cloneCompo'+'nent'](_0x1abaf8,_0x2bfa09){const _0x1d3f8=_0x1abaf8['rigidbody'],_0x159a49={'enabled':_0x1d3f8['enabled'],'mass':_0x1d3f8['mass'],'linearDamping':_0x1d3f8['linearDamp'+'ing'],'angularDamping':_0x1d3f8['angularDam'+'ping'],'linearFactor':[_0x1d3f8['linearFact'+'or']['x'],_0x1d3f8['linearFact'+'or']['y'],_0x1d3f8['linearFact'+'or']['z']],'angularFactor':[_0x1d3f8['angularFac'+'tor']['x'],_0x1d3f8['angularFac'+'tor']['y'],_0x1d3f8['angularFac'+'tor']['z']],'friction':_0x1d3f8['friction'],'rollingFriction':_0x1d3f8['rollingFri'+'ction'],'restitution':_0x1d3f8['restitutio'+'n'],'type':_0x1d3f8['type'],'group':_0x1d3f8['group'],'mask':_0x1d3f8['mask']};return this['addCompone'+'nt'](_0x2bfa09,_0x159a49);}['onBeforeRe'+'move'](_0x24c223,_0x490a18){_0x490a18['enabled']&&(_0x490a18['enabled']=!(-0x6ee*-0x1+-0x1259+0x56*0x22)),_0x490a18['body']&&(this['destroyBod'+'y'](_0x490a18['body']),_0x490a18['body']=null);}['addBody'](_0x2a3e36,_0x318217,_0x3bbaaa){_0x318217!==void(0x85+-0x1bf2+-0x77*-0x3b)&&_0x3bbaaa!==void(-0xe76*0x2+0x97*-0x5+0x1fdf)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x2a3e36,_0x318217,_0x3bbaaa):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x2a3e36);}['removeBody'](_0x506859){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x506859);}['createBody'](_0x1d9efc,_0xed26a,_0x5d0fe9){const _0x1cc5c5=new Ammo['btVector3'](-0x652+-0x9f+0x6f1,0x8fb+0x32e*-0xa+0x16d1,-0x1*-0x1c6d+0x527*0x4+-0x1*0x3109);_0x1d9efc!==-0x1*-0x4e4+-0x16*0xcc+0xca4&&_0xed26a['calculateL'+'ocalInerti'+'a'](_0x1d9efc,_0x1cc5c5);const _0x2ccbfd=new Ammo['btDefaultM'+'otionState'](_0x5d0fe9),_0x86e5f2=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x1d9efc,_0x2ccbfd,_0xed26a,_0x1cc5c5),_0x52eb46=new Ammo['btRigidBod'+'y'](_0x86e5f2);return Ammo['destroy'](_0x86e5f2),Ammo['destroy'](_0x1cc5c5),_0x52eb46;}['destroyBod'+'y'](_0x193ba0){const _0x111725=_0x193ba0['getMotionS'+'tate']();_0x111725&&Ammo['destroy'](_0x111725),Ammo['destroy'](_0x193ba0);}['raycastFir'+'st'](_0x429a5f,_0x305c7a,_0x17a6eb={}){if(_0x17a6eb['filterTags']||_0x17a6eb['filterCall'+'back'])return _0x17a6eb['sort']=!(-0x1*0xc1a+-0x8e4+-0x2*-0xa7f),this['raycastAll'](_0x429a5f,_0x305c7a,_0x17a6eb)[0xe*-0xac+-0xba6*0x2+0x20b4]||null;let _0x339fd0=null;ai['setValue'](_0x429a5f['x'],_0x429a5f['y'],_0x429a5f['z']),oi['setValue'](_0x305c7a['x'],_0x305c7a['y'],_0x305c7a['z']);const _0x466ce5=new Ammo['ClosestRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x17a6eb['filterColl'+'isionGroup']=='number'&&_0x466ce5['set_m_coll'+'isionFilte'+'rGroup'](_0x17a6eb['filterColl'+'isionGroup']),typeof _0x17a6eb['filterColl'+'isionMask']=='number'&&_0x466ce5['set_m_coll'+'isionFilte'+'rMask'](_0x17a6eb['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x466ce5),_0x466ce5['hasHit']()){const _0x195f4e=_0x466ce5['get_m_coll'+'isionObjec'+'t'](),_0x1b3df5=Ammo['castObject'](_0x195f4e,Ammo['btRigidBod'+'y']);if(_0x1b3df5){const _0x5b5d8f=_0x466ce5['get_m_hitP'+'ointWorld'](),_0x49acee=_0x466ce5['get_m_hitN'+'ormalWorld']();_0x339fd0=new xg(_0x1b3df5['entity'],new T(_0x5b5d8f['x'](),_0x5b5d8f['y'](),_0x5b5d8f['z']()),new T(_0x49acee['x'](),_0x49acee['y'](),_0x49acee['z']()),_0x466ce5['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x466ce5),_0x339fd0;}['raycastAll'](_0xce08c4,_0x391154,_0xf131c4={}){v['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x357e1b=[];ai['setValue'](_0xce08c4['x'],_0xce08c4['y'],_0xce08c4['z']),oi['setValue'](_0x391154['x'],_0x391154['y'],_0x391154['z']);const _0x26d5d8=new Ammo['AllHitsRay'+'ResultCall'+'back'](ai,oi);if(typeof _0xf131c4['filterColl'+'isionGroup']=='number'&&_0x26d5d8['set_m_coll'+'isionFilte'+'rGroup'](_0xf131c4['filterColl'+'isionGroup']),typeof _0xf131c4['filterColl'+'isionMask']=='number'&&_0x26d5d8['set_m_coll'+'isionFilte'+'rMask'](_0xf131c4['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x26d5d8),_0x26d5d8['hasHit']()){const _0x28bdab=_0x26d5d8['get_m_coll'+'isionObjec'+'ts'](),_0x144dba=_0x26d5d8['get_m_hitP'+'ointWorld'](),_0x6badb9=_0x26d5d8['get_m_hitN'+'ormalWorld'](),_0x20c00a=_0x26d5d8['get_m_hitF'+'ractions'](),_0x1977b8=_0x28bdab['size']();for(let _0x280947=0x1*0x1dbf+0x1375+-0x3134;_0x280947<_0x1977b8;_0x280947++){const _0x3f195b=Ammo['castObject'](_0x28bdab['at'](_0x280947),Ammo['btRigidBod'+'y']);if(_0x3f195b&&_0x3f195b['entity']){if(_0xf131c4['filterTags']&&!_0x3f195b['entity']['tags']['has'](..._0xf131c4['filterTags'])||_0xf131c4['filterCall'+'back']&&!_0xf131c4['filterCall'+'back'](_0x3f195b['entity']))continue;const _0x55c7c0=_0x144dba['at'](_0x280947),_0x3be662=_0x6badb9['at'](_0x280947),_0x4cb551=new xg(_0x3f195b['entity'],new T(_0x55c7c0['x'](),_0x55c7c0['y'](),_0x55c7c0['z']()),new T(_0x3be662['x'](),_0x3be662['y'](),_0x3be662['z']()),_0x20c00a['at'](_0x280947));_0x357e1b['push'](_0x4cb551);}}_0xf131c4['sort']&&_0x357e1b['sort']((_0x20a24c,_0x383f29)=>_0x20a24c['hitFractio'+'n']-_0x383f29['hitFractio'+'n']);}return Ammo['destroy'](_0x26d5d8),_0x357e1b;}['_storeColl'+'ision'](_0x3f2e8c,_0x38f46c){let _0x234926=!(-0x19cc+-0xf11*-0x2+-0x455);const _0x2c8e25=_0x3f2e8c['getGuid']();return this['collisions'][_0x2c8e25]=this['collisions'][_0x2c8e25]||{'others':[],'entity':_0x3f2e8c},this['collisions'][_0x2c8e25]['others']['indexOf'](_0x38f46c)<0x26c9*-0x1+0xe32*0x1+0x1897&&(this['collisions'][_0x2c8e25]['others']['push'](_0x38f46c),_0x234926=!(0x190+-0x249*0x7+0xe6f)),this['frameColli'+'sions'][_0x2c8e25]=this['frameColli'+'sions'][_0x2c8e25]||{'others':[],'entity':_0x3f2e8c},this['frameColli'+'sions'][_0x2c8e25]['others']['push'](_0x38f46c),_0x234926;}['_createCon'+'tactPointF'+'romAmmo'](_0x59bae1){const _0x4352b3=_0x59bae1['get_m_loca'+'lPointA'](),_0x52703f=_0x59bae1['get_m_loca'+'lPointB'](),_0x19fd8b=_0x59bae1['getPositio'+'nWorldOnA'](),_0x59c195=_0x59bae1['getPositio'+'nWorldOnB'](),_0x564723=_0x59bae1['get_m_norm'+'alWorldOnB'](),_0x46399a=this['contactPoi'+'ntPool']['allocate']();return _0x46399a['localPoint']['set'](_0x4352b3['x'](),_0x4352b3['y'](),_0x4352b3['z']()),_0x46399a['localPoint'+'Other']['set'](_0x52703f['x'](),_0x52703f['y'](),_0x52703f['z']()),_0x46399a['point']['set'](_0x19fd8b['x'](),_0x19fd8b['y'](),_0x19fd8b['z']()),_0x46399a['pointOther']['set'](_0x59c195['x'](),_0x59c195['y'](),_0x59c195['z']()),_0x46399a['normal']['set'](_0x564723['x'](),_0x564723['y'](),_0x564723['z']()),_0x46399a['impulse']=_0x59bae1['getApplied'+'Impulse'](),_0x46399a;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x2b4bd7){const _0x510e1f=_0x2b4bd7['get_m_loca'+'lPointA'](),_0x295251=_0x2b4bd7['get_m_loca'+'lPointB'](),_0x292cab=_0x2b4bd7['getPositio'+'nWorldOnA'](),_0x138450=_0x2b4bd7['getPositio'+'nWorldOnB'](),_0x3f0e2b=_0x2b4bd7['get_m_norm'+'alWorldOnB'](),_0x1720ad=this['contactPoi'+'ntPool']['allocate']();return _0x1720ad['localPoint'+'Other']['set'](_0x510e1f['x'](),_0x510e1f['y'](),_0x510e1f['z']()),_0x1720ad['localPoint']['set'](_0x295251['x'](),_0x295251['y'](),_0x295251['z']()),_0x1720ad['pointOther']['set'](_0x292cab['x'](),_0x292cab['y'](),_0x292cab['z']()),_0x1720ad['point']['set'](_0x138450['x'](),_0x138450['y'](),_0x138450['z']()),_0x1720ad['normal']['set'](_0x3f0e2b['x'](),_0x3f0e2b['y'](),_0x3f0e2b['z']()),_0x1720ad['impulse']=_0x2b4bd7['getApplied'+'Impulse'](),_0x1720ad;}['_createSin'+'gleContact'+'Result'](_0x35f841,_0x3fa258,_0x4709bb){const _0x2d9f05=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x2d9f05['a']=_0x35f841,_0x2d9f05['b']=_0x3fa258,_0x2d9f05['localPoint'+'A']=_0x4709bb['localPoint'],_0x2d9f05['localPoint'+'B']=_0x4709bb['localPoint'+'Other'],_0x2d9f05['pointA']=_0x4709bb['point'],_0x2d9f05['pointB']=_0x4709bb['pointOther'],_0x2d9f05['normal']=_0x4709bb['normal'],_0x2d9f05['impulse']=_0x4709bb['impulse'],_0x2d9f05;}['_createCon'+'tactResult'](_0x14cca7,_0x4bcb66){const _0x5395fe=this['contactRes'+'ultPool']['allocate']();return _0x5395fe['other']=_0x14cca7,_0x5395fe['contacts']=_0x4bcb66,_0x5395fe;}['_cleanOldC'+'ollisions'](){for(const _0x44eccb in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x44eccb)){const _0x2ea6ff=this['frameColli'+'sions'][_0x44eccb],_0x227c2a=this['collisions'][_0x44eccb],_0x2a6901=_0x227c2a['entity'],_0x37d831=_0x2a6901['collision'],_0x301c0e=_0x2a6901['rigidbody'],_0x4bdb0e=_0x227c2a['others'];let _0x4bcec2=_0x4bdb0e['length'];for(;_0x4bcec2--;){const _0x361479=_0x4bdb0e[_0x4bcec2];(!_0x2ea6ff||_0x2ea6ff['others']['indexOf'](_0x361479)<-0x25f4+0x12b7+-0x133d*-0x1)&&(_0x4bdb0e['splice'](_0x4bcec2,0x1*-0x407+0x18b4+-0xc4*0x1b),_0x2a6901['trigger']?(_0x37d831&&_0x37d831['fire']('triggerlea'+'ve',_0x361479),_0x361479['rigidbody']&&_0x361479['rigidbody']['fire']('triggerlea'+'ve',_0x2a6901)):_0x361479['trigger']||(_0x301c0e&&_0x301c0e['fire']('collisione'+'nd',_0x361479),_0x37d831&&_0x37d831['fire']('collisione'+'nd',_0x361479)));}_0x4bdb0e['length']===-0xe41*0x2+0x1*0x1d5d+-0xdb&&delete this['collisions'][_0x44eccb];}}['_hasContac'+'tEvent'](_0x42679e){const _0x3d92e7=_0x42679e['collision'];if(_0x3d92e7&&(_0x3d92e7['hasEvent']('collisions'+'tart')||_0x3d92e7['hasEvent']('collisione'+'nd')||_0x3d92e7['hasEvent']('contact')))return!(0x25f9+-0x1e30+0x1*-0x7c9);const _0x1e469e=_0x42679e['rigidbody'];return _0x1e469e&&(_0x1e469e['hasEvent']('collisions'+'tart')||_0x1e469e['hasEvent']('collisione'+'nd')||_0x1e469e['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x57404b,_0x6a671c){const _0x147d4a=Ammo['wrapPointe'+'r'](_0x57404b,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x407122=_0x147d4a['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x2c2b86=-0x1*0x10a5+0x1*-0xa7b+0x364*0x8;_0x2c2b86<_0x407122;_0x2c2b86++){const _0x2082b2=_0x147d4a['getManifol'+'dByIndexIn'+'ternal'](_0x2c2b86),_0x2abd01=_0x2082b2['getBody0'](),_0x38a428=_0x2082b2['getBody1'](),_0x5bfe81=Ammo['castObject'](_0x2abd01,Ammo['btRigidBod'+'y']),_0x4944bb=Ammo['castObject'](_0x38a428,Ammo['btRigidBod'+'y']),_0x3fe0bb=_0x5bfe81['entity'],_0x272f97=_0x4944bb['entity'];if(!_0x3fe0bb||!_0x272f97)continue;const _0x1ee1aa=_0x5bfe81['getCollisi'+'onFlags'](),_0x2a134c=_0x4944bb['getCollisi'+'onFlags'](),_0x2e6b1f=_0x2082b2['getNumCont'+'acts'](),_0x23f829=[],_0x4f57c6=[];let _0x4d2155;if(_0x2e6b1f>0x770+-0x2*-0x78d+-0x168a){if(_0x1ee1aa&lo||_0x2a134c&lo){const _0x426d7b=_0x3fe0bb['collision']&&(_0x3fe0bb['collision']['hasEvent']('triggerent'+'er')||_0x3fe0bb['collision']['hasEvent']('triggerlea'+'ve')),_0x7dfa02=_0x272f97['collision']&&(_0x272f97['collision']['hasEvent']('triggerent'+'er')||_0x272f97['collision']['hasEvent']('triggerlea'+'ve')),_0x27cf00=_0x3fe0bb['rigidbody']&&(_0x3fe0bb['rigidbody']['hasEvent']('triggerent'+'er')||_0x3fe0bb['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x507338=_0x272f97['rigidbody']&&(_0x272f97['rigidbody']['hasEvent']('triggerent'+'er')||_0x272f97['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x426d7b&&(_0x4d2155=this['_storeColl'+'ision'](_0x3fe0bb,_0x272f97),_0x4d2155&&!(_0x2a134c&lo)&&_0x3fe0bb['collision']['fire']('triggerent'+'er',_0x272f97)),_0x7dfa02&&(_0x4d2155=this['_storeColl'+'ision'](_0x272f97,_0x3fe0bb),_0x4d2155&&!(_0x1ee1aa&lo)&&_0x272f97['collision']['fire']('triggerent'+'er',_0x3fe0bb)),_0x27cf00&&(_0x4d2155||(_0x4d2155=this['_storeColl'+'ision'](_0x272f97,_0x3fe0bb)),_0x4d2155&&_0x3fe0bb['rigidbody']['fire']('triggerent'+'er',_0x272f97)),_0x507338&&(_0x4d2155||(_0x4d2155=this['_storeColl'+'ision'](_0x3fe0bb,_0x272f97)),_0x4d2155&&_0x272f97['rigidbody']['fire']('triggerent'+'er',_0x3fe0bb));}else{const _0x43fb76=this['_hasContac'+'tEvent'](_0x3fe0bb),_0x24575d=this['_hasContac'+'tEvent'](_0x272f97),_0x5e3336=this['hasEvent']('contact');if(_0x5e3336||_0x43fb76||_0x24575d){for(let _0x24fb92=0x1*0x1cd7+-0x1c2+-0x1b15;_0x24fb92<_0x2e6b1f;_0x24fb92++){const _0x3a80f5=_0x2082b2['getContact'+'Point'](_0x24fb92),_0x129382=this['_createCon'+'tactPointF'+'romAmmo'](_0x3a80f5);if(_0x43fb76||_0x24575d){_0x23f829['push'](_0x129382);const _0x503d9f=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x3a80f5);_0x4f57c6['push'](_0x503d9f);}if(_0x5e3336){const _0x5dc6ac=this['_createSin'+'gleContact'+'Result'](_0x3fe0bb,_0x272f97,_0x129382);this['fire']('contact',_0x5dc6ac);}}if(_0x43fb76){const _0x59d5de=this['_createCon'+'tactResult'](_0x272f97,_0x23f829);_0x4d2155=this['_storeColl'+'ision'](_0x3fe0bb,_0x272f97),_0x3fe0bb['collision']&&(_0x3fe0bb['collision']['fire']('contact',_0x59d5de),_0x4d2155&&_0x3fe0bb['collision']['fire']('collisions'+'tart',_0x59d5de)),_0x3fe0bb['rigidbody']&&(_0x3fe0bb['rigidbody']['fire']('contact',_0x59d5de),_0x4d2155&&_0x3fe0bb['rigidbody']['fire']('collisions'+'tart',_0x59d5de));}if(_0x24575d){const _0x63dd62=this['_createCon'+'tactResult'](_0x3fe0bb,_0x4f57c6);_0x4d2155=this['_storeColl'+'ision'](_0x272f97,_0x3fe0bb),_0x272f97['collision']&&(_0x272f97['collision']['fire']('contact',_0x63dd62),_0x4d2155&&_0x272f97['collision']['fire']('collisions'+'tart',_0x63dd62)),_0x272f97['rigidbody']&&(_0x272f97['rigidbody']['fire']('contact',_0x63dd62),_0x4d2155&&_0x272f97['rigidbody']['fire']('collisions'+'tart',_0x63dd62));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x158a1a){let _0x199da4,_0x213d7f;this['_stats']['physicsSta'+'rt']=ne(),this['_gravityFl'+'oat32'][0xe3*0x6+-0x3*0x115+-0x213]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0xd*-0x1ff+0x6c7+-0x20b9]=this['gravity']['y'],this['_gravityFl'+'oat32'][0x5*-0x3ec+0x2*0x7ef+0x4*0xf0]=this['gravity']['z'];const _0x550d49=this['dynamicsWo'+'rld']['getGravity']();(_0x550d49['x']()!==this['_gravityFl'+'oat32'][-0x38*-0xa+-0xbf*0x5+0x18b]||_0x550d49['y']()!==this['_gravityFl'+'oat32'][0x25f2+-0xf*0x18b+-0x766*0x2]||_0x550d49['z']()!==this['_gravityFl'+'oat32'][0x2e5+0x12d9+-0x15bc])&&(_0x550d49['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x550d49));const _0x9800d0=this['_triggers'];for(_0x199da4=-0x2243*0x1+0x1cd7+0x56c,_0x213d7f=_0x9800d0['length'];_0x199da4<_0x213d7f;_0x199da4++)_0x9800d0[_0x199da4]['updateTran'+'sform']();const _0xa1a704=this['_compounds'];for(_0x199da4=0x1f19+0x1dcf*-0x1+-0x1*0x14a,_0x213d7f=_0xa1a704['length'];_0x199da4<_0x213d7f;_0x199da4++)_0xa1a704[_0x199da4]['_updateCom'+'pound']();const _0x302f97=this['_kinematic'];for(_0x199da4=-0x1*0x138+0x1*0x2099+0x1*-0x1f61,_0x213d7f=_0x302f97['length'];_0x199da4<_0x213d7f;_0x199da4++)_0x302f97[_0x199da4]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x158a1a,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0xcabcca=this['_dynamic'];for(_0x199da4=-0xc07+-0x1e0a+0x2a11,_0x213d7f=_0xcabcca['length'];_0x199da4<_0x213d7f;_0x199da4++)_0xcabcca[_0x199da4]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x158a1a),this['_stats']['physicsTim'+'e']=ne()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](ai),Ammo['destroy'](oi),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,ai=null,oi=null,$s['onAppDestr'+'oy']());}}c(mx,'EVENT_CONT'+'ACT','contact'),ue['_buildAcce'+'ssors']($s['prototype'],px);const Wn='none',SI='blend',Sg=new q();class _x extends ue{constructor(_0xe78364,_0x2330aa){super(_0xe78364,_0x2330aa),this['_resolutio'+'n']=new $(0x1*0x2059+-0x254d+0x774,0x269a+0x1cfc+-0x4256),this['_reference'+'Resolution']=new $(0x18b3+-0x3*0x985+-0x197*-0x4,-0x1433*-0x1+0xfab+-0x2a*0xd3),this['_scaleMode']=Wn,this['scale']=0x1272+-0xf91+-0x2*0x170,this['_scaleBlen'+'d']=-0x1*-0x19d3+-0x42*0x1+-0x5*0x51d+0.5,this['_priority']=-0x132b+-0x5*-0x61+0x1146,this['_screenSpa'+'ce']=!(0x2*0x1a3+0x1*-0x146c+0x1*0x1127),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0xe78364['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x4de0d1,_0x566046){var _0x27ce8f;if(!(_0x4de0d1 instanceof $e))return _0x566046;if(_0x4de0d1['element']){const _0x4735c5=_0x4de0d1['element']['drawOrder'];_0x4de0d1['element']['drawOrder']=_0x566046++,_0x4de0d1['element']['_batchGrou'+'pId']>=0xcb*0x19+-0x12fd+-0xd6&&_0x4735c5!==_0x4de0d1['element']['drawOrder']&&((_0x27ce8f=this['system']['app']['batcher'])==null||_0x27ce8f['markGroupD'+'irty'](_0x4de0d1['element']['_batchGrou'+'pId']));}_0x4de0d1['particlesy'+'stem']&&(_0x4de0d1['particlesy'+'stem']['drawOrder']=_0x566046++);const _0x1b45d0=_0x4de0d1['children'];for(let _0xfcbe1c=0x2*-0xaca+-0x6*-0x8+0x1564;_0xfcbe1c<_0x1b45d0['length'];_0xfcbe1c++)_0x566046=this['_recurseDr'+'awOrderSyn'+'c'](_0x1b45d0[_0xfcbe1c],_0x566046);return _0x566046;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0x705*0x5+0x786*-0x5+0x48b8),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0xe2757f=this['_resolutio'+'n']['x']/this['scale'],_0xeab02d=this['_resolutio'+'n']['y']/this['scale'],_0x2b0169=-0x24aa+-0x3f1*0x2+-0xb23*-0x4,_0x19a8ed=_0xe2757f,_0x4f8c14=-_0xeab02d;this['_screenMat'+'rix']['setOrtho'](_0x2b0169,_0x19a8ed,_0x4f8c14,-0x22af+-0x13*0x14b+0x3b40,-0x1*0x1a69+-0x10b8+0x2b22,-(0x24e9*-0x1+0x26eb+-0x201)),this['_screenSpa'+'ce']||(Sg['setScale']((-0x1fa1+-0x1edd+-0x3e7e*-0x1+0.5)*_0xe2757f,(0xf34+0x585*-0x1+-0x1*0x9af+0.5)*_0xeab02d,-0x15ee+0x2*-0xba8+0x27*0x129),this['_screenMat'+'rix']['mul2'](Sg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x351d25,_0x58f035){const _0x5aed41=Math['log2']((_0x351d25['x']||-0x2*0x7ef+-0x1*0xd19+0x1cf8)/_0x58f035['x']),_0x4ffb79=Math['log2']((_0x351d25['y']||0x20f2*-0x1+0xb95+0x155e)/_0x58f035['y']);return Math['pow'](-0x1b94+0x1b*-0x17+0x3*0xa01,_0x5aed41*(-0x1*-0x1302+-0x2df+-0x1022-this['_scaleBlen'+'d'])+_0x4ffb79*this['_scaleBlen'+'d']);}['_onResize'](_0x3844fe,_0x678b58){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x3844fe,_0x678b58),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x5aefe8){this['_elements']['add'](_0x5aefe8);}['_unbindEle'+'ment'](_0x38ad79){this['_elements']['delete'](_0x38ad79);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x3b51ae=>_0x3b51ae['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x134ee3){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x134ee3['x'],_0x134ee3['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x4341a9=>_0x4341a9['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x16be34){this['_reference'+'Resolution']['set'](_0x16be34['x'],_0x16be34['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x413bbd=>_0x413bbd['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Wn?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x230af8){this['_screenSpa'+'ce']=_0x230af8,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x434540=>_0x434540['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x34fd82){_0x34fd82!==Wn&&_0x34fd82!==SI&&(_0x34fd82=Wn),!this['_screenSpa'+'ce']&&_0x34fd82!==Wn&&(_0x34fd82=Wn),this['_scaleMode']=_0x34fd82,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x4e3bfa){this['_scaleBlen'+'d']=_0x4e3bfa,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x30fa6f=>_0x30fa6f['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x583d2e){_0x583d2e>-0x1*0x3ca+0xa2d*-0x1+0xef6&&(v['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x583d2e+'\x20to\x20255'),_0x583d2e=-0x11aa+-0x2472+-0x371b*-0x1),this['_priority']!==_0x583d2e&&(this['_priority']=_0x583d2e,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class vI{constructor(){this['enabled']=!(-0x1324+-0x6b3+0x19d7);}}const mf=['enabled'];class bI extends Xe{constructor(_0x407885){super(_0x407885),this['id']='screen',this['ComponentT'+'ype']=_x,this['DataType']=vI,this['schema']=mf,this['windowReso'+'lution']=new $(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x432fe5,_0x1c045d,_0x5e2bb4){_0x1c045d['priority']!==void(0x1efe+0x1300+-0x31fe)&&(_0x432fe5['priority']=_0x1c045d['priority']),_0x1c045d['screenSpac'+'e']!==void(-0x1355+0x1*0x1b61+-0x80c)&&(_0x432fe5['screenSpac'+'e']=_0x1c045d['screenSpac'+'e']),_0x432fe5['cull']=_0x432fe5['screenSpac'+'e'],_0x1c045d['scaleMode']!==void(0x1184+0x22*0x9d+-0x265e)&&(_0x432fe5['scaleMode']=_0x1c045d['scaleMode']),_0x1c045d['scaleBlend']!==void(0x1*-0x2d1+0x117d+0x6*-0x272)&&(_0x432fe5['scaleBlend']=_0x1c045d['scaleBlend']),_0x1c045d['resolution']!==void(0x2331+-0x255*-0x3+-0x2a30)&&(_0x1c045d['resolution']instanceof $?_0x432fe5['_resolutio'+'n']['copy'](_0x1c045d['resolution']):_0x432fe5['_resolutio'+'n']['set'](_0x1c045d['resolution'][-0x9be+0x1a6b+-0x1*0x10ad],_0x1c045d['resolution'][0x1503+0x1*-0xc82+0x20*-0x44]),_0x432fe5['resolution']=_0x432fe5['_resolutio'+'n']),_0x1c045d['referenceR'+'esolution']!==void(-0x2153+-0xc*0x4+0x17*0x175)&&(_0x1c045d['referenceR'+'esolution']instanceof $?_0x432fe5['_reference'+'Resolution']['copy'](_0x1c045d['referenceR'+'esolution']):_0x432fe5['_reference'+'Resolution']['set'](_0x1c045d['referenceR'+'esolution'][-0x2550+0xf*-0x277+0x9*0x841],_0x1c045d['referenceR'+'esolution'][0x1*0x6b+-0x1ddc+0x1d72]),_0x432fe5['referenceR'+'esolution']=_0x432fe5['_reference'+'Resolution']),_0x432fe5['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x432fe5,_0x1c045d,mf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x407428){const _0x89f001=this['store'];for(const _0x1be16e in _0x89f001)_0x89f001[_0x1be16e]['entity']['screen']['update']&&_0x89f001[_0x1be16e]['entity']['screen']['update'](_0x407428);}['_onResize'](_0x16ff8a,_0x6971b5){this['windowReso'+'lution']['x']=_0x16ff8a,this['windowReso'+'lution']['y']=_0x6971b5;}['cloneCompo'+'nent'](_0x5916cb,_0x56ce50){const _0x3f2fa1=_0x5916cb['screen'];return this['addCompone'+'nt'](_0x56ce50,{'enabled':_0x3f2fa1['enabled'],'screenSpace':_0x3f2fa1['screenSpac'+'e'],'scaleMode':_0x3f2fa1['scaleMode'],'resolution':_0x3f2fa1['resolution']['clone'](),'referenceResolution':_0x3f2fa1['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x23105b,_0x2091ff){_0x2091ff['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x2cf410=this['_drawOrder'+'SyncQueue']['list']();for(let _0x15db5a=0x2d3*0x5+-0x964+-0x4bb;_0x15db5a<_0x2cf410['length'];_0x15db5a++){const _0x14a0b5=_0x2cf410[_0x15db5a];_0x14a0b5['callback']['call'](_0x14a0b5['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x1e4440,_0x57a1cf,_0x2ac76b){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x1e4440)||this['_drawOrder'+'SyncQueue']['push'](_0x1e4440,{'callback':_0x57a1cf,'scope':_0x2ac76b});}}ue['_buildAcce'+'ssors'](_x['prototype'],mf);const qi=new $(),vg=new T(),Pr=new uu(),bg=new hy(),wg=new T(),io=new T(),wI=new se(),TI={'x':'y','y':'x'};class wo extends ce{constructor(_0xc63f4,_0x3f298f){if(super(),!_0xc63f4||!(_0xc63f4 instanceof Gt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x3f298f&&_0x3f298f!=='x'&&_0x3f298f!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x3f298f);this['_element']=_0xc63f4,this['_app']=_0xc63f4['system']['app'],this['_axis']=_0x3f298f||null,this['_enabled']=!(0x16f*0x7+-0x152b*-0x1+-0x1*0x1f34),this['_dragScale']=new T(),this['_dragStart'+'MousePosit'+'ion']=new T(),this['_dragStart'+'HandlePosi'+'tion']=new T(),this['_deltaMous'+'ePosition']=new T(),this['_deltaHand'+'lePosition']=new T(),this['_isDraggin'+'g']=!(0x2*0x7b+-0x13*0x10e+0x5*0x3d1),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x23ebc3){this['_element'][_0x23ebc3]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x23ebc3]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x23ebc3]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x351a4d){const _0x319e9f=_0x351a4d==='on';this['_hasDragLi'+'steners']&&_0x319e9f||(this['_app']['mouse']&&(this['_element'][_0x351a4d]('mousemove',this['_onMove'],this),this['_element'][_0x351a4d]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),ye['touch']&&(this['_element'][_0x351a4d]('touchmove',this['_onMove'],this),this['_element'][_0x351a4d]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x351a4d]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x351a4d]('selectmove',this['_onMove'],this),this['_element'][_0x351a4d]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x319e9f);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x5d35db){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x5d35db['camera'],this['_calculate'+'DragScale']();const _0x583d96=this['_screenToL'+'ocal'](_0x5d35db);_0x583d96&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(0x6*-0x3f2+0xdeb+0x9c1),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x583d96),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(-0x6be+-0x2d5+0x265*0x4),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x31e202){return _0x31e202['inputSourc'+'e']?Pr['set'](_0x31e202['inputSourc'+'e']['getOrigin'](),_0x31e202['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x31e202),this['_chooseRay'+'OriginAndD'+'irection']()),wg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0xa1d+-0xde4+-0xf2*-0x4)),bg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),wg),bg['intersects'+'Ray'](Pr,io)?(wI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](io,io),io['mul'](this['_dragScale']),io):null;}['_determine'+'InputPosit'+'ion'](_0x2a9169){const _0x4bad25=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x2a9169['x']<'u'&&typeof _0x2a9169['y']<'u'?(qi['x']=_0x2a9169['x']*_0x4bad25,qi['y']=_0x2a9169['y']*_0x4bad25):_0x2a9169['changedTou'+'ches']?(qi['x']=_0x2a9169['changedTou'+'ches'][-0x1418+0x1f29+0x1*-0xb11]['x']*_0x4bad25,qi['y']=_0x2a9169['changedTou'+'ches'][0xdd3+0x1fa4+-0x2d77]['y']*_0x4bad25):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Pr['origin']['set'](qi['x'],-qi['y'],-0x18f8+-0x2*-0x8f3+0x712),Pr['direction']['copy'](T['FORWARD'])):(vg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](qi['x'],qi['y'],0x109*-0x11+0x1f0d+-0xd73)),Pr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Pr['direction']['copy'](vg)['sub'](Pr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x5939ea=this['_element']['entity']['parent'];const _0x431181=this['_element']['screen']&&this['_element']['screen']['screen'],_0x3cbd78=_0x431181&&_0x431181['screenSpac'+'e'],_0x2fbe8d=_0x3cbd78?_0x431181['scale']:-0x1*0x1e25+-0x1*0xcd3+0x1*0x2af9,_0x146013=this['_dragScale'];for(_0x146013['set'](_0x2fbe8d,_0x2fbe8d,_0x2fbe8d);_0x5939ea&&(_0x146013['mul'](_0x5939ea['getLocalSc'+'ale']()),_0x5939ea=_0x5939ea['parent'],!(_0x3cbd78&&_0x5939ea['screen'])););_0x146013['x']=(0x63*-0xb+-0x1*0x1bdb+-0x201d*-0x1)/_0x146013['x'],_0x146013['y']=(0x472+0x22ed+0x1*-0x275e)/_0x146013['y'],_0x146013['z']=0x1*0x42d+0x12ec+-0x1719;}['_onMove'](_0x4c0299){const {_element:_0x538f8c,_deltaMousePosition:_0x4d6507,_deltaHandlePosition:_0x482597,_axis:_0x5ee5de}=this;if(_0x538f8c&&this['_isDraggin'+'g']&&this['enabled']&&_0x538f8c['enabled']&&_0x538f8c['entity']['enabled']){const _0xf9be91=this['_screenToL'+'ocal'](_0x4c0299);if(_0xf9be91){if(_0x4d6507['sub2'](_0xf9be91,this['_dragStart'+'MousePosit'+'ion']),_0x482597['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x4d6507),_0x5ee5de){const _0x3dde1d=_0x538f8c['entity']['getLocalPo'+'sition'](),_0x3e8ca0=TI[_0x5ee5de];_0x482597[_0x3e8ca0]=_0x3dde1d[_0x3e8ca0];}_0x538f8c['entity']['setLocalPo'+'sition'](_0x482597),this['fire']('drag:move',_0x482597);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x2d0783){this['_enabled']=_0x2d0783;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(wo,'EVENT_DRAG'+'START','drag:start'),c(wo,'EVENT_DRAG'+'END','drag:end'),c(wo,'EVENT_DRAG'+'MOVE','drag:move');const AI=-0x3e0+-0x1681+0x1a61,Tg=0x368+0x2*0xd2d+0x1dc1*-0x1,EI=-0x22e0*0x1+0xc73+0x166f,CI=0x1*0x12fd+0x1*-0xc09+-0x1bd*0x4,MI=-0xc7f+0x1*0x1433+-0x7b3,ro=new $();class gx extends ue{constructor(_0x20d87f,_0x496968){super(_0x20d87f,_0x496968),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_scroll']=new $(),this['_velocity']=new T(),this['_dragStart'+'Position']=new T(),this['_disabledC'+'ontentInpu'+'t']=!(0x2009+0xb9f+-0xe8d*0x3),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x5bcfc5=this['system']['store'][this['entity']['getGuid']()];return _0x5bcfc5?_0x5bcfc5['data']:null;}set['enabled'](_0x3ef25b){this['_setValue']('enabled',_0x3ef25b);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x2692cb){this['_setValue']('horizontal',_0x2692cb);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x2fad32){this['_setValue']('vertical',_0x2fad32);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x4478ce){this['_setValue']('scrollMode',_0x4478ce);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x43334e){this['_setValue']('bounceAmou'+'nt',_0x43334e);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x2958d0){this['_setValue']('friction',_0x2958d0);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x433a8c){this['_setValue']('dragThresh'+'old',_0x433a8c);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x127480){this['_setValue']('useMouseWh'+'eel',_0x127480);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x2d2dcd){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x2d2dcd);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0xd7fa53){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0xd7fa53);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x3c3929){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x3c3929);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0xd05fa4){if(this['_viewportE'+'ntity']===_0xd05fa4)return;const _0x3cf88d=typeof _0xd05fa4=='string';this['_viewportE'+'ntity']&&_0x3cf88d&&this['_viewportE'+'ntity']['getGuid']()===_0xd05fa4||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0xd05fa4 instanceof De?this['_viewportE'+'ntity']=_0xd05fa4:_0x3cf88d?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0xd05fa4)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x3cf88d&&_0xd05fa4&&(this['data']['viewportEn'+'tity']=_0xd05fa4));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x443ddd){if(this['_contentEn'+'tity']===_0x443ddd)return;const _0x342bf8=typeof _0x443ddd=='string';this['_contentEn'+'tity']&&_0x342bf8&&this['_contentEn'+'tity']['getGuid']()===_0x443ddd||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x443ddd instanceof De?this['_contentEn'+'tity']=_0x443ddd:_0x342bf8?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x443ddd)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x342bf8&&_0x443ddd&&(this['data']['contentEnt'+'ity']=_0x443ddd));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x61008a){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x61008a)return;const _0x5c10a7=typeof _0x61008a=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x5c10a7&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x61008a||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x61008a instanceof De?this['_horizonta'+'lScrollbar'+'Entity']=_0x61008a:_0x5c10a7?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x61008a)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][pe]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x5c10a7&&_0x61008a&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x61008a));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x4c93e5){if(this['_verticalS'+'crollbarEn'+'tity']===_0x4c93e5)return;const _0x150f1c=typeof _0x4c93e5=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x150f1c&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x4c93e5||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x4c93e5 instanceof De?this['_verticalS'+'crollbarEn'+'tity']=_0x4c93e5:_0x150f1c?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x4c93e5)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][ke]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x150f1c&&_0x4c93e5&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x4c93e5));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x346f1b){this['_onSetScro'+'ll'](_0x346f1b['x'],_0x346f1b['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x2bf305,_0xfa8a24){const _0x24fd90=this['data'],_0x211b61=_0x24fd90[_0x2bf305];_0x24fd90[_0x2bf305]=_0xfa8a24,this['fire']('set',_0x2bf305,_0x211b61,_0xfa8a24);}['_toggleLif'+'ecycleList'+'eners'](_0x4a7e4f){this[_0x4a7e4f]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x4a7e4f]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x4a7e4f]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x4f3a5d){if(this['entity']['element']){if(_0x4f3a5d==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x4f3a5d]('resize',this['_syncAll'],this),this['entity']['element'][_0x4f3a5d](Mu,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x4f3a5d==='on';}}['_onElement'+'ComponentA'+'dd'](_0x27141c){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x2decd8){var _0x394aa3;(_0x394aa3=this['_evtElemen'+'tRemove'])==null||_0x394aa3['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x150034,_0x3bfa75;(_0x150034=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x150034['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x3bfa75=this['_viewportE'+'ntity'])!=null&&_0x3bfa75['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x48916c=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x48916c['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x48916c['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x3bf6f7,_0x4a7a9c;(_0x3bf6f7=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x3bf6f7['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x4a7a9c=this['_evtViewpo'+'rtResize'])==null||_0x4a7a9c['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x48918e,_0x2f1031;(_0x48918e=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x48918e['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x2f1031=this['_contentEn'+'tity'])!=null&&_0x2f1031['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x1053a1=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x1053a1['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x1053a1['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x306fc4,_0x1a72cf;(_0x306fc4=this['_evtConten'+'tElementRe'+'move'])==null||_0x306fc4['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x1a72cf=this['_evtConten'+'tResize'])==null||_0x1a72cf['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new wo(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0xa4a29c){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0x1e*0xd6+-0x1*-0x707+-0x201b),this['_setScroll'+'FromConten'+'tPosition'](_0xa4a29c),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0xa4a29c),!this['_disabledC'+'ontentInpu'+'t'])){const _0x187d0b=_0xa4a29c['x']-this['_dragStart'+'Position']['x'],_0x42f50b=_0xa4a29c['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x187d0b)>this['dragThresh'+'old']||Math['abs'](_0x42f50b)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x280fad;(_0x280fad=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x280fad['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x5cd152;(_0x5cd152=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x5cd152['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x13f3c0){!this['_scrollbar'+'UpdateFlag'+'s'][pe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x13f3c0,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x57195f){!this['_scrollbar'+'UpdateFlag'+'s'][ke]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x57195f);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x31177a;const _0x1c6a79=(_0x31177a=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(0xd58+-0xd17+-0x1*0x41):_0x31177a['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x1c6a79['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x1c6a79['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarPositi'+'on'](pe);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x11848a;const _0x2d3b22=(_0x11848a=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0x1302+0x12cd+0x35):_0x11848a['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x2d3b22['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x2d3b22['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ke),this['_syncScrol'+'lbarPositi'+'on'](ke);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x765d2b,_0xc81106;(_0x765d2b=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x765d2b['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0xc81106=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0xc81106['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x4fafde,_0x42bebb;(_0x4fafde=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x4fafde['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x42bebb=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x42bebb['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](pe);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_onSetScro'+'ll'](_0x2482d9,_0x3ada27,_0x527e86){_0x527e86!==!(0x331+-0x1*-0x11ef+-0x151f)&&this['_velocity']['set'](0x2*0x26f+0xd5a+-0x91c*0x2,0x1822+-0xdc1+-0x1*0xa61,-0x5cb*-0x3+0x1*0xc5+0x2e*-0x65);const _0x269e72=this['_updateAxi'+'s'](_0x2482d9,'x',pe),_0x501f81=this['_updateAxi'+'s'](_0x3ada27,'y',ke);(_0x269e72||_0x501f81)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x3dceb0,_0xa28451,_0x17b76c){const _0x592d66=_0x3dceb0!==null&&Math['abs'](_0x3dceb0-this['_scroll'][_0xa28451])>-0x9d*0x2b+0x1*0xd4b+0xd14+0.00001;return(_0x592d66||this['_isDraggin'+'g']()||_0x3dceb0===-0x1f1*0x7+-0x2*-0xe48+-0xef9)&&(this['_scroll'][_0xa28451]=this['_determine'+'NewScrollV'+'alue'](_0x3dceb0,_0xa28451,_0x17b76c),this['_syncConte'+'ntPosition'](_0x17b76c),this['_syncScrol'+'lbarPositi'+'on'](_0x17b76c)),_0x592d66;}['_determine'+'NewScrollV'+'alue'](_0x5c1a25,_0xb04ca5,_0x20eb5c){if(!this['_getScroll'+'ingEnabled'](_0x20eb5c))return this['_scroll'][_0xb04ca5];switch(this['scrollMode']){case AI:return N['clamp'](_0x5c1a25,0x2589+0x125*-0x20+-0xe9,this['_getMaxScr'+'ollValue'](_0x20eb5c));case Tg:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x5c1a25,_0xb04ca5,_0x20eb5c),_0x5c1a25;case EI:return _0x5c1a25;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x5c1a25;}}['_syncAll'](){this['_syncConte'+'ntPosition'](pe),this['_syncConte'+'ntPosition'](ke),this['_syncScrol'+'lbarPositi'+'on'](pe),this['_syncScrol'+'lbarPositi'+'on'](ke),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_syncConte'+'ntPosition'](_0x148127){if(!this['_contentEn'+'tity'])return;const _0x2e6efd=this['_getAxis'](_0x148127),_0x49c7c4=this['_getSign'](_0x148127),_0x21f451=this['_prevConte'+'ntSizes'][_0x148127],_0x33862b=this['_getConten'+'tSize'](_0x148127);if(_0x21f451!==null&&Math['abs'](_0x21f451-_0x33862b)>0x591+-0x1*0x14d1+0x3d*0x40+0.0001){const _0x4b743c=this['_getMaxOff'+'set'](_0x148127,_0x21f451),_0x4218bd=this['_getMaxOff'+'set'](_0x148127,_0x33862b);_0x4218bd===-0x3+0x1*0x1867+0x37c*-0x7?this['_scroll'][_0x2e6efd]=0xb*-0x2dd+-0xfa1+0x1*0x2f21:this['_scroll'][_0x2e6efd]=N['clamp'](this['_scroll'][_0x2e6efd]*_0x4b743c/_0x4218bd,-0xd*0x7c+0x22d0+-0x1c84,-0x2*-0x768+-0x3e*0x88+-0x11*-0x111);}const _0x439e48=this['_scroll'][_0x2e6efd]*this['_getMaxOff'+'set'](_0x148127),_0x5ba26e=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x5ba26e[_0x2e6efd]=_0x439e48*_0x49c7c4,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x5ba26e),this['_prevConte'+'ntSizes'][_0x148127]=_0x33862b;}['_syncScrol'+'lbarPositi'+'on'](_0x1aa2bd){const _0x2118ba=this['_scrollbar'+'Entities'][_0x1aa2bd];if(!(_0x2118ba!=null&&_0x2118ba['scrollbar']))return;const _0xe57333=this['_getAxis'](_0x1aa2bd);this['_scrollbar'+'UpdateFlag'+'s'][_0x1aa2bd]=!(-0x1*0x1752+-0x6*-0x61a+-0x15*0xa2),_0x2118ba['scrollbar']['value']=this['_scroll'][_0xe57333],_0x2118ba['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0xe57333,_0x1aa2bd),this['_scrollbar'+'UpdateFlag'+'s'][_0x1aa2bd]=!(-0x9e3*-0x2+0x2*0x2e4+0x1*-0x198d);}['_syncScrol'+'lbarEnable'+'dState'](_0x1592bd){const _0x55a0cb=this['_scrollbar'+'Entities'][_0x1592bd];if(!_0x55a0cb)return;const _0x2f36e7=this['_getScroll'+'ingEnabled'](_0x1592bd),_0x5c9ada=this['_getScroll'+'barVisibil'+'ity'](_0x1592bd);switch(_0x5c9ada){case CI:_0x55a0cb['enabled']=_0x2f36e7;return;case MI:_0x55a0cb['enabled']=_0x2f36e7&&this['_contentIs'+'LargerThan'+'Viewport'](_0x1592bd);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x5c9ada),_0x55a0cb['enabled']=_0x2f36e7;}}['_contentIs'+'LargerThan'+'Viewport'](_0x54013d){return this['_getConten'+'tSize'](_0x54013d)>this['_getViewpo'+'rtSize'](_0x54013d);}['_contentPo'+'sitionToSc'+'rollValue'](_0x3439ee){const _0xb02e91=this['_getMaxOff'+'set'](pe),_0x3c9828=this['_getMaxOff'+'set'](ke);return _0xb02e91===0x1712+0x16ab+-0x2dbd?ro['x']=-0x1b1*0x7+0x1*-0x1430+0x2007:ro['x']=_0x3439ee['x']/_0xb02e91,_0x3c9828===-0x20dd+0x42d*0x5+0xbfc?ro['y']=0x479*-0x1+-0x3*-0x105+0x16a:ro['y']=_0x3439ee['y']/-_0x3c9828,ro;}['_getMaxOff'+'set'](_0x206f0a,_0xcf208e){_0xcf208e=_0xcf208e===void(-0x1*0x24df+0x258a+0x39*-0x3)?this['_getConten'+'tSize'](_0x206f0a):_0xcf208e;const _0x27228b=this['_getViewpo'+'rtSize'](_0x206f0a);return _0xcf208e<_0x27228b?-this['_getViewpo'+'rtSize'](_0x206f0a):_0x27228b-_0xcf208e;}['_getMaxScr'+'ollValue'](_0x55011c){return this['_contentIs'+'LargerThan'+'Viewport'](_0x55011c)?0x1*0x2291+0x1360+-0x35f0:0x3a1*-0x5+0x15e0+-0x5*0xbf;}['_getScroll'+'barHandleS'+'ize'](_0x432873,_0x1fb934){const _0x143b3c=this['_getViewpo'+'rtSize'](_0x1fb934),_0x2d02bb=this['_getConten'+'tSize'](_0x1fb934);if(Math['abs'](_0x2d02bb)<0xb*0x326+0x33*-0xa1+-0x28f+0.001)return-0xd56+0x1d*0xaa+0x1*-0x5eb;const _0x3280d0=Math['min'](_0x143b3c/_0x2d02bb,0x180f+-0x1*0x1051+0x7bd*-0x1),_0x3cf494=this['_toOversho'+'ot'](this['_scroll'][_0x432873],_0x1fb934);return _0x3cf494===-0x21bf+-0x24cb*-0x1+-0x30c?_0x3280d0:_0x3280d0/(0x1f0a+0x13cc+0x7*-0x743+Math['abs'](_0x3cf494));}['_getViewpo'+'rtSize'](_0x59c690){return this['_getSize'](_0x59c690,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x3ffd9f){return this['_getSize'](_0x3ffd9f,this['_contentEn'+'tity']);}['_getSize'](_0xc60972,_0x2a65c3){return _0x2a65c3!=null&&_0x2a65c3['element']?_0x2a65c3['element'][this['_getCalcul'+'atedDimens'+'ion'](_0xc60972)]:-0x2e3*0x1+0x1996+-0x16b3;}['_getScroll'+'ingEnabled'](_0x12241a){if(_0x12241a===pe)return this['horizontal'];if(_0x12241a===ke)return this['vertical'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x12241a);}['_getScroll'+'barVisibil'+'ity'](_0x4a0c2f){if(_0x4a0c2f===pe)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x4a0c2f===ke)return this['verticalSc'+'rollbarVis'+'ibility'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x4a0c2f);}['_getSign'](_0x25fcc9){return _0x25fcc9===pe?0x3*-0x14b+0x95+0x34d:-(-0xd*0x259+0x15*0x173+0x17);}['_getAxis'](_0x484729){return _0x484729===pe?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x1ca537){return _0x1ca537===pe?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Tg&&(this['_hasOversh'+'oot']('x',pe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',pe),this['_hasOversh'+'oot']('y',ke)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',ke)),Math['abs'](this['_velocity']['x'])>-0x10+-0x47*-0x70+-0x1f00+0.0001||Math['abs'](this['_velocity']['y'])>-0x209d+0x239*-0x1+0x22d6+0.0001){const _0x1a5663=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x1a5663['x']+=this['_velocity']['x'],_0x1a5663['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x1a5663),this['_setScroll'+'FromConten'+'tPosition'](_0x1a5663);}this['_velocity']['x']*=-0x9ff*-0x1+0x1b57+-0x2555*0x1-this['friction'],this['_velocity']['y']*=-0xd88*-0x2+0x246d+0x1*-0x3f7c-this['friction'];}}['_hasOversh'+'oot'](_0x335c76,_0xdd50c2){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x335c76],_0xdd50c2))>0x101d+-0xc*0x2ab+-0x3*-0x54d+0.001;}['_toOversho'+'ot'](_0x272231,_0x2d0a33){const _0x3a28f2=this['_getMaxScr'+'ollValue'](_0x2d0a33);return _0x272231<0x1e7*0x13+-0xaa4+-0x1981?_0x272231:_0x272231>_0x3a28f2?_0x272231-_0x3a28f2:-0x22af+-0x138f+-0x6a*-0x83;}['_setVeloci'+'tyFromOver'+'shoot'](_0x37a0fa,_0x1c27bb,_0x5e9a86){const _0x362358=this['_toOversho'+'ot'](_0x37a0fa,_0x5e9a86)*this['_getMaxOff'+'set'](_0x5e9a86)*this['_getSign'](_0x5e9a86);Math['abs'](_0x362358)>0x21fb*0x1+-0xc*-0x2b7+-0x428f&&(this['_velocity'][_0x1c27bb]=-_0x362358/(this['bounceAmou'+'nt']*(-0x5*0x755+0x123+0x23b8)+(-0x21dd*0x1+0x2*-0x11c4+0x149*0x36)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x2f1f68){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x2f1f68,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x2f1f68)):(this['_velocity']['set'](0x40*0x34+-0x4*0x7f5+0x12d4,0x1f0*0x1+-0x119*-0x7+0x3*-0x335,0x1080+0x7*0x360+-0x2*0x1410),this['_prevConte'+'ntDragPosi'+'tion']=_0x2f1f68['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x56c286){let _0x5e36cd=this['_contentPo'+'sitionToSc'+'rollValue'](_0x56c286);this['_isDraggin'+'g']()&&(_0x5e36cd=this['_applyScro'+'llValueTen'+'sion'](_0x5e36cd)),this['_onSetScro'+'ll'](_0x5e36cd['x'],_0x5e36cd['y'],!(-0x77*0x1b+0x16f9+-0xa6b*0x1));}['_applyScro'+'llValueTen'+'sion'](_0x2d28e9){let _0x5ec613=this['_getMaxScr'+'ollValue'](pe),_0x566950=this['_toOversho'+'ot'](_0x2d28e9['x'],pe);return _0x566950>0xc2*-0x2b+0x1e34+0x262?_0x2d28e9['x']=_0x5ec613+(0xaaf+-0x100+-0x9ae)*Math['log10'](0x278+0x15ba+-0x233*0xb+_0x566950):_0x566950<-0x19*-0x172+-0xeab+-0x5*0x44b&&(_0x2d28e9['x']=-(-0x2e*-0x4f+0x52a*-0x6+0x10cb)*Math['log10'](-0xdde+0x793+0x64c-_0x566950)),_0x5ec613=this['_getMaxScr'+'ollValue'](ke),_0x566950=this['_toOversho'+'ot'](_0x2d28e9['y'],ke),_0x566950>-0x1971+-0x26e7+0x4058?_0x2d28e9['y']=_0x5ec613+(-0xd13+0x23dd*-0x1+0x30f1)*Math['log10'](-0xf1+-0x449*0x8+0xbbe*0x3+_0x566950):_0x566950<0x286*0x4+0x22c+-0xc44&&(_0x2d28e9['y']=-(-0x1*0x1811+-0x5*0x369+0x291f)*Math['log10'](0x2*0x957+0x2*0x368+0xf*-0x1b3-_0x566950)),_0x2d28e9;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x48e429){var _0x5be202,_0x464d7d;(_0x5be202=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x5be202['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x48e429),(_0x464d7d=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x464d7d['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x48e429);}['_setConten'+'tDraggingE'+'nabled'](_0x3e4430){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x3e4430);}['_onMouseWh'+'eel'](_0x4a1ef4){var _0x15ba73;if(!this['useMouseWh'+'eel']||!((_0x15ba73=this['_contentEn'+'tity'])!=null&&_0x15ba73['element']))return;const _0x55cbef=_0x4a1ef4['event'],_0x6e27c=_0x55cbef['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x149a7e=_0x55cbef['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x31793d=N['clamp'](this['_scroll']['x']+_0x6e27c,-0x23d4+-0x10c7+0x349b,this['_getMaxScr'+'ollValue'](pe)),_0x47b411=N['clamp'](this['_scroll']['y']+_0x149a7e,0x10b*0x3+-0x116*0x1+-0x20b,this['_getMaxScr'+'ollValue'](ke));this['scroll']=new $(_0x31793d,_0x47b411);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x5063dd=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x5063dd['element']&&(_0x5063dd['element']['useInput']=!(-0x635*0x5+0x8f1+0x1618));}this['_disabledC'+'ontentInpu'+'t']=!(0xd5*0xf+0x23db+0x3055*-0x1);}['_disableCo'+'ntentInput'](){const _0x3d00cd=_0x5c4931=>{_0x5c4931['element']&&_0x5c4931['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x5c4931),_0x5c4931['element']['useInput']=!(0x1*-0xa1c+0x8e2*0x1+-0x3*-0x69));const _0x11fe10=_0x5c4931['children'];for(let _0x221f77=-0x2*-0x4b4+-0x3*-0x8ef+-0xd*0x2c9,_0x284d2d=_0x11fe10['length'];_0x221f77<_0x284d2d;_0x221f77++)_0x3d00cd(_0x11fe10[_0x221f77]);};if(this['_contentEn'+'tity']){const _0x56c7ba=this['_contentEn'+'tity']['children'];for(let _0x43ae52=-0x8*-0x112+-0x187b+-0x32f*-0x5,_0x247762=_0x56c7ba['length'];_0x43ae52<_0x247762;_0x43ae52++)_0x3d00cd(_0x56c7ba[_0x43ae52]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x2*-0xe09+-0x239*-0x1+-0x2c1*0xb);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x126a+0xab8+0x1*0x7b2)),this['_setConten'+'tDraggingE'+'nabled'](!(0x3a*0x48+-0x1092+0x42)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x2*-0x2d5+-0x1*0x25e+0x119*-0x3)),this['_setConten'+'tDraggingE'+'nabled'](!(0x15ef+0x209c+0xb3*-0x4e));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4d5cc5,_0x4e90af){_0x4d5cc5['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x4e90af[_0x4d5cc5['viewportEn'+'tity']['getGuid']()]),_0x4d5cc5['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x4e90af[_0x4d5cc5['contentEnt'+'ity']['getGuid']()]),_0x4d5cc5['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x4e90af[_0x4d5cc5['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x4d5cc5['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x4e90af[_0x4d5cc5['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(gx,'EVENT_SETS'+'CROLL','set:scroll');const PI=-0xc3a*-0x2+0x2196+-0xe8*0x40;class RI{constructor(){c(this,'enabled',!(0x134e+-0x1*0x1354+-0x2*-0x3)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',PI),c(this,'useMouseWh'+'eel',!(0x1*0xa0d+-0xa*-0x2cb+0x7*-0x56d)),c(this,'mouseWheel'+'Sensitivit'+'y',new $(0x3*-0x69f+0x1d41+-0x963,0x1396+0x2*-0xbeb+0x441)),c(this,'horizontal'+'ScrollbarV'+'isibility',-0x1015+-0x2d4*0x7+-0x1*-0x23e1),c(this,'verticalSc'+'rollbarVis'+'ibility',0x265d+-0x1233+-0x2*0xa15),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Ag=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],II=0x11ca+0x2208+-0x4*0xcf2;class DI extends Xe{constructor(_0x2ddc78){super(_0x2ddc78),this['id']='scrollview',this['ComponentT'+'ype']=gx,this['DataType']=RI,this['schema']=Ag,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3194ae,_0x1728ae,_0x48d327){_0x1728ae['dragThresh'+'old']===void(0x1*-0x8b5+-0xdf7+0x16ac)&&(_0x1728ae['dragThresh'+'old']=II),_0x1728ae['useMouseWh'+'eel']===void(0x13e1+0x3*0x43b+-0x2092)&&(_0x1728ae['useMouseWh'+'eel']=!(0x3cb*-0x4+-0x1*-0x114+0xe18*0x1)),_0x1728ae['mouseWheel'+'Sensitivit'+'y']===void(-0xf15+0x453*0x7+0x10*-0xf3)&&(_0x1728ae['mouseWheel'+'Sensitivit'+'y']=new $(-0xe95+-0x13c6+0x225c,-0x11d5+0x7f8+0x2*0x4ef)),super['initialize'+'ComponentD'+'ata'](_0x3194ae,_0x1728ae,Ag),_0x3194ae['viewportEn'+'tity']=_0x1728ae['viewportEn'+'tity'],_0x3194ae['contentEnt'+'ity']=_0x1728ae['contentEnt'+'ity'],_0x3194ae['horizontal'+'ScrollbarE'+'ntity']=_0x1728ae['horizontal'+'ScrollbarE'+'ntity'],_0x3194ae['verticalSc'+'rollbarEnt'+'ity']=_0x1728ae['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x563a03){const _0x84c41d=this['store'];for(const _0xc42f3b in _0x84c41d){const _0x3a4ef5=_0x84c41d[_0xc42f3b]['entity'],_0x177d56=_0x3a4ef5['scrollview'];_0x177d56['enabled']&&_0x3a4ef5['enabled']&&_0x177d56['onUpdate']();}}['_onRemoveC'+'omponent'](_0x1dac0a,_0x1b5bc2){_0x1b5bc2['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class yx extends ue{constructor(_0x338645,_0x15ad68){super(_0x338645,_0x15ad68),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x23e05f=this['system']['store'][this['entity']['getGuid']()];return _0x23e05f?_0x23e05f['data']:null;}set['enabled'](_0x2e0264){this['_setValue']('enabled',_0x2e0264);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x4c28a9){this['_setValue']('orientatio'+'n',_0x4c28a9);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x543b4f){this['_setValue']('value',_0x543b4f);}get['value'](){return this['data']['value'];}set['handleSize'](_0x4a9ea7){this['_setValue']('handleSize',_0x4a9ea7);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x398ab3){if(this['_handleEnt'+'ity']===_0x398ab3)return;const _0x305ce2=typeof _0x398ab3=='string';this['_handleEnt'+'ity']&&_0x305ce2&&this['_handleEnt'+'ity']['getGuid']()===_0x398ab3||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x398ab3 instanceof De?this['_handleEnt'+'ity']=_0x398ab3:_0x305ce2?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x398ab3)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x305ce2&&_0x398ab3&&(this['data']['handleEnti'+'ty']=_0x398ab3));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0xee586f,_0x4e445f){const _0x27f652=this['data'],_0xa65b9b=_0x27f652[_0xee586f];_0x27f652[_0xee586f]=_0x4e445f,this['fire']('set',_0xee586f,_0xa65b9b,_0x4e445f);}['_toggleLif'+'ecycleList'+'eners'](_0x4f86a4){this[_0x4f86a4]('set_value',this['_onSetValu'+'e'],this),this[_0x4f86a4]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x4f86a4]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x54ed1e,_0x38568b;(_0x54ed1e=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x54ed1e['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x38568b=this['_handleEnt'+'ity'])!=null&&_0x38568b['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x507380=this['_handleEnt'+'ity']['element'],_0x2d5d0f=this['_evtHandle'+'EntityChan'+'ges'];_0x2d5d0f['push'](_0x507380['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x2d5d0f['push'](_0x507380['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x2d5d0f['push'](_0x507380['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x2d5d0f['push'](_0x507380['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x4188c6=-0x1*-0x66f+-0x9f*0x25+0x108c;_0x4188c6<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x4188c6++)this['_evtHandle'+'EntityChan'+'ges'][_0x4188c6]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=0xb4e+0x1f51+-0x2a9f;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new wo(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x58d1c7){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x58d1c7[this['_getAxis']()]));}['_onSetValu'+'e'](_0xea7947,_0x24136b,_0x497ad1){Math['abs'](_0x497ad1-_0x24136b)>0x9ce+-0x1*-0x11d3+0xb*-0x283+0.00001&&(this['data']['value']=N['clamp'](_0x497ad1,-0x1b50+-0x2*0x178+0xf2*0x20,0x1*0x1a1b+-0x1*-0xaad+-0x24c7),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x1495e9,_0x4c1e42,_0x38c42b){Math['abs'](_0x38c42b-_0x4c1e42)>-0xf19*-0x1+0x361+-0x127a+0.00001&&(this['data']['handleSize']=N['clamp'](_0x38c42b,0x104d+-0xeed*0x2+0xd8d*0x1,0x4*-0x23b+0x1fd2+0x1*-0x16e5),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x3272f2,_0x40a271,_0x522de7){var _0x29faf5;_0x522de7!==_0x40a271&&((_0x29faf5=this['_handleEnt'+'ity'])!=null&&_0x29faf5['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=-0x1611*0x1+-0x1*0x44f+0x1a60);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x4bf87e=this['_handleEnt'+'ity'],_0xb25f53=_0x4bf87e==null?void(0x15b*-0x10+-0x3e6*-0x7+0x59a*-0x1):_0x4bf87e['element'];if(_0x4bf87e){const _0x119f8e=_0x4bf87e['getLocalPo'+'sition']();_0x119f8e[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x4bf87e['setLocalPo'+'sition'](_0x119f8e);}_0xb25f53&&(_0xb25f53[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x250a33){return _0x250a33*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x3c5a8f){return _0x3c5a8f*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x1213*0x1+0x124c+-0x1*0x39+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===pe?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x1*-0x2566+0x3b*0x5f+-0x3b4b;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===pe?-0x988+0x79e+0x1eb:-(0x1800+0x2*0x130f+0x3e1d*-0x1);}['_getAxis'](){return this['orientatio'+'n']===pe?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===pe?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===pe?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x574864){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x574864);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x1*0x20ab+0x1*0x266a+-0x1f*0x24b));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x6be*0x3+0x1458+-0x1d));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x507bde,_0xcf39e5){_0x507bde['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0xcf39e5[_0x507bde['handleEnti'+'ty']['getGuid']()]);}}c(yx,'EVENT_SETV'+'ALUE','set:value');class LI{constructor(){c(this,'enabled',!(-0x1f83*-0x1+0x23*-0x49+-0x1588)),c(this,'orientatio'+'n',pe),c(this,'value',0x79*0x11+-0x289*0x7+0xe2*0xb),c(this,'handleSize',-0xd*0x26d+-0x35f+0x22e8),c(this,'handleEnti'+'ty',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class FI extends Xe{constructor(_0x1cda99){super(_0x1cda99),this['id']='scrollbar',this['ComponentT'+'ype']=yx,this['DataType']=LI,this['schema']=Eg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x2d06d8,_0x4a5357,_0x367798){super['initialize'+'ComponentD'+'ata'](_0x2d06d8,_0x4a5357,Eg),_0x2d06d8['handleEnti'+'ty']=_0x4a5357['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x380870){_0x380870['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x13730f,_0x4af72d){_0x4af72d['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(0xff5+0xc74+-0x194*0x12),'startTime':0x0,'duration':0x0,'position':new T(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class er extends ce{constructor(_0x2ecb3b,_0x4c5e17='Untitled',_0x18bfa2={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x2ecb3b,this['_assets']=_0x2ecb3b['system']['app']['assets'],this['_manager']=_0x2ecb3b['system']['manager'],this['name']=_0x4c5e17,this['_volume']=_0x18bfa2['volume']!==void(0x1*-0x182+-0x2*-0x243+-0x304)?N['clamp'](Number(_0x18bfa2['volume'])||0x1*0x242b+-0x169+-0x22c2,-0x2*0xedb+0x3f3*0x6+0x8c*0xb,0x1679*-0x1+-0x1*-0xb04+0xb76):0x83*0xe+-0x14bd*0x1+0xd94,this['_pitch']=_0x18bfa2['pitch']!==void(0xbfd+0x75*-0x41+0x11b8)?Math['max'](-0x1*0x1021+0xe81+-0x34*-0x8+0.01,Number(_0x18bfa2['pitch'])||-0x7*0x494+-0xa82+0x2a8e):0x1ebb+-0x1*-0x1f01+-0x3dbb*0x1,this['_loop']=!!(_0x18bfa2['loop']!==void(-0x2397+-0x1*0xc7+0x245e)&&_0x18bfa2['loop']),this['_duration']=_0x18bfa2['duration']>-0x13b3+-0xd1*0x16+-0x1f*-0x137?_0x18bfa2['duration']:null,this['_startTime']=Math['max'](-0x1*0x190b+-0x10*-0x3e+-0x1*-0x152b,Number(_0x18bfa2['startTime'])||-0x1109*0x2+0x1*-0xce5+-0x2ef7*-0x1),this['_overlap']=!!_0x18bfa2['overlap'],this['_autoPlay']=!!_0x18bfa2['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x18bfa2['asset'],this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0xed3a1f){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){v['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x2d0c3c=_0xed3a1f;if(_0x2d0c3c||(_0x2d0c3c=this['_createIns'+'tance'](),this['instances']['push'](_0x2d0c3c)),this['isLoaded'])_0x2d0c3c['play']();else{const _0x4de0d9=function(_0x13881e){const _0x412cb0=_0x2d0c3c['_playWhenL'+'oaded'];_0x2d0c3c['sound']=_0x13881e,_0x412cb0&&_0x2d0c3c['play']();};this['off']('load',_0x4de0d9),this['once']('load',_0x4de0d9),this['load']();}return _0x2d0c3c;}['pause'](){let _0x107e36=!(-0x160c+0x1d*-0x8d+0x2606);const _0x487a26=this['instances'];for(let _0x22b838=-0x8af+0x28d*0x8+-0x1*0xbb9,_0x13b556=_0x487a26['length'];_0x22b838<_0x13b556;_0x22b838++)_0x487a26[_0x22b838]['pause']()&&(_0x107e36=!(-0x5cb+-0x1d88+0x2353));return _0x107e36;}['resume'](){let _0x4e01d4=!(-0x1e1+0x213+-0x31);const _0x416a2c=this['instances'];for(let _0x156e09=0x17d4+0x24dd+-0x3cb1,_0x473bde=_0x416a2c['length'];_0x156e09<_0x473bde;_0x156e09++)_0x416a2c[_0x156e09]['resume']()&&(_0x4e01d4=!(-0x597*0x3+0x244d*0x1+0x7d*-0x28));return _0x4e01d4;}['stop'](){let _0x23b905=!(0xa6d+0x22c2+-0x2d2e);const _0x450c98=this['instances'];let _0x2b1300=_0x450c98['length'];for(;_0x2b1300--;)_0x450c98[_0x2b1300]['stop'](),_0x23b905=!(-0x49+-0x767+-0x29*-0x30);return _0x450c98['length']=-0x1038+0xff4+0x44*0x1,_0x23b905;}['load'](){if(!this['_hasAsset']())return;const _0xe49ee=this['_assets']['get'](this['_asset']);if(!_0xe49ee){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0xe49ee['off']('remove',this['_onAssetRe'+'moved'],this),_0xe49ee['on']('remove',this['_onAssetRe'+'moved'],this),!_0xe49ee['resource']){_0xe49ee['off']('load',this['_onAssetLo'+'ad'],this),_0xe49ee['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0xe49ee);return;}this['fire']('load',_0xe49ee['resource']);}['setExterna'+'lNodes'](_0x70bf3a,_0x38c99b){if(!_0x70bf3a){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x38c99b||(_0x38c99b=_0x70bf3a),this['_firstNode']=_0x70bf3a,this['_lastNode']=_0x38c99b,!this['_overlap']){const _0x53083c=this['instances'];for(let _0x30a7af=0x7*-0x4ee+-0x6f*-0x17+0xb*0x23b,_0x5745bc=_0x53083c['length'];_0x30a7af<_0x5745bc;_0x30a7af++)_0x53083c[_0x30a7af]['setExterna'+'lNodes'](_0x70bf3a,_0x38c99b);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x1c2a0f=this['instances'];for(let _0x1f3d70=0xbfd+-0x754+-0x4a9,_0x2dab50=_0x1c2a0f['length'];_0x1f3d70<_0x2dab50;_0x1f3d70++)_0x1c2a0f[_0x1f3d70]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x422682=null;const _0x4c0731=this['_component'];let _0xfa46e6=null;if(this['_hasAsset']()){const _0x53a5c2=this['_assets']['get'](this['_asset']);_0x53a5c2&&(_0xfa46e6=_0x53a5c2['resource']);}const _0x5d81e8=OI;return _0x5d81e8['volume']=this['_volume']*_0x4c0731['volume'],_0x5d81e8['pitch']=this['_pitch']*_0x4c0731['pitch'],_0x5d81e8['loop']=this['_loop'],_0x5d81e8['startTime']=this['_startTime'],_0x5d81e8['duration']=this['_duration'],_0x5d81e8['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x5d81e8['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x5d81e8['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x5d81e8['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x5d81e8['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x4c0731['positional']?(_0x5d81e8['position']['copy'](_0x4c0731['entity']['getPositio'+'n']()),_0x5d81e8['maxDistanc'+'e']=_0x4c0731['maxDistanc'+'e'],_0x5d81e8['refDistanc'+'e']=_0x4c0731['refDistanc'+'e'],_0x5d81e8['rollOffFac'+'tor']=_0x4c0731['rollOffFac'+'tor'],_0x5d81e8['distanceMo'+'del']=_0x4c0731['distanceMo'+'del'],_0x422682=new jn(this['_manager'],_0xfa46e6,_0x5d81e8)):_0x422682=new ss(this['_manager'],_0xfa46e6,_0x5d81e8),this['_firstNode']&&_0x422682['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x422682;}['_onInstanc'+'ePlay'](_0x3ebf82){this['fire']('play',_0x3ebf82),this['_component']['fire']('play',this,_0x3ebf82);}['_onInstanc'+'ePause'](_0x641763){this['fire']('pause',_0x641763),this['_component']['fire']('pause',this,_0x641763);}['_onInstanc'+'eResume'](_0x15ba67){this['fire']('resume',_0x15ba67),this['_component']['fire']('resume',this,_0x15ba67);}['_onInstanc'+'eStop'](_0x160dc9){const _0x32488a=this['instances']['indexOf'](_0x160dc9);_0x32488a!==-(0x25c9+0x2131+-0x46f9)&&this['instances']['splice'](_0x32488a,-0x90+0x29*0xf+-0x5*0x5e),this['fire']('stop',_0x160dc9),this['_component']['fire']('stop',this,_0x160dc9);}['_onInstanc'+'eEnd'](_0x10a8df){const _0x4fecb6=this['instances']['indexOf'](_0x10a8df);_0x4fecb6!==-(0xc5*-0x2f+-0x38*0x5c+-0x6*-0x962)&&this['instances']['splice'](_0x4fecb6,0x7*0x43+0x95*-0x25+-0x3f1*-0x5),this['fire']('end',_0x10a8df),this['_component']['fire']('end',this,_0x10a8df);}['_onAssetAd'+'d'](_0x583b07){this['load']();}['_onAssetLo'+'ad'](_0x47d229){this['load']();}['_onAssetRe'+'moved'](_0x34584d){_0x34584d['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x34584d['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x92442d){const _0x3a66f8=this['instances'];for(let _0x20785b=0x12b+-0x1200+0x10d5,_0x1a5c9a=_0x3a66f8['length'];_0x20785b<_0x1a5c9a;_0x20785b++)_0x3a66f8[_0x20785b]['position']=_0x92442d;}set['asset'](_0x52f9b5){const _0x4965a2=this['_asset'];if(_0x4965a2){this['_assets']['off']('add:'+_0x4965a2,this['_onAssetAd'+'d'],this);const _0x4486d2=this['_assets']['get'](_0x4965a2);_0x4486d2&&_0x4486d2['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x52f9b5,this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x3b752b){this['_autoPlay']=!!_0x3b752b;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x438f7b){if(this['_duration']=Math['max'](-0x2d0+0x1669+-0x1399,Number(_0x438f7b)||0x1614+0xc1b*0x2+0xf6e*-0x3)||null,!this['_overlap']){const _0x4c1131=this['instances'];for(let _0x4c9372=0x2018+-0x109*0x10+-0x11c*0xe,_0x23afb9=_0x4c1131['length'];_0x4c9372<_0x23afb9;_0x4c9372++)_0x4c1131[_0x4c9372]['duration']=this['_duration'];}}get['duration'](){let _0x57301d=0x9*-0x443+-0x80*0x29+0xf7*0x3d;if(this['_hasAsset']()){const _0x16bb7b=this['_assets']['get'](this['_asset']);_0x57301d=_0x16bb7b!=null&&_0x16bb7b['resource']?_0x16bb7b['resource']['duration']:0x1a03+-0x35f*-0xb+-0x3f18;}return this['_duration']!=null?this['_duration']%(_0x57301d||0x733*-0x3+-0x4*-0x42e+-0x271*-0x2):_0x57301d;}get['isLoaded'](){if(this['_hasAsset']()){const _0x5ae0be=this['_assets']['get'](this['_asset']);if(_0x5ae0be)return!!_0x5ae0be['resource'];}return!(-0x1582+-0x17e*0x5+0x1cf9);}get['isPaused'](){const _0x5bcb99=this['instances'],_0x5d2494=_0x5bcb99['length'];if(_0x5d2494===0x18c1+0xd09*-0x2+0x151)return!(0x14f1*-0x1+-0x2052+-0x2*-0x1aa2);for(let _0x5bd42e=-0x194a+-0x3ff+0x1d49;_0x5bd42e<_0x5d2494;_0x5bd42e++)if(!_0x5bcb99[_0x5bd42e]['isPaused'])return!(-0x1d32+-0x1d08+0x3a3b);return!(-0xab3*0x1+0x1*0x259+0x85a);}get['isPlaying'](){const _0x38371c=this['instances'];for(let _0x1e9bca=0x269a+0x1225*-0x2+-0x250,_0x73f9d0=_0x38371c['length'];_0x1e9bca<_0x73f9d0;_0x1e9bca++)if(_0x38371c[_0x1e9bca]['isPlaying'])return!(0x3ea*-0x9+-0x10ce+0x3408);return!(-0x1*0x19eb+0x1c34+-0x248);}get['isStopped'](){const _0x5b24e4=this['instances'];for(let _0x42e315=0x2269+-0x9ab+-0x2*0xc5f,_0x5df0fa=_0x5b24e4['length'];_0x42e315<_0x5df0fa;_0x42e315++)if(!_0x5b24e4[_0x42e315]['isStopped'])return!(0x226f+-0x44a+-0x1e24);return!(-0xa01+0x1450+-0xa4f);}set['loop'](_0x5c46a2){this['_loop']=!!_0x5c46a2;const _0x5d70e5=this['instances'];for(let _0x1d7993=-0x235+-0x126c+0x14a1,_0x230873=_0x5d70e5['length'];_0x1d7993<_0x230873;_0x1d7993++)_0x5d70e5[_0x1d7993]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x4fb985){this['_overlap']=!!_0x4fb985;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x589e83){if(this['_pitch']=Math['max'](Number(_0x589e83)||0x1305+-0x6*0x69+0x3*-0x585,0x178*0x6+-0xaab*-0x3+-0x2b*0xf3+0.01),!this['_overlap']){const _0x1a8566=this['instances'];for(let _0x12bd8d=0x2*-0x6b7+0x4*0x56a+0x1b*-0x4e,_0x25959e=_0x1a8566['length'];_0x12bd8d<_0x25959e;_0x12bd8d++)_0x1a8566[_0x12bd8d]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0xe45ffc){if(this['_startTime']=Math['max'](-0x27b*0xe+-0x23b+-0x1*-0x24f5,Number(_0xe45ffc)||0x26*-0x3d+-0x2704+0x3012),!this['_overlap']){const _0x10aad3=this['instances'];for(let _0x5aef95=-0xe5*-0x1+0x2708+-0xd4f*0x3,_0x6ef504=_0x10aad3['length'];_0x5aef95<_0x6ef504;_0x5aef95++)_0x10aad3[_0x5aef95]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x1c56ca){if(this['_volume']=N['clamp'](Number(_0x1c56ca)||-0x1*-0x1789+0x2429*0x1+-0x3bb2,-0x886*0x3+0xc*-0x3b+0x1c56,-0x1cc+0x1274+-0x57*0x31),!this['_overlap']){const _0x524e5e=this['instances'];for(let _0x3ccb52=-0x1d5+-0x11*0x8e+0x1f*0x5d,_0xaa5147=_0x524e5e['length'];_0x3ccb52<_0xaa5147;_0x3ccb52++)_0x524e5e[_0x3ccb52]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(er,'EVENT_PLAY','play'),c(er,'EVENT_PAUS'+'E','pause'),c(er,'EVENT_RESU'+'ME','resume'),c(er,'EVENT_STOP','stop'),c(er,'EVENT_LOAD','load');class Nr extends ue{constructor(){super(...arguments),c(this,'_volume',-0x1dc4+-0x204c+-0x3e11*-0x1),c(this,'_pitch',0x2b*0xbf+0x83e+0xd*-0x31a),c(this,'_positiona'+'l',!(0x31*0xb5+0xa*0x340+-0x4325)),c(this,'_refDistan'+'ce',0xd5c+0x5*-0x6de+0x1*0x14fb),c(this,'_maxDistan'+'ce',-0x1e5c+0x4038+0x29a*0x2),c(this,'_rollOffFa'+'ctor',0x227d*0x1+-0x25c3+0x347),c(this,'_distanceM'+'odel',cc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x1a604d,_0x506271,_0x2dea9f){const _0xc32415=this['_slots'];for(const _0x4ae5ba in _0xc32415){const _0x3a16c9=_0xc32415[_0x4ae5ba];if(!_0x3a16c9['overlap']){const _0x27e496=_0x3a16c9['instances'];for(let _0x2a827b=-0x4ae+-0x18*0xe+-0x1*-0x5fe,_0x5ca22b=_0x27e496['length'];_0x2a827b<_0x5ca22b;_0x2a827b++)_0x27e496[_0x2a827b][_0x1a604d]=_0x2dea9f?_0x3a16c9[_0x1a604d]*_0x506271:_0x506271;}}}set['distanceMo'+'del'](_0x454caa){this['_distanceM'+'odel']=_0x454caa,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x454caa,!(-0x239*0x6+-0x2a*0x45+0x3b*0x6b));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x5bd2f6){this['_maxDistan'+'ce']=_0x5bd2f6,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x5bd2f6,!(-0x76c*0x1+0x5*-0x89+-0x1af*-0x6));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x4749bb){this['_refDistan'+'ce']=_0x4749bb,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x4749bb,!(-0x8b*0x11+-0x1371+0x1cad));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0xb6d65b){this['_rollOffFa'+'ctor']=_0xb6d65b,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0xb6d65b,!(-0x223e+0x19af+-0x448*-0x2));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x55699a){this['_pitch']=_0x55699a,this['_updateSou'+'ndInstance'+'s']('pitch',_0x55699a,!(0x13*0x125+-0x169f*-0x1+-0x2c5e));}get['pitch'](){return this['_pitch'];}set['volume'](_0x2e7230){this['_volume']=_0x2e7230,this['_updateSou'+'ndInstance'+'s']('volume',_0x2e7230,!(-0xd95+-0xe*0x243+0x129*0x27));}get['volume'](){return this['_volume'];}set['positional'](_0x1135ef){this['_positiona'+'l']=_0x1135ef;const _0x3e6923=this['_slots'];for(const _0x4324d4 in _0x3e6923){const _0x212438=_0x3e6923[_0x4324d4];if(!_0x212438['overlap']){const _0x1a60cf=_0x212438['instances'],_0x4822ad=_0x1a60cf['length'];for(let _0x42f0ee=_0x4822ad-(-0xc89*-0x3+-0x13de+-0x11bc);_0x42f0ee>=-0x1f9e+-0x532*-0x3+-0x201*-0x8;_0x42f0ee--){const _0x35cc8e=_0x1a60cf[_0x42f0ee]['isPlaying']||_0x1a60cf[_0x42f0ee]['isSuspende'+'d'],_0x2a9571=_0x1a60cf[_0x42f0ee]['currentTim'+'e'];_0x35cc8e&&_0x1a60cf[_0x42f0ee]['stop']();const _0x209c6a=_0x212438['_createIns'+'tance']();_0x35cc8e&&(_0x209c6a['play'](),_0x209c6a['currentTim'+'e']=_0x2a9571),_0x1a60cf['push'](_0x209c6a);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x26e698){const _0x36ac06=this['_slots'];if(_0x36ac06){for(const _0x49b48c in _0x36ac06)_0x36ac06[_0x49b48c]['stop']();}const _0x8afe0d={};for(const _0x39d299 in _0x26e698)_0x26e698[_0x39d299]instanceof er?_0x8afe0d[_0x26e698[_0x39d299]['name']]=_0x26e698[_0x39d299]:_0x26e698[_0x39d299]['name']&&(_0x8afe0d[_0x26e698[_0x39d299]['name']]=new er(this,_0x26e698[_0x39d299]['name'],_0x26e698[_0x39d299]));this['_slots']=_0x8afe0d,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x310c64=this['_slots'],_0x2b3cf2=this['_playingBe'+'foreDisabl'+'e'];for(const _0x40b00a in _0x310c64){const _0xa6712c=_0x310c64[_0x40b00a];_0xa6712c['autoPlay']&&_0xa6712c['isStopped']?_0xa6712c['play']():_0x2b3cf2[_0x40b00a]?_0xa6712c['resume']():_0xa6712c['isLoaded']||_0xa6712c['load']();}}['onDisable'](){const _0x5a58ee=this['_slots'],_0x5423d9={};for(const _0x2118db in _0x5a58ee)_0x5a58ee[_0x2118db]['overlap']||_0x5a58ee[_0x2118db]['isPlaying']&&(_0x5a58ee[_0x2118db]['pause'](),_0x5423d9[_0x2118db]=!(0x1*-0x1123+0x21ed+-0x2*0x865));this['_playingBe'+'foreDisabl'+'e']=_0x5423d9;}['onRemove'](){this['off']();}['addSlot'](_0x10ef04,_0x4f5b2a){const _0x343473=this['_slots'];if(_0x343473[_0x10ef04])return v['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x10ef04+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x22b55b=new er(this,_0x10ef04,_0x4f5b2a);return _0x343473[_0x10ef04]=_0x22b55b,_0x22b55b['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x22b55b['play'](),_0x22b55b;}['removeSlot'](_0x36a8f4){const _0x1dc582=this['_slots'];_0x1dc582[_0x36a8f4]&&(_0x1dc582[_0x36a8f4]['stop'](),delete _0x1dc582[_0x36a8f4]);}['slot'](_0xf1f85b){return this['_slots'][_0xf1f85b];}['_getSlotPr'+'operty'](_0x25c1af,_0x1ffdc4){if(!this['enabled']||!this['entity']['enabled'])return;const _0x32c241=this['_slots'][_0x25c1af];if(!_0x32c241){v['warn']('Trying\x20to\x20'+'get\x20'+_0x1ffdc4+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x25c1af+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x32c241[_0x1ffdc4];}['isPlaying'](_0x4d6fd7){return this['_getSlotPr'+'operty'](_0x4d6fd7,'isPlaying')||!(-0x11b*-0x13+-0x789*-0x1+-0x1c89);}['isLoaded'](_0x515964){return this['_getSlotPr'+'operty'](_0x515964,'isLoaded')||!(0x288+0x1c34+0x1ebb*-0x1);}['isPaused'](_0x5edb32){return this['_getSlotPr'+'operty'](_0x5edb32,'isPaused')||!(-0x1fba+0x1*-0x270e+0x1*0x46c9);}['isStopped'](_0x17d6e3){return this['_getSlotPr'+'operty'](_0x17d6e3,'isStopped')||!(-0x56e+0x22cd+-0x1d5e);}['play'](_0x4459ef){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x1212c1=this['_slots'][_0x4459ef];return _0x1212c1?_0x1212c1['play']():(v['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x4459ef+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x449812){const _0xd8fae3=this['_slots'];if(_0x449812){const _0x4a0591=_0xd8fae3[_0x449812];if(!_0x4a0591){v['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x449812+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x4a0591['pause']();}else{for(const _0xaf96f9 in _0xd8fae3)_0xd8fae3[_0xaf96f9]['pause']();}}['resume'](_0x245bc8){const _0x31478b=this['_slots'];if(_0x245bc8){const _0x216784=_0x31478b[_0x245bc8];if(!_0x216784){v['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x245bc8+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x216784['isPaused']&&_0x216784['resume']();}else{for(const _0x47e6f8 in _0x31478b)_0x31478b[_0x47e6f8]['resume']();}}['stop'](_0x4e3eb4){const _0x28260a=this['_slots'];if(_0x4e3eb4){const _0xd0c07b=_0x28260a[_0x4e3eb4];if(!_0xd0c07b){v['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x4e3eb4+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0xd0c07b['stop']();}else{for(const _0x50acd4 in _0x28260a)_0x28260a[_0x50acd4]['stop']();}}}c(Nr,'EVENT_PLAY','play'),c(Nr,'EVENT_PAUS'+'E','pause'),c(Nr,'EVENT_RESU'+'ME','resume'),c(Nr,'EVENT_STOP','stop'),c(Nr,'EVENT_END','end');class kI{constructor(){this['enabled']=!(0x3bf+-0x171d*-0x1+-0x6*0x47a);}}const xx=['enabled'];class BI extends Xe{constructor(_0x2ee48c){super(_0x2ee48c),this['id']='sound',this['ComponentT'+'ype']=Nr,this['DataType']=kI,this['schema']=xx,this['manager']=_0x2ee48c['soundManag'+'er'],v['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0xa20ead){this['manager']['volume']=_0xa20ead;}get['volume'](){return this['manager']['volume'];}get['context'](){return Li()?this['manager']['context']:(v['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x5b99ea,_0x18a2fe,_0x44ddf3){_0x44ddf3=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0xc67780=0x7c*-0x3e+0x2a5*0x1+0x1b63;_0xc67780<_0x44ddf3['length'];_0xc67780++)_0x18a2fe['hasOwnProp'+'erty'](_0x44ddf3[_0xc67780])&&(_0x5b99ea[_0x44ddf3[_0xc67780]]=_0x18a2fe[_0x44ddf3[_0xc67780]]);super['initialize'+'ComponentD'+'ata'](_0x5b99ea,_0x18a2fe,['enabled']);}['cloneCompo'+'nent'](_0x1da997,_0x225391){const _0x2d8426=_0x1da997['sound'],_0x150669=_0x2d8426['slots'],_0x19b207={};for(const _0x1d2f06 in _0x150669){const _0x5a41ab=_0x150669[_0x1d2f06];_0x19b207[_0x1d2f06]={'name':_0x5a41ab['name'],'volume':_0x5a41ab['volume'],'pitch':_0x5a41ab['pitch'],'loop':_0x5a41ab['loop'],'duration':_0x5a41ab['duration'],'startTime':_0x5a41ab['startTime'],'overlap':_0x5a41ab['overlap'],'autoPlay':_0x5a41ab['autoPlay'],'asset':_0x5a41ab['asset']};}const _0x59ae57={'distanceModel':_0x2d8426['distanceMo'+'del'],'enabled':_0x2d8426['enabled'],'maxDistance':_0x2d8426['maxDistanc'+'e'],'pitch':_0x2d8426['pitch'],'positional':_0x2d8426['positional'],'refDistance':_0x2d8426['refDistanc'+'e'],'rollOffFactor':_0x2d8426['rollOffFac'+'tor'],'slots':_0x19b207,'volume':_0x2d8426['volume']};return this['addCompone'+'nt'](_0x225391,_0x59ae57);}['onUpdate'](_0x4f38f6){const _0x4a5ea6=this['store'];for(const _0x2391b0 in _0x4a5ea6)if(_0x4a5ea6['hasOwnProp'+'erty'](_0x2391b0)){const _0x1d794f=_0x4a5ea6[_0x2391b0]['entity'];if(_0x1d794f['enabled']){const _0x2b516d=_0x1d794f['sound'];if(_0x2b516d['enabled']&&_0x2b516d['positional']){const _0x515291=_0x1d794f['getPositio'+'n'](),_0x55491a=_0x2b516d['slots'];for(const _0x1993ab in _0x55491a)_0x55491a[_0x1993ab]['updatePosi'+'tion'](_0x515291);}}}}['onBeforeRe'+'move'](_0x3a9211,_0x4be560){const _0x47a935=_0x4be560['slots'];for(const _0x88013 in _0x47a935)_0x47a935[_0x88013]['overlap']||_0x47a935[_0x88013]['stop']();_0x4be560['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Nr['prototype'],xx);const Cg='simple',Mg='animated';class bi extends ce{constructor(_0x416866,_0x124831){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x416866,this['_frame']=0x17a4+0x1390+-0x2b34,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x124831['spriteAsse'+'t'],this['name']=_0x124831['name'],this['fps']=_0x124831['fps']||-0x67*-0x13+0x785+0x287*-0x6,this['loop']=_0x124831['loop']||!(0x3*0x90d+0x1dea+-0x3910),this['_playing']=!(0x1209+-0x1a3*0x2+-0xec2),this['_paused']=!(0x7*0x1a5+0x1ace+-0x2650),this['_time']=0xa0d*0x1+-0x5ab*0x4+0xc9f);}get['duration'](){if(this['_sprite']){const _0x11658d=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x11658d);}return 0x13*0x25+0x1b13*-0x1+-0x12*-0x15a;}set['frame'](_0x1e03c6){this['_setFrame'](_0x1e03c6);const _0x431c5d=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x431c5d);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x1f779b){var _0x3d8a05;if(this['_sprite']&&((_0x3d8a05=this['_evtSetMes'+'hes'])==null||_0x3d8a05['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x1f779b,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x5535cc;!_0x1f779b||!_0x1f779b['atlas']?(_0x5535cc=this['_component']['_meshInsta'+'nce'],_0x5535cc&&(_0x5535cc['deletePara'+'meter']('texture_em'+'issiveMap'),_0x5535cc['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x1f779b['atlas']['texture']&&(_0x5535cc=this['_component']['_meshInsta'+'nce'],_0x5535cc&&(_0x5535cc['setParamet'+'er']('texture_em'+'issiveMap',_0x1f779b['atlas']['texture']),_0x5535cc['setParamet'+'er']('texture_op'+'acityMap',_0x1f779b['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x553588){const _0x324ee7=this['_component']['system']['app']['assets'];let _0x292f08=_0x553588;if(_0x553588 instanceof le&&(_0x292f08=_0x553588['id']),this['_spriteAss'+'et']!==_0x292f08){if(this['_spriteAss'+'et']){const _0x2c6d22=_0x324ee7['get'](this['_spriteAss'+'et']);_0x2c6d22&&this['_unbindSpr'+'iteAsset'](_0x2c6d22);}if(this['_spriteAss'+'et']=_0x292f08,this['_spriteAss'+'et']){const _0x25bb19=_0x324ee7['get'](this['_spriteAss'+'et']);_0x25bb19?this['_bindSprit'+'eAsset'](_0x25bb19):(this['sprite']=null,_0x324ee7['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x2eb483){this['_setTime'](_0x2eb483),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0x1a31+0x3*0xa99+-0x599),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x1*-0x1ffa+-0x1267+0x599*0x9;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x585069){this['_component']['system']['app']['assets']['off']('add:'+_0x585069['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x585069['id']&&this['_bindSprit'+'eAsset'](_0x585069);}['_bindSprit'+'eAsset'](_0x44c5eb){_0x44c5eb['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x44c5eb['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x44c5eb['resource']?this['_onSpriteA'+'ssetLoad'](_0x44c5eb):this['_component']['system']['app']['assets']['load'](_0x44c5eb);}['_unbindSpr'+'iteAsset'](_0x5549cd){_0x5549cd&&(_0x5549cd['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5549cd['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5549cd['resource']&&!_0x5549cd['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x5549cd['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x23c68a){if(!_0x23c68a['resource'])this['sprite']=null;else{if(_0x23c68a['resource']['atlas'])this['sprite']=_0x23c68a['resource'];else{const _0x41ebb9=_0x23c68a['data']['textureAtl'+'asAsset'],_0x1bf487=this['_component']['system']['app']['assets'];_0x1bf487['off']('load:'+_0x41ebb9,this['_onTexture'+'AtlasLoad'],this),_0x1bf487['once']('load:'+_0x41ebb9,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x2f4bb6){const _0x56f75d=this['_spriteAss'+'et'];_0x56f75d instanceof le?this['_onSpriteA'+'ssetLoad'](_0x56f75d):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x56f75d));}['_onSpriteA'+'ssetRemove'](_0x27f4ca){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Ti&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x23337f){if(this['fps']===0x20bf+-0xfc9+-0x10f6||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x9d694e=this['fps']<-0x4a1+0x22*-0x29+0xa13?-(-0x1*-0x1f67+0xe*0x1f5+0xeb3*-0x4):0x1058+-0x158*0x3+-0xc4f*0x1,_0x45112f=this['_time']+_0x23337f*this['_component']['speed']*_0x9d694e,_0x2bc360=this['duration'],_0x751517=_0x45112f>_0x2bc360||_0x45112f<-0x43e*-0x1+-0x1704+0x12c6;this['_setTime'](_0x45112f);let _0x14403e=this['frame'];this['_sprite']?_0x14403e=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x2bc360):_0x14403e=-0x160d+0x14d*0x11+-0x8*0x2,_0x14403e!==this['_frame']&&this['_setFrame'](_0x14403e),_0x751517&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x1697+-0x58*0x56+0x6fa),this['_paused']=!(-0x149a*-0x1+0x7*-0x49a+0x3*0x3df),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x512721){this['_time']=_0x512721;const _0x43ed4d=this['duration'];this['_time']<-0x1619+0xdfc+-0x1f*-0x43?this['loop']?this['_time']=this['_time']%_0x43ed4d+_0x43ed4d:this['_time']=-0x2*-0x2db+-0x28a+0x7*-0x74:this['_time']>_0x43ed4d&&(this['loop']?this['_time']%=_0x43ed4d:this['_time']=_0x43ed4d);}['_setFrame'](_0x592243){this['_sprite']?this['_frame']=N['clamp'](_0x592243,-0x832*-0x2+-0x19b9+0x955,this['_sprite']['frameKeys']['length']-(-0xa73*-0x1+0x1fd+0xc6f*-0x1)):this['_frame']=_0x592243,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x1ba0c7=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x1ba0c7['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0xdbc+-0x1917+0xb5b),this['_paused']=!(-0xc6a+0x2702+-0x1a97*0x1),this['frame']=0x5*0x101+0xd7+-0x32*0x1e,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x1*0x179+0x1*-0x36e+0x1f5*0x1),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0x7f*0x1f+0xac8+-0x7c*0x36),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x15ba+-0x1131+-0x488),this['_paused']=!(-0x1986+-0x17dc+0x3163),this['_time']=-0xae7+-0x24a*-0x1+0x89d,this['frame']=-0x58+-0x3*0xa2a+0x2*0xf6b,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(bi,'EVENT_PLAY','play'),c(bi,'EVENT_PAUS'+'E','pause'),c(bi,'EVENT_RESU'+'ME','resume'),c(bi,'EVENT_STOP','stop'),c(bi,'EVENT_END','end'),c(bi,'EVENT_LOOP','loop');const Pg='texture_em'+'issiveMap',Rg='texture_op'+'acityMap',Ig='material_e'+'missive',Dg='material_o'+'pacity',NI='innerOffse'+'t',zI='outerScale',UI='atlasRect';class ji extends ue{constructor(_0x3e0c10,_0xd6d3d2){super(_0x3e0c10,_0xd6d3d2),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Cg,this['_material']=_0x3e0c10['defaultMat'+'erial'],this['_color']=new Y(0x1181+-0x1eb+-0x1*0xf95,0x20d0+-0x243b+0x36c,0x3a1*0x8+0x73+0x2*-0xebd,0xa62+-0x95*-0x42+-0x1*0x30cb),this['_colorUnif'+'orm']=new Float32Array(-0x1be6+-0x2*0xa86+0x1*0x30f5),this['_speed']=0x220*0xe+-0x260b+-0x3b*-0x24,this['_flipX']=!(0x10c+-0x2195*-0x1+-0x22a0),this['_flipY']=!(0x75*0x17+0x1*0xc0a+-0x168c),this['_width']=0x97*-0x2b+-0x14fb*-0x1+-0x1*-0x463,this['_height']=0x1e7e+-0x13d*-0x12+-0x34c7,this['_drawOrder']=0x225f+0x23b0+0x1*-0x460f,this['_layers']=[Fi],this['_outerScal'+'e']=new $(-0x204f+0xaac+0x22a*0xa,-0x1caa+-0x2509+0x244*0x1d),this['_outerScal'+'eUniform']=new Float32Array(-0x221b+-0x4de+0x24b*0x11),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x3*0xa67+-0x15b*-0x2+0x1c83*0x1),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(-0xb03*-0x1+0x22*0xf6+-0x2bab),this['_batchGrou'+'pId']=-(0x2429*0x1+-0x1dcb+0x21f*-0x3),this['_batchGrou'+'p']=null,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0xd6d3d2['addChild'](this['_model']['graph']),this['_model']['_entity']=_0xd6d3d2,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0x1443+0x22c6+-0x1*0xe82),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new bi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0xd10+-0x11db+0x7bb*0x4),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x1f0267){this['_type']!==_0x1f0267&&(this['_type']=_0x1f0267,this['_type']===Cg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Mg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x3ab7d6){this['_currentCl'+'ip']['frame']=_0x3ab7d6;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x5cda97){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x5cda97;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x32defd){this['_currentCl'+'ip']['sprite']=_0x32defd;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0xa9526a){this['_material']=_0xa9526a,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0xa9526a);}get['material'](){return this['_material'];}set['color'](_0x1de9a8){this['_color']['r']=_0x1de9a8['r'],this['_color']['g']=_0x1de9a8['g'],this['_color']['b']=_0x1de9a8['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0x186a+-0x1*-0x6b+0x17ff*0x1]=this['_color']['r'],this['_colorUnif'+'orm'][-0xd2b+0x1387*-0x1+0x20b3]=this['_color']['g'],this['_colorUnif'+'orm'][0x19ad+0x1062+-0x2a0d]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x4f2920){this['_color']['a']=_0x4f2920,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Dg,_0x4f2920);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x16187f){if(!_0x16187f){for(const _0x5cdfe6 in this['_clips'])this['removeClip'](_0x5cdfe6);return;}for(const _0x422dec in this['_clips']){let _0x5843eb=!(-0x1*0x23b7+-0x1fc3+0x437b);for(const _0x18b2b2 in _0x16187f)if(_0x16187f[_0x18b2b2]['name']===_0x422dec){_0x5843eb=!(-0x22*-0xa3+0x97c*-0x1+0x615*-0x2),this['_clips'][_0x422dec]['fps']=_0x16187f[_0x18b2b2]['fps'],this['_clips'][_0x422dec]['loop']=_0x16187f[_0x18b2b2]['loop'],_0x16187f[_0x18b2b2]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x422dec]['sprite']=_0x16187f[_0x18b2b2]['sprite']:_0x16187f[_0x18b2b2]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x422dec]['spriteAsse'+'t']=_0x16187f[_0x18b2b2]['spriteAsse'+'t']);break;}_0x5843eb||this['removeClip'](_0x422dec);}for(const _0x4ba7b8 in _0x16187f)this['_clips'][_0x16187f[_0x4ba7b8]['name']]||this['addClip'](_0x16187f[_0x4ba7b8]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x4d85fc){this['_speed']=_0x4d85fc;}get['speed'](){return this['_speed'];}set['flipX'](_0x11ecad){this['_flipX']!==_0x11ecad&&(this['_flipX']=_0x11ecad,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x403f35){this['_flipY']!==_0x403f35&&(this['_flipY']=_0x403f35,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x44103d){_0x44103d!==this['_width']&&(this['_width']=_0x44103d,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x9caeeb){_0x9caeeb!==this['_height']&&(this['_height']=_0x9caeeb,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x1f8e9f){var _0x22e11b,_0x71634e;if(this['_batchGrou'+'pId']===_0x1f8e9f)return;const _0x1777d7=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x1f8e9f,this['entity']['enabled']&&_0x1777d7>=-0x1*-0x1976+-0xd92+-0xbe4&&((_0x22e11b=this['system']['app']['batcher'])==null||_0x22e11b['remove'](et['SPRITE'],_0x1777d7,this['entity'])),this['entity']['enabled']&&_0x1f8e9f>=0x23d*-0x1+-0x12b3+0x14f0?(_0x71634e=this['system']['app']['batcher'])==null||_0x71634e['insert'](et['SPRITE'],_0x1f8e9f,this['entity']):_0x1777d7>=0x1*-0x1591+0x4f*-0x1+0x1c*0xc8&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x41df54){this['_autoPlayC'+'lip']=_0x41df54 instanceof bi?_0x41df54['name']:_0x41df54,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x150f75){this['_drawOrder']=_0x150f75,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x150f75);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x5f5474){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x5f5474,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x1952bc;const _0x47d2c1=this['system']['app'],_0x4986e5=_0x47d2c1['scene'],_0x3d1279=_0x4986e5['layers'];this['_evtLayers'+'Changed']=_0x4986e5['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x3d1279&&(this['_evtLayerA'+'dded']=_0x3d1279['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x3d1279['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0xaf5*-0x1+0x63*0x23+0x1e*-0x16&&((_0x1952bc=_0x47d2c1['batcher'])==null||_0x1952bc['insert'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0xe7848b,_0x4aaf48,_0x430580,_0x44a895;const _0x51e4f3=this['system']['app'],_0x517ee7=_0x51e4f3['scene']['layers'];(_0xe7848b=this['_evtLayers'+'Changed'])==null||_0xe7848b['off'](),this['_evtLayers'+'Changed']=null,_0x517ee7&&((_0x4aaf48=this['_evtLayerA'+'dded'])==null||_0x4aaf48['off'](),this['_evtLayerA'+'dded']=null,(_0x430580=this['_evtLayerR'+'emoved'])==null||_0x430580['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0xe0c*-0x1+-0x3e6*-0x2+0xaec*-0x2&&((_0x44a895=_0x51e4f3['batcher'])==null||_0x44a895['remove'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x4a094e;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x186814 in this['_clips'])this['_clips'][_0x186814]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x4a094e=this['_node'])==null||_0x4a094e['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x377130=[this['_meshInsta'+'nce']];for(let _0x45d742=-0x751*0x2+-0x177c+0x261e,_0x5379e0=this['_layers']['length'];_0x45d742<_0x5379e0;_0x45d742++){const _0x5b1c6c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x45d742]);_0x5b1c6c&&_0x5b1c6c['addMeshIns'+'tances'](_0x377130);}this['_addedMode'+'l']=!(-0xaf5+-0x1d69+0x285e*0x1);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x35eab1=[this['_meshInsta'+'nce']];for(let _0x4ac02f=0x7*-0x203+0x10*0x270+-0x18eb,_0x521e74=this['_layers']['length'];_0x4ac02f<_0x521e74;_0x4ac02f++){const _0x47b8e4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4ac02f]);_0x47b8e4&&_0x47b8e4['removeMesh'+'Instances'](_0x35eab1);}this['_addedMode'+'l']=!(-0x32e*0xb+-0x16d9+0x39d4);}['_showFrame'](_0x3a5e14){if(!this['sprite'])return;const _0x3bf12a=this['sprite']['meshes'][_0x3a5e14];if(!_0x3bf12a){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x391*-0x5+-0x1d63*-0x1+-0x33*0xed));return;}let _0x3a0175;if(this['sprite']['renderMode']===nt?_0x3a0175=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Qe?_0x3a0175=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x3a0175=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Le(_0x3bf12a,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(-0x2357+-0x2406+0x475e),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0x763+-0xa75*-0x2+-0xd86),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0x1824+-0x1eb1+0x68d]=this['_color']['r'],this['_colorUnif'+'orm'][-0x13*0x1c4+-0x6ed+-0xb*-0x3ae]=this['_color']['g'],this['_colorUnif'+'orm'][0x2*0x130+-0x1427+0x11c9*0x1]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x3a0175&&(this['_meshInsta'+'nce']['material']=_0x3a0175),this['_meshInsta'+'nce']['mesh']!==_0x3bf12a&&(this['_meshInsta'+'nce']['mesh']=_0x3bf12a,this['_meshInsta'+'nce']['visible']=!(0x1c72+-0x1485+-0x7ed),this['_meshInsta'+'nce']['_aabbVer']=-(0x9*-0x13+-0x1*0x1+0x1*0xad)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Pg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Pg),this['_meshInsta'+'nce']['deletePara'+'meter'](Rg)),this['sprite']['atlas']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x1a509c=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x3a5e14]];if(_0x1a509c){const _0x120085=(0x502+0x1*0xa5a+-0xf5a)/_0x1a509c['rect']['z'],_0x55c8b6=(-0x460+0x2f*0xe+0xe8*0x2)/_0x1a509c['rect']['w'];this['_innerOffs'+'et']['set'](_0x1a509c['border']['x']*_0x120085,_0x1a509c['border']['y']*_0x55c8b6,_0x1a509c['border']['z']*_0x120085,_0x1a509c['border']['w']*_0x55c8b6);const _0x1f7e8a=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x1a509c['rect']['x']/_0x1f7e8a['width'],_0x1a509c['rect']['y']/_0x1f7e8a['height'],_0x1a509c['rect']['z']/_0x1f7e8a['width'],_0x1a509c['rect']['w']/_0x1f7e8a['height']);}else this['_innerOffs'+'et']['set'](-0xd9*0xd+0x5be+0x547*0x1,-0x5c+0x5bb+-0x55f,-0x6c4+-0x1*0x1573+-0x1c37*-0x1,0x8*0x2f1+-0x18b+-0x15fd);this['_innerOffs'+'etUniform'][-0xe9a*0x1+-0x16d9+0x2573]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x6eb+0x25a+-0x944]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x27*-0x41+-0xf*-0x4+0xa21*-0x1]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x8ab*-0x3+0x1238+0x7cc*0x1]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](NI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x7c6+-0x1bb8+0x237e]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x9d3+-0xcfe*-0x3+-0x30cc]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x9*0x16e+0x1a69+-0x7*0x1ef]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0xe47+-0xac4+0x1*0x190e]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x22bda8=this['flipX']?-(-0xd*0xd5+0x1ea6+-0x13d4):-0xdc8+0x423*-0x1+0x11ec,_0xccc511=this['flipY']?-(-0x7*0x265+-0x262c*-0x1+-0x1568):0xdcc+-0xe2f*-0x2+-0x2a29,_0x562f26=0xb6d+0x3*-0x305+-0x3*0xca,_0x323543=-0x1d0d+0x13*-0x201+0x4320;if(this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){let _0x12d5ed=0x7c*-0x1+-0x1*-0x22db+-0x35*0xa6,_0x41e944=0xa87+-0x1eba+0x1434;if(this['sprite']['atlas']){const _0x483d1d=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x483d1d&&(_0x12d5ed=_0x483d1d['rect']['z'],_0x41e944=_0x483d1d['rect']['w'],_0x562f26=(0xd81+0x20d7+0x5cb*-0x8+0.5-_0x483d1d['pivot']['x'])*this['_width'],_0x323543=(-0x19d*-0x16+0x1f6*-0xb+-0x4*0x37b+0.5-_0x483d1d['pivot']['y'])*this['_height']);}const _0x20af79=_0x12d5ed/this['sprite']['pixelsPerU'+'nit'],_0x4575c0=_0x41e944/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x20af79),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x4575c0)),_0x22bda8*=_0x20af79,_0xccc511*=_0x4575c0,this['_outerScal'+'e']['x']/=_0x20af79,this['_outerScal'+'e']['y']/=_0x4575c0,_0x22bda8*=N['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x20af79),-0x236e+0x1*0x1087+0x12e7+0.0001,-0x81*0x1+-0x123b+-0x171*-0xd),_0xccc511*=N['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x4575c0),0x246e+-0x4*0x8bd+-0x17a+0.0001,-0x2*0xaf6+0xc4e+0x1*0x99f),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x7a7+-0x35f*0x2+0x1*-0xe9]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x2109+0xbd9*-0x2+0x1*0x38bc]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x22bda8,_0xccc511,-0x4b2*0x8+0x62e*0x1+0x1f63),this['_node']['setLocalPo'+'sition'](_0x562f26,_0x323543,-0x11fb+-0x1c48+0x2e43);}['_updateAab'+'b'](_0x223b1f){return _0x223b1f['center']['set'](0x1*0xb41+0xe8f*-0x1+0x34e,-0x179*-0x3+0x1ec8+-0x2333*0x1,0x1*-0x1ff1+0x15a*0x4+0x1a89),_0x223b1f['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x3ab*-0x3+0x1467+-0x966+0.5),this['_outerScal'+'e']['y']*(0x24f+0x1*0xbc9+0x2*-0x70c+0.5),0x42+0x2457+-0x2499+0.001),_0x223b1f['setFromTra'+'nsformedAa'+'bb'](_0x223b1f,this['_node']['getWorldTr'+'ansform']()),_0x223b1f;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Mg)return;const _0x126f57=this['_clips'][this['_autoPlayC'+'lip']];_0x126f57&&!_0x126f57['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x126f57['name']);}['_onLayersC'+'hanged'](_0x2428e6,_0x3c238c){_0x2428e6['off']('add',this['onLayerAdd'+'ed'],this),_0x2428e6['off']('remove',this['onLayerRem'+'oved'],this),_0x3c238c['on']('add',this['onLayerAdd'+'ed'],this),_0x3c238c['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x5d4093){this['layers']['indexOf'](_0x5d4093['id'])<0x2*0x1079+0x161*-0xa+-0x1328||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x5d4093['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x1c4f1d){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x1c4f1d['id'])<-0x8d0+0x2ea*-0x1+0xbba||_0x1c4f1d['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x2e7f74=-0x6*0x187+-0x1edd*-0x1+-0x15b3;_0x2e7f74<this['layers']['length'];_0x2e7f74++){const _0x4405c0=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2e7f74]);_0x4405c0&&_0x4405c0['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x387439){const _0x98ab5f=new bi(this,{'name':_0x387439['name'],'fps':_0x387439['fps'],'loop':_0x387439['loop'],'spriteAsset':_0x387439['spriteAsse'+'t']});return this['_clips'][_0x387439['name']]=_0x98ab5f,_0x98ab5f['name']&&_0x98ab5f['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x98ab5f;}['removeClip'](_0x59c129){delete this['_clips'][_0x59c129];}['clip'](_0x24e32d){return this['_clips'][_0x24e32d];}['play'](_0xc30e82){const _0x546850=this['_clips'][_0xc30e82],_0x3ebab9=this['_currentCl'+'ip'];return _0x3ebab9&&_0x3ebab9!==_0x546850&&(_0x3ebab9['_playing']=!(-0x1*0x155d+-0x1566+0x1*0x2ac4)),this['_currentCl'+'ip']=_0x546850,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x546850,this['_currentCl'+'ip']['play']()):v['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0xc30e82+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x546850;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(ji,'EVENT_PLAY','play'),c(ji,'EVENT_PAUS'+'E','pause'),c(ji,'EVENT_RESU'+'ME','resume'),c(ji,'EVENT_STOP','stop'),c(ji,'EVENT_END','end'),c(ji,'EVENT_LOOP','loop');class VI{constructor(){this['enabled']=!(0x13ae+-0x17bd*0x1+-0x1*-0x40f);}}const Sx=['enabled'];class GI extends Xe{constructor(_0x3b9532){super(_0x3b9532),this['id']='sprite',this['ComponentT'+'ype']=ji,this['DataType']=VI,this['schema']=Sx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x37d312){this['_defaultMa'+'terial']=_0x37d312;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0xd6b746=new he(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Se,'name':'sprite'}),_0x31d45f=new Uint8Array(_0xd6b746['lock']());_0x31d45f[-0x1d*-0x106+-0x24d0+0x722*0x1]=_0x31d45f[-0x2f5+-0xce2*-0x1+0xfe*-0xa]=_0x31d45f[0x1*0x2459+0x11*-0x1af+-0x7b8]=_0x31d45f[0x1*0x22bd+-0xc6a+-0x1650]=-0x4*-0x3a7+0x140*-0x4+0x23*-0x3f,_0xd6b746['unlock']();const _0x194cc2=new cs();_0x194cc2['diffuse']['set'](-0x171a*-0x1+0xa94*-0x3+0x8a2,-0x1*-0xc33+-0x2027+0x13f4,0xd43+0x56b+-0x12ae),_0x194cc2['emissive']['set'](0x2b6+0x26*-0xfd+0x22d9,-0x9*-0x34b+0x1de0+0x2*-0x1dc1,0x1*-0x1aa1+0x22+0x1a80),_0x194cc2['emissiveMa'+'p']=_0xd6b746,_0x194cc2['opacityMap']=_0xd6b746,_0x194cc2['opacityMap'+'Channel']='a',_0x194cc2['useLightin'+'g']=!(0x139*0x1f+0x1b62+-0x4148),_0x194cc2['useTonemap']=!(-0x1b01+-0x1556+0x3058),_0x194cc2['useFog']=!(0x115f+-0x13*0xdf+-0xd1),_0x194cc2['useSkybox']=!(0x4f*0x75+-0x244a+0x10*0x3),_0x194cc2['blendType']=hr,_0x194cc2['depthWrite']=!(0x2207+0x154b+-0x3751),_0x194cc2['pixelSnap']=!(-0x133f+0x248f+-0x114f*0x1),_0x194cc2['cull']=mt,_0x194cc2['update'](),this['_defaultTe'+'xture']=_0xd6b746,this['_defaultMa'+'terial']=_0x194cc2;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x268fa4){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x268fa4;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x1726f1=this['defaultMat'+'erial']['clone']();_0x1726f1['nineSliced'+'Mode']=nt,_0x1726f1['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x1726f1;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x3f6744){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x3f6744;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x1510bd=this['defaultMat'+'erial']['clone']();_0x1510bd['nineSliced'+'Mode']=Qe,_0x1510bd['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x1510bd;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x396a0a,_0x4dc2f2,_0x11163a){if(_0x4dc2f2['enabled']!==void(-0x223c+0x7*-0x2b3+0x3521)&&(_0x396a0a['enabled']=_0x4dc2f2['enabled']),_0x396a0a['type']=_0x4dc2f2['type'],_0x4dc2f2['layers']&&Array['isArray'](_0x4dc2f2['layers'])&&(_0x396a0a['layers']=_0x4dc2f2['layers']['slice'](-0x288+-0x9*0x4f+0x97*0x9)),_0x4dc2f2['drawOrder']!==void(-0x184e+-0x1acc+0x331a)&&(_0x396a0a['drawOrder']=_0x4dc2f2['drawOrder']),_0x4dc2f2['color']!==void(-0x3*0x445+-0x1b20+-0x1*-0x27ef)&&(_0x4dc2f2['color']instanceof Y?_0x396a0a['color']['set'](_0x4dc2f2['color']['r'],_0x4dc2f2['color']['g'],_0x4dc2f2['color']['b'],_0x4dc2f2['opacity']??-0xcf0+-0x208b+-0x29*-0x11c):_0x396a0a['color']['set'](_0x4dc2f2['color'][-0xd+-0x1ef4+0x1f01],_0x4dc2f2['color'][-0x15ab+0x1461+0x1*0x14b],_0x4dc2f2['color'][-0x123+-0x7e9+0x90e],_0x4dc2f2['opacity']??0x1*-0x1cf+0x117f*-0x1+0x134f),_0x396a0a['color']=_0x396a0a['color']),_0x4dc2f2['opacity']!==void(0x2014+-0x111*0x19+-0x56b)&&(_0x396a0a['opacity']=_0x4dc2f2['opacity']),_0x4dc2f2['flipX']!==void(-0x1375+0x1*-0x16+0x138b)&&(_0x396a0a['flipX']=_0x4dc2f2['flipX']),_0x4dc2f2['flipY']!==void(0x3c7*0x8+-0x19a6*-0x1+-0x37de)&&(_0x396a0a['flipY']=_0x4dc2f2['flipY']),_0x4dc2f2['width']!==void(0x8a4+0x186c+-0x2110)&&(_0x396a0a['width']=_0x4dc2f2['width']),_0x4dc2f2['height']!==void(-0x1f53+0x8cc+-0x1687*-0x1)&&(_0x396a0a['height']=_0x4dc2f2['height']),_0x4dc2f2['spriteAsse'+'t']!==void(-0xb7a+-0x992+0x150c*0x1)&&(_0x396a0a['spriteAsse'+'t']=_0x4dc2f2['spriteAsse'+'t']),_0x4dc2f2['sprite']&&(_0x396a0a['sprite']=_0x4dc2f2['sprite']),_0x4dc2f2['frame']!==void(-0x127a+0x5ec+-0x647*-0x2)&&(_0x396a0a['frame']=_0x4dc2f2['frame']),_0x4dc2f2['clips']){for(const _0x3cf3b6 in _0x4dc2f2['clips'])_0x396a0a['addClip'](_0x4dc2f2['clips'][_0x3cf3b6]);}_0x4dc2f2['speed']!==void(-0x2*-0x44b+0x1b68+0x11ff*-0x2)&&(_0x396a0a['speed']=_0x4dc2f2['speed']),_0x4dc2f2['autoPlayCl'+'ip']&&(_0x396a0a['autoPlayCl'+'ip']=_0x4dc2f2['autoPlayCl'+'ip']),_0x396a0a['batchGroup'+'Id']=_0x4dc2f2['batchGroup'+'Id']===void(0x2466+0x11*0x1b+-0x2631)||_0x4dc2f2['batchGroup'+'Id']===null?-(-0x1*-0x1e5c+-0x2*-0x79f+-0x2d99):_0x4dc2f2['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x396a0a,_0x4dc2f2,_0x11163a);}['cloneCompo'+'nent'](_0x3b1b46,_0x35a9be){const _0x1fa76e=_0x3b1b46['sprite'];return this['addCompone'+'nt'](_0x35a9be,{'enabled':_0x1fa76e['enabled'],'type':_0x1fa76e['type'],'spriteAsset':_0x1fa76e['spriteAsse'+'t'],'sprite':_0x1fa76e['sprite'],'width':_0x1fa76e['width'],'height':_0x1fa76e['height'],'frame':_0x1fa76e['frame'],'color':_0x1fa76e['color']['clone'](),'opacity':_0x1fa76e['opacity'],'flipX':_0x1fa76e['flipX'],'flipY':_0x1fa76e['flipY'],'speed':_0x1fa76e['speed'],'clips':_0x1fa76e['clips'],'autoPlayClip':_0x1fa76e['autoPlayCl'+'ip'],'batchGroupId':_0x1fa76e['batchGroup'+'Id'],'drawOrder':_0x1fa76e['drawOrder'],'layers':_0x1fa76e['layers']['slice'](-0x775+-0x2*-0x8a2+-0x9cf)});}['onUpdate'](_0x3337ed){const _0x1362d8=this['store'];for(const _0x409b54 in _0x1362d8)if(_0x1362d8['hasOwnProp'+'erty'](_0x409b54)){const _0x2549fd=_0x1362d8[_0x409b54];if(_0x2549fd['data']['enabled']&&_0x2549fd['entity']['enabled']){const _0x207aac=_0x2549fd['entity']['sprite'];_0x207aac['_currentCl'+'ip']&&_0x207aac['_currentCl'+'ip']['_update'](_0x3337ed);}}}['onBeforeRe'+'move'](_0x4ac8f2,_0x4f17db){_0x4f17db['onDestroy']();}}ue['_buildAcce'+'ssors'](ji['prototype'],Sx);class ra extends ue{constructor(_0x290143,_0x5f269c){super(_0x290143,_0x5f269c),this['_oldState']=!(0x195e+-0x1*-0x92b+0xb83*-0x3),this['_size']=new T(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x4f823c){_0x4f823c instanceof T?this['_size']['copy'](_0x4f823c):_0x4f823c instanceof Array&&_0x4f823c['length']>=0x1*0x5de+0x177d+-0x1d58*0x1&&this['size']['set'](_0x4f823c[0x1cef+-0x2*0x1c4+-0x1967],_0x4f823c[0x6a3*-0x3+0x1*0x20ed+-0xd03*0x1],_0x4f823c[0x1*0x166f+0x1d96+-0x3403]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x3c15a9,_0x21db27,_0x5d6b41){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x392c0c=this['enabled']&&this['entity']['enabled'];_0x392c0c!==this['_oldState']&&(this['_oldState']=_0x392c0c,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(ra,'EVENT_ENAB'+'LE','enable'),c(ra,'EVENT_DISA'+'BLE','disable'),c(ra,'EVENT_STAT'+'E','state'),c(ra,'EVENT_REMO'+'VE','remove');class HI{constructor(){this['enabled']=!(-0x10e9+0x1*0x1d09+-0xc20);}}const vx=['enabled'];class $I extends Xe{constructor(_0x38c12f){super(_0x38c12f),this['id']='zone',this['ComponentT'+'ype']=ra,this['DataType']=HI,this['schema']=vx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x4d1a7f,_0x5f348d,_0x37b16e){_0x4d1a7f['enabled']=_0x5f348d['hasOwnProp'+'erty']('enabled')?!!_0x5f348d['enabled']:!(-0x6*-0x371+-0x1a91+0x65*0xf),_0x5f348d['size']&&(_0x5f348d['size']instanceof T?_0x4d1a7f['size']['copy'](_0x5f348d['size']):_0x5f348d['size']instanceof Array&&_0x5f348d['size']['length']>=0x419*-0x4+0x6c1*0x2+0x39*0xd&&_0x4d1a7f['size']['set'](_0x5f348d['size'][-0x6*0x30b+-0x15*-0x1+0x122d*0x1],_0x5f348d['size'][0x2*0xad+-0x18*0x176+0x21b7],_0x5f348d['size'][-0x28b+0x18f0+-0x1663]));}['cloneCompo'+'nent'](_0x3df0c7,_0x4acb3c){const _0x24c603={'enabled':_0x3df0c7['zone']['enabled'],'size':_0x3df0c7['zone']['size']};return this['addCompone'+'nt'](_0x4acb3c,_0x24c603);}['_onBeforeR'+'emove'](_0x5b2753,_0x42bded){_0x42bded['_onBeforeR'+'emove']();}}ue['_buildAcce'+'ssors'](ra['prototype'],vx);class WI{constructor(_0x3b47c2,_0x2432b4){this['effect']=_0x3b47c2,this['inputTarge'+'t']=_0x2432b4,this['outputTarg'+'et']=null,this['name']=_0x3b47c2['constructo'+'r']['name'];}}class qI{constructor(_0x385c4a,_0xf4c66e){this['app']=_0x385c4a,this['camera']=_0xf4c66e,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0x4*-0x307+-0x7a*0x43+0x19*0x1c3),this['depthTarge'+'t']=null,_0xf4c66e['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x1a4f90,_0x44e55b){const _0x4c4781=this['camera']['rect'],_0x50ef4e=this['destinatio'+'nRenderTar'+'get'],_0x40cd1d=this['app']['graphicsDe'+'vice'],_0x14c666=Math['floor'](_0x4c4781['z']*((_0x50ef4e==null?void(-0x3c5*-0x3+-0x2ce+-0x881):_0x50ef4e['width'])??_0x40cd1d['width'])),_0x1201f0=Math['floor'](_0x4c4781['w']*((_0x50ef4e==null?void(0x13*-0xed+0x7d9+-0x9be*-0x1):_0x50ef4e['height'])??_0x40cd1d['height']));return new he(_0x40cd1d,{'name':_0x44e55b,'format':_0x1a4f90,'width':_0x14c666,'height':_0x1201f0,'mipmaps':!(0xe6e+-0x83*0x9+-0x346*0x3),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['_createOff'+'screenTarg'+'et'](_0x5e89c9,_0xca4b2a){const _0x310ce5=this['app']['graphicsDe'+'vice'],_0x2b58ac=(this['destinatio'+'nRenderTar'+'get']??_0x310ce5['backBuffer'])['isColorBuf'+'ferSrgb'](0x478+-0x2381+-0x5*-0x635),_0x18ae2c=(_0xca4b2a&&_0x310ce5['getRendera'+'bleHdrForm'+'at']([Je,Ke],!(0x1d08+-0x4f4+-0x1814)))??(_0x2b58ac?rs:Se),_0x11ce99=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x2fb698=this['_allocateC'+'olorBuffer'](_0x18ae2c,_0x11ce99);return new pt({'colorBuffer':_0x2fb698,'depth':_0x5e89c9,'stencil':_0x5e89c9&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x5e89c9?_0x310ce5['samples']:0x217*-0xd+-0x2*0x559+0x25de});}['_resizeOff'+'screenTarg'+'et'](_0x1369b3){const _0x234366=_0x1369b3['colorBuffe'+'r']['format'],_0x2031f3=_0x1369b3['colorBuffe'+'r']['name'];_0x1369b3['destroyFra'+'meBuffers'](),_0x1369b3['destroyTex'+'tureBuffer'+'s'](),_0x1369b3['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x234366,_0x2031f3),_0x1369b3['_colorBuff'+'ers']=[_0x1369b3['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x33efd8){_0x33efd8['destroyTex'+'tureBuffer'+'s'](),_0x33efd8['destroy']();}['addEffect'](_0x4db5ec){const _0x38674f=this['effects'],_0x10a7f0=_0x38674f['length']===0x35*-0x6f+0x1c06+-0x50b,_0x541e39=this['_createOff'+'screenTarg'+'et'](_0x10a7f0,_0x4db5ec['hdr']),_0x5d5e93=new WI(_0x4db5ec,_0x541e39);_0x38674f['push'](_0x5d5e93),this['_sourceTar'+'get']=_0x5d5e93['inputTarge'+'t'],_0x38674f['length']>0x798*0x1+0x134*0x18+0x2477*-0x1&&(_0x38674f[_0x38674f['length']-(0x1102+0x1*0x1b7+-0x12b7*0x1)]['outputTarg'+'et']=_0x5d5e93['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x4db5ec,_0x4db5ec['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(0x5*-0x319+-0x15dd+0x255a);}['removeEffe'+'ct'](_0x523819){let _0x33c990=-(-0x1360+0x2ce*-0xd+-0xb2b*-0x5);for(let _0x987cf1=0x171a+-0xb0c+-0x1*0xc0e,_0x55dfc8=this['effects']['length'];_0x987cf1<_0x55dfc8;_0x987cf1++)if(this['effects'][_0x987cf1]['effect']===_0x523819){_0x33c990=_0x987cf1;break;}_0x33c990>=-0x1753+-0x38b+0x1ade&&(_0x33c990>0xe*-0x3+-0x539*0x7+0x11*0x229?this['effects'][_0x33c990-(0x7*-0x425+-0x6de+0x23e2*0x1)]['outputTarg'+'et']=_0x33c990+(0x296+-0x453*0x9+-0x2456*-0x1)<this['effects']['length']?this['effects'][_0x33c990+(-0x24e2+0x4ef+0x1ff4)]['inputTarge'+'t']:null:this['effects']['length']>0x202a+-0x1506+-0x1*0xb23&&(this['effects'][0xc55+-0x10c6+0x472]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0xf2e+-0x3*-0x147+0x5ad*0x2]['inputTarge'+'t']),this['effects'][0xb77+-0xb1b*-0x3+-0xeed*0x3]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0xa67*-0x1+-0x6df*-0x1+-0x4*-0xe2),this['effects'][0x9*-0x453+-0x21cd+-0x48b9*-0x1]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x15a9+-0x249e+0x3a48]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][0x1fd0+-0x2283+0x2b4*0x1]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x33c990]['inputTarge'+'t']),this['effects']['splice'](_0x33c990,-0x261d+0x160b+-0x1013*-0x1)),this['enabled']&&_0x523819['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x1805+0x9ef*-0x2+-0x427&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x3b228d=-0x24dc+-0xd84+-0xd0*-0x3e,_0x25bb20=this['effects']['length'];_0x3b228d<_0x25bb20;_0x3b228d++){const _0x2c40c6=this['effects'][_0x3b228d]['effect'];this['_newPostEf'+'fect']!==_0x2c40c6&&_0x2c40c6['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x182b4a=0x2152*0x1+-0x25ed+-0x83*-0x9,_0x2aa9f4=this['effects']['length'];_0x182b4a<_0x2aa9f4;_0x182b4a++)this['effects'][_0x182b4a]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x4031f9=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x4031f9&&(_0x4031f9['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x1755+0x823+0xf32)));}['_releaseDe'+'pthMap'](){const _0x2e6adb=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x2e6adb&&(_0x2e6adb['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x1*0xb44+0x797*0x1+0x7f*-0x26)));}['destroy'](){for(let _0x272ca7=0x21cf+0x27*-0x49+-0x16*0x108,_0x2014bd=this['effects']['length'];_0x272ca7<_0x2014bd;_0x272ca7++)this['effects'][_0x272ca7]['inputTarge'+'t']['destroy']();this['effects']['length']=-0x10d5*0x1+-0x1bcd+0x2ca2,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0xa*0x186+-0x1*0x1614+0x2550),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0x3d*0x4a+0x3*0x8d7+0x8e3*-0x1]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x502404=null;const _0x490da7=this['effects']['length'];if(_0x490da7)for(let _0x772240=0x220e*0x1+-0x21a7*-0x1+-0x43b5;_0x772240<_0x490da7;_0x772240++){const _0x337b36=this['effects'][_0x772240];let _0xb276ac=_0x337b36['outputTarg'+'et'];_0x772240===_0x490da7-(-0x210c+0x1683+-0x8e*-0x13)&&(_0x502404=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0xb276ac=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x337b36['name']),_0x337b36['effect']['render'](_0x337b36['inputTarge'+'t'],_0xb276ac,_0x502404),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x2*-0x320+0xf78+-0x151*0x7),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x373bf6,_0x248d0f){const _0x52f83b=this['camera']['rect'],_0x1b5af1=this['destinatio'+'nRenderTar'+'get'];_0x373bf6=(_0x1b5af1==null?void(0x1b1a*-0x1+-0x61*0x30+0x2d4a):_0x1b5af1['width'])??_0x373bf6,_0x248d0f=(_0x1b5af1==null?void(0xcfe*-0x3+-0x4b0*-0x4+-0x3*-0x6be):_0x1b5af1['height'])??_0x248d0f,this['camera']['camera']['aspectRati'+'o']=_0x373bf6*_0x52f83b['z']/(_0x248d0f*_0x52f83b['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x390dcb=this['app']['graphicsDe'+'vice'],_0x47b953=this['destinatio'+'nRenderTar'+'get'],_0x4938e9=(_0x47b953==null?void(0x256c+0x1d05+-0x1*0x4271):_0x47b953['width'])??_0x390dcb['width'],_0x121e62=(_0x47b953==null?void(0x84d+0x2*-0x732+0x617*0x1):_0x47b953['height'])??_0x390dcb['height'],_0x5b8c94=this['camera']['rect'],_0x2d4b8e=Math['floor'](_0x5b8c94['z']*_0x4938e9),_0xdc18e=Math['floor'](_0x5b8c94['w']*_0x121e62),_0x412141=this['effects'];for(let _0x44da96=-0x18fa+0x1f4e+0x654*-0x1,_0x3d421d=_0x412141['length'];_0x44da96<_0x3d421d;_0x44da96++){const _0x849186=_0x412141[_0x44da96];(_0x849186['inputTarge'+'t']['width']!==_0x2d4b8e||_0x849186['inputTarge'+'t']['height']!==_0xdc18e)&&this['_resizeOff'+'screenTarg'+'et'](_0x849186['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x56bbad,_0xd71611,_0x50c484){this['enabled']&&this['resizeRend'+'erTargets']();}}class bx extends ue{constructor(_0x1d5b10,_0x216759){super(_0x1d5b10,_0x216759),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',0x40e+0x23f6+-0xa01*0x4),c(this,'_renderSce'+'neColorMap',0x17fd+-0x499+-0x1*0x1364),c(this,'_sceneDept'+'hMapReques'+'ted',!(0x28a*-0x5+0xa1b+0x298)),c(this,'_sceneColo'+'rMapReques'+'ted',!(0x23ac+0x3*0xa39+-0x1*0x4256)),c(this,'_priority',0xdee+-0x771+-0x67d),c(this,'_disablePo'+'stEffectsL'+'ayer',tl),c(this,'_camera',new ol()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x216759,this['_postEffec'+'ts']=new qI(_0x1d5b10['app'],this));}['setShaderP'+'ass'](_0x21c0f4){const _0x4716b2=Ks['get'](this['system']['app']['graphicsDe'+'vice']),_0x2ba530=_0x21c0f4?_0x4716b2['allocate'](_0x21c0f4,{'isForward':!(-0x191*0xb+0xa*0x335+-0xed7)}):null;return this['_camera']['shaderPass'+'Info']=_0x2ba530,_0x2ba530['index'];}['getShaderP'+'ass'](){var _0x24732e;return(_0x24732e=this['_camera']['shaderPass'+'Info'])==null?void(-0x481*-0x1+0x2*-0x33f+-0x1*-0x1fd):_0x24732e['name'];}set['renderPass'+'es'](_0x6f859b){this['_camera']['renderPass'+'es']=_0x6f859b||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(0x4b4*0x1+0x612+-0xac6);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x574d9d){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x574d9d;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x3d2c29){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x3d2c29;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x39479e){this['_camera']['fogParams']=_0x39479e;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x475470){this['_camera']['aperture']=_0x475470;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x1048fd){this['_camera']['aspectRati'+'o']=_0x1048fd;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x42dc1b){this['_camera']['aspectRati'+'oMode']=_0x42dc1b;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x244fd7){this['_camera']['calculateP'+'rojection']=_0x244fd7;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x3e46d7){this['_camera']['calculateT'+'ransform']=_0x3e46d7;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x46329b){this['_camera']['clearColor']=_0x46329b;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x2ed66f){this['_camera']['clearColor'+'Buffer']=_0x2ed66f,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x366f6d){this['_camera']['clearDepth'+'Buffer']=_0x366f6d,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0xf048d3){this['_camera']['clearStenc'+'ilBuffer']=_0xf048d3,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x1cba19){this['_camera']['cullFaces']=_0x1cba19;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x4ed9d6){this['_disablePo'+'stEffectsL'+'ayer']=_0x4ed9d6,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x13912e){this['_camera']['farClip']=_0x13912e;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x11c99a){this['_camera']['flipFaces']=_0x11c99a;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x2210d6){this['_camera']['fov']=_0x2210d6;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x2da088){this['_camera']['frustumCul'+'ling']=_0x2da088;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x150d9f){this['_camera']['horizontal'+'Fov']=_0x150d9f;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x46336d){const _0x5212ba=this['_camera']['layers'],_0x3bf040=this['system']['app']['scene'];_0x5212ba['forEach'](_0x516240=>{const _0x2387de=_0x3bf040['layers']['getLayerBy'+'Id'](_0x516240);_0x2387de==null||_0x2387de['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x46336d,this['enabled']&&this['entity']['enabled']&&_0x46336d['forEach'](_0x191cf1=>{const _0x10894a=_0x3bf040['layers']['getLayerBy'+'Id'](_0x191cf1);_0x10894a==null||_0x10894a['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x159c7d){this['_camera']['jitter']=_0x159c7d;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x37711d){this['_camera']['nearClip']=_0x37711d;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x3585cc){this['_camera']['orthoHeigh'+'t']=_0x3585cc;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x2aae7c){this['_priority']=_0x2aae7c,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x3111b8){this['_camera']['projection']=_0x3111b8;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x364c74){this['_camera']['rect']=_0x364c74,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x225ad6){_0x225ad6&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0xb7d*-0x2+0x309+0x1a03*-0x1)),this['_sceneColo'+'rMapReques'+'ted']=!(0x230*-0x2+0x78c+-0x32c)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0x1*-0x10b8+-0x15a4+0xd*0x61)),this['_sceneColo'+'rMapReques'+'ted']=!(-0xefa+0xd*-0x2fc+0x423*0xd));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x7*0x3d7+0x1*-0x1a3e+0x1*-0xa3;}set['renderScen'+'eDepthMap'](_0x5b895e){_0x5b895e&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x1*-0xdfd+-0x31*0x52+0x1daf)),this['_sceneDept'+'hMapReques'+'ted']=!(0x1154*-0x2+0x2*0x1a2+-0x62*-0x52)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x71*0x6+0x3d0+-0x1b*0xb)),this['_sceneDept'+'hMapReques'+'ted']=!(0x12*0x45+0x1120+-0x15f9));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x1bb9+-0x14e+-0x1a6b;}set['renderTarg'+'et'](_0x34e3ec){v['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0x7e6+-0x5e*-0x65+-0x1*0x1d30&&v['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x34e3ec,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x2c61ce){this['_camera']['scissorRec'+'t']=_0x2c61ce;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x1bef4e){this['_camera']['sensitivit'+'y']=_0x1bef4e;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x426909){this['_camera']['shutter']=_0x426909;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x2f72db){if(this['layers']['find'](_0x292c7e=>_0x292c7e===Xt)){const _0x1f688e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x2f72db?_0x1f688e==null||_0x1f688e['incrementC'+'ounter']():_0x1f688e==null||_0x1f688e['decrementC'+'ounter']();}else{if(_0x2f72db)return!(0x3cf+-0x15bd+-0x11ef*-0x1);}return!(0x61*0x65+-0x2f5*0x5+0x3*-0x7d4);}['requestSce'+'neColorMap'](_0x27ebdc){this['_renderSce'+'neColorMap']+=_0x27ebdc?0x3*0x4b1+0x57c+0x9c7*-0x2:-(-0x8*0x1f6+0x1d06+-0x1*0xd55),v['assert'](this['_renderSce'+'neColorMap']>=0x3fb*0x1+0x21ae*0x1+-0x25a9),this['_enableDep'+'thLayer'](_0x27ebdc)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x444725){this['_renderSce'+'neDepthMap']+=_0x444725?0x1aa5+-0xe5e+-0xc46*0x1:-(-0x29*-0xe5+-0x25b4*0x1+0x108),v['assert'](this['_renderSce'+'neDepthMap']>=-0xe63+-0x6bc+-0x1*-0x151f),this['_enableDep'+'thLayer'](_0x444725)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x41bef5=this['system']['app']['scene']['layers'];_0x41bef5['_dirty']=!(-0x208a+0xaec+0x159e);}['screenToWo'+'rld'](_0x830c19,_0x82ec98,_0x591842,_0x3e1923){const _0x2f4971=this['system']['app']['graphicsDe'+'vice'],{width:_0x2c6bc6,height:_0x179403}=_0x2f4971['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x830c19,_0x82ec98,_0x591842,_0x2c6bc6,_0x179403,_0x3e1923);}['worldToScr'+'een'](_0x4148cb,_0x5cd872){const _0x242f89=this['system']['app']['graphicsDe'+'vice'],{width:_0x1ce6f7,height:_0x3f0c53}=_0x242f89['clientRect'];return this['_camera']['worldToScr'+'een'](_0x4148cb,_0x1ce6f7,_0x3f0c53,_0x5cd872);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0x21f5+-0x1*0x20e+0x7*0x525),this['_camera']['_viewProjM'+'atDirty']=!(0x224a+-0x9cd+-0x187d*0x1);}['addCameraT'+'oLayers'](){const _0xc7b58e=this['layers'];for(let _0x50df80=0x25b5+-0x1551+0x2*-0x832;_0x50df80<_0xc7b58e['length'];_0x50df80++){const _0x375817=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xc7b58e[_0x50df80]);_0x375817&&_0x375817['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x492f96=this['layers'];for(let _0x45f910=0xc*0x25e+0x2e*-0x9e+-0x2*0x2;_0x45f910<_0x492f96['length'];_0x45f910++){const _0x3e60eb=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x492f96[_0x45f910]);_0x3e60eb&&_0x3e60eb['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x2da897,_0x1c6a72){this['addCameraT'+'oLayers'](),_0x2da897['off']('add',this['onLayerAdd'+'ed'],this),_0x2da897['off']('remove',this['onLayerRem'+'oved'],this),_0x1c6a72['on']('add',this['onLayerAdd'+'ed'],this),_0x1c6a72['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4086df){this['layers']['indexOf'](_0x4086df['id'])<0x32e+0x1*0x359+0x3*-0x22d||_0x4086df['addCamera'](this);}['onLayerRem'+'oved'](_0x107e03){this['layers']['indexOf'](_0x107e03['id'])<0x1173*0x2+0x2*-0xbe9+-0xb14||_0x107e03['removeCame'+'ra'](this);}['onEnable'](){var _0x1d06a6,_0x4b3bc0,_0x380c58;const _0xb137f9=this['system']['app']['scene'],_0x2ce2d5=_0xb137f9['layers'];this['system']['addCamera'](this),(_0x1d06a6=this['_evtLayers'+'Changed'])==null||_0x1d06a6['off'](),this['_evtLayers'+'Changed']=_0xb137f9['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2ce2d5&&((_0x4b3bc0=this['_evtLayerA'+'dded'])==null||_0x4b3bc0['off'](),this['_evtLayerA'+'dded']=_0x2ce2d5['on']('add',this['onLayerAdd'+'ed'],this),(_0x380c58=this['_evtLayerR'+'emoved'])==null||_0x380c58['off'](),this['_evtLayerR'+'emoved']=_0x2ce2d5['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x2e8015,_0x5d7dde,_0x384194;const _0x156d8d=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x2e8015=this['_evtLayers'+'Changed'])==null||_0x2e8015['off'](),this['_evtLayers'+'Changed']=null,_0x156d8d&&((_0x5d7dde=this['_evtLayerA'+'dded'])==null||_0x5d7dde['off'](),this['_evtLayerA'+'dded']=null,(_0x384194=this['_evtLayerR'+'emoved'])==null||_0x384194['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x5c1f7d){const _0x510c4d=this['system']['app']['graphicsDe'+'vice'],_0x1845f=_0x5c1f7d?_0x5c1f7d['width']:_0x510c4d['width'],_0x2278a7=_0x5c1f7d?_0x5c1f7d['height']:_0x510c4d['height'];return _0x1845f*this['rect']['z']/(_0x2278a7*this['rect']['w']);}['frameUpdat'+'e'](_0x4e28ca){this['aspectRati'+'oMode']===Ip&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x4e28ca));}['startXr'](_0x5bc544,_0x204944,_0x37555d){this['system']['app']['xr']['start'](this,_0x5bc544,_0x204944,_0x37555d);}['endXr'](_0x39abfc){if(!this['_camera']['xr']){_0x39abfc&&_0x39abfc(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x39abfc);}['copy'](_0x56eba6){this['aperture']=_0x56eba6['aperture'],this['aspectRati'+'o']=_0x56eba6['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x56eba6['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x56eba6['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x56eba6['calculateT'+'ransform'],this['clearColor']=_0x56eba6['clearColor'],this['clearColor'+'Buffer']=_0x56eba6['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x56eba6['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x56eba6['clearStenc'+'ilBuffer'],this['cullFaces']=_0x56eba6['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x56eba6['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x56eba6['farClip'],this['flipFaces']=_0x56eba6['flipFaces'],this['fov']=_0x56eba6['fov'],this['frustumCul'+'ling']=_0x56eba6['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x56eba6['horizontal'+'Fov'],this['layers']=_0x56eba6['layers'],this['nearClip']=_0x56eba6['nearClip'],this['orthoHeigh'+'t']=_0x56eba6['orthoHeigh'+'t'],this['priority']=_0x56eba6['priority'],this['projection']=_0x56eba6['projection'],this['rect']=_0x56eba6['rect'],this['renderTarg'+'et']=_0x56eba6['renderTarg'+'et'],this['scissorRec'+'t']=_0x56eba6['scissorRec'+'t'],this['sensitivit'+'y']=_0x56eba6['sensitivit'+'y'],this['shutter']=_0x56eba6['shutter'];}}class XI{constructor(){this['enabled']=!(-0x1c9*0x1+0x2041+-0x1e78);}}const wx=['enabled'];class jI extends Xe{constructor(_0xdc672b){super(_0xdc672b),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=bx,this['DataType']=XI,this['schema']=wx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x38eee0,_0x141e8f,_0x4d1c9e){_0x4d1c9e=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x3642aa=-0x123b+0xad*-0x1c+0x2527;_0x3642aa<_0x4d1c9e['length'];_0x3642aa++){const _0x3358ce=_0x4d1c9e[_0x3642aa];if(_0x141e8f['hasOwnProp'+'erty'](_0x3358ce)){const _0x21e05b=_0x141e8f[_0x3358ce];switch(_0x3358ce){case'rect':case'scissorRec'+'t':Array['isArray'](_0x21e05b)?_0x38eee0[_0x3358ce]=new Q(_0x21e05b[0x12*-0x1b8+0x1f96*-0x1+0x3e86],_0x21e05b[-0x1187+0x268b+-0x21*0xa3],_0x21e05b[0xbcd+-0x947+-0x284],_0x21e05b[0xf40+-0x1588+0x64b]):_0x38eee0[_0x3358ce]=_0x21e05b;break;case'clearColor':Array['isArray'](_0x21e05b)?_0x38eee0[_0x3358ce]=new Y(_0x21e05b[0xf03+0x1267+-0x1a*0x149],_0x21e05b[0x1d44+-0x49f+-0x18a4],_0x21e05b[0x25ff+-0xaec+-0x1b11],_0x21e05b[0x2140+0x3*0xa79+-0x2*0x2054]):_0x38eee0[_0x3358ce]=_0x21e05b;break;default:_0x38eee0[_0x3358ce]=_0x21e05b;break;}}}super['initialize'+'ComponentD'+'ata'](_0x38eee0,_0x141e8f,['enabled']);}['cloneCompo'+'nent'](_0x54015c,_0x1c5738){const _0x36595b=_0x54015c['camera'];return this['addCompone'+'nt'](_0x1c5738,{'aspectRatio':_0x36595b['aspectRati'+'o'],'aspectRatioMode':_0x36595b['aspectRati'+'oMode'],'calculateProjection':_0x36595b['calculateP'+'rojection'],'calculateTransform':_0x36595b['calculateT'+'ransform'],'clearColor':_0x36595b['clearColor'],'clearColorBuffer':_0x36595b['clearColor'+'Buffer'],'clearDepthBuffer':_0x36595b['clearDepth'+'Buffer'],'clearStencilBuffer':_0x36595b['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x36595b['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x36595b['renderScen'+'eColorMap'],'cullFaces':_0x36595b['cullFaces'],'enabled':_0x36595b['enabled'],'farClip':_0x36595b['farClip'],'flipFaces':_0x36595b['flipFaces'],'fov':_0x36595b['fov'],'frustumCulling':_0x36595b['frustumCul'+'ling'],'horizontalFov':_0x36595b['horizontal'+'Fov'],'layers':_0x36595b['layers'],'renderTarget':_0x36595b['renderTarg'+'et'],'nearClip':_0x36595b['nearClip'],'orthoHeight':_0x36595b['orthoHeigh'+'t'],'projection':_0x36595b['projection'],'priority':_0x36595b['priority'],'rect':_0x36595b['rect'],'scissorRect':_0x36595b['scissorRec'+'t'],'aperture':_0x36595b['aperture'],'sensitivity':_0x36595b['sensitivit'+'y'],'shutter':_0x36595b['shutter'],'gammaCorrection':_0x36595b['gammaCorre'+'ction'],'toneMapping':_0x36595b['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x20ae52,_0x23838d){this['removeCame'+'ra'](_0x23838d),_0x23838d['onRemove']();}['onAppPrere'+'nder'](){for(let _0x24db59=-0xcfb*0x1+-0x1089+-0xec2*-0x2,_0xe5c47a=this['cameras']['length'];_0x24db59<_0xe5c47a;_0x24db59++)this['cameras'][_0x24db59]['onAppPrere'+'nder']();}['addCamera'](_0x53ad70){this['cameras']['push'](_0x53ad70),No(this['cameras']);}['removeCame'+'ra'](_0x14e65b){const _0x36d57b=this['cameras']['indexOf'](_0x14e65b);_0x36d57b>=0x5*-0x258+0x24a7+-0x18ef&&(this['cameras']['splice'](_0x36d57b,0x999+0x4c4+-0x397*0x4),No(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}ue['_buildAcce'+'ssors'](bx['prototype'],wx);class Tx{constructor(){c(this,'enabled',!(0x19e4*0x1+0x20d2+-0x3ab6)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(0xacf+0xc1b*-0x1+0x14d,0x1fe+0x399+-0x5*0x11e,0x599*-0x3+0x2e*-0x9d+0x1681*0x2)),c(this,'intensity',0x1d40+0x3d*0x70+-0x37ef),c(this,'luminance',-0x2b8+0x1*0x22a8+-0x1*0x1ff0),c(this,'shape',yt),c(this,'affectSpec'+'ularity',!(-0x1542+-0x1cac+-0x391*-0xe)),c(this,'castShadow'+'s',!(-0x1d21+-0x312+-0x24*-0xe5)),c(this,'shadowDist'+'ance',-0xb2*-0x1+0x1a8d+0x49*-0x5f),c(this,'shadowInte'+'nsity',0x22*-0x121+0x3*0x7f6+0xe81),c(this,'shadowReso'+'lution',0x4c*-0x16+0x63d+-0x7*-0x9d),c(this,'shadowBias',-0x5*0x209+0x4a7*-0x5+0x2170+0.05),c(this,'numCascade'+'s',0x6b2+-0x3e6*0x7+0x1499),c(this,'cascadeBle'+'nd',-0x14e2+-0x19cc+0x956*0x5),c(this,'bakeNumSam'+'ples',-0x773+-0x3*-0xce3+-0x3*0xa67),c(this,'bakeArea',0x462+-0x2b1*0xe+0x214c),c(this,'cascadeDis'+'tribution',0x1c50+0x627+0x1*-0x2277+0.5),c(this,'normalOffs'+'etBias',0x1eb1+0x142a+0x32db*-0x1),c(this,'range',-0x1a10+0x31*-0x19+0x1ee3),c(this,'innerConeA'+'ngle',0xf4*0x2+-0x1c9a+0x1ada*0x1),c(this,'outerConeA'+'ngle',0x7aa+-0x2e4+0x499*-0x1),c(this,'falloffMod'+'e',wp),c(this,'shadowType',Dt),c(this,'vsmBlurSiz'+'e',0x3*0x41e+0x9e3*-0x2+0x15*0x5b),c(this,'vsmBlurMod'+'e',Tp),c(this,'vsmBias',(-0x24df+-0xc*0x14f+-0x2b*-0x139+0.01)*(0x822+0x65*-0x29+0x1*0x80b+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',-0x174c+0x1*-0x1009+0x2756),c(this,'cookieFall'+'off',!(-0xbc5*-0x2+0x2*-0x823+-0x14*0x5d)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',-0x1c67*0x1+0x1288*-0x2+0x4177),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Pp),c(this,'mask',-0x1757+-0x1c*-0x135+-0x37c*0x3),c(this,'affectDyna'+'mic',!(0x2d3*0x4+0x580*0x6+-0x2c4c)),c(this,'affectLigh'+'tmapped',!(0xd*-0x2d4+0x193b+-0x7*-0x1a6)),c(this,'bake',!(0x189*0x1+0x1*0x105+-0x1*0x28d)),c(this,'bakeDir',!(0x7c7+-0x313*0x8+0x10d1)),c(this,'isStatic',!(-0x1*0x949+-0x4f*-0x3d+-0x989)),c(this,'layers',[Fi]),c(this,'penumbraSi'+'ze',0x5d7+-0x1e64+0x188e),c(this,'penumbraFa'+'lloff',-0x6*-0xa2+-0x197a*-0x1+-0x1d45),c(this,'shadowSamp'+'les',0x4c3*0x4+-0x26f0+-0x2*-0x9fa),c(this,'shadowBloc'+'kerSamples',-0x16ab+0x12fc+0x89*0x7);}}const To=Object['keys'](new Tx());class YI extends ue{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(-0xa69*-0x2+0x1206+-0x26d7)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x35a460=this['system']['store'][this['entity']['getGuid']()];return _0x35a460?_0x35a460['data']:null;}set['enabled'](_0x3f17ee){this['_setValue']('enabled',_0x3f17ee,function(_0x340b30,_0x16f565){this['onSetEnabl'+'ed'](null,_0x16f565,_0x340b30);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x3456cd){this['_setValue']('light',_0x3456cd);}get['light'](){return this['data']['light'];}set['type'](_0x16e483){this['_setValue']('type',_0x16e483,function(_0xa9f3b0,_0x23ce79){this['system']['changeType'](this,_0x23ce79,_0xa9f3b0),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x3984b9){this['_setValue']('color',_0x3984b9,function(_0x124e21,_0xba445d){this['light']['setColor'](_0x124e21);},!(-0xfaf+-0x16a6+0x2655));}get['color'](){return this['data']['color'];}set['intensity'](_0x1f5ea1){this['_setValue']('intensity',_0x1f5ea1,function(_0x2cdfe0,_0xd68e37){this['light']['intensity']=_0x2cdfe0;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x67ef2b){this['_setValue']('luminance',_0x67ef2b,function(_0x3e99b6,_0x445880){this['light']['luminance']=_0x3e99b6;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x3529e2){this['_setValue']('shape',_0x3529e2,function(_0x568597,_0x247912){this['light']['shape']=_0x568597;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x11e6e7){this['_setValue']('affectSpec'+'ularity',_0x11e6e7,function(_0x3a6d8f,_0x2222e6){this['light']['affectSpec'+'ularity']=_0x3a6d8f;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x452553){this['_setValue']('castShadow'+'s',_0x452553,function(_0x410386,_0x5a76d4){this['light']['castShadow'+'s']=_0x410386;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x42aa99){this['_setValue']('shadowDist'+'ance',_0x42aa99,function(_0x19ab0f,_0x5e3b06){this['light']['shadowDist'+'ance']=_0x19ab0f;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x65bb0a){this['_setValue']('shadowInte'+'nsity',_0x65bb0a,function(_0x289063,_0x57d0d9){this['light']['shadowInte'+'nsity']=_0x289063;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x1c4abb){this['_setValue']('shadowReso'+'lution',_0x1c4abb,function(_0x36b469,_0x253897){this['light']['shadowReso'+'lution']=_0x36b469;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x694799){this['_setValue']('shadowBias',_0x694799,function(_0x15ba05,_0x13e2aa){this['light']['shadowBias']=-(-0x264f+-0x22a4+0x48f3+0.01)*N['clamp'](_0x15ba05,-0x4*0xc5+0x1da6+-0x1a92,0x9*0x3c5+-0xb*-0x193+-0x333d);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x558fb2){this['_setValue']('numCascade'+'s',_0x558fb2,function(_0x20833c,_0x374090){this['light']['numCascade'+'s']=N['clamp'](Math['floor'](_0x20833c),0x1*0x180b+-0x4a9*0x2+-0x4*0x3ae,0x1bed+-0x172d+0x12f*-0x4);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x401fb9){this['_setValue']('cascadeBle'+'nd',_0x401fb9,function(_0x560865,_0x2dc62c){this['light']['cascadeBle'+'nd']=N['clamp'](_0x560865,-0x14*-0xf4+-0x1c89+0x979,-0x7a2+-0x1b16+-0xb93*-0x3);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x290b27){this['_setValue']('bakeNumSam'+'ples',_0x290b27,function(_0x1d194d,_0x472d43){this['light']['bakeNumSam'+'ples']=N['clamp'](Math['floor'](_0x1d194d),0x996+0x1bcf+-0x1*0x2564,-0xe5*-0x2a+0x1e2d+-0x8*0x858);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x211a82){this['_setValue']('bakeArea',_0x211a82,function(_0x5cc920,_0x1f5258){this['light']['bakeArea']=N['clamp'](_0x5cc920,-0x3fe+0x2b4*0x5+-0x2e*0x35,0x15a*0x15+-0x59*-0x5+-0x1d6b*0x1);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x635321){this['_setValue']('cascadeDis'+'tribution',_0x635321,function(_0x33c0f9,_0x37af00){this['light']['cascadeDis'+'tribution']=N['clamp'](_0x33c0f9,0xd8c+0xbe9+-0x3a3*0x7,-0xd2b*0x1+-0x1fb1+-0x5*-0x8f9);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x4a2110){this['_setValue']('normalOffs'+'etBias',_0x4a2110,function(_0x2af6e2,_0xdb1e45){this['light']['normalOffs'+'etBias']=N['clamp'](_0x2af6e2,-0x1380+0x573+-0x6d*-0x21,-0x236f+-0x41+0x23b1*0x1);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x399353){this['_setValue']('range',_0x399353,function(_0x33470e,_0x531748){this['light']['attenuatio'+'nEnd']=_0x33470e;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x4c09a8){this['_setValue']('innerConeA'+'ngle',_0x4c09a8,function(_0xb8ba0b,_0x354857){this['light']['innerConeA'+'ngle']=_0xb8ba0b;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x448175){this['_setValue']('outerConeA'+'ngle',_0x448175,function(_0xb49dd1,_0x3b33e0){this['light']['outerConeA'+'ngle']=_0xb49dd1;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x249817){this['_setValue']('falloffMod'+'e',_0x249817,function(_0x5b0ff,_0x18155c){this['light']['falloffMod'+'e']=_0x5b0ff;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x33952e){this['_setValue']('shadowType',_0x33952e,function(_0x3b2aff,_0x3573e5){this['light']['shadowType']=_0x3b2aff;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0xf592ea){this['_setValue']('vsmBlurSiz'+'e',_0xf592ea,function(_0xea6b5c,_0x5b7d7a){this['light']['vsmBlurSiz'+'e']=_0xea6b5c;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x554166){this['_setValue']('vsmBlurMod'+'e',_0x554166,function(_0x1cbfff,_0x329a87){this['light']['vsmBlurMod'+'e']=_0x1cbfff;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x27636e){this['_setValue']('vsmBias',_0x27636e,function(_0x32effc,_0x3649df){this['light']['vsmBias']=N['clamp'](_0x32effc,0x8b*-0x25+-0x1*0x2543+0x395a,0x2e7*-0x1+-0xb*-0x1de+-0x3d*0x4a);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x53c20a){this['_setValue']('cookieAsse'+'t',_0x53c20a,function(_0x38f426,_0x39b2f3){if(!(this['_cookieAss'+'etId']&&(_0x38f426 instanceof le&&_0x38f426['id']===this['_cookieAss'+'etId']||_0x38f426===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x38f426 instanceof le)this['data']['cookieAsse'+'t']=_0x38f426['id'],this['_cookieAss'+'etId']=_0x38f426['id'],this['onCookieAs'+'setAdd'](_0x38f426);else{if(typeof _0x38f426=='number'){this['_cookieAss'+'etId']=_0x38f426;const _0x278370=this['system']['app']['assets']['get'](_0x38f426);_0x278370?this['onCookieAs'+'setAdd'](_0x278370):(this['_cookieAss'+'etAdd']=!(-0x107f+-0x795*-0x2+-0x155*-0x1),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x4697dc){this['_setValue']('cookie',_0x4697dc,function(_0xae7f94,_0x9edde2){this['light']['cookie']=_0xae7f94;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x86cb0d){this['_setValue']('cookieInte'+'nsity',_0x86cb0d,function(_0x436bdc,_0x201fa7){this['light']['cookieInte'+'nsity']=N['clamp'](_0x436bdc,-0xdad+0xde6+-0x39,0x835+0x127*-0x1a+-0xae1*-0x2);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x3c1520){this['_setValue']('cookieFall'+'off',_0x3c1520,function(_0xbb6089,_0x4b53ba){this['light']['cookieFall'+'off']=_0xbb6089;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x31dc4c){this['_setValue']('cookieChan'+'nel',_0x31dc4c,function(_0x7ee559,_0x2fb0e0){this['light']['cookieChan'+'nel']=_0x7ee559;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x106e5a){this['_setValue']('cookieAngl'+'e',_0x106e5a,function(_0x1f4d86,_0xa462cd){if(_0x1f4d86!==0x1d0a+-0x1977+-0xf*0x3d||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());let _0xe50d00=-0xc55+0x1*-0x12d1+0x1*0x1f27,_0x46d742=-0x1*0x22e1+0x80*-0x2b+0xe*0x407;this['cookieScal'+'e']&&(_0xe50d00=this['cookieScal'+'e']['x'],_0x46d742=this['cookieScal'+'e']['y']);const _0x223847=Math['cos'](_0x1f4d86*N['DEG_TO_RAD']),_0x20293a=Math['sin'](_0x1f4d86*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x223847/_0xe50d00,-_0x20293a/_0xe50d00,_0x20293a/_0x46d742,_0x223847/_0x46d742),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x405faa){this['_setValue']('cookieScal'+'e',_0x405faa,function(_0x273e97,_0x2f4e02){if(_0x273e97!==null||this['cookieAngl'+'e']!==0x1394+-0x478+-0xf1c){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());const _0xa955a7=_0x273e97['x'],_0x1ba6ba=_0x273e97['y'],_0x17120a=Math['cos'](this['cookieAngl'+'e']*N['DEG_TO_RAD']),_0x553dff=Math['sin'](this['cookieAngl'+'e']*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x17120a/_0xa955a7,-_0x553dff/_0xa955a7,_0x553dff/_0x1ba6ba,_0x17120a/_0x1ba6ba),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x1*-0x10bc+0x158d*-0x1+0x2649));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x3b4030){this['_setValue']('cookieOffs'+'et',_0x3b4030,function(_0x264aea,_0x55efd2){this['light']['cookieOffs'+'et']=_0x264aea;},!(0x17e3*-0x1+-0x33*0x8d+0x33fa));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x5904bf){this['_setValue']('shadowUpda'+'teMode',_0x5904bf,function(_0x579bc4,_0x2d740e){this['light']['shadowUpda'+'teMode']=_0x579bc4;},!(-0x1df*-0x11+0x1*0x102a+0x2ff9*-0x1));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x5ebbb5){this['_setValue']('mask',_0x5ebbb5,function(_0x5357ea,_0x419f10){this['light']['mask']=_0x5357ea;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0xca9644){this['_setValue']('affectDyna'+'mic',_0xca9644,function(_0x5bfb2f,_0x10fc01){_0x5bfb2f?this['light']['mask']|=hs:this['light']['mask']&=-(-0x1035+-0x4*0x26b+-0x1*-0x19e3),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x535bf7){this['_setValue']('affectLigh'+'tmapped',_0x535bf7,function(_0x42c4e3,_0x59564c){_0x42c4e3?(this['light']['mask']|=cr,this['bake']&&(this['light']['mask']&=-(-0x429+0x1f*-0xb2+-0x6c*-0x3d))):(this['light']['mask']&=-(-0x2270+-0x1b3e+-0x3a1*-0x11),this['bake']&&(this['light']['mask']|=rr));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x2306c2){this['_setValue']('bake',_0x2306c2,function(_0x18c231,_0x538d45){_0x18c231?(this['light']['mask']|=rr,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(0x1*-0x1ca3+0x189e+-0x102*-0x4))):(this['light']['mask']&=-(0x179b+-0x2469+0xcd3),this['affectLigh'+'tmapped']&&(this['light']['mask']|=cr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x5b82cc){this['_setValue']('bakeDir',_0x5b82cc,function(_0x5008d9,_0x4e3c0d){this['light']['bakeDir']=_0x5008d9;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x214a09){this['_setValue']('isStatic',_0x214a09,function(_0x1992cc,_0x5bc9dd){this['light']['isStatic']=_0x1992cc;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x4a383e){this['_setValue']('layers',_0x4a383e,function(_0x3be00b,_0x55b3cb){for(let _0x89e750=0xe*-0x1fc+0xaf2+0x10d6;_0x89e750<_0x55b3cb['length'];_0x89e750++){const _0x4a8439=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x55b3cb[_0x89e750]);_0x4a8439&&(_0x4a8439['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x4a8439));}for(let _0x342927=-0x1f1*0x1+0x12b1+-0x10c0;_0x342927<_0x3be00b['length'];_0x342927++){const _0xe3e09d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3be00b[_0x342927]);_0xe3e09d&&this['enabled']&&this['entity']['enabled']&&(_0xe3e09d['addLight'](this),this['light']['addLayer'](_0xe3e09d));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x91fba1){this['light']['shadowUpda'+'teOverride'+'s']=_0x91fba1;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x47184b){this['light']['shadowSamp'+'les']=_0x47184b;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0xed303a){this['light']['shadowBloc'+'kerSamples']=_0xed303a;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x45fcfb){this['light']['penumbraSi'+'ze']=_0x45fcfb;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x16d26e){this['light']['penumbraFa'+'lloff']=_0x16d26e;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x3026b9,_0x290f4c,_0x1e95d9,_0x268342){const _0x27a172=this['data'],_0x17ffb0=_0x27a172[_0x3026b9];!_0x268342&&_0x17ffb0===_0x290f4c||(_0x27a172[_0x3026b9]=_0x290f4c,_0x1e95d9&&_0x1e95d9['call'](this,_0x290f4c,_0x17ffb0));}['addLightTo'+'Layers'](){for(let _0x47832d=0x2246+0x22db+-0x4521;_0x47832d<this['layers']['length'];_0x47832d++){const _0x4bc8dd=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x47832d]);_0x4bc8dd&&(_0x4bc8dd['addLight'](this),this['light']['addLayer'](_0x4bc8dd));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x1d1984=-0x199d+0xbd2+0x1*0xdcb;_0x1d1984<this['layers']['length'];_0x1d1984++){const _0x451627=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x1d1984]);_0x451627&&(_0x451627['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x451627));}}['onLayersCh'+'anged'](_0x3d0109,_0xf7c210){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x3d0109['off']('add',this['onLayerAdd'+'ed'],this),_0x3d0109['off']('remove',this['onLayerRem'+'oved'],this),_0xf7c210['on']('add',this['onLayerAdd'+'ed'],this),_0xf7c210['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x182a05){this['layers']['indexOf'](_0x182a05['id'])>=0x1ae5+0x9d0+0x24b5*-0x1&&this['enabled']&&this['entity']['enabled']&&(_0x182a05['addLight'](this),this['light']['addLayer'](_0x182a05));}['onLayerRem'+'oved'](_0x4d9a77){this['layers']['indexOf'](_0x4d9a77['id'])>=-0x17b1+0x2415+0x34*-0x3d&&(_0x4d9a77['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x4d9a77));}['refreshPro'+'perties'](){for(let _0x3359ce=-0x229+-0x1053+0x127c;_0x3359ce<To['length'];_0x3359ce++){const _0x3a80a1=To[_0x3359ce];this[_0x3a80a1]=this[_0x3a80a1];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x360c3b=!(-0x5de+0x98*0x28+-0x1*0x11e1);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(0xbd*0x2+-0x1681+0x1507*0x1),_0x360c3b=!(-0x1d1+-0x16*0x100+-0xd*-0x1d5)),(!this['_cookieAss'+'et']['resource']||_0x360c3b)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x34f306){this['_cookieAss'+'etId']===_0x34f306['id']&&(this['_cookieAss'+'et']=_0x34f306,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(0x2*-0x5b9+-0x1a6a+-0x1b*-0x167)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x5dd729=this['system']['app']['scene'],_0x4c3f61=_0x5dd729['layers'];this['light']['enabled']=!(0x1dce*0x1+-0x2af*0xd+0x515*0x1),this['_evtLayers'+'Changed']=_0x5dd729['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4c3f61&&(this['_evtLayerA'+'dded']=_0x4c3f61['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4c3f61['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x5b4b4b,_0x2e00be,_0x2a5144;const _0x4f5028=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0x12c6+0x15a4+0x2869*-0x1),(_0x5b4b4b=this['_evtLayers'+'Changed'])==null||_0x5b4b4b['off'](),this['_evtLayers'+'Changed']=null,_0x4f5028&&((_0x2e00be=this['_evtLayerA'+'dded'])==null||_0x2e00be['off'](),this['_evtLayerA'+'dded']=null,(_0x2a5144=this['_evtLayerR'+'emoved'])==null||_0x2a5144['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class KI extends Xe{constructor(_0x50ed4c){super(_0x50ed4c),this['id']='light',this['ComponentT'+'ype']=YI,this['DataType']=Tx,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0xee63b9,_0x5833d7){const _0x15a2bb={..._0x5833d7};_0x15a2bb['type']||(_0x15a2bb['type']=_0xee63b9['data']['type']),_0xee63b9['data']['type']=_0x15a2bb['type'],_0x15a2bb['layers']&&Array['isArray'](_0x15a2bb['layers'])&&(_0x15a2bb['layers']=_0x15a2bb['layers']['slice'](-0x1ee1+-0x57*0x35+0x30e4)),_0x15a2bb['color']&&Array['isArray'](_0x15a2bb['color'])&&(_0x15a2bb['color']=new Y(_0x15a2bb['color'][-0x12ec+-0x1a*0x83+0x203a],_0x15a2bb['color'][0x495*0x5+-0x5f*0x57+0x961],_0x15a2bb['color'][-0x1f*0x13f+-0x6b6+0x2d59])),_0x15a2bb['cookieOffs'+'et']&&_0x15a2bb['cookieOffs'+'et']instanceof Array&&(_0x15a2bb['cookieOffs'+'et']=new $(_0x15a2bb['cookieOffs'+'et'][-0xa3c+0x203d+0x1601*-0x1],_0x15a2bb['cookieOffs'+'et'][-0x13b+-0x1d2b+0xb5*0x2b])),_0x15a2bb['cookieScal'+'e']&&_0x15a2bb['cookieScal'+'e']instanceof Array&&(_0x15a2bb['cookieScal'+'e']=new $(_0x15a2bb['cookieScal'+'e'][0x231e+0x82f+-0xe6f*0x3],_0x15a2bb['cookieScal'+'e'][-0x91a+0xaad+-0x192])),_0x15a2bb['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x15a2bb['enabled']=_0x15a2bb['enable']),_0x15a2bb['shape']||(_0x15a2bb['shape']=yt);const _0x4adff4=new zo(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x4adff4['type']=Gu[_0x15a2bb['type']],_0x4adff4['_node']=_0xee63b9['entity'],_0xee63b9['data']['light']=_0x4adff4,super['initialize'+'ComponentD'+'ata'](_0xee63b9,_0x15a2bb,To);}['_onRemoveC'+'omponent'](_0x4b01fe,_0x2cf64e){_0x2cf64e['onRemove']();}['cloneCompo'+'nent'](_0x20e462,_0x5bf5d5){const _0x41d79e=_0x20e462['light'],_0x56c34d=[];let _0x3de63d;for(let _0xe943a9=-0x2*0x128c+-0x974+0x7c2*0x6;_0xe943a9<To['length'];_0xe943a9++)_0x3de63d=To[_0xe943a9],_0x3de63d!=='light'&&(_0x41d79e[_0x3de63d]&&_0x41d79e[_0x3de63d]['clone']?_0x56c34d[_0x3de63d]=_0x41d79e[_0x3de63d]['clone']():_0x56c34d[_0x3de63d]=_0x41d79e[_0x3de63d]);return this['addCompone'+'nt'](_0x5bf5d5,_0x56c34d);}['changeType'](_0x4e179f,_0x8fe7ce,_0x2ee1e4){_0x8fe7ce!==_0x2ee1e4&&(_0x4e179f['light']['type']=Gu[_0x2ee1e4]);}}const ZI=['x','y','z','w'],QI=[void(-0xe5d+-0xd92+0x1bef),void(0x782+-0xe87*0x1+0x705),$,T,Q];function La(_0xe2128a,_0x4f1d8d,_0x303426,_0x2d7314){switch(_0x4f1d8d['type']){case'boolean':return!!_0x303426;case'number':if(typeof _0x303426=='number')return _0x303426;if(typeof _0x303426=='string'){const _0x6f863a=parseInt(_0x303426,0x658+-0x2392+0x1d44);return isNaN(_0x6f863a)?null:_0x6f863a;}else{if(typeof _0x303426=='boolean')return-0xfd0+0x59*-0x47+0x287f+_0x303426;}return null;case'json':{const _0x25f60a={};if(Array['isArray'](_0x4f1d8d['schema'])){(!_0x303426||typeof _0x303426!='object')&&(_0x303426={});for(let _0x13cc7c=0x1*-0x1d21+-0x19eb+0x370c;_0x13cc7c<_0x4f1d8d['schema']['length'];_0x13cc7c++){const _0x2afd79=_0x4f1d8d['schema'][_0x13cc7c];if(_0x2afd79['name']){if(_0x2afd79['array']){_0x25f60a[_0x2afd79['name']]=[];const _0x1f3335=Array['isArray'](_0x303426[_0x2afd79['name']])?_0x303426[_0x2afd79['name']]:[];for(let _0x5acb63=0x3b0*0x1+-0x222d+0x1e7d;_0x5acb63<_0x1f3335['length'];_0x5acb63++)_0x25f60a[_0x2afd79['name']]['push'](La(_0xe2128a,_0x2afd79,_0x1f3335[_0x5acb63]));}else{const _0x27d562=_0x303426['hasOwnProp'+'erty'](_0x2afd79['name'])?_0x303426[_0x2afd79['name']]:_0x2afd79['default'];_0x25f60a[_0x2afd79['name']]=La(_0xe2128a,_0x2afd79,_0x27d562);}}}}return _0x25f60a;}case'asset':return _0x303426 instanceof le?_0x303426:typeof _0x303426=='number'?_0xe2128a['assets']['get'](_0x303426)||null:typeof _0x303426=='string'&&_0xe2128a['assets']['get'](parseInt(_0x303426,0xb*-0x14b+-0x16a*0x7+0x1829))||null;case'entity':return _0x303426 instanceof De?_0x303426:typeof _0x303426=='string'?_0xe2128a['getEntityF'+'romIndex'](_0x303426):null;case'rgb':case'rgba':if(_0x303426 instanceof Y)return _0x2d7314 instanceof Y?(_0x2d7314['copy'](_0x303426),_0x2d7314):_0x303426['clone']();if(_0x303426 instanceof Array&&_0x303426['length']>=-0x1166*0x1+-0x87*-0x27+-0x328&&_0x303426['length']<=0x2bf*-0x1+-0x23b*-0x9+-0x1150){for(let _0x1a56cf=-0x510+-0xd6*-0x20+-0x15b0;_0x1a56cf<_0x303426['length'];_0x1a56cf++)if(typeof _0x303426[_0x1a56cf]!='number')return null;return _0x2d7314||(_0x2d7314=new Y()),_0x2d7314['r']=_0x303426[-0x63*-0x4+-0x471+0x2e5],_0x2d7314['g']=_0x303426[-0x1a8a+0x1b35+-0xa*0x11],_0x2d7314['b']=_0x303426[-0x6*0x3a5+0x21ba+0x5ed*-0x2],_0x2d7314['a']=_0x303426['length']===0x1*-0x1d03+0x48*0x36+0xdd6?0x112b+0x1f91+-0x30bb*0x1:_0x303426[0x1fc2+0xbc9+-0x2b88],_0x2d7314;}else{if(typeof _0x303426=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x303426))return _0x2d7314||(_0x2d7314=new Y()),_0x2d7314['fromString'](_0x303426),_0x2d7314;}return null;case'vec2':case'vec3':case'vec4':{const _0xfe5ab5=parseInt(_0x4f1d8d['type']['slice'](0x5*0x7a+-0x12d8+0x1079),-0x15a*0xd+0x41c*0x2+0x964*0x1),_0x17b0ba=QI[_0xfe5ab5];if(_0x303426 instanceof _0x17b0ba)return _0x2d7314 instanceof _0x17b0ba?(_0x2d7314['copy'](_0x303426),_0x2d7314):_0x303426['clone']();if(_0x303426 instanceof Array&&_0x303426['length']===_0xfe5ab5){for(let _0x5d56d6=-0x4cf+0xeff+0xa30*-0x1;_0x5d56d6<_0x303426['length'];_0x5d56d6++)if(typeof _0x303426[_0x5d56d6]!='number')return null;_0x2d7314||(_0x2d7314=new _0x17b0ba());for(let _0x3a2c2a=-0x1c9f+0x1440+0x85f;_0x3a2c2a<_0xfe5ab5;_0x3a2c2a++)_0x2d7314[ZI[_0x3a2c2a]]=_0x303426[_0x3a2c2a];return _0x2d7314;}return null;}case'curve':if(_0x303426){let _0x5e9626;if(_0x303426 instanceof Cs||_0x303426 instanceof jr)_0x5e9626=_0x303426['clone']();else{const _0x17ca17=_0x303426['keys'][0x1a77+-0xb8e+-0xee9]instanceof Array?jr:Cs;_0x5e9626=new _0x17ca17(_0x303426['keys']),_0x5e9626['type']=_0x303426['type'];}return _0x5e9626;}break;}return _0x303426;}function Ax(_0x4bb252,_0x2f4b2c,_0x1ef591,_0x2a8e60){return _0x2f4b2c['array']?_0x1ef591['map']((_0x9b016e,_0x28cd10)=>La(_0x4bb252,_0x2f4b2c,_0x9b016e,_0x2a8e60?_0x2a8e60[_0x28cd10]:null)):La(_0x4bb252,_0x2f4b2c,_0x1ef591,_0x2a8e60);}function Ex(_0x470027,_0x520355,_0x45b944,_0x5463d7){if(_0x45b944)for(const _0x3c9d35 in _0x520355){const _0x3604cd=_0x520355[_0x3c9d35],_0x46a0a3=_0x45b944[_0x3c9d35];_0x46a0a3!==void(-0x7ae+-0x17e+0x92c)&&(_0x5463d7[_0x3c9d35]=Ax(_0x470027,_0x3604cd,_0x46a0a3,_0x5463d7[_0x3c9d35]));}}const oa=class oa{constructor(_0x1101b6){this['scriptType']=_0x1101b6,this['index']={};}['add'](_0x468b1d,_0x53bf48){if(this['index'][_0x468b1d]){v['warn']('attribute\x20'+'\x27'+_0x468b1d+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(oa['reservedNa'+'mes']['has'](_0x468b1d)){v['warn']('attribute\x20'+'\x27'+_0x468b1d+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x468b1d]=_0x53bf48,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x468b1d,{'get':function(){return this['__attribut'+'es'][_0x468b1d];},'set':function(_0x48881a){const _0x4495cc='attr',_0x2e0fb8='attr:'+_0x468b1d,_0x2a572c=this['__attribut'+'es'][_0x468b1d];let _0x5c08ea=_0x2a572c;if(_0x2a572c&&_0x53bf48['type']!=='json'&&_0x53bf48['type']!=='entity'&&_0x2a572c['clone']&&(this['hasEvent'](_0x4495cc)||this['hasEvent'](_0x2e0fb8))&&(_0x5c08ea=_0x2a572c['clone']()),_0x53bf48['array']){if(this['__attribut'+'es'][_0x468b1d]=[],_0x48881a){for(let _0x2f6b54=0x1*-0xb31+-0x59c+-0xbb*-0x17,_0x4709b5=_0x48881a['length'];_0x2f6b54<_0x4709b5;_0x2f6b54++)this['__attribut'+'es'][_0x468b1d]['push'](La(this['app'],_0x53bf48,_0x48881a[_0x2f6b54],_0x2a572c?_0x2a572c[_0x2f6b54]:null));}}else this['__attribut'+'es'][_0x468b1d]=La(this['app'],_0x53bf48,_0x48881a,_0x2a572c);this['fire'](_0x4495cc,_0x468b1d,this['__attribut'+'es'][_0x468b1d],_0x5c08ea),this['fire'](_0x2e0fb8,this['__attribut'+'es'][_0x468b1d],_0x5c08ea);}});}['remove'](_0x45218e){return this['index'][_0x45218e]?(delete this['index'][_0x45218e],delete this['scriptType']['prototype'][_0x45218e],!(-0x14b6+0xe17+0x69f*0x1)):!(0x2a3+0x1a*0x1f+-0x5c8);}['has'](_0x15e5e9){return!!this['index'][_0x15e5e9];}['get'](_0x4306f1){return this['index'][_0x4306f1]||null;}};c(oa,'assignAttr'+'ibutesToSc'+'ript',Ex),c(oa,'attributeT'+'oValue',Ax),c(oa,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Ho=oa;const _f='initialize',gf='postInitia'+'lize',JI='update',eD='postUpdate',tD='swap';class Ht extends ce{constructor(_0x332422){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x332422);}set['enabled'](_0x3e4b28){this['_enabled']=!!_0x3e4b28,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(-0x249a+-0x1683*0x1+-0x3b1d*-0x1),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,_f)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(0x13ca+-0x1a54+0x3*0x22e),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,gf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x57e3a1){const _0x1774e5=this['constructo'+'r'];v['assert'](_0x57e3a1&&_0x57e3a1['app']&&_0x57e3a1['entity'],'script\x20['+_0x1774e5['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x57e3a1['app'],this['entity']=_0x57e3a1['entity'],this['_enabled']=typeof _0x57e3a1['enabled']=='boolean'?_0x57e3a1['enabled']:!(-0x2f*0x9d+-0x22c1+-0x1*-0x3f94),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0xed7+-0x1*-0x6f0+0x7e8),this['__scriptTy'+'pe']=_0x1774e5,this['__executio'+'nOrder']=-(0x24c6+0x1*0x579+-0x2a3e);}static get['scriptName'](){return this['__name'];}}c(Ht,'EVENT_ENAB'+'LE','enable'),c(Ht,'EVENT_DISA'+'BLE','disable'),c(Ht,'EVENT_STAT'+'E','state'),c(Ht,'EVENT_DEST'+'ROY','destroy'),c(Ht,'EVENT_ATTR','attr'),c(Ht,'EVENT_ERRO'+'R','error'),c(Ht,'__name',null),c(Ht,'__getScrip'+'tName',Cx);const sD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Cx(_0x34b599){if(typeof _0x34b599!='function')return;if('name'in Function['prototype'])return _0x34b599['name'];if(_0x34b599===Function||_0x34b599===Function['prototype']['constructo'+'r'])return'Function';const _0x1915f0=(''+_0x34b599)['match'](sD);return _0x1915f0?_0x1915f0[0x126f+0x3*0xae1+0x3311*-0x1]:void(0x1b55*-0x1+0x2009*-0x1+0x3b5e);}class Qh extends Ht{constructor(_0xcdf68c){super(_0xcdf68c),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0xcdf68c);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Ho(this)),this['__attribut'+'es'];}['initScript'](_0x5f21b3){Ht['prototype']['initScript']['call'](this,_0x5f21b3),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x5f21b3['attributes']||{};}['initScript'+'Type'](_0x40b6f9){this['initScript'](_0x40b6f9);}['__initiali'+'zeAttribut'+'es'](_0x24b705){if(!(!_0x24b705&&!this['__attribut'+'esRaw'])){for(const _0x4b915e in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x4b915e)?this[_0x4b915e]=this['__attribut'+'esRaw'][_0x4b915e]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x4b915e)||(this['__scriptTy'+'pe']['attributes']['index'][_0x4b915e]['hasOwnProp'+'erty']('default')?this[_0x4b915e]=this['__scriptTy'+'pe']['attributes']['index'][_0x4b915e]['default']:this[_0x4b915e]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x44be87){for(const _0x16c030 in _0x44be87)_0x44be87['hasOwnProp'+'erty'](_0x16c030)&&(this['prototype'][_0x16c030]=_0x44be87[_0x16c030]);}}const iD=_0x59a04b=>_0x59a04b[-0x81*-0xe+-0x19c9+-0x2ad*-0x7]['toLowerCas'+'e']()+_0x59a04b['substring'](0x6*-0x1b7+-0xb5a*0x2+0x1*0x20ff);class di extends ue{constructor(_0x568f61,_0x5959ba){super(_0x568f61,_0x5959ba),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new wh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new wh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(0x5*0x25e+0x1b*-0x103+0xf7c),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x1*-0x1ad1+0x2616+-0x40e7),this['_enabled']=!(0xfcf+0x241*-0x7+-0x8),this['_beingEnab'+'led']=!(-0x1d*0xce+0x1*-0x1bd7+0x1997*0x2),this['_isLooping'+'ThroughScr'+'ipts']=!(0x2101+-0x995+-0xb*0x221),this['_execution'+'Order']=-(0x2676+-0x27c+-0x23f9),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x46bd39){this['_scriptsDa'+'ta']=_0x46bd39;for(const _0x5f3ce8 in _0x46bd39){if(!_0x46bd39['hasOwnProp'+'erty'](_0x5f3ce8))continue;const _0x4b902a=this['_scriptsIn'+'dex'][_0x5f3ce8];if(_0x4b902a){if(typeof _0x46bd39[_0x5f3ce8]['enabled']=='boolean'&&(_0x4b902a['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x4b902a);}),_0x4b902a['enabled']=!!_0x46bd39[_0x5f3ce8]['enabled']),typeof _0x46bd39[_0x5f3ce8]['attributes']=='object'){for(const _0x27d40 in _0x46bd39[_0x5f3ce8]['attributes'])if(!Ho['reservedNa'+'mes']['has'](_0x27d40)){if(!_0x4b902a['__attribut'+'es']['hasOwnProp'+'erty'](_0x27d40)){const _0x42689d=this['system']['app']['scripts']['get'](_0x5f3ce8);_0x42689d&&_0x42689d['attributes']['add'](_0x27d40,{});}_0x4b902a[_0x27d40]=_0x46bd39[_0x5f3ce8]['attributes'][_0x27d40];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x4564f8){const _0x4d43be=this['_enabled'];this['_enabled']=_0x4564f8,this['fire']('set','enabled',_0x4d43be,_0x4564f8);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(-0x133d+0x1316+-0x1*-0x27),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0x5*0x24d+-0x16e1*-0x1+0x1*-0x2261);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x211e60=this['_beginLoop'+'ing']();for(let _0xbb1c21=0x5*0x607+-0x8*-0x1c5+-0x2c4b,_0xe40a86=this['scripts']['length'];_0xbb1c21<_0xe40a86;_0xbb1c21++){const _0x5925f2=this['scripts'][_0xbb1c21];_0x5925f2['_initializ'+'ed']&&!_0x5925f2['_postIniti'+'alized']&&_0x5925f2['enabled']&&(_0x5925f2['_postIniti'+'alized']=!(-0x1619+-0x2548+0x3b61),_0x5925f2['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x5925f2,gf));}this['_endLoopin'+'g'](_0x211e60);}['_beginLoop'+'ing'](){const _0x24e734=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(0x346+0x24*0x77+-0x1402),_0x24e734;}['_endLoopin'+'g'](_0x348f23){this['_isLooping'+'ThroughScr'+'ipts']=_0x348f23,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x4a64b7,_0x1128fc,_0x51c4d8){this['_beingEnab'+'led']=!(0x2dd+-0xc82*0x1+-0x1*-0x9a5),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0x22e7+-0x1012+0x4*-0x4b5);}['_checkStat'+'e'](){const _0x2976a2=this['enabled']&&this['entity']['enabled'];if(_0x2976a2===this['_oldState'])return;this['_oldState']=_0x2976a2,this['fire'](_0x2976a2?'enable':'disable'),this['fire']('state',_0x2976a2),_0x2976a2?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x12eb38=this['_beginLoop'+'ing']();for(let _0x2fff8b=0x42f+-0x1b07*0x1+0x16d8,_0x1ebf13=this['scripts']['length'];_0x2fff8b<_0x1ebf13;_0x2fff8b++){const _0x2c6942=this['scripts'][_0x2fff8b];_0x2c6942['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x2c6942);}),_0x2c6942['enabled']=_0x2c6942['_enabled'];}this['_endLoopin'+'g'](_0x12eb38);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x3aeada=this['_beginLoop'+'ing']();for(let _0x5094ff=-0x1*-0x62f+0xa81*0x1+-0x42c*0x4;_0x5094ff<this['scripts']['length'];_0x5094ff++){const _0xc8f563=this['scripts'][_0x5094ff];_0xc8f563&&this['destroy'](_0xc8f563['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x3aeada);}['_removeDes'+'troyedScri'+'pts'](){const _0x4743f0=this['_destroyed'+'Scripts']['length'];if(_0x4743f0){for(let _0x631c4f=0x4*0x569+0x1*0x4ab+-0x1a4f;_0x631c4f<_0x4743f0;_0x631c4f++){const _0x1ff490=this['_destroyed'+'Scripts'][_0x631c4f];this['_removeScr'+'iptInstanc'+'e'](_0x1ff490);}this['_destroyed'+'Scripts']['length']=0x3*-0xd4+0x60a*0x1+-0x38e,this['_resetExec'+'utionOrder'](0x1*0x1457+0x9b2+0xb*-0x2bb,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x20e66d=-0x1d7d*0x1+0x1356+-0x71*-0x17,_0x742b4e=this['scripts']['length'];_0x20e66d<_0x742b4e;_0x20e66d++){const _0xd81ac3=this['scripts'][_0x20e66d];this['initialize'+'Attributes'](_0xd81ac3);}}['initialize'+'Attributes'](_0x5b6b78){var _0x530dcf;if(_0x5b6b78 instanceof Qh)_0x5b6b78['__initiali'+'zeAttribut'+'es']();else{const _0xeae9e1=_0x5b6b78['__scriptTy'+'pe']['__name'],_0x22188d=this['_attribute'+'DataMap']['get'](_0xeae9e1);if(!_0x22188d)return;const _0x3ed397=(_0x530dcf=this['system']['app']['scripts'])==null?void(0x506*0x6+-0x7*-0x512+-0x41a2):_0x530dcf['getSchema'](_0xeae9e1);_0x3ed397||v['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0xeae9e1+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Ex(this['system']['app'],_0x3ed397['attributes'],_0x22188d,_0x5b6b78);}}['_scriptMet'+'hod'](_0xd6a4bf,_0x588f51,_0x299cab){try{_0xd6a4bf[_0x588f51](_0x299cab);}catch(_0x3c1c5f){_0xd6a4bf['enabled']=!(-0x1d44+-0x182f+0x2*0x1aba),_0xd6a4bf['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x588f51+'\x22\x20for\x20\x22'+_0xd6a4bf['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x3c1c5f),console['error'](_0x3c1c5f)),_0xd6a4bf['fire']('error',_0x3c1c5f,_0x588f51),this['fire']('error',_0xd6a4bf,_0x3c1c5f,_0x588f51);}}['_onInitial'+'ize'](){const _0x86fad=this['_scripts'],_0xac0842=this['_beginLoop'+'ing']();for(let _0x40e500=0x202e+0x2543+-0x4571,_0x5a4a56=_0x86fad['length'];_0x40e500<_0x5a4a56;_0x40e500++){const _0x422c9c=_0x86fad[_0x40e500];!_0x422c9c['_initializ'+'ed']&&_0x422c9c['enabled']&&(_0x422c9c['_initializ'+'ed']=!(-0xbd*0x34+0xde0+0x1884),_0x422c9c['initialize']&&this['_scriptMet'+'hod'](_0x422c9c,_f));}this['_endLoopin'+'g'](_0xac0842);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x7dbb4){const _0x115797=this['_updateLis'+'t'];if(!_0x115797['length'])return;const _0x518268=this['_beginLoop'+'ing']();for(_0x115797['loopIndex']=-0x4*0x11e+-0x1aad+0x1f25;_0x115797['loopIndex']<_0x115797['length'];_0x115797['loopIndex']++){const _0x85878b=_0x115797['items'][_0x115797['loopIndex']];_0x85878b['enabled']&&this['_scriptMet'+'hod'](_0x85878b,JI,_0x7dbb4);}this['_endLoopin'+'g'](_0x518268);}['_onPostUpd'+'ate'](_0x31ee89){const _0x257ad3=this['_postUpdat'+'eList'];if(!_0x257ad3['length'])return;const _0xfafa1d=this['_beginLoop'+'ing']();for(_0x257ad3['loopIndex']=0x37*0x17+-0x12b5+0x371*0x4;_0x257ad3['loopIndex']<_0x257ad3['length'];_0x257ad3['loopIndex']++){const _0xc11e3f=_0x257ad3['items'][_0x257ad3['loopIndex']];_0xc11e3f['enabled']&&this['_scriptMet'+'hod'](_0xc11e3f,eD,_0x31ee89);}this['_endLoopin'+'g'](_0xfafa1d);}['_insertScr'+'iptInstanc'+'e'](_0x2bae64,_0x43fbb6,_0x598beb){_0x43fbb6===-(0x8e*0x33+-0xf*-0x2f+-0x1f0a)?(this['_scripts']['push'](_0x2bae64),_0x2bae64['__executio'+'nOrder']=_0x598beb,_0x2bae64['update']&&this['_updateLis'+'t']['append'](_0x2bae64),_0x2bae64['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x2bae64)):(this['_scripts']['splice'](_0x43fbb6,0x9*0x2f3+-0xba1+0x2e*-0x53,_0x2bae64),_0x2bae64['__executio'+'nOrder']=_0x43fbb6,this['_resetExec'+'utionOrder'](_0x43fbb6+(0x23*0x83+0x808+0x8*-0x33e),_0x598beb+(-0x66b+-0x3*0x83a+0xf8d*0x2)),_0x2bae64['update']&&this['_updateLis'+'t']['insert'](_0x2bae64),_0x2bae64['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x2bae64));}['_removeScr'+'iptInstanc'+'e'](_0x40261c){const _0x439a68=this['_scripts']['indexOf'](_0x40261c);return _0x439a68===-(0x11e*0x17+0x7*0xc5+-0x1f14)||(this['_scripts']['splice'](_0x439a68,-0x1b57+-0x1*-0x3e3+0x1775),_0x40261c['update']&&this['_updateLis'+'t']['remove'](_0x40261c),_0x40261c['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x40261c)),_0x439a68;}['_resetExec'+'utionOrder'](_0x38bb4b,_0x3539f8){for(let _0xe68d1b=_0x38bb4b;_0xe68d1b<_0x3539f8;_0xe68d1b++)this['_scripts'][_0xe68d1b]['__executio'+'nOrder']=_0xe68d1b;}['_resolveEn'+'tityScript'+'Attribute'](_0x44387d,_0x4de847,_0x4c8f8b,_0x1c9b30,_0x363ea1,_0x96404a){if(_0x44387d['array']){const _0x47e6b6=_0x4c8f8b['length'];if(!_0x47e6b6)return;const _0x21d1de=_0x4c8f8b['slice']();for(let _0x5d2afa=0x14*-0x32+0x66*-0x4f+0x2362;_0x5d2afa<_0x47e6b6;_0x5d2afa++){const _0x4c54e7=_0x21d1de[_0x5d2afa]instanceof $e?_0x21d1de[_0x5d2afa]['getGuid']():_0x21d1de[_0x5d2afa];_0x96404a[_0x4c54e7]&&(_0x21d1de[_0x5d2afa]=_0x1c9b30?_0x96404a[_0x4c54e7]['getGuid']():_0x96404a[_0x4c54e7]);}_0x363ea1[_0x4de847]=_0x21d1de;}else{if(_0x4c8f8b instanceof $e)_0x4c8f8b=_0x4c8f8b['getGuid']();else{if(typeof _0x4c8f8b!='string')return;}_0x96404a[_0x4c8f8b]&&(_0x363ea1[_0x4de847]=_0x96404a[_0x4c8f8b]);}}['has'](_0xf309a1){if(typeof _0xf309a1=='string')return!!this['_scriptsIn'+'dex'][_0xf309a1];if(!_0xf309a1)return!(0x239b+0x2*0xbc3+-0x3b20);const _0x1602cc=_0xf309a1,_0x4e4b40=_0x1602cc['__name'],_0x32414c=this['_scriptsIn'+'dex'][_0x4e4b40];return(_0x32414c&&_0x32414c['instance'])instanceof _0x1602cc;}['get'](_0x5c9d4f){if(typeof _0x5c9d4f=='string'){const _0xb2ae65=this['_scriptsIn'+'dex'][_0x5c9d4f];return _0xb2ae65?_0xb2ae65['instance']:null;}if(!_0x5c9d4f)return null;const _0xcfb48b=_0x5c9d4f,_0x2ae101=_0xcfb48b['__name'],_0x61ec0b=this['_scriptsIn'+'dex'][_0x2ae101],_0x55fa47=_0x61ec0b&&_0x61ec0b['instance'];return _0x55fa47 instanceof _0xcfb48b?_0x55fa47:null;}['create'](_0x177fe4,_0x30ba48={}){const _0x3be41d=this;let _0x4dfe5c=_0x177fe4,_0x1420c3=_0x177fe4;if(typeof _0x4dfe5c=='string'?_0x4dfe5c=this['system']['app']['scripts']['get'](_0x4dfe5c):_0x4dfe5c&&(_0x1420c3=_0x4dfe5c['__name']??(_0x4dfe5c['__name']=iD(Cx(_0x4dfe5c)))),_0x4dfe5c){if(!this['_scriptsIn'+'dex'][_0x1420c3]||!this['_scriptsIn'+'dex'][_0x1420c3]['instance']){const _0x24b679=new _0x4dfe5c({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x30ba48['hasOwnProp'+'erty']('enabled')?_0x30ba48['enabled']:!(0x260d+-0x4a4+-0x2169),'attributes':_0x30ba48['attributes']||{}});_0x30ba48['properties']&&typeof _0x30ba48['properties']=='object'&&Object['assign'](_0x24b679,_0x30ba48['properties']),_0x24b679 instanceof Qh||this['_attribute'+'DataMap']['set'](_0x1420c3,_0x30ba48['attributes']);const _0xb603ca=this['_scripts']['length'];let _0x5e9196=-(-0xd49*-0x1+-0x15*-0x91+-0x1*0x192d);return typeof _0x30ba48['ind']=='number'&&_0x30ba48['ind']!==-(-0xa5b*0x1+-0x245*0x7+0x1*0x1a3f)&&_0xb603ca>_0x30ba48['ind']&&(_0x5e9196=_0x30ba48['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x24b679,_0x5e9196,_0xb603ca),this['_scriptsIn'+'dex'][_0x1420c3]={'instance':_0x24b679,'onSwap':function(){_0x3be41d['swap'](_0x1420c3);}},this[_0x1420c3]=_0x24b679,_0x30ba48['preloading']||this['initialize'+'Attributes'](_0x24b679),this['fire']('create',_0x1420c3,_0x24b679),this['fire']('create:'+_0x1420c3,_0x24b679),this['system']['app']['scripts']['on']('swap:'+_0x1420c3,this['_scriptsIn'+'dex'][_0x1420c3]['onSwap']),_0x30ba48['preloading']||(_0x24b679['enabled']&&!_0x24b679['_initializ'+'ed']&&(_0x24b679['_initializ'+'ed']=!(0x11c2+-0x394+-0xe2e),_0x24b679['initialize']&&this['_scriptMet'+'hod'](_0x24b679,_f)),_0x24b679['enabled']&&!_0x24b679['_postIniti'+'alized']&&(_0x24b679['_postIniti'+'alized']=!(-0x9b3*0x2+0xc9*0x24+-0x8de),_0x24b679['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x24b679,gf))),_0x24b679;}v['warn']('script\x20\x27'+_0x1420c3+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x1420c3]={'awaiting':!(0x72e+-0xf6d+0x83f),'ind':this['_scripts']['length']},v['warn']('script\x20\x27'+_0x1420c3+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x2d66fa){let _0x3de0b8=_0x2d66fa,_0x3c75cf=_0x2d66fa;typeof _0x3c75cf=='string'?_0x3c75cf=this['system']['app']['scripts']['get'](_0x3c75cf):_0x3c75cf&&(_0x3de0b8=_0x3c75cf['__name']);const _0x2f6fb3=this['_scriptsIn'+'dex'][_0x3de0b8];if(delete this['_scriptsIn'+'dex'][_0x3de0b8],!_0x2f6fb3)return!(0x522*0x7+0x236a+-0x4757);this['_attribute'+'DataMap']['delete'](_0x3de0b8);const _0x2e086d=_0x2f6fb3['instance'];if(_0x2e086d&&!_0x2e086d['_destroyed']){if(_0x2e086d['enabled']=!(-0x11af*0x1+-0x1b26+0x2cd6),_0x2e086d['_destroyed']=!(0x18bd+0xda7+-0x2664),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x2e086d);else{const _0x16373e=this['_removeScr'+'iptInstanc'+'e'](_0x2e086d);_0x16373e>=0x6*-0x279+-0x1819+-0x1*-0x26ef&&this['_resetExec'+'utionOrder'](_0x16373e,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x3de0b8,_0x2f6fb3['onSwap']),delete this[_0x3de0b8],this['fire']('destroy',_0x3de0b8,_0x2e086d||null),this['fire']('destroy:'+_0x3de0b8,_0x2e086d||null),_0x2e086d&&_0x2e086d['fire']('destroy'),!(0x40d+0x21*0x3e+-0xc0b);}['swap'](_0x53292e){let _0x2a927f=_0x53292e,_0x33ab16=_0x53292e;typeof _0x33ab16=='string'?_0x33ab16=this['system']['app']['scripts']['get'](_0x33ab16):_0x33ab16&&(_0x2a927f=_0x33ab16['__name']);const _0xe2432b=this['_scriptsIn'+'dex'][_0x2a927f];if(!_0xe2432b||!_0xe2432b['instance'])return!(-0x9*0x6+-0x1d*0x7c+-0x4c1*-0x3);const _0x2f260f=_0xe2432b['instance'],_0x356495=this['_scripts']['indexOf'](_0x2f260f),_0x50c039=new _0x33ab16({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x2f260f['enabled'],'attributes':_0x2f260f['__attribut'+'es']});return _0x50c039['swap']?(this['initialize'+'Attributes'](_0x50c039),this['_scripts'][_0x356495]=_0x50c039,this['_scriptsIn'+'dex'][_0x2a927f]['instance']=_0x50c039,this[_0x2a927f]=_0x50c039,_0x50c039['__executio'+'nOrder']=_0x356495,_0x2f260f['update']&&this['_updateLis'+'t']['remove'](_0x2f260f),_0x2f260f['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x2f260f),_0x50c039['update']&&this['_updateLis'+'t']['insert'](_0x50c039),_0x50c039['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x50c039),this['_scriptMet'+'hod'](_0x50c039,tD,_0x2f260f),this['fire']('swap',_0x2a927f,_0x50c039),this['fire']('swap:'+_0x2a927f,_0x50c039),!(-0xa6c*0x1+0x4f6*0x2+0x80)):!(-0xc1d*0x3+-0x15f4+0x23e*0x1a);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x18d268,_0x41f918){const _0x185f0e=this['entity']['script'];for(const _0x35cd21 in _0x18d268['_scriptsIn'+'dex']){const _0xbc9b8e=this['system']['app']['scripts']['get'](_0x35cd21);if(!_0xbc9b8e)continue;const _0xec30c5=_0x18d268['_scriptsIn'+'dex'][_0x35cd21];if(!_0xec30c5||!_0xec30c5['instance'])continue;const _0xad8e8e=_0x185f0e[_0x35cd21]['__attribut'+'esRaw'],_0x35bf70=_0x185f0e[_0x35cd21]['__attribut'+'es'];if(!_0xad8e8e&&!_0x35bf70)continue;const _0x49d583=!!_0xad8e8e,_0x326199=_0xec30c5['instance']['__attribut'+'es'];for(const _0x206ede in _0x326199){if(!_0x326199[_0x206ede])continue;const _0x55aa2a=_0xbc9b8e['attributes']['get'](_0x206ede);if(_0x55aa2a){if(_0x55aa2a['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x55aa2a,_0x206ede,_0x326199[_0x206ede],_0x49d583,_0xad8e8e||_0x35bf70,_0x41f918);else{if(_0x55aa2a['type']==='json'&&Array['isArray'](_0x55aa2a['schema'])){const _0x2d1df1=_0x326199[_0x206ede],_0x4f9fac=_0xad8e8e?_0xad8e8e[_0x206ede]:_0x35bf70[_0x206ede];for(let _0x502ddd=-0x3b4*-0x7+0x6ec*0x2+-0x14*0x1fd;_0x502ddd<_0x55aa2a['schema']['length'];_0x502ddd++){const _0x61a16a=_0x55aa2a['schema'][_0x502ddd];if(_0x61a16a['type']==='entity'){if(_0x55aa2a['array']){for(let _0x5a0589=0xa5e*-0x1+-0x262c+0x3*0x102e;_0x5a0589<_0x2d1df1['length'];_0x5a0589++)this['_resolveEn'+'tityScript'+'Attribute'](_0x61a16a,_0x61a16a['name'],_0x2d1df1[_0x5a0589][_0x61a16a['name']],_0x49d583,_0x4f9fac[_0x5a0589],_0x41f918);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x61a16a,_0x61a16a['name'],_0x2d1df1[_0x61a16a['name']],_0x49d583,_0x4f9fac,_0x41f918);}}}}}}}}['move'](_0x484b61,_0x28a4a8){const _0x4f5a0b=this['_scripts']['length'];if(_0x28a4a8>=_0x4f5a0b||_0x28a4a8<-0xebd+-0x1c97+0x2b54)return!(-0x2697+-0x1*0xa03+-0x1*-0x309b);let _0x9bea97=_0x484b61,_0x3d7194=_0x484b61;typeof _0x3d7194!='string'?_0x3d7194=_0x484b61['__name']:_0x9bea97=null;const _0x22802e=this['_scriptsIn'+'dex'][_0x3d7194];if(!_0x22802e||!_0x22802e['instance'])return!(0x1cf3*-0x1+0x21d3+0x1*-0x4df);const _0x1a4d10=_0x22802e['instance'];if(_0x9bea97&&!(_0x1a4d10 instanceof _0x9bea97))return!(0x167c+-0x26f1*-0x1+0x4*-0xf5b);const _0x585a65=this['_scripts']['indexOf'](_0x1a4d10);return _0x585a65===-(0x3b*0x23+0x1*-0xdbe+0x5ae)||_0x585a65===_0x28a4a8?!(-0xf89+-0xe09+0x1d93):(this['_scripts']['splice'](_0x28a4a8,-0x618+0x45*-0x13+0xb37,this['_scripts']['splice'](_0x585a65,-0x1419+-0x1a23*-0x1+-0x67*0xf)[-0x12eb+0x15b3+-0x2c8]),this['_resetExec'+'utionOrder'](0x1ae2+-0x6d9*-0x3+0x39*-0xd5,_0x4f5a0b),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x3d7194,_0x1a4d10,_0x28a4a8,_0x585a65),this['fire']('move:'+_0x3d7194,_0x1a4d10,_0x28a4a8,_0x585a65),!(0x1*0x63d+0x65c+0x4b*-0x2b));}}c(di,'EVENT_CREA'+'TE','create'),c(di,'EVENT_DEST'+'ROY','destroy'),c(di,'EVENT_ENAB'+'LE','enable'),c(di,'EVENT_DISA'+'BLE','disable'),c(di,'EVENT_REMO'+'VE','remove'),c(di,'EVENT_STAT'+'E','state'),c(di,'EVENT_MOVE','move'),c(di,'EVENT_ERRO'+'R','error');class rD{constructor(){this['enabled']=!(0x1d1e*0x1+-0x1489+-0x895);}}const nD='_onInitial'+'izeAttribu'+'tes',aD='_onInitial'+'ize',oD='_onPostIni'+'tialize',lD='_onUpdate',hD='_onPostUpd'+'ate';let Jl=-0x1*-0x825+0x526+-0xd4b;class cD extends Xe{constructor(_0x2dada5){super(_0x2dada5),this['id']='script',this['ComponentT'+'ype']=di,this['DataType']=rD,this['_component'+'s']=new wh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new wh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x279*0x7+0x13b7+0x2506*-0x1),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x28794a,_0x4e8701){if(_0x28794a['_execution'+'Order']=Jl++,this['_component'+'s']['append'](_0x28794a),Jl>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x28794a['enabled']=_0x4e8701['hasOwnProp'+'erty']('enabled')?!!_0x4e8701['enabled']:!(-0x3a*-0x8e+-0x1a4+0x2*-0xf44),_0x28794a['enabled']&&_0x28794a['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x28794a),_0x4e8701['hasOwnProp'+'erty']('order')&&_0x4e8701['hasOwnProp'+'erty']('scripts')){_0x28794a['_scriptsDa'+'ta']=_0x4e8701['scripts'];for(let _0x1b2bc6=0x289+-0x1aaa+0x1d*0xd5;_0x1b2bc6<_0x4e8701['order']['length'];_0x1b2bc6++)_0x28794a['create'](_0x4e8701['order'][_0x1b2bc6],{'enabled':_0x4e8701['scripts'][_0x4e8701['order'][_0x1b2bc6]]['enabled'],'attributes':_0x4e8701['scripts'][_0x4e8701['order'][_0x1b2bc6]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0xa8f105,_0x1c75f3){var _0x1b8f5;const _0x18d43d=[],_0x520231={};for(let _0x13369b=-0x1c78+0x11*-0xee+-0x1623*-0x2;_0x13369b<_0xa8f105['script']['_scripts']['length'];_0x13369b++){const _0x1a5d18=_0xa8f105['script']['_scripts'][_0x13369b],_0x5984d7=_0x1a5d18['__scriptTy'+'pe']['__name'];_0x18d43d['push'](_0x5984d7);const _0x25f210=((_0x1b8f5=_0xa8f105['script']['_attribute'+'DataMap'])==null?void(0x77d+0x8e4+0x1061*-0x1):_0x1b8f5['get'](_0x5984d7))||{};for(const _0x22c65d in _0x1a5d18['__attribut'+'es'])_0x25f210[_0x22c65d]=_0x1a5d18['__attribut'+'es'][_0x22c65d];_0x520231[_0x5984d7]={'enabled':_0x1a5d18['_enabled'],'attributes':_0x25f210};}for(const _0x4eefd1 in _0xa8f105['script']['_scriptsIn'+'dex'])_0x4eefd1['awaiting']&&_0x18d43d['splice'](_0x4eefd1['ind'],0x8d5+-0x25c0*0x1+0x1ceb,_0x4eefd1);const _0x4d763a={'enabled':_0xa8f105['script']['enabled'],'order':_0x18d43d,'scripts':_0x520231};return this['addCompone'+'nt'](_0x1c75f3,_0x4d763a);}['_resetExec'+'utionOrder'](){Jl=0x9fc+-0x110b+0x1*0x70f;for(let _0x20a73a=-0x2*0xee5+0x92f*-0x1+0x26f9,_0x393258=this['_component'+'s']['length'];_0x20a73a<_0x393258;_0x20a73a++)this['_component'+'s']['items'][_0x20a73a]['_execution'+'Order']=Jl++;}['_callCompo'+'nentMethod'](_0x27e096,_0x4ce372,_0x41ed75){for(_0x27e096['loopIndex']=0x16c8+-0x68*-0x2+0x2f3*-0x8;_0x27e096['loopIndex']<_0x27e096['length'];_0x27e096['loopIndex']++)_0x27e096['items'][_0x27e096['loopIndex']][_0x4ce372](_0x41ed75);}['_onInitial'+'ize'](){this['preloading']=!(-0x2b*0xb6+0x1df9*0x1+0x1*0x9a),this['_callCompo'+'nentMethod'](this['_component'+'s'],nD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],aD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onUpdate'](_0x4020fe){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD,_0x4020fe);}['_onPostUpd'+'ate'](_0x2ad2ea){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x2ad2ea);}['_addCompon'+'entToEnabl'+'ed'](_0x138ec8){this['_enabledCo'+'mponents']['insert'](_0x138ec8);}['_removeCom'+'ponentFrom'+'Enabled'](_0x1cd64b){this['_enabledCo'+'mponents']['remove'](_0x1cd64b);}['_onBeforeR'+'emove'](_0x443ac8,_0x3a7d9b){this['_component'+'s']['items']['indexOf'](_0x3a7d9b)>=-0x71d+-0xb1d+-0x1*-0x123a&&_0x3a7d9b['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x3a7d9b),this['_component'+'s']['remove'](_0x3a7d9b);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Mx extends ue{constructor(_0x21f606,_0xc10501){super(_0x21f606,_0xc10501),c(this,'_layers',[Fi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x21f606['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0xc10501['on']('remove',this['onRemoveCh'+'ild'],this),_0xc10501['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0xc10501['on']('insert',this['onInsertCh'+'ild'],this),_0xc10501['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x108f95){var _0x173ba9,_0x13a2f7;this['_customAab'+'b']=_0x108f95,(_0x13a2f7=(_0x173ba9=this['_instance'])==null?void(-0x885*-0x1+-0x1834*0x1+0xfaf*0x1):_0x173ba9['meshInstan'+'ce'])==null||_0x13a2f7['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x3bc84b){var _0xebef21;if(this['destroyIns'+'tance'](),this['_instance']=_0x3bc84b,(_0xebef21=this['_instance'])!=null&&_0xebef21['meshInstan'+'ce']){const _0x5ee203=this['_instance']['meshInstan'+'ce'];_0x5ee203['node']||(_0x5ee203['node']=this['entity']),_0x5ee203['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x5950c4){this['_materialO'+'ptions']=Object['assign']({},_0x5950c4),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x3509cf;return(_0x3509cf=this['_instance'])==null?void(0x2*0x1141+-0x23e2+0xb*0x20):_0x3509cf['material'];}set['layers'](_0x99f4ff){this['removeFrom'+'Layers'](),this['_layers']['length']=0x76d+-0x2*-0x58f+-0x65*0x2f;for(let _0x3a5f3e=-0x3d1*0x9+-0x2e*-0x5f+0x1147;_0x3a5f3e<_0x99f4ff['length'];_0x3a5f3e++)this['_layers'][_0x3a5f3e]=_0x99f4ff[_0x3a5f3e];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x243efc){const _0x225026=_0x243efc instanceof le?_0x243efc['id']:_0x243efc;this['_assetRefe'+'rence']['id']!==_0x225026&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x225026,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0xc60c9c){const _0x4e7a35=_0xc60c9c instanceof le?_0xc60c9c['id']:_0xc60c9c;this['_assetRefe'+'rence']['id']=_0x4e7a35;}['destroyIns'+'tance'](){var _0x1b1a47;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x1b1a47=this['_instance'])==null||_0x1b1a47['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x1aec55,_0xf66a11;const _0x54bda0=(_0x1aec55=this['instance'])==null?void(-0x24ef+0x2*-0x182+0x27f3*0x1):_0x1aec55['meshInstan'+'ce'];if(_0x54bda0){const _0x99e434=this['system']['app']['scene']['layers'];for(let _0x4d1ae6=0x12bd+-0x1*0x243+-0x4a*0x39;_0x4d1ae6<this['_layers']['length'];_0x4d1ae6++)(_0xf66a11=_0x99e434['getLayerBy'+'Id'](this['_layers'][_0x4d1ae6]))==null||_0xf66a11['addMeshIns'+'tances']([_0x54bda0]);}}['removeFrom'+'Layers'](){var _0x1dbfd5,_0x2a5bfc;const _0xd52da=(_0x1dbfd5=this['instance'])==null?void(0xc7+0x1f*0x10a+-0x3*0xaff):_0x1dbfd5['meshInstan'+'ce'];if(_0xd52da){const _0x137198=this['system']['app']['scene']['layers'];for(let _0x4ec693=0xa2*-0x13+-0x145+-0x53*-0x29;_0x4ec693<this['_layers']['length'];_0x4ec693++)(_0x2a5bfc=_0x137198['getLayerBy'+'Id'](this['_layers'][_0x4ec693]))==null||_0x2a5bfc['removeMesh'+'Instances']([_0xd52da]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x22030e,_0x3f538d){this['addToLayer'+'s'](),_0x22030e['off']('add',this['onLayerAdd'+'ed'],this),_0x22030e['off']('remove',this['onLayerRem'+'oved'],this),_0x3f538d['on']('add',this['onLayerAdd'+'ed'],this),_0x3f538d['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x43a14d){this['layers']['indexOf'](_0x43a14d['id'])<-0x168e+0x5*-0xdc+0x1ada||this['_instance']&&_0x43a14d['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x384570){this['layers']['indexOf'](_0x384570['id'])<0xbbc+-0x2710+0x16*0x13e||this['_instance']&&_0x384570['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x1c22a5=this['system']['app']['scene'],_0x53922c=_0x1c22a5['layers'];this['_evtLayers'+'Changed']=_0x1c22a5['on']('set:layers',this['onLayersCh'+'anged'],this),_0x53922c&&(this['_evtLayerA'+'dded']=_0x53922c['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x53922c['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0xb92d1f,_0x15f19b,_0x5eb12b;const _0x5a38da=this['system']['app']['scene']['layers'];(_0xb92d1f=this['_evtLayers'+'Changed'])==null||_0xb92d1f['off'](),this['_evtLayers'+'Changed']=null,_0x5a38da&&((_0x15f19b=this['_evtLayerA'+'dded'])==null||_0x15f19b['off'](),this['_evtLayerA'+'dded']=null,(_0x5eb12b=this['_evtLayerR'+'emoved'])==null||_0x5eb12b['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0xdb6*-0x1+0x1*-0x11ec+0x485*0x7));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x1026+-0x725+0x174b));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x272792=this['_assetRefe'+'rence']['asset'];_0x272792&&(this['instance']=_0x272792['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class dD{constructor(){this['enabled']=!(-0xf07+-0x1782+0x2689);}}const yf=['enabled'],Rr=['instance','asset','layers'];class uD extends Xe{constructor(_0x1884cd){super(_0x1884cd),this['id']='gsplat',this['ComponentT'+'ype']=Mx,this['DataType']=dD,this['schema']=yf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x3cfabd,_0x470fb8,_0x11f8ef){_0x470fb8['layers']&&_0x470fb8['layers']['length']&&(_0x470fb8['layers']=_0x470fb8['layers']['slice'](-0x203e*-0x1+0x218c+-0x41ca));for(let _0x3750d7=-0x5d1+-0x34*-0x34+-0x195*0x3;_0x3750d7<Rr['length'];_0x3750d7++)_0x470fb8['hasOwnProp'+'erty'](Rr[_0x3750d7])&&(_0x3cfabd[Rr[_0x3750d7]]=_0x470fb8[Rr[_0x3750d7]]);_0x470fb8['aabbCenter']&&_0x470fb8['aabbHalfEx'+'tents']&&(_0x3cfabd['customAabb']=new _e(new T(_0x470fb8['aabbCenter']),new T(_0x470fb8['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x3cfabd,_0x470fb8,yf);}['cloneCompo'+'nent'](_0x4df2e5,_0x448d46){const _0x3094ea=_0x4df2e5['gsplat'],_0x524dac={};for(let _0x187388=-0x2286+-0x9c+-0x2322*-0x1;_0x187388<Rr['length'];_0x187388++)_0x524dac[Rr[_0x187388]]=_0x3094ea[Rr[_0x187388]];_0x524dac['enabled']=_0x3094ea['enabled'],delete _0x524dac['instance'];const _0x359389=this['addCompone'+'nt'](_0x448d46,_0x524dac);return _0x359389['instance']=_0x3094ea['instance']['clone'](),_0x3094ea['customAabb']&&(_0x359389['customAabb']=_0x3094ea['customAabb']['clone']()),_0x359389;}['onRemove'](_0x23d65d,_0x5b3314){_0x5b3314['onRemove']();}}ue['_buildAcce'+'ssors'](Mx['prototype'],yf);class Hp extends ce{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x2d9210){this['decRefMesh'+'es'](),this['_meshes']=_0x2d9210,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x2d9210);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x11f210;(_0x11f210=this['_meshes'])==null||_0x11f210['forEach']((_0x33666f,_0x772268)=>{_0x33666f&&(_0x33666f['decRefCoun'+'t'](),_0x33666f['refCount']<0x1044+0x2f3*0xa+0x1*-0x2dc1&&(_0x33666f['destroy'](),this['_meshes'][_0x772268]=null));});}['incRefMesh'+'es'](){var _0x39ce14;(_0x39ce14=this['_meshes'])==null||_0x39ce14['forEach'](_0x76911=>{_0x76911==null||_0x76911['incRefCoun'+'t']();});}}c(Hp,'EVENT_SETM'+'ESHES','set:meshes');function yh(_0x21c6c8){const _0x161e39=this;if(!_0x161e39['resource'])return;const _0x33bfd5=_0x21c6c8['resource'],_0x185876=_0x33bfd5['renders']&&_0x33bfd5['renders'][_0x161e39['data']['renderInde'+'x']];_0x185876&&(_0x161e39['resource']['meshes']=_0x185876['resource']['meshes']);}function Lg(_0x3203f5){const _0x4eb5cf=this;_0x4eb5cf['registry']['off']('load:'+_0x3203f5['id'],yh,_0x4eb5cf),_0x4eb5cf['registry']['on']('load:'+_0x3203f5['id'],yh,_0x4eb5cf),_0x4eb5cf['registry']['off']('remove:'+_0x3203f5['id'],Fg,_0x4eb5cf),_0x4eb5cf['registry']['once']('remove:'+_0x3203f5['id'],Fg,_0x4eb5cf),_0x3203f5['resource']?yh['call'](_0x4eb5cf,_0x3203f5):_0x4eb5cf['registry']['load'](_0x3203f5);}function Fg(_0xb84922){const _0x5aba43=this;_0x5aba43['registry']['off']('load:'+_0xb84922['id'],yh,_0x5aba43),_0x5aba43['resource']&&_0x5aba43['resource']['destroy']();}class fD extends Ne{constructor(_0x491521){super(_0x491521,'render'),this['_registry']=_0x491521['assets'];}['open'](_0x4be193,_0x2d956b){return new Hp();}['patch'](_0x30c18f,_0x437dd3){if(!_0x30c18f['data']['containerA'+'sset'])return;const _0x497828=_0x437dd3['get'](_0x30c18f['data']['containerA'+'sset']);if(!_0x497828){_0x437dd3['once']('add:'+_0x30c18f['data']['containerA'+'sset'],Lg,_0x30c18f);return;}Lg['call'](_0x30c18f,_0x497828);}}class Px{constructor(_0x21cff8,_0x5016df,_0x3fa20d,_0x59694d){this['_paths']=_0x21cff8,this['_input']=_0x5016df,this['_output']=_0x3fa20d,this['_interpola'+'tion']=_0x59694d;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Jh{constructor(_0x4e96cd,_0xedb0d1){this['_component'+'s']=_0x4e96cd,this['_data']=_0xedb0d1;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function pD(_0x385890,_0x21ea58){let _0x998867;const _0x4a7a35=(_0x22b819,_0x1d4855)=>{switch(_0x1d4855){case _0x998867['DT_INT8']:return new Int8Array(_0x22b819['buffer'],_0x22b819['byteOffset'],_0x22b819['byteLength']);case _0x998867['DT_INT16']:return new Int16Array(_0x22b819['buffer'],_0x22b819['byteOffset'],_0x22b819['byteLength']/(-0x5*-0x3d2+0x1*-0x2417+0x13*0xe5));case _0x998867['DT_INT32']:return new Int32Array(_0x22b819['buffer'],_0x22b819['byteOffset'],_0x22b819['byteLength']/(-0x3*0x8e1+0x2108+0x1*-0x661));case _0x998867['DT_UINT8']:return new Uint8Array(_0x22b819['buffer'],_0x22b819['byteOffset'],_0x22b819['byteLength']);case _0x998867['DT_UINT16']:return new Uint16Array(_0x22b819['buffer'],_0x22b819['byteOffset'],_0x22b819['byteLength']/(-0xa1*0x2+-0x1485+-0x1ad*-0xd));case _0x998867['DT_UINT32']:return new Uint32Array(_0x22b819['buffer'],_0x22b819['byteOffset'],_0x22b819['byteLength']/(-0x52*0x57+0x90d+0x12d5));case _0x998867['DT_FLOAT32']:return new Float32Array(_0x22b819['buffer'],_0x22b819['byteOffset'],_0x22b819['byteLength']/(0x1f9c+-0x1c4*0x2+-0x1c10));}return null;},_0x2b0b11=_0x20e966=>{switch(_0x20e966){case _0x998867['DT_INT8']:return-0x90b*0x3+-0x2*0x4b5+0x2*0x1246;case _0x998867['DT_INT16']:return-0x1*0x180b+-0x122d*0x1+-0x439*-0xa;case _0x998867['DT_INT32']:return 0x1*-0x175f+-0x1e0c+0x356f*0x1;case _0x998867['DT_UINT8']:return 0x101c*0x2+-0xd33+-0x2*0x982;case _0x998867['DT_UINT16']:return 0x1c31+0x6fb*0x1+-0x232a;case _0x998867['DT_UINT32']:return 0x323+-0x35*-0x1e+0x955*-0x1;case _0x998867['DT_FLOAT32']:return-0xd81*-0x1+-0x1059+0x2dc;}return 0x8*-0x332+-0xbb0+0x2541;},_0x1210ae=_0x415e99=>_0x415e99['num_compon'+'ents']()*_0x2b0b11(_0x415e99['data_type']()),_0x3af182={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x44ad35=(_0x2c1941,_0x51031a)=>{const _0x53c157=(_0x20a765,_0x49ff13,_0x49c28d)=>{_0x20a765[0xf0b+-0x1*-0x248b+-0x3396]=_0x49ff13[-0x5f*0x2a+0x2b*-0x56+-0x8*-0x3c1]-_0x49c28d[0x1937+-0x17d+-0x1*0x17ba],_0x20a765[-0xb6e+-0x1ada+0x3*0xcc3]=_0x49ff13[-0xe21+-0x2296+-0x1*-0x30b8]-_0x49c28d[0x7c0+-0x5fb+-0x1c4],_0x20a765[-0x1*-0xcd1+-0x3e6+-0x8e9]=_0x49ff13[-0xd14+0x42*-0x97+-0x4*-0xd01]-_0x49c28d[0x13*-0x95+0x140*-0xd+-0x3f*-0x6f];},_0x233647=(_0x348b55,_0x109407,_0x38bcff)=>{_0x348b55[-0x4*0x581+0x139+0x14cb*0x1]=_0x109407[0xa1e*0x1+-0x3*-0x9+0x368*-0x3]*_0x38bcff[0x4e1*0x1+0x1*0x585+-0x8c*0x13]-_0x38bcff[-0xefa+-0x9*-0x391+-0x111e]*_0x109407[-0x1a68+0x66c+0x13fe],_0x348b55[0x150e+-0xe85+0x1*-0x688]=_0x109407[-0x2*0x7db+-0xaf2+0x1aaa]*_0x38bcff[0x3e1+-0xb57+0x776]-_0x38bcff[0xfbb+0x860+-0xc7*0x1f]*_0x109407[-0x1449+-0x177b+-0x1*-0x2bc4],_0x348b55[0x1745+-0x527*-0x3+-0x26b8]=_0x109407[0x193c+0x8*0x2e4+0x4d6*-0xa]*_0x38bcff[0x1142+-0x85*0x13+-0x762]-_0x38bcff[0x21b7+0x2e*-0x45+-0x33*0x6b]*_0x109407[-0x17ad+0xc69+0xb45];},_0x545b85=(_0x4ef3b9,_0xea136b)=>{const _0x118923=_0x4ef3b9[_0xea136b+(0x10f4+-0x3*-0x9aa+-0x2df2)],_0x5bdc0c=_0x4ef3b9[_0xea136b+(0x1747+0x182f+-0x2f75)],_0x2aa0e4=_0x4ef3b9[_0xea136b+(-0x181a+0x71f*0x1+0x10fd*0x1)],_0x25209b=(0x1*0x40f+-0x10bc+-0x657*-0x2)/Math['sqrt'](_0x118923*_0x118923+_0x5bdc0c*_0x5bdc0c+_0x2aa0e4*_0x2aa0e4);_0x4ef3b9[_0xea136b+(0x1*-0x106f+0x4d2+-0x3*-0x3df)]*=_0x25209b,_0x4ef3b9[_0xea136b+(-0x479*0x3+-0x7f6+0x1562)]*=_0x25209b,_0x4ef3b9[_0xea136b+(-0x1738+-0x181d+-0x1*-0x2f57)]*=_0x25209b;},_0x5552c3=(_0x651a78,_0x42e247,_0x1a41cf)=>{for(let _0x3c5a09=0x11d7*0x1+-0x1e67+0xc90;_0x3c5a09<-0x160c+-0x47*0x3c+0x26b3;++_0x3c5a09)_0x651a78[_0x3c5a09]=_0x42e247[_0x1a41cf+_0x3c5a09];},_0x4c2c56=_0x51031a['length']/(0x66*0x3b+-0x3d9+-0x13a6),_0xac3dcb=_0x2c1941['length']/(0x5cf+-0x7*-0x53e+-0x2a7e),_0x457ca7=new Float32Array(_0x2c1941['length']),_0xe3f8fb=[0x236*-0x2+-0x1ede+0x234a,0x932+0x589+-0xebb,-0x33d+0xe85+-0x8*0x169],_0x2daba2=[-0x68d+-0x170+0x199*0x5,-0x732*-0x1+-0x61f*0x1+-0x37*0x5,-0x19af+0x3*-0x8db+0x3440],_0xf9c596=[0x139d*-0x1+-0xdfe+-0x7*-0x4cd,0x77a+0x2689*0x1+0x1*-0x2e03,-0x152e+0x191f+0x1*-0x3f1],_0x1601c8=[0x30*-0x95+-0xe51+0x2a41,0x1*-0xff4+-0x169d+-0x9*-0x449,-0x2022+-0x11fb*-0x1+0xe27*0x1],_0x50e3e3=[-0xe15+0x20b*0x12+-0x16b1,-0x1ae4+-0x39*0x98+0xf2f*0x4,-0x14b0+0x1bdc+-0x72c],_0xd4eec2=[0xbf*-0xa+-0x1*0x22a9+-0x29*-0x107,0x941+-0xa71+0x13*0x10,0x41f*0x1+-0x1921+-0x2*-0xa81];for(let _0x1ac52d=-0x1dc0+0x101e+0xda2*0x1;_0x1ac52d<_0x4c2c56;++_0x1ac52d){const _0x44eb21=_0x51031a[_0x1ac52d*(0x1a61*-0x1+0x1a9d+0x13*-0x3)+(0x949+0x79d*0x5+0x1d*-0x1a2)]*(-0xc5a+0x47*0x7+0xa6c),_0xe883ad=_0x51031a[_0x1ac52d*(-0xa11+0x1c30+0x90e*-0x2)+(0x1*0xcca+-0x19e2+0xd19)]*(-0x14f3+0xcc0+0x2*0x41b),_0x51262f=_0x51031a[_0x1ac52d*(-0x1422+-0x953+0x1d78)+(0x35+0x6*-0x65d+0xca9*0x3)]*(-0x45*-0x63+0x1580+-0x302c);_0x5552c3(_0xe3f8fb,_0x2c1941,_0x44eb21),_0x5552c3(_0x2daba2,_0x2c1941,_0xe883ad),_0x5552c3(_0xf9c596,_0x2c1941,_0x51262f),_0x53c157(_0x1601c8,_0x2daba2,_0xe3f8fb),_0x53c157(_0x50e3e3,_0xf9c596,_0xe3f8fb),_0x233647(_0xd4eec2,_0x1601c8,_0x50e3e3),_0x545b85(_0xd4eec2,0x202*-0xd+-0x1*0x12d9+0x2cf3);for(let _0x330a08=-0x5e*0x8+0x1fbb+0x51*-0x5b;_0x330a08<-0x1539+0x65*0x1d+0x9cb;++_0x330a08)_0x457ca7[_0x44eb21+_0x330a08]+=_0xd4eec2[_0x330a08],_0x457ca7[_0xe883ad+_0x330a08]+=_0xd4eec2[_0x330a08],_0x457ca7[_0x51262f+_0x330a08]+=_0xd4eec2[_0x330a08];}for(let _0x1ea4f1=-0xdb7*0x1+-0x24bc*-0x1+-0x1*0x1705;_0x1ea4f1<_0xac3dcb;++_0x1ea4f1)_0x545b85(_0x457ca7,_0x1ea4f1*(-0x1934+-0x1a*-0xfe+-0x95*0x1));return new Uint8Array(_0x457ca7['buffer']);},_0x4fa656=_0x6d0d7d=>{const _0x5bb7f3={},_0x30b4c9=new _0x998867['DecoderBuf'+'fer']();_0x30b4c9['Init'](_0x6d0d7d,_0x6d0d7d['length']);const _0x1cfd76=new _0x998867['Decoder']();if(_0x1cfd76['GetEncoded'+'GeometryTy'+'pe'](_0x30b4c9)!==_0x998867['TRIANGULAR'+'_MESH'])return _0x5bb7f3['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x5bb7f3;const _0x3adad6=new _0x998867['Mesh'](),_0x461246=_0x1cfd76['DecodeBuff'+'erToMesh'](_0x30b4c9,_0x3adad6);if(!_0x461246||!_0x461246['ok']()||_0x998867['getPointer'](_0x3adad6)===0x12fd*0x2+0x39*0x71+-0x3f23)return _0x5bb7f3['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x5bb7f3;const _0x38a902=_0x3adad6['num_faces']()*(-0x132b+-0x3*0x101+0x1631),_0x125932=_0x3adad6['num_points']()<=-0x1c4f4+-0x1fda9+-0x2614e*-0x2,_0x41de3e=_0x38a902*(_0x125932?-0x2*0x10b7+-0x14*0xc1+0x3084:-0x19f4+0x1047+0x9b1),_0x578ee7=_0x998867['_malloc'](_0x41de3e);_0x125932?(_0x1cfd76['GetTriangl'+'esUInt16Ar'+'ray'](_0x3adad6,_0x41de3e,_0x578ee7),_0x5bb7f3['indices']=new Uint16Array(_0x998867['HEAPU16']['buffer'],_0x578ee7,_0x38a902)['slice']()['buffer']):(_0x1cfd76['GetTriangl'+'esUInt32Ar'+'ray'](_0x3adad6,_0x41de3e,_0x578ee7),_0x5bb7f3['indices']=new Uint32Array(_0x998867['HEAPU32']['buffer'],_0x578ee7,_0x38a902)['slice']()['buffer']),_0x998867['_free'](_0x578ee7);const _0x24cc1e=[];for(let _0x477b76=-0xc3a+-0x2081+0x1*0x2cbb;_0x477b76<_0x3adad6['num_attrib'+'utes']();++_0x477b76)_0x24cc1e['push'](_0x1cfd76['GetAttribu'+'te'](_0x3adad6,_0x477b76));_0x24cc1e['sort']((_0x15547d,_0x2331a2)=>(_0x3af182[_0x15547d['attribute_'+'type']()]??_0x3af182['length'])-(_0x3af182[_0x2331a2['attribute_'+'type']()]??_0x3af182['length'])),_0x5bb7f3['attributes']=_0x24cc1e['map'](_0x262ae7=>_0x262ae7['unique_id']());let _0x37fd0a=-0x2*0x931+-0x1*-0xd55+0x50d;const _0x5d55f1=_0x24cc1e['map'](_0xafd7e0=>{const _0x1fcaa0=_0x37fd0a;return _0x37fd0a+=Math['ceil'](_0x1210ae(_0xafd7e0)/(0x47*0x35+0x1*-0x3ee+0xac1*-0x1))*(-0x1*-0x15b0+0x16bb+-0x2c67),_0x1fcaa0;}),_0x3ce68b=_0x24cc1e['some'](_0x38c61f=>_0x38c61f['attribute_'+'type']()===0x25e7+0x713+-0x2cf9),_0x574a84=_0x5d55f1[-0x227a+0x6a8+0x11*0x1a3];if(!_0x3ce68b){for(let _0xdad4d7=-0x12df*-0x1+-0x2047+0xd69;_0xdad4d7<_0x5d55f1['length'];++_0xdad4d7)_0x5d55f1[_0xdad4d7]+=0x1cf0+-0x871*-0x2+-0x7a1*0x6;_0x37fd0a+=-0x9e2+0x501+0x1*0x4ed;}_0x5bb7f3['vertices']=new ArrayBuffer(_0x3adad6['num_points']()*_0x37fd0a);const _0x588d6a=new Uint8Array(_0x5bb7f3['vertices']);for(let _0x141884=0x1*-0x113d+0x2*-0xbab+0x2893;_0x141884<_0x3adad6['num_attrib'+'utes']();++_0x141884){const _0xee95d7=_0x24cc1e[_0x141884],_0x1bd175=_0x1210ae(_0xee95d7),_0x5aca91=_0x3adad6['num_points']()*_0x1bd175,_0x230470=_0x998867['_malloc'](_0x5aca91);_0x1cfd76['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x3adad6,_0xee95d7,_0xee95d7['data_type'](),_0x5aca91,_0x230470);const _0x813f76=new Uint8Array(_0x998867['HEAPU8']['buffer'],_0x230470,_0x5aca91);for(let _0x24d57e=-0xe33+0x713+0x720;_0x24d57e<_0x3adad6['num_points']();++_0x24d57e)for(let _0xd3772e=0x241c+-0x1baa+0x2e*-0x2f;_0xd3772e<_0x1bd175;++_0xd3772e)_0x588d6a[_0x24d57e*_0x37fd0a+_0x5d55f1[_0x141884]+_0xd3772e]=_0x813f76[_0x24d57e*_0x1bd175+_0xd3772e];if(!_0x3ce68b&&_0xee95d7['attribute_'+'type']()===-0x3*0x96b+-0x10cf+0x2d10){const _0x424534=_0x44ad35(_0x4a7a35(_0x813f76,_0xee95d7['data_type']()),_0x125932?new Uint16Array(_0x5bb7f3['indices']):new Uint32Array(_0x5bb7f3['indices']));for(let _0x71d6c6=-0x47*-0x34+0x2a*-0xbb+0x1042;_0x71d6c6<_0x3adad6['num_points']();++_0x71d6c6)for(let _0x5ed522=-0x175d*-0x1+0x148c*-0x1+0x67*-0x7;_0x5ed522<0x1c6d+-0x658+-0x1609;++_0x5ed522)_0x588d6a[_0x71d6c6*_0x37fd0a+_0x574a84+_0x5ed522]=_0x424534[_0x71d6c6*(-0x96a+-0x6cd*-0x5+-0x188b*0x1)+_0x5ed522];}_0x998867['_free'](_0x230470);}return _0x998867['destroy'](_0x3adad6),_0x998867['destroy'](_0x1cfd76),_0x998867['destroy'](_0x30b4c9),_0x5bb7f3;},_0x52b4cf=_0x19cf70=>{const _0x596fd0=_0x4fa656(new Uint8Array(_0x19cf70['buffer']));self['postMessag'+'e']({'jobId':_0x19cf70['jobId'],'error':_0x596fd0['error'],'indices':_0x596fd0['indices'],'vertices':_0x596fd0['vertices'],'attributes':_0x596fd0['attributes']},[_0x596fd0['indices'],_0x596fd0['vertices']]['filter'](_0x11b3cc=>_0x11b3cc!=null));},_0x108527=[];self['onmessage']=_0x50f4ad=>{const _0x58c87a=_0x50f4ad['data'];switch(_0x58c87a['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x341005,_0x568c5e)=>(WebAssembly['instantiat'+'e'](_0x58c87a['module'],_0x341005)['then'](_0x26248e=>_0x568c5e(_0x26248e))['catch'](_0x5dcc44=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x5dcc44)),{})})['then'](_0x11f93f=>{_0x998867=_0x11f93f,_0x108527['forEach'](_0x135ec5=>_0x52b4cf(_0x135ec5));});break;case'decodeMesh':_0x998867?_0x52b4cf(_0x58c87a):_0x108527['push'](_0x58c87a);break;}};}const Og=-0x1dc1+0xf7f+0xe45*0x1;class mD{constructor(){this['workers']=[[],[],[]],this['jobId']=0x17*0x2f+-0x465+0x1*0x2c,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x1dc00f,_0x3bdca8)=>{_0x1dc00f['postMessag'+'e']({'type':'decodeMesh','jobId':_0x3bdca8['jobId'],'buffer':_0x3bdca8['buffer']},[_0x3bdca8['buffer']]);};}['init'](_0xf32bcf){for(_0xf32bcf['forEach'](_0x53d6af=>{_0x53d6af['addEventLi'+'stener']('message',_0x157a6a=>{const _0x521f7f=_0x157a6a['data'],_0x4eb380=this['jobCallbac'+'ks']['get'](_0x521f7f['jobId']);if(_0x4eb380&&_0x4eb380(_0x521f7f['error'],{'indices':_0x521f7f['indices'],'vertices':_0x521f7f['vertices'],'attributes':_0x521f7f['attributes']}),this['jobCallbac'+'ks']['delete'](_0x521f7f['jobId']),this['jobQueue']['length']>-0x13eb*0x1+-0x1*0x8a8+0x1c93){const _0x5838c6=this['jobQueue']['shift']();this['run'](_0x53d6af,_0x5838c6);}else{const _0x453551=this['workers'][0x1ad2+-0x689*-0x4+0x1*-0x34f4]['indexOf'](_0x53d6af);if(_0x453551!==-(0x28d*-0x1+0x1319*-0x1+0x15a7))this['workers'][-0x1*-0x1411+-0x2b*-0x77+0x1*-0x280c]['splice'](_0x453551,-0x1d57+0x879+0x14df*0x1),this['workers'][-0x2*0x52c+0x8*0x7c+-0x679*-0x1]['push'](_0x53d6af);else{const _0x4b7799=this['workers'][-0x1e9c*-0x1+-0x126d+-0xc2e]['indexOf'](_0x53d6af);_0x4b7799!==-(0xeb0+-0x182d*0x1+0x36*0x2d)?(this['workers'][0x146d+-0x2*-0xf73+-0x3352]['splice'](_0x4b7799,0x186a+0x1b9+-0x1a22),this['workers'][-0x1*0x179b+-0xd6a+0x2505]['push'](_0x53d6af)):v['error']('logical\x20er'+'ror');}}});}),this['workers'][0xa9*0xd+-0x7*0x303+-0x320*-0x4]=_0xf32bcf;this['jobQueue']['length']&&(this['workers'][-0x951+-0xc75*-0x1+-0xc*0x43]['length']||this['workers'][-0x171*-0x13+-0x13*-0x96+0x22*-0x122]['length']);){const _0x1691d8=this['jobQueue']['shift']();if(this['workers'][0xfc6+-0x22d4+0x130e]['length']>0x4*-0x707+-0xc7*-0x17+0x61*0x1b){const _0x511631=this['workers'][0xb59+0x1*0x1a21+-0x257a]['shift']();this['workers'][-0x1dc3+-0xd88+0x2b4c]['push'](_0x511631),this['run'](_0x511631,_0x1691d8);}else{const _0x5e1dd8=this['workers'][0x5*0x6be+-0x45c+-0x1d59]['shift']();this['workers'][0xada+0x2*0x1279+-0x2fca]['push'](_0x5e1dd8),this['run'](_0x5e1dd8,_0x1691d8);}}}['enqueueJob'](_0x2aace2,_0x2120cd){const _0x193d1a={'jobId':this['jobId']++,'buffer':_0x2aace2};if(this['jobCallbac'+'ks']['set'](_0x193d1a['jobId'],_0x2120cd),this['workers'][0x1208+-0x3db+-0xe2d]['length']>0xdf2+0x5dc+-0x2*0x9e7){const _0x1afe2e=this['workers'][-0x12b4+0x8f5+0x5*0x1f3]['shift']();this['workers'][-0x359+-0x2548+0x28a2]['push'](_0x1afe2e),this['run'](_0x1afe2e,_0x193d1a);}else{if(this['workers'][-0x1f*-0x35+0x34*0x97+-0x2*0x128b]['length']>-0x5d7*0x5+0xe59+-0x76d*-0x2){const _0x3cd47f=this['workers'][-0xb6f*0x1+0x1*0x1bff+0x108f*-0x1]['shift']();this['workers'][0x11dc+0x2*-0x164+-0xf12]['push'](_0x3cd47f),this['run'](_0x3cd47f,_0x193d1a);}else this['jobQueue']['push'](_0x193d1a);}}}const _D=_0x1ce8bb=>new Promise((_0x51db1e,_0x536512)=>{const _0x250195={'cache':!(0x20*-0xbc+0x21d0+-0xa50),'responseType':'text','retry':Og>-0x1*-0x2585+0x25cb+-0x4b50,'maxRetries':Og};We['get'](_0x1ce8bb,_0x250195,(_0x3afa94,_0x2cabd4)=>{_0x3afa94?_0x536512(_0x3afa94):_0x51db1e(_0x2cabd4);});}),gD=_0x3ede22=>{const _0x4bad0e=()=>fetch(_0x3ede22)['then'](_0x165371=>_0x165371['arrayBuffe'+'r']())['then'](_0x1e0913=>WebAssembly['compile'](_0x1e0913)),_0x23d6b4=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x3ede22))['catch'](_0x443c80=>(v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x3ede22+'\x20('+_0x443c80+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x4bad0e()));return WebAssembly['compileStr'+'eaming']?_0x23d6b4():_0x4bad0e();},kg=-0x1603*-0x1+-0x7*0xcb+-0x1075;let xh;const yD=_0x2cd1f2=>{if(xh)return!(-0xf86+-0x26b8+-0x2*-0x1b1f);if(!_0x2cd1f2){const _0x5890dd=ay['getConfig']('DracoDecod'+'erModule');_0x5890dd?_0x2cd1f2={'jsUrl':_0x5890dd['glueUrl'],'wasmUrl':_0x5890dd['wasmUrl'],'numWorkers':_0x5890dd['numWorkers']}:_0x2cd1f2={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':kg};}return!_0x2cd1f2['jsUrl']||!_0x2cd1f2['wasmUrl']?!(-0x1*0xb5d+-0x1af*-0x17+-0x1b5b):(xh=new mD(),Promise['all']([_D(_0x2cd1f2['jsUrl']),gD(_0x2cd1f2['wasmUrl'])])['then'](([_0x4c445b,_0x1c0672])=>{const _0x4886a7=['/*\x20draco\x20*'+'/',_0x4c445b,'/*\x20worker\x20'+'*/','(\x0a'+pD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x1da3ba=new Blob([_0x4886a7],{'type':'applicatio'+'n/javascri'+'pt'}),_0x3ce398=URL['createObje'+'ctURL'](_0x1da3ba),_0x39e9b9=Math['max'](-0x91f*0x3+-0x567*-0x5+-0x1*-0x5b,Math['min'](0x171+0x1092+-0x11f3,_0x2cd1f2['numWorkers']||kg)),_0x4f3b2a=[];for(let _0x35dbd7=0x13*0x201+0x411*0x9+-0x4aac;_0x35dbd7<_0x39e9b9;++_0x35dbd7){const _0x5b0c5a=new Worker(_0x3ce398);_0x5b0c5a['postMessag'+'e']({'type':'init','module':_0x1c0672}),_0x4f3b2a['push'](_0x5b0c5a);}xh['init'](_0x4f3b2a);}),!(0x22d+0x20a7+-0x22d4));},xD=(_0x36042b,_0x456e7e)=>yD()?(xh['enqueueJob'](_0x36042b,_0x456e7e),!(0xe80+0x9d5*0x2+-0x1115*0x2)):!(0x1*-0x743+-0xf*-0x283+-0x1e69);class SD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x2cfee9=>{_0x2cfee9['meshes']=null;});}}const Rx=_0x2a3be3=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x2a3be3),vD=_0x3b9597=>_0x3b9597['substring'](_0x3b9597['indexOf'](':')+(0x1f23+0x153*0x18+-0x3eea),_0x3b9597['indexOf'](';')),$o=_0x17ad5e=>{switch(_0x17ad5e){case'SCALAR':return 0x12d1+0xfe0+-0xb90*0x3;case'VEC2':return-0x11ae+-0x1*0x73+-0x1223*-0x1;case'VEC3':return 0x14bf+0x8f*-0x1e+-0x3fa;case'VEC4':return 0x194c+-0x10c7+0x7*-0x137;case'MAT2':return 0x52d*0x4+-0x2*-0xb5+-0x161a;case'MAT3':return 0xe72+-0x11e4+-0x9*-0x63;case'MAT4':return-0x1*0x1f93+0x2*0xd05+0x599;default:return 0x12fb*0x2+-0x1*-0x20df+-0x25*0x1ea;}},Jc=_0x45f4ed=>{switch(_0x45f4ed){case 0x9f+0xf47+0x41a:return Rc;case-0x3ef*-0x6+-0x959*0x1+0x5c*0x10:return Kr;case-0x1826+0xad*-0x2e+-0x2*-0x259f:return Ic;case-0x19d2+0x1fe3+0xdf2:return el;case 0x3f*-0x21+-0x1d71+0x3994:return By;case 0x47*0x5f+0x89*0x19+-0x13b5:return Do;case 0x1385*-0x2+-0x193a+0x544a:return Ee;default:return 0x18f1+0xe9*-0x1+-0x301*0x8;}},bD=_0xc45e47=>{switch(_0xc45e47){case-0x1524+-0x839*-0x1+0xaf9*0x3:return-0x1633+0x863*-0x3+0x2f5d;case 0x13e5+0x2340+-0xd*0x2b4:return-0xbc6+0x26ad+-0x1ae6;case-0x271c+0xa*-0xfe+0x450a*0x1:return-0x1*0x18d5+-0x1cb9+0x10*0x359;case 0x96b*-0x1+-0xdb8+0x2b26:return-0x1e8*0xa+0xc5*-0x8+0x2*0xc9d;case 0xa84+-0x196d+0x22ed:return 0x127b+0x13b3+-0x262a;case 0x1*-0x1d7b+0x2171+0x100f:return 0x24e3+-0x266c+0x18d*0x1;case-0x1124+-0x14fb+0x3a25:return-0x15a4*-0x1+0x1*-0x11d7+0x3c9*-0x1;default:return 0x3f+0x4c*-0x1b+-0x11*-0x75;}},wD=_0x42bd29=>{switch(_0x42bd29){case-0x26f3+-0x12d*-0x1f+-0x1e*-0xc0:return Int8Array;case 0x679*0x1+0x1*-0x1d5e+0x2ae6:return Uint8Array;case-0x1c37+-0x8d8*0x4+0x5399:return Int16Array;case 0x15eb+-0xcee+-0x1*-0xb06:return Uint16Array;case 0xc*-0x62+0x16f+-0x172d*-0x1:return Int32Array;case 0xaeb+0x1df3+0x6f3*-0x3:return Uint32Array;case-0x1454+0x13*-0x198+0x46a2:return Float32Array;default:return null;}},ec={'POSITION':He,'NORMAL':Yt,'TANGENT':Zs,'COLOR_0':At,'JOINTS_0':qt,'WEIGHTS_0':Ys,'TEXCOORD_0':ns,'TEXCOORD_1':_n,'TEXCOORD_2':jo,'TEXCOORD_3':Yo,'TEXCOORD_4':Ko,'TEXCOORD_5':Zo,'TEXCOORD_6':Qo,'TEXCOORD_7':Jo},Bg={[He]:0x15c0+0x32b+-0x1*0x18eb,[Yt]:0x1292+0x818+0x5*-0x555,[Zs]:-0x100*-0x8+0x39*-0x96+0x1968,[At]:0x123+0x8b*0x26+-0x15c2*0x1,[qt]:-0x2*-0x3eb+-0x15e3+0xe11,[Ys]:0x2e1*-0xa+0x1849*-0x1+0x3518,[ns]:0x57*-0x6d+-0x239c+0x48ad,[_n]:0x17f6+-0x40c+-0x13e3,[jo]:0xc7e+0x16c+-0x6f1*0x2,[Yo]:0x1af5+0xb9f+-0x268b,[Ko]:0x15b*-0x1+0x1*-0x263b+0x27a0,[Zo]:-0xd62+0x271+0xafc,[Qo]:-0x24ed+0x77*0x17+-0x1*-0x1a48,[Jo]:-0xa3*0x17+-0x6*-0x25b+-0x9*-0x10},TD=_0x57e498=>{switch(_0x57e498){case Rc:return _0x54fae1=>Math['max'](_0x54fae1/(-0x1403*-0x1+0x1e8*-0xd+-0x4*-0x151),-(0xae8+-0xcce+0x1e7*0x1));case Kr:return _0x21af6b=>_0x21af6b/(0x13a8+0x12ee+-0x2597);case Ic:return _0xda9d46=>Math['max'](_0xda9d46/(-0x2507+-0xa3ce+-0x14*-0x1071),-(-0x3a*-0x55+-0x1*-0x12c2+-0x2603));case el:return _0x190a7f=>_0x190a7f/(0x1*-0x622a+0x15de9+-0x110*-0x4);default:return _0x5ed1f9=>_0x5ed1f9;}},xf=(_0x31cd8d,_0x4e2830,_0x53bf2c)=>{const _0x2d3cc2=TD(_0x53bf2c),_0x1bf265=_0x4e2830['length'];for(let _0x3c7a90=-0x1*0xc+0xf*0x1f3+0x9bb*-0x3;_0x3c7a90<_0x1bf265;++_0x3c7a90)_0x31cd8d[_0x3c7a90]=_0x2d3cc2(_0x4e2830[_0x3c7a90]);return _0x31cd8d;},sn=(_0x47431a,_0x3e9da2,_0x590d2a=!(0x20*-0x1+0x1*-0x556+-0x1*-0x577))=>{const _0x2b3301=$o(_0x47431a['type']),_0xadc695=wD(_0x47431a['componentT'+'ype']);if(!_0xadc695)return null;let _0x14b778;if(_0x47431a['sparse']){const _0x2c905=_0x47431a['sparse'],_0x2ed14e={'count':_0x2c905['count'],'type':'SCALAR'},_0x431fe0=sn(Object['assign'](_0x2ed14e,_0x2c905['indices']),_0x3e9da2,!(-0x1883+0x19f5+-0x4a*0x5)),_0x1458b5={'count':_0x2c905['count'],'type':_0x47431a['type'],'componentType':_0x47431a['componentT'+'ype']},_0x3379a2=sn(Object['assign'](_0x1458b5,_0x2c905['values']),_0x3e9da2,!(-0x2305+-0x5*0xef+-0x5*-0x7f0));if(_0x47431a['hasOwnProp'+'erty']('bufferView')){const _0x4f2788={'bufferView':_0x47431a['bufferView'],'byteOffset':_0x47431a['byteOffset'],'componentType':_0x47431a['componentT'+'ype'],'count':_0x47431a['count'],'type':_0x47431a['type']};_0x14b778=sn(_0x4f2788,_0x3e9da2,!(0x629+-0x13*-0x1a8+-0x1fb*0x13))['slice']();}else _0x14b778=new _0xadc695(_0x47431a['count']*_0x2b3301);for(let _0x557391=-0x1*0x1a3+-0x113e+0x12e1;_0x557391<_0x2c905['count'];++_0x557391){const _0x21830e=_0x431fe0[_0x557391];for(let _0x420b4e=0x5*-0x59+-0x1c81+0x1e3e;_0x420b4e<_0x2b3301;++_0x420b4e)_0x14b778[_0x21830e*_0x2b3301+_0x420b4e]=_0x3379a2[_0x557391*_0x2b3301+_0x420b4e];}}else{if(_0x47431a['hasOwnProp'+'erty']('bufferView')){const _0x444a4e=_0x3e9da2[_0x47431a['bufferView']];if(_0x590d2a&&_0x444a4e['hasOwnProp'+'erty']('byteStride')){const _0x197d5b=_0x2b3301*_0xadc695['BYTES_PER_'+'ELEMENT'],_0x2957fb=new ArrayBuffer(_0x47431a['count']*_0x197d5b),_0x50b610=new Uint8Array(_0x2957fb);let _0x4b3802=-0x1553+0x45d+0x10f6;for(let _0x47ed3e=-0x33d*-0x7+0xba3*0x2+-0x2df1;_0x47ed3e<_0x47431a['count'];++_0x47ed3e){let _0xecd4c=(_0x47431a['byteOffset']||-0x124+-0x1eef*-0x1+-0x1dcb)+_0x47ed3e*_0x444a4e['byteStride'];for(let _0xa522a3=0x11dd+0x3*0xc2f+-0x7c6*0x7;_0xa522a3<_0x197d5b;++_0xa522a3)_0x50b610[_0x4b3802++]=_0x444a4e[_0xecd4c++];}_0x14b778=new _0xadc695(_0x2957fb);}else _0x14b778=new _0xadc695(_0x444a4e['buffer'],_0x444a4e['byteOffset']+(_0x47431a['byteOffset']||-0x2*-0x1f7+-0x1023+0x1*0xc35),_0x47431a['count']*_0x2b3301);}else _0x14b778=new _0xadc695(_0x47431a['count']*_0x2b3301);}return _0x14b778;},ma=(_0x5ba1da,_0x18f5fa)=>{const _0x370753=sn(_0x5ba1da,_0x18f5fa,!(0x84+0x2f5*-0x4+0xb50*0x1));if(_0x370753 instanceof Float32Array||!_0x5ba1da['normalized'])return _0x370753;const _0x3b52ae=new Float32Array(_0x370753['length']);return xf(_0x3b52ae,_0x370753,Jc(_0x5ba1da['componentT'+'ype'])),_0x3b52ae;},Sf=_0x432383=>{let _0x3edb86=_0x432383['min'],_0x5ceecc=_0x432383['max'];if(!_0x3edb86||!_0x5ceecc)return null;if(_0x432383['normalized']){const _0x2baf66=Jc(_0x432383['componentT'+'ype']);_0x3edb86=xf([],_0x3edb86,_0x2baf66),_0x5ceecc=xf([],_0x5ceecc,_0x2baf66);}return new _e(new T((_0x5ceecc[0x329+0x20e2+-0x240b]+_0x3edb86[-0x4c*-0x66+-0x1b4d+-0x2fb])*(-0xd1b+0x99f*0x3+-0xfc2*0x1+0.5),(_0x5ceecc[-0x110c+-0x2ef*0x3+0x19da]+_0x3edb86[-0x248f+-0xf3*-0x13+0x1287])*(0x3*-0x735+0x15de+0x7*-0x9+0.5),(_0x5ceecc[-0x1*0x231d+-0x1805+0x3b24]+_0x3edb86[0x1f49+0xbc*-0x2+-0x1*0x1dcf])*(0x10d6+0x365*-0xa+0x111c+0.5)),new T((_0x5ceecc[-0x3cd+-0x137*0x11+-0x4e4*-0x5]-_0x3edb86[0xfa1*-0x1+0x8*0x233+-0x1f7])*(0x7*0x11+-0x1*0x18e5+0x186e+0.5),(_0x5ceecc[0x1867+0x1a9e+-0x3304]-_0x3edb86[0xfa1*0x2+-0x17*0x194+-0x1*-0x50b])*(0x1388+0xd2c+-0x20b4+0.5),(_0x5ceecc[0x5*-0x13a+-0x148b+0x8e5*0x3]-_0x3edb86[0x1751*0x1+0xca2+-0x23f1])*(-0x31*-0x2f+0x2*0xd7+-0xaad+0.5)));},Ix=_0x41ee4c=>{if(!_0x41ee4c['hasOwnProp'+'erty']('mode'))return Ms;switch(_0x41ee4c['mode']){case-0x1110+-0x338*0xc+0xc*0x4a4:return Mc;case-0x1*0x133f+-0xa0c+0x1d4c:return Pc;case 0xccf+0x383*-0x1+-0x94a:return My;case 0xf2c*0x2+-0x9f*0x27+-0x44*0x17:return Py;case 0x248b+0x14df+-0x1da*0x1f:return Ms;case-0x1*0x9d+0x3d7*-0x1+-0x1*-0x479:return ar;case 0x11*0x1cc+0x2231*0x1+0x1*-0x40b7:return Yr;default:return Ms;}},AD=_0x371148=>{const _0xb21ca4=new Uint16Array(_0x371148);for(let _0x2a604a=0x1*-0x245b+0x8be+0x1b9d;_0x2a604a<_0x371148;_0x2a604a++)_0xb21ca4[_0x2a604a]=_0x2a604a;return _0xb21ca4;},ED=(_0x3bdf88,_0x2c52ad)=>{const _0x40b09b=_0x3bdf88[He];if(!_0x40b09b||_0x40b09b['components']!==0x1f13+-0x1*0xc31+-0x12df*0x1)return;let _0x313afc;if(_0x40b09b['size']!==_0x40b09b['stride']){const _0x2964f6=_0x40b09b['stride']/_o[_0x40b09b['type']],_0x353584=new da[_0x40b09b['type']](_0x40b09b['buffer'],_0x40b09b['offset'],_0x40b09b['count']*_0x2964f6);_0x313afc=new da[_0x40b09b['type']](_0x40b09b['count']*(-0xb05+-0x93e*-0x1+0x1ca));for(let _0x22357b=-0x1e4d*-0x1+0x2128+-0x357*0x13;_0x22357b<_0x40b09b['count'];++_0x22357b)_0x313afc[_0x22357b*(-0xd8*-0x2a+0x20f*-0xd+-0x8aa)+(0x1*0x22e1+-0xd*-0x1ee+0x3bf7*-0x1)]=_0x353584[_0x22357b*_0x2964f6+(0x1357+0xc5*-0x31+0x1*0x125e)],_0x313afc[_0x22357b*(0x25c3+-0xe8e+0xb99*-0x2)+(-0x125*0x3+0xf74+-0x4*0x301)]=_0x353584[_0x22357b*_0x2964f6+(0x1f79+0x3*-0x6b5+-0xb59)],_0x313afc[_0x22357b*(0x152*-0xd+0x23d8+-0x12ab)+(0x4*0x758+0x7c2*0x2+-0x3*0xef6)]=_0x353584[_0x22357b*_0x2964f6+(0xc1e+0xb*-0x28d+0x3*0x551)];}else _0x313afc=new da[_0x40b09b['type']](_0x40b09b['buffer'],_0x40b09b['offset'],_0x40b09b['count']*(-0x43*0x71+-0x1*0x1726+0x34bc));const _0x2f7053=_0x40b09b['count'];_0x2c52ad||(_0x2c52ad=AD(_0x2f7053));const _0x880a7f=k0(_0x313afc,_0x2c52ad),_0x47aa51=new Float32Array(_0x880a7f['length']);_0x47aa51['set'](_0x880a7f),_0x3bdf88[Yt]={'buffer':_0x47aa51['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x2f7053,'components':0x3,'type':Ee};},CD=_0xf0a411=>{const _0x22490e=_0x2fa417=>{const _0x11bcd0=[];for(let _0x39ab06=-0xee2+-0x1294*0x1+0x2176;_0x39ab06<_0x2fa417['_levels']['length'];++_0x39ab06){let _0x4d39b7=[];if(_0x2fa417['cubemap']){for(let _0x294aa7=-0xfcc*0x1+-0x1103+0x20cf;_0x294aa7<0x1d8*0xa+0x1bc4+0x2*-0x1717;++_0x294aa7)_0x4d39b7['push'](_0x2fa417['_levels'][_0x39ab06][_0x294aa7]);}else _0x4d39b7=_0x2fa417['_levels'][_0x39ab06];_0x11bcd0['push'](_0x4d39b7);}return _0x11bcd0;},_0x224104=new he(_0xf0a411['device'],_0xf0a411);return _0x224104['_levels']=_0x22490e(_0xf0a411),_0x224104;},MD=_0x733d35=>{const _0x298d98=new le(_0x733d35['name']+'_clone',_0x733d35['type'],_0x733d35['file'],_0x733d35['data'],_0x733d35['options']);return _0x298d98['loaded']=!(0x77d+0xab7+0x4*-0x48d),_0x298d98['resource']=CD(_0x733d35['resource']),_0x733d35['registry']['add'](_0x298d98),_0x298d98;},PD=(_0x106374,_0x8fd6c8)=>{const _0xbe49a8=_0x8fd6c8[He];if(!_0xbe49a8)return null;const _0x4a53bf=_0xbe49a8['count'],_0x19cdb2=[];for(const _0x103e37 in _0x8fd6c8)if(_0x8fd6c8['hasOwnProp'+'erty'](_0x103e37)){const _0x179c2b={'semantic':_0x103e37,'components':_0x8fd6c8[_0x103e37]['components'],'type':_0x8fd6c8[_0x103e37]['type'],'normalize':!!_0x8fd6c8[_0x103e37]['normalize']};Et['isElementV'+'alid'](_0x106374,_0x179c2b)||_0x179c2b['components']++,_0x19cdb2['push'](_0x179c2b);}_0x19cdb2['sort']((_0x2b3f20,_0x1a6c4e)=>Bg[_0x2b3f20['semantic']]-Bg[_0x1a6c4e['semantic']]);let _0x2b58b6,_0x2c2e15,_0x80a932,_0x1f7b9f,_0x3c2946,_0x1ae9e1;const _0x317a9f=new Et(_0x106374,_0x19cdb2);let _0x557403=!(-0x1711+0x1*0x21e+-0x1*-0x14f3);for(_0x2b58b6=0x116f*0x2+-0x38*0x8c+-0xb5*0x6;_0x2b58b6<_0x317a9f['elements']['length'];++_0x2b58b6)if(_0x3c2946=_0x317a9f['elements'][_0x2b58b6],_0x1f7b9f=_0x8fd6c8[_0x3c2946['name']],_0x1ae9e1=_0x1f7b9f['offset']-_0xbe49a8['offset'],_0x1f7b9f['buffer']!==_0xbe49a8['buffer']||_0x1f7b9f['stride']!==_0x3c2946['stride']||_0x1f7b9f['size']!==_0x3c2946['size']||_0x1ae9e1!==_0x3c2946['offset']){_0x557403=!(0x473*0x8+0x10*0x1d+-0x5*0x77b);break;}const _0x1c644a=new os(_0x106374,_0x317a9f,_0x4a53bf),_0x1bf0d7=_0x1c644a['lock'](),_0x5e6eb0=new Uint32Array(_0x1bf0d7);let _0x4bd766;if(_0x557403)_0x4bd766=new Uint32Array(_0xbe49a8['buffer'],_0xbe49a8['offset'],_0x4a53bf*_0x1c644a['format']['size']/(0x147f+-0x17a*-0x13+-0x3089)),_0x5e6eb0['set'](_0x4bd766);else{let _0x2f8c24,_0x570eb1;for(_0x2b58b6=-0x59c+0x68*0x5f+-0x20fc;_0x2b58b6<_0x1c644a['format']['elements']['length'];++_0x2b58b6){_0x3c2946=_0x1c644a['format']['elements'][_0x2b58b6],_0x2f8c24=_0x3c2946['stride']/(0xba8+0x2*0xe21+-0x27e6),_0x1f7b9f=_0x8fd6c8[_0x3c2946['name']],_0x570eb1=_0x1f7b9f['stride']/(0xe9*0x1+0x6d*0x1c+-0xcd1),_0x4bd766=new Uint32Array(_0x1f7b9f['buffer'],_0x1f7b9f['offset'],(_0x1f7b9f['count']-(-0x1*0x101b+0x67b+0x1d*0x55))*_0x570eb1+(_0x1f7b9f['size']+(0x1f94+0x1*0x2647+0x14*-0x37e))/(-0x21ca+-0x1298+-0x2*-0x1a33));let _0xe6c781=0x319+-0x17c1+-0x1*-0x14a8,_0xa7c7fb=_0x3c2946['offset']/(-0x99*-0x3+0x2707+-0x28ce);const _0x5c9e2f=Math['floor']((_0x1f7b9f['size']+(-0xb20+-0x3c9+0xeec))/(-0x9e3*0x2+0x160b+0x241*-0x1));for(_0x2c2e15=0x1dc8+-0x61b+-0x17ad;_0x2c2e15<_0x4a53bf;++_0x2c2e15){for(_0x80a932=-0x25ec+0x24d3+0x119;_0x80a932<_0x5c9e2f;++_0x80a932)_0x5e6eb0[_0xa7c7fb+_0x80a932]=_0x4bd766[_0xe6c781+_0x80a932];_0xe6c781+=_0x570eb1,_0xa7c7fb+=_0x2f8c24;}}}return _0x1c644a['unlock'](),_0x1c644a;},RD=(_0x4a77f3,_0x1622ff,_0x207b83,_0x1d9380,_0x486c36,_0x376e8c)=>{const _0x5bcd51={},_0x319213=[];for(const _0x1b1aa4 in _0x1622ff)_0x1622ff['hasOwnProp'+'erty'](_0x1b1aa4)&&ec['hasOwnProp'+'erty'](_0x1b1aa4)&&(_0x5bcd51[_0x1b1aa4]=_0x1622ff[_0x1b1aa4],_0x319213['push'](_0x1b1aa4+':'+_0x1622ff[_0x1b1aa4]));_0x319213['sort']();const _0x46c60f=_0x319213['join']();let _0x361712=_0x376e8c[_0x46c60f];if(!_0x361712){const _0x4a814c={};for(const _0x654498 in _0x5bcd51){const _0x42ee3f=_0x1d9380[_0x1622ff[_0x654498]],_0x277709=sn(_0x42ee3f,_0x486c36),_0x277b31=_0x486c36[_0x42ee3f['bufferView']],_0x2dade4=ec[_0x654498],_0x3534af=$o(_0x42ee3f['type'])*bD(_0x42ee3f['componentT'+'ype']),_0x5e7ef3=_0x277b31&&_0x277b31['hasOwnProp'+'erty']('byteStride')?_0x277b31['byteStride']:_0x3534af;_0x4a814c[_0x2dade4]={'buffer':_0x277709['buffer'],'size':_0x3534af,'offset':_0x277709['byteOffset'],'stride':_0x5e7ef3,'count':_0x42ee3f['count'],'components':$o(_0x42ee3f['type']),'type':Jc(_0x42ee3f['componentT'+'ype']),'normalize':_0x42ee3f['normalized']};}_0x4a814c['hasOwnProp'+'erty'](Yt)||ED(_0x4a814c,_0x207b83),_0x361712=PD(_0x4a77f3,_0x4a814c),_0x376e8c[_0x46c60f]=_0x361712;}return _0x361712;},ID=(_0x56308e,_0x30579d,_0xa01a84,_0x529cd2,_0x40ad55,_0x11fad8)=>{let _0x3a43a2,_0x2d2e95,_0x582188;const _0x36b602=_0x30579d['joints'],_0x339bc2=_0x36b602['length'],_0x238267=[];if(_0x30579d['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x3b5a2b=_0x30579d['inverseBin'+'dMatrices'],_0x55477b=sn(_0xa01a84[_0x3b5a2b],_0x529cd2,!(-0x1f33+-0x2047+0x3f7a)),_0x374825=[];for(_0x3a43a2=-0x35*-0x1f+-0x1b38+0x163*0xf;_0x3a43a2<_0x339bc2;_0x3a43a2++){for(_0x2d2e95=0x23*-0x10d+0x135a+-0x116d*-0x1;_0x2d2e95<0x43f+0x1*-0x67a+-0x24b*-0x1;_0x2d2e95++)_0x374825[_0x2d2e95]=_0x55477b[_0x3a43a2*(0x3*0x65+-0x1a59+0x193a)+_0x2d2e95];_0x582188=new q(),_0x582188['set'](_0x374825),_0x238267['push'](_0x582188);}}else{for(_0x3a43a2=-0x1a*-0x7c+0xbaf+0x5*-0x4db;_0x3a43a2<_0x339bc2;_0x3a43a2++)_0x582188=new q(),_0x238267['push'](_0x582188);}const _0x5b9080=[];for(_0x3a43a2=0x329+-0x1*0x25fa+-0x3*-0xb9b;_0x3a43a2<_0x339bc2;_0x3a43a2++)_0x5b9080[_0x3a43a2]=_0x40ad55[_0x36b602[_0x3a43a2]]['name'];const _0xcf6143=_0x5b9080['join']('#');let _0x4f4405=_0x11fad8['get'](_0xcf6143);return _0x4f4405||(_0x4f4405=new N0(_0x56308e,_0x238267,_0x5b9080),_0x11fad8['set'](_0xcf6143,_0x4f4405)),_0x4f4405;},DD=(_0x215e70,_0x537aa2,_0x597863,_0x888a37,_0x4b242a,_0x26946f,_0x25df4d)=>{var _0xb36b99;const _0x56bb4a=new Ie(_0x215e70);_0x56bb4a['aabb']=Sf(_0x597863[_0x537aa2['attributes']['POSITION']]);const _0x4fc0ef=[];for(const [_0x7cac07,_0x3bbd94]of Object['entries'](_0x537aa2['attributes'])){const _0x2da41e=_0x597863[_0x3bbd94],_0x1fde04=ec[_0x7cac07],_0x37cf71=Jc(_0x2da41e['componentT'+'ype']);_0x4fc0ef['push']({'semantic':_0x1fde04,'components':$o(_0x2da41e['type']),'type':_0x37cf71,'normalize':_0x2da41e['normalized']??(_0x1fde04===At&&(_0x37cf71===Kr||_0x37cf71===el))});}if(_0x25df4d['push'](new Promise((_0x26bb23,_0xa40f70)=>{const _0x3c7584=_0x537aa2['extensions']['KHR_draco_'+'mesh_compr'+'ession'];xD(_0x888a37[_0x3c7584['bufferView']]['slice']()['buffer'],(_0xedd029,_0x6475fc)=>{var _0x255d11;if(_0xedd029)console['log'](_0xedd029),_0xa40f70(_0xedd029);else{const _0x4f7995={};for(const [_0x102fdf,_0x158607]of Object['entries'](_0x3c7584['attributes']))_0x4f7995[ec[_0x102fdf]]=_0x6475fc['attributes']['indexOf'](_0x158607);_0x4fc0ef['sort']((_0x5a0217,_0x17a4fa)=>_0x4f7995[_0x5a0217['semantic']]-_0x4f7995[_0x17a4fa['semantic']]),(_0x255d11=_0x537aa2['attributes'])!=null&&_0x255d11['NORMAL']||_0x4fc0ef['splice'](-0x1*0x1922+0x1*-0x1613+0x2f36,-0x1c55+0xe52+0xe03,{'semantic':'NORMAL','components':0x3,'type':Ee});const _0x1b185d=new Et(_0x215e70,_0x4fc0ef),_0x2e14f0=_0x6475fc['vertices']['byteLength']/_0x1b185d['size'],_0x5158b3=_0x2e14f0<=0x1*-0x17e7+-0x10c15+-0x589*-0x63?Pi:nr,_0xf91f3b=_0x6475fc['indices']['byteLength']/(_0x2e14f0<=-0x1f7f7+-0x5f*0x430+0x485c6?-0x2614+-0x104b+-0x1*-0x3661:0x154+-0xb74*0x2+-0x566*-0x4);v['call'](()=>{_0x2e14f0!==_0x597863[_0x537aa2['attributes']['POSITION']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0xf91f3b!==_0x597863[_0x537aa2['indices']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x41178b=new os(_0x215e70,_0x1b185d,_0x2e14f0,{'data':_0x6475fc['vertices']}),_0x55e8c0=new lr(_0x215e70,_0x5158b3,_0xf91f3b,jt,_0x6475fc['indices']);_0x56bb4a['vertexBuff'+'er']=_0x41178b,_0x56bb4a['indexBuffe'+'r'][-0x1*-0x114a+0x23+-0x116d]=_0x55e8c0,_0x56bb4a['primitive'][0x7d5+-0x3*0x851+0x111e]['type']=Ix(_0x537aa2),_0x56bb4a['primitive'][0x22a*0xa+0x62f+-0x1bd3]['base']=-0x2f*0xa9+0xb8d+0x137a,_0x56bb4a['primitive'][0x2*0x6b1+0x63d+-0x1*0x139f]['count']=_0x55e8c0?_0xf91f3b:_0x2e14f0,_0x56bb4a['primitive'][-0x1eb7*0x1+-0x83f*-0x1+0x1678]['indexed']=!!_0x55e8c0,_0x26bb23();}});})),(_0xb36b99=_0x537aa2==null?void(-0x2b*-0xdf+-0x35b*0x8+-0xa9d):_0x537aa2['extensions'])!=null&&_0xb36b99['KHR_materi'+'als_varian'+'ts']){const _0x5652bf=_0x537aa2['extensions']['KHR_materi'+'als_varian'+'ts'],_0x1708f4={};_0x5652bf['mappings']['forEach'](_0x3f8d03=>{_0x3f8d03['variants']['forEach'](_0x24a82d=>{_0x1708f4[_0x24a82d]=_0x3f8d03['material'];});}),_0x4b242a[_0x56bb4a['id']]=_0x1708f4;}return _0x26946f[_0x56bb4a['id']]=_0x537aa2['material'],_0x56bb4a;},LD=(_0x9f3d81,_0x47786d,_0x4e8adb,_0x34346c,_0x152cd0,_0xa619dc,_0x12d0bd,_0x4c9dc4,_0xa6b74b)=>{const _0x14786f=[];return _0x47786d['primitives']['forEach'](_0x5caccc=>{var _0x5d8eed;if((_0x5d8eed=_0x5caccc['extensions'])!=null&&_0x5d8eed['KHR_draco_'+'mesh_compr'+'ession'])_0x14786f['push'](DD(_0x9f3d81,_0x5caccc,_0x4e8adb,_0x34346c,_0xa619dc,_0x12d0bd,_0xa6b74b));else{let _0x59e97a=_0x5caccc['hasOwnProp'+'erty']('indices')?sn(_0x4e8adb[_0x5caccc['indices']],_0x34346c,!(0x406+-0x1e26+0x1a20)):null;const _0x5c9e29=RD(_0x9f3d81,_0x5caccc['attributes'],_0x59e97a,_0x4e8adb,_0x34346c,_0x152cd0),_0x3f63ae=Ix(_0x5caccc),_0x5a6a5c=new Ie(_0x9f3d81);if(_0x5a6a5c['vertexBuff'+'er']=_0x5c9e29,_0x5a6a5c['primitive'][0xa93*-0x1+-0x1*0x121+0xbb4]['type']=_0x3f63ae,_0x5a6a5c['primitive'][-0xf6a*-0x2+-0x161+-0x1d73]['base']=-0x14*-0x76+-0x194f+0x1017*0x1,_0x5a6a5c['primitive'][-0x1*-0x5b9+0xb0d+-0x71*0x26]['indexed']=_0x59e97a!==null,_0x59e97a!==null){let _0x2b86e8;_0x59e97a instanceof Uint8Array?_0x2b86e8=pu:_0x59e97a instanceof Uint16Array?_0x2b86e8=Pi:_0x2b86e8=nr,_0x2b86e8===pu&&_0x9f3d81['isWebGPU']&&(_0x2b86e8=Pi,_0x59e97a=new Uint16Array(_0x59e97a));const _0x127aa8=new lr(_0x9f3d81,_0x2b86e8,_0x59e97a['length'],jt,_0x59e97a);_0x5a6a5c['indexBuffe'+'r'][0x1600+-0x3d*-0x47+-0x1b*0x171]=_0x127aa8,_0x5a6a5c['primitive'][-0x1846+-0xb84+0x2*0x11e5]['count']=_0x59e97a['length'];}else _0x5a6a5c['primitive'][0x3ac*0x3+0x1975+-0x1*0x2479]['count']=_0x5c9e29['numVertice'+'s'];if(_0x5caccc['hasOwnProp'+'erty']('extensions')&&_0x5caccc['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x4b9d31=_0x5caccc['extensions']['KHR_materi'+'als_varian'+'ts'],_0x3504c2={};_0x4b9d31['mappings']['forEach'](_0x312f97=>{_0x312f97['variants']['forEach'](_0x3f6ef8=>{_0x3504c2[_0x3f6ef8]=_0x312f97['material'];});}),_0xa619dc[_0x5a6a5c['id']]=_0x3504c2;}_0x12d0bd[_0x5a6a5c['id']]=_0x5caccc['material'];let _0x179b3b=_0x4e8adb[_0x5caccc['attributes']['POSITION']];if(_0x5a6a5c['aabb']=Sf(_0x179b3b),_0x5caccc['hasOwnProp'+'erty']('targets')){const _0x6b72c=[];_0x5caccc['targets']['forEach']((_0x5e52af,_0x4e0d44)=>{const _0x227886={};_0x5e52af['hasOwnProp'+'erty']('POSITION')&&(_0x179b3b=_0x4e8adb[_0x5e52af['POSITION']],_0x227886['deltaPosit'+'ions']=ma(_0x179b3b,_0x34346c),_0x227886['aabb']=Sf(_0x179b3b)),_0x5e52af['hasOwnProp'+'erty']('NORMAL')&&(_0x179b3b=_0x4e8adb[_0x5e52af['NORMAL']],_0x227886['deltaNorma'+'ls']=ma(_0x179b3b,_0x34346c)),_0x47786d['hasOwnProp'+'erty']('extras')&&_0x47786d['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x227886['name']=_0x47786d['extras']['targetName'+'s'][_0x4e0d44]:_0x227886['name']=_0x4e0d44['toString'](-0x1088+-0x1*0x1be+0x24a*0x8),_0x47786d['hasOwnProp'+'erty']('weights')&&(_0x227886['defaultWei'+'ght']=_0x47786d['weights'][_0x4e0d44]),_0x227886['preserveDa'+'ta']=_0x4c9dc4['morphPrese'+'rveData'],_0x6b72c['push'](new Qc(_0x227886));}),_0x5a6a5c['morph']=new F0(_0x6b72c,_0x9f3d81,{'preferHighPrecision':_0x4c9dc4['morphPrefe'+'rHighPreci'+'sion']});}_0x14786f['push'](_0x5a6a5c);}}),_0x14786f;},ft=(_0x102b5d,_0x950b7d,_0x3880e5)=>{var _0x23ec8c;let _0x3eb911;const _0x33a506=_0x102b5d['texCoord'];if(_0x33a506){for(_0x3eb911=0x1*0x3ba+0x3b0*-0x6+-0x1d7*-0xa;_0x3eb911<_0x3880e5['length'];++_0x3eb911)_0x950b7d[_0x3880e5[_0x3eb911]+'MapUv']=_0x33a506;}const _0x19254b=[-0x10b8*-0x2+-0x1*0x23e3+0x273,0x41f+-0x1817+0x13f8],_0x271e96=[-0xdcc+-0xb*-0x5b+-0x4f2*-0x2,0x19c*0x13+-0x1415*-0x1+-0x4*0xcaa],_0x43676e=(_0x23ec8c=_0x102b5d['extensions'])==null?void(0x1a6c+0x1c*0x143+0x4*-0xf70):_0x23ec8c['KHR_textur'+'e_transfor'+'m'];if(_0x43676e){const _0x705d46=_0x43676e['offset']||_0x19254b,_0xa1ee2b=_0x43676e['scale']||_0x271e96,_0x4ad3a7=_0x43676e['rotation']?-_0x43676e['rotation']*N['RAD_TO_DEG']:-0x79b+-0x2f5+0xa90,_0x4b6962=new $(_0xa1ee2b[-0x1595+0x234b+-0xdb6],_0xa1ee2b[-0x2*0xc7a+-0x2504+-0x3df9*-0x1]),_0x37c919=new $(_0x705d46[0xd*-0x1e5+0x12a+0x1777],0x154e+-0x1864+0x317*0x1-_0xa1ee2b[-0x22a0+-0x2680+0x4921]-_0x705d46[-0xcd6+0x6*0x231+-0x4f]);for(_0x3eb911=-0x6ce*0x2+-0x2*-0x4e4+0x3d4;_0x3eb911<_0x3880e5['length'];++_0x3eb911)_0x950b7d[_0x3880e5[_0x3eb911]+'MapTiling']=_0x4b6962,_0x950b7d[_0x3880e5[_0x3eb911]+'MapOffset']=_0x37c919,_0x950b7d[_0x3880e5[_0x3eb911]+('MapRotatio'+'n')]=_0x4ad3a7;}},FD=(_0x4a8d9a,_0x258105,_0x4a19c4)=>{let _0x3465ba,_0x748ff1;if(_0x4a8d9a['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x3465ba=_0x4a8d9a['diffuseFac'+'tor'],_0x258105['diffuse']['set'](Math['pow'](_0x3465ba[-0x207c+0xe28+0x187*0xc],(-0x3a9+-0x52*0x53+0x1e40)/(-0xcd5+0x11a1+-0x4ca+0.20000000000000018)),Math['pow'](_0x3465ba[-0x31a+0xb5*0x31+-0x1f8a],(0x849+0x102c*-0x2+0x1810)/(-0x113c+-0x202*-0x2+0xd3a+0.20000000000000018)),Math['pow'](_0x3465ba[-0x10d8+0x33*0x3+0x1041],(0x51f*0x4+0x8ef+0x9ce*-0x3)/(0x1909+0x1f*0x77+0x10*-0x277+0.20000000000000018))),_0x258105['opacity']=_0x3465ba[0x11*-0x13e+0x26f+0x12b2]):(_0x258105['diffuse']['set'](0x44c+0x22b9*-0x1+0x1e6e,0x1ce5*0x1+0x7c3*0x1+0x355*-0xb,0xd7*-0xb+0x9be+-0x20*0x4),_0x258105['opacity']=-0x1f58+0x26*0xbb+0x397),_0x4a8d9a['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x2256b4=_0x4a8d9a['diffuseTex'+'ture'];_0x748ff1=_0x4a19c4[_0x2256b4['index']],_0x258105['diffuseMap']=_0x748ff1,_0x258105['diffuseMap'+'Channel']='rgb',_0x258105['opacityMap']=_0x748ff1,_0x258105['opacityMap'+'Channel']='a',ft(_0x2256b4,_0x258105,['diffuse','opacity']);}if(_0x258105['useMetalne'+'ss']=!(-0x8c6*-0x1+0x1f*-0x3b+-0x68*0x4),_0x4a8d9a['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x3465ba=_0x4a8d9a['specularFa'+'ctor'],_0x258105['specular']['set'](Math['pow'](_0x3465ba[0xe1+0xcb5+-0xd96],(0x1*0x39b+0x2371+-0x270b)/(0xa45+0x26*0x67+-0x198d+0.20000000000000018)),Math['pow'](_0x3465ba[0x1259+-0x207d+0x33*0x47],(-0x4ad+0x1105*0x1+-0xc57*0x1)/(0x5*-0x599+0xf16*-0x1+0x2b15*0x1+0.20000000000000018)),Math['pow'](_0x3465ba[0x1dd3+-0x1*-0x144d+-0x321e],(0x1e7e+-0x2074+0x1f7)/(-0x7fc*-0x3+-0xa94+-0xd5e+0.20000000000000018)))):_0x258105['specular']['set'](0x3*-0xf5+0x145f+0x3*-0x5d5,0x4c5+-0x1ffb*-0x1+0x1*-0x24bf,-0xf1f+0x26ec+-0x17cc),_0x4a8d9a['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x258105['gloss']=_0x4a8d9a['glossiness'+'Factor']:_0x258105['gloss']=0x1155+0xb90+0xac*-0x2b,_0x4a8d9a['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x3f76ed=_0x4a8d9a['specularGl'+'ossinessTe'+'xture'];_0x258105['specularEn'+'coding']='srgb',_0x258105['specularMa'+'p']=_0x258105['glossMap']=_0x4a19c4[_0x3f76ed['index']],_0x258105['specularMa'+'pChannel']='rgb',_0x258105['glossMapCh'+'annel']='a',ft(_0x3f76ed,_0x258105,['gloss','metalness']);}},OD=(_0x46dd1d,_0x49f27b,_0x540154)=>{if(_0x46dd1d['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x49f27b['clearCoat']=_0x46dd1d['clearcoatF'+'actor']*(-0x1803+0x2087+0x6d*-0x14+0.25):_0x49f27b['clearCoat']=-0x2eb*0x8+-0x283*0x3+0x1ee1,_0x46dd1d['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x22b392=_0x46dd1d['clearcoatT'+'exture'];_0x49f27b['clearCoatM'+'ap']=_0x540154[_0x22b392['index']],_0x49f27b['clearCoatM'+'apChannel']='r',ft(_0x22b392,_0x49f27b,['clearCoat']);}if(_0x46dd1d['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x49f27b['clearCoatG'+'loss']=_0x46dd1d['clearcoatR'+'oughnessFa'+'ctor']:_0x49f27b['clearCoatG'+'loss']=-0x8eb+0x1182+0x2dd*-0x3,_0x46dd1d['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x6fe87c=_0x46dd1d['clearcoatR'+'oughnessTe'+'xture'];_0x49f27b['clearCoatG'+'lossMap']=_0x540154[_0x6fe87c['index']],_0x49f27b['clearCoatG'+'lossMapCha'+'nnel']='g',ft(_0x6fe87c,_0x49f27b,['clearCoatG'+'loss']);}if(_0x46dd1d['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x4f3b8e=_0x46dd1d['clearcoatN'+'ormalTextu'+'re'];_0x49f27b['clearCoatN'+'ormalMap']=_0x540154[_0x4f3b8e['index']],ft(_0x4f3b8e,_0x49f27b,['clearCoatN'+'ormal']),_0x4f3b8e['hasOwnProp'+'erty']('scale')&&(_0x49f27b['clearCoatB'+'umpiness']=_0x4f3b8e['scale']);}_0x49f27b['clearCoatG'+'lossInvert']=!(-0x1dd0+-0x1*0x20e+0x2*0xfef);},kD=(_0x336fe6,_0x34ae50,_0x5a25fb)=>{_0x34ae50['useLightin'+'g']=!(0x46c*-0x2+0xd92*-0x1+-0x1*-0x166b),_0x34ae50['emissive']['copy'](_0x34ae50['diffuse']),_0x34ae50['emissiveMa'+'p']=_0x34ae50['diffuseMap'],_0x34ae50['emissiveMa'+'pUv']=_0x34ae50['diffuseMap'+'Uv'],_0x34ae50['emissiveMa'+'pTiling']['copy'](_0x34ae50['diffuseMap'+'Tiling']),_0x34ae50['emissiveMa'+'pOffset']['copy'](_0x34ae50['diffuseMap'+'Offset']),_0x34ae50['emissiveMa'+'pRotation']=_0x34ae50['diffuseMap'+'Rotation'],_0x34ae50['emissiveMa'+'pChannel']=_0x34ae50['diffuseMap'+'Channel'],_0x34ae50['emissiveVe'+'rtexColor']=_0x34ae50['diffuseVer'+'texColor'],_0x34ae50['emissiveVe'+'rtexColorC'+'hannel']=_0x34ae50['diffuseVer'+'texColorCh'+'annel'],_0x34ae50['useLightin'+'g']=!(-0x1*-0x1372+0x15ea+-0x295b),_0x34ae50['useSkybox']=!(0x2252+0x200f+-0x4260),_0x34ae50['diffuse']['set'](-0x211b+0x67e+0x1a9e,0x1*0xf7f+-0x16a*-0x3+-0x13bc,-0x5*-0x392+0x2131*0x1+0x2f*-0x116),_0x34ae50['diffuseMap']=null,_0x34ae50['diffuseVer'+'texColor']=!(0x2705*-0x1+0x7c3+0x35*0x97);},BD=(_0x580166,_0x5d2c37,_0x572b1f)=>{if(_0x5d2c37['useMetalne'+'ssSpecular'+'Color']=!(-0x870+-0x824*0x4+0x2900),_0x580166['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x5d2c37['specularEn'+'coding']='srgb',_0x5d2c37['specularMa'+'p']=_0x572b1f[_0x580166['specularCo'+'lorTexture']['index']],_0x5d2c37['specularMa'+'pChannel']='rgb',ft(_0x580166['specularCo'+'lorTexture'],_0x5d2c37,['specular'])),_0x580166['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x268b99=_0x580166['specularCo'+'lorFactor'];_0x5d2c37['specular']['set'](Math['pow'](_0x268b99[-0x19*-0x13a+-0xaf7+0x29*-0x7b],(0x1*-0x200+0x1e7d+0x2*-0xe3e)/(0x246+0x1850+-0xa2*0x2a+0.20000000000000018)),Math['pow'](_0x268b99[0x22b8+0x257e+-0x4835*0x1],(0x1f*-0x1+0xe05*0x2+-0x1bea)/(-0x25d4+-0xa7*0x5+0x9*0x491+0.20000000000000018)),Math['pow'](_0x268b99[-0x1fc5+0xbc2+0x1405*0x1],(0x1*0x1202+-0x1af9*-0x1+0xefe*-0x3)/(0x6*-0x33a+0x2522+-0x11c4+0.20000000000000018)));}else _0x5d2c37['specular']['set'](-0x2eb*-0x6+-0x3*-0xd9+0x140c*-0x1,0x7e1*0x1+-0x3df*0xa+0x1ed6,-0x1126+0x147b+-0x354);_0x580166['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x5d2c37['specularit'+'yFactor']=_0x580166['specularFa'+'ctor']:_0x5d2c37['specularit'+'yFactor']=-0x1*0x9d9+-0xb7a+0x1554,_0x580166['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x5d2c37['specularit'+'yFactorMap'+'Channel']='a',_0x5d2c37['specularit'+'yFactorMap']=_0x572b1f[_0x580166['specularTe'+'xture']['index']],ft(_0x580166['specularTe'+'xture'],_0x5d2c37,['specularit'+'yFactor']));},ND=(_0x54cd14,_0x26ca9a,_0x5e943e)=>{_0x54cd14['hasOwnProp'+'erty']('ior')&&(_0x26ca9a['refraction'+'Index']=(0x2506+-0x3*-0x665+-0x3834)/_0x54cd14['ior']);},zD=(_0x445998,_0x279729,_0x52f52b)=>{_0x445998['hasOwnProp'+'erty']('dispersion')&&(_0x279729['dispersion']=_0x445998['dispersion']);},UD=(_0x1e7134,_0x1e46c0,_0x3b501c)=>{_0x1e46c0['blendType']=Kt,_0x1e46c0['useDynamic'+'Refraction']=!(-0x1e7*0x12+0xd9*0x1c+-0x541*-0x2),_0x1e7134['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x1e46c0['refraction']=_0x1e7134['transmissi'+'onFactor']),_0x1e7134['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x1e46c0['refraction'+'MapChannel']='r',_0x1e46c0['refraction'+'Map']=_0x3b501c[_0x1e7134['transmissi'+'onTexture']['index']],ft(_0x1e7134['transmissi'+'onTexture'],_0x1e46c0,['refraction']));},VD=(_0x4a1221,_0x1721eb,_0x13514b)=>{if(_0x1721eb['useSheen']=!(-0x1978+-0x1*-0x885+-0x10f3*-0x1),_0x4a1221['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x3cd5c9=_0x4a1221['sheenColor'+'Factor'];_0x1721eb['sheen']['set'](Math['pow'](_0x3cd5c9[0x6a*0x4e+-0x1934+0x38c*-0x2],(0x23df+0x4*-0x11c+-0x36*0x95)/(-0x1*0x203+-0x3d0+-0x1*-0x5d5+0.20000000000000018)),Math['pow'](_0x3cd5c9[-0x1cb*0x11+0x4bb*-0x5+-0x1*-0x3623],(-0x5d*0x33+-0x1*0xa0d+0x1c95)/(-0x953+0x1783*-0x1+0x836*0x4+0.20000000000000018)),Math['pow'](_0x3cd5c9[-0x2293+-0x12*0x225+0x1865*0x3],(0xde2+-0x8*0x244+0x43f)/(0x13f7+-0xe4a+-0x5ab*0x1+0.20000000000000018)));}else _0x1721eb['sheen']['set'](0x185b+0xa03+-0x1cf*0x13,0xb89*-0x3+-0x434*0x8+-0x4*-0x110f,0xf1*-0x1a+-0x987+0x2202);_0x4a1221['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x1721eb['sheenMap']=_0x13514b[_0x4a1221['sheenColor'+'Texture']['index']],_0x1721eb['sheenEncod'+'ing']='srgb',ft(_0x4a1221['sheenColor'+'Texture'],_0x1721eb,['sheen'])),_0x1721eb['sheenGloss']=_0x4a1221['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x4a1221['sheenRough'+'nessFactor']:0x13f3*-0x1+-0x3*0x53f+0x1*0x23b0,_0x4a1221['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x1721eb['sheenGloss'+'Map']=_0x13514b[_0x4a1221['sheenRough'+'nessTextur'+'e']['index']],_0x1721eb['sheenGloss'+'MapChannel']='a',ft(_0x4a1221['sheenRough'+'nessTextur'+'e'],_0x1721eb,['sheenGloss'])),_0x1721eb['sheenGloss'+'Invert']=!(0x1b69+0x228+-0x1d91);},GD=(_0x1ad2b6,_0x4b6da9,_0xfa94c3)=>{if(_0x4b6da9['blendType']=Kt,_0x4b6da9['useDynamic'+'Refraction']=!(0x2*0x10d9+-0x58e+-0x1c24),_0x1ad2b6['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x4b6da9['thickness']=_0x1ad2b6['thicknessF'+'actor']),_0x1ad2b6['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x4b6da9['thicknessM'+'ap']=_0xfa94c3[_0x1ad2b6['thicknessT'+'exture']['index']],_0x4b6da9['thicknessM'+'apChannel']='g',ft(_0x1ad2b6['thicknessT'+'exture'],_0x4b6da9,['thickness'])),_0x1ad2b6['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x4b6da9['attenuatio'+'nDistance']=_0x1ad2b6['attenuatio'+'nDistance']),_0x1ad2b6['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x80588=_0x1ad2b6['attenuatio'+'nColor'];_0x4b6da9['attenuatio'+'n']['set'](Math['pow'](_0x80588[0x1*0x404+0xd0d+-0x1*0x1111],(-0x243b+0x2*0x1e2+0x2*0x103c)/(-0x2415*0x1+-0x1a22+0x3e39+0.20000000000000018)),Math['pow'](_0x80588[0x711+-0x1576+-0x13*-0xc2],(0x2057+0x8f*0x2+-0x2174)/(-0x86d*0x1+0x6d3+0x19c+0.20000000000000018)),Math['pow'](_0x80588[-0x118f+0xf80+0x211],(0x1f30+-0x286+-0x17*0x13f)/(0x1545+-0x13e0+-0x1*0x163+0.20000000000000018)));}},HD=(_0x1bcb24,_0x482352,_0x54892d)=>{_0x1bcb24['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x482352['emissiveIn'+'tensity']=_0x1bcb24['emissiveSt'+'rength']);},$D=(_0x3bd1a8,_0x294496,_0x392f09)=>{_0x294496['useIridesc'+'ence']=!(0x1ca5+0xd2+-0x1d77),_0x3bd1a8['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x294496['iridescenc'+'e']=_0x3bd1a8['iridescenc'+'eFactor']),_0x3bd1a8['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x294496['iridescenc'+'eMapChanne'+'l']='r',_0x294496['iridescenc'+'eMap']=_0x392f09[_0x3bd1a8['iridescenc'+'eTexture']['index']],ft(_0x3bd1a8['iridescenc'+'eTexture'],_0x294496,['iridescenc'+'e'])),_0x3bd1a8['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x294496['iridescenc'+'eRefractio'+'nIndex']=_0x3bd1a8['iridescenc'+'eIor']),_0x3bd1a8['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x294496['iridescenc'+'eThickness'+'Min']=_0x3bd1a8['iridescenc'+'eThickness'+'Minimum']),_0x3bd1a8['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x294496['iridescenc'+'eThickness'+'Max']=_0x3bd1a8['iridescenc'+'eThickness'+'Maximum']),_0x3bd1a8['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x294496['iridescenc'+'eThickness'+'MapChannel']='g',_0x294496['iridescenc'+'eThickness'+'Map']=_0x392f09[_0x3bd1a8['iridescenc'+'eThickness'+'Texture']['index']],ft(_0x3bd1a8['iridescenc'+'eThickness'+'Texture'],_0x294496,['iridescenc'+'eThickness']));},Dx=(_0xfeed48,_0x40ae3f)=>{const _0x2a05c0=new cs();_0xfeed48['hasOwnProp'+'erty']('name')&&(_0x2a05c0['name']=_0xfeed48['name']),_0x2a05c0['occludeSpe'+'cular']=Bo,_0x2a05c0['diffuseVer'+'texColor']=!(-0x1649+-0x1bd*-0x9+0x1a9*0x4),_0x2a05c0['specularTi'+'nt']=!(-0x44a+-0xb61*0x1+0xfab),_0x2a05c0['specularVe'+'rtexColor']=!(0x143e+-0x3*0x7a4+-0x31*-0xe),_0x2a05c0['specular']['set'](-0x1bd8+-0x26f0+0x42c9,-0x212e+-0x1c*-0x14e+-0x359,-0x12b1*0x1+0x29b*-0xc+0x31f6),_0x2a05c0['gloss']=0xd92+0xda8+-0x65*0x45,_0x2a05c0['glossInver'+'t']=!(0x19cc+0x5c*0x58+0x2bc*-0x15),_0x2a05c0['useMetalne'+'ss']=!(0x19e6+-0x2*0x10b2+0x77e);let _0x438890,_0x4c96b3;if(_0xfeed48['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x242690=_0xfeed48['pbrMetalli'+'cRoughness'];if(_0x242690['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x438890=_0x242690['baseColorF'+'actor'],_0x2a05c0['diffuse']['set'](Math['pow'](_0x438890[0x716+0xb3*-0x1+0x1*-0x663],(-0x21f1*0x1+-0xba*-0xc+0x193a)/(-0x1b6*-0x10+-0x22ce+0x770*0x1+0.20000000000000018)),Math['pow'](_0x438890[0x7d0*-0x5+0x78c+0x1f85],(0x66b*-0x1+-0x247b+0x2ae7)/(0x2fb*0x5+0x7a3*0x5+-0x3514+0.20000000000000018)),Math['pow'](_0x438890[0x4*-0x8c1+-0x1*0x1d39+0x1*0x403f],(0x67c+0x20*0x96+-0x193b)/(0xd71+-0x146f+0x700+0.20000000000000018))),_0x2a05c0['opacity']=_0x438890[-0x1*-0x1706+0x1*-0xc35+-0x1*0xace]),_0x242690['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x1b4be9=_0x242690['baseColorT'+'exture'];_0x4c96b3=_0x40ae3f[_0x1b4be9['index']],_0x2a05c0['diffuseMap']=_0x4c96b3,_0x2a05c0['diffuseMap'+'Channel']='rgb',_0x2a05c0['opacityMap']=_0x4c96b3,_0x2a05c0['opacityMap'+'Channel']='a',ft(_0x1b4be9,_0x2a05c0,['diffuse','opacity']);}if(_0x242690['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x2a05c0['metalness']=_0x242690['metallicFa'+'ctor']),_0x242690['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x2a05c0['gloss']=_0x242690['roughnessF'+'actor']),_0x242690['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x596263=_0x242690['metallicRo'+'ughnessTex'+'ture'];_0x2a05c0['metalnessM'+'ap']=_0x2a05c0['glossMap']=_0x40ae3f[_0x596263['index']],_0x2a05c0['metalnessM'+'apChannel']='b',_0x2a05c0['glossMapCh'+'annel']='g',ft(_0x596263,_0x2a05c0,['gloss','metalness']);}}if(_0xfeed48['hasOwnProp'+'erty']('normalText'+'ure')){const _0xe757cb=_0xfeed48['normalText'+'ure'];_0x2a05c0['normalMap']=_0x40ae3f[_0xe757cb['index']],ft(_0xe757cb,_0x2a05c0,['normal']),_0xe757cb['hasOwnProp'+'erty']('scale')&&(_0x2a05c0['bumpiness']=_0xe757cb['scale']);}if(_0xfeed48['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x5c6e50=_0xfeed48['occlusionT'+'exture'];_0x2a05c0['aoMap']=_0x40ae3f[_0x5c6e50['index']],_0x2a05c0['aoMapChann'+'el']='r',ft(_0x5c6e50,_0x2a05c0,['ao']);}if(_0xfeed48['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x438890=_0xfeed48['emissiveFa'+'ctor'],_0x2a05c0['emissive']['set'](Math['pow'](_0x438890[0x52*0x28+0x3*-0x265+-0x5a1],(0x5e*0x4e+-0x1236*-0x1+-0x2ed9)/(0xb8e*0x2+0x1*-0x2268+0xb4e+0.20000000000000018)),Math['pow'](_0x438890[0x249+0x2238+-0x2480],(-0x5b*0x69+-0x2*-0xece+-0x1*-0x7b8)/(0x2275*0x1+0x5*-0x517+-0x900*0x1+0.20000000000000018)),Math['pow'](_0x438890[-0x14b1+-0x22f8*-0x1+0xd*-0x119],(0xbc6+-0x7*-0x511+-0x4*0xbcf)/(-0x802+0x1*-0x28d+0x5*0x21d+0.20000000000000018)))),_0xfeed48['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x378ed1=_0xfeed48['emissiveTe'+'xture'];_0x2a05c0['emissiveMa'+'p']=_0x40ae3f[_0x378ed1['index']],ft(_0x378ed1,_0x2a05c0,['emissive']);}if(_0xfeed48['hasOwnProp'+'erty']('alphaMode'))switch(_0xfeed48['alphaMode']){case'MASK':_0x2a05c0['blendType']=is,_0xfeed48['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x2a05c0['alphaTest']=_0xfeed48['alphaCutof'+'f']:_0x2a05c0['alphaTest']=0x1a03+-0x1275+0x1*-0x78e+0.5;break;case'BLEND':_0x2a05c0['blendType']=Kt,_0x2a05c0['depthWrite']=!(-0x17*0xc3+0x1b9d*-0x1+0x2d23);break;default:case'OPAQUE':_0x2a05c0['blendType']=is;break;}else _0x2a05c0['blendType']=is;_0xfeed48['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x2a05c0['twoSidedLi'+'ghting']=_0xfeed48['doubleSide'+'d'],_0x2a05c0['cull']=_0xfeed48['doubleSide'+'d']?mt:rn):(_0x2a05c0['twoSidedLi'+'ghting']=!(-0x5*0x3b3+0x20*-0x80+0x2280),_0x2a05c0['cull']=rn);const _0x4a832e={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':HD,'KHR_materials_ior':ND,'KHR_materials_dispersion':zD,'KHR_materials_iridescence':$D,'KHR_materials_pbrSpecularGlossiness':FD,'KHR_materials_sheen':VD,'KHR_materials_specular':BD,'KHR_materials_transmission':UD,'KHR_materials_unlit':kD,'KHR_materials_volume':GD};if(_0xfeed48['hasOwnProp'+'erty']('extensions'))for(const _0x1372d2 in _0xfeed48['extensions']){const _0x39e275=_0x4a832e[_0x1372d2];_0x39e275!==void(-0x1d*-0xb+-0x8*0x1bb+0xc99)&&_0x39e275(_0xfeed48['extensions'][_0x1372d2],_0x2a05c0,_0x40ae3f);}return _0x2a05c0['update'](),_0x2a05c0;},WD=(_0x293e54,_0x2baa49,_0x3c3faf,_0x33ffa9,_0x2f9685,_0x32788e,_0x782481)=>{const _0xd5803d=_0x23be62=>new Jh($o(_0x23be62['type']),ma(_0x23be62,_0x33ffa9)),_0x182c48={'STEP':W0,'LINEAR':ju,'CUBICSPLINE':Yu},_0x30764f={},_0x191a20={},_0x3f67ef={};let _0x488ab3=-0x3ce*0x1+0xeb7*-0x2+0x213d,_0x2939e8;for(_0x2939e8=0x1*0xc5e+0x5a5+-0x1203;_0x2939e8<_0x293e54['samplers']['length'];++_0x2939e8){const _0x3e4dd7=_0x293e54['samplers'][_0x2939e8];_0x30764f['hasOwnProp'+'erty'](_0x3e4dd7['input'])||(_0x30764f[_0x3e4dd7['input']]=_0xd5803d(_0x3c3faf[_0x3e4dd7['input']])),_0x191a20['hasOwnProp'+'erty'](_0x3e4dd7['output'])||(_0x191a20[_0x3e4dd7['output']]=_0xd5803d(_0x3c3faf[_0x3e4dd7['output']]));const _0x346ee6=_0x3e4dd7['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x182c48['hasOwnProp'+'erty'](_0x3e4dd7['interpolat'+'ion'])?_0x182c48[_0x3e4dd7['interpolat'+'ion']]:ju,_0x3ca377={'paths':[],'input':_0x3e4dd7['input'],'output':_0x3e4dd7['output'],'interpolation':_0x346ee6};_0x3f67ef[_0x2939e8]=_0x3ca377;}const _0x84a017=[],_0x51c5ef={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x3725c2=_0x534b74=>{const _0x9d9b78=[];for(;_0x534b74;)_0x9d9b78['unshift'](_0x534b74['name']),_0x534b74=_0x534b74['parent'];return _0x9d9b78;},_0x691d52=(_0x42038b,_0x122595,_0x19c8ef)=>{const _0x47528e=_0x191a20[_0x42038b['output']];if(!_0x47528e){v['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x19c8ef+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x2094df;if(_0x32788e&&_0x32788e[_0x122595['mesh']]){const _0x3d7552=_0x32788e[_0x122595['mesh']];_0x3d7552['hasOwnProp'+'erty']('extras')&&_0x3d7552['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x2094df=_0x3d7552['extras']['targetName'+'s']);}const _0x132b70=_0x47528e['data'],_0x4e310d=_0x132b70['length']/_0x30764f[_0x42038b['input']]['data']['length'],_0x16cce5=_0x132b70['length']/_0x4e310d,_0x5e90d6=_0x16cce5*(0x8e*0x26+-0x1dc9+0x8b9),_0x13dc6a=new ArrayBuffer(_0x5e90d6*_0x4e310d);for(let _0x4e79fa=-0x13d2*-0x1+0x12d1+-0x26a3;_0x4e79fa<_0x4e310d;_0x4e79fa++){const _0x59bd9a=new Float32Array(_0x13dc6a,_0x5e90d6*_0x4e79fa,_0x16cce5);for(let _0x23f60f=0x15d9+-0x518+0x1*-0x10c1;_0x23f60f<_0x16cce5;_0x23f60f++)_0x59bd9a[_0x23f60f]=_0x132b70[_0x23f60f*_0x4e310d+_0x4e79fa];const _0x81a954=new Jh(0x13c0+0xb*0x293+-0x3010,_0x59bd9a),_0x6b8265=_0x2094df!=null&&_0x2094df[_0x4e79fa]?'name.'+_0x2094df[_0x4e79fa]:_0x4e79fa;_0x191a20[-_0x488ab3]=_0x81a954;const _0x53d981={'paths':[{'entityPath':_0x19c8ef,'component':'graph','propertyPath':['weight.'+_0x6b8265]}],'input':_0x42038b['input'],'output':-_0x488ab3,'interpolation':_0x42038b['interpolat'+'ion']};_0x488ab3++,_0x3f67ef['morphCurve'+'-'+_0x2939e8+'-'+_0x4e79fa]=_0x53d981;}};for(_0x2939e8=-0x1*-0x996+-0xb51*-0x1+0x14e7*-0x1;_0x2939e8<_0x293e54['channels']['length'];++_0x2939e8){const _0x4b4269=_0x293e54['channels'][_0x2939e8],_0x57b72d=_0x4b4269['target'],_0xe02c7e=_0x3f67ef[_0x4b4269['sampler']],_0x3e0c1d=_0x2f9685[_0x57b72d['node']],_0x35dec0=_0x782481[_0x57b72d['node']],_0x1c3a83=_0x3725c2(_0x3e0c1d);_0x57b72d['path']['startsWith']('weights')?(_0x691d52(_0xe02c7e,_0x35dec0,_0x1c3a83),_0x3f67ef[_0x4b4269['sampler']]['morphCurve']=!(-0x80b*-0x2+-0x3e*-0x74+-0x122*0x27)):_0xe02c7e['paths']['push']({'entityPath':_0x1c3a83,'component':'graph','propertyPath':[_0x51c5ef[_0x57b72d['path']]]});}const _0xd79918=[],_0x5e05e8=[],_0x453dcf=[];for(const _0x4ce554 in _0x30764f)_0xd79918['push'](_0x30764f[_0x4ce554]),_0x30764f[_0x4ce554]=_0xd79918['length']-(-0xb9+-0x53*0x2b+-0x1*-0xeab);for(const _0x3681ab in _0x191a20)_0x5e05e8['push'](_0x191a20[_0x3681ab]),_0x191a20[_0x3681ab]=_0x5e05e8['length']-(-0x163*0x2+0x2*0x1382+-0x1*0x243d);for(const _0x51088d in _0x3f67ef){const _0x11a4ab=_0x3f67ef[_0x51088d];_0x11a4ab['morphCurve']||(_0x453dcf['push'](new Px(_0x11a4ab['paths'],_0x30764f[_0x11a4ab['input']],_0x191a20[_0x11a4ab['output']],_0x11a4ab['interpolat'+'ion'])),_0x11a4ab['paths']['length']>-0x1eb8+0x1*0x78f+-0xb*-0x21b&&_0x11a4ab['paths'][0x3*0x949+-0x839+-0x1*0x13a2]['propertyPa'+'th'][0x1565*0x1+-0x1*-0x1b81+-0x1*0x30e6]==='localRotat'+'ion'&&_0x11a4ab['interpolat'+'ion']!==Yu&&_0x84a017['push'](_0x453dcf[_0x453dcf['length']-(-0x5d2+-0xdba+0x138d)]['output']));}_0x84a017['sort']();let _0x4009fd=null,_0x114c30;for(_0x2939e8=0x1*-0x24cd+-0x74*0x14+-0x2ddd*-0x1;_0x2939e8<_0x84a017['length'];++_0x2939e8){const _0x4d159b=_0x84a017[_0x2939e8];if(_0x2939e8===-0xae5+0x647*0x5+-0x147e||_0x4d159b!==_0x4009fd){if(_0x114c30=_0x5e05e8[_0x4d159b],_0x114c30['components']===-0x2100+0x364*0x2+0x1a3c){const _0x545ce1=_0x114c30['data'],_0x448d98=_0x545ce1['length']-(-0xf7*-0x4+-0x149e+0x10c6);for(let _0x4c8ab8=-0x1847+-0x2ba*0xc+0x38ff;_0x4c8ab8<_0x448d98;_0x4c8ab8+=-0x5c*-0x3b+-0x219b+-0x11*-0xbb)_0x545ce1[_0x4c8ab8+(0x2154+0xc50+-0x1fc*0x17)]*_0x545ce1[_0x4c8ab8+(-0xd*0x279+0x19ef+0x31d*0x2)]+_0x545ce1[_0x4c8ab8+(-0x1d5b+-0xc96*-0x1+0x13*0xe2)]*_0x545ce1[_0x4c8ab8+(-0x1*0x19c0+0xd35+-0x86*-0x18)]+_0x545ce1[_0x4c8ab8+(0x1761+0x5*0x65b+-0x3726)]*_0x545ce1[_0x4c8ab8+(-0x12f9*0x2+-0xa32+0x302a)]+_0x545ce1[_0x4c8ab8+(0x218*-0x6+0x2567+0x38c*-0x7)]*_0x545ce1[_0x4c8ab8+(0x1*0x24bd+0x1*0xf81+-0x3437)]<0x29*-0xd9+0x1253*0x1+-0x837*-0x2&&(_0x545ce1[_0x4c8ab8+(-0x5*-0x38b+0x26e*0xb+-0x2c6d)]*=-(-0x2663+0x2*0x54b+0x1bce),_0x545ce1[_0x4c8ab8+(-0x8e3*-0x3+-0x46*-0x49+0x952*-0x5)]*=-(0x891+0x1*-0x2329+0x1*0x1a99),_0x545ce1[_0x4c8ab8+(0x155f+0x146*0x9+-0x20cf)]*=-(0x1856+0x1352*-0x1+-0x503),_0x545ce1[_0x4c8ab8+(-0x1be*-0xd+-0x17e*0x17+0x257*0x5)]*=-(-0x671*0x3+-0xe2d+-0x3*-0xb2b));}_0x4009fd=_0x4d159b;}}let _0x174250=0xcaf+0x82f*-0x1+-0x3*0x180;for(_0x2939e8=0xd3+-0x1a1*0x17+-0x1252*-0x2;_0x2939e8<_0xd79918['length'];_0x2939e8++)_0x114c30=_0xd79918[_0x2939e8]['_data'],_0x174250=Math['max'](_0x174250,_0x114c30['length']===0xde*0x21+0x21e*-0x1+0x8*-0x350?0xadc*-0x1+-0xa2a+0xcf*0x1a:_0x114c30[_0x114c30['length']-(0x213f+0x25a+-0x2398)]);return new Ri(_0x293e54['hasOwnProp'+'erty']('name')?_0x293e54['name']:'animation_'+_0x2baa49,_0x174250,_0xd79918,_0x5e05e8,_0x453dcf);},eh=new q(),qn=new T(),qD=(_0x2a76dd,_0x1c7ec7,_0x4a6989)=>{const _0x20cd65=new De();if(_0x2a76dd['hasOwnProp'+'erty']('name')&&_0x2a76dd['name']['length']>0x48f+-0x21b3+-0x2ea*-0xa?_0x20cd65['name']=_0x2a76dd['name']:_0x20cd65['name']='node_'+_0x1c7ec7,_0x2a76dd['hasOwnProp'+'erty']('matrix')&&(eh['data']['set'](_0x2a76dd['matrix']),eh['getTransla'+'tion'](qn),_0x20cd65['setLocalPo'+'sition'](qn),eh['getEulerAn'+'gles'](qn),_0x20cd65['setLocalEu'+'lerAngles'](qn),eh['getScale'](qn),_0x20cd65['setLocalSc'+'ale'](qn)),_0x2a76dd['hasOwnProp'+'erty']('rotation')){const _0x522b0d=_0x2a76dd['rotation'];_0x20cd65['setLocalRo'+'tation'](_0x522b0d[0x2567+-0x18*0xf0+-0xee7],_0x522b0d[-0x4ac+-0x1*0xdc5+0x1272],_0x522b0d[-0x1d3*0x2+0x1d*-0x8f+0x13db],_0x522b0d[-0x1d69+0x2*-0x8+0x1d7c]);}if(_0x2a76dd['hasOwnProp'+'erty']('translatio'+'n')){const _0x2bad27=_0x2a76dd['translatio'+'n'];_0x20cd65['setLocalPo'+'sition'](_0x2bad27[-0x2642+0x19e2*0x1+0x8*0x18c],_0x2bad27[0x597+-0x143b+0xea5],_0x2bad27[0x65b+0xf*0xd5+-0x12d4]);}if(_0x2a76dd['hasOwnProp'+'erty']('scale')){const _0x3e5ab7=_0x2a76dd['scale'];_0x20cd65['setLocalSc'+'ale'](_0x3e5ab7[0x1727+0x2309+-0x3a30],_0x3e5ab7[0x113*0x17+0x1*-0x1d17+-0x1*-0x463],_0x3e5ab7[-0xcd8+0x17*0x8a+0x4*0x1d]);}return _0x2a76dd['hasOwnProp'+'erty']('extensions')&&_0x2a76dd['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x4a6989['set'](_0x2a76dd,{'ext':_0x2a76dd['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x20cd65;},XD=(_0x418106,_0x1b556c)=>{const _0x47e0d7=_0x418106['type']==='orthograph'+'ic'?ua:Gs,_0x392cdb=_0x47e0d7===ua?_0x418106['orthograph'+'ic']:_0x418106['perspectiv'+'e'],_0x23502={'enabled':!(-0x42*0x64+-0x554*-0x5+0xdb*-0x1),'projection':_0x47e0d7,'nearClip':_0x392cdb['znear'],'aspectRatioMode':Ip};_0x392cdb['zfar']&&(_0x23502['farClip']=_0x392cdb['zfar']),_0x47e0d7===ua?(_0x23502['orthoHeigh'+'t']=(0x135+0x26f*0xe+0x2347*-0x1+0.5)*_0x392cdb['ymag'],_0x392cdb['ymag']&&(_0x23502['aspectRati'+'oMode']=Bu,_0x23502['aspectRati'+'o']=_0x392cdb['xmag']/_0x392cdb['ymag'])):(_0x23502['fov']=_0x392cdb['yfov']*N['RAD_TO_DEG'],_0x392cdb['aspectRati'+'o']&&(_0x23502['aspectRati'+'oMode']=Bu,_0x23502['aspectRati'+'o']=_0x392cdb['aspectRati'+'o']));const _0x293964=new $e(_0x418106['name']);return _0x293964['addCompone'+'nt']('camera',_0x23502),_0x293964;},jD=(_0x2de33b,_0x7cd445)=>{const _0x108d68={'enabled':!(0x1*-0x1afb+0x139d*0x1+0x75f),'type':_0x2de33b['type']==='point'?'omni':_0x2de33b['type'],'color':_0x2de33b['hasOwnProp'+'erty']('color')?new Y(_0x2de33b['color']):Y['WHITE'],'range':_0x2de33b['hasOwnProp'+'erty']('range')?_0x2de33b['range']:0x21bf+0xb2f*0x2+-0x110e,'falloffMode':Wb,'intensity':_0x2de33b['hasOwnProp'+'erty']('intensity')?N['clamp'](_0x2de33b['intensity'],-0x2*-0x1091+-0x1a4c+-0x2*0x36b,0x502+-0x9dd+0x4dd):0x594+-0x16*0x1c1+0x2103};_0x2de33b['hasOwnProp'+'erty']('spot')&&(_0x108d68['innerConeA'+'ngle']=_0x2de33b['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x2de33b['spot']['innerConeA'+'ngle']*N['RAD_TO_DEG']:-0x5*0x6af+0x4eb*0x6+0x3e9,_0x108d68['outerConeA'+'ngle']=_0x2de33b['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x2de33b['spot']['outerConeA'+'ngle']*N['RAD_TO_DEG']:Math['PI']/(-0x1*-0x234e+-0x31a*-0x8+-0x1*0x3c1a)),_0x2de33b['hasOwnProp'+'erty']('intensity')&&(_0x108d68['luminance']=_0x2de33b['intensity']*zo['getLightUn'+'itConversi'+'on'](Gu[_0x108d68['type']],_0x108d68['outerConeA'+'ngle'],_0x108d68['innerConeA'+'ngle']));const _0x39ffed=new $e(_0x7cd445['name']);return _0x39ffed['rotateLoca'+'l'](-0x507+0x1393*-0x1+0x18f4,-0xb11+-0x1*-0x9b9+0x158,0x2284+-0x199f+-0x8e5),_0x39ffed['addCompone'+'nt']('light',_0x108d68),_0x39ffed;},YD=(_0x36d392,_0xb7dcb5,_0x5cef14,_0x326469)=>{if(!_0xb7dcb5['hasOwnProp'+'erty']('skins')||_0xb7dcb5['skins']['length']===-0xe57*-0x1+-0xe93+-0x3*-0x14)return[];const _0x323734=new Map();return _0xb7dcb5['skins']['map'](_0x11e9a5=>ID(_0x36d392,_0x11e9a5,_0xb7dcb5['accessors'],_0x326469,_0x5cef14,_0x323734));},KD=(_0x440f6d,_0x2d698f,_0x2c325b,_0x3021a6)=>{var _0x57dc43,_0x25f1a8,_0x220a68;const _0x2f0bc4={},_0x4fc529={},_0x107709={},_0x57f2f3=[];return{'meshes':!_0x3021a6['skipMeshes']&&((_0x57dc43=_0x2d698f==null?void(-0x17ac+-0x1e32+0x1*0x35de):_0x2d698f['meshes'])==null?void(-0x1*-0x287+0xb4e+0x1*-0xdd5):_0x57dc43['length'])&&((_0x25f1a8=_0x2d698f==null?void(-0x7a*0x36+-0x2589+0x3f45):_0x2d698f['accessors'])==null?void(0x14b+-0x557+0x25*0x1c):_0x25f1a8['length'])&&((_0x220a68=_0x2d698f==null?void(-0x1486+-0x1d1d+-0x1*-0x31a3):_0x2d698f['bufferView'+'s'])==null?void(-0x31d*-0x2+-0x18ec+0x12b2):_0x220a68['length'])?_0x2d698f['meshes']['map'](_0xb4a4a1=>LD(_0x440f6d,_0xb4a4a1,_0x2d698f['accessors'],_0x2c325b,_0x2f0bc4,_0x4fc529,_0x107709,_0x3021a6,_0x57f2f3)):[],'meshVariants':_0x4fc529,'meshDefaultMaterials':_0x107709,'promises':_0x57f2f3};},ZD=(_0x159334,_0x37a9a1,_0xc1aeb0)=>{var _0x1915f7,_0x43e2e6,_0x53f29a;if(!_0x159334['hasOwnProp'+'erty']('materials')||_0x159334['materials']['length']===-0xae1+0x1*0x2201+-0x2*0xb90)return[];const _0x12a7db=(_0x1915f7=_0xc1aeb0==null?void(0x89a+-0x5*0x1cd+0x67):_0xc1aeb0['material'])==null?void(0x5c2*-0x5+0xd50+0xf7a):_0x1915f7['preprocess'],_0x11d248=((_0x43e2e6=_0xc1aeb0==null?void(-0x6*-0x3+-0x1eb4+-0x1*-0x1ea2):_0xc1aeb0['material'])==null?void(-0x253*-0xe+0x1*0x1c91+0x3d1b*-0x1):_0x43e2e6['process'])??Dx,_0x15c96a=(_0x53f29a=_0xc1aeb0==null?void(-0x1*-0x2359+0x25a1+-0x247d*0x2):_0xc1aeb0['material'])==null?void(0x2*0xf77+-0x3*-0x657+-0x31f3):_0x53f29a['postproces'+'s'];return _0x159334['materials']['map'](_0x54d719=>{_0x12a7db&&_0x12a7db(_0x54d719);const _0x48b93b=_0x11d248(_0x54d719,_0x37a9a1);return _0x15c96a&&_0x15c96a(_0x54d719,_0x48b93b),_0x48b93b;});},QD=_0x2e77fc=>{if(!_0x2e77fc['hasOwnProp'+'erty']('extensions')||!_0x2e77fc['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x2f9976=_0x2e77fc['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x272ab={};for(let _0x306164=0x1fcd+-0x9aa*0x4+0x6db;_0x306164<_0x2f9976['length'];_0x306164++)_0x272ab[_0x2f9976[_0x306164]['name']]=_0x306164;return _0x272ab;},JD=(_0x337c67,_0x13d5af,_0x3a4d97,_0x5defee)=>{var _0x22fd7b,_0x21fd91;if(!_0x337c67['hasOwnProp'+'erty']('animations')||_0x337c67['animations']['length']===0x103+0x42*-0x13+0x3e3)return[];const _0x3cc8c5=(_0x22fd7b=_0x5defee==null?void(-0x5*0x397+0x23f7+-0x1204):_0x5defee['animation'])==null?void(0x345+0x1fca+-0x230f):_0x22fd7b['preprocess'],_0x1426aa=(_0x21fd91=_0x5defee==null?void(-0x545*0x2+0x67f+0x40b):_0x5defee['animation'])==null?void(0x2d4*0x5+0x1c3f*0x1+-0x2a63):_0x21fd91['postproces'+'s'];return _0x337c67['animations']['map']((_0x12808d,_0x3caddf)=>{_0x3cc8c5&&_0x3cc8c5(_0x12808d);const _0x35a316=WD(_0x12808d,_0x3caddf,_0x337c67['accessors'],_0x3a4d97,_0x13d5af,_0x337c67['meshes'],_0x337c67['nodes']);return _0x1426aa&&_0x1426aa(_0x12808d,_0x35a316),_0x35a316;});},e2=(_0x5b3e92,_0x2507fa,_0x552ef7,_0x4c8720)=>{const _0x27566a=_0x2507fa['accessors'];_0x552ef7['forEach']((_0x156548,_0x4bee1e)=>{const _0x181569=_0x156548['ext']['attributes'];let _0x5cf6c3;if(_0x181569['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x2dac14=_0x27566a[_0x181569['TRANSLATIO'+'N']];_0x5cf6c3=ma(_0x2dac14,_0x4c8720);}let _0x416584;if(_0x181569['hasOwnProp'+'erty']('ROTATION')){const _0x417c0a=_0x27566a[_0x181569['ROTATION']];_0x416584=ma(_0x417c0a,_0x4c8720);}let _0x2d3c91;if(_0x181569['hasOwnProp'+'erty']('SCALE')){const _0x3311de=_0x27566a[_0x181569['SCALE']];_0x2d3c91=ma(_0x3311de,_0x4c8720);}const _0x2bbbaf=(_0x5cf6c3?_0x5cf6c3['length']/(0x18c9+-0x124d+-0x679):0x25c2+-0x8e*-0xc+0x1635*-0x2)||(_0x416584?_0x416584['length']/(-0x12f1*0x2+0x215*0xa+-0x4*-0x445):0x6*0x5aa+-0x1*-0x21c7+-0x43c3)||(_0x2d3c91?_0x2d3c91['length']/(-0x96c+-0x97*-0x31+-0x1378):-0x15cf*-0x1+0x207*-0x7+-0x82*0xf);if(_0x2bbbaf){const _0x153dc0=new Float32Array(_0x2bbbaf*(-0x7f1+-0x2c8*-0x1+0x539)),_0x41eabe=new T(),_0x4f7eff=new se(),_0x4e579f=new T(0x91+0x24bd+-0x254d,0xf5d*0x1+-0x1c3f+0xce3*0x1,-0x96c+-0xa20+0x138d),_0x5dd5f3=new q();let _0x5b8e0a=0x80*0x14+-0x14ff+0xaff;for(let _0x20cb5e=-0x1*-0x140c+-0x1*-0x296+0x1*-0x16a2;_0x20cb5e<_0x2bbbaf;_0x20cb5e++){const _0x5bf4a5=_0x20cb5e*(0x2470+0x5*-0x112+-0x1f13);if(_0x5cf6c3&&_0x41eabe['set'](_0x5cf6c3[_0x5bf4a5],_0x5cf6c3[_0x5bf4a5+(0x1*0x1d72+-0x1*0x1ca3+-0x2*0x67)],_0x5cf6c3[_0x5bf4a5+(0x2*0xd43+0xe3a+-0x28be*0x1)]),_0x416584){const _0x211ac6=_0x20cb5e*(-0xa16+0x169b+0x21*-0x61);_0x4f7eff['set'](_0x416584[_0x211ac6],_0x416584[_0x211ac6+(0x741*-0x3+0x1*-0x16ab+0x2c6f)],_0x416584[_0x211ac6+(-0x2092+-0xdc*0x2d+-0x30*-0x17c)],_0x416584[_0x211ac6+(0xa*-0x1bd+-0x749+-0xea*-0x1b)]);}_0x2d3c91&&_0x4e579f['set'](_0x2d3c91[_0x5bf4a5],_0x2d3c91[_0x5bf4a5+(-0x1e*-0x6+0x13f+-0xa6*0x3)],_0x2d3c91[_0x5bf4a5+(0xa28*-0x1+0x1*-0x9a9+0x13d3)]),_0x5dd5f3['setTRS'](_0x41eabe,_0x4f7eff,_0x4e579f);for(let _0x955c38=0x1*0x5e3+-0x2037+0x14*0x151;_0x955c38<-0xd52+0x100a+0x55*-0x8;_0x955c38++)_0x153dc0[_0x5b8e0a++]=_0x5dd5f3['data'][_0x955c38];}_0x156548['matrices']=_0x153dc0;}});},t2=(_0x508d85,_0xde46a2,_0xfe875c)=>{var _0x2fa35f,_0x331be3,_0x20d518;if(!_0x508d85['hasOwnProp'+'erty']('nodes')||_0x508d85['nodes']['length']===-0xb1+-0x843+0x8f4)return[];const _0x1c04cf=(_0x2fa35f=_0xde46a2==null?void(0x2*0x319+-0x3*0x279+0x139):_0xde46a2['node'])==null?void(0x154*0x1b+0x1a93+-0xb*0x5ad):_0x2fa35f['preprocess'],_0x51a8ac=((_0x331be3=_0xde46a2==null?void(-0x1ae0+-0x1*0x1d95+0x3875):_0xde46a2['node'])==null?void(0xa14+0x448+0x1*-0xe5c):_0x331be3['process'])??qD,_0x390dc9=(_0x20d518=_0xde46a2==null?void(0x2161*0x1+0x19b1+-0x3b12):_0xde46a2['node'])==null?void(-0x1*0x1e6a+0x25*0xf4+0x45*-0x12):_0x20d518['postproces'+'s'],_0x2e7d36=_0x508d85['nodes']['map']((_0x460e6d,_0x529a55)=>{_0x1c04cf&&_0x1c04cf(_0x460e6d);const _0x2ad377=_0x51a8ac(_0x460e6d,_0x529a55,_0xfe875c);return _0x390dc9&&_0x390dc9(_0x460e6d,_0x2ad377),_0x2ad377;});for(let _0xb31142=-0x141*0x4+0x45a*-0x3+0x1212;_0xb31142<_0x508d85['nodes']['length'];++_0xb31142){const _0x25c92f=_0x508d85['nodes'][_0xb31142];if(_0x25c92f['hasOwnProp'+'erty']('children')){const _0x4a2242=_0x2e7d36[_0xb31142],_0x5603cb={};for(let _0x1bd67f=-0x1430+0x20ac+-0xc7c;_0x1bd67f<_0x25c92f['children']['length'];++_0x1bd67f){const _0x2b2702=_0x2e7d36[_0x25c92f['children'][_0x1bd67f]];_0x2b2702['parent']||(_0x5603cb['hasOwnProp'+'erty'](_0x2b2702['name'])?_0x2b2702['name']+=_0x5603cb[_0x2b2702['name']]++:_0x5603cb[_0x2b2702['name']]=-0x525*0x7+-0x1cd*-0xc+0xe68,_0x4a2242['addChild'](_0x2b2702));}}}return _0x2e7d36;},s2=(_0x166bd2,_0x150bea)=>{var _0x164bd5;const _0x403945=[],_0x403846=_0x166bd2['scenes']['length'];if(_0x403846===0xeaa+-0x1*0xfe3+0x1*0x13a&&((_0x164bd5=_0x166bd2['scenes'][-0x1*0x17dd+0xe54+0x989]['nodes'])==null?void(0x1*0x2635+0x15e3+-0xf06*0x4):_0x164bd5['length'])===0x1*-0x943+-0x1db*0x12+0x2*0x1555){const _0x32a9c1=_0x166bd2['scenes'][-0xb*0x19d+-0x1013*-0x2+-0x3*0x4cd]['nodes'][0x19e1+-0xf21+-0xac0];_0x403945['push'](_0x150bea[_0x32a9c1]);}else for(let _0x4a0afa=0xa87+-0x1c61+0x11da;_0x4a0afa<_0x403846;_0x4a0afa++){const _0x27b65f=_0x166bd2['scenes'][_0x4a0afa];if(_0x27b65f['nodes']){const _0x379563=new De(_0x27b65f['name']);for(let _0x5e9985=-0x267*-0x9+-0x22e1*0x1+-0x6a1*-0x2;_0x5e9985<_0x27b65f['nodes']['length'];_0x5e9985++){const _0x486081=_0x150bea[_0x27b65f['nodes'][_0x5e9985]];_0x379563['addChild'](_0x486081);}_0x403945['push'](_0x379563);}}return _0x403945;},i2=(_0x2fd444,_0x364521,_0x1783df)=>{var _0xea2add,_0x29e99a,_0x3acbba;let _0x4c43c5=null;if(_0x2fd444['hasOwnProp'+'erty']('nodes')&&_0x2fd444['hasOwnProp'+'erty']('cameras')&&_0x2fd444['cameras']['length']>-0x659+-0xe33+0x148c){const _0x5ca723=(_0xea2add=_0x1783df==null?void(-0x17e0+0x1727*-0x1+0x2f07):_0x1783df['camera'])==null?void(-0x1*0x1fb3+-0x2107+0x40ba*0x1):_0xea2add['preprocess'],_0x19c3c6=((_0x29e99a=_0x1783df==null?void(0x16e2+0x1f*-0x6a+-0x506*0x2):_0x1783df['camera'])==null?void(0x1*-0x161b+-0x13b0+-0x337*-0xd):_0x29e99a['process'])??XD,_0x20bfe1=(_0x3acbba=_0x1783df==null?void(-0x15b2*0x1+-0x818*-0x4+-0xaae):_0x1783df['camera'])==null?void(0x1abb+0x2408+-0x1*0x3ec3):_0x3acbba['postproces'+'s'];_0x2fd444['nodes']['forEach']((_0x32d1cd,_0x9196b6)=>{if(_0x32d1cd['hasOwnProp'+'erty']('camera')){const _0x10d4b=_0x2fd444['cameras'][_0x32d1cd['camera']];if(_0x10d4b){_0x5ca723&&_0x5ca723(_0x10d4b);const _0x24ae94=_0x19c3c6(_0x10d4b,_0x364521[_0x9196b6]);_0x20bfe1&&_0x20bfe1(_0x10d4b,_0x24ae94),_0x24ae94&&(_0x4c43c5||(_0x4c43c5=new Map()),_0x4c43c5['set'](_0x32d1cd,_0x24ae94));}}});}return _0x4c43c5;},r2=(_0x372fe5,_0x258270,_0x3c3bab)=>{var _0x16ecbe,_0x2a38e5,_0x25ff96;let _0x5c23ef=null;if(_0x372fe5['hasOwnProp'+'erty']('nodes')&&_0x372fe5['hasOwnProp'+'erty']('extensions')&&_0x372fe5['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x372fe5['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x5e2428=_0x372fe5['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x5e2428['length']){const _0x219637=(_0x16ecbe=_0x3c3bab==null?void(-0x633+0xbc1+0x2*-0x2c7):_0x3c3bab['light'])==null?void(-0x1457+0x267*0x1+0x11f0):_0x16ecbe['preprocess'],_0x155e2a=((_0x2a38e5=_0x3c3bab==null?void(-0x3*-0xc11+-0x1*0x1049+-0x1*0x13ea):_0x3c3bab['light'])==null?void(0x26c6+-0x1ffc*0x1+-0x6ca):_0x2a38e5['process'])??jD,_0x336600=(_0x25ff96=_0x3c3bab==null?void(-0x1*-0x1b55+0x2f9*0xd+-0x41fa):_0x3c3bab['light'])==null?void(0x153d*0x1+0x483+-0x19c0):_0x25ff96['postproces'+'s'];_0x372fe5['nodes']['forEach']((_0x56bcc8,_0x47bf94)=>{if(_0x56bcc8['hasOwnProp'+'erty']('extensions')&&_0x56bcc8['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x56bcc8['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x3a2179=_0x56bcc8['extensions']['KHR_lights'+'_punctual']['light'],_0x2039ab=_0x5e2428[_0x3a2179];if(_0x2039ab){_0x219637&&_0x219637(_0x2039ab);const _0x4d1fbf=_0x155e2a(_0x2039ab,_0x258270[_0x47bf94]);_0x336600&&_0x336600(_0x2039ab,_0x4d1fbf),_0x4d1fbf&&(_0x5c23ef||(_0x5c23ef=new Map()),_0x5c23ef['set'](_0x56bcc8,_0x4d1fbf));}}});}}return _0x5c23ef;},n2=(_0x5ec6d3,_0x452658,_0x4096f0)=>{_0x5ec6d3['nodes']['forEach'](_0x160e3a=>{_0x160e3a['hasOwnProp'+'erty']('mesh')&&_0x160e3a['hasOwnProp'+'erty']('skin')&&_0x452658[_0x160e3a['mesh']]['meshes']['forEach'](_0x229783=>{_0x229783['skin']=_0x4096f0[_0x160e3a['skin']];});});},a2=async(_0x42c897,_0x54e036,_0xa4b559,_0x241802,_0x45683d)=>{var _0xea7e0d,_0x423951;const _0x1e6b4a=(_0xea7e0d=_0x45683d==null?void(0x5bd*0x1+-0x2ef+0x2*-0x167):_0x45683d['global'])==null?void(-0x1a58+-0x1144+0x15ce*0x2):_0xea7e0d['preprocess'],_0x5874a6=(_0x423951=_0x45683d==null?void(-0x1340+0x51*0x8+0x10b8):_0x45683d['global'])==null?void(0x1*-0x83e+0x1*-0x1032+0x88*0x2e):_0x423951['postproces'+'s'];_0x1e6b4a&&_0x1e6b4a(_0x54e036),_0x54e036['asset']&&_0x54e036['asset']['generator']==='PlayCanvas'&&v['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x302949=new Map(),_0x10bcc3=t2(_0x54e036,_0x45683d,_0x302949),_0xc23955=s2(_0x54e036,_0x10bcc3),_0x41b299=r2(_0x54e036,_0x10bcc3,_0x45683d),_0x34d594=i2(_0x54e036,_0x10bcc3,_0x45683d),_0xaae473=QD(_0x54e036),_0x54916a=await Promise['all'](_0xa4b559),{meshes:_0x109865,meshVariants:_0x4923b,meshDefaultMaterials:_0x1f837f,promises:_0x443cf1}=KD(_0x42c897,_0x54e036,_0x54916a,_0x45683d),_0x3fb492=JD(_0x54e036,_0x10bcc3,_0x54916a,_0x45683d);e2(_0x42c897,_0x54e036,_0x302949,_0x54916a);const _0x110545=await Promise['all'](_0x241802),_0x3b318e=_0x110545['map'](_0x10fb04=>_0x10fb04['resource']),_0x46c751=ZD(_0x54e036,_0x3b318e,_0x45683d),_0x239fce=YD(_0x42c897,_0x54e036,_0x10bcc3,_0x54916a),_0x4a9f55=[];for(let _0x14fe27=0x69*-0x27+-0xfa9*0x1+-0x1fa8*-0x1;_0x14fe27<_0x109865['length'];_0x14fe27++)_0x4a9f55[_0x14fe27]=new Hp(),_0x4a9f55[_0x14fe27]['meshes']=_0x109865[_0x14fe27];n2(_0x54e036,_0x4a9f55,_0x239fce);const _0x2a7cf3=new SD();return _0x2a7cf3['gltf']=_0x54e036,_0x2a7cf3['nodes']=_0x10bcc3,_0x2a7cf3['scenes']=_0xc23955,_0x2a7cf3['animations']=_0x3fb492,_0x2a7cf3['textures']=_0x110545,_0x2a7cf3['materials']=_0x46c751,_0x2a7cf3['variants']=_0xaae473,_0x2a7cf3['meshVarian'+'ts']=_0x4923b,_0x2a7cf3['meshDefaul'+'tMaterials']=_0x1f837f,_0x2a7cf3['renders']=_0x4a9f55,_0x2a7cf3['skins']=_0x239fce,_0x2a7cf3['lights']=_0x41b299,_0x2a7cf3['cameras']=_0x34d594,_0x2a7cf3['nodeInstan'+'cingMap']=_0x302949,_0x5874a6&&_0x5874a6(_0x54e036,_0x2a7cf3),await Promise['all'](_0x443cf1),_0x2a7cf3;},o2=(_0xb9f0e0,_0x621248)=>{const _0x1c452d=(_0x1f4c22,_0x324b8c)=>{switch(_0x1f4c22){case 0x327*-0xd+-0x4597+0x9492:return de;case 0x4283+0x1*0x2d31+-0x49b3:return st;case-0x10*-0x36d+-0x6*0x607+-0xa2d*-0x2:return fc;case-0x803*0x5+0xd3d*0x5+0xcdf:return mc;case 0xca3*0x1+0x2b2f+-0x10d0:return pc;case 0x2b1c+-0x2207+-0x1*-0x1dee:return nn;default:return _0x324b8c;}},_0x345e08=(_0x7ac0a,_0x1f05e2)=>{switch(_0x7ac0a){case-0xed8+-0x7ccd*0x1+-0x3*-0x599c:return ae;case 0x6f92+-0xa1*-0x49+0x1a0b*-0x1:return Of;case 0x154d+-0x885+0x19*0x121:return tt;default:return _0x1f05e2;}};_0xb9f0e0&&(_0x621248=_0x621248??{},_0xb9f0e0['minFilter']=_0x1c452d(_0x621248['minFilter'],nn),_0xb9f0e0['magFilter']=_0x1c452d(_0x621248['magFilter'],st),_0xb9f0e0['addressU']=_0x345e08(_0x621248['wrapS'],tt),_0xb9f0e0['addressV']=_0x345e08(_0x621248['wrapT'],tt));};let l2=-0x24b9+0x1*-0x2361+0x481a;const vf=_0x1b2dd8=>{var _0x6342e6,_0xfce7b3,_0x37707f,_0x4e93c5;return((_0xfce7b3=(_0x6342e6=_0x1b2dd8['extensions'])==null?void(0xf05+0xb48+-0x1a4d*0x1):_0x6342e6['KHR_textur'+'e_basisu'])==null?void(-0x1827+-0x5c6+0xa3*0x2f):_0xfce7b3['source'])??((_0x4e93c5=(_0x37707f=_0x1b2dd8['extensions'])==null?void(0x1a23*-0x1+-0x6d5+0x20f8):_0x37707f['EXT_textur'+'e_webp'])==null?void(-0x137e+-0xce9+-0x4f*-0x69):_0x4e93c5['source'])??_0x1b2dd8['source'];},h2=(_0x23f33d,_0xf8241d,_0x3d7a4a,_0x559830,_0x57190d)=>{var _0x199404,_0x378412,_0x9633ee;if(!_0x23f33d['images']||_0x23f33d['images']['length']===0x22f5+0x7a9+0x154f*-0x2)return[];const _0x3f200d=(_0x199404=_0x57190d==null?void(0x1*-0x10b4+0x2*0x509+0x351*0x2):_0x57190d['image'])==null?void(0x1*-0xed+0x8ab*0x2+-0x1069):_0x199404['preprocess'],_0x2406da=(_0x378412=_0x57190d==null?void(-0x3ed*-0x9+-0x113*-0xd+-0x314c):_0x57190d['image'])==null?void(0xb50*0x2+-0x4*-0x538+-0x2b80):_0x378412['processAsy'+'nc'],_0x31c89f=(_0x9633ee=_0x57190d==null?void(-0xb8f+-0x248d+0x1*0x301c):_0x57190d['image'])==null?void(0x1be7+-0x246a+0x883):_0x9633ee['postproces'+'s'],_0x578627={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x4e310a=_0x109e03=>{const _0x47e415=new Set();return _0x109e03['hasOwnProp'+'erty']('materials')&&_0x109e03['materials']['forEach'](_0x53ef37=>{if(_0x53ef37['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x4ad714=_0x53ef37['pbrMetalli'+'cRoughness'];if(_0x4ad714['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x2b41dc=_0x109e03['textures'][_0x4ad714['baseColorT'+'exture']['index']];_0x47e415['add'](vf(_0x2b41dc));}}if(_0x53ef37['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x557c62=_0x109e03['textures'][_0x53ef37['emissiveTe'+'xture']['index']];_0x47e415['add'](vf(_0x557c62));}}),_0x47e415;},_0x214642=(_0x41c14d,_0x474734,_0x16537d,_0x141960,_0xebf74,_0x17609e)=>new Promise((_0x4102a8,_0x462e68)=>{const _0x2171d5=_0x1ab276=>{const _0x64d488=(_0x41c14d['name']||'gltf-textu'+'re')+'-'+l2++,_0x2fcf59={'url':_0x474734||_0x64d488};if(_0x1ab276&&(_0x2fcf59['contents']=_0x1ab276['slice'](0x13e3+-0x245e+0x107b)['buffer']),_0x141960){const _0x5a745d=_0x578627[_0x141960];_0x5a745d&&(_0x2fcf59['filename']=_0x2fcf59['url']+'.'+_0x5a745d);}const _0x453969={'srgb':_0x17609e},_0x75dafc=new le(_0x64d488,'texture',_0x2fcf59,_0x453969,_0xebf74);_0x75dafc['on']('load',_0x245ed9=>_0x4102a8(_0x245ed9)),_0x75dafc['on']('error',_0x4629df=>_0x462e68(_0x4629df)),_0x559830['add'](_0x75dafc),_0x559830['load'](_0x75dafc);};_0x16537d?_0x16537d['then'](_0x3ffb41=>_0x2171d5(_0x3ffb41)):_0x2171d5(null);}),_0x5460d2=_0x4e310a(_0x23f33d);return _0x23f33d['images']['map']((_0x4e707f,_0x2da304)=>{_0x3f200d&&_0x3f200d(_0x4e707f);let _0x112526;return _0x2406da?_0x112526=new Promise((_0x159e4e,_0xbfd95)=>{_0x2406da(_0x4e707f,(_0x397adf,_0x2460f8)=>{_0x397adf?_0xbfd95(_0x397adf):_0x159e4e(_0x2460f8);});}):_0x112526=new Promise(_0x1748a=>{_0x1748a(null);}),_0x112526=_0x112526['then'](_0x245f86=>{const _0x33c788=_0x5460d2['has'](_0x2da304);return _0x245f86||(_0x4e707f['hasOwnProp'+'erty']('uri')?Rx(_0x4e707f['uri'])?_0x214642(_0x4e707f,_0x4e707f['uri'],null,vD(_0x4e707f['uri']),null,_0x33c788):_0x214642(_0x4e707f,Da['test'](_0x4e707f['uri'])?_0x4e707f['uri']:fe['join'](_0x3d7a4a,_0x4e707f['uri']),null,null,{'crossOrigin':'anonymous'},_0x33c788):_0x4e707f['hasOwnProp'+'erty']('bufferView')&&_0x4e707f['hasOwnProp'+'erty']('mimeType')?_0x214642(_0x4e707f,null,_0xf8241d[_0x4e707f['bufferView']],_0x4e707f['mimeType'],null,_0x33c788):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x2da304)));}),_0x31c89f&&(_0x112526=_0x112526['then'](_0x129d93=>(_0x31c89f(_0x4e707f,_0x129d93),_0x129d93))),_0x112526;});},c2=(_0x1df6f4,_0x29b62f,_0xfd307c)=>{var _0x273ef4,_0x1a30f4,_0x4583cf,_0x52b9c8,_0xf8f20d;if(!((_0x273ef4=_0x1df6f4==null?void(-0x1aac+0x5*-0x15b+0x2173):_0x1df6f4['images'])!=null&&_0x273ef4['length'])||!((_0x1a30f4=_0x1df6f4==null?void(-0x2446+0x116*-0x13+0x38e8*0x1):_0x1df6f4['textures'])!=null&&_0x1a30f4['length']))return[];const _0x2de927=(_0x4583cf=_0xfd307c==null?void(-0x368+0xf68+0x300*-0x4):_0xfd307c['texture'])==null?void(-0x2465+-0x6b0+0x10d*0x29):_0x4583cf['preprocess'],_0x40c742=(_0x52b9c8=_0xfd307c==null?void(-0x16a*-0x1+0x16a1+-0x180b):_0xfd307c['texture'])==null?void(0x1*0x1f2a+0x2555+-0x447f):_0x52b9c8['processAsy'+'nc'],_0x226192=(_0xf8f20d=_0xfd307c==null?void(-0x17f*-0x3+-0x68c+0x1f*0x11):_0xfd307c['texture'])==null?void(-0xd81+0x1cf8+0x1*-0xf77):_0xf8f20d['postproces'+'s'],_0x2aec58=new Set();return _0x1df6f4['textures']['map'](_0x4c4156=>{_0x2de927&&_0x2de927(_0x4c4156);let _0x412ce1;return _0x40c742?_0x412ce1=new Promise((_0x452fc6,_0x14bc0a)=>{_0x40c742(_0x4c4156,_0x1df6f4['images'],(_0x35e2f0,_0x4ab843)=>{_0x35e2f0?_0x14bc0a(_0x35e2f0):_0x452fc6(_0x4ab843);});}):_0x412ce1=new Promise(_0xa6f421=>{_0xa6f421(null);}),_0x412ce1=_0x412ce1['then'](_0x13568d=>{_0x13568d=_0x13568d??vf(_0x4c4156);const _0xfbfc90=_0x2aec58['has'](_0x13568d);return _0x2aec58['add'](_0x13568d),_0x29b62f[_0x13568d]['then'](_0x2fba53=>{const _0x19a1fb=_0xfbfc90?MD(_0x2fba53):_0x2fba53;return o2(_0x19a1fb['resource'],(_0x1df6f4['samplers']??[])[_0x4c4156['sampler']]),_0x19a1fb;});}),_0x226192&&(_0x412ce1=_0x412ce1['then'](_0x19479d=>(_0x226192(_0x4c4156,_0x19479d),_0x19479d))),_0x412ce1;});},d2=(_0x3ce143,_0x36db68,_0x20eb06,_0x1fa2ff)=>{var _0x1ebaf1,_0x385b31,_0x276d03;if(!_0x3ce143['buffers']||_0x3ce143['buffers']['length']===0xfec+0xc4c*0x1+-0x1c38)return[];const _0x15e1fa=(_0x1ebaf1=_0x1fa2ff==null?void(0x1e4*-0x1+-0xdc9+0xfad):_0x1fa2ff['buffer'])==null?void(0x75b*0x1+0x1*0x4c7+-0xc22):_0x1ebaf1['preprocess'],_0x9f254f=(_0x385b31=_0x1fa2ff==null?void(0x1d*0xf9+0x1511*-0x1+0x2*-0x392):_0x1fa2ff['buffer'])==null?void(-0xf*0x86+-0x7f3+0xfcd):_0x385b31['processAsy'+'nc'],_0x5257a5=(_0x276d03=_0x1fa2ff==null?void(0x32*-0xad+-0x1029+-0x31f3*-0x1):_0x1fa2ff['buffer'])==null?void(-0x10*0x8d+0x14cd+-0xbfd):_0x276d03['postproces'+'s'];return _0x3ce143['buffers']['map']((_0x5bb0e3,_0x407ba9)=>{_0x15e1fa&&_0x15e1fa(_0x5bb0e3);let _0x10fba2;return _0x9f254f?_0x10fba2=new Promise((_0xbd4260,_0x39ab42)=>{_0x9f254f(_0x5bb0e3,(_0x97c42a,_0x2e64f4)=>{_0x97c42a?_0x39ab42(_0x97c42a):_0xbd4260(_0x2e64f4);});}):_0x10fba2=new Promise(_0x33e01c=>{_0x33e01c(null);}),_0x10fba2=_0x10fba2['then'](_0x4c6698=>{if(_0x4c6698)return _0x4c6698;if(_0x5bb0e3['hasOwnProp'+'erty']('uri')){if(Rx(_0x5bb0e3['uri'])){const _0x2d2ea6=atob(_0x5bb0e3['uri']['split'](',')[-0x13*0x115+0x2651*0x1+-0x11c1]),_0x30cc37=new Uint8Array(_0x2d2ea6['length']);for(let _0x3d9923=0x18c3+0x1c37*-0x1+0x374;_0x3d9923<_0x2d2ea6['length'];_0x3d9923++)_0x30cc37[_0x3d9923]=_0x2d2ea6['charCodeAt'](_0x3d9923);return _0x30cc37;}return new Promise((_0x5d06c7,_0x691469)=>{We['get'](Da['test'](_0x5bb0e3['uri'])?_0x5bb0e3['uri']:fe['join'](_0x20eb06,_0x5bb0e3['uri']),{'cache':!(0x1c7+0x1c3f+-0x7*0x44a),'responseType':'arraybuffe'+'r','retry':!(0x77c*0x4+0x8e+-0x1e7d)},(_0x5257c3,_0x2ef60d)=>{_0x5257c3?_0x691469(_0x5257c3):_0x5d06c7(new Uint8Array(_0x2ef60d));});});}return _0x36db68;}),_0x5257a5&&(_0x10fba2=_0x10fba2['then'](_0x2ed87f=>(_0x5257a5(_0x3ce143['buffers'][_0x407ba9],_0x2ed87f),_0x2ed87f))),_0x10fba2;});},u2=(_0x4dfadd,_0x2983e1)=>{const _0x1f5991=JSON['parse']((_0x330204=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x330204);let _0x352880='';for(let _0x5b31a4=-0x1*0x1796+0x8*0x388+-0x4aa;_0x5b31a4<_0x330204['length'];_0x5b31a4++)_0x352880+=String['fromCharCo'+'de'](_0x330204[_0x5b31a4]);return decodeURIComponent(escape(_0x352880));})(_0x4dfadd));if(_0x1f5991['asset']&&_0x1f5991['asset']['version']&&parseFloat(_0x1f5991['asset']['version'])<0x14e6+-0x1c*0xac+0xe*-0x26){_0x2983e1('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x1f5991['asset']['version']+'\x27.');return;}_0x2983e1(null,_0x1f5991);},f2=(_0x3ed022,_0x2367f5)=>{const _0x336e75=_0x3ed022 instanceof ArrayBuffer?new DataView(_0x3ed022):new DataView(_0x3ed022['buffer'],_0x3ed022['byteOffset'],_0x3ed022['byteLength']),_0xa93bf5=_0x336e75['getUint32'](0xfba+-0x1686+-0x57*-0x14,!(-0x7b2+-0x25e+0xa10)),_0x53db84=_0x336e75['getUint32'](0x1e28+0x14*0x92+-0x298c,!(0x267e+0x17bb+0x1*-0x3e39)),_0x3e6bcb=_0x336e75['getUint32'](0x1f71+0xb15*-0x1+-0x1454,!(-0xd*-0x206+-0x1727+-0x327));if(_0xa93bf5!==0x692fe165+0x2504e465+0x3*-0x17f57321){_0x2367f5('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0xa93bf5['toString'](-0x1983+-0x3*0xca2+0x1*0x3f79));return;}if(_0x53db84!==0x1e4a+0x178f*-0x1+0x6b9*-0x1){_0x2367f5('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x53db84);return;}if(_0x3e6bcb<=-0x7f*-0x33+0x1ad*0x2+-0xa3*0x2d||_0x3e6bcb>_0x336e75['byteLength']){_0x2367f5('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x3e6bcb);return;}const _0x18d674=[];let _0x3e095d=-0x162d+-0x11*-0x211+-0x1*0xce8;for(;_0x3e095d<_0x3e6bcb;){const _0x16047d=_0x336e75['getUint32'](_0x3e095d,!(0x4*0x33d+-0x1*-0x26af+-0x33a3));_0x3e095d+_0x16047d+(-0x19*0x5d+0xad9*-0x2+0x1ecf)>_0x336e75['byteLength']&&_0x2367f5('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x16047d);const _0x3b42b8=_0x336e75['getUint32'](_0x3e095d+(0x187+0x1*-0x22bd+0x109d*0x2),!(0x263f+0x25ae+-0x4bed)),_0xc8cb69=new Uint8Array(_0x336e75['buffer'],_0x336e75['byteOffset']+_0x3e095d+(0x7eb+0x149*-0x1d+0x1d62),_0x16047d);_0x18d674['push']({'length':_0x16047d,'type':_0x3b42b8,'data':_0xc8cb69}),_0x3e095d+=_0x16047d+(-0xd*0x17f+0x1f9f*0x1+-0xc24);}if(_0x18d674['length']!==-0x70+-0x1546+-0x1*-0x15b7&&_0x18d674['length']!==-0x1*0x19c5+-0x1*0x3b9+0x80*0x3b){_0x2367f5('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x18d674[-0x1f56+0x26*-0xf4+0x438e]['type']!==0x5a7*-0x182412+-0x206*0x16279d+-0x103975cb6*-0x1){_0x2367f5('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x18d674[-0x1*0x12b3+0x11*-0x16b+0x1*0x2ace]['type']['toString'](0xe*0x293+0x11*0x98+-0x1709*0x2));return;}if(_0x18d674['length']>0x1*0x128+-0x1802+0x16db&&_0x18d674[-0x128d*-0x1+0x4c1*-0x1+-0xdcb]['type']!==-0x872e59+-0x71ef10+0x14766ab){_0x2367f5('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x18d674[0x6b*0x9+-0x1*0x499+-0xd7*-0x1]['type']['toString'](0xefa+-0x3*-0x2a+-0xf68));return;}_0x2367f5(null,{'gltfChunk':_0x18d674[-0x5bc+-0xb90+-0x36*-0x52]['data'],'binaryChunk':_0x18d674['length']===-0x1e3a+0x18cd+0x1*0x56f?_0x18d674[-0x816+0x32*-0xc3+0x2e2d]['data']:null});},p2=(_0x2cc7b3,_0x51cd6e,_0x4171d1)=>{const _0x37043f=()=>{const _0x160a57=new Uint8Array(_0x51cd6e);return _0x160a57[-0xe*-0x20f+-0x2346+-0x1*-0x674]===0x17e*0x9+-0x2*-0xfee+-0x2ce3*0x1&&_0x160a57[0x1fbf+0x75*-0x3f+-0x2f3]===0xe34+0xd5*0x21+-0x293d&&_0x160a57[0x5cc*0x2+-0x22dc+-0x9*-0x296]===-0xcc1+0x24d9+-0x17c4&&_0x160a57[0x146c+-0x1599+0x130]===0x1c78+-0x2*0x1273+0x8b4;};_0x2cc7b3&&_0x2cc7b3['toLowerCas'+'e']()['endsWith']('.glb')||_0x37043f()?f2(_0x51cd6e,_0x4171d1):_0x4171d1(null,{'gltfChunk':_0x51cd6e,'binaryChunk':null});},m2=(_0x27dae6,_0x284c65,_0x174ea3)=>{var _0x3d81a6,_0x5174cb,_0x372719,_0x392970;const _0x4c1200=[],_0x2b2999=(_0x3d81a6=_0x174ea3==null?void(0x1*-0x140b+-0x9*0x1b1+-0x25*-0xf4):_0x174ea3['bufferView'])==null?void(0xd52+0x5*0x269+-0xf*0x1b1):_0x3d81a6['preprocess'],_0x34fe8d=(_0x5174cb=_0x174ea3==null?void(0x187f*-0x1+-0x138d+0x2*0x1606):_0x174ea3['bufferView'])==null?void(0x13b1+0x15fa+0x1*-0x29ab):_0x5174cb['processAsy'+'nc'],_0x501a7c=(_0x372719=_0x174ea3==null?void(0x1*0x11e2+0xb3*0x16+-0x4*0x851):_0x174ea3['bufferView'])==null?void(0x2710+0x13f2+0x53*-0xb6):_0x372719['postproces'+'s'];if(!((_0x392970=_0x27dae6['bufferView'+'s'])!=null&&_0x392970['length']))return _0x4c1200;for(let _0x568e60=-0x1*0x1f97+0x2512+-0x1*0x57b;_0x568e60<_0x27dae6['bufferView'+'s']['length'];++_0x568e60){const _0x239bb8=_0x27dae6['bufferView'+'s'][_0x568e60];_0x2b2999&&_0x2b2999(_0x239bb8);let _0xc9b399;_0x34fe8d?_0xc9b399=new Promise((_0x363be0,_0x4ea723)=>{_0x34fe8d(_0x239bb8,_0x284c65,(_0x3d16ca,_0x2d07c7)=>{_0x3d16ca?_0x4ea723(_0x3d16ca):_0x363be0(_0x2d07c7);});}):_0xc9b399=new Promise(_0x4786=>{_0x4786(null);}),_0xc9b399=_0xc9b399['then'](_0x54a506=>_0x54a506||_0x284c65[_0x239bb8['buffer']]['then'](_0x5dc45f=>new Uint8Array(_0x5dc45f['buffer'],_0x5dc45f['byteOffset']+(_0x239bb8['byteOffset']||0x1131+0x612+0x7c1*-0x3),_0x239bb8['byteLength']))),_0x239bb8['hasOwnProp'+'erty']('byteStride')&&(_0xc9b399=_0xc9b399['then'](_0x37147a=>(_0x37147a['byteStride']=_0x239bb8['byteStride'],_0x37147a))),_0x501a7c&&(_0xc9b399=_0xc9b399['then'](_0x50bc7b=>(_0x501a7c(_0x239bb8,_0x50bc7b),_0x50bc7b))),_0x4c1200['push'](_0xc9b399);}return _0x4c1200;};class tc{static['parse'](_0x341879,_0x62253c,_0x260767,_0x31d9a0,_0xe197fb,_0x406d9a,_0x5df791){p2(_0x341879,_0x260767,(_0x251356,_0x565589)=>{if(_0x251356){_0x5df791(_0x251356);return;}u2(_0x565589['gltfChunk'],(_0x259d1b,_0x53e968)=>{if(_0x259d1b){_0x5df791(_0x259d1b);return;}const _0x288377=d2(_0x53e968,_0x565589['binaryChun'+'k'],_0x62253c,_0x406d9a),_0x595a17=m2(_0x53e968,_0x288377,_0x406d9a),_0x457124=h2(_0x53e968,_0x595a17,_0x62253c,_0xe197fb,_0x406d9a),_0xa6ab86=c2(_0x53e968,_0x457124,_0x406d9a);a2(_0x31d9a0,_0x53e968,_0x595a17,_0xa6ab86,_0x406d9a)['then'](_0x3a63fe=>_0x5df791(null,_0x3a63fe))['catch'](_0x1fb52f=>_0x5df791(_0x1fb52f));});});}static['createDefa'+'ultMateria'+'l'](){return Dx({'name':'defaultGlb'+'Material'},[]);}}class _2 extends Ne{constructor(_0x32d1fd){super(_0x32d1fd,'animation'),this['device']=_0x32d1fd['graphicsDe'+'vice'],this['assets']=_0x32d1fd['assets'];}['load'](_0x58e74d,_0x163931,_0x5ec1a7){typeof _0x58e74d=='string'&&(_0x58e74d={'load':_0x58e74d,'original':_0x58e74d});const _0x376e57={'retry':this['maxRetries']>0x2*0x286+0x515+0xa21*-0x1,'maxRetries':this['maxRetries']};(_0x58e74d['load']['startsWith']('blob:')||_0x58e74d['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x58e74d['original'])['toLowerCas'+'e']()==='.glb'?_0x376e57['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x376e57['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x58e74d['load'],_0x376e57,(_0x451a9c,_0x21c09a)=>{_0x451a9c?_0x163931('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x58e74d['original']+'\x20['+_0x451a9c+']'):fe['getExtensi'+'on'](_0x58e74d['original'])['toLowerCas'+'e']()==='.glb'?tc['parse']('filename.g'+'lb','',_0x21c09a,this['device'],this['assets'],(_0x5ec1a7==null?void(-0x1bfe+-0x20ce+0x3ccc):_0x5ec1a7['options'])??{},(_0x4573da,_0x23308a)=>{var _0x5b8170;if(_0x4573da)_0x163931(_0x4573da);else{const _0x1bd088=_0x23308a['animations'];if((_0x5b8170=_0x5ec1a7==null?void(0x1*-0x23fc+0x1a*0x95+0x14da):_0x5ec1a7['data'])!=null&&_0x5b8170['events']){for(let _0xd923ea=0x10c0+-0x13de+0x3*0x10a;_0xd923ea<_0x1bd088['length'];_0xd923ea++)_0x1bd088[_0xd923ea]['events']=new Y0(Object['values'](_0x5ec1a7['data']['events']));}_0x23308a['destroy'](),_0x163931(null,_0x1bd088);}}):_0x163931(null,this['_parseAnim'+'ationV'+_0x21c09a['animation']['version']](_0x21c09a));});}['open'](_0x260a22,_0x5c4a70,_0x553235){return _0x5c4a70;}['_parseAnim'+'ationV3'](_0x5279f3){const _0x2d2128=_0x5279f3['animation'],_0x2e9d82=new k_();_0x2e9d82['name']=_0x2d2128['name'],_0x2e9d82['duration']=_0x2d2128['duration'];for(let _0x1408a2=-0x656+-0x4b9*0x1+0x95*0x13;_0x1408a2<_0x2d2128['nodes']['length'];_0x1408a2++){const _0x514ec1=new O_(),_0x24193a=_0x2d2128['nodes'][_0x1408a2];_0x514ec1['_name']=_0x24193a['name'];for(let _0x2e34f5=0x1aeb*-0x1+-0x1*0x24bf+0x3faa;_0x2e34f5<_0x24193a['keys']['length'];_0x2e34f5++){const _0x1542e3=_0x24193a['keys'][_0x2e34f5],_0x3c5c45=_0x1542e3['time'],_0x47ae55=_0x1542e3['pos'],_0xfc58bc=_0x1542e3['rot'],_0x2e98b5=_0x1542e3['scale'],_0x270ee0=new T(_0x47ae55[-0x1*0x14cb+-0x1776+-0x1*-0x2c41],_0x47ae55[0x1c03+-0xab*0x11+-0x10a7],_0x47ae55[-0x18cd*-0x1+0x5e*0x47+0x32dd*-0x1]),_0x29b5c1=new se()['setFromEul'+'erAngles'](_0xfc58bc[0x2d*-0x6f+0x99e*0x1+-0x1*-0x9e5],_0xfc58bc[-0x2c1+-0x20cd+0x238f],_0xfc58bc[-0x1*-0x3bb+-0x1889+0x14d0]),_0x1addb3=new T(_0x2e98b5[0x1*0x1334+-0x2*-0x7bb+-0x22aa],_0x2e98b5[0x1a9d+0x3*0x2c1+-0x71*0x4f],_0x2e98b5[-0x995+0x10de+-0x747]),_0x40d215=new F_(_0x3c5c45,_0x270ee0,_0x29b5c1,_0x1addb3);_0x514ec1['_keys']['push'](_0x40d215);}_0x2e9d82['addNode'](_0x514ec1);}return _0x2e9d82;}['_parseAnim'+'ationV4'](_0x155ebb){const _0x4936b2=_0x155ebb['animation'],_0x255dcd=new k_();_0x255dcd['name']=_0x4936b2['name'],_0x255dcd['duration']=_0x4936b2['duration'];for(let _0x21f165=-0x20aa+0x2*-0xc3a+0x391e;_0x21f165<_0x4936b2['nodes']['length'];_0x21f165++){const _0x57e916=new O_(),_0x3b6ce3=_0x4936b2['nodes'][_0x21f165];_0x57e916['_name']=_0x3b6ce3['name'];const _0x63ac65=_0x3b6ce3['defaults']['p'],_0x159b2a=_0x3b6ce3['defaults']['r'],_0x3a5481=_0x3b6ce3['defaults']['s'];for(let _0x3c2a10=0x119*-0x1f+0xc60+0x15a7;_0x3c2a10<_0x3b6ce3['keys']['length'];_0x3c2a10++){const _0x4ab20b=_0x3b6ce3['keys'][_0x3c2a10],_0x339ee5=_0x4ab20b['t'],_0x1bb857=_0x63ac65||_0x4ab20b['p'],_0x9cf08a=_0x159b2a||_0x4ab20b['r'],_0x9fe2cb=_0x3a5481||_0x4ab20b['s'],_0x22fa48=new T(_0x1bb857[0x3*0x9cd+0x1*0x25f7+-0x435e],_0x1bb857[0xb2a+0xf07*0x1+-0x2*0xd18],_0x1bb857[0x9b7+-0x25c1+-0x167*-0x14]),_0xc6ed5=new se()['setFromEul'+'erAngles'](_0x9cf08a[-0xa18+0x120b+-0x25*0x37],_0x9cf08a[-0x35*0x5b+0xb1+0x1227],_0x9cf08a[0x1db7+0x1380+-0x3135]),_0x4f1866=new T(_0x9fe2cb[-0x28*-0x49+0x255c*-0x1+0x19f4],_0x9fe2cb[-0x17f0*0x1+0x1b58+0x43*-0xd],_0x9fe2cb[0x257d+-0xc*-0x147+0xb*-0x4cd]),_0x1d6e70=new F_(_0x339ee5,_0x22fa48,_0xc6ed5,_0x4f1866);_0x57e916['_keys']['push'](_0x1d6e70);}_0x255dcd['addNode'](_0x57e916);}return _0x255dcd;}}class g2 extends Ne{constructor(_0x43d3b1){super(_0x43d3b1,'animclip');}['load'](_0x2fdcd4,_0x118084){typeof _0x2fdcd4=='string'&&(_0x2fdcd4={'load':_0x2fdcd4,'original':_0x2fdcd4});const _0x4b72d4={'retry':this['maxRetries']>-0x42*0x41+0xc63+0x45f,'maxRetries':this['maxRetries']};_0x2fdcd4['load']['startsWith']('blob:')&&(_0x4b72d4['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x2fdcd4['load'],_0x4b72d4,(_0x4a5dda,_0x3bcbf7)=>{_0x4a5dda?_0x118084('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x2fdcd4['original']+'\x20['+_0x4a5dda+']'):_0x118084(null,_0x3bcbf7);});}['open'](_0x4ef7d4,_0x3ca3d2){const _0x7278ef=_0x3ca3d2['name'],_0x415559=_0x3ca3d2['duration'],_0x47f210=_0x3ca3d2['inputs']['map'](_0x147ff6=>new Jh(-0x261+-0xbc6+0xe28,_0x147ff6)),_0x1a740d=_0x3ca3d2['outputs']['map'](_0x3eaf92=>new Jh(_0x3eaf92['components'],_0x3eaf92['data'])),_0x4af1ec=_0x3ca3d2['curves']['map'](_0x2d5518=>new Px([_0x2d5518['path']],_0x2d5518['inputIndex'],_0x2d5518['outputInde'+'x'],_0x2d5518['interpolat'+'ion']));return new Ri(_0x7278ef,_0x415559,_0x47f210,_0x1a740d,_0x4af1ec);}}class y2 extends Ne{constructor(_0x3ec5a2){super(_0x3ec5a2,'animstateg'+'raph');}['load'](_0x21e56a,_0x3da680){typeof _0x21e56a=='string'&&(_0x21e56a={'load':_0x21e56a,'original':_0x21e56a});const _0x575367={'retry':this['maxRetries']>-0x18ad+-0x503+0x2*0xed8,'maxRetries':this['maxRetries']};_0x21e56a['load']['startsWith']('blob:')&&(_0x575367['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x21e56a['load'],_0x575367,(_0x3c5825,_0x4446d4)=>{_0x3c5825?_0x3da680('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x21e56a['original']+'\x20['+_0x3c5825+']'):_0x3da680(null,_0x4446d4);});}['open'](_0x15b994,_0x48e751){return new mh(_0x48e751);}}const Qd=(function(){if(typeof window>'u')return!(0xc2f+-0x7*0x571+0x19e9);const _0x3ebb1a=window['navigator']['userAgent'],_0x3ef226=_0x3ebb1a['indexOf']('MSIE\x20');if(_0x3ef226>-0x28+0x1648+-0xc*0x1d8)return parseInt(_0x3ebb1a['substring'](_0x3ef226+(0x2041+0x25*0xb3+0xb9f*-0x5),_0x3ebb1a['indexOf']('.',_0x3ef226)),-0x22c8+-0x883*-0x4+0xc6);if(_0x3ebb1a['indexOf']('Trident/')>0x186d+-0x3*-0x9d0+-0x35dd){const _0x42e16b=_0x3ebb1a['indexOf']('rv:');return parseInt(_0x3ebb1a['substring'](_0x42e16b+(0x196*-0xd+-0x2587+-0x4*-0xe8a),_0x3ebb1a['indexOf']('.',_0x42e16b)),-0xa3*-0x3a+-0x1d03+-0x7e1);}return!(-0x56*0x2b+0x11af+-0x2e*0x12);}()),x2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class S2 extends Ne{constructor(_0x5d216f){super(_0x5d216f,'audio'),this['manager']=_0x5d216f['soundManag'+'er'],v['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x8db826){const _0x46b450=fe['getExtensi'+'on'](_0x8db826);return x2['indexOf'](_0x46b450)>-(0x14ae+-0x1f*0x9+-0x2e*0x6d)||_0x8db826['startsWith']('blob:');}['load'](_0x592ff4,_0x1f5a20){typeof _0x592ff4=='string'&&(_0x592ff4={'load':_0x592ff4,'original':_0x592ff4});const _0x58c1d0=function(_0x106ba7){_0x1f5a20(null,new Bb(_0x106ba7));},_0x23500e=function(_0x4c34aa){let _0x189dac='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x592ff4['original'];_0x4c34aa&&(_0x189dac+=':\x20'+(_0x4c34aa['message']||_0x4c34aa)),console['warn'](_0x189dac),_0x1f5a20(_0x189dac);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x592ff4['original'])){_0x23500e('Audio\x20form'+'at\x20for\x20'+_0x592ff4['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x592ff4['load'],_0x58c1d0,_0x23500e);}else _0x23500e(null);}['_createSou'+'nd'](_0x57ad20,_0x43f3e7,_0x5e484b){if(Li()){const _0x506193=this['manager'];if(!_0x506193['context']){_0x5e484b('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x567cb0={'retry':this['maxRetries']>-0x3b*0x27+0x5*0x202+-0x10d,'maxRetries':this['maxRetries']};(_0x57ad20['startsWith']('blob:')||_0x57ad20['startsWith']('data:'))&&(_0x567cb0['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),We['get'](_0x57ad20,_0x567cb0,(_0x20d163,_0x57db55)=>{if(_0x20d163){_0x5e484b(_0x20d163);return;}_0x506193['context']['decodeAudi'+'oData'](_0x57db55,_0x43f3e7,_0x5e484b);});}else{let _0x289129=null;try{_0x289129=new Audio();}catch{_0x5e484b('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Qd&&document['body']['appendChil'+'d'](_0x289129);const _0x50f15c=function(){_0x289129['removeEven'+'tListener']('canplaythr'+'ough',_0x50f15c),Qd&&document['body']['removeChil'+'d'](_0x289129),_0x43f3e7(_0x289129);};_0x289129['onerror']=function(){_0x289129['onerror']=null,Qd&&document['body']['removeChil'+'d'](_0x289129),_0x5e484b();},_0x289129['addEventLi'+'stener']('canplaythr'+'ough',_0x50f15c),_0x289129['src']=_0x57ad20;}}}class v2 extends Ne{constructor(_0x274c41){super(_0x274c41,'binary');}['load'](_0xe05289,_0x33481d){typeof _0xe05289=='string'&&(_0xe05289={'load':_0xe05289,'original':_0xe05289}),We['get'](_0xe05289['load'],{'responseType':ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x4*-0x7dd+0x1*-0x2504+0x10*0x59,'maxRetries':this['maxRetries']},(_0x51ab29,_0x22b82f)=>{_0x51ab29?_0x33481d('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0xe05289['original']+'\x20['+_0x51ab29+']'):_0x33481d(null,_0x22b82f);});}['openBinary'](_0x461d47){return _0x461d47['buffer'];}}class tr{constructor(_0x35f0c8,_0x107635,_0x3cc91b,_0x54b017){const _0x4bf494=function(_0x575e1d,_0x2e94df,_0x36f597){const _0x3c57e1=tr['createAsse'+'t'](_0x107635['name'],_0x575e1d,_0x2e94df,_0x36f597);return _0x3cc91b['add'](_0x3c57e1),_0x3c57e1;},_0x741817=[];for(let _0x2274dd=-0x114a+0x14db+-0x391;_0x2274dd<_0x35f0c8['renders']['length'];++_0x2274dd)_0x741817['push'](_0x4bf494('render',_0x35f0c8['renders'][_0x2274dd],_0x2274dd));const _0x498a64=[];for(let _0xe0fe4d=-0x21a8+0x24b0+-0x8*0x61;_0xe0fe4d<_0x35f0c8['materials']['length'];++_0xe0fe4d)_0x498a64['push'](_0x4bf494('material',_0x35f0c8['materials'][_0xe0fe4d],_0xe0fe4d));const _0xfc3db1=[];for(let _0x4de474=0x1*-0x16eb+0x126d*-0x1+0x2958;_0x4de474<_0x35f0c8['animations']['length'];++_0x4de474)_0xfc3db1['push'](_0x4bf494('animation',_0x35f0c8['animations'][_0x4de474],_0x4de474));this['data']=_0x35f0c8,this['_model']=null,this['_assetName']=_0x107635['name'],this['_assets']=_0x3cc91b,this['_defaultMa'+'terial']=_0x54b017,this['renders']=_0x741817,this['materials']=_0x498a64,this['textures']=_0x35f0c8['textures'],this['animations']=_0xfc3db1;}get['model'](){if(!this['_model']){const _0x52ba5b=tr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x1f618d=tr['createAsse'+'t'](this['_assetName'],'model',_0x52ba5b,0x21*0xb9+-0x3*0x963+0x17*0x30);this['_assets']['add'](_0x1f618d),this['_model']=_0x1f618d;}return this['_model'];}static['createAsse'+'t'](_0x24acaf,_0x54e754,_0x47d86d,_0x207659){const _0x6154fd=new le(_0x24acaf+'/'+_0x54e754+'/'+_0x207659,_0x54e754,{'url':''});return _0x6154fd['resource']=_0x47d86d,_0x6154fd['loaded']=!(-0x1205*-0x1+0x233*-0x5+-0x383*0x2),_0x6154fd;}['instantiat'+'eModelEnti'+'ty'](_0x4e9073){const _0x45d3e9=new $e();return _0x45d3e9['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x4e9073)),_0x45d3e9;}['instantiat'+'eRenderEnt'+'ity'](_0x32b8b8){const _0x5cab5b=this['_defaultMa'+'terial'],_0x5b5df1=[],_0x27e7bb=function(_0x232697,_0x207a4b,_0x567bf9,_0x1b0f4a,_0x36b73e,_0x273c87,_0x52a35a,_0x2962c4){const _0xe6669e=_0x36b73e[_0x567bf9['id']],_0x8b182=_0xe6669e===void(0x1f4d+-0x21a2+0x255*0x1)?_0x5cab5b:_0x1b0f4a[_0xe6669e],_0xd02880=new Le(_0x567bf9,_0x8b182);_0x567bf9['morph']&&(_0xd02880['morphInsta'+'nce']=new fn(_0x567bf9['morph'])),_0x52a35a['hasOwnProp'+'erty']('skin')&&_0x5b5df1['push']({'meshInstance':_0xd02880,'rootBone':_0x232697,'entity':_0x207a4b});const _0x3e6716=_0x2962c4['get'](_0x52a35a);if(_0x3e6716){const _0x6737f4=_0x3e6716['matrices'],_0x5c3703=Et['getDefault'+'Instancing'+'Format'](_0x567bf9['device']),_0x3ba0f1=new os(_0x567bf9['device'],_0x5c3703,_0x6737f4['length']/(0xb83+0x5*-0xdf+-0x718),{'data':_0x6737f4});_0xd02880['setInstanc'+'ing'](_0x3ba0f1),_0xd02880['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x17f*-0x1+0x513*-0x1+0x394);}return _0xd02880;},_0x51b415=(_0x32a760,_0xc84609,_0x4e30b9)=>{const _0x42b85f=new $e();_0xc84609['_cloneInte'+'rnal'](_0x42b85f),_0x32a760||(_0x32a760=_0x42b85f);let _0x1f3085=null,_0x5a90e2=null;for(let _0x2d02b9=0x13b3*0x1+-0x14f+-0x1264;_0x2d02b9<_0x4e30b9['nodes']['length'];_0x2d02b9++)if(_0x4e30b9['nodes'][_0x2d02b9]===_0xc84609){const _0x2c2635=_0x4e30b9['gltf']['nodes'][_0x2d02b9];if(_0x2c2635['hasOwnProp'+'erty']('mesh')){const _0xe4daff=_0x4e30b9['renders'][_0x2c2635['mesh']]['meshes'];_0x5a90e2=this['renders'][_0x2c2635['mesh']];for(let _0x19dd81=0xb9b+-0x2*-0xc5f+-0x2459;_0x19dd81<_0xe4daff['length'];_0x19dd81++){const _0x1e29c0=_0xe4daff[_0x19dd81];if(_0x1e29c0){const _0x44ecc9=_0x27e7bb(_0x32a760,_0x42b85f,_0x1e29c0,_0x4e30b9['materials'],_0x4e30b9['meshDefaul'+'tMaterials'],_0x4e30b9['skins'],_0x2c2635,_0x4e30b9['nodeInstan'+'cingMap']);_0x1f3085||(_0x1f3085=[]),_0x1f3085['push'](_0x44ecc9);}}}if(_0x4e30b9['lights']){const _0x2f3a2c=_0x4e30b9['lights']['get'](_0x2c2635);_0x2f3a2c&&_0x42b85f['addChild'](_0x2f3a2c['clone']());}if(_0x4e30b9['cameras']){const _0x230c55=_0x4e30b9['cameras']['get'](_0x2c2635);_0x230c55&&_0x230c55['camera']['system']['cloneCompo'+'nent'](_0x230c55,_0x42b85f);}}_0x1f3085&&(_0x42b85f['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x1f3085},_0x32b8b8)),_0x42b85f['render']['assignAsse'+'t'](_0x5a90e2));const _0x43fb4a=_0xc84609['children'];for(let _0x203576=0x1668+-0x1*0xba5+-0xac3;_0x203576<_0x43fb4a['length'];_0x203576++){const _0x16d61f=_0x51b415(_0x32a760,_0x43fb4a[_0x203576],_0x4e30b9);_0x42b85f['addChild'](_0x16d61f);}return _0x42b85f;},_0x54e705=[];for(const _0x3b7d34 of this['data']['scenes'])_0x54e705['push'](_0x51b415(null,_0x3b7d34,this['data']));return _0x5b5df1['forEach'](_0x5000e9=>{_0x5000e9['meshInstan'+'ce']['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x5000e9['meshInstan'+'ce']['mesh']['skin'],_0x5000e9['rootBone'],_0x5000e9['entity']),_0x5000e9['meshInstan'+'ce']['node']['render']['rootBone']=_0x5000e9['rootBone'];}),tr['createScen'+'eHierarchy'](_0x54e705,$e);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x4d1d4d,_0x1ef6af){const _0x34c747=_0x1ef6af?this['data']['variants'][_0x1ef6af]:null;if(_0x34c747===void(-0x1c51+0x3*0x275+-0x14f2*-0x1)){v['warn']('No\x20variant'+'\x20named\x20'+_0x1ef6af+('\x20exists\x20in'+'\x20resource'));return;}const _0x505d17=_0x4d1d4d['findCompon'+'ents']('render');for(let _0x2353cb=0x131c+-0x22e5*0x1+-0x9*-0x1c1;_0x2353cb<_0x505d17['length'];_0x2353cb++){const _0x2b819e=_0x505d17[_0x2353cb];this['_applyMate'+'rialVarian'+'t'](_0x34c747,_0x2b819e['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x1a3d1e,_0x403d29){const _0x3167e7=_0x403d29?this['data']['variants'][_0x403d29]:null;if(_0x3167e7===void(0x3f+0xdb5+-0xdf4)){v['warn']('No\x20variant'+'\x20named\x20'+_0x403d29+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x3167e7,_0x1a3d1e);}['_applyMate'+'rialVarian'+'t'](_0x1bb0b1,_0x3f0c51){_0x3f0c51['forEach'](_0x6a37e7=>{if(_0x1bb0b1===null)_0x6a37e7['material']=this['_defaultMa'+'terial'];else{const _0x4d1c71=this['data']['meshVarian'+'ts'][_0x6a37e7['mesh']['id']];_0x4d1c71&&(_0x6a37e7['material']=this['data']['materials'][_0x4d1c71[_0x1bb0b1]]);}v['assert'](_0x6a37e7['material']);});}static['createScen'+'eHierarchy'](_0x230ff7,_0x5016f4){let _0x2305e9=null;if(_0x230ff7['length']===0x4d1+0x5*0x1c1+-0xd95)_0x2305e9=_0x230ff7[0xc9d*-0x1+-0x1*-0x1b3b+-0xe9e];else{_0x2305e9=new _0x5016f4('SceneGroup');for(const _0x4ae2cb of _0x230ff7)_0x2305e9['addChild'](_0x4ae2cb);}return _0x2305e9;}static['createMode'+'l'](_0x57d6a3,_0x193fe1){const _0x5eceae=function(_0x49ce8c,_0x46d585,_0x5ed0e9,_0x13f942,_0x4cc945,_0x22e799,_0x4192cc){const _0x52350b=_0x57d6a3['meshDefaul'+'tMaterials'][_0x46d585['id']],_0x52d568=_0x52350b===void(-0x11a7*-0x1+-0x223*-0x7+-0x209c)?_0x193fe1:_0x4cc945[_0x52350b],_0x4aa43a=new Le(_0x46d585,_0x52d568,_0x22e799);if(_0x46d585['morph']){const _0x5b3d50=new fn(_0x46d585['morph']);_0x4aa43a['morphInsta'+'nce']=_0x5b3d50,_0x49ce8c['morphInsta'+'nces']['push'](_0x5b3d50);}if(_0x4192cc['hasOwnProp'+'erty']('skin')){const _0x4635d1=_0x4192cc['skin'],_0x48fb90=_0x5ed0e9[_0x4635d1];_0x46d585['skin']=_0x48fb90;const _0x108f5a=_0x13f942[_0x4635d1];_0x4aa43a['skinInstan'+'ce']=_0x108f5a,_0x49ce8c['skinInstan'+'ces']['push'](_0x108f5a);}_0x49ce8c['meshInstan'+'ces']['push'](_0x4aa43a);},_0x75d894=new Oi(),_0x31506a=[];for(const _0x33fa93 of _0x57d6a3['skins']){const _0x442ba9=new nl(_0x33fa93);_0x442ba9['bones']=_0x33fa93['bones'],_0x31506a['push'](_0x442ba9);}_0x75d894['graph']=tr['createScen'+'eHierarchy'](_0x57d6a3['scenes'],De);for(let _0x351802=-0x2*0x7d3+-0xd81+-0x1d27*-0x1;_0x351802<_0x57d6a3['nodes']['length'];_0x351802++){const _0x344076=_0x57d6a3['nodes'][_0x351802];if(_0x344076['root']===_0x75d894['graph']){const _0x3bcda2=_0x57d6a3['gltf']['nodes'][_0x351802];if(_0x3bcda2['hasOwnProp'+'erty']('mesh')){const _0x6f9ec0=_0x57d6a3['renders'][_0x3bcda2['mesh']]['meshes'];for(let _0x4f7515=0x22d2+0x1*0x216e+-0x4440;_0x4f7515<_0x6f9ec0['length'];_0x4f7515++){const _0x3cc0be=_0x6f9ec0[_0x4f7515];_0x3cc0be&&_0x5eceae(_0x75d894,_0x3cc0be,_0x57d6a3['skins'],_0x31506a,_0x57d6a3['materials'],_0x344076,_0x3bcda2);}}}}return _0x75d894;}['destroy'](){const _0x5b0d2f=this['_assets'],_0x79c883=function(_0x42646e){_0x5b0d2f['remove'](_0x42646e),_0x42646e['unload']();},_0x1012ce=function(_0x5f14f2){_0x5f14f2['forEach'](_0x3e33e6=>{_0x79c883(_0x3e33e6);});};this['animations']&&(_0x1012ce(this['animations']),this['animations']=null),this['textures']&&(_0x1012ce(this['textures']),this['textures']=null),this['materials']&&(_0x1012ce(this['materials']),this['materials']=null),this['renders']&&(_0x1012ce(this['renders']),this['renders']=null),this['_model']&&(_0x79c883(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class b2{constructor(_0x455992,_0x5bc2dd,_0x399f9a){this['_device']=_0x455992,this['_assets']=_0x5bc2dd,this['_defaultMa'+'terial']=tc['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x399f9a;}['_getUrlWit'+'houtParams'](_0x56c07e){return _0x56c07e['indexOf']('?')>=-0x62e+-0x57*0x1+-0x1*-0x685?_0x56c07e['split']('?')[0x9da+0x86d*0x4+-0x1be*0x19]:_0x56c07e;}['load'](_0x229030,_0x2dc807,_0x329e12){le['fetchArray'+'Buffer'](_0x229030['load'],(_0x5f23ce,_0x22fd99)=>{_0x5f23ce?_0x2dc807(_0x5f23ce):tc['parse'](this['_getUrlWit'+'houtParams'](_0x229030['original']),fe['extractPat'+'h'](_0x229030['load']),_0x22fd99,this['_device'],_0x329e12['registry'],_0x329e12['options'],(_0x226809,_0x5288c5)=>{_0x226809?_0x2dc807(_0x226809):_0x2dc807(null,new tr(_0x5288c5,_0x329e12,this['_assets'],this['_defaultMa'+'terial']));});},_0x329e12,this['maxRetries']);}['open'](_0x415f0f,_0x545f03,_0xe18ca0){return _0x545f03;}['patch'](_0x4d8498,_0x1b12c6){}}class w2 extends Ne{constructor(_0x5ed5d3){super(_0x5ed5d3,'container'),this['glbContain'+'erParser']=new b2(_0x5ed5d3['graphicsDe'+'vice'],_0x5ed5d3['assets'],-0x19d5+-0x1731+-0x1f6*-0x19),this['parsers']={};}set['maxRetries'](_0x58ff58){this['glbContain'+'erParser']['maxRetries']=_0x58ff58;for(const _0x2f5c75 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x2f5c75)&&(this['parsers'][_0x2f5c75]['maxRetries']=_0x58ff58);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x170661){return _0x170661['indexOf']('?')>=0x7f6+-0x2017+-0x80b*-0x3?_0x170661['split']('?')[-0x1b87+0xd88+0xdff]:_0x170661;}['_getParser'](_0x4c4c4c){const _0x5a8183=_0x4c4c4c?fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x4c4c4c))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x5a8183]||this['glbContain'+'erParser'];}['load'](_0x2aa9ef,_0xb69076,_0x4a1249){typeof _0x2aa9ef=='string'&&(_0x2aa9ef={'load':_0x2aa9ef,'original':_0x2aa9ef}),this['_getParser'](_0x2aa9ef['original'])['load'](_0x2aa9ef,_0xb69076,_0x4a1249);}['open'](_0x3690b3,_0x5089e8,_0x1c98c2){return this['_getParser'](_0x3690b3)['open'](_0x3690b3,_0x5089e8,_0x1c98c2);}}class T2 extends Ne{constructor(_0x43fddb){super(_0x43fddb,'css'),c(this,'decoder',null);}['load'](_0x22bcb8,_0x14b6f5){typeof _0x22bcb8=='string'&&(_0x22bcb8={'load':_0x22bcb8,'original':_0x22bcb8}),We['get'](_0x22bcb8['load'],{'retry':this['maxRetries']>-0x29d+-0x5f*0x27+0x1*0x1116,'maxRetries':this['maxRetries']},(_0x5ee2d3,_0x29baac)=>{_0x5ee2d3?_0x14b6f5('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x22bcb8['original']+'\x20['+_0x5ee2d3+']'):_0x14b6f5(null,_0x29baac);});}['openBinary'](_0x33db0a){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x33db0a);}}class A2 extends Ne{constructor(_0x3bf0f5){super(_0x3bf0f5,'cubemap'),this['_device']=_0x3bf0f5['graphicsDe'+'vice'],this['_registry']=_0x3bf0f5['assets'],this['_loader']=_0x3bf0f5['loader'];}['load'](_0x1831b5,_0x29c1ec,_0x1844c9){this['loadAssets'](_0x1844c9,_0x29c1ec);}['open'](_0x2b1a3d,_0x309339,_0x116767){return _0x116767?_0x116767['resource']:null;}['patch'](_0x464afc,_0x1d6a8d){this['loadAssets'](_0x464afc,(_0x3d425f,_0x4c6afe)=>{_0x3d425f&&(_0x1d6a8d['fire']('error',_0x464afc),_0x1d6a8d['fire']('error:'+_0x464afc['id'],_0x3d425f,_0x464afc),_0x464afc['fire']('error',_0x464afc));});}['getAssetId'+'s'](_0x3ebd2d){const _0x249831=[];if(_0x249831[-0x1e4a+-0x1*0x2013+0x3e5d]=_0x3ebd2d['file'],(_0x3ebd2d['loadFaces']||!_0x3ebd2d['file'])&&_0x3ebd2d['data']&&_0x3ebd2d['data']['textures']){for(let _0x354d08=0x1090+-0x62+0x6d*-0x26;_0x354d08<0xb8f*-0x1+-0x2*0x90b+-0x1dab*-0x1;++_0x354d08)_0x249831[_0x354d08+(-0x209+0xee9+0x293*-0x5)]=_0x3ebd2d['data']['textures'][_0x354d08];}else _0x249831[-0x1e50+0x1a4+-0x98f*-0x3]=_0x249831[-0xec5+-0x9c0+-0x45*-0x5b]=_0x249831[-0x24d5+0x231b+0x1bd]=_0x249831[-0x661*-0x2+-0x1*-0x1f51+-0x2c0f]=_0x249831[-0x1a04+-0x2b*-0x2e+0x124f]=_0x249831[0x843*0x1+0x5*0x62b+-0x2714]=null;return _0x249831;}['compareAss'+'etIds'](_0x4fe16e,_0x65708){return _0x4fe16e&&_0x65708?parseInt(_0x4fe16e,0x1*0x1c79+0x188b+-0x34fa)===_0x4fe16e||typeof _0x4fe16e=='string'?_0x4fe16e===_0x65708:_0x4fe16e['url']===_0x65708['url']:_0x4fe16e!==null==(_0x65708!==null);}['update'](_0x3174b3,_0x47375d,_0x1162be){const _0x1b38ad=_0x3174b3['data']||{},_0x54e031=_0x3174b3['_handlerSt'+'ate']['assets'],_0x1aba38=_0x3174b3['_resources'];let _0x57bb4c,_0x484932,_0x1bdd9f;const _0x5e76be=[null,null,null,null,null,null,null],_0x1b07c1=function(){return _0x1b38ad['hasOwnProp'+'erty']('type')?_0x1b38ad['type']:_0x1b38ad['hasOwnProp'+'erty']('rgbm')?_0x1b38ad['rgbm']?on:Di:null;};if(!_0x3174b3['loaded']||_0x1162be[-0x1deb+0x1*-0x11e3+0x3a*0xd3]!==_0x54e031[-0x12c8+-0x5d9+0x18a1]){if(_0x1162be[-0x26*0x79+-0x5*-0x51c+-0x3cb*0x2]){if(_0x57bb4c=_0x1162be[-0x1b85+-0x1313+0x2e98]['resource'],_0x57bb4c['cubemap']){for(_0x1bdd9f=-0x1*-0x49d+0x2*0xe53+-0x6a7*0x5;_0x1bdd9f<0x2*-0xe66+-0x226d+-0x3f*-0x101;++_0x1bdd9f)_0x5e76be[_0x1bdd9f+(0x401+-0xd5a+-0xab*-0xe)]=new he(this['_device'],{'name':_0x3174b3['name']+('_prelitCub'+'emap')+(_0x57bb4c['width']>>_0x1bdd9f),'cubemap':!(0xc01*-0x1+-0x19*-0x1c+-0x945*-0x1),'type':_0x1b07c1()||_0x57bb4c['type'],'width':_0x57bb4c['width']>>_0x1bdd9f,'height':_0x57bb4c['height']>>_0x1bdd9f,'format':_0x57bb4c['format'],'levels':[_0x57bb4c['_levels'][_0x1bdd9f]],'addressU':ae,'addressV':ae,'mipmaps':_0x1bdd9f===0x212e+0x2b7*0x7+0x3d*-0xdb});}else _0x5e76be[-0x35*-0x5e+0x132b+-0x26a0]=_0x57bb4c;}}else _0x5e76be[0x214e+0x484*-0x4+-0x53*0x2f]=_0x1aba38[0x1*-0x243d+0x11b3+-0x128b*-0x1]||null,_0x5e76be[0x1379+0x34*-0x1+-0x1343]=_0x1aba38[0x1c85+-0x1*0x2603+0x20*0x4c]||null,_0x5e76be[-0x1173+-0x205a+0x31d0]=_0x1aba38[-0x299*-0xf+-0x1fd*0xb+-0x1115]||null,_0x5e76be[-0x26b*0xb+0x249d+0x5*-0x200]=_0x1aba38[0x1949+0x936+-0x227b]||null,_0x5e76be[-0x2*-0x277+0x13*0x1b3+-0x17*0x19e]=_0x1aba38[-0x3e1*0x1+0x2032+-0x1c4c]||null,_0x5e76be[0x172d*-0x1+-0x1b00+0x3233]=_0x1aba38[-0x1*-0x9e1+0x169f+-0x207a]||null;const _0x27cb93=_0x1162be['slice'](0x26a9+-0x4c3*-0x8+-0x4cc0);if(!_0x3174b3['loaded']||!this['cmpArrays'](_0x27cb93,_0x54e031['slice'](-0x2fc*0x3+0x392*0xa+-0x29*0xa7))){if(_0x27cb93['indexOf'](null)===-(0x23e*-0x9+-0x1f98+-0xb*-0x4b5)){const _0x24e039=_0x27cb93['map'](_0x550fc3=>_0x550fc3['resource']),_0x3a048c=[];for(_0x484932=0x220d+0x4*-0x821+0x1*-0x189;_0x484932<_0x24e039[0x1d35+-0x1d71*-0x1+-0x1d53*0x2]['_levels']['length'];++_0x484932)_0x3a048c['push'](_0x24e039['map'](_0x27f065=>_0x27f065['_levels'][_0x484932]));const _0x412d2e=_0x24e039[0x9*-0x419+0x824+-0x1*-0x1cbd]['format'],_0x30348c=new he(this['_device'],{'name':_0x3174b3['name']+'_faces','cubemap':!(-0x252a+0x79*-0x1+0x25a3),'type':_0x1b07c1()||_0x24e039[-0x2e1*0xa+-0x3*0xbdf+0x4067]['type'],'width':_0x24e039[-0x20b+-0x3*0x71f+0x1768]['width'],'height':_0x24e039[-0x1670+0x2083+-0xa13]['height'],'format':_0x412d2e===dr?Se:_0x412d2e,'mipmaps':_0x1b38ad['mipmaps']??!(-0x1*0xbf5+0x240c+-0x371*0x7),'levels':_0x3a048c,'minFilter':_0x1b38ad['hasOwnProp'+'erty']('minFilter')?_0x1b38ad['minFilter']:_0x24e039[-0x1ca8+0x870+-0x1*-0x1438]['minFilter'],'magFilter':_0x1b38ad['hasOwnProp'+'erty']('magFilter')?_0x1b38ad['magFilter']:_0x24e039[-0x1015+0x450+-0xbc5*-0x1]['magFilter'],'anisotropy':_0x1b38ad['hasOwnProp'+'erty']('anisotropy')?_0x1b38ad['anisotropy']:0x973+-0x1fc+0x1*-0x776,'addressU':ae,'addressV':ae});_0x5e76be[0xd7f+0xb3*-0x2f+0x135e]=_0x30348c;}}else _0x5e76be[-0x2e*0x9+0x1659+-0x14bb]=_0x1aba38[-0x1*0x1835+-0x1*0x10c5+0x28fa]||null;if(!this['cmpArrays'](_0x5e76be,_0x1aba38)){for(_0x3174b3['resources']=_0x5e76be,_0x3174b3['_handlerSt'+'ate']['assetIds']=_0x47375d,_0x3174b3['_handlerSt'+'ate']['assets']=_0x1162be,_0x1bdd9f=0x17e7+-0x944*-0x1+-0x1*0x212b;_0x1bdd9f<_0x1aba38['length'];++_0x1bdd9f)_0x1aba38[_0x1bdd9f]!==null&&_0x5e76be['indexOf'](_0x1aba38[_0x1bdd9f])===-(-0x5*-0x3c7+0x1a48+0x3*-0xf0e)&&_0x1aba38[_0x1bdd9f]['destroy']();}for(_0x1bdd9f=0x26d9+0x12e9*-0x1+0x58*-0x3a;_0x1bdd9f<_0x54e031['length'];++_0x1bdd9f)_0x54e031[_0x1bdd9f]!==null&&_0x1162be['indexOf'](_0x54e031[_0x1bdd9f])===-(0x4*0x80f+0x1186*0x2+-0x1*0x4347)&&_0x54e031[_0x1bdd9f]['unload']();}['cmpArrays'](_0xbdcba4,_0x242333){if(_0xbdcba4['length']!==_0x242333['length'])return!(0x1391*0x1+0x1299+-0x1*0x2629);for(let _0x33df32=-0x4b5+-0x6e5+0x16*0x87;_0x33df32<_0xbdcba4['length'];++_0x33df32)if(_0xbdcba4[_0x33df32]!==_0x242333[_0x33df32])return!(-0x4cb*0x6+0x690+-0x1633*-0x1);return!(-0x7*0x37c+0x146*0x1d+0x2*-0x645);}['resolveId'](_0x42a9d9){const _0x1329ce=parseInt(_0x42a9d9,-0x1b96+0x1019+0xb87);return _0x1329ce===_0x42a9d9||_0x1329ce['toString']()===_0x42a9d9?_0x1329ce:_0x42a9d9;}['loadAssets'](_0x543a07,_0x563151){_0x543a07['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x543a07['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x3e2e5b=this,_0x183cd3=_0x3e2e5b['getAssetId'+'s'](_0x543a07),_0x428dfd=[null,null,null,null,null,null,null],_0x201df0=_0x543a07['_handlerSt'+'ate']['assetIds'],_0x2f3c11=_0x543a07['_handlerSt'+'ate']['assets'],_0x3e34c1=_0x3e2e5b['_registry'];let _0x1a0e43=0x4af+0x3*0x9d6+-0x2*0x1115;const _0x3a41e9=function(_0x5cf3f9,_0x35c8cd){_0x428dfd[_0x5cf3f9]=_0x35c8cd,_0x1a0e43--,_0x1a0e43===-0x3d6+0x1aa+-0x4*-0x8b&&(_0x3e2e5b['update'](_0x543a07,_0x183cd3,_0x428dfd),_0x563151(null,_0x543a07['resources']));},_0x931851=function(_0x50f1eb,_0x2cc316,_0xe3e4fb){_0x563151(_0x2cc316);},_0x66804e=function(_0x199887,_0x46df02){_0x46df02['loaded']?_0x3a41e9(_0x199887,_0x46df02):(_0x3e34c1['once']('load:'+_0x46df02['id'],_0x3a41e9['bind'](_0x3e2e5b,_0x199887)),_0x3e34c1['once']('error:'+_0x46df02['id'],_0x931851['bind'](_0x3e2e5b,_0x199887)),_0x46df02['loading']||_0x3e34c1['load'](_0x46df02));};let _0x3f3b30;for(let _0xa4bf6c=-0x17*0x8b+-0x8*0x313+0xb*0x35f;_0xa4bf6c<0x1c1e+0xcce+0x169*-0x1d;++_0xa4bf6c){const _0xe88c15=this['resolveId'](_0x183cd3[_0xa4bf6c]);if(!_0xe88c15)_0x3a41e9(_0xa4bf6c,null);else{if(_0x3e2e5b['compareAss'+'etIds'](_0xe88c15,_0x201df0[_0xa4bf6c]))_0x66804e(_0xa4bf6c,_0x2f3c11[_0xa4bf6c]);else{if(parseInt(_0xe88c15,-0x21cb+0xf1*0x19+-0xa4c*-0x1)===_0xe88c15)_0x3f3b30=_0x3e34c1['get'](_0xe88c15),_0x3f3b30?_0x66804e(_0xa4bf6c,_0x3f3b30):setTimeout(((_0x3b839c,_0x3afafc)=>{const _0x4ab2f3=_0x3e34c1['get'](_0x3afafc);_0x4ab2f3?_0x66804e(_0x3b839c,_0x4ab2f3):_0x931851(_0x3b839c,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x3afafc);})['bind'](null,_0xa4bf6c,_0xe88c15));else{const _0x59d86f=typeof _0xe88c15=='string'?{'url':_0xe88c15,'filename':_0xe88c15}:_0xe88c15,_0x254d5d=_0x59d86f['url']['search']('.dds')===-(0x27c*-0xe+0x59*0xd+-0x34*-0x95)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(-0x1*-0x1d47+-0x1ff8+0x2b2)}:null;_0x3f3b30=new le(_0x543a07['name']+'_part_'+_0xa4bf6c,'texture',_0x59d86f,_0x254d5d),_0x3e34c1['add'](_0x3f3b30),_0x66804e(_0xa4bf6c,_0x3f3b30);}}}}}}class E2 extends Ne{constructor(_0xd6fea1){super(_0xd6fea1,'folder');}['load'](_0x33273c,_0x535f1b){_0x535f1b(null,null);}}class Ng{constructor(_0x12b048,_0x26634d){this['type']=_0x26634d&&_0x26634d['type']||Kh,this['em']=0x1a8e+-0x162b+-0x462,this['textures']=_0x12b048,this['intensity']=-0x70*0x33+-0x1*0xe83+0x24d3,this['_data']=null,this['data']=_0x26634d;}set['data'](_0x5a9e19){if(this['_data']=_0x5a9e19,!!_0x5a9e19&&(this['_data']['intensity']!==void(-0x137c+-0x23c+0x15b8)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<0x195e+-0x587+-0x13d5)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x2665ed in this['_data']['chars'])this['_data']['chars'][_0x2665ed]['map']=-0xa*0x251+0x227*0x4+-0x747*-0x2;}}get['data'](){return this['_data'];}}function Jd(_0xa25f85){return _0xa25f85['version']<-0x485*0x4+0x204e+-0xe37&&(_0xa25f85['version']<-0x2*-0xe19+-0xad9+-0x1157*0x1&&(_0xa25f85['info']['maps']=_0xa25f85['info']['maps']||[{'width':_0xa25f85['info']['width'],'height':_0xa25f85['info']['height']}]),_0xa25f85['chars']=Object['keys'](_0xa25f85['chars']||{})['reduce']((_0x3a8adc,_0x275561)=>{const _0x4e2c77=_0xa25f85['chars'][_0x275561],_0x40a997=_0x4e2c77['letter']!==void(0x3*-0x670+-0x1*-0x1a11+-0x6c1)?_0x4e2c77['letter']:ah['fromCodePo'+'int'](_0x275561);return _0xa25f85['version']<0xb7*0x17+-0x15f+-0xf10&&(_0x4e2c77['map']=_0x4e2c77['map']||-0x1886+0x65d+-0x1229*-0x1),_0x3a8adc[_0x40a997]=_0x4e2c77,_0x3a8adc;},{}),_0xa25f85['version']=0x1665+0x10b3+-0x159*0x1d),_0xa25f85;}class C2 extends Ne{constructor(_0x55fedc){super(_0x55fedc,'font'),this['_loader']=_0x55fedc['loader'],this['maxRetries']=-0x1*-0xb98+0x138c+-0x1f24;}['load'](_0x4beca2,_0xd9e449,_0x15be94){typeof _0x4beca2=='string'&&(_0x4beca2={'load':_0x4beca2,'original':_0x4beca2});const _0x5cc45d=this;fe['getExtensi'+'on'](_0x4beca2['original'])==='.json'?We['get'](_0x4beca2['load'],{'retry':this['maxRetries']>-0x3c2*-0x5+-0x8d7+-0x9f3,'maxRetries':this['maxRetries']},(_0x4a3d64,_0x310e94)=>{if(_0x4a3d64)_0xd9e449('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x4beca2['original']+'\x20['+_0x4a3d64+']');else{const _0x44a54d=Jd(_0x310e94);_0x5cc45d['_loadTextu'+'res'](_0x4beca2['load']['replace']('.json','.png'),_0x44a54d,(_0x3567ae,_0x588715)=>{_0x3567ae?_0xd9e449(_0x3567ae):_0xd9e449(null,{'data':_0x44a54d,'textures':_0x588715});});}}):(_0x15be94&&_0x15be94['data']&&(_0x15be94['data']=Jd(_0x15be94['data'])),this['_loadTextu'+'res'](_0x4beca2['load'],_0x15be94&&_0x15be94['data'],_0xd9e449));}['_loadTextu'+'res'](_0xdee0c,_0x496b70,_0x25c449){const _0x53d174=_0x496b70['info']['maps']['length'];let _0x599e6d=-0x7e8+-0x4*-0x6da+-0x1380,_0x4da82e=null;const _0x3f47fc=new Array(_0x53d174),_0xcef7b0=this['_loader'],_0x3b7eee=function(_0x2d5d5c){const _0x3fff64=function(_0x5eef09,_0x103020){if(!_0x4da82e){if(_0x5eef09){_0x4da82e=_0x5eef09,_0x25c449(_0x5eef09);return;}_0x103020['upload'](),_0x3f47fc[_0x2d5d5c]=_0x103020,_0x599e6d++,_0x599e6d===_0x53d174&&_0x25c449(null,_0x3f47fc);}};_0x2d5d5c===-0xe10+0x8df+-0x1*-0x531?_0xcef7b0['load'](_0xdee0c,'texture',_0x3fff64):_0xcef7b0['load'](_0xdee0c['replace']('.png',_0x2d5d5c+'.png'),'texture',_0x3fff64);};for(let _0x36f915=-0x234e+-0x17*0x1a7+0x494f;_0x36f915<_0x53d174;_0x36f915++)_0x3b7eee(_0x36f915);}['open'](_0x499aae,_0x50cfd7,_0x220eec){let _0x120a85;return _0x50cfd7['textures']?_0x120a85=new Ng(_0x50cfd7['textures'],_0x50cfd7['data']):_0x120a85=new Ng(_0x50cfd7,null),_0x120a85;}['patch'](_0x52136c,_0x541b55){const _0x24b86d=_0x52136c['resource'];!_0x24b86d['data']&&_0x52136c['data']?_0x24b86d['data']=_0x52136c['data']:!_0x52136c['data']&&_0x24b86d['data']&&(_0x52136c['data']=_0x24b86d['data']),_0x52136c['data']&&(_0x52136c['data']=Jd(_0x52136c['data']));}}async function M2(){const _0x4c92cc=0x16bd+0x10*-0x20a+-0x1*-0x9e3+0.28209479177387814;class _0x236dfc{constructor(_0x3f800e,_0x5e16d0,_0x58b4f9){this['x']=_0x3f800e,this['y']=_0x5e16d0,this['z']=_0x58b4f9;}}class _0x44da8b{constructor(_0x191493,_0x53f3c9,_0x555b34,_0xbe06f0){this['x']=_0x191493,this['y']=_0x53f3c9,this['z']=_0x555b34,this['w']=_0xbe06f0;}}class _0x4f920a{constructor(_0x11d54b,_0x26d451,_0x2a1592,_0x1ea7d5){this['x']=_0x11d54b,this['y']=_0x26d451,this['z']=_0x2a1592,this['w']=_0x1ea7d5;}['set'](_0x4a8195,_0x44bfe5,_0x19138d,_0x6ff992){this['x']=_0x4a8195,this['y']=_0x44bfe5,this['z']=_0x19138d,this['w']=_0x6ff992;}}class _0x1f04f0{constructor(_0x2673a2,_0x2c386c,_0x1e68f2,_0x4110d0,_0x5f2caf,_0x3a5e8d,_0x231dc0,_0x200394,_0x2a5105,_0x4a776b,_0x1e2e65,_0x5001e5){const _0x2837a6=(_0x22f262,_0x205537)=>{const _0x14b4b3=(-0x2646+-0x16*-0xaf+-0x3*-0x7bf<<_0x205537)-(-0x1*-0xfb6+0x4da+-0x148f);return(_0x22f262&_0x14b4b3)/_0x14b4b3;},_0x4d85f4=(_0x31166b,_0x1edd45)=>{_0x31166b['x']=_0x2837a6(_0x1edd45>>>0xc39+0x1ad+-0x189*0x9,0x1*0x215f+0x8*0x2ba+-0x3724),_0x31166b['y']=_0x2837a6(_0x1edd45>>>0x1*0x8e1+-0x800+-0xd6,0x1ebd+-0x17*0x6d+0x37c*-0x6),_0x31166b['z']=_0x2837a6(_0x1edd45,-0x37b+-0x31*-0x25+-0x38f*0x1);},_0x39c586=(_0x4761ac,_0x2d349e)=>{_0x4761ac['x']=_0x2837a6(_0x2d349e>>>-0x1079*0x1+0x1f35+0x1*-0xea4,0x20e6+-0x68b*-0x4+-0x3b0a),_0x4761ac['y']=_0x2837a6(_0x2d349e>>>0x1510+-0x1dfb+-0x79*-0x13,-0x245c+-0x1832+0xa19*0x6),_0x4761ac['z']=_0x2837a6(_0x2d349e>>>0x4*-0xfa+-0x5c2*-0x1+0xe9*-0x2,-0xa5e+-0x65d*-0x5+-0x156b*0x1),_0x4761ac['w']=_0x2837a6(_0x2d349e,-0x1519+0x1*0x173+0x13ae);},_0x2b381f=(_0x33501a,_0x9935bd)=>{const _0x25bb5b=(-0x2*-0x1067+0x21ab+0x4278*-0x1)/(Math['sqrt'](0x1f1b+-0x11*0x182+-0x577)*(0x7*0x4a3+0x1255+-0x49e*0xb+0.5)),_0x98aaae=(_0x2837a6(_0x9935bd>>>0x1*-0x22e4+0x1f1+0x2107,-0x1175*0x1+-0x2c2+0x55*0x3d)-(-0x7*0x2c7+0x355*0x7+-0x3e2*0x1+0.5))*_0x25bb5b,_0x2a05cf=(_0x2837a6(_0x9935bd>>>0x1062+0x1*0x175d+-0x27b5,-0x2177+-0x8a6+0x3d5*0xb)-(0x1*-0xd69+-0x640+0x13a9+0.5))*_0x25bb5b,_0x3d91d1=(_0x2837a6(_0x9935bd,-0x14b*-0x4+0x1e8c+0x1*-0x23ae)-(-0xf65+0xf51+0x14+0.5))*_0x25bb5b,_0x244407=Math['sqrt'](0x640+0x1def+-0x242e-(_0x98aaae*_0x98aaae+_0x2a05cf*_0x2a05cf+_0x3d91d1*_0x3d91d1));switch(_0x9935bd>>>0x34*-0x59+0x1df0+-0xbbe){case-0xf7b+0x125d+0x52*-0x9:_0x33501a['set'](_0x98aaae,_0x2a05cf,_0x3d91d1,_0x244407);break;case-0x34*0xb+-0x1620+0x81f*0x3:_0x33501a['set'](_0x244407,_0x2a05cf,_0x3d91d1,_0x98aaae);break;case 0x18aa+-0xf7*0x1f+0x541:_0x33501a['set'](_0x2a05cf,_0x244407,_0x3d91d1,_0x98aaae);break;case 0x2*-0x1345+0x1f12+-0x17f*-0x5:_0x33501a['set'](_0x2a05cf,_0x3d91d1,_0x244407,_0x98aaae);break;}},_0x348d18=(_0x3656f9,_0x430237,_0x36f463)=>_0x3656f9*(0x116*0x12+-0x5e2+0x10d*-0xd-_0x36f463)+_0x430237*_0x36f463,_0xd8142=[0x24f*0xb+-0x215*0x5+-0xef9*0x1,-0xda*0x28+-0x371*-0x7+-0xa01*-0x1,0x12f3+-0x548*0x3+-0x82*0x6][_0x5f2caf-(0x2343+0x11b*-0x4+-0x1*0x1ed6)],_0x2ac770=0x2*-0x74b+0xd*0x17d+-0x4bd;this['read']=_0x546ae2=>{const _0x3eece1=Math['floor'](_0x546ae2/(0x4be*0x5+-0x3*-0x36f+-0x2103))*_0x2c386c;if(_0x3a5e8d&&(_0x4d85f4(_0x3a5e8d,_0x1e68f2[_0x546ae2*_0x2ac770+(0x9cd*-0x1+-0x7f1+0x11be)]),_0x3a5e8d['x']=_0x348d18(_0x2673a2[_0x3eece1+(-0x5e3*0x4+0x13*0x1b1+0x1*-0x897)],_0x2673a2[_0x3eece1+(-0x4*0x367+0x251a+-0x177b)],_0x3a5e8d['x']),_0x3a5e8d['y']=_0x348d18(_0x2673a2[_0x3eece1+(-0xb*-0x25b+0x3*-0x332+0x1*-0x1052)],_0x2673a2[_0x3eece1+(-0x3*-0xed+0x1*-0x99d+0x6da)],_0x3a5e8d['y']),_0x3a5e8d['z']=_0x348d18(_0x2673a2[_0x3eece1+(-0x150f+-0x1c1+-0xfe*-0x17)],_0x2673a2[_0x3eece1+(0x1ff1+0x1df1+-0x3ddd)],_0x3a5e8d['z'])),_0x231dc0&&_0x2b381f(_0x231dc0,_0x1e68f2[_0x546ae2*_0x2ac770+(-0x3*-0x1da+0x526*0x1+-0x21*0x53)]),_0x200394&&(_0x4d85f4(_0x200394,_0x1e68f2[_0x546ae2*_0x2ac770+(0x2cf+0xd4a+0x3*-0x55d)]),_0x200394['x']=_0x348d18(_0x2673a2[_0x3eece1+(0x1276+0x1*0x1447+-0x26b7)],_0x2673a2[_0x3eece1+(-0x5*0x10d+-0x25d9+-0x1b*-0x199)],_0x200394['x']),_0x200394['y']=_0x348d18(_0x2673a2[_0x3eece1+(0x26e3+0x1d3e+-0x1*0x441a)],_0x2673a2[_0x3eece1+(-0x4*0x4d6+-0x1709*0x1+0x2a6b)],_0x200394['y']),_0x200394['z']=_0x348d18(_0x2673a2[_0x3eece1+(0x2*-0x7b4+0x1976+-0xa06)],_0x2673a2[_0x3eece1+(-0x235d+0xb46+0x1822)],_0x200394['z'])),_0x2a5105&&(_0x39c586(_0x2a5105,_0x1e68f2[_0x546ae2*_0x2ac770+(-0x3*0x43f+0x362*0x5+-0x42a)]),_0x2c386c>0xe9b+0x5e6+0x1*-0x1475&&(_0x2a5105['x']=_0x348d18(_0x2673a2[_0x3eece1+(-0xe27*-0x1+0x4f*-0x2e+0x17*0x1)],_0x2673a2[_0x3eece1+(-0x8eb+-0x1*0x1a06+-0x8c*-0x40)],_0x2a5105['x']),_0x2a5105['y']=_0x348d18(_0x2673a2[_0x3eece1+(-0x3*0x15b+0x329*-0x1+-0xcf*-0x9)],_0x2673a2[_0x3eece1+(-0x17*-0x4f+0x19d*-0x15+0x1ad8)],_0x2a5105['y']),_0x2a5105['z']=_0x348d18(_0x2673a2[_0x3eece1+(0x2096+-0x1160+-0xf28)],_0x2673a2[_0x3eece1+(-0xbb6*-0x1+-0x10f*-0xc+-0x10f*0x17)],_0x2a5105['z']))),_0x4a776b&&(_0x4d85f4(_0x4a776b,_0x1e68f2[_0x546ae2*_0x2ac770+(-0x3c8+0xd*-0x1d0+0x1b5c)]),_0x4a776b['x']=_0x348d18(_0x2673a2[_0x3eece1+(0x24bd+-0x989*-0x1+0x1*-0x2e34)],_0x2673a2[_0x3eece1+(-0x25fb+-0x24f1+0xd*0x5c5)],_0x4a776b['x']),_0x4a776b['y']=_0x348d18(_0x2673a2[_0x3eece1+(0x7*0x415+0x2275+-0xe3*0x47)],_0x2673a2[_0x3eece1+(-0x18d+-0x1*0x445+-0x17a*-0x4)],_0x4a776b['y']),_0x4a776b['z']=_0x348d18(_0x2673a2[_0x3eece1+(-0xb5c+0x1581+-0xa11)],_0x2673a2[_0x3eece1+(-0x1f69+0x247c+-0x1d*0x2c)],_0x4a776b['z'])),_0x1e2e65&&(_0x4d85f4(_0x1e2e65,_0x1e68f2[_0x546ae2*_0x2ac770+(0xdff*0x2+-0x2044+0x44b)]),_0x1e2e65['x']=_0x348d18(_0x2673a2[_0x3eece1+(-0x561*-0x2+0x1a14+-0x24be)],_0x2673a2[_0x3eece1+(0x135d+-0x1e38+-0x1*-0xaf4)],_0x1e2e65['x']),_0x1e2e65['y']=_0x348d18(_0x2673a2[_0x3eece1+(0x219b+0x1801+0x22*-0x1b1)],_0x2673a2[_0x3eece1+(-0x1552+-0xdea+-0x2357*-0x1)],_0x1e2e65['y'])),_0x5001e5&&_0x5f2caf>0xa93*0x3+0x18be+-0x3877){for(let _0x37d058=-0x470*0x2+-0x1e02+0x26e2;_0x37d058<-0x147b+-0x1361+0x27df;++_0x37d058)for(let _0x15e7e4=-0xa*0x8f+0xb36+-0x24*0x28;_0x15e7e4<-0x26d4+0x189a+0xe49;++_0x15e7e4)_0x5001e5[_0x37d058*(-0x819*0x2+0x2*0x521+0x5ff)+_0x15e7e4]=_0x15e7e4<_0xd8142?_0x4110d0[(_0x546ae2*(0x1a5*-0xd+-0x14b0+-0x150a*-0x2)+_0x37d058)*_0xd8142+_0x15e7e4]*((0x13b3+0x117e+-0x2529)/(-0x26b6+-0x1*0x21bc+0x4971))-(0xc7d*-0x2+0x21d+-0x16e1*-0x1):0x5*0x78d+0x1*-0x15+-0x25ac;}};}}self['onmessage']=async _0x3feca8=>{const {data:_0x294787}=_0x3feca8;switch(_0x294787['type']){case'initWorker':break;case'decompress':_0x5c8b84(_0x294787['numSplats'],_0x294787['chunkData'],_0x294787['chunkSize'],_0x294787['vertexData'],_0x294787['shData'],_0x294787['shBands']);break;}};const _0x5c8b84=(_0x2e51d8,_0x20ea54,_0x4162f3,_0x5d74d3,_0x3df936,_0x1c2464)=>{const _0x58f55c=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x1c2464>-0x3*-0xb1b+-0x1943+-0x80e){const _0xe82576=[];for(let _0x467d9d=0x1cad*0x1+0x1*-0x1fd3+0x326;_0x467d9d<0x1ef3+-0x1*0x35d+0x1*-0x1b69;++_0x467d9d)_0xe82576['push']('f_rest_'+_0x467d9d);_0x58f55c['splice'](_0x58f55c['indexOf']('f_dc_0')+(0x1b0c*0x1+0x259*-0x1+-0x18b2),0x212d+0x3a*0x49+-0x31b7,..._0xe82576);}const _0x143bb2={};_0x58f55c['forEach'](_0x2151a9=>{_0x143bb2[_0x2151a9]=new Float32Array(_0x2e51d8);}),console['log']('decompress');const _0x55af27=new _0x236dfc(),_0x1591dd=new _0x4f920a(),_0x5c656b=new _0x236dfc(),_0x55d694=new _0x44da8b(),_0x3c274f=new _0x236dfc(),_0x375639=new _0x236dfc(),_0x16a1ad=_0x1c2464>-0xaf1*0x3+0x197c+-0x757*-0x1?new Float32Array(-0x368*-0x5+0x1c97+-0x2a*0x115):null,_0x22b3eb=new _0x1f04f0(_0x20ea54,_0x4162f3,_0x5d74d3,_0x3df936,_0x1c2464,_0x55af27,_0x1591dd,_0x5c656b,_0x55d694,_0x3c274f,_0x375639,_0x16a1ad);for(let _0x13fea5=-0x11c0+0x127*0xe+-0x9*-0x2e;_0x13fea5<_0x2e51d8;++_0x13fea5)if(_0x22b3eb['read'](_0x13fea5),_0x143bb2['x'][_0x13fea5]=_0x55af27['x'],_0x143bb2['y'][_0x13fea5]=_0x55af27['y'],_0x143bb2['z'][_0x13fea5]=_0x55af27['z'],_0x143bb2['rot_1'][_0x13fea5]=_0x1591dd['x'],_0x143bb2['rot_2'][_0x13fea5]=_0x1591dd['y'],_0x143bb2['rot_3'][_0x13fea5]=_0x1591dd['z'],_0x143bb2['rot_0'][_0x13fea5]=_0x1591dd['w'],_0x143bb2['scale_0'][_0x13fea5]=_0x5c656b['x'],_0x143bb2['scale_1'][_0x13fea5]=_0x5c656b['y'],_0x143bb2['scale_2'][_0x13fea5]=_0x5c656b['z'],_0x143bb2['motion_0'][_0x13fea5]=_0x3c274f['x'],_0x143bb2['motion_1'][_0x13fea5]=_0x3c274f['y'],_0x143bb2['motion_2'][_0x13fea5]=_0x3c274f['z'],_0x143bb2['t_scale'][_0x13fea5]=_0x375639['x'],_0x143bb2['t'][_0x13fea5]=_0x375639['y'],_0x143bb2['f_dc_0'][_0x13fea5]=(_0x55d694['x']-(0x2*0xe59+0x20d6+-0x3d88+0.5))/_0x4c92cc,_0x143bb2['f_dc_1'][_0x13fea5]=(_0x55d694['y']-(0xd08+-0x2331*-0x1+-0x9a5*0x5+0.5))/_0x4c92cc,_0x143bb2['f_dc_2'][_0x13fea5]=(_0x55d694['z']-(0x964*-0x1+0x4ee*0x1+0x476+0.5))/_0x4c92cc,_0x143bb2['opacity'][_0x13fea5]=_0x55d694['w']<=-0x11de+-0x5*0x205+0x1bf7?-(0xdfc+-0x18c+-0xc48):_0x55d694['w']>=0x9c9+0x2360+-0x2d28?-0x4f*0x28+0xb*-0x2c2+0x156b*0x2:-Math['log']((0x13*-0x2d+0x128a+-0xf32)/_0x55d694['w']-(0x1c76*0x1+-0xac0+-0x11b5)),_0x16a1ad){for(let _0xe1d4f2=0x2*0x3c1+-0x17f9+-0x5*-0x34b;_0xe1d4f2<0x2f*-0x8d+-0x1*-0x209b+-0x5*0x14f;++_0xe1d4f2)_0x143bb2['f_rest_'+_0xe1d4f2][_0x13fea5]=_0x16a1ad[_0xe1d4f2];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x143bb2});};}class P2 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+M2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x58888e=>{if(!this['worker'])return;const {data:_0x51b326}=_0x58888e;switch(_0x51b326['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x51b326['data']);break;}};}['decompress'](_0x3ecc0e,_0x36af9e,_0x16d6a0,_0x29b12d,_0x892364,_0x5bbcf1,_0x5ecade){this['chunkData']=new Float32Array(_0x36af9e)['slice'](),this['vertexData']=new Uint32Array(_0x29b12d)['slice'](),this['shData']=new Uint8Array(_0x892364)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x3ecc0e,'chunkData':this['chunkData'],'chunkSize':_0x16d6a0,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x5bbcf1});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class R2{constructor(_0x14394f,_0x2ad578,_0x251a53,_0x22368d,_0x286cf8,_0x2da9d8,_0x285d30,_0x3db380){const _0x324fc1=(_0x489a49,_0x495b7c)=>{const _0x2e476f=(0x29*-0xb1+-0x2*0x9+0x1c6c<<_0x495b7c)-(0x208d+0x267e+-0x470a);return(_0x489a49&_0x2e476f)/_0x2e476f;},_0x4daa1f=(_0x229105,_0x323d15)=>{_0x229105['x']=_0x324fc1(_0x323d15>>>0x1799+-0x26bd+0x3*0x513,-0x21c0+0x239*0x5+0x16ae),_0x229105['y']=_0x324fc1(_0x323d15>>>-0xa6*0x34+-0xa84+-0x5*-0x8db,0xe03*0x1+0x2e3*0x5+-0x1c68),_0x229105['z']=_0x324fc1(_0x323d15,0x2*-0xcb3+-0xad3+0x2444);},_0x3b8a90=(_0x2c007f,_0x2fe67a)=>{_0x2c007f['x']=_0x324fc1(_0x2fe67a>>>-0x1d*-0x52+-0x25d0+-0x9*-0x32e,-0x1a7f+-0x2*0xcf7+-0x1*-0x3475),_0x2c007f['y']=_0x324fc1(_0x2fe67a>>>0x57*-0x8+-0x1d93+-0xac9*-0x3,0x7a7+-0x1f67+-0x5f2*-0x4),_0x2c007f['z']=_0x324fc1(_0x2fe67a>>>0xcfe+0xb34+-0x182a,0x1709*-0x1+0x1991+0xa0*-0x4),_0x2c007f['w']=_0x324fc1(_0x2fe67a,-0x1*0x784+0x2696+-0x112*0x1d);},_0x5c7fdd=(_0x4a648c,_0x341e1a)=>{const _0x1d8495=(0xda*-0x22+-0xb*0x18a+-0x1*-0x2de3)/(Math['sqrt'](-0x46*0x32+0x728+-0xa*-0xa7)*(0x242e+-0xa77+-0x19b7+0.5)),_0x2ea2b6=(_0x324fc1(_0x341e1a>>>0xdfe+0xc7*-0x2f+0x169f,-0x1ba8+-0x15e9+0x319b)-(0x725+0x2*0x1100+0x1*-0x2925+0.5))*_0x1d8495,_0xa19d0=(_0x324fc1(_0x341e1a>>>-0x246b*0x1+-0x278*0xd+0x448d,0xb9*-0x1f+-0x225c+0x38cd)-(-0x1f72+0xd09+0x1269+0.5))*_0x1d8495,_0x3396b8=(_0x324fc1(_0x341e1a,-0x1c9c+-0x1cd0+-0x1cbb*-0x2)-(-0x2371+-0x5*-0x17e+-0xf7*-0x1d+0.5))*_0x1d8495,_0x16d28d=Math['sqrt'](-0x1b64+0x24ac*-0x1+0x4011-(_0x2ea2b6*_0x2ea2b6+_0xa19d0*_0xa19d0+_0x3396b8*_0x3396b8));switch(_0x341e1a>>>0x247a+0x584*0x7+-0x4af8){case 0xa9*-0x19+0x1d25+-0xca4:_0x4a648c['set'](_0x2ea2b6,_0xa19d0,_0x3396b8,_0x16d28d);break;case-0x1271+-0x18*-0x137+-0x55b*0x2:_0x4a648c['set'](_0x16d28d,_0xa19d0,_0x3396b8,_0x2ea2b6);break;case-0x1035+0x23f5+0xe*-0x169:_0x4a648c['set'](_0xa19d0,_0x16d28d,_0x3396b8,_0x2ea2b6);break;case 0xee7+0xc46*-0x1+-0x43*0xa:_0x4a648c['set'](_0xa19d0,_0x3396b8,_0x16d28d,_0x2ea2b6);break;}},_0x57ab68=(_0x3ac961,_0x55f90b,_0x5bbd33)=>_0x3ac961*(-0x1cbb*-0x1+0x1f97+-0x3c51-_0x5bbd33)+_0x55f90b*_0x5bbd33,{chunkData:_0x55c3dd,chunkSize:_0x584f58,vertexData:_0x20577a,shData:_0x3949b8,shBands:_0x36bd20}=_0x14394f,_0x23870a=[0xa*-0x1a9+-0x1*0xacc+-0x3*-0x923,0x21d*0x8+-0x39*0x4b+-0x2d,0x1c42*-0x1+0x2e7*0x3+0x9ce*0x2][_0x36bd20-(0x1*-0x1079+0x1*0x15+0x1065)],_0x567e58=-0xcdf*-0x1+0x1*-0x16c1+0x9e8;this['read']=_0x1c4fbf=>{const _0x2a8fb3=Math['floor'](_0x1c4fbf/(-0x1dc1+0xe*0x1b7+0x9d*0xb))*_0x584f58;if(_0x2ad578&&(_0x4daa1f(_0x2ad578,_0x20577a[_0x1c4fbf*_0x567e58+(-0x7*-0x224+0x1*-0x11bb+-0x2bf*-0x1)]),_0x2ad578['x']=_0x57ab68(_0x55c3dd[_0x2a8fb3+(0x9*-0x255+0x2*0xe0b+-0x719)],_0x55c3dd[_0x2a8fb3+(-0xdf*0x1+0x48b*0x3+-0xcbf)],_0x2ad578['x']),_0x2ad578['y']=_0x57ab68(_0x55c3dd[_0x2a8fb3+(0xf4e*0x1+-0x1c3f+0xcf2)],_0x55c3dd[_0x2a8fb3+(0x233a+0x1*0x409+-0xd15*0x3)],_0x2ad578['y']),_0x2ad578['z']=_0x57ab68(_0x55c3dd[_0x2a8fb3+(0x6*-0x527+0x6cd+0x19*0xf7)],_0x55c3dd[_0x2a8fb3+(0x1787+-0x1*0x178d+0xb)],_0x2ad578['z'])),_0x251a53&&_0x5c7fdd(_0x251a53,_0x20577a[_0x1c4fbf*_0x567e58+(-0x1543+-0x1d62+-0x1*-0x32a6)]),_0x22368d&&(_0x4daa1f(_0x22368d,_0x20577a[_0x1c4fbf*_0x567e58+(0x5*0x379+0x839+-0x2*0xcca)]),_0x22368d['x']=_0x57ab68(_0x55c3dd[_0x2a8fb3+(0x1*0xafb+0x81e+-0x1313)],_0x55c3dd[_0x2a8fb3+(-0x1695+0x10ff+0x59f)],_0x22368d['x']),_0x22368d['y']=_0x57ab68(_0x55c3dd[_0x2a8fb3+(0x1d0*0xd+0x1*0x1a51+-0x2c5*0x12)],_0x55c3dd[_0x2a8fb3+(0x9c5+-0x1a1b+-0x1*-0x1060)],_0x22368d['y']),_0x22368d['z']=_0x57ab68(_0x55c3dd[_0x2a8fb3+(0x1*-0xc1+0x615+-0x54c)],_0x55c3dd[_0x2a8fb3+(0x21*0x12d+0x1*0xc59+-0x331b)],_0x22368d['z'])),_0x286cf8&&(_0x3b8a90(_0x286cf8,_0x20577a[_0x1c4fbf*_0x567e58+(0xf4*-0x25+0x66b+-0x1*-0x1cdc)]),_0x584f58>0x274*0x8+-0x201a+0xc86&&(_0x286cf8['x']=_0x57ab68(_0x55c3dd[_0x2a8fb3+(-0x47*-0x75+0x5f6+0xa1*-0x3d)],_0x55c3dd[_0x2a8fb3+(-0x61*-0x3+0x22d8+-0x1e4*0x13)],_0x286cf8['x']),_0x286cf8['y']=_0x57ab68(_0x55c3dd[_0x2a8fb3+(0xc8b+-0x1*-0x13b7+-0x1e5*0x11)],_0x55c3dd[_0x2a8fb3+(0x431*0x9+0x11ff*-0x2+0x1*-0x1ab)],_0x286cf8['y']),_0x286cf8['z']=_0x57ab68(_0x55c3dd[_0x2a8fb3+(0x74*-0x31+-0x18bd*0x1+-0x1*-0x2eff)],_0x55c3dd[_0x2a8fb3+(0xa*0x33c+0x109*-0x9+-0x16f6)],_0x286cf8['z']))),_0x2da9d8&&(_0x4daa1f(_0x2da9d8,_0x20577a[_0x1c4fbf*_0x567e58+(0x58e+-0x2b*0x25+0xad)]),_0x2da9d8['x']=_0x57ab68(_0x55c3dd[_0x2a8fb3+(-0xa5*0x17+-0x22a7+0xc63*0x4)],_0x55c3dd[_0x2a8fb3+(-0xd44+-0xa03+0x175c)],_0x2da9d8['x']),_0x2da9d8['y']=_0x57ab68(_0x55c3dd[_0x2a8fb3+(-0xaeb+-0x13fc+0x2*0xf7d)],_0x55c3dd[_0x2a8fb3+(0x22fa+0x86b+-0x2b4f)],_0x2da9d8['y']),_0x2da9d8['z']=_0x57ab68(_0x55c3dd[_0x2a8fb3+(0x34*0x7a+-0x248b*0x1+0x1*0xbd7)],_0x55c3dd[_0x2a8fb3+(0x387+0x515*0x3+-0x12af*0x1)],_0x2da9d8['z'])),_0x285d30&&(_0x4daa1f(_0x285d30,_0x20577a[_0x1c4fbf*_0x567e58+(-0x3*0x26f+-0x1ada+0x222c)]),_0x285d30['x']=_0x57ab68(_0x55c3dd[_0x2a8fb3+(0x152f+0x374+-0x188b)],_0x55c3dd[_0x2a8fb3+(-0x6a*-0x4e+0x4*0xe+0x1*-0x206b)],_0x285d30['x']),_0x285d30['y']=_0x57ab68(_0x55c3dd[_0x2a8fb3+(-0x1*0xf92+0x4ba+0xaf2*0x1)],_0x55c3dd[_0x2a8fb3+(-0x22*0x107+-0x38*-0xc+-0x2069*-0x1)],_0x285d30['y'])),_0x3db380&&_0x36bd20>-0x49c+0x21fc+-0xeb*0x20){for(let _0x377d19=-0x756+-0x31*-0x71+0xe4b*-0x1;_0x377d19<0x24ac+0x2*-0x125+-0x225f;++_0x377d19)for(let _0x14dcbc=-0x1*0x1ae4+-0xe25+0x2909;_0x14dcbc<-0x2241+-0x1*-0x6df+0x1b71;++_0x14dcbc)_0x3db380[_0x377d19*(-0x243a*0x1+0x1357*0x1+0x1*0x10f2)+_0x14dcbc]=_0x14dcbc<_0x23870a?_0x3949b8[(_0x1c4fbf*(0x391*-0x2+0x23ee+0x1*-0x1cc9)+_0x377d19)*_0x23870a+_0x14dcbc]*((-0xa*-0xda+0x7cc+-0x412*0x4)/(0x319+-0x1c8+-0x1*0x52))-(-0x7f0+0x20fb+-0x1907):-0x220e*-0x1+-0x99b*0x3+0x1bf*-0x3;}};}}class I2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x472542,_0x444035,_0x14f4e9,_0x2ca46b,_0x2662f5,_0x1b9209,_0xada97b){return new R2(this,_0x472542,_0x444035,_0x14f4e9,_0x2ca46b,_0x2662f5,_0x1b9209,_0xada97b);}['calcAabb'](_0x561579){const {chunkData:_0x2e5b73,numChunks:_0x1daa74,chunkSize:_0x574428}=this;let _0x4af7f5=Math['exp'](Math['max'](_0x2e5b73[-0x22c+-0x3*0xa3b+0x20e6],_0x2e5b73[-0x1*0xdc2+-0x1d9b+0x2b67],_0x2e5b73[0x17d5+-0x3*-0xa5a+-0x36d8])),_0x19cb1c=_0x2e5b73[-0x7c1*-0x5+0x8*-0x282+-0x12b5*0x1]-_0x4af7f5,_0x5924dc=_0x2e5b73[-0x13b4+-0x21*-0xc9+-0x634]-_0x4af7f5,_0x4f3d93=_0x2e5b73[-0x1235*0x1+0x1cb8+0x1*-0xa81]-_0x4af7f5,_0x17c673=_0x2e5b73[0x18f*-0x19+-0x4*-0x2ea+-0x1a*-0x10d]+_0x4af7f5,_0x32740f=_0x2e5b73[0x13*0x1fb+-0x2615+-0x5*-0x18]+_0x4af7f5,_0x44ee3f=_0x2e5b73[0x49*-0x12+-0x13b*0xd+0x1*0x1526]+_0x4af7f5;for(let _0x2ee557=-0x3bb+-0x2*0xcc8+-0x271*-0xc;_0x2ee557<_0x1daa74;++_0x2ee557){const _0x4f5ad2=_0x2ee557*_0x574428;_0x4af7f5=Math['exp'](Math['max'](_0x2e5b73[_0x4f5ad2+(-0x10b2+0xccc+0x3ef)],_0x2e5b73[_0x4f5ad2+(0x26b6+-0x1*0x24d7+-0x1d5)],_0x2e5b73[_0x4f5ad2+(-0x15ab*-0x1+-0x3d*0x8d+0xbf9)])),_0x19cb1c=Math['min'](_0x19cb1c,_0x2e5b73[_0x4f5ad2+(0x2*-0x850+0x10cf+-0x1*0x2f)]-_0x4af7f5),_0x5924dc=Math['min'](_0x5924dc,_0x2e5b73[_0x4f5ad2+(0x295*-0x3+0x24f8+-0x1d38)]-_0x4af7f5),_0x4f3d93=Math['min'](_0x4f3d93,_0x2e5b73[_0x4f5ad2+(-0x381+-0xfe0*0x1+0x1363)]-_0x4af7f5),_0x17c673=Math['max'](_0x17c673,_0x2e5b73[_0x4f5ad2+(-0x4*0x6f+0x23ad+-0x21ee*0x1)]+_0x4af7f5),_0x32740f=Math['max'](_0x32740f,_0x2e5b73[_0x4f5ad2+(-0x216a+-0x5*0x61+0x2353)]+_0x4af7f5),_0x44ee3f=Math['max'](_0x44ee3f,_0x2e5b73[_0x4f5ad2+(-0x21f9+0x80e*0x4+-0x1*-0x1c6)]+_0x4af7f5);}return _0x561579['center']['set']((_0x19cb1c+_0x17c673)*(0x12f7+-0x4a*-0x3e+-0x24e3+0.5),(_0x5924dc+_0x32740f)*(-0x1*-0xfdf+-0x12b*-0x1f+-0x3414+0.5),(_0x4f3d93+_0x44ee3f)*(0x23bb+0x411*0x4+-0x33ff+0.5)),_0x561579['halfExtent'+'s']['set']((_0x17c673-_0x19cb1c)*(-0x1835*0x1+-0x2cc+0x1b01+0.5),(_0x32740f-_0x5924dc)*(-0x20b5+0x1fe7+0xce+0.5),(_0x44ee3f-_0x4f3d93)*(-0x3*-0x7aa+-0x4e4+0x7*-0x296+0.5)),!(0x34*0x6+0x1*-0x62e+-0x1*-0x4f6);}['getCenters'](_0x3d4cf3){const {vertexData:_0x27e4d0,chunkData:_0x573925,numChunks:_0x84da38,chunkSize:_0x254b5d}=this;let _0x21e104,_0x1ca68c,_0x166c5c,_0x6f355,_0x73a2ab,_0x307e8a;for(let _0x1f8547=0xc1a+0xfd2+0x1*-0x1bec;_0x1f8547<_0x84da38;++_0x1f8547){const _0x11ed4b=_0x1f8547*_0x254b5d;_0x21e104=_0x573925[_0x11ed4b+(-0x1430+-0x1066*0x2+-0x4*-0xd3f)],_0x1ca68c=_0x573925[_0x11ed4b+(-0x718*0x3+-0x99a+0x1ee3)],_0x166c5c=_0x573925[_0x11ed4b+(0x2455*0x1+0x581+-0x29d4)],_0x6f355=_0x573925[_0x11ed4b+(0x2624+0xba5*-0x3+-0x332)],_0x73a2ab=_0x573925[_0x11ed4b+(-0x10f1+0x530*-0x5+0x1*0x2ae5)],_0x307e8a=_0x573925[_0x11ed4b+(-0x1da4+0x4*-0x1d3+0x24f5)];const _0x42111d=Math['min'](this['numSplats'],(_0x1f8547+(-0x1a36+-0x3d*0x70+0x34e7))*(0x1*-0x2555+0xef+-0x2*-0x12b3));for(let _0x51c45a=_0x1f8547*(0x1b38+-0x8*-0x241+0x60*-0x76);_0x51c45a<_0x42111d;++_0x51c45a){const _0xc4259d=_0x27e4d0[_0x51c45a*(0x10*-0xfb+0x160d*-0x1+-0x25c1*-0x1)],_0x1f8d45=(_0xc4259d>>>-0x10d*0xa+0x1cba*-0x1+0xf*0x29f)/(-0x11e4+-0x1*-0x1af3+-0x110),_0x48f6cb=(_0xc4259d>>>-0x8e2+0x4d*0x14+0x2e9&-0x11fe+-0x12c5*-0x1+0x67*0x8)/(-0x1*0x1171+-0x12ce+0x12f*0x22),_0x3f1ba0=(_0xc4259d&-0x2*-0x6f4+-0x25eb+0x2002)/(0x1f*0x3e+0x810+0x115*-0x7);_0x3d4cf3[_0x51c45a*(0x229f*-0x1+-0x145*-0x7+0x19bf)+(0x1cc3+-0x1*-0x12b1+-0x2*0x17ba)]=(-0x2623+0x7fa+0x1e2a-_0x1f8d45)*_0x21e104+_0x1f8d45*_0x6f355,_0x3d4cf3[_0x51c45a*(0x9a8+0x950+-0x12f5)+(0x35*0x2e+-0x20f8+-0x1*-0x1773)]=(-0x1*0x20be+0x6e6+-0x19d9*-0x1-_0x48f6cb)*_0x1ca68c+_0x48f6cb*_0x73a2ab,_0x3d4cf3[_0x51c45a*(0x82+-0x88+0x1*0x9)+(0x2*0x607+-0x1*0x26bc+-0x6ac*-0x4)]=(0x1*0x2521+-0xbca+-0x17*0x11a-_0x3f1ba0)*_0x166c5c+_0x3f1ba0*_0x307e8a;}}}['calcFocalP'+'oint'](_0x18c8cd){const {chunkData:_0x3e92ec,numChunks:_0x49be99,chunkSize:_0x41d996}=this;_0x18c8cd['x']=-0x38*-0x57+-0x27d+-0x108b,_0x18c8cd['y']=0x1*-0x67a+-0x1fac+0x2626,_0x18c8cd['z']=0x6e4+-0x13d2+0xcee;for(let _0x27e73b=-0x19*-0xe5+-0xc93+-0x9ca;_0x27e73b<_0x49be99;++_0x27e73b){const _0x17c71b=_0x27e73b*_0x41d996;_0x18c8cd['x']+=_0x3e92ec[_0x17c71b+(-0x4a*-0x5+-0x1eef+0x1d7d)]+_0x3e92ec[_0x17c71b+(-0x1*0x1d94+0x1*-0x2185+-0x4*-0xfc7)],_0x18c8cd['y']+=_0x3e92ec[_0x17c71b+(0x496*-0x4+0x26f9+-0x14a0)]+_0x3e92ec[_0x17c71b+(0x197+0xe*-0x2a9+0x23ab*0x1)],_0x18c8cd['z']+=_0x3e92ec[_0x17c71b+(-0x1495+-0x1*0x1c85+0x311c)]+_0x3e92ec[_0x17c71b+(0x1*-0x1987+0x9a*-0x2+0x1ac0)];}_0x18c8cd['mulScalar']((0x23c7+-0xa15+-0x19b2+0.5)/_0x49be99);}get['isCompress'+'ed'](){return!(-0x1fd5+-0x146b*-0x1+-0x2*-0x5b5);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x55*0x3b+-0x1*-0x12d5+0x1c2));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x454d8c;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x454d8c=this['shData'])==null?void(-0xba*0x2f+0x173f+0xae7*0x1):_0x454d8c['length'])/this['numSplats']/(0xe1b*-0x2+-0x5*0x497+0x106*0x32)]??0x14bc+-0x933+-0xb89;}async['decompress'](){const _0x10ec0e=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x1833db}=this;if(_0x1833db>-0x89*0x11+-0x17a2+0x20bb){const _0x4a7e8d=[];for(let _0x3e15e3=0x1*0x1acf+-0x9*-0x38b+0xb*-0x556;_0x3e15e3<0x5f1+-0x12*0x14d+0x8d3*0x2;++_0x3e15e3)_0x4a7e8d['push']('f_rest_'+_0x3e15e3);_0x10ec0e['splice'](_0x10ec0e['indexOf']('f_dc_0')+(-0x22*0xd6+-0x1c8a+-0x38f7*-0x1),0x1*0xc6d+-0x1f4e*-0x1+-0x2bbb,..._0x4a7e8d);}const _0x2fee3a={};_0x10ec0e['forEach'](_0x2d6aa0=>{_0x2fee3a[_0x2d6aa0]=new Float32Array(this['numSplats']);});const _0x15f9e1=new P2();return _0x15f9e1['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x2fee3a),new Promise((_0x265f63,_0x41f9fd)=>{_0x15f9e1['on']('decompress'+'ed',_0x38b39f=>{_0x15f9e1['destroy'](),_0x265f63(new Ia([{'name':'vertex','count':this['numSplats'],'properties':_0x10ec0e['map'](_0x5bc0c2=>({'name':_0x5bc0c2,'type':'float','byteSize':0x4,'storage':_0x38b39f[_0x5bc0c2]}))}]));});});}}const D2=(_0x3b2698,_0x917b52,_0x53bf4c,_0x38281b,_0x37d809)=>{for(let _0x351650=-0xb76+0x649*0x1+0x52d;_0x351650<_0x37d809;++_0x351650)for(let _0x1318d2=-0xab4+-0x1ecc+0x2980;_0x1318d2<_0x38281b;++_0x1318d2)_0x3b2698[_0x351650*_0x917b52+_0x1318d2]=_0x53bf4c[_0x351650*_0x38281b+_0x1318d2];},zg=(_0xf3baf4,_0x10f15b,_0x3fa639,_0x4a5cbc,_0xf4d346,_0x479368)=>{for(let _0x3962bc=0x14e6+0xd7f+0x3*-0xb77;_0x3962bc<_0xf4d346;++_0x3962bc)for(let _0x51d445=0x926*-0x2+-0x2138+0x3384;_0x51d445<_0x4a5cbc;++_0x51d445)_0xf3baf4[_0x3962bc*_0x10f15b+_0x51d445]=_0x3fa639[_0x3962bc*_0x4a5cbc+_0x51d445+_0x479368];};class L2{constructor(_0x21b209,_0x571d2e){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x10c140,chunkSize:_0x4a2fa2,numChunks:_0x586887,numSplats:_0x5aeba5,vertexData:_0x22bfb1,shBands:_0x26d7e2,is4D:_0xb2d949}=_0x571d2e;this['device']=_0x21b209,this['numSplats']=_0x5aeba5,this['numVisible'+'Splats']=_0x5aeba5,this['is4D']=_0xb2d949,this['aabb']=new _e(),_0x571d2e['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x5aeba5*(-0x2d*-0x4f+0x61*-0x21+-0x1b*0xd)),_0x571d2e['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',ut,this['evalTextur'+'eSize'](_0x5aeba5));const _0x14bdfb=this['packedText'+'ure']['lock']();zg(_0x14bdfb,0x9*0x33c+0x16*0x177+-0x5e*0xa7,_0x22bfb1,-0x942+-0x192f+-0x2277*-0x1,_0x5aeba5,-0x2*-0x94+-0x47f*0x1+0x5*0xab),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',ut,this['evalTextur'+'eSize'](_0x5aeba5));const _0x327d17=this['packedTime'+'Texture']['lock']();zg(_0x327d17,-0x37*-0x5e+0x818*-0x3+0x418,_0x22bfb1,0x1281+-0x22d*-0xb+-0x2a6a,_0x5aeba5,0x11c3*0x1+-0xa41+-0x2*0x3bf);const _0x114dc0=this['evalTextur'+'eSize'](_0x586887);_0x114dc0['x']*=-0x2ba+-0x9c*-0x1+0x225,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',Ke,_0x114dc0);const _0x397b9a=this['chunkTextu'+'re']['lock']();if(D2(_0x397b9a,(-0xb*-0x6+-0xa7f*0x1+0xa41)*(-0x1*0x22f9+0x1*0x2563+-0x263),_0x10c140,_0x4a2fa2,_0x586887),_0x4a2fa2===0xda6+0xde2+-0x1b7c){for(let _0x3ef1f5=0x666+0x159+-0x7bf;_0x3ef1f5<_0x586887;++_0x3ef1f5)_0x397b9a[_0x3ef1f5*(0x1*-0x2327+-0xba*0x2e+-0x44a7*-0x1)+(-0x2da+-0xb*-0x376+-0x2329)]=0x1*-0x51a+-0x6*-0x1a3+-0x4b7*0x1,_0x397b9a[_0x3ef1f5*(0xa1e+0x1*-0x1aa5+0x109b)+(-0xaf8+-0x167d+0x2185)]=-0x1*-0x1f0f+-0x3f*0x1+0x1*-0x1ecf,_0x397b9a[_0x3ef1f5*(-0x1*-0x193b+-0x15d*-0x2+-0x1*0x1be1)+(0x13b0+-0x1784+0x3e5)]=-0x1d8*0x10+-0xf0d*-0x1+0xb9*0x14;}if(this['chunkTextu'+'re']['unlock'](),_0x26d7e2>-0x2633+0x8e8*-0x3+0x40eb*0x1){const {shData:_0x41e5eb}=_0x571d2e,_0x36ac6f=this['evalTextur'+'eSize'](_0x5aeba5),_0x3d89e1=this['createText'+'ure']('shTexture0',ut,_0x36ac6f),_0x4d7740=this['createText'+'ure']('shTexture1',ut,_0x36ac6f),_0x3c6153=this['createText'+'ure']('shTexture2',ut,_0x36ac6f),_0x5a3f33=_0x3d89e1['lock'](),_0xd98443=_0x4d7740['lock'](),_0x51880c=_0x3c6153['lock'](),_0x4e0e1a=new Uint8Array(_0x5a3f33['buffer']),_0x50563d=new Uint8Array(_0xd98443['buffer']),_0x484558=new Uint8Array(_0x51880c['buffer']),_0x25f95a=[-0x16b*-0x3+0x78b+-0x1*0xbc9,0x107*-0x1a+0x1*0x1097+-0x71*-0x17,0x17c2+0x1c45+-0x67f*0x8][_0x26d7e2-(0x829+0x2556+-0x2d7e*0x1)];for(let _0x317ae7=-0xa91+-0x76*-0x26+0x3*-0x251;_0x317ae7<_0x5aeba5;++_0x317ae7)for(let _0x48fa9a=-0x172c+0xffd*0x1+0x72f;_0x48fa9a<0x1*0xb83+0x1434+0x1*-0x1fa8;++_0x48fa9a)_0x4e0e1a[_0x317ae7*(-0x1323+0x2*0x1283+-0xa9*0x1b)+_0x48fa9a]=_0x48fa9a<_0x25f95a?_0x41e5eb[(_0x317ae7*(0x1d80+0x1f4c+-0x3cc9)+(-0x268d+-0x5bf+-0x1e*-0x17a))*_0x25f95a+_0x48fa9a]:-0xc4*0x22+0x6de+0x1*0x13a9,_0x50563d[_0x317ae7*(0x147d+0x2*-0x9be+-0xf1)+_0x48fa9a]=_0x48fa9a<_0x25f95a?_0x41e5eb[(_0x317ae7*(0x1553+-0x1439+0x3*-0x5d)+(-0x25b3+0x29*0x17+0x2205))*_0x25f95a+_0x48fa9a]:-0x2b*-0x1+-0xb0*0x11+0xc04,_0x484558[_0x317ae7*(0x1447+0x5*0x6d5+0x366*-0x10)+_0x48fa9a]=_0x48fa9a<_0x25f95a?_0x41e5eb[(_0x317ae7*(0xafb+0x1593+-0x208b)+(0x1*-0x2527+0x249c+0x8d))*_0x25f95a+_0x48fa9a]:0x1c91+0x20*0x136+-0x42d2;_0x3d89e1['unlock'](),_0x4d7740['unlock'](),_0x3c6153['unlock'](),this['shTexture0']=_0x3d89e1,this['shTexture1']=_0x4d7740,this['shTexture2']=_0x3c6153;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x133f26,_0x5d24f1,_0x15af9f,_0x555ddb,_0x33dba4,_0x45356b;(_0x133f26=this['packedText'+'ure'])==null||_0x133f26['destroy'](),(_0x5d24f1=this['packedTime'+'Texture'])==null||_0x5d24f1['destroy'](),(_0x15af9f=this['chunkTextu'+'re'])==null||_0x15af9f['destroy'](),(_0x555ddb=this['shTexture0'])==null||_0x555ddb['destroy'](),(_0x33dba4=this['shTexture1'])==null||_0x33dba4['destroy'](),(_0x45356b=this['shTexture2'])==null||_0x45356b['destroy']();}['createMate'+'rial'](_0x1988e3){const _0xa3085b=z0(_0x1988e3);return _0xa3085b['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(0xd03+-0x157a+-0xb*-0xc5)),_0xa3085b['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0xa3085b['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0xa3085b['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0xa3085b['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0xa3085b['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0xa3085b['setDefine']('SH_BANDS',0x208d*-0x1+-0x481*0x1+0x1*0x2511),_0xa3085b['setParamet'+'er']('shTexture0',this['shTexture0']),_0xa3085b['setParamet'+'er']('shTexture1',this['shTexture1']),_0xa3085b['setParamet'+'er']('shTexture2',this['shTexture2'])):_0xa3085b['setDefine']('SH_BANDS',-0x1dfb+0x13*0x1a1+-0x4*0x3e),_0xa3085b;}['evalTextur'+'eSize'](_0x59222b){const _0x42e27d=Math['ceil'](Math['sqrt'](_0x59222b)),_0x1344e9=Math['ceil'](_0x59222b/_0x42e27d);return new $(_0x42e27d,_0x1344e9);}['createText'+'ure'](_0x2b0fb9,_0x32e9fb,_0x140111,_0x2eb235){return new he(this['device'],{'name':_0x2b0fb9,'width':_0x140111['x'],'height':_0x140111['y'],'format':_0x32e9fb,'cubemap':!(-0x1ee7*-0x1+0x1987+-0x386d),'mipmaps':!(-0x6*0x24+0xc9d+-0x2f1*0x4),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,..._0x2eb235?{'levels':[_0x2eb235]}:{}});}}class F2{constructor(_0x417880,_0x25bb7b,_0x27b743){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x417880,this['splatData']=_0x25bb7b,this['comments']=_0x27b743);}['destroy'](){var _0x2011c6;this['device']=null,this['splatData']=null,(_0x2011c6=this['splat'])==null||_0x2011c6['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new L2(this['device'],this['splatData']):new V1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x523d7f,_0x21bb69,_0x14de2f){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0x21bb69,this['splatData']['appendGSpl'+'atData'](_0x523d7f,_0x14de2f,_0x21bb69),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x4e1748={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x4e1748);const _0x519332=new $e(),_0x934ab5=_0x519332['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x519332['setLocalEu'+'lerAngles'](-0x952+-0xf73+-0x11*-0x175,0x421+0xadb+-0x77e*0x2,-0x2621+0x203b+0x5e6),_0x934ab5['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x519332;}['createInst'+'ance'](_0x4dd619={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x58988f=this['createSpla'+'t']();return new Np(_0x58988f,_0x4dd619);}}const Ug=new Uint8Array([-0x22e7+-0x9*-0x19d+0x14d2,-0x26d1+0x20d9+0x664,-0x1b1c+0x15ff+-0x596*-0x1,-0x5a6+-0x1bdb+0x218b]),Vg=new Uint8Array([-0x5ed*-0x1+0x167*-0x1a+0x1e93,-0x205c+0x1eb7+0x57*0x6,-0x19d0+-0x203e+0xe9f*0x4,-0x803*-0x3+0x2414+-0x3bb9,0x7*-0x184+0x216b+0x8*-0x2ce,-0xf*0xb8+-0x3a4+0xed4,0x963+-0x1591*0x1+0xc93*0x1,-0xc*0xc7+0x1a71+0x2ca*-0x6,0x14a9+0x2*0xae5+-0x2a0f,-0x99e*-0x1+-0x25cb+0x2e*0x9f,0x64a*-0x6+-0x2*-0xe17+0xa00,0x225f+-0x679+-0x1bdc]),bf=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class O2{constructor(_0x4c4623,_0x5a4855){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',0x1466+-0x1b6c+0x706),c(this,'tail',0x1c5*0xf+-0x22cb+0x840),(this['reader']=_0x4c4623,this['progressFu'+'nc']=_0x5a4855);}async['read'](){var _0x480356;const {value:_0x1da064,done:_0x2ed419}=await this['reader']['read']();if(_0x2ed419)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x1da064),(_0x480356=this['progressFu'+'nc'])==null||_0x480356['call'](this,_0x1da064['byteLength']);}['push'](_0x1aa64b){if(!this['data'])this['data']=_0x1aa64b,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x1aa64b['length'];else{const _0x2bb3a9=this['tail']-this['head'],_0x1f1c05=_0x2bb3a9+_0x1aa64b['length'];if(this['data']['length']>=_0x1f1c05)this['head']>0x2*0xc10+-0x6a9*0x2+-0xace?(this['data']['copyWithin'](-0xe71+-0x95*0x43+0x3570,this['head'],this['tail']),this['data']['set'](_0x1aa64b,_0x2bb3a9),this['head']=-0x9e*-0x7+-0x3*0x4fd+0xaa5,this['tail']=_0x1f1c05):(this['data']['set'](_0x1aa64b,this['tail']),this['tail']+=_0x1aa64b['length']);else{const _0x304b36=new Uint8Array(_0x1f1c05);this['head']>0x362*0x9+-0x20a3*0x1+0x231||this['tail']<this['data']['length']?_0x304b36['set'](this['data']['subarray'](this['head'],this['tail']),-0x803+0x3*0x10c+0x4df):_0x304b36['set'](this['data'],-0x70+0x11b7+-0x1147*0x1),_0x304b36['set'](_0x1aa64b,_0x2bb3a9),this['data']=_0x304b36,this['view']=new DataView(this['data']['buffer']),this['head']=0x110c+-0x67+-0x10a5*0x1,this['tail']=_0x1f1c05;}}}['compact'](){this['head']>-0x1*-0x22a7+-0xa*-0x1f1+-0x3611&&(this['data']['copyWithin'](-0x2617+-0x2*-0xb99+0xee5,this['head'],this['tail']),this['tail']-=this['head'],this['head']=0x7*0x1e7+0x180*-0xa+-0x1*-0x1af);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x498c98=this['view']['getInt8'](this['head']);return this['head']++,_0x498c98;}['getUint8'](){const _0x288c02=this['view']['getUint8'](this['head']);return this['head']++,_0x288c02;}['getInt16'](){const _0x457ee7=this['view']['getInt16'](this['head'],!(-0x13*-0x1a5+0x146a+-0x33a9));return this['head']+=0x16a3+-0x2*-0x82d+-0x26fb,_0x457ee7;}['getUint16'](){const _0x58e4de=this['view']['getUint16'](this['head'],!(0xe8e+-0x5*-0x6a1+0x1*-0x2fb3));return this['head']+=-0x130a+0x1*-0x4f+0x135b,_0x58e4de;}['getInt32'](){const _0x5c839d=this['view']['getInt32'](this['head'],!(0x1*0x481+0x370+0x13*-0x6b));return this['head']+=0x4f7+0x22*0xf9+-0x2605*0x1,_0x5c839d;}['getUint32'](){const _0x52ccf8=this['view']['getUint32'](this['head'],!(0x165d+0x434*0x6+0x3a9*-0xd));return this['head']+=0x219e+-0x5c2*-0x1+0xe5*-0x2c,_0x52ccf8;}['getFloat32'](){const _0x16abca=this['view']['getFloat32'](this['head'],!(0x1*-0x2472+-0x6bd*-0x2+0x16f8));return this['head']+=0x19+-0x3dc+0x3c7,_0x16abca;}['getFloat64'](){const _0x196ebc=this['view']['getFloat64'](this['head'],!(0x1908+-0x655*-0x3+-0x2c07));return this['head']+=0x13d2+-0x1fe7+0xc1d,_0x196ebc;}}const k2=_0x43b9ca=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x5dd399=[],_0x21d11b=[];let _0x56016e;for(let _0x502e22=-0x11*0x12e+-0xa7f+0x1e8e;_0x502e22<_0x43b9ca['length'];++_0x502e22){const _0x2f6a06=_0x43b9ca[_0x502e22]['split']('\x20');switch(_0x2f6a06[-0x315+0x15d*-0x19+0x86*0x47]){case'comment':_0x21d11b['push'](_0x2f6a06['slice'](-0xaff+0x1131+-0x631)['join']('\x20'));break;case'format':_0x56016e=_0x2f6a06[0x29*0x67+-0xc87+-0x3f7];break;case'element':_0x5dd399['push']({'name':_0x2f6a06[0x429+-0x6*-0x630+-0x2948],'count':parseInt(_0x2f6a06[-0xdca+-0x1e1f*0x1+0x2beb],0x2ad*-0xd+-0xa*0x2af+0x3da9),'properties':[]});break;case'property':{if(!bf['has'](_0x2f6a06[0x3d0*0x7+-0xf4b+-0x3cc*0x3]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x2f6a06[0x2*0x3ca+-0xc2*0xb+0xc3]+('\x27\x20in\x20ply\x20h'+'eader'));_0x5dd399[_0x5dd399['length']-(-0x265f*-0x1+0x1e1e+-0x447c)]['properties']['push']({'type':_0x2f6a06[0x35*-0x97+0x60d+0x5*0x50b],'name':_0x2f6a06[0x2c9+0x1792+-0x1a59],'storage':null,'byteSize':bf['get'](_0x2f6a06[0x26c0+-0x1c0c+-0x3*0x391])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x2f6a06[-0x678+0x124f*-0x2+0x2b16]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x5dd399,'format':_0x56016e,'comments':_0x21d11b};},B2=_0x2820c3=>{const _0xd509a0=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x5c28a8=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x17d697=new Array(0x79d*0x3+-0x1161+-0x549)['fill']('')['map']((_0x4843c2,_0x307b32)=>'f_rest_'+_0x307b32),_0x41f4dd=()=>_0x2820c3[0x1e66+0x15d*-0x3+-0x1*0x1a4f]['name']==='chunk'&&_0x2820c3[-0x9*-0x3df+-0x12a0+-0x251*0x7]['properties']['every']((_0x471324,_0x21614e)=>_0x471324['name']===_0xd509a0[_0x21614e]&&_0x471324['type']==='float')&&_0x2820c3[-0x161f+-0x14ae+0x2ace]['name']==='vertex'&&_0x2820c3[-0xa79+0x1c98+-0x121e]['properties']['every']((_0x4840fd,_0x12eb9e)=>_0x4840fd['name']===_0x5c28a8[_0x12eb9e]&&_0x4840fd['type']==='uint'),_0x1a38b0=()=>_0x2820c3[-0x1*-0x1e71+-0xac9*0x2+-0x8dd]['name']==='sh'&&[-0x1*-0x23b5+0x11fa*-0x1+0x2f3*-0x6,-0x19ef*-0x1+-0xf0+-0x18e7,0x21ad+-0x766*0x3+0x2*-0x5a7]['indexOf'](_0x2820c3[0x1*-0x1daf+-0x679*-0x3+-0x20e*-0x5]['properties']['length'])!==-(0x41b*0x9+-0x13c*-0x16+-0x401a)&&_0x2820c3[-0x1776+0xd8a+0x9ee]['properties']['every']((_0x1564a5,_0x2bc219)=>_0x1564a5['name']===_0x17d697[_0x2bc219]&&_0x1564a5['type']==='uchar');return _0x2820c3['length']===-0x1*-0x26eb+-0x5*-0x17e+0x527*-0x9&&_0x41f4dd()||_0x2820c3['length']===-0x1067+-0x2b*0x4d+0x1*0x1d59&&_0x41f4dd()&&_0x1a38b0();},N2=_0x4fd34b=>_0x4fd34b['length']===-0x1*-0x1369+0x6*-0xa8+0x21*-0x78&&_0x4fd34b[0x5*-0x62f+-0x4*-0x661+0x567]['name']==='vertex'&&_0x4fd34b[0xe5b+-0x123*0x4+-0x9cf]['properties']['every'](_0x26cdf3=>_0x26cdf3['type']==='float'),z2=async(_0x3890ca,_0x2716f3)=>{const _0x6d966e=new I2(),_0x45e048=_0x2716f3[-0x11*-0x1d5+0xe11+0x789*-0x6]['count'],_0x10b5d7=_0x2716f3[0x1267+0x228c+-0xa97*0x5]['properties']['length'],_0x3fae67=_0x2716f3[0x243a+0x1*0x228d+0x1*-0x46c6]['count'],_0x564ece=_0x2716f3[-0x944+-0xa*-0x131+0x2a5*-0x1]['properties']['some'](_0x250746=>_0x250746['name']==='packed_tim'+'e'),_0x4512bb=_0x4f10b7=>{const _0x4bab3b=Math['ceil'](Math['sqrt'](_0x4f10b7)),_0x5bff10=Math['ceil'](_0x4f10b7/_0x4bab3b);return _0x4bab3b*_0x5bff10;};_0x6d966e['numSplats']=_0x3fae67,_0x6d966e['is4D']=_0x564ece,_0x6d966e['chunkData']=new Float32Array(_0x45e048*_0x10b5d7),_0x6d966e['vertexData']=new Uint32Array(_0x4512bb(_0x3fae67)*(0x3*-0xcf7+0x2468+0x283));const _0x17f393=async(_0x226eb8,_0x152760)=>{const _0x294464=new Uint8Array(_0x226eb8);let _0x44c3e2=-0x156d+-0x960*0x2+-0x5*-0x809;for(;_0x44c3e2<_0x152760;){for(;_0x3890ca['remaining']===0x685*-0x1+0x10d*0xd+-0x724;)await _0x3890ca['read']();const _0x409dbc=Math['min'](_0x152760-_0x44c3e2,_0x3890ca['remaining']),_0x3af310=_0x3890ca['data'];for(let _0x3e8001=0xb*0xe3+0x1c25+-0x12*0x21b;_0x3e8001<_0x409dbc;++_0x3e8001)_0x294464[_0x44c3e2++]=_0x3af310[_0x3890ca['head']++];}};return await _0x17f393(_0x6d966e['chunkData']['buffer'],_0x45e048*_0x10b5d7*(0x1*-0xe85+0x10d*-0x1+0xf96)),await _0x17f393(_0x6d966e['vertexData']['buffer'],_0x3fae67*(-0xe*-0x23d+0x5*0x4cf+0x17f*-0x25)*(-0x1*0x929+0x24ae+0x3*-0x92b)),_0x2716f3['length']===0x168a+0x27+0xb57*-0x2&&(_0x6d966e['shData']=new Uint8Array(_0x2716f3[-0x18ce+0xdd0+0xb00]['count']*_0x2716f3[-0x2142+0x8ea+0x185a]['properties']['length']),await _0x17f393(_0x6d966e['shData']['buffer'],_0x6d966e['shData']['byteLength'])),_0x6d966e;},U2=async(_0x51ae4e,_0x1568c0)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x322687=_0x1568c0[-0x123f+-0x742*0x5+-0x17*-0x25f],_0x38e8bd=_0x322687['properties'],_0x3265f3=_0x38e8bd['length'],_0x6a8085=_0x38e8bd['map'](_0x2e7faa=>_0x2e7faa['storage']),_0x29a2c4=_0x38e8bd['reduce']((_0x151f1f,_0xe6e507)=>_0x151f1f+_0xe6e507['byteSize'],0x691*-0x1+-0x104e*0x1+0x493*0x5);let _0x49de31=0x1ec0+0x641*0x2+0x62e*-0x7,_0x527781;const _0x166a5b=()=>{const _0x249ffb=_0x51ae4e['data']['buffer'];(_0x527781==null?void(0x18ec+0x6fd*0x4+-0x34e0):_0x527781['buffer'])!==_0x249ffb&&(_0x527781=new Float32Array(_0x249ffb,-0xb4d+0x738+0x1*0x415,_0x249ffb['byteLength']/(0x1ee1+-0x1379+0x4*-0x2d9)));};for(_0x166a5b();_0x49de31<_0x322687['count'];){for(;_0x51ae4e['remaining']<_0x29a2c4;)await _0x51ae4e['read'](),_0x166a5b();const _0x533049=Math['min'](_0x322687['count']-_0x49de31,Math['floor'](_0x51ae4e['remaining']/_0x29a2c4));for(let _0x6a8a6e=0x1add+-0x1df5+0x318;_0x6a8a6e<_0x3265f3;++_0x6a8a6e){const _0x2c8dc1=_0x6a8085[_0x6a8a6e];for(let _0x5df41b=0xfc6*0x1+0x264c+-0x3612;_0x5df41b<_0x533049;++_0x5df41b)_0x2c8dc1[_0x5df41b+_0x49de31]=_0x527781[_0x5df41b*_0x3265f3+_0x6a8a6e];}_0x49de31+=_0x533049,_0x51ae4e['head']+=_0x533049*_0x29a2c4;}return new Ia(_0x1568c0);},V2=async(_0x17079f,_0x3e4e0e)=>{for(let _0x94db53=0x13cd*-0x1+0x1a70+-0x6a3;_0x94db53<_0x3e4e0e['length'];++_0x94db53){const _0x438190=_0x3e4e0e[_0x94db53],_0x5ae8ac=_0x438190['properties']['reduce']((_0x1822cb,_0x1af619)=>_0x1822cb+_0x1af619['byteSize'],0x1b8a+0x14dc+-0x3066),_0x1d223f=_0x438190['properties']['map'](_0xa76b62=>{if(_0xa76b62['storage'])switch(_0xa76b62['type']){case'char':return(_0x485a65,_0x469f4f)=>{_0xa76b62['storage'][_0x469f4f]=_0x485a65['getInt8']();};case'uchar':return(_0x540dfe,_0x91f929)=>{_0xa76b62['storage'][_0x91f929]=_0x540dfe['getUint8']();};case'short':return(_0xdb7e16,_0x577d50)=>{_0xa76b62['storage'][_0x577d50]=_0xdb7e16['getInt16']();};case'ushort':return(_0x577fc2,_0x1bcb79)=>{_0xa76b62['storage'][_0x1bcb79]=_0x577fc2['getUint16']();};case'int':return(_0x12edb2,_0x21eb13)=>{_0xa76b62['storage'][_0x21eb13]=_0x12edb2['getInt32']();};case'uint':return(_0x366fa9,_0x40d927)=>{_0xa76b62['storage'][_0x40d927]=_0x366fa9['getUint32']();};case'float':return(_0x1de9bd,_0xba8d5c)=>{_0xa76b62['storage'][_0xba8d5c]=_0x1de9bd['getFloat32']();};case'double':return(_0x5f592c,_0x4b4af7)=>{_0xa76b62['storage'][_0x4b4af7]=_0x5f592c['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0xa76b62['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0xa3ff32=>{_0xa3ff32['head']+=_0xa76b62['byteSize'];};});let _0x546e64=0x19b5+0x4*-0x5fb+-0x1c9;for(;_0x546e64<_0x438190['count'];){for(;_0x17079f['remaining']<_0x5ae8ac;)await _0x17079f['read']();const _0x5bb5b1=Math['min'](_0x438190['count']-_0x546e64,Math['floor'](_0x17079f['remaining']/_0x5ae8ac));for(let _0x122f3a=0x2*-0x757+0x2*0x3b5+-0x136*-0x6;_0x122f3a<_0x5bb5b1;++_0x122f3a){for(let _0x5344b0=0x613+-0x2075+0x1a62;_0x5344b0<_0x438190['properties']['length'];++_0x5344b0)_0x1d223f[_0x5344b0](_0x17079f,_0x546e64);_0x546e64++;}}}return new Ia(_0x3e4e0e);},G2=async(_0x2378e6,_0x38534b=null,_0x22c65f=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x49c27b=(_0x3c700f,_0x48d70a)=>{const _0x36fbe7=_0x3c700f['length']-_0x48d70a['length'];let _0x22442a,_0x38421a;for(_0x22442a=0xf8b+-0xb71*-0x1+0x1afc*-0x1;_0x22442a<=_0x36fbe7;++_0x22442a){for(_0x38421a=0x4e9*-0x7+0x1*-0x137+0x71e*0x5;_0x38421a<_0x48d70a['length']&&_0x3c700f[_0x22442a+_0x38421a]===_0x48d70a[_0x38421a];++_0x38421a);if(_0x38421a===_0x48d70a['length'])return _0x22442a;}return-(-0x164b+-0x25c8+-0x2*-0x1e0a);},_0x5c022b=(_0x53d8bf,_0x351da1)=>{if(_0x53d8bf['length']<_0x351da1['length'])return!(-0x2c3+-0x3d*-0x25+0x1*-0x60d);for(let _0x3c36c3=0x1540+-0x19a4*-0x1+-0x2ee4;_0x3c36c3<_0x351da1['length'];++_0x3c36c3)if(_0x53d8bf[_0x3c36c3]!==_0x351da1[_0x3c36c3])return!(-0x17*0x79+0x1a5*-0x11+0x26d5);return!(0x1*-0x1081+-0xd6*0x2c+0x11c3*0x3);},_0x3c0ce0=new O2(_0x2378e6,_0x22c65f);let _0x434d8b;for(;;){if(await _0x3c0ce0['read'](),_0x3c0ce0['tail']>=Ug['length']&&!_0x5c022b(_0x3c0ce0['data'],Ug))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x434d8b=_0x49c27b(_0x3c0ce0['data'],Vg),_0x434d8b!==-(0x23c3+0x23e6+-0x47a8))break;}const _0x8dab33=new TextDecoder('ascii')['decode'](_0x3c0ce0['data']['subarray'](0x1d*-0x11c+-0x1*-0x249f+0x1*-0x473,_0x434d8b))['split']('\x0a'),{elements:_0x4a8f8b,format:_0x4038ed,comments:_0x4f58b6}=k2(_0x8dab33);if(_0x4038ed!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x3c0ce0['head']=_0x434d8b+Vg['length'],_0x3c0ce0['compact'](),{'data':await((async()=>B2(_0x4a8f8b)?await z2(_0x3c0ce0,_0x4a8f8b):(_0x4a8f8b['forEach'](_0x1ca576=>{_0x1ca576['properties']['forEach'](_0x33366f=>{const _0x317d4e=bf['get'](_0x33366f['type']);if(_0x317d4e){const _0x21d97b=!_0x38534b||_0x38534b(_0x33366f['name'])?new _0x317d4e(_0x1ca576['count']):null;_0x33366f['storage']=_0x21d97b;}});}),N2(_0x4a8f8b)?await U2(_0x3c0ce0,_0x4a8f8b):await V2(_0x3c0ce0,_0x4a8f8b)))()),'comments':_0x4f58b6};},H2=_0x1a2e72=>!(-0x2fa*0x4+0x1a6*-0x10+0xaf*0x38);class $2{constructor(_0x3d0be0,_0x49df3e,_0x395d0d){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x3d0be0,this['assets']=_0x49df3e,this['maxRetries']=_0x395d0d,this['urlList']=[],this['gsplatReso'+'urce']=null);}async['load'](_0x59ade8,_0x6e7dbb,_0x570819){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x59ade8['load']['includes'](',')?this['urlList']=_0x59ade8['load']['split'](','):this['urlList']['push'](_0x59ade8['load']);const _0x53d898=_0x570819['data']['loadAllSeq']?this['urlList']['length']:0x5*-0x3e5+0x1*0x877+-0xb03*-0x1,_0x112716=_0x570819['data']['timeOption'],_0x10c4dd=_0x570819['data']['events'];for(let _0x59ce8d=0x1*0x1+0x4d2*-0x1+0x19b*0x3;_0x59ce8d<_0x53d898;_0x59ce8d++)await this['loadGsplat'+'Data'](this['urlList'][_0x59ce8d]['trim'](),_0x6e7dbb,_0x570819,_0x59ce8d,_0x112716,_0x10c4dd);}async['loadGsplat'+'Data'](_0x29a291,_0xf9f3c1,_0x12f6e3,_0xebc6c2,_0x1e94de,_0x126360){var _0x27ba0b;try{const _0x4d2fa7=await fetch(_0x29a291);if(!_0x4d2fa7||!_0x4d2fa7['body'])_0xf9f3c1('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x41475f=parseInt(_0x4d2fa7['headers']['get']('content-le'+'ngth')??'0',0x1a*-0x130+-0x2*0x10ac+0xa*0x66d);let _0x261ff5=0x1682+-0x448+-0x91d*0x2;const {data:_0x16dba4,comments:_0x5cf455}=await G2(_0x4d2fa7['body']['getReader'](),_0x12f6e3['data']['elementFil'+'ter']??H2,_0x39fccd=>{_0x261ff5+=_0x39fccd,_0x12f6e3&&_0x126360['fire']('progress',_0x261ff5,_0x41475f);});_0x16dba4['isCompress'+'ed']||_0x12f6e3['data']['reorder'],this['gsplatReso'+'urce']&&((_0x27ba0b=this['gsplatReso'+'urce'])!=null&&_0x27ba0b['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x16dba4['isCompress'+'ed']&&_0x12f6e3['data']['decompress']?await _0x16dba4['decompress']():_0x16dba4,_0x1e94de,_0xebc6c2):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new F2(this['device'],_0x16dba4['isCompress'+'ed']&&_0x12f6e3['data']['decompress']?await _0x16dba4['decompress']():_0x16dba4,_0x5cf455),this['gsplatReso'+'urce']['timeOption']=_0x1e94de,_0x126360['fire']('progressEn'+'d')),_0xf9f3c1(null,this['gsplatReso'+'urce']);}}catch(_0x1d56fe){_0xf9f3c1(_0x1d56fe,null);}}['open'](_0x38b999,_0x52dfac){return _0x52dfac;}}class W2 extends Ne{constructor(_0x561d09){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x561d09,'gsplat'),this['parser']=new $2(_0x561d09['graphicsDe'+'vice'],_0x561d09['assets'],0x94b+-0x11b6+-0x53*-0x1a);}['load'](_0x5d920b,_0x24f823,_0x592701){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x5d920b=='string'&&(_0x5d920b={'load':_0x5d920b,'original':_0x5d920b}),this['parser']['load'](_0x5d920b,_0x24f823,_0x592701);}['open'](_0x46cc52,_0x21871d,_0x5cbb37){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x46cc52,_0x21871d,_0x5cbb37);}}class wf{static['setCompres'+'sedPRS'](_0x122a6a,_0x24f7f8,_0x4039ed){const _0x535033=_0x4039ed['singleVecs'];let _0x51ccb7,_0x39bea6;const _0x4ef1ba=_0x24f7f8['___1'];_0x4ef1ba||(_0x51ccb7=_0x4039ed['tripleVecs'],_0x39bea6=_0x24f7f8['___2']);let _0x55bbb1=_0x4ef1ba?_0x4ef1ba[0x7d*-0x13+0x237*-0xd+0x1309*0x2]:_0x51ccb7[_0x39bea6];_0x122a6a['setLocalPo'+'sition'](_0x535033[_0x55bbb1],_0x535033[_0x55bbb1+(-0x12c*-0x1c+0x19b+0x371*-0xa)],_0x535033[_0x55bbb1+(0x16e4+-0xbad+0x1*-0xb35)]),_0x55bbb1=_0x4ef1ba?_0x4ef1ba[0x56*0xf+0x1cb8+-0x21c1]:_0x51ccb7[_0x39bea6+(-0xb7b*-0x1+-0x623+-0x557)],_0x122a6a['setLocalEu'+'lerAngles'](_0x535033[_0x55bbb1],_0x535033[_0x55bbb1+(0x65e+-0x206d+0xc*0x22c)],_0x535033[_0x55bbb1+(-0xf73+-0x5*-0x406+-0x4a9)]),_0x55bbb1=_0x4ef1ba?_0x4ef1ba[0x344+0x236c+-0x26ae]:_0x51ccb7[_0x39bea6+(0x11*-0x2+0x2*-0xe49+0x7*0x41a)],_0x122a6a['setLocalSc'+'ale'](_0x535033[_0x55bbb1],_0x535033[_0x55bbb1+(-0xa*-0x1bd+0x1*-0x1b19+0x26e*0x4)],_0x535033[_0x55bbb1+(-0x46a+-0x1*-0x3ce+0x9e)]);}static['oneCharToK'+'ey'](_0x2c5e98,_0x34583f){const _0x32dc44=_0x2c5e98['charCodeAt'](0xffa+-0xe9b+-0xd*0x1b)-_0x34583f['fieldFirst'+'Code'];return _0x34583f['fieldArray'][_0x32dc44];}static['multCharTo'+'Key'](_0x9e3091,_0x3ad453){let _0x12ac86=-0x2032+0x43b*-0x9+0x4645;for(let _0x2453e2=0x56*-0x31+-0x11dc+0x2252*0x1;_0x2453e2<_0x9e3091['length'];_0x2453e2++)_0x12ac86=_0x12ac86*_0x3ad453['fieldCodeB'+'ase']+_0x9e3091['charCodeAt'](_0x2453e2)-_0x3ad453['fieldFirst'+'Code'];return _0x3ad453['fieldArray'][_0x12ac86];}}class sc{constructor(_0x21b0c2,_0x1f468c){this['_node']=_0x21b0c2,this['_data']=_0x1f468c;}['run'](){const _0x2d2e98=Object['prototype']['toString']['call'](this['_node']);return _0x2d2e98==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x2d2e98==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x386c6a){let _0x523301=_0x386c6a;const _0x24e3a1=_0x386c6a['length'];_0x24e3a1===-0xc73*0x1+0x6*0x7b+-0x1ea*-0x5?_0x523301=wf['oneCharToK'+'ey'](_0x386c6a,this['_data']):_0x24e3a1===0x21a1*-0x1+0xb*-0x37a+0x47e1&&(_0x523301=wf['multCharTo'+'Key'](_0x386c6a,this['_data'])),this['_result'][_0x523301]=new sc(this['_node'][_0x386c6a],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x4145cd){const _0x4cacff=new sc(_0x4145cd,this['_data'])['run']();this['_result']['push'](_0x4cacff);}}class $p{constructor(_0x872273,_0x50ced3){this['_app']=_0x872273,this['_isTemplat'+'e']=_0x50ced3;}['parse'](_0x2b5089){const _0x2a77a4={};let _0x49e5ba=null;const _0x40360c=_0x2b5089['compressed'+'Format'];_0x40360c&&!_0x2b5089['entDecompr'+'essed']&&(_0x2b5089['entDecompr'+'essed']=!(0x231*0x4+0x1*-0x1541+0xc7d),_0x2b5089['entities']=new sc(_0x2b5089['entities'],_0x40360c)['run']());for(const _0x38d53f in _0x2b5089['entities']){const _0xdbb16=_0x2b5089['entities'][_0x38d53f],_0x56d11f=this['_createEnt'+'ity'](_0xdbb16,_0x40360c);_0x2a77a4[_0x38d53f]=_0x56d11f,_0xdbb16['parent']===null&&(_0x49e5ba=_0x56d11f);}for(const _0x37392e in _0x2b5089['entities']){const _0x1e41b9=_0x2a77a4[_0x37392e],_0x1ccbc9=_0x2b5089['entities'][_0x37392e]['children'],_0x121dd2=_0x1ccbc9['length'];for(let _0x18b6dd=0x210a+-0x29*-0xa+0x5c6*-0x6;_0x18b6dd<_0x121dd2;_0x18b6dd++){const _0x2f747d=_0x2a77a4[_0x1ccbc9[_0x18b6dd]];_0x2f747d&&_0x1e41b9['addChild'](_0x2f747d);}}return this['_openCompo'+'nentData'](_0x49e5ba,_0x2b5089['entities']),_0x49e5ba;}['_createEnt'+'ity'](_0x31c14a,_0x3d6090){const _0x448e02=new $e(_0x31c14a['name'],this['_app']);if(_0x448e02['setGuid'](_0x31c14a['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x448e02,_0x31c14a,_0x3d6090),_0x448e02['_enabled']=_0x31c14a['enabled']??!(0x57a*-0x1+-0xf25+-0x1*-0x149f),this['_isTemplat'+'e']?_0x448e02['_template']=!(-0x1*0x1b23+0x2*-0x38b+-0x2239*-0x1):_0x448e02['_enabledIn'+'Hierarchy']=_0x448e02['_enabled'],_0x448e02['template']=_0x31c14a['template'],_0x31c14a['tags']){for(let _0x3f1cc6=0xe21*0x1+0x154f+-0x10*0x237;_0x3f1cc6<_0x31c14a['tags']['length'];_0x3f1cc6++)_0x448e02['tags']['add'](_0x31c14a['tags'][_0x3f1cc6]);}return _0x448e02;}['_setPosRot'+'Scale'](_0x5817d4,_0x4e4539,_0x4c8398){if(_0x4c8398)wf['setCompres'+'sedPRS'](_0x5817d4,_0x4e4539,_0x4c8398);else{const _0x3809ab=_0x4e4539['position'],_0x3434c3=_0x4e4539['rotation'],_0x3b157=_0x4e4539['scale'];_0x5817d4['setLocalPo'+'sition'](_0x3809ab[-0xef0+0x29*-0xd6+0x3136*0x1],_0x3809ab[-0x4*0x16a+0x1*0xa1f+-0x476],_0x3809ab[0x584+-0x149d+0x509*0x3]),_0x5817d4['setLocalEu'+'lerAngles'](_0x3434c3[-0x664*0x5+0x1b88+0x46c],_0x3434c3[-0xd*0x207+-0xac3+0x251f],_0x3434c3[-0x2642+-0x9ac+0xec*0x34]),_0x5817d4['setLocalSc'+'ale'](_0x3b157[-0x69f+-0x1a78+-0x1*-0x2117],_0x3b157[-0xfde+0x1801+-0x822],_0x3b157[0x1f*0x5+0x2519*-0x1+0x2480]);}}['_openCompo'+'nentData'](_0x3645a3,_0x301e16){const _0x90135a=this['_app']['systems']['list'];let _0x170a13=_0x90135a['length'];const _0x1db115=_0x301e16[_0x3645a3['getGuid']()];for(let _0x56d93f=-0x8b*0x34+0x2*0xbd1+-0x26*-0x1f;_0x56d93f<_0x170a13;_0x56d93f++){const _0x4eb3d5=_0x90135a[_0x56d93f],_0x1509c7=_0x1db115['components'][_0x4eb3d5['id']];_0x1509c7&&_0x4eb3d5['addCompone'+'nt'](_0x3645a3,_0x1509c7);}_0x170a13=_0x1db115['children']['length'];const _0x42cad8=_0x3645a3['_children'];for(let _0x56fd5e=0xae7+-0x12*0x113+0x86f;_0x56fd5e<_0x170a13;_0x56fd5e++)_0x42cad8[_0x56fd5e]?_0x42cad8[_0x56fd5e]=this['_openCompo'+'nentData'](_0x42cad8[_0x56fd5e],_0x301e16):v['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x3645a3['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x3645a3;}}class Lx{static['load'](_0x1b288c,_0x1a1917,_0x165640){typeof _0x1b288c=='string'&&(_0x1b288c={'load':_0x1b288c,'original':_0x1b288c}),We['get'](_0x1b288c['load'],{'retry':_0x1a1917>-0x2042+0x15c*0x3+0x1c2e,'maxRetries':_0x1a1917},(_0xcb77a0,_0x231fc0)=>{if(!_0xcb77a0)_0x165640(_0xcb77a0,_0x231fc0);else{let _0x6599e3='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x1b288c['original'];_0xcb77a0['message']?(_0x6599e3+=':\x20'+_0xcb77a0['message'],_0xcb77a0['stack']&&(_0x6599e3+='\x0a'+_0xcb77a0['stack'])):_0x6599e3+=':\x20'+_0xcb77a0,_0x165640(_0x6599e3);}});}}class q2 extends Ne{constructor(_0x34fcd1){super(_0x34fcd1,'hierarchy');}['load'](_0x18e95e,_0x1398cf){Lx['load'](_0x18e95e,this['maxRetries'],_0x1398cf);}['open'](_0x592a46,_0x51beda){this['_app']['systems']['script']['preloading']=!(0x1bf4+0x2*0x2c2+0x54*-0x66);const _0x477511=new $p(this['_app'],!(0x2511*-0x1+0x5f9*-0x2+0x3104*0x1))['parse'](_0x51beda);return this['_app']['systems']['script']['preloading']=!(-0xdcb+0x1*0x99b+-0x25*-0x1d),_0x477511;}}class X2 extends Ne{constructor(_0x4a9c79){super(_0x4a9c79,'html'),c(this,'decoder',null);}['load'](_0x3cce48,_0x1e9e59){typeof _0x3cce48=='string'&&(_0x3cce48={'load':_0x3cce48,'original':_0x3cce48}),We['get'](_0x3cce48['load'],{'retry':this['maxRetries']>0xbe*-0x2+-0x146f+0x15eb,'maxRetries':this['maxRetries']},(_0x45689f,_0x459dac)=>{_0x45689f?_0x1e9e59('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x3cce48['original']+'\x20['+_0x45689f+']'):_0x1e9e59(null,_0x459dac);});}['openBinary'](_0x20a502){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x20a502);}}class j2 extends Ne{constructor(_0x2f1378){super(_0x2f1378,'json'),c(this,'decoder',null);}['load'](_0x46a507,_0x505f5a){typeof _0x46a507=='string'&&(_0x46a507={'load':_0x46a507,'original':_0x46a507});const _0x51a11e={'retry':this['maxRetries']>0x69+-0x7e1+0x1*0x778,'maxRetries':this['maxRetries']};_0x46a507['load']['startsWith']('blob:')&&(_0x51a11e['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x46a507['load'],_0x51a11e,(_0x201521,_0xa3bf6c)=>{_0x201521?_0x505f5a('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x46a507['original']+'\x20['+_0x201521+']'):_0x505f5a(null,_0xa3bf6c);});}['openBinary'](_0x5061dd){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x5061dd));}}class Y2{constructor(){this['removeInva'+'lid']=!(-0x1*0xfc3+0x1c68+-0x1*0xca5),this['valid']=!(0x89*-0x1+0x15dd+-0x1554),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Bo,Lu]),'cull':this['_createEnu'+'mValidator']([mt,rn,mo,RS]),'blendType':this['_createEnu'+'mValidator']([n0,yp,Kt,is,hr,xp,Hc,a0,o0,l0,h0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Eh,Ch,fu,DS,LS,FS,Ai])};}['setInvalid'](_0x1ee9c0,_0x19e558){this['valid']=!(-0x1239+0x3*0xc37+-0x126b),v['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x1ee9c0,_0x19e558[_0x1ee9c0]),this['removeInva'+'lid']&&delete _0x19e558[_0x1ee9c0];}['validate'](_0x1ae0a7){const _0x24d9a1=Pa,_0x3f038d=QC,_0x300517=_0x1ae0a7['mappingFor'+'mat']==='path';for(const _0x2670bd in _0x1ae0a7){const _0x171c80=_0x24d9a1[_0x2670bd];if(!_0x171c80){_0x3f038d[_0x2670bd]?delete _0x1ae0a7[_0x2670bd]:(v['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x2670bd),this['valid']=!(-0x1f84+0x8*-0x49d+0x446d));continue;}if(_0x171c80['startsWith']('enum')){const _0x311175=_0x171c80['split'](':')[-0x567*-0x7+-0x92a+-0x1ca6];this['enumValida'+'tors'][_0x311175]&&(this['enumValida'+'tors'][_0x311175](_0x1ae0a7[_0x2670bd])||this['setInvalid'](_0x2670bd,_0x1ae0a7));}else{if(_0x171c80==='number')typeof _0x1ae0a7[_0x2670bd]!='number'&&this['setInvalid'](_0x2670bd,_0x1ae0a7);else{if(_0x171c80==='boolean')typeof _0x1ae0a7[_0x2670bd]!='boolean'&&this['setInvalid'](_0x2670bd,_0x1ae0a7);else{if(_0x171c80==='string')typeof _0x1ae0a7[_0x2670bd]!='string'&&this['setInvalid'](_0x2670bd,_0x1ae0a7);else{if(_0x171c80==='vec2')_0x1ae0a7[_0x2670bd]instanceof Array&&_0x1ae0a7[_0x2670bd]['length']===-0x882+0xc5c+-0x3d8||this['setInvalid'](_0x2670bd,_0x1ae0a7);else{if(_0x171c80==='rgb')_0x1ae0a7[_0x2670bd]instanceof Array&&_0x1ae0a7[_0x2670bd]['length']===0x14ee+-0x3*-0x7a4+-0x2bd7||this['setInvalid'](_0x2670bd,_0x1ae0a7);else{if(_0x171c80==='texture')_0x300517?typeof _0x1ae0a7[_0x2670bd]=='string'||_0x1ae0a7[_0x2670bd]===null||_0x1ae0a7[_0x2670bd]instanceof he||this['setInvalid'](_0x2670bd,_0x1ae0a7):typeof _0x1ae0a7[_0x2670bd]=='number'||_0x1ae0a7[_0x2670bd]===null||_0x1ae0a7[_0x2670bd]instanceof he||this['setInvalid'](_0x2670bd,_0x1ae0a7);else{if(_0x171c80==='boundingbo'+'x')_0x1ae0a7[_0x2670bd]['center']&&_0x1ae0a7[_0x2670bd]['center']instanceof Array&&_0x1ae0a7[_0x2670bd]['center']['length']===-0x1b*-0x48+-0x1*0x202d+0x2*0xc4c||this['setInvalid'](_0x2670bd,_0x1ae0a7),_0x1ae0a7[_0x2670bd]['halfExtent'+'s']&&_0x1ae0a7[_0x2670bd]['halfExtent'+'s']instanceof Array&&_0x1ae0a7[_0x2670bd]['halfExtent'+'s']['length']===-0x1*0xa7e+-0x20*-0x11a+-0x18bf||this['setInvalid'](_0x2670bd,_0x1ae0a7);else{if(_0x171c80==='cubemap')typeof _0x1ae0a7[_0x2670bd]=='number'||_0x1ae0a7[_0x2670bd]===null||_0x1ae0a7[_0x2670bd]===void(-0x1c22+0x1716+0x50c)||_0x1ae0a7[_0x2670bd]instanceof he&&_0x1ae0a7[_0x2670bd]['cubemap']||this['setInvalid'](_0x2670bd,_0x1ae0a7);else{if(_0x171c80==='chunks'){const _0x434b68=Object['keys'](_0x1ae0a7[_0x2670bd]);for(let _0x243e02=0x2c3*0x2+-0xc8f+-0x709*-0x1;_0x243e02<_0x434b68['length'];_0x243e02++)typeof _0x1ae0a7[_0x2670bd][_0x434b68[_0x243e02]]!='string'&&this['setInvalid'](_0x434b68[_0x243e02],_0x1ae0a7[_0x2670bd]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x171c80);}}}}}}}}}}return _0x1ae0a7['validated']=!(0x1*-0x13d9+0x1*-0x15b+0x1*0x1534),this['valid'];}['_createEnu'+'mValidator'](_0x595eda){return function(_0x5104fe){return _0x595eda['indexOf'](_0x5104fe)>=0xc2a+-0xbea+-0x10*0x4;};}}class K2{constructor(){this['_validator']=null;}['parse'](_0x18a510){const _0x1a97d6=this['migrate'](_0x18a510),_0x5c5d34=this['_validate'](_0x1a97d6),_0xe01986=new cs();return this['initialize'](_0xe01986,_0x5c5d34),_0xe01986;}['initialize'](_0x365090,_0x4d6199){_0x4d6199['validated']||(_0x4d6199=this['_validate'](_0x4d6199)),_0x4d6199['chunks']&&(_0x365090['chunks']={..._0x4d6199['chunks']});for(const _0x4c337a in _0x4d6199){const _0x3756cb=Pa[_0x4c337a],_0x5af181=_0x4d6199[_0x4c337a];if(_0x3756cb==='vec2')_0x365090[_0x4c337a]=new $(_0x5af181[-0x5*-0x2a8+0x121f*0x1+0x1*-0x1f67],_0x5af181[0x2169*0x1+-0xe1f+-0x1349]);else{if(_0x3756cb==='rgb')_0x365090[_0x4c337a]=new Y(_0x5af181[-0x18f6+-0x5ad*-0x5+-0x36b],_0x5af181[-0xa4d+0x13c*0xc+-0x482],_0x5af181[-0x3*-0xb1e+0x21fb+-0x4353]);else{if(_0x3756cb==='texture')_0x5af181 instanceof he?_0x365090[_0x4c337a]=_0x5af181:_0x365090[_0x4c337a]instanceof he&&typeof _0x5af181=='number'&&_0x5af181>-0x1291+0x71e*0x4+0x9e7*-0x1||(_0x365090[_0x4c337a]=null);else{if(_0x3756cb==='cubemap')_0x5af181 instanceof he?_0x365090[_0x4c337a]=_0x5af181:_0x365090[_0x4c337a]instanceof he&&typeof _0x5af181=='number'&&_0x5af181>0xe3*0x22+-0x2a0+-0x1b86||(_0x365090[_0x4c337a]=null),_0x4c337a==='cubeMap'&&!_0x5af181&&(_0x365090['prefiltere'+'dCubemaps']=null);else{if(_0x3756cb==='boundingbo'+'x'){const _0xa23b85=new T(_0x5af181['center'][-0x10b9+0x1c45*0x1+-0x2e3*0x4],_0x5af181['center'][0xeca+0x1*-0x67f+-0x84a],_0x5af181['center'][0x1*0x1c73+-0x1*-0x121a+-0x2e8b]),_0x890f02=new T(_0x5af181['halfExtent'+'s'][-0x848+0x16f0+-0xea8],_0x5af181['halfExtent'+'s'][-0x1d*-0x31+-0xdca+0x1*0x83e],_0x5af181['halfExtent'+'s'][-0x164c+0x23cc+0x6bf*-0x2]);_0x365090[_0x4c337a]=new _e(_0xa23b85,_0x890f02);}else _0x365090[_0x4c337a]=_0x4d6199[_0x4c337a];}}}}}_0x365090['update']();}['migrate'](_0x531de6){_0x531de6['shader']&&delete _0x531de6['shader'],_0x531de6['mapping_fo'+'rmat']&&(_0x531de6['mappingFor'+'mat']=_0x531de6['mapping_fo'+'rmat'],delete _0x531de6['mapping_fo'+'rmat']);let _0xbcf22a;const _0x5e0f44=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0xbcf22a=-0x143f*-0x1+-0x14e3*0x1+0xa4;_0xbcf22a<_0x5e0f44['length'];_0xbcf22a++){const _0x562a47=_0x5e0f44[_0xbcf22a][-0x1*-0x187a+-0x10b7+-0x7c3],_0x536928=_0x5e0f44[_0xbcf22a][-0x1ee1+-0x1c3f+-0x1*-0x3b21];_0x531de6[_0x562a47]!==void(0x1*0x622+0xcb1*0x1+0x4f*-0x3d)&&(_0x531de6[_0x536928]===void(-0x1*0x145+0x15db+-0x1496)&&(_0x531de6[_0x536928]=_0x531de6[_0x562a47]),delete _0x531de6[_0x562a47]);}const _0x4abf99=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0xbcf22a=0x1d3c+0x25c*0xd+0x1aa*-0x24;_0xbcf22a<_0x4abf99['length'];_0xbcf22a++){const _0x4fc921=_0x4abf99[_0xbcf22a];_0x531de6['hasOwnProp'+'erty'](_0x4fc921)&&delete _0x531de6[_0x4fc921];}return _0x531de6;}['_validate'](_0x49f723){return _0x49f723['validated']||(this['_validator']||(this['_validator']=new Y2()),this['_validator']['validate'](_0x49f723)),_0x49f723;}}const Z2={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class Q2 extends Ne{constructor(_0x3f420a){super(_0x3f420a,'material'),this['_assets']=_0x3f420a['assets'],this['_device']=_0x3f420a['graphicsDe'+'vice'],this['_parser']=new K2();}['load'](_0x2bc65d,_0x2a2245){typeof _0x2bc65d=='string'&&(_0x2bc65d={'load':_0x2bc65d,'original':_0x2bc65d}),We['get'](_0x2bc65d['load'],{'retry':this['maxRetries']>-0x1*0x2162+-0xcc7*-0x2+0x7d4,'maxRetries':this['maxRetries']},(_0x27bf63,_0x3f7146)=>{_0x27bf63?_0x2a2245&&_0x2a2245('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x2bc65d['original']+'\x20['+_0x27bf63+']'):_0x2a2245&&(_0x3f7146['_engine']=!(-0x10ab+0x23f0+-0x1345),_0x2a2245(null,_0x3f7146));});}['open'](_0xe1ac44,_0x3a4ba1){const _0x3de726=this['_parser']['parse'](_0x3a4ba1);return _0x3a4ba1['_engine']&&(_0x3de726['_data']=_0x3a4ba1,delete _0x3a4ba1['_engine']),_0x3de726;}['patch'](_0x1418f8,_0x4d401c){_0x1418f8['resource']['_data']&&(_0x1418f8['_data']=_0x1418f8['resource']['_data'],delete _0x1418f8['resource']['_data']),_0x1418f8['data']['name']=_0x1418f8['name'],_0x1418f8['resource']['name']=_0x1418f8['name'],this['_bindAndAs'+'signAssets'](_0x1418f8,_0x4d401c),_0x1418f8['off']('unload',this['_onAssetUn'+'load'],this),_0x1418f8['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x2c4048){delete _0x2c4048['data']['parameters'],delete _0x2c4048['data']['chunks'],delete _0x2c4048['data']['name'];}['_assignTex'+'ture'](_0x117489,_0x3f0177,_0x38d586){_0x3f0177['resource'][_0x117489]=_0x38d586;}['_getPlaceh'+'olderTextu'+'re'](_0x4822fe){const _0x4bb75d=Z2[_0x4822fe];return v['assert'](_0x4bb75d,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x4822fe),en(this['_device'],_0x4bb75d);}['_assignPla'+'ceholderTe'+'xture'](_0x49677b,_0xbffa86){_0xbffa86['resource'][_0x49677b]=this['_getPlaceh'+'olderTextu'+'re'](_0x49677b);}['_onTexture'+'Load'](_0x2e8f3b,_0x1076ce,_0x5a5dd2){this['_assignTex'+'ture'](_0x2e8f3b,_0x1076ce,_0x5a5dd2['resource']),_0x1076ce['resource']['update']();}['_onTexture'+'Add'](_0x59d3fb,_0x273fb3,_0x3d1d04){this['_assets']['load'](_0x3d1d04);}['_onTexture'+'RemoveOrUn'+'load'](_0x46283b,_0x41f82d,_0x2a798f){const _0x3f71da=_0x41f82d['resource'];_0x3f71da&&_0x41f82d['resource'][_0x46283b]===_0x2a798f['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x46283b,_0x41f82d),_0x3f71da['update']());}['_assignCub'+'emap'](_0x656a56,_0x307a5b,_0x3a882d){if(_0x307a5b['resource'][_0x656a56]=_0x3a882d[-0xe3*-0x5+-0x21c+-0x253],_0x656a56==='cubeMap'){const _0x1b7259=_0x3a882d['slice'](-0x2259+-0x913+0x1*0x2b6d);_0x1b7259['every'](_0x1214c6=>_0x1214c6)?_0x307a5b['resource']['prefiltere'+'dCubemaps']=_0x1b7259:_0x1b7259[-0x14d2+0xe41+0x29*0x29]&&(_0x307a5b['resource']['envAtlas']=_0x1b7259[0x8e*0x26+0x1aa3+-0x2fb7]);}}['_onCubemap'+'Load'](_0x1d81b4,_0x553398,_0x81854f){this['_assignCub'+'emap'](_0x1d81b4,_0x553398,_0x81854f['resources']),this['_parser']['initialize'](_0x553398['resource'],_0x553398['data']);}['_onCubemap'+'Add'](_0x478a6f,_0x2b981f,_0x33d4a1){this['_assets']['load'](_0x33d4a1);}['_onCubemap'+'RemoveOrUn'+'load'](_0x551eea,_0x363697,_0x43f832){const _0x40d519=_0x363697['resource'];_0x363697['data']['prefiltere'+'dCubeMap12'+'8']===_0x43f832['resources'][0x2*-0x656+-0x7*-0x322+0x1*-0x941]&&(this['_assignCub'+'emap'](_0x551eea,_0x363697,[null,null,null,null,null,null,null]),_0x40d519['update']());}['_bindAndAs'+'signAssets'](_0x9f44d7,_0x40909e){const _0x3185bf=this['_parser']['migrate'](_0x9f44d7['data']),_0x46e1fe=_0x9f44d7['resource'],_0x3ca394=_0x3185bf['mappingFor'+'mat']==='path',_0x4eb289=Kc;let _0x336962,_0x4c927c,_0x2c1f8e;for(_0x336962=-0x4f*-0x65+0x246a+0x49*-0xed;_0x336962<_0x4eb289['length'];_0x336962++){_0x4c927c=_0x4eb289[_0x336962],_0x2c1f8e=_0x46e1fe['_assetRefe'+'rences'][_0x4c927c];const _0x420ccc=_0x3185bf[_0x4c927c],_0x1cf5ae=_0x46e1fe[_0x4c927c],_0x490bb1=_0x1cf5ae===this['_getPlaceh'+'olderTextu'+'re'](_0x4c927c),_0x8843b=_0x3185bf['validated'];_0x420ccc&&(!_0x1cf5ae||!_0x8843b||_0x490bb1)?(_0x2c1f8e||(_0x2c1f8e=new Go(_0x4c927c,_0x9f44d7,_0x40909e,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x46e1fe['_assetRefe'+'rences'][_0x4c927c]=_0x2c1f8e),_0x3ca394?_0x2c1f8e['url']=_0x9f44d7['getAbsolut'+'eUrl'](_0x420ccc):_0x2c1f8e['id']=_0x420ccc,_0x2c1f8e['asset']&&(_0x2c1f8e['asset']['resource']?this['_assignTex'+'ture'](_0x4c927c,_0x9f44d7,_0x2c1f8e['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x4c927c,_0x9f44d7),_0x40909e['load'](_0x2c1f8e['asset']))):_0x2c1f8e&&(_0x3ca394?_0x2c1f8e['url']=null:_0x2c1f8e['id']=null);}const _0x3449c7=Fp;for(_0x336962=0x266a+0x21e*-0x11+0x1f*-0x14;_0x336962<_0x3449c7['length'];_0x336962++)_0x4c927c=_0x3449c7[_0x336962],_0x2c1f8e=_0x46e1fe['_assetRefe'+'rences'][_0x4c927c],_0x3185bf[_0x4c927c]&&!_0x9f44d7['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x2c1f8e||(_0x2c1f8e=new Go(_0x4c927c,_0x9f44d7,_0x40909e,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x46e1fe['_assetRefe'+'rences'][_0x4c927c]=_0x2c1f8e),_0x3ca394?_0x2c1f8e['url']=_0x3185bf[_0x4c927c]:_0x2c1f8e['id']=_0x3185bf[_0x4c927c],_0x2c1f8e['asset']&&(_0x2c1f8e['asset']['loaded']&&this['_assignCub'+'emap'](_0x4c927c,_0x9f44d7,_0x2c1f8e['asset']['resources']),_0x40909e['load'](_0x2c1f8e['asset'])));this['_parser']['initialize'](_0x46e1fe,_0x3185bf);}}class J2{constructor(_0x39fb73){this['_device']=_0x39fb73['device'],this['_defaultMa'+'terial']=_0x39fb73['defaultMat'+'erial'],this['_assets']=_0x39fb73['assets'];}['parse'](_0x55f38d,_0x388f08,_0x3627b9){tc['parse']('filename.g'+'lb','',_0x55f38d,this['_device'],this['_assets'],(_0x3627b9==null?void(0x22d2+-0x1b47+-0x78b):_0x3627b9['options'])??{},(_0x508ecb,_0x45bbc6)=>{if(_0x508ecb)_0x388f08(_0x508ecb);else{const _0x446c30=tr['createMode'+'l'](_0x45bbc6,this['_defaultMa'+'terial']);_0x45bbc6['destroy'](),_0x388f08(null,_0x446c30);}});}}const eL={'points':Mc,'lines':Pc,'lineloop':My,'linestrip':Py,'triangles':Ms,'trianglestrip':ar,'trianglefan':Yr},tL={'int8':Rc,'uint8':Kr,'int16':Ic,'uint16':el,'int32':By,'uint32':Do,'float32':Ee};class sL{constructor(_0x1316d4){this['_device']=_0x1316d4['device'],this['_defaultMa'+'terial']=_0x1316d4['defaultMat'+'erial'];}['parse'](_0x3ef7f3,_0xc8210f){const _0x469a62=_0x3ef7f3['model'];if(!_0x469a62){_0xc8210f(null,null);return;}if(_0x469a62['version']<=0x31*0x25+0x2508+-0x2c1c){_0xc8210f('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x639f0a=this['_parseNode'+'s'](_0x3ef7f3),_0x1d8535=this['_parseSkin'+'s'](_0x3ef7f3,_0x639f0a),_0x174a46=this['_parseVert'+'exBuffers'](_0x3ef7f3),_0x5461e2=this['_parseInde'+'xBuffers'](_0x3ef7f3,_0x174a46),_0x5c3a47=this['_parseMorp'+'hs'](_0x3ef7f3,_0x639f0a,_0x174a46),_0x29fd47=this['_parseMesh'+'es'](_0x3ef7f3,_0x1d8535['skins'],_0x5c3a47['morphs'],_0x174a46,_0x5461e2['buffer'],_0x5461e2['data']),_0x191da5=this['_parseMesh'+'Instances'](_0x3ef7f3,_0x639f0a,_0x29fd47,_0x1d8535['skins'],_0x1d8535['instances'],_0x5c3a47['morphs'],_0x5c3a47['instances']),_0x78b041=new Oi();_0x78b041['graph']=_0x639f0a[0x13*0x2+-0xffe+0xd*0x138],_0x78b041['meshInstan'+'ces']=_0x191da5,_0x78b041['skinInstan'+'ces']=_0x1d8535['instances'],_0x78b041['morphInsta'+'nces']=_0x5c3a47['instances'],_0x78b041['getGraph']()['syncHierar'+'chy'](),_0xc8210f(null,_0x78b041);}['_parseNode'+'s'](_0x473b27){const _0x588f42=_0x473b27['model'],_0x5c7db8=[];let _0x317486;for(_0x317486=-0x23e1+0x1567+-0x6d*-0x22;_0x317486<_0x588f42['nodes']['length'];_0x317486++){const _0x1aa3d6=_0x588f42['nodes'][_0x317486],_0x292ff5=new De(_0x1aa3d6['name']);_0x292ff5['setLocalPo'+'sition'](_0x1aa3d6['position'][-0xd83*-0x1+-0x10*-0x232+0x1*-0x30a3],_0x1aa3d6['position'][0x245e+-0x1e50+-0x60d],_0x1aa3d6['position'][0x204f+0x1edd+-0x3f2a]),_0x292ff5['setLocalEu'+'lerAngles'](_0x1aa3d6['rotation'][-0x1*-0x2605+-0xaa2*-0x1+0x1*-0x30a7],_0x1aa3d6['rotation'][0x22*0x15+0x16ed+-0x19b6],_0x1aa3d6['rotation'][-0x2f*-0x6d+0x1387*-0x2+0x130d*0x1]),_0x292ff5['setLocalSc'+'ale'](_0x1aa3d6['scale'][0xad3+-0xbff+0x12c],_0x1aa3d6['scale'][0x4eb*-0x1+-0x426+0x912],_0x1aa3d6['scale'][-0x9d+-0x3c6+0x465]),_0x292ff5['scaleCompe'+'nsation']=!!_0x1aa3d6['scaleCompe'+'nsation'],_0x5c7db8['push'](_0x292ff5);}for(_0x317486=-0xaa1+-0x1*-0x22f3+0xf9*-0x19;_0x317486<_0x588f42['parents']['length'];_0x317486++)_0x5c7db8[_0x588f42['parents'][_0x317486]]['addChild'](_0x5c7db8[_0x317486]);return _0x5c7db8;}['_parseSkin'+'s'](_0x59b764,_0x357077){const _0x149933=_0x59b764['model'],_0x2aa60b=[],_0xd44b34=[];let _0x4dd6c0,_0xfe9908;for(_0x4dd6c0=-0xab5*0x1+-0x21*-0x8d+-0x778;_0x4dd6c0<_0x149933['skins']['length'];_0x4dd6c0++){const _0x462bdf=_0x149933['skins'][_0x4dd6c0],_0x318fc3=[];for(_0xfe9908=0x17b1+-0x17f3+-0xb*-0x6;_0xfe9908<_0x462bdf['inverseBin'+'dMatrices']['length'];_0xfe9908++){const _0x5178c9=_0x462bdf['inverseBin'+'dMatrices'][_0xfe9908];_0x318fc3[_0xfe9908]=new q()['set'](_0x5178c9);}const _0x55bec7=new N0(this['_device'],_0x318fc3,_0x462bdf['boneNames']);_0x2aa60b['push'](_0x55bec7);const _0x1989d1=new nl(_0x55bec7),_0x3f38c2=[];for(_0xfe9908=0x1*0x9c9+0x1*-0x2637+0x1*0x1c6e;_0xfe9908<_0x55bec7['boneNames']['length'];_0xfe9908++){const _0x29f67b=_0x55bec7['boneNames'][_0xfe9908],_0x33e73e=_0x357077[0x2a6+-0x1535*0x1+0x1*0x128f]['findByName'](_0x29f67b);_0x3f38c2['push'](_0x33e73e);}_0x1989d1['bones']=_0x3f38c2,_0xd44b34['push'](_0x1989d1);}return{'skins':_0x2aa60b,'instances':_0xd44b34};}['_getMorphV'+'ertexCount'](_0x342159,_0x2e4f7e,_0x186662){for(let _0x47cf4f=-0x1*0x14c5+-0x2b*0x39+0x2*0xf2c;_0x47cf4f<_0x342159['meshes']['length'];_0x47cf4f++){const _0x34ad96=_0x342159['meshes'][_0x47cf4f];if(_0x34ad96['morph']===_0x2e4f7e)return _0x186662[_0x34ad96['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x3ecf9a,_0x1ed908,_0x294228){const _0x1ee440=_0x3ecf9a['model'],_0x188b07=[],_0x460e25=[];let _0x250a1c,_0x401304,_0x1f3026,_0x25bc1d,_0x46c191,_0x42023b;if(_0x1ee440['morphs']){const _0x20ced5=function(_0x15851d,_0x17b32a,_0x46ea72){const _0x568c11=new Float32Array(_0x46ea72*(0x3*0xbf5+-0x1*-0xc7+-0x53*0x71));for(let _0x42c132=0x180b+-0x1*0x2225+-0x1*-0xa1a;_0x42c132<_0x17b32a['length'];_0x42c132++){const _0x2cfd1f=_0x17b32a[_0x42c132]*(-0x1*0xaa5+-0x83*-0x3d+-0x148f);_0x568c11[_0x2cfd1f]=_0x15851d[_0x42c132*(-0x6d*-0x2f+-0xa6d+0x3*-0x331)],_0x568c11[_0x2cfd1f+(0x1005+-0x2622+0x161e)]=_0x15851d[_0x42c132*(0xc48+0x2*-0x135b+0x3c7*0x7)+(-0x1913+0x1b66+-0x252)],_0x568c11[_0x2cfd1f+(0x12fd*-0x2+-0x70e*0x1+0x1*0x2d0a)]=_0x15851d[_0x42c132*(0x18bb+-0x1e58+0x30*0x1e)+(-0x3*-0x619+-0x9*-0x3f+0xa4*-0x20)];}return _0x568c11;};for(_0x250a1c=-0xf78+-0x1474+0x23ec;_0x250a1c<_0x1ee440['morphs']['length'];_0x250a1c++){for(_0x25bc1d=_0x1ee440['morphs'][_0x250a1c]['targets'],_0x42023b=[],_0x1f3026=this['_getMorphV'+'ertexCount'](_0x1ee440,_0x250a1c,_0x294228),_0x401304=0x7b*0x3+0x259*-0x3+0x59a;_0x401304<_0x25bc1d['length'];_0x401304++){const _0xd82c7d=_0x25bc1d[_0x401304]['aabb'],_0x4b9f11=_0xd82c7d['min'],_0x2ade26=_0xd82c7d['max'],_0x5c6639=new _e(new T((_0x2ade26[0x21f4*-0x1+0x1ac6+0x72e]+_0x4b9f11[0x3a*0x2+0x2c*0x37+0x13d*-0x8])*(0x818+0x4*0x5c9+-0xf9e*0x2+0.5),(_0x2ade26[0x21c0+0x1bc5*0x1+0x4*-0xf61]+_0x4b9f11[-0x1d95+0x1a5b+0x33b])*(-0xcea+-0x27*0xf+0xf33+0.5),(_0x2ade26[0xccb*0x1+-0x1605+0x93c]+_0x4b9f11[-0x1a5b+-0xbe*0x30+-0x3dfd*-0x1])*(-0x644*-0x1+-0x1*0x1134+-0x8*-0x15e+0.5)),new T((_0x2ade26[0x12a4+-0xffb+-0x3*0xe3]-_0x4b9f11[0x1a63+-0xfa4+0x15*-0x83])*(0xf34+0x2321+-0xa11*0x5+0.5),(_0x2ade26[0x2d*-0xb6+0x1*0x210e+-0x10f]-_0x4b9f11[0x4*0x3fd+0x3*0x3bd+0x3d*-0x72])*(0x35*-0x9f+0x3b8+0x19*0x12b+0.5),(_0x2ade26[-0x1*0xeaa+0x1*0xbab+-0x1*-0x301]-_0x4b9f11[0x54c+-0x18cb+-0x1381*-0x1])*(0x10fe+-0x1*-0xb17+0x229*-0xd+0.5))),_0x955082=_0x25bc1d[_0x401304]['indices'];let _0x1aca05=_0x25bc1d[_0x401304]['deltaPosit'+'ions'],_0xcc6747=_0x25bc1d[_0x401304]['deltaNorma'+'ls'];_0x955082&&(_0x1aca05=_0x20ced5(_0x1aca05,_0x955082,_0x1f3026),_0xcc6747=_0x20ced5(_0xcc6747,_0x955082,_0x1f3026)),_0x46c191=new Qc({'deltaPositions':_0x1aca05,'deltaNormals':_0xcc6747,'name':_0x25bc1d[_0x401304]['name'],'aabb':_0x5c6639}),_0x42023b['push'](_0x46c191);}const _0x533bca=new F0(_0x42023b,this['_device']);_0x188b07['push'](_0x533bca);const _0x35e353=new fn(_0x533bca);_0x460e25['push'](_0x35e353);}}return{'morphs':_0x188b07,'instances':_0x460e25};}['_parseVert'+'exBuffers'](_0x42e6e1){const _0x54f6e4=_0x42e6e1['model'],_0xc64daa=[],_0x319e08={'position':He,'normal':Yt,'tangent':Zs,'blendWeight':Ys,'blendIndices':qt,'color':At,'texCoord0':ns,'texCoord1':_n,'texCoord2':jo,'texCoord3':Yo,'texCoord4':Ko,'texCoord5':Zo,'texCoord6':Qo,'texCoord7':Jo};for(let _0x58e931=-0x26d4+-0x1255+0x3929;_0x58e931<_0x54f6e4['vertices']['length'];_0x58e931++){const _0xcabbb3=_0x54f6e4['vertices'][_0x58e931],_0x1c3e7d=[];for(const _0xf867e9 in _0xcabbb3){const _0x2e5a48=_0xcabbb3[_0xf867e9];_0x1c3e7d['push']({'semantic':_0x319e08[_0xf867e9],'components':_0x2e5a48['components'],'type':tL[_0x2e5a48['type']],'normalize':_0x319e08[_0xf867e9]===At});}const _0xf4d63b=new Et(this['_device'],_0x1c3e7d),_0x11b74a=_0xcabbb3['position']['data']['length']/_0xcabbb3['position']['components'],_0x42549a=new os(this['_device'],_0xf4d63b,_0x11b74a),_0x4c95de=new go(_0x42549a);for(let _0x45d83d=-0xc8f+-0xfd0+0x1c5f;_0x45d83d<_0x11b74a;_0x45d83d++){for(const _0x2e0f9a in _0xcabbb3){const _0x47bc6d=_0xcabbb3[_0x2e0f9a];switch(_0x47bc6d['components']){case 0xa*-0xb+-0x21fd*-0x1+-0x6b6*0x5:_0x4c95de['element'][_0x319e08[_0x2e0f9a]]['set'](_0x47bc6d['data'][_0x45d83d]);break;case-0x1*-0x1337+-0x1a90+0x75b:_0x4c95de['element'][_0x319e08[_0x2e0f9a]]['set'](_0x47bc6d['data'][_0x45d83d*(-0x265c+-0x2626+0x4c84)],0x285+-0xe8*-0x1f+-0x1e9c-_0x47bc6d['data'][_0x45d83d*(-0x1aad+-0xc56*0x2+0x335b)+(0xed+-0x2668+-0x4*-0x95f)]);break;case-0xe05+-0x7fc*-0x2+0x1f0*-0x1:_0x4c95de['element'][_0x319e08[_0x2e0f9a]]['set'](_0x47bc6d['data'][_0x45d83d*(-0x16*-0x1bb+-0x2*0x3bc+-0x1e97)],_0x47bc6d['data'][_0x45d83d*(0x1e0b*0x1+-0x3ee*0x6+-0x674)+(-0x8f3+0x2*-0x925+0x1b3e)],_0x47bc6d['data'][_0x45d83d*(0x5*0x3ee+0x5*0x377+-0x24f6)+(-0x1b7e+0x2074+-0x4f4)]);break;case-0xa60+-0x1778+0xb*0x314:_0x4c95de['element'][_0x319e08[_0x2e0f9a]]['set'](_0x47bc6d['data'][_0x45d83d*(-0x2cf*0xc+-0x1a33*-0x1+0x785)],_0x47bc6d['data'][_0x45d83d*(0x12dd+0x205+0xa6f*-0x2)+(-0x3*-0x73b+0x515+-0x26f*0xb)],_0x47bc6d['data'][_0x45d83d*(-0x11c*0x3+0x9b9+-0x1*0x661)+(-0x239e*0x1+-0x20ae+-0x2*-0x2227)],_0x47bc6d['data'][_0x45d83d*(0x253d*0x1+0x1*0x181d+-0x3d56)+(-0x3a7+-0x58*-0x4a+-0x15c6)]);break;}}_0x4c95de['next']();}_0x4c95de['end'](),_0xc64daa['push'](_0x42549a);}return _0xc64daa;}['_parseInde'+'xBuffers'](_0x11d1a2,_0x3a6018){const _0x465891=_0x11d1a2['model'];let _0x589331=null,_0x4a5a5f=null,_0x5349b3,_0x32d178=-0xf41+0x4c4+0x3*0x37f;for(_0x5349b3=-0x1*-0x1511+-0x20e7+-0xbd6*-0x1;_0x5349b3<_0x465891['meshes']['length'];_0x5349b3++){const _0x2a85d3=_0x465891['meshes'][_0x5349b3];_0x2a85d3['indices']!==void(0x1270+0x68f+-0x18ff)&&(_0x32d178+=_0x2a85d3['indices']['length']);}let _0x3f4cfe=0x4e4+-0x115*-0x14+-0x1a88;for(_0x5349b3=0x97*0x2b+-0x111+-0x184c;_0x5349b3<_0x3a6018['length'];_0x5349b3++)_0x3f4cfe=Math['max'](_0x3f4cfe,_0x3a6018[_0x5349b3]['numVertice'+'s']);return _0x32d178>-0x94a*-0x3+0x6af*-0x2+-0x2*0x740&&(_0x3f4cfe>-0x1d30b+0x13068+0xe*0x1de7?(_0x589331=new lr(this['_device'],nr,_0x32d178),_0x4a5a5f=new Uint32Array(_0x589331['lock']())):(_0x589331=new lr(this['_device'],Pi,_0x32d178),_0x4a5a5f=new Uint16Array(_0x589331['lock']()))),{'buffer':_0x589331,'data':_0x4a5a5f};}['_parseMesh'+'es'](_0x5c304c,_0x404332,_0x1bee3b,_0x41317f,_0x812044,_0x2e844e){const _0x5e94b3=_0x5c304c['model'],_0x14780d=[];let _0x13946b=0x1217+0x26ab*-0x1+-0x1494*-0x1;for(let _0x1bf831=0x1629+-0x2*0xb0e+0x1*-0xd;_0x1bf831<_0x5e94b3['meshes']['length'];_0x1bf831++){const _0x2388a1=_0x5e94b3['meshes'][_0x1bf831],_0x2e24fb=_0x2388a1['aabb'],_0x711b55=_0x2e24fb['min'],_0x1cc989=_0x2e24fb['max'],_0x1dc2f0=new _e(new T((_0x1cc989[0x2*-0x10fa+0x127*-0x7+0x2a05]+_0x711b55[0x225e+-0xeec+-0x1372])*(0x265a*0x1+-0x3d*0x10+0x1145*-0x2+0.5),(_0x1cc989[0x1e1f+0x1606+-0xd09*0x4]+_0x711b55[-0x2bf*-0x7+-0x142c+0xf4])*(-0x579+-0xda4+0x131d*0x1+0.5),(_0x1cc989[0x93d+0x44*-0x22+-0x33]+_0x711b55[-0xc5f*0x2+-0x11e2+0x11*0x282])*(0x1*-0xaf7+-0x1*-0x20f3+-0x15fc+0.5)),new T((_0x1cc989[-0x93*0x8+-0x16b8+0x1b50]-_0x711b55[-0x1*-0x19b5+-0x1*0x1459+-0x55c])*(-0x51*0x4c+0x709*-0x1+-0x49*-0x6d+0.5),(_0x1cc989[-0x2112+0x1fb7+0x15c]-_0x711b55[-0x1*0x126d+0x1ee7+-0xc79])*(0x2264+0x2091+-0x3d*0x119+0.5),(_0x1cc989[-0xe4b*-0x1+-0x4*0x67d+0x67*0x1d]-_0x711b55[-0xb8a+0x1551+-0x29*0x3d])*(0x2*0x12c4+-0x1d53*0x1+0xbf*-0xb+0.5))),_0x3dab40=_0x2388a1['indices']!==void(0x1ec8+0x2*-0x467+-0x15fa*0x1),_0x2f2a81=new Ie(this['_device']);_0x2f2a81['vertexBuff'+'er']=_0x41317f[_0x2388a1['vertices']],_0x2f2a81['indexBuffe'+'r'][0xb6c+-0x2708+0x1b9c]=_0x3dab40?_0x812044:null,_0x2f2a81['primitive'][0xbe1*0x2+0x19b4*-0x1+0x1f2]['type']=eL[_0x2388a1['type']],_0x2f2a81['primitive'][0x446+-0x1f01*-0x1+0xb*-0x335]['base']=_0x3dab40?_0x2388a1['base']+_0x13946b:_0x2388a1['base'],_0x2f2a81['primitive'][0xfa7+-0x7db*-0x1+0x33*-0x76]['count']=_0x2388a1['count'],_0x2f2a81['primitive'][0x7c5*0x1+0xca1+0x7*-0x2ea]['indexed']=_0x3dab40,_0x2f2a81['skin']=_0x2388a1['skin']!==void(0x1fa+0x22*-0x35+0x510)?_0x404332[_0x2388a1['skin']]:null,_0x2f2a81['morph']=_0x2388a1['morph']!==void(-0x10c1*0x1+0x2*0xa63+0x7*-0x93)?_0x1bee3b[_0x2388a1['morph']]:null,_0x2f2a81['aabb']=_0x1dc2f0,_0x3dab40&&(_0x2e844e['set'](_0x2388a1['indices'],_0x13946b),_0x13946b+=_0x2388a1['indices']['length']),_0x14780d['push'](_0x2f2a81);}return _0x812044!==null&&_0x812044['unlock'](),_0x14780d;}['_parseMesh'+'Instances'](_0x3a1eb3,_0x5d67cb,_0x55088f,_0x135d72,_0x516edf,_0x30e73e,_0x29eae1){const _0x1d0fd0=_0x3a1eb3['model'],_0xa9731c=[];let _0x169493;for(_0x169493=0x2555*0x1+0x5*0x14c+-0x2bd1*0x1;_0x169493<_0x1d0fd0['meshInstan'+'ces']['length'];_0x169493++){const _0x5b290c=_0x1d0fd0['meshInstan'+'ces'][_0x169493],_0x18c767=_0x5d67cb[_0x5b290c['node']],_0x1a38f6=_0x55088f[_0x5b290c['mesh']],_0x3f1c56=new Le(_0x1a38f6,this['_defaultMa'+'terial'],_0x18c767);if(_0x1a38f6['skin']){const _0x1a3e93=_0x135d72['indexOf'](_0x1a38f6['skin']);if(_0x1a3e93===-(-0x1b*-0x101+0x16b7*0x1+-0x31d1))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x3f1c56['skinInstan'+'ce']=_0x516edf[_0x1a3e93];}if(_0x1a38f6['morph']){const _0x4f2aa9=_0x30e73e['indexOf'](_0x1a38f6['morph']);if(_0x4f2aa9===-(0xc0*-0xd+-0x73*0x19+0x14fc))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x3f1c56['morphInsta'+'nce']=_0x29eae1[_0x4f2aa9];}_0xa9731c['push'](_0x3f1c56);}return _0xa9731c;}}class iL extends Ne{constructor(_0x22e68e){super(_0x22e68e,'model'),this['_parsers']=[],this['device']=_0x22e68e['graphicsDe'+'vice'],this['assets']=_0x22e68e['assets'],this['defaultMat'+'erial']=al(this['device']),this['addParser'](new sL(this),(_0x457cd5,_0x2c57f7)=>fe['getExtensi'+'on'](_0x457cd5)==='.json'),this['addParser'](new J2(this),(_0x16fac1,_0x2931ea)=>fe['getExtensi'+'on'](_0x16fac1)==='.glb');}['load'](_0x1917b9,_0xaf1f33,_0xed5baa){typeof _0x1917b9=='string'&&(_0x1917b9={'load':_0x1917b9,'original':_0x1917b9});const _0x2da748={'retry':this['maxRetries']>-0x20b*-0x13+-0x1b82+-0xb4f,'maxRetries':this['maxRetries']};(_0x1917b9['load']['startsWith']('blob:')||_0x1917b9['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x1917b9['original'])['toLowerCas'+'e']()==='.glb'?_0x2da748['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x2da748['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x1917b9['load'],_0x2da748,(_0x1c2b48,_0x336079)=>{if(_0xaf1f33){if(_0x1c2b48)_0xaf1f33('Error\x20load'+'ing\x20model:'+'\x20'+_0x1917b9['original']+'\x20['+_0x1c2b48+']');else{for(let _0x14e13a=0x6df+0x1b1c+-0x1*0x21fb;_0x14e13a<this['_parsers']['length'];_0x14e13a++){const _0x54b405=this['_parsers'][_0x14e13a];if(_0x54b405['decider'](_0x1917b9['original'],_0x336079)){_0x54b405['parser']['parse'](_0x336079,(_0x1119e0,_0x42d537)=>{_0x1119e0?_0xaf1f33(_0x1119e0):_0xaf1f33(null,_0x42d537);},_0xed5baa);return;}}_0xaf1f33('No\x20parsers'+'\x20found');}}});}['open'](_0x3b2250,_0x3e070b){return _0x3e070b;}['patch'](_0x1b889b,_0x5c55e2){if(!_0x1b889b['resource'])return;const _0x2da3f2=_0x1b889b['data'],_0x548dbb=this;_0x1b889b['resource']['meshInstan'+'ces']['forEach']((_0x2fb90f,_0x4e73a5)=>{if(_0x2da3f2['mapping']){const _0x5a4416=function(_0x2caa11){_0x2caa11['resource']?_0x2fb90f['material']=_0x2caa11['resource']:(_0x2caa11['once']('load',_0x5a4416),_0x5c55e2['load'](_0x2caa11)),_0x2caa11['once']('remove',_0x14c32d=>{_0x2fb90f['material']===_0x14c32d['resource']&&(_0x2fb90f['material']=_0x548dbb['defaultMat'+'erial']);});};if(!_0x2da3f2['mapping'][_0x4e73a5]){_0x2fb90f['material']=_0x548dbb['defaultMat'+'erial'];return;}const _0x2a52ba=_0x2da3f2['mapping'][_0x4e73a5]['material'],_0x3be3ce=_0x2da3f2['mapping'][_0x4e73a5]['path'];let _0x9f2fc1;if(_0x2a52ba!==void(-0x1881+-0x1*-0x137+0x21e*0xb))_0x2a52ba?(_0x9f2fc1=_0x5c55e2['get'](_0x2a52ba),_0x9f2fc1?_0x5a4416(_0x9f2fc1):_0x5c55e2['once']('add:'+_0x2a52ba,_0x5a4416)):_0x2fb90f['material']=_0x548dbb['defaultMat'+'erial'];else{if(_0x3be3ce){const _0x326db7=_0x1b889b['getAbsolut'+'eUrl'](_0x2da3f2['mapping'][_0x4e73a5]['path']);_0x9f2fc1=_0x5c55e2['getByUrl'](_0x326db7),_0x9f2fc1?_0x5a4416(_0x9f2fc1):_0x5c55e2['once']('add:url:'+_0x326db7,_0x5a4416);}}}});}['addParser'](_0x43cc32,_0x1c40e5){this['_parsers']['push']({'parser':_0x43cc32,'decider':_0x1c40e5});}}class rL extends Ne{constructor(_0x2d57f8){super(_0x2d57f8,'scene');}['load'](_0x375cf3,_0x4b678f){Lx['load'](_0x375cf3,this['maxRetries'],_0x4b678f);}['open'](_0x5284a5,_0x2f72a5){this['_app']['systems']['script']['preloading']=!(-0x252d*0x1+0x15ed*-0x1+-0x59*-0xaa);const _0x196342=new $p(this['_app'],!(-0x9c*0x11+0x55*0x67+0x3f9*-0x6))['parse'](_0x2f72a5),_0x4f9e31=this['_app']['scene'];return _0x4f9e31['root']=_0x196342,this['_app']['applyScene'+'Settings'](_0x2f72a5['settings']),this['_app']['systems']['script']['preloading']=!(-0x4*-0x283+-0x2*0xa06+0xc5*0xd),_0x4f9e31;}}const hc=class hc{static['push'](_0x4c0760){hc['_types']['push'](_0x4c0760);}};c(hc,'_types',[]);let Xr=hc;const nL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),aL={};Ho['reservedNa'+'mes']['forEach']((_0xc30770,_0x21c8a4,_0x410dc8)=>{aL[_0xc30770]=-0xf5*0x1+-0x1c20+-0x92*-0x33;});function oL(_0x58e701,_0x431956,_0x1913cd){if(typeof _0x58e701!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x58e701+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x58e701['prototype']instanceof Ht))throw new Error('script\x20cla'+'ss:\x20\x27'+Qh['__getScrip'+'tName'](_0x58e701)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x431956=_0x431956||_0x58e701['__name']||Qh['__getScrip'+'tName'](_0x58e701),nL['has'](_0x431956))throw new Error('script\x20nam'+'e:\x20\x27'+_0x431956+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x58e701['__name']=_0x431956,qh['getApplica'+'tion']()['scripts']['add'](_0x58e701),Xr['push'](_0x58e701);}const lL=_0x146342=>_0x146342[0x1*0x21af+0xb5*0x2+-0x2319]['toLowerCas'+'e']()+_0x146342['substring'](-0x23a0+-0x19b6+0x3d57);class hL extends Ne{constructor(_0x56eabe){super(_0x56eabe,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x29187f in this['_cache']){const _0x2ea2c7=this['_cache'][_0x29187f],_0x4d61e4=_0x2ea2c7['parentNode'];_0x4d61e4&&_0x4d61e4['removeChil'+'d'](_0x2ea2c7);}this['_cache']={};}['load'](_0x3ec451,_0x534c65){typeof _0x3ec451=='string'&&(_0x3ec451={'load':_0x3ec451,'original':_0x3ec451});const _0x33323c=this;this['_app'];const _0x31b979=(_0x3ec451['load'],(_0x545532,_0x4d487b,_0x289d51)=>{if(_0x545532)_0x534c65(_0x545532);else{const _0x52f17d={};for(let _0x21296b=0x1e94+-0x2526+0x692;_0x21296b<Xr['_types']['length'];_0x21296b++)_0x52f17d[Xr['_types'][_0x21296b]['name']]=Xr['_types'][_0x21296b];Xr['_types']['length']=-0xe02+-0x7*-0x115+0x66f,_0x534c65(null,_0x52f17d,_0x289d51);const _0x4f78fd=_0x4d487b['split']('&hash=')[0x806+0x2*-0x711+-0x187*-0x4];delete _0x33323c['_loader']['_cache'][pa['makeKey'](_0x4f78fd,'script')];}}),[_0x407190]=_0x3ec451['load']['split']('?');_0x407190['endsWith']('.mjs')?this['_loadModul'+'e'](_0x407190,_0x31b979):this['_loadScrip'+'t'](_0x3ec451['load'],_0x31b979);}['open'](_0xc30272,_0x325357){return _0x325357;}['patch'](_0x4c933c,_0x450359){}['_loadScrip'+'t'](_0x11e3c2,_0x50f619){const _0x48a6d5=document['head'],_0x303533=document['createElem'+'ent']('script');this['_cache'][_0x11e3c2]=_0x303533,_0x303533['async']=!(0x2*-0x65+-0x3*0x810+0x18fb),_0x303533['addEventLi'+'stener']('error',_0x2cfa8a=>{_0x50f619('Script:\x20'+_0x2cfa8a['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0x1e79+-0x1fad+-0x8e1*-0x7));let _0x1f8132=!(-0x183d+0x26bc+-0xe7e);_0x303533['onload']=_0x303533['onreadysta'+'techange']=function(){!_0x1f8132&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x1f8132=!(-0x121e+-0x93*-0x16+-0x2*-0x2be),_0x50f619(null,_0x11e3c2,_0x303533));},_0x303533['src']=_0x11e3c2,_0x48a6d5['appendChil'+'d'](_0x303533);}['_loadModul'+'e'](_0x281172,_0x2e900f){const _0x1f957a=ye['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x494053=new URL(_0x281172,_0x1f957a);import(_0x494053['toString']())['then'](_0x4a45c0=>{var _0x3f932d,_0x11704f;const _0x32f32c=_0x494053['pathname']['split']('/')['pop'](),_0x43d20=(_0x11704f=(_0x3f932d=this['_app']['assets']['find'](_0x32f32c,'script'))==null?void(-0x1*0x1eef+-0x1418*0x1+0x3307):_0x3f932d['data'])==null?void(-0x47*-0x6d+-0xcc*0x3+0x1*-0x1bd7):_0x11704f['scripts'];for(const _0x52b0ff in _0x4a45c0){const _0x111831=_0x4a45c0[_0x52b0ff];if(_0x111831['prototype']instanceof Ht){const _0x23c559=lL(_0x111831['name']);oL(_0x111831,_0x23c559),_0x43d20&&this['_app']['scripts']['addSchema'](_0x23c559,_0x43d20[_0x23c559]);}}_0x2e900f(null,_0x281172,null);})['catch'](_0x1f8d17=>{_0x2e900f(_0x1f8d17);});}}class cL extends Ne{constructor(_0x5265cf){super(_0x5265cf,'shader'),c(this,'decoder',null);}['load'](_0x5d8dd0,_0x465df9){typeof _0x5d8dd0=='string'&&(_0x5d8dd0={'load':_0x5d8dd0,'original':_0x5d8dd0}),We['get'](_0x5d8dd0['load'],{'retry':this['maxRetries']>-0x246e+0x1e*-0x62+0x2fea,'maxRetries':this['maxRetries']},(_0x34e504,_0x11fc37)=>{_0x34e504?_0x465df9('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x5d8dd0['original']+'\x20['+_0x34e504+']'):_0x465df9(null,_0x11fc37);});}['openBinary'](_0xbf3116){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0xbf3116);}}function eu(_0x312c19){const _0x230d95=this;_0x230d95['resource']&&(_0x230d95['resource']['atlas']=_0x312c19['resource']);}function tu(_0x1c44e7){this['registry']['load'](_0x1c44e7);}class dL extends Ne{constructor(_0x6b969b){super(_0x6b969b,'sprite'),this['_assets']=_0x6b969b['assets'],this['_device']=_0x6b969b['graphicsDe'+'vice'];}['load'](_0x531c6a,_0x448b1a){typeof _0x531c6a=='string'&&(_0x531c6a={'load':_0x531c6a,'original':_0x531c6a}),fe['getExtensi'+'on'](_0x531c6a['original'])==='.json'&&We['get'](_0x531c6a['load'],{'retry':this['maxRetries']>-0x10*0x7f+-0x216a+0x14ad*0x2,'maxRetries':this['maxRetries']},(_0x3cb453,_0x3924cb)=>{_0x3cb453?_0x448b1a(_0x3cb453):_0x448b1a(null,_0x3924cb);});}['open'](_0x2699df,_0x53ad9d){const _0x51d16c=new T1(this['_device']);return _0x2699df&&(_0x51d16c['__data']=_0x53ad9d),_0x51d16c;}['patch'](_0x3b0525,_0x1f782f){const _0x349337=_0x3b0525['resource'];if(_0x349337['__data']&&(_0x3b0525['data']['pixelsPerU'+'nit']=_0x349337['__data']['pixelsPerU'+'nit'],_0x3b0525['data']['renderMode']=_0x349337['__data']['renderMode'],_0x3b0525['data']['frameKeys']=_0x349337['__data']['frameKeys'],_0x349337['__data']['textureAtl'+'asAsset'])){const _0x5962e0=_0x1f782f['getByUrl'](_0x349337['__data']['textureAtl'+'asAsset']);_0x5962e0?_0x3b0525['data']['textureAtl'+'asAsset']=_0x5962e0['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x349337['__data']['textureAtl'+'asAsset']);}_0x349337['startUpdat'+'e'](),_0x349337['renderMode']=_0x3b0525['data']['renderMode'],_0x349337['pixelsPerU'+'nit']=_0x3b0525['data']['pixelsPerU'+'nit'],_0x349337['frameKeys']=_0x3b0525['data']['frameKeys'],this['_updateAtl'+'as'](_0x3b0525),_0x349337['endUpdate'](),_0x3b0525['off']('change',this['_onAssetCh'+'ange'],this),_0x3b0525['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x4552ac){const _0x13ef6d=_0x4552ac['resource'];if(!_0x4552ac['data']['textureAtl'+'asAsset']){_0x13ef6d['atlas']=null;return;}this['_assets']['off']('load:'+_0x4552ac['data']['textureAtl'+'asAsset'],eu,_0x4552ac),this['_assets']['on']('load:'+_0x4552ac['data']['textureAtl'+'asAsset'],eu,_0x4552ac);const _0x2efa1c=this['_assets']['get'](_0x4552ac['data']['textureAtl'+'asAsset']);_0x2efa1c&&_0x2efa1c['resource']?_0x13ef6d['atlas']=_0x2efa1c['resource']:_0x2efa1c?this['_assets']['load'](_0x2efa1c):(this['_assets']['off']('add:'+_0x4552ac['data']['textureAtl'+'asAsset'],tu,_0x4552ac),this['_assets']['on']('add:'+_0x4552ac['data']['textureAtl'+'asAsset'],tu,_0x4552ac));}['_onAssetCh'+'ange'](_0x4b9adf,_0x3eee57,_0xb9553a,_0x3ad8fb){_0x3eee57==='data'&&_0xb9553a&&_0xb9553a['textureAtl'+'asAsset']&&_0x3ad8fb&&_0xb9553a['textureAtl'+'asAsset']!==_0x3ad8fb['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x3ad8fb['textureAtl'+'asAsset'],eu,_0x4b9adf),this['_assets']['off']('add:'+_0x3ad8fb['textureAtl'+'asAsset'],tu,_0x4b9adf));}}class Gg{constructor(_0x25dfef,_0x33d437){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x25dfef,this['_data']=_0x33d437);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x1a08fb=new $p(this['_app'],!(-0x1*-0x977+-0xb*0x27b+0x11d2));this['_templateR'+'oot']=_0x1a08fb['parse'](this['_data']);}}class uL extends Ne{constructor(_0x375208){super(_0x375208,'template'),c(this,'decoder',null);}['load'](_0x4c6811,_0x1e3838){typeof _0x4c6811=='string'&&(_0x4c6811={'load':_0x4c6811,'original':_0x4c6811});const _0x2b826f={'retry':this['maxRetries']>-0x63d*-0x4+-0xc95*0x2+0x36,'maxRetries':this['maxRetries']};We['get'](_0x4c6811['load'],_0x2b826f,(_0x22e90c,_0x8fbca8)=>{_0x22e90c?_0x1e3838('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x4c6811['original']):_0x1e3838(_0x22e90c,_0x8fbca8);});}['open'](_0x475727,_0xcfc1b){return new Gg(this['_app'],_0xcfc1b);}['openBinary'](_0x36e59c){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Gg(this['_app'],JSON['parse'](this['decoder']['decode'](_0x36e59c)));}}class fL extends Ne{constructor(_0x1bbf43){super(_0x1bbf43,'text'),c(this,'decoder',null);}['load'](_0x13da56,_0x446218){typeof _0x13da56=='string'&&(_0x13da56={'load':_0x13da56,'original':_0x13da56}),We['get'](_0x13da56['load'],{'retry':this['maxRetries']>0x1218*-0x2+-0x1e8b+0x42bb,'maxRetries':this['maxRetries']},(_0x23a73e,_0x1c0437)=>{_0x23a73e?_0x446218('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x13da56['original']+'\x20['+_0x23a73e+']'):_0x446218(null,_0x1c0437);});}['openBinary'](_0x288d30){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x288d30);}}const th={'repeat':tt,'clamp':ae,'mirror':Of},sh={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},pL=/^data\.frames\.(\d+)$/;class mL extends Ne{constructor(_0x1cb858){super(_0x1cb858,'textureatl'+'as'),this['_loader']=_0x1cb858['loader'];}['load'](_0x55f11c,_0x27f9a6){typeof _0x55f11c=='string'&&(_0x55f11c={'load':_0x55f11c,'original':_0x55f11c});const _0x4205a7=this,_0x37564a=this['_loader']['getHandler']('texture');fe['getExtensi'+'on'](_0x55f11c['original'])==='.json'?We['get'](_0x55f11c['load'],{'retry':this['maxRetries']>0x1f*0x17+-0x1594*-0x1+-0x2b5*0x9,'maxRetries':this['maxRetries']},(_0x977e43,_0x51e7dc)=>{if(_0x977e43)_0x27f9a6(_0x977e43);else{const _0x3303fd=_0x55f11c['original']['replace']('.json','.png');_0x4205a7['_loader']['load'](_0x3303fd,'texture',(_0x299d45,_0x4b0542)=>{_0x299d45?_0x27f9a6(_0x299d45):_0x27f9a6(null,{'data':_0x51e7dc,'texture':_0x4b0542});});}}):_0x37564a['load'](_0x55f11c,_0x27f9a6);}['open'](_0x3d5d6f,_0x5c2852,_0x53ba1a){const _0x73c119=new A1();if(_0x5c2852['texture']&&_0x5c2852['data'])_0x73c119['texture']=_0x5c2852['texture'],_0x73c119['__data']=_0x5c2852['data'];else{const _0x561a62=this['_loader']['getHandler']('texture')['open'](_0x3d5d6f,_0x5c2852,_0x53ba1a);if(!_0x561a62)return null;_0x73c119['texture']=_0x561a62;}return _0x73c119;}['patch'](_0x1df8ce,_0x1bf157){if(!_0x1df8ce['resource'])return;_0x1df8ce['resource']['__data']&&(_0x1df8ce['resource']['__data']['minfilter']!==void(0x9d5*-0x3+0x35*-0xa+0x1f91)&&(_0x1df8ce['data']['minfilter']=_0x1df8ce['resource']['__data']['minfilter']),_0x1df8ce['resource']['__data']['magfilter']!==void(-0x15eb+-0xf0c+-0x24f7*-0x1)&&(_0x1df8ce['data']['magfilter']=_0x1df8ce['resource']['__data']['magfilter']),_0x1df8ce['resource']['__data']['addressu']!==void(0x1f10+0x1278+-0x18c4*0x2)&&(_0x1df8ce['data']['addressu']=_0x1df8ce['resource']['__data']['addressu']),_0x1df8ce['resource']['__data']['addressv']!==void(-0x1*-0x1582+0x1*-0x24e2+0xf60)&&(_0x1df8ce['data']['addressv']=_0x1df8ce['resource']['__data']['addressv']),_0x1df8ce['resource']['__data']['mipmaps']!==void(-0x22eb+0x425*0x3+-0x4*-0x59f)&&(_0x1df8ce['data']['mipmaps']=_0x1df8ce['resource']['__data']['mipmaps']),_0x1df8ce['resource']['__data']['anisotropy']!==void(-0x1c16+-0x1d0e+0x1c92*0x2)&&(_0x1df8ce['data']['anisotropy']=_0x1df8ce['resource']['__data']['anisotropy']),_0x1df8ce['resource']['__data']['rgbm']!==void(-0x23d1*-0x1+-0x7*0x3e+-0x221f)&&(_0x1df8ce['data']['rgbm']=!!_0x1df8ce['resource']['__data']['rgbm']),_0x1df8ce['data']['frames']=_0x1df8ce['resource']['__data']['frames'],delete _0x1df8ce['resource']['__data']);const _0x2e4d88=_0x1df8ce['resource']['texture'];if(_0x2e4d88&&(_0x2e4d88['name']=_0x1df8ce['name'],_0x1df8ce['data']['hasOwnProp'+'erty']('minfilter')&&_0x2e4d88['minFilter']!==sh[_0x1df8ce['data']['minfilter']]&&(_0x2e4d88['minFilter']=sh[_0x1df8ce['data']['minfilter']]),_0x1df8ce['data']['hasOwnProp'+'erty']('magfilter')&&_0x2e4d88['magFilter']!==sh[_0x1df8ce['data']['magfilter']]&&(_0x2e4d88['magFilter']=sh[_0x1df8ce['data']['magfilter']]),_0x1df8ce['data']['hasOwnProp'+'erty']('addressu')&&_0x2e4d88['addressU']!==th[_0x1df8ce['data']['addressu']]&&(_0x2e4d88['addressU']=th[_0x1df8ce['data']['addressu']]),_0x1df8ce['data']['hasOwnProp'+'erty']('addressv')&&_0x2e4d88['addressV']!==th[_0x1df8ce['data']['addressv']]&&(_0x2e4d88['addressV']=th[_0x1df8ce['data']['addressv']]),_0x1df8ce['data']['hasOwnProp'+'erty']('mipmaps')&&_0x2e4d88['mipmaps']!==_0x1df8ce['data']['mipmaps']&&(_0x2e4d88['mipmaps']=_0x1df8ce['data']['mipmaps']),_0x1df8ce['data']['hasOwnProp'+'erty']('anisotropy')&&_0x2e4d88['anisotropy']!==_0x1df8ce['data']['anisotropy']&&(_0x2e4d88['anisotropy']=_0x1df8ce['data']['anisotropy']),_0x1df8ce['data']['hasOwnProp'+'erty']('rgbm'))){const _0x42b463=_0x1df8ce['data']['rgbm']?on:Di;_0x2e4d88['type']!==_0x42b463&&(_0x2e4d88['type']=_0x42b463);}_0x1df8ce['resource']['texture']=_0x2e4d88;const _0x37312a={};for(const _0x7b4d1b in _0x1df8ce['data']['frames']){const _0x822cf1=_0x1df8ce['data']['frames'][_0x7b4d1b];_0x37312a[_0x7b4d1b]={'rect':new Q(_0x822cf1['rect']),'pivot':new $(_0x822cf1['pivot']),'border':new Q(_0x822cf1['border'])};}_0x1df8ce['resource']['frames']=_0x37312a,_0x1df8ce['off']('change',this['_onAssetCh'+'ange'],this),_0x1df8ce['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x567b63,_0x4760dd,_0x2f06e9){let _0xc1b938;if(_0x4760dd==='data'||_0x4760dd==='data.frame'+'s'){const _0x2bce9d={};for(const _0x4d8513 in _0x2f06e9['frames'])_0xc1b938=_0x2f06e9['frames'][_0x4d8513],_0x2bce9d[_0x4d8513]={'rect':new Q(_0xc1b938['rect']),'pivot':new $(_0xc1b938['pivot']),'border':new Q(_0xc1b938['border'])};_0x567b63['resource']['frames']=_0x2bce9d;}else{const _0x3aa4ac=_0x4760dd['match'](pL);if(_0x3aa4ac){const _0x1bd6ab=_0x3aa4ac[0x1ffe+-0x1cb*0x11+-0x182];_0x2f06e9?(_0x567b63['resource']['frames'][_0x1bd6ab]?(_0xc1b938=_0x567b63['resource']['frames'][_0x1bd6ab],_0xc1b938['rect']['set'](_0x2f06e9['rect'][0x1702+0x335*0x2+-0x1d6c],_0x2f06e9['rect'][-0x107*-0x9+0x5*0x4f9+0x221b*-0x1],_0x2f06e9['rect'][-0x2183+-0x48b+0xe8*0x2a],_0x2f06e9['rect'][-0xfc*0x1b+0x4b9+0x15de]),_0xc1b938['pivot']['set'](_0x2f06e9['pivot'][-0x177a*0x1+-0x3*-0x603+0xc7*0x7],_0x2f06e9['pivot'][-0x1*-0xb5a+0x98f+-0x14e8]),_0xc1b938['border']['set'](_0x2f06e9['border'][-0xceb*-0x1+-0xf9a*-0x1+0x1*-0x1c85],_0x2f06e9['border'][0x1984+0xa9*-0xf+-0xf9c],_0x2f06e9['border'][0x1079+-0x1293+0x21c],_0x2f06e9['border'][-0x9ba+-0x1f75*0x1+0x2932])):_0x567b63['resource']['frames'][_0x1bd6ab]={'rect':new Q(_0x2f06e9['rect']),'pivot':new $(_0x2f06e9['pivot']),'border':new Q(_0x2f06e9['border'])},_0x567b63['resource']['fire']('set:frame',_0x1bd6ab,_0x567b63['resource']['frames'][_0x1bd6ab])):_0x567b63['resource']['frames'][_0x1bd6ab]&&(delete _0x567b63['resource']['frames'][_0x1bd6ab],_0x567b63['resource']['fire']('remove:fra'+'me',_0x1bd6ab));}}}}function _L(){const _0x31e8d4={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x1ebf68={'astc':_0x31e8d4['cTFASTC_4x'+'4'],'dxt':_0x31e8d4['cTFBC1'],'etc1':_0x31e8d4['cTFETC1'],'etc2':_0x31e8d4['cTFETC1'],'pvr':_0x31e8d4['cTFPVRTC1_'+'4_RGB'],'atc':_0x31e8d4['cTFATC_RGB'],'none':_0x31e8d4['cTFRGB565']},_0x569613={'astc':_0x31e8d4['cTFASTC_4x'+'4'],'dxt':_0x31e8d4['cTFBC3'],'etc1':_0x31e8d4['cTFRGBA444'+'4'],'etc2':_0x31e8d4['cTFETC2'],'pvr':_0x31e8d4['cTFPVRTC1_'+'4_RGBA'],'atc':_0x31e8d4['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x31e8d4['cTFRGBA444'+'4']},_0x1d090b={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x5e9524=(_0xc35fc4,_0x3a02ec)=>{switch(_0xc35fc4){case _0x31e8d4['cTFETC1']:return _0x3a02ec['formats']['etc2']?_0x1d090b['ETC2_RGB']:_0x1d090b['ETC1'];case _0x31e8d4['cTFETC2']:return _0x1d090b['ETC2_RGBA'];case _0x31e8d4['cTFBC1']:return _0x1d090b['DXT1'];case _0x31e8d4['cTFBC3']:return _0x1d090b['DXT5'];case _0x31e8d4['cTFPVRTC1_'+'4_RGB']:return _0x1d090b['PVRTC_4BPP'+'_RGB_1'];case _0x31e8d4['cTFPVRTC1_'+'4_RGBA']:return _0x1d090b['PVRTC_4BPP'+'_RGBA_1'];case _0x31e8d4['cTFASTC_4x'+'4']:return _0x1d090b['ASTC_4x4'];case _0x31e8d4['cTFATC_RGB']:return _0x1d090b['ATC_RGB'];case _0x31e8d4['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x1d090b['ATC_RGBA'];case _0x31e8d4['cTFRGBA32']:return _0x1d090b['R8_G8_B8_A'+'8'];case _0x31e8d4['cTFRGB565']:return _0x1d090b['R5_G6_B5'];case _0x31e8d4['cTFRGBA444'+'4']:return _0x1d090b['R4_G4_B4_A'+'4'];}},_0x3067ca=_0x1b45f4=>{const _0x2587ee=function(_0x480d4b,_0x1880f1){const _0x1afdfa=_0x480d4b*(0x148f*-0x1+-0x1cd*-0x1+0x12c2+0.00784313725490196)-(0x25d7+-0x254b*0x1+-0x8b),_0x89c1de=_0x1880f1*((0x23e0+-0x13f5+0xfe9*-0x1)/(0x16*-0x13f+-0x206c+-0x1*-0x3cd5))-(0x75f+-0xcfd*-0x3+-0x2e55),_0x179240=Math['sqrt'](-0x653+-0x5*0x628+-0x947*-0x4-Math['min'](0x13*-0x1f7+0x1f*0x17+0x228d,_0x1afdfa*_0x1afdfa+_0x89c1de*_0x89c1de));return Math['max'](0xb9e*-0x1+-0x10*0x8e+-0x1*-0x147e,Math['min'](0xf*0x229+-0x45*0x61+0x1*-0x543,Math['floor']((_0x179240+(0x4b8*-0x2+-0x1*-0x26dc+-0x1d6b))*(-0x112d*0x2+0x7aa+0x6ac*0x4+0.5)*(-0x1b59*-0x1+0x524+-0x1f7e))));};for(let _0x9656f3=0x166+-0x103*0x2+0x28*0x4;_0x9656f3<_0x1b45f4['length'];_0x9656f3+=-0x16*-0x1f+0x2191+-0x7f*0x49){const _0x204105=_0x1b45f4[_0x9656f3+(-0x1ab3*0x1+-0x2*-0xa3b+0x640)],_0x22bb0a=_0x1b45f4[_0x9656f3+(-0x162f+0x22*0x11b+0x2*-0x7b3)];_0x1b45f4[_0x9656f3+(-0x6a2*0x1+-0x1c8b*0x1+0x232d)]=_0x204105,_0x1b45f4[_0x9656f3+(0x2*0x158+-0x72f+-0x481*-0x1)]=_0x2587ee(_0x204105,_0x22bb0a),_0x1b45f4[_0x9656f3+(0x2323+-0x1768+-0xbb8)]=-0x1*-0x244d+0xb*-0x19f+0x1179*-0x1;}return _0x1b45f4;},_0x533ea4=_0x544223=>{const _0xc5de9e=new Uint16Array(_0x544223['length']/(-0x1c*0x134+-0x451+-0x1*-0x2605));for(let _0xf2aae2=0x23*-0xbe+-0x20a0+0x3a9a;_0xf2aae2<_0x544223['length'];_0xf2aae2+=0x19d2*-0x1+-0xfac+-0xe*-0x2f7){const _0x3d51ce=_0x544223[_0xf2aae2+(-0x2*-0x7be+0x295*-0x6+0x1*0x2)],_0x42bb20=_0x544223[_0xf2aae2+(-0x209f*0x1+-0x2455*0x1+0x44f5)],_0x57ec68=_0x544223[_0xf2aae2+(-0x23c1+0x15ab+-0xe18*-0x1)];_0xc5de9e[_0xf2aae2/(0x2*0x7a2+0x7ca*0x3+-0x134f*0x2)]=(_0x3d51ce&0x1*-0xce5+-0x3f3*0x5+0x59a*0x6)<<-0x3*0xa71+0x93d+0x161e|(_0x42bb20&-0x2169*0x1+-0xf*-0x271+-0x23a)<<0x2*0xd25+0x20b7+-0x3afe|_0x57ec68>>-0x60d*0x2+-0x6d*0x43+0x28a4;}return _0xc5de9e;},_0x4fdf2e=(_0x357e05,_0x4f6c33)=>(_0x357e05&_0x357e05-(0x71*0x57+0x69d*0x3+-0x3a3d))===-0x3df+-0x1d*-0x71+-0x8ee&&(_0x4f6c33&_0x4f6c33-(0xe1c+-0x1e99+0x107e))===0x17ec+0xcd2*-0x1+-0xb1a*0x1,_0x50caa7=()=>typeof performance<'u'?performance['now']():0x2499+-0x233*-0x10+-0x47c9*0x1;let _0x5380c0,_0x40573e,_0x5f3757;const _0x1b284a=(_0x2df5db,_0x440576,_0xa1164d)=>{if(_0xa1164d){if(_0x2df5db['formats']['astc'])return'astc';}else{if(_0x440576){if(_0x2df5db['formats']['etc2'])return'etc2';}else{if(_0x2df5db['formats']['etc2'])return'etc2';if(_0x2df5db['formats']['etc1'])return'etc1';}}return(_0x4ca8cd=>{for(let _0x4ce54e=-0x241a+0x6bd+-0x1*-0x1d5d;_0x4ce54e<_0x4ca8cd['length'];++_0x4ce54e){const _0x476b95=_0x4ca8cd[_0x4ce54e];if(_0x2df5db['formats'][_0x476b95])return _0x476b95;}return'none';})(_0x440576?_0x5f3757:_0x40573e);},_0x17ad72=(_0x555fda,_0x47da71,_0x321eeb)=>{switch(_0x321eeb){case _0x31e8d4['cTFETC1']:case _0x31e8d4['cTFETC2']:return!(-0x1*-0x2555+0x1*-0xba5+-0xc*0x224);case _0x31e8d4['cTFBC1']:case _0x31e8d4['cTFBC3']:return(_0x555fda&0x91f*0x3+-0x1466+-0x6f4)===0x2*0xcfb+-0x55a+0x527*-0x4&&(_0x47da71&0xfe*0xf+-0x176f+0x890)===-0x1*-0x1087+0x22e8+-0x336f;case _0x31e8d4['cTFPVRTC1_'+'4_RGB']:case _0x31e8d4['cTFPVRTC1_'+'4_RGBA']:return _0x4fdf2e(_0x555fda,_0x47da71);case _0x31e8d4['cTFASTC_4x'+'4']:return!(-0x1519+0x615+0x3e*0x3e);case _0x31e8d4['cTFATC_RGB']:case _0x31e8d4['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x19a1+-0x37d+0x1d1e);}return!(-0x21f+-0x2506+0x1393*0x2);},_0x13ed0e=(_0x42f541,_0x2c8c00,_0x5d7be2)=>{if(!_0x5380c0['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x387582=_0x50caa7(),_0x5b4b6f=new _0x5380c0['KTX2File'](new Uint8Array(_0x2c8c00)),_0x5e2061=_0x5b4b6f['getWidth'](),_0x4db5ab=_0x5b4b6f['getHeight'](),_0x168712=_0x5b4b6f['getLevels'](),_0x4b1745=!!_0x5b4b6f['getHasAlph'+'a'](),_0x11d2ad=_0x5b4b6f['isUASTC']&&_0x5b4b6f['isUASTC']();if(!_0x5e2061||!_0x4db5ab||!_0x168712)throw _0x5b4b6f['close'](),_0x5b4b6f['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x42f541+'\x20width='+_0x5e2061+'\x20height='+_0x4db5ab+'\x20levels='+_0x168712);const _0x29eba2=_0x1b284a(_0x5d7be2['deviceDeta'+'ils'],_0x4b1745,_0x11d2ad),_0x835159=!!_0x5d7be2['isGGGR']&&_0x29eba2==='pvr';let _0x4fd080;if(_0x835159?_0x4fd080=_0x31e8d4['cTFRGBA32']:(_0x4fd080=_0x4b1745?_0x569613[_0x29eba2]:_0x1ebf68[_0x29eba2],_0x17ad72(_0x5e2061,_0x4db5ab,_0x4fd080)||(_0x4fd080=_0x4b1745?_0x31e8d4['cTFRGBA32']:_0x31e8d4['cTFRGB565'])),!_0x5b4b6f['startTrans'+'coding']())throw _0x5b4b6f['close'](),_0x5b4b6f['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x42f541);let _0x457e6c;const _0x2edb5c=[];for(let _0x49fa7=-0x1*-0x19ed+-0x67*0x4f+-0x5*-0x12c;_0x49fa7<_0x168712;++_0x49fa7){const _0x298ff5=_0x5b4b6f['getImageTr'+'anscodedSi'+'zeInBytes'](_0x49fa7,0x751*-0x4+-0x15*0x13b+0x371b,-0x1509+0x35*0x9b+0x587*-0x2,_0x4fd080),_0x2e2ecf=new Uint8Array(_0x298ff5);if(!_0x5b4b6f['transcodeI'+'mage'](_0x2e2ecf,_0x49fa7,-0x1a*-0x4e+-0x67e*0x6+-0x8*-0x3e1,0x54f*-0x6+-0x2bd*-0x1+0x1d1d,_0x4fd080,-0x1*-0x1799+-0x449*-0x3+0x123a*-0x2,-(-0x1e65+-0x9e5+-0x80f*-0x5),-(0x5f2+0x1*-0xe09+-0x818*-0x1)))throw _0x5b4b6f['close'](),_0x5b4b6f['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x42f541);const _0x200c0c=_0x4fd080===_0x31e8d4['cTFRGB565']||_0x4fd080===_0x31e8d4['cTFRGBA444'+'4'];_0x2edb5c['push'](_0x200c0c?new Uint16Array(_0x2e2ecf['buffer']):_0x2e2ecf);}if(_0x5b4b6f['close'](),_0x5b4b6f['delete'](),_0x835159){for(_0x4fd080=_0x31e8d4['cTFRGB565'],_0x457e6c=-0x2*-0x25c+-0x3d*-0x3+-0x56f;_0x457e6c<_0x2edb5c['length'];++_0x457e6c)_0x2edb5c[_0x457e6c]=_0x533ea4(_0x3067ca(_0x2edb5c[_0x457e6c]));}return{'format':_0x5e9524(_0x4fd080,_0x5d7be2['deviceDeta'+'ils']),'width':_0x5e2061,'height':_0x4db5ab,'levels':_0x2edb5c,'cubemap':!(0x7e3*-0x4+0x13c8+0xbc5),'transcodeTime':_0x50caa7()-_0x387582,'url':_0x42f541,'unswizzledGGGR':_0x835159};},_0x59e24e=(_0x35dd03,_0x18d8eb,_0x558628)=>{const _0x5b1e98=_0x50caa7(),_0x722be9=new _0x5380c0['BasisFile'](new Uint8Array(_0x18d8eb)),_0x14fa28=_0x722be9['getImageWi'+'dth'](-0x25*-0x45+0x260b+-0x3004,-0x2*0x132d+0x1d*-0x25+0x2a8b*0x1),_0x19a1f1=_0x722be9['getImageHe'+'ight'](-0x415+-0x1ec6+-0x22db*-0x1,-0x16ee*0x1+-0x1cf5+0x1*0x33e3),_0x26f44d=_0x722be9['getNumImag'+'es'](),_0x506857=_0x722be9['getNumLeve'+'ls'](0x2501+0x213c+-0x463d),_0x355599=!!_0x722be9['getHasAlph'+'a'](),_0x453e3c=_0x722be9['isUASTC']&&_0x722be9['isUASTC']();if(!_0x14fa28||!_0x19a1f1||!_0x26f44d||!_0x506857)throw _0x722be9['close'](),_0x722be9['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x35dd03+'\x20width='+_0x14fa28+'\x20height='+_0x19a1f1+'\x20images='+_0x26f44d+'\x20levels='+_0x506857);const _0x4ad251=_0x1b284a(_0x558628['deviceDeta'+'ils'],_0x355599,_0x453e3c),_0x2224ae=!!_0x558628['isGGGR']&&_0x4ad251==='pvr';let _0x576fa1;if(_0x2224ae?_0x576fa1=_0x31e8d4['cTFRGBA32']:(_0x576fa1=_0x355599?_0x569613[_0x4ad251]:_0x1ebf68[_0x4ad251],_0x17ad72(_0x14fa28,_0x19a1f1,_0x576fa1)||(_0x576fa1=_0x355599?_0x31e8d4['cTFRGBA32']:_0x31e8d4['cTFRGB565'])),!_0x722be9['startTrans'+'coding']())throw _0x722be9['close'](),_0x722be9['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x35dd03);let _0x2f3ab2;const _0x23a780=[];for(let _0x37adf3=-0x239e+-0xcb6+-0x101c*-0x3;_0x37adf3<_0x506857;++_0x37adf3){const _0x4341bb=_0x722be9['getImageTr'+'anscodedSi'+'zeInBytes'](-0xe9*0x29+0x179*0x5+0x1df4,_0x37adf3,_0x576fa1),_0x331f23=new Uint8Array(_0x4341bb);if(!_0x722be9['transcodeI'+'mage'](_0x331f23,-0x35f+-0x3df+0x73e,_0x37adf3,_0x576fa1,-0x26c0+-0xce*-0x22+-0xc*-0xf3,0x4*0x781+0x1b49+-0x394d)){if(_0x37adf3===_0x506857-(-0x11*0x17b+-0x9a*-0x7+-0x2*-0xa7b)&&_0x4341bb===_0x23a780[_0x37adf3-(0x1*0xaf1+0x15*-0xfa+0x992)]['buffer']['byteLength'])_0x331f23['set'](new Uint8Array(_0x23a780[_0x37adf3-(-0x261c+0x1*-0x2001+0x703*0xa)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x35dd03);else throw _0x722be9['close'](),_0x722be9['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x35dd03);}const _0x666558=_0x576fa1===_0x31e8d4['cTFRGB565']||_0x576fa1===_0x31e8d4['cTFRGBA444'+'4'];_0x23a780['push'](_0x666558?new Uint16Array(_0x331f23['buffer']):_0x331f23);}if(_0x722be9['close'](),_0x722be9['delete'](),_0x2224ae){for(_0x576fa1=_0x31e8d4['cTFRGB565'],_0x2f3ab2=-0x1972+-0x156d*-0x1+-0x157*-0x3;_0x2f3ab2<_0x23a780['length'];++_0x2f3ab2)_0x23a780[_0x2f3ab2]=_0x533ea4(_0x3067ca(_0x23a780[_0x2f3ab2]));}return{'format':_0x5e9524(_0x576fa1,_0x558628['deviceDeta'+'ils']),'width':_0x14fa28,'height':_0x19a1f1,'levels':_0x23a780,'cubemap':!(-0xb89+0xdf3+-0x269*0x1),'transcodeTime':_0x50caa7()-_0x5b1e98,'url':_0x35dd03,'unswizzledGGGR':_0x2224ae};},_0xdfbec8=(_0x516312,_0x1e7c77,_0x59e26d)=>_0x59e26d['isKTX2']?_0x13ed0e(_0x516312,_0x1e7c77,_0x59e26d):_0x59e24e(_0x516312,_0x1e7c77,_0x59e26d),_0x2b7208=(_0x28e1bd,_0x37e87c,_0x25cf73)=>{try{const _0xb0971f=_0xdfbec8(_0x28e1bd,_0x37e87c,_0x25cf73);_0xb0971f['levels']=_0xb0971f['levels']['map'](_0x274585=>_0x274585['buffer']),self['postMessag'+'e']({'url':_0x28e1bd,'data':_0xb0971f},_0xb0971f['levels']);}catch(_0x4d7588){self['postMessag'+'e']({'url':_0x28e1bd,'err':_0x4d7588},null);}},_0x21142a=(_0x5f25b3,_0x77ea3e)=>{const _0x1c9371=(_0x4e6493,_0x279dcd)=>(WebAssembly['instantiat'+'e'](_0x5f25b3['module'],_0x4e6493)['then'](_0x34f220=>{_0x279dcd(_0x34f220);})['catch'](_0x4ed01f=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x4ed01f);}),{});self['BASIS'](_0x5f25b3['module']?{'instantiateWasm':_0x1c9371}:null)['then'](_0x1bb31a=>{_0x1bb31a['initialize'+'Basis'](),_0x5380c0=_0x1bb31a,_0x40573e=_0x5f25b3['rgbPriorit'+'y'],_0x5f3757=_0x5f25b3['rgbaPriori'+'ty'],_0x77ea3e(null);});},_0x3b325b=[];self['onmessage']=_0x552578=>{const _0x486a3f=_0x552578['data'];switch(_0x486a3f['type']){case'init':_0x21142a(_0x486a3f['config'],()=>{for(let _0x4e984e=0x103f+0x145a+-0xc33*0x3;_0x4e984e<_0x3b325b['length'];++_0x4e984e)_0x2b7208(_0x3b325b[_0x4e984e]['url'],_0x3b325b[_0x4e984e]['data'],_0x3b325b[_0x4e984e]['options']);_0x3b325b['length']=0x2*-0xa22+-0x1d*0xb1+0x2851;});break;case'transcode':_0x5380c0?_0x2b7208(_0x486a3f['url'],_0x486a3f['data'],_0x486a3f['options']):_0x3b325b['push'](_0x486a3f);break;}};}const gL=_0x239d89=>({'astc':!!_0x239d89['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x239d89['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x239d89['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x239d89['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x239d89['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x239d89['extCompres'+'sedTexture'+'PVRTC']}),yL=(_0x1aaadb,_0x2f6923)=>{const _0x4ff6fa=_0x4ffad2=>{const _0x261d47=['/*\x20basis\x20*'+'/',_0x4ffad2,'','('+_L['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x261d47],{'type':'applicatio'+'n/javascri'+'pt'});},_0x5c4249=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x4c3be8=new WebAssembly['Module'](Uint8Array['of'](-0x5c*-0xe+0x10c0+-0x15c8,0x1964+0x19e9+-0x32ec,0x4a*0x6f+0x685*-0x3+-0xc14,-0x867+0x376+0x3*0x1ca,-0x1f63*-0x1+-0x1*0x13f1+-0xb71,0x1*0x5bd+0xf9*0x7+0x92*-0x16,0x8*-0xf7+0x130*-0x10+0x1ab8,0xd4+-0x11e7+0x1113));if(_0x4c3be8 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x4c3be8)instanceof WebAssembly['Instance'];}}catch{}return!(-0x110e+0x8*0x312+0x781*-0x1);},_0x4e4d21=(_0x122cf9,_0x2e5d6e)=>{_0x2f6923(null,{'workerUrl':URL['createObje'+'ctURL'](_0x4ff6fa(_0x122cf9)),'module':_0x2e5d6e,'rgbPriority':_0x1aaadb['rgbPriorit'+'y'],'rgbaPriority':_0x1aaadb['rgbaPriori'+'ty']});},_0x5601bc={'cache':!(0xb18+-0x25*0x56+0x156),'responseType':'text','retry':_0x1aaadb['maxRetries']>-0x1e3d*-0x1+0xb*0x94+0xc33*-0x3,'maxRetries':_0x1aaadb['maxRetries']};if(_0x1aaadb['glueUrl']&&_0x1aaadb['wasmUrl']&&_0x5c4249()){let _0x36c112=null,_0x34ee51=null;We['get'](_0x1aaadb['glueUrl'],_0x5601bc,(_0x297296,_0xfc6c4c)=>{_0x297296?_0x2f6923(_0x297296):_0x34ee51?_0x4e4d21(_0xfc6c4c,_0x34ee51):_0x36c112=_0xfc6c4c;});const _0x16d774=fetch(_0x1aaadb['wasmUrl']),_0x4037d5=()=>{_0x16d774['then'](_0x156f39=>_0x156f39['arrayBuffe'+'r']())['then'](_0x50d4d3=>WebAssembly['compile'](_0x50d4d3))['then'](_0x41a923=>{_0x36c112?_0x4e4d21(_0x36c112,_0x41a923):_0x34ee51=_0x41a923;})['catch'](_0x57ac63=>{_0x2f6923(_0x57ac63,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x16d774)['then'](_0x148e49=>{_0x36c112?_0x4e4d21(_0x36c112,_0x148e49):_0x34ee51=_0x148e49;})['catch'](_0x51a3e7=>{v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x1aaadb['wasmUrl']+'\x20('+_0x51a3e7+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x4037d5();}):_0x4037d5();}else We['get'](_0x1aaadb['fallbackUr'+'l'],_0x5601bc,(_0x34cb74,_0x3687fb)=>{_0x34cb74?_0x2f6923(_0x34cb74,null):_0x4e4d21(_0x3687fb,null);});};class xL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x1ad23b,_0x11974c,_0x497cce,_0x102f64){if(this['callbacks']['hasOwnProp'+'erty'](_0x1ad23b))this['callbacks'][_0x1ad23b]['push'](_0x497cce);else{this['callbacks'][_0x1ad23b]=[_0x497cce];const _0x3f8df8={'url':_0x1ad23b,'data':_0x11974c,'options':_0x102f64};this['clients']['length']>0x626+-0x1537+-0xcb*-0x13?this['clients']['shift']()['run'](_0x3f8df8):this['queue']['push'](_0x3f8df8);}}['enqueueCli'+'ent'](_0x225667){this['queue']['length']>0x1b23*0x1+0x2074+0xf*-0x3f9?_0x225667['run'](this['queue']['shift']()):this['clients']['push'](_0x225667);}['handleResp'+'onse'](_0x33b709,_0x5448b9,_0xa6201f){const _0x131e6a=this['callbacks'][_0x33b709];if(_0x5448b9){for(let _0x116a9c=-0x47c+0x74a*0x3+-0x1162;_0x116a9c<_0x131e6a['length'];++_0x116a9c)_0x131e6a[_0x116a9c](_0x5448b9);}else{_0xa6201f['format']===_c||_0xa6201f['format']===gc?_0xa6201f['levels']=_0xa6201f['levels']['map'](_0x50b240=>new Uint16Array(_0x50b240)):_0xa6201f['levels']=_0xa6201f['levels']['map'](_0x37c4f8=>new Uint8Array(_0x37c4f8));for(let _0x438393=0x4ff*0x6+0x13f3+0x31ed*-0x1;_0x438393<_0x131e6a['length'];++_0x438393)_0x131e6a[_0x438393](null,_0xa6201f);}delete this['callbacks'][_0x33b709];}}class SL{constructor(_0x27f672,_0x45f6c6,_0x4f1e67){this['queue']=_0x27f672,this['worker']=new Worker(_0x45f6c6['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x289f0c=>{const _0x1127cb=_0x289f0c['data'];this['queue']['handleResp'+'onse'](_0x1127cb['url'],_0x1127cb['err'],_0x1127cb['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x45f6c6}),this['eager']=_0x4f1e67;}['run'](_0x2c13b1){const _0x294595=[];_0x2c13b1['data']instanceof ArrayBuffer&&_0x294595['push'](_0x2c13b1['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x2c13b1['url'],'format':_0x2c13b1['format'],'data':_0x2c13b1['data'],'options':_0x2c13b1['options']},_0x294595),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const vL=0x1778+-0x1*-0x1d9f+-0x97*0x5a,bL=['etc2','etc1','astc','dxt','pvr','atc'],wL=['astc','dxt','etc2','pvr','atc'],TL=-0x15dd*0x1+0x221a+-0xc38,Tf=new xL();let Hg=null,Af=!(-0xa3c+0x22c+0x811);function AL(_0x433938){if(!Af){if(!_0x433938)_0x433938=Hg||{};else{if(_0x433938['lazyInit']){Hg=_0x433938;return;}}if(!_0x433938['glueUrl']||!_0x433938['wasmUrl']||!_0x433938['fallbackUr'+'l']){const _0x53b17d=ay['getConfig']('BASIS');_0x53b17d&&(_0x433938={'glueUrl':_0x53b17d['glueUrl'],'wasmUrl':_0x53b17d['wasmUrl'],'fallbackUrl':_0x53b17d['fallbackUr'+'l'],'numWorkers':_0x53b17d['numWorkers']});}if(_0x433938['glueUrl']||_0x433938['wasmUrl']||_0x433938['fallbackUr'+'l']){Af=!(-0x47*-0x7d+-0x3*0x7c9+-0xb50);const _0x55cbf4=Math['max'](-0x1*0x1813+-0x2571+0x1*0x3d85,Math['min'](0xed8*-0x1+-0x11f9*-0x1+-0x311,_0x433938['numWorkers']||vL)),_0x477c73=_0x433938['numWorkers']===-0xb95+-0x1d87+0x291d||(_0x433938['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x433938['eagerWorke'+'rs']:!(0x742*0x2+-0x7a*-0x3b+-0x22*0x141));_0x433938['rgbPriorit'+'y']=_0x433938['rgbPriorit'+'y']||bL,_0x433938['rgbaPriori'+'ty']=_0x433938['rgbaPriori'+'ty']||wL,_0x433938['maxRetries']=_0x433938['hasOwnProp'+'erty']('maxRetries')?_0x433938['maxRetries']:TL,yL(_0x433938,(_0x2aecf9,_0x37a928)=>{if(_0x2aecf9)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x2aecf9);else{for(let _0x20a1f9=-0xde*-0xe+-0x237d+0x2b*0x8b;_0x20a1f9<_0x55cbf4;++_0x20a1f9)Tf['enqueueCli'+'ent'](new SL(Tf,_0x37a928,_0x477c73));}});}}}let su=null;function Fx(_0x495855,_0x4f27a8,_0x378dca,_0x5070f4,_0x30c2c8){return AL(),su||(su={'formats':gL(_0x495855)}),Tf['enqueueJob'](_0x4f27a8,_0x378dca,_0x5070f4,{'deviceDetails':su,'isGGGR':!!(_0x30c2c8!=null&&_0x30c2c8['isGGGR']),'isKTX2':!!(_0x30c2c8!=null&&_0x30c2c8['isKTX2'])}),Af;}class Na{['load'](_0x3452d9,_0x34ee20,_0x18af8a){throw new Error('not\x20implem'+'ented');}['open'](_0x30c3ef,_0x3c46c9,_0x16c04c){throw new Error('not\x20implem'+'ented');}}class EL extends Na{constructor(_0x328c20,_0x401d46){super(),this['device']=_0x401d46,this['maxRetries']=-0x1953+-0x2010+0xb1*0x53;}['load'](_0x44453e,_0x49d759,_0x33b5e2){const _0x174315=this['device'],_0x38f1a5=_0x294cc9=>{var _0x247a0e,_0x118433,_0x1a4f8b;Fx(_0x174315,_0x44453e['load'],_0x294cc9,_0x49d759,{'isGGGR':(((_0x1a4f8b=(_0x118433=(_0x247a0e=_0x33b5e2==null?void(0x1046+0x7a2*-0x5+0xaf2*0x2):_0x33b5e2['file'])==null?void(-0x1db1+0x2*-0x89f+0xfa5*0x3):_0x247a0e['variants'])==null?void(0x2457+-0x1391*0x1+-0x10c6):_0x118433['basis'])==null?void(-0x1391*0x1+-0x34e*-0x4+0x659):_0x1a4f8b['opt'])&0xe1c+0x1043+0x1e57*-0x1)!==-0x4fc+0x20e1+-0x1be5*0x1})||_0x49d759('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x33b5e2['name']+']('+_0x33b5e2['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};le['fetchArray'+'Buffer'](_0x44453e['load'],(_0x2e96db,_0x587756)=>{_0x2e96db?_0x49d759(_0x2e96db):_0x38f1a5(_0x587756);},_0x33b5e2,this['maxRetries']);}['open'](_0x4d05ae,_0x14ba07,_0x10dbf5,_0x53adef={}){const _0x559e29=_0x53adef['srgb']?Cc(_0x14ba07['format']):_0x14ba07['format'],_0xbcdeb1=new he(_0x10dbf5,{'name':_0x4d05ae,'profilerHint':ur,'addressU':_0x14ba07['cubemap']?ae:tt,'addressV':_0x14ba07['cubemap']?ae:tt,'width':_0x14ba07['width'],'height':_0x14ba07['height'],'format':_0x559e29,'cubemap':_0x14ba07['cubemap'],'levels':_0x14ba07['levels'],..._0x53adef});return _0xbcdeb1['upload'](),_0xbcdeb1;}}const Ox=new Uint8Array([-0x1be*0x4+0x1170+-0x9ef*0x1,0x124c*0x2+-0x1429+-0x101f,-0x677*-0x5+-0x1805+-0x800,0xd*0xc8+-0x2195*-0x1+0x15bb*-0x2,-0xf36+0x1659+-0x1*0x716,0x1b4e+-0x1ecb+0x387*0x1,0x17db+-0x9c4+-0xdfd,-0x2b8+0x407*-0x1+0x6c9,-0x6*0x36e+-0x1f30+0x33c4,0x836+0x48c+-0xcc2,0x2*0x8e9+-0xd*-0x295+0x1121*-0x3,0x2*0x590+0x14d3+-0x1*0x1fe6,-0x3f3+0x1bfd+-0x17c1,-0xb0d*-0x1+-0x240*-0x6+-0x3*0x817,0x28c*0x5+0x2264+0x176e*-0x2,-0x1*0x1e47+0x25bb+-0x722,-0x17e8+0x1*-0x11bd+-0x7*-0x5f3,-0x10e2*0x2+0x154a+0xc7a,-0x8e*-0x17+-0xb*0xe3+-0x301,-0x10b0+0x1*-0x1023+0x106a*0x2,0x17e+-0x1c0b+0x1a8d,-0x126f+0x4*-0x72f+0x2f2b,0x1641+-0x1*-0x2516+0x3b57*-0x1,0x1d2d+0x241*0xf+-0x17*0x2bd,-0x49d*0x5+-0x635+0x1d4e,0x15c+0x1a65+-0x1bbb,0x1155+0xa25*0x1+-0x1b7a*0x1,0x1932+-0x16b+-0x7ed*0x3,-0xaaf*0x3+0xa5a+0x15b3,-0x9*-0x13a+0x859+-0x1344,0x6*-0x62f+-0x216b+0xe*0x50b,-0xe83+0x39+0xf0e,-0x47*-0x85+-0x1695+0xdc5*-0x1,-0x496+-0x12e0*0x2+-0x1*-0x2a56,-0xe3*0x5+-0x1707*0x1+0x1b76,-0x215*0xd+0x18*-0xa7+-0x2ab9*-0x1,-0x2146+-0x3*-0x7d5+-0x22*-0x4a,-0x61d*-0x4+-0x22a8+0xa7d,0x11*0x11d+-0x445*0x7+0xb3a,-0xb40+-0x1b5*-0x3+0x662,0x21d*0x1+-0x23b1*-0x1+-0x257a,0x1*-0x1a7a+-0x1a9c+0x358e,-0x1*-0x433+-0x1bcb+0x1872,0xcaf+0x11*-0x117+-0x37*-0x1d,0x356*0x9+-0x1b3a+-0x268,0x3b0+0xcb6*0x2+-0x4*0x72e,-0x329*0x4+-0x2*-0x11de+0xab*-0x22,0x1d8a+-0xea8+-0x38b*0x4,0x9be*-0x2+0x1*0x1e98+-0xb15,0x27a*0x5+0x1*-0x1c75+0x1*0x1013,0x1471+0x2093*0x1+-0x3504,0x1b45+0x1*-0x507+-0x5*0x461,0x2*0x3e1+0x6fc+-0x25*0x66,0x18ae+0x218d+-0x39f4,-0x1*0x26c7+0xb84+-0xdc3*-0x2,0xd4a+-0x1cac+0xfe7,-0x1*0x797+-0x3*0x873+0x2184,-0x4ae+0x230b*-0x1+0x28a6,0x24ba+0x5fb+-0x2ab5,0x1789+-0x438*-0x5+-0x2ca1,-0x1a93*-0x1+0x79c+-0x222f,-0x6a*0x40+0xa80+0x1000,-0x1d3f*0x1+0x9bb+0x13cd,0x2e*0x73+-0xf5e+-0x507,-0x54*-0x7+-0x3*0x423+-0x1*-0xa6b,0x21a3+0x2e6+-0x5*0x741,-0x3e6*-0x2+0x3f4*0x3+0x7*-0x2b6,0x1*-0x1b25+-0x185c+0x15*0x277,0x5*0x22d+0x16e5+-0x2166,-0xd62+0x1*0xd5+0xd0f]),kx=(_0x20c85e,_0x1dea1d)=>{const _0x569607=new he(_0x20c85e,{'width':0x1,'height':0x1,'format':Se,'mipmaps':!(-0x5b*-0x21+0x6*-0x2c4+0x4de),'levels':[_0x1dea1d]}),_0x165202=new pt({'colorBuffer':_0x569607,'depth':!(-0x68b*-0x1+0x2a7*-0x2+-0x13c)});_0x20c85e['setFramebu'+'ffer'](_0x165202['impl']['_glFrameBu'+'ffer']),_0x20c85e['initRender'+'Target'](_0x165202);const _0x110e07=new Uint8ClampedArray(-0x2*0xb25+-0x1*0x1c4c+0x329a);return _0x20c85e['gl']['readPixels'](0x813*-0x1+-0x264c+-0xf75*-0x3,-0x1235+-0x3*-0x5bf+-0x7c*-0x2,-0x1a49+0x703+0x1347,0x20*0x7a+0x19d5+-0x2914,_0x20c85e['gl']['RGBA'],_0x20c85e['gl']['UNSIGNED_B'+'YTE'],_0x110e07),_0x165202['destroy'](),_0x569607['destroy'](),_0x110e07[0x1146*0x1+-0x44+-0x881*0x2]===-0x4f*0x37+0x17*-0xa2+0x1f88&&_0x110e07[0x7f*-0xd+-0x145a*0x1+-0x1ace*-0x1]===0x37f*0xb+0x1ac5+-0x4138&&_0x110e07[0xae7*0x3+-0x3d*-0xa3+-0x478a]===0x1*0x256e+0x3*-0x268+-0x1e33&&_0x110e07[-0x14f4+-0x1a11+-0x35c*-0xe]===0x1656+-0x2267*0x1+-0x628*-0x2;},CL=_0x35cb96=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x4e69a4=>kx(_0x35cb96,_0x4e69a4))['catch'](_0x224dba=>!(0x371*-0xb+0xbb*-0x13+-0x113f*-0x3)),ML=_0x5cd7db=>new Promise((_0x105b22,_0x43a936)=>{const _0x4f3508=new Image();_0x4f3508['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x4f3508['onload']=()=>{_0x105b22(kx(_0x5cd7db,_0x4f3508));};});class PL{static['run'](_0x567439){CL(_0x567439)['then'](_0x553330=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x553330);}),ML(_0x567439)['then'](_0x656d97=>{console['log']('imgElement'+'IsCorrect='+_0x656d97);});}}class RL extends Na{constructor(_0xf25868,_0x13a587){super(),this['crossOrigi'+'n']=_0xf25868['prefix']?'anonymous':null,this['maxRetries']=0xd1*0xf+-0x253e*-0x1+-0x317d,this['device']=_0x13a587,Xs['get']('IMG_ALPHA_'+'TEST')&&PL['run'](this['device']);}['load'](_0x27763e,_0x2bb586,_0x5a7093){var _0x8d52cb;const _0x368a3b=!!((_0x8d52cb=_0x5a7093==null?void(0x1c*-0xfa+-0x6*-0x2ff+0x95e):_0x5a7093['file'])!=null&&_0x8d52cb['contents']);if(_0x368a3b){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x5a7093['file']['contents']]),_0x2bb586);return;}_0x27763e={'load':URL['createObje'+'ctURL'](new Blob([_0x5a7093['file']['contents']])),'original':_0x27763e['original']};}const _0x1ccc1b=(_0x26e545,_0x572a82)=>{_0x368a3b&&URL['revokeObje'+'ctURL'](_0x27763e['load']),_0x2bb586(_0x26e545,_0x572a82);};let _0x4a4289;_0x5a7093&&_0x5a7093['options']&&_0x5a7093['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x4a4289=_0x5a7093['options']['crossOrigi'+'n']:Da['test'](_0x27763e['load'])&&(_0x4a4289=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x27763e['load'],_0x27763e['original'],_0x4a4289,_0x1ccc1b):this['_loadImage'](_0x27763e['load'],_0x27763e['original'],_0x4a4289,_0x1ccc1b);}['open'](_0x4c17d6,_0x107f1b,_0x29663b,_0x302b4a={}){const _0x2283e8=new he(_0x29663b,{'name':_0x4c17d6,'profilerHint':ur,'width':_0x107f1b['width'],'height':_0x107f1b['height'],'format':_0x302b4a['srgb']?rs:Se,..._0x302b4a});return _0x2283e8['setSource'](_0x107f1b),_0x2283e8;}['_loadImage'](_0xc30a01,_0x4f63cb,_0x3d2fc7,_0x46b3f0){const _0x1144fe=new Image();_0x3d2fc7&&(_0x1144fe['crossOrigi'+'n']=_0x3d2fc7);let _0x2d565e=-0x1*0x14c2+-0x11*-0x6f+0xd63;const _0x4ec4fe=this['maxRetries'];let _0xa11b32;_0x1144fe['onload']=function(){_0x46b3f0(null,_0x1144fe);},_0x1144fe['onerror']=function(){if(!_0xa11b32){if(_0x4ec4fe>0x2*0x10a5+0x179a+-0x38e4&&++_0x2d565e<=_0x4ec4fe){const _0x3fb641=Math['pow'](0x112*0x23+-0x703*0x3+0x1d3*-0x9,_0x2d565e)*(-0x266e+-0xed7*-0x1+0x7*0x36d);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x4f63cb+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x3fb641+'ms...');const _0x2b3cb0=_0xc30a01['indexOf']('?')>=-0x2531*0x1+-0x579*-0x1+0x1fb8?'&':'?';_0xa11b32=setTimeout(()=>{_0x1144fe['src']=_0xc30a01+_0x2b3cb0+'retry='+Date['now'](),_0xa11b32=null;},_0x3fb641);}else _0x46b3f0('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x4f63cb+'\x27');}},_0x1144fe['src']=_0xc30a01;}['_loadImage'+'Bitmap'](_0x48dfe1,_0x46ba9a,_0x5bd3af,_0x1de361){const _0xdee6ed={'cache':!(0xd*-0x200+0x979+0x1087),'responseType':'blob','retry':this['maxRetries']>-0xd67*0x1+0x2128+0xd*-0x185,'maxRetries':this['maxRetries']};We['get'](_0x48dfe1,_0xdee6ed,(_0x12639d,_0x44c7a8)=>{_0x12639d?_0x1de361(_0x12639d):this['_loadImage'+'BitmapFrom'+'Blob'](_0x44c7a8,_0x1de361);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x5ec83a,_0x2fd93c){createImageBitmap(_0x5ec83a,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x358b5e=>_0x2fd93c(null,_0x358b5e))['catch'](_0x3b764a=>_0x2fd93c(_0x3b764a));}}const iu=[-0x1d*-0x3d1c733+-0x6d6f1*0x1052+0x5930a416,0x122551ed7+-0x1632ffe99+-0xfc0c10e2*-0x1,0x316*-0x32174+-0x10d0ccd7+0x249412dc],IL={0x83f0:yc,0x83f2:zf,0x83f3:Wo,0x8d64:bc,0x9274:Vf,0x9278:Gf,0x8c00:wc,0x8c01:qo,0x8c02:Tc,0x8c03:Xo,0x8051:dr,0x8058:Se,0x8c41:Uf,0x8c43:rs,0x8c3a:_a,0x881b:xc,0x881a:Je};function DL(_0x359a5e,_0x2cf441,_0x560a64,_0x1e82a7){return _0x359a5e===_a?new Uint32Array(_0x2cf441,_0x560a64,_0x1e82a7/(0x1987+-0x16*-0x42+-0xa65*0x3)):new Uint8Array(_0x2cf441,_0x560a64,_0x1e82a7);}class LL extends Na{constructor(_0x122c00){super(),this['maxRetries']=0x1d*-0x95+-0x14*-0x1aa+-0x1067;}['load'](_0x40cea3,_0x5ae87e,_0x39380f){le['fetchArray'+'Buffer'](_0x40cea3['load'],_0x5ae87e,_0x39380f,this['maxRetries']);}['open'](_0x2f8d73,_0x546207,_0x47e75a,_0x38187d={}){const _0x344f82=this['parse'](_0x546207);if(!_0x344f82)return null;const _0x4e4bb8=_0x38187d['srgb']?Cc(_0x344f82['format']):_0x344f82['format'],_0x1aacd1=new he(_0x47e75a,{'name':_0x2f8d73,'profilerHint':ur,'addressU':_0x344f82['cubemap']?ae:tt,'addressV':_0x344f82['cubemap']?ae:tt,'width':_0x344f82['width'],'height':_0x344f82['height'],'format':_0x4e4bb8,'cubemap':_0x344f82['cubemap'],'levels':_0x344f82['levels'],..._0x38187d});return _0x1aacd1['upload'](),_0x1aacd1;}['parse'](_0x4ff7f3){const _0x31dfe8=new Uint32Array(_0x4ff7f3);if(iu[-0x5ce+-0x1*-0x1bdb+-0x160d]!==_0x31dfe8[0x3fe*-0x1+0x79f*-0x3+0x37*0x7d]||iu[0x1ef4+0x19*0x50+-0x1*0x26c3]!==_0x31dfe8[0x1*-0x205a+-0x44f*-0x7+0x232]||iu[-0x1cdc+0x2f5+0x63*0x43]!==_0x31dfe8[0x1b08+-0x3*0xaed+0x5c1])return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x5af71c={'endianness':_0x31dfe8[-0x3*-0x5a4+0x116e*0x2+0x1c9*-0x1d],'glType':_0x31dfe8[-0x6fd*-0x4+-0xd85+-0xe6b],'glTypeSize':_0x31dfe8[-0x49*-0x13+-0x1218+0xcb2],'glFormat':_0x31dfe8[0x89*0xb+-0x2e4+-0x2f9],'glInternalFormat':_0x31dfe8[0x1aff*-0x1+-0x116a+0x2c70],'glBaseInternalFormat':_0x31dfe8[0x1fdc+-0x6bf*-0x2+-0x16a9*0x2],'pixelWidth':_0x31dfe8[-0x3*0x25+0x247f+-0x191*0x17],'pixelHeight':_0x31dfe8[0xd58+0xa78+0x166*-0x11],'pixelDepth':_0x31dfe8[0xb14*-0x2+0xa3a+0xbf9],'numberOfArrayElements':_0x31dfe8[0x10*0x10f+0x1a45+0x1*-0x2b29],'numberOfFaces':_0x31dfe8[0x41b*0x1+-0x17a8+-0xd*-0x182],'numberOfMipmapLevels':_0x31dfe8[0x18d7+0x2554+-0x3e1d*0x1],'bytesOfKeyValueData':_0x31dfe8[-0x16af+-0x270f+0x3dcd*0x1]};if(_0x5af71c['pixelDepth']>-0x1802+-0x1f32+0x3735)return v['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x5af71c['numberOfAr'+'rayElement'+'s']!==0x988*0x4+-0x155e+0x8f*-0x1e)return v['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x2e58b3=IL[_0x5af71c['glInternal'+'Format']];if(_0x2e58b3===void(0x5ea+-0x1f76+-0x221*-0xc))return v['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x5af71c['glInternal'+'Format']),null;let _0x3349b3=0x1*0x13d9+-0x9*-0x3d6+0x364f*-0x1+_0x5af71c['bytesOfKey'+'ValueData']/(-0x429+-0xa*-0x287+-0xb*0x1eb);const _0x25140d=_0x5af71c['numberOfFa'+'ces']>-0x2604+0xcac+0x1959,_0x45b641=[];for(let _0x27d549=-0x1*-0x1a4+-0xd*-0xa0+-0x9c4;_0x27d549<(_0x5af71c['numberOfMi'+'pmapLevels']||0x1e*-0x1f+-0x255e+0x2901);_0x27d549++){const _0x5e66f9=_0x31dfe8[_0x3349b3++];_0x25140d&&_0x45b641['push']([]);const _0xa90f23=_0x25140d?_0x45b641[_0x27d549]:_0x45b641;for(let _0x83dcd7=-0x3*0x1a3+0x2351+-0x1e68;_0x83dcd7<(_0x25140d?0x2*0xe3b+-0x1*0x21a7+-0xf*-0x59:0x1*-0x26bd+-0x1b37+0xb*0x5ff);++_0x83dcd7)_0xa90f23['push'](DL(_0x2e58b3,_0x4ff7f3,_0x3349b3*(0x2101+0x151*0x2+-0xb*0x33d),_0x5e66f9)),_0x3349b3+=_0x5e66f9+(-0x2*0x3bd+-0xfc5+0x1742)>>-0x717+-0x1b21+0x223a;}return{'format':_0x2e58b3,'width':_0x5af71c['pixelWidth'],'height':_0x5af71c['pixelHeigh'+'t'],'levels':_0x45b641,'cubemap':_0x25140d};}}const FL={'KHR_DF_MODEL_UASTC':0xa6};class OL extends Na{constructor(_0x573014,_0x128b73){super(),this['maxRetries']=0x397*0x1+0x3*-0x4ae+0xa73,this['device']=_0x128b73;}['load'](_0xbbb5a5,_0x450065,_0x4b88f2){le['fetchArray'+'Buffer'](_0xbbb5a5['load'],(_0x55646a,_0x4ac5a4)=>{_0x55646a?_0x450065(_0x55646a,_0x4ac5a4):this['parse'](_0x4ac5a4,_0xbbb5a5,_0x450065,_0x4b88f2);},_0x4b88f2,this['maxRetries']);}['open'](_0x4f11cc,_0x19f915,_0x1db51f,_0x27dc8a={}){const _0x4a0f58=_0x27dc8a['srgb']?Cc(_0x19f915['format']):_0x19f915['format'],_0x1d9699=new he(_0x1db51f,{'name':_0x4f11cc,'profilerHint':ur,'addressU':_0x19f915['cubemap']?ae:tt,'addressV':_0x19f915['cubemap']?ae:tt,'width':_0x19f915['width'],'height':_0x19f915['height'],'format':_0x4a0f58,'cubemap':_0x19f915['cubemap'],'levels':_0x19f915['levels'],..._0x27dc8a});return _0x1d9699['upload'](),_0x1d9699;}['parse'](_0x574603,_0x75131d,_0x1fba08,_0x1dbb5b){var _0x132bd4,_0x26342b,_0x2841ee;const _0x1fecd5=new oy(_0x574603),_0xeceb6b=[_0x1fecd5['readU32be'](),_0x1fecd5['readU32be'](),_0x1fecd5['readU32be']()];if(_0xeceb6b[-0x496*-0x1+-0xb0d+0x677]!==-0xb3423b*0xc1+0x1*-0x86d51d33+-0x1b9456006*-0x1||_0xeceb6b[-0x23ff+0x1*0x10ba+0x1346]!==0x1a*-0x222089f+-0x3d9d4dc3+-0x13b275*-0x794||_0xeceb6b[-0x254*-0x7+-0x1d65+0xd1b]!==-0x18fe1cda+0xe296f41+-0x1*-0x17dec7a3)return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x15bc95={'vkFormat':_0x1fecd5['readU32'](),'typeSize':_0x1fecd5['readU32'](),'pixelWidth':_0x1fecd5['readU32'](),'pixelHeight':_0x1fecd5['readU32'](),'pixelDepth':_0x1fecd5['readU32'](),'layerCount':_0x1fecd5['readU32'](),'faceCount':_0x1fecd5['readU32'](),'levelCount':_0x1fecd5['readU32'](),'supercompressionScheme':_0x1fecd5['readU32']()},_0x2a8468={'dfdByteOffset':_0x1fecd5['readU32'](),'dfdByteLength':_0x1fecd5['readU32'](),'kvdByteOffset':_0x1fecd5['readU32'](),'kvdByteLength':_0x1fecd5['readU32'](),'sgdByteOffset':_0x1fecd5['readU64'](),'sgdByteLength':_0x1fecd5['readU64']()},_0x2ee978=[];for(let _0x5e8243=-0x4*0x1af+-0x2434+0x2af0;_0x5e8243<Math['max'](0x240*-0xe+0x1c23+-0x2*-0x1af,_0x15bc95['levelCount']);++_0x5e8243)_0x2ee978['push']({'byteOffset':_0x1fecd5['readU64'](),'byteLength':_0x1fecd5['readU64'](),'uncompressedByteLength':_0x1fecd5['readU64']()});if(_0x1fecd5['readU32']()!==_0x2a8468['kvdByteOff'+'set']-_0x2a8468['dfdByteOff'+'set'])return v['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x1fecd5['skip'](-0x9bc+0x17d4+0xc*-0x12c);const _0xedede6=_0x1fecd5['readU8']();_0x1fecd5['skip'](_0x2a8468['dfdByteLen'+'gth']-(0x1859*-0x1+-0x9d*-0x1d+0x699)),_0x1fecd5['skip'](_0x2a8468['kvdByteLen'+'gth']),_0x15bc95['supercompr'+'essionSche'+'me']===-0x2631+-0x7*-0x1f1+0x189b||_0xedede6===FL['KHR_DF_MOD'+'EL_UASTC']?Fx(this['device'],_0x75131d['load'],_0x574603,_0x1fba08,{'isGGGR':(((_0x2841ee=(_0x26342b=(_0x132bd4=_0x1dbb5b==null?void(-0x152f+0x230+0x12ff):_0x1dbb5b['file'])==null?void(0x1066+-0xc44+-0x2e*0x17):_0x132bd4['variants'])==null?void(0xb84+0x11f7+-0x1d7b*0x1):_0x26342b['basis'])==null?void(-0x1885*-0x1+-0x7a6+-0x10df*0x1):_0x2841ee['opt'])&0xfd3*-0x1+-0xf2d+0x1f08)!==-0x88a+0x1*0x207+0x683,'isKTX2':!(-0x254d+-0x7c*-0x21+-0x3*-0x71b)})||_0x1fba08('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x1dbb5b['name']+']('+_0x1dbb5b['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x1fba08('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class kL extends Na{constructor(_0x4d2023){super(),this['maxRetries']=-0x111a+0x93e+0x7dc;}['load'](_0x2a5fb8,_0x353590,_0x20ccac){le['fetchArray'+'Buffer'](_0x2a5fb8['load'],_0x353590,_0x20ccac,this['maxRetries']);}['open'](_0x3bdcff,_0x35fa1a,_0x295a32,_0x2e9456={}){const _0x2d04b5=new Uint32Array(_0x35fa1a,-0x6c5*0x2+-0x145f+0x21e9,-0x11c*0x8+0x1*0x4d7+0xf*0x47),_0x3554b0=_0x2d04b5[0x23*0x3e+0xab*0x1a+-0x19d4],_0x31d67b=_0x2d04b5[0x859+-0x112f+-0xf*-0x97],_0x10b5df=Math['max'](_0x2d04b5[0xd1*0x3+-0x1ce6+0x1a7a],-0x15c8+-0x17f6*-0x1+-0x22d),_0x194c0f=_0x2d04b5[0xd4c+-0x13*-0x67+-0x1*0x14dd]===-0x168d+0x7*-0x3f2+-0x1bb*-0x1d,_0x4b62d4=_0x2d04b5[-0x1*-0x1027+0x16fe+0x5*-0x7d0],_0x10fc1a=_0x2d04b5[0x29*-0xc5+0x1e05*-0x1+-0x8*-0x7b5],_0x2ecdd0=_0x2d04b5[0xf64+0xfee+-0x11*0x1d6]===-0x1*-0xbacf+0x3e*0x611+-0x134ed,_0x16e3b0=-0xc11*-0x65705+-0x36e63388+0x1bba8877,_0x152458=-0x445f0ecd+-0x79a*-0xa719+-0x74bd3307*-0x1,_0x95b764=-0x1315+0x18f*0xb+0x261,_0x1e04f5=-0x861+-0x1345+-0x6d*-0x42,_0x1091f9=0x11b5f22a*0x3+-0x3ab*-0x5bf6c+-0x18f3a35d,_0x28ef31=-0x4*0x156aca3+-0x35bcfb38+0x6c4ae014,_0x171b67=0x2*-0x51b4219+0x5f21fd6+0x24*0x17c3d13,_0x5e93a3=0x34bf32dd+-0x125437e2+0xec83955,_0x587aba=-0x1ee0adf*0x9+-0x2*0x1c47c8ff+0x7b222825;let _0x5d7a75=!(0x21b5+0x20f7+-0x42ab),_0x64b183=!(-0x5bf+0x1*0x1baa+-0xbb*0x1e),_0xff1cfe=!(-0x4a9+-0x5*0x15+0x513),_0x39453f=!(-0x101+-0x384*-0x2+0x606*-0x1),_0x2f4c3c=null,_0x367dc2=-0x3*-0x93+0x4f0+-0x6a8,_0x150b16;if(_0x194c0f?_0x4b62d4===_0x16e3b0?(_0x2f4c3c=yc,_0x5d7a75=!(0x2617+0xc06*-0x3+-0x205)):_0x4b62d4===_0x152458?(_0x2f4c3c=Wo,_0x5d7a75=!(0x5bf*0x5+-0x28*-0x11+0x5*-0x647)):_0x4b62d4===_0x95b764?(_0x2f4c3c=Je,_0x367dc2=-0x194f+-0x1*0xbcb+0x251c):_0x4b62d4===_0x1e04f5?(_0x2f4c3c=Ke,_0x367dc2=-0x1244*-0x2+-0x1*-0x1b25+-0x3fa9):_0x4b62d4===_0x1091f9?(_0x2f4c3c=bc,_0x5d7a75=!(-0x2c+-0x1e0d+0x1e39),_0x64b183=!(0x1*-0x1d41+-0x25*0xb7+0x37b4)):_0x4b62d4===_0x28ef31||_0x4b62d4===_0x171b67?(_0x2f4c3c=_0x4b62d4===_0x28ef31?qo:Xo,_0x5d7a75=!(-0xca6+0x1*0x1c8a+-0xfe4),_0xff1cfe=!(0x98f+0x89e+-0x122d)):(_0x4b62d4===_0x5e93a3||_0x4b62d4===_0x587aba)&&(_0x2f4c3c=_0x4b62d4===_0x5e93a3?wc:Tc,_0x5d7a75=!(-0x1*-0x44e+0xb*-0x1a5+0xdc9),_0x39453f=!(-0x18e9+-0x238f*-0x1+0x1d*-0x5e)):_0x10fc1a===-0x466+0x4b8+0x1*-0x32&&(_0x2f4c3c=Se),!_0x2f4c3c)return v['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x3bdcff+'.'),_0x150b16=new he(_0x295a32,{'width':0x4,'height':0x4,'format':dr,'name':'dds-legacy'+'-empty'}),_0x150b16;_0x150b16=new he(_0x295a32,{'name':_0x3bdcff,'profilerHint':ur,'addressU':_0x2ecdd0?ae:tt,'addressV':_0x2ecdd0?ae:tt,'width':_0x3554b0,'height':_0x31d67b,'format':_0x2f4c3c,'cubemap':_0x2ecdd0,'mipmaps':_0x10b5df>0x11cf+0x23f2+0x140*-0x2b,..._0x2e9456});let _0x30bb5d=0xe31+-0x90*0x10+-0x4b1;const _0x3affbc=_0x2ecdd0?0x1*-0x782+-0x2522+-0x1*-0x2caa:-0x2475+-0x10a9+0x351f;let _0x9dd771;const _0x1691d5=-0x15e0+-0x95*0x3a+0x37a6,_0x3cc5cd=-0x110e+-0x7*-0x55b+-0x146b,_0x1300ff=_0x4b62d4===_0x16e3b0?-0x1*0x26f9+-0x1836+-0x1*-0x3f37:-0x2451+-0x72d+0x2b8e;let _0x4a4037,_0x4d55a1,_0x394fa0;for(let _0x1d8a88=-0x17af*-0x1+-0x3eb+-0x13c4;_0x1d8a88<_0x3affbc;_0x1d8a88++){let _0x1f0aff=_0x3554b0,_0x29de40=_0x31d67b;for(let _0x2a4f0c=0x11f9+-0x51*0x8+-0xf71;_0x2a4f0c<_0x10b5df;_0x2a4f0c++){_0x5d7a75?_0x64b183?_0x9dd771=Math['floor']((_0x1f0aff+(-0x1164+-0x133+-0x94d*-0x2))/(0x34*-0x24+-0x1*-0x1003+-0x8af))*Math['floor']((_0x29de40+(0x5af*-0x3+-0x1a*-0xe3+-0x5fe))/(0x16*0x139+0x1*0x1b2f+-0x3611))*(-0xcf5+-0x6c9*0x1+0x13c6*0x1):_0xff1cfe?_0x9dd771=Math['max'](_0x1f0aff,0x2197+-0x8*0x472+-0x1*-0x209)*Math['max'](_0x29de40,0x30d*0x4+0x107e+-0x1caa)/(-0xb*0xfe+0x1*-0x1c66+0xd1c*0x3):_0x39453f?_0x9dd771=Math['max'](_0x1f0aff,0x97c+-0x8ac+-0x64*0x2)*Math['max'](_0x29de40,0x209*0xa+0x5ec*-0x2+0x1*-0x87a)/(-0x8aa+0xd3*-0xd+0x1*0x1363):(_0x4a4037=Math['floor']((_0x1f0aff+_0x1691d5-(-0x7a6*0x2+0x19da+0x25*-0x49))/_0x1691d5),_0x4d55a1=Math['floor']((_0x29de40+_0x3cc5cd-(-0x1e0e+-0x1b62+-0xad*-0x55))/_0x3cc5cd),_0x394fa0=_0x4a4037*_0x4d55a1,_0x9dd771=_0x394fa0*_0x1300ff):_0x9dd771=_0x1f0aff*_0x29de40*(-0x1*-0xd3+-0x25*0xd+0x112);const _0x238231=_0x2f4c3c===Ke?new Float32Array(_0x35fa1a,_0x30bb5d,_0x9dd771):_0x2f4c3c===Je?new Uint16Array(_0x35fa1a,_0x30bb5d,_0x9dd771):new Uint8Array(_0x35fa1a,_0x30bb5d,_0x9dd771);_0x2ecdd0?(_0x150b16['_levels'][_0x2a4f0c]||(_0x150b16['_levels'][_0x2a4f0c]=[]),_0x150b16['_levels'][_0x2a4f0c][_0x1d8a88]=_0x238231):_0x150b16['_levels'][_0x2a4f0c]=_0x238231,_0x30bb5d+=_0x9dd771*_0x367dc2,_0x1f0aff=Math['max'](_0x1f0aff*(-0x1d64+0x1*0x105b+0x1*0xd09+0.5),0x1afb*-0x1+-0x1*0x2587+0x4083),_0x29de40=Math['max'](_0x29de40*(-0x112c+0x1d53*0x1+-0x11*0xb7+0.5),0x10*-0x22a+-0x6f3+0x2994);}}return _0x150b16['upload'](),_0x150b16;}}class BL extends Na{constructor(_0x64b0dd){super(),this['maxRetries']=-0x13f7+0x9*-0x2af+0x2c1e;}['load'](_0x1fb5f5,_0x2b5a47,_0x21b4c9){le['fetchArray'+'Buffer'](_0x1fb5f5['load'],_0x2b5a47,_0x21b4c9,this['maxRetries']);}['open'](_0x19d435,_0x35728c,_0x41301c,_0x592eb3={}){const _0x4e94c8=this['parse'](_0x35728c);if(!_0x4e94c8)return null;const _0x363447=new he(_0x41301c,{'name':_0x19d435,'profilerHint':ur,'addressU':tt,'addressV':ae,'minFilter':de,'magFilter':de,'width':_0x4e94c8['width'],'height':_0x4e94c8['height'],'levels':_0x4e94c8['levels'],'format':Se,'type':ap,'mipmaps':!(-0x1*0x64e+-0x497+-0x1d1*-0x6),..._0x592eb3});return _0x363447['upload'](),_0x363447;}['parse'](_0x20ed3b){const _0x53311b=new oy(_0x20ed3b);if(!_0x53311b['readLine']()['startsWith']('#?RADIANCE'))return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x5ef2cc={};for(;;){const _0x5f259f=_0x53311b['readLine']();if(_0x5f259f['length']===-0x47*-0x2c+0x17af+-0x23e3)break;{const _0x5bfd50=_0x5f259f['split']('=');_0x5bfd50['length']===-0x598*-0x5+-0x204f+-0x3*-0x173&&(_0x5ef2cc[_0x5bfd50[-0xa6e+-0x171f+-0x15*-0x199]]=_0x5bfd50[0x3*0x415+0x932*-0x3+-0x8*-0x1eb]);}}if(!_0x5ef2cc['hasOwnProp'+'erty']('FORMAT'))return v['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x44e9a9=_0x53311b['readLine']()['split']('\x20');if(_0x44e9a9['length']!==0xcbe*0x1+-0x14*0x86+-0x121*0x2)return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x108938=parseInt(_0x44e9a9[0xf79+0x2d*-0x7+-0xe3d],0x84+-0x10*-0x265+-0xcee*0x3),_0x13c523=parseInt(_0x44e9a9[0x1*-0x812+0x5*-0x5ea+-0x3*-0xc8d],0x1*-0x2dd+0x18db+-0x15f4),_0x38dbc2=this['_readPixel'+'s'](_0x53311b,_0x13c523,_0x108938,_0x44e9a9[0x1f3+0xe3*-0x1b+0xa*0x233]==='-Y');return _0x38dbc2?{'width':_0x13c523,'height':_0x108938,'levels':[_0x38dbc2]}:null;}['_readPixel'+'s'](_0x48f462,_0x5b2b71,_0x415ee1,_0xd372a4){if(_0x5b2b71<-0x1b48+0x11a+0x1a36||_0x5b2b71>0x7f2*0x19+0xe9*0xa6+-0xddb9)return this['_readPixel'+'sFlat'](_0x48f462,_0x5b2b71,_0x415ee1);const _0x3be089=[-0x1bdc+-0x2d6+0x1eb2,-0xa8b+0x552*0x4+-0xabd,0x1c4a+-0x2619+0x51*0x1f,-0x1*-0x4cf+-0x1*-0x1faf+0xc2a*-0x3];if(_0x48f462['readArray'](_0x3be089),_0x3be089[-0x8a8+-0x2*-0xbc+0x730]!==0x10b2+0x1226+-0xb6*0x31||_0x3be089[0x1*-0x70+-0x1ab*-0xb+-0x11e8]!==-0xfb6+0x4c7+0x1*0xaf1||(_0x3be089[0x8d*0x2b+-0x141b+-0x392]&0x2651+0x4c9+-0x2a9a)!==-0x1*-0xbfe+0x2523+0x1*-0x3121)return _0x48f462['skip'](-(0xd14*-0x2+-0xe1a+0x5*0x80e)),this['_readPixel'+'sFlat'](_0x48f462,_0x5b2b71,_0x415ee1);const _0x816759=new ArrayBuffer(_0x5b2b71*_0x415ee1*(-0x138c+0x15*0x11d+-0x3d1)),_0x259c5=new Uint8Array(_0x816759);let _0x365b81=_0xd372a4?-0x1*-0x6e9+-0x40+-0x1f*0x37:_0x5b2b71*(0xc70+0x4*0x946+-0x3184)*(_0x415ee1-(-0x2475+0x177d+-0x171*-0x9)),_0x504c18,_0x2dfa01,_0x18cee8,_0xdc80ed,_0x2b31c4,_0x3a9fcd;for(_0x2dfa01=0x87a+0x1*0x938+-0x11b2;_0x2dfa01<_0x415ee1;++_0x2dfa01){if(_0x2dfa01&&_0x48f462['readArray'](_0x3be089),(_0x3be089[-0x1*-0x386+0x237b*0x1+-0x26ff]<<0xd55*-0x1+0x1*-0x16a9+0x601*0x6)+_0x3be089[0x6fc+-0x1b8+0x5*-0x10d]!==_0x5b2b71)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0xdc80ed=0xbb*-0x2+0x1d1c+-0x1ba6;_0xdc80ed<-0x5bb+0x3*0x395+0x80*-0xa;++_0xdc80ed)for(_0x504c18=0x315*0xb+0x149f+-0x3686;_0x504c18<_0x5b2b71;)if(_0x2b31c4=_0x48f462['readU8'](),_0x2b31c4>-0x2*0x24d+0x1*0x4a3+-0x77*-0x1){if(_0x2b31c4-=0x869*-0x4+0x1917+0x90d,_0x504c18+_0x2b31c4>_0x5b2b71)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x3a9fcd=_0x48f462['readU8'](),_0x18cee8=-0x1*-0xb10+0xcfc+-0x180c;_0x18cee8<_0x2b31c4;++_0x18cee8)_0x259c5[_0x365b81+_0xdc80ed+(0x2d*-0xcf+-0xb*-0x283+0x8c6)*_0x504c18++]=_0x3a9fcd;}else{if(_0x2b31c4===-0xfd1+-0x1*0x270e+0xb*0x4fd||_0x504c18+_0x2b31c4>_0x5b2b71)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x18cee8=-0x3*-0xcb9+-0x1*-0x4b2+-0x1*0x2add;_0x18cee8<_0x2b31c4;++_0x18cee8)_0x259c5[_0x365b81+_0xdc80ed+(0x1063+-0xecd+-0x192)*_0x504c18++]=_0x48f462['readU8']();}_0x365b81+=_0x5b2b71*(-0x14ab+0x1789+-0x5*0x92)*(_0xd372a4?-0x3*-0x9d3+-0x1c6+-0x58a*0x5:-(0x834+-0xf7*0xf+0x49*0x16));}return _0x259c5;}['_readPixel'+'sFlat'](_0x39fad6,_0x3c28a9,_0x4bebbf){return _0x39fad6['remainingB'+'ytes']===_0x3c28a9*_0x4bebbf*(0x20f3+0x5a7*0x5+-0x3d32)?new Uint8Array(_0x39fad6['arraybuffe'+'r'],_0x39fad6['offset']):null;}}const $g={'repeat':tt,'clamp':ae,'mirror':Of},Wg={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},NL={'default':Di,'rgbm':on,'rgbe':ap,'rgbp':Io,'swizzleGGGR':op},zL=function(_0x3f54f3){const _0x45268f=Mi['calcMipLev'+'elsCount'](_0x3f54f3['_width'],_0x3f54f3['_height']),_0x52604d=function(_0x45cd7d){return _0x45cd7d instanceof HTMLCanvasElement||_0x45cd7d instanceof HTMLImageElement||_0x45cd7d instanceof HTMLVideoElement;};if(!(_0x3f54f3['_format']===Se||_0x3f54f3['_format']===Ke)||_0x3f54f3['_volume']||_0x3f54f3['_compresse'+'d']||_0x3f54f3['_levels']['length']===-0x237a+0x1*0x2696+-0x35*0xf||_0x3f54f3['_levels']['length']===_0x45268f||_0x52604d(_0x3f54f3['_cubemap']?_0x3f54f3['_levels'][-0x1e6d+0x857*-0x2+0x1f*0x185][-0x1*0x20e5+-0x2*-0x2ea+0xa9*0x29]:_0x3f54f3['_levels'][0x1*-0xfff+-0x1*0x1df+0x11de]))return;const _0x3f6f0f=function(_0x308c38,_0x3612e9,_0x31cb1c){const _0x1b62ad=Math['max'](0x862+-0xb7f+0x31e,_0x308c38>>0xa67+0x31*0x97+-0x274d),_0xa23444=Math['max'](0x565*-0x5+0x15de+0x6*0xda,_0x3612e9>>-0x8b+0x743+-0x6b7),_0xceab1c=new _0x31cb1c['constructo'+'r'](_0x1b62ad*_0xa23444*(0x17d0+-0x35*-0xd+-0x1a7d*0x1)),_0x524d1f=Math['floor'](_0x308c38/_0x1b62ad),_0x31281c=Math['floor'](_0x3612e9/_0xa23444),_0x965b1=_0x524d1f*_0x31281c;for(let _0x2e440a=-0x24b7+-0x9a4+0x2e5b;_0x2e440a<_0xa23444;++_0x2e440a)for(let _0x13a31c=-0x1d85+0xca*-0xf+0x295b;_0x13a31c<_0x1b62ad;++_0x13a31c)for(let _0x25a4b1=-0x76f+0x12fb+-0xb8c;_0x25a4b1<-0x1374*0x2+-0x224*0xe+0x44e4;++_0x25a4b1){let _0x155547=0x5b1*-0x1+-0x1*0x1d7d+0x232e;for(let _0x41767d=0x1*-0x905+-0xcfd+-0x2*-0xb01;_0x41767d<_0x31281c;++_0x41767d)for(let _0x248c1f=0xa9d+0xd0*0x24+0x7f9*-0x5;_0x248c1f<_0x524d1f;++_0x248c1f)_0x155547+=_0x31cb1c[(_0x13a31c*_0x524d1f+_0x248c1f+(_0x2e440a*_0x31281c+_0x41767d)*_0x308c38)*(0x1faa+0x1ef6*0x1+0x2*-0x1f4e)+_0x25a4b1];_0xceab1c[(_0x13a31c+_0x2e440a*_0x1b62ad)*(0x16e1*0x1+0xd*-0xad+-0xe14)+_0x25a4b1]=_0x155547/_0x965b1;}return _0xceab1c;};for(let _0x5ad25d=_0x3f54f3['_levels']['length'];_0x5ad25d<_0x45268f;++_0x5ad25d){const _0x2f91b1=Math['max'](0x7*0xcd+0x4c5*-0x2+-0x1*-0x3f0,_0x3f54f3['_width']>>_0x5ad25d-(0x2438+-0xd8*0x19+0x7*-0x229)),_0x3b6ee7=Math['max'](-0x1287+-0xb9d+-0x1*-0x1e25,_0x3f54f3['_height']>>_0x5ad25d-(0x48b*0x3+-0xd2a+-0x76));if(_0x3f54f3['_cubemap']){const _0x167715=[];for(let _0x44ca57=0x1985+-0x62*0x3+0x1*-0x185f;_0x44ca57<-0x1cc7*0x1+-0x10fb+0x2dc8*0x1;++_0x44ca57)_0x167715['push'](_0x3f6f0f(_0x2f91b1,_0x3b6ee7,_0x3f54f3['_levels'][_0x5ad25d-(0x7a3+-0x1f*-0xfc+-0x101*0x26)][_0x44ca57]));_0x3f54f3['_levels']['push'](_0x167715);}else _0x3f54f3['_levels']['push'](_0x3f6f0f(_0x2f91b1,_0x3b6ee7,_0x3f54f3['_levels'][_0x5ad25d-(-0x1acf+0x22af+-0x9b*0xd)]));}_0x3f54f3['_levelsUpd'+'ated']=_0x3f54f3['_cubemap']?[[!(0x2de*0x3+0x2054+-0x28ee),!(-0x423+-0xd30+0x1153),!(0x1cf3+0x5*-0x2c1+-0xf2e),!(0xc91+-0x13*0x3e+-0x7f7),!(-0x262a+-0x873+0x2e9d*0x1),!(0x19f0+-0x128d+-0x763)]]:[!(0x1127+-0xd3*0x11+-0x86*0x6)];};class UL extends Ne{constructor(_0x2b6cbf){super(_0x2b6cbf,'texture');const _0x5edd83=_0x2b6cbf['assets'],_0x4624e7=_0x2b6cbf['graphicsDe'+'vice'];this['_device']=_0x4624e7,this['_assets']=_0x5edd83,this['imgParser']=new RL(_0x5edd83,_0x4624e7),this['parsers']={'dds':new kL(_0x5edd83),'ktx':new LL(_0x5edd83),'ktx2':new OL(_0x5edd83,_0x4624e7),'basis':new EL(_0x5edd83,_0x4624e7),'hdr':new BL(_0x5edd83)};}set['crossOrigi'+'n'](_0x245d99){this['imgParser']['crossOrigi'+'n']=_0x245d99;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x1606d4){this['imgParser']['maxRetries']=_0x1606d4;for(const _0x25506d in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x25506d)&&(this['parsers'][_0x25506d]['maxRetries']=_0x1606d4);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x6e6dc){return _0x6e6dc['indexOf']('?')>=-0x3e*-0x7a+-0x1ea5+-0x119*-0x1?_0x6e6dc['split']('?')[0x1c2d*-0x1+0xf55*0x1+0xcd8]:_0x6e6dc;}['_getParser'](_0x2c6465){const _0x2c963c=fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x2c6465))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x2c963c]||this['imgParser'];}['_getTextur'+'eOptions'](_0x285b5c){var _0x4e2b88;const _0x59a63b={'profilerHint':ur};if(_0x285b5c){((_0x4e2b88=_0x285b5c['name'])==null?void(0x1*0x29d+0x12a*0xf+-0x9*0x23b):_0x4e2b88['length'])>-0x70*0x47+-0x1543+0x3453&&(_0x59a63b['name']=_0x285b5c['name']);const _0x5abc69=_0x285b5c['data'];_0x5abc69['hasOwnProp'+'erty']('minfilter')&&(_0x59a63b['minFilter']=Wg[_0x5abc69['minfilter']]),_0x5abc69['hasOwnProp'+'erty']('magfilter')&&(_0x59a63b['magFilter']=Wg[_0x5abc69['magfilter']]),_0x5abc69['hasOwnProp'+'erty']('addressu')&&(_0x59a63b['addressU']=$g[_0x5abc69['addressu']]),_0x5abc69['hasOwnProp'+'erty']('addressv')&&(_0x59a63b['addressV']=$g[_0x5abc69['addressv']]),_0x5abc69['hasOwnProp'+'erty']('mipmaps')&&(_0x59a63b['mipmaps']=_0x5abc69['mipmaps']),_0x5abc69['hasOwnProp'+'erty']('anisotropy')&&(_0x59a63b['anisotropy']=_0x5abc69['anisotropy']),_0x5abc69['hasOwnProp'+'erty']('flipY')&&(_0x59a63b['flipY']=!!_0x5abc69['flipY']),_0x5abc69['hasOwnProp'+'erty']('srgb')&&(_0x59a63b['srgb']=!!_0x5abc69['srgb']),_0x5abc69['hasOwnProp'+'erty']('type')?_0x59a63b['type']=NL[_0x5abc69['type']]:_0x5abc69['hasOwnProp'+'erty']('rgbm')&&_0x5abc69['rgbm']?_0x59a63b['type']=on:_0x285b5c['file']&&(_0x285b5c['file']['opt']&0x1c5b+0x1*-0x15a4+-0x1*0x6af)!==-0x14ae+0x763*-0x1+0x1df*0xf&&(_0x59a63b['type']=op);}return _0x59a63b;}['load'](_0xde6ca0,_0x241efa,_0x2620b8){typeof _0xde6ca0=='string'&&(_0xde6ca0={'load':_0xde6ca0,'original':_0xde6ca0}),this['_getParser'](_0xde6ca0['original'])['load'](_0xde6ca0,_0x241efa,_0x2620b8);}['open'](_0x3ab49a,_0x1a7323,_0x4df1d7){if(!_0x3ab49a)return;const _0x100896=this['_getTextur'+'eOptions'](_0x4df1d7);let _0xb61ca=this['_getParser'](_0x3ab49a)['open'](_0x3ab49a,_0x1a7323,this['_device'],_0x100896);return _0xb61ca===null?_0xb61ca=new he(this['_device'],{'width':0x4,'height':0x4,'format':dr}):(zL(_0xb61ca),_0x1a7323['unswizzled'+'GGGR']&&(_0x4df1d7['file']['variants']['basis']['opt']&=-(0x20e8+0x74b*-0x1+-0x1994))),_0xb61ca;}['patch'](_0x148ba3,_0xdc401b){const _0x3ef2e2=_0x148ba3['resource'];if(!_0x3ef2e2)return;const _0xc1cf73=this['_getTextur'+'eOptions'](_0x148ba3);for(const _0x3c5fb2 of Object['keys'](_0xc1cf73))_0x3ef2e2[_0x3c5fb2]=_0xc1cf73[_0x3c5fb2];}}const VL='inline',GL='immersive-'+'vr',Ao='immersive-'+'ar',qg='viewer',HL='left',$L='cpu-optimi'+'zed',Bx='gpu-optimi'+'zed',Nx='luminance-'+'alpha',zx='unsigned-s'+'hort',Ux='float32';class WL{constructor(_0x117213){c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),(this['_manager']=_0x117213,this['init']());}async['init'](){const _0x4f816d=await navigator['xr']['isSessionS'+'upported']('immersive-'+'ar',{'features':['dom-overla'+'y']});this['_supported']=_0x4f816d;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x5ca8cb){!this['_supported']||this['_manager']['active']||(this['_root']=_0x5ca8cb);}get['root'](){return this['_root'];}}const ih=[],Xg=[];class Ef extends ce{constructor(_0x292235,_0x7c4286,_0x27aed3,_0x515947=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x292235,this['_xrHitTest'+'Source']=_0x7c4286,this['_transient']=_0x27aed3,this['_inputSour'+'ce']=_0x515947);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x16d309=this['manager']['hitTest']['sources'],_0x32e8d1=_0x16d309['indexOf'](this);_0x32e8d1!==-(0x31*0xa6+-0x771+-0x2*0xc2a)&&_0x16d309['splice'](_0x32e8d1,0x1834+-0xa7*0x2f+0x676),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x19cecc){if(this['_transient']){const _0x27ed48=_0x19cecc['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x1a67d0=0x32*-0xb3+0x52*-0x1+0x2348;_0x1a67d0<_0x27ed48['length'];_0x1a67d0++){const _0xeda045=_0x27ed48[_0x1a67d0];if(!_0xeda045['results']['length'])continue;let _0x453ebb;_0xeda045['inputSourc'+'e']&&(_0x453ebb=this['manager']['input']['_getByInpu'+'tSource'](_0xeda045['inputSourc'+'e'])),this['updateHitR'+'esults'](_0xeda045['results'],_0x453ebb);}}else{const _0x122b23=_0x19cecc['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x122b23['length'])return;this['updateHitR'+'esults'](_0x122b23);}}['updateHitR'+'esults'](_0x257527,_0x505e88){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x505e88)return;const _0x512c20=ih['pop']()??new T();_0x505e88?_0x512c20['copy'](_0x505e88['getOrigin']()):_0x512c20['copy'](this['manager']['camera']['getPositio'+'n']());let _0x5506a2=(-0x1*0x12b9+0x547+0xd73*0x1)/(0x26e2+0x2148+-0x482a),_0x4efdb7=null;const _0x1bd604=ih['pop']()??new T(),_0x15829d=Xg['pop']()??new se();for(let _0x5f0f44=0x248d+0x21a9+-0x4636;_0x5f0f44<_0x257527['length'];_0x5f0f44++){const _0x24fa86=_0x257527[_0x5f0f44]['getPose'](this['manager']['_reference'+'Space']),_0x4007b3=_0x512c20['distance'](_0x24fa86['transform']['position']);_0x4007b3>=_0x5506a2||(_0x5506a2=_0x4007b3,_0x4efdb7=_0x257527[_0x5f0f44],_0x1bd604['copy'](_0x24fa86['transform']['position']),_0x15829d['copy'](_0x24fa86['transform']['orientatio'+'n']));}this['fire']('result',_0x1bd604,_0x15829d,_0x505e88||this['_inputSour'+'ce'],_0x4efdb7),this['manager']['hitTest']['fire']('result',this,_0x1bd604,_0x15829d,_0x505e88||this['_inputSour'+'ce'],_0x4efdb7),ih['push'](_0x512c20),ih['push'](_0x1bd604),Xg['push'](_0x15829d);}}c(Ef,'EVENT_REMO'+'VE','remove'),c(Ef,'EVENT_RESU'+'LT','result');class kr extends ce{constructor(_0x13b196){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(-0xb1b+0x1*-0x74d+-0x623*-0x3)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x56*-0x35+-0xc1e+-0x5af)),c(this,'sources',[]),(this['manager']=_0x13b196,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x5849ef=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0x6*0x287+-0xea7+-0x82*0x1);if(!_0x5849ef)return;this['_available']=_0x5849ef,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x1*-0x21aa+0x16*0x1bb+-0x47bc),this['manager']['session']['requestRef'+'erenceSpac'+'e'](qg)['then'](_0x59f43d=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x59f43d})['then'](_0x27ca9e=>{_0x27ca9e['cancel'](),this['manager']['active']&&(this['_available']=!(0x3*0x752+-0x1606*0x1+0x10),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x258a+-0x10d*0x11+-0x13ac);for(let _0x316e0c=-0x1*0x518+0x222d+-0x5d1*0x5;_0x316e0c<this['sources']['length'];_0x316e0c++)this['sources'][_0x316e0c]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x5987c1={}){var _0x4406b4,_0x408d9d;if(!this['_supported']){(_0x4406b4=_0x5987c1['callback'])==null||_0x4406b4['call'](_0x5987c1,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x408d9d=_0x5987c1['callback'])==null||_0x408d9d['call'](_0x5987c1,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x5987c1['profile']&&!_0x5987c1['spaceType']&&(_0x5987c1['spaceType']=qg);let _0x2579a3;const _0x8c7909=_0x5987c1['offsetRay'];if(_0x8c7909){const _0x5b95d0=new DOMPoint(_0x8c7909['origin']['x'],_0x8c7909['origin']['y'],_0x8c7909['origin']['z'],-0x1*0x12d5+-0xb*-0x25+-0x373*-0x5),_0x3fc25b=new DOMPoint(_0x8c7909['direction']['x'],_0x8c7909['direction']['y'],_0x8c7909['direction']['z'],-0x25f8+0xdf8+0xc00*0x2);_0x2579a3=new XRRay(_0x5b95d0,_0x3fc25b);}const _0x67c8dd=_0x5987c1['callback'];_0x5987c1['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x5987c1['spaceType'])['then'](_0x2d2798=>{if(!this['manager']['session']){const _0x5f2b3c=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x67c8dd&&_0x67c8dd(_0x5f2b3c),this['fire']('error',_0x5f2b3c);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x2d2798,'entityTypes':_0x5987c1['entityType'+'s']||void(-0x1637+-0x17*-0xe8+-0x27*-0x9),'offsetRay':_0x2579a3})['then'](_0x98d0c9=>{this['_onHitTest'+'Source'](_0x98d0c9,!(-0x2*-0x641+0x1*-0x1203+0xeb*0x6),_0x5987c1['inputSourc'+'e'],_0x67c8dd);})['catch'](_0x5741e9=>{_0x67c8dd&&_0x67c8dd(_0x5741e9),this['fire']('error',_0x5741e9);});})['catch'](_0x149ff9=>{_0x67c8dd&&_0x67c8dd(_0x149ff9),this['fire']('error',_0x149ff9);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x5987c1['profile'],'entityTypes':_0x5987c1['entityType'+'s']||void(-0x2484+-0x5de*0x1+-0xd9*-0x32),'offsetRay':_0x2579a3})['then'](_0x2ee9c2=>{this['_onHitTest'+'Source'](_0x2ee9c2,!(-0x36*0x26+0x86*0x4+0x5ec),_0x5987c1['inputSourc'+'e'],_0x67c8dd);})['catch'](_0x4d1323=>{_0x67c8dd&&_0x67c8dd(_0x4d1323),this['fire']('error',_0x4d1323);});}['_onHitTest'+'Source'](_0x2034c1,_0x513131,_0x2f3aaa,_0x4a6c70){if(!this['manager']['session']){_0x2034c1['cancel']();const _0x5809c5=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x4a6c70&&_0x4a6c70(_0x5809c5),this['fire']('error',_0x5809c5);return;}const _0xe61cd8=new Ef(this['manager'],_0x2034c1,_0x513131,_0x2f3aaa??null);this['sources']['push'](_0xe61cd8),_0x4a6c70&&_0x4a6c70(null,_0xe61cd8),this['fire']('add',_0xe61cd8);}['update'](_0x2256c7){if(this['_available']){for(let _0x49285d=0xe38+0x1*0x1313+-0x214b;_0x49285d<this['sources']['length'];_0x49285d++)this['sources'][_0x49285d]['update'](_0x2256c7);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(kr,'EVENT_AVAI'+'LABLE','available'),c(kr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(kr,'EVENT_ADD','add'),c(kr,'EVENT_REMO'+'VE','remove'),c(kr,'EVENT_RESU'+'LT','result'),c(kr,'EVENT_ERRO'+'R','error');class Cf extends ce{constructor(_0x5659c5,_0x13adf1){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',0x215b+-0x100d+-0x2*0x8a7),c(this,'_trackable',!(-0x49*0x77+0x229a+-0xaa)),c(this,'_tracking',!(-0x16de+0xab9+0xa*0x137)),c(this,'_emulated',!(0x20e8+-0x17ac+-0x93b)),c(this,'_pose',null),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_image']=_0x5659c5,this['_width']=_0x13adf1);}get['image'](){return this['_image'];}set['width'](_0x532429){this['_width']=_0x532429;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x205523=>(this['_bitmap']=_0x205523,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(Cf,'EVENT_TRAC'+'KED','tracked'),c(Cf,'EVENT_UNTR'+'ACKED','untracked');class Vx extends ce{constructor(_0x4799c8){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(-0x6c9+0x1617+-0xf4d)),c(this,'_images',[]),(this['_manager']=_0x4799c8,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x114ff7,_0x565912){if(!this['_supported']||this['_manager']['active'])return null;const _0x1f7417=new Cf(_0x114ff7,_0x565912);return this['_images']['push'](_0x1f7417),_0x1f7417;}['remove'](_0x3c3038){if(this['_manager']['active'])return;const _0x1ac6e7=this['_images']['indexOf'](_0x3c3038);_0x1ac6e7!==-(0x19ee+0x1*0x2639+-0x4026*0x1)&&(_0x3c3038['destroy'](),this['_images']['splice'](_0x1ac6e7,-0x16ef+0x1*-0x1a3+0x1893));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x26b62e=>{this['_available']=!(-0xe48+0x119e+-0x1ab*0x2);for(let _0x2e4dc5=-0x4*0x607+-0x29*0xb5+0x3519;_0x2e4dc5<_0x26b62e['length'];_0x2e4dc5++)this['_images'][_0x2e4dc5]['_trackable']=_0x26b62e[_0x2e4dc5]==='trackable';})['catch'](_0x3083b6=>{this['_available']=!(-0x7a*0x35+0x2586*-0x1+0x1*0x3ec9),this['fire']('error',_0x3083b6);});}['_onSession'+'End'](){this['_available']=!(0x177e+0x12e2*0x1+0x1*-0x2a5f);for(let _0x11958d=-0xa4b+-0x1d*0x61+0x2a9*0x8;_0x11958d<this['_images']['length'];_0x11958d++){const _0x3ad7cf=this['_images'][_0x11958d];_0x3ad7cf['_pose']=null,_0x3ad7cf['_measuredW'+'idth']=-0x66b*-0x5+0x4eb+0x1281*-0x2,_0x3ad7cf['_tracking']&&(_0x3ad7cf['_tracking']=!(-0x10d5+-0x16d3+0xb*0x39b),_0x3ad7cf['fire']('untracked'));}}['prepareIma'+'ges'](_0x92b3d7){this['_images']['length']?Promise['all'](this['_images']['map'](_0x49ae34=>_0x49ae34['prepare']()))['then'](_0x297c00=>{_0x92b3d7(null,_0x297c00);})['catch'](_0x34414b=>{_0x92b3d7(_0x34414b,null);}):_0x92b3d7(null,null);}['update'](_0x45be5d){if(!this['_available'])return;const _0x121f88=_0x45be5d['getImageTr'+'ackingResu'+'lts'](),_0x525d0b={};for(let _0x261898=-0x1d77+-0x1*-0x45f+0x1918;_0x261898<_0x121f88['length'];_0x261898++){_0x525d0b[_0x121f88[_0x261898]['index']]=_0x121f88[_0x261898];const _0x39a620=this['_images'][_0x121f88[_0x261898]['index']];_0x39a620['_emulated']=_0x121f88[_0x261898]['trackingSt'+'ate']==='emulated',_0x39a620['_measuredW'+'idth']=_0x121f88[_0x261898]['measuredWi'+'dthInMeter'+'s'],_0x39a620['_pose']=_0x45be5d['getPose'](_0x121f88[_0x261898]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x3bad08=0x530+0x261+-0x791;_0x3bad08<this['_images']['length'];_0x3bad08++)this['_images'][_0x3bad08]['_tracking']&&!_0x525d0b[_0x3bad08]?(this['_images'][_0x3bad08]['_tracking']=!(-0xa66+-0x14*-0x6c+-0x1*-0x1f7),this['_images'][_0x3bad08]['fire']('untracked')):!this['_images'][_0x3bad08]['_tracking']&&_0x525d0b[_0x3bad08]&&(this['_images'][_0x3bad08]['_tracking']=!(0x2*0x388+0x54e+-0xc5e),this['_images'][_0x3bad08]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Vx,'EVENT_ERRO'+'R','error');class qL{constructor(_0x538e59,_0xb58c1c){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x538e59,this['_hand']=_0xb58c1c,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const jg=ye['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Gx={};for(let l=0x1e32+0x12*0x16f+-0x3800;l<jg['length'];l++)Gx[jg[l]]=!(0x315*0x3+-0x123a+-0x1*-0x8fb);class Yg{constructor(_0x235a67,_0x564402,_0x5196c6,_0x41aacc=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_dirtyLoca'+'l',!(-0x5*0x171+-0x3*0x2bd+-0x5e*-0x2a)),(this['_index']=_0x235a67,this['_id']=_0x564402,this['_hand']=_0x5196c6,this['_finger']=_0x41aacc,this['_wrist']=_0x564402==='wrist',this['_tip']=this['_finger']&&!!Gx[_0x564402]);}['update'](_0x12ce11){this['_dirtyLoca'+'l']=!(0xf9e*0x2+0x26*0x2b+-0xc8a*0x3),this['_radius']=_0x12ce11['radius'],this['_localPosi'+'tion']['copy'](_0x12ce11['transform']['position']),this['_localRota'+'tion']['copy'](_0x12ce11['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x15ac+0x95*0x23+0x14e),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x2549d4=this['_hand']['_manager']['camera']['parent'];_0x2549d4?this['_worldTran'+'sform']['mul2'](_0x2549d4['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x97b+0x144d+0x22a*-0x5+0.005;}}let Sh=[];const Ir=new T(),rh=new T(),Kg=new T();ye['browser']&&window['XRHand']&&(Sh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Mf extends ce{constructor(_0x343663){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(0x431+-0x47*-0xe+0x409*-0x2)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x2e50e0=_0x343663['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x343663['_manager'],this['_inputSour'+'ce']=_0x343663,_0x2e50e0['get']('wrist')){const _0x142c0a=new Yg(0x15eb+0x2547+-0x3b32,'wrist',this,null);this['_wrist']=_0x142c0a,this['_joints']['push'](_0x142c0a),this['_jointsByI'+'d']['wrist']=_0x142c0a;}for(let _0x4b81ad=-0x11fc+0x26b6+-0x14ba;_0x4b81ad<Sh['length'];_0x4b81ad++){const _0x346037=new qL(_0x4b81ad,this);for(let _0x475663=0x5*0x8b+0xd2b+-0xfe2;_0x475663<Sh[_0x4b81ad]['length'];_0x475663++){const _0x276fb9=Sh[_0x4b81ad][_0x475663];if(!_0x2e50e0['get'](_0x276fb9))continue;const _0x173731=new Yg(_0x475663,_0x276fb9,this,_0x346037);this['_joints']['push'](_0x173731),this['_jointsByI'+'d'][_0x276fb9]=_0x173731,_0x173731['tip']&&(this['_tips']['push'](_0x173731),_0x346037['_tip']=_0x173731),_0x346037['_joints']['push'](_0x173731);}}}['update'](_0x1e2dd0){const _0x4d6b3e=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x1eccbc=-0xdc1+-0x697+0x4*0x516;_0x1eccbc<this['_joints']['length'];_0x1eccbc++){const _0x1e9bd5=this['_joints'][_0x1eccbc],_0x3254a8=_0x4d6b3e['hand']['get'](_0x1e9bd5['_id']);if(_0x3254a8){let _0x25c84c;if(_0x1e2dd0['session']['visibility'+'State']!=='hidden'&&(_0x25c84c=_0x1e2dd0['getJointPo'+'se'](_0x3254a8,this['_manager']['_reference'+'Space'])),_0x25c84c)_0x1e9bd5['update'](_0x25c84c),_0x1e9bd5['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x2*0x1029+0x2c9*-0x1+-0x1d89*0x1),this['fire']('tracking'));else{if(_0x1e9bd5['wrist']){this['_tracking']&&(this['_tracking']=!(0x1*-0x8c7+-0xaf+0x977),this['fire']('trackinglo'+'st'));break;}}}}const _0xbfab79=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x188761=this['_jointsByI'+'d']['thumb-tip'],_0x4afa3b=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x1264d9=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0xf2d271=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x3773b9=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0xbfab79&&_0x188761&&_0x4afa3b&&_0x1264d9&&_0xf2d271&&_0x3773b9){this['_inputSour'+'ce']['_dirtyRay']=!(0x18*0x15d+-0x127a+0x2*-0x71f),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x188761['_localPosi'+'tion'],_0x1264d9['_localPosi'+'tion'],-0xca4*0x1+-0x431+0x10d5*0x1+0.5);let _0x10fb41=_0xbfab79,_0x57d7f9=_0x3773b9;if(this['_inputSour'+'ce']['handedness']===HL){const _0x3da607=_0x10fb41;_0x10fb41=_0x57d7f9,_0x57d7f9=_0x3da607;}Ir['sub2'](_0x10fb41['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),rh['sub2'](_0x57d7f9['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Kg['cross'](Ir,rh)['normalize'](),Ir['lerp'](_0x4afa3b['_localPosi'+'tion'],_0xf2d271['_localPosi'+'tion'],-0x47*0x2e+-0x1b7b+-0x1*-0x283d+0.5),Ir['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Kg,Ir,-0x1265+0x2*0x36f+-0xb87*-0x1+0.5)['normalize']();}const _0x5691cc=this['_fingerIsC'+'losed'](-0x317+-0x2*-0x70f+-0xb05)&&this['_fingerIsC'+'losed'](-0x1105+0x132*-0xe+0x21c4)&&this['_fingerIsC'+'losed'](0x2*-0xe09+-0xb*-0x311+-0x5a5);this['_fingersTi'+'pDistance'](0x4e3+0x4*0x63d+-0x1dd7,-0x1*0x229f+0x1e4f+0x451)?this['_inputSour'+'ce']['_pinching']?(this['_inputSour'+'ce']['fire']('pinching'),this['_manager']['input']['fire']('pinching',this['_inputSour'+'ce'])):(this['_inputSour'+'ce']['fire']('pinchstart'),this['_manager']['input']['fire']('pinchstart',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(0x1a69+-0x1*0xf8f+-0x2*0x56d),console['log']('===>>>xr\x20p'+'inch','pinchstart',new Date()['getTime']())):this['_inputSour'+'ce']['_pinching']&&(this['_inputSour'+'ce']['fire']('pinchend'),this['_manager']['input']['fire']('pinchend',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(-0x1d81+-0x5a5*-0x1+0x17dd),console['log']('===>>>xr\x20p'+'inch','pinchend',new Date()['getTime']())),_0x5691cc?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(0x1*0x415+-0x11*-0x11+-0x536),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0x61f*-0x5+-0x172a+0x35c6*0x1),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingersTi'+'pDistance'](_0x5c1e4b,_0x369215){const _0x1be03c=this['_fingers'][_0x5c1e4b],_0x8e7975=this['_fingers'][_0x369215];return _0x1be03c['tip']['_localPosi'+'tion']['distance'](_0x8e7975['tip']['_localPosi'+'tion'])<=0x16f8*-0x1+-0x1093+0x278b+0.01;}['_fingerIsC'+'losed'](_0x323b15){const _0x5602bf=this['_fingers'][_0x323b15];return Ir['sub2'](_0x5602bf['joints'][0x5*-0x347+0x1bf7+-0xb94*0x1]['_localPosi'+'tion'],_0x5602bf['joints'][0x164f*0x1+0x1a32+0xc2*-0x40]['_localPosi'+'tion'])['normalize'](),rh['sub2'](_0x5602bf['joints'][0x2*0x1069+0x1e66+-0x3f36]['_localPosi'+'tion'],_0x5602bf['joints'][0x1838+-0x114a+-0x17*0x4d]['_localPosi'+'tion'])['normalize'](),Ir['dot'](rh)<-(-0x260e*-0x1+-0x1c5a+0x45*-0x24+0.8);}['getJointBy'+'Id'](_0x47e03b){return this['_jointsByI'+'d'][_0x47e03b]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Mf,'EVENT_TRAC'+'KING','tracking'),c(Mf,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Zg=new T(),Qg=new se();let XL=-0x1*-0x4bd+-0x9*-0x2a5+-0x1c8a;class xs extends ce{constructor(_0x49e4eb,_0x2d8bd2){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new uu()),c(this,'_rayLocal',new uu()),c(this,'_grip',!(0x1*-0x1655+0x2*-0xdf0+0x191b*0x2)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(0x1*-0xa43+0x18b*0xb+-0x6b5*0x1)),c(this,'_velocitie'+'sTimestamp',ne()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(-0x21d1+-0x8*-0x28b+0x1*0xd79)),c(this,'_dirtyRay',!(0xd*0x275+-0x21fd+0x20d)),c(this,'_selecting',!(0xb8e+0x1013+0x20*-0xdd)),c(this,'_squeezing',!(0x2689+-0x228a+-0x3fe)),c(this,'_elementIn'+'put',!(-0xd5d*-0x2+0xa*-0x2e0+0x206)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++XL,this['_manager']=_0x49e4eb,this['_xrInputSo'+'urce']=_0x2d8bd2,_0x2d8bd2['hand']&&(this['_hand']=new Mf(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x48ce24){this['_elementIn'+'put']!==_0x48ce24&&(this['_elementIn'+'put']=_0x48ce24,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x267235){if(this['_hand'])this['_hand']['update'](_0x267235);else{const _0x126644=this['_xrInputSo'+'urce']['gripSpace'];if(_0x126644){const _0x11ccc8=_0x267235['getPose'](_0x126644,this['_manager']['_reference'+'Space']);if(_0x11ccc8){this['_grip']||(this['_grip']=!(-0xd20+-0x2329+-0x107*-0x2f),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new T(),this['_localPosi'+'tion']=new T(),this['_localRota'+'tion']=new se(),this['_linearVel'+'ocity']=new T());const _0x499973=ne(),_0x4421d3=(_0x499973-this['_velocitie'+'sTimestamp'])/(0x1*0x1d72+0x226e*-0x1+0x239*0x4);this['_velocitie'+'sTimestamp']=_0x499973,this['_dirtyLoca'+'l']=!(-0x2088+-0x19fe+0x552*0xb),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x11ccc8['transform']['position']),this['_localRota'+'tion']['copy'](_0x11ccc8['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0x2691+-0x589*0x7+0x2e),this['_manager']['input']['velocities'+'Supported']&&_0x11ccc8['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x11ccc8['linearVelo'+'city']):_0x4421d3>0x1c22*0x1+-0x218e+0x1*0x56c&&(Zg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x4421d3),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Zg,-0x475*-0x8+0x1*-0x175d+-0xc4b+0.15));}else this['_velocitie'+'sAvailable']=!(-0x10*-0x1a5+0x994+-0x23e3);}const _0x1fc2fb=_0x267235['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x1fc2fb&&(this['_dirtyRay']=!(0x305*0xc+0x257a+-0xaa*0x6f),this['_rayLocal']['origin']['copy'](_0x1fc2fb['transform']['position']),this['_rayLocal']['direction']['set'](-0x113c+-0x1ed+0x1329,-0x15e0+0x11de+-0x72*-0x9,-(0x1*-0x1d72+0x17b5+-0x2df*-0x2)),Qg['copy'](_0x1fc2fb['transform']['orientatio'+'n']),Qg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x1*-0x60b+-0xedb+-0x8d1*-0x1),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x5dcd23=this['_manager']['camera']['parent'];_0x5dcd23?this['_worldTran'+'sform']['mul2'](_0x5dcd23['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x244b2a=this['_dirtyRay'];if(this['_dirtyRay']=!(0xbd2+0x27f*0xf+-0x41*0xc2),this['_manager']['camera']['parent']){const _0x33ca23=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x33ca23['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x33ca23),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x244b2a&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x17f529={}){_0x17f529['inputSourc'+'e']=this,_0x17f529['profile']=this['_xrInputSo'+'urce']['profiles'][0x9fd+-0x1a32+0x1035];const _0x565d76=_0x17f529['callback'];_0x17f529['callback']=(_0x43ca3c,_0x430f34)=>{_0x430f34&&this['onHitTestS'+'ourceAdd'](_0x430f34),_0x565d76&&_0x565d76(_0x43ca3c,_0x430f34);},this['_manager']['hitTest']['start'](_0x17f529);}['onHitTestS'+'ourceAdd'](_0x445e28){this['_hitTestSo'+'urces']['push'](_0x445e28),this['fire']('hittest:ad'+'d',_0x445e28),_0x445e28['on']('result',(_0x1c8c3d,_0xd930aa,_0x4f30f0,_0x1a12fc)=>{_0x4f30f0===this&&this['fire']('hittest:re'+'sult',_0x445e28,_0x1c8c3d,_0xd930aa,_0x1a12fc);}),_0x445e28['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x445e28),this['fire']('hittest:re'+'move',_0x445e28);});}['onHitTestS'+'ourceRemov'+'e'](_0x1e9fb7){const _0x44781e=this['_hitTestSo'+'urces']['indexOf'](_0x1e9fb7);_0x44781e!==-(-0x235a+0x22e8+-0x73*-0x1)&&this['_hitTestSo'+'urces']['splice'](_0x44781e,-0x28d*-0x1+-0x7f*-0x32+-0x30a*0x9);}}c(xs,'EVENT_REMO'+'VE','remove'),c(xs,'EVENT_SELE'+'CT','select'),c(xs,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(xs,'EVENT_SELE'+'CTEND','selectend'),c(xs,'EVENT_SQUE'+'EZE','squeeze'),c(xs,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(xs,'EVENT_SQUE'+'EZEEND','squeezeend'),c(xs,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(xs,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(xs,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class ui extends ce{constructor(_0x49c428){var _0x5d6934,_0x54e820;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(-0x1*0x2083+0x8d8+0x17ac)),(this['manager']=_0x49c428,this['velocities'+'Supported']=!!(ye['browser']&&((_0x54e820=(_0x5d6934=window['XRPose'])==null?void(0x1992*-0x1+0x834+0x115e):_0x5d6934['prototype'])!=null&&_0x54e820['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x14ebeb=>{this['_onInputSo'+'urcesChang'+'e'](_0x14ebeb);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x1c220c=this['manager']['session'];_0x1c220c['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x1c220c['addEventLi'+'stener']('select',_0x318338=>{const _0x36ca7e=this['_getByInpu'+'tSource'](_0x318338['inputSourc'+'e']);_0x36ca7e['update'](_0x318338['frame']),_0x36ca7e['fire']('select',_0x318338),this['fire']('select',_0x36ca7e,_0x318338);}),_0x1c220c['addEventLi'+'stener']('selectstar'+'t',_0x4caa16=>{const _0x50d126=this['_getByInpu'+'tSource'](_0x4caa16['inputSourc'+'e']);_0x50d126['_selecting']||(_0x50d126['update'](_0x4caa16['frame']),_0x50d126['_selecting']=!(0x234d*0x1+-0x407*-0x1+0xc*-0x347),_0x50d126['fire']('selectstar'+'t',_0x4caa16),this['fire']('selectstar'+'t',_0x50d126,_0x4caa16));}),_0x1c220c['addEventLi'+'stener']('selectend',_0xaabbd2=>{const _0x52f48d=this['_getByInpu'+'tSource'](_0xaabbd2['inputSourc'+'e']);_0x52f48d['update'](_0xaabbd2['frame']),_0x52f48d['_selecting']=!(0xd2a+0x1*-0x1744+-0xa1b*-0x1),_0x52f48d['fire']('selectend',_0xaabbd2),this['fire']('selectend',_0x52f48d,_0xaabbd2);}),_0x1c220c['addEventLi'+'stener']('squeeze',_0x2074e8=>{const _0x4efe38=this['_getByInpu'+'tSource'](_0x2074e8['inputSourc'+'e']);_0x4efe38['update'](_0x2074e8['frame']),_0x4efe38['fire']('squeeze',_0x2074e8),this['fire']('squeeze',_0x4efe38,_0x2074e8);}),_0x1c220c['addEventLi'+'stener']('squeezesta'+'rt',_0x13deb=>{const _0x20439c=this['_getByInpu'+'tSource'](_0x13deb['inputSourc'+'e']);_0x20439c['update'](_0x13deb['frame']),_0x20439c['_squeezing']=!(-0x2137+0x1*0x56+0x20e1),_0x20439c['fire']('squeezesta'+'rt',_0x13deb),this['fire']('squeezesta'+'rt',_0x20439c,_0x13deb);}),_0x1c220c['addEventLi'+'stener']('squeezeend',_0x459d24=>{const _0x229b69=this['_getByInpu'+'tSource'](_0x459d24['inputSourc'+'e']);_0x229b69['update'](_0x459d24['frame']),_0x229b69['_squeezing']=!(0x1863+0x1715+-0x2f77),_0x229b69['fire']('squeezeend',_0x459d24),this['fire']('squeezeend',_0x229b69,_0x459d24);});const _0x5d3d46=_0x1c220c['inputSourc'+'es'];for(let _0x4dcca2=-0xfd7+0x1*0xbcf+0x81*0x8;_0x4dcca2<_0x5d3d46['length'];_0x4dcca2++)this['_addInputS'+'ource'](_0x5d3d46[_0x4dcca2]);}['_onSession'+'End'](){let _0x364573=this['_inputSour'+'ces']['length'];for(;_0x364573--;){const _0x48f71d=this['_inputSour'+'ces'][_0x364573];this['_inputSour'+'ces']['splice'](_0x364573,0xa4c+0x335*-0x2+-0x3e1),_0x48f71d['fire']('remove'),this['fire']('remove',_0x48f71d);}this['fire']('destroy'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x1eda4e){for(let _0x556364=0x1*0xbe9+-0xd7*-0x5+-0x101c;_0x556364<_0x1eda4e['removed']['length'];_0x556364++)this['_removeInp'+'utSource'](_0x1eda4e['removed'][_0x556364]);for(let _0x553cf4=0x12bc+0xc7c+-0x3e7*0x8;_0x553cf4<_0x1eda4e['added']['length'];_0x553cf4++)this['_addInputS'+'ource'](_0x1eda4e['added'][_0x553cf4]);}['_getByInpu'+'tSource'](_0x5e39d7){for(let _0x3777e0=0x1fb4+0x1703*0x1+-0x1d*0x1e3;_0x3777e0<this['_inputSour'+'ces']['length'];_0x3777e0++)if(this['_inputSour'+'ces'][_0x3777e0]['inputSourc'+'e']===_0x5e39d7)return this['_inputSour'+'ces'][_0x3777e0];return null;}['_addInputS'+'ource'](_0x3aef37){if(this['_getByInpu'+'tSource'](_0x3aef37))return;const _0x1f1e10=new xs(this['manager'],_0x3aef37);this['_inputSour'+'ces']['push'](_0x1f1e10),this['fire']('add',_0x1f1e10);}['_removeInp'+'utSource'](_0x4ec981){for(let _0x9209e9=0x10f8+-0x2531+0x1f*0xa7;_0x9209e9<this['_inputSour'+'ces']['length'];_0x9209e9++){if(this['_inputSour'+'ces'][_0x9209e9]['inputSourc'+'e']!==_0x4ec981)continue;const _0x7bf793=this['_inputSour'+'ces'][_0x9209e9];this['_inputSour'+'ces']['splice'](_0x9209e9,-0x1cba+-0x3ee*0x5+-0x3061*-0x1);let _0x11e343=_0x7bf793['hitTestSou'+'rces']['length'];for(;_0x11e343--;)_0x7bf793['hitTestSou'+'rces'][_0x11e343]['remove']();const _0x43e747=this['manager']['app']['root']['findByName']('Armature_'+_0x7bf793['handedness']);_0x43e747&&this['manager']['app']['root']['removeChil'+'d'](_0x43e747),_0x7bf793['fire']('remove'),this['fire']('remove',_0x7bf793);return;}}['update'](_0x3dda24){for(let _0x3e8976=0x112*0x5+-0x24e9+0x1f8f;_0x3e8976<this['_inputSour'+'ces']['length'];_0x3e8976++)this['_inputSour'+'ces'][_0x3e8976]['update'](_0x3dda24);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(ui,'EVENT_ADD','add'),c(ui,'EVENT_REMO'+'VE','remove'),c(ui,'EVENT_SELE'+'CT','select'),c(ui,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ui,'EVENT_SELE'+'CTEND','selectend'),c(ui,'EVENT_SQUE'+'EZE','squeeze'),c(ui,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(ui,'EVENT_SQUE'+'EZEEND','squeezeend');const Xn=new T(),Jg=new T(),ru=new q(),ey=new q();class Pf extends ce{constructor(_0x3c2e9a){super(),c(this,'_manager'),c(this,'_supported',!(-0x2491+0x2169*-0x1+0x5*0xdff)),c(this,'_available',!(-0x38*-0x5+-0x1df1+-0x6*-0x4cf)),c(this,'_lightProb'+'eRequested',!(-0x2d2*0x9+-0x19*-0xdd+0x3ce)),c(this,'_lightProb'+'e',null),c(this,'_intensity',0x1a89+0x14*-0x76+-0x8f*0x1f),c(this,'_rotation',new se()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(0x2eb+0xde7*-0x2+0x18fe)),(this['_manager']=_0x3c2e9a,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0xb3a+0x772+0x3c8));}['_onSession'+'End'](){this['_supported']=!(0x15d*0x4+-0x25a7+0x2034),this['_available']=!(0x461+0x26a*-0xe+0x1d6c),this['_lightProb'+'eRequested']=!(0x2*0x292+-0x34*-0x83+-0x15*0x183),this['_lightProb'+'e']=null;}['start'](){let _0x195b1f;if(this['_manager']['session']||(_0x195b1f=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x195b1f&&this['_manager']['type']!==Ao&&(_0x195b1f=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x195b1f&&!this['_supported']&&(_0x195b1f=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x195b1f&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x195b1f=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x195b1f){this['fire']('error',_0x195b1f);return;}this['_lightProb'+'eRequested']=!(0x4cf*0x7+-0x1b8b*0x1+-0x20a*0x3),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x553651=>{const _0x28ad77=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(-0x1*-0xe6b+0x754+0x1fa*-0xb),this['_manager']['active']?_0x28ad77&&(this['_lightProb'+'e']=_0x553651):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x42a01e=>{this['_lightProb'+'eRequested']=!(-0x1a2f+0x2e*-0xa6+0x3804),this['fire']('error',_0x42a01e);});}['end'](){this['_lightProb'+'eRequested']=!(-0x2*0x55e+0x1abe+-0x1001),this['_lightProb'+'e']=null,this['_available']=!(-0x4ae*0x3+0x10b0+-0x2a5);}['update'](_0x1db71b){if(!this['_lightProb'+'e'])return;const _0x38921f=_0x1db71b['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x38921f)return;this['_available']||(this['_available']=!(0x4*0x34c+0x2231+-0x27*0x137),this['fire']('available'));const _0x579160=_0x38921f['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0xc*0x15a+0x4*0x4fc+-0x13d*0x3,Math['max'](_0x579160['x'],Math['max'](_0x579160['y'],_0x579160['z']))),Xn['copy'](_0x579160)['mulScalar']((-0x2*-0xde2+0x1488+-0x27*0x13d)/this['_intensity']),this['_color']['set'](Xn['x'],Xn['y'],Xn['z']),Xn['set'](-0xfe6+-0x23c6+0x33ac,-0x1*0x195f+-0x2118+0x9*0x67f,-0xc97*0x1+0x1453+-0x7bc),Jg['copy'](_0x38921f['primaryLig'+'htDirectio'+'n']),ru['setLookAt'](Jg,Xn,T['UP']),ey['setFromAxi'+'sAngle'](T['RIGHT'],-0x2664+0x1*0x1d3f+0x97f*0x1),ru['mul'](ey),this['_rotation']['setFromMat'+'4'](ru),this['_spherical'+'Harmonics']['set'](_0x38921f['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Pf,'EVENT_AVAI'+'LABLE','available'),c(Pf,'EVENT_ERRO'+'R','error');let jL=-0x19ed*0x1+0x2508+0xb1b*-0x1;class Rf extends ce{constructor(_0x4aabbb,_0x6c7cdf){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_id']=++jL,this['_planeDete'+'ction']=_0x4aabbb,this['_xrPlane']=_0x6c7cdf,this['_lastChang'+'edTime']=_0x6c7cdf['lastChange'+'dTime'],this['_orientati'+'on']=_0x6c7cdf['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x6ee9d8){const _0x50b1ce=this['_planeDete'+'ction']['_manager'],_0x2413a7=_0x6ee9d8['getPose'](this['_xrPlane']['planeSpace'],_0x50b1ce['_reference'+'Space']);_0x2413a7&&(this['_position']['copy'](_0x2413a7['transform']['position']),this['_rotation']['copy'](_0x2413a7['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_CHAN'+'GE','change');class co extends ce{constructor(_0x12baf9){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRPlane']),c(this,'_available',!(-0x3c5*-0x1+0x20bc+-0x2480)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x12baf9,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(0x1*-0x2037+-0x1*-0x36a+-0x99a*-0x3)&&(this['_available']=!(0x32*0x7d+0xe79+-0x26e3),this['fire']('available'));}['_onSession'+'End'](){for(let _0x27107a=0x26f6+0x1549*-0x1+0x1*-0x11ad;_0x27107a<this['_planes']['length'];_0x27107a++)this['_planes'][_0x27107a]['destroy'](),this['fire']('remove',this['_planes'][_0x27107a]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=0x21fc+0x12*-0xd4+-0x1314,this['_available']&&(this['_available']=!(-0x1d9*0x5+0x1237+-0x8f9),this['fire']('unavailabl'+'e'));}['update'](_0x4e0f73){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x4e0f73['detectedPl'+'anes']['size'])this['_available']=!(-0x1cf*0x2+0x1*0x1dd1+-0x1a33*0x1),this['fire']('available');else return;}const _0x579071=_0x4e0f73['detectedPl'+'anes'];for(const [_0xa63e24,_0x9163ee]of this['_planesInd'+'ex'])_0x579071['has'](_0xa63e24)||(this['_planesInd'+'ex']['delete'](_0xa63e24),this['_planes']['splice'](this['_planes']['indexOf'](_0x9163ee),-0x5*-0xe1+0x151*-0x5+0x231*0x1),_0x9163ee['destroy'](),this['fire']('remove',_0x9163ee));for(const _0x3a0f76 of _0x579071){let _0x210d5d=this['_planesInd'+'ex']['get'](_0x3a0f76);_0x210d5d?_0x210d5d['update'](_0x4e0f73):(_0x210d5d=new Rf(this,_0x3a0f76),this['_planesInd'+'ex']['set'](_0x3a0f76,_0x210d5d),this['_planes']['push'](_0x210d5d),_0x210d5d['update'](_0x4e0f73),this['fire']('add',_0x210d5d));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(co,'EVENT_AVAI'+'LABLE','available'),c(co,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove');class uo extends ce{constructor(_0x51bc1f,_0x413686,_0x3032f5=null){super(),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x51bc1f,this['_xrAnchor']=_0x413686,this['_uuid']=_0x3032f5);}['destroy'](){if(!this['_xrAnchor'])return;const _0x102ce4=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x102ce4,this);}['update'](_0x3233f3){if(!this['_xrAnchor'])return;const _0x132dde=_0x3233f3['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x132dde){if(this['_position']['equals'](_0x132dde['transform']['position'])&&this['_rotation']['equals'](_0x132dde['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x132dde['transform']['position']),this['_rotation']['copy'](_0x132dde['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x399664){if(!this['_anchors']['persistenc'+'e']){_0x399664==null||_0x399664(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x399664==null||_0x399664(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x399664&&this['_uuidReque'+'sts']['push'](_0x399664);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x40b5d0=>{this['_uuid']=_0x40b5d0,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x399664==null||_0x399664(null,_0x40b5d0);for(const _0x4a71df of this['_uuidReque'+'sts'])_0x4a71df(null,_0x40b5d0);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x40b5d0);})['catch'](_0x521c0f=>{_0x399664==null||_0x399664(_0x521c0f,null);for(const _0xae238b of this['_uuidReque'+'sts'])_0xae238b(_0x521c0f,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x568e03){if(!this['_uuid']){_0x568e03==null||_0x568e03(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x3c4175=>{this['_uuid']=null,_0x568e03==null||_0x568e03(_0x3c4175),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(uo,'EVENT_DEST'+'ROY','destroy'),c(uo,'EVENT_CHAN'+'GE','change'),c(uo,'EVENT_PERS'+'IST','persist'),c(uo,'EVENT_FORG'+'ET','forget');var ty;class Zn extends ce{constructor(_0x267557){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!window['XRAnchor']),c(this,'_available',!(-0x14e7+0xc1*0xb+0xc9d)),c(this,'_checkingA'+'vailabilit'+'y',!(0x427+0x53e+0x2*-0x4b2)),c(this,'_persisten'+'ce',ye['browser']&&!!((ty=window==null?void(-0x17*0xdd+0x41f*0x1+-0xfbc*-0x1):window['XRSession'])!=null&&ty['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x267557,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x517e94=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(0x2*0xe4e+-0x1357+-0x944);_0x517e94&&(this['_available']=_0x517e94,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x11e*-0x21+0x1bb2+0x105*0x9);for(let _0x383ff6=0x1d98+-0x24c*0x1+0x1*-0x1b4c;_0x383ff6<this['_creationQ'+'ueue']['length'];_0x383ff6++)this['_creationQ'+'ueue'][_0x383ff6]['callback']&&this['_creationQ'+'ueue'][_0x383ff6]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0xada+0xc*-0xce+0x1482,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x2d42bd=this['_list']['length'];for(;_0x2d42bd--;)this['_list'][_0x2d42bd]['destroy']();this['_list']['length']=0x1f04+-0x29*-0xa3+-0x391f,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x12c8e5,_0x1d99f3=null){const _0x28d953=new uo(this,_0x12c8e5,_0x1d99f3);return this['_index']['set'](_0x12c8e5,_0x28d953),_0x1d99f3&&this['_indexByUu'+'id']['set'](_0x1d99f3,_0x28d953),this['_list']['push'](_0x28d953),_0x28d953['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x28d953;}['_onAnchorD'+'estroy'](_0x3251e2,_0x416473){this['_index']['delete'](_0x3251e2),_0x416473['uuid']&&this['_indexByUu'+'id']['delete'](_0x416473['uuid']);const _0x26316e=this['_list']['indexOf'](_0x416473);_0x26316e!==-(-0x2*0x62f+-0x1*0xfef+-0x1c4e*-0x1)&&this['_list']['splice'](_0x26316e,0x2227+0x3c*-0x8+-0x2046),this['fire']('destroy',_0x416473);}['create'](_0x1a946a,_0x2bffe9,_0x3420dc){if(!this['_available']){_0x3420dc==null||_0x3420dc(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x1a946a instanceof XRHitTestResult){const _0x10643a=_0x1a946a;if(_0x3420dc=_0x2bffe9,!this['_supported']){_0x3420dc==null||_0x3420dc(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x10643a['createAnch'+'or']){_0x3420dc==null||_0x3420dc(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x10643a['createAnch'+'or']()['then'](_0x4a2dcc=>{const _0x44704f=this['_createAnc'+'hor'](_0x4a2dcc);_0x3420dc==null||_0x3420dc(null,_0x44704f),this['fire']('add',_0x44704f);})['catch'](_0x98882f=>{_0x3420dc==null||_0x3420dc(_0x98882f,null),this['fire']('error',_0x98882f);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x1a946a,_0x2bffe9),'callback':_0x3420dc});}['restore'](_0x1e1288,_0x5b1954){if(!this['_available']){_0x5b1954==null||_0x5b1954(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x5b1954==null||_0x5b1954(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x5b1954==null||_0x5b1954(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x1e1288)['then'](_0x3e7dc6=>{const _0x2c2913=this['_createAnc'+'hor'](_0x3e7dc6,_0x1e1288);_0x5b1954==null||_0x5b1954(null,_0x2c2913),this['fire']('add',_0x2c2913);})['catch'](_0x4dee16=>{_0x5b1954==null||_0x5b1954(_0x4dee16,null),this['fire']('error',_0x4dee16);});}['forget'](_0x4401d4,_0x23ea49){if(!this['_available']){_0x23ea49==null||_0x23ea49(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x23ea49==null||_0x23ea49(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x23ea49==null||_0x23ea49(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x4401d4)['then'](()=>{_0x23ea49==null||_0x23ea49(null);})['catch'](_0x1444f2=>{_0x23ea49==null||_0x23ea49(_0x1444f2),this['fire']('error',_0x1444f2);});}['update'](_0x5ead48){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0x1*0x224f+-0xb*0x59+-0x1*-0x2622),_0x5ead48['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x1f0d2b=>{_0x1f0d2b['delete'](),this['manager']['active']&&(this['_available']=!(0x1a*-0x162+-0xa6e+0x6*0x7bb),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0xa1a70f=0xe4e+-0xb5c+-0x2f2;_0xa1a70f<this['_creationQ'+'ueue']['length'];_0xa1a70f++){const _0x149a12=this['_creationQ'+'ueue'][_0xa1a70f];_0x5ead48['createAnch'+'or'](_0x149a12['transform'],this['manager']['_reference'+'Space'])['then'](_0x34d590=>{_0x149a12['callback']&&this['_callbacks'+'Anchors']['set'](_0x34d590,_0x149a12['callback']);})['catch'](_0x175672=>{_0x149a12['callback']&&_0x149a12['callback'](_0x175672,null),this['fire']('error',_0x175672);});}this['_creationQ'+'ueue']['length']=-0x1e9c+-0xd8e+0x2c2a;}for(const [_0x1eb3b6,_0x360d4b]of this['_index'])_0x5ead48['trackedAnc'+'hors']['has'](_0x1eb3b6)||(this['_index']['delete'](_0x1eb3b6),_0x360d4b['destroy']());for(let _0x22521c=-0x230f+-0x5d4+0x3*0xda1;_0x22521c<this['_list']['length'];_0x22521c++)this['_list'][_0x22521c]['update'](_0x5ead48);for(const _0x11d4ee of _0x5ead48['trackedAnc'+'hors']){if(this['_index']['has'](_0x11d4ee))continue;try{const _0x5c02ea=_0x11d4ee['anchorSpac'+'e'];}catch{continue;}const _0x3a065b=this['_createAnc'+'hor'](_0x11d4ee);_0x3a065b['update'](_0x5ead48);const _0x5203ba=this['_callbacks'+'Anchors']['get'](_0x11d4ee);_0x5203ba&&(this['_callbacks'+'Anchors']['delete'](_0x11d4ee),_0x5203ba(null,_0x3a065b)),this['fire']('add',_0x3a065b);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Zn,'EVENT_AVAI'+'LABLE','available'),c(Zn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Zn,'EVENT_ERRO'+'R','error'),c(Zn,'EVENT_ADD','add'),c(Zn,'EVENT_DEST'+'ROY','destroy');class If extends ce{constructor(_0x25c066,_0x275b45){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',0x126*-0x12+0x10a5*-0x1+0x2551),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_meshDetec'+'tion']=_0x25c066,this['_xrMesh']=_0x275b45,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x373621){const _0x103822=this['_meshDetec'+'tion']['_manager'],_0x456998=_0x373621['getPose'](this['_xrMesh']['meshSpace'],_0x103822['_reference'+'Space']);_0x456998&&(this['_position']['copy'](_0x456998['transform']['position']),this['_rotation']['copy'](_0x456998['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(If,'EVENT_REMO'+'VE','remove'),c(If,'EVENT_CHAN'+'GE','change');class fo extends ce{constructor(_0x84744a){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRMesh']),c(this,'_available',!(-0x1*0x1e69+0x2fd*-0xb+0x3f49)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x84744a,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x47b518){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x47b518['detectedMe'+'shes']['size'])this['_available']=!(-0x6*0x467+0x15de+0x48c),this['fire']('available');else return;}for(const _0x34d446 of _0x47b518['detectedMe'+'shes']){let _0x3336c5=this['_index']['get'](_0x34d446);_0x3336c5?_0x3336c5['update'](_0x47b518):(_0x3336c5=new If(this,_0x34d446),this['_index']['set'](_0x34d446,_0x3336c5),this['_list']['push'](_0x3336c5),_0x3336c5['update'](_0x47b518),this['fire']('add',_0x3336c5));}for(const _0x30c1b4 of this['_index']['values']())_0x47b518['detectedMe'+'shes']['has'](_0x30c1b4['xrMesh'])||this['_removeMes'+'h'](_0x30c1b4);}['_removeMes'+'h'](_0x2e9905){this['_index']['delete'](_0x2e9905['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x2e9905),-0xfae+-0x26f+0x121e),_0x2e9905['destroy'](),this['fire']('remove',_0x2e9905);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x19257d=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x149b+0x20c7*0x1+-0x1bd*0x7);if(!_0x19257d)return;this['_available']=_0x19257d,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0xae6+0x214e+-0x1667);for(const _0x15cd80 of this['_index']['values']())this['_removeMes'+'h'](_0x15cd80);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(fo,'EVENT_AVAI'+'LABLE','available'),c(fo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(fo,'EVENT_ADD','add'),c(fo,'EVENT_REMO'+'VE','remove');class Hx extends ce{constructor(_0x51ca5f,_0x19fbcd,_0x2df07a){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(0x8*0x32+-0x1*0x269f+0x2512)),c(this,'_viewport',new Q()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x2387*0x1+-0x102b*-0x1+0x137c)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x51ca5f,this['_xrView']=_0x19fbcd);const _0x1017f1=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new he(_0x1017f1,{'format':dr,'mipmaps':!(-0x2a*0xa9+0x1*0x52+0x1b69),'addressU':ae,'addressV':ae,'minFilter':st,'magFilter':st,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x134303=this['_manager']['views']['depthGpuOp'+'timized']?de:st;this['_textureDe'+'pth']=new he(_0x1017f1,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x2df07a===-0x33*-0xb3+-0x833*-0x1+-0x2bdb?0x6*0x1a3+-0x3*0x2dd+-0x13b:_0x2df07a,'mipmaps':!(-0x17f7+0x13f9+0x5d*0xb),'addressU':ae,'addressV':ae,'minFilter':_0x134303,'magFilter':_0x134303,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x4a8296=0x2*-0x3af+-0x47*-0x7a+-0x1a78;_0x4a8296<this['_textureDe'+'pth']['_levels']['length'];_0x4a8296++)this['_textureDe'+'pth']['_levels'][_0x4a8296]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x1017f1['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x5d67c9;return((_0x5d67c9=this['_depthInfo'])==null?void(0x1d1e*-0x1+-0x59c+0x22ba):_0x5d67c9['rawValueTo'+'Meters'])||0x4ce*0x8+0x13*-0x61+0xb*-0x2d7;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x93bfdb,_0x4a10ef){this['_xrView']=_0x4a10ef,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x578f57=_0x93bfdb['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x578f57['x'],this['_viewport']['y']=_0x578f57['y'],this['_viewport']['z']=_0x578f57['width'],this['_viewport']['w']=_0x578f57['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x93bfdb);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x5df866=this['_manager']['webglBindi'+'ng'];if(!_0x5df866)return;const _0x59cb48=_0x5df866['getCameraI'+'mage'](this['_xrCamera']);if(!_0x59cb48)return;const _0x2f2ab2=this['_manager']['app']['graphicsDe'+'vice'],_0x45a983=_0x2f2ab2['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x45a983['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x45a983['createFram'+'ebuffer']();else{const _0xf71e1d=_0x45a983['COLOR_ATTA'+'CHMENT0'],_0x33b5ec=this['_xrCamera']['width'],_0xb98ff3=this['_xrCamera']['height'];_0x2f2ab2['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x45a983['framebuffe'+'rTexture2D'](_0x45a983['FRAMEBUFFE'+'R'],_0xf71e1d,_0x45a983['TEXTURE_2D'],_0x59cb48,-0xd*-0x65+0x204c+-0x256d*0x1),_0x2f2ab2['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x45a983['framebuffe'+'rTexture2D'](_0x45a983['FRAMEBUFFE'+'R'],_0xf71e1d,_0x45a983['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x1*0x919+0x1a25+0x110c*-0x1),_0x45a983['bindFrameb'+'uffer'](_0x45a983['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x45a983['bindFrameb'+'uffer'](_0x45a983['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x45a983['blitFrameb'+'uffer'](-0x1627+-0x22*0x11c+-0x9*-0x6a7,_0xb98ff3,_0x33b5ec,0x2388+0x1*0x150a+-0x3892,-0xe8*0xc+-0x11*0x51+0x56b*0x3,-0xc*-0x33e+0x1aa3+0x1*-0x418b,_0x33b5ec,_0xb98ff3,_0x45a983['COLOR_BUFF'+'ER_BIT'],_0x45a983['NEAREST']);}}['_updateDep'+'th'](_0x170ba1){var _0x242c86,_0x108632;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0xc176c1=this['_manager']['views']['depthGpuOp'+'timized'],_0x3fdf08=_0xc176c1?this['_manager']['webglBindi'+'ng']:_0x170ba1;if(!_0x3fdf08){this['_depthInfo']=null;return;}const _0x61555=_0x3fdf08['getDepthIn'+'formation'](this['_xrView']);if(!_0x61555){this['_depthInfo']=null;return;}let _0x5719c0=!this['_depthInfo']!=!_0x61555;this['_depthInfo']=_0x61555;const _0x3738d3=((_0x242c86=this['_depthInfo'])==null?void(-0x1fbb+0xc5*-0x25+-0xf0d*-0x4):_0x242c86['width'])||-0x11c9*0x2+-0x182c+0x3bc2,_0x23fda9=((_0x108632=this['_depthInfo'])==null?void(-0xfd0+-0x17aa*-0x1+-0x7da):_0x108632['height'])||-0x1c11+0x17*0x35+0xf*0x18e;let _0x3d7875=!(-0x11*-0x1ab+-0x133*-0x5+-0x2259);if((this['_textureDe'+'pth']['width']!==_0x3738d3||this['_textureDe'+'pth']['height']!==_0x23fda9)&&(this['_textureDe'+'pth']['_width']=_0x3738d3,this['_textureDe'+'pth']['_height']=_0x23fda9,_0x5719c0=!(0x215b+0x2329+0x2*-0x2242),_0x3d7875=!(0x928+0x1248+-0x1b70)),_0x5719c0&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0xc176c1){if(this['_depthInfo']['texture']){const _0x417e5e=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x417e5e['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x417e5e['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ii:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x417e5e['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x417e5e['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x417e5e['RED'];break;case Ci:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x417e5e['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x417e5e['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x417e5e['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(-0x1b*-0x4+-0x4a3*-0x8+-0x2584);}}else this['_textureDe'+'pth']['_levels'][-0xd21+-0x197d+0x2*0x134f]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0xcf+0x35c+0xb*-0x61]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x3d7875&&this['fire']('depth:resi'+'ze',_0x3738d3,_0x23fda9);}['updateTran'+'sforms'](_0x20ceec){_0x20ceec?(this['_viewInvOf'+'fMat']['mul2'](_0x20ceec,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][-0xb03*0x2+0x23d0+-0xdca]=this['_viewInvOf'+'fMat']['data'][-0x171*0x14+0x54c+0x3*0x7dc],this['_positionD'+'ata'][-0x6e0+0x205a+-0x1979*0x1]=this['_viewInvOf'+'fMat']['data'][-0x2a6+-0x1d07*-0x1+0x5*-0x544],this['_positionD'+'ata'][-0x12b*0x1+-0x2*0xf26+0x1f79]=this['_viewInvOf'+'fMat']['data'][0xb9e+-0x55b+-0x635];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x1f08b6,_0x5a223b){var _0x1b3009;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x1b3009=this['_depthInfo'])==null?void(-0x4ef*-0x5+0x5*-0x16+-0x183d):_0x1b3009['getDepthIn'+'Meters'](_0x1f08b6,_0x5a223b))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0xe2673e=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0xe2673e['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0xe2673e['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Hx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class ic extends ce{constructor(_0x28e581){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',ye['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',ye['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(-0x1da9*-0x1+-0xeb0+-0xef8)),c(this,'_available'+'Depth',!(-0x1865+0x1d9f+-0x7*0xbf)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[Nx]:Bf,[zx]:Ci,[Ux]:Ii}),(this['_manager']=_0x28e581,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Bx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x1e7f92,_0x2a3fbe){for(let _0x33e7a9=-0x45*0x73+-0x22b3+0x6*0xaf3;_0x33e7a9<_0x2a3fbe['length'];_0x33e7a9++)this['_indexTmp']['set'](_0x2a3fbe[_0x33e7a9]['eye'],_0x2a3fbe[_0x33e7a9]);for(const [_0x5f382a,_0x188602]of this['_indexTmp']){let _0x3d282e=this['_index']['get'](_0x5f382a);_0x3d282e?_0x3d282e['update'](_0x1e7f92,_0x188602):(_0x3d282e=new Hx(this['_manager'],_0x188602,_0x2a3fbe['length']),this['_index']['set'](_0x5f382a,_0x3d282e),this['_list']['push'](_0x3d282e),_0x3d282e['update'](_0x1e7f92,_0x188602),this['fire']('add',_0x3d282e));}for(const [_0x4f1944,_0x58fefc]of this['_index']){if(this['_indexTmp']['has'](_0x4f1944))continue;_0x58fefc['destroy'](),this['_index']['delete'](_0x4f1944);const _0xdb1e21=this['_list']['indexOf'](_0x58fefc);_0xdb1e21!==-(-0x5b*0x65+-0x1*0x1183+0x356b)&&this['_list']['splice'](_0xdb1e21,0x239*0xd+0x1*-0x673+-0x1671),this['fire']('remove',_0x58fefc);}this['_indexTmp']['clear']();}['get'](_0x438d1d){return this['_index']['get'](_0x438d1d)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Ao&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(0x243b+-0x1df3+-0x647),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x2677+0xec5+-0x353b),this['_available'+'Depth'])){const _0x5ec229=this['_manager']['session'];this['_depthUsag'+'e']=_0x5ec229['depthUsage'],this['_depthForm'+'at']=_0x5ec229['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x3ac88d of this['_index']['values']())_0x3ac88d['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0x1234+-0x3*-0x185+-0xda6*-0x1),this['_available'+'Depth']=!(0x20bd+0x1*0x1869+-0x3925),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0x1*0x2f4+-0x2*0x3a3+0xa3a;}}c(ic,'EVENT_ADD','add'),c(ic,'EVENT_REMO'+'VE','remove');class Qn extends ce{constructor(_0x377cfe){super(),c(this,'app'),c(this,'_supported',ye['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_depthNear',0x203f+0xc08+-0x2c47+0.1),c(this,'_depthFar',0x9*-0x34+0x14*-0x14f+0x3fd*0x8),c(this,'_supported'+'FrameRates',null),c(this,'_width',0xb*-0x358+-0x1b7*0x1+0x3*0xcd5),c(this,'_height',-0x94*-0x38+0x1de8+-0x7c9*0x8),c(this,'_framebuff'+'erScaleFac'+'tor',-0x1*0x1969+0x1*0x1cb8+-0x3*0x11a),(this['app']=_0x377cfe,this['_available'][VL]=!(0xad4+0x1b8b+0x665*-0x6),this['_available'][GL]=!(-0x1719+0x6*-0x2f4+0x28d2),this['_available'][Ao]=!(0x22e6+-0x3*-0xbbd+-0x461c),this['views']=new ic(this),this['domOverlay']=new WL(this),this['hitTest']=new kr(this),this['imageTrack'+'ing']=new Vx(this),this['planeDetec'+'tion']=new co(this),this['meshDetect'+'ion']=new fo(this),this['input']=new ui(this),this['lightEstim'+'ation']=new Pf(this),this['anchors']=new Zn(this),this['views']=new ic(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x182a19,_0x3c7a26,_0x401d51,_0x39c879){var _0x59d166;let _0x1ce356=_0x39c879;if(typeof _0x39c879=='object'&&(_0x1ce356=_0x39c879['callback']),!this['_available'][_0x3c7a26]){_0x1ce356&&_0x1ce356(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x1ce356&&_0x1ce356(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x182a19,this['_camera']['camera']['xr']=this,this['_type']=_0x3c7a26,this['_spaceType']=_0x401d51,this['_framebuff'+'erScaleFac'+'tor']=(_0x39c879==null?void(0x961+0x2566+-0x95b*0x5):_0x39c879['framebuffe'+'rScaleFact'+'or'])??0xd1*-0x26+-0x969+0xa1c*0x4,this['_setClipPl'+'anes'](_0x182a19['nearClip'],_0x182a19['farClip']);const _0x1bb9b9={'requiredFeatures':[_0x401d51],'optionalFeatures':[]},_0x3cbda0=(_0x59d166=this['app']['graphicsDe'+'vice'])==null?void(-0xd13+0x1*-0x220f+0x7db*0x6):_0x59d166['isWebGL2'];if(_0x3c7a26===Ao){if(_0x1bb9b9['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x1bb9b9['optionalFe'+'atures']['push']('hit-test'),_0x39c879&&(_0x39c879['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x1bb9b9['optionalFe'+'atures']['push']('image-trac'+'king'),_0x39c879['planeDetec'+'tion']&&_0x1bb9b9['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x39c879['meshDetect'+'ion']&&_0x1bb9b9['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x1bb9b9['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x1bb9b9['domOverlay']={'root':this['domOverlay']['root']}),_0x39c879&&_0x39c879['anchors']&&this['anchors']['supported']&&_0x1bb9b9['optionalFe'+'atures']['push']('anchors'),_0x39c879&&_0x39c879['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x1bb9b9['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0xdc7957=[],_0xb13645=[];if(_0xdc7957['push'](Bx,$L),_0xb13645['push'](Ux,Nx,zx),_0x39c879['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x4fd01b=_0xdc7957['indexOf'](_0x39c879['depthSensi'+'ng']['usagePrefe'+'rence']);_0x4fd01b!==-(0x1309+0x932+-0xe1d*0x2)&&_0xdc7957['splice'](_0x4fd01b,-0x16f5*-0x1+-0x13*-0x125+0x1*-0x2cb3),_0xdc7957['unshift'](_0x39c879['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x39c879['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x51914e=_0xb13645['indexOf'](_0x39c879['depthSensi'+'ng']['dataFormat'+'Preference']);_0x51914e!==-(-0x1*-0x763+-0x3*0xcf1+0x1f71)&&_0xb13645['splice'](_0x51914e,0xbf+0x674+-0x732),_0xb13645['unshift'](_0x39c879['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x1bb9b9['depthSensi'+'ng']={'usagePreference':_0xdc7957,'dataFormatPreference':_0xb13645};}_0x3cbda0&&_0x39c879&&_0x39c879['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x1bb9b9['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x1bb9b9['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x39c879&&_0x39c879['optionalFe'+'atures']&&(_0x1bb9b9['optionalFe'+'atures']=_0x1bb9b9['optionalFe'+'atures']['concat'](_0x39c879['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x760130,_0x2db9f3)=>{if(_0x760130){_0x1ce356&&_0x1ce356(_0x760130),this['fire']('error',_0x760130);return;}_0x2db9f3!==null&&(_0x1bb9b9['trackedIma'+'ges']=_0x2db9f3),this['_onStartOp'+'tionsReady'](_0x3c7a26,_0x401d51,_0x1bb9b9,_0x1ce356);}):this['_onStartOp'+'tionsReady'](_0x3c7a26,_0x401d51,_0x1bb9b9,_0x1ce356);}['_onStartOp'+'tionsReady'](_0x104ea8,_0x5d221d,_0x5ed276,_0x4f23dd){navigator['xr']['requestSes'+'sion'](_0x104ea8,_0x5ed276)['then'](_0x18355e=>{this['_onSession'+'Start'](_0x18355e,_0x5d221d,_0x4f23dd);})['catch'](_0x564632=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x4f23dd&&_0x4f23dd(_0x564632),this['fire']('error',_0x564632);});}['end'](_0x54c927){if(!this['_session']){_0x54c927&&_0x54c927(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x54c927&&this['once']('end',_0x54c927),this['_session']['end']();}['isAvailabl'+'e'](_0x287446){return this['_available'][_0x287446];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0xb7ba8b in this['_available'])this['_sessionSu'+'pportCheck'](_0xb7ba8b);}['initiateRo'+'omCapture'](_0x120036){if(!this['_session']){_0x120036(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x120036(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x120036&&_0x120036(null);})['catch'](_0x2967c9=>{_0x120036&&_0x120036(_0x2967c9);});}['updateTarg'+'etFrameRat'+'e'](_0x29b945,_0x3e6b7b){var _0x4fb3c2;if(!((_0x4fb3c2=this['_session'])!=null&&_0x4fb3c2['updateTarg'+'etFrameRat'+'e'])){_0x3e6b7b==null||_0x3e6b7b(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x29b945)['then'](()=>{_0x3e6b7b==null||_0x3e6b7b();})['catch'](_0x299d81=>{_0x3e6b7b==null||_0x3e6b7b(_0x299d81);});}['_sessionSu'+'pportCheck'](_0x1c7938){navigator['xr']['isSessionS'+'upported'](_0x1c7938)['then'](_0x1f88c1=>{this['_available'][_0x1c7938]!==_0x1f88c1&&(this['_available'][_0x1c7938]=_0x1f88c1,this['fire']('available',_0x1c7938,_0x1f88c1),this['fire']('available:'+_0x1c7938,_0x1f88c1));})['catch'](_0x427ab5=>{this['fire']('error',_0x427ab5);});}['_onSession'+'Start'](_0x114d32,_0x599f7c,_0x322d71){let _0x3a4d66=!(0x1e6+0x195b+-0x20*0xda);this['_session']=_0x114d32;const _0x2ab19f=()=>{this['fire']('visibility'+':change',_0x114d32['visibility'+'State']);},_0x2aec5a=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x3a0d8a=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x2aec5a),this['_camera']['off']('set_farCli'+'p',_0x2aec5a),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x114d32['removeEven'+'tListener']('end',_0x3a0d8a),_0x114d32['removeEven'+'tListener']('visibility'+'change',_0x2ab19f),_0x3a4d66||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0xebc+0x1f*-0x131+-0x1*-0x1633,this['_height']=-0x1c05+-0x1ec2+0x16f*0x29,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x114d32['addEventLi'+'stener']('end',_0x3a0d8a),_0x114d32['addEventLi'+'stener']('visibility'+'change',_0x2ab19f),this['_camera']['on']('set_nearCl'+'ip',_0x2aec5a),this['_camera']['on']('set_farCli'+'p',_0x2aec5a),v['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x3cb2f6;this['fire']('frameratec'+'hange',(_0x3cb2f6=this['_session'])==null?void(0x1b42+-0xc4b*0x1+-0xef7):_0x3cb2f6['frameRate']);}),_0x114d32['requestRef'+'erenceSpac'+'e'](_0x599f7c)['then'](_0x6d1e5f=>{this['_reference'+'Space']=_0x6d1e5f,this['app']['tick'](),_0x322d71&&_0x322d71(null),this['fire']('start');})['catch'](_0x1a4a9b=>{_0x3a4d66=!(-0x218+0x37f*0xb+-0x245d),_0x114d32['end'](),_0x322d71&&_0x322d71(_0x1a4a9b),this['fire']('error',_0x1a4a9b);});}['_setClipPl'+'anes'](_0x3f3065,_0x381949){this['_depthNear']===_0x3f3065&&this['_depthFar']===_0x381949||(this['_depthNear']=_0x3f3065,this['_depthFar']=_0x381949,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x58d9c5=this['app']['graphicsDe'+'vice'],_0x38411e=_0x58d9c5['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x58d9c5['gl'],{'alpha':!(-0x2592+-0xa2a+0x2fbc),'depth':!(0x11ee*0x1+-0x1b6+0x18*-0xad),'stencil':!(-0x1273+0xb95+0x6*0x125),'framebufferScaleFactor':_0x38411e,'antialias':!(0x1*-0x961+0x1d*0x146+-0x1b8c)}),_0x58d9c5!=null&&_0x58d9c5['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x58d9c5['gl']);}catch(_0x3cfe07){this['fire']('error',_0x3cfe07);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x21cc05=>{this['fire']('error',_0x21cc05);});},0x15f1+-0x1*0x1055+-0x59c);}['update'](_0x525397){if(!this['_session'])return!(-0xcd*-0x16+-0x2*-0x5f9+0x149*-0x17);const _0x216c28=_0x525397['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0xf5f9da=_0x525397['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x216c28||this['_height']!==_0xf5f9da)&&(this['_width']=_0x216c28,this['_height']=_0xf5f9da,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x216c28,_0xf5f9da));const _0x3548c7=_0x525397['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x3548c7)return!(0x9*-0x12a+0x1e57+0x7c*-0x29);const _0x111297=this['views']['list']['length'];this['views']['update'](_0x525397,_0x3548c7['views']);const _0x2c4ad8=_0x3548c7['transform']['position'],_0x3c1618=_0x3548c7['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x2c4ad8['x'],_0x2c4ad8['y'],_0x2c4ad8['z']),this['_localRota'+'tion']['set'](_0x3c1618['x'],_0x3c1618['y'],_0x3c1618['z'],_0x3c1618['w']),_0x111297===-0x156*0x6+-0x11*-0x23b+-0x1de7&&this['views']['list']['length']>0x80a*0x1+0x29d*0xc+-0x2766){const _0x353b76=new q(),_0x340a3d=this['views']['list'][0x7dc+-0x517*0x1+0x1*-0x2c5];_0x353b76['copy'](_0x340a3d['projMat']);const _0x451a97=_0x353b76['data'],_0x212959=(0xf46+-0x227e+0x133a)*Math['atan']((0x104a+-0x2288+-0x1b*-0xad)/_0x451a97[0x72f*-0x5+0x4*-0x67c+-0xdc*-0x48])*(-0x29*-0x35+-0x1d*-0x107+-0x2594)/Math['PI'],_0x656e5c=_0x451a97[0x1*0xef0+-0x21da+0x12ef]/_0x451a97[0x158d+-0xaf0+0x13*-0x8f],_0x33535b=_0x451a97[0x1*0x2122+0x106f+-0xd*0x3cf]/(_0x451a97[-0x20be+-0x5*0x711+-0x7*-0x9bb]+(-0x21af+0x4*-0x99b+0x481c)),_0x176363=_0x451a97[-0x1*-0x1414+0x51e+-0x1924]/(_0x451a97[0x1778+0x1a1e+0xc63*-0x4]-(-0x2ab+-0x3*0x6d2+0x1722));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x656e5c,'farClip':_0x33535b,'fov':_0x212959,'horizontalFov':!(0x140a+0x1c0b+-0x44*0xb5),'nearClip':_0x176363});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x525397),this['_type']===Ao&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x525397),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x525397),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x525397),this['anchors']['supported']&&this['anchors']['update'](_0x525397),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x525397),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x525397)),this['fire']('update',_0x525397),!(-0x797*0x5+0x102f*0x2+0x595*0x1);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x32ac6f;return((_0x32ac6f=this['_session'])==null?void(-0x199d+0x2645+-0x168*0x9):_0x32ac6f['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x1a60e){var _0x8aed2c;(((_0x8aed2c=this['_baseLayer'])==null?void(-0x2f5*0xb+0x1e2f+0x258):_0x8aed2c['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0x10d2*0x1+-0x2e3*-0x8+-0x11*0x259&&v['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x1a60e);}get['fixedFovea'+'tion'](){var _0x7366c5;return((_0x7366c5=this['_baseLayer'])==null?void(0x5b7+-0x4f*-0x57+-0x2090):_0x7366c5['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(Qn,'EVENT_AVAI'+'LABLE','available'),c(Qn,'EVENT_STAR'+'T','start'),c(Qn,'EVENT_END','end'),c(Qn,'EVENT_UPDA'+'TE','update'),c(Qn,'EVENT_ERRO'+'R','error');class dF extends qh{constructor(_0x10a895,_0x76d91b={}){super(_0x10a895);const _0x13b967=new pP();_0x13b967['graphicsDe'+'vice']=_0x76d91b['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x10a895,_0x76d91b),this['addCompone'+'ntSystems'](_0x13b967),this['addResourc'+'eHandles'](_0x13b967),_0x13b967['elementInp'+'ut']=_0x76d91b['elementInp'+'ut'],_0x13b967['keyboard']=_0x76d91b['keyboard'],_0x13b967['mouse']=_0x76d91b['mouse'],_0x13b967['touch']=_0x76d91b['touch'],_0x13b967['gamepads']=_0x76d91b['gamepads'],_0x13b967['scriptPref'+'ix']=_0x76d91b['scriptPref'+'ix'],_0x13b967['assetPrefi'+'x']=_0x76d91b['assetPrefi'+'x'],_0x13b967['scriptsOrd'+'er']=_0x76d91b['scriptsOrd'+'er'],_0x13b967['soundManag'+'er']=new kb(),_0x13b967['lightmappe'+'r']=vP,_0x13b967['batchManag'+'er']=dC,_0x13b967['xr']=Qn,this['init'](_0x13b967);}['createDevi'+'ce'](_0x4b82b9,_0x29c57f){return _0x29c57f['graphicsDe'+'viceOption'+'s']||(_0x29c57f['graphicsDe'+'viceOption'+'s']={}),ye['browser']&&navigator['xr']&&(_0x29c57f['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x1*0xabd+-0x429+-0x694)),_0x29c57f['graphicsDe'+'viceOption'+'s']['alpha']=_0x29c57f['graphicsDe'+'viceOption'+'s']['alpha']||!(0x1471+-0x6*-0x227+-0x215a),new pb(_0x4b82b9,_0x29c57f['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0xa0ceea){_0xa0ceea['componentS'+'ystems']=[mx,fR,HR,UP,qP,iI,fI,jI,KI,cD,BI,jP,cI,bI,zR,QP,DI,FI,GI,JR,WR,$I,uD];}['addResourc'+'eHandles'](_0x55543d){_0x55543d['resourceHa'+'ndlers']=[fD,_2,g2,y2,iL,Q2,UL,fL,j2,S2,hL,rL,A2,X2,T2,cL,q2,E2,C2,v2,mL,dL,uL,w2,W2];}}const nh=[],YL=[[],[],[]];class KL extends ds{constructor(_0x2305e,_0x169f2f){super(_0x2305e),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x169f2f;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x41ec7c=>{_0x41ec7c['defaultUni'+'formBuffer']['destroy'](),_0x41ec7c['destroy']();}),this['viewBindGr'+'oups']['length']=0xc3f+0x560*-0x2+-0x17f;}['update'](_0x2b5f19,_0x1d3562,_0x3cc09c,_0x10f498){this['camera']=_0x2b5f19,this['scene']=_0x1d3562,this['layers']=_0x3cc09c,this['mapping']=_0x10f498;}['execute'](){const _0x187b54=this['device'],{renderer:_0xdbc284,camera:_0x112143,scene:_0x498ce1,layers:_0x3d0995,mapping:_0x5b9cc1,renderTarget:_0x4514f0}=this,_0x46f43b=_0x498ce1['layers']['layerList'],_0xa95aed=_0x498ce1['layers']['subLayerEn'+'abled'],_0x1dd5c7=_0x498ce1['layers']['subLayerLi'+'st'];for(let _0x500c59=-0xccb+-0xd*0x223+-0x9*-0x482;_0x500c59<_0x46f43b['length'];_0x500c59++){const _0x19b662=_0x46f43b[_0x500c59];if(!(_0x3d0995&&_0x3d0995['indexOf'](_0x19b662)<-0x1*-0xfd+0xf12+-0x100f*0x1)&&_0x19b662['enabled']&&_0xa95aed[_0x500c59]&&_0x19b662['camerasSet']['has'](_0x112143['camera'])){const _0x4d6115=_0x1dd5c7[_0x500c59];G['pushGpuMar'+'ker'](_0x187b54,_0x19b662['name']+'('+(_0x4d6115?'TRANSP':'OPAQUE')+')'),_0x19b662['_clearDept'+'hBuffer']&&_0xdbc284['clear'](_0x112143['camera'],!(-0x1cdb+-0x2029+0x3d05),!(-0x23d6+-0x1479*0x1+0x384f),!(-0x1ca3+0x1f2*-0x14+0x106*0x42));const _0x2cdec1=_0x19b662['meshInstan'+'ces'];for(let _0x5cb7a3=0x21a7+0x340+-0x24e7;_0x5cb7a3<_0x2cdec1['length'];_0x5cb7a3++){const _0x1e7ba4=_0x2cdec1[_0x5cb7a3];_0x1e7ba4['pick']&&_0x1e7ba4['transparen'+'t']===_0x4d6115&&(nh['push'](_0x1e7ba4),_0x5b9cc1['set'](_0x1e7ba4['id'],_0x1e7ba4));}nh['length']>-0x1*-0xe4d+-0x2204+0x13b7&&(_0x498ce1['clusteredL'+'ightingEna'+'bled']&&_0xdbc284['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0xdbc284['setCameraU'+'niforms'](_0x112143['camera'],_0x4514f0),_0x187b54['supportsUn'+'iformBuffe'+'rs']&&_0xdbc284['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0xdbc284['viewUnifor'+'mFormat'],_0xdbc284['viewBindGr'+'oupFormat'],-0xc2e+0x2539+-0x190a),_0xdbc284['renderForw'+'ard'](_0x112143['camera'],_0x4514f0,nh,YL,Oa,_0x5c7721=>{_0x187b54['setBlendSt'+'ate'](_t['NOBLEND']);}),nh['length']=0x1*-0x2452+0x2655+0x203*-0x1),G['popGpuMark'+'er'](_0x187b54);}}}}const nu=new Set(),ZL=new Q();let uF=class{constructor(_0x1a77af,_0x4fc1fd,_0xa85bb2){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(0x19*-0x116+0x8fc+-0xf*-0x136)),(v['assert'](_0x1a77af),this['renderer']=_0x1a77af['renderer'],this['device']=_0x1a77af['graphicsDe'+'vice'],this['renderPass']=new KL(this['device'],_0x1a77af['renderer']),this['width']=-0x1*0x157a+-0x3*-0xbac+-0x2*0x6c5,this['height']=-0x1fb9+0x3*0x13d+0x1*0x1c02,this['resize'](_0x4fc1fd,_0xa85bb2),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(-0x53*0x6b+0x1d18+0x59a);}));}['getSelecti'+'on'](_0x320294,_0xfc3495,_0x8a805=0xaf3+0x624*-0x1+-0x4ce,_0x5884ae=0xaf*-0xe+-0x8e*-0x6+0x63f){const _0x1ce2ed=this['device'];if(_0x1ce2ed['isWebGPU'])return v['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];v['assert'](typeof _0x320294!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0xfc3495=this['renderTarg'+'et']['height']-(_0xfc3495+_0x5884ae);const _0x529e18=this['sanitizeRe'+'ct'](_0x320294,_0xfc3495,_0x8a805,_0x5884ae);_0x1ce2ed['setRenderT'+'arget'](this['renderTarg'+'et']),_0x1ce2ed['updateBegi'+'n']();const _0x2bf94b=new Uint8Array((0x1f9+-0xe7e+0xc89*0x1)*_0x529e18['z']*_0x529e18['w']);return _0x1ce2ed['readPixels'](_0x529e18['x'],_0x529e18['y'],_0x529e18['z'],_0x529e18['w'],_0x2bf94b),_0x1ce2ed['updateEnd'](),this['decodePixe'+'ls'](_0x2bf94b,this['mapping']);}['getSelecti'+'onAsync'](_0x6e112e,_0xdf49cd,_0x1d24e2=0x1587+0x312*-0x6+-0x1*0x31a,_0x231b59=0xc77*0x1+0x5db+-0x1251){var _0x54d8ef;(_0x54d8ef=this['device'])!=null&&_0x54d8ef['isWebGL2']&&(_0xdf49cd=this['renderTarg'+'et']['height']-(_0xdf49cd+_0x231b59));const _0x3014a2=this['sanitizeRe'+'ct'](_0x6e112e,_0xdf49cd,_0x1d24e2,_0x231b59);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x3014a2['x'],_0x3014a2['y'],_0x3014a2['z'],_0x3014a2['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(0x8*0x455+-0x2*0xf4d+-0x40e)})['then'](_0x2a3ace=>this['decodePixe'+'ls'](_0x2a3ace,this['mapping']));}['sanitizeRe'+'ct'](_0x31490a,_0x3f6f84,_0x104a63,_0x330dd){const _0x367327=this['renderTarg'+'et']['width'],_0x24140d=this['renderTarg'+'et']['height'];return _0x31490a=N['clamp'](Math['floor'](_0x31490a),-0x95e+-0x2f*0x39+-0x1*-0x13d5,_0x367327-(-0x64d*0x2+-0xff0+0x1c8b)),_0x3f6f84=N['clamp'](Math['floor'](_0x3f6f84),-0x664+-0x1*-0xb04+-0x20*0x25,_0x24140d-(-0x18b2+-0x268*-0xe+0xd*-0xb1)),_0x104a63=Math['floor'](Math['max'](_0x104a63,-0xcd2+0x7*-0x1b8+0x18db)),_0x104a63=Math['min'](_0x104a63,_0x367327-_0x31490a),_0x330dd=Math['floor'](Math['max'](_0x330dd,-0x1fd1+0x2579+-0x5a7*0x1)),_0x330dd=Math['min'](_0x330dd,_0x24140d-_0x3f6f84),ZL['set'](_0x31490a,_0x3f6f84,_0x104a63,_0x330dd);}['decodePixe'+'ls'](_0x5ab67e,_0x7f39a1){const _0x2da7e0=[];if(this['deviceVali'+'d']){const _0x5d05e1=_0x5ab67e['length'];for(let _0x2796e6=-0x1*-0x2667+-0x1957+-0x4c*0x2c;_0x2796e6<_0x5d05e1;_0x2796e6+=-0x1*-0x1791+0x2b8+-0x1a45){const _0x20e9ba=_0x5ab67e[_0x2796e6+(0xd8e+-0x1*0x5+-0xd89)],_0x3a2499=_0x5ab67e[_0x2796e6+(0x238b+-0x165a+0xd30*-0x1)],_0x4bf09f=_0x5ab67e[_0x2796e6+(0x16c+-0xaa8+-0xe*-0xa9)],_0x4942e8=_0x5ab67e[_0x2796e6+(-0x1701+-0x287+-0x1*-0x198b)]<<0x1feb*0x1+-0x1*0x18c2+-0x1b*0x43|_0x20e9ba<<0x7b0+-0x3e*-0x95+-0x2bb6|_0x3a2499<<0x2666+-0xd*-0x75+-0x2c4f|_0x4bf09f;_0x4942e8!==-(-0x11d0+-0xf*0x17d+0x4*0xa09)&&nu['add'](_0x7f39a1['get'](_0x4942e8));}nu['forEach'](_0x550d55=>{_0x550d55&&_0x2da7e0['push'](_0x550d55);}),nu['clear']();}return _0x2da7e0;}['allocateRe'+'nderTarget'](){const _0x50f3f7=new he(this['device'],{'format':Se,'width':this['width'],'height':this['height'],'mipmaps':!(0xc9+0x1*0x1e49+-0x1f11),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':'pick'});this['renderTarg'+'et']=new pt({'colorBuffer':_0x50f3f7,'depth':!(0x160b+0x319*-0x9+-0x2*-0x2eb)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x4364de,_0x3e1f7a,_0x348f99){_0x348f99 instanceof Lr&&(_0x348f99=[_0x348f99]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x374d91=this['renderPass'];_0x374d91['init'](this['renderTarg'+'et']),_0x374d91['colorOps']['clearValue']=Y['WHITE'],_0x374d91['colorOps']['clear']=!(-0x1*-0x1704+-0x940+-0x4*0x371),_0x374d91['depthStenc'+'ilOps']['clearDepth']=!(0x37d*-0x9+0x1*-0x163d+0x35a2),_0x374d91['update'](_0x4364de,_0x3e1f7a,_0x348f99,this['mapping']),_0x374d91['render']();}['resize'](_0x16cbfc,_0x58d78a){this['width']=Math['floor'](_0x16cbfc),this['height']=Math['floor'](_0x58d78a);}};class QL{constructor(_0x244d1f){this['_frameInde'+'x']=0x13b0+-0x174*-0x12+0x8*-0x5bb,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0xafd+0xc9e+0x20*-0xd,this['enabled']=!(-0x252b+-0x1cdc+0x4207),_0x244d1f['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x244d1f['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x244d1f['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x565616){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x47d836=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x47d836,this['_frameInde'+'x']=0x1*-0x6fb+-0x26cf+0x2dca,this['mark'](_0x565616);}['mark'](_0x210a80){if(!this['enabled'])return;const _0x27e6dc=ne();if(this['_frameInde'+'x']>0xec0*0x1+0x188d+-0x274d){const _0x50d040=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x1*-0x312+0x39*-0x96+0x2479)];_0x50d040[-0xe34+0xc54+0x1e1]=_0x27e6dc-_0x50d040[0x1c92+-0xca5+-0xfec];}else{if(this['_timings']['length']>-0xdf*-0xd+-0x48a*0x6+0xfe9){const _0x17126f=this['_timings'][this['_timings']['length']-(-0x2069+-0x13ba+0xd09*0x4)];_0x17126f[0x1187+-0xd*-0x20+-0x331*0x6]=_0x27e6dc-_0x17126f[0x399+0x1ce0+0x2078*-0x1];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x210a80,_0x27e6dc]);else{const _0x8a3731=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x8a3731[0x15b2+0x13a3+0xdc7*-0x3]=_0x210a80,_0x8a3731[0x36f*-0x4+-0x6fb*-0x1+0x6c2]=_0x27e6dc;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x171c+0x1cc0+-0x5a4,-(0x1a30+0xa4*0x7+-0x1eab))['map'](_0x4c1793=>_0x4c1793[-0x452*-0x1+0x146f+-0x18c0]);}}class JL{constructor(_0x5b1710){this['device']=_0x5b1710,_0x5b1710['gpuProfile'+'r']['enabled']=!(0x7*-0x203+-0x13e*0xf+-0x68b*-0x5),this['enabled']=!(0x1c8f*-0x1+-0x2020+0x3caf),this['unitsName']='ms',this['decimalPla'+'ces']=0xef2+-0x4a*-0x69+-0x2d4b,this['_timings']=[];}get['timings'](){return this['_timings'][0x1*-0x3b7+0x5*-0x68b+0x246e]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class eF{constructor(_0x42d1eb,_0x278a79,_0xedd990,_0xd6af25,_0x30bf0c){this['app']=_0x42d1eb,this['values']=[],this['statNames']=_0x278a79,this['statNames']['length']>0x9c4*-0x3+-0x1*0x1325+0x3074&&(this['statNames']['length']=-0x231c+0x2*-0xa52+0xb27*0x5),this['unitsName']=_0xd6af25,this['decimalPla'+'ces']=_0xedd990,this['multiplier']=_0x30bf0c||0x3*0x308+-0x25de*-0x1+-0x2ef5;const _0x4aab16=(_0x532b8c,_0x280796)=>_0x532b8c['split']('.')['reduce']((_0x14f5ff,_0x4be764)=>_0x14f5ff?_0x14f5ff[_0x4be764]:null,_0x280796||this);_0x42d1eb['on']('frameupdat'+'e',_0x4ebdb8=>{for(let _0x212cc5=-0x10f6+0x3f*0x2f+-0x1*-0x565;_0x212cc5<this['statNames']['length'];_0x212cc5++)this['values'][_0x212cc5]=_0x4aab16(this['statNames'][_0x212cc5],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class au{constructor(_0x569add,_0x2a8f49,_0x594f8c,_0x3ca058,_0xbba2e0){this['app']=_0x2a8f49,this['name']=_0x569add,this['device']=_0x2a8f49['graphicsDe'+'vice'],this['timer']=_0xbba2e0,this['watermark']=_0x594f8c,this['enabled']=!(-0x8b7+0x10ff*-0x1+0x19b7),this['textRefres'+'hRate']=_0x3ca058,this['avgTotal']=0xb01+0x146a+-0x1f6b,this['avgTimer']=-0x227e+0x1296+0x4*0x3fa,this['avgCount']=0x323*-0xb+0x6*-0xab+-0x2683*-0x1,this['timingText']='',this['texture']=null,this['yOffset']=0x721+-0x4dc+0x53*-0x7,this['cursor']=-0x23e5+0x16*0x1af+-0x125*0x1,this['sample']=new Uint8ClampedArray(0xcf1*-0x2+0x74b+-0x1*-0x129b),this['sample']['set']([-0x20c8+-0x1dcd+0x3e95,-0x4*-0x2a9+0x125c*0x2+-0x2f5c,0x440+-0x1ce*-0x14+-0xa16*0x4,0x1*-0x1b9b+-0x178d*0x1+0x4f*0xa9]),this['counter']=0x242c+0x203c+-0x4468,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x4d0046){const _0x5775c3=this['timer']['timings'],_0x246755=_0x5775c3['reduce']((_0xb01cf7,_0x56eae2)=>_0xb01cf7+_0x56eae2,0x1e1e+0x1*-0x177f+-0x69f);if(this['avgTotal']+=_0x246755,this['avgTimer']+=_0x4d0046,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0xdc2+-0x1*-0xf16+-0x154,this['avgTotal']=-0x3d7*0x3+0x1b*-0xc5+0x204c,this['avgCount']=0x1392+0x7a9*-0x3+0x369),this['enabled']){let _0x2b0bcd=-0x14cd+0x152e+-0x61;const _0xae53f8=(-0x3*0xb15+0x2097+0xa9+0.5)*this['watermark'];for(let _0x42f4b8=-0x245a+0xfb*0x25+0x13;_0x42f4b8<_0x5775c3['length'];++_0x42f4b8)_0x2b0bcd+=Math['floor'](_0x5775c3[_0x42f4b8]/_0xae53f8*(-0x614+-0x2a6+0x9b9)),this['sample'][_0x42f4b8]=_0x2b0bcd;this['sample'][0xb8c+0x1a33*-0x1+0xeaa]=this['watermark']/_0xae53f8*(-0x1*-0x52c+-0x6*-0x267+0x1297*-0x1),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0x1adc+0x1c9f+-0x3777)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x13b2+0xf38*-0x2+-0xa*-0x113);}}['render'](_0x335fa1,_0x23246f,_0x326223,_0x118484,_0x154bd5){_0x335fa1['quad'](_0x23246f+_0x118484,_0x326223,-_0x118484,_0x154bd5,this['enabled']?this['cursor']:-0x17c3+0x1*-0x236b+0x3b2e,this['enabled']?-0xba0+0x1314+-0x9f*0xc+0.5+this['yOffset']:this['texture']['height']-(0x2ca+0x4a*0x79+-0x25c3),-_0x118484,-0x59e+-0x1613+-0x1a1*-0x11,this['texture'],0x1662+0x220a+-0x386c);}}class tF{constructor(_0x1d6c3a,_0x1f672c){const _0x51f497=_0xa35d96=>{_0xa35d96['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0xa35d96['textAlign']='left',_0xa35d96['textBaseli'+'ne']='alphabetic';},_0x1af7e2=_0x5dcc0c=>_0x5dcc0c==='.'||_0x5dcc0c['length']===0x1f0e+-0xeb6+-0x1*0x1057&&_0x5dcc0c['charCodeAt'](-0x1294+0x106c*-0x1+0x1*0x2300)>=-0xb*0xcb+0x1*0x21d9+-0x18f0&&_0x5dcc0c['charCodeAt'](-0x67*0xf+-0x7ea*0x1+0xdf3)<=-0xfa*-0x9+0x224f+-0x2ae0,_0x2571e1=document['createElem'+'ent']('canvas'),_0x5c64a2=_0x2571e1['getContext']('2d',{'alpha':!(0xc1c+-0x16eb+0xacf)});_0x51f497(_0x5c64a2);const _0x3dc21c=new Map(),_0x378642=-0xd24+0x1ec3+-0x119a,_0x438d3c=-0x3*-0x43f+-0xc3+-0x9fa;let _0x2d89dc=_0x378642,_0x5b833c=_0x378642;_0x1f672c['forEach'](_0x449e64=>{const _0xa1b737=_0x5c64a2['measureTex'+'t'](_0x449e64),_0x1e6827=Math['ceil'](-_0xa1b737['actualBoun'+'dingBoxLef'+'t']),_0x42c56b=Math['ceil'](_0xa1b737['actualBoun'+'dingBoxRig'+'ht']),_0x1546e1=Math['ceil'](_0xa1b737['actualBoun'+'dingBoxAsc'+'ent']),_0x4b0c99=Math['ceil'](_0xa1b737['actualBoun'+'dingBoxDes'+'cent']),_0x2d43b0=_0x1e6827+_0x42c56b,_0x322bd7=_0x1546e1+_0x4b0c99;_0x2d89dc+_0x2d43b0+_0x378642>=_0x438d3c&&(_0x2d89dc=_0x378642,_0x5b833c+=0x1*-0x1ab3+0x32*-0xa7+0x3*0x13cb),_0x3dc21c['set'](_0x449e64,{'l':_0x1e6827,'r':_0x42c56b,'a':_0x1546e1,'d':_0x4b0c99,'w':_0x2d43b0,'h':_0x322bd7,'x':_0x2d89dc,'y':_0x5b833c}),_0x2d89dc+=_0x2d43b0+_0x378642;}),_0x2571e1['width']=-0x9ac+-0x41c+0xfc8,_0x2571e1['height']=N['nextPowerO'+'fTwo'](_0x5b833c+(0x967+-0x863*0x1+-0x3d*0x4)+_0x378642),_0x51f497(_0x5c64a2),_0x5c64a2['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x5c64a2['fillRect'](-0x263+0x1*-0xb5d+0xdc0,0x101*0x17+0x2426+-0x3*0x13bf,_0x2571e1['width'],_0x2571e1['height']),_0x3dc21c['forEach']((_0x41e573,_0x4902a9)=>{_0x5c64a2['fillStyle']=_0x1af7e2(_0x4902a9)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x5c64a2['fillText'](_0x4902a9,_0x41e573['x']-_0x41e573['l'],_0x41e573['y']+_0x41e573['a']);}),this['placements']=_0x3dc21c;const _0xcdfec6=_0x5c64a2['getImageDa'+'ta'](0x16ad+-0x3*0xcf5+0x1032,0x426+-0xa85*0x3+0x1b69,_0x2571e1['width'],_0x2571e1['height'])['data'];for(let _0x1a50fd=-0x160a+0x131+0x14d9;_0x1a50fd<_0xcdfec6['length'];_0x1a50fd+=-0x2*0x8df+0x2c3*0x1+0xeff)_0xcdfec6[_0x1a50fd+(0x4*-0x153+-0x182*-0x16+-0x7*0x3fb)]=_0xcdfec6[_0x1a50fd+(-0xd*-0x1+-0x10a5*0x1+0x24*0x76)],_0xcdfec6[_0x1a50fd+(-0x85e+0xe9*-0x9+0x108f)]=0x207a*-0x1+0x24c7+-0x34e,_0xcdfec6[_0x1a50fd+(-0x1*-0x11fb+0x15*-0x12d+-0x6b7*-0x1)]=0x3*-0x21a+-0x23c3+-0x1a*-0x1a8,_0xcdfec6[_0x1a50fd+(0x1dde+0x55e+-0x119d*0x2)]=0x1*0x1738+-0x47*0x11+0x1b*-0xa6;this['texture']=new he(_0x1d6c3a,{'name':'mini-stats'+'-word-atla'+'s','width':_0x2571e1['width'],'height':_0x2571e1['height'],'mipmaps':!(0x210a+-0x13de+-0xd2b),'minFilter':de,'magFilter':de,'levels':[_0xcdfec6]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0xaebd4a,_0x5a3290,_0x328734,_0x5879f3){const _0x11954f=this['placements']['get'](_0x5a3290);return _0x11954f?(_0xaebd4a['quad'](_0x328734+_0x11954f['l']-(-0x1e7+-0x1eb4+0x209c),_0x5879f3-_0x11954f['d']+(-0x1*-0x121f+0x189b+-0x2ab9),_0x11954f['w']+(0xb*0x24f+-0x1*0x11b9+-0x7ab*0x1)*(0xd*0x140+-0x2c5*-0x7+-0x517*0x7),_0x11954f['h']+(0x1f5a+-0x1f*0x3d+-0x2*0xbfb)*(0x2bb*-0x9+-0x1*0x6aa+0x1f3f),_0x11954f['x']-(-0x6*0x67d+-0xc73+0x19b1*0x2),this['texture']['height']-_0x11954f['y']-_0x11954f['h']-(0x215e+0xb7*0x18+0x10d7*-0x3),void(-0x1*-0x259d+0x1487*0x1+-0x4*0xe89),void(0x7e*-0x6+0x26ed+-0x23f9),this['texture'],0x6fd*0x1+-0x220c+0x1b10),_0x11954f['w']):-0x1354+-0xd4*0x2d+-0xe26*-0x4;}}const sF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',iF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class rF{constructor(_0x30d295,_0x486aca=0x409*-0x1+-0x1de4+0x23ed){const _0x36bfb0=new Et(_0x30d295,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':ns,'components':0x4,'type':Ee}]),_0x41a457=new Uint16Array(_0x486aca*(-0x812+0x2c6*0x5+0x5c6*-0x1));for(let _0x4973f1=-0x10*-0xb2+0x2420+-0x2f40;_0x4973f1<_0x486aca;++_0x4973f1)_0x41a457[_0x4973f1*(-0x1204*-0x1+-0x14f1+0x2f3)+(-0x1*-0x1185+0x207e+-0x3203)]=_0x4973f1*(0x8*-0x38b+0x4b7+0x17a5),_0x41a457[_0x4973f1*(0x56*-0x1+-0x232c+0x2388)+(-0x1d69+-0x29d*0x5+0x2a7b)]=_0x4973f1*(0xab3+0x15a*0x2+-0x17*0x95)+(-0x1a0d+-0x6ce+0x20dc),_0x41a457[_0x4973f1*(-0xdd*-0x11+0x3be*0x9+-0x3055)+(-0x1447+0x1585+-0x1*0x13c)]=_0x4973f1*(-0x1937+0xa*0x278+-0x8b*-0x1)+(0x47*0x81+0x11a5+-0x2*0x1ab5),_0x41a457[_0x4973f1*(-0x1fae+0x9+0x43*0x79)+(-0x4*-0x69d+0x20ca*-0x1+0x5*0x145)]=_0x4973f1*(0x19bd+-0x946*-0x1+-0x22ff),_0x41a457[_0x4973f1*(0x2*0x506+-0x1265+0x85f*0x1)+(-0x9*-0xa7+-0xeb*0x2+-0x405)]=_0x4973f1*(-0x23a0+0xfe0*-0x1+0x3384)+(0x1d06+0x3*-0x2f1+-0x3*0x6bb),_0x41a457[_0x4973f1*(-0x2683*0x1+0x1701+0xf88)+(0x1*-0x1dc8+-0xf1d*0x2+0x3c07)]=_0x4973f1*(-0x1a*-0x68+0x442+-0xece)+(0x48+-0x19bf+0x197a);this['device']=_0x30d295,this['buffer']=new os(_0x30d295,_0x36bfb0,_0x486aca*(0xf*0x1de+-0x4e1*-0x7+-0x3e25),{'usage':uy}),this['data']=new Float32Array(this['buffer']['numBytes']/(0x6*-0x5d3+-0x10d+0x2403)),this['indexBuffe'+'r']=new lr(_0x30d295,Pi,_0x486aca*(-0x12a4+-0xa55+0x1cff*0x1),jt,_0x41a457),this['prim']={'type':Ms,'indexed':!(0x277*0x1+-0x5d0+0x359),'base':0x0,'count':0x0},this['quads']=-0xa0b*-0x3+0x1369+-0x318a,this['mesh']=new Ie(_0x30d295),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][0x15ca+-0x21e9+-0xc1f*-0x1]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x3aead5=new Ra({'uniqueName':'MiniStats','vertexCode':sF,'fragmentCode':iF});this['material']=_0x3aead5,_0x3aead5['cull']=mt,_0x3aead5['depthState']=as['NODEPTH'],_0x3aead5['blendState']=new _t(!(-0xba*-0x1c+-0x181f+0x3c7),Lt,dc,uc,Lt,at,at),_0x3aead5['update'](),this['meshInstan'+'ce']=new Le(this['mesh'],_0x3aead5,new De('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x1*-0x1143+-0x472*-0x5+0x7e5*-0x5)},this['targetSize']={'width':_0x30d295['width'],'height':_0x30d295['height']};}['quad'](_0x190a67,_0x4a59eb,_0x2c1d75,_0x3d9cae,_0x540d86,_0x1be6a4,_0x1694eb,_0x321eb7,_0x137a89,_0x76e860=-0x22*-0x17+-0x25ff+0x1*0x22f1){const _0xe40d1=this['targetSize']['width'],_0xa752dd=this['targetSize']['height'],_0x262e17=_0x190a67/_0xe40d1,_0x10db5e=_0x4a59eb/_0xa752dd,_0x137f45=(_0x190a67+_0x2c1d75)/_0xe40d1,_0x425b70=(_0x4a59eb+_0x3d9cae)/_0xa752dd,_0x319191=_0x137a89['width'],_0x9b4891=_0x137a89['height'],_0x3a90ab=_0x540d86/_0x319191,_0xa19bc5=_0x1be6a4/_0x9b4891,_0x4c47bb=(_0x540d86+(_0x1694eb??_0x2c1d75))/_0x319191,_0x11b83c=(_0x1be6a4+(_0x321eb7??_0x3d9cae))/_0x9b4891;this['data']['set']([_0x262e17,_0x10db5e,_0x76e860,_0x3a90ab,_0xa19bc5,0x199e+-0x1d8d+0x3ef,0x1ba*0xa+0x1d76*0x1+-0x2eba,_0x137f45,_0x10db5e,_0x76e860,_0x4c47bb,_0xa19bc5,-0x1d*-0xad+-0x620+-0xd78,-0x180d+0x217d+-0x970,_0x137f45,_0x425b70,_0x76e860,_0x4c47bb,_0x11b83c,-0x2*0xdb9+0x846+0x132d,0x1179+-0x13da+0x262,_0x262e17,_0x425b70,_0x76e860,_0x3a90ab,_0x11b83c,-0x12e8+-0x1e70*-0x1+-0xb88,0x1*-0x1fd2+-0xe9+0x346*0xa],(0x16b2+0x311+-0x19bf)*(-0x3*-0x397+-0x14a4+0xe*0xb5)*this['quads']),this['quads']++,this['prim']['count']+=-0x1158+0x21aa+-0x104c;}['startFrame'](){this['quads']=-0x2184+0x1322+0xe62,this['prim']['count']=0x1ac*0x12+0x3c4+-0x21dc,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x583cf2,_0x25ca63,_0x3ba2c6,_0x26b103,_0x4df717,_0x173f7a){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x4df717,0x104c+0x36*0x57+-0x22a6),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x3ba2c6),this['material']['setParamet'+'er']('wordsTex',_0x26b103),_0x583cf2['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x25ca63);}}class $x{constructor(_0xcf60bf,_0x3fc622){const _0x5c8e14=_0xcf60bf['graphicsDe'+'vice'];_0x3fc622=_0x3fc622||$x['getDefault'+'Options'](),this['initGraphs'](_0xcf60bf,_0x5c8e14,_0x3fc622);const _0x566b0a=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x3cbfa6=>_0x3cbfa6['name']))['concat'](_0x3fc622['stats']?_0x3fc622['stats']['map'](_0x121545=>_0x121545['unitsName']):[])['filter'](_0x260e7c=>!!_0x260e7c));this['wordAtlas']=new tF(_0x5c8e14,_0x566b0a),this['sizes']=_0x3fc622['sizes'],this['_activeSiz'+'eIndex']=_0x3fc622['startSizeI'+'ndex'];const _0x29fb47=document['createElem'+'ent']('div');_0x29fb47['setAttribu'+'te']('id','mini-stats'),_0x29fb47['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0x29fb47),_0x29fb47['addEventLi'+'stener']('mouseenter',_0xb461ba=>{this['opacity']=-0x18f6+0x1bd*0xf+0x2*-0x8e;}),_0x29fb47['addEventLi'+'stener']('mouseleave',_0x3af29e=>{this['opacity']=-0xd67+-0xc2f+0x51e*0x5+0.7;}),_0x29fb47['addEventLi'+'stener']('click',_0x406924=>{_0x406924['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0xeb8+0x9e*0xd+-0x16bd))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x5c8e14['on']('resizecanv'+'as',this['updateDiv'],this),_0x5c8e14['on']('losecontex'+'t',this['loseContex'+'t'],this),_0xcf60bf['on']('postrender',this['postRender'],this),this['app']=_0xcf60bf,this['drawLayer']=_0xcf60bf['scene']['layers']['getLayerBy'+'Id'](tl),this['device']=_0x5c8e14,this['render2d']=new rF(_0x5c8e14),this['div']=_0x29fb47,this['width']=-0x10*0x224+-0x3cc+0x260c,this['height']=0x1a5*0x7+0xfe*-0x9+-0x295,this['gspacing']=-0x52*-0x3b+0x2*0x9fc+-0x3*0xcf4,this['clr']=[0x9*0x9a+-0x2f6*-0x7+0x1a23*-0x1,-0x235f*-0x1+0x183e+-0xa*0x5f6,-0x13*0xc2+-0x2*-0xaf2+0x9*-0xd5,0x21e0+-0x8*-0x23a+-0x33b*0x10+0.5],this['_enabled']=!(-0x1*0x108a+-0x628+-0x7*-0x33e),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x2746a9=>_0x2746a9['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0x1a51+0x254e+0x1fcf*-0x2)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0x1999*-0x1+0x1*0x16bd+0x3d*0xc)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0xc0c*-0x2+-0x21dd*-0x1+-0x3d*0x29)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(0x24a1+-0x16a0+-0xe01),'watermark':0x21},'gpu':{'enabled':!(0x2f*0x53+-0x3a*0x1d+0x13d*-0x7),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x2bdc1f){this['_activeSiz'+'eIndex']=_0x2bdc1f,this['gspacing']=this['sizes'][_0x2bdc1f]['spacing'],this['resize'](this['sizes'][_0x2bdc1f]['width'],this['sizes'][_0x2bdc1f]['height'],this['sizes'][_0x2bdc1f]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x13ffc8){this['clr'][-0x23e7+-0xe9c+0x3286]=_0x13ffc8;}get['opacity'](){return this['clr'][0xe*-0xde+-0x1772+0x2bd*0xd];}get['overallHei'+'ght'](){const _0x16807d=this['graphs'],_0x1d2adf=this['gspacing'];return this['height']*_0x16807d['length']+_0x1d2adf*(_0x16807d['length']-(-0x29*-0x9f+-0xd30+0xc46*-0x1));}set['enabled'](_0x996990){if(_0x996990!==this['_enabled']){this['_enabled']=_0x996990;for(let _0xacf34=0x1*0x1c24+0xc9d*0x2+-0x355e;_0xacf34<this['graphs']['length'];++_0xacf34)this['graphs'][_0xacf34]['enabled']=_0x996990,this['graphs'][_0xacf34]['timer']['enabled']=_0x996990;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x51dded,_0x40f164,_0x32d17b){if(this['graphs']=[],_0x32d17b['cpu']['enabled']){const _0x4fa67c=new QL(_0x51dded),_0x19076c=new au('CPU',_0x51dded,_0x32d17b['cpu']['watermark'],_0x32d17b['textRefres'+'hRate'],_0x4fa67c);this['graphs']['push'](_0x19076c);}if(_0x32d17b['gpu']['enabled']){const _0x586057=new JL(_0x40f164),_0x3fa35c=new au('GPU',_0x51dded,_0x32d17b['gpu']['watermark'],_0x32d17b['textRefres'+'hRate'],_0x586057);this['graphs']['push'](_0x3fa35c);}_0x32d17b['stats']&&_0x32d17b['stats']['forEach'](_0x3dcca1=>{const _0xbbac05=new eF(_0x51dded,_0x3dcca1['stats'],_0x3dcca1['decimalPla'+'ces'],_0x3dcca1['unitsName'],_0x3dcca1['multiplier']),_0x17d647=new au(_0x3dcca1['name'],_0x51dded,_0x3dcca1['watermark'],_0x32d17b['textRefres'+'hRate'],_0xbbac05);this['graphs']['push'](_0x17d647);});const _0x224839=_0x32d17b['sizes']['reduce']((_0x43a9b5,_0x3f05b8)=>_0x3f05b8['width']>_0x43a9b5?_0x3f05b8['width']:_0x43a9b5,-0x1b19*0x1+0x65*0x2f+0x1b6*0x5);this['texture']=new he(_0x40f164,{'name':'mini-stats'+'-graph-tex'+'ture','width':N['nextPowerO'+'fTwo'](_0x224839),'height':N['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0x151d+0x1*-0x1c4b+-0x72f*-0x1),'minFilter':de,'magFilter':de,'addressU':tt,'addressV':tt}),this['graphs']['forEach']((_0x1db4b5,_0x33b871)=>{_0x1db4b5['texture']=this['texture'],_0x1db4b5['yOffset']=_0x33b871;});}['render'](){const _0x51c315=this['graphs'],_0x1a7a15=this['wordAtlas'],_0x5e59bc=this['render2d'],_0x119e6c=this['width'],_0x5da06b=this['height'],_0x2fe83f=this['gspacing'];_0x5e59bc['startFrame']();for(let _0x42b42d=-0x178*-0x8+-0x3*-0x493+-0x1979*0x1;_0x42b42d<_0x51c315['length'];++_0x42b42d){const _0x546561=_0x51c315[_0x42b42d];let _0x547d67=_0x42b42d*(_0x5da06b+_0x2fe83f);_0x546561['render'](_0x5e59bc,0x38d+0x3b3*0x9+0x1*-0x24d8,_0x547d67,_0x119e6c,_0x5da06b);let _0x91fb08=-0x1*-0x89+-0x115c+-0x1*-0x10d4;_0x547d67+=_0x5da06b-(0x25d8+0x1*0x8e3+-0x2*0x1757),_0x91fb08+=_0x1a7a15['render'](_0x5e59bc,_0x546561['name'],_0x91fb08,_0x547d67)+(0x617*-0x4+-0x1236+0x2a9c);const _0x200c79=_0x546561['timingText'];for(let _0x146ca3=0x187b+0x26a1+-0x3f1c;_0x146ca3<_0x200c79['length'];++_0x146ca3)_0x91fb08+=_0x1a7a15['render'](_0x5e59bc,_0x200c79[_0x146ca3],_0x91fb08,_0x547d67);_0x546561['timer']['unitsName']&&(_0x91fb08+=-0x67f+0x354+0x2*0x197,_0x1a7a15['render'](_0x5e59bc,_0x546561['timer']['unitsName'],_0x91fb08,_0x547d67));}_0x5e59bc['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x5da06b);}['resize'](_0xf18e53,_0x534b99,_0x170041){const _0x4bad9c=this['graphs'];for(let _0x2582bb=0x169+-0x4*-0x79f+-0x5*0x661;_0x2582bb<_0x4bad9c['length'];++_0x2582bb)_0x4bad9c[_0x2582bb]['enabled']=_0x170041;this['width']=_0xf18e53,this['height']=_0x534b99,this['updateDiv']();}['updateDiv'](){const _0x2db947=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x2db947['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x2db947['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0xe66349=>_0xe66349['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class pF extends Ht{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map()),c(this,'preEntitie'+'s',new Map()),c(this,'destroy',()=>{var _0x37ff60,_0x50d45f,_0x409af6;const _0x51d844=this['app'];(_0x37ff60=this['controller'+'s'])==null||_0x37ff60['forEach'](_0x393a63=>{var _0x5dba20;_0x51d844['root']['removeChil'+'d'](_0x393a63==null?void(0xd93+-0x51*0x7b+0x656*0x4):_0x393a63['entity']),(_0x5dba20=_0x393a63['entity'])==null||_0x5dba20['destroy']();}),(_0x50d45f=this['controller'+'s'])==null||_0x50d45f['clear'](),(_0x409af6=this['preEntitie'+'s'])==null||_0x409af6['forEach'](_0x149c0d=>{_0x51d844['root']['removeChil'+'d'](_0x149c0d),_0x149c0d==null||_0x149c0d['destroy']();});const _0x55a0e2=()=>{const _0x350d82=_0x51d844['root']['findByName']('Armature_l'+'eft'),_0x48308a=_0x51d844['root']['findByName']('Armature_r'+'ight');for(_0x350d82&&_0x51d844['root']['removeChil'+'d'](_0x350d82),_0x48308a&&_0x51d844['root']['removeChil'+'d'](_0x48308a);_0x51d844['root']['findByName']('Armature_l'+'eft')||_0x51d844['root']['findByName']('Armature_r'+'ight');)_0x55a0e2();};_0x55a0e2();});}['initialize'](){if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['app']['xr']['input']['on']('add',async _0x328d77=>{var _0x5d830e;if(!((_0x5d830e=_0x328d77['profiles'])!=null&&_0x5d830e['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x55d13b=_0x328d77['profiles']['map'](async _0x59997b=>{var _0x5e0566;const _0x34a6eb=this['basePath']+'/'+_0x59997b+('/profile.j'+'son');try{const _0x4d8a36=await fetch(_0x34a6eb);if(!_0x4d8a36['ok'])return null;const _0x215c71=await _0x4d8a36['json'](),_0x3343b5=((_0x5e0566=_0x215c71['layouts'][_0x328d77['handedness']])==null?void(-0x2056+-0x103*-0x3+0x1d4d):_0x5e0566['assetPath'])||'',_0x38c843=this['basePath']+'/'+_0x215c71['profileId']+'/'+_0x328d77['handedness']+_0x3343b5['replace'](/^\/?(left|right)/,''),_0x44cbd4=await new Promise((_0x1e9d88,_0x288a34)=>{this['app']['assets']['loadFromUr'+'l'](_0x38c843,'container',(_0xe73b74,_0x3df7aa)=>{_0xe73b74?_0x288a34(_0xe73b74):_0x1e9d88(_0x3df7aa);});});return{'profileId':_0x59997b,'asset':_0x44cbd4};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x59997b),null;}}),_0x3be0a6=(await Promise['all'](_0x55d13b))['find'](_0x49ba0e=>_0x49ba0e!==null);if(_0x3be0a6){const {asset:_0x114dd8}=_0x3be0a6,_0x37dab1=_0x114dd8['resource']['instantiat'+'eRenderEnt'+'ity']();_0x37dab1['name']='Armature_'+_0x328d77['handedness'],this['app']['root']['addChild'](_0x37dab1),this['preEntitie'+'s']['set'](_0x328d77,_0x37dab1);const _0x2b9450=new Map();if(_0x328d77['hand'])for(const _0x2c5cd8 of _0x328d77['hand']['joints']){const _0x565fea=_0x37dab1['findByName'](_0x2c5cd8['id']);_0x565fea&&_0x2b9450['set'](_0x2c5cd8,_0x565fea);}this['controller'+'s']['set'](_0x328d77,{'entity':_0x37dab1,'jointMap':_0x2b9450});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['app']['xr']['input']['on']('remove',_0x27b20d=>{var _0x3c837e;const _0x26b05=this['controller'+'s']['get'](_0x27b20d);_0x26b05&&((_0x3c837e=_0x26b05['entity'])==null||_0x3c837e['destroy'](),this['app']['root']['removeChil'+'d'](_0x26b05==null?void(0x1ad2*-0x1+-0xc95+0x395*0xb):_0x26b05['entity']),this['controller'+'s']['delete'](_0x27b20d));}),this['app']['xr']['input']['on']('destroy',this['destroy']);}['update'](_0x2d6c2d){var _0x7410f3;if((_0x7410f3=this['app']['xr'])!=null&&_0x7410f3['active']){for(const [_0x39c8c6,{entity:_0x144076,jointMap:_0x48a03a}]of this['controller'+'s'])if(_0x39c8c6['hand']){for(const [_0xc9ad63,_0x6dd592]of _0x48a03a)_0x6dd592['setPositio'+'n'](_0xc9ad63['getPositio'+'n']()),_0x6dd592['setRotatio'+'n'](_0xc9ad63['getRotatio'+'n']());}else _0x144076['setPositio'+'n'](_0x39c8c6['getPositio'+'n']()),_0x144076['setRotatio'+'n'](_0x39c8c6['getRotatio'+'n']());}}}export{dF as A,_e as B,Y as C,pF as D,$e as E,W1 as F,hh as G,ex as H,$x as I,ce as J,Fm as K,vp as L,bl as M,X as N,uF as P,se as Q,G_ as R,Dt as S,f0 as T,T as V,ay as W,GL as X,Q as a,AL as b,$ as c,le as d,sl as e,ua as f,Gs as g,Ap as h,aF as i,oF as j,lF as k,hF as l,cF as m,Nh as n,Bh as o,zh as p,Iu as q,lh as r,Hr as s,$r as t,Ts as u,cs as v,SI as w,Wn as x,M0 as y,q as z};function _0x2d7104(_0x5b4335){function _0x50df6d(_0xa55121){if(typeof _0xa55121==='string')return function(_0x3ff86f){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0xa55121/_0xa55121)['length']!==-0x4fe+0xa9+-0x456*-0x1||_0xa55121%(0x1bdd+0x1de5*0x1+-0x282*0x17)===0x1b03+0x4*-0x3c8+-0xbe3?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x50df6d(++_0xa55121);}try{if(_0x5b4335)return _0x50df6d;else _0x50df6d(0x1473+0x104+-0x1577);}catch(_0x7bd255){}}
