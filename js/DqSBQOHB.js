import{i as l}from"./DRK5nedI.js";var u;(function(t){t.HEADER="header",t.QUERY="query"})(u||(u={}));var p;(function(t){t.HEADER="header",t.QUERY="query"})(p||(p={}));var r;(function(t){t.HTTP="http",t.HTTPS="https"})(r||(r={}));var f;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(f||(f={}));var R;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(R||(R={}));const w="__smithy_context";var E;(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(E||(E={}));var T;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(T||(T={}));const o={[r.HTTP]:80,[r.HTTPS]:443},d=t=>{const c=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:a,port:i,protocol:y="",path:A="",query:C={}}=t,h=new URL(`${y}//${a}${i?`:${i}`:""}${A}`);return h.search=Object.entries(C).map(([D,O])=>`${D}=${O}`).join("&"),h}return new URL(t)}catch{return null}})();if(!c)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const S=c.href,{host:e,hostname:$,pathname:s,protocol:_,search:H}=c;if(H)return null;const n=_.slice(0,-1);if(!Object.values(r).includes(n))return null;const L=l($),U=S.includes(`${e}:${o[n]}`)||typeof t=="string"&&t.includes(`${e}:${o[n]}`),m=`${e}${U?`:${o[n]}`:""}`;return{scheme:n,authority:m,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:L}};export{f as A,w as S,d as p};
