const _0x1657e=(function(){let _0x33b859=!![];return function(_0x539ec4,_0x33afae){const _0x212f9b=_0x33b859?function(){if(_0x33afae){const _0x23493f=_0x33afae['apply'](_0x539ec4,arguments);return _0x33afae=null,_0x23493f;}}:function(){};return _0x33b859=![],_0x212f9b;};}()),_0x38da61=_0x1657e(this,function(){return _0x38da61['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x38da61)['search']('(((.+)+)+)'+'+$');});_0x38da61();const _0x3a5dff=(function(){let _0x4f9f14=!![];return function(_0x48158e,_0x405a65){const _0xc44023=_0x4f9f14?function(){if(_0x405a65){const _0x59c22e=_0x405a65['apply'](_0x48158e,arguments);return _0x405a65=null,_0x59c22e;}}:function(){};return _0x4f9f14=![],_0xc44023;};}());(function(){_0x3a5dff(this,function(){const _0x4ef7c0=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x44e598=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x538a44=_0xe92fde('init');!_0x4ef7c0['test'](_0x538a44+'chain')||!_0x44e598['test'](_0x538a44+'input')?_0x538a44('0'):_0xe92fde();})();}());const _0x19e0d9=(function(){let _0x164bd0=!![];return function(_0x356dc1,_0x5346bc){const _0x30c795=_0x164bd0?function(){if(_0x5346bc){const _0x56748c=_0x5346bc['apply'](_0x356dc1,arguments);return _0x5346bc=null,_0x56748c;}}:function(){};return _0x164bd0=![],_0x30c795;};}()),_0x20f174=_0x19e0d9(this,function(){let _0x3fd53c;try{const _0x1a5bf1=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x3fd53c=_0x1a5bf1();}catch(_0x1ef6ff){_0x3fd53c=window;}const _0x2278a1=_0x3fd53c['console']=_0x3fd53c['console']||{},_0x2bd852=['log','warn','info','error','exception','table','trace'];for(let _0x115524=-0x1*0xee6+-0xd1a+0x1c00;_0x115524<_0x2bd852['length'];_0x115524++){const _0x470867=_0x19e0d9['constructo'+'r']['prototype']['bind'](_0x19e0d9),_0x58e86f=_0x2bd852[_0x115524],_0x163455=_0x2278a1[_0x58e86f]||_0x470867;_0x470867['__proto__']=_0x19e0d9['bind'](_0x19e0d9),_0x470867['toString']=_0x163455['toString']['bind'](_0x163455),_0x2278a1[_0x58e86f]=_0x470867;}});_0x20f174();var qx=Object['defineProp'+'erty'],Xx=(_0x40c16f,_0x230adb,_0x379922)=>_0x230adb in _0x40c16f?qx(_0x40c16f,_0x230adb,{'enumerable':!(-0x22*-0x78+0x689*0x4+-0x2a14),'configurable':!(0x935*-0x1+0x1ef6+-0x1*0x15c1),'writable':!(0x26b*0x7+0xba3+-0x1c90),'value':_0x379922}):_0x40c16f[_0x230adb]=_0x379922,c=(_0x40cbb4,_0x1713c2,_0x33a391)=>Xx(_0x40cbb4,typeof _0x1713c2!='symbol'?_0x1713c2+'':_0x1713c2,_0x33a391);const jx='RenderFram'+'e',td='RenderFram'+'eTime',jp='RenderPass',Jn='RenderPass'+'Detail',pl='RenderActi'+'on',Yp='RenderTarg'+'etAlloc',Kp='TextureAll'+'oc',Zp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Ss='Element',tS='Textures',ml='GpuTimings',no='$_CURRENT_'+'SDK_VERSIO'+'N',sy='$_CURRENT_'+'SDK_REVISI'+'ON';function vh(_0x206cac,_0x204553){for(const _0xb69971 in _0x204553){const _0x331291=_0x204553[_0xb69971];Array['isArray'](_0x331291)?_0x206cac[_0xb69971]=vh([],_0x331291):_0x331291&&typeof _0x331291=='object'?_0x206cac[_0xb69971]=vh({},_0x331291):_0x206cac[_0xb69971]=_0x331291;}return _0x206cac;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x15110f=>{const _0x53dc89=Math['random']()*(0x9cf+-0x2134+-0x1*-0x1775)|-0x1*-0x1466+-0x2*-0x1175+-0x4*0xdd4;return(_0x15110f==='x'?_0x53dc89:_0x53dc89&0x986+-0x13*0xa7+-0x7b*-0x6|0x8*0x4a+0x5*-0x4ca+0x15aa)['toString'](0x2037+0x1c1e+-0x25*0x1a1);});}},fe={'delimiter':'/','join'(..._0x2ff494){let _0x94c715=_0x2ff494[-0x281*0x7+-0x878+-0x25d*-0xb];for(let _0x4b2d39=0x88a+-0xe4c+-0xb*-0x86;_0x4b2d39<_0x2ff494['length']-(-0x842+0x6*0x1bf+0x51*-0x7);_0x4b2d39++){const _0x4be6cc=_0x2ff494[_0x4b2d39],_0x35f99b=_0x2ff494[_0x4b2d39+(0x5*0x713+-0xa6*-0x21+-0x4bb*0xc)];if(_0x35f99b[0x185+-0x861+0x6dc]===fe['delimiter']){_0x94c715=_0x35f99b;continue;}_0x4be6cc&&_0x35f99b&&_0x4be6cc[_0x4be6cc['length']-(-0x2204+-0x3ee+0x25f3)]!==fe['delimiter']&&_0x35f99b[0x555+0x18cd+-0xe*0x227]!==fe['delimiter']?_0x94c715+=fe['delimiter']+_0x35f99b:_0x94c715+=_0x35f99b;}return _0x94c715;},'normalize'(_0x5bdd95){const _0x29faf9=_0x5bdd95['startsWith'](fe['delimiter']),_0x5a4ee9=_0x5bdd95['endsWith'](fe['delimiter']),_0x469bc9=_0x5bdd95['split']('/');let _0x270d99='',_0x20dea4=[];for(let _0x113102=-0x1da7+-0x1*-0xd39+0x3*0x57a;_0x113102<_0x469bc9['length'];_0x113102++)if(_0x469bc9[_0x113102]!==''&&_0x469bc9[_0x113102]!=='.'){if(_0x469bc9[_0x113102]==='..'&&_0x20dea4['length']>0x71a+0x1*0x1d27+-0x2441){_0x20dea4=_0x20dea4['slice'](0x1ffa+-0x4c6*0x4+-0xce2,_0x20dea4['length']-(-0x3da+0x2710+-0x2334));continue;}_0x113102>0xb*0xad+-0x267+-0x508*0x1&&_0x20dea4['push'](fe['delimiter']),_0x20dea4['push'](_0x469bc9[_0x113102]);}return _0x270d99=_0x20dea4['join'](''),!_0x29faf9&&_0x270d99[0x15ec+0x2*-0x623+-0x9a6]===fe['delimiter']&&(_0x270d99=_0x270d99['slice'](-0x1d9c*0x1+-0x1e8d+0x3c2a)),_0x5a4ee9&&_0x270d99[_0x270d99['length']-(-0xb39+-0x49*-0x23+0x13f)]!==fe['delimiter']&&(_0x270d99+=fe['delimiter']),_0x270d99;},'split'(_0x1a3b25){const _0x233c79=_0x1a3b25['lastIndexO'+'f'](fe['delimiter']);return _0x233c79!==-(0x3*-0x64b+-0x15*0x175+-0x1*-0x317b)?[_0x1a3b25['substring'](-0x3b4*-0x1+-0x236b+-0x1*-0x1fb7,_0x233c79),_0x1a3b25['substring'](_0x233c79+(0x3*0xc79+0x1b4e*0x1+-0x4*0x102e))]:['',_0x1a3b25];},'getBasename'(_0x6636fc){return fe['split'](_0x6636fc)[-0x132f*0x1+-0x23fd+-0xb09*-0x5];},'getDirectory'(_0x2b4744){return fe['split'](_0x2b4744)[-0x2*0x304+-0x1175+-0x7*-0x35b];},'getExtension'(_0xe6c5c9){const _0x1736c3=_0xe6c5c9['split']('?')[-0x11cf+-0x22*0x1+0x3*0x5fb]['split']('.')['pop']();return _0x1736c3!==_0xe6c5c9?'.'+_0x1736c3:'';},'isRelativePath'(_0x5e6366){return _0x5e6366['charAt'](-0x1a5c+0x1940+0x11c*0x1)!=='/'&&_0x5e6366['match'](/:\/\//)===null;},'extractPath'(_0x5767c5){let _0x2bb630='';const _0x28e854=_0x5767c5['split']('/');let _0x2fe34b=-0x69f*-0x4+0x25c1+-0x403d*0x1;if(_0x28e854['length']>-0xbdf*-0x1+0x88c+-0x3*0x6ce){if(fe['isRelative'+'Path'](_0x5767c5)){if(_0x28e854[0x93c+0x359+-0xc95]==='.'){for(_0x2fe34b=-0x1c56+0x2*0xa12+-0x832*-0x1;_0x2fe34b<_0x28e854['length']-(-0x8cd*-0x1+-0x76*-0x3f+0xa7*-0x3a);++_0x2fe34b)_0x2bb630+=_0x2fe34b===-0x7cd+-0x2443+0x2c10?_0x28e854[_0x2fe34b]:'/'+_0x28e854[_0x2fe34b];}else{if(_0x28e854[-0x2c*-0xce+-0xeb*-0x1b+0x3c31*-0x1]==='..'){for(_0x2fe34b=-0x3*0x379+0x1e21*0x1+0x13b6*-0x1;_0x2fe34b<_0x28e854['length']-(-0x1a8b+0x4d0+0x15bc);++_0x2fe34b)_0x2bb630+=_0x2fe34b===-0xa*-0x89+-0x1e2f*-0x1+-0x1*0x2389?_0x28e854[_0x2fe34b]:'/'+_0x28e854[_0x2fe34b];}else{for(_0x2bb630='.',_0x2fe34b=-0x151*0x13+0xc9+0x183a;_0x2fe34b<_0x28e854['length']-(-0x1*-0x1b0f+0x4eb*-0x1+0x1*-0x1623);++_0x2fe34b)_0x2bb630+='/'+_0x28e854[_0x2fe34b];}}}else{for(_0x2fe34b=0x1287*0x1+0xc8*0x1d+-0xd*0x32b;_0x2fe34b<_0x28e854['length']-(0x35*0x2d+0x4*-0x928+0x1b50);++_0x2fe34b)_0x2bb630+=_0x2fe34b===0x3ee*-0x7+0xa92+0x10f0?_0x28e854[_0x2fe34b]:'/'+_0x28e854[_0x2fe34b];}}return _0x2bb630;}},iS=()=>{let _0x174347=!(0xd3*-0xa+-0x23e0+0x2c1f);try{const _0x4ab402=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x174347=!(0xb*0xdf+-0x2020+-0x1*-0x168b),!(-0x252f+-0x27a*0x7+0x3686*0x1);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x4ab402),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x4ab402);}catch{}return _0x174347;},xi=typeof navigator<'u'?navigator['userAgent']:'',bh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Qp=/android/i['test'](xi)?'android':/ip(?:[ao]d|hone)/i['test'](xi)?'ios':/windows/i['test'](xi)?'windows':/mac os/i['test'](xi)?'osx':/linux/i['test'](xi)?'linux':/cros/i['test'](xi)?'cros':null,rS=bh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](xi)?'chrome':/Safari\//['test'](xi)?'safari':/Firefox\//['test'](xi)?'firefox':'other',nS=bh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x2*-0xb3e+-0x103f*-0x1+0x63d),aS=iS(),ye={'name':Qp,'browser':bh==='browser','worker':bh==='worker','android':Qp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},iy='abcdefghij'+'klmnopqrst'+'uvwxyz',ry='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=iy+ry,ou=0x6df7*-0x1+0x1*0xfac1+0x1*0x4b36,ny=-0x19fee*0x1+0x1*0x88f9+0x1f2f4,Jp=0x1489d+0x13a72+-0x1*0x1a70f,lS=0x14024+0x8a88+0xeaad*-0x1,hS=-0x1230+-0x134f+0x458c,em=0x16ec8+0x2*-0x1857a+0x38e12,tm=0x2f7de+0x1cc5*0x5+-0x195b8,cS=-0x2045d+0x2*0x18edd+0x6d4f*0x2,dS=0x606f+0x1*0xe191+0xb1ff,uS=-0x3989+0x37ef+0x226a,fS=0x1627*0x1+0x14cf+-0x9f7*0x1,lu=-0x7a9*-0x6+0x5492*-0x1+0x133*0xf4,hu=-0xcd2d+-0x9605*-0x1+0x13537;function cu(_0x1b8609,_0x889c34=0x1288*-0x2+0x737*0x1+0x1dd9){const _0x25acef=_0x1b8609['length'];if(_0x889c34<0x5fc*0x2+-0x1bff+0x1007||_0x889c34>=_0x25acef)return null;const _0x28f90d=_0x1b8609['charCodeAt'](_0x889c34);if(_0x25acef>0x44*0x4b+0x6ba*-0x1+-0xd31&&_0x28f90d>=ou&&_0x28f90d<=ny){const _0xb6cee9=_0x1b8609['charCodeAt'](_0x889c34+(0x7*0x397+0x3*-0x8bd+0x117));if(_0xb6cee9>=Jp&&_0xb6cee9<=lS)return{'code':(_0x28f90d-ou)*(-0x4*0x43f+0x2*0xa4e+0x18*0x4)+_0xb6cee9-Jp+(-0xd*0x1de4+0x1babf+0xc9d5*0x1),'long':!(0x1b*-0x10e+0x1*-0x20f+0x1e89*0x1)};}return{'code':_0x28f90d,'long':!(0x2407+-0x2*0x1079+-0x314)};}function Xi(_0x37f105,_0x5b85b6,_0x5c176d){if(!_0x37f105)return!(0x2b*-0x47+0x1*-0xab9+0x16a7);const _0x17bfa7=cu(_0x37f105);if(_0x17bfa7){const _0x189062=_0x17bfa7['code'];return _0x189062>=_0x5b85b6&&_0x189062<=_0x5c176d;}return!(0xb67*0x1+0x1af1+-0x2657*0x1);}function pS(_0x579f85,_0x3687ce){if(_0x3687ce===_0x579f85['length']-(0x1d40+-0x47*0x7f+0x55*0x12))return-0x2d9*0x6+-0x8f*0x30+0x2be7;if(Xi(_0x579f85[_0x3687ce],ou,ny)){const _0x35e26a=_0x579f85['substring'](_0x3687ce,_0x3687ce+(-0x1763*0x1+0x1538+0x22d)),_0x7ad569=_0x579f85['substring'](_0x3687ce+(-0x1cd*-0x6+0x167*-0xb+0x4a1),_0x3687ce+(-0x16b0+-0x591+0x1c45));return Xi(_0x7ad569,cS,dS)||Xi(_0x35e26a,em,tm)&&Xi(_0x7ad569,em,tm)?0xabd+0xf13*0x2+-0x28df:Xi(_0x7ad569,lu,hu)?0x1184+0xad9*-0x1+-0x6a8:0x3b*-0x2c+0x1b08+0x10e2*-0x1;}return Xi(_0x579f85[_0x3687ce+(0x144a+0x5f9+-0x1a42)],lu,hu)?0x14c5+-0x2580+-0x10bd*-0x1:0x1a64+0xfcf+0xb*-0x3d6;}const ah={'ASCII_LOWERCASE':iy,'ASCII_UPPERCASE':ry,'ASCII_LETTERS':oS,'format'(_0xa1d32c,..._0x2e1794){for(let _0x1b341a=0x1863*-0x1+0x7dc*-0x2+0x281b;_0x1b341a<_0x2e1794['length'];_0x1b341a++)_0xa1d32c=_0xa1d32c['replace']('{'+_0x1b341a+'}',_0x2e1794[_0x1b341a]);return _0xa1d32c;},'getCodePoint'(_0xbe3ea6,_0x10460b){const _0x5c5b3b=cu(_0xbe3ea6,_0x10460b);return _0x5c5b3b&&_0x5c5b3b['code'];},'getCodePoints'(_0x232ada){if(typeof _0x232ada!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x48f828=0x4*0x9c2+-0xb*0x24b+-0x7*0x1f9;const _0x5ebfdd=[];let _0x110757;for(;_0x110757=cu(_0x232ada,_0x48f828);)_0x5ebfdd['push'](_0x110757['code']),_0x48f828+=_0x110757['long']?0xc67+0xf8*-0x13+0x603:-0x1e80+0x3*-0xb82+0x4107;return _0x5ebfdd;},'getSymbols'(_0x3b1367){if(typeof _0x3b1367!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0xdb937=0xf*-0x17+0xe4a+-0xcf1;const _0xafbad=_0x3b1367['length'],_0x3d3c6b=[];let _0x9b19e4=0xb6+0x519+-0x5cf,_0x567f13;for(;_0xdb937<_0xafbad;){if(_0x9b19e4+=pS(_0x3b1367,_0xdb937+_0x9b19e4),_0x567f13=_0x3b1367[_0xdb937+_0x9b19e4],Xi(_0x567f13,uS,fS)&&(_0x567f13=_0x3b1367[_0xdb937+_0x9b19e4++]),Xi(_0x567f13,lu,hu)&&(_0x567f13=_0x3b1367[_0xdb937+_0x9b19e4++]),_0x567f13&&_0x567f13['charCodeAt'](-0x2447+-0x1c43+0x408a*0x1)===hS){_0x567f13=_0x3b1367[_0xdb937+_0x9b19e4++];continue;}const _0x5ce9be=_0x3b1367['substring'](_0xdb937,_0xdb937+_0x9b19e4);_0x3d3c6b['push'](_0x5ce9be),_0xdb937+=_0x9b19e4,_0x9b19e4=-0x227d+-0x29c+0x2519;}return _0x3d3c6b;},'fromCodePoint'(){const _0xe9fff1=[];let _0x4dc97f,_0x3bb639,_0x39fe7b;for(let _0x4b8167=-0xb4+-0x5*0x209+-0x1*-0xae1;_0x4b8167<arguments['length'];++_0x4b8167)_0x4dc97f=Number(arguments[_0x4b8167]),_0x3bb639=_0x4dc97f-(-0x2c3*0xa1+0x32*0x9c0+0xd523),_0x39fe7b=_0x4dc97f>-0xcb6b*-0x1+0x7c24+-0x4790?[(_0x3bb639>>-0x1c2+-0x22b3+0x247f)+(-0xb3ef+0x11f3*0x10+0x6cbf),_0x3bb639%(0x1e36*0x1+0xec+-0x1b22)+(0x1*0x1274c+0x45*-0x41+-0x7*0x841)]:[_0x4dc97f],_0xe9fff1['push'](String['fromCharCo'+'de']['apply'](null,_0x39fe7b));return _0xe9fff1['join']('');}},zr=class zr{static['set'](_0x9794ad,_0x8d466b=!(-0x1fa8+0x1c*0x7d+-0x4*-0x47f)){_0x8d466b?zr['_traceChan'+'nels']['add'](_0x9794ad):zr['_traceChan'+'nels']['delete'](_0x9794ad);}static['get'](_0x28767b){return zr['_traceChan'+'nels']['has'](_0x28767b);}};c(zr,'_traceChan'+'nels',new Set()),c(zr,'stack',!(-0x50e*0x4+0x12f7+0x2e*0x7));let Xs=zr;const bt=class bt{static['deprecated'](_0x4f2fe3){bt['_loggedMes'+'sages']['has'](_0x4f2fe3)||(bt['_loggedMes'+'sages']['add'](_0x4f2fe3),console['warn']('DEPRECATED'+':\x20'+_0x4f2fe3));}static['removed'](_0x3c3062){bt['_loggedMes'+'sages']['has'](_0x3c3062)||(bt['_loggedMes'+'sages']['add'](_0x3c3062),console['error']('REMOVED:\x20'+_0x3c3062));}static['assertDepr'+'ecated'](_0x4e8cd4,_0x1256d2){_0x4e8cd4||bt['deprecated'](_0x1256d2);}static['assert'](_0x3a0aea,..._0x317513){_0x3a0aea||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x317513);}static['assertDest'+'royed'](_0x354994){var _0x2eae70;if(_0x354994!=null&&_0x354994['__alreadyD'+'estroyed']){const _0x9ffbe5='['+((_0x2eae70=_0x354994['constructo'+'r'])==null?void(0x1885+0x1*-0xb2d+-0xe*0xf4):_0x2eae70['name'])+(']\x20with\x20nam'+'e\x20[')+_0x354994['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');bt['_loggedMes'+'sages']['has'](_0x9ffbe5)||(bt['_loggedMes'+'sages']['add'](_0x9ffbe5),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x9ffbe5,_0x354994));}}static['call'](_0x3ce32c){_0x3ce32c();}static['log'](..._0x4c3331){console['log'](..._0x4c3331);}static['logOnce'](_0x76820a,..._0x4faee0){bt['_loggedMes'+'sages']['has'](_0x76820a)||(bt['_loggedMes'+'sages']['add'](_0x76820a),console['log'](_0x76820a,..._0x4faee0));}static['warn'](..._0x3f78df){console['warn'](..._0x3f78df);}static['warnOnce'](_0x480b1d,..._0x157d71){bt['_loggedMes'+'sages']['has'](_0x480b1d)||(bt['_loggedMes'+'sages']['add'](_0x480b1d),console['warn'](_0x480b1d,..._0x157d71));}static['error'](..._0x384815){console['error'](..._0x384815);}static['errorOnce'](_0x14a5ce,..._0x1ba9c3){bt['_loggedMes'+'sages']['has'](_0x14a5ce)||(bt['_loggedMes'+'sages']['add'](_0x14a5ce),console['error'](_0x14a5ce,..._0x1ba9c3));}static['trace'](_0x4ebf5a,..._0xe88039){Xs['get'](_0x4ebf5a)&&(console['groupColla'+'psed'](_0x4ebf5a['padEnd'](0xfa3*0x1+0x2d3+0x16a*-0xd,'\x20')+'|',..._0xe88039),console['groupEnd']());}};c(bt,'_loggedMes'+'sages',new Set());let v=bt;class mn{static['setName'](_0x43dd7f,_0x5d50b2){_0x43dd7f&&(_0x43dd7f['name']=_0x5d50b2);}static['setLabel'](_0x53852b,_0x2e6071){_0x53852b&&(_0x53852b['label']=_0x2e6071);}static['setDestroy'+'ed'](_0xcb0d29){_0xcb0d29&&(_0xcb0d29['__alreadyD'+'estroyed']=!(0xe*-0x1bd+-0x65c+0x1eb2));}}class mS{constructor(_0x5b5bb4,_0x777ae,_0x56434b,_0x3b1afd,_0x6f6aa2=!(0x1ff2+0xb*0x1a5+-0x3208)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(0x216e+-0xc81+-0x14ec)),(this['handler']=_0x5b5bb4,this['name']=_0x777ae,this['callback']=_0x56434b,this['scope']=_0x3b1afd,this['_once']=_0x6f6aa2);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x31e6b8,_0x8a4bde,_0x25a98c=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x31e6b8,_0x8a4bde,_0x25a98c,!(0x1*0x1d5c+0x277*0x2+-0x2249));}['once'](_0x2f3f84,_0x34e69d,_0x2cda5e=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x2f3f84,_0x34e69d,_0x2cda5e,!(0x51*-0x13+-0x562*-0x6+0x8c3*-0x3));}set['removed'](_0x3a7018){_0x3a7018&&(this['_removed']=!(0x2*0xb45+-0x113e+0x71*-0xc));}get['removed'](){return this['_removed'];}}class ce{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x33ba68,_0x1ccdaf,_0x49e18f,_0x452279){if((!_0x33ba68||typeof _0x33ba68!='string'||!_0x1ccdaf)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x33ba68+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x1ccdaf),this['_callbacks']['has'](_0x33ba68)||this['_callbacks']['set'](_0x33ba68,[]),this['_callbackA'+'ctive']['has'](_0x33ba68)){const _0x2734be=this['_callbackA'+'ctive']['get'](_0x33ba68);_0x2734be&&_0x2734be===this['_callbacks']['get'](_0x33ba68)&&this['_callbackA'+'ctive']['set'](_0x33ba68,_0x2734be['slice']());}const _0x3da1c3=new mS(this,_0x33ba68,_0x1ccdaf,_0x49e18f,_0x452279);return this['_callbacks']['get'](_0x33ba68)['push'](_0x3da1c3),_0x3da1c3;}['on'](_0x2ec8fa,_0x4bdec2,_0xe69e15=this){return this['_addCallba'+'ck'](_0x2ec8fa,_0x4bdec2,_0xe69e15,!(0x1590+-0x1*0x1d36+-0x7a7*-0x1));}['once'](_0x27c097,_0x7396b5,_0x1339da=this){return this['_addCallba'+'ck'](_0x27c097,_0x7396b5,_0x1339da,!(0xa*0x323+0x93c+0x2*-0x144d));}['off'](_0x3315ad,_0xb304b0,_0x33f5d1){if(_0x3315ad)this['_callbackA'+'ctive']['has'](_0x3315ad)&&this['_callbackA'+'ctive']['get'](_0x3315ad)===this['_callbacks']['get'](_0x3315ad)&&this['_callbackA'+'ctive']['set'](_0x3315ad,this['_callbackA'+'ctive']['get'](_0x3315ad)['slice']());else{for(const [_0x8690e3,_0x284e42]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x8690e3)&&this['_callbacks']['get'](_0x8690e3)===_0x284e42&&this['_callbackA'+'ctive']['set'](_0x8690e3,_0x284e42['slice']());}if(_0x3315ad){if(_0xb304b0){const _0x6b6172=this['_callbacks']['get'](_0x3315ad);if(!_0x6b6172)return this;for(let _0x279a7f=-0x2f5+-0x38b*-0xb+-0x2404;_0x279a7f<_0x6b6172['length'];_0x279a7f++)_0x6b6172[_0x279a7f]['callback']===_0xb304b0&&(_0x33f5d1&&_0x6b6172[_0x279a7f]['scope']!==_0x33f5d1||(_0x6b6172[_0x279a7f]['removed']=!(0x2123+0x1cb2*0x1+-0x3dd5),_0x6b6172['splice'](_0x279a7f,-0x1b43+0xde7+0xb*0x137),_0x279a7f--));_0x6b6172['length']===-0x9ee+0x1059+-0x66b&&this['_callbacks']['delete'](_0x3315ad);}else{const _0x22d078=this['_callbacks']['get'](_0x3315ad);if(_0x22d078){for(let _0x534231=0x62*0x7+-0x21b2+0x1f04;_0x534231<_0x22d078['length'];_0x534231++)_0x22d078[_0x534231]['removed']=!(-0x25ad+0x1be*-0x2+-0x1*-0x2929);this['_callbacks']['delete'](_0x3315ad);}}}else{for(const _0x37dafc of this['_callbacks']['values']())for(let _0x2991ec=0x194*0x3+0xa9a+-0xd*0x12e;_0x2991ec<_0x37dafc['length'];_0x2991ec++)_0x37dafc[_0x2991ec]['removed']=!(0x1*-0x149d+0xdf9+-0x19*-0x44);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x8706c8){const _0x385abf=_0x8706c8['name'];_0x8706c8['removed']=!(0x143a+-0x1b21+0x6e7),this['_callbackA'+'ctive']['has'](_0x385abf)&&this['_callbackA'+'ctive']['get'](_0x385abf)===this['_callbacks']['get'](_0x385abf)&&this['_callbackA'+'ctive']['set'](_0x385abf,this['_callbackA'+'ctive']['get'](_0x385abf)['slice']());const _0x41b859=this['_callbacks']['get'](_0x385abf);if(!_0x41b859)return this;const _0x4bdf35=_0x41b859['indexOf'](_0x8706c8);return _0x4bdf35!==-(0x6*0x62f+0xb79+-0x3092*0x1)&&(_0x41b859['splice'](_0x4bdf35,0x1509+-0x2224+-0x4*-0x347),_0x41b859['length']===0x74*0x46+0xe8d+0x17*-0x203&&this['_callbacks']['delete'](_0x385abf)),this;}['fire'](_0x5317e5,_0x13dd24,_0x33ee6d,_0x506dfa,_0x44e818,_0x34eece,_0x12cd2b,_0x4d1c77,_0x5554ba){if(!_0x5317e5)return this;const _0x8463d7=this['_callbacks']['get'](_0x5317e5);if(!_0x8463d7)return this;let _0x30960f;this['_callbackA'+'ctive']['has'](_0x5317e5)?this['_callbackA'+'ctive']['get'](_0x5317e5)!==_0x8463d7&&(_0x30960f=_0x8463d7['slice']()):this['_callbackA'+'ctive']['set'](_0x5317e5,_0x8463d7);for(let _0x13f2c5=0x1c18+0x45*-0x43+-0xa09;(_0x30960f||this['_callbackA'+'ctive']['get'](_0x5317e5))&&_0x13f2c5<(_0x30960f||this['_callbackA'+'ctive']['get'](_0x5317e5))['length'];_0x13f2c5++){const _0x5987c8=(_0x30960f||this['_callbackA'+'ctive']['get'](_0x5317e5))[_0x13f2c5];if(_0x5987c8['callback']&&(_0x5987c8['callback']['call'](_0x5987c8['scope'],_0x13dd24,_0x33ee6d,_0x506dfa,_0x44e818,_0x34eece,_0x12cd2b,_0x4d1c77,_0x5554ba),_0x5987c8['_once'])){const _0x32bfcc=this['_callbacks']['get'](_0x5317e5),_0x2ffa9d=_0x32bfcc?_0x32bfcc['indexOf'](_0x5987c8):-(0x2*0xfa9+-0x2f*0x3b+-0x147c);if(_0x2ffa9d!==-(-0x226f+0xef9*0x1+0x67d*0x3)){this['_callbackA'+'ctive']['get'](_0x5317e5)===_0x32bfcc&&this['_callbackA'+'ctive']['set'](_0x5317e5,this['_callbackA'+'ctive']['get'](_0x5317e5)['slice']());const _0xd4de01=this['_callbacks']['get'](_0x5317e5);if(!_0xd4de01)continue;_0xd4de01[_0x2ffa9d]['removed']=!(-0x185*-0xd+0x1*-0x62b+-0xd96*0x1),_0xd4de01['splice'](_0x2ffa9d,0x1974+-0xfba+-0x83*0x13),_0xd4de01['length']===-0xcc7*0x3+0x1*0x26d3+-0x7e&&this['_callbacks']['delete'](_0x5317e5);}}}return _0x30960f||this['_callbackA'+'ctive']['delete'](_0x5317e5),this;}['hasEvent'](_0x2f9781){var _0x23a09f;return!!((_0x23a09f=this['_callbacks']['get'](_0x2f9781))!=null&&_0x23a09f['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x3cbca1,_0x50e9d1){if(this['_index'][_0x3cbca1])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x3cbca1);const _0x4a57f8=this['_list']['push'](_0x50e9d1)-(0x17*0xc4+-0x1121+-0x1*0x7a);this['_index'][_0x3cbca1]=_0x4a57f8;}['has'](_0x88b716){return this['_index'][_0x88b716]!==void(-0x14f4+0x228e+-0xd9a*0x1);}['get'](_0x148b97){const _0x14d5ee=this['_index'][_0x148b97];return _0x14d5ee!==void(0x2377+-0x1244+-0x1133)?this['_list'][_0x14d5ee]:null;}['remove'](_0x9d36f5){const _0x380d61=this['_index'][_0x9d36f5];if(_0x380d61!==void(-0x1*0x1af+0x99*0x30+-0x1b01)){this['_list']['splice'](_0x380d61,-0x85f+0x17dd+0x41*-0x3d),delete this['_index'][_0x9d36f5];for(_0x9d36f5 in this['_index']){const _0x32605f=this['_index'][_0x9d36f5];_0x32605f>_0x380d61&&(this['_index'][_0x9d36f5]=_0x32605f-(-0x15c7+-0x871*-0x3+-0x38b));}return!(-0x2279+-0x8*-0x70+0x1ef9);}return!(0x178a+0x2*-0x2fa+-0x1195);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x1af*0x7+0xf47*-0x2+0x1*0x12c5;for(const _0x3e3e9a in this['_index'])delete this['_index'][_0x3e3e9a];}}const gS=_0x464bd5=>{const _0x4d7322={};let _0x3998c4=_0x4d7322;return()=>(_0x3998c4===_0x4d7322&&(_0x3998c4=_0x464bd5()),_0x3998c4);},Ns=class Ns{static['loadScript'](_0x5d2aa3,_0x5aeba7){const _0x5c4fe5=document['createElem'+'ent']('script');_0x5c4fe5['setAttribu'+'te']('src',_0x5d2aa3),_0x5c4fe5['onload']=()=>{_0x5aeba7(null);},_0x5c4fe5['onerror']=()=>{_0x5aeba7('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x5d2aa3+'\x27');},document['body']['appendChil'+'d'](_0x5c4fe5);}static['loadWasm'](_0x324f6c,_0x52a8c5,_0x53d6bf){const _0x3b16dd=Ns['wasmSuppor'+'ted']()&&_0x52a8c5['glueUrl']&&_0x52a8c5['wasmUrl']?_0x52a8c5['glueUrl']:_0x52a8c5['fallbackUr'+'l'];_0x3b16dd?Ns['loadScript'](_0x3b16dd,_0x5d4870=>{if(_0x5d4870)_0x53d6bf(_0x5d4870,null);else{const _0x3b0fc9=window[_0x324f6c];window[_0x324f6c]=void(-0x1ec0+-0x2176*0x1+0x201b*0x2),_0x3b0fc9({'locateFile':()=>_0x52a8c5['wasmUrl'],'onAbort':()=>{_0x53d6bf('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x1e12f3=>{_0x53d6bf(null,_0x1e12f3);});}}):_0x53d6bf('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0xafcb20){return Ns['modules']['hasOwnProp'+'erty'](_0xafcb20)||(Ns['modules'][_0xafcb20]={'config':null,'initializing':!(-0x1*0x34d+-0x7ce+0x13c*0x9),'instance':null,'callbacks':[]}),Ns['modules'][_0xafcb20];}static['initialize'](_0xa8d259,_0x7ad366){if(_0x7ad366['initializi'+'ng'])return;const _0x440a9b=_0x7ad366['config'];(_0x440a9b['glueUrl']||_0x440a9b['wasmUrl']||_0x440a9b['fallbackUr'+'l'])&&(_0x7ad366['initializi'+'ng']=!(-0x11a7*-0x1+-0x1f48+0xda1),Ns['loadWasm'](_0xa8d259,_0x440a9b,(_0x4d835e,_0x495bab)=>{_0x4d835e?_0x440a9b['errorHandl'+'er']?_0x440a9b['errorHandl'+'er'](_0x4d835e):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0xa8d259+'\x20error='+_0x4d835e):(_0x7ad366['instance']=_0x495bab,_0x7ad366['callbacks']['forEach'](_0x45e8d0=>{_0x45e8d0(_0x495bab);}));}));}};c(Ns,'modules',{}),c(Ns,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x5786c1=new WebAssembly['Module'](Uint8Array['of'](0x14c3+0x6*-0x4fe+0x931,-0x7fd*-0x3+0x2e6+0x2a6*-0xa,0xb72+-0x26f9*-0x1+-0x31f8,0x1*-0x229+0x16*0x125+-0x1698,0x2292+0x1c7d+-0x3f0e*0x1,0x135b*0x2+-0x908*-0x2+0x56*-0xa9,-0x69b*0x1+-0x1d24+0x23bf,-0x20cb*-0x1+-0x7d+-0x204e));if(_0x5786c1 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x5786c1)instanceof WebAssembly['Instance'];}}catch{}return!(-0x1835*0x1+-0x284+-0x1aba*-0x1);}));let Br=Ns;class ay{static['setConfig'](_0x157369,_0x577669){const _0x1333ef=Br['getModule'](_0x157369);_0x1333ef['config']=_0x577669,_0x1333ef['callbacks']['length']>-0x3*-0x65a+-0x1be8+-0x16*-0x67&&Br['initialize'](_0x157369,_0x1333ef);}static['getConfig'](_0x3ab68d){var _0x5e81eb,_0x1c16ad;return(_0x1c16ad=(_0x5e81eb=Br['modules'])==null?void(0x618+0x15*0xfd+0x4f*-0x57):_0x5e81eb[_0x3ab68d])==null?void(-0x2*0x1ed+0x1c3*0x5+-0x4f5):_0x1c16ad['config'];}static['getInstanc'+'e'](_0x57a56c,_0x1b5f96){const _0x561755=Br['getModule'](_0x57a56c);_0x561755['instance']?_0x1b5f96(_0x561755['instance']):(_0x561755['callbacks']['push'](_0x1b5f96),_0x561755['config']&&Br['initialize'](_0x57a56c,_0x561755));}}class oy{constructor(_0x310426){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',0x18de*0x1+-0x151c+-0x3c2),(this['arraybuffe'+'r']=_0x310426,this['dataView']=new DataView(_0x310426));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x58d569=-0xda4*-0x2+-0xffb*-0x1+-0x8a7*0x5){this['offset']=_0x58d569;}['skip'](_0x7e15a4){this['offset']+=_0x7e15a4;}['align'](_0x3fe45e){this['offset']=this['offset']+_0x3fe45e-(0x6cc+0x2316+-0x47*0x97)&~(_0x3fe45e-(0xbd3*-0x2+-0x47*-0x1b+0x102a));}['_inc'](_0x3949ee){return this['offset']+=_0x3949ee,this['offset']-_0x3949ee;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x1894bd){let _0x504755='';for(let _0x26f002=-0xaa9+-0x3a6*0x8+0x27d9*0x1;_0x26f002<_0x1894bd;++_0x26f002)_0x504755+=this['readChar']();return _0x504755;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](0xc*-0x316+-0x12b*0x8+0x2e62),!(-0x145d+-0x2*-0x1331+-0x1205));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](0xf1b+-0x1214*0x1+0x2fd),!(0x1*-0x224d+-0x3d*-0x41+-0x8*-0x25a));}['readU64'](){return this['readU32']()+(0x3*0xbe1+-0x25d1+0x230)**(0x1114*-0x2+0x1*-0x85d+0x2aa5*0x1)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x1e69+0x2d*-0xa5+-0xb2*0x2),!(-0x1*-0xee3+-0xfd*0x17+0x7d9));}['readArray'](_0x4dd30b){for(let _0x4073d3=0x1*-0x128b+-0x1*-0x193f+-0xd*0x84;_0x4073d3<_0x4dd30b['length'];++_0x4073d3)_0x4dd30b[_0x4073d3]=this['readU8']();}['readLine'](){const _0x51398b=this['dataView'];let _0x41d92d='';for(;!(this['offset']>=_0x51398b['byteLength']);){const _0x1d1b03=String['fromCharCo'+'de'](this['readU8']());if(_0x1d1b03==='\x0a')break;_0x41d92d+=_0x1d1b03;}return _0x41d92d;}}class wh{constructor(_0x5e2804){c(this,'items',[]),c(this,'length',0x865*-0x1+0x7b6*0x2+-0x707),c(this,'loopIndex',-(0x1f29+0x2256+-0x417e)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x5e2804['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x1596f6){let _0x47ade1=0x9f*-0x13+-0x434+-0xf1*-0x11,_0x5336c0=this['items']['length']-(0x1253*-0x1+0x1c4c+0x8*-0x13f);const _0x5d04d4=_0x1596f6[this['_sortBy']];let _0x2679c1,_0x459756;for(;_0x47ade1<=_0x5336c0;)_0x2679c1=Math['floor']((_0x47ade1+_0x5336c0)/(0x10be*-0x1+-0x95c+-0x687*-0x4)),_0x459756=this['items'][_0x2679c1][this['_sortBy']],_0x459756<=_0x5d04d4?_0x47ade1=_0x2679c1+(-0x1ee*0x2+-0x1*0x1631+0x1a0e):_0x459756>_0x5d04d4&&(_0x5336c0=_0x2679c1-(0xe58+0xaf1+-0x1*0x1948));return _0x47ade1;}['_doSort'](_0x3a3be2,_0x38bcc4){const _0x2642f7=this['_sortBy'];return _0x3a3be2[_0x2642f7]-_0x38bcc4[_0x2642f7];}['insert'](_0x269e69){const _0x3f5a93=this['_binarySea'+'rch'](_0x269e69);this['items']['splice'](_0x3f5a93,-0xd73+0xa21+0x352,_0x269e69),this['length']++,this['loopIndex']>=_0x3f5a93&&this['loopIndex']++;}['append'](_0x4b5df6){this['items']['push'](_0x4b5df6),this['length']++;}['remove'](_0x2a2bd8){const _0x494ce4=this['items']['indexOf'](_0x2a2bd8);_0x494ce4<0x1f53+0x1*-0x20e5+0x192||(this['items']['splice'](_0x494ce4,0x2*0x79f+-0x169f+0x69*0x12),this['length']--,this['loopIndex']>=_0x494ce4&&this['loopIndex']--);}['sort'](){const _0x4e86f9=this['loopIndex']>=0xb*-0x14b+0xe*0x178+0x1*-0x657?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x4e86f9!==null&&(this['loopIndex']=this['items']['indexOf'](_0x4e86f9));}}class po extends ce{constructor(_0x10d737){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x10d737;}['add'](..._0x29f31a){let _0x114d03=!(-0x286*0x5+-0x1*0x2093+-0x59*-0x82);const _0x346c22=this['_processAr'+'guments'](_0x29f31a,!(0x1383+-0x7*0x141+0xc*-0xe5));if(!_0x346c22['length'])return _0x114d03;for(let _0x48f124=0x110e+0x2*0x5e0+-0x1cce;_0x48f124<_0x346c22['length'];_0x48f124++)this['_index'][_0x346c22[_0x48f124]]||(_0x114d03=!(0x1f90+0x9d*0x2e+-0x1de3*0x2),this['_index'][_0x346c22[_0x48f124]]=!(-0x975+-0x4*0xde+-0xced*-0x1),this['_list']['push'](_0x346c22[_0x48f124]),this['fire']('add',_0x346c22[_0x48f124],this['_parent']));return _0x114d03&&this['fire']('change',this['_parent']),_0x114d03;}['remove'](..._0xc97b30){let _0x494540=!(0x243f+-0xd79+-0x16c5);if(!this['_list']['length'])return _0x494540;const _0xbaee9d=this['_processAr'+'guments'](_0xc97b30,!(0x81*0x33+0x3*-0x137+-0x160e));if(!_0xbaee9d['length'])return _0x494540;for(let _0x2918b9=-0x1*-0xe82+-0x3*0x904+-0x6*-0x217;_0x2918b9<_0xbaee9d['length'];_0x2918b9++)this['_index'][_0xbaee9d[_0x2918b9]]&&(_0x494540=!(-0x4ca+0x1533+0x1069*-0x1),delete this['_index'][_0xbaee9d[_0x2918b9]],this['_list']['splice'](this['_list']['indexOf'](_0xbaee9d[_0x2918b9]),-0x1*0x20bc+-0x2530+0x45ed),this['fire']('remove',_0xbaee9d[_0x2918b9],this['_parent']));return _0x494540&&this['fire']('change',this['_parent']),_0x494540;}['clear'](){if(!this['_list']['length'])return;const _0x15aabc=this['_list']['slice'](0xde1+-0x2216*-0x1+-0x1*0x2ff7);this['_list']=[],this['_index']={};for(let _0x2c5c03=-0x1bf5+0x6ff*0x1+0x14f6;_0x2c5c03<_0x15aabc['length'];_0x2c5c03++)this['fire']('remove',_0x15aabc[_0x2c5c03],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x3c4df6){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x3c4df6)):!(0x20c7+-0x1cde+0x32*-0x14);}['_has'](_0x4c2319){if(!this['_list']['length']||!_0x4c2319['length'])return!(-0x5d4+-0x247b*-0x1+-0x1ea6*0x1);for(let _0x3675fa=0xe72*0x1+0x104c+-0x5*0x626;_0x3675fa<_0x4c2319['length'];_0x3675fa++)if(_0x4c2319[_0x3675fa]['length']===-0x26*-0xcb+-0x2319+-0x6a*-0xc){if(this['_index'][_0x4c2319[_0x3675fa][-0x1df2+0x1*-0x16ed+0x34df]])return!(-0xd5*0x2b+0x14ea+0xedd);}else{let _0x1491a5=!(-0xed0+0x25c1+-0x16f1);for(let _0x191be9=-0x1e7*0xa+0x1*-0xef9+0x21ff*0x1;_0x191be9<_0x4c2319[_0x3675fa]['length'];_0x191be9++)if(!this['_index'][_0x4c2319[_0x3675fa][_0x191be9]]){_0x1491a5=!(0x125e+-0x112f+-0x12e);break;}if(_0x1491a5)return!(0x12d*0x11+0x48d*0x4+-0x2631);}return!(-0x101*-0xe+0x11cb+-0x1fd8);}['list'](){return this['_list']['slice'](0x1a3e+0x21*0x67+-0x2785);}['_processAr'+'guments'](_0x1fae47,_0x517684){const _0x5269d3=[];let _0x3d6e2b=[];if(!_0x1fae47||!_0x1fae47['length'])return _0x5269d3;for(let _0x1537c2=0x5*-0x685+0x29a*0xf+0x23*-0x2f;_0x1537c2<_0x1fae47['length'];_0x1537c2++)if(_0x1fae47[_0x1537c2]instanceof Array){_0x517684||(_0x3d6e2b=[]);for(let _0x5b6faf=-0x583*-0x4+-0x5*0x371+0x3*-0x19d;_0x5b6faf<_0x1fae47[_0x1537c2]['length'];_0x5b6faf++)typeof _0x1fae47[_0x1537c2][_0x5b6faf]=='string'&&(_0x517684?_0x5269d3['push'](_0x1fae47[_0x1537c2][_0x5b6faf]):_0x3d6e2b['push'](_0x1fae47[_0x1537c2][_0x5b6faf]));!_0x517684&&_0x3d6e2b['length']&&_0x5269d3['push'](_0x3d6e2b);}else typeof _0x1fae47[_0x1537c2]=='string'&&(_0x517684?_0x5269d3['push'](_0x1fae47[_0x1537c2]):_0x5269d3['push']([_0x1fae47[_0x1537c2]]));return _0x5269d3;}get['size'](){return this['_list']['length'];}}c(po,'EVENT_ADD','add'),c(po,'EVENT_REMO'+'VE','remove'),c(po,'EVENT_CHAN'+'GE','change');const ne=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class sd{constructor(_0xa57954){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x31f4e3=_0xa57954['match'](yS);this['scheme']=_0x31f4e3[-0x493*0x1+-0x6e9+0xb7e],this['authority']=_0x31f4e3[-0x6d*-0x2b+0x13ff+-0x264a],this['path']=_0x31f4e3[0x15*-0x181+0x616+0x1984],this['query']=_0x31f4e3[0x1402*-0x1+0x6*-0xfd+0x1*0x19f7],this['fragment']=_0x31f4e3[-0x1d1c+0x9*0x2c0+0x7d*0x9];}['toString'](){let _0x339593='';return this['scheme']&&(_0x339593+=this['scheme']+':'),this['authority']&&(_0x339593+='//'+this['authority']),_0x339593+=this['path'],this['query']&&(_0x339593+='?'+this['query']),this['fragment']&&(_0x339593+='#'+this['fragment']),_0x339593;}['getQuery'](){const _0x37bb62={};if(this['query']){const _0x2c63b6=decodeURIComponent(this['query'])['split']('&');for(const _0x549858 of _0x2c63b6){const _0x38c16d=_0x549858['split']('=');_0x37bb62[_0x38c16d[0x1724+0x17f*-0x5+-0xfa9]]=_0x38c16d[0x1670+0x1e85*0x1+-0x34f4];}}return _0x37bb62;}['setQuery'](_0x1ed47f){let _0x2899f5='';for(const _0xcca9e3 in _0x1ed47f)_0x1ed47f['hasOwnProp'+'erty'](_0xcca9e3)&&(_0x2899f5!==''&&(_0x2899f5+='&'),_0x2899f5+=encodeURIComponent(_0xcca9e3)+'='+encodeURIComponent(_0x1ed47f[_0xcca9e3]));this['query']=_0x2899f5;}}const xS=0xa03+0x5a7+-0x191*0xa,Df=0xb5a*0x3+0x2146*-0x1+-0xc7,sm=-0x24fd+-0x12b9+-0x2*-0x1bdd,SS=-0x1*0x215+0x89+0x191,N={'DEG_TO_RAD':Math['PI']/(0x10*-0x1b1+-0x2265+0x3e29),'RAD_TO_DEG':(0xbbc+0x2157+0x25*-0x133)/Math['PI'],'clamp'(_0x18bf81,_0x44c42c,_0x233df9){return _0x18bf81>=_0x233df9?_0x233df9:_0x18bf81<=_0x44c42c?_0x44c42c:_0x18bf81;},'intToBytes24'(_0x16e9db){const _0x46f412=_0x16e9db>>-0x252b*0x1+0x1e8f+0x6ac&0x6a9+-0xc0a+0x660,_0x50dff5=_0x16e9db>>0x8ac+0x12d*0xb+-0x15*0x107&-0x69*0xf+0xa33+-0x30d,_0x2dc3a1=_0x16e9db&-0x1d08+-0x15c7+0x2*0x19e7;return[_0x46f412,_0x50dff5,_0x2dc3a1];},'intToBytes32'(_0xb854bc){const _0x1f2e2a=_0xb854bc>>0x2a*-0x11+0x1f18+-0x1c36&-0x262a+-0x1*-0x1212+-0x1517*-0x1,_0x45da23=_0xb854bc>>0x7*-0x3ef+0x1*-0x679+0x2212&0x5*0x247+0x1ae3+-0x2547,_0x2c6829=_0xb854bc>>-0xc90+0x8d*-0x43+0x317f&-0x1cc6+-0x3*-0xa37+-0x38*0x4,_0x3f03b4=_0xb854bc&-0x2*-0x5db+0x71*-0x3e+0x10a7;return[_0x1f2e2a,_0x45da23,_0x2c6829,_0x3f03b4];},'bytesToInt24'(_0x52e03f,_0x500118,_0x590214){return _0x52e03f['length']&&(_0x590214=_0x52e03f[0x17aa+-0x4*-0x199+-0x1e0c],_0x500118=_0x52e03f[-0xb49+0x2*0x694+-0x1de],_0x52e03f=_0x52e03f[0xe19+0x3*0x84d+-0x10*0x270]),_0x52e03f<<0x2564+0x5ef+0x1bb*-0x19|_0x500118<<-0x143a+0x831*-0x4+0x3506*0x1|_0x590214;},'bytesToInt32'(_0x1b1ed8,_0xe42dfa,_0x330888,_0x179ba9){return _0x1b1ed8['length']&&(_0x179ba9=_0x1b1ed8[-0x229e+-0x32c*-0x9+0x3*0x207],_0x330888=_0x1b1ed8[0x1096+-0x1*-0x15da+-0x266e],_0xe42dfa=_0x1b1ed8[-0x9d*-0x17+0x6*0x2bd+0x1e88*-0x1],_0x1b1ed8=_0x1b1ed8[-0x1674+0x1d72+0x166*-0x5]),(_0x1b1ed8<<0x5d*0x2c+0x1f9b+0x3f*-0xc1|_0xe42dfa<<0x1f4c*0x1+-0x2*-0xc91+-0x82*0x6f|_0x330888<<-0x86f+-0x1269*-0x1+-0x9f2|_0x179ba9)>>>0xaed+-0x240+-0x8ad;},'lerp'(_0x55ac3e,_0xea7b71,_0x17f55d){return _0x55ac3e+(_0xea7b71-_0x55ac3e)*N['clamp'](_0x17f55d,0x193e+0x331*-0x1+-0x160d,0x1dfd+-0x9ff+-0x13fd);},'lerpAngle'(_0x1d3e01,_0x4f68b1,_0x2632f0){return _0x4f68b1-_0x1d3e01>0x641*-0x2+-0x861+0x1597&&(_0x4f68b1-=0x37*0x7d+0x154a+-0x2ebd),_0x4f68b1-_0x1d3e01<-(0xaf+0xb*-0xfc+0x1*0xad9)&&(_0x4f68b1+=0x1*0x139f+0x37+-0x126e),N['lerp'](_0x1d3e01,_0x4f68b1,N['clamp'](_0x2632f0,-0x780+0x235f*-0x1+0x1*0x2adf,-0x40*-0x19+-0x1e18+0x17d9*0x1));},'powerOfTwo'(_0x526e13){return _0x526e13!==-0x941+-0x1*-0x18df+-0xf9e&&!(_0x526e13&_0x526e13-(0x25*0x53+-0x118f+0x1db*0x3));},'nextPowerOfTwo'(_0x311c87){return _0x311c87--,_0x311c87|=_0x311c87>>0x13*-0xf1+-0x4*0x7a9+-0x4*-0xc22,_0x311c87|=_0x311c87>>-0x28f*-0x7+0x4*0x24c+-0x1b17,_0x311c87|=_0x311c87>>0xbd*0x2+0x275*-0x5+0xad3,_0x311c87|=_0x311c87>>0x4e1*0x2+-0x3*0x25+-0x94b,_0x311c87|=_0x311c87>>-0x82+-0x1115+0x11a7,_0x311c87++,_0x311c87;},'nearestPowerOfTwo'(_0x22c95b){return Math['pow'](-0x127e+-0x1*-0x1336+-0xb6,Math['round'](Math['log'](_0x22c95b)/Math['log'](0x1d9+0x9*0x3af+-0x22fe)));},'random'(_0x21e686,_0x431e91){const _0x1aa62c=_0x431e91-_0x21e686;return Math['random']()*_0x1aa62c+_0x21e686;},'smoothstep'(_0x25cf35,_0x549e60,_0x4642cd){return _0x4642cd<=_0x25cf35?-0x137f+-0xb17+-0xae*-0x2d:_0x4642cd>=_0x549e60?-0x531+-0x953+0x9*0x19d:(_0x4642cd=(_0x4642cd-_0x25cf35)/(_0x549e60-_0x25cf35),_0x4642cd*_0x4642cd*(-0x95b*0x1+-0x5*-0x2a2+-0x3cc-(0x1c31+0x1f*0xd+-0xd*0x24a)*_0x4642cd));},'smootherstep'(_0x8fcbac,_0x130fd8,_0x50c83e){return _0x50c83e<=_0x8fcbac?0xd21+0x2185+-0x6aa*0x7:_0x50c83e>=_0x130fd8?0x2*0x20e+-0x27*-0x91+0x7*-0x3be:(_0x50c83e=(_0x50c83e-_0x8fcbac)/(_0x130fd8-_0x8fcbac),_0x50c83e*_0x50c83e*_0x50c83e*(_0x50c83e*(_0x50c83e*(-0x1*-0xabd+-0x1450+-0x9*-0x111)-(0x235c+-0x7*-0x542+-0x481b))+(0xd*0x2a4+0xdda+0x100c*-0x3)));},'roundUp'(_0x1a1c47,_0x699c3c){return _0x699c3c===-0x347*-0x8+-0x530*-0x4+-0x3ea*0xc?_0x1a1c47:Math['ceil'](_0x1a1c47/_0x699c3c)*_0x699c3c;},'between'(_0x4ac672,_0x206a33,_0x56f5ff,_0x38c8cd){const _0x1455d0=Math['min'](_0x206a33,_0x56f5ff),_0x591c74=Math['max'](_0x206a33,_0x56f5ff);return _0x38c8cd?_0x4ac672>=_0x1455d0&&_0x4ac672<=_0x591c74:_0x4ac672>_0x1455d0&&_0x4ac672<_0x591c74;}},it=class it{constructor(_0x128b41=-0x1f*0x109+-0x18ab*0x1+0xa*0x5ad,_0x1a19fd=0x1*-0xb9b+0x2*-0xab7+-0xb03*-0x3,_0x50b057=-0x1c7*-0x2+-0x4*-0x407+-0x13aa,_0x9b82ba=0x1*0x169a+0x103c+-0x26d5){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x2d3f53=_0x128b41['length'];_0x2d3f53===0x28*-0x35+-0x1ab9+-0x1182*-0x2||_0x2d3f53===-0x1f11+0x1bc5*-0x1+0x3ada?(this['r']=_0x128b41[0x21fe+-0x396+-0x1e68],this['g']=_0x128b41[0x141f+-0x2*-0x11a+-0x1*0x1652],this['b']=_0x128b41[-0x2*0x6b4+-0x8b*-0x1f+-0x36b],this['a']=_0x128b41[0x609+-0x9dc+0x3d6]??0x19b1+-0x1*0x767+-0x1f*0x97):(this['r']=_0x128b41,this['g']=_0x1a19fd,this['b']=_0x50b057,this['a']=_0x9b82ba);}['clone'](){const _0x27f8f8=this['constructo'+'r'];return new _0x27f8f8(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x105081){return this['r']=_0x105081['r'],this['g']=_0x105081['g'],this['b']=_0x105081['b'],this['a']=_0x105081['a'],this;}['equals'](_0x3b5ab8){return this['r']===_0x3b5ab8['r']&&this['g']===_0x3b5ab8['g']&&this['b']===_0x3b5ab8['b']&&this['a']===_0x3b5ab8['a'];}['set'](_0x5301c9,_0x4ba936,_0x52e931,_0x1c4620=0x1452+-0x1fd*-0x1+0x164e*-0x1){return this['r']=_0x5301c9,this['g']=_0x4ba936,this['b']=_0x52e931,this['a']=_0x1c4620,this;}['lerp'](_0x3f2303,_0x3ae47b,_0x558d1b){return this['r']=_0x3f2303['r']+_0x558d1b*(_0x3ae47b['r']-_0x3f2303['r']),this['g']=_0x3f2303['g']+_0x558d1b*(_0x3ae47b['g']-_0x3f2303['g']),this['b']=_0x3f2303['b']+_0x558d1b*(_0x3ae47b['b']-_0x3f2303['b']),this['a']=_0x3f2303['a']+_0x558d1b*(_0x3ae47b['a']-_0x3f2303['a']),this;}['linear'](_0x24f72c=this){return this['r']=Math['pow'](_0x24f72c['r'],0x10ff+0x1c30+-0x2d2d+0.20000000000000018),this['g']=Math['pow'](_0x24f72c['g'],-0x41c+-0xbca+0x4*0x3fa+0.20000000000000018),this['b']=Math['pow'](_0x24f72c['b'],-0xfed*0x2+0x1c48+0x394+0.20000000000000018),this['a']=_0x24f72c['a'],this;}['gamma'](_0xbc9ae3=this){return this['r']=Math['pow'](_0xbc9ae3['r'],(0xb*-0x88+0xf*-0x221+-0x4e*-0x7c)/(0x31*-0x9d+0xe3b+0xfd4+0.20000000000000018)),this['g']=Math['pow'](_0xbc9ae3['g'],(-0xcea+0x258f+-0x18a4)/(-0x3cb+-0x1cfd+0x2*0x1065+0.20000000000000018)),this['b']=Math['pow'](_0xbc9ae3['b'],(-0x4*0x4e1+0x35e*0x4+0x60d)/(-0x29*0x77+-0x22d3+0x35e4+0.20000000000000018)),this['a']=_0xbc9ae3['a'],this;}['mulScalar'](_0x3d73f7){return this['r']*=_0x3d73f7,this['g']*=_0x3d73f7,this['b']*=_0x3d73f7,this;}['fromString'](_0x4138c3){const _0x2cb8b9=parseInt(_0x4138c3['replace']('#','0x'),-0x2053+-0x3*0x61e+0x32bd);let _0x2c8b59;return _0x4138c3['length']>0xc77*0x1+-0x25ac+0x193c?_0x2c8b59=N['intToBytes'+'32'](_0x2cb8b9):(_0x2c8b59=N['intToBytes'+'24'](_0x2cb8b9),_0x2c8b59[-0x1284+-0x2f9*0x7+0x5*0x7de]=0xf9b+-0x1*-0xc5b+-0x1af7),this['set'](_0x2c8b59[0x4*0x17+0xc*-0x125+0xd60]/(0x2b2+0x2*-0xb99+0x1*0x157f),_0x2c8b59[-0x206d+-0x2343+0x43b1*0x1]/(0x1*0x1204+0x2329*0x1+-0x342e),_0x2c8b59[-0x1bd3*0x1+-0x2487*-0x1+0x6a*-0x15]/(0x1eb8+0x1*0x26e7+-0x44a0),_0x2c8b59[0x3e*-0x90+0x4a*-0x2b+0x2f51*0x1]/(-0x5*0x166+-0x1a3*0x13+0x2716*0x1)),this;}['fromArray'](_0xa541f9,_0x3a4e1a=0x1dd9+0x225d*-0x1+-0x1*-0x484){return this['r']=_0xa541f9[_0x3a4e1a]??this['r'],this['g']=_0xa541f9[_0x3a4e1a+(0x1*0x2519+0x33e+-0x2856)]??this['g'],this['b']=_0xa541f9[_0x3a4e1a+(-0xc*-0x21f+0x1*-0x21fb+0x889)]??this['b'],this['a']=_0xa541f9[_0x3a4e1a+(-0x1870+-0x1*0x147b+0x2cee)]??this['a'],this;}['toString'](_0x31720f,_0x5b5305){const {r:_0x588815,g:_0x127a73,b:_0x5b6c69,a:_0x411484}=this;if(_0x5b5305||_0x588815>-0x5*0x6e6+0x1*0xb61+0x171e||_0x127a73>-0xa75+-0x2695+0x310b||_0x5b6c69>-0xfbc+0x17bf+-0xa*0xcd)return _0x588815['toFixed'](-0x13b2+-0x491+0x1846)+',\x20'+_0x127a73['toFixed'](-0x1b*0x97+-0x234f+0x333f)+',\x20'+_0x5b6c69['toFixed'](-0x20f1+-0x2b7*0x5+0x2e87)+',\x20'+_0x411484['toFixed'](-0x1309+0x770*0x4+-0x55a*0x2);let _0x4b9b1e='#'+((0x1944+0x2552+-0x25*0x1b1<<0xc0c+-0x3*-0x115+-0xf33)+(Math['round'](_0x588815*(-0x15f3*0x1+-0x35*0x76+-0x5ec*-0x8))<<-0x260e+-0xe2a*-0x2+0x9ca)+(Math['round'](_0x127a73*(0x94d*-0x1+-0x1*-0x1ead+-0x1461))<<-0x381+0x211b+-0x1d92)+Math['round'](_0x5b6c69*(-0x11bb+-0x4*-0x3db+0x34e)))['toString'](-0x2a2*0x7+-0x73c*0x4+-0x1d3*-0x1a)['slice'](-0x1472+-0xe9*0x25+-0x1b10*-0x2);if(_0x31720f===!(-0x1988+-0x24f2+0x3e7a)){const _0x1380ff=Math['round'](_0x411484*(0x4ff+0x1ac+-0x5ac))['toString'](-0x1*0x1313+0x6c0+0xc63);this['a']<(0xdad*0x1+-0x1d3e+0xfa1*0x1)/(-0x24d*-0xc+-0x20b*-0xb+-0x67*0x7a)?_0x4b9b1e+='0'+_0x1380ff:_0x4b9b1e+=_0x1380ff;}return _0x4b9b1e;}['toArray'](_0x2517ee=[],_0x1f612d=0xe90+-0x787+-0x709,_0x446ca9=!(0x76*-0x53+-0x2b9*-0x1+0x2389)){return _0x2517ee[_0x1f612d]=this['r'],_0x2517ee[_0x1f612d+(-0xe09+-0x363+0x5cf*0x3)]=this['g'],_0x2517ee[_0x1f612d+(0x473+0x393*-0x9+-0x2a*-0xa9)]=this['b'],_0x446ca9&&(_0x2517ee[_0x1f612d+(-0x2*0x11a1+-0x1279*-0x2+0xb*-0x27)]=this['a']),_0x2517ee;}};c(it,'BLACK',Object['freeze'](new it(0x9*-0x1d3+0x1*-0x5a9+-0x3ae*-0x6,-0x3d*0x4a+-0x1253+-0x1*-0x23f5,-0x783+-0x18dd+-0x4a*-0x70,0x18d*-0x6+-0x172*0xa+0x17c3))),c(it,'BLUE',Object['freeze'](new it(-0x5e*0x66+-0xacb+-0x17*-0x219,-0x1*-0x209c+0x25b1+-0x464d,0x22*0xe2+0x538+-0x1d*0x137,-0x18ff+-0x831*0x1+0x1*0x2131))),c(it,'CYAN',Object['freeze'](new it(0xdf*-0x1c+0x459+0x140b,0x1c9*-0xd+0x1*0xacb+-0xc6b*-0x1,-0xb7e+0x1839*-0x1+0xfe*0x24,0x5e*0x58+0x173d+0x58e*-0xa))),c(it,'GRAY',Object['freeze'](new it(-0x1fa4+-0x45b*0x3+0x2cb5+0.5,0x1cb4+-0x2*-0x1281+0x1*-0x41b6+0.5,0x67*0xd+0x1*-0x175+-0x45*0xe+0.5,-0xd6*-0x1e+0x1104+-0x2a17))),c(it,'GREEN',Object['freeze'](new it(0x21*-0x38+-0x2*0xbcc+-0xe8*-0x22,-0x13*-0x8b+-0x7*0x3f6+-0x6*-0x2e7,-0x7*0x11+0x65*0x1a+-0x9cb,-0xf14+-0xb0d+0x1a22))),c(it,'MAGENTA',Object['freeze'](new it(-0xf00+-0x939+0x183a,0x213*0x3+0x45*0x9+-0x8a6,-0x1*-0x77b+0x71b*-0x2+-0x1*-0x6bc,-0xb*-0x232+-0x2a5+-0x1580))),c(it,'RED',Object['freeze'](new it(-0x14*-0x6a+0x27f*0xd+0x145d*-0x2,-0x35+-0xfc*0x24+0x23a5*0x1,0x1f0f+-0xeac+-0x1*0x1063,0x1e1d+-0x1*-0x254f+0x3*-0x1679))),c(it,'WHITE',Object['freeze'](new it(-0x12d5+-0x1*-0xfee+0x2*0x174,-0x3*0x5fd+0x86e+-0xb*-0xde,0x123*-0x1c+0x289*0xf+0x7a*-0xd,-0x1dcc+0x24e3+-0x38b*0x2))),c(it,'YELLOW',Object['freeze'](new it(0xc0d+0x25c+-0xe68,-0x2018+-0x4*0x7bb+0x3f05,0x4*-0x4df+-0x8*-0x25+0x66*0x2e,0xb16+-0xd2b+0x216)));let Y=it;class ly{constructor(_0x3f28b1,_0x49f66c=0x2*0x66e+0x1*-0x2271+0x1595){c(this,'_curve'),c(this,'_left',-(0x68b+-0x5*0x543+0x3*0x697)/(-0x19a7*0x1+-0x231b+0x3cc2)),c(this,'_right',(-0x189f+-0x24b7+0x3d57)/(-0x26a3+-0x8*-0xe9+0x1f5b)),c(this,'_recip',0x351*0x8+0xae1+-0x2569),c(this,'_p0',-0x243*0x9+-0x233c+0x3797),c(this,'_p1',-0xd51+0x1*-0x22d7+0x3028),c(this,'_m0',0x27*0x99+0x555*0x6+-0x625*0x9),c(this,'_m1',-0x298*0x8+-0x557+0x1*0x1a17),(this['_curve']=_0x3f28b1,this['_reset'](_0x49f66c));}['evaluate'](_0x3318c4,_0x1e7e2b=!(-0xef9+0x55d*-0x1+0x1457)){(_0x1e7e2b||_0x3318c4<this['_left']||_0x3318c4>=this['_right'])&&this['_reset'](_0x3318c4);let _0x3e200b;const _0x253a09=this['_curve']['type'];if(_0x253a09===SS)_0x3e200b=this['_p0'];else{const _0x5ef1bb=this['_recip']===-0x31f*0x4+-0x1*-0x1f5d+-0x12e1?0x6a*0x41+-0x11de+-0x90c:(_0x3318c4-this['_left'])*this['_recip'];_0x253a09===xS?_0x3e200b=N['lerp'](this['_p0'],this['_p1'],_0x5ef1bb):_0x253a09===Df?_0x3e200b=N['lerp'](this['_p0'],this['_p1'],_0x5ef1bb*_0x5ef1bb*(0x2*-0x1381+0x1a32*0x1+0xcd3-(-0x9b1*-0x2+0x1*-0x1915+-0x1e7*-0x3)*_0x5ef1bb)):_0x3e200b=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x5ef1bb);}return _0x3e200b;}['_reset'](_0x19e88a){const _0x2134b7=this['_curve']['keys'],_0x3c55bc=_0x2134b7['length'];if(!_0x3c55bc)this['_left']=-(-0x2*0x7c9+0x4*-0x584+0x25a3)/(-0x1b04+-0x1156+0x2c5a*0x1),this['_right']=(-0x1250+-0x4a*-0x35+0x1*0x2ff)/(-0x232c+0x1*-0x1205+0x321*0x11),this['_recip']=-0x1*-0x1d26+-0xf5b+0x6b*-0x21,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0x14b0+0x179b+-0x2eb;else{if(_0x19e88a<_0x2134b7[0x3*0x61b+-0x40f*-0x8+-0x32c9*0x1][-0x2b*-0xa7+-0x1624+-0x5e9])this['_left']=-(0x10bf+0x3*0x757+0x26c3*-0x1)/(-0x1*-0x1aad+0x106f+-0x2b1c),this['_right']=_0x2134b7[0xdec+-0x6e9+0x1*-0x703][-0xd44+0x1709+-0x3d*0x29],this['_recip']=0x21f1+0xffd*0x2+-0x41eb,this['_p0']=this['_p1']=_0x2134b7[0x1d1f+-0x1*0x1cfd+-0x22][0x4*-0x1cd+0x1*0xa43+-0x30e*0x1],this['_m0']=this['_m1']=-0x1*0x1a6+-0x30f*-0x1+-0x169;else{if(_0x19e88a>=_0x2134b7[_0x3c55bc-(0x6df*-0x1+-0x1993+-0x2073*-0x1)][-0x21d3*-0x1+0xf*-0x14e+-0xe41])this['_left']=_0x2134b7[_0x3c55bc-(-0x17a4+-0x166+0x1*0x190b)][0xf59+-0xf73+0x1a],this['_right']=(0xa7*-0x1e+-0x19ef+-0xe9*-0x32)/(0x1026*0x1+-0x449*-0x5+-0x2593),this['_recip']=0x1*-0x44b+-0x8c6+-0x3*-0x45b,this['_p0']=this['_p1']=_0x2134b7[_0x3c55bc-(-0x2133+0xb88+0x15ac)][-0x3d7*0x8+-0x208b*0x1+0x1*0x3f44],this['_m0']=this['_m1']=0xffd+-0x7*0x44+-0xe21;else{let _0x2c5371=-0x15a9+0x1c92+0x3d*-0x1d;for(;_0x19e88a>=_0x2134b7[_0x2c5371+(0x2d1*0x1+0x20b*-0x2+0x1*0x146)][0x90d+-0x50*0x1+0x1*-0x8bd];)_0x2c5371++;this['_left']=_0x2134b7[_0x2c5371][-0xc3e+-0x7*-0x2cc+0x2*-0x3ab],this['_right']=_0x2134b7[_0x2c5371+(0x4a3+-0x126a+0xdc8)][0x235b+-0x22b6+-0xa5];const _0x3b4ed8=(0x2085+0x1068+-0x194*0x1f)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x3b4ed8)?_0x3b4ed8:0x1*0x53f+-0x1*-0x1e3a+0xbd3*-0x3,this['_p0']=_0x2134b7[_0x2c5371][-0xb44+-0x25cd+0x2*0x1889],this['_p1']=_0x2134b7[_0x2c5371+(-0x1426+-0x1*-0x2665+-0x123e)][0x6*-0x3e1+-0x1*-0x1d23+0x12c*-0x5],this['_curve']['type']===sm&&this['_calcTange'+'nts'](_0x2134b7,_0x2c5371);}}}}['_calcTange'+'nts'](_0x2434b9,_0x1a6446){let _0x11b9f1;const _0x2c7d71=_0x2434b9[_0x1a6446],_0x3f9474=_0x2434b9[_0x1a6446+(0x176e*-0x1+0x25b*0xb+0x13d*-0x2)];let _0x22703c;if(_0x1a6446===0x24*-0x67+0xd*-0x51+-0x17*-0xcf?_0x11b9f1=[_0x2434b9[-0x27*0xaa+0xf74+0xa72][-0x22a4+-0x6*-0x161+0x1a5e]+(_0x2434b9[0xec8+0x67d+-0x1545][-0x3eb*-0x4+-0x3f5+0xbb7*-0x1]-_0x2434b9[-0x1387*-0x1+-0x1de2+-0x297*-0x4][-0xe2d+0x148+0xce5]),_0x2434b9[-0x1fe9+-0x1479*-0x1+0xb70][-0x2*-0x2f1+0x1e2+-0x7c3*0x1]+(_0x2434b9[0x6*0x5f+-0x6*0x10d+0x414][-0x1ae+-0x12d1+0x1480]-_0x2434b9[-0x270f+-0x7ba+-0xe2*-0x35][0x23b0+-0x131*0x5+-0x5*0x5f2])]:_0x11b9f1=_0x2434b9[_0x1a6446-(0x7a4+-0x8*-0xad+-0xd0b)],_0x1a6446===_0x2434b9['length']-(-0x43a+0x1*-0xd4e+0x118a)?_0x22703c=[_0x2434b9[_0x1a6446+(-0x3*0x689+0x1257+0x145)][0x2*0x5b2+-0x11*0x107+-0x137*-0x5]+(_0x2434b9[_0x1a6446+(0x98*0x28+-0x256f+0xdb0)][0x379*-0x2+0x1149+-0xa57]-_0x2434b9[_0x1a6446][-0x5*0x572+-0x3*0xa8d+-0x1*-0x3ae1]),_0x2434b9[_0x1a6446+(-0x2280+-0x202f+-0x58*-0xc2)][-0x2*0x124a+-0x1d24+-0xd25*-0x5]+(_0x2434b9[_0x1a6446+(-0x6*0x55e+-0x7*0x3e4+0x3b71)][0x1*0xedc+0x1*-0xf25+0x4a]-_0x2434b9[_0x1a6446][-0x25d0+-0x1*0xc93+-0x5*-0xa14])]:_0x22703c=_0x2434b9[_0x1a6446+(-0xd59+0x293*0x8+-0x11*0x6d)],this['_curve']['type']===sm){const _0x372be0=(-0x649*0x3+0x1*0x17b1+-0x4d4)*(_0x3f9474[-0xed3+0x1c29+-0xd56]-_0x2c7d71[0x1e97+-0x1*0xbf8+0x3*-0x635])/(_0x3f9474[-0x1ca+0x3a0*0x4+-0xcb6]-_0x11b9f1[0xa6c+-0x3*-0xacd+0x2ad3*-0x1]),_0x4a2060=(-0x1*-0x136d+-0xd3f+-0x62c)*(_0x3f9474[0x30a*-0x1+0x1494+-0x118a]-_0x2c7d71[0x1163+-0x1753+0x5f0])/(_0x22703c[-0x475*0x2+-0xfb5+0x23d*0xb]-_0x2c7d71[0x28*0x10+0xf2*0x13+-0x1476]);this['_m0']=this['_curve']['tension']*(isFinite(_0x372be0)?_0x372be0:0x132d*-0x2+0x738+0x1f22)*(_0x3f9474[-0x1a6*-0x10+-0x67*0x56+-0x12d*-0x7]-_0x11b9f1[0x125*0x1d+-0x238e+0x65*0x6]),this['_m1']=this['_curve']['tension']*(isFinite(_0x4a2060)?_0x4a2060:-0xe6d+0x49*0x19+0x74c)*(_0x22703c[-0xf2e+-0x2c*-0x9+0xda3]-_0x2c7d71[0x1635+-0x24a7+0xe73]);}else{const _0x58919f=(_0x3f9474[0x26b*0xe+-0x71*0x1+0x1*-0x2169]-_0x2c7d71[0x10b1+-0x1d9a*-0x1+0x2e4b*-0x1])/(_0x2c7d71[0xcff*-0x3+-0x1ce7*0x1+0xd94*0x5]-_0x11b9f1[0x2b*0x52+0x324+-0x875*0x2]),_0x399ef8=(_0x3f9474[-0x240b+0x1c1d+0x122*0x7]-_0x2c7d71[0x26d5+0x3*0xba+-0x2903*0x1])/(_0x22703c[0x11*-0x1d9+0x1*0x47f+0x1aea*0x1]-_0x3f9474[-0x12f5+-0x1d85+0x2*0x183d]),_0x50f7b6=_0x2c7d71[-0x1*0x3cb+-0x1a8+0x574]+(_0x11b9f1[0x1*-0x769+0x25e7+-0xdf*0x23]-_0x2c7d71[-0x24e2*-0x1+-0x1189*-0x1+0x1*-0x366a])*(isFinite(_0x58919f)?_0x58919f:-0xf*0xa4+0x2*0xa57+-0xb12),_0x39917e=_0x3f9474[-0x1*0x1f3+0x133*0xc+0x4*-0x31c]+(_0x22703c[0xcca+-0x2682+0x3*0x893]-_0x3f9474[0x11*0x67+0x2bc+-0x992])*(isFinite(_0x399ef8)?_0x399ef8:0x706+0x45e+-0xb64),_0x47a5f5=this['_curve']['tension'];this['_m0']=_0x47a5f5*(_0x3f9474[-0x1*-0x1a10+-0x8ad+-0x1162*0x1]-_0x50f7b6),this['_m1']=_0x47a5f5*(_0x39917e-_0x2c7d71[-0xb*0xbe+0x7fa*-0x4+0x2813]);}}['_evaluateH'+'ermite'](_0x5b0cbb,_0x4a95f6,_0x3c5056,_0x1487a6,_0x2404e2){const _0x1225c5=_0x2404e2*_0x2404e2,_0xf52139=_0x2404e2+_0x2404e2,_0x2ed299=-0xe03*0x1+-0x25b*-0xd+-0x109b-_0x2404e2,_0xa0591c=_0x2ed299*_0x2ed299;return _0x5b0cbb*((-0xb*-0x1d2+-0x2134*0x1+0xd2f+_0xf52139)*_0xa0591c)+_0x3c5056*(_0x2404e2*_0xa0591c)+_0x4a95f6*(_0x1225c5*(0x1c4f+-0x25a+-0x19f2-_0xf52139))+_0x1487a6*(_0x1225c5*(_0x2404e2-(0x17b7+0x52b+-0x1ce1*0x1)));}}class Cs{constructor(_0x6c163b){c(this,'keys',[]),c(this,'type',Df),c(this,'tension',-0x1062+0x17d9+-0x93*0xd+0.5),c(this,'_eval',new ly(this));if(_0x6c163b){for(let _0x506ec0=0xb59+-0xe*-0x264+-0x95*0x4d;_0x506ec0<_0x6c163b['length']-(-0x4cf*-0x7+0x81f+-0x29c7);_0x506ec0+=-0x18d5+0x64*0xa+-0x17*-0xe9)this['keys']['push']([_0x6c163b[_0x506ec0],_0x6c163b[_0x506ec0+(0x2070+0x188a+-0x38f9)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x5684bc,_0x2d3beb){const _0x349290=this['keys'],_0x71fa7e=_0x349290['length'];let _0x25f1c7=0x95c+0x93e+-0x2*0x94d;for(;_0x25f1c7<_0x71fa7e&&!(_0x349290[_0x25f1c7][0x17e7*0x1+-0x1245+0x2d1*-0x2]>_0x5684bc);_0x25f1c7++);const _0xa45cec=[_0x5684bc,_0x2d3beb];return this['keys']['splice'](_0x25f1c7,-0x1c80*-0x1+-0x13*-0x4c+0xa*-0x36a,_0xa45cec),_0xa45cec;}['get'](_0x4b9a07){return this['keys'][_0x4b9a07];}['sort'](){this['keys']['sort']((_0x51b851,_0x2a55ec)=>_0x51b851[-0x9a+0x910+-0x876]-_0x2a55ec[0x1e32+-0x12d+-0x1d05]);}['value'](_0x5dd6fd){return this['_eval']['evaluate'](_0x5dd6fd,!(0x23af+0x12e2+-0x3691));}['closest'](_0x282866){const _0x5ea6d8=this['keys'],_0x21bc68=_0x5ea6d8['length'];let _0x22864e=-0x2257+-0xd70+0xd*0x3ad,_0x567d44=null;for(let _0x518ba7=-0x21b2+-0x192d*-0x1+0x885;_0x518ba7<_0x21bc68;_0x518ba7++){const _0x11a615=Math['abs'](_0x282866-_0x5ea6d8[_0x518ba7][0x2*-0x1007+-0x1a6a+-0x4*-0xe9e]);if(_0x22864e>=_0x11a615)_0x22864e=_0x11a615,_0x567d44=_0x5ea6d8[_0x518ba7];else break;}return _0x567d44;}['clone'](){const _0x3c59a8=new this['constructo'+'r']();return _0x3c59a8['keys']=this['keys']['map'](_0x272f83=>[..._0x272f83]),_0x3c59a8['type']=this['type'],_0x3c59a8['tension']=this['tension'],_0x3c59a8;}['quantize'](_0x50c24e){_0x50c24e=Math['max'](_0x50c24e,-0x115a*-0x1+-0x1*-0x2169+-0x3d*0xd5);const _0x205043=new Float32Array(_0x50c24e),_0x537f07=(0x2*0xe75+-0x776+0x121*-0x13)/(_0x50c24e-(-0x17e0+-0x1c9a+0x347b));_0x205043[-0xd5*-0x19+0x4af*-0x1+-0x101e]=this['_eval']['evaluate'](0x3b7+-0x3*0x7d3+0x1*0x13c2,!(-0x1891*-0x1+0x7*0x397+-0x31b2*0x1));for(let _0x26b51a=0x3*-0xb23+0x10*0x1ab+0x6ba;_0x26b51a<_0x50c24e;_0x26b51a++)_0x205043[_0x26b51a]=this['_eval']['evaluate'](_0x537f07*_0x26b51a);return _0x205043;}['quantizeCl'+'amped'](_0x4ced34,_0x1b8aaf,_0x298588){const _0x11244f=this['quantize'](_0x4ced34);for(let _0x27ab98=0x1b41+0x71*-0x15+0x4*-0x47f;_0x27ab98<_0x11244f['length'];++_0x27ab98)_0x11244f[_0x27ab98]=Math['min'](_0x298588,Math['max'](_0x1b8aaf,_0x11244f[_0x27ab98]));return _0x11244f;}}class jr{constructor(){c(this,'curves',[]),c(this,'_type',Df);if(arguments['length']>-0x1*-0xa60+-0x19a1+0x3f*0x3e){for(let _0x56fde2=0x1a93+0xd1*-0x7+-0x14dc;_0x56fde2<arguments['length'];_0x56fde2++)this['curves']['push'](new Cs(arguments[_0x56fde2]));}else{if(arguments['length']===-0x8*0x4cc+-0x7b*-0xf+0x1f2b)this['curves']['push'](new Cs());else{const _0x222ab9=arguments[-0x59*0x6a+-0x2*-0xb81+0x6ec*0x2];if(typeof _0x222ab9=='number'){for(let _0x4a0bdc=0x1e2f+0x9c7*-0x3+-0xda;_0x4a0bdc<_0x222ab9;_0x4a0bdc++)this['curves']['push'](new Cs());}else{for(let _0x5a252f=-0x6da+-0x1aa2+0x217c;_0x5a252f<_0x222ab9['length'];_0x5a252f++)this['curves']['push'](new Cs(_0x222ab9[_0x5a252f]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x3f8bab){this['_type']=_0x3f8bab;for(let _0x54d416=-0x7*0xd7+-0x2*-0x83+0x4db;_0x54d416<this['curves']['length'];_0x54d416++)this['curves'][_0x54d416]['type']=_0x3f8bab;}get['type'](){return this['_type'];}['get'](_0x239b76){return this['curves'][_0x239b76];}['value'](_0x11402c,_0x5c91d0=[]){const _0x2bfb50=this['curves']['length'];_0x5c91d0['length']=_0x2bfb50;for(let _0x433548=0x10ed+-0x7*0xcb+0x16c*-0x8;_0x433548<_0x2bfb50;_0x433548++)_0x5c91d0[_0x433548]=this['curves'][_0x433548]['value'](_0x11402c);return _0x5c91d0;}['clone'](){const _0x10d7cc=new this['constructo'+'r']();_0x10d7cc['curves']=[];for(let _0x9d28c7=0x1*0xc31+0x1cf3+0x1492*-0x2;_0x9d28c7<this['curves']['length'];_0x9d28c7++)_0x10d7cc['curves']['push'](this['curves'][_0x9d28c7]['clone']());return _0x10d7cc['_type']=this['_type'],_0x10d7cc;}['quantize'](_0x2a01d6){_0x2a01d6=Math['max'](_0x2a01d6,0xf10*0x1+0x6fd+-0x201*0xb);const _0x3b7133=this['curves']['length'],_0x12c6a7=new Float32Array(_0x2a01d6*_0x3b7133),_0x51d113=(0x66b+0x1*-0x4f7+0x7*-0x35)/(_0x2a01d6-(0x1*-0x184f+0x267d+-0xbf*0x13));for(let _0x28c6f4=-0x1fad+0x395+0x1c18;_0x28c6f4<_0x3b7133;_0x28c6f4++){const _0x1141fb=new ly(this['curves'][_0x28c6f4]);for(let _0x2a49e3=0x324+0x1*0x24d+-0x571;_0x2a49e3<_0x2a01d6;_0x2a49e3++)_0x12c6a7[_0x2a49e3*_0x3b7133+_0x28c6f4]=_0x1141fb['evaluate'](_0x51d113*_0x2a49e3);}return _0x12c6a7;}['quantizeCl'+'amped'](_0x24730e,_0x45a36a,_0x1964b0){const _0x4fa0d8=this['quantize'](_0x24730e);for(let _0x244449=-0x883*-0x2+0x1827+-0x292d;_0x244449<_0x4fa0d8['length'];++_0x244449)_0x4fa0d8[_0x244449]=Math['min'](_0x1964b0,Math['max'](_0x45a36a,_0x4fa0d8[_0x244449]));return _0x4fa0d8;}}let im=-0x2*0xee3+-0x80f+0x25da;const id=(-0x208f+0xf1*0x12+0xf9e)/(-0x1*0x1abf+-0x10de+0x2c9c),du=new Float32Array(-0x4*-0x5c3+-0x30f*-0x3+-0x4*0x80e),rm=new Int32Array(du['buffer']);class $t{static['float2Half'](_0xd6c4d3){du[-0x1*-0xe3a+0x1*-0x550+0x146*-0x7]=_0xd6c4d3;const _0x3e938e=rm[-0xc4a*0x1+0xda*0x19+-0x18*0x60];let _0x22d589=_0x3e938e>>0x6*-0x31b+-0x2*-0xd0f+-0x76c&0xcd38+0x293e+-0x202*0x3b,_0x23268a=_0x3e938e>>-0x238+0x157e+-0x133a&-0x2577+-0x5*-0x32b+0x1d9f;const _0x2fd68a=_0x3e938e>>-0x1*0x22d2+0x86f+-0x1a7a*-0x1&0x705+0x3*-0xa49+0xa3*0x27;return _0x2fd68a<-0x1*0x1c4b+-0x13d5*-0x1+0x8dd?_0x22d589:_0x2fd68a>-0xbff+0x21a+0x217*0x5?(_0x22d589|=-0xb52e+-0x664e+0x1977c,_0x22d589|=(_0x2fd68a===-0x605+-0x117f+0x1883?-0x1f97*0x1+0x13a3*-0x1+-0x4f*-0xa6:-0x56b*0x7+0x4*0x11c+0x217e)&&_0x3e938e&0xf561f0+-0x5e928e+0x1c12f*-0xd,_0x22d589):_0x2fd68a<0x45c+-0x23d4+-0x3*-0xaa3?(_0x23268a|=-0xf9+0xd4*-0x24+0x26c9,_0x22d589|=(_0x23268a>>-0x3*0x3bb+-0x4*0x48a+-0x1*-0x1dcb-_0x2fd68a)+(_0x23268a>>0xa9a+0x104e+-0x1a77-_0x2fd68a&0x1*0x26+0x25a0+-0x25c5),_0x22d589):(_0x22d589|=_0x2fd68a-(0x2019+0x59*0x2+-0x205b)<<-0x6*0x146+0x5*0x629+-0x171f|_0x23268a>>-0x25c5+0x15e4+0xfe2,_0x22d589+=_0x23268a&-0x470+-0x59a+0xa0b,_0x22d589);}static['float2Byte'+'s'](_0x20abb0,_0xc2d812,_0x4bd003,_0x29f53b){const _0x4610f2=(0x77e+-0x24a*0x11+0x206b)*_0x20abb0%(-0x194d*-0x1+-0x332*0xb+0x9da);if(_0xc2d812[_0x4bd003+(-0xfa8+-0x1f1d*-0x1+-0xf75)]=Math['round']((_0x20abb0%(-0x59*0x44+0x254a+0x1f3*-0x7)-id*_0x4610f2)*(-0x65b*-0x2+-0xa8a+0x7*-0x2b)),_0x29f53b>-0xea9+0x1da1+-0xef7){const _0x57a5fd=(0x7e05*0x2+0x585*0x4d+-0x1a70a)*_0x20abb0%(0x27b*-0xc+0x56*0x13+-0x1763*-0x1);if(_0xc2d812[_0x4bd003+(-0x2123+0x1*0x6bd+0x1a67*0x1)]=Math['round']((_0x4610f2-id*_0x57a5fd)*(-0x1*0x1f67+0x238e+-0x328)),_0x29f53b>-0x1769+0x1465+-0x3*-0x102){const _0x187943=(-0x295*0x1a38+0x1*-0x16d6ae+0x1578c45)*_0x20abb0%(0x1*-0x122d+0x1b92+-0x964);_0xc2d812[_0x4bd003+(0x1*0x247a+0x7*-0x13a+-0x1be2)]=Math['round']((_0x57a5fd-id*_0x187943)*(-0x24a6*-0x1+0x1d07+-0x40ae)),_0x29f53b>0x1a7*-0x14+-0x1feb+0x1*0x40fa&&(_0xc2d812[_0x4bd003+(0x1bb*0x3+-0x1*0x1ebb+0x198d)]=Math['round'](_0x187943*(-0xd32+-0x34*0x58+-0x1*-0x2011)));}}}static['float2Byte'+'sRange'](_0x368dd9,_0xa64a19,_0x10f3eb,_0x31496c,_0x544dc1,_0x19b927){(_0x368dd9<_0x31496c||_0x368dd9>_0x544dc1)&&im&&(im--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x368dd9=N['clamp']((_0x368dd9-_0x31496c)/(_0x544dc1-_0x31496c),-0x3*0xcb+0x5*-0x573+0x2*0xed0,0x1d*0xf1+-0x19b*0x7+-0x100f*0x1),$t['float2Byte'+'s'](_0x368dd9,_0xa64a19,_0x10f3eb,_0x19b927);}static['float2RGBA'+'8'](_0x4bbcd0,_0x2b2b79){du[0x1*-0x22b7+-0x2438+-0x3*-0x17a5]=_0x4bbcd0;const _0x551dd0=rm[0x3*-0xb87+0x2645+-0x2*0x1d8];_0x2b2b79['r']=(_0x551dd0>>-0x1cd3+0x1de1+-0xf6&-0x1*-0x10fd+-0x14a5+0x4a7)/(-0x1*-0x1eeb+-0x1aec*-0x1+-0x38d8),_0x2b2b79['g']=(_0x551dd0>>-0x23e9*0x1+0xf4*0x4+0x2029*0x1&0x2a*0x7f+-0x1bcd+0x1*0x7f6)/(0x59*-0x12+-0x25f+0x9a0),_0x2b2b79['b']=(_0x551dd0>>-0x2209+-0x126c+-0x3*-0x117f&-0x6a*0x1+-0x15a8+-0x5*-0x49d)/(-0xddc+0x198e*0x1+-0xab3),_0x2b2b79['a']=(_0x551dd0&-0x17d7+-0x4df+0x1db5)/(0x1cd5+-0x1*0x1b2f+-0x1*0xa7);}}const rt=class rt{constructor(_0x45b3e1=0x1717*-0x1+-0x1f7c+-0x1231*-0x3,_0x4ea7ff=0xe8d+0x1a8*-0x11+-0x9*-0x183,_0x29ae32=-0x1f78+-0x1072+0x2fea){c(this,'x'),c(this,'y'),c(this,'z'),_0x45b3e1['length']===-0x83*-0x13+-0x335+-0x681?(this['x']=_0x45b3e1[-0x175*0x11+0x23a4+0x1*-0xadf],this['y']=_0x45b3e1[-0x16*0x167+0x125f+0xc7c],this['z']=_0x45b3e1[0x23fc+0x1*-0x1fd+-0x21fd]):(this['x']=_0x45b3e1,this['y']=_0x4ea7ff,this['z']=_0x29ae32);}['add'](_0x4b5c19){return this['x']+=_0x4b5c19['x'],this['y']+=_0x4b5c19['y'],this['z']+=_0x4b5c19['z'],this;}['add2'](_0x46b05c,_0x259c1d){return this['x']=_0x46b05c['x']+_0x259c1d['x'],this['y']=_0x46b05c['y']+_0x259c1d['y'],this['z']=_0x46b05c['z']+_0x259c1d['z'],this;}['addScalar'](_0x492369){return this['x']+=_0x492369,this['y']+=_0x492369,this['z']+=_0x492369,this;}['addScaled'](_0x301221,_0x506ba9){return this['x']+=_0x301221['x']*_0x506ba9,this['y']+=_0x301221['y']*_0x506ba9,this['z']+=_0x301221['z']*_0x506ba9,this;}['clone'](){const _0x9311bd=this['constructo'+'r'];return new _0x9311bd(this['x'],this['y'],this['z']);}['copy'](_0x3a3d79){return this['x']=_0x3a3d79['x'],this['y']=_0x3a3d79['y'],this['z']=_0x3a3d79['z'],this;}['cross'](_0x5d0d59,_0x43d1ae){const _0x5c0f82=_0x5d0d59['x'],_0x2549b5=_0x5d0d59['y'],_0x41fab9=_0x5d0d59['z'],_0x161570=_0x43d1ae['x'],_0x44977a=_0x43d1ae['y'],_0x3eaeaf=_0x43d1ae['z'];return this['x']=_0x2549b5*_0x3eaeaf-_0x44977a*_0x41fab9,this['y']=_0x41fab9*_0x161570-_0x3eaeaf*_0x5c0f82,this['z']=_0x5c0f82*_0x44977a-_0x161570*_0x2549b5,this;}['distance'](_0x186e0a){const _0x2c2bc3=this['x']-_0x186e0a['x'],_0x23fedc=this['y']-_0x186e0a['y'],_0x522287=this['z']-_0x186e0a['z'];return Math['sqrt'](_0x2c2bc3*_0x2c2bc3+_0x23fedc*_0x23fedc+_0x522287*_0x522287);}['div'](_0x28c7a8){return this['x']/=_0x28c7a8['x'],this['y']/=_0x28c7a8['y'],this['z']/=_0x28c7a8['z'],this;}['div2'](_0x5292a1,_0x2b1a42){return this['x']=_0x5292a1['x']/_0x2b1a42['x'],this['y']=_0x5292a1['y']/_0x2b1a42['y'],this['z']=_0x5292a1['z']/_0x2b1a42['z'],this;}['divScalar'](_0x4dc31d){return this['x']/=_0x4dc31d,this['y']/=_0x4dc31d,this['z']/=_0x4dc31d,this;}['dot'](_0x4dcfb4){return this['x']*_0x4dcfb4['x']+this['y']*_0x4dcfb4['y']+this['z']*_0x4dcfb4['z'];}['equals'](_0x13d609){return this['x']===_0x13d609['x']&&this['y']===_0x13d609['y']&&this['z']===_0x13d609['z'];}['equalsAppr'+'ox'](_0x45150e,_0x1fcd07=-0x3*-0xf5+-0xc*0x11b+0xa65+0.000001){return Math['abs'](this['x']-_0x45150e['x'])<_0x1fcd07&&Math['abs'](this['y']-_0x45150e['y'])<_0x1fcd07&&Math['abs'](this['z']-_0x45150e['z'])<_0x1fcd07;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x5e0841,_0xb8d5dd,_0x36e444){return this['x']=_0x5e0841['x']+_0x36e444*(_0xb8d5dd['x']-_0x5e0841['x']),this['y']=_0x5e0841['y']+_0x36e444*(_0xb8d5dd['y']-_0x5e0841['y']),this['z']=_0x5e0841['z']+_0x36e444*(_0xb8d5dd['z']-_0x5e0841['z']),this;}['mul'](_0x517f0a){return this['x']*=_0x517f0a['x'],this['y']*=_0x517f0a['y'],this['z']*=_0x517f0a['z'],this;}['mul2'](_0x5d26ac,_0x35fd29){return this['x']=_0x5d26ac['x']*_0x35fd29['x'],this['y']=_0x5d26ac['y']*_0x35fd29['y'],this['z']=_0x5d26ac['z']*_0x35fd29['z'],this;}['mulScalar'](_0x5dcfd3){return this['x']*=_0x5dcfd3,this['y']*=_0x5dcfd3,this['z']*=_0x5dcfd3,this;}['normalize'](_0x23a44c=this){const _0x1279ca=_0x23a44c['x']*_0x23a44c['x']+_0x23a44c['y']*_0x23a44c['y']+_0x23a44c['z']*_0x23a44c['z'];if(_0x1279ca>0x50a+0x12*-0x1cd+-0x920*-0x3){const _0x3ce904=(0xbe4*-0x2+0x702+-0x5*-0x35b)/Math['sqrt'](_0x1279ca);this['x']=_0x23a44c['x']*_0x3ce904,this['y']=_0x23a44c['y']*_0x3ce904,this['z']=_0x23a44c['z']*_0x3ce904;}return this;}['floor'](_0x4a0d26=this){return this['x']=Math['floor'](_0x4a0d26['x']),this['y']=Math['floor'](_0x4a0d26['y']),this['z']=Math['floor'](_0x4a0d26['z']),this;}['ceil'](_0x344a25=this){return this['x']=Math['ceil'](_0x344a25['x']),this['y']=Math['ceil'](_0x344a25['y']),this['z']=Math['ceil'](_0x344a25['z']),this;}['round'](_0xaa3a3d=this){return this['x']=Math['round'](_0xaa3a3d['x']),this['y']=Math['round'](_0xaa3a3d['y']),this['z']=Math['round'](_0xaa3a3d['z']),this;}['min'](_0x3a27ac){return _0x3a27ac['x']<this['x']&&(this['x']=_0x3a27ac['x']),_0x3a27ac['y']<this['y']&&(this['y']=_0x3a27ac['y']),_0x3a27ac['z']<this['z']&&(this['z']=_0x3a27ac['z']),this;}['max'](_0x12feb5){return _0x12feb5['x']>this['x']&&(this['x']=_0x12feb5['x']),_0x12feb5['y']>this['y']&&(this['y']=_0x12feb5['y']),_0x12feb5['z']>this['z']&&(this['z']=_0x12feb5['z']),this;}['project'](_0x1b4da9){const _0x5b9c5b=this['x']*_0x1b4da9['x']+this['y']*_0x1b4da9['y']+this['z']*_0x1b4da9['z'],_0x46010e=_0x1b4da9['x']*_0x1b4da9['x']+_0x1b4da9['y']*_0x1b4da9['y']+_0x1b4da9['z']*_0x1b4da9['z'],_0x2deac0=_0x5b9c5b/_0x46010e;return this['x']=_0x1b4da9['x']*_0x2deac0,this['y']=_0x1b4da9['y']*_0x2deac0,this['z']=_0x1b4da9['z']*_0x2deac0,this;}['set'](_0x17c9b3,_0x2fe993,_0x1ee659){return this['x']=_0x17c9b3,this['y']=_0x2fe993,this['z']=_0x1ee659,this;}['sub'](_0x4eb637){return this['x']-=_0x4eb637['x'],this['y']-=_0x4eb637['y'],this['z']-=_0x4eb637['z'],this;}['sub2'](_0x104b1e,_0x4abec9){return this['x']=_0x104b1e['x']-_0x4abec9['x'],this['y']=_0x104b1e['y']-_0x4abec9['y'],this['z']=_0x104b1e['z']-_0x4abec9['z'],this;}['subScalar'](_0x124a37){return this['x']-=_0x124a37,this['y']-=_0x124a37,this['z']-=_0x124a37,this;}['fromArray'](_0x34b8e6,_0x217b71=0x7e*0x29+0x14a4+-0x28d2){return this['x']=_0x34b8e6[_0x217b71]??this['x'],this['y']=_0x34b8e6[_0x217b71+(0x13bb+0x6c4+-0x1a7e)]??this['y'],this['z']=_0x34b8e6[_0x217b71+(-0x58e+0x3b1+-0x1*-0x1df)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x145026=[],_0x268d59=-0x194a+-0xfac+0x28f6){return _0x145026[_0x268d59]=this['x'],_0x145026[_0x268d59+(-0x7e5+-0xb98+-0x5*-0x3e6)]=this['y'],_0x145026[_0x268d59+(-0x12af*0x1+-0x11*-0x199+0x1*-0x878)]=this['z'],_0x145026;}};c(rt,'ZERO',Object['freeze'](new rt(-0xd43+-0x1f5a+0x2c9d,-0x1*0x33a+-0x1582+0x18bc,0x25*0x78+0x1*-0xa1e+-0x73a))),c(rt,'HALF',Object['freeze'](new rt(-0x15d7+0x29b+-0x1*-0x133c+0.5,-0x149b+-0x463+-0x392*-0x7+0.5,0x2*0x135e+-0x240a+-0x2b2+0.5))),c(rt,'ONE',Object['freeze'](new rt(0xa4e+0x132b+-0xa4*0x2e,0x1*-0x20fc+-0x1*-0x21bf+-0xc2,-0x159e+-0x2017*0x1+0xabe*0x5))),c(rt,'UP',Object['freeze'](new rt(0x577*-0x1+-0x4d4+0x1f*0x55,-0x1faf+-0x9*0x201+0x1093*0x3,0x1344+0x1dc1+-0x3*0x1057))),c(rt,'DOWN',Object['freeze'](new rt(-0x629+-0x245f+0x2a88,-(-0x4*0x59a+-0x1cf*0x6+-0x6a7*-0x5),-0xf4d+0x3fa*0x2+0x759))),c(rt,'RIGHT',Object['freeze'](new rt(-0x15eb+-0x2b*0x97+0x2f49,0x1*0x1408+-0x1dd7*0x1+0x9cf,0x7*-0x343+-0x9b1+-0x2*-0x1043))),c(rt,'LEFT',Object['freeze'](new rt(-(-0xb27+0x8*0x3df+-0x13d0),-0x740+-0xbf8+0x1338,-0x1a6*-0x17+0xd*-0x115+0x7f3*-0x3))),c(rt,'FORWARD',Object['freeze'](new rt(-0x23e1+-0x4*-0x2dd+0x186d,0x1f2b+0x14cb+-0x33f6,-(0x10c7+0x17a+0x490*-0x4)))),c(rt,'BACK',Object['freeze'](new rt(0x1322+0x9*-0x13f+-0x7eb,0xe5e+0xa74+-0x18d2,0x1fdd+-0x78b*-0x4+-0x3e08)));let T=rt;const na=class na{constructor(){c(this,'data',new Float32Array(-0x1*-0x17b+-0x148e+0x131c)),this['data'][-0x2473+0x14c0+0xfb3*0x1]=this['data'][-0x4*0x5fb+-0x9*0x40f+0x3c77]=this['data'][-0x830+0x22b9+-0x17*0x127]=0xa*-0x112+0x2*-0x466+-0x1*-0x1381;}['clone'](){const _0x50185f=this['constructo'+'r'];return new _0x50185f()['copy'](this);}['copy'](_0x4c68a4){const _0x3c041a=_0x4c68a4['data'],_0x5d5616=this['data'];return _0x5d5616[0x104c+0x34+-0x1080]=_0x3c041a[-0x8d*0xf+0x6b*-0x5c+0x2eb7],_0x5d5616[0x11*0x1af+0x5cc+0x6e2*-0x5]=_0x3c041a[0x215e+0x163e+-0x379b],_0x5d5616[-0x24dd*0x1+-0x1*-0x595+0x1f4a]=_0x3c041a[-0x2*-0xde1+0x1de5+0x1*-0x39a5],_0x5d5616[-0x1d7d+0x149*-0x1+0x1ec9]=_0x3c041a[0x1fd7+0x1d30+-0x3d04],_0x5d5616[0x128f*0x2+0x4d*0x31+0x17*-0x241]=_0x3c041a[-0x101+0x1189*-0x1+0x5f*0x32],_0x5d5616[-0x57*0x3e+-0x1b*0x67+0x1ff4]=_0x3c041a[-0x1*0x1c19+-0x313*0x7+-0x31a3*-0x1],_0x5d5616[-0xf34+-0x2438+-0x2*-0x19b9]=_0x3c041a[-0x8e*-0x20+-0x1a9c+0x8e2],_0x5d5616[0x8d*0x44+0x5*-0x369+-0x20*0xa3]=_0x3c041a[-0x1*-0xaf+-0x2ca+0x4e*0x7],_0x5d5616[-0x2c3+-0x6*-0x3e4+-0x148d]=_0x3c041a[0x47a+-0x1*0x233+-0x23f],this;}['set'](_0x30c02a){const _0xf64049=this['data'];return _0xf64049[-0x6d2+-0x1*0x1455+0x1b27]=_0x30c02a[0x15f6+-0x17*0x11f+0x3d3],_0xf64049[-0x7f*-0x4e+0x12*0x3f+-0x53*0x85]=_0x30c02a[0x26ef+-0x2b5+-0xb*0x34b],_0xf64049[-0x20f7+0x1*0x1d21+0x4*0xf6]=_0x30c02a[0x3*-0x163+-0xdb*0x1a+0x1a69],_0xf64049[-0x790+0x1fb5*-0x1+-0x4*-0x9d2]=_0x30c02a[-0x28+-0x931*0x4+0x24ef],_0xf64049[0xf98+-0x1*-0x12a5+-0x2239]=_0x30c02a[0x15f+-0x26cb+0x2570],_0xf64049[-0x427*0x1+0x9bb*-0x4+-0x628*-0x7]=_0x30c02a[0x397*0x1+-0xc7a*-0x2+0x1c86*-0x1],_0xf64049[-0x1*-0xbf9+0x1f4*0xa+-0x1*0x1f7b]=_0x30c02a[-0xd0+0xd3a*-0x2+0x1b4a],_0xf64049[-0x6e1*-0x1+-0x1*-0x240a+-0x2ae4]=_0x30c02a[-0xc31+-0xa3*-0xd+-0x1*-0x3f1],_0xf64049[0x1*0x181d+-0x4*0x8f9+-0x1*-0xbcf]=_0x30c02a[-0x273+0x1e0d+-0x1b92*0x1],this;}['getX'](_0x54ef66=new T()){return _0x54ef66['set'](this['data'][0x3d*0x21+-0x1ee4+0x1707],this['data'][-0x1*-0xe4e+-0x1bb*0x7+0xe*-0x28],this['data'][-0x1a72+0x1153+0x921]);}['getY'](_0x1add0c=new T()){return _0x1add0c['set'](this['data'][-0x2146+-0x6d5+-0x41*-0x9e],this['data'][-0x991+0x5a2+0x3f3],this['data'][-0x242b+-0x1262+-0x2*-0x1b49]);}['getZ'](_0x6714f9=new T()){return _0x6714f9['set'](this['data'][0x1*0x1861+-0x191f+0xc4],this['data'][0x14f2+-0x20d8+0xbed*0x1],this['data'][0xc75+-0x59*0x4b+0xda6]);}['equals'](_0x22d382){const _0x4454e0=this['data'],_0x5a3bb8=_0x22d382['data'];return _0x4454e0[-0x6*-0x429+0x1fbf+-0x38b5]===_0x5a3bb8[0x112a*0x1+-0xec*0x1e+-0x9e*-0x11]&&_0x4454e0[0x1*0x71d+0xca2+-0x13be]===_0x5a3bb8[-0x39*0x5f+0x1223*-0x1+-0x1*-0x274b]&&_0x4454e0[0x20e1+-0x1151+-0x16*0xb5]===_0x5a3bb8[0x16a*0x10+-0x2*0x380+-0xf9e]&&_0x4454e0[-0x1*-0x2321+0x1ed*0xf+0x5*-0xccd]===_0x5a3bb8[-0xbb3+0x8*-0xac+0x1116]&&_0x4454e0[0x87*0x39+0x7*0x494+-0xc6b*0x5]===_0x5a3bb8[0x24ca*0x1+-0x199d*-0x1+-0x1*0x3e63]&&_0x4454e0[-0x26a2+-0xd3*0x3+-0x1*-0x2920]===_0x5a3bb8[0x1f66+-0xdc7*0x1+-0x119a]&&_0x4454e0[0xc80+-0x7*0x1be+-0x48]===_0x5a3bb8[0x1a57+0x331+-0x1d82]&&_0x4454e0[-0x49a+0x36*0x23+-0x2c1]===_0x5a3bb8[0x12ed+0x1d5a+-0x3040]&&_0x4454e0[0xafd+0x20f1+-0x2be6]===_0x5a3bb8[0x4da+-0xc0*0x12+0x8ae];}['isIdentity'](){const _0x215a74=this['data'];return _0x215a74[-0x1c95+-0x18c6+0x355b]===-0xf43*0x1+-0x3e*0x1+-0xf82*-0x1&&_0x215a74[-0x162*-0x12+-0x211c+0x839]===-0x10a4+0x119d+0x3*-0x53&&_0x215a74[-0x2c8*0x6+-0x1601+0x26b3]===-0x1*0x11c7+-0xa70+0x1c37&&_0x215a74[0x21e9+0x13*-0xc2+0x10*-0x138]===-0x3*-0x5bf+-0x15d8+0x3*0x189&&_0x215a74[-0x2e7*0x3+0x10d2+-0x819]===0x5be+0x14c*0x1+-0x709&&_0x215a74[-0x1e24+0x53*0x1c+0x3*0x707]===-0x4ec*0x7+-0xccc+0x120*0x2a&&_0x215a74[0x16c7+-0xcd0+-0x9f1]===-0x2*-0xe71+0x17e1+-0x34c3&&_0x215a74[-0xfa7*-0x1+-0x6*-0x1bd+-0x1a0e]===0x80a+-0x34+-0x11*0x76&&_0x215a74[-0x5*0x163+0x5*-0xc7+0xada]===0xe*0x2a5+-0x1f*0x6d+-0x17d2;}['setIdentit'+'y'](){const _0x570218=this['data'];return _0x570218[-0x1aa*0xc+-0x1*0x17e3+0x6d*0x67]=0x16ef+0x527*0x7+-0x3aff,_0x570218[-0x2047+-0x1f90+0x8*0x7fb]=-0xa99*-0x3+0xc2+-0x208d,_0x570218[-0x1d*0x41+-0x1a6d+-0x67*-0x54]=-0x3*-0x365+-0x7b9+-0x3f*0xa,_0x570218[-0x4*0xa2+-0x414*0x6+0x1b03]=-0x1f04+-0xe77+0x2d7b,_0x570218[0x18d*0x1+-0x192c+0x17a3]=-0x1*-0x1ad9+0x347+-0xb*0x2bd,_0x570218[0x1b93+0x1*-0xbb+-0x1ad3]=-0x1e14+0x1*0x1f67+-0x153,_0x570218[0x229+0x26af+-0x37*0xbe]=-0xa3b+-0x2332+-0x1d*-0x191,_0x570218[0x10c3+0x51d+-0x15d9]=-0x65*0x4f+-0x2116+0x4041,_0x570218[0x1e3b+-0x388*-0x2+-0x2543*0x1]=0x1686+0xf+-0x1694,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x435677=this){const _0x1fcda3=_0x435677['data'],_0x3e277e=this['data'];if(_0x1fcda3===_0x3e277e){let _0x337fc2;_0x337fc2=_0x1fcda3[0xe53*0x1+-0x152d+-0x87*-0xd],_0x3e277e[0x24f*-0x3+0x2dd*-0x6+-0x4*-0x607]=_0x1fcda3[-0x11ab+0x4c*0x5a+-0x90a],_0x3e277e[-0x41*-0x7f+0xcef+0x1f*-0x175]=_0x337fc2,_0x337fc2=_0x1fcda3[0x3*0xb1f+0x204c+-0x41a7],_0x3e277e[-0x24a1+0x1426+-0x3*-0x57f]=_0x1fcda3[0x1*0x1338+0x1*0x1dc5+0x5*-0x9cb],_0x3e277e[-0x1*-0x27b+-0x1b62+-0x2c5*-0x9]=_0x337fc2,_0x337fc2=_0x1fcda3[0x2440+0x1113+-0x354e*0x1],_0x3e277e[-0x1919+0x11b6*0x1+0x1da*0x4]=_0x1fcda3[0x252+0x1b9e+-0x1de9],_0x3e277e[-0x949+-0x757*0x4+0x26ac]=_0x337fc2;}else _0x3e277e[-0xe1f+0x1bd3+-0x2*0x6da]=_0x1fcda3[-0xe8e+0x7e2*-0x3+-0x3c*-0xa3],_0x3e277e[-0x1*-0x11f1+0x8*-0x2fc+-0x2*-0x2f8]=_0x1fcda3[-0x245f+0x368+0x20fa],_0x3e277e[-0x8d8+0x16b1+0x1*-0xdd7]=_0x1fcda3[-0x1f*0x13a+-0x583*-0x3+0x1583],_0x3e277e[0x23b3+0x2*-0x9db+-0xffa]=_0x1fcda3[0x232*-0x2+0x37*0x14+-0x19*-0x1],_0x3e277e[0x12d6+0x1298+-0x256a]=_0x1fcda3[-0x2f*0x81+-0x14*0x1e0+0x3d33],_0x3e277e[-0xd*-0x6f+-0x2679+0x20db]=_0x1fcda3[-0x95e*0x1+-0x1ead+0x2812],_0x3e277e[-0x2dd*0x7+-0x75e+0x925*0x3]=_0x1fcda3[0x30*0x3e+0xb3*-0x8+-0x101*0x6],_0x3e277e[-0xe76+0x10d*-0x1d+0x2cf6]=_0x1fcda3[-0x17f2+-0x1bfa*0x1+-0x33f1*-0x1],_0x3e277e[-0x931+0xa4*0x3+0x7*0x10b]=_0x1fcda3[-0x2da*0x8+0x1919+-0x241];return this;}['setFromMat'+'4'](_0x27b162){const _0xfa81c6=_0x27b162['data'],_0x3a7837=this['data'];return _0x3a7837[-0x2*-0x7e3+0x14e1+0x24a7*-0x1]=_0xfa81c6[0x1be3+-0x3bb*0x2+-0x146d],_0x3a7837[-0x1d5a+0x48e+0x1*0x18cd]=_0xfa81c6[-0x19e3+0x47*-0x32+0x27c2*0x1],_0x3a7837[0xdc+0x1c6e+-0x1d48]=_0xfa81c6[0x1c4e+0x100*-0x12+-0xa4c],_0x3a7837[0x2594+-0x4f2*0x1+0x209f*-0x1]=_0xfa81c6[-0x232c+-0x106b+0x339b],_0x3a7837[0x7a6*0x5+0x890+-0x2*0x1765]=_0xfa81c6[-0x8f4+0x1*-0x1696+0x1f8f],_0x3a7837[0x1d4e+0x1d38+-0x3a81]=_0xfa81c6[-0x19b*-0x13+0x1031+-0x2eac],_0x3a7837[0xbe3+0x2*-0x2ec+-0x605]=_0xfa81c6[0x1bab+0xe1f+-0x29c2],_0x3a7837[0x19b6+0x1331+-0x2ce0]=_0xfa81c6[-0x7be+-0xe*-0x217+-0x1*0x157b],_0x3a7837[-0x95*-0x17+0xd5*-0x1b+0x91c]=_0xfa81c6[0x614*-0x1+0x11af*0x1+-0xb91],this;}['setFromQua'+'t'](_0x4b888c){const _0x1b8deb=_0x4b888c['x'],_0x3174b3=_0x4b888c['y'],_0x2e1fe1=_0x4b888c['z'],_0x257549=_0x4b888c['w'],_0x5d4f0e=_0x1b8deb+_0x1b8deb,_0x156b43=_0x3174b3+_0x3174b3,_0x1854c9=_0x2e1fe1+_0x2e1fe1,_0x2a8fad=_0x1b8deb*_0x5d4f0e,_0x3bec90=_0x1b8deb*_0x156b43,_0x1807f9=_0x1b8deb*_0x1854c9,_0x382a4d=_0x3174b3*_0x156b43,_0x4f8436=_0x3174b3*_0x1854c9,_0x4aeabe=_0x2e1fe1*_0x1854c9,_0x1dfc48=_0x257549*_0x5d4f0e,_0x13f4bb=_0x257549*_0x156b43,_0x24e0b3=_0x257549*_0x1854c9,_0x127ac8=this['data'];return _0x127ac8[-0xac*0x5+0x1da5*0x1+-0x1a49]=-0x7b7*-0x1+-0xa*0x2de+0x14f6-(_0x382a4d+_0x4aeabe),_0x127ac8[-0x1131+0x73f*0x1+0x9f3]=_0x3bec90+_0x24e0b3,_0x127ac8[0x248b+0x2b*0x56+0x1a5*-0x1f]=_0x1807f9-_0x13f4bb,_0x127ac8[-0x1*0x979+-0x178a+0x2106]=_0x3bec90-_0x24e0b3,_0x127ac8[0x2432+0x1*0x1583+-0x39b1]=-0x1366+-0x1*0x7c5+0x1b2c-(_0x2a8fad+_0x4aeabe),_0x127ac8[-0x253*0x1+0xa2e*0x1+-0x7d6]=_0x4f8436+_0x1dfc48,_0x127ac8[-0x2*0x78b+0x2*0x2c3+0x996]=_0x1807f9+_0x13f4bb,_0x127ac8[0x26b4+0xb45+-0x31f2]=_0x4f8436-_0x1dfc48,_0x127ac8[-0xc5a+-0x3f7*-0x1+-0x5*-0x1af]=-0x9cb*0x1+0x74f*-0x1+-0x1d*-0x97-(_0x2a8fad+_0x382a4d),this;}['invertMat4'](_0x48db2e){const _0x448424=_0x48db2e['data'],_0x248148=_0x448424[0x4d+0xf31+-0xf7e],_0x545c44=_0x448424[-0xdd5+0x106f+0x5f*-0x7],_0x372546=_0x448424[0x1c07+-0x1379+-0x88c],_0x518fe2=_0x448424[-0x27d*-0xa+0xc5b+-0x2539],_0x52a35c=_0x448424[-0xff5+0x3b*0x28+0x361*0x2],_0x3cb083=_0x448424[0x1f6b+0x53*-0x3b+-0xc44],_0x1ad4d1=_0x448424[0x9*-0x1b7+0x13e3+-0x46c],_0x3d16df=_0x448424[-0x7cd*0x1+0xa61*-0x3+0xb*0x38b],_0x5d5ccd=_0x448424[-0x2182+0x1b0d+-0x67f*-0x1],_0x523824=_0x5d5ccd*_0x52a35c-_0x3cb083*_0x3d16df,_0x467dda=-_0x5d5ccd*_0x545c44+_0x372546*_0x3d16df,_0x1d505b=_0x3cb083*_0x545c44-_0x372546*_0x52a35c,_0x25fde5=-_0x5d5ccd*_0x518fe2+_0x3cb083*_0x1ad4d1,_0x49a4ca=_0x5d5ccd*_0x248148-_0x372546*_0x1ad4d1,_0x5648ef=-_0x3cb083*_0x248148+_0x372546*_0x518fe2,_0x46ad49=_0x3d16df*_0x518fe2-_0x52a35c*_0x1ad4d1,_0x4ae7dd=-_0x3d16df*_0x248148+_0x545c44*_0x1ad4d1,_0x78e7a2=_0x52a35c*_0x248148-_0x545c44*_0x518fe2,_0x8bfeb8=_0x248148*_0x523824+_0x545c44*_0x25fde5+_0x372546*_0x46ad49;if(_0x8bfeb8===0x24be+0x22*-0x95+-0x10f4)this['setIdentit'+'y']();else{const _0x1f9569=(-0x25b2+0x24de+0x3*0x47)/_0x8bfeb8,_0x1c721d=this['data'];_0x1c721d[-0x2*0x1294+0x150+-0x23d8*-0x1]=_0x523824*_0x1f9569,_0x1c721d[-0xa16+-0x1806+-0x1*-0x221d]=_0x467dda*_0x1f9569,_0x1c721d[0x1*-0x741+0x1c06+-0x1*0x14c3]=_0x1d505b*_0x1f9569,_0x1c721d[-0x2b0+0x1fff*-0x1+0x22b2]=_0x25fde5*_0x1f9569,_0x1c721d[-0x2186+-0x312*0xc+-0xb*-0x666]=_0x49a4ca*_0x1f9569,_0x1c721d[0x1d63*0x1+0x212a+-0x3e88]=_0x5648ef*_0x1f9569,_0x1c721d[0x2*0x511+0x1a20+-0x243c]=_0x46ad49*_0x1f9569,_0x1c721d[0xd*-0x24f+0x343*-0x7+-0x5*-0xa93]=_0x4ae7dd*_0x1f9569,_0x1c721d[0x18b6*0x1+0x20db+-0x1*0x3989]=_0x78e7a2*_0x1f9569;}return this;}['transformV'+'ector'](_0x1855bc,_0x471d90=new T()){const _0x4f67dd=this['data'],{x:_0x3c8b89,y:_0x390812,z:_0x481b25}=_0x1855bc;return _0x471d90['x']=_0x3c8b89*_0x4f67dd[0x1*-0x1505+-0x1136+-0x1*-0x263b]+_0x390812*_0x4f67dd[0x1d*0x6e+-0x6*0x373+0x83f]+_0x481b25*_0x4f67dd[0x93b+0x1175*-0x1+-0x30*-0x2c],_0x471d90['y']=_0x3c8b89*_0x4f67dd[-0x2*-0xd9a+0xa27+-0x255a]+_0x390812*_0x4f67dd[0x8d7*0x4+0x13d9+-0x3731*0x1]+_0x481b25*_0x4f67dd[0x2*0x27+0x1*-0xd3+0x8c],_0x471d90['z']=_0x3c8b89*_0x4f67dd[0x2*-0x115f+-0x1f56+0x602*0xb]+_0x390812*_0x4f67dd[0x23b5+0x17bd+-0x3b6d]+_0x481b25*_0x4f67dd[-0xb1e*0x3+-0x2*0xe03+0x3d68],_0x471d90;}};c(na,'IDENTITY',Object['freeze'](new na())),c(na,'ZERO',Object['freeze'](new na()['set']([-0x1*0x29+-0x36*0x1f+-0x157*-0x5,0x10f*-0x13+0x648+-0xdd5*-0x1,-0x15*0x183+-0x1690+0x1*0x364f,-0x1eee+0x22*-0x7d+0x12*0x2a4,0x1*0xb37+0x1cc5+0x6*-0x6aa,-0x3e5*-0x9+0x523+-0x2830,0x4b*0xd+-0x13d*0x11+-0x113e*-0x1,-0x21b5*-0x1+0x49*0x65+-0x3e82,0x1e64+-0x11*-0x4+-0x1ea8])));let js=na;const wt=class wt{constructor(_0x5a8b66=-0x10d6+0x202*-0xe+0x2cf2,_0x3f1fc3=0x1*-0x146e+-0x5e8*0x1+0xd2b*0x2){c(this,'x'),c(this,'y'),_0x5a8b66['length']===-0x630+-0x46e+-0x20*-0x55?(this['x']=_0x5a8b66[-0x26a2+-0x14f1*0x1+0x1*0x3b93],this['y']=_0x5a8b66[0x1*-0xf4d+-0x7d3*-0x3+-0x82b]):(this['x']=_0x5a8b66,this['y']=_0x3f1fc3);}['add'](_0x48b8bd){return this['x']+=_0x48b8bd['x'],this['y']+=_0x48b8bd['y'],this;}['add2'](_0xe7c79a,_0x3e7b64){return this['x']=_0xe7c79a['x']+_0x3e7b64['x'],this['y']=_0xe7c79a['y']+_0x3e7b64['y'],this;}['addScalar'](_0x16a603){return this['x']+=_0x16a603,this['y']+=_0x16a603,this;}['addScaled'](_0xfba56,_0x358b7e){return this['x']+=_0xfba56['x']*_0x358b7e,this['y']+=_0xfba56['y']*_0x358b7e,this;}['clone'](){const _0x2ad000=this['constructo'+'r'];return new _0x2ad000(this['x'],this['y']);}['copy'](_0x5a6e38){return this['x']=_0x5a6e38['x'],this['y']=_0x5a6e38['y'],this;}['cross'](_0x436783){return this['x']*_0x436783['y']-this['y']*_0x436783['x'];}['distance'](_0x295b18){const _0x3b4cfb=this['x']-_0x295b18['x'],_0x2525bc=this['y']-_0x295b18['y'];return Math['sqrt'](_0x3b4cfb*_0x3b4cfb+_0x2525bc*_0x2525bc);}['div'](_0x3863dd){return this['x']/=_0x3863dd['x'],this['y']/=_0x3863dd['y'],this;}['div2'](_0x31a9af,_0x251179){return this['x']=_0x31a9af['x']/_0x251179['x'],this['y']=_0x31a9af['y']/_0x251179['y'],this;}['divScalar'](_0x2d1406){return this['x']/=_0x2d1406,this['y']/=_0x2d1406,this;}['dot'](_0x4e8507){return this['x']*_0x4e8507['x']+this['y']*_0x4e8507['y'];}['equals'](_0x1d9bd0){return this['x']===_0x1d9bd0['x']&&this['y']===_0x1d9bd0['y'];}['equalsAppr'+'ox'](_0x5ec207,_0x648767=-0x1de*0x4+0x1a*-0xb2+0x1e*0xda+0.000001){return Math['abs'](this['x']-_0x5ec207['x'])<_0x648767&&Math['abs'](this['y']-_0x5ec207['y'])<_0x648767;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x1d2a38,_0x3f4f48,_0x555a95){return this['x']=_0x1d2a38['x']+_0x555a95*(_0x3f4f48['x']-_0x1d2a38['x']),this['y']=_0x1d2a38['y']+_0x555a95*(_0x3f4f48['y']-_0x1d2a38['y']),this;}['mul'](_0x12dfc1){return this['x']*=_0x12dfc1['x'],this['y']*=_0x12dfc1['y'],this;}['mul2'](_0x368efe,_0x41c199){return this['x']=_0x368efe['x']*_0x41c199['x'],this['y']=_0x368efe['y']*_0x41c199['y'],this;}['mulScalar'](_0x428f9a){return this['x']*=_0x428f9a,this['y']*=_0x428f9a,this;}['normalize'](_0x49e98d=this){const _0x458751=_0x49e98d['x']*_0x49e98d['x']+_0x49e98d['y']*_0x49e98d['y'];if(_0x458751>0xf5e*0x1+0xe*-0x8f+-0x17*0x54){const _0x3ea0e3=(-0x1e69*-0x1+-0x103f*0x1+0x1d*-0x7d)/Math['sqrt'](_0x458751);this['x']=_0x49e98d['x']*_0x3ea0e3,this['y']=_0x49e98d['y']*_0x3ea0e3;}return this;}['rotate'](_0x5ceebc){const _0x101311=Math['atan2'](this['x'],this['y'])+_0x5ceebc*N['DEG_TO_RAD'],_0x2c5d7f=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x101311)*_0x2c5d7f,this['y']=Math['cos'](_0x101311)*_0x2c5d7f,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*N['RAD_TO_DEG'];}['angleTo'](_0x4490f1){return Math['atan2'](this['x']*_0x4490f1['y']+this['y']*_0x4490f1['x'],this['x']*_0x4490f1['x']+this['y']*_0x4490f1['y'])*N['RAD_TO_DEG'];}['floor'](_0x17ac6b=this){return this['x']=Math['floor'](_0x17ac6b['x']),this['y']=Math['floor'](_0x17ac6b['y']),this;}['ceil'](_0x5dac93=this){return this['x']=Math['ceil'](_0x5dac93['x']),this['y']=Math['ceil'](_0x5dac93['y']),this;}['round'](_0x2da3c9=this){return this['x']=Math['round'](_0x2da3c9['x']),this['y']=Math['round'](_0x2da3c9['y']),this;}['min'](_0x395adf){return _0x395adf['x']<this['x']&&(this['x']=_0x395adf['x']),_0x395adf['y']<this['y']&&(this['y']=_0x395adf['y']),this;}['max'](_0x1c3b68){return _0x1c3b68['x']>this['x']&&(this['x']=_0x1c3b68['x']),_0x1c3b68['y']>this['y']&&(this['y']=_0x1c3b68['y']),this;}['set'](_0x484bb6,_0x417196){return this['x']=_0x484bb6,this['y']=_0x417196,this;}['sub'](_0x2e1d60){return this['x']-=_0x2e1d60['x'],this['y']-=_0x2e1d60['y'],this;}['sub2'](_0x766c8f,_0x451a9e){return this['x']=_0x766c8f['x']-_0x451a9e['x'],this['y']=_0x766c8f['y']-_0x451a9e['y'],this;}['subScalar'](_0xbf6868){return this['x']-=_0xbf6868,this['y']-=_0xbf6868,this;}['fromArray'](_0x2a8bf2,_0x2dbd5a=0x22c3+0x1eeb+0x7*-0x962){return this['x']=_0x2a8bf2[_0x2dbd5a]??this['x'],this['y']=_0x2a8bf2[_0x2dbd5a+(-0x138f+0x1daa+-0xa1a)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x31eb90=[],_0x58e39d=0x317*0x6+0x1bb+-0x1445){return _0x31eb90[_0x58e39d]=this['x'],_0x31eb90[_0x58e39d+(-0x2*0x7cd+-0x1*0x100a+-0x1fa5*-0x1)]=this['y'],_0x31eb90;}static['angleRad'](_0x1200db,_0x3f4a55){return Math['atan2'](_0x1200db['x']*_0x3f4a55['y']-_0x1200db['y']*_0x3f4a55['x'],_0x1200db['x']*_0x3f4a55['x']+_0x1200db['y']*_0x3f4a55['y']);}};c(wt,'ZERO',Object['freeze'](new wt(0x1897+-0xa12*-0x1+-0x22a9,-0x2005+0x3*0x8b7+0x5e0))),c(wt,'HALF',Object['freeze'](new wt(-0x658+0x169f+0x56d*-0x3+0.5,0x61e+-0xd*-0xe2+-0x466*0x4+0.5))),c(wt,'ONE',Object['freeze'](new wt(0x65*0x16+-0x832+-0x7b,-0x2*-0x7e3+-0x672+-0x953))),c(wt,'UP',Object['freeze'](new wt(0x1b*-0x67+-0xf44+-0x1*-0x1a21,-0x1de+0x602*-0x3+0x1*0x13e5))),c(wt,'DOWN',Object['freeze'](new wt(0x1e29+0xe4b*0x2+-0x1*0x3abf,-(0x371*-0x2+-0x1bf+0x8a2)))),c(wt,'RIGHT',Object['freeze'](new wt(-0x189b*-0x1+-0x1c*-0x4a+0x68a*-0x5,-0x1a25+-0x13db+0x2e00))),c(wt,'LEFT',Object['freeze'](new wt(-(0x12*-0xa7+-0x11c3*-0x1+-0x604),0xdce+0x5e4*-0x1+-0x7ea*0x1)));let $=wt;const Yi=class Yi{constructor(_0x157cde=0x12b0+0x9ff*-0x3+0xb4d,_0xc40323=0x22ab+0xc27*-0x1+-0x1684,_0x38257b=-0x1d64+0x17cc+-0x1*-0x598,_0x512470=-0x2*-0x5e+0x1*0x41e+0x4da*-0x1){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x157cde['length']===-0x1d82+0x1797+0x1f*0x31?(this['x']=_0x157cde[0x5fd+0x1*-0x1941+0x1344],this['y']=_0x157cde[-0x5c1+0x7c+0x546],this['z']=_0x157cde[0x162d+0x171a+-0x2d45],this['w']=_0x157cde[-0x1d84+-0x1f45+0xc*0x511]):(this['x']=_0x157cde,this['y']=_0xc40323,this['z']=_0x38257b,this['w']=_0x512470);}['add'](_0x24a596){return this['x']+=_0x24a596['x'],this['y']+=_0x24a596['y'],this['z']+=_0x24a596['z'],this['w']+=_0x24a596['w'],this;}['add2'](_0x11c0b7,_0x434c60){return this['x']=_0x11c0b7['x']+_0x434c60['x'],this['y']=_0x11c0b7['y']+_0x434c60['y'],this['z']=_0x11c0b7['z']+_0x434c60['z'],this['w']=_0x11c0b7['w']+_0x434c60['w'],this;}['addScalar'](_0xf3a9a6){return this['x']+=_0xf3a9a6,this['y']+=_0xf3a9a6,this['z']+=_0xf3a9a6,this['w']+=_0xf3a9a6,this;}['addScaled'](_0x3cf954,_0x55cb75){return this['x']+=_0x3cf954['x']*_0x55cb75,this['y']+=_0x3cf954['y']*_0x55cb75,this['z']+=_0x3cf954['z']*_0x55cb75,this['w']+=_0x3cf954['w']*_0x55cb75,this;}['clone'](){const _0x19175b=this['constructo'+'r'];return new _0x19175b(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x4acafb){return this['x']=_0x4acafb['x'],this['y']=_0x4acafb['y'],this['z']=_0x4acafb['z'],this['w']=_0x4acafb['w'],this;}['div'](_0x1d236e){return this['x']/=_0x1d236e['x'],this['y']/=_0x1d236e['y'],this['z']/=_0x1d236e['z'],this['w']/=_0x1d236e['w'],this;}['div2'](_0x54c6c9,_0x19be4c){return this['x']=_0x54c6c9['x']/_0x19be4c['x'],this['y']=_0x54c6c9['y']/_0x19be4c['y'],this['z']=_0x54c6c9['z']/_0x19be4c['z'],this['w']=_0x54c6c9['w']/_0x19be4c['w'],this;}['divScalar'](_0x204496){return this['x']/=_0x204496,this['y']/=_0x204496,this['z']/=_0x204496,this['w']/=_0x204496,this;}['dot'](_0x34beb8){return this['x']*_0x34beb8['x']+this['y']*_0x34beb8['y']+this['z']*_0x34beb8['z']+this['w']*_0x34beb8['w'];}['equals'](_0x1c3de7){return this['x']===_0x1c3de7['x']&&this['y']===_0x1c3de7['y']&&this['z']===_0x1c3de7['z']&&this['w']===_0x1c3de7['w'];}['equalsAppr'+'ox'](_0x4170b1,_0x3740b6=0x1d1d+-0x7*-0x4f+-0x1f46+0.000001){return Math['abs'](this['x']-_0x4170b1['x'])<_0x3740b6&&Math['abs'](this['y']-_0x4170b1['y'])<_0x3740b6&&Math['abs'](this['z']-_0x4170b1['z'])<_0x3740b6&&Math['abs'](this['w']-_0x4170b1['w'])<_0x3740b6;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x1e7151,_0x4655ac,_0x5110c8){return this['x']=_0x1e7151['x']+_0x5110c8*(_0x4655ac['x']-_0x1e7151['x']),this['y']=_0x1e7151['y']+_0x5110c8*(_0x4655ac['y']-_0x1e7151['y']),this['z']=_0x1e7151['z']+_0x5110c8*(_0x4655ac['z']-_0x1e7151['z']),this['w']=_0x1e7151['w']+_0x5110c8*(_0x4655ac['w']-_0x1e7151['w']),this;}['mul'](_0x3ba22c){return this['x']*=_0x3ba22c['x'],this['y']*=_0x3ba22c['y'],this['z']*=_0x3ba22c['z'],this['w']*=_0x3ba22c['w'],this;}['mul2'](_0x746a5a,_0x461d06){return this['x']=_0x746a5a['x']*_0x461d06['x'],this['y']=_0x746a5a['y']*_0x461d06['y'],this['z']=_0x746a5a['z']*_0x461d06['z'],this['w']=_0x746a5a['w']*_0x461d06['w'],this;}['mulScalar'](_0x5cd4ea){return this['x']*=_0x5cd4ea,this['y']*=_0x5cd4ea,this['z']*=_0x5cd4ea,this['w']*=_0x5cd4ea,this;}['normalize'](_0x5d7c37=this){const _0x2b6afa=_0x5d7c37['x']*_0x5d7c37['x']+_0x5d7c37['y']*_0x5d7c37['y']+_0x5d7c37['z']*_0x5d7c37['z']+_0x5d7c37['w']*_0x5d7c37['w'];if(_0x2b6afa>0xd*0x143+-0x125a+0x1f3*0x1){const _0x4490ec=(0x1*-0x9fe+-0x15fb+0x1ffa)/Math['sqrt'](_0x2b6afa);this['x']=_0x5d7c37['x']*_0x4490ec,this['y']=_0x5d7c37['y']*_0x4490ec,this['z']=_0x5d7c37['z']*_0x4490ec,this['w']=_0x5d7c37['w']*_0x4490ec;}return this;}['floor'](_0x2b91d5=this){return this['x']=Math['floor'](_0x2b91d5['x']),this['y']=Math['floor'](_0x2b91d5['y']),this['z']=Math['floor'](_0x2b91d5['z']),this['w']=Math['floor'](_0x2b91d5['w']),this;}['ceil'](_0x1ea06a=this){return this['x']=Math['ceil'](_0x1ea06a['x']),this['y']=Math['ceil'](_0x1ea06a['y']),this['z']=Math['ceil'](_0x1ea06a['z']),this['w']=Math['ceil'](_0x1ea06a['w']),this;}['round'](_0x3647c8=this){return this['x']=Math['round'](_0x3647c8['x']),this['y']=Math['round'](_0x3647c8['y']),this['z']=Math['round'](_0x3647c8['z']),this['w']=Math['round'](_0x3647c8['w']),this;}['min'](_0x29be7b){return _0x29be7b['x']<this['x']&&(this['x']=_0x29be7b['x']),_0x29be7b['y']<this['y']&&(this['y']=_0x29be7b['y']),_0x29be7b['z']<this['z']&&(this['z']=_0x29be7b['z']),_0x29be7b['w']<this['w']&&(this['w']=_0x29be7b['w']),this;}['max'](_0x22453b){return _0x22453b['x']>this['x']&&(this['x']=_0x22453b['x']),_0x22453b['y']>this['y']&&(this['y']=_0x22453b['y']),_0x22453b['z']>this['z']&&(this['z']=_0x22453b['z']),_0x22453b['w']>this['w']&&(this['w']=_0x22453b['w']),this;}['set'](_0x3c11c3,_0xa6873a,_0x3d3118,_0x27382b){return this['x']=_0x3c11c3,this['y']=_0xa6873a,this['z']=_0x3d3118,this['w']=_0x27382b,this;}['sub'](_0x2e6f6d){return this['x']-=_0x2e6f6d['x'],this['y']-=_0x2e6f6d['y'],this['z']-=_0x2e6f6d['z'],this['w']-=_0x2e6f6d['w'],this;}['sub2'](_0x5c37bb,_0x2a712f){return this['x']=_0x5c37bb['x']-_0x2a712f['x'],this['y']=_0x5c37bb['y']-_0x2a712f['y'],this['z']=_0x5c37bb['z']-_0x2a712f['z'],this['w']=_0x5c37bb['w']-_0x2a712f['w'],this;}['subScalar'](_0x4505ff){return this['x']-=_0x4505ff,this['y']-=_0x4505ff,this['z']-=_0x4505ff,this['w']-=_0x4505ff,this;}['fromArray'](_0x5ee6b8,_0x3aaaee=-0x1bce*-0x1+0xb*-0x35c+-0x2*-0x493){return this['x']=_0x5ee6b8[_0x3aaaee]??this['x'],this['y']=_0x5ee6b8[_0x3aaaee+(-0x1*0xf61+-0x4b3+0x1415*0x1)]??this['y'],this['z']=_0x5ee6b8[_0x3aaaee+(-0x1*0x11bd+0xd*-0x296+-0x111f*-0x3)]??this['z'],this['w']=_0x5ee6b8[_0x3aaaee+(0x1ba6+0x1e28+-0x39cb)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x38a3a5=[],_0x16fc05=-0x9*-0x3fa+-0x14c*0x1e+0x7*0x72){return _0x38a3a5[_0x16fc05]=this['x'],_0x38a3a5[_0x16fc05+(-0x251f+0x1*0x260f+-0xef)]=this['y'],_0x38a3a5[_0x16fc05+(0x1*-0x1+-0x1*-0xc37+0x61a*-0x2)]=this['z'],_0x38a3a5[_0x16fc05+(0xfea+-0x1*0x1283+-0x14e*-0x2)]=this['w'],_0x38a3a5;}};c(Yi,'ZERO',Object['freeze'](new Yi(0x118a+0x5*-0x7c2+0x1540,0x31*-0xa+-0x25ab+0x2795,0x1ae1+0xba3+0x2684*-0x1,-0x2*-0xbd5+0x1e36+-0x35e0))),c(Yi,'HALF',Object['freeze'](new Yi(0xc9e+-0xac*0x2e+0x1*0x124a+0.5,0x479+0x2*-0x751+0xa29+0.5,-0x2*-0x32+0x604+-0x52*0x14+0.5,-0x983+-0xf7c+-0x51*-0x4f+0.5))),c(Yi,'ONE',Object['freeze'](new Yi(0x2601+-0x2548+-0x8*0x17,0xa93*-0x1+-0x38f*0x1+0xe23,-0x1003+-0x241d+0x3421,0x13*-0xd9+0x1d09+-0x1*0xced)));let Q=Yi;const Ua=new $(),us=new T(),Fs=new T(),Os=new T(),_l=new T(),Ur=class Ur{constructor(){c(this,'data',new Float32Array(-0x92f+-0x17b9+-0xd3*-0x28)),this['data'][0x2*0x4b8+-0xa04+0x94]=this['data'][-0x2665*0x1+0x1a64+0xc06]=this['data'][0x1a3*0x13+-0x65*-0xe+-0x2495]=this['data'][0x5b9+0x3*-0xa67+0x198b]=0x80b*-0x2+0x7a2+0x875;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x2d03d9,_0x5275a1,_0x49edd4,_0x519972,_0x24bad0){_0x24bad0?(_0x2d03d9['x']=_0x519972*Math['tan'](_0x5275a1*Math['PI']/(-0x1*-0x1be7+0x106a+-0x2ae9)),_0x2d03d9['y']=_0x2d03d9['x']/_0x49edd4):(_0x2d03d9['y']=_0x519972*Math['tan'](_0x5275a1*Math['PI']/(-0x67*0xd+-0x1108+0x49*0x53)),_0x2d03d9['x']=_0x2d03d9['y']*_0x49edd4);}['add2'](_0x2de019,_0x1946ca){const _0x5711c4=_0x2de019['data'],_0x113edc=_0x1946ca['data'],_0x19836b=this['data'];return _0x19836b[0x13*-0x1cf+0xb89+0x16d4]=_0x5711c4[0x554+-0x4*0x3c7+0x9c8]+_0x113edc[0x1*0xfa7+-0x1*0x6fb+-0x94*0xf],_0x19836b[0xb11*-0x1+-0x1*0xa66+0x1578]=_0x5711c4[0x2*-0x8b6+-0x1*-0x1196+-0x29*0x1]+_0x113edc[-0x36*-0x98+-0x5ee*0x6+0x385],_0x19836b[-0x8bc+0x3*-0x304+0x11ca]=_0x5711c4[-0x5dd+0x22be+0x13*-0x185]+_0x113edc[0x8a5*-0x1+-0x285*-0x4+-0x16d],_0x19836b[0x222f+0x178e+-0x39ba]=_0x5711c4[-0x2*0x98a+-0x1d8d+0x30a4*0x1]+_0x113edc[-0xa9*-0x19+-0x1*0xfb5+-0xc9],_0x19836b[-0x7b2+0x188f+-0x10d9]=_0x5711c4[0x8b6+-0x1b25+0x1273]+_0x113edc[-0x22bf+-0x127e+0x3541],_0x19836b[-0x6a9*0x1+-0x1*-0x684+0x2a]=_0x5711c4[-0x1*0x4cf+0x1826+-0x1*0x1352]+_0x113edc[-0x1*-0x15b+-0x65c+0x2*0x283],_0x19836b[-0x11e0+-0x21*-0xd+0x1039*0x1]=_0x5711c4[-0x1b1f*-0x1+-0x9e*-0x2e+-0x1*0x377d]+_0x113edc[0x1*0x14bf+-0x1a25+-0x2*-0x2b6],_0x19836b[0x220a+-0xb*-0x28e+-0x3e1d]=_0x5711c4[0x1f05+-0x2183+0x285]+_0x113edc[-0x3*-0x1cf+-0x1f6f+0x1a09],_0x19836b[0x1523+-0xe4+-0x1437]=_0x5711c4[-0x1111+-0x12b5*-0x1+-0x1*0x19c]+_0x113edc[0x94a+0x265c*-0x1+0x1*0x1d1a],_0x19836b[-0x123f+0x14e3+-0x29b]=_0x5711c4[0x1c87*-0x1+0xc*-0xbc+0x2560]+_0x113edc[-0x120d+0x4b8*-0x4+0x24f6],_0x19836b[-0xd4+0x9c2+-0x8e4]=_0x5711c4[-0x18c7+-0x1807+0x30d8]+_0x113edc[-0x1*-0x265+0xd2b+-0x7c3*0x2],_0x19836b[-0x2351+0x19de+0x97e]=_0x5711c4[-0x2*-0x233+-0x1*0x26e7+0x228c]+_0x113edc[-0x2b*0xb+0x5*0x3b3+-0x109b*0x1],_0x19836b[-0x17e8+0x161*-0x13+0x3227]=_0x5711c4[-0x51a+-0x1a0*-0x13+-0x19ba]+_0x113edc[0x1*0x556+-0x3e0+-0x1*0x16a],_0x19836b[-0x20a+-0x1f48+0x215f*0x1]=_0x5711c4[0xbe1+-0x27*0xe3+0x16c1]+_0x113edc[-0xd1a+-0x1*0x8bb+0x2*0xaf1],_0x19836b[-0x132f+0x1a38+-0x6fb*0x1]=_0x5711c4[0x14f1+-0x1383+-0xb0*0x2]+_0x113edc[0x22fd+-0x1fc8+0x10d*-0x3],_0x19836b[0x70b*0x5+-0xefd+-0x142b]=_0x5711c4[0x9*-0x359+0x1*0x16ce+0x1*0x762]+_0x113edc[0x106b*-0x1+0x5*-0x1fb+0x1a61],this;}['add'](_0x1e3a8a){return this['add2'](this,_0x1e3a8a);}['clone'](){const _0x522ab9=this['constructo'+'r'];return new _0x522ab9()['copy'](this);}['copy'](_0xc8b652){const _0x36ae52=_0xc8b652['data'],_0x40469e=this['data'];return _0x40469e[0x48*0x33+-0xb*-0x3d+-0x10f7]=_0x36ae52[-0x1*0xf67+0x1*0x7ca+-0x1*-0x79d],_0x40469e[0x1ece+0x18c8+0x5d*-0x99]=_0x36ae52[-0x1d4+-0x1767+-0x64f*-0x4],_0x40469e[0xcd1+-0x6*0x3ef+0x1*0xacb]=_0x36ae52[-0x216b+0x3d5*-0x2+0x2917],_0x40469e[0x854*-0x1+-0x262e+-0x1*-0x2e85]=_0x36ae52[0x1*-0xff3+-0x5*-0xed+0xb55],_0x40469e[0x1804+0x79b+0xa89*-0x3]=_0x36ae52[0x160d+0x6e2+-0x1ceb],_0x40469e[0x1*-0x203b+0x1f2a+-0x116*-0x1]=_0x36ae52[-0x756*0x3+-0x175c+-0x1*-0x2d63],_0x40469e[0x2501*0x1+0x502*0x5+-0x3e05]=_0x36ae52[0x1698+-0x1*-0x38f+-0x1a21],_0x40469e[-0x25d2+0xb43+-0x29*-0xa6]=_0x36ae52[-0x248f+0x1f55+0x541],_0x40469e[0x1*0x1efb+0x1*-0x19ed+-0x506]=_0x36ae52[0x8f4+0x132b+-0x3*0x95d],_0x40469e[0x1*0x401+0x1*-0x122b+0xe33]=_0x36ae52[0xcc0+-0xba0+-0x117],_0x40469e[-0x1*0x189b+0x1d49+-0x4a4]=_0x36ae52[-0x63*0x53+-0x1f9c+0x3fbf],_0x40469e[0x17b8+0x219a+-0x3947]=_0x36ae52[0xc*-0x53+0x3a6*-0x3+0xd*0x125],_0x40469e[-0x197a+0x2ca*-0x5+0x2778]=_0x36ae52[0x3*0x4f+-0x2153+-0x1039*-0x2],_0x40469e[0xe*-0x241+0x239a+-0x3ff]=_0x36ae52[0xa8e*0x1+-0x1990+-0x3*-0x505],_0x40469e[-0xa*-0x46+0x363*0x1+-0x611]=_0x36ae52[0x1599+-0x3d*0xa+-0x5*0x3d5],_0x40469e[-0xcc7+0xf03+-0x22d*0x1]=_0x36ae52[-0x1*0x1afb+0x242*-0x7+-0x3*-0xe48],this;}['equals'](_0x4e39a6){const _0x593fdb=this['data'],_0x185278=_0x4e39a6['data'];return _0x593fdb[-0xa8d+0x12ef+-0x862]===_0x185278[0x1fba+0x1*-0x5bf+-0x19fb]&&_0x593fdb[-0x9*-0x53+0x669*0x1+-0x953]===_0x185278[-0x101b+-0x5d9*-0x3+-0x16f]&&_0x593fdb[0x1e94+0x946+-0x6*0x6a4]===_0x185278[-0x19*-0x8d+0x1ee5+-0x2ca8*0x1]&&_0x593fdb[-0x145b+-0x11*-0x53+0xedb]===_0x185278[-0x2020+-0x84a*0x1+0x1*0x286d]&&_0x593fdb[-0x1013+0x10b3+-0x9c]===_0x185278[-0xf*0xca+0xb*-0x142+0xc*0x224]&&_0x593fdb[0x5bf*-0x1+-0x253a+0x2afe]===_0x185278[-0x324+0x2f+0x2fa]&&_0x593fdb[-0xdfd*0x1+0x25ad+-0x1a*0xe9]===_0x185278[-0x64*0x45+-0x1b4a+0x3644]&&_0x593fdb[-0x189e*-0x1+-0x195*-0x6+-0x6d1*0x5]===_0x185278[0x1de*-0x3+0x476*-0x1+0xa17]&&_0x593fdb[0x36f*0xa+-0x1b7f+-0x6cf]===_0x185278[-0xfaf+-0x2f*0x9e+0x2cb9]&&_0x593fdb[0x326+0x8de+-0xbfb]===_0x185278[-0xeea*0x2+0x2081*0x1+-0xa9*0x4]&&_0x593fdb[0x359*0x7+0x2625+-0x3d8a]===_0x185278[-0x17*0x92+0x3dd+0x3d*0x27]&&_0x593fdb[0x1*-0x1a21+0x2*0xbdc+0x2*0x13a]===_0x185278[0x1b86+0x1d77+-0x38f2]&&_0x593fdb[0x1a77+0xf52+0x5*-0x859]===_0x185278[-0xcce+0x3b8+0x922]&&_0x593fdb[-0x28*-0x5e+-0x247*0x9+0x5dc*0x1]===_0x185278[0x16fa+-0x162a*-0x1+-0x2d17]&&_0x593fdb[0x180+0x2*0xdee+-0x1d4e]===_0x185278[-0x2*0x5fe+0x1a2e+0xe24*-0x1]&&_0x593fdb[0xe*0x284+-0x9ec*0x2+-0xf51]===_0x185278[-0x7*0x1+-0x1*0x506+0x6d*0xc];}['isIdentity'](){const _0x51a8c8=this['data'];return _0x51a8c8[0xfd9+0x1*-0x21b9+0x11e0]===-0x1d98+-0x1539+0x32d2*0x1&&_0x51a8c8[-0x29*-0x26+0x1a72+-0x2087]===-0x26c9+-0x2*-0x47e+-0x1dcd*-0x1&&_0x51a8c8[-0xe1c+-0x5b2+0x13d0]===-0x7*-0x1ad+0x1297+-0x1e52&&_0x51a8c8[-0x682+-0x641+0xcc6]===0x7e5+0xe4*-0xd+0x3af&&_0x51a8c8[0x17*0x105+0xfd6*-0x1+-0x799]===0xc*-0x30a+-0x3*0x652+0x50a*0xb&&_0x51a8c8[-0x114a+0x2*0xfa1+-0xdf3*0x1]===-0x5d8*-0x3+0x4ef+-0x1676&&_0x51a8c8[0x18a*-0x4+-0x146f+0x1a9d]===-0x95*-0x2b+-0x3aa*0x9+0x7f3&&_0x51a8c8[0x4f*-0x35+0x1f98+-0xf36]===-0x20e3+0x5e5+0x1afe&&_0x51a8c8[0xa6d*0x1+-0x1*-0xfd0+-0x1a35]===-0x49*-0x74+-0x1b8b+-0x589&&_0x51a8c8[0x72a*0x1+-0x246a+0x1d49]===-0x1a63+0x185e+-0xb*-0x2f&&_0x51a8c8[0x591*-0x2+-0x1c1c+0x2748]===-0x7ce+-0x1*0x2215+0x29e4&&_0x51a8c8[0x3*0x67f+0x114a+-0x24bc]===-0xc4b*0x2+-0x27*-0x8d+0x31b&&_0x51a8c8[-0x34a*0x7+0x3da+0x1e*0xa4]===-0x1*0x415+0x95d+0x1a*-0x34&&_0x51a8c8[-0x4*-0x847+-0x1cb9+-0x456]===-0x969+0xc35+-0x2cc&&_0x51a8c8[0x13*0x16a+-0x19c1*-0x1+0x1*-0x3491]===-0xb82*0x3+-0x241e+0x46a4&&_0x51a8c8[0x173b+0x257+-0x3*0x881]===0x1a8*0x6+-0x66*-0x11+-0x10b5;}['mul2'](_0x4f4941,_0x12f361){const _0x2d3995=_0x4f4941['data'],_0x1a5c53=_0x12f361['data'],_0x21ac90=this['data'],_0x240816=_0x2d3995[-0xdb3+0x1e98+0x1*-0x10e5],_0x56e3f4=_0x2d3995[-0x4f5+0x8bc+-0x3c6],_0x3ab78e=_0x2d3995[-0x1c20+0x118a+-0x71*-0x18],_0x145b1e=_0x2d3995[0x39b+0xa93*-0x1+0x6fb],_0x2b0f87=_0x2d3995[0x1616*-0x1+-0x1b2b+-0x1*-0x3145],_0x563651=_0x2d3995[0x1*-0x745+0x2*0xc4c+0x1*-0x114e],_0x923364=_0x2d3995[0xd9f+-0xc5b+-0x1*0x13e],_0x5088de=_0x2d3995[0x1127+-0x1002+-0x11e],_0x53b270=_0x2d3995[-0x1*-0x8db+-0x1*0x7e1+-0xf2],_0x4ea1b9=_0x2d3995[-0x2*-0x8e4+0x1fe7+-0x31a6],_0x2021e4=_0x2d3995[0x8b*-0x1+-0x236+-0xd*-0x37],_0x52b015=_0x2d3995[0xa*0x346+-0x1cbd+-0x2e*0x16],_0x40650f=_0x2d3995[0x7*0x64+0x1437+-0x215*0xb],_0x53678f=_0x2d3995[0x118*-0xd+-0x160d*0x1+-0x2452*-0x1],_0x59963e=_0x2d3995[-0x811+-0xaf3+-0x989*-0x2],_0x35419c=_0x2d3995[0x2344+0x1bf1*0x1+-0x3f26];let _0x5e56e1,_0x4557e2,_0x3eb257,_0x3f211a;return _0x5e56e1=_0x1a5c53[-0x1*-0x1ab7+0x434+-0x62f*0x5],_0x4557e2=_0x1a5c53[-0x11*-0xd3+0x65*-0x25+-0x1*-0x97],_0x3eb257=_0x1a5c53[0x6*0x671+0x2517+-0x4bbb],_0x3f211a=_0x1a5c53[0x93f*-0x3+0x1f1b+-0x35b*0x1],_0x21ac90[-0x192b+0x669*-0x5+0x3938]=_0x240816*_0x5e56e1+_0x2b0f87*_0x4557e2+_0x53b270*_0x3eb257+_0x40650f*_0x3f211a,_0x21ac90[0x97f+-0x16cb+0xd4d]=_0x56e3f4*_0x5e56e1+_0x563651*_0x4557e2+_0x4ea1b9*_0x3eb257+_0x53678f*_0x3f211a,_0x21ac90[0x5*0x373+0x4*-0x61d+0x737]=_0x3ab78e*_0x5e56e1+_0x923364*_0x4557e2+_0x2021e4*_0x3eb257+_0x59963e*_0x3f211a,_0x21ac90[-0x1ffe+-0xa*-0x151+0x12d7]=_0x145b1e*_0x5e56e1+_0x5088de*_0x4557e2+_0x52b015*_0x3eb257+_0x35419c*_0x3f211a,_0x5e56e1=_0x1a5c53[0xa7d+-0x113c+0x6c3],_0x4557e2=_0x1a5c53[-0x20f4+0x1f17+0x1e2],_0x3eb257=_0x1a5c53[0x4*-0x99e+0xc6*-0x15+0x36bc*0x1],_0x3f211a=_0x1a5c53[0x1f8a+-0x2*0xfe0+-0x1*-0x3d],_0x21ac90[-0x230+0x12ea+0x2e*-0x5d]=_0x240816*_0x5e56e1+_0x2b0f87*_0x4557e2+_0x53b270*_0x3eb257+_0x40650f*_0x3f211a,_0x21ac90[-0xef1+0x1*0x1069+-0x1*0x173]=_0x56e3f4*_0x5e56e1+_0x563651*_0x4557e2+_0x4ea1b9*_0x3eb257+_0x53678f*_0x3f211a,_0x21ac90[0xd7+-0x128f+0x11be]=_0x3ab78e*_0x5e56e1+_0x923364*_0x4557e2+_0x2021e4*_0x3eb257+_0x59963e*_0x3f211a,_0x21ac90[0x1fae*0x1+-0x1477*0x1+-0x8*0x166]=_0x145b1e*_0x5e56e1+_0x5088de*_0x4557e2+_0x52b015*_0x3eb257+_0x35419c*_0x3f211a,_0x5e56e1=_0x1a5c53[0x1*-0x1951+-0x242e+0x3d87],_0x4557e2=_0x1a5c53[0x2509+0xcef*-0x3+0x1cd],_0x3eb257=_0x1a5c53[0x11ed+-0x14fa+0x317],_0x3f211a=_0x1a5c53[0xc79*-0x2+0x4*0x7bf+-0x5ff],_0x21ac90[-0x8*-0x17+0x1104+-0x11b4]=_0x240816*_0x5e56e1+_0x2b0f87*_0x4557e2+_0x53b270*_0x3eb257+_0x40650f*_0x3f211a,_0x21ac90[-0x14fd+0x1276+0x290]=_0x56e3f4*_0x5e56e1+_0x563651*_0x4557e2+_0x4ea1b9*_0x3eb257+_0x53678f*_0x3f211a,_0x21ac90[0xe9*-0x2+-0x15ad*0x1+0x19*0xf1]=_0x3ab78e*_0x5e56e1+_0x923364*_0x4557e2+_0x2021e4*_0x3eb257+_0x59963e*_0x3f211a,_0x21ac90[0x237b+-0x119*0x3+-0x2025]=_0x145b1e*_0x5e56e1+_0x5088de*_0x4557e2+_0x52b015*_0x3eb257+_0x35419c*_0x3f211a,_0x5e56e1=_0x1a5c53[0x1cf8*-0x1+-0x99a*0x1+0x269e],_0x4557e2=_0x1a5c53[-0x4a*-0x2b+-0x533+-0x72e],_0x3eb257=_0x1a5c53[-0x901+-0x187d*-0x1+0x19*-0x9e],_0x3f211a=_0x1a5c53[-0x5d6+-0x1e70*-0x1+0x3d*-0x67],_0x21ac90[0xaf0+-0x23f9+0x1*0x1915]=_0x240816*_0x5e56e1+_0x2b0f87*_0x4557e2+_0x53b270*_0x3eb257+_0x40650f*_0x3f211a,_0x21ac90[0xba4+-0x1503+-0x1*-0x96c]=_0x56e3f4*_0x5e56e1+_0x563651*_0x4557e2+_0x4ea1b9*_0x3eb257+_0x53678f*_0x3f211a,_0x21ac90[-0x12*-0x14a+-0x1d*-0xd1+-0x2ed3*0x1]=_0x3ab78e*_0x5e56e1+_0x923364*_0x4557e2+_0x2021e4*_0x3eb257+_0x59963e*_0x3f211a,_0x21ac90[-0xda5+0x1*-0x13e2+0x2196]=_0x145b1e*_0x5e56e1+_0x5088de*_0x4557e2+_0x52b015*_0x3eb257+_0x35419c*_0x3f211a,this;}['mulAffine2'](_0xcfdf67,_0x27a064){const _0x465837=_0xcfdf67['data'],_0x5b4643=_0x27a064['data'],_0x4bb91c=this['data'],_0x22725b=_0x465837[-0x17c8+0x5*-0x22d+0x22a9],_0x1ae195=_0x465837[0x11cf+-0x2575+0x9*0x22f],_0x4c572d=_0x465837[-0xcb1*-0x3+-0x17bc+-0xe55*0x1],_0x5950af=_0x465837[-0xa16+-0x4f*0x1c+-0x12be*-0x1],_0x454e8f=_0x465837[0x1f6b+-0x17*-0x2f+-0x239f],_0x5eaf62=_0x465837[0x2*0x38f+0x20c7*-0x1+0x5*0x523],_0x2431c8=_0x465837[-0x2*0x1272+-0x1619+-0x209*-0x1d],_0x2db3b8=_0x465837[-0x1b1f+0x110a+0xa1e*0x1],_0x3c71d8=_0x465837[0x1*0x211b+0x26d2*0x1+-0x47e3],_0x426e2e=_0x465837[-0xef2+0xf68+-0x6a],_0x26c908=_0x465837[-0x1b7b*-0x1+-0x1*0xaf3+-0x1*0x107b],_0x4b709a=_0x465837[-0x1262+-0x74*0x47+0x1*0x329c];let _0x1e42e8,_0x1650a4,_0x58033c;return _0x1e42e8=_0x5b4643[-0x529*-0x4+-0xfb8+-0x4ec],_0x1650a4=_0x5b4643[-0x1a2*0x8+0x935*-0x3+0xe*0x2e8],_0x58033c=_0x5b4643[-0x1*0x1a20+0x5b7+0x146b],_0x4bb91c[0x68c+0x1a37+-0x1*0x20c3]=_0x22725b*_0x1e42e8+_0x5950af*_0x1650a4+_0x2431c8*_0x58033c,_0x4bb91c[0x24cb+0x1392+-0x385c]=_0x1ae195*_0x1e42e8+_0x454e8f*_0x1650a4+_0x2db3b8*_0x58033c,_0x4bb91c[0x1*0xb2b+-0x4fe*0x2+0x7*-0x2b]=_0x4c572d*_0x1e42e8+_0x5eaf62*_0x1650a4+_0x3c71d8*_0x58033c,_0x4bb91c[0x1745+-0x1f7+-0x154b]=-0x789+0xce*-0x15+0x1a1*0xf,_0x1e42e8=_0x5b4643[0x482*0x8+-0x1d82+-0x68a],_0x1650a4=_0x5b4643[-0x128f+-0x1d*0x100+0x2a*0x122],_0x58033c=_0x5b4643[0x154*-0x1+0x14ab+-0x1351],_0x4bb91c[-0x1602+0x1329+0x2dd]=_0x22725b*_0x1e42e8+_0x5950af*_0x1650a4+_0x2431c8*_0x58033c,_0x4bb91c[0x53*0x5b+0x66a+-0x11f3*0x2]=_0x1ae195*_0x1e42e8+_0x454e8f*_0x1650a4+_0x2db3b8*_0x58033c,_0x4bb91c[-0x2610+-0x1a60+0x4076]=_0x4c572d*_0x1e42e8+_0x5eaf62*_0x1650a4+_0x3c71d8*_0x58033c,_0x4bb91c[-0x9*0x11b+-0x1*-0x1d21+0x1327*-0x1]=-0x39*0x79+0x10b0+0xa41,_0x1e42e8=_0x5b4643[0x1*0x1913+-0x1e09+0x4fe],_0x1650a4=_0x5b4643[0x1*-0x23bd+-0x26f3+0x4ab9],_0x58033c=_0x5b4643[-0x11fe+0x371*-0x4+-0xfe6*-0x2],_0x4bb91c[-0xb*0x22f+-0x24ee+0x3cfb]=_0x22725b*_0x1e42e8+_0x5950af*_0x1650a4+_0x2431c8*_0x58033c,_0x4bb91c[-0x21a*-0x1+0xa24+-0xc35]=_0x1ae195*_0x1e42e8+_0x454e8f*_0x1650a4+_0x2db3b8*_0x58033c,_0x4bb91c[-0x2183+0x2b*0x13+0x1e5c]=_0x4c572d*_0x1e42e8+_0x5eaf62*_0x1650a4+_0x3c71d8*_0x58033c,_0x4bb91c[0x1666+0x6e1*0x5+0x1c60*-0x2]=0x19ae+0x425*0x2+-0x21f8,_0x1e42e8=_0x5b4643[-0x5*0xa3+0x343*-0x4+-0x1*-0x1047],_0x1650a4=_0x5b4643[-0xd4e*-0x1+-0x1738*0x1+0x1*0x9f7],_0x58033c=_0x5b4643[-0x169*-0x8+0x196a+-0x8c*0x43],_0x4bb91c[-0x1a53+-0x1058+0x2ab7]=_0x22725b*_0x1e42e8+_0x5950af*_0x1650a4+_0x2431c8*_0x58033c+_0x426e2e,_0x4bb91c[0x11d1*-0x2+0x2*-0x55+0x2459]=_0x1ae195*_0x1e42e8+_0x454e8f*_0x1650a4+_0x2db3b8*_0x58033c+_0x26c908,_0x4bb91c[0x204b*-0x1+-0x1112*-0x1+0xf47]=_0x4c572d*_0x1e42e8+_0x5eaf62*_0x1650a4+_0x3c71d8*_0x58033c+_0x4b709a,_0x4bb91c[-0x548*-0x2+0x108b+-0x1b0c]=-0x18a0+-0x44+0x18e5,this;}['mul'](_0x14aa9b){return this['mul2'](this,_0x14aa9b);}['transformP'+'oint'](_0x7ba1b3,_0x37a64a=new T()){const _0xf4635a=this['data'],{x:_0x2af65b,y:_0x48dad2,z:_0x5e4b3d}=_0x7ba1b3;return _0x37a64a['x']=_0x2af65b*_0xf4635a[-0x240*-0x2+0x13c+-0x1*0x5bc]+_0x48dad2*_0xf4635a[-0xe87*-0x1+-0x1fe+-0xc85]+_0x5e4b3d*_0xf4635a[-0x9f4+-0xc*0x1e2+0x2094]+_0xf4635a[-0x1ba6+0x2284+0x12*-0x61],_0x37a64a['y']=_0x2af65b*_0xf4635a[0xb49+0x1ec5*-0x1+0x137d]+_0x48dad2*_0xf4635a[0x127a+0x254c+-0x1*0x37c1]+_0x5e4b3d*_0xf4635a[0x3ae*0x1+0x13f5+0x39*-0x6a]+_0xf4635a[0x1cfd+-0x162*0x16+0x17c],_0x37a64a['z']=_0x2af65b*_0xf4635a[0x17a1+-0x15e7*0x1+-0x1b8*0x1]+_0x48dad2*_0xf4635a[0x1803+0x957+-0x6c*0x4f]+_0x5e4b3d*_0xf4635a[-0x1d37+-0x567+-0x455*-0x8]+_0xf4635a[-0x1c8b+0x7*0x128+0x1481],_0x37a64a;}['transformV'+'ector'](_0x1ff533,_0x128e47=new T()){const _0x70206d=this['data'],{x:_0x189682,y:_0x3c8462,z:_0x401a43}=_0x1ff533;return _0x128e47['x']=_0x189682*_0x70206d[0x1415+0x1be*-0x2+-0x1099]+_0x3c8462*_0x70206d[-0x347*0x7+0x5b+-0x2*-0xb4d]+_0x401a43*_0x70206d[-0x1f15+-0x37*-0x1f+0x1874],_0x128e47['y']=_0x189682*_0x70206d[-0x2*-0x65d+-0x4b*0x7c+-0x1*-0x179b]+_0x3c8462*_0x70206d[-0x4a0+0x4a*0x4e+-0x11e7]+_0x401a43*_0x70206d[-0x206e+-0x2480+0x44f7],_0x128e47['z']=_0x189682*_0x70206d[0x3*0x21a+-0x3b1+0x17*-0x1d]+_0x3c8462*_0x70206d[-0xcf1*0x2+0x5df+0xdf*0x17]+_0x401a43*_0x70206d[-0x13*-0x1bb+0x168f*0x1+-0x3766],_0x128e47;}['transformV'+'ec4'](_0x439556,_0x1ee465=new Q()){const _0x309321=this['data'],{x:_0x30b09b,y:_0x311a26,z:_0x2e8adc,w:_0x3f9b79}=_0x439556;return _0x1ee465['x']=_0x30b09b*_0x309321[0x169*0x7+0x65+-0x1b6*0x6]+_0x311a26*_0x309321[0x39*-0x65+0xef1+-0xb*-0xb0]+_0x2e8adc*_0x309321[-0x355*0xa+0x1bff+-0x55b*-0x1]+_0x3f9b79*_0x309321[0x2619+-0x45c+0x1*-0x21b1],_0x1ee465['y']=_0x30b09b*_0x309321[0x1a37+0x1b21+-0x3557]+_0x311a26*_0x309321[-0x1*-0x1271+-0x1f1b+0xcaf]+_0x2e8adc*_0x309321[0x13c*0x8+0x11bd*-0x2+-0x19a3*-0x1]+_0x3f9b79*_0x309321[-0x74a+0x89b+-0x1b*0xc],_0x1ee465['z']=_0x30b09b*_0x309321[-0x5*-0x4c9+-0x4*-0x1f5+-0x1fbf]+_0x311a26*_0x309321[0x30a+-0x1e0f+-0x2b*-0xa1]+_0x2e8adc*_0x309321[-0x3a*-0x34+-0xbfa+-0x14*-0x3]+_0x3f9b79*_0x309321[0x3*-0x1e2+-0xfe1+0x1595],_0x1ee465['w']=_0x30b09b*_0x309321[-0xb8+-0x649+-0x704*-0x1]+_0x311a26*_0x309321[-0x1f35+0xd12*-0x1+0x1627*0x2]+_0x2e8adc*_0x309321[0xa56+-0xac7+0x7c]+_0x3f9b79*_0x309321[0xff6+0x680+-0x1667],_0x1ee465;}['setLookAt'](_0x3cce78,_0x40f166,_0x37bd32){Os['sub2'](_0x3cce78,_0x40f166)['normalize'](),Fs['copy'](_0x37bd32)['normalize'](),us['cross'](Fs,Os)['normalize'](),Fs['cross'](Os,us);const _0xd010bd=this['data'];return _0xd010bd[0x23a9+-0x2628+0x3*0xd5]=us['x'],_0xd010bd[-0x15a*-0x6+-0x587*-0x3+-0x18b0]=us['y'],_0xd010bd[-0xc1c+0x18f4+-0x1f*0x6a]=us['z'],_0xd010bd[0x11*-0x1ab+0x25e0+-0x982]=0x765+0xa46+-0x11ab,_0xd010bd[-0x6*0x41+-0x143e+-0x148*-0x11]=Fs['x'],_0xd010bd[-0xd7+-0x51b+0x5f7*0x1]=Fs['y'],_0xd010bd[-0x2e6*0x4+-0x5*0x272+0x6d*0x38]=Fs['z'],_0xd010bd[-0x232b+0x1*0x1e8+0x214a]=-0x3*-0x2b+-0x2676+0x25f5,_0xd010bd[-0xaab+0x1aef+-0x103c*0x1]=Os['x'],_0xd010bd[-0x12*0x1c4+-0x21a*-0x4+0x1769]=Os['y'],_0xd010bd[0x23f7+0xcfc+0x1*-0x30e9]=Os['z'],_0xd010bd[0x1f*-0x1a+-0x84*-0x43+0x15d*-0x17]=-0xb6b*-0x1+0x9e1+-0x154c,_0xd010bd[0x1*0x208d+0x1516*0x1+-0x11*0x327]=_0x3cce78['x'],_0xd010bd[0x1*0xa27+-0x23c0*0x1+0x7*0x3aa]=_0x3cce78['y'],_0xd010bd[0xdd3*-0x1+-0x13*-0x179+-0x70d*0x2]=_0x3cce78['z'],_0xd010bd[0x176a+0x43a*0x8+-0x392b]=-0x57*-0x3+-0x13d*-0x11+-0x1611,this;}['setFrustum'](_0x1627b2,_0x8605,_0x308f31,_0x184e1c,_0x168f57,_0x348845){const _0x572ee7=(-0x1789+0x1dd*-0x8+0x3*0xcd1)*_0x168f57,_0x4f1e4d=_0x8605-_0x1627b2,_0x20fc4b=_0x184e1c-_0x308f31,_0x35334a=_0x348845-_0x168f57,_0x430cc9=this['data'];return _0x430cc9[-0x2420+-0x1ac9+-0xc95*-0x5]=_0x572ee7/_0x4f1e4d,_0x430cc9[0x620+-0x1*-0x1f6a+0x2589*-0x1]=0x25b1+-0x86e+0x9c1*-0x3,_0x430cc9[-0x27d+0x2b*0x4f+-0xac6*0x1]=0x1ba7*-0x1+0x25d4+-0xa2d,_0x430cc9[0x189e*-0x1+-0x1a5c+0x32fd]=-0x1*-0x1269+-0x1*-0x45+-0x12ae,_0x430cc9[-0x2*-0x2a7+-0x2623+0x1*0x20d9]=0x16f9+-0x30*0x48+0x1e5*-0x5,_0x430cc9[0x38e*0x2+0x1a62+-0x2179]=_0x572ee7/_0x20fc4b,_0x430cc9[-0x1982+0x1d5*-0x7+0x265b]=-0x1760*-0x1+0x260b+-0x3d6b,_0x430cc9[-0x2d2+0x13b7+-0x11*0xfe]=-0x39a*0x9+0x21c8+-0x15e,_0x430cc9[-0x232f*-0x1+0x16ce+0x39f5*-0x1]=(_0x8605+_0x1627b2)/_0x4f1e4d,_0x430cc9[0x2da*0x3+-0x1f11+0x168c]=(_0x184e1c+_0x308f31)/_0x20fc4b,_0x430cc9[0x1*0x123e+0x6be+-0x18f2]=(-_0x348845-_0x168f57)/_0x35334a,_0x430cc9[0x1*-0x26ef+0x1678+0x1082]=-(-0x5f4+-0x9*-0x24f+-0xed2),_0x430cc9[0x105c+0x23eb+0x1*-0x343b]=0x2cc*0x2+0x18*-0x4+-0x14e*0x4,_0x430cc9[-0x1*-0x22b+-0x967*0x2+-0x10b*-0x10]=-0x9c1+0x1494+-0xad3*0x1,_0x430cc9[-0x246*-0xb+0x1*0x1c8d+-0x3581*0x1]=-_0x572ee7*_0x348845/_0x35334a,_0x430cc9[-0x529+0x26ab*-0x1+-0x15*-0x217]=0x1de7+0x882+-0x1*0x2669,this;}['setPerspec'+'tive'](_0x7cee07,_0xc4231e,_0x1da932,_0x4f6b9a,_0xe382ac){return Ur['_getPerspe'+'ctiveHalfS'+'ize'](Ua,_0x7cee07,_0xc4231e,_0x1da932,_0xe382ac),this['setFrustum'](-Ua['x'],Ua['x'],-Ua['y'],Ua['y'],_0x1da932,_0x4f6b9a);}['setOrtho'](_0xec8c3e,_0x17a1c6,_0x47eca7,_0x570cfa,_0x341200,_0x51a00b){const _0x4c7d09=this['data'];return _0x4c7d09[-0x230c*0x1+-0x1f*-0x13e+-0x376]=(-0xab9*-0x2+-0xdb2*0x2+0x5f4)/(_0x17a1c6-_0xec8c3e),_0x4c7d09[-0x1*0x517+-0x1*0x118d+0x16a5]=0xcbd+-0xda6+0xe9,_0x4c7d09[-0x1bf3+-0x1d63*0x1+-0xa*-0x5bc]=0xb82+0x665+-0x11e7,_0x4c7d09[0x3*-0x479+0x1*0x2403+-0x3*0x787]=-0x889+-0x16c8+0x1*0x1f51,_0x4c7d09[0xedc+0x5*-0x2a+-0x5*0x2ce]=-0x937+0x51*0x37+-0x830,_0x4c7d09[-0x24ef+-0x929+0x313*0xf]=(-0x1996+-0x1dcc+0x1*0x3764)/(_0x570cfa-_0x47eca7),_0x4c7d09[0x992+0x1*0x15fb+-0x1f87]=-0x77d+-0x1990+0x210d,_0x4c7d09[0x770+-0x2*0x3ad+-0x3*0x5]=-0x1d1e*-0x1+0x799+0x27*-0xf1,_0x4c7d09[0x15*0x38+-0x1fa7+-0x1b17*-0x1]=0x1*0xaf4+0x4*-0x817+0x1568,_0x4c7d09[-0x25b4+-0x1d*-0x45+0x1dec]=-0x10a2+-0x10f*0x1d+0x6c3*0x7,_0x4c7d09[0x4*0x35c+0x122e+0x7e5*-0x4]=-(-0x899*0x1+0x12bd*-0x2+0x2e15)/(_0x51a00b-_0x341200),_0x4c7d09[0x1926+-0x11*0x10a+-0x771]=0x15e+0x7*-0x35+0x15,_0x4c7d09[-0x29*-0xe5+0xec3+-0x4ac*0xb]=-(_0x17a1c6+_0xec8c3e)/(_0x17a1c6-_0xec8c3e),_0x4c7d09[-0x12c5+0x242f+-0x115d*0x1]=-(_0x570cfa+_0x47eca7)/(_0x570cfa-_0x47eca7),_0x4c7d09[-0x1a*-0x6f+0x2226+0x2*-0x16af]=-(_0x51a00b+_0x341200)/(_0x51a00b-_0x341200),_0x4c7d09[0x6ce*0x3+0x1a*0x152+0x36af*-0x1]=0x146e+-0x1*-0xbed+-0x205a,this;}['setFromAxi'+'sAngle'](_0x5478be,_0x4efaea){_0x4efaea*=N['DEG_TO_RAD'];const {x:_0x5bc2af,y:_0x4c3a27,z:_0x2d4590}=_0x5478be,_0x426fcb=Math['cos'](_0x4efaea),_0x4f8d7d=Math['sin'](_0x4efaea),_0x5e6523=0x10*-0x98+0x613*0x1+0x36e-_0x426fcb,_0x336878=_0x5e6523*_0x5bc2af,_0x25d77c=_0x5e6523*_0x4c3a27,_0x117e15=this['data'];return _0x117e15[0x4e2*-0x4+-0x886+0x1c0e]=_0x336878*_0x5bc2af+_0x426fcb,_0x117e15[-0x363+-0x109b+0x13ff]=_0x336878*_0x4c3a27+_0x4f8d7d*_0x2d4590,_0x117e15[0xceb*0x1+0x1*0xbbd+-0x18a6]=_0x336878*_0x2d4590-_0x4f8d7d*_0x4c3a27,_0x117e15[0x1ae6+0x268*0xe+0x1431*-0x3]=0x5*0x4fd+0xec*0x23+0x91*-0x65,_0x117e15[0x17d8+0x1ada+-0x32ae]=_0x336878*_0x4c3a27-_0x4f8d7d*_0x2d4590,_0x117e15[-0x1*0xaba+0x98*-0x3c+-0x3*-0xf75]=_0x25d77c*_0x4c3a27+_0x426fcb,_0x117e15[0x1236+-0x15a*-0x1a+-0x3554]=_0x25d77c*_0x2d4590+_0x4f8d7d*_0x5bc2af,_0x117e15[-0x3*0xb1b+-0x18db+0x3a33*0x1]=-0x2274+0x1c8c+0x5e8,_0x117e15[-0x26e9*-0x1+0x8c5+-0x2fa6*0x1]=_0x336878*_0x2d4590+_0x4f8d7d*_0x4c3a27,_0x117e15[0x2529+0xf6*0xd+-0x319e]=_0x25d77c*_0x2d4590-_0x5bc2af*_0x4f8d7d,_0x117e15[-0x2073+0x1*-0x13e3+0x3460]=_0x5e6523*_0x2d4590*_0x2d4590+_0x426fcb,_0x117e15[-0x15de+-0x39b+0x1984*0x1]=0xf8c*0x2+-0xbba+0x9af*-0x2,_0x117e15[-0x17fb+-0x195d+0x3164]=0x1ee8+-0x1*0x2702+0x81a,_0x117e15[0x4a1*0x4+-0x11b5+-0xc2]=-0x167a+-0x10c8+0x2742,_0x117e15[0x1*-0x1e75+-0x1*0xe71+0x15*0x224]=-0x134d+-0x1*0xdf4+0x2141,_0x117e15[0x15a5+-0x1*0x685+0x1d*-0x85]=0x2b*0x9e+0x458+0x62d*-0x5,this;}['setTransla'+'te'](_0x34af51,_0x8c51d6,_0x9a14d6){const _0x305ea9=this['data'];return _0x305ea9[-0x2*0x7ea+-0x103e+-0x335*-0xa]=0x2438+0xbba+-0x2ff1,_0x305ea9[-0xbd9+-0x2397*0x1+-0x1*-0x2f71]=0x2505+0x2430+-0x1*0x4935,_0x305ea9[-0x5*0x5bb+-0x91*0x3+-0xf2e*-0x2]=-0x46e*-0x2+-0x19*-0xe9+-0x1f9d,_0x305ea9[0xc4*-0xe+0x18c1+-0xe06]=-0xc6+-0x213a*0x1+0x880*0x4,_0x305ea9[-0x1193+0x1eeb+-0xd54]=0x1bd+-0x1*0x1e14+0x1*0x1c57,_0x305ea9[0x1*0x13fa+-0x23c8*-0x1+0x13*-0x2ef]=-0x7a3+-0x1538+0xe6e*0x2,_0x305ea9[-0x1083+-0xdfa+0x1*0x1e83]=-0x5f*-0x65+0x18c9+-0x3e44,_0x305ea9[0x7f*-0x8+0x98c+-0x58d]=-0x1*0x227f+-0xf30+0x31af*0x1,_0x305ea9[0x3c*0x65+-0x5*-0x6d3+-0x39c3]=-0x1314+-0xd0e+0x2022,_0x305ea9[-0x20c3*0x1+0x961+-0x4af*-0x5]=-0x19e8*0x1+0x2e5*0xb+-0x5ef,_0x305ea9[-0x8d*0x46+0x4*0xb1+0x23d4]=0x1147+-0x1024+-0x122,_0x305ea9[-0x16d5+0xf70+-0x22*-0x38]=-0x508+0x27c*-0x8+0x18e8*0x1,_0x305ea9[-0x760+0x1fa9+-0x183d]=_0x34af51,_0x305ea9[-0x87e*0x3+-0x2b*-0x1b+0x14fe]=_0x8c51d6,_0x305ea9[0x6*0x228+-0x227*0xe+0x2*0x8a0]=_0x9a14d6,_0x305ea9[-0x16fd+0x191*-0x17+0x3b13]=-0x166e*0x1+0x1*-0x4a+-0x7*-0x33f,this;}['setScale'](_0x57c82c,_0x1ebb76,_0x1e0c3b){const _0x23cb62=this['data'];return _0x23cb62[0x2214*-0x1+0x16ee+0x1*0xb26]=_0x57c82c,_0x23cb62[0x7*-0x367+-0x10bb*0x1+-0x1*-0x288d]=0x4*-0x40e+-0x1324+-0x8d7*-0x4,_0x23cb62[-0xf1b+-0x3b*0x6f+0x2*0x1459]=-0x19*-0x8d+0x1b6f+-0x2934,_0x23cb62[0x7*0x395+-0x1*-0x2410+0x20*-0x1e9]=0xb66*0x3+0x2428+-0x465a,_0x23cb62[-0x1*-0x234d+0x665*-0x2+-0x167f]=-0xbdb+-0x23cd+-0x988*-0x5,_0x23cb62[-0x4*0x979+-0x1b60+0x15c3*0x3]=_0x1ebb76,_0x23cb62[-0x1*0x91d+0x1*0xcaa+-0x387]=-0x886*0x1+0xb*0x171+-0x755*0x1,_0x23cb62[0x76*0x2f+-0x6e5+-0xebe]=-0x2110+-0xf89+0x3099,_0x23cb62[0x49f*0x3+0x246f*-0x1+-0x107*-0x16]=0xb69+0xe9*-0x26+-0x1*-0x172d,_0x23cb62[-0x1*0xe7c+0x318+0x3*0x3cf]=0xc41+0x14d6+-0x2b*0xc5,_0x23cb62[0xb12+0x111+0x13*-0xa3]=_0x1e0c3b,_0x23cb62[-0x142f*0x1+-0x1113*0x1+0x9*0x425]=0x1425+-0x37*-0x25+0xe8*-0x1f,_0x23cb62[-0x1*-0x1b6d+0x16bb+-0x321c]=-0xaba+0x26*0x79+-0x4*0x1cf,_0x23cb62[0x1b*-0x4+0x1*0x2476+0x53*-0x6f]=0x79*-0x45+-0x1*-0x1f0b+0x192,_0x23cb62[0x13b8+-0x49*0x13+-0xe3f]=-0x22e4+-0x1860+0x4*0xed1,_0x23cb62[-0xf4f+-0x2008+0x2f66]=-0x2123*-0x1+0x164f+-0x3771,this;}['setViewpor'+'t'](_0xa084f3,_0x59870a,_0x3679d4,_0x1a4fed){const _0x163109=this['data'];return _0x163109[-0x9eb*0x1+0xcb7+-0x2cc]=_0x3679d4*(0x1dcd+-0xe21+0xfac*-0x1+0.5),_0x163109[0x8a2+-0x1*0x6ad+-0x64*0x5]=0x2135+0x169d+-0x37d2,_0x163109[0x22f9+-0x461*-0x3+-0x301a]=-0x89*0x43+-0x1*-0x9e3+0x19f8,_0x163109[0xb8b+0x16*-0x1a0+0x1838]=-0x26b*-0x1+-0x1720+0x9*0x24d,_0x163109[0x1d6*0x8+0xad*-0x3+-0xca5]=0x6*0x48d+0x2319+-0x3e67,_0x163109[0xf26+-0x727*-0x4+-0x2bbd]=_0x1a4fed*(-0xdc9*0x1+0x1ac1+0xa6*-0x14+0.5),_0x163109[0x124f+0x2*0xf65+-0x3113]=0x1*-0x581+-0x1b0a+0x208b*0x1,_0x163109[-0x2122+-0x13f5+0xd*0x416]=0x25*0x64+0x2012+-0x2e86,_0x163109[-0x1*-0x158e+0x7ed*-0x4+0x1*0xa2e]=0x21*0x5+-0x3*0x6ce+0x13c5*0x1,_0x163109[-0x3d*0x92+-0xd0d+0x2fe0]=-0x2264+0x39*0x52+-0x33a*-0x5,_0x163109[0x158a+-0x12b*0x10+-0x2d0]=-0x946+0x75a+0x1ec+0.5,_0x163109[-0xf*-0xb3+-0x22a3+0x1831]=0x8e4+-0x7*-0x38f+-0x21cd,_0x163109[-0x1386+-0x161b+0x29ad]=_0xa084f3+_0x3679d4*(-0x73b*0x3+-0xc40*0x3+0x3a71+0.5),_0x163109[0x76d*0x4+-0xa8c+-0x131b]=_0x59870a+_0x1a4fed*(-0x6*-0x18e+0x2c9+0xc1d*-0x1+0.5),_0x163109[-0xbf3+0x11*-0x85+0x14d6]=-0xb09*-0x3+0x175e+0x12d3*-0x3+0.5,_0x163109[0x67*0x3d+-0x21*-0x7b+-0x2857]=-0x37*0x51+0x1ae6+-0x97e,this;}['setReflect'+'ion'](_0x584155,_0x36ac36){const _0xdd57fe=_0x584155['x'],_0x19a9fd=_0x584155['y'],_0x5844a=_0x584155['z'],_0x331271=this['data'];return _0x331271[0x17ff+0x2*-0xf8b+0x3*0x25d]=-0x1df7+-0xc18+-0x2a1*-0x10-(-0x115d+-0x1efc+0x305b)*_0xdd57fe*_0xdd57fe,_0x331271[0xede*-0x1+0x262d+0x2*-0xba7]=-(0x22c3+0xa03*-0x1+-0x2*0xc5f)*_0xdd57fe*_0x19a9fd,_0x331271[0xf0f*0x1+-0x186e+-0x31*-0x31]=-(-0x381+-0x2*-0xe57+-0x17b*0x11)*_0xdd57fe*_0x5844a,_0x331271[-0x3*0x42+-0xabc+-0x1*-0xb85]=-0x1f*0x5e+-0x167*-0xa+-0x2a4*0x1,_0x331271[-0x1c79+0x26f*0xe+-0x595]=-(-0x3*-0xec+-0x5*0x1+0x1*-0x2bd)*_0xdd57fe*_0x19a9fd,_0x331271[0x1*0x1276+-0x7*0x133+0x4*-0x283]=-0x84a*-0x3+0x443*-0x7+-0x8*-0x9f-(-0x2607+0x11*0xc7+-0x161*-0x12)*_0x19a9fd*_0x19a9fd,_0x331271[-0xa66+0x11*-0x248+0x3134]=-(-0x2144+-0x2393+-0x2f*-0x177)*_0x19a9fd*_0x5844a,_0x331271[-0x2c4+-0x1*0x45f+-0x106*-0x7]=0xa4+-0x1a24+0x8*0x330,_0x331271[-0x78e+-0x262d+0x2dc3]=-(0x1*0x1b7e+-0x1c29+0xad)*_0xdd57fe*_0x5844a,_0x331271[0x1e6+-0x52*0x61+0x1d35*0x1]=-(0x472+0x1dab+0x221b*-0x1)*_0x19a9fd*_0x5844a,_0x331271[-0x453*-0x9+0x9*0x3bf+0x8*-0x913]=0x1fa7+0x1cb7+-0x3c5d-(-0x1e58+-0x4*0x3c4+-0x2*-0x16b5)*_0x5844a*_0x5844a,_0x331271[-0x209e+0x3*-0x477+0x2e0e]=-0xe28+-0x1301+0x2129,_0x331271[-0x890+0xcc7+-0x42b]=-(-0x1921*-0x1+-0x33f*0x6+-0x5a5*0x1)*_0xdd57fe*_0x36ac36,_0x331271[0xd*-0x43+0x1e30+-0x2*0xd5e]=-(0x385*-0x7+0x7a9+0x10fc)*_0x19a9fd*_0x36ac36,_0x331271[-0x4f7*-0x7+0xe3e*-0x2+-0x637*0x1]=-(-0xd2+-0x15ee+0x16c2)*_0x5844a*_0x36ac36,_0x331271[0x223d+-0x219c+-0x92]=0x2680+-0xa26+0x973*-0x3,this;}['invert'](_0x572e86=this){const _0x1acf12=_0x572e86['data'],_0x3655f3=_0x1acf12[0x6e+0x16b*0x12+0xcfa*-0x2],_0x1a8b4b=_0x1acf12[0x1484+0x1*0x1cae+-0x31*0x101],_0x2e067d=_0x1acf12[0x1113+-0x19a9+-0x58*-0x19],_0x3b5c1f=_0x1acf12[-0x1f6f+0xd0f*0x2+-0x7c*-0xb],_0x50f78b=_0x1acf12[-0x19c0+-0x1d4f+0x3713*0x1],_0x5e3e59=_0x1acf12[-0x1e0f+0x1234+0x1*0xbe0],_0x49aefb=_0x1acf12[-0xc79+0x18a8+0x1*-0xc29],_0xdc7291=_0x1acf12[-0x151*0xe+-0x1*0x25eb+0x160*0x29],_0x335216=_0x1acf12[-0x1400+0x3b*-0x5a+-0x22*-0x133],_0x55d769=_0x1acf12[-0x24b7+-0x1*0x4a0+-0x2*-0x14b0],_0x9cfc1e=_0x1acf12[-0x6dc+-0xeff+0x3b*0x5f],_0x5d05aa=_0x1acf12[0x7*-0x506+0x10*-0x186+0x3b95],_0x505aa8=_0x1acf12[-0x1*-0x1b31+0x1a0+0x1cc5*-0x1],_0x2e84e3=_0x1acf12[-0x10ee+0x162b+0x2*-0x298],_0x4d12f9=_0x1acf12[-0x1*0x695+0x2*0x54f+0x1*-0x3fb],_0x412dd7=_0x1acf12[-0xe4b+0x1de*-0x2+0x5*0x39e],_0xefa189=_0x3655f3*_0x5e3e59-_0x1a8b4b*_0x50f78b,_0x1843aa=_0x3655f3*_0x49aefb-_0x2e067d*_0x50f78b,_0xd675a4=_0x3655f3*_0xdc7291-_0x3b5c1f*_0x50f78b,_0x46364f=_0x1a8b4b*_0x49aefb-_0x2e067d*_0x5e3e59,_0x3f2a1c=_0x1a8b4b*_0xdc7291-_0x3b5c1f*_0x5e3e59,_0x2bdf81=_0x2e067d*_0xdc7291-_0x3b5c1f*_0x49aefb,_0x5f409d=_0x335216*_0x2e84e3-_0x55d769*_0x505aa8,_0x4ec1b7=_0x335216*_0x4d12f9-_0x9cfc1e*_0x505aa8,_0xb44684=_0x335216*_0x412dd7-_0x5d05aa*_0x505aa8,_0x57d301=_0x55d769*_0x4d12f9-_0x9cfc1e*_0x2e84e3,_0x2d5efe=_0x55d769*_0x412dd7-_0x5d05aa*_0x2e84e3,_0x548f71=_0x9cfc1e*_0x412dd7-_0x5d05aa*_0x4d12f9,_0x109235=_0xefa189*_0x548f71-_0x1843aa*_0x2d5efe+_0xd675a4*_0x57d301+_0x46364f*_0xb44684-_0x3f2a1c*_0x4ec1b7+_0x2bdf81*_0x5f409d;if(_0x109235===0xee4+-0x9*0x33d+0xe41)this['setIdentit'+'y']();else{const _0x404fc1=(-0x601+0x35*0x3a+-0x600)/_0x109235,_0x2dfee0=this['data'];_0x2dfee0[0x89*-0x2+-0x1e19+-0x4f*-0x65]=(_0x5e3e59*_0x548f71-_0x49aefb*_0x2d5efe+_0xdc7291*_0x57d301)*_0x404fc1,_0x2dfee0[-0x43*0x19+0x8e*-0x28+0x1cbc*0x1]=(-_0x1a8b4b*_0x548f71+_0x2e067d*_0x2d5efe-_0x3b5c1f*_0x57d301)*_0x404fc1,_0x2dfee0[0x25ab+0x293*-0x5+-0x1*0x18ca]=(_0x2e84e3*_0x2bdf81-_0x4d12f9*_0x3f2a1c+_0x412dd7*_0x46364f)*_0x404fc1,_0x2dfee0[-0x1cd*-0xb+0x50b*-0x1+-0x4eb*0x3]=(-_0x55d769*_0x2bdf81+_0x9cfc1e*_0x3f2a1c-_0x5d05aa*_0x46364f)*_0x404fc1,_0x2dfee0[0x346*0x1+-0xbe3+0x8a1]=(-_0x50f78b*_0x548f71+_0x49aefb*_0xb44684-_0xdc7291*_0x4ec1b7)*_0x404fc1,_0x2dfee0[-0x1be9+0x1da7+-0x3f*0x7]=(_0x3655f3*_0x548f71-_0x2e067d*_0xb44684+_0x3b5c1f*_0x4ec1b7)*_0x404fc1,_0x2dfee0[-0xd*-0x227+0xd*-0xf4+0xf91*-0x1]=(-_0x505aa8*_0x2bdf81+_0x4d12f9*_0xd675a4-_0x412dd7*_0x1843aa)*_0x404fc1,_0x2dfee0[-0x6*-0x119+-0x2e5*0x7+0x4*0x36d]=(_0x335216*_0x2bdf81-_0x9cfc1e*_0xd675a4+_0x5d05aa*_0x1843aa)*_0x404fc1,_0x2dfee0[0x216a+-0x287*0x1+-0xa49*0x3]=(_0x50f78b*_0x2d5efe-_0x5e3e59*_0xb44684+_0xdc7291*_0x5f409d)*_0x404fc1,_0x2dfee0[0x6e0*0x5+0x1465*0x1+-0x36bc]=(-_0x3655f3*_0x2d5efe+_0x1a8b4b*_0xb44684-_0x3b5c1f*_0x5f409d)*_0x404fc1,_0x2dfee0[0x20f6+-0x820*-0x4+-0xd4*0x4f]=(_0x505aa8*_0x3f2a1c-_0x2e84e3*_0xd675a4+_0x412dd7*_0xefa189)*_0x404fc1,_0x2dfee0[0x2548+0x4*-0x3b4+-0x166d]=(-_0x335216*_0x3f2a1c+_0x55d769*_0xd675a4-_0x5d05aa*_0xefa189)*_0x404fc1,_0x2dfee0[-0xb57+0x9cc+0x197]=(-_0x50f78b*_0x57d301+_0x5e3e59*_0x4ec1b7-_0x49aefb*_0x5f409d)*_0x404fc1,_0x2dfee0[0x5d5+0x38b+-0x4d*0x1f]=(_0x3655f3*_0x57d301-_0x1a8b4b*_0x4ec1b7+_0x2e067d*_0x5f409d)*_0x404fc1,_0x2dfee0[-0xd80+-0xa4*0x3c+0x33fe]=(-_0x505aa8*_0x46364f+_0x2e84e3*_0x1843aa-_0x4d12f9*_0xefa189)*_0x404fc1,_0x2dfee0[-0x1d8*-0x15+0x1130+-0x37d9*0x1]=(_0x335216*_0x46364f-_0x55d769*_0x1843aa+_0x9cfc1e*_0xefa189)*_0x404fc1;}return this;}['set'](_0x402997){const _0x2c57a7=this['data'];return _0x2c57a7[-0xb70+-0x192*-0x1+0x9de]=_0x402997[0x29*-0xc9+0x80+0x1fb1],_0x2c57a7[0x13f2+0x5*-0x10f+-0xea6]=_0x402997[-0x5*-0x704+-0x17d0+-0xb43],_0x2c57a7[0x161*-0x4+-0xf+0x595*0x1]=_0x402997[-0x1*-0xb02+-0x1*-0x3f1+-0xef1],_0x2c57a7[-0x1e21+-0xd*0x1e8+0x172*0x26]=_0x402997[-0x6*0x473+0xebf+0xbf6],_0x2c57a7[0x1e23+0x283*-0xa+-0x1*0x501]=_0x402997[-0xc25*0x1+-0x1599+0x21c2],_0x2c57a7[-0x219f*0x1+0x58f+-0x4f*-0x5b]=_0x402997[0x30d+0x14df+-0x17e7*0x1],_0x2c57a7[0x18d6+-0x47*-0x7f+-0x3c09]=_0x402997[0xc59*-0x3+-0x9b6+-0x2ec7*-0x1],_0x2c57a7[-0x1035+0x1fad+-0xf71]=_0x402997[0x8*0xca+0x307+-0x12a*0x8],_0x2c57a7[0x1c9*-0x13+-0x24c9*-0x1+0x79*-0x6]=_0x402997[-0x677+-0x1*-0x784+-0x105*0x1],_0x2c57a7[-0x2*0xf16+0x1482+-0x9b3*-0x1]=_0x402997[-0x26a1+-0x2*-0x4b0+0x2e*0xa3],_0x2c57a7[0x205c+-0x1aa1*0x1+-0x5b1]=_0x402997[0x191+-0x11*-0x21d+-0x234*0x11],_0x2c57a7[0x24a8+-0x7b*0x39+-0x93a]=_0x402997[-0x270b+-0x2318+-0x3*-0x18ba],_0x2c57a7[-0x53f+0x65*-0x5b+-0x1499*-0x2]=_0x402997[-0x23fb+-0x1412+0x3819],_0x2c57a7[-0x1*-0x1f4c+0x1033+-0x2f72]=_0x402997[-0x1871+-0x1f*0x2f+0x1e2f*0x1],_0x2c57a7[-0xe24*0x1+-0x9*0x1c7+0x83*0x3b]=_0x402997[-0x3*-0x164+-0x15e3+0x11c5],_0x2c57a7[0x4*-0x1e9+-0x88b+-0x103e*-0x1]=_0x402997[0x432+0xf1c+-0xd*0x17b],this;}['setIdentit'+'y'](){const _0x2a9849=this['data'];return _0x2a9849[-0x1*-0x1491+-0x1*-0x61c+-0x1aad]=0x4*0x685+0x7*0x2ef+-0x2e9c,_0x2a9849[0x2e7+0x5*0x6b6+0x2474*-0x1]=-0x11c5*-0x1+-0xd3c+-0x183*0x3,_0x2a9849[-0x183a+0x79d*0x1+0x25*0x73]=-0x4dd+-0x10*0x1c+0x69d,_0x2a9849[-0x943*0x1+-0x19a3+0x22e9]=0x1a96+0x2b1*0xd+0x599*-0xb,_0x2a9849[0x1662+0xec*0x7+-0x1cd2]=0x22a*0x3+-0x4*-0x191+0x2e*-0x47,_0x2a9849[-0x1*-0xb2f+-0x2076+0x154c]=0x49*-0x35+-0x16c0+-0x4a*-0x83,_0x2a9849[0x1*0x809+-0x106*0x2+-0x5f7]=-0x5a5*0x1+-0x2af+0x854,_0x2a9849[-0xe9d*-0x1+0x44*0x44+-0x15*0x18e]=0x8*0x3f3+-0x59c*0x5+0x38c*-0x1,_0x2a9849[-0x1bf0+0x1014+0xbe4]=0x16d9*0x1+0x6d*-0x53+0xc7e,_0x2a9849[-0x21c6+0x1f*0x49+0xbc*0x22]=0x9f1+-0x3*-0xbcb+0x1*-0x2d52,_0x2a9849[-0x1d*0xa+0x1*-0xb47+0xc73]=0x1f9b+-0x1*0xb98+-0x1402,_0x2a9849[-0x7f8+0x18e4+0x1d*-0x95]=0x1*0x1e8e+-0x17*-0x161+-0x3e45,_0x2a9849[0xe38+-0xcfe+0x2*-0x97]=0x660+-0x12ae+-0x20d*-0x6,_0x2a9849[0x78*0x47+-0x5*-0x49+-0x22a8]=-0x3*-0xcef+0x5*0x5a0+-0x164f*0x3,_0x2a9849[0x9b3*0x1+0x2e6+-0x13*0xa9]=-0x226c+0xbdd*-0x1+0x2e49,_0x2a9849[0x1f34+0x12d+-0x2052]=-0x1*-0x818+0x6da*-0x5+0x1a2b,this;}['setTRS'](_0x292503,_0x439231,_0x4e9878){const _0x4b5510=_0x439231['x'],_0x54444c=_0x439231['y'],_0x34afee=_0x439231['z'],_0x36addc=_0x439231['w'],_0x4108f5=_0x4e9878['x'],_0x166e23=_0x4e9878['y'],_0xfb6115=_0x4e9878['z'],_0x42254c=_0x4b5510+_0x4b5510,_0x41845c=_0x54444c+_0x54444c,_0x8d8b2b=_0x34afee+_0x34afee,_0x24536f=_0x4b5510*_0x42254c,_0x3e1b94=_0x4b5510*_0x41845c,_0xa527bc=_0x4b5510*_0x8d8b2b,_0x313992=_0x54444c*_0x41845c,_0x4aa5a5=_0x54444c*_0x8d8b2b,_0x3b3134=_0x34afee*_0x8d8b2b,_0x413d4e=_0x36addc*_0x42254c,_0x57e180=_0x36addc*_0x41845c,_0x4c7777=_0x36addc*_0x8d8b2b,_0x427c38=this['data'];return _0x427c38[-0x150e+-0x13d*-0x15+-0x1*0x4f3]=(0x5*0x2a7+-0x139*-0xd+-0x1b7*0x11-(_0x313992+_0x3b3134))*_0x4108f5,_0x427c38[0x18d*0x18+0x4*0x1e7+0x87*-0x55]=(_0x3e1b94+_0x4c7777)*_0x4108f5,_0x427c38[0x1*0x10dd+0x20*-0xa7+-0x405*-0x1]=(_0xa527bc-_0x57e180)*_0x4108f5,_0x427c38[-0x217d*-0x1+0x1*0x2635+-0x47af]=0x1e34+0x23f5+-0x4229,_0x427c38[-0x11b9*-0x2+-0x6a8*-0x2+-0x22*0x16f]=(_0x3e1b94-_0x4c7777)*_0x166e23,_0x427c38[0x1*-0x12a1+-0x100c*-0x1+0x29a]=(0x27d+0x14b*-0x1d+0x2303*0x1-(_0x24536f+_0x3b3134))*_0x166e23,_0x427c38[0x27*0xeb+-0x2*0x116c+0xef*-0x1]=(_0x4aa5a5+_0x413d4e)*_0x166e23,_0x427c38[-0x103e+-0x22a5*-0x1+0x620*-0x3]=-0x1*-0x2459+0x193e+-0x3d97,_0x427c38[-0x4*0x4ef+-0x26a1+0x3a65]=(_0xa527bc+_0x57e180)*_0xfb6115,_0x427c38[0x23cf+-0x2b*0x4e+0x1*-0x16ac]=(_0x4aa5a5-_0x413d4e)*_0xfb6115,_0x427c38[0x1f53+0x1faf+-0x3ef8]=(0xc56*0x1+0x215c+-0x2db1-(_0x24536f+_0x313992))*_0xfb6115,_0x427c38[0x1*-0xfa8+-0x1191+0x10a2*0x2]=0x6a*0x59+0x577+0x9d*-0x45,_0x427c38[0x1*0x1115+-0x44b+-0xcbe]=_0x292503['x'],_0x427c38[-0x189c+0xa60+0xe49]=_0x292503['y'],_0x427c38[-0x147+-0x182b+0x1980]=_0x292503['z'],_0x427c38[0x7*-0xb8+0x856+0x33f*-0x1]=-0x2284+0x2*0x3ad+-0x1b2b*-0x1,this;}['transpose'](_0x5b8d33=this){const _0x572b0a=_0x5b8d33['data'],_0x2dfe88=this['data'];if(_0x572b0a===_0x2dfe88){let _0x4f2159;_0x4f2159=_0x572b0a[-0x1d71+-0x25*-0x10+0x1b22],_0x2dfe88[-0x1f5*-0x1+-0x1*0xf10+-0x2*-0x68e]=_0x572b0a[0x1*-0xb72+0x2447+-0x18d1],_0x2dfe88[-0x2*0x10d+-0xa01*-0x3+-0x1be5]=_0x4f2159,_0x4f2159=_0x572b0a[0x626*0x1+0x1dcc*0x1+-0xc8*0x2e],_0x2dfe88[-0x833*0x2+-0x2277+0x32df]=_0x572b0a[0x3*0xb55+-0x1ce3+-0x514],_0x2dfe88[0x471+-0x228e+0x1e25*0x1]=_0x4f2159,_0x4f2159=_0x572b0a[0xcbf+-0x77d+-0x4f*0x11],_0x2dfe88[0x11b6*-0x1+-0x142e+0x25e7]=_0x572b0a[-0x4*0x501+-0x3f5+0x1805],_0x2dfe88[-0x1*0x52f+-0x2536+0x2a71]=_0x4f2159,_0x4f2159=_0x572b0a[-0x20ca+-0x5*0x6c6+0x42ae],_0x2dfe88[-0x207b*-0x1+-0x1*0x22+-0x2053]=_0x572b0a[0x25*0x4a+0x9ff*-0x2+0x955],_0x2dfe88[-0x1ca1+0x3b*-0x25+0x2531]=_0x4f2159,_0x4f2159=_0x572b0a[0x1*0x880+0xb*-0x26a+0x3*0x607],_0x2dfe88[-0x27*-0x1f+-0xbaa+0x6f8]=_0x572b0a[-0x248c+-0x17fc+0x3c95],_0x2dfe88[0x9f4+0x1b5e+0x2545*-0x1]=_0x4f2159,_0x4f2159=_0x572b0a[0x2382+-0xefe+-0x1*0x1479],_0x2dfe88[0x1059+0x1e70+-0x2ebe]=_0x572b0a[-0x83a+-0x1*0x13c3+0x1c0b],_0x2dfe88[-0x71d*-0x3+0x4e4*-0x6+0x80f]=_0x4f2159;}else _0x2dfe88[-0x2071+-0x1*-0x1831+0x840]=_0x572b0a[-0x19da+0x275+0x1765],_0x2dfe88[-0x9e3+0x1*0xfaa+-0x5c6]=_0x572b0a[0x24c7+-0x1165*0x1+-0x135e*0x1],_0x2dfe88[0xebc+-0xa95+-0x425]=_0x572b0a[0x3*0xbe9+0x1ac5+-0xf9e*0x4],_0x2dfe88[-0x18ef*-0x1+0x367*-0x1+-0x7*0x313]=_0x572b0a[-0x1a76+-0x2*0x143+0x4*0x742],_0x2dfe88[0x182e+0x2*-0x23f+-0x4*0x4eb]=_0x572b0a[0x1808+0x1ca2+-0x34a9*0x1],_0x2dfe88[0xf7*-0x21+-0xf5b+0x2f37]=_0x572b0a[0xd91+0x1b56+-0x2*0x1471],_0x2dfe88[0x8a2+-0xfbf+-0x7*-0x105]=_0x572b0a[-0x7*0x1cd+-0x1*-0x768+-0xa*-0x86],_0x2dfe88[0x2*-0x4d+0x1b56*-0x1+0x1bf7*0x1]=_0x572b0a[0xad9*-0x1+-0x2096+0x2b7c],_0x2dfe88[0xb6f*-0x1+-0x1251+-0x772*-0x4]=_0x572b0a[0x21c8+0xab*0x2d+0x27*-0x1a3],_0x2dfe88[0x17bf+-0x1a44*-0x1+0x2*-0x18fd]=_0x572b0a[0xa*-0x5b+-0x1325+0x16b9],_0x2dfe88[0x1*-0x16c3+-0x3*-0x3e2+0xb27]=_0x572b0a[0x143b*-0x1+-0x40f*0x9+0x38cc],_0x2dfe88[-0x124d+0x32+0x65*0x2e]=_0x572b0a[-0x213+-0x18d0+0x1af1],_0x2dfe88[-0xb*-0x1a3+-0x1*0x1273+-0x6*-0x15]=_0x572b0a[-0x1*0x1adf+-0xee9+-0x337*-0xd],_0x2dfe88[0x26fe+0x1*0x836+-0x1*0x2f27]=_0x572b0a[-0x2547+0x519+0x671*0x5],_0x2dfe88[0x1163*0x2+0x193d+-0x3bf5*0x1]=_0x572b0a[0xb45+-0x2027+0x14ed],_0x2dfe88[0xa97*-0x1+-0x31*-0x3b+-0xa5]=_0x572b0a[0xca0+0x1b48+-0x27d9];return this;}['getTransla'+'tion'](_0x1cd476=new T()){return _0x1cd476['set'](this['data'][-0x1f27+-0x1*-0x2f7+0x116*0x1a],this['data'][-0x4*-0x45c+-0x1bf8+-0x3*-0x387],this['data'][-0x99*0x2+-0x38e+0xf*0x52]);}['getX'](_0x53d457=new T()){return _0x53d457['set'](this['data'][-0x12ac*0x1+-0x22be+-0x6*-0x8e7],this['data'][-0x1021+-0x80*0x2c+0x2622],this['data'][-0x35e*-0x8+0xc73*0x3+-0x156d*0x3]);}['getY'](_0x44189e=new T()){return _0x44189e['set'](this['data'][-0x58*-0x23+0x125a+-0xd*0x256],this['data'][0x16f*-0x7+-0x1237+0x1c45],this['data'][-0x1238+0x4*-0x1fd+0xd19*0x2]);}['getZ'](_0x5119bc=new T()){return _0x5119bc['set'](this['data'][-0x1dae+-0x1145+0x2efb],this['data'][0x1339+0x801+-0x1b31],this['data'][-0x2681+0x8e9+0x1*0x1da2]);}['getScale'](_0x24e2c9=new T()){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),_0x24e2c9['set'](us['length'](),Fs['length'](),Os['length']()),_0x24e2c9;}get['scaleSign'](){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),us['cross'](us,Fs),us['dot'](Os)<0x1434*0x1+0x9ef*-0x3+-0x15f*-0x7?-(-0x3*-0xa21+0x1*-0xd00+0x5*-0x37a):0x2170+-0x146c*-0x1+-0x11*0x32b;}['setFromEul'+'erAngles'](_0x2a5f6d,_0xbb6071,_0x19b5ed){_0x2a5f6d*=N['DEG_TO_RAD'],_0xbb6071*=N['DEG_TO_RAD'],_0x19b5ed*=N['DEG_TO_RAD'];const _0x26198a=Math['sin'](-_0x2a5f6d),_0x136fd6=Math['cos'](-_0x2a5f6d),_0x11d559=Math['sin'](-_0xbb6071),_0x9824b0=Math['cos'](-_0xbb6071),_0x1477a3=Math['sin'](-_0x19b5ed),_0x4165bc=Math['cos'](-_0x19b5ed),_0x72edd2=this['data'];return _0x72edd2[-0x581*0x5+0x3*0x943+0x44*-0x1]=_0x9824b0*_0x4165bc,_0x72edd2[0x26d9*-0x1+0x589+-0x2151*-0x1]=-_0x9824b0*_0x1477a3,_0x72edd2[-0x70b*0x5+0x3*0x7da+0xbab]=_0x11d559,_0x72edd2[0xd39+0x2445+-0xef*0x35]=0xb7c+-0x152a+-0x162*-0x7,_0x72edd2[0x1*0xeef+0x137*-0x1f+-0x8e*-0x29]=_0x136fd6*_0x1477a3+_0x4165bc*_0x26198a*_0x11d559,_0x72edd2[-0x8b*0x2+-0x16*-0x64+-0x9*0xd5]=_0x136fd6*_0x4165bc-_0x26198a*_0x11d559*_0x1477a3,_0x72edd2[0xcab+-0x1*-0xf4d+0xe*-0x1ff]=-_0x9824b0*_0x26198a,_0x72edd2[0xaa1*0x1+-0x1eb1+0x8b*0x25]=-0x1640+0x2239+-0x265*0x5,_0x72edd2[-0x2131*-0x1+0x67*0x53+-0x428e]=_0x26198a*_0x1477a3-_0x136fd6*_0x4165bc*_0x11d559,_0x72edd2[0x1*-0xbb5+0x1*0x15ef+-0xa31*0x1]=_0x4165bc*_0x26198a+_0x136fd6*_0x11d559*_0x1477a3,_0x72edd2[0x1246*0x1+0xf14+0x290*-0xd]=_0x136fd6*_0x9824b0,_0x72edd2[-0x209c+0x27*0x1b+0x2*0xe45]=0x1*0x1124+0x10c3+0x107*-0x21,_0x72edd2[0x9*0x329+0x812+-0x74b*0x5]=-0x25b6+0x22*-0xe3+-0x65*-0xac,_0x72edd2[-0x2*-0x135b+0x1f*0x8e+-0x37db*0x1]=-0xd03+0x10f*-0xf+0x1ce4,_0x72edd2[-0x8*0x27b+-0x5*0x531+-0x15*-0x22f]=-0x2589+0x1eba*0x1+0xf9*0x7,_0x72edd2[-0x181a+-0x1e2b*0x1+-0x1b2a*-0x2]=-0x2567+0x1128+0x3*0x6c0,this;}['getEulerAn'+'gles'](_0x1a53e4=new T()){this['getScale'](_l);const _0xa0d1da=_l['x'],_0x49871d=_l['y'],_0x362ce2=_l['z'];if(_0xa0d1da===0x258e+-0x2649+-0xbb*-0x1||_0x49871d===-0x12de+0x14e4+-0x206||_0x362ce2===-0xee+0xc4f+0x3*-0x3cb)return _0x1a53e4['set'](-0x20e9+0x199+0x7d4*0x4,0xa7*0x2+-0x13*-0x171+-0x1cb1,0x25de+0x15a*-0x9+-0xbc*0x23);const _0x293084=this['data'],_0x1f170c=Math['asin'](-_0x293084[0x19f7+0x1d3d+0x1e*-0x1d7]/_0xa0d1da),_0x248f68=Math['PI']*(0x258a+0x55*0x7+-0xd*0x311+0.5);let _0x24ebe2,_0x53ca3a;return _0x1f170c<_0x248f68?_0x1f170c>-_0x248f68?(_0x24ebe2=Math['atan2'](_0x293084[0x2*-0x18e+0x3d2*0x6+-0x11*0x12a]/_0x49871d,_0x293084[-0x1186+0x1997*0x1+-0x807]/_0x362ce2),_0x53ca3a=Math['atan2'](_0x293084[-0xa2a+0x581+0x4aa]/_0xa0d1da,_0x293084[0x1da*0xd+0x1*0x76c+-0x1f7e]/_0xa0d1da)):(_0x53ca3a=-0x6*-0x470+0x742+-0x21e2,_0x24ebe2=-Math['atan2'](_0x293084[0x102a+0x22c3+-0x32e9]/_0x49871d,_0x293084[0x6*-0x137+-0x1cf3+-0x1221*-0x2]/_0x49871d)):(_0x53ca3a=0x1dfb+-0x1bea+-0x211,_0x24ebe2=Math['atan2'](_0x293084[-0x35b+-0xb2+0x411]/_0x49871d,_0x293084[-0x141d*0x1+0x25b5+0xb*-0x199]/_0x49871d)),_0x1a53e4['set'](_0x24ebe2,_0x1f170c,_0x53ca3a)['mulScalar'](N['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Ur,'IDENTITY',Object['freeze'](new Ur())),c(Ur,'ZERO',Object['freeze'](new Ur()['set']([-0x1744+-0xab8+0x21fc,0x163*-0xd+-0x10a8+-0x2ab*-0xd,0x24c5+-0x1a29+-0xa9c,-0x2604+-0x7f+-0x2683*-0x1,-0x1ee3+0x2520+-0x63d,0x1*0x247d+0x17ca+-0x1*0x3c47,-0x568+0x16d8+-0x1170,-0x15*-0x67+0x1093+-0x1906,-0x1f5*-0x3+0x4d3+-0xab2,-0xdc4*0x1+0x105*0x1+0xcbf,0x104+0x7*-0xf+-0x1f*0x5,0x22a3+-0x1f*-0x1d+0x26*-0x101,0xa09*0x1+0xbce+0x15d7*-0x1,-0x12eb+-0x2318+0x3603,0x151*0xc+0x24cb+-0x3497*0x1,0x247c+-0x17*-0x1a1+-0x49f3])));let q=Ur;const aa=class aa{constructor(_0x1d9bba=0x1*-0x1937+0x21f2+0x1bf*-0x5,_0x3ee75e=-0x2057+-0x1971+0x2b*0x158,_0x3e7a54=-0x60+0x715*0x1+0x1*-0x6b5,_0x5e8e44=0x1659+0x1be4+-0x323c){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x1d9bba['length']===0xcbf+0x1f*0xc2+-0x2439?(this['x']=_0x1d9bba[-0x74f+0xd4c+-0x5fd],this['y']=_0x1d9bba[0x4*0x601+-0x2f0+-0x19f*0xd],this['z']=_0x1d9bba[-0x14c4+0x11a0+0x326],this['w']=_0x1d9bba[0x20a9+-0x288+-0x1e1e]):(this['x']=_0x1d9bba,this['y']=_0x3ee75e,this['z']=_0x3e7a54,this['w']=_0x5e8e44);}['clone'](){const _0x5876b7=this['constructo'+'r'];return new _0x5876b7(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x551b7d=this){return this['x']=_0x551b7d['x']*-(0x216c+0x75f+-0x28ca),this['y']=_0x551b7d['y']*-(0x1*0xc25+0x6*0x485+-0x2742),this['z']=_0x551b7d['z']*-(-0x780+0x9*-0x1d3+0x4*0x5fb),this['w']=_0x551b7d['w'],this;}['copy'](_0x20ef5a){return this['x']=_0x20ef5a['x'],this['y']=_0x20ef5a['y'],this['z']=_0x20ef5a['z'],this['w']=_0x20ef5a['w'],this;}['equals'](_0x144761){return this['x']===_0x144761['x']&&this['y']===_0x144761['y']&&this['z']===_0x144761['z']&&this['w']===_0x144761['w'];}['equalsAppr'+'ox'](_0x298fd7,_0x1025e4=0x1d*0x3b+0x4*0x22f+-0x1*0xf6b+0.000001){return Math['abs'](this['x']-_0x298fd7['x'])<_0x1025e4&&Math['abs'](this['y']-_0x298fd7['y'])<_0x1025e4&&Math['abs'](this['z']-_0x298fd7['z'])<_0x1025e4&&Math['abs'](this['w']-_0x298fd7['w'])<_0x1025e4;}['getAxisAng'+'le'](_0x3154c7){let _0x3a2473=Math['acos'](this['w'])*(-0x5*-0x265+0x114*-0x21+-0x193*-0xf);const _0x160b22=Math['sin'](_0x3a2473/(0x90b+-0x50b*0x1+-0x3fe*0x1));return _0x160b22!==-0x5*0x69b+-0x1fcd+0x40d4?(_0x3154c7['x']=this['x']/_0x160b22,_0x3154c7['y']=this['y']/_0x160b22,_0x3154c7['z']=this['z']/_0x160b22,(_0x3154c7['x']<0x1514+0xf*-0x251+0xdab*0x1||_0x3154c7['y']<0x1dbc*0x1+-0x40*-0x5e+-0x1a9e*0x2||_0x3154c7['z']<0x2a6*0x1+-0x2*-0xa34+-0x170e)&&(_0x3154c7['x']*=-(0x11ae+-0x319*-0x1+0xa63*-0x2),_0x3154c7['y']*=-(0x7bd+0x1ac7+-0x6e7*0x5),_0x3154c7['z']*=-(-0xbdb+-0x42e+0x2*0x805),_0x3a2473*=-(-0x647*0x2+0x1228+-0x599))):(_0x3154c7['x']=0xa2d+-0x219+0x9f*-0xd,_0x3154c7['y']=-0x1f*-0x75+-0x11*0x18a+0x25*0x53,_0x3154c7['z']=-0x22c1+-0x139a+0x365b),_0x3a2473*N['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x2f69e8=new T()){let _0xf2c4a3,_0x4b611a,_0x279e2d;const _0x15e31a=this['x'],_0x482809=this['y'],_0x98b506=this['z'],_0x3e83f0=this['w'],_0x4b78ea=(0xa7*-0x2+0xbb3+0x1*-0xa63)*(_0x3e83f0*_0x482809-_0x15e31a*_0x98b506);return _0x4b78ea<=-(-0xd15+0x5f9+0x104*0x7+0.99999)?(_0xf2c4a3=(-0x123d+0x652*-0x3+0x2535)*Math['atan2'](_0x15e31a,_0x3e83f0),_0x4b611a=-Math['PI']/(0xea9+-0x97f*-0x2+-0x1d*0x129),_0x279e2d=0x1fe7*-0x1+0x5f5*-0x1+0x12ee*0x2):_0x4b78ea>=0x13f1+0x1a0b+-0x2dfc+0.99999?(_0xf2c4a3=(-0x1*0xb4d+-0x21b6+0x1cd*0x19)*Math['atan2'](_0x15e31a,_0x3e83f0),_0x4b611a=Math['PI']/(-0x2*0x3d9+-0x1*-0x351+0x463),_0x279e2d=0x1*0x3dd+-0x147e+0x10a1):(_0xf2c4a3=Math['atan2']((0x1*0x32f+0xd9*-0x26+0x1d09)*(_0x3e83f0*_0x15e31a+_0x482809*_0x98b506),-0x1a1*0x13+0x678+-0x61f*-0x4-(0x815*0x4+0x1a*0xf1+-0x5ae*0xa)*(_0x15e31a*_0x15e31a+_0x482809*_0x482809)),_0x4b611a=Math['asin'](_0x4b78ea),_0x279e2d=Math['atan2']((-0x254e+-0x1*0x22b+-0x9*-0x463)*(_0x3e83f0*_0x98b506+_0x15e31a*_0x482809),0x195a+-0x2*0x859+-0x1*0x8a7-(-0x4*0x12f+-0x74f+-0x5*-0x269)*(_0x482809*_0x482809+_0x98b506*_0x98b506))),_0x2f69e8['set'](_0xf2c4a3,_0x4b611a,_0x279e2d)['mulScalar'](N['RAD_TO_DEG']);}['invert'](_0x5c0cd4=this){return this['conjugate'](_0x5c0cd4)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x2485d2){const _0xd8c7f8=this['x'],_0xf4c93c=this['y'],_0x52045f=this['z'],_0x457ab7=this['w'],_0x180983=_0x2485d2['x'],_0x538b88=_0x2485d2['y'],_0x22349f=_0x2485d2['z'],_0x1aee12=_0x2485d2['w'];return this['x']=_0x457ab7*_0x180983+_0xd8c7f8*_0x1aee12+_0xf4c93c*_0x22349f-_0x52045f*_0x538b88,this['y']=_0x457ab7*_0x538b88+_0xf4c93c*_0x1aee12+_0x52045f*_0x180983-_0xd8c7f8*_0x22349f,this['z']=_0x457ab7*_0x22349f+_0x52045f*_0x1aee12+_0xd8c7f8*_0x538b88-_0xf4c93c*_0x180983,this['w']=_0x457ab7*_0x1aee12-_0xd8c7f8*_0x180983-_0xf4c93c*_0x538b88-_0x52045f*_0x22349f,this;}['mulScalar'](_0x4603ae,_0x5c86ef=this){return this['x']=_0x5c86ef['x']*_0x4603ae,this['y']=_0x5c86ef['y']*_0x4603ae,this['z']=_0x5c86ef['z']*_0x4603ae,this['w']=_0x5c86ef['w']*_0x4603ae,this;}['mul2'](_0x595767,_0x38dfc4){const _0x4048a1=_0x595767['x'],_0xc8f63b=_0x595767['y'],_0x38d43d=_0x595767['z'],_0x52c10c=_0x595767['w'],_0x37cecd=_0x38dfc4['x'],_0x2eaeb9=_0x38dfc4['y'],_0x599caf=_0x38dfc4['z'],_0xc59f45=_0x38dfc4['w'];return this['x']=_0x52c10c*_0x37cecd+_0x4048a1*_0xc59f45+_0xc8f63b*_0x599caf-_0x38d43d*_0x2eaeb9,this['y']=_0x52c10c*_0x2eaeb9+_0xc8f63b*_0xc59f45+_0x38d43d*_0x37cecd-_0x4048a1*_0x599caf,this['z']=_0x52c10c*_0x599caf+_0x38d43d*_0xc59f45+_0x4048a1*_0x2eaeb9-_0xc8f63b*_0x37cecd,this['w']=_0x52c10c*_0xc59f45-_0x4048a1*_0x37cecd-_0xc8f63b*_0x2eaeb9-_0x38d43d*_0x599caf,this;}['normalize'](_0x5d205f=this){let _0x4d71e9=_0x5d205f['length']();return _0x4d71e9===0x2325+0x44a+-0x7e3*0x5?(this['x']=this['y']=this['z']=0x767+0x48d+-0xbf4,this['w']=0xc1*0x17+-0x50*-0x33+-0x2146):(_0x4d71e9=(-0x3*0xb98+0x65*0x1+0x2264)/_0x4d71e9,this['x']=_0x5d205f['x']*_0x4d71e9,this['y']=_0x5d205f['y']*_0x4d71e9,this['z']=_0x5d205f['z']*_0x4d71e9,this['w']=_0x5d205f['w']*_0x4d71e9),this;}['set'](_0x3b4aea,_0x769833,_0x55afcd,_0x4e8a35){return this['x']=_0x3b4aea,this['y']=_0x769833,this['z']=_0x55afcd,this['w']=_0x4e8a35,this;}['setFromAxi'+'sAngle'](_0x28b696,_0x3c8a1d){_0x3c8a1d*=(-0x1d11+-0xe25+0x2b36+0.5)*N['DEG_TO_RAD'];const _0x176c30=Math['sin'](_0x3c8a1d),_0x293b0e=Math['cos'](_0x3c8a1d);return this['x']=_0x176c30*_0x28b696['x'],this['y']=_0x176c30*_0x28b696['y'],this['z']=_0x176c30*_0x28b696['z'],this['w']=_0x293b0e,this;}['setFromEul'+'erAngles'](_0x5bada1,_0x5af441,_0x54f1b7){if(_0x5bada1 instanceof T){const _0x9831a7=_0x5bada1;_0x5bada1=_0x9831a7['x'],_0x5af441=_0x9831a7['y'],_0x54f1b7=_0x9831a7['z'];}const _0x53973d=(0x1ff1+0x13*0x82+-0x2997+0.5)*N['DEG_TO_RAD'];_0x5bada1*=_0x53973d,_0x5af441*=_0x53973d,_0x54f1b7*=_0x53973d;const _0x296e2a=Math['sin'](_0x5bada1),_0x3f3168=Math['cos'](_0x5bada1),_0x208c2d=Math['sin'](_0x5af441),_0x2c49b8=Math['cos'](_0x5af441),_0x355cf7=Math['sin'](_0x54f1b7),_0x7670f2=Math['cos'](_0x54f1b7);return this['x']=_0x296e2a*_0x2c49b8*_0x7670f2-_0x3f3168*_0x208c2d*_0x355cf7,this['y']=_0x3f3168*_0x208c2d*_0x7670f2+_0x296e2a*_0x2c49b8*_0x355cf7,this['z']=_0x3f3168*_0x2c49b8*_0x355cf7-_0x296e2a*_0x208c2d*_0x7670f2,this['w']=_0x3f3168*_0x2c49b8*_0x7670f2+_0x296e2a*_0x208c2d*_0x355cf7,this;}['setFromMat'+'4'](_0x2a7d33){const _0xf24030=_0x2a7d33['data'];let _0x3b3511=_0xf24030[-0xf6b+0x10aa+-0x13f],_0x4a1963=_0xf24030[-0x4*-0x5+-0x4*-0x866+-0x21ab],_0x2d6d65=_0xf24030[0x440+0x172c+-0x79*0x3a],_0x49bd21=_0xf24030[-0x1*0x1edd+0x221a+-0x339],_0x19fb27=_0xf24030[0x19bf+-0x121d+0x1*-0x79d],_0x5ec7ce=_0xf24030[-0x36*0x24+0x16c6+-0x8*0x1e5],_0x573d29=_0xf24030[0x1*-0x501+-0x1e2e*0x1+0x2337],_0x20be44=_0xf24030[-0xf9f+-0x10d9+0x9d*0x35],_0x2f0920=_0xf24030[0x1ff4+-0xa15+-0x15d5],_0x4f2add;return _0x4f2add=_0x3b3511*_0x3b3511+_0x4a1963*_0x4a1963+_0x2d6d65*_0x2d6d65,_0x4f2add===-0x1889*-0x1+-0x1b60+0x2d7?this['set'](0x1*-0x811+-0x129e+0x1aaf,-0x6*0x2c2+0x64e+-0x45*-0x26,0x71e*0x5+0x22be+-0xe*0x506,0x2*0x250+0x1326+-0x17c5):(_0x4f2add=(-0x4d*-0x17+0x1e61+-0x254b*0x1)/Math['sqrt'](_0x4f2add),_0x3b3511*=_0x4f2add,_0x4a1963*=_0x4f2add,_0x2d6d65*=_0x4f2add,_0x4f2add=_0x49bd21*_0x49bd21+_0x19fb27*_0x19fb27+_0x5ec7ce*_0x5ec7ce,_0x4f2add===0x5*0x107+-0x3cb*0x6+0x119f*0x1?this['set'](0x17bb+0x2*-0x10c9+0x9d7,0x26*0x8b+0x1aa0+-0x1*0x2f42,0x1eac+-0x1*0x15c5+-0x8e7,-0x1104+-0x93*0x1d+-0x86b*-0x4):(_0x4f2add=(-0x15a0+-0x8ee+0x1e8f*0x1)/Math['sqrt'](_0x4f2add),_0x49bd21*=_0x4f2add,_0x19fb27*=_0x4f2add,_0x5ec7ce*=_0x4f2add,_0x4f2add=_0x573d29*_0x573d29+_0x20be44*_0x20be44+_0x2f0920*_0x2f0920,_0x4f2add===-0x28*0x6c+-0x64d*0x1+0x172d?this['set'](-0xc31+-0x25*-0x49+-0x54*-0x5,-0x1c26+0x1546+0x6e0,0x1f5*0x9+0x4a9*0x2+0x563*-0x5,0x5be+-0x2*-0x406+-0xdc9):(_0x4f2add=(0x3d*-0x25+-0x228b+0x2b5d*0x1)/Math['sqrt'](_0x4f2add),_0x573d29*=_0x4f2add,_0x20be44*=_0x4f2add,_0x2f0920*=_0x4f2add,_0x2f0920<0x1340+0x1558+-0x3*0xd88?_0x3b3511>_0x19fb27?this['set'](-0x537*0x2+-0x1075+-0x4*-0x6b9+_0x3b3511-_0x19fb27-_0x2f0920,_0x4a1963+_0x49bd21,_0x573d29+_0x2d6d65,_0x5ec7ce-_0x20be44):this['set'](_0x4a1963+_0x49bd21,-0xc41+0x25fc+-0x19ba-_0x3b3511+_0x19fb27-_0x2f0920,_0x5ec7ce+_0x20be44,_0x573d29-_0x2d6d65):_0x3b3511<-_0x19fb27?this['set'](_0x573d29+_0x2d6d65,_0x5ec7ce+_0x20be44,-0x3d*-0x2f+-0x194*-0x6+-0x14aa-_0x3b3511-_0x19fb27+_0x2f0920,_0x4a1963-_0x49bd21):this['set'](_0x5ec7ce-_0x20be44,_0x573d29-_0x2d6d65,_0x4a1963-_0x49bd21,-0x174d*0x1+0xa2e+0xd20+_0x3b3511+_0x19fb27+_0x2f0920),this['mulScalar']((-0x927+-0x265*-0x10+-0x1d28)/this['length']()))));}['setFromDir'+'ections'](_0x27d8c8,_0x688578){const _0x2d0e55=-0x1cf8+-0x1947+0x40*0xd9+_0x27d8c8['dot'](_0x688578);return _0x2d0e55<Number['EPSILON']?Math['abs'](_0x27d8c8['x'])>Math['abs'](_0x27d8c8['y'])?(this['x']=-_0x27d8c8['z'],this['y']=-0x578+0x178*-0xb+0x15a0,this['z']=_0x27d8c8['x'],this['w']=0xd1b+0x1*0x2287+-0x2fa2):(this['x']=0x1*-0x52c+0xf7e+-0xa52*0x1,this['y']=-_0x27d8c8['z'],this['z']=_0x27d8c8['y'],this['w']=0x9*-0x26+0x25ca+0x2*-0x123a):(this['x']=_0x27d8c8['y']*_0x688578['z']-_0x27d8c8['z']*_0x688578['y'],this['y']=_0x27d8c8['z']*_0x688578['x']-_0x27d8c8['x']*_0x688578['z'],this['z']=_0x27d8c8['x']*_0x688578['y']-_0x27d8c8['y']*_0x688578['x'],this['w']=_0x2d0e55),this['normalize']();}['slerp'](_0x3279d4,_0x492b39,_0x5d9a2b){const _0x437394=_0x3279d4['x'],_0x2d6ec0=_0x3279d4['y'],_0x45284c=_0x3279d4['z'],_0x42421b=_0x3279d4['w'];let _0x369dcc=_0x492b39['x'],_0x490c8e=_0x492b39['y'],_0x4963f3=_0x492b39['z'],_0x3e86d3=_0x492b39['w'],_0x3245b8=_0x42421b*_0x3e86d3+_0x437394*_0x369dcc+_0x2d6ec0*_0x490c8e+_0x45284c*_0x4963f3;if(_0x3245b8<-0x1*0x24a1+0x886+0x1c1b&&(_0x3e86d3=-_0x3e86d3,_0x369dcc=-_0x369dcc,_0x490c8e=-_0x490c8e,_0x4963f3=-_0x4963f3,_0x3245b8=-_0x3245b8),Math['abs'](_0x3245b8)>=0x257a+-0x1*0x118+-0x2461*0x1)return this['w']=_0x42421b,this['x']=_0x437394,this['y']=_0x2d6ec0,this['z']=_0x45284c,this;const _0x1ef56d=Math['acos'](_0x3245b8),_0x38c4b3=Math['sqrt'](-0xf90*0x1+-0x16d*0x17+0x305c-_0x3245b8*_0x3245b8);if(Math['abs'](_0x38c4b3)<0x2628+0x8cf+-0x2ef7+0.001)return this['w']=_0x42421b*(-0xcfa+-0x10be+0x1db8+0.5)+_0x3e86d3*(0x1b1*0x1+0x257c+-0x272d+0.5),this['x']=_0x437394*(0x1c24+-0x4*0xb0+-0xa*0x28a+0.5)+_0x369dcc*(0x19d6+0x1a34+0x2*-0x1a05+0.5),this['y']=_0x2d6ec0*(-0x2f*0x76+0xd6*-0x1b+0x2c3c+0.5)+_0x490c8e*(0x2d6*-0xa+0x24bf+-0x863+0.5),this['z']=_0x45284c*(0x5f*-0x2+-0x3*0xb39+-0x17f*-0x17+0.5)+_0x4963f3*(0x15a5*0x1+-0x1cb4+0x1*0x70f+0.5),this;const _0x240694=Math['sin']((0x3*0xc5f+-0x265e+-0x2*-0xa1-_0x5d9a2b)*_0x1ef56d)/_0x38c4b3,_0x38b41c=Math['sin'](_0x5d9a2b*_0x1ef56d)/_0x38c4b3;return this['w']=_0x42421b*_0x240694+_0x3e86d3*_0x38b41c,this['x']=_0x437394*_0x240694+_0x369dcc*_0x38b41c,this['y']=_0x2d6ec0*_0x240694+_0x490c8e*_0x38b41c,this['z']=_0x45284c*_0x240694+_0x4963f3*_0x38b41c,this;}['transformV'+'ector'](_0x4a469a,_0x3bb208=new T()){const _0x551c7c=_0x4a469a['x'],_0x55d93b=_0x4a469a['y'],_0x38a3b4=_0x4a469a['z'],_0x274873=this['x'],_0x248180=this['y'],_0x40a0ca=this['z'],_0x4c133d=this['w'],_0x3936e9=_0x4c133d*_0x551c7c+_0x248180*_0x38a3b4-_0x40a0ca*_0x55d93b,_0x1a03d9=_0x4c133d*_0x55d93b+_0x40a0ca*_0x551c7c-_0x274873*_0x38a3b4,_0x3e943=_0x4c133d*_0x38a3b4+_0x274873*_0x55d93b-_0x248180*_0x551c7c,_0x298424=-_0x274873*_0x551c7c-_0x248180*_0x55d93b-_0x40a0ca*_0x38a3b4;return _0x3bb208['x']=_0x3936e9*_0x4c133d+_0x298424*-_0x274873+_0x1a03d9*-_0x40a0ca-_0x3e943*-_0x248180,_0x3bb208['y']=_0x1a03d9*_0x4c133d+_0x298424*-_0x248180+_0x3e943*-_0x274873-_0x3936e9*-_0x40a0ca,_0x3bb208['z']=_0x3e943*_0x4c133d+_0x298424*-_0x40a0ca+_0x3936e9*-_0x248180-_0x1a03d9*-_0x274873,_0x3bb208;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(aa,'IDENTITY',Object['freeze'](new aa(-0x255f+-0x305*0x2+0x2b69*0x1,-0x97d+-0x16ec+0x2069,-0x16f7*-0x1+-0x37c*-0x1+-0x8d1*0x3,-0xaa4*0x2+0x12fb+-0x127*-0x2))),c(aa,'ZERO',Object['freeze'](new aa(-0x2*0x1292+0x1e21+0x1*0x703,-0x16a0+-0x13c3*0x1+0x2a63,0x31*0x7+-0x294*0x5+0xb8d,-0x2*0xaf0+-0xca6+-0x5c1*-0x6)));let se=aa;const vn=new T(),bn=new T(),nm=new T(),am=new T(),vS=new T();class _e{constructor(_0x545171,_0x355a94){c(this,'center',new T()),c(this,'halfExtent'+'s',new T(-0x181a+0x6f3+0x1127+0.5,-0x1db8+-0x1645*0x1+0x33fd*0x1+0.5,0x169b+-0x16b2+-0x1*-0x17+0.5)),c(this,'_min',new T()),c(this,'_max',new T()),(_0x545171&&this['center']['copy'](_0x545171),_0x355a94&&this['halfExtent'+'s']['copy'](_0x355a94));}['add'](_0x34d28e){const _0xdbee26=this['center'],_0x29d46f=_0xdbee26['x'],_0x2215f7=_0xdbee26['y'],_0x2cd224=_0xdbee26['z'],_0x321d45=this['halfExtent'+'s'],_0x596892=_0x321d45['x'],_0x5103b8=_0x321d45['y'],_0x5d0680=_0x321d45['z'];let _0x5678c6=_0x29d46f-_0x596892,_0x36e00b=_0x29d46f+_0x596892,_0x45b2e8=_0x2215f7-_0x5103b8,_0x332e57=_0x2215f7+_0x5103b8,_0x2cc553=_0x2cd224-_0x5d0680,_0x5f3777=_0x2cd224+_0x5d0680;const _0x189aa2=_0x34d28e['center'],_0x237163=_0x189aa2['x'],_0x3e6c72=_0x189aa2['y'],_0x65a56b=_0x189aa2['z'],_0x25ea2a=_0x34d28e['halfExtent'+'s'],_0x43a4b9=_0x25ea2a['x'],_0x153945=_0x25ea2a['y'],_0x2472f7=_0x25ea2a['z'],_0x443400=_0x237163-_0x43a4b9,_0x207cef=_0x237163+_0x43a4b9,_0x4db5e4=_0x3e6c72-_0x153945,_0x358d73=_0x3e6c72+_0x153945,_0x4faa10=_0x65a56b-_0x2472f7,_0x1d92b2=_0x65a56b+_0x2472f7;_0x443400<_0x5678c6&&(_0x5678c6=_0x443400),_0x207cef>_0x36e00b&&(_0x36e00b=_0x207cef),_0x4db5e4<_0x45b2e8&&(_0x45b2e8=_0x4db5e4),_0x358d73>_0x332e57&&(_0x332e57=_0x358d73),_0x4faa10<_0x2cc553&&(_0x2cc553=_0x4faa10),_0x1d92b2>_0x5f3777&&(_0x5f3777=_0x1d92b2),_0xdbee26['x']=(_0x5678c6+_0x36e00b)*(0xc41*0x1+0x62f+-0x1270+0.5),_0xdbee26['y']=(_0x45b2e8+_0x332e57)*(0x98d*-0x4+0x15c*-0x2+-0xc2*-0x36+0.5),_0xdbee26['z']=(_0x2cc553+_0x5f3777)*(0x7ff+-0x6*-0x5ce+-0x241*0x13+0.5),_0x321d45['x']=(_0x36e00b-_0x5678c6)*(0x30e*-0x1+0xf5c+0x46*-0x2d+0.5),_0x321d45['y']=(_0x332e57-_0x45b2e8)*(0x1572+0x1fd+-0x176f+0.5),_0x321d45['z']=(_0x5f3777-_0x2cc553)*(0x1702+-0x6*0x13f+-0x7*0x238+0.5);}['copy'](_0x47311a){this['center']['copy'](_0x47311a['center']),this['halfExtent'+'s']['copy'](_0x47311a['halfExtent'+'s']);}['clone'](){return new _e(this['center'],this['halfExtent'+'s']);}['intersects'](_0x358c25){const _0x2002dc=this['getMax'](),_0xeb00e0=this['getMin'](),_0x2bc651=_0x358c25['getMax'](),_0x459895=_0x358c25['getMin']();return _0xeb00e0['x']<=_0x2bc651['x']&&_0x2002dc['x']>=_0x459895['x']&&_0xeb00e0['y']<=_0x2bc651['y']&&_0x2002dc['y']>=_0x459895['y']&&_0xeb00e0['z']<=_0x2bc651['z']&&_0x2002dc['z']>=_0x459895['z'];}['_intersect'+'sRay'](_0x439c29,_0x4915d8){const _0x3ef07b=vn['copy'](this['getMin']())['sub'](_0x439c29['origin']),_0x5acb81=bn['copy'](this['getMax']())['sub'](_0x439c29['origin']),_0x213224=_0x439c29['direction'];_0x213224['x']===-0x678+-0x1f57*0x1+0x25cf?(_0x3ef07b['x']=_0x3ef07b['x']<0x10*0xc9+0x1*-0x1b6f+0xedf?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x5acb81['x']=_0x5acb81['x']<-0x26e+-0x900+-0x1*-0xb6e?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x3ef07b['x']/=_0x213224['x'],_0x5acb81['x']/=_0x213224['x']),_0x213224['y']===-0xa9*0x2b+0x1001+0xc62?(_0x3ef07b['y']=_0x3ef07b['y']<-0xe0e+-0x24d9+0x32e7?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x5acb81['y']=_0x5acb81['y']<0xd1b+0xd0b+-0x1a26*0x1?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x3ef07b['y']/=_0x213224['y'],_0x5acb81['y']/=_0x213224['y']),_0x213224['z']===-0x821*-0x1+0x232b+-0x2b4c?(_0x3ef07b['z']=_0x3ef07b['z']<0x7*0x99+0x1afc+-0x1f2b?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x5acb81['z']=_0x5acb81['z']<0x1f37+-0x55e+-0x19d9?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x3ef07b['z']/=_0x213224['z'],_0x5acb81['z']/=_0x213224['z']);const _0x449584=nm['set'](Math['min'](_0x3ef07b['x'],_0x5acb81['x']),Math['min'](_0x3ef07b['y'],_0x5acb81['y']),Math['min'](_0x3ef07b['z'],_0x5acb81['z'])),_0x141c9b=am['set'](Math['max'](_0x3ef07b['x'],_0x5acb81['x']),Math['max'](_0x3ef07b['y'],_0x5acb81['y']),Math['max'](_0x3ef07b['z'],_0x5acb81['z'])),_0x45330c=Math['min'](Math['min'](_0x141c9b['x'],_0x141c9b['y']),_0x141c9b['z']),_0x5a18e7=Math['max'](Math['max'](_0x449584['x'],_0x449584['y']),_0x449584['z']),_0x10190a=_0x45330c>=_0x5a18e7&&_0x5a18e7>=0x1b2a+0x1cd6+-0x3800;return _0x10190a&&_0x4915d8['copy'](_0x439c29['direction'])['mulScalar'](_0x5a18e7)['add'](_0x439c29['origin']),_0x10190a;}['_fastInter'+'sectsRay'](_0xf4024c){const _0x44573a=vn,_0x479274=bn,_0x10ae9b=nm,_0x31ed2e=am,_0x558e28=vS,_0x2bcf2c=_0xf4024c['direction'];return _0x44573a['sub2'](_0xf4024c['origin'],this['center']),_0x31ed2e['set'](Math['abs'](_0x44573a['x']),Math['abs'](_0x44573a['y']),Math['abs'](_0x44573a['z'])),_0x10ae9b['mul2'](_0x44573a,_0x2bcf2c),!(_0x31ed2e['x']>this['halfExtent'+'s']['x']&&_0x10ae9b['x']>=0x8*-0x201+0x26e*-0x7+-0x1085*-0x2||_0x31ed2e['y']>this['halfExtent'+'s']['y']&&_0x10ae9b['y']>=-0xcd8+-0x12e5+0x7d*0x41||_0x31ed2e['z']>this['halfExtent'+'s']['z']&&_0x10ae9b['z']>=0x2f6+-0x1*0x20f6+0x3c*0x80||(_0x558e28['set'](Math['abs'](_0x2bcf2c['x']),Math['abs'](_0x2bcf2c['y']),Math['abs'](_0x2bcf2c['z'])),_0x479274['cross'](_0x2bcf2c,_0x44573a),_0x479274['set'](Math['abs'](_0x479274['x']),Math['abs'](_0x479274['y']),Math['abs'](_0x479274['z'])),_0x479274['x']>this['halfExtent'+'s']['y']*_0x558e28['z']+this['halfExtent'+'s']['z']*_0x558e28['y'])||_0x479274['y']>this['halfExtent'+'s']['x']*_0x558e28['z']+this['halfExtent'+'s']['z']*_0x558e28['x']||_0x479274['z']>this['halfExtent'+'s']['x']*_0x558e28['y']+this['halfExtent'+'s']['y']*_0x558e28['x']);}['intersects'+'Ray'](_0x2b6cdd,_0x149ea2){return _0x149ea2?this['_intersect'+'sRay'](_0x2b6cdd,_0x149ea2):this['_fastInter'+'sectsRay'](_0x2b6cdd);}['setMinMax'](_0x552c87,_0x501747){this['center']['add2'](_0x501747,_0x552c87)['mulScalar'](0x1*-0x25d8+-0x170a*-0x1+0x17b*0xa+0.5),this['halfExtent'+'s']['sub2'](_0x501747,_0x552c87)['mulScalar'](-0x1e0e+0xfd3+0xe3b+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x1a7528){const _0x390964=this['getMin'](),_0x57e388=this['getMax']();return!(_0x1a7528['x']<_0x390964['x']||_0x1a7528['x']>_0x57e388['x']||_0x1a7528['y']<_0x390964['y']||_0x1a7528['y']>_0x57e388['y']||_0x1a7528['z']<_0x390964['z']||_0x1a7528['z']>_0x57e388['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x23c01d,_0x5a3a10,_0x8de5b=!(0x74a+0xb51*0x3+0x5e4*-0x7)){const _0x1454c4=_0x23c01d['center'],_0x502788=_0x23c01d['halfExtent'+'s'],_0x1c3ec6=_0x5a3a10['data'];let _0x32457d=_0x1c3ec6[-0x247d+0xa67*0x3+-0xd*-0x68],_0x640081=_0x1c3ec6[0x1eeb*0x1+-0x16d0+0x1*-0x817],_0x20f746=_0x1c3ec6[0x1dc7+-0x2*-0x949+0x85*-0x5d],_0x713eb4=_0x1c3ec6[-0x267f+0x4d*-0x50+0x3e90],_0x31254a=_0x1c3ec6[-0xe6f*-0x1+-0x38b*-0x3+-0x190b],_0xe998b2=_0x1c3ec6[0xe7c+-0xa61*-0x2+0x1*-0x2335],_0x5a1a78=_0x1c3ec6[-0x1*0xe0a+-0x1a89+0x2895],_0x5cb40e=_0x1c3ec6[0x1e99+0x19b*-0x6+-0x6fb*0x3],_0x2ba843=_0x1c3ec6[0x1bd0+-0x266f+0xaa9*0x1];if(_0x8de5b){let _0x8eea29=_0x32457d*_0x32457d+_0x640081*_0x640081+_0x20f746*_0x20f746;if(_0x8eea29>-0x134c+0x1465+-0x1*0x119){const _0x33fd5c=(0x8*0x18b+0x21a1+-0x2df8)/Math['sqrt'](_0x8eea29);_0x32457d*=_0x33fd5c,_0x640081*=_0x33fd5c,_0x20f746*=_0x33fd5c;}if(_0x8eea29=_0x713eb4*_0x713eb4+_0x31254a*_0x31254a+_0xe998b2*_0xe998b2,_0x8eea29>0x69e+0x1822+0x7b*-0x40){const _0xd93ba3=(0x10d5+0x3c4+-0x1498)/Math['sqrt'](_0x8eea29);_0x713eb4*=_0xd93ba3,_0x31254a*=_0xd93ba3,_0xe998b2*=_0xd93ba3;}if(_0x8eea29=_0x5a1a78*_0x5a1a78+_0x5cb40e*_0x5cb40e+_0x2ba843*_0x2ba843,_0x8eea29>-0x1*0x1a7e+0x3f2*-0x9+-0x2*-0x1f00){const _0x497905=(-0x2575+-0x26f0+0x4c66)/Math['sqrt'](_0x8eea29);_0x5a1a78*=_0x497905,_0x5cb40e*=_0x497905,_0x2ba843*=_0x497905;}}this['center']['set'](_0x1c3ec6[-0x1*0x20aa+-0x1379*0x1+-0x342f*-0x1]+_0x32457d*_0x1454c4['x']+_0x640081*_0x1454c4['y']+_0x20f746*_0x1454c4['z'],_0x1c3ec6[-0xac*0x8+-0x2694+0x3*0xeab]+_0x713eb4*_0x1454c4['x']+_0x31254a*_0x1454c4['y']+_0xe998b2*_0x1454c4['z'],_0x1c3ec6[-0x2293+0xd42+0x1*0x155f]+_0x5a1a78*_0x1454c4['x']+_0x5cb40e*_0x1454c4['y']+_0x2ba843*_0x1454c4['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x32457d)*_0x502788['x']+Math['abs'](_0x640081)*_0x502788['y']+Math['abs'](_0x20f746)*_0x502788['z'],Math['abs'](_0x713eb4)*_0x502788['x']+Math['abs'](_0x31254a)*_0x502788['y']+Math['abs'](_0xe998b2)*_0x502788['z'],Math['abs'](_0x5a1a78)*_0x502788['x']+Math['abs'](_0x5cb40e)*_0x502788['y']+Math['abs'](_0x2ba843)*_0x502788['z']);}static['computeMin'+'Max'](_0x39f34e,_0x53a533,_0x58cb01,_0x1b6ad4=_0x39f34e['length']/(0x223b+0x1a51+0x1*-0x3c89)){if(_0x1b6ad4>-0x6b*0x4c+0x9f1+-0x25*-0x97){let _0x152bd6=_0x39f34e[0x137c+-0x22f0+0x5c*0x2b],_0x599a05=_0x39f34e[-0x1387*-0x2+-0x3*-0x883+-0x4096],_0xc7d5f2=_0x39f34e[-0x7ea*-0x4+-0x1*-0x1ae1+0x3a87*-0x1],_0x1f099a=_0x152bd6,_0x5317af=_0x599a05,_0x5b7b5d=_0xc7d5f2;const _0x1fb61b=_0x1b6ad4*(0x2*0x54f+-0x1169+-0x6ce*-0x1);for(let _0x2108ed=0x2*0xd01+0x622+0x7*-0x497;_0x2108ed<_0x1fb61b;_0x2108ed+=-0x42*0x5a+-0x29*-0x5d+0x852){const _0x6f8930=_0x39f34e[_0x2108ed],_0xbd3118=_0x39f34e[_0x2108ed+(-0xa3+-0xe4d+0xef1)],_0x487aff=_0x39f34e[_0x2108ed+(0xcec+0x1889+-0x2573)];_0x6f8930<_0x152bd6&&(_0x152bd6=_0x6f8930),_0xbd3118<_0x599a05&&(_0x599a05=_0xbd3118),_0x487aff<_0xc7d5f2&&(_0xc7d5f2=_0x487aff),_0x6f8930>_0x1f099a&&(_0x1f099a=_0x6f8930),_0xbd3118>_0x5317af&&(_0x5317af=_0xbd3118),_0x487aff>_0x5b7b5d&&(_0x5b7b5d=_0x487aff);}_0x53a533['set'](_0x152bd6,_0x599a05,_0xc7d5f2),_0x58cb01['set'](_0x1f099a,_0x5317af,_0x5b7b5d);}}['compute'](_0x3501e7,_0x36c3e0){_e['computeMin'+'Max'](_0x3501e7,vn,bn,_0x36c3e0),this['setMinMax'](vn,bn);}['intersects'+'BoundingSp'+'here'](_0x35f7bd){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x35f7bd)<=_0x35f7bd['radius']*_0x35f7bd['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x5e6d54){const _0x9b406b=this['getMin'](),_0x55de62=this['getMax']();let _0x6c5949=-0x228c+0x8db*-0x1+-0x10f*-0x29;const _0x2a8875=['x','y','z'];for(let _0x5780d7=-0x19b5+-0x4*0x147+0x1ed1;_0x5780d7<0xd6d+-0x5*0x149+-0x6fd*0x1;++_0x5780d7){let _0x36548c=-0x161b+-0x1*0x1105+-0x1390*-0x2;const _0x22c16e=_0x5e6d54['center'][_0x2a8875[_0x5780d7]],_0x1d7eb2=_0x9b406b[_0x2a8875[_0x5780d7]],_0x23a508=_0x55de62[_0x2a8875[_0x5780d7]];let _0x2fdf82=-0x1*-0x521+-0xb2d+-0x60c*-0x1;_0x22c16e<_0x1d7eb2&&(_0x2fdf82=_0x1d7eb2-_0x22c16e,_0x36548c+=_0x2fdf82*_0x2fdf82),_0x22c16e>_0x23a508&&(_0x2fdf82=_0x22c16e-_0x23a508,_0x36548c+=_0x2fdf82*_0x2fdf82),_0x6c5949+=_0x36548c;}return _0x6c5949;}['_expand'](_0x1952b5,_0x38102e){vn['add2'](this['getMin'](),_0x1952b5),bn['add2'](this['getMax'](),_0x38102e),this['setMinMax'](vn,bn);}}const gl=new T(),bS=new T();class Lf{constructor(_0x36ebe7=new T(),_0x7d4dd4=0x1181*-0x1+-0xdcc+0x1f4d+0.5){c(this,'center'),c(this,'radius'),(v['assert'](!Object['isFrozen'](_0x36ebe7),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x36ebe7,this['radius']=_0x7d4dd4);}['containsPo'+'int'](_0x3f6c9c){const _0x540fbf=gl['sub2'](_0x3f6c9c,this['center'])['lengthSq'](),_0x59a3de=this['radius'];return _0x540fbf<_0x59a3de*_0x59a3de;}['intersects'+'Ray'](_0x5274ca,_0x461ccb){const _0x28b705=gl['copy'](_0x5274ca['origin'])['sub'](this['center']),_0x5789da=_0x28b705['dot'](bS['copy'](_0x5274ca['direction'])['normalize']()),_0x44b9ad=_0x28b705['dot'](_0x28b705)-this['radius']*this['radius'];if(_0x44b9ad>0x6fc+-0x1*0x1abb+-0x13bf*-0x1&&_0x5789da>0x1*0x19d2+0x1d*-0xcb+0xf1*-0x3)return!(0x78f+0x131*0x5+-0xd83);const _0x21c571=_0x5789da*_0x5789da-_0x44b9ad;if(_0x21c571<0x2287+0x1*0x1a51+0x512*-0xc)return!(0x135b+-0x21cb+0x1*0xe71);const _0x1b5c1e=Math['abs'](-_0x5789da-Math['sqrt'](_0x21c571));return _0x461ccb&&_0x461ccb['copy'](_0x5274ca['direction'])['mulScalar'](_0x1b5c1e)['add'](_0x5274ca['origin']),!(-0x21b8+-0x1*-0x1099+0x111f*0x1);}['intersects'+'BoundingSp'+'here'](_0x3d9822){gl['sub2'](_0x3d9822['center'],this['center']);const _0x27817c=_0x3d9822['radius']+this['radius'];return gl['lengthSq']()<=_0x27817c*_0x27817c;}}class hy{constructor(_0x3b2bc7=T['UP'],_0x24d7ca=0x1ef7*-0x1+0x880+0x1677){c(this,'normal',new T()),c(this,'distance'),(this['normal']['copy'](_0x3b2bc7),this['distance']=_0x24d7ca);}['clone'](){const _0x5e378a=this['constructo'+'r'];return new _0x5e378a()['copy'](this);}['copy'](_0x2ce95b){return this['normal']['copy'](_0x2ce95b['normal']),this['distance']=_0x2ce95b['distance'],this;}['intersects'+'Line'](_0x40d0e9,_0xfc2925,_0x1bd88e){const _0x5f1c19=this['distance'],_0x1c2934=this['normal']['dot'](_0x40d0e9)+_0x5f1c19,_0x45450e=this['normal']['dot'](_0xfc2925)+_0x5f1c19,_0x12d343=_0x1c2934/(_0x1c2934-_0x45450e),_0x48208c=_0x12d343>=0xbf1*-0x1+-0x1*-0x1c37+0x2*-0x823&&_0x12d343<=0x1eaf+0x14b5+-0x3363;return _0x48208c&&_0x1bd88e&&_0x1bd88e['lerp'](_0x40d0e9,_0xfc2925,_0x12d343),_0x48208c;}['intersects'+'Ray'](_0x3ac946,_0x4fa3e9){const _0x4ca70e=this['normal']['dot'](_0x3ac946['direction']);if(_0x4ca70e===-0xd*0x57+0x18f*0x14+-0x1ac1)return!(0x31*-0x71+-0x106*0x4+-0xb2*-0x25);const _0x2ab32a=-(this['normal']['dot'](_0x3ac946['origin'])+this['distance'])/_0x4ca70e;return _0x2ab32a>=-0x1*0x1903+0x164c+0x2b7&&_0x4fa3e9&&_0x4fa3e9['copy'](_0x3ac946['direction'])['mulScalar'](_0x2ab32a)['add'](_0x3ac946['origin']),_0x2ab32a>=-0x198*-0x17+0x1f25+0x43cd*-0x1;}['normalize'](){const _0x240146=(0xb0a+-0x414+-0x6f5)/this['normal']['length']();return this['normal']['mulScalar'](_0x240146),this['distance']*=_0x240146,this;}['set'](_0x221589,_0x47af27,_0x8cba0,_0x568845){return this['normal']['set'](_0x221589,_0x47af27,_0x8cba0),this['distance']=_0x568845,this;}['setFromPoi'+'ntNormal'](_0x406b1e,_0xec3316){return this['normal']['copy'](_0xec3316),this['distance']=-this['normal']['dot'](_0x406b1e),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x25d589=0x1*-0x609+0x20e*0x7+0x1*-0x859;_0x25d589<0xf0b*0x1+0x1*0x1989+0x1447*-0x2;_0x25d589++)this['planes'][_0x25d589]=new hy();}['clone'](){const _0x3a6cf3=this['constructo'+'r'];return new _0x3a6cf3()['copy'](this);}['copy'](_0x305618){for(let _0x26d704=-0x3*-0x2c1+0x3*0x11+-0x876;_0x26d704<-0x1*-0x1ab6+0x1e7*-0xc+-0x3dc;_0x26d704++)this['planes'][_0x26d704]['copy'](_0x305618['planes'][_0x26d704]);return this;}['setFromMat'+'4'](_0x106435){const [_0x496436,_0x29de78,_0x1d19ea,_0x52dab5,_0xfe03b5,_0x540ddd,_0x1d0d62,_0xa92c80,_0x4b0579,_0x4cc3f6,_0x4c3228,_0x407afc,_0x54d772,_0x4aec2b,_0x4b5c76,_0x45ac3f]=_0x106435['data'],_0x21c0cd=this['planes'];_0x21c0cd[-0xda*-0xd+0x492+0xfa4*-0x1]['set'](_0x52dab5-_0x496436,_0xa92c80-_0xfe03b5,_0x407afc-_0x4b0579,_0x45ac3f-_0x54d772)['normalize'](),_0x21c0cd[-0xfd1+-0x1*-0x1a35+0xa63*-0x1]['set'](_0x52dab5+_0x496436,_0xa92c80+_0xfe03b5,_0x407afc+_0x4b0579,_0x45ac3f+_0x54d772)['normalize'](),_0x21c0cd[-0x13bb+0x20e7+-0xd2a]['set'](_0x52dab5+_0x29de78,_0xa92c80+_0x540ddd,_0x407afc+_0x4cc3f6,_0x45ac3f+_0x4aec2b)['normalize'](),_0x21c0cd[0x9b*0x2+0xac7+-0xbfa]['set'](_0x52dab5-_0x29de78,_0xa92c80-_0x540ddd,_0x407afc-_0x4cc3f6,_0x45ac3f-_0x4aec2b)['normalize'](),_0x21c0cd[-0x2690+0x1*-0x107b+0x370f*0x1]['set'](_0x52dab5-_0x1d19ea,_0xa92c80-_0x1d0d62,_0x407afc-_0x4c3228,_0x45ac3f-_0x4b5c76)['normalize'](),_0x21c0cd[-0xc3+-0x27*-0x47+0xa09*-0x1]['set'](_0x52dab5+_0x1d19ea,_0xa92c80+_0x1d0d62,_0x407afc+_0x4c3228,_0x45ac3f+_0x4b5c76)['normalize']();}['containsPo'+'int'](_0x4ddaf8){for(let _0x2c3070=-0x6bc+0x1*0x1e8b+0x1*-0x17cf;_0x2c3070<0x1*-0x359+-0xc6c+0xfcb;_0x2c3070++){const {normal:_0xfd0c9f,distance:_0xfa3066}=this['planes'][_0x2c3070];if(_0xfd0c9f['dot'](_0x4ddaf8)+_0xfa3066<=0x11*0x136+0x5*-0x51b+0x4f1)return!(0x47*0x25+-0x24ce+0x1a8c);}return!(0x2376+-0x18ec+-0xa8a);}['containsSp'+'here'](_0x5f453d){const {center:_0x384261,radius:_0x332823}=_0x5f453d;let _0x503d7b=0x24d9+0x15e2+0xbbf*-0x5;for(let _0x47414d=0x1d64+-0x1b48+0xf*-0x24;_0x47414d<-0x1005+-0x1*-0x8a5+0x766;_0x47414d++){const {normal:_0x55276d,distance:_0x3232f2}=this['planes'][_0x47414d],_0x473ead=_0x55276d['dot'](_0x384261)+_0x3232f2;if(_0x473ead<=-_0x332823)return-0x929+0x1b8b+-0x1262;_0x473ead>_0x332823&&_0x503d7b++;}return _0x503d7b===0x2*0x3cf+-0x1*0x23d+-0x55b*0x1?0x14d2+-0x573+-0x3*0x51f:0x1849+0x1*-0x1de7+0x59f;}}class uu{constructor(_0x142f26,_0x54d0e8){c(this,'origin',new T()),c(this,'direction',T['FORWARD']['clone']()),(_0x142f26&&this['origin']['copy'](_0x142f26),_0x54d0e8&&this['direction']['copy'](_0x54d0e8));}['set'](_0x3fbcb5,_0x47447b){return this['origin']['copy'](_0x3fbcb5),this['direction']['copy'](_0x47447b),this;}['copy'](_0x46e5b0){return this['set'](_0x46e5b0['origin'],_0x46e5b0['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const cc='linear',Ff='inverse',cy='exponentia'+'l',tt=0xb*-0x33a+0x6*0x35e+0xf4a,ae=0x11*-0xd3+-0x2d1*0x2+0x13a6,Of=0x1df*-0x8+0x1ab*0xb+-0x1*0x35f,kf=-0xba3*0x1+0x1837+-0xc94,at=0xeb3+0x1382+0xb*-0x31c,TS=-0x2*-0x3f1+-0x1*0xfb3+0x7d3*0x1,dy=-0x2639+0x3a*-0x43+-0x356b*-0x1,AS=-0x106d+-0x5*-0x2de+-0x6c*-0x5,dc=0x1*-0xa9a+0x2567+0x55b*-0x5,uc=-0xf0e+0x1cd3+0x1*-0xdbd,Lt=0x1584+-0x2*-0xf65+0x41*-0xce,ES=-0x236a+-0x9d3+0x2d3f,CS=-0x7*0x37f+0x353*-0x1+-0x7*-0x3f9,MS=-0x11*0x36+-0x143*0x2+-0x70*-0xe,jt=0xde9+0x10b7*-0x1+0x2ce,Th=0xb*-0x1bb+-0x1e32+0x313c,uy=0xf09+0x1*0x479+-0x1380,PS=0x216+0x650+-0x863,Co=0x459+-0x1587+0x112f,Mo=0xb7b+0xc9f+-0x1*0x1818,Ah=0xe71+-0xbe4+0x289*-0x1,mt=0x3*-0x9a5+0x14cb*-0x1+0x31ba,rn=-0x7*0x6f+0x12d7+-0xfcd,mo=0xc1b+-0x11db*0x1+0x5c2,RS=-0x87*-0xd+-0x1558+0x1d*0x80,de=0x217a+-0x1ed0+-0x2aa,st=0x2*0xa15+-0x1adc+0x6b3,fc=0x2417+-0x1366+0x1*-0x10af,pc=-0x1*0x96b+-0x1*0xd13+0x1*0x1681,mc=0x1*0xb99+0x3*0xcfb+0x1*-0x3286,nn=0x20f8+0x1*-0xd3+-0x2020,IS=-0x47c*-0x1+-0x8df+0x463,Eh=-0x2a5+0x7e5*0x4+-0x1cee,Ch=0x7ce+0xdf+-0x7*0x13d,fu=0xfd6+-0x2151+0x117e,DS=0x3a*0x6f+0x6*0x5a7+0x4*-0xec3,LS=0x108e+0xf7f+-0x29*0xc8,FS=-0x101*0x13+-0x38d+-0xd*-0x1be,Ai=-0x829*-0x1+-0x22f0+0x2*0xd67,pu=0x457+-0x89d+0x446,Pi=0xba6*-0x2+-0x161f*0x1+0x2d6c,nr=0x1a3f+0x17a+0x21*-0xd7,fy=-0xd*0x211+0x2*0xe75+-0x20d*0x1,py=0x6*-0x2ab+-0x1780+-0x253*-0x11,Bf=-0xe*0x7e+-0x1b*-0x7+-0x53*-0x13,_c=0xaad*0x2+-0xa58*0x3+0x9b1,Nf=0x8ac+-0x1f94+0x9*0x28c,gc=-0x343+-0x165a+-0x22*-0xc1,dr=-0x80b*-0x2+-0x568+-0x7c*0x16,Se=0x133a*-0x2+0x15c4+0x10b7,yc=-0xac9*0x3+-0x43*0x5+0x21b2,zf=0x2333+0x8*-0x161+-0xc11*0x2,Wo=0xf*-0x219+-0x20ca+0x404b*0x1,xc=-0x30a+-0x2476+0x278b,Je=0x1*0x25a5+0x2549+-0x4ae2,Sc=0x5*-0x233+0x1*-0x14d1+-0x1*-0x1fdd,Ke=0xad*-0x6+0x5*-0x613+0x227b,Ii=0x26da*0x1+0x1a5*-0x13+-0x114*0x7,Ci=-0x266f+-0x23d5+0x4a54,vc=-0x3*-0x114+0x174e*-0x1+0x1423,_a=0x57*0x67+-0x8bf*0x1+-0x1a30,Uf=-0x1058*0x1+-0xa2d+0x1a98,rs=-0x914+-0x1*-0x187a+-0xf52,bc=-0x16de+0x8*0x269+-0x3*-0x139,Vf=0x1b35+0x18d5+-0xaf*0x4c,Gf=0x1f0d+0x1a29*0x1+0x829*-0x7,qo=0xa35+-0xa*0x3b9+0x277*0xb,Xo=-0xd0e+-0x1*-0x244c+-0x1*0x1725,wc=0x2bf*-0x1+0x22c4+-0x1feb,Tc=-0x168a+0x27b*0x7+-0x1*-0x548,my=-0x983*0x3+0x2a8*-0x5+0x29ed,_y=-0x2*-0xa12+-0x23c9*0x1+-0x7e1*-0x2,gy=-0xaca+0xd71*0x2+-0xffa,yy=0x988+-0x19d8+0x106f,Hf=-0x16c4+0x96d+-0xd77*-0x1,xy=-0xc3+0x23dc+-0x22f8,$f=0x1*0x1d08+0x443+-0x2129,Wf=0x17e0+0xe*-0x209+-0x1*-0x4c1,qf=-0x5d5*-0x3+0x2387+-0xe*0x3c7,an=-0x4*0x139+0x60*-0x34+0x1889,Xf=0xd21*0x2+0x19d4+-0x33f0,Sy=0xc1a+-0x1923+0xd30,jf=-0x5b0+-0x22c4+0x71*0x5c,Yf=0x1*-0x9c2+-0x1b6*-0xd+-0xc53,Kf=0x2c*-0x44+-0x1c77+0x2851,Zf=0xde*-0x7+0x877*0x1+-0x2*0x11d,Qf=0x3d*-0x9b+-0xa*-0x3b5+-0x9*-0x1,vy=0xa46*0x2+-0x1*0x201a+0xbbb,Jf=0x2b+0x6c5*0x3+-0x144c,Ac=-0x151b+0x15eb*-0x1+0x2b35,ep=0x1*0x2205+0x8d4+-0x1*0x2aa9,ut=0x1a02+0x1918*-0x1+-0x1*0xb9,Ec=0x137*0x2+0x2526+-0x2762,tp=-0x25b2+-0x56+0x263b,sp=0x2684+0x12aa+0x52e*-0xb,ip=0x2*-0x5e3+0x1*-0x1407+0x22*0xf1,mu=-0x246a+0x4*0x9ac+-0x58*0x6,_u=0x2623+0x1*-0xe78+-0x4f*0x4c,gu=-0xeb6+-0x6d*0x3a+-0x20*-0x13d,yu=0x24f3*0x1+-0x40e+-0x14*0x1a2,xu=0x1*-0x2495+0x2*0x2d2+0x1f2f,Su=-0x2*0x110c+0x4*-0xdf+0x25d3,by=0x1f1c+0x2290+0x13c*-0x35,wy=-0x6a*0x25+-0xd01+0x1c94,Ty=0x246b+0xf5a*0x1+0x1*-0x3383,Ay=0x1*0x22c+0x7a8+-0x991,vu=-0xcb*0xf+-0x268f+0x32b8,la=0x2260+-0xec*0x1+-0x212f,xt=new Map([[fy,{'name':'A8','size':0x1,'ldr':!(0x2513+0xe9*0x1+-0x25fc)}],[sp,{'name':'R8','size':0x1,'ldr':!(0x854+-0x1*0xef+0x765*-0x1)}],[py,{'name':'L8','size':0x1,'ldr':!(-0x4*0x36f+0x1*-0x26d3+-0xf*-0x381)}],[Bf,{'name':'LA8','size':0x2,'ldr':!(0x2247+0x547+-0x53*0x7a)}],[ip,{'name':'RG8','size':0x2,'ldr':!(-0x23d7+0x894+-0x3e5*-0x7)}],[_c,{'name':'RGB565','size':0x2,'ldr':!(-0x599*-0x1+0x53f*-0x7+-0xa60*-0x3)}],[Nf,{'name':'RGBA5551','size':0x2,'ldr':!(0x41b+-0x51*0x21+0x656)}],[gc,{'name':'RGBA4','size':0x2,'ldr':!(-0x13ca+0x8b0*0x3+-0x323*0x2)}],[dr,{'name':'RGB8','size':0x4,'ldr':!(0x2*-0x1172+-0x11b*-0x1d+0x2d5)}],[Se,{'name':'RGBA8','size':0x4,'ldr':!(-0x4*-0x92f+0x1df*0x4+-0x2c38),'srgbFormat':rs}],[Ec,{'name':'R16F','size':0x2}],[tp,{'name':'RG16F','size':0x4}],[xc,{'name':'RGB16F','size':0x8}],[Je,{'name':'RGBA16F','size':0x8}],[Sc,{'name':'RGB32F','size':0x10}],[Ke,{'name':'RGBA32F','size':0x10}],[Ii,{'name':'R32F','size':0x4}],[Ci,{'name':'DEPTH','size':0x4}],[la,{'name':'DEPTH16','size':0x2}],[vc,{'name':'DEPTHSTENC'+'IL','size':0x4}],[_a,{'name':'111110F','size':0x4}],[Uf,{'name':'SRGB8','size':0x4,'ldr':!(-0x26b3+-0x140f+0x3ac2),'srgb':!(-0x22f9+0x35*-0x18+-0x27f1*-0x1)}],[rs,{'name':'SRGBA8','size':0x4,'ldr':!(0x1*-0xfa4+0x19bb+-0xa17),'srgb':!(-0x6*-0x78+0x108*-0x4+0x150)}],[yy,{'name':'BGRA8','size':0x4,'ldr':!(0x22f4+0x9a7+0x259*-0x13)}],[by,{'name':'SBGRA8','size':0x4,'ldr':!(-0x84d+0x1ede+0x1*-0x1691),'srgb':!(0x7bb*-0x2+0x1b19+-0x1*0xba3)}],[yc,{'name':'DXT1','blockSize':0x8,'ldr':!(0x1*0x479+0x254e+-0x29c7),'srgbFormat':mu}],[zf,{'name':'DXT3','blockSize':0x10,'ldr':!(0x1067+0x1*-0x151+0xf16*-0x1),'srgbFormat':_u}],[Wo,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x7fa*-0x3+0x142e+0x75a*-0x6),'srgbFormat':gu}],[bc,{'name':'ETC1','blockSize':0x8,'ldr':!(0xef2+-0x1939+0xa47)}],[Vf,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0x54f+-0x9a5+-0x456*-0x1),'srgbFormat':yu}],[Gf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x1*0x1035+0xdd9*0x1+0x1*-0x1e0e),'srgbFormat':xu}],[qo,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x824+0x2*0x8f0+-0x1a04),'blockSize':0x8}],[Xo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(-0x249+0xe1+0x168),'blockSize':0x8}],[wc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(-0x1*0x626+-0x2*0x7a9+-0xc*-0x1ca),'blockSize':0x8}],[Tc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0x9c*0x22+-0xb82+0x203a),'blockSize':0x8}],[my,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x5*-0x572+0x3c*0x6a+-0x3412),'srgbFormat':Su}],[_y,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x1*-0x223+0x20c1*0x1+-0x22e4)}],[gy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x30a*-0x7+-0x65a+0x1ba0)}],[wy,{'name':'BC6H_RGBF','blockSize':0x10}],[Ty,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ay,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0x7d7+-0x10f7+0x920),'srgbFormat':vu}],[mu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x2135*0x1+0x5*0x31+0x2040),'srgb':!(0x16a*0x7+-0x2586*0x1+0x68*0x44)}],[_u,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(0x1*0xd42+-0x2*0x1051+-0x28*-0x7c),'srgb':!(-0x648+0x32a+-0x3*-0x10a)}],[gu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0xb91*0x3+-0xd6a+-0x1549),'srgb':!(-0x1b1a+0x1*0xc6b+0xeaf)}],[yu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x1d74+-0x1d*0xef+-0x261),'srgb':!(-0x1d3b+0xd6b+0xfd0)}],[xu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x3*-0x280+0x6*-0x435+0x20be),'srgb':!(-0x2679+0x127*0x18+0x1*0xad1)}],[Su,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x661*-0x4+-0x7d*-0x3b+-0x119*0x3),'srgb':!(0x2*-0x110a+-0x24ad+0x1*0x46c1)}],[vu,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(-0x1611+-0x5d8+-0x1be9*-0x1),'srgb':!(-0x13d1+0x2ed*0x9+-0xc*0x8b)}],[Hf,{'name':'R8I','size':0x1,'isInt':!(-0xa84*0x2+-0x184+0xde*0x1a)}],[xy,{'name':'R8U','size':0x1,'isInt':!(-0x967+-0x161d+-0x7e1*-0x4)}],[$f,{'name':'R16I','size':0x2,'isInt':!(-0x1*0x20f2+-0x4ae*-0x4+0xe3a)}],[Wf,{'name':'R16U','size':0x2,'isInt':!(-0x76*-0x3d+-0x7*0x11c+0x1*-0x145a)}],[qf,{'name':'R32I','size':0x4,'isInt':!(0x1476+-0x24f4+0x107e)}],[an,{'name':'R32U','size':0x4,'isInt':!(-0x25cf+-0x265f+0x2*0x2617)}],[Xf,{'name':'RG8I','size':0x2,'isInt':!(-0x9*-0x236+-0x2093+-0x5*-0x289)}],[Sy,{'name':'RG8U','size':0x2,'isInt':!(0x2*0x101b+0xa*0x1b1+-0x3120)}],[jf,{'name':'RG16I','size':0x4,'isInt':!(-0x1*0x829+0x3*0x9d+-0x329*-0x2)}],[Yf,{'name':'RG16U','size':0x4,'isInt':!(-0xdc2+-0x7*-0x305+-0x761)}],[Kf,{'name':'RG32I','size':0x8,'isInt':!(-0x15c1+-0x7*-0x170+0xbb1)}],[Zf,{'name':'RG32U','size':0x8,'isInt':!(-0x8f3*0x3+0x27*-0xe3+0x3d6e)}],[Qf,{'name':'RGBA8I','size':0x4,'isInt':!(0x22*-0x25+-0x17c1*0x1+0x1cab)}],[vy,{'name':'RGBA8U','size':0x4,'isInt':!(-0x355*-0x7+0x1f4f+0x4a*-0xbd)}],[Jf,{'name':'RGBA16I','size':0x8,'isInt':!(-0x2b7*0xb+-0x1ede+0x7*0x8ad)}],[Ac,{'name':'RGBA16U','size':0x8,'isInt':!(0x23a4+0x52*-0x6+-0x34*0xa6)}],[ep,{'name':'RGBA32I','size':0x10,'isInt':!(0xa*0x238+0x7be*0x2+-0x25ac)}],[ut,{'name':'RGBA32U','size':0x10,'isInt':!(-0xb01+0x2377+-0x1876)}]]),OS=_0x504993=>{var _0x47a7a0;return((_0x47a7a0=xt['get'](_0x504993))==null?void(-0x1e1a+-0x1*-0x1481+0x999):_0x47a7a0['blockSize'])!==void(-0x3b*-0x6+0x1*-0x61f+0x4bd);},Mh=_0x3eb5db=>{var _0x39bb2a;return((_0x39bb2a=xt['get'](_0x3eb5db))==null?void(-0x2*-0xc5f+-0xdc0+-0xafe):_0x39bb2a['srgb'])===!(0x24ea+0x1c05+-0x40ef);},ea=_0x325996=>{var _0x4d7d7f;return((_0x4d7d7f=xt['get'](_0x325996))==null?void(0xa6*-0x22+0x22ec+0x1*-0xce0):_0x4d7d7f['isInt'])===!(0x170a+0xab2*0x1+-0x21bc);},Cc=_0x550525=>{var _0x28d7c0;return((_0x28d7c0=xt['get'](_0x550525))==null?void(0x7*0x328+-0xf47+-0x6d1):_0x28d7c0['srgbFormat'])||_0x550525;},kS=_0x33c124=>{for(const [_0x3c84e9,_0x95cdd7]of xt)if(_0x95cdd7['srgbFormat']===_0x33c124)return _0x3c84e9;return _0x33c124;},Ey=_0x47d90a=>{const _0x87bb65=xt['get'](_0x47d90a);return!!(_0x87bb65!=null&&_0x87bb65['ldr']&&!(_0x87bb65!=null&&_0x87bb65['srgb']));},Cy=_0x5971c6=>{switch(_0x5971c6){case Ii:case Sc:case Ke:return Float32Array;case qf:case Kf:case ep:return Int32Array;case an:case Zf:case ut:return Uint32Array;case $f:case jf:case Jf:return Int16Array;case ip:case Wf:case Yf:case Ac:case _c:case Nf:case gc:case Ec:case tp:case xc:case Je:return Uint16Array;case Hf:case Xf:case Qf:return Int8Array;default:return Uint8Array;}},Mc=-0x2514+-0x2*-0xef2+-0x8*-0xe6,Pc=0x773+0x1*-0x59e+-0x75*0x4,My=0x49*-0x31+0x15*-0x1aa+0x30ed,Py=0x11*-0x1+0x104a+-0x1036,Ms=0xa9b+-0x1c78+0x11e1,ar=-0xdd3*0x1+0x1*-0x1463+0x223b,Yr=-0x1*0x175d+-0x1*0x14d2+0x1*0x2c35,He='POSITION',Yt='NORMAL',Zs='TANGENT',Ys='BLENDWEIGH'+'T',qt='BLENDINDIC'+'ES',At='COLOR',om='TEXCOORD',ns='TEXCOORD0',_n='TEXCOORD1',jo='TEXCOORD2',Yo='TEXCOORD3',Ko='TEXCOORD4',Zo='TEXCOORD5',Qo='TEXCOORD6',Jo='TEXCOORD7',bu='ATTR0',wu='ATTR1',Ry='ATTR2',Iy='ATTR3',Dy='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Po='ATTR8',Ro='ATTR9',US='ATTR10',VS='ATTR11',rp='ATTR12',ga='ATTR13',np='ATTR14',ya='ATTR15',Ly=0x1*-0x11b7+-0x10ce+0x9*0x3d6,ha=0x16fe+-0x1626+-0xd8,GS=0x1cd7+-0xf30*-0x1+0xbf*-0x3b,HS=0x16bf+-0x20a2+-0x2*-0x4f3,$S=0xd7e+0x1f*0x10d+0x1a5*-0x1c,yl=-0x558+0x1*-0x24f5+-0x27d*-0x11,Fy=0x1b6d+-0x1c1d+-0x3b*-0x3,rd=0x1241+0x8*-0x277+-0x1d*-0xd,Di='default',on='rgbm',ap='rgbe',Io='rgbp',op='swizzleGGG'+'R',Tu=-0xac8+0xef9*-0x2+-0x28bb*-0x1,ur=-0x12d+-0x1f1a+0x11d*0x1d,Oy=0x126f+0x869*-0x2+0x19a*-0x1,Us='2d',WS='2d-array',qS='cube',XS='3d',oh=-0x74b*-0x3+-0x21c2+0xbe1,nd=-0xa6e+-0x5*-0x7bf+-0x1c4c,jS=-0x16b5+0x1*0x16db+0x3*-0xc,YS=0x83*0x28+-0x7*-0x22+-0x1563,KS=-0xf5*-0x11+0x2379+-0x33ba,ZS='none',Au='cube',lm='equirect',QS='octahedral',ky='glsl',Ph='wgsl',Rc=0x22f8+-0x1*0x67f+-0x1c79,Kr=0x1aab+0x78a+-0x2234,Ic=0x1*0xc77+-0x7*0x92+-0x877,el=0x8*-0x228+-0x6*0x1a9+0x65*0x45,By=0xa09+-0x230a+0x1905,Do=-0x1*-0xeb9+0x124d*0x1+-0x2101,Ee=-0x23d2+-0x9cb+0x2da3,ca=0x4*-0x1a+-0x2*0x1c7+-0xa9*-0x6,ln=-0x24e6*-0x1+-0x1*0xaf1+-0xcfa*0x2,Ws=-0x16fd+-0x214*0xa+-0x2bc7*-0x1,or=-0x143b+0x1a10+-0x5d2,Wt=0x2668+0x1515*0x1+-0x3b79,xa=-0x1*-0x242d+0xb77*0x1+0x1*-0x2f9f,Zr=0xb1*-0x1a+0x28d*-0x9+-0x5*-0x831,Qr=0x1d05+0xb5d+-0x285b,Jr=0xf2f+0x21a0+-0x30c7,Lo=0x17d1+0x23*-0x73+-0x80f,Fo=0x1f2c+-0x1025*0x2+0x128,Oo=-0x1dae+-0x258a+-0x4343*-0x1,Rh=0xaa1+-0x1352+0x8bd,ko=-0xf99+0x1*0x227+0x1*0xd7f,Sa=-0x989*-0x1+0x1daa+-0xb*0x38f,JS=0x31b*-0x1+0x1c44*-0x1+-0x9*-0x37e,ev=-0x6*0x5f1+0x1*-0x1baa+-0x6*-0xa90,Dc=-0x6*-0x4d1+-0x2327+-0x329*-0x2,tv=0x55a*-0x7+-0x3de+0x1*0x2966,sv=-0xe65+0x1c7c+0x4ac*-0x3,iv=0x1*0x1aed+0xe34+-0x290d,Lc=-0x2*0xe89+0x1e6e+0x1*-0x147,Fc=-0x1782+-0xdc9+0x557*0x7,lp=-0x1166+-0x2580+0x7*0x7db,Ny=0x1515+-0x269e+-0x11a1*-0x1,rv=-0x23*0x12+0x661*-0x1+0x8f0,va=-0x25e2*-0x1+-0x1*-0x94f+-0x2f17,ba=-0x114a*0x1+-0xce7+-0x1*-0x1e4c,wa=-0x1*-0xfd6+0x123*0x5+-0x105*0x15,Ta=0xe3*0x1b+0x1ca1+-0x3475,Aa=-0xa55*0x3+0x13eb+0xb32,Oc=0x1*-0x23+-0x1b27+-0x1*-0x1b69,kc=-0x575+0x1*-0x24bf+0x3f*0xac,Ea=-0x2339+0xc77*0x1+0x16e3,Bc=-0x1e35+0x1*-0xb55+0x29ac,Nc=0x15e6+0x1*-0x1d9a+-0x9*-0xdf,Ca=0x152*-0x1+-0x1829+-0x7*-0x3a9,zc=0x1ea6+0x13*0x116+-0x3323,Uc=-0x1*-0x45b+0x87d+0x1*-0xcb2,Ih=-0x1*-0x1223+-0x17*-0x117+-0x2b0d,hp=-0x969+0xf44+-0x5b3,cp=0x3*0x1bf+0x156*0xf+-0x283*0xa,nv=-0x1*-0x14e9+0x21f6+-0x36b5,av=-0xb93*-0x3+-0x2*0xb9c+-0xb56,ov=0x4d7*0x2+0x12eb+-0x1*0x1c6d,lv=0x3*-0xbf+-0x22d8+-0x12a1*-0x2,hv=0x4d6*-0x8+-0x21c1+-0x3*-0x1835,cv=-0x67*-0x31+0xd3*-0x3+-0x110f*0x1,dv=0x347*0x5+0x21ec+-0x321f,uv=-0x1*0xccb+-0x619+0x1315,dp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0x93aae9,_0x4c7655)=>{_0x93aae9['forEach'](_0x55d9ce=>pv['set'](_0x55d9ce,_0x4c7655));});const mv='webgl2',up=-0x1ec1+0x1698+-0x415*-0x2,li=-0x1*-0x85f+0x1af8*-0x1+0x129b,_v=-0x192c+0x10*0x29+0x16a0,gv='ldr',zy=0xa4d+0xd7f+-0x17cb,Uy=0xceb*-0x1+-0xbb*-0x1+-0xc32*-0x1,Vy=0x9f3+-0x1*-0xb7b+-0x156a,Gy=-0x1e6a+0x7c+0x5fe*0x5,Hy=0x253*0xf+0x555+-0x2822*0x1,$y=0x36*-0x59+-0x595*0x5+0x2ecf,Wy=-0x21*0x92+0x481*0x7+0x427*-0x3,qy=0x3*0x3d5+-0x11b3+0x6b4,yv=-0x6*0x51a+-0x6*-0x5e5+-0x3c3,Dh=0x1afb*-0x1+-0x15*0x17+0x5c6*0x5,Xy=-0x246b+-0x40d*0x6+0x3cba,Eu=-0x1*-0x105d+-0x2416+0x13bb,xv=['view','mesh','mesh_ub'],fp='default',da=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],_o=[-0xa*0xe5+0x1086+-0x793,0x9*-0x1c4+0x258f+-0x15aa,-0x2*0x67d+-0x215+0x1d*0x85,0x1688+0x1063*0x1+-0x26e9,-0xada+0x1204+-0x726,-0x1b5f+0x1cd4+-0x1*0x171,0x1*0x40+-0x1fb*0xd+0x137*0x15,0x697+-0xe44+0x7af*0x1],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Lh=[Uint8Array,Uint16Array,Uint32Array],vv=[0x3*-0x5+-0x6f*-0x51+-0x230f,-0x1*-0x1abd+-0xec7+-0xbf4,0x13fd+0x1*-0x13d9+-0x10*0x2],ve={};ve[He]=-0x186f+0x8*-0x2d8+0x1*0x2f2f,ve[Yt]=-0x14e1+0xe97*0x2+-0x84c,ve[Ys]=-0x43*-0x10+0x1d8c+-0x21ba,ve[qt]=0x1*0x140f+-0x540+0xecc*-0x1,ve[At]=-0x7*-0x2fe+0x1*0x1815+-0x2d03,ve[ns]=0x25cf+0x23b*-0x9+0x1*-0x11b7,ve[_n]=-0x119*0x7+-0x1b3c+0x6fd*0x5,ve[jo]=0x691+0x20ca+-0x2754,ve[Yo]=-0x1118+-0x1cd8+0x2df8,ve[Ko]=0xe6b+-0xc7a+-0x1e8,ve[Zo]=-0x20fb+0x1*0x48f+0x1*0x1c76,ve[Qo]=0x1*-0x1268+0x14f*0xe+0x21,ve[Jo]=-0x35*-0x89+-0x91*0x8+-0x17c9*0x1,ve[Zs]=0x1014+0xb1d+-0x1b24,ve[bu]=-0x14*0x1eb+0x1*0x693+0x1fc9,ve[wu]=-0xc30*0x1+-0x83a+0x146b,ve[Ry]=-0x1f*0x11b+-0x783+-0x6f7*-0x6,ve[Iy]=-0x1b31+-0x1746+0xd*0x3e2,ve[Dy]=-0x68b*0x4+0x1f13+-0x4e3,ve[BS]=-0x377+-0x1*-0x2605+-0x2289,ve[NS]=0x1e*0x83+0x1*0x256a+0x34be*-0x1,ve[zS]=-0x1a46+0x1*-0x249d+0x2*0x1f75,ve[Po]=-0x1ecb+0x2*-0x6b0+0x16d*0x1f,ve[Ro]=0x552+0x1*-0x222d+0x1ce4,ve[US]=0x1*0x5ab+-0x1127+0xb86,ve[VS]=0x2*0x2c7+0x1f48+0x24cb*-0x1,ve[rp]=-0x2a5*-0xa+-0x57*0x10+-0x14f6,ve[ga]=0x6b9+0xc08+0x7*-0x2ac,ve[np]=-0x1e55+-0xb1*-0x16+0xf2d,ve[ya]=0x1*-0x8cb+-0x16a4+-0x1d*-0x116;const Ui='1.51',wi='1.55',_r='1.56',St='1.57',ad='1.60',me='1.62',hi='1.65',hm='1.70',cm='2.1',bv='2.3',wn='2.5',Ki=class Ki{static['clearGpuMa'+'rkers'](){Ki['markers']['length']=0x1043+0x49*0xf+0xb*-0x1de;}static['pushGpuMar'+'ker'](_0x54e760,_0x1770d7){Ki['markers']['push'](_0x1770d7),_0x54e760['pushMarker'](_0x1770d7);}static['popGpuMark'+'er'](_0xacada){Ki['markers']['length']&&Ki['markers']['pop'](),_0xacada['popMarker']();}static['toString'](){return Ki['markers']['join']('\x20|\x20');}};c(Ki,'markers',[]);let G=Ki,wv=0x77+-0x2355+-0x22de*-0x1;const Tv={[Us]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[WS]:'texture2DA'+'rray'};class Vc{constructor(_0x526158,_0x41299e){c(this,'slot',-(0x142d+0x23a2+0x1*-0x37ce)),c(this,'scopeId',null),(this['name']=_0x526158,this['visibility']=_0x41299e);}}class pp extends Vc{}class Av extends Vc{constructor(_0x17706d,_0x521ccf,_0xa6ed30=!(0x236c+-0x8a+-0x1*0x22e1)){super(_0x17706d,_0x521ccf),c(this,'format',''),(this['readOnly']=_0xa6ed30,v['assert'](_0xa6ed30||!(_0x521ccf&up),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class fi extends Vc{constructor(_0x427ed0,_0x522bca,_0x144262=Us,_0xcba332=oh,_0xccb5f9=!(0x15a6+-0x2b*-0x70+-0x2876),_0x2d260e=null){super(_0x427ed0,_0x522bca),this['textureDim'+'ension']=_0x144262,this['sampleType']=_0xcba332,this['hasSampler']=_0xccb5f9,this['samplerNam'+'e']=_0x2d260e??_0x427ed0+'_sampler';}}class Ev extends Vc{constructor(_0x4ff6ec,_0x5a815c=Se,_0x2d8827=Us,_0x5350ca=!(-0x1*-0x23b1+-0x5f5+-0x1dbc),_0x1774ec=!(-0x1a2b+0x1*-0x1211+0x2c3d)){super(_0x4ff6ec,_v),this['format']=_0x5a815c,this['textureDim'+'ension']=_0x2d8827,this['write']=_0x5350ca,this['read']=_0x1774ec;}}class jy{constructor(_0x5c4710,_0x3b0140){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,mn['setName'](this,'BindGroupF'+'ormat_'+this['id']),v['assert'](_0x3b0140));let _0x228758=-0x202*-0x2+0xa3f*0x1+-0xe43;_0x3b0140['forEach'](_0x46f0c2=>{_0x46f0c2['slot']=_0x228758++,_0x46f0c2 instanceof fi&&_0x46f0c2['hasSampler']&&_0x228758++,_0x46f0c2 instanceof pp?this['uniformBuf'+'ferFormats']['push'](_0x46f0c2):_0x46f0c2 instanceof fi?this['textureFor'+'mats']['push'](_0x46f0c2):_0x46f0c2 instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x46f0c2):_0x46f0c2 instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x46f0c2):v['assert']('Invalid\x20bi'+'nd\x20format',_0x46f0c2);}),this['device']=_0x5c4710;const _0x2ba8f4=_0x5c4710['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x535843,_0x157d49)=>this['bufferForm'+'atsMap']['set'](_0x535843['name'],_0x157d49)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x598176,_0x307543)=>{this['textureFor'+'matsMap']['set'](_0x598176['name'],_0x307543),_0x598176['scopeId']=_0x2ba8f4['resolve'](_0x598176['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x4949d2,_0x57ec00)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x4949d2['name'],_0x57ec00),_0x4949d2['scopeId']=_0x2ba8f4['resolve'](_0x4949d2['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x459f5e,_0x1b399c)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x459f5e['name'],_0x1b399c),_0x459f5e['scopeId']=_0x2ba8f4['resolve'](_0x459f5e['name']);}),this['impl']=_0x5c4710['createBind'+'GroupForma'+'tImpl'](this),v['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x48d690){const _0x496e6d=this['textureFor'+'matsMap']['get'](_0x48d690);return _0x496e6d!==void(0x693+-0x31a+-0x7*0x7f)?this['textureFor'+'mats'][_0x496e6d]:null;}['getStorage'+'Texture'](_0x55b704){const _0x3fdb27=this['storageTex'+'tureFormat'+'sMap']['get'](_0x55b704);return _0x3fdb27!==void(0x13fb+0x153+-0x154e*0x1)?this['storageTex'+'tureFormat'+'s'][_0x3fdb27]:null;}['getShaderD'+'eclaration'+'Textures'](_0x59afea){let _0x518eef='';return this['textureFor'+'mats']['forEach'](_0x224ca1=>{let _0x5b41cd=Tv[_0x224ca1['textureDim'+'ension']];v['assert'](_0x5b41cd,'Unsupporte'+'d\x20texture\x20'+'type',_0x224ca1['textureDim'+'ension']);const _0x8bcf60=_0x5b41cd==='texture2DA'+'rray',_0x55f78e=_0x224ca1['sampleType']===KS?'u':_0x224ca1['sampleType']===YS?'i':'';_0x5b41cd=''+_0x55f78e+_0x5b41cd;let _0x3bf6d5='',_0x2bb676='';_0x8bcf60&&(_0x3bf6d5='_texture',_0x2bb676='#define\x20'+_0x224ca1['name']+'\x20'+_0x55f78e+('sampler2DA'+'rray(')+_0x224ca1['name']+_0x3bf6d5+',\x20'+_0x224ca1['name']+'_sampler)\x0a'),_0x518eef+='layout(set'+'\x20=\x20'+_0x59afea+(',\x20binding\x20'+'=\x20')+_0x224ca1['slot']+')\x20uniform\x20'+_0x5b41cd+'\x20'+_0x224ca1['name']+_0x3bf6d5+';\x0a',_0x224ca1['hasSampler']&&(_0x518eef+='layout(set'+'\x20=\x20'+_0x59afea+(',\x20binding\x20'+'=\x20')+(_0x224ca1['slot']+(0x91*0x8+0xc86+-0x110d))+(')\x20uniform\x20'+'sampler\x20')+_0x224ca1['name']+'_sampler;\x0a'),_0x518eef+=_0x2bb676;}),_0x518eef;}['loseContex'+'t'](){}}class Ot{constructor(){c(this,'_cache',new Map());}['get'](_0x2bfafb,_0x2701b5){return this['_cache']['has'](_0x2bfafb)||(this['_cache']['set'](_0x2bfafb,_0x2701b5()),_0x2bfafb['on']('destroy',()=>{this['remove'](_0x2bfafb);}),_0x2bfafb['on']('devicelost',()=>{var _0x5b7e95,_0x41dc3a;(_0x41dc3a=(_0x5b7e95=this['_cache']['get'](_0x2bfafb))==null?void(0x11*0x1bb+-0x6e*-0x3e+0x7f*-0x71):_0x5b7e95['loseContex'+'t'])==null||_0x41dc3a['call'](_0x5b7e95,_0x2bfafb);})),this['_cache']['get'](_0x2bfafb);}['remove'](_0x47574f){var _0x2d7333,_0x359890;(_0x359890=(_0x2d7333=this['_cache']['get'](_0x47574f))==null?void(0x1b46*-0x1+-0xd3c+0x2882):_0x2d7333['destroy'])==null||_0x359890['call'](_0x2d7333,_0x47574f),this['_cache']['delete'](_0x47574f);}}class Mi{static['calcLevelD'+'imension'](_0x51651b,_0x2fb370){return Math['max'](_0x51651b>>_0x2fb370,-0x1d0*-0x1+-0x15*0x199+0x11*0x1de);}static['calcMipLev'+'elsCount'](_0x4959d6,_0x48bccb,_0x148fe0=-0x1*0xd2b+0x260d+0x3*-0x84b){return 0x17cd+-0x169*0x8+-0xc84+Math['floor'](Math['log2'](Math['max'](_0x4959d6,_0x48bccb,_0x148fe0)));}static['calcLevelG'+'puSize'](_0x515700,_0x210ee2,_0x5b6cd7,_0x25ed4a){var _0x300578;const _0x249cfc=xt['get'](_0x25ed4a);v['assert'](_0x249cfc!==void(-0x4f*-0x31+0x1a44+-0x2963),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x25ed4a);const _0xf0d30e=((_0x300578=xt['get'](_0x25ed4a))==null?void(-0xfe1+-0x2*0x12a3+0x3527):_0x300578['size'])??-0x1e0f+0x1879+-0xa*-0x8f;if(_0xf0d30e>-0x233f+0x173*0x17+-0x31*-0xa)return _0x515700*_0x210ee2*_0x5b6cd7*_0xf0d30e;const _0x4bbd68=_0x249cfc['blockSize']??0x1b91*0x1+-0x60f+-0x1582;let _0x513847=Math['floor']((_0x515700+(0x1029+0x942+-0x1968))/(0x1*-0x5c9+0x44*0x9+0x369));const _0x14bd2b=Math['floor']((_0x210ee2+(-0x17e6+0x123*-0xd+0x26b*0x10))/(-0x22e8+0xb3b+-0x4bd*-0x5)),_0x457159=Math['floor']((_0x5b6cd7+(-0x9da+-0x3*-0x771+-0x122*0xb))/(-0x151*-0x17+-0x1f90+0x14d));return(_0x25ed4a===qo||_0x25ed4a===Xo)&&(_0x513847=Math['max'](Math['floor'](_0x513847/(-0x29*0x55+-0x2242+0x1*0x2fe1)),0x1ed0+0x28*-0x6+-0x1ddf)),_0x513847*_0x14bd2b*_0x457159*_0x4bbd68;}static['calcGpuSiz'+'e'](_0x4f3103,_0x50b9a6,_0xe421fc,_0x2e6208,_0x18d133,_0x54493d){let _0x4d08e4=0x46*0x3a+0xae*0x2+-0x1138;for(;_0x4d08e4+=Mi['calcLevelG'+'puSize'](_0x4f3103,_0x50b9a6,_0xe421fc,_0x2e6208),!(!_0x18d133||_0x4f3103===0x2219+0xb*-0x376+0x3fa&&_0x50b9a6===-0x4f*0x6b+-0x2*-0xd5+0x12*0x1be&&_0xe421fc===-0x1*0x248e+0x20ae+0x3e1);)_0x4f3103=Math['max'](_0x4f3103>>-0x190*0x1+0x1df0+-0x1c5f,0x1eeb+-0x164*0x1a+0x53e),_0x50b9a6=Math['max'](_0x50b9a6>>-0x1c59+0xf56+-0x1dc*-0x7,-0x235+0xe09+-0xbd3),_0xe421fc=Math['max'](_0xe421fc>>-0x29*0x6e+0x1*0x22f+0xf70,-0x4*-0x772+0x82*-0xd+-0x172d);return _0x4d08e4*(_0x54493d?-0x1*0x52f+-0x1c34+0x2169:-0x4cb*-0x2+-0x1*0x13d3+-0x13*-0x8a);}}let Cv=-0x397*0x1+-0x2*0xbcb+-0x9*-0x305;class he{constructor(_0x3606a8,_0x5eb26c={}){c(this,'name'),c(this,'_gpuSize',-0x8*-0x429+-0x261c+0x4d4),c(this,'id',Cv++),c(this,'_invalid',!(0xe55+-0x531+-0x1*0x923)),c(this,'_lockedLev'+'el',-(-0x7*-0x3e4+-0x1*0xe4b+0x4*-0x33c)),c(this,'_lockedMod'+'e',yl),c(this,'renderVers'+'ionDirty',-0x1b44+0x7*-0x414+0x10*0x37d),c(this,'_storage',!(-0x247e+-0x258d*-0x1+0x1*-0x10e)),c(this,'_numLevels',0x1e8a+0xc9*-0x10+-0x11fa),c(this,'_numLevels'+'Requested');var _0xdd0bb1;this['device']=_0x3606a8,v['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),v['assert'](!_0x5eb26c['width']||Number['isInteger'](_0x5eb26c['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x5eb26c),v['assert'](!_0x5eb26c['height']||Number['isInteger'](_0x5eb26c['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x5eb26c),v['assert'](!_0x5eb26c['depth']||Number['isInteger'](_0x5eb26c['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x5eb26c),this['name']=_0x5eb26c['name']??'',this['_width']=Math['floor'](_0x5eb26c['width']??0xd2c+-0x1e85+0x7f*0x23),this['_height']=Math['floor'](_0x5eb26c['height']??-0x2439+0xfe*-0x1f+0x42ff*0x1),this['_format']=_0x5eb26c['format']??Se,this['_compresse'+'d']=OS(this['_format']),this['_integerFo'+'rmat']=ea(this['_format']),this['_integerFo'+'rmat']&&(_0x5eb26c['minFilter']=de,_0x5eb26c['magFilter']=de),this['_volume']=_0x5eb26c['volume']??!(0x232f*-0x1+-0x77d+0x2aad),this['_depth']=Math['floor'](_0x5eb26c['depth']??-0x952+-0x256e+-0x1*-0x2ec1),this['_arrayLeng'+'th']=Math['floor'](_0x5eb26c['arrayLengt'+'h']??0xd*-0xbd+-0x15c5*-0x1+-0x616*0x2),this['_storage']=_0x5eb26c['storage']??!(-0x12*0x1f+0x949*-0x2+0x14c1),this['_cubemap']=_0x5eb26c['cubemap']??!(-0x691*-0x3+0x399+0x1*-0x174b),this['_flipY']=_0x5eb26c['flipY']??!(-0xaaa+0x12cc+-0x1*0x821),this['_premultip'+'lyAlpha']=_0x5eb26c['premultipl'+'yAlpha']??!(-0x12ee+0x255b*0x1+-0x126c),this['_mipmaps']=_0x5eb26c['mipmaps']??!(0x259e+0x433*-0x7+0x1a5*-0x5),this['_numLevels'+'Requested']=_0x5eb26c['numLevels'],_0x5eb26c['numLevels']!==void(0x5*-0x6fd+0x13*0x10f+0xed4*0x1)&&(this['_numLevels']=_0x5eb26c['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x5eb26c['minFilter']??nn,this['_magFilter']=_0x5eb26c['magFilter']??st,this['_anisotrop'+'y']=_0x5eb26c['anisotropy']??-0x1999+0x6a1+0x12f9,this['_addressU']=_0x5eb26c['addressU']??tt,this['_addressV']=_0x5eb26c['addressV']??tt,this['_addressW']=_0x5eb26c['addressW']??tt,this['_compareOn'+'Read']=_0x5eb26c['compareOnR'+'ead']??!(-0x104f+0x155e+-0x50e),this['_compareFu'+'nc']=_0x5eb26c['compareFun'+'c']??Eh,this['type']=_0x5eb26c['hasOwnProp'+'erty']('type')?_0x5eb26c['type']:Di,v['assert'](!_0x5eb26c['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),v['assert'](!_0x5eb26c['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Au:_0x5eb26c['projection']&&_0x5eb26c['projection']!==Au&&(this['projection']=_0x5eb26c['projection']),this['profilerHi'+'nt']=_0x5eb26c['profilerHi'+'nt']??-0x1*-0x1a33+0x116f*0x1+-0x2ba2,this['_levels']=_0x5eb26c['levels'];const _0x3ef197=!!_0x5eb26c['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x3ef197),_0x3606a8['textures']['push'](this),v['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0xdd0bb1=xt['get'](this['format']))==null?void(-0x11c+0x1*-0x2479+0x2595):_0xdd0bb1['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){v['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x2ca032=this['device'];if(_0x2ca032){const _0x3e553f=_0x2ca032['textures']['indexOf'](this);_0x3e553f!==-(-0xaaa+0x15d6+-0xb2b)&&_0x2ca032['textures']['splice'](_0x3e553f,-0x6*0x5a4+0x3*-0x671+0x2*0x1a96),_0x2ca032['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x2ca032),this['adjustVram'+'SizeTracki'+'ng'](_0x2ca032['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x15611f=!(-0x1c*-0x7+0x83*-0x1f+0xf19)){var _0x4fbda9;const {device:_0x4d27f7}=this;(_0x4fbda9=this['impl'])==null||_0x4fbda9['destroy'](_0x4d27f7),this['impl']=null,this['impl']=_0x4d27f7['createText'+'ureImpl'](this),this['dirtyAll'](),_0x15611f&&this['upload']();}['resize'](_0x14c091,_0xff31e,_0x5b36fa=-0x2678+0x1ed7*0x1+0x3d1*0x2){const _0x3e89dd=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x3e89dd['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x3e89dd),this['_width']=Math['floor'](_0x14c091),this['_height']=Math['floor'](_0xff31e),this['_depth']=Math['floor'](_0x5b36fa),this['_updateNum'+'Level'](),this['impl']=_0x3e89dd['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0xd62e52,_0x3eaa8f){v['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x3eaa8f+('\x20vram.text'+'ure:\x20')+_0xd62e52['tex']+'\x20=>\x20'+(_0xd62e52['tex']+_0x3eaa8f)),_0xd62e52['tex']+=_0x3eaa8f,this['profilerHi'+'nt']===Tu?_0xd62e52['texShadow']+=_0x3eaa8f:this['profilerHi'+'nt']===ur?_0xd62e52['texAsset']+=_0x3eaa8f:this['profilerHi'+'nt']===Oy&&(_0xd62e52['texLightma'+'p']+=_0x3eaa8f);}['propertyCh'+'anged'](_0x4baff5){this['impl']['propertyCh'+'anged'](_0x4baff5),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x24eb1d=this['mipmaps']?Mi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x128+-0xa69+-0xb92*-0x1,_0x493f11=this['_numLevels'+'Requested'];_0x493f11!==void(0x1eb6+0x166d+-0x3523)&&_0x493f11>_0x24eb1d&&v['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x24eb1d,this),this['_numLevels']=Math['min'](_0x493f11??_0x24eb1d,_0x24eb1d),this['_mipmaps']=this['_numLevels']>-0x23cd+0x8ec+-0x2*-0xd71;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0xd5a621){this['_minFilter']!==_0xd5a621&&(ea(this['_format'])?v['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0xd5a621,this['propertyCh'+'anged'](zy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x41f41e){this['_magFilter']!==_0x41f41e&&(ea(this['_format'])?v['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x41f41e,this['propertyCh'+'anged'](Uy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x3a1cd6){this['_addressU']!==_0x3a1cd6&&(this['_addressU']=_0x3a1cd6,this['propertyCh'+'anged'](Vy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x4357df){this['_addressV']!==_0x4357df&&(this['_addressV']=_0x4357df,this['propertyCh'+'anged'](Gy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x157523){if(!this['_volume']){v['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x157523!==this['_addressW']&&(this['_addressW']=_0x157523,this['propertyCh'+'anged'](Hy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x25f69b){this['_compareOn'+'Read']!==_0x25f69b&&(this['_compareOn'+'Read']=_0x25f69b,this['propertyCh'+'anged']($y));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x48aae0){this['_compareFu'+'nc']!==_0x48aae0&&(this['_compareFu'+'nc']=_0x48aae0,this['propertyCh'+'anged'](Wy));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x1e6548){this['_anisotrop'+'y']!==_0x1e6548&&(this['_anisotrop'+'y']=_0x1e6548,this['propertyCh'+'anged'](qy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x1d9d03){this['_mipmaps']!==_0x1d9d03&&(this['device']['isWebGPU']?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):ea(this['_format'])?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x1d9d03,_0x1d9d03&&(this['_needsMipm'+'apsUpload']=!(-0x1b2+-0x1*-0x1eec+0x56*-0x57)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x5266cd=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0x1*0x2285+-0x4f8*0x3+-0x139c);return Mi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x5266cd,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0x1fe7+0xd*-0x8a+-0x18e5;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x1f1eb9){var _0x955c69,_0x2362e8,_0x2639aa,_0xab30eb;const _0x54c649=Mh(this['format']);if(_0x1f1eb9!==_0x54c649){if(_0x1f1eb9){const _0x581f4d=Cc(this['format']);this['_format']!==_0x581f4d&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x955c69=xt['get'](this['format']))==null?void(-0x81a+0x82b*0x1+0x1*-0x11):_0x955c69['name'])+'\x20->\x20'+((_0x2362e8=xt['get'](_0x581f4d))==null?void(-0x1917+-0x1823+0x313a):_0x2362e8['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x581f4d,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x5*-0x30b+-0x2*0x6cb+0x1ccd));}else{const _0x2aa1b6=kS(this['format']);this['_format']!==_0x2aa1b6&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x2639aa=xt['get'](this['format']))==null?void(-0x224c+-0x99b*-0x1+0x2b*0x93):_0x2639aa['name'])+'\x20->\x20'+((_0xab30eb=xt['get'](_0x2aa1b6))==null?void(-0x3b3+-0x487+0x83a):_0xab30eb['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x2aa1b6,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x86a+-0x2*0x1c4+0xbf2*0x1));}}}get['srgb'](){return Mh(this['format']);}set['flipY'](_0x564272){this['_flipY']!==_0x564272&&(this['_flipY']=_0x564272,this['_needsUplo'+'ad']=!(-0x5b2+0x48b*0x2+0x7c*-0x7));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x3e4152){this['_premultip'+'lyAlpha']!==_0x3e4152&&(this['_premultip'+'lyAlpha']=_0x3e4152,this['_needsUplo'+'ad']=!(-0x11a0+-0x2357+0xd*0x413));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return N['powerOfTwo'](this['_width'])&&N['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case on:return'rgbm';case ap:return'rgbe';case Io:return'rgbp';}return Ey(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0x69*0x23+0x3c5*-0x5+-0x109a*-0x2),!(-0x1e52+-0x1*0x1ae1+0x3933),!(-0x25a4+0x6*-0x1f7+-0x14d*-0x26),!(0x1e2+-0x43e+0x1*0x25c),!(-0xef*0x9+0x227b+-0x1a14),!(0x1b70+-0x1*-0x214f+0x3cbf*-0x1)]]:[!(0x8b9+-0x1*0x11b6+-0x2ff*-0x3)],this['_needsUplo'+'ad']=!(0x9*-0x43+-0x7db+0xa36),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(-0x3c*0x9+-0x2339+0x1b*0x162),this['propertyCh'+'anged'](yv);}['lock'](_0x347b58={}){_0x347b58['level']??(_0x347b58['level']=-0x15ea+0x1f43*-0x1+0x352d),_0x347b58['face']??(_0x347b58['face']=-0x143a+0x188e*0x1+-0x4*0x115),_0x347b58['mode']??(_0x347b58['mode']=rd),v['assert'](this['_lockedMod'+'e']===yl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),v['assert'](_0x347b58['mode']===Fy||_0x347b58['mode']===rd,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x347b58['mode'],this['_lockedLev'+'el']=_0x347b58['level'];const _0x327c04=this['cubemap']?this['_levels'][_0x347b58['face']]:this['_levels'];if(_0x327c04[_0x347b58['level']]===null){const _0x314752=Math['max'](0x18d8+-0x57*0x8+-0x161f,this['_width']>>_0x347b58['level']),_0x206fa2=Math['max'](0xfa7+0x1082+-0x93*0x38,this['_height']>>_0x347b58['level']),_0x2d8d79=Math['max'](0x1bba+-0xf84+0xc35*-0x1,this['_depth']>>_0x347b58['level']),_0x399aa5=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x314752,_0x206fa2,_0x2d8d79,this['_format']));_0x327c04[_0x347b58['level']]=new(Cy(this['_format']))(_0x399aa5);}return _0x327c04[_0x347b58['level']];}['setSource'](_0x3ba27c,_0xbdf120=0x1abe+-0xdcd+0x1*-0xcf1){let _0x4464a8=!(0x1137*0x1+0x192a+0x6*-0x710),_0x1be8d4,_0x1ea2cd;if(this['_cubemap']){if(_0x3ba27c[-0x2*-0x443+-0x1def+0x105*0x15]){_0x1be8d4=_0x3ba27c[-0x7b7+-0xf62+0x1719]['width']||0xe8a+-0x112e+0xa9*0x4,_0x1ea2cd=_0x3ba27c[-0x82a*0x4+-0x12d6+-0x337e*-0x1]['height']||0xc23*0x1+-0x2*-0x16d+-0xefd;for(let _0x2c654e=0x19*-0xbf+-0x132b*0x1+0x25d2;_0x2c654e<-0x1aba+-0xb*-0x207+0x473;_0x2c654e++){const _0xfe0ee2=_0x3ba27c[_0x2c654e];if(!_0xfe0ee2||_0xfe0ee2['width']!==_0x1be8d4||_0xfe0ee2['height']!==_0x1ea2cd||!this['device']['_isBrowser'+'Interface'](_0xfe0ee2)){_0x4464a8=!(0x2265*-0x1+0x1*0x1c9+0x209c);break;}}}else _0x4464a8=!(-0x23*-0x95+-0x834+-0xc2b);if(!_0x4464a8){for(let _0x5788e8=-0x35*-0x86+-0x1*-0x10cf+0x8e9*-0x5;_0x5788e8<0x90b+0x1*-0x13c+0x1*-0x7c9;_0x5788e8++)this['_levels'][_0xbdf120][_0x5788e8]!==_0x3ba27c[_0x5788e8]&&(this['_levelsUpd'+'ated'][_0xbdf120][_0x5788e8]=!(0x9d6*0x1+0x26ff+0x1*-0x30d5));}}else this['device']['_isBrowser'+'Interface'](_0x3ba27c)||(_0x4464a8=!(-0x1*-0x1539+-0x1*0x2531+0xff8)),_0x4464a8||(_0x3ba27c!==this['_levels'][_0xbdf120]&&(this['_levelsUpd'+'ated'][_0xbdf120]=!(-0x232a+0xd83+0x15a7)),_0x3ba27c instanceof HTMLVideoElement?(_0x1be8d4=_0x3ba27c['videoWidth'],_0x1ea2cd=_0x3ba27c['videoHeigh'+'t']):(_0x1be8d4=_0x3ba27c['width'],_0x1ea2cd=_0x3ba27c['height']));if(_0x4464a8){if(this['_width']=-0x1bdc*0x1+-0x1d3e+0x6*0x985,this['_height']=0x333+0xdf7+-0x2*0x893,this['_cubemap']){for(let _0x3cf321=0x1*0x1e9a+0xe2+-0x1f7c;_0x3cf321<0x2*0xe6f+0x105e*0x1+-0x2d36;_0x3cf321++)this['_levels'][_0xbdf120][_0x3cf321]=null,this['_levelsUpd'+'ated'][_0xbdf120][_0x3cf321]=!(0x2312+0x21*-0xb8+-0xb5a);}else this['_levels'][_0xbdf120]=null,this['_levelsUpd'+'ated'][_0xbdf120]=!(-0x25d1+0x1*-0x9f9+-0x2fca*-0x1);}else _0xbdf120===-0xf6e+-0x7d6+-0x1744*-0x1&&(this['_width']=_0x1be8d4,this['_height']=_0x1ea2cd),this['_levels'][_0xbdf120]=_0x3ba27c;(this['_invalid']!==_0x4464a8||!_0x4464a8)&&(this['_invalid']=_0x4464a8,this['upload']());}['getSource'](_0x2bdeba=0x22a3+0x1*-0xa03+-0x4*0x628){return this['_levels'][_0x2bdeba];}['unlock'](){this['_lockedMod'+'e']===yl&&v['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===rd&&this['upload'](),this['_lockedLev'+'el']=-(0x27*0x49+0x1137+0x1c55*-0x1),this['_lockedMod'+'e']=yl;}['upload'](){var _0x2c0438,_0x99dc4b;this['_needsUplo'+'ad']=!(-0xfae+-0xc8f+0x1c3d),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x99dc4b=(_0x2c0438=this['impl'])['uploadImme'+'diate'])==null||_0x99dc4b['call'](_0x2c0438,this['device'],this);}['read'](_0x28c486,_0x378d07,_0x430ff4,_0x2ebf2c,_0x28c108={}){var _0x4148b3,_0xd58d13;return(_0xd58d13=(_0x4148b3=this['impl'])['read'])==null?void(0x25fc+0x8*0x3cc+-0x445c):_0xd58d13['call'](_0x4148b3,_0x28c486,_0x378d07,_0x430ff4,_0x2ebf2c,_0x28c108);}}const Mv={'white':[0x15f2+0x21be*-0x1+0xccb,0x3c1*-0x2+0x1004+-0x783,-0x15e*-0x5+-0x23e3+0x1*0x1e0c,-0x99*0xb+-0x1c57+0x1*0x23e9],'gray':[-0x29+-0x103*0xc+0xccd,-0xdb3+-0x1*0x1df9+0x2c2c,0xec*0x17+0xd07+0x37*-0x9d,0x7db+0xa5c+-0x1138],'black':[-0x1043+-0x203*0x11+0x3276,-0x4*0x943+0x1ff3+0x519,-0x1c+-0x11e3+0x11ff*0x1,-0x1dd6+0xc39+0xc*0x18d],'normal':[-0x21c0+0x206+0x672*0x5,-0x3*0x6a7+0x22*0xd+-0x3bf*-0x5,-0x1421*0x1+0x1c37*0x1+-0x79*0xf,0x2343+-0xeb9*-0x1+-0x30fd*0x1],'pink':[-0x1928+-0x54*0x27+0x26f3,-0x18c6+0x86c*-0x1+0x21b2,0x322+-0xb3e+-0x3f*-0x25,0x10bb*0x1+-0xd*-0x1d3+-0x2773]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x43c57b=>{_0x43c57b['destroy']();});}}const Rv=new Ot(),en=(_0x5b978b,_0x45ebc0)=>{const _0x41ae35=Rv['get'](_0x5b978b,()=>new Pv());if(!_0x41ae35['map']['has'](_0x45ebc0)){const _0x448361=new he(_0x5b978b,{'name':'built-in-t'+'exture-'+_0x45ebc0,'width':0x1,'height':0x1,'format':Se}),_0x12c3d8=_0x448361['lock'](),_0x41d9db=Mv[_0x45ebc0];v['assert'](_0x41d9db,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x45ebc0+('\x27\x20not\x20foun'+'d')),_0x12c3d8['set'](_0x41d9db),_0x448361['unlock'](),_0x41ae35['map']['set'](_0x45ebc0,_0x448361);}return _0x41ae35['map']['get'](_0x45ebc0);};let Iv=0xa8d+-0x64*-0x14+0x1*-0x125d;class Yy{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class mp{constructor(_0x32c46f,_0x3e720b,_0x230e04){c(this,'renderVers'+'ionUpdated',-(0x16f+-0xf55+-0xde7*-0x1)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x32c46f,this['format']=_0x3e720b,this['dirty']=!(-0x1*-0x2e7+0x49*0x3+-0x2*0x1e1),this['impl']=_0x32c46f['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x230e04,_0x230e04&&this['setUniform'+'Buffer'](fp,_0x230e04),v['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0x3e720b));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x57b784,_0x37c108){const _0x120beb=this['format']['bufferForm'+'atsMap']['get'](_0x57b784);v['assert'](_0x120beb!==void(-0xb*0x155+0x25a6+-0x1*0x16ff),'Setting\x20a\x20'+'uniform\x20['+_0x57b784+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x120beb]!==_0x37c108&&(this['uniformBuf'+'fers'][_0x120beb]=_0x37c108,this['dirty']=!(-0x6e3*-0x2+0x577*0x7+-0x3407));}['setStorage'+'Buffer'](_0x1ec830,_0x29efd3){const _0x26d0b9=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x1ec830);v['assert'](_0x26d0b9!==void(0x1*-0xd5d+0x1*0x2bd+-0x10*-0xaa),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x1ec830+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x26d0b9]!==_0x29efd3&&(this['storageBuf'+'fers'][_0x26d0b9]=_0x29efd3,this['dirty']=!(0x1*0x1bf1+-0x8ca+-0x1327));}['setTexture'](_0x23a400,_0x3411cb){const _0x3bd9c1=this['format']['textureFor'+'matsMap']['get'](_0x23a400);v['assert'](_0x3bd9c1!==void(-0x1*0x1b0f+0xfea+-0x3b7*-0x3),'Setting\x20a\x20'+'texture\x20['+_0x23a400+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x3bd9c1]!==_0x3411cb?(this['textures'][_0x3bd9c1]=_0x3411cb,this['dirty']=!(0x39*0x79+0xe3b+-0x292c)):this['renderVers'+'ionUpdated']<_0x3411cb['renderVers'+'ionDirty']&&(this['dirty']=!(-0x1174+-0x5*0x76d+0x59*0x9d));}['setStorage'+'Texture'](_0x53a399,_0x134364){const _0xaef690=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x53a399);v['assert'](_0xaef690!==void(-0xe42+-0x7c*0x1+0xebe),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x53a399+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0xaef690]!==_0x134364?(this['storageTex'+'tures'][_0xaef690]=_0x134364,this['dirty']=!(-0x998*-0x1+0x1afc+-0x2494)):this['renderVers'+'ionUpdated']<_0x134364['renderVers'+'ionDirty']&&(this['dirty']=!(-0x6*0x2d3+0x1f73*0x1+-0xe81));}['updateUnif'+'ormBuffers'](){for(let _0x16b1cf=0x267a+-0x10*-0x1ac+-0xf2*0x45;_0x16b1cf<this['uniformBuf'+'fers']['length'];_0x16b1cf++)this['uniformBuf'+'fers'][_0x16b1cf]['update']();}['update'](){const {textureFormats:_0x2572c4,storageTextureFormats:_0x306486,storageBufferFormats:_0x4723f2}=this['format'];for(let _0xc1e7ef=-0x64+0x1*0x61b+-0x5b7;_0xc1e7ef<_0x2572c4['length'];_0xc1e7ef++){const _0x391619=_0x2572c4[_0xc1e7ef];let _0x5d8476=_0x391619['scopeId']['value'];_0x5d8476||(_0x391619['name']==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x5d8476=en(this['device'],'white')),_0x391619['name']==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x5d8476=en(this['device'],'pink')),_0x5d8476||(v['errorOnce']('Texture\x20'+_0x391619['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x5d8476=en(this['device'],'pink'))),this['setTexture'](_0x391619['name'],_0x5d8476);}for(let _0x466fb9=-0x1d2a*0x1+-0x21a0+0x156*0x2f;_0x466fb9<_0x306486['length'];_0x466fb9++){const _0x348c30=_0x306486[_0x466fb9],_0x236a11=_0x348c30['scopeId']['value'];v['assert'](_0x236a11,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x348c30['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x348c30['name'],_0x236a11);}for(let _0x4cef20=-0x16af+-0x2c5*-0x9+-0x23e;_0x4cef20<_0x4723f2['length'];_0x4cef20++){const _0x45d969=_0x4723f2[_0x4cef20],_0x3aaf58=_0x45d969['scopeId']['value'];v['assert'](_0x3aaf58,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x45d969['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x45d969['name'],_0x3aaf58);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x2a8a15=-0x1*0x1c78+0x765*0x3+0x649;_0x2a8a15<this['uniformBuf'+'fers']['length'];_0x2a8a15++){const _0x40565d=this['uniformBuf'+'fers'][_0x2a8a15];this['uniformBuf'+'ferOffsets'][_0x2a8a15]=_0x40565d['offset'],this['renderVers'+'ionUpdated']<_0x40565d['renderVers'+'ionDirty']&&(this['dirty']=!(0xd*-0x17+0x7e2+0x9*-0xbf));}this['dirty']&&(this['dirty']=!(0x1d4a+0xb*-0x202+-0x733),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Oe={'set'(_0x442cc0,_0xbd51a8,_0x10f3f7,_0xcc0e40=0xb7e*0x3+0x6c8*0x1+0x2941*-0x1){return _0x442cc0&~(_0xcc0e40<<_0x10f3f7)|_0xbd51a8<<_0x10f3f7;},'get'(_0xe18fe1,_0x1e3d54,_0x29f828=-0xcdf+-0xa7e+-0x3e5*-0x6){return _0xe18fe1>>_0x1e3d54&_0x29f828;},'all'(_0x4c230a,_0x1a06ce,_0x572f3f=-0x1*-0x8db+0xf*0x85+0x10a5*-0x1){const _0xcaed0=_0x572f3f<<_0x1a06ce;return(_0x4c230a&_0xcaed0)===_0xcaed0;},'any'(_0x3dac68,_0x469858,_0x5761af=-0x1*0x30d+-0x1*-0x57d+-0x1*0x26f){return(_0x3dac68&_0x5761af<<_0x469858)!==-0x6aa+0xc3f+0x1*-0x595;}},xl=0x5e*-0x26+0x1*-0x225+0x1020,Vi=0x3cb*0x5+0xa50+-0x1d38,dm=-0x28*0x85+-0x2a6+0x176e,um=0x52*-0x48+-0x18a7*0x1+0x2fba*0x1,fm=-0x7d*-0x1f+-0xfba+-0x1*-0x9e,pm=0x2db*0x4+0x1299+-0x9fe*0x3,mm=-0xce6+0xe8e+-0x19a,_m=-0x2*0x1+0x99f*-0x1+-0xbf*-0xd,Cu=-0x1e93*-0x1+-0x1a28+0x1*-0x455,gm=0x1*-0x4cd+0x1*0x1261+0x3*-0x47f,ym=0x1114*-0x1+0x5*-0x165+0x1*0x1825,xm=0x14b*-0x13+-0x1806+0x30b0,Sm=0x7bf+-0x4c7+0x2de*-0x1,Dv=0x184d+0x7*0x86+-0xdf4*0x2,Lv=Cu,zs=class zs{constructor(_0x14ab32=!(0x2*0x1063+-0x705*-0x2+-0x2ecf),_0x356a12=Lt,_0x15be3e=at,_0x16f1d7=kf,_0x51f799,_0x144769,_0x47e307,_0x369573=!(-0x3*0x742+-0xa76+-0x101e*-0x2),_0x7b8952=!(-0x98+-0x2439+0x24d1),_0x56c772=!(0x119e+0x1f7d+-0x311b),_0x2281b1=!(-0x93e+-0x19b7+0xba7*0x3)){c(this,'target0',0x46f+-0x1d95*0x1+0x1926),(this['setColorBl'+'end'](_0x356a12,_0x15be3e,_0x16f1d7),this['setAlphaBl'+'end'](_0x51f799??_0x356a12,_0x144769??_0x15be3e,_0x47e307??_0x16f1d7),this['setColorWr'+'ite'](_0x369573,_0x7b8952,_0x56c772,_0x2281b1),this['blend']=_0x14ab32);}set['blend'](_0x10d209){this['target0']=Oe['set'](this['target0'],_0x10d209?-0x166+0x1942+0x1f*-0xc5:0x2*0x1333+-0x266c+0x6,Sm);}get['blend'](){return Oe['all'](this['target0'],Sm);}['setColorBl'+'end'](_0x24adf3,_0xebb19f,_0x3a0996){this['target0']=Oe['set'](this['target0'],_0x24adf3,dm,xl),this['target0']=Oe['set'](this['target0'],_0xebb19f,um,Vi),this['target0']=Oe['set'](this['target0'],_0x3a0996,fm,Vi);}['setAlphaBl'+'end'](_0x11fe46,_0x36dea8,_0x6ab07){this['target0']=Oe['set'](this['target0'],_0x11fe46,pm,xl),this['target0']=Oe['set'](this['target0'],_0x36dea8,mm,Vi),this['target0']=Oe['set'](this['target0'],_0x6ab07,_m,Vi);}['setColorWr'+'ite'](_0x2e6f0c,_0x2fbd44,_0x496b48,_0x451d46){this['redWrite']=_0x2e6f0c,this['greenWrite']=_0x2fbd44,this['blueWrite']=_0x496b48,this['alphaWrite']=_0x451d46;}get['colorOp'](){return Oe['get'](this['target0'],dm,xl);}get['colorSrcFa'+'ctor'](){return Oe['get'](this['target0'],um,Vi);}get['colorDstFa'+'ctor'](){return Oe['get'](this['target0'],fm,Vi);}get['alphaOp'](){return Oe['get'](this['target0'],pm,xl);}get['alphaSrcFa'+'ctor'](){return Oe['get'](this['target0'],mm,Vi);}get['alphaDstFa'+'ctor'](){return Oe['get'](this['target0'],_m,Vi);}set['redWrite'](_0x15c3d4){this['target0']=Oe['set'](this['target0'],_0x15c3d4?0x5*0x71f+-0x6e7+-0x5d*0x4f:-0x49f*-0x5+0x1*-0x25e+0x1*-0x14bd,Cu);}get['redWrite'](){return Oe['all'](this['target0'],Cu);}set['greenWrite'](_0x59100a){this['target0']=Oe['set'](this['target0'],_0x59100a?-0xd9*0x25+0x2*-0xc05+0x3768:0x731*0x1+0xe73+-0x15a4,gm);}get['greenWrite'](){return Oe['all'](this['target0'],gm);}set['blueWrite'](_0x4eb2ee){this['target0']=Oe['set'](this['target0'],_0x4eb2ee?0x1ed2+-0x2d7*-0x9+-0x3860:-0x19c4+0x2558+-0xb94,ym);}get['blueWrite'](){return Oe['all'](this['target0'],ym);}set['alphaWrite'](_0x25e40f){this['target0']=Oe['set'](this['target0'],_0x25e40f?-0x1*-0x11c3+0x383*0xb+-0xb47*0x5:-0x1*-0x1915+0x1492+-0x2da7,xm);}get['alphaWrite'](){return Oe['all'](this['target0'],xm);}get['allWrite'](){return Oe['get'](this['target0'],Lv,Dv);}['copy'](_0x34081c){return this['target0']=_0x34081c['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x2bf12e){return this['target0']===_0x2bf12e['target0'];}};c(zs,'NOBLEND',Object['freeze'](new zs())),c(zs,'NOWRITE',Object['freeze'](new zs(void(-0xe3*0x16+0x1c0e+0x2*-0x446),void(0x538+-0xd*-0x1fd+-0x1f11),void(0x45*-0x52+0x1a41+-0x427*0x1),void(0x1b64+0x2387+-0x3eeb),void(0x25cb+-0x175*-0x2+-0x11*0x265),void(-0x10d*-0x1f+-0x4fa*0x2+-0x169f*0x1),void(0x253f+-0x265+-0x22da*0x1),!(0x655*0x1+0x176d*0x1+-0x1dc1),!(0x1*0x92c+0xe26+0x1*-0x1751),!(0xdc1+-0x1d7b*-0x1+-0x2b3b),!(-0x47*0x49+-0xb*0x36f+0x3a05)))),c(zs,'ALPHABLEND',Object['freeze'](new zs(!(-0x3ec*-0x5+0x6b5*0x5+0x5*-0xaa1),Lt,dc,uc))),c(zs,'ADDBLEND',Object['freeze'](new zs(!(0x1101*-0x1+-0x4a3*0x3+0x1eea),Lt,at,at)));let _t=zs;class _p{constructor(){c(this,'map',new Map()),c(this,'id',-0x2*0xae8+0xdfb+0x7d5);}['get'](_0x4232b1){let _0x56ea9e=this['map']['get'](_0x4232b1);return _0x56ea9e===void(0x6f7+-0x189*-0x1+-0x880)&&(_0x56ea9e=this['id']++,this['map']['set'](_0x4232b1,_0x56ea9e)),_0x56ea9e;}}const Fv=new _p(),vm=-0x61f*0x3+-0x1a3d+0x2ca1,bm=-0xa72+-0x14b*0x7+0x137f,wm=-0x10e0*-0x2+0xd08+-0x399*0xd,Zi=class Zi{constructor(_0x1e5d4e=fu,_0x14dc26=!(-0x132c+-0x23f3+0x371f)){c(this,'data',0x1497+-0xeeb+-0x5ac),c(this,'_depthBias',-0x13f6+0xa*0x6e+0x7d5*0x2),c(this,'_depthBias'+'Slope',0x5ac+-0xd8*0xc+0x13*0x3c),c(this,'key',0x1*0xc69+-0x184f+0xbe6),(this['func']=_0x1e5d4e,this['write']=_0x14dc26);}set['test'](_0x4857df){this['func']=_0x4857df?fu:Ai,this['updateKey']();}get['test'](){return this['func']!==Ai;}set['write'](_0x2d7dfa){this['data']=Oe['set'](this['data'],_0x2d7dfa?-0x8*-0x31+-0x353*0x1+0x1cc:-0x7*-0x2ed+-0xe*0x206+0x7d9,wm),this['updateKey']();}get['write'](){return Oe['all'](this['data'],wm);}set['func'](_0x4dd4a5){this['data']=Oe['set'](this['data'],_0x4dd4a5,bm,vm),this['updateKey']();}get['func'](){return Oe['get'](this['data'],bm,vm);}set['depthBias'](_0x282257){this['_depthBias']=_0x282257,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x12ca1a){this['_depthBias'+'Slope']=_0x12ca1a,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x3ebec1){return this['data']=_0x3ebec1['data'],this['_depthBias']=_0x3ebec1['_depthBias'],this['_depthBias'+'Slope']=_0x3ebec1['_depthBias'+'Slope'],this['key']=_0x3ebec1['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x25ce18,_depthBias:_0x36474a,_depthBiasSlope:_0x2b8445}=this,_0x545700=_0x25ce18+'-'+_0x36474a+'-'+_0x2b8445;this['key']=Fv['get'](_0x545700);}['equals'](_0x590b93){return this['key']===_0x590b93['key'];}};c(Zi,'DEFAULT',Object['freeze'](new Zi())),c(Zi,'NODEPTH',Object['freeze'](new Zi(Ai,!(0x4c6+-0x16c4+0x11ff)))),c(Zi,'WRITEDEPTH',Object['freeze'](new Zi(Ai,!(-0x214c+0x2365*0x1+-0xb3*0x3))));let as=Zi;class Ky{constructor(){c(this,'globalId',0x4ec+0x1*0x7b5+-0x1*0xca1),c(this,'revision',-0x6a1*-0x1+-0x421*-0x1+-0xac2);}['equals'](_0x2fcb8c){return this['globalId']===_0x2fcb8c['globalId']&&this['revision']===_0x2fcb8c['revision'];}['copy'](_0x29eb5d){this['globalId']=_0x29eb5d['globalId'],this['revision']=_0x29eb5d['revision'];}['reset'](){this['globalId']=-0x24ce+-0x22e1+0x47af,this['revision']=-0x3e6+-0x6ff*0x5+0x26e1;}}let Tm=0xd81+0x221d+-0x2f9e;class Ov{constructor(){Tm++,this['version']=new Ky(),this['version']['globalId']=Tm;}['increment'](){this['version']['revision']++;}}class kv{constructor(_0x47b1b9){this['name']=_0x47b1b9,this['value']=null,this['versionObj'+'ect']=new Ov();}['toJSON'](_0x56d30b){}['setValue'](_0x382de3){this['value']=_0x382de3,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x1a938f){this['name']=_0x1a938f,this['variables']=new Map();}['resolve'](_0x122b04){return this['variables']['has'](_0x122b04)||this['variables']['set'](_0x122b04,new kv(_0x122b04)),this['variables']['get'](_0x122b04);}['removeValu'+'e'](_0x1d4ecf){for(const _0x45757f in this['variables']){const _0x5b1cb6=this['variables'][_0x45757f];_0x5b1cb6['value']===_0x1d4ecf&&(_0x5b1cb6['value']=null);}}}let Nv=-0x2*-0xbf6+-0x1*0x12dd+-0x50f;class os{constructor(_0x25b76b,_0x1d0cbe,_0x309194,_0x421211){c(this,'usage',jt),(v['assert'](arguments['length']<=-0x492+0x1cc8+-0x1832&&(!_0x421211||typeof _0x421211=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x421211==null?void(-0x2709+-0xbae+0x32b7):_0x421211['usage'])??jt,this['device']=_0x25b76b,this['format']=_0x1d0cbe,this['numVertice'+'s']=_0x309194,this['id']=Nv++,this['impl']=_0x25b76b['createVert'+'exBufferIm'+'pl'](this,_0x1d0cbe,_0x421211),this['numBytes']=_0x1d0cbe['verticesBy'+'teSize']?_0x1d0cbe['verticesBy'+'teSize']:_0x1d0cbe['size']*_0x309194,this['adjustVram'+'SizeTracki'+'ng'](_0x25b76b['_vram'],this['numBytes']));const _0xf14a42=_0x421211==null?void(-0x14eb+0x21f1+-0x2*0x683):_0x421211['data'];_0xf14a42?this['setData'](_0xf14a42):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x18b7a7=this['device'],_0x1ffa23=_0x18b7a7['buffers']['indexOf'](this);_0x1ffa23!==-(0x2*0xe8f+0x2c*-0xde+0x90b)&&_0x18b7a7['buffers']['splice'](_0x1ffa23,0x310+0x501+0x408*-0x2),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x18b7a7),this['adjustVram'+'SizeTracki'+'ng'](_0x18b7a7['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x3e315c,_0x1c2120){v['trace'](Zx,this['id']+'\x20size:\x20'+_0x1c2120+'\x20vram.vb:\x20'+_0x3e315c['vb']+'\x20=>\x20'+(_0x3e315c['vb']+_0x1c2120)),_0x3e315c['vb']+=_0x1c2120;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x2bb06a){return _0x2bb06a['byteLength']!==this['numBytes']?(v['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x2bb06a['byteLength']),!(-0xda*0x1+0x2428+-0x7*0x50b)):(this['storage']=_0x2bb06a,this['unlock'](),!(0xa44+-0x1447+0xa03));}}function hn(_0xddafd8){if(_0xddafd8==null)return 0x14ae+-0x10f5+-0x1*0x3b9;let _0x3681fc=-0x1*0x163d+0x14d9+0x164;for(let _0xb7d88f=-0x1ccb+-0x2f9*0x3+0x649*0x6,_0x1946ea=_0xddafd8['length'];_0xb7d88f<_0x1946ea;_0xb7d88f++)_0x3681fc=(_0x3681fc<<0x907+0x1532+-0x1e34)-_0x3681fc+_0xddafd8['charCodeAt'](_0xb7d88f),_0x3681fc|=-0x362+-0x214a+-0x92b*-0x4;return _0x3681fc;}function Zy(_0x58028e){let _0x60f124=0x825b054f+0x98a8853c+-0x99e6ecc6;for(let _0x41499e=-0x5*0x77c+-0x6c4+0x4*0xb0c;_0x41499e<_0x58028e['length'];_0x41499e++)_0x60f124^=_0x58028e[_0x41499e],_0x60f124*=-0x1fb8a85+-0x1*0x11f0509+-0x2f9*-0x16169;return _0x60f124>>>0x262c+0x2130+-0x4*0x11d7;}const zv=new _p(),Uv=[0x2*0x79a+0x7e0+0x1712*-0x1,-0x1*0x1e0b+-0x383+-0x1*-0x2192,-0xf6*-0x21+0x1feb+-0x3f99,-0x232*0xc+0x1462+0x602*0x1,0x18fc+0x165+-0x1a51],Vv=new Ot();class Et{constructor(_0x5ace34,_0x27a6dc,_0x78ebf7){this['device']=_0x5ace34,this['_elements']=[],this['hasUv0']=!(-0xf0e+-0x1f28+0x2e37),this['hasUv1']=!(0x1*0x2593+0x12e5+-0x3877),this['hasColor']=!(0x29*-0xdd+-0x1*0xa67+0x2dcd),this['hasTangent'+'s']=!(-0x16b4+-0x1774+0x75*0x65),this['verticesBy'+'teSize']=-0x12ba+0x7*-0x445+0x309d,this['vertexCoun'+'t']=_0x78ebf7,this['interleave'+'d']=_0x78ebf7===void(0x76+0x3*-0x12d+0x311),this['instancing']=!(0x15c0+0x1fae+-0x356d),this['size']=_0x27a6dc['reduce']((_0x1c94bd,_0x46a090)=>_0x1c94bd+Math['ceil'](_0x46a090['components']*_o[_0x46a090['type']]/(-0x13a*0x1+0x262*0x3+-0x5e8))*(-0x24e*-0x8+-0x407*-0x2+-0x2*0xd3d),0x206*-0xb+0x5e8+-0x17*-0xb6);let _0x57b94e=-0x9*0x198+-0xa5*-0x2b+0x1e9*-0x7,_0x53e6ff;for(let _0x3bcda3=0x6*-0x504+-0xd2c+-0x354*-0xd,_0x180c0d=_0x27a6dc['length'];_0x3bcda3<_0x180c0d;_0x3bcda3++){const _0xd807af=_0x27a6dc[_0x3bcda3];_0x53e6ff=_0xd807af['components']*_o[_0xd807af['type']],v['assert'](Et['isElementV'+'alid'](_0x5ace34,_0xd807af),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0xd807af['semantic']+'\x20:\x20'+Sv[_0xd807af['type']]+'\x20x\x20'+_0xd807af['components']),_0x78ebf7&&(_0x57b94e=N['roundUp'](_0x57b94e,_0x53e6ff),v['assert'](_0x53e6ff%(0x6a1+0x1b5+0x852*-0x1)===0x1*-0x125+-0x1*0xc1f+-0x236*-0x6,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x53e6ff));const _0x160b0f=_0xd807af['asInt']??!(0x206d*-0x1+-0x57a*-0x3+0x400*0x4),_0x40e752=_0x160b0f?!(0xe*0x2c6+0x3*0x602+-0x21*0x1b9):_0xd807af['normalize']??!(-0x3f5*0x5+-0x1651+0x3*0xe09),_0x2185cd={'name':_0xd807af['semantic'],'offset':_0x78ebf7?_0x57b94e:_0xd807af['hasOwnProp'+'erty']('offset')?_0xd807af['offset']:_0x57b94e,'stride':_0x78ebf7?_0x53e6ff:_0xd807af['hasOwnProp'+'erty']('stride')?_0xd807af['stride']:this['size'],'dataType':_0xd807af['type'],'numComponents':_0xd807af['components'],'normalize':_0x40e752,'size':_0x53e6ff,'asInt':_0x160b0f};this['_elements']['push'](_0x2185cd),_0x78ebf7?_0x57b94e+=_0x53e6ff*_0x78ebf7:_0x57b94e+=Math['ceil'](_0x53e6ff/(-0x2533+0x1cf4+0x843))*(-0x59*-0x68+-0x53d+-0x1*0x1ee7),_0xd807af['semantic']===ns?this['hasUv0']=!(-0xb2d+-0x25d7+0x3104):_0xd807af['semantic']===_n?this['hasUv1']=!(0x1263+-0x25b*0xf+-0x2*-0x879):_0xd807af['semantic']===At?this['hasColor']=!(-0x1b6e*0x1+0x1*0xe4f+0xd1f):_0xd807af['semantic']===Zs&&(this['hasTangent'+'s']=!(-0x103*0x1+-0x1b15+0x1c18));}_0x78ebf7&&(this['verticesBy'+'teSize']=_0x57b94e),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x2709ea){return Vv['get'](_0x2709ea,()=>new Et(_0x2709ea,[{'semantic':rp,'components':0x4,'type':Ee},{'semantic':ga,'components':0x4,'type':Ee},{'semantic':np,'components':0x4,'type':Ee},{'semantic':ya,'components':0x4,'type':Ee}]));}static['isElementV'+'alid'](_0x1e2f73,_0x333665){const _0x17bc71=_0x333665['components']*_o[_0x333665['type']];return!(_0x1e2f73['isWebGPU']&&!Uv['includes'](_0x17bc71));}['update'](){v['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x3ca58c=[],_0x3e5775=[],_0x3dc2ed=this['_elements']['length'];for(let _0x56b3d9=-0x3*-0x55d+0xe4d+0x185*-0x14;_0x56b3d9<_0x3dc2ed;_0x56b3d9++){const {name:_0x18bab0,dataType:_0x4009f4,numComponents:_0x36674a,normalize:_0xd79444,offset:_0x59d6d1,stride:_0x1ac2ea,size:_0x31d2f0,asInt:_0x2b729b}=this['_elements'][_0x56b3d9],_0x133fa4=_0x18bab0+_0x4009f4+_0x36674a+_0xd79444+_0x2b729b;_0x3ca58c['push'](_0x133fa4);const _0x2486c8=_0x133fa4+_0x59d6d1+_0x1ac2ea+_0x31d2f0;_0x3e5775['push'](_0x2486c8);}_0x3ca58c['sort']();const _0x109b43=_0x3ca58c['join']();this['batchingHa'+'sh']=hn(_0x109b43),this['shaderProc'+'essingHash'+'String']=_0x109b43,this['renderingH'+'ashString']=_0x3e5775['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new _p(),rc=class rc{constructor(_0x3af68f={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(0x19*0x6b+0x22e7+-0x1b*0x1ae)),c(this,'_key'),(this['_func']=_0x3af68f['func']??Ai,this['_ref']=_0x3af68f['ref']??0x1896+-0x21c+-0x167a,this['_readMask']=_0x3af68f['readMask']??0x12f*0x11+-0x821*0x1+0x5*-0x233,this['_writeMask']=_0x3af68f['writeMask']??-0x1f*-0x117+0x1727+-0x37f1*0x1,this['_fail']=_0x3af68f['fail']??ha,this['_zfail']=_0x3af68f['zfail']??ha,this['_zpass']=_0x3af68f['zpass']??ha,this['_evalKey']());}set['func'](_0x13a282){this['_func']=_0x13a282,this['_dirty']=!(0x75*-0x53+0xd86*-0x2+0xcff*0x5);}get['func'](){return this['_func'];}set['ref'](_0x92c229){this['_ref']=_0x92c229,this['_dirty']=!(0x805+0x10dd+-0x18e2);}get['ref'](){return this['_ref'];}set['fail'](_0x32a35b){this['_fail']=_0x32a35b,this['_dirty']=!(0x768+0xb42*-0x3+0x1a5e);}get['fail'](){return this['_fail'];}set['zfail'](_0x37d320){this['_zfail']=_0x37d320,this['_dirty']=!(0x100f+-0xf*-0x2b+-0x1294);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x30e182){this['_zpass']=_0x30e182,this['_dirty']=!(-0x17b5+0x5*-0x4a9+0x2f02);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x264023){this['_readMask']=_0x264023,this['_dirty']=!(-0x19d8+-0x241a*-0x1+0x521*-0x2);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0xa32daa){this['_writeMask']=_0xa32daa,this['_dirty']=!(-0x13c0+-0x2444+-0x6*-0x956);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0xdd4832,_ref:_0x1b6499,_fail:_0x5ce4cb,_zfail:_0x4d56a9,_zpass:_0x325820,_readMask:_0x1e0169,_writeMask:_0x4e4a5a}=this,_0x5aefa0=_0xdd4832+','+_0x1b6499+','+_0x5ce4cb+','+_0x4d56a9+','+_0x325820+','+_0x1e0169+','+_0x4e4a5a;this['_key']=Gv['get'](_0x5aefa0),this['_dirty']=!(-0x1883+-0x1b4+0x1a38);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x24f14d){return this['_func']=_0x24f14d['_func'],this['_ref']=_0x24f14d['_ref'],this['_readMask']=_0x24f14d['_readMask'],this['_writeMask']=_0x24f14d['_writeMask'],this['_fail']=_0x24f14d['_fail'],this['_zfail']=_0x24f14d['_zfail'],this['_zpass']=_0x24f14d['_zpass'],this['_dirty']=_0x24f14d['_dirty'],this['_key']=_0x24f14d['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(rc,'DEFAULT',Object['freeze'](new rc()));let qs=rc;const nc=class nc extends ce{constructor(_0x128f8d,_0x5cee86){var _0x43d886,_0x4d5c4c,_0x2a09e7,_0x49877,_0xe1fe00,_0x35c2a8;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new $()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(-0x1b1e+-0xd3*0x11+0x2922)),c(this,'isWebGPU',!(0xaa0+0xdc1+-0x1860)),c(this,'isWebGL2',!(0xc20+-0x3be+-0x861)),c(this,'isHdr',!(-0x14c*0x10+0x338+0x1189)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',-0x11*0x97+0x1118+0x10*-0x71),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',0xa1c+-0x3*-0x45+-0xaea),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(0x1*-0xac1+0x103*-0x12+0xce*0x24)),c(this,'supportsSt'+'orageTextu'+'reRead',!(-0x1c68+0x211d+-0x4b4)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',-0x2625+-0x2109+0x472e),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(0x24b*-0xd+0x142b*0x1+-0x337*-0x3)),c(this,'supportsUn'+'iformBuffe'+'rs',!(0x1*0x174a+-0x9c8+-0x1*0xd81)),c(this,'supportsCl'+'ipDistance'+'s',!(-0x2f8+0x17c4+0x1*-0x14cb)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(-0xdc1*0x1+0x1*0x1fd3+-0x1211)),c(this,'textureFlo'+'atFilterab'+'le',!(0x755*-0x3+0x3ad*0x5+0x39f)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new _t()),c(this,'depthState',new as()),c(this,'stencilEna'+'bled',!(-0xc5f*0x1+-0x1ccc+0x292c)),c(this,'stencilFro'+'nt',new qs()),c(this,'stencilBac'+'k',new qs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[-0x1*0x346+-0x2308+0x264e,0x198f+0x3*-0xed+-0x16c8,-0x2*0x4a3+-0x2293+0x5*0x8c5,-0x24c5+0x2357+-0x1*-0x16f],'depth':0x1,'stencil':0x0,'flags':Co|Mo}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(0x17f9+0x1*0x1038+-0x2830)),(this['canvas']=_0x128f8d,this['initOption'+'s']={..._0x5cee86},(_0x43d886=this['initOption'+'s'])['alpha']??(_0x43d886['alpha']=!(-0x1b08+-0x4*0x521+0x2f8c)),(_0x4d5c4c=this['initOption'+'s'])['depth']??(_0x4d5c4c['depth']=!(0x2025+-0x1bd1+-0x454)),(_0x2a09e7=this['initOption'+'s'])['stencil']??(_0x2a09e7['stencil']=!(0x305*0x1+0xcfa+-0xfff)),(_0x49877=this['initOption'+'s'])['antialias']??(_0x49877['antialias']=!(0x13*-0x1ad+-0xffb*-0x1+0x244*0x7)),(_0xe1fe00=this['initOption'+'s'])['powerPrefe'+'rence']??(_0xe1fe00['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x35c2a8=this['initOption'+'s'])['displayFor'+'mat']??(_0x35c2a8['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=ye['browser']?Math['min'](0x3*0x8e+-0x1448+0x129f,window['devicePixe'+'lRatio']):0x1bc0+0x466+-0x2025,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0x233*-0x1+-0x1b46+0x1913,this['_shaderSwi'+'tchesPerFr'+'ame']=-0x61*-0xd+-0x94+-0x459,this['_primsPerF'+'rame']=[]);for(let _0xe29505=Mc;_0xe29505<=Yr;_0xe29505++)this['_primsPerF'+'rame'][_0xe29505]=-0x1fd8+-0x148c+-0x1df*-0x1c;this['_renderTar'+'getCreatio'+'nTime']=-0x7*-0x335+-0xc85*-0x1+-0x3*0xba8,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x2*-0x128c+0xb84+0x1994);}['postInit'](){const _0x7cce46=new Et(this,[{'semantic':He,'components':0x2,'type':Ee}]),_0x3429b4=new Float32Array([-(0x1*0x48e+-0x1410+-0x1*-0xf83),-(0xe90+-0x100+-0xd8f),-0x197b+0x1*0x87b+0x1101,-(-0xf6*0x15+0x9b*0x29+-0x4a4),-(-0x1c81+0x1d09*0x1+-0x9*0xf),-0x2245*-0x1+0x1*-0xeeb+0x7f*-0x27,0xd5a+0x529*-0x3+0x2a*0xd,0x7*0xf7+-0x1f4e+0x188e]);this['quadVertex'+'Buffer']=new os(this,_0x7cce46,-0x10ac+-0x3*-0x347+0x2d*0x27,{'data':_0x3429b4});}['destroy'](){var _0x16bc9f,_0x28deb1,_0x51e4f2;this['fire']('destroy'),(_0x16bc9f=this['quadVertex'+'Buffer'])==null||_0x16bc9f['destroy'](),this['quadVertex'+'Buffer']=null,(_0x28deb1=this['dynamicBuf'+'fers'])==null||_0x28deb1['destroy'](),this['dynamicBuf'+'fers']=null,(_0x51e4f2=this['gpuProfile'+'r'])==null||_0x51e4f2['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x11aab0){this['fire']('destroy:sh'+'ader',_0x11aab0);const _0x4dfea7=this['shaders']['indexOf'](_0x11aab0);_0x4dfea7!==-(0x15a8+-0x17f*-0x4+-0x1ba3)&&this['shaders']['splice'](_0x4dfea7,-0x26da+0xd2f+0x66b*0x4);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x18065d;this['contextLos'+'t']=!(-0x132+0xb95+-0xa63),this['backBuffer'+'Size']['set'](-(-0x1510+0x55c+-0xfb5*-0x1),-(0xfbe+0x1995+0xdc6*-0x3));for(const _0x35aa4d of this['textures'])_0x35aa4d['loseContex'+'t']();for(const _0x189725 of this['buffers'])_0x189725['loseContex'+'t']();for(const _0x283488 of this['targets'])_0x283488['loseContex'+'t']();(_0x18065d=this['gpuProfile'+'r'])==null||_0x18065d['loseContex'+'t']();}['restoreCon'+'text'](){var _0x54f89a,_0x65f263;this['contextLos'+'t']=!(0xcfd+-0x1bf2+0xef6),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x26aaa4 of this['buffers'])_0x26aaa4['unlock']();(_0x65f263=(_0x54f89a=this['gpuProfile'+'r'])==null?void(-0xe*-0x121+0x1da1*-0x1+0xdd3):_0x54f89a['restoreCon'+'text'])==null||_0x65f263['call'](_0x54f89a);}['toJSON'](_0x365f66){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0x1ac1+-0x1a47+-0x3d*0x2),this['shaderAsyn'+'cCompile']=!(0x1d*0x143+0xe2f*-0x1+-0x5*0x47b),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new _t(),this['depthState']=new as(),this['cullMode']=rn,this['vx']=this['vy']=this['vw']=this['vh']=0x928+-0x2*-0x442+-0x11ac,this['sx']=this['sy']=this['sw']=this['sh']=-0x3*0x1c2+0x1*-0x16+0x62*0xe,this['blendColor']=new Y(0x3af+-0xc01*-0x2+-0x1bb1,0x4*-0x5e1+0xb56*-0x1+-0x5cf*-0x6,-0x39c+-0x1583+0x6d*0x3b,0xa0*0x37+0x3d*0x67+-0x3aeb);}['setStencil'+'State'](_0x56aefb,_0x565746){v['assert'](!(-0x12cf+-0x12*-0x6+-0x1*-0x1264));}['setBlendSt'+'ate'](_0x42c4b7){v['assert'](!(0xf60+0x1b3d+0x1b*-0x194));}['setBlendCo'+'lor'](_0x4b4c2a,_0x2fb8bd,_0x36b2f4,_0x5f5a72){v['assert'](!(0x3*-0xb14+-0x25*0x41+-0x282*-0x11));}['setDepthSt'+'ate'](_0x18ce60){v['assert'](!(-0x1*0x37f+-0x1201+0x1581));}['setCullMod'+'e'](_0x5e2051){v['assert'](!(-0xa*0x3a7+0x75a*0x1+0x1d2d));}['setRenderT'+'arget'](_0x1a9a30){this['renderTarg'+'et']=_0x1a9a30;}['setIndexBu'+'ffer'](_0x2fe8c1){this['indexBuffe'+'r']=_0x2fe8c1;}['setVertexB'+'uffer'](_0x555eb7){_0x555eb7&&this['vertexBuff'+'ers']['push'](_0x555eb7);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x218d+-0x7*0x419+0xb2*-0x7;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x168fa7){if(_0x168fa7['initialize'+'d'])return;const _0x1cf0f3=ne();this['fire']('fbo:create',{'timestamp':_0x1cf0f3,'target':this}),_0x168fa7['init'](),this['targets']['add'](_0x168fa7),this['_renderTar'+'getCreatio'+'nTime']+=ne()-_0x1cf0f3;}['_isBrowser'+'Interface'](_0x3d6f23){return this['_isImageBr'+'owserInter'+'face'](_0x3d6f23)||this['_isImageCa'+'nvasInterf'+'ace'](_0x3d6f23)||this['_isImageVi'+'deoInterfa'+'ce'](_0x3d6f23);}['_isImageBr'+'owserInter'+'face'](_0x4ff89b){return typeof ImageBitmap<'u'&&_0x4ff89b instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x4ff89b instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x30e790){return typeof HTMLCanvasElement<'u'&&_0x30e790 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x1671af){return typeof HTMLVideoElement<'u'&&_0x1671af instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x4f3793,_0xbf4b26){const _0x19fb9f=Math['min'](this['_maxPixelR'+'atio'],ye['browser']?window['devicePixe'+'lRatio']:-0x38d*0x7+-0x103a+-0x6d9*-0x6),_0x46ed69=Math['floor'](_0x4f3793*_0x19fb9f),_0x5d4a6a=Math['floor'](_0xbf4b26*_0x19fb9f);(_0x46ed69!==this['canvas']['width']||_0x5d4a6a!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x46ed69,_0x5d4a6a);}['setResolut'+'ion'](_0x153d16,_0x1ff8f1){this['canvas']['width']=_0x153d16,this['canvas']['height']=_0x1ff8f1,this['fire'](nc['EVENT_RESI'+'ZE'],_0x153d16,_0x1ff8f1);}['updateClie'+'ntRect'](){if(ye['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x4a3ead=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x4a3ead['width'],this['clientRect']['height']=_0x4a3ead['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x7ce751){v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0xe7*-0x29+-0xe01+0xb*0x4a3);}set['maxPixelRa'+'tio'](_0x15e180){this['_maxPixelR'+'atio']=_0x15e180;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x2fbd96){}['endRenderP'+'ass'](_0x2132e1){}['startCompu'+'tePass'](_0x2adba7){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0x5*0x504+0x5fe+0x1316,this['renderVers'+'ion']++,v['call'](()=>{if(Xs['get'](tS)){const _0x16df86=this['textures']['slice']();_0x16df86['sort']((_0x24ff5a,_0x538854)=>_0x538854['gpuSize']-_0x24ff5a['gpuSize']),v['log']('Textures:\x20'+_0x16df86['length']);let _0x30dae4=-0xc95+-0x1bdc+-0x7*-0x5c7;_0x16df86['forEach']((_0x1725a0,_0x39343a)=>{const _0x1117ae=_0x1725a0['gpuSize'];_0x30dae4+=_0x1117ae,v['log'](_0x39343a+'.\x20'+_0x1725a0['name']+'\x20'+_0x1725a0['width']+'x'+_0x1725a0['height']+'\x20VRAM:\x20'+(_0x1117ae/(-0x5*0x267+0x1d04+-0xd01)/(-0x41*-0x97+-0x19f3+-0x864))['toFixed'](0x1013+0xd*0x1c1+-0x26de)+'\x20MB');}),v['log']('Total:\x20'+(_0x30dae4/(0x336*0x3+-0x997+-0x3f5*-0x1)/(0x9ce+-0x10*-0x161+0xf6*-0x1d))['toFixed'](-0x13*-0x127+0x14cb*0x1+-0x12*0x25f)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x7a2958,_0x3f9ca3='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x371bc3=[_a,Je,Ke],_0x542be2=!(0x58e+0xb+-0x599),_0x15dc7b=0x26*-0xac+-0x20*0xa6+0x11*0x2b9){for(let _0x1fd89e=-0x1c0*0xf+-0x1cb2*-0x1+-0x272;_0x1fd89e<_0x371bc3['length'];_0x1fd89e++){const _0x37bd9c=_0x371bc3[_0x1fd89e];switch(_0x37bd9c){case _a:{if(this['textureRG1'+'1B10Render'+'able'])return _0x37bd9c;break;}case Je:if(this['textureHal'+'fFloatRend'+'erable'])return _0x37bd9c;break;case Ke:if(this['isWebGPU']&&_0x15dc7b>0x2*0x9c7+0x1b81+-0x27a*0x13)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x542be2||this['textureFlo'+'atFilterab'+'le']))return _0x37bd9c;break;}}}};c(nc,'EVENT_RESI'+'ZE','resizecanv'+'as');let Fh=nc,Hv=0x1dec+0x16*0xe0+0x3*-0x1064;class pt{constructor(_0x577631={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x4c8b62,_0x26f68b,_0x4395a3,_0x5a3026,_0x2ba88a,_0x139f4d;v['assert'](!(_0x577631 instanceof Fh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x4e579e=((_0x4c8b62=_0x577631['colorBuffe'+'r'])==null?void(-0x1321+0x3*0x211+-0x14b*-0xa):_0x4c8b62['device'])??((_0x26f68b=_0x577631['colorBuffe'+'rs'])==null?void(-0xa91*0x3+-0x1a35+0x39e8):_0x26f68b[-0x73*-0xe+-0x24b8+0x1e6e]['device'])??((_0x4395a3=_0x577631['depthBuffe'+'r'])==null?void(-0x4*-0x61+-0x1*-0x155d+-0x16e1):_0x4395a3['device'])??_0x577631['graphicsDe'+'vice'];v['assert'](_0x4e579e,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x4e579e;const {maxSamples:_0x5b6ce9}=this['_device'];if(this['_samples']=Math['min'](_0x577631['samples']??0x1034+0x3*-0x376+-0x5d1,_0x5b6ce9),_0x4e579e['isWebGPU']&&(this['_samples']=this['_samples']>-0x25d7*0x1+-0xc04*-0x1+0x19d4?_0x5b6ce9:-0x19a5*0x1+-0x3f9+-0x1*-0x1d9f),this['_colorBuff'+'er']=_0x577631['colorBuffe'+'r'],_0x577631['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x577631['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x577631['depthBuffe'+'r'],this['_face']=_0x577631['face']??0x1*-0x156+-0x2509+-0xd1*-0x2f,this['_depthBuff'+'er']){const _0x34bdfb=this['_depthBuff'+'er']['_format'];_0x34bdfb===Ci||_0x34bdfb===la?(this['_depth']=!(-0xba3+0x1*0x246e+-0x18cb),this['_stencil']=!(0xad3+0x2*0x2e+-0xb2e)):_0x34bdfb===vc?(this['_depth']=!(0x2ef+0x1*-0x1790+0x14a1),this['_stencil']=!(0x1*-0x1306+0x12ca+0x3c)):_0x34bdfb===Ii&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>0x1*-0xd2a+0x1cbe+-0xf93*0x1?(this['_depth']=!(0xe99+0x26*-0xa+-0xd1d),this['_stencil']=!(0x268a*-0x1+0x141+0x637*0x6)):(v['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x1703+-0x1cc5+-0x1*-0x5c3),this['_stencil']=!(0x1391+-0x4e6+-0xeaa));}else this['_depth']=_0x577631['depth']??!(-0x7*0x4b2+-0xf7*0x10+0x304e),this['_stencil']=_0x577631['stencil']??!(0x22b2+-0x143a+-0xe77);_0x577631['colorBuffe'+'rs']&&(v['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x577631['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x577631['colorBuffe'+'rs'][0x237d+0x1161*-0x1+-0x121c])),this['autoResolv'+'e']=_0x577631['autoResolv'+'e']??!(0x1*0x1769+-0x3*-0xc15+-0x2e*0x14c),this['name']=_0x577631['name'],this['name']||(this['name']=(_0x5a3026=this['_colorBuff'+'er'])==null?void(0x17a*0x2+-0x382*0x1+0x47*0x2):_0x5a3026['name']),this['name']||(this['name']=(_0x2ba88a=this['_depthBuff'+'er'])==null?void(0x1*-0x779+-0x1*-0x1edd+-0x1764):_0x2ba88a['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x577631['flipY']??!(-0x5c*0x45+-0x4a6+0x1d73),this['_mipLevel']=_0x577631['mipLevel']??-0x177*-0x11+-0x25ae+-0x1*-0xcc7,this['_mipLevel']>-0x34+0xc*0x1b6+0x1*-0x1454&&this['_depth']&&(v['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x577631}),this['_mipLevel']=0x1e00+0x198a+-0x378a),this['_mipmaps']=_0x577631['mipLevel']===void(-0xe*-0x217+-0x1836+-0x50c),this['validateMr'+'t'](),this['impl']=_0x4e579e['createRend'+'erTargetIm'+'pl'](this),v['trace'](Yp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x139f4d=this['_colorBuff'+'ers'])!=null&&_0x139f4d['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){v['trace'](Yp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x23d9cd=this['_device'];_0x23d9cd&&(_0x23d9cd['targets']['delete'](this),_0x23d9cd['renderTarg'+'et']===this&&_0x23d9cd['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x1d79b1=this['_device'];_0x1d79b1&&this['impl']['destroy'](_0x1d79b1);}['destroyTex'+'tureBuffer'+'s'](){var _0x9cf7ca,_0x5d2f5b;(_0x9cf7ca=this['_depthBuff'+'er'])==null||_0x9cf7ca['destroy'](),this['_depthBuff'+'er']=null,(_0x5d2f5b=this['_colorBuff'+'ers'])==null||_0x5d2f5b['forEach'](_0x59024f=>{_0x59024f['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x278840,_0x114401){var _0x3514fb,_0x2a9e98;if(this['width']!==_0x278840||this['height']!==_0x114401){if(this['mipLevel']>0x22ea+-0x2245+-0xa5){v['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x22a14c=this['_device'];this['destroyFra'+'meBuffers'](),_0x22a14c['renderTarg'+'et']===this&&_0x22a14c['setRenderT'+'arget'](null),(_0x3514fb=this['_depthBuff'+'er'])==null||_0x3514fb['resize'](_0x278840,_0x114401),(_0x2a9e98=this['_colorBuff'+'ers'])==null||_0x2a9e98['forEach'](_0x39bd24=>{_0x39bd24['resize'](_0x278840,_0x114401);}),this['validateMr'+'t'](),this['impl']=_0x22a14c['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){v['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x36e4e4,height:_0x420b34,cubemap:_0x103c32,volume:_0x2e48e9}=this['_colorBuff'+'ers'][0x592+0x25ac+-0x29*0x10e];for(let _0x198855=0x21a*-0x1+-0x5c9+0x7e4;_0x198855<this['_colorBuff'+'ers']['length'];_0x198855++){const _0x16c763=this['_colorBuff'+'ers'][_0x198855];v['assert'](_0x16c763['width']===_0x36e4e4,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),v['assert'](_0x16c763['height']===_0x420b34,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),v['assert'](_0x16c763['cubemap']===_0x103c32,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),v['assert'](_0x16c763['volume']===_0x2e48e9,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x49f812=!(0x893+0x3*-0xd03+0x1e76),_0x17784b=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0x199c+0x1127+0x26*0x39&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x49f812?'[color]':'')+':'+(_0x17784b?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x49f812,_0x17784b),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x3c5f87,_0x467002,_0x21cf3e){if(!this['_device']){if(_0x3c5f87['_device'])this['_device']=_0x3c5f87['_device'];else return v['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0x825+0x1bb5*0x1+0x85*-0x45);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x3c5f87['name']+'->'+this['name']);const _0x5ac26a=this['_device']['copyRender'+'Target'](_0x3c5f87,this,_0x467002,_0x21cf3e);return G['popGpuMark'+'er'](this['_device']),_0x5ac26a;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x238c3d){var _0x4be79a;return(_0x4be79a=this['_colorBuff'+'ers'])==null?void(-0x1*0xc15+-0x813*0x4+0x2c61):_0x4be79a[_0x238c3d];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x146ed6,_0x362de0;let _0x2ef039=((_0x146ed6=this['_colorBuff'+'er'])==null?void(-0x1*0x1c9c+0x19ea+0x2b2):_0x146ed6['width'])||((_0x362de0=this['_depthBuff'+'er'])==null?void(-0xcef+0xbaf*-0x1+0x189e):_0x362de0['width'])||this['_device']['width'];return this['_mipLevel']>-0x20eb+0xee1+0x120a&&(_0x2ef039=Mi['calcLevelD'+'imension'](_0x2ef039,this['_mipLevel'])),_0x2ef039;}get['height'](){var _0x29f729,_0x4135c0;let _0x500aed=((_0x29f729=this['_colorBuff'+'er'])==null?void(0x83*0xe+0xd33*0x1+-0x145d):_0x29f729['height'])||((_0x4135c0=this['_depthBuff'+'er'])==null?void(0x837+-0x1*-0x7d5+-0x100c):_0x4135c0['height'])||this['_device']['height'];return this['_mipLevel']>-0xccb*-0x1+0x1b30+-0x27fb&&(_0x500aed=Mi['calcLevelD'+'imension'](_0x500aed,this['_mipLevel'])),_0x500aed;}['isColorBuf'+'ferSrgb'](_0x5a88e8=-0x22ce+0x269f+-0x3d1){if(this['device']['backBuffer']===this)return Mh(this['device']['backBuffer'+'Format']);const _0x3083b6=this['getColorBu'+'ffer'](_0x5a88e8);return _0x3083b6?Mh(_0x3083b6['format']):!(-0x11d9+-0x21*-0x20+0xdba);}}const $v={'equals'(_0x358d55,_0x181610){if(_0x358d55['length']!==_0x181610['length'])return!(-0x43b*0x5+-0xca*-0x10+0x888);for(let _0x2f24ce=-0x29*0xc+0x1eaa*0x1+-0xe5f*0x2;_0x2f24ce<_0x358d55['length'];_0x2f24ce++)if(_0x358d55[_0x2f24ce]!==_0x181610[_0x2f24ce])return!(-0x1441+0xfba+-0x28*-0x1d);return!(-0x141*-0x1e+-0x26c7+0x129);}};class Gc{constructor(){c(this,'_refCount',-0x7*0x272+-0x1e2f+0x2f4d);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class Wv extends Gc{constructor(_0x474226){super(),c(this,'object'),(this['object']=_0x474226,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x1afbe8=>{var _0x2184a8;(_0x2184a8=_0x1afbe8['object'])==null||_0x2184a8['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x5e08b4){const _0xb85ac6=this['cache']['get'](_0x5e08b4);return _0xb85ac6?(_0xb85ac6['incRefCoun'+'t'](),_0xb85ac6['object']):null;}['set'](_0x56f6b9,_0x3d1b5e){v['assert'](!this['cache']['has'](_0x56f6b9),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x56f6b9,'object':_0x3d1b5e}),this['cache']['set'](_0x56f6b9,new Wv(_0x3d1b5e));}['release'](_0x3073d3){var _0x5a904c;const _0x5b4a45=this['cache']['get'](_0x3073d3);_0x5b4a45?(_0x5b4a45['decRefCoun'+'t'](),_0x5b4a45['refCount']===-0x4*0x91d+-0x1da5*0x1+0x4219&&(this['cache']['delete'](_0x3073d3),(_0x5a904c=_0x5b4a45['object'])==null||_0x5a904c['destroy']())):v['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x3073d3});}}class Xv extends qv{['loseContex'+'t'](_0x4141fb){this['clear']();}}const jv=new Ot(),od=_0x397c69=>jv['get'](_0x397c69,()=>new Xv()),ot=[];ot[Ws]=-0x1fee+0x78*0x35+-0xf*-0x79,ot[or]=-0x1dd9+0x259b+-0x7c0,ot[Wt]=-0x3f5*-0x2+-0x68c+-0x15b*0x1,ot[xa]=-0x12b9+-0x1*0x20ea+-0x1*-0x33a7,ot[ln]=0x1*0x1f93+-0x26d3+0x741*0x1,ot[Zr]=-0x141c+0x1*0x2232+0x6a*-0x22,ot[Qr]=-0x1ff5+0x7cc+0x182c,ot[Jr]=-0x1c2b+-0x7*-0x20f+0xdc6,ot[ca]=0x4*-0x58c+-0x1438+0x2a69,ot[Lo]=0x2302+0xe4a+0x314a*-0x1,ot[Fo]=-0x6d*-0x1c+0x29*-0x7b+-0x7ca*-0x1,ot[Oo]=0x1191+-0x2*-0x745+-0x2017,ot[Rh]=0xaa6+0x1b82+-0x2620,ot[ko]=0x52*-0x4e+-0x1780+-0x2*-0x1844,ot[Sa]=-0x2621+-0x4fe+-0xa5*-0x43,ot[va]=0x183c+-0x1ece+-0x63*-0x11,ot[ba]=0x1*-0x24dd+-0x1a6+0x2685,ot[wa]=0x23d5+-0x6*0x5ad+-0x1c4,ot[Ta]=-0x5f7+0xcd*-0x18+0x1933;class gt{constructor(_0x3b47ff,_0x144c45,_0x4e8115=-0x116f*-0x2+-0x1b*0xb2+-0x1018){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x3b47ff,this['name']=_0x4e8115?_0x3b47ff+'[0]':_0x3b47ff,this['type']=_0x144c45,this['numCompone'+'nts']=ot[_0x144c45],v['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x144c45+'\x20used\x20for\x20'+_0x3b47ff),this['updateType']=_0x144c45,_0x4e8115>0x1b86+-0xb1*0x11+0x1*-0xfc5)switch(_0x144c45){case Ws:this['updateType']=Dc;break;case ln:this['updateType']=Aa;break;case va:this['updateType']=Oc;break;case ca:this['updateType']=kc;break;case or:this['updateType']=Lc;break;case Zr:this['updateType']=Ea;break;case ba:this['updateType']=Bc;break;case Lo:this['updateType']=Nc;break;case Wt:this['updateType']=Fc;break;case Qr:this['updateType']=Ca;break;case wa:this['updateType']=zc;break;case Fo:this['updateType']=Uc;break;case xa:this['updateType']=lp;break;case Jr:this['updateType']=Ih;break;case Ta:this['updateType']=hp;break;case Oo:this['updateType']=cp;break;case Sa:this['updateType']=Ny;break;default:v['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+dp[_0x144c45]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x3b47ff+'\x27.'),v['call'](()=>{this['invalid']=!(-0x87*0x3f+-0x1e1a+0x3f53);});break;}this['count']=_0x4e8115,v['assert'](!isNaN(_0x4e8115),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x3b47ff+'['+_0x4e8115+']'),v['call'](()=>{isNaN(_0x4e8115)&&(this['invalid']=!(-0x1d3*0x7+-0x1a91+0x6a*0x5f));});let _0x26f21b=this['numCompone'+'nts'];_0x4e8115&&(_0x26f21b=N['roundUp'](_0x26f21b,0x1a3e*0x1+-0xc31+0x1*-0xe09)),this['byteSize']=_0x26f21b*(0x482+0x5*0x67e+0x14*-0x1d9),_0x4e8115&&(this['byteSize']*=_0x4e8115),v['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x144c45+'\x20used\x20for\x20'+_0x3b47ff);}get['isArrayTyp'+'e'](){return this['count']>-0x23da+-0x1855+-0x899*-0x7;}['calculateO'+'ffset'](_0x48ea88){let _0x110f0d=this['byteSize']<=-0x12a5+0x1e2c+0x1b*-0x6d?this['byteSize']:-0x19db+-0x1680+0x306b;this['count']&&(_0x110f0d=0x1fa5+-0x7*0x89+0x1*-0x1bd6),_0x48ea88=N['roundUp'](_0x48ea88,_0x110f0d),this['offset']=_0x48ea88/(0xbb9*-0x3+0x54d+0x2d*0xaa);}}class Qy{constructor(_0x4adb61,_0x4d67c6){c(this,'byteSize',-0x1072+-0x1*0x2203+0x3275),c(this,'map',new Map()),(this['scope']=_0x4adb61['scope'],this['uniforms']=_0x4d67c6);let _0x11751e=-0xa95+-0x7e0+0x1275;for(let _0x59e148=-0x1*-0xd99+-0xf0d+0x174;_0x59e148<_0x4d67c6['length'];_0x59e148++){const _0x1515c2=_0x4d67c6[_0x59e148];_0x1515c2['calculateO'+'ffset'](_0x11751e),_0x11751e=_0x1515c2['offset']*(-0x170*-0x11+0x21b5+-0x3a21)+_0x1515c2['byteSize'],_0x1515c2['scopeId']=this['scope']['resolve'](_0x1515c2['name']),this['map']['set'](_0x1515c2['name'],_0x1515c2);}this['byteSize']=N['roundUp'](_0x11751e,0xbc9*0x1+0x2*0xaa5+0x139*-0x1b);}['get'](_0x3ea5c6){return this['map']['get'](_0x3ea5c6);}['getShaderD'+'eclaration'](_0x169c93,_0x1c8bbf){const _0xa9cd50=xv[_0x169c93];let _0x14a303='layout(set'+'\x20=\x20'+_0x169c93+(',\x20binding\x20'+'=\x20')+_0x1c8bbf+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0xa9cd50+'\x20{\x0a';return this['uniforms']['forEach'](_0x22ca05=>{const _0x1a4334=dp[_0x22ca05['type']];v['assert'](_0x1a4334['length']>0x1084+-0x1c27+-0x14b*-0x9,'Uniform\x20ty'+'pe\x20'+_0x22ca05['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x14a303+='\x20\x20\x20\x20'+_0x1a4334+'\x20'+_0x22ca05['shortName']+(_0x22ca05['count']?'['+_0x22ca05['count']+']':'')+';\x0a';}),_0x14a303+'};\x0a';}}const gr='Preprocess'+'or',fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ld=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Am=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,hd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,cd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,dd=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Em=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,ud=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,vs=class vs{static['run'](_0xdc822e,_0x4d88b5=new Map(),_0x55257b={}){vs['sourceName']=_0x55257b['sourceName'],_0xdc822e=this['stripComme'+'nts'](_0xdc822e),_0xdc822e=_0xdc822e['split'](/\r?\n/)['map'](_0x1b422e=>_0x1b422e['trimEnd']())['join']('\x0a');const _0x3405ec=new Map();if(_0x55257b['stripUnuse'+'dColorAtta'+'chments']){const _0x1a1459=new Map(),_0x212f25=/(pcFragColor[1-8])\b/g,_0x43519a=_0xdc822e['match'](_0x212f25);_0x43519a==null||_0x43519a['forEach'](_0x3c582b=>{const _0x5217d8=parseInt(_0x3c582b['charAt'](_0x3c582b['length']-(0x16a9+0x217c+0x1*-0x3824)),-0xe76+0x1c5a*0x1+-0x1*0xdda);_0x1a1459['set'](_0x5217d8,(_0x1a1459['get'](_0x5217d8)??0x2303+0x2389*0x1+-0x468c)+(-0x60e+-0x2201+0x2*0x1408));}),_0x1a1459['forEach']((_0x3f3eba,_0x1b7d88)=>{_0x3f3eba===0x9fe+-0x23b*0xd+0x1302&&_0x3405ec['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x1b7d88,'');});}_0xdc822e=this['_preproces'+'s'](_0xdc822e,_0x3405ec,_0x4d88b5,_0x55257b['stripDefin'+'es']);const _0x351814=new Map();_0x3405ec['forEach']((_0x2cb150,_0x42791a)=>{Number['isInteger'](parseFloat(_0x2cb150))&&!_0x2cb150['includes']('.')&&_0x351814['set'](_0x42791a,_0x2cb150);});const _0x512248=new Map();return _0x3405ec['forEach']((_0xe93e0a,_0x267bf7)=>{_0x267bf7['startsWith']('__INJECT_')&&_0x512248['set'](_0x267bf7,_0xe93e0a);}),_0xdc822e=this['stripComme'+'nts'](_0xdc822e),_0xdc822e=this['RemoveEmpt'+'yLines'](_0xdc822e),_0xdc822e=this['processArr'+'aySize'](_0xdc822e,_0x351814),_0xdc822e=this['injectDefi'+'nes'](_0xdc822e,_0x512248),_0xdc822e;}static['stripComme'+'nts'](_0x22c5a5){return _0x22c5a5['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x3fa66e,_0x426fd4){return _0x3fa66e!==null&&_0x426fd4['forEach']((_0x3223c3,_0x5500d3)=>{_0x3fa66e=_0x3fa66e['replace'](new RegExp('\x5c['+_0x5500d3+'\x5c]','g'),'['+_0x3223c3+']');}),_0x3fa66e;}static['injectDefi'+'nes'](_0x504592,_0x3f1075){if(_0x504592!==null&&_0x3f1075['size']>0xdee+0x14b9+-0x22a7){const _0x2fe786=_0x504592['split']('\x0a');_0x3f1075['forEach']((_0xec1d53,_0x1d05e1)=>{const _0x1f11da=new RegExp('\x5cb'+_0x1d05e1+'\x5cb','g');for(let _0x3b4a1a=0x25da+-0x4*0x853+-0x6a*0xb;_0x3b4a1a<_0x2fe786['length'];_0x3b4a1a++)_0x2fe786[_0x3b4a1a]['includes']('#')||(_0x2fe786[_0x3b4a1a]=_0x2fe786[_0x3b4a1a]['replace'](_0x1f11da,_0xec1d53));}),_0x504592=_0x2fe786['join']('\x0a');}return _0x504592;}static['RemoveEmpt'+'yLines'](_0x6cdd6e){return _0x6cdd6e!==null&&(_0x6cdd6e=_0x6cdd6e['split'](/\r?\n/)['map'](_0x3f31ec=>_0x3f31ec['trim']()===''?'':_0x3f31ec)['join']('\x0a'),_0x6cdd6e=_0x6cdd6e['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x6cdd6e;}static['_preproces'+'s'](_0x2a7cbb,_0x33b85f=new Map(),_0x5efc37,_0x310e2f){const _0x13b807=_0x2a7cbb,_0x2f8483=[];let _0x2661ed=!(-0x1dbf+0x2*-0xd2b+0x3816*0x1),_0x2eab89;for(;(_0x2eab89=fs['exec'](_0x2a7cbb))!==null;){const _0x378493=_0x2eab89[0x565+0x15e2+-0x1b46];switch(_0x378493){case'define':{ld['lastIndex']=_0x2eab89['index'];const _0x5ead14=ld['exec'](_0x2a7cbb);v['assert'](_0x5ead14,'Invalid\x20['+_0x378493+']:\x20'+_0x2a7cbb['substring'](_0x2eab89['index'],_0x2eab89['index']+(0x7*0x3ce+-0x1d5c+-0x72*-0x7))+'...'),_0x2661ed||(_0x2661ed=_0x5ead14===null);const _0x28ba5f=_0x5ead14[-0x844*-0x1+0x2*0xc56+-0x20ef];Em['lastIndex']=_0x5ead14['index'];const _0x47d1d8=Em['exec'](_0x28ba5f)[0x1*-0x227f+0x104c+0x1234];let _0x45a933=_0x28ba5f['substring'](_0x47d1d8['length'])['trim']();_0x45a933===''&&(_0x45a933='true');const _0x348df6=vs['_keep'](_0x2f8483);_0x348df6&&(_0x33b85f['set'](_0x47d1d8,_0x45a933),_0x310e2f&&(_0x2a7cbb=_0x2a7cbb['substring'](-0x2240+0x1633*0x1+-0x269*-0x5,_0x5ead14['index']-(0x311*-0x2+-0x6d4+0xcf7))+_0x2a7cbb['substring'](ld['lastIndex']),fs['lastIndex']=_0x5ead14['index']-(0x1a9b+-0x1c48+0x2*0xd7))),v['trace'](gr,_0x378493+':\x20['+_0x47d1d8+']\x20'+_0x45a933+'\x20'+(_0x348df6?'':'IGNORED')),_0x310e2f||(fs['lastIndex']=_0x5ead14['index']+_0x5ead14[0x1f9f+-0x1cc1+-0x2de]['length']);break;}case'undef':{hd['lastIndex']=_0x2eab89['index'];const _0x4d67f3=hd['exec'](_0x2a7cbb),_0x6b8941=_0x4d67f3[0x2*-0x137b+-0x1*-0x257c+-0x1*-0x17b]['trim'](),_0x446eb7=vs['_keep'](_0x2f8483);_0x446eb7&&(_0x33b85f['delete'](_0x6b8941),_0x310e2f&&(_0x2a7cbb=_0x2a7cbb['substring'](0x4*-0x8e0+0x1ab2+-0xe*-0xa1,_0x4d67f3['index']-(0xe64+-0x2519+-0x156*-0x11))+_0x2a7cbb['substring'](hd['lastIndex']),fs['lastIndex']=_0x4d67f3['index']-(-0x3*-0xa1+0xafd+0x5*-0x293))),v['trace'](gr,_0x378493+':\x20['+_0x6b8941+']\x20'+(_0x446eb7?'':'IGNORED')),_0x310e2f||(fs['lastIndex']=_0x4d67f3['index']+_0x4d67f3[0xe9*-0x13+-0x1d82+0x2ecd]['length']);break;}case'extension':{Am['lastIndex']=_0x2eab89['index'];const _0x9f397d=Am['exec'](_0x2a7cbb);if(v['assert'](_0x9f397d,'Invalid\x20['+_0x378493+']:\x20'+_0x2a7cbb['substring'](_0x2eab89['index'],_0x2eab89['index']+(0xa*-0x175+0x1d1d+-0xe27))+'...'),_0x2661ed||(_0x2661ed=_0x9f397d===null),_0x9f397d){const _0x176a4b=_0x9f397d[-0x2*0xac+-0x12eb+0x1444],_0x299aed=vs['_keep'](_0x2f8483);_0x299aed&&_0x33b85f['set'](_0x176a4b,'true'),v['trace'](gr,_0x378493+':\x20['+_0x176a4b+']\x20'+(_0x299aed?'':'IGNORED'));}fs['lastIndex']=_0x9f397d['index']+_0x9f397d[-0x843+0x169b+-0x1cb*0x8]['length'];break;}case'ifdef':case'ifndef':case'if':{cd['lastIndex']=_0x2eab89['index'];const _0x4ea02d=cd['exec'](_0x2a7cbb),_0x1a430d=_0x4ea02d[-0x1*0xc73+0x1cb2+-0x103d],_0x457fa5=vs['evaluate'](_0x1a430d,_0x33b85f);_0x2661ed||(_0x2661ed=_0x457fa5['error']);let _0x2a9c72=_0x457fa5['result'];_0x378493==='ifndef'&&(_0x2a9c72=!_0x2a9c72),_0x2f8483['push']({'anyKeep':_0x2a9c72,'keep':_0x2a9c72,'start':_0x2eab89['index'],'end':cd['lastIndex']}),v['trace'](gr,_0x378493+':\x20['+_0x1a430d+']\x20=>\x20'+_0x2a9c72),fs['lastIndex']=_0x4ea02d['index']+_0x4ea02d[0x1646+0xd1*0x10+-0x11ab*0x2]['length'];break;}case'endif':case'else':case'elif':{dd['lastIndex']=_0x2eab89['index'];const _0x54035d=dd['exec'](_0x2a7cbb),_0x2bd6f3=_0x2f8483['pop'](),_0x126dfb=_0x2bd6f3['keep']?_0x2a7cbb['substring'](_0x2bd6f3['end'],_0x2eab89['index']):'';v['trace'](gr,_0x378493+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x126dfb!=='')),_0x2a7cbb=_0x2a7cbb['substring'](0xc55+-0x1851+0xbfc,_0x2bd6f3['start'])+_0x126dfb+_0x2a7cbb['substring'](dd['lastIndex']),fs['lastIndex']=_0x2bd6f3['start']+_0x126dfb['length'];const _0x3b75f3=_0x54035d[-0x1*0x103f+0x26f8+-0x16b8];if(_0x3b75f3==='else'||_0x3b75f3==='elif'){let _0x1dbcd7=!(-0x24a5*-0x1+-0x26e*-0x7+-0x35a6);if(!_0x2bd6f3['anyKeep']){if(_0x3b75f3==='else')_0x1dbcd7=!_0x2bd6f3['keep'];else{const _0x2a02ff=vs['evaluate'](_0x54035d[0x192*-0xd+-0xa6e+0x1eda],_0x33b85f);_0x1dbcd7=_0x2a02ff['result'],_0x2661ed||(_0x2661ed=_0x2a02ff['error']);}}_0x2f8483['push']({'anyKeep':_0x2bd6f3['anyKeep']||_0x1dbcd7,'keep':_0x1dbcd7,'start':fs['lastIndex'],'end':fs['lastIndex']}),v['trace'](gr,_0x378493+':\x20['+_0x54035d[0x61*-0x1e+-0x2303+-0x5f*-0x7d]+']\x20=>\x20'+_0x1dbcd7);}break;}case'include':{ud['lastIndex']=_0x2eab89['index'];const _0xe0f4e2=ud['exec'](_0x2a7cbb);_0x2661ed||(_0x2661ed=_0xe0f4e2===null),v['assert'](_0xe0f4e2,'Invalid\x20['+_0x378493+']:\x20'+_0x2a7cbb['substring'](_0x2eab89['index'],_0x2eab89['index']+(0x197*-0xb+0x23b1+0x28*-0x72))+'...');const _0x3339b4=_0xe0f4e2[0x18d*-0x17+0x673*-0x1+0x2a1f]['trim'](),_0x5f1c16=vs['_keep'](_0x2f8483);if(_0x5f1c16){const _0x4f4862=_0x5efc37==null?void(0x55*0x1d+0x12f1+-0x1c92):_0x5efc37['get'](_0x3339b4);_0x4f4862!==void(-0x228f+0x10d2+0x11bd)?(_0x2a7cbb=_0x2a7cbb['substring'](0xe68+0x1f*0x3a+-0xd3*0x1a,_0xe0f4e2['index']-(0x3ef*-0x1+-0xaa9*0x1+0x25*0x65))+_0x4f4862+_0x2a7cbb['substring'](ud['lastIndex']),fs['lastIndex']=_0xe0f4e2['index']-(-0xf4b+-0x1*-0x19ab+-0xa5f)):(console['error']('Include\x20\x22'+_0x3339b4+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+vs['sourceName'],{'source':_0x13b807}),_0x2661ed=!(-0x2*0xaac+-0x112*-0xc+-0x88*-0x10));}v['trace'](gr,_0x378493+':\x20['+_0x3339b4+']\x20'+(_0x5f1c16?'':'IGNORED'));break;}}}return _0x2661ed?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x13b807}),_0x13b807):_0x2a7cbb;}static['_keep'](_0x294d3a){for(let _0x2a0809=-0x771*-0x1+-0xf*0x14b+-0x3fc*-0x3;_0x2a0809<_0x294d3a['length'];_0x2a0809++)if(!_0x294d3a[_0x2a0809]['keep'])return!(0x644*0x4+-0x108e+-0x881);return!(-0x91d*0x3+-0xe3*-0x21+-0x1ec);}static['evaluate'](_0x31b2f1,_0x5f14dd){const _0x1e894a=Zv['exec'](_0x31b2f1)===null;v['assert'](_0x1e894a,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x31b2f1);let _0x1bc3b3=!(-0x1013+-0x17be+0x2*0x13e9);const _0x4e44a6=Yv['exec'](_0x31b2f1);_0x4e44a6&&(_0x1bc3b3=_0x4e44a6[-0x715*0x1+0xe2*0x28+-0x1c3a*0x1]==='!',_0x31b2f1=_0x4e44a6[0x3*-0x585+0x52*-0xc+0x1469]);const _0x355649=Kv['exec'](_0x31b2f1);if(_0x355649){const _0xa8840f=_0x5f14dd['get'](_0x355649[0x1a59+-0xd55+-0xd03])??_0x355649[0x828+0x1903+0xb0e*-0x3],_0x51922d=_0x5f14dd['get'](_0x355649[-0x231b+0xb*0x61+-0x13*-0x1a1])??_0x355649[0x890+-0xca2+0x415],_0x7932c3=_0x355649[-0x135e*0x1+0x5*0x78d+-0x1261];let _0x5d8c48=!(-0x210e*0x1+-0xfa1+-0xa4*-0x4c);switch(_0x7932c3){case'==':_0x5d8c48=_0xa8840f===_0x51922d;break;case'!=':_0x5d8c48=_0xa8840f!==_0x51922d;break;case'<':_0x5d8c48=_0xa8840f<_0x51922d;break;case'<=':_0x5d8c48=_0xa8840f<=_0x51922d;break;case'>':_0x5d8c48=_0xa8840f>_0x51922d;break;case'>=':_0x5d8c48=_0xa8840f>=_0x51922d;break;}return{'result':_0x5d8c48,'error':!_0x1e894a};}_0x31b2f1=_0x31b2f1['trim']();let _0x3eb147=_0x5f14dd['has'](_0x31b2f1);return _0x1bc3b3&&(_0x3eb147=!_0x3eb147),{'result':_0x3eb147,'error':!_0x1e894a};}};c(vs,'sourceName');let Oh=vs;const Jy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),e0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',t0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Cm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':He,'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_texCoord2':jo,'vertex_texCoord3':Yo,'vertex_texCoord4':Ko,'vertex_texCoord5':Zo,'vertex_texCoord6':Qo,'vertex_texCoord7':Jo,'vertex_color':At,'vertex_boneIndices':qt,'vertex_boneWeights':Ys};class Mt{static['createDefi'+'nition'](_0x3da4cb,_0x4ef90d){v['assert'](_0x4ef90d),v['assert'](!_0x4ef90d['vertexDefi'+'nes']||_0x4ef90d['vertexDefi'+'nes']instanceof Map),v['assert'](!_0x4ef90d['vertexIncl'+'udes']||_0x4ef90d['vertexIncl'+'udes']instanceof Map),v['assert'](!_0x4ef90d['fragmentDe'+'fines']||_0x4ef90d['fragmentDe'+'fines']instanceof Map),v['assert'](!_0x4ef90d['fragmentIn'+'cludes']||_0x4ef90d['fragmentIn'+'cludes']instanceof Map);const _0x596a0f=(_0x30379f,_0x23a9e0,_0xbfb0b5,_0xe5f665)=>{const _0x389c97=_0x3da4cb['isWebGPU']?_0x30379f:_0x23a9e0;let _0x42f95b='';if(!_0xbfb0b5){let _0x3e61f5=_0xe5f665['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0x3e61f5)||(_0x3e61f5=[_0x3e61f5]);for(let _0x46a7bd=0x2*-0x569+-0x1c32+0x2704;_0x46a7bd<_0x3da4cb['maxColorAt'+'tachments'];_0x46a7bd++){_0x42f95b+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x46a7bd+'\x0a';const _0x4b2bd5=_0x3e61f5[_0x46a7bd]??'vec4';_0x42f95b+='#define\x20ou'+'tType_'+_0x46a7bd+'\x20'+_0x4b2bd5+'\x0a';}}return _0x42f95b+_0x389c97;},_0x54bef3=_0x4ef90d['name']??'Untitled';let _0xee4828,_0x1e849c;return _0x4ef90d['shaderLang'+'uage']===Ph?(_0xee4828=_0x4ef90d['vertexCode'],_0x1e849c=_0x4ef90d['fragmentCo'+'de']):(_0xee4828=Mt['versionCod'+'e'](_0x3da4cb)+_0x596a0f(s0,e0,!(0x149a+0x1*-0x1ab1+0x617),_0x4ef90d)+Mt['getDefines'+'Code'](_0x4ef90d['vertexDefi'+'nes'])+Mt['precisionC'+'ode'](_0x3da4cb)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x54bef3)+_0x4ef90d['vertexCode'],_0x1e849c=(_0x4ef90d['fragmentPr'+'eamble']||'')+Mt['versionCod'+'e'](_0x3da4cb)+_0x596a0f(t0,Jy,!(-0x535*0x2+-0x1bcb+0x2636),_0x4ef90d)+Mt['getDefines'+'Code'](_0x4ef90d['fragmentDe'+'fines'])+Mt['precisionC'+'ode'](_0x3da4cb)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x54bef3)+(_0x4ef90d['fragmentCo'+'de']||Mt['dummyFragm'+'entCode']())),{'name':_0x54bef3,'shaderLanguage':_0x4ef90d['shaderLang'+'uage']??ky,'attributes':_0x4ef90d['attributes'],'vshader':_0xee4828,'vincludes':_0x4ef90d['vertexIncl'+'udes'],'fincludes':_0x4ef90d['fragmentIn'+'cludes'],'fshader':_0x1e849c,'useTransformFeedback':_0x4ef90d['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x4ef90d['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x4ef90d['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x65a30a){let _0x2c619e='';return _0x65a30a==null||_0x65a30a['forEach']((_0x3334fc,_0x4b90be)=>{_0x2c619e+='#define\x20'+_0x4b90be+'\x20'+_0x3334fc+'\x0a';}),_0x2c619e;}static['getShaderN'+'ameCode'](_0x9b5ff7){return'#define\x20SH'+'ADER_NAME\x20'+_0x9b5ff7+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x1c93f0){return _0x1c93f0['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x81fe25,_0x115237){_0x115237&&_0x115237!=='highp'&&_0x115237!=='mediump'&&_0x115237!=='lowp'&&(_0x115237=null),_0x115237&&(_0x115237==='highp'&&_0x81fe25['maxPrecisi'+'on']!=='highp'&&(_0x115237='mediump'),_0x115237==='mediump'&&_0x81fe25['maxPrecisi'+'on']==='lowp'&&(_0x115237='lowp'));const _0x149419=_0x115237||_0x81fe25['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x149419+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x149419+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x149419+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x149419+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x149419+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x149419+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x149419+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x51ebf5){const _0x442067={};let _0x352bc7=0xbb0+0x245b+-0x300b,_0x537b30=_0x51ebf5['indexOf']('attribute');for(;_0x537b30>=-0x1eee+-0x19a4+0x3892&&!(_0x537b30>-0xa66+-0x1a05+-0x246b*-0x1&&_0x51ebf5[_0x537b30-(0x104f+-0xde8+-0x266)]==='/');){let _0x318d8b=!(0x24dd*0x1+0x8c1*0x1+-0x2d9d*0x1);if(_0x537b30>0x2*-0x98f+0x179e*0x1+-0x480){let _0x1d14c0=_0x51ebf5['lastIndexO'+'f']('\x0a',_0x537b30);_0x1d14c0=_0x1d14c0!==-(0x2*0x1127+-0x3*0x6b4+-0xe31)?_0x1d14c0+(-0x208a+-0x7*0x17b+-0x8*-0x55d):-0x137b*0x2+0x158d+0x1169,_0x51ebf5['substring'](_0x1d14c0,_0x537b30)['includes']('#')&&(_0x318d8b=!(0x779+-0x14dd+0xd64*0x1));}if(!_0x318d8b){const _0x3e9f69=_0x51ebf5['indexOf'](';',_0x537b30),_0xb9aa2e=_0x51ebf5['lastIndexO'+'f']('\x20',_0x3e9f69),_0x275ca6=_0x51ebf5['substring'](_0xb9aa2e+(-0x12f0+0x51*-0x6f+0xd84*0x4),_0x3e9f69);if(_0x442067[_0x275ca6])v['warn']('Attribute\x20'+'['+_0x275ca6+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x51ebf5});else{const _0x4962cf=Qv[_0x275ca6];_0x4962cf!==void(-0x173*-0x8+0x1*0x22c8+-0x2e60*0x1)?_0x442067[_0x275ca6]=_0x4962cf:(_0x442067[_0x275ca6]='ATTR'+_0x352bc7,_0x352bc7++);}}_0x537b30=_0x51ebf5['indexOf']('attribute',_0x537b30+(0x1d69+-0x679+0x67*-0x39));}return _0x442067;}}let Jv=0x125c+-0x11c3*-0x1+-0x241f;class i0{constructor(_0x3346ee,_0x585bfe){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x3346ee,this['definition']=_0x585bfe,this['name']=_0x585bfe['name']||'Untitled',this['init'](),_0x585bfe['cshader'])v['assert'](_0x3346ee['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),v['assert'](!_0x585bfe['vshader']&&!_0x585bfe['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{v['assert'](_0x585bfe['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),v['assert'](_0x585bfe['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x585bfe['vshader']=Oh['run'](_0x585bfe['vshader'],_0x585bfe['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x585bfe['shaderLang'+'uage']===ky&&(_0x585bfe['attributes']??(_0x585bfe['attributes']=Mt['collectAtt'+'ributes'](_0x585bfe['vshader'])));const _0x36b140=_0x3346ee['isWebGL2']&&(ye['name']==='osx'||ye['name']==='ios');_0x585bfe['fshader']=Oh['run'](_0x585bfe['fshader'],_0x585bfe['fincludes'],{'stripUnusedColorAttachments':_0x36b140,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x3346ee['createShad'+'erImpl'](this),v['trace'](Zp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(0x4cd*0x7+-0x1353+-0x55*0x2b),this['failed']=!(-0x3*-0x6b3+-0x2562+0x114a);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){v['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Te=[];Te[Ws]=function(_0xe150b0,_0x4bf885,_0x4088d4){const _0x1e5c04=_0xe150b0['storageFlo'+'at32'];_0x1e5c04[_0x4088d4]=_0x4bf885;},Te[or]=(_0x1f783e,_0x1d5679,_0x1d4e33)=>{const _0x388ff1=_0x1f783e['storageFlo'+'at32'];_0x388ff1[_0x1d4e33]=_0x1d5679[-0x1416*-0x1+0x2303+-0x3719],_0x388ff1[_0x1d4e33+(0x1*-0x12a5+-0x2*0x4f2+0x1c8a*0x1)]=_0x1d5679[-0x445+0x1f57+-0x1b11];},Te[Wt]=(_0x227cac,_0x3c88da,_0x4cd9ca)=>{const _0x1c8453=_0x227cac['storageFlo'+'at32'];_0x1c8453[_0x4cd9ca]=_0x3c88da[0x1223+0x9*0x6b+0x2*-0xaf3],_0x1c8453[_0x4cd9ca+(0x8e4*0x2+0x2298+-0x1*0x345f)]=_0x3c88da[-0x33b+0xf*0xec+-0x6*0x1c4],_0x1c8453[_0x4cd9ca+(-0x229*-0x7+-0x11ef+0x2d2)]=_0x3c88da[0x377*0x1+-0x10fd+0x1*0xd88];},Te[xa]=(_0xaea522,_0x5c1c15,_0x1b473e)=>{const _0x11a966=_0xaea522['storageFlo'+'at32'];_0x11a966[_0x1b473e]=_0x5c1c15[0x26*0x16+-0x68c*-0x1+-0x9d0],_0x11a966[_0x1b473e+(-0x13e7+-0x143b+0x19b*0x19)]=_0x5c1c15[0x22b4+0x37*0x64+-0x382f],_0x11a966[_0x1b473e+(0x1c11+0x1*-0x18b9+-0x356)]=_0x5c1c15[-0x12dd+-0x1664*0x1+-0x1f7*-0x15],_0x11a966[_0x1b473e+(-0x50f*-0x7+0x140b+-0x9*0x629)]=_0x5c1c15[-0x5*0x560+-0x7*-0x6f+-0x47*-0x56];},Te[ln]=function(_0x11232b,_0x5c54a1,_0xd9cf30){const _0x482eae=_0x11232b['storageInt'+'32'];_0x482eae[_0xd9cf30]=_0x5c54a1;},Te[Zr]=function(_0x43df2b,_0x552a2e,_0x57ffcd){const _0x1b2a43=_0x43df2b['storageInt'+'32'];_0x1b2a43[_0x57ffcd]=_0x552a2e[0x44d*0x6+-0xf16+0x1*-0xab8],_0x1b2a43[_0x57ffcd+(0xa9b+-0x29d+0x1*-0x7fd)]=_0x552a2e[0x655*-0x5+0x1*-0x1f5a+0x3f04];},Te[Qr]=function(_0x2d88a4,_0x2602b5,_0x972b59){const _0xc4cea5=_0x2d88a4['storageInt'+'32'];_0xc4cea5[_0x972b59]=_0x2602b5[0x21ee+0x965+-0x2b53],_0xc4cea5[_0x972b59+(-0x6c3+0x65*-0x19+0x81*0x21)]=_0x2602b5[0x6b*-0x13+-0x3*-0x8b4+-0x122a],_0xc4cea5[_0x972b59+(-0x112d+0x6*-0x1c3+-0x7*-0x3f7)]=_0x2602b5[0x3*-0x517+0x1*-0x270+0x1*0x11b7];},Te[Jr]=function(_0x459264,_0xb18612,_0x2f98af){const _0x3752a8=_0x459264['storageInt'+'32'];_0x3752a8[_0x2f98af]=_0xb18612[0x12*-0x20a+0x2400+0xb4],_0x3752a8[_0x2f98af+(-0x19b4+-0x23c5+-0x81*-0x7a)]=_0xb18612[-0x2ff*0x1+-0x1434+0x1734],_0x3752a8[_0x2f98af+(0x3*-0x156+0x68f+-0x3*0xd9)]=_0xb18612[-0x2518+-0x25f*-0x9+-0x1*-0xfc3],_0x3752a8[_0x2f98af+(-0x2*0x6c4+-0x158e+-0xf*-0x257)]=_0xb18612[-0x299*0x8+-0x147b*0x1+0x12*0x24b];},Te[Rh]=(_0x3096a4,_0x224ba5,_0x351d1a)=>{const _0x5f1a44=_0x3096a4['storageFlo'+'at32'];_0x5f1a44[_0x351d1a]=_0x224ba5[-0x23aa+-0x2029+-0x43d3*-0x1],_0x5f1a44[_0x351d1a+(0x1bdb*-0x1+0x35c+0x1880)]=_0x224ba5[0x2*0x807+-0x229+-0x2*0x6f2],_0x5f1a44[_0x351d1a+(0x11ef+-0x1e21+-0xc36*-0x1)]=_0x224ba5[0x243f*0x1+0x1f7b*0x1+0x18a*-0x2c],_0x5f1a44[_0x351d1a+(-0x4*-0x1cd+0x1b3*0x3+0x418*-0x3)]=_0x224ba5[-0x3*0x949+-0x78a*-0x3+0x540],_0x5f1a44[_0x351d1a+(-0x2100+-0x4d+0x2155*0x1)]=_0x224ba5[0x1903+0xe81+0x4f0*-0x8],_0x5f1a44[_0x351d1a+(-0x11fb+0x128e+-0x2*0x45)]=_0x224ba5[0x2259*-0x1+-0x203b+0x4299];},Te[ko]=(_0x31d42a,_0x2aab02,_0x1c3b7a)=>{const _0x20ddb6=_0x31d42a['storageFlo'+'at32'];_0x20ddb6[_0x1c3b7a]=_0x2aab02[0x215b*0x1+-0x133*-0x8+-0x2af3],_0x20ddb6[_0x1c3b7a+(0x11d4*-0x1+0xe9a+0x33b*0x1)]=_0x2aab02[-0x6fe+-0xfcd+-0x16cc*-0x1],_0x20ddb6[_0x1c3b7a+(0x1a1*-0x9+-0x1d99*0x1+-0x1622*-0x2)]=_0x2aab02[0x1c19+0x1*0x6fd+-0x2314],_0x20ddb6[_0x1c3b7a+(-0x66a+0x11c*-0xb+0x12a2)]=_0x2aab02[0x1*0x2275+0x63f+-0x28b1*0x1],_0x20ddb6[_0x1c3b7a+(0x2472+-0x2206+0xcd*-0x3)]=_0x2aab02[0x18c9+-0x1d*-0x7c+0x20b*-0x13],_0x20ddb6[_0x1c3b7a+(-0xa6c+-0x663*-0x4+0x2*-0x78d)]=_0x2aab02[-0x1*0x86d+-0x1b11+0x2383*0x1],_0x20ddb6[_0x1c3b7a+(-0x2374+0x1e6c+0x510)]=_0x2aab02[-0x1f11*0x1+-0x1*-0x1f0c+0xb],_0x20ddb6[_0x1c3b7a+(0x147a*0x1+0x4b8+-0x1929)]=_0x2aab02[-0x2256+0x11*-0x15f+0xe6b*0x4],_0x20ddb6[_0x1c3b7a+(0x189b*0x1+-0xee*-0x1a+-0x30bd)]=_0x2aab02[0x1*0x229f+0x3*-0x921+-0x734];},Te[Dc]=function(_0x45dba1,_0x32556f,_0x3a47df,_0x2332a5){const _0x4feadc=_0x45dba1['storageFlo'+'at32'];for(let _0x11ac0b=0x80d+-0x1b03+-0x3*-0x652;_0x11ac0b<_0x2332a5;_0x11ac0b++)_0x4feadc[_0x3a47df+_0x11ac0b*(-0x25f7*0x1+-0xc2e*0x3+0x18d7*0x3)]=_0x32556f[_0x11ac0b];},Te[Lc]=(_0x3ef88f,_0x24dfc4,_0x43e93b,_0x5b1772)=>{const _0x13386f=_0x3ef88f['storageFlo'+'at32'];for(let _0x1df845=0xa13*0x1+0x10fd+-0x1b10;_0x1df845<_0x5b1772;_0x1df845++)_0x13386f[_0x43e93b+_0x1df845*(-0x315+0x2593+0x227a*-0x1)]=_0x24dfc4[_0x1df845*(-0x1*0x22a9+0x204b+-0x4c*-0x8)],_0x13386f[_0x43e93b+_0x1df845*(-0x147*0xe+-0x35e*-0xa+-0x542*0x3)+(0x8*-0x2b0+-0x12ae+0x282f)]=_0x24dfc4[_0x1df845*(0x1a48+-0x2458*0x1+0xa12)+(-0x206*-0x7+0x1aca+-0x28f3)];},Te[Fc]=(_0x14d390,_0x5e0009,_0x5a3904,_0x2d27b8)=>{const _0x1809e3=_0x14d390['storageFlo'+'at32'];for(let _0xc2b03d=0x5*-0x611+0x3*-0xce1+0x227c*0x2;_0xc2b03d<_0x2d27b8;_0xc2b03d++)_0x1809e3[_0x5a3904+_0xc2b03d*(-0x233a+0x11a8+0x1196)]=_0x5e0009[_0xc2b03d*(-0x2263*-0x1+-0x227a+-0x2*-0xd)],_0x1809e3[_0x5a3904+_0xc2b03d*(-0xc3e*0x3+-0x1fc0+0x447e)+(0x1350+-0x8d7+-0xa78)]=_0x5e0009[_0xc2b03d*(0xb69*0x3+0x88f*-0x3+-0x88b)+(0x1a*-0x154+-0xc47+0x2ed0)],_0x1809e3[_0x5a3904+_0xc2b03d*(-0x3*0x5ef+0x21a1*0x1+0x8*-0x1fa)+(0xf97+0x1dd6+-0x2d6b)]=_0x5e0009[_0xc2b03d*(0x362+0x26b7+-0x2a16)+(0x2221+0x1198+-0x33b7)];},Te[va]=(_0x93a62d,_0xa309a3,_0x265447,_0x156640)=>{const _0x3a726e=_0x93a62d['storageUin'+'t32'];_0x3a726e[_0x265447]=_0xa309a3;},Te[ba]=(_0xc82e30,_0x289871,_0x5213ad,_0x3e9518)=>{const _0x4608b6=_0xc82e30['storageUin'+'t32'];_0x4608b6[_0x5213ad]=_0x289871[0x1f45+0xb*0x8f+-0x256a],_0x4608b6[_0x5213ad+(0x2513+-0x2192+-0x380)]=_0x289871[-0xd*-0x2df+0x21f8+-0x474a];},Te[wa]=(_0x49d51b,_0x2e918b,_0x530af3,_0x42d27e)=>{const _0x3f98a6=_0x49d51b['storageUin'+'t32'];_0x3f98a6[_0x530af3]=_0x2e918b[-0x26cc+-0x9*0x9b+0x2f*0xf1],_0x3f98a6[_0x530af3+(-0x3f*-0x4f+-0x37c*-0x4+-0x2160)]=_0x2e918b[0x144e+0x1ec9+0x198b*-0x2],_0x3f98a6[_0x530af3+(0x240e+0x1d13+0x15b5*-0x3)]=_0x2e918b[-0x1b2*-0x2+-0x2531+-0x21cf*-0x1];},Te[Ta]=(_0x4a01ae,_0x50b7a3,_0x4b7b28,_0xe44466)=>{const _0x127154=_0x4a01ae['storageUin'+'t32'];_0x127154[_0x4b7b28]=_0x50b7a3[0x90a+-0x10a2+0x798],_0x127154[_0x4b7b28+(0x1*0x1f05+-0x2126+0x222)]=_0x50b7a3[0x2d*0x9d+-0x1e6+-0x19b2],_0x127154[_0x4b7b28+(0x7e*-0x49+0x16*0xb+0x3*0xbaa)]=_0x50b7a3[-0x1a*-0x22+0x6*0x5a8+-0x1d*0x14a],_0x127154[_0x4b7b28+(-0x26c3+0x6*0x51+0x24e0)]=_0x50b7a3[-0x247a+0xb15*-0x3+0x45bc];},Te[Aa]=function(_0x496e6c,_0x50b1eb,_0x2733a2,_0x2877ac){const _0x4a1337=_0x496e6c['storageInt'+'32'];for(let _0x28d5b0=-0x144e+-0x12c5+0x2713;_0x28d5b0<_0x2877ac;_0x28d5b0++)_0x4a1337[_0x2733a2+_0x28d5b0*(-0x1*0x1136+-0xfe*-0x8+-0x52*-0x1d)]=_0x50b1eb[_0x28d5b0];},Te[kc]=Te[Aa],Te[Oc]=function(_0x589c07,_0x363053,_0x1d9546,_0x4f53b0){const _0x270086=_0x589c07['storageUin'+'t32'];for(let _0x3c10bf=-0x13e9+0x6c+0x137d;_0x3c10bf<_0x4f53b0;_0x3c10bf++)_0x270086[_0x1d9546+_0x3c10bf*(-0x3a*0x91+0x10c8+-0x47*-0x3a)]=_0x363053[_0x3c10bf];},Te[Ea]=(_0x40ba23,_0xab962b,_0x3ef36a,_0x36dd6f)=>{const _0x2e56a1=_0x40ba23['storageInt'+'32'];for(let _0x127823=0x31d+-0x1*0x159+-0x1c4;_0x127823<_0x36dd6f;_0x127823++)_0x2e56a1[_0x3ef36a+_0x127823*(0x9ef+-0x191*0x13+-0x13d8*-0x1)]=_0xab962b[_0x127823*(0xb15*0x1+-0x245d+0x194a)],_0x2e56a1[_0x3ef36a+_0x127823*(-0x1974+-0x2458+0x3dd0)+(0x149d*0x1+-0x47d*-0x3+-0x29f*0xd)]=_0xab962b[_0x127823*(0x1f9c+0x1939*-0x1+-0x661)+(0x1*-0x1829+0xeb4+0xe*0xad)];},Te[Nc]=Te[Ea],Te[Bc]=(_0x43d851,_0x5e7240,_0x1ace9f,_0x72d964)=>{const _0x52ad1c=_0x43d851['storageUin'+'t32'];for(let _0x259fbd=0x22aa*-0x1+-0x67c*-0x5+0x7*0x52;_0x259fbd<_0x72d964;_0x259fbd++)_0x52ad1c[_0x1ace9f+_0x259fbd*(0x2491+-0x2*0xcfb+-0x1*0xa97)]=_0x5e7240[_0x259fbd*(0x649*0x1+0x2*-0x50e+0x3d5)],_0x52ad1c[_0x1ace9f+_0x259fbd*(-0x443+-0x1c3d+0x2084*0x1)+(0x17cf+0x1283+-0x1*0x2a51)]=_0x5e7240[_0x259fbd*(0x1bde+0x1e4+-0x1dc0)+(-0x1*0x1996+-0x140b*0x1+-0x162*-0x21)];},Te[Ca]=(_0x13b64e,_0x39bf82,_0x424ed8,_0x32bca7)=>{const _0x263fd3=_0x13b64e['storageInt'+'32'];for(let _0x4867cb=-0x145*-0x5+-0xc8+-0x591;_0x4867cb<_0x32bca7;_0x4867cb++)_0x263fd3[_0x424ed8+_0x4867cb*(-0x2d6+-0x26c1+0x299b)]=_0x39bf82[_0x4867cb*(-0x54f*-0x1+0x8bf+-0x2cf*0x5)],_0x263fd3[_0x424ed8+_0x4867cb*(0x9*0x29e+0x208+-0x886*0x3)+(0x2b*-0xb5+0x71*-0x33+-0x1*-0x34eb)]=_0x39bf82[_0x4867cb*(0x1910+0x1*-0xcfb+-0xc12)+(0x187b+-0xc0f+-0xbb*0x11)],_0x263fd3[_0x424ed8+_0x4867cb*(0x919*0x3+-0x3*0x45a+0xb*-0x14b)+(-0xca0+0xa95+0x20d)]=_0x39bf82[_0x4867cb*(0x1877+0x1b22*0x1+-0x3396)+(-0x3f3+-0xc*-0xbf+-0x4ff)];},Te[Uc]=Te[Ca],Te[zc]=(_0x47d34d,_0x443007,_0x46c458,_0x74e542)=>{const _0x24b8ec=_0x47d34d['storageUin'+'t32'];for(let _0x8a604f=0xc+-0x1d96+0x1d8a;_0x8a604f<_0x74e542;_0x8a604f++)_0x24b8ec[_0x46c458+_0x8a604f*(-0x7*-0x566+0x82+0xf5*-0x28)]=_0x443007[_0x8a604f*(0x1eeb+0x1*-0x2271+0x389)],_0x24b8ec[_0x46c458+_0x8a604f*(-0x1e71+0x1af0+-0x385*-0x1)+(0xc41*-0x1+-0x625*-0x1+0x61d)]=_0x443007[_0x8a604f*(0x1*-0x883+-0x1e20+-0x1353*-0x2)+(0x21d3+0x121d*0x1+-0x33ef)],_0x24b8ec[_0x46c458+_0x8a604f*(0x3*-0x347+0x1b94+-0x11bb*0x1)+(0x10d9+0x3b0*0xa+-0x35b7*0x1)]=_0x443007[_0x8a604f*(-0x1*0x169c+0x1cf*0x4+0xf63)+(-0x268e+0x1201+0x115*0x13)];};class gp{constructor(_0x11281e,_0x487f64,_0x320247=!(0xc7f+0x1*-0xcec+0x6d)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',-0x26ea+-0x1*-0x1e2a+0x8c0);if(this['device']=_0x11281e,this['format']=_0x487f64,this['persistent']=_0x320247,v['assert'](_0x487f64),_0x320247){this['impl']=_0x11281e['createUnif'+'ormBufferI'+'mpl'](this);const _0x385848=new ArrayBuffer(_0x487f64['byteSize']);this['assignStor'+'age'](new Int32Array(_0x385848)),_0x11281e['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0xdec9a4=this['device'];this['impl']['destroy'](_0xdec9a4),_0xdec9a4['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0x891+0x3c5+0x4cc:this['allocation']['offset'];}['assignStor'+'age'](_0x3d2b81){this['storageInt'+'32']=_0x3d2b81,this['storageUin'+'t32']=new Uint32Array(_0x3d2b81['buffer'],_0x3d2b81['byteOffset'],_0x3d2b81['byteLength']/(-0x1ba6+0x94*-0x11+-0x2*-0x12bf)),this['storageFlo'+'at32']=new Float32Array(_0x3d2b81['buffer'],_0x3d2b81['byteOffset'],_0x3d2b81['byteLength']/(-0x26d9+0x1*0x24b6+0x227));}['loseContex'+'t'](){var _0x2837e4;(_0x2837e4=this['impl'])==null||_0x2837e4['loseContex'+'t']();}['setUniform'](_0x5ce172,_0xdb3813){v['assert'](_0x5ce172);const _0x4b0985=_0x5ce172['offset'];if(_0xdb3813!=null){const _0x1ae477=Te[_0x5ce172['updateType']];_0x1ae477?_0x1ae477(this,_0xdb3813,_0x4b0985,_0x5ce172['count']):this['storageFlo'+'at32']['set'](_0xdb3813,_0x4b0985);}else v['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x5ce172['name']+('],\x20expecte'+'d\x20type\x20')+dp[_0x5ce172['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0xc8d036,_0x5a65a5){const _0x450d95=this['format']['map']['get'](_0xc8d036);v['assert'](_0x450d95,'Uniform\x20na'+'me\x20['+_0xc8d036+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x450d95&&this['setUniform'](_0x450d95,_0x5a65a5);}['startUpdat'+'e'](_0x3f2ddf){if(!this['persistent']){const _0x4dd168=this['allocation'],_0x3a9ea0=_0x4dd168['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x4dd168,this['format']['byteSize']),this['assignStor'+'age'](_0x4dd168['storage']),_0x3f2ddf&&(_0x3f2ddf['bindGroup']=_0x4dd168['gpuBuffer']['getBindGro'+'up'](this),_0x3f2ddf['offsets'][-0x112*0x9+0x6ae+0x2f4]=_0x4dd168['offset']),_0x3a9ea0!==_0x4dd168['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x343851){this['startUpdat'+'e'](_0x343851);const _0x10105c=this['format']['uniforms'];for(let _0x45b998=0xe8*0x29+-0x56c*0x1+-0x1fbc*0x1;_0x45b998<_0x10105c['length'];_0x45b998++){const _0x494907=_0x10105c[_0x45b998]['scopeId']['value'];this['setUniform'](_0x10105c[_0x45b998],_0x494907);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(-0x1*-0x1f7+0x66*0x24+0x827*-0x2)),c(this,'_enableReq'+'uest',!(-0x1b94+-0x7f*-0x1d+0x6*0x233)),c(this,'_frameTime',0x1d72*-0x1+0x176d+-0x605*-0x1);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x3cccde){this['_enableReq'+'uest']=_0x3cccde;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=-0x1e8f*0x1+0x13d*0x2+-0xd*-0x229));}['request'](_0x5eeb4a){this['pastFrameA'+'llocations']['set'](_0x5eeb4a,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x5019b5,_0xdaa65b){if(_0xdaa65b){const _0x1c692f=this['pastFrameA'+'llocations']['get'](_0x5019b5);if(v['assert'](_0x1c692f['length']===_0xdaa65b['length']),_0xdaa65b['length']>-0xa85*0x1+-0x1*0x1622+0x20a7*0x1&&(this['_frameTime']=_0xdaa65b[0x2*0x12a4+0x4a3+-0x29eb]),Xs['get'](ml)){v['trace'](ml,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x5019b5+'\x20--');let _0x358b2d=-0x253b+0xa37*0x2+0x10cd;for(let _0xb0ed7b=-0x432+0x7bd+0x38b*-0x1;_0xb0ed7b<_0x1c692f['length'];++_0xb0ed7b){const _0x3e79ce=_0x1c692f[_0xb0ed7b];_0x358b2d+=_0xdaa65b[_0xb0ed7b],v['trace'](ml,_0xdaa65b[_0xb0ed7b]['toFixed'](-0x1442+0x3d6*0xa+-0x1218)+'\x20ms\x20'+_0x3e79ce);}v['trace'](ml,_0x358b2d['toFixed'](-0x1*-0x1391+-0x1*-0x1a5+-0x1534)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x5019b5);}['getSlot'](_0x47f104){const _0x4e72f1=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x47f104),_0x4e72f1;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class r0{constructor(){c(this,'bufferId',null);}['destroy'](_0x1adeb8){this['bufferId']&&(_0x1adeb8['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x10b3bc,_0x1333cc,_0x422d32,_0x563382){const _0x4b469c=_0x10b3bc['gl'];if(this['bufferId'])_0x4b469c['bindBuffer'](_0x422d32,this['bufferId']),_0x4b469c['bufferSubD'+'ata'](_0x422d32,-0xc*0x103+-0x46*-0x6a+-0x4d*0x38,_0x563382);else{let _0x345b13;switch(_0x1333cc){case jt:_0x345b13=_0x4b469c['STATIC_DRA'+'W'];break;case Th:_0x345b13=_0x4b469c['DYNAMIC_DR'+'AW'];break;case uy:_0x345b13=_0x4b469c['STREAM_DRA'+'W'];break;case PS:_0x345b13=_0x4b469c['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x4b469c['createBuff'+'er'](),_0x4b469c['bindBuffer'](_0x422d32,this['bufferId']),_0x4b469c['bufferData'](_0x422d32,_0x563382,_0x345b13);}}}class sb extends r0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x55709d){super['destroy'](_0x55709d),_0x55709d['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x2d55f1){const _0x493ad8=_0x2d55f1['device'];super['unlock'](_0x493ad8,_0x2d55f1['usage'],_0x493ad8['gl']['ARRAY_BUFF'+'ER'],_0x2d55f1['storage']);}}class ib extends r0{constructor(_0x21b638){super();const _0x3e2756=_0x21b638['device']['gl'],_0x421733=_0x21b638['format'];_0x421733===pu?this['glFormat']=_0x3e2756['UNSIGNED_B'+'YTE']:_0x421733===Pi?this['glFormat']=_0x3e2756['UNSIGNED_S'+'HORT']:_0x421733===nr&&(this['glFormat']=_0x3e2756['UNSIGNED_I'+'NT']);}['unlock'](_0x5b23ba){const _0x17806a=_0x5b23ba['device'];super['unlock'](_0x17806a,_0x5b23ba['usage'],_0x17806a['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x5b23ba['storage']);}}class Mm{constructor(_0x504b15,_0x2a5bf1,_0x36542a,_0x4e42b8){if(this['locationId']=_0x4e42b8,this['scopeId']=_0x504b15['scope']['resolve'](_0x2a5bf1),this['version']=new Ky(),_0x2a5bf1['substring'](_0x2a5bf1['length']-(0xa24+0xda*-0x1+-0x947))==='[0]')switch(_0x36542a){case Ws:_0x36542a=Dc;break;case ln:_0x36542a=Aa;break;case va:_0x36542a=Oc;break;case ca:_0x36542a=kc;break;case or:_0x36542a=Lc;break;case Zr:_0x36542a=Ea;break;case ba:_0x36542a=Bc;break;case Lo:_0x36542a=Nc;break;case Wt:_0x36542a=Fc;break;case Qr:_0x36542a=Ca;break;case wa:_0x36542a=zc;break;case Fo:_0x36542a=Uc;break;case xa:_0x36542a=lp;break;case Jr:_0x36542a=Ih;break;case Ta:_0x36542a=hp;break;case Oo:_0x36542a=cp;break;}this['dataType']=_0x36542a,this['value']=[null,null,null,null],this['array']=[];}}let Pm=-0x6fd*0x3+0x23a8+0xeb1*-0x1;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x1af59f){this['map']['forEach'](_0x2a9a2c=>{_0x1af59f['gl']['deleteShad'+'er'](_0x2a9a2c);});}['loseContex'+'t'](_0x22292c){this['map']['clear']();}}const ab=new Ot(),ob=new Ot();class lb{constructor(_0x3d4837){c(this,'compileDur'+'ation',-0x1740+0x2679+0x9*-0x1b1),(this['init'](),this['compile'](_0x3d4837['device'],_0x3d4837),this['link'](_0x3d4837['device'],_0x3d4837),_0x3d4837['device']['shaders']['push'](_0x3d4837));}['destroy'](_0x2e86d6){this['glProgram']&&(_0x2e86d6['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x51cbaa,_0x1920e7){this['compile'](_0x51cbaa,_0x1920e7),this['link'](_0x51cbaa,_0x1920e7);}['compile'](_0x399c2f,_0x4b6052){const _0x16f9c1=_0x4b6052['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x399c2f,_0x16f9c1['vshader'],!(0x2a5+0x20c*0x10+-0x2b9*0xd)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x399c2f,_0x16f9c1['fshader'],!(0xae8+0x2642+0x5*-0x9d5));}['link'](_0x2a6b88,_0x51573f){if(this['glProgram'])return;const _0x2b9bc9=_0x2a6b88['gl'];if(_0x2b9bc9['isContextL'+'ost']())return;let _0x1f32a4=0x1*0x2417+0x1*-0xdff+-0x1618;v['call'](()=>{this['compileDur'+'ation']=-0x61*-0x2f+-0x6*-0x3c3+-0x2861,_0x1f32a4=ne();});const _0x710fd3=_0x2b9bc9['createProg'+'ram']();this['glProgram']=_0x710fd3,_0x2b9bc9['attachShad'+'er'](_0x710fd3,this['glVertexSh'+'ader']),_0x2b9bc9['attachShad'+'er'](_0x710fd3,this['glFragment'+'Shader']);const _0x51040f=_0x51573f['definition'],_0x50b11b=_0x51040f['attributes'];if(_0x51040f['useTransfo'+'rmFeedback']){const _0x4763c1=[];for(const _0x3f194b in _0x50b11b)_0x50b11b['hasOwnProp'+'erty'](_0x3f194b)&&_0x4763c1['push']('out_'+_0x3f194b);_0x2b9bc9['transformF'+'eedbackVar'+'yings'](_0x710fd3,_0x4763c1,_0x2b9bc9['INTERLEAVE'+'D_ATTRIBS']);}const _0x509a50={};for(const _0x132a89 in _0x50b11b)if(_0x50b11b['hasOwnProp'+'erty'](_0x132a89)){const _0x2bb721=_0x50b11b[_0x132a89],_0x1bfd80=ve[_0x2bb721];v['assert'](!_0x509a50['hasOwnProp'+'erty'](_0x1bfd80),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x509a50[_0x1bfd80]+'\x20and\x20'+_0x132a89),_0x509a50[_0x1bfd80]=_0x132a89,_0x2b9bc9['bindAttrib'+'Location'](_0x710fd3,_0x1bfd80,_0x132a89);}_0x2b9bc9['linkProgra'+'m'](_0x710fd3),v['call'](()=>{this['compileDur'+'ation']=ne()-_0x1f32a4;}),_0x2a6b88['_shaderSta'+'ts']['linked']++,_0x51040f['tag']===Ly&&_0x2a6b88['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x3c44be,_0x4925c4,_0x155b68){const _0x7de785=_0x3c44be['gl'];if(_0x7de785['isContextL'+'ost']())return null;const _0x4bb37e=(_0x155b68?ab:ob)['get'](_0x3c44be,()=>new nb());let _0x60b5eb=_0x4bb37e['map']['get'](_0x4925c4);if(!_0x60b5eb){const _0x479c97=ne();_0x3c44be['fire']('shader:com'+'pile:start',{'timestamp':_0x479c97,'target':_0x3c44be}),_0x60b5eb=_0x7de785['createShad'+'er'](_0x155b68?_0x7de785['VERTEX_SHA'+'DER']:_0x7de785['FRAGMENT_S'+'HADER']),_0x7de785['shaderSour'+'ce'](_0x60b5eb,_0x4925c4),_0x7de785['compileSha'+'der'](_0x60b5eb),_0x4bb37e['map']['set'](_0x4925c4,_0x60b5eb);const _0x539a82=ne();_0x3c44be['fire']('shader:com'+'pile:end',{'timestamp':_0x539a82,'target':_0x3c44be}),_0x3c44be['_shaderSta'+'ts']['compileTim'+'e']+=_0x539a82-_0x479c97,_0x155b68?_0x3c44be['_shaderSta'+'ts']['vsCompiled']++:_0x3c44be['_shaderSta'+'ts']['fsCompiled']++;}return _0x60b5eb;}['finalize'](_0x2cd396,_0x2525a8){var _0x3eecbe,_0x1d6eee;const _0xa7175b=_0x2cd396['gl'];if(_0xa7175b['isContextL'+'ost']())return!(-0x23cf+0x1df*0x10+-0x5df*-0x1);const _0x3e93f7=this['glProgram'],_0x34b18f=_0x2525a8['definition'],_0x5d8888=ne();_0x2cd396['fire']('shader:lin'+'k:start',{'timestamp':_0x5d8888,'target':_0x2cd396});let _0x32f1aa=-0x153*0xb+0x9f7+0x49a;if(v['call'](()=>{_0x32f1aa=ne();}),!_0xa7175b['getProgram'+'Parameter'](_0x3e93f7,_0xa7175b['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x2cd396,_0x2525a8,this['glVertexSh'+'ader'],_0x34b18f['vshader'],'vertex')||!this['_isCompile'+'d'](_0x2cd396,_0x2525a8,this['glFragment'+'Shader'],_0x34b18f['fshader'],'fragment'))return!(0xc37+-0x2*-0x97+0x4*-0x359);const _0x173204='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0xa7175b['getProgram'+'InfoLog'](_0x3e93f7);return _0x34b18f['translated'+'Frag']=(_0x3eecbe=_0xa7175b['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x19b1+-0x1cee+0x4f*0xb1):_0x3eecbe['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x34b18f['translated'+'Vert']=(_0x1d6eee=_0xa7175b['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x50f+0x6bc*-0x4+0x15e1):_0x1d6eee['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x173204,_0x34b18f),console['error'](_0x173204),!(0x1e5*-0x12+-0x6f*-0xd+0x1c78);}const _0x2af1fc=_0xa7175b['getProgram'+'Parameter'](_0x3e93f7,_0xa7175b['ACTIVE_ATT'+'RIBUTES']);for(let _0x806e84=0xb21+0x6c+-0xb8d*0x1;_0x806e84<_0x2af1fc;_0x806e84++){const _0x362174=_0xa7175b['getActiveA'+'ttrib'](_0x3e93f7,_0x806e84),_0x1f4195=_0xa7175b['getAttribL'+'ocation'](_0x3e93f7,_0x362174['name']);if(!rb['has'](_0x362174['name'])){if(_0x34b18f['attributes'][_0x362174['name']]===void(0x1ba0+0x9+0x1ba9*-0x1))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x362174['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x2525a8['label']+']',_0x2525a8),_0x2525a8['failed']=!(-0xed3*0x2+0x26d0+-0x92a);else{const _0x53d5cf=new Mm(_0x2cd396,_0x34b18f['attributes'][_0x362174['name']],_0x2cd396['pcUniformT'+'ype'][_0x362174['type']],_0x1f4195);this['attributes']['push'](_0x53d5cf);}}}const _0x246d6a=_0x2cd396['_samplerTy'+'pes'],_0x1a5967=_0xa7175b['getProgram'+'Parameter'](_0x3e93f7,_0xa7175b['ACTIVE_UNI'+'FORMS']);for(let _0x2453db=-0x5*-0x3d+-0x713*0x5+-0xe*-0x271;_0x2453db<_0x1a5967;_0x2453db++){const _0x203616=_0xa7175b['getActiveU'+'niform'](_0x3e93f7,_0x2453db),_0x374ab1=_0xa7175b['getUniform'+'Location'](_0x3e93f7,_0x203616['name']),_0x259ec1=new Mm(_0x2cd396,_0x203616['name'],_0x2cd396['pcUniformT'+'ype'][_0x203616['type']],_0x374ab1);_0x246d6a['has'](_0x203616['type'])?this['samplers']['push'](_0x259ec1):this['uniforms']['push'](_0x259ec1);}_0x2525a8['ready']=!(-0x1166+-0x139*0x9+0x1c67);const _0x55a123=ne();return _0x2cd396['fire']('shader:lin'+'k:end',{'timestamp':_0x55a123,'target':_0x2cd396}),_0x2cd396['_shaderSta'+'ts']['compileTim'+'e']+=_0x55a123-_0x5d8888,v['call'](()=>{const _0xad1a53=ne()-_0x32f1aa;this['compileDur'+'ation']+=_0xad1a53,Pm+=this['compileDur'+'ation'],v['trace'](Yx,'[id:\x20'+_0x2525a8['id']+']\x20'+_0x2525a8['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x1*0xfb1+-0x2f*-0xc5+0x1*-0x1479)+('ms,\x20TOTAL:'+'\x20')+Pm['toFixed'](-0x2f*0x59+0x1186+-0x12e)+'ms');}),!(0x1694+0xb*-0x33f+0xd21*0x1);}['_isCompile'+'d'](_0x3e944c,_0x187207,_0x492353,_0x659426,_0x16a75f){const _0x5721ba=_0x3e944c['gl'];if(!_0x5721ba['getShaderP'+'arameter'](_0x492353,_0x5721ba['COMPILE_ST'+'ATUS'])){const _0x281fb9=_0x5721ba['getShaderI'+'nfoLog'](_0x492353),[_0x3140f7,_0x566133]=this['_processEr'+'ror'](_0x659426,_0x281fb9),_0x41d786='Failed\x20to\x20'+'compile\x20'+_0x16a75f+'\x20shader:\x0a\x0a'+_0x281fb9+'\x0a'+_0x3140f7+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x566133['shader']=_0x187207,console['error'](_0x41d786,_0x566133),console['error'](_0x41d786),!(-0x8eb+-0x127a+0x2*0xdb3);}return!(0x40*-0x5e+0x4ff+0x1281);}['isLinked'](_0xc9d252){const {extParallelShaderCompile:_0x14423d}=_0xc9d252;return _0x14423d?_0xc9d252['gl']['getProgram'+'Parameter'](this['glProgram'],_0x14423d['COMPLETION'+'_STATUS_KH'+'R']):!(0x1a2b+0x4e7+-0x29*0xc2);}['_processEr'+'ror'](_0x351fd3,_0x3235e7){const _0x4365d6={};let _0x57b545='';if(_0x351fd3){const _0x1b9527=_0x351fd3['split']('\x0a');let _0x48c1f1=0x1317+0x1*-0x1567+0x250,_0x19656e=_0x1b9527['length'];if(_0x3235e7&&_0x3235e7['startsWith']('ERROR:')){const _0xc3e2c4=_0x3235e7['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0xc3e2c4&&(_0x4365d6['message']=_0xc3e2c4[0x3f5*0x2+0x1*0xbd4+-0x13bb],_0x4365d6['line']=parseInt(_0xc3e2c4[0x1*0x1361+0x1*0x2185+-0x34e4],0x8*0x3a6+-0x1173+0xbb3*-0x1),_0x48c1f1=Math['max'](0x24fb*-0x1+-0x2323+0x481e,_0x4365d6['line']-(-0x1*-0x60c+0x23b7+-0x5*0x859)),_0x19656e=Math['min'](_0x1b9527['length'],_0x4365d6['line']+(-0x2*-0xaae+-0x17*0xa1+-0x6e0)));}for(let _0xc577ca=_0x48c1f1;_0xc577ca<_0x19656e;_0xc577ca++)_0x57b545+=_0xc577ca+(0xa8e*-0x2+0x1b0e+-0x5f1)+':\x09'+_0x1b9527[_0xc577ca]+'\x0a';_0x4365d6['source']=_0x351fd3;}return[_0x57b545,_0x4365d6];}}function Rm(_0x161d94,_0x5889e3){const _0x5c557c=_0x161d94['width'],_0x1d2288=_0x161d94['height'];if(_0x5c557c>_0x5889e3||_0x1d2288>_0x5889e3){const _0x55ae61=_0x5889e3/Math['max'](_0x5c557c,_0x1d2288),_0x3a1256=Math['floor'](_0x5c557c*_0x55ae61),_0x3f699f=Math['floor'](_0x1d2288*_0x55ae61);v['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x5889e3+('.\x20Resizing'+'\x20from\x20')+_0x5c557c+',\x20'+_0x1d2288+'\x20to\x20'+_0x3a1256+',\x20'+_0x3f699f+'.');const _0x18e07b=document['createElem'+'ent']('canvas');return _0x18e07b['width']=_0x3a1256,_0x18e07b['height']=_0x3f699f,_0x18e07b['getContext']('2d')['drawImage'](_0x161d94,-0x1ad7+0x915*-0x4+0x67*0x9d,0x13f8+-0x15d*-0x3+-0x180f,_0x5c557c,_0x1d2288,0x26d1+0x4*-0x8cb+0x137*-0x3,0xf77*0x1+-0x3*-0x323+-0x18e0,_0x3a1256,_0x3f699f),_0x18e07b;}return _0x161d94;}class hb{constructor(_0x186f99){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',0x16d3*-0x1+0x11c9+-0xa*-0x81),this['texture']=_0x186f99;}['destroy'](_0x5b88c2){if(this['_glTexture']){for(let _0x162f57=0x1e1c+0x1d0f+-0x3b2b;_0x162f57<_0x5b88c2['textureUni'+'ts']['length'];_0x162f57++){const _0xd9b0a7=_0x5b88c2['textureUni'+'ts'][_0x162f57];for(let _0x23b66c=-0x376+0x18f7+-0x1581;_0x23b66c<_0xd9b0a7['length'];_0x23b66c++)_0xd9b0a7[_0x23b66c]===this['_glTexture']&&(_0xd9b0a7[_0x23b66c]=null);}_0x5b88c2['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x957ee4){this['dirtyParam'+'eterFlags']|=_0x957ee4;}['initialize'](_0x527a62,_0x1bb8b9){const _0x4770ad=_0x527a62['gl'];switch(this['_glTexture']=_0x4770ad['createText'+'ure'](),this['_glTarget']=_0x1bb8b9['_cubemap']?_0x4770ad['TEXTURE_CU'+'BE_MAP']:_0x1bb8b9['_volume']?_0x4770ad['TEXTURE_3D']:_0x1bb8b9['array']?_0x4770ad['TEXTURE_2D'+'_ARRAY']:_0x4770ad['TEXTURE_2D'],_0x1bb8b9['_format']){case fy:this['_glFormat']=_0x4770ad['ALPHA'],this['_glInterna'+'lFormat']=_0x4770ad['ALPHA'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_B'+'YTE'];break;case py:this['_glFormat']=_0x4770ad['LUMINANCE'],this['_glInterna'+'lFormat']=_0x4770ad['LUMINANCE'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_B'+'YTE'];break;case Bf:this['_glFormat']=_0x4770ad['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x4770ad['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_B'+'YTE'];break;case sp:this['_glFormat']=_0x4770ad['RED'],this['_glInterna'+'lFormat']=_0x4770ad['R8'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x4770ad['RG'],this['_glInterna'+'lFormat']=_0x4770ad['RG8'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_B'+'YTE'];break;case _c:this['_glFormat']=_0x4770ad['RGB'],this['_glInterna'+'lFormat']=_0x4770ad['RGB'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_S'+'HORT_5_6_5'];break;case Nf:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x4770ad['RGBA'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case gc:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x4770ad['RGBA'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case dr:this['_glFormat']=_0x4770ad['RGB'],this['_glInterna'+'lFormat']=_0x4770ad['RGB8'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_B'+'YTE'];break;case Se:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x4770ad['RGBA8'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_B'+'YTE'];break;case yy:case by:v['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case yc:this['_glFormat']=_0x4770ad['RGB'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case zf:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case Wo:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case bc:this['_glFormat']=_0x4770ad['RGB'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case qo:this['_glFormat']=_0x4770ad['RGB'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Xo:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case wc:this['_glFormat']=_0x4770ad['RGB'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Tc:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case Vf:this['_glFormat']=_0x4770ad['RGB'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case Gf:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case my:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case _y:this['_glFormat']=_0x4770ad['RGB'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case gy:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case wy:this['_glFormat']=_0x4770ad['RGB'],this['_glInterna'+'lFormat']=_0x527a62['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ty:this['_glFormat']=_0x4770ad['RGB'],this['_glInterna'+'lFormat']=_0x527a62['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ay:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x527a62['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case mu:this['_glFormat']=_0x4770ad['SRGB'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case _u:this['_glFormat']=_0x4770ad['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case gu:this['_glFormat']=_0x4770ad['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case yu:this['_glFormat']=_0x4770ad['SRGB'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case xu:this['_glFormat']=_0x4770ad['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Su:this['_glFormat']=_0x4770ad['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x527a62['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case vu:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x527a62['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case Ec:this['_glFormat']=_0x4770ad['RED'],this['_glInterna'+'lFormat']=_0x4770ad['R16F'],this['_glPixelTy'+'pe']=_0x4770ad['HALF_FLOAT'];break;case tp:this['_glFormat']=_0x4770ad['RG'],this['_glInterna'+'lFormat']=_0x4770ad['RG16F'],this['_glPixelTy'+'pe']=_0x4770ad['HALF_FLOAT'];break;case xc:this['_glFormat']=_0x4770ad['RGB'],this['_glInterna'+'lFormat']=_0x4770ad['RGB16F'],this['_glPixelTy'+'pe']=_0x4770ad['HALF_FLOAT'];break;case Je:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x4770ad['RGBA16F'],this['_glPixelTy'+'pe']=_0x4770ad['HALF_FLOAT'];break;case Sc:this['_glFormat']=_0x4770ad['RGB'],this['_glInterna'+'lFormat']=_0x4770ad['RGB32F'],this['_glPixelTy'+'pe']=_0x4770ad['FLOAT'];break;case Ke:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x4770ad['RGBA32F'],this['_glPixelTy'+'pe']=_0x4770ad['FLOAT'];break;case Ii:this['_glFormat']=_0x4770ad['RED'],this['_glInterna'+'lFormat']=_0x4770ad['R32F'],this['_glPixelTy'+'pe']=_0x4770ad['FLOAT'];break;case Ci:this['_glFormat']=_0x4770ad['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x4770ad['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x4770ad['FLOAT'];break;case la:this['_glFormat']=_0x4770ad['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x4770ad['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_S'+'HORT'];break;case vc:this['_glFormat']=_0x4770ad['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x4770ad['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_I'+'NT_24_8'];break;case _a:this['_glFormat']=_0x4770ad['RGB'],this['_glInterna'+'lFormat']=_0x4770ad['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Uf:this['_glFormat']=_0x4770ad['RGB'],this['_glInterna'+'lFormat']=_0x4770ad['SRGB8'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_B'+'YTE'];break;case rs:this['_glFormat']=_0x4770ad['RGBA'],this['_glInterna'+'lFormat']=_0x4770ad['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_B'+'YTE'];break;case Hf:this['_glFormat']=_0x4770ad['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4770ad['R8I'],this['_glPixelTy'+'pe']=_0x4770ad['BYTE'];break;case xy:this['_glFormat']=_0x4770ad['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4770ad['R8UI'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_B'+'YTE'];break;case $f:this['_glFormat']=_0x4770ad['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4770ad['R16I'],this['_glPixelTy'+'pe']=_0x4770ad['SHORT'];break;case Wf:this['_glFormat']=_0x4770ad['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4770ad['R16UI'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_S'+'HORT'];break;case qf:this['_glFormat']=_0x4770ad['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4770ad['R32I'],this['_glPixelTy'+'pe']=_0x4770ad['INT'];break;case an:this['_glFormat']=_0x4770ad['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4770ad['R32UI'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_I'+'NT'];break;case Xf:this['_glFormat']=_0x4770ad['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4770ad['RG8I'],this['_glPixelTy'+'pe']=_0x4770ad['BYTE'];break;case Sy:this['_glFormat']=_0x4770ad['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4770ad['RG8UI'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0x4770ad['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4770ad['RG16I'],this['_glPixelTy'+'pe']=_0x4770ad['SHORT'];break;case Yf:this['_glFormat']=_0x4770ad['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4770ad['RG16UI'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0x4770ad['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4770ad['RG32I'],this['_glPixelTy'+'pe']=_0x4770ad['INT'];break;case Zf:this['_glFormat']=_0x4770ad['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4770ad['RG32UI'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_I'+'NT'];break;case Qf:this['_glFormat']=_0x4770ad['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4770ad['RGBA8I'],this['_glPixelTy'+'pe']=_0x4770ad['BYTE'];break;case vy:this['_glFormat']=_0x4770ad['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4770ad['RGBA8UI'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_B'+'YTE'];break;case Jf:this['_glFormat']=_0x4770ad['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4770ad['RGBA16I'],this['_glPixelTy'+'pe']=_0x4770ad['SHORT'];break;case Ac:this['_glFormat']=_0x4770ad['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4770ad['RGBA16UI'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0x4770ad['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4770ad['RGBA32I'],this['_glPixelTy'+'pe']=_0x4770ad['INT'];break;case ut:this['_glFormat']=_0x4770ad['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4770ad['RGBA32UI'],this['_glPixelTy'+'pe']=_0x4770ad['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x224*0xe+-0x1d*-0xa1+-0x3034);}['upload'](_0x1083d8,_0x2a3d08){v['assert'](_0x2a3d08['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x2a3d08);const _0x3912ad=_0x1083d8['gl'];if(!_0x2a3d08['_needsUplo'+'ad']&&(_0x2a3d08['_needsMipm'+'apsUpload']&&_0x2a3d08['_mipmapsUp'+'loaded']||!_0x2a3d08['pot']))return;let _0xa09fa4=0x757*-0x1+0x7b7*-0x1+0xf0e,_0x30bc9a,_0x55ce4c;const _0xeddef1=_0x2a3d08['numLevels'];for(_0x2a3d08['array']&&_0x3912ad['texStorage'+'3D'](_0x3912ad['TEXTURE_2D'+'_ARRAY'],_0xeddef1,this['_glInterna'+'lFormat'],_0x2a3d08['_width'],_0x2a3d08['_height'],_0x2a3d08['_arrayLeng'+'th']);_0x2a3d08['_levels'][_0xa09fa4]||_0xa09fa4===0x3b*-0xc+-0x29*-0x72+-0x295*0x6;){if(!_0x2a3d08['_needsUplo'+'ad']&&_0xa09fa4===-0xb*0x36d+-0x1*0x268f+0x1*0x4c3e){_0xa09fa4++;continue;}else{if(_0xa09fa4&&(!_0x2a3d08['_needsMipm'+'apsUpload']||!_0x2a3d08['_mipmaps']))break;}if(_0x30bc9a=_0x2a3d08['_levels'][_0xa09fa4],_0x55ce4c=(-0x2f2+0x53*0x7+-0x3a*-0x3)/Math['pow'](0x85f*0x1+-0x260d+0x1db0,_0xa09fa4),_0xa09fa4===0x35*0x98+0xb96*0x2+0x36a3*-0x1&&!_0x2a3d08['_compresse'+'d']&&!_0x2a3d08['_integerFo'+'rmat']&&_0x2a3d08['_levels']['length']<_0xeddef1&&(_0x3912ad['generateMi'+'pmap'](this['_glTarget']),_0x2a3d08['_mipmapsUp'+'loaded']=!(-0x2*-0xfb7+-0x2441*0x1+0x1*0x4d3)),_0x2a3d08['_cubemap']){let _0x49a2d2;if(_0x1083d8['_isBrowser'+'Interface'](_0x30bc9a[0x232c+-0xcd*0x1+-0x225f]))for(_0x49a2d2=0x20a7+0x727+-0x27ce;_0x49a2d2<0x1227+-0x1db4*-0x1+0x991*-0x5;_0x49a2d2++){if(!_0x2a3d08['_levelsUpd'+'ated'][-0x2*-0x1002+-0x5*0x4b5+-0x87b][_0x49a2d2])continue;let _0x2928a2=_0x30bc9a[_0x49a2d2];_0x1083d8['_isImageBr'+'owserInter'+'face'](_0x2928a2)&&(_0x2928a2['width']>_0x1083d8['maxCubeMap'+'Size']||_0x2928a2['height']>_0x1083d8['maxCubeMap'+'Size'])&&(_0x2928a2=Rm(_0x2928a2,_0x1083d8['maxCubeMap'+'Size']),_0xa09fa4===-0x2b*-0x5+-0x4cf+-0x2*-0x1fc&&(_0x2a3d08['_width']=_0x2928a2['width'],_0x2a3d08['_height']=_0x2928a2['height'])),_0x1083d8['setUnpackF'+'lipY'](!(-0x8b*-0x1d+-0x308*0x4+0x39e*-0x1)),_0x1083d8['setUnpackP'+'remultiply'+'Alpha'](_0x2a3d08['_premultip'+'lyAlpha']),this['_glCreated']?_0x3912ad['texSubImag'+'e2D'](_0x3912ad['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x49a2d2,_0xa09fa4,-0x1714+-0x200f+0xb07*0x5,0x1*-0x19da+-0x1f*-0x47+0x1141,this['_glFormat'],this['_glPixelTy'+'pe'],_0x2928a2):_0x3912ad['texImage2D'](_0x3912ad['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x49a2d2,_0xa09fa4,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x2928a2);}else for(_0x55ce4c=(-0x4f*-0x2b+-0x30c+-0x1*0xa38)/Math['pow'](0x1280+-0xeac+0x1e9*-0x2,_0xa09fa4),_0x49a2d2=-0x1a24+-0x1*-0x1b2e+-0x85*0x2;_0x49a2d2<-0x1d32+-0x669+0x23a1;_0x49a2d2++){if(!_0x2a3d08['_levelsUpd'+'ated'][0x2268+-0x1276+0x2*-0x7f9][_0x49a2d2])continue;const _0x4a82c0=_0x30bc9a[_0x49a2d2];_0x2a3d08['_compresse'+'d']?this['_glCreated']&&_0x4a82c0?_0x3912ad['compressed'+'TexSubImag'+'e2D'](_0x3912ad['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x49a2d2,_0xa09fa4,-0xdf9+-0x14e7*-0x1+0x377*-0x2,0x7*-0x2a5+0x18a*0x8+0x633,Math['max'](_0x2a3d08['_width']*_0x55ce4c,-0x1a6*0x1+-0x1bd*-0x10+-0x1a29),Math['max'](_0x2a3d08['_height']*_0x55ce4c,0x45*0x2d+0x1e6b+-0x2a8b),this['_glInterna'+'lFormat'],_0x4a82c0):_0x3912ad['compressed'+'TexImage2D'](_0x3912ad['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x49a2d2,_0xa09fa4,this['_glInterna'+'lFormat'],Math['max'](_0x2a3d08['_width']*_0x55ce4c,-0x1a8d+-0x1093+0x2b21),Math['max'](_0x2a3d08['_height']*_0x55ce4c,-0x13*0xc3+-0x8d4+0x1*0x174e),-0x36e+-0x20ca+-0x3d*-0x98,_0x4a82c0):(_0x1083d8['setUnpackF'+'lipY'](!(-0x1a*0x115+0x26b*0x2+0x174d)),_0x1083d8['setUnpackP'+'remultiply'+'Alpha'](_0x2a3d08['_premultip'+'lyAlpha']),this['_glCreated']&&_0x4a82c0?_0x3912ad['texSubImag'+'e2D'](_0x3912ad['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x49a2d2,_0xa09fa4,-0x1*0x26fd+-0xe*0x2c8+-0x1*-0x4ded,0x9d4+0x2189*0x1+-0x28d*0x11,Math['max'](_0x2a3d08['_width']*_0x55ce4c,0x547+-0x783+-0x23d*-0x1),Math['max'](_0x2a3d08['_height']*_0x55ce4c,0x987+-0x176d+0xde7),this['_glFormat'],this['_glPixelTy'+'pe'],_0x4a82c0):_0x3912ad['texImage2D'](_0x3912ad['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x49a2d2,_0xa09fa4,this['_glInterna'+'lFormat'],Math['max'](_0x2a3d08['_width']*_0x55ce4c,0x17f9+-0x189d+0xa5),Math['max'](_0x2a3d08['_height']*_0x55ce4c,-0x56*0x59+-0x2368+0x15c5*0x3),-0x1637+0xdfb+0x83c,this['_glFormat'],this['_glPixelTy'+'pe'],_0x4a82c0));}}else{if(_0x2a3d08['_volume'])_0x2a3d08['_compresse'+'d']?_0x3912ad['compressed'+'TexImage3D'](_0x3912ad['TEXTURE_3D'],_0xa09fa4,this['_glInterna'+'lFormat'],Math['max'](_0x2a3d08['_width']*_0x55ce4c,0x949+-0xc1a+0x2*0x169),Math['max'](_0x2a3d08['_height']*_0x55ce4c,-0xf75+-0x4*0x5c6+0x268e),Math['max'](_0x2a3d08['_depth']*_0x55ce4c,0x1*0x81e+0x193*0x13+-0x2606),-0x1*-0xd2f+0x1*0x13a2+-0x20d1*0x1,_0x30bc9a):(_0x1083d8['setUnpackF'+'lipY'](!(-0x1a2+-0x9fc+-0xb9f*-0x1)),_0x1083d8['setUnpackP'+'remultiply'+'Alpha'](_0x2a3d08['_premultip'+'lyAlpha']),_0x3912ad['texImage3D'](_0x3912ad['TEXTURE_3D'],_0xa09fa4,this['_glInterna'+'lFormat'],Math['max'](_0x2a3d08['_width']*_0x55ce4c,0x1b2c+-0x3*0xa3+-0x1942),Math['max'](_0x2a3d08['_height']*_0x55ce4c,-0x961+-0x604+0xf66),Math['max'](_0x2a3d08['_depth']*_0x55ce4c,0x1a6*-0x11+-0xb2d+0xd*0x304),0x6f3*0x3+-0x7f8+-0xce1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x30bc9a));else{if(_0x2a3d08['array']&&typeof _0x30bc9a=='object'){if(_0x2a3d08['_arrayLeng'+'th']===_0x30bc9a['length']){if(_0x2a3d08['_compresse'+'d']){for(let _0x40d4d8=-0x1a7d*0x1+0x1*-0x1e69+-0x1c73*-0x2;_0x40d4d8<_0x2a3d08['_arrayLeng'+'th'];_0x40d4d8++)_0x3912ad['compressed'+'TexSubImag'+'e3D'](_0x3912ad['TEXTURE_2D'+'_ARRAY'],_0xa09fa4,0x3a*-0x43+-0x170*0x6+-0xb*-0x22a,-0x2*-0x2c+0x1*0x15cb+-0x1623,_0x40d4d8,Math['max'](Math['floor'](_0x2a3d08['_width']*_0x55ce4c),-0x9*-0x327+0x1d5*-0x11+0x2c7),Math['max'](Math['floor'](_0x2a3d08['_height']*_0x55ce4c),0x1*0x7e3+-0xb*-0x3d+-0xa81),-0x15*-0x4f+0xfb4+-0x162e,this['_glInterna'+'lFormat'],_0x30bc9a[_0x40d4d8]);}else{for(let _0x554f08=-0x2*-0x1300+0x1456+-0x1*0x3a56;_0x554f08<_0x2a3d08['_arrayLeng'+'th'];_0x554f08++)_0x3912ad['texSubImag'+'e3D'](_0x3912ad['TEXTURE_2D'+'_ARRAY'],_0xa09fa4,0x6*0x1a+0xc2c+-0x664*0x2,0x3*-0xb11+0x11ea*-0x1+0x331d,_0x554f08,Math['max'](Math['floor'](_0x2a3d08['_width']*_0x55ce4c),-0xb16+-0x267d+0x3194),Math['max'](Math['floor'](_0x2a3d08['_height']*_0x55ce4c),-0xd*0x1e5+0x5c+0x1846),-0x26fe+0x6f8+0x2007,this['_glFormat'],this['_glPixelTy'+'pe'],_0x30bc9a[_0x554f08]);}}}else{if(_0x1083d8['_isBrowser'+'Interface'](_0x30bc9a)){_0x1083d8['_isImageBr'+'owserInter'+'face'](_0x30bc9a)&&(_0x30bc9a['width']>_0x1083d8['maxTexture'+'Size']||_0x30bc9a['height']>_0x1083d8['maxTexture'+'Size'])&&(_0x30bc9a=Rm(_0x30bc9a,_0x1083d8['maxTexture'+'Size']),_0xa09fa4===-0x910+0x7*0x4e8+-0x1948&&(_0x2a3d08['_width']=_0x30bc9a['width'],_0x2a3d08['_height']=_0x30bc9a['height']));const _0x23ea31=_0x30bc9a['width']||_0x30bc9a['videoWidth'],_0x35f987=_0x30bc9a['height']||_0x30bc9a['videoHeigh'+'t'];_0x1083d8['setUnpackF'+'lipY'](_0x2a3d08['_flipY']),_0x1083d8['setUnpackP'+'remultiply'+'Alpha'](_0x2a3d08['_premultip'+'lyAlpha']),this['_glCreated']&&_0x2a3d08['_width']===_0x23ea31&&_0x2a3d08['_height']===_0x35f987&&!_0x1083d8['_isImageVi'+'deoInterfa'+'ce'](_0x30bc9a)?_0x3912ad['texSubImag'+'e2D'](_0x3912ad['TEXTURE_2D'],_0xa09fa4,-0x2*-0x1235+-0x4*0x43f+-0x136e,0x1*0x59+-0x26f5+0x269c,this['_glFormat'],this['_glPixelTy'+'pe'],_0x30bc9a):(_0x3912ad['texImage2D'](_0x3912ad['TEXTURE_2D'],_0xa09fa4,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x30bc9a),_0xa09fa4===0x1*0x1ee8+-0x2205*-0x1+-0x40ed&&(_0x2a3d08['_width']=_0x23ea31,_0x2a3d08['_height']=_0x35f987));}else _0x55ce4c=(-0x158b+-0x1*-0xa08+0xb84)/Math['pow'](0x5d7*-0x3+-0x26b1*0x1+-0x1c*-0x202,_0xa09fa4),_0x2a3d08['_compresse'+'d']?this['_glCreated']&&_0x30bc9a?_0x3912ad['compressed'+'TexSubImag'+'e2D'](_0x3912ad['TEXTURE_2D'],_0xa09fa4,-0x20b*-0x12+0x2703+-0x57*0xdf,-0x225a+-0x15ab*0x1+0x3805,Math['max'](Math['floor'](_0x2a3d08['_width']*_0x55ce4c),-0xd0f*0x1+-0x17a6+0x1*0x24b6),Math['max'](Math['floor'](_0x2a3d08['_height']*_0x55ce4c),-0x1b7a+0x718+-0x1463*-0x1),this['_glInterna'+'lFormat'],_0x30bc9a):_0x3912ad['compressed'+'TexImage2D'](_0x3912ad['TEXTURE_2D'],_0xa09fa4,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x2a3d08['_width']*_0x55ce4c),0x6bc+-0x384*0x5+0xad9*0x1),Math['max'](Math['floor'](_0x2a3d08['_height']*_0x55ce4c),-0x1*0x24f7+-0x1089*0x2+-0x5*-0xe02),0x13c2*0x1+-0xd4f*0x1+-0x673,_0x30bc9a):(_0x1083d8['setUnpackF'+'lipY'](!(-0x1*-0x21a4+-0x20d9*0x1+-0x1*0xca)),_0x1083d8['setUnpackP'+'remultiply'+'Alpha'](_0x2a3d08['_premultip'+'lyAlpha']),this['_glCreated']&&_0x30bc9a?_0x3912ad['texSubImag'+'e2D'](_0x3912ad['TEXTURE_2D'],_0xa09fa4,0xde4+-0x1a6c+-0xc88*-0x1,-0x1*-0x1ce1+0x1*-0x1eb1+0x1d0,Math['max'](_0x2a3d08['_width']*_0x55ce4c,0x109c+0x163*-0xd+0x16c),Math['max'](_0x2a3d08['_height']*_0x55ce4c,-0x3b*-0x13+0x4ef*0x3+-0x132d),this['_glFormat'],this['_glPixelTy'+'pe'],_0x30bc9a):_0x3912ad['texImage2D'](_0x3912ad['TEXTURE_2D'],_0xa09fa4,this['_glInterna'+'lFormat'],Math['max'](_0x2a3d08['_width']*_0x55ce4c,-0x3d*0x9+-0x26bf+-0x1d*-0x169),Math['max'](_0x2a3d08['_height']*_0x55ce4c,-0x53e+-0x875*-0x2+-0xbab),0xe*-0xa4+0x16ff+-0xe07,this['_glFormat'],this['_glPixelTy'+'pe'],_0x30bc9a));_0xa09fa4===0x43b+-0x213d+0x1d02?_0x2a3d08['_mipmapsUp'+'loaded']=!(0x752+0x4*0x9e+-0x9c9):_0x2a3d08['_mipmapsUp'+'loaded']=!(0x1*-0x769+-0x2170+0x28d9);}}}_0xa09fa4++;}if(_0x2a3d08['_needsUplo'+'ad']){if(_0x2a3d08['_cubemap']){for(let _0x369ceb=-0x1619*0x1+-0x1661*0x1+-0x2c7a*-0x1;_0x369ceb<-0x11e*-0x12+0x1230*-0x1+-0x2*0xf3;_0x369ceb++)_0x2a3d08['_levelsUpd'+'ated'][0x19b1+0x19b5*0x1+-0x3366][_0x369ceb]=!(-0x23ec*0x1+0x1*-0x6f+-0xd*-0x2cc);}else _0x2a3d08['_levelsUpd'+'ated'][0x2*-0x7c2+-0x1634*0x1+0x25b8]=!(0x1564+-0x21bf+0x7*0x1c4);}!_0x2a3d08['_compresse'+'d']&&!_0x2a3d08['_integerFo'+'rmat']&&_0x2a3d08['_mipmaps']&&_0x2a3d08['_needsMipm'+'apsUpload']&&_0x2a3d08['_levels']['length']===-0xb9*-0x6+0x26db+-0x2b30&&(_0x3912ad['generateMi'+'pmap'](this['_glTarget']),_0x2a3d08['_mipmapsUp'+'loaded']=!(0x635+-0xd53+0x71e)),_0x2a3d08['_gpuSize']&&_0x2a3d08['adjustVram'+'SizeTracki'+'ng'](_0x1083d8['_vram'],-_0x2a3d08['_gpuSize']),_0x2a3d08['_gpuSize']=_0x2a3d08['gpuSize'],_0x2a3d08['adjustVram'+'SizeTracki'+'ng'](_0x1083d8['_vram'],_0x2a3d08['_gpuSize']),this['_glCreated']=!(-0x2f*-0xa6+-0x4*-0x34c+0x1e6*-0x17);}['read'](_0x5e4517,_0x556e9e,_0x3b7a6d,_0x37e085,_0x1db47f){const _0x3c050e=this['texture'];return _0x3c050e['device']['readTextur'+'eAsync'](_0x3c050e,_0x5e4517,_0x556e9e,_0x3b7a6d,_0x37e085,_0x1db47f);}}class cb{constructor(_0x1b27c6,_0x46762f){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x1b27c6,this['resolveFB']=_0x46762f);}['destroy'](_0x307b4f){this['msaaFB']&&(_0x307b4f['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x307b4f['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(-0x14c0+-0xc67+0x2128));}['destroy'](_0xdfc457){var _0x163ca5;const _0x2551d0=_0xdfc457['gl'];this['_isInitial'+'ized']=!(0x74*0x40+0x4ed*-0x3+-0xe38),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x2551d0['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x2551d0['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x2551d0['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x27a3bf=>{_0x2551d0['deleteRend'+'erbuffer'](_0x27a3bf);}),this['_glMsaaCol'+'orBuffers']['length']=0x1*-0x11c7+0x16ec+-0x1b7*0x3,(_0x163ca5=this['colorMrtFr'+'amebuffers'])==null||_0x163ca5['forEach'](_0x29c45d=>{_0x29c45d['destroy'](_0x2551d0);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&od(_0xdfc457)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x1*-0x6dd+0x7a9*-0x3+-0x101e*-0x1);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x481ecf,_0x18f5cb){var _0x3f2383,_0x28c98b;const _0x560470=_0x481ecf['gl'];v['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x9*-0x278+0x137d*-0x1+-0x2bb);const _0x344d75=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x92b*-0x4+0x55+0x1*0x2457))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{v['call'](()=>{(_0x18f5cb['width']<=0x1*0xfa5+0x2648+-0xac9*0x5||_0x18f5cb['height']<=0x1aa+-0x6f8+0x54e)&&v['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x18f5cb['width']+'\x20x\x20'+_0x18f5cb['height'],_0x18f5cb);}),this['_glFrameBu'+'ffer']=_0x560470['createFram'+'ebuffer'](),_0x481ecf['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x1d673b=((_0x3f2383=_0x18f5cb['_colorBuff'+'ers'])==null?void(-0x169f+0x391+-0x3*-0x65a):_0x3f2383['length'])??0x33*-0x3f+0xebd+-0x38*0xa,_0x1c0d5f=_0x560470['COLOR_ATTA'+'CHMENT0'];for(let _0x1ef67b=-0xdac+0x4a9*0x2+0x45a;_0x1ef67b<_0x1d673b;++_0x1ef67b){const _0x51cd18=_0x18f5cb['getColorBu'+'ffer'](_0x1ef67b);_0x51cd18&&(_0x51cd18['impl']['_glTexture']||(_0x51cd18['_width']=Math['min'](_0x51cd18['width'],_0x481ecf['maxRenderB'+'ufferSize']),_0x51cd18['_height']=Math['min'](_0x51cd18['height'],_0x481ecf['maxRenderB'+'ufferSize']),_0x481ecf['setTexture'](_0x51cd18,0x2f*0xb1+-0xa8d+-0x15f2*0x1)),_0x560470['framebuffe'+'rTexture2D'](_0x560470['FRAMEBUFFE'+'R'],_0x1c0d5f+_0x1ef67b,_0x51cd18['_cubemap']?_0x560470['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x18f5cb['_face']:_0x560470['TEXTURE_2D'],_0x51cd18['impl']['_glTexture'],_0x18f5cb['mipLevel']),_0x344d75['push'](_0x1c0d5f+_0x1ef67b));}_0x560470['drawBuffer'+'s'](_0x344d75);const _0x5a66c9=_0x18f5cb['_depthBuff'+'er'];if(_0x5a66c9||_0x18f5cb['_depth']){const _0x2c4cdb=_0x18f5cb['_stencil']?_0x560470['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x560470['DEPTH_ATTA'+'CHMENT'];if(_0x5a66c9)_0x5a66c9['impl']['_glTexture']||(_0x5a66c9['_width']=Math['min'](_0x5a66c9['width'],_0x481ecf['maxRenderB'+'ufferSize']),_0x5a66c9['_height']=Math['min'](_0x5a66c9['height'],_0x481ecf['maxRenderB'+'ufferSize']),_0x481ecf['setTexture'](_0x5a66c9,-0xf9c+0x1*-0x2174+-0x622*-0x8)),_0x560470['framebuffe'+'rTexture2D'](_0x560470['FRAMEBUFFE'+'R'],_0x2c4cdb,_0x5a66c9['_cubemap']?_0x560470['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x18f5cb['_face']:_0x560470['TEXTURE_2D'],_0x18f5cb['_depthBuff'+'er']['impl']['_glTexture'],_0x18f5cb['mipLevel']);else{if(!(_0x18f5cb['_samples']>0x24f+-0x14b1+0x3*0x621)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x560470['createRend'+'erbuffer']());const _0x8162e5=_0x18f5cb['_stencil']?_0x560470['DEPTH24_ST'+'ENCIL8']:_0x560470['DEPTH_COMP'+'ONENT32F'];_0x560470['bindRender'+'buffer'](_0x560470['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x560470['renderbuff'+'erStorage'](_0x560470['RENDERBUFF'+'ER'],_0x8162e5,_0x18f5cb['width'],_0x18f5cb['height']),_0x560470['framebuffe'+'rRenderbuf'+'fer'](_0x560470['FRAMEBUFFE'+'R'],_0x2c4cdb,_0x560470['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x560470['bindRender'+'buffer'](_0x560470['RENDERBUFF'+'ER'],null);}}}v['call'](()=>this['_checkFbo'](_0x481ecf,_0x18f5cb));}if(_0x18f5cb['_samples']>0x149a+0xdc4+0x1cf*-0x13){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x560470['createFram'+'ebuffer'](),_0x481ecf['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x4c3066=((_0x28c98b=_0x18f5cb['_colorBuff'+'ers'])==null?void(-0x26*-0xca+0xc56+-0x2a52):_0x28c98b['length'])??-0x208b+0x1*0x1fe5+-0xa6*-0x1;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x1d61+0x36*-0x5+-0x3*0x971)){const _0x1f6ed6=_0x560470['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x1f6ed6);const _0x7dd967=_0x481ecf['backBuffer'+'Format']===Se?_0x560470['RGBA8']:_0x560470['RGB8'];_0x560470['bindRender'+'buffer'](_0x560470['RENDERBUFF'+'ER'],_0x1f6ed6),_0x560470['renderbuff'+'erStorageM'+'ultisample'](_0x560470['RENDERBUFF'+'ER'],_0x18f5cb['_samples'],_0x7dd967,_0x18f5cb['width'],_0x18f5cb['height']),_0x560470['framebuffe'+'rRenderbuf'+'fer'](_0x560470['FRAMEBUFFE'+'R'],_0x560470['COLOR_ATTA'+'CHMENT0'],_0x560470['RENDERBUFF'+'ER'],_0x1f6ed6);}else for(let _0x10fd0a=-0x31b*0x5+0x1adc+-0xb55;_0x10fd0a<_0x4c3066;++_0x10fd0a){const _0x1c19d5=_0x18f5cb['getColorBu'+'ffer'](_0x10fd0a);if(_0x1c19d5){const _0x2cc828=_0x560470['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x2cc828),_0x560470['bindRender'+'buffer'](_0x560470['RENDERBUFF'+'ER'],_0x2cc828),_0x560470['renderbuff'+'erStorageM'+'ultisample'](_0x560470['RENDERBUFF'+'ER'],_0x18f5cb['_samples'],_0x1c19d5['impl']['_glInterna'+'lFormat'],_0x18f5cb['width'],_0x18f5cb['height']),_0x560470['framebuffe'+'rRenderbuf'+'fer'](_0x560470['FRAMEBUFFE'+'R'],_0x560470['COLOR_ATTA'+'CHMENT0']+_0x10fd0a,_0x560470['RENDERBUFF'+'ER'],_0x2cc828);}}if(_0x18f5cb['_depth']){v['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x42edcf=_0x18f5cb['_stencil']?_0x560470['DEPTH24_ST'+'ENCIL8']:_0x560470['DEPTH_COMP'+'ONENT32F'],_0x156712=_0x18f5cb['_stencil']?_0x560470['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x560470['DEPTH_ATTA'+'CHMENT'];let _0xf6bf22;const _0x5bfaee=_0x18f5cb['_depthBuff'+'er'];_0x5bfaee&&(_0xf6bf22=_0x5bfaee['id']+':'+_0x18f5cb['width']+':'+_0x18f5cb['height']+':'+_0x18f5cb['_samples']+':'+_0x42edcf+':'+_0x156712,this['_glMsaaDep'+'thBuffer']=od(_0x481ecf)['get'](_0xf6bf22)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x560470['createRend'+'erbuffer'](),_0x560470['bindRender'+'buffer'](_0x560470['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x560470['renderbuff'+'erStorageM'+'ultisample'](_0x560470['RENDERBUFF'+'ER'],_0x18f5cb['_samples'],_0x42edcf,_0x18f5cb['width'],_0x18f5cb['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x560470['deleteRend'+'erbuffer'](this);},_0x5bfaee&&od(_0x481ecf)['set'](_0xf6bf22,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0xf6bf22,_0x560470['framebuffe'+'rRenderbuf'+'fer'](_0x560470['FRAMEBUFFE'+'R'],_0x156712,_0x560470['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}v['call'](()=>this['_checkFbo'](_0x481ecf,_0x18f5cb,'MSAA')),_0x4c3066>-0x12f*0x13+0x1045+0x3*0x213&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x481ecf,_0x18f5cb,_0x4c3066),_0x481ecf['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x560470['drawBuffer'+'s'](_0x344d75));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x1e2317,_0x3c2e4e,_0x3b50ec){const _0xc4520a=_0x1e2317['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x2d2029=-0xcc1+0x252e*-0x1+0x3*0x10a5;_0x2d2029<_0x3b50ec;++_0x2d2029){const _0x242053=_0x3c2e4e['getColorBu'+'ffer'](_0x2d2029),_0x512b3a=_0xc4520a['createFram'+'ebuffer']();_0x1e2317['setFramebu'+'ffer'](_0x512b3a);const _0x21d98e=this['_glMsaaCol'+'orBuffers'][_0x2d2029];_0xc4520a['bindRender'+'buffer'](_0xc4520a['RENDERBUFF'+'ER'],_0x21d98e),_0xc4520a['renderbuff'+'erStorageM'+'ultisample'](_0xc4520a['RENDERBUFF'+'ER'],_0x3c2e4e['_samples'],_0x242053['impl']['_glInterna'+'lFormat'],_0x3c2e4e['width'],_0x3c2e4e['height']),_0xc4520a['framebuffe'+'rRenderbuf'+'fer'](_0xc4520a['FRAMEBUFFE'+'R'],_0xc4520a['COLOR_ATTA'+'CHMENT0'],_0xc4520a['RENDERBUFF'+'ER'],_0x21d98e),_0xc4520a['drawBuffer'+'s']([_0xc4520a['COLOR_ATTA'+'CHMENT0']]),v['call'](()=>this['_checkFbo'](_0x1e2317,_0x3c2e4e,'MSAA-MRT-s'+'rc'+_0x2d2029));const _0xb53c89=_0xc4520a['createFram'+'ebuffer']();_0x1e2317['setFramebu'+'ffer'](_0xb53c89),_0xc4520a['framebuffe'+'rTexture2D'](_0xc4520a['FRAMEBUFFE'+'R'],_0xc4520a['COLOR_ATTA'+'CHMENT0'],_0x242053['_cubemap']?_0xc4520a['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x3c2e4e['_face']:_0xc4520a['TEXTURE_2D'],_0x242053['impl']['_glTexture'],-0x7b3+-0x157f+0xe99*0x2),this['colorMrtFr'+'amebuffers'][_0x2d2029]=new cb(_0x512b3a,_0xb53c89),v['call'](()=>this['_checkFbo'](_0x1e2317,_0x3c2e4e,'MSAA-MRT-d'+'st'+_0x2d2029));}}['_checkFbo'](_0x3473c3,_0x74df77,_0x2a0dcd=''){const _0x49bba6=_0x3473c3['gl'],_0x174893=_0x49bba6['checkFrame'+'bufferStat'+'us'](_0x49bba6['FRAMEBUFFE'+'R']);let _0x5983a2;switch(_0x174893){case _0x49bba6['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x5983a2='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x49bba6['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x5983a2='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x49bba6['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x5983a2='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x49bba6['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x5983a2='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}v['assert'](!_0x5983a2,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x5983a2+(',\x20render\x20t'+'arget:\x20')+_0x74df77['name']+'\x20'+_0x2a0dcd,_0x74df77);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0x1*0x613+-0x1*0x1544+0xf31,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0x134d+-0x13b5+0x1381*0x2),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x219e*-0x1+-0x1*0xc83+-0x151b),this['_isInitial'+'ized']=!(-0x8c6+0x15ea+-0x39*0x3b);}['internalRe'+'solve'](_0x312833,_0x5d4575,_0x3e92b6,_0xf1e79b,_0x7eb7d0){v['assert'](_0x5d4575!==_0x3e92b6,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x312833['setScissor'](0xd*-0x15d+0x4*-0x39b+0x2025,-0x2eb*0xa+-0xf83+0x2cb1*0x1,_0xf1e79b['width'],_0xf1e79b['height']);const _0x4ab12d=_0x312833['gl'];_0x4ab12d['bindFrameb'+'uffer'](_0x4ab12d['READ_FRAME'+'BUFFER'],_0x5d4575),_0x4ab12d['bindFrameb'+'uffer'](_0x4ab12d['DRAW_FRAME'+'BUFFER'],_0x3e92b6),_0x4ab12d['blitFrameb'+'uffer'](-0x7*-0x274+-0x16b1+0x585,0x177d+-0x65*0x55+0xa0c,_0xf1e79b['width'],_0xf1e79b['height'],-0x64d+0x21fb+0xdd7*-0x2,0x1243*-0x2+-0x243+0x26c9,_0xf1e79b['width'],_0xf1e79b['height'],_0x7eb7d0,_0x4ab12d['NEAREST']);}['resolve'](_0x35e69f,_0x2632b7,_0x1e2d35,_0x4096a1){const _0x43c945=_0x35e69f['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x1e2d35)for(let _0x1c0904=-0x246a+0x4*0x51e+0xff2;_0x1c0904<this['colorMrtFr'+'amebuffers']['length'];_0x1c0904++){const _0x39fe66=this['colorMrtFr'+'amebuffers'][_0x1c0904];G['pushGpuMar'+'ker'](_0x35e69f,'RESOLVE-MR'+'T'+_0x1c0904),this['internalRe'+'solve'](_0x35e69f,_0x39fe66['msaaFB'],_0x39fe66['resolveFB'],_0x2632b7,_0x43c945['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x35e69f);}_0x4096a1&&(G['pushGpuMar'+'ker'](_0x35e69f,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x35e69f,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x2632b7,_0x43c945['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x35e69f));}else G['pushGpuMar'+'ker'](_0x35e69f,'RESOLVE'),this['internalRe'+'solve'](_0x35e69f,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x2632b7,(_0x1e2d35?_0x43c945['COLOR_BUFF'+'ER_BIT']:0xc86*-0x1+0x1de9+-0x1163)|(_0x4096a1?_0x43c945['DEPTH_BUFF'+'ER_BIT']:-0xbe9+-0x1dba+0xde1*0x3)),G['popGpuMark'+'er'](_0x35e69f);_0x43c945['bindFrameb'+'uffer'](_0x43c945['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x33b2ba){this['queries']['forEach'](_0x2bc5ac=>_0x33b2ba['deleteQuer'+'y'](_0x2bc5ac)),this['queries']=null;}}class fb extends tb{constructor(_0x413c19){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0x413c19,this['ext']=_0x413c19['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x2a8f07=>this['device']['gl']['deleteQuer'+'y'](_0x2a8f07)),this['frameQueri'+'es']['forEach'](_0x4da4e7=>this['device']['gl']['deleteQuer'+'y'](_0x4da4e7)),this['previousFr'+'ameQueries']['forEach'](_0x8fae8f=>_0x8fae8f['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x462924){if(this['ext']){const _0x47da4e=this['getSlot'](_0x462924),_0x5acedf=this['getQuery']();return this['frameQueri'+'es'][_0x47da4e]=_0x5acedf,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x5acedf),_0x47da4e;}}['end'](_0x3eca31){_0x3eca31!==void(-0x10c5+-0x17*0x76+0x1b5f)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x2e076c=this['ext'],_0x493f67=this['device']['gl'],_0x3f2b24=this['device']['renderVers'+'ion'],_0x27bb82=this['frameQueri'+'es'];if(_0x27bb82['length']>-0x6*0x532+-0xb53+0x2a7f){this['frameQueri'+'es']=[];const _0x2f7ed9=new ub();_0x2f7ed9['queries']=_0x27bb82,_0x2f7ed9['renderVers'+'ion']=_0x3f2b24,this['previousFr'+'ameQueries']['push'](_0x2f7ed9);}if(this['previousFr'+'ameQueries']['length']>0x1*-0x1825+0x5*-0x13c+0x1e51){const _0xac9c0f=this['previousFr'+'ameQueries'][-0x107*0xb+-0x693+0x11e0],_0x1a8391=_0xac9c0f['queries'],_0x4cf1b4=_0x1a8391[_0x1a8391['length']-(0x9*0x15+0x26*0xb7+-0x1be6)],_0x190179=_0x493f67['getQueryPa'+'rameter'](_0x4cf1b4,_0x493f67['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x291b2f=_0x493f67['getParamet'+'er'](_0x2e076c['GPU_DISJOI'+'NT_EXT']);if(_0x190179&&!_0x291b2f){this['previousFr'+'ameQueries']['shift']();const _0x5ddb66=this['timings'];_0x5ddb66['length']=0x20d4+0x1*-0x21fb+0x127;for(let _0x13aa95=0x221f*-0x1+-0x521*0x5+-0x5*-0xbf4;_0x13aa95<_0x1a8391['length'];_0x13aa95++){const _0x4d7604=_0x1a8391[_0x13aa95],_0x39ae73=_0x493f67['getQueryPa'+'rameter'](_0x4d7604,_0x493f67['QUERY_RESU'+'LT']);_0x5ddb66[_0x13aa95]=_0x39ae73*(-0x19d6*-0x1+0x1df9+0xd*-0x44b+0.000001),this['freeQuerie'+'s']['push'](_0x4d7604);}this['report'](_0xac9c0f['renderVers'+'ion'],_0x5ddb66);}_0x291b2f&&(this['previousFr'+'ameQueries']['forEach'](_0x4e3540=>{this['report'](_0x4e3540['renderVers'+'ion'],null),_0x4e3540['destroy'](_0x493f67);}),this['previousFr'+'ameQueries']['length']=0x2*-0x7cd+-0x16*0x14e+0x2c4e);}super['request'](_0x3f2b24);}}}const Tn=[];class pb extends Fh{constructor(_0x24d742,_0x28bf1f={}){super(_0x24d742,_0x28bf1f),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(0x215f+-0x17c1+-0x99d)),(_0x28bf1f=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(0x59*-0x29+-0x10*-0x24a+-0x165e),this['_contextLo'+'stHandler']=_0x1f5338=>{_0x1f5338['preventDef'+'ault'](),this['loseContex'+'t'](),v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x124898=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x124898&&_0x124898['includes']('AppleWebKi'+'t')&&(_0x124898['includes']('15.4')||_0x124898['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x28bf1f['antialias']=!(-0x292*-0x3+0x1695+-0x1e4a),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),ye['browserNam'+'e']==='firefox'){const _0x2341a3=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x4f0164=_0x2341a3?_0x2341a3[-0x1e0b*-0x1+-0x3a*-0x4a+-0x2ece]:null;if(_0x4f0164){const _0x281df1=parseFloat(_0x4f0164);(ye['name']==='windows'&&(_0x281df1>=-0x1f*0x104+0xfa7+0x104d||_0x281df1===0xbd6+0x1*0x1057+-0x1bba)||ye['name']==='android'&&_0x281df1>=0x11*-0xdb+-0x98a+0x1899)&&(_0x28bf1f['antialias']=!(-0xb8+0x1ded+-0x1d34),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+ye['name']+('\x20platform\x20'+'version\x20')+_0x4f0164));}}this['backBuffer'+'Antialias']=_0x28bf1f['antialias']??!(-0x1791*0x1+0xf59+0x839),_0x28bf1f['antialias']=!(-0x1f29+-0x377*-0x2+0x183c);const _0x2f46be=_0x28bf1f['gl']??_0x24d742['getContext']('webgl2',_0x28bf1f);if(!_0x2f46be)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x2f46be,this['isWebGL2']=!(-0x25*0xa6+0xa78+0x1*0xd86),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x1dfda7=ye['browserNam'+'e']==='chrome',_0x445152=ye['browserNam'+'e']==='safari',_0x53a7bd=ye['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0x606*-0x1+-0x21f7+0x2*0x13ff);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x445152,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x53a7bd&&_0x1dfda7&&!_0x28bf1f['alpha'],_0x24d742['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x2c8*0x2+0xe*0x11e+-0xa13)),_0x24d742['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x3*-0x7f4+0x250e+-0xd31)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x445152&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x2f46be['SAMPLER_2D'],_0x2f46be['SAMPLER_CU'+'BE'],_0x2f46be['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x2f46be['INT_SAMPLE'+'R_2D'],_0x2f46be['SAMPLER_2D'+'_SHADOW'],_0x2f46be['SAMPLER_CU'+'BE_SHADOW'],_0x2f46be['SAMPLER_3D'],_0x2f46be['INT_SAMPLE'+'R_3D'],_0x2f46be['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x2f46be['SAMPLER_2D'+'_ARRAY'],_0x2f46be['INT_SAMPLE'+'R_2D_ARRAY'],_0x2f46be['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x2f46be['REPEAT'],_0x2f46be['CLAMP_TO_E'+'DGE'],_0x2f46be['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x2f46be['FUNC_ADD'],_0x2f46be['FUNC_SUBTR'+'ACT'],_0x2f46be['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x2f46be['MIN'],_0x2f46be['MAX']],this['glBlendFun'+'ctionColor']=[_0x2f46be['ZERO'],_0x2f46be['ONE'],_0x2f46be['SRC_COLOR'],_0x2f46be['ONE_MINUS_'+'SRC_COLOR'],_0x2f46be['DST_COLOR'],_0x2f46be['ONE_MINUS_'+'DST_COLOR'],_0x2f46be['SRC_ALPHA'],_0x2f46be['SRC_ALPHA_'+'SATURATE'],_0x2f46be['ONE_MINUS_'+'SRC_ALPHA'],_0x2f46be['DST_ALPHA'],_0x2f46be['ONE_MINUS_'+'DST_ALPHA'],_0x2f46be['CONSTANT_C'+'OLOR'],_0x2f46be['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x2f46be['ZERO'],_0x2f46be['ONE'],_0x2f46be['SRC_COLOR'],_0x2f46be['ONE_MINUS_'+'SRC_COLOR'],_0x2f46be['DST_COLOR'],_0x2f46be['ONE_MINUS_'+'DST_COLOR'],_0x2f46be['SRC_ALPHA'],_0x2f46be['SRC_ALPHA_'+'SATURATE'],_0x2f46be['ONE_MINUS_'+'SRC_ALPHA'],_0x2f46be['DST_ALPHA'],_0x2f46be['ONE_MINUS_'+'DST_ALPHA'],_0x2f46be['CONSTANT_A'+'LPHA'],_0x2f46be['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x2f46be['NEVER'],_0x2f46be['LESS'],_0x2f46be['EQUAL'],_0x2f46be['LEQUAL'],_0x2f46be['GREATER'],_0x2f46be['NOTEQUAL'],_0x2f46be['GEQUAL'],_0x2f46be['ALWAYS']],this['glStencilO'+'p']=[_0x2f46be['KEEP'],_0x2f46be['ZERO'],_0x2f46be['REPLACE'],_0x2f46be['INCR'],_0x2f46be['INCR_WRAP'],_0x2f46be['DECR'],_0x2f46be['DECR_WRAP'],_0x2f46be['INVERT']],this['glClearFla'+'g']=[-0x14ea+-0x1b2e+-0x8*-0x603,_0x2f46be['COLOR_BUFF'+'ER_BIT'],_0x2f46be['DEPTH_BUFF'+'ER_BIT'],_0x2f46be['COLOR_BUFF'+'ER_BIT']|_0x2f46be['DEPTH_BUFF'+'ER_BIT'],_0x2f46be['STENCIL_BU'+'FFER_BIT'],_0x2f46be['STENCIL_BU'+'FFER_BIT']|_0x2f46be['COLOR_BUFF'+'ER_BIT'],_0x2f46be['STENCIL_BU'+'FFER_BIT']|_0x2f46be['DEPTH_BUFF'+'ER_BIT'],_0x2f46be['STENCIL_BU'+'FFER_BIT']|_0x2f46be['COLOR_BUFF'+'ER_BIT']|_0x2f46be['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x1*0x16f7+-0x13*-0x93+0xc0e,_0x2f46be['BACK'],_0x2f46be['FRONT'],_0x2f46be['FRONT_AND_'+'BACK']],this['glFilter']=[_0x2f46be['NEAREST'],_0x2f46be['LINEAR'],_0x2f46be['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x2f46be['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x2f46be['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x2f46be['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x2f46be['POINTS'],_0x2f46be['LINES'],_0x2f46be['LINE_LOOP'],_0x2f46be['LINE_STRIP'],_0x2f46be['TRIANGLES'],_0x2f46be['TRIANGLE_S'+'TRIP'],_0x2f46be['TRIANGLE_F'+'AN']],this['glType']=[_0x2f46be['BYTE'],_0x2f46be['UNSIGNED_B'+'YTE'],_0x2f46be['SHORT'],_0x2f46be['UNSIGNED_S'+'HORT'],_0x2f46be['INT'],_0x2f46be['UNSIGNED_I'+'NT'],_0x2f46be['FLOAT'],_0x2f46be['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x2f46be['BOOL']]=ca,this['pcUniformT'+'ype'][_0x2f46be['INT']]=ln,this['pcUniformT'+'ype'][_0x2f46be['FLOAT']]=Ws,this['pcUniformT'+'ype'][_0x2f46be['FLOAT_VEC2']]=or,this['pcUniformT'+'ype'][_0x2f46be['FLOAT_VEC3']]=Wt,this['pcUniformT'+'ype'][_0x2f46be['FLOAT_VEC4']]=xa,this['pcUniformT'+'ype'][_0x2f46be['INT_VEC2']]=Zr,this['pcUniformT'+'ype'][_0x2f46be['INT_VEC3']]=Qr,this['pcUniformT'+'ype'][_0x2f46be['INT_VEC4']]=Jr,this['pcUniformT'+'ype'][_0x2f46be['BOOL_VEC2']]=Lo,this['pcUniformT'+'ype'][_0x2f46be['BOOL_VEC3']]=Fo,this['pcUniformT'+'ype'][_0x2f46be['BOOL_VEC4']]=Oo,this['pcUniformT'+'ype'][_0x2f46be['FLOAT_MAT2']]=Rh,this['pcUniformT'+'ype'][_0x2f46be['FLOAT_MAT3']]=ko,this['pcUniformT'+'ype'][_0x2f46be['FLOAT_MAT4']]=Sa,this['pcUniformT'+'ype'][_0x2f46be['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x2f46be['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x2f46be['UNSIGNED_I'+'NT']]=va,this['pcUniformT'+'ype'][_0x2f46be['UNSIGNED_I'+'NT_VEC2']]=ba,this['pcUniformT'+'ype'][_0x2f46be['UNSIGNED_I'+'NT_VEC3']]=wa,this['pcUniformT'+'ype'][_0x2f46be['UNSIGNED_I'+'NT_VEC4']]=Ta,this['pcUniformT'+'ype'][_0x2f46be['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x2f46be['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x2f46be['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x2f46be['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x2f46be['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x2f46be['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x2f46be['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x2f46be['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x2f46be['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x2f46be['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x2f46be['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x2f46be['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x2f46be['TEXTURE_2D']]=-0x3bc*0x4+-0x1*-0x1a2f+-0xb3f,this['targetToSl'+'ot'][_0x2f46be['TEXTURE_CU'+'BE_MAP']]=-0x17fc+0x1e10+0x5*-0x137,this['targetToSl'+'ot'][_0x2f46be['TEXTURE_3D']]=0x2db*-0xd+-0x577+0x2a98;let _0x52c7be,_0x18f163,_0x11bc16,_0x3dd261,_0x5f4b32;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ca]=function(_0x425ff4,_0x52da7b){_0x425ff4['value']!==_0x52da7b&&(_0x2f46be['uniform1i'](_0x425ff4['locationId'],_0x52da7b),_0x425ff4['value']=_0x52da7b);},this['commitFunc'+'tion'][ln]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][Ws]=function(_0x584edf,_0x4fdc69){_0x584edf['value']!==_0x4fdc69&&(_0x2f46be['uniform1f'](_0x584edf['locationId'],_0x4fdc69),_0x584edf['value']=_0x4fdc69);},this['commitFunc'+'tion'][or]=function(_0x5beea9,_0x4333a4){_0x5f4b32=_0x5beea9['value'],_0x52c7be=_0x4333a4[-0x204d+-0x481*0x2+0xf*0x2c1],_0x18f163=_0x4333a4[-0x1cbd+-0x1489+-0x91*-0x57],(_0x5f4b32[-0x14e7*0x1+-0x10*-0x15a+0x1*-0xb9]!==_0x52c7be||_0x5f4b32[-0x2*-0xbe6+-0x22d8+0xb0d]!==_0x18f163)&&(_0x2f46be['uniform2fv'](_0x5beea9['locationId'],_0x4333a4),_0x5f4b32[-0xd53+0x8c2+0x491]=_0x52c7be,_0x5f4b32[-0x1cfa+0x4e*-0xa+0x2007]=_0x18f163);},this['commitFunc'+'tion'][Wt]=function(_0x175e29,_0x400a6){_0x5f4b32=_0x175e29['value'],_0x52c7be=_0x400a6[-0x20*0x15+0x1b*0x160+0x10*-0x228],_0x18f163=_0x400a6[0x970+-0x21d6+0x1867],_0x11bc16=_0x400a6[0x1*0x765+-0x2241+-0xb5*-0x26],(_0x5f4b32[-0x199b+0xc50+-0x29*-0x53]!==_0x52c7be||_0x5f4b32[-0x4*0x79c+0x1a*0x106+0x3d5]!==_0x18f163||_0x5f4b32[-0x3d*-0x57+-0xeb6+0x39*-0x1b]!==_0x11bc16)&&(_0x2f46be['uniform3fv'](_0x175e29['locationId'],_0x400a6),_0x5f4b32[-0x1a1e+-0xf4b+0x2969]=_0x52c7be,_0x5f4b32[-0xd5*0x2b+0x2*0x12df+0x2*-0xfb]=_0x18f163,_0x5f4b32[0x820+-0x25b+-0x5c3*0x1]=_0x11bc16);},this['commitFunc'+'tion'][xa]=function(_0x4daf47,_0x2e9035){_0x5f4b32=_0x4daf47['value'],_0x52c7be=_0x2e9035[-0x88*-0x17+0x2338+-0x2f70],_0x18f163=_0x2e9035[0x65*-0x53+0x7c4+0x18fc],_0x11bc16=_0x2e9035[0x230+-0x1*0x1d21+-0x1*-0x1af3],_0x3dd261=_0x2e9035[-0xb*-0x151+-0x7bc+-0x6bc*0x1],(_0x5f4b32[-0x10d1+0x1c33+-0xb62]!==_0x52c7be||_0x5f4b32[0x19b3+0x612+-0x1fc4]!==_0x18f163||_0x5f4b32[0xc56+0x22fc+-0x4*0xbd4]!==_0x11bc16||_0x5f4b32[-0xf9e*-0x1+-0x2445+-0x14aa*-0x1]!==_0x3dd261)&&(_0x2f46be['uniform4fv'](_0x4daf47['locationId'],_0x2e9035),_0x5f4b32[0x185+0x1*0x243e+-0x25c3*0x1]=_0x52c7be,_0x5f4b32[-0x15c6+-0xddb+0x2*0x11d1]=_0x18f163,_0x5f4b32[0x29c*0x6+0x1f23+-0x2ec9]=_0x11bc16,_0x5f4b32[-0x38*-0x82+0x1838+-0x34a5]=_0x3dd261);},this['commitFunc'+'tion'][Zr]=function(_0x3d8ee9,_0x331bc2){_0x5f4b32=_0x3d8ee9['value'],_0x52c7be=_0x331bc2[0x1*0x3fd+-0x7*0x1d+-0x332],_0x18f163=_0x331bc2[-0xc74*-0x2+-0x55c+-0x1*0x138b],(_0x5f4b32[0x12c7+-0x58*0x2b+-0x3ff]!==_0x52c7be||_0x5f4b32[0x17cb*0x1+0x23d*-0xd+-0x3*-0x1c5]!==_0x18f163)&&(_0x2f46be['uniform2iv'](_0x3d8ee9['locationId'],_0x331bc2),_0x5f4b32[0x8fd+0x1440+0x5d9*-0x5]=_0x52c7be,_0x5f4b32[0x321*-0xc+-0x26fc+0x4c89]=_0x18f163);},this['commitFunc'+'tion'][Lo]=this['commitFunc'+'tion'][Zr],this['commitFunc'+'tion'][Qr]=function(_0x5b56f2,_0x4ba9c0){_0x5f4b32=_0x5b56f2['value'],_0x52c7be=_0x4ba9c0[0x24d6+-0xd2e*0x1+-0x2f5*0x8],_0x18f163=_0x4ba9c0[0x18a2+0x1603+-0x2ea4],_0x11bc16=_0x4ba9c0[-0xcf*-0x27+-0x21*0xcd+0x51a*-0x1],(_0x5f4b32[0x1108+-0x1*0x1d6d+0xc65]!==_0x52c7be||_0x5f4b32[-0x12e4+0xaf1+-0x1*-0x7f4]!==_0x18f163||_0x5f4b32[0x1cf0+-0x4*-0x42a+-0x2d96]!==_0x11bc16)&&(_0x2f46be['uniform3iv'](_0x5b56f2['locationId'],_0x4ba9c0),_0x5f4b32[0xd*0xcd+0x1521+0xfc5*-0x2]=_0x52c7be,_0x5f4b32[0x5*0x5a7+0x1fc6+0x781*-0x8]=_0x18f163,_0x5f4b32[0x1081+0xefd+-0x1f7c]=_0x11bc16);},this['commitFunc'+'tion'][Fo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x4e3699,_0x409cbb){_0x5f4b32=_0x4e3699['value'],_0x52c7be=_0x409cbb[-0x26e8+0xd92+0x1956],_0x18f163=_0x409cbb[-0xab2+-0x21a8+-0xec9*-0x3],_0x11bc16=_0x409cbb[0x1bd1+0x53*-0x71+0x8d4],_0x3dd261=_0x409cbb[0x23b3*0x1+-0x2361+-0x4f],(_0x5f4b32[-0xd*-0x2a+0x6a*0x3+-0x24*0x18]!==_0x52c7be||_0x5f4b32[-0x10d5+-0x1d4*0x8+0x1f76]!==_0x18f163||_0x5f4b32[-0x2*0x4db+-0x62a*0x2+0x160c]!==_0x11bc16||_0x5f4b32[-0x2f*-0x34+0x1e4e*0x1+-0x27d7]!==_0x3dd261)&&(_0x2f46be['uniform4iv'](_0x4e3699['locationId'],_0x409cbb),_0x5f4b32[0x149b+-0x65b+-0x6*0x260]=_0x52c7be,_0x5f4b32[-0x231a+-0x150a+0x3825]=_0x18f163,_0x5f4b32[-0xa*-0x8e+0x11*0xa7+-0x10a1]=_0x11bc16,_0x5f4b32[-0x1347+-0xa2d+-0x1d77*-0x1]=_0x3dd261);},this['commitFunc'+'tion'][Oo]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][Rh]=function(_0x5055f3,_0x14e935){_0x2f46be['uniformMat'+'rix2fv'](_0x5055f3['locationId'],!(-0x19*0xf5+0x1b1*0x2+0x148c),_0x14e935);},this['commitFunc'+'tion'][ko]=function(_0xb71c90,_0x35faac){_0x2f46be['uniformMat'+'rix3fv'](_0xb71c90['locationId'],!(0x49d*0x3+-0x193+-0xc43),_0x35faac);},this['commitFunc'+'tion'][Sa]=function(_0x8b1894,_0x184542){_0x2f46be['uniformMat'+'rix4fv'](_0x8b1894['locationId'],!(0x1*-0x14e8+-0x2467*0x1+-0x7*-0x830),_0x184542);},this['commitFunc'+'tion'][Dc]=function(_0x4b1aa7,_0x1a45a0){_0x2f46be['uniform1fv'](_0x4b1aa7['locationId'],_0x1a45a0);},this['commitFunc'+'tion'][Lc]=function(_0x24a3a9,_0x42b609){_0x2f46be['uniform2fv'](_0x24a3a9['locationId'],_0x42b609);},this['commitFunc'+'tion'][Fc]=function(_0x132c0a,_0x57ac0a){_0x2f46be['uniform3fv'](_0x132c0a['locationId'],_0x57ac0a);},this['commitFunc'+'tion'][lp]=function(_0x1670ad,_0x795e58){_0x2f46be['uniform4fv'](_0x1670ad['locationId'],_0x795e58);},this['commitFunc'+'tion'][va]=function(_0x129e0f,_0x397e73){_0x129e0f['value']!==_0x397e73&&(_0x2f46be['uniform1ui'](_0x129e0f['locationId'],_0x397e73),_0x129e0f['value']=_0x397e73);},this['commitFunc'+'tion'][ba]=function(_0x2a5047,_0x4bce6d){_0x5f4b32=_0x2a5047['value'],_0x52c7be=_0x4bce6d[-0x1f55+-0x587*0x6+0xb*0x5dd],_0x18f163=_0x4bce6d[0x9af+-0xd04*0x1+0x356],(_0x5f4b32[0xea1*-0x2+-0x1c2c+0x396e]!==_0x52c7be||_0x5f4b32[-0x1*-0x9f1+-0xa*0x8+-0x9a0]!==_0x18f163)&&(_0x2f46be['uniform2ui'+'v'](_0x2a5047['locationId'],_0x4bce6d),_0x5f4b32[0x87*-0x2f+-0xc5*-0x6+-0x1*-0x142b]=_0x52c7be,_0x5f4b32[-0x10fe+-0x6ca*0x4+0x2c27]=_0x18f163);},this['commitFunc'+'tion'][wa]=function(_0x44a906,_0x1f88a5){_0x5f4b32=_0x44a906['value'],_0x52c7be=_0x1f88a5[-0x1097+0x6d9*-0x2+0x1e49],_0x18f163=_0x1f88a5[-0x2593+0x1422+-0x4d*-0x3a],_0x11bc16=_0x1f88a5[0x6cf+-0xe79+0x2*0x3d6],(_0x5f4b32[-0x1383+-0x1040+0x23c3]!==_0x52c7be||_0x5f4b32[-0x1d10+0x1c79+0x98]!==_0x18f163||_0x5f4b32[-0x16c9+-0x1213+-0x1*-0x28de]!==_0x11bc16)&&(_0x2f46be['uniform3ui'+'v'](_0x44a906['locationId'],_0x1f88a5),_0x5f4b32[0x188b+-0x1f3*0x11+0x898*0x1]=_0x52c7be,_0x5f4b32[0x1337*-0x1+-0x2387+0xaf3*0x5]=_0x18f163,_0x5f4b32[-0x56*0x42+0x21e1+-0xbb3*0x1]=_0x11bc16);},this['commitFunc'+'tion'][Ta]=function(_0x503f8c,_0x2394c9){_0x5f4b32=_0x503f8c['value'],_0x52c7be=_0x2394c9[-0x24a*-0x7+0x407*-0x1+-0xbff],_0x18f163=_0x2394c9[-0x20c5+0x27d+0x1e49],_0x11bc16=_0x2394c9[0x1af*-0xf+0x1*0xde2+-0x3*-0x3cb],_0x3dd261=_0x2394c9[-0x1*-0x17e+0x182*0xe+0x1*-0x1697],(_0x5f4b32[0x1f51+0x1162+-0x7*0x6f5]!==_0x52c7be||_0x5f4b32[-0x507+-0x1b4e+0x2056]!==_0x18f163||_0x5f4b32[0x23bb+-0x1*0xe6e+-0x154b]!==_0x11bc16||_0x5f4b32[0x22*0x18+-0xb*0x299+0x1966]!==_0x3dd261)&&(_0x2f46be['uniform4ui'+'v'](_0x503f8c['locationId'],_0x2394c9),_0x5f4b32[-0x41f*-0x1+0x1*-0x133f+0x1e4*0x8]=_0x52c7be,_0x5f4b32[-0x262*-0xd+-0x23cc+0xd*0x5f]=_0x18f163,_0x5f4b32[0xa84+0x1c3*0x1+-0xc45]=_0x11bc16,_0x5f4b32[-0x49d*0x4+-0xb46+0x1dbd]=_0x3dd261);},this['commitFunc'+'tion'][Aa]=function(_0x2c28e1,_0x18ae54){_0x2f46be['uniform1iv'](_0x2c28e1['locationId'],_0x18ae54);},this['commitFunc'+'tion'][Oc]=function(_0x9e831d,_0x163f6c){_0x2f46be['uniform1ui'+'v'](_0x9e831d['locationId'],_0x163f6c);},this['commitFunc'+'tion'][kc]=this['commitFunc'+'tion'][Aa],this['commitFunc'+'tion'][Ea]=function(_0xbe4f1a,_0x39f7dc){_0x2f46be['uniform2iv'](_0xbe4f1a['locationId'],_0x39f7dc);},this['commitFunc'+'tion'][Bc]=function(_0x2761e3,_0x235276){_0x2f46be['uniform2ui'+'v'](_0x2761e3['locationId'],_0x235276);},this['commitFunc'+'tion'][Nc]=this['commitFunc'+'tion'][Ea],this['commitFunc'+'tion'][Ca]=function(_0x1e8b82,_0x1dcd04){_0x2f46be['uniform3iv'](_0x1e8b82['locationId'],_0x1dcd04);},this['commitFunc'+'tion'][zc]=function(_0x5f0286,_0xea1584){_0x2f46be['uniform3ui'+'v'](_0x5f0286['locationId'],_0xea1584);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ca],this['commitFunc'+'tion'][Ih]=function(_0xddd99b,_0x1cad7e){_0x2f46be['uniform4iv'](_0xddd99b['locationId'],_0x1cad7e);},this['commitFunc'+'tion'][hp]=function(_0x28a598,_0x2e55be){_0x2f46be['uniform4ui'+'v'](_0x28a598['locationId'],_0x2e55be);},this['commitFunc'+'tion'][cp]=this['commitFunc'+'tion'][Ih],this['commitFunc'+'tion'][Ny]=function(_0x129616,_0x3a58de){_0x2f46be['uniformMat'+'rix4fv'](_0x129616['locationId'],!(0xa0b+-0x236a+0x1960),_0x3a58de);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x2302ca=this['gl'];this['feedback']&&_0x2302ca['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x22f8+-0x1*-0x160f+0x981*-0x6)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x177d+0x1*0xd3+0x16ab)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x93a48b){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new pt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x93a48b;}['updateBack'+'bufferForm'+'at'](_0x577fb0){const _0x152011=this['gl'];_0x152011['bindFrameb'+'uffer'](_0x152011['FRAMEBUFFE'+'R'],_0x577fb0);const _0x877a52=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x877a52?Se:dr;}['updateBack'+'buffer'](){const _0x554659=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x554659)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0x1dcc+-0xb50+0x291d),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x341381,_0x2be6ab){return new sb();}['createInde'+'xBufferImp'+'l'](_0x4b35db){return new ib(_0x4b35db);}['createShad'+'erImpl'](_0xb78e6d){return new lb(_0xb78e6d);}['createText'+'ureImpl'](_0x1fb4c7){return new hb(_0x1fb4c7);}['createRend'+'erTargetIm'+'pl'](_0x3aa4a5){return new db();}['pushMarker'](_0x4b2495){if(ye['browser']&&window['spector']){const _0xd0499a=G['toString']();window['spector']['setMarker'](_0xd0499a+'\x20#');}}['popMarker'](){if(ye['browser']&&window['spector']){const _0x223b7d=G['toString']();_0x223b7d['length']?window['spector']['setMarker'](_0x223b7d+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x525c84=this['gl'];let _0x386551='highp';if(_0x525c84['getShaderP'+'recisionFo'+'rmat']){const _0x2c5b70=_0x525c84['getShaderP'+'recisionFo'+'rmat'](_0x525c84['VERTEX_SHA'+'DER'],_0x525c84['HIGH_FLOAT']),_0x5d9bee=_0x525c84['getShaderP'+'recisionFo'+'rmat'](_0x525c84['VERTEX_SHA'+'DER'],_0x525c84['MEDIUM_FLO'+'AT']),_0x3dd3f8=_0x525c84['getShaderP'+'recisionFo'+'rmat'](_0x525c84['FRAGMENT_S'+'HADER'],_0x525c84['HIGH_FLOAT']),_0x476b70=_0x525c84['getShaderP'+'recisionFo'+'rmat'](_0x525c84['FRAGMENT_S'+'HADER'],_0x525c84['MEDIUM_FLO'+'AT']);if(_0x2c5b70&&_0x5d9bee&&_0x3dd3f8&&_0x476b70){const _0x1a08c3=_0x2c5b70['precision']>0x6ae+0x23e7+-0x3df*0xb&&_0x3dd3f8['precision']>-0x90c+-0x2509+0x2e15,_0xd0909b=_0x5d9bee['precision']>-0x9e9+0xf61+-0x578&&_0x476b70['precision']>-0x1*0x1ad2+-0x2100+-0x13*-0x326;_0x1a08c3||(_0xd0909b?(_0x386551='mediump',v['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x386551='lowp',v['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x386551;}['getExtensi'+'on'](){for(let _0x32979e=-0x1*-0x1b16+0x1a0f+-0x11b7*0x3;_0x32979e<arguments['length'];_0x32979e++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x32979e])!==-(-0x222e+-0xba*-0x13+-0x2f*-0x6f))return this['gl']['getExtensi'+'on'](arguments[_0x32979e]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x3de184=this['gl'];this['supportedE'+'xtensions']=_0x3de184['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x1b3d+0x1d3c+0x49*-0x7),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x3b15f1=this['gl'];let _0x41ddf2;const _0x5bfa49=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x20783e=_0x3b15f1['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x20783e==null?void(-0x1d8c+0x3*0x262+0x1666):_0x20783e['antialias'])??!(-0xe5*-0x16+-0x4a+-0x1363),this['supportsSt'+'encil']=(_0x20783e==null?void(0x1464+0x59*0xb+-0x1837):_0x20783e['stencil'])??!(-0x142*-0xd+0x6e*0x11+-0x17a7),this['maxTexture'+'Size']=_0x3b15f1['getParamet'+'er'](_0x3b15f1['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x3b15f1['getParamet'+'er'](_0x3b15f1['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x3b15f1['getParamet'+'er'](_0x3b15f1['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x3b15f1['getParamet'+'er'](_0x3b15f1['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x3b15f1['getParamet'+'er'](_0x3b15f1['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x3b15f1['getParamet'+'er'](_0x3b15f1['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x3b15f1['getParamet'+'er'](_0x3b15f1['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x3b15f1['getParamet'+'er'](_0x3b15f1['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x3b15f1['getParamet'+'er'](_0x3b15f1['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x3b15f1['getParamet'+'er'](_0x3b15f1['MAX_3D_TEX'+'TURE_SIZE']),_0x41ddf2=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x41ddf2?_0x3b15f1['getParamet'+'er'](_0x41ddf2['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x41ddf2?_0x3b15f1['getParamet'+'er'](_0x41ddf2['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x259446=/\bMali-G52+/,_0x2f96df=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x5bfa49['match'](_0x2f96df))&&!this['unmaskedRe'+'nderer']['match'](_0x259446),_0x41ddf2=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x41ddf2?_0x3b15f1['getParamet'+'er'](_0x41ddf2['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0x4*-0x36e+-0x1*-0x17c9+-0xe*0xb8;const _0x3a6807=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x3a6807?_0x3b15f1['getParamet'+'er'](_0x3b15f1['MAX_SAMPLE'+'S']):0x23aa+-0x3*0x9ab+0x238*-0x3,this['maxSamples']=Math['min'](this['maxSamples'],0xcc3+0x2*-0xc4f+0x1*0xbdf),this['samples']=_0x3a6807&&this['backBuffer'+'Antialias']?this['maxSamples']:0x1a6c+0x1*0x34a+0x34d*-0x9,this['supportsAr'+'eaLights']=!ye['android'],this['maxTexture'+'s']<=-0x2*-0x11fe+-0xb3f+-0xb*0x23f&&(this['supportsAr'+'eaLights']=!(-0x19d6+-0x9b4+0x238b));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x5d4719=this['gl'];_0x5d4719['disable'](_0x5d4719['BLEND']),_0x5d4719['blendFunc'](_0x5d4719['ONE'],_0x5d4719['ZERO']),_0x5d4719['blendEquat'+'ion'](_0x5d4719['FUNC_ADD']),_0x5d4719['colorMask'](!(0x19db+-0x1*0x1+-0x19da),!(-0x4*-0x782+-0x75d*-0x5+-0x42d9),!(0xb63+-0x868+0x7*-0x6d),!(0xfd*0x13+-0x6*0x670+0x13d9*0x1)),_0x5d4719['blendColor'](0x1432+0x1bbb+0x2fed*-0x1,0x2*0xa6f+-0x337*-0xa+0x8d6*-0x6,-0x24d+0x10a7+-0xe5a,-0x63*0x9+-0x20bb+0x6*0x609),_0x5d4719['enable'](_0x5d4719['CULL_FACE']),this['cullFace']=_0x5d4719['BACK'],_0x5d4719['cullFace'](_0x5d4719['BACK']),_0x5d4719['enable'](_0x5d4719['DEPTH_TEST']),_0x5d4719['depthFunc'](_0x5d4719['LEQUAL']),_0x5d4719['depthMask'](!(-0x677+0x1410+-0xd99)),this['stencil']=!(-0x1423+0xd19+0x70b),_0x5d4719['disable'](_0x5d4719['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ai,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0x38b*-0x1+-0x422+0x28f*0x3,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x1be8+0x21a0+0x3c89*-0x1,_0x5d4719['stencilFun'+'c'](_0x5d4719['ALWAYS'],-0x1*-0x1737+0x2136+0x12cf*-0x3,-0x1*0x695+0x22d0+-0x2a*0xa6),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=ha,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=ha,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=ha,this['stencilWri'+'teMaskFron'+'t']=-0x1d*0xac+0x1544+-0xc9*0x1,this['stencilWri'+'teMaskBack']=-0x2c0*0x2+-0x1bb1+0x1*0x2230,_0x5d4719['stencilOp'](_0x5d4719['KEEP'],_0x5d4719['KEEP'],_0x5d4719['KEEP']),_0x5d4719['stencilMas'+'k'](-0x1*0x23c5+0x3*0x9a9+0x7c9),this['alphaToCov'+'erage']=!(-0x1*-0x15cb+0xd8d+0x53*-0x6d),this['raster']=!(0xeb9*0x1+0x1175+0x1*-0x202e),_0x5d4719['disable'](_0x5d4719['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x5d4719['disable'](_0x5d4719['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x1e79+0xd4c*-0x2+-0x1306*-0x3),_0x5d4719['disable'](_0x5d4719['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x23c3+-0x281*-0x7+0x3*-0x11c3,_0x5d4719['clearDepth'](-0x1d06+0x2b3+-0x14*-0x151),this['clearColor']=new Y(0xcc8+0x1*0x21fb+-0x2ec3,0x2135*-0x1+-0x739+0x286e,0x2b*0x8b+-0x7*-0x2cf+0x2b02*-0x1,0x1*-0x2315+0x58f*0x1+0x1d86),_0x5d4719['clearColor'](0x168b*-0x1+0x7a1+0xeea,0x3af+0x1c71+0x808*-0x4,-0x23a3+0x785*-0x2+0x32ad,0x20ef+0x1*-0x247f+0x390),this['clearStenc'+'il']=0xb8+0xca0+-0xd58,_0x5d4719['clearStenc'+'il'](0x15ee+-0xf4b+0x1*-0x6a3),_0x5d4719['hint'](_0x5d4719['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x5d4719['NICEST']),_0x5d4719['enable'](_0x5d4719['SCISSOR_TE'+'ST']),_0x5d4719['pixelStore'+'i'](_0x5d4719['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x5d4719['NONE']),this['unpackFlip'+'Y']=!(0x21b9+0xf1c*0x1+-0x1*0x30d4),_0x5d4719['pixelStore'+'i'](_0x5d4719['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x17*-0x4c+-0x10d*0x20+0x1acd)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0xfd7+0x1525*0x1+-0x54d),_0x5d4719['pixelStore'+'i'](_0x5d4719['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x13*0x26+-0x1*-0x21fb+-0x1*0x24cc)),_0x5d4719['pixelStore'+'i'](_0x5d4719['UNPACK_ALI'+'GNMENT'],-0x42b+-0x3*0x511+0x135f);}['initTextur'+'eUnits'](_0x1ed507=-0x2434+0x1*-0x464+0x1454*0x2){this['textureUni'+'ts']=[];for(let _0x3104db=-0x22d*0x1+-0x1f3f*-0x1+0xe89*-0x2;_0x3104db<_0x1ed507;_0x3104db++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x83+0x3ea*-0x1+0x367,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x197af1 of this['shaders'])_0x197af1['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0xb24497 of this['shaders'])_0xb24497['restoreCon'+'text']();}['setViewpor'+'t'](_0x4522a3,_0x452b35,_0xf68f,_0x2c9d49){(this['vx']!==_0x4522a3||this['vy']!==_0x452b35||this['vw']!==_0xf68f||this['vh']!==_0x2c9d49)&&(this['gl']['viewport'](_0x4522a3,_0x452b35,_0xf68f,_0x2c9d49),this['vx']=_0x4522a3,this['vy']=_0x452b35,this['vw']=_0xf68f,this['vh']=_0x2c9d49);}['setScissor'](_0x173038,_0x21383f,_0x18978f,_0x57c386){(this['sx']!==_0x173038||this['sy']!==_0x21383f||this['sw']!==_0x18978f||this['sh']!==_0x57c386)&&(this['gl']['scissor'](_0x173038,_0x21383f,_0x18978f,_0x57c386),this['sx']=_0x173038,this['sy']=_0x21383f,this['sw']=_0x18978f,this['sh']=_0x57c386);}['setFramebu'+'ffer'](_0x534bcc){if(this['activeFram'+'ebuffer']!==_0x534bcc){const _0x5422eb=this['gl'];_0x5422eb['bindFrameb'+'uffer'](_0x5422eb['FRAMEBUFFE'+'R'],_0x534bcc),this['activeFram'+'ebuffer']=_0x534bcc;}}['copyRender'+'Target'](_0x44aad1,_0x1221b0,_0xbd324a,_0x5192b3){var _0x8507ee,_0x5d7593;const _0x507ae4=this['gl'];if(_0x44aad1===this['backBuffer']&&(_0x44aad1=null),_0xbd324a){if(_0x1221b0){if(_0x44aad1){if(!_0x44aad1['_colorBuff'+'er']||!_0x1221b0['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0xde*-0x25+-0xc*-0x1b7+0xb83*0x1);if(_0x44aad1['_colorBuff'+'er']['_format']!==_0x1221b0['_colorBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x1*-0x1bd7+-0x5cc*0x6+-0x379*-0x2);}}else{if(!_0x44aad1['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x2610+0x67*0x1d+0x2*0xd33);}}if(_0x5192b3&&_0x44aad1&&!_0x44aad1['_depth']){if(!_0x44aad1['_depthBuff'+'er']||!_0x1221b0['_depthBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x1743+0x2*-0xc5e+-0x20*-0x180);if(_0x44aad1['_depthBuff'+'er']['_format']!==_0x1221b0['_depthBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(-0xb0*0x21+-0x49*-0x76+0x3a7*-0x3);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x257aa8=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x1221b0,this['updateBegi'+'n']();const _0x47b524=_0x44aad1?_0x44aad1['impl']['_glFrameBu'+'ffer']:(_0x8507ee=this['backBuffer'])==null?void(0x2*-0x9e8+0xe7a+0x556):_0x8507ee['impl']['_glFrameBu'+'ffer'],_0x43cfc5=_0x1221b0?_0x1221b0['impl']['_glFrameBu'+'ffer']:(_0x5d7593=this['backBuffer'])==null?void(0x399*0x2+0x1*-0xcf7+-0x5c5*-0x1):_0x5d7593['impl']['_glFrameBu'+'ffer'];v['assert'](_0x47b524!==_0x43cfc5,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x507ae4['bindFrameb'+'uffer'](_0x507ae4['READ_FRAME'+'BUFFER'],_0x47b524),_0x507ae4['bindFrameb'+'uffer'](_0x507ae4['DRAW_FRAME'+'BUFFER'],_0x43cfc5);const _0x3159bf=_0x44aad1?_0x44aad1['width']:_0x1221b0?_0x1221b0['width']:this['width'],_0x514181=_0x44aad1?_0x44aad1['height']:_0x1221b0?_0x1221b0['height']:this['height'];return _0x507ae4['blitFrameb'+'uffer'](-0x13*-0x145+0x126*-0x7+-0x17*0xb3,0x35*0x49+-0x1*0x22e4+0x1*0x13c7,_0x3159bf,_0x514181,0x1033+0x1d*0xd1+-0xb0*0x3a,0x2*-0xb03+0x180b+0x205*-0x1,_0x3159bf,_0x514181,(_0xbd324a?_0x507ae4['COLOR_BUFF'+'ER_BIT']:0x3*-0x5b5+-0x11a6+0x22c5)|(_0x5192b3?_0x507ae4['DEPTH_BUFF'+'ER_BIT']:0x13fa+-0x6a*0x19+0xb*-0xe0),_0x507ae4['NEAREST']),this['renderTarg'+'et']=_0x257aa8,_0x507ae4['bindFrameb'+'uffer'](_0x507ae4['FRAMEBUFFE'+'R'],_0x257aa8?_0x257aa8['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(-0x1118+-0x150+0x1268);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x27e4da){const _0x49e0f6=_0x27e4da['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x49e0f6,v['assert'](_0x49e0f6),G['pushGpuMar'+'ker'](this,'Pass:'+_0x27e4da['name']+'\x20RT:'+_0x49e0f6['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x443268,height:_0x5e5508}=_0x49e0f6;this['setViewpor'+'t'](-0x1237+-0x249*0x9+0x26c8,0x1*-0xdb+0x2f*-0x2f+-0x1*-0x97c,_0x443268,_0x5e5508),this['setScissor'](0x2048+-0x24e*-0x6+-0x4*0xb87,0x607*0x2+0x2e*-0x93+-0x2*-0x72e,_0x443268,_0x5e5508);const _0x2e9acb=_0x27e4da['colorOps'],_0x2a3c2a=_0x27e4da['depthStenc'+'ilOps'];if(_0x2e9acb!=null&&_0x2e9acb['clear']||_0x2a3c2a['clearDepth']||_0x2a3c2a['clearStenc'+'il']){let _0x239744=0x1f*-0x33+-0x1fa0*-0x1+-0x5*0x517;const _0x1e1e0c={};_0x2e9acb!=null&&_0x2e9acb['clear']&&(_0x239744|=Co,_0x1e1e0c['color']=[_0x2e9acb['clearValue']['r'],_0x2e9acb['clearValue']['g'],_0x2e9acb['clearValue']['b'],_0x2e9acb['clearValue']['a']]),_0x2a3c2a['clearDepth']&&(_0x239744|=Mo,_0x1e1e0c['depth']=_0x2a3c2a['clearDepth'+'Value']),_0x2a3c2a['clearStenc'+'il']&&(_0x239744|=Ah,_0x1e1e0c['stencil']=_0x2a3c2a['clearStenc'+'ilValue']),_0x1e1e0c['flags']=_0x239744,this['clear'](_0x1e1e0c);}v['call'](()=>{this['insideRend'+'erPass']&&v['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0xf5*-0x11+0xf9*-0x28+0x16a3),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x43395b){var _0x507487;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x391f6d=this['renderTarg'+'et'],_0x1f0891=_0x43395b['colorArray'+'Ops']['length'];if(_0x391f6d){Tn['length']=-0x43a+-0x29*0xf1+-0x1*-0x2ad3;const _0xed2f95=this['gl'];for(let _0x48232d=-0x62b*-0x5+0xe9b*0x1+-0x115*0x2a;_0x48232d<_0x1f0891;_0x48232d++){const _0x49a4f1=_0x43395b['colorArray'+'Ops'][_0x48232d];_0x49a4f1['store']||_0x49a4f1['resolve']||Tn['push'](_0xed2f95['COLOR_ATTA'+'CHMENT0']+_0x48232d);}_0x391f6d!==this['backBuffer']&&(_0x43395b['depthStenc'+'ilOps']['storeDepth']||Tn['push'](_0xed2f95['DEPTH_ATTA'+'CHMENT']),_0x43395b['depthStenc'+'ilOps']['storeStenc'+'il']||Tn['push'](_0xed2f95['STENCIL_AT'+'TACHMENT'])),Tn['length']>0xb1e*0x2+-0xb43*-0x2+-0x22*0x151&&_0x43395b['fullSizeCl'+'earRect']&&_0xed2f95['invalidate'+'Framebuffe'+'r'](_0xed2f95['DRAW_FRAME'+'BUFFER'],Tn),_0x1f0891&&((_0x507487=_0x43395b['colorOps'])!=null&&_0x507487['resolve'])&&_0x43395b['samples']>-0x2*-0x57+-0x1b85+0xd6c*0x2&&_0x391f6d['autoResolv'+'e']&&_0x391f6d['resolve'](!(-0x502+-0x1a13+0x1f15*0x1),!(-0x4*-0x52f+-0xe59*0x1+-0x662)),_0x391f6d['depthBuffe'+'r']&&_0x43395b['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x43395b['samples']>-0x1*0x1e67+-0x1ceb+0x1*0x3b53&&_0x391f6d['autoResolv'+'e']&&_0x391f6d['resolve'](!(-0x1c19+0x30f+0x190b),!(0x56b+-0x26f*-0x4+-0xf27));for(let _0x900296=-0x105*0xb+-0x26bb*-0x1+-0x1b84;_0x900296<_0x1f0891;_0x900296++)if(_0x43395b['colorArray'+'Ops'][_0x900296]['genMipmaps']){const _0x163ee2=_0x391f6d['_colorBuff'+'ers'][_0x900296];_0x163ee2&&_0x163ee2['impl']['_glTexture']&&_0x163ee2['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x900296),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1a7+0x20d4+-0x227a)),this['bindTextur'+'e'](_0x163ee2),this['gl']['generateMi'+'pmap'](_0x163ee2['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(0x1*0x49d+-0x1e6f+0xb*0x259),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x2cc24c){this['_defaultFr'+'amebuffer']!==_0x2cc24c&&(this['_defaultFr'+'amebuffer']=_0x2cc24c,this['_defaultFr'+'amebufferC'+'hanged']=!(-0x129d*0x1+-0x27*-0x72+0x13f));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x144c60=0x1d77*0x1+0x2156+0x2bb*-0x17;_0x144c60<this['textureUni'+'ts']['length'];++_0x144c60)for(let _0x25282c=0x1980+-0xf8f+-0x1*0x9f1;_0x25282c<0x1d5e+-0x1*-0x25ab+-0x2183*0x2;++_0x25282c)this['textureUni'+'ts'][_0x144c60][_0x25282c]=null;}const _0xf7ade5=this['renderTarg'+'et']??this['backBuffer'];v['assert'](_0xf7ade5);const _0x54cff9=_0xf7ade5['impl'];_0x54cff9['initialize'+'d']||this['initRender'+'Target'](_0xf7ade5),this['setFramebu'+'ffer'](_0x54cff9['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x26ba8a=this['renderTarg'+'et'];if(_0x26ba8a&&_0x26ba8a!==this['backBuffer']){_0x26ba8a['_samples']>-0x43d+0x1da4+-0x1966&&_0x26ba8a['autoResolv'+'e']&&_0x26ba8a['resolve']();const _0x4093a2=_0x26ba8a['_colorBuff'+'er'];_0x4093a2&&_0x4093a2['impl']['_glTexture']&&_0x4093a2['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x1dfe+0x1*0x765+-0xb*-0x20e)),this['bindTextur'+'e'](_0x4093a2),this['gl']['generateMi'+'pmap'](_0x4093a2['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x373f4a){if(this['unpackFlip'+'Y']!==_0x373f4a){this['unpackFlip'+'Y']=_0x373f4a;const _0x465d6e=this['gl'];_0x465d6e['pixelStore'+'i'](_0x465d6e['UNPACK_FLI'+'P_Y_WEBGL'],_0x373f4a);}}['setUnpackP'+'remultiply'+'Alpha'](_0xccf6ef){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0xccf6ef){this['unpackPrem'+'ultiplyAlp'+'ha']=_0xccf6ef;const _0x1e6749=this['gl'];_0x1e6749['pixelStore'+'i'](_0x1e6749['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0xccf6ef);}}['activeText'+'ure'](_0x211a80){this['textureUni'+'t']!==_0x211a80&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x211a80),this['textureUni'+'t']=_0x211a80);}['bindTextur'+'e'](_0x4d39db){const _0x109c8c=_0x4d39db['impl'],_0x1d202b=_0x109c8c['_glTarget'],_0x65e8db=_0x109c8c['_glTexture'],_0x21a85b=this['textureUni'+'t'],_0x4300c8=this['targetToSl'+'ot'][_0x1d202b];this['textureUni'+'ts'][_0x21a85b][_0x4300c8]!==_0x65e8db&&(this['gl']['bindTextur'+'e'](_0x1d202b,_0x65e8db),this['textureUni'+'ts'][_0x21a85b][_0x4300c8]=_0x65e8db);}['bindTextur'+'eOnUnit'](_0x3a2c4c,_0x235979){const _0x4f245b=_0x3a2c4c['impl'],_0x33751a=_0x4f245b['_glTarget'],_0x500ba0=_0x4f245b['_glTexture'],_0x75a2df=this['targetToSl'+'ot'][_0x33751a];this['textureUni'+'ts'][_0x235979][_0x75a2df]!==_0x500ba0&&(this['activeText'+'ure'](_0x235979),this['gl']['bindTextur'+'e'](_0x33751a,_0x500ba0),this['textureUni'+'ts'][_0x235979][_0x75a2df]=_0x500ba0);}['setTexture'+'Parameters'](_0x3742f4){const _0x957ef=this['gl'],_0x4f356e=_0x3742f4['impl']['dirtyParam'+'eterFlags'],_0x55cfd8=_0x3742f4['impl']['_glTarget'];if(_0x4f356e&zy){let _0x280fba=_0x3742f4['_minFilter'];(!_0x3742f4['_mipmaps']||_0x3742f4['_compresse'+'d']&&_0x3742f4['_levels']['length']===-0x10a1+-0x1828+-0xe3*-0x2e)&&(_0x280fba===fc||_0x280fba===pc?_0x280fba=de:(_0x280fba===mc||_0x280fba===nn)&&(_0x280fba=st)),_0x957ef['texParamet'+'eri'](_0x55cfd8,_0x957ef['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x280fba]);}if(_0x4f356e&Uy&&_0x957ef['texParamet'+'eri'](_0x55cfd8,_0x957ef['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x3742f4['_magFilter']]),_0x4f356e&Vy&&_0x957ef['texParamet'+'eri'](_0x55cfd8,_0x957ef['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x3742f4['_addressU']]),_0x4f356e&Gy&&_0x957ef['texParamet'+'eri'](_0x55cfd8,_0x957ef['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x3742f4['_addressV']]),_0x4f356e&Hy&&_0x957ef['texParamet'+'eri'](_0x55cfd8,_0x957ef['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x3742f4['_addressW']]),_0x4f356e&$y&&_0x957ef['texParamet'+'eri'](_0x55cfd8,_0x957ef['TEXTURE_CO'+'MPARE_MODE'],_0x3742f4['_compareOn'+'Read']?_0x957ef['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x957ef['NONE']),_0x4f356e&Wy&&_0x957ef['texParamet'+'eri'](_0x55cfd8,_0x957ef['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x3742f4['_compareFu'+'nc']]),_0x4f356e&qy){const _0x313167=this['extTexture'+'FilterAnis'+'otropic'];_0x313167&&_0x957ef['texParamet'+'erf'](_0x55cfd8,_0x313167['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],N['clamp'](Math['round'](_0x3742f4['_anisotrop'+'y']),0x1c81*0x1+-0x15f4+-0x68c,this['maxAnisotr'+'opy']));}}['setTexture'](_0x45acc1,_0x39d823){const _0x38438c=_0x45acc1['impl'];_0x38438c['_glTexture']||_0x38438c['initialize'](this,_0x45acc1),_0x38438c['dirtyParam'+'eterFlags']>0x4c*0x67+0x25*-0x2f+0x1*-0x17c9||_0x45acc1['_needsUplo'+'ad']||_0x45acc1['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x39d823),this['bindTextur'+'e'](_0x45acc1),_0x38438c['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x45acc1),_0x38438c['dirtyParam'+'eterFlags']=0x26bc+0x8d3+-0x5*0x983),(_0x45acc1['_needsUplo'+'ad']||_0x45acc1['_needsMipm'+'apsUpload'])&&(_0x38438c['upload'](this,_0x45acc1),_0x45acc1['_needsUplo'+'ad']=!(-0x1cda+-0x120+-0x1dfb*-0x1),_0x45acc1['_needsMipm'+'apsUpload']=!(0x7ae*0x1+-0xf82+0x7d5*0x1))):this['bindTextur'+'eOnUnit'](_0x45acc1,_0x39d823);}['createVert'+'exArray'](_0x3b1aef){let _0x554d4b,_0xf833aa;const _0x546468=_0x3b1aef['length']>-0xfdf+0x3b*-0x31+0x1b2b;if(_0x546468){_0x554d4b='';for(let _0x54d25a=0x7f4+0xf*-0x7+-0x78b*0x1;_0x54d25a<_0x3b1aef['length'];_0x54d25a++){const _0x366213=_0x3b1aef[_0x54d25a];_0x554d4b+=_0x366213['id']+_0x366213['format']['renderingH'+'ash'];}_0xf833aa=this['_vaoMap']['get'](_0x554d4b);}if(!_0xf833aa){const _0x35809b=this['gl'];_0xf833aa=_0x35809b['createVert'+'exArray'](),_0x35809b['bindVertex'+'Array'](_0xf833aa),_0x35809b['bindBuffer'](_0x35809b['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x45754f=!(-0x132+-0x1549*-0x1+-0x1416*0x1);for(let _0x2e4d24=-0x446+-0x6ef*-0x5+0x1e65*-0x1;_0x2e4d24<_0x3b1aef['length'];_0x2e4d24++){const _0xc687c8=_0x3b1aef[_0x2e4d24];_0x35809b['bindBuffer'](_0x35809b['ARRAY_BUFF'+'ER'],_0xc687c8['impl']['bufferId']);const _0xb1b302=_0xc687c8['format']['elements'];for(let _0x50cbe4=0xa2d+-0x2416+0x19e9;_0x50cbe4<_0xb1b302['length'];_0x50cbe4++){const _0x4e5387=_0xb1b302[_0x50cbe4],_0x2a4af0=ve[_0x4e5387['name']];_0x2a4af0===-0x7*-0x469+0x1871+-0x3750&&(_0x45754f=!(-0x595*0x3+0x1*0x10d+0x31*0x52)),_0x4e5387['asInt']?_0x35809b['vertexAttr'+'ibIPointer'](_0x2a4af0,_0x4e5387['numCompone'+'nts'],this['glType'][_0x4e5387['dataType']],_0x4e5387['stride'],_0x4e5387['offset']):_0x35809b['vertexAttr'+'ibPointer'](_0x2a4af0,_0x4e5387['numCompone'+'nts'],this['glType'][_0x4e5387['dataType']],_0x4e5387['normalize'],_0x4e5387['stride'],_0x4e5387['offset']),_0x35809b['enableVert'+'exAttribAr'+'ray'](_0x2a4af0),_0xc687c8['format']['instancing']&&_0x35809b['vertexAttr'+'ibDivisor'](_0x2a4af0,0x1937+-0x1*-0x1231+-0x2b67);}}_0x35809b['bindVertex'+'Array'](null),_0x35809b['bindBuffer'](_0x35809b['ARRAY_BUFF'+'ER'],null),_0x546468&&this['_vaoMap']['set'](_0x554d4b,_0xf833aa),_0x45754f||v['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0xf833aa;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x53a6fe=this['gl'];let _0x36f969;if(this['vertexBuff'+'ers']['length']===-0xb01*0x3+-0x130a+-0x1*-0x340e){const _0x52ea52=this['vertexBuff'+'ers'][0x117*0x8+0x1*0x19c+-0x1*0xa54];v['assert'](_0x52ea52['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x52ea52['impl']['vao']||(_0x52ea52['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x36f969=_0x52ea52['impl']['vao'];}else _0x36f969=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x36f969&&(this['boundVao']=_0x36f969,_0x53a6fe['bindVertex'+'Array'](_0x36f969)),this['clearVerte'+'xBuffer']();const _0x188c7e=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x53a6fe['bindBuffer'](_0x53a6fe['ELEMENT_AR'+'RAY_BUFFER'],_0x188c7e);}['draw'](_0x3af3c6,_0x4b8bad,_0x469d71){const _0x318ec6=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x30f636,_0x2408e9,_0x3ad8dd,_0x4d5c7b,_0x1916f1,_0x3f9fe8,_0x2d6553,_0x42769d;const _0x2463a8=this['shader'];if(!_0x2463a8)return;const _0x1652e5=_0x2463a8['impl']['samplers'],_0x1db236=_0x2463a8['impl']['uniforms'];_0x469d71||this['setBuffers']();let _0x5638fc=-0x516+0x1f51*0x1+-0x1a3b;for(let _0x3be236=0x6b6+0x2397+-0x2a4d,_0x5c34ee=_0x1652e5['length'];_0x3be236<_0x5c34ee;_0x3be236++){if(_0x30f636=_0x1652e5[_0x3be236],_0x2408e9=_0x30f636['scopeId']['value'],!_0x2408e9){const _0x1cae16=_0x30f636['scopeId']['name'];v['assert'](_0x1cae16!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),v['assert'](_0x1cae16!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x1cae16==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x2408e9=en(this,'white')),_0x1cae16==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x2408e9=en(this,'pink')),_0x2408e9||(v['errorOnce']('Shader\x20'+_0x2463a8['name']+'\x20requires\x20'+_0x1cae16+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x2408e9=en(this,'pink'));}if(_0x2408e9 instanceof he)_0x3ad8dd=_0x2408e9,this['setTexture'](_0x3ad8dd,_0x5638fc),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<-0x168c+-0x287*0x9+0x2d4d&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x3ad8dd?v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x3ad8dd}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x3ad8dd&&v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x3ad8dd})),_0x30f636['slot']!==_0x5638fc&&(_0x318ec6['uniform1i'](_0x30f636['locationId'],_0x5638fc),_0x30f636['slot']=_0x5638fc),_0x5638fc++;else{_0x30f636['array']['length']=0x1b3+0x649*0x1+-0x7fc,_0x4d5c7b=_0x2408e9['length'];for(let _0x1b5f5b=0x1670+-0x17*0x15d+0x8eb;_0x1b5f5b<_0x4d5c7b;_0x1b5f5b++)_0x3ad8dd=_0x2408e9[_0x1b5f5b],this['setTexture'](_0x3ad8dd,_0x5638fc),_0x30f636['array'][_0x1b5f5b]=_0x5638fc,_0x5638fc++;_0x318ec6['uniform1iv'](_0x30f636['locationId'],_0x30f636['array']);}}for(let _0x426c3e=0x11*0x1e4+-0x7ce+-0x1856,_0x407a49=_0x1db236['length'];_0x426c3e<_0x407a49;_0x426c3e++)_0x1916f1=_0x1db236[_0x426c3e],_0x3f9fe8=_0x1916f1['scopeId'],_0x2d6553=_0x1916f1['version'],_0x42769d=_0x3f9fe8['versionObj'+'ect']['version'],(_0x2d6553['globalId']!==_0x42769d['globalId']||_0x2d6553['revision']!==_0x42769d['revision'])&&(_0x2d6553['globalId']=_0x42769d['globalId'],_0x2d6553['revision']=_0x42769d['revision'],_0x3f9fe8['value']!==null&&this['commitFunc'+'tion'][_0x1916f1['dataType']](_0x1916f1,_0x3f9fe8['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x318ec6['bindBuffer'+'Base'](_0x318ec6['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x648+-0x258b+0x2bd3,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x318ec6['beginTrans'+'formFeedba'+'ck'](_0x318ec6['POINTS']));const _0x3d92b8=this['glPrimitiv'+'e'][_0x3af3c6['type']],_0x3cc1f8=_0x3af3c6['count'];if(_0x3af3c6['indexed']){const _0x13365a=this['indexBuffe'+'r'];v['assert'](_0x13365a['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x4c2f5d=_0x13365a['impl']['glFormat'],_0xa13ba7=_0x3af3c6['base']*_0x13365a['bytesPerIn'+'dex'];_0x4b8bad>-0x710+-0xea1*0x1+0x15b1?_0x318ec6['drawElemen'+'tsInstance'+'d'](_0x3d92b8,_0x3cc1f8,_0x4c2f5d,_0xa13ba7,_0x4b8bad):_0x318ec6['drawElemen'+'ts'](_0x3d92b8,_0x3cc1f8,_0x4c2f5d,_0xa13ba7);}else{const _0x46679d=_0x3af3c6['base'];_0x4b8bad>-0x251*0x1+0x590+-0x33f?_0x318ec6['drawArrays'+'Instanced'](_0x3d92b8,_0x46679d,_0x3cc1f8,_0x4b8bad):_0x318ec6['drawArrays'](_0x3d92b8,_0x46679d,_0x3cc1f8);}this['transformF'+'eedbackBuf'+'fer']&&(_0x318ec6['endTransfo'+'rmFeedback'](),_0x318ec6['bindBuffer'+'Base'](_0x318ec6['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x5ed*-0x5+-0x3e8+0x2189,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x3af3c6['type']]+=_0x3af3c6['count']*(_0x4b8bad>0x59*-0x43+0x2*-0xc11+0x17b7*0x2?_0x4b8bad:-0x139*0x6+-0x1*-0x24d7+0x40*-0x76);}['clear'](_0x239bb9){const _0x2cea08=this['defaultCle'+'arOptions'];_0x239bb9=_0x239bb9||_0x2cea08;const _0x386b1a=_0x239bb9['flags']??_0x2cea08['flags'];if(_0x386b1a!==0x19bf+0xd6b*0x1+0x272a*-0x1){const _0x40f9aa=this['gl'];if(_0x386b1a&Co){const _0x565f18=_0x239bb9['color']??_0x2cea08['color'],_0x39fbf8=_0x565f18[-0x6cd+-0xeb+0x7b8],_0x6dd0be=_0x565f18[-0x1*0x32b+0x47*-0x56+0x1b06],_0xbf5590=_0x565f18[0x1b2a+0x1892+-0x33ba],_0x2ce380=_0x565f18[-0x9*-0x36d+0xc*0xca+-0x17e*0x1b],_0x249520=this['clearColor'];(_0x39fbf8!==_0x249520['r']||_0x6dd0be!==_0x249520['g']||_0xbf5590!==_0x249520['b']||_0x2ce380!==_0x249520['a'])&&(this['gl']['clearColor'](_0x39fbf8,_0x6dd0be,_0xbf5590,_0x2ce380),this['clearColor']['set'](_0x39fbf8,_0x6dd0be,_0xbf5590,_0x2ce380)),this['setBlendSt'+'ate'](_t['NOBLEND']);}if(_0x386b1a&Mo){const _0x37c71e=_0x239bb9['depth']??_0x2cea08['depth'];_0x37c71e!==this['clearDepth']&&(this['gl']['clearDepth'](_0x37c71e),this['clearDepth']=_0x37c71e),this['setDepthSt'+'ate'](as['WRITEDEPTH']);}if(_0x386b1a&Ah){const _0x4905ca=_0x239bb9['stencil']??_0x2cea08['stencil'];_0x4905ca!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x4905ca),this['clearStenc'+'il']=_0x4905ca),_0x40f9aa['stencilMas'+'k'](-0x1*0xe2f+-0x180a+0x2738),this['stencilWri'+'teMaskFron'+'t']=-0x15df+0x33e+0x13a0,this['stencilWri'+'teMaskBack']=-0x641*0x2+0x2567*-0x1+-0x43e*-0xc;}_0x40f9aa['clear'](this['glClearFla'+'g'][_0x386b1a]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x3fecff,_0x2b0eaa,_0x14b9fb,_0x1630dc,_0x356120){const _0x5543fd=this['gl'];_0x5543fd['readPixels'](_0x3fecff,_0x2b0eaa,_0x14b9fb,_0x1630dc,_0x5543fd['RGBA'],_0x5543fd['UNSIGNED_B'+'YTE'],_0x356120);}async['readPixels'+'Async'](_0x149507,_0x18b507,_0x4614db,_0xce1bd2,_0x174058){var _0x31787a;const _0x61214e=this['gl'],_0x4e5e41=(_0x28dcb7,_0x5193eb)=>{const _0x34ceca=_0x61214e['fenceSync'](_0x61214e['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],-0x1*-0xf5b+0x223b+-0xb*0x482);return this['submit'](),new Promise((_0x444909,_0x396f71)=>{function _0x2f6c15(){const _0x3954b0=_0x61214e['clientWait'+'Sync'](_0x34ceca,_0x28dcb7,-0x2496+0x947+-0x1*-0x1b4f);_0x3954b0===_0x61214e['WAIT_FAILE'+'D']?(_0x61214e['deleteSync'](_0x34ceca),_0x396f71(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x3954b0===_0x61214e['TIMEOUT_EX'+'PIRED']?setTimeout(_0x2f6c15,_0x5193eb):(_0x61214e['deleteSync'](_0x34ceca),_0x444909());}_0x2f6c15();});},_0x18051b=(_0x31787a=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0x73*0x3f+-0x2511*0x1+0x415e):_0x31787a['impl'],_0xf27e79=(_0x18051b==null?void(0x1*0x54f+-0x1e81+0x1932):_0x18051b['_glFormat'])??_0x61214e['RGBA'],_0xfb9349=(_0x18051b==null?void(-0x2f*0x58+0xa55+0x5d3):_0x18051b['_glPixelTy'+'pe'])??_0x61214e['UNSIGNED_B'+'YTE'],_0x39258a=_0x61214e['createBuff'+'er']();return _0x61214e['bindBuffer'](_0x61214e['PIXEL_PACK'+'_BUFFER'],_0x39258a),_0x61214e['bufferData'](_0x61214e['PIXEL_PACK'+'_BUFFER'],_0x174058['byteLength'],_0x61214e['STREAM_REA'+'D']),_0x61214e['readPixels'](_0x149507,_0x18b507,_0x4614db,_0xce1bd2,_0xf27e79,_0xfb9349,0x16c2+0x1dcb*-0x1+0x709),_0x61214e['bindBuffer'](_0x61214e['PIXEL_PACK'+'_BUFFER'],null),await _0x4e5e41(-0x46b+0x1033+-0x1*0xbc8,0x3*-0xa52+0x1*0x1e1d+0xed),_0x61214e['bindBuffer'](_0x61214e['PIXEL_PACK'+'_BUFFER'],_0x39258a),_0x61214e['getBufferS'+'ubData'](_0x61214e['PIXEL_PACK'+'_BUFFER'],0x1906+0x1611+-0x2f17,_0x174058),_0x61214e['bindBuffer'](_0x61214e['PIXEL_PACK'+'_BUFFER'],null),_0x61214e['deleteBuff'+'er'](_0x39258a),_0x174058;}['readTextur'+'eAsync'](_0x57246b,_0x17c111,_0x4f82bf,_0x3ba74b,_0x3d8678,_0x5d2246){const _0x1f7528=_0x5d2246['face']??0x3*-0x162+0xf*0x245+-0x1de5,_0x30524d=_0x5d2246['renderTarg'+'et']??new pt({'colorBuffer':_0x57246b,'depth':!(-0x1*0x1a69+-0x8*-0x4d3+-0x2*0x617),'face':_0x1f7528});v['assert'](_0x30524d['colorBuffe'+'r']===_0x57246b);const _0x2dffd5=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x3ba74b,_0x3d8678,-0x16bc+-0x22ab+0x3968,_0x57246b['_format'])),_0x5eaafe=_0x5d2246['data']??new(Cy(_0x57246b['_format']))(_0x2dffd5);return this['setRenderT'+'arget'](_0x30524d),this['initRender'+'Target'](_0x30524d),new Promise((_0x1a4993,_0x4f0f72)=>{this['readPixels'+'Async'](_0x17c111,_0x4f82bf,_0x3ba74b,_0x3d8678,_0x5eaafe)['then'](_0x1d8e2f=>{_0x5d2246['renderTarg'+'et']||_0x30524d['destroy'](),_0x1a4993(_0x1d8e2f);})['catch'](_0x4f0f72);});}['setAlphaTo'+'Coverage'](_0xe41d0d){this['alphaToCov'+'erage']!==_0xe41d0d&&(this['alphaToCov'+'erage']=_0xe41d0d,_0xe41d0d?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x5aa685){if(this['transformF'+'eedbackBuf'+'fer']!==_0x5aa685){this['transformF'+'eedbackBuf'+'fer']=_0x5aa685;const _0x3fb16b=this['gl'];_0x5aa685?(this['feedback']||(this['feedback']=_0x3fb16b['createTran'+'sformFeedb'+'ack']()),_0x3fb16b['bindTransf'+'ormFeedbac'+'k'](_0x3fb16b['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x3fb16b['bindTransf'+'ormFeedbac'+'k'](_0x3fb16b['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x4fc249){this['raster']!==_0x4fc249&&(this['raster']=_0x4fc249,_0x4fc249?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x4c1bd9){if(this['stencil']!==_0x4c1bd9){const _0x5196dd=this['gl'];_0x4c1bd9?_0x5196dd['enable'](_0x5196dd['STENCIL_TE'+'ST']):_0x5196dd['disable'](_0x5196dd['STENCIL_TE'+'ST']),this['stencil']=_0x4c1bd9;}}['setStencil'+'Func'](_0x428006,_0x2cffd5,_0x136d12){(this['stencilFun'+'cFront']!==_0x428006||this['stencilRef'+'Front']!==_0x2cffd5||this['stencilMas'+'kFront']!==_0x136d12||this['stencilFun'+'cBack']!==_0x428006||this['stencilRef'+'Back']!==_0x2cffd5||this['stencilMas'+'kBack']!==_0x136d12)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x428006],_0x2cffd5,_0x136d12),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x428006,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x2cffd5,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x136d12);}['setStencil'+'FuncFront'](_0xf4e9c9,_0x2a5436,_0x427421){if(this['stencilFun'+'cFront']!==_0xf4e9c9||this['stencilRef'+'Front']!==_0x2a5436||this['stencilMas'+'kFront']!==_0x427421){const _0x2fc48c=this['gl'];_0x2fc48c['stencilFun'+'cSeparate'](_0x2fc48c['FRONT'],this['glComparis'+'on'][_0xf4e9c9],_0x2a5436,_0x427421),this['stencilFun'+'cFront']=_0xf4e9c9,this['stencilRef'+'Front']=_0x2a5436,this['stencilMas'+'kFront']=_0x427421;}}['setStencil'+'FuncBack'](_0x4c5048,_0x136b84,_0x2c5391){if(this['stencilFun'+'cBack']!==_0x4c5048||this['stencilRef'+'Back']!==_0x136b84||this['stencilMas'+'kBack']!==_0x2c5391){const _0x5120d8=this['gl'];_0x5120d8['stencilFun'+'cSeparate'](_0x5120d8['BACK'],this['glComparis'+'on'][_0x4c5048],_0x136b84,_0x2c5391),this['stencilFun'+'cBack']=_0x4c5048,this['stencilRef'+'Back']=_0x136b84,this['stencilMas'+'kBack']=_0x2c5391;}}['setStencil'+'Operation'](_0x473c1c,_0x574c27,_0x1b37a3,_0x17fcaf){(this['stencilFai'+'lFront']!==_0x473c1c||this['stencilZfa'+'ilFront']!==_0x574c27||this['stencilZpa'+'ssFront']!==_0x1b37a3||this['stencilFai'+'lBack']!==_0x473c1c||this['stencilZfa'+'ilBack']!==_0x574c27||this['stencilZpa'+'ssBack']!==_0x1b37a3)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x473c1c],this['glStencilO'+'p'][_0x574c27],this['glStencilO'+'p'][_0x1b37a3]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x473c1c,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x574c27,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x1b37a3),(this['stencilWri'+'teMaskFron'+'t']!==_0x17fcaf||this['stencilWri'+'teMaskBack']!==_0x17fcaf)&&(this['gl']['stencilMas'+'k'](_0x17fcaf),this['stencilWri'+'teMaskFron'+'t']=_0x17fcaf,this['stencilWri'+'teMaskBack']=_0x17fcaf);}['setStencil'+'OperationF'+'ront'](_0x42e7e9,_0x55dade,_0x2db062,_0x8283bc){(this['stencilFai'+'lFront']!==_0x42e7e9||this['stencilZfa'+'ilFront']!==_0x55dade||this['stencilZpa'+'ssFront']!==_0x2db062)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x42e7e9],this['glStencilO'+'p'][_0x55dade],this['glStencilO'+'p'][_0x2db062]),this['stencilFai'+'lFront']=_0x42e7e9,this['stencilZfa'+'ilFront']=_0x55dade,this['stencilZpa'+'ssFront']=_0x2db062),this['stencilWri'+'teMaskFron'+'t']!==_0x8283bc&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x8283bc),this['stencilWri'+'teMaskFron'+'t']=_0x8283bc);}['setStencil'+'OperationB'+'ack'](_0x534d4c,_0x585475,_0x38cbbf,_0x2e4ac3){(this['stencilFai'+'lBack']!==_0x534d4c||this['stencilZfa'+'ilBack']!==_0x585475||this['stencilZpa'+'ssBack']!==_0x38cbbf)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x534d4c],this['glStencilO'+'p'][_0x585475],this['glStencilO'+'p'][_0x38cbbf]),this['stencilFai'+'lBack']=_0x534d4c,this['stencilZfa'+'ilBack']=_0x585475,this['stencilZpa'+'ssBack']=_0x38cbbf),this['stencilWri'+'teMaskBack']!==_0x2e4ac3&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x2e4ac3),this['stencilWri'+'teMaskBack']=_0x2e4ac3);}['setBlendSt'+'ate'](_0x5e064d){const _0x4f7c08=this['blendState'];if(!_0x4f7c08['equals'](_0x5e064d)){const _0x4820c3=this['gl'],{blend:_0x549977,colorOp:_0x1fbe7d,alphaOp:_0x4d5d11,colorSrcFactor:_0x53a329,colorDstFactor:_0x41d87d,alphaSrcFactor:_0x447060,alphaDstFactor:_0x332d40}=_0x5e064d;if(_0x4f7c08['blend']!==_0x549977&&(_0x549977?_0x4820c3['enable'](_0x4820c3['BLEND']):_0x4820c3['disable'](_0x4820c3['BLEND'])),_0x4f7c08['colorOp']!==_0x1fbe7d||_0x4f7c08['alphaOp']!==_0x4d5d11){const _0x2e81f2=this['glBlendEqu'+'ation'];_0x4820c3['blendEquat'+'ionSeparat'+'e'](_0x2e81f2[_0x1fbe7d],_0x2e81f2[_0x4d5d11]);}(_0x4f7c08['colorSrcFa'+'ctor']!==_0x53a329||_0x4f7c08['colorDstFa'+'ctor']!==_0x41d87d||_0x4f7c08['alphaSrcFa'+'ctor']!==_0x447060||_0x4f7c08['alphaDstFa'+'ctor']!==_0x332d40)&&_0x4820c3['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x53a329],this['glBlendFun'+'ctionColor'][_0x41d87d],this['glBlendFun'+'ctionAlpha'][_0x447060],this['glBlendFun'+'ctionAlpha'][_0x332d40]),_0x4f7c08['allWrite']!==_0x5e064d['allWrite']&&this['gl']['colorMask'](_0x5e064d['redWrite'],_0x5e064d['greenWrite'],_0x5e064d['blueWrite'],_0x5e064d['alphaWrite']),_0x4f7c08['copy'](_0x5e064d);}}['setBlendCo'+'lor'](_0x23f06,_0x31b775,_0x249979,_0x4b4ad2){const _0x3314ea=this['blendColor'];(_0x23f06!==_0x3314ea['r']||_0x31b775!==_0x3314ea['g']||_0x249979!==_0x3314ea['b']||_0x4b4ad2!==_0x3314ea['a'])&&(this['gl']['blendColor'](_0x23f06,_0x31b775,_0x249979,_0x4b4ad2),_0x3314ea['set'](_0x23f06,_0x31b775,_0x249979,_0x4b4ad2));}['setStencil'+'State'](_0xfc329f,_0x29b6a7){_0xfc329f||_0x29b6a7?(this['setStencil'+'Test'](!(0x1af8+-0x414+-0x16e4)),_0xfc329f===_0x29b6a7?(this['setStencil'+'Func'](_0xfc329f['func'],_0xfc329f['ref'],_0xfc329f['readMask']),this['setStencil'+'Operation'](_0xfc329f['fail'],_0xfc329f['zfail'],_0xfc329f['zpass'],_0xfc329f['writeMask'])):(_0xfc329f??(_0xfc329f=qs['DEFAULT']),this['setStencil'+'FuncFront'](_0xfc329f['func'],_0xfc329f['ref'],_0xfc329f['readMask']),this['setStencil'+'OperationF'+'ront'](_0xfc329f['fail'],_0xfc329f['zfail'],_0xfc329f['zpass'],_0xfc329f['writeMask']),_0x29b6a7??(_0x29b6a7=qs['DEFAULT']),this['setStencil'+'FuncBack'](_0x29b6a7['func'],_0x29b6a7['ref'],_0x29b6a7['readMask']),this['setStencil'+'OperationB'+'ack'](_0x29b6a7['fail'],_0x29b6a7['zfail'],_0x29b6a7['zpass'],_0x29b6a7['writeMask']))):this['setStencil'+'Test'](!(-0x14a7+-0x1*0x1c51+0x30f9));}['setDepthSt'+'ate'](_0x39d28c){const _0x3b376f=this['depthState'];if(!_0x3b376f['equals'](_0x39d28c)){const _0x462576=this['gl'],_0x2a9d89=_0x39d28c['write'];_0x3b376f['write']!==_0x2a9d89&&_0x462576['depthMask'](_0x2a9d89);let {func:_0x364a27,test:_0x2b85bf}=_0x39d28c;!_0x2b85bf&&_0x2a9d89&&(_0x2b85bf=!(0x1d*-0x6b+-0x20f8+0x2d17),_0x364a27=Ai),_0x3b376f['func']!==_0x364a27&&_0x462576['depthFunc'](this['glComparis'+'on'][_0x364a27]),_0x3b376f['test']!==_0x2b85bf&&(_0x2b85bf?_0x462576['enable'](_0x462576['DEPTH_TEST']):_0x462576['disable'](_0x462576['DEPTH_TEST']));const {depthBias:_0x5528cf,depthBiasSlope:_0x3a1d1b}=_0x39d28c;_0x5528cf||_0x3a1d1b?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x1b00+0x38*-0x3e+0x4*-0x35c),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x462576['polygonOff'+'set'](_0x3a1d1b,_0x5528cf)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x4*0x482+0x31d*-0x6+0xa7),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x3b376f['copy'](_0x39d28c);}}['setCullMod'+'e'](_0x1c92c2){if(this['cullMode']!==_0x1c92c2){if(_0x1c92c2===mt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===mt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x12e4d3=this['glCull'][_0x1c92c2];this['cullFace']!==_0x12e4d3&&(this['gl']['cullFace'](_0x12e4d3),this['cullFace']=_0x12e4d3);}this['cullMode']=_0x1c92c2;}}['setShader'](_0x495bbc,_0x339ade=!(-0x2*-0x247+-0x1a8a+0x15fd)){_0x495bbc!==this['shader']&&(this['shader']=_0x495bbc,this['shaderAsyn'+'cCompile']=_0x339ade,this['shaderVali'+'d']=void(-0x11dd+-0xb22+0x1cff),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0x193cba){const {shader:_0xbfcdf9}=this,{impl:_0x4a1bef}=_0xbfcdf9;this['shaderVali'+'d']===void(-0x785*0x5+-0x94f*-0x1+0x47*0x66)&&(_0xbfcdf9['failed']?this['shaderVali'+'d']=!(0x26*-0xc3+0x2d6+0x1a1d):_0xbfcdf9['ready']||(this['shaderAsyn'+'cCompile']?_0x4a1bef['isLinked'](_0x193cba)?_0x4a1bef['finalize'](this,_0xbfcdf9)||(_0xbfcdf9['failed']=!(0x144d+-0x6f4+-0xd59),this['shaderVali'+'d']=!(0x1*-0x2606+-0x14c*0x2+-0x289f*-0x1)):this['shaderVali'+'d']=!(0x13ad+-0x56d+-0xe3f):_0x4a1bef['finalize'](this,_0xbfcdf9)||(_0xbfcdf9['failed']=!(-0x211+0x137d*-0x1+0x158e),this['shaderVali'+'d']=!(-0x6*0x571+-0x2569+0x4610)))),this['shaderVali'+'d']===void(-0x1*-0x19fd+-0xdfd+-0x10*0xc0)&&(this['gl']['useProgram'](_0x4a1bef['glProgram']),this['shaderVali'+'d']=!(0x2*-0xe75+-0xf93*0x1+0x2c7d));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0xc9c4d2=this['gl'];this['_vaoMap']['forEach']((_0x267594,_0x5e7b0e,_0x5375d4)=>{_0xc9c4d2['deleteVert'+'exArray'](_0x267594);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x1d5f4b){_0x1d5f4b?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x348516=0xd15+-0x1230+0x57f){const _0x98a4da=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x98a4da['loseContex'+'t'](),setTimeout(()=>_0x98a4da['restoreCon'+'text'](),_0x348516);}}let mb=0x5c*-0x27+-0x157*-0x7+0x4a3;class lr{constructor(_0x3594b2,_0x35019e,_0x410f06,_0x5a5d69=jt,_0xf5375,_0x1fd141){this['device']=_0x3594b2,this['format']=_0x35019e,this['numIndices']=_0x410f06,this['usage']=_0x5a5d69,this['id']=mb++,this['impl']=_0x3594b2['createInde'+'xBufferImp'+'l'](this,_0x1fd141);const _0x438ef=vv[_0x35019e];this['bytesPerIn'+'dex']=_0x438ef,this['numBytes']=this['numIndices']*_0x438ef,_0xf5375?this['setData'](_0xf5375):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x3594b2['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0xdd3837=this['device'],_0x2535fa=_0xdd3837['buffers']['indexOf'](this);_0x2535fa!==-(0x1725+-0x1*0x8b4+-0x7*0x210)&&_0xdd3837['buffers']['splice'](_0x2535fa,0x686+-0x11a0+0xb1b),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0xdd3837),this['adjustVram'+'SizeTracki'+'ng'](_0xdd3837['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x428b4e,_0xcedbb1){v['trace'](Qx,this['id']+'\x20size:\x20'+_0xcedbb1+'\x20vram.ib:\x20'+_0x428b4e['ib']+'\x20=>\x20'+(_0x428b4e['ib']+_0xcedbb1)),_0x428b4e['ib']+=_0xcedbb1;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x2fde0c){return _0x2fde0c['byteLength']!==this['numBytes']?(v['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x2fde0c['byteLength']),!(-0x1bae+-0x74*0x8+0x23*0xe5)):(this['storage']=_0x2fde0c,this['unlock'](),!(-0x1e1f+0x1876+-0xcf*-0x7));}['_lockTyped'+'Array'](){const _0x11ba42=this['lock']();return this['format']===nr?new Uint32Array(_0x11ba42):this['format']===Pi?new Uint16Array(_0x11ba42):new Uint8Array(_0x11ba42);}['writeData'](_0xa0eef9,_0xea607f){const _0x4257fb=this['_lockTyped'+'Array']();if(_0xa0eef9['length']>_0xea607f){if(ArrayBuffer['isView'](_0xa0eef9))_0xa0eef9=_0xa0eef9['subarray'](-0x21fe+-0x1241*0x1+0x343f,_0xea607f),_0x4257fb['set'](_0xa0eef9);else{for(let _0x4d3ecc=-0x17*0xa1+0x1163+0x176*-0x2;_0x4d3ecc<_0xea607f;_0x4d3ecc++)_0x4257fb[_0x4d3ecc]=_0xa0eef9[_0x4d3ecc];}}else _0x4257fb['set'](_0xa0eef9);this['unlock']();}['readData'](_0x15df16){const _0x10328d=this['_lockTyped'+'Array'](),_0x2bdedd=this['numIndices'];if(ArrayBuffer['isView'](_0x15df16))_0x15df16['set'](_0x10328d);else{_0x15df16['length']=-0x92*0x2e+-0xa5f+0x249b;for(let _0x2d0b36=0xbbb+-0x69d*0x2+0x17f*0x1;_0x2d0b36<_0x2bdedd;_0x2d0b36++)_0x15df16[_0x2d0b36]=_0x10328d[_0x2d0b36];}return _0x2bdedd;}}class _b{constructor(){c(this,'clearValue',new Y(-0x493*-0x1+0x13b0+0x1843*-0x1,-0x1*-0xb8d+0x1*-0xe08+0x7f*0x5,0x1c26+-0x2e*-0x2e+0x4f*-0x76,-0x1972*0x1+0x101e+0x955)),c(this,'clearValue'+'Linear',new Y(0x2282+0xc34+0x2eb6*-0x1,0x9a2+0x79*-0x2+-0x8b0,0x35f*0x5+-0x119*0x19+0xa96,-0x587+-0x9a*-0x3b+0xefb*-0x2)),c(this,'clear',!(-0x3*0x30f+0xc88+0x16*-0x27)),c(this,'store',!(0xb53+-0x1667*0x1+0xb15*0x1)),c(this,'resolve',!(-0x19*0x15b+0x1*0x23ab+-0x13*0x18)),c(this,'genMipmaps',!(0x3*0xa7c+-0x7*0x319+-0xfa*0xa));}}class gb{constructor(){c(this,'clearDepth'+'Value',-0x10fd+-0x1b*0x7f+0x1e63),c(this,'clearStenc'+'ilValue',0x2e6+0x111a+-0x1400),c(this,'clearDepth',!(-0x26d+-0x56b+-0x11f*-0x7)),c(this,'clearStenc'+'il',!(-0x2597+0x67*0xe+0x1ff6)),c(this,'storeDepth',!(0x8c2+0x6a3*-0x1+0x1*-0x21e)),c(this,'resolveDep'+'th',!(-0xc02+0x1cf*-0x1+0x6e9*0x2)),c(this,'storeStenc'+'il',!(0x9f*-0x33+0x1*0xb4e+0x518*0x4));}}class ds{constructor(_0x1d158b){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(-0x297+0x1540+-0x12a9)),c(this,'_skipStart',!(0x15dc+0x251d+-0xcc*0x4a)),c(this,'_skipEnd',!(0xbad+0x1*0x33d+0x1*-0xee9)),c(this,'executeEna'+'bled',!(-0x1b28+-0x1136+0x2c5e)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',-0xfc9+-0x20d1+-0x309a*-0x1),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(0x43b+-0x2*-0xe86+-0x2147)),c(this,'fullSizeCl'+'earRect',!(-0x7f4*0x1+0x22*-0xd7+0x2482)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(v['assert'](_0x1d158b),this['device']=_0x1d158b);}get['colorOps'](){return this['colorArray'+'Ops'][-0x627+0x5*0x709+-0x1d06];}set['name'](_0x47edf5){this['_name']=_0x47edf5;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x1e6389){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x1e6389;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x1a1f93){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x1a1f93;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x559d43){this['_options']=_0x559d43,_0x559d43&&(this['scaleX']=this['scaleX']??0x2*-0xa67+0x1c0c+-0x1*0x73d,this['scaleY']=this['scaleY']??-0xe3*-0x11+-0x2027*0x1+-0x1*-0x1115);}get['options'](){return this['_options'];}['init'](_0xf51fe5=null,_0x8b05cf){this['options']=_0x8b05cf,this['renderTarg'+'et']=_0xf51fe5,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x3*0x9fe+0x23e0+0x41d9*-0x1),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x5f2ab3,_0x1c4816,_0x13a54b,_0x324177;const _0x4787e5=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0x4787e5!=null&&_0x4787e5['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(0x1ac5+0x142d*0x1+-0x2ef2));const _0x3a7dfd=_0x4787e5?((_0x5f2ab3=_0x4787e5['_colorBuff'+'ers'])==null?void(0x34c+-0x2299+0x3*0xa6f):_0x5f2ab3['length'])??-0x1*0x19b2+-0x40+-0x2*-0xcf9:0x2300+0x1ade*0x1+0x3ddd*-0x1;this['colorArray'+'Ops']['length']=-0x2262+-0x1*0xb25+0x2d87;for(let _0x3e7fcc=0xb*0x48+-0x3c*0x54+0x1098;_0x3e7fcc<_0x3a7dfd;_0x3e7fcc++){const _0x55117d=new _b();this['colorArray'+'Ops'][_0x3e7fcc]=_0x55117d,this['samples']===-0x1a1e+0x4*0x730+-0x2a1&&(_0x55117d['store']=!(-0x3*0x26f+0x58c*0x6+0x1*-0x19fb),_0x55117d['resolve']=!(0x1482+-0x277*0x1+0x120a*-0x1));const _0x3efa5c=(_0x13a54b=(_0x1c4816=this['renderTarg'+'et'])==null?void(0xb*0x2ef+0x213e+-0x4183):_0x1c4816['_colorBuff'+'ers'])==null?void(-0x19a+-0x25*0x79+0x1317):_0x13a54b[_0x3e7fcc];if((_0x324177=this['renderTarg'+'et'])!=null&&_0x324177['mipmaps']&&(_0x3efa5c!=null&&_0x3efa5c['mipmaps'])){const _0x29975b=ea(_0x3efa5c['_format']);_0x55117d['genMipmaps']=!_0x29975b;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x208372=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x368979=Math['floor'](_0x208372['width']*this['scaleX']),_0x4bbb3d=Math['floor'](_0x208372['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x368979,_0x4bbb3d);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x19908b){this['_enabled']!==_0x19908b&&(this['_enabled']=_0x19908b,_0x19908b?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x91c81f){const _0x1610b2=this['colorArray'+'Ops']['length'];for(let _0x486398=0x84d+0x13*-0x6a+0x25*-0x3;_0x486398<_0x1610b2;_0x486398++){const _0x586a45=this['colorArray'+'Ops'][_0x486398];_0x91c81f&&(_0x586a45['clearValue']['copy'](_0x91c81f),_0x586a45['clearValue'+'Linear']['linear'](_0x91c81f)),_0x586a45['clear']=!!_0x91c81f;}}['setClearDe'+'pth'](_0x4f82ac){_0x4f82ac&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x4f82ac),this['depthStenc'+'ilOps']['clearDepth']=_0x4f82ac!==void(0x4*0x135+0x1d*0x11+-0x6c1);}['setClearSt'+'encil'](_0x1e1bac){_0x1e1bac&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x1e1bac),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x1e1bac!==void(0xcfe+-0x5fd+0xb*-0xa3);}['render'](){if(this['enabled']){const _0x3e7a74=this['device'],_0x503f2e=this['renderTarg'+'et']!==void(-0x89*-0xe+-0x2*0x269+0x13*-0x24);v['call'](()=>{this['log'](_0x3e7a74,_0x3e7a74['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x503f2e&&!this['_skipStart']&&_0x3e7a74['startRende'+'rPass'](this),this['execute'](),_0x503f2e&&!this['_skipEnd']&&_0x3e7a74['endRenderP'+'ass'](this)),this['after'](),_0x3e7a74['renderPass'+'Index']++;}}['log'](_0x54908b,_0x24db2e=-0x20*-0x117+-0x2616*-0x1+0x16*-0x351){var _0x229eb7,_0x42820a,_0x45a956;if(Xs['get'](jp)||Xs['get'](Jn)){const _0x4e5873=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x54908b['backBuffer']:null),_0x3cad71=!!(_0x4e5873!=null&&_0x4e5873['impl']['assignedCo'+'lorTexture'])||(_0x4e5873==null?void(-0x5ad*0x5+-0x169f*-0x1+0x5c2):_0x4e5873['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x1*-0xcbb+-0x17f*0xf+0x9b6),_0xee628c=((_0x229eb7=_0x4e5873==null?void(-0x5f7+-0x247b+-0xe26*-0x3):_0x4e5873['_colorBuff'+'ers'])==null?void(-0x2491+0x2e*-0xb1+0x445f):_0x229eb7['length'])??(_0x3cad71?0x56*0x71+0x170f+-0xc34*0x5:-0x12bc+0x71*0x2b+-0x3f),_0x56a44d=_0x4e5873==null?void(-0x13*-0x1db+0x18b9+-0x3bfa):_0x4e5873['depth'],_0x445e31=_0x4e5873==null?void(-0x216+-0x709+0x91f):_0x4e5873['stencil'],_0x43a0a1=_0x4e5873==null?void(0x1f1f+-0x1*0x229f+-0x10*-0x38):_0x4e5873['mipLevel'],_0x4eb91f=_0x4e5873?'\x20RT:\x20'+(_0x4e5873?_0x4e5873['name']:'NULL')+'\x20'+(_0xee628c>-0x6e6+0x5f7*-0x5+0x7*0x53f?'[Color'+(_0xee628c>-0x139*-0x12+-0x1331+-0xb4*0x4?'\x20x\x20'+_0xee628c:'')+']':'')+(_0x56a44d?'[Depth]':'')+(_0x445e31?'[Stencil]':'')+'\x20'+_0x4e5873['width']+'\x20x\x20'+_0x4e5873['height']+(this['samples']>0x1*-0xc31+0x7c*-0xc+0x1201?'\x20samples:\x20'+this['samples']:'')+(_0x43a0a1>0x20a1+0x7a+0x3*-0xb09?'\x20mipLevel:'+'\x20'+_0x43a0a1:''):'',_0x4ba134=this['_skipStart']?'++':_0x24db2e['toString']()['padEnd'](0x59*-0x4f+-0x1a*-0x5a+-0x1255*-0x1,'\x20');v['trace'](jp,_0x4ba134+':\x20'+this['name']['padEnd'](-0x228a+0x13b+0x2163,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x4eb91f['padEnd'](0x951+0xfc7+-0x18fa));for(let _0x5783cd=-0x3*0xc2c+0xf92+0x7*0x2fe;_0x5783cd<_0xee628c;_0x5783cd++){const _0x2f5e59=this['colorArray'+'Ops'][_0x5783cd],_0x4a033d=(_0x42820a=xt['get'](_0x3cad71?_0x54908b['backBuffer'+'Format']:_0x4e5873['getColorBu'+'ffer'](_0x5783cd)['format']))==null?void(0x3*-0x3c5+-0x25f7*-0x1+0x1aa8*-0x1):_0x42820a['name'];v['trace'](Jn,'\x20\x20\x20\x20color['+_0x5783cd+']:\x20'+(_0x2f5e59['clear']?'clear':'load')+'->'+(_0x2f5e59['store']?'store':'discard')+'\x20'+(_0x2f5e59['resolve']?'resolve\x20':'')+(_0x2f5e59['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x4a033d+']\x20'+(_0x2f5e59['clear']?'[clear:\x20'+_0x2f5e59['clearValue']['toString'](!(-0x31c*0x1+-0xb55+0x1*0xe71),!(0x1*0xfa5+-0x25ca+0x1625))+']':''));}if(this['depthStenc'+'ilOps']){const _0x4fd655=''+(_0x4e5873['depthBuffe'+'r']?'\x20[format:\x20'+((_0x45a956=xt['get'](_0x4e5873['depthBuffe'+'r']['format']))==null?void(-0x1*-0x238f+-0x1*0x5b+0x5de*-0x6):_0x45a956['name'])+']':'');_0x56a44d&&v['trace'](Jn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x4fd655+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x445e31&&v['trace'](Jn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x4fd655+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x37a63e){this['array'][this['index']]=_0x37a63e;}function xb(_0x2c4daa,_0x1860a6){this['array'][this['index']]=_0x2c4daa,this['array'][this['index']+(0x1f05+-0x1acf+-0x435*0x1)]=_0x1860a6;}function Sb(_0x1e59c7,_0x4117ca,_0x4b8aa2){this['array'][this['index']]=_0x1e59c7,this['array'][this['index']+(-0x64*-0x55+-0x2c9*-0xc+-0x9*0x767)]=_0x4117ca,this['array'][this['index']+(-0x2*0x972+0x12*-0x149+-0x2a08*-0x1)]=_0x4b8aa2;}function vb(_0x1f388c,_0x267f79,_0x3f65b1,_0x3b7509){this['array'][this['index']]=_0x1f388c,this['array'][this['index']+(0x185e+0x3d2+-0x1c2f)]=_0x267f79,this['array'][this['index']+(-0x2215+-0x5f2*0x4+0x39df)]=_0x3f65b1,this['array'][this['index']+(0x90d+0x1f17*0x1+-0x1*0x2821)]=_0x3b7509;}function bb(_0x3e43c9,_0x164310,_0x2ece95){this['array'][_0x3e43c9]=_0x164310[_0x2ece95];}function wb(_0x812d1e,_0xfd7325,_0x40aff4){this['array'][_0x812d1e]=_0xfd7325[_0x40aff4],this['array'][_0x812d1e+(0x3b*0x92+0x1*0x120a+-0x33af)]=_0xfd7325[_0x40aff4+(-0x733*0x2+0x7c*0x5+0xbfb)];}function Tb(_0x5c9219,_0x32bb65,_0x437eed){this['array'][_0x5c9219]=_0x32bb65[_0x437eed],this['array'][_0x5c9219+(0x1696+0x254f+-0x3be4*0x1)]=_0x32bb65[_0x437eed+(-0x1+-0x1f7*0x9+0x7*0x287)],this['array'][_0x5c9219+(-0x237*0xa+-0x1a24+0x304c)]=_0x32bb65[_0x437eed+(-0x2574+-0x1a23+0x3f99)];}function Ab(_0x2238ed,_0x180a1d,_0x9630b3){this['array'][_0x2238ed]=_0x180a1d[_0x9630b3],this['array'][_0x2238ed+(-0x143*-0xc+-0x18*-0x107+0x1*-0x27cb)]=_0x180a1d[_0x9630b3+(0x265b+-0x687+-0x1fd3*0x1)],this['array'][_0x2238ed+(0x1f72+0x4e1*-0x1+-0x1a8f)]=_0x180a1d[_0x9630b3+(0x9e+0x1*-0x6df+0xe5*0x7)],this['array'][_0x2238ed+(-0x59*-0x29+-0x89*-0x25+0x53*-0x69)]=_0x180a1d[_0x9630b3+(-0xf7+-0x2629+0x2723)];}function Eb(_0x5e9bd9,_0x302777,_0xb66a63){_0x302777[_0xb66a63]=this['array'][_0x5e9bd9];}function Cb(_0x1080a7,_0x39eba7,_0x1e772c){_0x39eba7[_0x1e772c]=this['array'][_0x1080a7],_0x39eba7[_0x1e772c+(0x1a1*0x13+0x173b+0xc9*-0x45)]=this['array'][_0x1080a7+(0xb74+0xb*0x25d+-0x12b9*0x2)];}function Mb(_0x52bc43,_0x4e2600,_0x2dbc78){_0x4e2600[_0x2dbc78]=this['array'][_0x52bc43],_0x4e2600[_0x2dbc78+(0x1bd6+0x7*0x359+-0x3344)]=this['array'][_0x52bc43+(0x2e0*0x1+-0xf26+0xc47)],_0x4e2600[_0x2dbc78+(-0x1*-0x1aec+-0x1*0x305+-0x7f7*0x3)]=this['array'][_0x52bc43+(-0x7fd*0x4+-0x11*0x156+-0x36ac*-0x1)];}function Pb(_0x42d884,_0x1880e5,_0x44ad37){_0x1880e5[_0x44ad37]=this['array'][_0x42d884],_0x1880e5[_0x44ad37+(0x1838+-0x1942+0x10b*0x1)]=this['array'][_0x42d884+(0x220c+0xe5d*-0x1+-0x13ae)],_0x1880e5[_0x44ad37+(-0x517+0xa*0x31b+-0xf*0x1bb)]=this['array'][_0x42d884+(0xf4a+-0x18a6+0x16*0x6d)],_0x1880e5[_0x44ad37+(-0xda3*-0x1+-0x20e0+0x20*0x9a)]=this['array'][_0x42d884+(-0x6c2*0x5+-0x17*-0x186+0x13d*-0x1)];}class Rb{constructor(_0x2fb30c,_0x5d3c0d,_0x3e9590){switch(this['index']=-0x7*-0x505+-0x37*-0x33+-0x2e18,this['numCompone'+'nts']=_0x5d3c0d['numCompone'+'nts'],_0x3e9590['interleave'+'d']?this['array']=new da[_0x5d3c0d['dataType']](_0x2fb30c,_0x5d3c0d['offset']):this['array']=new da[_0x5d3c0d['dataType']](_0x2fb30c,_0x5d3c0d['offset'],_0x3e9590['vertexCoun'+'t']*_0x5d3c0d['numCompone'+'nts']),this['stride']=_0x5d3c0d['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x5d3c0d['numCompone'+'nts']){case 0x26*0x14+0x11da+0x49*-0x49:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case-0x7*-0x37b+-0x6*-0x121+0x1f21*-0x1:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case 0x1*-0x1a4b+-0x1*0xdc7+0x2815:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case 0xa9b*0x1+-0x15ea+0xb53*0x1:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x3bdd79){return this['array'][this['index']+_0x3bdd79];}['set'](_0x43aabd,_0x47d9cd,_0x2d469b,_0x2bc6a5){}['getToArray'](_0x2e2cda,_0x2ddb2e,_0xc5e203){}['setFromArr'+'ay'](_0xb2e094,_0x685da3,_0x5a09af){}}class go{constructor(_0x4da4b5){this['vertexBuff'+'er']=_0x4da4b5,this['vertexForm'+'atSize']=_0x4da4b5['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x381657=this['vertexBuff'+'er']['getFormat']();for(let _0x7dfb15=-0x47*-0x3d+0x1*0x11c+-0x1207;_0x7dfb15<_0x381657['elements']['length'];_0x7dfb15++){const _0xac6c8a=_0x381657['elements'][_0x7dfb15];this['accessors'][_0x7dfb15]=new Rb(this['buffer'],_0xac6c8a,_0x381657),this['element'][_0xac6c8a['name']]=this['accessors'][_0x7dfb15];}}['next'](_0x32595e=0x1*-0x1fb2+0x15ef+0x1f4*0x5){let _0x19e2a3=-0x225e+-0x1*0x1c1e+0x3e7c;const _0x3a4832=this['accessors'],_0x11e210=this['accessors']['length'];for(;_0x19e2a3<_0x11e210;){const _0x367a0c=_0x3a4832[_0x19e2a3++];_0x367a0c['index']+=_0x32595e*_0x367a0c['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x461bd4,_0x534a77,_0x53e2d7){const _0x4cead4=this['element'][_0x461bd4];if(_0x4cead4){_0x53e2d7>this['vertexBuff'+'er']['numVertice'+'s']&&(v['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x53e2d7+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x53e2d7=this['vertexBuff'+'er']['numVertice'+'s']);const _0x59c51a=_0x4cead4['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x5f1795=0x1ab8+-0x13c1+-0x6f7*0x1;for(let _0x5ca108=-0x136*-0x1f+0x829*0x1+-0x2db3*0x1;_0x5ca108<_0x53e2d7;_0x5ca108++)_0x4cead4['setFromArr'+'ay'](_0x5f1795,_0x534a77,_0x5ca108*_0x59c51a),_0x5f1795+=_0x4cead4['stride'];}else{if(_0x534a77['length']>_0x53e2d7*_0x59c51a){const _0xbc9295=_0x53e2d7*_0x59c51a;if(ArrayBuffer['isView'](_0x534a77))_0x534a77=_0x534a77['subarray'](-0x1133+-0x151+0x1da*0xa,_0xbc9295),_0x4cead4['array']['set'](_0x534a77);else{for(let _0x3b30f5=-0x955*-0x3+0x3*-0x964+-0x2d*-0x1;_0x3b30f5<_0xbc9295;_0x3b30f5++)_0x4cead4['array'][_0x3b30f5]=_0x534a77[_0x3b30f5];}}else _0x4cead4['array']['set'](_0x534a77);}}}['readData'](_0x52c377,_0x584354){const _0x2f0f6c=this['element'][_0x52c377];let _0xddf8dc=-0x596+0xaa9*0x1+0x3*-0x1b1;if(_0x2f0f6c){_0xddf8dc=this['vertexBuff'+'er']['numVertice'+'s'];let _0x560312;const _0x3f9d48=_0x2f0f6c['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x584354)&&(_0x584354['length']=-0x16b9+-0x899*-0x3+-0x312),_0x2f0f6c['index']=0x81*-0x17+0x1ce0+-0xb1*0x19;let _0x39cb24=-0x1de1*0x1+-0x19f3+0x37d4;for(_0x560312=0x24be+-0x6e9+-0x1dd5;_0x560312<_0xddf8dc;_0x560312++)_0x2f0f6c['getToArray'](_0x39cb24,_0x584354,_0x560312*_0x3f9d48),_0x39cb24+=_0x2f0f6c['stride'];}else{if(ArrayBuffer['isView'](_0x584354))_0x584354['set'](_0x2f0f6c['array']);else{_0x584354['length']=0x6*0x642+0x9*-0x29c+-0xb4*0x14;const _0x277f79=_0xddf8dc*_0x3f9d48;for(_0x560312=0x1dcb+0x1782+-0x5*0xaa9;_0x560312<_0x277f79;_0x560312++)_0x584354[_0x560312]=_0x2f0f6c['array'][_0x560312];}}}return _0xddf8dc;}}const Im='mousedown',Dm='mousemove',Lm='mouseup',Mu='mousewheel',Ib=-(-0xcaf+-0x2*0xd3d+0xd0e*0x3);class Db{constructor(_0x29e1a4,_0x54c74f){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x54c74f&&(this['key']=_0x54c74f['keyCode'],this['element']=_0x54c74f['target'],this['event']=_0x54c74f);}}const Sl=new Db();function fd(_0x1afefd){return Sl['key']=_0x1afefd['keyCode'],Sl['element']=_0x1afefd['target'],Sl['event']=_0x1afefd,Sl;}function vl(_0x1a8205){return typeof _0x1a8205=='string'?_0x1a8205['toUpperCas'+'e']()['charCodeAt'](0xd07+-0xfbb*0x1+-0x15a*-0x2):_0x1a8205;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class Fm extends ce{constructor(_0x287ed5,_0x24a6f0={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x287ed5&&this['attach'](_0x287ed5),this['preventDef'+'ault']=_0x24a6f0['preventDef'+'ault']||!(0x1992+-0x7b*0x1b+0x1f*-0x68),this['stopPropag'+'ation']=_0x24a6f0['stopPropag'+'ation']||!(-0x2e*-0x5+0x13c4+-0x14a9));}['attach'](_0xb345a9){this['_element']&&this['detach'](),this['_element']=_0xb345a9,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0xefc+-0x1e99+0x1*0xf9e)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(-0x1961*0x1+-0xc7*0x2f+0x3deb)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0x1*-0x29c+0x3*-0xadc+0x1df9)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x2029+-0x1*-0x1f11+-0xc3*0x53)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(-0xd*-0x229+0x26fe+-0x4312));}['detach'](){if(!this['_element']){v['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x8a3+0x146+-0x1*0x9e8)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0x252b+-0x4f9+-0x1*-0x2a25));}['toKeyIdent'+'ifier'](_0x4e83aa){_0x4e83aa=vl(_0x4e83aa);const _0x329ea3=Lb[_0x4e83aa['toString']()];if(_0x329ea3)return _0x329ea3;let _0x3d4cdd=_0x4e83aa['toString'](0x3*-0xa95+-0x94b+0x1*0x291a)['toUpperCas'+'e']();const _0x4493c4=_0x3d4cdd['length'];for(let _0xef0ccf=-0x1ea*0x11+-0xaa+0x2134;_0xef0ccf<-0x7d*0x1f+-0x12ae+0x21d5-_0x4493c4;_0xef0ccf++)_0x3d4cdd='0'+_0x3d4cdd;return'U+'+_0x3d4cdd;}['_handleKey'+'Down'](_0x9bac07){const _0x5de690=_0x9bac07['keyCode']||_0x9bac07['charCode'];if(_0x5de690===void(-0x2f*0x2f+0x2e8+0x125*0x5))return;const _0xae48bf=this['toKeyIdent'+'ifier'](_0x5de690);this['_keymap'][_0xae48bf]=!(0xbf*0x12+0xb05+0x239*-0xb),this['fire']('keydown',fd(_0x9bac07)),this['preventDef'+'ault']&&_0x9bac07['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x9bac07['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x3e66fb){const _0x1191d2=_0x3e66fb['keyCode']||_0x3e66fb['charCode'];if(_0x1191d2===void(0xb*0x291+-0x80c+-0x142f))return;const _0x2d8dc0=this['toKeyIdent'+'ifier'](_0x1191d2);delete this['_keymap'][_0x2d8dc0],this['fire']('keyup',fd(_0x3e66fb)),this['preventDef'+'ault']&&_0x3e66fb['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x3e66fb['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x1e6231){this['fire']('keypress',fd(_0x1e6231)),this['preventDef'+'ault']&&_0x1e6231['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x1e6231['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x387a6c in this['_lastmap'])delete this['_lastmap'][_0x387a6c];for(const _0x197024 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x197024)&&(this['_lastmap'][_0x197024]=this['_keymap'][_0x197024]);}['isPressed'](_0x39ec55){const _0x44610b=vl(_0x39ec55),_0x441a02=this['toKeyIdent'+'ifier'](_0x44610b);return!!this['_keymap'][_0x441a02];}['wasPressed'](_0x212b1e){const _0x212c48=vl(_0x212b1e),_0x1ec83c=this['toKeyIdent'+'ifier'](_0x212c48);return!!this['_keymap'][_0x1ec83c]&&!this['_lastmap'][_0x1ec83c];}['wasRelease'+'d'](_0x4225fc){const _0x1c4db0=vl(_0x4225fc),_0x22f736=this['toKeyIdent'+'ifier'](_0x1c4db0);return!this['_keymap'][_0x22f736]&&!!this['_lastmap'][_0x22f736];}}c(Fm,'EVENT_KEYD'+'OWN','keydown'),c(Fm,'EVENT_KEYU'+'P','keyup');function Pu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x4e1ed6,_0x5286ad){c(this,'x',0x12bc+0x74*0x2e+0x9e5*-0x4),c(this,'y',0xc*-0xfc+0x42d*0x1+0x7a3),c(this,'dx',0x44*0x1f+0x5*0x253+-0x13db),c(this,'dy',0x9f5+-0x25*0x45+0x4),c(this,'button',Ib),c(this,'wheelDelta',-0x59a*-0x4+0x4f*-0x2d+0x3*-0x2d7),c(this,'element'),c(this,'ctrlKey',!(0x44*0x93+-0x947*-0x1+0x2*-0x1829)),c(this,'altKey',!(-0x23ce+-0x25*-0x2a+0x1dbd*0x1)),c(this,'shiftKey',!(0x1*-0x6d+0x1330+-0x12c2)),c(this,'metaKey',!(-0x1a*-0x41+-0x20c3+0x1a2a)),c(this,'event');let _0x12fe09={'x':0x0,'y':0x0};if(_0x5286ad){if(_0x5286ad instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x12fe09=_0x4e1ed6['_getTarget'+'Coords'](_0x5286ad);}else _0x5286ad={};if(_0x12fe09)this['x']=_0x12fe09['x'],this['y']=_0x12fe09['y'];else{if(Pu())this['x']=0x21*-0xa+-0x1844+0x198e,this['y']=-0x1583*-0x1+0x3f3+0x1976*-0x1;else return;}_0x5286ad['type']==='wheel'&&(_0x5286ad['deltaY']>0x47*0x43+-0x1d61+0xacc?this['wheelDelta']=0x57*-0xd+-0x56f*0x3+0x425*0x5:_0x5286ad['deltaY']<-0x256c+-0xa2*0x2b+0x40a2&&(this['wheelDelta']=-(-0x785+-0x2179+0x28ff))),Pu()?(this['dx']=_0x5286ad['movementX']||_0x5286ad['webkitMove'+'mentX']||_0x5286ad['mozMovemen'+'tX']||-0x656+0x2213+-0x93f*0x3,this['dy']=_0x5286ad['movementY']||_0x5286ad['webkitMove'+'mentY']||_0x5286ad['mozMovemen'+'tY']||0x5*-0x6ad+-0x3fb*0x1+0x255c):(this['dx']=this['x']-_0x4e1ed6['_lastX'],this['dy']=this['y']-_0x4e1ed6['_lastY']),(_0x5286ad['type']==='mousedown'||_0x5286ad['type']==='mouseup')&&(this['button']=_0x5286ad['button']),this['buttons']=_0x4e1ed6['_buttons']['slice'](0x2*-0x269+-0x8*0x20f+0x154a),this['element']=_0x5286ad['target'],this['ctrlKey']=_0x5286ad['ctrlKey']??!(0x5*-0x541+-0x1f27+0x396d),this['altKey']=_0x5286ad['altKey']??!(0x20b3+0x40+-0x20f2),this['shiftKey']=_0x5286ad['shiftKey']??!(0x1584+0x5*0x373+-0x1*0x26c2),this['metaKey']=_0x5286ad['metaKey']??!(-0x3d*0xa+0x628+-0x3c5),this['event']=_0x5286ad;}}class bl extends ce{constructor(_0x565d3b){super(),c(this,'_lastX',0x121d+-0x17*0x151+-0x12*-0xad),c(this,'_lastY',-0x1100+0x1*0x78a+0x976),c(this,'_buttons',[!(-0x6*-0x652+-0xd6e*0x2+-0xb0f),!(-0x1fca+0x12*0x202+-0x459),!(-0x770+-0x1cd1+0x1221*0x2)]),c(this,'_lastbutto'+'ns',[!(0x4*0x79f+0x5ab*-0x6+0x387),!(-0x1*0x4ab+-0xc0b+-0xb*-0x185),!(0x1e2b+-0x1*-0x94b+-0x2775)]),c(this,'_target',null),c(this,'_attached',!(0x1e57+-0xa6+-0xbe*0x28)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x22df68=>{_0x22df68['preventDef'+'ault']();},this['attach'](_0x565d3b));}static['isPointerL'+'ocked'](){return Pu();}['attach'](_0x2dcb13){if(this['_target']=_0x2dcb13,this['_attached'])return;this['_attached']=!(0x1f90*0x1+0x3e1+-0x2371);const _0x1dccff={'passive':!(-0x1*0x2376+0x964+0x1a13)},_0x4e5e19=ye['passiveEve'+'nts']?_0x1dccff:!(-0x1*-0x1855+0x40*-0x2a+-0xdd4);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x4e5e19),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x4e5e19),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x4e5e19),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x4e5e19);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0xf31*0x2+-0x238*0x10+-0xa7*-0x65),this['_target']=null;const _0x4305dd={'passive':!(0x73*0x5+0xc22+-0xe60)},_0x3e117c=ye['passiveEve'+'nts']?_0x4305dd:!(0x2a6+0x231a*-0x1+-0x7*-0x4a3);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x3e117c),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x3e117c),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x3e117c),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x3e117c);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x3e1277,_0x2cc4e2){if(!document['body']['requestPoi'+'nterLock']){_0x2cc4e2&&_0x2cc4e2();return;}const _0x3406e3=()=>{_0x3e1277(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x3406e3);},_0x5afbc6=()=>{_0x2cc4e2(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x5afbc6);};_0x3e1277&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x3406e3,!(0x19a6+0x2055+-0x39fa)),_0x2cc4e2&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x5afbc6,!(-0xd6f+-0x88f+0x15ff)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0xc3c672){if(!document['exitPointe'+'rLock'])return;const _0xa3e177=()=>{_0xc3c672(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0xa3e177);};_0xc3c672&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0xa3e177,!(0xe20+0x1*0x1171+-0x1f90)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x1d82+-0x125f+0xb23*-0x1]=this['_buttons'][-0x82*-0x11+0x247*-0x7+-0x74f*-0x1],this['_lastbutto'+'ns'][-0x634+0x7b8+-0x9*0x2b]=this['_buttons'][0x1638+0x8bf*0x2+-0x27b5],this['_lastbutto'+'ns'][0x1852+0xe3*0x2c+-0x3f54]=this['_buttons'][0xdb+0x858+-0x931];}['isPressed'](_0x38e2b3){return this['_buttons'][_0x38e2b3];}['wasPressed'](_0x27d24b){return this['_buttons'][_0x27d24b]&&!this['_lastbutto'+'ns'][_0x27d24b];}['wasRelease'+'d'](_0x233299){return!this['_buttons'][_0x233299]&&this['_lastbutto'+'ns'][_0x233299];}['_handleUp'](_0x18d14e){this['_buttons'][_0x18d14e['button']]=!(-0x1e18+0x1927+0x4f2);const _0x2a59b9=new ta(this,_0x18d14e);_0x2a59b9['event']&&this['fire'](Lm,_0x2a59b9);}['_handleDow'+'n'](_0x305c46){this['_buttons'][_0x305c46['button']]=!(0x233d+-0x397*-0xa+-0x4723);const _0x3879d3=new ta(this,_0x305c46);_0x3879d3['event']&&this['fire'](Im,_0x3879d3);}['_handleMov'+'e'](_0x43a044){const _0x21a242=new ta(this,_0x43a044);_0x21a242['event']&&(this['fire'](Dm,_0x21a242),this['_lastX']=_0x21a242['x'],this['_lastY']=_0x21a242['y']);}['_handleWhe'+'el'](_0x144cdc){const _0x238d60=new ta(this,_0x144cdc);_0x238d60['event']&&this['fire'](Mu,_0x238d60);}['_getTarget'+'Coords'](_0x391dc2){const _0x2e5448=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x9d9040=Math['floor'](_0x2e5448['left']),_0x2bf411=Math['floor'](_0x2e5448['top']);return _0x391dc2['clientX']<_0x9d9040||_0x391dc2['clientX']>=_0x9d9040+this['_target']['clientWidt'+'h']||_0x391dc2['clientY']<_0x2bf411||_0x391dc2['clientY']>=_0x2bf411+this['_target']['clientHeig'+'ht']?null:{'x':_0x391dc2['clientX']-_0x9d9040,'y':_0x391dc2['clientY']-_0x2bf411};}}c(bl,'EVENT_MOUS'+'EMOVE',Dm),c(bl,'EVENT_MOUS'+'EDOWN',Im),c(bl,'EVENT_MOUS'+'EUP',Lm),c(bl,'EVENT_MOUS'+'EWHEEL',Mu);const be=class be{['get'](_0x54f8b6,_0x52ccd2,_0x13ea4b){return typeof _0x52ccd2=='function'&&(_0x13ea4b=_0x52ccd2,_0x52ccd2={}),this['request']('GET',_0x54f8b6,_0x52ccd2,_0x13ea4b);}['post'](_0x100983,_0x510216,_0x1a8cc6,_0x5d4964){return typeof _0x1a8cc6=='function'&&(_0x5d4964=_0x1a8cc6,_0x1a8cc6={}),_0x1a8cc6['postdata']=_0x510216,this['request']('POST',_0x100983,_0x1a8cc6,_0x5d4964);}['put'](_0x34f7d4,_0x35ac7c,_0x5c4013,_0x2055eb){return typeof _0x5c4013=='function'&&(_0x2055eb=_0x5c4013,_0x5c4013={}),_0x5c4013['postdata']=_0x35ac7c,this['request']('PUT',_0x34f7d4,_0x5c4013,_0x2055eb);}['del'](_0x36726f,_0x157b5a,_0x4c9daa){return typeof _0x157b5a=='function'&&(_0x4c9daa=_0x157b5a,_0x157b5a={}),this['request']('DELETE',_0x36726f,_0x157b5a,_0x4c9daa);}['request'](_0x1c43ec,_0x504da2,_0x135fdf,_0x5a2ffa){let _0x3a4e92,_0x35926d,_0x53c855,_0x2b29f7=!(0x1b3d+-0x1a34+-0x108);if(typeof _0x135fdf=='function'&&(_0x5a2ffa=_0x135fdf,_0x135fdf={}),_0x135fdf['retry']&&(_0x135fdf=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x135fdf)),_0x135fdf['callback']=_0x5a2ffa,_0x135fdf['async']==null&&(_0x135fdf['async']=!(-0xb0a+-0x1d20+0x282a)),_0x135fdf['headers']==null&&(_0x135fdf['headers']={}),_0x135fdf['postdata']!=null){if(_0x135fdf['postdata']instanceof Document)_0x53c855=_0x135fdf['postdata'];else{if(_0x135fdf['postdata']instanceof FormData)_0x53c855=_0x135fdf['postdata'];else{if(_0x135fdf['postdata']instanceof Object){let _0x12a6c5=_0x135fdf['headers']['Content-Ty'+'pe'];switch(_0x12a6c5===void(0x162e+-0x3*-0x72d+0x43*-0xa7)&&(_0x135fdf['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x12a6c5=_0x135fdf['headers']['Content-Ty'+'pe']),_0x12a6c5){case be['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x53c855='';let _0x4b9f93=!(0x39*-0x3+0x551*0x1+0x11*-0x46);for(const _0x2b18ce in _0x135fdf['postdata'])if(_0x135fdf['postdata']['hasOwnProp'+'erty'](_0x2b18ce)){_0x4b9f93?_0x4b9f93=!(0x2*-0x798+-0x11*0x19f+0x2ac0):_0x53c855+='&';const _0x187f47=encodeURIComponent(_0x2b18ce),_0x13f984=encodeURIComponent(_0x135fdf['postdata'][_0x2b18ce]);_0x53c855+=_0x187f47+'='+_0x13f984;}break;}default:case be['ContentTyp'+'e']['JSON']:_0x12a6c5==null&&(_0x135fdf['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['JSON']),_0x53c855=JSON['stringify'](_0x135fdf['postdata']);break;}}else _0x53c855=_0x135fdf['postdata'];}}}if(_0x135fdf['cache']===!(-0x24a5+0x10*-0x4a+0x6*0x6e1)){const _0x4c4b44=ne();_0x3a4e92=new sd(_0x504da2),_0x3a4e92['query']?_0x3a4e92['query']=_0x3a4e92['query']+'&ts='+_0x4c4b44:_0x3a4e92['query']='ts='+_0x4c4b44,_0x504da2=_0x3a4e92['toString']();}_0x135fdf['query']&&(_0x3a4e92=new sd(_0x504da2),_0x35926d=vh(_0x3a4e92['getQuery'](),_0x135fdf['query']),_0x3a4e92['setQuery'](_0x35926d),_0x504da2=_0x3a4e92['toString']());const _0x5049a8=new XMLHttpRequest();_0x5049a8['open'](_0x1c43ec,_0x504da2,_0x135fdf['async']),_0x5049a8['withCreden'+'tials']=_0x135fdf['withCreden'+'tials']!==void(0x16b6+-0x264+-0x1452)?_0x135fdf['withCreden'+'tials']:!(0x3*-0x84e+0x75d+0x118e),_0x5049a8['responseTy'+'pe']=_0x135fdf['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x504da2);for(const _0xa79fa2 in _0x135fdf['headers'])_0x135fdf['headers']['hasOwnProp'+'erty'](_0xa79fa2)&&_0x5049a8['setRequest'+'Header'](_0xa79fa2,_0x135fdf['headers'][_0xa79fa2]);_0x5049a8['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x1c43ec,_0x504da2,_0x135fdf,_0x5049a8);},_0x5049a8['onerror']=()=>{this['_onError'](_0x1c43ec,_0x504da2,_0x135fdf,_0x5049a8),_0x2b29f7=!(-0x8b4*-0x1+-0x1*0xacf+-0xb*-0x31);};try{_0x5049a8['send'](_0x53c855);}catch(_0x45bd40){_0x2b29f7||_0x135fdf['error'](_0x5049a8['status'],_0x5049a8,_0x45bd40);}return _0x5049a8;}['_guessResp'+'onseType'](_0x3e5917){const _0x53d149=new sd(_0x3e5917),_0x2e6d02=fe['getExtensi'+'on'](_0x53d149['path'])['toLowerCas'+'e']();return be['binaryExte'+'nsions']['indexOf'](_0x2e6d02)>=-0x1*-0x1d61+0x1c1b+-0x397c?be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x2e6d02==='.json'?be['ResponseTy'+'pe']['JSON']:_0x2e6d02==='.xml'?be['ResponseTy'+'pe']['DOCUMENT']:be['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x49992f){return[be['ContentTyp'+'e']['BASIS'],be['ContentTyp'+'e']['BIN'],be['ContentTyp'+'e']['DDS'],be['ContentTyp'+'e']['GLB'],be['ContentTyp'+'e']['MP3'],be['ContentTyp'+'e']['MP4'],be['ContentTyp'+'e']['OGG'],be['ContentTyp'+'e']['OPUS'],be['ContentTyp'+'e']['WAV']]['indexOf'](_0x49992f)>=0x2218+0x1*0x14fd+-0x3715;}['_isBinaryR'+'esponseTyp'+'e'](_0x128955){return _0x128955===be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x128955===be['ResponseTy'+'pe']['BLOB']||_0x128955===be['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x1ac29a,_0x3377a3,_0x66cb65,_0x2301bc){if(_0x2301bc['readyState']===-0x7*-0x499+0xb53+-0x2b7e)switch(_0x2301bc['status']){case 0x167*0x4+-0x19f3+0x1457:{_0x2301bc['responseUR'+'L']&&_0x2301bc['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x1ac29a,_0x3377a3,_0x66cb65,_0x2301bc):this['_onError'](_0x1ac29a,_0x3377a3,_0x66cb65,_0x2301bc);break;}case-0xe07+0x343+0xb8c:case 0xaab*0x1+0xebf+-0x18a1:case-0x131d*0x2+-0x45*0x7d+0x48b9:case 0x1f21+0x1766+0x3557*-0x1:{this['_onSuccess'](_0x1ac29a,_0x3377a3,_0x66cb65,_0x2301bc);break;}default:{this['_onError'](_0x1ac29a,_0x3377a3,_0x66cb65,_0x2301bc);break;}}}['_onSuccess'](_0x15abc4,_0x7e3679,_0x226272,_0x1addd1){let _0x29e038,_0x209d3d;const _0x2b80bb=_0x1addd1['getRespons'+'eHeader']('Content-Ty'+'pe');_0x2b80bb&&(_0x209d3d=_0x2b80bb['split'](';')[0x58f*0x1+0x155c+-0x1*0x1aeb]['trim']());try{this['_isBinaryC'+'ontentType'](_0x209d3d)||this['_isBinaryR'+'esponseTyp'+'e'](_0x1addd1['responseTy'+'pe'])?_0x29e038=_0x1addd1['response']:_0x209d3d===be['ContentTyp'+'e']['JSON']||_0x7e3679['split']('?')[0x823*0x1+0x80b+-0xda*0x13]['endsWith']('.json')?_0x29e038=JSON['parse'](_0x1addd1['responseTe'+'xt']):_0x1addd1['responseTy'+'pe']===be['ResponseTy'+'pe']['DOCUMENT']||_0x209d3d===be['ContentTyp'+'e']['XML']?_0x29e038=_0x1addd1['responseXM'+'L']:_0x29e038=_0x1addd1['responseTe'+'xt'],_0x226272['callback'](null,_0x29e038);}catch(_0x147c0b){_0x226272['callback'](_0x147c0b);}}['_onError'](_0x247763,_0x424726,_0x357b85,_0x454af2){if(!_0x357b85['retrying']){if(_0x357b85['retry']&&_0x357b85['retries']<_0x357b85['maxRetries']){_0x357b85['retries']++,_0x357b85['retrying']=!(-0x4e3+0x2488+0x1fa5*-0x1);const _0x577218=N['clamp'](Math['pow'](-0xb*-0x205+0x26*0x25+-0x1bb3*0x1,_0x357b85['retries'])*be['retryDelay'],0xf42+0x3*-0xc54+0x15ba,_0x357b85['maxRetryDe'+'lay']||0x19c+0x889+0x963);console['log'](_0x247763+':\x20'+_0x424726+'\x20-\x20Error\x20'+_0x454af2['status']+('.\x20Retrying'+'\x20in\x20')+_0x577218+'\x20ms'),setTimeout(()=>{_0x357b85['retrying']=!(-0xc7*0x2a+-0x1567+0x360e),this['request'](_0x247763,_0x424726,_0x357b85,_0x357b85['callback']);},_0x577218);}else _0x357b85['callback'](_0x454af2['status']===-0x1f8b+-0x3*0xc73+0x2*0x2272?'Network\x20er'+'ror':_0x454af2['status'],null);}}};c(be,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(be,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(be,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(be,'retryDelay',0x16f0+-0x1edb+0x1*0x84f);let ls=be;const We=new ls();function Li(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class kh{constructor(_0x2d62e1,_0x19180e,_0x3826f7={}){if(this['volume']=_0x3826f7['volume']??-0x1d*0x2+-0x6b5*0x1+0x6f0,this['loop']=_0x3826f7['loop']??!(0x34d+-0x9*0x198+0x1*0xb0c),this['pitch']=_0x3826f7['pitch']??-0x450+-0x158f+0x2e*0x90,this['sound']=_0x19180e,this['paused']=!(-0xa26*0x3+0xdc1+0x10b2),this['suspended']=!(0x24*0x24+-0x5*-0x3c5+-0x17e8),this['manager']=_0x2d62e1,this['source']=null,Li()){this['startTime']=-0x846+0x1d52+-0xc*0x1c1,this['startOffse'+'t']=-0x1d3*0x1+-0x179*0x5+0x7*0x150;const _0x20d91f=_0x2d62e1['context'];this['gain']=_0x20d91f['createGain']();}else _0x19180e['audio']&&(this['source']=_0x19180e['audio']['cloneNode'](!(-0x1742+0x570*0x5+-0x3ed)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0x4b2fd6){this['loop']=_0x4b2fd6,this['source']&&(this['source']['loop']=_0x4b2fd6);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(0x42*0x53+-0x1*-0xd79+-0x4f*0x71),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(-0x313+0x743+-0x42f),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0x1649+0xdc9+0x880,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(0x19c2+0x2613+-0x3fd5),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](0x62a+0x5a6+0x8*-0x17a),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0x120a+0xd*0x2c1+0x11c3*-0x1,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(-0x25a5*0x1+-0x2263+-0x2ab*-0x1b));}['stop'](){this['source']&&(this['source']['stop'](0x76*0x2d+0x6*-0x139+-0x8f*0x18),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0xf37d10){_0xf37d10=N['clamp'](_0xf37d10,-0x20e1+-0x7*0x543+0x45b6,-0x2474+-0x19ed+0x3e62),this['volume']=_0xf37d10,this['gain']&&(this['gain']['gain']['value']=_0xf37d10*this['manager']['volume']);}['setPitch'](_0x14e158){this['pitch']=_0x14e158,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x14e158);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0xc39*0x2+-0x8f3*-0x2+-0x68c*-0x1;}['_createSou'+'rce'](){const _0x4cfc4a=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x4cfc4a['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x4cfc4a['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Li()||Object['assign'](kh['prototype'],{'play':function(){this['source']&&(this['paused']=!(-0x579+0x132d*0x1+0xdb3*-0x1),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(0xda3*-0x1+0x129f+0x74*-0xb),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(0x1*-0x16e+0x1*0xf31+0x6*-0x24b),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x20e0bd){_0x20e0bd=N['clamp'](_0x20e0bd,0x1bb8+-0x8fb*0x1+-0x12bd,0x23a9+0x671*0x3+0x19*-0x233),this['volume']=_0x20e0bd,this['source']&&(this['source']['volume']=_0x20e0bd*this['manager']['volume']);},'setPitch':function(_0x48ba86){this['pitch']=_0x48ba86,this['source']&&(this['source']['playbackRa'+'te']=_0x48ba86);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:0x6b7*-0x2+-0xf35+0x1*0x1ca3;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=-0x45d*-0x11+-0x47c8*-0x1+0x1561*-0x5;class Ru extends kh{constructor(_0x3bbbba,_0x2f9b35,_0x58a00d){super(_0x3bbbba,_0x2f9b35,_0x58a00d),this['position']=new T(),this['velocity']=new T(),Li()?this['panner']=_0x3bbbba['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=0x461*-0x6+0x1767+0x170*0x2,this['rollOffFac'+'tor']=-0x925+-0xb3b+-0x25*-0x8d,this['distanceMo'+'del']=Ff);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x3f5687){this['position']['copy'](_0x3f5687);const _0x2f1b36=this['panner'];'positionX'in _0x2f1b36?(_0x2f1b36['positionX']['value']=_0x3f5687['x'],_0x2f1b36['positionY']['value']=_0x3f5687['y'],_0x2f1b36['positionZ']['value']=_0x3f5687['z']):_0x2f1b36['setPositio'+'n']&&_0x2f1b36['setPositio'+'n'](_0x3f5687['x'],_0x3f5687['y'],_0x3f5687['z']);}['getVelocit'+'y'](){return v['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x5d6ec4){v['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x5d6ec4);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x577c68){this['panner']['maxDistanc'+'e']=_0x577c68;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x58cac5){this['panner']['refDistanc'+'e']=_0x58cac5;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x5d0fd4){this['panner']['rolloffFac'+'tor']=_0x5d0fd4;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x1cc99c){this['panner']['distanceMo'+'del']=_0x1cc99c;}['_createSou'+'rce'](){const _0x2633ee=this['manager']['context'];this['source']=_0x2633ee['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x2633ee['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Li()){let l=new T();const t=function(_0x41903f,_0x360c38,_0x4341ea,_0x2919ac,_0x38471f,_0x1a76dd){l=l['sub2'](_0x41903f,_0x360c38);const _0x3d7de5=l['length']();if(_0x3d7de5<_0x4341ea)return 0x17fa+-0x1*-0xba7+0x98*-0x3c;if(_0x3d7de5>_0x2919ac)return 0x15d8+-0x2d5+-0x1*0x1303;let _0x9f9a98=-0x3fe+0x164c+-0x124e;return _0x1a76dd===cc?_0x9f9a98=-0x1106*0x1+0x467+0xca0-_0x38471f*(_0x3d7de5-_0x4341ea)/(_0x2919ac-_0x4341ea):_0x1a76dd===Ff?_0x9f9a98=_0x4341ea/(_0x4341ea+_0x38471f*(_0x3d7de5-_0x4341ea)):_0x1a76dd===cy&&(_0x9f9a98=Math['pow'](_0x3d7de5/_0x4341ea,-_0x38471f)),N['clamp'](_0x9f9a98,0x6d1+0x33*-0x2+-0x66b*0x1,-0xfb*0x7+-0x4e*0x23+0x108*0x11);};Object['assign'](Ru['prototype'],{'setPosition':function(_0x5b9a64){if(this['position']['copy'](_0x5b9a64),this['source']){const _0x1447fa=this['manager']['listener']['getPositio'+'n'](),_0x3b7685=t(_0x1447fa,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x224912=this['getVolume']();this['source']['volume']=_0x224912*_0x3b7685;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x585502){this['maxDistanc'+'e']=_0x585502;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0x5c5864){this['minDistanc'+'e']=_0x5c5864;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x4786db){this['rollOffFac'+'tor']=_0x4786db;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x301c4b){this['distanceMo'+'del']=_0x301c4b;}});}class Ob{constructor(_0x5e949e){c(this,'_manager'),c(this,'position',new T()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x5e949e;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x44441f){this['position']['copy'](_0x44441f);const _0x380239=this['listener'];_0x380239&&('positionX'in _0x380239?(_0x380239['positionX']['value']=_0x44441f['x'],_0x380239['positionY']['value']=_0x44441f['y'],_0x380239['positionZ']['value']=_0x44441f['z']):_0x380239['setPositio'+'n']&&_0x380239['setPositio'+'n'](_0x44441f['x'],_0x44441f['y'],_0x44441f['z']));}['setOrienta'+'tion'](_0x3d0e14){this['orientatio'+'n']['copy'](_0x3d0e14);const _0x40cda9=this['listener'];if(_0x40cda9){const _0x566519=_0x3d0e14['data'];'forwardX'in _0x40cda9?(_0x40cda9['forwardX']['value']=-_0x566519[-0x1385+0xe3*-0x24+0x3379],_0x40cda9['forwardY']['value']=-_0x566519[0xa5d*0x1+0x1*-0x1145+0x6f1],_0x40cda9['forwardZ']['value']=-_0x566519[-0x13e2*0x1+0x919+0xad3],_0x40cda9['upX']['value']=_0x566519[-0x1cce+0x1fa*0x1+-0x6b6*-0x4],_0x40cda9['upY']['value']=_0x566519[0x13f*-0x1d+-0x13b+0x233*0x11],_0x40cda9['upZ']['value']=_0x566519[-0x1c7c*-0x1+-0x1cea+0x74]):_0x40cda9['setOrienta'+'tion']&&_0x40cda9['setOrienta'+'tion'](-_0x566519[-0xbb2+-0xf12+0x1acc],-_0x566519[0x24d8+0x23f5+-0x48c4],-_0x566519[0x241a+-0x20*0x23+-0x1fb0],_0x566519[-0x98a+0x1ed8+-0x154a],_0x566519[0x1*0x1ba0+0x1291+-0x2e2c],_0x566519[0x21b*-0xe+-0x454*0x5+0x3324]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x12c4ad=this['_manager']['context'];return _0x12c4ad?_0x12c4ad['listener']:null;}}const wl='running',Om=['click','touchstart','mousedown'];class kb extends ce{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||v['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0x137a+0x25a4+-0x1*0x391d),this['listener']=new Ob(this),this['_volume']=-0x237b*-0x1+0x3*0xba3+0x1*-0x4663;}set['volume'](_0x27ebec){_0x27ebec=N['clamp'](_0x27ebec,-0xa7e+-0xb*0x33d+0x2e1d,-0x1*0xcbb+-0x258b+0x3d*0xd3),this['_volume']=_0x27ebec,this['fire']('volumechan'+'ge',_0x27ebec);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==wl&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x355*-0x7+0x59d+0x11b6),this['_context']&&this['_context']['state']===wl&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0x1127+0x1*0x24dc+0x3e*-0xdf),this['_context']&&this['_context']['state']!==wl&&this['_resume']());}['destroy'](){var _0x511b39;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x511b39=this['_context'])==null||_0x511b39['close'](),this['_context']=null);}['playSound'](_0x100346,_0x150d44={}){let _0x21ad2d=null;return kh&&(_0x21ad2d=new kh(this,_0x100346,_0x150d44),_0x21ad2d['play']()),_0x21ad2d;}['playSound3'+'d'](_0x4f6c9d,_0x188e39,_0x29ec78={}){let _0xc07e51=null;return Ru&&(_0xc07e51=new Ru(this,_0x4f6c9d,_0x29ec78),_0xc07e51['setPositio'+'n'](_0x188e39),_0x29ec78['volume']&&_0xc07e51['setVolume'](_0x29ec78['volume']),_0x29ec78['loop']&&_0xc07e51['setLoop'](_0x29ec78['loop']),_0x29ec78['maxDistanc'+'e']&&_0xc07e51['setMaxDist'+'ance'](_0x29ec78['maxDistanc'+'e']),_0x29ec78['minDistanc'+'e']&&_0xc07e51['setMinDist'+'ance'](_0x29ec78['minDistanc'+'e']),_0x29ec78['rollOffFac'+'tor']&&_0xc07e51['setRollOff'+'Factor'](_0x29ec78['rollOffFac'+'tor']),_0x29ec78['distanceMo'+'del']&&_0xc07e51['setDistanc'+'eModel'](_0x29ec78['distanceMo'+'del']),_0xc07e51['play']()),_0xc07e51;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x45991e=this['_context']['createBuff'+'erSource']();_0x45991e['buffer']=this['_context']['createBuff'+'er'](-0x17a3+0x2d*0x92+-0x206,0xeed+-0x803+-0x6e9,this['_context']['sampleRate']),_0x45991e['connect'](this['_context']['destinatio'+'n']),_0x45991e['start'](0x1*-0x22b1+0x148d+0xe24),_0x45991e['onended']=_0x3b40e7=>{_0x45991e['disconnect'](0x9f1+0xe0e*-0x1+0x41d),this['fire']('resume');};},_0x25ac11=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x25ac11);})['catch'](_0x43445c=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x43445c);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0xa73140=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0xa73140);})['catch'](_0x442bc7=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x442bc7);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==wl&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x4b2f39=>{window['addEventLi'+'stener'](_0x4b2f39,this['_unlockHan'+'dlerFunc'],!(0x154c+0x7a5+-0x1cf0));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x5460f1=>{window['removeEven'+'tListener'](_0x5460f1,this['_unlockHan'+'dlerFunc'],!(-0xa3*0x36+-0x1764+0x1*0x39c7));});}}class Bb{constructor(_0x264d0c){c(this,'audio'),c(this,'buffer'),_0x264d0c instanceof Audio?this['audio']=_0x264d0c:this['buffer']=_0x264d0c;}get['duration'](){let _0x356c3d=0xa6c+-0x1aea+0x107e;return this['buffer']?_0x356c3d=this['buffer']['duration']:this['audio']&&(_0x356c3d=this['audio']['duration']),_0x356c3d||0x248+-0x2d7*0xd+0x22a3;}}const Pt=-0x39d*-0x9+0xa*-0x23c+-0xa2d,sa=-0xeda+0x511+0x9ca,ws=0x4*0xf3+-0x18f0+0x1526;function Rt(_0x39bd50,_0x5033a6){return _0x39bd50%_0x5033a6||-0x7da+-0x1c8e+-0x2468*-0x1;}class ss extends ce{constructor(_0x52577d,_0x35af28,_0x9f3287){super(),c(this,'source',null),(this['_manager']=_0x52577d,this['_volume']=_0x9f3287['volume']!==void(0x2286+0xbd5+0x1*-0x2e5b)?N['clamp'](Number(_0x9f3287['volume'])||0x58f*-0x2+-0x2426+0x2f44,0x3*-0xa1a+0x16*-0x1b4+-0x2b6*-0x19,-0x3*0x4c3+0x1582+-0x738):0x8fa+-0x7f*-0x1a+-0x15df,this['_pitch']=_0x9f3287['pitch']!==void(0x8af+-0x43*0x79+0x2*0xb7e)?Math['max'](0x227*-0x5+0x13e2*0x1+-0x91f+0.01,Number(_0x9f3287['pitch'])||0x23e*0x7+-0x1e6d+0xebb):0x21f5+0x7*-0xc6+-0x1c8a,this['_loop']=!!(_0x9f3287['loop']!==void(-0xd*-0x86+0x2*0x81e+-0x170a)&&_0x9f3287['loop']),this['_sound']=_0x35af28,this['_state']=ws,this['_suspended']=!(-0x4dd*-0x1+0x17b9+-0x1c95),this['_suspendEn'+'dEvent']=0x328+-0x1*-0x13+-0x33b,this['_suspendIn'+'stanceEven'+'ts']=!(-0x2*0x946+0x1a75+-0x7e8),this['_playWhenL'+'oaded']=!(-0xd0c+-0x62f+-0x3*-0x669),this['_startTime']=Math['max'](-0x32f+-0x16ac+-0x19db*-0x1,Number(_0x9f3287['startTime'])||-0x19ab+-0x228d*0x1+0x8*0x787),this['_duration']=Math['max'](0x1*-0x1bbf+-0x21ac+0x3d6b,Number(_0x9f3287['duration'])||0x1*0x1b72+0xf87+-0x2af9),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x9f3287['onPlay'],this['_onPauseCa'+'llback']=_0x9f3287['onPause'],this['_onResumeC'+'allback']=_0x9f3287['onResume'],this['_onStopCal'+'lback']=_0x9f3287['onStop'],this['_onEndCall'+'back']=_0x9f3287['onEnd'],Li()?(this['_startedAt']=-0x2*-0xa49+0xc57*0x1+-0x151*0x19,this['_currentTi'+'me']=-0xf23+0x51*0x6d+0x2*-0x9ad,this['_currentOf'+'fset']=0x1a81+0x2612+-0x4093,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x1*-0x26e5+-0xc*-0x31a+0x1ae),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x1ddb+0xd85*-0x1+-0x1055),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x269984){if(!(_0x269984<0x15fd+-0x12bf*-0x2+-0x1*0x3b7b)){if(this['_state']===Pt){const _0x5acb22=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x32b*-0x1+0x113d+0x8*-0x28d),this['stop'](),this['_startOffs'+'et']=_0x269984,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x5acb22;}else this['_startOffs'+'et']=_0x269984,this['_currentTi'+'me']=_0x269984;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===sa?this['_currentTi'+'me']:this['_state']===ws||!this['source']?-0xd3*-0xc+0x878+-0x125c:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x20a668){this['_duration']=Math['max'](-0x6ea*0x3+0x25fc*-0x1+-0x2*-0x1d5d,Number(_0x20a668)||0xb75*-0x3+-0xd5+-0x5de*-0x6);const _0x2d1d42=this['_state']===Pt;this['stop'](),_0x2d1d42&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Rt(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0x20c3+-0x595+0x2658;}get['isPaused'](){return this['_state']===sa;}get['isPlaying'](){return this['_state']===Pt;}get['isStopped'](){return this['_state']===ws;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x392a90){this['_loop']=!!_0x392a90,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x2e91c2){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x2e91c2)||0x1*-0x1133+0x1d09*-0x1+0x16*0x21a,0x1f7f+0x1*0x116b+0x1875*-0x2+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0xc18ff){this['_sound']=_0xc18ff,this['_state']!==ws?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x8fee2f){this['_startTime']=Math['max'](-0x4c*-0x3d+-0x904+-0x918,Number(_0x8fee2f)||0x1*-0x2497+0xa0*-0x1+0x2537*0x1);const _0x4823be=this['_state']===Pt;this['stop'](),_0x4823be&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x429954){_0x429954=N['clamp'](_0x429954,-0xa3d+0x9ef+0x6*0xd,-0x1715*0x1+-0x2133*0x1+0x3849),this['_volume']=_0x429954,this['gain']&&(this['gain']['gain']['value']=_0x429954*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x1*-0xaa4+0x1*0x19e7+-0x74f*0x5){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Pt&&!this['_suspended']&&(this['_suspended']=!(-0xe7+-0x7a7+-0xa*-0xdb),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x756+0x1f26+-0x267b),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==ws&&this['stop'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x198*-0x18+-0x1*0xebb+0x34fc),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x2*0x69b+0x17bd+-0xa86):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x328*-0x1+0x293*0xa+0xe73*-0x2),!(0x53*-0x2e+-0x44e+0x1339)):(this['_playAudio'+'Immediate'](),!(0xa3b*0x2+0x4ce+-0x16*0x126));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1dcf+0x1808+0x5c8*0x1),this['_state']!==Pt)return;this['source']||this['_createSou'+'rce']();let _0x35b480=Rt(this['_startOffs'+'et'],this['duration']);_0x35b480=Rt(this['_startTime']+_0x35b480,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x8*0x447+-0x248a+0x252,_0x35b480,this['_duration']):this['source']['start'](0x1a3*-0x9+-0x95e+-0x1f*-0xc7,_0x35b480),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0x2*-0x98f+-0x2651+0x396f,this['_currentOf'+'fset']=_0x35b480,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(-0x7c5+-0x893*0x1+-0x5*-0x345),this['_state']!==Pt?!(0x20*0x18+0xc9b*-0x2+0x1637):(this['_state']=sa,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](-0x2410*0x1+0x2*-0xd0f+-0x2*-0x1f17),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x1969+0x159+-0x55a*0x5));}['resume'](){if(this['_state']!==sa)return!(0x754+0x18a6+-0x1ff9*0x1);let _0x2bbd28=this['currentTim'+'e'];return this['_state']=Pt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x2bbd28=Rt(this['_startOffs'+'et'],this['duration']),_0x2bbd28=Rt(this['_startTime']+_0x2bbd28,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0x1119+-0x1*-0x5ce+0x31*0x3b,_0x2bbd28,this['_duration']):this['source']['start'](0x26a1+0x1fa6+0x1*-0x4647,_0x2bbd28),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x2bbd28,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0x10*-0x232+-0x1f30+0x161b*0x3),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0xcde+-0x2d4*0x3+-0x71e*-0x3);}['stop'](){if(this['_playWhenL'+'oaded']=!(0x1*-0x1111+-0xfbf+0x20d1),this['_state']===ws)return!(-0x21*0xa7+0x389*0x2+0xe76);const _0x1f1838=this['_state']===Pt;return this['_state']=ws,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x94e*0x1+0x26ce+-0x1d80,this['_currentTi'+'me']=-0x22cd+0x19b3+0x91a,this['_currentOf'+'fset']=0x1708+0x823+-0x1f2b,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x1f1838&&this['source']&&this['source']['stop'](-0x2f+-0x1*-0x8bf+-0x890),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x1e13+0x821+0x1*0x15f2);}['setExterna'+'lNodes'](_0x475407,_0x81a37e){if(!_0x475407){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x81a37e||(_0x81a37e=_0x475407);const _0x171dce=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x475407&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x171dce),this['_firstNode']=_0x475407,this['_connector'+'Node']['connect'](_0x475407)),this['_lastNode']!==_0x81a37e&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x171dce),this['_lastNode']=_0x81a37e,this['_lastNode']['connect'](_0x171dce));}['clearExter'+'nalNodes'](){const _0x30cfea=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x30cfea),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x30cfea);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x35c490=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x35c490['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Rt(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Rt(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Rt((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Pt&&(this['source']['stop'](0x1*0x241c+0x21b3+-0x1e3*0x25),this['source']=null);}}c(ss,'EVENT_PLAY','play'),c(ss,'EVENT_PAUS'+'E','pause'),c(ss,'EVENT_RESU'+'ME','resume'),c(ss,'EVENT_STOP','stop'),c(ss,'EVENT_END','end'),Li()||(Object['assign'](ss['prototype'],{'play':function(){return this['_state']!==ws&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0xd7d+-0xab3+-0x2c9):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x9*0x95+0x1*0x217b+0x1*-0x1c3d),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0x1235+-0x644*0x3+0x1*0x2501));},'pause':function(){return!this['source']||this['_state']!==Pt?!(-0x1f27*-0x1+-0xa44+-0x14e2):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x1185+0xd5*-0x11+-0x35f*0x1),this['_state']=sa,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x2081+-0x1e5+0x2266));},'resume':function(){return!this['source']||this['_state']!==sa?!(0x1130+0x168d+-0x27bc):(this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x1f05+0x3*-0x8bf+-0x3943*-0x1),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x259*0x6+-0xc5*0x1+0x1*-0xd51));},'stop':function(){return!this['source']||this['_state']===ws?!(-0xc01+-0x1786+0x2f6*0xc):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x1*-0xc7a+0x16d9+0x1*-0xa5e),this['_state']=ws,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0x50*0x3d+-0x1*0x179b+0x2aab));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(-0x1*0x228f+-0x226d+0x44fc);let _0x41cc0d=Rt(this['_startOffs'+'et'],this['duration']);_0x41cc0d=Rt(this['_startTime']+_0x41cc0d,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x41cc0d;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x1422+-0x34b*-0x5+0x8*-0x493),this['source']=this['_sound']['audio']['cloneNode'](!(-0x1*-0x21da+-0x20f9+-0xf*0xf)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Rt(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Rt(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ss['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x2e2a90){_0x2e2a90=N['clamp'](_0x2e2a90,-0x8*0x47+0x166*-0x1a+-0x134a*-0x2,0x19*0xb9+0x84d+0x18d*-0x11),this['_volume']=_0x2e2a90,this['source']&&(this['source']['volume']=_0x2e2a90*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ss['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x520e17){this['_pitch']=Math['max'](Number(_0x520e17)||-0xdd*-0xe+-0x69c+-0x57a*0x1,-0x5e*-0x5b+0x2362*0x1+-0x77*0x94+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ss['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x424b28){this['stop'](),this['_sound']=_0x424b28;}}),Object['defineProp'+'erty'](ss['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ws||!this['source']?-0x1b3c+-0x1*0x1c47+0x3783:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x5e7030){_0x5e7030<-0x219c+-0x9*0x3cb+0x1a7*0x29||(this['_startOffs'+'et']=_0x5e7030,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Rt(this['_startTime']+Rt(_0x5e7030,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=-0x4dd2*0x1+-0x1d*0x26a+0xbae4;class jn extends ss{constructor(_0x1b3318,_0x4af991,_0x9c3338={}){super(_0x1b3318,_0x4af991,_0x9c3338),c(this,'_position',new T()),c(this,'_velocity',new T()),(_0x9c3338['position']&&(this['position']=_0x9c3338['position']),this['maxDistanc'+'e']=_0x9c3338['maxDistanc'+'e']!==void(-0xafc+-0x459*0x1+0xf55)?Number(_0x9c3338['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x9c3338['refDistanc'+'e']!==void(0x1fba+0x22f+0x21e9*-0x1)?Number(_0x9c3338['refDistanc'+'e']):-0x1b2*0x6+0x146d+-0xa40,this['rollOffFac'+'tor']=_0x9c3338['rollOffFac'+'tor']!==void(0xec2+0x4e9+-0x13ab)?Number(_0x9c3338['rollOffFac'+'tor']):-0xe9a+-0x2*-0xa25+-0xf*0x61,this['distanceMo'+'del']=_0x9c3338['distanceMo'+'del']!==void(0xec8+-0x3dc*0x6+0x860)?_0x9c3338['distanceMo'+'del']:cc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x3068cc){this['_position']['copy'](_0x3068cc);const _0x49df09=this['panner'];'positionX'in _0x49df09?(_0x49df09['positionX']['value']=_0x3068cc['x'],_0x49df09['positionY']['value']=_0x3068cc['y'],_0x49df09['positionZ']['value']=_0x3068cc['z']):_0x49df09['setPositio'+'n']&&_0x49df09['setPositio'+'n'](_0x3068cc['x'],_0x3068cc['y'],_0x3068cc['z']);}get['position'](){return this['_position'];}set['velocity'](_0x449c73){v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x449c73);}get['velocity'](){return v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x699e43){this['panner']['maxDistanc'+'e']=_0x699e43;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x54b724){this['panner']['refDistanc'+'e']=_0x54b724;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x322d5d){this['panner']['rolloffFac'+'tor']=_0x322d5d;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x36132a){this['panner']['distanceMo'+'del']=_0x36132a;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Li()){let l=new T();const t=function(_0x2cbc5d,_0x3dab1a,_0x4823dd,_0x5825f7,_0x35a152,_0x3b4778){l=l['sub2'](_0x2cbc5d,_0x3dab1a);const _0x1bed0d=l['length']();if(_0x1bed0d<_0x4823dd)return-0x20d5+0x3*-0x15d+0x24ed;if(_0x1bed0d>_0x5825f7)return-0xef*-0x1+-0x1*0x1c57+0x1b68;let _0x340594=0x2*0xf97+0x2*0x947+0x18de*-0x2;return _0x3b4778===cc?_0x340594=-0x21c0+-0x1*-0x1ac7+0x6fa-_0x35a152*(_0x1bed0d-_0x4823dd)/(_0x5825f7-_0x4823dd):_0x3b4778===Ff?_0x340594=_0x4823dd/(_0x4823dd+_0x35a152*(_0x1bed0d-_0x4823dd)):_0x3b4778===cy&&(_0x340594=Math['pow'](_0x1bed0d/_0x4823dd,-_0x35a152)),N['clamp'](_0x340594,0x812+-0x1*0x795+0x1*-0x7d,-0x2128+-0x5e*0x17+0x299b);};Object['defineProp'+'erty'](jn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x5d7df9){if(this['_position']['copy'](_0x5d7df9),this['source']){const _0x2ae91f=this['_manager']['listener']['getPositio'+'n'](),_0x306868=t(_0x2ae91f,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x5b56c1=this['volume'];this['source']['volume']=_0x5b56c1*_0x306868*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](jn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x5f4399){this['_maxDistan'+'ce']=_0x5f4399;}}),Object['defineProp'+'erty'](jn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x26e0e7){this['_refDistan'+'ce']=_0x26e0e7;}}),Object['defineProp'+'erty'](jn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x197a22){this['_rollOffFa'+'ctor']=_0x197a22;}}),Object['defineProp'+'erty'](jn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x10c510){this['_distanceM'+'odel']=_0x10c510;}});}const n0=0x18*-0x129+0x597*0x5+-0x1*0x1b,yp=0x202c+-0x1*-0x1cf7+-0x2*0x1e91,Kt=0x7cf*-0x1+0x32a*0x1+0x1*0x4a7,is=0x5*-0xa2+-0x7*0x1df+0x1046,hr=0xa*0x39e+-0x1d9b+-0x68d,xp=-0x3a6*-0x5+-0x1057+0x1e2*-0x1,Hc=0x669*0x1+-0x45*0x7d+-0x1*-0x1b4e,a0=-0x1074+0x2*0x483+0x775,o0=0x1*0x1961+0xec6*0x2+0x1*-0x36e5,l0=0xdd1*0x2+0x1524*-0x1+-0x227*0x3,h0=-0x47*0xf+0x9*0x116+-0x593,Fa='none',zb='linear',Sp=-0x471+-0xd7e+0x11f1,Ub=-0x1480+-0x13e0+0x1430*0x2,Vb=-0x1d4a+0x97a+0x13d2,c0=0x16a7+0x1911+-0x2fa9,Fi=-0x852*-0x4+-0x4b6+-0x1c92,Xt=0x16aa+-0x79d+-0x6*0x282,vp=-0x26*-0x6d+0x557*-0x5+-0x181*-0x7,bp=-0x2dd+0x7ae+-0x4ce,tl=-0x2656+-0x2d4*-0x4+-0xd85*-0x2,oe=-0x1f36+-0x1c72+0x8*0x775,Pe=0x543+-0x39*0x72+0x1420,Re=-0x1d*0x56+0xab5+-0xf5*0x1,yt=-0x9*0x1a5+-0x1c91+0x5b*0x7a,Gb=0x188b+0x1446+0x3bc*-0xc,Hb=-0x13*0x81+-0x911+0x1b2*0xb,$b=0x1655+0x4ca+-0x1b1c,wp=0x8e*0x8+0x1*0x12ef+-0xc1*0x1f,Wb=-0xb*-0x19d+0x876+-0x22f*0xc,Dt=0x230a+-0x18fe+-0xa0c,Hr=-0x6dd*-0x1+0x2086*-0x1+0x19ab,$r=-0x1084+-0xc*0x2f+0x12bb,lh=0x1ff5+-0xa21+0x2*-0xae8,Bh=-0x7*-0x509+-0x140+-0x21fa,Ts=-0x1*-0x124a+-0x178b*0x1+0x547,Nh=0x1a17+-0x142f+-0x5e1,zh=-0x2*0x9b3+-0x1*-0x1cb9+-0x94b,Iu=-0x362*-0x1+-0x1897+0x153e*0x1,ir=new Map([[Bh,{'name':'PCF1_32F','format':Ci,'pcf':!(-0xc6e+0x71*0x31+-0x933)}],[Dt,{'name':'PCF3_32F','format':Ci,'pcf':!(-0x55*0x2e+-0x1*-0x1f6c+-0x3*0x562)}],[lh,{'name':'PCF5_32F','format':Ci,'pcf':!(0x31*-0x4+-0x13ea*-0x1+-0x1326)}],[Nh,{'name':'PCF1_16F','format':la,'pcf':!(-0x3f5*0x8+-0x12*0x96+0x2a34)}],[zh,{'name':'PCF3_16F','format':la,'pcf':!(0x18a0+0x1b76+0x3b*-0xe2)}],[Iu,{'name':'PCF5_16F','format':la,'pcf':!(-0xc7c+0x1f7*0x11+-0xf*0x165)}],[Hr,{'name':'VSM_16F','format':Je,'vsm':!(-0x1038+-0x7a3*-0x1+0x1*0x895)}],[$r,{'name':'VSM_32F','format':Ke,'vsm':!(-0x69*0x13+0xa9a+-0x2cf)}],[Ts,{'name':'PCSS_32F','format':Ii,'pcss':!(0x4*0x45+0x1*-0x21e7+0x20d3)}]]),Tp=0x1020*0x1+0x2520+-0x13d*0x2b,Du=0x14c3*-0x1+-0x72*0x5+0x37*0x6b,d0=-0x2*0xb77+-0xe14+-0x6*-0x62b,Vs=-0x2335+-0x2cc+0x2601,qb=0x13*-0xeb+0x1b75+0xa03*-0x1,Uh=-0xdb6+-0x63*0x1c+0x417*0x6,Xb=-0xa*0x3d1+0x17f1*0x1+0xe3a*0x1,Gs=0x1888+0x475+-0x1cfd,ua=-0x1ef1+-0x8b7*0x3+0x3917,yo=-0x2677+-0x8*0x41c+0x7*0xa31,Dr=0x8*0x1+-0x10d*0x25+0x26da,Tl=0x1a72+-0x512+0x446*-0x5,u0=-0x56*0x34+-0x12c6+0x243e,jb=-0x1c12+-0x3*0x9fd+0x3a0a,km='mul',sl=0x1f7*0x7+-0x837+-0x58a,hh=0x4*0x669+0x10c9*0x2+-0x3b35,Yb={[sl]:'NONE',[hh]:'SRGB'},Ap=-0x6ce+-0x1c*-0xd3+-0x1046,aF=0x1453*0x1+-0x268+-0x11ea,oF=0x2*0x9d4+0x1430+-0x27d6,lF=-0x311*0x8+-0x2546+0x3dd1*0x1,hF=0x1073+-0xd19+0x3d*-0xe,cF=-0x9*-0x10d+0x12e4+-0x1c54,f0=0x196*-0xa+0xce*-0x2e+0x34e6,p0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=-0x1a35+-0x7d8+0x220d*0x1,Bo=0x674+0x15bf+-0x1c32,Lu=0xec7+0xc73+-0x1b38,Ep=-0x1*0x2469+0x106d+0x13fd,$c=-0x14c7+0x150e+0x1*-0x45,m0=0x18ae+0xa8*-0xc+-0x10ca,_0=0x1710+0xf2b+-0x2633,g0=-0x1bf+0x1*0x15f7+0x6*-0x35c,Wc=-0x5ff*0x6+-0x564+0x2f*0xe2,Fu=-0x1060+-0x11df+0x227f,y0=0x3e*-0x65+0x1*-0x1583+0x2e79,Cp=0x122d*-0x1+-0x157*0xe+-0x437*-0x9,Mp=-0x20ed*0x1+-0x17*0x149+0x407c,qc=-0x3dd+-0x89b*0x1+0x1078,Xc=0xc1c+-0x5ef*0x4+0x13a0,x0=0x16d*0x17+-0x2561+-0x1f*-0xaa,jc=0x3f64+-0x856+-0x2*0xb87,Ou=-0x5*0x132d+0x1*-0x7049+0x1102a,Ps=-0x445*0x6+-0x1f9b+0x3939,cn=0x4*0x31d+0x153c+0x21af*-0x1,Pp=0xef9+0x1793+-0x1345*0x2,Ei=-0x12ea+0x1dc1+0x3*-0x39d,ku=-0x2639+0x11*-0x1e2+0x463c,hs=0xc8+0xe*-0xf+0xb,cr=-0x55e+0x673+0x113*-0x1,rr=0x25fd+-0x16ac+-0xf4d,gn=0x130d*0x2+-0x76*-0x35+-0x3e88,il=0x1*0x1d5d+0xdc0+-0x2b1c,rl=-0xde8+0x152*0x1a+0x86*-0x27,Oa=0x355*-0x3+-0xdc1*-0x2+-0x10*0x118,Rp=-0x1c94+0x1*0xa13+-0x1285*-0x1,Ti=0x7*0xef+-0x1712+-0x3*-0x583,nt=0x1804+-0x4a6*-0x7+0x1f*-0x1d3,Qe=0x2*0x1c1+-0x11f9+0x3*0x4d3,ch=0xf91+0x1b6d+-0x2afd*0x1,Al=-0x1d*0xed+-0x1*0x1ed6+0x39af,dh=0x34b*-0x9+0xbba+-0x5*-0x395,Zb=0x1d*-0x3+0x23da+0x3f2*-0x9,Qb=-0x2485*0x1+-0x1a*0x35+0x1*0x29e9,Bm=-0x1803+0x1144+0x361*0x2,Jb=-0x44*-0x29+0x1597+0x2077*-0x1,ew=0x25ad+0x210c+0x19*-0x2d4,Ip=0x585*0x1+-0x1d15+0x5e4*0x4,Bu=-0xb7b+-0x116e+0x1cea,pe=0x519+0xd7*-0x2b+0x1f04,ke=0x526+0x12e0+-0x1805,xo='infinite',tw='box',sw='dome',Rs='none',Nm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Yc{constructor(_0x5e7db9,_0x312167,_0x3a2955){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Dh]=_0x5e7db9,this['bindGroupF'+'ormats'][Dh]=_0x312167,this['vertexForm'+'at']=_0x3a2955);}['hasUniform'](_0x6256d){for(let _0x17adc7=0x1ce+0x635*0x2+0x38*-0x41;_0x17adc7<this['uniformFor'+'mats']['length'];_0x17adc7++){const _0x44f667=this['uniformFor'+'mats'][_0x17adc7];if(_0x44f667!=null&&_0x44f667['get'](_0x6256d))return!(0x2467*0x1+0xc00+-0x3067);}return!(-0xa0b+0x13*0x101+-0x907);}['hasTexture'](_0x1a8129){for(let _0x4c2b27=0x1ee2+-0x1061+-0xe81;_0x4c2b27<this['bindGroupF'+'ormats']['length'];_0x4c2b27++){const _0x4a79e5=this['bindGroupF'+'ormats'][_0x4c2b27];if(_0x4a79e5!=null&&_0x4a79e5['getTexture'](_0x1a8129))return!(-0x7*0xe2+0x2511+-0x1ee3*0x1);}return!(-0x243a*0x1+-0x6c*-0x25+0x149f);}['getVertexE'+'lement'](_0x557735){var _0x5ebc4d;return(_0x5ebc4d=this['vertexForm'+'at'])==null?void(0x634*0x4+0x23d9+0x3ca9*-0x1):_0x5ebc4d['elements']['find'](_0x19d6d2=>_0x19d6d2['name']===_0x557735);}['generateKe'+'y'](_0x33d6ee){var _0x2e758d;let _0x5604eb=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x33d6ee['isWebGPU']&&(_0x5604eb+=(_0x2e758d=this['vertexForm'+'at'])==null?void(-0x12f6+0x239*0x10+0x84d*-0x2):_0x2e758d['shaderProc'+'essingHash'+'String']),_0x5604eb;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',Ow='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),kw='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',S0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',$w='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',v0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),Ww='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atSHVS\x22\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22gspl'+'atSourceVS'+'\x22\x0a#include'+'\x20\x22gsplatCe'+'nterVS\x22\x0a#i'+'nclude\x20\x22gs'+'platCorner'+'VS\x22\x0a#inclu'+'de\x20\x22gsplat'+'OutputVS\x22\x0a'+'\x0a//\x20modify'+'\x20the\x20gauss'+'ian\x20corner'+'\x20so\x20it\x20exc'+'ludes\x20gaus'+'sian\x20regio'+'ns\x20with\x20al'+'pha\x0a//\x20les'+'s\x20than\x201/2'+'55\x0avoid\x20cl'+'ipCorner(i'+'nout\x20Splat'+'Corner\x20cor'+'ner,\x20float'+'\x20alpha)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'clip\x20=\x20min'+'(1.0,\x20sqrt'+'(-log(1.0\x20'+'/\x20255.0\x20/\x20'+'alpha))\x20/\x20'+'2.0);\x0a\x20\x20\x20\x20'+'corner.off'+'set\x20*=\x20cli'+'p;\x0a\x20\x20\x20\x20cor'+'ner.uv\x20*=\x20'+'clip;\x0a}\x0a\x0a/'+'/\x20spherica'+'l\x20Harmonic'+'s\x0a\x0a#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x0a#define\x20S'+'H_C1\x200.488'+'6025119029'+'199f\x0a\x0a#if\x20'+'SH_BANDS\x20>'+'\x201\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_0\x201.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_1\x20-1.0925'+'4843059207'+'92f\x0a\x20\x20\x20\x20#d'+'efine\x20SH_C'+'2_2\x200.3153'+'9156525252'+'005f\x0a\x20\x20\x20\x20#'+'define\x20SH_'+'C2_3\x20-1.09'+'2548430592'+'0792f\x0a\x20\x20\x20\x20'+'#define\x20SH'+'_C2_4\x200.54'+'6274215296'+'0396f\x0a#end'+'if\x0a\x0a#if\x20SH'+'_BANDS\x20>\x202'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_0'+'\x20-0.590043'+'5899266435'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'1\x202.890611'+'442640554f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_2'+'\x20-0.457045'+'7994644658'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_')+('3\x200.373176'+'3325901154'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'4\x20-0.45704'+'5799464465'+'8f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C3'+'_5\x201.44530'+'5721320277'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'6\x20-0.59004'+'3589926643'+'5f\x0a#endif\x0a'+'\x0a//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+'ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'vec3\x20evalS'+'H(in\x20Splat'+'Source\x20sou'+'rce,\x20in\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'[SH_COEFFS'+'];\x0a\x20\x20\x20\x20flo'+'at\x20scale;\x0a'+'\x20\x20\x20\x20readSH'+'Data(sourc'+'e,\x20sh,\x20sca'+'le);\x0a\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'dir.x;\x0a\x20\x20\x20'+'\x20float\x20y\x20='+'\x20dir.y;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20//\x201st'+'\x20degree\x0a\x20\x20'+'\x20\x20vec3\x20res'+'ult\x20=\x20SH_C'+'1\x20*\x20(-sh[0'+']\x20*\x20y\x20+\x20sh'+'[1]\x20*\x20z\x20-\x20'+'sh[2]\x20*\x20x)'+';\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20//\x202nd'+'\x20degree\x0a\x20\x20'+'\x20\x20float\x20xx'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20floa'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20fl'+'oat\x20xy\x20=\x20x'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20yz\x20='+'\x20y\x20*\x20z;\x0a\x20\x20'+'\x20\x20float\x20xz'+'\x20=\x20x\x20*\x20z;\x0a'+'\x0a\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[3]\x20*'+'\x20(SH_C2_0\x20'+'*\x20xy)\x20*\x20\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[4]\x20*\x20(SH'+'_C2_1\x20*\x20yz'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[5]\x20*\x20'+'(SH_C2_2\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[6]\x20*'+'\x20(SH_C2_3\x20'+'*\x20xz)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[7'+']\x20*\x20(SH_C2'+'_4\x20*\x20(xx\x20-'+'\x20yy));\x0a#en'+'dif\x0a\x0a#if\x20S'+'H_BANDS\x20>\x20'+'2\x0a\x20\x20\x20\x20//\x203'+'rd\x20degree\x0a'+'\x20\x20\x20\x20result'+'\x20+=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20\x20*'+'\x20(SH_C3_0\x20')+('*\x20y\x20*\x20(3.0'+'\x20*\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[9]\x20\x20'+'*\x20(SH_C3_1'+'\x20*\x20xy\x20*\x20z)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[10]\x20*\x20'+'(SH_C3_2\x20*'+'\x20y\x20*\x20(4.0\x20'+'*\x20zz\x20-\x20xx\x20'+'-\x20yy))\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'11]\x20*\x20(SH_'+'C3_3\x20*\x20z\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x203.0\x20*\x20x'+'x\x20-\x203.0\x20*\x20'+'yy))\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[12'+']\x20*\x20(SH_C3'+'_4\x20*\x20x\x20*\x20('+'4.0\x20*\x20zz\x20-'+'\x20xx\x20-\x20yy))'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[13]\x20*\x20'+'(SH_C3_5\x20*'+'\x20z\x20*\x20(xx\x20-'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20*\x20(SH_C'+'3_6\x20*\x20x\x20*\x20'+'(xx\x20-\x203.0\x20'+'*\x20yy));\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20res'+'ult\x20*\x20scal'+'e;\x0a}\x0a#endi'+'f\x0a'),hT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),cT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),dT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),uT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),fT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',pT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20A\x20=\x20dot('+'gaussianUV'+',\x20gaussian'+'UV);\x0a\x20\x20\x20\x20i'+'f\x20(A\x20>\x201.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20alpha\x0a'+'\x20\x20\x20\x20medium'+'p\x20float\x20al'+'pha\x20=\x20exp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+'Color.a;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20PICK_PASS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(alpha\x20<'+'\x200.3)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20uColor;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(alpha\x20<\x20'+'1.0\x20/\x20255.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dis'+'card;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20opa'+'cityDither'+'(alpha,\x20id'+'\x20*\x200.013);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(gauss'+'ianColor.x'+'yz\x20*\x20alpha'+',\x20alpha);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',mT='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),_T='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',gT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x0a\x20\x20\x20'+'\x20if(margin'+'al\x20>\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.w\x20*=\x20m'+'arginal;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20spherica'+'l\x20harmonic'+'s\x0a\x20\x20\x20\x20#if\x20'+'SH_BANDS\x20>'+'\x200\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20the\x20mo'+'del-space\x20'+'view\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'ize(center'+'.view\x20*\x20ma'+'t3(center.'+'modelView)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.xyz\x20+'+'=\x20evalSH(s'+'ource,\x20dir'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20c'+'lipCorner('+'corner,\x20cl'+'r.w);\x0a\x0a\x20\x20\x20'+'\x20//\x20pointC'+'loudMode\x0a\x20'+'\x20\x20\x20if\x20(poi'+'ntCloudMod'+'eEnabled\x20='+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20write\x20ou'+'tput\x0a\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20center.'+'proj\x20+\x20vec'+'4(corner.o'+'ffset,\x200,\x20'+'0);\x0a\x20\x20\x20\x20ga'+'ussianUV\x20='+'\x20corner.uv'+';\x0a\x20\x20\x20\x20gaus'+'sianColor\x20'+'=\x20vec4(pre'+'pareOutput'+'FromGamma('+'max(clr.xy'+'z,\x200.0)),\x20'+'clr.w);\x0a\x20\x20'+'\x20\x20gaussian'+'Color\x20=\x20cl'+'amp(gaussi'+'anColor,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20id\x20=\x20fl'+'oat(source'+'.id);\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a'),yT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),xT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',ST='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',vT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',bT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',wT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',TT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),ET='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',CT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',MT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),PT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',RT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',IT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',DT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),FT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),kT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',BT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',NT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',zT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),UT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',GT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',$T='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',WT='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',qT='\x0a',XT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',jT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',YT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',KT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',ZT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',QT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',eA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',tA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),sA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',nA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',aA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),oA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',lA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),hA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',cA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',dA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',uA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',fA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',pA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',mA='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',_A='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),gA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',yA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',xA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',vA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),bA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',wA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',TA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',AA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',EA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',CA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),MA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',PA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',RA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',IA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',DA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',LA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',FA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',kA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',BA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',NA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',zA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',UA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',VA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',HA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',$A='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',WA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),XA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',jA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',YA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',KA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),ZA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+S0+'\x0a'+v0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),QA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),JA='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),eE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),tE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),iE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20Φ\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),rE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),nE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),aE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),oE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),lE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),hE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',cE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),dE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),uE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),fE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',pE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',mE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',_E='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',gE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',xE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',SE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',vE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',bE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',wE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',TE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',AE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',EE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',CE='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',ME='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',RE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',FE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),kE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',NE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',zE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',UE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',VE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',GE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',HE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',X={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':Ow,'cubeMapProjectBoxPS':kw,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':S0,'emissivePS':$w,'encodePS':v0,'endPS':Ww,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':Jy,'gles3VS':e0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':dT,'gsplatColorVS':oT,'gsplatCommonVS':lT,'gsplatCompressedDataVS':hT,'gsplatCompressedSHVS':cT,'gsplatDataVS':uT,'gsplatOutputVS':fT,'gsplatPS':pT,'gsplatSHVS':mT,'gsplatSourceVS':_T,'gsplatVS':gT,'iridescenceDiffractionPS':yT,'iridescencePS':xT,'iridescenceThicknessPS':ST,'iorPS':vT,'lightDiffuseLambertPS':bT,'lightDirPointPS':wT,'lightmapAddPS':TT,'lightmapDirAddPS':AT,'lightmapDirPS':ET,'lightmapSinglePS':CT,'lightSpecularAnisoGGXPS':MT,'lightSpecularBlinnPS':PT,'lightSheenPS':RT,'linearizeDepthPS':IT,'litShaderArgsPS':DT,'ltcPS':LT,'metalnessPS':FT,'metalnessModulatePS':kT,'msdfPS':OT,'msdfVS':BT,'normalVS':NT,'normalCoreVS':zT,'normalDetailMapPS':UT,'normalMapPS':VT,'normalXYPS':GT,'normalXYZPS':HT,'opacityPS':$T,'opacityDitherPS':WT,'outputPS':qT,'outputAlphaPS':XT,'outputAlphaOpaquePS':jT,'outputAlphaPremulPS':YT,'outputTex2DPS':KT,'sheenPS':ZT,'sheenGlossPS':QT,'parallaxPS':JT,'particlePS':eA,'particleVS':tA,'particleAnimFrameClampVS':sA,'particleAnimFrameLoopVS':iA,'particleAnimTexVS':rA,'particleInputFloatPS':nA,'particleInputRgba8PS':aA,'particleOutputFloatPS':oA,'particleOutputRgba8PS':lA,'particleUpdaterAABBPS':hA,'particleUpdaterEndPS':cA,'particleUpdaterInitPS':dA,'particleUpdaterNoRespawnPS':uA,'particleUpdaterOnStopPS':fA,'particleUpdaterRespawnPS':pA,'particleUpdaterSpherePS':mA,'particleUpdaterStartPS':_A,'particle_billboardVS':gA,'particle_blendAddPS':yA,'particle_blendMultiplyPS':xA,'particle_blendNormalPS':SA,'particle_cpuVS':vA,'particle_cpu_endVS':bA,'particle_customFaceVS':wA,'particle_endPS':TA,'particle_endVS':AA,'particle_halflambertPS':EA,'particle_initVS':CA,'particle_lambertPS':MA,'particle_lightingPS':PA,'particle_localShiftVS':RA,'particle_meshVS':IA,'particle_normalVS':DA,'particle_normalMapPS':LA,'particle_pointAlongVS':FA,'particle_softPS':OA,'particle_softVS':kA,'particle_stretchVS':BA,'particle_TBNVS':NA,'particle_wrapVS':zA,'pickPS':UA,'reflDirPS':VA,'reflDirAnisoPS':GA,'reflectionCCPS':HA,'reflectionCubePS':$A,'reflectionEnvHQPS':WA,'reflectionEnvPS':qA,'reflectionSpherePS':XA,'reflectionSheenPS':jA,'refractionCubePS':YA,'refractionDynamicPS':KA,'reprojectPS':ZA,'sampleCatmullRomPS':QA,'screenDepthPS':JA,'shadowCascadesPS':eE,'shadowEVSMPS':tE,'shadowEVSMnPS':sE,'shadowPCSSPS':iE,'shadowSampleCoordPS':rE,'shadowSoftPS':nE,'shadowStandardPS':aE,'shadowStandardGL2PS':oE,'shadowVSM_commonPS':lE,'skinBatchVS':hE,'skinVS':cE,'skyboxPS':dE,'skyboxVS':uE,'specularPS':fE,'sphericalPS':pE,'specularityFactorPS':mE,'spotPS':_E,'startPS':gE,'startVS':yE,'startNineSlicedPS':xE,'startNineSlicedTiledPS':SE,'storeEVSMPS':vE,'tangentBinormalVS':bE,'TBNPS':wE,'TBNderivativePS':TE,'TBNObjectSpacePS':AE,'thicknessPS':EE,'tonemappingPS':CE,'tonemappingAcesPS':ME,'tonemappingAces2PS':PE,'tonemappingFilmicPS':RE,'tonemappingHejlPS':IE,'tonemappingLinearPS':DE,'tonemappingNeutralPS':LE,'tonemappingNonePS':FE,'transformVS':OE,'transformCoreVS':kE,'transformInstancingVS':BE,'transmissionPS':NE,'twoSidedLightingPS':zE,'uv0VS':UE,'uv1VS':VE,'viewDirPS':GE,'viewNormalVS':HE,'webgpuPS':t0,'webgpuVS':s0},b0=new Ot();function ka(_0x40b961){const _0x444620=b0['get'](_0x40b961);return v['assert'](_0x444620),_0x444620;}function $E(_0x242c87,_0x20073a){v['assert'](_0x20073a),b0['get'](_0x242c87,()=>_0x20073a);}class It{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x13be8b){const _0x48bf87=Array['from'](_0x13be8b)['sort']((_0x5e36de,_0x22be79)=>_0x5e36de[-0x2139+-0x9a0+-0x7*-0x61f]>_0x22be79[-0xdff*0x1+0x2*0x132+0xb9b]?0x39a*0x1+0x1ea6+-0x223f:-(0x1*-0x2681+-0x25*0x57+0x5ad*0x9));return hn(JSON['stringify'](_0x48bf87));}}const WE=new Ot();class qE{constructor(_0x5972d0,_0x3a819d,_0x4427f6={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(v['assert'](/^[a-z]\w*$/i['test'](_0x5972d0),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x5972d0),this['name']=_0x5972d0,this['index']=_0x3a819d,Object['assign'](this,_0x4427f6),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x441f28;this['isShadow']?_0x441f28='SHADOW':this['isForward']?_0x441f28='FORWARD':this['index']===rl?_0x441f28='DEPTH':this['index']===Oa&&(_0x441f28='PICK'),this['defines']['set'](_0x441f28+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Ks{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',-0x1099+-0x5c0+0x1659);const _0x38721b=(_0x38ddee,_0x40a91d,_0x2d0ab9)=>{const _0x5c31e6=this['allocate'](_0x38ddee,_0x2d0ab9);v['assert'](_0x5c31e6['index']===_0x40a91d);};_0x38721b('forward',gn,{'isForward':!(-0x13d7+-0x106*-0xb+0x895)}),_0x38721b('prepass',il),_0x38721b('depth',rl),_0x38721b('pick',Oa),_0x38721b('shadow',Rp);}static['get'](_0x56ea2b){return v['assert'](_0x56ea2b),WE['get'](_0x56ea2b,()=>new Ks());}['allocate'](_0x4a801f,_0x30db41){let _0xd76bf8=this['passesName'+'d']['get'](_0x4a801f);return _0xd76bf8===void(-0x1474+-0x1494+0x2908)&&(_0xd76bf8=new qE(_0x4a801f,this['nextIndex'],_0x30db41),this['passesName'+'d']['set'](_0xd76bf8['name'],_0xd76bf8),this['passesInde'+'xed'][_0xd76bf8['index']]=_0xd76bf8,this['nextIndex']++),_0xd76bf8;}['getByIndex'](_0x59ddba){const _0xf27b84=this['passesInde'+'xed'][_0x59ddba];return v['assert'](_0xf27b84),_0xf27b84;}['getByName'](_0x4e74e6){return this['passesName'+'d']['get'](_0x4e74e6);}}function Is(_0xf5a55b,_0x37312f,_0x4f7d83,_0xe65e0b,_0x3431d2,_0x36d3b9=!(0x155e+-0x203+-0x135a),_0x2f28aa={}){v['assert'](!(-0x1795+0x17*0x7a+0x9*0x167)),typeof _0x36d3b9=='boolean'?_0x2f28aa['useTransfo'+'rmFeedback']=_0x36d3b9:typeof _0x36d3b9=='object'&&(_0x2f28aa={..._0x2f28aa,..._0x36d3b9});const _0x35197e=ka(_0xf5a55b);let _0x3e2901=_0x35197e['getCachedS'+'hader'](_0xe65e0b);return _0x3e2901||(_0x3e2901=new i0(_0xf5a55b,Mt['createDefi'+'nition'](_0xf5a55b,{..._0x2f28aa,'name':_0xe65e0b,'vertexCode':_0x37312f,'fragmentCode':_0x4f7d83,'attributes':_0x3431d2})),_0x35197e['setCachedS'+'hader'](_0xe65e0b,_0x3e2901)),_0x3e2901;}class XE extends It{constructor(_0x479a62,_0x2c0997){super(),this['key']=_0x479a62,this['shaderDefi'+'nition']=_0x2c0997;}['generateKe'+'y'](_0x510da6){return this['key'];}['createShad'+'erDefiniti'+'on'](_0xdc7f60,_0x143c8c){return this['shaderDefi'+'nition'];}}function jE(_0x405653,_0x60a82d){v['assert'](_0x405653);const _0x214df6=_0x405653['definition'],_0x474a62=(_0x214df6['name']??'shader')+'-id-'+_0x405653['id'],_0x6ea28=new XE(_0x474a62,_0x214df6),_0x1c75a6='shader',_0x2d4360=ka(_0x405653['device']);v['assert'](!_0x2d4360['isRegister'+'ed'](_0x1c75a6)),_0x2d4360['register'](_0x1c75a6,_0x6ea28);const _0x2f4c8e=_0x2d4360['getProgram'](_0x1c75a6,{},_0x60a82d);return _0x405653['definition']['shaderLang'+'uage']===Ph&&(_0x2f4c8e['meshUnifor'+'mBufferFor'+'mat']=_0x214df6['meshUnifor'+'mBufferFor'+'mat'],_0x2f4c8e['meshBindGr'+'oupFormat']=_0x214df6['meshBindGr'+'oupFormat']),_0x2d4360['unregister'](_0x1c75a6),_0x2f4c8e;}const Dp=(_0x76748f,_0x104589)=>{const _0x3a2df5=new Map(_0x76748f['defines']);return _0x104589['cameraShad'+'erParams']['defines']['forEach']((_0x2a63a8,_0xa6905a)=>_0x3a2df5['set'](_0xa6905a,_0x2a63a8)),Ks['get'](_0x104589['device'])['getByIndex'](_0x104589['pass'])['defines']['forEach']((_0x2f3f8b,_0x3d0d0f)=>_0x3a2df5['set'](_0x3d0d0f,_0x2f3f8b)),_0x3a2df5;},YE={'type':ar,'base':0x0,'count':0x4,'indexed':!(0x15d2+0x1a12*-0x1+-0x3*-0x16b)},Va=new Q(),Ga=new Q(),pd=new Yy();class Nu{constructor(_0x29f499){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x16b42e=_0x29f499['device'];if(this['shader']=_0x29f499,v['assert'](_0x29f499),_0x16b42e['supportsUn'+'iformBuffe'+'rs']){const _0x21a0ea=new Yc();this['shader']=jE(_0x29f499,_0x21a0ea);const _0x5830d2=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x5830d2&&(this['uniformBuf'+'fer']=new gp(_0x16b42e,_0x5830d2,!(0x72*-0x3f+-0x1*0x616+0x2225)));const _0x44e527=this['shader']['meshBindGr'+'oupFormat'];v['assert'](_0x44e527),this['bindGroup']=new mp(_0x16b42e,_0x44e527),mn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x2abd65,_0x7187d5;(_0x2abd65=this['uniformBuf'+'fer'])==null||_0x2abd65['destroy'](),this['uniformBuf'+'fer']=null,(_0x7187d5=this['bindGroup'])==null||_0x7187d5['destroy'](),this['bindGroup']=null;}['render'](_0x5c385f,_0x3ff56f){const _0x2ee6d6=this['shader']['device'];G['pushGpuMar'+'ker'](_0x2ee6d6,'QuadRender'),_0x5c385f&&(Va['set'](_0x2ee6d6['vx'],_0x2ee6d6['vy'],_0x2ee6d6['vw'],_0x2ee6d6['vh']),Ga['set'](_0x2ee6d6['sx'],_0x2ee6d6['sy'],_0x2ee6d6['sw'],_0x2ee6d6['sh']),_0x3ff56f=_0x3ff56f??_0x5c385f,_0x2ee6d6['setViewpor'+'t'](_0x5c385f['x'],_0x5c385f['y'],_0x5c385f['z'],_0x5c385f['w']),_0x2ee6d6['setScissor'](_0x3ff56f['x'],_0x3ff56f['y'],_0x3ff56f['z'],_0x3ff56f['w'])),_0x2ee6d6['setVertexB'+'uffer'](_0x2ee6d6['quadVertex'+'Buffer'],-0x488*-0x5+0x1e77+0x1*-0x351f);const _0x34d7bf=this['shader'];if(_0x2ee6d6['setShader'](_0x34d7bf),_0x2ee6d6['supportsUn'+'iformBuffe'+'rs']){_0x2ee6d6['setBindGro'+'up'](Dh,_0x2ee6d6['emptyBindG'+'roup']);const _0x1a0d3e=this['bindGroup'];_0x1a0d3e['update'](),_0x2ee6d6['setBindGro'+'up'](Xy,_0x1a0d3e);const _0x1121bc=this['uniformBuf'+'fer'];_0x1121bc?(_0x1121bc['update'](pd),_0x2ee6d6['setBindGro'+'up'](Eu,pd['bindGroup'],pd['offsets'])):_0x2ee6d6['setBindGro'+'up'](Eu,_0x2ee6d6['emptyBindG'+'roup']);}_0x2ee6d6['draw'](YE),_0x5c385f&&(_0x2ee6d6['setViewpor'+'t'](Va['x'],Va['y'],Va['z'],Va['w']),_0x2ee6d6['setScissor'](Ga['x'],Ga['y'],Ga['z'],Ga['w'])),G['popGpuMark'+'er'](_0x2ee6d6);}}class KE extends ds{constructor(_0x137c51,_0x10eb41,_0xd25f11,_0x4975f5){super(_0x137c51),this['quad']=_0x10eb41,this['rect']=_0xd25f11,this['scissorRec'+'t']=_0x4975f5;}['execute'](){const {device:_0x10db2c}=this;G['pushGpuMar'+'ker'](_0x10db2c,this['name']+':'+this['quad']['shader']['name']),_0x10db2c['setCullMod'+'e'](mt),_0x10db2c['setDepthSt'+'ate'](as['NODEPTH']),_0x10db2c['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x10db2c);}}const ZE=new Q();function dn(_0x385ee9,_0x3593a1,_0x289dd8,_0x11134d,_0x5c28c0){v['assert'](_0x3593a1!==void(0x951+0x47*0x21+-0x1278));const _0x15863d=arguments[-0xb98+-0x12d5+-0xa26*-0x3];v['call'](()=>{_0x15863d!==void(-0x1*-0x11e5+-0x735+-0xab0)&&v['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x44f828=new Nu(_0x289dd8);_0x11134d||(_0x11134d=ZE,_0x11134d['x']=-0xfd*0xa+-0x1b9d*0x1+-0x257f*-0x1,_0x11134d['y']=0x87+0x1a78+0x1*-0x1aff,_0x11134d['z']=_0x3593a1?_0x3593a1['width']:_0x385ee9['width'],_0x11134d['w']=_0x3593a1?_0x3593a1['height']:_0x385ee9['height']);const _0x33fefd=new KE(_0x385ee9,_0x44f828,_0x11134d,_0x5c28c0);_0x33fefd['init'](_0x3593a1),_0x33fefd['colorOps']['clear']=!(-0x4a*-0x4a+-0x343*0x5+-0x514),_0x33fefd['depthStenc'+'ilOps']['clearDepth']=!(-0x139*0xb+0xc3*-0x33+0x344d),_0x385ee9['isWebGPU']&&_0x3593a1===null&&_0x385ee9['samples']>-0x1*0x142d+0x5dc+-0x27*-0x5e&&(_0x33fefd['colorOps']['store']=!(-0x1105*-0x2+0x14e5*0x1+-0x36ef)),_0x33fefd['render'](),_0x44f828['destroy']();}class zm{constructor(_0x4190d3,_0x5eeb65,_0x4bfe7b){c(this,'_aabb',new _e()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x4190d3,this['dynamic']=_0x5eeb65,this['batchGroup'+'Id']=_0x4bfe7b);}['destroy'](_0x3c067f,_0x3148c4){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x3c067f,_0x3148c4),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x479cd6,_0xc8cf50){for(let _0x24207d=0x1d94+-0xfa0+-0x26*0x5e;_0x24207d<_0xc8cf50['length'];_0x24207d++){const _0x2a9a21=_0x479cd6['layers']['getLayerBy'+'Id'](_0xc8cf50[_0x24207d]);_0x2a9a21&&_0x2a9a21['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x35c743,_0x47d5ee){for(let _0x48dada=0x2*0x7fa+-0x17ac+-0x7b8*-0x1;_0x48dada<_0x47d5ee['length'];_0x48dada++){const _0xaa8238=_0x35c743['layers']['getLayerBy'+'Id'](_0x47d5ee[_0x48dada]);_0xaa8238&&_0xaa8238['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0xfe+-0x2102+0x2200]['aabb']);for(let _0x19a251=0xbb7+-0x247*-0xb+0x3*-0xc41;_0x19a251<this['origMeshIn'+'stances']['length'];_0x19a251++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x19a251]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x25da+-0x13*-0x133+0xf11;}get['model'](){v['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class et{constructor(_0x30816b,_0x3d5d5d,_0x38b892,_0x50dfed,_0x5d8098=[Fi]){c(this,'_ui',!(0x1*0x527+-0x2*0xbe4+0x6a*0x2d)),c(this,'_sprite',!(0x169f+0x6d*-0x3d+0x35b)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x30816b,this['name']=_0x3d5d5d,this['dynamic']=_0x38b892,this['maxAabbSiz'+'e']=_0x50dfed,this['layers']=_0x5d8098);}}c(et,'MODEL','model'),c(et,'ELEMENT','element'),c(et,'SPRITE','sprite'),c(et,'RENDER','render');const Um=new q();class nl{constructor(_0x3cc28d){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(0x1df2+-0x1ff6*0x1+0x204),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x1*-0x580+-0xdf*0x5+-0x124),this['_updateBef'+'oreCull']=!(0x19da+-0x1*-0x1b1b+-0x34f5),_0x3cc28d&&this['initSkin'](_0x3cc28d));}set['rootBone'](_0x8412cb){this['_rootBone']=_0x8412cb;}get['rootBone'](){return this['_rootBone'];}['init'](_0x5db7b2,_0x2538a6){const _0x972fed=_0x2538a6*(0xa26+-0x1989+0xf66);let _0x199f9d=Math['ceil'](Math['sqrt'](_0x972fed));_0x199f9d=N['roundUp'](_0x199f9d,-0x34e*-0x4+0x14b*0x13+-0x78e*0x5);const _0x3b70fa=Math['ceil'](_0x972fed/_0x199f9d);this['boneTextur'+'e']=new he(_0x5db7b2,{'width':_0x199f9d,'height':_0x3b70fa,'format':Ke,'mipmaps':!(0x164*-0xe+0x9b+-0xd2*-0x17),'minFilter':de,'magFilter':de,'name':'skin'}),this['boneTextur'+'eSize']=[_0x199f9d,_0x3b70fa,(-0x18*0x194+0x33*0x83+-0x74*-0x1a)/_0x199f9d,(-0x2276+0x44+-0x203*-0x11)/_0x3b70fa],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':Fy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x48af8a,_0x421c8a){this['rootBone']=_0x48af8a;const _0x16260e=this['skin'],_0x50378e=[];for(let _0x551d4a=0x1751+-0x3b*-0x19+-0x1d14;_0x551d4a<_0x16260e['boneNames']['length'];_0x551d4a++){const _0x383307=_0x16260e['boneNames'][_0x551d4a];let _0x57d1bc=_0x48af8a['findByName'](_0x383307);_0x57d1bc||(v['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x383307+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x421c8a['name']+(',\x20rootBone'+':\x20')+_0x48af8a['name']),_0x57d1bc=_0x421c8a),_0x50378e['push'](_0x57d1bc);}this['bones']=_0x50378e;}['initSkin'](_0x100eda){this['skin']=_0x100eda,this['bones']=[];const _0xa34038=_0x100eda['inverseBin'+'dPose']['length'];this['init'](_0x100eda['device'],_0xa34038),this['matrices']=[];for(let _0x2e4d06=0x16f4+0x1*-0x595+0x115f*-0x1;_0x2e4d06<_0xa34038;_0x2e4d06++)this['matrices'][_0x2e4d06]=new q();}['uploadBone'+'s'](_0x3b9632){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x8fc66c,_0x139ec1){if(this['_skinUpdat'+'eIndex']!==_0x139ec1){this['_skinUpdat'+'eIndex']=_0x139ec1,Um['copy'](_0x8fc66c['getWorldTr'+'ansform']())['invert']();for(let _0x1b34b6=this['bones']['length']-(-0x1e*-0x8+-0x43*-0x1d+0x2*-0x443);_0x1b34b6>=0x16f8+0x12*0x70+-0x1ed8;_0x1b34b6--)this['matrices'][_0x1b34b6]['mulAffine2'](Um,this['bones'][_0x1b34b6]['getWorldTr'+'ansform']()),this['matrices'][_0x1b34b6]['mulAffine2'](this['matrices'][_0x1b34b6],this['skin']['inverseBin'+'dPose'][_0x1b34b6]);}}['updateMatr'+'ices'](_0x505645,_0x4fa29f){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x505645,_0x4fa29f);}['updateMatr'+'ixPalette'](_0x287edc,_0xbc8708){this['_updateMat'+'rices'](_0x287edc,_0xbc8708);const _0x32cd13=this['matrixPale'+'tte'],_0x3491a8=this['bones']['length'];for(let _0x1e1d5f=0x1da7+0xff1+-0x16cc*0x2;_0x1e1d5f<_0x3491a8;_0x1e1d5f++){const _0x389b6d=this['matrices'][_0x1e1d5f]['data'],_0x2095d1=_0x1e1d5f*(0x26db+0x2530+-0x4bff);_0x32cd13[_0x2095d1]=_0x389b6d[-0x143b+-0x1c39+0x3074],_0x32cd13[_0x2095d1+(-0x1649+-0x23b1*-0x1+-0x49*0x2f)]=_0x389b6d[0x1803+0x149*-0x8+-0xdb7*0x1],_0x32cd13[_0x2095d1+(-0xcf*0x12+0x2*0x1225+-0x15ba)]=_0x389b6d[-0x3d0+-0x76a+-0x83*-0x16],_0x32cd13[_0x2095d1+(-0x218c+0x4b3+0x1cdc)]=_0x389b6d[0xf63*-0x2+0x1*0xce9+0x11e9],_0x32cd13[_0x2095d1+(0x1eb*-0xf+0x6e9+0x10*0x15e)]=_0x389b6d[0x6*-0x111+0x16de+-0x1077],_0x32cd13[_0x2095d1+(0xb85*-0x1+-0x15d3+0xdb*0x27)]=_0x389b6d[-0x9*0x397+0x49*0x35+0x1137],_0x32cd13[_0x2095d1+(-0x5*-0x30e+-0x49*0x38+-0xb8*-0x1)]=_0x389b6d[0x1*0x1028+0x21dc+0x355*-0xf],_0x32cd13[_0x2095d1+(0x1006+-0x20b+0x2*-0x6fa)]=_0x389b6d[-0x1c*-0x3a+0x1bf2+-0x223d],_0x32cd13[_0x2095d1+(0x16c*0x2+0xdce+-0x109e)]=_0x389b6d[0x1367+0x9*0x3e9+-0x3696],_0x32cd13[_0x2095d1+(0x1e52+-0x1a8d+-0x3bc)]=_0x389b6d[-0x1f0f*0x1+0x1d*0x137+-0x426],_0x32cd13[_0x2095d1+(0x1815+0x3*0x1e3+0x1*-0x1db4)]=_0x389b6d[0x1e60+-0x11b9+-0xc9d],_0x32cd13[_0x2095d1+(-0xa08+0x1f12+-0x14ff)]=_0x389b6d[-0x1aaf+0x1b0b+-0x4e];}this['uploadBone'+'s'](this['skin']['device']);}}class Vm extends nl{constructor(_0x30a28c,_0x3bd2f2,_0x47644b){super();const _0x4cc4f6=_0x3bd2f2['length'];this['init'](_0x30a28c,_0x4cc4f6),this['device']=_0x30a28c,this['rootNode']=_0x47644b,this['bones']=_0x3bd2f2;}['updateMatr'+'ices'](_0x33c7af,_0x4bc53e){}['updateMatr'+'ixPalette'](_0x46824f,_0x5a40f8){const _0x5f2ca5=this['matrixPale'+'tte'],_0x5cd4c2=this['bones']['length'];for(let _0x335df9=0x1795+-0x1302+-0x1*0x493;_0x335df9<_0x5cd4c2;_0x335df9++){const _0x4ac17c=this['bones'][_0x335df9]['getWorldTr'+'ansform']()['data'],_0x33785e=_0x335df9*(0x10f1+-0x9ca*0x3+0xc79);_0x5f2ca5[_0x33785e]=_0x4ac17c[-0x1a7c+0x4f*-0x3d+0x679*0x7],_0x5f2ca5[_0x33785e+(0x2485*0x1+0x1b28+-0x3fac)]=_0x4ac17c[-0x11*0x8f+-0xde+0xa61],_0x5f2ca5[_0x33785e+(-0x1069+0x70a*0x4+-0xbbd)]=_0x4ac17c[0x1*-0x1249+-0x3ab*-0x1+0xea6],_0x5f2ca5[_0x33785e+(0x1bc9+-0x359*-0x9+-0x225*0x1b)]=_0x4ac17c[-0x1603+0x1f4b+0x49e*-0x2],_0x5f2ca5[_0x33785e+(0xb11+0xe*-0x26+0x1*-0x8f9)]=_0x4ac17c[0xadf+-0x1*-0x811+0x1*-0x12ef],_0x5f2ca5[_0x33785e+(-0x1b11+-0x26*-0x91+0x590)]=_0x4ac17c[-0xbe5+-0x2*0x32e+0x1246],_0x5f2ca5[_0x33785e+(-0x1*-0x1e39+0x1*0x1319+0x9dc*-0x5)]=_0x4ac17c[-0x1*-0x3eb+0x1cca+-0x20ac],_0x5f2ca5[_0x33785e+(-0x4e*-0xb+-0x1b8+0x89*-0x3)]=_0x4ac17c[0x1*0x1ebd+-0x51*0x7a+0x1*0x7ea],_0x5f2ca5[_0x33785e+(0x8d6+-0xea*0xb+0x140)]=_0x4ac17c[0x1c3a+0x61f+0x2257*-0x1],_0x5f2ca5[_0x33785e+(-0x32*-0x19+0x1627+-0x6c*0x40)]=_0x4ac17c[0x13cb+0x1e2f+-0x116*0x2e],_0x5f2ca5[_0x33785e+(-0x1e2b*0x1+-0x1*-0x25ab+0xbf*-0xa)]=_0x4ac17c[0x855*-0x3+-0x2528+0x3e31],_0x5f2ca5[_0x33785e+(0x2b*0x13+0x1*0x1147+0x3f*-0x53)]=_0x4ac17c[0x1a0c+0x1*-0x12b3+-0x74b];}this['uploadBone'+'s'](this['device']);}}let QE=-0x21be+-0x17*0x1b2+0x48bc;class Hs{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0xd71+0x26*-0x4+-0xcd8),this['verticesUs'+'age']=jt,this['indicesUsa'+'ge']=jt,this['maxVertice'+'s']=0x23b7+0xe85+-0x1*0x323c,this['maxIndices']=0x1ede+-0x1ea1*0x1+-0x3d,this['vertexCoun'+'t']=0x1ba5+-0x9*0x17e+-0xe37,this['indexCount']=0x241*-0xe+0x250f+-0x581,this['vertexStre'+'amsUpdated']=!(-0x1*0x123b+0x1*0x4ca+-0x2*-0x6b9),this['indexStrea'+'mUpdated']=!(0x13*-0x1b2+0x67f+0x19b8),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x33b1ad,_0x5e9181){this['vertexCoun'+'t']?v['assert'](this['vertexCoun'+'t']===_0x33b1ad,'Vertex\x20str'+'eam\x20'+_0x5e9181+'\x20has\x20'+_0x33b1ad+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x33b1ad;}}c(Hs,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x5c*-0x56+-0x113c+-0xda9),c(Hs,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0xc0d+0xdde+-0x1*0x19e8),c(Hs,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x261f+-0x4c6*0x7+0x478b),c(Hs,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x11d5*-0x2+-0x1335+0x36e3);class JE{constructor(_0x3d4c3c,_0x3d8078,_0x25da79,_0x48e94e,_0x58d024){this['data']=_0x3d4c3c,this['componentC'+'ount']=_0x3d8078,this['dataType']=_0x25da79,this['dataTypeNo'+'rmalize']=_0x48e94e,this['asInt']=_0x58d024;}}class Ie extends Gc{constructor(_0x223cbf,_0x245cb5){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',-0x11e1+0x26a1+-0x2*0xa60),c(this,'_aabb',new _e()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(0x17e9+-0x10c9+0x1*-0x71f)),c(this,'_storageVe'+'rtex',!(-0x169c+0x2*-0x7e1+0x265f)),(this['id']=QE++,v['assert'](_0x223cbf,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x223cbf,this['_storageIn'+'dex']=(_0x245cb5==null?void(-0x1ef4+0x23cc+-0x1f*0x28):_0x245cb5['storageInd'+'ex'])||!(-0x18*0xdb+0x38a+-0x1*-0x10ff),this['_storageVe'+'rtex']=(_0x245cb5==null?void(-0xa0e+-0xaf3*-0x3+-0x799*0x3):_0x245cb5['storageVer'+'tex'])||!(-0xa9f*-0x3+-0x6a*0x29+-0xee2));}static['fromGeomet'+'ry'](_0x3ddc33,_0x125ac9,_0x4cb2e2={}){const _0x313d76=new Ie(_0x3ddc33,_0x4cb2e2),{positions:_0x4715b2,normals:_0x4bdf38,tangents:_0x467d0e,colors:_0x41f2db,uvs:_0x225d7c,uvs1:_0x2831e9,blendIndices:_0x4f39e4,blendWeights:_0x48d432,indices:_0x123124}=_0x125ac9;return _0x4715b2&&_0x313d76['setPositio'+'ns'](_0x4715b2),_0x4bdf38&&_0x313d76['setNormals'](_0x4bdf38),_0x467d0e&&_0x313d76['setVertexS'+'tream'](Zs,_0x467d0e,-0x8d*0xb+-0x783*-0x3+0x1076*-0x1),_0x41f2db&&_0x313d76['setColors3'+'2'](_0x41f2db),_0x225d7c&&_0x313d76['setUvs'](0x1949+0x72*-0x2c+-0x5b1,_0x225d7c),_0x2831e9&&_0x313d76['setUvs'](0x74e+0x2*0x1163+-0x2a13*0x1,_0x2831e9),_0x4f39e4&&_0x313d76['setVertexS'+'tream'](qt,_0x4f39e4,-0x1a69+-0x3bb+0xf14*0x2,_0x4f39e4['length']/(0x2*0xf8+0x23fa+-0x25e6),Kr),_0x48d432&&_0x313d76['setVertexS'+'tream'](Ys,_0x48d432,-0x89*0x29+-0x1358+-0x294d*-0x1),_0x123124&&_0x313d76['setIndices'](_0x123124),_0x313d76['update'](),_0x313d76;}set['morph'](_0x5f3860){_0x5f3860!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x5f3860,_0x5f3860&&_0x5f3860['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x58a150){this['_aabb']=_0x58a150,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x38d1d7=this['morph'];_0x38d1d7&&(this['morph']=null,_0x38d1d7['refCount']<-0xe85+-0x2*0x29f+-0x6e*-0x2e&&_0x38d1d7['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0xc447ef=-0x183a+-0x23af*0x1+0x3be9;_0xc447ef<this['indexBuffe'+'r']['length'];_0xc447ef++)this['_destroyIn'+'dexBuffer'](_0xc447ef);this['indexBuffe'+'r']['length']=-0x15f1+-0x769+0x2*0xead,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x4678f4){this['indexBuffe'+'r'][_0x4678f4]&&(this['indexBuffe'+'r'][_0x4678f4]['destroy'](),this['indexBuffe'+'r'][_0x4678f4]=null);}['_initBoneA'+'abbs'](_0x31d127){this['boneAabb']=[],this['boneUsed']=[];let _0xf5e9e5,_0x3a63a7,_0x521ce9,_0x17c55a,_0x546239;const _0x55ed05=[],_0x26fdf8=[],_0x22afa1=this['boneUsed'],_0x50fcb3=this['skin']['boneNames']['length'];let _0x2b3cc7,_0x3cfeb2,_0x36a1e7;for(let _0x2eb23d=0x127c+0x3b2+-0x162e;_0x2eb23d<_0x50fcb3;_0x2eb23d++)_0x55ed05[_0x2eb23d]=new T(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x26fdf8[_0x2eb23d]=new T(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x460920=new go(this['vertexBuff'+'er']),_0x263175=_0x460920['element'][He],_0x4f7e76=_0x460920['element'][Ys],_0x49d715=_0x460920['element'][qt],_0x364718=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x1cb655=0x98+0x1496+-0x152e;_0x1cb655<_0x364718;_0x1cb655++){for(let _0x37c8a3=-0x190a+0x2136+-0x1*0x82c;_0x37c8a3<-0x14*-0x115+-0x1*-0x1b02+-0x2*0x1851;_0x37c8a3++)if(_0x4f7e76['array'][_0x4f7e76['index']+_0x37c8a3]>0x241f+-0x1105+0x65e*-0x3){const _0x24744d=_0x49d715['array'][_0x49d715['index']+_0x37c8a3];if(_0x22afa1[_0x24744d]=!(-0x3*-0x597+0x1828+-0x28ed*0x1),_0xf5e9e5=_0x263175['array'][_0x263175['index']],_0x3a63a7=_0x263175['array'][_0x263175['index']+(-0x281*0xc+0x1fbe+-0x1b1*0x1)],_0x521ce9=_0x263175['array'][_0x263175['index']+(0x7*0x382+-0x2e1*-0x1+-0x1b6d)],_0x17c55a=_0x26fdf8[_0x24744d],_0x546239=_0x55ed05[_0x24744d],_0x546239['x']>_0xf5e9e5&&(_0x546239['x']=_0xf5e9e5),_0x546239['y']>_0x3a63a7&&(_0x546239['y']=_0x3a63a7),_0x546239['z']>_0x521ce9&&(_0x546239['z']=_0x521ce9),_0x17c55a['x']<_0xf5e9e5&&(_0x17c55a['x']=_0xf5e9e5),_0x17c55a['y']<_0x3a63a7&&(_0x17c55a['y']=_0x3a63a7),_0x17c55a['z']<_0x521ce9&&(_0x17c55a['z']=_0x521ce9),_0x31d127){let _0xde5382=_0x2b3cc7=_0xf5e9e5,_0x50c95e=_0x3cfeb2=_0x3a63a7,_0x55bb6a=_0x36a1e7=_0x521ce9;for(let _0x4784f1=0x4d8+0x1460+-0x1938;_0x4784f1<_0x31d127['length'];_0x4784f1++){const _0x26092b=_0x31d127[_0x4784f1],_0x294fe9=_0x26092b['deltaPosit'+'ions'][_0x1cb655*(0x1054*0x2+0x60d+0x673*-0x6)],_0x3866a8=_0x26092b['deltaPosit'+'ions'][_0x1cb655*(0x20e+-0x1a9c+0x1891)+(0x25ca+-0xa7*0x1d+0x1e3*-0xa)],_0x43810a=_0x26092b['deltaPosit'+'ions'][_0x1cb655*(0x1c7a+-0x2cf*0xb+0x137*0x2)+(0x1*0x23a1+0x27*-0xd+-0x21a4)];_0x294fe9<-0x127d*0x1+0xcf7*0x1+0x2c3*0x2?_0xde5382+=_0x294fe9:_0x2b3cc7+=_0x294fe9,_0x3866a8<0x3*-0xca1+-0x1*0x19d7+-0x1fdd*-0x2?_0x50c95e+=_0x3866a8:_0x3cfeb2+=_0x3866a8,_0x43810a<0xeac+-0x2670+0x17c4?_0x55bb6a+=_0x43810a:_0x36a1e7+=_0x43810a;}_0x546239['x']>_0xde5382&&(_0x546239['x']=_0xde5382),_0x546239['y']>_0x50c95e&&(_0x546239['y']=_0x50c95e),_0x546239['z']>_0x55bb6a&&(_0x546239['z']=_0x55bb6a),_0x17c55a['x']<_0x2b3cc7&&(_0x17c55a['x']=_0x2b3cc7),_0x17c55a['y']<_0x3cfeb2&&(_0x17c55a['y']=_0x3cfeb2),_0x17c55a['z']<_0x36a1e7&&(_0x17c55a['z']=_0x36a1e7);}}_0x460920['next']();}const _0x4756e4=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x49ebda=>_0x49ebda['name']===He);if(_0x4756e4&&_0x4756e4['normalize']){const _0xe687fb=((()=>{switch(_0x4756e4['dataType']){case Rc:return _0x2a9d43=>Math['max'](_0x2a9d43/(0x133*0x1c+-0x1e02*0x1+-0x313),-(0x184*-0xc+0x8a5*0x4+0x5*-0x347));case Kr:return _0x3fc261=>_0x3fc261/(-0x2*-0x114e+0x2*-0xb11+-0xb7b);case Ic:return _0x4a64e5=>Math['max'](_0x4a64e5/(-0xcca0+-0x2*0x7392+-0x1*-0x233c3),-(0xfbe+0x1773+-0x2730));case el:return _0x2b9ef4=>_0x2b9ef4/(0x77b*-0x2+0x12*0x1b95+-0xe185);default:return _0x27c0a3=>_0x27c0a3;}})());for(let _0x22222d=0x7*0x441+-0x2*-0xc7f+-0x36c5;_0x22222d<_0x50fcb3;_0x22222d++)if(_0x22afa1[_0x22222d]){const _0x5b8c65=_0x55ed05[_0x22222d],_0x176cc6=_0x26fdf8[_0x22222d];_0x5b8c65['set'](_0xe687fb(_0x5b8c65['x']),_0xe687fb(_0x5b8c65['y']),_0xe687fb(_0x5b8c65['z'])),_0x176cc6['set'](_0xe687fb(_0x176cc6['x']),_0xe687fb(_0x176cc6['y']),_0xe687fb(_0x176cc6['z']));}}for(let _0x255da0=-0x8*0x3fd+-0xe6+0x20ce;_0x255da0<_0x50fcb3;_0x255da0++){const _0x35cc30=new _e();_0x35cc30['setMinMax'](_0x55ed05[_0x255da0],_0x26fdf8[_0x255da0]),this['boneAabb']['push'](_0x35cc30);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new Hs(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x7ad+-0x90e+0x161&&this['indexBuffe'+'r'][-0x2466+-0x1e08+0xb*0x60a]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x1c6+0x240*0x9+-0x16*0xd7]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x16f4*0x1+-0x19ca+0x1*0x2d6]['numIndices']));}['clear'](_0x323760,_0x5549dd,_0x5596aa=-0x13*0x8d+0xd*0x1a3+0x10*-0xad,_0x32e650=0x1*0xd4b+-0x190f+-0xfb*-0xc){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0x1b37*0x1+-0x579*0x1+0x2*0x1058),this['_geometryD'+'ata']['maxVertice'+'s']=_0x5596aa,this['_geometryD'+'ata']['maxIndices']=_0x32e650,this['_geometryD'+'ata']['verticesUs'+'age']=_0x323760?jt:Th,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x5549dd?jt:Th;}['setVertexS'+'tream'](_0x436cd6,_0x2b5931,_0x1ee240,_0x11d174,_0x4dc774=Ee,_0x16d236=!(-0x1c*0x5c+0x1*-0x107+0x2*0x58c),_0x1fd435=!(-0x12e0+0x1af6+-0x815)){this['_initGeome'+'tryData']();const _0x1913d6=_0x11d174||_0x2b5931['length']/_0x1ee240;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x1913d6,_0x436cd6),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x1*0x1a59+0x1*-0x895+0x22ee),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x436cd6]=new JE(_0x2b5931,_0x1ee240,_0x4dc774,_0x16d236,_0x1fd435);}['getVertexS'+'tream'](_0xcffa0e,_0x2f5860){let _0x2c9992=0x768+-0x3b4*0x7+-0x4a1*-0x4,_0x3e9e40=!(-0x6*0x37c+-0x1*0x1e77+0x3360);if(this['_geometryD'+'ata']){const _0x35ae3c=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0xcffa0e];_0x35ae3c&&(_0x3e9e40=!(0x6a8+-0x1063*0x1+-0x1*-0x9bb),_0x2c9992=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x2f5860)?_0x2f5860['set'](_0x35ae3c['data']):(_0x2f5860['length']=-0x2e*0x6a+-0x27b*-0x2+0xe16,_0x2f5860['push'](_0x35ae3c['data'])));}return _0x3e9e40||this['vertexBuff'+'er']&&(_0x2c9992=new go(this['vertexBuff'+'er'])['readData'](_0xcffa0e,_0x2f5860)),_0x2c9992;}['setPositio'+'ns'](_0x581fac,_0x22f85f=Hs['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x185d05){this['setVertexS'+'tream'](He,_0x581fac,_0x22f85f,_0x185d05,Ee,!(-0x3ff+-0x23e5+0x7*0x5b3));}['setNormals'](_0x64ceda,_0x242396=Hs['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x3387cb){this['setVertexS'+'tream'](Yt,_0x64ceda,_0x242396,_0x3387cb,Ee,!(0x1*0x1fbb+0xdac+-0x27*0x12a));}['setUvs'](_0x5153d9,_0x4ceef0,_0x3fc3f8=Hs['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x27283d){this['setVertexS'+'tream'](om+_0x5153d9,_0x4ceef0,_0x3fc3f8,_0x27283d,Ee,!(-0x1*-0xf43+-0x673*0x6+0x78*0x32));}['setColors'](_0x41d592,_0x24bb7e=Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x27793d){this['setVertexS'+'tream'](At,_0x41d592,_0x24bb7e,_0x27793d,Ee,!(-0x30a+0x665*0x3+-0x1024));}['setColors3'+'2'](_0x756fc7,_0x1683e9){this['setVertexS'+'tream'](At,_0x756fc7,Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x1683e9,Kr,!(0x221d+-0x3d4+-0x1e49));}['setIndices'](_0x29af4c,_0x31dd6b){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x3*0x89f+-0x395*0x8+0x2cb),this['_geometryD'+'ata']['indices']=_0x29af4c,this['_geometryD'+'ata']['indexCount']=_0x31dd6b||_0x29af4c['length'];}['getPositio'+'ns'](_0x2ac743){return this['getVertexS'+'tream'](He,_0x2ac743);}['getNormals'](_0x49f07b){return this['getVertexS'+'tream'](Yt,_0x49f07b);}['getUvs'](_0x5b22cc,_0x15edc5){return this['getVertexS'+'tream'](om+_0x5b22cc,_0x15edc5);}['getColors'](_0x464bde){return this['getVertexS'+'tream'](At,_0x464bde);}['getIndices'](_0x12efe9){let _0x488c89=-0x1388+0x126a+0x11e;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x3fba82=this['_geometryD'+'ata']['indices'];if(_0x488c89=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x12efe9))_0x12efe9['set'](_0x3fba82);else{_0x12efe9['length']=-0x1*0x82c+-0xa*-0x26d+0x80b*-0x2;for(let _0x368664=-0x1*0x1b45+-0x24fb+0x4040,_0x579bff=_0x3fba82['length'];_0x368664<_0x579bff;_0x368664++)_0x12efe9['push'](_0x3fba82[_0x368664]);}}else this['indexBuffe'+'r']['length']>0x1*-0xe35+-0x7*0x15d+0xbe*0x20&&this['indexBuffe'+'r'][-0x17c+0x1599+0x13*-0x10f]&&(_0x488c89=this['indexBuffe'+'r'][-0x863+-0x1fb*0x10+0x2813]['readData'](_0x12efe9));return _0x488c89;}['update'](_0x3797a2=Ms,_0x263825=!(-0x6fe+-0x22e5+0x29e3)){if(this['_geometryD'+'ata']){if(_0x263825){const _0x336304=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][He];_0x336304&&_0x336304['componentC'+'ount']===0x1*0x23ef+-0x249f+-0xb3*-0x1&&(this['_aabb']['compute'](_0x336304['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x42c401=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x42c401=!(0x1*0x1ef7+-0x1e9a+-0x5d),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x42c401&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x355585=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x355585=!(-0x5*-0xf7+0x13aa+0x187d*-0x1),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x355585&&this['indexBuffe'+'r']['length']>-0x2419+-0x16b3*0x1+0x3acc&&this['indexBuffe'+'r'][-0x202+-0xec2+0x10c4]&&(this['indexBuffe'+'r'][0x230a+0x11*-0x21f+0x1d*0x9]['destroy'](),this['indexBuffe'+'r'][0x1272+-0x221*0x1+-0x1051*0x1]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][-0x15b*-0x8+-0xb*0x185+0x9*0xa7]['type']=_0x3797a2,this['indexBuffe'+'r']['length']>0xb2a+0x1*-0x391+-0x799&&this['indexBuffe'+'r'][0x200f+0xfbc+0x5*-0x98f]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x12b8*0x1+-0x4e*-0x25+-0x2*-0x3b9]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x13*0x207+0x25cf+0x2*0x5b]['indexed']=!(0x2441+-0x38+0x171*-0x19)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0x139f*-0x1+0x124e+-0x25ed]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0x1268+-0x10*-0x20a+0xe*-0x104]['indexed']=!(0x2eb*-0x1+-0x1*-0x1e01+-0x1b15)),this['_geometryD'+'ata']['vertexCoun'+'t']=0x256c+0xf48*0x2+-0x21fe*0x2,this['_geometryD'+'ata']['indexCount']=-0x8f*-0x3a+0x6d*0x9+-0x243b,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x5*0x77e+-0x4*0x23b+0x5b5*-0x5),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x4fe+-0x421*-0x2+-0xd3f),this['_geometryD'+'ata']['recreate']=!(0x2*-0x1141+0x2395*-0x1+0x4618),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x193d40){const _0x594a34=[];for(const _0x53aeb1 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x4d51f5=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x53aeb1];_0x594a34['push']({'semantic':_0x53aeb1,'components':_0x4d51f5['componentC'+'ount'],'type':_0x4d51f5['dataType'],'normalize':_0x4d51f5['dataTypeNo'+'rmalize'],'asInt':_0x4d51f5['asInt']});}return new Et(this['device'],_0x594a34,_0x193d40);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x3cc56e=this['_geometryD'+'ata']['maxVertice'+'s'],_0x1b08b8=this['_buildVert'+'exFormat'](_0x3cc56e);this['vertexBuff'+'er']=new os(this['device'],_0x1b08b8,_0x3cc56e,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x5df59a=new go(this['vertexBuff'+'er']),_0x13cb30=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x19796a in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x314f0a=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x19796a];_0x5df59a['writeData'](_0x19796a,_0x314f0a['data'],_0x13cb30),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x19796a];}_0x5df59a['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=0x229+-0x1*0x120e+-0x139*-0xd||!this['indexBuffe'+'r'][-0x8*0x4ca+-0xe*-0x1d8+-0x5*-0x280]){const _0x4472ac=this['_geometryD'+'ata']['maxVertice'+'s'],_0x467f6f=_0x4472ac>0x1de15*-0x1+0x63cc+0x2*0x13d24||_0x4472ac===-0x17e8+-0x96f+-0xf*-0x239?nr:Pi,_0x2af928=this['_storageIn'+'dex']?{'storage':!(0x52+-0x3*-0x92c+-0x1bd6*0x1)}:void(0x106b*0x1+0xdab*0x1+-0x1e16);this['indexBuffe'+'r'][0x178f+-0x20fa+0x96b]=new lr(this['device'],_0x467f6f,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x29*-0x4+-0x550+-0x7f*-0xc),_0x2af928);}const _0x30abd6=this['_geometryD'+'ata']['indices'];_0x30abd6&&(this['indexBuffe'+'r'][-0x1386+0x49*-0x47+0x1*0x27c5]['writeData'](_0x30abd6,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x1b6f35){_0x1b6f35===Dr?this['generateWi'+'reframe']():_0x1b6f35===Tl&&(this['primitive'][Tl]={'type':Mc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x8b6*-0x2+0x5aa+-0x18a*0xf,'indexed':!(0x17d+0x20f8+0x24*-0xf5)});}['updateRend'+'erStates'](){this['primitive'][Tl]&&this['prepareRen'+'derState'](Tl),this['primitive'][Dr]&&this['prepareRen'+'derState'](Dr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Dr);const _0xd4d9c4=this['vertexBuff'+'er']['numVertice'+'s'],_0x1ff30f=[];let _0x54f522;if(this['indexBuffe'+'r']['length']>0x1d69*0x1+0x2*-0x8e4+-0xba1&&this['indexBuffe'+'r'][0xaac+-0x1991+0x1*0xee5]){const _0x5ab150=[[-0x20b1+-0x205e+0x1*0x410f,-0x94+-0x81e+0x8b3],[0x1c*0x10+0x371*-0x5+0x7bb*0x2,-0x13*0x59+-0x3e1*-0x3+0x1*-0x506],[-0x23bd+-0x1*-0xe6b+0x1c7*0xc,0x1af7+0x19ba*-0x1+-0x1*0x13d]],_0x7db224=this['primitive'][yo]['base'],_0x4bd2fe=this['primitive'][yo]['count'],_0x345263=this['indexBuffe'+'r'][yo],_0x49ad74=new Lh[_0x345263['format']](_0x345263['storage']),_0x3fb171=new Set();for(let _0x411746=_0x7db224;_0x411746<_0x7db224+_0x4bd2fe;_0x411746+=-0xea3+0x21df+0x25*-0x85)for(let _0x19d463=-0x1c56*-0x1+-0x516*0x1+-0x1740;_0x19d463<-0x977*0x1+0xbc6+0xc*-0x31;_0x19d463++){const _0x46d326=_0x49ad74[_0x411746+_0x5ab150[_0x19d463][0x9be+0x5*-0xe3+-0x54f*0x1]],_0x4a1a41=_0x49ad74[_0x411746+_0x5ab150[_0x19d463][-0xc*-0x18a+0x150a+-0x2781]],_0x13d601=_0x46d326>_0x4a1a41?_0x4a1a41*_0xd4d9c4+_0x46d326:_0x46d326*_0xd4d9c4+_0x4a1a41;_0x3fb171['has'](_0x13d601)||(_0x3fb171['add'](_0x13d601),_0x1ff30f['push'](_0x46d326,_0x4a1a41));}_0x54f522=_0x345263['format'];}else{for(let _0x2e80e7=-0x99f*0x2+0x2*0xcb6+-0x1*0x62e;_0x2e80e7<_0xd4d9c4;_0x2e80e7+=-0x67a+0x14*0x3+0x641)_0x1ff30f['push'](_0x2e80e7,_0x2e80e7+(-0x6ee+-0x18b7+0xfd3*0x2),_0x2e80e7+(0x21d5+-0xcc2+-0x1512),_0x2e80e7+(-0xacd+0x41c+0x6b3),_0x2e80e7+(0x1b0*0x17+0x3*-0x11b+0x4f*-0x73),_0x2e80e7);_0x54f522=_0x1ff30f['length']>-0x6ae9+0x1879a+-0x1*0x1cb2?nr:Pi;}const _0x4a2db7=new lr(this['vertexBuff'+'er']['device'],_0x54f522,_0x1ff30f['length']);new Lh[_0x4a2db7['format']](_0x4a2db7['storage'])['set'](_0x1ff30f),_0x4a2db7['unlock'](),this['primitive'][Dr]={'type':Pc,'base':0x0,'count':_0x1ff30f['length'],'indexed':!(0x47d*-0x4+-0x9*-0xac+0x7f*0x18)},this['indexBuffe'+'r'][Dr]=_0x4a2db7;}}const Gm=new q(),md=new T(),Hm=new se(),_d=new se(),$m=new T(),Wm=new T(),eC=new q(),tC=new se(),kt=new T(),Ha=new q(),Bt=new se(),An=new se(),qm=new q(),gd=new T(),El=new T();function Xm(_0x42cc20,_0xedd159){return _0x42cc20 instanceof Function?_0x42cc20:_0x536db6=>{let _0x3bbc7f=_0x536db6[_0x42cc20];return _0x3bbc7f instanceof Function&&(_0x3bbc7f=_0x3bbc7f()),_0x3bbc7f===_0xedd159;};}function w0(_0x211289,_0x538926){if(_0x538926(_0x211289))return _0x211289;const _0x16cb85=_0x211289['_children'],_0x2285c8=_0x16cb85['length'];for(let _0x499da1=-0x1db2+0x15b5+0x5*0x199;_0x499da1<_0x2285c8;++_0x499da1){const _0x22bad9=w0(_0x16cb85[_0x499da1],_0x538926);if(_0x22bad9)return _0x22bad9;}return null;}class De extends ce{constructor(_0x13dcc7='Untitled'){super(),c(this,'name'),c(this,'tags',new po(this)),c(this,'localPosit'+'ion',new T()),c(this,'localRotat'+'ion',new se()),c(this,'localScale',new T(0x1f*0x125+0x3*0xc4b+-0x1*0x485b,-0x4c9+0x343*0x9+-0x1*0x1891,0x2590+0x1f82+0x1*-0x4511)),c(this,'localEuler'+'Angles',new T()),c(this,'position',new T()),c(this,'rotation',new se()),c(this,'eulerAngle'+'s',new T()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(-0x1*-0x27e+-0x2324+0x20a7)),c(this,'_aabbVer',0x1*0x634+-0x5*-0x293+0x1313*-0x1),c(this,'_frozen',!(-0x12c4+-0x3af*-0x2+0xb67)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(0x5a*0x47+0x7*0x521+-0x3cdc)),c(this,'_worldScal'+'eSign',0x6fc+-0x1*-0x24f2+-0x2*0x15f7),c(this,'_normalMat'+'rix',new js()),c(this,'_dirtyNorm'+'al',!(-0x1e07*-0x1+0x1*-0x23ff+0x17e*0x4)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',-0x1312+-0x1699+0x29ab),c(this,'_enabled',!(-0x3*0x5e5+-0x745*-0x5+-0x1*0x12aa)),c(this,'_enabledIn'+'Hierarchy',!(0xbd0+-0x182c+-0x279*-0x5)),c(this,'scaleCompe'+'nsation',!(0x117*0xe+-0x1*0x23b1+0x10*0x147)),this['name']=_0x13dcc7;}get['right'](){return this['_right']||(this['_right']=new T()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new T()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new T()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x1e7*0x5+0x29*0x53+-0x3c7));}get['normalMatr'+'ix'](){const _0x175c52=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x175c52['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x683*0x1+0x3*-0xbcf+0x1ceb)),_0x175c52;}set['enabled'](_0x2ba56f){var _0x371119;this['_enabled']!==_0x2ba56f&&(this['_enabled']=_0x2ba56f,(_0x2ba56f&&((_0x371119=this['_parent'])!=null&&_0x371119['enabled'])||!_0x2ba56f)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x2ba56f));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x1e8dd9=this['_parent'];if(!_0x1e8dd9)return'';let _0x26a275=this['name'];for(;_0x1e8dd9&&_0x1e8dd9['_parent'];)_0x26a275=_0x1e8dd9['name']+'/'+_0x26a275,_0x1e8dd9=_0x1e8dd9['_parent'];return _0x26a275;}get['root'](){let _0x5437b2=this;for(;_0x5437b2['_parent'];)_0x5437b2=_0x5437b2['_parent'];return _0x5437b2;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x574fbc,_0x53a510){_0x574fbc['_onHierarc'+'hyStateCha'+'nged'](_0x53a510);const _0x70a2e2=_0x574fbc['_children'];for(let _0x117703=0x65*0x2c+0x10dd+0x1*-0x2239,_0x2c5ee8=_0x70a2e2['length'];_0x117703<_0x2c5ee8;_0x117703++)_0x70a2e2[_0x117703]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x70a2e2[_0x117703],_0x53a510);}['_onHierarc'+'hyStateCha'+'nged'](_0x52575f){this['_enabledIn'+'Hierarchy']=_0x52575f,_0x52575f&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0xf2fe68){_0xf2fe68['name']=this['name'];const _0x5730f=this['tags']['_list'];_0xf2fe68['tags']['clear']();for(let _0xbcf131=-0x1eb*0x2+0x2*-0x4eb+0x46*0x32;_0xbcf131<_0x5730f['length'];_0xbcf131++)_0xf2fe68['tags']['add'](_0x5730f[_0xbcf131]);_0xf2fe68['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0xf2fe68['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0xf2fe68['localScale']['copy'](this['localScale']),_0xf2fe68['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0xf2fe68['position']['copy'](this['position']),_0xf2fe68['rotation']['copy'](this['rotation']),_0xf2fe68['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0xf2fe68['localTrans'+'form']['copy'](this['localTrans'+'form']),_0xf2fe68['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0xf2fe68['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0xf2fe68['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0xf2fe68['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0xf2fe68['_aabbVer']=this['_aabbVer']+(0x23e5+0x1a5c+0x30*-0x14c),_0xf2fe68['_enabled']=this['_enabled'],_0xf2fe68['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0xf2fe68['_enabledIn'+'Hierarchy']=!(0x139d*0x1+0x1*-0x13e3+-0x47*-0x1);}['clone'](){const _0x3b9c17=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x3b9c17),_0x3b9c17;}['copy'](_0x13131c){return _0x13131c['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x9d1763=this['_children'];for(;_0x9d1763['length'];){const _0x46e148=_0x9d1763['pop']();_0x46e148['_parent']=null,_0x46e148['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x463803,_0x6630ec){const _0x5948dc=[],_0x448c74=Xm(_0x463803,_0x6630ec);return this['forEach'](_0x10c060=>{_0x448c74(_0x10c060)&&_0x5948dc['push'](_0x10c060);}),_0x5948dc;}['findOne'](_0xd321a6,_0x2e0ed7){const _0x58b4ba=Xm(_0xd321a6,_0x2e0ed7);return w0(this,_0x58b4ba);}['findByTag'](){const _0x15cd90=arguments,_0x2333ce=[],_0x1533a5=(_0x10df23,_0x10d4b0)=>{_0x10d4b0&&_0x10df23['tags']['has'](..._0x15cd90)&&_0x2333ce['push'](_0x10df23);for(let _0x611e32=0xdee*0x1+0x1*0x241c+-0x320a;_0x611e32<_0x10df23['_children']['length'];_0x611e32++)_0x1533a5(_0x10df23['_children'][_0x611e32],!(0x598*0x2+-0xc*0x31f+0x1a44));};return _0x1533a5(this,!(0x252d+0x13*-0x23+-0x2293)),_0x2333ce;}['findByName'](_0x5f0bb8){return this['findOne']('name',_0x5f0bb8);}['findByPath'](_0xff4225){const _0x41ad51=Array['isArray'](_0xff4225)?_0xff4225:_0xff4225['split']('/');let _0x3875fc=this;for(let _0x96af20=0xbff*-0x2+-0x1e*-0x68+0xbce,_0x43d8ff=_0x41ad51['length'];_0x96af20<_0x43d8ff;++_0x96af20)if(_0x3875fc=_0x3875fc['children']['find'](_0x3d4928=>_0x3d4928['name']===_0x41ad51[_0x96af20]),!_0x3875fc)return null;return _0x3875fc;}['forEach'](_0x3dff7b,_0x1f0572){_0x3dff7b['call'](_0x1f0572,this);const _0x2ab084=this['_children'],_0x2e9a49=_0x2ab084['length'];for(let _0x5a93ff=0xd2b+0x20*-0x128+0x17d5;_0x5a93ff<_0x2e9a49;++_0x5a93ff)_0x2ab084[_0x5a93ff]['forEach'](_0x3dff7b,_0x1f0572);}['isDescenda'+'ntOf'](_0x3ce8a3){let _0x19eed1=this['_parent'];for(;_0x19eed1;){if(_0x19eed1===_0x3ce8a3)return!(0x1e44+-0x17f*0x19+0x723);_0x19eed1=_0x19eed1['_parent'];}return!(0x72d*-0x2+0x1cbd+-0xe62);}['isAncestor'+'Of'](_0x23f33a){return _0x23f33a['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x1*-0x11c2+-0x15d3+0x2796)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new T()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0x9b6*-0x3+-0x1*-0x52a+0x17f8&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x69f968;(_0x69f968=this['_parent'])==null||_0x69f968['removeChil'+'d'](this);}['reparent'](_0x1c0dbc,_0x3e398d){this['remove'](),_0x1c0dbc&&(_0x3e398d>=0x11b*-0x4+0xa53+-0x5e7?_0x1c0dbc['insertChil'+'d'](this,_0x3e398d):_0x1c0dbc['addChild'](this));}['setLocalEu'+'lerAngles'](_0x1e185c,_0x4388ce,_0x26a274){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x1e185c,_0x4388ce,_0x26a274),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x5dcd7a,_0x5c2dd7,_0x27abad){_0x5dcd7a instanceof T?this['localPosit'+'ion']['copy'](_0x5dcd7a):this['localPosit'+'ion']['set'](_0x5dcd7a,_0x5c2dd7,_0x27abad),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x4dc905,_0x23e5ac,_0x4a3c39,_0x1f2d76){_0x4dc905 instanceof se?this['localRotat'+'ion']['copy'](_0x4dc905):this['localRotat'+'ion']['set'](_0x4dc905,_0x23e5ac,_0x4a3c39,_0x1f2d76),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x5529a3,_0x3607c5,_0x284ea1){_0x5529a3 instanceof T?this['localScale']['copy'](_0x5529a3):this['localScale']['set'](_0x5529a3,_0x3607c5,_0x284ea1),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x2e7+-0x1*-0x973+-0x68c),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x462d3b=this['_parent'];for(;_0x462d3b;)_0x462d3b['_frozen']=!(-0x913+-0x1*-0xe29+-0x1*0x515),_0x462d3b=_0x462d3b['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x1*0x661+0x7d0+-0xe30),this['_dirtyWorl'+'d']=!(0x1800+-0x1242+-0x5be);for(let _0x40cc69=-0x17*-0xc2+-0x7*-0x146+-0x8c8*0x3;_0x40cc69<this['_children']['length'];_0x40cc69++)this['_children'][_0x40cc69]['_dirtyWorl'+'d']||this['_children'][_0x40cc69]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0xb8e+0x10a7+0xf9*-0x1d),this['_worldScal'+'eSign']=0x1ba5+-0x17*0xc7+-0x9c4,this['_aabbVer']++;}['setPositio'+'n'](_0x2fec39,_0x400fa7,_0x286e1e){_0x2fec39 instanceof T?kt['copy'](_0x2fec39):kt['set'](_0x2fec39,_0x400fa7,_0x286e1e),this['_parent']===null?this['localPosit'+'ion']['copy'](kt):(Ha['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Ha['transformP'+'oint'](kt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x5d07aa,_0x191f25,_0x2f8d02,_0x58272b){if(_0x5d07aa instanceof se?Bt['copy'](_0x5d07aa):Bt['set'](_0x5d07aa,_0x191f25,_0x2f8d02,_0x58272b),this['_parent']===null)this['localRotat'+'ion']['copy'](Bt);else{const _0x1ae941=this['_parent']['getRotatio'+'n']();An['copy'](_0x1ae941)['invert'](),this['localRotat'+'ion']['copy'](An)['mul'](Bt);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x5444d6,_0x93d3cf){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x5444d6),this['localRotat'+'ion']['copy'](_0x93d3cf);else{const _0x5be09b=this['_parent']['getWorldTr'+'ansform']();Ha['copy'](_0x5be09b)['invert'](),Ha['transformP'+'oint'](_0x5444d6,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Ha)['mul'](_0x93d3cf);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x4659f4,_0x221b98,_0xecfeea){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x4659f4,_0x221b98,_0xecfeea),this['_parent']!==null){const _0x19bbbe=this['_parent']['getRotatio'+'n']();An['copy'](_0x19bbbe)['invert'](),this['localRotat'+'ion']['mul2'](An,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x28603f){this['_prepareIn'+'sertChild'](_0x28603f),this['_children']['push'](_0x28603f),this['_onInsertC'+'hild'](_0x28603f);}['addChildAn'+'dSaveTrans'+'form'](_0xfcfd43){const _0x5128cc=_0xfcfd43['getPositio'+'n'](),_0x3f95b5=_0xfcfd43['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0xfcfd43),_0xfcfd43['setPositio'+'n'](eC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x5128cc)),_0xfcfd43['setRotatio'+'n'](tC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x3f95b5)),this['_children']['push'](_0xfcfd43),this['_onInsertC'+'hild'](_0xfcfd43);}['insertChil'+'d'](_0x57fb2d,_0x3567b4){this['_prepareIn'+'sertChild'](_0x57fb2d),this['_children']['splice'](_0x3567b4,-0x7bf+0x263e+-0x1e7f,_0x57fb2d),this['_onInsertC'+'hild'](_0x57fb2d);}['_prepareIn'+'sertChild'](_0x4e60f0){_0x4e60f0['remove'](),v['assert'](_0x4e60f0!==this,'GraphNode\x20'+(_0x4e60f0==null?void(0x2*-0x2d4+-0x8*0x44a+-0x9fe*-0x4):_0x4e60f0['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),v['assert'](!this['isDescenda'+'ntOf'](_0x4e60f0),'GraphNode\x20'+(_0x4e60f0==null?void(-0x2*0xe43+0x20d8+-0x229*0x2):_0x4e60f0['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x389c10,_0x5cdf2d,_0x1baf1b){this['fire'](_0x389c10,_0x1baf1b);for(let _0x142361=-0x36c+0x1dfd+-0x8db*0x3;_0x142361<this['_children']['length'];_0x142361++)this['_children'][_0x142361]['_fireOnHie'+'rarchy'](_0x5cdf2d,_0x5cdf2d,_0x1baf1b);}['_onInsertC'+'hild'](_0x239802){_0x239802['_parent']=this;const _0x4c44d6=_0x239802['_enabled']&&this['enabled'];_0x239802['_enabledIn'+'Hierarchy']!==_0x4c44d6&&(_0x239802['_enabledIn'+'Hierarchy']=_0x4c44d6,_0x239802['_notifyHie'+'rarchyStat'+'eChanged'](_0x239802,_0x4c44d6)),_0x239802['_updateGra'+'phDepth'](),_0x239802['_dirtifyWo'+'rld'](),this['_frozen']&&_0x239802['_unfreezeP'+'arentToRoo'+'t'](),_0x239802['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x239802);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x743+0x32*-0x95+0x15d8):0xf6+-0x359+0x263;for(let _0x48db9d=-0x2*-0x6b1+-0x333+-0x4f*0x21,_0x1477bf=this['_children']['length'];_0x48db9d<_0x1477bf;_0x48db9d++)this['_children'][_0x48db9d]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x3d6445){const _0x35d1f0=this['_children']['indexOf'](_0x3d6445);_0x35d1f0!==-(-0x1*-0x22c3+-0x221c+-0x53*0x2)&&(this['_children']['splice'](_0x35d1f0,0x298+0x2626+0x1*-0x28bd),_0x3d6445['_parent']=null,_0x3d6445['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x3d6445));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x6a*-0x1a+-0x3d*-0x59+-0xa70)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x4f8657;const _0x4425b7=this['_parent'];let _0x2fd63d=this['localScale'],_0x40fa28=_0x4425b7;if(_0x40fa28){for(;_0x40fa28&&_0x40fa28['scaleCompe'+'nsation'];)_0x40fa28=_0x40fa28['_parent'];_0x40fa28&&(_0x40fa28=_0x40fa28['_parent'],_0x40fa28&&(_0x4f8657=_0x40fa28['worldTrans'+'form']['getScale'](),$m['mul2'](_0x4f8657,this['localScale']),_0x2fd63d=$m));}_d['setFromMat'+'4'](_0x4425b7['worldTrans'+'form']),Hm['mul2'](_d,this['localRotat'+'ion']);let _0x4f3d1d=_0x4425b7['worldTrans'+'form'];_0x4425b7['scaleCompe'+'nsation']&&(Wm['mul2'](_0x4f8657,_0x4425b7['getLocalSc'+'ale']()),Gm['setTRS'](_0x4425b7['worldTrans'+'form']['getTransla'+'tion'](md),_d,Wm),_0x4f3d1d=Gm),_0x4f3d1d['transformP'+'oint'](this['localPosit'+'ion'],md),this['worldTrans'+'form']['setTRS'](md,Hm,_0x2fd63d);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x5*-0x7d+0xcb5+-0xf25);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x1*-0x161b+-0xfe3+0x4*-0x18e),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x546506=this['_children'];for(let _0xa32339=0x1acf*0x1+-0x1e37+-0x2*-0x1b4,_0x4283a7=_0x546506['length'];_0xa32339<_0x4283a7;_0xa32339++)_0x546506[_0xa32339]['syncHierar'+'chy']();}['lookAt'](_0x13dba2,_0x7347d7,_0x111b98,_0x284e76=-0xdb5*-0x1+0x5*0xa8+-0x10fd,_0x329a55=0x3*-0x8cb+0xbe1*0x1+0xe81,_0xf2c719=0x4e*0x55+-0x134*0x1a+-0x562*-0x1){if(_0x13dba2 instanceof T)gd['copy'](_0x13dba2),_0x7347d7 instanceof T?El['copy'](_0x7347d7):El['copy'](T['UP']);else{if(_0x111b98===void(-0x139*0xb+0x9*-0x17+-0x2*-0x721))return;gd['set'](_0x13dba2,_0x7347d7,_0x111b98),El['set'](_0x284e76,_0x329a55,_0xf2c719);}qm['setLookAt'](this['getPositio'+'n'](),gd,El),Bt['setFromMat'+'4'](qm),this['setRotatio'+'n'](Bt);}['translate'](_0x1e294c,_0x1f9d73,_0x670477){_0x1e294c instanceof T?kt['copy'](_0x1e294c):kt['set'](_0x1e294c,_0x1f9d73,_0x670477),kt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](kt);}['translateL'+'ocal'](_0x421ecb,_0x3460b8,_0x2eac18){_0x421ecb instanceof T?kt['copy'](_0x421ecb):kt['set'](_0x421ecb,_0x3460b8,_0x2eac18),this['localRotat'+'ion']['transformV'+'ector'](kt,kt),this['localPosit'+'ion']['add'](kt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0xc11c79,_0x1c231a,_0x226af6){if(Bt['setFromEul'+'erAngles'](_0xc11c79,_0x1c231a,_0x226af6),this['_parent']===null)this['localRotat'+'ion']['mul2'](Bt,this['localRotat'+'ion']);else{const _0x31ced5=this['getRotatio'+'n'](),_0x401c63=this['_parent']['getRotatio'+'n']();An['copy'](_0x401c63)['invert'](),Bt['mul2'](An,Bt),this['localRotat'+'ion']['mul2'](Bt,_0x31ced5);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x2d4290,_0x1691b6,_0x21e9b2){Bt['setFromEul'+'erAngles'](_0x2d4290,_0x1691b6,_0x21e9b2),this['localRotat'+'ion']['mul'](Bt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const T0=new Ot();function al(_0x331431){const _0x5a7408=T0['get'](_0x331431);return v['assert'](_0x5a7408),_0x5a7408;}function sC(_0x267eb2,_0x194961){v['assert'](_0x194961),T0['get'](_0x267eb2,()=>_0x194961);}class iC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x2b7126,_0x9eec15)=>{_0x9eec15['destroy']();}),this['cache']['clear']();}['incRef'](_0x1cbeb3){const _0x5e441a=(this['cache']['get'](_0x1cbeb3)||-0x1a91+0x1cf*0x9+0xa4a)+(0x1282+0x569+-0xbf5*0x2);this['cache']['set'](_0x1cbeb3,_0x5e441a);}['decRef'](_0x2b6f2a){if(_0x2b6f2a){let _0x252132=this['cache']['get'](_0x2b6f2a);_0x252132&&(_0x252132--,_0x252132===-0x144f*0x1+0x3*-0x349+0x16*0x15f?(this['cache']['delete'](_0x2b6f2a),_0x2b6f2a['destroy']()):this['cache']['set'](_0x2b6f2a,_0x252132));}}}class Si{static['incRef'](_0x5318ef){this['cache']['incRef'](_0x5318ef);}static['decRef'](_0x1be34a){this['cache']['decRef'](_0x1be34a);}static['destroy'](){this['cache']['destroy']();}}c(Si,'cache',new iC());let rC=0x212f+0x10a2+-0x31d1;const nC=new _e(),Cl=new _e(),yd=new Lf(),xd=new Set(),yr=new Uint32Array(0x19cc+0x1*0x150b+-0x1*0x2ed3);class aC{constructor(_0x386b8d){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(0x239c+-0x44e+0x3*-0xa6f)),this['count']=_0x386b8d;}['destroy'](){var _0xd01ce3;this['_destroyVe'+'rtexBuffer']&&((_0xd01ce3=this['vertexBuff'+'er'])==null||_0xd01ce3['destroy']()),this['vertexBuff'+'er']=null;}}class oC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x496a8d){if(!this['bindGroup']){const _0x271eab=this['shader'];v['assert'](_0x271eab);const _0x19bde3=_0x271eab['meshBindGr'+'oupFormat'];v['assert'](_0x19bde3),this['bindGroup']=new mp(_0x496a8d,_0x19bde3),mn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x25ea4b){if(!this['uniformBuf'+'fer']){const _0x33f819=this['shader'];v['assert'](_0x33f819);const _0x2df08d=_0x33f819['meshUnifor'+'mBufferFor'+'mat'];v['assert'](_0x2df08d),this['uniformBuf'+'fer']=new gp(_0x25ea4b,_0x2df08d,!(-0x807+0x989+-0x181));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x3b116a,_0x190ef5;(_0x3b116a=this['bindGroup'])==null||_0x3b116a['destroy'](),this['bindGroup']=null,(_0x190ef5=this['uniformBuf'+'fer'])==null||_0x190ef5['destroy'](),this['uniformBuf'+'fer']=null;}}const Vr=class Vr{constructor(_0x5aa76d,_0x238362,_0x51664a=null){c(this,'castShadow',!(0x13e5+-0x1*0x190c+0x14a*0x4)),c(this,'cull',!(0xc*-0x16+-0x5b6*0x2+-0x4*-0x31d)),c(this,'drawOrder',-0x1309+0xa76+-0x5*-0x1b7),c(this,'node'),c(this,'visible',!(-0x2056+0x1*0x2+0x2054)),c(this,'visibleThi'+'sFrame',!(0x20b2+-0x176+-0x1f3b)),c(this,'flipFacesF'+'actor',0x798+0x2*0x376+-0x1*0xe83),c(this,'gsplatInst'+'ance',null),c(this,'id',rC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(0x24*0x97+-0x1ed4+0x4*0x266)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(-0x29*0x5e+-0xaa9+0x19b8)),c(this,'_aabb',new _e()),c(this,'_aabbVer',-(0x575*-0x1+0xeda*0x1+-0x964)),c(this,'_aabbMeshV'+'er',-(0x87b+-0x16f*-0x7+0x1*-0x1283)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(0xad*-0x38+-0x1499+0x3a71)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[0x2*-0x1196+0x17f*0x8+0x6e*0x36,-0xe19+-0xadc*0x3+-0x2ead*-0x1]),c(this,'_layer',c0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(-0x1b87+0x2247*0x1+-0x6c0)),c(this,'_renderSty'+'le',yo),c(this,'_screenSpa'+'ce',!(-0x175+0xbc1+-0x1*0xa4b)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',hs<<0x265c+0x567+-0x2bb3),c(this,'_calculate'+'SortDistan'+'ce',null);if(v['assert'](!(_0x5aa76d instanceof De),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x51664a,this['_mesh']=_0x5aa76d,_0x5aa76d['incRefCoun'+'t'](),this['material']=_0x238362,_0x5aa76d['vertexBuff'+'er']){const _0x238804=_0x5aa76d['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x238804['hasUv0']?m0:-0x4d9*0x1+-0x12c7+0xc*0x1f8,this['_shaderDef'+'s']|=_0x238804['hasUv1']?_0:-0x82e*-0x1+-0xb80*0x2+-0x1*-0xed2,this['_shaderDef'+'s']|=_0x238804['hasColor']?g0:-0x1802+0xba*-0x10+0x23a2,this['_shaderDef'+'s']|=_0x238804['hasTangent'+'s']?Mp:-0x24d4+0x21e2+-0x2f2*-0x1;}this['updateKey']();}set['renderStyl'+'e'](_0x3a9719){this['_renderSty'+'le']=_0x3a9719,this['mesh']['prepareRen'+'derState'](_0x3a9719);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x3eacc1){_0x3eacc1!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x3eacc1,_0x3eacc1&&_0x3eacc1['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x58b299){this['_aabb']=_0x58b299;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x1524fa=this['_customAab'+'b'],_0x92f5b5=!!_0x1524fa;if(!_0x1524fa){if(_0x1524fa=nC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0xd37006=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0xd37006);}const _0x4d2125=this['mesh']['boneUsed'];let _0x230a13=!(0x308+0x156*-0x14+0x17b0);for(let _0x30ce91=0x207f+-0x4c7+0x2*-0xddc;_0x30ce91<this['mesh']['boneAabb']['length'];_0x30ce91++)_0x4d2125[_0x30ce91]&&(Cl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x30ce91],this['skinInstan'+'ce']['matrices'][_0x30ce91]),_0x230a13?(_0x230a13=!(-0x1c77+-0x10b3+-0x1*-0x2d2b),_0x1524fa['center']['copy'](Cl['center']),_0x1524fa['halfExtent'+'s']['copy'](Cl['halfExtent'+'s'])):_0x1524fa['add'](Cl));_0x92f5b5=!(0x2db*0x5+0x2175+-0x2fbc);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x1524fa['center']['copy'](this['mesh']['aabb']['center']),_0x1524fa['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x1524fa['center']['set'](-0x4*-0x9b7+0x1c99+0x7*-0x9a3,0x126f+-0xcf2+-0x57d,0x8e4+-0x779+-0x16b*0x1),_0x1524fa['halfExtent'+'s']['set'](0x167+-0x1b2*-0x7+0x2b*-0x4f,-0x1b40+-0xbf*-0x17+0xa17,0x1f*0x43+0xb94+-0x13b1)),this['mesh']&&this['mesh']['morph']){const _0x556b8c=this['mesh']['morph']['aabb'];_0x1524fa['_expand'](_0x556b8c['getMin'](),_0x556b8c['getMax']());}_0x92f5b5=!(0x1546+0x1319+-0x285f),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x92f5b5&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x1524fa,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x227418=>{_0x227418['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x3a9f07,_0x525844,_0x128009,_0x5424d9,_0x24bbd1,_0x316c26,_0x4fa732){var _0xb945af;const _0x1e2eb0=this['_shaderDef'+'s'];yr[-0x20ba+0x29c*-0xc+0x400a]=_0x3a9f07,yr[0x89*-0x22+0x1*0x102f+-0x6*-0x56]=_0x525844,yr[0x6e6+-0x1c13+0x152f]=_0x1e2eb0,yr[-0xec3+0x1*0xaa3+0x423]=_0x5424d9['hash'];const _0x2da9ac=Zy(yr);let _0x5d97f8=this['_shaderCac'+'he']['get'](_0x2da9ac);if(!_0x5d97f8){const _0x4451e5=this['_material'];if(_0x5d97f8=new oC(),_0x5d97f8['shader']=_0x4451e5['variants']['get'](_0x2da9ac),_0x5d97f8['hashes']=new Uint32Array(yr),!_0x5d97f8['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x469a89=_0x4451e5['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x128009,'objDefs':_0x1e2eb0,'cameraShaderParams':_0x5424d9,'pass':_0x3a9f07,'sortedLights':_0x4fa732,'viewUniformFormat':_0x24bbd1,'viewBindGroupFormat':_0x316c26,'vertexFormat':(_0xb945af=this['mesh']['vertexBuff'+'er'])==null?void(-0x1*-0x1a21+-0xde7*0x2+0x1ad):_0xb945af['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x4451e5['variants']['set'](_0x2da9ac,_0x469a89),_0x5d97f8['shader']=_0x469a89;}this['_shaderCac'+'he']['set'](_0x2da9ac,_0x5d97f8);}return v['call'](()=>{$v['equals'](_0x5d97f8['hashes'],yr)||v['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x5d97f8;}set['material'](_0x1db4bc){this['clearShade'+'rs']();const _0x13859d=this['_material'];_0x13859d&&_0x13859d['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x1db4bc,_0x1db4bc&&(_0x1db4bc['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x1db4bc['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x37e80b){this['_layer']=_0x37e80b,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0xfcff52){_0xfcff52!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0xfcff52,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0xa4aacc){this['_calculate'+'SortDistan'+'ce']=_0xa4aacc;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x129ef9){this['_receiveSh'+'adow']!==_0x129ef9&&(this['_receiveSh'+'adow']=_0x129ef9,this['_updateSha'+'derDefs'](_0x129ef9?this['_shaderDef'+'s']&-(0x2*0x713+0x2*0x887+-0x1f32):this['_shaderDef'+'s']|Ep));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x6fe7ea){this['_updateSha'+'derDefs'](_0x6fe7ea?this['_shaderDef'+'s']|Ou:this['_shaderDef'+'s']&-(-0x28*-0x289+0x67e+0x11*-0x295));}get['batching'](){return(this['_shaderDef'+'s']&Ou)!==0xdcf+-0x1be7*-0x1+-0x29b6;}set['skinInstan'+'ce'](_0x2d8fe8){this['_skinInsta'+'nce']=_0x2d8fe8,this['_updateSha'+'derDefs'](_0x2d8fe8?this['_shaderDef'+'s']|$c:this['_shaderDef'+'s']&-(0xde0+-0x23c+-0xba1)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x235e3f){var _0x2173f9;(_0x2173f9=this['_morphInst'+'ance'])==null||_0x2173f9['destroy'](),this['_morphInst'+'ance']=_0x235e3f;let _0x2f2d53=this['_shaderDef'+'s'];_0x2f2d53=_0x235e3f&&_0x235e3f['morph']['morphPosit'+'ions']?_0x2f2d53|qc:_0x2f2d53&-(-0x7*0x581+-0xcc9+0x3751),_0x2f2d53=_0x235e3f&&_0x235e3f['morph']['morphNorma'+'ls']?_0x2f2d53|Xc:_0x2f2d53&-(-0x6*0x4a1+0x2*0x4f4+0x19df),_0x2f2d53=_0x235e3f&&_0x235e3f['morph']['intRenderF'+'ormat']?_0x2f2d53|jc:_0x2f2d53&-(0x366e+-0x17b9*-0x1+-0x2e26),this['_updateSha'+'derDefs'](_0x2f2d53);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x46a319){this['_screenSpa'+'ce']!==_0x46a319&&(this['_screenSpa'+'ce']=_0x46a319,this['_updateSha'+'derDefs'](_0x46a319?this['_shaderDef'+'s']|Cp:this['_shaderDef'+'s']&-(0x2*0x66+0x14*0xae+0x95*-0x17)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x5eb088){this['_key'][Ei]=_0x5eb088;}get['key'](){return this['_key'][Ei];}set['mask'](_0x51c16e){const _0x3b6034=this['_shaderDef'+'s']&-0xd9c2*-0x1+-0x6bad+0x48f5*0x2;this['_updateSha'+'derDefs'](_0x3b6034|_0x51c16e<<0xa*0x3e+-0x163a+0x9ef*0x2);}get['mask'](){return this['_shaderDef'+'s']>>-0x168b+-0xe67+0xc56*0x3;}set['instancing'+'Count'](_0x480cff){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x480cff);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:0xe*-0x11b+-0x592+0x150c;}['destroy'](){var _0x41cfa3,_0x25e9a7,_0x3a82b7;const _0x1fda36=this['mesh'];_0x1fda36&&(this['mesh']=null,_0x1fda36['refCount']<-0x3d2+0xf71+-0x5cf*0x2&&_0x1fda36['destroy']()),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x1*0x349+0x1787+0x143e*-0x1],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x20c7+-0x19ae+0x38c*-0x2],null),(_0x41cfa3=this['_skinInsta'+'nce'])==null||_0x41cfa3['destroy'](),this['_skinInsta'+'nce']=null,(_0x25e9a7=this['morphInsta'+'nce'])==null||_0x25e9a7['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x3a82b7=this['instancing'+'Data'])==null||_0x3a82b7['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x3f538d,_0x4b4c69){if(_0x3f538d){for(let _0xdb6c9b=0x1c4*0xd+-0x2*0x9a2+0x2*-0x1d8;_0xdb6c9b<_0x3f538d['length'];_0xdb6c9b++){_0x3f538d[_0xdb6c9b]['_renderSty'+'le']=_0x4b4c69;const _0x528c56=_0x3f538d[_0xdb6c9b]['mesh'];xd['has'](_0x528c56)||(xd['add'](_0x528c56),_0x528c56['prepareRen'+'derState'](_0x4b4c69));}xd['clear']();}}['_isVisible'](_0x59aab3){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x59aab3):(yd['center']=this['aabb']['center'],yd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x59aab3['frustum']['containsSp'+'here'](yd)>-0xab0+0x109a+-0x5ea*0x1):!(-0x3*-0x95e+-0x1254+-0x9c5);}['updateKey'](){const _0x3c9194=this['material'],_0x348552=_0x3c9194['alphaToCov'+'erage']||_0x3c9194['alphaTest']?Kt:_0x3c9194['blendType'];this['_key'][Ei]=(this['layer']&-0x1*-0x258d+0x1*0x1c4f+-0x15ef*0x3)<<0xedb*0x1+0x2*-0xe99+0xe72|(_0x348552===is?0x5d3*0x3+-0x22c6*0x1+0x376*0x5:0x5*-0x8+0x91+-0x69)<<0x1292+-0x29*0x7e+-0x49*-0x6|(_0x3c9194['id']&0xab6a04+-0x173*-0x1b2b5+-0x1216654)<<-0x404+0x36a+0x9a;}['setInstanc'+'ing'](_0x231e1e,_0x4f3257=!(0x3*0x4cd+0x144f+-0x22b5*0x1)){_0x231e1e?(this['instancing'+'Data']=new aC(_0x231e1e['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x231e1e,_0x231e1e['format']['instancing']=!(0xb9c+0x203a+-0x2bd6*0x1),this['cull']=_0x4f3257):(this['instancing'+'Data']=null,this['cull']=!(-0x22f5+-0x24a5+-0x5e*-0xc3)),this['_updateSha'+'derDefs'](_0x231e1e?this['_shaderDef'+'s']|Wc:this['_shaderDef'+'s']&-(0x13f*0x1d+0x1c2d*-0x1+0x5*-0x191));}['ensureMate'+'rial'](_0x4ee734){this['material']||(v['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=al(_0x4ee734));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x59205f){return this['parameters'][_0x59205f];}['setParamet'+'er'](_0x95c563,_0x5c605f,_0x25619d=0x1d21756a3+-0x125e41e4*-0x5+-0xde1c6a*0x15c){const _0x47b31d=this['parameters'][_0x95c563];_0x47b31d?(_0x47b31d['data']=_0x5c605f,_0x47b31d['passFlags']=_0x25619d):this['parameters'][_0x95c563]={'scopeId':null,'data':_0x5c605f,'passFlags':_0x25619d};}['setRealtim'+'eLightmap'](_0x3cd92d,_0x4b6b77){const _0x538bcb=this['getParamet'+'er'](_0x3cd92d);_0x538bcb!==_0x4b6b77&&(_0x538bcb&&Si['decRef'](_0x538bcb['data']),_0x4b6b77?(Si['incRef'](_0x4b6b77),this['setParamet'+'er'](_0x3cd92d,_0x4b6b77)):this['deletePara'+'meter'](_0x3cd92d));}['deletePara'+'meter'](_0x1196c4){this['parameters'][_0x1196c4]&&delete this['parameters'][_0x1196c4];}['setParamet'+'ers'](_0x1fa8ef,_0x5c3e5f){const _0x11e857=this['parameters'];for(const _0x18f5bf in _0x11e857){const _0xd47a3=_0x11e857[_0x18f5bf];_0xd47a3['passFlags']&_0x5c3e5f&&(_0xd47a3['scopeId']||(_0xd47a3['scopeId']=_0x1fa8ef['scope']['resolve'](_0x18f5bf)),_0xd47a3['scopeId']['setValue'](_0xd47a3['data']));}}['setLightma'+'pped'](_0x4cc589){_0x4cc589?this['mask']=(this['mask']|cr)&-(0x2511+-0x20a1+-0x235*0x2):(this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x1a59+0x2341*-0x1+0x3d9a],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x1058+0x751*-0x3+0x81*0x4c],null),this['_shaderDef'+'s']&=-(0x859*-0x1+-0x149f+0x2db9),this['mask']=(this['mask']|hs)&-(0x3*-0x20f+0x52*-0x29+0x1356));}['setCustomA'+'abb'](_0x43fb14){_0x43fb14?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x43fb14):this['_customAab'+'b']=_0x43fb14['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x21fd+0x8*-0x4e1+-0x13*-0x44)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Vr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Le=Vr;const lC=[0x8e*0x17+-0x1331+0x3d*0x1b,0xe35*0x2+-0x17c1*-0x1+-0x342a*0x1,-0x2*0x7de+0x1c3f+-0x140*0xa,-0x2b*-0x5f+0x2*-0x7b5+-0x89,-0x46a*-0x7+-0x1bb6*0x1+0x32d*-0x1,0x1*-0x1a85+0x111*-0x23+0x1*0x3fd9],hC=[-0x2*-0x7+0x2*0x97c+-0xa*0x1e7,0x6b*0x37+0x26c5*0x1+-0x3dc1*0x1,0x1*-0x229b+-0x1d74+0x4012,-0x9*0x21a+-0x2497*0x1+0x3781,-0xb*-0xa5+-0x6c7+-0x4d,-0x20*-0xce+-0x867+-0x1157],jm=new js();function Ym(_0x4c1f23,_0x4adad0){if(_0x4c1f23&&!_0x4adad0||!_0x4c1f23&&_0x4adad0)return!(0xcf2+0x1df4+-0x2ae5);if(_0x4c1f23=_0x4c1f23['data'],_0x4adad0=_0x4adad0['data'],_0x4c1f23===_0x4adad0)return!(0x1c91+-0x251e*0x1+0x88d);if(_0x4c1f23 instanceof Float32Array&&_0x4adad0 instanceof Float32Array){if(_0x4c1f23['length']!==_0x4adad0['length'])return!(0x1679+-0x225b+0xbe3);for(let _0x1fc2a7=-0x4*-0x907+0x1f0f*-0x1+0x1*-0x50d;_0x1fc2a7<_0x4c1f23['length'];_0x1fc2a7++)if(_0x4c1f23[_0x1fc2a7]!==_0x4adad0[_0x1fc2a7])return!(-0x1eb5+0x1bb9+-0x3*-0xff);return!(-0x6ad*-0x3+0x221*-0x7+-0xa4*0x8);}return!(0x236d+-0x187f+-0xaed);}function cC(_0x5a3a54,_0x4d079e){for(const _0x4ab1b4 in _0x5a3a54)if(_0x5a3a54['hasOwnProp'+'erty'](_0x4ab1b4)&&!Ym(_0x5a3a54[_0x4ab1b4],_0x4d079e[_0x4ab1b4]))return!(-0x1e14+-0x2*-0x35+0x1dab);for(const _0x325178 in _0x4d079e)if(_0x4d079e['hasOwnProp'+'erty'](_0x325178)&&!Ym(_0x4d079e[_0x325178],_0x5a3a54[_0x325178]))return!(-0x1196*-0x2+0x1578+-0x38a3);return!(-0x1731+0x20b*-0x9+0x2994);}function Sd(_0x5f2119){return _0x5f2119['node']['worldTrans'+'form']['scaleSign'];}class dC{constructor(_0x5ac2a4,_0x51fd1e,_0x2fffef){this['device']=_0x5ac2a4,this['rootNode']=_0x51fd1e,this['scene']=_0x2fffef,this['_init']=!(0x1ac*-0xa+-0x197d+0x1*0x2a36),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=-0x1485*0x1+-0x19bc+0x2e41,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x3c9452,_0x2ed737,_0x41b689,_0x26bcce,_0xd3add7){if(_0x26bcce===void(0x1*0x1c91+0x149e+-0x1*0x312f)&&(_0x26bcce=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x26bcce]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x26bcce+('\x20already\x20e'+'xists.'));return;}const _0x10a937=new et(_0x26bcce,_0x3c9452,_0x2ed737,_0x41b689,_0xd3add7);return this['_batchGrou'+'ps'][_0x26bcce]=_0x10a937,_0x10a937;}['removeGrou'+'p'](_0x41ca23){if(!this['_batchGrou'+'ps'][_0x41ca23]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x41ca23+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x91856c=[];for(let _0x4b21e7=-0x13ce*-0x1+0x1*0x2702+0x8*-0x75a;_0x4b21e7<this['_batchList']['length'];_0x4b21e7++)this['_batchList'][_0x4b21e7]['batchGroup'+'Id']===_0x41ca23?this['destroyBat'+'ch'](this['_batchList'][_0x4b21e7]):_0x91856c['push'](this['_batchList'][_0x4b21e7]);this['_batchList']=_0x91856c,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x41ca23),delete this['_batchGrou'+'ps'][_0x41ca23];}['markGroupD'+'irty'](_0x52bd88){this['_dirtyGrou'+'ps']['indexOf'](_0x52bd88)<-0xef*0xe+-0x967+0x1679&&this['_dirtyGrou'+'ps']['push'](_0x52bd88);}['getGroupBy'+'Name'](_0x3f6227){const _0x10a241=this['_batchGrou'+'ps'];for(const _0x360b5b in _0x10a241)if(_0x10a241['hasOwnProp'+'erty'](_0x360b5b)&&_0x10a241[_0x360b5b]['name']===_0x3f6227)return _0x10a241[_0x360b5b];return null;}['getBatches'](_0x4a8956){const _0x1a07e1=[],_0x5adba2=this['_batchList']['length'];for(let _0x1c5fc2=0xa39*-0x1+0x1*-0x1fa6+0x29df;_0x1c5fc2<_0x5adba2;_0x1c5fc2++){const _0x5db21f=this['_batchList'][_0x1c5fc2];_0x5db21f['batchGroup'+'Id']===_0x4a8956&&_0x1a07e1['push'](_0x5db21f);}return _0x1a07e1;}['_removeMod'+'elsFromBat'+'chGroup'](_0x1f6264,_0x1ba16a){if(_0x1f6264['enabled']){_0x1f6264['model']&&_0x1f6264['model']['batchGroup'+'Id']===_0x1ba16a&&(_0x1f6264['model']['batchGroup'+'Id']=-(0x18b+0x1*-0xe2a+0xca0)),_0x1f6264['render']&&_0x1f6264['render']['batchGroup'+'Id']===_0x1ba16a&&(_0x1f6264['render']['batchGroup'+'Id']=-(-0xa+0x1*-0x1ffb+0x2*0x1003)),_0x1f6264['element']&&_0x1f6264['element']['batchGroup'+'Id']===_0x1ba16a&&(_0x1f6264['element']['batchGroup'+'Id']=-(-0x318+0xdf1+-0xad8)),_0x1f6264['sprite']&&_0x1f6264['sprite']['batchGroup'+'Id']===_0x1ba16a&&(_0x1f6264['sprite']['batchGroup'+'Id']=-(-0x122a*-0x2+0xe68+0x3e7*-0xd));for(let _0x46545d=-0x1c32+-0xbe4*0x1+-0x7*-0x5ba;_0x46545d<_0x1f6264['_children']['length'];_0x46545d++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x1f6264['_children'][_0x46545d],_0x1ba16a);}}['insert'](_0x37c8d2,_0x466e17,_0x53a6cc){const _0x4f519e=this['_batchGrou'+'ps'][_0x466e17];v['assert'](_0x4f519e,'Invalid\x20ba'+'tch\x20'+_0x466e17+'\x20insertion'),_0x4f519e&&_0x4f519e['_obj'][_0x37c8d2]['indexOf'](_0x53a6cc)<-0xa8e*0x2+0x1*-0x1282+0x279e&&(_0x4f519e['_obj'][_0x37c8d2]['push'](_0x53a6cc),this['markGroupD'+'irty'](_0x466e17));}['remove'](_0xd9ee4f,_0x253138,_0x4c74ef){const _0x4acae6=this['_batchGrou'+'ps'][_0x253138];if(v['assert'](_0x4acae6,'Invalid\x20ba'+'tch\x20'+_0x253138+'\x20insertion'),_0x4acae6){const _0x1e00b8=_0x4acae6['_obj'][_0xd9ee4f]['indexOf'](_0x4c74ef);_0x1e00b8>=-0x2*-0x913+-0x233a+0x1114&&(_0x4acae6['_obj'][_0xd9ee4f]['splice'](_0x1e00b8,-0x1a6f+0xff1*-0x1+-0x1*-0x2a61),this['markGroupD'+'irty'](_0x253138));}}['_extractRe'+'nder'](_0x5e0c23,_0x17d174,_0x15b58f,_0x2ecbf5){return _0x5e0c23['render']&&(_0x17d174=_0x2ecbf5[_0x5e0c23['render']['batchGroup'+'Id']]=_0x17d174['concat'](_0x5e0c23['render']['meshInstan'+'ces']),_0x5e0c23['render']['removeFrom'+'Layers']()),_0x17d174;}['_extractMo'+'del'](_0x21d2a1,_0x27cc27,_0x194575,_0x3b1dbb){return _0x21d2a1['model']&&_0x21d2a1['model']['model']&&(_0x27cc27=_0x3b1dbb[_0x21d2a1['model']['batchGroup'+'Id']]=_0x27cc27['concat'](_0x21d2a1['model']['meshInstan'+'ces']),_0x21d2a1['model']['removeMode'+'lFromLayer'+'s'](),_0x21d2a1['model']['_batchGrou'+'p']=_0x194575),_0x27cc27;}['_extractEl'+'ement'](_0x875718,_0x362089,_0x226641){if(!_0x875718['element'])return;let _0x5482ca=!(0x25bf+-0x297*0x5+0xb*-0x241);_0x875718['element']['_text']&&_0x875718['element']['_text']['_model']['meshInstan'+'ces']['length']>-0x120f+0x2*-0xf7e+0x310b?(_0x362089['push'](_0x875718['element']['_text']['_model']['meshInstan'+'ces'][0x1aa7*0x1+-0x1540+-0x1cd*0x3]),_0x875718['element']['removeMode'+'lFromLayer'+'s'](_0x875718['element']['_text']['_model']),_0x5482ca=!(-0xc96*0x1+-0x1*0x1565+-0x21fb*-0x1)):_0x875718['element']['_image']&&(_0x362089['push'](_0x875718['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x875718['element']['removeMode'+'lFromLayer'+'s'](_0x875718['element']['_image']['_renderabl'+'e']['model']),_0x875718['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x362089['push'](_0x875718['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x875718['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x875718['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x875718['element']['_dirtifyMa'+'sk'](),_0x875718['element']['_onPrerend'+'er']())),_0x5482ca=!(0x5*-0x1dd+0x109*0x1+0x848*0x1)),_0x5482ca&&(_0x226641['_ui']=!(-0x31e*0x7+0x2508+0x6*-0x289),_0x875718['element']['_batchGrou'+'p']=_0x226641);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x38afbb,_0x4e3fca){for(let _0x3ac56e=-0x108e+0x1*-0xe06+-0x26*-0xce;_0x3ac56e<_0x4e3fca['length'];_0x3ac56e++){const _0x41cf2d=_0x4e3fca[_0x3ac56e],_0x18ce80=this['_batchGrou'+'ps'][_0x41cf2d];if(!_0x18ce80)continue;let _0x2876e5=_0x38afbb[_0x41cf2d];_0x2876e5||(_0x2876e5=_0x38afbb[_0x41cf2d]=[]);for(let _0x441008=-0x4fb+-0x631+0xb2c;_0x441008<_0x18ce80['_obj']['model']['length'];_0x441008++)_0x2876e5=this['_extractMo'+'del'](_0x18ce80['_obj']['model'][_0x441008],_0x2876e5,_0x18ce80,_0x38afbb);for(let _0x5b2f65=0xac*-0x25+-0x536*0x7+0x1eab*0x2;_0x5b2f65<_0x18ce80['_obj']['render']['length'];_0x5b2f65++)_0x2876e5=this['_extractRe'+'nder'](_0x18ce80['_obj']['render'][_0x5b2f65],_0x2876e5,_0x18ce80,_0x38afbb);for(let _0x452f69=0x156f+-0x4a*0x9+0x12d5*-0x1;_0x452f69<_0x18ce80['_obj']['element']['length'];_0x452f69++)this['_extractEl'+'ement'](_0x18ce80['_obj']['element'][_0x452f69],_0x2876e5,_0x18ce80);for(let _0x469af6=-0x162f*0x1+-0x2*-0x9c7+0x2a1*0x1;_0x469af6<_0x18ce80['_obj']['sprite']['length'];_0x469af6++){const _0x35bc15=_0x18ce80['_obj']['sprite'][_0x469af6];_0x35bc15['sprite']&&_0x35bc15['sprite']['_meshInsta'+'nce']&&(_0x18ce80['dynamic']||_0x35bc15['sprite']['sprite']['_renderMod'+'e']===Ti)&&(_0x2876e5['push'](_0x35bc15['sprite']['_meshInsta'+'nce']),_0x35bc15['sprite']['removeMode'+'lFromLayer'+'s'](),_0x18ce80['_sprite']=!(-0xbde+0xac*0x21+-0xa4e),_0x35bc15['sprite']['_batchGrou'+'p']=_0x18ce80);}}}['generate'](_0x149f98){const _0x53aaa2={};_0x149f98||(_0x149f98=Object['keys'](this['_batchGrou'+'ps']));const _0x17da66=[];for(let _0x192948=0x1*0x9bd+0x2*-0x553+0xe9;_0x192948<this['_batchList']['length'];_0x192948++){if(_0x149f98['indexOf'](this['_batchList'][_0x192948]['batchGroup'+'Id'])<-0x6*-0xf3+0x2*0x652+-0x1256){_0x17da66['push'](this['_batchList'][_0x192948]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x192948]);}if(this['_batchList']=_0x17da66,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x53aaa2,_0x149f98),_0x149f98===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=0x20cd+-0xa79+-0x1654;else{const _0x3fecf4=[];for(let _0x412578=0x1116+0x1de8+0xa*-0x4b3;_0x412578<this['_dirtyGrou'+'ps']['length'];_0x412578++)_0x149f98['indexOf'](this['_dirtyGrou'+'ps'][_0x412578])<-0x1ea2+0xc17+0x128b*0x1&&_0x3fecf4['push'](this['_dirtyGrou'+'ps'][_0x412578]);this['_dirtyGrou'+'ps']=_0x3fecf4;}let _0x189c8a,_0x2b64fd,_0x1b5843,_0x56913b;for(const _0x21815d in _0x53aaa2)if(_0x53aaa2['hasOwnProp'+'erty'](_0x21815d)){if(_0x189c8a=_0x53aaa2[_0x21815d],_0x1b5843=this['_batchGrou'+'ps'][_0x21815d],!_0x1b5843){v['error']('batch\x20grou'+'p\x20'+_0x21815d+'\x20not\x20found');continue;}_0x2b64fd=this['prepare'](_0x189c8a,_0x1b5843['dynamic'],_0x1b5843['maxAabbSiz'+'e'],_0x1b5843['_ui']||_0x1b5843['_sprite']);for(let _0x27450f=-0x2337+0x14*0x16f+0x68b;_0x27450f<_0x2b64fd['length'];_0x27450f++)_0x56913b=this['create'](_0x2b64fd[_0x27450f],_0x1b5843['dynamic'],parseInt(_0x21815d,-0xa91+0x22cb+-0x1830)),_0x56913b&&_0x56913b['addToLayer'+'s'](this['scene'],_0x1b5843['layers']);}}['prepare'](_0x44b0dc,_0x989d7d,_0x257466=Number['POSITIVE_I'+'NFINITY'],_0x3b3cf1){if(_0x44b0dc['length']===0x3a8+0xf59*0x2+-0x225a*0x1)return[];const _0x5561ae=_0x257466*(-0x1*-0x2484+0xbb9+0xe9*-0x35+0.5),_0x2fb69f=-0x38b+0x232a*-0x1+0x2ab5,_0x177327=0x4*0xf0a001f+-0x19976c9*-0xd3+0x8da4e828*-0x1,_0x36e403=new _e(),_0x213ef8=new _e();let _0x2b9c03=null,_0x3a4f46;const _0xb7bf6f=[];let _0x1b3513=0x1286+-0x303+-0xf83;_0x3b3cf1&&_0x44b0dc['sort']((_0x57740a,_0x44cd08)=>_0x57740a['drawOrder']-_0x44cd08['drawOrder']);let _0x4b2db5=_0x44b0dc,_0x5f111d;const _0x449ee9=_0x3b3cf1?function(_0x3549f9){_0x2b9c03?_0x2b9c03['add'](_0x3549f9['aabb']):_0x2b9c03=_0x3549f9['aabb']['clone'](),_0x5f111d['push'](_0x3549f9);}:function(_0x33ea9f){_0x5f111d['push'](_0x33ea9f);};for(;_0x4b2db5['length']>0x24f8+0xca*0x18+-0x37e8;){_0xb7bf6f[_0x1b3513]=[_0x4b2db5[0x1fa4+-0x1b68+0x1*-0x43c]],_0x5f111d=[];const _0x28101f=_0x4b2db5[-0xb23*-0x1+0xd*-0x10d+-0x13*-0x22]['material'],_0x37e191=_0x4b2db5[0xc50+-0xa97*0x1+-0x1b9*0x1]['layer'],_0x4ffb99=_0x4b2db5[0x144e+-0x18f9+0x4ab*0x1]['_shaderDef'+'s'],_0xa3026b=_0x4b2db5[0xbc0+-0x1c0+-0xa00]['parameters'],_0x537252=_0x4b2db5[-0x3*-0x2a2+0x39*0x61+-0x1d7f]['stencilFro'+'nt'];let _0x270d7c=_0x4b2db5[-0x68*0x4b+-0x2d3*0x3+-0xcfb*-0x3]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x1a555a=_0x4b2db5[0x2602*-0x1+-0xc7*-0x1f+-0xde9*-0x1]['drawOrder'];_0x36e403['copy'](_0x4b2db5[-0x53*-0x5+0x1ba9+0x752*-0x4]['aabb']);const _0x3a7946=Sd(_0x4b2db5[0x3f*0x14+-0x2143+-0x5ab*-0x5]),_0x5cfc29=_0x4b2db5[0x1e*-0x3d+-0x137*0x5+-0xd39*-0x1]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x8750cb=_0x4b2db5[0x6fe+0x11*0xd6+-0x1534]['mesh']['primitive'][-0x1263+-0x662*0x1+-0x18c5*-0x1]['indexed'];_0x2b9c03=null;for(let _0x5e1a0e=0x4a3*0x1+-0xe30+0x98e;_0x5e1a0e<_0x4b2db5['length'];_0x5e1a0e++){const _0x336335=_0x4b2db5[_0x5e1a0e];if(_0x989d7d&&_0xb7bf6f[_0x1b3513]['length']>=_0x2fb69f){_0x5f111d=_0x5f111d['concat'](_0x4b2db5['slice'](_0x5e1a0e));break;}if(_0x28101f!==_0x336335['material']||_0x37e191!==_0x336335['layer']||_0x5cfc29!==_0x336335['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x8750cb!==_0x336335['mesh']['primitive'][0x1da3+-0x24e7+0x744]['indexed']||_0x4ffb99!==_0x336335['_shaderDef'+'s']||_0x270d7c+_0x336335['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x177327){_0x449ee9(_0x336335);continue;}if(_0x213ef8['copy'](_0x36e403),_0x213ef8['add'](_0x336335['aabb']),_0x213ef8['halfExtent'+'s']['x']>_0x5561ae||_0x213ef8['halfExtent'+'s']['y']>_0x5561ae||_0x213ef8['halfExtent'+'s']['z']>_0x5561ae){_0x449ee9(_0x336335);continue;}if(_0x537252&&(!(_0x3a4f46=_0x336335['stencilFro'+'nt'])||_0x537252['func']!==_0x3a4f46['func']||_0x537252['zpass']!==_0x3a4f46['zpass'])){_0x449ee9(_0x336335);continue;}if(_0x3a7946!==Sd(_0x336335)){_0x449ee9(_0x336335);continue;}if(!cC(_0xa3026b,_0x336335['parameters'])){_0x449ee9(_0x336335);continue;}if(_0x3b3cf1&&_0x2b9c03&&_0x2b9c03['intersects'](_0x336335['aabb'])&&_0x336335['drawOrder']!==_0x1a555a){_0x449ee9(_0x336335);continue;}_0x36e403['add'](_0x336335['aabb']),_0x270d7c+=_0x336335['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0xb7bf6f[_0x1b3513]['push'](_0x336335);}_0x1b3513++,_0x4b2db5=_0x5f111d;}return _0xb7bf6f;}['collectBat'+'chedMeshDa'+'ta'](_0x340c0b,_0x34f9cc){let _0x167f8e=null,_0x15a6ee=0xbc4+-0xf1f+-0x35b*-0x1,_0x6e1328=-0x1ed3+-0x26b9+0x458c,_0x9483c7=null;for(let _0x115d6d=0x9e+-0x1b2d+0x1a8f;_0x115d6d<_0x340c0b['length'];_0x115d6d++)if(_0x340c0b[_0x115d6d]['visible']){const _0x1f8ae5=_0x340c0b[_0x115d6d]['mesh'],_0x4e07f1=_0x1f8ae5['vertexBuff'+'er']['numVertice'+'s'];if(_0x15a6ee+=_0x4e07f1,_0x1f8ae5['primitive'][-0x1594+0x1c09+-0x675]['indexed'])_0x6e1328+=_0x1f8ae5['primitive'][0x2306+-0x1*-0x3c7+-0xcef*0x3]['count'];else{const _0x238df7=_0x1f8ae5['primitive'][-0x210a+-0x81*0x41+0x41cb]['type'];(_0x238df7===Yr||_0x238df7===ar)&&_0x1f8ae5['primitive'][-0x1e5a+0xa31+-0xd*-0x18d]['count']===-0x1271+0x9d*0x38+-0xfe3&&(_0x6e1328+=0x1880+0xd*-0x263+0xd*0x81);}if(!_0x167f8e){_0x9483c7=_0x340c0b[_0x115d6d]['material'],_0x167f8e={};const _0x5623de=_0x1f8ae5['vertexBuff'+'er']['format']['elements'];for(let _0x2788c4=-0x1b*-0xa3+-0x54d+-0xbe4;_0x2788c4<_0x5623de['length'];_0x2788c4++){const _0x527578=_0x5623de[_0x2788c4]['name'];_0x167f8e[_0x527578]={'numComponents':_0x5623de[_0x2788c4]['numCompone'+'nts'],'dataType':_0x5623de[_0x2788c4]['dataType'],'normalize':_0x5623de[_0x2788c4]['normalize'],'count':0x0};}_0x34f9cc&&(_0x167f8e[qt]={'numComponents':0x1,'dataType':Ee,'normalize':!(0x5e*-0x52+0xb1+0x1d6c),'count':0x0});}}return{'streams':_0x167f8e,'batchNumVerts':_0x15a6ee,'batchNumIndices':_0x6e1328,'material':_0x9483c7};}['create'](_0x35bffa,_0x15a166,_0x31c3b4){const _0x3aaade=ne();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x1ff*0xa+0x1c99+0x3*-0x2e1));let _0x31d3ac=null,_0x349276,_0x2bbdf2,_0x180141,_0x9955bb=null;const _0x561b21=this['collectBat'+'chedMeshDa'+'ta'](_0x35bffa,_0x15a166);if(_0x561b21['streams']){const _0x5e6c68=_0x561b21['streams'];let _0x406bff=_0x561b21['material'];const _0x58f3ec=_0x561b21['batchNumVe'+'rts'],_0x1437dd=_0x561b21['batchNumIn'+'dices'];_0x9955bb=new zm(_0x35bffa,_0x15a166,_0x31c3b4),this['_batchList']['push'](_0x9955bb);let _0x2f3a99,_0x257ae6,_0x40a6a2,_0x4e0b32=-0x1274+0x18fa*0x1+-0x686,_0x2b6f60=-0x1c29+0x5*0x167+0x1526,_0xa07824;const _0x3f3bd8=_0x58f3ec<=-0x15258+0x931c+0x1bf3b?Uint16Array:Uint32Array,_0x37c211=new _0x3f3bd8(_0x1437dd);for(_0x349276 in _0x5e6c68)_0x31d3ac=_0x5e6c68[_0x349276],_0x31d3ac['typeArrayT'+'ype']=da[_0x31d3ac['dataType']],_0x31d3ac['elementByt'+'eSize']=_o[_0x31d3ac['dataType']],_0x31d3ac['buffer']=new _0x31d3ac['typeArrayT'+'ype'](_0x58f3ec*_0x31d3ac['numCompone'+'nts']);for(let _0x3859b3=0x23cc+-0x12ee+-0x10de;_0x3859b3<_0x35bffa['length'];_0x3859b3++)if(_0x35bffa[_0x3859b3]['visible']){_0x2bbdf2=_0x35bffa[_0x3859b3]['mesh'],_0x180141=_0x2bbdf2['vertexBuff'+'er']['numVertice'+'s'],_0x15a166||(_0xa07824=_0x35bffa[_0x3859b3]['node']['getWorldTr'+'ansform']());for(_0x349276 in _0x5e6c68)if(_0x349276!==qt){_0x31d3ac=_0x5e6c68[_0x349276];const _0x5e612f=new _0x31d3ac['typeArrayT'+'ype'](_0x31d3ac['buffer']['buffer'],_0x31d3ac['elementByt'+'eSize']*_0x31d3ac['count']),_0x315de7=_0x2bbdf2['getVertexS'+'tream'](_0x349276,_0x5e612f)*_0x31d3ac['numCompone'+'nts'];if(_0x31d3ac['count']+=_0x315de7,!_0x15a166&&_0x31d3ac['numCompone'+'nts']>=0x9*0xc5+0x21e4+-0x3*0xd9a){if(_0x349276===He){const _0x4d15ff=_0xa07824['data'],_0x41d703=_0x4d15ff[-0x719*-0x2+0x8*0x4e1+-0x353a],_0x1e0db4=_0x4d15ff[0x1698+-0x23cc+0xa1*0x15],_0x1be448=_0x4d15ff[0x1*0x58a+-0x2560+0x1fd8],_0x55b881=_0x4d15ff[0x1f32+-0x177e+0x52*-0x18],_0x92ff5a=_0x4d15ff[0x2d7*-0xa+-0x57*0x6b+0x18*0x2b3],_0x3736e2=_0x4d15ff[0x1b1*0xa+-0x4a1+-0x2b*0x49],_0x5ba6d1=_0x4d15ff[-0xde*0x3+0x122e+-0x4*0x3e3],_0x128588=_0x4d15ff[0x52*-0x52+0x1749+0x304],_0x20c860=_0x4d15ff[-0x4*-0x76d+0x1298+-0x3042],_0x3e2048=_0x4d15ff[-0x1eda+-0x8d9+0x27bf],_0x431f0c=_0x4d15ff[0x19f3+-0x73d+-0x12a9],_0x4cd016=_0x4d15ff[-0x3*-0xb61+0x1e31+-0x4046];let _0x129400,_0x269559,_0x5932d5;for(let _0x2ea710=0x6c5+0x12*-0x1b+0x2b*-0x1d;_0x2ea710<_0x315de7;_0x2ea710+=_0x31d3ac['numCompone'+'nts'])_0x129400=_0x5e612f[_0x2ea710],_0x269559=_0x5e612f[_0x2ea710+(-0xb66+0x17*-0x185+-0x11*-0x2ba)],_0x5932d5=_0x5e612f[_0x2ea710+(0x25ce+-0x2*0xa96+-0x10a0)],_0x5e612f[_0x2ea710]=_0x129400*_0x41d703+_0x269559*_0x55b881+_0x5932d5*_0x5ba6d1+_0x3e2048,_0x5e612f[_0x2ea710+(-0x9db+0xd63+0x81*-0x7)]=_0x129400*_0x1e0db4+_0x269559*_0x92ff5a+_0x5932d5*_0x128588+_0x431f0c,_0x5e612f[_0x2ea710+(-0xd*-0x199+0x121a*0x2+0x38f7*-0x1)]=_0x129400*_0x1be448+_0x269559*_0x3736e2+_0x5932d5*_0x20c860+_0x4cd016;}else{if(_0x349276===Yt||_0x349276===Zs){jm['invertMat4'](_0xa07824)['transpose']();const [_0x21737c,_0x200726,_0x5204c6,_0x15733f,_0x1c456f,_0x34ebe9,_0x50fa1a,_0x142e0c,_0x935642]=jm['data'];let _0x307948,_0x2dfa0b,_0x5ea15c;for(let _0x510c98=0x3*0x926+-0x9d2*-0x1+-0x2544;_0x510c98<_0x315de7;_0x510c98+=_0x31d3ac['numCompone'+'nts'])_0x307948=_0x5e612f[_0x510c98],_0x2dfa0b=_0x5e612f[_0x510c98+(-0xa3*0x36+-0x1*-0xe3f+-0xa12*-0x2)],_0x5ea15c=_0x5e612f[_0x510c98+(-0x2c*0x61+-0x89*0x7+-0x3*-0x6cf)],_0x5e612f[_0x510c98]=_0x307948*_0x21737c+_0x2dfa0b*_0x15733f+_0x5ea15c*_0x50fa1a,_0x5e612f[_0x510c98+(-0x104*0x1+-0xa21+-0xb26*-0x1)]=_0x307948*_0x200726+_0x2dfa0b*_0x1c456f+_0x5ea15c*_0x142e0c,_0x5e612f[_0x510c98+(0xb19*-0x1+0x16d*0x3+0x5c*0x13)]=_0x307948*_0x5204c6+_0x2dfa0b*_0x34ebe9+_0x5ea15c*_0x935642;}}}}if(_0x15a166){_0x31d3ac=_0x5e6c68[qt];for(let _0x344edb=0x1093+-0x201d+0xf8a;_0x344edb<_0x180141;_0x344edb++)_0x31d3ac['buffer'][_0x31d3ac['count']++]=_0x3859b3;}if(_0x2bbdf2['primitive'][-0x1*0x1c09+0x419*0x7+0x53*-0x2]['indexed']){_0x2f3a99=_0x2bbdf2['primitive'][-0x13b8+-0x262+0x161a]['base'],_0x257ae6=_0x2bbdf2['primitive'][-0x1*0x1d35+-0xf68+0xedf*0x3]['count'];const _0x19b060=_0x2bbdf2['indexBuffe'+'r'][0x2*-0x3df+-0x986+0x1144]['getFormat']();_0x40a6a2=new Lh[_0x19b060](_0x2bbdf2['indexBuffe'+'r'][-0x2060+-0x2223+0x4283]['storage']);}else{const _0x314c58=_0x2bbdf2['primitive'][0x1eb7+-0x1384*0x2+0x851]['type'];if(_0x314c58===Yr||_0x314c58===ar){if(_0x2bbdf2['primitive'][0x13*-0x21+-0x3a*0x56+0x15ef]['count']===0x170e+0x2*-0x11b5+0xc60)_0x2f3a99=-0x268c*0x1+0x24d*-0x2+-0x15*-0x20e,_0x257ae6=0x26c9+0x133a+-0x39fd,_0x40a6a2=_0x314c58===Yr?lC:hC;else{_0x257ae6=0x145+0x15f6+-0x173b;continue;}}}for(let _0x210893=-0xd1e+-0x2*0x605+-0x1928*-0x1;_0x210893<_0x257ae6;_0x210893++)_0x37c211[_0x210893+_0x2b6f60]=_0x40a6a2[_0x2f3a99+_0x210893]+_0x4e0b32;_0x2b6f60+=_0x257ae6,_0x4e0b32+=_0x180141;}_0x2bbdf2=new Ie(this['device']);for(_0x349276 in _0x5e6c68)_0x31d3ac=_0x5e6c68[_0x349276],_0x2bbdf2['setVertexS'+'tream'](_0x349276,_0x31d3ac['buffer'],_0x31d3ac['numCompone'+'nts'],void(0x2*0x3f1+0x851+0x1033*-0x1),_0x31d3ac['dataType'],_0x31d3ac['normalize']);_0x37c211['length']>-0xb86+0x2ef+-0x3*-0x2dd&&_0x2bbdf2['setIndices'](_0x37c211),_0x2bbdf2['update'](Ms,!(0x1*-0x138a+-0x1d61+0x30ec)),_0x15a166&&(_0x406bff=_0x406bff['clone'](),_0x406bff['update']());const _0x5caad2=new Le(_0x2bbdf2,_0x406bff,this['rootNode']);_0x5caad2['castShadow']=_0x9955bb['origMeshIn'+'stances'][0x15b5+-0x1*-0x818+-0x1dcd]['castShadow'],_0x5caad2['parameters']=_0x9955bb['origMeshIn'+'stances'][0x5a5*0x5+0x98f*-0x4+0xb*0xe9]['parameters'],_0x5caad2['layer']=_0x9955bb['origMeshIn'+'stances'][0x20a8+-0x128d+-0xe1b]['layer'],_0x5caad2['_shaderDef'+'s']=_0x9955bb['origMeshIn'+'stances'][-0x302*-0x4+-0x2*0x10f+-0x8d*0x12]['_shaderDef'+'s'],_0x5caad2['batching']=!(0x13b0+-0x1a61+0x6b1),_0x5caad2['cull']=_0x9955bb['origMeshIn'+'stances'][0xcb+-0x136f+-0x4a9*-0x4]['cull'];const _0x3fd478=this['_batchGrou'+'ps'][_0x31c3b4];if(_0x3fd478&&_0x3fd478['_ui']&&(_0x5caad2['cull']=!(0x23d+-0xfc1+0xd85)),_0x15a166){const _0x15e2a8=[];for(let _0x4848fd=-0xa80+-0x103f+0x1abf*0x1;_0x4848fd<_0x9955bb['origMeshIn'+'stances']['length'];_0x4848fd++)_0x15e2a8['push'](_0x9955bb['origMeshIn'+'stances'][_0x4848fd]['node']);_0x5caad2['skinInstan'+'ce']=new Vm(this['device'],_0x15e2a8,this['rootNode']);}_0x5caad2['_updateAab'+'b']=!(0x91*-0x15+0x291*0x7+-0x1*0x611),_0x5caad2['drawOrder']=_0x9955bb['origMeshIn'+'stances'][-0x40e+-0x823*0x1+0xc31*0x1]['drawOrder'],_0x5caad2['stencilFro'+'nt']=_0x9955bb['origMeshIn'+'stances'][0x1bd1+-0x1*-0x1dd1+-0x39a2]['stencilFro'+'nt'],_0x5caad2['stencilBac'+'k']=_0x9955bb['origMeshIn'+'stances'][0x38*-0x1+-0x1038+0x1070]['stencilBac'+'k'],_0x5caad2['flipFacesF'+'actor']=Sd(_0x9955bb['origMeshIn'+'stances'][-0x25e2+-0x5*-0x146+0x7e1*0x4]),_0x5caad2['castShadow']=_0x9955bb['origMeshIn'+'stances'][-0x1737+0x1*-0xe26+0x779*0x5]['castShadow'],_0x9955bb['meshInstan'+'ce']=_0x5caad2,_0x9955bb['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ne()-_0x3aaade,_0x9955bb;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0xa*-0x269+-0x55+0x1a1*0xf&&this['generate'](this['_dirtyGrou'+'ps']);const _0x435239=ne();for(let _0x1833cc=-0x1*0x2d7+0x12b7+-0x10*0xfe;_0x1833cc<this['_batchList']['length'];_0x1833cc++)this['_batchList'][_0x1833cc]['dynamic']&&this['_batchList'][_0x1833cc]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ne()-_0x435239;}['clone'](_0x283e89,_0x6ccce8){const _0x3ff018=new zm(_0x6ccce8,_0x283e89['dynamic'],_0x283e89['batchGroup'+'Id']);this['_batchList']['push'](_0x3ff018);const _0x386ab5=[];for(let _0x3ce4b0=-0x2027+-0x19a3+0x39ca;_0x3ce4b0<_0x6ccce8['length'];_0x3ce4b0++)_0x386ab5['push'](_0x6ccce8[_0x3ce4b0]['node']);return _0x3ff018['meshInstan'+'ce']=new Le(_0x283e89['meshInstan'+'ce']['mesh'],_0x283e89['meshInstan'+'ce']['material'],_0x283e89['meshInstan'+'ce']['node']),_0x3ff018['meshInstan'+'ce']['_updateAab'+'b']=!(0x62f+0x2*-0x1250+0x1e72),_0x3ff018['meshInstan'+'ce']['parameters']=_0x6ccce8[-0x9a4+0x2*0x14b+0x70e]['parameters'],_0x3ff018['meshInstan'+'ce']['cull']=_0x6ccce8[-0x1*-0x1ae0+-0x7*-0x304+-0x2ffc]['cull'],_0x3ff018['meshInstan'+'ce']['layer']=_0x6ccce8[0x2404+-0x54a*-0x5+-0x3e76]['layer'],_0x283e89['dynamic']&&(_0x3ff018['meshInstan'+'ce']['skinInstan'+'ce']=new Vm(this['device'],_0x386ab5,this['rootNode'])),_0x3ff018['meshInstan'+'ce']['castShadow']=_0x283e89['meshInstan'+'ce']['castShadow'],_0x3ff018;}['destroyBat'+'ch'](_0x30046f){_0x30046f['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x30046f['batchGroup'+'Id']]['layers']);}}const Km='uSceneColo'+'rMap';class uC extends ds{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x49c7f5,_0x2eccfb,_0x524ae1){if((_0x49c7f5==null?void(0x24b9+-0x54+-0xb*0x34f):_0x49c7f5['colorBuffe'+'r']['format'])!==_0x524ae1)return!(-0x3*-0x5fa+0x1c8e+0x19*-0x1dc);const _0x44d814=(_0x2eccfb==null?void(-0x928*-0x4+-0xdb2+-0x16ee):_0x2eccfb['width'])||this['device']['width'],_0x373bd3=(_0x2eccfb==null?void(-0x225b*-0x1+0xbb6+0x1*-0x2e11):_0x2eccfb['height'])||this['device']['height'];return!_0x49c7f5||_0x44d814!==_0x49c7f5['width']||_0x373bd3!==_0x49c7f5['height'];}['allocateRe'+'nderTarget'](_0x437807,_0x2f6671,_0x22466a,_0x408a05){const _0x277dbd=new he(_0x22466a,{'name':Km,'format':_0x408a05,'width':_0x2f6671?_0x2f6671['colorBuffe'+'r']['width']:_0x22466a['width'],'height':_0x2f6671?_0x2f6671['colorBuffe'+'r']['height']:_0x22466a['height'],'mipmaps':!(-0x5*0x563+-0x1*0x1f63+0x3a52*0x1),'minFilter':nn,'magFilter':st,'addressU':ae,'addressV':ae});return _0x437807?(_0x437807['destroyFra'+'meBuffers'](),_0x437807['_colorBuff'+'er']=_0x277dbd,_0x437807['_colorBuff'+'ers']=[_0x277dbd]):_0x437807=new pt({'name':'ColorGrabR'+'T','colorBuffer':_0x277dbd,'depth':!(0x1*0x9f7+0x2d8*-0x1+0x38f*-0x2),'stencil':!(0x1*0x727+-0x1*-0x391+0xd3*-0xd),'autoResolve':!(0x1154*0x1+0xf59*0x1+-0x20ac)}),_0x437807;}['releaseRen'+'derTarget'](_0x5f354b){_0x5f354b&&(_0x5f354b['destroyTex'+'tureBuffer'+'s'](),_0x5f354b['destroy']());}['frameUpdat'+'e'](){const _0x2800f6=this['device'],_0x5efb3b=this['source'],_0x256730=(_0x5efb3b==null?void(0x266d+0x29*0xf1+-0x1*0x4d06):_0x5efb3b['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x5efb3b==null?void(0x11*0x11b+-0x3cb*-0x1+-0x1696):_0x5efb3b['colorBuffe'+'r'],_0x256730)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x5efb3b,_0x2800f6,_0x256730));const _0x424111=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x2800f6['scope']['resolve'](Km)['setValue'](_0x424111);}['execute'](){const _0xeec833=this['device'];G['pushGpuMar'+'ker'](_0xeec833,'GRAB-COLOR');const _0x4f1cfa=this['source'],_0x5193da=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0xeec833['isWebGPU']?(_0xeec833['copyRender'+'Target'](_0x4f1cfa,this['colorRende'+'rTarget'],!(-0xd92+0x30a*-0x1+0x4*0x427),!(-0xb48+-0xda4+0x18ed)),_0xeec833['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0xeec833['copyRender'+'Target'](_0x4f1cfa,this['colorRende'+'rTarget'],!(-0x4*0x56+0x22a3*-0x1+0x23fb),!(-0x7c0*0x4+0x1*0x8d+0x1e74)),_0xeec833['activeText'+'ure'](_0xeec833['maxCombine'+'dTextures']-(-0x1*0x25db+0x114b+-0x1*-0x1491)),_0xeec833['bindTextur'+'e'](_0x5193da),_0xeec833['gl']['generateMi'+'pmap'](_0x5193da['impl']['_glTarget'])),G['popGpuMark'+'er'](_0xeec833);}}const Zm='uSceneDept'+'hMap';class fC extends ds{constructor(_0xdfc177,_0x3d85c2){super(_0xdfc177),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x3d85c2;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x5f2942,_0x1f7199){const _0x3c55af=(_0x1f7199==null?void(0x1a*-0x17f+0xce1+0x1a05):_0x1f7199['width'])||this['device']['width'],_0x2a3c02=(_0x1f7199==null?void(0x363+0x65e*0x6+0x7*-0x5f1):_0x1f7199['height'])||this['device']['height'];return!_0x5f2942||_0x3c55af!==_0x5f2942['width']||_0x2a3c02!==_0x5f2942['height'];}['allocateRe'+'nderTarget'](_0x3018d6,_0x446dc5,_0x668fee,_0x5bacec,_0x3cae93){const _0x46c27d=new he(_0x668fee,{'name':Zm,'format':_0x5bacec,'width':_0x446dc5?_0x446dc5['colorBuffe'+'r']['width']:_0x668fee['width'],'height':_0x446dc5?_0x446dc5['colorBuffe'+'r']['height']:_0x668fee['height'],'mipmaps':!(0xc5*-0x4+-0x1575+0x6*0x417),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});return _0x3018d6?(_0x3018d6['destroyFra'+'meBuffers'](),_0x3cae93?_0x3018d6['_depthBuff'+'er']=_0x46c27d:(_0x3018d6['_colorBuff'+'er']=_0x46c27d,_0x3018d6['_colorBuff'+'ers']=[_0x46c27d])):_0x3018d6=new pt({'name':'DepthGrabR'+'T','colorBuffer':_0x3cae93?null:_0x46c27d,'depthBuffer':_0x3cae93?_0x46c27d:null,'depth':!_0x3cae93,'stencil':_0x668fee['supportsSt'+'encil'],'autoResolve':!(0x1138+0x2211+0x3348*-0x1)}),_0x3018d6;}['releaseRen'+'derTarget'](_0x3ca967){_0x3ca967&&(_0x3ca967['destroyTex'+'tureBuffer'+'s'](),_0x3ca967['destroy']());}['before'](){var _0x2c9506,_0x5ba80f;const _0x4992e4=this['camera'],_0x4ed41c=this['device'],_0x38660f=(_0x4992e4==null?void(-0x1*0xdc1+-0x100c+0x1dcd*0x1):_0x4992e4['renderTarg'+'et'])??_0x4ed41c['backBuffer'];let _0x29ca10=!(-0x1*-0x215b+0xb3*0x2+-0x22c1),_0x417ee3=_0x38660f['stencil']?vc:Ci;_0x4ed41c['isWebGPU']&&_0x38660f['samples']>-0xc01+-0x3*0x9+-0x7*-0x1bb&&(_0x417ee3=Ii,_0x29ca10=!(0x1ec*0x11+0x922*-0x1+-0x5*0x4b5));const _0x351ca0=((_0x2c9506=_0x4992e4['renderTarg'+'et'])==null?void(-0x115a+0x12f0+-0x196):_0x2c9506['depthBuffe'+'r'])??((_0x5ba80f=_0x4992e4['renderTarg'+'et'])==null?void(-0x251d+-0x1*0x20e+0x272b):_0x5ba80f['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x351ca0)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x4992e4['renderTarg'+'et'],_0x4ed41c,_0x417ee3,_0x29ca10));const _0x2d1242=_0x29ca10?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x4ed41c['scope']['resolve'](Zm)['setValue'](_0x2d1242);}['execute'](){const _0x2a251e=this['device'];if(G['pushGpuMar'+'ker'](_0x2a251e,'GRAB-DEPTH'),_0x2a251e['isWebGL2']&&_0x2a251e['renderTarg'+'et']['samples']>-0x1*-0x1a1e+-0x3*-0x5e1+-0x320*0xe){const _0x2e7c35=_0x2a251e['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x2f741d=this['depthRende'+'rTarget'];_0x2a251e['renderTarg'+'et']=_0x2f741d,_0x2a251e['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x2a251e,_0x2e7c35,_0x2f741d['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x2a251e['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x2a251e['copyRender'+'Target'](_0x2a251e['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x1bbf+-0xcde+-0x1*0xee0),!(-0x229f+0x1f7f+0x320));G['popGpuMark'+'er'](_0x2a251e);}}class A0{constructor(){c(this,'_gammaCorr'+'ection',hh),c(this,'_toneMappi'+'ng',Ap),c(this,'_srgbRende'+'rTarget',!(0xc7+0x208b+-0x1*0x2151)),c(this,'_ssaoEnabl'+'ed',!(0x44*0x40+-0x1892*-0x1+-0x2991)),c(this,'_fog',Fa),c(this,'_sceneDept'+'hMapLinear',!(-0xa86+0x2*0x925+-0x7c3)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(-0x1a8d+0x13*0x1d1+-0x7f6));}get['hash'](){if(this['_hash']===void(0x90f+-0x2314+0x1a05*0x1)){const _0x2aeb07=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hn(_0x2aeb07);}return this['_hash'];}get['defines'](){const _0xbee1c0=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x1a*-0x13d+-0x992+-0x169f*0x1),_0xbee1c0['clear'](),this['_sceneDept'+'hMapLinear']&&_0xbee1c0['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0xb*-0x35b+0x11a2+-0x368b)),_0xbee1c0['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0xbee1c0['set']('TONEMAP',p0[this['_toneMappi'+'ng']]),_0xbee1c0['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0xbee1c0;}['markDirty'](){this['_hash']=void(0x61*-0x25+-0x1*0xc6e+0x1a73),this['_definesDi'+'rty']=!(0x1855*0x1+-0x1300+-0x15*0x41);}set['fog'](_0x241327){this['_fog']!==_0x241327&&(this['_fog']=_0x241327,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x2ce50d){this['_ssaoEnabl'+'ed']!==_0x2ce50d&&(this['_ssaoEnabl'+'ed']=_0x2ce50d,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x4ebba7){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x3*0xaa9+0x3*-0x57b+0x306c),this['_gammaCorr'+'ection']!==_0x4ebba7&&(this['_gammaCorr'+'ection']=_0x4ebba7,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x2cf93d){this['_toneMappi'+'ng']!==_0x2cf93d&&(this['_toneMappi'+'ng']=_0x2cf93d,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x40ac53){this['_srgbRende'+'rTarget']!==_0x40ac53&&(this['_srgbRende'+'rTarget']=_0x40ac53,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x194c04){this['_sceneDept'+'hMapLinear']!==_0x194c04&&(this['_sceneDept'+'hMapLinear']=_0x194c04,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===hh&&!this['_srgbRende'+'rTarget']?hh:sl;}}const En=new T(),$a=new T(),Qm=new T(),Jm=new q(),pC=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()];class ol{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new A0()),c(this,'renderPass'+'es',[]),c(this,'jitter',0x613*0x3+-0x13c6*-0x1+0x47*-0x89),(this['_aspectRat'+'io']=(-0x2126+-0x29*0x3e+0x2*0x1592)/(0x3*-0x38f+0x1*0x18d1+-0x1*0xe1b),this['_aspectRat'+'ioMode']=Ip,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(0x1019*-0x1+0x2465+0x1*-0x144c+0.75,-0x61*-0x30+-0x3*0x2ef+0x3*-0x321+0.75,0x493*0x4+-0x2125+-0x21f*-0x7+0.75,0x1905+-0x147c+-0x488),this['_clearColo'+'rBuffer']=!(0x1d3*0x11+-0x16*-0x1be+0x4557*-0x1),this['_clearDept'+'h']=0x18ca+0x438+-0x1d01,this['_clearDept'+'hBuffer']=!(-0x2*0xb19+0x1*0x1dae+0x1*-0x77c),this['_clearSten'+'cil']=0xc0b+-0x3*-0x2c1+-0x144e,this['_clearSten'+'cilBuffer']=!(-0x169d*0x1+0x2605+-0x1*0xf68),this['_cullFaces']=!(0x4f*0x13+0x1b14+-0x20f1),this['_farClip']=0xcaa+-0x1c*-0xd7+-0x2046,this['_flipFaces']=!(0x2064+-0x1e53*-0x1+-0x3eb6),this['_fov']=0x21a+0x76b+-0x4ac*0x2,this['_frustumCu'+'lling']=!(-0xf94*0x2+-0x4*0x92b+0x1*0x43d4),this['_horizonta'+'lFov']=!(-0x1*0x2410+-0x964*-0x2+0x1149),this['_layers']=[Fi,Xt,vp,tl,bp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x218c+0x17ca+-0x29*0x166+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x44f+-0xe1c*-0x1+-0x9c3,this['_projectio'+'n']=Gs,this['_rect']=new Q(0x163c*0x1+0x1*0x246a+-0x3aa6,-0x8e6+-0x3a8+0x2*0x647,0x3c5+-0x1*0xa59+0x695,-0x1*-0x204d+-0x65*0x37+-0xa99),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new Q(-0x1bc0+0x20c2+-0x502,-0x19*0xc9+0x3c7+0xfda,0x139*-0x15+-0x48c*0x5+0x306a,0x1ecf+0x1*0x1120+-0x2fee),this['_scissorRe'+'ctClear']=!(-0x295*-0x3+0x1*-0x188f+-0x10d1*-0x1),this['_aperture']=0x3a+-0x231a+0x22f0,this['_shutter']=(-0x1abf+0x2f*-0x2+0x1b1e)/(-0x1ed2+-0x1629+0x38e3),this['_sensitivi'+'ty']=-0x6e*-0x35+0x10*-0x3+0x1*-0x12ae,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(0xc9f*-0x3+0x3fe+-0x21df*-0x1),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(-0x7ba*0x1+0x11*0x1fa+-0x19e0),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(0x955*-0x1+-0x193d*-0x1+-0x7f4*0x2),this['_shaderMat'+'ricesVersi'+'on']=-0x15*0x2f+-0x4*0x94d+0x290f,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[-0x987+-0x1*-0x1ac9+-0x5e*0x2f,-0x2*0x286+-0x21bc+0x26c8,-0x1*0x2f7+0x1*-0x3bf+-0x6b6*-0x1,-0x26b6+-0x15ef+0x19*0x26d],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x344e72,_0x58b1b8;(_0x344e72=this['renderPass'+'ColorGrab'])==null||_0x344e72['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x58b1b8=this['renderPass'+'DepthGrab'])==null||_0x58b1b8['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0x1f7e+0x9*0x12e+-0x29c*-0x8;}['_storeShad'+'erMatrices'](_0x3b9ba0,_0x47f41a,_0x455ff3,_0x335ea9){this['_shaderMat'+'ricesVersi'+'on']!==_0x335ea9&&(this['_shaderMat'+'ricesVersi'+'on']=_0x335ea9,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x3b9ba0),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x3b9ba0),this['_viewProjI'+'nverse']['invert'](_0x3b9ba0),this['_jitters'][0x320+-0x1*0xc89+0x96b]=this['_jitters'][-0x224c+0x1726+0xb26],this['_jitters'][0x53c*0x2+0x1d40+-0x27b5]=this['_jitters'][-0x9a*0x31+0xb66*0x2+0x6af],this['_jitters'][-0x1ee+0xf56+-0xd68]=_0x47f41a,this['_jitters'][0x989+0x1f*-0xb+-0x833]=_0x455ff3);}get['fullSizeCl'+'earRect'](){const _0xf93a04=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0xf93a04['x']===-0xb9b*-0x1+0x2*-0x141+-0x11*0x89&&_0xf93a04['y']===-0xecb+0x31*0x8e+-0xc63&&_0xf93a04['z']===-0x1210*0x1+0x11ba*0x1+0x57&&_0xf93a04['w']===-0x2395+-0x12e*0xd+0x32ec;}set['aspectRati'+'o'](_0x299124){this['_aspectRat'+'io']!==_0x299124&&(this['_aspectRat'+'io']=_0x299124,this['_projMatDi'+'rty']=!(-0x10bf*-0x2+0x2*0x4e8+0x2b4e*-0x1));}get['aspectRati'+'o'](){var _0x52feff;return(_0x52feff=this['xr'])!=null&&_0x52feff['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x2462ca){this['_aspectRat'+'ioMode']!==_0x2462ca&&(this['_aspectRat'+'ioMode']=_0x2462ca,this['_projMatDi'+'rty']=!(0x887+-0x17*0x59+-0x88*0x1));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x3aa11f){this['_calculate'+'Projection']=_0x3aa11f,this['_projMatDi'+'rty']=!(-0x916+-0x22*0x114+0x2*0x16df);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x61117a){this['_calculate'+'Transform']=_0x61117a;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x23457f){this['_clearColo'+'r']['copy'](_0x23457f);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x5b12d2){this['_clearColo'+'rBuffer']=_0x5b12d2;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x29c411){this['_clearDept'+'h']=_0x29c411;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x51205e){this['_clearDept'+'hBuffer']=_0x51205e;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x51dcc6){this['_clearSten'+'cil']=_0x51dcc6;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x70fdfb){this['_clearSten'+'cilBuffer']=_0x70fdfb;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x1277f1){this['_cullFaces']=_0x1277f1;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x29ccf7){this['_farClip']!==_0x29ccf7&&(this['_farClip']=_0x29ccf7,this['_projMatDi'+'rty']=!(0x1*-0x2131+0x12f+0x2002));}get['farClip'](){var _0x44d1fa;return(_0x44d1fa=this['xr'])!=null&&_0x44d1fa['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x4d417c){this['_flipFaces']=_0x4d417c;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x3e0954){this['_fov']!==_0x3e0954&&(this['_fov']=_0x3e0954,this['_projMatDi'+'rty']=!(0xe02*0x2+-0x105a+-0xbaa*0x1));}get['fov'](){var _0x706aa0;return(_0x706aa0=this['xr'])!=null&&_0x706aa0['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x50ce84){this['_frustumCu'+'lling']=_0x50ce84;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x181f94){this['_horizonta'+'lFov']!==_0x181f94&&(this['_horizonta'+'lFov']=_0x181f94,this['_projMatDi'+'rty']=!(0x904+0x8ff+0x3*-0x601));}get['horizontal'+'Fov'](){var _0x243653;return(_0x243653=this['xr'])!=null&&_0x243653['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x51f3e2){this['_layers']=_0x51f3e2['slice'](0x369*0x9+0x3*0xbcf+-0xb05*0x6),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x3b97fc){this['_nearClip']!==_0x3b97fc&&(this['_nearClip']=_0x3b97fc,this['_projMatDi'+'rty']=!(-0x1e16+-0x24+0x1e3a));}get['nearClip'](){var _0x341d58;return(_0x341d58=this['xr'])!=null&&_0x341d58['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x43f59){this['_node']=_0x43f59;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0xd45258){this['_orthoHeig'+'ht']!==_0xd45258&&(this['_orthoHeig'+'ht']=_0xd45258,this['_projMatDi'+'rty']=!(-0x113d*0x1+-0x220e+-0x334b*-0x1));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x4171ce){this['_projectio'+'n']!==_0x4171ce&&(this['_projectio'+'n']=_0x4171ce,this['_projMatDi'+'rty']=!(0x561+-0x3*-0xb5f+-0x151*0x1e));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x13e49c){this['_rect']['copy'](_0x13e49c);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x5c63af){this['_renderTar'+'get']=_0x5c63af;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x50444e){this['_scissorRe'+'ct']['copy'](_0x50444e);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x169ff1=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x169ff1)['invert'](),this['_viewMatDi'+'rty']=!(0x4a*-0x35+0x8a6+0x6ad);}return this['_viewMat'];}set['aperture'](_0x3a8c93){this['_aperture']=_0x3a8c93;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x3cd10a){this['_sensitivi'+'ty']=_0x3cd10a;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x28d9ad){this['_shutter']=_0x28d9ad;}get['shutter'](){return this['_shutter'];}set['xr'](_0x2cf5e6){this['_xr']!==_0x2cf5e6&&(this['_xr']=_0x2cf5e6,this['_projMatDi'+'rty']=!(0x1*0xeda+-0x25d4+0x2*0xb7d));}get['xr'](){return this['_xr'];}['clone'](){return new ol()['copy'](this);}['copy'](_0x5ae6e2){return this['_aspectRat'+'io']=_0x5ae6e2['_aspectRat'+'io'],this['_farClip']=_0x5ae6e2['_farClip'],this['_fov']=_0x5ae6e2['_fov'],this['_horizonta'+'lFov']=_0x5ae6e2['_horizonta'+'lFov'],this['_nearClip']=_0x5ae6e2['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x5ae6e2['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x5ae6e2['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x5ae6e2['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x5ae6e2['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x5ae6e2['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x5ae6e2['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x5ae6e2['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x5ae6e2['calculateT'+'ransform'],this['clearColor']=_0x5ae6e2['clearColor'],this['clearColor'+'Buffer']=_0x5ae6e2['clearColor'+'Buffer'],this['clearDepth']=_0x5ae6e2['clearDepth'],this['clearDepth'+'Buffer']=_0x5ae6e2['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x5ae6e2['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x5ae6e2['clearStenc'+'ilBuffer'],this['cullFaces']=_0x5ae6e2['cullFaces'],this['flipFaces']=_0x5ae6e2['flipFaces'],this['frustumCul'+'ling']=_0x5ae6e2['frustumCul'+'ling'],this['layers']=_0x5ae6e2['layers'],this['orthoHeigh'+'t']=_0x5ae6e2['orthoHeigh'+'t'],this['projection']=_0x5ae6e2['projection'],this['rect']=_0x5ae6e2['rect'],this['renderTarg'+'et']=_0x5ae6e2['renderTarg'+'et'],this['scissorRec'+'t']=_0x5ae6e2['scissorRec'+'t'],this['aperture']=_0x5ae6e2['aperture'],this['shutter']=_0x5ae6e2['shutter'],this['sensitivit'+'y']=_0x5ae6e2['sensitivit'+'y'],this['shaderPass'+'Info']=_0x5ae6e2['shaderPass'+'Info'],this['jitter']=_0x5ae6e2['jitter'],this['_projMatDi'+'rty']=!(-0x1871*0x1+0xd24+0x107*0xb),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x4a6851,_0x209acf){var _0x439185;_0x209acf?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new uC(_0x4a6851)):((_0x439185=this['renderPass'+'ColorGrab'])==null||_0x439185['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x1b748f,_0x16b697,_0x2fa8dd){var _0x4cbf94;_0x2fa8dd?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new fC(_0x1b748f,this)):((_0x4cbf94=this['renderPass'+'DepthGrab'])==null||_0x4cbf94['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(0xf4c+-0x1*-0x1d87+0x1*-0x2cd2));}['worldToScr'+'een'](_0x32ef4e,_0xbc58f3,_0x2652ac,_0x8be9da=new T()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x32ef4e,_0x8be9da);const _0x23d3f0=this['_viewProjM'+'at']['data'],_0x36c790=_0x32ef4e['x']*_0x23d3f0[0x499*-0x1+0x1272+-0xdd6]+_0x32ef4e['y']*_0x23d3f0[0x2231+-0xcc7*-0x1+-0x2ef1]+_0x32ef4e['z']*_0x23d3f0[-0x2a6*0x2+-0x836*0x2+-0x26b*-0x9]+(0xbfc+0x286+-0xe81)*_0x23d3f0[-0xcd6+0x1423+-0x73e];return _0x8be9da['x']=(_0x8be9da['x']/_0x36c790+(-0x1a*-0xd6+0x1abd+0x1028*-0x3))*(-0x3*0x50b+-0xd53+-0x71d*-0x4+0.5)*_0xbc58f3,_0x8be9da['y']=(0x159*0x1+-0x21f9+0x20a1*0x1-_0x8be9da['y']/_0x36c790)*(0x224c+-0x1147+0x1*-0x1105+0.5)*_0x2652ac,_0x8be9da;}['screenToWo'+'rld'](_0x4d4c37,_0xcf8fb9,_0x87d5f,_0x521dbe,_0x3d7095,_0x55862b=new T()){const _0x54fca2=this['farClip']-this['nearClip'];if(En['set'](_0x4d4c37/_0x521dbe,(_0x3d7095-_0xcf8fb9)/_0x3d7095,_0x87d5f/_0x54fca2),En['mulScalar'](0x8*-0x3fb+0x837+0x3*0x7e1),En['sub'](T['ONE']),this['_projectio'+'n']===Gs){q['_getPerspe'+'ctiveHalfS'+'ize']($a,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),$a['x']*=En['x'],$a['y']*=En['y'];const _0x1fb9b4=this['_node']['getWorldTr'+'ansform']();$a['z']=-this['nearClip'],_0x1fb9b4['transformP'+'oint']($a,Qm);const _0x9cec71=this['_node']['getPositio'+'n']();_0x55862b['sub2'](Qm,_0x9cec71),_0x55862b['normalize'](),_0x55862b['mulScalar'](_0x87d5f),_0x55862b['add'](_0x9cec71);}else this['_updateVie'+'wProjMat'](),Jm['copy'](this['_viewProjM'+'at'])['invert'](),Jm['transformP'+'oint'](En,_0x55862b);return _0x55862b;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Gs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x31b121=this['_orthoHeig'+'ht'],_0x5df78d=_0x31b121*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x5df78d,_0x5df78d,-_0x31b121,_0x31b121,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x13*0x192+-0x1e05+0x3bdc);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x4b9e6a=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0xa49*0x2+-0x8*-0x139+0xb2e)/this['_sensitivi'+'ty']);return(-0x246+0x9fc+-0x7b5*0x1)/(Math['pow'](-0x21f2+0x336*0xa+0x1d8,_0x4b9e6a)*(0xd4+0x1628+-0x3*0x7a9+0.19999999999999996));}['getScreenS'+'ize'](_0xdcbf4d){if(this['_projectio'+'n']===Gs){const _0x79d729=this['_node']['getPositio'+'n']()['distance'](_0xdcbf4d['center']);if(_0x79d729<_0xdcbf4d['radius'])return 0x20c+-0x94*0xc+0x4e5;const _0x544e51=Math['asin'](_0xdcbf4d['radius']/_0x79d729),_0x3a55a1=Math['tan'](_0x544e51),_0x51956a=Math['tan'](this['fov']/(0x905*-0x1+0x1e1d+-0x1*0x1516)*N['DEG_TO_RAD']);return Math['min'](_0x3a55a1/_0x51956a,0x7*-0x89+0x1325+0x1*-0xf65);}return N['clamp'](_0xdcbf4d['radius']/this['_orthoHeig'+'ht'],-0x2*0xc32+0xc48*0x2+-0x2*0x16,-0x2*-0x112f+0x2fd+-0x255a);}['getFrustum'+'Corners'](_0x3e0480=this['nearClip'],_0x324b7e=this['farClip']){const _0x2ef004=this['fov']*Math['PI']/(-0x2698+0x2*0x111f+0x1*0x50e);let _0x4f3f54,_0xb7261a;this['projection']===Gs?this['horizontal'+'Fov']?(_0x4f3f54=_0x3e0480*Math['tan'](_0x2ef004/(-0x2031+0x2492+0x3*-0x175)),_0xb7261a=_0x4f3f54/this['aspectRati'+'o']):(_0xb7261a=_0x3e0480*Math['tan'](_0x2ef004/(0x404+0x14*-0x2b+-0xa6)),_0x4f3f54=_0xb7261a*this['aspectRati'+'o']):(_0xb7261a=this['_orthoHeig'+'ht'],_0x4f3f54=_0xb7261a*this['aspectRati'+'o']);const _0x4a5926=pC;return _0x4a5926[-0x166d*0x1+-0xf43*0x2+0x34f3]['x']=_0x4f3f54,_0x4a5926[-0x4*-0x6a3+0x647*-0x2+-0xdfe]['y']=-_0xb7261a,_0x4a5926[-0x3*-0xcdc+0x1340+0xe75*-0x4]['z']=-_0x3e0480,_0x4a5926[-0x1f6*-0x4+0x4c3+-0xc9a]['x']=_0x4f3f54,_0x4a5926[-0x1975+0x59b*-0x4+0x2fe2]['y']=_0xb7261a,_0x4a5926[0x405+-0x3c8+0xf*-0x4]['z']=-_0x3e0480,_0x4a5926[0x12ae+-0x18e8+-0x1*-0x63c]['x']=-_0x4f3f54,_0x4a5926[-0xe9a+0x1921+-0xa85]['y']=_0xb7261a,_0x4a5926[0x4*0x45e+-0x8*0x18a+-0x526]['z']=-_0x3e0480,_0x4a5926[-0x10b*-0x11+-0x2*0x3a6+-0xa6c]['x']=-_0x4f3f54,_0x4a5926[-0x2639*0x1+-0x2703+0x235*0x23]['y']=-_0xb7261a,_0x4a5926[-0x1c49+0x126b*0x1+-0x9e1*-0x1]['z']=-_0x3e0480,this['_projectio'+'n']===Gs&&(this['horizontal'+'Fov']?(_0x4f3f54=_0x324b7e*Math['tan'](_0x2ef004/(-0x1527+0x1e5d+-0x934)),_0xb7261a=_0x4f3f54/this['aspectRati'+'o']):(_0xb7261a=_0x324b7e*Math['tan'](_0x2ef004/(-0x15f7+0x5*-0x506+0x2f17)),_0x4f3f54=_0xb7261a*this['aspectRati'+'o'])),_0x4a5926[-0x1a99+-0x86b*-0x1+0x1232]['x']=_0x4f3f54,_0x4a5926[-0x20e7+0x1*0x25f7+0x286*-0x2]['y']=-_0xb7261a,_0x4a5926[0x4e7*-0x2+-0x10*0x192+0x22f2]['z']=-_0x324b7e,_0x4a5926[-0x1a6b+-0xc83+0x2ff*0xd]['x']=_0x4f3f54,_0x4a5926[0x546+0x2529+-0x2a6a]['y']=_0xb7261a,_0x4a5926[-0xb10+0xa7*0x29+-0xfaa]['z']=-_0x324b7e,_0x4a5926[-0xb*0x30d+0x800+0x1995]['x']=-_0x4f3f54,_0x4a5926[0x1ea2+-0xb7*-0x29+-0x3beb]['y']=_0xb7261a,_0x4a5926[-0x1243*-0x1+0x2*-0xdf4+0x9ab]['z']=-_0x324b7e,_0x4a5926[-0x113f+0xf59*0x1+-0x1d*-0x11]['x']=-_0x4f3f54,_0x4a5926[0x1d9c+-0x2*0x9ed+-0x9bb]['y']=-_0xb7261a,_0x4a5926[0x1*-0x69+-0x10d9+0x1149]['z']=-_0x324b7e,_0x4a5926;}['setXrPrope'+'rties'](_0x2c897f){Object['assign'](this['_xrPropert'+'ies'],_0x2c897f),this['_projMatDi'+'rty']=!(-0x145+-0x20+0x165);}}const e_=new q(),t_=new q(),s_=new q(),Qi=class Qi{static['create'](_0x1b9594,_0x407d4b,_0x35198a){const _0x1c6ef4=new ol();switch(_0x1c6ef4['node']=new De(_0x1b9594),_0x1c6ef4['aspectRati'+'o']=-0x54d*0x1+-0x2357+0x5*0x821,_0x1c6ef4['aspectRati'+'oMode']=Bu,_0x1c6ef4['_scissorRe'+'ctClear']=!(-0x17*-0xbf+-0x6aa+-0x1*0xa7f),_0x407d4b){case Pe:_0x1c6ef4['node']['setRotatio'+'n'](Qi['pointLight'+'Rotations'][_0x35198a]),_0x1c6ef4['fov']=0x1*-0x4eb+-0x7*0x373+0x1f6*0xf,_0x1c6ef4['projection']=Gs;break;case Re:_0x1c6ef4['projection']=Gs;break;case oe:_0x1c6ef4['projection']=ua;break;}return _0x1c6ef4;}static['evalSpotCo'+'okieMatrix'](_0x5384c0){let _0x48d1af=Qi['_spotCooki'+'eCamera'];_0x48d1af||(_0x48d1af=Qi['create']('SpotCookie'+'Camera',Re),Qi['_spotCooki'+'eCamera']=_0x48d1af),_0x48d1af['fov']=_0x5384c0['_outerCone'+'Angle']*(0x1*0x2628+-0x17*0x21+0x1*-0x232f);const _0x4de427=_0x48d1af['_node'];_0x4de427['setPositio'+'n'](_0x5384c0['_node']['getPositio'+'n']()),_0x4de427['setRotatio'+'n'](_0x5384c0['_node']['getRotatio'+'n']()),_0x4de427['rotateLoca'+'l'](-(-0xf99+0x1*-0x16c3+0x26b6),-0x1d99+0x10d*-0x7+0x24f4,0x1fe3+-0x2616+-0x3*-0x211),e_['setTRS'](_0x4de427['getPositio'+'n'](),_0x4de427['getRotatio'+'n'](),T['ONE'])['invert'](),t_['mul2'](_0x48d1af['projection'+'Matrix'],e_);const _0x176959=_0x5384c0['cookieMatr'+'ix'],_0x427646=_0x5384c0['atlasViewp'+'ort'];return s_['setViewpor'+'t'](_0x427646['x'],_0x427646['y'],_0x427646['z'],_0x427646['w']),_0x176959['mul2'](s_,t_),_0x176959;}};c(Qi,'pointLight'+'Rotations',[new se()['setFromEul'+'erAngles'](0x259b*0x1+0x25c3+-0xb*0x6da,-0x1701+0x576*-0x6+-0x3*-0x12b5,-0x3*0x88a+0x2568+-0xb16),new se()['setFromEul'+'erAngles'](-0x1977+-0x176+0x1aed,-(-0x1849*-0x1+0x6*-0x106+-0x11cb),0x86b+-0x137f+0xbc8),new se()['setFromEul'+'erAngles'](-0xde8+0x3b*0x2+0xdcc*0x1,-0x2*-0xed1+0x69b+-0x243d,0x8e1*-0x1+-0xa13*0x2+0x1d07),new se()['setFromEul'+'erAngles'](-(-0x14ca+-0x18d3+0x7*0x691),0xf30+-0x169c+0x76c,0x984+-0xa6*-0x36+0x4*-0xb22),new se()['setFromEul'+'erAngles'](-0x1272+-0x155*-0x17+0xc31*-0x1,0x468+0x1903+-0x1cb7,0x2607+-0x251*0x5+-0x19be),new se()['setFromEul'+'erAngles'](0x16f4+0x212+0x2*-0xc83,0x245e+-0x179a+-0xcc4,0xb*0x18e+0x2*0xf06+-0x2e72)]),c(Qi,'_spotCooki'+'eCamera',null);let Ma=Qi;const i_=-0x16ed*0x1+0xccc+-0xa21*-0x1+0.000001,Zt=new T(),xr=new Float32Array(0x5*-0x185+-0x47*0x38+0x1*0x1727),mC=new T(-(-0x2404+-0x1*-0x173f+0x7*0x1d3+0.5),-0x2c*0x37+0x582+0x3f2,-0x293*0x4+-0x251c+0x2f68),_C=new T(-0xb3b+-0xda2*0x1+0x18dd,0x3*-0xc0b+-0x32f*0x1+-0x13a8*-0x2,-0x21e*-0x5+0x15b6+-0x1a*0x13e+0.5),Sr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},lt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let vd;class E0{constructor(_0x2cf7e2){c(this,'areaLights'+'Enabled',!(-0x1*-0x198d+-0xe*0xad+-0x1016)),(this['device']=_0x2cf7e2,this['cookiesEna'+'bled']=!(-0x1d1e+-0x21bc+0x3edb),this['shadowsEna'+'bled']=!(0x1*0x1937+-0x4*0x3a4+0x553*-0x2),this['areaLights'+'Enabled']=!(-0x7*0x4e1+-0x2139+0x4361),this['maxLights']=0x8f9*0x4+-0x1e6e+-0x1*0x477);const _0x3dddb2=Sr['COUNT'];this['lights8']=new Uint8ClampedArray((0x29*0x1d+-0xad*-0x1+-0x2a7*0x2)*_0x3dddb2*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x3dddb2,this['maxLights'],Se,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x19ccfc=lt['COUNT'];this['lightsFloa'+'t']=new Float32Array((0x4c*-0x73+0x1557+-0xcd1*-0x1)*_0x19ccfc*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x19ccfc,this['maxLights'],Ke,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=0xc49*-0x1+-0x1373+-0xc*-0x2a5,this['invMaxAtte'+'nuation']=0x1*0x237f+0x2621*0x1+-0x49a0,this['boundsMin']=new T(),this['boundsDelt'+'a']=new T();}static['getShaderD'+'efines'](){const _0x19c18b=(_0x33d2ae,_0x4de29d)=>Object['keys'](_0x33d2ae)['map'](_0x51ca9e=>'#define\x20'+_0x4de29d+_0x51ca9e+'\x20'+_0x33d2ae[_0x51ca9e])['join']('\x0a');return vd||(vd='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19c18b(Sr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x19c18b(lt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),vd;}['destroy'](){var _0x253ac7,_0x188777;(_0x253ac7=this['lightsText'+'ure8'])==null||_0x253ac7['destroy'](),this['lightsText'+'ure8']=null,(_0x188777=this['lightsText'+'ureFloat'])==null||_0x188777['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x3b858f,_0x438b4a,_0x945bcf,_0x2d3ce8,_0x160423){return new he(_0x3b858f,{'name':_0x160423,'width':_0x438b4a,'height':_0x945bcf,'mipmaps':!(0x843+-0x89c+0x5a),'format':_0x2d3ce8,'addressU':ae,'addressV':ae,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x460d93,_0x30c8d3){this['invMaxColo'+'rValue']=(0x158f*-0x1+0x409*0x7+0x1d*-0x3b)/_0x30c8d3,this['invMaxAtte'+'nuation']=(-0x4f*0x3+-0x18dd+-0x1*-0x19cb)/_0x460d93;}['setBounds'](_0x41b225,_0x55c67a){this['boundsMin']['copy'](_0x41b225),this['boundsDelt'+'a']['copy'](_0x55c67a);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x485bce,_0x32ce08){_0x32ce08['_node']['getWorldTr'+'ansform']()['getY'](_0x485bce)['mulScalar'](-(0x2427+0x1*0xf59+-0x337f*0x1)),_0x485bce['normalize']();}['getLightAr'+'eaSizes'](_0x50eb89){const _0x5bec0d=_0x50eb89['_node']['getWorldTr'+'ansform']();return _0x5bec0d['transformV'+'ector'](mC,Zt),xr[-0x1f2d+0x1d3f+-0x2*-0xf7]=Zt['x'],xr[-0x914+0x13d5+-0x1*0xac0]=Zt['y'],xr[0x60d*0x5+0x1c49+0x751*-0x8]=Zt['z'],_0x5bec0d['transformV'+'ector'](_C,Zt),xr[0x1d4*-0xf+-0xb3*0x25+0x354e]=Zt['x'],xr[0x5*-0x7f+-0x7*0x546+0xb1*0x39]=Zt['y'],xr[-0x1*0x52a+-0x1*0x1230+-0x175f*-0x1]=Zt['z'],xr;}['addLightDa'+'taFlags'](_0xc141a3,_0x14039c,_0x3b5170,_0x198c10,_0x52892b,_0x6583ba){_0xc141a3[_0x14039c+(0x12d1*0x1+0x379*-0x3+-0x866)]=_0x198c10?-0x843+0x14*0x2+-0xe9*-0xa:-0x859+0x4c*0x3e+-0xa0f,_0xc141a3[_0x14039c+(0xc*0x4f+-0x2412+0x205f)]=this['areaLights'+'Enabled']?_0x3b5170['_shape']*(0xf17+-0x1096+0x1bf):-0x1*0x1a4d+0x2*0xd80+-0xb3,_0xc141a3[_0x14039c+(0xf4e+0x30*0x76+-0xa*0x3be)]=_0x3b5170['_falloffMo'+'de']*(-0x1b03+0xf80+0xc82*0x1),_0xc141a3[_0x14039c+(-0x1*-0x1e8e+-0x1065+0x1*-0xe26)]=_0x52892b?_0x6583ba*(0x23ad+-0x385+-0x1f29):-0x49a*0x1+-0x19c*-0x1+0x2fe;}['addLightDa'+'taColor'](_0x2ad6ab,_0x2a10d0,_0x35e12e,_0x522849){const _0x5b9fa1=this['invMaxColo'+'rValue'],_0x39c537=_0x35e12e['_colorLine'+'ar'];$t['float2Byte'+'s'](_0x39c537[0x1*0xb59+0x1496+-0x1fef]*_0x5b9fa1,_0x2ad6ab,_0x2a10d0+(0x3*-0xabd+0x2*-0x459+0x1*0x28e9),0xfe2+0x1*0x1848+0x14*-0x202),$t['float2Byte'+'s'](_0x39c537[0xc2e+0x56f+-0x119c]*_0x5b9fa1,_0x2ad6ab,_0x2a10d0+(-0x1f*0x29+0x18cf+-0x13d6),0xa40+-0x2*0x887+-0xda*-0x8),$t['float2Byte'+'s'](_0x39c537[-0x5*-0x7a5+-0x8cc+-0x1d6b]*_0x5b9fa1,_0x2ad6ab,_0x2a10d0+(0x979+-0xfd8+-0x221*-0x3),0x737*0x2+0x1*0x379+-0x1fd*0x9),_0x2ad6ab[_0x2a10d0+(-0x5*-0x6d+0x135f+-0x157a)]=_0x522849?-0x1424+0x13da+0x2f*0x7:0xa5c*-0x1+-0xb*-0x30+0x84c;const _0x57cd0e=!!(_0x35e12e['mask']&hs),_0xaf6334=!!(_0x35e12e['mask']&cr);_0x2ad6ab[_0x2a10d0+(0x1502+-0x1ae6+0x5eb)]=_0x57cd0e&&_0xaf6334?-0x2*-0x872+0x2*0xa51+0x2507*-0x1:_0xaf6334?-0x3b*-0x5e+-0x24a*-0x2+-0x193f:0x1965+-0x1*-0x2575+-0x3eda;}['addLightDa'+'taSpotAngl'+'es'](_0x1818a7,_0x419ee6,_0x50695f){$t['float2Byte'+'s'](_0x50695f['_innerCone'+'AngleCos']*(-0x50d+0x167*0x7+0x7a*-0xa+0.5-i_)+(0x2b9+-0xef+-0x1ca+0.5),_0x1818a7,_0x419ee6+(-0x1*0x1814+0xeb7+0x95d),0x2182+0x1ccd+-0x3e4d),$t['float2Byte'+'s'](_0x50695f['_outerCone'+'AngleCos']*(-0x571+-0x1e62+0xbf1*0x3+0.5-i_)+(-0xd*0x1fe+0x1*0x173d+0xe3*0x3+0.5),_0x1818a7,_0x419ee6+(-0x18fc*-0x1+-0x23b3+-0xab9*-0x1),-0x33+0xdf1*-0x1+0x2*0x713);}['addLightDa'+'taShadowBi'+'as'](_0x1e02b9,_0x5af900,_0x568581){const _0x199ed0=_0x568581['getRenderD'+'ata'](null,0x41*0x92+-0x61a+-0x3df*0x8),_0x43e0b5=_0x568581['_getUnifor'+'mBiasValue'+'s'](_0x199ed0);$t['float2Byte'+'sRange'](_0x43e0b5['bias'],_0x1e02b9,_0x5af900,-(0x6cc+-0xaf6*-0x2+-0x1cb7),0x22c5+-0x1cec+-0x5c5,-0x1*0xec4+-0xae7*-0x1+0x3df),$t['float2Byte'+'s'](_0x43e0b5['normalBias'],_0x1e02b9,_0x5af900+(-0x15e7+-0x2495+0x3a7e),0xee1+-0x1*0x2453+-0x55d*-0x4);}['addLightDa'+'taCookies'](_0x1e6024,_0x25095d,_0x451d14){const _0x2afbc1=_0x451d14['_cookieCha'+'nnel']==='rgb';if(_0x1e6024[_0x25095d+(0xd*0x239+0x1393+-0x3078)]=Math['floor'](_0x451d14['cookieInte'+'nsity']*(0xef7+-0x1*-0x81c+-0x3ae*0x6)),_0x1e6024[_0x25095d+(0x95*0x3d+0x1548+-0x38c8)]=_0x2afbc1?-0x25d8+-0x90f*-0x2+-0x1*-0x14b9:0xd*-0x5+-0x2c*-0xad+-0x1d7b,!_0x2afbc1){const _0x17ca13=_0x451d14['_cookieCha'+'nnel'];_0x1e6024[_0x25095d+(-0x11e*0x1f+0x1437+0x1*0xe6f)]=_0x17ca13==='rrr'?-0x1b0f+-0x19b3+0x5f9*0x9:0x3*0xa1b+0x1a98+-0x38e9,_0x1e6024[_0x25095d+(-0x21b9+-0x2119+-0x42d7*-0x1)]=_0x17ca13==='ggg'?0x2709*-0x1+0x8c6+-0x2*-0xfa1:0x1a69+0x2365+-0x6*0xa4d,_0x1e6024[_0x25095d+(0x1fc3+-0x14db+-0xc7*0xe)]=_0x17ca13==='bbb'?0x1*-0x12d5+0x128f+-0x1*-0x145:0x1*0x652+0x1*0xbcf+-0x1221,_0x1e6024[_0x25095d+(0x14d5*-0x1+-0x2389+0x3865)]=_0x17ca13==='aaa'?0x2*-0xba4+-0x259*-0x2+-0x687*-0x3:-0x5eb*-0x5+0xf9f+-0x2d36;}}['addLightDa'+'ta'](_0x395938,_0x33ebeb){const _0x110bea=_0x395938['_type']===Re,_0x4d8c55=_0x395938['atlasViewp'+'ortAllocat'+'ed'],_0x3ff740=this['cookiesEna'+'bled']&&!!_0x395938['_cookie']&&_0x4d8c55,_0x57a80d=this['areaLights'+'Enabled']&&_0x395938['shape']!==yt,_0x30dc69=this['shadowsEna'+'bled']&&_0x395938['castShadow'+'s']&&_0x4d8c55,_0x5c8b11=_0x395938['_node']['getPositio'+'n']();let _0x6403ae=null,_0xd39ccd=null;_0x110bea?_0x30dc69?_0x6403ae=_0x395938['getRenderD'+'ata'](null,-0x7e*-0x16+-0x3*-0xa61+-0x29f7)['shadowMatr'+'ix']:_0x3ff740&&(_0x6403ae=Ma['evalSpotCo'+'okieMatrix'](_0x395938)):(_0x30dc69||_0x3ff740)&&(_0xd39ccd=_0x395938['atlasViewp'+'ort']);const _0x27191b=this['lights8'],_0x2e2122=_0x33ebeb*this['lightsText'+'ure8']['width']*(-0x9a3+-0x1b04+-0x1*-0x24ab);this['addLightDa'+'taFlags'](_0x27191b,_0x2e2122+(-0x5*0x173+0x333+0x82*0x8)*Sr['FLAGS'],_0x395938,_0x110bea,_0x30dc69,_0x395938['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x27191b,_0x2e2122+(-0x1c38+0x2196*-0x1+0x3dd2)*Sr['COLOR_A'],_0x395938,_0x3ff740),_0x110bea&&this['addLightDa'+'taSpotAngl'+'es'](_0x27191b,_0x2e2122+(0x1*-0x3d7+0x1de+0x1*0x1fd)*Sr['SPOT_ANGLE'+'S'],_0x395938),_0x395938['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x27191b,_0x2e2122+(0x1eda+0x88a+-0x1e*0x150)*Sr['SHADOW_BIA'+'S'],_0x395938),_0x3ff740&&this['addLightDa'+'taCookies'](_0x27191b,_0x2e2122+(-0x1ec5+0x1c1b+0x2ae)*Sr['COOKIE_A'],_0x395938);const _0x1b83ab=this['lightsFloa'+'t'],_0x586358=_0x33ebeb*this['lightsText'+'ureFloat']['width']*(-0x31*0x73+0x1892+-0x28b);if(_0x1b83ab[_0x586358+(0x1*0x127f+-0x1*0x164c+0x1*0x3d1)*lt['POSITION_R'+'ANGE']+(-0x70*0xb+0x1fea+-0x1b1a)]=_0x5c8b11['x'],_0x1b83ab[_0x586358+(0xa6b+0xe3a+0x61*-0x41)*lt['POSITION_R'+'ANGE']+(-0x65*0x29+-0x4f2*-0x5+-0x88c)]=_0x5c8b11['y'],_0x1b83ab[_0x586358+(-0x1*-0x18f6+-0x1a17*-0x1+-0x3309)*lt['POSITION_R'+'ANGE']+(0x1*0xc37+0x17ce+0x15*-0x1b7)]=_0x5c8b11['z'],_0x1b83ab[_0x586358+(0x1*-0x222b+-0x66e+-0x289d*-0x1)*lt['POSITION_R'+'ANGE']+(-0x1*-0x2600+0x25*0xb5+0xa1*-0x66)]=_0x395938['attenuatio'+'nEnd'],_0x110bea&&(this['getSpotDir'+'ection'](Zt,_0x395938),_0x1b83ab[_0x586358+(-0x1475+-0x2119+0x3592)*lt['SPOT_DIREC'+'TION']+(-0x703+0x30b*-0xb+0x287c)]=Zt['x'],_0x1b83ab[_0x586358+(-0x12b*-0x1+-0x708+-0xd7*-0x7)*lt['SPOT_DIREC'+'TION']+(0xe3*0x17+-0x1ac4+0x660)]=Zt['y'],_0x1b83ab[_0x586358+(-0x769*0x2+-0xa79*0x1+0x194f)*lt['SPOT_DIREC'+'TION']+(0x1dbb+-0x16ad+-0x70c)]=Zt['z']),_0x6403ae){const _0x3c0ca9=_0x6403ae['data'];for(let _0x34e6d2=-0x25f+-0x9*0x8b+0x742;_0x34e6d2<0x1e82+0x1e7e+-0x3cf0;_0x34e6d2++)_0x1b83ab[_0x586358+(0x1*0x1fff+0x1c9f*0x1+-0x3c9a)*lt['PROJ_MAT_0']+_0x34e6d2]=_0x3c0ca9[_0x34e6d2];}if(_0xd39ccd&&(_0x1b83ab[_0x586358+(0x10a8+-0x1e*-0x6a+-0x1d10)*lt['ATLAS_VIEW'+'PORT']+(0x4eb*-0x7+0x74+0x21f9)]=_0xd39ccd['x'],_0x1b83ab[_0x586358+(0x1e99+0x17f1+-0x3686)*lt['ATLAS_VIEW'+'PORT']+(-0x1*0x169d+0x7*-0x11a+-0xc*-0x287)]=_0xd39ccd['y'],_0x1b83ab[_0x586358+(-0x2248+-0x86*0x2c+-0x98e*-0x6)*lt['ATLAS_VIEW'+'PORT']+(0x257e+-0x160*0x7+-0x1bdc)]=_0xd39ccd['z']/(0x19ab*-0x1+-0x10*0x21a+0x3b4e)),_0x57a80d){const _0x557bb5=this['getLightAr'+'eaSizes'](_0x395938);_0x1b83ab[_0x586358+(-0x256a+0x7*0xaa+0x20c8)*lt['AREA_DATA_'+'WIDTH']+(0x1*-0x226f+-0xb*-0x353+-0x222)]=_0x557bb5[0xa0e+-0x200e+0x1600],_0x1b83ab[_0x586358+(-0xa2f+-0x1*-0x19ab+-0xf78)*lt['AREA_DATA_'+'WIDTH']+(0xd5*-0xf+-0x2*-0xb76+-0xa70)]=_0x557bb5[0x2*0x418+0x1*-0x2249+-0x202*-0xd],_0x1b83ab[_0x586358+(-0x1896+0x2*0x8f5+0x6b0)*lt['AREA_DATA_'+'WIDTH']+(-0x1774+0x1384+0x3f2)]=_0x557bb5[0x17*0x1a3+0x168b+-0x3c2e],_0x1b83ab[_0x586358+(-0x2*-0x6f7+0x26*-0x83+-0x6*-0xec)*lt['AREA_DATA_'+'HEIGHT']+(-0x1539*-0x1+0x1*-0x1e1a+0x8e1*0x1)]=_0x557bb5[-0x62c+0x121f*0x1+-0xbf0],_0x1b83ab[_0x586358+(0x55*0x55+-0x73a*-0x3+-0x31e3)*lt['AREA_DATA_'+'HEIGHT']+(0x342+0x35d+-0x69e)]=_0x557bb5[-0xb61+-0x1005+0x1b6a],_0x1b83ab[_0x586358+(0xe47+-0x4*0x35+0xb5*-0x13)*lt['AREA_DATA_'+'HEIGHT']+(-0x17cd+-0x1915+0x30e4)]=_0x557bb5[-0x91*-0x1+-0x1ec9*-0x1+-0x1f55];}}}const Ml=new T(),Pl=new T(),Rl=new T(),bd=new _e(),r_=-0x2*-0xaf1+0x1567*-0x1+-0x3*0x29+0.000001,n_=-0x222*0xd+-0x1*-0x18d6+-0x34*-0x5d;class a_{constructor(){this['light']=null,this['min']=new T(),this['max']=new T();}}class zu{constructor(_0x2f812e){c(this,'clusterTex'+'ture'),(this['device']=_0x2f812e,this['name']='Untitled',this['reportCoun'+'t']=-0x1c76*-0x1+0x1c11+-0x3887,this['boundsMin']=new T(),this['boundsMax']=new T(),this['boundsDelt'+'a']=new T(),this['_cells']=new T(0x1b6e+0x2*-0x699+-0xe3b,-0x9*0x4b+0x1*0x593+0x2ef*-0x1,-0x1e65+0x2c*0x31+0x15fa),this['_cellsLimi'+'t']=new T(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x421+-0x1901+0x1d26,this['_maxAttenu'+'ation']=-0x1bc1*0x1+0x3*-0xc2f+0x404e,this['_maxColorV'+'alue']=-0x1454*-0x1+0x26ce+0x57*-0xae,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new a_()),this['lightsBuff'+'er']=new E0(_0x2f812e),this['registerUn'+'iforms'](_0x2f812e));}set['maxCellLig'+'htCount'](_0x19437b){_0x19437b!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x19437b,this['_cellsDirt'+'y']=!(-0x1*-0x3a3+-0x7*0x1c1+0x8a4));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x2a2d34){Ml['copy'](_0x2a2d34)['floor'](),this['_cells']['equals'](Ml)||(this['_cells']['copy'](Ml),this['_cellsLimi'+'t']['copy'](Ml)['sub'](T['ONE']),this['_cellsDirt'+'y']=!(-0x8*0x31d+-0x15f0+0x2ed8));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x32bf12){this['_clusterSk'+'ipId']=_0x32bf12['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x32bf12['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x32bf12['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x32bf12['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x3*0x7c4+0x1*-0x629+0x89*-0x20),this['_clusterBo'+'undsMinId']=_0x32bf12['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0x1ca5*0x1+-0x1761+0x4bb*0xb),this['_clusterBo'+'undsDeltaI'+'d']=_0x32bf12['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x1*-0x1ba7+-0x1aed+0x3697),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x32bf12['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(-0x7c5+0x10*0x31+0x4b8*0x1),this['_clusterCe'+'llsDotId']=_0x32bf12['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x1943+0x9+-0x1*0x1949),this['_clusterCe'+'llsMaxId']=_0x32bf12['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x1207+0x29*0x17+0xe5b),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x32bf12['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(-0x15f7*-0x1+0xb9+-0x16ae);}['updatePara'+'ms'](_0x2a8137){_0x2a8137&&(this['cells']=_0x2a8137['cells'],this['maxCellLig'+'htCount']=_0x2a8137['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x2a8137['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x2a8137['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x2a8137['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0x229e+-0x1*0x1652+-0x419*0x3);const _0x44194c=this['_cells']['x'],_0x52d46d=this['_cells']['y'],_0x14c45c=this['_cells']['z'],_0x3eedba=_0x44194c*_0x52d46d*_0x14c45c,_0x5ce608=this['maxCellLig'+'htCount']*_0x3eedba;let _0x30a594=Math['ceil'](Math['sqrt'](_0x5ce608));_0x30a594=N['roundUp'](_0x30a594,this['maxCellLig'+'htCount']);const _0x1cbda8=Math['ceil'](_0x5ce608/_0x30a594);v['assert'](_0x30a594<=n_&&_0x1cbda8<=n_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][0x10*0x1+0x2*-0x426+0x83c]=_0x44194c,this['_clusterCe'+'llsMaxData'][-0xb39+0x265a+-0x1b20]=_0x52d46d,this['_clusterCe'+'llsMaxData'][0x1b64*0x1+0x24b7+-0x4019]=_0x14c45c,this['_clusterCe'+'llsDotData'][-0xd69+-0x2682+0x33eb]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x1f9d+-0x347*-0xb+-0x46f]=_0x44194c*_0x14c45c*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x565+0x256f*-0x1+0x2*0x156b]=_0x44194c*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x5ce608),this['counts']=new Int32Array(_0x3eedba),this['_clusterTe'+'xtureSizeD'+'ata'][-0xadc+-0xffd*0x1+0x1ad9]=_0x30a594,this['_clusterTe'+'xtureSizeD'+'ata'][0x1c2+-0x1a*-0x14e+-0x23ad]=(0x13*0x146+0x10f1+-0x2922)/_0x30a594,this['_clusterTe'+'xtureSizeD'+'ata'][-0x1849+-0x19f+0x19ea]=(0x48+0x2*-0x10b4+-0xb*-0x303)/_0x1cbda8,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x30a594,_0x1cbda8,sp,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x1ce9+0x1be2+0x2c*0x6?-0x11bb+-0x195d*0x1+-0xc5*-0x38:-0x21c9+0x1bb8*0x1+0x206*0x3),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x29fd4a=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x2003+0xa2e*-0x2+0x345f*0x1]=this['_cells']['x']/_0x29fd4a['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0xf9e+0x25b+0xd44]=this['_cells']['y']/_0x29fd4a['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0xd*-0x239+0x1f22+-0x1*0x23b]=this['_cells']['z']/_0x29fd4a['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x1d94+0xa9f*0x3+-0x1*0x249]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][0x7*0x56d+-0x1b1+-0x2449]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x2353+0x1b1e+-0x3e6f]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x845*0x1+-0x1*0xcce+0x489]=_0x29fd4a['x'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x9*-0x3df+0x11de+-0xd2d*0x4]=_0x29fd4a['y'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x1*-0xd72+-0x2*-0x12e1+-0x3332]=_0x29fd4a['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0xd33+-0xee*-0xe+0x1*0x2f]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0x293+-0x1b3+0xf*0x49]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x2c0f7b,_0x588600,_0x5a1793){_0x588600['copy'](_0x2c0f7b['min']),_0x588600['sub'](this['boundsMin']),_0x588600['div'](this['boundsDelt'+'a']),_0x588600['mul2'](_0x588600,this['cells']),_0x588600['floor'](),_0x5a1793['copy'](_0x2c0f7b['max']),_0x5a1793['sub'](this['boundsMin']),_0x5a1793['div'](this['boundsDelt'+'a']),_0x5a1793['mul2'](_0x5a1793,this['cells']),_0x5a1793['ceil'](),_0x588600['max'](T['ZERO']),_0x5a1793['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x425f9f){const _0x576f9e=this['lightsBuff'+'er']['maxLights'],_0x17ccc3=this['_usedLight'+'s'];let _0x11b3c1=0x2456+-0x1627+0x4ba*-0x3;_0x425f9f['forEach'](_0x34d055=>{const _0x10ee35=!!(_0x34d055['mask']&(hs|cr)),_0xf4d029=_0x34d055['type']===Re&&_0x34d055['_outerCone'+'Angle']===-0x38*0x2+-0x1e24+-0xf4a*-0x2;if(_0x34d055['enabled']&&_0x34d055['type']!==oe&&_0x34d055['visibleThi'+'sFrame']&&_0x34d055['intensity']>0x1*-0x20d3+0x5*-0x131+0x26c8*0x1&&_0x10ee35&&!_0xf4d029){if(_0x11b3c1<_0x576f9e){let _0x56cfdc;_0x11b3c1<_0x17ccc3['length']?_0x56cfdc=_0x17ccc3[_0x11b3c1]:(_0x56cfdc=new a_(),_0x17ccc3['push'](_0x56cfdc)),_0x56cfdc['light']=_0x34d055,_0x34d055['getBoundin'+'gBox'](bd),_0x56cfdc['min']['copy'](bd['getMin']()),_0x56cfdc['max']['copy'](bd['getMax']()),_0x11b3c1++;}else v['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x576f9e-(-0x5*-0x53d+-0x2533+0xb03*0x1))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x17ccc3['length']=_0x11b3c1;}['evaluateBo'+'unds'](){const _0x559a9b=this['_usedLight'+'s'],_0x38557e=this['boundsMin'],_0x1aa312=this['boundsMax'];if(_0x559a9b['length']>-0x1*0x4bd+-0x155*0xf+0x18b9){_0x38557e['copy'](_0x559a9b[-0x212*0x1+-0x185d+0x1a70]['min']),_0x1aa312['copy'](_0x559a9b[0xe83+0x1f*0x115+0x1*-0x300d]['max']);for(let _0x11d68a=0x12d9+-0x1*-0x16cf+0x6f1*-0x6;_0x11d68a<_0x559a9b['length'];_0x11d68a++)_0x38557e['min'](_0x559a9b[_0x11d68a]['min']),_0x1aa312['max'](_0x559a9b[_0x11d68a]['max']);}else _0x38557e['set'](-0x11c3+0x241+-0x18d*-0xa,-0x2*0x490+-0x657+0x6b*0x25,0x461+0x27*0xf4+-0x298d*0x1),_0x1aa312['set'](0x16df+0x1*-0xb99+-0xb45,-0x154a+0xb7e*-0x2+0x2c47,0x1*0x1d+-0xe23+0x85*0x1b);this['boundsDelt'+'a']['sub2'](_0x1aa312,_0x38557e),this['lightsBuff'+'er']['setBounds'](_0x38557e,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x4b2864=0x1*0x83f+0xce2+-0x1521,_0x233525=0x5*-0x786+0x999+0x1c05;const _0x19bcfd=this['_usedLight'+'s'];for(let _0x1a0261=-0x1fde+-0x47d*0x3+0x2d56;_0x1a0261<_0x19bcfd['length'];_0x1a0261++){const _0x1a5215=_0x19bcfd[_0x1a0261]['light'];_0x4b2864=Math['max'](_0x1a5215['attenuatio'+'nEnd'],_0x4b2864);const _0x4609b2=_0x1a5215['_colorLine'+'ar'];_0x233525=Math['max'](_0x4609b2[-0x1*-0x19db+0x2140+-0x1*0x3b1b],_0x233525),_0x233525=Math['max'](_0x4609b2[-0x13f9+-0x17c*-0x5+0xc8e],_0x233525),_0x233525=Math['max'](_0x4609b2[0x1*-0x1f67+-0x15fe+0x3567],_0x233525);}this['_maxAttenu'+'ation']=_0x4b2864+r_,this['_maxColorV'+'alue']=_0x233525+r_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x2bc2e4){this['counts']['fill'](-0x3*0x657+0x1370+-0x6b*0x1),this['clusters']['fill'](0x1cf+-0xf34+-0x3*-0x477),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x2bc2e4?_0x2bc2e4['areaLights'+'Enabled']:!(-0xc34+0x74c*-0x5+0x9*0x569);const _0x31d639=this['_cells']['x'],_0x165e29=this['_cells']['z'],_0x229b9e=this['counts'],_0x380163=this['_maxCellLi'+'ghtCount'],_0x3815ad=this['clusters'],_0x5bbc1b=this['maxCellLig'+'htCount'];let _0x527c75=!(0xb*0x49+-0x1437+0x1115);const _0x4bc4a2=this['_usedLight'+'s'];for(let _0x5e1e03=0xb*-0x1ed+-0x13e5+0x2915;_0x5e1e03<_0x4bc4a2['length'];_0x5e1e03++){const _0x1ae9cd=_0x4bc4a2[_0x5e1e03],_0x3a780c=_0x1ae9cd['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x3a780c,_0x5e1e03),this['evalLightC'+'ellMinMax'](_0x1ae9cd,Pl,Rl);const _0x59146a=Pl['x'],_0x27bb74=Rl['x'],_0x3b3f75=Pl['y'],_0x3c8a45=Rl['y'],_0x2aed43=Pl['z'],_0x2ed0d5=Rl['z'];for(let _0x416a01=_0x59146a;_0x416a01<=_0x27bb74;_0x416a01++)for(let _0x2798c6=_0x2aed43;_0x2798c6<=_0x2ed0d5;_0x2798c6++)for(let _0x9c6f5=_0x3b3f75;_0x9c6f5<=_0x3c8a45;_0x9c6f5++){const _0x1cec0d=_0x416a01+_0x31d639*(_0x2798c6+_0x9c6f5*_0x165e29),_0x314d79=_0x229b9e[_0x1cec0d];_0x314d79<_0x380163?(_0x3815ad[_0x5bbc1b*_0x1cec0d+_0x314d79]=_0x5e1e03,_0x229b9e[_0x1cec0d]=_0x314d79+(-0x6e3+0x2d0+-0x3*-0x15c)):_0x527c75=!(0x971*-0x1+0x2d*0x19+0x1*0x50c);}}_0x527c75&&this['reportCoun'+'t']<0x1a5f+0x485+-0x1edf&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x1cd3+0xba3+-0x2872?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x30b9af,_0x5f045c=null){this['updatePara'+'ms'](_0x5f045c),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x30b9af),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0x5f045c),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const o_=-0x21e7+0x21cf+0x1a+0.39996322972865306,ll={'circlePoint'(_0x156d49){const _0x4140fa=Math['sqrt'](Math['random']()),_0x5808e4=Math['random']()*(-0x3b9*-0x3+-0x55*0x1e+0x1*-0x133)*Math['PI'];_0x156d49['x']=_0x4140fa*Math['cos'](_0x5808e4),_0x156d49['y']=_0x4140fa*Math['sin'](_0x5808e4);},'circlePointDeterministic'(_0x1164df,_0x10dbe5,_0x34eca3){const _0x71463b=_0x10dbe5*o_,_0x22af9f=Math['sqrt'](_0x10dbe5)/Math['sqrt'](_0x34eca3);_0x1164df['x']=_0x22af9f*Math['cos'](_0x71463b),_0x1164df['y']=_0x22af9f*Math['sin'](_0x71463b);},'spherePointDeterministic'(_0x5ef58a,_0x5c4ef3,_0x4e409e,_0x3ba66d=-0x20dc+0x65*-0x29+0x3109,_0x49aeda=-0x4ae*0x7+0x2308+-0x245){_0x3ba66d=-0x15b9+-0x1c6e+-0x358*-0xf-(-0xb9+0x17d1*-0x1+0x188c)*_0x3ba66d,_0x49aeda=-0x1a5*0x10+0xa36+0x7*0x24d-(-0x4*0xb+0xd71+-0xd43)*_0x49aeda;const _0x3104b5=N['lerp'](_0x3ba66d,_0x49aeda,_0x5c4ef3/_0x4e409e),_0x56a8c5=Math['sqrt'](-0x25d4+0x2d*0x5d+0x157c-_0x3104b5*_0x3104b5),_0x8b7dd4=o_*_0x5c4ef3;_0x5ef58a['x']=Math['cos'](_0x8b7dd4)*_0x56a8c5,_0x5ef58a['y']=_0x3104b5,_0x5ef58a['z']=Math['sin'](_0x8b7dd4)*_0x56a8c5;},'radicalInverse'(_0x1b4f1a){let _0x507960=(_0x1b4f1a<<0x1738+-0x1*-0x2477+-0x3b9f|_0x1b4f1a>>>-0x1685*-0x1+0x159f+-0x2c14)>>>0x1380+0x19e1+0x1*-0x2d61;return _0x507960=((_0x507960&-0x98370bb7+0x2ffc5*0x2e0f+0x6369fe81)<<-0x12*0xa+-0x5*-0x6a+-0x1*0x15d|(_0x507960&-0x6cefdc88+-0xd*-0x122972f+0x108d8d9cf)>>>-0x5de*-0x6+0x364+-0x2697)>>>0x1*-0x761+0x203f+0x84a*-0x3,_0x507960=((_0x507960&0x63c534e8+0x83*0x5b0ed3+0x305*-0x1f8456)<<-0xc5c+0x1ccd+-0x7*0x259|(_0x507960&-0x15aa30c99+-0x1d68646f*-0x7+0x159951a5c)>>>-0x1bfd+0x43d+-0xbe1*-0x2)>>>-0x2526+0xb*-0x21f+0x3c7b,_0x507960=((_0x507960&-0x860c*0xad+-0x1*0x195e1310+-0x28c7b83b*-0x1)<<-0x1*-0xb57+0xc07*-0x1+0xb4|(_0x507960&-0x29*-0x5691af+-0x15199b825+-0x1644a*-0x195bb)>>>-0xc3*-0x13+-0x2*-0x500+-0x827*0x3)>>>0x2f3*0x7+0x151*-0x1b+0x1*0xee6,_0x507960=((_0x507960&0x1899a*0xbb+0xf57c0e+-0x115fe8d)<<-0x1c9*0x5+-0x1*-0x87c+-0x79*-0x1|(_0x507960&0x158506aa8+-0x1018ccc4f+0x1*0xa83d60a7)>>>0xd64+0x704+-0x20*0xa3)>>>-0x52*0x41+0x51d+-0x1*-0xfb5,_0x507960*(-0x15d3*0x1+-0x9b6+0x1f89+2.3283064365386963e-10);}},gC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},yC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Es{static['decodeFunc'](_0x1d6f22){return gC[_0x1d6f22]||'decodeGamm'+'a';}static['encodeFunc'](_0x5cb384){return yC[_0x5cb384]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x4c90d9,_0x9f4413){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x9f4413['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x4c90d9['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+X['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const l_=_0x42f0cb=>{switch(_0x42f0cb){case Au:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Il=(_0x2be88a,_0x18ac93,_0x11da7f)=>{if(_0x2be88a<=0x15*0x115+-0x129f+0x1e*-0x23)_0x18ac93[_0x11da7f+(-0x1686+0x14fe+0x188)]=-0x17c9*-0x1+0x1d14*-0x1+0x54b,_0x18ac93[_0x11da7f+(0x14*-0x91+-0x2*-0x6da+0x25f*-0x1)]=-0xac0+0x1e1d+-0x135d,_0x18ac93[_0x11da7f+(-0x1*0x15ce+-0x16b0+0x2c80)]=0x216c+0xfc8+-0x3134,_0x18ac93[_0x11da7f+(0x19c6+-0x7*-0x39+-0x21a*0xd)]=0x1*0x22d3+0x676+0x2949*-0x1;else{if(_0x2be88a>=0x1d58+0xb57*0x1+-0x28ae)_0x18ac93[_0x11da7f+(0x4f*0x5a+-0x200c+-0x446*-0x1)]=-0x219b+-0x1337+0x35d1,_0x18ac93[_0x11da7f+(0x368+-0x1d69*0x1+0x2*0xd01)]=0x11d7+-0x531*-0x1+0x86*-0x2c,_0x18ac93[_0x11da7f+(-0xe5*0x7+-0x8c*-0x6+0x2fd)]=0x2ab*0x9+0x575*-0x2+-0x7*0x1df,_0x18ac93[_0x11da7f+(0x1481+-0xc6+-0x8*0x277)]=0x1912*-0x1+0xa5*-0x1e+0x2c68;else{let _0x4f6ec3=(-0x1f9c+0x3*0x829+0x722*0x1)*_0x2be88a%(-0x851+-0xdf9+0x164b),_0x14f079=(-0x23b3+0x192f+-0x1*-0xb83)*_0x2be88a%(-0x836*-0x4+0x164*0x10+0x61f*-0x9),_0x17d57a=(-0x8391+-0x2e61*0x5+0x1*0x26977)*_0x2be88a%(0x17bf+-0x12d+-0x1691);const _0x5b0de0=(0x1*-0xbb5973+0x1283580+0x481379*0x2)*_0x2be88a%(0x1a8b+-0x1502+-0x588);_0x4f6ec3-=_0x14f079/(0xa33*0x1+-0x172f+-0xdfb*-0x1),_0x14f079-=_0x17d57a/(0x2*0xa25+0xe*0x77+0x1*-0x19cd),_0x17d57a-=_0x5b0de0/(0x27*-0x57+-0x1031+0x1e71),_0x18ac93[_0x11da7f+(-0x1226+0x1be2+0xb2*-0xe)]=Math['min'](-0x724+-0x35b*-0x5+-0x8a4,Math['floor'](_0x4f6ec3*(0x10e7+0x2384+-0x336b))),_0x18ac93[_0x11da7f+(-0xf11+0x285+0xc8d)]=Math['min'](0x1bf+0xa86+-0x25*0x4e,Math['floor'](_0x14f079*(0x1*-0x2219+-0xf13+-0x26*-0x152))),_0x18ac93[_0x11da7f+(-0x1918+-0x73c+-0x1*-0x2056)]=Math['min'](0x4f*0x7a+0x47a+-0x2921,Math['floor'](_0x17d57a*(-0x1abc+-0x1*-0x1562+-0x1*-0x65a))),_0x18ac93[_0x11da7f+(-0x1244+-0x2111+0x3358)]=Math['min'](0xdb7*0x2+-0x64f+0x20*-0xa1,Math['floor'](_0x5b0de0*(0xb47+-0x1912+-0x21d*-0x7)));}}},xC=_0x3ab1d9=>{const _0x4205fc=_0x3ab1d9['length'],_0x310a96=Math['min'](_0x4205fc,0x796*0x4+-0x6d8+-0x1580),_0x26f415=Math['ceil'](_0x4205fc/_0x310a96),_0x25b084=new Uint8Array(_0x310a96*_0x26f415*(0x1c*0x60+-0x28d+-0x7ef));let _0x208a98=0x11bd+-0x24a+-0xf73;for(let _0x5999f8=-0x9*0xc7+-0x2*0xccb+0x2095;_0x5999f8<_0x4205fc;_0x5999f8+=-0x25eb+0x1880+0x1*0xd6f)Il(_0x3ab1d9[_0x5999f8+(0x1bf5*-0x1+0x1fc+0x19f9)]*(0x3d9+-0x10af*-0x1+-0x1488+0.5)+(-0x1*0x1709+0x1ee6+-0x7dd+0.5),_0x25b084,_0x208a98+(0x13b1+0x2*0xffc+-0x211*0x19)),Il(_0x3ab1d9[_0x5999f8+(0x1c40+0x7b*-0x35+-0x2*0x164)]*(0x17b*0x2+0x1d20+-0x3*0xab2+0.5)+(-0xbe9+-0xa16*0x2+0x2015+0.5),_0x25b084,_0x208a98+(0x3*-0x4c5+0xdbe+0x95)),Il(_0x3ab1d9[_0x5999f8+(0xca1*0x1+0x9bd+-0xb2e*0x2)]*(-0xc8c+0xf75+0x95*-0x5+0.5)+(-0x731*-0x1+0x35a*-0x2+-0x7d+0.5),_0x25b084,_0x208a98+(0x2af*0x5+0x2e5*-0xd+0x183e)),Il(_0x3ab1d9[_0x5999f8+(-0x228*-0xb+-0x1529+-0x28c)]/(0x1f73*0x1+-0x9a3+-0x15c8),_0x25b084,_0x208a98+(0x26da+-0xe*-0x7b+-0x2d88)),_0x208a98+=0x1b93+0xe3*-0xa+-0x12a5;return{'width':_0x310a96,'height':_0x26f415,'data':_0x25b084};},SC=(_0x2a3689,_0x3fd4b2,_0x28da6e,_0x52d26a)=>{const _0x2c237d=_0x28da6e*(0x7f6*0x1+-0x1640+-0x5*-0x2dc)*Math['PI'],_0x3f5ac3=Math['pow'](0x1aec*-0x1+0x21a5+0xa*-0xac-_0x3fd4b2,(-0x1068+-0x24d8+0x3541)/(_0x52d26a+(-0xbcc+-0xb4f*-0x3+0x2c4*-0x8))),_0x2f4982=Math['sqrt'](0x1*-0x24af+0x1fa+0x22b6-_0x3f5ac3*_0x3f5ac3);_0x2a3689['set'](Math['cos'](_0x2c237d)*_0x2f4982,Math['sin'](_0x2c237d)*_0x2f4982,_0x3f5ac3)['normalize']();},vC=(_0x48bb1c,_0x35e52b,_0x3db5f3)=>{const _0x22ca5d=_0x3db5f3*(0x4c*-0x12+-0x30*0x6b+-0x1*-0x196a)*Math['PI'],_0x5b45ab=Math['sqrt'](-0x7*-0x21d+0x1*0x2593+-0x23*0x17f-_0x35e52b),_0xd71e86=Math['sqrt'](_0x35e52b);_0x48bb1c['set'](Math['cos'](_0x22ca5d)*_0xd71e86,Math['sin'](_0x22ca5d)*_0xd71e86,_0x5b45ab)['normalize']();},bC=(_0x18b4c0,_0x1d72b3,_0x2b3a3c,_0x4f1066)=>{const _0x45fdd9=_0x2b3a3c*(-0x3*-0x60f+-0x7c8+0x1*-0xa63)*Math['PI'],_0x4bfa97=Math['sqrt']((0x391+-0xe71+0xae1-_0x1d72b3)/(-0x1690+0x4e2+0x11af+(_0x4f1066*_0x4f1066-(0x7b0+-0x181f+0x1070))*_0x1d72b3)),_0x4bcc72=Math['sqrt'](-0xe3c+0x1417+-0xe*0x6b-_0x4bfa97*_0x4bfa97);_0x18b4c0['set'](Math['cos'](_0x45fdd9)*_0x4bcc72,Math['sin'](_0x45fdd9)*_0x4bcc72,_0x4bfa97)['normalize']();},wC=(_0x33c2c6,_0x2e4f53)=>{const _0x4a5484=_0x33c2c6*_0x2e4f53,_0x4e60e4=_0x2e4f53/(0x1d8*-0xa+-0x23d9+-0x1b25*-0x2-_0x33c2c6*_0x33c2c6+_0x4a5484*_0x4a5484);return _0x4e60e4*_0x4e60e4*((0x1a2f+0x1f1*-0x13+0xab5*0x1)/Math['PI']);},TC=(_0x3f7dbf,_0x5c7918)=>{const _0x4c1ae8=new T(),_0x21ef44=[];for(let _0x17db77=0xb2+-0x11c3*0x2+0x2e7*0xc;_0x17db77<_0x3f7dbf;++_0x17db77)SC(_0x4c1ae8,_0x17db77/_0x3f7dbf,ll['radicalInv'+'erse'](_0x17db77),_0x5c7918),_0x21ef44['push'](_0x4c1ae8['x'],_0x4c1ae8['y'],_0x4c1ae8['z'],-0xf92*0x1+-0x10ca*-0x2+-0x1202);return _0x21ef44;},AC=(_0x5c2e68,_0x5a3e7c)=>{const _0x4c9f24=_0x5a3e7c/_0x5c2e68,_0x2a6d91=new T(),_0x23d36c=[];for(let _0x159d12=-0x22ae+0x1ba1*-0x1+0x27*0x199;_0x159d12<_0x5c2e68;++_0x159d12){vC(_0x2a6d91,_0x159d12/_0x5c2e68,ll['radicalInv'+'erse'](_0x159d12));const _0x2ee707=_0x2a6d91['z']/Math['PI'],_0x594f60=(-0xf16*-0x1+-0x2028*-0x1+-0x2f3e+0.5)*Math['log2'](_0x4c9f24/_0x2ee707);_0x23d36c['push'](_0x2a6d91['x'],_0x2a6d91['y'],_0x2a6d91['z'],_0x594f60);}return _0x23d36c;},EC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},CC=(_0x7b6f94,_0x5efb30)=>{const _0x450152=EC[_0x7b6f94];return _0x450152&&_0x450152[_0x5efb30]||_0x7b6f94;},MC=(_0x2e6518,_0x32380f,_0x55c9ac)=>{const _0x2a3b39=_0x55c9ac/_0x2e6518,_0x21d116=0x5*-0x1b+0xb1d+-0xa95-Math['log2'](_0x32380f)/(0x5ed*0x1+0x1d31+-0x2313),_0x4a374c=_0x21d116*_0x21d116,_0x2e7c70=new T(),_0x16017d=new T(),_0x1c1d7d=new T(-0x64a+0x103+0x547,0x3d9+-0x19a6+0x1*0x15cd,-0x3c9+-0x9c+0x466),_0x428e9d=[],_0x30c826=CC(_0x2e6518,_0x32380f);for(let _0x2f9aaa=0x1c96+-0x2488+-0x7f2*-0x1;_0x2f9aaa<_0x30c826;++_0x2f9aaa){bC(_0x2e7c70,_0x2f9aaa/_0x30c826,ll['radicalInv'+'erse'](_0x2f9aaa),_0x4a374c);const _0x4573eb=_0x2e7c70['z'];if(_0x16017d['set'](_0x2e7c70['x'],_0x2e7c70['y'],_0x2e7c70['z'])['mulScalar']((-0x200f+-0x142b*0x1+0x343c*0x1)*_0x4573eb)['sub'](_0x1c1d7d),_0x16017d['z']>0x2414+-0x109d+-0x3*0x67d){const _0x57690d=wC(Math['min'](0x5*0xd5+-0x2*0x7cd+-0xa*-0x125,_0x4573eb),_0x4a374c)/(0x929+0x1087+-0x19ac)+(0xd69+0x51*0x5c+0x2a85*-0x1+0.001),_0x334f36=(0x265*0xb+0x2*0x80f+0x2a75*-0x1+0.5)*Math['log2'](_0x2a3b39/_0x57690d);_0x428e9d['push'](_0x16017d['x'],_0x16017d['y'],_0x16017d['z'],_0x334f36);}}for(;_0x428e9d['length']<_0x2e6518*(-0x1593+-0x1*0xc0d+0x21a4);)_0x428e9d['push'](-0x950+0x1eb+0x3*0x277,-0x881+0x2*-0xc11+0x20a3,0xd7*-0x26+-0x8d8+0x28c2,-0x1cb4+0x11+0x1ca3);return _0x428e9d;},PC=(_0x419405,_0x5ac1fe,_0x3076df)=>{const _0x3dc22a=xC(_0x3076df);return new he(_0x419405,{'name':_0x5ac1fe,'width':_0x3dc22a['width'],'height':_0x3dc22a['height'],'mipmaps':!(0x1d8*-0xf+0xf85+-0xc24*-0x1),'minFilter':de,'magFilter':de,'levels':[_0x3dc22a['data']]});};class C0{constructor(_0x267536=!(0xa81+0x9*0x2c5+0x38b*-0xa)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x267536;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x1b3d4c,_0xb5a853)=>{_0x1b3d4c['destroy']();});}['get'](_0x5f0113,_0x3689ea){if(!this['map']['has'](_0x5f0113)){const _0x49f712=_0x3689ea();return this['map']['set'](_0x5f0113,_0x49f712),_0x49f712;}return this['map']['get'](_0x5f0113);}}const RC=new C0(!(0x305*0xb+0x3c3+-0x24f9)),IC=new Ot(),Lp=(_0x4e71ed,_0x76e964,_0x2295e1)=>IC['get'](_0x4e71ed,()=>new C0())['get'](_0x76e964,()=>PC(_0x4e71ed,_0x76e964,RC['get'](_0x76e964,_0x2295e1))),DC=(_0xeefadb,_0x25f368,_0x54947c)=>{const _0x1e044e='lambert-sa'+'mples-'+_0x25f368+'-'+_0x54947c;return Lp(_0xeefadb,_0x1e044e,()=>AC(_0x25f368,_0x54947c));},LC=(_0x348fbf,_0x1f1206,_0xd1d350)=>{const _0x27f748='phong-samp'+'les-'+_0x1f1206+'-'+_0xd1d350;return Lp(_0x348fbf,_0x27f748,()=>TC(_0x1f1206,_0xd1d350));},FC=(_0x3f3db7,_0x554f95,_0x3f8630,_0x111fde)=>{const _0x329613='ggx-sample'+'s-'+_0x554f95+'-'+_0x3f8630+'-'+_0x111fde;return Lp(_0x3f3db7,_0x329613,()=>MC(_0x554f95,_0x3f8630,_0x111fde));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function Qs(_0x1cd2ad,_0x2e81fd,_0x400a65={}){var _0x51c181,_0x2592cf;v['assert'](_0x1cd2ad instanceof he&&_0x2e81fd instanceof he,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x1b9f1e=_0x400a65['seamPixels']??0x105+-0x2*0x9b8+0x126b,_0x53744e=(((_0x51c181=_0x400a65['rect'])==null?void(-0xffd+0xf*0xea+-0x35*-0xb):_0x51c181['z'])??_0x2e81fd['width'])-_0x1b9f1e*(0xde9+-0xf16+-0x12f*-0x1),_0x5cc3e7=(((_0x2592cf=_0x400a65['rect'])==null?void(0x1a*0x51+-0x23d*-0x1+-0xa77):_0x2592cf['w'])??_0x2e81fd['height'])-_0x1b9f1e*(-0x529*0x1+-0x2*-0x11a7+0x5*-0x607);if(_0x53744e<-0x2320+-0x2497+0x47b8||_0x5cc3e7<-0x1*0x1e7+0x77*0x31+-0x27*0x89)return!(0x1*-0x1fc5+-0x63*0xb+0x2407*0x1);const _0x501d85={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x5cb8c4=_0x400a65['hasOwnProp'+'erty']('specularPo'+'wer')?_0x400a65['specularPo'+'wer']:-0xf25+-0x28*0x1c+0x1*0x1386,_0x5c8978=_0x400a65['hasOwnProp'+'erty']('face')?_0x400a65['face']:null,_0xb28964=_0x400a65['hasOwnProp'+'erty']('distributi'+'on')?_0x400a65['distributi'+'on']:_0x5cb8c4===-0x21af+-0x16*-0x47+0x3*0x932?'none':'phong',_0x59e34a=_0x501d85[_0xb28964]||'reproject',_0x4ff3f6=_0x59e34a['startsWith']('prefilterS'+'amples'),_0x1bd288=Es['decodeFunc'](_0x1cd2ad['encoding']),_0x3e1dc5=Es['encodeFunc'](_0x2e81fd['encoding']),_0x5eb96d='sample'+l_(_0x1cd2ad['projection']),_0x14282f='getDirecti'+'on'+l_(_0x2e81fd['projection']),_0x116496=_0x400a65['hasOwnProp'+'erty']('numSamples')?_0x400a65['numSamples']:0x2eb*0x3+0x88f+-0xd50,_0x3a7b40=_0x59e34a+'_'+_0x1bd288+'_'+_0x3e1dc5+'_'+_0x5eb96d+'_'+_0x14282f+'_'+_0x116496,_0x204295=_0x1cd2ad['device'];let _0x27fbb2=ka(_0x204295)['getCachedS'+'hader'](_0x3a7b40);if(!_0x27fbb2){const _0x56076f='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x59e34a+'\x0a'+(_0x4ff3f6?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x1cd2ad['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x1bd288+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x3e1dc5+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x5eb96d+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x14282f+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x116496+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x116496))['toFixed'](0x1fac+0x205f*-0x1+0xb4)+'\x0a';_0x27fbb2=Is(_0x204295,OC,_0x56076f+'\x0a'+X['reprojectP'+'S'],_0x3a7b40);}G['pushGpuMar'+'ker'](_0x204295,'ReprojectT'+'exture'),_0x204295['setBlendSt'+'ate'](_t['NOBLEND']);const _0x2044a3=_0x204295['scope']['resolve'](_0x1cd2ad['cubemap']?'sourceCube':'sourceTex');v['assert'](_0x2044a3),_0x2044a3['setValue'](_0x1cd2ad);const _0x3671fe=_0x204295['scope']['resolve']('params'),_0x2d2fac=_0x204295['scope']['resolve']('uvMod');_0x1b9f1e>0x1be3+0x17f3+-0x33d6?_0x2d2fac['setValue']([(_0x53744e+_0x1b9f1e*(-0xce6+0x2*0x12fd+-0x2*0xc89))/_0x53744e,(_0x5cc3e7+_0x1b9f1e*(-0x2*-0x1cd+-0x1a3f+0x16a7))/_0x5cc3e7,-_0x1b9f1e/_0x53744e,-_0x1b9f1e/_0x5cc3e7]):_0x2d2fac['setValue']([0x617+-0x83*-0x2e+0x9e0*-0x3,0xc2d*0x3+0x1*0x1fa8+-0x442e,-0x17*-0x194+0xc42+0xa*-0x4db,0x2187+-0x23dd*0x1+0x256]);const _0x22f3ee=[0x1c6*-0xd+-0x1*-0xadd+0xc31,_0x2e81fd['width']*_0x2e81fd['height']*(_0x2e81fd['cubemap']?-0x2580+-0x6b*-0x3d+0xc07:0x1*-0x132d+-0x23a5+0x36d3),_0x1cd2ad['width']*_0x1cd2ad['height']*(_0x1cd2ad['cubemap']?-0x43*0x17+-0x761+0xd6c:0x1eee+-0x21d9+0x2ec)];if(_0x4ff3f6){const _0x2efbd8=_0x1cd2ad['width']*_0x1cd2ad['height']*(_0x1cd2ad['cubemap']?-0x3*-0xe5+-0x1d39*0x1+0x1a90:0x6f*0x17+-0x3*-0x288+-0x1190),_0x1fe95e=_0xb28964==='ggx'?FC(_0x204295,_0x116496,_0x5cb8c4,_0x2efbd8):_0xb28964==='lambert'?DC(_0x204295,_0x116496,_0x2efbd8):LC(_0x204295,_0x116496,_0x5cb8c4);_0x204295['scope']['resolve']('samplesTex')['setValue'](_0x1fe95e),_0x204295['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0xe4a+-0x1*-0x1ebe+-0x2d07)/_0x1fe95e['width'],(-0x915+-0x1*0x3ca+0xce0)/_0x1fe95e['height']]);}for(let _0x3d0ad4=0xb8+0x15*0x1ca+-0x264a;_0x3d0ad4<(_0x2e81fd['cubemap']?-0x1908+0x2136+-0x9*0xe8:-0x6fb*0x1+-0x2347+-0x15d*-0x1f);_0x3d0ad4++)if(_0x5c8978===null||_0x3d0ad4===_0x5c8978){const _0x371fc9=new pt({'colorBuffer':_0x2e81fd,'face':_0x3d0ad4,'depth':!(-0x38f+-0xa0d+0x29*0x55),'flipY':_0x204295['isWebGPU']});_0x22f3ee[-0x1073+0xc45+0x42e]=_0x3d0ad4,_0x3671fe['setValue'](_0x22f3ee),dn(_0x204295,_0x371fc9,_0x27fbb2,_0x400a65==null?void(-0x6ee+-0x15a0+0x1c8e*0x1):_0x400a65['rect']),_0x371fc9['destroy']();}return G['popGpuMark'+'er'](_0x204295),!(-0x1822+0x416*-0x4+-0x1d7*-0x16);}const wd=(_0x2c6562,_0x598ceb=0x58f*0x1+0x1a3*0x12+-0x2305)=>-0x5*0x4c1+-0xfd*-0x17+0x10b+Math['floor'](Math['log2'](Math['max'](_0x2c6562,_0x598ceb))),kC=_0x3c9463=>_0x3c9463['textureHal'+'fFloatRend'+'erable'],BC=_0x335640=>_0x335640['textureFlo'+'atRenderab'+'le'],NC=_0x3a719b=>kC(_0x3a719b)?Je:BC(_0x3a719b)?Ke:Se,zC=_0x262fbc=>Se,UC=(_0x3af55f,_0x4b2e1a,_0xbbb4e0,_0x194605)=>new he(_0x3af55f,{'name':'lighting-'+_0x4b2e1a,'cubemap':!(-0x6b*-0x23+-0x252b+-0x2*-0xb45),'width':_0x4b2e1a,'height':_0x4b2e1a,'format':_0xbbb4e0,'type':Io,'addressU':ae,'addressV':ae,'mipmaps':!(-0xfa7*-0x1+-0xe9c+-0x10a)});class M0{static['generateSk'+'yboxCubema'+'p'](_0x49f23d,_0x4f0b4b){const _0x480631=_0x49f23d['device'];G['pushGpuMar'+'ker'](_0x480631,'genSkyboxC'+'ubemap');const _0x59439c=UC(_0x480631,_0x4f0b4b||(_0x49f23d['cubemap']?_0x49f23d['width']:_0x49f23d['width']/(0x1925+0x5*-0x5b6+0x36d)),Se);return Qs(_0x49f23d,_0x59439c,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x480631),_0x59439c;}static['generateLi'+'ghtingSour'+'ce'](_0x503774,_0x198603){const _0x2ea9dc=_0x503774['device'];G['pushGpuMar'+'ker'](_0x2ea9dc,'genLightin'+'gSource');const _0x4c34ac=NC(_0x2ea9dc),_0x3c1813=(_0x198603==null?void(0x1*-0x26a1+-0xe02+-0x113*-0x31):_0x198603['target'])||new he(_0x2ea9dc,{'name':'lighting-s'+'ource','cubemap':!(-0x10c8+-0x1*-0x458+0x10*0xc7),'width':(_0x198603==null?void(0x2*-0x103f+0x1*0x1bf7+0x487):_0x198603['size'])||-0x8c+0x167e*-0x1+0x178a*0x1,'height':(_0x198603==null?void(-0x8ee+-0x1b43+0x73d*0x5):_0x198603['size'])||-0xe9*-0x22+-0x14ee+-0x984,'format':_0x4c34ac,'type':_0x4c34ac===Se?Io:Di,'addressU':ae,'addressV':ae,'mipmaps':!(-0x4db+0xceb*-0x2+0x1eb1)});return Qs(_0x503774,_0x3c1813,{'numSamples':_0x503774['mipmaps']?0x58+0x1e4c+-0x1ea3:-0xa6d+-0x3*-0x839+-0xa3e}),G['popGpuMark'+'er'](_0x2ea9dc),_0x3c1813;}static['generateAt'+'las'](_0x170922,_0x3b0fb4){const _0x281100=_0x170922['device'],_0x1b9e9b=zC();G['pushGpuMar'+'ker'](_0x281100,'genAtlas');const _0x1b85b8=(_0x3b0fb4==null?void(-0x6ad+0x133*0x4+-0x1e1*-0x1):_0x3b0fb4['target'])||new he(_0x281100,{'name':'envAtlas','width':(_0x3b0fb4==null?void(0x1*-0x97a+-0x1098+0x1a12):_0x3b0fb4['size'])||0x139*-0x2+0x53c+-0x1*0xca,'height':(_0x3b0fb4==null?void(0x223f+-0xc0a+-0x3*0x767):_0x3b0fb4['size'])||0x1aae+-0x1769+-0x145,'format':_0x1b9e9b,'type':Io,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0x5*0x147+-0x13f*0xc+-0x2*-0x449)});G['pushGpuMar'+'ker'](_0x281100,'mipmaps');const _0x36ad01=_0x1b85b8['width']/(0x17*-0x11b+0x7d*0x11+0x1320),_0xd13344=new Q(0x1179+0x194*-0x13+0xc83,0xb*0x335+0x3*0x3c5+-0x2e96,(-0xd*-0x141+0x19b+-0xfe8*0x1)*_0x36ad01,(-0x14f*0x1c+-0x175*-0x5+0x1e5b)*_0x36ad01),_0x56bd38=wd(0x1385+0x44+-0x12c9)-wd(-0xbb4*-0x2+0x5da*-0x2+-0x58*0x22);for(let _0x35e67e=-0x3*-0x7b4+-0x17*0x121+0x2db;_0x35e67e<_0x56bd38;++_0x35e67e)Qs(_0x170922,_0x1b85b8,{'numSamples':0x1,'rect':_0xd13344,'seamPixels':_0x36ad01}),_0xd13344['x']+=_0xd13344['w'],_0xd13344['y']+=_0xd13344['w'],_0xd13344['z']=Math['max'](0x121d+-0x1*0x4eb+-0x1*0xd31,Math['floor'](_0xd13344['z']*(0x140c+-0x3*-0xb29+0x47*-0xc1+0.5))),_0xd13344['w']=Math['max'](0x167e+-0x34*0x5e+0xb*-0x4f,Math['floor'](_0xd13344['w']*(-0x1689*0x1+0x2549+-0xec0+0.5)));G['popGpuMark'+'er'](_0x281100),G['pushGpuMar'+'ker'](_0x281100,'reflection'+'s'),_0xd13344['set'](-0x120b+0x134f*-0x1+0x255a,(-0x15da+-0x1c6e+0xc*0x446)*_0x36ad01,(0x2403+-0x1b3e+-0x7c5)*_0x36ad01,(0x921+0xfe4+-0x1*0x1885)*_0x36ad01);for(let _0x44640b=-0x12b0+-0x1f0+0x14a1;_0x44640b<0x4+0x1b5*-0x9+0xf60;++_0x44640b)Qs(_0x170922,_0x1b85b8,{'numSamples':(_0x3b0fb4==null?void(0x45c*-0x8+0x285+0x21*0xfb):_0x3b0fb4['numReflect'+'ionSamples'])||-0x46f*-0x1+0x158e*-0x1+-0x1*-0x151f,'distribution':(_0x3b0fb4==null?void(0x2639*0x1+-0xb19+-0x3e0*0x7):_0x3b0fb4['distributi'+'on'])||'ggx','specularPower':Math['max'](0xf2*0x5+0x2695+-0x2b4e,-0x15*0x8+-0x135*-0x3+0x1*0x509>>_0x44640b*(0x5c2*0x4+0x5f2+-0x1cf8*0x1)),'rect':_0xd13344,'seamPixels':_0x36ad01}),_0xd13344['y']+=_0xd13344['w'],_0xd13344['z']=Math['max'](-0x1d3d+-0x202+0x1f40,Math['floor'](_0xd13344['z']*(0x239d*-0x1+0x1df1+0x5ac+0.5))),_0xd13344['w']=Math['max'](0xc81+-0x4e*0x11+-0x752,Math['floor'](_0xd13344['w']*(-0x1875+-0x1*-0xf86+-0x8ef*-0x1+0.5)));return G['popGpuMark'+'er'](_0x281100),G['pushGpuMar'+'ker'](_0x281100,'ambient'),_0xd13344['set']((-0x53b+0xed*0x1b+-0x89*0x24)*_0x36ad01,(0x3*-0x520+-0x9b3+0x1*0x1a93)*_0x36ad01,(-0x25b9+-0x1af5*0x1+-0x2*-0x2077)*_0x36ad01,(0x1d20+-0x1519+-0x7e7)*_0x36ad01),Qs(_0x170922,_0x1b85b8,{'numSamples':(_0x3b0fb4==null?void(-0x1a3*0xd+0xe4f+0x6f8):_0x3b0fb4['numAmbient'+'Samples'])||-0xf08+-0x2533+0x1*0x3c3b,'distribution':'lambert','rect':_0xd13344,'seamPixels':_0x36ad01}),G['popGpuMark'+'er'](_0x281100),G['popGpuMark'+'er'](_0x281100),_0x1b85b8;}static['generatePr'+'efilteredA'+'tlas'](_0x28e0c2,_0x4324d6){const _0x59b501=_0x28e0c2[-0x1db4+-0x73+-0x5d*-0x53]['device'],_0x1b8cb2=_0x28e0c2[0x1*0x25d8+0x4c*-0xc+-0x2248]['format'],_0x99e2df=_0x28e0c2[0x1ff9+-0x6be+0x869*-0x3]['type'];G['pushGpuMar'+'ker'](_0x59b501,'genPrefilt'+'eredAtlas');const _0x309663=(_0x4324d6==null?void(-0x34d*-0xb+-0x677*-0x1+0x1b6*-0x19):_0x4324d6['target'])||new he(_0x59b501,{'name':'envPrefilt'+'eredAtlas','width':(_0x4324d6==null?void(-0x3*-0x183+0x1fe1*-0x1+0x1b58):_0x4324d6['size'])||-0x58c+0x95*-0x7+-0x7*-0x1a9,'height':(_0x4324d6==null?void(-0x42b*-0x8+-0x6a+-0x20ee):_0x4324d6['size'])||0x814+0x67+-0x67b,'format':_0x1b8cb2,'type':_0x99e2df,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(-0x10f7+-0x2*-0x891+0x6*-0x7)});G['pushGpuMar'+'ker'](_0x59b501,'mipmaps');const _0x441523=_0x309663['width']/(0x1df8+-0x4cd*0x3+0x17*-0x97),_0x18aae9=new Q(0xcbe+-0x24e7+-0x1829*-0x1,-0x655+-0x1d6d+-0x2e*-0xc7,(-0xb*-0x35f+0x331+0x47*-0x8a)*_0x441523,(-0x1c91+-0x67*-0xc+-0x83f*-0x3)*_0x441523),_0x67ece0=wd(0x171e+0x3ab+-0x1b*0xeb);for(let _0x2f1f74=0x1*0x12e1+-0x1df7+-0x6*-0x1d9;_0x2f1f74<_0x67ece0;++_0x2f1f74)Qs(_0x28e0c2[-0xb76+-0x41b+0x1*0xf91],_0x309663,{'numSamples':0x1,'rect':_0x18aae9,'seamPixels':_0x441523}),_0x18aae9['x']+=_0x18aae9['w'],_0x18aae9['y']+=_0x18aae9['w'],_0x18aae9['z']=Math['max'](0xeca+-0x1*-0x1e17+-0x2ce0,Math['floor'](_0x18aae9['z']*(-0xa*0x19b+0x913+-0x1*-0x6fb+0.5))),_0x18aae9['w']=Math['max'](0xd3f+-0x3*0x3cd+-0x3*0x9d,Math['floor'](_0x18aae9['w']*(-0x1be0+0x1181*-0x1+0x2d61+0.5)));G['popGpuMark'+'er'](_0x59b501),G['pushGpuMar'+'ker'](_0x59b501,'reflection'+'s'),_0x18aae9['set'](0x2663+0xb5*0x14+-0x3487,(0x5eb+0xf78+-0x1463)*_0x441523,(0x13b*0x15+0x708+0x1fdf*-0x1)*_0x441523,(-0x1f*0x10f+-0x1407*0x1+0x3558)*_0x441523);for(let _0x1ed2d0=-0x387+-0xbfd+-0x89*-0x1d;_0x1ed2d0<_0x28e0c2['length'];++_0x1ed2d0)Qs(_0x28e0c2[_0x1ed2d0],_0x309663,{'numSamples':0x1,'rect':_0x18aae9,'seamPixels':_0x441523}),_0x18aae9['y']+=_0x18aae9['w'],_0x18aae9['z']=Math['max'](0x18d4+-0x151d+-0x19*0x26,Math['floor'](_0x18aae9['z']*(0xb*0x12a+-0x23c7+0x16f9+0.5))),_0x18aae9['w']=Math['max'](0x2be+0x21d8+-0x1*0x2495,Math['floor'](_0x18aae9['w']*(0x2344+-0x1f94+-0x10*0x3b+0.5)));return G['popGpuMark'+'er'](_0x59b501),G['pushGpuMar'+'ker'](_0x59b501,'ambient'),_0x18aae9['set']((0x8f5*-0x2+0x16c8+-0x45e)*_0x441523,(0x235e+0x23e2+-0x45c0)*_0x441523,(-0x1*-0xcd7+0x23*-0x96+-0x1*-0x7eb)*_0x441523,(0x2312+-0xb1a+-0x17d8)*_0x441523),_0x4324d6!=null&&_0x4324d6['legacyAmbi'+'ent']?Qs(_0x28e0c2[0xc*0x252+0x241d+0x84*-0x7c],_0x309663,{'numSamples':0x1,'rect':_0x18aae9,'seamPixels':_0x441523}):Qs(_0x28e0c2[-0x2*0x8a9+-0x3*0x393+0x1*0x1c0b],_0x309663,{'numSamples':(_0x4324d6==null?void(-0x1818+0x554*-0x1+0x1d6c):_0x4324d6['numSamples'])||0x146c*0x1+0x144d*-0x1+0x7e1*0x1,'distribution':'lambert','rect':_0x18aae9,'seamPixels':_0x441523}),G['popGpuMark'+'er'](_0x59b501),G['popGpuMark'+'er'](_0x59b501),_0x309663;}}const VC={'aoPS':St,'clearCoatPS':St,'clearCoatGlossPS':ad,'clearCoatNormalPS':St,'diffusePS':St,'diffuseDetailMapPS':St,'emissivePS':St,'glossPS':ad,'lightmapDirPS':wi,'lightmapSinglePS':wi,'metalnessPS':St,'normalMapPS':St,'normalDetailMapPS':St,'opacityPS':St,'parallaxPS':St,'sheenPS':St,'sheenGlossPS':ad,'specularPS':St,'specularityFactorPS':St,'thicknessPS':St,'transmissionPS':St,'normalVertexPS':wi,'startPS':wi,'ambientConstantPS':me,'ambientEnvPS':me,'ambientSHPS':me,'aoDiffuseOccPS':me,'aoSpecOccPS':me,'aoSpecOccConstPS':me,'aoSpecOccConstSimplePS':me,'aoSpecOccSimplePS':me,'clusteredLightPS':me,'clusteredLightShadowPS':me,'combinePS':me,'falloffInvSquaredPS':me,'falloffLinearPS':me,'lightDiffuseLambertPS':me,'lightSheenPS':me,'lightSpecularAnisoGGXPS':me,'lightSpecularBlinnPS':me,'ltcPS':me,'reflDirPS':me,'reflDirAnisoPS':me,'reflectionCCPS':me,'reflectionCubePS':me,'reflectionEnvPS':me,'reflectionEnvHQPS':me,'reflectionSheenPS':me,'reflectionSpherePS':me,'shadowCommonPS':me,'shadowCoordPS':me,'shadowCoordPerspZBufferPS':me,'shadowEVSMPS':me,'shadowEVSMnPS':me,'shadowStandardPS':me,'shadowStandardGL2PS':me,'spotPS':me,'TBNPS':me,'TBNObjectSpacePS':me,'TBNderivativePS':me,'endPS':hi,'metalnessModulatePS':hi,'outputAlphaPS':hi,'outputAlphaPremulPS':hi,'fresnelSchlickPS':hi,'iridescenceDiffractionPS':hi,'lightmapAddPS':hi,'lightmapDirAddPS':hi,'refractionCubePS':hm,'refractionDynamicPS':hm},GC={'ambientPrefilteredCubePS':Ui,'ambientPrefilteredCubeLodPS':Ui,'dpAtlasQuadPS':Ui,'genParaboloidPS':Ui,'prefilterCubemapPS':Ui,'reflectionDpAtlasPS':Ui,'reflectionPrefilteredCubePS':Ui,'reflectionPrefilteredCubeLodPS':Ui,'refractionPS':_r,'combineClearCoatPS':_r,'combineDiffusePS':_r,'combineDiffuseSpecularPS':_r,'combineDiffuseSpecularNoReflPS':_r,'combineDiffuseSpecularNoReflSeparateAmbientPS':_r,'combineDiffuseSpecularOldPS':_r,'lightmapSingleVertPS':wi,'normalMapFastPS':wi,'specularAaNonePS':wi,'specularAaToksvigPS':wi,'specularAaToksvigFastPS':wi,'skyboxEnvPS':cm,'skyboxHDRPS':cm,'shadowVSM8PS':bv,'fogExpPS':wn,'fogExp2PS':wn,'fogLinearPS':wn,'fogNonePS':wn,'gamma1_0PS':wn,'gamma2_2PS':wn},HC=(_0x1b0dad,_0x52dbda)=>{const _0x2e62e5=_0x1b0dad['split']('.')['map'](_0x48d0db=>parseInt(_0x48d0db,0x1*0x21a9+-0x19ee*-0x1+-0x5*0xbe9)),_0x544ca6=_0x52dbda['split']('.')['map'](_0x3930ce=>parseInt(_0x3930ce,0x1*0x260b+-0x106*0x15+-0x581*0x3));return _0x2e62e5[0x1574+-0x3d7+-0x1*0x119d]<_0x544ca6[0x1c70*0x1+0x2*-0x108d+0x4aa]||_0x2e62e5[0xc71*-0x1+-0x1*-0x1269+-0x5f8]===_0x544ca6[-0x23fd+-0xb*0x2e1+0x43a8]&&_0x2e62e5[0x1897+0x1*-0x583+-0x101*0x13]<_0x544ca6[-0x123b*-0x1+-0x1*0xc89+0x1*-0x5b1];},$C=_0x5113d6=>{const _0x1b8434=_0x5113d6['APIVersion'];for(const _0x43db0b in _0x5113d6)if(_0x43db0b!=='APIVersion'){if(X['hasOwnProp'+'erty'](_0x43db0b)){const _0x9807a5=VC[_0x43db0b];_0x9807a5&&(!_0x1b8434||HC(_0x1b8434,_0x9807a5))&&v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x43db0b+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x9807a5+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x1b8434||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x10aba0=GC[_0x43db0b];_0x10aba0?v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x43db0b+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x10aba0+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x43db0b+('\x27\x20is\x20not\x20s'+'upported.'));}}};class sr{constructor(){c(this,'code','');}['append'](..._0x14952d){_0x14952d['forEach'](_0x13d1f1=>{_0x13d1f1['endsWith']('\x0a')?this['code']+=_0x13d1f1:this['code']+=_0x13d1f1+'\x0a';});}['prepend'](..._0x1a3187){_0x1a3187['forEach'](_0xb13cfc=>{_0xb13cfc['endsWith']('\x0a')?this['code']=_0xb13cfc+this['code']:this['code']=_0xb13cfc+'\x0a'+this['code'];});}}const Td={'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_color':At,'vertex_boneWeights':Ys,'vertex_boneIndices':qt},h_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class WC{constructor(_0x1b5067,_0x2db72b){if(this['device']=_0x1b5067,this['options']=_0x2db72b,this['attributes']={'vertex_position':He},_0x2db72b['userAttrib'+'utes']){for(const [_0x49389e,_0x2a3359]of Object['entries'](_0x2db72b['userAttrib'+'utes']))this['attributes'][_0x2a3359]=_0x49389e;}if(_0x2db72b['chunks']){const _0x3c7e93=_0x2db72b['chunks'];$C(_0x3c7e93),this['chunks']=Object['create'](X);for(const _0x71c666 in X)if(_0x3c7e93['hasOwnProp'+'erty'](_0x71c666)){const _0x494049=_0x3c7e93[_0x71c666];for(const _0x10362e in Td)Td['hasOwnProp'+'erty'](_0x10362e)&&_0x494049['indexOf'](_0x10362e)>=0x1*0x12b3+-0xc80*0x3+0x12cd&&(this['attributes'][_0x10362e]=Td[_0x10362e]);this['chunks'][_0x71c666]=_0x494049;}}else this['chunks']=X;this['shaderPass'+'Info']=Ks['get'](this['device'])['getByIndex'](_0x2db72b['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x2db72b['lights']['length']>-0x12a5+0x1f1*-0x2+0x1687||_0x2db72b['dirLightMa'+'pEnabled']||_0x2db72b['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x2db72b['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x2db72b['useSpecula'+'r']||_0x2db72b['ambientSH']||_0x2db72b['useHeights']||_0x2db72b['enableGGXS'+'pecular']||_0x2db72b['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x2db72b['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x2db72b['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x2db72b['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x2db72b['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x375af4,_0x4c1226,_0x5850d6){return _0x375af4+=_0x4c1226['baseVS'],(_0x5850d6['nineSliced'+'Mode']===nt||_0x5850d6['nineSliced'+'Mode']===Qe)&&(_0x375af4+=_0x4c1226['baseNineSl'+'icedVS']),_0x375af4;}['_setMapTra'+'nsform'](_0x325734,_0x2481c9,_0x434f1d,_0x2f78d7){const _0x43dc71=_0x434f1d+_0x2f78d7*(0x18*0x17+-0x1*0x1e1b+0x1*0x1c57);if(!_0x325734[-0x23*-0xfd+0x8+-0x229c*0x1][_0x43dc71]){const _0x31f117='texture_'+_0x2481c9+('MapTransfo'+'rm');_0x325734[-0x11*0x188+0x381+0x1687*0x1]+='uniform\x20ve'+'c3\x20'+_0x31f117+'0;\x0a',_0x325734[-0xad9+0x63e*0x1+-0x3*-0x189]+='uniform\x20ve'+'c3\x20'+_0x31f117+'1;\x0a',_0x325734[0xad4+0x1*-0x18eb+-0x1*-0xe18]+='varying\x20ve'+'c2\x20vUV'+_0x2f78d7+'_'+_0x434f1d+';\x0a',_0x325734[0x2*0x4c+-0x2444+0x23ae]+='\x20\x20\x20vUV'+_0x2f78d7+'_'+_0x434f1d+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x2f78d7+',\x201),\x20'+_0x31f117+('0),\x20dot(ve'+'c3(uv')+_0x2f78d7+',\x201),\x20'+_0x31f117+'1));\x0a',_0x325734[-0x24e3+-0x264e+-0x4b34*-0x1][_0x43dc71]=!(0x2d2+0x15c*-0x3+-0xe*-0x17);}return _0x325734;}['_fsGetBase'+'Code'](){const _0x6aa6fc=this['options'],_0x4fdeef=this['chunks'];let _0x37e10d=this['chunks']['basePS'];return _0x6aa6fc['nineSliced'+'Mode']===nt?_0x37e10d+=_0x4fdeef['baseNineSl'+'icedPS']:_0x6aa6fc['nineSliced'+'Mode']===Qe&&(_0x37e10d+=_0x4fdeef['baseNineSl'+'icedTiledP'+'S']),_0x37e10d;}['_fsGetStar'+'tCode'](_0x13c07c,_0x12b2ed,_0x58a373,_0x37c486){let _0x79e5f=_0x58a373['startPS'];return _0x37c486['nineSliced'+'Mode']===nt?_0x79e5f+=_0x58a373['startNineS'+'licedPS']:_0x37c486['nineSliced'+'Mode']===Qe&&(_0x79e5f+=_0x58a373['startNineS'+'licedTiled'+'PS']),_0x79e5f;}['_getLightS'+'ourceShape'+'String'](_0x58adf2){switch(_0x58adf2){case Gb:return'Rect';case Hb:return'Disk';case $b:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x288d40,_0x453ac3,_0x33ba07){const _0x3bae85=this['device'],_0xb80ea7=this['options'],_0x267876=this['chunks'];let _0x346286='',_0x3cb2ef='',_0x585ff8='';_0x346286=this['_vsAddBase'+'Code'](_0x346286,_0x267876,_0xb80ea7),_0x3cb2ef+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x585ff8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x3cb2ef+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===X['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=rp,this['attributes']['instance_l'+'ine2']=ga,this['attributes']['instance_l'+'ine3']=np,this['attributes']['instance_l'+'ine4']=ya),_0x346286+=_0x267876['transformV'+'S'],this['needsNorma'+'l']&&(_0x346286+=_0x267876['normalCore'+'VS'],_0x346286+=_0x267876['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=Yt,_0x3cb2ef+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0xb80ea7['reflection'+'Source']==='sphereMap'&&_0x3bae85['fragmentUn'+'iformsCoun'+'t']<=-0x532+0x7c5+-0x1*0x283&&(_0x346286+=_0x267876['viewNormal'+'VS'],_0x3cb2ef+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0xb80ea7['hasTangent'+'s']&&(_0xb80ea7['useHeights']||_0xb80ea7['useNormals']||_0xb80ea7['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=Zs,_0x346286+=_0x267876['tangentBin'+'ormalVS'],_0x3cb2ef+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x3cb2ef+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0xb80ea7['enableGGXS'+'pecular']&&(_0x3cb2ef+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x57639d=0x76f*0x1+-0x1825+0x10b8;for(let _0x5b0370=0x64d*0x2+-0x2b*0x4+-0xbee;_0x5b0370<_0x57639d;_0x5b0370++)_0x288d40[_0x5b0370]&&(this['attributes']['vertex_tex'+'Coord'+_0x5b0370]='TEXCOORD'+_0x5b0370,_0x346286+=_0x267876['uv'+_0x5b0370+'VS'],_0x3cb2ef+='\x20\x20\x20vec2\x20uv'+_0x5b0370+'\x20=\x20getUv'+_0x5b0370+'();\x0a'),_0x453ac3[_0x5b0370]&&(_0x3cb2ef+='\x20\x20\x20vUv'+_0x5b0370+'\x20=\x20uv'+_0x5b0370+';\x0a');const _0x4fdc32=[_0x346286,this['varyings'],_0x3cb2ef,[]];_0x33ba07['forEach'](_0x4950e8=>{this['_setMapTra'+'nsform'](_0x4fdc32,_0x4950e8['name'],_0x4950e8['id'],_0x4950e8['uv']);}),_0x346286=_0x4fdc32[0x4*0x7e2+-0x20db+0x153],this['varyings']=_0x4fdc32[-0xd*0x5+-0x2a2*0x3+0x828],_0x3cb2ef=_0x4fdc32[-0x1911+0x23cb+-0xab8],_0xb80ea7['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=At,_0x3cb2ef+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0xb80ea7['useMsdf']&&_0xb80ea7['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Po,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Ro,_0x3cb2ef+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x346286+=_0x267876['msdfVS']),(_0xb80ea7['useMorphPo'+'sition']||_0xb80ea7['useMorphNo'+'rmal'])&&(_0x585ff8+='#define\x20MO'+'RPHING\x0a',_0xb80ea7['useMorphTe'+'xtureBased'+'Int']&&(_0x585ff8+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0xb80ea7['useMorphPo'+'sition']&&(_0x585ff8+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0xb80ea7['useMorphNo'+'rmal']&&(_0x585ff8+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=ya),_0xb80ea7['skin']?(this['attributes']['vertex_bon'+'eIndices']=qt,_0xb80ea7['batch']?_0x585ff8+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=Ys,_0x585ff8+='#define\x20SK'+'IN\x0a')):_0xb80ea7['useInstanc'+'ing']&&(_0x585ff8+='#define\x20IN'+'STANCING\x0a'),_0xb80ea7['screenSpac'+'e']&&(_0x585ff8+='#define\x20SC'+'REENSPACE\x0a'),_0xb80ea7['pixelSnap']&&(_0x585ff8+='#define\x20PI'+'XELSNAP\x0a'),_0x346286+='\x0a',_0x346286+=_0x267876['startVS'],_0x346286+=_0x3cb2ef,_0x346286+=_0x267876['endVS'],_0x346286+='}',Object['keys'](h_)['forEach'](_0xc95802=>{_0x346286['indexOf'](_0xc95802)>=0x2637+-0x719*0x1+-0x1f1e&&(this['varyings']+='varying\x20'+h_[_0xc95802]+'\x20'+_0xc95802+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0xc95802['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x585ff8+this['varyings']+_0x346286;}['_fsGetBegi'+'nCode'](){let _0x3a0935='';for(let _0x3bb43e=0xc6b*-0x2+0x14fb+0x1*0x3db;_0x3bb43e<this['defines']['length'];_0x3bb43e++)_0x3a0935+='#define\x20'+this['defines'][_0x3bb43e]+'\x0a';return _0x3a0935;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x277b03=this['_fsGetBegi'+'nCode']();return _0x277b03+=this['varyings'],_0x277b03+=this['varyingDef'+'ines'],_0x277b03+=this['frontendDe'+'cl'],_0x277b03+=this['frontendCo'+'de'],_0x277b03+=It['begin'](),_0x277b03+=this['frontendFu'+'nc'],_0x277b03+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x277b03+=It['end'](),_0x277b03;}['_fsGetPreP'+'assCode'](){let _0x34c258=this['_fsGetBegi'+'nCode']();return _0x34c258+=this['varyings'],_0x34c258+=this['varyingDef'+'ines'],_0x34c258+=this['chunks']['floatAsUin'+'tPS'],_0x34c258+=this['frontendDe'+'cl'],_0x34c258+=this['frontendCo'+'de'],_0x34c258+=It['begin'](),_0x34c258+=this['frontendFu'+'nc'],_0x34c258+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x34c258+=It['end'](),_0x34c258;}['_fsGetShad'+'owPassCode'](){const _0x4869f0=this['options'],_0x48b0c0=this['chunks'],_0x7fc81b=this['varyings'],_0x38d986=this['shaderPass'+'Info']['lightType'];let _0x1fc12b=this['shaderPass'+'Info']['shadowType'];_0x38d986!==oe&&_0x4869f0['clusteredL'+'ightingEna'+'bled']&&(_0x1fc12b===Hr||_0x1fc12b===$r||_0x1fc12b===Ts)&&(_0x1fc12b=Dt);const _0x24b8b4=ir['get'](_0x1fc12b);v['assert'](_0x24b8b4);const _0x19887a=(_0x24b8b4==null?void(0x17*0x4d+-0x1*0x2597+0x1a*0x12e):_0x24b8b4['vsm'])??!(-0x242f+-0x22d9+0x4709),_0x35283d=(_0x24b8b4==null?void(-0xd1a*-0x2+0x9f5*0x1+-0x2429):_0x24b8b4['pcss'])??!(0x52f+-0x1*0x20cf+-0x1ba1*-0x1);let _0x2552f1=this['_fsGetBegi'+'nCode']();_0x1fc12b===$r?_0x2552f1+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x1fc12b===Hr&&(_0x2552f1+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x38d986!==oe&&(_0x2552f1+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x2552f1+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x2552f1+=_0x7fc81b,_0x2552f1+=this['varyingDef'+'ines'],_0x2552f1+=this['frontendDe'+'cl'],_0x2552f1+=this['frontendCo'+'de'],_0x1fc12b===Ts&&(_0x2552f1+=X['linearizeD'+'epthPS']),_0x2552f1+=It['begin'](),_0x2552f1+=this['frontendFu'+'nc'];const _0x3d62be=_0x38d986===oe||!_0x19887a&&_0x38d986===Re;let _0x345389=!(0x1c3*0x9+-0x1*0x172a+-0x1a*-0x48);return _0x3d62be?(_0x2552f1+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x35283d&&_0x38d986!==oe&&(_0x2552f1+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x2552f1+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x345389=!(0x199d+-0xce*0xd+-0x1*0xf27)),_0x19887a?_0x2552f1+=_0x48b0c0['storeEVSMP'+'S']:_0x35283d?_0x2552f1+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x345389&&(_0x2552f1+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x2552f1+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x2552f1+=It['end'](),_0x2552f1;}['_fsGetLitP'+'assCode'](){var _0x42b329;const _0x2c2c23=this['device'],_0x27d6f3=this['options'],_0x479c0c=this['chunks'],_0x505985=new sr(),_0x464e95=new sr(),_0x3dabeb=new sr(),_0x5d9696=new sr();_0x27d6f3['opacityFad'+'esSpecular']===!(0x407+0x240a+-0x2810)&&_0x505985['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x27d6f3['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x27d6f3['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x27d6f3['fresnelMod'+'el']>-0x1*-0x1cff+0x25*0x30+-0x1*0x23ef&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x27d6f3['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x27d6f3['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x16aa99=[];let _0x923c56=-0xe7c*-0x2+0x749+-0x2441*0x1,_0x155887=!(0x1251+-0x700+0xb5*-0x10),_0xb631=!(-0x26fc+-0x8b*-0xb+-0x2104*-0x1),_0x57d646=!(0x1a8c+0x1*0x26d3+-0x20af*0x2),_0x18e257=_0x27d6f3['lights']['some'](_0x43ce24=>_0x43ce24['_shape']&&_0x43ce24['_shape']!==yt);_0x27d6f3['clusteredL'+'ightingEna'+'bled']&&_0x27d6f3['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0x18e257=!(-0x213b*-0x1+-0xba6*0x3+-0x1*-0x1b7)),(_0x18e257||_0x27d6f3['clusteredL'+'ightingEna'+'bled'])&&(_0x505985['append']('#define\x20AR'+'EA_LIGHTS'),_0x505985['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x505985['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x3049bf=-0x2417+0x1cfc+0x71b;_0x3049bf<_0x27d6f3['lights']['length'];_0x3049bf++){const _0x313879=_0x27d6f3['lights'][_0x3049bf],_0x2a622c=_0x313879['_type'];if(_0x27d6f3['clusteredL'+'ightingEna'+'bled']&&_0x2a622c!==oe)continue;const _0x324cd7=_0x18e257&&_0x313879['_shape']?_0x313879['_shape']:yt;_0x505985['append']('uniform\x20ve'+'c3\x20light'+_0x3049bf+'_color;'),_0x313879['_shadowTyp'+'e']===Ts&&_0x313879['castShadow'+'s']&&!_0x27d6f3['noShadow']&&(_0x505985['append']('uniform\x20fl'+'oat\x20light'+_0x3049bf+('_shadowSea'+'rchArea;')),_0x505985['append']('uniform\x20ve'+'c4\x20light'+_0x3049bf+('_cameraPar'+'ams;')),_0x2a622c===oe&&_0x505985['append']('uniform\x20ve'+'c4\x20light'+_0x3049bf+('_softShado'+'wParams;'))),_0x2a622c===oe?_0x505985['append']('uniform\x20ve'+'c3\x20light'+_0x3049bf+('_direction'+';')):(_0x505985['append']('uniform\x20ve'+'c3\x20light'+_0x3049bf+'_position;'),_0x505985['append']('uniform\x20fl'+'oat\x20light'+_0x3049bf+'_radius;'),_0x2a622c===Re&&(_0x505985['append']('uniform\x20ve'+'c3\x20light'+_0x3049bf+('_direction'+';')),_0x505985['append']('uniform\x20fl'+'oat\x20light'+_0x3049bf+('_innerCone'+'Angle;')),_0x505985['append']('uniform\x20fl'+'oat\x20light'+_0x3049bf+('_outerCone'+'Angle;')))),_0x324cd7!==yt&&(_0x2a622c===oe&&_0x505985['append']('uniform\x20ve'+'c3\x20light'+_0x3049bf+'_position;'),_0x505985['append']('uniform\x20ve'+'c3\x20light'+_0x3049bf+('_halfWidth'+';')),_0x505985['append']('uniform\x20ve'+'c3\x20light'+_0x3049bf+('_halfHeigh'+'t;'))),_0x313879['castShadow'+'s']&&!_0x27d6f3['noShadow']&&(_0x505985['append']('uniform\x20ma'+'t4\x20light'+_0x3049bf+('_shadowMat'+'rix;')),_0x505985['append']('uniform\x20fl'+'oat\x20light'+_0x3049bf+('_shadowInt'+'ensity;')),_0x2a622c===oe&&(_0x505985['append']('uniform\x20ma'+'t4\x20light'+_0x3049bf+('_shadowMat'+'rixPalette'+'[4];')),_0x505985['append']('uniform\x20ve'+'c4\x20light'+_0x3049bf+('_shadowCas'+'cadeDistan'+'ces;')),_0x505985['append']('uniform\x20in'+'t\x20light'+_0x3049bf+('_shadowCas'+'cadeCount;')),_0x505985['append']('uniform\x20fl'+'oat\x20light'+_0x3049bf+('_shadowCas'+'cadeBlend;'))),_0x505985['append']('uniform\x20ve'+'c4\x20light'+_0x3049bf+('_shadowPar'+'ams;')),_0x2a622c===oe&&(_0x155887=!(0x1*0x1e11+0x63c+-0x244d)),_0x2a622c===Pe?_0x505985['append']('uniform\x20'+(_0x313879['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x3049bf+('_shadowMap'+';')):_0x505985['append']('uniform\x20'+(_0x313879['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x3049bf+('_shadowMap'+';')),_0x923c56++,_0x16aa99[_0x313879['_shadowTyp'+'e']]=!(0x71e+0x595*0x5+0x31*-0xb7),_0x313879['_isVsm']&&(_0xb631=!(0x10f6*0x1+0x138f+-0x2485*0x1)),_0x313879['_shadowTyp'+'e']===Ts&&(_0x57d646=!(0x253b+0x12d0+0x1*-0x380b))),_0x313879['_cookie']&&(_0x313879['_cookie']['_cubemap']?_0x2a622c===Pe&&(_0x505985['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x3049bf+'_cookie;'),_0x505985['append']('uniform\x20fl'+'oat\x20light'+_0x3049bf+('_cookieInt'+'ensity;')),(!_0x313879['castShadow'+'s']||_0x27d6f3['noShadow'])&&_0x505985['append']('uniform\x20ma'+'t4\x20light'+_0x3049bf+('_shadowMat'+'rix;'))):_0x2a622c===Re&&(_0x505985['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x3049bf+'_cookie;'),_0x505985['append']('uniform\x20fl'+'oat\x20light'+_0x3049bf+('_cookieInt'+'ensity;')),(!_0x313879['castShadow'+'s']||_0x27d6f3['noShadow'])&&_0x505985['append']('uniform\x20ma'+'t4\x20light'+_0x3049bf+('_shadowMat'+'rix;')),_0x313879['_cookieTra'+'nsform']&&(_0x505985['append']('uniform\x20ve'+'c4\x20light'+_0x3049bf+('_cookieMat'+'rix;')),_0x505985['append']('uniform\x20ve'+'c2\x20light'+_0x3049bf+('_cookieOff'+'set;')))));}const _0x3a0f9d=this['needsNorma'+'l']&&(_0x27d6f3['useNormals']||_0x27d6f3['useClearCo'+'atNormals']||_0x27d6f3['enableGGXS'+'pecular']&&!_0x27d6f3['useHeights']);if(_0x3a0f9d&&(_0x27d6f3['hasTangent'+'s']?_0x464e95['append'](_0x479c0c['TBNPS']):_0x27d6f3['useNormals']||_0x27d6f3['useClearCo'+'atNormals']?_0x464e95['append'](_0x479c0c['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x464e95['append'](_0x479c0c['TBNObjectS'+'pacePS']),_0x27d6f3['twoSidedLi'+'ghting']&&_0x464e95['append'](_0x479c0c['twoSidedLi'+'ghtingPS'])),_0x464e95['append'](_0x479c0c['sphericalP'+'S']),_0x464e95['append'](_0x479c0c['decodePS']),_0x464e95['append'](_0x479c0c['gammaPS']),_0x464e95['append'](_0x479c0c['tonemappin'+'gPS']),_0x464e95['append'](_0x479c0c['fogPS']),_0x464e95['append'](this['frontendCo'+'de']),_0x27d6f3['useCubeMap'+'Rotation']&&_0x505985['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x464e95['append'](_0x479c0c['cubeMapRot'+'atePS']),_0x464e95['append'](_0x27d6f3['cubeMapPro'+'jection']>-0x7d0+0x1000+-0x830?_0x479c0c['cubeMapPro'+'jectBoxPS']:_0x479c0c['cubeMapPro'+'jectNonePS']),_0x464e95['append'](_0x27d6f3['skyboxInte'+'nsity']?_0x479c0c['envMultipl'+'yPS']:_0x479c0c['envConstPS'])),(this['lighting']&&_0x27d6f3['useSpecula'+'r']||this['reflection'+'s'])&&(_0x27d6f3['useMetalne'+'ss']&&_0x464e95['append'](_0x479c0c['metalnessM'+'odulatePS']),_0x27d6f3['fresnelMod'+'el']===Sp&&_0x464e95['append'](_0x479c0c['fresnelSch'+'lickPS']),_0x27d6f3['useIridesc'+'ence']&&_0x464e95['append'](_0x479c0c['iridescenc'+'eDiffracti'+'onPS'])),_0x27d6f3['useAo'])switch(_0x464e95['append'](_0x479c0c['aoDiffuseO'+'ccPS']),_0x27d6f3['occludeSpe'+'cular']){case Bo:_0x464e95['append'](_0x27d6f3['occludeSpe'+'cularFloat']?_0x479c0c['aoSpecOccS'+'implePS']:_0x479c0c['aoSpecOccC'+'onstSimple'+'PS']);break;case Lu:_0x464e95['append'](_0x27d6f3['occludeSpe'+'cularFloat']?_0x479c0c['aoSpecOccP'+'S']:_0x479c0c['aoSpecOccC'+'onstPS']);break;}_0x27d6f3['reflection'+'Source']==='envAtlasHQ'?(_0x464e95['append'](_0x479c0c['envAtlasPS']),_0x464e95['append'](_0x479c0c['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Es['decodeFunc'](_0x27d6f3['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Es['decodeFunc'](_0x27d6f3['reflection'+'Encoding'])))):_0x27d6f3['reflection'+'Source']==='envAtlas'?(_0x464e95['append'](_0x479c0c['envAtlasPS']),_0x464e95['append'](_0x479c0c['reflection'+'EnvPS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x27d6f3['reflection'+'Encoding'])))):_0x27d6f3['reflection'+'Source']==='cubeMap'?_0x464e95['append'](_0x479c0c['reflection'+'CubePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x27d6f3['reflection'+'Encoding']))):_0x27d6f3['reflection'+'Source']==='sphereMap'&&_0x464e95['append'](_0x479c0c['reflection'+'SpherePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x27d6f3['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x27d6f3['useClearCo'+'at']&&_0x464e95['append'](_0x479c0c['reflection'+'CCPS']),_0x27d6f3['useSheen']&&_0x464e95['append'](_0x479c0c['reflection'+'SheenPS'])),_0x27d6f3['useRefract'+'ion']&&(_0x27d6f3['useDynamic'+'Refraction']?(_0x27d6f3['dispersion']&&(_0x505985['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x505985['append']('#define\x20DI'+'SPERSION\x0a')),_0x464e95['append'](_0x479c0c['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x464e95['append'](_0x479c0c['refraction'+'CubePS'])),_0x27d6f3['useSheen']&&_0x464e95['append'](_0x479c0c['lightSheen'+'PS']),_0x27d6f3['clusteredL'+'ightingEna'+'bled']&&(_0x464e95['append'](_0x479c0c['clusteredL'+'ightUtilsP'+'S']),_0x27d6f3['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x464e95['append'](_0x479c0c['clusteredL'+'ightCookie'+'sPS']),_0x27d6f3['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x27d6f3['noShadow']&&(_0x16aa99[Dt]=!(0x13e3+-0x2220+-0xf*-0xf3),_0x16aa99[lh]=!(0x12ef+0x20e5+-0x1*0x33d4),_0x16aa99[Ts]=!(-0x235b+0x5*-0x405+-0x49f*-0xc))),(_0x923c56>-0x3a4+0x1*0x10c0+0x68e*-0x2||_0x27d6f3['clusteredL'+'ightingEna'+'bled'])&&(_0x155887&&_0x464e95['append'](_0x479c0c['shadowCasc'+'adesPS']),(_0x16aa99[Bh]||_0x16aa99[Dt]||_0x16aa99[Nh]||_0x16aa99[zh])&&_0x464e95['append'](_0x479c0c['shadowStan'+'dardPS']),(_0x16aa99[lh]||_0x16aa99[Iu])&&_0x464e95['append'](_0x479c0c['shadowStan'+'dardGL2PS']),_0xb631&&(_0x464e95['append'](_0x479c0c['shadowVSM_'+'commonPS']),_0x16aa99[Hr]&&_0x464e95['append'](_0x479c0c['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x16aa99[$r]&&_0x464e95['append'](_0x2c2c23['extTexture'+'FloatLinea'+'r']?_0x479c0c['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x479c0c['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x57d646&&(_0x464e95['append'](_0x479c0c['linearizeD'+'epthPS']),_0x464e95['append'](_0x479c0c['shadowPCSS'+'PS']),_0x464e95['append'](_0x479c0c['shadowSoft'+'PS']))),_0x27d6f3['enableGGXS'+'pecular']&&_0x464e95['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x464e95['append'](_0x479c0c['lightDiffu'+'seLambertP'+'S']),(_0x18e257||_0x27d6f3['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x464e95['append'](_0x479c0c['ltcPS']));let _0x447883=!(-0x1*-0x9cb+0x985*-0x3+-0x1f*-0x9b);_0x27d6f3['useSpecula'+'r']&&(this['lighting']&&_0x464e95['append'](_0x27d6f3['enableGGXS'+'pecular']?_0x479c0c['lightSpecu'+'larAnisoGG'+'XPS']:_0x479c0c['lightSpecu'+'larBlinnPS']),!_0x27d6f3['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x27d6f3['diffuseMap'+'Enabled']&&(_0x505985['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x505985['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x447883=!(0x16e3+-0x257e+0x1*0xe9b))),_0x464e95['append'](_0x479c0c['combinePS']),_0x27d6f3['lightMapEn'+'abled']&&_0x464e95['append'](_0x27d6f3['useSpecula'+'r']&&_0x27d6f3['dirLightMa'+'pEnabled']?_0x479c0c['lightmapDi'+'rAddPS']:_0x479c0c['lightmapAd'+'dPS']);const _0x2a5ab9=!_0x27d6f3['lightMapEn'+'abled']||_0x27d6f3['lightMapWi'+'thoutAmbie'+'nt'];_0x2a5ab9&&(_0x27d6f3['ambientSou'+'rce']==='ambientSH'?_0x464e95['append'](_0x479c0c['ambientSHP'+'S']):_0x27d6f3['ambientSou'+'rce']==='envAtlas'?(_0x27d6f3['reflection'+'Source']!=='envAtlas'&&_0x27d6f3['reflection'+'Source']!=='envAtlasHQ'&&_0x464e95['append'](_0x479c0c['envAtlasPS']),_0x464e95['append'](_0x479c0c['ambientEnv'+'PS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x27d6f3['ambientEnc'+'oding'])))):_0x464e95['append'](_0x479c0c['ambientCon'+'stantPS'])),_0x447883||_0x505985['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x27d6f3['useMsdf']&&(_0x27d6f3['msdfTextAt'+'tribute']||_0x505985['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x464e95['append'](_0x479c0c['msdfPS'])),this['needsNorma'+'l']&&(_0x464e95['append'](_0x479c0c['viewDirPS']),_0x27d6f3['useSpecula'+'r']&&_0x464e95['append'](_0x27d6f3['enableGGXS'+'pecular']?_0x479c0c['reflDirAni'+'soPS']:_0x479c0c['reflDirPS']));let _0x3bcf47=!(0x202*0xd+-0x641*-0x2+0x269b*-0x1),_0x33e6d4=!(-0x39*-0xa+0x13f*0x6+-0x9b3*0x1),_0x509a01=!(-0x180+-0x186c+-0x19ed*-0x1),_0x5663b1=!(0x1666+-0x7c0+-0x1*0xea5),_0x26d26c=!(-0xc0c+0x1df*-0x5+-0x89*-0x28),_0x4aa99a;if(_0x27d6f3['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0x5663b1=!(0x1e*-0xd1+-0xdeb+-0x2669*-0x1),_0x3bcf47=!(-0x616+-0x5*-0x37+0x503),_0x33e6d4=!(0x6a1+0x194e+-0x1fef),_0x26d26c=!(-0xb83*0x2+-0x1f*-0x23+0x12c9),_0x464e95['append'](_0x479c0c['floatUnpac'+'kingPS']),_0x27d6f3['lightMaskD'+'ynamic']&&_0x505985['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x27d6f3['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x505985['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x27d6f3['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x27d6f3['noShadow']){const _0x2c1d4b=(_0x42b329=ir['get'](_0x27d6f3['clusteredL'+'ightingSha'+'dowType']))==null?void(0x128b+-0x1159+-0x132):_0x42b329['name'];v['assert'](_0x2c1d4b);const _0x46c3ed=_0x2c1d4b['substring'](0x9*0x215+0x1*0x1d51+-0x1807*0x2,0x3fe+0x23bd+-0x27b7);_0x505985['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x505985['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x46c3ed);}_0x27d6f3['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x505985['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x505985['append'](E0['getShaderD'+'efines']()),_0x27d6f3['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x27d6f3['noShadow']&&_0x464e95['append'](_0x479c0c['clusteredL'+'ightShadow'+'sPS']),_0x464e95['append'](_0x479c0c['clusteredL'+'ightPS']);}if(_0x5d9696['append'](this['_fsGetStar'+'tCode'](_0x5d9696,_0x2c2c23,_0x479c0c,_0x27d6f3)),this['needsNorma'+'l']&&(_0x5d9696['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x27d6f3['useHeights']||_0x27d6f3['useNormals'])&&_0x27d6f3['hasTangent'+'s']&&(_0x5d9696['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x5d9696['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x5d9696['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x3a0f9d&&(_0x5d9696['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x27d6f3['twoSidedLi'+'ghting']&&_0x5d9696['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x5d9696['append'](this['frontendFu'+'nc']),_0x27d6f3['ssao']&&(_0x464e95['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x3dabeb['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x27d6f3['useSpecula'+'r']&&_0x3dabeb['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x27d6f3['useClearCo'+'at']&&_0x3dabeb['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x27d6f3['useSpecula'+'r']||this['reflection'+'s'])&&(_0x27d6f3['useMetalne'+'ss']&&(_0x3dabeb['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x3dabeb['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x3dabeb['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x27d6f3['useIridesc'+'ence']&&_0x3dabeb['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x2a5ab9&&(_0x3dabeb['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x27d6f3['useSpecula'+'r']&&_0x3dabeb['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x27d6f3['separateAm'+'bient']&&_0x3dabeb['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x447883||_0x3dabeb['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x27d6f3['useAo']&&!_0x27d6f3['occludeDir'+'ect']&&_0x3dabeb['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x27d6f3['lightMapEn'+'abled']&&_0x3dabeb['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x27d6f3['useClearCo'+'at']&&(_0x3dabeb['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x27d6f3['fresnelMod'+'el']>0x12f6+0x1*0x22f+-0x1525?(_0x3dabeb['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x3dabeb['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x3dabeb['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x27d6f3['useSpecula'+'rityFactor']&&_0x3dabeb['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x27d6f3['useSheen']&&_0x3dabeb['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x3dabeb['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x27d6f3['fresnelMod'+'el']>0x2013+0x51a+-0x252d?_0x3dabeb['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x3dabeb['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x27d6f3['useSpecula'+'rityFactor']&&_0x3dabeb['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0x18e257&&(_0x3dabeb['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x27d6f3['useSpecula'+'r']&&_0x3dabeb['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x144b21=-0xb*-0x71+-0x1a*0x14b+-0xc7*-0x25;_0x144b21<_0x27d6f3['lights']['length'];_0x144b21++){const _0x7267ed=_0x27d6f3['lights'][_0x144b21],_0x479dd8=_0x7267ed['_type'];if(_0x27d6f3['clusteredL'+'ightingEna'+'bled']&&_0x479dd8!==oe)continue;_0x4aa99a=!(0x33*-0x4d+-0x1e03+0x1*0x2d5b);const _0x28200f=_0x18e257&&_0x7267ed['_shape']?_0x7267ed['shape']:yt,_0x2741b5=_0x18e257&&_0x7267ed['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x28200f):'';if(_0x28200f!==yt&&_0x3dabeb['append']('\x20\x20\x20\x20calc'+_0x2741b5+('LightValue'+'s(light')+_0x144b21+('_position,'+'\x20light')+_0x144b21+('_halfWidth'+',\x20light')+_0x144b21+('_halfHeigh'+'t);')),_0x479dd8===oe?(_0x3dabeb['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x144b21+('_direction'+';')),_0x3dabeb['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x7267ed['_cookie']&&(_0x479dd8===Re&&!_0x7267ed['_cookie']['_cubemap']||_0x479dd8===Pe&&_0x7267ed['_cookie']['_cubemap'])&&(_0x26d26c=!(0x193*-0x2+-0x1500+0xc13*0x2),_0x4aa99a=!(0x3ad*0xa+0x162e+-0x3af*0x10)),_0x3dabeb['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x144b21+('_position)'+';')),_0x3bcf47=!(0x1801+0x454*-0x3+-0xb05),_0x4aa99a&&(_0x479dd8===Re?_0x3dabeb['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x7267ed['_cookieFal'+'loff']?'':'Clip')+(_0x7267ed['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x144b21+('_cookie,\x20l'+'ight')+_0x144b21+('_shadowMat'+'rix,\x20light')+_0x144b21+('_cookieInt'+'ensity')+(_0x7267ed['_cookieTra'+'nsform']?',\x20light'+_0x144b21+('_cookieMat'+'rix,\x20light')+_0x144b21+('_cookieOff'+'set'):'')+').'+_0x7267ed['_cookieCha'+'nnel']+';'):_0x3dabeb['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x144b21+('_cookie,\x20l'+'ight')+_0x144b21+('_shadowMat'+'rix,\x20light')+_0x144b21+('_cookieInt'+'ensity).')+_0x7267ed['_cookieCha'+'nnel']+';')),_0x28200f===yt?_0x7267ed['_falloffMo'+'de']===wp?(_0x3dabeb['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x144b21+('_radius,\x20d'+'LightDirW)'+';')),_0x33e6d4=!(0x98b*0x4+0x245d+-0x4a89*0x1)):(_0x3dabeb['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x144b21+('_radius,\x20d'+'LightDirW)'+';')),_0x509a01=!(-0x41c*0x4+-0x1*0x3dd+0x1*0x144d)):(_0x3dabeb['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x144b21+('_radius,\x20d'+'LightDirW)'+';')),_0x509a01=!(-0x37b*0x1+-0xf59+-0x4b5*-0x4)),_0x3dabeb['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x479dd8===Re&&(_0x4aa99a&&!_0x7267ed['_cookieFal'+'loff']||(_0x3dabeb['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x144b21+('_direction'+',\x20light')+_0x144b21+('_innerCone'+'Angle,\x20lig'+'ht')+_0x144b21+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0x5663b1=!(-0x21e3*-0x1+-0x51b*0x7+-0x1da*-0x1)))),_0x28200f!==yt?_0x479dd8===oe?_0x3dabeb['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x3dabeb['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x2741b5+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x3dabeb['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x7267ed['castShadow'+'s']&&!_0x27d6f3['noShadow']){const _0x4252f1=ir['get'](_0x7267ed['_shadowTyp'+'e']);v['assert'](_0x4252f1);const _0x56f03e=_0x7267ed['_shadowTyp'+'e']===Ts,_0x25dfb1=_0x4252f1==null?void(-0x72a*0x2+0xbd0+0x284):_0x4252f1['vsm'],_0x5c9b53=_0x4252f1==null?void(0x5d2*-0x3+0x19ed*-0x1+0x1*0x2b63):_0x4252f1['pcf'];let _0x1ccbfd=null,_0x52dd42;switch(_0x7267ed['_shadowTyp'+'e']){case Hr:_0x1ccbfd='VSM16',_0x52dd42='5.54';break;case $r:_0x1ccbfd='VSM32',_0x52dd42='15.0';break;case Bh:case Nh:_0x1ccbfd='PCF1x1';break;case lh:case Iu:_0x1ccbfd='PCF5x5';break;case Ts:_0x1ccbfd='PCSS';break;case Dt:case zh:default:_0x1ccbfd='PCF3x3';break;}if(_0x1ccbfd!==null){_0x7267ed['_normalOff'+'setBias']&&!_0x7267ed['_isVsm']&&_0x464e95['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x479dd8===oe&&_0x464e95['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x5c9b53||_0x56f03e||_0x2c2c23['isWebGPU'])&&_0x464e95['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x479dd8===Pe&&_0x464e95['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x437747=_0x479c0c['shadowSamp'+'leCoordPS'];_0x464e95['append'](_0x437747['replace']('$LIGHT',_0x144b21)),_0x464e95['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x464e95['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x464e95['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x464e95['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x15c86e='light'+_0x144b21+('_shadowMat'+'rix');_0x479dd8===oe&&_0x7267ed['numCascade'+'s']>-0x4d2*-0x4+-0x1735*0x1+0x1*0x3ee&&(_0x3dabeb['append']('int\x20cascad'+'eIndex'+_0x144b21+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x144b21+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x144b21+('_shadowCas'+'cadeCount)'+';')),_0x7267ed['cascadeBle'+'nd']>0xcb+-0x2623+0x2558&&_0x3dabeb['append']('cascadeInd'+'ex'+_0x144b21+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x144b21+',\x20light'+_0x144b21+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x144b21+('_shadowCas'+'cadeCount,'+'\x20light')+_0x144b21+('_shadowCas'+'cadeBlend)'+';')),_0x3dabeb['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x144b21+'\x20=\x20light'+_0x144b21+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x144b21+'];'),_0x15c86e='cascadeSha'+'dowMat'+_0x144b21),_0x3dabeb['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x144b21+'('+_0x15c86e+',\x20light'+_0x144b21+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x479dd8===oe&&_0x3dabeb['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x144b21+('_shadowCas'+'cadeDistan'+'ces);'));let _0x30cb66='SHADOWMAP_'+'PASS(light'+_0x144b21+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x144b21+('_shadowPar'+'ams');if(_0x25dfb1)_0x30cb66=_0x30cb66+',\x20'+_0x52dd42+(',\x20dLightDi'+'rW');else{if(_0x56f03e){let _0x2d976b=_0x479dd8===oe?'light'+_0x144b21+('_softShado'+'wParams'):'vec2(light'+_0x144b21+('_shadowSea'+'rchArea)');_0x28200f!==yt&&(_0x2d976b='vec2(lengt'+'h(light'+_0x144b21+('_halfWidth'+'),\x20length('+'light')+_0x144b21+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x144b21+('_shadowSea'+'rchArea')),_0x30cb66=_0x30cb66+',\x20light'+_0x144b21+('_cameraPar'+'ams,\x20')+_0x2d976b+(',\x20dLightDi'+'rW');}}_0x479dd8===Pe?(_0x1ccbfd='Point'+_0x1ccbfd,_0x56f03e||(_0x30cb66=_0x30cb66+(',\x20dLightDi'+'rW'))):_0x479dd8===Re&&(_0x1ccbfd='Spot'+_0x1ccbfd),_0x3dabeb['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x144b21+('\x20=\x20getShad'+'ow')+_0x1ccbfd+'('+_0x30cb66+');'),_0x3dabeb['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x144b21+',\x20light'+_0x144b21+('_shadowInt'+'ensity);'));}}if(_0x28200f!==yt?_0x27d6f3['useSpecula'+'r']?_0x3dabeb['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x144b21+'_color'+(_0x4aa99a?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x3dabeb['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x144b21+'_color'+(_0x4aa99a?'\x20*\x20dAtten3':'')+';'):_0x18e257&&_0x27d6f3['useSpecula'+'r']?_0x3dabeb['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x144b21+'_color'+(_0x4aa99a?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x3dabeb['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x144b21+'_color'+(_0x4aa99a?'\x20*\x20dAtten3':'')+';'),_0x27d6f3['useSpecula'+'r']&&_0x3dabeb['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x7267ed['affectSpec'+'ularity']){if(_0x28200f!==yt)_0x27d6f3['useClearCo'+'at']&&_0x3dabeb['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x2741b5+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x144b21+'_color'+(_0x4aa99a?'\x20*\x20dAtten3':'')+';'),_0x27d6f3['useSpecula'+'r']&&_0x3dabeb['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x2741b5+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x144b21+'_color'+(_0x4aa99a?'\x20*\x20dAtten3':'')+';');else{let _0x58851a=!(-0x2*-0x3c4+0x158+0x3*-0x2f5);_0x479dd8===oe&&_0x27d6f3['fresnelMod'+'el']>-0x10a6+0x608+-0xa9e*-0x1&&(_0x58851a=!(0x302*-0x1+0x2402+-0x2100)),_0x27d6f3['useClearCo'+'at']&&_0x3dabeb['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x144b21+'_color'+(_0x4aa99a?'\x20*\x20dAtten3':'')+(_0x58851a?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x27d6f3['useSheen']&&_0x3dabeb['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x144b21+'_color'+(_0x4aa99a?'\x20*\x20dAtten3'+';':';')),_0x27d6f3['useSpecula'+'r']&&_0x3dabeb['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x144b21+'_color'+(_0x4aa99a?'\x20*\x20dAtten3':'')+(_0x58851a?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x479dd8!==oe&&_0x3dabeb['append']('\x20\x20\x20\x20}');}_0x27d6f3['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x33e6d4=!(0x25*-0x95+0x340+-0x1*-0x1249),_0x509a01=!(0x18ca+-0xe93*-0x2+-0x35f0),_0x3bcf47=!(0x1*0x1eb2+-0x1*-0x20f1+-0x3fa3),_0x3dabeb['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0x18e257&&(_0x27d6f3['useClearCo'+'at']&&_0x3dabeb['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x27d6f3['useSpecula'+'r']&&_0x3dabeb['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x27d6f3['useRefract'+'ion']&&_0x3dabeb['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x27d6f3['useAo']&&(_0x27d6f3['occludeDir'+'ect']&&_0x3dabeb['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x27d6f3['occludeSpe'+'cular']===Bo||_0x27d6f3['occludeSpe'+'cular']===Lu)&&_0x3dabeb['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x27d6f3['useSpecula'+'rityFactor']&&_0x3dabeb['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x27d6f3['opacityFad'+'esSpecular']===!(0x1656+0x317+-0x196c)&&((_0x27d6f3['blendType']===Kt||_0x27d6f3['blendType']===hr)&&(_0x3dabeb['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x3dabeb['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x3dabeb['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x3dabeb['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x3dabeb['append'](_0x479c0c['endPS']),_0x27d6f3['blendType']===Kt||_0x27d6f3['blendType']===Hc||_0x27d6f3['alphaToCov'+'erage']?_0x3dabeb['append'](_0x479c0c['outputAlph'+'aPS']):_0x27d6f3['blendType']===hr?_0x3dabeb['append'](_0x479c0c['outputAlph'+'aPremulPS']):_0x3dabeb['append'](_0x479c0c['outputAlph'+'aOpaquePS']),_0x27d6f3['useMsdf']&&_0x3dabeb['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x3dabeb['append'](_0x479c0c['outputPS']),_0x3dabeb['append'](_0x479c0c['debugOutpu'+'tPS']),_0x3bcf47&&_0x464e95['prepend'](_0x479c0c['lightDirPo'+'intPS']),_0x33e6d4&&_0x464e95['prepend'](_0x479c0c['falloffLin'+'earPS']),_0x509a01&&_0x464e95['prepend'](_0x479c0c['falloffInv'+'SquaredPS']),_0x5663b1&&_0x464e95['prepend'](_0x479c0c['spotPS']),_0x26d26c&&!_0x27d6f3['clusteredL'+'ightingEna'+'bled']&&_0x464e95['prepend'](_0x479c0c['cookiePS']);let _0x37786c='';const _0x39adda='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x3dabeb['code']+'\x0a}';_0x464e95['append'](_0x39adda),_0x5d9696['append'](_0x479c0c['debugProce'+'ssFrontend'+'PS']),_0x5d9696['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x5d9696['append'](It['end']());const _0xba3083=_0x505985['code']+_0x464e95['code']+_0x5d9696['code'];return _0xba3083['includes']('dTBN')&&(_0x37786c+='mat3\x20dTBN;'+'\x0a'),_0xba3083['includes']('dVertexNor'+'malW')&&(_0x37786c+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0xba3083['includes']('dTangentW')&&(_0x37786c+='vec3\x20dTang'+'entW;\x0a'),_0xba3083['includes']('dBinormalW')&&(_0x37786c+='vec3\x20dBino'+'rmalW;\x0a'),_0xba3083['includes']('dViewDirW')&&(_0x37786c+='vec3\x20dView'+'DirW;\x0a'),_0xba3083['includes']('dReflDirW')&&(_0x37786c+='vec3\x20dRefl'+'DirW;\x0a'),_0xba3083['includes']('dHalfDirW')&&(_0x37786c+='vec3\x20dHalf'+'DirW;\x0a'),_0xba3083['includes']('ccReflDirW')&&(_0x37786c+='vec3\x20ccRef'+'lDirW;\x0a'),_0xba3083['includes']('dLightDirN'+'ormW')&&(_0x37786c+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0xba3083['includes']('dLightDirW')&&(_0x37786c+='vec3\x20dLigh'+'tDirW;\x0a'),_0xba3083['includes']('dLightPosW')&&(_0x37786c+='vec3\x20dLigh'+'tPosW;\x0a'),_0xba3083['includes']('dShadowCoo'+'rd')&&(_0x37786c+='vec3\x20dShad'+'owCoord;\x0a'),_0xba3083['includes']('dReflectio'+'n')&&(_0x37786c+='vec4\x20dRefl'+'ection;\x0a'),_0xba3083['includes']('dDiffuseLi'+'ght')&&(_0x37786c+='vec3\x20dDiff'+'useLight;\x0a'),_0xba3083['includes']('dSpecularL'+'ight')&&(_0x37786c+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0xba3083['includes']('dAtten')&&(_0x37786c+='float\x20dAtt'+'en;\x0a'),_0xba3083['includes']('dAttenD')&&(_0x37786c+='float\x20dAtt'+'enD;\x0a'),_0xba3083['includes']('dAtten3')&&(_0x37786c+='vec3\x20dAtte'+'n3;\x0a'),_0xba3083['includes']('dMsdf')&&(_0x37786c+='vec4\x20dMsdf'+';\x0a'),_0xba3083['includes']('ccFresnel')&&(_0x37786c+='float\x20ccFr'+'esnel;\x0a'),_0xba3083['includes']('ccReflecti'+'on')&&(_0x37786c+='vec3\x20ccRef'+'lection;\x0a'),_0xba3083['includes']('ccSpecular'+'Light')&&(_0x37786c+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0xba3083['includes']('ccSpecular'+'ityNoFres')&&(_0x37786c+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0xba3083['includes']('sSpecularL'+'ight')&&(_0x37786c+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0xba3083['includes']('sReflectio'+'n')&&(_0x37786c+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x37786c+this['frontendDe'+'cl']+_0xba3083;}['generateFr'+'agmentShad'+'er'](_0x17eff8,_0x37221b,_0xb979b7,_0x2a5137){const _0x4b0556=this['options'];this['frontendDe'+'cl']=_0x17eff8,this['frontendCo'+'de']=_0x37221b,this['frontendFu'+'nc']=_0xb979b7,this['lightingUv']=_0x2a5137,_0x4b0556['pass']===Oa?this['fshader']=this['_fsGetPick'+'PassCode']():_0x4b0556['pass']===rl?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x4b0556['pass']===il?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x4b0556['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x4b0556['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),v['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class qC{constructor(){c(this,'hasTangent'+'s',!(0x2000+0x87b+-0x287a)),c(this,'chunks',{}),c(this,'pass',-0x1*0x7f1+0x45*-0x49+0xe*0x1f9),c(this,'alphaTest',!(-0x1ea3+-0x75d+-0x1*-0x2601)),c(this,'blendType',is),c(this,'separateAm'+'bient',!(0x1165+-0x4*-0x4dc+-0x935*0x4)),c(this,'screenSpac'+'e',!(-0x1073+-0x4*0x2c2+-0xdbe*-0x2)),c(this,'skin',!(0x204+0x1f0+0x1*-0x3f3)),c(this,'batch',!(-0x4*-0x95f+0x530+-0x2aab)),c(this,'useInstanc'+'ing',!(0x13e6+-0xa85*0x3+0xbaa)),c(this,'useMorphPo'+'sition',!(0x1*0x217b+0x584+-0x26fe)),c(this,'useMorphNo'+'rmal',!(-0xf1a+-0x24b0+0x33cb)),c(this,'useMorphTe'+'xtureBased'+'Int',!(0x9e2+-0xc*-0xc7+-0x1335)),c(this,'nineSliced'+'Mode',-0x13dc+0x2183+-0x3*0x48d),c(this,'clusteredL'+'ightingEna'+'bled',!(0x1*-0x7eb+0x155d+-0xd72)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0xb1+-0x23ce+0x122*0x1f)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(0x1e4c+0x4*-0x97a+0x79d)),c(this,'clusteredL'+'ightingSha'+'dowType',-0x1*0x14a6+-0x1*-0xd32+0x774),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(0xfbc+0x7*0xf9+-0x168a)),c(this,'vertexColo'+'rs',!(-0x17*-0xaf+-0xd90+0x3*-0xb8)),c(this,'lightMapEn'+'abled',!(0x615*-0x1+-0x1571+-0x51*-0x57)),c(this,'dirLightMa'+'pEnabled',!(0x1*-0x1eab+0x5*-0x5+-0x1ec5*-0x1)),c(this,'useHeights',!(0x1*0x547+-0x1668+0x1122)),c(this,'useNormals',!(-0x1d98+0x8f9*0x4+0x219*-0x3)),c(this,'useClearCo'+'atNormals',!(-0xadb+-0x477+0xf53)),c(this,'useAo',!(-0xc5*-0x21+-0x8e6+-0x107e*0x1)),c(this,'diffuseMap'+'Enabled',!(-0x59+-0x1*0x1eef+-0x1*-0x1f49)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(0x1831+0xee*-0x3+-0x1566)),c(this,'ambientSH',!(0x2154+0x223*0x3+-0x27bc)),c(this,'ssao',!(0x122d+0x15d8+0x1402*-0x2)),c(this,'twoSidedLi'+'ghting',!(-0x1*0x1128+-0x23*-0xec+-0xf1b)),c(this,'occludeDir'+'ect',!(0x1*0x1543+0x1*0x23ce+0x10*-0x391)),c(this,'occludeSpe'+'cular',-0x1*-0xddb+0x8c7+-0x16a2),c(this,'occludeSpe'+'cularFloat',!(-0x2522*0x1+-0xd9c*-0x2+-0x9eb*-0x1)),c(this,'useMsdf',!(-0x106*0x18+-0xbcf+0x2460)),c(this,'msdfTextAt'+'tribute',!(0x24*-0x6d+0x1099+-0x24*0x9)),c(this,'alphaToCov'+'erage',!(-0x1*0x20a9+0x221d+-0x173)),c(this,'opacityFad'+'esSpecular',!(-0x17*0x167+0x1*0x20af+-0x1*0x6d)),c(this,'opacityDit'+'her',Rs),c(this,'opacitySha'+'dowDither',Rs),c(this,'cubeMapPro'+'jection',-0x265c+-0x2352*-0x1+0x30a),c(this,'useSpecula'+'r',!(0x25b*0x3+0xed4+-0x15e4)),c(this,'useSpecula'+'rityFactor',!(0x7*0x1af+-0x2*0x1234+-0x314*-0x8)),c(this,'enableGGXS'+'pecular',!(0x527*-0x2+-0x10*0x22a+0x2cef)),c(this,'fresnelMod'+'el',0x7*-0x533+-0x1b2c+0x3f91),c(this,'useRefract'+'ion',!(0x1*-0x1829+-0x1561+-0x1*-0x2d8b)),c(this,'useClearCo'+'at',!(-0xdff+-0x2423+0x3223)),c(this,'useSheen',!(0x1cde+0x10ac+-0x2d89)),c(this,'useIridesc'+'ence',!(0x2181+-0x1*-0x2553+-0x46d3)),c(this,'useMetalne'+'ss',!(-0x1*-0x1367+0x7*-0x2ff+0x193*0x1)),c(this,'useDynamic'+'Refraction',!(0x6b*0x43+0x21dd+-0x3ddd)),c(this,'dispersion',!(-0xa*0x127+-0x236b+0x2ef2)),c(this,'fog',Fa),c(this,'gamma',sl),c(this,'toneMap',-(0x22f+-0x3*-0x28d+0x3*-0x347)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',0x2217+0x230+-0x2446),c(this,'useCubeMap'+'Rotation',!(-0x513*0x2+-0x9fa+0x1421)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(-0x3*0xa99+0x18b0+-0x23*-0x34)),c(this,'lights',[]),c(this,'noShadow',!(-0x14c7+0x29*0x6d+0x353)),c(this,'lightMaskD'+'ynamic',0x1cc7+0x5*-0x757+0x7ec),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(0x2bb*-0x5+0x833*0x3+-0xaf1));}}class Vh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(0x1a9f+-0x1*0xa16+-0x1088)),c(this,'specularTi'+'nt',!(-0x20ae+0x372+0x1d3d)),c(this,'metalnessT'+'int',!(0x3*0x737+0x845+-0x13*0x193)),c(this,'glossTint',!(0x176b+-0x1865*-0x1+-0x2fcf)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(-0x1*0x903+-0x194f+0x2253)),c(this,'glossInver'+'t',!(0x1*-0x1c9c+-0x22e3+-0x2*-0x1fc0)),c(this,'sheenGloss'+'Invert',!(-0x69d+-0x26*-0x27+0xd4)),c(this,'clearCoatG'+'lossInvert',!(0x106b*0x1+0x25f2+-0x365c)),c(this,'useAO',!(-0x3*0x8c1+0xc5*-0x11+0x2759)),c(this,'litOptions',new qC());}get['pass'](){return this['litOptions']['pass'];}}const Uu={'generateKey'(_0x177376){return'lit'+Object['keys'](_0x177376)['sort']()['map'](_0x543d74=>_0x543d74==='chunks'?Uu['generateCh'+'unksKey'](_0x177376):_0x543d74==='lights'?Uu['generateLi'+'ghtsKey'](_0x177376):_0x543d74+_0x177376[_0x543d74])['join']('\x0a');},'generateLightsKey'(_0x1b2df2){return'lights:'+_0x1b2df2['lights']['map'](_0x5b3766=>!_0x1b2df2['clusteredL'+'ightingEna'+'bled']||_0x5b3766['_type']===oe?_0x5b3766['key']+',':'')['join']('');},'generateChunksKey'(_0x55accd){return'chunks:\x0a'+Object['keys'](_0x55accd['chunks']??{})['sort']()['map'](_0x5a7552=>_0x5a7552+_0x55accd['chunks'][_0x5a7552])['join']('');}},fa=[],Ad=_0x2c7f4=>Object['keys'](_0x2c7f4)['filter'](_0x113451=>_0x113451!=='litOptions')['sort']();class XC extends It{constructor(){super(...arguments),c(this,'optionsCon'+'text',new Vh()),c(this,'optionsCon'+'textMin',new Vh());}['generateKe'+'y'](_0x5c6a1c){let _0xf7413e;return _0x5c6a1c===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Ad(_0x5c6a1c)),_0xf7413e=this['propsMin']):_0x5c6a1c===this['optionsCon'+'text']?(this['props']||(this['props']=Ad(_0x5c6a1c)),_0xf7413e=this['props']):_0xf7413e=Ad(_0x5c6a1c),'standard:\x0a'+It['definesHas'+'h'](_0x5c6a1c['defines'])+'\x0a'+_0xf7413e['map'](_0xb0dc6b=>_0xb0dc6b+_0x5c6a1c[_0xb0dc6b])['join']('\x0a')+Uu['generateKe'+'y'](_0x5c6a1c['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x5035ac,_0x5ae8c5,_0x5d3a37){const _0x1f0a3c=_0x5d3a37[_0x5035ac],_0x301e85=_0x5d3a37[_0x5ae8c5],_0x5e9632=_0x5d3a37['litOptions']['pass']===gn;let _0x2af42b;return _0x5e9632&&_0x5d3a37['litOptions']['nineSliced'+'Mode']===nt||_0x5e9632&&_0x5d3a37['litOptions']['nineSliced'+'Mode']===Qe?_0x2af42b='nineSliced'+'Uv':(_0x1f0a3c===-0x2505+-0x1b33+0x4038?_0x2af42b='vUv'+_0x301e85:_0x2af42b='vUV'+_0x301e85+'_'+_0x1f0a3c,_0x5d3a37['heightMap']&&_0x5035ac!=='heightMapT'+'ransform'&&(_0x2af42b+='\x20+\x20dUvOffs'+'et')),_0x2af42b;}['_addMapDef'](_0x45f2d1,_0x3e29ed){return _0x3e29ed?'#define\x20'+_0x45f2d1+'\x0a':'#undef\x20'+_0x45f2d1+'\x0a';}['_addMapDef'+'s'](_0x2cf465,_0x1448f8,_0x5beeb7,_0x4a163f,_0x4e93c7){return this['_addMapDef']('MAPFLOAT',_0x2cf465)+this['_addMapDef']('MAPCOLOR',_0x1448f8)+this['_addMapDef']('MAPVERTEX',_0x5beeb7)+this['_addMapDef']('MAPTEXTURE',_0x4a163f)+this['_addMapDef']('MAPINVERT',_0x4e93c7);}['_addMap'](_0x24de22,_0x1b2376,_0x4eb4bc,_0x25c155,_0x2c5e4f,_0x41cf9d=null){const _0x182cf7=_0x24de22+'Map',_0x2d514a=_0x182cf7+'Uv',_0x242200=_0x182cf7+'Identifier',_0x1390e7=_0x182cf7+'Transform',_0xd9f2cd=_0x182cf7+'Channel',_0x4dcea3=_0x24de22+('VertexColo'+'rChannel'),_0x47e64e=_0x24de22+'Tint',_0x4c3744=_0x24de22+('VertexColo'+'r'),_0x25ec24=_0x24de22+'Mode',_0x3972b5=_0x24de22+'Invert',_0x51d713=_0x4eb4bc[_0x47e64e],_0xfe1c30=_0x4eb4bc[_0x4c3744],_0x55b576=_0x4eb4bc[_0x182cf7],_0xc46f07=_0x4eb4bc[_0x242200],_0x2dcea2=_0x4eb4bc[_0x25ec24];let _0x504411=_0x25c155[_0x1b2376];if(_0x55b576){const _0x4b208f=this['_getUvSour'+'ceExpressi'+'on'](_0x1390e7,_0x2d514a,_0x4eb4bc);if(_0x504411=_0x504411['replace'](/\$UV/g,_0x4b208f)['replace'](/\$CH/g,_0x4eb4bc[_0xd9f2cd]),_0x2c5e4f&&_0x504411['search'](/\$SAMPLER/g)!==-(-0x18c7+0xa44*-0x2+-0xa*-0x488)){let _0x483970='texture_'+_0x182cf7;const _0x4d154d=_0x2c5e4f[_0xc46f07];_0x4d154d?_0x483970=_0x4d154d:_0x2c5e4f[_0xc46f07]=_0x483970,_0x504411=_0x504411['replace'](/\$SAMPLER/g,_0x483970);}if(_0x41cf9d&&(_0x4eb4bc[_0xd9f2cd]==='aaa'?_0x504411=_0x504411['replace'](/\$DECODE/g,'passThroug'+'h'):_0x504411=_0x504411['replace'](/\$DECODE/g,Es['decodeFunc'](_0x41cf9d)),_0x504411['indexOf']('$texture2D'+'SAMPLE'))){const _0x17aa1c={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x504411=_0x504411['replace'](/\$texture2DSAMPLE/g,_0x17aa1c[_0x41cf9d]||'texture2D');}}_0xfe1c30&&(_0x504411=_0x504411['replace'](/\$VC/g,_0x4eb4bc[_0x4dcea3])),_0x2dcea2&&(_0x504411=_0x504411['replace'](/\$DETAILMODE/g,_0x2dcea2));const _0x4488b6=!!(_0x51d713&0x22b8+-0x246d+-0x49*-0x6),_0x259c32=!!(_0x51d713&-0x151*-0x1d+0x7bf*-0x2+-0x16ad),_0x3f77b7=!!_0x4eb4bc[_0x3972b5];return _0x504411=this['_addMapDef'+'s'](_0x4488b6,_0x259c32,_0xfe1c30,_0x55b576,_0x3f77b7)+_0x504411,_0x504411['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x2032fb,_0x348be3,_0x3a1e58){if(_0x3a1e58[_0x2032fb]>-0x1280+-0x960+-0x8*-0x37c){if(_0x3a1e58[_0x2032fb]<_0x348be3['length'])return _0x348be3['substring'](-0x1c19*0x1+-0x1*-0x247f+-0x866,_0x3a1e58[_0x2032fb]);if(_0x3a1e58[_0x2032fb]>_0x348be3['length']){let _0x368180=_0x348be3;const _0x5c3525=_0x368180['charAt'](_0x368180['length']-(0x78b+-0x1*-0x973+-0x10fd)),_0x1bcc22=_0x3a1e58[_0x2032fb]-_0x368180['length'];for(let _0xc862b1=-0x12a0*0x1+0x78f+0xb11*0x1;_0xc862b1<_0x1bcc22;_0xc862b1++)_0x368180+=_0x5c3525;return _0x368180;}return _0x348be3;}}['createShad'+'erDefiniti'+'on'](_0x2b5b46,_0x5a87eb){const _0x13ca71=Ks['get'](_0x2b5b46)['getByIndex'](_0x5a87eb['litOptions']['pass'])['isForward'],_0x823fc6=new WC(_0x2b5b46,_0x5a87eb['litOptions']),_0x147027=[],_0x4e3ffc=[],_0x2c420b=[],_0x4b2a00=-0xb*0x137+-0x1081+0x1de0,_0xe7095f={};for(const _0x1d2036 in fa){const _0x2fec9b=_0x1d2036+'Map';if(_0x5a87eb[_0x1d2036+('VertexColo'+'r')]){const _0x6b8deb=_0x1d2036+('VertexColo'+'rChannel');_0x5a87eb[_0x6b8deb]=this['_correctCh'+'annel'](_0x1d2036,_0x5a87eb[_0x6b8deb],fa);}if(_0x5a87eb[_0x2fec9b]){const _0x3013bd=_0x2fec9b+'Channel',_0x3308c=_0x2fec9b+'Transform',_0x53dd71=_0x2fec9b+'Uv';_0x5a87eb[_0x53dd71]=Math['min'](_0x5a87eb[_0x53dd71],_0x4b2a00-(0x8*0x328+0x9c7*-0x2+-0x2f*0x1f)),_0x5a87eb[_0x3013bd]=this['_correctCh'+'annel'](_0x1d2036,_0x5a87eb[_0x3013bd],fa);const _0x2fbfbc=_0x5a87eb[_0x53dd71];_0x147027[_0x2fbfbc]=!(0x23db+0x1a31+-0x26*0x1a2),_0x4e3ffc[_0x2fbfbc]=_0x4e3ffc[_0x2fbfbc]||_0x5a87eb[_0x2fec9b]&&!_0x5a87eb[_0x3308c],_0x5a87eb[_0x3308c]&&_0x2c420b['push']({'name':_0x1d2036,'id':_0x5a87eb[_0x3308c],'uv':_0x5a87eb[_0x53dd71]});}}_0x5a87eb['forceUv1']&&(_0x147027[0x1bbf+0x2*-0x12b5+0x9ac]=!(-0x55e+0x1*0x11a4+-0xc46),_0x4e3ffc[-0x2*-0xc88+-0xf*-0x57+-0x1e28]=_0x4e3ffc[-0x1c38+0xe52+0xde7]!==void(0x167*-0x9+0x121c+-0x57d)?_0x4e3ffc[0x329*0x6+0x107*-0x25+0x2*0x987]:!(0x6f2+-0x10*-0x1d3+-0x19*0x172)),_0x823fc6['generateVe'+'rtexShader'](_0x147027,_0x4e3ffc,_0x2c420b),_0x5a87eb['litOptions']['fresnelMod'+'el']=_0x5a87eb['litOptions']['fresnelMod'+'el']===-0x1f*-0x2b+0x35*0x9e+-0x25eb?Sp:_0x5a87eb['litOptions']['fresnelMod'+'el'];const _0x274038=new sr(),_0x36da2e=new sr(),_0x249664=new sr(),_0x1707a4=new sr();let _0x1d165a='';if(_0x5a87eb['litOptions']['nineSliced'+'Mode']===Qe?_0x274038['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x274038['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0x13ca71){if(_0x5a87eb['heightMap']&&(_0x274038['append']('vec2\x20dUvOf'+'fset;'),_0x36da2e['append'](this['_addMap']('height','parallaxPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getParalla'+'x();')),_0x5a87eb['litOptions']['blendType']!==is||_0x5a87eb['litOptions']['alphaTest']||_0x5a87eb['litOptions']['alphaToCov'+'erage']||_0x5a87eb['litOptions']['opacityDit'+'her']!==Rs){_0x274038['append']('float\x20dAlp'+'ha;'),_0x36da2e['append'](this['_addMap']('opacity','opacityPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getOpacity'+'();'),_0x1707a4['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x5a87eb['litOptions']['alphaTest']&&(_0x36da2e['append'](_0x823fc6['chunks']['alphaTestP'+'S']),_0x249664['append']('alphaTest('+'dAlpha);'));const _0x9ff726=_0x5a87eb['litOptions']['opacityDit'+'her'];_0x9ff726!==Rs&&(_0x9ff726===Nm&&_0x274038['append'](_0x823fc6['chunks']['bayerPS']),_0x274038['append']('#define\x20DI'+'THER_'+_0x9ff726['toUpperCas'+'e']()+'\x0a'),_0x274038['append'](_0x823fc6['chunks']['opacityDit'+'herPS']),_0x249664['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x274038['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x823fc6['needsNorma'+'l']){if((_0x5a87eb['normalMap']||_0x5a87eb['clearCoatN'+'ormalMap'])&&(_0x36da2e['append'](_0x5a87eb['packedNorm'+'al']?_0x823fc6['chunks']['normalXYPS']:_0x823fc6['chunks']['normalXYZP'+'S']),!_0x5a87eb['litOptions']['hasTangent'+'s'])){const _0x18f190=_0x5a87eb['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x1d165a=this['_getUvSour'+'ceExpressi'+'on'](_0x18f190+'Transform',_0x18f190+'Uv',_0x5a87eb);}_0x274038['append']('vec3\x20dNorm'+'alW;'),_0x36da2e['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x36da2e['append'](this['_addMap']('normal','normalMapP'+'S',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getNormal('+');'),_0x1707a4['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x823fc6['needsScene'+'Color']&&_0x274038['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x823fc6['needsScree'+'nSize']&&_0x274038['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x823fc6['needsTrans'+'forms']&&(_0x274038['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x274038['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x5a87eb['diffuseDet'+'ail']||_0x5a87eb['aoDetail'])&&_0x36da2e['append'](_0x823fc6['chunks']['detailMode'+'sPS']),_0x274038['append']('vec3\x20dAlbe'+'do;'),_0x5a87eb['diffuseDet'+'ail']&&_0x36da2e['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f,_0x5a87eb['diffuseDet'+'ailEncodin'+'g'])),_0x36da2e['append'](this['_addMap']('diffuse','diffusePS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f,_0x5a87eb['diffuseEnc'+'oding'])),_0x249664['append']('getAlbedo('+');'),_0x1707a4['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x5a87eb['litOptions']['useRefract'+'ion']&&(_0x274038['append']('float\x20dTra'+'nsmission;'),_0x36da2e['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getRefract'+'ion();'),_0x1707a4['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x274038['append']('float\x20dThi'+'ckness;'),_0x36da2e['append'](this['_addMap']('thickness','thicknessP'+'S',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getThickne'+'ss();'),_0x1707a4['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x5a87eb['litOptions']['dispersion']&&_0x1707a4['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x5a87eb['litOptions']['useIridesc'+'ence']&&(_0x274038['append']('float\x20dIri'+'descence;'),_0x36da2e['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getIridesc'+'ence();'),_0x1707a4['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x274038['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x36da2e['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getIridesc'+'enceThickn'+'ess();'),_0x1707a4['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x823fc6['lighting']&&_0x5a87eb['litOptions']['useSpecula'+'r']||_0x823fc6['reflection'+'s']?(_0x274038['append']('vec3\x20dSpec'+'ularity;'),_0x274038['append']('float\x20dGlo'+'ssiness;'),_0x5a87eb['litOptions']['useSheen']&&(_0x274038['append']('vec3\x20sSpec'+'ularity;'),_0x36da2e['append'](this['_addMap']('sheen','sheenPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f,_0x5a87eb['sheenEncod'+'ing'])),_0x249664['append']('getSheen()'+';'),_0x1707a4['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x274038['append']('float\x20sGlo'+'ssiness;'),_0x36da2e['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getSheenGl'+'ossiness()'+';'),_0x1707a4['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x5a87eb['litOptions']['useMetalne'+'ss']&&(_0x274038['append']('float\x20dMet'+'alness;'),_0x36da2e['append'](this['_addMap']('metalness','metalnessP'+'S',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getMetalne'+'ss();'),_0x1707a4['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x274038['append']('float\x20dIor'+';'),_0x36da2e['append'](this['_addMap']('ior','iorPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getIor();'),_0x1707a4['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x5a87eb['litOptions']['useSpecula'+'rityFactor']&&(_0x274038['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x36da2e['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getSpecula'+'rityFactor'+'();'),_0x1707a4['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x5a87eb['useSpecula'+'rColor']?_0x36da2e['append'](this['_addMap']('specular','specularPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f,_0x5a87eb['specularEn'+'coding'])):_0x36da2e['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x36da2e['append'](this['_addMap']('gloss','glossPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getGlossin'+'ess();'),_0x249664['append']('getSpecula'+'rity();'),_0x1707a4['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x1707a4['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x274038['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x274038['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x5a87eb['aoDetail']&&_0x36da2e['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),(_0x5a87eb['aoMap']||_0x5a87eb['aoVertexCo'+'lor']||_0x5a87eb['useAO'])&&(_0x274038['append']('float\x20dAo;'),_0x36da2e['append'](this['_addMap']('ao','aoPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getAO();'),_0x1707a4['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x274038['append']('vec3\x20dEmis'+'sion;'),_0x36da2e['append'](this['_addMap']('emissive','emissivePS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f,_0x5a87eb['emissiveEn'+'coding'])),_0x249664['append']('getEmissio'+'n();'),_0x1707a4['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x5a87eb['litOptions']['useClearCo'+'at']&&(_0x274038['append']('float\x20ccSp'+'ecularity;'),_0x274038['append']('float\x20ccGl'+'ossiness;'),_0x274038['append']('vec3\x20ccNor'+'malW;'),_0x36da2e['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x36da2e['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x36da2e['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getClearCo'+'at();'),_0x249664['append']('getClearCo'+'atGlossine'+'ss();'),_0x249664['append']('getClearCo'+'atNormal()'+';'),_0x1707a4['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x1707a4['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x1707a4['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x5a87eb['lightMap']||_0x5a87eb['lightVerte'+'xColor']){const _0x12d825=_0x5a87eb['dirLightMa'+'p']&&_0x5a87eb['litOptions']['useSpecula'+'r'],_0xefd236=_0x12d825?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x274038['append']('vec3\x20dLigh'+'tmap;'),_0x12d825&&_0x274038['append']('vec3\x20dLigh'+'tmapDir;'),_0x36da2e['append'](this['_addMap']('light',_0xefd236,_0x5a87eb,_0x823fc6['chunks'],_0xe7095f,_0x5a87eb['lightMapEn'+'coding'])),_0x249664['append']('getLightMa'+'p();'),_0x1707a4['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x12d825&&_0x1707a4['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}v['assert'](_0x36da2e['code']['indexOf']('texture2DS'+'RGB')===-(-0x9fc+0x863+0x2*0xcd)&&_0x36da2e['code']['indexOf']('texture2DR'+'GBM')===-(-0x24+-0xa*-0x383+0x1*-0x22f9)&&_0x36da2e['code']['indexOf']('texture2DR'+'GBE')===-(-0xc40+-0x2693+0xcb5*0x4),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x2e2882=_0x5a87eb['litOptions']['opacitySha'+'dowDither'];(_0x5a87eb['litOptions']['alphaTest']||_0x2e2882)&&(_0x274038['append']('float\x20dAlp'+'ha;'),_0x36da2e['append'](this['_addMap']('opacity','opacityPS',_0x5a87eb,_0x823fc6['chunks'],_0xe7095f)),_0x249664['append']('getOpacity'+'();'),_0x1707a4['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x5a87eb['litOptions']['alphaTest']&&(_0x36da2e['append'](_0x823fc6['chunks']['alphaTestP'+'S']),_0x249664['append']('alphaTest('+'dAlpha);')),_0x2e2882!==Rs&&(_0x2e2882===Nm&&_0x274038['append'](_0x823fc6['chunks']['bayerPS']),_0x274038['append']('#define\x20DI'+'THER_'+_0x2e2882['toUpperCas'+'e']()+'\x0a'),_0x274038['append'](_0x823fc6['chunks']['opacityDit'+'herPS']),_0x249664['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x274038['append'](_0x823fc6['chunks']['litShaderA'+'rgsPS']),_0x36da2e['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x249664['code']+'\x0a'+_0x1707a4['code']+'\x0a\x20}\x0a'),_0x249664['code']='evaluateFr'+'ontend();';for(const _0x3614ca in _0xe7095f)_0x274038['append']('uniform\x20sa'+'mpler2D\x20'+_0xe7095f[_0x3614ca]+';');_0x249664['code']='\x0a'+_0x249664['code']['split']('\x0a')['map'](_0x8a7d73=>'\x20\x20\x20\x20'+_0x8a7d73)['join']('\x0a')+'\x0a\x0a',_0x823fc6['generateFr'+'agmentShad'+'er'](_0x274038['code'],_0x36da2e['code'],_0x249664['code'],_0x1d165a);const _0x59cb93=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x823fc6['chunks']),..._0x823fc6['chunks'],..._0x5a87eb['litOptions']['chunks']})),_0x480d98=new Map(_0x5a87eb['defines']),_0x441104=Mt['createDefi'+'nition'](_0x2b5b46,{'name':'StandardSh'+'ader','attributes':_0x823fc6['attributes'],'vertexCode':_0x823fc6['vshader'],'fragmentCode':_0x823fc6['fshader'],'vertexIncludes':_0x59cb93,'fragmentIncludes':_0x59cb93,'fragmentDefines':_0x480d98,'vertexDefines':_0x480d98});return _0x823fc6['shaderPass'+'Info']['isForward']&&(_0x441104['tag']=Ly),_0x441104;}}const Ed=new XC(),Ft=[];Ft[n0]={'src':at,'dst':at,'op':ES},Ft[is]={'src':at,'dst':kf,'op':Lt},Ft[Kt]={'src':dc,'dst':uc,'op':Lt,'alphaSrc':at},Ft[hr]={'src':at,'dst':uc,'op':Lt},Ft[yp]={'src':at,'dst':at,'op':Lt},Ft[Hc]={'src':dc,'dst':at,'op':Lt},Ft[a0]={'src':dy,'dst':TS,'op':Lt},Ft[o0]={'src':AS,'dst':at,'op':Lt},Ft[xp]={'src':dy,'dst':kf,'op':Lt},Ft[l0]={'src':at,'dst':at,'op':CS},Ft[h0]={'src':at,'dst':at,'op':MS};let jC=-0xc8f*-0x1+0x5b5+-0x1244;class yn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',jC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(0x246+0x1*0x55d+-0x7a2)),c(this,'parameters',{}),c(this,'alphaTest',0x23b*0x9+-0x1*-0x1183+-0x2596),c(this,'alphaToCov'+'erage',!(0x2312+0x977+-0x4b*0x98)),c(this,'_blendStat'+'e',new _t()),c(this,'_depthStat'+'e',new as()),c(this,'cull',rn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(0x3b8+0x2*0x246+-0x844)),c(this,'_shaderVer'+'sion',-0x1cf4+-0xab5*0x3+0x3b*0x109),c(this,'_scene',null),c(this,'dirty',!(0x989+-0x1*-0xed+-0xa76)),new.target===yn&&v['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x1d4ec8){this['_dirtyShad'+'er']=!(0x1*-0x981+-0x215*0xb+-0x81a*-0x4),this['_chunks']=_0x1d4ec8;}get['chunks'](){return this['_dirtyShad'+'er']=!(-0x25b7+0x182d+0xd8a),this['_chunks'];}set['depthBias'](_0x19f505){this['_depthStat'+'e']['depthBias']=_0x19f505;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x5e2d0f){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x5e2d0f;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x336485){this['_blendStat'+'e']['redWrite']=_0x336485;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x44cf4b){this['_blendStat'+'e']['greenWrite']=_0x44cf4b;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x753a4a){this['_blendStat'+'e']['blueWrite']=_0x753a4a;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x45cefe){this['_blendStat'+'e']['alphaWrite']=_0x45cefe;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x14646d=this['transparen'+'t'],_0x8c07d=this['meshInstan'+'ces'];for(let _0x4b02e8=0x10*-0xec+-0x1*-0x1ab1+-0xbf1*0x1;_0x4b02e8<_0x8c07d['length'];_0x4b02e8++)_0x8c07d[_0x4b02e8]['transparen'+'t']=_0x14646d;}set['blendState'](_0x3ee6cd){this['_blendStat'+'e']['copy'](_0x3ee6cd),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x426fdc){const _0x36ccf9=Ft[_0x426fdc];v['assert'](_0x36ccf9,'Unknown\x20bl'+'end\x20mode\x20'+_0x426fdc),this['_blendStat'+'e']['setColorBl'+'end'](_0x36ccf9['op'],_0x36ccf9['src'],_0x36ccf9['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x36ccf9['alphaOp']??_0x36ccf9['op'],_0x36ccf9['alphaSrc']??_0x36ccf9['src'],_0x36ccf9['alphaDst']??_0x36ccf9['dst']);const _0x1cefcf=_0x426fdc!==is;this['_blendStat'+'e']['blend']!==_0x1cefcf&&(this['_blendStat'+'e']['blend']=_0x1cefcf,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return is;const {colorOp:_0x1a27f2,colorSrcFactor:_0x628a9,colorDstFactor:_0x3357d5,alphaOp:_0x407e85,alphaSrcFactor:_0x2bf3f3,alphaDstFactor:_0x404fa5}=this['_blendStat'+'e'];for(let _0x3de818=0x5*0xfb+-0x3*-0x8f5+-0xe*0x245;_0x3de818<Ft['length'];_0x3de818++){const _0x26c813=Ft[_0x3de818];if(_0x26c813['src']===_0x628a9&&_0x26c813['dst']===_0x3357d5&&_0x26c813['op']===_0x1a27f2&&_0x26c813['src']===_0x2bf3f3&&_0x26c813['dst']===_0x404fa5&&_0x26c813['op']===_0x407e85)return _0x3de818;}return Kt;}set['depthState'](_0x534f84){this['_depthStat'+'e']['copy'](_0x534f84);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x2f6b1f){this['_depthStat'+'e']['test']=_0x2f6b1f;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x5c359a){this['_depthStat'+'e']['func']=_0x5c359a;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x42b15b){this['_depthStat'+'e']['write']=_0x42b15b;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x54daca){var _0x1316f5;this['name']=_0x54daca['name'],this['alphaTest']=_0x54daca['alphaTest'],this['alphaToCov'+'erage']=_0x54daca['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x54daca['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x54daca['_depthStat'+'e']),this['cull']=_0x54daca['cull'],this['stencilFro'+'nt']=(_0x1316f5=_0x54daca['stencilFro'+'nt'])==null?void(-0x8ac*0x2+-0x155f+0x26b7):_0x1316f5['clone'](),_0x54daca['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x54daca['stencilFro'+'nt']===_0x54daca['stencilBac'+'k']?this['stencilFro'+'nt']:_0x54daca['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x582a8f in _0x54daca['parameters'])_0x54daca['parameters']['hasOwnProp'+'erty'](_0x582a8f)&&this['_setParame'+'terSimple'](_0x582a8f,_0x54daca['parameters'][_0x582a8f]['data']);this['defines']['clear'](),_0x54daca['defines']['forEach']((_0x253186,_0x18be1b)=>this['defines']['set'](_0x18be1b,_0x253186));const _0x18cf07=_0x54daca['_chunks'];for(const _0x36eb71 in _0x18cf07)_0x18cf07['hasOwnProp'+'erty'](_0x36eb71)&&(this['_chunks'][_0x36eb71]=_0x18cf07[_0x36eb71]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x12f37e=this['meshInstan'+'ces'];for(let _0x2bdac8=-0x1*-0x120e+0xb3a+-0xea4*0x2;_0x2bdac8<_0x12f37e['length'];_0x2bdac8++)_0x12f37e[_0x2bdac8]['updateKey']();}['updateUnif'+'orms'](_0x3db62c,_0x4d42ec){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x3387e8){v['assert'](!(-0x4db+0xfd3*-0x2+-0x2482*-0x1),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x1*0x1010+0x4a*0x22+-0x19e3),this['clearVaria'+'nts']()),this['dirty']=!(0xe6c+-0x10*-0x1c1+0x2*-0x153e);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x214f0b=this['meshInstan'+'ces'],_0x291459=_0x214f0b['length'];for(let _0x14974a=0x8*-0x168+-0x1*0x14cb+0x200b;_0x14974a<_0x291459;_0x14974a++)_0x214f0b[_0x14974a]['clearShade'+'rs']();}['getParamet'+'er'](_0x16d575){return this['parameters'][_0x16d575];}['_setParame'+'terSimple'](_0xcabc7,_0x184b4a){v['call'](()=>{_0x184b4a===void(-0x1089+0x19d6+0x94d*-0x1)&&v['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0xcabc7+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x2caaf1=this['parameters'][_0xcabc7];_0x2caaf1?_0x2caaf1['data']=_0x184b4a:this['parameters'][_0xcabc7]={'scopeId':null,'data':_0x184b4a};}['setParamet'+'er'](_0x12df05,_0x2adf44){if(_0x2adf44===void(0x1*0x141b+0x1a0+-0x15bb)&&typeof _0x12df05=='object'){const _0x221d51=_0x12df05;if(_0x221d51['length']){for(let _0xb2b9f7=0x1243+-0x285+-0xfbe;_0xb2b9f7<_0x221d51['length'];_0xb2b9f7++)this['setParamet'+'er'](_0x221d51[_0xb2b9f7]);return;}_0x12df05=_0x221d51['name'],_0x2adf44=_0x221d51['value'];}this['_setParame'+'terSimple'](_0x12df05,_0x2adf44);}['deletePara'+'meter'](_0x31c8ec){this['parameters'][_0x31c8ec]&&delete this['parameters'][_0x31c8ec];}['setParamet'+'ers'](_0x14617c,_0x3ed463){const _0x43db9d=this['parameters'];_0x3ed463===void(-0x3*-0xa57+0x1cbb+-0x3bc0)&&(_0x3ed463=_0x43db9d);for(const _0x1cbe40 in _0x3ed463){const _0x1629c0=_0x43db9d[_0x1cbe40];_0x1629c0&&(_0x1629c0['scopeId']||(_0x1629c0['scopeId']=_0x14617c['scope']['resolve'](_0x1cbe40)),_0x1629c0['scopeId']['setValue'](_0x1629c0['data']));}}['setDefine'](_0x11675f,_0x351ec1){let _0x124dae=!(-0x207e+-0x37+-0x1*-0x20b6);const {defines:_0x5880f2}=this;_0x351ec1!==void(0x1e*0x25+0xd*-0x25+-0x275)&&_0x351ec1!==!(0x355*-0x2+0x2e2+0x33*0x13)?(_0x124dae=!_0x5880f2['has'](_0x11675f)||_0x5880f2['get'](_0x11675f)!==_0x351ec1,_0x5880f2['set'](_0x11675f,_0x351ec1)):(_0x124dae=_0x5880f2['has'](_0x11675f),_0x5880f2['delete'](_0x11675f)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x124dae);}['getDefine'](_0x1d401a){return this['defines']['has'](_0x1d401a);}['destroy'](){this['variants']['clear']();for(let _0x2b472b=0x4*0x742+-0x253f+0x837;_0x2b472b<this['meshInstan'+'ces']['length'];_0x2b472b++){const _0x591627=this['meshInstan'+'ces'][_0x2b472b];if(_0x591627['clearShade'+'rs'](),_0x591627['_material']=null,_0x591627['mesh']){const _0x3450f4=al(_0x591627['mesh']['device']);this!==_0x3450f4&&(_0x591627['material']=_0x3450f4);}else v['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x23bb+0xc12*0x1+0x17a9;}['addMeshIns'+'tanceRef'](_0x3f4117){this['meshInstan'+'ces']['push'](_0x3f4117);}['removeMesh'+'InstanceRe'+'f'](_0x5ca455){const _0xa37570=this['meshInstan'+'ces'],_0x3902a0=_0xa37570['indexOf'](_0x5ca455);_0x3902a0!==-(0x12e1+-0x2103*-0x1+-0x25*0x167)&&_0xa37570['splice'](_0x3902a0,-0x1*-0x1d99+-0x4c7+-0x18d1);}}class As{static['update'](_0x1413b3,_0x151bf5,_0x523505,_0x3dad8b,_0x154c6a,_0x1a86b2,_0x1532a1){As['updateShar'+'edOptions'](_0x1413b3,_0x151bf5,_0x523505,_0x154c6a,_0x1a86b2),As['updateMate'+'rialOption'+'s'](_0x1413b3,_0x151bf5),As['updateEnvO'+'ptions'](_0x1413b3,_0x151bf5,_0x523505,_0x3dad8b),As['updateLigh'+'tingOption'+'s'](_0x1413b3,_0x151bf5,_0x154c6a,_0x1532a1);}static['updateShar'+'edOptions'](_0x5fa270,_0x207bf9,_0x22698b,_0x53105e,_0x450285){_0x5fa270['chunks']=_0x207bf9['chunks'],_0x5fa270['pass']=_0x450285,_0x5fa270['alphaTest']=_0x207bf9['alphaTest']>-0x1*-0x1127+0x1576+-0xf*0x293,_0x5fa270['blendType']=_0x207bf9['blendType'],_0x5fa270['screenSpac'+'e']=_0x53105e&&(_0x53105e&Cp)!==0x182d+0x2439+0x12*-0x35b,_0x5fa270['skin']=_0x53105e&&(_0x53105e&$c)!==-0x1f5c+0x166b*0x1+-0x147*-0x7,_0x5fa270['useInstanc'+'ing']=_0x53105e&&(_0x53105e&Wc)!==-0x1*0x25a2+-0x8e3+0x2e85*0x1,_0x5fa270['useMorphPo'+'sition']=_0x53105e&&(_0x53105e&qc)!==0xf79+-0x1*-0x198+-0x1111,_0x5fa270['useMorphNo'+'rmal']=_0x53105e&&(_0x53105e&Xc)!==-0x1b2*0x1+-0x255a+-0x77*-0x54,_0x5fa270['useMorphTe'+'xtureBased'+'Int']=_0x53105e&&(_0x53105e&jc)!==0x197a+-0x1*-0x267b+-0x3ff5,_0x5fa270['hasTangent'+'s']=_0x53105e&&(_0x53105e&Mp)!==-0x1fc9+0x1*-0x423+0x23ec,_0x5fa270['nineSliced'+'Mode']=_0x207bf9['nineSliced'+'Mode']||Ti,_0x207bf9['useLightin'+'g']&&_0x22698b['clusteredL'+'ightingEna'+'bled']?(_0x5fa270['clusteredL'+'ightingEna'+'bled']=!(-0xd58+0x790+0x94*0xa),_0x5fa270['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x22698b['lighting']['cookiesEna'+'bled'],_0x5fa270['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x22698b['lighting']['shadowsEna'+'bled'],_0x5fa270['clusteredL'+'ightingSha'+'dowType']=_0x22698b['lighting']['shadowType'],_0x5fa270['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x22698b['lighting']['areaLights'+'Enabled']):(_0x5fa270['clusteredL'+'ightingEna'+'bled']=!(-0xceb+0x5*0x1d3+0x3cd*0x1),_0x5fa270['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x338+-0xab*-0x1f+-0x117c),_0x5fa270['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x2c*-0x7f+0xb94+0x1f7*-0x11),_0x5fa270['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x4ca+-0x29c*-0x2+-0x1*0x6d));}static['updateMate'+'rialOption'+'s'](_0x5e914d,_0x548c5a){_0x5e914d['separateAm'+'bient']=!(0x61b*-0x3+0x1e43*0x1+0xbf1*-0x1),_0x5e914d['customFrag'+'mentShader']=null,_0x5e914d['pixelSnap']=_0x548c5a['pixelSnap'],_0x5e914d['ambientSH']=_0x548c5a['ambientSH'],_0x5e914d['twoSidedLi'+'ghting']=_0x548c5a['twoSidedLi'+'ghting'],_0x5e914d['occludeDir'+'ect']=_0x548c5a['occludeDir'+'ect'],_0x5e914d['occludeSpe'+'cular']=_0x548c5a['occludeSpe'+'cular'],_0x5e914d['occludeSpe'+'cularFloat']=_0x548c5a['occludeSpe'+'cularInten'+'sity']!==0x1*0xef+0x1ef+-0x2dd,_0x5e914d['useMsdf']=!(0x8f9+-0x167a+0xd82),_0x5e914d['msdfTextAt'+'tribute']=!(0xf96+-0xf1*-0x3+-0x1268),_0x5e914d['alphaToCov'+'erage']=_0x548c5a['alphaToCov'+'erage'],_0x5e914d['opacityFad'+'esSpecular']=_0x548c5a['opacityFad'+'esSpecular'],_0x5e914d['opacityDit'+'her']=_0x548c5a['opacityDit'+'her'],_0x5e914d['cubeMapPro'+'jection']=u0,_0x5e914d['useSpecula'+'r']=_0x548c5a['hasSpecula'+'r'],_0x5e914d['useSpecula'+'rityFactor']=_0x548c5a['hasSpecula'+'rityFactor'],_0x5e914d['enableGGXS'+'pecular']=_0x548c5a['ggxSpecula'+'r'],_0x5e914d['fresnelMod'+'el']=_0x548c5a['fresnelMod'+'el'],_0x5e914d['useRefract'+'ion']=_0x548c5a['hasRefract'+'ion'],_0x5e914d['useClearCo'+'at']=_0x548c5a['hasClearCo'+'at'],_0x5e914d['useSheen']=_0x548c5a['hasSheen'],_0x5e914d['useIridesc'+'ence']=_0x548c5a['hasIrrides'+'cence'],_0x5e914d['useMetalne'+'ss']=_0x548c5a['hasMetalne'+'ss'],_0x5e914d['useDynamic'+'Refraction']=_0x548c5a['dynamicRef'+'raction'],_0x5e914d['dispersion']=_0x548c5a['dispersion']>-0x1a+-0x1bf0+0x2*0xe05,_0x5e914d['vertexColo'+'rs']=!(0x1f92+-0x1*0x19c0+0x1*-0x5d1),_0x5e914d['lightMapEn'+'abled']=_0x548c5a['hasLightin'+'g'],_0x5e914d['dirLightMa'+'pEnabled']=_0x548c5a['dirLightMa'+'p'],_0x5e914d['useHeights']=_0x548c5a['hasHeights'],_0x5e914d['useNormals']=_0x548c5a['hasNormals'],_0x5e914d['useClearCo'+'atNormals']=_0x548c5a['hasClearCo'+'atNormals'],_0x5e914d['useAo']=_0x548c5a['hasAo'],_0x5e914d['diffuseMap'+'Enabled']=_0x548c5a['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x5de3da,_0x30599a,_0x50f4ac,_0x28c7ba){_0x5de3da['fog']=_0x30599a['useFog']?_0x28c7ba['fog']:Fa,_0x5de3da['gamma']=_0x28c7ba['shaderOutp'+'utGamma'],_0x5de3da['toneMap']=_0x30599a['useTonemap']?_0x28c7ba['toneMappin'+'g']:f0,_0x30599a['useSkybox']&&_0x50f4ac['envAtlas']&&_0x50f4ac['skybox']?(_0x5de3da['reflection'+'Source']='envAtlasHQ',_0x5de3da['reflection'+'Encoding']=_0x50f4ac['envAtlas']['encoding'],_0x5de3da['reflection'+'CubemapEnc'+'oding']=_0x50f4ac['skybox']['encoding']):_0x30599a['useSkybox']&&_0x50f4ac['envAtlas']?(_0x5de3da['reflection'+'Source']='envAtlas',_0x5de3da['reflection'+'Encoding']=_0x50f4ac['envAtlas']['encoding']):_0x30599a['useSkybox']&&_0x50f4ac['skybox']?(_0x5de3da['reflection'+'Source']='cubeMap',_0x5de3da['reflection'+'Encoding']=_0x50f4ac['skybox']['encoding']):(_0x5de3da['reflection'+'Source']=null,_0x5de3da['reflection'+'Encoding']=null),_0x30599a['ambientSH']?(_0x5de3da['ambientSou'+'rce']='ambientSH',_0x5de3da['ambientEnc'+'oding']=null):_0x5de3da['reflection'+'Source']&&_0x50f4ac['envAtlas']?(_0x5de3da['ambientSou'+'rce']='envAtlas',_0x5de3da['ambientEnc'+'oding']=_0x50f4ac['envAtlas']['encoding']):(_0x5de3da['ambientSou'+'rce']='constant',_0x5de3da['ambientEnc'+'oding']=null);const _0x445d21=!!_0x5de3da['reflection'+'Source'];_0x5de3da['skyboxInte'+'nsity']=_0x445d21,_0x5de3da['useCubeMap'+'Rotation']=_0x445d21&&_0x50f4ac['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x4eda7,_0x416354,_0x4ca6be,_0x5ad9f2){if(_0x4eda7['lightMapWi'+'thoutAmbie'+'nt']=!(0x19d7+-0x2*0x4f4+-0xfee*0x1),_0x416354['useLightin'+'g']){const _0x2a98f7=[],_0x17917f=_0x4ca6be?_0x4ca6be>>-0x3*0x597+-0x1*0x4e6+0x15bb:hs;_0x4eda7['lightMaskD'+'ynamic']=!!(_0x17917f&hs),_0x4eda7['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1*0x142f+0x26*-0xf8+0x390*0x10),_0x5ad9f2&&(As['collectLig'+'hts'](oe,_0x5ad9f2[oe],_0x2a98f7,_0x17917f),As['collectLig'+'hts'](Pe,_0x5ad9f2[Pe],_0x2a98f7,_0x17917f),As['collectLig'+'hts'](Re,_0x5ad9f2[Re],_0x2a98f7,_0x17917f)),_0x4eda7['lights']=_0x2a98f7;}else _0x4eda7['lights']=[];(_0x4eda7['lights']['length']===0x7b9*0x3+-0x17ee+-0xf*-0xd||(_0x4ca6be&Ep)!==-0x2267+0x155a+0xd0d)&&(_0x4eda7['noShadow']=!(0x1527+0x14e1*0x1+-0x2a08));}static['collectLig'+'hts'](_0x11b13e,_0x494bef,_0x4892fd,_0x20e589){for(let _0x396e8b=0x2594+-0x8c7*0x3+0x1*-0xb3f;_0x396e8b<_0x494bef['length'];_0x396e8b++){const _0x438366=_0x494bef[_0x396e8b];_0x438366['enabled']&&_0x438366['mask']&_0x20e589&&_0x4892fd['push'](_0x438366);}}}const c_=(_0x574276,_0x323bfb)=>{if(_0x574276['length']!==_0x323bfb['length'])return!(-0x12d*0x11+0x199*-0x17+0x38bd);for(let _0x4dcf66=-0x846+0xd4*0x2+0x69e;_0x4dcf66<_0x574276['length'];++_0x4dcf66)if(_0x574276[_0x4dcf66]!==_0x323bfb[_0x4dcf66])return!(-0x1a3*-0x2+-0x12e7*-0x1+0x4*-0x58b);return!(0xdd9+-0x1*0x203b+0xd*0x16a);},YC=_0x37b33a=>_0x37b33a['r']!==0x61b+-0x12f+0x1*-0x4eb||_0x37b33a['g']!==0x659*0x5+0x1eaf+-0x3e6b||_0x37b33a['b']!==-0x2*-0xf8d+0x220c+0x1*-0x4125,KC=_0x1f22a2=>_0x1f22a2['r']!==-0x2db*0xa+-0x1866+0x34f4||_0x1f22a2['g']!==-0x3*0x103+-0x3*-0x733+-0x318*0x6||_0x1f22a2['b']!==-0x1*-0x2285+-0x2*-0x28d+-0x7*0x5a9;class ZC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x514498,_0x518e75,_0x4f7481,_0x1cfede,_0x40c11a,_0x4097c0){this['_updateSha'+'redOptions'](_0x514498,_0x518e75,_0x4f7481,_0x1cfede,_0x40c11a),this['_updateMin'+'Options'](_0x514498,_0x4f7481,_0x40c11a),this['_updateUVO'+'ptions'](_0x514498,_0x4f7481,_0x1cfede,!(0x553*0x6+-0x6*0x569+-0x2c*-0x3));}['updateRef'](_0x3f793c,_0x41edb9,_0x3ae12c,_0xb5a03b,_0x30d6fe,_0x1e22ad,_0x307f07){this['_updateSha'+'redOptions'](_0x3f793c,_0x41edb9,_0xb5a03b,_0x30d6fe,_0x1e22ad),this['_updateEnv'+'Options'](_0x3f793c,_0xb5a03b,_0x41edb9,_0x3ae12c),this['_updateMat'+'erialOptio'+'ns'](_0x3f793c,_0xb5a03b),_0x3f793c['litOptions']['hasTangent'+'s']=_0x30d6fe&&(_0x30d6fe&Mp)!==-0x11c6+-0x1*-0x1e22+0x4*-0x317,this['_updateLig'+'htOptions'](_0x3f793c,_0x41edb9,_0xb5a03b,_0x30d6fe,_0x307f07),this['_updateUVO'+'ptions'](_0x3f793c,_0xb5a03b,_0x30d6fe,!(0x242*0x9+-0x22ca+0x1*0xe79),_0x3ae12c);}['_updateSha'+'redOptions'](_0x225052,_0x532d85,_0x57cef1,_0x1001b9,_0xe30fd7){_0x225052['forceUv1']=_0x57cef1['forceUv1'],_0x57cef1['userAttrib'+'utes']&&(_0x225052['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x57cef1['userAttrib'+'utes']['entries']())),_0x225052['litOptions']['chunks']=_0x57cef1['chunks']||{},_0x225052['litOptions']['pass']=_0xe30fd7,_0x225052['litOptions']['alphaTest']=_0x57cef1['alphaTest']>0xd06+0x87a+0x560*-0x4,_0x225052['litOptions']['blendType']=_0x57cef1['blendType'],_0x225052['litOptions']['screenSpac'+'e']=_0x1001b9&&(_0x1001b9&Cp)!==-0x105f+0x238+0xe27,_0x225052['litOptions']['skin']=_0x1001b9&&(_0x1001b9&$c)!==0x12*-0x35+-0x4*0x8bf+-0xa*-0x3df,_0x225052['litOptions']['batch']=_0x1001b9&&(_0x1001b9&Ou)!==0x1640+-0x331+-0x130f,_0x225052['litOptions']['useInstanc'+'ing']=_0x1001b9&&(_0x1001b9&Wc)!==-0xe5d+0x1*0x236b+-0x181*0xe,_0x225052['litOptions']['useMorphPo'+'sition']=_0x1001b9&&(_0x1001b9&qc)!==-0x10a4+-0x1f00+-0xbe9*-0x4,_0x225052['litOptions']['useMorphNo'+'rmal']=_0x1001b9&&(_0x1001b9&Xc)!==0x3*0x8f4+-0x3fe+0x16de*-0x1,_0x225052['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x1001b9&&(_0x1001b9&jc)!==-0x1bd*-0x16+0x1*-0x19b9+0x281*-0x5,_0x225052['litOptions']['nineSliced'+'Mode']=_0x57cef1['nineSliced'+'Mode']||-0x47f+0x1431+-0xfb2,_0x532d85['clusteredL'+'ightingEna'+'bled']&&_0x57cef1['useLightin'+'g']?(_0x225052['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x3*-0xbb7+-0x1914+-0xa11*0x1),_0x225052['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x532d85['lighting']['cookiesEna'+'bled'],_0x225052['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x532d85['lighting']['shadowsEna'+'bled'],_0x225052['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x532d85['lighting']['shadowType'],_0x225052['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x532d85['lighting']['areaLights'+'Enabled']):(_0x225052['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x24c+-0x19a3*-0x1+-0x596*0x5),_0x225052['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x2*0x49e+0x17c1+-0x20fc),_0x225052['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0xc73*0x3+0x1*-0x81+-0x24d7),_0x225052['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x1*-0x20c8+0x1f84+-0x19*-0xd));}['_updateUVO'+'ptions'](_0x571dec,_0x5983d0,_0x4cb36d,_0x5b27aa,_0x426247){let _0x50754d=!(-0x1d*0x47+-0x2db+0x1*0xae7),_0x375539=!(0xbd4+0xb8+-0xa9*0x13),_0x5e81e4=!(-0x20b3+-0xe13+0x2ec7);_0x4cb36d&&(_0x50754d=(_0x4cb36d&m0)!==-0x1e7*-0x13+-0x39*0x83+-0x13*0x5e,_0x375539=(_0x4cb36d&_0)!==-0x2484+0x1*-0x731+0x2bb5,_0x5e81e4=(_0x4cb36d&g0)!==0x9e2+-0x20*0xc5+0xebe),_0x571dec['litOptions']['vertexColo'+'rs']=!(-0x72*-0x1d+-0x72b+-0xd2*0x7),this['_mapXForms']=[];const _0x5ed198={};for(const _0x12a598 in fa)this['_updateTex'+'Options'](_0x571dec,_0x5983d0,_0x12a598,_0x50754d,_0x375539,_0x5e81e4,_0x5b27aa,_0x5ed198);this['_mapXForms']=null,_0x571dec['litOptions']['ssao']=_0x426247==null?void(0x71a+-0xba2*-0x1+0x95e*-0x2):_0x426247['ssaoEnable'+'d'],_0x571dec['useAO']=_0x571dec['litOptions']['ssao'],_0x571dec['litOptions']['lightMapEn'+'abled']=_0x571dec['lightMap'],_0x571dec['litOptions']['dirLightMa'+'pEnabled']=_0x571dec['dirLightMa'+'p'],_0x571dec['litOptions']['useHeights']=_0x571dec['heightMap'],_0x571dec['litOptions']['useNormals']=_0x571dec['normalMap'],_0x571dec['litOptions']['useClearCo'+'atNormals']=_0x571dec['clearCoatN'+'ormalMap'],_0x571dec['litOptions']['useAo']=_0x571dec['aoMap']||_0x571dec['aoVertexCo'+'lor']||_0x571dec['litOptions']['ssao'],_0x571dec['litOptions']['diffuseMap'+'Enabled']=_0x571dec['diffuseMap'];}['_updateTex'+'Options'](_0x362189,_0x16368b,_0x444055,_0x5f0c20,_0x5f2866,_0x25d07b,_0x3cb5d2,_0x5a88c4){const _0x9faa14=_0x444055==='opacity';if(!_0x3cb5d2||_0x9faa14){const _0xb15cc3=_0x444055+'Map',_0x5f5ad8=_0x444055+('VertexColo'+'r'),_0x172ac0=_0x444055+('VertexColo'+'rChannel'),_0x3ecc91=_0xb15cc3+'Channel',_0x5cf78c=_0xb15cc3+'Transform',_0x2549a9=_0xb15cc3+'Uv',_0x47ca01=_0xb15cc3+'Identifier';if(_0x444055!=='light'&&(_0x362189[_0xb15cc3]=!(0x48b*-0x5+0x10c9+0x5ef),_0x362189[_0x47ca01]=void(-0x3*-0x63d+0x18b8+-0x2b6f),_0x362189[_0x3ecc91]='',_0x362189[_0x5cf78c]=-0x1*-0x1558+-0xae+-0x1*0x14aa,_0x362189[_0x2549a9]=0x1ca6+-0x2*-0x8e7+-0x2e74),_0x362189[_0x5f5ad8]=!(0x1116+-0x571+0x12a*-0xa),_0x362189[_0x172ac0]='',_0x9faa14&&_0x16368b['blendType']===is&&_0x16368b['alphaTest']===-0x3*0x192+-0x1180+0x2*0xb1b&&!_0x16368b['alphaToCov'+'erage']&&_0x16368b['opacityDit'+'her']===Rs)return;if(_0x444055!=='height'&&_0x16368b[_0x5f5ad8]&&_0x25d07b&&(_0x362189[_0x5f5ad8]=_0x16368b[_0x5f5ad8],_0x362189[_0x172ac0]=_0x16368b[_0x172ac0],_0x362189['litOptions']['vertexColo'+'rs']=!(-0x1e49*0x1+0x1203+0xc46)),_0x16368b[_0xb15cc3]){let _0x3dcee6=!(0x11b*0x22+0x1de3*0x1+-0x4379);if(_0x16368b[_0x2549a9]===-0x841+0xd68+-0x527*0x1&&!_0x5f0c20&&(_0x3dcee6=!(-0x51*-0x1e+-0x6b9*0x2+0x3f5)),_0x16368b[_0x2549a9]===-0xa8a+-0x13*0x9e+0x1*0x1645&&!_0x5f2866&&(_0x3dcee6=!(-0x1871+0x184b+0x27)),_0x3dcee6){const _0x5a814a=_0x16368b[_0xb15cc3]['id'];let _0x5ce905=_0x5a88c4[_0x5a814a];_0x5ce905===void(-0x48d*-0x4+-0x8cb*0x4+0x2*0x87c)&&(_0x5a88c4[_0x5a814a]=_0x444055,_0x5ce905=_0x444055),_0x362189[_0xb15cc3]=!!_0x16368b[_0xb15cc3],_0x362189[_0x47ca01]=_0x5ce905,_0x362189[_0x5cf78c]=this['_getMapTra'+'nsformID'](_0x16368b['getUniform'](_0x5cf78c),_0x16368b[_0x2549a9]),_0x362189[_0x3ecc91]=_0x16368b[_0x3ecc91],_0x362189[_0x2549a9]=_0x16368b[_0x2549a9];}}}}['_updateMin'+'Options'](_0x46fc59,_0x2091ff,_0xfd3d0){const _0x447e67=_0xfd3d0===il;_0x46fc59['litOptions']['opacitySha'+'dowDither']=_0x447e67?_0x2091ff['opacityDit'+'her']:_0x2091ff['opacitySha'+'dowDither'],_0x46fc59['litOptions']['linearDept'+'h']=_0x447e67,_0x46fc59['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x4971d4,_0x555c6b){var _0x4ed337,_0x2e7bd4,_0x18d502,_0x3a6c4c;const _0x17ed21=!!(_0x555c6b['useMetalne'+'ss']||_0x555c6b['specularMa'+'p']||_0x555c6b['sphereMap']||_0x555c6b['cubeMap']||KC(_0x555c6b['specular'])||_0x555c6b['specularit'+'yFactor']>0x1b6c+-0x25a7+0xa3b&&_0x555c6b['useMetalne'+'ss']||_0x555c6b['enableGGXS'+'pecular']||_0x555c6b['clearCoat']>0x172a+0x3ff+-0x1b29),_0x48e1a5=!_0x555c6b['useMetalne'+'ss']||_0x555c6b['useMetalne'+'ssSpecular'+'Color'],_0x441412=_0x17ed21&&(_0x555c6b['specularTi'+'nt']||!_0x555c6b['specularMa'+'p']&&!_0x555c6b['specularVe'+'rtexColor'])&&YC(_0x555c6b['specular']),_0x59367f=_0x17ed21&&_0x555c6b['useMetalne'+'ssSpecular'+'Color']&&(_0x555c6b['specularit'+'yFactorTin'+'t']||_0x555c6b['specularit'+'yFactor']<-0x3bb*0xa+0x14f*0x2+0x22b1&&!_0x555c6b['specularit'+'yFactorMap']),_0xc273d7=_0x555c6b['normalMap']?_0x555c6b['normalMap']['format']===Wo||_0x555c6b['normalMap']['type']===op:!(0x1*-0x1ffa+-0x236+0x2231),_0x511664=(_0x5a6be9,_0x3e7942)=>Math['abs'](_0x5a6be9-_0x3e7942)<0x2*0x8ad+0x11ce*0x1+0x24*-0xfa+0.0001;_0x4971d4['specularTi'+'nt']=_0x441412?0x1700+-0x1*-0x191b+-0x7*0x6df:-0x19cb+-0x42a+0x1df5*0x1,_0x4971d4['specularit'+'yFactorTin'+'t']=_0x59367f?0x48a+-0x1b56+0x1*0x16cd:-0x1b74+-0x1d86+0x38fa,_0x4971d4['metalnessT'+'int']=_0x555c6b['useMetalne'+'ss']&&_0x555c6b['metalness']<0x16*-0x1bd+0x528+0x2117?-0x247*0x1+-0x8*-0x207+-0x2*0x6f8:0x54f+-0x1441+0xef2,_0x4971d4['glossTint']=-0x785+0x924+-0x19e,_0x4971d4['diffuseEnc'+'oding']=(_0x4ed337=_0x555c6b['diffuseMap'])==null?void(0x1*0x935+0x1*-0x14e3+0x41*0x2e):_0x4ed337['encoding'],_0x4971d4['diffuseDet'+'ailEncodin'+'g']=(_0x2e7bd4=_0x555c6b['diffuseDet'+'ailMap'])==null?void(0x15bd+0x2f1+-0x75*0x36):_0x2e7bd4['encoding'],_0x4971d4['emissiveEn'+'coding']=(_0x18d502=_0x555c6b['emissiveMa'+'p'])==null?void(0x7af*-0x4+0x1*-0x952+0x280e):_0x18d502['encoding'],_0x4971d4['lightMapEn'+'coding']=(_0x3a6c4c=_0x555c6b['lightMap'])==null?void(0x218c+0x34a*0x2+-0x2820*0x1):_0x3a6c4c['encoding'],_0x4971d4['packedNorm'+'al']=_0xc273d7,_0x4971d4['refraction'+'Tint']=_0x511664(_0x555c6b['refraction'],0x123*0x1e+0xae*-0x29+-0xb*0x91)?0x1*-0x3b3+-0xff9+-0x4eb*-0x4:-0x8ca+-0x78*-0x6+-0x1*-0x5fb,_0x4971d4['refraction'+'IndexTint']=_0x511664(_0x555c6b['refraction'+'Index'],(0x1*-0x2135+0x1422+0xd14)/(0x6cf*-0x3+-0x2*0x943+0x9*0x454+0.5))?0x42*0x36+0x1b64*-0x1+0xd78:0x1d60+-0x740+-0x7*0x329,_0x4971d4['thicknessT'+'int']=_0x555c6b['useDynamic'+'Refraction']&&_0x555c6b['thickness']!==0x1c96+0x193*-0x6+-0x1323?0x1b4b+0x23d+-0x1d87:0x10bb*-0x1+0x18ac+-0x7f1,_0x4971d4['specularEn'+'coding']=_0x555c6b['specularEn'+'coding']||'linear',_0x4971d4['sheenEncod'+'ing']=_0x555c6b['sheenEncod'+'ing']||'linear',_0x4971d4['aoMapUv']=_0x555c6b['aoUvSet'],_0x4971d4['aoDetail']=!!_0x555c6b['aoMap'],_0x4971d4['diffuseDet'+'ail']=!!_0x555c6b['diffuseMap'],_0x4971d4['normalDeta'+'il']=!!_0x555c6b['normalMap'],_0x4971d4['diffuseDet'+'ailMode']=_0x555c6b['diffuseDet'+'ailMode'],_0x4971d4['aoDetailMo'+'de']=_0x555c6b['aoDetailMo'+'de'],_0x4971d4['clearCoatT'+'int']=_0x511664(_0x555c6b['clearCoat'],0x67*-0x47+0x35d+-0x2cd*-0x9)?-0x1*-0xcbd+-0x2*0x9e3+0x1*0x709:-0x246e+-0x17*0xfb+0xbcc*0x5,_0x4971d4['clearCoatG'+'loss']=!!_0x555c6b['clearCoatG'+'loss'],_0x4971d4['clearCoatG'+'lossTint']=_0x555c6b['clearCoatG'+'loss']!==0x1d75*0x1+0x2*-0x849+0x2*-0x671?0x181+0x317*-0xa+0x1d66:-0x1*0x227f+-0x112a+0x33a9,_0x4971d4['iorTint']=_0x511664(_0x555c6b['refraction'+'Index'],(-0x1e39*0x1+-0x1455+0x328f)/(-0x1286+-0x15*0xda+-0xd*-0x2cd+0.5))?0x152b+-0x23fb+0x4f*0x30:-0x2178+0x14fa+0x1*0xc7f,_0x4971d4['iridescenc'+'eTint']=_0x555c6b['iridescenc'+'e']!==0x1463+-0x185*0xb+-0x3ab?-0x1331*-0x1+-0x18a2+-0x29*-0x22:0x9e0+-0x15e3+-0x401*-0x3,_0x4971d4['glossInver'+'t']=_0x555c6b['glossInver'+'t'],_0x4971d4['sheenGloss'+'Invert']=_0x555c6b['sheenGloss'+'Invert'],_0x4971d4['clearCoatG'+'lossInvert']=_0x555c6b['clearCoatG'+'lossInvert'],_0x4971d4['useSpecula'+'rColor']=_0x48e1a5,_0x4971d4['litOptions']['separateAm'+'bient']=!(0x1680+0x2*0x1b9+0xe5*-0x1d),_0x4971d4['litOptions']['customFrag'+'mentShader']=_0x555c6b['customFrag'+'mentShader'],_0x4971d4['litOptions']['pixelSnap']=_0x555c6b['pixelSnap'],_0x4971d4['litOptions']['ambientSH']=!!_0x555c6b['ambientSH'],_0x4971d4['litOptions']['twoSidedLi'+'ghting']=_0x555c6b['twoSidedLi'+'ghting'],_0x4971d4['litOptions']['occludeSpe'+'cular']=_0x555c6b['occludeSpe'+'cular'],_0x4971d4['litOptions']['occludeSpe'+'cularFloat']=_0x555c6b['occludeSpe'+'cularInten'+'sity']!==-0x1208+-0x7a*0x7+0x1*0x155f,_0x4971d4['litOptions']['useMsdf']=!!_0x555c6b['msdfMap'],_0x4971d4['litOptions']['msdfTextAt'+'tribute']=!!_0x555c6b['msdfTextAt'+'tribute'],_0x4971d4['litOptions']['alphaToCov'+'erage']=_0x555c6b['alphaToCov'+'erage'],_0x4971d4['litOptions']['opacityFad'+'esSpecular']=_0x555c6b['opacityFad'+'esSpecular'],_0x4971d4['litOptions']['opacityDit'+'her']=_0x555c6b['opacityDit'+'her'],_0x4971d4['litOptions']['cubeMapPro'+'jection']=_0x555c6b['cubeMapPro'+'jection'],_0x4971d4['litOptions']['occludeDir'+'ect']=_0x555c6b['occludeDir'+'ect'],_0x4971d4['litOptions']['useSpecula'+'r']=_0x17ed21,_0x4971d4['litOptions']['useSpecula'+'rityFactor']=(_0x59367f||!!_0x555c6b['specularit'+'yFactorMap'])&&_0x555c6b['useMetalne'+'ssSpecular'+'Color'],_0x4971d4['litOptions']['enableGGXS'+'pecular']=_0x555c6b['enableGGXS'+'pecular'],_0x4971d4['litOptions']['fresnelMod'+'el']=_0x555c6b['fresnelMod'+'el'],_0x4971d4['litOptions']['useRefract'+'ion']=(_0x555c6b['refraction']||!!_0x555c6b['refraction'+'Map'])&&(_0x555c6b['useDynamic'+'Refraction']||!!_0x4971d4['litOptions']['reflection'+'Source']),_0x4971d4['litOptions']['useClearCo'+'at']=!!_0x555c6b['clearCoat'],_0x4971d4['litOptions']['useSheen']=_0x555c6b['useSheen'],_0x4971d4['litOptions']['useIridesc'+'ence']=_0x555c6b['useIridesc'+'ence']&&_0x555c6b['iridescenc'+'e']!==-0x2408+-0xf18+0x3320,_0x4971d4['litOptions']['useMetalne'+'ss']=_0x555c6b['useMetalne'+'ss'],_0x4971d4['litOptions']['useDynamic'+'Refraction']=_0x555c6b['useDynamic'+'Refraction'],_0x4971d4['litOptions']['dispersion']=_0x555c6b['dispersion']>0x1*-0x1a23+0x1a19+0xa;}['_updateEnv'+'Options'](_0x398541,_0x4918e6,_0x511bb5,_0x292ead){_0x398541['litOptions']['fog']=_0x4918e6['useFog']?_0x292ead['fog']:Fa,_0x398541['litOptions']['gamma']=_0x292ead['shaderOutp'+'utGamma'],_0x398541['litOptions']['toneMap']=_0x4918e6['useTonemap']?_0x292ead['toneMappin'+'g']:f0;let _0x114a4a=!(0x18*-0x1f+-0x46a+0x753);if(_0x4918e6['envAtlas']&&_0x4918e6['cubeMap']?(_0x398541['litOptions']['reflection'+'Source']='envAtlasHQ',_0x398541['litOptions']['reflection'+'Encoding']=_0x4918e6['envAtlas']['encoding'],_0x398541['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x4918e6['cubeMap']['encoding']):_0x4918e6['envAtlas']?(_0x398541['litOptions']['reflection'+'Source']='envAtlas',_0x398541['litOptions']['reflection'+'Encoding']=_0x4918e6['envAtlas']['encoding']):_0x4918e6['cubeMap']?(_0x398541['litOptions']['reflection'+'Source']='cubeMap',_0x398541['litOptions']['reflection'+'Encoding']=_0x4918e6['cubeMap']['encoding']):_0x4918e6['sphereMap']?(_0x398541['litOptions']['reflection'+'Source']='sphereMap',_0x398541['litOptions']['reflection'+'Encoding']=_0x4918e6['sphereMap']['encoding']):_0x4918e6['useSkybox']&&_0x511bb5['envAtlas']&&_0x511bb5['skybox']?(_0x398541['litOptions']['reflection'+'Source']='envAtlasHQ',_0x398541['litOptions']['reflection'+'Encoding']=_0x511bb5['envAtlas']['encoding'],_0x398541['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x511bb5['skybox']['encoding'],_0x114a4a=!(-0x12f*0x12+-0x11a3+0x26f1)):_0x4918e6['useSkybox']&&_0x511bb5['envAtlas']?(_0x398541['litOptions']['reflection'+'Source']='envAtlas',_0x398541['litOptions']['reflection'+'Encoding']=_0x511bb5['envAtlas']['encoding'],_0x114a4a=!(0x1*0x2267+0x1191+-0x33f8)):_0x4918e6['useSkybox']&&_0x511bb5['skybox']?(_0x398541['litOptions']['reflection'+'Source']='cubeMap',_0x398541['litOptions']['reflection'+'Encoding']=_0x511bb5['skybox']['encoding'],_0x114a4a=!(0x6c7+-0x1f*-0x109+0xa*-0x3e3)):(_0x398541['litOptions']['reflection'+'Source']=null,_0x398541['litOptions']['reflection'+'Encoding']=null),_0x4918e6['ambientSH'])_0x398541['litOptions']['ambientSou'+'rce']='ambientSH',_0x398541['litOptions']['ambientEnc'+'oding']=null;else{const _0x4c33d6=_0x4918e6['envAtlas']||(_0x4918e6['useSkybox']&&_0x511bb5['envAtlas']?_0x511bb5['envAtlas']:null);_0x4c33d6&&!_0x4918e6['sphereMap']?(_0x398541['litOptions']['ambientSou'+'rce']='envAtlas',_0x398541['litOptions']['ambientEnc'+'oding']=_0x4c33d6['encoding']):(_0x398541['litOptions']['ambientSou'+'rce']='constant',_0x398541['litOptions']['ambientEnc'+'oding']=null);}_0x398541['litOptions']['skyboxInte'+'nsity']=_0x114a4a,_0x398541['litOptions']['useCubeMap'+'Rotation']=_0x114a4a&&_0x511bb5['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x1ef5c0,_0x29dc64,_0x1b99d3,_0x48f00a,_0x4f9e8e){if(_0x1ef5c0['lightMap']=!(-0x20e5+0x200d+0xd9),_0x1ef5c0['lightMapCh'+'annel']='',_0x1ef5c0['lightMapUv']=-0x24e6+-0x1f05+0x43eb,_0x1ef5c0['lightMapTr'+'ansform']=-0xe98+-0x9*0xf7+0x1747*0x1,_0x1ef5c0['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x25a6*0x1+0x1b11+0xa96),_0x1ef5c0['dirLightMa'+'p']=!(-0x1e5f+-0x3*0xbcf+0x3*0x15ef),_0x48f00a&&(_0x1ef5c0['litOptions']['noShadow']=(_0x48f00a&Ep)!==0x12*0x85+0x81d+-0x1177,(_0x48f00a&Fu)!==-0x1*-0x13ed+0x25a4+-0x3991&&(_0x1ef5c0['lightMapEn'+'coding']=_0x29dc64['lightmapPi'+'xelFormat']===Se?'rgbm':'linear',_0x1ef5c0['lightMap']=!(-0x2083+0xa0a+0x1679*0x1),_0x1ef5c0['lightMapCh'+'annel']='rgb',_0x1ef5c0['lightMapUv']=-0x1539*-0x1+-0x253f+0x1007*0x1,_0x1ef5c0['lightMapTr'+'ansform']=-0x250a+-0x1be1+0x40eb,_0x1ef5c0['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x1b99d3['lightMap'],(_0x48f00a&y0)!==-0xb*0x287+-0x2691+0x425e*0x1&&(_0x1ef5c0['dirLightMa'+'p']=!(0x4*-0x219+-0x221d+-0x4b9*-0x9)),(_0x48f00a&x0)!==0x1129+0x1*0x14e+-0x1277&&(_0x1ef5c0['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0xf*0x65+-0x1*0x8eb+-0x1*-0x301)))),_0x1b99d3['useLightin'+'g']){const _0x1103c8=[],_0x1e22a4=_0x48f00a?_0x48f00a>>0x197d+-0x7*-0x3f1+-0x3504:hs;_0x1ef5c0['litOptions']['lightMaskD'+'ynamic']=!!(_0x1e22a4&hs),_0x4f9e8e&&(As['collectLig'+'hts'](oe,_0x4f9e8e[oe],_0x1103c8,_0x1e22a4),As['collectLig'+'hts'](Pe,_0x4f9e8e[Pe],_0x1103c8,_0x1e22a4),As['collectLig'+'hts'](Re,_0x4f9e8e[Re],_0x1103c8,_0x1e22a4)),_0x1ef5c0['litOptions']['lights']=_0x1103c8;}else _0x1ef5c0['litOptions']['lights']=[];_0x1ef5c0['litOptions']['lights']['length']===0x26*-0x97+-0x3*-0xb89+-0xc31*0x1&&(_0x1ef5c0['litOptions']['noShadow']=!(0x1743+0xa43+-0x2186));}['_getMapTra'+'nsformID'](_0x2f024c,_0xb14cfd){if(!_0x2f024c)return 0x236c+0x1a7e+-0xc62*0x5;let _0x5cec63=this['_mapXForms'][_0xb14cfd];_0x5cec63||(_0x5cec63=[],this['_mapXForms'][_0xb14cfd]=_0x5cec63);for(let _0x1afe95=0x19ca+-0x1f4c+0x582;_0x1afe95<_0x5cec63['length'];_0x1afe95++)if(c_(_0x5cec63[_0x1afe95][0x7*0x51b+-0x509*-0x4+-0x37e1]['value'],_0x2f024c[-0x193b+-0x150b+0x2e46]['value'])&&c_(_0x5cec63[_0x1afe95][0x1fd4+0x2644+-0x4617]['value'],_0x2f024c[0x8*0x3e+0x24b*0x3+-0x8d0]['value']))return _0x1afe95+(-0x4ad+0x209*0xb+-0x11b5);return _0x5cec63['push'](_0x2f024c);}}function qe(_0xfa7266,_0x5f4862=!(-0xacf+-0xc2d+0x2*0xb7e),_0x4298f5=!(0x4*-0x1dc+-0x1*0x67f+0xdef)){const _0x360445={};return _0x360445[_0xfa7266+'Map']='texture',_0x360445[_0xfa7266+'MapTiling']='vec2',_0x360445[_0xfa7266+'MapOffset']='vec2',_0x360445[_0xfa7266+('MapRotatio'+'n')]='number',_0x360445[_0xfa7266+'MapUv']='number',_0x5f4862&&(_0x360445[_0xfa7266+'MapChannel']='string',_0x4298f5&&(_0x360445[_0xfa7266+('VertexColo'+'r')]='boolean',_0x360445[_0xfa7266+('VertexColo'+'rChannel')]='string')),_0x360445;}const Pa={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...qe('ao'),...qe('aoDetail',!(-0x20ea+-0x1f3f+0x4029),!(-0x177e+-0x1*0x779+-0xf7c*-0x2)),'aoDetailMode':'string','diffuse':'rgb',...qe('diffuse'),...qe('diffuseDet'+'ail',!(0x2d4+0x5f*0x5+0x4af*-0x1),!(-0x107a+0xd94+0x2e7)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...qe('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...qe('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...qe('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...qe('gloss'),'clearCoat':'number',...qe('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...qe('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...qe('clearCoatN'+'ormal',!(-0x22ed*0x1+-0x1d3f+0x402d)),'useSheen':'boolean','sheen':'rgb',...qe('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...qe('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...qe('emissive'),'emissiveIntensity':'number',...qe('normal',!(0x25b2+0x1ff2+-0x45a3)),'bumpiness':'number',...qe('normalDeta'+'il',!(-0x55d*0x5+0x23b*-0x8+0x2caa)),'normalDetailMapBumpiness':'number',...qe('height',!(-0xd8f+0x1fc7+-0x1238),!(-0x17b*-0x7+-0x1*0xefd+0x4a1)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...qe('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...qe('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...qe('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...qe('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...qe('iridescenc'+'eThickness'),...qe('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},Kc=[];for(const l in Pa)Pa[l]==='texture'&&Kc['push'](l);const Fp=[];for(const l in Pa)Pa[l]==='cubemap'&&Fp['push'](l);const QC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},uh={},P0={};let Wa=new Set();const Dl=new Y();class cs extends yn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new ZC(),this['reset']());}['reset'](){Object['keys'](uh)['forEach'](_0x168e64=>{this['_'+_0x168e64]=uh[_0x168e64]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x6caafe){return super['copy'](_0x6caafe),Object['keys'](uh)['forEach'](_0x211c6f=>{this[_0x211c6f]=_0x6caafe[_0x211c6f];}),this['userAttrib'+'utes']=new Map(_0x6caafe['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x1c2a4f,_0x3ffa3e){this['userAttrib'+'utes']['set'](_0x3ffa3e,_0x1c2a4f);}['_setParame'+'ter'](_0x3cd016,_0x457e10){Wa['add'](_0x3cd016),this['setParamet'+'er'](_0x3cd016,_0x457e10);}['_setParame'+'ters'](_0x5626f3){_0x5626f3['forEach'](_0x1931a9=>{this['_setParame'+'ter'](_0x1931a9['name'],_0x1931a9['value']);});}['_processPa'+'rameters'](_0x17b17f){const _0x38eb40=this[_0x17b17f];_0x38eb40['forEach'](_0x504a48=>{Wa['has'](_0x504a48)||delete this['parameters'][_0x504a48];}),this[_0x17b17f]=Wa,Wa=_0x38eb40,Wa['clear']();}['_updateMap'](_0x4d8928){const _0x4e4c10=_0x4d8928+'Map',_0x1f6920=this[_0x4e4c10];if(_0x1f6920){this['_setParame'+'ter']('texture_'+_0x4e4c10,_0x1f6920);const _0x11f576=_0x4e4c10+'Transform',_0x5990a7=this['getUniform'](_0x11f576);_0x5990a7&&this['_setParame'+'ters'](_0x5990a7);}}['_allocUnif'+'orm'](_0x8621cf,_0x299d6e){let _0x459810=this['_uniformCa'+'che'][_0x8621cf];return _0x459810||(_0x459810=_0x299d6e(),this['_uniformCa'+'che'][_0x8621cf]=_0x459810),_0x459810;}['getUniform'](_0x5498c5,_0x17ac3c,_0x30dcfa){return P0[_0x5498c5](this,_0x17ac3c,_0x30dcfa);}['updateUnif'+'orms'](_0xbd56fd,_0x374e77){const _0xb098c=_0xd643cb=>this['getUniform'](_0xd643cb,_0xbd56fd,_0x374e77);this['_setParame'+'ter']('material_a'+'mbient',_0xb098c('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0xb098c('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<-0x1*0x22f+-0x78*-0x15+-0x7a8)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0xb098c('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0xb098c('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0xb098c('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>0x781+-0x12ce+0xb4d&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),v['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x17eb+0x5*0x1ca+0xb3*-0x2f&&this['emissive']['g']===-0x1686+-0x7e4+0x1e6a*0x1&&this['emissive']['b']===-0x3eb+-0x1625+0x1a10&&v['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0xb098c('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>0xd6d+0x1*0x1bef+-0x295c&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>0xefa+-0x1edd+0x1*0xfe3&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0xb098c('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0x1*0x1193+0x2003+-0x42*0x38?0xb0+0x459*-0x4+0x10b4:(-0x1bf*-0x9+-0x3*0x3f1+-0x3e3)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(-0x18d*0x2+-0xa0a+0xd25)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0xb098c('cubeMapPro'+'jectionBox'));for(const _0x55886c in fa)this['_updateMap'](_0x55886c);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0xb098c('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0xbd56fd,_0x374e77);}['updateEnvU'+'niforms'](_0x4c8915,_0x38cb4f){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x38cb4f['envAtlas']&&_0x38cb4f['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x38cb4f['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x38cb4f['skybox'])):_0x38cb4f['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x38cb4f['envAtlas']):_0x38cb4f['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x38cb4f['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x3a38ea){const {device:_0x5afe3e,scene:_0x2c92e5,pass:_0x452431,objDefs:_0x5ccd6b,sortedLights:_0x3cb1bd,cameraShaderParams:_0x1e7f62}=_0x3a38ea;this['updateEnvU'+'niforms'](_0x5afe3e,_0x2c92e5);const _0xbd1805=Ks['get'](_0x5afe3e)['getByIndex'](_0x452431),_0x405feb=_0x452431===rl||_0x452431===Oa||_0x452431===il||_0xbd1805['isShadow'];let _0x347377=_0x405feb?Ed['optionsCon'+'textMin']:Ed['optionsCon'+'text'];_0x347377['defines']=Dp(this,_0x3a38ea),_0x405feb?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x347377,_0x2c92e5,this,_0x5ccd6b,_0x452431,_0x3cb1bd):this['shaderOptB'+'uilder']['updateRef'](_0x347377,_0x2c92e5,_0x1e7f62,this,_0x5ccd6b,_0x452431,_0x3cb1bd),_0x347377['defines']['set']('TONEMAP',p0[_0x347377['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x347377=this['onUpdateSh'+'ader'](_0x347377));const _0x20aff0=new Yc(_0x3a38ea['viewUnifor'+'mFormat'],_0x3a38ea['viewBindGr'+'oupFormat'],_0x3a38ea['vertexForm'+'at']),_0x406688=ka(_0x5afe3e);_0x406688['register']('standard',Ed);const _0xc9c2fe=_0x406688['getProgram']('standard',_0x347377,_0x20aff0,this['userId']);return this['_dirtyShad'+'er']=!(0xcb4+-0x1*-0x11dd+-0x1e90),_0xc9c2fe;}['destroy'](){for(const _0x357f1a in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x357f1a]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(cs,'TEXTURE_PA'+'RAMETERS',Kc),c(cs,'CUBEMAP_PA'+'RAMETERS',Fp);const Zc=(_0x4410ee,_0x4034d2)=>{P0[_0x4410ee]=_0x4034d2;},Op=(_0x362a4b,_0x10211e,_0x1dc6e4,_0x52e847)=>{Object['defineProp'+'erty'](cs['prototype'],_0x362a4b,{'get':_0x52e847||function(){return this['_'+_0x362a4b];},'set':_0x1dc6e4}),uh[_0x362a4b]={'value':_0x10211e};},JC=_0x3a03af=>{const _0x139ba5='_'+_0x3a03af['name'],_0x4a8270=_0x3a03af['dirtyShade'+'rFunc']||(()=>!(0x1*0x17a8+-0x25ae+0xa*0x167)),_0x1240e8=function(_0x58826b){const _0x1e9fae=this[_0x139ba5];_0x1e9fae!==_0x58826b&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x4a8270(_0x1e9fae,_0x58826b),this[_0x139ba5]=_0x58826b);};Op(_0x3a03af['name'],()=>_0x3a03af['defaultVal'+'ue'],_0x1240e8,_0x3a03af['getterFunc']);},eM=_0x2929b7=>{const _0x4c885c='_'+_0x2929b7['name'],_0x21b931=_0x2929b7['dirtyShade'+'rFunc']||(()=>!(-0x8*0x1d5+-0x1d92+0x2c3a)),_0x2cbe05=function(_0x1d45b3){const _0x914674=this[_0x4c885c];_0x914674['equals'](_0x1d45b3)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x21b931(_0x914674,_0x1d45b3),this[_0x4c885c]=_0x914674['copy'](_0x1d45b3));};Op(_0x2929b7['name'],()=>_0x2929b7['defaultVal'+'ue']['clone'](),_0x2cbe05,_0x2929b7['getterFunc']);},ts=_0x271596=>_0x271596['defaultVal'+'ue']&&_0x271596['defaultVal'+'ue']['clone']?eM(_0x271596):JC(_0x271596);function Ge(_0x5ac7c9,_0x120ed1='rgb',_0xc09e83=!(-0x9fb+0x518+0x4e3),_0x4f0a1e=0x5*-0x679+-0x916*-0x3+0x51b){fa[_0x5ac7c9]=_0x120ed1['length']||-(0x1*-0x1ce1+0xf45+0x55*0x29),ts({'name':_0x5ac7c9+'Map','defaultValue':null,'dirtyShaderFunc':(_0x3d020c,_0x6ad0a8)=>!!_0x3d020c!=!!_0x6ad0a8||_0x3d020c&&(_0x3d020c['type']!==_0x6ad0a8['type']||_0x3d020c['format']!==_0x6ad0a8['format'])}),ts({'name':_0x5ac7c9+'MapTiling','defaultValue':new $(-0x1901+0x159c+0x366,-0x422*-0x9+-0x1fd0+-0x11*0x51)}),ts({'name':_0x5ac7c9+'MapOffset','defaultValue':new $(-0x1*0x1668+0x2*-0x9ad+0x29c2,-0xc17*-0x2+0x8e*0x1+-0x18bc)}),ts({'name':_0x5ac7c9+('MapRotatio'+'n'),'defaultValue':0x0}),ts({'name':_0x5ac7c9+'MapUv','defaultValue':_0x4f0a1e}),_0x120ed1&&(ts({'name':_0x5ac7c9+'MapChannel','defaultValue':_0x120ed1}),_0xc09e83&&(ts({'name':_0x5ac7c9+('VertexColo'+'r'),'defaultValue':!(0x1fd9+0x1bd4+-0x3bac)}),ts({'name':_0x5ac7c9+('VertexColo'+'rChannel'),'defaultValue':_0x120ed1})));const _0x296e47=_0x5ac7c9+'MapTiling',_0x1db9ed=_0x5ac7c9+'MapOffset',_0x35387d=_0x5ac7c9+('MapRotatio'+'n'),_0x42dfad=_0x5ac7c9+('MapTransfo'+'rm');Zc(_0x42dfad,(_0x18bef4,_0x5b7d19,_0x1fd732)=>{const _0x559c2d=_0x18bef4[_0x296e47],_0x553850=_0x18bef4[_0x1db9ed],_0x436e97=_0x18bef4[_0x35387d];if(_0x559c2d['x']===0xd4*0x4+-0x6d7*-0x5+0x1*-0x2582&&_0x559c2d['y']===-0xe65+0x1c4a+-0x4*0x379&&_0x553850['x']===0x1*-0x21d3+-0x2265+0x4438&&_0x553850['y']===-0x18cf+-0x49*0x7f+-0x6b*-0x92&&_0x436e97===-0x39e+0x256a+0x7*-0x4d4)return null;const _0x48dda2=_0x18bef4['_allocUnif'+'orm'](_0x42dfad,()=>[{'name':'texture_'+_0x42dfad+'0','value':new Float32Array(0x1d85+-0x7*0x44f+0xa7)},{'name':'texture_'+_0x42dfad+'1','value':new Float32Array(0x1e2d+-0xa*0x1c0+0x2*-0x655)}]),_0x276e40=Math['cos'](_0x436e97*N['DEG_TO_RAD']),_0x2972d8=Math['sin'](_0x436e97*N['DEG_TO_RAD']),_0x424d10=_0x48dda2[0x8*0x6b+0x22c6+-0x261e]['value'];_0x424d10[0xe74+-0x3*-0xa5e+-0x2d8e]=_0x276e40*_0x559c2d['x'],_0x424d10[0x13ea+0x4d9+0xc61*-0x2]=-_0x2972d8*_0x559c2d['y'],_0x424d10[-0x1e+-0x16aa+-0x16ca*-0x1]=_0x553850['x'];const _0x2cbb4c=_0x48dda2[0x887+0x1*0x1cb7+-0x253d]['value'];return _0x2cbb4c[0x982+0x3f4+-0x2*0x6bb]=_0x2972d8*_0x559c2d['x'],_0x2cbb4c[0x928+0x2409+-0x2d30]=_0x276e40*_0x559c2d['y'],_0x2cbb4c[0x17a9+-0xf9b*0x2+-0xd7*-0x9]=0x1*0x26ce+-0x3*0x625+-0x145e-_0x559c2d['y']-_0x553850['y'],_0x48dda2;});}function Cn(_0x2827ff,_0x5c126c){ts({'name':_0x2827ff,'defaultValue':_0x5c126c,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x1b9a*-0x1+-0x11c*0x1c+0x1d55*0x2),this['_'+_0x2827ff];}}),Zc(_0x2827ff,(_0x1f1afd,_0x5d0ec4,_0x590a6c)=>{const _0x4ed3ea=_0x1f1afd['_allocUnif'+'orm'](_0x2827ff,()=>new Float32Array(0x313+0x1e57*0x1+-0x2167)),_0xe8633c=_0x1f1afd[_0x2827ff];return Dl['linear'](_0xe8633c),_0x4ed3ea[-0x89d+0x1104+-0x867]=Dl['r'],_0x4ed3ea[0xc5*-0xa+0x1ecd+-0xb8d*0x2]=Dl['g'],_0x4ed3ea[0x10*0x269+0x2*0x69b+-0x33c4]=Dl['b'],_0x4ed3ea;});}function Ce(_0x7b7b92,_0x1c50f5,_0x4f1c5b){ts({'name':_0x7b7b92,'defaultValue':_0x1c50f5,'dirtyShaderFunc':(_0x2706d2,_0x5caedb)=>(_0x2706d2===0x1ce3+-0x21e3+-0x2*-0x280||_0x2706d2===-0x1*0x517+0x1efd+-0x19e5)!=(_0x5caedb===0x479+0x17cd+0x1*-0x1c46||_0x5caedb===0xa27+0x33*-0x2a+-0x1c8)}),Zc(_0x7b7b92,_0x4f1c5b);}function qa(_0x18aefb,_0xda61b5){ts({'name':_0x18aefb,'defaultValue':null,'dirtyShaderFunc':(_0x4eff94,_0x51ab28)=>!!_0x4eff94==!!_0x51ab28}),Zc(_0x18aefb,_0xda61b5);}function we(_0x1306e5,_0x389372){ts({'name':_0x1306e5,'defaultValue':_0x389372});}function tM(){Cn('ambient',new Y(-0x1e13+-0xa*0x32f+0x3dea,0x1010+-0xd25*0x1+-0x2ea,0x1*0x1a3e+-0x1d72+0x335*0x1)),Cn('diffuse',new Y(0x178e+0x2*-0x51e+-0x7*0x1e7,-0x98f*0x1+-0x1*-0xa99+-0x109,-0x1*-0x40f+-0x3*0x9e5+0x19a1)),Cn('specular',new Y(-0x3*0x1f3+-0xef*-0x1f+-0x1718,0x43b*0x1+0x405*0x4+-0x144f,0x1*-0x221b+-0x61d*0x5+-0x2056*-0x2)),Cn('emissive',new Y(-0x130d+0x2*-0x1126+0x3559,0xc5e+-0x783+-0x1*0x4db,0x293+-0xb5f*0x2+0x3*0x6b9)),Cn('sheen',new Y(0x1eed+0x1a9c+0x4*-0xe62,0x1cfd+-0x1e53*0x1+0x7*0x31,-0x162a+-0x2*-0xd4d+0xe3*-0x5)),Cn('attenuatio'+'n',new Y(0x33*0x3d+0x20f*-0x3+-0x8b*0xb,0x29a*0xd+0xb88+0x13*-0x263,-0x490*-0x5+0x75f+-0x1e2e*0x1)),Ce('emissiveIn'+'tensity',-0x2048+-0x14*-0x166+0x11*0x41),Ce('specularit'+'yFactor',-0xbd9+0x12c0*-0x1+-0x1*-0x1e9a),Ce('sheenGloss',0x2057+0x20b2+-0x4109),Ce('gloss',-0x18c6+-0x3*-0x123+0x155d+0.25),Ce('aoIntensit'+'y',-0x119a+0x1429+-0x1*0x28e),Ce('heightMapF'+'actor',0x1aff+0x181b+0x7f*-0x67,(_0x1ea926,_0x4d888f,_0x51a272)=>_0x1ea926['heightMapF'+'actor']*(-0x246d+-0x13a8+0x3815+0.025)),Ce('opacity',-0x3*0x621+0x6b*0x2f+0x6b*-0x3),Ce('alphaFade',0x1536+-0x1f50+0xa1b*0x1),Ce('alphaTest',-0x202f+-0x2562+0x4591),Ce('bumpiness',-0x1133+0xe72*0x2+-0xbb0),Ce('normalDeta'+'ilMapBumpi'+'ness',-0x3e3+-0xf42+0x1326),Ce('reflectivi'+'ty',0x709+0x19*-0x15b+0x1*0x1adb),Ce('occludeSpe'+'cularInten'+'sity',0xe5*-0x13+-0x2*0x1b6+0x2*0xa36),Ce('refraction',-0xee+0x8*0x389+-0x1b5a),Ce('refraction'+'Index',(-0xae0+-0x7*0xa7+0x6*0x293)/(-0x22b3+0x541+0x1d73+0.5)),Ce('dispersion',-0x8e*-0x1c+-0x1bfd+-0x427*-0x3),Ce('thickness',0x1*-0x1a31+0x1849+0x1e8),Ce('attenuatio'+'nDistance',0x12de+-0x356*0x6+0x126),Ce('metalness',0x5d*0x3d+-0x2419*0x1+0xdf1),Ce('anisotropy',0x4d*-0x8+-0x2493+0x26fb*0x1),Ce('clearCoat',0x198c+-0xfd*0x1b+0x123),Ce('clearCoatG'+'loss',0x11*0x26+0x250a+-0x278f),Ce('clearCoatB'+'umpiness',-0x1*-0x4f+-0x904*0x2+0x11ba),Ce('aoUvSet',0x115+0x11*-0xbb+-0x1*-0xb56,null),Ce('iridescenc'+'e',-0x1*0x220f+-0x3*-0xb7e+0x1*-0x6b),Ce('iridescenc'+'eRefractio'+'nIndex',(0x18d6+0x1bdc*-0x1+0x9b*0x5)/(0x24c*0x7+0x8f4+0x1907*-0x1+0.5)),Ce('iridescenc'+'eThickness'+'Min',-0x1012+-0x1b07*-0x1+-0xaf5),Ce('iridescenc'+'eThickness'+'Max',0xf08+0x2038+0x1c*-0x1b0),qa('ambientSH'),qa('cubeMapPro'+'jectionBox',(_0x2064cc,_0x22022e,_0x362095)=>{const _0x59eba9=_0x2064cc['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x7*-0x235+0x2033+-0x10bd)},{'name':'envBoxMax','value':new Float32Array(0xa1f*0x1+-0x58e+-0x48e)}]),_0x25ca09=_0x2064cc['cubeMapPro'+'jectionBox']['getMin'](),_0xa0d29=_0x59eba9[-0x7f7*0x3+-0x6f5*0x1+0x1eda]['value'];_0xa0d29[0xb*-0xe2+0x2173+-0x17bd]=_0x25ca09['x'],_0xa0d29[0x1c8f+-0x1e2f+-0x3*-0x8b]=_0x25ca09['y'],_0xa0d29[0xa59+-0x1c6*0x1+-0x2db*0x3]=_0x25ca09['z'];const _0x3c941b=_0x2064cc['cubeMapPro'+'jectionBox']['getMax'](),_0x4d1e5e=_0x59eba9[-0x1abe+0x1750+0x36f]['value'];return _0x4d1e5e[-0x2*0x491+0x212b+-0x1809]=_0x3c941b['x'],_0x4d1e5e[-0x60*0x65+0x10b*0x1d+0x3d1*0x2]=_0x3c941b['y'],_0x4d1e5e[-0x1f55*0x1+-0x1887+-0x1bef*-0x2]=_0x3c941b['z'],_0x59eba9;}),we('specularTi'+'nt',!(0xeae+-0x13*-0x15b+-0x159*0x1e)),we('specularit'+'yFactorTin'+'t',!(0x1992+-0x8*-0x336+-0x3341)),we('useMetalne'+'ss',!(-0xf07+0x147d*-0x1+0x2385)),we('useMetalne'+'ssSpecular'+'Color',!(-0x20c0+-0x1c*-0x25+0x1cb5)),we('useSheen',!(-0x1816+-0xe2*0x1a+0x2f0b)),we('enableGGXS'+'pecular',!(0x218b+-0x4b*-0x4d+-0x3819)),we('occludeDir'+'ect',!(-0x19cd+0x1*-0x12e5+0x1*0x2cb3)),we('opacityFad'+'esSpecular',!(-0x98+0x2*0x51a+-0x99c)),we('occludeSpe'+'cular',Bo),we('fresnelMod'+'el',Sp),we('useDynamic'+'Refraction',!(0x1c+-0xb94+0xb79)),we('cubeMapPro'+'jection',u0),we('customFrag'+'mentShader',null),we('useFog',!(-0x464+0x1*0x9be+0x1*-0x55a)),we('useLightin'+'g',!(-0xf*-0x1eb+0x1a4a*-0x1+-0x27b)),we('useTonemap',!(0xd6f*0x2+-0x123*-0x6+-0x31*0xb0)),we('useSkybox',!(0x129c*-0x2+0x1*0xa25+-0x1*-0x1b13)),we('forceUv1',!(0x12d*0x18+0x1cbf+-0x38f6)),we('pixelSnap',!(0x70*-0x14+-0x1*0x11cc+-0x1*-0x1a8d)),we('twoSidedLi'+'ghting',!(-0x1*0xa04+0xe5c+-0x65*0xb)),we('nineSliced'+'Mode',void(-0x837+0x125*-0xd+0x1718*0x1)),we('msdfTextAt'+'tribute',!(-0x741+-0x1*-0xe71+-0x72f)),we('useIridesc'+'ence',!(-0x20c4+0x1ef5+-0x1d*-0x10)),we('glossInver'+'t',!(0x1*0x1a2e+0x229c+0x7*-0x8af)),we('sheenGloss'+'Invert',!(-0x737*0x3+0x1d09+-0x763)),we('clearCoatG'+'lossInvert',!(-0x2de+0xc7b+-0xa4*0xf)),we('opacityDit'+'her',Rs),we('opacitySha'+'dowDither',Rs),Ge('diffuse'),Ge('specular'),Ge('emissive'),Ge('thickness','g'),Ge('specularit'+'yFactor','g'),Ge('normal',''),Ge('metalness','g'),Ge('gloss','g'),Ge('opacity','a'),Ge('refraction','g'),Ge('height','g',!(0x2*0x793+0x1521+-0x2446)),Ge('ao','g'),Ge('light','rgb',!(-0x22c1+0x3*0xbb5+-0x5e),-0x116f+0x1343*-0x1+0x757*0x5),Ge('msdf',''),Ge('diffuseDet'+'ail','rgb',!(0xdbe+0xf04+-0x1cc1*0x1)),Ge('normalDeta'+'il',''),Ge('aoDetail','g',!(0x3d*-0x17+0x6*0xff+-0x7*0x12)),Ge('clearCoat','g'),Ge('clearCoatG'+'loss','g'),Ge('clearCoatN'+'ormal',''),Ge('sheen','rgb'),Ge('sheenGloss','g'),Ge('iridescenc'+'e','g'),Ge('iridescenc'+'eThickness','g'),we('diffuseDet'+'ailMode',km),we('aoDetailMo'+'de',km),qa('cubeMap'),qa('sphereMap'),qa('envAtlas');const _0x52116d=function(){return this['_prefilter'+'edCubemaps'];},_0x54531e=function(_0x144d54){const _0x368d8c=this['_prefilter'+'edCubemaps'];_0x144d54=_0x144d54||[];let _0x22c85b=!(0x6da*-0x1+-0xe0c+-0x1*-0x14e7),_0x305854=!(0x20d0+0x9cf+-0x2a9f);for(let _0x8e9d51=0x24b*0x11+0x29f*-0xd+-0x4e8;_0x8e9d51<0x164*-0x18+0x749*-0x3+-0xf*-0x3af;++_0x8e9d51){const _0x2509f5=_0x144d54[_0x8e9d51]||null;_0x368d8c[_0x8e9d51]!==_0x2509f5&&(_0x368d8c[_0x8e9d51]=_0x2509f5,_0x22c85b=!(0x13a*0x1+0x90e*0x2+-0x1356)),_0x305854=_0x305854&&!!_0x368d8c[_0x8e9d51];}_0x22c85b&&(_0x305854?this['envAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x368d8c,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(-0x33*0x67+0x5c1+0xec4));},_0x2373a6=[null,null,null,null,null,null];Op('prefiltere'+'dCubemaps',()=>_0x2373a6['slice'](),_0x54531e,_0x52116d);}tM();const dt=class dt{static['render'](_0x2548cc,_0x1dce32){const _0x57402f=_0x1dce32['device'],_0x6d3ffd=_0x2548cc['cells'],_0x40bfbd=_0x2548cc['lightsBuff'+'er'],_0xa80c21=_0x40bfbd['boundsMin'],_0x1deaaf=_0x40bfbd['boundsDelt'+'a'],_0x3200f6=_0xa80c21['clone']()['add'](_0x1deaaf),_0x427e73=_0x40bfbd['boundsDelt'+'a']['clone']()['div'](_0x6d3ffd),_0x314e57=dt['gridPositi'+'ons'],_0x2409d7=dt['gridColors'],_0x26014f=new Y(0x8ae+0x503*0x1+-0xdb1+0.3,-0x617*-0x1+-0xd95+-0x1*-0x77e+0.3,0x795+-0x11*0x173+0x110e+0.3),_0x4efa10=(_0x2261e5,_0x2964f4,_0x4df1a9,_0x4fa6fd,_0x1f96c3,_0x3e2374,_0x2f36ff,_0x308840,_0x26d8fd)=>{for(let _0x2e2de8=0x1a1d+0x1241+-0x2c5e;_0x2e2de8<=_0x2261e5;_0x2e2de8++)for(let _0x5dc7b4=0x1764+-0x1*0xb3f+0xc25*-0x1;_0x5dc7b4<=_0x2964f4;_0x5dc7b4++){const _0xca7ad3=_0x4df1a9+_0x2e2de8*_0x4fa6fd,_0x44d7c3=_0x1f96c3+_0x5dc7b4*_0x3e2374;_0x26d8fd===-0x23e3+0x156b*-0x1+-0x1ca7*-0x2?_0x314e57['push'](_0xca7ad3,_0x2f36ff,_0x44d7c3,_0xca7ad3,_0x308840,_0x44d7c3):_0x26d8fd===-0x7dc+-0x653*-0x1+-0x2*-0xc5?_0x314e57['push'](_0xca7ad3,_0x44d7c3,_0x2f36ff,_0xca7ad3,_0x44d7c3,_0x308840):_0x26d8fd===0xe21*-0x2+-0x38a+-0xa9a*-0x3&&_0x314e57['push'](_0x2f36ff,_0xca7ad3,_0x44d7c3,_0x308840,_0xca7ad3,_0x44d7c3);}};if(_0x4efa10(_0x6d3ffd['x'],_0x6d3ffd['z'],_0xa80c21['x'],_0x427e73['x'],_0xa80c21['z'],_0x427e73['z'],_0xa80c21['y'],_0x3200f6['y'],-0x14a+0x47*0x63+-0x3bd*0x7),_0x4efa10(_0x6d3ffd['x'],_0x6d3ffd['y'],_0xa80c21['x'],_0x427e73['x'],_0xa80c21['y'],_0x427e73['y'],_0xa80c21['z'],_0x3200f6['z'],-0x632*-0x4+0x1*-0x2039+-0x772*-0x1),_0x4efa10(_0x6d3ffd['y'],_0x6d3ffd['z'],_0xa80c21['y'],_0x427e73['y'],_0xa80c21['z'],_0x427e73['z'],_0xa80c21['x'],_0x3200f6['x'],-0x1318+0x1536+0x4*-0x87),_0x314e57['length']){const _0x25aecb=_0x314e57['length']/(0xe9*0x23+-0x19c5+-0x613);if(_0x25aecb!==_0x2409d7['length']/(0x5a+0x491*0x2+-0xc*0xca)){_0x2409d7['length']=-0x2027*-0x1+0x2*-0x1322+0x61d;for(let _0x7a3981=-0xc6b*0x3+-0x53*-0x2a+-0x3*-0x7e1;_0x7a3981<_0x25aecb;_0x7a3981++)_0x2409d7['push'](_0x26014f['r'],_0x26014f['g'],_0x26014f['b'],_0x26014f['a']);}_0x1dce32['drawLineAr'+'rays'](_0x314e57,_0x2409d7),_0x314e57['length']=0x47f*0x3+-0x234e+-0x45d*-0x5;}let _0x2ba534=dt['mesh'];_0x2ba534||(_0x2ba534=new Ie(_0x57402f),_0x2ba534['clear'](!(0x264e+-0xaf0+-0x1b5e),!(-0x23cc+0xd*-0x35+0x267d)),dt['mesh']=_0x2ba534);const _0x5c3628=[],_0x4dcf96=[],_0x56ff0e=[],_0x527cdd=_0x2548cc['_cells']['x'],_0x2b7380=_0x2548cc['_cells']['z'],_0x1c3e94=_0x2548cc['counts'],_0x5a7881=_0x2548cc['_maxCellLi'+'ghtCount'],_0x5d94f6=new T(),_0x561048=new T(),_0x11cc60=new T(),_0x3b2f93=_0x1deaaf['clone']()['div'](_0x6d3ffd);let _0x540ba2=-0x11b6+-0x29*0xb0+-0x92e*-0x5;for(let _0x4ec8ca=-0xf8d*0x2+0x1*0x1853+0x1*0x6c7;_0x4ec8ca<_0x6d3ffd['x'];_0x4ec8ca++)for(let _0x5e0d20=0x236+-0x1*0x186d+-0x205*-0xb;_0x5e0d20<_0x6d3ffd['z'];_0x5e0d20++)for(let _0x355283=-0x99b+-0x56d+0xf08;_0x355283<_0x6d3ffd['y'];_0x355283++){const _0x334b6f=_0x4ec8ca+_0x527cdd*(_0x5e0d20+_0x355283*_0x2b7380),_0x4df4d4=_0x1c3e94[_0x334b6f];if(_0x4df4d4>-0xc0+-0x4*0x1+0xc4){_0x5d94f6['x']=_0xa80c21['x']+_0x3b2f93['x']*_0x4ec8ca,_0x5d94f6['y']=_0xa80c21['y']+_0x3b2f93['y']*_0x355283,_0x5d94f6['z']=_0xa80c21['z']+_0x3b2f93['z']*_0x5e0d20,_0x561048['add2'](_0x5d94f6,_0x3b2f93),_0x5c3628['push'](_0x5d94f6['x'],_0x5d94f6['y'],_0x561048['z']),_0x5c3628['push'](_0x561048['x'],_0x5d94f6['y'],_0x561048['z']),_0x5c3628['push'](_0x561048['x'],_0x561048['y'],_0x561048['z']),_0x5c3628['push'](_0x5d94f6['x'],_0x561048['y'],_0x561048['z']),_0x5c3628['push'](_0x561048['x'],_0x5d94f6['y'],_0x5d94f6['z']),_0x5c3628['push'](_0x5d94f6['x'],_0x5d94f6['y'],_0x5d94f6['z']),_0x5c3628['push'](_0x5d94f6['x'],_0x561048['y'],_0x5d94f6['z']),_0x5c3628['push'](_0x561048['x'],_0x561048['y'],_0x5d94f6['z']),_0x11cc60['lerp'](dt['colorLow'],dt['colorHigh'],_0x4df4d4/_0x5a7881)['round']();for(let _0x5828b1=0x65*0x27+-0x122*0x5+0x9b9*-0x1;_0x5828b1<0x1e08+-0x2190+0x390;_0x5828b1++)_0x4dcf96['push'](_0x11cc60['x'],_0x11cc60['y'],_0x11cc60['z'],0x1a*-0xdd+-0x1936+0x2fa9);_0x56ff0e['push'](_0x540ba2*(0xa11+0x10b6+-0x1abf)+(0xf37+0xb7*-0x5+-0x2*0x5d2),_0x540ba2*(0x7*-0x50d+0x1*0x75a+0x1c09)+(0x1*0x6fb+0x1*0x3fa+0x2*-0x57a),_0x540ba2*(-0x13f*-0x2+0x1*0x1d9f+0x2015*-0x1)+(-0x12*-0x1e7+0xcff*0x3+-0x4938)),_0x56ff0e['push'](_0x540ba2*(0x5ec+0x20a7+-0x268b)+(-0x5f2*-0x2+0x964*0x2+-0x1ea9),_0x540ba2*(0xbf1*0x1+0xbb3+0x2*-0xbce)+(-0x2585+-0x1112+0x3698),_0x540ba2*(0x528+-0x1c13+0x16f3)+(-0x2708+0x43f*-0x7+0x1d*0x25f)),_0x56ff0e['push'](_0x540ba2*(-0xc9e+0x1b91+0x4f9*-0x3)+(-0x115d+0x114c+0x15),_0x540ba2*(-0xf1b+-0x1343*0x1+0x7*0x4ea)+(0x1ed9+0x21e2+-0x42*0xfb),_0x540ba2*(-0x230c+-0x729*0x3+-0x1*-0x388f)+(-0x1*-0x18b9+0x152a+0x14*-0x24b)),_0x56ff0e['push'](_0x540ba2*(0x1*0x73d+-0x1dc3+-0xb47*-0x2)+(-0x1861*0x1+0x1b4c+0x2e4*-0x1),_0x540ba2*(-0x5*0x52d+0xed*-0x11+0x29a6)+(-0x17*-0x14e+0x2*0x733+0x2c63*-0x1),_0x540ba2*(0x2412+0x1b73+-0x3f7d)+(0x2*-0x531+0x162b+0x1*-0xbc3)),_0x56ff0e['push'](_0x540ba2*(-0x13*-0x9+0x5*-0x2e1+0xdc2)+(0x23f7+0x303*0x1+-0x26f7),_0x540ba2*(-0x3*-0x931+0x1428+0x1*-0x2fb3)+(0xf17*-0x2+0xc32*0x3+-0x1*0x666),_0x540ba2*(0x1b43+0x1869+-0x33a4)+(-0x1567+0x391*-0x2+0x1c8f)),_0x56ff0e['push'](_0x540ba2*(0x8*0x215+-0xf6+-0x5*0x322)+(-0x1730*0x1+0x16e*-0x7+0x11*0x1f4),_0x540ba2*(0x1e37+-0x288+-0x1ba7)+(-0x566*0x2+0x22af*0x1+-0x17dc),_0x540ba2*(-0x14f7+0x21d3+-0x1*0xcd4)+(-0xebe+-0x18fe+0x27c2)),_0x56ff0e['push'](_0x540ba2*(0x1*-0x1e23+0xd5*0x7+-0x30b*-0x8)+(0x1*0x26f1+-0xfa6+-0x174a),_0x540ba2*(-0x103+-0xa17+0xb22)+(0x21*0xc7+0x1*-0x1b09+0x162),_0x540ba2*(0x17c0+-0x4*-0x6c9+-0x32dc)+(0x246+0x100f+-0x1251)),_0x56ff0e['push'](_0x540ba2*(0x49c+-0xa51*-0x2+-0x1936*0x1)+(0x710+-0x20c6+0x892*0x3),_0x540ba2*(-0x13f9+0x2*-0x5a1+-0x97*-0x35)+(0x38*0x1+0x14*0xa9+-0xd67),_0x540ba2*(0x1e68+0x1ff6+0x1f2b*-0x2)+(-0x10a3+-0x139*0x7+0x1936)),_0x56ff0e['push'](_0x540ba2*(0x12a7+0x9*0x427+-0x37fe)+(-0x1831+-0x2b9*-0x2+0x12c0),_0x540ba2*(-0xade+0x20e8+-0x1602)+(-0x243*-0x9+0x223e+0x59*-0x9d),_0x540ba2*(0x2626+-0x1cc0+-0x95e)+(0x2*-0x503+-0x2*0x47b+-0x12fe*-0x1)),_0x56ff0e['push'](_0x540ba2*(-0x2637*-0x1+0x35*0x6a+0x15*-0x2dd)+(-0x7*0x45f+0x87c*-0x4+-0xce9*-0x5),_0x540ba2*(-0x1502+-0xf19*0x2+0x1114*0x3)+(0x3d8+-0x2*0xf3e+0x1*0x1aab),_0x540ba2*(-0x33e+0x135*0x19+-0x1ae7)+(-0x1a08+-0x17d6+0x31e0)),_0x56ff0e['push'](_0x540ba2*(0x30f+0x268f+-0x2996)+(-0x1e10+-0x1*0x6ba+0x24cf),_0x540ba2*(0x21f1+-0x16fd+0x2bb*-0x4)+(-0x5*-0x607+0x644*0x6+0x9ad*-0x7),_0x540ba2*(0x1*0x18d1+-0xc0a+-0x1*0xcbf)+(-0xb23*0x2+0x183a+-0x1ee)),_0x56ff0e['push'](_0x540ba2*(-0xaef+0x149c+-0x9a5*0x1)+(-0x131f+-0x373+0x1692),_0x540ba2*(0x9*0x367+-0x332+0x1b65*-0x1)+(-0x7*0x151+-0x39a*0x7+0x2270),_0x540ba2*(0x1*-0x1f49+-0x10e6+0x3037)+(0x6e2+-0x16f2*0x1+-0x2*-0x80b)),_0x540ba2++;}}if(_0x540ba2){if(_0x2ba534['setPositio'+'ns'](_0x5c3628),_0x2ba534['setColors3'+'2'](_0x4dcf96),_0x2ba534['setIndices'](_0x56ff0e),_0x2ba534['update'](Ms,!(-0x3*-0x78d+-0x1e4c+-0xb*-0xb2)),!dt['meshInstan'+'ce']){const _0x552f58=new cs();_0x552f58['useLightin'+'g']=!(0x1*-0x192d+-0x16b7+0x2fe5),_0x552f58['emissive']=new Y(0xbec+-0x1d*-0x37+0x913*-0x2,0x1588+-0x1bfc+0x3*0x227,-0xa22+-0x155f*0x1+0x6d*0x4a),_0x552f58['emissiveVe'+'rtexColor']=!(-0x4*-0x3f1+0x1249+-0x220d*0x1),_0x552f58['blendType']=Hc,_0x552f58['depthWrite']=!(-0x1f3*0x6+0x6c1*-0x4+-0xb*-0x385),_0x552f58['update']();const _0x51dc3e=new De('WorldClust'+'ersDebug');_0x51dc3e['worldTrans'+'form']=q['IDENTITY'],_0x51dc3e['_dirtyWorl'+'d']=_0x51dc3e['_dirtyNorm'+'al']=!(0x120e+0xa*-0x2ba+0x937),dt['meshInstan'+'ce']=new Le(_0x2ba534,_0x552f58,_0x51dc3e),dt['meshInstan'+'ce']['cull']=!(-0x9d*-0x7+-0x5e*-0xb+0x215*-0x4);}const _0x1ddb8b=dt['meshInstan'+'ce'];_0x1dce32['immediate']['drawMesh'](_0x1ddb8b['material'],_0x1ddb8b['node']['worldTrans'+'form'],null,_0x1ddb8b,_0x1dce32['defaultDra'+'wLayer']);}}};c(dt,'gridPositi'+'ons',[]),c(dt,'gridColors',[]),c(dt,'mesh',null),c(dt,'meshInstan'+'ce',null),c(dt,'colorLow',new T(0xbb2+-0x1*0x10cf+0x51e,0x79*-0x21+-0x35*-0x8e+0x2*-0x6e6,0x232f*0x1+0x1144+0x3bf*-0xe)),c(dt,'colorHigh',new T(0x23a8+0x1399+-0x3719,-0x2275*0x1+0x3ca+-0x1eab*-0x1,-0x238a+-0x1a*-0x1a+-0x20e6*-0x1));let Vu=dt;const sM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let vi=null;const R0=()=>{if(!vi){const _0x1c26d7=atob(sM);vi=Uint8Array['from'](_0x1c26d7,_0x21fee5=>_0x21fee5['charCodeAt'](-0x2339*-0x1+0x1de+0x2d*-0xd3));}},iM=()=>(R0(),vi);class rM{constructor(_0x1639f8=0x1d9d+-0x1*-0x20b+0x1fa8*-0x1){c(this,'seed',-0x6*-0x582+-0x20c*0xb+-0x151*0x8),(this['seed']=_0x1639f8*(-0x10e9+-0x1c82+0x3*0xf25),R0());}['_next'](){this['seed']=(this['seed']+(0x3*0x9d9+-0x1838+-0x54f))%vi['length'];}['value'](){return this['_next'](),vi[this['seed']]/(0xc43*-0x2+0x4ca*0x8+-0xccb);}['vec4'](_0x44ac25=new Q()){return this['_next'](),_0x44ac25['set'](vi[this['seed']],vi[this['seed']+(0x36a*0x5+0x64c+-0x175d*0x1)],vi[this['seed']+(-0x6af+0x1cc4*-0x1+-0x1d*-0x139)],vi[this['seed']+(0xdcd*0x2+0x1eb1+0xba8*-0x5)])['mulScalar']((-0x239a+-0x18dc+0x3c77)/(0x2ff*0x6+-0x7*-0xdd+-0x1706));}}const nM=[new T(-(-0x1fc5*0x1+-0x12ba+-0xca*-0x40),-0xe3e*-0x1+0xfd8+-0x2*0xf0b,0xb*-0x319+-0x3*-0x1f3+0x1c3a),new T(0x3*0xbfd+-0x1b46+-0x8b0,-0x1cf*0x2+-0x4*0x19f+0xa1a,0x4*-0x6ea+-0xdaa+0x2952),new T(0x1666+-0x1972+-0xc3*-0x4,-(0xc*-0x1a3+0x20e7+-0x1*0xd42),-0x1*-0x12a3+-0x18fc+0x659),new T(-0x2*-0x103f+-0x5*0x51e+-0x6e8,-0xfc3+-0xe*-0xe5+-0x19f*-0x2,-0x2*-0x81d+0x6*0x3a9+-0x2630),new T(0x690+0x1*0x141b+-0x1aab,0x23d4+0x2*0x9e8+-0x946*0x6,-(-0x12f1+0x34c*-0xb+0x3736)),new T(-0x1*-0x9b4+0x1*-0x115+-0x89f,0x59e*0x2+0x46*-0x2b+0x86,0xf13*0x1+-0x1804+0x8f2)];class aM{constructor(){c(this,'colors',new Float32Array((0x9da+-0x1*0xda1+-0x7*-0x8b)*(0x14fa+0x156c*0x1+0x2a63*-0x1)));}['update'](_0x41a3b0,_0x37455b){const _0x3ec804=this['colors'],{r:_0x37c2cc,g:_0x3472a3,b:_0x13d3bd}=_0x41a3b0;for(let _0x535e4a=0x2f*0x22+0x11ab*-0x2+0x1d18;_0x535e4a<0x2543+-0x1ca5*0x1+-0x898;_0x535e4a++)_0x3ec804[_0x535e4a*(-0xd86+0x34a*0xb+-0x16a5*0x1)]=_0x37c2cc,_0x3ec804[_0x535e4a*(-0x1*-0x1cc9+0x1a08+-0x36ce)+(0x1c7f+0x11dd+-0x2e5b*0x1)]=_0x3472a3,_0x3ec804[_0x535e4a*(0x1102+-0x1*-0x1741+-0x2840)+(0x1a5f*0x1+-0x107c+-0x9e1)]=_0x13d3bd;for(let _0x47a687=-0x1503+0x107b*-0x2+-0x35f9*-0x1;_0x47a687<_0x37455b['length'];_0x47a687++){const _0x44e56c=_0x37455b[_0x47a687];if(_0x44e56c['_type']===oe)for(let _0x234c52=0xa20+-0x1334+-0x245*-0x4;_0x234c52<-0x25f1+0xb*-0x16e+0x35b1;_0x234c52++){const _0x55c894=Math['max'](nM[_0x234c52]['dot'](_0x44e56c['_direction']),-0xc*-0x303+-0x2036*0x1+-0x3ee)*_0x44e56c['_intensity'],_0xc0e7e4=_0x44e56c['_color'];_0x3ec804[_0x234c52*(0x10a5*0x1+0x23*0xd3+-0x2d7b)]+=_0xc0e7e4['r']*_0x55c894,_0x3ec804[_0x234c52*(0x23a*0x9+0x2ef+-0x2*0xb7b)+(-0xe9*0x16+-0x1*-0x260+0x11a7)]+=_0xc0e7e4['g']*_0x55c894,_0x3ec804[_0x234c52*(-0x11bd+0x2*0x265+0xcf6)+(0x11c*0x20+0x1834+-0x36*0x11b)]+=_0xc0e7e4['b']*_0x55c894;}}}}const oM=(_0x28c070,_0x1c7c98,_0x5e80e7,_0x254e4d)=>{const _0x5cb012=new he(_0x28c070,{'name':''+_0x1c7c98+_0x5e80e7,'width':_0x5e80e7,'height':_0x5e80e7,'format':Se,'addressU':tt,'addressV':tt,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1,'mipmaps':!(0x1d42+0x794+0x15*-0x1c1)});return _0x5cb012['lock']()['set'](_0x254e4d),_0x5cb012['unlock'](),_0x5cb012;},lM=new Ot(),hM=_0x44f99a=>lM['get'](_0x44f99a,()=>{const _0x5a6245=iM(),_0x5dacfc=Math['sqrt'](_0x5a6245['length']/(0x2329*-0x1+0x4f9+0x1e34));return oM(_0x44f99a,'BlueNoise',_0x5dacfc,_0x5a6245);});class un{constructor(_0x377432,_0x2979ec){this['texture']=_0x377432,this['cached']=!(0x101e+-0x38f+0x2*-0x647),this['renderTarg'+'ets']=_0x2979ec;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x425105=this['renderTarg'+'ets'];for(let _0x10b488=-0x3b*0x45+0x1e6+-0xef*-0xf;_0x10b488<_0x425105['length'];_0x10b488++)_0x425105[_0x10b488]['destroy']();this['renderTarg'+'ets']['length']=0x793+0x25f5+0x5b1*-0x8;}static['getShadowF'+'iltering'](_0xc46af4,_0x5b0899){return _0x5b0899===$r?_0xc46af4['extTexture'+'FloatLinea'+'r']?st:de:st;}static['create'](_0x47c389,_0x24d588){let _0x2c32bc=null;return _0x24d588['_type']===Pe?_0x2c32bc=this['createCube'+'map'](_0x47c389,_0x24d588['_shadowRes'+'olution'],_0x24d588['_shadowTyp'+'e']):_0x2c32bc=this['create2dMa'+'p'](_0x47c389,_0x24d588['_shadowRes'+'olution'],_0x24d588['_shadowTyp'+'e']),_0x2c32bc;}static['createAtla'+'s'](_0x5db1fa,_0xc7d005,_0x5e589b){const _0x2b92ac=this['create2dMa'+'p'](_0x5db1fa,_0xc7d005,_0x5e589b),_0x102596=_0x2b92ac['renderTarg'+'ets'],_0x56c6e3=_0x102596[-0xb23*0x2+-0x3fa+-0xd2*-0x20];for(let _0x427a99=-0x53*-0x59+0xfd2+-0x2cad;_0x427a99<0x3b9*-0x5+0x20e4+-0x1*0xe42;_0x427a99++)_0x102596['push'](_0x56c6e3);return _0x2b92ac;}static['create2dMa'+'p'](_0x411bc0,_0x59f167,_0x59f3d3){var _0x11b281;const _0xf4573d=ir['get'](_0x59f3d3);v['assert'](_0xf4573d);let _0x19a5f2=_0xf4573d['format'];_0x19a5f2===Ii&&!_0x411bc0['textureFlo'+'atRenderab'+'le']&&_0x411bc0['textureHal'+'fFloatRend'+'erable']&&(_0x19a5f2=Ec);const _0x4b344f=(_0x11b281=xt['get'](_0x19a5f2))==null?void(0xbc5+-0x3*0x1da+0x2b*-0x25):_0x11b281['name'],_0xe9228d=this['getShadowF'+'iltering'](_0x411bc0,_0x59f3d3),_0x163028=new he(_0x411bc0,{'profilerHint':Tu,'format':_0x19a5f2,'width':_0x59f167,'height':_0x59f167,'mipmaps':!(0x2677+0x5*0x71+-0x28ab),'minFilter':_0xe9228d,'magFilter':_0xe9228d,'addressU':ae,'addressV':ae,'name':'ShadowMap2'+'D_'+_0x4b344f});let _0x28a71e=null;return _0xf4573d!=null&&_0xf4573d['pcf']?(_0x163028['compareOnR'+'ead']=!(0x1*-0x1de5+-0x5*-0x578+0x28d),_0x163028['compareFun'+'c']=Eh,_0x28a71e=new pt({'depthBuffer':_0x163028})):_0x28a71e=new pt({'colorBuffer':_0x163028,'depth':!(0x1625*-0x1+0x7ca+0x4b*0x31)}),_0x411bc0['isWebGPU']&&(_0x28a71e['flipY']=!(0x879*0x4+-0x349+-0x1e9b)),new un(_0x163028,[_0x28a71e]);}static['createCube'+'map'](_0x264185,_0x153ccc,_0x563891){var _0x2503b7;const _0x38d7fc=ir['get'](_0x563891);v['assert'](_0x38d7fc);const _0x52919f=(_0x2503b7=xt['get'](_0x38d7fc['format']))==null?void(0x15*-0xd3+0x1756+-0x607):_0x2503b7['name'],_0xd7b290=_0x563891===Ts,_0x3f8eeb=_0xd7b290?de:st,_0x1c5c9f=new he(_0x264185,{'profilerHint':Tu,'format':_0x38d7fc==null?void(0x1b1f+-0x239a+0x1*0x87b):_0x38d7fc['format'],'width':_0x153ccc,'height':_0x153ccc,'cubemap':!(0x1*-0x139f+-0x1817+0x2bb6),'mipmaps':!(-0x449*-0x5+-0x7*0x43+-0x11*0x127),'minFilter':_0x3f8eeb,'magFilter':_0x3f8eeb,'addressU':ae,'addressV':ae,'name':'ShadowMapC'+'ube_'+_0x52919f});_0xd7b290||(_0x1c5c9f['compareOnR'+'ead']=!(0xa7c*-0x2+-0x20*0xcf+0x2ed8),_0x1c5c9f['compareFun'+'c']=Eh);const _0x41c060=[];for(let _0x2cdc57=0x152c+-0x2375+-0x4c3*-0x3;_0x2cdc57<0x3*-0xb47+0x20b1+0x2*0x95;_0x2cdc57++)_0xd7b290?_0x41c060['push'](new pt({'colorBuffer':_0x1c5c9f,'face':_0x2cdc57,'depth':!(-0x258b*0x1+-0x1*0x171d+0x287*0x18)})):_0x41c060['push'](new pt({'depthBuffer':_0x1c5c9f,'face':_0x2cdc57}));return new un(_0x1c5c9f,_0x41c060);}}const cM=[],dM=[],Js=new Q(),Cd=new Q();class Md{constructor(_0x543c76){this['size']=Math['floor'](_0x543c76['w']*(-0x223*0xa+-0x158*0x12+-0x1*-0x318e)),this['used']=!(0x35+0x1ddf*0x1+0x1e13*-0x1),this['lightId']=-(0x2*0xb31+-0x1f3c+-0x8db*-0x1),this['rect']=_0x543c76;}}class uM{constructor(_0x251ae9){this['device']=_0x251ae9,this['version']=0x25d5+0x1fe5+-0xd*0x55d,this['shadowAtla'+'sResolutio'+'n']=0x65b*-0x5+0x11ca+0x1*0x15fd,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0xf44*-0x1+0x66d+0x16*0x67,this['cookieAtla'+'sResolutio'+'n']=-0x27e+-0x10c5+0x3db*0x5,this['cookieAtla'+'s']=new he(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':rs,'cubemap':!(-0x1c78+0xd*0x1b6+-0x91*-0xb),'mipmaps':!(0x218+0x1*-0x17ef+0x15d8),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae}),this['cookieRend'+'erTarget']=new pt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x16c4+0x501+0x4*-0x6f1),'flipY':!(0x2e5+0x3*0xb9b+-0x25b6)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new $(-0x518*-0x2+-0x5*-0x45f+-0x200b,-0xda2+-0x256c+-0x5*-0xa36),new $(-0x114e+0xbc3+0x58b,0x537*0x7+0xfdc+-0x345c),new $(0xe9*-0x3+0x9a9*0x1+-0xc5*0x9,-0x666+0x1171+-0x1*0xb0b),new $(0x2576*-0x1+0x583+0x1ff4,-0x476+0xd53+0x2*-0x46e),new $(0x1c*0xc6+0x15*0x137+-0x1*0x2f29,0x19aa+0xa*0x3e7+-0x40b0),new $(0x656+-0x2ce*-0x6+-0x1728,0x1ba6*-0x1+-0x1976+0x351d)],this['scissorVec']=new Q(),this['allocateSh'+'adowAtlas'](0xc6b+0xfe+-0xd68),this['allocateCo'+'okieAtlas'](0x433+-0x1*-0xf9b+-0x13cd),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x3e5d69;(_0x3e5d69=this['shadowAtla'+'s'])==null||_0x3e5d69['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x286808,_0x22b119;(_0x286808=this['cookieAtla'+'s'])==null||_0x286808['destroy'](),this['cookieAtla'+'s']=null,(_0x22b119=this['cookieRend'+'erTarget'])==null||_0x22b119['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x578622,_0x5f1a31=Dt){var _0x3e607c;const _0x21ab16=(_0x3e607c=this['shadowAtla'+'s'])==null?void(-0x2f2+0x145a+-0x1168):_0x3e607c['texture']['format'],_0x11e9f4=ir['get'](_0x5f1a31)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x578622||_0x21ab16!==_0x11e9f4){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=un['createAtla'+'s'](this['device'],_0x578622,_0x5f1a31),this['shadowAtla'+'s']['cached']=!(-0x5d0+0x1eeb+-0x191b*0x1);const _0x179acc=(-0x115d*-0x1+-0x1bce+0xa75)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x179acc,_0x179acc,-(0x1*-0x239e+-0x7*0xe9+0x29ff*0x1)*_0x179acc,-(0x1d12+0x3*-0x8e1+-0x9*0x45)*_0x179acc);}}['allocateCo'+'okieAtlas'](_0x27b313){this['cookieAtla'+'s']['width']!==_0x27b313&&(this['cookieRend'+'erTarget']['resize'](_0x27b313,_0x27b313),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(0x5*0x66b+0xa3*-0x19+-0x2*0x815),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0xa1fefa=this['shadowAtla'+'s']['renderTarg'+'ets'][0x25d0+-0xa45+0x1*-0x1b8b]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0xa1fefa),this['_shadowAtl'+'asParams'][-0x123c+0x2648+0x503*-0x4]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0x3*0x697+0x1bdb+-0x2f9f]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x231332,_0x4eb8c6){let _0x3e8d74=_0x4eb8c6['atlasSplit'];if(!_0x3e8d74){const _0x457a15=Math['ceil'](Math['sqrt'](_0x231332));_0x3e8d74=dM,_0x3e8d74[0x954+-0x1*0x799+-0x1bb]=_0x457a15,_0x3e8d74['length']=0x88f+-0x845+-0x1*0x49;}if(!((_0x1cb1f5,_0x2aa029)=>_0x1cb1f5['length']===_0x2aa029['length']&&_0x1cb1f5['every']((_0xdac203,_0x23cc2e)=>_0xdac203===_0x2aa029[_0x23cc2e]))(_0x3e8d74,this['atlasSplit'])){this['version']++,this['slots']['length']=0x1e5f+-0x1*-0x517+-0x11bb*0x2,this['atlasSplit']['length']=-0x20c9+-0xe74+0x2f3d,this['atlasSplit']['push'](..._0x3e8d74);const _0x38f56a=this['atlasSplit'][0x1*0x214a+-0xc45+-0x1505];if(_0x38f56a>0x4f5+0x65*-0x25+-0x337*-0x3){const _0x5a0cc6=(-0x164d*-0x1+-0x35*-0x5e+0x29c2*-0x1)/_0x38f56a;for(let _0x421944=0x32*-0x1d+-0x2535+0x893*0x5;_0x421944<_0x38f56a;_0x421944++)for(let _0x329f2f=0x4b2*-0x2+0x2401*0x1+-0x1a9d;_0x329f2f<_0x38f56a;_0x329f2f++){const _0x2090ed=new Q(_0x421944*_0x5a0cc6,_0x329f2f*_0x5a0cc6,_0x5a0cc6,_0x5a0cc6),_0x479b81=this['atlasSplit'][0x21ef+-0x42*-0x54+-0x3796+_0x421944*_0x38f56a+_0x329f2f];if(_0x479b81>0x1356*-0x1+-0x11c1+-0x2*-0x128c){for(let _0x3bcb7c=-0x1794+0x8e*-0xf+0x1fe6*0x1;_0x3bcb7c<_0x479b81;_0x3bcb7c++)for(let _0x29d322=0x1*0x16c+-0xd44+0xbd8;_0x29d322<_0x479b81;_0x29d322++){const _0x9ee66c=_0x5a0cc6/_0x479b81,_0x3015f4=new Q(_0x2090ed['x']+_0x3bcb7c*_0x9ee66c,_0x2090ed['y']+_0x29d322*_0x9ee66c,_0x9ee66c,_0x9ee66c);this['slots']['push'](new Md(_0x3015f4));}}else this['slots']['push'](new Md(_0x2090ed));}}else this['slots']['push'](new Md(new Q(0x1f89+0x1956+-0x38df,-0x425*0x7+0x2b*0x7+-0x1fd*-0xe,-0x45*-0x5c+0x1b73+0x2*-0x1a1f,0x5*0xe9+-0x251*0xd+0x1991)));this['slots']['sort']((_0x35ae89,_0x3760d8)=>_0x3760d8['size']-_0x35ae89['size']);}}['collectLig'+'hts'](_0x33f83a,_0x36c998){const _0x116356=_0x36c998['cookiesEna'+'bled'],_0x123782=_0x36c998['shadowsEna'+'bled'];let _0x37558e=!(-0xa*-0x31e+0x1a53*0x1+-0x397e),_0x3ea8a7=!(-0x1633+0x168e*0x1+0x6*-0xf);const _0x21ebea=cM;return _0x21ebea['length']=-0x16e1*-0x1+0x29*-0xf0+0xf8f*0x1,(_0x116356||_0x123782)&&(_0x19646a=>{for(let _0x341c88=-0xab9+-0x16*-0xfc+-0xaef;_0x341c88<_0x19646a['length'];_0x341c88++){const _0x2f6c5d=_0x19646a[_0x341c88];if(_0x2f6c5d['visibleThi'+'sFrame']){const _0x2a18ce=_0x123782&&_0x2f6c5d['castShadow'+'s'],_0x3c2e62=_0x116356&&!!_0x2f6c5d['cookie'];_0x37558e||(_0x37558e=_0x2a18ce),_0x3ea8a7||(_0x3ea8a7=_0x3c2e62),(_0x2a18ce||_0x3c2e62)&&_0x21ebea['push'](_0x2f6c5d);}}})(_0x33f83a),_0x21ebea['sort']((_0x4382a2,_0x1e07e7)=>_0x1e07e7['maxScreenS'+'ize']-_0x4382a2['maxScreenS'+'ize']),_0x37558e&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x36c998['shadowType']),_0x3ea8a7&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x37558e||_0x3ea8a7)&&this['subdivide'](_0x21ebea['length'],_0x36c998),_0x21ebea;}['setupSlot'](_0x523136,_0x58a0c9){_0x523136['atlasViewp'+'ort']['copy'](_0x58a0c9);const _0xe2db2b=_0x523136['numShadowF'+'aces'];for(let _0x5997ec=-0x77b+-0x1694+0x3*0xa05;_0x5997ec<_0xe2db2b;_0x5997ec++)if(_0x523136['castShadow'+'s']||_0x523136['_cookie']){if(Js['copy'](_0x58a0c9),Cd['copy'](_0x58a0c9),_0x523136['_type']===Re&&Js['add'](this['scissorVec']),_0x523136['_type']===Pe){const _0x1540a1=Js['z']/(0x135b+0x858+-0xdd8*0x2),_0xb6fccc=this['cubeSlotsO'+'ffsets'][_0x5997ec];Js['x']+=_0x1540a1*_0xb6fccc['x'],Js['y']+=_0x1540a1*_0xb6fccc['y'],Js['z']=_0x1540a1,Js['w']=_0x1540a1,Cd['copy'](Js);}if(_0x523136['castShadow'+'s']){const _0x4acc29=_0x523136['getRenderD'+'ata'](null,_0x5997ec);_0x4acc29['shadowView'+'port']['copy'](Js),_0x4acc29['shadowScis'+'sor']['copy'](Cd);}}}['assignSlot'](_0x282e24,_0x3804b4,_0x4974d0){_0x282e24['atlasViewp'+'ortAllocat'+'ed']=!(0x1515+0x12d+0xe*-0x197);const _0x4f693e=this['slots'][_0x3804b4];_0x4f693e['lightId']=_0x282e24['id'],_0x4f693e['used']=!(0x1454+0x3b7+-0x180b*0x1),_0x4974d0&&(_0x282e24['atlasSlotU'+'pdated']=!(-0x217f+-0x16*-0x180+-0x7f*-0x1),_0x282e24['atlasVersi'+'on']=this['version'],_0x282e24['atlasSlotI'+'ndex']=_0x3804b4);}['update'](_0x623834,_0x3bbbbe){this['shadowAtla'+'sResolutio'+'n']=_0x3bbbbe['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x3bbbbe['cookieAtla'+'sResolutio'+'n'];const _0x3ba23d=this['collectLig'+'hts'](_0x623834,_0x3bbbbe);if(_0x3ba23d['length']>-0x49*0x6a+-0x1236+0xc1c*0x4){const _0x326f33=this['slots'];for(let _0x208bc6=-0x12d6*-0x2+-0x6*0x9+-0x2576;_0x208bc6<_0x326f33['length'];_0x208bc6++)_0x326f33[_0x208bc6]['used']=!(0x4*0x1a7+0x7a2*0x2+-0x1*0x15df);const _0x18c341=Math['min'](_0x3ba23d['length'],_0x326f33['length']);for(let _0xb0cc6a=-0x12*0x1a1+-0x9f6+-0x1*-0x2748;_0xb0cc6a<_0x18c341;_0xb0cc6a++){const _0x887f70=_0x3ba23d[_0xb0cc6a];_0x887f70['castShadow'+'s']&&(_0x887f70['_shadowMap']=this['shadowAtla'+'s']);const _0xa48556=_0x326f33[_0x887f70['atlasSlotI'+'ndex']];if(_0x887f70['atlasVersi'+'on']===this['version']&&_0x887f70['id']===(_0xa48556==null?void(0xb58+0xbf*0x1d+-0x20fb):_0xa48556['lightId'])){const _0x29e3af=_0x326f33[_0x887f70['atlasSlotI'+'ndex']];_0x29e3af['size']===_0x326f33[_0xb0cc6a]['size']&&!_0x29e3af['used']&&this['assignSlot'](_0x887f70,_0x887f70['atlasSlotI'+'ndex'],!(0x26cc+0x6cd+0x16cc*-0x2));}}let _0x5dfc8f=0x3*-0xa63+0x1*-0xdde+0x1*0x2d07;for(let _0x490594=-0x9fd*-0x1+0x2643+-0x3040;_0x490594<_0x18c341;_0x490594++){for(;_0x5dfc8f<_0x326f33['length']&&_0x326f33[_0x5dfc8f]['used'];)_0x5dfc8f++;const _0x2c48bb=_0x3ba23d[_0x490594];_0x2c48bb['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x2c48bb,_0x5dfc8f,!(0x829*0x4+0xa67*0x1+-0x2b0b));const _0x58e7f8=_0x326f33[_0x2c48bb['atlasSlotI'+'ndex']];this['setupSlot'](_0x2c48bb,_0x58e7f8['rect']);}}this['updateUnif'+'orms']();}}class fM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x22b7c6=>{_0x22b7c6['forEach'](_0xc06f8a=>{_0xc06f8a['destroy']();});}),this['cache']['clear']();}['getKey'](_0x150662){const _0x2b65f9=_0x150662['_type']===Pe,_0x2c313f=_0x150662['_shadowTyp'+'e'],_0x392290=_0x150662['_shadowRes'+'olution'];return _0x2b65f9+'-'+_0x2c313f+'-'+_0x392290;}['get'](_0x5122ef,_0x1ed1c4){const _0x99f2fe=this['getKey'](_0x1ed1c4),_0x31ea38=this['cache']['get'](_0x99f2fe);if(_0x31ea38&&_0x31ea38['length'])return _0x31ea38['pop']();const _0x507cfa=un['create'](_0x5122ef,_0x1ed1c4);return _0x507cfa['cached']=!(0xa9d+-0xc1*-0xc+0x7*-0x2cf),_0x507cfa;}['add'](_0x522aa7,_0x4198c8){const _0x3d433c=this['getKey'](_0x522aa7),_0x298592=this['cache']['get'](_0x3d433c);_0x298592?_0x298592['push'](_0x4198c8):this['cache']['set'](_0x3d433c,[_0x4198c8]);}}class pM extends ds{constructor(_0x44df2a,_0x18d425,_0x3201b2,_0x3822f7,_0x277305){super(_0x44df2a),mn['setName'](this,this['name']+'-'+_0x3201b2['_node']['name']),this['requiresCu'+'bemaps']=!(0x1d30+-0x4*-0x512+-0x3177),this['shadowRend'+'erer']=_0x18d425,this['light']=_0x3201b2,this['face']=_0x3822f7,this['applyVsm']=_0x277305,this['shadowCame'+'ra']=_0x18d425['prepareFac'+'e'](_0x3201b2,null,_0x3822f7),_0x18d425['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0x4a9*0x4+-0x1c70+0x2f14));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(-0x175*0x8+0x95*-0x2f+0x1382*0x2));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class mM{constructor(_0x487c2c,_0x2b8bb1){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x487c2c,this['shadowRend'+'erer']=_0x2b8bb1,this['device']=_0x487c2c['device']);}['cull'](_0x1e16e1,_0xec642c,_0x1ec24a=null){const _0x52b375=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x1e16e1['visibleThi'+'sFrame']=!(-0x44b*0x8+-0x1bf+-0x1*-0x2417),_0x52b375||_0x1e16e1['_shadowMap']||(_0x1e16e1['_shadowMap']=un['create'](this['device'],_0x1e16e1));const _0x37b530=_0x1e16e1['_type'],_0x4533ca=_0x37b530===Re?-0x6a3*-0x3+0x260a+0x1*-0x39f2:-0x175a+-0x407*-0x4+-0x3e*-0x1e;for(let _0x5c2832=0x1*-0xdcc+0x20f6*-0x1+0x6ae*0x7;_0x5c2832<_0x4533ca;_0x5c2832++){const _0x210c2c=_0x1e16e1['getRenderD'+'ata'](null,_0x5c2832),_0x28c86b=_0x210c2c['shadowCame'+'ra'];_0x28c86b['nearClip']=_0x1e16e1['attenuatio'+'nEnd']/(0x102f*0x1+-0x157f*-0x1+0x21*-0x106),_0x28c86b['farClip']=_0x1e16e1['attenuatio'+'nEnd'];const _0xe835d5=_0x28c86b['_node'],_0x4e478e=_0x1e16e1['_node'];if(_0xe835d5['setPositio'+'n'](_0x4e478e['getPositio'+'n']()),_0x37b530===Re)_0x28c86b['fov']=_0x1e16e1['_outerCone'+'Angle']*(0xd70+-0x30c+-0xa62),_0xe835d5['setRotatio'+'n'](_0x4e478e['getRotatio'+'n']()),_0xe835d5['rotateLoca'+'l'](-(-0x408+0x179e*-0x1+-0x380*-0x8),0x476*-0x7+0x934+0x1606,-0x6b1+0x1659+-0xfa8);else{if(_0x37b530===Pe){if(_0x52b375){const _0x34bd81=(-0x1286+-0x15e9+-0x3*-0xd7b)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x1e16e1['atlasViewp'+'ort']['z']/(0x2a9*0x3+0x958+-0x1150))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x28c86b['fov']=Math['atan'](-0xb7*-0xe+-0x671*0x2+-0x1*-0x2e1+_0x34bd81)*N['RAD_TO_DEG']*(0x1*0xde7+0x392*-0x1+-0x371*0x3);}else _0x28c86b['fov']=-0x1bbe+0x1*-0x150a+0x3122;}}this['renderer']['updateCame'+'raFrustum'](_0x28c86b),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0xec642c,_0x1e16e1,_0x210c2c['visibleCas'+'ters'],_0x28c86b,_0x1ec24a);}}['prepareLig'+'hts'](_0x8387a2,_0x2d9123){let _0x20c481;for(let _0x227484=0x22bf+0x13a6+-0x1*0x3665;_0x227484<_0x2d9123['length'];_0x227484++){const _0x29aeb6=_0x2d9123[_0x227484];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x29aeb6)&&_0x29aeb6['atlasViewp'+'ortAllocat'+'ed']){_0x8387a2['push'](_0x29aeb6);for(let _0x2a15b3=-0x5*0x776+-0x72d*0x1+0x2c7b;_0x2a15b3<_0x29aeb6['numShadowF'+'aces'];_0x2a15b3++)_0x20c481=this['shadowRend'+'erer']['prepareFac'+'e'](_0x29aeb6,null,_0x2a15b3);}}return _0x20c481;}['buildNonCl'+'usteredRen'+'derPasses'](_0x59bca0,_0x45069f){for(let _0x198432=0x2339+0x3*-0x5f2+0x1*-0x1163;_0x198432<_0x45069f['length'];_0x198432++){const _0x73c66f=_0x45069f[_0x198432];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x73c66f)){const _0x55a23e=_0x73c66f['_type']===Re,_0x3b0592=_0x73c66f['numShadowF'+'aces'];for(let _0x39a866=0xcd*-0xb+0x8b*0xa+-0x361*-0x1;_0x39a866<_0x3b0592;_0x39a866++){const _0xb8bb5=new pM(this['device'],this['shadowRend'+'erer'],_0x73c66f,_0x39a866,_0x55a23e);_0x59bca0['addRenderP'+'ass'](_0xb8bb5);}}}}}class _M extends ds{constructor(_0x580fa4,_0x1ea29e,_0x44440f,_0x423343,_0x1d7665){super(_0x580fa4),mn['setName'](this,this['name']+'-'+_0x44440f['_node']['name']),this['shadowRend'+'erer']=_0x1ea29e,this['light']=_0x44440f,this['camera']=_0x423343,this['allCascade'+'sRendering']=_0x1d7665;}['execute'](){const {light:_0x1f101d,camera:_0x252965,shadowRenderer:_0x1eae82,allCascadesRendering:_0x5112dc}=this,_0x50d0a0=_0x1f101d['numShadowF'+'aces'],_0x54e079=_0x1f101d['shadowUpda'+'teOverride'+'s'];for(let _0x2e3746=-0x15dc+-0x5*0x322+0x2586;_0x2e3746<_0x50d0a0;_0x2e3746++)(_0x54e079==null?void(-0x1637+0x287+-0x150*-0xf):_0x54e079[_0x2e3746])!==Ps&&_0x1eae82['renderFace'](_0x1f101d,_0x252965,_0x2e3746,!_0x5112dc),(_0x54e079==null?void(0xf9f+0x1ae*0x17+-0x143*0x2b):_0x54e079[_0x2e3746])===cn&&(_0x54e079[_0x2e3746]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Ll=new _e(),ei=new T(),d_=new q(),Fe=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()],Pd={'min':0x0,'max':0x0};function gM(_0x51421d,_0x542074,_0x5d617f){Fe[0x1e7d*0x1+-0x1db+0x2*-0xe51]['x']=Fe[-0xea7*-0x1+-0x111d+0x277]['x']=Fe[0xd68+-0xe*0x3d+0xe*-0xb8]['x']=Fe[0xc9b+-0x208b+0x13f3]['x']=_0x542074['x'],Fe[0x1*0xd2b+0x2083+0x427*-0xb]['y']=Fe[0x115a+0x5*-0x267+0x3e*-0x16]['y']=Fe[-0x1d05+-0x2b8+0x1fc4]['y']=Fe[0x4*0x86e+-0xf1+-0x20c2]['y']=_0x542074['y'],Fe[0x2a8+-0x68c+0x1f3*0x2]['z']=Fe[0x24d6+0x24b1+-0x4984]['z']=Fe[0xa*0x50+0x17d8+-0x1af2]['z']=Fe[0x86*0x17+-0x122*0xb+0x73]['z']=_0x542074['z'],Fe[-0x2*-0xb2d+-0x146c+-0x1ea]['x']=Fe[-0x12fe*-0x2+0x26d8+-0x7*0xaf9]['x']=Fe[-0x35*0x4+-0x5db+-0x11*-0x65]['x']=Fe[-0x1*0xfef+-0x768+0x1*0x175e]['x']=_0x5d617f['x'],Fe[0x49f*-0x1+-0xab3+0x2*0x7a9]['y']=Fe[-0x6*0x257+0x1117+-0x30b]['y']=Fe[-0x71+-0x1782+0x17f7]['y']=Fe[-0x10f1+-0x3*-0x679+0x274*-0x1]['y']=_0x5d617f['y'],Fe[-0x1a91+0x32e+0x1763*0x1]['z']=Fe[-0x257+0x6f1+-0x499]['z']=Fe[0x1223+-0xeef+-0x330]['z']=Fe[0x2cf+0xd*-0x193+-0xb5*-0x19]['z']=_0x5d617f['z'];let _0x1d20ce=-0x3ebb49223+0x17ef6*-0x1ec64+-0x81cbef75*-0x12,_0x5e28f9=-(0x440c4a2e5+0x4a38328dd+-0x6903be7c3);for(let _0x4c8f08=0x173d+0x970+-0x1*0x20ad;_0x4c8f08<0x1652+0x160a+-0x2c54;++_0x4c8f08){_0x51421d['transformP'+'oint'](Fe[_0x4c8f08],Fe[_0x4c8f08]);const _0xb152a9=Fe[_0x4c8f08]['z'];_0xb152a9<_0x1d20ce&&(_0x1d20ce=_0xb152a9),_0xb152a9>_0x5e28f9&&(_0x5e28f9=_0xb152a9);}return Pd['min']=_0x1d20ce,Pd['max']=_0x5e28f9,Pd;}class yM{constructor(_0x43b52f,_0x58650c){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x43b52f,this['shadowRend'+'erer']=_0x58650c,this['device']=_0x43b52f['device']);}['cull'](_0x4b6949,_0x23cf57,_0xb5626b,_0x205b46=null){_0x4b6949['visibleThi'+'sFrame']=!(-0x1*-0x1209+-0x1d2*-0xf+-0x2d57),_0x4b6949['_shadowMap']||(_0x4b6949['_shadowMap']=un['create'](this['device'],_0x4b6949));const _0xcc26b=_0xb5626b['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x4b6949,_0xcc26b,Math['min'](_0xb5626b['_farClip'],_0x4b6949['shadowDist'+'ance']));const _0x3a406b=_0x4b6949['shadowUpda'+'teOverride'+'s'];for(let _0x1fcd28=0x17c0+-0x21a6+0x9e6;_0x1fcd28<_0x4b6949['numCascade'+'s']&&(_0x3a406b==null?void(0x821+-0x1*0x1b14+0x12f3):_0x3a406b[_0x1fcd28])!==Ps;_0x1fcd28++){const _0x41ca7e=_0x4b6949['getRenderD'+'ata'](_0xb5626b,_0x1fcd28),_0x19799b=_0x41ca7e['shadowCame'+'ra'];_0x19799b['renderTarg'+'et']=_0x4b6949['_shadowMap']['renderTarg'+'ets'][-0xf8d+0x1868+0x8db*-0x1],_0x41ca7e['shadowView'+'port']['copy'](_0x4b6949['cascades'][_0x1fcd28]),_0x41ca7e['shadowScis'+'sor']['copy'](_0x4b6949['cascades'][_0x1fcd28]);const _0x1e0e4b=_0x19799b['_node'],_0x1880d5=_0x4b6949['_node'];_0x1e0e4b['setPositio'+'n'](_0x1880d5['getPositio'+'n']()),_0x1e0e4b['setRotatio'+'n'](_0x1880d5['getRotatio'+'n']()),_0x1e0e4b['rotateLoca'+'l'](-(0xb*0x27e+-0x221*0x11+0x13*0x7b),0x1306+-0x1bb1+0x8ab,-0x1d1d+-0x8*0x26b+-0xf*-0x33b);const _0x116ae1=_0x1fcd28===-0x1cd*0xd+-0x1eed+0x3656?_0xcc26b:_0x4b6949['_shadowCas'+'cadeDistan'+'ces'][_0x1fcd28-(-0x7a*-0x49+0x1388+0x203*-0x1b)],_0x209ddc=_0x4b6949['_shadowCas'+'cadeDistan'+'ces'][_0x1fcd28],_0xf37f64=_0xb5626b['getFrustum'+'Corners'](_0x116ae1,_0x209ddc);ei['set'](-0xbea+-0xe5*0xa+0x14dc,0x1c99+-0x1*-0x21e0+-0x1*0x3e79,0x58c*-0x6+0x13f*0x1+0x2009);const _0x144eb7=_0xb5626b['node']['getWorldTr'+'ansform']();for(let _0x8305a7=0xce3+-0x14b9*-0x1+0x219c*-0x1;_0x8305a7<0x4e2*-0x7+0x74*-0x1+0x99*0x3a;_0x8305a7++)_0x144eb7['transformP'+'oint'](_0xf37f64[_0x8305a7],_0xf37f64[_0x8305a7]),ei['add'](_0xf37f64[_0x8305a7]);ei['mulScalar']((0x2*0xbc0+0x25ab+-0x3d2a)/(0xc07+-0x22df+0x7a0*0x3));let _0x3bf48a=0x2539+-0x3ae*-0x3+-0x3043;for(let _0x4790f8=-0x21c*0x5+-0xec8+-0x2*-0xcaa;_0x4790f8<0x105*0x12+0xd*-0xe7+0x1*-0x697;_0x4790f8++){const _0x50e59e=_0xf37f64[_0x4790f8]['sub'](ei)['length']();_0x50e59e>_0x3bf48a&&(_0x3bf48a=_0x50e59e);}const _0x2917eb=_0x1e0e4b['right'],_0x60cf65=_0x1e0e4b['up'],_0x41d2b3=_0x1e0e4b['forward'],_0x4873c4=(-0x2430+-0x224d+0x467d+0.25)*_0x4b6949['_shadowRes'+'olution']/_0x3bf48a,_0xcb665b=Math['ceil'](ei['dot'](_0x60cf65)*_0x4873c4)/_0x4873c4,_0x4199e2=Math['ceil'](ei['dot'](_0x2917eb)*_0x4873c4)/_0x4873c4,_0x1b05ac=_0x60cf65['mulScalar'](_0xcb665b),_0x1b00c2=_0x2917eb['mulScalar'](_0x4199e2),_0x3d5aab=ei['dot'](_0x41d2b3),_0x13b556=_0x41d2b3['mulScalar'](_0x3d5aab);ei['add2'](_0x1b05ac,_0x1b00c2)['add'](_0x13b556),_0x1e0e4b['setPositio'+'n'](ei),_0x1e0e4b['translateL'+'ocal'](-0x1435+0x1a56+-0x1*0x621,-0x10b5+0xb0c*0x1+0x5a9,-0x696cb+-0x7e*0x3c94+0x33a9e3),_0x19799b['nearClip']=-0x208f+-0xa93*0x3+0x4048+0.01,_0x19799b['farClip']=0x30f*0x13b3+-0x1ab4f*0xa+-0xdf*0xef9,_0x19799b['orthoHeigh'+'t']=_0x3bf48a,this['renderer']['updateCame'+'raFrustum'](_0x19799b),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x23cf57,_0x4b6949,_0x41ca7e['visibleCas'+'ters'],_0x19799b,_0x205b46);let _0x5e4736=!(-0x71b*-0x2+0x181b+-0x2651);const _0x3d4c2a=_0x41ca7e['visibleCas'+'ters'];for(let _0x202793=-0xc2*0x2+-0x1d7*0x2+0x26*0x23;_0x202793<_0x3d4c2a['length'];_0x202793++){const _0x378657=_0x3d4c2a[_0x202793];_0x5e4736?(_0x5e4736=!(0x108e+-0x184+-0x503*0x3),Ll['copy'](_0x378657['aabb'])):Ll['add'](_0x378657['aabb']);}d_['copy'](_0x1e0e4b['getWorldTr'+'ansform']())['invert']();const _0x4921f1=gM(d_,Ll['getMin'](),Ll['getMax']());_0x1e0e4b['translateL'+'ocal'](0x21e7+-0xedd+0x130a*-0x1,-0x2f2*-0x1+0xa9e+-0xd90,_0x4921f1['max']+(0xfae+0x1f9f+0x2f4d*-0x1+0.1)),_0x19799b['farClip']=_0x4921f1['max']-_0x4921f1['min']+(-0x11*0xfe+-0x1539+0x2617+0.2),_0x41ca7e['projection'+'Compensati'+'on']=_0x3bf48a;}}['generateSp'+'litDistanc'+'es'](_0x26d2d0,_0x455eee,_0x360353){_0x26d2d0['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x360353);for(let _0x18adc6=0x3cb+-0x17ec+0x1422;_0x18adc6<_0x26d2d0['numCascade'+'s'];_0x18adc6++){const _0x424c3a=_0x18adc6/_0x26d2d0['numCascade'+'s'],_0x297ad4=_0x455eee+(_0x360353-_0x455eee)*_0x424c3a,_0x500e4c=_0x455eee*(_0x360353/_0x455eee)**_0x424c3a,_0x34d53e=N['lerp'](_0x297ad4,_0x500e4c,_0x26d2d0['cascadeDis'+'tribution']);_0x26d2d0['_shadowCas'+'cadeDistan'+'ces'][_0x18adc6-(-0x62*-0x44+-0xa9*0x2+0x73*-0x37)]=_0x34d53e;}}['getLightRe'+'nderPass'](_0x5c62e3,_0x4e85ca){v['assert'](_0x5c62e3&&_0x5c62e3['_type']===oe);let _0x3c90cc=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x5c62e3)){const _0x2d04d8=_0x5c62e3['numShadowF'+'aces'],_0x280d8f=_0x5c62e3['shadowUpda'+'teOverride'+'s'];let _0x4e58e9=!(-0x16e9+0x10d9+-0xc2*-0x8),_0x3de09f;for(let _0x32c49b=-0x1c5b+0x3*-0x18e+0x2105;_0x32c49b<_0x2d04d8;_0x32c49b++)(_0x280d8f==null?void(-0x4c*-0x49+-0x22*-0xe0+-0x336c):_0x280d8f[_0x32c49b])===Ps&&(_0x4e58e9=!(-0x8*-0x266+-0x35b*0x1+-0x4*0x3f5)),_0x3de09f=this['shadowRend'+'erer']['prepareFac'+'e'](_0x5c62e3,_0x4e85ca,_0x32c49b);_0x3c90cc=new _M(this['device'],this['shadowRend'+'erer'],_0x5c62e3,_0x4e85ca,_0x4e58e9),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x3c90cc,_0x3de09f,_0x4e58e9);}return _0x3c90cc;}}const Rd=new Set(),u_=new q(),f_=new q(),vr=new Float32Array(0xa64+0x41*-0x37+-0x7*-0x83),Xa=new Q(0x11cb+0x5*-0x59f+0xa51*0x1,0x2d*0x21+0x258a+0x15ab*-0x2,0x1*-0x2471+0xd9e+0x16d3,0xceb+-0xebb*0x2+0x1*0x108b),p_=new q();function xM(_0x56149a,_0x32eb2f){return Math['exp'](-(_0x56149a*_0x56149a)/((0x1c7f+-0x2669+0x9ec)*_0x32eb2f*_0x32eb2f));}function SM(_0x26917f){const _0x51244b=(_0x26917f-(-0x19b7*-0x1+-0x59*0x7+-0x3b*0x65))/(-0x45*0x71+0xd29+0x1*0x1152),_0x19baa6=(_0x26917f-(0x93a+0x18af+0xd9*-0x28))*(-0x1b4b+0x9*0x28c+-0x175*-0x3+0.5),_0x24c80a=new Array(_0x26917f);let _0x4d8a58=-0x6b*-0x5+-0x2*-0x925+-0x6cb*0x3;for(let _0x461d32=-0x4b*-0x81+0x4e2+-0x5*0x889;_0x461d32<_0x26917f;++_0x461d32)_0x24c80a[_0x461d32]=xM(_0x461d32-_0x19baa6,_0x51244b),_0x4d8a58+=_0x24c80a[_0x461d32];for(let _0x346389=-0x1b54+0xff*0x16+0x56a;_0x346389<_0x26917f;++_0x346389)_0x24c80a[_0x346389]/=_0x4d8a58;return _0x24c80a;}class I0{constructor(_0x617363,_0x2a5166){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x617363['device'],this['renderer']=_0x617363,this['lightTextu'+'reAtlas']=_0x2a5166);const _0xc164d9=this['device']['scope'];this['sourceId']=_0xc164d9['resolve']('source'),this['pixelOffse'+'tId']=_0xc164d9['resolve']('pixelOffse'+'t'),this['weightId']=_0xc164d9['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[X['blurVSMPS'],'#define\x20GA'+'USS\x0a'+X['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0xc164d9['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new _t(),this['blendState'+'NoWrite']=new _t(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0x1b6a+0x1701+-0x326a),!(-0xb7+-0x12b6*0x2+-0x2624*-0x1),!(0x2d*0x66+-0xbf1*0x1+-0x5fc),!(0x1*-0xba1+0x4*-0x5f3+-0x5*-0x716));}static['createShad'+'owCamera'](_0x51c769,_0x127a2c,_0x134993){const _0x2da7a3=Ma['create']('ShadowCame'+'ra',_0x127a2c,_0x134993),_0x3c375c=ir['get'](_0x51c769);v['assert'](_0x3c375c);const _0x3fa05a=(_0x3c375c==null?void(-0x5*0xdb+-0x11d3+0x161a):_0x3c375c['vsm'])??!(-0x113*0x5+0x761*0x1+-0x201),_0x39cd9d=(_0x3c375c==null?void(-0x1*-0xacf+0xaa4+-0x143*0x11):_0x3c375c['pcf'])??!(0xaaf+0x13d3+0x1*-0x1e81);return _0x3fa05a?_0x2da7a3['clearColor']=new Y(0x10e5+-0x30*0x9d+0xc8b,0x103d+-0x17f0+0x1*0x7b3,0x71b*0x5+0x3bd+-0x2ce*0xe,-0x1ec7*-0x1+-0x1f12+0x4b):_0x2da7a3['clearColor']=new Y(-0x23ea+0x1ed0+-0x51b*-0x1,0x161e+-0x12ed+0x3*-0x110,0xd15+0x1*-0x60d+-0x101*0x7,0x179e+-0xa1*0x21+-0x16e*0x2),_0x2da7a3['clearDepth'+'Buffer']=!(-0x6*0xb1+0x6c9+-0x2d*0xf),_0x2da7a3['clearStenc'+'ilBuffer']=!(-0x2b9+0x155+0x165),_0x2da7a3['clearColor'+'Buffer']=!_0x39cd9d,_0x2da7a3;}['_cullShado'+'wCastersIn'+'ternal'](_0x13277e,_0x19fcb1,_0x2d49f5){const _0x26c050=_0x13277e['length'];for(let _0x222ec0=-0x8b0+-0x1c83*0x1+0x2533;_0x222ec0<_0x26c050;_0x222ec0++){const _0x44823f=_0x13277e[_0x222ec0];_0x44823f['castShadow']&&(!_0x44823f['cull']||_0x44823f['_isVisible'](_0x2d49f5))&&(_0x44823f['visibleThi'+'sFrame']=!(0x52*-0x23+-0x12da*-0x1+0x3d2*-0x2),_0x19fcb1['push'](_0x44823f));}}['cullShadow'+'Casters'](_0x352c65,_0x42b01c,_0x2180f8,_0x53e89b,_0x451307){if(_0x2180f8['length']=0x224f*0x1+0x17d*0x16+-0x430d,_0x451307)this['_cullShado'+'wCastersIn'+'ternal'](_0x451307,_0x2180f8,_0x53e89b);else{const _0x13eefd=_0x352c65['layerList'],_0x17adff=_0x13eefd['length'];for(let _0x5d1821=-0x1a16+-0x3a1+0x1db7*0x1;_0x5d1821<_0x17adff;_0x5d1821++){const _0x1540df=_0x13eefd[_0x5d1821];_0x1540df['_lightsSet']['has'](_0x42b01c)&&(Rd['has'](_0x1540df)||(Rd['add'](_0x1540df),this['_cullShado'+'wCastersIn'+'ternal'](_0x1540df['shadowCast'+'ers'],_0x2180f8,_0x53e89b)));}Rd['clear']();}_0x2180f8['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x1dbbdf,_0xc9a1e6){const _0x550606=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0xc9a1e6['_isPcf']:_0xc9a1e6['_isPcf']&&_0xc9a1e6['_type']!==Pe;_0x1dbbdf['setBlendSt'+'ate'](_0x550606?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x1dbbdf['setDepthSt'+'ate'](_0xc9a1e6['shadowDept'+'hState']),_0x1dbbdf['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x1c83b6,_0x1ef2a0,_0x14f255,_0x155fcd){const _0x100dbe=_0x1ef2a0['_node'];_0x1c83b6['_type']!==oe&&(this['renderer']['dispatchVi'+'ewPos'](_0x100dbe['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x1c83b6['attenuatio'+'nEnd'])),u_['setTRS'](_0x100dbe['getPositio'+'n'](),_0x100dbe['getRotatio'+'n'](),T['ONE'])['invert'](),f_['mul2'](_0x1ef2a0['projection'+'Matrix'],u_);const _0x283d00=_0x14f255['shadowView'+'port'];_0x1ef2a0['rect']=_0x283d00,_0x1ef2a0['scissorRec'+'t']=_0x14f255['shadowScis'+'sor'],p_['setViewpor'+'t'](_0x283d00['x'],_0x283d00['y'],_0x283d00['z'],_0x283d00['w']),_0x14f255['shadowMatr'+'ix']['mul2'](p_,f_),_0x1c83b6['_type']===oe&&_0x1c83b6['_shadowMat'+'rixPalette']['set'](_0x14f255['shadowMatr'+'ix']['data'],_0x155fcd*(0x2fa*-0xd+0x2444+0x27e));}['getShadowP'+'ass'](_0x11af49){var _0x3ddf13;const _0x1b7bd8=_0x11af49['_type'],_0x1e0004=_0x11af49['_shadowTyp'+'e'];let _0x5ed33e=(_0x3ddf13=this['shadowPass'+'Cache'][_0x1b7bd8])==null?void(-0xb70+0x74b+0x1*0x425):_0x3ddf13[_0x1e0004];if(!_0x5ed33e){const _0x202daf='ShadowPass'+'_'+_0x1b7bd8+'_'+_0x1e0004;_0x5ed33e=Ks['get'](this['device'])['allocate'](_0x202daf,{'isShadow':!(-0x1*0x25e3+-0xb09+0x30ec),'lightType':_0x1b7bd8,'shadowType':_0x1e0004}),this['shadowPass'+'Cache'][_0x1b7bd8]||(this['shadowPass'+'Cache'][_0x1b7bd8]=[]),this['shadowPass'+'Cache'][_0x1b7bd8][_0x1e0004]=_0x5ed33e;}return _0x5ed33e['index'];}['submitCast'+'ers'](_0x197e40,_0x2f82b2,_0x2b1a97){const _0x4c6afc=this['device'],_0x4dd34d=this['renderer'],_0x1276d2=_0x4dd34d['scene'],_0x297e88=-0x1b52+0xd73*0x2+0x6d<<Rp,_0x4e44aa=this['getShadowP'+'ass'](_0x2f82b2),_0x1d6494=_0x2b1a97['shaderPara'+'ms'],_0x1e6f24=_0x2b1a97['renderTarg'+'et']['flipY']?-(-0x1*-0x1693+-0x11fc*-0x2+-0x1d45*0x2):0x2e*0xc8+0x18c9+-0x3cb8,_0x46c7ea=_0x197e40['length'];for(let _0x4a5d09=-0x23ee+0x1d49+0x6a5;_0x4a5d09<_0x46c7ea;_0x4a5d09++){const _0x1dcf31=_0x197e40[_0x4a5d09],_0x33c66f=_0x1dcf31['mesh'];_0x1dcf31['ensureMate'+'rial'](_0x4c6afc);const _0xee0773=_0x1dcf31['material'];G['pushGpuMar'+'ker'](_0x4c6afc,'Node:\x20'+_0x1dcf31['node']['name']+(',\x20Material'+':\x20')+_0xee0773['name']),_0x4dd34d['setBaseCon'+'stants'](_0x4c6afc,_0xee0773),_0x4dd34d['setSkinnin'+'g'](_0x4c6afc,_0x1dcf31),_0xee0773['dirty']&&(_0xee0773['updateUnif'+'orms'](_0x4c6afc,_0x1276d2),_0xee0773['dirty']=!(-0x62e+0x1728+-0x10f9)),_0x4dd34d['setupCullM'+'ode'](!(-0x161b+0x1*0x1ba7+-0x1*0x58c),_0x1e6f24,_0x1dcf31),_0xee0773['setParamet'+'ers'](_0x4c6afc),_0x1dcf31['setParamet'+'ers'](_0x4c6afc,_0x297e88);const _0x3df5e4=_0x1dcf31['getShaderI'+'nstance'](_0x4e44aa,0x194d+-0x13cf+-0x25*0x26,_0x1276d2,_0x1d6494,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x2772f8=_0x3df5e4['shader'];v['assert'](_0x2772f8,'no\x20shader\x20'+'for\x20pass\x20'+_0x4e44aa,_0xee0773),_0x1dcf31['_key'][ku]=_0x2772f8['id'],_0x4c6afc['setShader'](_0x2772f8),_0x4dd34d['setVertexB'+'uffers'](_0x4c6afc,_0x33c66f),_0x4dd34d['setMorphin'+'g'](_0x4c6afc,_0x1dcf31['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x3df5e4,_0x1dcf31);const _0x3d774e=_0x1dcf31['renderStyl'+'e'];_0x4c6afc['setIndexBu'+'ffer'](_0x33c66f['indexBuffe'+'r'][_0x3d774e]),_0x4dd34d['drawInstan'+'ce'](_0x4c6afc,_0x1dcf31,_0x33c66f,_0x3d774e),_0x4dd34d['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x4c6afc);}}['needsShado'+'wRendering'](_0x447df7){const _0x169bf0=_0x447df7['enabled']&&_0x447df7['castShadow'+'s']&&_0x447df7['shadowUpda'+'teMode']!==Ps&&_0x447df7['visibleThi'+'sFrame'];return _0x447df7['shadowUpda'+'teMode']===cn&&(_0x447df7['shadowUpda'+'teMode']=Ps),_0x169bf0&&(this['renderer']['_shadowMap'+'Updates']+=_0x447df7['numShadowF'+'aces']),_0x169bf0;}['getLightRe'+'nderData'](_0x4d0391,_0x43a2f3,_0x40c6da){return _0x4d0391['getRenderD'+'ata'](_0x4d0391['_type']===oe?_0x43a2f3:null,_0x40c6da);}['setupRende'+'rPass'](_0x3f9590,_0x9a01e2,_0x4b520a){const _0x374a23=_0x9a01e2['renderTarg'+'et'];_0x3f9590['init'](_0x374a23),_0x3f9590['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x5*0x5e7+0x2163+-0x3df,_0x3f9590['depthStenc'+'ilOps']['clearDepth']=_0x4b520a,_0x374a23['depthBuffe'+'r']?_0x3f9590['depthStenc'+'ilOps']['storeDepth']=!(0x1*0xc4d+-0xe17+-0x1*-0x1ca):(_0x3f9590['colorOps']['clearValue']['copy'](_0x9a01e2['clearColor']),_0x3f9590['colorOps']['clear']=_0x4b520a,_0x3f9590['depthStenc'+'ilOps']['storeDepth']=!(0x1731*0x1+0x5*-0x45d+0xd*-0x1b)),_0x3f9590['requiresCu'+'bemaps']=!(-0x13d4+0xa9*0x28+0xbb*-0x9);}['prepareFac'+'e'](_0x5366d1,_0x18f62a,_0x3aa01a){const _0x28aed9=_0x5366d1['_type'],_0xb99b9f=this['getLightRe'+'nderData'](_0x5366d1,_0x18f62a,_0x3aa01a)['shadowCame'+'ra'],_0x82c7f=_0x28aed9===oe?0xca*-0x3+0x281*-0x4+0xc62:_0x3aa01a;return _0xb99b9f['renderTarg'+'et']=_0x5366d1['_shadowMap']['renderTarg'+'ets'][_0x82c7f],_0xb99b9f;}['renderFace'](_0x266051,_0x3510ff,_0x269a94,_0x3df897,_0x3c8c6f=!(0x3a7+0x185*0x7+-0xe4a)){const _0x2318af=this['device'],_0x4fb152=ne();G['pushGpuMar'+'ker'](_0x2318af,'SHADOW\x20'+_0x266051['_node']['name']+'\x20FACE\x20'+_0x269a94);const _0x28d2f1=this['getLightRe'+'nderData'](_0x266051,_0x3510ff,_0x269a94),_0x392eb9=_0x28d2f1['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x266051,_0x392eb9,_0x28d2f1,_0x269a94);const _0x39b097=_0x392eb9['renderTarg'+'et'],_0x36c7c7=this['renderer'];_0x36c7c7['setCameraU'+'niforms'](_0x392eb9,_0x39b097),_0x2318af['supportsUn'+'iformBuffe'+'rs']&&_0x36c7c7['setupViewU'+'niformBuff'+'ers'](_0x28d2f1['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],0x11*0xd+0x13f7+-0x14d3),_0x3c8c6f?(_0x36c7c7['setupViewp'+'ort'](_0x392eb9,_0x39b097),_0x3df897&&_0x36c7c7['clear'](_0x392eb9)):_0x36c7c7['clearView'](_0x392eb9,_0x39b097,!(0x26c8+0x773+0x9*-0x523),!(0x267a+0x2114+-0x581*0xd)),this['setupRende'+'rState'](_0x2318af,_0x266051),this['submitCast'+'ers'](_0x28d2f1['visibleCas'+'ters'],_0x266051,_0x392eb9),G['popGpuMark'+'er'](_0x2318af),_0x36c7c7['_shadowMap'+'Time']+=ne()-_0x4fb152;}['render'](_0x3cb62c,_0x4614f6,_0x241883=!(0x1ee1+-0x16de+-0x803*0x1)){if(this['needsShado'+'wRendering'](_0x3cb62c)){const _0x260803=_0x3cb62c['numShadowF'+'aces'];for(let _0x482cf5=-0xa3d+-0x1175+0x1bb2;_0x482cf5<_0x260803;_0x482cf5++)this['prepareFac'+'e'](_0x3cb62c,_0x4614f6,_0x482cf5),this['renderFace'](_0x3cb62c,_0x4614f6,_0x482cf5,!(-0x120*0x3+0x164d+-0x12ed),_0x241883);this['renderVsm'](_0x3cb62c,_0x4614f6);}}['renderVsm'](_0x435810,_0x1a1530){_0x435810['_isVsm']&&_0x435810['_vsmBlurSi'+'ze']>0x1e36+0x1f*0x1+-0xf2a*0x2&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x435810['_type']===oe)&&this['applyVsmBl'+'ur'](_0x435810,_0x1a1530);}['getVsmBlur'+'Shader'](_0x1353ca,_0x21441c){const _0xc91155=this['blurVsmSha'+'der'];let _0x311db1=_0xc91155[_0x1353ca][_0x21441c];if(!_0x311db1){this['blurVsmWei'+'ghts'][_0x21441c]=SM(_0x21441c);const _0x19f03d=X['fullscreen'+'QuadVS'];let _0x38d741='#define\x20SA'+'MPLES\x20'+_0x21441c+'\x0a';_0x38d741+=this['blurVsmSha'+'derCode'][_0x1353ca];const _0x56105e='blurVsm'+_0x1353ca+_0x21441c;_0x311db1=Is(this['device'],_0x19f03d,_0x38d741,_0x56105e),_0xc91155[_0x1353ca][_0x21441c]=_0x311db1;}return _0x311db1;}['applyVsmBl'+'ur'](_0x5a3576,_0xf178fe){const _0xfbcf28=this['device'];G['pushGpuMar'+'ker'](_0xfbcf28,'VSM\x20'+_0x5a3576['_node']['name']),_0xfbcf28['setBlendSt'+'ate'](_t['NOBLEND']);const _0x148cc4=_0x5a3576['getRenderD'+'ata'](_0x5a3576['_type']===oe?_0xf178fe:null,0x1c82+-0x9*0xbc+0xaf3*-0x2)['shadowCame'+'ra']['renderTarg'+'et'],_0x793078=this['renderer']['shadowMapC'+'ache']['get'](_0xfbcf28,_0x5a3576),_0xe568fd=_0x793078['renderTarg'+'ets'][-0x1755*-0x1+0xf19+-0x266e],_0x5349ef=_0x5a3576['vsmBlurMod'+'e'],_0x5430e8=_0x5a3576['_vsmBlurSi'+'ze'],_0x2a1211=this['getVsmBlur'+'Shader'](_0x5349ef,_0x5430e8);Xa['z']=_0x5a3576['_shadowRes'+'olution']-(-0x7f9+-0x2340+0x77*0x5d),Xa['w']=Xa['z'],this['sourceId']['setValue'](_0x148cc4['colorBuffe'+'r']),vr[-0x122c*0x2+-0x1*0x13bb+0x3813]=(-0xf87+0x1f02+-0xf7a)/_0x5a3576['_shadowRes'+'olution'],vr[-0x1197+0x15d6+0x6*-0xb5]=-0x98e*-0x1+-0x183*-0x9+0x1*-0x1729,this['pixelOffse'+'tId']['setValue'](vr),_0x5349ef===Tp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x5430e8]),dn(_0xfbcf28,_0xe568fd,_0x2a1211,null,Xa),this['sourceId']['setValue'](_0xe568fd['colorBuffe'+'r']),vr[-0x13ae+0x1*-0x257+0x2*0xb03]=vr[-0x8ff+-0x1560+0x1e5f*0x1],vr[0x587+0x1*-0x1c13+0x168c]=0x51b+-0x13ac+-0x153*-0xb,this['pixelOffse'+'tId']['setValue'](vr),dn(_0xfbcf28,_0x148cc4,_0x2a1211,null,Xa),this['renderer']['shadowMapC'+'ache']['add'](_0x5a3576,_0x793078),G['popGpuMark'+'er'](_0xfbcf28);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Qy(this['device'],[new gt('matrix_vie'+'wProjectio'+'n',Sa)]),this['viewBindGr'+'oupFormat']=new jy(this['device'],[new pp(fp,up|li)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const Fl=[];class vM{constructor(_0x15ff3e){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x15ff3e;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x176b5d=>{_0x176b5d['destroy']();}),this['_allocated']['length']=-0x18b2+0x1b14+-0x262;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x1b179c=new zu(this['device']);_0x1b179c['name']='ClusterEmp'+'ty',_0x1b179c['update']([]),this['_empty']=_0x1b179c;}return this['_empty'];}['assign'](_0x720dd0){const _0x586225=this['empty'];Fl['push'](...this['_allocated']),this['_allocated']['length']=0xc1*-0x26+-0x2452+0x40f8,this['_clusters']['clear']();const _0x5220e7=_0x720dd0['length'];for(let _0x23ecc6=-0x3*-0x832+0xd12+-0x25a8;_0x23ecc6<_0x5220e7;_0x23ecc6++){const _0x2ae424=_0x720dd0[_0x23ecc6]['renderActi'+'ons'];if(_0x2ae424){const _0x110837=_0x2ae424['length'];for(let _0x3279da=-0xa*0x197+-0xd17+0x1cfd;_0x3279da<_0x110837;_0x3279da++){const _0x14869c=_0x2ae424[_0x3279da];_0x14869c['lightClust'+'ers']=null;const _0x550d7a=_0x14869c['layer'];if(_0x550d7a['hasCluster'+'edLights']&&_0x550d7a['meshInstan'+'ces']['length']){const _0x3c704e=_0x550d7a['getLightId'+'Hash'](),_0x5ba08b=this['_clusters']['get'](_0x3c704e);let _0x4f3b36=_0x5ba08b==null?void(0x1*0xdf1+0xceb+-0x6b7*0x4):_0x5ba08b['lightClust'+'ers'];_0x4f3b36||(_0x4f3b36=Fl['pop']()??new zu(this['device']),mn['setName'](_0x4f3b36,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x4f3b36),this['_clusters']['set'](_0x3c704e,_0x14869c)),_0x14869c['lightClust'+'ers']=_0x4f3b36;}_0x14869c['lightClust'+'ers']||(_0x14869c['lightClust'+'ers']=_0x586225);}}}Fl['forEach'](_0x4ffd56=>_0x4ffd56['destroy']()),Fl['length']=-0x45*0x4f+-0x25d4+0x3b1f;}['update'](_0x405305,_0x5e787a){this['assign'](_0x405305),this['_clusters']['forEach'](_0x284533=>{const _0x3431f1=_0x284533['layer'];_0x284533['lightClust'+'ers']['update'](_0x3431f1['clusteredL'+'ightsSet'],_0x5e787a);});}}const m_='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',bM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Gi=new Q(),Id=[];class kp extends ds{constructor(_0x2a2054,_0x4898be){super(_0x2a2054),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x4898be,this['requiresCu'+'bemaps']=!(0xd54+-0x4*0x6cd+0xde1),this['blitTextur'+'eId']=_0x2a2054['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x2a2054['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x40a9cd,_0x1e0443;(_0x40a9cd=this['_quadRende'+'rer2D'])==null||_0x40a9cd['destroy'](),this['_quadRende'+'rer2D']=null,(_0x1e0443=this['_quadRende'+'rerCube'])==null||_0x1e0443['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x430e79,_0x2e3386){v['assert'](_0x430e79);const _0x357a13=new kp(_0x430e79['device'],_0x2e3386);return _0x357a13['init'](_0x430e79),_0x357a13['colorOps']['clear']=!(-0x1f*-0x1d+-0x11c5+0xe43),_0x357a13['depthStenc'+'ilOps']['clearDepth']=!(0x5*0x125+-0xe06+0x84e),_0x357a13;}['update'](_0x487c92){const _0x2da375=this['_filteredL'+'ights'];this['filter'](_0x487c92,_0x2da375),this['executeEna'+'bled']=_0x2da375['length']>0x165*-0x1a+0x11a*0x12+0x106e;}['filter'](_0x20bcba,_0x3563c2){for(let _0x4933a8=-0xa8+-0x4*0x471+0x9*0x20c;_0x4933a8<_0x20bcba['length'];_0x4933a8++){const _0x3470fa=_0x20bcba[_0x4933a8];_0x3470fa['_type']!==oe&&_0x3470fa['atlasViewp'+'ortAllocat'+'ed']&&_0x3470fa['atlasSlotU'+'pdated']&&_0x3470fa['enabled']&&_0x3470fa['cookie']&&_0x3470fa['visibleThi'+'sFrame']&&_0x3563c2['push'](_0x3470fa);}}['initInvVie'+'wProjMatri'+'ces'](){if(!Id['length'])for(let _0x1ead06=-0x1801+-0x1695+0x86*0x59;_0x1ead06<0x14a8+0x235b+0x1*-0x37fd;_0x1ead06++){const _0x5ada93=Ma['create'](null,Pe,_0x1ead06),_0x6b6186=_0x5ada93['projection'+'Matrix'],_0x1e68a6=_0x5ada93['node']['getLocalTr'+'ansform']()['clone']()['invert']();Id[_0x1ead06]=new q()['mul2'](_0x6b6186,_0x1e68a6)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x2c6536=Is(this['device'],m_,bM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Nu(_0x2c6536);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x45f7ce=Is(this['device'],m_,wM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Nu(_0x45f7ce);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x1df4d0=this['device'];_0x1df4d0['setBlendSt'+'ate'](_t['NOBLEND']),_0x1df4d0['setCullMod'+'e'](mt),_0x1df4d0['setDepthSt'+'ate'](as['NODEPTH']),_0x1df4d0['setStencil'+'State']();const _0x348d8b=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x4c8c46=this['_cubeSlots'+'Offsets'],_0x49e3fb=this['_filteredL'+'ights'];for(let _0x1e5391=-0x3d*-0x7f+0x1*-0x198f+0x1c*-0x2b;_0x1e5391<_0x49e3fb['length'];_0x1e5391++){const _0x2182f9=_0x49e3fb[_0x1e5391];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x2182f9['_node']['name']);const _0xe2c5c0=_0x2182f9['numShadowF'+'aces'],_0x297abb=_0xe2c5c0>0x2344+0x1*-0x23d5+0x92?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0xe2c5c0>-0x703+-0xc32+0x1*0x1336&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x2182f9['cookie']);for(let _0x1be4ed=0x41*-0x73+-0x1d*-0x134+-0x5b1;_0x1be4ed<_0xe2c5c0;_0x1be4ed++){if(Gi['copy'](_0x2182f9['atlasViewp'+'ort']),_0xe2c5c0>0x1e7b+0x2004+-0x3e7e){const _0x516374=Gi['z']/(0x2*-0x62d+-0x13c5+0x1*0x2022),_0x334285=_0x4c8c46[_0x1be4ed];Gi['x']+=_0x516374*_0x334285['x'],Gi['y']+=_0x516374*_0x334285['y'],Gi['z']=_0x516374,Gi['w']=_0x516374,this['invViewPro'+'jId']['setValue'](Id[_0x1be4ed]['data']);}Gi['mulScalar'](_0x348d8b),_0x297abb['render'](Gi);}G['popGpuMark'+'er'](_0x1df4d0);}_0x49e3fb['length']=-0x1e3+-0x36b+0x54e;}}class TM extends ds{constructor(_0xf9ad51,_0x37013b,_0x341e9d){super(_0xf9ad51),this['requiresCu'+'bemaps']=!(0x1*-0x26b4+-0x992+0x3047),this['shadowRend'+'erer']=_0x37013b,this['shadowRend'+'ererLocal']=_0x341e9d;}['update'](_0x2d7264){const _0x198507=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x4130bd=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x198507,_0x2d7264),_0x2fde47=_0x198507['length'];this['enabled']=_0x2fde47>-0x3fa*0x2+0x1*0x6da+0x1*0x11a,_0x2fde47&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x4130bd,!(-0x34*-0x39+-0x1*-0x81e+-0x13b1));}['execute'](){const _0x48c1ea=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x1448b4=_0x48c1ea['length'];for(let _0x14ad68=-0x2334+-0x2554+-0x1a6*-0x2c;_0x14ad68<_0x1448b4;_0x14ad68++){const _0x192ef4=_0x48c1ea[_0x14ad68];for(let _0x5255d0=-0x1876+-0x1*0x9e5+0x225b*0x1;_0x5255d0<_0x192ef4['numShadowF'+'aces'];_0x5255d0++)this['shadowRend'+'erer']['renderFace'](_0x192ef4,null,_0x5255d0,!(0xe33+-0x254*0x2+-0x98b));}_0x48c1ea['length']=-0x382+-0x14c1+0x1843;}}class AM extends ds{constructor(_0x27789a,_0x3cddee,_0x398f95,_0x2dfa1e,_0x3df95a){super(_0x27789a),this['renderer']=_0x3cddee,this['frameGraph']=null,this['cookiesRen'+'derPass']=kp['create'](_0x3df95a['cookieRend'+'erTarget'],_0x3df95a['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new TM(_0x27789a,_0x398f95,_0x2dfa1e),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x350cc7,_0xc8b89,_0x3363fd,_0x3ae920,_0x3b0aa6){this['frameGraph']=_0x350cc7,this['cookiesRen'+'derPass']['enabled']=_0x3363fd,_0x3363fd&&this['cookiesRen'+'derPass']['update'](_0x3ae920),this['shadowRend'+'erPass']['enabled']=_0xc8b89,_0xc8b89&&this['shadowRend'+'erPass']['update'](_0x3b0aa6);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x519c08=ne(),{renderer:_0x42c937}=this,{scene:_0x432539}=_0x42c937;_0x42c937['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x432539['lighting']),_0x42c937['_lightClus'+'tersTime']+=ne()-_0x519c08,_0x42c937['_lightClus'+'ters']=_0x42c937['worldClust'+'ersAllocat'+'or']['count'];}}let Dd=0x1*-0x13f3+0x3*0xceb+-0x12ce*0x1;const Hi=new q(),$i=new q(),Mn=new q(),__=new js(),Ld=new Lf(),g_=new q()['setScale'](0xd1c*0x1+-0xc91*0x1+0x1*-0x8a,-(-0x21a8+0x6a*-0x55+0x44db),0x10cb*-0x2+-0x19ae+0x3b45),Fd=new Set(),Od=new Set(),kd=new Yy(),y_=new q()['set']([0x137b*0x2+-0xbb*0x2b+-0x4*0x1e3,-0x1843+0x7de+0x1065,-0x149f+0x393*-0xa+0x385d,-0xf*0x26+0x1425*0x1+-0x11eb,0x2*-0xf4e+-0x178*0x1a+0x4ea*0xe,-0x5*0x1f5+0x6dd+-0x1*-0x2ed,-0x6d3*-0x4+-0xf9a*-0x2+-0x3a80,0x1*0xfb+-0x7f6+0x6fb,-0xbc8+-0x15*-0x99+-0xc5,-0x10a0+-0x18a1+-0xb3*-0x3b,-0xc85+-0x115+0xd9a+0.5,-0x189*0x5+-0x26ca+0x2e77,0x179*0x17+0x2657+0x806*-0x9,0x1*0x233a+0x1af1+-0x3e2b,0x3*-0xcb5+-0x2ad*0x8+-0x137*-0x31+0.5,-0x1e07+-0x371+-0x1c3*-0x13]),x_=[new $(0x4e8+-0x4f*0x62+0x1956+0.5,0x15af+-0x379*0x1+0x29a*-0x7+0.333333),new $(0xbbd+0x1b19+-0x6*0x679+0.25,-0x2507*0x1+-0x106*-0xf+0x15ad+0.666667),new $(-0x2304+-0x140c*0x1+0x3710+0.75,0x50d*-0x7+-0x329*-0xa+0x3c1+0.111111),new $(0x137e+-0xd*-0x7+-0x13d9+0.125,0x8*-0x236+0x1867*0x1+0xbf*-0x9+0.444444),new $(0x24*0x7+-0xca4*-0x1+-0xda0+0.625,0x1d1+0x1052+0x1223*-0x1+0.777778),new $(0x99d*0x4+0x2065+0x7*-0xa1f+0.375,0xf34+0x2*0x129+-0x1186+0.222222),new $(-0x12ce+-0x165b+0x2929*0x1+0.875,-0xf6+0x2*-0x1294+0x2*0x130f+0.555556),new $(-0x10*-0x88+0x5*-0x5bf+0x143b+0.0625,-0x26e4+0x21c+0x24c8+0.888889),new $(-0x19a2+-0x112c+0x2ace+0.5625,0x102f+-0x1cf9*-0x1+0x2*-0x1694+0.037037),new $(0x1129+-0x157*0x6+-0x91f+0.3125,0x2*0x5a1+0xef*0x1+-0xc31+0.37037),new $(0x1*-0x109d+0x131*0x11+-0x3a4+0.8125,-0x4*-0x42d+0x1*-0x241a+0x1366+0.703704),new $(0xea+0xc9*-0x29+0x1f47+0.1875,0x1832+0x47*-0x7d+-0x7*-0x17f+0.148148),new $(0x1543+-0x2345*0x1+0xa3*0x16+0.6875,-0x1266+-0xb3*0x2+-0x4f3*-0x4+0.481481),new $(0x3a5+0x18ac+-0x1c51+0.4375,-0x9b6+0x25c5+-0x1c0f+0.814815),new $(0x1b*-0x83+0x21eb+-0x1*0x141a+0.9375,0x120f+0x22ab+0x2*-0x1a5d+0.259259),new $(-0x14+-0x218c+0x21a0+0.03125,-0x1a8c+-0x1cb7+0x3743+0.592593)],EM=new q(),CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),Pn=new Set(),Bd=[],Nd=[];class DM{constructor(_0x1298e2){c(this,'clustersDe'+'bugRendere'+'d',!(0x2655+-0x131f+0x1335*-0x1)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new rM(0x3*0xbe9+-0x5*0x14c+-0xe*0x20e)),(this['device']=_0x1298e2,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new vM(_0x1298e2),this['lightTextu'+'reAtlas']=new uM(_0x1298e2),this['shadowMapC'+'ache']=new fM(),this['shadowRend'+'erer']=new I0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new mM(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new yM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new AM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=-0x21c+0x4f*0x79+-0x233b,this['_morphTime']=-0x35*0x80+-0x257d+-0x3ffd*-0x1,this['_cullTime']=-0x3a9*0x4+-0x1420+0x22c4,this['_shadowMap'+'Time']=-0x3*-0x98b+-0x60f+-0xb49*0x2,this['_lightClus'+'tersTime']=0x1*-0x2399+0x9*0x8e+-0x1*-0x1e9b,this['_layerComp'+'ositionUpd'+'ateTime']=0x1*0xa6+0x1*-0x158+0x1*0xb2,this['_shadowDra'+'wCalls']=-0x128*0xe+0x298*-0x6+0x1fc0,this['_skinDrawC'+'alls']=-0x1*-0x577+0xe31+0x44*-0x4a,this['_instanced'+'DrawCalls']=-0x2*0x12ea+-0x39*-0x4+0xc*0x314,this['_shadowMap'+'Updates']=0x6*0x5dc+0x181f+-0x1*0x3b47,this['_numDrawCa'+'llsCulled']=-0x1d61+0x8fc+0x1465*0x1,this['_camerasRe'+'ndered']=0x402+-0x1*-0x10e8+-0xa75*0x2,this['_lightClus'+'ters']=-0x44f*0x5+0xad4+-0x1*-0xab7);const _0x38054a=_0x1298e2['scope'];this['boneTextur'+'eId']=_0x38054a['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x38054a['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x38054a['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x38054a['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x38054a['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0x160*-0x17+0x521+0x57*0x4e),this['viewPosId']=_0x38054a['resolve']('view_posit'+'ion'),this['projId']=_0x38054a['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x38054a['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x38054a['resolve']('matrix_vie'+'w'),this['viewId3']=_0x38054a['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x38054a['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x38054a['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x38054a['resolve']('tbnBasis'),this['nearClipId']=_0x38054a['resolve']('camera_nea'+'r'),this['farClipId']=_0x38054a['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x198a+0x7f3+-0xb*0x30b),this['cameraPara'+'msId']=_0x38054a['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x38054a['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=0x2045+-0xc6*-0x5+-0x2423,this['blueNoiseJ'+'itterVec']=new Q(),this['blueNoiseJ'+'itterData']=new Float32Array(0x1*0x25e8+-0x8ca*0x2+0x8*-0x28a),this['blueNoiseJ'+'itterId']=_0x38054a['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x38054a['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x38054a['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x38054a['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x38054a['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x38054a['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0x22c6*0x1+0x21df+0xb*0x15),this['morphPosit'+'ionTex']=_0x38054a['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x38054a['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x38054a['resolve']('morph_tex_'+'params'),this['lightCube']=new aM(),this['constantLi'+'ghtCube']=_0x38054a['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x572964,_0x294574){if(_0x572964['layer']===_0x294574['layer']){if(_0x572964['drawOrder']&&_0x294574['drawOrder'])return _0x572964['drawOrder']-_0x294574['drawOrder'];if(_0x572964['zdist']&&_0x294574['zdist'])return _0x294574['zdist']-_0x572964['zdist'];if(_0x572964['zdist2']&&_0x294574['zdist2'])return _0x572964['zdist2']-_0x294574['zdist2'];}return _0x294574['_key'][Ei]-_0x572964['_key'][Ei];}['sortCompar'+'eMesh'](_0x1bc857,_0x13e30a){if(_0x1bc857['layer']===_0x13e30a['layer']){if(_0x1bc857['drawOrder']&&_0x13e30a['drawOrder'])return _0x1bc857['drawOrder']-_0x13e30a['drawOrder'];if(_0x1bc857['zdist']&&_0x13e30a['zdist'])return _0x13e30a['zdist']-_0x1bc857['zdist'];}const _0x8614ae=_0x1bc857['_key'][Ei],_0xdccd6f=_0x13e30a['_key'][Ei];return _0x8614ae===_0xdccd6f&&_0x1bc857['mesh']&&_0x13e30a['mesh']?_0x13e30a['mesh']['id']-_0x1bc857['mesh']['id']:_0xdccd6f-_0x8614ae;}['sortCompar'+'eDepth'](_0x64d455,_0x57cc3c){const _0xcbbf31=_0x64d455['_key'][ku],_0x5ad32d=_0x57cc3c['_key'][ku];return _0xcbbf31===_0x5ad32d&&_0x64d455['mesh']&&_0x57cc3c['mesh']?_0x57cc3c['mesh']['id']-_0x64d455['mesh']['id']:_0x5ad32d-_0xcbbf31;}['setupViewp'+'ort'](_0x599c24,_0x1e4b3a){const _0x18bbb0=this['device'],_0x5b03b8=_0x1e4b3a?_0x1e4b3a['width']:_0x18bbb0['width'],_0x562950=_0x1e4b3a?_0x1e4b3a['height']:_0x18bbb0['height'],_0x2b1454=_0x599c24['rect'];let _0x54f983=Math['floor'](_0x2b1454['x']*_0x5b03b8),_0xc166ab=Math['floor'](_0x2b1454['y']*_0x562950),_0x1c17b2=Math['floor'](_0x2b1454['z']*_0x5b03b8),_0x19e753=Math['floor'](_0x2b1454['w']*_0x562950);if(_0x18bbb0['setViewpor'+'t'](_0x54f983,_0xc166ab,_0x1c17b2,_0x19e753),_0x599c24['_scissorRe'+'ctClear']){const _0x309efa=_0x599c24['scissorRec'+'t'];_0x54f983=Math['floor'](_0x309efa['x']*_0x5b03b8),_0xc166ab=Math['floor'](_0x309efa['y']*_0x562950),_0x1c17b2=Math['floor'](_0x309efa['z']*_0x5b03b8),_0x19e753=Math['floor'](_0x309efa['w']*_0x562950);}_0x18bbb0['setScissor'](_0x54f983,_0xc166ab,_0x1c17b2,_0x19e753);}['setCameraU'+'niforms'](_0x498521,_0x1e1c2b){var _0x5b90a4,_0x32f607;const _0x389293=_0x1e1c2b==null?void(0x149*0x7+0x233a+-0x2c39):_0x1e1c2b['flipY'];let _0x2979b0=-0x486+0x31+0x456;if(_0x498521['xr']&&_0x498521['xr']['session']){const _0x13d764=((_0x32f607=(_0x5b90a4=_0x498521['_node'])==null?void(-0xcfb+0x18*0x11a+0x1*-0xd75):_0x5b90a4['parent'])==null?void(0xc+0x424*-0x2+0x83c):_0x32f607['getWorldTr'+'ansform']())||null,_0x3aa66b=_0x498521['xr']['views'];_0x2979b0=_0x3aa66b['list']['length'];for(let _0xb72897=0xe9*0x21+-0x35c*-0x7+-0x358d;_0xb72897<_0x2979b0;_0xb72897++){const _0x3e6dc=_0x3aa66b['list'][_0xb72897];_0x3e6dc['updateTran'+'sforms'](_0x13d764),_0x498521['frustum']['setFromMat'+'4'](_0x3e6dc['projViewOf'+'fMat']);}}else{let _0x2cc1ce=_0x498521['projection'+'Matrix'];_0x498521['calculateP'+'rojection']&&_0x498521['calculateP'+'rojection'](_0x2cc1ce,Al);let _0x43cc91=_0x498521['getProject'+'ionMatrixS'+'kybox']();_0x389293&&(_0x2cc1ce=EM['mul2'](g_,_0x2cc1ce),_0x43cc91=CM['mul2'](g_,_0x43cc91)),this['device']['isWebGPU']&&(_0x2cc1ce=MM['mul2'](y_,_0x2cc1ce),_0x43cc91=PM['mul2'](y_,_0x43cc91));const {jitter:_0x2b64ce}=_0x498521;let _0x67283d=0x2d*0x3e+-0x1*-0x1a1b+-0x2501,_0x34289e=-0x8a0*-0x1+-0x1b*0x24+-0x4d4;if(_0x2b64ce>0x2601+-0x330*0xa+-0x621){const _0xcb2a88=_0x1e1c2b?_0x1e1c2b['width']:this['device']['width'],_0x279338=_0x1e1c2b?_0x1e1c2b['height']:this['device']['height'],_0x47aa5a=x_[this['device']['renderVers'+'ion']%x_['length']];_0x67283d=_0x2b64ce*(_0x47aa5a['x']*(0x14a6+-0x2540+-0x2*-0x84e)-(0x1173+-0x51e*0x6+0xd42))/_0xcb2a88,_0x34289e=_0x2b64ce*(_0x47aa5a['y']*(0x1699+0x1f8b+-0x42a*0xd)-(-0x48b*-0x7+0x16a2*0x1+-0x2*0x1b37))/_0x279338,_0x2cc1ce=RM['copy'](_0x2cc1ce),_0x2cc1ce['data'][0xa*0xe8+-0x257f+0x7*0x411]=_0x67283d,_0x2cc1ce['data'][0x40*-0x12+0x1*0xabd+0x1*-0x634]=_0x34289e,_0x43cc91=IM['copy'](_0x43cc91),_0x43cc91['data'][-0x1047*0x1+-0x12a3+0x22f2]=_0x67283d,_0x43cc91['data'][-0xf*0x239+0x1266*0x1+0xefa]=_0x34289e,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0xd1e49f=_0x2b64ce>0x4*-0x9a+-0xb2*-0x1e+0x93a*-0x2?this['blueNoiseJ'+'itterVec']:Q['ZERO'];if(this['blueNoiseJ'+'itterData'][0x49e+-0x165*-0x13+-0x1f1d]=_0xd1e49f['x'],this['blueNoiseJ'+'itterData'][0x2c1*-0x2+0x274*0x6+0x1*-0x935]=_0xd1e49f['y'],this['blueNoiseJ'+'itterData'][0xd*-0xdf+-0x41f+-0x3dd*-0x4]=_0xd1e49f['z'],this['blueNoiseJ'+'itterData'][-0x15c0+-0x2*-0xc31+-0x29f]=_0xd1e49f['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x2cc1ce['data']),this['projSkybox'+'Id']['setValue'](_0x43cc91['data']),_0x498521['calculateT'+'ransform'])_0x498521['calculateT'+'ransform']($i,Al);else{const _0x19dfea=_0x498521['_node']['getPositio'+'n'](),_0x4d7f2b=_0x498521['_node']['getRotatio'+'n']();$i['setTRS'](_0x19dfea,_0x4d7f2b,T['ONE']);}this['viewInvId']['setValue']($i['data']),Mn['copy']($i)['invert'](),this['viewId']['setValue'](Mn['data']),__['setFromMat'+'4'](Mn),this['viewId3']['setValue'](__['data']),Hi['mul2'](_0x2cc1ce,Mn),this['viewProjId']['setValue'](Hi['data']),_0x498521['_storeShad'+'erMatrices'](Hi,_0x67283d,_0x34289e,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x389293?-(-0x510*-0x6+0x7c3*0x1+-0x2622):0x11b*0x17+-0x6b*-0x2+0x1*-0x1a42),this['dispatchVi'+'ewPos'](_0x498521['_node']['getPositio'+'n']()),_0x498521['frustum']['setFromMat'+'4'](Hi);}this['tbnBasis']['setValue'](_0x389293?-(-0x215a+0x27*-0xe9+-0x4eb*-0xe):0x1260+0x1fb7+-0x2*0x190b);const _0x194228=_0x498521['_nearClip'],_0x8008f8=_0x498521['_farClip'];return this['nearClipId']['setValue'](_0x194228),this['farClipId']['setValue'](_0x8008f8),this['cameraPara'+'ms'][-0x143*0x17+-0x12b9+0xc2*0x3f]=(0x1*0x1351+0x399*-0x6+0x2*0x123)/_0x8008f8,this['cameraPara'+'ms'][-0x1916+-0x16*0x8d+0xf*0x27b]=_0x8008f8,this['cameraPara'+'ms'][0x19f+0x61d+-0x7ba]=_0x194228,this['cameraPara'+'ms'][0x44*0x52+0x46d*-0x4+-0x3*0x15b]=_0x498521['projection']===ua?-0x749*0x1+-0x63+0x7ad:-0x21a5+-0x35d+0x2*0x1281,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x498521['getExposur'+'e']():this['scene']['exposure']),_0x2979b0;}['clear'](_0x22b6dc,_0x19c88e,_0x2ba58d,_0x142b0b){const _0x422d2b=(_0x19c88e??_0x22b6dc['_clearColo'+'rBuffer']?Co:-0x1fb8+0x100c+-0x22*-0x76)|(_0x2ba58d??_0x22b6dc['_clearDept'+'hBuffer']?Mo:0x83f*-0x4+-0x6cc+0x8*0x4f9)|(_0x142b0b??_0x22b6dc['_clearSten'+'cilBuffer']?Ah:-0x617+-0x26*-0x49+-0x4bf);if(_0x422d2b){const _0x1c2bc0=this['device'];G['pushGpuMar'+'ker'](_0x1c2bc0,'CLEAR'),_0x1c2bc0['clear']({'color':[_0x22b6dc['_clearColo'+'r']['r'],_0x22b6dc['_clearColo'+'r']['g'],_0x22b6dc['_clearColo'+'r']['b'],_0x22b6dc['_clearColo'+'r']['a']],'depth':_0x22b6dc['_clearDept'+'h'],'stencil':_0x22b6dc['_clearSten'+'cil'],'flags':_0x422d2b}),G['popGpuMark'+'er'](_0x1c2bc0);}}['setCamera'](_0x329aea,_0x42ca24,_0x1911e5,_0x2728c6=null){this['setCameraU'+'niforms'](_0x329aea,_0x42ca24),this['clearView'](_0x329aea,_0x42ca24,_0x1911e5,!(0x3*0x493+0x1*0x23ab+-0x3163));}['clearView'](_0x2dcf78,_0x2cd9c3,_0x5d9570,_0x5458c2){const _0x544b77=this['device'];if(G['pushGpuMar'+'ker'](_0x544b77,'CLEAR-VIEW'),_0x544b77['setRenderT'+'arget'](_0x2cd9c3),_0x544b77['updateBegi'+'n'](),_0x5458c2&&(_0x544b77['setColorWr'+'ite'](!(-0x1cb6+0xc4f+0x1067),!(0x1*0x55d+0x5*-0x2c3+-0x1*-0x872),!(-0x287*-0x7+0x523+-0x16d4*0x1),!(0x1*-0xa81+-0x461+0xa*0x17d)),_0x544b77['setDepthWr'+'ite'](!(-0x1f5*0x8+-0x134+-0x4*-0x437))),this['setupViewp'+'ort'](_0x2dcf78,_0x2cd9c3),_0x5d9570){const _0x2584d7=_0x2dcf78['_clearOpti'+'ons'];_0x544b77['clear'](_0x2584d7||{'color':[_0x2dcf78['_clearColo'+'r']['r'],_0x2dcf78['_clearColo'+'r']['g'],_0x2dcf78['_clearColo'+'r']['b'],_0x2dcf78['_clearColo'+'r']['a']],'depth':_0x2dcf78['_clearDept'+'h'],'flags':(_0x2dcf78['_clearColo'+'rBuffer']?Co:-0x3*0x5e9+-0x2041+0x31fc)|(_0x2dcf78['_clearDept'+'hBuffer']?Mo:-0x24d8+0xc1b*-0x1+0x30f3)|(_0x2dcf78['_clearSten'+'cilBuffer']?Ah:-0x2*-0x682+-0x13*0x18d+0x1073),'stencil':_0x2dcf78['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x544b77);}['setupCullM'+'ode'](_0x27a7b8,_0xdfddb2,_0xf26dee){const _0xb9f5d1=_0xf26dee['material'];let _0x3a595e=mt;if(_0x27a7b8){let _0xb4bec3=-0x16*0x16e+0x1*-0x1f39+0x3eae;(_0xb9f5d1['cull']===mo||_0xb9f5d1['cull']===rn)&&(_0xb4bec3=_0xdfddb2*_0xf26dee['flipFacesF'+'actor']*_0xf26dee['node']['worldScale'+'Sign']),_0xb4bec3<0xd*0xe7+-0xb*-0x1b7+-0x1e98?_0x3a595e=_0xb9f5d1['cull']===mo?rn:mo:_0x3a595e=_0xb9f5d1['cull'];}this['device']['setCullMod'+'e'](_0x3a595e),_0x3a595e===mt&&_0xb9f5d1['cull']===mt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0xf26dee['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x585627){if(_0x585627['xr']&&_0x585627['xr']['views']['list']['length']){const _0x152cce=_0x585627['xr']['views']['list'][-0x7*0x527+0x62f+0x1de2];Hi['mul2'](_0x152cce['projMat'],_0x152cce['viewOffMat']),_0x585627['frustum']['setFromMat'+'4'](Hi);return;}const _0x3c3bf6=_0x585627['projection'+'Matrix'];if(_0x585627['calculateP'+'rojection']&&_0x585627['calculateP'+'rojection'](_0x3c3bf6,Al),_0x585627['calculateT'+'ransform'])_0x585627['calculateT'+'ransform']($i,Al);else{const _0x2c0c40=_0x585627['_node']['getPositio'+'n'](),_0x426ea3=_0x585627['_node']['getRotatio'+'n']();$i['setTRS'](_0x2c0c40,_0x426ea3,T['ONE']),this['viewInvId']['setValue']($i['data']);}Mn['copy']($i)['invert'](),Hi['mul2'](_0x3c3bf6,Mn),_0x585627['frustum']['setFromMat'+'4'](Hi);}['setBaseCon'+'stants'](_0xc9bc37,_0x4ce4af){_0xc9bc37['setCullMod'+'e'](_0x4ce4af['cull']),_0x4ce4af['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x4ce4af['opacityMap']),(_0x4ce4af['opacityMap']||_0x4ce4af['alphaTest']>-0x2*0x609+0x23da+-0x17c8)&&this['alphaTestI'+'d']['setValue'](_0x4ce4af['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x14adea){Dd++;const _0x120923=_0x14adea['length'];if(_0x120923===0x1*-0x175d+0x35*-0xb2+0x3c37)return;const _0x468b32=ne();for(let _0x170fa=0x1*0x2597+-0xaf*0x11+0xcfc*-0x2;_0x170fa<_0x120923;_0x170fa++){const _0x4abb61=_0x14adea[_0x170fa]['skinInstan'+'ce'];_0x4abb61&&(_0x4abb61['updateMatr'+'ices'](_0x14adea[_0x170fa]['node'],Dd),_0x4abb61['_dirty']=!(0x5*-0x338+-0x12d3+0x22eb));}this['_skinTime']+=ne()-_0x468b32;}['updateGpuS'+'kinMatrice'+'s'](_0x29c0f3){const _0xc14e83=ne();for(const _0x4adf64 of _0x29c0f3){const _0x1e3a4e=_0x4adf64['skinInstan'+'ce'];_0x1e3a4e&&_0x1e3a4e['_dirty']&&(_0x1e3a4e['updateMatr'+'ixPalette'](_0x4adf64['node'],Dd),_0x1e3a4e['_dirty']=!(0x1be2+-0x24f0+0x90f));}this['_skinTime']+=ne()-_0xc14e83;}['updateMorp'+'hing'](_0x3f0c4b){const _0x5d662b=ne();for(const _0x55e066 of _0x3f0c4b){const _0x111fe0=_0x55e066['morphInsta'+'nce'];_0x111fe0&&_0x111fe0['_dirty']&&_0x111fe0['update']();}this['_morphTime']+=ne()-_0x5d662b;}['updateGSpl'+'ats'](_0x5d7b4a){var _0x53f624;for(const _0x42ea66 of _0x5d7b4a)(_0x53f624=_0x42ea66['gsplatInst'+'ance'])==null||_0x53f624['update']();}['gpuUpdate'](_0x2bee54){this['updateGpuS'+'kinMatrice'+'s'](_0x2bee54),this['updateMorp'+'hing'](_0x2bee54),this['updateGSpl'+'ats'](_0x2bee54);}['setVertexB'+'uffers'](_0x4db526,_0x2e2072){_0x4db526['setVertexB'+'uffer'](_0x2e2072['vertexBuff'+'er']);}['setMorphin'+'g'](_0x53cf78,_0x548e1c){_0x548e1c&&(_0x548e1c['prepareRen'+'dering'](_0x53cf78),_0x53cf78['setVertexB'+'uffer'](_0x548e1c['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x548e1c['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x548e1c['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x548e1c['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x41175a,_0xae53b7){const _0x33d630=_0xae53b7['skinInstan'+'ce'];if(_0x33d630){this['_skinDrawC'+'alls']++;const _0x5795ca=_0x33d630['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x5795ca),this['boneTextur'+'eSizeId']['setValue'](_0x33d630['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x2aaefd){const _0x2c2332=this['viewPos'];_0x2c2332[0x20a1+-0xa*-0x1d6+-0x32fd]=_0x2aaefd['x'],_0x2c2332[0x4d*-0x50+0x2425+0x305*-0x4]=_0x2aaefd['y'],_0x2c2332[-0xe67+-0x2184+0x2fed]=_0x2aaefd['z'],this['viewPosId']['setValue'](_0x2c2332);}['initViewBi'+'ndGroupFor'+'mat'](_0x498070){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0xb8506d=[new gt('matrix_vie'+'wProjectio'+'n',Sa),new gt('cubeMapRot'+'ationMatri'+'x',ko),new gt('view_posit'+'ion',Wt),new gt('skyboxInte'+'nsity',Ws),new gt('exposure',Ws),new gt('textureBia'+'s',Ws)];_0x498070&&_0xb8506d['push'](new gt('clusterCel'+'lsCountByB'+'oundsSize',Wt),new gt('clusterTex'+'tureSize',Wt),new gt('clusterBou'+'ndsMin',Wt),new gt('clusterBou'+'ndsDelta',Wt),new gt('clusterCel'+'lsDot',Wt),new gt('clusterCel'+'lsMax',Wt),new gt('clusterCom'+'pressionLi'+'mit0',or),new gt('shadowAtla'+'sParams',or),new gt('clusterMax'+'Cells',ln),new gt('clusterSki'+'p',Ws)),this['viewUnifor'+'mFormat']=new Qy(this['device'],_0xb8506d);const _0xb7cc5c=[new pp(fp,up|li),new fi('lightsText'+'ureFloat',li,Us,nd),new fi('lightsText'+'ure8',li,Us,nd),new fi('shadowAtla'+'sTexture',li,Us,jS),new fi('cookieAtla'+'sTexture',li,Us,oh),new fi('areaLights'+'LutTex1',li,Us,oh),new fi('areaLights'+'LutTex2',li,Us,oh)];_0x498070&&_0xb7cc5c['push'](new fi('clusterWor'+'ldTexture',li,Us,nd)),this['viewBindGr'+'oupFormat']=new jy(this['device'],_0xb7cc5c);}}['setupViewU'+'niformBuff'+'ers'](_0xc1ac05,_0x2485f2,_0x3377da,_0x165f83){v['assert'](Array['isArray'](_0xc1ac05),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x3888df=this['device'];for(v['assert'](_0x165f83===0x1c42+0x2e+-0x1c6f,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0xc1ac05['length']<_0x165f83;){const _0x26a4a4=new gp(_0x3888df,_0x2485f2,!(-0xae7+-0x7*0x446+-0xd1*-0x32)),_0x4678e9=new mp(_0x3888df,_0x3377da,_0x26a4a4);mn['setName'](_0x4678e9,'ViewBindGr'+'oup_'+_0x4678e9['id']),_0xc1ac05['push'](_0x4678e9);}const _0x5ed620=_0xc1ac05[-0x58*-0x4e+0x2*0xdb+-0x1c86];_0x5ed620['defaultUni'+'formBuffer']['update'](),_0x5ed620['update'](),_0x3888df['setBindGro'+'up'](Dh,_0x5ed620);}['setupMeshU'+'niformBuff'+'ers'](_0x5eca93,_0x554e74){const _0x375e35=this['device'];if(_0x375e35['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x554e74['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x554e74['node']['normalMatr'+'ix']['data']);const _0x573410=_0x5eca93['getBindGro'+'up'](_0x375e35);_0x573410['update'](),_0x375e35['setBindGro'+'up'](Xy,_0x573410),_0x5eca93['getUniform'+'Buffer'](_0x375e35)['update'](kd),_0x375e35['setBindGro'+'up'](Eu,kd['bindGroup'],kd['offsets']);}}['drawInstan'+'ce'](_0xb8f785,_0x1bff3b,_0x5a35e9,_0x287e05,_0x402c49){const _0x14b503=_0x1bff3b['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x14b503['data']),_0x402c49&&this['normalMatr'+'ixId']['setValue'](_0x1bff3b['node']['normalMatr'+'ix']['data']);const _0xc180d3=_0x1bff3b['instancing'+'Data'];_0xc180d3?_0xc180d3['count']>0x9d8+-0x253e+0x1b66?(this['_instanced'+'DrawCalls']++,_0xb8f785['setVertexB'+'uffer'](_0xc180d3['vertexBuff'+'er']),_0xb8f785['draw'](_0x5a35e9['primitive'][_0x287e05],_0xc180d3['count'])):_0xb8f785['clearVerte'+'xBuffer']():_0xb8f785['draw'](_0x5a35e9['primitive'][_0x287e05]);}['drawInstan'+'ce2'](_0x4e8b88,_0x27f6da,_0x1d5721,_0xfe214c){const _0x12c0ce=_0x27f6da['instancing'+'Data'];_0x12c0ce?_0x12c0ce['count']>-0x1*0xdff+-0x5*-0x4b1+-0x976?(this['_instanced'+'DrawCalls']++,_0x4e8b88['draw'](_0x1d5721['primitive'][_0xfe214c],_0x12c0ce['count'],!(-0x457*0x1+-0xa97*0x2+-0x2f*-0x8b))):_0x4e8b88['clearVerte'+'xBuffer']():_0x4e8b88['draw'](_0x1d5721['primitive'][_0xfe214c],void(0x20dd+0xc7a+0x9f*-0x49),!(0x2*-0x408+-0x1*-0xc87+-0x477));}['cull'](_0x255fce,_0x559e8e,_0x4694ee){const _0x390698=ne(),_0x32e6c2=_0x4694ee['opaque'];_0x32e6c2['length']=0xa*-0x1aa+0x7f*-0x9+0x151b;const _0x154af9=_0x4694ee['transparen'+'t'];_0x154af9['length']=-0x26e6+0x952+0x1d94;const _0x19e065=_0x255fce['frustumCul'+'ling'],_0x535243=_0x559e8e['length'];for(let _0x43c623=-0x172b+0xbe5+0x3c2*0x3;_0x43c623<_0x535243;_0x43c623++){const _0x4ca35f=_0x559e8e[_0x43c623];_0x4ca35f['visible']&&(!_0x19e065||!_0x4ca35f['cull']||_0x4ca35f['_isVisible'](_0x255fce))&&(_0x4ca35f['visibleThi'+'sFrame']=!(0x2*0x38f+0x1*0xf0a+-0x1628),(_0x4ca35f['transparen'+'t']?_0x154af9:_0x32e6c2)['push'](_0x4ca35f),(_0x4ca35f['skinInstan'+'ce']||_0x4ca35f['morphInsta'+'nce']||_0x4ca35f['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x4ca35f),_0x4ca35f['gsplatInst'+'ance']&&_0x4ca35f['gsplatInst'+'ance']['cameras']['push'](_0x255fce)));}this['_cullTime']+=ne()-_0x390698,this['_numDrawCa'+'llsCulled']+=_0x19e065?_0x535243:0x197*0xa+0x2110*-0x1+0x112a;}['collectLig'+'hts'](_0x10a07d){this['lights']['length']=-0x10f3+0x37*-0x4f+0x4*0x87b,this['localLight'+'s']['length']=-0xedc+0x6ba*-0x1+0x1596;const _0x1efdb4=this['scene']['_stats'];_0x1efdb4['dynamicLig'+'hts']=0xa59+-0xe9*0x4+-0x6b5,_0x1efdb4['bakedLight'+'s']=-0x4fb*0x1+-0x32a+0x825;const _0x54c26d=_0x10a07d['layerList']['length'];for(let _0x2c56f5=-0xacd*0x3+-0x1*0x1d72+0x3dd9;_0x2c56f5<_0x54c26d;_0x2c56f5++){const _0x1d032c=_0x10a07d['layerList'][_0x2c56f5];if(!Od['has'](_0x1d032c)){Od['add'](_0x1d032c);const _0xb0a326=_0x1d032c['_lights'];for(let _0x26bbf5=-0x26d5+0x1928+0x9*0x185;_0x26bbf5<_0xb0a326['length'];_0x26bbf5++){const _0x2aed8d=_0xb0a326[_0x26bbf5];Fd['has'](_0x2aed8d)||(Fd['add'](_0x2aed8d),this['lights']['push'](_0x2aed8d),_0x2aed8d['_type']!==oe&&this['localLight'+'s']['push'](_0x2aed8d),(_0x2aed8d['mask']&hs||_0x2aed8d['mask']&cr)&&_0x1efdb4['dynamicLig'+'hts']++,_0x2aed8d['mask']&rr&&_0x1efdb4['bakedLight'+'s']++);}}}_0x1efdb4['lights']=this['lights']['length'],Fd['clear'](),Od['clear']();}['cullLights'](_0x3fe29b,_0x19541c){const _0x4e3fa9=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x4198ea=this['scene']['physicalUn'+'its'];for(let _0x5a7c5f=0xfb6+-0x1*0x5cf+-0x9e7;_0x5a7c5f<_0x19541c['length'];_0x5a7c5f++){const _0x2119db=_0x19541c[_0x5a7c5f];if(_0x2119db['enabled']){if(_0x2119db['_type']!==oe){if(_0x2119db['getBoundin'+'gSphere'](Ld),_0x3fe29b['frustum']['containsSp'+'here'](Ld)){_0x2119db['visibleThi'+'sFrame']=!(0x23*0xf+-0x10d*-0x1f+-0x8*0x454),_0x2119db['usePhysica'+'lUnits']=_0x4198ea;const _0x2e8bf9=_0x3fe29b['getScreenS'+'ize'](Ld);_0x2119db['maxScreenS'+'ize']=Math['max'](_0x2119db['maxScreenS'+'ize'],_0x2e8bf9);}else _0x4e3fa9||_0x2119db['castShadow'+'s']&&!_0x2119db['shadowMap']&&(_0x2119db['visibleThi'+'sFrame']=!(0x85e*-0x1+-0x59*-0x26+-0x4d8));}else _0x2119db['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x490c6d){const _0x54cee3=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x247b25=0xc*0x316+0x2615+-0x4b1d;_0x247b25<this['localLight'+'s']['length'];_0x247b25++){const _0x5bf338=this['localLight'+'s'][_0x247b25];_0x5bf338['_type']!==oe&&(_0x54cee3?_0x5bf338['atlasSlotU'+'pdated']&&_0x5bf338['shadowUpda'+'teMode']===Ps&&(_0x5bf338['shadowUpda'+'teMode']=cn):_0x5bf338['shadowUpda'+'teMode']===Ps&&_0x5bf338['castShadow'+'s']&&(_0x5bf338['getRenderD'+'ata'](null,-0x16b8+0x23e9*-0x1+-0x1*-0x3aa1)['shadowCame'+'ra']['renderTarg'+'et']||(_0x5bf338['shadowUpda'+'teMode']=cn)),_0x5bf338['visibleThi'+'sFrame']&&_0x5bf338['castShadow'+'s']&&_0x5bf338['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x5bf338,_0x490c6d));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x5b0a5e=_0x490c6d['cameras'];for(let _0x59e138=0x1*-0x577+-0x467+0x9de;_0x59e138<_0x5b0a5e['length'];_0x59e138++){const _0x3d70ad=_0x5b0a5e[_0x59e138];if(_0x3d70ad['enabled']){const _0x146fce=_0x3d70ad['camera'];let _0x4e678d;const _0x1718c5=_0x146fce['layers'];for(let _0x4acc2b=0x9d*-0x2+-0x4d5*-0x1+-0x39b;_0x4acc2b<_0x1718c5['length'];_0x4acc2b++){const _0x5ddcf6=_0x490c6d['getLayerBy'+'Id'](_0x1718c5[_0x4acc2b]);if(_0x5ddcf6){const _0x5e134d=_0x5ddcf6['splitLight'+'s'][oe];for(let _0xd876c5=0x4*-0x455+-0x190b+0x2a5f;_0xd876c5<_0x5e134d['length'];_0xd876c5++){const _0x1695f8=_0x5e134d[_0xd876c5];_0x1695f8['castShadow'+'s']&&!Pn['has'](_0x1695f8)&&(Pn['add'](_0x1695f8),_0x4e678d=_0x4e678d??[],_0x4e678d['push'](_0x1695f8),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x1695f8,_0x490c6d,_0x146fce));}}}_0x4e678d&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x146fce,_0x4e678d),Pn['clear']();}}}['cullCompos'+'ition'](_0x59ffd2){const _0x52fbba=ne(),{scene:_0x51f45f}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x1e4fe2=_0x59ffd2['cameras']['length'];this['_camerasRe'+'ndered']+=_0x1e4fe2;for(let _0x17b42b=-0x1f*-0x66+0x3ad*0x1+-0x1007;_0x17b42b<_0x1e4fe2;_0x17b42b++){const _0x565860=_0x59ffd2['cameras'][_0x17b42b];_0x51f45f==null||_0x51f45f['fire'](ow,_0x565860);const _0x214290=_0x565860['renderTarg'+'et'];_0x565860['frameUpdat'+'e'](_0x214290),this['updateCame'+'raFrustum'](_0x565860['camera']);const _0xe65fa4=_0x565860['layers'];for(let _0x1317d0=0xa*-0x6+0x11c4*0x2+-0x234c;_0x1317d0<_0xe65fa4['length'];_0x1317d0++){const _0x348958=_0x59ffd2['getLayerBy'+'Id'](_0xe65fa4[_0x1317d0]);if(_0x348958&&_0x348958['enabled']){this['cullLights'](_0x565860['camera'],_0x348958['_lights']);const _0x5d6e92=_0x348958['getCulledI'+'nstances'](_0x565860['camera']);this['cull'](_0x565860['camera'],_0x348958['meshInstan'+'ces'],_0x5d6e92);}}_0x51f45f==null||_0x51f45f['fire'](lw,_0x565860);}_0x51f45f['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x59ffd2),this['_cullTime']+=ne()-_0x52fbba;}['updateShad'+'ers'](_0x11a4d0,_0xe62687){const _0x4019d7=_0x11a4d0['length'];for(let _0x117f79=-0x12b*-0xb+-0x1*-0x40f+0x4*-0x43a;_0x117f79<_0x4019d7;_0x117f79++){const _0x4a8ae4=_0x11a4d0[_0x117f79]['material'];if(_0x4a8ae4&&!Pn['has'](_0x4a8ae4)&&(Pn['add'](_0x4a8ae4),_0x4a8ae4['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant'])){if(_0xe62687&&(!_0x4a8ae4['useLightin'+'g']||_0x4a8ae4['emitter']&&!_0x4a8ae4['emitter']['lighting']))continue;_0x4a8ae4['clearVaria'+'nts']();}}Pn['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](hM(this['device']));}['beginFrame'](_0xaa0005){const _0x4ef1da=this['scene'],_0xf4d42e=_0x4ef1da['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x584e8c=-0x26d9+-0xd07+-0x19f0*-0x2;const _0x4ae26b=_0xaa0005['layerList'],_0x48e3c8=_0x4ae26b['length'];for(let _0x2f8e0b=-0x300*-0x2+0x128*0x1d+-0x2788;_0x2f8e0b<_0x48e3c8;_0x2f8e0b++){const _0x2afb80=_0x4ae26b[_0x2f8e0b]['meshInstan'+'ces'],_0x1ae485=_0x2afb80['length'];_0x584e8c+=_0x1ae485;for(let _0x265567=-0x2598+-0x15e*-0x1a+0x1*0x20c;_0x265567<_0x1ae485;_0x265567++){const _0x433e47=_0x2afb80[_0x265567];_0x433e47['visibleThi'+'sFrame']=!(0x11c0+0x283*-0x1+-0xf3c),_0xf4d42e&&Bd['push'](_0x433e47),_0x433e47['skinInstan'+'ce']&&Nd['push'](_0x433e47);}}if(_0x4ef1da['_stats']['meshInstan'+'ces']=_0x584e8c,_0xf4d42e){const _0x14c8a1=!_0x4ef1da['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Bd,_0x14c8a1),_0x4ef1da['updateShad'+'ers']=!(-0x2526+-0x8*-0x416+0x477),this['device']['_shadersDi'+'rty']=!(0x46*0x20+0xb09+-0x13c8),_0x4ef1da['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Nd),Bd['length']=0x2*-0x7ab+-0x160b+-0x1*-0x2561,Nd['length']=0x1*0xcaa+-0x1e3f+0x1*0x1195;const _0x59bef2=this['lights'],_0x192429=_0x59bef2['length'];for(let _0x468ce9=-0x25b+-0x1*-0x2291+-0x2036;_0x468ce9<_0x192429;_0x468ce9++)_0x59bef2[_0x468ce9]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0xf3056b){const _0x3e235a=ne(),_0x4d5a49=_0xf3056b['layerList']['length'],_0x813a3d=this['scene']['_shaderVer'+'sion'];for(let _0x2d8214=0x2*-0x4aa+0x13f*-0x13+0x2101;_0x2d8214<_0x4d5a49;_0x2d8214++){const _0x53c13b=_0xf3056b['layerList'][_0x2d8214];_0x53c13b['_shaderVer'+'sion']=_0x813a3d,_0x53c13b['_skipRende'+'rCounter']=0x1*0x163c+0x25a+-0x419*0x6,_0x53c13b['_forwardDr'+'awCalls']=0x2410+-0x17f4+-0xc1c,_0x53c13b['_shadowDra'+'wCalls']=0xb77*-0x2+0x16fc+-0xe,_0x53c13b['_renderTim'+'e']=-0xc*-0x2a1+-0x12f*0x1c+-0x8*-0x33;}_0xf3056b['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ne()-_0x3e235a;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x1*0xe3c+0x4*-0x41d+0x1*0x239),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class D0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x25c*0x3+0x1b*-0xfb+0x218e),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x8a1*0x4+0x12b5*-0x1+-0xfce),this['clearDepth']=!(0xd24+0xa85*0x2+0x222d*-0x1),this['clearStenc'+'il']=!(0x26a8+0x2279+0x186*-0x30),this['triggerPos'+'tprocess']=!(-0x10*0x116+0x21f1*-0x1+0x3352),this['firstCamer'+'aUse']=!(0x2e*-0xba+0x18c1+-0x1*-0x8ac),this['lastCamera'+'Use']=!(-0x1391+-0xdb3+0x1f5*0x11),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x1*-0xa61+-0x2558+0x2fba));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x5b6c86=>{_0x5b6c86['defaultUni'+'formBuffer']['destroy'](),_0x5b6c86['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1b1d+-0x5f*0x37+-0x452*-0xb;}['setupClear'+'s'](_0x114b02,_0x856448){this['clearColor']=(_0x114b02==null?void(0x1d1c+-0x5*0x433+-0x43*0x1f):_0x114b02['clearColor'+'Buffer'])||_0x856448['clearColor'+'Buffer'],this['clearDepth']=(_0x114b02==null?void(0x198f+-0x7*-0x1a0+0x131*-0x1f):_0x114b02['clearDepth'+'Buffer'])||_0x856448['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x114b02==null?void(-0x1*-0x1101+-0x13b*0x3+-0xd50):_0x114b02['clearStenc'+'ilBuffer'])||_0x856448['clearStenc'+'ilBuffer'];}}class LM extends ds{constructor(_0x466ba7,_0x545ba4,_0x3e5fb8,_0x1f8343){super(_0x466ba7),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(0xff3+0x593*-0x2+-0x4cc)),(this['layerCompo'+'sition']=_0x545ba4,this['scene']=_0x3e5fb8,this['renderer']=_0x1f8343);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>0x1*0xd3d+-0xc0b+-0x132;}['addRenderA'+'ction'](_0x2d95d5){this['renderActi'+'ons']['push'](_0x2d95d5);}['addLayer'](_0x2328a6,_0x145007,_0xd63710,_0x45a35d=!(0x218*-0xa+-0xb43+0x2033)){v['assert'](_0x2328a6),v['assert'](this['renderTarg'+'et']!==void(0x667+0x2529+0x110*-0x29),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),v['assert'](_0x2328a6['camera']['layersSet']['has'](_0x145007['id']),'Camera\x20'+_0x2328a6['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x145007['name']+'.');const _0xe5068=new D0();if(_0xe5068['renderTarg'+'et']=this['renderTarg'+'et'],_0xe5068['camera']=_0x2328a6,_0xe5068['layer']=_0x145007,_0xe5068['transparen'+'t']=_0xd63710,_0x45a35d){const _0x1c564d=this['renderActi'+'ons']['length']===0x1ae9+-0x775*-0x4+0x7*-0x81b;_0xe5068['setupClear'+'s'](_0x1c564d?_0x2328a6:void(0x2*-0x5af+-0x176*0x11+-0x2434*-0x1),_0x145007);}this['addRenderA'+'ction'](_0xe5068);}['addLayers'](_0xd91e9d,_0x3f0e7a,_0x4d7bf5,_0x4c8697,_0x5dae4f,_0x2f8ba0=!(-0x74a+-0xe45+-0x158f*-0x1)){const {layerList:_0x1450b5,subLayerList:_0x13fe88}=_0xd91e9d;let _0x5d48e6=_0x4c8697,_0x3e7a1c=_0x4d7bf5;for(;_0x3e7a1c<_0x1450b5['length'];){const _0xe48c8f=_0x1450b5[_0x3e7a1c],_0x3ee8fa=_0x13fe88[_0x3e7a1c];if(_0x3f0e7a['camera']['layersSet']['has'](_0xe48c8f['id'])&&(this['addLayer'](_0x3f0e7a,_0xe48c8f,_0x3ee8fa,_0x5d48e6),_0x5d48e6=!(0x976+0x16f9+-0x4a2*0x7)),_0x3e7a1c++,_0xe48c8f['id']===_0x5dae4f&&_0x3ee8fa===_0x2f8ba0)break;}return _0x3e7a1c;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0xecc469,renderActions:_0x2678d3}=this;for(let _0x2d1901=-0x2*0x2f+0x716+-0x56*0x14;_0x2d1901<_0x2678d3['length'];_0x2d1901++){const _0x1dc4eb=_0x2678d3[_0x2d1901]['camera']['camera'],_0x28c3db=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x1dc4eb);if(_0x28c3db)for(let _0x20fc3d=-0x236*-0xa+0x1d*0xf+0x1*-0x17cf;_0x20fc3d<_0x28c3db['length'];_0x20fc3d++){const _0x11e2b0=_0x28c3db[_0x20fc3d];if(_0xecc469['dirLightSh'+'adows']['get'](_0x11e2b0)!==_0x1dc4eb){_0xecc469['dirLightSh'+'adows']['set'](_0x11e2b0,_0x1dc4eb);const _0x294249=_0xecc469['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x11e2b0,_0x1dc4eb);_0x294249&&this['beforePass'+'es']['push'](_0x294249);}}}}['updateClea'+'rs'](){const _0xcf7635=this['renderActi'+'ons'][-0x5*0x4fb+-0x1*0x2547+-0x471*-0xe];if(_0xcf7635){const _0x388f5b=_0xcf7635['camera']['camera'],_0x245206=_0x388f5b['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x245206&&_0xcf7635['clearColor']?_0x388f5b['clearColor']:void(-0x22f0+-0x2ce+0x2*0x12df)),this['setClearDe'+'pth'](_0x245206&&_0xcf7635['clearDepth']&&!this['noDepthCle'+'ar']?_0x388f5b['clearDepth']:void(0x4*0x30b+0x2e+-0xc5a)),this['setClearSt'+'encil'](_0x245206&&_0xcf7635['clearStenc'+'il']?_0x388f5b['clearStenc'+'il']:void(0x37*-0x25+0x186+-0x1*-0x66d));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x25c8d8}=this;for(let _0x25764e=0x601+-0xb*0x361+0x1f2a;_0x25764e<_0x25c8d8['length'];_0x25764e++){const _0x2de7d8=_0x25c8d8[_0x25764e];_0x2de7d8['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x2de7d8['camera']);}}['execute'](){const {layerComposition:_0x18c1a6,renderActions:_0x4e0b8c}=this;for(let _0x331ce8=-0x11*0x1af+0xb9*-0x3+0x1eca;_0x331ce8<_0x4e0b8c['length'];_0x331ce8++){const _0x2c44f7=_0x4e0b8c[_0x331ce8],_0x412cf8=_0x2c44f7['layer'];v['call'](()=>{_0x18c1a6['getLayerBy'+'Name'](_0x412cf8['name'])||v['warnOnce']('Layer\x20'+_0x412cf8['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x18c1a6['isEnabled'](_0x412cf8,_0x2c44f7['transparen'+'t'])&&this['renderRend'+'erAction'](_0x2c44f7,_0x331ce8===-0x796+-0x255*-0xb+-0x1211);}}['after'](){for(let _0xe4c460=0x1*-0xa38+-0x119c+0x1*0x1bd4;_0xe4c460<this['renderActi'+'ons']['length'];_0xe4c460++){const _0x295e18=this['renderActi'+'ons'][_0xe4c460];_0x295e18['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x295e18['camera']);}this['beforePass'+'es']['length']=0x23cf+0x1*0xc83+-0x1829*0x2;}['renderRend'+'erAction'](_0x1ab91c,_0x4c2d9d){var _0x45813c;const {renderer:_0x1c0bcb,scene:_0x43694a}=this,_0x1fb98a=_0x1c0bcb['device'],{layer:_0x4dda0b,transparent:_0x5bc37a,camera:_0x4318ca}=_0x1ab91c;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x4318ca?_0x4318ca['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x4dda0b['name']+'('+(_0x5bc37a?'TRANSP':'OPAQUE')+')');const _0x1be64b=ne();if(_0x4318ca){const _0x43002f=_0x4318ca['gammaCorre'+'ction'],_0x58e282=_0x4318ca['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0x33*0x21+-0x601+-0xe*-0xe6)&&(_0x4318ca['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(-0x28d*0xa+-0x8a+0x4*0x683)&&(_0x4318ca['toneMappin'+'g']=this['toneMappin'+'g']),_0x43694a['fire'](nw,_0x4318ca,_0x4dda0b,_0x5bc37a);const _0x55dabd={'lightClusters':_0x1ab91c['lightClust'+'ers']},_0x2e9f67=((_0x45813c=_0x4318ca['camera']['shaderPass'+'Info'])==null?void(-0xf2e+-0x6*0x67a+-0x360a*-0x1):_0x45813c['index'])??gn;(!_0x4c2d9d||!_0x4318ca['camera']['fullSizeCl'+'earRect'])&&(_0x55dabd['clearColor']=_0x1ab91c['clearColor'],_0x55dabd['clearDepth']=_0x1ab91c['clearDepth'],_0x55dabd['clearStenc'+'il']=_0x1ab91c['clearStenc'+'il']);const _0x389e91=_0x1ab91c['renderTarg'+'et']??_0x1fb98a['backBuffer'];_0x1c0bcb['renderForw'+'ardLayer'](_0x4318ca['camera'],_0x389e91,_0x4dda0b,_0x5bc37a,_0x2e9f67,_0x1ab91c['viewBindGr'+'oups'],_0x55dabd),_0x1fb98a['setBlendSt'+'ate'](_t['NOBLEND']),_0x1fb98a['setStencil'+'State'](null,null),_0x1fb98a['setAlphaTo'+'Coverage'](!(-0x164c+-0x5c2+0x28d*0xb)),_0x43694a['fire'](aw,_0x4318ca,_0x4dda0b,_0x5bc37a),this['gammaCorre'+'ction']!==void(0x8e*0x3d+-0x167*-0x13+-0x3c7b)&&(_0x4318ca['gammaCorre'+'ction']=_0x43002f),this['toneMappin'+'g']!==void(0x265c+0x20fe+-0x23ad*0x2)&&(_0x4318ca['toneMappin'+'g']=_0x58e282);}G['popGpuMark'+'er'](this['device']),_0x4dda0b['_renderTim'+'e']+=ne()-_0x1be64b;}['log'](_0x4903e3,_0x3c60c4){if(super['log'](_0x4903e3,_0x3c60c4),Xs['get'](Jn)){const {layerComposition:_0x32d8c5}=this;this['renderActi'+'ons']['forEach']((_0x5afba2,_0x4e1f9d)=>{const _0x4caed8=_0x5afba2['layer'],_0x416684=_0x4caed8['enabled']&&_0x32d8c5['isEnabled'](_0x4caed8,_0x5afba2['transparen'+'t']),_0x28d745=_0x5afba2['camera'];v['trace'](Jn,'\x20\x20\x20\x20'+_0x4e1f9d+':'+('\x20Cam:\x20'+(_0x28d745?_0x28d745['entity']['name']:'-'))['padEnd'](0x7d*-0x43+0x2430+0x363*-0x1,'\x20')+('\x20Lay:\x20'+_0x4caed8['name'])['padEnd'](0x2334+-0x7ab*0x4+-0x472,'\x20')+(_0x5afba2['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x416684?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x4caed8['meshInstan'+'ces']['length'])['padEnd'](0x2631+-0x6*0x1d8+-0x6c7*0x4,'\x20'));});}}}class FM extends ds{constructor(_0x3584d9,_0x4c92d6,_0x2306b5){super(_0x3584d9),this['renderer']=_0x4c92d6,this['renderActi'+'on']=_0x2306b5,this['requiresCu'+'bemaps']=!(0x83f+-0x19f2+0x11b4);}['execute'](){const _0x46b250=this['renderActi'+'on'],_0x22f1bd=_0x46b250['camera'];v['assert'](_0x46b250['triggerPos'+'tprocess']&&_0x22f1bd['onPostproc'+'essing']),_0x22f1bd['onPostproc'+'essing']();}}const OM=[[],[],[]],Wi=new Y(),br={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=-0x863+0x1f2*-0x10+0x2783,this['shaderInst'+'ances']['length']=-0x18e9+0x25b1+-0xcc8,this['isNewMater'+'ial']['length']=0x234d+0x8*0x65+0x2675*-0x1,this['lightMaskC'+'hanged']['length']=-0x9ec+0xaa3*0x1+-0xb7;}};function kM(_0x1415c2){const _0x1645ca=[];for(let _0x3bbe0c=-0xa5f*0x1+-0x1*0xa16+-0x1*-0x1475;_0x3bbe0c<_0x1415c2;++_0x3bbe0c){const _0x326ef8=Math['sqrt'](_0x3bbe0c+(0x14bb+-0x171a+-0x1*-0x25f+0.5))/Math['sqrt'](_0x1415c2);_0x1645ca['push'](_0x326ef8);}return _0x1645ca;}function BM(_0x2bdbc2){const _0x12529b=[];for(let _0x37f196=-0x14f*-0x17+0x1*0x13ca+0xb*-0x489;_0x37f196<_0x2bdbc2;_0x37f196++){const _0x493642=_0x37f196/_0x2bdbc2,_0x1741ce=Math['sqrt'](_0x493642*_0x493642);_0x12529b['push'](_0x1741ce);}return _0x12529b;}const _i=class _i extends DM{constructor(_0x3f3ea7){super(_0x3f3ea7);const _0x3dbc02=this['device'];this['_forwardDr'+'awCalls']=-0xc+0x244d+-0x2441,this['_materialS'+'witches']=-0x2400+-0x4*-0x33b+0x1714,this['_depthMapT'+'ime']=-0x1975+-0x1*-0x20a9+-0x734,this['_forwardTi'+'me']=-0x11*-0x195+-0x29e*0xd+0x19*0x49,this['_sortTime']=-0x1*-0x14bd+-0xa*-0x267+0x1*-0x2cc3;const _0x2d7d5e=_0x3dbc02['scope'];this['fogColorId']=_0x2d7d5e['resolve']('fog_color'),this['fogStartId']=_0x2d7d5e['resolve']('fog_start'),this['fogEndId']=_0x2d7d5e['resolve']('fog_end'),this['fogDensity'+'Id']=_0x2d7d5e['resolve']('fog_densit'+'y'),this['ambientId']=_0x2d7d5e['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x2d7d5e['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x2d7d5e['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x2d7d5e['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x2d7d5e['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x2d7d5e['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0xb*-0x2e7+-0xd69+0x94*-0x20),this['fogColor']=new Float32Array(-0x1*0x1de+-0x9e6+0xbc7),this['ambientCol'+'or']=new Float32Array(-0x1302+0x17fe+-0x4f9),this['pcssDiskSa'+'mples']=kM(0x3*0x62b+-0x6c4+-0xbad),this['pcssSphere'+'Samples']=BM(0x657*0x2+0x1204+-0x1ea2);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x1d618a){const _0x50e3ff=this['ambientCol'+'or'];if(Wi['linear'](_0x1d618a['ambientLig'+'ht']),_0x50e3ff[-0x1554+0x1e5*-0xa+0x80e*0x5]=Wi['r'],_0x50e3ff[-0x1561+-0x7*0x36d+0x2d5d]=Wi['g'],_0x50e3ff[-0x19f*-0x2+0xc94+-0xfd0]=Wi['b'],_0x1d618a['physicalUn'+'its']){for(let _0x394ee5=-0x2*0xdc3+-0x91*-0x1d+0xb19;_0x394ee5<0x1*-0x184e+-0x202d+0x387e;_0x394ee5++)_0x50e3ff[_0x394ee5]*=_0x1d618a['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x50e3ff),this['skyboxInte'+'nsityId']['setValue'](_0x1d618a['physicalUn'+'its']?_0x1d618a['skyboxLumi'+'nance']:_0x1d618a['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x1d618a['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x3f164b,_0x265881){const _0x43252c='light'+_0x265881;this['lightColor'+'Id'][_0x265881]=_0x3f164b['resolve'](_0x43252c+'_color'),this['lightDir'][_0x265881]=new Float32Array(-0x2467+-0xc3e+0x30a8),this['lightDirId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+'_direction'),this['lightShado'+'wMapId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+'_radius'),this['lightPos'][_0x265881]=new Float32Array(-0x2*-0x3d7+0x2221*0x1+0x4*-0xa73),this['lightPosId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+'_position'),this['lightWidth'][_0x265881]=new Float32Array(0x1*-0x1a62+-0x1e67+0x38cc),this['lightWidth'+'Id'][_0x265881]=_0x3f164b['resolve'](_0x43252c+'_halfWidth'),this['lightHeigh'+'t'][_0x265881]=new Float32Array(0x3c0*-0x6+-0x22cf+0x3952),this['lightHeigh'+'tId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+'_cookie'),this['lightCooki'+'eIntId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x265881]=_0x3f164b['resolve'](_0x43252c+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x3943ce,_0x282ef5,_0x2c17b7,_0xac7590,_0x295278){this['lightPos'][_0x282ef5][0x1d3a+0x97d+0xbb*-0x35]=_0xac7590['x']-_0x2c17b7['x']*_0x295278,this['lightPos'][_0x282ef5][0xa7*0x3a+0x43*0x11+-0x29*0x108]=_0xac7590['y']-_0x2c17b7['y']*_0x295278,this['lightPos'][_0x282ef5][0xf3f*-0x1+-0x713*-0x4+-0xd0b]=_0xac7590['z']-_0x2c17b7['z']*_0x295278,this['lightPosId'][_0x282ef5]['setValue'](this['lightPos'][_0x282ef5]);const _0x463f98=_0x3943ce['transformV'+'ector'](new T(-(0x1348+0x7*0x2ad+0x25*-0x107+0.5),0x36a+-0x1*-0xb66+0xed0*-0x1,0xbf*-0x13+-0x526+0x1353));this['lightWidth'][_0x282ef5][0xb21+-0x20d5+0x15b4]=_0x463f98['x']*_0x295278,this['lightWidth'][_0x282ef5][0x16fb+0xae*-0x17+0xbc*-0xa]=_0x463f98['y']*_0x295278,this['lightWidth'][_0x282ef5][-0x4a1+-0x1*0x9de+-0x4f*-0x2f]=_0x463f98['z']*_0x295278,this['lightWidth'+'Id'][_0x282ef5]['setValue'](this['lightWidth'][_0x282ef5]);const _0x5f2803=_0x3943ce['transformV'+'ector'](new T(-0x1*0x1001+0x22ed+-0x12ec,0x15aa+0xe*-0x67+0x1*-0x1008,0x2563+-0x7d+0x1*-0x24e6+0.5));this['lightHeigh'+'t'][_0x282ef5][-0x709+-0x846+-0x1*-0xf4f]=_0x5f2803['x']*_0x295278,this['lightHeigh'+'t'][_0x282ef5][-0x61*-0x61+0x26*0xf5+-0x491e]=_0x5f2803['y']*_0x295278,this['lightHeigh'+'t'][_0x282ef5][0x68d+-0x132c+0xca1*0x1]=_0x5f2803['z']*_0x295278,this['lightHeigh'+'tId'][_0x282ef5]['setValue'](this['lightHeigh'+'t'][_0x282ef5]);}['dispatchDi'+'rectLights'](_0x1cf2cd,_0x2024e1,_0x5b6fac){let _0x5545e1=-0x2*-0x86f+0xb6f*-0x3+0x116f*0x1;const _0xb89bb7=this['device']['scope'];for(let _0xdb41b=0x1006+0x2688+0x1b47*-0x2;_0xdb41b<_0x1cf2cd['length'];_0xdb41b++){if(!(_0x1cf2cd[_0xdb41b]['mask']&_0x2024e1))continue;const _0x2b666b=_0x1cf2cd[_0xdb41b],_0xdec850=_0x2b666b['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x5545e1]||this['_resolveLi'+'ght'](_0xb89bb7,_0x5545e1),this['lightColor'+'Id'][_0x5545e1]['setValue'](_0x2b666b['_colorLine'+'ar']),_0xdec850['getY'](_0x2b666b['_direction'])['mulScalar'](-(0xafe+0xd*0x1e2+-0x2377)),_0x2b666b['_direction']['normalize'](),this['lightDir'][_0x5545e1][-0x22c8+0x2382+-0xba]=_0x2b666b['_direction']['x'],this['lightDir'][_0x5545e1][0x2db*0xa+-0x1*-0x26b9+-0x4346]=_0x2b666b['_direction']['y'],this['lightDir'][_0x5545e1][0x2*-0x1d9+-0x509+0x8bd*0x1]=_0x2b666b['_direction']['z'],this['lightDirId'][_0x5545e1]['setValue'](this['lightDir'][_0x5545e1]),_0x2b666b['shape']!==yt&&this['setLTCDire'+'ctionalLig'+'ht'](_0xdec850,_0x5545e1,_0x2b666b['_direction'],_0x5b6fac['_node']['getPositio'+'n'](),_0x5b6fac['farClip']),_0x2b666b['castShadow'+'s']){const _0x253f7b=_0x2b666b['getRenderD'+'ata'](_0x5b6fac,-0xd81+-0xc2c+0x139*0x15),_0x3cd571=_0x2b666b['_getUnifor'+'mBiasValue'+'s'](_0x253f7b);this['lightShado'+'wMapId'][_0x5545e1]['setValue'](_0x253f7b['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x5545e1]['setValue'](_0x253f7b['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x5545e1]['setValue'](_0x2b666b['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x5545e1]['setValue'](_0x2b666b['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x5545e1]['setValue'](_0x2b666b['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x5545e1]['setValue'](0x16dd+0x1791+-0x949*0x5-_0x2b666b['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x5545e1]['setValue'](_0x2b666b['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x5545e1]['setValue'](_0x2b666b['_softShado'+'wParams']),_0x253f7b['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x5545e1]['setValue'](_0x2b666b['penumbraSi'+'ze']/_0x253f7b['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x253f7b['projection'+'Compensati'+'on']);const _0x51535f=_0x2b666b['_shadowCam'+'eraParams'];_0x51535f['length']=-0x1386+-0x987+0x1*0x1d11,_0x51535f[0x67*-0x22+-0x6*0x3cb+0x2470]=-0x1362*-0x2+0x29*-0x1+-0x269b,_0x51535f[0x5*-0x305+-0x11*0xd7+0x1*0x1d61]=_0x253f7b['shadowCame'+'ra']['_farClip'],_0x51535f[0x1*-0x331+-0x1be4+0x1f17*0x1]=_0x253f7b['shadowCame'+'ra']['_nearClip'],_0x51535f[-0x1322+-0x1e96+0x1d*0x1b7]=-0x48d+-0x14ed+0x1*0x197b,this['lightCamer'+'aParamsId'][_0x5545e1]['setValue'](_0x51535f);const _0x285dee=_0x2b666b['_shadowRen'+'derParams'];_0x285dee['length']=-0x66a+-0x3*0x798+-0x1d36*-0x1,_0x285dee[0x1*-0x13b1+0x1d87+-0x9d6]=_0x2b666b['_shadowRes'+'olution'],_0x285dee[0x1*0x2707+0xcfa+0x1a00*-0x2]=_0x3cd571['normalBias'],_0x285dee[0x29*-0x71+0x1*-0x21ed+0x3408]=_0x3cd571['bias'],_0x285dee[-0xe53+0x8f*0x31+0x47*-0x2f]=-0xf3+-0xc1e*-0x2+-0x1749,this['lightShado'+'wParamsId'][_0x5545e1]['setValue'](_0x285dee);}_0x5545e1++;}return _0x5545e1;}['setLTCPosi'+'tionalLigh'+'t'](_0x20a717,_0x493db9){const _0x4c1ad0=_0x20a717['transformV'+'ector'](new T(-(0x1e2a+0x4*-0x757+-0x67*0x2+0.5),0x2210+0x640+-0x2850,0xe4f*-0x1+0x4*-0x58a+-0x74b*-0x5));this['lightWidth'][_0x493db9][-0xc5b*-0x3+0x444+-0x2955]=_0x4c1ad0['x'],this['lightWidth'][_0x493db9][0x16a4+-0x1a5b+-0x1dc*-0x2]=_0x4c1ad0['y'],this['lightWidth'][_0x493db9][-0x5*-0x391+0x70*0x43+0x1*-0x2f23]=_0x4c1ad0['z'],this['lightWidth'+'Id'][_0x493db9]['setValue'](this['lightWidth'][_0x493db9]);const _0x2524e9=_0x20a717['transformV'+'ector'](new T(-0xf*-0x1c6+0x6b*0x33+-0x2feb,-0x25c7+-0xfb*-0xc+0x1a03*0x1,0x9a6+0x238d+-0x85*0x57+0.5));this['lightHeigh'+'t'][_0x493db9][0x717+-0x113d+0xa26]=_0x2524e9['x'],this['lightHeigh'+'t'][_0x493db9][0xaf3+0x5*0x425+-0x1fab]=_0x2524e9['y'],this['lightHeigh'+'t'][_0x493db9][0x42e+-0x2b*-0x17+-0x809]=_0x2524e9['z'],this['lightHeigh'+'tId'][_0x493db9]['setValue'](this['lightHeigh'+'t'][_0x493db9]);}['dispatchOm'+'niLight'](_0x43c611,_0xe48eef,_0x1fcaca){const _0x3310f2=_0xe48eef['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x1fcaca]||this['_resolveLi'+'ght'](_0x43c611,_0x1fcaca),this['lightRadiu'+'sId'][_0x1fcaca]['setValue'](_0xe48eef['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x1fcaca]['setValue'](_0xe48eef['_colorLine'+'ar']),_0x3310f2['getTransla'+'tion'](_0xe48eef['_position']),this['lightPos'][_0x1fcaca][0x19be*-0x1+0x16db+0x2e3*0x1]=_0xe48eef['_position']['x'],this['lightPos'][_0x1fcaca][-0x514*0x1+-0x4f*0x23+-0x2*-0x7f1]=_0xe48eef['_position']['y'],this['lightPos'][_0x1fcaca][-0xfcc+0xa85+0x549]=_0xe48eef['_position']['z'],this['lightPosId'][_0x1fcaca]['setValue'](this['lightPos'][_0x1fcaca]),_0xe48eef['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x3310f2,_0x1fcaca),_0xe48eef['castShadow'+'s']){const _0x12a3ce=_0xe48eef['getRenderD'+'ata'](null,0x5d*0x1f+0x218d+0x10*-0x2cd);this['lightShado'+'wMapId'][_0x1fcaca]['setValue'](_0x12a3ce['shadowBuff'+'er']);const _0x3a7c5b=_0xe48eef['_getUnifor'+'mBiasValue'+'s'](_0x12a3ce),_0x385968=_0xe48eef['_shadowRen'+'derParams'];_0x385968['length']=-0x1bba*-0x1+-0x1173+0x47*-0x25,_0x385968[0x16ac+-0x1*0x10af+0x15*-0x49]=_0xe48eef['_shadowRes'+'olution'],_0x385968[0x6fd+0x7*0x423+-0xbfb*0x3]=_0x3a7c5b['normalBias'],_0x385968[0x1ec8*-0x1+-0x2*-0x928+0xc7a]=_0x3a7c5b['bias'],_0x385968[0xe85+-0x85b+0x7*-0xe1]=(-0x148e*-0x1+0x2417*0x1+-0x38a4)/_0xe48eef['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x1fcaca]['setValue'](_0x385968),this['lightShado'+'wIntensity'][_0x1fcaca]['setValue'](_0xe48eef['shadowInte'+'nsity']);const _0x281b34=_0xe48eef['penumbraSi'+'ze']/_0x12a3ce['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x1fcaca]['setValue'](_0x281b34);const _0x4a094e=_0xe48eef['_shadowCam'+'eraParams'];_0x4a094e['length']=0x1*0xa0c+0xc*-0x12f+0x216*0x2,_0x4a094e[-0xab5*0x1+0x515+0x5a0]=-0x1b7*0xb+0x5e*0x53+-0xb9d,_0x4a094e[-0x81a+-0xecc+0x16e7]=_0x12a3ce['shadowCame'+'ra']['_farClip'],_0x4a094e[0x2*-0x215+0x1e5a+0x2*-0xd17]=_0x12a3ce['shadowCame'+'ra']['_nearClip'],_0x4a094e[-0x1*0x51+0x5fb*-0x2+0xc4a]=-0xdc1*0x2+-0x13*0x1b7+0x3c17,this['lightCamer'+'aParamsId'][_0x1fcaca]['setValue'](_0x4a094e);}_0xe48eef['_cookie']&&(this['lightCooki'+'eId'][_0x1fcaca]['setValue'](_0xe48eef['_cookie']),this['lightShado'+'wMatrixId'][_0x1fcaca]['setValue'](_0x3310f2['data']),this['lightCooki'+'eIntId'][_0x1fcaca]['setValue'](_0xe48eef['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x8ea446,_0x50b771,_0x437706){const _0x49d15a=_0x50b771['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x437706]||this['_resolveLi'+'ght'](_0x8ea446,_0x437706),this['lightInAng'+'leId'][_0x437706]['setValue'](_0x50b771['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x437706]['setValue'](_0x50b771['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x437706]['setValue'](_0x50b771['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x437706]['setValue'](_0x50b771['_colorLine'+'ar']),_0x49d15a['getTransla'+'tion'](_0x50b771['_position']),this['lightPos'][_0x437706][-0x2524+0x14*0xe2+-0x137c*-0x1]=_0x50b771['_position']['x'],this['lightPos'][_0x437706][0x10*0x15d+-0x143e*-0x1+-0x5*0x869]=_0x50b771['_position']['y'],this['lightPos'][_0x437706][0x523*0x1+-0x26a*-0x6+-0x139d]=_0x50b771['_position']['z'],this['lightPosId'][_0x437706]['setValue'](this['lightPos'][_0x437706]),_0x50b771['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x49d15a,_0x437706),_0x49d15a['getY'](_0x50b771['_direction'])['mulScalar'](-(0x5af+-0x21*0x4b+0x1*0x3fd)),_0x50b771['_direction']['normalize'](),this['lightDir'][_0x437706][-0x506+-0xa*0x6+0x542]=_0x50b771['_direction']['x'],this['lightDir'][_0x437706][-0x5af+0x59*0x42+-0x1142]=_0x50b771['_direction']['y'],this['lightDir'][_0x437706][-0x1ef3*0x1+-0x1ee0+0x3dd5]=_0x50b771['_direction']['z'],this['lightDirId'][_0x437706]['setValue'](this['lightDir'][_0x437706]),_0x50b771['castShadow'+'s']){const _0x4c3a4a=_0x50b771['getRenderD'+'ata'](null,0x1fda+0x2306*-0x1+0x32c);this['lightShado'+'wMapId'][_0x437706]['setValue'](_0x4c3a4a['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x437706]['setValue'](_0x4c3a4a['shadowMatr'+'ix']['data']);const _0x2e352c=_0x50b771['_getUnifor'+'mBiasValue'+'s'](_0x4c3a4a),_0x4318e2=_0x50b771['_shadowRen'+'derParams'];_0x4318e2['length']=-0x51d*-0x4+0x141*-0x9+-0x927,_0x4318e2[0xdfe+-0x333+-0xacb]=_0x50b771['_shadowRes'+'olution'],_0x4318e2[0x2442+0x1a14+-0x6ed*0x9]=_0x2e352c['normalBias'],_0x4318e2[0x1150+-0x23c3*0x1+0x1275]=_0x2e352c['bias'],_0x4318e2[-0x4a2*-0x6+-0x802+0x1*-0x13c7]=(0x1*-0x2479+-0x1192+-0x360c*-0x1)/_0x50b771['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x437706]['setValue'](_0x4318e2),this['lightShado'+'wIntensity'][_0x437706]['setValue'](_0x50b771['shadowInte'+'nsity']);const _0x4e61d5=_0x50b771['penumbraSi'+'ze']/_0x4c3a4a['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x2b7593=_0x4c3a4a['shadowCame'+'ra']['_fov']*Math['PI']/(0x2352+-0x1*-0x267d+-0x3d9*0x13),_0x125d39=(0xac7*-0x1+-0x78*0x25+0x1c20)/Math['tan'](_0x2b7593/(-0x2048+-0x44c+0x15*0x1be));this['lightShado'+'wSearchAre'+'aId'][_0x437706]['setValue'](_0x4e61d5*_0x125d39);const _0x515953=_0x50b771['_shadowCam'+'eraParams'];_0x515953['length']=-0x70a+0x6fb*-0x4+-0x25*-0xf2,_0x515953[0x872+0x43*0x1f+-0x108f]=0x8*-0x198+0x18*-0x73+0x3*0x7d8,_0x515953[-0x38b*0x6+-0x22a9+0x952*0x6]=_0x4c3a4a['shadowCame'+'ra']['_farClip'],_0x515953[0x1*0x260e+-0x9*0x237+-0x121d]=_0x4c3a4a['shadowCame'+'ra']['_nearClip'],_0x515953[0x2*0x122f+0x2*-0x63a+-0x17e7]=-0x550*-0x6+0x2315+-0x42f5,this['lightCamer'+'aParamsId'][_0x437706]['setValue'](_0x515953);}if(_0x50b771['_cookie']){if(!_0x50b771['castShadow'+'s']){const _0x500829=Ma['evalSpotCo'+'okieMatrix'](_0x50b771);this['lightShado'+'wMatrixId'][_0x437706]['setValue'](_0x500829['data']);}this['lightCooki'+'eId'][_0x437706]['setValue'](_0x50b771['_cookie']),this['lightCooki'+'eIntId'][_0x437706]['setValue'](_0x50b771['cookieInte'+'nsity']),_0x50b771['_cookieTra'+'nsform']&&(_0x50b771['_cookieTra'+'nsformUnif'+'orm'][0x29f+-0x15+-0x28a]=_0x50b771['_cookieTra'+'nsform']['x'],_0x50b771['_cookieTra'+'nsformUnif'+'orm'][-0x933+-0x1ad2+-0x9f*-0x3a]=_0x50b771['_cookieTra'+'nsform']['y'],_0x50b771['_cookieTra'+'nsformUnif'+'orm'][-0xd8c+0x1c1e+-0x1d2*0x8]=_0x50b771['_cookieTra'+'nsform']['z'],_0x50b771['_cookieTra'+'nsformUnif'+'orm'][-0xb65+-0x7*0x501+-0x2e6f*-0x1]=_0x50b771['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x437706]['setValue'](_0x50b771['_cookieTra'+'nsformUnif'+'orm']),_0x50b771['_cookieOff'+'setUniform'][0x19*0x4d+0x16b7+0xac*-0x2d]=_0x50b771['_cookieOff'+'set']['x'],_0x50b771['_cookieOff'+'setUniform'][-0x1c99*-0x1+0x2*-0xc43+-0x1*0x412]=_0x50b771['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x437706]['setValue'](_0x50b771['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x5aa6f2,_0x1f0f04,_0x20234c){let _0x568fc5=_0x20234c;const _0x277236=this['device']['scope'],_0xeb65f5=_0x5aa6f2[Pe],_0x211b07=_0xeb65f5['length'];for(let _0x1a0141=-0x24b*-0xb+-0x222f*0x1+0x25*0x3e;_0x1a0141<_0x211b07;_0x1a0141++){const _0x16d4f6=_0xeb65f5[_0x1a0141];_0x16d4f6['mask']&_0x1f0f04&&(this['dispatchOm'+'niLight'](_0x277236,_0x16d4f6,_0x568fc5),_0x568fc5++);}const _0x256f95=_0x5aa6f2[Re],_0x1a454d=_0x256f95['length'];for(let _0x526439=-0xc76+0x21*-0xaf+-0x5*-0x701;_0x526439<_0x1a454d;_0x526439++){const _0x52b00a=_0x256f95[_0x526439];_0x52b00a['mask']&_0x1f0f04&&(this['dispatchSp'+'otLight'](_0x277236,_0x52b00a,_0x568fc5),_0x568fc5++);}}['renderForw'+'ardPrepare'+'Materials'](_0x101dbc,_0x9cd5ce,_0x5e29c5,_0x17d58,_0x31895e,_0x1c8224){const _0x30adde=_0x101dbc['fog']??this['scene']['fog'],_0x5f23f1=_0x101dbc['shaderPara'+'ms'];_0x5f23f1['fog']=_0x30adde['type'],_0x5f23f1['srgbRender'+'Target']=(_0x9cd5ce==null?void(-0x3*-0x4f7+0x2*0x1c3+-0x73*0x29):_0x9cd5ce['isColorBuf'+'ferSrgb'](-0x1*-0x1e+-0x105a+0x1*0x103c))??!(0xb57+0x3*0x659+-0x1e61);const _0xd4748e=(_0x16eac9,_0x19cce1,_0x1f1082,_0x486c70)=>{br['drawCalls']['push'](_0x16eac9),br['shaderInst'+'ances']['push'](_0x19cce1),br['isNewMater'+'ial']['push'](_0x1f1082),br['lightMaskC'+'hanged']['push'](_0x486c70);};br['clear']();const _0x390a0b=this['device'],_0x46a3c9=this['scene'],_0x441447=_0x46a3c9['clusteredL'+'ightingEna'+'bled'],_0xdb0dac=(_0x31895e==null?void(-0x101*-0x14+0x1ba3+-0x2fb7):_0x31895e['getLightHa'+'sh'](_0x441447))??-0x2d*-0x97+0x2073*-0x1+-0x12*-0x54;let _0xed6f73=null,_0x27c8a8,_0x2bf277;const _0x221382=_0x5e29c5['length'];for(let _0x45020f=0x1c*0x87+0x1*-0x14cb+0x607;_0x45020f<_0x221382;_0x45020f++){const _0x3142d2=_0x5e29c5[_0x45020f];if(_0x101dbc===_i['skipRender'+'Camera']){if(_i['_skipRende'+'rCounter']>=_i['skipRender'+'After'])continue;_i['_skipRende'+'rCounter']++;}if(_0x31895e){if(_0x31895e['_skipRende'+'rCounter']>=_0x31895e['skipRender'+'After'])continue;_0x31895e['_skipRende'+'rCounter']++;}_0x3142d2['ensureMate'+'rial'](_0x390a0b);const _0x28bcfd=_0x3142d2['material'],_0x38236d=_0x3142d2['_shaderDef'+'s'],_0xc9f555=_0x3142d2['mask'];_0x28bcfd&&_0x28bcfd===_0xed6f73&&_0x38236d!==_0x27c8a8&&(_0xed6f73=null),_0x28bcfd!==_0xed6f73&&(this['_materialS'+'witches']++,_0x28bcfd['_scene']=_0x46a3c9,_0x28bcfd['dirty']&&(G['pushGpuMar'+'ker'](_0x390a0b,'Node:\x20'+_0x3142d2['node']['name']+(',\x20Material'+':\x20')+_0x28bcfd['name']),_0x28bcfd['updateUnif'+'orms'](_0x390a0b,_0x46a3c9),_0x28bcfd['dirty']=!(-0x1a25+-0x1598+0x3*0xfea),G['popGpuMark'+'er'](_0x390a0b)));const _0x4f4497=_0x3142d2['getShaderI'+'nstance'](_0x1c8224,_0xdb0dac,_0x46a3c9,_0x5f23f1,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x17d58);_0xd4748e(_0x3142d2,_0x4f4497,_0x28bcfd!==_0xed6f73,!_0xed6f73||_0xc9f555!==_0x2bf277),_0xed6f73=_0x28bcfd,_0x27c8a8=_0x38236d,_0x2bf277=_0xc9f555;}return br;}['renderForw'+'ardInterna'+'l'](_0x29ba0c,_0x58b7ef,_0x54c119,_0x514681,_0x182de9,_0x2d62d6){const _0x22a9e6=this['device'],_0x2c1a87=this['scene'],_0x394c6f=-0x24+-0xb*-0x299+-0x1c6e<<_0x514681,_0x1f4112=_0x2d62d6?-(0xca4*-0x2+-0x11e7+-0xacc*-0x4):-0x2533*0x1+0x1b75+0x9bf,_0x50ff92=_0x2c1a87['clusteredL'+'ightingEna'+'bled'],_0x4d1953=_0x58b7ef['drawCalls']['length'];for(let _0xcf3f61=-0x243*0xf+0x1b8*0xf+0x2b7*0x3;_0xcf3f61<_0x4d1953;_0xcf3f61++){const _0x42e8ec=_0x58b7ef['drawCalls'][_0xcf3f61],_0x29dc4c=_0x58b7ef['isNewMater'+'ial'][_0xcf3f61],_0x26c087=_0x58b7ef['lightMaskC'+'hanged'][_0xcf3f61],_0x560c62=_0x58b7ef['shaderInst'+'ances'][_0xcf3f61],_0x2d3b64=_0x42e8ec['material'],_0x126c64=_0x42e8ec['mask'];if(_0x29dc4c){if(_0x22a9e6['setShader'](_0x560c62['shader'],!(-0x1a3f+0x2656+-0xc16)),_0x2d3b64['setParamet'+'ers'](_0x22a9e6),_0x26c087){const _0x3b6f4f=this['dispatchDi'+'rectLights'](_0x54c119[oe],_0x126c64,_0x29ba0c);_0x50ff92||this['dispatchLo'+'calLights'](_0x54c119,_0x126c64,_0x3b6f4f);}this['alphaTestI'+'d']['setValue'](_0x2d3b64['alphaTest']),_0x22a9e6['setBlendSt'+'ate'](_0x2d3b64['blendState']),_0x22a9e6['setDepthSt'+'ate'](_0x2d3b64['depthState']),_0x22a9e6['setAlphaTo'+'Coverage'](_0x2d3b64['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x22a9e6,'Node:\x20'+_0x42e8ec['node']['name']+(',\x20Material'+':\x20')+_0x2d3b64['name']),this['setupCullM'+'ode'](_0x29ba0c['_cullFaces'],_0x1f4112,_0x42e8ec);const _0x5229af=_0x42e8ec['stencilFro'+'nt']??_0x2d3b64['stencilFro'+'nt'],_0x2f4da0=_0x42e8ec['stencilBac'+'k']??_0x2d3b64['stencilBac'+'k'];_0x22a9e6['setStencil'+'State'](_0x5229af,_0x2f4da0),_0x42e8ec['setParamet'+'ers'](_0x22a9e6,_0x394c6f),_0x22a9e6['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x42e8ec['id']);const _0x31d352=_0x42e8ec['mesh'];this['setVertexB'+'uffers'](_0x22a9e6,_0x31d352),this['setMorphin'+'g'](_0x22a9e6,_0x42e8ec['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x22a9e6,_0x42e8ec),this['setupMeshU'+'niformBuff'+'ers'](_0x560c62,_0x42e8ec);const _0x55b9d3=_0x42e8ec['renderStyl'+'e'];if(_0x22a9e6['setIndexBu'+'ffer'](_0x31d352['indexBuffe'+'r'][_0x55b9d3]),_0x182de9==null||_0x182de9(_0x42e8ec,_0xcf3f61),_0x29ba0c['xr']&&_0x29ba0c['xr']['session']&&_0x29ba0c['xr']['views']['list']['length']){const _0x12c60f=_0x29ba0c['xr']['views'];for(let _0x443820=0x63e+-0x1f13+0x18d5;_0x443820<_0x12c60f['list']['length'];_0x443820++){const _0x3f2229=_0x12c60f['list'][_0x443820];_0x22a9e6['setViewpor'+'t'](_0x3f2229['viewport']['x'],_0x3f2229['viewport']['y'],_0x3f2229['viewport']['z'],_0x3f2229['viewport']['w']),this['projId']['setValue'](_0x3f2229['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x3f2229['projMat']['data']),this['viewId']['setValue'](_0x3f2229['viewOffMat']['data']),this['viewInvId']['setValue'](_0x3f2229['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x3f2229['viewMat3']['data']),this['viewProjId']['setValue'](_0x3f2229['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x3f2229['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x443820),_0x443820===0xc7*0x15+0x1*0x709+-0x34*0x73?this['drawInstan'+'ce'](_0x22a9e6,_0x42e8ec,_0x31d352,_0x55b9d3,!(-0x230e+-0x3*0xbd2+0x4684)):this['drawInstan'+'ce2'](_0x22a9e6,_0x42e8ec,_0x31d352,_0x55b9d3),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x22a9e6,_0x42e8ec,_0x31d352,_0x55b9d3,!(0x1*-0x15be+-0x105c+0x261a)),this['_forwardDr'+'awCalls']++;_0xcf3f61<_0x4d1953-(-0xcce*-0x2+-0x1*-0x599+-0x1f34*0x1)&&!_0x58b7ef['isNewMater'+'ial'][_0xcf3f61+(0x1ea+-0x2e5+-0x1*-0xfc)]&&_0x2d3b64['setParamet'+'ers'](_0x22a9e6,_0x42e8ec['parameters']),G['popGpuMark'+'er'](_0x22a9e6);}}['renderForw'+'ard'](_0x19c75e,_0x1b7a73,_0xba1b64,_0x559c99,_0x1446bb,_0x479d9e,_0x1b6461,_0x1b8a82){const _0x540b20=ne(),_0xc9a5bd=this['renderForw'+'ardPrepare'+'Materials'](_0x19c75e,_0x1b7a73,_0xba1b64,_0x559c99,_0x1b6461,_0x1446bb);this['renderForw'+'ardInterna'+'l'](_0x19c75e,_0xc9a5bd,_0x559c99,_0x1446bb,_0x479d9e,_0x1b8a82),br['clear'](),this['_forwardTi'+'me']+=ne()-_0x540b20;}['renderForw'+'ardLayer'](_0x106d24,_0x3bcb57,_0x2745a5,_0x2e23ed,_0x5a0d5e,_0x4df946,_0x35ae05={}){const {scene:_0x37fa67,device:_0x5a36a6}=this,_0x590f73=_0x37fa67['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x106d24,_0x3bcb57);let _0x5c12b8,_0xd99c45;if(_0x2745a5){const _0x4d74bd=ne();_0x2745a5['sortVisibl'+'e'](_0x106d24,_0x2e23ed),this['_sortTime']+=ne()-_0x4d74bd;const _0x3662c9=_0x2745a5['getCulledI'+'nstances'](_0x106d24);_0x5c12b8=_0x2e23ed?_0x3662c9['transparen'+'t']:_0x3662c9['opaque'],_0x37fa67['immediate']['onPreRende'+'rLayer'](_0x2745a5,_0x5c12b8,_0x2e23ed),_0x2745a5['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x37fa67['ambientLig'+'ht'],_0x2745a5['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0xd99c45=_0x2745a5['splitLight'+'s'];}else _0x5c12b8=_0x35ae05['meshInstan'+'ces'],_0xd99c45=_0x35ae05['splitLight'+'s']??OM;if(v['assert'](_0x5c12b8,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x590f73){const _0x2e7764=_0x35ae05['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x2e7764['activate'](),_0x2745a5&&!this['clustersDe'+'bugRendere'+'d']&&_0x37fa67['lighting']['debugLayer']===_0x2745a5['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0xef7+-0x2e*0x7f+-0x7db*-0x1),Vu['render'](_0x2e7764,this['scene']));}_0x37fa67['_activeCam'+'era']=_0x106d24;const _0x432d20=_0x106d24['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x432d20);const _0x3c0eb4=this['setCameraU'+'niforms'](_0x106d24,_0x3bcb57);_0x5a36a6['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x4df946,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x3c0eb4);const _0x3fa680=_0x35ae05['clearColor']??!(0x1*0xfa7+0x1601*0x1+0xbd*-0x33),_0x12c2a1=_0x35ae05['clearDepth']??!(-0x78*-0x3d+0xbab+-0x2842),_0x51ea39=_0x35ae05['clearStenc'+'il']??!(-0x2502+0xa3*-0x27+-0x7bb*-0x8);(_0x3fa680||_0x12c2a1||_0x51ea39)&&this['clear'](_0x106d24,_0x3fa680,_0x12c2a1,_0x51ea39);const _0x479d7f=!!(_0x106d24['_flipFaces']^(_0x3bcb57==null?void(-0x2557+0x1cd5+0x882):_0x3bcb57['flipY'])),_0xa942f0=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x106d24,_0x3bcb57,_0x5c12b8,_0xd99c45,_0x5a0d5e,null,_0x2745a5,_0x479d7f),_0x2745a5&&(_0x2745a5['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0xa942f0);}['setFogCons'+'tants'](_0x4fc627){if(_0x4fc627['type']!==Fa){Wi['linear'](_0x4fc627['color']);const _0x4b280e=this['fogColor'];_0x4b280e[-0x3*-0x761+-0x264f+0x102c]=Wi['r'],_0x4b280e[-0x114b*-0x1+0x230e*0x1+-0x3458]=Wi['g'],_0x4b280e[-0x1246+-0x1f4*-0x14+-0x14c8]=Wi['b'],this['fogColorId']['setValue'](_0x4b280e),_0x4fc627['type']===zb?(this['fogStartId']['setValue'](_0x4fc627['start']),this['fogEndId']['setValue'](_0x4fc627['end'])):this['fogDensity'+'Id']['setValue'](_0x4fc627['density']);}}['setSceneCo'+'nstants'](){const _0x39aa6e=this['scene'];this['dispatchGl'+'obalLights'](_0x39aa6e);const _0x4f5d50=this['device'];this['_screenSiz'+'e'][0x45*0x81+-0x105f+-0x3ae*0x5]=_0x4f5d50['width'],this['_screenSiz'+'e'][-0x396+0x2583*-0x1+-0x2*-0x148d]=_0x4f5d50['height'],this['_screenSiz'+'e'][0x18d+0xf9e+-0x1129]=(-0x1*0xbf6+-0x694+-0x128b*-0x1)/_0x4f5d50['width'],this['_screenSiz'+'e'][-0xf5c+0x2e*-0x6a+-0x59*-0x63]=(-0x5ed*-0x6+-0x1d86+-0x607)/_0x4f5d50['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x1cb4e7,_0x579325){const _0x32cb11=this['scene'];if(_0x1cb4e7['reset'](),_0x32cb11['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x53aa42,cookiesEnabled:_0x480bfc}=_0x32cb11['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x1cb4e7,_0x53aa42,_0x480bfc,this['lights'],this['localLight'+'s']),_0x1cb4e7['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x1cb4e7,this['localLight'+'s']);let _0x59ce81=0xe3*0x1d+0x1de2*-0x1+-0x61*-0xb,_0x3d7263=!(0x1cb5*0x1+0x1db9+0x9*-0x67e),_0x2faa0b=null;const _0x4c6aef=_0x579325['_renderAct'+'ions'];for(let _0x556239=_0x59ce81;_0x556239<_0x4c6aef['length'];_0x556239++){const _0x5f3726=_0x4c6aef[_0x556239],{layer:_0x63f835,camera:_0x24db85}=_0x5f3726;if(_0x5f3726['useCameraP'+'asses'])v['call'](()=>{_0x24db85['postEffect'+'s']['effects']['length']>0x565+0x82+-0x1*0x5e7&&v['warnOnce']('Camera\x20\x27'+_0x24db85['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x24db85['camera']['renderPass'+'es']['forEach'](_0x46c244=>{_0x1cb4e7['addRenderP'+'ass'](_0x46c244);});else{const _0x31e169=_0x63f835['id']===Xt,_0x1edbfc=_0x31e169&&(_0x24db85['renderScen'+'eColorMap']||_0x24db85['renderScen'+'eDepthMap']);_0x3d7263&&(_0x3d7263=!(-0x2533+-0x11e6+0x1b8d*0x2),_0x59ce81=_0x556239,_0x2faa0b=_0x5f3726['renderTarg'+'et']);const _0x4134db=_0x4c6aef[_0x556239+(-0x1e44+0x1*-0x14b5+0x32fa)],_0x4f0596=(_0x4134db?!_0x4134db['useCameraP'+'asses']&&_0x4134db['layer']['id']===Xt:!(-0x3c6+0x9*0x18a+0xa13*-0x1))&&(_0x24db85['renderScen'+'eColorMap']||_0x24db85['renderScen'+'eDepthMap']),_0x3bc49c=_0x4134db?_0x4134db['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x4134db['camera']['camera']):!(0x2546+0x40c+-0x2951);if(!_0x4134db||_0x4134db['renderTarg'+'et']!==_0x2faa0b||_0x3bc49c||_0x4f0596||_0x1edbfc){if(_0x31e169&&_0x59ce81===_0x556239||this['addMainRen'+'derPass'](_0x1cb4e7,_0x579325,_0x2faa0b,_0x59ce81,_0x556239),_0x31e169){if(_0x24db85['renderScen'+'eColorMap']){const _0x5d666d=_0x24db85['camera']['renderPass'+'ColorGrab'];_0x5d666d['source']=_0x24db85['renderTarg'+'et'],_0x1cb4e7['addRenderP'+'ass'](_0x5d666d);}_0x24db85['renderScen'+'eDepthMap']&&_0x1cb4e7['addRenderP'+'ass'](_0x24db85['camera']['renderPass'+'DepthGrab']);}if(_0x5f3726['triggerPos'+'tprocess']&&(_0x24db85!=null&&_0x24db85['onPostproc'+'essing'])){const _0x363160=new FM(this['device'],this,_0x5f3726);_0x1cb4e7['addRenderP'+'ass'](_0x363160);}_0x3d7263=!(-0x108d*-0x1+0xadb+0x6da*-0x4);}}}}['addMainRen'+'derPass'](_0x4507c5,_0x4b1a5b,_0x2650d1,_0x346643,_0x58d1cf){const _0x1ae2d8=new LM(this['device'],_0x4b1a5b,this['scene'],this);_0x1ae2d8['init'](_0x2650d1);const _0x8ae798=_0x4b1a5b['_renderAct'+'ions'];for(let _0x225dee=_0x346643;_0x225dee<=_0x58d1cf;_0x225dee++)_0x1ae2d8['addRenderA'+'ction'](_0x8ae798[_0x225dee]);_0x4507c5['addRenderP'+'ass'](_0x1ae2d8);}['update'](_0x6cf049){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x6cf049),this['collectLig'+'hts'](_0x6cf049),this['beginFrame'](_0x6cf049),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x6cf049),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(_i,'skipRender'+'Camera',null),c(_i,'_skipRende'+'rCounter',0x9*-0x1ac+-0x1a75*-0x1+-0xb69*0x1),c(_i,'skipRender'+'After',0x2*-0xe68+0xd9*-0x25+-0x4f*-0xc3);let Gh=_i,zd=0x1ac*-0x10+-0x2026+0x3ae6;const ja=[],Ol=new Set();function NM(_0x2af884,_0x4288cf){return _0x2af884['drawOrder']-_0x4288cf['drawOrder'];}function zM(_0x32a31a,_0x3760a3){const _0x200f41=_0x32a31a['_key'][Ei],_0x2f13de=_0x3760a3['_key'][Ei];return _0x200f41===_0x2f13de&&_0x32a31a['mesh']&&_0x3760a3['mesh']?_0x3760a3['mesh']['id']-_0x32a31a['mesh']['id']:_0x2f13de-_0x200f41;}function UM(_0x109bb6,_0x40b9d2){return _0x40b9d2['zdist']-_0x109bb6['zdist'];}function VM(_0x36b751,_0x1df7fa){return _0x36b751['zdist']-_0x1df7fa['zdist'];}const GM=[null,NM,zM,UM,VM];class HM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Lr{constructor(_0x176e06={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(-0x4a5+0x6*0x50c+-0x19a3)),c(this,'requiresLi'+'ghtCube',!(0x7c5+-0x205b*0x1+0x1897)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(0xaac+0x12c2*0x2+-0x302f)),(_0x176e06['id']!==void(-0x962*0x2+0xa*0x20b+-0x1aa)?(this['id']=_0x176e06['id'],zd=Math['max'](this['id']+(-0x916+0x154*0x5+0x273),zd)):this['id']=zd++,this['name']=_0x176e06['name'],this['_enabled']=_0x176e06['enabled']??!(0x43a+0x1292+-0x16cc),this['_refCounte'+'r']=this['_enabled']?0x4cf*-0x2+-0x169e+0x203d:0x5a9+0x27f*-0xc+-0x9*-0x2b3,this['opaqueSort'+'Mode']=_0x176e06['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x176e06['transparen'+'tSortMode']??Bm,_0x176e06['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x176e06['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x176e06['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x176e06['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x176e06['clearStenc'+'ilBuffer'],this['onEnable']=_0x176e06['onEnable'],this['onDisable']=_0x176e06['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=-0x165b+-0x9*-0x10d+0xce6*0x1,this['_lightHash'+'Dirty']=!(0x109e+0x2610+-0x36ad),this['_lightIdHa'+'sh']=-0x1d0d*-0x1+0x1*0x14ec+-0x31f9,this['_lightIdHa'+'shDirty']=!(0x99e*0x2+0x382+0x1*-0x16bd),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x69*0x49+0x1ec1+-0xd0,this['_renderTim'+'e']=-0xc22*-0x1+-0x243a+0x1818,this['_forwardDr'+'awCalls']=0x31*-0x2d+-0xd0e*0x2+0x22b9*0x1,this['_shadowDra'+'wCalls']=0x100e+-0x192+-0xe7c,this['_shaderVer'+'sion']=-(-0x1626+0x11da+0x16f*0x3));}set['enabled'](_0x9640fa){_0x9640fa!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0x2*0x1154+-0x17*-0x8e+-0x33*0xee),this['_enabled']=_0x9640fa,_0x9640fa?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x1fe021){this['_clearColo'+'rBuffer']=_0x1fe021,this['_dirtyComp'+'osition']=!(0x818*0x4+-0x2*0xb7b+0x4b5*-0x2);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x22b2d5){this['_clearDept'+'hBuffer']=_0x22b2d5,this['_dirtyComp'+'osition']=!(-0x2616+0x1d5b+0x1*0x8bb);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x144afc){this['_clearSten'+'cilBuffer']=_0x144afc,this['_dirtyComp'+'osition']=!(0x21b9*0x1+0x50f+-0x26c8);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>0x4*0x4b2+0x2192+0x1a2d*-0x2;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x183c+0x2ba+-0x1af6&&(this['_enabled']=!(-0x1879+0x1*0x24a1+-0xc28),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x1955+-0xac+-0x3*0x838)this['_enabled']=!(0x5*0x2cb+0x198d+-0x2783),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x21ff+-0xa6*0x2b+0x3de1){v['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x4b2530,_0x5b656d){const _0x29c48a=this['meshInstan'+'ces'],_0x2f3d14=this['meshInstan'+'cesSet'];for(let _0x1582d6=0x2f*0x1b+-0x3b*-0x19+-0xe*0xc4;_0x1582d6<_0x4b2530['length'];_0x1582d6++){const _0x4206df=_0x4b2530[_0x1582d6];_0x2f3d14['has'](_0x4206df)||(_0x29c48a['push'](_0x4206df),_0x2f3d14['add'](_0x4206df),Ol['add'](_0x4206df['material']));}if(_0x5b656d||this['addShadowC'+'asters'](_0x4b2530),Ol['size']>-0x1*-0x1f03+-0x1d44+-0x3*0x95){const _0x239a7a=this['_shaderVer'+'sion'];Ol['forEach'](_0x376981=>{_0x239a7a>=-0x1131*-0x2+-0xa63*0x1+0x1*-0x17ff&&_0x376981['_shaderVer'+'sion']!==_0x239a7a&&(_0x376981['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant']&&_0x376981['clearVaria'+'nts'](),_0x376981['_shaderVer'+'sion']=_0x239a7a);}),Ol['clear']();}}['removeMesh'+'Instances'](_0x1b142d,_0x105263){const _0x2a7aea=this['meshInstan'+'ces'],_0x10c7dc=this['meshInstan'+'cesSet'];for(let _0x29177e=-0x1a*-0x12a+0x9c0*0x3+-0x3b84;_0x29177e<_0x1b142d['length'];_0x29177e++){const _0x1732e0=_0x1b142d[_0x29177e];if(_0x10c7dc['has'](_0x1732e0)){_0x10c7dc['delete'](_0x1732e0);const _0x18e10a=_0x2a7aea['indexOf'](_0x1732e0);_0x18e10a>=0xf96+0x236+0x11cc*-0x1&&_0x2a7aea['splice'](_0x18e10a,0x1e5f+0x1*0x4fd+-0x50d*0x7);}}_0x105263||this['removeShad'+'owCasters'](_0x1b142d);}['addShadowC'+'asters'](_0x106c18){const _0x1f0829=this['shadowCast'+'ers'],_0x4c45a7=this['shadowCast'+'ersSet'];for(let _0x471e58=0x2f5*0x6+-0xb5a+0x4*-0x199;_0x471e58<_0x106c18['length'];_0x471e58++){const _0x352946=_0x106c18[_0x471e58];_0x352946['castShadow']&&!_0x4c45a7['has'](_0x352946)&&(_0x4c45a7['add'](_0x352946),_0x1f0829['push'](_0x352946));}}['removeShad'+'owCasters'](_0x321e0b){const _0x4098c9=this['shadowCast'+'ers'],_0x11f170=this['shadowCast'+'ersSet'];for(let _0x4c3b56=0x1baf+-0x2348+0x799;_0x4c3b56<_0x321e0b['length'];_0x4c3b56++){const _0x31445d=_0x321e0b[_0x4c3b56];if(_0x11f170['has'](_0x31445d)){_0x11f170['delete'](_0x31445d);const _0x1559b4=_0x4098c9['indexOf'](_0x31445d);_0x1559b4>=-0x18fe+0x2c+-0x3*-0x846&&_0x4098c9['splice'](_0x1559b4,-0x25*-0xc9+0x106+-0x1e12);}}}['clearMeshI'+'nstances'](_0x3b43c4=!(0x12ac+0x1f51+0x1*-0x31fc)){this['meshInstan'+'ces']['length']=-0x1a*-0x56+0x723+-0xfdf,this['meshInstan'+'cesSet']['clear'](),_0x3b43c4||(this['shadowCast'+'ers']['length']=-0xd58+0x19c7+-0xc6f,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(0x1769+-0x20c1+0x1*0x958),this['_lightIdHa'+'shDirty']=!(-0x19bb+0xa*-0x1c6+0x2b77),this['_splitLigh'+'tsDirty']=!(0x160c+0x5*-0x1a8+-0xdc4);}['hasLight'](_0x89bde4){return this['_lightsSet']['has'](_0x89bde4);}['addLight'](_0xf99a7a){const _0x5ad7c8=_0xf99a7a['light'];this['_lightsSet']['has'](_0x5ad7c8)||(this['_lightsSet']['add'](_0x5ad7c8),this['_lights']['push'](_0x5ad7c8),this['markLights'+'Dirty']()),_0x5ad7c8['type']!==oe&&this['_clustered'+'LightsSet']['add'](_0x5ad7c8);}['removeLigh'+'t'](_0x3fc746){const _0x5a1e19=_0x3fc746['light'];this['_lightsSet']['has'](_0x5a1e19)&&(this['_lightsSet']['delete'](_0x5a1e19),this['_lights']['splice'](this['_lights']['indexOf'](_0x5a1e19),0x2573*-0x1+0xa*-0x383+0x4892),this['markLights'+'Dirty']()),_0x5a1e19['type']!==oe&&this['_clustered'+'LightsSet']['delete'](_0x5a1e19);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x294d9e=>_0x294d9e['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=0x2*0x1114+-0x1*-0x19+-0x2241,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0x1dc3*-0x1+0x1*-0x15cb+-0x338f*-0x1);const _0x7314ae=this['_splitLigh'+'ts'];for(let _0xb95e2e=0x11*0x1d0+0x183a+-0x370a;_0xb95e2e<_0x7314ae['length'];_0xb95e2e++)_0x7314ae[_0xb95e2e]['length']=0x95f*-0x1+0xfae+-0x64f;const _0x4bfb8f=this['_lights'];for(let _0x5baf2d=-0x1*0x5ec+-0x1363*-0x2+-0x20da;_0x5baf2d<_0x4bfb8f['length'];_0x5baf2d++){const _0x59c083=_0x4bfb8f[_0x5baf2d];_0x59c083['enabled']&&_0x7314ae[_0x59c083['_type']]['push'](_0x59c083);}for(let _0x39efc6=0x5e1+-0xf2f+0x94e;_0x39efc6<_0x7314ae['length'];_0x39efc6++)_0x7314ae[_0x39efc6]['sort']((_0x3f3529,_0x2173db)=>_0x3f3529['key']-_0x2173db['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x591ce2,_0x295c43,_0x2c30cc){let _0x5054ad=0x753*-0x5+-0xd6b+0x320a;const _0x2a4cd9=this['_lights'];for(let _0x4a65e6=-0x40f*0x3+0x2*0x1139+-0x1645*0x1;_0x4a65e6<_0x2a4cd9['length'];_0x4a65e6++){const _0x4e6201=_0x2a4cd9[_0x4a65e6]['type']!==oe;(_0x591ce2&&_0x4e6201||_0x295c43&&!_0x4e6201)&&ja['push'](_0x2c30cc?_0x2a4cd9[_0x4a65e6]['id']:_0x2a4cd9[_0x4a65e6]['key']);}return ja['length']>-0x10*0x137+-0xd60+0x20d0&&(ja['sort'](),_0x5054ad=Zy(ja),ja['length']=-0x1e17*-0x1+-0xce3+-0x16f*0xc),_0x5054ad;}['getLightHa'+'sh'](_0x59eb19){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0x1a*-0x31+0x1339+-0xe3e*0x1),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x59eb19,!(0x2*-0xe95+-0x167c+0x33a6),!(-0x15d7+0x1f03+-0x92b))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0x62d+-0x1d82*0x1+0x23b0),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(0xf00+-0x6df*-0x1+-0x15df),!(0x1*0x1a17+0x26f9+-0x410f),!(0x13d1*0x1+0xa6b+0x3c*-0x81))),this['_lightIdHa'+'sh'];}['addCamera'](_0x2fb428){this['camerasSet']['has'](_0x2fb428['camera'])||(this['camerasSet']['add'](_0x2fb428['camera']),this['cameras']['push'](_0x2fb428),this['_dirtyComp'+'osition']=!(0xd2c+-0x2686+0x195a));}['removeCame'+'ra'](_0x5cb366){if(this['camerasSet']['has'](_0x5cb366['camera'])){this['camerasSet']['delete'](_0x5cb366['camera']);const _0x33b537=this['cameras']['indexOf'](_0x5cb366);this['cameras']['splice'](_0x33b537,-0x3e*0x18+0x107*0x10+-0xa9f),this['_dirtyComp'+'osition']=!(0x3*-0x7e2+0x23c1+-0x409*0x3);}}['clearCamer'+'as'](){this['cameras']['length']=0x20b6+0x1580+-0x3636,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x253+0x294+-0xd*0x5);}['_calculate'+'SortDistan'+'ces'](_0x28815c,_0x4d4570,_0x4103e6,_0x411a72){for(let _0x267e46=0x752+0x1*0x2069+-0x27bb*0x1;_0x267e46<_0x4d4570;_0x267e46++){const _0xe5ac4=_0x28815c[_0x267e46];if(_0xe5ac4['layer']<=Vb)continue;if(_0xe5ac4['calculateS'+'ortDistanc'+'e']){_0xe5ac4['zdist']=_0xe5ac4['calculateS'+'ortDistanc'+'e'](_0xe5ac4,_0x4103e6,_0x411a72);continue;}const _0x3b2124=_0xe5ac4['aabb']['center'],_0x4da8bb=_0x3b2124['x']-_0x4103e6['x'],_0x50069=_0x3b2124['y']-_0x4103e6['y'],_0x592663=_0x3b2124['z']-_0x4103e6['z'];_0xe5ac4['zdist']=_0x4da8bb*_0x411a72['x']+_0x50069*_0x411a72['y']+_0x592663*_0x411a72['z'];}}['getCulledI'+'nstances'](_0x3880e8){let _0x14951e=this['_visibleIn'+'stances']['get'](_0x3880e8);return _0x14951e||(_0x14951e=new HM(),this['_visibleIn'+'stances']['set'](_0x3880e8,_0x14951e)),_0x14951e;}['sortVisibl'+'e'](_0x80acaf,_0x1f5072){const _0x578bdd=_0x1f5072?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x578bdd===dh)return;const _0x55d821=this['getCulledI'+'nstances'](_0x80acaf),_0x112402=_0x1f5072?_0x55d821['transparen'+'t']:_0x55d821['opaque'],_0x30ef8b=_0x80acaf['node'];if(_0x578bdd===ew){const _0x338848=_0x30ef8b['getPositio'+'n'](),_0x1516d9=_0x30ef8b['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x112402,_0x112402['length'],_0x338848,_0x1516d9),this['customSort'+'Callback']&&_0x112402['sort'](this['customSort'+'Callback']);}else{if(_0x578bdd===Bm||_0x578bdd===Jb){const _0x1fa050=_0x30ef8b['getPositio'+'n'](),_0x2ec0e6=_0x30ef8b['forward'];this['_calculate'+'SortDistan'+'ces'](_0x112402,_0x112402['length'],_0x1fa050,_0x2ec0e6);}_0x112402['sort'](GM[_0x578bdd]);}}}const $M=(_0x22956c,_0x4f8b0a)=>_0x22956c['priority']-_0x4f8b0a['priority'],No=_0x169fde=>_0x169fde['sort']($M);class S_ extends ce{constructor(_0x17a338='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(0x13cc+-0x17d2+-0x407*-0x1)),(this['name']=_0x17a338,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x440034=>_0x440034['destroy']()),this['_renderAct'+'ions']['length']=-0x10*-0xd7+-0x626+-0x74a;}['_update'](){const _0xbf7b8d=this['layerList']['length'];if(!this['_dirty']){for(let _0x3594ee=-0x1bf*-0x6+0x690+-0x110a;_0x3594ee<_0xbf7b8d;_0x3594ee++)if(this['layerList'][_0x3594ee]['_dirtyComp'+'osition']){this['_dirty']=!(0x23fa+0xd03+-0x30fd*0x1);break;}}if(this['_dirty']){this['_dirty']=!(0x1*0x2228+0x1ea7+0x46*-0xed),this['cameras']['length']=-0x5b*-0x25+0x4b1*-0x7+0x13b0;for(let _0x1eae30=0x3*0xc79+-0x1b*0x8f+-0x772*0x3;_0x1eae30<_0xbf7b8d;_0x1eae30++){const _0xb157d6=this['layerList'][_0x1eae30];_0xb157d6['_dirtyComp'+'osition']=!(-0x7*-0x2c5+-0x1ab8+0x756);for(let _0x3200d0=0x13f7+-0x10b+-0x12ec;_0x3200d0<_0xb157d6['cameras']['length'];_0x3200d0++){const _0xc471cb=_0xb157d6['cameras'][_0x3200d0];this['cameras']['indexOf'](_0xc471cb)<0x19ae+0x209f+-0x3a4d&&this['cameras']['push'](_0xc471cb);}}this['cameras']['length']>-0x1306+-0x203*-0x1+-0xf2*-0x12&&No(this['cameras']);let _0x86b3d0=0x1858+0x2204+0x1d2e*-0x2;this['destroyRen'+'derActions']();for(let _0x3a1896=-0x2203+-0x252f+0x4732;_0x3a1896<this['cameras']['length'];_0x3a1896++){const _0x53fb2b=this['cameras'][_0x3a1896];if(_0x53fb2b['camera']['renderPass'+'es']['length']>0x26ba*-0x1+0x132d+0x138d){this['addDummyRe'+'nderAction'](_0x86b3d0,_0x53fb2b),_0x86b3d0++;continue;}let _0x328126=!(0x104b*0x2+-0x221a+0x184);const _0x2bf78b=_0x86b3d0;let _0x4c1573=null,_0x10413b=!(-0x3*0xaad+0x1f56+0xb2);for(let _0x293b65=-0x1*-0x1cdd+0x677*-0x3+0x4*-0x25e;_0x293b65<_0xbf7b8d;_0x293b65++){const _0x2baf5d=this['layerList'][_0x293b65];if(_0x2baf5d['enabled']&&this['subLayerEn'+'abled'][_0x293b65]&&_0x2baf5d['cameras']['length']>0x21b5+0xf77+-0x312c&&_0x53fb2b['layers']['indexOf'](_0x2baf5d['id'])>=-0x36d+0x2*0x983+-0xb*0x16b){!_0x10413b&&_0x2baf5d['id']===_0x53fb2b['disablePos'+'tEffectsLa'+'yer']&&(_0x10413b=!(-0xc0d*0x3+0x869*-0x3+0x3d62),_0x4c1573&&(_0x4c1573['triggerPos'+'tprocess']=!(0x1*-0x2510+-0xbd*0x1b+0x1*0x38ff)));const _0x446468=this['subLayerLi'+'st'][_0x293b65];_0x4c1573=this['addRenderA'+'ction'](_0x86b3d0,_0x2baf5d,_0x446468,_0x53fb2b,_0x328126,_0x10413b),_0x86b3d0++,_0x328126=!(-0x125c+-0x86*0x23+0x24af);}}_0x2bf78b<_0x86b3d0&&(_0x4c1573['lastCamera'+'Use']=!(0x1dda+-0x53e+0x4*-0x627)),!_0x10413b&&_0x4c1573&&(_0x4c1573['triggerPos'+'tprocess']=!(0x64a+-0x815*-0x3+-0x1e89)),_0x53fb2b['renderTarg'+'et']&&_0x53fb2b['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x2bf78b-(-0x1f0f+-0x1*-0x169f+0x1*0x871),_0x53fb2b);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x3584d7){v['assert'](this['_renderAct'+'ions']['length']===_0x3584d7);const _0x2ef559=new D0();return this['_renderAct'+'ions']['push'](_0x2ef559),_0x2ef559;}['addDummyRe'+'nderAction'](_0x3da87a,_0x116a88){const _0x8c8f7e=this['getNextRen'+'derAction'](_0x3da87a);_0x8c8f7e['camera']=_0x116a88,_0x8c8f7e['useCameraP'+'asses']=!(-0x9a9+-0x1*0x1e25+0x27ce);}['addRenderA'+'ction'](_0xc56409,_0x483b3f,_0x3307ad,_0x10c995,_0x543292,_0x2c5551){let _0x36d1b2=_0x483b3f['id']!==Xt?_0x10c995['renderTarg'+'et']:null,_0x407274=!(-0x2383+-0xb64+0x2ee8);const _0x441257=this['_renderAct'+'ions'];for(let _0x5bebc8=_0xc56409-(0xb09*0x1+-0x53*-0x66+-0x5*0x8d2);_0x5bebc8>=0x45d*0x5+0x25*-0x5d+-0x860*0x1;_0x5bebc8--)if(_0x441257[_0x5bebc8]['camera']===_0x10c995&&_0x441257[_0x5bebc8]['renderTarg'+'et']===_0x36d1b2){_0x407274=!(0xe1*0xa+0x951*-0x3+-0x9*-0x221);break;}_0x2c5551&&_0x10c995['postEffect'+'sEnabled']&&(_0x36d1b2=null);const _0x4d5dc6=this['getNextRen'+'derAction'](_0xc56409);_0x4d5dc6['triggerPos'+'tprocess']=!(0xeac+-0x7*0x4de+0x1*0x1367),_0x4d5dc6['layer']=_0x483b3f,_0x4d5dc6['transparen'+'t']=_0x3307ad,_0x4d5dc6['camera']=_0x10c995,_0x4d5dc6['renderTarg'+'et']=_0x36d1b2,_0x4d5dc6['firstCamer'+'aUse']=_0x543292,_0x4d5dc6['lastCamera'+'Use']=!(0x1208+0x29*-0xb9+0xb9a);const _0x3b7e16=_0x543292||!_0x407274,_0x345a25=_0x483b3f['clearColor'+'Buffer']||_0x483b3f['clearDepth'+'Buffer']||_0x483b3f['clearStenc'+'ilBuffer'];return(_0x3b7e16||_0x345a25)&&_0x4d5dc6['setupClear'+'s'](_0x3b7e16?_0x10c995:void(0x7e+-0x3b9+0x1*0x33b),_0x483b3f),_0x4d5dc6;}['propagateR'+'enderTarge'+'t'](_0x4dabdf,_0x5ec6bb){for(let _0x167c36=_0x4dabdf;_0x167c36>=0x1*0x22fa+-0x3b*0x10+0x5a*-0x59;_0x167c36--){const _0x4246ac=this['_renderAct'+'ions'][_0x167c36],_0x5f25bf=_0x4246ac['layer'];if(_0x4246ac['renderTarg'+'et']&&_0x5f25bf['id']!==Xt)break;if(_0x5f25bf['id']===Xt)continue;if(_0x4246ac['useCameraP'+'asses'])break;const _0x1ea971=_0x4246ac==null?void(0x116+-0x1cf9*-0x1+0x201*-0xf):_0x4246ac['camera']['camera'];if(_0x1ea971&&(!_0x5ec6bb['camera']['rect']['equals'](_0x1ea971['rect'])||!_0x5ec6bb['camera']['scissorRec'+'t']['equals'](_0x1ea971['scissorRec'+'t'])))break;_0x4246ac['renderTarg'+'et']=_0x5ec6bb['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Xs['get'](pl)){v['trace'](pl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x18e2f0=-0x4f*-0x4f+-0x239*0x2+-0x13ef;_0x18e2f0<this['_renderAct'+'ions']['length'];_0x18e2f0++){const _0x137960=this['_renderAct'+'ions'][_0x18e2f0],_0x420ba2=_0x137960['camera'];if(_0x137960['useCameraP'+'asses'])v['trace'](pl,_0x18e2f0+('CustomPass'+'es\x20Cam:\x20')+(_0x420ba2?_0x420ba2['entity']['name']:'-'));else{const _0x16b45f=_0x137960['layer'],_0x3b0089=_0x16b45f['enabled']&&this['isEnabled'](_0x16b45f,_0x137960['transparen'+'t']),_0x2ee3aa=(_0x137960['clearColor']?'Color\x20':'.....\x20')+(_0x137960['clearDepth']?'Depth\x20':'.....\x20')+(_0x137960['clearStenc'+'il']?'Stencil':'.......');v['trace'](pl,_0x18e2f0+('\x20Cam:\x20'+(_0x420ba2?_0x420ba2['entity']['name']:'-'))['padEnd'](0x3bf+0x2645+-0x29ee,'\x20')+('\x20Lay:\x20'+_0x16b45f['name'])['padEnd'](0x1489+0x8cd*-0x2+-0x9*0x51,'\x20')+(_0x137960['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x3b0089?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x137960['renderTarg'+'et']?_0x137960['renderTarg'+'et']['name']:'-'))['padEnd'](-0x1173*0x1+-0x15ab+-0x5d*-0x6c,'\x20')+'\x20Clear:\x20'+_0x2ee3aa+(_0x137960['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x137960['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x137960['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x605c83){const _0x4c0b39=this['layerIdMap']['get'](_0x605c83['id'])===_0x605c83;return v['assert'](!_0x4c0b39,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x605c83['name']),_0x4c0b39;}['_isSublaye'+'rAdded'](_0x22e7d6,_0x191e38){return(_0x191e38?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x22e7d6)!==void(0x5*0x1da+-0x1625+0xce3*0x1)?(v['error']('Sublayer\x20'+_0x22e7d6['name']+(',\x20transpar'+'ent:\x20')+_0x191e38+('\x20is\x20alread'+'y\x20added.')),!(0xb84*-0x3+-0x1276+-0x1*-0x3502)):!(-0x8b*-0x16+-0x9b*0x24+0x9db);}['push'](_0x5dcd9c){this['_isLayerAd'+'ded'](_0x5dcd9c)||(this['layerList']['push'](_0x5dcd9c),this['layerList']['push'](_0x5dcd9c),this['_opaqueOrd'+'er'][_0x5dcd9c['id']]=this['subLayerLi'+'st']['push'](!(0x11*0x175+0x2174+-0x3a38))-(-0x1*0x15a3+0x16b+-0x1439*-0x1),this['_transpare'+'ntOrder'][_0x5dcd9c['id']]=this['subLayerLi'+'st']['push'](!(-0x35*-0x97+-0x8f7+0x1*-0x164c))-(-0x192b+-0x624*0x5+0x37e0),this['subLayerEn'+'abled']['push'](!(0x246b*0x1+-0x7d9+-0x1c92)),this['subLayerEn'+'abled']['push'](!(0x1bb4+0x17c+-0x8*0x3a6)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x496+-0x776*-0x3+-0x1af8),this['fire']('add',_0x5dcd9c));}['insert'](_0x4f8132,_0x48c034){if(this['_isLayerAd'+'ded'](_0x4f8132))return;this['layerList']['splice'](_0x48c034,-0x54f*-0x7+0x1*0x4ef+-0x2a18,_0x4f8132,_0x4f8132),this['subLayerLi'+'st']['splice'](_0x48c034,0x21f5*0x1+-0x1ef8+-0x2fd,!(0x10ac+-0x101*0x1d+0xc72),!(-0x301*0x4+-0x7a5+0x13a9));const _0xdeb66a=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x48c034,_0xdeb66a-(-0x593*-0x7+-0x1*-0x718+-0x2e1c)),this['_updateTra'+'nsparentOr'+'der'](_0x48c034,_0xdeb66a-(0xacf*-0x3+0x178c+-0x2*-0x471)),this['subLayerEn'+'abled']['splice'](_0x48c034,-0x2a*0xc7+-0x171*0x6+0x294c,!(-0x1f32+-0x209a+0x3fcc),!(0x127f+0x5ba*0x1+-0x1839)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x3*-0x4a+0x1478+-0x1*0x1556),this['fire']('add',_0x4f8132);}['remove'](_0x419649){let _0x1640ba=this['layerList']['indexOf'](_0x419649);for(delete this['_opaqueOrd'+'er'][_0x1640ba],delete this['_transpare'+'ntOrder'][_0x1640ba];_0x1640ba>=0x10be*-0x1+0x192b+-0x86d;)this['layerList']['splice'](_0x1640ba,0x103e+-0x35a*-0x2+0x16f1*-0x1),this['subLayerLi'+'st']['splice'](_0x1640ba,0x12d3+0x25d+-0xb*0x1ed),this['subLayerEn'+'abled']['splice'](_0x1640ba,-0x1433+-0x10e*0x1+0x1542),_0x1640ba=this['layerList']['indexOf'](_0x419649),this['_dirty']=!(0x17d8+-0x1bf7+0x5*0xd3),this['fire']('remove',_0x419649);const _0x5eb4b8=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x1*-0x88+0x1063+-0xfdb*0x1,_0x5eb4b8-(0xd*-0x81+-0x1aec*-0x1+-0x145e)),this['_updateTra'+'nsparentOr'+'der'](0x1bf4+-0x2570+0x97c,_0x5eb4b8-(0x1*-0x7cd+-0x2*0x1195+0x2af8)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x4dca6e){this['_isSublaye'+'rAdded'](_0x4dca6e,!(0x1d41*-0x1+-0x2*-0x730+0xee2))||(this['layerList']['push'](_0x4dca6e),this['_opaqueOrd'+'er'][_0x4dca6e['id']]=this['subLayerLi'+'st']['push'](!(0x49a+0x842+-0xcdb))-(0x169b+-0x11d+0x1*-0x157d),this['subLayerEn'+'abled']['push'](!(0x8e*0x3+-0x1*0x1500+-0x9ab*-0x2)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x199f+-0x1671+0x3010),this['fire']('add',_0x4dca6e));}['insertOpaq'+'ue'](_0x5c7f6b,_0x36bf74){if(this['_isSublaye'+'rAdded'](_0x5c7f6b,!(-0xb7f+-0x267c+0x31fc)))return;this['layerList']['splice'](_0x36bf74,0x1*0x1189+-0x9f5*0x1+-0x1e5*0x4,_0x5c7f6b),this['subLayerLi'+'st']['splice'](_0x36bf74,-0xf*0x133+0x1*0x151f+-0x322,!(-0xd49+0x1*0x6d6+0x674));const _0x11a8b0=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x36bf74,_0x11a8b0-(0x4db*-0x4+-0x11*0xa4+0x1e51)),this['subLayerEn'+'abled']['splice'](_0x36bf74,0x15c8+0x10af+-0x2b*0xe5,!(0x978*0x3+0x1b9f+-0x3*0x12ad)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x219c+-0x2329+0x1*0x18d),this['fire']('add',_0x5c7f6b);}['removeOpaq'+'ue'](_0x310905){for(let _0x165c8b=0xdb9*0x1+-0xc5f*0x2+0x5b*0x1f,_0x499b32=this['layerList']['length'];_0x165c8b<_0x499b32;_0x165c8b++)if(this['layerList'][_0x165c8b]===_0x310905&&!this['subLayerLi'+'st'][_0x165c8b]){this['layerList']['splice'](_0x165c8b,0x21d6+0x4df+-0x9ad*0x4),this['subLayerLi'+'st']['splice'](_0x165c8b,0x331*0x5+0x266e+-0x3662),_0x499b32--,this['_updateOpa'+'queOrder'](_0x165c8b,_0x499b32-(-0x1af9+-0x23a8+0x3ea2)),this['subLayerEn'+'abled']['splice'](_0x165c8b,0x2*-0xf0b+0x2585+-0x76e),this['_dirty']=!(-0x1d4f+-0x1*0x26fb+-0x2*-0x2225),this['layerList']['indexOf'](_0x310905)<0x1a1d+-0x1af1+-0x2*-0x6a&&this['fire']('remove',_0x310905);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x56519a){this['_isSublaye'+'rAdded'](_0x56519a,!(-0x3d5*-0x5+-0x238f*-0x1+-0x36b8))||(this['layerList']['push'](_0x56519a),this['_transpare'+'ntOrder'][_0x56519a['id']]=this['subLayerLi'+'st']['push'](!(0xfc9+-0x1*-0x12bf+-0x88*0x41))-(-0x1430+0x1*-0xc0b+0x1*0x203c),this['subLayerEn'+'abled']['push'](!(-0x82d+-0xe22+0x1*0x164f)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x6a*-0x31+0x8c8*-0x4+0x376a),this['fire']('add',_0x56519a));}['insertTran'+'sparent'](_0x31b48d,_0x2a861b){if(this['_isSublaye'+'rAdded'](_0x31b48d,!(-0x130*-0x1f+0x24b9+-0x4989)))return;this['layerList']['splice'](_0x2a861b,-0x1116+-0x1*0x69d+0x17b3*0x1,_0x31b48d),this['subLayerLi'+'st']['splice'](_0x2a861b,-0x6db+0x24*-0xcd+0x23af,!(0x1b43+-0x15*-0xd4+-0x17*0x1f1));const _0x25c513=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x2a861b,_0x25c513-(-0x1ad4+-0x1*-0xa2a+0x10ab)),this['subLayerEn'+'abled']['splice'](_0x2a861b,-0x1*0x373+-0x4*-0x295+-0x3*0x24b,!(-0x1*-0x158f+-0x7ab*-0x2+-0x761*0x5)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1071+-0x1ce8*0x1+-0x1*-0xc77),this['fire']('add',_0x31b48d);}['removeTran'+'sparent'](_0x5df451){for(let _0x48099a=0xe0a+0x26fc+-0x3506,_0x1ed6fe=this['layerList']['length'];_0x48099a<_0x1ed6fe;_0x48099a++)if(this['layerList'][_0x48099a]===_0x5df451&&this['subLayerLi'+'st'][_0x48099a]){this['layerList']['splice'](_0x48099a,-0x13ca+0x5f+0x136c),this['subLayerLi'+'st']['splice'](_0x48099a,0x92e+-0x19ff+-0x1*-0x10d2),_0x1ed6fe--,this['_updateTra'+'nsparentOr'+'der'](_0x48099a,_0x1ed6fe-(-0x973+-0x11a6*-0x2+-0x19d8)),this['subLayerEn'+'abled']['splice'](_0x48099a,0x65*0x61+0x2566*-0x1+-0x2*0x6f),this['_dirty']=!(-0x1f3c*-0x1+0x16f7+-0x3633),this['layerList']['indexOf'](_0x5df451)<0x1*-0x1953+0x23f3+-0xaa*0x10&&this['fire']('remove',_0x5df451);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x25ab0d){return this['layerOpaqu'+'eIndexMap']['get'](_0x25ab0d)??-(0x1a64+0x41*0x1b+-0x2e*0xb9);}['getTranspa'+'rentIndex'](_0x118a00){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x118a00)??-(0x22b0+-0x22a4*0x1+0xb*-0x1);}['isEnabled'](_0x48f89e,_0x263a0c){if(_0x48f89e['enabled']){const _0x50f069=_0x263a0c?this['getTranspa'+'rentIndex'](_0x48f89e):this['getOpaqueI'+'ndex'](_0x48f89e);if(_0x50f069>=0x20c*0x2+0x1504+-0x191c)return this['subLayerEn'+'abled'][_0x50f069];}return!(0x2586*-0x1+-0x6b*-0xa+0x2159);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0xaa91ff=0xc5e*0x3+0x1*-0x26bd+0x1a3;_0xaa91ff<this['layerList']['length'];_0xaa91ff++){const _0x111162=this['layerList'][_0xaa91ff];this['layerIdMap']['set'](_0x111162['id'],_0x111162),this['layerNameM'+'ap']['set'](_0x111162['name'],_0x111162),(this['subLayerLi'+'st'][_0xaa91ff]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x111162,_0xaa91ff);}}['getLayerBy'+'Id'](_0x2b2f21){return this['layerIdMap']['get'](_0x2b2f21)??null;}['getLayerBy'+'Name'](_0x368003){return this['layerNameM'+'ap']['get'](_0x368003)??null;}['_updateOpa'+'queOrder'](_0xb9c922,_0x576249){for(let _0x26eba1=_0xb9c922;_0x26eba1<=_0x576249;_0x26eba1++)this['subLayerLi'+'st'][_0x26eba1]===!(0x575*-0x5+-0x739*-0x2+0x6*0x224)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x26eba1]['id']]=_0x26eba1);}['_updateTra'+'nsparentOr'+'der'](_0x2f02f6,_0x5339cc){for(let _0x55a7ce=_0x2f02f6;_0x55a7ce<=_0x5339cc;_0x55a7ce++)this['subLayerLi'+'st'][_0x55a7ce]===!(0x84a*0x2+-0xb71+-0x523)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x55a7ce]['id']]=_0x55a7ce);}['_sortLayer'+'sDescendin'+'g'](_0x211995,_0x5842c6,_0x40f7b4){let _0x510c55=-(0x2*-0x99f+-0x9cb*-0x1+-0x37*-0x2c),_0x23d405=-(0x182e+0x51b*0x4+-0x2c99);for(let _0x15bdaf=-0x229b*-0x1+-0x1d65*-0x1+-0x4000,_0x24946d=_0x211995['length'];_0x15bdaf<_0x24946d;_0x15bdaf++){const _0x40a267=_0x211995[_0x15bdaf];_0x40f7b4['hasOwnProp'+'erty'](_0x40a267)&&(_0x510c55=Math['max'](_0x510c55,_0x40f7b4[_0x40a267]));}for(let _0x27bfff=0x2*-0x9e4+-0x1a51+-0x2e19*-0x1,_0x5edbbc=_0x5842c6['length'];_0x27bfff<_0x5edbbc;_0x27bfff++){const _0x4e2d71=_0x5842c6[_0x27bfff];_0x40f7b4['hasOwnProp'+'erty'](_0x4e2d71)&&(_0x23d405=Math['max'](_0x23d405,_0x40f7b4[_0x4e2d71]));}return _0x510c55===-(-0x1*-0x23b7+0xa97*0x1+-0x2e4d)&&_0x23d405!==-(0xd*-0x9b+0x880+-0xa0)?-0x2*0x998+0xa4+0x128d:_0x23d405===-(-0x1706+0x1e7*0x11+-0x950)&&_0x510c55!==-(0x3*0x31b+0x20*0x51+-0x1*0x1370)?-(0xf5c*-0x2+-0xeb*0x21+0x3d04):_0x23d405-_0x510c55;}['sortTransp'+'arentLayer'+'s'](_0x4f2dc3,_0x36fb62){return this['_sortLayer'+'sDescendin'+'g'](_0x4f2dc3,_0x36fb62,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x8d2bfc,_0x5d73c4){return this['_sortLayer'+'sDescendin'+'g'](_0x8d2bfc,_0x5d73c4,this['_opaqueOrd'+'er']);}}const kl=new T(),ti={'bias':0x0,'normalBias':0x0},Ya=new Y(),Ud={'r':0x0,'g':0x1,'b':0x2,'a':0x3},Gu={'directional':oe,'omni':Pe,'point':Pe,'spot':Re},WM=[[new Q(0x2*-0x98f+0x1*0x9d1+0x94d*0x1,-0xf5f+0x229a+-0x133b,-0x21cb+-0x5d+-0x247*-0xf,0xd21+-0x160*-0x3+-0x1140)],[new Q(-0x258a+-0x225d+0x47e7,0x2147*-0x1+0x10b*-0x13+0x3518,-0x1624+-0x1085*-0x1+0x59f*0x1+0.5,-0x1*-0x21f5+0x36*0x65+-0x3743+0.5),new Q(0x25f7+0x37b*0x2+-0x1f*0x173,0x1*0x178c+0x907+-0x10d*0x1f+0.5,0x1f7f+-0xd*-0x1c6+-0x368d+0.5,0x32f*0x1+0x5*-0x5c9+-0x5*-0x526+0.5)],[new Q(-0x84a+0x305*-0x3+0x1159*0x1,-0x8*0x390+-0x167f+-0x32ff*-0x1,0x6f1+-0x11d1+0xae0+0.5,0x7f*0x26+-0xa65+0x1b1*-0x5+0.5),new Q(-0x1*0x617+-0x26a+0x1*0x881,0x1*-0x76e+0x1df5+0x1687*-0x1+0.5,-0x2214+-0x5*-0xd5+-0x6f*-0x45+0.5,0x5*0x269+0x3b*-0xd+-0x90e+0.5),new Q(0xa57+-0x1b11+0x10ba+0.5,-0x1333+-0x24e2+0x1*0x3815,-0x1b2d*-0x1+0x9de+-0x147*0x1d+0.5,0x1*-0x193a+-0x3a*0x6+-0x1*-0x1a96+0.5)],[new Q(0x13*0x1cf+-0x113d*0x2+-0x1*-0x1d,-0x8*0x232+-0x1a16+0x2ba6*0x1,-0x219e+0xbea*0x3+0x8*-0x44+0.5,0x16f7+0x1a76*-0x1+0x5*0xb3+0.5),new Q(-0x159a+0x468+-0x1f*-0x8e,-0x727*0x1+0x12e3+0x4*-0x2ef+0.5,0x2282+-0x2683*0x1+0x401+0.5,-0x34b*0x1+0x1*0xeb1+-0xb66+0.5),new Q(0x28d*-0x7+0x1*0x511+0xcca+0.5,-0x135a+-0xa52*0x1+0xed6*0x2,-0x6e1*0x3+0x1*-0x2315+0x37b8+0.5,0x1694+0x1*-0x21d1+0xb3d*0x1+0.5),new Q(-0x236*-0x7+-0x3*0x79c+0x75a+0.5,-0x1*-0x159c+-0x19cd+0x431*0x1+0.5,-0x4a5*0x1+0x1c83+-0x1d6*0xd+0.5,-0x32*0x26+0x5cd+0x53*0x5+0.5)]];let qM=0x3*0x8e6+0x179b+0x4f*-0xa3;class XM{constructor(_0xf240e1,_0x57a42e,_0x5c226c){this['light']=_0x5c226c,this['camera']=_0xf240e1,this['shadowCame'+'ra']=I0['createShad'+'owCamera'](_0x5c226c['_shadowTyp'+'e'],_0x5c226c['_type'],_0x57a42e),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new Q(-0x1885*0x1+-0xb4b+0x23d0,0x335+0xb6b+-0xea0,0x240f+-0x1*-0x163a+-0x28*0x175,0x2457+-0x1a9+-0x22ad),this['shadowScis'+'sor']=new Q(0x24c1+-0xc46+-0x187b*0x1,-0x3*0x35f+-0x1201*-0x1+-0xa*0xca,-0x254f+-0x2111+0x4661,0x1e51+0x1fa*-0x2+0x1e2*-0xe),this['projection'+'Compensati'+'on']=0x167*-0x1+0x1339*0x1+-0x11d2,this['face']=_0x57a42e,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x38a004=>{_0x38a004['defaultUni'+'formBuffer']['destroy'](),_0x38a004['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1c93+0x1b20+0x173;}get['shadowBuff'+'er'](){const _0x3c989b=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x3c989b?this['light']['_isPcf']?_0x3c989b['depthBuffe'+'r']:_0x3c989b['colorBuffe'+'r']:null;}}class zo{constructor(_0x266131,_0x28de23){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',as['DEFAULT']['clone']()),(this['device']=_0x266131,this['clusteredL'+'ighting']=_0x28de23,this['id']=qM++,this['_type']=oe,this['_color']=new Y(-0x1*-0x2be+-0xb83+0x8c5+0.8,-0x3*-0x4c0+-0x16f9+0x8b9+0.8,0x1ace+-0x2330+0x862+0.8),this['_intensity']=-0xe6b+0x1*-0x236c+0x31d8,this['_affectSpe'+'cularity']=!(-0x18*0x139+0x2*-0x43+0x1dde),this['_luminance']=-0x4*0x38b+-0x1b8b+0x29b7,this['_castShado'+'ws']=!(0xffd*-0x1+-0x2*-0x238+0xb8e),this['_enabled']=!(-0x462+-0xfd0+0x1433),this['_mask']=hs,this['isStatic']=!(0xdff*0x2+0x25d6*0x1+-0x41d3),this['key']=0x1102+0x16ab+0x7*-0x5ab,this['bakeDir']=!(0x1*0x351+0x15e3+0x1*-0x1934),this['bakeNumSam'+'ples']=0x1b5c+-0x25b6+0xa5b,this['bakeArea']=-0x4*0x15a+0xdf*-0x11+0x1437,this['attenuatio'+'nStart']=0x1720+0x3c8*0x4+-0x2636,this['attenuatio'+'nEnd']=0x3*0x634+-0x21f5+0xf63,this['_falloffMo'+'de']=wp,this['_shadowTyp'+'e']=Dt,this['_vsmBlurSi'+'ze']=0x1d69*-0x1+-0x7bb*0x1+-0x1f5*-0x13,this['vsmBlurMod'+'e']=Tp,this['vsmBias']=(0x15f4+0x1*0xed+-0x16e1+0.01)*(0x14e*0x17+0x18d1+-0x36d3+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0x74a+0x76e*-0x2+0x115*0x7,this['_cookieFal'+'loff']=!(-0x235c+-0x1*-0xa3d+-0x191f*-0x1),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x381*-0x6+-0x10*-0x53+-0x7ed*-0x2),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x17bb+-0xfad*-0x2+0x1*-0x79d),this['_cookieTra'+'nsformSet']=!(0x1*-0x2636+-0x12b3*-0x2+-0x1*-0xd1),this['_cookieOff'+'setSet']=!(0x4ab+-0x28*0x7b+-0xa2*-0x17),this['_innerCone'+'Angle']=0xa*-0x168+0x6cd*0x5+-0x5*0x3f5,this['_outerCone'+'Angle']=0x2de+-0x92*0x27+0x138d,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0x25b6+0x454*0x7+0x76b,this['_cascadeBl'+'end']=0x2243+-0x68b+-0x1bb8*0x1,this['cascadeDis'+'tribution']=0x20*0x9+0x136*-0xd+0xe9e+0.5,this['_shape']=yt,this['_colorLine'+'ar']=new Float32Array(-0xdf3+0x1135*-0x1+0x4f*0x65),this['_updateLin'+'earColor'](),this['_position']=new T(0x2206+-0x19f2+-0x814,0x457*-0x8+-0x19b*-0x3+0x5*0x5fb,0x21da+-0x14f*-0x14+-0x49e*0xd),this['_direction']=new T(-0x1*-0x1cb+-0xe13+0xc48,-0x25d7*0x1+-0x1*-0x2562+0x75,0x26b2+0x1f2f+0x10b*-0x43),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0xcc+0x30*-0xbb+0x22f8*0x1)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(0x218f+-0xf7*-0x1a+-0x3aa5),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x14bd+-0x2*0x124a+0xfff,this['_shadowRes'+'olution']=-0x1ae2+-0x1248+0x312a,this['_shadowBia'+'s']=-(-0x1d10+-0x7cf*0x1+0x24df*0x1+0.0005),this['shadowInte'+'nsity']=0x449*-0x3+0x1f2c+-0x1250,this['_normalOff'+'setBias']=0x1604+-0x1926+0x322,this['shadowUpda'+'teMode']=Pp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0x8eb+0x5b7+0x335),this['_isPcf']=!(-0xb*-0x341+0x19a*-0x17+0x10b),this['_softShado'+'wParams']=new Float32Array(0x1*-0x25d4+0x866+0x1d72),this['shadowSamp'+'les']=0x1912*-0x1+-0x9*-0x1a5+-0x1*-0xa55,this['shadowBloc'+'kerSamples']=0x6*0xd3+0x5*-0x2ed+0x9bf*0x1,this['penumbraSi'+'ze']=0x9e*-0x33+-0xbe3+-0x7a*-0x5b,this['penumbraFa'+'lloff']=0x229*-0x3+-0x7bd+0xe39,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0x242a+0x1d21+-0x414a),this['atlasVersi'+'on']=0xd6*-0x11+0xdb4+-0xa*-0xd,this['atlasSlotI'+'ndex']=0x29*0x3+0x2160+0x9*-0x3c3,this['atlasSlotU'+'pdated']=!(-0x67+0x1064*0x1+-0xffc),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0x11db+-0x1a25+-0xf*-0x2ef),this['maxScreenS'+'ize']=-0x4*-0x93f+-0x223a*0x1+0x1*-0x2c2,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x5eca15=-0x3*-0x7e6+0x1a2d+-0x2ef*0x11;_0x5eca15<this['_renderDat'+'a']['length'];_0x5eca15++)this['_renderDat'+'a'][_0x5eca15]['destroy']();this['_renderDat'+'a']['length']=-0x1c7b+-0x2387+0x2001*0x2;}}['addLayer'](_0x216e86){this['layers']['add'](_0x216e86);}['removeLaye'+'r'](_0x36a324){this['layers']['delete'](_0x36a324);}set['shadowSamp'+'les'](_0x462f3a){this['_softShado'+'wParams'][0x4*-0x594+0x12f0+0x360]=_0x462f3a;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x1*0x233+-0x7f2+-0x1*-0x5bf];}set['shadowBloc'+'kerSamples'](_0x5e8c3e){this['_softShado'+'wParams'][0x8b*0x2b+-0xcf3+-0xa65]=_0x5e8c3e;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][0x1*-0x1b2f+-0x2*0x70f+0x2*0x14a7];}set['shadowBias'](_0x641fba){this['_shadowBia'+'s']!==_0x641fba&&(this['_shadowBia'+'s']=_0x641fba,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0xf54b83){(!this['cascades']||this['numCascade'+'s']!==_0xf54b83)&&(this['cascades']=WM[_0xf54b83-(-0x26eb+0x39*0x5+0x25cf*0x1)],this['_shadowMat'+'rixPalette']=new Float32Array((0xea4+-0x1a17*0x1+0xb77*0x1)*(-0x89*0xd+0x2404+0x1cff*-0x1)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x1*-0xaf2+0x1f83+-0x148d),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x22bdd8){this['_cascadeBl'+'end']!==_0x22bdd8&&(this['_cascadeBl'+'end']=_0x22bdd8,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x30d36d){this['_shadowMap']!==_0x30d36d&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x30d36d);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x4e306a){this['_mask']!==_0x4e306a&&(this['_mask']=_0x4e306a,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x2b7a85=this['_type'];return _0x2b7a85===oe?this['numCascade'+'s']:_0x2b7a85===Pe?-0x6aa*-0x4+0x6*0xc3+-0x1f34:0x1990+-0xe*0x167+-0x5ed;}set['type'](_0x1e4cd2){if(this['_type']===_0x1e4cd2)return;this['_type']=_0x1e4cd2,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x37816e=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x37816e;}get['type'](){return this['_type'];}set['shape'](_0x3cfc06){if(this['_shape']===_0x3cfc06)return;this['_shape']=_0x3cfc06,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x551ed4=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x551ed4;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x32d041){this['_usePhysic'+'alUnits']!==_0x32d041&&(this['_usePhysic'+'alUnits']=_0x32d041,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x13e7d4){if(this['_shadowTyp'+'e']===_0x13e7d4)return;const _0x1cd028=this['device'];_0x13e7d4===Ts&&!_0x1cd028['textureFlo'+'atRenderab'+'le']&&!_0x1cd028['textureHal'+'fFloatRend'+'erable']&&(_0x13e7d4=Dt),this['_type']===Pe&&_0x13e7d4!==Bh&&_0x13e7d4!==Dt&&_0x13e7d4!==Nh&&_0x13e7d4!==zh&&_0x13e7d4!==Ts&&(_0x13e7d4=Dt),_0x13e7d4===$r&&(!_0x1cd028['textureFlo'+'atRenderab'+'le']||!_0x1cd028['textureFlo'+'atFilterab'+'le'])&&(_0x13e7d4=Hr),_0x13e7d4===Hr&&!_0x1cd028['textureHal'+'fFloatRend'+'erable']&&(_0x13e7d4=Dt);const _0x168ef6=ir['get'](_0x13e7d4);this['_isVsm']=(_0x168ef6==null?void(-0x1*-0x2153+0x2f5*0x3+0x16*-0x1eb):_0x168ef6['vsm'])??!(-0x10cd+0xf59+0x175),this['_isPcf']=(_0x168ef6==null?void(-0x1e*0x78+-0x1819+0x2629*0x1):_0x168ef6['pcf'])??!(-0x1c8f+-0x11ad+0x26f*0x13),this['_shadowTyp'+'e']=_0x13e7d4,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x3b03dd){this['_enabled']!==_0x3b03dd&&(this['_enabled']=_0x3b03dd,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x2b0222){this['_castShado'+'ws']!==_0x2b0222&&(this['_castShado'+'ws']=_0x2b0222,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==rr&&this['_mask']!==0x36*0x46+-0x1*-0x1378+-0x223c;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===rr;}set['shadowReso'+'lution'](_0x37fbdc){this['_shadowRes'+'olution']!==_0x37fbdc&&(this['_type']===Pe?_0x37fbdc=Math['min'](_0x37fbdc,this['device']['maxCubeMap'+'Size']):_0x37fbdc=Math['min'](_0x37fbdc,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x37fbdc,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x1d3489){this['_vsmBlurSi'+'ze']!==_0x1d3489&&(_0x1d3489%(-0x1f04+-0x1*-0x18b3+0x653)===0x1*0x1979+-0xb47*-0x1+0xa8*-0x38&&_0x1d3489++,this['_vsmBlurSi'+'ze']=_0x1d3489);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x50259f){if(this['_normalOff'+'setBias']!==_0x50259f){const _0xed1880=!this['_normalOff'+'setBias']&&_0x50259f||this['_normalOff'+'setBias']&&!_0x50259f;this['_normalOff'+'setBias']=_0x50259f,_0xed1880&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x1f1a4d){this['_falloffMo'+'de']!==_0x1f1a4d&&(this['_falloffMo'+'de']=_0x1f1a4d,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x48ac80){this['_innerCone'+'Angle']!==_0x48ac80&&(this['_innerCone'+'Angle']=_0x48ac80,this['_innerCone'+'AngleCos']=Math['cos'](_0x48ac80*Math['PI']/(0x2124+0x11d*-0x4+-0x4*0x6ff)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x25421b){this['_outerCone'+'Angle']!==_0x25421b&&(this['_outerCone'+'Angle']=_0x25421b,this['_updateOut'+'erAngle'](_0x25421b),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x1b0284){this['_penumbraS'+'ize']=_0x1b0284,this['_softShado'+'wParams'][-0x1*0x49+-0x1d93+0x1dde]=_0x1b0284;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x4abc75){this['_softShado'+'wParams'][-0x14be+-0xb*0x2b3+0x3272]=_0x4abc75;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0xdf8+0x3d*-0x25+-0x524];}['_updateOut'+'erAngle'](_0x58b734){const _0x500d3a=_0x58b734*Math['PI']/(-0x1d35*0x1+-0x1e7*-0x13+0x1*-0x63c);this['_outerCone'+'AngleCos']=Math['cos'](_0x500d3a),this['_outerCone'+'AngleSin']=Math['sin'](_0x500d3a);}set['intensity'](_0x57a465){this['_intensity']!==_0x57a465&&(this['_intensity']=_0x57a465,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0xc9605a){this['_type']===oe&&(this['_affectSpe'+'cularity']=_0xc9605a,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x330bd5){this['_luminance']!==_0x330bd5&&(this['_luminance']=_0x330bd5,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new Q(0xe*-0x19e+0x820+0x1*0xe84,-0x1191+-0x3*-0x63b+-0x120,-0x1099+-0x769+0x1803,0xe52+-0x83c+-0x615)),this['_atlasView'+'port'];}set['cookie'](_0x48ee06){this['_cookie']!==_0x48ee06&&(this['_cookie']=_0x48ee06,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x1a7886){this['_cookieFal'+'loff']!==_0x1a7886&&(this['_cookieFal'+'loff']=_0x1a7886,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x505c9f){if(this['_cookieCha'+'nnel']!==_0x505c9f){if(_0x505c9f['length']<-0x2f0+0x1*-0xbf+-0x1*-0x3b2){const _0x58ee53=_0x505c9f['charAt'](_0x505c9f['length']-(-0x1561+-0x1b26+0xc22*0x4)),_0x3615f5=-0x19c*0x7+-0x80c+0x11*0x123-_0x505c9f['length'];for(let _0x44ea11=-0x244a+0x1df8+0x652;_0x44ea11<_0x3615f5;_0x44ea11++)_0x505c9f+=_0x58ee53;}this['_cookieCha'+'nnel']=_0x505c9f,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x171ada){this['_cookieTra'+'nsform']!==_0x171ada&&(this['_cookieTra'+'nsform']=_0x171ada,this['_cookieTra'+'nsformSet']=!!_0x171ada,_0x171ada&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new $(),this['_cookieOff'+'setSet']=!(0x2*0x47b+0x1*-0x2515+0xc*0x258)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x2901f){if(this['_cookieOff'+'set']===_0x2901f)return;!!(this['_cookieTra'+'nsformSet']||_0x2901f)&&!_0x2901f&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](0x5d*-0x65+0x26ca+-0x219,0x14d2+0x563+-0x1a35):this['_cookieOff'+'set']=_0x2901f,this['_cookieOff'+'setSet']=!!_0x2901f,_0x2901f&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new Q(0x3e*0x49+0x20f3+-0x28*0x144,-0x1*-0x4b2+0x9ff+-0xeb0,0x3*-0x73b+0x1cf3+-0x1*0x742,0x11fb*-0x1+-0x1d5c+0x2f57),this['_cookieTra'+'nsformSet']=!(0x22e4+0x16ad+0x10*-0x399)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===oe&&this['_enabled'],this['maxScreenS'+'ize']=0x6b*0x4+-0xbb3*-0x1+-0x7*0x1e9,this['atlasViewp'+'ortAllocat'+'ed']=!(0x5b8+0x8d*-0xa+-0x35),this['atlasSlotU'+'pdated']=!(-0x2194+0x149f+0x1da*0x7);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=cn),this['shadowUpda'+'teOverride'+'s']){for(let _0x4c5748=-0x1a02+-0x9c8*0x2+-0x2*-0x16c9;_0x4c5748<this['shadowUpda'+'teOverride'+'s']['length'];_0x4c5748++)this['shadowUpda'+'teOverride'+'s'][_0x4c5748]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x4c5748]=cn);}}['getRenderD'+'ata'](_0x337982,_0x46fccc){for(let _0x50586f=0x1f88+0x195a+-0x38e2;_0x50586f<this['_renderDat'+'a']['length'];_0x50586f++){const _0x28ba28=this['_renderDat'+'a'][_0x50586f];if(_0x28ba28['camera']===_0x337982&&_0x28ba28['face']===_0x46fccc)return _0x28ba28;}const _0x294428=new XM(_0x337982,_0x46fccc,this);return this['_renderDat'+'a']['push'](_0x294428),_0x294428;}['clone'](){const _0x385431=new zo(this['device'],this['clusteredL'+'ighting']);return _0x385431['type']=this['_type'],_0x385431['setColor'](this['_color']),_0x385431['intensity']=this['_intensity'],_0x385431['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x385431['luminance']=this['_luminance'],_0x385431['castShadow'+'s']=this['castShadow'+'s'],_0x385431['_enabled']=this['_enabled'],_0x385431['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x385431['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x385431['falloffMod'+'e']=this['_falloffMo'+'de'],_0x385431['shadowType']=this['_shadowTyp'+'e'],_0x385431['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x385431['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x385431['vsmBias']=this['vsmBias'],_0x385431['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x385431['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x385431['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x385431['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x385431['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x385431['numCascade'+'s']=this['numCascade'+'s'],_0x385431['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x385431['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x385431['shape']=this['_shape'],_0x385431['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x385431['shadowBias']=this['shadowBias'],_0x385431['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x385431['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x385431['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x385431['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x385431['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x385431['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x385431['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x385431['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x385431;}static['getLightUn'+'itConversi'+'on'](_0x19f181,_0x28c7e5=Math['PI']/(0x2*-0xd92+0xbdf*-0x3+-0x3ec5*-0x1),_0x14854d=0x25*-0xf1+0x25*0xbd+0x3c2*0x2){switch(_0x19f181){case Re:{const _0x4020a2=Math['cos'](_0x28c7e5),_0x54b172=Math['cos'](_0x14854d);return(-0x1fa4+0x1a54+0x552)*Math['PI']*(-0x2484+0x7a5+0x1ce0-_0x54b172+(_0x54b172-_0x4020a2)/(-0xd*0x2b9+-0x1*-0x11e2+-0x27*-0x73));}case Pe:return(0x1845+0x268*-0x3+0x26f*-0x7)*Math['PI'];case oe:return-0x20ee+0x3*-0xa47+-0x48e*-0xe;}}['_getUnifor'+'mBiasValue'+'s'](_0x4c68d8){const _0x2fe751=_0x4c68d8['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Pe:ti['bias']=this['shadowBias'],ti['normalBias']=this['_normalOff'+'setBias'];break;case Re:this['_isVsm']?ti['bias']=-(0x2110+-0x5fe*0x1+-0x1b12+0.00001)*(0xc7d+-0x7*0x1c1+-0x22):ti['bias']=this['shadowBias']*(0x7*0x232+-0x1d54+-0x3*-0x4ae),ti['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x1*-0x214f+0x67*-0x4f+-0x17f)):this['_normalOff'+'setBias'];break;case oe:this['_isVsm']?ti['bias']=-(0x1*-0xeef+0x40a+0xae5+0.00001)*(0x55*0x61+0x4*0x20f+0x1*-0x285d):ti['bias']=this['shadowBias']/_0x2fe751*(-0x1bf+0x348+0x1*-0x125),ti['normalBias']=this['_isVsm']?this['vsmBias']/(_0x2fe751/(0x16e1+-0x3*-0x75a+-0x2ce8)):this['_normalOff'+'setBias'];break;}return ti;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x29d81d){if(this['_type']===Re){const _0x1ca84a=this['attenuatio'+'nEnd'],_0x56085f=this['_outerCone'+'Angle'],_0x170f6b=this['_outerCone'+'AngleCos'],_0x1abc20=this['_node'];kl['copy'](_0x1abc20['up']),_0x56085f>-0x27b*0x7+0x6e*0x55+-0x12fc?(_0x29d81d['radius']=_0x1ca84a*this['_outerCone'+'AngleSin'],kl['mulScalar'](-_0x1ca84a*_0x170f6b)):(_0x29d81d['radius']=_0x1ca84a/((0x56e+-0x6c8+0x1*0x15c)*_0x170f6b),kl['mulScalar'](-_0x29d81d['radius'])),_0x29d81d['center']['add2'](_0x1abc20['getPositio'+'n'](),kl);}else this['_type']===Pe&&(_0x29d81d['center']=this['_node']['getPositio'+'n'](),_0x29d81d['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x31791e){if(this['_type']===Re){const _0x27d67c=this['attenuatio'+'nEnd'],_0x5c8f5e=this['_outerCone'+'Angle'],_0x334ad3=this['_node'],_0x2e020c=Math['abs'](Math['sin'](_0x5c8f5e*N['DEG_TO_RAD'])*_0x27d67c);_0x31791e['center']['set'](-0x23d8+-0x1*-0x2635+-0x25d,-_0x27d67c*(0x7*0x19e+0x13d9+-0x1f2b+0.5),-0x193e+0x164b+0x2f3),_0x31791e['halfExtent'+'s']['set'](_0x2e020c,_0x27d67c*(-0x1*0x971+-0x10df+0x1a50+0.5),_0x2e020c),_0x31791e['setFromTra'+'nsformedAa'+'bb'](_0x31791e,_0x334ad3['getWorldTr'+'ansform'](),!(0x13*-0xb2+0x1264*-0x2+0x31fe*0x1));}else this['_type']===Pe&&(_0x31791e['center']['copy'](this['_node']['getPositio'+'n']()),_0x31791e['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Pe&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x1*-0x1951+0x1629+-0x2f7a,this['shadowDept'+'hState']['depthBiasS'+'lope']=-0x1003+-0x10e8+-0x1*-0x20eb;else{const _0x35d35f=this['shadowBias']*-(0x3*-0xb5a+0x4be+-0x84e*-0x4);this['shadowDept'+'hState']['depthBias']=_0x35d35f,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x35d35f;}}['_updateLin'+'earColor'](){let _0x41a81a=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x41a81a=this['_luminance']/zo['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*N['DEG_TO_RAD'],this['_innerCone'+'Angle']*N['DEG_TO_RAD']));const _0x231d95=this['_color'],_0x190c24=this['_colorLine'+'ar'];_0x41a81a>=-0x131c+-0x19cd+-0x1675*-0x2?Ya['linear'](_0x231d95)['mulScalar'](_0x41a81a):Ya['copy'](_0x231d95)['mulScalar'](_0x41a81a)['linear'](),_0x190c24[0x2516+0x1b6*-0x4+-0x229*0xe]=Ya['r'],_0x190c24[-0x1e1c+0x2*0x241+0x199b]=Ya['g'],_0x190c24[0x1*0x22da+0x1fee+-0x15*0x32e]=Ya['b'];}['setColor'](){arguments['length']===-0x1*-0xe35+0x2384+0x1*-0x31b8?this['_color']['set'](arguments[0x1565+-0x1f6c+-0x11*-0x97]['r'],arguments[-0x1f*-0xd6+0x26*-0x36+-0x11e6]['g'],arguments[-0x1*0x1ead+-0x1824+-0x1*-0x36d1]['b']):arguments['length']===-0x24bc*0x1+0x2693+-0x1d4&&this['_color']['set'](arguments[-0xe7*0x1f+-0x11b*-0x15+0x4c2],arguments[-0x7c*-0x4d+0x13b3*0x1+-0x38fe],arguments[0x1087+-0x2026+0xfa1]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x468a8a=>{_0x468a8a['hasLight'](this)&&_0x468a8a['markLights'+'Dirty']();});}['updateKey'](){let _0x2732f5=this['_type']<<0x92*-0x1f+-0xdb9+0x1f84|this['_shadowTyp'+'e']<<-0x214+0x42+0x1eb*0x1|this['_falloffMo'+'de']<<0x1a65+0x24e3+-0x3f31|(this['_normalOff'+'setBias']!==0x152e*-0x1+-0x382*0x1+0x18b0?-0xd7*0xb+0x1348+-0xa0a:0x133c+-0xf45+-0x3f7)<<0xa*-0x22f+-0xea3+0x248f|(this['_cookie']?-0xce2*0x2+-0xb9+0x1a7e:-0x243+-0xa4*0x33+0x1*0x22ef)<<-0xf5c*-0x2+0x13*0x165+0x67*-0x8e|(this['_cookieFal'+'loff']?0x1d*-0x3a+0x503+0x19*0x10:0xdd6*-0x1+-0x1293+0x2069)<<0x4*-0x116+-0x3*-0x6eb+-0x1055|Ud[this['_cookieCha'+'nnel']['charAt'](0xef4+-0x1*0x1669+0x775)]<<-0x1*0x17b9+-0x49*0x3d+0x2930|(this['_cookieTra'+'nsform']?0x1a3+0xc7*0xd+-0xbbd:-0x1f*0x19+-0x8*-0x41f+-0x1df1)<<0x3*-0xd+-0x1*0x1433+-0x2ea*-0x7|this['_shape']<<0x133*-0x19+-0x1*0x20d8+-0x4d*-0xd1|(this['numCascade'+'s']>0xa8d+0x6fa+-0x1*0x1187?0x1b73+0x29*0x1a+-0x1f9c:0x3*-0x609+-0x2*0x2a9+0x176d)<<0x1*-0x1af3+0x8ef*0x3+0x2f*0x1|(this['_cascadeBl'+'end']>-0x1494+-0x21d6+-0x2*-0x1b35?0x6*-0x662+0xf40+0x7*0x34b:-0xc6b+0x3*0x449+-0x70)<<-0x224*-0x1+-0x1c1f+0x1a03|(this['affectSpec'+'ularity']?-0x7b0+-0x1*-0xb11+-0x24*0x18:-0x27*0xcf+-0x1a25+-0x45*-0xd6)<<0x224d+0x1854+-0x3a9a|this['mask']<<0x8e5*0x3+0x1*-0x107b+-0x517*0x2|(this['_castShado'+'ws']?0x1f*-0x10a+0x701+0x39a*0x7:0x1aed+-0x1114+0x1*-0x9d9)<<-0x1554+-0x1282+0x27d9;this['_cookieCha'+'nnel']['length']===0xc6b*0x2+-0x2272+0x99f&&(_0x2732f5|=Ud[this['_cookieCha'+'nnel']['charAt'](0x13*-0x74+-0x2*0xf76+-0x1d*-0x15d)]<<0x995*0x2+-0xe4b+0x4cf*-0x1,_0x2732f5|=Ud[this['_cookieCha'+'nnel']['charAt'](-0x1*-0xe13+-0x258b*0x1+-0x177a*-0x1)]<<-0x187b+-0x1c78+0x3501),_0x2732f5!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x2732f5;}}class L0{constructor(_0x34dde5,_0x235afc,_0x415189){c(this,'_areaLight'+'sEnabled',!(-0xcb3*0x2+0x1e7*0x13+-0x55f*0x2)),c(this,'_cells',new T(0x6fc*-0x3+-0xa4*-0x14+0x1*0x82e,0x56c+0x1*-0x1fd+-0xdb*0x4,0x60b+0x1c93+-0x2294)),c(this,'_maxLights'+'PerCell',0x8d5+-0x26*0x27+-0x20c),c(this,'_shadowsEn'+'abled',!(-0xc79+0x1*0xc88+-0x3*0x5)),c(this,'_shadowTyp'+'e',Dt),c(this,'_shadowAtl'+'asResoluti'+'on',0x170d+-0x1729+0x2*0x40e),c(this,'_cookiesEn'+'abled',!(-0x18d3+0xd48+0x4*0x2e3)),c(this,'_cookieAtl'+'asResoluti'+'on',0x16f*0xe+0x10c2+-0xf6*0x1e),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x34dde5,this['_maxTextur'+'eSize']=_0x235afc,this['_dirtyLigh'+'tsFnc']=_0x415189);}['applySetti'+'ngs'](_0xfa8ebb){this['shadowsEna'+'bled']=_0xfa8ebb['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0xfa8ebb['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0xfa8ebb['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0xfa8ebb['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0xfa8ebb['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0xfa8ebb['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0xfa8ebb['lightingSh'+'adowType']??this['shadowType'],_0xfa8ebb['lightingCe'+'lls']&&(this['cell']=new T(_0xfa8ebb['lightingCe'+'lls']));}set['cells'](_0x2aed24){this['_cells']['copy'](_0x2aed24);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x8ba40a){this['_maxLights'+'PerCell']=N['clamp'](_0x8ba40a,0x1*-0xb74+-0x4*0x2c+0xc25*0x1,0x1a*0x4+-0x2518+0x25af*0x1);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x3254f0){this['_cookieAtl'+'asResoluti'+'on']=N['clamp'](_0x3254f0,0x215b*-0x1+-0x425+0x25a0,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x14f0a3){this['_shadowAtl'+'asResoluti'+'on']=N['clamp'](_0x14f0a3,0xbab*-0x1+-0x1be+0xd89,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x7e6ee1){this['_shadowTyp'+'e']!==_0x7e6ee1&&(this['_shadowTyp'+'e']=_0x7e6ee1,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x435f3d){this['_cookiesEn'+'abled']!==_0x435f3d&&(this['_cookiesEn'+'abled']=_0x435f3d,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x2c1316){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x2c1316&&(this['_areaLight'+'sEnabled']=_0x2c1316,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x2db654){this['_shadowsEn'+'abled']!==_0x2db654&&(this['_shadowsEn'+'abled']=_0x2db654,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const jM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',YM=new _t(!(0xaf+0x2*0x94+-0x1d7),Lt,at,at);class fn{constructor(_0x32ac27){c(this,'shaderCach'+'e',[]),(this['morph']=_0x32ac27,_0x32ac27['incRefCoun'+'t'](),this['device']=_0x32ac27['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x1f5e99=0x4*-0x6e1+0x1d*0xef+0x1*0x71;_0x1f5e99<_0x32ac27['_targets']['length'];_0x1f5e99++){const _0x575bb2=_0x32ac27['_targets'][_0x1f5e99];_0x575bb2['name']&&this['_weightMap']['set'](_0x575bb2['name'],_0x1f5e99),this['setWeight'](_0x1f5e99,_0x575bb2['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x44e667=(_0x33b0d6,_0x59292c)=>(this[_0x59292c]=_0x32ac27['_createTex'+'ture'](_0x33b0d6,_0x32ac27['_renderTex'+'tureFormat']),new pt({'colorBuffer':this[_0x59292c],'depth':!(0xa5c+0x5f*-0x67+0x1bde)}));_0x32ac27['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x44e667('MorphRTPos','texturePos'+'itions')),_0x32ac27['morphNorma'+'ls']&&(this['rtNormals']=_0x44e667('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x32ac27['morphTextu'+'reWidth'],_0x32ac27['morphTextu'+'reHeight']]);const _0x47c248=_0x32ac27['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x47c248['x']*(0x180d+-0x22e4+0xadb),_0x47c248['y']*(-0xb3c+-0x2001+0x3*0xe6b),_0x47c248['z']*(-0x1*0x21d5+0x1347+0xe92)]);const _0x2f94c7=_0x32ac27['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x2f94c7['x']*(-0x26*-0x1d+0x1*0x13ab+0x5*-0x4cb),_0x2f94c7['y']*(0xc5d+-0x206f+0x1414),_0x2f94c7['z']*(0x31d*0x2+-0x403*0x4+-0x25*-0x44)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x173+0x191*0xa+-0x111b,-0x107a+0x211f+-0x10a3,-0x82b+0xeb2+-0x685*0x1]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x1*0x16c1+-0x493*-0x3+-0x2479),-(0xc74*-0x1+0x1*-0x38d+0x1*0x1002),-(-0x24c4*0x1+-0x130c+0x37d1)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x3484a0=0xb2a+0xa90+-0x2*0xadd;_0x3484a0<this['maxSubmitC'+'ount'];_0x3484a0++)this['morphBlend'+'Tex'+_0x3484a0]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x3484a0);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(-0x152c+0x1137+0x3f6);}['destroy'](){this['shader']=null;const _0x116296=this['morph'];_0x116296&&(this['morph']=null,_0x116296['decRefCoun'+'t'](),_0x116296['refCount']<-0x131*0x11+-0x29d*0x1+0x16df&&_0x116296['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new fn(this['morph']);}['_getWeight'+'Index'](_0x52a554){if(typeof _0x52a554=='string'){const _0x4b0e4a=this['_weightMap']['get'](_0x52a554);return _0x4b0e4a===void(0x1*-0x607+0x1a72+0x146b*-0x1)&&v['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x52a554+'.'),_0x4b0e4a;}return _0x52a554;}['getWeight'](_0x4eff58){const _0x5800de=this['_getWeight'+'Index'](_0x4eff58);return this['_weights'][_0x5800de];}['setWeight'](_0x3994fa,_0x4d9113){const _0x3f1ae4=this['_getWeight'+'Index'](_0x3994fa);v['assert'](_0x3f1ae4>=0x1*0x1acd+0x216c+-0x3c39&&_0x3f1ae4<this['morph']['_targets']['length']),this['_weights'][_0x3f1ae4]=_0x4d9113,this['_dirty']=!(0xe9*0x19+0x95f*-0x2+-0x403);}['_getFragme'+'ntShader'](_0x2094a8){let _0x4e40dc='',_0x206380='';for(let _0x5334f8=0xc15*-0x1+-0x682+0x1297;_0x5334f8<_0x2094a8;_0x5334f8++)_0x4e40dc+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x5334f8+';',_0x206380+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x5334f8+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x5334f8+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x2094a8>-0x117+0x1ed*-0xf+0x1dfa?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x2094a8+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x4e40dc+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x206380+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x48c215){let _0x32a2a0=this['shaderCach'+'e'][_0x48c215];if(!_0x32a2a0){const _0x3dc2b0=this['_getFragme'+'ntShader'](_0x48c215),_0x53365c=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x32a2a0=Is(this['device'],jM,_0x3dc2b0,'textureMor'+'ph'+_0x48c215,void(0x6fd*-0x2+0xf2e+-0xe*0x16),{'fragmentOutputTypes':[_0x53365c]}),this['shaderCach'+'e'][_0x48c215]=_0x32a2a0;}return _0x32a2a0;}['_updateTex'+'tureRender'+'Target'](_0x1c2315,_0x42d0e1,_0x55b048){const _0x6a0da9=this['device'],_0x52ed86=(_0x5b7fc2,_0x427a6e)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x6a0da9['setBlendSt'+'ate'](_0x427a6e?YM:_t['NOBLEND']);const _0x3db5a8=this['_getShader'](_0x5b7fc2);dn(_0x6a0da9,_0x1c2315,_0x3db5a8);};this['setAabbUni'+'forms'](_0x55b048);let _0x401b94=-0x111e+0x1*0x113d+0x1*-0x1f,_0x414bb6=!(-0x8*0x3f1+0x1*0x9f3+0x1596);const _0x3461b1=this['_activeTar'+'gets']['length'];for(let _0x4e78b0=-0x194f+-0x1809+0x8*0x62b;_0x4e78b0<_0x3461b1;_0x4e78b0++){const _0x21e19f=this['_activeTar'+'gets'][_0x4e78b0],_0x94cb81=_0x21e19f['target'][_0x42d0e1];_0x94cb81&&(this['morphBlend'+'Tex'+_0x401b94]['setValue'](_0x94cb81),this['_shaderMor'+'phWeights'][_0x401b94]=_0x21e19f['weight'],_0x401b94++,_0x401b94>=this['maxSubmitC'+'ount']&&(_0x52ed86(_0x401b94,_0x414bb6),_0x401b94=0x5d9+0x26ea+0x1*-0x2cc3,_0x414bb6=!(0x2*-0x946+0xb6e+0x71e*0x1)));}(_0x401b94>-0xd98+-0x35*0x7a+0x26da||_0x3461b1===0xfe4+0x2cb+-0x1*0x12af&&!this['zeroTextur'+'es'])&&_0x52ed86(_0x401b94,_0x414bb6);}['_updateTex'+'tureMorph'](){const _0x5ba188=this['device'];G['pushGpuMar'+'ker'](_0x5ba188,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>-0x18d*0x10+0xc28+-0x48*-0x2d||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(0x289*0xe+-0x15ac+0x6e9*-0x2)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(-0x1*0x1d4b+0x22b9+-0x56d)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===0xef*-0x20+-0x3*-0x65f+0xac3),G['popGpuMark'+'er'](_0x5ba188);}['setAabbUni'+'forms'](_0x5dbb06=!(-0xf69+-0x1e53*0x1+-0x1*-0x2dbc)){this['aabbSizeId']['setValue'](_0x5dbb06?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x5dbb06?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x2c24fc){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x134a+-0x1*0x2663+0x39ae);const _0xabb087=this['morph']['_targets'];let _0x596eda=-0x20*0x22+0xd1e+-0x8de*0x1;const _0x53b7d7=-0x849*-0x1+0x87e+-0x10c7+0.00001;for(let _0x2a7dba=0xb7d+-0x1eb*-0xa+-0x1*0x1eab;_0x2a7dba<_0xabb087['length'];_0x2a7dba++){const _0x186e56=Math['abs'](this['getWeight'](_0x2a7dba));if(_0x186e56>_0x53b7d7){this['_activeTar'+'gets']['length']<=_0x596eda&&(this['_activeTar'+'gets'][_0x596eda]={});const _0x1a55c0=this['_activeTar'+'gets'][_0x596eda++];_0x1a55c0['absWeight']=_0x186e56,_0x1a55c0['weight']=this['getWeight'](_0x2a7dba),_0x1a55c0['target']=_0xabb087[_0x2a7dba];}}this['_activeTar'+'gets']['length']=_0x596eda,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x311d63,_0x484be0)=>_0x311d63['absWeight']<_0x484be0['absWeight']?-0x645*-0x1+0x1*-0x635+-0xf*0x1:_0x484be0['absWeight']<_0x311d63['absWeight']?-(0x2311+0x3*-0xab+-0x210f):0x1*-0x40c+0x258e+-0x2182*0x1),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Oi{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=0x1*0xb02+-0x7*-0x355+-0x2255,this['_immutable']=!(-0x112e+-0x24ce+0x35fd));}['getGraph'](){return this['graph'];}['setGraph'](_0x4503a){this['graph']=_0x4503a;}['getCameras'](){return this['cameras'];}['setCameras'](_0x1d4b82){this['cameras']=_0x1d4b82;}['getLights'](){return this['lights'];}['setLights'](_0x5068ff){this['lights']=_0x5068ff;}['getMateria'+'ls'](){const _0x112826=[];for(let _0x5c5a62=-0x9dc*-0x1+-0x1*-0x11bb+0x7*-0x3f1;_0x5c5a62<this['meshInstan'+'ces']['length'];_0x5c5a62++){const _0x21e998=this['meshInstan'+'ces'][_0x5c5a62];_0x112826['indexOf'](_0x21e998['material'])===-(-0x48e*0x1+0x508*-0x7+0x27c7)&&_0x112826['push'](_0x21e998['material']);}return _0x112826;}['clone'](){const _0xc46f6=[],_0x1da16e=[],_0x4befd7=function(_0x4b9ae0){const _0x62a8e0=_0x4b9ae0['clone']();_0xc46f6['push'](_0x4b9ae0),_0x1da16e['push'](_0x62a8e0);for(let _0x5b4b09=-0x21f8+0xdd9+0x141f;_0x5b4b09<_0x4b9ae0['_children']['length'];_0x5b4b09++)_0x62a8e0['addChild'](_0x4befd7(_0x4b9ae0['_children'][_0x5b4b09]));return _0x62a8e0;},_0x49c3df=_0x4befd7(this['graph']),_0x68c918=[],_0x36bb14=[],_0x40f2af=[];for(let _0xbd8e87=0x11bf+-0x6db+-0xae4;_0xbd8e87<this['skinInstan'+'ces']['length'];_0xbd8e87++){const _0x5e8174=this['skinInstan'+'ces'][_0xbd8e87]['skin'],_0x5a22a4=new nl(_0x5e8174),_0x134d47=[];for(let _0x11b417=0x1be8+-0x1b99+0x1*-0x4f;_0x11b417<_0x5e8174['boneNames']['length'];_0x11b417++){const _0x22526c=_0x5e8174['boneNames'][_0x11b417],_0x205af0=_0x49c3df['findByName'](_0x22526c);_0x134d47['push'](_0x205af0);}_0x5a22a4['bones']=_0x134d47,_0x36bb14['push'](_0x5a22a4);}for(let _0x2c9821=0x16cd+0x1*0x1315+0x14f1*-0x2;_0x2c9821<this['morphInsta'+'nces']['length'];_0x2c9821++){const _0x519cd4=this['morphInsta'+'nces'][_0x2c9821]['morph'],_0x2831eb=new fn(_0x519cd4);_0x40f2af['push'](_0x2831eb);}for(let _0xf2c279=0xba4+-0x3*0x72+-0xa4e*0x1;_0xf2c279<this['meshInstan'+'ces']['length'];_0xf2c279++){const _0x789822=this['meshInstan'+'ces'][_0xf2c279],_0x12101b=_0xc46f6['indexOf'](_0x789822['node']),_0x122185=new Le(_0x789822['mesh'],_0x789822['material'],_0x1da16e[_0x12101b]);if(_0x789822['skinInstan'+'ce']){const _0x41bec5=this['skinInstan'+'ces']['indexOf'](_0x789822['skinInstan'+'ce']);_0x122185['skinInstan'+'ce']=_0x36bb14[_0x41bec5];}if(_0x789822['morphInsta'+'nce']){const _0x297e79=this['morphInsta'+'nces']['indexOf'](_0x789822['morphInsta'+'nce']);_0x122185['morphInsta'+'nce']=_0x40f2af[_0x297e79];}_0x68c918['push'](_0x122185);}const _0x1d6216=new Oi();return _0x1d6216['graph']=_0x49c3df,_0x1d6216['meshInstan'+'ces']=_0x68c918,_0x1d6216['skinInstan'+'ces']=_0x36bb14,_0x1d6216['morphInsta'+'nces']=_0x40f2af,_0x1d6216['getGraph']()['syncHierar'+'chy'](),_0x1d6216;}['destroy'](){const _0x4c7567=this['meshInstan'+'ces'];for(let _0x1baeb9=-0x8*0x27c+-0x1*0x22c6+0x577*0xa;_0x1baeb9<_0x4c7567['length'];_0x1baeb9++)_0x4c7567[_0x1baeb9]['destroy']();this['meshInstan'+'ces']['length']=-0x776+-0xc54+0x13ca;}['generateWi'+'reframe'](){Le['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Dr);}}class F0 extends Gc{constructor(_0x5c4198,_0x1ebdd5,{preferHighPrecision:_0x565079=!(-0x7*-0x1d2+-0x1*-0x2551+0x1907*-0x2)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(v['assert'](_0x1ebdd5,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x1ebdd5,this['preferHigh'+'Precision']=_0x565079,v['assert'](_0x5c4198['every'](_0x29ba9f=>!_0x29ba9f['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x5c4198['slice']());const _0x1cebca=this['device'],_0x4f509b=_0x1cebca['textureHal'+'fFloatRend'+'erable']?Je:void(-0x2559+-0x4d*-0x5f+0x8c6),_0x1e0cb4=_0x1cebca['textureFlo'+'atRenderab'+'le']?Ke:void(0x1551+0x1*0x1a35+0x9e*-0x4d);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x1e0cb4??_0x4f509b:_0x4f509b??_0x1e0cb4,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Ac,this['intRenderF'+'ormat']=ea(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Sc:Je,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x54a356=new T(),_0x27cb65=new T();for(let _0x52bb75=0x23*-0x7f+0xe*-0xa7+-0x1*-0x1a7f;_0x52bb75<this['_targets']['length'];_0x52bb75++){const _0x2434e4=this['_targets'][_0x52bb75]['aabb'];_0x54a356['min'](_0x2434e4['getMin']()),_0x27cb65['max'](_0x2434e4['getMax']());}this['_aabb']=new _e(),this['_aabb']['setMinMax'](_0x54a356,_0x27cb65);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x2e764a=-0x16db+0x1*-0x8de+-0x1fb9*-0x1;_0x2e764a<this['_targets']['length'];_0x2e764a++)this['_targets'][_0x2e764a]['_postInit']();}['_findSpars'+'eSet'](_0x4c404a,_0x3dad86,_0x72691e){let _0x49b3b5=-0x23f7+-0x1*-0x1e37+0x5c1;const _0x11492a=_0x4c404a[0x3*0x8f+0x1b20+-0x1*0x1ccd]['length'];for(let _0x34f75f=0x1a8a+0x263+0x1*-0x1ced;_0x34f75f<_0x11492a;_0x34f75f+=-0x3d3+-0x137e+-0x2*-0xbaa){let _0x29ffb5=!(0xd0a*-0x2+0x1de4+-0x3cf);for(let _0x43b164=0x1db+-0x11b8+-0xfdd*-0x1;_0x43b164<_0x4c404a['length'];_0x43b164++){const _0x156e37=_0x4c404a[_0x43b164];if(_0x156e37[_0x34f75f]!==-0x1ed*0x13+-0x7*0x32f+-0x9d*-0x60||_0x156e37[_0x34f75f+(0xee*-0x6+-0x45*0x1d+0xd66)]!==-0x155f*0x1+0xa9*-0xa+0x1*0x1bf9||_0x156e37[_0x34f75f+(-0x16f7*-0x1+0xdaf+-0x24a4)]!==0x92b*-0x1+0x15bc+0x1*-0xc91){_0x29ffb5=!(-0x13c5+-0x1c2e*0x1+0x997*0x5);break;}}_0x29ffb5?(_0x3dad86['push'](_0x49b3b5),_0x72691e['push'](_0x34f75f/(0x1*0x24df+-0x903*-0x1+0x1*-0x2ddf)),_0x49b3b5++):_0x3dad86['push'](-0x26d6+-0x8*0x13+-0x31*-0xce);}return _0x49b3b5;}['_initTextu'+'reBased'](){const _0x428329=[],_0x5ccb13=[];for(let _0x2ca736=0x1*-0x14b8+0x4*0x8fe+0x3d0*-0x4;_0x2ca736<this['_targets']['length'];_0x2ca736++){const _0x53d128=this['_targets'][_0x2ca736];_0x53d128['options']['deltaPosit'+'ions']&&(_0x428329['push'](_0x53d128['options']['deltaPosit'+'ions']),_0x5ccb13['push']({'target':_0x53d128,'name':'texturePos'+'itions'})),_0x53d128['options']['deltaNorma'+'ls']&&(_0x428329['push'](_0x53d128['options']['deltaNorma'+'ls']),_0x5ccb13['push']({'target':_0x53d128,'name':'textureNor'+'mals'}));}const _0x2fe986=[],_0x236ecc=[],_0x102db0=this['_findSpars'+'eSet'](_0x428329,_0x2fe986,_0x236ecc),_0x4e596e=this['device']['maxTexture'+'Size'];let _0x2be8dd=Math['ceil'](Math['sqrt'](_0x102db0));_0x2be8dd=Math['min'](_0x2be8dd,_0x4e596e);const _0x277301=Math['ceil'](_0x102db0/_0x2be8dd);if(_0x277301>_0x4e596e)return!(-0x1894+0x8c4+0xfd1);this['morphTextu'+'reWidth']=_0x2be8dd,this['morphTextu'+'reHeight']=_0x277301;let _0x13fce1=!(0x17*-0x14d+0x2245+-0x459),_0x25679c=0x5*0x7ce+-0x19f*0x5+-0x1ee8;const _0x535e48=$t['float2Half'];this['_textureFo'+'rmat']===Je&&(_0x13fce1=!(0x2e*-0x1f+-0xdde+0x1370),_0x25679c=-0x59*-0x2b+0x8*0xf1+-0x1677);const _0x53f236=[];for(let _0x3a04bd=-0x63a+0xfdb*0x2+-0x197c;_0x3a04bd<_0x428329['length'];_0x3a04bd++)_0x53f236['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x5208f3=0x267d+0x558+-0x2bd5;_0x5208f3<_0x428329['length'];_0x5208f3++){const _0x5c8508=_0x428329[_0x5208f3],_0x59d20d=_0x53f236[_0x5208f3],_0x5fd360=_0x59d20d['lock']();if(_0x13fce1)for(let _0x44aa14=0x25b8+0x1*-0x7db+-0x37*0x8b;_0x44aa14<_0x236ecc['length'];_0x44aa14++){const _0x566463=_0x236ecc[_0x44aa14]*(-0x12ec+-0xe9*0x2+0x14c1),_0x664656=_0x44aa14*_0x25679c+_0x25679c;_0x5fd360[_0x664656]=_0x535e48(_0x5c8508[_0x566463]),_0x5fd360[_0x664656+(-0x1178+0x14d6+0x29*-0x15)]=_0x535e48(_0x5c8508[_0x566463+(0x4*-0x6a9+-0x1daf+0x67*0x8c)]),_0x5fd360[_0x664656+(-0xac5*0x1+0x1550+0x1*-0xa89)]=_0x535e48(_0x5c8508[_0x566463+(0x21d0+0x240d+-0x45db)]);}else for(let _0x1fcfbc=0x40f*0x8+-0xd18+-0x8*0x26c;_0x1fcfbc<_0x236ecc['length'];_0x1fcfbc++){const _0x2b02af=_0x236ecc[_0x1fcfbc]*(0x1004+-0x107*-0x1f+-0x2fda),_0x1c3ad1=_0x1fcfbc*_0x25679c+_0x25679c;_0x5fd360[_0x1c3ad1]=_0x5c8508[_0x2b02af],_0x5fd360[_0x1c3ad1+(-0x12a1+0x74f+0xd*0xdf)]=_0x5c8508[_0x2b02af+(0x15*-0x1bb+-0x6*0x2c7+0x3502)],_0x5fd360[_0x1c3ad1+(0x7*-0x3a1+-0xb66*-0x1+0xe03*0x1)]=_0x5c8508[_0x2b02af+(0x10b*0x8+-0x165e*-0x1+-0x5*0x624)];}_0x59d20d['unlock'](),_0x5ccb13[_0x5208f3]['target']['_setTextur'+'e'](_0x5ccb13[_0x5208f3]['name'],_0x59d20d);}const _0x33cb07=[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(-0x17f*-0x2+-0x1f*-0x9f+-0x163f)}];return this['vertexBuff'+'erIds']=new os(this['device'],new Et(this['device'],_0x33cb07,_0x2fe986['length']),_0x2fe986['length'],{'data':new Uint32Array(_0x2fe986)}),!(-0x1*-0x17f5+-0x9b*0x2e+-0x1*-0x3e5);}['destroy'](){var _0x2adc4a;(_0x2adc4a=this['vertexBuff'+'erIds'])==null||_0x2adc4a['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x4cd188=-0x1781+0x1*-0x1337+0x2ab8;_0x4cd188<this['_targets']['length'];_0x4cd188++)this['_targets'][_0x4cd188]['destroy']();this['_targets']['length']=-0xc5a+-0x129e+-0x7be*-0x4;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0xe1a+0x9f2+-0x180b),this['_morphNorm'+'als']=!(-0xa*-0x1b7+-0x1*-0x1e25+0x1*-0x2f4a);for(let _0x3e3903=-0x266d+-0x2175+0x47e2;_0x3e3903<this['_targets']['length'];_0x3e3903++){const _0x57c49b=this['_targets'][_0x3e3903];_0x57c49b['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(0x2567*0x1+-0xfb3+0x4*-0x56d)),_0x57c49b['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(0x2360+-0x245*-0xd+-0x40e1*0x1));}}['_createTex'+'ture'](_0x5da779,_0x58035e){return new he(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x58035e,'cubemap':!(0xdd5*0x1+0x1*0x79a+-0x156e*0x1),'mipmaps':!(0x2060+0x67*0x3d+-0x136*0x2f),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x5da779});}}class Qc{constructor(_0x57a39a){c(this,'used',!(0x15da+-0x2200+0xc27)),(v['assert'](arguments['length']===0x4d2*0x1+-0x4*0x3c+0x14b*-0x3),this['options']=_0x57a39a,this['_name']=_0x57a39a['name'],this['_defaultWe'+'ight']=_0x57a39a['defaultWei'+'ght']||-0x2*0xbb7+-0x3*0xa51+0x3661,this['_aabb']=_0x57a39a['aabb'],this['deltaPosit'+'ions']=_0x57a39a['deltaPosit'+'ions']);}['destroy'](){var _0xfdde40,_0x4ae302;(_0xfdde40=this['texturePos'+'itions'])==null||_0xfdde40['destroy'](),this['texturePos'+'itions']=null,(_0x4ae302=this['textureNor'+'mals'])==null||_0x4ae302['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new _e(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return v['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Qc(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0xd13+-0x1646*-0x1+-0x1*0x2359);}['_setTextur'+'e'](_0x242654,_0x1ecb87){this[_0x242654]=_0x1ecb87;}}let si,v_=-0x4b2+0xc6*-0x2f+0xdaf*0x3;const ie=0x1*-0x460+-0x1*-0x24af+-0x204b,Vd=new q(),Gd=new q(),ks=new T(),ze=new T(),ps=new T(),Rn=new T(),Nt=new T(),Ze=new T(),In=new T(),Dn=new T(),Ka=new T(),b_=new T(),vt=new T(),Bl=new T(),wr=new T();function ia(_0x3de110){return _0x3de110-Math['floor'](_0x3de110);}function KM(_0x37f2a0){return Math['max'](Math['min'](_0x37f2a0,0xbe*0x28+-0xf94+-0xe1b),0x1*0x7b7+0xfeb*-0x2+-0x13*-0x145);}function Hd(_0x55da6e,_0x597e1d){return _0x55da6e-_0x597e1d*Math['floor'](_0x55da6e/_0x597e1d);}function ZM(_0x1dc147){let _0x560e2f=ia(_0x1dc147),_0x2c5d75=ia((-0x8d*-0x31+0x68+-0x1a66)*_0x1dc147),_0xb5b2e1=ia((-0x1*0xf727+-0x18f58+0x38480)*_0x1dc147),_0x105404=ia((0x147be7c+-0x1*-0x12ea0487+-0x2009*0x54e4)*_0x1dc147);return _0x560e2f-=_0x2c5d75/(-0x50a*0x3+0x1b4d+0x10*-0xb3),_0x2c5d75-=_0xb5b2e1/(0x128d*-0x1+-0x211b+0x1*0x34a7),_0xb5b2e1-=_0x105404/(-0xa61+0x962+-0x1*-0x1fe),_0x105404-=_0x105404/(0x1a05+0x590+-0x1e96),[_0x560e2f,_0x2c5d75,_0xb5b2e1,_0x105404];}function Nl(_0x1ab9b8){let _0x4ad5d1=ia(_0x1ab9b8),_0x50e956=ia((0xfeb+0x595*-0x3+-0x1d3*-0x1)*_0x1ab9b8);return _0x4ad5d1-=_0x50e956/(0x1169+0x1227*-0x1+0x1bd*0x1),_0x50e956-=_0x50e956/(-0x9d0+-0x8b9+0x32*0x64),[_0x4ad5d1,_0x50e956];}class QM{constructor(_0x45ce1b){this['_emitter']=_0x45ce1b;}['calcSpawnP'+'osition'](_0x451145,_0x69287c,_0x461880,_0x52c446,_0x5647d3){const _0x334844=this['_emitter'],_0x4834ad=Math['random'](),_0x5f0766=Math['random'](),_0x19202b=Math['random'](),_0x192a89=Math['random']();if(_0x334844['useCpu']&&(_0x451145[_0x5647d3*ie+(0x192f+0xd7d+-0x5a*0x6e)+_0x334844['numParticl'+'esPot']*(-0x1ce5+-0x254+0x1f3b)*ie]=_0x4834ad,_0x451145[_0x5647d3*ie+(-0xe89+0x49*-0x21+-0x17f3*-0x1)+_0x334844['numParticl'+'esPot']*(0x1*0x186c+0xe4a+-0x26b4)*ie]=_0x5f0766,_0x451145[_0x5647d3*ie+(-0xc*-0x1bb+-0xb*-0x2b6+0xc*-0x437)+_0x334844['numParticl'+'esPot']*(-0x5ad*0x2+-0x1579+-0xcd*-0x29)*ie]=_0x19202b),ze['x']=_0x4834ad-(-0x1*-0x1f2+0x13*-0x13+-0x89+0.5),ze['y']=_0x5f0766-(-0x16cf+0x1a12+-0x343*0x1+0.5),ze['z']=_0x19202b-(-0x2477+0xacd+0x19aa+0.5),_0x334844['emitterSha'+'pe']===Vs){const _0xe4a9c9=Math['max'](Math['abs'](ze['x']),Math['max'](Math['abs'](ze['y']),Math['abs'](ze['z']))),_0x4f1e02=_0xe4a9c9+(-0x1430+0x1911+-0x4e1+0.5-_0xe4a9c9)*_0x461880[-0x10d5+0x2213+0x2*-0x89f],_0x2e2d6a=_0xe4a9c9+(-0x1*0x2404+0x8c5*-0x1+0x2cc9+0.5-_0xe4a9c9)*_0x461880[0x3f*-0x59+-0x3d1*-0xa+-0x2*0x821],_0xf8925e=_0xe4a9c9+(-0x3c2*-0x7+-0x287*-0xe+-0x6*0xa48+0.5-_0xe4a9c9)*_0x461880[-0x93d+0x1924+-0xfe5];ze['x']=_0x4f1e02*(_0xe4a9c9===Math['abs'](ze['x'])?Math['sign'](ze['x']):(-0x13c9+0xc4b*0x3+-0x1116)*ze['x']),ze['y']=_0x2e2d6a*(_0xe4a9c9===Math['abs'](ze['y'])?Math['sign'](ze['y']):(-0x1e78+0x1654+0x826)*ze['y']),ze['z']=_0xf8925e*(_0xe4a9c9===Math['abs'](ze['z'])?Math['sign'](ze['z']):(-0x25b+-0xf96+0x11f3)*ze['z']),_0x334844['localSpace']?ks['copy'](_0x69287c['transformP'+'oint'](ze)):ks['copy'](_0x52c446)['add'](_0x69287c['transformP'+'oint'](ze));}else{ze['normalize']();const _0x2399b4=_0x334844['emitterRad'+'ius']===-0x1*-0xac1+0x1f*0x59+-0x1588?0x9ed+0x5*0xb2+0x1*-0xd67:_0x334844['emitterRad'+'iusInner']/_0x334844['emitterRad'+'ius'],_0x258e8a=_0x192a89*(0xe9+0x2d*-0x1e+0x45e-_0x2399b4)+_0x2399b4;_0x334844['localSpace']?ks['copy'](ze['mulScalar'](_0x258e8a*_0x334844['emitterRad'+'ius'])):ks['copy'](_0x52c446)['add'](ze['mulScalar'](_0x258e8a*_0x334844['emitterRad'+'ius']));}let _0x332006=-N['lerp'](_0x334844['rate'],_0x334844['rate2'],_0x4834ad)*_0x5647d3;if(_0x334844['pack8']){const _0x39ed04=(ks['x']-_0x334844['worldBound'+'s']['center']['x'])/_0x334844['worldBound'+'sSize']['x']+(0x9*0x3+-0x2429+0x240e+0.5),_0x4c3142=(ks['y']-_0x334844['worldBound'+'s']['center']['y'])/_0x334844['worldBound'+'sSize']['y']+(-0x2cc+0xe*-0x7+0x32e+0.5),_0x2869b9=(ks['z']-_0x334844['worldBound'+'s']['center']['z'])/_0x334844['worldBound'+'sSize']['z']+(-0xb0b+0x6b*0x2e+-0x82f*0x1+0.5);let _0x3f1f11=N['lerp'](_0x334844['startAngle']*N['DEG_TO_RAD'],_0x334844['startAngle'+'2']*N['DEG_TO_RAD'],_0x4834ad);_0x3f1f11=_0x3f1f11%(Math['PI']*(0x185d+0x8*-0x22+-0x174b))/(Math['PI']*(-0xd*-0x9b+0x198c+-0x2169));const _0x478b5f=Nl(_0x39ed04);_0x451145[_0x5647d3*ie]=_0x478b5f[-0x1fea+-0x128*0x16+0x395a],_0x451145[_0x5647d3*ie+(-0xdc2+0x31*0x57+0x25*-0x14)]=_0x478b5f[0x9*-0x243+-0xa7*0x24+-0xb8*-0x3d];const _0xff2d4d=Nl(_0x4c3142);_0x451145[_0x5647d3*ie+(-0x93f*-0x3+-0xe9c+-0xd1f)]=_0xff2d4d[0x82a*-0x1+0x14b0+-0xc86*0x1],_0x451145[_0x5647d3*ie+(-0x2f4+0x931+-0x63a)]=_0xff2d4d[0x19b4+0x72e*0x2+0x125*-0x23];const _0x2252c4=Nl(_0x2869b9);_0x451145[_0x5647d3*ie+(0x2*-0x59f+0x1*0xeca+-0x38c)+_0x334844['numParticl'+'esPot']*ie]=_0x2252c4[-0x1*-0x11ed+-0x10c7+-0x7*0x2a],_0x451145[_0x5647d3*ie+(0x9*-0x20b+0x2f*-0xe+0x14f6)+_0x334844['numParticl'+'esPot']*ie]=_0x2252c4[0x2484+-0x7e3*0x1+0x4*-0x728];const _0x4e1fff=Nl(_0x3f1f11);_0x451145[_0x5647d3*ie+(-0xa4*0x14+0x1132+0x28*-0x1c)+_0x334844['numParticl'+'esPot']*ie]=_0x4e1fff[-0x68a*-0x5+-0x12a2+-0x90*0x19],_0x451145[_0x5647d3*ie+(0x1*-0x16e5+-0x955+0x203d)+_0x334844['numParticl'+'esPot']*ie]=_0x4e1fff[0x2*0x295+-0x2296+0x51*0x5d];const _0x171d14=-0x403*0x1+0x195*0x5+0x1*-0x3e5;_0x451145[_0x5647d3*ie+(0x71f+0x7*-0x149+0x3*0xa1)+_0x334844['numParticl'+'esPot']*ie*(-0x24ac+0x1b7c*0x1+0x932)]=_0x171d14;const _0x2dab66=Math['max'](_0x334844['lifetime'],(_0x334844['numParticl'+'es']-(-0x1*0x10fa+0x13eb+-0x2f0))*Math['max'](_0x334844['rate'],_0x334844['rate2'])),_0x4c86ad=_0x334844['lifetime']+(-0x14f*-0x11+-0x9e3*0x1+-0x1*0xc5b);_0x332006=(_0x332006+_0x2dab66)/(_0x2dab66+_0x4c86ad);const _0x12f55=ZM(_0x332006);_0x451145[_0x5647d3*ie+(0x24bc*-0x1+0xe3f+-0x3*-0x77f)+_0x334844['numParticl'+'esPot']*ie*(0x2c*-0x3e+0x1bdc+-0x1131)]=_0x12f55[-0x60d+0x3*0x29+-0x1*-0x592],_0x451145[_0x5647d3*ie+(-0x1e13+0x26ca+-0x8b6)+_0x334844['numParticl'+'esPot']*ie*(-0x25f*0x2+-0x1*0x94f+-0x12*-0xc8)]=_0x12f55[-0x2*-0xb0a+-0x4*0x85d+0x3*0x3cb],_0x451145[_0x5647d3*ie+(-0x1887+0x111+-0x8*-0x2ef)+_0x334844['numParticl'+'esPot']*ie*(0x3b*-0x2+0x1*-0x232+-0x2ab*-0x1)]=_0x12f55[0x9*-0x413+-0x4*-0x3b7+0x15d1],_0x451145[_0x5647d3*ie+(0x32*-0x39+0x101*-0x15+-0x177*-0x16)+_0x334844['numParticl'+'esPot']*ie*(-0x2131+0x18c3+0x1*0x871)]=_0x12f55[-0x754+-0x16fe+-0x5*-0x611];}else _0x451145[_0x5647d3*ie]=ks['x'],_0x451145[_0x5647d3*ie+(0x3*0xbe9+0x2d9*-0x2+-0x1e08)]=ks['y'],_0x451145[_0x5647d3*ie+(-0x183b+-0x8ee+0x212b)]=ks['z'],_0x451145[_0x5647d3*ie+(-0xbb9+-0x188d+0x2449)]=N['lerp'](_0x334844['startAngle']*N['DEG_TO_RAD'],_0x334844['startAngle'+'2']*N['DEG_TO_RAD'],_0x4834ad),_0x451145[_0x5647d3*ie+(-0x1*-0x1011+0x4*-0xe2+-0xc86)+_0x334844['numParticl'+'esPot']*ie]=_0x332006;}['update'](_0x22bc72,_0x83a4c4,_0x53de01,_0x402f3c,_0x2f4545,_0x42d2ce,_0x461ddc,_0x3df590){let _0x4e54fd,_0x3a6971,_0x5e2707;const _0x15852e=this['_emitter'];if(_0x15852e['meshInstan'+'ce']['node']){const _0x15a037=_0x15852e['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x4caf7b=-0x29*0x72+0x2e1*0x2+0xc80;_0x4caf7b<-0x1*0x2317+-0x1466+0x7ef*0x7;_0x4caf7b++)Vd['data'][_0x4caf7b]=_0x15a037['data'][_0x4caf7b];Gd['copy'](Vd),Gd['invert'](),si=_0x15852e['meshInstan'+'ce']['node']['localScale'],v_=Math['max'](Math['max'](si['x'],si['y']),si['z']);}_0x42d2ce=_0x15852e['meshInstan'+'ce']['node']===null||_0x15852e['localSpace']?T['ZERO']:_0x15852e['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x2fb3ab=_0x15852e['camera']?_0x15852e['camera']['_node']['getPositio'+'n']():T['ZERO'],_0x46060b=_0x15852e['useMesh']?-0xd5c+0x89+-0xa*-0x14a:-0x1ba1+0x1fd1+-0x421;let _0xf35ee6,_0x39771c,_0x54de2b,_0x4335ab,_0x5d5ae5,_0x3bb34c,_0x38738,_0x14f055,_0x541886;const _0x53596=_0x15852e['precision']-(0x17fa+-0x9*-0x3ad+0xda*-0x43);for(let _0x2130dc=0xd9e+-0x139c+0x5fe;_0x2130dc<_0x15852e['numParticl'+'es'];_0x2130dc++){const _0x384872=Math['floor'](_0x15852e['vbCPU'][_0x2130dc*_0x15852e['numParticl'+'eVerts']*(_0x15852e['useMesh']?-0x1*0x35+0x92e*-0x1+0x323*0x3:-0x2*-0xe28+0x1*-0x180f+-0x43d)+(-0x7f*0x29+0x228a+0x38c*-0x4)]),_0x5b4b25=_0x53de01[_0x384872*ie+(-0xdc2+0x1d64+0xfa2*-0x1)+_0x15852e['numParticl'+'esPot']*(0x175*-0x5+0xe73+-0x728)*ie];ps['x']=_0x5b4b25,ps['y']=_0x53de01[_0x384872*ie+(-0xeaa*0x1+-0x2689+-0xd4d*-0x4)+_0x15852e['numParticl'+'esPot']*(-0x1a0e+0xc67+-0x10d*-0xd)*ie],ps['z']=_0x53de01[_0x384872*ie+(0x376+-0x1b*0x35+0x223*0x1)+_0x15852e['numParticl'+'esPot']*(0x1e9d+-0x1*0x8fb+-0x15a0)*ie];const _0x1a450d=_0x15852e['rate']+(_0x15852e['rate2']-_0x15852e['rate'])*_0x5b4b25,_0x5d4e46=_0x15852e['lifetime'];let _0xec7daa=_0x53de01[_0x384872*ie+(-0x234d+0x15ec+0x4*0x359)+_0x15852e['numParticl'+'esPot']*ie]+_0x461ddc;const _0x5189ed=KM(_0xec7daa/_0x5d4e46);let _0xfc28fa=0x1b*-0x12c+-0x50f+-0x1*-0x24b3,_0x3dfc37=0x2*-0x7+-0x2262+0x13*0x1d0;const _0x22021f=0x1*0x329+0x1*0x6f7+-0xc*0xd8;(_0xec7daa-_0x461ddc<=-0x72e*0x3+-0x1*-0x1dde+-0x854||_0xec7daa>=_0x5d4e46)&&this['calcSpawnP'+'osition'](_0x53de01,_0x402f3c,_0x2f4545,_0x42d2ce,_0x384872);let _0x5e3da1=_0xec7daa>0x25f*0x9+-0xbd0+-0x987&&_0xec7daa<_0x5d4e46;_0x5e3da1&&(_0x5e2707=_0x5189ed*_0x53596,_0xf35ee6=Math['floor'](_0x5e2707),_0x39771c=Math['ceil'](_0x5e2707),_0x5e2707%=0xb*0x5f+-0x1d1c+0x642*0x4,_0x4e54fd=_0x15852e['qRotSpeed'][_0xf35ee6],_0x3a6971=_0x15852e['qRotSpeed'][_0x39771c],_0x54de2b=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qRotSpeed2'][_0xf35ee6],_0x3a6971=_0x15852e['qRotSpeed2'][_0x39771c],_0x4335ab=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qScale'][_0xf35ee6],_0x3a6971=_0x15852e['qScale'][_0x39771c],_0xfc28fa=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qScale2'][_0xf35ee6],_0x3a6971=_0x15852e['qScale2'][_0x39771c],_0x5d5ae5=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qAlpha'][_0xf35ee6],_0x3a6971=_0x15852e['qAlpha'][_0x39771c],_0x3bb34c=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qAlpha2'][_0xf35ee6],_0x3a6971=_0x15852e['qAlpha2'][_0x39771c],_0x38738=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qRadialSpe'+'ed'][_0xf35ee6],_0x3a6971=_0x15852e['qRadialSpe'+'ed'][_0x39771c],_0x14f055=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qRadialSpe'+'ed2'][_0xf35ee6],_0x3a6971=_0x15852e['qRadialSpe'+'ed2'][_0x39771c],_0x541886=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x14f055+=(_0x541886-_0x14f055)*(_0x5b4b25*(-0x47*-0x45+-0x269e+0x13df*0x1)%(0x1269+-0x695*0x2+-0x53e)),Rn['x']=_0x53de01[_0x384872*ie],Rn['y']=_0x53de01[_0x384872*ie+(-0x6c2+-0x1dc4+0x2487)],Rn['z']=_0x53de01[_0x384872*ie+(-0x177e+0x2*0xac+0x1*0x1628)],_0x15852e['localSpace']?Ka['copy'](Rn):Ka['copy'](Rn)['sub'](_0x42d2ce),Ka['normalize']()['mulScalar'](_0x14f055),_0xf35ee6*=-0x22a0*0x1+0x577*-0x7+0x4*0x1239,_0x39771c*=0x215e+0xb36+-0x2c91,_0x4e54fd=_0x15852e['qLocalVelo'+'city'][_0xf35ee6],_0x3a6971=_0x15852e['qLocalVelo'+'city'][_0x39771c],Ze['x']=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qLocalVelo'+'city'][_0xf35ee6+(-0x1777+0x825+0xf53)],_0x3a6971=_0x15852e['qLocalVelo'+'city'][_0x39771c+(-0x1*0x2686+0x9a5+0x2*0xe71)],Ze['y']=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qLocalVelo'+'city'][_0xf35ee6+(-0x5ba*-0x1+-0xe2c*-0x1+-0x86*0x26)],_0x3a6971=_0x15852e['qLocalVelo'+'city'][_0x39771c+(-0x1*-0xba2+0x5fc+-0x62*0x2e)],Ze['z']=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qLocalVelo'+'city2'][_0xf35ee6],_0x3a6971=_0x15852e['qLocalVelo'+'city2'][_0x39771c],Dn['x']=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qLocalVelo'+'city2'][_0xf35ee6+(0x23fa+-0x92*-0x8+-0xd83*0x3)],_0x3a6971=_0x15852e['qLocalVelo'+'city2'][_0x39771c+(-0x6*-0x2e+0x153b*0x1+-0x164e)],Dn['y']=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qLocalVelo'+'city2'][_0xf35ee6+(-0x20c*-0x8+0xf60+-0x1fbe)],_0x3a6971=_0x15852e['qLocalVelo'+'city2'][_0x39771c+(0x812+0xfdf+-0x17ef)],Dn['z']=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qVelocity'][_0xf35ee6],_0x3a6971=_0x15852e['qVelocity'][_0x39771c],Nt['x']=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qVelocity'][_0xf35ee6+(0x27*-0x82+0xdec+0x5e3)],_0x3a6971=_0x15852e['qVelocity'][_0x39771c+(-0x1*-0x1b0d+-0x445+-0x16c7)],Nt['y']=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qVelocity'][_0xf35ee6+(0x1424+0x220c*-0x1+0xdea)],_0x3a6971=_0x15852e['qVelocity'][_0x39771c+(-0x1e59+-0x503*-0x1+0x1958)],Nt['z']=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qVelocity2'][_0xf35ee6],_0x3a6971=_0x15852e['qVelocity2'][_0x39771c],In['x']=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qVelocity2'][_0xf35ee6+(0x296*-0x7+-0xdfd+0x2018)],_0x3a6971=_0x15852e['qVelocity2'][_0x39771c+(0x1a33+-0x186b+0x7*-0x41)],In['y']=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,_0x4e54fd=_0x15852e['qVelocity2'][_0xf35ee6+(-0x7b+-0x1*0x263b+0x26b8)],_0x3a6971=_0x15852e['qVelocity2'][_0x39771c+(-0x1e96+0xc4a+0x124e)],In['z']=_0x4e54fd+(_0x3a6971-_0x4e54fd)*_0x5e2707,Ze['x']+=(Dn['x']-Ze['x'])*ps['x'],Ze['y']+=(Dn['y']-Ze['y'])*ps['y'],Ze['z']+=(Dn['z']-Ze['z'])*ps['z'],_0x15852e['initialVel'+'ocity']>-0xf4e+0x1*0xbcc+0x1*0x382&&(_0x15852e['emitterSha'+'pe']===qb?(ze['copy'](ps)['mulScalar'](-0x178+-0x1061+0x11db)['sub'](T['ONE'])['normalize'](),Ze['add'](ze['mulScalar'](_0x15852e['initialVel'+'ocity']))):Ze['add'](T['FORWARD']['mulScalar'](_0x15852e['initialVel'+'ocity']))),Nt['x']+=(In['x']-Nt['x'])*ps['x'],Nt['y']+=(In['y']-Nt['y'])*ps['y'],Nt['z']+=(In['z']-Nt['z'])*ps['z'],_0x54de2b+=(_0x4335ab-_0x54de2b)*ps['y'],_0xfc28fa=(_0xfc28fa+(_0x5d5ae5-_0xfc28fa)*(_0x5b4b25*(0x39*0xcd+-0x177b*0x2+-0x1*-0x2861)%(-0x12f*-0x1+0x1da7+-0x36d*0x9)))*v_,_0x3dfc37=(_0x38738-_0x3bb34c)*(_0x5b4b25*(-0x1f*0x1d+-0x4c2*-0x5+-0x105f)%(-0x3*0x635+-0xe23+0x20c3*0x1)),_0x15852e['meshInstan'+'ce']['node']&&(_0x15852e['localSpace']?(Ze['x']/=si['x'],Ze['y']/=si['y'],Ze['z']/=si['z']):Vd['transformP'+'oint'](Ze,Ze)),_0x15852e['localSpace']?(Gd['transformP'+'oint'](Nt,Nt),Ze['add'](Nt)['add'](Ka)):(Ze['add'](Nt['mul'](si)),Ze['add'](Ka['mul'](si))),Bl['copy'](Ze),b_['copy'](Rn)['add'](Ze['mulScalar'](_0x461ddc)),vt['copy'](b_),_0x53de01[_0x384872*ie]=vt['x'],_0x53de01[_0x384872*ie+(0x152d+0x2409+-0x1*0x3935)]=vt['y'],_0x53de01[_0x384872*ie+(0x23dd*-0x1+-0x1*-0x1696+0xd49)]=vt['z'],_0x53de01[_0x384872*ie+(0x1f*0x21+0x121e+-0x161a)]+=_0x54de2b*_0x461ddc,_0x15852e['wrap']&&_0x15852e['wrapBounds']&&(_0x15852e['localSpace']||vt['sub'](_0x42d2ce),vt['x']=Hd(vt['x'],_0x15852e['wrapBounds']['x'])-_0x15852e['wrapBounds']['x']*(-0x22ce+-0x615*0x1+0x28e3+0.5),vt['y']=Hd(vt['y'],_0x15852e['wrapBounds']['y'])-_0x15852e['wrapBounds']['y']*(-0xe53*0x1+0x7c*-0x2f+-0x279*-0xf+0.5),vt['z']=Hd(vt['z'],_0x15852e['wrapBounds']['z'])-_0x15852e['wrapBounds']['z']*(0xbed*-0x3+-0x1156*-0x1+0x1271*0x1+0.5),_0x15852e['localSpace']||vt['add'](_0x42d2ce)),_0x15852e['sort']>-0x2*0x66b+-0x1c51+0x2927&&(_0x15852e['sort']===-0x7b*0x3a+0x59*0x1d+0x11ca?(wr['copy'](vt)['sub'](_0x2fb3ab),_0x15852e['particleDi'+'stance'][_0x384872]=-(wr['x']*wr['x']+wr['y']*wr['y']+wr['z']*wr['z'])):_0x15852e['sort']===-0xbde*-0x3+0x19d0+-0xf*0x418?_0x15852e['particleDi'+'stance'][_0x384872]=_0xec7daa:_0x15852e['sort']===0x3cd*0x1+0x1530+-0x8b*0x2e&&(_0x15852e['particleDi'+'stance'][_0x384872]=-_0xec7daa))),_0x3df590?_0xec7daa<-0x25*0xfb+-0x16bc+0x3b03&&(_0x53de01[_0x384872*ie+(0x6d7*-0x3+0x1a1e*0x1+-0x596)+_0x15852e['numParticl'+'esPot']*(0x1*-0x1e39+0x12d0+0xb6b)*ie]=-(-0x81d*0x1+0x128+0x6f6)):(_0xec7daa>=_0x5d4e46&&(_0xec7daa-=Math['max'](_0x5d4e46,(_0x15852e['numParticl'+'es']-(0x22*0x2a+0x1cd5+-0x2268))*_0x1a450d),_0x53de01[_0x384872*ie+(0x658+-0x1993+0x1*0x133e)+_0x15852e['numParticl'+'esPot']*(0x375*-0x5+0x25b2+-0x1467)*ie]=_0x15852e['loop']?-0x1d7e+0x5a*-0x49+0x3729:-(-0x1125+0xb1e*0x3+-0x1034)),_0xec7daa<-0x5c0+-0x1*-0x152e+0x2*-0x7b7&&_0x15852e['loop']&&(_0x53de01[_0x384872*ie+(-0x332*0xc+-0x1bdf+0x211d*0x2)+_0x15852e['numParticl'+'esPot']*(0x267b+-0x73a+-0x1f3f)*ie]=0x2*-0xb7d+0x17*-0x9b+0x24e8)),_0x53de01[_0x384872*ie+(0xa6a+-0xcdb*0x1+0x13a*0x2)+_0x15852e['numParticl'+'esPot']*(0x1fb0+0xcf*-0x8+-0x1936)*ie]<-0x2630+-0x1c64+-0x4*-0x10a5&&(_0x5e3da1=!(0x21c0+-0x2050+0x1*-0x16f)),_0x53de01[_0x384872*ie+(-0x2189*0x1+-0x3*-0x447+0x1*0x14b7)+_0x15852e['numParticl'+'esPot']*ie]=_0xec7daa;for(let _0x5e7033=0x1780+0x25ad+0x3d2d*-0x1;_0x5e7033<_0x15852e['numParticl'+'eVerts'];_0x5e7033++){const _0xa2db69=(_0x2130dc*_0x15852e['numParticl'+'eVerts']+_0x5e7033)*(_0x15852e['useMesh']?-0x1f1+0x1*-0xa7e+0x1*0xc75:0x197+-0xf*-0x13f+-0x1444);let _0x2ed3e1=_0x15852e['vbCPU'][_0xa2db69],_0x3464bf=_0x15852e['vbCPU'][_0xa2db69+(-0x17d9+-0x1a8a+0x3264)],_0x18d513=_0x15852e['vbCPU'][_0xa2db69+(0x1f40+0x1*-0x1d66+-0x1d8)];_0x5e3da1||(_0x2ed3e1=_0x3464bf=_0x18d513=-0x16db*-0x1+0x1ee3*0x1+-0x1adf*0x2);const _0x2ef49c=_0x2130dc*_0x15852e['numParticl'+'eVerts']*_0x46060b+_0x5e7033*_0x46060b;_0x22bc72[_0x2ef49c]=vt['x'],_0x22bc72[_0x2ef49c+(-0x17*0x61+-0x1c7e+-0x16*-0x1b1)]=vt['y'],_0x22bc72[_0x2ef49c+(-0x6f0*-0x3+-0xa*0xe9+-0x7*0x1ac)]=vt['z'],_0x22bc72[_0x2ef49c+(-0x2357+-0x261d+0x4977)]=_0x5189ed,_0x22bc72[_0x2ef49c+(0x1f7d*-0x1+0x5db*-0x4+0x3*0x124f)]=_0x15852e['alignToMot'+'ion']?_0x22021f:_0x53de01[_0x384872*ie+(0x1*0x265a+0xfe1+-0x3638)],_0x22bc72[_0x2ef49c+(-0x4ca+0x1*-0x25fc+-0x1*-0x2acb)]=_0xfc28fa,_0x22bc72[_0x2ef49c+(0x682+-0x1*0x543+-0x139)]=_0x3dfc37,_0x22bc72[_0x2ef49c+(0x8*0x1c1+0x735+-0x1536)]=Bl['x'],_0x22bc72[_0x2ef49c+(0x725*-0x1+-0xa64+0x1*0x1191)]=_0x2ed3e1,_0x22bc72[_0x2ef49c+(0x1*0x547+0xe0c+-0x9a5*0x2)]=_0x3464bf,_0x22bc72[_0x2ef49c+(0x1049+-0x227e+-0x615*-0x3)]=_0x18d513,_0x22bc72[_0x2ef49c+(-0x744*0x3+-0x245a+-0x1*-0x3a31)]=Bl['y'],_0x22bc72[_0x2ef49c+(0x2bb*0xd+-0x425*-0x5+-0x382c)]=_0x384872,_0x22bc72[_0x2ef49c+(0x3*-0x242+0x1d7*-0x12+0x27f1)]=Bl['z'],_0x22bc72[_0x2ef49c+(0x2*-0xc2+-0x175e+0x18f0)]=_0x15852e['vbCPU'][_0xa2db69+(-0x153*0xb+0x149*-0x1+0xfdd)],_0x15852e['useMesh']&&(_0x22bc72[_0x2ef49c+(-0x1546+0x576+0xfdf)]=_0x15852e['vbCPU'][_0xa2db69+(-0x635+0xc7f*0x1+-0x646)],_0x22bc72[_0x2ef49c+(-0x12f4*0x1+-0x35*0x71+0x2a69)]=_0x15852e['vbCPU'][_0xa2db69+(-0x55*-0x6d+-0x2547+-0x1*-0x11b)]);}}if(_0x15852e['sort']>Du&&_0x15852e['camera']){const _0x232ba6=_0x15852e['useMesh']?-0x3cc+-0x468+-0xea*-0x9:-0x60*-0x12+-0x797+-0x49*-0x3,_0x53683f=_0x15852e['particleDi'+'stance'];for(let _0x4946f1=0x17*0xa1+0x164*-0xb+0xd5;_0x4946f1<_0x15852e['numParticl'+'es'];_0x4946f1++)_0x83a4c4[_0x4946f1][0x43*-0x8b+0x5e7*-0x1+0x2a48*0x1]=_0x4946f1,_0x83a4c4[_0x4946f1][0x1*0x18b9+-0xd93+-0xb25]=_0x53683f[Math['floor'](_0x15852e['vbCPU'][_0x4946f1*_0x15852e['numParticl'+'eVerts']*_0x232ba6+(0x28*-0x52+-0x22b2+-0x32b*-0xf)])];_0x15852e['vbOld']['set'](_0x15852e['vbCPU']),_0x83a4c4['sort']((_0x946ac8,_0x1dbd39)=>_0x946ac8[0x13d*0xa+0x1704+0x2b9*-0xd]-_0x1dbd39[-0x902*-0x4+-0x399+-0x206e]);for(let _0x54b3e5=-0xe2*-0x4+-0x1cd*0x3+0x1*0x1df;_0x54b3e5<_0x15852e['numParticl'+'es'];_0x54b3e5++){const _0xb05da=_0x83a4c4[_0x54b3e5][0x2514+0x23e6+-0x48fa]*_0x15852e['numParticl'+'eVerts']*_0x232ba6,_0x483c32=_0x54b3e5*_0x15852e['numParticl'+'eVerts']*_0x232ba6;for(let _0x54312b=-0x1b24+0x31*-0x49+0x291d;_0x54312b<_0x15852e['numParticl'+'eVerts']*_0x232ba6;_0x54312b++)_0x15852e['vbCPU'][_0x483c32+_0x54312b]=_0x15852e['vbOld'][_0xb05da+_0x54312b];}}}}const w_=new js(),T_=new js(),A_=new js();class JM{constructor(_0x53b013,_0x1fd4dc){this['_emitter']=_0x53b013,this['frameRando'+'mUniform']=new Float32Array(0x5fc*-0x2+0x187b+-0x28*0x50),this['emitterPos'+'Uniform']=new Float32Array(-0x2003+-0x55+-0xfb*-0x21),this['emitterSca'+'leUniform']=new Float32Array([-0x3db*-0x1+0x1087*0x2+-0x24e8,-0x1*-0x149f+0x11cd*-0x1+-0x67*0x7,-0x7*0x4db+-0x80e*0x2+0x321a]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(-0xc93+-0x21d7+0x2e6d),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0x1f2e*0x1+-0x3*0xc36+0x43d3),this['inBoundsSi'+'zeUniform']=new Float32Array(-0xe*-0xd9+0x101e+-0x1bf9),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(0x170f+0x1031+-0x23*0x11f),this['constantPa'+'rticleTexI'+'N']=_0x1fd4dc['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x1fd4dc['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x1fd4dc['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x1fd4dc['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x1fd4dc['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x1fd4dc['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x1fd4dc['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x1fd4dc['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x1fd4dc['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x1fd4dc['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x1fd4dc['scope']['resolve']('delta'),this['constantRa'+'te']=_0x1fd4dc['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x1fd4dc['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x1fd4dc['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x1fd4dc['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x1fd4dc['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x1fd4dc['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x1fd4dc['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x1fd4dc['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x1fd4dc['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x1fd4dc['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x1fd4dc['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x1fd4dc['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x1fd4dc['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x1fd4dc['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x1fd4dc['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x1fd4dc['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x1fd4dc['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x1fd4dc['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x1fd4dc['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x1fd4dc['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x1fd4dc['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x1fd4dc['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x1fd4dc['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x1fd4dc['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x1fd4dc['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x1fd4dc['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0x1d29+0x1c2c+0xfd]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x1b17+0x574*-0x6+0x5a2]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x6*0x133+-0x1f33+0x1803]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][0x1a8*-0x9+0x1e25+-0xf3d]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0xe9a+0x11*-0x130+-0x22cb*-0x1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0x1fe8+0x1982+0x668]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][0x1*-0x1eb5+0x3*0x811+0x682]=Math['random'](),this['frameRando'+'mUniform'][-0x7f*-0x1c+0x0+0xed*-0xf]=Math['random'](),this['frameRando'+'mUniform'][0x3*0x851+0x1*0x223a+0x33*-0x129]=Math['random']();}['update'](_0x1ee5fa,_0x2715aa,_0x311713,_0x48c55c,_0x33f72c){G['pushGpuMar'+'ker'](_0x1ee5fa,'ParticleGP'+'U');const _0x38fe9a=this['_emitter'];_0x1ee5fa['setBlendSt'+'ate'](_t['NOBLEND']),_0x1ee5fa['setDepthSt'+'ate'](as['NODEPTH']),_0x1ee5fa['setCullMod'+'e'](mt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0x141e+0x6bb*-0x3+0x14)/_0x38fe9a['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x38fe9a['precision']),this['constantNu'+'mParticles']['setValue'](_0x38fe9a['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x38fe9a['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x38fe9a['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x38fe9a['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x38fe9a['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x38fe9a['internalTe'+'x3']);const _0x44120f=_0x38fe9a['meshInstan'+'ce']['node'],_0x3716d9=_0x44120f===null?T['ONE']:_0x44120f['localScale'];if(_0x38fe9a['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x138a+0x182a+-0x15da*0x2]=_0x38fe9a['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][-0x3e2*0x7+-0x99d*0x3+0x3806]=_0x38fe9a['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0xde0+-0x10e0+0x302]=_0x38fe9a['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0x1189+-0xb3d+0x3e*-0x1a]=_0x38fe9a['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x20f3+0xf*-0x77+-0x27ed*-0x1]=_0x38fe9a['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0x6ee+0x1*0x1aad+-0x2199]=_0x38fe9a['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x59ae1a=_0x38fe9a['maxVel']*Math['max'](Math['max'](_0x3716d9['x'],_0x3716d9['y']),_0x3716d9['z']);_0x59ae1a=Math['max'](_0x59ae1a,-0x11*-0x37+-0xed2+0xb2c),this['constantMa'+'xVel']['setValue'](_0x59ae1a);}const _0x4a8ba0=_0x44120f===null||_0x38fe9a['localSpace']?T['ZERO']:_0x44120f['getPositio'+'n'](),_0x224a84=_0x44120f===null?q['IDENTITY']:_0x44120f['getWorldTr'+'ansform']();_0x38fe9a['emitterSha'+'pe']===Vs?(w_['setFromMat'+'4'](_0x2715aa),this['constantSp'+'awnBounds']['setValue'](w_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x311713)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x38fe9a['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x38fe9a['emitterRad'+'ius']===-0x33f*0xc+0x29*0x2f+0x1f6d?0x28c+-0x780+0x4f4:_0x38fe9a['emitterRad'+'iusInner']/_0x38fe9a['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x38fe9a['initialVel'+'ocity']),T_['setFromMat'+'4'](_0x224a84),A_['invertMat4'](_0x224a84),this['emitterPos'+'Uniform'][0x1a12+0xb34+-0x2546*0x1]=_0x4a8ba0['x'],this['emitterPos'+'Uniform'][0x31*0x3+-0x84f+0x7bd]=_0x4a8ba0['y'],this['emitterPos'+'Uniform'][-0x1c92+-0x26*-0x23+-0xbb1*-0x2]=_0x4a8ba0['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x48c55c),this['constantRa'+'te']['setValue'](_0x38fe9a['rate']),this['constantRa'+'teDiv']['setValue'](_0x38fe9a['rate2']-_0x38fe9a['rate']),this['constantSt'+'artAngle']['setValue'](_0x38fe9a['startAngle']*N['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x38fe9a['startAngle'+'2']*N['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x38fe9a['seed']),this['constantLi'+'fetime']['setValue'](_0x38fe9a['lifetime']),this['emitterSca'+'leUniform'][-0x3*0x93a+0x7cc*0x5+-0xb4e]=_0x3716d9['x'],this['emitterSca'+'leUniform'][-0x1d2+0xc8+0x10b]=_0x3716d9['y'],this['emitterSca'+'leUniform'][0x19e2+0x1*0x13bc+-0x54*0x8b]=_0x3716d9['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](T_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](A_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x38fe9a['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x38fe9a['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x38fe9a['rotSpeedUM'+'ax'][-0x21a*0x4+0xe73*-0x2+0x254e]);let _0x578107=_0x38fe9a['swapTex']?_0x38fe9a['particleTe'+'xOUT']:_0x38fe9a['particleTe'+'xIN'];_0x578107=_0x38fe9a['beenReset']?_0x38fe9a['particleTe'+'xStart']:_0x578107;const _0xddc1ec=_0x38fe9a['swapTex']?_0x38fe9a['particleTe'+'xIN']:_0x38fe9a['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x578107),dn(_0x1ee5fa,_0x38fe9a['swapTex']?_0x38fe9a['rtParticle'+'TexIN']:_0x38fe9a['rtParticle'+'TexOUT'],_0x33f72c?_0x38fe9a['shaderPart'+'icleUpdate'+'OnStop']:_0x38fe9a['loop']?_0x38fe9a['shaderPart'+'icleUpdate'+'Respawn']:_0x38fe9a['shaderPart'+'icleUpdate'+'NoRespawn']),_0x38fe9a['material']['setParamet'+'er']('particleTe'+'xOUT',_0x578107),_0x38fe9a['material']['setParamet'+'er']('particleTe'+'xIN',_0xddc1ec),_0x38fe9a['beenReset']=!(-0x1878+0x1879*-0x1+0x30f2),_0x38fe9a['swapTex']=!_0x38fe9a['swapTex'],_0x38fe9a['prevWorldB'+'oundsSize']['copy'](_0x38fe9a['worldBound'+'sSize']),_0x38fe9a['prevWorldB'+'oundsCente'+'r']['copy'](_0x38fe9a['worldBound'+'s']['center']),_0x38fe9a['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x1ee5fa);}}class e1 extends It{['generateKe'+'y'](_0x155e74){let _0x25b3e9='particle_'+It['definesHas'+'h'](_0x155e74['defines'])+'_';for(const _0x224271 in _0x155e74)_0x155e74['hasOwnProp'+'erty'](_0x224271)&&(_0x25b3e9+=_0x155e74[_0x224271]);return _0x25b3e9;}['_animTex'](_0x598bde){let _0xaece6b='';return _0xaece6b+=_0x598bde['animTexLoo'+'p']?X['particleAn'+'imFrameLoo'+'pVS']:X['particleAn'+'imFrameCla'+'mpVS'],_0xaece6b+=X['particleAn'+'imTexVS'],_0xaece6b;}['createShad'+'erDefiniti'+'on'](_0x448d53,_0x1c3c60){const _0x1563c0='#define\x20PA'+'RTICLE_'+(_0x1c3c60['useCpu']?'CPU':'GPU')+'\x0a';let _0x48c674='#define\x20PA'+'RTICLE\x0a'+_0x1563c0,_0x30e2f9='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x1563c0;_0x1c3c60['mesh']&&(_0x30e2f9+='#define\x20US'+'E_MESH\x0a'),_0x1c3c60['localSpace']&&(_0x30e2f9+='#define\x20LO'+'CAL_SPACE\x0a'),_0x1c3c60['screenSpac'+'e']&&(_0x30e2f9+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x1c3c60['animTex']&&(_0x30e2f9+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x1c3c60['animTex']&&(_0x30e2f9+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x1c3c60['animTex']&&(_0x30e2f9+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x1c3c60['normal']===-0x2*-0xd28+0xf1*0x17+-0x2ff5&&(_0x30e2f9+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x1c3c60['normal']===0x1*-0x1dd9+-0x66+0x79*0x40&&(_0x30e2f9+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x1c3c60['soft']&&(_0x30e2f9+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x3e1ea2=_0x1c3c60['customFace']?X['particle_c'+'ustomFaceV'+'S']:X['particle_b'+'illboardVS'];_0x1c3c60['useCpu']?(_0x1c3c60['soft']>-0x194f+0x17a3+0x1ac*0x1&&(_0x30e2f9+=X['screenDept'+'hPS']),_0x30e2f9+=X['particle_c'+'puVS'],_0x1c3c60['localSpace']&&(_0x30e2f9+=X['particle_l'+'ocalShiftV'+'S']),_0x1c3c60['animTex']&&(_0x30e2f9+=this['_animTex'](_0x1c3c60)),_0x1c3c60['alignToMot'+'ion']&&(_0x30e2f9+=X['particle_p'+'ointAlongV'+'S']),_0x30e2f9+=_0x1c3c60['mesh']?X['particle_m'+'eshVS']:_0x3e1ea2,_0x1c3c60['normal']===-0x1ba8+0x2*-0xba2+0x32ed&&(_0x30e2f9+=X['particle_n'+'ormalVS']),_0x1c3c60['normal']===-0xcb*-0x1+0xa*-0x2ea+-0x7*-0x40d&&(_0x30e2f9+=X['particle_T'+'BNVS']),_0x1c3c60['stretch']>-0x115b*-0x1+-0x1e4d+0x679*0x2&&(_0x30e2f9+=X['particle_s'+'tretchVS']),_0x30e2f9+=X['particle_c'+'pu_endVS'],_0x1c3c60['soft']>-0x217+0x1419+-0x1202&&(_0x30e2f9+=X['particle_s'+'oftVS'])):(_0x30e2f9+=X['particle_i'+'nitVS'],_0x30e2f9+=_0x1c3c60['pack8']?X['particleIn'+'putRgba8PS']:X['particleIn'+'putFloatPS'],_0x1c3c60['soft']>-0x1*-0x905+-0x198*-0x10+0x1*-0x2285&&(_0x30e2f9+=X['screenDept'+'hPS']),_0x30e2f9+=X['particleVS'],_0x1c3c60['localSpace']&&(_0x30e2f9+=X['particle_l'+'ocalShiftV'+'S']),_0x1c3c60['animTex']&&(_0x30e2f9+=this['_animTex'](_0x1c3c60)),_0x1c3c60['wrap']&&(_0x30e2f9+=X['particle_w'+'rapVS']),_0x1c3c60['alignToMot'+'ion']&&(_0x30e2f9+=X['particle_p'+'ointAlongV'+'S']),_0x30e2f9+=_0x1c3c60['mesh']?X['particle_m'+'eshVS']:_0x3e1ea2,_0x1c3c60['normal']===-0x45*-0x5b+-0x172b*-0x1+-0x2fb1&&(_0x30e2f9+=X['particle_n'+'ormalVS']),_0x1c3c60['normal']===-0x158b+-0x8d*-0x1c+0x621&&(_0x30e2f9+=X['particle_T'+'BNVS']),_0x1c3c60['stretch']>0x15bd+-0x1b79+-0x16f*-0x4&&(_0x30e2f9+=X['particle_s'+'tretchVS']),_0x30e2f9+=X['particle_e'+'ndVS'],_0x1c3c60['soft']>-0x25*-0x3d+0x144*0x1b+-0x2afd&&(_0x30e2f9+=X['particle_s'+'oftVS'])),_0x30e2f9+='}\x0a',_0x1c3c60['normal']>0x1*-0x494+-0xea0+-0x4cd*-0x4&&(_0x1c3c60['normal']===0x6b4+0x1637+0x1cea*-0x1?_0x48c674+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x1c3c60['normal']===0x6d*0x16+0x19dd+-0x7f*0x47&&(_0x48c674+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x48c674+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x1c3c60['soft']&&(_0x48c674+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x48c674+=X['decodePS'],_0x48c674+='#include\x20\x22'+'gammaPS\x22\x0a',_0x48c674+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x48c674+='#include\x20\x22'+'fogPS\x22\x0a',_0x1c3c60['normal']===0x7fb+0x7*0x29+0x8*-0x123&&(_0x48c674+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x1c3c60['soft']>-0x757*-0x1+0x25ed+0xb51*-0x4&&(_0x48c674+=X['screenDept'+'hPS']),_0x48c674+=X['particlePS'],_0x1c3c60['soft']>0xc30+-0x1261*-0x1+-0x139*0x19&&(_0x48c674+=X['particle_s'+'oftPS']),_0x1c3c60['normal']===0x7*0x379+-0x915+-0xf39&&(_0x48c674+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x1c3c60['normal']===-0x292*0xa+-0x239a+0x3d50&&(_0x48c674+=X['particle_n'+'ormalMapPS']),_0x1c3c60['normal']>0x151d+-0x10f8+0x425*-0x1&&(_0x48c674+=_0x1c3c60['halflamber'+'t']?X['particle_h'+'alflambert'+'PS']:X['particle_l'+'ambertPS']),_0x1c3c60['normal']>0xbe9*0x1+0x122b+0x604*-0x5&&(_0x48c674+=X['particle_l'+'ightingPS']),_0x1c3c60['blend']===Kt?_0x48c674+=X['particle_b'+'lendNormal'+'PS']:_0x1c3c60['blend']===yp?_0x48c674+=X['particle_b'+'lendAddPS']:_0x1c3c60['blend']===xp&&(_0x48c674+=X['particle_b'+'lendMultip'+'lyPS']),_0x48c674+=X['particle_e'+'ndPS'];const _0x59e08b=new Map(Object['entries']({...X,..._0x1c3c60['chunks']}));return Mt['createDefi'+'nition'](_0x448d53,{'name':'ParticleSh'+'ader','vertexCode':_0x30e2f9,'fragmentCode':_0x48c674,'fragmentDefines':_0x1c3c60['defines'],'fragmentIncludes':_0x59e08b,'vertexDefines':_0x1c3c60['defines']});}}const t1=new e1();class s1 extends yn{constructor(_0x22e5b4){super(),c(this,'emitter',null),(this['emitter']=_0x22e5b4,v['assert'](_0x22e5b4));}['getShaderV'+'ariant'](_0x53a727){const {device:_0x51b893,scene:_0x8e4e8c,cameraShaderParams:_0xcdbae2}=_0x53a727,{emitter:_0x587a5f}=this,_0x1bb4ac={'defines':Dp(this,_0x53a727),'pass':gn,'useCpu':this['emitter']['useCpu'],'normal':_0x587a5f['lighting']?_0x587a5f['normalMap']!==null?-0x4b1*-0x3+-0x1d52+-0x1*-0xf41:-0x5*-0x25f+0x229d+-0x131*0x27:0x1*-0x18b+-0x11ef+0x137a,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0xcdbae2==null?void(0x4*-0x504+-0x8f*0x36+0x323a):_0xcdbae2['shaderOutp'+'utGamma'])??sl,'toneMap':(_0xcdbae2==null?void(-0x830+-0x1f*-0x65+-0xcf*0x5):_0xcdbae2['toneMappin'+'g'])??Ap,'fog':_0x8e4e8c&&!this['emitter']['noFog']?_0x8e4e8c['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x587a5f['inTools']?!(0x2000+-0xbdb+0x509*-0x4):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==Uh},_0x5c07a4=new Yc(_0x53a727['viewUnifor'+'mFormat'],_0x53a727['viewBindGr'+'oupFormat'],_0x53a727['vertexForm'+'at']),_0x5d5c65=ka(_0x51b893);return _0x5d5c65['register']('particle',t1),_0x5d5c65['getProgram']('particle',_0x1bb4ac,_0x5c07a4,this['userId']);}}const E_=[[-(-0x32e+-0x1c80+0x1faf),-(-0xb0f+0x160f*0x1+-0xaff)],[0x31*0xb2+-0x17de+-0xa33*0x1,-(0x3*-0xc74+-0x1bd0+0x1*0x412d)],[-0x204a+-0x7f6+0x2841,0x192e+0x65*0x5+0x19*-0x116],[-(-0xf19+-0x1*0xe8f+0x1da9),-0x1f69+-0x1*-0x34d+0x1c1d]];function Qt(_0x1af775,_0x529fb5,_0x1992ba,_0xde84ec,_0x522f3d=Ke,_0x4ec521,_0x161d02){let _0x3955b8=de;_0x161d02&&(_0x522f3d===Se||_0x522f3d===rs)&&(_0x3955b8=st);const _0x2cd242=new he(_0x1af775,{'width':_0x529fb5,'height':_0x1992ba,'format':_0x522f3d,'cubemap':!(-0x5c3*-0x1+0x125*0xa+-0x1134),'mipmaps':!(-0x1689+0x82*-0x34+0x30f2),'minFilter':_0x3955b8,'magFilter':_0x3955b8,'addressU':ae,'addressV':ae,'name':'ParticleSy'+'stemTextur'+'e'}),_0x3262ce=_0x2cd242['lock']();if(_0x522f3d===Se||_0x522f3d===rs){const _0x24e4e3=new Uint8Array(_0xde84ec['length']);for(let _0x1902fd=-0x8f0+-0x1df6+0x26e6;_0x1902fd<_0xde84ec['length'];_0x1902fd++)_0x24e4e3[_0x1902fd]=_0xde84ec[_0x1902fd]*_0x4ec521*(-0x1*0x219+0x24fb*-0x1+0x2813);_0xde84ec=_0x24e4e3;}return _0x3262ce['set'](_0xde84ec),_0x2cd242['unlock'](),_0x2cd242;}function C_(_0x13382c){return Math['max'](Math['min'](_0x13382c,0x6b3*-0x1+0x7*-0x20c+0x1508),-0x1159*-0x2+0x1*0xcbd+0x1*-0x2f6f);}const M_=new Cs([-0x157f+-0x13ed+0x296c,-0x140d+0x1*0x2159+-0xd4c,-0x4b*0x7c+0x3d*-0x8e+-0x661*-0xb,0x2e+-0x1*-0x110d+0x113b*-0x1]),P_=new Cs([0x2*-0x1237+0x16a8+-0x2*-0x6e3,-0x21c8+-0x214f+0x4318,-0x254*0x9+-0x79*-0x42+-0x1*0xa3d,-0x6cb*-0x3+-0x1*-0x1210+0x267*-0x10]),R_=new jr([-0x10d0+-0x7b0+0x1880,0x22ba+-0x1699+-0xc21,0x7d*-0xf+-0x1f77*0x1+0x1*0x26cb,0x8b7*-0x1+0xfbf+-0x708],[0x9cd*0x1+0x18b7+-0x2284,-0x1e11*-0x1+-0x18c0+-0x551,0x12c6+0x25cb+0xb50*-0x5,0x16*-0x22+0x1d66*0x1+-0x1a7a],[-0x1*-0x1987+0x1*-0x1e3a+0x4b3*0x1,0x159b*0x1+-0xd70+-0x11*0x7b,-0xa9b+-0x199*0x8+0x1764*0x1,0x49e+-0x1f9f+0x1b01*0x1]),i1=new jr([-0x2*0x12f2+-0x19dc+0xff*0x40,-0xa7*0x2a+-0x27*0x45+-0x2*-0x12f5,0xe61*0x1+-0x1cee+-0x747*-0x2,0x1f3d+-0x11f8+-0xd44],[-0x694+0x65+0x62f,-0x58f+0x25ab+-0x201b,0x1ff8+-0x473*-0x7+-0x3f1c,0x2191+0xe36+-0x2fc6],[-0x1bd2+0x9*0x259+0x6b1,0x965*0x3+0x2*0x35+-0x14*0x16e,0x24a6+0xc7*-0x3+-0x7a*0x48,0x1*0x2d5+0x112b+-0x13ff]);let ii=0xe5f+-0x1*-0xcb2+-0x1b0f;const zl=-0x519+-0x87e+0xd9b,ri=new Float32Array(-0x8b7+-0x189+0xa43),Tr=new q(),I_=new T(),Ul=new T(),Vl=new T();let Hu,fh;function re(_0x4a4e0d,_0x5af57b){fh[_0x4a4e0d]!==void(0x57d+-0x1*-0xdc1+-0x133e)&&fh[_0x4a4e0d]!==null?Hu[_0x4a4e0d]=fh[_0x4a4e0d]:Hu[_0x4a4e0d]=_0x5af57b;}function O0(_0x3054b2,_0x3f245f,_0x1df64a){return(_0x3054b2*(0x19ed+-0xbf2+-0xcfc)<<-0x22a4+0x685*0x2+0x15aa|_0x3f245f*(0x1a69*-0x1+0x21ac+-0x644)<<-0x1*0x87c+-0x9ec+0x76*0x28|_0x1df64a*(0xfd9*-0x1+-0x124c+-0x2324*-0x1))/(-0x20b*-0x7+-0x23ab+-0x155f*-0x1<<-0x2*-0x349+0x22a4+0x115*-0x26);}function D_(_0x34e0d3,_0x438c1a){const _0x429dd3=_0x34e0d3['length']/(-0x327*-0x3+0xcda+-0x164c*0x1),_0x5221c4=new Array(_0x429dd3*(-0x17dc*0x1+0x4f1+0x12ef*0x1));for(let _0x56c45b=-0x11*0x114+0x13ba+-0x166;_0x56c45b<_0x429dd3;_0x56c45b++)_0x5221c4[_0x56c45b*(-0x1*-0x70b+-0x22ee+-0x3*-0x94d)]=_0x34e0d3[_0x56c45b*(0xecc*0x1+0x425*-0x7+0x6*0x25f)],_0x5221c4[_0x56c45b*(-0x3*0x33f+-0x1*0x1aa5+0x2466)+(0x2501*-0x1+0x1*0x1a97+0x17d*0x7)]=_0x34e0d3[_0x56c45b*(0x1488+-0x787+-0x2*0x67f)+(0x6f+-0x18c7*0x1+-0x1859*-0x1)],_0x5221c4[_0x56c45b*(-0x1f29+0xadd*0x3+-0x16a)+(-0x1696+0x21fe+-0x2*0x5b3)]=_0x34e0d3[_0x56c45b*(-0x1*-0x1122+0x5*0xb+-0x1156)+(-0x6*-0x186+-0x56*-0x7+-0xb7c)],_0x5221c4[_0x56c45b*(0x7d3*0x2+-0x1989+0xa9*0xf)+(-0x78b*0x1+-0x1fca+0x4*0x9d6)]=O0(_0x438c1a[_0x56c45b*(0x22a7+-0x24f4+0x10*0x25)],_0x438c1a[_0x56c45b*(0x82*-0x2a+-0x9bb+0xc2*0x29)+(0x1159+-0x11a4+-0x1*-0x4c)],_0x438c1a[_0x56c45b*(0xb23*0x1+-0x4*-0x94f+-0x305c)+(-0x40e*0x1+0xd6e+-0x16*0x6d)]);return _0x5221c4;}function r1(_0x300d1c,_0x11621d){const _0x2c62f4=new Array(_0x11621d['length']*(-0x3*0xcc6+0x14d8+-0x2*-0x8bf));for(let _0x1228f5=0x13bf+-0x2b*0xe6+0x12e3;_0x1228f5<_0x11621d['length'];_0x1228f5++)_0x2c62f4[_0x1228f5*(-0x56b+0xe20+-0x8b1)]=_0x300d1c[_0x1228f5*(-0x2673+-0x3e5+0x2a5b)],_0x2c62f4[_0x1228f5*(0xdf2+0x1cc4+-0x2ab2)+(-0x1*0x25ad+-0x243f*-0x1+-0x16f*-0x1)]=_0x300d1c[_0x1228f5*(-0x153b*-0x1+0x1c*-0x1+-0x182*0xe)+(0x261+0xf58+0x1f8*-0x9)],_0x2c62f4[_0x1228f5*(0xcb9+0xe54+-0x1b09)+(-0x1350+0x1970+-0x61e)]=_0x300d1c[_0x1228f5*(0x32c+0x19e0+-0x1d09)+(-0x10*0xb3+0x782*-0x5+0x30bc)],_0x2c62f4[_0x1228f5*(-0x1ebb+0x22*-0x79+-0x11*-0x2c1)+(0x11*-0x1de+-0x1*0xfcd+0x2f8e)]=_0x11621d[_0x1228f5];return _0x2c62f4;}function n1(_0x3bb6ba,_0x22f9e9,_0x12d9f2,_0x1cef17,_0x22b69d){const _0x948a72=new Array(_0x3bb6ba['length']*(-0x2e*-0x71+-0x1*0xcaf+-0x79b));for(let _0x402946=0x161+-0x1309*-0x1+-0x146a;_0x402946<_0x3bb6ba['length'];_0x402946++)_0x948a72[_0x402946*(-0x2130+-0x1*-0x1fa1+0x193)]=_0x3bb6ba[_0x402946],_0x948a72[_0x402946*(-0x25*-0xc7+0x7*0x62+-0x1f6d)+(-0x32e+-0x1358+0x1687)]=_0x22f9e9[_0x402946],_0x948a72[_0x402946*(0x1e4+0x2a*0x65+-0x313*0x6)+(0x10*-0x11e+-0x9cc+0x1bae)]=-0x10d4+-0x1c9f+0x2d73,_0x948a72[_0x402946*(0x2cf*-0x5+-0xcac*-0x3+-0x17f5*0x1)+(0x3*-0x4bc+-0x39b+-0x8e9*-0x2)]=O0(_0x12d9f2[_0x402946],_0x1cef17[_0x402946],_0x22b69d[_0x402946]);return _0x948a72;}function a1(_0x1d0919,_0x33623f){const _0x3b16d8=new Array(_0x1d0919['length']*(-0x210+0x9d0*-0x1+0xbe4));for(let _0x241bd8=0x8*0x1ab+0x2532+0x1945*-0x2;_0x241bd8<_0x1d0919['length'];_0x241bd8++)_0x3b16d8[_0x241bd8*(-0x3*-0x6a3+0xedd+-0x3*0xb96)]=_0x1d0919[_0x241bd8],_0x3b16d8[_0x241bd8*(0x17f9+0x5*0x329+0x27c2*-0x1)+(-0x1*0x1ca7+-0x467+0x210f)]=_0x33623f[_0x241bd8],_0x3b16d8[_0x241bd8*(0xf55+0x815+-0x1*0x1766)+(0x1*0x13ca+-0x78b*-0x4+-0x22c*0x17)]=-0x250b+0x160d*-0x1+0x3e*0xf4,_0x3b16d8[_0x241bd8*(-0x18f+0x740+-0x5ad)+(-0x18e*0x5+0x2314+-0x1b4b)]=-0x1*-0x23bf+0x1374+0xd*-0x43f;return _0x3b16d8;}function o1(_0x5e1089){const _0xd1dc75=Math['max'](_0x5e1089['rate'],_0x5e1089['rate2'])*_0x5e1089['numParticl'+'es']+_0x5e1089['lifetime'];return Date['now']()+_0xd1dc75*(-0x1842+-0x20ac+-0x1e6b*-0x2);}function l1(_0x1208cb,_0x28c698){const _0x76ed3d=new Float32Array(_0x1208cb['length']);for(let _0x53689c=0x1*0xd9+-0x215+-0x4*-0x4f;_0x53689c<_0x1208cb['length'];_0x53689c++)_0x76ed3d[_0x53689c]=_0x1208cb[_0x53689c]-_0x28c698[_0x53689c];return _0x76ed3d;}function Fr(_0xad215,_0xe513dc){const _0x11346d=_0xe513dc['length'],_0xd64e06=_0xad215['length']/_0x11346d;for(let _0x5be373=-0x41d+-0x2301+0x685*0x6;_0x5be373<_0xd64e06;_0x5be373++)for(let _0x3fec12=0x5*-0x18f+0x141f+-0xc54;_0x3fec12<_0x11346d;_0x3fec12++){const _0x4a2fc1=Math['abs'](_0xad215[_0x5be373*_0x11346d+_0x3fec12]);_0xe513dc[_0x3fec12]=Math['max'](_0xe513dc[_0x3fec12],_0x4a2fc1);}}function h1(_0x22ca44,_0x1c9f26){const _0x3af4d2=_0x1c9f26['length'],_0x1dae28=_0x22ca44['length']/_0x3af4d2;for(let _0x48e8af=-0x136*0x2+-0x1947+-0x1bb3*-0x1;_0x48e8af<_0x1dae28;_0x48e8af++)for(let _0x30c2d0=-0x1*-0xecd+0x2279+-0x3146;_0x30c2d0<_0x3af4d2;_0x30c2d0++)_0x22ca44[_0x48e8af*_0x3af4d2+_0x30c2d0]/=_0x1c9f26[_0x30c2d0]===-0x416*0x1+0x10a9+-0x1d*0x6f?-0x174*0xd+-0x4*-0x60a+-0x543:_0x1c9f26[_0x30c2d0],_0x22ca44[_0x48e8af*_0x3af4d2+_0x30c2d0]*=-0x4*0x867+0x3*0x6de+0x25*0x5a+0.5,_0x22ca44[_0x48e8af*_0x3af4d2+_0x30c2d0]+=0x2043+0x1168+-0x31ab+0.5;}function Ar(_0x215e9d,_0xd07720,_0x5c9b44){const _0x14cac3=l1(_0xd07720,_0x215e9d);return Fr(_0x14cac3,_0x5c9b44),h1(_0x14cac3,_0x5c9b44),_0x14cac3;}const c1=new Ot();class d1{constructor(_0x294a4a,_0x16d63e){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x294a4a;const _0x42bbf1=_0x294a4a,_0x3df2d7=0xb53+0x139+-0x3c*0x35;this['precision']=_0x3df2d7,this['_addTimeTi'+'me']=0x21b1+-0x52*-0x65+0x247*-0x1d,Hu=this,fh=_0x16d63e,re('numParticl'+'es',-0x1e71+0x39*0x6d+-0x1*-0x62d),this['numParticl'+'es']>_0x294a4a['maxTexture'+'Size']&&(v['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x294a4a['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x294a4a['maxTexture'+'Size']),re('rate',0x1d66+0x113*0xb+-0x2936),re('rate2',this['rate']),re('lifetime',0x114f+0x2232*-0x1+0x1115*0x1),re('emitterExt'+'ents',new T(-0x765*-0x1+0x3*-0x72+0x2f*-0x21,-0x1b29+0x2*-0x1357+0x41d7,0x1b0e+-0x1*0x21fb+-0x1*-0x6ed)),re('emitterExt'+'entsInner',new T(-0x141c+0x4*-0x581+0x2a20,-0x10bf+-0x1*-0x1f0a+-0xe4b,0x1*-0x9eb+0x14a6+-0xabb)),re('emitterRad'+'ius',0x19f2*-0x1+-0xeed*0x1+-0x28df*-0x1),re('emitterRad'+'iusInner',0x10f2+-0x407*0x2+0x8e4*-0x1),re('emitterSha'+'pe',Vs),re('initialVel'+'ocity',-0x2637+0x114a+-0x13*-0x11a),re('wrap',!(-0x1697*0x1+-0x92b*0x2+0x28ee)),re('localSpace',!(0x1c49+0x1c6a+-0x38b2)),re('screenSpac'+'e',!(0x17cb*0x1+-0x71*-0x19+-0x22d3)),re('wrapBounds',null),re('colorMap',this['defaultPar'+'amTexture']),re('normalMap',null),re('loop',!(-0x1811*0x1+-0x2184+-0x3995*-0x1)),re('preWarm',!(0x2384*-0x1+-0x39*-0x6d+0xb40)),re('sort',Du),re('mode',d0),re('scene',null),re('lighting',!(-0xbc7+-0x92*0x32+0x284c)),re('halfLamber'+'t',!(0x145+0x1381+-0x14c5)),re('intensity',-0x1*0xe69+-0x24ed+0x3357),re('stretch',-0x125*0x1a+0x1*0x11c3+0xbff),re('alignToMot'+'ion',!(-0x5*0x25f+0x215+0x9c7)),re('depthSofte'+'ning',0x9aa*-0x3+-0x21bf+0x3ebd),re('mesh',null),re('particleNo'+'rmal',new T(0x20fc+-0x4b8*0x4+-0x2a*0x56,-0xd7*-0x2b+0x23a6+-0x47c2,0x21*0xca+0x1dd7+-0x37e1)),re('orientatio'+'n',Uh),re('depthWrite',!(0x1781+0x1da7+-0x3527)),re('noFog',!(0x2116+0x1*0x82e+-0x2943)),re('blendType',Kt),re('node',null),re('startAngle',-0x682+0x456+0x2*0x116),re('startAngle'+'2',this['startAngle']),re('animTilesX',0x93a+-0x1*0x1bd3+0x129a),re('animTilesY',0x7a0+-0x2244+0x1aa5),re('animStartF'+'rame',-0x32d+0x1623+-0x12f6*0x1),re('animNumFra'+'mes',0x24e3+0x1096+-0x8*0x6af),re('animNumAni'+'mations',-0x922+0x4*-0x9b8+0x3003),re('animIndex',0x1b43+-0x1*-0x11df+-0x1691*0x2),re('randomizeA'+'nimIndex',!(0xda0+-0x3*0x96f+0xeae)),re('animSpeed',0xc3f+-0x65c+-0x5e2),re('animLoop',!(-0x1*-0x26c7+-0x2fc+0x31*-0xbb)),this['_gpuUpdate'+'r']=new JM(this,_0x42bbf1),this['_cpuUpdate'+'r']=new QM(this),this['emitterPos'+'Uniform']=new Float32Array(-0x78+-0x1bf*-0x15+-0x2430),this['wrapBounds'+'Uniform']=new Float32Array(-0x1ffe+-0x2f*-0x3+0x1f74),this['emitterSca'+'leUniform']=new Float32Array([-0x7d8*0x2+-0xa*0x227+0x2537,-0x1731+-0x2048+0x377a,-0x3b*0x53+-0x1bce+0x8*0x5de]),re('colorGraph',i1),re('colorGraph'+'2',this['colorGraph']),re('scaleGraph',P_),re('scaleGraph'+'2',this['scaleGraph']),re('alphaGraph',P_),re('alphaGraph'+'2',this['alphaGraph']),re('localVeloc'+'ityGraph',R_),re('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),re('velocityGr'+'aph',R_),re('velocityGr'+'aph2',this['velocityGr'+'aph']),re('rotationSp'+'eedGraph',M_),re('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),re('radialSpee'+'dGraph',M_),re('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x2f*0x17+-0x1*0x22a7+0x26e2),this['animParams']=new Float32Array(0xa5b+-0x963+0x3d*-0x4),this['animIndexP'+'arams']=new Float32Array(0x181b+0x1*-0x138f+0x53*-0xe),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x9fa*-0x1+-0x77f+-0x1*-0x117a),this['useMesh']=!(0xfb+-0x1a*0xb+-0x1*-0x23),this['useCpu']=!_0x294a4a['supportsGp'+'uParticles'],this['pack8']=!(0x2569+0x1475+-0x66e*0x9),this['localBound'+'s']=new _e(),this['worldBound'+'sNoTrail']=new _e(),this['worldBound'+'sTrail']=[new _e(),new _e()],this['worldBound'+'s']=new _e(),this['worldBound'+'sSize']=new T(),this['prevWorldB'+'oundsSize']=new T(),this['prevWorldB'+'oundsCente'+'r']=new T(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new T(),this['worldBound'+'sAdd']=new T(),this['timeToSwit'+'chBounds']=0x68*-0x4e+-0x4a5+0x2455,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x17*-0x42+-0xe*-0x114+-0x1506,this['numParticl'+'eIndices']=-0x3d*-0x4e+0x1091+-0x2327*0x1,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0x1d*-0x109+0xe20+-0x139*-0xd,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0xab7*-0x2+-0x1e45+0x8d8)/(0xeae*0x1+-0x12a7+0x435),this['maxSubStep'+'s']=-0x241c+-0x13f*-0xa+-0x1*-0x17b0,this['simTime']=0x8*0x22d+-0x9d2+-0x796,this['simTimeTot'+'al']=0x15*-0x7a+-0x4be*0x3+-0x2f*-0x84,this['beenReset']=!(0x3*0x722+0x4*-0x8f0+-0xe5b*-0x1),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return v['assert'](this['graphicsDe'+'vice']),c1['get'](this['graphicsDe'+'vice'],()=>{const _0x555abf=new Float32Array(-0xdc9+-0x59f+-0x2ed*-0x8);for(let _0x3fcb8c=-0x1*0x1ea3+0x2d*-0x67+0x16f*0x22;_0x3fcb8c<-0xdbb+0x8c1+0x50a;_0x3fcb8c++)for(let _0x47a78b=-0x1529+0x2f*-0x72+0x2a17;_0x47a78b<-0x7*-0x328+-0x1de7+0x7df;_0x47a78b++){const _0x20ee37=_0x47a78b+(-0x1a58+0x817+0x1242)-(-0x11c4+-0x26b*-0xa+0x2b*-0x26+0.5),_0x4fe437=_0x3fcb8c+(-0x117e*-0x1+0x21dc+0xb*-0x4ab)-(-0x6ff+0x1*0x13e1+0x2f*-0x46+0.5),_0x34f71c=C_(-0x1139*-0x1+0xc9+0xb*-0x1a3-C_(Math['sqrt'](_0x20ee37*_0x20ee37+_0x4fe437*_0x4fe437)/(0x1327*-0x1+-0xa*0x133+0x1f35))-(0x169f+0x282*0xd+-0x3739+0.5)),_0x4113c6=_0x3fcb8c*(0x10*0x24d+-0xe9d+-0x761*0x3)+_0x47a78b;_0x555abf[_0x4113c6*(-0x1cd4+0x3d6*-0x2+0x7b*0x4c)]=0x4*0x397+-0x2385+0x152a*0x1,_0x555abf[_0x4113c6*(0x196f+-0x1*0x1619+0x32*-0x11)+(0x2537*-0x1+-0x157*0xb+-0x11b*-0x2f)]=0x11*0x23a+-0x1*0x189d+-0xd3c,_0x555abf[_0x4113c6*(-0x1482+0x7*0x2ef+-0x3)+(-0x10b9*0x2+-0x23a1+-0x4515*-0x1)]=-0xa33+-0x83*-0x35+0x3d*-0x47,_0x555abf[_0x4113c6*(0x841*0x2+0x1efd+-0x2f7b)+(0x1032+-0x1d40+0xd11)]=_0x34f71c;}const _0x364a20=Qt(this['graphicsDe'+'vice'],0x7*0xa3+0x4b*-0x46+0x5*0x339,0x2b*-0x5c+-0x1*-0x18bb+-0x937,_0x555abf,rs,0x3*0xb38+0x1cc3+-0x3e6a,!(0xb8a+0x1483+-0xf*0x223));return _0x364a20['minFilter']=st,_0x364a20['magFilter']=st,_0x364a20;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0xb64+-0x1e33+0x12d0)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(-0x2*-0x209+0x1ce9+-0x20fa)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x1443+-0x3fb+-0x1*-0x183f)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0xb62*-0x2+-0x225d+0xb9a)),this['worldBound'+'sAdd']['x']+=0x26fb+-0x2b8+0x1*-0x2443+0.5,this['worldBound'+'sAdd']['y']+=0xbe*0x1b+-0x12f0+-0x11a+0.5,this['worldBound'+'sAdd']['z']+=-0x5e*-0x2b+-0x2*0x123d+0x14b0+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x56a2b8=!(0x1cb3+0x17ae*-0x1+-0xc*0x6b);this['emitterSha'+'pe']===Vs?_0x56a2b8=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x56a2b8=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x56a2b8&&this['calculateL'+'ocalBounds']();}const _0x5d9c30=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x5d9c30),this['worldBound'+'sTrail'][-0x12*0x6b+0xc8+0x6be]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x80d+0x161e+-0xe10]['add'](this['worldBound'+'sNoTrail']);const _0x2b9f76=this['simTimeTot'+'al'];_0x2b9f76>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x9b2+-0x8e2+0x1294]['copy'](this['worldBound'+'sTrail'][-0x2503+-0x9*-0x94+0x1fd0]),this['worldBound'+'sTrail'][-0x95f+0x15a*-0x1+-0x2*-0x55d]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x2b9f76+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0xb5+-0x149c+0x71b*0x3]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x106d+-0x31*0x70+0x1*0x505),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x5d9c30),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x5d9c30)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0x19dd+0x2100+-0x3adc*0x1-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x1de8+-0x1005+-0xde3]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x1f*0x17+0xa85*-0x1+0x1*0x7bd]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x252*0x6+-0x1b*-0x157+0x4b*-0xab]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x1*0x65a+0xd32*-0x1+0x6da),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0xed9+0x1660+-0x2539,this['timeToSwit'+'chBounds']=-0xd21+-0x1daa+0x2acb);}['calculateL'+'ocalBounds'](){let _0x4cfb42=Number['MAX_VALUE'],_0x5ce935=Number['MAX_VALUE'],_0x3045ba=Number['MAX_VALUE'],_0x2bf757=-Number['MAX_VALUE'],_0x137bab=-Number['MAX_VALUE'],_0xe67897=-Number['MAX_VALUE'],_0x1e69aa=0xbcf*0x1+0x233a+-0x2f09*0x1,_0x305091=-0x16*0x51+0x3*-0x40b+0x1317;const _0x24905e=this['lifetime']/this['precision'],_0x50abe2=[this['qVelocity'],this['qVelocity2']],_0xd9f3a5=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x59a111=[-0xfb*-0x15+0x1c4f*-0x1+0x68*0x13,-0xd3*-0x3+0x26e7+-0x10*0x296],_0x3dd64e=[0x5*-0x1f7+-0x5e9+-0xd4*-0x13,-0xac6+-0x3*-0x876+-0xe9c],_0x195cb0=[-0xc7*0x2c+0x1f3b*-0x1+0x1*0x416f,0x1*-0x1037+0x20c5+0x146*-0xd],_0xefe891=[-0x350+-0x102*-0x21+-0x1df2,-0x8*0x14c+0xfc3+-0x563],_0x117650=[0x2d*-0x2f+-0x1*-0x887+-0x44,-0xa9*-0x35+-0x2485+0x4*0x62];let _0x31c397,_0x1883fb,_0x15cc53;for(let _0x48f927=0x1*0x985+-0x1*-0x147+-0xacc;_0x48f927<this['precision']+(-0x20d7+0x2e5+0x1df3);_0x48f927++){const _0x49c8cd=Math['min'](_0x48f927,this['precision']-(0x68*-0x5+0x557*0x1+-0x8d*0x6));for(let _0xc64e8e=-0xa36+-0x6d*0x59+0x335*0xf;_0xc64e8e<-0x22a5*0x1+0x1*0xdee+0x14b9;_0xc64e8e++)_0x31c397=_0xd9f3a5[_0xc64e8e][_0x49c8cd*(0x1449+0x264c+-0x3a92)+(-0x7aa+0x7*0xe9+-0x14b*-0x1)]*_0x24905e+_0x59a111[_0xc64e8e],_0x1883fb=_0xd9f3a5[_0xc64e8e][_0x49c8cd*(-0xe0+-0xc0*-0x11+-0x1*0xbdd)+(0x1d*0x35+-0x164+-0x49c)]*_0x24905e+_0x3dd64e[_0xc64e8e],_0x15cc53=_0xd9f3a5[_0xc64e8e][_0x49c8cd*(0x22*0xd6+-0x4*0x6b0+-0x19*0x11)+(-0x20cb*-0x1+-0xc5*-0xf+-0x2c54)]*_0x24905e+_0x195cb0[_0xc64e8e],_0x4cfb42=Math['min'](_0x31c397,_0x4cfb42),_0x5ce935=Math['min'](_0x1883fb,_0x5ce935),_0x3045ba=Math['min'](_0x15cc53,_0x3045ba),_0x2bf757=Math['max'](_0x31c397,_0x2bf757),_0x137bab=Math['max'](_0x1883fb,_0x137bab),_0xe67897=Math['max'](_0x15cc53,_0xe67897),_0x59a111[_0xc64e8e]=_0x31c397,_0x3dd64e[_0xc64e8e]=_0x1883fb,_0x195cb0[_0xc64e8e]=_0x15cc53;for(let _0x4ad65b=0x1abc+-0x1dfd+0x31*0x11;_0x4ad65b<0x1c*-0xbb+-0x1fca+0x3440;_0x4ad65b++)_0x117650[_0x4ad65b]+=_0x24905e*Math['sqrt'](_0x50abe2[_0x4ad65b][_0x49c8cd*(-0xa*-0x287+-0x1a39+-0x29*-0x6)+(-0x938+-0x315*0x8+0x21e0)]*_0x50abe2[_0x4ad65b][_0x49c8cd*(0x86f+0x134f+-0x1bbb)+(-0xf1*-0x9+0x73*0x17+-0x12ce)]+_0x50abe2[_0x4ad65b][_0x49c8cd*(-0xc6*-0x2b+0x1*0x1d83+0x22a*-0x1d)+(-0x3f1*-0x5+0x12b*0x17+-0x2e91)]*_0x50abe2[_0x4ad65b][_0x49c8cd*(-0x2650+-0x393*-0x6+-0x95*-0x1d)+(-0x1c0+-0x1a11+0x1bd2*0x1)]+_0x50abe2[_0x4ad65b][_0x49c8cd*(-0x13d*-0xd+-0x21ef+-0x1*-0x11d9)+(0x22f9+-0x1dff+-0xd4*0x6)]*_0x50abe2[_0x4ad65b][_0x49c8cd*(0x1*-0x2590+0x7e1*-0x1+0x2d74*0x1)+(0x1799+-0x1c79*0x1+-0x32*-0x19)]);_0xefe891[-0x1387+0x16d*-0x3+0x17ce]+=this['qRadialSpe'+'ed'][_0x49c8cd]*_0x24905e,_0xefe891[0x2db+-0xc3*0x18+-0x4f*-0x32]+=this['qRadialSpe'+'ed2'][_0x49c8cd]*_0x24905e,_0x1e69aa=Math['max'](_0x1e69aa,Math['max'](Math['abs'](_0xefe891[0x1db7+0x5b0+0x2367*-0x1]),Math['abs'](_0xefe891[-0xb5*-0x11+-0x1323+0x71f]))),_0x305091=Math['max'](_0x305091,this['qScale'][_0x49c8cd]);}this['emitterSha'+'pe']===Vs?(_0x31c397=this['emitterExt'+'ents']['x']*(0x12e*0x7+-0x1*0xf85+-0x743*-0x1+0.5),_0x1883fb=this['emitterExt'+'ents']['y']*(0xcab+0x151*-0x11+-0x16*-0x71+0.5),_0x15cc53=this['emitterExt'+'ents']['z']*(0x9ec+-0x155*-0x15+0x25e5*-0x1+0.5)):(_0x31c397=this['emitterRad'+'ius'],_0x1883fb=this['emitterRad'+'ius'],_0x15cc53=this['emitterRad'+'ius']);const _0x3ee748=Math['max'](_0x117650[-0x5*-0x479+0x16ad+-0x2*0x1685],_0x117650[0x2*0x8e7+-0xbab*-0x2+-0x2923*0x1]);Ul['x']=_0x4cfb42-_0x305091-_0x31c397-_0x1e69aa-_0x3ee748,Ul['y']=_0x5ce935-_0x305091-_0x1883fb-_0x1e69aa-_0x3ee748,Ul['z']=_0x3045ba-_0x305091-_0x15cc53-_0x1e69aa-_0x3ee748,Vl['x']=_0x2bf757+_0x305091+_0x31c397+_0x1e69aa+_0x3ee748,Vl['y']=_0x137bab+_0x305091+_0x1883fb+_0x1e69aa+_0x3ee748,Vl['z']=_0xe67897+_0x305091+_0x15cc53+_0x1e69aa+_0x3ee748,this['localBound'+'s']['setMinMax'](Ul,Vl);}['rebuild'](){const _0x587b31=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===Vs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Du||_0x587b31['maxVertexT'+'extures']<=0x1039+0x2027+-0xcb*0x3d||_0x587b31['fragmentUn'+'iformsCoun'+'t']<-0x2f*0x57+0xc5d+-0x1*-0x3dc||_0x587b31['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x587b31['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],ii=this['useCpu']||this['pack8']?-0xb47+0x166*-0xf+-0x2ef*-0xb:-0x1b*-0x3+-0xd*0xfd+-0x1e*-0x6b,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=N['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x1887+-0x24ae+0x3d35]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0x1f7*0xf+0x140c+0x96e]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x17bf+-0x16c3+-0xfa),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x1f3c51=-0xacc*0x3+0x1c51+-0x413*-0x1;_0x1f3c51<this['numParticl'+'es'];_0x1f3c51++)this['vbToSort'][_0x1f3c51]=[0x6fa+-0x268f+-0x651*-0x5,0x1f*-0xc4+0x1719+-0x1*-0xa3];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*ii*zl);const _0x54bd64=this['node']===null||this['localSpace']?T['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===Vs&&(this['node']===null||this['localSpace']?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['spawnBound'+'s']):Tr['setTRS'](T['ZERO'],this['node']['getRotatio'+'n'](),I_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),ri[-0x150+-0xb7e*-0x3+0x212a*-0x1]=this['emitterExt'+'ents']['x']!==0xbdf+-0x41+0x5cf*-0x2?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x23b8+-0x31*0x5e+-0x11ba,ri[0xfa7+-0x137e+0x3d8]=this['emitterExt'+'ents']['y']!==0xd*0x261+-0xd*0xb+-0x1e5e?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x49+0x834*-0x2+0x10b1,ri[-0x1*0x1ccf+-0x1100+0x25*0x13d]=this['emitterExt'+'ents']['z']!==0x22ed+0x5e*0x1+0x2b7*-0xd?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0xf*0xe2+-0x560+-0x7de);for(let _0x2cf1d6=0x148d+-0x2*0xe67+-0x1*-0x841;_0x2cf1d6<this['numParticl'+'es'];_0x2cf1d6++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Tr,ri,_0x54bd64,_0x2cf1d6),this['useCpu']&&(this['particleTe'+'x'][_0x2cf1d6*zl+(0x1*-0x1816+-0x227+0xe*0x1e0)+this['numParticl'+'esPot']*(0x1930+0x44f*0x2+-0x21cc)*zl]=0x13*0x57+-0xce2+0x66e);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*ii*zl);for(let _0x19fbff=0x1aa3+-0x2e9+-0x17ba;_0x19fbff<this['particleTe'+'xStart']['length'];_0x19fbff++)this['particleTe'+'xStart'][_0x19fbff]=this['particleTe'+'x'][_0x19fbff];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=Qt(_0x587b31,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,-0xd59+0x33*-0x3e+0x19b4,!(-0x75b*0x4+-0x2501*0x1+0x426e)),this['particleTe'+'xOUT']=Qt(_0x587b31,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,-0x982+-0x243e*-0x1+-0x1abb*0x1,!(0xb*-0xdd+-0x3*-0x3b3+0x199*-0x1)),this['particleTe'+'xStart']=Qt(_0x587b31,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'],Se,-0x21ed+0x955+-0x833*-0x3,!(0x169e+0x1a07+-0x30a4))):(this['particleTe'+'xIN']=Qt(_0x587b31,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xOUT']=Qt(_0x587b31,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xStart']=Qt(_0x587b31,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new pt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(0x374+-0x6d*-0x11+-0xab0)}),this['rtParticle'+'TexOUT']=new pt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x1*0x2173+-0x1e16+0x3f8a)}),this['swapTex']=!(-0x5*0x32b+-0xbca+0x1ba2));const _0x41426e=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+X['particleUp'+'daterInitP'+'S']+(this['pack8']?X['particleIn'+'putRgba8PS']+X['particleOu'+'tputRgba8P'+'S']:X['particleIn'+'putFloatPS']+X['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===Vs?X['particleUp'+'daterAABBP'+'S']:X['particleUp'+'daterSpher'+'ePS'])+X['particleUp'+'daterStart'+'PS'],_0x305154=_0x41426e+X['particleUp'+'daterRespa'+'wnPS']+X['particleUp'+'daterEndPS'],_0x2549f3=_0x41426e+X['particleUp'+'daterNoRes'+'pawnPS']+X['particleUp'+'daterEndPS'],_0x4ef2f6=_0x41426e+X['particleUp'+'daterOnSto'+'pPS']+X['particleUp'+'daterEndPS'],_0x2ed230='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Is(_0x587b31,X['fullscreen'+'QuadVS'],_0x305154,'ParticleUp'+'dateRespaw'+'n-'+_0x2ed230),this['shaderPart'+'icleUpdate'+'NoRespawn']=Is(_0x587b31,X['fullscreen'+'QuadVS'],_0x2549f3,'ParticleUp'+'dateNoResp'+'awn-'+_0x2ed230),this['shaderPart'+'icleUpdate'+'OnStop']=Is(_0x587b31,X['fullscreen'+'QuadVS'],_0x4ef2f6,'ParticleUp'+'dateStop-'+_0x2ed230),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:0xe6d+-0xff3+0x18a,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][0x26a*-0x6+-0x204+0x1080]['numIndices']:-0x71a+-0xccd*0x3+0x2d87,this['_allocate'](this['numParticl'+'es']);const _0x2f8a96=new Ie(_0x587b31);_0x2f8a96['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x2f8a96['indexBuffe'+'r'][-0x1169+-0x1061*-0x1+0x108*0x1]=this['indexBuffe'+'r'],_0x2f8a96['primitive'][-0x3*-0x8b5+-0x1*0xde5+-0xc3a]['type']=Ms,_0x2f8a96['primitive'][0x166*0x12+-0x234a*-0x1+-0xda*0x47]['base']=0x11*0x66+0x8*0x2a1+-0x1bce,_0x2f8a96['primitive'][0x2*-0x2b4+0x1739*0x1+-0x11d1]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x2f8a96['primitive'][-0x1*0xa59+-0x2401+-0x2ba*-0x11]['indexed']=!(-0x461*0x5+0x2037+-0xa52),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x19e5ca=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0x8f5+0x693+-0xf88);this['meshInstan'+'ce']=new Le(_0x2f8a96,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x353*-0x1+-0x181c+0x14ca),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0x162d+-0xdf*0x6+-0x1*0x10f3),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0x17*-0x103+0xd*0x2e9+-0xe8f),this['meshInstan'+'ce']['visible']=_0x19e5ca,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0xac*0x14+0x218b+0x2efb*-0x1,!(-0x135*-0x10+0x1ab9+-0x2e08)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0x1d*-0x38+0x3d3*-0x9+0x1c14&&(this['animTilesX']>-0x1*-0x5c6+0xf66+-0x152b||this['animTilesY']>-0x1*-0x9c7+0x1c95*0x1+-0x1*0x265b)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x5b9547=this['precision'],_0x8522b9=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x5b9547),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x5b9547),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x5b9547,-0x1adb+-0x1*-0x11f2+0x8e9,-0x1294+-0x266*-0x6+0x431),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x5b9547),this['qScale']=this['scaleGraph']['quantize'](_0x5b9547),this['qAlpha']=this['alphaGraph']['quantize'](_0x5b9547),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x5b9547),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x5b9547),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x5b9547),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x5b9547,0xf79+-0x258+0x1*-0xd21,0xb81+0x1*0x1a+-0xb9a),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x5b9547),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x5b9547),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x5b9547),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x5b9547);for(let _0x2c5725=-0x2d2+0x2*0x95e+-0x1*0xfea;_0x2c5725<_0x5b9547;_0x2c5725++)this['qRotSpeed'][_0x2c5725]*=N['DEG_TO_RAD'],this['qRotSpeed2'][_0x2c5725]*=N['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0x8ff*0x4+0x1c19+0x2*0x3f3),this['velocityUM'+'ax']=new Float32Array(-0xd24+-0x200b*-0x1+-0x12e4),this['colorUMax']=new Float32Array(0xde5+0xf41+-0x1d23),this['rotSpeedUM'+'ax']=[-0x505*0x2+-0x1ecf*-0x1+-0x14c5],this['scaleUMax']=[0x1*0x20b1+-0x160f*0x1+-0xaa2],this['alphaUMax']=[-0x879+-0x181+0x9fa*0x1],this['radialSpee'+'dUMax']=[0x192b+-0x1*-0x1f97+-0x38c2],this['qLocalVelo'+'cityDiv']=Ar(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Ar(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Ar(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Ar(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Ar(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Ar(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Ar(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x255bf7=[-0x913+0x6f0+0x223,0x2*0x136e+-0x4*-0xae+-0x14ca*0x2,0x165c+0x3d*-0x7f+0x77*0x11];Fr(this['qVelocity'],_0x255bf7);const _0xcdd0ff=[0x1257+-0xda*0x4+-0xeef*0x1,0xd31+-0x14*-0x1a1+-0x1*0x2dc5,-0x1*0xe3+0x47*-0x40+-0x16f*-0xd];Fr(this['qVelocity2'],_0xcdd0ff);const _0x585a5c=[-0x3*-0x989+-0x209*-0x1+-0x1ea4,0xba4+0x249a+-0x1*0x303e,-0x8*0x40f+0x19*-0x145+0x3*0x1567];Fr(this['qLocalVelo'+'city'],_0x585a5c);const _0x56ae62=[0x6d4*0x1+0x30*0x66+-0x19f4,-0x4*0x383+-0x10*0x1aa+0xa2b*0x4,0x9d9+-0x26f8+0x1d1f];Fr(this['qLocalVelo'+'city2'],_0x56ae62);const _0x2489c0=[-0x45b+0xc10*-0x1+-0x1*-0x106b];Fr(this['qRadialSpe'+'ed'],_0x2489c0);const _0x11c932=[-0x9c*0x24+0x177a+-0x18a];Fr(this['qRadialSpe'+'ed2'],_0x11c932);let _0x349ce1=Math['max'](_0x255bf7[-0x79*0x3d+0x51d+0x17b8],_0xcdd0ff[-0xa84+-0x17*0x165+0x2a97]);_0x349ce1=Math['max'](_0x349ce1,_0x255bf7[-0x24e6+-0x963+-0x5*-0x942]),_0x349ce1=Math['max'](_0x349ce1,_0xcdd0ff[-0x2*0x723+0x2369+0xa91*-0x2]),_0x349ce1=Math['max'](_0x349ce1,_0x255bf7[0x2061+-0x1*0x581+-0x1ade]),_0x349ce1=Math['max'](_0x349ce1,_0xcdd0ff[-0x773+-0x2623+0x2d98]);let _0x178bbb=Math['max'](_0x585a5c[-0x3ed+0x1*-0x145b+-0x8*-0x309],_0x56ae62[-0x13*-0x27+-0x1ae+0x1*-0x137]);_0x178bbb=Math['max'](_0x178bbb,_0x585a5c[-0x1a72+0x8*-0x491+0x3efb]),_0x178bbb=Math['max'](_0x178bbb,_0x56ae62[-0x84c+0x210d+-0xc0*0x21]),_0x178bbb=Math['max'](_0x178bbb,_0x585a5c[-0x13*-0x3b+-0x10d4+0xc75]),_0x178bbb=Math['max'](_0x178bbb,_0x56ae62[-0x8*0xac+-0x1ce7+0x2249]);const _0x198f9e=Math['max'](_0x2489c0[-0x1e3+0x2213*0x1+0x19c*-0x14],_0x11c932[-0x12e*-0xe+-0x1778+-0x5*-0x164]);this['maxVel']=_0x349ce1+_0x178bbb+_0x198f9e;}this['useCpu']||(this['internalTe'+'x0']=Qt(_0x8522b9,_0x5b9547,0x1*0x1978+0x977+-0x22ee,D_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=Qt(_0x8522b9,_0x5b9547,-0x12e*0x6+-0x2f*0xbb+0x296a,D_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=Qt(_0x8522b9,_0x5b9547,-0xc2e+0x1f48+-0x1319,n1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=Qt(_0x8522b9,_0x5b9547,-0xa9f*-0x2+-0x18e0+0x3a3*0x1,a1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=Qt(_0x8522b9,_0x5b9547,0x2a5+-0x1693+0x13ef,r1(this['qColor'],this['qAlpha']),rs,0x1e1*-0x5+-0xe84+0x17ea,!(-0x36*0x33+-0x1b*0x63+0x1533));}['_setMateri'+'alTextures'](){this['colorMap']&&(v['call'](()=>{Ey(this['colorMap']['format'])&&v['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x331542=new s1(this);return _0x331542['name']='EmitterMat'+'erial:'+this['node']['name'],_0x331542['cull']=mt,_0x331542['alphaWrite']=!(0x1*0x75b+0x5c*-0x6+-0xe*0x5f),_0x331542['blendType']=this['blendType'],_0x331542['depthWrite']=this['depthWrite'],_0x331542;}['resetMater'+'ial'](){const _0x2c218a=this['material'];_0x2c218a['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x2c218a['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x2c218a['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x2c218a['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x2c218a['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x2c218a['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x2c218a['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x2c218a['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x2c218a['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x2c218a['setParamet'+'er']('colorParam',this['colorParam']),_0x2c218a['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x2c218a['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x2c218a['setParamet'+'er']('lifetime',this['lifetime']),_0x2c218a['setParamet'+'er']('rate',this['rate']),_0x2c218a['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x2c218a['setParamet'+'er']('seed',this['seed']),_0x2c218a['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0x24a5+0xdbe*-0x2+-0x929]),_0x2c218a['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0xa7*0x12+-0x13*-0x1d3+0x16eb*-0x1]),_0x2c218a['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][0xe8f+0x1868+-0x26f7]),_0x2c218a['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x2c218a['setParamet'+'er']('graphSampl'+'eSize',(0x239*0x4+0x779*0x2+-0x17d5)/this['precision']),_0x2c218a['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0x67c+0x21a9+-0x1b2c,0x88b+-0x2a1+-0x5e9,-0xe4+-0x7b1*-0x2+-0xe7d])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x2c218a['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x2c218a['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x2c218a['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x5*0x58a+0x1c41+-0x37f3]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0x3d*-0x96+-0x5*0x7cd+0xb*0x4c]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x35*-0x9f+-0x22f5+-0x20c*-0x1]=this['wrapBounds']['z'],_0x2c218a['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x6*0x29d+0x57a*0x4+-0x63a*0x1&&_0x2c218a['setParamet'+'er']('softening',(0x27*-0x35+0x101*-0x3+0xb17)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0x987*-0x1+0x5*0x77f+-0x1b90))),this['stretch']>0x959*0x3+-0xa3*0x7+0xbcb*-0x2&&(_0x2c218a['cull']=mt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x2298bf,_0x8bea16;if(this['orientatio'+'n']===Uh)_0x2298bf=new Float32Array([-0x6*0x544+0xab6+0x14e3*0x1,0x239c+-0x8*-0x2c3+-0x39b4,-0x10b5+-0x284*0x1+0x1339]),_0x8bea16=new Float32Array([0x3*-0xccf+-0xc1c+-0x3289*-0x1,-0xd9+0x26a5*-0x1+0x1*0x277e,0x14ef*-0x1+0x2628+-0x1138]);else{let _0x2ac105;this['orientatio'+'n']===Xb?_0x2ac105=this['particleNo'+'rmal']['normalize']():_0x2ac105=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x3bb28d=new T(0x23*-0x4b+-0x9a9*0x1+0x1*0x13eb,-0x1*0x17e3+-0x97a+0x215d,0xdf0*-0x1+-0x1c+0xe0c);Math['abs'](_0x3bb28d['dot'](_0x2ac105))===-0x796+0x246b+0x2*-0xe6a&&_0x3bb28d['set'](0x19e1+-0x9*-0xba+-0x206b,-0x61*-0x25+0x2*-0xf21+0x1*0x103d,0x2278+0x1c7f+-0x1f7b*0x2);const _0x37bb58=new T()['cross'](_0x2ac105,_0x3bb28d)['normalize']();_0x3bb28d['cross'](_0x37bb58,_0x2ac105)['normalize'](),_0x2298bf=new Float32Array([_0x3bb28d['x'],_0x3bb28d['y'],_0x3bb28d['z']]),_0x8bea16=new Float32Array([_0x37bb58['x'],_0x37bb58['y'],_0x37bb58['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x2298bf),this['material']['setParamet'+'er']('faceBinorm',_0x8bea16);}['_allocate'](_0xf9eb49){const _0x13286d=_0xf9eb49*this['numParticl'+'eVerts'],_0x27b832=_0xf9eb49*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0x1814+-0x23dd*-0x1+0x1*-0xbc9)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x13286d){const _0x336150=[];this['useCpu']?_0x336150['push']({'semantic':bu,'components':0x4,'type':Ee},{'semantic':wu,'components':0x4,'type':Ee},{'semantic':Ry,'components':0x4,'type':Ee},{'semantic':Iy,'components':0x1,'type':Ee},{'semantic':Dy,'components':this['useMesh']?-0x1*-0x1e0e+-0x82b*0x2+-0x36d*0x4:-0x1*0x1c0b+0xf8a+-0xc83*-0x1,'type':Ee}):(_0x336150['push']({'semantic':bu,'components':0x4,'type':Ee}),this['useMesh']&&_0x336150['push']({'semantic':wu,'components':0x2,'type':Ee}));const _0x47342e=new Et(this['graphicsDe'+'vice'],_0x336150);this['vertexBuff'+'er']=new os(this['graphicsDe'+'vice'],_0x47342e,_0x13286d,{'usage':Th}),this['indexBuffe'+'r']=new lr(this['graphicsDe'+'vice'],nr,_0x27b832);const _0x5ac82f=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x283512,_0x533fb6,_0xe8cbe;if(this['useMesh']){_0x283512=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x533fb6=_0x283512['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x36d158=-0x2d3*0x1+0x1524*0x1+-0x1251;_0x36d158<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x36d158++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x36d158]['name']===ns){_0xe8cbe=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x36d158]['offset']/(-0xe2a+-0x23b8+0x10a2*0x3);break;}}for(let _0x5f4006=0x2*0x1345+-0xce7*-0x3+-0x4d3f;_0x5f4006<_0x13286d;_0x5f4006++){const _0x2f6d5a=Math['floor'](_0x5f4006/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x5aba42=_0x5f4006%this['numParticl'+'eVerts'];_0x5ac82f[_0x5f4006*(0x10db+-0x1cc2+0xbed*0x1)]=_0x283512[_0x5aba42*_0x533fb6],_0x5ac82f[_0x5f4006*(0x568+0x111d+-0xd*0x1bb)+(0x10*0x2c+0x1f*0x1f+0x8*-0xd0)]=_0x283512[_0x5aba42*_0x533fb6+(-0x89b*0x1+-0xd1*0x9+-0x5f*-0x2b)],_0x5ac82f[_0x5f4006*(0x3*-0x552+-0x918*-0x1+0x6e4)+(-0x1*-0xd04+-0x425*0x8+-0x1*-0x1426)]=_0x283512[_0x5aba42*_0x533fb6+(0x9bc*-0x4+-0x2*0xf95+0x461c)],_0x5ac82f[_0x5f4006*(0xf3b+0x1c2+0x2b*-0x65)+(0x1b91*-0x1+-0xe94+0x1*0x2a28)]=_0x2f6d5a,_0x5ac82f[_0x5f4006*(-0x3*-0x3dd+-0x200a+0x1479)+(0x26e6+-0x123a*-0x1+-0x391c)]=_0x283512[_0x5aba42*_0x533fb6+_0xe8cbe+(-0x8b*0x39+0x11a6*-0x1+0x3099)],_0x5ac82f[_0x5f4006*(0xbd1+0x3*-0x2c1+-0x388)+(-0x207*0x9+0x2426*0x1+-0x11e2)]=0x81a+0x3a9*0x9+0x22*-0x135-_0x283512[_0x5aba42*_0x533fb6+_0xe8cbe+(-0x12b3*-0x1+0x8*-0x29+-0x116a)];}else{const _0x228491=_0x5f4006%(0x12a8+0x2*-0x116f+0x43*0x3e);_0x5ac82f[_0x5f4006*(-0x1fce+0x1014+0xfbe)]=E_[_0x228491][0x373+-0x2ce*-0xd+0x27e9*-0x1],_0x5ac82f[_0x5f4006*(0x931*-0x1+-0x7ed*0x4+0xda3*0x3)+(-0x313*0xc+0xa0d+0x1ad8)]=E_[_0x228491][-0x1cd6+-0x4*0x2ea+-0x7*-0x5c9],_0x5ac82f[_0x5f4006*(-0x223d*0x1+-0x7c*-0x8+0x1e61)+(-0x22e6+-0x1*0x129e+-0x2*-0x1ac3)]=0xe1c+-0x1b27+-0x1dd*-0x7,_0x5ac82f[_0x5f4006*(-0x1*-0x805+0x9*0x255+-0x1cfe)+(0x1bc5+-0x1312+-0x8b0)]=_0x2f6d5a;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x5ac82f),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x1f026d=0x10ad*-0x1+0x3b3*0x2+0x1*0x947;const _0x5e0da4=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0xca5186=this['mesh']['indexBuffe'+'r'][0x4*-0x172+0x2132+0xf2*-0x1d];_0x283512=new Lh[_0xca5186['format']](_0xca5186['lock']());}for(let _0x681154=0xd85+-0x1*-0xedb+-0x1c60;_0x681154<_0xf9eb49;_0x681154++)if(this['useMesh']){for(let _0x3c6263=0x1*-0x22d4+-0x1eeb+0x41bf;_0x3c6263<this['numParticl'+'eIndices'];_0x3c6263++)_0x5e0da4[_0x681154*this['numParticl'+'eIndices']+_0x3c6263]=_0x283512[_0x3c6263]+_0x681154*this['numParticl'+'eVerts'];}else{const _0x2c7677=_0x681154*(-0x165e+0x2*-0x5e9+0x2234);_0x5e0da4[_0x1f026d++]=_0x2c7677,_0x5e0da4[_0x1f026d++]=_0x2c7677+(0x15c5+-0xe9*-0x11+-0x253d),_0x5e0da4[_0x1f026d++]=_0x2c7677+(-0x6ce*-0x2+0x15dc+-0xb2*0x33),_0x5e0da4[_0x1f026d++]=_0x2c7677,_0x5e0da4[_0x1f026d++]=_0x2c7677+(-0x1e0b+0x49*-0x1b+0x25c0),_0x5e0da4[_0x1f026d++]=_0x2c7677+(0x54*-0x4c+0xbd8*0x1+0x3d*0x37);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0x1b83*0x1+0x19cc+0x1b7]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x1d78+0x1967*0x1+0x15b*0x3),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x5207fc=-0xd*-0x1ed+-0x1*0x215f+0x856;_0x5207fc<this['particleTe'+'xStart']['length'];_0x5207fc++)this['particleTe'+'x'][_0x5207fc]=this['particleTe'+'xStart'][_0x5207fc];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x1827d9=this['loop'];this['loop']=!(0xf*-0x251+-0x13f6+-0x1*-0x36b5),this['addTime'](0xb5*0x27+0x2234+0x5*-0xc5b,!(0xd64+0x1*0xc7+0xe2a*-0x1)),this['loop']=_0x1827d9,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x3cccd4){const _0x1f6e39=_0x3cccd4/this['lifetime'],_0x553c29=Math['min'](Math['floor'](_0x1f6e39*this['precision']),this['precision']),_0x5b20ea=_0x3cccd4/_0x553c29;for(let _0x5d89d2=0xf*0x25+-0x2681+-0x1*-0x2456;_0x5d89d2<_0x553c29;_0x5d89d2++)this['addTime'](_0x5b20ea,!(0x25ac+0x1470+-0x3a1b));}['resetTime'](){this['endTime']=o1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x5ef222,_0x1cf999){const _0x48d12f=this['graphicsDe'+'vice'],_0xd0bef7=ne();if(this['simTimeTot'+'al']+=_0x5ef222,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x3ed4fe=this['animTilesP'+'arams'];_0x3ed4fe[0x1c9b+-0x266f+0x9d4*0x1]=(0x12a0+-0x2f*0x7f+0x4b2)/this['animTilesX'],_0x3ed4fe[0x6b6*-0x4+0x3*-0xcab+0x6*0xacf]=(0x4cd*0x4+0x92*-0x43+0x1303)/this['animTilesY'];const _0x105957=this['animParams'];_0x105957[-0x2497+-0x13af+0x961*0x6]=this['animStartF'+'rame'],_0x105957[-0x1cfb+0x1fd1+-0x91*0x5]=this['animNumFra'+'mes']*this['animSpeed'],_0x105957[-0xf81+-0x22f5+0x3278]=this['animNumFra'+'mes']-(-0x24c1+-0x1cf*-0x1+0x1*0x22f3),_0x105957[-0x255e+-0x7a*-0x2a+0x379*0x5]=this['animNumAni'+'mations']-(-0x1*0x182b+-0x2*0x12e+0x1a88);const _0x28fddb=this['animIndexP'+'arams'];_0x28fddb[-0x2*-0xd4+0xd29+-0xed1]=this['animIndex'],_0x28fddb[-0x1d07*0x1+-0x23a6+0x2057*0x2]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===Vs&&(ri[-0x1456*0x1+-0x3*-0x2b2+0xc40]=this['emitterExt'+'ents']['x']!==0x41*-0x89+-0x1da2+-0x1579*-0x3?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x53*0x1d+-0xc1*-0x2b+0x4*-0x5c1,ri[0x154*-0x6+-0x514*-0x4+0x41d*-0x3]=this['emitterExt'+'ents']['y']!==0xdfc+-0x1a1*0xb+-0x13*-0x35?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x2687+0xad8+0x1baf,ri[0x19ba+-0x186d+0x1*-0x14b]=this['emitterExt'+'ents']['z']!==0x9b7*-0x3+-0x83*0x11+0x25d8?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x482+-0x1*-0x1dd3+-0x1*0x2255,this['meshInstan'+'ce']['node']===null?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['emitterExt'+'ents']):Tr['setTRS'](T['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),I_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x169718;const _0x338ce2=this['meshInstan'+'ce']['node']===null?T['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0xfad+0x1d01+-0xd54]=_0x338ce2['x'],this['emitterSca'+'leUniform'][0x4*-0x4c1+-0x2e*0x75+-0xd59*-0x3]=_0x338ce2['y'],this['emitterSca'+'leUniform'][0x909+-0x13bf+-0xc4*-0xe]=_0x338ce2['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x169718=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][0x8a0+0xccf+-0x156f]=_0x169718['x'],this['emitterPos'+'Uniform'][-0x2*-0x11be+-0x12e+-0x224d]=_0x169718['y'],this['emitterPos'+'Uniform'][0x9*-0x81+0xb*0x37d+-0x21d4]=_0x169718['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x48d12f,Tr,ri,_0x5ef222,_0x1cf999);else{const _0x5daba9=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x5daba9,this['vbToSort'],this['particleTe'+'x'],Tr,ri,_0x169718,_0x5ef222,_0x1cf999);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x2*-0x2bb+-0x22d5+0x758*0x4)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ne()-_0xd0bef7;}['_destroyRe'+'sources'](){var _0x3aabbb,_0x3dcd9a,_0x55de56,_0x55ec96,_0x1beec7,_0x3c21e3,_0x4cac2,_0x59e876,_0x5a4faf,_0x274ef2,_0x3d0bb2,_0x2027e4;(_0x3aabbb=this['particleTe'+'xIN'])==null||_0x3aabbb['destroy'](),this['particleTe'+'xIN']=null,(_0x3dcd9a=this['particleTe'+'xOUT'])==null||_0x3dcd9a['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x55de56=this['rtParticle'+'TexIN'])==null||_0x55de56['destroy'](),this['rtParticle'+'TexIN']=null,(_0x55ec96=this['rtParticle'+'TexOUT'])==null||_0x55ec96['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x1beec7=this['internalTe'+'x0'])==null||_0x1beec7['destroy'](),this['internalTe'+'x0']=null,(_0x3c21e3=this['internalTe'+'x1'])==null||_0x3c21e3['destroy'](),this['internalTe'+'x1']=null,(_0x4cac2=this['internalTe'+'x2'])==null||_0x4cac2['destroy'](),this['internalTe'+'x2']=null,(_0x59e876=this['internalTe'+'x3'])==null||_0x59e876['destroy'](),this['internalTe'+'x3']=null,(_0x5a4faf=this['colorParam'])==null||_0x5a4faf['destroy'](),this['colorParam']=null,(_0x274ef2=this['vertexBuff'+'er'])==null||_0x274ef2['destroy'](),this['vertexBuff'+'er']=void(0x124+-0x17e2+0x16be),(_0x3d0bb2=this['indexBuffe'+'r'])==null||_0x3d0bb2['destroy'](),this['indexBuffe'+'r']=void(0xf1e+0x1c49+0x10f*-0x29),(_0x2027e4=this['material'])==null||_0x2027e4['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class u1 extends It{['generateKe'+'y'](_0x1734b9){const _0x41a2a1=_0x1734b9['shaderDesc'],_0x4f97ef=_0x41a2a1['vertexCode']?hn(_0x41a2a1['vertexCode']):0xa5b*-0x1+0xe4+0x977,_0x7bb3bd=_0x41a2a1['fragmentCo'+'de']?hn(_0x41a2a1['fragmentCo'+'de']):-0x1df6+-0x2335*0x1+-0x412b*-0x1,_0x3e73c0=It['definesHas'+'h'](_0x1734b9['defines']);let _0x4b1a88=_0x41a2a1['uniqueName']+'_'+_0x4f97ef+'_'+_0x7bb3bd+'_'+_0x3e73c0;return _0x1734b9['skin']&&(_0x4b1a88+='_skin'),_0x1734b9['useInstanc'+'ing']&&(_0x4b1a88+='_inst'),_0x1734b9['useMorphPo'+'sition']&&(_0x4b1a88+='_morphp'),_0x1734b9['useMorphNo'+'rmal']&&(_0x4b1a88+='_morphn'),_0x1734b9['useMorphTe'+'xtureBased'+'Int']&&(_0x4b1a88+='_morphi'),_0x4b1a88;}['createAttr'+'ibutesDefi'+'nition'](_0x12508c,_0x6e790c){const _0x5d19cd=_0x6e790c['shaderDesc']['attributes'],_0x17532d=_0x5d19cd?{..._0x5d19cd}:void(0x2054+-0x1*0x22bd+0x269);_0x6e790c['skin']&&(_0x17532d['vertex_bon'+'eWeights']=Ys,_0x17532d['vertex_bon'+'eIndices']=qt),(_0x6e790c['useMorphPo'+'sition']||_0x6e790c['useMorphNo'+'rmal'])&&(_0x17532d['morph_vert'+'ex_id']=ya),_0x12508c['attributes']=_0x17532d;}['createVert'+'exDefiniti'+'on'](_0x10782b,_0x28ad1e,_0x110b91){const _0xb57a2d=_0x28ad1e['shaderDesc'];if(_0x10782b['shaderLang'+'uage']===Ph)_0x10782b['vertexCode']=_0xb57a2d['vertexCode'];else{const _0x490c33=new Map(_0x110b91),_0x2c54c2=new Map(_0x28ad1e['defines']);_0x490c33['set']('transformI'+'nstancingV'+'S',''),_0x28ad1e['skin']&&_0x2c54c2['set']('SKIN',!(0x2f6*0xd+0xa0b+-0x3089)),_0x28ad1e['useInstanc'+'ing']&&_0x2c54c2['set']('INSTANCING',!(-0x1*-0x2189+-0x10*-0x26a+-0x4829)),(_0x28ad1e['useMorphPo'+'sition']||_0x28ad1e['useMorphNo'+'rmal'])&&(_0x2c54c2['set']('MORPHING',!(0x12a5+0x5c9*0x4+-0x29c9*0x1)),_0x28ad1e['useMorphTe'+'xtureBased'+'Int']&&_0x2c54c2['set']('MORPHING_I'+'NT',!(0x229*0x2+0x1325+-0x1777)),_0x28ad1e['useMorphPo'+'sition']&&_0x2c54c2['set']('MORPHING_P'+'OSITION',!(-0x6a*0x25+0x15e+0xdf4)),_0x28ad1e['useMorphNo'+'rmal']&&_0x2c54c2['set']('MORPHING_N'+'ORMAL',!(-0x19ce+-0xe87+0x2855))),_0x10782b['vertexCode']=_0xb57a2d['vertexCode'],_0x10782b['vertexIncl'+'udes']=_0x490c33,_0x10782b['vertexDefi'+'nes']=_0x2c54c2;}}['createFrag'+'mentDefini'+'tion'](_0x485c1f,_0x55f674,_0x38c0b1){const _0x4aad6f=_0x55f674['shaderDesc'];if(_0x485c1f['shaderLang'+'uage']===Ph)_0x485c1f['fragmentCo'+'de']=_0x4aad6f['fragmentCo'+'de'];else{const _0x2e07df=new Map(_0x38c0b1),_0x1d644c=new Map(_0x55f674['defines']);_0x485c1f['fragmentCo'+'de']=_0x4aad6f['fragmentCo'+'de'],_0x485c1f['fragmentIn'+'cludes']=_0x2e07df,_0x485c1f['fragmentDe'+'fines']=_0x1d644c;}}['createShad'+'erDefiniti'+'on'](_0x112391,_0x2ad219){const _0x20ec67=_0x2ad219['shaderDesc'],_0x5306f3={'name':'ShaderMate'+'rial-'+_0x20ec67['uniqueName'],'shaderLanguage':_0x20ec67['shaderLang'+'uage'],'fragmentOutputTypes':_0x20ec67['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x20ec67['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x20ec67['meshBindGr'+'oupFormat']},_0x4c7aca=new Map(Object['entries']({...X,..._0x2ad219['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x5306f3,_0x2ad219),this['createVert'+'exDefiniti'+'on'](_0x5306f3,_0x2ad219,_0x4c7aca),this['createFrag'+'mentDefini'+'tion'](_0x5306f3,_0x2ad219,_0x4c7aca),Mt['createDefi'+'nition'](_0x112391,_0x5306f3);}}const f1=new u1();class Ra extends yn{constructor(_0x4df18b){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0x4df18b;}set['shaderDesc'](_0x592d99){_0x592d99&&(v['assert'](_0x592d99['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),v['assert'](_0x592d99['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x592d99?{..._0x592d99}:void(0x2*0x1056+0x22f3+-0x1*0x439f),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x1f50ef){return super['copy'](_0x1f50ef),this['shaderDesc']=_0x1f50ef['shaderDesc'],this;}['getShaderV'+'ariant'](_0x361cbb){const {objDefs:_0x53ed48}=_0x361cbb,_0x25b9a9={'defines':Dp(this,_0x361cbb),'skin':(_0x53ed48&$c)!==0xa8*-0x8+0x17a1+-0x1*0x1261,'useInstancing':(_0x53ed48&Wc)!==-0x235c+-0x2205+0x4561,'useMorphPosition':(_0x53ed48&qc)!==-0x1b95+-0x1eff+0x3a94,'useMorphNormal':(_0x53ed48&Xc)!==0x1516+-0x1*0x2185+-0x3*-0x425,'useMorphTextureBasedInt':(_0x53ed48&jc)!==-0x231a+0xbe2+0x1738,'pass':_0x361cbb['pass'],'gamma':_0x361cbb['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x361cbb['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x361cbb['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x49a8ce=new Yc(_0x361cbb['viewUnifor'+'mFormat'],_0x361cbb['viewBindGr'+'oupFormat'],_0x361cbb['vertexForm'+'at']),_0x807b0=ka(_0x361cbb['device']);return _0x807b0['register']('shader-mat'+'erial',f1),_0x807b0['getProgram']('shader-mat'+'erial',_0x25b9a9,_0x49a8ce,this['userId']);}}const k0=(_0x5c6400,_0x203290)=>{const _0x548198=_0x203290['length']/(0x177d+0x1*-0x4d5+-0x12a5),_0x51f6a5=_0x5c6400['length']/(0x9f9+-0x3*-0xef+-0xcc3),_0x1f5765=new T(),_0x46bc29=new T(),_0x21d58d=new T(),_0x2e8c86=new T(),_0x555746=new T(),_0x22910d=new T(),_0x2ba34a=[];for(let _0x3aaffe=-0x5*0x5a2+0x137+-0x1*-0x1af3;_0x3aaffe<_0x5c6400['length'];_0x3aaffe++)_0x2ba34a[_0x3aaffe]=-0xf3a*0x1+0x710+0x82a;for(let _0x3e4d80=-0x216f+-0x1f65+0x159c*0x3;_0x3e4d80<_0x548198;_0x3e4d80++){const _0x47b153=_0x203290[_0x3e4d80*(0x16dd+0x4*0x2db+-0x52*0x6b)],_0x48079e=_0x203290[_0x3e4d80*(0xe84*0x1+0xed3+-0x1d54)+(0x950+0x14ad*-0x1+0xb5e)],_0x5b7415=_0x203290[_0x3e4d80*(0xa*-0x14d+0x25*0xb5+0x1*-0xd24)+(-0xd3*0x25+0x417+0x1a6a)];_0x1f5765['set'](_0x5c6400[_0x47b153*(0x1*0x19d6+-0xece+-0xb05)],_0x5c6400[_0x47b153*(-0x5f8*0x2+-0x1*0x205+0xdf8)+(0x11*-0x6f+0x1047+-0x2b*0x35)],_0x5c6400[_0x47b153*(-0x3*-0x93b+0xf*-0xcc+-0x53e*0x3)+(0x1940+-0xf2e+0xa10*-0x1)]),_0x46bc29['set'](_0x5c6400[_0x48079e*(-0x1042*0x2+0x229c+-0xd*0x29)],_0x5c6400[_0x48079e*(0x895*-0x1+0x75d*-0x1+0xff5)+(0x8*-0xc5+0x1*-0xae3+0x110c*0x1)],_0x5c6400[_0x48079e*(-0x209a+0x1c*0x9e+0xf55)+(0x16f7*-0x1+-0xce9*0x1+0x23e2)]),_0x21d58d['set'](_0x5c6400[_0x5b7415*(0x1*-0x22d9+0x1086+0x1256)],_0x5c6400[_0x5b7415*(0x91*0x36+-0x2681*-0x1+-0x4514)+(-0x126f+-0x52f+0x179f)],_0x5c6400[_0x5b7415*(-0x7f*-0x4d+0x94*0x38+0x8*-0x8d2)+(-0xc22+-0x1108+-0x1d2c*-0x1)]),_0x2e8c86['sub2'](_0x46bc29,_0x1f5765),_0x555746['sub2'](_0x21d58d,_0x1f5765),_0x22910d['cross'](_0x2e8c86,_0x555746)['normalize'](),_0x2ba34a[_0x47b153*(0xc1*-0x1d+-0x8*0x199+0x22a8)]+=_0x22910d['x'],_0x2ba34a[_0x47b153*(0x4d5*0x4+-0x498+-0xeb9)+(0x1036+0x1cc3+-0x8*0x59f)]+=_0x22910d['y'],_0x2ba34a[_0x47b153*(-0x21ec+-0x1724+0x3913)+(-0x5e2+0x50f+0xd5)]+=_0x22910d['z'],_0x2ba34a[_0x48079e*(-0x1a*0xbf+-0x1a65+-0x2dce*-0x1)]+=_0x22910d['x'],_0x2ba34a[_0x48079e*(0x17d*0x1a+0x3a*0x3e+-0x34bb)+(-0x1*-0x1c57+-0x1*0x82d+-0x1429)]+=_0x22910d['y'],_0x2ba34a[_0x48079e*(-0x2005+-0x60f+0x2617)+(-0xb5e+0x4be*0x1+0x6a2)]+=_0x22910d['z'],_0x2ba34a[_0x5b7415*(0x27e*-0xa+-0x1bd5+-0x2c*-0x133)]+=_0x22910d['x'],_0x2ba34a[_0x5b7415*(-0x1aff*-0x1+0x1fc6+-0x3ac2)+(0x1ed+0x1a6*-0x12+0x8*0x378)]+=_0x22910d['y'],_0x2ba34a[_0x5b7415*(-0x1*0x127d+0x1cce+-0x2*0x527)+(0x72a+0x8b5*-0x1+-0x18d*-0x1)]+=_0x22910d['z'];}for(let _0x5653f7=-0x539+-0x190b+-0x34*-0x95;_0x5653f7<_0x51f6a5;_0x5653f7++){const _0x1a1975=_0x2ba34a[_0x5653f7*(0x137c+0x2432+-0x37ab)],_0xfcd236=_0x2ba34a[_0x5653f7*(0x1e33*-0x1+-0x5*-0xeb+0x199f)+(0x2d3*0x5+-0x26*0xb2+-0xf*-0xd2)],_0x311dcf=_0x2ba34a[_0x5653f7*(-0xe05*0x2+0x25aa+0x1*-0x99d)+(0x1*0x210d+-0x1c46+0x21*-0x25)],_0x11f3c9=(0x6d*-0x4f+0x19b5+0x7ef)/Math['sqrt'](_0x1a1975*_0x1a1975+_0xfcd236*_0xfcd236+_0x311dcf*_0x311dcf);_0x2ba34a[_0x5653f7*(0x2387*0x1+-0x3d3*0x6+-0xc92)]*=_0x11f3c9,_0x2ba34a[_0x5653f7*(-0x2123+0x29*-0x4f+-0x7*-0x68b)+(0x1552+0x314+-0x4e1*0x5)]*=_0x11f3c9,_0x2ba34a[_0x5653f7*(-0x4de*-0x1+0x21a7+-0x2682)+(0xe31+0x23f9*0x1+-0x18*0x217)]*=_0x11f3c9;}return _0x2ba34a;},fr=(_0x1dae9d,_0x4f69d3,_0x4628ea,_0x578b6b)=>{const _0x36c57d=_0x578b6b['length']/(0x2cf+-0x1*-0x1663+-0x3*0x865),_0x5ef5eb=_0x1dae9d['length']/(0x1559+-0x10d*0x17+0x2d5),_0x1e30df=new T(),_0x5e029c=new T(),_0x1ff76f=new T(),_0x21864b=new $(),_0x5dc017=new $(),_0x3baeb5=new $(),_0x302f18=new T(),_0x18f1ab=new T(),_0x35b6b6=new Float32Array(_0x5ef5eb*(0x917*-0x3+-0x1*-0x2563+0xa1b*-0x1)),_0x5897cc=new Float32Array(_0x5ef5eb*(0x5*-0x497+-0x5*0xe9+0x1b83)),_0x50a18c=[];for(let _0x998b0=-0x493+0x1f*0x3a+-0x273;_0x998b0<_0x36c57d;_0x998b0++){const _0x1f767e=_0x578b6b[_0x998b0*(-0x33*-0x1d+0x22a+0x7ee*-0x1)],_0x585eac=_0x578b6b[_0x998b0*(0xdd9+0x1f*0xc7+-0x3*0xca5)+(0x103b*-0x1+-0x2644+-0xda0*-0x4)],_0x264217=_0x578b6b[_0x998b0*(-0x104b+-0x1fb6+0x2*0x1802)+(0x7*-0x131+0xc54+0x3fb*-0x1)];_0x1e30df['set'](_0x1dae9d[_0x1f767e*(0xb8c*0x1+-0x1372+0x5*0x195)],_0x1dae9d[_0x1f767e*(-0x15b*-0x3+0xd*0xab+-0xcbd)+(0x7*0x55b+0x1f*0x6e+0x2*-0x1967)],_0x1dae9d[_0x1f767e*(-0x1e9b+-0x1*0x7ad+-0x1*-0x264b)+(0x1c95+0x6f*-0x43+-0x2*-0x3d)]),_0x5e029c['set'](_0x1dae9d[_0x585eac*(-0x20f5+-0x1*0x758+-0xa14*-0x4)],_0x1dae9d[_0x585eac*(-0x1128+0x5cc+0xb5f)+(0xb3e+-0x229f+0x1762)],_0x1dae9d[_0x585eac*(0x7*0x4a+-0x1ba2+0x199f)+(-0x12bb+-0x8c7+0x1b84)]),_0x1ff76f['set'](_0x1dae9d[_0x264217*(-0x471+0x167*-0xd+0x16af*0x1)],_0x1dae9d[_0x264217*(-0x11c1*0x1+-0x11e2+0x23a6)+(0x7b2+0x2213+-0x29c4)],_0x1dae9d[_0x264217*(0x829*-0x1+-0x1f0+0xa1c)+(-0x4*0x97+-0x4a4+0x702)]),_0x21864b['set'](_0x4628ea[_0x1f767e*(0x1eca+-0xb70+-0x1358)],_0x4628ea[_0x1f767e*(-0x1b16+-0x79*-0x35+0x20b)+(0x9a6+0x25b1+0x53*-0x92)]),_0x5dc017['set'](_0x4628ea[_0x585eac*(-0x1480+-0x1*0x1c9+0xd*0x1b7)],_0x4628ea[_0x585eac*(-0xaa7+0x18bb+0xe12*-0x1)+(-0x68*-0x3c+-0xf60+-0x7*0x149)]),_0x3baeb5['set'](_0x4628ea[_0x264217*(0x25*0xef+-0x1*0x1bd+-0x20cc)],_0x4628ea[_0x264217*(-0x25e5*0x1+-0x6a*0x1d+0x31e9)+(0x21ca+-0x89f*0x2+-0x181*0xb)]);const _0x3841fe=_0x5e029c['x']-_0x1e30df['x'],_0x3d1334=_0x1ff76f['x']-_0x1e30df['x'],_0x422afe=_0x5e029c['y']-_0x1e30df['y'],_0x738078=_0x1ff76f['y']-_0x1e30df['y'],_0x4424c2=_0x5e029c['z']-_0x1e30df['z'],_0x80996=_0x1ff76f['z']-_0x1e30df['z'],_0x48896f=_0x5dc017['x']-_0x21864b['x'],_0x36a976=_0x3baeb5['x']-_0x21864b['x'],_0x3b6ce4=_0x5dc017['y']-_0x21864b['y'],_0x508837=_0x3baeb5['y']-_0x21864b['y'],_0x3e0e52=_0x48896f*_0x508837-_0x36a976*_0x3b6ce4;if(_0x3e0e52===0x1152+-0x284*0xc+0xcde)_0x302f18['set'](0x6e7*-0x2+0x2623+-0x1855,-0x1de0+0xaee+0x12f3,0x9*0x25+-0x24f6+0x23a9),_0x18f1ab['set'](0x45*-0x13+0x549+0x29*-0x1,-0x2457*0x1+0xc2*-0x2e+0x1*0x4733,-0x1d3c+0x108a+0x41*0x32);else{const _0x2c6162=(0x17b2+0x23b7+-0x8*0x76d)/_0x3e0e52;_0x302f18['set']((_0x508837*_0x3841fe-_0x3b6ce4*_0x3d1334)*_0x2c6162,(_0x508837*_0x422afe-_0x3b6ce4*_0x738078)*_0x2c6162,(_0x508837*_0x4424c2-_0x3b6ce4*_0x80996)*_0x2c6162),_0x18f1ab['set']((_0x48896f*_0x3d1334-_0x36a976*_0x3841fe)*_0x2c6162,(_0x48896f*_0x738078-_0x36a976*_0x422afe)*_0x2c6162,(_0x48896f*_0x80996-_0x36a976*_0x4424c2)*_0x2c6162);}_0x35b6b6[_0x1f767e*(-0x33*-0x7e+-0x1ef2+0x5db)+(-0x594+0x1dd9+-0x817*0x3)]+=_0x302f18['x'],_0x35b6b6[_0x1f767e*(0x39*-0x97+0x3d*-0x47+0x328d)+(-0xc93*-0x3+-0x1717+-0xea1)]+=_0x302f18['y'],_0x35b6b6[_0x1f767e*(0xe*-0x115+0x1b97+0x4a*-0x2b)+(-0x1*0x31+0xe3e+-0xe0b)]+=_0x302f18['z'],_0x35b6b6[_0x585eac*(-0x5*-0x236+0x171a*0x1+-0x2225)+(0x5ec+-0x776+0x18a)]+=_0x302f18['x'],_0x35b6b6[_0x585eac*(0x2466+0xb80+-0x12b*0x29)+(-0xc5e*0x2+0x9ca+-0x59*-0x2b)]+=_0x302f18['y'],_0x35b6b6[_0x585eac*(0x766+0x258e+-0x41*0xb1)+(-0xf*0x287+-0x1*0xcc7+-0x39f*-0xe)]+=_0x302f18['z'],_0x35b6b6[_0x264217*(-0x1ebb*-0x1+-0x1c12+-0x2a6)+(-0x1*-0x63c+0x20d8+0x52*-0x7a)]+=_0x302f18['x'],_0x35b6b6[_0x264217*(0x5*-0x45b+0x690+-0xf3a*-0x1)+(-0x1bf5+0x11*0x42+0x5e5*0x4)]+=_0x302f18['y'],_0x35b6b6[_0x264217*(0xfad+0x4*-0x57b+0x642)+(0xb*-0x1b7+0xf8c*-0x1+-0xb*-0x321)]+=_0x302f18['z'],_0x5897cc[_0x1f767e*(0xb0d+-0x161b+0xb11)+(0x2*-0xca7+-0xe2*-0x1f+0x108*-0x2)]+=_0x18f1ab['x'],_0x5897cc[_0x1f767e*(0x59a+-0x1419+-0x3*-0x4d6)+(-0x4*0x5b+-0x3*0x183+0x2fb*0x2)]+=_0x18f1ab['y'],_0x5897cc[_0x1f767e*(-0x1*-0x14aa+0x667*-0x2+-0x7d9)+(0x38*-0x4e+-0x223*0x6+0x1de4)]+=_0x18f1ab['z'],_0x5897cc[_0x585eac*(-0x1ee4+0x11d3+0xd14)+(-0x83+-0x1b88+0x1c0b)]+=_0x18f1ab['x'],_0x5897cc[_0x585eac*(0x1*-0xb4d+-0x371*-0x1+-0x41*-0x1f)+(0xa3*0x34+-0x6*-0x67+-0x2385*0x1)]+=_0x18f1ab['y'],_0x5897cc[_0x585eac*(-0x1*-0x1a91+-0x2*0x699+-0x17c*0x9)+(0xeca+0xca*0x3+-0x1126)]+=_0x18f1ab['z'],_0x5897cc[_0x264217*(-0x37d*-0x7+-0x1fd5+0x76d)+(0x1093*0x1+0x2f1*0x1+0x9c2*-0x2)]+=_0x18f1ab['x'],_0x5897cc[_0x264217*(0x907+-0x407*0x6+0x2*0x793)+(-0x1*0x1051+-0x1284+-0x2*-0x116b)]+=_0x18f1ab['y'],_0x5897cc[_0x264217*(-0x21df+0x1*0x79+0x1*0x2169)+(0xa*0x33e+0x1*0xb3f+0x1*-0x2ba9)]+=_0x18f1ab['z'];}const _0xee0a59=new T(),_0x1f3004=new T(),_0xb3f445=new T(),_0xf663f5=new T();for(let _0x26a8ba=0x6*-0x1c0+-0x7*-0x309+-0x395*0x3;_0x26a8ba<_0x5ef5eb;_0x26a8ba++){_0xb3f445['set'](_0x4f69d3[_0x26a8ba*(-0x193*-0x5+0x13d5+0x1bb1*-0x1)],_0x4f69d3[_0x26a8ba*(-0x16*0x91+0x2*0x8a5+-0x19b*0x3)+(0x21ec+-0x5*-0x2e1+0xc14*-0x4)],_0x4f69d3[_0x26a8ba*(0x1892+-0x24d2+0xc43)+(-0x2050+-0x1cef+-0x3*-0x146b)]),_0xee0a59['set'](_0x35b6b6[_0x26a8ba*(0x1e10+-0x20*0x54+0x7*-0x2cb)],_0x35b6b6[_0x26a8ba*(0x2478+0x2*0x10c1+0x1*-0x45f7)+(-0x2*-0xbf3+-0x1*0x17d5+0x4*-0x4)],_0x35b6b6[_0x26a8ba*(0x15ac+0x1529+-0xcb*0x36)+(0x279*0x1+-0x645+-0x1e7*-0x2)]),_0x1f3004['set'](_0x5897cc[_0x26a8ba*(0xed8+-0x10e5+-0x16*-0x18)],_0x5897cc[_0x26a8ba*(0x108f+0xd*0x9d+-0x1885)+(-0x217c+0x1976+0x807)],_0x5897cc[_0x26a8ba*(0x5ef+-0x2692*0x1+0x20a6)+(0x1*-0x17c7+0xf*-0x6a+0x1dff)]);const _0x9e35c=_0xb3f445['dot'](_0xee0a59);_0xf663f5['copy'](_0xb3f445)['mulScalar'](_0x9e35c),_0xf663f5['sub2'](_0xee0a59,_0xf663f5)['normalize'](),_0x50a18c[_0x26a8ba*(-0xc1*-0x3+-0x96d+0x2*0x397)]=_0xf663f5['x'],_0x50a18c[_0x26a8ba*(-0x7*0x15b+-0x16cc+0x204d)+(-0x2126+-0x156*-0x12+0x91b)]=_0xf663f5['y'],_0x50a18c[_0x26a8ba*(0x11*0x234+-0x3*-0x4d2+0x1*-0x33e6)+(-0xbc4+0x6*0x47b+-0xf1c)]=_0xf663f5['z'],_0xf663f5['cross'](_0xb3f445,_0xee0a59),_0x50a18c[_0x26a8ba*(-0x901*-0x1+0x2*-0x260+-0x43d)+(0x5*-0x26+0x1289+-0x11c8)]=_0xf663f5['dot'](_0x1f3004)<-0x1*-0x84a+0x4bb+-0xd05?-(-0x55*-0x15+0x1ab8+0xc4*-0x2c):0x1*-0x997+0x2*0x133b+0x5*-0x5c6;}return _0x50a18c;};class pn{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=k0(this['positions'],this['indices']);}['calculateT'+'angents'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),v['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const $u=(0x1cad+-0x22de+0x635)/(0x137*0x2+0x1*0xb71+-0xd9f),L_=-0x1c34+0xada+0x115b-$u*(-0x2*0xb5+-0x2576+0x26e2);class Wu extends pn{constructor(_0x7aa17c={}){super();const _0x8e9ab9=_0x7aa17c['halfExtent'+'s']??new T(0x81b+0xd19*0x1+-0xec*0x17+0.5,0x2425+-0x31e+-0x2107+0.5,-0xb*0x371+-0x1f3a+0x4515+0.5),_0xc5525=_0x7aa17c['widthSegme'+'nts']??0x1013+-0x5b4*0x1+-0xa5e,_0x506df0=_0x7aa17c['lengthSegm'+'ents']??0xa18+0x918+-0x132f*0x1,_0x291eec=_0x7aa17c['heightSegm'+'ents']??-0x19c8+0x1988+0x41,_0x550e32=_0x7aa17c['yOffset']??0x17*-0x13+-0x1*0x586+-0x269*-0x3,_0x219d00=-_0x8e9ab9['y']+_0x550e32,_0x4fbe47=_0x8e9ab9['y']+_0x550e32,_0x5c04c3=[new T(-_0x8e9ab9['x'],_0x219d00,_0x8e9ab9['z']),new T(_0x8e9ab9['x'],_0x219d00,_0x8e9ab9['z']),new T(_0x8e9ab9['x'],_0x4fbe47,_0x8e9ab9['z']),new T(-_0x8e9ab9['x'],_0x4fbe47,_0x8e9ab9['z']),new T(_0x8e9ab9['x'],_0x219d00,-_0x8e9ab9['z']),new T(-_0x8e9ab9['x'],_0x219d00,-_0x8e9ab9['z']),new T(-_0x8e9ab9['x'],_0x4fbe47,-_0x8e9ab9['z']),new T(_0x8e9ab9['x'],_0x4fbe47,-_0x8e9ab9['z'])],_0x58101a=[[-0x4*-0x751+0x1*0xb1d+-0x2861,0x4*0x259+0x1*-0x2010+-0x87*-0x2b,0x2e9*-0xa+-0x1*0x1f0e+0x3c2b],[0x125*-0x11+0x18c8+-0x3*0x1c5,0x2*-0x126a+-0xc05+0x1*0x30de,-0x22*-0xc7+-0x1*-0x1ba6+-0x360d],[0x155*0x17+0x223d+0x87*-0x7b,0x2118*0x1+0x236e+-0x4484,0x96a+0x121+-0xa85],[0x11*-0x37+0x816*0x2+0x321*-0x4,0xed9+0x1fff*-0x1+0x1126,-0x20a0+0x36e*0x1+0x1d36],[0xb02+0x1654+0x173*-0x17,-0xa3+0x85b*0x3+-0x186a,-0x9fa*-0x1+-0x177f+0xd87],[-0x12df*0x1+-0x3aa*-0x3+0x7e6,-0x23*-0x46+-0x252+0x1*-0x740,-0x10e+-0x1824+0x1938]],_0x3467f5=[[-0xe26+-0xdcb+-0x17*-0x137,-0x1f8b+-0xf2d+0x2eb8,-0x1dfc*-0x1+-0x244*-0x5+-0x294f],[0xd4c+0xaae+-0x3ff*0x6,-0x1a6*-0xa+-0x2460+0x13e4,-(0x2030+-0x1*-0x21d9+0x4208*-0x1)],[-0x350+0x1b71+0x1*-0x1821,0x1*0x149d+-0xd38+-0x764,0x19b2+0x1*-0x1e7d+0x4cb*0x1],[-0x18d8+0x1e50+-0x578,-(0x1*-0x1e7d+0x76a+-0x34c*-0x7),0xe8c+0x4bd*-0x1+-0x9cf],[0x23*-0x10a+-0x148c+0x38eb,-0x1f1b+0x1*0xb89+-0x686*-0x3,-0x1*-0x1a35+-0x40*0x3d+-0xaf5],[-(0x2356+0x1*-0x16f+0x2*-0x10f3),-0x22db+0x8e9+0x171*0x12,0x5*0x283+-0x865*-0x1+-0x14f4]],_0x49655d={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x34226e=[],_0x3ea460=[],_0x34a045=[],_0x204f4c=[];let _0x34d08=0x1*-0x15f1+0x9*-0x5c+0x192d;const _0x46407=(_0x9e2d8a,_0x3c0836,_0x127ded)=>{const _0x196c37=new T(),_0x4d9776=new T(),_0x5f8fbe=new T(),_0x53be62=new T();for(let _0x590855=0x32d+0x275+-0x5a2;_0x590855<=_0x3c0836;_0x590855++)for(let _0x5591cd=0x1*0x1af3+-0x166f+-0x121*0x4;_0x5591cd<=_0x127ded;_0x5591cd++){_0x196c37['lerp'](_0x5c04c3[_0x58101a[_0x9e2d8a][-0x1*-0x1d27+-0x1d28+0x1]],_0x5c04c3[_0x58101a[_0x9e2d8a][-0xae2+-0xe3f+0x1922]],_0x590855/_0x3c0836),_0x4d9776['lerp'](_0x5c04c3[_0x58101a[_0x9e2d8a][-0x19b*-0x4+-0x4bd*-0x1+-0xb29]],_0x5c04c3[_0x58101a[_0x9e2d8a][0x23*-0x8b+-0x4*0x1e2+0x2f3*0x9]],_0x5591cd/_0x127ded),_0x5f8fbe['sub2'](_0x4d9776,_0x5c04c3[_0x58101a[_0x9e2d8a][0x160+-0x1989*0x1+0x1*0x1829]]),_0x53be62['add2'](_0x196c37,_0x5f8fbe);let _0x13d9f0=_0x590855/_0x3c0836,_0x55724f=_0x5591cd/_0x127ded;_0x34226e['push'](_0x53be62['x'],_0x53be62['y'],_0x53be62['z']),_0x3ea460['push'](_0x3467f5[_0x9e2d8a][0x525+0x16b6+-0x1bdb],_0x3467f5[_0x9e2d8a][0x3*0x6+0x1f1f+-0x1f30],_0x3467f5[_0x9e2d8a][-0x1d68+-0x1*0x1552+0x32bc]),_0x34a045['push'](_0x13d9f0,0x5*0x6ee+-0x63*0x28+0x132d*-0x1-_0x55724f),_0x13d9f0=_0x13d9f0*L_+$u,_0x55724f=_0x55724f*L_+$u,_0x13d9f0/=0xc2a+-0xe41+0x21a*0x1,_0x55724f/=-0x21ce+-0x1b83+0x622*0xa,_0x13d9f0+=_0x9e2d8a%(0x5*-0x5ed+-0x1*-0x1687+0x71d)/(-0x15da+0x1*-0x901+0x525*0x6),_0x55724f+=Math['floor'](_0x9e2d8a/(0x23b4+-0x919+-0x1a98))/(0x1ea7*-0x1+0x1b*0x138+-0x23e),_0x590855<_0x3c0836&&_0x5591cd<_0x127ded&&(_0x204f4c['push'](_0x34d08+_0x127ded+(0xe12+-0x94c+-0x4c5),_0x34d08+(0x6*-0x452+-0x1d47*0x1+0x3734),_0x34d08),_0x204f4c['push'](_0x34d08+_0x127ded+(0x1*-0x24ec+0xf*-0xf+0x25ce),_0x34d08+_0x127ded+(0x19af+-0x11ce*-0x1+-0x1*0x2b7b),_0x34d08+(-0x1*0x2337+0x2530+0x48*-0x7))),_0x34d08++;}};_0x46407(_0x49655d['FRONT'],_0xc5525,_0x291eec),_0x46407(_0x49655d['BACK'],_0xc5525,_0x291eec),_0x46407(_0x49655d['TOP'],_0xc5525,_0x506df0),_0x46407(_0x49655d['BOTTOM'],_0xc5525,_0x506df0),_0x46407(_0x49655d['RIGHT'],_0x506df0,_0x291eec),_0x46407(_0x49655d['LEFT'],_0x506df0,_0x291eec),this['positions']=_0x34226e,this['normals']=_0x3ea460,this['uvs']=_0x34a045,this['uvs1']=_0x34a045,this['indices']=_0x204f4c,_0x7aa17c['calculateT'+'angents']&&(this['tangents']=fr(_0x34226e,_0x3ea460,_0x34a045,_0x204f4c));}}class B0 extends pn{constructor(_0x135448={}){super();const _0x477681=_0x135448['radius']??0xe9b*-0x1+0x12c*-0x1+0xfc7+0.5,_0x10d211=_0x135448['latitudeBa'+'nds']??-0xa4e*-0x1+-0x10c2+0x684,_0x59e709=_0x135448['longitudeB'+'ands']??0xe2a+0x169+-0xb*0x169,_0x482e2d=[],_0xe60bfd=[],_0x33be28=[],_0x5f1e29=[];for(let _0x235ed0=0x2472+-0x341*-0x1+-0x27b3;_0x235ed0<=_0x10d211;_0x235ed0++){const _0x16f6d4=_0x235ed0*Math['PI']/_0x10d211,_0x40b754=Math['sin'](_0x16f6d4),_0x344ea8=Math['cos'](_0x16f6d4);for(let _0x2b1d7d=-0x1adf+-0x425+0x1f04;_0x2b1d7d<=_0x59e709;_0x2b1d7d++){const _0x223183=_0x2b1d7d*(0x450+0x3d3+-0x821)*Math['PI']/_0x59e709-Math['PI']/(0x17f*0xb+-0x1*0xe35+-0x7*0x52),_0xf4488d=Math['sin'](_0x223183),_0x397018=Math['cos'](_0x223183)*_0x40b754,_0x43ef0e=_0x344ea8,_0x24901a=_0xf4488d*_0x40b754,_0x105b4e=0x1b50+0x1746+-0x3295-_0x2b1d7d/_0x59e709,_0x29fec1=0x25c1+-0x1249+-0x97*0x21-_0x235ed0/_0x10d211;_0x482e2d['push'](_0x397018*_0x477681,_0x43ef0e*_0x477681,_0x24901a*_0x477681),_0xe60bfd['push'](_0x397018,_0x43ef0e,_0x24901a),_0x33be28['push'](_0x105b4e,0x19*-0x5e+0x2641+0xe89*-0x2-_0x29fec1);}}for(let _0x17e180=0xc84+-0x1e77+0x11f3;_0x17e180<_0x10d211;++_0x17e180)for(let _0x519fc4=0xed*0x7+0x1644+-0x1cbf;_0x519fc4<_0x59e709;++_0x519fc4){const _0x351e4a=_0x17e180*(_0x59e709+(-0x6df+0x1*-0x1eeb+0xc99*0x3))+_0x519fc4,_0x18cf89=_0x351e4a+_0x59e709+(0x20*0x8b+0x117b*-0x2+0x1197);_0x5f1e29['push'](_0x351e4a+(-0x4*-0x3d+0x355+-0x8*0x89),_0x18cf89,_0x351e4a),_0x5f1e29['push'](_0x351e4a+(-0x355+0x1897+-0x1541),_0x18cf89+(0x2*-0x11da+-0x35e*-0xa+0x1*0x209),_0x18cf89);}this['positions']=_0x482e2d,this['normals']=_0xe60bfd,this['uvs']=_0x33be28,this['uvs1']=_0x33be28,this['indices']=_0x5f1e29,_0x135448['calculateT'+'angents']&&(this['tangents']=fr(_0x482e2d,_0xe60bfd,_0x33be28,_0x5f1e29));}}class p1 extends B0{constructor(_0x231160={}){const _0x5512cc=_0x231160['latitudeBa'+'nds']??0x901+0x78e+-0x107f,_0x3f6afd=_0x231160['longitudeB'+'ands']??-0x1ce9+0x557+0x1*0x17a2;super({'radius':0.5,'latitudeBands':_0x5512cc,'longitudeBands':_0x3f6afd});const _0x4cfb62=0x3*0x7d9+-0x1032+-0x759+0.1,_0x5a20b3=0x7*-0x2e1+-0x40f*0x4+-0xcf*-0x2d+0.95,_0x3757d8=_0x5a20b3*_0x5a20b3,_0x5317da=this['positions'];for(let _0x20fc2a=-0x165a*0x1+0x8*0x251+0x2*0x1e9;_0x20fc2a<_0x5317da['length'];_0x20fc2a+=0x1815+-0xa2a*-0x2+-0x1*0x2c66){const _0x598e5c=_0x5317da[_0x20fc2a]/(0x2377+0x95*-0xb+-0x1d10+0.5);let _0x3124cd=_0x5317da[_0x20fc2a+(0x34f+-0x7a2+0x454*0x1)]/(0x1f*0x99+-0x2*0x7af+0x329*-0x1+0.5);const _0x219aab=_0x5317da[_0x20fc2a+(0x1197+-0x1*-0x1a3d+-0x2bd2)]/(-0x6ab*0x5+0x5d5+-0x1f7*-0xe+0.5);_0x3124cd<0x1927+-0x26*-0x1+-0x194d&&(_0x3124cd*=-0x1*-0xcba+-0x2c4*-0x9+-0x5*0x786+0.3,_0x598e5c*_0x598e5c+_0x219aab*_0x219aab<_0x3757d8&&(_0x3124cd=-(-0x27b+0x1aa7+-0x1*0x182c+0.1))),_0x3124cd+=_0x4cfb62,_0x3124cd*=0xc*0x60+-0x1a+0x1*-0x466+0.5,_0x5317da[_0x20fc2a+(0x3*0x419+-0x278*0xa+0xc66)]=_0x3124cd;}}}class So{static['create'](_0x3a05da,_0x3c5bd3){switch(_0x3c5bd3){case tw:return So['box'](_0x3a05da);case sw:return So['dome'](_0x3a05da);}return v['assert'](_0x3c5bd3===xo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x3c5bd3),So['infinite'](_0x3a05da);}static['infinite'](_0x352ee7){return Ie['fromGeomet'+'ry'](_0x352ee7,new Wu(_0x352ee7));}static['box'](_0x391910){return Ie['fromGeomet'+'ry'](_0x391910,new Wu({'yOffset':0.5}));}static['dome'](_0x1d6703){const _0x2e928b=new p1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x2e928b['normals']=void(-0x1b87+0x3f2+-0x1*-0x1795),_0x2e928b['uvs']=void(0xf3e+-0x3c7*-0x1+-0x21d*0x9),Ie['fromGeomet'+'ry'](_0x1d6703,_0x2e928b);}}class m1{constructor(_0x38dbcd,_0x57346c,_0x139b56,_0x1c86cc,_0x46a7e0){c(this,'meshInstan'+'ce',null);const _0x4b873f=new Ra({'uniqueName':'SkyMateria'+'l','vertexCode':X['skyboxVS'],'fragmentCode':X['skyboxPS'],'attributes':{'aPosition':He}});_0x4b873f['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Es['decodeFunc'](_0x1c86cc['encoding'])),_0x46a7e0!==xo&&_0x4b873f['setDefine']('SKYMESH',''),_0x1c86cc['cubemap']&&_0x4b873f['setDefine']('SKY_CUBEMA'+'P',''),_0x4b873f['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x57346c['skyboxHigh'+'lightMulti'+'plier']),_0x1c86cc['cubemap']?_0x4b873f['setParamet'+'er']('texture_cu'+'beMap',_0x1c86cc):(_0x4b873f['setParamet'+'er']('texture_en'+'vAtlas',_0x1c86cc),_0x4b873f['setParamet'+'er']('mipLevel',_0x57346c['skyboxMip'])),_0x4b873f['cull']=mo,_0x4b873f['depthWrite']=!(-0x1*0x163d+0x13b6+0x8*0x51);const _0x12e380=_0x57346c['layers']['getLayerBy'+'Id'](vp);if(_0x12e380){const _0x5b6aa1=So['create'](_0x38dbcd,_0x46a7e0),_0x47ceb4=new Le(_0x5b6aa1,_0x4b873f,_0x139b56);this['meshInstan'+'ce']=_0x47ceb4,_0x47ceb4['cull']=!(-0x1064*0x2+0xd6c+0x135d),_0x47ceb4['pick']=!(-0x101c+-0x1b9e+0x2bbb),_0x12e380['addMeshIns'+'tances']([_0x47ceb4]),this['skyLayer']=_0x12e380;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class _1{constructor(_0x5b494e){c(this,'_type',xo),c(this,'_center',new T(0x837*0x1+0x1bb9+0xa*-0x398,0x9*0x16f+-0x184a+0x1*0xb64,0x5*-0x437+-0x19b6+-0x3b*-0xcb)),c(this,'skyMesh',null),c(this,'node',new De('SkyMeshNod'+'e')),(this['device']=_0x5b494e['device'],this['scene']=_0x5b494e,this['center']=new T(0xf00+0x132d*0x2+0x2*-0x1aad,-0x347*-0xa+-0x558+0x77*-0x3b,-0x1*-0xf13+0x91e+0x1*-0x1831),this['centerArra'+'y']=new Float32Array(0x1b84+-0x105+0x1c4*-0xf),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x5b5dcd){this['type']=_0x5b5dcd['skyType']??xo,this['node']['setLocalPo'+'sition'](new T(_0x5b5dcd['skyMeshPos'+'ition']??[0x1*0x168e+-0xd*0x1a8+0x106*-0x1,-0xea1+0x31*0x5b+0x15*-0x22,-0x765+0x1*0x1ac7+-0x6*0x33b])),this['node']['setLocalEu'+'lerAngles'](new T(_0x5b5dcd['skyMeshRot'+'ation']??[0x1244+0x1c72+0x6*-0x7c9,0x1*-0xc9f+0x1df*-0x7+-0x2*-0xcdc,-0xcb+-0x13*0x9+0x176])),this['node']['setLocalSc'+'ale'](new T(_0x5b5dcd['skyMeshSca'+'le']??[-0xce*-0x5+0xfa5+-0x13aa*0x1,0x1*-0x236d+0x1e3d+0x531,0x1*0x923+-0x317+-0x11*0x5b])),_0x5b5dcd['skyCenter']&&(this['_center']=new T(_0x5b5dcd['skyCenter']));}set['type'](_0x180f14){this['_type']!==_0x180f14&&(this['_type']=_0x180f14,this['scene']['updateShad'+'ers']=!(0x264a+-0x13cb+0x5*-0x3b3),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x465aed){this['_center']['copy'](_0x465aed);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x4d98b5=this['scene']['_getSkybox'+'Tex']();_0x4d98b5&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new m1(this['device'],this['scene'],this['node'],_0x4d98b5,this['type']),this['scene']['fire']('set:skybox',_0x4d98b5));}['resetSkyMe'+'sh'](){var _0x361ab2;(_0x361ab2=this['skyMesh'])==null||_0x361ab2['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==xo){const {center:_0xf8d413,centerArray:_0x4c8ad7}=this,_0x5e5503=new T();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0xf8d413,_0x5e5503),_0x4c8ad7[0x1dc+-0xc4b+-0xa6f*-0x1]=_0x5e5503['x'],_0x4c8ad7[0x3e5*0x1+-0x2*-0x1355+-0x1547*0x2]=_0x5e5503['y'],_0x4c8ad7[0xebb+0x49f+-0x4*0x4d6]=_0x5e5503['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x4c8ad7);}}}const Hh=new De();Hh['worldTrans'+'form']=q['IDENTITY'],Hh['_dirtyWorl'+'d']=Hh['_dirtyNorm'+'al']=!(-0x2220+0x2680+-0x45f);class g1{constructor(_0x5994fa,_0x5f0cb7,_0x474418){this['material']=_0x5f0cb7,this['layer']=_0x474418,this['positions']=[],this['colors']=[],this['mesh']=new Ie(_0x5994fa),this['meshInstan'+'ce']=null;}['addLines'](_0x1b514b,_0x1f40ab){const _0x8f0017=this['positions'],_0x3c4fde=_0x1b514b['length'];for(let _0x6591d2=0x1df5+0x229d+0x91*-0x72;_0x6591d2<_0x3c4fde;_0x6591d2++){const _0xcbc80d=_0x1b514b[_0x6591d2];_0x8f0017['push'](_0xcbc80d['x'],_0xcbc80d['y'],_0xcbc80d['z']);}const _0x271bc7=this['colors'];if(_0x1f40ab['length'])for(let _0x1c528a=-0x164*-0x11+0x2*-0x66e+-0xf*0xb8;_0x1c528a<_0x3c4fde;_0x1c528a++){const _0x13fe10=_0x1f40ab[_0x1c528a];_0x271bc7['push'](_0x13fe10['r'],_0x13fe10['g'],_0x13fe10['b'],_0x13fe10['a']);}else{for(let _0x4f2ebf=0x6cb*0x2+-0x10f*-0x1d+0x2c49*-0x1;_0x4f2ebf<_0x3c4fde;_0x4f2ebf++)_0x271bc7['push'](_0x1f40ab['r'],_0x1f40ab['g'],_0x1f40ab['b'],_0x1f40ab['a']);}}['addLinesAr'+'rays'](_0x5858df,_0x847b06){const _0x2e5c80=this['positions'];for(let _0x52ade5=0x1*-0x2075+-0x1*0xa8b+-0x10*-0x2b0;_0x52ade5<_0x5858df['length'];_0x52ade5+=0x25e6+0x1*0x17db+-0x3dbe)_0x2e5c80['push'](_0x5858df[_0x52ade5],_0x5858df[_0x52ade5+(0x21a0*-0x1+-0x7*-0x104+0x1a85)],_0x5858df[_0x52ade5+(0x1*-0x1c19+-0x1a*0x127+-0x3a11*-0x1)]);const _0x3d15d8=this['colors'];if(_0x847b06['length']){for(let _0xc9a419=-0x39b+0x1417+0x4*-0x41f;_0xc9a419<_0x847b06['length'];_0xc9a419+=-0x20ef+-0x1679+0x376c)_0x3d15d8['push'](_0x847b06[_0xc9a419],_0x847b06[_0xc9a419+(-0x4a*0x3+-0x408+0x4e7)],_0x847b06[_0xc9a419+(-0x4*-0x7cd+-0x69c+0xc4b*-0x2)],_0x847b06[_0xc9a419+(0x9*-0x403+0x1f61+-0x4bd*-0x1)]);}else{const _0x51b9a3=_0x5858df['length']/(0x52*-0x21+0x478*0x5+-0xbc3);for(let _0x460d29=-0x2*-0x67+-0x4*-0x600+-0x18ce;_0x460d29<_0x51b9a3;_0x460d29++)_0x3d15d8['push'](_0x847b06['r'],_0x847b06['g'],_0x847b06['b'],_0x847b06['a']);}}['onPreRende'+'r'](_0x4bae09,_0x1e2033){this['positions']['length']>-0x37d*-0x1+-0x46*-0x7f+-0x2637&&this['material']['transparen'+'t']===_0x1e2033&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Pc,!(0x2ab*-0x3+-0x88d+0x9d*0x1b)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Le(this['mesh'],this['material'],Hh)),_0x4bae09['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=0x1ccb+-0x1f5*0x8+-0xd23,this['colors']['length']=-0xb6f+0x2161+-0x15f2;}}class y1{constructor(_0x5818e7){this['device']=_0x5818e7,this['map']=new Map();}['getBatch'](_0x43a873,_0x516734){let _0x139654=this['map']['get'](_0x43a873);return _0x139654||(_0x139654=new g1(this['device'],_0x43a873,_0x516734),this['map']['set'](_0x43a873,_0x139654)),_0x139654;}['onPreRende'+'r'](_0x5d7ce0,_0x9aab77){this['map']['forEach'](_0x109622=>{_0x109622['onPreRende'+'r'](_0x5d7ce0,_0x9aab77);});}['clear'](){this['map']['forEach'](_0xa26eeb=>_0xa26eeb['clear']());}}const Jt=[],Ln=new T(),x1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':He,'vertex_color':At}};class S1{constructor(_0xb046b){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0xb046b,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x3707e6){const _0x1267a8=new Ra(x1);return _0x1267a8['blendType']=Kt,_0x1267a8['depthTest']=_0x3707e6,_0x1267a8['update'](),_0x1267a8;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0x23c8+0x11e4+-0xc*0x479))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0xbb5+-0x1*-0xc1+0x1*0xaf5))),this['_materialN'+'oDepth'];}['getBatch'](_0x1e5dae,_0x2ed3a6){let _0x35495e=this['batchesMap']['get'](_0x1e5dae);_0x35495e||(_0x35495e=new y1(this['device']),this['batchesMap']['set'](_0x1e5dae,_0x35495e)),this['allBatches']['add'](_0x35495e);const _0x5b5d4e=_0x2ed3a6?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x35495e['getBatch'](_0x5b5d4e,_0x1e5dae);}['getShaderD'+'esc'](_0x3dcf1b,_0xa570e5){return this['shaderDesc'+'s']['has'](_0x3dcf1b)||this['shaderDesc'+'s']['set'](_0x3dcf1b,{'uniqueName':'DebugShade'+'r:'+_0x3dcf1b,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0xa570e5,'attributes':{'vertex_position':He}}),this['shaderDesc'+'s']['get'](_0x3dcf1b);}['getTexture'+'ShaderDesc'](_0xfc6251){const _0x54287b=Es['decodeFunc'](_0xfc6251);return this['getShaderD'+'esc']('textureSha'+'der-'+_0xfc6251,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x54287b+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+X['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ie(this['device']),this['quadMesh']['setPositio'+'ns']([-(0x3a9*0x3+-0x2*0x1fd+-0xa3*0xb+0.5),-(0x1*-0x3ad+0xd8b+0x1a5*-0x6+0.5),-0x812*0x2+-0x1a6a+0x2a8e,0x2387+-0x4d*0x4f+0x3ec*-0x3+0.5,-(0x1ee6*0x1+-0x1be9+0x99*-0x5+0.5),-0xd8e+0x142c+-0x69e,-(-0x5e*0x17+0xfd0+-0x75e+0.5),0x409*-0x4+-0x5bf*-0x6+-0x1256+0.5,-0x3*-0xa45+-0x16d1*-0x1+0x30*-0x11e,0x2*0x727+-0x1b70+0xd22+0.5,-0xc4f*0x1+-0x1a60+0x26af+0.5,-0x1850+0x1d60+-0x510]),this['quadMesh']['update'](ar)),this['quadMesh'];}['drawMesh'](_0x3ceaa8,_0x4ce33c,_0x5b642f,_0x4adc6a,_0x4e1040){if(!_0x4adc6a){const _0x317569=this['getGraphNo'+'de'](_0x4ce33c);_0x4adc6a=new Le(_0x5b642f,_0x3ceaa8,_0x317569);}let _0x194fa3=this['layerMeshI'+'nstances']['get'](_0x4e1040);_0x194fa3||(_0x194fa3=[],this['layerMeshI'+'nstances']['set'](_0x4e1040,_0x194fa3)),_0x194fa3['push'](_0x4adc6a);}['drawWireAl'+'ignedBox'](_0x4ae590,_0x48a1dc,_0x4ce1b8,_0x319f35,_0x5d83d6,_0x3a6cfe){if(_0x3a6cfe){const _0x3ef48d=(_0x566a24,_0x420bcd,_0x19c613)=>{Ln['set'](_0x566a24,_0x420bcd,_0x19c613),_0x3a6cfe['transformP'+'oint'](Ln,Ln),Jt['push'](Ln['x'],Ln['y'],Ln['z']);};_0x3ef48d(_0x4ae590['x'],_0x4ae590['y'],_0x4ae590['z']),_0x3ef48d(_0x4ae590['x'],_0x48a1dc['y'],_0x4ae590['z']),_0x3ef48d(_0x4ae590['x'],_0x48a1dc['y'],_0x4ae590['z']),_0x3ef48d(_0x48a1dc['x'],_0x48a1dc['y'],_0x4ae590['z']),_0x3ef48d(_0x48a1dc['x'],_0x48a1dc['y'],_0x4ae590['z']),_0x3ef48d(_0x48a1dc['x'],_0x4ae590['y'],_0x4ae590['z']),_0x3ef48d(_0x48a1dc['x'],_0x4ae590['y'],_0x4ae590['z']),_0x3ef48d(_0x4ae590['x'],_0x4ae590['y'],_0x4ae590['z']),_0x3ef48d(_0x4ae590['x'],_0x4ae590['y'],_0x48a1dc['z']),_0x3ef48d(_0x4ae590['x'],_0x48a1dc['y'],_0x48a1dc['z']),_0x3ef48d(_0x4ae590['x'],_0x48a1dc['y'],_0x48a1dc['z']),_0x3ef48d(_0x48a1dc['x'],_0x48a1dc['y'],_0x48a1dc['z']),_0x3ef48d(_0x48a1dc['x'],_0x48a1dc['y'],_0x48a1dc['z']),_0x3ef48d(_0x48a1dc['x'],_0x4ae590['y'],_0x48a1dc['z']),_0x3ef48d(_0x48a1dc['x'],_0x4ae590['y'],_0x48a1dc['z']),_0x3ef48d(_0x4ae590['x'],_0x4ae590['y'],_0x48a1dc['z']),_0x3ef48d(_0x4ae590['x'],_0x4ae590['y'],_0x4ae590['z']),_0x3ef48d(_0x4ae590['x'],_0x4ae590['y'],_0x48a1dc['z']),_0x3ef48d(_0x4ae590['x'],_0x48a1dc['y'],_0x4ae590['z']),_0x3ef48d(_0x4ae590['x'],_0x48a1dc['y'],_0x48a1dc['z']),_0x3ef48d(_0x48a1dc['x'],_0x48a1dc['y'],_0x4ae590['z']),_0x3ef48d(_0x48a1dc['x'],_0x48a1dc['y'],_0x48a1dc['z']),_0x3ef48d(_0x48a1dc['x'],_0x4ae590['y'],_0x4ae590['z']),_0x3ef48d(_0x48a1dc['x'],_0x4ae590['y'],_0x48a1dc['z']);}else Jt['push'](_0x4ae590['x'],_0x4ae590['y'],_0x4ae590['z'],_0x4ae590['x'],_0x48a1dc['y'],_0x4ae590['z'],_0x4ae590['x'],_0x48a1dc['y'],_0x4ae590['z'],_0x48a1dc['x'],_0x48a1dc['y'],_0x4ae590['z'],_0x48a1dc['x'],_0x48a1dc['y'],_0x4ae590['z'],_0x48a1dc['x'],_0x4ae590['y'],_0x4ae590['z'],_0x48a1dc['x'],_0x4ae590['y'],_0x4ae590['z'],_0x4ae590['x'],_0x4ae590['y'],_0x4ae590['z'],_0x4ae590['x'],_0x4ae590['y'],_0x48a1dc['z'],_0x4ae590['x'],_0x48a1dc['y'],_0x48a1dc['z'],_0x4ae590['x'],_0x48a1dc['y'],_0x48a1dc['z'],_0x48a1dc['x'],_0x48a1dc['y'],_0x48a1dc['z'],_0x48a1dc['x'],_0x48a1dc['y'],_0x48a1dc['z'],_0x48a1dc['x'],_0x4ae590['y'],_0x48a1dc['z'],_0x48a1dc['x'],_0x4ae590['y'],_0x48a1dc['z'],_0x4ae590['x'],_0x4ae590['y'],_0x48a1dc['z'],_0x4ae590['x'],_0x4ae590['y'],_0x4ae590['z'],_0x4ae590['x'],_0x4ae590['y'],_0x48a1dc['z'],_0x4ae590['x'],_0x48a1dc['y'],_0x4ae590['z'],_0x4ae590['x'],_0x48a1dc['y'],_0x48a1dc['z'],_0x48a1dc['x'],_0x48a1dc['y'],_0x4ae590['z'],_0x48a1dc['x'],_0x48a1dc['y'],_0x48a1dc['z'],_0x48a1dc['x'],_0x4ae590['y'],_0x4ae590['z'],_0x48a1dc['x'],_0x4ae590['y'],_0x48a1dc['z']);this['getBatch'](_0x5d83d6,_0x319f35)['addLinesAr'+'rays'](Jt,_0x4ce1b8),Jt['length']=0x2*-0x15f+0x1b3b+-0x187d;}['drawWireSp'+'here'](_0x4a61ba,_0x2c7aeb,_0x35a4f4,_0x4c9415,_0x41f654,_0x5ba794){const _0x23f57b=(-0x3*-0xac1+0x15a4+-0x35e5)*Math['PI']/_0x4c9415;let _0x1d4485=0x3*0x6a1+-0x178f+0x3ac;for(let _0x357115=-0x87f+0x216c+-0x18ed;_0x357115<_0x4c9415;_0x357115++){const _0x47b574=Math['sin'](_0x1d4485),_0x55e97c=Math['cos'](_0x1d4485);_0x1d4485+=_0x23f57b;const _0x15f943=Math['sin'](_0x1d4485),_0x48be15=Math['cos'](_0x1d4485);Jt['push'](_0x4a61ba['x']+_0x2c7aeb*_0x47b574,_0x4a61ba['y'],_0x4a61ba['z']+_0x2c7aeb*_0x55e97c),Jt['push'](_0x4a61ba['x']+_0x2c7aeb*_0x15f943,_0x4a61ba['y'],_0x4a61ba['z']+_0x2c7aeb*_0x48be15),Jt['push'](_0x4a61ba['x']+_0x2c7aeb*_0x47b574,_0x4a61ba['y']+_0x2c7aeb*_0x55e97c,_0x4a61ba['z']),Jt['push'](_0x4a61ba['x']+_0x2c7aeb*_0x15f943,_0x4a61ba['y']+_0x2c7aeb*_0x48be15,_0x4a61ba['z']),Jt['push'](_0x4a61ba['x'],_0x4a61ba['y']+_0x2c7aeb*_0x47b574,_0x4a61ba['z']+_0x2c7aeb*_0x55e97c),Jt['push'](_0x4a61ba['x'],_0x4a61ba['y']+_0x2c7aeb*_0x15f943,_0x4a61ba['z']+_0x2c7aeb*_0x48be15);}this['getBatch'](_0x5ba794,_0x41f654)['addLinesAr'+'rays'](Jt,_0x35a4f4),Jt['length']=0xb1*-0x9+-0x55d*0x6+0x1d*0x153;}['getGraphNo'+'de'](_0x3e27a5){const _0x173c19=new De('ImmediateD'+'ebug');return _0x173c19['worldTrans'+'form']=_0x3e27a5,_0x173c19['_dirtyWorl'+'d']=_0x173c19['_dirtyNorm'+'al']=!(-0x1dff*-0x1+0x179*0x3+-0x2269),_0x173c19;}['onPreRende'+'rLayer'](_0x47160e,_0x5d440d,_0x449f30){if(this['batchesMap']['forEach']((_0x39de69,_0x5164b6)=>{_0x5164b6===_0x47160e&&_0x39de69['onPreRende'+'r'](_0x5d440d,_0x449f30);}),!this['updatedLay'+'ers']['has'](_0x47160e)){this['updatedLay'+'ers']['add'](_0x47160e);const _0x5a3497=this['layerMeshI'+'nstances']['get'](_0x47160e);if(_0x5a3497){for(let _0x5ed853=0x9f8+0x1*0x22cd+-0x2cc5;_0x5ed853<_0x5a3497['length'];_0x5ed853++)_0x5d440d['push'](_0x5a3497[_0x5ed853]);_0x5a3497['length']=0x2*0xd85+0xf*0x1ef+-0x1*0x380b;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x1ad273=>_0x1ad273['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class v1{constructor(){c(this,'type',Fa),c(this,'color',new Y(0x147d+0x1ad3+-0x2f50,-0x6a*-0x45+-0xee6*-0x1+-0x2b78,-0x10ac+0x2e*0xe+0x18*0x97)),c(this,'density',-0x3*-0xca+-0x4f*0x29+0xa49*0x1),c(this,'start',0x2b*-0x65+0x7d*0x4d+-0x1*0x14a1),c(this,'end',-0xba*0x27+-0x7f6+-0x7c*-0x53);}}class ci extends ce{constructor(_0x3399ce){super(),c(this,'ambientBak'+'e',!(-0x20ee+0x1606+0x31*0x39)),c(this,'ambientBak'+'eOcclusion'+'Brightness',0x71*0x44+0x2123+-0x3f27),c(this,'ambientBak'+'eOcclusion'+'Contrast',0x5f*0xa+-0xfcc+0xd*0xee),c(this,'ambientLig'+'ht',new Y(-0x1*-0x153+0x64*-0x2f+0x1109,0x16d0+0x1fd9+-0x36a9,-0x3*0x4c+-0x114e*0x2+-0x470*-0x8)),c(this,'ambientLum'+'inance',0xd*-0x9e+0x2*0xbe9+0x3*-0x544),c(this,'exposure',0x10f1+0x1124+-0x2214),c(this,'lightmapSi'+'zeMultipli'+'er',-0x86*0x47+-0x3e*-0x3a+0x171f*0x1),c(this,'lightmapMa'+'xResolutio'+'n',0x18f0+0x67*0xe+0x6b*-0x36),c(this,'lightmapMo'+'de',ch),c(this,'lightmapFi'+'lterEnable'+'d',!(0x1e29*0x1+-0x40a+-0x1*0x1a1e)),c(this,'lightmapHD'+'R',!(0xda6+0x4c7*-0x3+0x4*0x2c)),c(this,'root',null),c(this,'physicalUn'+'its',!(0x19dc+-0x56b*0x5+0x13c)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new v1()),(v['assert'](_0x3399ce,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x3399ce,this['_gravity']=new T(0xd*0x3+0x83*-0x22+-0x1*-0x113f,-(-0x38a+0xbea+0x7*-0x131+0.8000000000000007),-0x265c+-0x648+-0x4*-0xb29),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=0x6*-0x43b+0x3*0x808+0x14b,this['_skyboxLum'+'inance']=-0x9aa+0x1*-0xd97+0x1741,this['_skyboxMip']=-0x109f*-0x2+0xd*-0x92+-0x2*0xcea,this['_skyboxHig'+'hlightMult'+'iplier']=-0x1c79+-0x1b*0x18+0x1f02,this['_skyboxRot'+'ationShade'+'rInclude']=!(0xa39*0x2+0x53*0x14+-0x1aed),this['_skyboxRot'+'ation']=new se(),this['_skyboxRot'+'ationMat3']=new js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=0x781+-0x10e9+0x969,this['_ambientBa'+'keSpherePa'+'rt']=-0x1d01+-0x3*-0x5d9+0xb76+0.4,this['_lightmapF'+'ilterRange']=0x977*-0x3+-0x242*0x3+0x1*0x2335,this['_lightmapF'+'ilterSmoot'+'hness']=0x1*0x1253+-0x197*0xc+0xc1+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0x8b4+-0x1*-0x1956+-0x2*0x851),this['_lightingP'+'arams']=new L0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0xaf3+0x2*0xa31+0x269*-0xd);}),this['_sky']=new _1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(0x967*0x4+-0xee*0x1+-0x24ae),this['_shaderVer'+'sion']=0x1c5+0xd64+-0x1*0xf29,this['immediate']=new S1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](bp);}set['ambientBak'+'eNumSample'+'s'](_0xdea345){this['_ambientBa'+'keNumSampl'+'es']=N['clamp'](Math['floor'](_0xdea345),-0x58c+0x1*0xa13+-0x486*0x1,0x82f*-0x1+0x161a+0x676*-0x2);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x2e9555){this['_ambientBa'+'keSpherePa'+'rt']=N['clamp'](_0x2e9555,-0x188+0x3fb+-0x39*0xb+0.001,0x2183+0x5*0x382+-0x4*0xcc3);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x3fd7d7){if(this['device']['isWebGPU']&&!_0x3fd7d7){v['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x3fd7d7){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x3fd7d7;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x15a8f5){_0x15a8f5!==this['_envAtlas']&&(this['_envAtlas']=_0x15a8f5,_0x15a8f5&&(_0x15a8f5['addressU']=ae,_0x15a8f5['addressV']=ae,_0x15a8f5['minFilter']=st,_0x15a8f5['magFilter']=st,_0x15a8f5['mipmaps']=!(0x56f+-0x1bda+0x2*0xb36)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x25a279){const _0x21be6d=this['_layers'];this['_layers']=_0x25a279,this['fire']('set:layers',_0x21be6d,_0x25a279);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x4c9dbf){this['_lightmapF'+'ilterRange']=Math['max'](_0x4c9dbf,-0x19a2+-0x2*0x701+-0x2b*-0xec+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x1e4238){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x1e4238,-0x13a*-0x1+-0x1c25+0x1aeb+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0xf29506){_0xf29506=_0xf29506||[];const _0x12d50f=this['_prefilter'+'edCubemaps'];(_0x12d50f['length']!==_0xf29506['length']||_0x12d50f['some']((_0x22a0cd,_0x55d290)=>_0x22a0cd!==_0xf29506[_0x55d290]))&&(_0xf29506['length']===0x1f*0xcf+0xbf5+0x100*-0x25&&_0xf29506['every'](_0x35cece=>!!_0x35cece)?(this['_internalE'+'nvAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0xf29506,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0xf29506['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x2123cd){_0x2123cd!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x2123cd,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x5d6c0e){_0x5d6c0e!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x5d6c0e,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x3c0993){_0x3c0993!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x3c0993,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x3a87bb){_0x3a87bb!==this['_skyboxMip']&&(this['_skyboxMip']=_0x3a87bb,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x3a7373){_0x3a7373!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x3a7373,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x41b607){if(!this['_skyboxRot'+'ation']['equals'](_0x41b607)){const _0x19a395=_0x41b607['equals'](se['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x41b607),_0x19a395?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](T['ZERO'],_0x41b607,T['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x19a395&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x14*0x142+0x259e+-0x5*0xc8e),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x9fa91f,_0x343ed2,_0x5a2ab2=Y['WHITE'],_0x38d53a=!(-0x1c6*-0x11+0x1f0d+-0x3d33),_0x4dcdda=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x4dcdda,_0x38d53a)['addLines']([_0x9fa91f,_0x343ed2],[_0x5a2ab2,_0x5a2ab2]);}['drawLines'](_0x48b473,_0x2e2c94,_0xadbb58=!(0x1f7+-0x130f+0x1118),_0x30d791=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x30d791,_0xadbb58)['addLines'](_0x48b473,_0x2e2c94);}['drawLineAr'+'rays'](_0x1b58f1,_0x42c04a,_0x1d6594=!(-0x2431+0x7*-0x193+-0x179b*-0x2),_0x5630b7=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x5630b7,_0x1d6594)['addLinesAr'+'rays'](_0x1b58f1,_0x42c04a);}['applySetti'+'ngs'](_0x54d5fe){const _0x6a9c0f=_0x54d5fe['physics'],_0xe853cb=_0x54d5fe['render'];this['_gravity']['set'](_0x6a9c0f['gravity'][-0x126*-0x16+0x365*-0xb+0xb*0x119],_0x6a9c0f['gravity'][-0x1*0xcba+-0x209*-0x11+-0x15de],_0x6a9c0f['gravity'][-0xdf3+-0x1*0x2254+0x3049]),this['ambientLig'+'ht']['set'](_0xe853cb['global_amb'+'ient'][-0x2119*-0x1+-0x1b11+-0x608],_0xe853cb['global_amb'+'ient'][0xeb3*0x1+0x6c6+-0x1578],_0xe853cb['global_amb'+'ient'][0x1*0x165b+-0xd5*0x29+0xbc4]),this['ambientLum'+'inance']=_0xe853cb['ambientLum'+'inance'],this['fog']['type']=_0xe853cb['fog'],this['fog']['color']['set'](_0xe853cb['fog_color'][-0x1*0xcfe+-0x5b5+-0x12b3*-0x1],_0xe853cb['fog_color'][0x998+-0x1252+0x8bb],_0xe853cb['fog_color'][0xf*-0x3a+-0xf62+0x12ca]),this['fog']['start']=_0xe853cb['fog_start'],this['fog']['end']=_0xe853cb['fog_end'],this['fog']['density']=_0xe853cb['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0xe853cb['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0xe853cb['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0xe853cb['lightmapMo'+'de'],this['exposure']=_0xe853cb['exposure'],this['_skyboxInt'+'ensity']=_0xe853cb['skyboxInte'+'nsity']??0x664+0x2555+-0x2bb8,this['_skyboxLum'+'inance']=_0xe853cb['skyboxLumi'+'nance']??0x61eb+0x8ab0+-0x1*0x9e7b,this['_skyboxMip']=_0xe853cb['skyboxMip']??0x1e82+-0x6d*0x1f+-0x114f,_0xe853cb['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new se()['setFromEul'+'erAngles'](_0xe853cb['skyboxRota'+'tion'][0x11e6+-0xda9+-0x43d],_0xe853cb['skyboxRota'+'tion'][-0x37*-0x47+0x1244+-0x6b4*0x5],_0xe853cb['skyboxRota'+'tion'][-0x1f67+-0x8b6*0x3+0x398b])),this['sky']['applySetti'+'ngs'](_0xe853cb),this['clusteredL'+'ightingEna'+'bled']=_0xe853cb['clusteredL'+'ightingEna'+'bled']??!(0xf58+0x10f6+0x204d*-0x1),this['lighting']['applySetti'+'ngs'](_0xe853cb),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x3a4afe=>{_0xe853cb['hasOwnProp'+'erty'](_0x3a4afe)&&(this[_0x3a4afe]=_0xe853cb[_0x3a4afe]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x417c50=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x417c50[[0x1c4*-0x9+-0x1*-0xf4f+0x95,-0xe3d+0xd5c+0x1*0xe2,0xbb4+-0x625*0x1+0x4*-0x163,0xa+-0xa1f+-0x2f*-0x37,0x1218+-0x1b5b*0x1+0x948,0x1693*0x1+-0xe3d+-0xe*0x98][this['_skyboxMip']]]||this['_envAtlas']||_0x417c50[0x55b+0x17d0*0x1+-0x13*0x189]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x417c50[-0x212c+-0x9c0+0x2aec]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x24c3+-0x1db7+0x213d*0x2);}['setSkybox'](_0x419741){_0x419741?(this['skybox']=_0x419741[0x87+-0x113a+0x5f*0x2d]||null,_0x419741[0x25*0x4+-0x802+0x1*0x76f]&&!_0x419741[0x3*0x943+0x23cc+0xd*-0x4e4]['cubemap']?this['envAtlas']=_0x419741[-0x905*-0x1+-0xc28*0x3+-0x4*-0x6dd]:this['prefiltere'+'dCubemaps']=_0x419741['slice'](-0xfcf+-0x339+0x1309)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Se;}}c(ci,'EVENT_SETL'+'AYERS','set:layers'),c(ci,'EVENT_SETS'+'KYBOX','set:skybox'),c(ci,'EVENT_PRER'+'ENDER','prerender'),c(ci,'EVENT_POST'+'RENDER','postrender'),c(ci,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(ci,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(ci,'EVENT_PREC'+'ULL','precull'),c(ci,'EVENT_POST'+'CULL','postcull');class N0{constructor(_0x26e160,_0x4f7817,_0x2e69b5){this['device']=_0x26e160,this['inverseBin'+'dPose']=_0x4f7817,this['boneNames']=_0x2e69b5;}}const b1=[-0x1b37*0x1+0x4*-0x2dc+0x26a7,-0x1*-0x12f1+0x39*0x26+-0x1b67,-0x1bce+-0x35a*0x2+0x1*0x2283,0x431+0x1*-0x1f05+0x1ad4,0xc84+0x768+0x3*-0x6a4,-0x727*-0x3+0x6ef+-0x1c63,0x1673+0x1*-0x3ee+0x1*-0x1285,-0x665+-0x26b6+0x2d1b*0x1,-0x211a+-0x2581+0x469c,-0x2*-0x33b+-0x1*0x1f41+0x18cb,0xb3a+-0xa1f*-0x2+0x3ef*-0x8,-0x161f+0x4a1+0x117f*0x1],w1=[0x24aa+-0xee5+0x15c5*-0x1,-0x8be+0xb75+-0x2b6*0x1,-0x194+-0x1aa4+0x1c3b*0x1,-0x578+-0xb03+0x107d,0x9ed+0x25a2+0x1*-0x2f8c,-0xbcb+0x35*-0x63+0x1*0x204b];class T1 extends ce{constructor(_0xbc393d,_0x5c3536){super(),this['_device']=_0xbc393d,this['_pixelsPer'+'Unit']=_0x5c3536&&_0x5c3536['pixelsPerU'+'nit']!==void(-0x27*-0x7+0x2237+0x8*-0x469)?_0x5c3536['pixelsPerU'+'nit']:0x1*-0x1af9+0x166*0xa+0xcfe,this['_renderMod'+'e']=_0x5c3536&&_0x5c3536['renderMode']!==void(0x1*0x1d32+-0x9a*0x34+0x216)?_0x5c3536['renderMode']:Ti,this['_atlas']=_0x5c3536&&_0x5c3536['atlas']!==void(0x547*0x2+-0xa7*0x17+0x473)?_0x5c3536['atlas']:null,this['_frameKeys']=_0x5c3536&&_0x5c3536['frameKeys']!==void(0x258e+-0x4*-0x298+-0x2fee)?_0x5c3536['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(-0x2*-0x132+-0x1096+0xe33),this['_meshesDir'+'ty']=!(0x346+0x1a53*-0x1+-0x1a*-0xe3),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x14c8c0){this['_frameKeys']=_0x14c8c0,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x251+-0x1ea5+0x20f6):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x14c8c0);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x2b9598){_0x2b9598!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x2b9598,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x3*-0xae5+-0x1bb9*-0x1+0x4f6):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x2b9598));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x2bc96e){this['_pixelsPer'+'Unit']!==_0x2bc96e&&(this['_pixelsPer'+'Unit']=_0x2bc96e,this['fire']('set:pixels'+'PerUnit',_0x2bc96e),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Ti&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x17e*-0x17+0x1a8b+-0x3cdd):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x41a87d){if(this['_renderMod'+'e']===_0x41a87d)return;const _0x492dde=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x41a87d,this['fire']('set:render'+'Mode',_0x41a87d),(_0x492dde===Ti||_0x41a87d===Ti)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0xa*0x3ad+0x2694+-0xe9*0x2):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x41dfbb=this['_meshes']['length'];for(let _0x3c6b50=-0x25b3+0xd66+0x184d;_0x3c6b50<_0x41dfbb;_0x3c6b50++){const _0x2ba985=this['_meshes'][_0x3c6b50];_0x2ba985&&_0x2ba985['destroy']();}const _0x44ccb7=this['_frameKeys']['length'];this['_meshes']=new Array(_0x44ccb7);const _0x38ec47=this['renderMode']===nt||this['_renderMod'+'e']===Qe?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x3e17d6=0x1ef6+-0x14ef*0x1+0x97*-0x11;_0x3e17d6<_0x44ccb7;_0x3e17d6++){const _0x4ab701=this['_atlas']['frames'][this['_frameKeys'][_0x3e17d6]];this['_meshes'][_0x3e17d6]=_0x4ab701?_0x38ec47['call'](this,_0x4ab701):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x3f0515){const _0xb72235=_0x3f0515['rect'],_0x2024ca=this['_atlas']['texture']['width'],_0x1adcaf=this['_atlas']['texture']['height'],_0x2cd251=_0xb72235['z']/this['_pixelsPer'+'Unit'],_0x886dc=_0xb72235['w']/this['_pixelsPer'+'Unit'],_0x26efc8=_0x3f0515['pivot']['x'],_0x14ab93=_0x3f0515['pivot']['y'],_0x50240e=[-_0x26efc8*_0x2cd251,-_0x14ab93*_0x886dc,-0x1*0xf60+-0x12c8+0x2228,(-0x34c*-0x1+-0x1af3+0x5ea*0x4-_0x26efc8)*_0x2cd251,-_0x14ab93*_0x886dc,0x3a4*-0x9+-0x2593*0x1+0x4657,(-0x1*0x14ae+0xe7e+0x13d*0x5-_0x26efc8)*_0x2cd251,(0x8ad+0x1306+0x2c5*-0xa-_0x14ab93)*_0x886dc,0x3*-0x98f+0x1*0x45f+0x81a*0x3,-_0x26efc8*_0x2cd251,(0xd62+0x734*-0x2+-0x1*-0x107-_0x14ab93)*_0x886dc,-0x1c14+0xb*-0x1d6+0x3046],_0x56606=_0xb72235['x']/_0x2024ca,_0x214214=-0x25d6+-0x1*0x255b+0xf0a*0x5-_0xb72235['y']/_0x1adcaf,_0x33a72e=(_0xb72235['x']+_0xb72235['z'])/_0x2024ca,_0x14abdf=-0xa8+-0x1412+0x14bb-(_0xb72235['y']+_0xb72235['w'])/_0x1adcaf,_0x300cf4=[_0x56606,_0x214214,_0x33a72e,_0x214214,_0x33a72e,_0x14abdf,_0x56606,_0x14abdf],_0x6fe413=new pn();return _0x6fe413['positions']=_0x50240e,_0x6fe413['normals']=b1,_0x6fe413['uvs']=_0x300cf4,_0x6fe413['indices']=w1,Ie['fromGeomet'+'ry'](this['_device'],_0x6fe413);}['_create9Sl'+'iceMesh'](){const _0x130ed0=$['ONE'],_0x2fc250=-0xa56+0x8*0x257+-0x85f*0x1,_0x42b204=-0x40*0x8e+-0x59b*0x6+0x4525,_0x40d7b9=[],_0x25b10d=[],_0x11501c=[],_0x3bc27e=[];let _0x57269c=0x3f*0x69+-0xdc4*0x2+0x1b1*0x1;for(let _0x32f541=0x251b+0x2255+-0x1fc*0x24;_0x32f541<=_0x2fc250;_0x32f541++){const _0x240554=_0x32f541===0x2c*0xb9+0x1653+-0x361f||_0x32f541===_0x2fc250?-0x61*0xd+0xf29*-0x1+0x3*0x6b2:0x17bc+0x9*-0x40e+-0x63*-0x21;for(let _0x314354=0x1421*-0x1+0x1b*0x110+-0x88f;_0x314354<=_0x42b204;_0x314354++){const _0x48d1b4=-_0x130ed0['x']+(-0x185*-0x3+0x4*0x1cd+-0x3b*0x33)*_0x130ed0['x']*(_0x32f541<=-0x22a7+-0x206d+0x529*0xd?-0x156d+0x4f+0x151e:0x53*0x33+-0x1603+0x5*0x119)/_0x2fc250,_0x253129=0x1*-0x19e2+0x1d4+0x180e,_0x1401c1=-(-_0x130ed0['y']+(-0xbf0+-0xe50+0x2*0xd21)*_0x130ed0['y']*(_0x314354<=0x5*-0x1fb+-0x1*-0x1999+-0xd*0x135?-0x252+0x1fc2+0x2*-0xeb8:-0xd06+0x1*0x653+0x35b*0x2)/_0x42b204),_0x401c18=_0x314354===0xfd*0x17+0xb3*0x5+-0x1a3a||_0x314354===_0x42b204?0x8e9+-0x1*0xc1f+0x336:0x1c03*0x1+0x4*0x679+0x1*-0x35e6;_0x40d7b9['push'](-_0x48d1b4,_0x253129,_0x1401c1),_0x25b10d['push'](-0x23dd+-0x111*0x3+0x2710,0x55d*0x5+-0x1597+-0x539*0x1,-0x2a9*-0xd+-0x1bcf+-0x6c6),_0x11501c['push'](_0x240554,_0x401c18),_0x32f541<_0x2fc250&&_0x314354<_0x42b204&&(_0x3bc27e['push'](_0x57269c+_0x42b204+(0x20aa*-0x1+-0x1*-0x1a17+0x694),_0x57269c+(-0x55*0x52+-0x286+0x1dc1),_0x57269c),_0x3bc27e['push'](_0x57269c+_0x42b204+(-0x12d0+0xe55+0x47c),_0x57269c+_0x42b204+(0x1dfd+0x11f8+-0x2ff3),_0x57269c+(0x3f2+0x166c+0x1*-0x1a5d))),_0x57269c++;}}const _0xc11d16=new pn();return _0xc11d16['positions']=_0x40d7b9,_0xc11d16['normals']=_0x25b10d,_0xc11d16['uvs']=_0x11501c,_0xc11d16['indices']=_0x3bc27e,Ie['fromGeomet'+'ry'](this['_device'],_0xc11d16);}['_onSetFram'+'es'](_0xf6d8bd){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x1ab2+-0x9*0x3e6+0x864):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x1b56c2,_0x15155c){const _0x515390=this['_frameKeys']['indexOf'](_0x1b56c2);_0x515390<0x2*0x5c9+-0x5*0x371+0x5a3||(_0x15155c?this['renderMode']===Ti&&(this['_meshes'][_0x515390]=this['_createSim'+'pleMesh'](_0x15155c)):this['_meshes'][_0x515390]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x58e158){const _0x48e4fe=this['_frameKeys']['indexOf'](_0x58e158);_0x48e4fe<-0xd05+0x6ec+0x619||(this['_meshes'][_0x48e4fe]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x25f3+-0x1386+0x3979),this['_meshesDir'+'ty']=!(-0xd1f*0x1+-0xb42+0x1862);}['endUpdate'](){this['_updatingP'+'roperties']=!(-0x100c+-0x1517+0x2524),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x1754+-0x6df*0x2+-0x995);}['destroy'](){for(const _0x3f00b7 of this['_meshes'])_0x3f00b7&&_0x3f00b7['destroy']();this['_meshes']['length']=0x14*0x13+0x228a+-0x601*0x6;}}class A1 extends ce{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x25690f){this['_texture']=_0x25690f,this['fire']('set:textur'+'e',_0x25690f);}get['texture'](){return this['_texture'];}set['frames'](_0x497a26){this['_frames']=_0x497a26,this['fire']('set:frames',_0x497a26);}get['frames'](){return this['_frames'];}['setFrame'](_0x3f4485,_0x13e1bb){let _0x35647e=this['_frames'][_0x3f4485];_0x35647e?(_0x35647e['rect']['copy'](_0x13e1bb['rect']),_0x35647e['pivot']['copy'](_0x13e1bb['pivot']),_0x35647e['border']['copy'](_0x13e1bb['border'])):(_0x35647e={'rect':_0x13e1bb['rect']['clone'](),'pivot':_0x13e1bb['pivot']['clone'](),'border':_0x13e1bb['border']['clone']()},this['_frames'][_0x3f4485]=_0x35647e),this['fire']('set:frame',_0x3f4485['toString'](),_0x35647e);}['removeFram'+'e'](_0x28af68){const _0x4a0431=this['_frames'][_0x28af68];_0x4a0431&&(delete this['_frames'][_0x28af68],this['fire']('remove:fra'+'me',_0x28af68['toString'](),_0x4a0431));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class F_{constructor(_0x212d70,_0x1fbd41,_0x1a13d7,_0x5f5a7){this['time']=_0x212d70,this['position']=_0x1fbd41,this['rotation']=_0x1a13d7,this['scale']=_0x5f5a7;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class k_{constructor(){c(this,'name',''),c(this,'duration',0xc51+-0x16*-0x22+-0xf3d),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x1cb75f){return this['_nodeDict'][_0x1cb75f];}['addNode'](_0x4a213e){this['_nodes']['push'](_0x4a213e),this['_nodeDict'][_0x4a213e['_name']]=_0x4a213e;}get['nodes'](){return this['_nodes'];}}class E1{constructor(){this['_written']=!(-0xfa7+0x196b+-0x9c3),this['_name']='',this['_keyFrames']=[],this['_quat']=new se(),this['_pos']=new T(),this['_scale']=new T(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x302ae1){this['_targetNod'+'e']=_0x302ae1;}}class $d{constructor(_0x17aafe){c(this,'looping',!(0x2*0xc0e+-0xcda+-0xb42)),(this['_animation']=null,this['_time']=0x259d+0xc92*0x3+0xb*-0x6d9,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0xeb51c8=_0x596ded=>{const _0x4058c9=new E1();_0x4058c9['_name']=_0x596ded['name'],this['_interpola'+'tedKeys']['push'](_0x4058c9),this['_interpola'+'tedKeyDict'][_0x596ded['name']]=_0x4058c9,this['_currKeyIn'+'dices'][_0x596ded['name']]=-0x1848+-0x4d5+0x1d1d;for(let _0x4bfe3d=0x21dc+0x59*0x1d+0x2bf1*-0x1;_0x4bfe3d<_0x596ded['_children']['length'];_0x4bfe3d++)_0xeb51c8(_0x596ded['_children'][_0x4bfe3d]);};_0xeb51c8(_0x17aafe);}set['animation'](_0x30ae90){this['_animation']=_0x30ae90,this['currentTim'+'e']=0x2038+-0x1e71+-0x1c7;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x1514f5){this['_time']=_0x1514f5;const _0x462835=this['_interpola'+'tedKeys']['length'];for(let _0x58f710=-0x1*0x1837+-0x48a+0x1cc1;_0x58f710<_0x462835;_0x58f710++){const _0x5b317a=this['_interpola'+'tedKeys'][_0x58f710]['_name'];this['_currKeyIn'+'dices'][_0x5b317a]=-0x1578*-0x1+-0xa00*0x1+-0xb78;}this['addTime'](-0x116e+0x767+0xa07),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x59926a){if(this['_animation']!==null){const _0x449a93=this['_animation']['_nodes'],_0x3e6a95=this['_animation']['duration'];if(this['_time']===_0x3e6a95&&!this['looping'])return;if(this['_time']+=_0x59926a,this['_time']>_0x3e6a95){this['_time']=this['looping']?-0x4*-0xd7+-0xe8*-0xe+0x1a*-0x9e:_0x3e6a95;for(let _0x5a47c3=0x13d7*-0x1+-0x46f*0x1+0x1846;_0x5a47c3<_0x449a93['length'];_0x5a47c3++){const _0x24aa41=_0x449a93[_0x5a47c3]['_name'];this['_currKeyIn'+'dices'][_0x24aa41]=-0x1679+0x2*0x949+0x3e7;}}else{if(this['_time']<0x1*0x1963+0x71a+-0x207d){this['_time']=this['looping']?_0x3e6a95:-0xa08*-0x1+-0xeb*-0x17+-0x1f25;for(let _0x14a6a6=0x248c+0x1*-0xdd3+-0x16b9;_0x14a6a6<_0x449a93['length'];_0x14a6a6++){const _0x90cc44=_0x449a93[_0x14a6a6],_0x16d48a=_0x90cc44['_name'];this['_currKeyIn'+'dices'][_0x16d48a]=_0x90cc44['_keys']['length']-(0x1*-0x20bf+0xf7+0xfe5*0x2);}}}const _0x1b2c4b=_0x59926a>=-0x5*-0xef+0x20fe+-0x25a9?-0x27a*0x4+-0x911+0x12fa:-(-0x21e0+0x2154+0x8d);for(let _0x1a5f45=-0x10ca+0x1*0xb5d+0x1*0x56d;_0x1a5f45<_0x449a93['length'];_0x1a5f45++){const _0x2d53e5=_0x449a93[_0x1a5f45],_0x2429fa=_0x2d53e5['_name'],_0x5dd07b=_0x2d53e5['_keys'],_0x28828f=this['_interpola'+'tedKeyDict'][_0x2429fa];if(_0x28828f===void(-0x5*0x649+-0xd77+-0x1672*-0x2)){v['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x2429fa);continue;}let _0x2f0985=!(-0x17e8+-0x6a5+0xf47*0x2);if(_0x5dd07b['length']!==0xd82+-0x558+-0x829*0x1)for(let _0x357e5f=this['_currKeyIn'+'dices'][_0x2429fa];_0x357e5f<_0x5dd07b['length']-(0xfd8+-0x145*-0x4+-0x14eb)&&_0x357e5f>=-0x12d9+0x1546+-0x26d;_0x357e5f+=_0x1b2c4b){const _0x326b87=_0x5dd07b[_0x357e5f],_0x57c00e=_0x5dd07b[_0x357e5f+(0x10a1+0x81d+-0x18bd)];if(_0x326b87['time']<=this['_time']&&_0x57c00e['time']>=this['_time']){const _0x23dfed=(this['_time']-_0x326b87['time'])/(_0x57c00e['time']-_0x326b87['time']);_0x28828f['_pos']['lerp'](_0x326b87['position'],_0x57c00e['position'],_0x23dfed),_0x28828f['_quat']['slerp'](_0x326b87['rotation'],_0x57c00e['rotation'],_0x23dfed),_0x28828f['_scale']['lerp'](_0x326b87['scale'],_0x57c00e['scale'],_0x23dfed),_0x28828f['_written']=!(0x1d8d*0x1+-0x1b0b+-0x282),this['_currKeyIn'+'dices'][_0x2429fa]=_0x357e5f,_0x2f0985=!(0x247d+-0x1*0x2025+-0x458);break;}}(_0x5dd07b['length']===0x1876+-0xa03+0x1*-0xe72||!_0x2f0985&&this['_time']===-0x1e2a+0x262d*-0x1+0x4457&&this['looping'])&&(_0x28828f['_pos']['copy'](_0x5dd07b[-0x5*0x59c+0x18ce+0x33e]['position']),_0x28828f['_quat']['copy'](_0x5dd07b[-0x46f+0x1f01*-0x1+0x90*0x3f]['rotation']),_0x28828f['_scale']['copy'](_0x5dd07b[-0x613+-0x1b99+-0x86b*-0x4]['scale']),_0x28828f['_written']=!(-0x1*-0x51b+-0x18cb*-0x1+-0x1de6));}}}['blend'](_0x5456d1,_0x167fb6,_0x347455){const _0x1891d3=this['_interpola'+'tedKeys']['length'];for(let _0x376974=0xe1+0x1521+-0x1602;_0x376974<_0x1891d3;_0x376974++){const _0x32620e=_0x5456d1['_interpola'+'tedKeys'][_0x376974],_0x337f0d=_0x167fb6['_interpola'+'tedKeys'][_0x376974],_0x267fc2=this['_interpola'+'tedKeys'][_0x376974];_0x32620e['_written']&&_0x337f0d['_written']?(_0x267fc2['_quat']['slerp'](_0x32620e['_quat'],_0x167fb6['_interpola'+'tedKeys'][_0x376974]['_quat'],_0x347455),_0x267fc2['_pos']['lerp'](_0x32620e['_pos'],_0x167fb6['_interpola'+'tedKeys'][_0x376974]['_pos'],_0x347455),_0x267fc2['_scale']['lerp'](_0x32620e['_scale'],_0x337f0d['_scale'],_0x347455),_0x267fc2['_written']=!(0xe26+0x1347+-0x216d)):_0x32620e['_written']?(_0x267fc2['_quat']['copy'](_0x32620e['_quat']),_0x267fc2['_pos']['copy'](_0x32620e['_pos']),_0x267fc2['_scale']['copy'](_0x32620e['_scale']),_0x267fc2['_written']=!(0x1*0x1fb9+0x12a7+-0x3260)):_0x337f0d['_written']&&(_0x267fc2['_quat']['copy'](_0x337f0d['_quat']),_0x267fc2['_pos']['copy'](_0x337f0d['_pos']),_0x267fc2['_scale']['copy'](_0x337f0d['_scale']),_0x267fc2['_written']=!(0xb*0x110+0x1d01+0x28b1*-0x1));}}['setGraph'](_0x5838fa){if(this['graph']=_0x5838fa,_0x5838fa)for(let _0x880136=0x1700*0x1+0x1b2+0x1*-0x18b2;_0x880136<this['_interpola'+'tedKeys']['length'];_0x880136++){const _0x2a84d5=this['_interpola'+'tedKeys'][_0x880136],_0x1a5f65=_0x5838fa['findByName'](_0x2a84d5['_name']);this['_interpola'+'tedKeys'][_0x880136]['setTarget'](_0x1a5f65);}else{for(let _0x1ae77f=-0x258c+-0x1bef*0x1+-0x1*-0x417b;_0x1ae77f<this['_interpola'+'tedKeys']['length'];_0x1ae77f++)this['_interpola'+'tedKeys'][_0x1ae77f]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x88ce85=0x1c45+0xcee+-0xc7*0x35;_0x88ce85<this['_interpola'+'tedKeys']['length'];_0x88ce85++){const _0x3d9a1d=this['_interpola'+'tedKeys'][_0x88ce85];if(_0x3d9a1d['_written']){const _0x4b9b28=_0x3d9a1d['getTarget']();_0x4b9b28['localPosit'+'ion']['copy'](_0x3d9a1d['_pos']),_0x4b9b28['localRotat'+'ion']['copy'](_0x3d9a1d['_quat']),_0x4b9b28['localScale']['copy'](_0x3d9a1d['_scale']),_0x4b9b28['_dirtyLoca'+'l']||_0x4b9b28['_dirtifyLo'+'cal'](),_0x3d9a1d['_written']=!(0xa*-0x352+-0x18f9+0x3a2e);}}}}const ys=(0x1*-0x1d2d+0x21cf*0x1+-0x49e)/(0xdf*0x29+0x1*0x4f+-0x23c6*0x1),Bs=0xf*0x155+0x1fb*-0xd+0x5c5-ys*(-0x2374+-0x1a03+0x3d79);class Bp extends pn{constructor(_0x503147,_0x72ff43,_0x42d363,_0x1bd59a,_0x5dd9de,_0x1d05cf){super();const _0x36f3f9=new T(),_0x402e53=new T(),_0x19e99a=new T(),_0x3fa3c0=new T(),_0x1704e3=new T(),_0x45164c=new T(),_0x5d0ba0=[],_0x3509d1=[],_0x28ef7a=[],_0x2c5b1a=[],_0x5a895b=[];let _0x206d9a;if(_0x42d363>-0xa*0x3b3+0x59*0x22+0x192c){for(let _0x16bdb9=-0x5*0x3+0x1f37+-0x1f28;_0x16bdb9<=_0x1bd59a;_0x16bdb9++)for(let _0x39b1c2=-0x853*0x2+0x86d+0x839*0x1;_0x39b1c2<=_0x5dd9de;_0x39b1c2++){const _0x297f14=_0x39b1c2/_0x5dd9de*(-0x4*-0x2c3+-0xbb+-0xcb*0xd)*Math['PI']-Math['PI'],_0x537c6e=Math['sin'](_0x297f14),_0x6deeb4=Math['cos'](_0x297f14);_0x1704e3['set'](_0x537c6e*_0x503147,-_0x42d363/(-0x1af*0x11+-0x373*-0x3+0x1248),_0x6deeb4*_0x503147),_0x3fa3c0['set'](_0x537c6e*_0x72ff43,_0x42d363/(0x254f+-0xa2*0x3a+-0x99),_0x6deeb4*_0x72ff43),_0x36f3f9['lerp'](_0x1704e3,_0x3fa3c0,_0x16bdb9/_0x1bd59a),_0x402e53['sub2'](_0x3fa3c0,_0x1704e3)['normalize'](),_0x45164c['set'](_0x6deeb4,0x15c5+0x1*-0x2251+0xc8c,-_0x537c6e),_0x19e99a['cross'](_0x45164c,_0x402e53)['normalize'](),_0x5d0ba0['push'](_0x36f3f9['x'],_0x36f3f9['y'],_0x36f3f9['z']),_0x3509d1['push'](_0x19e99a['x'],_0x19e99a['y'],_0x19e99a['z']);let _0x5bf16b=_0x39b1c2/_0x5dd9de,_0x5c5650=_0x16bdb9/_0x1bd59a;_0x28ef7a['push'](_0x5bf16b,0x1*0x2593+-0x1*0xf35+-0x165d-_0x5c5650);const _0x387d94=_0x5c5650;if(_0x5c5650=_0x5bf16b,_0x5bf16b=_0x387d94,_0x5bf16b=_0x5bf16b*Bs+ys,_0x5c5650=_0x5c5650*Bs+ys,_0x5bf16b/=0xa36*-0x2+0x1059*0x1+0x416,_0x2c5b1a['push'](_0x5bf16b,0x3*-0x515+-0x267e+-0x8f5*-0x6-_0x5c5650),_0x16bdb9<_0x1bd59a&&_0x39b1c2<_0x5dd9de){const _0x35c258=_0x16bdb9*(_0x5dd9de+(0x23c8+0xe*-0x1ee+0x8c3*-0x1))+_0x39b1c2,_0x36ebcb=_0x16bdb9*(_0x5dd9de+(-0x2*0x81+0x7ad+-0x6aa))+(_0x39b1c2+(-0x34c*0x5+0x1*0xdd5+-0x55*-0x8)),_0x41db58=(_0x16bdb9+(0x21*0x9b+0x1*-0x1b1a+0xc*0x98))*(_0x5dd9de+(-0xa9c+0x1178*0x2+-0x1853))+_0x39b1c2,_0x5694c1=(_0x16bdb9+(-0x1ba8+-0x16b5+0xe*0x399))*(_0x5dd9de+(0x1aac+0x1*0xd03+-0x27ae))+(_0x39b1c2+(-0x2cb+0x1cb*0xe+-0x2*0xb27));_0x5a895b['push'](_0x35c258,_0x36ebcb,_0x41db58),_0x5a895b['push'](_0x36ebcb,_0x5694c1,_0x41db58);}}}if(_0x1d05cf){const _0x336649=Math['floor'](_0x5dd9de/(-0x2*0x62c+-0x2*-0x100b+-0x13bc)),_0x3134ee=_0x5dd9de,_0x36ebf6=_0x42d363/(-0x671+-0x1d95*-0x1+-0x1722);for(let _0x30e664=0xc4*0x2f+-0x2*0x295+-0x1ed2;_0x30e664<=_0x336649;_0x30e664++){const _0x4f298d=_0x30e664*Math['PI']*(0xf4b+0x209*0xd+-0x29c0+0.5)/_0x336649,_0x3558d4=Math['sin'](_0x4f298d),_0x26debf=Math['cos'](_0x4f298d);for(let _0x24a0d0=-0xde*-0x22+-0x1*0x44b+0x1*-0x1931;_0x24a0d0<=_0x3134ee;_0x24a0d0++){const _0x5c45bb=_0x24a0d0*(-0x9*-0x1ae+-0x921+-0x5fb*0x1)*Math['PI']/_0x3134ee-Math['PI']/(-0x1*0x1ad7+-0x63d*0x1+-0x25d*-0xe),_0x55ea07=Math['sin'](_0x5c45bb),_0x3e030b=Math['cos'](_0x5c45bb)*_0x3558d4,_0x177c53=_0x26debf,_0x14bf69=_0x55ea07*_0x3558d4;let _0x2071fd=0x1757+-0x628+0x1*-0x112e-_0x24a0d0/_0x3134ee,_0x4a2953=0x159b*0x1+-0x4*-0x661+-0x2f1e-_0x30e664/_0x336649;_0x5d0ba0['push'](_0x3e030b*_0x72ff43,_0x177c53*_0x72ff43+_0x36ebf6,_0x14bf69*_0x72ff43),_0x3509d1['push'](_0x3e030b,_0x177c53,_0x14bf69),_0x28ef7a['push'](_0x2071fd,0x1f2c+-0x222b*0x1+0x300-_0x4a2953),_0x2071fd=_0x2071fd*Bs+ys,_0x4a2953=_0x4a2953*Bs+ys,_0x2071fd/=-0xd26+0x11*-0xc4+0x1a2d,_0x4a2953/=0x1*0x6c8+0x1860+-0x1f25,_0x2071fd+=(0x4*0x9ad+0x1*0x156b+0x1b*-0x23a)/(0x6*0xe3+-0x2050+0x1b01),_0x2c5b1a['push'](_0x2071fd,0x217*-0x7+0x31*-0x9a+0x2c1c-_0x4a2953);}}_0x206d9a=(_0x1bd59a+(0xa57*-0x2+0x1145*0x1+-0x26*-0x17))*(_0x5dd9de+(-0x143+0x1958+-0x1814));for(let _0x3dcb16=0x1bae+0x19a9+-0x3557;_0x3dcb16<_0x336649;++_0x3dcb16)for(let _0x28776b=0x1ab9+-0x3e4+0x343*-0x7;_0x28776b<_0x3134ee;++_0x28776b){const _0x438e14=_0x3dcb16*(_0x3134ee+(0x19a9+-0x7*0x7e+-0x1636))+_0x28776b,_0x3377eb=_0x438e14+_0x3134ee+(-0xdc5+-0x2069*0x1+-0x233*-0x15);_0x5a895b['push'](_0x206d9a+_0x438e14+(0x255b+-0xd20+0x2*-0xc1d),_0x206d9a+_0x3377eb,_0x206d9a+_0x438e14),_0x5a895b['push'](_0x206d9a+_0x438e14+(-0x9*0x3a6+-0x49*-0x73+0x3*0x4),_0x206d9a+_0x3377eb+(-0x1*0x21be+0x1f49+0x7e*0x5),_0x206d9a+_0x3377eb);}for(let _0x4f2cdd=0x1596*0x1+0xd22+-0x22b8;_0x4f2cdd<=_0x336649;_0x4f2cdd++){const _0x203917=Math['PI']*(-0x10a3*0x1+-0x1*0xc55+0x1cf8+0.5)+_0x4f2cdd*Math['PI']*(-0x19ad+-0x1e64+0x3811+0.5)/_0x336649,_0x3e6115=Math['sin'](_0x203917),_0x4c16f4=Math['cos'](_0x203917);for(let _0x52e0d6=0xb8d*-0x3+-0x5*0x653+-0x4246*-0x1;_0x52e0d6<=_0x3134ee;_0x52e0d6++){const _0x34c599=_0x52e0d6*(-0x3*0xef+0x1*-0x16f+0x43e)*Math['PI']/_0x3134ee-Math['PI']/(0x192d*0x1+0x21f9+0x14*-0x2f5),_0x1c6249=Math['sin'](_0x34c599),_0x3f5f16=Math['cos'](_0x34c599)*_0x3e6115,_0x3142b3=_0x4c16f4,_0x2354c5=_0x1c6249*_0x3e6115;let _0x55738e=-0x181d+-0x4b*0x21+0x21c9-_0x52e0d6/_0x3134ee,_0x519452=-0x24af+0x1cc1+-0x3*-0x2a5-_0x4f2cdd/_0x336649;_0x5d0ba0['push'](_0x3f5f16*_0x72ff43,_0x3142b3*_0x72ff43-_0x36ebf6,_0x2354c5*_0x72ff43),_0x3509d1['push'](_0x3f5f16,_0x3142b3,_0x2354c5),_0x28ef7a['push'](_0x55738e,-0x1*0x115+-0xb25*-0x2+-0x1534-_0x519452),_0x55738e=_0x55738e*Bs+ys,_0x519452=_0x519452*Bs+ys,_0x55738e/=0x24e2+-0x1285*-0x1+-0xa*0x58a,_0x519452/=0x657+0xd*0x239+-0x2339,_0x55738e+=(0x22a*0x7+-0x452+-0xad2)/(-0x4f*-0x35+-0x74*0x1a+-0x490),_0x2c5b1a['push'](_0x55738e,0x2696+0x1a0f+-0x1c*0x24f-_0x519452);}}_0x206d9a=(_0x1bd59a+(-0x4d*-0x1f+-0x1*-0x4c1+-0xe13))*(_0x5dd9de+(-0x256*-0x4+-0x161+0x2*-0x3fb))+(_0x3134ee+(0x6b*-0x2e+-0x97*-0x3b+0x2*-0x7c9))*(_0x336649+(-0x1e34+0x22a8+-0x43*0x11));for(let _0x4f8168=-0x5e6*-0x5+-0x1237+0x1*-0xb47;_0x4f8168<_0x336649;++_0x4f8168)for(let _0x139831=0xba9+-0xbe*-0x27+-0x289b;_0x139831<_0x3134ee;++_0x139831){const _0x506f52=_0x4f8168*(_0x3134ee+(-0xa7c+-0x161*-0x4+-0x4f9*-0x1))+_0x139831,_0x3ed6b6=_0x506f52+_0x3134ee+(0xd*-0x25+-0x2197+0x2379);_0x5a895b['push'](_0x206d9a+_0x506f52+(-0x6*0x139+0x9ad*0x2+-0x1*0xc03),_0x206d9a+_0x3ed6b6,_0x206d9a+_0x506f52),_0x5a895b['push'](_0x206d9a+_0x506f52+(0x901*-0x1+-0xdf5+0x16f7),_0x206d9a+_0x3ed6b6+(0x1333+0x2*0x893+-0x2458),_0x206d9a+_0x3ed6b6);}}else{if(_0x206d9a=(_0x1bd59a+(-0x23c+-0x7f*0x2f+0x198e))*(_0x5dd9de+(0xb56*-0x3+0x35*-0x67+0x313*0x12)),_0x503147>-0x78e*-0x3+-0x1*0x13d6+0x16a*-0x2)for(let _0x9c29cf=0x676*0x1+-0x2a5+-0x1*0x3d1;_0x9c29cf<_0x5dd9de;_0x9c29cf++){const _0x15da07=_0x9c29cf/_0x5dd9de*(0x1ec*0xe+0x1649+-0x312f)*Math['PI'],_0x135b39=Math['sin'](_0x15da07),_0x4b772f=-_0x42d363/(-0x2349+0xa*-0x1cd+-0x5*-0xaa9),_0x2104e4=Math['cos'](_0x15da07);let _0x10cbe2=0xe*0x3a+0x11f3+-0x151e-(_0x135b39+(-0x84a*0x4+-0x1199+0x32c2))/(0x140b*0x1+0x4f*-0x71+-0x12*-0xd3),_0x2f5289=(_0x2104e4+(0x65d+0xb8d+-0x11e9))/(0xbfb*-0x1+0x25f3+-0x19f6);_0x5d0ba0['push'](_0x135b39*_0x503147,_0x4b772f,_0x2104e4*_0x503147),_0x3509d1['push'](0x233*-0x7+-0xfba+0x1f1f,-(0x1211+0x5e+0x126e*-0x1),-0xaf9+-0x91d+0x1416),_0x28ef7a['push'](_0x10cbe2,0xbe9*-0x3+-0x1*0x1c9c+0x47*0xe8-_0x2f5289),_0x10cbe2=_0x10cbe2*Bs+ys,_0x2f5289=_0x2f5289*Bs+ys,_0x10cbe2/=-0x4*-0x6fd+-0xdf*-0x12+-0x2b9f,_0x2f5289/=0x10c6+-0x222b+0x45a*0x4,_0x10cbe2+=(-0x4*0x851+-0x3*-0x423+-0xf*-0x164)/(0x4dc+0x1*-0xfd3+0x1*0xafa),_0x2c5b1a['push'](_0x10cbe2,0x1903+0x165b+-0x2f5d-_0x2f5289),_0x9c29cf>0x1565+0x1*0x169b+0x2bff*-0x1&&_0x5a895b['push'](_0x206d9a,_0x206d9a+_0x9c29cf,_0x206d9a+_0x9c29cf-(0x9*-0x409+0x12e5+0x116d));}if(_0x206d9a+=_0x5dd9de,_0x72ff43>0x1c74+-0x1*-0x1b7+-0x1*0x1e2b)for(let _0x44964c=-0x2*-0x368+0x9b*-0x2+-0x1*0x59a;_0x44964c<_0x5dd9de;_0x44964c++){const _0x5e711c=_0x44964c/_0x5dd9de*(0xeb8+0x1803+-0x26b9)*Math['PI'],_0x3b1a9a=Math['sin'](_0x5e711c),_0x4abf85=_0x42d363/(0x1*0x1354+0x3*0x866+-0x2c84),_0x18768e=Math['cos'](_0x5e711c);let _0x262b2e=-0x253f+0x7c9+0x13*0x18d-(_0x3b1a9a+(0x1dd9+0xec0+-0x4*0xb26))/(0x17f2+-0x1109+0x1f*-0x39),_0x550238=(_0x18768e+(0x66d+0x1f60+0xa4*-0x3b))/(-0x2*-0x885+0x1*0x12f1+-0x23f9);_0x5d0ba0['push'](_0x3b1a9a*_0x72ff43,_0x4abf85,_0x18768e*_0x72ff43),_0x3509d1['push'](0x11a7*-0x1+-0xe5b+0x2002,-0xe86+0x17*0x10f+-0x9d2,-0x2260+-0x1538+0x3798*0x1),_0x28ef7a['push'](_0x262b2e,-0x1c2a+-0x1b9+-0x4*-0x779-_0x550238),_0x262b2e=_0x262b2e*Bs+ys,_0x550238=_0x550238*Bs+ys,_0x262b2e/=0x1*-0x26d2+-0x2*-0x87a+0x15e1,_0x550238/=-0x119a+-0x1*0x6b6+0x1853,_0x262b2e+=(0xfbc+0xa*0x32e+-0xe*0x365)/(-0x1*-0x112a+0x11b*0x7+-0x18e4),_0x2c5b1a['push'](_0x262b2e,-0x2*0x124d+0x1*-0x40f+0x28aa-_0x550238),_0x44964c>0x183a+0x12f7*-0x1+0x2a1*-0x2&&_0x5a895b['push'](_0x206d9a,_0x206d9a+_0x44964c-(-0x1362+-0x1ad9+0x434*0xb),_0x206d9a+_0x44964c);}}this['positions']=_0x5d0ba0,this['normals']=_0x3509d1,this['uvs']=_0x28ef7a,this['uvs1']=_0x2c5b1a,this['indices']=_0x5a895b;}}class C1 extends Bp{constructor(_0x787d6d={}){const _0x1e4641=_0x787d6d['radius']??0x1b9f+-0xe*0x100+-0xd9f*0x1+0.3,_0x106e37=_0x787d6d['height']??0x1178+-0x235a+0x11e3,_0x42c4f9=_0x787d6d['heightSegm'+'ents']??0x257*0x7+0x23a+-0x129a,_0x5e054b=_0x787d6d['sides']??0x2*-0x891+0x2*0xb06+-0x4d6;super(_0x1e4641,_0x1e4641,_0x106e37-(0xe6f+-0x175b+-0x9*-0xfe)*_0x1e4641,_0x42c4f9,_0x5e054b,!(-0x19ac+-0x6*-0xbf+0x1532)),_0x787d6d['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class M1 extends Bp{constructor(_0x2f5d3a={}){const _0x5f1771=_0x2f5d3a['baseRadius']??-0x58*0x6d+0xb*-0x21b+0x3ca1+0.5,_0x917d28=_0x2f5d3a['peakRadius']??-0x44*-0x63+0x1*0x52+0x1*-0x1a9e,_0x52a587=_0x2f5d3a['height']??0xfe*-0xb+-0x1cdf+0x27ca,_0x2e3841=_0x2f5d3a['heightSegm'+'ents']??0x1*-0x7c9+0x7a*0x45+-0x1914,_0x4e37a4=_0x2f5d3a['capSegment'+'s']??-0x27*0xd6+0x6*-0x252+0x2e98;super(_0x5f1771,_0x917d28,_0x52a587,_0x2e3841,_0x4e37a4,!(-0x1576+-0x144*-0x1c+-0x7*0x1ff)),_0x2f5d3a['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Bp{constructor(_0x40194f={}){const _0x3f657e=_0x40194f['radius']??-0x1*0x15c7+0x175+-0xa29*-0x2+0.5,_0x482df1=_0x40194f['height']??-0x6f*-0x3f+-0x97*-0x33+-0x3965,_0x17ef5a=_0x40194f['heightSegm'+'ents']??0xab2+-0xf2b*0x1+0x47e,_0x9f7f8c=_0x40194f['capSegment'+'s']??0x21cb+-0xab2*0x1+-0x1705;super(_0x3f657e,_0x3f657e,_0x482df1,_0x17ef5a,_0x9f7f8c,!(0x1d9*0xa+-0x223f+0xfc6)),_0x40194f['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends pn{constructor(_0x4be7a0={}){super();const _0xcdc287=_0x4be7a0['halfExtent'+'s']??new $(0x2239*-0x1+0x30a*-0x3+0x2b57+0.5,-0x56f+-0x2a9*-0x8+-0xfd9*0x1+0.5),_0x526b36=_0x4be7a0['widthSegme'+'nts']??0x10ec+-0x40*0x21+-0x8a7,_0x70b0ae=_0x4be7a0['lengthSegm'+'ents']??0x407+0x301*-0x1+0x1*-0x101,_0xa92304=[],_0x46951e=[],_0x436016=[],_0x3ab789=[];let _0x179a12=0x4*0x49b+0x107b+-0x22e7;for(let _0xaac3b6=0x20a8+0xa8a*-0x2+0x4e*-0x26;_0xaac3b6<=_0x526b36;_0xaac3b6++)for(let _0x2bcf66=-0x1c*0xb7+-0x6*-0x575+-0xcba;_0x2bcf66<=_0x70b0ae;_0x2bcf66++){const _0x18d131=-_0xcdc287['x']+(-0x71*-0x2+-0x2156+-0x67e*-0x5)*_0xcdc287['x']*_0xaac3b6/_0x526b36,_0x119902=0x1087*-0x1+-0x1f*-0x139+-0x90*0x26,_0x16010a=-(-_0xcdc287['y']+(0x3*0x441+0x2b1*0xc+-0x13*0x25f)*_0xcdc287['y']*_0x2bcf66/_0x70b0ae),_0x65f03a=_0xaac3b6/_0x526b36,_0x18e7e4=_0x2bcf66/_0x70b0ae;_0xa92304['push'](_0x18d131,_0x119902,_0x16010a),_0x46951e['push'](-0x238+0x17*0x169+-0x1e37,-0x1*-0x283+0x90+-0x312,-0xbd*-0x25+0x1958+0x3d*-0xdd),_0x436016['push'](_0x65f03a,0x2239+0xb3f*-0x1+0x16f9*-0x1-_0x18e7e4),_0xaac3b6<_0x526b36&&_0x2bcf66<_0x70b0ae&&(_0x3ab789['push'](_0x179a12+_0x70b0ae+(0x19fc+-0x43a*0x2+0x1187*-0x1),_0x179a12+(0x132*-0x3+-0x5*0x54a+0x1e09),_0x179a12),_0x3ab789['push'](_0x179a12+_0x70b0ae+(0x239+-0x1ce1+0x1aa9),_0x179a12+_0x70b0ae+(-0x4*0x8c2+-0x1*0x1bbb+0x3ec5*0x1),_0x179a12+(0x1d20+0x20f8+0x37*-0x121))),_0x179a12++;}this['positions']=_0xa92304,this['normals']=_0x46951e,this['uvs']=_0x436016,this['uvs1']=_0x436016,this['indices']=_0x3ab789,_0x4be7a0['calculateT'+'angents']&&(this['tangents']=fr(_0xa92304,_0x46951e,_0x436016,_0x3ab789));}}class I1 extends pn{constructor(_0xc09324={}){super();const _0x5d2811=_0xc09324['tubeRadius']??-0x1983+0xcc2+0xcc1+0.2,_0x4c0279=_0xc09324['ringRadius']??-0xb55*0x1+0x1516*-0x1+0x2b*0xc1+0.3,_0x526eba=(_0xc09324['sectorAngl'+'e']??0x1ce1+0xe24*-0x1+-0xd55*0x1)*N['DEG_TO_RAD'],_0x1da933=_0xc09324['segments']??-0x1*-0x12be+-0xdf*0x25+-0x489*-0x3,_0x4214bb=_0xc09324['sides']??-0x22dd+0x1c08+0x6e9,_0x241381=[],_0x2c5d4f=[],_0x17662c=[],_0x57bc42=[];for(let _0x5cdb48=-0x3f2+-0x18c5+0x1cb7*0x1;_0x5cdb48<=_0x4214bb;_0x5cdb48++)for(let _0x4a8805=0x1*-0x1ada+-0x697+0x2171;_0x4a8805<=_0x1da933;_0x4a8805++){const _0x57b934=Math['cos'](_0x526eba*_0x4a8805/_0x1da933)*(_0x4c0279+_0x5d2811*Math['cos']((-0x135d+0x1*-0x19b0+-0xf05*-0x3)*Math['PI']*_0x5cdb48/_0x4214bb)),_0x555889=Math['sin']((-0x149*0x1+0x14b*-0x16+0x1dbd)*Math['PI']*_0x5cdb48/_0x4214bb)*_0x5d2811,_0x4defb9=Math['sin'](_0x526eba*_0x4a8805/_0x1da933)*(_0x4c0279+_0x5d2811*Math['cos']((0x23e7+-0x1*-0xd29+0x1a*-0x1e3)*Math['PI']*_0x5cdb48/_0x4214bb)),_0x582d31=Math['cos'](_0x526eba*_0x4a8805/_0x1da933)*Math['cos']((-0x1*-0x26b4+0x1*0x877+-0x2f29)*Math['PI']*_0x5cdb48/_0x4214bb),_0x3ddc1c=Math['sin']((0x177*-0x19+-0x1617+0x3ab8)*Math['PI']*_0x5cdb48/_0x4214bb),_0x5ea761=Math['sin'](_0x526eba*_0x4a8805/_0x1da933)*Math['cos']((0x1*0x19e8+-0x1*0x983+-0x1063)*Math['PI']*_0x5cdb48/_0x4214bb),_0x47f057=_0x5cdb48/_0x4214bb,_0x41c8cd=-0x6f1*0x1+0x65+0x68d-_0x4a8805/_0x1da933;if(_0x241381['push'](_0x57b934,_0x555889,_0x4defb9),_0x2c5d4f['push'](_0x582d31,_0x3ddc1c,_0x5ea761),_0x17662c['push'](_0x47f057,-0x2*0x1cc+-0x278+0x611-_0x41c8cd),_0x5cdb48<_0x4214bb&&_0x4a8805<_0x1da933){const _0x4d4e2a=_0x5cdb48*(_0x1da933+(0x9ea+0x4e2+-0xecb))+_0x4a8805,_0x36f0e0=(_0x5cdb48+(-0x1*0x15+0x8*-0x139+0x9de*0x1))*(_0x1da933+(0x2041+0x1c4b+-0x3c8b))+_0x4a8805,_0x566243=_0x5cdb48*(_0x1da933+(-0x1*-0x8c3+-0x247b+0x1bb9))+(_0x4a8805+(-0x1ef2*0x1+-0x9*0x319+0x3ad4)),_0x5ee9c9=(_0x5cdb48+(-0x62b*-0x5+-0x531*-0x6+-0x3dfc))*(_0x1da933+(-0xa6d+-0x8e6*0x2+0x1c3a))+(_0x4a8805+(-0xdff+0x815*0x1+0x5eb));_0x57bc42['push'](_0x4d4e2a,_0x36f0e0,_0x566243),_0x57bc42['push'](_0x36f0e0,_0x5ee9c9,_0x566243);}}this['positions']=_0x241381,this['normals']=_0x2c5d4f,this['uvs']=_0x17662c,this['uvs1']=_0x17662c,this['indices']=_0x57bc42,_0xc09324['calculateT'+'angents']&&(this['tangents']=fr(_0x241381,_0x2c5d4f,_0x17662c,_0x57bc42));}}class D1{constructor(_0x39ae0e,_0x3e767e){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x39ae0e,this['_isClearin'+'gCache']=!(-0x175b*0x1+0x2f0*0x1+0x146c),this['_precached']=!(-0x6b*-0x11+-0x1ad6+0x13bc),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new Vh(),this['_defaultSt'+'dMatOption'+'Min']=new Vh());const _0x4534db=new A0();_0x3e767e['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x4534db,_0x3e767e,null,[],gn,null),_0x3e767e['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x3e767e,null,Rp,null),_0x39ae0e['on']('destroy:sh'+'ader',_0x474a38=>{this['removeFrom'+'Cache'](_0x474a38);});}['destroy'](){this['clearCache']();}['register'](_0x1dd630,_0x22049d){this['_generator'+'s']['has'](_0x1dd630)||this['_generator'+'s']['set'](_0x1dd630,_0x22049d);}['unregister'](_0x347197){this['_generator'+'s']['has'](_0x347197)&&this['_generator'+'s']['delete'](_0x347197);}['isRegister'+'ed'](_0x10ddce){return this['_generator'+'s']['has'](_0x10ddce);}['generateSh'+'aderDefini'+'tion'](_0x455171,_0x4fa511,_0xf9b4d1,_0x33152e){var _0x14db2e,_0x2dde3c;let _0x5b9c29=this['definition'+'sCache']['get'](_0xf9b4d1);if(!_0x5b9c29){let _0x5b5a3d;(_0x14db2e=_0x33152e['litOptions'])!=null&&_0x14db2e['lights']&&(_0x5b5a3d=_0x33152e['litOptions']['lights'],_0x33152e['litOptions']['lights']=_0x5b5a3d['map'](_0x37223f=>{const _0x19f0ec=_0x37223f['clone']?_0x37223f['clone']():_0x37223f;return _0x19f0ec['key']=_0x37223f['key'],_0x19f0ec;})),this['storeNewPr'+'ogram'](_0x4fa511,_0x33152e),(_0x2dde3c=_0x33152e['litOptions'])!=null&&_0x2dde3c['lights']&&(_0x33152e['litOptions']['lights']=_0x5b5a3d),this['_precached']&&v['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x4fa511+'\x20key\x20'+_0xf9b4d1+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x42eac1=this['_device'];_0x5b9c29=_0x455171['createShad'+'erDefiniti'+'on'](_0x42eac1,_0x33152e),_0x5b9c29['name']=_0x5b9c29['name']??(_0x33152e['pass']?_0x4fa511+'-pass:'+_0x33152e['pass']:_0x4fa511),this['definition'+'sCache']['set'](_0xf9b4d1,_0x5b9c29);}return _0x5b9c29;}['getCachedS'+'hader'](_0x31775a){return this['processedC'+'ache']['get'](_0x31775a);}['setCachedS'+'hader'](_0x4a3fa8,_0x443780){this['processedC'+'ache']['set'](_0x4a3fa8,_0x443780);}['getProgram'](_0x473b0d,_0x59742c,_0x4d48e8,_0x4b2990){const _0x267814=this['_generator'+'s']['get'](_0x473b0d);if(!_0x267814)return v['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x473b0d),null;const _0x2aeaaa=_0x267814['generateKe'+'y'](_0x59742c),_0xc35400=hn(_0x2aeaaa),_0x320520=_0x4d48e8['generateKe'+'y'](this['_device']),_0x20d00a=hn(_0x320520),_0x20a084=_0xc35400+'#'+_0x20d00a;let _0x3c54a2=this['getCachedS'+'hader'](_0x20a084);if(!_0x3c54a2){const _0x1c533f=this['generateSh'+'aderDefini'+'tion'](_0x267814,_0x473b0d,_0xc35400,_0x59742c);v['assert'](_0x1c533f);let _0x41db74='',_0x3cfcdb;_0x59742c['pass']!==void(-0x2fc+0x401*0x5+-0x1109)&&(_0x3cfcdb=Ks['get'](this['_device'])['getByIndex'](_0x59742c['pass']),_0x41db74='-'+_0x3cfcdb['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x4b2990,'shaderPassInfo':_0x3cfcdb,'definition':_0x1c533f});const _0x2fdce2={'name':''+_0x1c533f['name']+_0x41db74+'-proc','attributes':_0x1c533f['attributes'],'vshader':_0x1c533f['vshader'],'vincludes':_0x1c533f['vincludes'],'fincludes':_0x1c533f['fincludes'],'fshader':_0x1c533f['fshader'],'processingOptions':_0x4d48e8,'shaderLanguage':_0x1c533f['shaderLang'+'uage'],'meshUniformBufferFormat':_0x1c533f['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x1c533f['meshBindGr'+'oupFormat']};_0x3c54a2=new i0(this['_device'],_0x2fdce2),v['call'](()=>{_0x3c54a2['_generatio'+'nKey']=_0x2aeaaa,_0x3c54a2['_processin'+'gKey']=_0x320520;}),this['setCachedS'+'hader'](_0x20a084,_0x3c54a2);}return _0x3c54a2;}['storeNewPr'+'ogram'](_0x55c658,_0x427d06){let _0x491fac={};if(_0x55c658==='standard'){const _0x4d006b=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x427d06['pass']);for(const _0x3649ea in _0x427d06)(_0x427d06['hasOwnProp'+'erty'](_0x3649ea)&&_0x4d006b[_0x3649ea]!==_0x427d06[_0x3649ea]||_0x3649ea==='pass')&&(_0x491fac[_0x3649ea]=_0x427d06[_0x3649ea]);for(const _0x35f188 in _0x427d06['litOptions'])_0x491fac[_0x35f188]=_0x427d06['litOptions'][_0x35f188];}else _0x491fac=_0x427d06;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x55c658,'options':_0x491fac}));}['dumpProgra'+'ms'](){let _0x56ecf1='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x56ecf1+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][-0x4e4+0x2095+0x11*-0x1a1]&&(_0x56ecf1+='\x0a\x09'+this['_programsC'+'ollection'][0x116*0xc+0x75f+-0x1467]);for(let _0x2ef380=-0x7c7+0x17a5+-0xfdd;_0x2ef380<this['_programsC'+'ollection']['length'];++_0x2ef380)_0x56ecf1+=',\x0a\x09'+this['_programsC'+'ollection'][_0x2ef380];_0x56ecf1+='\x0a];\x0a',_0x56ecf1+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x56ecf1+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+no+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+sy+'\x22)\x0a',_0x56ecf1+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0xf4d7dc=document['createElem'+'ent']('a');_0xf4d7dc['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x56ecf1)),_0xf4d7dc['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0xf4d7dc['style']['display']='none',document['body']['appendChil'+'d'](_0xf4d7dc),_0xf4d7dc['click'](),document['body']['removeChil'+'d'](_0xf4d7dc);}['clearCache'](){this['_isClearin'+'gCache']=!(-0x34d+-0xa6+0x3f3),this['processedC'+'ache']['forEach'](_0xe88c29=>{_0xe88c29['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0xcdf*0x1+0x1ec6+-0x2ba4);}['removeFrom'+'Cache'](_0x5e4af8){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x19d4fa,_0xdc395d)=>{_0x5e4af8===_0x19d4fa&&this['processedC'+'ache']['delete'](_0xdc395d);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x30b33c){const _0x11cd6c=Ks['get'](this['_device'])['getByIndex'](_0x30b33c);return _0x30b33c===rl||_0x30b33c===Oa||_0x30b33c===il||_0x11cd6c['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x13581e){if(_0x13581e){const _0x29078d=new Array(_0x13581e['length']);for(let _0x3e4eee=-0x496+0x212+0x284;_0x3e4eee<_0x13581e['length'];_0x3e4eee++){if(_0x13581e[_0x3e4eee]['name']==='standard'){const _0x31956c=_0x13581e[_0x3e4eee]['options'],_0x4e627e=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x31956c['pass']);for(const _0x3c3427 in _0x4e627e)_0x4e627e['hasOwnProp'+'erty'](_0x3c3427)&&_0x31956c[_0x3c3427]===void(0x1*0x14f6+0x23d9+-0x38cf)&&(_0x31956c[_0x3c3427]=_0x4e627e[_0x3c3427]);}_0x29078d[_0x3e4eee]=this['getProgram'](_0x13581e[_0x3e4eee]['name'],_0x13581e[_0x3e4eee]['options']);}}this['_precached']=!(-0x5c6+0x9b9*-0x1+-0x1*-0xf7f);}}const L1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',F1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',k1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),vo={'bakeDirLmEndPS':L1,'bakeLmEndPS':F1,'dilatePS':O1,'bilateralDeNoisePS':k1},Fn=new q(),B_=new se(),Wd=new _e(),N_=new _e(),B1=new Y(-0x1e3a+0x1b93+0x2a8,0x16*-0x20+-0x1eba+0xb29*0x3,-0x4d3+-0x3*-0xb3+-0x2ba*-0x1,-0x8a8+0x250b+0xa9*-0x2b+0.4),qd=0xc1*-0x11+-0x2483+0x47c*0xb+0.28209479177387814;class N1{constructor(_0x5a2e58,_0x3ec91a,_0xfe0690,_0x2ef27d,_0x5d5d59,_0x59ece6){const _0x7e931a=_0x5a2e58['getProp']('x'),_0x3c50a4=_0x5a2e58['getProp']('y'),_0x3e3a1e=_0x5a2e58['getProp']('z'),_0x187dcd=_0x5a2e58['getProp']('rot_1'),_0x238ec6=_0x5a2e58['getProp']('rot_2'),_0x283233=_0x5a2e58['getProp']('rot_3'),_0x3bcb3b=_0x5a2e58['getProp']('rot_0'),_0x3d7652=_0x5a2e58['getProp']('motion_0'),_0x38b569=_0x5a2e58['getProp']('motion_1'),_0x2ede6e=_0x5a2e58['getProp']('motion_2'),_0xf9530d=_0x5a2e58['getProp']('scale_0'),_0x217d4a=_0x5a2e58['getProp']('scale_1'),_0xc7fda0=_0x5a2e58['getProp']('scale_2'),_0x2f93b3=_0x5a2e58['getProp']('f_dc_0'),_0x4cdd67=_0x5a2e58['getProp']('f_dc_1'),_0x560480=_0x5a2e58['getProp']('f_dc_2'),_0x20a1f3=_0x5a2e58['getProp']('opacity'),_0x197f03=_0x5ca8bc=>{if(_0x5ca8bc>0x93c+0x1d7*-0x8+0x2be*0x2)return(-0x2*-0x374+0x2002+-0x26e9)/(0xca8+-0xb5*0x2f+0x6*0x36e+Math['exp'](-_0x5ca8bc));const _0x990331=Math['exp'](_0x5ca8bc);return _0x990331/(0x19d2+0x1e3f+-0x3810+_0x990331);};this['read']=_0x2ea02a=>{_0x3ec91a&&(_0x3ec91a['x']=_0x7e931a[_0x2ea02a],_0x3ec91a['y']=_0x3c50a4[_0x2ea02a],_0x3ec91a['z']=_0x3e3a1e[_0x2ea02a]),_0xfe0690&&_0xfe0690['set'](_0x187dcd[_0x2ea02a],_0x238ec6[_0x2ea02a],_0x283233[_0x2ea02a],_0x3bcb3b[_0x2ea02a]),_0x2ef27d&&_0x2ef27d['set'](Math['exp'](_0xf9530d[_0x2ea02a]),Math['exp'](_0x217d4a[_0x2ea02a]),Math['exp'](_0xc7fda0[_0x2ea02a])),_0x59ece6&&_0x3d7652&&_0x59ece6['set'](_0x3d7652[_0x2ea02a],_0x38b569[_0x2ea02a],_0x2ede6e[_0x2ea02a]),_0x5d5d59&&_0x5d5d59['set'](0x6c5*-0x2+0x134e+-0x5c4+0.5+_0x2f93b3[_0x2ea02a]*qd,0x213*0x1+0xa7*-0x19+0xe3c*0x1+0.5+_0x4cdd67[_0x2ea02a]*qd,0xec7+-0x1979+0x25*0x4a+0.5+_0x560480[_0x2ea02a]*qd,_0x197f03(_0x20a1f3[_0x2ea02a]));};}}const z_=(_0x2b404a,_0xd2f832,_0x1f97fe)=>{B_['set'](_0x1f97fe['x'],_0x1f97fe['y'],_0x1f97fe['z'],_0x1f97fe['w'])['normalize'](),_0x2b404a['setTRS'](_0xd2f832,B_,T['ONE']);};class Ia{constructor(_0x5b97e5){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x397f93,_0x1357e7,_0x55a7ef;this['elements']=_0x5b97e5,this['numSplats']=(_0x397f93=this['getElement']('vertex'))==null?void(-0x1f6e+-0x2709+0x3*0x177d):_0x397f93['count'],this['is4D']=!!((_0x55a7ef=(_0x1357e7=this['getElement']('vertex'))==null?void(-0x3*-0x1c9+-0x148c*0x1+0xf31):_0x1357e7['properties']['find'](_0x20d764=>_0x20d764['name']==='t'))!=null&&_0x55a7ef['storage']);}['appendGSpl'+'atData'](_0x1cc8b5,_0x4b6439,_0x374ebb){const _0x2717ca=this['getElement']('vertex')['properties'];_0x2717ca['find'](_0x2c90a9=>_0x2c90a9['name']==='time_index')||_0x2717ca['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x1cc8b5['numSplats'];for(let _0x2281e5=-0x1936+-0xb3c*0x3+-0x1*-0x3aea;_0x2281e5<_0x2717ca['length'];_0x2281e5++){const _0x1b9e0d=_0x2717ca[_0x2281e5],_0x24c63f=_0x1cc8b5['getElement']('vertex')['properties']['find'](_0x346032=>_0x346032['name']===_0x1b9e0d['name']);if(_0x1b9e0d['name']==='time_index'){const _0x3531a5=new Float32Array(this['numSplats']);_0x3531a5['fill'](_0x4b6439),_0x3531a5['set'](_0x1b9e0d['storage'],-0x1*-0x11e+0x22*0xe+0xfe*-0x3),_0x1b9e0d['storage']=_0x3531a5;}else{if(_0x24c63f&&_0x1b9e0d['name']==='t'){const _0x4239bc=new Float32Array(this['numSplats']);if(_0x4239bc['set'](_0x1b9e0d['storage'],0x1*-0x24f5+0x1b7*0x3+0x1fd0),_0x374ebb){for(let _0x81af41=_0x1b9e0d['storage']['length'];_0x81af41<this['numSplats'];_0x81af41++)_0x4239bc[_0x81af41]=_0x24c63f['storage'][_0x81af41-_0x1b9e0d['storage']['length']]+_0x374ebb[(0x1880+0x7*0x260+-0x13*0x22a)*_0x4b6439];}else _0x4239bc['set'](_0x24c63f['storage'],_0x1b9e0d['storage']['length']);_0x1b9e0d['storage']=_0x4239bc;}else{if(_0x24c63f){const _0x23e2ae=new Float32Array(this['numSplats']);_0x23e2ae['set'](_0x1b9e0d['storage'],0x2d*-0x28+0x10d*0x1+0x5fb),_0x23e2ae['set'](_0x24c63f['storage'],_0x1b9e0d['storage']['length']),_0x1b9e0d['storage']=_0x23e2ae;}}}}}static['calcSplatA'+'abb'](_0x401b51,_0x570313,_0x59628f,_0x27afde){z_(Fn,_0x570313,_0x59628f),Wd['center']['set'](-0x2572+-0xa5+0x2617,0x3*-0x793+-0xf40+0x25f9,-0xb8*0x2+-0xf6e+0x11*0xfe),Wd['halfExtent'+'s']['set'](_0x27afde['x']*(0x15d*-0xb+0x8*0x281+-0x507),_0x27afde['y']*(0x2089*0x1+-0x20df+0x16*0x4),_0x27afde['z']*(0x127d*0x2+-0x1eb*-0x3+-0x1*0x2ab9)),_0x401b51['setFromTra'+'nsformedAa'+'bb'](Wd,Fn);}['getProp'](_0x382976,_0x22e8f0='vertex'){var _0x47ce59,_0xd0087c;return(_0xd0087c=(_0x47ce59=this['getElement'](_0x22e8f0))==null?void(-0x1ba1+-0x6*0x42f+0x34bb*0x1):_0x47ce59['properties']['find'](_0x52d8ba=>_0x52d8ba['name']===_0x382976))==null?void(-0x16*0x12a+0x1f1f+-0x11*0x53):_0xd0087c['storage'];}['getElement'](_0x9b8efc){return this['elements']['find'](_0x20a9ba=>_0x20a9ba['name']===_0x9b8efc);}['addProp'](_0x280049,_0x4e80a4){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x280049,'storage':_0x4e80a4,'byteSize':0x4});}['createIter'](_0x320980,_0x4480ea,_0x2134f3,_0xbf629f,_0x5d3b40){return new N1(this,_0x320980,_0x4480ea,_0x2134f3,_0xbf629f,_0x5d3b40);}['calcAabb'](_0x34b329,_0x151b80){let _0x261cd1,_0x4a5be4,_0x2d9cda,_0x11f433,_0x2831e1,_0x403d48,_0x337dcf=!(-0x2449+0x12a0+-0xb*-0x19b);const _0x122757=this['getProp']('x'),_0x3eed11=this['getProp']('y'),_0x32d75a=this['getProp']('z'),_0x3ed7ae=this['getProp']('scale_0'),_0x1d745e=this['getProp']('scale_1'),_0x551807=this['getProp']('scale_2');for(let _0x53c5a0=-0x2*0xcb5+-0x1*-0x929+0x39*0x49;_0x53c5a0<this['numSplats'];++_0x53c5a0){if(_0x151b80&&!_0x151b80(_0x53c5a0))continue;const _0x2fe778=(0x1bdd+-0x4b6+0x4b*-0x4f)*Math['exp'](Math['max'](_0x3ed7ae[_0x53c5a0],_0x1d745e[_0x53c5a0],_0x551807[_0x53c5a0])),_0x488dbe=_0x122757[_0x53c5a0],_0x31c021=_0x3eed11[_0x53c5a0],_0x5a5a0a=_0x32d75a[_0x53c5a0];_0x337dcf?(_0x337dcf=!(0xbb6*-0x1+0x12c8+0x25b*-0x3),_0x261cd1=_0x488dbe-_0x2fe778,_0x4a5be4=_0x31c021-_0x2fe778,_0x2d9cda=_0x5a5a0a-_0x2fe778,_0x11f433=_0x488dbe+_0x2fe778,_0x2831e1=_0x31c021+_0x2fe778,_0x403d48=_0x5a5a0a+_0x2fe778):(_0x261cd1=Math['min'](_0x261cd1,_0x488dbe-_0x2fe778),_0x4a5be4=Math['min'](_0x4a5be4,_0x31c021-_0x2fe778),_0x2d9cda=Math['min'](_0x2d9cda,_0x5a5a0a-_0x2fe778),_0x11f433=Math['max'](_0x11f433,_0x488dbe+_0x2fe778),_0x2831e1=Math['max'](_0x2831e1,_0x31c021+_0x2fe778),_0x403d48=Math['max'](_0x403d48,_0x5a5a0a+_0x2fe778));}return _0x337dcf||(_0x34b329['center']['set']((_0x261cd1+_0x11f433)*(0x183*-0x15+-0x1cbb*-0x1+0x304+0.5),(_0x4a5be4+_0x2831e1)*(0x1843+0x1921*-0x1+0xde+0.5),(_0x2d9cda+_0x403d48)*(0x7*0x43c+-0x13a5*0x1+0x9ff*-0x1+0.5)),_0x34b329['halfExtent'+'s']['set']((_0x11f433-_0x261cd1)*(0x1b8e+-0x46f+-0x1*0x171f+0.5),(_0x2831e1-_0x4a5be4)*(-0x68e*0x5+-0x835+0x3*0xda9+0.5),(_0x403d48-_0x2d9cda)*(-0x3*0x3d3+-0x39c+0xf15+0.5))),!_0x337dcf;}['calcAabbEx'+'act'](_0x427d6c,_0x187130){const _0x13875c=new T(),_0x29c6c1=new se(),_0xf128a7=new T(),_0x3bd86b=this['createIter'](_0x13875c,_0x29c6c1,_0xf128a7);let _0x3b9cb5=!(-0xbef+-0x462+0x1051);for(let _0x5dce4c=0x1*-0x23d0+0x1*0x1627+0x1*0xda9;_0x5dce4c<this['numSplats'];++_0x5dce4c)_0x187130&&!_0x187130(_0x5dce4c)||(_0x3bd86b['read'](_0x5dce4c),_0x3b9cb5?(_0x3b9cb5=!(-0x1e83+-0x1393+-0x1*-0x3217),Ia['calcSplatA'+'abb'](_0x427d6c,_0x13875c,_0x29c6c1,_0xf128a7)):(Ia['calcSplatA'+'abb'](N_,_0x13875c,_0x29c6c1,_0xf128a7),_0x427d6c['add'](N_)));return!_0x3b9cb5;}['getCenters'](_0x1d693f){const _0x1fa88a=this['getProp']('x'),_0x566594=this['getProp']('y'),_0x272fb7=this['getProp']('z');for(let _0x13670f=-0x3*0x49d+0x9c9+-0x6*-0xad;_0x13670f<this['numSplats'];++_0x13670f)_0x1d693f[_0x13670f*(0x669*0x1+0xe92*-0x1+0x82c)+(0x1*-0x25e9+0xf04*-0x2+0x1*0x43f1)]=_0x1fa88a[_0x13670f],_0x1d693f[_0x13670f*(-0x2*-0x787+0x8*-0x148+-0x4cb*0x1)+(0x1ba7*0x1+0x1*0xe7f+0x2a25*-0x1)]=_0x566594[_0x13670f],_0x1d693f[_0x13670f*(-0x15de+-0x57a*-0x2+0xaed)+(0x1*0x548+-0x1b21*0x1+0x15db)]=_0x272fb7[_0x13670f];}['getMuT'](){const _0x4cbb43=this['getProp']('t');if(!_0x4cbb43)return;const _0x2c60f3=new Float32Array(this['numSplats']);for(let _0x2af636=0x7*-0x275+-0x189e+0x29d1;_0x2af636<this['numSplats'];++_0x2af636)_0x2c60f3[_0x2af636]=_0x4cbb43[_0x2af636];return _0x2c60f3;}['getTScale'](){const _0x5e76e5=this['getProp']('t_scale');if(!_0x5e76e5)return;const _0x4035e7=new Float32Array(this['numSplats']);for(let _0x4e9b6f=0x1d99+0x1*-0xe95+0x4*-0x3c1;_0x4e9b6f<this['numSplats'];++_0x4e9b6f)_0x4035e7[_0x4e9b6f]=Math['exp'](_0x5e76e5[_0x4e9b6f]);return _0x4035e7;}['getMotion'](_0x3781cd){const _0x25ce65=this['getProp']('motion_0'),_0x16d9aa=this['getProp']('motion_1'),_0x151365=this['getProp']('motion_2');if(!(!_0x25ce65||!_0x16d9aa||!_0x151365)){for(let _0x4b305e=0x390+-0x7*-0x15d+-0xd1b;_0x4b305e<this['numSplats'];++_0x4b305e)_0x3781cd[_0x4b305e*(0x1d5f+-0x1bec+-0x170)+(-0x145e+-0xcbd+0x211b)]=_0x25ce65[_0x4b305e],_0x3781cd[_0x4b305e*(-0x235a+0x3*0xa1b+-0x286*-0x2)+(0x1af*-0x17+-0xe1a+0x3*0x119c)]=_0x16d9aa[_0x4b305e],_0x3781cd[_0x4b305e*(-0x1*0x686+-0x1a9e+0x2127)+(0x97*0x34+-0x1adf+0x3cb*-0x1)]=_0x151365[_0x4b305e];}}['getTimeInd'+'ex'](_0x280226){const _0x17b21e=this['getProp']('time_index');_0x17b21e&&_0x280226['set'](_0x17b21e,-0x550+-0xf8b+-0x119*-0x13);}['calcFocalP'+'oint'](_0x3c139a,_0x174ca2){const _0x3965b6=this['getProp']('x'),_0x46939e=this['getProp']('y'),_0xe742e2=this['getProp']('z'),_0x35a588=this['getProp']('scale_0'),_0x12637a=this['getProp']('scale_1'),_0x610dd4=this['getProp']('scale_2');_0x3c139a['x']=-0x2228+-0x2537+0x475f,_0x3c139a['y']=-0x1322+-0x194b+0x2c6d,_0x3c139a['z']=-0x1e42+0x1*-0x1a88+0x38ca;let _0x223c4a=0x11b7+-0x1d6f+0xbb8;for(let _0x4b9718=-0x6b*0x3d+0x109b+0x8e4*0x1;_0x4b9718<this['numSplats'];++_0x4b9718){if(_0x174ca2&&!_0x174ca2(_0x4b9718))continue;const _0x61f298=(-0x470*0x1+0x1a41+-0x15d0)/(-0x41a+0x16b3*0x1+-0x28*0x77+Math['exp'](Math['max'](_0x35a588[_0x4b9718],_0x12637a[_0x4b9718],_0x610dd4[_0x4b9718])));_0x3c139a['x']+=_0x3965b6[_0x4b9718]*_0x61f298,_0x3c139a['y']+=_0x46939e[_0x4b9718]*_0x61f298,_0x3c139a['z']+=_0xe742e2[_0x4b9718]*_0x61f298,_0x223c4a+=_0x61f298;}_0x3c139a['mulScalar']((-0x1*-0x1645+0x1439+-0x49*0x95)/_0x223c4a);}['renderWire'+'frameBound'+'s'](_0x4b9497,_0x165360){const _0x2f748e=new T(),_0x43f3e1=new se(),_0x324690=new T(),_0x30b04b=new T(),_0x35dcfa=new T(),_0x23b1db=this['createIter'](_0x2f748e,_0x43f3e1,_0x324690);for(let _0x9ff47f=0x1*0x17c7+-0x1*0x128f+-0x538;_0x9ff47f<this['numSplats'];++_0x9ff47f)_0x23b1db['read'](_0x9ff47f),z_(Fn,_0x2f748e,_0x43f3e1),Fn['mul2'](_0x165360,Fn),_0x30b04b['set'](_0x324690['x']*-(0x2*-0xf1+0x12cb+-0x1*0x10e7),_0x324690['y']*-(0x459+-0xb95*-0x1+-0x4*0x3fb),_0x324690['z']*-(-0x1643*-0x1+0x227d+0x12ea*-0x3)),_0x35dcfa['set'](_0x324690['x']*(-0x6*0x320+-0xff3+0x22b5),_0x324690['y']*(-0xc4*-0x24+0x3c7+-0x1f55),_0x324690['z']*(-0x57d*0x2+-0x158e+0x208a)),_0x4b9497['immediate']['drawWireAl'+'ignedBox'](_0x30b04b,_0x35dcfa,B1,!(-0xa55+0x1*0x4+0xa51),_0x4b9497['defaultDra'+'wLayer'],Fn);}get['isCompress'+'ed'](){return!(0xc0c+-0xb*0x2b3+-0x2f1*-0x6);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x42256d=0x160f+-0x26c3+0x85a*0x2;_0x42256d<0x5*-0x56b+0x2155+-0x611;++_0x42256d)if(!this['getProp']('f_rest_'+_0x42256d))return _0x42256d;return-0x2570+0x19b9+0xbe4;})())]??-0xf21+-0x3c*-0x8b+-0x5d1*0x3;}['calcMorton'+'Order'](){const _0x368059=_0x306377=>{let _0x3f982e=_0x306377[0x251*-0x6+0x1*-0x2249+0x302f],_0x333705=_0x306377[0x2384+-0x1d3+-0x21b1];for(let _0x350044=-0x12*-0x17d+0x18d0+-0x3399;_0x350044<_0x306377['length'];_0x350044++)_0x306377[_0x350044]<_0x3f982e&&(_0x3f982e=_0x306377[_0x350044]),_0x306377[_0x350044]>_0x333705&&(_0x333705=_0x306377[_0x350044]);return{'min':_0x3f982e,'max':_0x333705};},_0x508b46=(_0x353c28,_0x55fc48,_0x4a1abb)=>{const _0x14b314=_0x575469=>(_0x575469&=-0x28b*-0xb+0x6*0x61c+0x1e51*-0x2,_0x575469=(_0x575469^_0x575469<<-0x14f7+-0x3ef+0x2*0xc7b)&-0xb3d7f22a+0x1*0xd6bfded9+0xdc181450,_0x575469=(_0x575469^_0x575469<<0x332*0x5+-0x1*0xe6b+-0x187)&0x21108d9+0x5bc3dee+-0x4cc56b8,_0x575469=(_0x575469^_0x575469<<-0x1f47+-0x7*-0x287+0xd9a)&-0x3be0aae+-0x231911a+-0x8fbcc8b*-0x1,_0x575469=(_0x575469^_0x575469<<0x243f+-0x1*0x265+-0x21d8)&-0x5cf*-0x10d1c+-0x7aa1a88+0xab3872d,_0x575469);return(_0x14b314(_0x4a1abb)<<-0x1a51*-0x1+0x1c17+-0x3*0x1222)+(_0x14b314(_0x55fc48)<<-0x8db*0x3+0x1a80+0x2*0x9)+_0x14b314(_0x353c28);},_0x36bb1e=this['getProp']('x'),_0x2207e1=this['getProp']('y'),_0x28aa02=this['getProp']('z'),{min:_0x39ce15,max:_0x3d48e0}=_0x368059(_0x36bb1e),{min:_0x8e0fe5,max:_0x983446}=_0x368059(_0x2207e1),{min:_0x2a2ef6,max:_0x304a2f}=_0x368059(_0x28aa02),_0x1db55f=_0x39ce15===_0x3d48e0?-0x1*0x1465+-0x1a*-0x81+0x74b:(0x25cc+0x6b*-0x3+0x208b*-0x1)/(_0x3d48e0-_0x39ce15),_0x39fc83=_0x8e0fe5===_0x983446?-0x49d*0x5+-0x866+0x3*0xa7d:(0x131e+-0x1f79*0x1+0x105b)/(_0x983446-_0x8e0fe5),_0x306712=_0x2a2ef6===_0x304a2f?0x3b*0x18+-0x1345+-0xdbd*-0x1:(0xab6+-0x1*-0x20c5+-0x277b)/(_0x304a2f-_0x2a2ef6),_0x38b184=new Map();for(let _0x4c7886=-0x1*0x1f2b+0x21aa+-0x27f;_0x4c7886<this['numSplats'];_0x4c7886++){const _0x3e4065=Math['floor']((_0x36bb1e[_0x4c7886]-_0x39ce15)*_0x1db55f),_0x190fb5=Math['floor']((_0x2207e1[_0x4c7886]-_0x8e0fe5)*_0x39fc83),_0x33d25f=Math['floor']((_0x28aa02[_0x4c7886]-_0x2a2ef6)*_0x306712),_0x41ddf1=_0x508b46(_0x3e4065,_0x190fb5,_0x33d25f),_0x5d6e00=_0x38b184['get'](_0x41ddf1);_0x5d6e00?_0x5d6e00['push'](_0x4c7886):_0x38b184['set'](_0x41ddf1,[_0x4c7886]);}const _0x4b6418=Array['from'](_0x38b184['keys']())['sort']((_0x1ae76f,_0x15bda5)=>_0x1ae76f-_0x15bda5),_0x57c5b6=new Uint32Array(this['numSplats']);let _0x483ad6=0x1bec+0x7*-0x3cd+-0x151;for(let _0x4210fe=0x24c1+-0x5*-0x43f+-0x39fc;_0x4210fe<_0x4b6418['length'];++_0x4210fe){const _0x255dd5=_0x38b184['get'](_0x4b6418[_0x4210fe]);for(let _0x7d7b20=-0xe5c+0x1*0x1faf+0x1153*-0x1;_0x7d7b20<_0x255dd5['length'];++_0x7d7b20)_0x57c5b6[_0x483ad6++]=_0x255dd5[_0x7d7b20];}return _0x57c5b6;}['reorder'](_0x3746df){const _0x1a1c49=new Map(),_0x440fb9=_0x5a7c49=>{if(_0x1a1c49['has'](_0x5a7c49)){const _0x3a5258=_0x1a1c49['get'](_0x5a7c49);return _0x1a1c49['delete'](_0x5a7c49),_0x3a5258;}return new ArrayBuffer(_0x5a7c49);},_0x31d8eb=_0x1d8e0f=>{_0x1a1c49['set'](_0x1d8e0f['byteLength'],_0x1d8e0f);},_0xb777f8=_0x35c2b1=>{const _0x26111d=new _0x35c2b1['constructo'+'r'](_0x440fb9(_0x35c2b1['byteLength']));for(let _0x3dcdbd=-0x2*-0x467+0xd20+-0x322*0x7;_0x3dcdbd<_0x3746df['length'];_0x3dcdbd++)_0x26111d[_0x3dcdbd]=_0x35c2b1[_0x3746df[_0x3dcdbd]];return _0x31d8eb(_0x35c2b1['buffer']),_0x26111d;};this['elements']['forEach'](_0x4edcb7=>{_0x4edcb7['properties']['forEach'](_0x5131d2=>{_0x5131d2['storage']&&(_0x5131d2['storage']=_0xb777f8(_0x5131d2['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const z0=(_0x5e3854={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x1f5d8c=_0x5e3854['dither']??Rs,_0x4cc518=_0x1f5d8c!==Rs,_0x4b195f=new Ra({'uniqueName':'SplatMater'+'ial','vertexCode':_0x5e3854['vertex']??X['gsplatVS'],'fragmentCode':_0x5e3854['fragment']??X['gsplatPS'],'attributes':{'vertex_position':He,'vertex_id_attrib':ga}});return _0x4b195f['setDefine']('DITHER_'+_0x1f5d8c['toUpperCas'+'e'](),''),_0x4b195f['cull']=mt,_0x4b195f['blendType']=_0x4cc518?is:hr,_0x4b195f['depthWrite']=_0x4cc518,_0x4b195f['update'](),_0x4b195f;};async function z1(){self['onmessage']=async _0x39a188=>{const {data:_0x190277}=_0x39a188;switch(_0x190277['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x4a8858(_0x190277['numSplats'],_0x190277['shBands'],_0x190277['SHData']);break;}};const _0x4a8858=(_0x172201,_0x66f846,_0x8827cc)=>{const _0x5e3150=new Uint32Array(_0x172201*(-0xff*-0x19+0x146b*-0x1+-0x478)),_0x3b4a07=new Uint32Array(_0x172201*(0x26af*-0x1+-0x1c12+-0x1*-0x42c5)),_0x5f52fd=new Uint32Array(_0x172201*(0x31*0x25+-0x2307+0x1bf6)),_0xa01e11=new Uint32Array(_0x172201*(-0x1*0xef7+0x156c+-0x671)),_0xf5a51e={0x1:0x3,0x2:0x8,0x3:0xf}[_0x66f846],_0x5b9a55=_0x8827cc,_0x19b9f3=0x52*-0x57+0xc2a+0x17b3,_0x3e4e9d=-0x2f9+-0x114*0x1+0x80c,_0x35eb9e=new Float32Array(-0x1da1+0x2d1*-0x1+0x2073*0x1),_0x59aac4=new Uint32Array(_0x35eb9e['buffer']),_0x19dc14=new Array(_0xf5a51e*(-0x19d*0x5+-0x193d+-0xb1b*-0x3))['fill'](-0x10b9+-0xc6c+0x1d25);for(let _0x229436=0x5d9*-0x1+0x362+0x277*0x1;_0x229436<_0x172201;++_0x229436){for(let _0x48082f=0x1cb7+0x144a+-0x5*0x9cd;_0x48082f<_0xf5a51e;++_0x48082f)_0x19dc14[_0x48082f*(-0x1*0xe9e+0x1f6*0x11+0x12b5*-0x1)]=_0x5b9a55[_0x48082f][_0x229436],_0x19dc14[_0x48082f*(-0x1*0x1c45+0x1e5c+-0x214)+(0x1aef+0x5b*0x43+-0x32bf)]=_0x5b9a55[_0x48082f+_0xf5a51e][_0x229436],_0x19dc14[_0x48082f*(-0x2549+0xf51+0x11*0x14b)+(0x666+-0x1678+0x1014)]=_0x5b9a55[_0x48082f+_0xf5a51e*(0x7a9*0x4+0x2089+-0x3f2b)][_0x229436];let _0x507228=_0x19dc14[0x1*0x18f5+0x1c49+-0x1d6*0x1d];for(let _0x3ee7d6=0x1*0x4f+-0x8*0x2ea+0x1702;_0x3ee7d6<_0xf5a51e*(-0x112*-0x1b+-0xa66+-0x1*0x127d);++_0x3ee7d6)_0x507228=Math['max'](_0x507228,Math['abs'](_0x19dc14[_0x3ee7d6]));if(_0x507228!==-0x1bbc*-0x1+-0xe4d+-0xd6f){for(let _0x149a69=-0x4a*-0xd+0x1f7*-0x8+0xbf6;_0x149a69<_0xf5a51e;++_0x149a69)_0x19dc14[_0x149a69*(0xc*-0x227+0xfd+0x2*0xc6d)+(-0x2*-0x87f+0x889*0x1+0x1*-0x1987)]=Math['max'](0x3f9*-0x8+-0x52d+0x1*0x24f5,Math['min'](_0x19b9f3,Math['floor']((_0x19dc14[_0x149a69*(0x4c9+-0x11*-0x1e0+-0x24a6)+(0x2*-0x6f5+-0x6db+0x199*0xd)]/_0x507228*(-0x9ab+-0x18c3*0x1+0x226e+0.5)+(-0x1f9b+0x1d95+-0x206*-0x1+0.5))*_0x19b9f3+(-0x45*0x8b+-0x9e0+0x1*0x2f57+0.5)))),_0x19dc14[_0x149a69*(-0xa73*-0x1+-0x7b*0x25+-0x757*-0x1)+(0x16f*-0x7+0x1c09+-0x11ff*0x1)]=Math['max'](0x1f3*-0xf+-0x75*-0x9+0x1920,Math['min'](_0x3e4e9d,Math['floor']((_0x19dc14[_0x149a69*(0x173d*0x1+0x2561+-0x3c9b)+(0xe12+-0x25bd*0x1+0x17ac)]/_0x507228*(0x2*0xfd6+-0x26fc+0x750+0.5)+(-0x1*0x40f+0x1*-0x2593+0x29a2+0.5))*_0x3e4e9d+(-0x35c+-0xf6b*-0x2+-0x1*0x1b7a+0.5)))),_0x19dc14[_0x149a69*(0x12c3+-0x1a9d+0x7dd)+(0x203d+-0x88f*-0x1+0x1c6*-0x17)]=Math['max'](-0x1*0x164c+-0x47c*0x7+0x35b0,Math['min'](_0x19b9f3,Math['floor']((_0x19dc14[_0x149a69*(-0x3e*-0x2f+-0x1*-0xb5+-0xc14)+(-0x9b3+-0x6e1*-0x2+-0x40d)]/_0x507228*(-0x6e*-0x2b+-0xd83+-0x4f7+0.5)+(-0x10ec*0x1+-0x1210+-0x117e*-0x2+0.5))*_0x19b9f3+(-0x2c1+-0x1056+-0xb5*-0x1b+0.5))));_0x35eb9e[-0x40*0x97+0x4*-0x52c+0x3a70]=_0x507228,_0x5e3150[_0x229436*(-0x3af*0x2+0xa8c+-0x32a)+(0x77f*0x1+-0x187f+-0x88*-0x20)]=_0x59aac4[0x1efc*-0x1+0xf23+-0x1*-0xfd9],_0x5e3150[_0x229436*(0x23c7+0x82*-0x1b+-0x160d)+(-0xec9*-0x2+0x410+-0x21a1)]=_0x19dc14[0x9c*-0x1e+0xa0f+0x839]<<0x241*0x2+0x2c2*0x8+-0x1*0x1a7d|_0x19dc14[-0x1656+0x1*-0x1e95+0xd3b*0x4]<<-0x8d*-0x35+0x8*0x1a6+-0x2a56|_0x19dc14[-0xc29+-0x107*-0x8+0x3f3],_0x5e3150[_0x229436*(0x1936+0x83*-0xa+0x202*-0xa)+(0x774+0x2474+-0x2be6)]=_0x19dc14[0x134b+0x1d64+-0x59*0x8c]<<-0x25ef+-0x1f08+0x450c|_0x19dc14[-0x69f+0x18e2+-0x123f]<<-0xcd6+0x28d*0x1+-0x4*-0x295|_0x19dc14[0xc5*0x1+-0x153*-0x15+-0x1c8f],_0x5e3150[_0x229436*(-0x4c*-0x52+0x1df+-0x13*0x161)+(-0x17*0x18b+-0x13ff+0x377f)]=_0x19dc14[-0x2f*-0x19+0x1*-0x19ef+0x155e]<<-0xf4*-0x11+0x2692+-0x435*0xd|_0x19dc14[0x1*0x20c5+0xc*-0x31a+0xbf*0x6]<<0x556*0x1+0xc2*-0x31+0xa9d*0x3|_0x19dc14[0x3*0x9b3+0x1948*0x1+0x3659*-0x1],_0x66f846>0xa3*0x39+0x34*0x85+-0x3f4e&&(_0x3b4a07[_0x229436*(0x878+0x1f29+-0x279d*0x1)+(-0x199e+0x2598+-0x92*0x15)]=_0x19dc14[0x1*0x1298+0x97*0x11+0x2*-0xe4b]<<-0x270*0x6+-0x247+0x1*0x10fc|_0x19dc14[-0xb70+-0xad0+0x164a]<<-0x1b9f+0x1107*-0x2+0x28*0x18b|_0x19dc14[-0x12ff+-0x14cb+0x27d5],_0x3b4a07[_0x229436*(0xe*0x115+0x1*-0x2062+0x1140)+(0x5*-0x2bd+-0x2*0x655+0x1a5c)]=_0x19dc14[0x27*0x99+-0x3*-0xa6d+-0x368a]<<-0xa33+-0xcd3+-0xa9*-0x23|_0x19dc14[0x4*-0x762+0x1bd7*0x1+0x1be]<<0x14bf+-0x2*0xd0d+-0x2b3*-0x2|_0x19dc14[-0x12b9+0x287*-0x4+0x1ce3],_0x3b4a07[_0x229436*(-0x1bdb+0x4e+0x1b91)+(0x47b*-0x6+0x11*-0x11f+0x3*0xf51)]=_0x19dc14[-0x2494+0x1baa+0x1*0x8f9]<<-0x23ac+-0x1d03*0x1+0x40c4|_0x19dc14[0x2*-0x7d3+0x1f3c+0x1*-0xf86]<<0x1e25+-0x24e3+-0x3*-0x243|_0x19dc14[0x1ee1+-0x9*-0x24f+-0x3397],_0x3b4a07[_0x229436*(-0x1a44*-0x1+0x266f+-0x1d*0x23b)+(0x848+-0x250e+0x1cc9*0x1)]=_0x19dc14[-0xea+-0x2374+0x48e*0x8]<<0x1eee+0x1*-0xdc2+-0x1117|_0x19dc14[0x104f+0x671+-0x16ad]<<-0x1ee9+0x3b*-0xa9+0xf*0x4a9|_0x19dc14[-0x1f*0x56+0x1c57+-0x11d9],_0x66f846>-0xa1f+-0x1*0xd17+0x1738?(_0x5f52fd[_0x229436*(-0x1*-0xd74+-0x688+-0x4*0x1ba)+(-0x27f+-0x853*-0x2+-0xe27)]=_0x19dc14[0x5*-0x33b+-0x244c+0x3488*0x1]<<-0x51*-0x39+-0x443*0x5+0x35b|_0x19dc14[0x46*0x56+0x1653+-0xdd*0x35]<<-0x1d12+0xc*-0x17e+0x2f05*0x1|_0x19dc14[-0x16aa+0x5*0x4f+0x43e*0x5],_0x5f52fd[_0x229436*(0x9*0x3c7+0x12c9+-0x34c4)+(-0x2*-0x81+-0x8*-0x14a+-0xb51)]=_0x19dc14[-0x1414+-0x225a+0x3686]<<-0xe8d+-0x17*-0x191+-0x1565|_0x19dc14[-0x256d+0x208d+-0x1*-0x4f9]<<0xac9+0x1409+-0x1*0x1ec7|_0x19dc14[-0x731+-0x68*0x27+0x1723],_0x5f52fd[_0x229436*(-0x14f*0x1+-0x2a*0x53+0xef1)+(-0x71*0x2d+0x1ec0+0x5*-0x22d)]=_0x19dc14[-0x1*-0x232b+-0xb84+0xb*-0x224]<<-0x1f*0x4+-0xc11*-0x1+-0xb80|_0x19dc14[-0x11bd+0xcd9+-0x40*-0x14]<<-0x438+-0x1b77*0x1+0x83*0x3e|_0x19dc14[-0x1e3e+-0xf1+0x2*0xfa6],_0x5f52fd[_0x229436*(-0x1054*0x2+-0x1fb7+0x4063)+(0x2573+-0x1*0x1c49+0x47*-0x21)]=_0x19dc14[0x1*0xcce+-0x5e7*-0x1+-0x1*0x1297]<<-0x1b94+0x1642+0x567|_0x19dc14[-0x1b65*-0x1+0xb*-0x283+0x1*0x5b]<<0x2593+-0x150d*-0x1+-0x3a95|_0x19dc14[-0x33*-0x6b+-0xb82+-0x43*0x25],_0xa01e11[_0x229436*(0xa6*0x39+-0x4*-0x8d8+-0x4852)+(0x24fa+0x8a7+-0x2da1)]=_0x19dc14[-0x147*0x1d+0x38f*-0x1+0x28bb]<<-0x2*0x494+-0x88b*0x1+0x1*0x11c8|_0x19dc14[0x2c4*-0x3+-0x27*-0xb6+-0x134c]<<0x190+0x1*-0x161a+0x1495|_0x19dc14[0x254f+-0x2*0x76d+-0x1652],_0xa01e11[_0x229436*(0x245d+-0x50b*0x5+-0x19*0x72)+(0x295*0x2+0x2447+0x8*-0x52e)]=_0x19dc14[0x1558*0x1+0x62f+-0x13*0x171]<<-0x8ad*-0x3+0x1*-0x1df1+0x5d*0xb|_0x19dc14[-0xf20+0x2091*-0x1+0x2fd6]<<-0x392*-0x9+0xbe1+-0xc*0x3aa|_0x19dc14[-0x1e94+0xb*-0xca+0x2768],_0xa01e11[_0x229436*(0x1c8d+-0x1e37+0x1ae)+(0x1ac5+0x11b*0x22+-0x4059)]=_0x19dc14[-0x2*0x6b9+0x2*0xf44+-0x10ef]<<-0x85d*-0x2+0x1*0x1cd+-0x1272*0x1|_0x19dc14[-0x1941+0x25d5+-0xc6c]<<-0x117a+0x774+0xa11|_0x19dc14[-0x1fbe+-0x1bf5+0x1dee*0x2],_0xa01e11[_0x229436*(-0x267*-0xf+0x5a7*0x3+-0x1a7d*0x2)+(0x1208+0x1f1d+-0x3122)]=_0x19dc14[-0x7*-0x239+0x1c43+-0x2ba8]<<0x545*-0x6+0x1*-0x159f+0x3552|_0x19dc14[0x49*0x6d+0x1181+-0x306b]<<0xec6+0xd0f+-0x1bca|_0x19dc14[0x1dcd+0x6da+-0x247b]):_0x5f52fd[_0x229436]=_0x19dc14[0x2548+-0x1e68+0x2f*-0x25]<<-0x1161+-0x1*-0xd33+-0x443*-0x1|_0x19dc14[0x32c+-0xa39+0x7*0x105]<<-0xb53+0x575*0x5+-0xfeb|_0x19dc14[-0x22d*0x1+-0x421+-0x665*-0x1]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0x5e3150,'sh4to7Data':_0x3b4a07,'sh8to11Data':_0x5f52fd,'sh12to15Data':_0xa01e11},[_0x5e3150['buffer'],_0x3b4a07['buffer'],_0x5f52fd['buffer'],_0xa01e11['buffer']]);};}class U1 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+z1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x3a5425=>{if(!this['worker'])return;const {data:_0x2b740e}=_0x3a5425;switch(_0x2b740e['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x2b740e['sh1to3Data'],_0x2b740e['sh4to7Data'],_0x2b740e['sh8to11Dat'+'a'],_0x2b740e['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x169e67,_0x7ddaf0,_0x266421){var _0x39f069;(_0x39f069=this['worker'])==null||_0x39f069['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x169e67,'shBands':_0x7ddaf0,'SHData':_0x266421});}['destroy'](){var _0x30f5d7;this['worker']&&((_0x30f5d7=this['worker'])==null||_0x30f5d7['terminate'](),this['worker']=null);}}const U_=(_0x48cecb,_0xbc736)=>{const _0x20955e=[];for(let _0x457135=0x1*0x105+0x2473+0x2c*-0xda;_0x457135<_0xbc736;++_0x457135)_0x20955e['push'](_0x48cecb['getProp']('f_rest_'+_0x457135));return _0x20955e;};class V1{constructor(_0x594c23,_0x51acc1){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x55863a=_0x51acc1['numSplats'];this['device']=_0x594c23,this['numSplats']=_0x55863a,this['numSplatsV'+'isible']=_0x55863a,this['updateData'+'Worker']=new U1(),this['centers']=new Float32Array(_0x51acc1['numSplats']*(0xb62+0x2*-0xabf+0xa1f)),this['motion']=new Float32Array(_0x51acc1['numSplats']*(-0x1c6+-0x1f*-0x97+0x4*-0x420)),this['timeIndex']=new Float32Array(_0x51acc1['numSplats']),_0x51acc1['getCenters'](this['centers']),_0x51acc1['getMotion'](this['motion']),_0x51acc1['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x51acc1['getMuT'](this['timeOption']),this['tScale']=_0x51acc1['getTScale'](),this['is4D']=_0x51acc1['is4D'],this['aabb']=new _e(),_0x51acc1['calcAabb'](this['aabb']);const _0x1addfe=this['evalTextur'+'eSize'](_0x55863a);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x1addfe),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x1addfe),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x1addfe),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x1addfe),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x1addfe),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x1addfe)),this['updateColo'+'rData'](_0x51acc1),this['updateTran'+'sformData'](_0x51acc1),this['shBands']=_0x51acc1['shBands'],this['shBands']>-0x1c1f*0x1+0x12d5*-0x2+0x41c9&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x1addfe),this['shBands']>-0xae5*-0x3+-0x1e91+-0x21d&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x1addfe),this['shBands']>-0xdc8+-0xe82*0x1+-0xe26*-0x2?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x1addfe),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x1addfe)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x1addfe)),this['updateSHDa'+'ta'](_0x51acc1));}['updateData'](_0x47d8cb){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x40e7c9=_0x47d8cb['numSplats'];this['numSplats']=_0x40e7c9,this['numSplatsV'+'isible']=_0x40e7c9,this['centers']=new Float32Array(_0x47d8cb['numSplats']*(0x1498+0x1fd1+0x2c2*-0x13)),this['motion']=new Float32Array(_0x47d8cb['numSplats']*(0x182b+-0xf3a*-0x2+-0x369c)),this['timeIndex']=new Float32Array(_0x47d8cb['numSplats']),_0x47d8cb['getCenters'](this['centers']),_0x47d8cb['getMotion'](this['motion']),_0x47d8cb['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x47d8cb['getMuT'](this['timeOption']),this['tScale']=_0x47d8cb['getTScale'](),this['is4D']=_0x47d8cb['is4D'],this['aabb']=new _e(),_0x47d8cb['calcAabb'](this['aabb']);const _0x320c57=this['evalTextur'+'eSize'](_0x40e7c9);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x320c57),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x320c57),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x320c57),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x320c57),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x320c57),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x320c57)),this['updateColo'+'rData'](_0x47d8cb),this['updateTran'+'sformData'](_0x47d8cb),this['shBands']=_0x47d8cb['shBands'],this['shBands']>-0x4*-0x493+-0x8b*0x2b+0x50d&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x320c57),this['shBands']>-0x35*0x43+0x1349*-0x2+0x3472&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x320c57),this['shBands']>-0x2*0xfbf+0xb*0x129+0x12bd?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x320c57),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x320c57)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x320c57)),this['updateSHDa'+'ta'](_0x47d8cb));}['destroy'](){var _0x4ac2db,_0x11fedc,_0x6b7881,_0x1f021f,_0x24b342,_0x4490a9,_0x104f06,_0x3fd313,_0x16e57d,_0x46b770;(_0x4ac2db=this['colorTextu'+'re'])==null||_0x4ac2db['destroy'](),(_0x11fedc=this['transformA'+'Texture'])==null||_0x11fedc['destroy'](),(_0x6b7881=this['transformB'+'Texture'])==null||_0x6b7881['destroy'](),(_0x1f021f=this['transformR'+'Texture'])==null||_0x1f021f['destroy'](),(_0x24b342=this['transformT'+'SpeedTextu'+'re'])==null||_0x24b342['destroy'](),(_0x4490a9=this['transformT'+'Texture'])==null||_0x4490a9['destroy'](),(_0x104f06=this['sh1to3Text'+'ure'])==null||_0x104f06['destroy'](),(_0x3fd313=this['sh4to7Text'+'ure'])==null||_0x3fd313['destroy'](),(_0x16e57d=this['sh8to11Tex'+'ture'])==null||_0x16e57d['destroy'](),(_0x46b770=this['sh12to15Te'+'xture'])==null||_0x46b770['destroy']();}['createMate'+'rial'](_0x59ba8e){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0x185cf5=z0(_0x59ba8e);return _0x185cf5['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x185cf5['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x185cf5['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x185cf5['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0x185cf5['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0x185cf5['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0x185cf5['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x185cf5['setDefine']('SH_BANDS',this['shBands']),_0x185cf5['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x185cf5['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x185cf5['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x185cf5['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x185cf5['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0x185cf5;}['evalTextur'+'eSize'](_0x5e9884){const _0x692cc0=Math['ceil'](Math['sqrt'](_0x5e9884)),_0x2f4043=Math['ceil'](_0x5e9884/_0x692cc0);return new $(_0x692cc0,_0x2f4043);}['createText'+'ure'](_0x192a6e,_0x2e7ed8,_0x1c7485){return new he(this['device'],{'name':_0x192a6e,'width':_0x1c7485['x'],'height':_0x1c7485['y'],'format':_0x2e7ed8,'cubemap':!(-0x1a17+-0x4*-0xaa+0x1770),'mipmaps':!(-0x1f81+-0x5ef*-0x4+0x7c6),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['updateColo'+'rData'](_0x942e8f){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x1bef65=this['colorTextu'+'re'];if(!_0x1bef65)return;const _0x32759e=$t['float2Half'],_0x36e0d7=_0x1bef65['lock'](),_0x1845eb=_0x942e8f['getProp']('f_dc_0'),_0xbd3adb=_0x942e8f['getProp']('f_dc_1'),_0x3c2369=_0x942e8f['getProp']('f_dc_2'),_0x552310=_0x942e8f['getProp']('opacity'),_0x33afa8=-0x48f*-0x1+-0x1*0x1999+-0x150a*-0x1+0.28209479177387814;for(let _0x639b05=0xd71+-0x1add+-0x4*-0x35b;_0x639b05<this['numSplats'];++_0x639b05){const _0x158abb=_0x1845eb[_0x639b05]*_0x33afa8+(-0x8cb*0x2+-0x7f*-0x3+0x1019*0x1+0.5),_0x15d25c=_0xbd3adb[_0x639b05]*_0x33afa8+(-0x699*-0x2+0xd*0x239+0x19*-0x1af+0.5),_0x383fcd=_0x3c2369[_0x639b05]*_0x33afa8+(0xa12+-0x4*-0x7a5+-0x28a6+0.5),_0x5d2327=(-0x2b3*-0x9+-0x2634+-0x1*-0xdea)/(-0x162c+0x31*-0x97+0x4*0xcc5+Math['exp'](-_0x552310[_0x639b05]));_0x36e0d7[_0x639b05*(0xec3*0x1+0x82*-0x19+0x19*-0x15)+(0x19d3+-0xc09+-0xdca)]=_0x32759e(_0x158abb),_0x36e0d7[_0x639b05*(-0x2a+-0x1d72+0x1da0)+(0x17c1+-0x303*0x7+-0x2ab)]=_0x32759e(_0x15d25c),_0x36e0d7[_0x639b05*(-0x5*-0x5ad+0x5*0x4c4+-0x3431)+(0xcfb+-0x1*0x159b+0x8a2)]=_0x32759e(_0x383fcd),_0x36e0d7[_0x639b05*(-0xaa4*-0x1+-0x97e+-0x122)+(0x105c*-0x2+-0x2250+0x430b)]=_0x32759e(_0x5d2327);}_0x1bef65['unlock']();}['updateTran'+'sformData'](_0x344fc3){var _0x4ef5be,_0x4c6601,_0xe615fe,_0x274a46;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x16deb0=$t['float2Half'];if(!this['transformA'+'Texture'])return;const _0x265ef9=this['transformA'+'Texture']['lock'](),_0x38c0f0=new Float32Array(_0x265ef9['buffer']),_0x480fe6=this['transformR'+'Texture']['lock'](),_0x59c2c8=new Float32Array(_0x480fe6['buffer']),_0xe7cf5d=this['transformB'+'Texture']['lock'](),_0xc2caa0=(_0x4ef5be=this['transformT'+'SpeedTextu'+'re'])==null?void(0xed5*0x2+0x9d9*0x1+-0x253*0x11):_0x4ef5be['lock']();let _0x340a55;_0xc2caa0&&(_0x340a55=new Float32Array(_0xc2caa0['buffer']));const _0x2bb3fe=(_0x4c6601=this['transformT'+'Texture'])==null?void(0x1*-0x481+-0x1*-0xce9+-0x868):_0x4c6601['lock']();let _0xcf0f27;_0x2bb3fe&&(_0xcf0f27=new Float32Array(_0x2bb3fe['buffer']));const _0x39aa25=new T(),_0xc365be=new se(),_0x3c4455=new T(),_0x495ba9=new T(),_0x2cb111=_0x344fc3['createIter'](_0x39aa25,_0xc365be,_0x3c4455,null,_0x495ba9),_0xfd294e=_0x344fc3['getProp']('t'),_0x1a3af8=_0x344fc3['getProp']('t_scale');for(let _0x76faac=0x1*0x257f+-0x2512+-0x1*0x6d;_0x76faac<this['numSplats'];_0x76faac++)_0x2cb111['read'](_0x76faac),_0xc365be['normalize'](),_0xc365be['w']<0x774+0x4a4+-0xc18&&_0xc365be['mulScalar'](-(0x1f06+0x2*-0xb+-0x1*0x1eef)),_0x38c0f0[_0x76faac*(-0x2285+-0x7cd*0x1+0x2a56)+(0x1ce6+0x1*-0xdb1+0xe5*-0x11)]=_0x39aa25['x'],_0x38c0f0[_0x76faac*(-0x1537*0x1+-0xa0*-0x4+-0x12bb*-0x1)+(0x6c0+-0x190a*-0x1+0x67*-0x4f)]=_0x39aa25['y'],_0x38c0f0[_0x76faac*(0x22fa+-0x1643+-0xcb3)+(-0x131e+0x1de4+-0x34*0x35)]=_0x39aa25['z'],_0xe7cf5d[_0x76faac*(-0x24d4+0xae3+0x19f5*0x1)+(0x1018+-0x1*-0x1de4+-0x2dfc)]=_0x16deb0(_0x3c4455['x']),_0xe7cf5d[_0x76faac*(0x416+-0x6c3+0x2b1)+(0x3*0x91f+-0x12b3+-0x2e3*0x3)]=_0x16deb0(_0x3c4455['y']),_0xe7cf5d[_0x76faac*(-0x40d*-0x1+-0x204a+-0x96b*-0x3)+(-0x1483*0x1+-0x1*0xa3f+-0x16*-0x166)]=_0x16deb0(_0x3c4455['z']),_0x59c2c8[_0x76faac*(-0x83c+-0x1db4+-0x4*-0x97d)+(-0x5cf*0x4+0x1053+0x6e9)]=_0xc365be['x'],_0x59c2c8[_0x76faac*(-0x2278+-0x1*0x1163+0x33df)+(0xce5*0x1+-0x3*-0x83f+-0x13*0x1fb)]=_0xc365be['y'],_0x59c2c8[_0x76faac*(-0x1*-0x1e71+-0xa*0x59+-0x1af3)+(0x114c+0x101f+-0xb23*0x3)]=_0xc365be['z'],this['is4D']&&_0x340a55&&_0xcf0f27&&(_0x340a55[_0x76faac*(-0x1*-0x2185+-0xdbe+-0x13c3)+(-0x22f0+-0x2494+-0x17*-0x31c)]=_0x495ba9['x'],_0x340a55[_0x76faac*(-0x1*-0x2113+0x1*-0x23af+0x18*0x1c)+(0x250*0x10+-0xd14+0x1d7*-0xd)]=_0x495ba9['y'],_0x340a55[_0x76faac*(-0xebb+-0x1*-0x14d1+-0x2a*0x25)+(-0x222a*0x1+0x2f*-0x1b+0x1b*0x173)]=_0x495ba9['z'],_0xcf0f27[_0x76faac*(-0x5d1+-0x1*-0xf0b+-0x9*0x106)+(-0x11b4+0x38+-0xc*-0x175)]=_0xfd294e?_0xfd294e[_0x76faac]:-0x1bb+0x1dfd+-0x1c42,_0xcf0f27[_0x76faac*(0xb3c+0x3a9*0x1+0xee1*-0x1)+(-0xa10+-0x1f*-0xa1+0x11*-0x8e)]=_0x1a3af8?Math['exp'](_0x1a3af8[_0x76faac]):-0x197b+0xeb9+0x22*0x51);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0xe615fe=this['transformT'+'SpeedTextu'+'re'])==null||_0xe615fe['unlock'](),(_0x274a46=this['transformT'+'Texture'])==null||_0x274a46['unlock']();}['updateSHDa'+'ta'](_0x382675){var _0x24671e,_0x1b890c,_0x44bcd7,_0xb8a36b,_0x47e26a,_0xfb795a,_0x294583;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x5a81f6=(_0x24671e=this['sh1to3Text'+'ure'])==null?void(-0x9c8+0x5*0x31e+-0x2e7*0x2):_0x24671e['lock'](),_0x26fdbd=(_0x1b890c=this['sh4to7Text'+'ure'])==null?void(-0xbae+0xf73+-0x3c5):_0x1b890c['lock'](),_0x30f77e=(_0x44bcd7=this['sh8to11Tex'+'ture'])==null?void(-0x91*-0x23+0xdd8+0x297*-0xd):_0x44bcd7['lock'](),_0x563d7e=(_0xb8a36b=this['sh12to15Te'+'xture'])==null?void(-0x3*-0x5de+-0x845+-0x955):_0xb8a36b['lock'](),_0x36c780={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x466477=U_(_0x382675,_0x36c780*(-0x1df*-0xc+-0x217e+0x3af*0x3)),_0x50c6f=-0xca*0x1a+-0x26a5+0x4328,_0x173575=0x11ea*-0x1+0x60d+0xfdc,_0x1e49f1=new Float32Array(-0x39*0xa1+-0x68e+0x2a68),_0x594549=new Uint32Array(_0x1e49f1['buffer']),_0x43823b=new Array(_0x36c780*(-0x1*-0x1499+-0x1f72+0xadc))['fill'](0x2*0x2f9+0x99b*-0x4+0x207a);for(let _0x2f7a0c=-0x1875+0xb3*0x20+0x215;_0x2f7a0c<_0x382675['numSplats'];++_0x2f7a0c){for(let _0x4e4e24=-0xd4c+-0x16*-0x30+0x4*0x24b;_0x4e4e24<_0x36c780;++_0x4e4e24)_0x43823b[_0x4e4e24*(0x1cd7+0x5ab+0x227f*-0x1)]=_0x466477[_0x4e4e24][_0x2f7a0c],_0x43823b[_0x4e4e24*(0x3dd+0x1bca+-0x1fa4)+(-0x1b8a+0x117d+0xa0e)]=_0x466477[_0x4e4e24+_0x36c780][_0x2f7a0c],_0x43823b[_0x4e4e24*(0x74f*0x5+0x59b+-0x2a23)+(-0x20aa+-0x36d*0x1+0x2419)]=_0x466477[_0x4e4e24+_0x36c780*(0x1ca4*-0x1+-0x2349*0x1+0x3fef)][_0x2f7a0c];let _0x546fdd=_0x43823b[-0x457*0x6+-0x4b2*-0x4+0x2*0x3a1];for(let _0x16f6c7=0x20b6*0x1+0xa42+-0x2af7;_0x16f6c7<_0x36c780*(-0x4e*0x32+-0x3ed+0x132c);++_0x16f6c7)_0x546fdd=Math['max'](_0x546fdd,Math['abs'](_0x43823b[_0x16f6c7]));if(_0x546fdd!==-0xa*0xfa+-0x14a+0xb0e){for(let _0x512abd=-0x28+-0x1*-0xc7a+-0xc52;_0x512abd<_0x36c780;++_0x512abd)_0x43823b[_0x512abd*(-0x24d1+0x3*0x47+-0x1*-0x23ff)+(0x64d+0x26fa*-0x1+0x20ad)]=Math['max'](0x1*-0x5d1+0xd*0x29+-0x3bc*-0x1,Math['min'](_0x50c6f,Math['floor']((_0x43823b[_0x512abd*(0x1*0x19cf+0xa72*0x1+-0x2*0x121f)+(-0x421+-0x1057+-0x1478*-0x1)]/_0x546fdd*(-0x2cc*-0xb+-0x3*-0x977+-0xd*0x48d+0.5)+(-0x12cb+0x1b0+0x1*0x111b+0.5))*_0x50c6f+(-0x1*-0x4d3+0x24ea+0x29bd*-0x1+0.5)))),_0x43823b[_0x512abd*(-0x8*-0x1da+0x2419+0xa*-0x517)+(-0x1f25+0x1f*-0x1e+-0x6*-0x5cc)]=Math['max'](-0x9*-0x147+-0x27d*0x5+0xf2,Math['min'](_0x173575,Math['floor']((_0x43823b[_0x512abd*(0x1d11*-0x1+-0x14a5*0x1+0x3*0x1093)+(0x79*0x6+0x18fc+-0x1*0x1bd1)]/_0x546fdd*(-0x2145+-0x6*0x623+0x3*0x175d+0.5)+(0x337*-0x2+-0x16a2+0x1d10+0.5))*_0x173575+(0x1*-0x12af+0x1cc1+-0xa12+0.5)))),_0x43823b[_0x512abd*(0x49d+-0x609+0x16f*0x1)+(0x1*-0x2e5+-0xb1*-0x24+-0x15fd)]=Math['max'](0x2ba*-0x2+-0x24fb*-0x1+-0x1f87,Math['min'](_0x50c6f,Math['floor']((_0x43823b[_0x512abd*(-0x1f*-0xa3+-0xdeb*-0x2+0x4*-0xbe4)+(-0x1b81*-0x1+-0x6a*-0x1+0x1be9*-0x1)]/_0x546fdd*(-0x73b+0x2*0xc85+-0x11cf+0.5)+(-0xc9f+-0x1*-0x4cf+0x7d0+0.5))*_0x50c6f+(-0x1e2*-0x7+-0xb27*0x1+0x1*-0x207+0.5))));_0x1e49f1[0x11*0xea+-0x487*0x3+-0x1f5]=_0x546fdd,_0x5a81f6[_0x2f7a0c*(0xd8*0xe+0x119+-0xce5)+(0x3ba+0x261*0x1+0x3*-0x209)]=_0x594549[0x14b3*0x1+-0x1*-0xa91+0x3*-0xa6c],_0x5a81f6[_0x2f7a0c*(-0x3e*-0x2e+0x10b2+-0xde9*0x2)+(0x1fda+0xc*-0x204+-0x7a9)]=_0x43823b[0x1d3*0xe+-0xfee+-0x19a*0x6]<<-0x5*-0x436+0x2374+-0x386d|_0x43823b[-0x18a1+0x119*0x11+-0x1*-0x5f9]<<0x47*-0x2f+0x312+0xa02|_0x43823b[0x1*-0x853+-0xb*-0x5+-0x1*-0x81e],_0x5a81f6[_0x2f7a0c*(-0x10c3*-0x2+0x260e+0x8*-0x8f2)+(-0x36*0x35+-0x4f+0xb7f)]=_0x43823b[0x1eeb+-0x1*-0x752+-0x2*0x131d]<<-0xe*0x251+-0xdb9+-0x4*-0xb8f|_0x43823b[0xbea+-0xbf3+-0xd*-0x1]<<0x335+0x22e1+-0x260b|_0x43823b[0x45*0x1d+-0x1*-0x95+-0x861],_0x5a81f6[_0x2f7a0c*(0xf8d+-0x4*0x685+0xa8b)+(0xd0a+0x1d*-0xd3+0xae0)]=_0x43823b[-0x5f*-0x1a+0x8bf*-0x2+-0x2*-0x3ef]<<-0x245a+0xe*0x1e3+0x3*0x357|_0x43823b[0x16f1+-0x7*0xd+-0x168f]<<-0x207f*0x1+0x60f+0x1a7b|_0x43823b[0x355*0x1+0x5ab+-0x2*0x47c],this['shBands']>0x26b+-0xee9+0xc7f&&(_0x26fdbd[_0x2f7a0c*(-0x267*0xe+0x54*0x2e+0x128e)+(-0x1b78+-0x1dc2+0xa*0x5b9)]=_0x43823b[-0x15da*0x1+-0x1b*0x9b+0x263c*0x1]<<-0x21ee+0x1*-0x2225+0x4428|_0x43823b[0x607+0x1c81+-0x227e]<<-0x1dd1+-0x21*-0xd6+0x246|_0x43823b[0x514+-0x9ff+-0x5*-0xfe],_0x26fdbd[_0x2f7a0c*(-0x1*0x1139+-0x70b+0x6*0x40c)+(-0x1ea*0x2+-0x47b+-0x10a*-0x8)]=_0x43823b[-0x180*-0x12+-0x103a+0x55d*-0x2]<<0x127c*-0x1+-0x2*-0x37a+-0x3df*-0x3|_0x43823b[0x1cfa+0xfc6*0x2+-0x3c79]<<0x4a*-0x4f+0x3*0x139+-0x1*-0x1336|_0x43823b[0x394*-0x7+-0x1*-0x26a2+-0xd88],_0x26fdbd[_0x2f7a0c*(-0xc34*0x1+-0x5*0x58+0x6f8*0x2)+(-0x1*0xbe7+0x3*0xce7+-0x1acc)]=_0x43823b[0x1*-0xf8+-0xa77+-0x1*-0xb7e]<<-0x5*0xcd+-0x2*-0xd8+-0x2*-0x133|_0x43823b[0xe79+-0x142e+0x7*0xd3]<<0x361*-0x1+0x2*0xbf8+-0x1484|_0x43823b[0x136e+-0x71*-0x17+0x761*-0x4],_0x26fdbd[_0x2f7a0c*(0x1fe6+0x16d*-0xa+0x10*-0x11a)+(0x1*0x9ea+0xe2b+-0x1812)]=_0x43823b[0x686+0x4*0x59c+-0x4*0x739]<<0x1*0x1da7+-0x1ad3+-0x2bf|_0x43823b[0x20ee+0x1b7*0x3+-0x4c*0x80]<<-0x4e8*0x5+-0xf71+0x2804|_0x43823b[0x605+0x832+-0xe23],this['shBands']>0x1b8c+0x10c0+-0x2c4a?(_0x30f77e[_0x2f7a0c*(0xd4*-0x24+0x5a4+0x56*0x48)+(0xe58*0x2+-0x720+-0x8a*0x28)]=_0x43823b[0x1b2c+0x1de6+-0x38fd]<<0x1*0x8df+0x16c3+0x1*-0x1f8d|_0x43823b[-0x16d9+0x2d*-0x13+0x461*0x6]<<0xdd9+0x14f*0xd+0x7*-0x467|_0x43823b[-0x6da+-0x1*-0x1445+-0xd54],_0x30f77e[_0x2f7a0c*(0x1e15+0x193*-0x14+0x16b*0x1)+(-0x1*0x1520+-0x624+0x1b45)]=_0x43823b[-0x1cd1+-0x1b81+0x386a]<<-0x7*0x2f5+-0x7f3+0x1cbb*0x1|_0x43823b[0x127*0x4+-0x11*-0x106+-0x15e9]<<-0x62b*-0x4+0xf5b+-0x27fc|_0x43823b[-0x96a*-0x1+0x2f9+-0x275*0x5],_0x30f77e[_0x2f7a0c*(-0x1e2e+0x1288+0xbaa)+(-0x191b+0x757*0x1+0x11c6)]=_0x43823b[-0x5*0x24b+-0x220b+0x2d9d]<<-0x6ed*0x3+0x1386+0x9*0x26|_0x43823b[0x559*-0x3+-0x1*-0x22f+0xdf8]<<-0x14f5+0xb27*0x1+0x9d9|_0x43823b[-0x2163+0x8*-0xe6+0x28b0],_0x30f77e[_0x2f7a0c*(-0xd90+-0x809+0x159d)+(0x26b*-0x4+-0x97b*0x1+-0x132a*-0x1)]=_0x43823b[-0x207c+0xa7e+0x161c]<<0x157*-0x3+-0x176e*-0x1+-0x1354|_0x43823b[0xb2d+-0x259*0xa+0x13e*0xa]<<0x20b1+-0x1bbe*-0x1+0xf19*-0x4|_0x43823b[0xeb5+0x1812+-0x26a7],_0x563d7e[_0x2f7a0c*(-0x22d6+-0xdf*-0x1b+0x1*0xb55)+(-0xee9*-0x1+0x8*-0x1d2+-0x59)]=_0x43823b[0xb0e+0x19f8+-0x24e5]<<0x5*-0x7a5+0x12a3+0x13ab|_0x43823b[0xef8+-0x120c+-0x6*-0x89]<<0x7a*-0x38+-0x59*-0x5f+-0x2*0x326|_0x43823b[0xb09+0x2523*0x1+-0x1003*0x3],_0x563d7e[_0x2f7a0c*(-0x1a9b+0x141*0x1f+-0x2*0x620)+(-0x5d3*0x2+-0x7ed*0x3+0x1*0x236e)]=_0x43823b[0x1bd4+-0x124b+0x25*-0x41]<<0x10c8+0x895*0x3+-0x1539*0x2|_0x43823b[-0x150b+-0x24ff+0x3a2f]<<0x65c+-0x1e9a+0x1849|_0x43823b[0x1b5e+0x7a1+-0x22d9],_0x563d7e[_0x2f7a0c*(0x1fd*0x7+-0x11c0+0x3d9)+(-0x301*-0x9+-0x1730+-0x3d7)]=_0x43823b[0xe7a+-0x4d3*-0x3+-0x13*0x184]<<-0x7*0x1c4+0x238f+-0x16*0x10d|_0x43823b[-0x1471*0x1+-0x1653+0x86*0x52]<<-0x1e0a+-0x2*0x8a1+0x2f57*0x1|_0x43823b[-0x5f8*0x3+0x15fa+-0x3e9],_0x563d7e[_0x2f7a0c*(-0x14e3+-0x10b2+0x2599)+(0xe46+0x1106*-0x1+0x2c3)]=_0x43823b[-0x4b1+0x2428+-0x1f4d]<<0x1*0x1e1+-0x1*0x100d+0xe41|_0x43823b[-0x1eb5+-0x22f6+0x41d6]<<-0x927*-0x2+0x1d3a+-0x1*0x2f7d|_0x43823b[0x262d+0x153d+-0x2*0x1d9f]):_0x30f77e[_0x2f7a0c]=_0x43823b[0x4a3+-0x4c4+0x36]<<0x1*0x1fb7+0x46*-0x86+0x2*0x281|_0x43823b[-0x19d6+-0x1828+0x190a*0x2]<<0x1*-0x39d+0x210b+-0x1d63|_0x43823b[-0x99f*-0x4+0x4*-0x768+-0x1c1*0x5]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x47e26a=this['sh4to7Text'+'ure'])==null||_0x47e26a['unlock'](),(_0xfb795a=this['sh8to11Tex'+'ture'])==null||_0xfb795a['unlock'](),(_0x294583=this['sh12to15Te'+'xture'])==null||_0x294583['unlock']();}['updateSHDa'+'taByWorker'](_0x51f629){const _0x3dd30c={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x14529b=U_(_0x51f629,_0x3dd30c*(-0x2e5+-0xc22+0xf0a));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x51f629['numSplats'],this['shBands'],_0x14529b),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x28b716,_0x91eb0c,_0x59bfbe,_0x519b43)=>{var _0xa9c48b,_0x1937e7,_0x598b96,_0x1f2089,_0x23ba0c,_0x11168e,_0x32f40b,_0x1f95c0,_0x25d404,_0x3ac2f7;const _0xc826ed=(_0xa9c48b=this['sh1to3Text'+'ure'])==null?void(-0x3a0+-0xae*-0x17+-0xc02):_0xa9c48b['lock']();if(new Uint32Array(_0xc826ed['buffer'])['set'](_0x28b716),(_0x1937e7=this['sh1to3Text'+'ure'])==null||_0x1937e7['unlock'](),this['shBands']>-0xf21+-0x1*-0x1e41+-0xf1f){const _0x3d48f5=(_0x598b96=this['sh4to7Text'+'ure'])==null?void(0x183e+-0xd8*0x1+-0x1766):_0x598b96['lock']();if(new Uint32Array(_0x3d48f5['buffer'])['set'](_0x91eb0c),(_0x1f2089=this['sh4to7Text'+'ure'])==null||_0x1f2089['unlock'](),this['shBands']>0x81*0x9+-0x2373+-0x2*-0xf76){const _0x280507=(_0x23ba0c=this['sh8to11Tex'+'ture'])==null?void(-0x18d*0xe+-0x1*-0xbf3+0x9c3):_0x23ba0c['lock']();new Uint32Array(_0x280507['buffer'])['set'](_0x59bfbe),(_0x11168e=this['sh8to11Tex'+'ture'])==null||_0x11168e['unlock']();const _0x276f9b=(_0x32f40b=this['sh12to15Te'+'xture'])==null?void(-0x3a1*-0xa+0x13*-0x1d3+-0x8b*0x3):_0x32f40b['lock']();new Uint32Array(_0x276f9b['buffer'])['set'](_0x519b43),(_0x1f95c0=this['sh12to15Te'+'xture'])==null||_0x1f95c0['unlock']();}else{const _0x59874b=(_0x25d404=this['sh8to11Tex'+'ture'])==null?void(-0x2340+-0x10bf+0x1155*0x3):_0x25d404['lock']();new Uint32Array(_0x59874b['buffer'])['set'](_0x59bfbe),(_0x3ac2f7=this['sh8to11Tex'+'ture'])==null||_0x3ac2f7['unlock']();}}});}}async function G1(){let _0x3029a3=null,_0x235278=null,_0x1b2b68=null,_0x3aef71=null,_0x1d5101=null,_0x3876aa=null,_0x3dc909=null,_0x340c33=null,_0xf2f5f5=null,_0x70897a=null,_0x501324=null,_0x59e88e=null,_0x33c38c=null,_0x48b5b3=null,_0x36842b=null,_0x1308ff=null,_0x5a0bad=null,_0x38b42e=null,_0x4635e6=null,_0x261e7e=null,_0x5a956f=null,_0x58f146=null,_0x56f863=null,_0x582bc9=null,_0x2498e4=null,_0x1a7f2e=Float32Array['BYTES_PER_'+'ELEMENT'],_0x81233d=Uint32Array['BYTES_PER_'+'ELEMENT'],_0xf59e25=-0x52d+0xd5b+-0x82e,_0x57f996=!(0x3*0x29+-0x8b2+-0x3*-0x2bd),_0x1a2182,_0x56fc5a,_0x28630d={'x':0x0,'y':0x0,'z':0x0},_0x5d1081={'x':0x0,'y':0x0,'z':0x0},_0x3b17bd=!(0x269f*-0x1+0x1cbf*0x1+-0x9e0*-0x1),_0x29e1e5=!(0x1d*0x6e+0x8*0x199+-0x1*0x193d),_0x56ad7d=!(-0x1504+-0x57b*-0x4+-0xe7),_0x8d847=-0x4a1*0x6+-0x1*-0xb7a+0x7*0x254,_0x192ca3=-0x1ce5+-0xb*-0x283+0x51*0x4,_0x348091=!(0x9*0xd5+-0x151d+0x48b*0x3),_0x352e5b=null;self['onmessage']=async _0x46e47e=>{const {data:_0x15f9de}=_0x46e47e;switch(_0x15f9de['type']){case'initWorker':_0xf59e25=_0x15f9de['numSplats'],_0x18f2e6(),_0x57f996=_0x15f9de['is4d'],await _0x989acc(_0x15f9de['sortWasmUr'+'l']),_0x2afb20(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x15f9de['dataReady']){if(_0x3876aa&&_0x15f9de['centers']&&_0x3876aa['length']===_0x15f9de['centers']['length']){const _0x503587=new Float32Array(_0x15f9de['centers']);_0x3876aa['set'](_0x503587);}if(_0xf2f5f5&&_0x15f9de['timeIndex']&&_0xf2f5f5['length']===_0x15f9de['timeIndex']['length']){const _0x32d4e3=new Uint32Array(_0x15f9de['timeIndex']);_0xf2f5f5['set'](_0x32d4e3);}if(_0x59e88e&&_0x15f9de['motion']&&_0x59e88e['length']===_0x15f9de['motion']['length']){const _0x53610=new Float32Array(_0x15f9de['motion']);_0x59e88e['set'](_0x53610);}if(_0x57f996&&_0x70897a&&_0x501324&&_0x15f9de['muT']&&_0x15f9de['tScale']&&_0x70897a['length']===_0x15f9de['muT']['length']&&_0x501324['length']===_0x15f9de['tScale']['length']&&(_0x70897a['set'](_0x15f9de['muT']),_0x501324['set'](_0x15f9de['tScale'])),_0x3dc909){for(let _0xc0a107=0x6*-0x66e+-0x3db*-0x8+0x7bc;_0xc0a107<_0x3dc909['length'];++_0xc0a107)_0x3dc909[_0xc0a107]=_0xc0a107;}_0x1d5101&&_0x15f9de['timeOption']&&_0x1d5101['set'](_0x15f9de['timeOption']),setTimeout(()=>{_0x3863b7();},-0x256a+-0x817*0x3+0x3daf);}break;case'setTime':_0x1a2182=_0x15f9de['time'],_0x1783a7();break;case'setUseTemp'+'oralSort':_0x3b17bd=_0x15f9de['useTempora'+'lSort'];break;case'sort':if(!_0x1b2b68)return;_0x1b2b68[0x2100+-0x1204+-0xefc]=_0x15f9de['cameraPosi'+'tion']['x'],_0x1b2b68[-0x1*-0x25dd+-0x1f*0xdd+-0x1*0xb19]=_0x15f9de['cameraPosi'+'tion']['y'],_0x1b2b68[0x67*-0x11+-0x13b7+-0x28*-0xaa]=_0x15f9de['cameraPosi'+'tion']['z'],_0x3aef71[0x1737+0x34d+0x1*-0x1a84]=_0x15f9de['cameraDire'+'ction']['x'],_0x3aef71[-0x1a8e+0x5dc+0x7*0x2f5]=_0x15f9de['cameraDire'+'ction']['y'],_0x3aef71[-0xb*-0x4f+-0x14c1+0x39*0x4e]=_0x15f9de['cameraDire'+'ction']['z'],_0x1783a7();break;}};const _0x1783a7=()=>{_0x352e5b&&clearTimeout(_0x352e5b),_0x352e5b=setTimeout(()=>{_0x352e5b=null,_0x3477ac();},-0x47d+0x1*-0x205f+0x24dc);},_0x18f2e6=()=>{_0x192ca3=Math['max'](0x29*-0x43+-0x3*0x5d9+0x1c50,Math['min'](-0x535+-0x497+0x9e0,Math['round'](Math['log2'](_0xf59e25/(0x1*-0x955+-0x9*0x24b+0x1dfc))))),_0x8d847=(0x72a*-0x5+-0x2*-0x1db+0x201e*0x1)**_0x192ca3+(-0x11f1+-0x1607*-0x1+-0x1*0x415);},_0x2afb20=()=>(_0x33c38c=-0x2*0x70a+-0x3*0x59b+-0xb*-0x2cf,_0x48b5b3=_0x33c38c+_0xf59e25*_0x1a7f2e*(0x2*0x1021+0x212e+-0x416d),_0x4635e6=_0x48b5b3+(0x3d2*-0x3+0x5a5*0x6+-0x1604)*_0x1a7f2e*(-0x47*-0x4b+0x5*0x106+-0x19e9),_0x261e7e=_0x4635e6+_0xf59e25*_0x81233d,_0x5a956f=_0x261e7e+(-0x263*0x9+-0xf*-0x228+-0x1*0xada)*_0x1a7f2e,_0x58f146=_0x5a956f+(0x1f0+-0x7f8+0x60b)*_0x1a7f2e,_0x56f863=_0x58f146+(-0x23de+0x1*-0x1a91+0x3e72)*_0x1a7f2e,_0x582bc9=_0x56f863+(-0xbc3*0x3+-0x2*-0xe66+0x680)*_0x1a7f2e,_0x2498e4=_0x582bc9+_0xf59e25*_0x81233d,_0x3876aa=new Float32Array(_0x235278,_0x33c38c,_0xf59e25*(0x863+0x24ad+-0x2d0d)),_0x1d5101=new Float32Array(_0x235278,_0x48b5b3,(0x1*0xdb1+0x7*0x89+-0x110c)*(0x2532+0x15f4+-0x2f5*0x14)),_0x3dc909=new Uint32Array(_0x235278,_0x4635e6,_0xf59e25),_0x340c33=new Uint32Array(_0x3dc909),_0x1b2b68=new Float32Array(_0x235278,_0x261e7e,0x2a3+0x27b*0x7+-0x13fd),_0x3aef71=new Float32Array(_0x235278,_0x5a956f,0x47*0x71+-0x38c*0x1+-0x1bc8),_0x57f996&&(_0x5a0bad=_0x2498e4+_0x8d847*_0x81233d,_0x38b42e=_0x5a0bad+_0xf59e25*_0x1a7f2e,_0x1308ff=_0x38b42e+_0xf59e25*_0x1a7f2e,_0x36842b=_0x1308ff+_0xf59e25*(-0x1*0xa7e+-0x4b*0x63+0x2782)*_0x1a7f2e,_0x70897a=new Float32Array(_0x235278,_0x5a0bad,_0xf59e25),_0x501324=new Float32Array(_0x235278,_0x38b42e,_0xf59e25),_0x59e88e=new Float32Array(_0x235278,_0x1308ff,_0xf59e25*(-0x1521+0x2553+-0x102f)),_0xf2f5f5=new Uint32Array(_0x235278,_0x36842b,_0xf59e25)),{'sharedMemory':_0x235278,'layout':{'timeOptionPtr':_0x48b5b3,'timeIndexPtr':_0x36842b,'centersPtr':_0x33c38c,'motionPtr':_0x1308ff,'muTPtr':_0x5a0bad,'tScalePtr':_0x38b42e,'orderPtr':_0x4635e6,'cameraPositionPtr':_0x261e7e,'cameraDirectionPtr':_0x5a956f,'boundMinPtr':_0x58f146,'boundMaxPtr':_0x56f863,'distancesPtr':_0x582bc9,'countBufferPtr':_0x2498e4}}),_0x989acc=async _0x2c4101=>{let _0x4a5d19=_0xf59e25*_0x1a7f2e*(0x8c0+-0x5ad*-0x2+-0x1417);_0x4a5d19+=_0xf59e25*_0x81233d,_0x4a5d19+=(-0x2d1*0x3+-0xdce+0x64*0x39)*_0x1a7f2e,_0x4a5d19+=(0x2377+0x7d6*0x3+-0x3af6)*_0x1a7f2e,_0x4a5d19+=(0x1a76+-0x5*0x78d+-0x1*-0xb4e)*_0x1a7f2e,_0x4a5d19+=(-0x14fa+-0x1baa+0x30a7)*_0x1a7f2e,_0x4a5d19+=_0xf59e25*_0x1a7f2e,_0x4a5d19+=_0x8d847*_0x81233d,_0x4a5d19+=(0x37*0x5d+0xfb7+-0x234e)*_0x1a7f2e*(0x1d3*0x3+0x573+0x1*-0xaea),_0x4a5d19+=_0xf59e25*_0x81233d,_0x57f996&&(_0x4a5d19+=_0xf59e25*_0x1a7f2e,_0x4a5d19+=_0xf59e25*_0x1a7f2e,_0x4a5d19+=_0xf59e25*_0x1a7f2e*(0x1ca9+0x2329*0x1+-0x3fcf));const _0x2439ec=(-0xaf7+0x1*0x2633+0x13a*-0x16)*(-0x1e02+0x2214+-0x12),_0x5036a5=Math['ceil'](_0x4a5d19/_0x2439ec),_0x557694={'env':{'memory':new WebAssembly['Memory']({'initial':_0x5036a5,'maximum':_0x5036a5,'shared':!(0xe34+0x1f5e+-0x2d92)}),'pthread_self':function(){return-0xd*-0x261+-0xa9*0x29+-0x4*0xf7;},'emscripten_builtin_memalign':function(){return-0x1*-0x1e0d+-0x3*0x8f9+-0x322;},'loggerVec3':(_0x503aa2,_0x59135f,_0x2407d4,_0x28958d)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x503aa2+']\x200:'+_0x59135f+'\x201:'+_0x2407d4+'\x202:'+_0x28958d);},'loggerFloat':(_0x298fe6,_0x5535e0)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x298fe6+']\x20a:'+_0x5535e0);},'loggerValue':(_0x4006fa,_0x274081,_0x2c7ee1,_0x229d65,_0xcf4697)=>{console['log']('C++\x20logger'+'Value\x20['+_0x4006fa+']\x20minDist:'+_0x274081+'\x20maxDist:'+_0x2c7ee1+'\x20range:'+_0x229d65+'\x20divider:'+_0xcf4697);},'loggerCamera':(_0x33dfb4,_0x394bbd,_0x6d870f,_0x1365c1,_0xabe1fc,_0x308105,_0xd746e7)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x33dfb4+']\x20x:'+_0x394bbd+'\x20y:'+_0x6d870f+'\x20z:'+_0x1365c1+'\x20dx:'+_0xabe1fc+'\x20dy:'+_0x308105+'\x20dz:'+_0xd746e7);},'loggerBound':(_0x231b4b,_0x5e3ee2,_0x5803b7,_0x678c66,_0x5808ed,_0x2a9e4d)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x231b4b+'\x20minY:'+_0x5e3ee2+'\x20minZ:'+_0x5803b7+'\x20maxX:'+_0x678c66+'\x20maxY:'+_0x5808ed+'\x20maxZ:'+_0x2a9e4d);},'loggerDebug':_0x371e4e=>{console['log']('C++\x20logger'+'Debug\x20['+_0x371e4e+']');}}};try{const _0x426795=await(await fetch(_0x2c4101))['arrayBuffe'+'r']();return _0x3029a3=(await WebAssembly['instantiat'+'e'](_0x426795,_0x557694))['instance'],_0x235278=_0x557694['env']['memory']['buffer'],_0x3029a3;}catch(_0x52da3c){throw console['error']('加载WASM模块失败'+':',_0x52da3c),_0x52da3c;}},_0x3863b7=()=>{if(!_0x3029a3)return;const {calcAABB:_0x2c97c5}=_0x3029a3['exports'];_0x2c97c5(_0x33c38c,_0x58f146,_0x56f863,_0xf59e25);},_0x3477ac=()=>{if(!_0x3029a3||_0x4635e6===null||_0x33c38c===null||_0x261e7e===null||_0x5a956f===null||_0x58f146===null||_0x56f863===null)return;const _0x5d428b=_0x1b2b68[0x2ef*0xb+-0x54d+-0x1*0x1af8],_0x1c03d5=_0x1b2b68[-0x2558+0x19ce+0xb8b],_0x47a2d9=_0x1b2b68[-0x1*0x16c7+0x1981+-0x2b8],_0x59d5dc=_0x3aef71[-0x2*-0xed7+-0x6d4*-0x3+-0x322a],_0x3af883=_0x3aef71[-0x249e+-0x1*-0x15d0+0xecf],_0x4f6e02=_0x3aef71[-0x128c+-0x33*-0x8c+-0x956*0x1],_0x2f2621=0x67*-0x19+-0xe*0x234+0x28e7+0.001;if(!_0x29e1e5&&Math['abs'](_0x5d428b-_0x28630d['x'])<_0x2f2621&&Math['abs'](_0x1c03d5-_0x28630d['y'])<_0x2f2621&&Math['abs'](_0x47a2d9-_0x28630d['z'])<_0x2f2621&&Math['abs'](_0x59d5dc-_0x5d1081['x'])<_0x2f2621&&Math['abs'](_0x3af883-_0x5d1081['y'])<_0x2f2621&&Math['abs'](_0x4f6e02-_0x5d1081['z'])<_0x2f2621&&Math['abs'](_0x1a2182-_0x56fc5a)<0x1ccc+-0xa*-0x3e0+-0x84*0x83+0.01)return;if(_0x56ad7d){_0x348091=!(-0x26d8+-0x1*-0x1121+0x15b7);return;}_0x56ad7d=!(0x17fe+-0x158f*-0x1+-0x2d8d),_0x29e1e5=!(-0xf2*-0xe+0x779*0x5+-0x2*0x194c),_0x56fc5a=_0x1a2182,_0x28630d['x']=_0x5d428b,_0x28630d['y']=_0x1c03d5,_0x28630d['z']=_0x47a2d9,_0x5d1081['x']=_0x59d5dc,_0x5d1081['y']=_0x3af883,_0x5d1081['z']=_0x4f6e02,_0x348091=!(0x25ec+0x177e+-0x1*0x3d69);const {sortIndexes:_0x31e786}=_0x3029a3['exports'];try{const _0x509dae=_0x31e786(_0x4635e6,_0x33c38c,_0x1308ff,_0x5a0bad,_0x38b42e,_0x261e7e,_0x5a956f,_0x58f146,_0x56f863,_0x582bc9,_0x2498e4,_0x1a2182,_0x3b17bd,_0x57f996,_0xf59e25,_0x8d847,_0x192ca3,_0x48b5b3,_0x36842b);_0x340c33['set'](_0x3dc909),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x509dae,'order':_0x340c33});}catch(_0x57381f){console['error']('排序操作失败:',_0x57381f),self['postMessag'+'e']({'type':'error','error':_0x57381f['message']});}_0x56ad7d=!(-0x7e2+-0x1ffc+-0xad*-0x3b),_0x348091&&_0x1783a7();};}class H1 extends ce{constructor(_0x2442d9,_0xdb3795=!(-0x143c+-0xf99+-0x1*-0x23d5)){super(),c(this,'worker',null),c(this,'numSplats',0xb85+0x86f+-0x13f4),c(this,'is4d',!(-0x148*0x4+-0x1106+-0x3*-0x762)),c(this,'sortStartT'+'ime',-0x1fd7*0x1+0x266+0x1d71),c(this,'orderTextu'+'re'),(this['numSplats']=_0x2442d9,this['is4d']=_0xdb3795,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+G1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x3bbdee=>{if(!this['worker'])return;const {data:_0x5c6a34}=_0x3bbdee;switch(_0x5c6a34['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x5c6a34['order']){const _0x2d6652=this['orderTextu'+'re']['lock']();new Uint32Array(_0x2d6652['buffer'])['set'](_0x5c6a34['order']),this['orderTextu'+'re']['unlock']();}let _0x3dc733=-0xfca+-0x1a58+0x2a22;this['sortStartT'+'ime']!==-0x8b9+0x8a*-0x8+0x47*0x2f&&(_0x3dc733=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x3bbdee['data']['count'],_0x3dc733),this['sortStartT'+'ime']=-0xcd1+0x8d5*-0x3+0x250*0x11;break;case'error':console['error']('Worker错误:',_0x5c6a34['error']),this['fire']('error',_0x5c6a34['error']);break;}};const _0x36e360=('https://4dv-frontend.oss-cn-hangzhou.aliyuncs.com/dist/viewer/1748318561813/sorter.wasm');this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':_0x36e360,'numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x52a271,_0x572762,_0x5bbbd6,_0x55eff6,_0x4f0b15,_0x17761c,_0x3daadb){var _0x5caed8;(!_0x3daadb||_0x3daadb['length']===0x1*-0x1e9d+-0x1a45+0x38e2)&&(_0x3daadb=[-0x2*0x2d1+-0x1c44+-0x2*-0x10f3,0x25e3+0xfc7*0x2+-0x456c]),this['orderTextu'+'re']=_0x52a271,(_0x5caed8=this['worker'])==null||_0x5caed8['postMessag'+'e']({'type':'initData','centers':_0x572762,'muT':_0x5bbbd6,'tScale':_0x55eff6,'motion':_0x4f0b15,'timeIndex':_0x17761c,'timeOption':_0x3daadb,'dataReady':!(-0x124*-0xb+0x26*0xde+-0x2d80)});}['resize'](_0x2a83a0){this['destroy'](),this['numSplats']=_0x2a83a0,this['_initWorke'+'r']();}['setCamera'](_0x56926a,_0x18fc01){this['worker']&&(this['sortStartT'+'ime']===-0x46*0x17+0x3*-0xa4f+0x2537&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x56926a['x'],'y':_0x56926a['y'],'z':_0x56926a['z']},'cameraDirection':{'x':_0x18fc01['x'],'y':_0x18fc01['y'],'z':_0x18fc01['z']}}));}['setCurrent'+'Time'](_0x35eb36){this['worker']&&(this['sortStartT'+'ime']===0x1318+0x2353+-0x366b*0x1&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x35eb36}));}['setUseTemp'+'oralSort'](_0x26c084){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x26c084});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const $1=new q(),On=new T(),kn=new T(),Gl=[0x7d8+-0x26be+0x46a*0x7,0x22e5+0x228f+-0x7f*0x8c];class Np{constructor(_0x4888bf,_0x3f2717){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',0x57d*-0x5+-0x2639+0x41aa),c(this,'lastCamera'+'Position',new T()),c(this,'lastCamera'+'Direction',new T()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x4888bf['numSplats']),this['splat']=_0x4888bf,this['options']=Object['assign'](this['options'],_0x3f2717));const _0x160e06=_0x4888bf['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x21c8ba=-0x112b+-0x79*0x36+0x1*0x2b31,_0x15923d=Math['ceil'](_0x4888bf['numSplats']/_0x21c8ba)*_0x21c8ba/_0x21c8ba,_0x1ae5e4=new Uint32Array(_0x15923d);for(let _0x272b96=-0x102d+0x1a70+-0xa43;_0x272b96<_0x15923d;++_0x272b96)_0x1ae5e4[_0x272b96]=_0x272b96*_0x21c8ba;const _0x27f459=new Et(_0x160e06,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0x7fa+0x3b6+-0xbb0)}]),_0x27459d=new os(_0x160e06,_0x27f459,_0x15923d,{'usage':jt,'data':_0x1ae5e4['buffer']}),_0x342144=new Float32Array((0x7e1+0x1*-0x77+-0x75e)*_0x21c8ba),_0x1a8709=new Uint32Array((0xa84+0x2b*0x18+0xd*-0x11e)*_0x21c8ba);for(let _0x334867=-0x1e65+-0x3*-0x8e6+0x3b3*0x1;_0x334867<_0x21c8ba;++_0x334867){_0x342144['set']([-(-0x1fa1+0x1*-0xb60+0x1e*0x16f),-(0x12c0+-0x2043+0xd84),_0x334867,-0x5*-0x251+-0x1*0xfa7+0x7*0x95,-(0xacc+-0x1*-0x1b73+-0x131f*0x2),_0x334867,0x1317*-0x2+0x1*0xab5+0x1*0x1b7a,0x2647+0x14dd+-0x1*0x3b23,_0x334867,-(0x2d2*0xd+0x8*-0x37+0x22f1*-0x1),0xfef+0xb42+-0x74*0x3c,_0x334867],_0x334867*(-0x14b6+-0x1472*-0x1+0x28*0x2));const _0x24b36e=_0x334867*(-0x1542+0x1*0x1fae+0x8*-0x14d);_0x1a8709['set']([0x1*0x5ab+-0x22a1+0x1cf6+_0x24b36e,0xfbc+-0x17b1+-0x3fb*-0x2+_0x24b36e,0x1ac9*-0x1+0x19*-0x31+0x1f94+_0x24b36e,-0x98f+0x13f6*-0x1+0x1d85+_0x24b36e,0x875+-0x1*-0x1f7b+-0x13f7*0x2+_0x24b36e,0x1*0x8e1+0x1b43*0x1+-0x2421+_0x24b36e],_0x334867*(0x1e88+-0x1420+-0xa62));}const _0x4cb5b8=new Ie(_0x160e06);_0x4cb5b8['setPositio'+'ns'](_0x342144,0x1ffa+0x5*-0x19b+0x17f0*-0x1),_0x4cb5b8['setIndices'](_0x1a8709),_0x4cb5b8['update'](),this['mesh']=_0x4cb5b8,this['mesh']['aabb']['copy'](_0x4888bf['aabb']),this['meshInstan'+'ce']=new Le(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x27459d,!(-0x3c8+0x2155+-0x55*0x59)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=-0x71f+0x3ae+0x371*0x1,(!_0x3f2717['dither']||_0x3f2717['dither']===Rs)&&(this['sorter']=new H1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x264fc4;(_0x264fc4=this['sorter'])==null||_0x264fc4['initData'](this['orderTextu'+'re'],_0x4888bf['centers'],_0x4888bf['muT'],_0x4888bf['tScale'],_0x4888bf['motion'],_0x4888bf['timeIndex'],_0x4888bf['timeOption']);}),this['sorter']['on']('updated',_0x304919=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x304919/_0x21c8ba),this['material']['setParamet'+'er']('numSplats',_0x304919);}));}['updateData'](_0x1c84fb){var _0x2c58de;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x1c84fb['numSplats']),this['splat']=_0x1c84fb;const _0x48565f=_0x1c84fb['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x53c07f=-0x1*0x2519+-0x168f+-0x16*-0x2bc,_0x2508b9=Math['ceil'](_0x1c84fb['numSplats']/_0x53c07f)*_0x53c07f/_0x53c07f,_0x891f55=new Uint32Array(_0x2508b9);for(let _0x26a060=-0xb88+0x9ea+-0x19e*-0x1;_0x26a060<_0x2508b9;++_0x26a060)_0x891f55[_0x26a060]=_0x26a060*_0x53c07f;const _0x49de05=new Et(_0x48565f,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0x5*0x3b9+-0x5*-0xc9+-0xb45*0x2)}]),_0x391f13=new os(_0x48565f,_0x49de05,_0x2508b9,{'usage':jt,'data':_0x891f55['buffer']});this['mesh']['aabb']['copy'](_0x1c84fb['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x391f13,!(0x10d6+0x362*-0x4+-0x34e*0x1)),this['meshInstan'+'ce']['instancing'+'Count']=0x1070+0x799+-0x15*0x125,(_0x2c58de=this['sorter'])==null||_0x2c58de['resize'](_0x1c84fb['numSplats']);}['releaseSeq'](_0x36d641){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x36d641);}['destroy'](){var _0x1591e5,_0x17cedb,_0x4d0a93;(_0x1591e5=this['material'])==null||_0x1591e5['destroy'](),(_0x17cedb=this['meshInstan'+'ce'])==null||_0x17cedb['destroy'](),(_0x4d0a93=this['sorter'])==null||_0x4d0a93['destroy']();}['clone'](){return new Np(this['splat'],this['options']);}['createMate'+'rial'](_0x5aa23d){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x5aa23d),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x28107f=this['splat']['device'];if(Gl[-0x299*-0xe+-0xb*-0x25+0x1*-0x25f5]=_0x28107f['width'],Gl[0x1597+-0x3c0+-0x11d6]=_0x28107f['height'],this['cameras']['length']>0xd62+0x16*-0xf6+0x7c2){const _0x34a8fb=this['cameras'][0x1086+-0x2f*-0x8d+0x60f*-0x7]['xr'];_0x34a8fb&&_0x34a8fb['active']&&_0x34a8fb['views']['list']['length']===0xb2c+0x31c+-0xe46&&(Gl[-0xbda+0x1*0x213d+-0x1563]/=-0x1751+-0x1112+0x2865);}this['material']['setParamet'+'er']('viewport',Gl);}['sort'](_0x5eaf87){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0xf19588=_0x5eaf87['getWorldTr'+'ansform']();_0xf19588['getTransla'+'tion'](On),_0xf19588['getZ'](kn);const _0x4b6424=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x3dda78=$1['invert'](_0x4b6424);_0x3dda78['transformP'+'oint'](On,On),_0x3dda78['transformV'+'ector'](kn,kn),(!On['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!kn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](On),this['lastCamera'+'Direction']['copy'](kn),this['sorter']['setCamera'](On,kn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>0x14c1*-0x1+0x494*0x1+0x102d*0x1){const _0x3c01b9=this['cameras'][0x1190+-0x17a*-0x19+-0x26*0x16f];this['sort'](_0x3c01b9['_node']),this['cameras']['length']=-0x1*0x1dc5+-0x11f4*-0x1+0xbd1;}}['updateTime'](_0x48304f){this['time']=_0x48304f;}}const W1='FILL_WINDO'+'W',V_='KEEP_ASPEC'+'T',G_='AUTO',q1='FIXED';let U0;function tn(){return U0;}function qu(_0x3e1951){U0=_0x3e1951;}class X1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x21137f){v['assert'](_0x21137f),_0x21137f['frameUpdat'+'e']();const _0x2d6e61=_0x21137f['beforePass'+'es'];for(let _0x5daff5=0x6f*-0x21+-0x1495*0x1+0x22e4;_0x5daff5<_0x2d6e61['length'];_0x5daff5++){const _0x1d4d4f=_0x2d6e61[_0x5daff5];_0x1d4d4f['enabled']&&this['addRenderP'+'ass'](_0x1d4d4f);}_0x21137f['enabled']&&this['renderPass'+'es']['push'](_0x21137f);const _0xdc797c=_0x21137f['afterPasse'+'s'];for(let _0x41ce58=-0x30*-0x2f+-0x1*-0x1b7+-0x181*0x7;_0x41ce58<_0xdc797c['length'];_0x41ce58++){const _0xc3d0e2=_0xdc797c[_0x41ce58];_0xc3d0e2['enabled']&&this['addRenderP'+'ass'](_0xc3d0e2);}}['reset'](){this['renderPass'+'es']['length']=0x787*-0x1+0x1f2a+0x3*-0x7e1;}['compile'](){const _0x483ce4=this['renderTarg'+'etMap'],_0x1dc9d3=this['renderPass'+'es'];for(let _0x3fd618=-0x114b+-0x13b9+0x17*0x19c;_0x3fd618<_0x1dc9d3['length'];_0x3fd618++){const _0x1bf5ba=_0x1dc9d3[_0x3fd618],_0x41da9f=_0x1bf5ba['renderTarg'+'et'];if(_0x41da9f!==void(0x108b+0x1076+0x47*-0x77)){const _0xca1903=_0x483ce4['get'](_0x41da9f);if(_0xca1903){const _0x82279b=_0x1bf5ba['colorArray'+'Ops']['length'];for(let _0x2daf8c=0x1db8+0x15e2+0x5*-0xa52;_0x2daf8c<_0x82279b;_0x2daf8c++)_0x1bf5ba['colorArray'+'Ops'][_0x2daf8c]['clear']||(_0xca1903['colorArray'+'Ops'][_0x2daf8c]['store']=!(0x1*0x8e9+-0x767+0x1*-0x182));_0x1bf5ba['depthStenc'+'ilOps']['clearDepth']||(_0xca1903['depthStenc'+'ilOps']['storeDepth']=!(-0x24ce*-0x1+0x1e*-0x1+0x496*-0x8)),_0x1bf5ba['depthStenc'+'ilOps']['clearStenc'+'il']||(_0xca1903['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x2146*-0x1+0x1b63+0x5e3));}_0x483ce4['set'](_0x41da9f,_0x1bf5ba);}}for(let _0x3fbc7b=0xc0a*0x2+-0x18f8+0xe4;_0x3fbc7b<_0x1dc9d3['length']-(0x1eea+0x1d53+-0x3c3c*0x1);_0x3fbc7b++){const _0x2db2f5=_0x1dc9d3[_0x3fbc7b],_0x95df07=_0x2db2f5['renderTarg'+'et'],_0x1bb58f=_0x1dc9d3[_0x3fbc7b+(0x1ecf+0x1*0x147d+-0x334b)],_0x386363=_0x1bb58f['renderTarg'+'et'];_0x95df07!==_0x386363||_0x95df07===void(0xb3*0xb+0x14*-0x1df+0x1dbb)||_0x1bb58f['depthStenc'+'ilOps']['clearDepth']||_0x1bb58f['depthStenc'+'ilOps']['clearStenc'+'il']||_0x1bb58f['colorArray'+'Ops']['some'](_0x56c441=>_0x56c441['clear'])||_0x2db2f5['afterPasse'+'s']['length']>0x42*0x20+0xf*0x1d9+-0x5d*0x63||_0x1bb58f['beforePass'+'es']['length']>-0x1*0x16+0x17fa+0x17e4*-0x1||(_0x2db2f5['_skipEnd']=!(0x146a*-0x1+-0x5*0x1c7+0x241*0xd),_0x1bb58f['_skipStart']=!(0x1e9b+0x8cd*-0x3+-0x434));}let _0x245839=null,_0x43ee4d=null;for(let _0x5099f9=0xf28+0x1549+-0x1*0x2471;_0x5099f9<_0x1dc9d3['length'];_0x5099f9++){const _0x41bdfe=_0x1dc9d3[_0x5099f9],_0x26573a=_0x41bdfe['renderTarg'+'et'],_0x5c0ecf=_0x26573a==null?void(0x3f*-0x8d+-0xb5*0x7+0x27a6):_0x26573a['colorBuffe'+'r'];if(_0x5c0ecf!=null&&_0x5c0ecf['cubemap']){if(_0x245839===_0x5c0ecf){const _0x419b3c=_0x43ee4d['colorArray'+'Ops']['length'];for(let _0x149ff7=-0x83*-0x1f+0x3*0xd6+0x125f*-0x1;_0x149ff7<_0x419b3c;_0x149ff7++)_0x43ee4d['colorArray'+'Ops'][_0x149ff7]['mipmaps']=!(0xb91+-0xa8c+-0x104);}_0x245839=_0x26573a['colorBuffe'+'r'],_0x43ee4d=_0x41bdfe;}else _0x41bdfe['requiresCu'+'bemaps']&&(_0x245839=null,_0x43ee4d=null);}_0x483ce4['clear']();}['render'](_0x42f228){this['compile']();const _0x2c8536=this['renderPass'+'es'];for(let _0xc797fb=0xa33+-0x8f2+-0x141;_0xc797fb<_0x2c8536['length'];_0xc797fb++)_0x2c8536[_0xc797fb]['render']();}}class j1{constructor(_0x473ff8,_0x17ef74){this['texture0']=_0x473ff8,this['texture1']=_0x17ef74;}['destroy'](){var _0x30c449,_0x2e72fe;(_0x30c449=this['texture0'])==null||_0x30c449['destroy'](),(_0x2e72fe=this['texture1'])==null||_0x2e72fe['destroy']();}}const H_=new Ot();class Wr{static['createText'+'ure'](_0x3a5ee1,_0x344351,_0x4abd64,_0x4db439=''){return new he(_0x3a5ee1,{'name':'AreaLightL'+'UT'+_0x4db439,'width':_0x4abd64,'height':_0x4abd64,'format':_0x344351,'addressU':ae,'addressV':ae,'type':Di,'magFilter':st,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x2*0xa3d+-0xabd+0x128*0x1b)});}static['applyTextu'+'res'](_0x2de21f,_0x6ef602,_0x91d8d4){H_['remove'](_0x2de21f),H_['get'](_0x2de21f,()=>new j1(_0x6ef602,_0x6ef602===_0x91d8d4?null:_0x91d8d4)),_0x2de21f['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x6ef602),_0x2de21f['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x91d8d4);}static['createPlac'+'eholder'](_0x206222){const _0x57a6a4=Wr['createText'+'ure'](_0x206222,Je,0x14e*-0xd+0xa26+0x6d2,'placeholde'+'r');_0x57a6a4['lock']()['fill'](0x1a*0x87+-0x3f*-0x1+0xdf5*-0x1),_0x57a6a4['unlock'](),Wr['applyTextu'+'res'](_0x206222,_0x57a6a4,_0x57a6a4);}static['set'](_0x649ef9,_0x5c86b1,_0x599a5e){function _0x197f23(_0x8eaeb7,_0x33b492,_0x1b3482){const _0x4ead94=Wr['createText'+'ure'](_0x8eaeb7,_0x1b3482,0x3a1*0x9+0x2b*0x8d+0x3818*-0x1);return _0x4ead94['lock']()['set'](_0x33b492),_0x4ead94['unlock'](),_0x4ead94;}function _0x2dcee2(_0x25fee0){const _0x455357=_0x25fee0['length'],_0xf42d15=new Uint16Array(_0x455357),_0x23cb66=$t['float2Half'];for(let _0x262a41=-0x2*-0x3a+-0xbcf+0x13*0x99;_0x262a41<_0x455357;_0x262a41++)_0xf42d15[_0x262a41]=_0x23cb66(_0x25fee0[_0x262a41]);return _0xf42d15;}const _0x44b3e2=_0x5c86b1,_0x211688=_0x599a5e,_0x89d660=_0x2dcee2(_0x44b3e2),_0x3c1c16=_0x2dcee2(_0x211688),_0x144933=_0x197f23(_0x649ef9,_0x89d660,Je),_0x4b12ff=_0x197f23(_0x649ef9,_0x3c1c16,Je);Wr['applyTextu'+'res'](_0x649ef9,_0x144933,_0x4b12ff);}}const $h='en-US',Wh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},zp={};function pr(_0x59e02d,_0x499dfc){for(let _0x58578e=0x15fa+0x11*0xad+-0x2177,_0x7dda38=_0x59e02d['length'];_0x58578e<_0x7dda38;_0x58578e++)zp[_0x59e02d[_0x58578e]]=_0x499dfc;}function pi(_0x5dfeb7){const _0x3ef9ff=_0x5dfeb7['indexOf']('-');return _0x3ef9ff!==-(-0x6d*0x4f+0x124e+0x1a*0x97)?_0x5dfeb7['substring'](0x13*0xa7+-0x12a8*0x1+0x643,_0x3ef9ff):_0x5dfeb7;}function Y1(_0x34717e,_0x3063f1){const _0x2abc5f=_0x34717e['indexOf']('-');return _0x2abc5f!==-(-0x173f*-0x1+-0x675+-0x10c9*0x1)?_0x3063f1+_0x34717e['substring'](_0x2abc5f):_0x3063f1;}function V0(_0x330931,_0x1322b3){if(_0x1322b3[_0x330931])return _0x330931;let _0x42fb20=Wh[_0x330931];if(_0x42fb20&&_0x1322b3[_0x42fb20])return _0x42fb20;const _0x573a75=pi(_0x330931);return _0x42fb20=Wh[_0x573a75],_0x1322b3[_0x42fb20]?_0x42fb20:_0x1322b3[_0x573a75]?_0x573a75:$h;}pr(['ja','ko','th','vi','zh','id'],_0x1d1a67=>0x359+0xc3d*0x1+-0xf96),pr(['fa','hi'],_0x808a5b=>_0x808a5b>=0x15cc+-0x2627+-0x105b*-0x1&&_0x808a5b<=0x2*0x7dc+-0x8b+-0xf2c?0x367+0x5c*-0x34+0x1*0xf49:0x1795*0x1+0x1a09+-0x319d),pr(['fr','pt'],_0x27e6af=>_0x27e6af>=0x92b*0x1+0x2*-0xd79+-0x11c7*-0x1&&_0x27e6af<0x22*0x66+-0xb*0x2f5+0x1*0x12fd?0x20b*-0xb+0x1d30+-0x23d*0x3:0x49*0x25+-0xd46*0x2+0x1000),pr(['da'],_0xb5cd4a=>_0xb5cd4a===0x2209+-0x6*-0x3c6+0x64c*-0x9||!Number['isInteger'](_0xb5cd4a)&&_0xb5cd4a>=0x11d7+-0x14a4+0xef*0x3&&_0xb5cd4a<=0xbc7+-0x1dc4*0x1+0x11fe?-0xa0f*-0x3+0x10d*0x8+0x53*-0x77:0x443*-0x5+0x1ec5+0x975*-0x1),pr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x2b0b08=>_0x2b0b08===-0x19a*0x14+-0x1*0xed5+0x2ede?0x15*0x7a+0x23b6+-0x10a*0x2c:-0x106f+-0x2f9*0x1+-0x1*-0x1369),pr(['ru','uk'],_0x4b5c82=>{if(Number['isInteger'](_0x4b5c82)){const _0x5546d6=_0x4b5c82%(0x1*-0x2401+-0xd50+0x315b),_0x51e97c=_0x4b5c82%(0x3*-0x199+-0x7*0x3ee+0x1*0x20b1);if(_0x5546d6===0xd4+0x1d01+0x53*-0x5c&&_0x51e97c!==-0x1977*-0x1+-0x1*-0x14a3+-0xd*0x38b)return-0x4*-0x34a+0xc6b+-0x1993;if(_0x5546d6>=0x1*0x473+0x1*-0x268a+-0x12d*-0x1d&&_0x5546d6<=0x16cc*-0x1+-0x859*-0x4+0x1*-0xa94&&(_0x51e97c<-0x4*0x77b+-0x23*0x9+0x1f33*0x1||_0x51e97c>0xbf*0x2e+0x176d+-0x9*0x669))return 0x3*0x12a+0x1330+-0x16ad;if(_0x5546d6===-0x524+-0x1*0x221e+0x2742||_0x5546d6>=-0x1*-0x1d83+0x1d98+-0x1d8b*0x2&&_0x5546d6<=0x26e1+-0x11f8+0x20*-0xa7||_0x51e97c>=0x1262+-0x8f*-0x39+-0x322e&&_0x51e97c<=-0xe90+0x1b14+-0xc76)return 0x67*-0x16+0x29*-0x5+-0x1*-0x9a9;}return-0x1196+0x128f+0x3*-0x52;}),pr(['pl'],_0x7e9a9e=>{if(Number['isInteger'](_0x7e9a9e)){if(_0x7e9a9e===0x21d7+-0x1*0x7db+-0x3*0x8a9)return 0x26*0x7c+-0x21ba+0xf52;const _0x551b4e=_0x7e9a9e%(0x85*0x3f+-0x3cd+0x1*-0x1ce4),_0x20c8ea=_0x7e9a9e%(-0xd2f+0x610*-0x3+0x1fc3*0x1);if(_0x551b4e>=0x101e*0x1+0x4a2*0x3+-0x1e02&&_0x551b4e<=0x1ca7+-0x1ae*0x1+-0x1af5&&(_0x20c8ea<0x26ab*-0x1+-0x8c7+0x2f7e*0x1||_0x20c8ea>0xccc+-0x128e+0x2e8*0x2))return-0x2413+-0xd1*-0x23+-0x71*-0x11;if(_0x551b4e>=-0x55*-0x1+0xa*-0x97+-0x591*-0x1&&_0x551b4e<=-0x16f6+0x1980+0xb*-0x3b||_0x551b4e>=0xe0*0x23+0x1897+0x12*-0x311&&_0x551b4e<=-0x23f9+0x1a*-0xc3+0x10*0x37d||_0x20c8ea>=0x14f7+-0x1*0x2285+-0xd9a*-0x1&&_0x20c8ea<=0x2*0x839+0x14d+-0x11b1)return-0x1*0x1541+0x3bf+0xec*0x13;}return-0xf2f+0x76+0x3af*0x4;}),pr(['ar'],_0x58bfd6=>{if(_0x58bfd6===0x7*-0x62+-0xa93*0x2+0x17d4)return 0x13a5+-0xd02+-0x6a3;if(_0x58bfd6===-0x147e+-0x47*0x63+0x2ff4)return-0x47+-0x60*0x3d+-0x4e*-0x4c;if(_0x58bfd6===-0x1634+-0x1aa*-0x17+-0x1010)return-0x38b*-0x8+0x20f6+-0x3d4c;if(Number['isInteger'](_0x58bfd6)){const _0x286ad6=_0x58bfd6%(0x18a9+0x2f+-0x1*0x1874);if(_0x286ad6>=-0xed9+-0x723*-0x1+0x7b9&&_0x286ad6<=-0x1d8+-0x2479+0x265b*0x1)return 0x2150+-0x25c4+-0x9*-0x7f;if(_0x286ad6>=-0xe*-0x14b+0x882+0x8db*-0x3&&_0x286ad6<=0x27a+0xae*0x36+0x1*-0x26cb)return-0xd39+0x1fbc+-0x127f;}return-0x1245+0x2fa+0x2*0x7a8;});const K1=zp[pi($h)];function Xd(_0x5b0f0){return zp[_0x5b0f0]||K1;}const Da=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Z1{constructor(_0x797cbf='',_0x5f45a6='',_0xab71fd=null,_0x36306e=null,_0x210daf=null,_0x117414=null){this['url']=_0x797cbf,this['filename']=_0x5f45a6,this['hash']=_0xab71fd,this['size']=_0x36306e,this['opt']=_0x210daf,this['contents']=_0x117414;}['equals'](_0x213f9a){return this['url']===_0x213f9a['url']&&this['filename']===_0x213f9a['filename']&&this['hash']===_0x213f9a['hash']&&this['size']===_0x213f9a['size']&&this['opt']===_0x213f9a['opt']&&this['contents']===_0x213f9a['contents'];}}let Q1=-(0x1563+-0x52f+-0x1d*0x8f);const J1={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},$_=['pvr','dxt','etc2','etc1','basis'];class le extends ce{constructor(_0x11237f,_0xed4f18,_0x3a4c8d,_0x1279cb,_0x4d80a7){super(),this['_id']=Q1--,this['_name']=_0x11237f||'',this['type']=_0xed4f18,this['tags']=new po(this),this['_preload']=!(0x23c1+0x1d83+-0x4143),this['_file']=null,this['_data']=_0x1279cb||{},this['options']=_0x4d80a7||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(-0x2f9*0xb+0x987+0x1*0x172d),this['loading']=!(0x3*-0x5cf+-0x1700+0x286e),this['registry']=null,_0x3a4c8d&&(this['file']=_0x3a4c8d);}set['id'](_0x27ec91){this['_id']=_0x27ec91;}get['id'](){return this['_id'];}set['name'](_0x6f0f70){if(this['_name']===_0x6f0f70)return;const _0x52cfd4=this['_name'];this['_name']=_0x6f0f70,this['fire']('name',this,this['_name'],_0x52cfd4);}get['name'](){return this['_name'];}set['file'](_0x94dd97){var _0x235e82,_0x23cbfb;if(_0x94dd97&&_0x94dd97['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0x6a*0x5b+0xb7b*-0x2+0x1*-0xeb7)){const _0x912aa6=((_0x23cbfb=(_0x235e82=this['registry'])==null?void(0x11b6*0x1+-0x1*-0x27b+0x6bb*-0x3):_0x235e82['_loader'])==null?void(-0xa39+0x2*-0xed5+0x1*0x27e3):_0x23cbfb['_app'])||tn(),_0xbde75e=_0x912aa6==null?void(0x641*0x4+-0x175e+-0x1a6):_0x912aa6['graphicsDe'+'vice'];if(_0xbde75e)for(let _0x1fec91=-0x2*0xcfe+-0xb62+-0x2*-0x12af,_0xec66ee=$_['length'];_0x1fec91<_0xec66ee;_0x1fec91++){const _0x3a9303=$_[_0x1fec91];if(_0x94dd97['variants'][_0x3a9303]&&_0xbde75e[J1[_0x3a9303]]){_0x94dd97=_0x94dd97['variants'][_0x3a9303];break;}if(_0x912aa6['enableBund'+'les']){const _0x3651c3=_0x912aa6['bundles']['listBundle'+'sForAsset'](this);if(_0x3651c3&&_0x3651c3['find'](_0x2b2400=>{var _0x577942;return(_0x577942=_0x2b2400==null?void(0x8e9*0x1+-0xf79+-0xc*-0x8c):_0x2b2400['file'])==null?void(-0x18da*-0x1+0x4e9*0x6+-0x3650):_0x577942['variants'][_0x3a9303];}))break;}}}const _0x4000ac=this['_file'],_0x56fc6c=_0x94dd97?new Z1(_0x94dd97['url'],_0x94dd97['filename'],_0x94dd97['hash'],_0x94dd97['size'],_0x94dd97['opt'],_0x94dd97['contents']):null;(!!_0x56fc6c!=!!_0x4000ac||_0x56fc6c&&!_0x56fc6c['equals'](_0x4000ac))&&(this['_file']=_0x56fc6c,this['fire']('change',this,'file',_0x56fc6c,_0x4000ac),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x5b8cf0){const _0x4a8049=this['_data'];this['_data']=_0x5b8cf0,_0x5b8cf0!==_0x4a8049&&(this['fire']('change',this,'data',_0x5b8cf0,_0x4a8049),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x14139f){const _0x5808e0=this['_resources'][-0x1935+-0xfe1+0x2916];this['_resources'][-0x16f3+0x2e4*0x9+-0x311]=_0x14139f,this['fire']('change',this,'resource',_0x14139f,_0x5808e0);}get['resource'](){return this['_resources'][0x2*0x12b2+-0x52*0x1+-0x2512];}set['resources'](_0x2ef599){const _0x57862c=this['_resources'];this['_resources']=_0x2ef599,this['fire']('change',this,'resources',_0x2ef599,_0x57862c);}get['resources'](){return this['_resources'];}set['preload'](_0x4f960e){_0x4f960e=!!_0x4f960e,this['_preload']!==_0x4f960e&&(this['_preload']=_0x4f960e,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0xd0edde){_0xd0edde=!!_0xd0edde,(!this['hasOwnProp'+'erty']('_loadFaces')||_0xd0edde!==this['_loadFaces'])&&(this['_loadFaces']=_0xd0edde,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x21bf06=this['file'];if(!_0x21bf06||!_0x21bf06['url'])return null;let _0x3cf294=_0x21bf06['url'];if(this['registry']&&this['registry']['prefix']&&!Da['test'](_0x3cf294)&&(_0x3cf294=this['registry']['prefix']+_0x3cf294),this['type']!=='script'&&_0x21bf06['hash']){const _0x38d055=_0x3cf294['indexOf']('?')!==-(-0x1*-0xa0d+-0x16bb+0xcaf)?'&':'?';_0x3cf294+=_0x38d055+'t='+_0x21bf06['hash'];}return _0x3cf294;}['getAbsolut'+'eUrl'](_0x50eed2){if(_0x50eed2['startsWith']('blob:')||_0x50eed2['startsWith']('data:'))return _0x50eed2;const _0x128565=fe['getDirecto'+'ry'](this['file']['url']);return fe['join'](_0x128565,_0x50eed2);}['getLocaliz'+'edAssetId'](_0x469887){return _0x469887=V0(_0x469887,this['_i18n']),this['_i18n'][_0x469887]||null;}['addLocaliz'+'edAssetId'](_0x19d777,_0x46b2bd){this['_i18n'][_0x19d777]=_0x46b2bd,this['fire']('add:locali'+'zed',_0x19d777,_0x46b2bd);}['removeLoca'+'lizedAsset'+'Id'](_0x23925a){const _0x4724d5=this['_i18n'][_0x23925a];_0x4724d5&&(delete this['_i18n'][_0x23925a],this['fire']('remove:loc'+'alized',_0x23925a,_0x4724d5));}['ready'](_0x1bbb77,_0x554ee0){_0x554ee0=_0x554ee0||this,this['loaded']?_0x1bbb77['call'](_0x554ee0,this):this['once']('load',_0x5cf5cb=>{_0x1bbb77['call'](_0x554ee0,_0x5cf5cb);});}['reload'](){this['loaded']&&(this['loaded']=!(0x6*-0x5a4+-0x2224+0x43fd),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===0x1354*-0x2+0xae0+0x6f2*0x4)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x308a2c=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0x1a5b+0x330+-0x1d8a),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x21eea3=0x2*0xe75+-0x21b5+-0x4cb*-0x1;_0x21eea3<_0x308a2c['length'];++_0x21eea3){const _0x5dcea9=_0x308a2c[_0x21eea3];_0x5dcea9&&_0x5dcea9['destroy']&&_0x5dcea9['destroy']();}}static['fetchArray'+'Buffer'](_0x1a8dec,_0x4f9d9f,_0x115156,_0x48aaa0=-0x9b*0x37+-0x22*0x86+0x3319){var _0x271fb4;(_0x271fb4=_0x115156==null?void(-0x2464+0x1d09+-0x75b*-0x1):_0x115156['file'])!=null&&_0x271fb4['contents']?setTimeout(()=>{_0x4f9d9f(null,_0x115156['file']['contents']);}):We['get'](_0x1a8dec,{'cache':!(0x6*0x11e+0x167f+-0x1d33),'responseType':'arraybuffe'+'r','retry':_0x48aaa0>0x1*-0x1459+-0x62a+0x1a83,'maxRetries':_0x48aaa0},_0x4f9d9f);}}c(le,'EVENT_LOAD','load'),c(le,'EVENT_UNLO'+'AD','unload'),c(le,'EVENT_REMO'+'VE','remove'),c(le,'EVENT_ERRO'+'R','error'),c(le,'EVENT_CHAN'+'GE','change'),c(le,'EVENT_PROG'+'RESS','progress'),c(le,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(le,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class eP{constructor(_0x3a7588=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x3a7588;}['addItem'](_0x40bd7c){const _0x2f2d1a=_0x40bd7c['tags']['_list'];for(const _0x38b8a4 of _0x2f2d1a)this['add'](_0x38b8a4,_0x40bd7c);}['removeItem'](_0x255cce){const _0x473a71=_0x255cce['tags']['_list'];for(const _0x1d853e of _0x473a71)this['remove'](_0x1d853e,_0x255cce);}['add'](_0x5aaed9,_0x204490){this['_index'][_0x5aaed9]&&this['_index'][_0x5aaed9]['list']['indexOf'](_0x204490)!==-(-0x2475+0x13*-0x1b7+0x9dd*0x7)||(this['_index'][_0x5aaed9]||(this['_index'][_0x5aaed9]={'list':[]},this['_key']&&(this['_index'][_0x5aaed9]['keys']={})),this['_index'][_0x5aaed9]['list']['push'](_0x204490),this['_key']&&(this['_index'][_0x5aaed9]['keys'][_0x204490[this['_key']]]=_0x204490));}['remove'](_0x3bb1d2,_0x543a0c){if(!this['_index'][_0x3bb1d2]||this['_key']&&!this['_index'][_0x3bb1d2]['keys'][_0x543a0c[this['_key']]])return;const _0x4df1bb=this['_index'][_0x3bb1d2]['list']['indexOf'](_0x543a0c);_0x4df1bb!==-(0x296*-0x3+-0x25dd+0x20*0x16d)&&(this['_index'][_0x3bb1d2]['list']['splice'](_0x4df1bb,-0xd3d+-0x474*0x1+0x11b2),this['_key']&&delete this['_index'][_0x3bb1d2]['keys'][_0x543a0c[this['_key']]],this['_index'][_0x3bb1d2]['list']['length']===0x46e+-0x21e*-0x7+-0x1340&&delete this['_index'][_0x3bb1d2]);}['find'](_0x470067){const _0x4281d3={},_0x2000a6=[];let _0x76b3b6,_0x26b12,_0x153a6d,_0x21655e,_0x45bed9;const _0x50aa9a=(_0x408691,_0x49cbe2)=>this['_index'][_0x408691]['list']['length']-this['_index'][_0x49cbe2]['list']['length'];for(let _0x477a4a=-0x5*-0x457+0x1796+-0x2d49*0x1;_0x477a4a<_0x470067['length'];_0x477a4a++){if(_0x26b12=_0x470067[_0x477a4a],_0x26b12 instanceof Array){if(_0x26b12['length']===-0x41*0x1c+0xcb3+-0x597)continue;if(_0x26b12['length']===0x635*0x2+0x24ed+-0xf*0x34a)_0x26b12=_0x26b12[0x1*-0x50b+-0x2d2*0xd+-0xde7*-0x3];else{_0x45bed9=!(0x30*-0xb2+-0x1763*-0x1+0x9fe);for(let _0x309960=-0x1901+-0x167a+0x3a7*0xd;_0x309960<_0x26b12['length'];_0x309960++)if(!this['_index'][_0x26b12[_0x309960]]){_0x45bed9=!(-0x171d+0x271*0xb+-0x3be);break;}if(_0x45bed9)continue;_0x153a6d=_0x26b12['slice'](0x92*-0x35+-0x1c66+0x3aa0)['sort'](_0x50aa9a),_0x21655e=_0x153a6d['slice'](0x13*0x191+-0x2021*-0x1+0x3de3*-0x1),_0x21655e['length']===0x36e*-0x1+0x23d0+-0x2061&&(_0x21655e=_0x21655e[0x17e7+0x2*-0x409+-0x3*0x547]);for(let _0x4681ff=-0x471+0x8*-0x2e5+0x1b99;_0x4681ff<this['_index'][_0x153a6d[0x1037+-0x165e+0x627]]['list']['length'];_0x4681ff++)_0x76b3b6=this['_index'][_0x153a6d[-0x1147+-0x1f2d*0x1+0x1bb*0x1c]]['list'][_0x4681ff],(this['_key']?!_0x4281d3[_0x76b3b6[this['_key']]]:_0x2000a6['indexOf'](_0x76b3b6)===-(0x80*-0x3d+-0x1d71+-0x1*-0x3bf2))&&_0x76b3b6['tags']['has'](_0x21655e)&&(this['_key']&&(_0x4281d3[_0x76b3b6[this['_key']]]=!(-0x1f0f+0x400+-0x905*-0x3)),_0x2000a6['push'](_0x76b3b6));continue;}}if(_0x26b12&&typeof _0x26b12=='string'&&this['_index'][_0x26b12]){for(let _0x173071=-0x7c0*0x4+-0x1*0x15a3+0x34a3;_0x173071<this['_index'][_0x26b12]['list']['length'];_0x173071++)_0x76b3b6=this['_index'][_0x26b12]['list'][_0x173071],this['_key']?_0x4281d3[_0x76b3b6[this['_key']]]||(_0x4281d3[_0x76b3b6[this['_key']]]=!(0xe*0x235+0x29*-0xc+0x1*-0x1cfa),_0x2000a6['push'](_0x76b3b6)):_0x2000a6['indexOf'](_0x76b3b6)===-(-0xf31*-0x2+-0xc76+-0x1*0x11eb)&&_0x2000a6['push'](_0x76b3b6);}}return _0x2000a6;}}class ao extends ce{constructor(_0x12a01a){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new eP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x12a01a;}['list'](_0x3f549f={}){const _0x3b6113=Array['from'](this['_assets']);return _0x3f549f['preload']!==void(-0xb1*-0xd+-0x2*-0xd57+-0x23ab*0x1)?_0x3b6113['filter'](_0x14a8b8=>_0x14a8b8['preload']===_0x3f549f['preload']):_0x3b6113;}['add'](_0x247389){var _0x119204,_0x173b19;this['_assets']['has'](_0x247389)||(this['_assets']['add'](_0x247389),this['_idToAsset']['set'](_0x247389['id'],_0x247389),(_0x119204=_0x247389['file'])!=null&&_0x119204['url']&&this['_urlToAsse'+'t']['set'](_0x247389['file']['url'],_0x247389),this['_nameToAss'+'et']['has'](_0x247389['name'])||this['_nameToAss'+'et']['set'](_0x247389['name'],new Set()),this['_nameToAss'+'et']['get'](_0x247389['name'])['add'](_0x247389),_0x247389['on']('name',this['_onNameCha'+'nge'],this),_0x247389['registry']=this,this['_tags']['addItem'](_0x247389),_0x247389['tags']['on']('add',this['_onTagAdd'],this),_0x247389['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x247389),this['fire']('add:'+_0x247389['id'],_0x247389),(_0x173b19=_0x247389['file'])!=null&&_0x173b19['url']&&this['fire']('add:url:'+_0x247389['file']['url'],_0x247389),_0x247389['preload']&&this['load'](_0x247389));}['remove'](_0x1ee5cf){var _0x5986bd,_0x465bcb;if(!this['_assets']['has'](_0x1ee5cf))return!(-0x2*0xad3+0x1421*0x1+0x1a*0xf);if(this['_assets']['delete'](_0x1ee5cf),this['_idToAsset']['delete'](_0x1ee5cf['id']),(_0x5986bd=_0x1ee5cf['file'])!=null&&_0x5986bd['url']&&this['_urlToAsse'+'t']['delete'](_0x1ee5cf['file']['url']),_0x1ee5cf['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x1ee5cf['name'])){const _0x19970b=this['_nameToAss'+'et']['get'](_0x1ee5cf['name']);_0x19970b['delete'](_0x1ee5cf),_0x19970b['size']===-0x1b86+-0x1e78+0x39fe&&this['_nameToAss'+'et']['delete'](_0x1ee5cf['name']);}return this['_tags']['removeItem'](_0x1ee5cf),_0x1ee5cf['tags']['off']('add',this['_onTagAdd'],this),_0x1ee5cf['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x1ee5cf['fire']('remove',_0x1ee5cf),this['fire']('remove',_0x1ee5cf),this['fire']('remove:'+_0x1ee5cf['id'],_0x1ee5cf),(_0x465bcb=_0x1ee5cf['file'])!=null&&_0x465bcb['url']&&this['fire']('remove:url'+':'+_0x1ee5cf['file']['url'],_0x1ee5cf),!(0xc1*-0x14+-0x1*-0xf1f+-0xb);}['get'](_0x40a0e0){return this['_idToAsset']['get'](Number(_0x40a0e0));}['getByUrl'](_0x7ca0a7){return this['_urlToAsse'+'t']['get'](_0x7ca0a7);}['load'](_0x3fc072,_0x30d75){if((_0x3fc072['loading']||_0x3fc072['loaded'])&&!(_0x30d75!=null&&_0x30d75['force']))return;const _0x3f0da5=_0x3fc072['file'],_0x278113=()=>{this['fire']('load',_0x3fc072),this['fire']('load:'+_0x3fc072['id'],_0x3fc072),_0x3f0da5&&_0x3f0da5['url']&&this['fire']('load:url:'+_0x3f0da5['url'],_0x3fc072),_0x3fc072['fire']('load',_0x3fc072);},_0x3aaca0=_0x3ef572=>{if(_0x3ef572 instanceof Array?_0x3fc072['resources']=_0x3ef572:_0x3fc072['resource']=_0x3ef572,this['_loader']['patch'](_0x3fc072,this),_0x3fc072['type']==='bundle'){const _0x749141=_0x3fc072['data']['assets'];for(let _0x36820f=-0xc9*-0x1d+-0x14ae+-0x217;_0x36820f<_0x749141['length'];_0x36820f++){const _0x5615a1=this['_idToAsset']['get'](_0x749141[_0x36820f]);_0x5615a1&&!_0x5615a1['loaded']&&this['load'](_0x5615a1,{'force':!(-0x2*-0x8db+-0x49*0x22+0x2ac*-0x3)});}_0x3fc072['resource']['loaded']?_0x278113():(this['fire']('load:start',_0x3fc072),this['fire']('load:start'+':'+_0x3fc072['id'],_0x3fc072),_0x3f0da5&&_0x3f0da5['url']&&this['fire']('load:start'+':url:'+_0x3f0da5['url'],_0x3fc072),_0x3fc072['fire']('load:start',_0x3fc072),_0x3fc072['resource']['on']('load',_0x278113));}else _0x278113();},_0x55f744=(_0x308f02,_0x5a306a,_0x3734b1)=>{if(_0x3fc072['loaded']=!(0x2100+-0x1a71+-0x68f),_0x3fc072['loading']=!(-0x194e+-0x98d+0x22dc),_0x308f02)this['fire']('error',_0x308f02,_0x3fc072),this['fire']('error:'+_0x3fc072['id'],_0x308f02,_0x3fc072),_0x3fc072['fire']('error',_0x308f02,_0x3fc072);else{if(_0x3fc072['type']==='script'){const _0x53636c=this['_loader']['getHandler']('script');_0x53636c['_cache'][_0x3fc072['id']]&&_0x53636c['_cache'][_0x3fc072['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x53636c['_cache'][_0x3fc072['id']]),_0x53636c['_cache'][_0x3fc072['id']]=_0x3734b1;}_0x3aaca0(_0x5a306a);}};if(_0x3f0da5||_0x3fc072['type']==='cubemap'){this['fire']('load:start',_0x3fc072),this['fire']('load:'+_0x3fc072['id']+':start',_0x3fc072),_0x3fc072['loading']=!(0xe4d+0x1*-0x1b7a+0xd2d);const _0x4f9a09=_0x3fc072['getFileUrl']();if(_0x3fc072['type']==='bundle'){const _0x40f045=_0x3fc072['data']['assets'];for(let _0x927e9b=0x1*-0x9a8+-0x6f7+0x73*0x25;_0x927e9b<_0x40f045['length'];_0x927e9b++){const _0x2a0ea5=this['_idToAsset']['get'](_0x40f045[_0x927e9b]);_0x2a0ea5&&(_0x2a0ea5['loaded']||_0x2a0ea5['resource']||_0x2a0ea5['loading']||(_0x2a0ea5['loading']=!(-0x1*-0xc21+-0x20*0x8d+0x57f)));}}this['_loader']['load'](_0x4f9a09,_0x3fc072['type'],_0x55f744,_0x3fc072,_0x30d75);}else{const _0x39b649=this['_loader']['open'](_0x3fc072['type'],_0x3fc072['data']);_0x3fc072['loaded']=!(0x17b0+0x222b*-0x1+-0xa7b*-0x1),_0x3aaca0(_0x39b649);}}['loadFromUr'+'l'](_0x56b68a,_0x3bc8e5,_0x2f9d48){this['loadFromUr'+'lAndFilena'+'me'](_0x56b68a,null,_0x3bc8e5,_0x2f9d48);}['loadFromUr'+'lAndFilena'+'me'](_0x25ef80,_0x2be4b4,_0x2f6519,_0x2640c4){const _0x57335c=fe['getBasenam'+'e'](_0x2be4b4||_0x25ef80),_0xc62622={'filename':_0x2be4b4||_0x57335c,'url':_0x25ef80};let _0x19df26=this['getByUrl'](_0x25ef80);if(!_0x19df26)_0x19df26=new le(_0x57335c,_0x2f6519,_0xc62622),this['add'](_0x19df26);else{if(_0x19df26['loaded']){_0x2640c4(_0x19df26['loadFromUr'+'lError']||null,_0x19df26);return;}}const _0xc1e8ed=_0xf2c46c=>{_0xf2c46c['once']('load',_0x35000c=>{_0x2f6519==='material'?this['_loadTextu'+'res'](_0x35000c,(_0x3aa01e,_0x5c5624)=>{_0x2640c4(_0x3aa01e,_0x35000c);}):_0x2640c4(null,_0x35000c);}),_0xf2c46c['once']('error',_0x10fe63=>{_0x10fe63&&(this['loadFromUr'+'lError']=_0x10fe63),_0x2640c4(_0x10fe63,_0xf2c46c);}),this['load'](_0xf2c46c);};_0x19df26['resource']?_0x2640c4(null,_0x19df26):_0x2f6519==='model'?this['_loadModel'](_0x19df26,_0xc1e8ed):_0xc1e8ed(_0x19df26);}['_loadModel'](_0x3d3527,_0x26db20){const _0x19575e=_0x3d3527['getFileUrl'](),_0x58d06f=fe['getExtensi'+'on'](_0x19575e);if(_0x58d06f==='.json'||_0x58d06f==='.glb'){const _0x179812=fe['getDirecto'+'ry'](_0x19575e),_0x4f4f90=fe['getBasenam'+'e'](_0x19575e),_0x4837ec=fe['join'](_0x179812,_0x4f4f90['replace'](_0x58d06f,'.mapping.j'+'son'));this['_loader']['load'](_0x4837ec,'json',(_0x241ccc,_0xfca0bd)=>{_0x241ccc?(_0x3d3527['data']={'mapping':[]},_0x26db20(_0x3d3527)):this['_loadMater'+'ials'](_0x3d3527,_0xfca0bd,(_0x4be61d,_0x246558)=>{_0x3d3527['data']=_0xfca0bd,_0x26db20(_0x3d3527);});});}else _0x26db20(_0x3d3527);}['_loadMater'+'ials'](_0x418153,_0x5f3572,_0x526cd3){const _0x143c04=[];let _0x530f32=-0x1*0xd31+0x1*0x1ce2+-0xfb1;const _0x224fe6=(_0x134eb9,_0x3e9767)=>{this['_loadTextu'+'res'](_0x3e9767,(_0x244372,_0x2aac93)=>{_0x143c04['push'](_0x3e9767),_0x143c04['length']===_0x530f32&&_0x526cd3(null,_0x143c04);});};for(let _0x47a8aa=-0x239e+0x7b*-0x2f+0x3a33;_0x47a8aa<_0x5f3572['mapping']['length'];_0x47a8aa++){const _0x4c9b53=_0x5f3572['mapping'][_0x47a8aa]['path'];if(_0x4c9b53){_0x530f32++;const _0x4312e2=_0x418153['getAbsolut'+'eUrl'](_0x4c9b53);this['loadFromUr'+'l'](_0x4312e2,'material',_0x224fe6);}}_0x530f32===0x1*-0x2559+-0xaf9+-0x9aa*-0x5&&_0x526cd3(null,_0x143c04);}['_loadTextu'+'res'](_0x561ae6,_0x559cf2){const _0x1e4da8=[];let _0x4a404a=-0xd*-0x52+-0x1df5*0x1+0x1*0x19cb;const _0x2a75da=_0x561ae6['data'];if(_0x2a75da['mappingFor'+'mat']!=='path'){v['warn']('Skipping:\x20'+_0x561ae6['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x559cf2(null,_0x1e4da8);return;}const _0x225270=(_0xa7da53,_0x3b9427)=>{_0xa7da53&&console['error'](_0xa7da53),_0x1e4da8['push'](_0x3b9427),_0x1e4da8['length']===_0x4a404a&&_0x559cf2(null,_0x1e4da8);},_0x443548=Kc;for(let _0x560a1e=0xc18+-0x9f5*-0x1+-0x5*0x469;_0x560a1e<_0x443548['length'];_0x560a1e++){const _0x5bc1a2=_0x2a75da[_0x443548[_0x560a1e]];if(_0x5bc1a2&&typeof _0x5bc1a2=='string'){_0x4a404a++;const _0x371fe1=_0x561ae6['getAbsolut'+'eUrl'](_0x5bc1a2);this['loadFromUr'+'l'](_0x371fe1,'texture',_0x225270);}}_0x4a404a===-0xe5+0xb77+-0x21*0x52&&_0x559cf2(null,_0x1e4da8);}['_onTagAdd'](_0x2e57d2,_0x46c8cf){this['_tags']['add'](_0x2e57d2,_0x46c8cf);}['_onTagRemo'+'ve'](_0x48e989,_0x349d2d){this['_tags']['remove'](_0x48e989,_0x349d2d);}['_onNameCha'+'nge'](_0x86a820,_0x29a7cc,_0x2d63e0){if(this['_nameToAss'+'et']['has'](_0x2d63e0)){const _0x4b1085=this['_nameToAss'+'et']['get'](_0x2d63e0);_0x4b1085['delete'](_0x86a820),_0x4b1085['size']===0x14e0+0x293+-0x1773&&this['_nameToAss'+'et']['delete'](_0x2d63e0);}this['_nameToAss'+'et']['has'](_0x86a820['name'])||this['_nameToAss'+'et']['set'](_0x86a820['name'],new Set()),this['_nameToAss'+'et']['get'](_0x86a820['name'])['add'](_0x86a820);}['findByTag'](..._0x514bbe){return this['_tags']['find'](_0x514bbe);}['filter'](_0x5341f5){return Array['from'](this['_assets'])['filter'](_0x5438b0=>_0x5341f5(_0x5438b0));}['find'](_0x44a1bc,_0x582436){const _0x33d31b=this['_nameToAss'+'et']['get'](_0x44a1bc);if(!_0x33d31b)return null;for(const _0x144122 of _0x33d31b)if(!_0x582436||_0x144122['type']===_0x582436)return _0x144122;return null;}['findAll'](_0x30ff1d,_0x89a883){const _0x24be6b=this['_nameToAss'+'et']['get'](_0x30ff1d);if(!_0x24be6b)return[];const _0x3e8c2b=Array['from'](_0x24be6b);return _0x89a883?_0x3e8c2b['filter'](_0x30b11c=>_0x30b11c['type']===_0x89a883):_0x3e8c2b;}}c(ao,'EVENT_LOAD','load'),c(ao,'EVENT_ADD','add'),c(ao,'EVENT_REMO'+'VE','remove'),c(ao,'EVENT_ERRO'+'R','error');class tP{constructor(_0xd5db3f){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0xd5db3f,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x597dd6){if(_0x597dd6['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x597dd6['id'],_0x597dd6),this['_assets']['on']('load:start'+':'+_0x597dd6['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x597dd6['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x597dd6['id'],this['_onBundleE'+'rror'],this);const _0x2396d0=_0x597dd6['data']['assets'];for(let _0x2c759d=-0x4*-0x332+0x199c+-0x2664;_0x2c759d<_0x2396d0['length'];_0x2c759d++)this['_indexAsse'+'tInBundle'](_0x2396d0[_0x2c759d],_0x597dd6);}else this['_assetToBu'+'ndles']['has'](_0x597dd6['id'])&&this['_indexAsse'+'tFileUrls'](_0x597dd6);}['_unbindAss'+'etEvents'](_0x55033c){this['_assets']['off']('load:start'+':'+_0x55033c,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x55033c,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x55033c,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x3a4b2b,_0x2ee498){let _0x33c53f=this['_assetToBu'+'ndles']['get'](_0x3a4b2b);_0x33c53f||(_0x33c53f=new Set(),this['_assetToBu'+'ndles']['set'](_0x3a4b2b,_0x33c53f)),_0x33c53f['add'](_0x2ee498);const _0x3bffd0=this['_assets']['get'](_0x3a4b2b);_0x3bffd0&&this['_indexAsse'+'tFileUrls'](_0x3bffd0);}['_indexAsse'+'tFileUrls'](_0x13acb1){const _0x5654f5=this['_getAssetF'+'ileUrls'](_0x13acb1);if(_0x5654f5)for(let _0x44c2c2=-0x18a*0x8+0xef6+0x6*-0x71;_0x44c2c2<_0x5654f5['length'];_0x44c2c2++){const _0x4e7f0b=this['_assetToBu'+'ndles']['get'](_0x13acb1['id']);_0x4e7f0b&&this['_urlsToBun'+'dles']['set'](_0x5654f5[_0x44c2c2],_0x4e7f0b);}}['_getAssetF'+'ileUrls'](_0x281d3c){let _0x27c11f=_0x281d3c['getFileUrl']();if(!_0x27c11f)return null;_0x27c11f=_0x27c11f['split']('?')[-0x1af*-0x10+-0x3*0x6f+-0x19a3];const _0x176cee=[_0x27c11f];if(_0x281d3c['type']==='font'){const _0x284586=_0x281d3c['data']['info']['maps']['length'];for(let _0x4cb4b3=0x2006+0x1f2c+-0x3f31;_0x4cb4b3<_0x284586;_0x4cb4b3++)_0x176cee['push'](_0x27c11f['replace']('.png',_0x4cb4b3+'.png'));}return _0x176cee;}['_onAssetRe'+'move'](_0x1e15f1){if(_0x1e15f1['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x1e15f1['id']),this['_unbindAss'+'etEvents'](_0x1e15f1['id']);const _0x394dce=_0x1e15f1['data']['assets'];for(let _0x5d1445=-0x1f9d+-0x2375+0x65*0xaa;_0x5d1445<_0x394dce['length'];_0x5d1445++){const _0x9d1633=this['_assetToBu'+'ndles']['get'](_0x394dce[_0x5d1445]);if(_0x9d1633&&(_0x9d1633['delete'](_0x1e15f1),_0x9d1633['size']===0xf0b*-0x1+-0xbc9+-0x11*-0x194)){this['_assetToBu'+'ndles']['delete'](_0x394dce[_0x5d1445]);for(const [_0x52e6f4,_0x2afec7]of this['_urlsToBun'+'dles'])_0x2afec7===_0x9d1633&&this['_urlsToBun'+'dles']['delete'](_0x52e6f4);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x1e15f1['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x1e15f1['id']))return;this['_assetToBu'+'ndles']['delete'](_0x1e15f1['id']);const _0x2f6d92=this['_getAssetF'+'ileUrls'](_0x1e15f1);if(!_0x2f6d92)return;for(let _0x3a5274=0x61e+-0x141d+-0xdff*-0x1;_0x3a5274<_0x2f6d92['length'];_0x3a5274++)this['_urlsToBun'+'dles']['delete'](_0x2f6d92[_0x3a5274]);}}['_onBundleL'+'oadStart'](_0x2bcc6d){_0x2bcc6d['resource']['on']('add',(_0x47eb24,_0x3244ba)=>{const _0xfeb264=this['_fileReque'+'sts']['get'](_0x47eb24);if(_0xfeb264){for(let _0x2f8e49=-0x1d9f+-0xb3f+-0x146f*-0x2;_0x2f8e49<_0xfeb264['length'];_0x2f8e49++)_0xfeb264[_0x2f8e49](null,_0x3244ba);this['_fileReque'+'sts']['delete'](_0x47eb24);}});}['_onBundleL'+'oad'](_0x2c174d){if(!_0x2c174d['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x2c174d['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x39757d,_0x208118]of this['_fileReque'+'sts']){const _0x346554=this['_urlsToBun'+'dles']['get'](_0x39757d);if(!_0x346554||!_0x346554['has'](_0x2c174d))continue;const _0x1ff76b=decodeURIComponent(_0x39757d);let _0x4c1fcf,_0x5e0e4a;if(_0x2c174d['resource']['has'](_0x1ff76b))_0x5e0e4a=_0x2c174d['resource']['get'](_0x1ff76b);else{if(_0x2c174d['resource']['loaded'])_0x4c1fcf='Bundle\x20'+_0x2c174d['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x39757d;else continue;}for(let _0x57c838=-0x7*0xde+-0xc93+-0x81*-0x25;_0x57c838<_0x208118['length'];_0x57c838++)_0x208118[_0x57c838](_0x4c1fcf,_0x4c1fcf||_0x5e0e4a);this['_fileReque'+'sts']['delete'](_0x39757d);}}['_onBundleE'+'rror'](_0x753436){for(const [_0x1f245e,_0x4edb30]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x1f245e)){for(let _0x4e255c=0x17fb+-0x20*0x9a+-0x4bb;_0x4e255c<_0x4edb30['length'];_0x4e255c++)_0x4edb30[_0x4e255c](_0x753436);this['_fileReque'+'sts']['delete'](_0x1f245e);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x3ba0d0){const _0x2e5200=this['_urlsToBun'+'dles']['get'](_0x3ba0d0);if(!_0x2e5200)return null;let _0x2b718e=null;for(const _0xb55a9e of _0x2e5200){if(_0xb55a9e['loaded']&&_0xb55a9e['resource'])return _0xb55a9e;_0xb55a9e['loading']&&(_0x2b718e=_0xb55a9e);}return _0x2b718e;}['listBundle'+'sForAsset'](_0x3bbc2c){const _0xd72239=this['_assetToBu'+'ndles']['get'](_0x3bbc2c['id']);return _0xd72239?Array['from'](_0xd72239):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x1616cf){return this['_urlsToBun'+'dles']['has'](_0x1616cf);}['urlIsLoade'+'dOrLoading'](_0x1e6aac){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x1e6aac);}['loadUrl'](_0x1402c6,_0x4a9c15){const _0x2efb34=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x1402c6);if(!_0x2efb34){_0x4a9c15('URL\x20'+_0x1402c6+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x2efb34['loaded']){const _0x509126=decodeURIComponent(_0x1402c6);if(_0x2efb34['resource']['has'](_0x509126)){_0x4a9c15(null,_0x2efb34['resource']['get'](_0x509126));return;}else{if(_0x2efb34['resource']['loaded']){_0x4a9c15('Bundle\x20'+_0x2efb34['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x1402c6);return;}}}let _0x21fff9=this['_fileReque'+'sts']['get'](_0x1402c6);_0x21fff9||(_0x21fff9=[],this['_fileReque'+'sts']['set'](_0x1402c6,_0x21fff9)),_0x21fff9['push'](_0x4a9c15);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x242223 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x242223);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class sP extends ce{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x528ec6){const _0x3520fd=_0x528ec6['id'];if(this[_0x3520fd])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x3520fd+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x3520fd]=_0x528ec6,this['list']['push'](_0x528ec6);}['remove'](_0x53e620){const _0x26b5de=_0x53e620['id'];if(!this[_0x26b5de])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x26b5de+('\x27\x20register'+'ed'));delete this[_0x26b5de];const _0x5f4f5a=this['list']['indexOf'](this[_0x26b5de]);_0x5f4f5a!==-(-0xbb9+0x1*0x178+-0xca*-0xd)&&this['list']['splice'](_0x5f4f5a,-0x131d+-0xd78+0x2096);}['destroy'](){this['off']();for(let _0x23cd6e=0x2*0x5aa+-0x17fb+-0x1*-0xca7;_0x23cd6e<this['list']['length'];_0x23cd6e++)this['list'][_0x23cd6e]['destroy']();}}class Xu extends ce{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(-0x1494+0x58d+0x128*0xd));}['addFile'](_0x1f10bf,_0x51adda){this['_index']['has'](_0x1f10bf)||(this['_index']['set'](_0x1f10bf,_0x51adda),this['fire']('add',_0x1f10bf,_0x51adda));}['has'](_0x685125){return this['_index']['has'](_0x685125);}['get'](_0x348cf0){return this['_index']['get'](_0x348cf0)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x16ccd9){!_0x16ccd9||this['_loaded']||(this['_loaded']=!(0x1190+-0x5*-0xdf+0x1f*-0xb5),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Xu,'EVENT_ADD','add'),c(Xu,'EVENT_LOAD','load');class iP extends ce{constructor(_0x5c056d,_0x35fd2e=''){super(),c(this,'headerSize',-0x1*0xe65+-0x5b*0x1+0x10c0),c(this,'paddingSiz'+'e',-0x2621+0x8f*-0x3+0x29ce),c(this,'bytesRead',-0xaa3+-0x64*-0x48+0x79*-0x25),c(this,'bytesRecei'+'ved',0x15a8*-0x1+-0x12b1+-0x139*-0x21),c(this,'headerRead',!(-0x25d+-0x1f*0x89+-0x1*-0x12f5)),c(this,'reader',null),c(this,'data',new Uint8Array(0x2*0x313+0x1324*0x2+0x2f*-0xf2)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',0x421*0x9+0x8e8+-0x2e11),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x35fd2e||'',this['reader']=_0x5c056d['body']['getReader'](),this['reader']['read']()['then'](_0x17be0e=>{this['pump'](_0x17be0e['done'],_0x17be0e['value']);})['catch'](_0x365a96=>{this['fire']('error',_0x365a96);}));}['pump'](_0x448e94,_0x5f259d){if(_0x448e94)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x5f259d['byteLength'];const _0x289e83=new Uint8Array(this['data']['length']+_0x5f259d['length']);for(_0x289e83['set'](this['data']),_0x289e83['set'](_0x5f259d,this['data']['length']),this['data']=_0x289e83;this['readFile'](););return this['reader']['read']()['then'](_0x4bb417=>{this['pump'](_0x4bb417['done'],_0x4bb417['value']);})['catch'](_0x11befa=>{this['fire']('error',_0x11befa);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0xbfb+0x3a1+-0xf9c);const _0x1f32aa=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x18d381=this['decoder']['decode'](_0x1f32aa);if(this['fileName']=_0x18d381['substring'](0x805+-0xe7b+0x676,0x35b*-0x6+0xdc5+-0xf7*-0x7)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x18d381['substring'](-0x672*0x2+-0x15*-0xbf+0x1*-0x24b,0x1*0xd46+-0x88e+0x10c*-0x4),-0x5*-0x515+0x268d+0x7*-0x922),this['fileType']=_0x18d381['substring'](-0x221a*0x1+-0x6*-0x67e+-0x43e,-0x2*0x561+0x7cf*-0x3+-0x106*-0x22),this['ustarForma'+'t']=_0x18d381['substring'](0x1ebe*0x1+-0x7*-0x9a+-0x21f3,0x38*0x2+0x2548+-0x24b1),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x4*0x29b+0x4*-0x71+0xc31)){const _0x4d5331=_0x18d381['substring'](0x7*-0x563+0x11bd*-0x1+0x7*0x81d,-0x704*0x4+-0x2*0x61a+0x2a38)['replace'](/\0/g,'');_0x4d5331['length']>-0x31*-0x4f+0xa6d*0x3+0x1*-0x2e66&&(this['fileName']=_0x4d5331['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0x111e+-0x8cb*0x1+0x595*0x5;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x1*-0x1619+0xf3a+0x1b8*0x4);if(this['fileType']===''||this['fileType']==='0'){const _0x4cec8d=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x5ad772={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x4cec8d};this['fire']('file',_0x5ad772);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0x199f*-0x1+0x9*0x13d+-0x24c3);const _0x255872=this['bytesRead']%this['paddingSiz'+'e'];return _0x255872!==0xc61*-0x2+-0x3*0xaf1+0x3995&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x255872),!(0x1*0x20e1+0x25ad+-0x468e*0x1);}return!(-0x1e5f+0x2f*-0x4f+0x2ce1*0x1);}}class Ne{constructor(_0x258ced,_0x1342db){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',0x18c8*0x1+-0x1*0xd1f+-0xba9),(this['_app']=_0x258ced,this['handlerTyp'+'e']=_0x1342db);}set['maxRetries'](_0x1d6ffc){this['_maxRetrie'+'s']=_0x1d6ffc;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x18afda,_0x3b0d71,_0x2beb2a){}['open'](_0x5e0e87,_0x16c591,_0x384da7){return _0x16c591;}['patch'](_0x2b0306,_0x271cfc){}}class rP extends Ne{constructor(_0x34d85f){super(_0x34d85f,'bundle'),this['_assets']=_0x34d85f['assets'];}['_fetchRetr'+'ies'](_0x54c5a1,_0x5e2d61,_0x2262da=0x2d*0x51+-0x151d*0x1+0x6e0){return new Promise((_0x52d8cf,_0x36f787)=>{const _0x4f367b=()=>{fetch(_0x54c5a1,_0x5e2d61)['then'](_0x52d8cf)['catch'](_0x21d52a=>{_0x2262da++,_0x2262da<this['maxRetries']?(v['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x2262da),_0x4f367b()):_0x36f787(_0x21d52a);});};_0x4f367b();});}['load'](_0x386daa,_0x69dd6d){typeof _0x386daa=='string'&&(_0x386daa={'load':_0x386daa,'original':_0x386daa}),this['_fetchRetr'+'ies'](_0x386daa['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x2283ee=>{const _0x23993b=new Xu();_0x69dd6d(null,_0x23993b);const _0x3c549e=new iP(_0x2283ee,this['_assets']['prefix']);_0x3c549e['on']('file',_0x4c47cf=>{_0x23993b['addFile'](_0x4c47cf['name'],_0x4c47cf['data']);}),_0x3c549e['on']('done',()=>{_0x23993b['loaded']=!(-0xb40+0xbf3+-0xb3);}),_0x3c549e['on']('error',_0x3f1111=>{v['error'](_0x3f1111),_0x69dd6d(_0x3f1111);});})['catch'](_0x39afad=>{v['error'](_0x39afad),_0x69dd6d(_0x39afad);});}['open'](_0x8a876c,_0x17d0d4){return _0x17d0d4;}}class pa{constructor(_0x4e6073){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x4e6073;}['addHandler'](_0x28dc1a,_0x43fdcc){this['_handlers'][_0x28dc1a]=_0x43fdcc,_0x43fdcc['_loader']=this;}['removeHand'+'ler'](_0x50fa7b){delete this['_handlers'][_0x50fa7b];}['getHandler'](_0x10bab7){return this['_handlers'][_0x10bab7];}static['makeKey'](_0x3914bd,_0x17d783){return _0x3914bd+'-'+_0x17d783;}['load'](_0x26eed4,_0x3a8ca3,_0x138e39,_0x58f1db,_0x3ac41f){var _0x7b0a56;const _0x4f14c5=this['_handlers'][_0x3a8ca3];if(!_0x4f14c5){const _0x358286='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x3a8ca3+('\x27\x20when\x20loa'+'ding\x20[')+_0x26eed4+']';v['errorOnce'](_0x358286),_0x138e39(_0x358286);return;}if(!_0x26eed4){this['_loadNull'](_0x4f14c5,_0x138e39,_0x58f1db);return;}const _0x59f1b7=pa['makeKey'](_0x26eed4,_0x3a8ca3);if(this['_cache'][_0x59f1b7]!==void(0x1*0x439+-0x12bc*-0x2+0x335*-0xd))_0x138e39(null,this['_cache'][_0x59f1b7]);else{if(this['_requests'][_0x59f1b7])this['_requests'][_0x59f1b7]['push'](_0x138e39);else{this['_requests'][_0x59f1b7]=[_0x138e39];const _0xc0451c=this,_0x20c716=function(_0x2959fa,_0x26016e){if(_0x2959fa){_0xc0451c['_onFailure'](_0x59f1b7,_0x2959fa);return;}if(_0x26016e['load']instanceof DataView){if(_0x4f14c5['openBinary']){if(!_0xc0451c['_requests'][_0x59f1b7])return;try{const _0x2edb55=_0x4f14c5['openBinary'](_0x26016e['load']);_0xc0451c['_onSuccess'](_0x59f1b7,_0x2edb55);}catch(_0x5f0aa5){_0xc0451c['_onFailure'](_0x59f1b7,_0x5f0aa5);}return;}_0x26016e['load']=URL['createObje'+'ctURL'](new Blob([_0x26016e['load']])),_0x58f1db&&(_0x58f1db['urlObject']&&URL['revokeObje'+'ctURL'](_0x58f1db['urlObject']),_0x58f1db['urlObject']=_0x26016e['load']);}_0x4f14c5['load'](_0x26016e,(_0x2b9b8a,_0x8a087,_0x4b9a7c)=>{if(_0xc0451c['_requests'][_0x59f1b7]){if(_0x2b9b8a){_0xc0451c['_onFailure'](_0x59f1b7,_0x2b9b8a);return;}try{_0xc0451c['_onSuccess'](_0x59f1b7,_0x4f14c5['open'](_0x26016e['original'],_0x8a087,_0x58f1db),_0x4b9a7c);}catch(_0x3bd06f){_0xc0451c['_onFailure'](_0x59f1b7,_0x3bd06f);}}},_0x58f1db);},_0x48c6c5=_0x26eed4['split']('?')[-0x317+0x88*0x4+0xf7];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x48c6c5)&&!(_0x3ac41f&&_0x3ac41f['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x48c6c5)){const _0x53a6a0=this['_app']['bundles']['listBundle'+'sForAsset'](_0x58f1db);let _0x26986e;_0x3ac41f&&_0x3ac41f['bundlesFil'+'ter']&&(_0x26986e=_0x3ac41f['bundlesFil'+'ter'](_0x53a6a0)),_0x26986e||(_0x53a6a0==null||_0x53a6a0['sort']((_0x1406d6,_0x5c2a1a)=>_0x1406d6['file']['size']-_0x5c2a1a['file']['size']),_0x26986e=_0x53a6a0==null?void(-0x1*-0xe44+-0x24*0x39+-0x50*0x14):_0x53a6a0[0x1698+0x24e+0x18e6*-0x1]),_0x26986e&&((_0x7b0a56=this['_app']['assets'])==null||_0x7b0a56['load'](_0x26986e));}this['_app']['bundles']['loadUrl'](_0x48c6c5,(_0x42ffdb,_0x62f92e)=>{_0x20c716(_0x42ffdb,{'load':_0x62f92e,'original':_0x48c6c5});});}else _0x20c716(null,{'load':_0x26eed4,'original':_0x58f1db&&_0x58f1db['file']['filename']||_0x26eed4});}}}['_loadNull'](_0x5e3a2b,_0xeee641,_0x48bfd0){const _0x4f733c=function(_0xdce3f3,_0x1d3619,_0x24b582){if(_0xdce3f3)_0xeee641(_0xdce3f3);else try{_0xeee641(null,_0x5e3a2b['open'](null,_0x1d3619,_0x48bfd0),_0x24b582);}catch(_0x2e20cf){_0xeee641(_0x2e20cf);}};_0x5e3a2b['load'](null,_0x4f733c,_0x48bfd0);}['_onSuccess'](_0x1f2459,_0x3338f3,_0x4fa901){_0x3338f3!==null?this['_cache'][_0x1f2459]=_0x3338f3:delete this['_cache'][_0x1f2459];for(let _0x57cf3b=0xb*-0x355+0x2413+0x4*0x25;_0x57cf3b<this['_requests'][_0x1f2459]['length'];_0x57cf3b++)this['_requests'][_0x1f2459][_0x57cf3b](null,_0x3338f3,_0x4fa901);delete this['_requests'][_0x1f2459];}['_onFailure'](_0x402f97,_0x4e79af){if(console['error'](_0x4e79af),this['_requests'][_0x402f97]){for(let _0x2fd3f2=0x2683+0xd2b+-0x33ae;_0x2fd3f2<this['_requests'][_0x402f97]['length'];_0x2fd3f2++)this['_requests'][_0x402f97][_0x2fd3f2](_0x4e79af);delete this['_requests'][_0x402f97];}}['open'](_0x3eced4,_0x342ba3){const _0x2d3089=this['_handlers'][_0x3eced4];return _0x2d3089?_0x2d3089['open'](null,_0x342ba3):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x3eced4),_0x342ba3);}['patch'](_0x3be4e1,_0x36678f){const _0x3a8c3d=this['_handlers'][_0x3be4e1['type']];if(!_0x3a8c3d){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x3be4e1['type']);return;}_0x3a8c3d['patch']&&_0x3a8c3d['patch'](_0x3be4e1,_0x36678f);}['clearCache'](_0x1acb2c,_0x4d0521){const _0x555348=pa['makeKey'](_0x1acb2c,_0x4d0521);delete this['_cache'][_0x555348];}['getFromCac'+'he'](_0x53aa32,_0x4e97df){const _0x3a9b31=pa['makeKey'](_0x53aa32,_0x4e97df);if(this['_cache'][_0x3a9b31])return this['_cache'][_0x3a9b31];}['enableRetr'+'y'](_0x47b290=0x1877+-0x13cb*0x1+0x3*-0x18d){_0x47b290=Math['max'](0x18d1+0x1*-0xe09+0xb8*-0xf,_0x47b290)||0x5*-0x481+-0x1937+0x2fbc;for(const _0x31e387 in this['_handlers'])this['_handlers'][_0x31e387]['maxRetries']=_0x47b290;}['disableRet'+'ry'](){for(const _0x1af491 in this['_handlers'])this['_handlers'][_0x1af491]['maxRetries']=0x51e*-0x2+-0x7de+0x14b*0xe;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class nP{['_validate'](_0x1aa3e){if(!_0x1aa3e['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x1aa3e['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x1aa3e['header']['version']!==-0x1875+0x7*0x149+-0x6b*-0x25)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x1aa3e['data']){if(!Array['isArray'](_0x1aa3e['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x25f561=-0x22c4+-0xcb3*0x1+-0x1d*-0x1a3,_0x37b610=_0x1aa3e['data']['length'];_0x25f561<_0x37b610;_0x25f561++){const _0x37c7bc=_0x1aa3e['data'][_0x25f561];if(!_0x37c7bc['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x25f561+('].info\x22\x20fi'+'eld'));if(!_0x37c7bc['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x25f561+('].info.loc'+'ale\x22\x20field'));if(typeof _0x37c7bc['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x25f561+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x37c7bc['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x25f561+('].messages'+'\x22\x20field'));}}['parse'](_0x31c296){return this['_validate'](_0x31c296),_0x31c296['data'];}}class aP extends ce{constructor(_0x4ffdaf){super(),this['locale']=$h,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x4ffdaf,this['_assets']=[],this['_parser']=new nP();}set['assets'](_0x9b309){const _0x26654f={};for(let _0x3d87c1=-0x1f8a+0x391+0x1bf9,_0x5c982d=_0x9b309['length'];_0x3d87c1<_0x5c982d;_0x3d87c1++){const _0x367b78=_0x9b309[_0x3d87c1]instanceof le?_0x9b309[_0x3d87c1]['id']:_0x9b309[_0x3d87c1];_0x26654f[_0x367b78]=!(0x21a9+0x3fc+-0x25a5);}let _0x19aea3=this['_assets']['length'];for(;_0x19aea3--;){const _0x561653=this['_assets'][_0x19aea3];if(!_0x26654f[_0x561653]){this['_app']['assets']['off']('add:'+_0x561653,this['_onAssetAd'+'d'],this);const _0x25674a=this['_app']['assets']['get'](_0x561653);_0x25674a&&this['_onAssetRe'+'move'](_0x25674a),this['_assets']['splice'](_0x19aea3,-0xc13+-0x1c5a+-0x2b2*-0xf);}}for(const _0x54f5f3 in _0x26654f){const _0x4d86eb=parseInt(_0x54f5f3,0xc05*-0x1+-0x1*-0xcd6+-0xc7);if(this['_assets']['indexOf'](_0x4d86eb)!==-(0x1*0xba2+-0x1416+-0x1*-0x875))continue;this['_assets']['push'](_0x4d86eb);const _0x4ffb34=this['_app']['assets']['get'](_0x4d86eb);_0x4ffb34?this['_onAssetAd'+'d'](_0x4ffb34):this['_app']['assets']['once']('add:'+_0x4d86eb,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x541ee7){if(this['_locale']===_0x541ee7)return;let _0x3906e0=pi(_0x541ee7);if(_0x3906e0==='in'&&(_0x3906e0='id',_0x541ee7=Y1(_0x541ee7,_0x3906e0),this['_locale']===_0x541ee7))return;const _0x513f6a=this['_locale'];this['_locale']=_0x541ee7,this['_lang']=_0x3906e0,this['_pluralFn']=Xd(this['_lang']),this['fire']('set:locale',_0x541ee7,_0x513f6a);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0xeda960,_0x20c907){return V0(_0xeda960,_0x20c907);}['findAvaila'+'bleLocale'](_0x3fb0b5){if(this['_translati'+'ons'][_0x3fb0b5])return _0x3fb0b5;const _0x404d2c=pi(_0x3fb0b5);return this['_findFallb'+'ackLocale'](_0x3fb0b5,_0x404d2c);}['getText'](_0x286ff6,_0x465e3d){let _0x405cc9=_0x286ff6,_0x1b3e67;_0x465e3d||(_0x465e3d=this['_locale'],_0x1b3e67=this['_lang']);let _0x4a6781=this['_translati'+'ons'][_0x465e3d];return _0x4a6781||(_0x1b3e67||(_0x1b3e67=pi(_0x465e3d)),_0x465e3d=this['_findFallb'+'ackLocale'](_0x465e3d,_0x1b3e67),_0x4a6781=this['_translati'+'ons'][_0x465e3d]),_0x4a6781&&_0x4a6781['hasOwnProp'+'erty'](_0x286ff6)&&(_0x405cc9=_0x4a6781[_0x286ff6],Array['isArray'](_0x405cc9)&&(_0x405cc9=_0x405cc9[0x1cb8+0x40b+-0x20c3]),_0x405cc9==null&&(_0x405cc9=_0x286ff6)),_0x405cc9;}['getPluralT'+'ext'](_0x2284b3,_0x3c527f,_0x16bc3f){let _0xd75369=_0x2284b3,_0x307af3,_0x396605;_0x16bc3f?(_0x307af3=pi(_0x16bc3f),_0x396605=Xd(_0x307af3)):(_0x16bc3f=this['_locale'],_0x307af3=this['_lang'],_0x396605=this['_pluralFn']);let _0x546f0a=this['_translati'+'ons'][_0x16bc3f];if(_0x546f0a||(_0x16bc3f=this['_findFallb'+'ackLocale'](_0x16bc3f,_0x307af3),_0x307af3=pi(_0x16bc3f),_0x396605=Xd(_0x307af3),_0x546f0a=this['_translati'+'ons'][_0x16bc3f]),_0x546f0a&&_0x546f0a[_0x2284b3]&&_0x396605){const _0x155655=_0x396605(_0x3c527f);_0xd75369=_0x546f0a[_0x2284b3][_0x155655],_0xd75369==null&&(_0xd75369=_0x2284b3);}return _0xd75369;}['addData'](_0x381334){let _0x7f8beb;try{_0x7f8beb=this['_parser']['parse'](_0x381334);}catch(_0x58c57d){console['error'](_0x58c57d);return;}for(let _0x43f973=-0x1fdc+-0x1*0xf1+0x20cd,_0x10b6a7=_0x7f8beb['length'];_0x43f973<_0x10b6a7;_0x43f973++){const _0x59cf81=_0x7f8beb[_0x43f973],_0x1e9095=_0x59cf81['info']['locale'],_0x2eeb8d=_0x59cf81['messages'];if(!this['_translati'+'ons'][_0x1e9095]){this['_translati'+'ons'][_0x1e9095]={};const _0xf00ea6=pi(_0x1e9095);this['_available'+'Langs'][_0xf00ea6]||(this['_available'+'Langs'][_0xf00ea6]=_0x1e9095);}Object['assign'](this['_translati'+'ons'][_0x1e9095],_0x2eeb8d),this['fire']('data:add',_0x1e9095,_0x2eeb8d);}}['removeData'](_0x20995d){let _0x307fa9;try{_0x307fa9=this['_parser']['parse'](_0x20995d);}catch(_0x45eeeb){console['error'](_0x45eeeb);return;}for(let _0x4113e8=0x914*0x1+-0x3*-0x397+-0x13d9,_0x452372=_0x307fa9['length'];_0x4113e8<_0x452372;_0x4113e8++){const _0x5a9a79=_0x307fa9[_0x4113e8],_0x5ef7f6=_0x5a9a79['info']['locale'],_0x8b850d=this['_translati'+'ons'][_0x5ef7f6];if(!_0x8b850d)continue;const _0x2f053a=_0x5a9a79['messages'];for(const _0x170e39 in _0x2f053a)delete _0x8b850d[_0x170e39];Object['keys'](_0x8b850d)['length']===-0x15d9+-0x204+0x17dd&&(delete this['_translati'+'ons'][_0x5ef7f6],delete this['_available'+'Langs'][pi(_0x5ef7f6)]),this['fire']('data:remov'+'e',_0x5ef7f6,_0x2f053a);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x2f6874,_0x5eafce){let _0x43ce96=Wh[_0x2f6874];return _0x43ce96&&this['_translati'+'ons'][_0x43ce96]||(_0x43ce96=Wh[_0x5eafce],_0x43ce96&&this['_translati'+'ons'][_0x43ce96])||(_0x43ce96=this['_available'+'Langs'][_0x5eafce],_0x43ce96&&this['_translati'+'ons'][_0x43ce96])?_0x43ce96:$h;}['_onAssetAd'+'d'](_0x415d91){_0x415d91['on']('load',this['_onAssetLo'+'ad'],this),_0x415d91['on']('change',this['_onAssetCh'+'ange'],this),_0x415d91['on']('remove',this['_onAssetRe'+'move'],this),_0x415d91['on']('unload',this['_onAssetUn'+'load'],this),_0x415d91['resource']&&this['_onAssetLo'+'ad'](_0x415d91);}['_onAssetLo'+'ad'](_0x1525c2){this['addData'](_0x1525c2['resource']);}['_onAssetCh'+'ange'](_0x3e94df){_0x3e94df['resource']&&this['addData'](_0x3e94df['resource']);}['_onAssetRe'+'move'](_0x2e8415){_0x2e8415['off']('load',this['_onAssetLo'+'ad'],this),_0x2e8415['off']('change',this['_onAssetCh'+'ange'],this),_0x2e8415['off']('remove',this['_onAssetRe'+'move'],this),_0x2e8415['off']('unload',this['_onAssetUn'+'load'],this),_0x2e8415['resource']&&this['removeData'](_0x2e8415['resource']),this['_app']['assets']['once']('add:'+_0x2e8415['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x9c0bca){_0x9c0bca['resource']&&this['removeData'](_0x9c0bca['resource']);}}class oP extends ce{constructor(_0x587317){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x587317;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x454b9e,_0xf58746){_0xf58746&&this['_scriptSch'+'emas']['set'](_0x454b9e,_0xf58746);}['getSchema'](_0x2d4841){return this['_scriptSch'+'emas']['get'](_0x2d4841);}['add'](_0x29fa71){const _0x2ad798=_0x29fa71['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x2ad798)?(setTimeout(()=>{if(_0x29fa71['prototype']['swap']){const _0x3928ea=this['_scripts'][_0x2ad798],_0x31803f=this['_list']['indexOf'](_0x3928ea);this['_list'][_0x31803f]=_0x29fa71,this['_scripts'][_0x2ad798]=_0x29fa71,this['fire']('swap',_0x2ad798,_0x29fa71),this['fire']('swap:'+_0x2ad798,_0x29fa71);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x2ad798+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x4da+-0xe4*0x20+0x215b)):(this['_scripts'][_0x2ad798]=_0x29fa71,this['_list']['push'](_0x29fa71),this['fire']('add',_0x2ad798,_0x29fa71),this['fire']('add:'+_0x2ad798,_0x29fa71),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x2ad798)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x4ea028=this['app']['systems']['script']['_component'+'s'];let _0x1c740c;const _0x466d5a=[],_0x13f31a=[];for(_0x4ea028['loopIndex']=0x7*-0x3b6+-0x1942*-0x1+0x2e*0x4;_0x4ea028['loopIndex']<_0x4ea028['length'];_0x4ea028['loopIndex']++){const _0x24dd16=_0x4ea028['items'][_0x4ea028['loopIndex']];if(_0x24dd16['_scriptsIn'+'dex'][_0x2ad798]&&_0x24dd16['_scriptsIn'+'dex'][_0x2ad798]['awaiting']){_0x24dd16['_scriptsDa'+'ta']&&_0x24dd16['_scriptsDa'+'ta'][_0x2ad798]&&(_0x1c740c=_0x24dd16['_scriptsDa'+'ta'][_0x2ad798]['attributes']);const _0x3018a6=_0x24dd16['create'](_0x2ad798,{'preloading':!(-0xcb5+-0x1947+-0x1ba*-0x16),'ind':_0x24dd16['_scriptsIn'+'dex'][_0x2ad798]['ind'],'attributes':_0x1c740c});_0x3018a6&&_0x466d5a['push'](_0x3018a6);for(const _0x5cc29d of _0x24dd16['scripts'])_0x24dd16['initialize'+'Attributes'](_0x5cc29d);}}for(let _0x487d34=0x1483+0xb03+-0xa82*0x3;_0x487d34<_0x466d5a['length'];_0x487d34++)_0x466d5a[_0x487d34]['enabled']&&(_0x466d5a[_0x487d34]['_initializ'+'ed']=!(0x3*-0x820+0x1*-0xa55+0x1*0x22b5),_0x13f31a['push'](_0x466d5a[_0x487d34]),_0x466d5a[_0x487d34]['initialize']&&_0x466d5a[_0x487d34]['initialize']());for(let _0x2b3c92=-0x23f8+-0x14f*-0x2+-0x10ad*-0x2;_0x2b3c92<_0x13f31a['length'];_0x2b3c92++)!_0x13f31a[_0x2b3c92]['enabled']||_0x13f31a[_0x2b3c92]['_postIniti'+'alized']||(_0x13f31a[_0x2b3c92]['_postIniti'+'alized']=!(0x17*0xf7+-0x123*-0x6+-0x1d03),_0x13f31a[_0x2b3c92]['postInitia'+'lize']&&_0x13f31a[_0x2b3c92]['postInitia'+'lize']());}),!(-0x1*0xfd1+0x25f2+0x203*-0xb));}['remove'](_0x551fde){let _0x5c6680=_0x551fde,_0x42ede6=_0x551fde;if(typeof _0x42ede6!='string'?_0x42ede6=_0x5c6680['__name']:_0x5c6680=this['get'](_0x42ede6),this['get'](_0x42ede6)!==_0x5c6680)return!(0x523+-0xed7+0x1*0x9b5);delete this['_scripts'][_0x42ede6];const _0x5745b0=this['_list']['indexOf'](_0x5c6680);return this['_list']['splice'](_0x5745b0,0x13e*-0x1f+-0x2467*-0x1+0x21c),this['fire']('remove',_0x42ede6,_0x5c6680),this['fire']('remove:'+_0x42ede6,_0x5c6680),!(-0x55*-0x33+-0x1*0xdee+-0x301);}['get'](_0xf9a3cc){return this['_scripts'][_0xf9a3cc]||null;}['has'](_0x656b05){if(typeof _0x656b05=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x656b05);if(!_0x656b05)return!(0x205f*0x1+-0x3c1+-0x1c9d);const _0x23e334=_0x656b05['__name'];return this['_scripts'][_0x23e334]===_0x656b05;}['list'](){return this['_list'];}}const lP=(_0xbeb1c,_0x50da11)=>_0xbeb1c['constructo'+'r']['order']-_0x50da11['constructo'+'r']['order'],hP=_0x4b249a=>_0x4b249a['sort'](lP),Za=[],G0=[],cP=()=>G0['pop']()??[],W_=_0x2c0aa5=>{_0x2c0aa5['length']=-0x223a+-0xdee+0x86*0x5c,G0['push'](_0x2c0aa5);},ac=class ac extends De{constructor(_0x37cd84,_0x109a16=tn()){super(_0x37cd84),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(0x7*-0x565+-0xd6*0x1f+-0x39*-0x11e)),c(this,'_guid',null),c(this,'_template',!(0x19ee+0x23df*0x1+-0x3dcc)),(v['assert'](_0x109a16,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x109a16);}['addCompone'+'nt'](_0xe170ff,_0x3226c0){const _0x3c7bd4=this['_app']['systems'][_0xe170ff];return _0x3c7bd4?this['c'][_0xe170ff]?(v['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0xe170ff+('\x27\x20componen'+'t')),null):_0x3c7bd4['addCompone'+'nt'](this,_0x3226c0):(v['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0xe170ff+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x2948b6){const _0x3c09ac=this['_app']['systems'][_0x2948b6];if(!_0x3c09ac){v['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x2948b6+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x2948b6]){v['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x2948b6+('\x27\x20componen'+'t'));return;}_0x3c09ac['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x9ff5d1){const _0x196cbb=this['findOne'](_0x1070a1=>{var _0x4880ef;return(_0x4880ef=_0x1070a1['c'])==null?void(0x2*0xdfb+0x2*-0x105a+0x25f*0x2):_0x4880ef[_0x9ff5d1];});return _0x196cbb&&_0x196cbb['c'][_0x9ff5d1];}['findCompon'+'ents'](_0xd92ac0){return this['find'](_0x59b0f4=>{var _0xc35bbf;return(_0xc35bbf=_0x59b0f4['c'])==null?void(0x19d2+-0xf0d*0x1+-0xac5):_0xc35bbf[_0xd92ac0];})['map'](_0x164025=>_0x164025['c'][_0xd92ac0]);}['findScript'](_0x4d52aa){const _0x1ad5f8=this['findOne'](_0x5d08bf=>{var _0x31731a,_0x4ca091;return(_0x4ca091=(_0x31731a=_0x5d08bf['c'])==null?void(-0x13fd+-0x1*-0x711+-0x2*-0x676):_0x31731a['script'])==null?void(0x25d4+0x703*0x5+-0x48e3):_0x4ca091['has'](_0x4d52aa);});return _0x1ad5f8==null?void(0x236*-0x4+-0x2624+0x2efc):_0x1ad5f8['c']['script']['get'](_0x4d52aa);}['findScript'+'s'](_0xc6729e){return this['find'](_0x5844c4=>{var _0x2b053a,_0x4c5d80;return(_0x4c5d80=(_0x2b053a=_0x5844c4['c'])==null?void(-0x196f*-0x1+-0x1*0x8d1+0x109e*-0x1):_0x2b053a['script'])==null?void(0x1a1+0x1342+-0x1*0x14e3):_0x4c5d80['has'](_0xc6729e);})['map'](_0x1ac3da=>_0x1ac3da['c']['script']['get'](_0xc6729e));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x52b97c){const _0x5b6a29=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x5b6a29[this['_guid']],this['_guid']=_0x52b97c,_0x5b6a29[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x30a5d7,_0x1a4f39){let _0x4ae681=!(0x219d+-0x225f+0xc3);_0x30a5d7===this&&Za['length']===0xdf9+-0xd3*-0x22+-0xd*0x33b&&(_0x4ae681=!(-0x3*-0xbc4+-0x6d3*0x1+-0x1c79)),_0x30a5d7['_beingEnab'+'led']=!(0x8f+-0x1c19+0x1b8a),_0x30a5d7['_onHierarc'+'hyStateCha'+'nged'](_0x1a4f39),_0x30a5d7['_onHierarc'+'hyStatePos'+'tChanged']&&Za['push'](_0x30a5d7);const _0xa9e1d=_0x30a5d7['_children'];for(let _0x5e40c0=-0x2e5+-0x21*0x8e+0x1533,_0x41a726=_0xa9e1d['length'];_0x5e40c0<_0x41a726;_0x5e40c0++)_0xa9e1d[_0x5e40c0]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0xa9e1d[_0x5e40c0],_0x1a4f39);if(_0x30a5d7['_beingEnab'+'led']=!(-0x4*-0x3d9+-0x2*-0x72f+-0x1dc1),_0x4ae681){for(let _0x29c7ba=0x1cbc+-0x158b+-0x107*0x7;_0x29c7ba<Za['length'];_0x29c7ba++)Za[_0x29c7ba]['_onHierarc'+'hyStatePos'+'tChanged']();Za['length']=0x2577+-0xc2f+-0x4*0x652;}}['_onHierarc'+'hyStateCha'+'nged'](_0x567c17){super['_onHierarc'+'hyStateCha'+'nged'](_0x567c17);const _0x26d82e=this['_getSorted'+'Components']();for(let _0xe9d43d=-0x98d+-0x1ae2+0x246f;_0xe9d43d<_0x26d82e['length'];_0xe9d43d++){const _0x42152c=_0x26d82e[_0xe9d43d];_0x42152c['enabled']&&(_0x567c17?_0x42152c['onEnable']():_0x42152c['onDisable']());}W_(_0x26d82e);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x1f37d0=this['_getSorted'+'Components']();for(let _0x35fd94=0x1c6d*-0x1+-0x1*0x1381+-0x4cb*-0xa;_0x35fd94<_0x1f37d0['length'];_0x35fd94++)_0x1f37d0[_0x35fd94]['onPostStat'+'eChange']();W_(_0x1f37d0);}['findByGuid'](_0x53e34a){if(this['_guid']===_0x53e34a)return this;const _0x5606a2=this['_app']['_entityInd'+'ex'][_0x53e34a];return _0x5606a2&&(_0x5606a2===this||_0x5606a2['isDescenda'+'ntOf'](this))?_0x5606a2:null;}['destroy'](){this['_destroyin'+'g']=!(-0x204a+-0x9e5*-0x1+0x1665);for(const _0x5aba3e in this['c'])this['c'][_0x5aba3e]['enabled']=!(-0x530+0x20*0x123+-0x1f2f);for(const _0x333eac in this['c'])this['c'][_0x333eac]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(0xe*0x22b+-0x1be6+-0x1*0x273);}['clone'](){const _0x56eca8={},_0x324a30=this['_cloneRecu'+'rsively'](_0x56eca8);return _0x56eca8[this['getGuid']()]=_0x324a30,H0(this,this,_0x324a30,_0x56eca8),_0x324a30;}['_getSorted'+'Components'](){const _0x25ad65=this['c'],_0x9e03db=cP();let _0x31811d=-0x3b9*0x3+0x2*-0xb08+0x2f*0xb5;for(const _0x6362a2 in _0x25ad65)if(_0x25ad65['hasOwnProp'+'erty'](_0x6362a2)){const _0x5da089=_0x25ad65[_0x6362a2];_0x31811d|=_0x5da089['constructo'+'r']['order']!==-0x6*-0x3d6+-0x1f*-0x3+-0x13*0x13b,_0x9e03db['push'](_0x5da089);}return _0x31811d&&_0x9e03db['length']>0x185*0x5+-0x21c0+0x1a28&&hP(_0x9e03db),_0x9e03db;}['_cloneRecu'+'rsively'](_0x57fa8b){const _0x124f16=new this['constructo'+'r'](void(-0x1e17+0x1af*-0x15+0x4172),this['_app']);super['_cloneInte'+'rnal'](_0x124f16);for(const _0x5b9ff2 in this['c'])this['c'][_0x5b9ff2]['system']['cloneCompo'+'nent'](this,_0x124f16);for(let _0x55111a=0x246*-0xd+-0x100*-0xe+0xf8e;_0x55111a<this['_children']['length'];_0x55111a++){const _0x8d985f=this['_children'][_0x55111a];if(_0x8d985f instanceof ac){const _0x43fe03=_0x8d985f['_cloneRecu'+'rsively'](_0x57fa8b);_0x124f16['addChild'](_0x43fe03),_0x57fa8b[_0x8d985f['getGuid']()]=_0x43fe03;}}return _0x124f16;}};c(ac,'EVENT_DEST'+'ROY','destroy');let $e=ac;function H0(_0xccdde0,_0x2aea06,_0x5ef479,_0x1d06ed){if(_0x2aea06 instanceof $e){const _0xb8773c=_0x2aea06['c'];for(const _0x328f7a in _0xb8773c){const _0x1ebc38=_0xb8773c[_0x328f7a],_0x31a95f=_0x1ebc38['system']['getPropert'+'iesOfType']('entity');for(let _0x22f385=-0x6d+-0x776+-0x3*-0x2a1,_0x583817=_0x31a95f['length'];_0x22f385<_0x583817;_0x22f385++){const _0x157ff9=_0x31a95f[_0x22f385]['name'],_0x1312d1=_0x1ebc38[_0x157ff9];if(!!_0xccdde0['findByGuid'](_0x1312d1)){const _0x3aef32=_0x1d06ed[_0x1312d1]['getGuid']();_0x3aef32?_0x5ef479['c'][_0x328f7a][_0x157ff9]=_0x3aef32:v['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0xb8773c['script']&&_0x5ef479['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xb8773c['script'],_0x1d06ed),_0xb8773c['render']&&_0x5ef479['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xb8773c['render'],_0x1d06ed),_0xb8773c['button']&&_0x5ef479['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xb8773c['button'],_0x1d06ed),_0xb8773c['scrollview']&&_0x5ef479['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xb8773c['scrollview'],_0x1d06ed),_0xb8773c['scrollbar']&&_0x5ef479['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xb8773c['scrollbar'],_0x1d06ed),_0xb8773c['anim']&&_0x5ef479['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xb8773c['anim'],_0x1d06ed);const _0x1a11dd=_0x2aea06['children']['filter'](_0x4b3648=>_0x4b3648 instanceof $e),_0x2ba490=_0x5ef479['children']['filter'](_0x21e152=>_0x21e152 instanceof $e);for(let _0x2ae5f9=0x1*0x1ed3+0x227e+-0x4151,_0x8d7904=_0x1a11dd['length'];_0x2ae5f9<_0x8d7904;_0x2ae5f9++)H0(_0xccdde0,_0x1a11dd[_0x2ae5f9],_0x2ba490[_0x2ae5f9],_0x1d06ed);}}class q_{constructor(_0x33fd4,_0x7b24a7){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(0x1*0x1c4f+0xa*-0x64+-0x1866)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x33fd4,this['url']=_0x7b24a7);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class dP{constructor(_0x1147dc){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x1147dc;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x76591b,_0x29128f){if(this['_index']['hasOwnProp'+'erty'](_0x76591b))return v['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x76591b),!(-0x23d4+-0x864+-0x1*-0x2c39);const _0x32157b=new q_(_0x76591b,_0x29128f),_0x3fd886=this['_list']['push'](_0x32157b);return this['_index'][_0x32157b['name']]=_0x3fd886-(-0x832*0x3+-0x191*0x1+0x1a28),this['_urlIndex'][_0x32157b['url']]=_0x3fd886-(-0x5*0x5af+-0x167a+0x32e6),!(-0x191*-0x15+0x1*0x20d3+0xaf4*-0x6);}['find'](_0x20b076){return this['_index']['hasOwnProp'+'erty'](_0x20b076)?this['_list'][this['_index'][_0x20b076]]:null;}['findByUrl'](_0x1d127d){return this['_urlIndex']['hasOwnProp'+'erty'](_0x1d127d)?this['_list'][this['_urlIndex'][_0x1d127d]]:null;}['remove'](_0x5b1da6){if(this['_index']['hasOwnProp'+'erty'](_0x5b1da6)){const _0x10c726=this['_index'][_0x5b1da6];let _0x5bb3db=this['_list'][_0x10c726];delete this['_urlIndex'][_0x5bb3db['url']],delete this['_index'][_0x5b1da6],this['_list']['splice'](_0x10c726,-0x25a6+0xe99+0x170e*0x1);for(let _0x132c45=0x1cac+-0x97*0x17+-0xf1b*0x1;_0x132c45<this['_list']['length'];_0x132c45++)_0x5bb3db=this['_list'][_0x132c45],this['_index'][_0x5bb3db['name']]=_0x132c45,this['_urlIndex'][_0x5bb3db['url']]=_0x132c45;}}['_loadScene'+'Data'](_0x5425bf,_0x3aa94e,_0x1556ac){const _0x5db29a=this['_app'];let _0x1d9229=_0x5425bf;if(typeof _0x5425bf=='string'&&(_0x5425bf=this['findByUrl'](_0x1d9229)||this['find'](_0x1d9229)||new q_('Untitled',_0x1d9229)),_0x1d9229=_0x5425bf['url'],!_0x1d9229){_0x1556ac('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x5425bf['loaded']){_0x1556ac(null,_0x5425bf);return;}_0x5db29a['assets']&&_0x5db29a['assets']['prefix']&&!Da['test'](_0x1d9229)&&(_0x1d9229=fe['join'](_0x5db29a['assets']['prefix'],_0x1d9229)),_0x5425bf['_onLoadedC'+'allbacks']['push'](_0x1556ac),_0x5425bf['_loading']||_0x5db29a['loader']['getHandler']('hierarchy')['load'](_0x1d9229,(_0x44a4d9,_0x2d5c30)=>{_0x5425bf['data']=_0x2d5c30,_0x5425bf['_loading']=!(-0x262e*-0x1+-0x427*0x1+-0x2206);for(let _0x15dc43=0xa9f*-0x1+-0x1*-0x14ff+-0x8*0x14c;_0x15dc43<_0x5425bf['_onLoadedC'+'allbacks']['length'];_0x15dc43++)_0x5425bf['_onLoadedC'+'allbacks'][_0x15dc43](_0x44a4d9,_0x5425bf);_0x3aa94e||(_0x5425bf['data']=null),_0x5425bf['_onLoadedC'+'allbacks']['length']=-0x24e8+0x1ee9*-0x1+-0x789*-0x9;}),_0x5425bf['_loading']=!(-0x1f36+0xb7e*0x2+0x83a);}['loadSceneD'+'ata'](_0x10cf9d,_0x36f87e){this['_loadScene'+'Data'](_0x10cf9d,!(0x1*-0x4dc+-0x1*-0x94d+-0x471),_0x36f87e);}['unloadScen'+'eData'](_0x3fced9){typeof _0x3fced9=='string'&&(_0x3fced9=this['findByUrl'](_0x3fced9)),_0x3fced9&&(_0x3fced9['data']=null);}['_loadScene'+'Hierarchy'](_0x22f84b,_0x21d8cc,_0x358ed8){this['_loadScene'+'Data'](_0x22f84b,!(0x3a*-0x89+0x16f9+0x812),(_0x3362ea,_0xf9aa5b)=>{if(_0x3362ea){_0x358ed8&&_0x358ed8(_0x3362ea);return;}_0x21d8cc&&_0x21d8cc(_0xf9aa5b);const _0x432fed=this['_app'],_0x5276db=()=>{const _0x33145a=_0x432fed['loader']['getHandler']('hierarchy');_0x432fed['systems']['script']['preloading']=!(-0x3d8+0x3*0x9a9+-0x507*0x5);const _0x57c204=_0x33145a['open'](_0xf9aa5b['url'],_0xf9aa5b['data']);_0x432fed['systems']['script']['preloading']=!(-0xfe7+0xa*-0x22d+0x25aa),_0x432fed['loader']['clearCache'](_0xf9aa5b['url'],'hierarchy'),_0x432fed['root']['addChild'](_0x57c204),_0x432fed['systems']['fire']('initialize',_0x57c204),_0x432fed['systems']['fire']('postInitia'+'lize',_0x57c204),_0x432fed['systems']['fire']('postPostIn'+'itialize',_0x57c204),_0x358ed8&&_0x358ed8(null,_0x57c204);};_0x432fed['_preloadSc'+'ripts'](_0xf9aa5b['data'],_0x5276db);});}['loadSceneH'+'ierarchy'](_0x1e41e6,_0x6fe47c){this['_loadScene'+'Hierarchy'](_0x1e41e6,null,_0x6fe47c);}['loadSceneS'+'ettings'](_0x368acf,_0x31c4bf){this['_loadScene'+'Data'](_0x368acf,!(-0x1fdc+-0x2b9*-0xb+0x1ea),(_0x5cd273,_0x121ac3)=>{_0x5cd273?_0x31c4bf&&_0x31c4bf(_0x5cd273):(this['_app']['applyScene'+'Settings'](_0x121ac3['data']['settings']),_0x31c4bf&&_0x31c4bf(null));});}['changeScen'+'e'](_0x24a379,_0x523e0f){const _0x46e76c=this['_app'],_0x45784d=_0x1e86cf=>{const {children:_0x2cf2e6}=_0x46e76c['root'];for(;_0x2cf2e6['length'];)_0x2cf2e6[-0xee9+0x62b+0x8be]['destroy']();_0x46e76c['applyScene'+'Settings'](_0x1e86cf['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x24a379,_0x45784d,_0x523e0f);}['loadScene'](_0x11b983,_0x24ffbd){const _0x5b0a82=this['_app'],_0x2fcefd=_0x5b0a82['loader']['getHandler']('scene');_0x5b0a82['assets']&&_0x5b0a82['assets']['prefix']&&!Da['test'](_0x11b983)&&(_0x11b983=fe['join'](_0x5b0a82['assets']['prefix'],_0x11b983)),_0x2fcefd['load'](_0x11b983,(_0x16424f,_0x55dce0)=>{if(_0x16424f)_0x24ffbd&&_0x24ffbd(_0x16424f);else{const _0xc379f=()=>{_0x5b0a82['systems']['script']['preloading']=!(-0x1319*-0x2+0xfc2+-0xc*0x47f);const _0x9a4f43=_0x2fcefd['open'](_0x11b983,_0x55dce0),_0x518bd=this['findByUrl'](_0x11b983);_0x518bd&&!_0x518bd['loaded']&&(_0x518bd['data']=_0x55dce0),_0x5b0a82['systems']['script']['preloading']=!(0x2274+0x1b*0xc7+0x2*-0x1bb8),_0x5b0a82['loader']['clearCache'](_0x11b983,'scene'),_0x5b0a82['loader']['patch']({'resource':_0x9a4f43,'type':'scene'},_0x5b0a82['assets']),_0x5b0a82['root']['addChild'](_0x9a4f43['root']),_0x5b0a82['systems']['rigidbody']&&typeof Ammo<'u'&&_0x5b0a82['systems']['rigidbody']['gravity']['set'](_0x9a4f43['_gravity']['x'],_0x9a4f43['_gravity']['y'],_0x9a4f43['_gravity']['z']),_0x24ffbd&&_0x24ffbd(null,_0x9a4f43);};_0x5b0a82['_preloadSc'+'ripts'](_0x55dce0,_0xc379f);}});}}class uP{constructor(_0x46f3b8){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x46f3b8['_shaderSta'+'ts'],this['vram']=_0x46f3b8['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return tn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x315ae3;return(_0x315ae3=tn()['lightmappe'+'r'])==null?void(0x1*-0x14c7+-0x225b+-0x1*-0x3722):_0x315ae3['stats'];}get['batcher'](){const _0x904159=tn()['_batcher'];return _0x904159?_0x904159['_stats']:null;}}const Gr=class Gr extends ce{constructor(_0x10fdf9){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(0x37c*0x1+0x1acc+-0x1*0x1e47)),c(this,'_inFrameUp'+'date',!(-0xb*0x205+-0x2*-0x1fd+0x123e)),c(this,'_libraries'+'Loaded',!(-0x666+0x5d5*-0x2+0x1211)),c(this,'_fillMode',V_),c(this,'_resolutio'+'nMode',q1),c(this,'_allowResi'+'ze',!(0x1*-0x1370+0x30f*0x7+-0x65*0x5)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(-0x80*0x2e+0x23a8+0xca7*-0x1)),c(this,'_scriptPre'+'fix',''),c(this,'_time',0xb0+-0x170f+0x165f),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',0x551*-0x6+0xfb*0x6+0x1a05),c(this,'maxDeltaTi'+'me',0x247c+-0x115c+-0x1320+0.1),c(this,'frame',-0x1*0x547+0x152e+-0xfe7),c(this,'frameGraph',new X1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(-0x136*0x17+-0x730+-0x159*-0x1a)),c(this,'renderNext'+'Frame',!(0x1ee*0x7+0xb29+-0x18aa*0x1)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new pa(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new dP(this)),c(this,'scripts',new oP(this)),c(this,'systems',new sP()),c(this,'i18n',new aP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((no==null?void(0x2687+0x95*0x1a+-0x35a9):no['indexOf']('$'))<-0x109+0xa8*-0x1d+0x1411&&v['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+no+'\x20'+sy),Gr['_applicati'+'ons'][_0x10fdf9['id']]=this,qu(this),this['root']=new $e(),this['root']['_enabledIn'+'Hierarchy']=!(-0x658+-0x76*0x45+0x2626));}['init'](_0x5bf7fe){const {assetPrefix:_0x5b18e5,batchManager:_0x1fa7d0,componentSystems:_0x3ecb76,elementInput:_0x4f55d8,gamepads:_0x517558,graphicsDevice:_0x3ac6ac,keyboard:_0x3e8689,lightmapper:_0x5b7f0a,mouse:_0x525957,resourceHandlers:_0x2080d0,scriptsOrder:_0x1f6d7b,scriptPrefix:_0x5d2a1e,soundManager:_0x1814e9,touch:_0x465b2c,xr:_0x263176}=_0x5bf7fe;v['assert'](_0x3ac6ac,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x3ac6ac,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new uP(_0x3ac6ac),this['_soundMana'+'ger']=_0x1814e9,this['scene']=new ci(_0x3ac6ac),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new ao(this['loader']),_0x5b18e5&&(this['assets']['prefix']=_0x5b18e5),this['bundles']=new tP(this['assets']),this['scriptsOrd'+'er']=_0x1f6d7b||[],this['defaultLay'+'erWorld']=new Lr({'name':'World','id':Fi}),this['defaultLay'+'erDepth']=new Lr({'name':'Depth','id':Xt,'enabled':!(0x429*0x3+0x115f*-0x1+0x4e5),'opaqueSortMode':dh}),this['defaultLay'+'erSkybox']=new Lr({'name':'Skybox','id':vp,'opaqueSortMode':dh}),this['defaultLay'+'erUi']=new Lr({'name':'UI','id':tl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Lr({'name':'Immediate','id':bp,'opaqueSortMode':dh});const _0x326825=new S_('default');_0x326825['pushOpaque'](this['defaultLay'+'erWorld']),_0x326825['pushOpaque'](this['defaultLay'+'erDepth']),_0x326825['pushOpaque'](this['defaultLay'+'erSkybox']),_0x326825['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x326825['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x326825['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x326825['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x326825,Wr['createPlac'+'eholder'](_0x3ac6ac),this['renderer']=new Gh(_0x3ac6ac),this['renderer']['scene']=this['scene'],_0x5b7f0a&&(this['lightmappe'+'r']=new _0x5b7f0a(_0x3ac6ac,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x1fa7d0&&(this['_batcher']=new _0x1fa7d0(_0x3ac6ac,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x3e8689||null,this['mouse']=_0x525957||null,this['touch']=_0x465b2c||null,this['gamepads']=_0x517558||null,_0x4f55d8&&(this['elementInp'+'ut']=_0x4f55d8,this['elementInp'+'ut']['app']=this),this['xr']=_0x263176?new _0x263176(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x5d2a1e||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new rP(this)),_0x2080d0['forEach'](_0xfc77e0=>{const _0x9285ad=new _0xfc77e0(this);this['loader']['addHandler'](_0x9285ad['handlerTyp'+'e'],_0x9285ad);}),_0x3ecb76['forEach'](_0x49d891=>{this['systems']['add'](new _0x49d891(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x1911+-0x1*-0x10de+-0x235*0x13)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x8e+0xe1f*0x1+-0x139*0xc))):document['mozHidden']!==void(-0x19e8+-0x19cf+0x33b7)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1db6*0x1+-0x6*-0xa+-0xf*0x1ff))):document['msHidden']!==void(-0x1b72+0xc5f+-0x1*-0xf13)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x91*-0x35+0x244d*-0x1+0x1*0x4253))):document['webkitHidd'+'en']!==void(-0x1*0x981+-0x107a+0x19fb)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x17d5+-0x3d*-0x7+0x162b)))),this['tick']=fP(this);}static['getApplica'+'tion'](_0x2d1821){return _0x2d1821?Gr['_applicati'+'ons'][_0x2d1821]:tn();}['_initDefau'+'ltMaterial'](){const _0x47b86f=new cs();_0x47b86f['name']='Default\x20Ma'+'terial',sC(this['graphicsDe'+'vice'],_0x47b86f);}['_initProgr'+'amLibrary'](){const _0x10976d=new D1(this['graphicsDe'+'vice'],new cs());$E(this['graphicsDe'+'vice'],_0x10976d);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return v['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x55f090,_0x2f7284){We['get'](_0x55f090,(_0x49cdf5,_0x25115e)=>{if(_0x49cdf5){_0x2f7284(_0x49cdf5);return;}const _0x387c4e=_0x25115e['applicatio'+'n_properti'+'es'],_0xfcb3f7=_0x25115e['scenes'],_0x4d89ec=_0x25115e['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x387c4e,_0x417155=>{this['_parseScen'+'es'](_0xfcb3f7),this['_parseAsse'+'ts'](_0x4d89ec),_0x2f7284(_0x417155||null);});});}['preload'](_0x766dd1){this['fire']('preload:st'+'art');const _0x2207ae=this['assets']['list']({'preload':!(-0xc0d+0x1*-0x14a6+-0xb*-0x2f9)});if(_0x2207ae['length']===-0x98f*-0x2+-0x1*-0x1753+0x2a71*-0x1){this['fire']('preload:en'+'d'),_0x766dd1();return;}let _0x94afc6=-0x4*-0x67f+-0x1*-0xe95+-0x2891*0x1;const _0x34b3a1=()=>{_0x94afc6++,this['fire']('preload:pr'+'ogress',_0x94afc6/_0x2207ae['length']),_0x94afc6===_0x2207ae['length']&&(this['fire']('preload:en'+'d'),_0x766dd1());};_0x2207ae['forEach'](_0x59463c=>{_0x59463c['loaded']?_0x34b3a1():(_0x59463c['once']('load',_0x34b3a1),_0x59463c['once']('error',_0x34b3a1),this['assets']['load'](_0x59463c));});}['_preloadSc'+'ripts'](_0x3843f3,_0x311aee){_0x311aee();}['_parseAppl'+'icationPro'+'perties'](_0x216ad0,_0x204024){if(typeof _0x216ad0['maxAssetRe'+'tries']=='number'&&_0x216ad0['maxAssetRe'+'tries']>0x68c+-0x22ba+0x1c2e&&this['loader']['enableRetr'+'y'](_0x216ad0['maxAssetRe'+'tries']),_0x216ad0['useDeviceP'+'ixelRatio']||(_0x216ad0['useDeviceP'+'ixelRatio']=_0x216ad0['use_device'+'_pixel_rat'+'io']),_0x216ad0['resolution'+'Mode']||(_0x216ad0['resolution'+'Mode']=_0x216ad0['resolution'+'_mode']),_0x216ad0['fillMode']||(_0x216ad0['fillMode']=_0x216ad0['fill_mode']),this['_width']=_0x216ad0['width'],this['_height']=_0x216ad0['height'],_0x216ad0['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x216ad0['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x216ad0['fillMode'],this['_width'],this['_height']),_0x216ad0['layers']&&_0x216ad0['layerOrder']){const _0x43337c=new S_('applicatio'+'n'),_0x1d81ed={};for(const _0x5d60ea in _0x216ad0['layers']){const _0x1e05b0=_0x216ad0['layers'][_0x5d60ea];_0x1e05b0['id']=parseInt(_0x5d60ea,-0x1a42+-0x34*0x8+0xdf6*0x2),_0x1e05b0['enabled']=_0x1e05b0['id']!==Xt,_0x1d81ed[_0x5d60ea]=new Lr(_0x1e05b0);}for(let _0xbf4fbd=-0x1*0xe51+-0x1c4*0x11+-0x123*-0x27,_0x5bdfd2=_0x216ad0['layerOrder']['length'];_0xbf4fbd<_0x5bdfd2;_0xbf4fbd++){const _0x50df7c=_0x216ad0['layerOrder'][_0xbf4fbd],_0x88cc4d=_0x1d81ed[_0x50df7c['layer']];_0x88cc4d&&(_0x50df7c['transparen'+'t']?_0x43337c['pushTransp'+'arent'](_0x88cc4d):_0x43337c['pushOpaque'](_0x88cc4d),_0x43337c['subLayerEn'+'abled'][_0xbf4fbd]=_0x50df7c['enabled']);}this['scene']['layers']=_0x43337c;}if(_0x216ad0['batchGroup'+'s']){const _0x5db0ec=this['batcher'];if(_0x5db0ec)for(let _0x5ad256=-0x21b2+0x26e7+-0x535,_0x3860a8=_0x216ad0['batchGroup'+'s']['length'];_0x5ad256<_0x3860a8;_0x5ad256++){const _0x1570a5=_0x216ad0['batchGroup'+'s'][_0x5ad256];_0x5db0ec['addGroup'](_0x1570a5['name'],_0x1570a5['dynamic'],_0x1570a5['maxAabbSiz'+'e'],_0x1570a5['id'],_0x1570a5['layers']);}}_0x216ad0['i18nAssets']&&(this['i18n']['assets']=_0x216ad0['i18nAssets']),this['_loadLibra'+'ries'](_0x216ad0['libraries'],_0x204024);}['_loadLibra'+'ries'](_0xec1fbb,_0x76fff8){const _0x5767c0=_0xec1fbb['length'];let _0x105b24=_0x5767c0;const _0x3acc78=/^https?:\/\//;if(_0x5767c0){const _0x37d134=(_0x24a879,_0x51b200)=>{_0x105b24--,_0x24a879?_0x76fff8(_0x24a879):_0x105b24===0x3*0x27+-0x9d*-0x39+-0x236a&&(this['onLibrarie'+'sLoaded'](),_0x76fff8(null));};for(let _0x228e66=-0x2481+-0x1aa2+0x3f23;_0x228e66<_0x5767c0;++_0x228e66){let _0x21e5ae=_0xec1fbb[_0x228e66];!_0x3acc78['test'](_0x21e5ae['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x21e5ae=fe['join'](this['_scriptPre'+'fix'],_0x21e5ae)),this['loader']['load'](_0x21e5ae,'script',_0x37d134);}}else this['onLibrarie'+'sLoaded'](),_0x76fff8(null);}['_parseScen'+'es'](_0x16f16e){if(_0x16f16e){for(let _0x4e7136=-0x6f0+0x13d*-0x1d+0x61f*0x7;_0x4e7136<_0x16f16e['length'];_0x4e7136++)this['scenes']['add'](_0x16f16e[_0x4e7136]['name'],_0x16f16e[_0x4e7136]['url']);}}['_parseAsse'+'ts'](_0x5b6faa){const _0x525eb0=[],_0x42a9c3={},_0x38bc55={};for(let _0x2a76e8=-0x1f4+0x65*-0x5+0x1*0x3ed;_0x2a76e8<this['scriptsOrd'+'er']['length'];_0x2a76e8++){const _0x58794f=this['scriptsOrd'+'er'][_0x2a76e8];_0x5b6faa[_0x58794f]&&(_0x42a9c3[_0x58794f]=!(0xd16+-0x1*-0xa52+-0x1768),_0x525eb0['push'](_0x5b6faa[_0x58794f]));}if(this['enableBund'+'les']){for(const _0xdf7c0e in _0x5b6faa)_0x5b6faa[_0xdf7c0e]['type']==='bundle'&&(_0x38bc55[_0xdf7c0e]=!(0x1476+0x1c09+0x1*-0x307f),_0x525eb0['push'](_0x5b6faa[_0xdf7c0e]));}for(const _0x4b99a1 in _0x5b6faa)_0x42a9c3[_0x4b99a1]||_0x38bc55[_0x4b99a1]||_0x525eb0['push'](_0x5b6faa[_0x4b99a1]);for(let _0x91f311=0x2644+0x17c1+0x1*-0x3e05;_0x91f311<_0x525eb0['length'];_0x91f311++){const _0x2983aa=_0x525eb0[_0x91f311],_0x3e8e04=new le(_0x2983aa['name'],_0x2983aa['type'],_0x2983aa['file'],_0x2983aa['data']);if(_0x3e8e04['id']=parseInt(_0x2983aa['id'],-0x5*-0x1d1+-0x1031+0x726),_0x3e8e04['preload']=_0x2983aa['preload']?_0x2983aa['preload']:!(-0x2124+0x1f5*-0x13+-0x7*-0xa0c),_0x3e8e04['loaded']=_0x2983aa['type']==='script'&&_0x2983aa['data']&&_0x2983aa['data']['loadingTyp'+'e']>-0x4bc+0x2b6+0x2*0x103,_0x3e8e04['tags']['add'](_0x2983aa['tags']),_0x2983aa['i18n']){for(const _0x5a478a in _0x2983aa['i18n'])_0x3e8e04['addLocaliz'+'edAssetId'](_0x5a478a,_0x2983aa['i18n'][_0x5a478a]);}this['assets']['add'](_0x3e8e04);}}['start'](){v['call'](()=>{v['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0x17d3+0x107d*0x1+0x756);}),this['frame']=-0x1b*-0x141+0x3*0x2f3+0x6*-0x71e,this['fire']('start',{'timestamp':ne(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x458e9b){this['controller']&&this['controller']['update'](_0x458e9b),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x78a802){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ne(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x78a802),this['systems']['fire']('animationU'+'pdate',_0x78a802),this['systems']['fire']('postUpdate',_0x78a802),this['fire']('update',_0x78a802),this['inputUpdat'+'e'](_0x78a802),this['stats']['frame']['updateTime']=ne()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ne(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Gh['_skipRende'+'rCounter']=0x2*-0x3ad+0x2*0x9+0x2*0x3a4,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ne()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x1c8054){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x1c8054),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x1c8054),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0xd7e54e,_0x2a0889,_0x3a47b4){const _0x1f0985=this['stats']['frame'];_0x1f0985['dt']=_0x2a0889,_0x1f0985['ms']=_0x3a47b4,_0xd7e54e>_0x1f0985['_timeToCou'+'ntFrames']?(_0x1f0985['fps']=_0x1f0985['_fpsAccum'],_0x1f0985['_fpsAccum']=0x1*0x18a8+-0x3a1+-0x1507,_0x1f0985['_timeToCou'+'ntFrames']=_0xd7e54e+(0x1f61+0x1bcd+-0x3746)):_0x1f0985['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0x1*0x12e9+-0x1f6f+-0x192c*-0x2;}['_fillFrame'+'Stats'](){let _0x3c3784=this['stats']['frame'];_0x3c3784['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x3c3784['materials']=this['renderer']['_materialS'+'witches'],_0x3c3784['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x3c3784['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x3c3784['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x3c3784['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x3c3784['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x433c27=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x3c3784['triangles']=_0x433c27[Ms]/(0x1a37+-0xe*0x19d+-0x39e)+Math['max'](_0x433c27[ar]-(-0x1cac+-0x201a+0x799*0x8),0x637+-0xa*0x106+0x405)+Math['max'](_0x433c27[Yr]-(0xef3+-0xdb1+-0x140),-0x410+0x1bce*0x1+-0x17be),_0x3c3784['cullTime']=this['renderer']['_cullTime'],_0x3c3784['sortTime']=this['renderer']['_sortTime'],_0x3c3784['skinTime']=this['renderer']['_skinTime'],_0x3c3784['morphTime']=this['renderer']['_morphTime'],_0x3c3784['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x3c3784['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x3c3784['otherPrimi'+'tives']=-0x1ebf*-0x1+0x5d0+-0xbf*0x31;for(let _0x5820a2=0xae5*-0x1+-0x3a9*-0x4+0x7*-0x89;_0x5820a2<_0x433c27['length'];_0x5820a2++)_0x5820a2<Ms&&(_0x3c3784['otherPrimi'+'tives']+=_0x433c27[_0x5820a2]),_0x433c27[_0x5820a2]=-0x389*-0x1+0x7a1*-0x1+-0x8*-0x83;this['renderer']['_camerasRe'+'ndered']=-0x2388+-0xaf9+0x2e81*0x1,this['renderer']['_materialS'+'witches']=-0x1db5+0x2423+-0x66e,this['renderer']['_shadowMap'+'Updates']=-0x6*0x376+0x1ec+0xc9*0x18,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0x1bd*0x1+-0x85b*0x2+0x1273,this['renderer']['_cullTime']=0x1ffb+0x1d04+-0x2d*0x15b,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0x229+-0x34e+0x577,this['renderer']['_lightClus'+'tersTime']=-0x1b+0x1a25+-0x1a0a,this['renderer']['_sortTime']=0xbbd+-0x3*0x412+-0x79*-0x1,this['renderer']['_skinTime']=-0xda3+0xc95*-0x2+0x26cd,this['renderer']['_morphTime']=0xd1c+-0x8f*0x6+-0x9c2,this['renderer']['_shadowMap'+'Time']=-0x1ad3+-0x3*-0x403+0xeca,this['renderer']['_depthMapT'+'ime']=-0x213*0xf+-0x62d+0x254a,this['renderer']['_forwardTi'+'me']=0x162c+-0x4a*-0x47+0x2ab2*-0x1,_0x3c3784=this['stats']['drawCalls'],_0x3c3784['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x3c3784['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x3c3784['depth']=0x1616*-0x1+0x2236+-0x1*0xc20,_0x3c3784['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x3c3784['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x3c3784['immediate']=-0x20f1+-0x1e91+0x1*0x3f82,_0x3c3784['instanced']=0x103+0xf47+-0x104a,_0x3c3784['removedByI'+'nstancing']=0x73*-0x1e+-0x2071+-0x1*-0x2deb,_0x3c3784['misc']=_0x3c3784['total']-(_0x3c3784['forward']+_0x3c3784['shadow']),this['renderer']['_depthDraw'+'Calls']=0x26ca+-0xc49*-0x1+0x1*-0x3313,this['renderer']['_shadowDra'+'wCalls']=0x1999+-0x270c+-0xb*-0x139,this['renderer']['_forwardDr'+'awCalls']=-0x22c2+-0x170b+0x39cd,this['renderer']['_numDrawCa'+'llsCulled']=-0x1b91+0x138d+0x804,this['renderer']['_skinDrawC'+'alls']=0x1a66+-0x88c+-0xa*0x1c9,this['renderer']['_immediate'+'Rendered']=0xb9*-0x5+0xa89+-0x6ec,this['renderer']['_instanced'+'DrawCalls']=-0x1861+0xa90+0xdd1,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x3c3784=this['stats']['particles'],_0x3c3784['updatesPer'+'Frame']=_0x3c3784['_updatesPe'+'rFrame'],_0x3c3784['frameTime']=_0x3c3784['_frameTime'],_0x3c3784['_updatesPe'+'rFrame']=-0x1*-0x1546+-0x3*0x254+-0x2*0x725,_0x3c3784['_frameTime']=0x10*-0x1c1+-0x1*-0x503+0x170d;}['setCanvasF'+'illMode'](_0x226f8a,_0x1d6423,_0x21870e){this['_fillMode']=_0x226f8a,this['resizeCanv'+'as'](_0x1d6423,_0x21870e);}['setCanvasR'+'esolution'](_0x52812a,_0x196931,_0x479cdf){this['_resolutio'+'nMode']=_0x52812a,_0x52812a===G_&&_0x196931===void(0x1d1f+0x23dd+-0x103f*0x4)&&(_0x196931=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x479cdf=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x196931,_0x479cdf);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x68880d,_0x3f3f2f){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x538db2=window['innerWidth'],_0x5bcf83=window['innerHeigh'+'t'];if(this['_fillMode']===V_){const _0x3383f9=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x282571=_0x538db2/_0x5bcf83;_0x3383f9>_0x282571?(_0x68880d=_0x538db2,_0x3f3f2f=_0x68880d/_0x3383f9):(_0x3f3f2f=_0x5bcf83,_0x68880d=_0x3f3f2f*_0x3383f9);}else this['_fillMode']===W1&&(_0x68880d=_0x538db2,_0x3f3f2f=_0x5bcf83);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x68880d+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x3f3f2f+'px',this['updateCanv'+'asSize'](),{'width':_0x68880d,'height':_0x3f3f2f};}['updateCanv'+'asSize'](){var _0x38bf0a;if(!(!this['_allowResi'+'ze']||(_0x38bf0a=this['xr'])!=null&&_0x38bf0a['active'])&&this['_resolutio'+'nMode']===G_){const _0x4b8601=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x4b8601['clientWidt'+'h'],_0x4b8601['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x44a+0x79f*-0x1+0xbe9),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x59176e){let _0x47b92e;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x4adf4a,_0x34b809,_0x8651c3]=_0x59176e['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x4adf4a,_0x34b809,_0x8651c3);}this['scene']['applySetti'+'ngs'](_0x59176e),_0x59176e['render']['hasOwnProp'+'erty']('skybox')&&(_0x59176e['render']['skybox']?(_0x47b92e=this['assets']['get'](_0x59176e['render']['skybox']),_0x47b92e?this['setSkybox'](_0x47b92e):this['assets']['once']('add:'+_0x59176e['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x25ccb7,_0x568cb6){_0x25ccb7&&_0x568cb6?Wr['set'](this['graphicsDe'+'vice'],_0x25ccb7,_0x568cb6):v['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x2d1c9d){if(_0x2d1c9d!==this['_skyboxAss'+'et']){const _0x4160b0=()=>{this['setSkybox'](null);},_0x5ba57d=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x5ba57d,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x4160b0,this),this['_skyboxAss'+'et']['off']('change',_0x5ba57d,this)),this['_skyboxAss'+'et']=_0x2d1c9d,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x5ba57d,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x4160b0,this),this['_skyboxAss'+'et']['on']('change',_0x5ba57d,this),this['scene']['skyboxMip']===-0x177d+0x268a*0x1+-0xf0d&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0x2668+-0x1*-0x8a1+0x1dc7)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x5ba57d();}}['_firstBake'](){var _0x3d5adb;(_0x3d5adb=this['lightmappe'+'r'])==null||_0x3d5adb['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0xdc569e;(_0xdc569e=this['batcher'])==null||_0xdc569e['generate']();}['_processTi'+'mestamp'](_0x2930f3){return _0x2930f3;}['drawLine'](_0x23ef7a,_0x35e10d,_0x15ffd0,_0x54488b,_0x10a47f){this['scene']['drawLine'](_0x23ef7a,_0x35e10d,_0x15ffd0,_0x54488b,_0x10a47f);}['drawLines'](_0x23c668,_0x40644e,_0x141a1a=!(-0x215+-0x19ef*0x1+-0x2*-0xe02),_0xc7595e=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x23c668,_0x40644e,_0x141a1a,_0xc7595e);}['drawLineAr'+'rays'](_0x4afe14,_0x4d4805,_0x4129c9=!(0x4ba+0x204*-0xe+0x177e),_0x4ff932=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x4afe14,_0x4d4805,_0x4129c9,_0x4ff932);}['drawWireSp'+'here'](_0x566ca6,_0x17fa99,_0x3defae=Y['WHITE'],_0x95ae67=0xa2e+-0x2d*0x61+0x1*0x6f3,_0x3b2ff0=!(-0x751*-0x4+-0x447*-0x3+-0x1*0x2a19),_0x22e48f=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x566ca6,_0x17fa99,_0x3defae,_0x95ae67,_0x3b2ff0,_0x22e48f);}['drawWireAl'+'ignedBox'](_0x47d67a,_0x5afeb1,_0x60bf83=Y['WHITE'],_0xb2f29=!(0x1b78+-0x20*0xef+0x268),_0x31e31a=this['scene']['defaultDra'+'wLayer'],_0x1ea16c){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x47d67a,_0x5afeb1,_0x60bf83,_0xb2f29,_0x31e31a,_0x1ea16c);}['drawMeshIn'+'stance'](_0x36e68a,_0x4c0aad=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x36e68a,_0x4c0aad);}['drawMesh'](_0x8b130,_0x1e3865,_0x9a86e8,_0x22c6e5=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x1e3865,_0x9a86e8,_0x8b130,null,_0x22c6e5);}['drawQuad'](_0x15c9b3,_0x217df3,_0xe39f46=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x217df3,_0x15c9b3,this['scene']['immediate']['getQuadMes'+'h'](),null,_0xe39f46);}['drawTextur'+'e'](_0x43688b,_0xd9ef24,_0x31585a,_0x33ec6f,_0xa801b1,_0x49d6c3,_0x4b7912=this['scene']['defaultDra'+'wLayer'],_0x506b44=!(-0x401+0x68f+-0x147*0x2)){if(_0x506b44===!(-0x1b29+0x2a5+0x1885)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x8d23c5=new q();_0x8d23c5['setTRS'](new T(_0x43688b,_0xd9ef24,-0x3*-0x8aa+0x170b*-0x1+-0x2f3),se['IDENTITY'],new T(_0x31585a,-_0x33ec6f,-0xa*-0xff+0x1507+-0x1*0x1efd)),_0x49d6c3||(_0x49d6c3=new Ra(),_0x49d6c3['cull']=mt,_0x49d6c3['setParamet'+'er']('colorMap',_0xa801b1),_0x49d6c3['shaderDesc']=_0x506b44?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0xa801b1['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x49d6c3['update']()),this['drawQuad'](_0x8d23c5,_0x49d6c3,_0x4b7912);}['drawDepthT'+'exture'](_0x3042b3,_0x4a92f9,_0x2a425d,_0x17ee90,_0x572aa0=this['scene']['defaultDra'+'wLayer']){const _0x1d8082=new Ra();_0x1d8082['cull']=mt,_0x1d8082['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x1d8082['update'](),this['drawTextur'+'e'](_0x3042b3,_0x4a92f9,_0x2a425d,_0x17ee90,null,_0x1d8082,_0x572aa0);}['destroy'](){var _0x3b1d24,_0x36f9ef,_0x395e4f,_0x128d93;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0x1*-0x3ae+-0xdab*0x1+-0x1*-0x9fd);return;}const _0x26d1a2=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x1267+-0xb*0x2+-0x24a*0x8)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x184*0x16+-0x643+0x34*0xc3)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x21ed*-0x1+-0xa1+0x3b3*-0x9)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x2613+0x178*0xb+-0x363a))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x4683a1=this['assets']['list']();for(let _0x5385a0=0x1402+0x3c2+-0x4*0x5f1;_0x5385a0<_0x4683a1['length'];_0x5385a0++)_0x4683a1[_0x5385a0]['unload'](),_0x4683a1[_0x5385a0]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x359d7c=this['loader']['getHandler']('script');_0x359d7c==null||_0x359d7c['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x3b1d24=this['lightmappe'+'r'])==null||_0x3b1d24['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x36f9ef=this['xr'])==null||_0x36f9ef['end'](),(_0x395e4f=this['xr'])==null||_0x395e4f['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x128d93=this['_soundMana'+'ger'])==null||_0x128d93['destroy'](),this['_soundMana'+'ger']=null,Gr['_applicati'+'ons'][_0x26d1a2]=null,tn()===this&&qu(null),Gr['cancelTick'](this);}static['cancelTick'](_0x4a2f11){_0x4a2f11['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x4a2f11['frameReque'+'stId']),_0x4a2f11['frameReque'+'stId']=void(-0xb*0x2ce+-0x1*0xa5e+0x2938));}['getEntityF'+'romIndex'](_0x1ef412){return this['_entityInd'+'ex'][_0x1ef412];}['_registerS'+'ceneImmedi'+'ate'](_0x153c47){this['on']('postrender',_0x153c47['immediate']['onPostRend'+'er'],_0x153c47['immediate']);}};c(Gr,'_applicati'+'ons',{});let qh=Gr;const jd={},fP=function(_0x2c6396){const _0x575797=_0x2c6396;return function(_0x133289,_0x585f13){var _0x33b1ce,_0x48b524,_0x45138b,_0x20802a;if(!_0x575797['graphicsDe'+'vice'])return;_0x575797['frameReque'+'stId']&&((_0x48b524=(_0x33b1ce=_0x575797['xr'])==null?void(0x82*-0x2f+0x1*-0xeb5+-0x7d*-0x4f):_0x33b1ce['session'])==null||_0x48b524['cancelAnim'+'ationFrame'](_0x575797['frameReque'+'stId']),cancelAnimationFrame(_0x575797['frameReque'+'stId']),_0x575797['frameReque'+'stId']=null),_0x575797['_inFrameUp'+'date']=!(0xa*0x4e+0x2*-0x699+0xa26),qu(_0x575797);const _0x4e14dd=_0x575797['_processTi'+'mestamp'](_0x133289)||ne(),_0x3044d7=_0x4e14dd-(_0x575797['_time']||_0x4e14dd);let _0x2b1fa9=_0x3044d7/(-0xafe+0xc3e*0x2+-0x996);if(_0x2b1fa9=N['clamp'](_0x2b1fa9,0x1b*0x35+-0x4*0x34+-0x4c7,_0x575797['maxDeltaTi'+'me']),_0x2b1fa9*=_0x575797['timeScale'],_0x575797['_time']=_0x4e14dd,(_0x45138b=_0x575797['xr'])!=null&&_0x45138b['session']?_0x575797['frameReque'+'stId']=_0x575797['xr']['session']['requestAni'+'mationFram'+'e'](_0x575797['tick']):_0x575797['frameReque'+'stId']=ye['browser']||ye['worker']?requestAnimationFrame(_0x575797['tick']):null,_0x575797['graphicsDe'+'vice']['contextLos'+'t'])return;_0x575797['_fillFrame'+'StatsBasic'](_0x4e14dd,_0x2b1fa9,_0x3044d7),_0x575797['_fillFrame'+'Stats'](),_0x575797['fire']('frameupdat'+'e',_0x3044d7);let _0x4db9cb=!(-0x1*0x108d+-0x1bb3+0x2c40);_0x585f13?(_0x4db9cb=(_0x20802a=_0x575797['xr'])==null?void(-0x30*0x43+-0x1435+0x20c5):_0x20802a['update'](_0x585f13),_0x575797['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x585f13['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x575797['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x4db9cb&&(v['trace'](jx,'----\x20Frame'+'\x20'+_0x575797['frame']),v['trace'](td,'--\x20UpdateS'+'tart\x20'+ne()['toFixed'](-0xf1*0x23+-0x7*0x2f6+0x35af)+'ms'),_0x575797['update'](_0x2b1fa9),_0x575797['fire']('framerende'+'r'),(_0x575797['autoRender']||_0x575797['renderNext'+'Frame'])&&(v['trace'](td,'--\x20RenderS'+'tart\x20'+ne()['toFixed'](-0x3d5+0x1795+-0x85*0x26)+'ms'),_0x575797['updateCanv'+'asSize'](),_0x575797['frameStart'](),_0x575797['render'](),_0x575797['frameEnd'](),_0x575797['renderNext'+'Frame']=!(0x1803+0x1d62+0x473*-0xc),v['trace'](td,'--\x20RenderE'+'nd\x20'+ne()['toFixed'](0x23ad*0x1+-0x1*-0x1d39+-0x40e4)+'ms')),jd['timestamp']=ne(),jd['target']=_0x575797,_0x575797['fire']('frameend',jd)),_0x575797['_inFrameUp'+'date']=!(0x977*0x1+0x3b*0x4c+0x6*-0x47f),_0x575797['_destroyRe'+'quested']&&_0x575797['destroy']();};};class pP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const Qa=new Lf();class $0{constructor(_0x5de0c3,_0xc6ea9e,_0x4054e1){this['scene']=_0x5de0c3,this['light']=_0xc6ea9e,this['store'](),_0xc6ea9e['numCascade'+'s']=-0x41*-0x2c+-0x192b+-0x10*-0xe0,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0xc6ea9e['castShadow'+'s']=_0xc6ea9e['bakeShadow'+'s']&&_0x4054e1['shadowsEna'+'bled']),_0xc6ea9e['type']!==oe&&(_0xc6ea9e['_node']['getWorldTr'+'ansform'](),_0xc6ea9e['getBoundin'+'gSphere'](Qa),this['lightBound'+'s']=new _e(),this['lightBound'+'s']['center']['copy'](Qa['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](Qa['radius'],Qa['radius'],Qa['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x27eda4=this['light'];_0x27eda4['mask']=this['mask'],_0x27eda4['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x27eda4['enabled']=this['enabled'],_0x27eda4['intensity']=this['intensity'],_0x27eda4['_node']['setLocalRo'+'tation'](this['rotation']),_0x27eda4['numCascade'+'s']=this['numCascade'+'s'],_0x27eda4['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0x96b+0x1bdd+-0x1272*0x1),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x4dc430){const _0x1469af=this['light'];_0x1469af['enabled']=!(0x3*-0xb8c+-0x1*0x557+0xd54*0x3),_0x1469af['shadowMap']&&(_0x1469af['shadowMap']['cached']&&_0x4dc430['add'](_0x1469af,_0x1469af['shadowMap']),_0x1469af['shadowMap']=null);}}const Hl=new $();class mP extends $0{constructor(_0x211675,_0x553b14){super(_0x211675['scene'],_0x553b14,_0x211675['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===oe?this['light']['bakeNumSam'+'ples']:0x1411*-0x1+-0x1c9d+0x30af*0x1;}['prepareVir'+'tualLight'](_0x3fa17b,_0x4dbe51){const _0x38d00f=this['light'];if(_0x38d00f['_node']['setLocalRo'+'tation'](this['rotation']),_0x3fa17b>0xc61*-0x3+0x3*-0x4c7+0x3378){const _0x397f03=_0x38d00f['bakeArea'];ll['circlePoin'+'tDetermini'+'stic'](Hl,_0x3fa17b,_0x4dbe51),Hl['mulScalar'](_0x397f03*(0x1b6b*-0x1+0x20e*-0xa+0x2ff7+0.5)),_0x38d00f['_node']['rotateLoca'+'l'](Hl['x'],-0xd3d+-0x84d*0x4+-0xf7b*-0x3,Hl['y']);}_0x38d00f['_node']['getWorldTr'+'ansform']();const _0x1a6e3e=-0x10c6+0x4d*-0x8+0x1330+0.20000000000000018,_0x445162=Math['pow'](this['intensity'],_0x1a6e3e);_0x38d00f['intensity']=Math['pow'](_0x445162/_0x4dbe51,(0x23da+0x1a24+-0x3dfd)/_0x1a6e3e);}}const X_=new T();class j_ extends $0{constructor(_0x79aca3){const _0x5ef9dd=_0x79aca3['scene'],_0x34cd44=new $e('AmbientLig'+'ht');_0x34cd44['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x26*0x46+-0x192f+0x2393),'affectLightmapped':!(-0x1*-0x1b04+-0x1ec4+0x3c1),'bake':!(0x4d*0x2f+0x2371+-0x3194),'bakeNumSamples':_0x5ef9dd['ambientBak'+'eNumSample'+'s'],'castShadows':!(0x2*0x59f+-0x857+0x1*-0x2e7),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':Dt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(0x244e+0x13b3+-0x20*0x1c0)}),super(_0x5ef9dd,_0x34cd44['light']['light'],_0x79aca3['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x4e54f5,_0x2a9760){ll['spherePoin'+'tDetermini'+'stic'](X_,_0x4e54f5,_0x2a9760,-0x3*0xcb6+0xc06+-0x2*-0xd0e,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](X_['mulScalar'](-(0xc05*-0x3+-0x556+0x7*0x5ea))),this['light']['_node']['rotateLoca'+'l'](0x53f+0x1fd1*0x1+-0x24b6,0x1*-0x17be+-0xc7*0x12+-0x69*-0x5c,0x1*0xaf8+-0x1eeb*-0x1+0x29e3*-0x1);const _0x555f6c=-0x1c85+-0xaa9*0x1+-0xb0*-0x39+0.20000000000000018,_0x2f8c4b=(0x44*0x65+0x613+-0x20e5)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x409e73=Math['pow'](_0x2f8c4b,_0x555f6c);this['light']['intensity']=Math['pow'](_0x409e73/_0x2a9760,(0x1f02+0x2450+-0x4351)/_0x555f6c);}}class $l{constructor(_0x3fec6e,_0x55e48b=null){this['node']=_0x3fec6e,this['component']=_0x3fec6e['render']||_0x3fec6e['model'],_0x55e48b=_0x55e48b||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x55e48b,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const Y_=0x13b1*0x1+0x3*0x21a+-0x19f0;class _P{constructor(_0x570f95){this['device']=_0x570f95,this['shaderDila'+'te']=Is(_0x570f95,X['fullscreen'+'QuadVS'],vo['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0x570f95['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x570f95['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(0x7b3+-0x8d5+-0x124*-0x1),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x20027d){this['constantTe'+'xSource']['setValue'](_0x20027d);}['prepare'](_0x463710,_0x5316a8){this['pixelOffse'+'t'][-0x1d91*-0x1+0x22f7+-0x4088]=(0xb5d*-0x1+0x1ef9+-0x139b)/_0x463710,this['pixelOffse'+'t'][-0x21f4*0x1+0x11*-0x1a5+0x3dea]=(-0x99*-0x31+0x2432+-0x417a)/_0x5316a8,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x68209e,_0x4d122f,_0x1b134b){const _0x12c7e4=_0x1b134b?0x182*-0xb+-0x5*-0x171+-0x31*-0x31:-0xc14+-0x1329+-0x102*-0x1f;if(!this['shaderDeno'+'ise'][_0x12c7e4]){const _0x580193='lmBilatera'+'lDeNoise-'+(_0x1b134b?'hdr':'rgbm'),_0x559a27=_0x1b134b?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x12c7e4]=Is(this['device'],X['fullscreen'+'QuadVS'],_0x559a27+vo['bilateralD'+'eNoisePS'],_0x580193),this['sigmas']=new Float32Array(-0xb8a+0x750+0x43c),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][0x1d6c+0x1c2b+0x3997*-0x1]=_0x68209e,this['sigmas'][0x11d9*0x1+-0x13ed*-0x1+0x1*-0x25c5]=_0x4d122f,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x68209e,_0x4d122f);}['getDenoise'](_0x11fe92){const _0x13df95=_0x11fe92?0xef*-0xb+0x1c98+-0x1*0x1253:-0x23be+0x1900+0x83*0x15;return this['shaderDeno'+'ise'][_0x13df95];}['getDilate'](_0x10c197,_0x57190d){const _0x37cd62=_0x57190d?0x996+0x1405+-0x1d9b:-0x1*0x37+-0xce3*-0x3+-0x2f5*0xd;if(!this['shaderDila'+'te'][_0x37cd62]){const _0x5c480d='lmDilate-'+(_0x57190d?'hdr':'rgbm'),_0x262f03=_0x57190d?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x37cd62]=Is(_0x10c197,X['fullscreen'+'QuadVS'],_0x262f03+vo['dilatePS'],_0x5c480d);}return this['shaderDila'+'te'][_0x37cd62];}['evaluateDe'+'noiseUnifo'+'rms'](_0x13d1c1,_0x3e9d2f){function _0x4db8bc(_0x76d7ff,_0x5d33e0){return(-0xbec+0xa22*0x3+-0xa*0x1d9+0.39894)*Math['exp'](-(0xce9+0x528+-0x1211+0.5)*_0x76d7ff*_0x76d7ff/(_0x5d33e0*_0x5d33e0))/_0x5d33e0;}this['kernel']=this['kernel']||new Float32Array(Y_);const _0x288d68=this['kernel'],_0x116eaf=Math['floor']((Y_-(0xe6b+-0xbdf+0x1*-0x28b))/(-0xb1e+0x20*0xb2+0x2*-0x590));for(let _0x25d777=-0x1566+-0x3a6*-0x7+-0x424;_0x25d777<=_0x116eaf;++_0x25d777){const _0x553081=_0x4db8bc(_0x25d777,_0x13d1c1);_0x288d68[_0x116eaf+_0x25d777]=_0x553081,_0x288d68[_0x116eaf-_0x25d777]=_0x553081;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x5bd082=(-0x181a*0x1+0x1fc0+0x1*-0x7a5)/_0x4db8bc(0x1*0x175b+0x2628+-0x3d83,_0x3e9d2f);this['bZnorm']['setValue'](_0x5bd082);}}class gP extends ds{constructor(_0x17b258,_0x17bb7e,_0x444160,_0x46ae23,_0x366864,_0x58ea1){super(_0x17b258),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x17bb7e,this['camera']=_0x444160,this['worldClust'+'ers']=_0x46ae23,this['receivers']=_0x366864,this['lightArray']=_0x58ea1);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x15b613=>{_0x15b613['defaultUni'+'formBuffer']['destroy'](),_0x15b613['destroy']();}),this['viewBindGr'+'oups']['length']=0x340+-0x83f+0x4ff;}['execute'](){const _0x2d8510=this['device'];G['pushGpuMar'+'ker'](_0x2d8510,'Lightmappe'+'r');const {renderer:_0x5c71f3,camera:_0x3d8690,receivers:_0x289c74,renderTarget:_0x5d0817,worldClusters:_0x35bdd8,lightArray:_0x12f71a}=this;_0x5c71f3['renderForw'+'ardLayer'](_0x3d8690,_0x5d0817,null,void(0x1*0x17f2+0x2656+0xf92*-0x4),gn,this['viewBindGr'+'oups'],{'meshInstances':_0x289c74,'splitLights':_0x12f71a,'lightClusters':_0x35bdd8}),G['popGpuMark'+'er'](_0x2d8510);}}const yP=-0xb78*-0x2+-0x25d*0x8+0x3f8,xP=-0xa48+0xb0e*0x1+0x2*-0x63,SP=-0x52c+0x3*-0xbf7+-0x1489*-0x2,Wl=new T();class vP{constructor(_0x2351bb,_0x494d49,_0x216609,_0x49847f,_0x296535){this['device']=_0x2351bb,this['root']=_0x494d49,this['scene']=_0x216609,this['renderer']=_0x49847f,this['assets']=_0x296535,this['shadowMapC'+'ache']=_0x49847f['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(-0x660+0xdcb*-0x1+-0x4*-0x50b),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x3bdb42;Si['decRef'](this['blackTex']),this['blackTex']=null,Si['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x3bdb42=this['camera'])==null||_0x3bdb42['destroy'](),this['camera']=null;}['initBake'](_0x14ce10){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Se,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(-0x2e*0xc7+-0x57*-0x37+0x1111),this['lightmapFi'+'lters']=new _P(_0x14ce10),this['constantBa'+'keDir']=_0x14ce10['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new he(this['device'],{'width':0x4,'height':0x4,'format':Se,'type':on,'name':'lightmapBl'+'ack'}),Si['incRef'](this['blackTex']);const _0x3b5be8=new ol();_0x3b5be8['clearColor']['set'](-0x1*-0x1778+-0x1*-0x1939+0x5*-0x9bd,-0x2195*0x1+-0x269b+0x4830,-0x21ac*-0x1+-0x107+-0x20a5,0xfa+-0x5a*0x6c+0x127f*0x2),_0x3b5be8['clearColor'+'Buffer']=!(-0x2506+-0x7c1+0x3*0xeed),_0x3b5be8['clearDepth'+'Buffer']=!(-0x17e*-0x3+-0x324+-0x155),_0x3b5be8['clearStenc'+'ilBuffer']=!(0x156*-0x14+0x5ad+0x150c),_0x3b5be8['frustumCul'+'ling']=!(0x190b+-0x40d*-0x5+-0x2d4b),_0x3b5be8['projection']=ua,_0x3b5be8['aspectRati'+'o']=-0xb2*0x2b+0x18cb+-0x6*-0xda,_0x3b5be8['node']=new De(),this['camera']=_0x3b5be8,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=sl,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Ap;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x5576ed=new L0(_0x14ce10['supportsAr'+'eaLights'],_0x14ce10['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x5576ed;const _0x467948=this['scene']['lighting'];_0x5576ed['shadowsEna'+'bled']=_0x467948['shadowsEna'+'bled'],_0x5576ed['shadowAtla'+'sResolutio'+'n']=_0x467948['shadowAtla'+'sResolutio'+'n'],_0x5576ed['cookiesEna'+'bled']=_0x467948['cookiesEna'+'bled'],_0x5576ed['cookieAtla'+'sResolutio'+'n']=_0x467948['cookieAtla'+'sResolutio'+'n'],_0x5576ed['areaLights'+'Enabled']=_0x467948['areaLights'+'Enabled'],_0x5576ed['cells']=new T(0x1ce0+-0x3*-0x792+-0x3393,-0x3da+-0x506+0x8e3,-0x21*0x112+0x9c3+-0xcc9*-0x2),_0x5576ed['maxLightsP'+'erCell']=0x1*0x1592+-0x6d+0x259*-0x9,this['worldClust'+'ers']=new zu(_0x14ce10),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x2166aa){this['materials']=[];function _0x3a1eea(_0x104481){Si['decRef'](_0x104481['colorBuffe'+'r']),_0x104481['destroy']();}this['renderTarg'+'ets']['forEach'](_0x42e444=>{_0x3a1eea(_0x42e444);}),this['renderTarg'+'ets']['clear'](),_0x2166aa['forEach'](_0x2e926c=>{_0x2e926c['renderTarg'+'ets']['forEach'](_0x3fb626=>{_0x3a1eea(_0x3fb626);}),_0x2e926c['renderTarg'+'ets']['length']=0x42*-0x8e+0x6ef*0x5+0x1f1;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x1784ef,_0x4a2aed,_0x4ffb1b,_0x1b5186){const _0x47cc49=new cs();_0x47cc49['name']='lmMaterial'+'-pass:'+_0x4ffb1b+'-ambient:'+_0x1b5186,_0x47cc49['chunks']['APIVersion']=hi;const _0x2e095c='#define\x20UV'+'1LAYOUT\x0a';if(_0x47cc49['chunks']['transformV'+'S']=_0x2e095c+X['transformV'+'S'],_0x4ffb1b===xP){let _0x206fa5=vo['bakeLmEndP'+'S'];_0x1b5186?_0x206fa5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x4a2aed['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](0x1aac+0x1903+-0x33ae)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x4a2aed['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](0x28*-0x22+0x17e*0x4+0x1*-0xa7)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x206fa5:_0x47cc49['ambient']=new Y(-0x1ef+-0x1*0x264b+0x141d*0x2,0x25bd+0x1844+0xb*-0x5a3,-0x7f3+0xbe*0x28+0x5*-0x459),_0x47cc49['chunks']['basePS']=X['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x47cc49['chunks']['endPS']=_0x206fa5,_0x47cc49['lightMap']=this['blackTex'];}else _0x47cc49['chunks']['basePS']=X['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x47cc49['chunks']['endPS']=vo['bakeDirLmE'+'ndPS'];return _0x47cc49['chunks']['outputAlph'+'aPS']='\x0a',_0x47cc49['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x47cc49['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x47cc49['cull']=mt,_0x47cc49['forceUv1']=!(-0x2*-0x8bf+-0x1*0x13b1+0x1*0x233),_0x47cc49['update'](),_0x47cc49;}['createMate'+'rials'](_0x2c5c5d,_0x380f51,_0x183426){for(let _0x3427f9=-0x1*-0x78d+0x6e5*0x4+-0x2321*0x1;_0x3427f9<_0x183426;_0x3427f9++)this['passMateri'+'als'][_0x3427f9]||(this['passMateri'+'als'][_0x3427f9]=this['createMate'+'rialForPas'+'s'](_0x2c5c5d,_0x380f51,_0x3427f9,!(-0x3*-0xc96+-0x1*-0x1c69+-0x422a*0x1)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x2c5c5d,_0x380f51,0x1731*0x1+0x1d0e+-0x343f,!(0x11c*0x1+0x1*-0x14e7+0x9*0x233)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x42bdc9){return _0x42bdc9['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0xb2f+-0x165e*0x1+-0x1*-0xb2f),_0x42bdc9['litOptions']['separateAm'+'bient']=!(-0x1*0x88b+-0x1*0x1993+0x221e),_0x42bdc9;});}['createText'+'ure'](_0x42bfea,_0x2f27ef){return new he(this['device'],{'profilerHint':Oy,'width':_0x42bfea,'height':_0x42bfea,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0xc8b*-0x1+-0x1*-0x1843+-0x1*0x24cd),'type':this['bakeHDR']?Di:on,'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x2f27ef});}['collectMod'+'els'](_0x209d1c,_0x4e042c,_0x298eec){var _0x5507e9,_0x5e1ddd,_0x249a1b;if(!_0x209d1c['enabled'])return;let _0x907587;if((_0x5507e9=_0x209d1c['model'])!=null&&_0x5507e9['model']&&((_0x5e1ddd=_0x209d1c['model'])!=null&&_0x5e1ddd['enabled'])&&(_0x298eec&&_0x298eec['push'](new $l(_0x209d1c)),_0x209d1c['model']['lightmappe'+'d']&&_0x4e042c&&(_0x907587=_0x209d1c['model']['model']['meshInstan'+'ces'])),(_0x249a1b=_0x209d1c['render'])!=null&&_0x249a1b['enabled']&&(_0x298eec&&_0x298eec['push'](new $l(_0x209d1c)),_0x209d1c['render']['lightmappe'+'d']&&_0x4e042c&&(_0x907587=_0x209d1c['render']['meshInstan'+'ces'])),_0x907587){let _0x1176ac=!(-0x211a+-0x25*0xcb+0x3e71);for(let _0x37cf82=-0x5*0x217+0x1*-0x18ad+0x119*0x20;_0x37cf82<_0x907587['length'];_0x37cf82++)if(!_0x907587[_0x37cf82]['mesh']['vertexBuff'+'er']['format']['hasUv1']){v['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x209d1c['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x1176ac=!(0x18aa+-0x142*-0x1+0x19eb*-0x1);break;}if(_0x1176ac){const _0x11e763=[];for(let _0x3d097e=-0x2281+0x16de+0xba3;_0x3d097e<_0x907587['length'];_0x3d097e++){const _0x1b9470=_0x907587[_0x3d097e]['mesh'];this['_tempSet']['has'](_0x1b9470)?_0x4e042c['push'](new $l(_0x209d1c,[_0x907587[_0x3d097e]])):_0x11e763['push'](_0x907587[_0x3d097e]),this['_tempSet']['add'](_0x1b9470);}this['_tempSet']['clear'](),_0x11e763['length']>-0x4*0x825+0x7e1*0x1+0x18b3&&_0x4e042c['push'](new $l(_0x209d1c,_0x11e763));}}for(let _0x3aac64=-0xa*-0x30f+-0x1895+0x601*-0x1;_0x3aac64<_0x209d1c['_children']['length'];_0x3aac64++)this['collectMod'+'els'](_0x209d1c['_children'][_0x3aac64],_0x4e042c,_0x298eec);}['prepareSha'+'dowCasters'](_0x5cc7a3){const _0x33c2c0=[];for(let _0x4bf9d3=-0x518+-0xdc3+0x12db;_0x4bf9d3<_0x5cc7a3['length'];_0x4bf9d3++){const _0x4730de=_0x5cc7a3[_0x4bf9d3]['component'];if(_0x4730de['castShadow'+'s']=_0x4730de['castShadow'+'sLightmap'],_0x4730de['castShadow'+'sLightmap']){const _0x52e3bd=_0x5cc7a3[_0x4bf9d3]['meshInstan'+'ces'];for(let _0x36643a=-0x22cb*-0x1+0x7d2+-0x1*0x2a9d;_0x36643a<_0x52e3bd['length'];_0x36643a++)_0x52e3bd[_0x36643a]['visibleThi'+'sFrame']=!(-0x2407+0xdcb+0x163c),_0x33c2c0['push'](_0x52e3bd[_0x36643a]);}}return _0x33c2c0;}['updateTran'+'sforms'](_0x7ae404){for(let _0x122ffa=-0x4f*-0x37+-0x1*-0x11af+-0x22a8;_0x122ffa<_0x7ae404['length'];_0x122ffa++){const _0x29a31c=_0x7ae404[_0x122ffa]['meshInstan'+'ces'];for(let _0x16f4d9=0x315+0x2333*0x1+-0x2648;_0x16f4d9<_0x29a31c['length'];_0x16f4d9++)_0x29a31c[_0x16f4d9]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0xea4f35){let _0x13cf7b;const _0x104565=this['scene']['lightmapSi'+'zeMultipli'+'er']||-0x1070*-0x1+-0x24eb+0x148b*0x1,_0x4af1b9=Wl;let _0x10ee7c,_0xabf4c;_0xea4f35['model']?(_0xabf4c=_0xea4f35['model']['lightmapSi'+'zeMultipli'+'er'],_0xea4f35['model']['asset']?(_0x13cf7b=this['assets']['get'](_0xea4f35['model']['asset'])['data'],_0x13cf7b['area']&&(_0x10ee7c=_0x13cf7b['area'])):_0xea4f35['model']['_area']&&(_0x13cf7b=_0xea4f35['model'],_0x13cf7b['_area']&&(_0x10ee7c=_0x13cf7b['_area']))):_0xea4f35['render']&&(_0xabf4c=_0xea4f35['render']['lightmapSi'+'zeMultipli'+'er'],_0xea4f35['render']['type']!=='asset'&&_0xea4f35['render']['_area']&&(_0x13cf7b=_0xea4f35['render'],_0x13cf7b['_area']&&(_0x10ee7c=_0x13cf7b['_area'])));const _0x813d1c={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x10ee7c&&(_0x813d1c['x']=_0x10ee7c['x'],_0x813d1c['y']=_0x10ee7c['y'],_0x813d1c['z']=_0x10ee7c['z'],_0x813d1c['uv']=_0x10ee7c['uv']);const _0x8c8006=_0xabf4c||0x1bb5+0x6e0+-0x4*0x8a5;_0x813d1c['x']*=_0x8c8006,_0x813d1c['y']*=_0x8c8006,_0x813d1c['z']*=_0x8c8006;const _0x54f272=_0xea4f35['render']||_0xea4f35['model'],_0x2a7516=this['computeNod'+'eBounds'](_0x54f272['meshInstan'+'ces']);_0x4af1b9['copy'](_0x2a7516['halfExtent'+'s']);let _0x58e717=_0x813d1c['x']*_0x4af1b9['y']*_0x4af1b9['z']+_0x813d1c['y']*_0x4af1b9['x']*_0x4af1b9['z']+_0x813d1c['z']*_0x4af1b9['x']*_0x4af1b9['y'];return _0x58e717/=_0x813d1c['uv'],_0x58e717=Math['sqrt'](_0x58e717),Math['min'](N['nextPowerO'+'fTwo'](_0x58e717*_0x104565),this['scene']['lightmapMa'+'xResolutio'+'n']||yP);}['setLightma'+'pping'](_0x3c8cb8,_0x139199,_0x1dead9,_0x3d070d){for(let _0x57b2e5=0x22de*-0x1+0x1*-0x1807+-0x3ae5*-0x1;_0x57b2e5<_0x3c8cb8['length'];_0x57b2e5++){const _0x3a28ee=_0x3c8cb8[_0x57b2e5],_0x4a0fa7=_0x3a28ee['meshInstan'+'ces'];for(let _0x4cad59=-0xd7c+-0x1814+0x2590*0x1;_0x4cad59<_0x4a0fa7['length'];_0x4cad59++){const _0x20839d=_0x4a0fa7[_0x4cad59];if(_0x20839d['setLightma'+'pped'](_0x139199),_0x139199){_0x3d070d&&(_0x20839d['_shaderDef'+'s']|=_0x3d070d),_0x20839d['mask']=cr;for(let _0x114f61=0x170a+0x177b+-0x2e85*0x1;_0x114f61<_0x1dead9;_0x114f61++){const _0x2de1fc=_0x3a28ee['renderTarg'+'ets'][_0x114f61]['colorBuffe'+'r'];_0x2de1fc['minFilter']=st,_0x2de1fc['magFilter']=st,_0x20839d['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x114f61],_0x2de1fc);}}}}}['bake'](_0x55e35f,_0x439f20=ch){const _0x213e29=this['device'],_0x4ff08f=ne();this['scene']['_updateSky'+'Mesh'](),_0x213e29['fire']('lightmappe'+'r:start',{'timestamp':_0x4ff08f,'target':this}),this['stats']['renderPass'+'es']=-0x17*-0x7f+-0x123e+0x6d5,this['stats']['shadowMapT'+'ime']=0x241*-0x7+0xb2*0x24+-0x941,this['stats']['forwardTim'+'e']=0x114+-0x325*-0x3+-0xa83;const _0x45e52b=_0x213e29['_shaderSta'+'ts']['linked'],_0x3e578e=_0x213e29['_renderTar'+'getCreatio'+'nTime'],_0x1fbbc8=_0x213e29['_shaderSta'+'ts']['compileTim'+'e'],_0x3e5dde=[],_0x565d73=[];if(_0x55e35f){for(let _0x2f2361=0x183a+0x37*-0x87+0x4c7*0x1;_0x2f2361<_0x55e35f['length'];_0x2f2361++)this['collectMod'+'els'](_0x55e35f[_0x2f2361],_0x3e5dde,null);this['collectMod'+'els'](this['root'],null,_0x565d73);}else this['collectMod'+'els'](this['root'],_0x3e5dde,_0x565d73);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x3e5dde['length']>-0x22a5+-0x102d+0x32d2){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x8d8574=_0x439f20===ch?0x1*-0x2513+0x2*0x36a+0x5*0x60d:-0x1396+-0x237*0xd+0x3062;this['setLightma'+'pping'](_0x3e5dde,!(0x53*-0x47+0xf66*0x2+0x3e3*-0x2),_0x8d8574),this['initBake'](_0x213e29),this['bakeIntern'+'al'](_0x8d8574,_0x3e5dde,_0x565d73);let _0x173e65=Fu;_0x439f20===ch&&(_0x173e65|=y0),this['scene']['ambientBak'+'e']&&(_0x173e65|=x0),this['setLightma'+'pping'](_0x3e5dde,!(0x345*-0x4+0x2572+-0x185e),_0x8d8574,_0x173e65),this['finishBake'](_0x3e5dde);}G['popGpuMark'+'er'](this['device']);const _0x5eaf10=ne();this['stats']['totalRende'+'rTime']=_0x5eaf10-_0x4ff08f,this['stats']['shadersLin'+'ked']=_0x213e29['_shaderSta'+'ts']['linked']-_0x45e52b,this['stats']['compileTim'+'e']=_0x213e29['_shaderSta'+'ts']['compileTim'+'e']-_0x1fbbc8,this['stats']['fboTime']=_0x213e29['_renderTar'+'getCreatio'+'nTime']-_0x3e578e,this['stats']['lightmapCo'+'unt']=_0x3e5dde['length'],_0x213e29['fire']('lightmappe'+'r:end',{'timestamp':_0x5eaf10,'target':this});}['allocateTe'+'xtures'](_0x322bc9,_0x56814f){for(let _0x18fe9e=0x1b7b+0x78d+0x461*-0x8;_0x18fe9e<_0x322bc9['length'];_0x18fe9e++){const _0x5b19b7=_0x322bc9[_0x18fe9e],_0x282a00=this['calculateL'+'ightmapSiz'+'e'](_0x5b19b7['node']);for(let _0x59657f=0x434*0x3+-0xedf+0x243*0x1;_0x59657f<_0x56814f;_0x59657f++){const _0x2a1fd5=this['createText'+'ure'](_0x282a00,'lightmappe'+'r_lightmap'+'_'+_0x18fe9e);Si['incRef'](_0x2a1fd5),_0x5b19b7['renderTarg'+'ets'][_0x59657f]=new pt({'colorBuffer':_0x2a1fd5,'depth':!(-0x1b3*-0x3+-0x416+-0x102)});}if(!this['renderTarg'+'ets']['has'](_0x282a00)){const _0xc05fd8=this['createText'+'ure'](_0x282a00,'lightmappe'+'r_temp_lig'+'htmap_'+_0x282a00);Si['incRef'](_0xc05fd8),this['renderTarg'+'ets']['set'](_0x282a00,new pt({'colorBuffer':_0xc05fd8,'depth':!(-0x1*0x1ec7+0xb72+0x113*0x12)}));}}}['prepareLig'+'htsToBake'](_0x3f721e,_0x5e634f){if(this['scene']['ambientBak'+'e']){const _0x3ee39c=new j_(this);_0x5e634f['push'](_0x3ee39c);}const _0x281ecb=this['renderer']['lights'];for(let _0x197ade=-0x1*0x21a7+-0x8b1*-0x1+0x3*0x852;_0x197ade<_0x281ecb['length'];_0x197ade++){const _0x5bb1f4=_0x281ecb[_0x197ade],_0x237982=new mP(this,_0x5bb1f4);_0x3f721e['push'](_0x237982),_0x5bb1f4['enabled']&&(_0x5bb1f4['mask']&rr)!==-0x2647+-0x1*0x145d+-0xea9*-0x4&&(_0x5bb1f4['mask']=rr|cr|hs,_0x5bb1f4['shadowUpda'+'teMode']=_0x5bb1f4['type']===oe?Pp:cn,_0x5e634f['push'](_0x237982));}_0x5e634f['sort']();}['restoreLig'+'hts'](_0x25830f){for(let _0x7cdedf=-0x8f*0x26+0x516+0x1024;_0x7cdedf<_0x25830f['length'];_0x7cdedf++)_0x25830f[_0x7cdedf]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x9*0x403+0x10d*0x3+-0x2742,-0x78+-0x12*0x133+0x160e,-0xd6*0x1d+0x26e+0x15d0),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0xcf6ec0){const _0x4661fb=new _e();if(_0xcf6ec0['length']>-0x1*-0x1bf+-0x234c+-0x4cb*-0x7){_0x4661fb['copy'](_0xcf6ec0[-0xa*-0xa3+-0x24d4+0x1e76]['aabb']);for(let _0x24f877=0x1fe3*0x1+-0x70b*0x3+-0xac1*0x1;_0x24f877<_0xcf6ec0['length'];_0x24f877++)_0x4661fb['add'](_0xcf6ec0[_0x24f877]['aabb']);}return _0x4661fb;}['computeNod'+'esBounds'](_0x44100b){for(let _0x1c7d51=0x2003+-0x1f1d+-0xa*0x17;_0x1c7d51<_0x44100b['length'];_0x1c7d51++){const _0x2297e6=_0x44100b[_0x1c7d51]['meshInstan'+'ces'];_0x44100b[_0x1c7d51]['bounds']=this['computeNod'+'eBounds'](_0x2297e6);}}['computeBou'+'nds'](_0x7a080f){const _0x563f13=new _e();for(let _0x5b5c4b=-0x71b*0x5+-0x1870+0x77*0x81;_0x5b5c4b<_0x7a080f['length'];_0x5b5c4b++){_0x563f13['copy'](_0x7a080f[0x15bd*0x1+0x1783+-0x20*0x16a]['aabb']);for(let _0x3d0f9f=0x1892+-0x2*0xe12+0x393;_0x3d0f9f<_0x7a080f['length'];_0x3d0f9f++)_0x563f13['add'](_0x7a080f[_0x3d0f9f]['aabb']);}return _0x563f13;}['backupMate'+'rials'](_0x197bc7){for(let _0x2146e3=0x542+0x13a6+-0x2*0xc74;_0x2146e3<_0x197bc7['length'];_0x2146e3++)this['materials'][_0x2146e3]=_0x197bc7[_0x2146e3]['material'];}['restoreMat'+'erials'](_0x3e4f08){for(let _0x5781a6=0x5f6+-0x11ec+-0x2*-0x5fb;_0x5781a6<_0x3e4f08['length'];_0x5781a6++)_0x3e4f08[_0x5781a6]['material']=this['materials'][_0x5781a6];}['lightCamer'+'aPrepare'](_0x4d7e23,_0x290c08){const _0xe51f35=_0x290c08['light'];let _0x5c3a39;return _0xe51f35['type']===Re&&(_0x5c3a39=_0xe51f35['getRenderD'+'ata'](null,-0xc82*0x1+-0x1b0d+0x1*0x278f)['shadowCame'+'ra'],_0x5c3a39['_node']['setPositio'+'n'](_0xe51f35['_node']['getPositio'+'n']()),_0x5c3a39['_node']['setRotatio'+'n'](_0xe51f35['_node']['getRotatio'+'n']()),_0x5c3a39['_node']['rotateLoca'+'l'](-(0x589+-0x2098+0x1b69),-0x29*-0xdd+0x4e0+-0x2845,0x2251+-0xb3*0x34+0x1*0x20b),_0x5c3a39['projection']=Gs,_0x5c3a39['nearClip']=_0xe51f35['attenuatio'+'nEnd']/(0x1312*0x2+0x1ea1*0x1+-0x40dd),_0x5c3a39['farClip']=_0xe51f35['attenuatio'+'nEnd'],_0x5c3a39['aspectRati'+'o']=-0xee*-0x1+0x1*0x1163+-0x125*0x10,_0x5c3a39['fov']=_0xe51f35['_outerCone'+'Angle']*(-0x2707+-0x1*-0x1fc5+0x744),this['renderer']['updateCame'+'raFrustum'](_0x5c3a39)),_0x5c3a39;}['lightCamer'+'aPrepareAn'+'dCull'](_0x58845a,_0x780fe1,_0x4334d5,_0x4e2475){const _0x3d2709=_0x58845a['light'];let _0x3e6b68=!(-0x1*-0xfdd+0x1*0x13d9+-0x23b6);if(_0x3d2709['type']===oe){Wl['copy'](_0x4e2475['center']),Wl['y']+=_0x4e2475['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](Wl),this['camera']['node']['setEulerAn'+'gles'](-(-0x1cd9*0x1+-0x215*-0x5+0x12ca),0xd3d+0x13*-0x98+0x1*-0x1f5,-0x2361+-0x2f8+-0x1*-0x2659),this['camera']['nearClip']=0x257*0x10+0x5bd+-0x2b2d,this['camera']['farClip']=_0x4e2475['halfExtent'+'s']['y']*(-0x1b*0x124+0x5e*-0x69+0x2*0x22ae);const _0x130623=Math['max'](_0x4e2475['halfExtent'+'s']['x'],_0x4e2475['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x130623;}else _0x58845a['lightBound'+'s']['intersects'](_0x780fe1['bounds'])||(_0x3e6b68=!(0x248*0x11+-0x836*-0x4+-0xe53*0x5));if(_0x3d2709['type']===Re){let _0x677fca=!(0x1b51+0x1*0x5c6+-0x69e*0x5);const _0x58a4d9=_0x780fe1['meshInstan'+'ces'];for(let _0x2b74df=-0x182a*-0x1+-0x25db+0xdb1;_0x2b74df<_0x58a4d9['length'];_0x2b74df++)if(_0x58a4d9[_0x2b74df]['_isVisible'](_0x4334d5)){_0x677fca=!(-0x2486+-0xdc*0x1d+-0x16*-0x2cb);break;}_0x677fca||(_0x3e6b68=!(-0x1902+-0x6*-0x1f1+0xd5d));}return _0x3e6b68;}['setupLight'+'Array'](_0x57c989,_0xb980b0){_0x57c989[oe]['length']=0x1b52+-0x1*0x269e+0xb4c,_0x57c989[Pe]['length']=0x6*0x26e+0x1b26+-0x29ba,_0x57c989[Re]['length']=-0x128*0x8+0x27a*0x2+0x44c,_0x57c989[_0xb980b0['type']][-0x7ce+-0x4dc*0x1+-0xcaa*-0x1]=_0xb980b0,_0xb980b0['visibleThi'+'sFrame']=!(0x1955+0x228b+-0x8*0x77c);}['renderShad'+'owMap'](_0x3150ae,_0x2fdc1b,_0xd51c16,_0x199df8){const _0x23f260=_0x199df8['light'],_0x52e5b9=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x4fcfa9=_0x23f260['castShadow'+'s']&&(!_0x52e5b9||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x2fdc1b&&_0x4fcfa9){if(!_0x23f260['shadowMap']&&!_0x52e5b9&&(_0x23f260['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x23f260)),_0x23f260['type']===oe){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x23f260,_0x3150ae,this['camera'],_0xd51c16);const _0x550b87=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x23f260,this['camera']);_0x550b87==null||_0x550b87['render']();}else{if(this['device']['isWebGPU'])return v['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x122*0x1+0x21dd*0x1+0x7*-0x4ad);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x23f260,_0x3150ae,_0xd51c16),this['renderer']['shadowRend'+'erer']['render'](_0x23f260,this['camera'],!(-0x2497+0x1*-0x1999+0x3e31*0x1));}}return!(-0x722*0x2+0x29*-0x2+0xe96);}['postproces'+'sTextures'](_0x39f828,_0x29ffce,_0x5b2f92){const _0x58dd61=this['lightmapFi'+'lters']['getDilate'](_0x39f828,this['bakeHDR']);let _0x357fd6;const _0x19471f=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x19471f&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x357fd6=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x39f828['setBlendSt'+'ate'](_t['NOBLEND']),_0x39f828['setDepthSt'+'ate'](as['NODEPTH']),_0x39f828['setStencil'+'State'](null,null);for(let _0x5b4f5d=-0x2268+-0x11fc*-0x2+0xc8*-0x2;_0x5b4f5d<_0x29ffce['length'];_0x5b4f5d++){const _0x421988=_0x29ffce[_0x5b4f5d];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x5b4f5d);for(let _0x5701e8=-0x2*-0xaab+0x1*-0xc90+-0x463*0x2;_0x5701e8<_0x5b2f92;_0x5701e8++){const _0x33fc03=_0x421988['renderTarg'+'ets'][_0x5701e8],_0x594556=_0x33fc03['colorBuffe'+'r'],_0x3367ab=this['renderTarg'+'ets']['get'](_0x594556['width']),_0x26583d=_0x3367ab['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x594556['width'],_0x594556['height']);for(let _0x363c52=0x18*0x15+-0x28d+0x95;_0x363c52<0x1b84+-0x3*-0xc2+-0x1dc9;_0x363c52++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x594556),dn(_0x39f828,_0x3367ab,_0x19471f&&_0x5701e8===0x730+-0x7d9+-0xa9*-0x1&&_0x363c52===0x26fd+0x1*0x1ad+-0x28aa?_0x357fd6:_0x58dd61),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x26583d),dn(_0x39f828,_0x33fc03,_0x58dd61);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x3e1797,_0x359ecc,_0x14a589){const _0x2bdece=this['scene'],_0x560d2e=_0x2bdece['layers'],_0x41e7b6=this['device'],_0x129268=_0x2bdece['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x41e7b6,_0x2bdece,_0x3e1797),this['setupScene'](),_0x560d2e['_update'](),this['computeNod'+'esBounds'](_0x359ecc),this['allocateTe'+'xtures'](_0x359ecc,_0x3e1797),this['renderer']['collectLig'+'hts'](_0x560d2e);const _0x305010=[],_0x57fcbe=[];this['prepareLig'+'htsToBake'](_0x305010,_0x57fcbe),this['updateTran'+'sforms'](_0x14a589);const _0x5f39f7=this['prepareSha'+'dowCasters'](_0x14a589);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x5f39f7),this['renderer']['gpuUpdate'](_0x5f39f7);const _0x41e4aa=this['computeBou'+'nds'](_0x5f39f7);let _0x1771ca,_0x163e26,_0x514fd6,_0x1902ab;for(_0x1771ca=-0x290*-0xa+-0x16*-0x17e+-0x3a74;_0x1771ca<_0x359ecc['length'];_0x1771ca++)for(_0x514fd6=_0x359ecc[_0x1771ca]['meshInstan'+'ces'],_0x163e26=0x1d91+0x7*-0x311+-0x81a;_0x163e26<_0x514fd6['length'];_0x163e26++)_0x1902ab=_0x514fd6[_0x163e26],_0x1902ab['setLightma'+'pped'](!(-0x14c0+0x19*0x59+-0x10*-0xc1)),_0x1902ab['mask']=rr,_0x1902ab['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][0x11*0x1dc+0x17f1+0x1*-0x378d],this['blackTex']),_0x1902ab['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][-0x25f6+0x1793+0x133*0xc],this['blackTex']);for(_0x163e26=0x3*-0x271+0x25*-0x7+0x856;_0x163e26<_0x57fcbe['length'];_0x163e26++)_0x57fcbe[_0x163e26]['light']['enabled']=!(-0x6*-0x16e+-0x77*-0x1d+-0x160e);const _0x3f658d=[[],[],[]];let _0x1b2646,_0x4b00a4,_0x20ad6d=!(0x1c9*-0x3+-0xa6b+0x1*0xfc7);for(_0x1771ca=-0xf*-0x1be+0x230e+-0x3d30;_0x1771ca<_0x57fcbe['length'];_0x1771ca++){const _0x115e63=_0x57fcbe[_0x1771ca],_0x55ccc3=_0x115e63 instanceof j_,_0x2aea51=_0x115e63['light']['type']===oe;let _0x470238=_0x115e63['numVirtual'+'Lights'];_0x3e1797>-0x2eb+0xaa1+-0x7b5&&_0x470238>-0x191*-0xb+-0x1c*0x86+-0x292&&_0x115e63['light']['bakeDir']&&(_0x470238=-0x4d8+-0x19b5+0xf47*0x2,v['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x51bbbd=0x149*0xe+0x1f*-0xf1+0xb31;_0x51bbbd<_0x470238;_0x51bbbd++){G['pushGpuMar'+'ker'](_0x41e7b6,'Light:'+_0x115e63['light']['_node']['name']+':'+_0x51bbbd),_0x470238>0x9db+0x1c6*0x11+0x280*-0x10&&_0x115e63['prepareVir'+'tualLight'](_0x51bbbd,_0x470238),_0x115e63['startBake']();let _0x18b402=!(0x1*0x2bd+-0x19fe+0x1742);const _0x31fc4f=this['lightCamer'+'aPrepare'](_0x41e7b6,_0x115e63);for(_0x4b00a4=0xe6f+0xcf4+-0x1b63;_0x4b00a4<_0x359ecc['length'];_0x4b00a4++){const _0x35cebb=_0x359ecc[_0x4b00a4];if(_0x514fd6=_0x35cebb['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x115e63,_0x35cebb,_0x31fc4f,_0x41e4aa))continue;this['setupLight'+'Array'](_0x3f658d,_0x115e63['light']);const _0x3cc1b2=_0x2aea51?[]:[_0x115e63['light']];for(_0x129268&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x3cc1b2,this['lightingPa'+'rams']),_0x18b402=this['renderShad'+'owMap'](_0x560d2e,_0x18b402,_0x5f39f7,_0x115e63),_0x129268&&this['worldClust'+'ers']['update'](_0x3cc1b2,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x514fd6),_0x1b2646=0x1d17+0x645+0x3e*-0x92;_0x1b2646<_0x3e1797&&!(_0x1b2646>-0xb1e*0x2+0x1532+-0x13*-0xe&&_0x51bbbd>-0x72*-0x3b+-0x1f5d*-0x1+-0x39a3||_0x55ccc3&&_0x1b2646>-0x7*0x583+0x7*0xdb+0x2098);_0x1b2646++){G['pushGpuMar'+'ker'](_0x41e7b6,'LMPass:'+_0x1b2646);const _0x2e1f4c=_0x35cebb['renderTarg'+'ets'][_0x1b2646],_0x30d677=_0x35cebb['renderTarg'+'ets'][_0x1b2646]['colorBuffe'+'r']['width'],_0x1e7089=this['renderTarg'+'ets']['get'](_0x30d677),_0x1aa489=_0x1e7089['colorBuffe'+'r'];_0x1b2646===0x2d0+-0x12a9*-0x1+-0x1*0x1579?_0x20ad6d=_0x2bdece['updateShad'+'ers']:_0x20ad6d&&(_0x2bdece['updateShad'+'ers']=!(0xf3+0x93a+0x1*-0xa2d));let _0x36f1f4=this['passMateri'+'als'][_0x1b2646];for(_0x55ccc3&&_0x51bbbd+(0xf5+0x1*0x1e4d+0x3*-0xa6b)===_0x470238&&_0x1b2646===0x1566+-0x676+-0xef0*0x1&&(_0x36f1f4=this['ambientAOM'+'aterial']),_0x163e26=0x1*0x20c4+0x25a5+-0x4669;_0x163e26<_0x514fd6['length'];_0x163e26++)_0x514fd6[_0x163e26]['material']=_0x36f1f4;if(this['renderer']['updateShad'+'ers'](_0x514fd6),_0x1b2646===SP&&this['constantBa'+'keDir']['setValue'](_0x115e63['light']['bakeDir']?-0x17*0x61+0x23d3+-0x101*0x1b:-0xe9*0x17+0x121+-0x6*-0x34d),_0x41e7b6['isWebGPU']){const _0x37dbfa=new gP(_0x41e7b6,this['renderer'],this['camera'],_0x129268?this['worldClust'+'ers']:null,_0x514fd6,_0x3f658d);_0x37dbfa['init'](_0x1e7089),_0x37dbfa['render'](),_0x37dbfa['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x1e7089,!(0x1*0x6a3+0x1df3+-0x2496)),_0x129268&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0x1*0x26ab+-0x153+0x27fe,this['renderer']['_shadowMap'+'Time']=0x11ce+-0xfe6+-0x1e8,this['renderer']['renderForw'+'ard'](this['camera'],_0x1e7089,_0x514fd6,_0x3f658d,gn),_0x41e7b6['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x35cebb['renderTarg'+'ets'][_0x1b2646]=_0x1e7089,this['renderTarg'+'ets']['set'](_0x30d677,_0x2e1f4c),_0x163e26=0x16d+-0x81e+0x6b1;_0x163e26<_0x514fd6['length'];_0x163e26++)_0x1902ab=_0x514fd6[_0x163e26],_0x1902ab['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x1b2646],_0x1aa489),_0x1902ab['_shaderDef'+'s']|=Fu;G['popGpuMark'+'er'](_0x41e7b6);}this['restoreMat'+'erials'](_0x514fd6);}_0x115e63['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x41e7b6);}}for(this['postproces'+'sTextures'](_0x41e7b6,_0x359ecc,_0x3e1797),_0x4b00a4=-0x2470+-0x1d40+0x106c*0x4;_0x4b00a4<_0x14a589['length'];_0x4b00a4++)_0x14a589[_0x4b00a4]['restore']();this['restoreLig'+'hts'](_0x305010),this['restoreSce'+'ne'](),_0x129268||this['shadowMapC'+'ache']['clear']();}}const oc=class oc extends ce{constructor(_0x4d423e,_0x45c227){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x4d423e,this['entity']=_0x45c227,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x521475,_0x217a31,_0x411efd){this['fire']('set_'+_0x521475,_0x521475,_0x217a31,_0x411efd);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x20632c,_0x4add4b){_0x4add4b['forEach'](_0x4b36cb=>{const _0x2d167c=typeof _0x4b36cb=='object'?_0x4b36cb['name']:_0x4b36cb;Object['defineProp'+'erty'](_0x20632c,_0x2d167c,{'get':function(){return this['data'][_0x2d167c];},'set':function(_0x382fc5){const _0x2cbc70=this['data'],_0x522cde=_0x2cbc70[_0x2d167c];_0x2cbc70[_0x2d167c]=_0x382fc5,this['fire']('set',_0x2d167c,_0x522cde,_0x382fc5);},'configurable':!(-0xb5a*0x3+0x2b3*-0x9+-0x47d*-0xd)});}),_0x20632c['_accessors'+'Built']=!(-0x59*-0x6d+0x157d+0x2b3*-0x16);}['buildAcces'+'sors'](_0x40ee1b){oc['_buildAcce'+'ssors'](this,_0x40ee1b);}['onSetEnabl'+'ed'](_0x26de75,_0x2e54b4,_0x181927){_0x2e54b4!==_0x181927&&this['entity']['enabled']&&(_0x181927?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x42408c=this['system']['store'][this['entity']['getGuid']()];return _0x42408c?_0x42408c['data']:null;}set['enabled'](_0x192f19){}get['enabled'](){return!(-0xf99+0x231c+-0x1383);}};c(oc,'order',-0x62a+-0xc7d+0x12a7*0x1);let ue=oc;class Xe extends ce{constructor(_0xc54048){super(),this['app']=_0xc54048,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x1b78d4,_0x20dedf={}){const _0x47c12c=new this['ComponentT'+'ype'](this,_0x1b78d4),_0x571ba7=new this['DataType']();return this['store'][_0x1b78d4['getGuid']()]={'entity':_0x1b78d4,'data':_0x571ba7},_0x1b78d4[this['id']]=_0x47c12c,_0x1b78d4['c'][this['id']]=_0x47c12c,this['initialize'+'ComponentD'+'ata'](_0x47c12c,_0x20dedf,[]),this['fire']('add',_0x1b78d4,_0x47c12c),_0x47c12c;}['removeComp'+'onent'](_0xf0cd5d){const _0x32b8a4=this['id'],_0xad0da3=this['store'][_0xf0cd5d['getGuid']()],_0x2d5217=_0xf0cd5d['c'][_0x32b8a4];_0x2d5217['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0xf0cd5d,_0x2d5217),delete this['store'][_0xf0cd5d['getGuid']()],_0xf0cd5d[_0x32b8a4]=void(-0x6ef+-0x19*-0x139+-0x17a2),delete _0xf0cd5d['c'][_0x32b8a4],this['fire']('remove',_0xf0cd5d,_0xad0da3['data']);}['cloneCompo'+'nent'](_0x41c0b4,_0x1ed498){const _0x1c4b39=this['store'][_0x41c0b4['getGuid']()];return this['addCompone'+'nt'](_0x1ed498,_0x1c4b39['data']);}['initialize'+'ComponentD'+'ata'](_0x968f97,_0x449c6e={},_0x268691){for(let _0x5a2661=-0x2f0+-0x22*-0xdf+-0x1aae,_0x25bf66=_0x268691['length'];_0x5a2661<_0x25bf66;_0x5a2661++){const _0xd883f5=_0x268691[_0x5a2661];let _0x15527a,_0x8483ec;typeof _0xd883f5=='object'?(_0x15527a=_0xd883f5['name'],_0x8483ec=_0xd883f5['type']):(_0x15527a=_0xd883f5,_0x8483ec=void(0xfec+0x1f*-0x62+0x6*-0xad));let _0x80d987=_0x449c6e[_0x15527a];_0x80d987!==void(-0x1f*-0xb1+0x1*-0x231a+-0xdab*-0x1)?(_0x8483ec!==void(0xb72*0x2+-0x959+0xd8b*-0x1)&&(_0x80d987=bP(_0x80d987,_0x8483ec)),_0x968f97[_0x15527a]=_0x80d987):_0x968f97[_0x15527a]=_0x968f97['data'][_0x15527a];}_0x968f97['enabled']&&_0x968f97['entity']['enabled']&&_0x968f97['onEnable']();}['getPropert'+'iesOfType'](_0x5410ef){const _0x485936=[];return(this['schema']||[])['forEach'](_0x25f98f=>{_0x25f98f&&typeof _0x25f98f=='object'&&_0x25f98f['type']===_0x5410ef&&_0x485936['push'](_0x25f98f);}),_0x485936;}['destroy'](){this['off']();}}function bP(_0x3537f0,_0x43743f){if(!_0x3537f0)return _0x3537f0;switch(_0x43743f){case'rgb':return _0x3537f0 instanceof Y?_0x3537f0['clone']():new Y(_0x3537f0[0xa52+-0x3*0x401+0x1b1*0x1],_0x3537f0[0x2*0x31d+0x251a+0x3*-0xe71],_0x3537f0[0x654+-0x5f3*0x3+0xb87]);case'rgba':return _0x3537f0 instanceof Y?_0x3537f0['clone']():new Y(_0x3537f0[-0x1*-0x1fbd+0x1a67+-0x3a24],_0x3537f0[-0x18b1+0x97*0x17+0xb21],_0x3537f0[-0x1*-0x14b0+-0x10f*-0xb+-0x2053],_0x3537f0[-0x30b*0x2+0x8fd*-0x3+0x2110]);case'vec2':return _0x3537f0 instanceof $?_0x3537f0['clone']():new $(_0x3537f0[0x1e49*-0x1+0x12cd*-0x2+0x43e3],_0x3537f0[0x14f1+0x1c47+-0x3137]);case'vec3':return _0x3537f0 instanceof T?_0x3537f0['clone']():new T(_0x3537f0[0x21*-0x4+0x917*0x2+-0x11*0x10a],_0x3537f0[0x20cd+-0x4d3+-0x1bf9],_0x3537f0[-0xbb+-0x15d1*0x1+-0x168e*-0x1]);case'vec4':return _0x3537f0 instanceof Q?_0x3537f0['clone']():new Q(_0x3537f0[0x1c7*0xd+-0x1045+-0x6d6],_0x3537f0[0xd*-0x2b3+-0x24d1+0x47e9],_0x3537f0[0xff8+0x3*0x77d+-0x266d],_0x3537f0[-0x3ae+-0x107+0x12e*0x4]);case'boolean':case'number':case'string':return _0x3537f0;case'entity':return _0x3537f0;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x43743f);}}const W0=-0xd3*0x29+0x1336*0x1+0xe95,ju=0x2c9*0x1+0x1ea*-0xb+0x1246,Yu=0x9*0x34c+0x89b*-0x3+-0x3d9;class wP{constructor(){this['_left']=(-0xc5*-0x9+-0x1*-0xe8a+0x29*-0x86)/(-0x16a*-0x2+-0xcb9+0x9e5),this['_right']=-(0x1868+-0x25aa+0x23*0x61)/(0x7d7+-0x23*-0x8d+-0x1b1e),this['_len']=0xbca*-0x2+-0x20d8+0x386c,this['_recip']=0x19f1+0x21c5+0x2*-0x1ddb,this['_p0']=-0x2e*-0x89+-0x29*0x27+0x1*-0x125f,this['_p1']=0xea1+-0x6+-0x1*0xe9b,this['_t']=0x129a*-0x2+-0x851+0x2d85,this['_hermite']={'valid':!(0x3*-0x13b+-0x7*-0x4ab+-0x1cfb),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x35dccf,_0x4551b4){if(_0x35dccf<this['_left']||_0x35dccf>=this['_right']){const _0x26ed9d=_0x4551b4['length'];if(!_0x26ed9d)this['_left']=-(0x1*0x1f81+0x60*0x27+-0x2e20)/(-0x2*-0x12af+-0x787+-0x1dd7*0x1),this['_right']=(-0x1*-0xc59+0x1157+0x1daf*-0x1)/(0x1c7e+0x6cd*-0x4+-0x14a),this['_len']=0x191+0x2*-0xf7f+0x1b*0x117,this['_recip']=0x1c6f+-0x1352*0x2+0xa35,this['_p0']=this['_p1']=-0x1c08+0x11*0xad+-0x25d*-0x7;else{if(_0x35dccf<_0x4551b4[-0xb*-0x226+-0x298*-0x8+0xf7*-0x2e])this['_left']=-(0x591+-0x2f2+-0x29e)/(0x6*0x5dc+-0x5*-0x1ba+-0x2bca),this['_right']=_0x4551b4[-0x2b1*-0x8+-0xda6+-0x1*0x7e2],this['_len']=0x2223+-0x2*-0x83+-0x2329,this['_recip']=-0x1ca3*0x1+-0x62a+0x22cd,this['_p0']=this['_p1']=0x19*-0x16f+-0xf*-0x109+0x1450;else{if(_0x35dccf>=_0x4551b4[_0x26ed9d-(-0x310+-0x1ee7+0x43f*0x8)])this['_left']=_0x4551b4[_0x26ed9d-(-0x1af0+-0x1*-0x17e+0x1973)],this['_right']=(-0x17f4+-0x59+-0x1*-0x184e)/(-0x740*0x1+-0x153d+0x1c7d),this['_len']=-0xfa6+0x1*-0x4b1+0x1457,this['_recip']=-0x63*-0x53+-0x235e+0x345,this['_p0']=this['_p1']=_0x26ed9d-(-0x195c+-0xd*-0x115+-0x5a6*-0x2);else{const _0x21bb64=this['_findKey'](_0x35dccf,_0x4551b4);this['_left']=_0x4551b4[_0x21bb64],this['_right']=_0x4551b4[_0x21bb64+(-0x96f+-0x7a9*0x4+-0xb4*-0x39)],this['_len']=this['_right']-this['_left'];const _0x5e5352=(0x459+-0x22de*0x1+0x1e86)/this['_len'];this['_recip']=isFinite(_0x5e5352)?_0x5e5352:0x1b46+-0x7+-0x1b3f,this['_p0']=_0x21bb64,this['_p1']=_0x21bb64+(-0x1*0x1fab+0x26a7*0x1+0x6fb*-0x1);}}}}this['_t']=this['_recip']===0xf*-0x1a6+-0x1f3*-0x5+-0x127*-0xd?0x66a*0x4+-0x22ac+0x2*0x482:(_0x35dccf-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x60*-0x1e+0x1ede+-0x139d);}['_findKey'](_0x23a839,_0x2208d1){let _0x51d7ec=-0x4*0x7fa+-0x1*-0x583+0x1*0x1a65;for(;_0x23a839>=_0x2208d1[_0x51d7ec+(0x14*-0x1b7+0xd56+0x14f7*0x1)];)_0x51d7ec++;return _0x51d7ec;}['eval'](_0x335753,_0x4a64f4,_0x16d8b6){const _0x55e8a0=_0x16d8b6['_data'],_0x2dd976=_0x16d8b6['_component'+'s'],_0x13c917=this['_p0']*_0x2dd976;if(_0x4a64f4===W0){for(let _0x5e240f=0x1f*0x139+-0x71c+-0x1ecb;_0x5e240f<_0x2dd976;++_0x5e240f)_0x335753[_0x5e240f]=_0x55e8a0[_0x13c917+_0x5e240f];}else{const _0x5204bf=this['_t'],_0x54b661=this['_p1']*_0x2dd976;switch(_0x4a64f4){case ju:for(let _0x25b261=-0x1dc3+0x254c+-0x789;_0x25b261<_0x2dd976;++_0x25b261)_0x335753[_0x25b261]=N['lerp'](_0x55e8a0[_0x13c917+_0x25b261],_0x55e8a0[_0x54b661+_0x25b261],_0x5204bf);break;case Yu:{const _0x15bbd6=this['_hermite'];if(!_0x15bbd6['valid']){const _0x537832=_0x5204bf*_0x5204bf,_0x4e1342=_0x5204bf+_0x5204bf,_0x2706bf=0xb19+-0x2246+0x172e-_0x5204bf,_0x5ed75a=_0x2706bf*_0x2706bf;_0x15bbd6['valid']=!(-0x2e*0xa6+0x25d*0x8+0x1d2*0x6),_0x15bbd6['p0']=(0x1813+0x7*-0x54a+0xcf4+_0x4e1342)*_0x5ed75a,_0x15bbd6['m0']=_0x5204bf*_0x5ed75a,_0x15bbd6['p1']=_0x537832*(-0x11*0xd7+-0x2ea+0x1134-_0x4e1342),_0x15bbd6['m1']=_0x537832*(_0x5204bf-(-0x24db+0x1*0x3a9+0x2133));}const _0x2d73f7=(this['_p0']*(0xcef+0xd65+-0x1a51)+(0x8ba+0x234a+-0x2c03))*_0x2dd976,_0x23ac70=(this['_p0']*(0x52*-0x76+0x11b+0x24b4)+(-0x2*-0x685+0xf15+-0x1c1d))*_0x2dd976,_0xbf5b41=(this['_p1']*(0x17c4+-0xe51+0x8*-0x12e)+(0x155e+0x1*-0xd3a+-0x823))*_0x2dd976,_0x93f172=(this['_p1']*(0x4c*0xb+-0x98c+-0xb3*-0x9)+(-0xa1*0x2e+0x3*0x8da+0x260))*_0x2dd976;for(let _0x3ba8d0=0x4*0x8bc+-0xe4a+0x3*-0x6e2;_0x3ba8d0<_0x2dd976;++_0x3ba8d0)_0x335753[_0x3ba8d0]=_0x15bbd6['p0']*_0x55e8a0[_0x2d73f7+_0x3ba8d0]+_0x15bbd6['m0']*_0x55e8a0[_0x23ac70+_0x3ba8d0]*this['_len']+_0x15bbd6['p1']*_0x55e8a0[_0xbf5b41+_0x3ba8d0]+_0x15bbd6['m1']*_0x55e8a0[_0x93f172+_0x3ba8d0]*this['_len'];break;}}}}}class K_{constructor(_0x47902d){this['_name']=_0x47902d['name']+'Snapshot',this['_time']=-(0x25fd*-0x1+-0xd81+0x337f*0x1),this['_cache']=[],this['_results']=[];for(let _0x496ee1=-0x10*0x5e+0x20b7+-0x1ad7;_0x496ee1<_0x47902d['_inputs']['length'];++_0x496ee1)this['_cache'][_0x496ee1]=new wP();const _0x21b5db=_0x47902d['_curves'],_0x219523=_0x47902d['_outputs'];for(let _0x5155d3=-0x7e8+-0x1cf0+0x24d8;_0x5155d3<_0x21b5db['length'];++_0x5155d3){const _0x5da77d=_0x21b5db[_0x5155d3],_0x4f21ac=_0x219523[_0x5da77d['_output']],_0x129ec7=[];for(let _0x1b667f=-0x202c+-0x21*0x101+-0xe5*-0x49;_0x1b667f<_0x4f21ac['_component'+'s'];++_0x1b667f)_0x129ec7[_0x1b667f]=-0x17*0x20+0x667*0x5+0x1*-0x1d23;this['_results'][_0x5155d3]=_0x129ec7;}}}const Eo=class Eo{constructor(_0x368188,_0x41247e,_0x4bdd6a,_0x71e053,_0x1a5671,_0x4cdd08){this['_name']=_0x368188['name'],this['_track']=_0x368188,this['_snapshot']=new K_(_0x368188),this['_playing']=_0x71e053,this['_time']=_0x41247e,this['_speed']=_0x4bdd6a,this['_loop']=_0x1a5671,this['_blendWeig'+'ht']=0x1*0xdae+-0x643*-0x4+-0x26b9,this['_blendOrde'+'r']=0x1f08+0x401+-0x2309*0x1,this['_eventHand'+'ler']=_0x4cdd08,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x52eaee){this['_name']=_0x52eaee;}get['name'](){return this['_name'];}set['track'](_0x21fdd4){this['_track']=_0x21fdd4,this['_snapshot']=new K_(_0x21fdd4);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x4bd8d4){this['_time']=_0x4bd8d4,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x2e37a3){const _0x5bbb93=Math['sign'](_0x2e37a3)!==Math['sign'](this['_speed']);this['_speed']=_0x2e37a3,_0x5bbb93&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x116143){this['_loop']=_0x116143;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0xdf4e77){this['_blendWeig'+'ht']=_0xdf4e77;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x4369bf){this['_blendOrde'+'r']=_0x4369bf;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x472788){this['_eventCurs'+'or']=_0x472788;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0x2*-0x129+0x42*0x83+-0x1f74:this['_track']['events']['length']-(-0x1*-0xa93+0x1be3+0x37*-0xb3);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x1bb8+-0xb*-0xe3+0x11f7;}['nextEventA'+'headOfTime'](_0x48a698){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x48a698:this['nextEvent']['time']>=_0x48a698:!(0x7*0x4b7+0x1237*-0x2+0x1*0x36e);}['nextEventB'+'ehindTime'](_0x54b3fc){return this['nextEvent']?_0x54b3fc===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x54b3fc:this['nextEvent']['time']<=_0x54b3fc:this['isReverse']?this['nextEvent']['time']>_0x54b3fc:this['nextEvent']['time']<_0x54b3fc:!(0x1920+-0x35*-0x81+0x6b*-0x7c);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(0x49f+0x174f+-0x3*0x94f):-0x1*0x592+0xf5b+-0x9c9;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0xdb*0x1d+-0x191c+0x6*0xd):0x21b1+0xe1b+-0x2fcb,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0x28*0xaa+-0x2*-0xd81+-0x3592:this['_eventCurs'+'or']<-0x1be9+-0x1a7b+-0x1b32*-0x2&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x121d+0x203+0x33*-0x65));}['clipFrameT'+'ime'](_0x357824){const _0x3d5ba6=Eo['eventFrame'];_0x3d5ba6['start']=-0x1175+-0xb04+-0x1c79*-0x1,_0x3d5ba6['end']=_0x357824,_0x3d5ba6['residual']=-0x1043+0x5*-0x3ee+0x23e9,this['isReverse']?_0x357824<-0x18ab+-0xef1+0x279c&&(_0x3d5ba6['start']=this['track']['duration'],_0x3d5ba6['end']=0x2*-0xa7e+0x10dd+0x41f,_0x3d5ba6['residual']=_0x357824+this['track']['duration']):_0x357824>this['track']['duration']&&(_0x3d5ba6['start']=-0x2f*-0x4f+-0x1fe0*0x1+-0x1*-0x115f,_0x3d5ba6['end']=this['track']['duration'],_0x3d5ba6['residual']=_0x357824-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x1ecb84,_0x1b5499){return this['nextEventA'+'headOfTime'](_0x1ecb84)&&this['nextEventB'+'ehindTime'](_0x1b5499)?(this['fireNextEv'+'ent'](),!(0x1*0x7cd+-0x1e52*-0x1+0x1*-0x261f)):!(0x19d4+-0xf13+-0x1*0xac0);}['activeEven'+'tsForFrame'](_0x981203,_0x2fe0ab){const _0x33de75=Eo['eventFrame'];this['clipFrameT'+'ime'](_0x2fe0ab);const _0x28f5c0=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x981203,_0x33de75['end'])&&_0x28f5c0!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x33de75['residual'])>-0x1138+0x13cd+-0x295&&this['activeEven'+'tsForFrame'](_0x33de75['start'],_0x33de75['residual']);}['progressFo'+'rTime'](_0x40a0d6){return _0x40a0d6*this['_speed']/this['_track']['duration'];}['_update'](_0x1b32b0){if(this['_playing']){let _0x2b4050=this['_time'];const _0xc0ac0c=this['_track']['duration'],_0x536aaa=this['_speed'],_0x14e9ee=this['_loop'];this['_track']['events']['length']>-0x2*0x1b5+-0x1a0c*0x1+0x9*0x346&&_0xc0ac0c>-0x11b1+0x25*0xbd+0x2*-0x4d0&&this['activeEven'+'tsForFrame'](_0x2b4050,_0x2b4050+_0x536aaa*_0x1b32b0),_0x2b4050+=_0x536aaa*_0x1b32b0,_0x536aaa>=0x170f+0x16a3+-0x2db2?_0x2b4050>_0xc0ac0c&&(_0x14e9ee?_0x2b4050=_0x2b4050%_0xc0ac0c||0xb56*-0x1+0x2404+-0x18ae:(_0x2b4050=this['_track']['duration'],this['pause']())):_0x2b4050<-0x1*-0x2186+0x59e+-0x2724&&(_0x14e9ee?_0x2b4050=_0xc0ac0c+(_0x2b4050%_0xc0ac0c||-0x453+0x192e+-0x14db):(_0x2b4050=0x6f3*0x2+0x1*0x63+-0xe49,this['pause']())),this['_time']=_0x2b4050;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0x4*-0x9a7+0x7e+0x7d2*-0x5),this['_time']=0x19+-0x425+0x40c;}['stop'](){this['_playing']=!(0x1f95+-0x23e+-0xa*0x2ef),this['_time']=0xe78+0x1a71+-0x1*0x28e9;}['pause'](){this['_playing']=!(0x178e+0x2b*0x39+-0x2120);}['resume'](){this['_playing']=!(0x11f*0xd+-0x1*-0x20b+-0x3*0x58a);}['reset'](){this['_time']=-0x12a5+-0x599+-0xd6*-0x1d;}};c(Eo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Xh=Eo;const q0='NONE',TP='PREV_STATE',AP='NEXT_STATE',EP='PREV_STATE'+'_NEXT_STAT'+'E',CP='NEXT_STATE'+'_PREV_STAT'+'E',MP='GREATER_TH'+'AN',PP='LESS_THAN',RP='GREATER_TH'+'AN_EQUAL_T'+'O',IP='LESS_THAN_'+'EQUAL_TO',DP='EQUAL_TO',LP='NOT_EQUAL_'+'TO',Z_='INTEGER',Q_='FLOAT',J_='BOOLEAN',ph='TRIGGER',FP='1D',OP='2D_DIRECTI'+'ONAL',kP='2D_CARTESI'+'AN',BP='DIRECT',oo='START',Ku='END',Or='ANY',jh=[oo,Ku,Or],X0='OVERWRITE',NP='ADDITIVE';class Tt{static['dot'](_0x17d705,_0xb7a7be){const _0x4ce15c=_0x17d705['length'];let _0xd4c72b=0x1459*0x1+-0x1ff*-0x7+-0x1129*0x2;for(let _0xd45ca2=-0x1286+0x5*0x61d+-0xc0b;_0xd45ca2<_0x4ce15c;++_0xd45ca2)_0xd4c72b+=_0x17d705[_0xd45ca2]*_0xb7a7be[_0xd45ca2];return _0xd4c72b;}static['normalize'](_0x3b91ca){let _0x200774=Tt['dot'](_0x3b91ca,_0x3b91ca);if(_0x200774>-0x160b+-0xc7*0x3+0x6*0x410){_0x200774=(-0x1*-0x21ef+-0x1e68+-0x386)/Math['sqrt'](_0x200774);const _0x295e67=_0x3b91ca['length'];for(let _0x351336=-0x26b*0xb+0xee9*-0x1+0x142*0x21;_0x351336<_0x295e67;++_0x351336)_0x3b91ca[_0x351336]*=_0x200774;}}static['set'](_0x3dd279,_0x16fb90,_0x5a3731){const _0x4a3b34=_0x3dd279['length'];if(_0x5a3731==='quaternion'){let _0x5b9a37=Tt['dot'](_0x16fb90,_0x16fb90);_0x5b9a37>0x215b+0x31*0xa7+-0x4152&&(_0x5b9a37=(0x3a*0x2e+-0x40*0x40+-0x1*-0x595)/Math['sqrt'](_0x5b9a37));for(let _0x343914=-0x160+0x7f6+-0x696;_0x343914<_0x4a3b34;++_0x343914)_0x3dd279[_0x343914]=_0x16fb90[_0x343914]*_0x5b9a37;}else{for(let _0x5b1717=0x2565+-0x1c40+-0x925;_0x5b1717<_0x4a3b34;++_0x5b1717)_0x3dd279[_0x5b1717]=_0x16fb90[_0x5b1717];}}static['blendVec'](_0x28f8c2,_0x237286,_0x1e0ce5,_0x3886d9){const _0x1e46d1=_0x3886d9?0x993+0x1*-0x8a+-0x88*0x11:-0x1*-0x10a9+-0x178c+0x6e4-_0x1e0ce5,_0x773e12=_0x28f8c2['length'];for(let _0x2474aa=-0x116f+0x3*-0x6df+0x260c;_0x2474aa<_0x773e12;++_0x2474aa)_0x28f8c2[_0x2474aa]=_0x28f8c2[_0x2474aa]*_0x1e46d1+_0x237286[_0x2474aa]*_0x1e0ce5;}static['blendQuat'](_0x5d0ed3,_0x514ddc,_0x284f3a,_0x14f10a){const _0x38b578=_0x5d0ed3['length'],_0x2cc0e6=_0x14f10a?-0x22c9+-0xac8*0x2+0x385a:0x1*0x192f+-0x125*0x5+-0x1*0x1375-_0x284f3a;Tt['dot'](_0x5d0ed3,_0x514ddc)<0x4cf*0x1+-0x2057+0x1b88&&(_0x284f3a=-_0x284f3a);for(let _0x548653=0x26a5+0x1421+0x2*-0x1d63;_0x548653<_0x38b578;++_0x548653)_0x5d0ed3[_0x548653]=_0x5d0ed3[_0x548653]*_0x2cc0e6+_0x514ddc[_0x548653]*_0x284f3a;_0x14f10a||Tt['normalize'](_0x5d0ed3);}static['blend'](_0x16f49b,_0x2abbe3,_0x5a71dd,_0x1c6824,_0xaa7131){_0x1c6824==='quaternion'?Tt['blendQuat'](_0x16f49b,_0x2abbe3,_0x5a71dd,_0xaa7131):Tt['blendVec'](_0x16f49b,_0x2abbe3,_0x5a71dd,_0xaa7131);}static['stableSort'](_0x2efcb,_0x435187){const _0x4950b0=_0x2efcb['length'];for(let _0x2972b4=0x33e+-0x1ded+-0xcf*-0x21;_0x2972b4<_0x4950b0-(0x170d+0xb1c+-0x8*0x445);++_0x2972b4)for(let _0x5ed313=_0x2972b4+(-0x3*-0x3bb+-0x33a*-0xb+0x4ab*-0xa);_0x5ed313<_0x4950b0;++_0x5ed313)if(_0x435187(_0x2efcb[_0x5ed313],_0x2efcb[_0x2972b4])){const _0x3fb4db=_0x2efcb[_0x2972b4];_0x2efcb[_0x2972b4]=_0x2efcb[_0x5ed313],_0x2efcb[_0x5ed313]=_0x3fb4db;}}}const Ue=class Ue{constructor(_0x3ccf6d,_0x5f5a68){this['_component']=_0x3ccf6d,this['mask']=new Int8Array(_0x3ccf6d['layers']['length']),this['weights']=new Float32Array(_0x3ccf6d['layers']['length']),this['totalWeigh'+'t']=0x1a7c+-0x13*0x23+-0x17e3,this['counter']=-0x19bf+0xe4f+0xb70,this['layerCount'+'er']=-0x1*-0x1f04+-0x1*-0xd49+0x2c4d*-0x1,this['valueType']=_0x5f5a68,this['dirty']=!(0x1a6f+-0x1820+-0x24f),this['value']=_0x5f5a68===Ue['TYPE_QUAT']?[0x1*0x142+-0x6*0x221+0x4*0x2e1,0x123d+0x1db9+0xe*-0x36d,0x12*-0xe3+0x1154+-0x15e,-0x342+0x21fd+-0x1eba]:[-0xfde+0x1bb0+-0x22*0x59,0x64e+-0x1328+0xcda,0x1*0x1512+-0x3f*-0x11+-0x1941],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x5b6a5a){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0x10f0+0x7d+0x1*0x1073||!this['mask'][_0x5b6a5a]?-0x1b6*0x4+-0xd58*-0x1+-0x680:this['_normalize'+'Weights']?this['weights'][_0x5b6a5a]/this['totalWeigh'+'t']:N['clamp'](this['weights'][_0x5b6a5a],0x3*-0xb66+-0x17*-0x15d+0x2d7,-0x1faf+-0x1713+-0x1*-0x36c3);}['_layerBlen'+'dType'](_0x501dcc){return this['_component']['layers'][_0x501dcc]['blendType'];}['setMask'](_0x3ba72e,_0x3c8f69){this['mask'][_0x3ba72e]=_0x3c8f69,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x3ba72e]['blendType']===X0&&(this['mask']=this['mask']['fill'](-0xe03*-0x2+0x38b*0x1+0x1f91*-0x1,0x3*0x585+-0x364+-0xd2b,_0x3ba72e)),this['dirty']=!(-0xbcb+-0xc7f+-0x2*-0xc25));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x262c+0x577+0x20b5;for(let _0x29827e=-0xa87+-0xe52+0x18d9;_0x29827e<this['weights']['length'];_0x29827e++)this['weights'][_0x29827e]=this['_component']['layers'][_0x29827e]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x29827e]*this['weights'][_0x29827e];this['dirty']=!(-0x6ae*-0x5+0xc32+-0x2d97*0x1);}['updateValu'+'e'](_0x5673c9,_0x2ccda2){if(this['counter']===-0x12d3+-0xe95+0x85a*0x4&&(Tt['set'](this['value'],Ue['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Tt['blend'](this['value'],this['baseValue'],-0x1171+-0x7*0x106+0x189c,this['valueType'])),!(!this['mask'][_0x5673c9]||this['getWeight'](_0x5673c9)===0x146e+-0xfab+-0x35*0x17)){if(this['_layerBlen'+'dType'](_0x5673c9)===NP&&!this['_normalize'+'Weights']){if(this['valueType']===Ue['TYPE_QUAT']){const _0x2f7a3d=Ue['q1']['set'](this['value'][-0x102e+0x623+0x3*0x359],this['value'][-0x29*0xf1+0x8f2+-0x124*-0x1a],this['value'][-0x1*0xea2+-0x20d1+0x2f75*0x1],this['value'][-0x1*-0x1010+0x1*0x1537+-0x2544]),_0x2dd46d=Ue['q2']['set'](this['baseValue'][-0x1*-0x749+0x1cd3*-0x1+0x1*0x158a],this['baseValue'][0x107b*-0x1+0x1b45+-0xac9],this['baseValue'][-0xbf5+-0x6*-0x1ea+0x7b],this['baseValue'][0x955*-0x3+0x23*0x2d+0x15db]),_0x3dc744=Ue['q3']['set'](_0x2ccda2[0x22*0x11+-0x5*0x45a+0x1380],_0x2ccda2[-0x13cc+0x25d2+0x1205*-0x1],_0x2ccda2[0xaf0+0x1462+-0x1f50],_0x2ccda2[0xa3e+0x1e1*0x5+-0x9d0*0x2]),_0x188588=_0x2dd46d['invert']()['mul'](_0x3dc744);_0x188588['slerp'](se['IDENTITY'],_0x188588,this['getWeight'](_0x5673c9)),_0x2f7a3d['mul'](_0x188588),Ue['quatArr'][-0x808+-0x1e86+0x268e]=_0x2f7a3d['x'],Ue['quatArr'][-0x22de+0x47*-0x22+0x2c4d]=_0x2f7a3d['y'],Ue['quatArr'][-0x43*0x26+-0x749+-0x113d*-0x1]=_0x2f7a3d['z'],Ue['quatArr'][-0x1*-0x1c1d+0x1af8+-0x3712]=_0x2f7a3d['w'],Tt['set'](this['value'],Ue['quatArr'],this['valueType']);}else Ue['vecArr'][-0x1440+0xc29+0x817]=_0x2ccda2[-0x379+0x85*-0x26+0x351*0x7]-this['baseValue'][0x16b*-0x9+0x35d+-0x3*-0x322],Ue['vecArr'][0x1*0xf91+0x940+0x2*-0xc68]=_0x2ccda2[-0x4d3+0x8c7*0x2+-0x1*0xcba]-this['baseValue'][-0x193*0x1+0x6*-0x14+0x1*0x20c],Ue['vecArr'][0x28+-0x1*-0x511+-0x537]=_0x2ccda2[0x2*-0xcbb+-0x1181+0x2af9]-this['baseValue'][-0x1eb4+-0x2a*-0x2f+0x1700],Tt['blend'](this['value'],Ue['vecArr'],this['getWeight'](_0x5673c9),this['valueType'],!(0x44*-0x16+-0x4*-0x566+-0xfc0));}else Tt['blend'](this['value'],_0x2ccda2,this['getWeight'](_0x5673c9),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(Ue,'TYPE_QUAT','quaternion'),c(Ue,'TYPE_VEC3','vector3'),c(Ue,'q1',new se()),c(Ue,'q2',new se()),c(Ue,'q3',new se()),c(Ue,'quatArr',[-0xdd4+0x469*-0x3+0x1b0f,-0x335*-0xb+0x23d9+-0x4720*0x1,-0x923*0x1+0xacb*-0x1+0x1*0x13ee,0x18fd+-0x1a03+-0x1*-0x107]),c(Ue,'vecArr',[-0x39b*-0x1+-0x1c*-0x22+-0x753,-0x13f3+-0x1*0x2218+-0xacf*-0x5,-0x179e+-0x1c45+0x1*0x33e3]),c(Ue,'IDENTITY_Q'+'UAT_ARR',[-0x2639+-0x1656+-0x1a3*-0x25,-0x1a89+-0x705+0x218e,0xede+-0x5*0x2e9+0x1*-0x51,0xa2c+-0x1*-0x1ff6+-0x1*0x2a21]);let bo=Ue;class j0{constructor(_0x35b225){this['_binder']=_0x35b225,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0xac1676){const _0x529283=this['_targets'],_0x2392dd=this['_binder'],_0x4e568d=_0xac1676['track']['curves'],_0x5b60bf=_0xac1676['snapshot'],_0x4afcf5=[],_0x45bbcb=[];for(let _0x15c323=0x850+0x8d1+-0x1121;_0x15c323<_0x4e568d['length'];++_0x15c323){const _0x5f4a4c=_0x4e568d[_0x15c323]['paths'];for(let _0x413e9b=-0x2546+0x37*-0x25+0xf13*0x3;_0x413e9b<_0x5f4a4c['length'];++_0x413e9b){const _0x14973f=_0x5f4a4c[_0x413e9b],_0x4df957=_0x2392dd['resolve'](_0x14973f);let _0x33ae75=_0x529283[_0x4df957&&_0x4df957['targetPath']||null];if(!_0x33ae75&&_0x4df957){_0x33ae75={'target':_0x4df957,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x5813ce=-0x1061+0x1*0x589+0x2b6*0x4;_0x5813ce<_0x33ae75['target']['components'];++_0x5813ce)_0x33ae75['value']['push'](0x1d3*0x1+0x5e2*0x6+-0x251f);if(_0x529283[_0x4df957['targetPath']]=_0x33ae75,_0x2392dd['animCompon'+'ent']){if(!_0x2392dd['animCompon'+'ent']['targets'][_0x4df957['targetPath']]){let _0x4a7332;_0x4df957['targetPath']['substring'](_0x4df957['targetPath']['length']-(-0x1c8f*0x1+-0x14df+-0x317b*-0x1))==='localRotat'+'ion'?_0x4a7332=bo['TYPE_QUAT']:_0x4a7332=bo['TYPE_VEC3'],_0x2392dd['animCompon'+'ent']['targets'][_0x4df957['targetPath']]=new bo(_0x2392dd['animCompon'+'ent'],_0x4a7332);}_0x2392dd['animCompon'+'ent']['targets'][_0x4df957['targetPath']]['layerCount'+'er']++,_0x2392dd['animCompon'+'ent']['targets'][_0x4df957['targetPath']]['setMask'](_0x2392dd['layerIndex'],-0x198a+0x1*-0x376+0x1*0x1d01);}}_0x33ae75&&(_0x33ae75['curves']++,_0x4afcf5['push'](_0x5b60bf['_results'][_0x15c323]),_0x45bbcb['push'](_0x33ae75));}}this['_clips']['push'](_0xac1676),this['_inputs']['push'](_0x4afcf5),this['_outputs']['push'](_0x45bbcb);}['removeClip'](_0x1541d2){const _0x2363b3=this['_targets'],_0x34bceb=this['_binder'],_0x46d571=this['_clips'],_0x494605=_0x46d571[_0x1541d2]['track']['curves'];for(let _0x79b9d0=-0x225d+0x15d*0x10+0x7*0x1cb;_0x79b9d0<_0x494605['length'];++_0x79b9d0){const _0x1fb244=_0x494605[_0x79b9d0]['paths'];for(let _0xef1db5=-0x18af+0x377*-0x5+0x2a02*0x1;_0xef1db5<_0x1fb244['length'];++_0xef1db5){const _0x2d075a=_0x1fb244[_0xef1db5],_0x3a62b0=this['_binder']['resolve'](_0x2d075a);_0x3a62b0&&(_0x3a62b0['curves']--,_0x3a62b0['curves']===0x11db*0x1+0x1*-0x25b6+-0xdd*-0x17&&(_0x34bceb['unresolve'](_0x2d075a),delete _0x2363b3[_0x3a62b0['targetPath']],_0x34bceb['animCompon'+'ent']&&_0x34bceb['animCompon'+'ent']['targets'][_0x3a62b0['targetPath']]['layerCount'+'er']--));}}_0x46d571['splice'](_0x1541d2,0x1e6d+0xe7*-0x16+-0x1c3*0x6),this['_inputs']['splice'](_0x1541d2,0x755+0x11ee+-0x1942),this['_outputs']['splice'](_0x1541d2,-0x30*-0x59+-0x204f+0xfa0);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x131e+-0x2*0x1120+0x8e5*0x6;)this['removeClip'](-0x95*-0x38+0x1*0x293+-0x232b);}['updateClip'+'Track'](_0xa330b0,_0x35455c){this['_clips']['forEach'](_0x37874b=>{_0x37874b['name']['includes'](_0xa330b0)&&(_0x37874b['track']=_0x35455c);}),this['rebind']();}['findClip'](_0x3fe38f){const _0x4acfab=this['_clips'];for(let _0x182413=0x18*0x79+-0x34*-0x8+-0xcf8;_0x182413<_0x4acfab['length'];++_0x182413){const _0x45dc63=_0x4acfab[_0x182413];if(_0x45dc63['name']===_0x3fe38f)return _0x45dc63;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x5cc121=[...this['clips']];this['removeClip'+'s'](),_0x5cc121['forEach'](_0xce464e=>{this['addClip'](_0xce464e);});}['assignMask'](_0x440f88){return this['_binder']['assignMask'](_0x440f88);}['update'](_0xc3c4d3,_0x26cec1=!(0x1d6f+0x143c+-0x31ab)){const _0x3e63b1=this['_clips'],_0x3fc441=_0x3e63b1['map']((_0x142d85,_0x49aa12)=>_0x49aa12);Tt['stableSort'](_0x3fc441,(_0x70e724,_0x160044)=>_0x3e63b1[_0x70e724]['blendOrder']<_0x3e63b1[_0x160044]['blendOrder']);for(let _0xcd8b24=-0x10a0+-0x7*-0x575+0x107*-0x15;_0xcd8b24<_0x3fc441['length'];++_0xcd8b24){const _0x13db8e=_0x3fc441[_0xcd8b24],_0x1ff5b7=_0x3e63b1[_0x13db8e],_0x3d1b31=this['_inputs'][_0x13db8e],_0x21a735=this['_outputs'][_0x13db8e],_0x36c8ab=_0x1ff5b7['blendWeigh'+'t'];if(_0x36c8ab>-0x2*-0x655+-0x191b+-0xc71*-0x1&&_0x1ff5b7['_update'](_0xc3c4d3),!_0x26cec1)break;let _0x17fd74,_0x189926,_0x10f8ea;if(_0x36c8ab>=0x1807+0x1f4c+-0x3752){for(let _0xf9068a=0x169b+0x1bff*0x1+-0x1*0x329a;_0xf9068a<_0x3d1b31['length'];++_0xf9068a)_0x17fd74=_0x3d1b31[_0xf9068a],_0x189926=_0x21a735[_0xf9068a],_0x10f8ea=_0x189926['value'],Tt['set'](_0x10f8ea,_0x17fd74,_0x189926['target']['type']),_0x189926['blendCount'+'er']++;}else{if(_0x36c8ab>-0xf7b+0xf*0x6d+0x918){for(let _0x1803f4=0x1*0x1493+0x1c*0x160+0x1*-0x3b13;_0x1803f4<_0x3d1b31['length'];++_0x1803f4)_0x17fd74=_0x3d1b31[_0x1803f4],_0x189926=_0x21a735[_0x1803f4],_0x10f8ea=_0x189926['value'],_0x189926['blendCount'+'er']===-0x51c+-0x840+0xd5c?Tt['set'](_0x10f8ea,_0x17fd74,_0x189926['target']['type']):Tt['blend'](_0x10f8ea,_0x17fd74,_0x36c8ab,_0x189926['target']['type']),_0x189926['blendCount'+'er']++;}}}const _0x42c1ec=this['_targets'],_0x3f3d3d=this['_binder'];for(const _0x3529ce in _0x42c1ec)if(_0x42c1ec['hasOwnProp'+'erty'](_0x3529ce)){const _0x197f68=_0x42c1ec[_0x3529ce];if(_0x3f3d3d['animCompon'+'ent']&&_0x197f68['target']['isTransfor'+'m']){const _0x5b724e=_0x3f3d3d['animCompon'+'ent']['targets'][_0x3529ce];_0x5b724e['counter']===_0x5b724e['layerCount'+'er']&&(_0x5b724e['counter']=-0x16*-0x98+0xee7+0x1bf7*-0x1),_0x5b724e['path']||(_0x5b724e['path']=_0x3529ce,_0x5b724e['baseValue']=_0x197f68['target']['get'](),_0x5b724e['setter']=_0x197f68['target']['set']),_0x5b724e['updateValu'+'e'](_0x3f3d3d['layerIndex'],_0x197f68['value']),_0x5b724e['counter']++;}else _0x197f68['target']['set'](_0x197f68['value']);_0x197f68['blendCount'+'er']=-0x1*0x150b+-0x67*0x5e+0x3*0x139f;}this['_binder']['update'](_0xc3c4d3);}}class Y0{constructor(_0x4057f9){this['_events']=[..._0x4057f9],this['_events']['sort']((_0x768d30,_0x35fbea)=>_0x768d30['time']-_0x35fbea['time']);}get['events'](){return this['_events'];}}const lc=class lc{constructor(_0x3bb398,_0xe0af7c,_0x17edc2,_0x31e0b5,_0x163afc,_0x196a98=new Y0([])){this['_name']=_0x3bb398,this['_duration']=_0xe0af7c,this['_inputs']=_0x17edc2,this['_outputs']=_0x31e0b5,this['_curves']=_0x163afc,this['_animEvent'+'s']=_0x196a98;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x4df88c){this['_animEvent'+'s']=_0x4df88c;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x15e637,_0x385add){_0x385add['_time']=_0x15e637;const _0x8709bb=this['_inputs'],_0x4c3519=this['_outputs'],_0x3cf545=this['_curves'],_0x23b97e=_0x385add['_cache'],_0x34fbe2=_0x385add['_results'];for(let _0x2a8b7a=-0x84*-0x6+-0x11cf+-0xeb7*-0x1;_0x2a8b7a<_0x8709bb['length'];++_0x2a8b7a)_0x23b97e[_0x2a8b7a]['update'](_0x15e637,_0x8709bb[_0x2a8b7a]['_data']);for(let _0x3df926=0x48b*-0x4+0x16*0x95+0xe5*0x6;_0x3df926<_0x3cf545['length'];++_0x3df926){const _0x46a5c1=_0x3cf545[_0x3df926],_0x2fe05e=_0x4c3519[_0x46a5c1['_output']],_0x229406=_0x34fbe2[_0x3df926];_0x23b97e[_0x46a5c1['_input']]['eval'](_0x229406,_0x46a5c1['_interpola'+'tion'],_0x2fe05e);}}};c(lc,'EMPTY',Object['freeze'](new lc('empty',Number['MAX_VALUE'],[],[],[])));let Ri=lc;class qr{static['joinPath'](_0x2acccd,_0x98bbd7){_0x98bbd7=_0x98bbd7||'.';const _0x13cc29=function(_0x3a406f){return _0x3a406f['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x98bbd7,'g'),'\x5c'+_0x98bbd7);};return _0x2acccd['map'](_0x13cc29)['join'](_0x98bbd7);}static['splitPath'](_0x43c240,_0xa6cc09){_0xa6cc09=_0xa6cc09||'.';const _0x9119a0=[];let _0x3a026c='',_0x1fd89d=-0x317*0x1+0x1ca+0x14d;for(;_0x1fd89d<_0x43c240['length'];){let _0x4cdea4=_0x43c240[_0x1fd89d++];_0x4cdea4==='\x5c'&&_0x1fd89d<_0x43c240['length']?(_0x4cdea4=_0x43c240[_0x1fd89d++],_0x4cdea4==='\x5c'||_0x4cdea4===_0xa6cc09?_0x3a026c+=_0x4cdea4:_0x3a026c+='\x5c'+_0x4cdea4):_0x4cdea4===_0xa6cc09?(_0x9119a0['push'](_0x3a026c),_0x3a026c=''):_0x3a026c+=_0x4cdea4;}return _0x3a026c['length']>0x213*-0x1+0xf01+-0xcee&&_0x9119a0['push'](_0x3a026c),_0x9119a0;}static['encode'](_0x2e1c13,_0x2c4710,_0x46b051){return(Array['isArray'](_0x2e1c13)?_0x2e1c13['join']('/'):_0x2e1c13)+'/'+_0x2c4710+'/'+(Array['isArray'](_0x46b051)?_0x46b051['join']('/'):_0x46b051);}['resolve'](_0x2bd255){return null;}['unresolve'](_0x359491){}['update'](_0xd87ba6){}}class Zu{constructor(_0x209907,_0x2c6380,_0x19ff91,_0x458526){_0x209907['set']?(this['_set']=_0x209907['set'],this['_get']=_0x209907['get']):this['_set']=_0x209907,this['_type']=_0x2c6380,this['_component'+'s']=_0x19ff91,this['_targetPat'+'h']=_0x458526,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x19f6+0x2528+-0xb25))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x2014*0x1+-0x2*-0x1b3+0x5bf*0x5))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x533*0x6+-0xc*-0xee+-0x2a50))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Ji{constructor(_0x5b52ba){c(this,'_isPathInM'+'ask',(_0x13590e,_0x3b7739)=>{const _0x447331=this['_mask'][_0x13590e];if(_0x447331){if(_0x447331['children']||_0x3b7739&&_0x447331['value']!==!(-0x7*0x47+-0x31*-0x72+-0x13e0))return!(-0x1d0e+0x1c73+0x9b);}else return!(-0x5*-0x4a2+-0x2e3*0x1+-0x1446);return!(-0x23*-0x83+-0x1c2*0x16+0x4*0x531);});if(this['graph']=_0x5b52ba,!_0x5b52ba)return;this['_mask']=null;const _0x11ae0d={},_0x5be9d4=function(_0x509fcc){_0x11ae0d[_0x509fcc['name']]=_0x509fcc;for(let _0x76327a=0x1108+0x1a29+-0x2b31;_0x76327a<_0x509fcc['children']['length'];++_0x76327a)_0x5be9d4(_0x509fcc['children'][_0x76327a]);};_0x5be9d4(_0x5b52ba),this['nodes']=_0x11ae0d,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x37e8a0=function(_0x3f0f99){let _0x35ba43=_0x3f0f99;for(;_0x35ba43&&!(_0x35ba43 instanceof $e);)_0x35ba43=_0x35ba43['parent'];let _0x4e59dd;return _0x35ba43&&(_0x35ba43['render']?_0x4e59dd=_0x35ba43['render']['meshInstan'+'ces']:_0x35ba43['model']&&(_0x4e59dd=_0x35ba43['model']['meshInstan'+'ces'])),_0x4e59dd;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x112086){const _0x5d45b5=_0x112086['localPosit'+'ion'],_0x501327=function(_0x236853){_0x5d45b5['set'](..._0x236853);};return Ji['createAnim'+'Target'](_0x501327,'vector',-0x29a+-0xfe5*-0x1+-0x22*0x64,_0x112086,'localPosit'+'ion');},'localRotation':function(_0x114277){const _0x4a87b8=_0x114277['localRotat'+'ion'],_0x407435=function(_0x35b13e){_0x4a87b8['set'](..._0x35b13e);};return Ji['createAnim'+'Target'](_0x407435,'quaternion',-0x1e63+-0x6a9+0x2510,_0x114277,'localRotat'+'ion');},'localScale':function(_0x46cd05){const _0x3ccaa8=_0x46cd05['localScale'],_0x4a9bb3=function(_0x4efcf1){_0x3ccaa8['set'](..._0x4efcf1);};return Ji['createAnim'+'Target'](_0x4a9bb3,'vector',0xe7d*0x1+0xbd3+-0x1a4d,_0x46cd05,'localScale');},'weight':function(_0x287237,_0xacdd8){_0xacdd8['indexOf']('name.')===-0xee1*0x2+0x1*-0x1637+0x33f9?_0xacdd8=_0xacdd8['replace']('name.',''):_0xacdd8=Number(_0xacdd8);const _0x1d4807=_0x37e8a0(_0x287237);let _0x2b0231;if(_0x1d4807){for(let _0x228af3=0x23c5+0x1420+-0x29*0x15d;_0x228af3<_0x1d4807['length'];++_0x228af3)if(_0x1d4807[_0x228af3]['node']['name']===_0x287237['name']&&_0x1d4807[_0x228af3]['morphInsta'+'nce']){const _0x263130=_0x1d4807[_0x228af3]['morphInsta'+'nce'],_0x3056bf=_0x1a94a4=>{_0x263130['setWeight'](_0xacdd8,_0x1a94a4[-0x11a7+0x2294+-0x10ed]);};_0x2b0231||(_0x2b0231=[]),_0x2b0231['push'](_0x3056bf);}}if(_0x2b0231){const _0x894122=_0xa74777=>{for(let _0x52bae4=-0x33*-0x67+0x1*0x1957+0x496*-0xa;_0x52bae4<_0x2b0231['length'];++_0x52bae4)_0x2b0231[_0x52bae4](_0xa74777);};return Ji['createAnim'+'Target'](_0x894122,'number',-0x3e2+0x12d1*0x1+0x31*-0x4e,_0x287237,'weight.'+_0xacdd8);}return null;},'materialTexture':(_0x1cd2af,_0x44bd92)=>{const _0x27c7fb=_0x37e8a0(_0x1cd2af);if(_0x27c7fb){let _0x5ab5ee;for(let _0x489513=0xb00+0x228f*0x1+-0x2d8f;_0x489513<_0x27c7fb['length'];++_0x489513)if(_0x27c7fb[_0x489513]['node']['name']===_0x1cd2af['name']){_0x5ab5ee=_0x27c7fb[_0x489513];break;}if(_0x5ab5ee){const _0x13721c=_0x5f2128=>{const _0x116240=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x5f2128[-0x1494+0x8*0x46c+0xecc*-0x1]);_0x116240&&_0x116240['resource']&&_0x116240['type']==='texture'&&(_0x5ab5ee['material'][_0x44bd92]=_0x116240['resource'],_0x5ab5ee['material']['update']());};return Ji['createAnim'+'Target'](_0x13721c,'vector',0xc88+0x11*0x1d8+0x3fd*-0xb,_0x1cd2af,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x200cc6){if(!this['_mask'])return!(-0x1f3c+-0x192b*-0x1+-0x611*-0x1);const _0x943df0=[_0x200cc6['entityPath'][0xae3+-0x189f+0xdbc],this['graph']['name']];for(let _0x572b84=-0x8b*0x17+-0x1*0x1523+0x10d0*0x2;_0x572b84<_0x943df0['length'];++_0x572b84){let _0x5b1fee=_0x943df0[_0x572b84];if(this['_isPathInM'+'ask'](_0x5b1fee,_0x200cc6['entityPath']['length']===-0x23bf+-0x92*0x27+-0xd*-0x476))return!(-0x2219+0xb*-0x37f+0x488e);for(let _0x14f622=-0xacd+0xe12+-0x26*0x16;_0x14f622<_0x200cc6['entityPath']['length'];_0x14f622++)if(_0x5b1fee+='/'+_0x200cc6['entityPath'][_0x14f622],this['_isPathInM'+'ask'](_0x5b1fee,_0x14f622===_0x200cc6['entityPath']['length']-(0x191d*-0x1+0x439*0x3+0xc73)))return!(0x15fa+-0x2*0xa33+-0x194);}return!(0x629+0x2*0x1a+-0x65c);}['findNode'](_0x53acca){if(!this['_isPathAct'+'ive'](_0x53acca))return null;let _0x1d781c;if(this['graph']&&(_0x1d781c=this['graph']['findByPath'](_0x53acca['entityPath']),_0x1d781c||(_0x1d781c=this['graph']['findByPath'](_0x53acca['entityPath']['slice'](0x1217+0x242f+-0xb*0x4ef)))),!_0x1d781c){_0x1d781c=this['nodes'][_0x53acca['entityPath'][_0x53acca['entityPath']['length']-(0x145a+-0x1*0x8db+-0xb7e)]||''];const _0x290da2=qr['encode'](_0x53acca['entityPath'][_0x53acca['entityPath']['length']-(0x1050+-0x2016+0xfc7)]||'','graph',_0x53acca['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x290da2]===0x258d*0x1+0x1237+-0x37c3&&v['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x290da2+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x290da2])?this['visitedFal'+'lbackGraph'+'Paths'][_0x290da2]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x290da2]=0x1ec0+0x42b*0x4+0xbdb*-0x4;}return _0x1d781c;}static['createAnim'+'Target'](_0x5650c9,_0x7c4536,_0x9b9a98,_0x42e61c,_0x1390bf,_0x356ff1){const _0x3363d8=qr['encode'](_0x42e61c['path'],_0x356ff1||'entity',_0x1390bf);return new Zu(_0x5650c9,_0x7c4536,_0x9b9a98,_0x3363d8);}['resolve'](_0x265298){const _0x297ab2=qr['encode'](_0x265298['entityPath'],_0x265298['component'],_0x265298['propertyPa'+'th']);let _0x501585=this['targetCach'+'e'][_0x297ab2];if(_0x501585)return _0x501585;const _0x4313ff=this['findNode'](_0x265298);if(!_0x4313ff)return null;const _0x50f8e3=this['handlers'][_0x265298['propertyPa'+'th']];return!_0x50f8e3||(_0x501585=_0x50f8e3(_0x4313ff),!_0x501585)?null:(this['targetCach'+'e'][_0x297ab2]=_0x501585,this['nodeCounts'][_0x4313ff['path']]?this['nodeCounts'][_0x4313ff['path']]++:(this['activeNode'+'s']['push'](_0x4313ff),this['nodeCounts'][_0x4313ff['path']]=-0x1798+-0x1e27+0x35c0),_0x501585);}['unresolve'](_0x3dfa83){if(_0x3dfa83['component']!=='graph')return;const _0x4a45f1=this['nodes'][_0x3dfa83['entityPath'][_0x3dfa83['entityPath']['length']-(-0x2*-0x17b+-0x2*-0x4ab+-0xc4b)]||''];if(this['nodeCounts'][_0x4a45f1['path']]--,this['nodeCounts'][_0x4a45f1['path']]===0x19d*0x13+0x1b51+-0x39f8){const _0x3e10c4=this['activeNode'+'s'],_0x1b7f85=_0x3e10c4['indexOf'](_0x4a45f1['node']),_0x1188d4=_0x3e10c4['length'];_0x1b7f85<_0x1188d4-(0x1bed+0x216f+-0x3d5b)&&(_0x3e10c4[_0x1b7f85]=_0x3e10c4[_0x1188d4-(-0x47*-0xd+0x629+-0x9c3)]),_0x3e10c4['pop']();}}['update'](_0x375689){const _0x4e51f9=this['activeNode'+'s'];for(let _0x524123=0x12db+-0x26a4+0x13c9;_0x524123<_0x4e51f9['length'];++_0x524123)_0x4e51f9[_0x524123]['_dirtifyLo'+'cal']();}['assignMask'](_0x1b8d56){return _0x1b8d56!==this['_mask']?(this['_mask']=_0x1b8d56,!(-0xa7*0x2f+0x1e0b+0x9e)):!(-0xea*0x4+0x221+0x8*0x31);}}class K0 extends ue{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(-0x266*-0x2+-0x1*0xc67+0x79b)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',0x26bd*-0x1+0x173a+0xf83),c(this,'blending',!(0x2267*0x1+0x16c8+0x1a*-0x233)),c(this,'blendSpeed',0x2*0x9d0+0x393+0x1*-0x1733),c(this,'activate',!(0x1561*-0x1+0x35b+0x1206)),c(this,'speed',-0x152c+-0x258d+0x3aba);}set['animations'](_0x642553){this['_animation'+'s']=_0x642553,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x3b33e0){const _0x2fdc77=this['_assets'];if(_0x2fdc77&&_0x2fdc77['length']){for(let _0x4624ba=0xce3*-0x1+-0x29c+0xf7f;_0x4624ba<_0x2fdc77['length'];_0x4624ba++)if(_0x2fdc77[_0x4624ba]){const _0x49cfce=this['system']['app']['assets']['get'](_0x2fdc77[_0x4624ba]);if(_0x49cfce){_0x49cfce['off']('change',this['onAssetCha'+'nged'],this),_0x49cfce['off']('remove',this['onAssetRem'+'oved'],this);const _0x2a3825=this['animations'+'Index'][_0x49cfce['id']];this['currAnim']===_0x2a3825&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x2a3825],delete this['animations'+'Index'][_0x49cfce['id']];}}}this['_assets']=_0x3b33e0;const _0x404eee=_0x3b33e0['map'](_0x4e7c15=>_0x4e7c15 instanceof le?_0x4e7c15['id']:_0x4e7c15);this['loadAnimat'+'ionAssets'](_0x404eee);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x467650){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x467650,this['skeleton']['addTime'](-0xc24+-0x19da+-0x6*-0x655),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x2bcccc=this['animEvalua'+'tor']['clips'];for(let _0x5b38ac=0x1941+-0x1f8f*0x1+-0x3*-0x21a;_0x5b38ac<_0x2bcccc['length'];++_0x5b38ac)_0x2bcccc[_0x5b38ac]['time']=_0x467650;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x1dcce1=this['animEvalua'+'tor']['clips'];if(_0x1dcce1['length']>-0x1646*-0x1+0x4e*0x1+-0x1694)return _0x1dcce1[_0x1dcce1['length']-(-0x68c*0x2+0x1e02+0x25*-0x75)]['time'];}return 0x162c+-0x209c+-0x2*-0x538;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(v['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x2521+-0xe*-0x66+0x1f8d);}set['loop'](_0x213ab3){if(this['_loop']=_0x213ab3,this['skeleton']&&(this['skeleton']['looping']=_0x213ab3),this['animEvalua'+'tor']){for(let _0x41ecaa=-0x137d*0x1+-0x160f+0x298c;_0x41ecaa<this['animEvalua'+'tor']['clips']['length'];++_0x41ecaa)this['animEvalua'+'tor']['clips'][_0x41ecaa]['loop']=_0x213ab3;}}get['loop'](){return this['_loop'];}['play'](_0x15a7ac,_0x201918=0x1402+0x23b3+-0x449*0xd){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x15a7ac]){v['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x15a7ac+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x15a7ac,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x41d3db=this['animations'][this['prevAnim']],_0x284bad=this['animations'][this['currAnim']];if(this['blending']=_0x201918>-0x529*-0x1+0x2*-0x126e+0x1fb3&&!!this['prevAnim'],this['blending']&&(this['blend']=0x1f0*0x10+0xc*0x93+-0x25e4,this['blendSpeed']=(-0x5e*0x2f+-0x1*-0x7f9+-0x2*-0x4a5)/_0x201918),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x41d3db,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x284bad):this['skeleton']['animation']=_0x284bad),this['animEvalua'+'tor']){const _0x5d2a9b=this['animEvalua'+'tor'];if(this['blending']){for(;_0x5d2a9b['clips']['length']>0x1498*0x1+-0x1*0x1a71+0x5da;)_0x5d2a9b['removeClip'](0x27*-0x3b+-0x58*-0x1+0x8a5);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x5cd471=new Xh(this['animations'][this['currAnim']],0x2174+-0x11fd+-0xf77,-0x1947+-0x3*-0x765+-0x3d*-0xd,!(0x1195+-0x1*0x1a17+0x12*0x79),this['loop']);_0x5cd471['name']=this['currAnim'],_0x5cd471['blendWeigh'+'t']=this['blending']?-0x1529*0x1+0x1795*-0x1+0x2cbe:0xa*0x204+-0xb5a*0x1+-0x2ef*0x3,_0x5cd471['reset'](),this['animEvalua'+'tor']['addClip'](_0x5cd471);}}this['playing']=!(0x45c*-0x7+0x234c+-0x4c8);}}['getAnimati'+'on'](_0x50c9b0){return this['animations'][_0x50c9b0];}['setModel'](_0x430296){_0x430296!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x430296,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0xa2e03b=this['entity']['model'];if(_0xa2e03b){const _0x599615=_0xa2e03b['model'];_0x599615&&_0x599615!==this['model']&&this['setModel'](_0x599615);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x46538f=Object['keys'](this['_animation'+'s']);_0x46538f['length']>-0x8b*0x2a+-0xb64+0x2232&&this['play'](_0x46538f[-0x1*-0x3a+0xd6+-0x110]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x3465af=this['model'],_0x2f3cb2=this['animations'];let _0x405a6d=!(-0x1231+-0x1e2*-0xd+-0x648),_0x5bcf66=!(-0x3a9*0x6+0x1f0f+-0x918);for(const _0x1fa33d in _0x2f3cb2)_0x2f3cb2['hasOwnProp'+'erty'](_0x1fa33d)&&(_0x2f3cb2[_0x1fa33d]['constructo'+'r']===Ri?_0x5bcf66=!(-0x749+-0x12b*-0x1f+-0x1cec):_0x405a6d=!(0x1*-0x1fca+-0xfe7+0x2fb1));const _0xf43318=_0x3465af['getGraph']();_0x405a6d?(this['fromSkel']=new $d(_0xf43318),this['toSkel']=new $d(_0xf43318),this['skeleton']=new $d(_0xf43318),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0xf43318)):_0x5bcf66&&(this['animEvalua'+'tor']=new j0(new Ji(this['entity'])));}['loadAnimat'+'ionAssets'](_0xc3ca93){if(!_0xc3ca93||!_0xc3ca93['length'])return;const _0x5245b7=this['system']['app']['assets'],_0x5ce8c9=_0x19cbd1=>{if(_0x19cbd1['resources']['length']>-0x198c+-0x2*0xd+0x88d*0x3){for(let _0x51282c=0x1a12+-0x1368+0x6aa*-0x1;_0x51282c<_0x19cbd1['resources']['length'];_0x51282c++)this['animations'][_0x19cbd1['resources'][_0x51282c]['name']]=_0x19cbd1['resources'][_0x51282c],this['animations'+'Index'][_0x19cbd1['id']]=_0x19cbd1['resources'][_0x51282c]['name'];}else this['animations'][_0x19cbd1['name']]=_0x19cbd1['resource'],this['animations'+'Index'][_0x19cbd1['id']]=_0x19cbd1['name'];this['animations']=this['animations'];},_0x123e97=_0x4e9c54=>{_0x4e9c54['off']('change',this['onAssetCha'+'nged'],this),_0x4e9c54['on']('change',this['onAssetCha'+'nged'],this),_0x4e9c54['off']('remove',this['onAssetRem'+'oved'],this),_0x4e9c54['on']('remove',this['onAssetRem'+'oved'],this),_0x4e9c54['resource']?_0x5ce8c9(_0x4e9c54):(_0x4e9c54['once']('load',_0x5ce8c9,this),this['enabled']&&this['entity']['enabled']&&_0x5245b7['load'](_0x4e9c54));};for(let _0x5b2022=0xdff+0x8fa+-0x16f9,_0x756cd6=_0xc3ca93['length'];_0x5b2022<_0x756cd6;_0x5b2022++){const _0x19b68a=_0x5245b7['get'](_0xc3ca93[_0x5b2022]);_0x19b68a?_0x123e97(_0x19b68a):_0x5245b7['on']('add:'+_0xc3ca93[_0x5b2022],_0x123e97);}}['onAssetCha'+'nged'](_0x5b3e87,_0x407ee3,_0xd35e12,_0x48eb22){if(_0x407ee3==='resource'||_0x407ee3==='resources'){if(_0x407ee3==='resources'&&_0xd35e12&&_0xd35e12['length']===0x1*0x254+-0x1aa+-0xaa&&(_0xd35e12=null),_0xd35e12){let _0x12d52e=!(0x371*0x1+0x24*-0x106+0x2168);if(_0xd35e12['length']>-0x1511+-0x3c6*-0x9+-0x21*0x64){if(_0x48eb22&&_0x48eb22['length']>-0x5*0x3fd+-0xb57*0x1+0x1f49){for(let _0x4e60db=0x5*0x656+0x1a93*0x1+-0x3a41;_0x4e60db<_0x48eb22['length'];_0x4e60db++)delete this['animations'][_0x48eb22[_0x4e60db]['name']];}else delete this['animations'][_0x5b3e87['name']];_0x12d52e=!(-0x3*-0x6d+0x1a1*0x9+-0xfef);for(let _0x465172=-0xcb*0x4+-0x25*-0x92+-0x3*0x5fa;_0x465172<_0xd35e12['length'];_0x465172++)this['animations'][_0xd35e12[_0x465172]['name']]=_0xd35e12[_0x465172],!_0x12d52e&&this['currAnim']===_0xd35e12[_0x465172]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x12d52e=!(0x2*-0x1135+0x3*0xbff+-0x193),this['play'](_0xd35e12[_0x465172]['name']));_0x12d52e||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x48eb22&&_0x48eb22['length']>-0x21cb+0x9a+0x25f*0xe){for(let _0x2eae47=0xcdb*-0x1+-0x5*0x342+0x1d25;_0x2eae47<_0x48eb22['length'];_0x2eae47++)delete this['animations'][_0x48eb22[_0x2eae47]['name']];}this['animations'][_0x5b3e87['name']]=_0xd35e12[-0x1350+-0x26ff+0x3a4f]||_0xd35e12,_0x12d52e=!(-0x935*-0x2+0x2ab+0x47*-0x4c),this['currAnim']===_0x5b3e87['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x12d52e=!(-0x5*0x157+-0x16eb+0x1be*0x11),this['play'](_0x5b3e87['name'])),_0x12d52e||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x5b3e87['id']]=_0x5b3e87['name'];}else{if(_0x48eb22['length']>0x1*-0x260b+-0x29*-0xe5+0x75*0x3){for(let _0x5a5963=0x1b1*0x1+0x1d4+-0x1*0x385;_0x5a5963<_0x48eb22['length'];_0x5a5963++)delete this['animations'][_0x48eb22[_0x5a5963]['name']],this['currAnim']===_0x48eb22[_0x5a5963]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x5b3e87['name']],this['currAnim']===_0x5b3e87['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x5b3e87['id']];}}}['onAssetRem'+'oved'](_0x2ff1b5){if(_0x2ff1b5['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x2ff1b5['resources']['length']>-0x1b1*0x2+-0x11*0x1a3+0xaa*0x2f){for(let _0x296e53=-0x16ff+0xdca+0x935;_0x296e53<_0x2ff1b5['resources']['length'];_0x296e53++)delete this['animations'][_0x2ff1b5['resources'][_0x296e53]['name']],this['currAnim']===_0x2ff1b5['resources'][_0x296e53]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x2ff1b5['name']],this['currAnim']===_0x2ff1b5['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x2ff1b5['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(0x20a7*-0x1+-0x189b+0x3943),this['skeleton']&&(this['skeleton']['currentTim'+'e']=-0x2ef+-0x1c19+0x1f08,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x8ad614=0x741+0x13f*0x10+-0x1b31;_0x8ad614<this['animEvalua'+'tor']['clips']['length'];++_0x8ad614)this['animEvalua'+'tor']['clips'][_0x8ad614]['stop']();this['animEvalua'+'tor']['update'](0x7*0x507+-0x43d*-0x7+0x206e*-0x2),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x5f17e1=this['assets'],_0x5abf71=this['system']['app']['assets'];if(_0x5f17e1)for(let _0x121d83=0x1679+0x1fcf+-0x3648,_0x230bc3=_0x5f17e1['length'];_0x121d83<_0x230bc3;_0x121d83++){let _0x57097e=_0x5f17e1[_0x121d83];_0x57097e instanceof le||(_0x57097e=_0x5abf71['get'](_0x57097e)),_0x57097e&&!_0x57097e['resource']&&_0x5abf71['load'](_0x57097e);}if(this['activate']&&!this['currAnim']){const _0x15cdd4=Object['keys'](this['animations']);_0x15cdd4['length']>0x1*-0x130d+-0x1*-0x10df+0x5d*0x6&&this['play'](_0x15cdd4[-0x330+0x296+-0x4d*-0x2]);}}['onBeforeRe'+'move'](){for(let _0x15fbf2=-0x1516+0x138c+-0x1*-0x18a;_0x15fbf2<this['assets']['length'];_0x15fbf2++){let _0x25a60e=this['assets'][_0x15fbf2];typeof _0x25a60e=='number'&&(_0x25a60e=this['system']['app']['assets']['get'](_0x25a60e)),_0x25a60e&&(_0x25a60e['off']('change',this['onAssetCha'+'nged'],this),_0x25a60e['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x221c87){if(this['blending']&&(this['blend']+=_0x221c87*this['blendSpeed'],this['blend']>=-0x9d*-0xf+0x17ca+-0x20fc&&(this['blend']=-0x1d49+0x2*0x2ef+0x176c)),this['playing']){const _0x59f7fd=this['skeleton'];if(_0x59f7fd!==null&&this['model']!==null){if(this['blending'])_0x59f7fd['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x415b26=_0x221c87*this['speed'];_0x59f7fd['addTime'](_0x415b26),this['speed']>0xce8*-0x3+-0x244c+0x4b04&&_0x59f7fd['_time']===_0x59f7fd['animation']['duration']&&!this['loop']?this['playing']=!(-0x2*0xe19+0x35*-0x11+0x8*0x3f7):this['speed']<-0x427*-0x5+-0x170f*0x1+-0x3*-0xc4&&_0x59f7fd['_time']===0xd20+-0x83f*0x3+0xb9d&&!this['loop']&&(this['playing']=!(0x6cc+0xeb5*-0x1+0x1*0x7ea));}this['blending']&&this['blend']===-0x91e+0x11*0x194+0x5e7*-0x3&&(_0x59f7fd['animation']=this['toSkel']['animation']),_0x59f7fd['updateGrap'+'h']();}}const _0x32a179=this['animEvalua'+'tor'];if(_0x32a179){for(let _0x485108=0x228f+0x26c4+0x1*-0x4953;_0x485108<_0x32a179['clips']['length'];++_0x485108){const _0x4e6624=_0x32a179['clips'][_0x485108];_0x4e6624['speed']=this['speed'],this['playing']?_0x4e6624['resume']():_0x4e6624['pause']();}this['blending']&&_0x32a179['clips']['length']>-0x52*0x43+-0x1a*0x41+-0x5*-0x59d&&(_0x32a179['clips'][-0x166*0x17+0x58b*0x5+0x474]['blendWeigh'+'t']=this['blend']),_0x32a179['update'](_0x221c87);}this['blending']&&this['blend']===0x4*0x5a6+-0x1490+-0x207&&(this['blending']=!(0x1b44*-0x1+-0x50*0x2f+-0x1d3*-0x17));}}class zP{constructor(){this['enabled']=!(0x5*-0x4ff+-0x6f*0x58+0x3f23);}}const Qu=['enabled'];class UP extends Xe{constructor(_0x3e4e8e){super(_0x3e4e8e),this['id']='animation',this['ComponentT'+'ype']=K0,this['DataType']=zP,this['schema']=Qu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x259f91,_0x2cd95d,_0x4c58a7){_0x4c58a7=['activate','enabled','loop','speed','assets'];for(const _0x5b611b of _0x4c58a7)_0x2cd95d['hasOwnProp'+'erty'](_0x5b611b)&&(_0x259f91[_0x5b611b]=_0x2cd95d[_0x5b611b]);super['initialize'+'ComponentD'+'ata'](_0x259f91,_0x2cd95d,Qu);}['cloneCompo'+'nent'](_0x282394,_0xed968d){this['addCompone'+'nt'](_0xed968d,{}),_0xed968d['animation']['assets']=_0x282394['animation']['assets']['slice'](),_0xed968d['animation']['speed']=_0x282394['animation']['speed'],_0xed968d['animation']['loop']=_0x282394['animation']['loop'],_0xed968d['animation']['activate']=_0x282394['animation']['activate'],_0xed968d['animation']['enabled']=_0x282394['animation']['enabled'];const _0x56a126={},_0x5a137b=_0x282394['animation']['animations'];for(const _0x299a27 in _0x5a137b)_0x5a137b['hasOwnProp'+'erty'](_0x299a27)&&(_0x56a126[_0x299a27]=_0x5a137b[_0x299a27]);_0xed968d['animation']['animations']=_0x56a126;const _0x4b7a98={},_0x4ede69=_0x282394['animation']['animations'+'Index'];for(const _0xee6bf4 in _0x4ede69)_0x4ede69['hasOwnProp'+'erty'](_0xee6bf4)&&(_0x4b7a98[_0xee6bf4]=_0x4ede69[_0xee6bf4]);return _0xed968d['animation']['animations'+'Index']=_0x4b7a98,_0xed968d['animation'];}['onBeforeRe'+'move'](_0xe5096f,_0xb332f6){_0xb332f6['onBeforeRe'+'move']();}['onUpdate'](_0x12e51e){const _0x30e4b9=this['store'];for(const _0x26cd03 in _0x30e4b9)if(_0x30e4b9['hasOwnProp'+'erty'](_0x26cd03)){const _0x293134=_0x30e4b9[_0x26cd03];_0x293134['data']['enabled']&&_0x293134['entity']['enabled']&&_0x293134['entity']['animation']['update'](_0x12e51e);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](K0['prototype'],Qu);class Uo{constructor(_0x54b631,_0x545a88,_0x122243,_0x4987ec,_0x2aca8e=0x24f3+0x20d7+0x4a7*-0xf){this['_state']=_0x54b631,this['_parent']=_0x545a88,this['_name']=_0x122243,Array['isArray'](_0x4987ec)?(this['_point']=new $(_0x4987ec[-0x1*-0x177b+-0x1*0x16bf+-0x2f*0x4],_0x4987ec[-0x2cf*-0x1+0x3*-0x33d+0x6e9]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x4987ec,this['_pointLeng'+'th']=_0x4987ec),this['_speed']=_0x2aca8e,this['_weightedS'+'peed']=0x1b*0x121+-0x15b6+-0x8c4,this['_weight']=0x211b+-0x1dc5+-0x355,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x484784){this['_weight']=_0x484784;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x2841d2=this['_state']['totalWeigh'+'t'];return _0x2841d2===-0x2a3+0x237*-0x6+0x54f*0x3?0xef*0x7+-0xf3b+0x8b2:this['weight']/_0x2841d2;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x3d1adc){this['_weightedS'+'peed']=_0x3d1adc;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x88f80a){this['_animTrack']=_0x88f80a;}get['animTrack'](){return this['_animTrack'];}}class Ba extends Uo{constructor(_0xb0e6f2,_0x31d76e,_0x42bcef,_0x33321d,_0x3dde97,_0x130efc,_0x3c1ed4,_0x1dc24f,_0x3d737b){super(_0xb0e6f2,_0x31d76e,_0x42bcef,_0x33321d),this['_parameter'+'s']=_0x3dde97,this['_parameter'+'Values']=new Array(_0x3dde97['length']),this['_children']=[],this['_findParam'+'eter']=_0x3d737b,this['_syncAnima'+'tions']=_0x3c1ed4!==!(-0x3e1+0xa46+0x4*-0x199),this['_pointCach'+'e']={};for(let _0x112cdb=-0x4b1*-0x1+-0x140+-0x371;_0x112cdb<_0x130efc['length'];_0x112cdb++){const _0x4fe63d=_0x130efc[_0x112cdb];_0x4fe63d['children']?this['_children']['push'](_0x1dc24f(_0x4fe63d['type'],_0xb0e6f2,this,_0x4fe63d['name'],0x8b8+0x2283+0x159d*-0x2,_0x4fe63d['parameter']?[_0x4fe63d['parameter']]:_0x4fe63d['parameters'],_0x4fe63d['children'],_0x4fe63d['syncAnimat'+'ions'],_0x1dc24f,_0x3d737b)):this['_children']['push'](new Uo(_0xb0e6f2,this,_0x4fe63d['name'],_0x4fe63d['point'],_0x4fe63d['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x3aadf6){for(let _0x418bed=0x1ee5+0x1*-0xda9+-0x4*0x44f;_0x418bed<this['_children']['length'];_0x418bed++)if(this['_children'][_0x418bed]['name']===_0x3aadf6)return this['_children'][_0x418bed];return null;}['updatePara'+'meterValue'+'s'](){let _0x105057=!(0x23e+-0x1a3*-0x5+0x11*-0x9d);for(let _0x30adf2=-0x173*0x1+-0x7a5*0x2+0x10bd*0x1;_0x30adf2<this['_parameter'+'Values']['length'];_0x30adf2++){const _0x261d7e=this['_findParam'+'eter'](this['_parameter'+'s'][_0x30adf2])['value'];this['_parameter'+'Values'][_0x30adf2]!==_0x261d7e&&(this['_parameter'+'Values'][_0x30adf2]=_0x261d7e,_0x105057=!(0x14db*-0x1+-0x5ce+0xd55*0x2));}return _0x105057;}['getNodeWei'+'ghtedDurat'+'ion'](_0x31939e){return this['_children'][_0x31939e]['animTrack']['duration']/this['_children'][_0x31939e]['speedMulti'+'plier']*this['_children'][_0x31939e]['weight'];}['getNodeCou'+'nt'](){let _0x220193=0x198b+0x593*-0x3+-0x8d2;for(let _0x35234b=0x1406+0x1*-0x247c+0x1076;_0x35234b<this['_children']['length'];_0x35234b++)this['_children'][_0x35234b]['constructo'+'r']===Ba?_0x220193+=this['_children'][_0x35234b]['getNodeCou'+'nt']():_0x220193++;return _0x220193;}}class VP extends Ba{constructor(_0x592615,_0x2cdfd3,_0x358178,_0x162c61,_0x552c14,_0x45cf70,_0x41f1e6,_0x376d33,_0x559a3b){_0x45cf70['sort']((_0x1dcfc6,_0x493e14)=>_0x1dcfc6['point']-_0x493e14['point']),super(_0x592615,_0x2cdfd3,_0x358178,_0x162c61,_0x552c14,_0x45cf70,_0x41f1e6,_0x376d33,_0x559a3b);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x5d7c05=-0x17b*0x5+-0x1e68+0x25cf;this['_children'][-0x2*-0x94a+0x5b*-0x38+0x154]['weight']=0x145b+0x1*-0x503+-0x7ac*0x2;for(let _0x17d85d=-0x1771+-0x19f3*-0x1+-0x282;_0x17d85d<this['_children']['length'];_0x17d85d++){const _0x3a3d08=this['_children'][_0x17d85d];if(_0x17d85d!==this['_children']['length']-(-0x1ee5+-0xa4e+0x2934)){const _0x5b8fe6=this['_children'][_0x17d85d+(0xdaa+-0x1c9c+-0x1*-0xef3)];if(_0x3a3d08['point']===_0x5b8fe6['point'])_0x3a3d08['weight']=-0x1db9+-0x1149+-0x2*-0x1781+0.5,_0x5b8fe6['weight']=-0x96a+0x1*0x17ea+0x4*-0x3a0+0.5;else{if(N['between'](this['_parameter'+'Values'][-0x1*-0x1e0b+0x2c*0x1a+-0x11d*0x1f],_0x3a3d08['point'],_0x5b8fe6['point'],!(-0x3*-0x64a+0x1*-0x829+-0xab5))){const _0x3903b1=Math['abs'](_0x3a3d08['point']-_0x5b8fe6['point']),_0x36db98=Math['abs'](_0x3a3d08['point']-this['_parameter'+'Values'][-0x4a*0x1f+-0x1446+-0x1d3c*-0x1]),_0x6b2471=(_0x3903b1-_0x36db98)/_0x3903b1;_0x3a3d08['weight']=_0x6b2471,_0x5b8fe6['weight']=0x5b*-0x1d+0x9b7+0x33*0x3-_0x6b2471;}else _0x5b8fe6['weight']=-0x22df+0x1e3*-0x7+0x11*0x2d4;}}this['_syncAnima'+'tions']&&(_0x5d7c05+=_0x3a3d08['animTrack']['duration']/_0x3a3d08['absoluteSp'+'eed']*_0x3a3d08['weight']);}if(this['_syncAnima'+'tions'])for(let _0x311812=0xa04+-0xa32+0x2e;_0x311812<this['_children']['length'];_0x311812++){const _0x5c8144=this['_children'][_0x311812];_0x5c8144['weightedSp'+'eed']=_0x5c8144['animTrack']['duration']/_0x5c8144['absoluteSp'+'eed']/_0x5d7c05;}}}const gi=class gi extends Ba{['pointDista'+'nceCache'](_0x31b6e2,_0x2ac3ee){const _0x459f45=''+_0x31b6e2+_0x2ac3ee;return this['_pointCach'+'e'][_0x459f45]||(this['_pointCach'+'e'][_0x459f45]=this['_children'][_0x2ac3ee]['point']['clone']()['sub'](this['_children'][_0x31b6e2]['point'])),this['_pointCach'+'e'][_0x459f45];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x4c9cf7,_0x1e19af;gi['_p']['set'](...this['_parameter'+'Values']),_0x4c9cf7=-0x8f+-0x1756*0x1+0x17e5,_0x1e19af=0x321+0xf*-0x221+0x1cce;for(let _0x88504e=-0x3c4+0x712*0x2+-0xa60;_0x88504e<this['_children']['length'];_0x88504e++){const _0xe012d9=this['_children'][_0x88504e],_0x4eb059=_0xe012d9['point'];gi['_pip']['set'](gi['_p']['x'],gi['_p']['y'])['sub'](_0x4eb059);let _0x523734=Number['MAX_VALUE'];for(let _0x463e18=0xb65+0xb*0x1a+0x1*-0xc83;_0x463e18<this['_children']['length'];_0x463e18++){if(_0x88504e===_0x463e18)continue;const _0x33251b=this['pointDista'+'nceCache'](_0x88504e,_0x463e18),_0x201107=N['clamp'](0xcd7+0x2*0x6f4+-0x1abe-gi['_pip']['dot'](_0x33251b)/_0x33251b['lengthSq'](),0x1*-0xf1a+-0x17f4+0x270e,-0x26ee+0x6c2+0x202d);_0x201107<_0x523734&&(_0x523734=_0x201107);}_0xe012d9['weight']=_0x523734,_0x4c9cf7+=_0x523734,this['_syncAnima'+'tions']&&(_0x1e19af+=_0xe012d9['animTrack']['duration']/_0xe012d9['absoluteSp'+'eed']*_0xe012d9['weight']);}for(let _0x38e1d3=0x7a8+0x26c3+-0x2e6b;_0x38e1d3<this['_children']['length'];_0x38e1d3++){const _0x2b7a86=this['_children'][_0x38e1d3];_0x2b7a86['weight']=_0x2b7a86['_weight']/_0x4c9cf7,this['_syncAnima'+'tions']&&(_0x2b7a86['weightedSp'+'eed']=_0x2b7a86['animTrack']['duration']/_0x2b7a86['absoluteSp'+'eed']/_0x1e19af);}}};c(gi,'_p',new $()),c(gi,'_pip',new $());let Ju=gi;const yi=class yi extends Ba{['pointCache'](_0x3711a2,_0x480ed7){const _0x4b07ba=''+_0x3711a2+_0x480ed7;return this['_pointCach'+'e'][_0x4b07ba]||(this['_pointCach'+'e'][_0x4b07ba]=new $((this['_children'][_0x480ed7]['pointLengt'+'h']-this['_children'][_0x3711a2]['pointLengt'+'h'])/((this['_children'][_0x480ed7]['pointLengt'+'h']+this['_children'][_0x3711a2]['pointLengt'+'h'])/(0x23b5+-0x1e4f+-0x564)),$['angleRad'](this['_children'][_0x3711a2]['point'],this['_children'][_0x480ed7]['point'])*(-0xda4+-0xf3f*0x2+-0x235*-0x14))),this['_pointCach'+'e'][_0x4b07ba];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x58547d,_0x20473e;yi['_p']['set'](...this['_parameter'+'Values']);const _0x3a1a71=yi['_p']['length']();_0x58547d=0xfe3+-0x3b1+-0x619*0x2,_0x20473e=-0x1*0x1ce1+-0x44*-0x25+-0x1*-0x130d;for(let _0x2df406=0x10f+-0xf65+0xe56;_0x2df406<this['_children']['length'];_0x2df406++){const _0x407574=this['_children'][_0x2df406],_0x1768e9=_0x407574['point'],_0xc819b5=_0x407574['pointLengt'+'h'];let _0x37020f=Number['MAX_VALUE'];for(let _0x416e52=0x1e3e+-0x1d5*0xd+-0xeb*0x7;_0x416e52<this['_children']['length'];_0x416e52++){if(_0x2df406===_0x416e52)continue;const _0x4f36d2=this['pointCache'](_0x2df406,_0x416e52),_0x2382ae=this['_children'][_0x416e52]['pointLengt'+'h'];yi['_pip']['set']((_0x3a1a71-_0xc819b5)/((_0x2382ae+_0xc819b5)/(0x61d*-0x6+-0x1*0x2605+0x4ab5)),$['angleRad'](_0x1768e9,yi['_p'])*(0x870+-0x1*-0x23bd+-0x2c2b*0x1));const _0xfecf07=N['clamp'](0x329*0x1+0x1*0xf95+0x75*-0x29-Math['abs'](yi['_pip']['dot'](_0x4f36d2)/_0x4f36d2['lengthSq']()),-0x9a5*0x3+0x127d+0x17e*0x7,0x4*0x8c8+-0x163e+-0xce1);_0xfecf07<_0x37020f&&(_0x37020f=_0xfecf07);}_0x407574['weight']=_0x37020f,_0x58547d+=_0x37020f,this['_syncAnima'+'tions']&&(_0x20473e+=_0x407574['animTrack']['duration']/_0x407574['absoluteSp'+'eed']*_0x407574['weight']);}for(let _0x2156ad=-0x1486+0x205f+0x3*-0x3f3;_0x2156ad<this['_children']['length'];_0x2156ad++){const _0x2d9d14=this['_children'][_0x2156ad];if(_0x2d9d14['weight']=_0x2d9d14['_weight']/_0x58547d,this['_syncAnima'+'tions']){const _0x527747=_0x2d9d14['animTrack']['duration']/_0x20473e*_0x58547d;_0x2d9d14['weightedSp'+'eed']=_0x2d9d14['absoluteSp'+'eed']*_0x527747;}}}};c(yi,'_p',new $()),c(yi,'_pip',new $());let ef=yi;class GP extends Ba{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x389d31=-0x16b8+0x3e0*-0x2+0xa28*0x3,_0x27730d=0x3*0xcb3+-0x20df+-0x53a;for(let _0x20d2b6=-0x1bb3+-0x1*0x622+0x21d5;_0x20d2b6<this['_children']['length'];_0x20d2b6++)if(_0x389d31+=Math['max'](this['_parameter'+'Values'][_0x20d2b6],-0x10f*-0x7+0xdce+-0x1537),this['_syncAnima'+'tions']){const _0x520ecd=this['_children'][_0x20d2b6];_0x27730d+=_0x520ecd['animTrack']['duration']/_0x520ecd['absoluteSp'+'eed']*_0x520ecd['weight'];}for(let _0x31a172=0x1*-0x1471+0xcb*-0x3+0x16d2;_0x31a172<this['_children']['length'];_0x31a172++){const _0x41ee0b=this['_children'][_0x31a172],_0x30dcbd=Math['max'](this['_parameter'+'Values'][_0x31a172],0x977*-0x4+-0x11a*0x5+0x1a*0x1ab);_0x389d31?(_0x41ee0b['weight']=_0x30dcbd/_0x389d31,this['_syncAnima'+'tions']&&(_0x41ee0b['weightedSp'+'eed']=_0x41ee0b['animTrack']['duration']/_0x41ee0b['absoluteSp'+'eed']/_0x27730d)):(_0x41ee0b['weight']=0x1*0x6ce+-0x2190+-0xa*-0x2ad,this['_syncAnima'+'tions']&&(_0x41ee0b['weightedSp'+'eed']=-0x25e5+0x1184+0x1461));}}}class eg{constructor(_0x28f9b9,_0x276cff,_0x3f616f=0x169e+-0x24*0x10f+0xf7f,_0x5a3822=!(0xe8c+-0x4f*-0x51+-0x1*0x278b),_0x1c9795){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x28f9b9,this['_name']=_0x276cff,this['_speed']=_0x3f616f,this['_loop']=_0x5a3822,this['_hasAnimat'+'ions']=!(-0x228c+0x5fd+0x8*0x392),_0x1c9795?this['_blendTree']=this['_createTre'+'e'](_0x1c9795['type'],this,null,_0x276cff,-0x1e9d*-0x1+-0x1*-0x25e1+-0x447d,_0x1c9795['parameter']?[_0x1c9795['parameter']]:_0x1c9795['parameters'],_0x1c9795['children'],_0x1c9795['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Uo(this,null,_0x276cff,0x1*-0x1a7+0x1b46*0x1+-0x199e,_0x3f616f));}['_createTre'+'e'](_0x248d01,_0xfab0f5,_0x31daaa,_0x4533e3,_0x30c0c2,_0x584e0c,_0x32ea20,_0x32119d,_0x3c4163,_0x244a73){switch(_0x248d01){case FP:return new VP(_0xfab0f5,_0x31daaa,_0x4533e3,_0x30c0c2,_0x584e0c,_0x32ea20,_0x32119d,_0x3c4163,_0x244a73);case kP:return new Ju(_0xfab0f5,_0x31daaa,_0x4533e3,_0x30c0c2,_0x584e0c,_0x32ea20,_0x32119d,_0x3c4163,_0x244a73);case OP:return new ef(_0xfab0f5,_0x31daaa,_0x4533e3,_0x30c0c2,_0x584e0c,_0x32ea20,_0x32119d,_0x3c4163,_0x244a73);case BP:return new GP(_0xfab0f5,_0x31daaa,_0x4533e3,_0x30c0c2,_0x584e0c,_0x32ea20,_0x32119d,_0x3c4163,_0x244a73);}v['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x248d01);}['_getNodeFr'+'omPath'](_0x1745c1){let _0x56fdb0=this['_blendTree'];for(let _0x281f0f=-0x1*0x22b4+0x5cb+-0x1*-0x1cea;_0x281f0f<_0x1745c1['length'];_0x281f0f++)_0x56fdb0=_0x56fdb0['getChild'](_0x1745c1[_0x281f0f]);return _0x56fdb0;}['addAnimati'+'on'](_0x3e01c7,_0x44dade){const _0xdd732e=_0x3e01c7['join']('.'),_0x10ec1e=this['_animation'+'List']['findIndex'](_0x2f2602=>_0x2f2602['path']===_0xdd732e);if(_0x10ec1e>=-0x11ec+0x11d4+-0x4*-0x6)this['_animation'+'List'][_0x10ec1e]['animTrack']=_0x44dade;else{const _0x4eae10=this['_getNodeFr'+'omPath'](_0x3e01c7);_0x4eae10['animTrack']=_0x44dade,this['_animation'+'List']['push'](_0x4eae10);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0x1bac+-0x2261*-0x1+-0x6b5&&this['_animation'+'List']['every'](_0x29ab3f=>_0x29ab3f['animTrack']&&_0x29ab3f['animTrack']!==Ri['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x1e7277){this['_animation'+'List']=_0x1e7277,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x236cf3){this['_speed']=_0x236cf3;}get['speed'](){return this['_speed'];}set['loop'](_0x5b1d83){this['_loop']=_0x5b1d83;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Uo?0x1987+0x451*0x8+-0x3c0e:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return jh['indexOf'](this['name'])!==-(0x151a+0x1e8+0x3*-0x7ab)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x2259+-0x1*-0x255+0x4*0x801){const _0x590a6f=this['name']+'.'+this['animations'][0x4a*-0x4a+-0xf18*0x1+0x91f*0x4]['animTrack']['name'],_0x22ff46=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x590a6f);if(_0x22ff46)return _0x22ff46['loop'];}return!(0x9*0x146+0x331*0xb+-0x2e90);}get['totalWeigh'+'t'](){let _0x158ad8=0x5fc+0x3*-0x2e3+-0x2ad*-0x1;for(let _0x415fb5=-0x1a06+0x1e*0x14d+-0xd00;_0x415fb5<this['animations']['length'];_0x415fb5++)_0x158ad8+=this['animations'][_0x415fb5]['weight'];return _0x158ad8;}get['timelineDu'+'ration'](){let _0x327376=0xa9+-0xa9+0x0;for(let _0x21e250=0x14b0+0x2165+0x429*-0xd;_0x21e250<this['animations']['length'];_0x21e250++){const _0x360c6f=this['animations'][_0x21e250];_0x360c6f['animTrack']['duration']>_0x327376&&(_0x327376=_0x360c6f['animTrack']['duration']);}return _0x327376;}}class Yh{constructor({from:_0x3cbe9b,to:_0x406c03,time:_0x55f7aa=-0x487*-0x7+-0x16c7+-0x8ea,priority:_0x3892d5=-0x2*0x371+0x1*0x1855+0x1*-0x1173,conditions:_0x4ba00b=[],exitTime:_0x3fd9c3=null,transitionOffset:_0x26993b=null,interruptionSource:_0x48df9b=q0}){this['_from']=_0x3cbe9b,this['_to']=_0x406c03,this['_time']=_0x55f7aa,this['_priority']=_0x3892d5,this['_condition'+'s']=_0x4ba00b,this['_exitTime']=_0x3fd9c3,this['_transitio'+'nOffset']=_0x26993b,this['_interrupt'+'ionSource']=_0x48df9b;}get['from'](){return this['_from'];}set['to'](_0x5c8e14){this['_to']=_0x5c8e14;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class HP{constructor(_0x4f8c5c,_0x12d5c0,_0x4da58f,_0x59d66b,_0x5efbd0,_0x3e4d72,_0x48d238){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',oo),c(this,'_activeSta'+'teDuration',0x7*-0x4fd+-0x529+0x2814),c(this,'_activeSta'+'teDuration'+'Dirty',!(-0x52*-0x5d+-0x73*-0x1c+-0x2a5e)),c(this,'_playing',!(0x1664*-0x1+0x1*-0xfb+0x1760)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',0x21b8+0x152+0x2309*-0x1),c(this,'_totalTran'+'sitionTime',0x39*0x3e+0xe7a+-0x3*0x96d),c(this,'_isTransit'+'ioning',!(0x4*-0x593+-0x193b+0x75*0x68)),c(this,'_transitio'+'nInterrupt'+'ionSource',q0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',-0x183+0x98+0xeb),c(this,'_timeInSta'+'teBefore',0x9*0x3b7+0x1ac9+-0x3c38),c(this,'findParame'+'ter',_0x54f6d4=>this['_findParam'+'eter'](_0x54f6d4)),(this['_animEvalu'+'ator']=_0x4f8c5c,this['_eventHand'+'ler']=_0x5efbd0,this['_findParam'+'eter']=_0x3e4d72,this['_consumeTr'+'igger']=_0x48d238);for(let _0x509f4f=0xf49+0x24e9+-0x3432*0x1;_0x509f4f<_0x12d5c0['length'];_0x509f4f++)this['_states'][_0x12d5c0[_0x509f4f]['name']]=new eg(this,_0x12d5c0[_0x509f4f]['name'],_0x12d5c0[_0x509f4f]['speed'],_0x12d5c0[_0x509f4f]['loop'],_0x12d5c0[_0x509f4f]['blendTree']),this['_stateName'+'s']['push'](_0x12d5c0[_0x509f4f]['name']);this['_transitio'+'ns']=_0x4da58f['map'](_0x3c40f5=>new Yh({..._0x3c40f5})),this['_activate']=_0x59d66b;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x5acd6f){this['_activeSta'+'teName']=_0x5acd6f;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x1f2de1){this['_previousS'+'tateName']=_0x1f2de1;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x23de01=!(0x22c5+-0x150*0x13+-0x9d5);for(let _0x2d83d7=0x1*0x2689+0x210e+-0x4797;_0x2d83d7<this['_stateName'+'s']['length'];_0x2d83d7++)this['_states'][this['_stateName'+'s'][_0x2d83d7]]['playable']||(_0x23de01=!(-0x882+-0x1760+-0xaa1*-0x3));return _0x23de01;}set['playing'](_0x32fa82){this['_playing']=_0x32fa82;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0xc966da=-0x1*0x635+0x108d+0x52c*-0x2;for(let _0x3fa188=-0xf43*-0x2+0x1*-0x197b+-0x50b;_0x3fa188<this['activeStat'+'eAnimation'+'s']['length'];_0x3fa188++){const _0x55092d=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x3fa188]['name']);_0x55092d&&(_0xc966da=Math['max'](_0xc966da,_0x55092d['track']['duration']));}this['_activeSta'+'teDuration']=_0xc966da,this['_activeSta'+'teDuration'+'Dirty']=!(-0x7e1+0xda4+-0x5c2);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x19b50d){this['_timeInSta'+'teBefore']=_0x19b50d,this['_timeInSta'+'te']=_0x19b50d;for(let _0x56f553=-0x4*0x793+0x1837+-0x615*-0x1;_0x56f553<this['activeStat'+'eAnimation'+'s']['length'];_0x56f553++){const _0x99fe26=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x56f553]['name']);_0x99fe26&&(_0x99fe26['time']=_0x19b50d);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x28e09b){return this['_animEvalu'+'ator']['assignMask'](_0x28e09b);}['_findState'](_0x1f78ca){return this['_states'][_0x1f78ca];}['_getActive'+'StateProgr'+'essForTime'](_0xf63193){if(this['activeStat'+'eName']===oo||this['activeStat'+'eName']===Ku||this['activeStat'+'eName']===Or)return 0x1e91+-0x567+-0x1929;const _0x9242b=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0xde2+0x289*0xe+-0x159c]['name']);return _0x9242b?_0x9242b['progressFo'+'rTime'](_0xf63193):null;}['_findTrans'+'itionsFrom'+'State'](_0x244d48){let _0x4a290e=this['_findTrans'+'itionsFrom'+'StateCache'][_0x244d48];return _0x4a290e||(_0x4a290e=this['_transitio'+'ns']['filter'](_0x3c5be9=>_0x3c5be9['from']===_0x244d48),No(_0x4a290e),this['_findTrans'+'itionsFrom'+'StateCache'][_0x244d48]=_0x4a290e),_0x4a290e;}['_findTrans'+'itionsBetw'+'eenStates'](_0x1f21f4,_0x97e186){let _0x48cb76=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x1f21f4+'->'+_0x97e186];return _0x48cb76||(_0x48cb76=this['_transitio'+'ns']['filter'](_0x2026d9=>_0x2026d9['from']===_0x1f21f4&&_0x2026d9['to']===_0x97e186),No(_0x48cb76),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x1f21f4+'->'+_0x97e186]=_0x48cb76),_0x48cb76;}['_transitio'+'nHasCondit'+'ionsMet'](_0x202be2){const _0x45347b=_0x202be2['conditions'];for(let _0x5f5735=0x1b5*-0xf+0x67e+0x131d;_0x5f5735<_0x45347b['length'];_0x5f5735++){const _0x10f830=_0x45347b[_0x5f5735],_0x3dd876=this['_findParam'+'eter'](_0x10f830['parameterN'+'ame']);switch(_0x10f830['predicate']){case MP:if(!(_0x3dd876['value']>_0x10f830['value']))return!(0x1*-0x94f+-0x61*0x2+0xa12);break;case PP:if(!(_0x3dd876['value']<_0x10f830['value']))return!(0x2380+-0x5*-0xb3+-0x26fe);break;case RP:if(!(_0x3dd876['value']>=_0x10f830['value']))return!(-0xa1d+0x25fa*0x1+-0x1bdc);break;case IP:if(!(_0x3dd876['value']<=_0x10f830['value']))return!(0x6a*-0x9+0x97*-0x4+-0x1*-0x617);break;case DP:if(_0x3dd876['value']!==_0x10f830['value'])return!(-0xd*-0xad+-0x3*-0x322+-0x1*0x122e);break;case LP:if(_0x3dd876['value']===_0x10f830['value'])return!(0x4*0x953+-0x1*-0xbf9+-0x3144);break;}}return!(0x14bd+0x1*-0x569+-0xf54);}['_findTrans'+'ition'](_0x41cdf5,_0x4bf8af){let _0x115f4f=[];if(_0x41cdf5&&_0x4bf8af)_0x115f4f=_0x115f4f['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x41cdf5,_0x4bf8af));else{if(!this['_isTransit'+'ioning'])_0x115f4f=_0x115f4f['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x115f4f=_0x115f4f['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case TP:_0x115f4f=_0x115f4f['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x115f4f=_0x115f4f['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case AP:_0x115f4f=_0x115f4f['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x115f4f=_0x115f4f['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0x115f4f=_0x115f4f['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x115f4f=_0x115f4f['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x115f4f=_0x115f4f['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0x115f4f=_0x115f4f['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x115f4f=_0x115f4f['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x115f4f=_0x115f4f['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0x115f4f=_0x115f4f['filter'](_0x1f314c=>{if(_0x1f314c['to']===this['activeStat'+'eName'])return!(0x1*0xe8f+0x21ce+-0x305c);if(_0x1f314c['hasExitTim'+'e']){let _0x23e53d=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0xe44e25=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x1f314c['exitTime']<0x7b2+0x1a1*-0xd+0xd7c&&this['activeStat'+'e']['loop']&&(_0x23e53d-=Math['floor'](_0x23e53d),_0xe44e25-=Math['floor'](_0xe44e25)),_0xe44e25===_0x23e53d){if(_0xe44e25!==_0x1f314c['exitTime'])return null;}else{if(!(_0x1f314c['exitTime']>_0x23e53d&&_0x1f314c['exitTime']<=_0xe44e25))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x1f314c);}),_0x115f4f['length']>0xae*-0xa+-0x3*-0x529+-0x27*0x39){const _0x2a8484=_0x115f4f[0x236+-0x2e7*0x2+0x398];if(_0x2a8484['to']===Ku){const _0x1d9aa6=this['_findTrans'+'itionsFrom'+'State'](oo)[0x262b+0xae*0x11+0x1*-0x31b9];_0x2a8484['to']=_0x1d9aa6['to'];}return _0x2a8484;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x1d3b5e){let _0x2481e0,_0x53f1dc,_0x2555c6;this['previousSt'+'ate']=_0x1d3b5e['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x1d3b5e['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x1*0x81a+0x108d*-0x1+-0x15*-0x67);for(let _0x389c5d=0xa*-0x3e0+0x162+0x255e;_0x389c5d<_0x1d3b5e['conditions']['length'];_0x389c5d++){const _0x401f59=_0x1d3b5e['conditions'][_0x389c5d];this['_findParam'+'eter'](_0x401f59['parameterN'+'ame'])['type']===ph&&this['_consumeTr'+'igger'](_0x401f59['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x5c05b7=Math['min'](this['_totalTran'+'sitionTime']!==0xa73+0x1cbe+-0x2731?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x17aa*0x1+-0x264f+0x3dfa,-0x1*0x127e+-0x1a56+0x2cd5);for(let _0x1d6a16=0xbb2*-0x1+-0x1902+-0x6c*-0x57;_0x1d6a16<this['_transitio'+'nPreviousS'+'tates']['length'];_0x1d6a16++){this['_isTransit'+'ioning']?_0x1d6a16!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x1a*-0x176+-0x11bd+-0x143e*0x1)?this['_transitio'+'nPreviousS'+'tates'][_0x1d6a16]['weight']*=-0xeed*0x1+-0x8f1+0x17df-_0x5c05b7:this['_transitio'+'nPreviousS'+'tates'][_0x1d6a16]['weight']=_0x5c05b7:this['_transitio'+'nPreviousS'+'tates'][_0x1d6a16]['weight']=0x8*-0x479+0x755*0x4+0x39*0x1d,_0x2481e0=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x1d6a16]['name']);for(let _0x18af13=-0x1a72*-0x1+-0x14fa+-0x578*0x1;_0x18af13<_0x2481e0['animations']['length'];_0x18af13++)_0x53f1dc=_0x2481e0['animations'][_0x18af13],_0x2555c6=this['_animEvalu'+'ator']['findClip'](_0x53f1dc['name']+'.previous.'+_0x1d6a16),_0x2555c6||(_0x2555c6=this['_animEvalu'+'ator']['findClip'](_0x53f1dc['name']),_0x2555c6['name']=_0x53f1dc['name']+'.previous.'+_0x1d6a16),_0x1d6a16!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x7*0x3cd+0x1cb4+-0x374e)&&_0x2555c6['pause']();}}this['_isTransit'+'ioning']=!(0x1e89*-0x1+0x5*0x320+-0xee9*-0x1),this['_totalTran'+'sitionTime']=_0x1d3b5e['time'],this['_currTrans'+'itionTime']=-0xa06+-0x1690+-0x1*-0x2096,this['_transitio'+'nInterrupt'+'ionSource']=_0x1d3b5e['interrupti'+'onSource'];const _0x5af09f=this['activeStat'+'e'],_0x22884e=_0x1d3b5e['transition'+'Offset']&&_0x1d3b5e['transition'+'Offset']>0xebc+-0x10a*0x17+-0x45*-0x22&&_0x1d3b5e['transition'+'Offset']<-0x116*0x5+-0xf59+0x14c8;let _0x3440c2=0x135*0x1a+-0x2f3*0x2+-0x197c,_0x1b9447=0xb*0x278+-0x143d*0x1+-0x6eb;if(_0x22884e){const _0x40cbc4=_0x5af09f['timelineDu'+'ration']*_0x1d3b5e['transition'+'Offset'];_0x3440c2=_0x40cbc4,_0x1b9447=_0x40cbc4;}this['_timeInSta'+'te']=_0x3440c2,this['_timeInSta'+'teBefore']=_0x1b9447;for(let _0xa650e0=-0x550+-0xeb7*0x2+-0x1*-0x22be;_0xa650e0<_0x5af09f['animations']['length'];_0xa650e0++){if(_0x2555c6=this['_animEvalu'+'ator']['findClip'](_0x5af09f['animations'][_0xa650e0]['name']),_0x2555c6)_0x2555c6['reset']();else{const _0x5b5397=Number['isFinite'](_0x5af09f['animations'][_0xa650e0]['speed'])?_0x5af09f['animations'][_0xa650e0]['speed']:_0x5af09f['speed'];_0x2555c6=new Xh(_0x5af09f['animations'][_0xa650e0]['animTrack'],this['_timeInSta'+'te'],_0x5b5397,!(-0x238+-0x59*-0x1f+-0x88f),_0x5af09f['loop'],this['_eventHand'+'ler']),_0x2555c6['name']=_0x5af09f['animations'][_0xa650e0]['name'],this['_animEvalu'+'ator']['addClip'](_0x2555c6);}if(_0x1d3b5e['time']>0x355*-0x7+0x20c5+-0x27*0x3e?_0x2555c6['blendWeigh'+'t']=-0x1*-0x18e+-0x1bb3+0x1a25:_0x2555c6['blendWeigh'+'t']=_0x5af09f['animations'][_0xa650e0]['normalized'+'Weight'],_0x2555c6['play'](),_0x22884e)_0x2555c6['time']=_0x5af09f['timelineDu'+'ration']*_0x1d3b5e['transition'+'Offset'];else{const _0x3ff78a=_0x5af09f['speed']>=0x1*0x5c7+0x1*0xf7f+-0x1*0x1546?0x5d5+0x99a+0xf6f*-0x1:this['activeStat'+'eDuration'];_0x2555c6['time']=_0x3ff78a;}}}['_transitio'+'nToState'](_0x54df84){if(!this['_findState'](_0x54df84))return;let _0x5e14b8=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x54df84);_0x5e14b8||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x5e14b8=new Yh({'from':null,'to':_0x54df84})),this['updateStat'+'eFromTrans'+'ition'](_0x5e14b8);}['assignAnim'+'ation'](_0x4db26e,_0xa30d47,_0x467abd,_0x323888){const _0x3fc988=_0x4db26e['split']('.');let _0x1d8f71=this['_findState'](_0x3fc988[-0x262+0x2*0x10d7+0xfa6*-0x2]);_0x1d8f71||(_0x1d8f71=new eg(this,_0x3fc988[-0x43*0x61+0x4e*0x40+-0x89*-0xb],_0x467abd),this['_states'][_0x3fc988[0x24ec*-0x1+0x827*0x2+0x149e]]=_0x1d8f71,this['_stateName'+'s']['push'](_0x3fc988[0x79d+0x430*0x4+-0x185d])),_0x1d8f71['addAnimati'+'on'](_0x3fc988,_0xa30d47),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x1d8f71['name'],_0xa30d47),_0x467abd!==void(-0xe1+-0x919+0x9fa)&&(_0x1d8f71['speed']=_0x467abd),_0x323888!==void(0xad*-0x38+0x1356+0x1282)&&(_0x1d8f71['loop']=_0x323888),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0x39e*-0x7+0xe2*-0x27+0x3bc0);}['removeNode'+'Animations'](_0x470e80){if(jh['indexOf'](_0x470e80)!==-(-0x19b2+-0x1*-0x1dcb+-0x20c*0x2))return!(-0x4+-0x1*0x18cb+0x18d0);const _0x170af8=this['_findState'](_0x470e80);return _0x170af8?(_0x170af8['animations']=[],!(-0x75*-0x35+-0xc5*-0x1+0x2*-0xc7f)):(v['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x470e80),!(-0x1*0xc46+0x1d9c+-0x1*0x1155));}['play'](_0x588cc8){_0x588cc8&&this['_transitio'+'nToState'](_0x588cc8),this['_playing']=!(0x158+-0x2*-0x10db+-0x2*0x1187);}['pause'](){this['_playing']=!(-0x1cb*0x2+0x1956+-0x15bf);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=oo,this['_playing']=!(0x155+0x1a8a+0xae*-0x29),this['_currTrans'+'itionTime']=-0x699+0xb56*0x1+-0x4bc,this['_totalTran'+'sitionTime']=-0x1228+0x87d*0x3+0x6e*-0x11,this['_isTransit'+'ioning']=!(-0x1f0b+0x181a+0x1*0x6f2),this['_timeInSta'+'te']=0x975+-0x34f+-0x626,this['_timeInSta'+'teBefore']=-0x8e*-0x2b+-0x6*-0xeb+-0x757*0x4,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x4bfa18){if(!this['_playing'])return;let _0x726154,_0x32859d,_0xb36072;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x4bfa18*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x4bfa18=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x5002ba=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x5002ba&&this['updateStat'+'eFromTrans'+'ition'](_0x5002ba),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x4bfa18,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x4c08bc=this['_totalTran'+'sitionTime']!==-0x395*-0x1+-0x1709*0x1+0x1374?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x1f6c+0x10*0x205+-0x3fbb*0x1;for(let _0x34fb89=0x1f5a+0x1*0x2195+-0x40ef;_0x34fb89<this['_transitio'+'nPreviousS'+'tates']['length'];_0x34fb89++){_0x726154=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x34fb89]['name']);const _0x3faa6e=this['_transitio'+'nPreviousS'+'tates'][_0x34fb89]['weight'];for(let _0x5d1e19=0x1*0x883+0x26f*0x7+-0x198c;_0x5d1e19<_0x726154['animations']['length'];_0x5d1e19++)_0x32859d=_0x726154['animations'][_0x5d1e19],_0xb36072=this['_animEvalu'+'ator']['findClip'](_0x32859d['name']+'.previous.'+_0x34fb89),_0xb36072&&(_0xb36072['blendWeigh'+'t']=(-0x15bc*-0x1+-0x1*0x356+-0x1265-_0x4c08bc)*_0x32859d['normalized'+'Weight']*_0x3faa6e);}_0x726154=this['activeStat'+'e'];for(let _0x5cbf78=-0x11*-0xe6+-0xad2+-0x72*0xa;_0x5cbf78<_0x726154['animations']['length'];_0x5cbf78++)_0x32859d=_0x726154['animations'][_0x5cbf78],this['_animEvalu'+'ator']['findClip'](_0x32859d['name'])['blendWeigh'+'t']=_0x4c08bc*_0x32859d['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x65b+0x149d+-0xd*0x213);const _0x20efef=this['activeStat'+'eAnimation'+'s']['length'],_0x189085=this['_animEvalu'+'ator']['clips']['length'];for(let _0x5b85c0=-0xa1c+-0x1*0x1cc6+0x26e2;_0x5b85c0<_0x189085-_0x20efef;_0x5b85c0++)this['_animEvalu'+'ator']['removeClip'](-0xec7+0x2cc*0x2+0x92f*0x1);this['_transitio'+'nPreviousS'+'tates']=[],_0x726154=this['activeStat'+'e'];for(let _0xa2aa81=-0x226b*-0x1+0x1*0x232e+0x3*-0x1733;_0xa2aa81<_0x726154['animations']['length'];_0xa2aa81++)_0x32859d=_0x726154['animations'][_0xa2aa81],_0xb36072=this['_animEvalu'+'ator']['findClip'](_0x32859d['name']),_0xb36072&&(_0xb36072['blendWeigh'+'t']=_0x32859d['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Uo){_0x726154=this['activeStat'+'e'];for(let _0x3b8506=0xc4*0xe+0x1*-0x1ac9+-0x9*-0x1c9;_0x3b8506<_0x726154['animations']['length'];_0x3b8506++)_0x32859d=_0x726154['animations'][_0x3b8506],_0xb36072=this['_animEvalu'+'ator']['findClip'](_0x32859d['name']),_0xb36072&&(_0xb36072['blendWeigh'+'t']=_0x32859d['normalized'+'Weight'],_0x32859d['parent']['syncAnimat'+'ions']&&(_0xb36072['speed']=_0x32859d['speed']));}}this['_animEvalu'+'ator']['update'](_0x4bfa18,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Yd=new $(),ql=new T(),Ja=new Q(),eo=new Y(),to=new se();class mi extends Ji{constructor(_0xffcfd6,_0x41564f,_0x576d53,_0x5e25b1,_0x4f42c6){super(_0x41564f),this['animCompon'+'ent']=_0xffcfd6,this['_mask']=_0x5e25b1,this['layerName']=_0x576d53,this['layerIndex']=_0x4f42c6;}static['_packFloat'](_0x366563){return _0x366563[-0x1df1+-0x182*0xb+0x2e87];}static['_packBoole'+'an'](_0x9e7b31){return!!_0x9e7b31[-0xd3*0x1c+0x1d28+-0x614];}static['_packVec2'](_0x30256d){return Yd['x']=_0x30256d[0xb2e+0x1*-0x1be0+0x10b2],Yd['y']=_0x30256d[0xb56+-0x1c4d+0x10f8],Yd;}static['_packVec3'](_0x55e756){return ql['x']=_0x55e756[-0x2*-0x1308+0xe95+0x34a5*-0x1],ql['y']=_0x55e756[-0xa*0x101+0x1d92+-0x1387],ql['z']=_0x55e756[-0x191c+0x1637+0x2e7],ql;}static['_packVec4'](_0x291c13){return Ja['x']=_0x291c13[0xf6a+0x611+-0x157b],Ja['y']=_0x291c13[-0xc86*0x3+0x1b*-0x19+-0x1*-0x2836],Ja['z']=_0x291c13[0xeb6+0x211f*0x1+-0x2fd3],Ja['w']=_0x291c13[0x21b2+-0xc40+0x1f*-0xb1],Ja;}static['_packColor'](_0x58cd94){return eo['r']=_0x58cd94[0x529*-0x4+0x2*-0xc1d+-0x166f*-0x2],eo['g']=_0x58cd94[0x1ae7+-0x5f2*0x2+-0xf02],eo['b']=_0x58cd94[-0x4*0x84f+-0x1f63+0x40a1],eo['a']=_0x58cd94[-0xb*-0x26b+-0x1abd*-0x1+0x3553*-0x1],eo;}static['_packQuat'](_0x272541){return to['x']=_0x272541[0xb7c+0x33f*0x7+-0x2235],to['y']=_0x272541[-0x1835+-0x1410+0x2c46],to['z']=_0x272541[0x2bd+-0x7*-0x383+-0x1b50],to['w']=_0x272541[-0x14c*-0xb+-0x78d*0x5+-0x5e*-0x40],to;}['resolve'](_0x3b04f5){const _0x433657=qr['encode'](_0x3b04f5['entityPath'],_0x3b04f5['component'],_0x3b04f5['propertyPa'+'th']);let _0x39f6f3=this['targetCach'+'e'][_0x433657];if(_0x39f6f3)return _0x39f6f3;let _0x4d54e1,_0x3a3014,_0x53cc9;switch(_0x3b04f5['component']){case'entity':_0x4d54e1=this['_getEntity'+'FromHierar'+'chy'](_0x3b04f5['entityPath']),_0x53cc9=qr['encode'](_0x4d54e1['path'],'entity',_0x3b04f5['propertyPa'+'th']),_0x3a3014=_0x4d54e1;break;case'graph':if(_0x3a3014=this['findNode'](_0x3b04f5),!_0x3a3014)return null;_0x53cc9=qr['encode'](_0x3a3014['path'],'graph',_0x3b04f5['propertyPa'+'th']);break;default:if(_0x4d54e1=this['_getEntity'+'FromHierar'+'chy'](_0x3b04f5['entityPath']),_0x3a3014=_0x4d54e1['findCompon'+'ent'](_0x3b04f5['component']),!_0x3a3014)return null;_0x53cc9=qr['encode'](_0x4d54e1['path'],_0x3b04f5['component'],_0x3b04f5['propertyPa'+'th']);break;}return _0x39f6f3=this['_createAni'+'mTargetFor'+'Property'](_0x3a3014,_0x3b04f5['propertyPa'+'th'],_0x53cc9),this['targetCach'+'e'][_0x433657]=_0x39f6f3,_0x39f6f3;}['update'](_0x1c9438){const _0x4f084f=this['activeNode'+'s'];if(_0x4f084f){for(let _0xaab253=0x11*0xa1+-0x60c+-0x4a5*0x1;_0xaab253<_0x4f084f['length'];_0xaab253++)_0x4f084f[_0xaab253]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x38552e){if(!this['animCompon'+'ent']['entity']['name']===_0x38552e[-0x23e1+-0x1d0a+-0x1*-0x40eb])return null;const _0x269db7=this['animCompon'+'ent']['entity'];return _0x38552e['length']===0x3f+0x5c*-0xa+-0x4e*-0xb?_0x269db7:_0x269db7['_parent']['findByPath'](_0x38552e);}['_resolvePa'+'th'](_0x2ce14a,_0x1047d6,_0x1851b5){const _0x1f48cc=_0x1047d6['length']-(_0x1851b5?0xecf+-0x252d+0x165e:-0x6*0x49b+-0x1ea7+0x3a4a);for(let _0x397d31=0x118e+-0x1382*0x2+0x1576;_0x397d31<_0x1f48cc;_0x397d31++)_0x2ce14a=_0x2ce14a[_0x1047d6[_0x397d31]];return _0x2ce14a;}['_setter'](_0x2d1cd9,_0x44dc29,_0x1f3a47){const _0x1ac02a=this['_resolvePa'+'th'](_0x2d1cd9,_0x44dc29),_0x5c83c4=_0x44dc29[_0x44dc29['length']-(-0x7f0+-0x19e3+0x21d4)],_0x5a7c05='set'+_0x5c83c4['substring'](0x4*-0x6e3+0x6*0x7f+0x1892,-0x47d*-0x4+0x1*-0x1b37+0x944)['toUpperCas'+'e']()+_0x5c83c4['substring'](-0x22*-0x22+0x1f37+-0x23ba);if(_0x1ac02a[_0x5a7c05]){let _0x452731=_0x1ac02a['get'+_0x5c83c4['substring'](-0x1*0x1c43+0x53d*-0x7+0x2077*0x2,0x1914+0x1*0x1e43+-0x3756)['toUpperCas'+'e']()+_0x5c83c4['substring'](0x3*0x295+0x2*0xbea+-0x1f92)]['bind'](_0x1ac02a)();_0x452731=[_0x452731['x'],_0x452731['y'],_0x452731['z'],_0x452731['w']];const _0x24d079=_0x1ac02a[_0x5a7c05]['bind'](_0x1ac02a);return{'set':_0x46f182=>{_0x24d079(_0x1f3a47(_0x46f182));},'get':()=>_0x452731};}const _0x2caa15=_0x1ac02a[_0x5c83c4];if(typeof _0x2caa15=='object'&&_0x2caa15['hasOwnProp'+'erty']('copy'))return function(_0x4354b8){_0x2caa15['copy'](_0x1f3a47(_0x4354b8));};if([$,T,Q,Y,se]['indexOf'](_0x1ac02a['constructo'+'r'])!==-(-0xc39+-0x477*0x6+-0x9c1*-0x4)&&_0x44dc29['length']>0x1bf4+0x1f58+-0x3b4b){const _0x1af0d3=_0x44dc29['length']>0x17c3+0xe93+-0x2654?this['_resolvePa'+'th'](_0x2d1cd9,_0x44dc29['slice'](0x147*0x11+-0x696+-0xf21,-(0x169f+-0xc82+-0x50e*0x2))):_0x2d1cd9,_0x3bb1b1=_0x44dc29[_0x44dc29['length']-(0x1*0xa0d+-0x1*0x15ef+0xbe4)];return function(_0x37b2b9){_0x1ac02a[_0x5c83c4]=_0x1f3a47(_0x37b2b9),_0x1af0d3[_0x3bb1b1]=_0x1ac02a;};}return function(_0x37cbd4){_0x1ac02a[_0x5c83c4]=_0x1f3a47(_0x37cbd4);};}['_createAni'+'mTargetFor'+'Property'](_0x44e258,_0x57da6f,_0x1c1d64){if(this['handlers']&&_0x57da6f[-0x13a*-0x11+0xfef*-0x1+-0x4eb]['startsWith']('weight.'))return this['handlers']['weight'](_0x44e258,_0x57da6f[-0x1d99*-0x1+-0x1*0x6a1+0x62*-0x3c]['replace']('weight.',''));if(this['handlers']&&_0x57da6f[0x49b+0x1*0x1a20+-0x1ebb]==='material'&&_0x57da6f['length']===0x14a8+-0x1513+0x6d){const _0x8cda9c=_0x57da6f[0x1706+0x9c0+-0x20c5*0x1];if(_0x8cda9c['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x44e258,_0x8cda9c);}const _0x445b32=this['_resolvePa'+'th'](_0x44e258,_0x57da6f,!(0xab2+0x1f52+-0x2a04));if(typeof _0x445b32>'u')return null;let _0x15f36b,_0x254662,_0x1403ef;if(typeof _0x445b32=='number')_0x15f36b=this['_setter'](_0x44e258,_0x57da6f,mi['_packFloat']),_0x254662='vector',_0x1403ef=-0x101a+-0x269*0x7+-0x3aa*-0x9;else{if(typeof _0x445b32=='boolean')_0x15f36b=this['_setter'](_0x44e258,_0x57da6f,mi['_packBoole'+'an']),_0x254662='vector',_0x1403ef=-0x469*0x4+0x1*-0x761+-0xc83*-0x2;else{if(typeof _0x445b32=='object')switch(_0x445b32['constructo'+'r']){case $:_0x15f36b=this['_setter'](_0x44e258,_0x57da6f,mi['_packVec2']),_0x254662='vector',_0x1403ef=-0xbac+-0x1d20*-0x1+0x4d*-0x3a;break;case T:_0x15f36b=this['_setter'](_0x44e258,_0x57da6f,mi['_packVec3']),_0x254662='vector',_0x1403ef=0x1891+-0x61*-0x2a+-0x46*0x94;break;case Q:_0x15f36b=this['_setter'](_0x44e258,_0x57da6f,mi['_packVec4']),_0x254662='vector',_0x1403ef=0x5*-0x1e9+-0x1*0x4cb+0xe5c;break;case Y:_0x15f36b=this['_setter'](_0x44e258,_0x57da6f,mi['_packColor']),_0x254662='vector',_0x1403ef=0x1*-0x1aec+0x1da3*0x1+0x2b3*-0x1;break;case se:_0x15f36b=this['_setter'](_0x44e258,_0x57da6f,mi['_packQuat']),_0x254662='quaternion',_0x1403ef=0x83+0x42*0x5a+-0x17b3;break;default:return null;}}}return _0x57da6f['indexOf']('material')!==-(0x17d6+0x109*-0x7+-0x182*0xb)?new Zu(_0x5d33b8=>{_0x15f36b(_0x5d33b8),_0x44e258['material']['update']();},_0x254662,_0x1403ef,_0x1c1d64):new Zu(_0x15f36b,_0x254662,_0x1403ef,_0x1c1d64);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x35037b={},_0x254b6d=function(_0x36c0e7){_0x35037b[_0x36c0e7['name']]=_0x36c0e7;for(let _0x343e76=0x102d+-0x1*0x1aa7+-0x3*-0x37e;_0x343e76<_0x36c0e7['children']['length'];++_0x343e76)_0x254b6d(_0x36c0e7['children'][_0x343e76]);};_0x254b6d(this['graph']),this['nodes']=_0x35037b;}}class $P{constructor(_0x5b1765,_0x50f456,_0x7212fe,_0x45a895=-0x13f9+-0x159*-0xa+0x680,_0x4916aa=X0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',-0x1630+-0x124+-0x1*-0x1754),c(this,'_blendTime'+'Elapsed',0x12d0+-0x2*-0x4bd+-0x2*0xe25),c(this,'_startingW'+'eight',-0x12bb+-0x78b+0x1a46),c(this,'_targetWei'+'ght',-0x2505+0xb*-0x199+0x3698),(this['_name']=_0x5b1765,this['_controlle'+'r']=_0x50f456,this['_component']=_0x7212fe,this['_weight']=_0x45a895,this['_blendType']=_0x4916aa);}get['name'](){return this['_name'];}set['playing'](_0x29f58c){this['_controlle'+'r']['playing']=_0x29f58c;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x572c97){const _0x9eeb8=this['_controlle'+'r'],_0x550912=_0x9eeb8['playing'];_0x9eeb8['playing']=!(-0x580+-0x145a+0x19da),_0x9eeb8['activeStat'+'eCurrentTi'+'me']=_0x572c97,_0x550912||_0x9eeb8['update'](-0x1aa9+-0x1007+-0x10*-0x2ab),_0x9eeb8['playing']=_0x550912;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x4ce811){this['_weight']=_0x4ce811,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x2796b9){_0x2796b9!==this['_blendType']&&(this['_blendType']=_0x2796b9,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x2b3da1){this['_controlle'+'r']['assignMask'](_0x2b3da1)&&this['_component']['rebind'](),this['_mask']=_0x2b3da1;}get['mask'](){return this['_mask'];}['play'](_0x14ad28){this['_controlle'+'r']['play'](_0x14ad28);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x7c80e5){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=N['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x7c80e5):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0xa51*-0x3+0xaba+-0x29ad,this['_blendTime'+'Elapsed']=0x157a+-0xb*0x8b+-0xf81,this['_startingW'+'eight']=0x4c4+0x409*0x9+-0x2915,this['_targetWei'+'ght']=-0xa48+0x5cb*-0x5+-0x11*-0x24f)),this['_controlle'+'r']['update'](_0x7c80e5);}['blendToWei'+'ght'](_0x235319,_0x35b8c5){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x235319,this['_blendTime']=Math['max'](-0x38*0x61+0x29*-0x8b+0x2b7b,_0x35b8c5),this['_blendTime'+'Elapsed']=-0x3d4+0x7ff+0x1*-0x42b;}['assignAnim'+'ation'](_0x408a04,_0x4bd360,_0x3a49db,_0x40779f){if(!(_0x4bd360 instanceof Ri)){v['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x408a04,_0x4bd360,_0x3a49db,_0x40779f),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x12*-0x1+-0x2177+-0x2165*-0x1&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Yh({'from':'START','to':_0x408a04})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(0x1a3*-0x2+0x1ce4+-0x199e));}['removeNode'+'Animations'](_0x27d64b){this['_controlle'+'r']['removeNode'+'Animations'](_0x27d64b)&&(this['_component']['playing']=!(0xade+0x69f*-0x1+-0x43e));}['getAnimati'+'onAsset'](_0x1e80ae){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x1e80ae];}['transition'](_0x102eba,_0x180c8e=-0x17f2+0x175d+0x95*0x1,_0x1d39ac=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Yh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x102eba,'time':_0x180c8e,'transitionOffset':_0x1d39ac}));}}class mh{constructor(_0x5bd0c9){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x5bd0c9['layers']))this['_layers']=_0x5bd0c9['layers'];else for(const _0x2ebaac in _0x5bd0c9['layers']){const _0x18c78a=_0x5bd0c9['layers'][_0x2ebaac],_0x528573={'name':_0x18c78a['name'],'blendType':_0x18c78a['blendType'],'weight':_0x18c78a['weight'],'states':[],'transitions':[]};for(let _0x3ee8c1=-0x2*0x78b+0x8b9+-0x21f*-0x3;_0x3ee8c1<_0x18c78a['states']['length'];_0x3ee8c1++)_0x528573['states']['push'](_0x5bd0c9['states'][_0x18c78a['states'][_0x3ee8c1]]);for(let _0x1d3652=-0x4c5+0x2024+-0x1b5f;_0x1d3652<_0x18c78a['transition'+'s']['length'];_0x1d3652++){const _0x50065=_0x5bd0c9['transition'+'s'][_0x18c78a['transition'+'s'][_0x1d3652]];if(_0x50065['conditions']&&!Array['isArray'](_0x50065['conditions'])){const _0x53cb10=Object['keys'](_0x50065['conditions']),_0x191f21=[];for(let _0x3c10ef=-0x97a+-0x4*0x4d6+-0x41e*-0x7;_0x3c10ef<_0x53cb10['length'];_0x3c10ef++){const _0x52dc4c=_0x50065['conditions'][_0x53cb10[_0x3c10ef]];_0x52dc4c['parameterN'+'ame']&&_0x191f21['push'](_0x52dc4c);}_0x50065['conditions']=_0x191f21;}Number['isInteger'](_0x50065['from'])&&(_0x50065['from']=_0x5bd0c9['states'][_0x50065['from']]['name']),Number['isInteger'](_0x50065['to'])&&(_0x50065['to']=_0x5bd0c9['states'][_0x50065['to']]['name']),_0x528573['transition'+'s']['push'](_0x50065);}this['_layers']['push'](_0x528573);}for(const _0x10d380 in _0x5bd0c9['parameters']){const _0x260da5=_0x5bd0c9['parameters'][_0x10d380];this['_parameter'+'s'][_0x260da5['name']]={'type':_0x260da5['type'],'value':_0x260da5['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Z0 extends ue{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',0x899+0x1b*0x144+-0x2ac4),c(this,'_activate',!(0x1*0x22d4+-0x8ca+-0x1a0a)),c(this,'_playing',!(-0x20dc+-0x428+-0x1b*-0x15f)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(-0xccc+0x1507+0x15f*-0x6)),c(this,'findParame'+'ter',_0x78234e=>this['_parameter'+'s'][_0x78234e]),c(this,'consumeTri'+'gger',_0x5b7613=>{this['_consumedT'+'riggers']['add'](_0x5b7613);});}set['stateGraph'+'Asset'](_0x105a70){if(_0x105a70===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x24df5f,_0x5a598e;_0x105a70 instanceof le?(_0x24df5f=_0x105a70['id'],_0x5a598e=this['system']['app']['assets']['get'](_0x24df5f),_0x5a598e||(this['system']['app']['assets']['add'](_0x105a70),_0x5a598e=this['system']['app']['assets']['get'](_0x24df5f))):(_0x24df5f=_0x105a70,_0x5a598e=this['system']['app']['assets']['get'](_0x24df5f)),!(!_0x5a598e||this['_stateGrap'+'hAsset']===_0x24df5f)&&(_0x5a598e['resource']?(this['_stateGrap'+'h']=_0x5a598e['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x5a598e['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x5a598e['once']('load',_0x32d8f9=>{this['_stateGrap'+'h']=_0x32d8f9['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x5a598e['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x5a598e)),this['_stateGrap'+'hAsset']=_0x24df5f);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x1ee697){this['_normalize'+'Weights']=_0x1ee697,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x268825){this['_animation'+'Assets']=_0x268825,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x164dd9){this['_speed']=_0x164dd9;}get['speed'](){return this['_speed'];}set['activate'](_0x34d355){this['_activate']=_0x34d355;}get['activate'](){return this['_activate'];}set['playing'](_0x19ac7c){this['_playing']=_0x19ac7c;}get['playing'](){return this['_playing'];}set['rootBone'](_0x4f0f90){if(typeof _0x4f0f90=='string'){const _0x4cb1c8=this['entity']['root']['findByGuid'](_0x4f0f90);v['assert'](_0x4cb1c8,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x4f0f90+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x4cb1c8;}else _0x4f0f90 instanceof $e?this['_rootBone']=_0x4f0f90:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x462bc4){this['_stateGrap'+'h']=_0x462bc4;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x9f94fd){this['_layerIndi'+'ces']=_0x9f94fd;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x22464e){this['_parameter'+'s']=_0x22464e;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x3cae3c){this['_targets']=_0x3cae3c;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x597d95=-0xae*-0x1+0x1143+-0x3*0x5fb;_0x597d95<this['_layers']['length'];_0x597d95++)if(!this['_layers'][_0x597d95]['playable'])return!(0x1477+0x1d*-0x13b+0x513*0x3);return!(0x399+-0x9c0*0x4+0x2367);}get['baseLayer'](){return this['_layers']['length']>-0x1*0xffd+-0xeb*-0xc+0x4f9?this['_layers'][0x125a+0x5*-0x41b+-0x1*-0x22d]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x2f3d6a){const _0x2344f5=this['animationA'+'ssets'],_0x4b5750=this['layers']['map'](_0x462280=>_0x462280['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new mh(_0x2f3d6a['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x2344f5,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x164e1f,_0x4d1354)=>{_0x164e1f['mask']=_0x4b5750[_0x4d1354];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x45d7b4=Object['values'](this['_targets']);for(let _0x1a15fb=0x236b*0x1+-0x335*-0x9+-0x4048;_0x1a15fb<_0x45d7b4['length'];_0x1a15fb++)_0x45d7b4[_0x1a15fb]['dirty']=!(-0x1bb8+0x495+0x1723);}['_addLayer']({name:_0x57b4f5,states:_0x1947e2,transitions:_0x1d986e,weight:_0x4f5730,mask:_0x35ec1b,blendType:_0x1c4b8f}){let _0x9f73e6;this['rootBone']?_0x9f73e6=this['rootBone']:_0x9f73e6=this['entity'];const _0x4301da=this['_layers']['length'],_0x67587a=new mi(this,_0x9f73e6,_0x57b4f5,_0x35ec1b,_0x4301da),_0x2fd8b4=new j0(_0x67587a),_0x483568=new HP(_0x2fd8b4,_0x1947e2,_0x1d986e,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new $P(_0x57b4f5,_0x483568,this,_0x4f5730,_0x1c4b8f)),this['_layerIndi'+'ces'][_0x57b4f5]=_0x4301da,this['_layers'][_0x4301da];}['addLayer'](_0x2c38c3,_0x4a16f1,_0x4af786,_0x1a41f1){const _0x23be51=this['findAnimat'+'ionLayer'](_0x2c38c3);if(_0x23be51)return _0x23be51;const _0x516d55=[{'name':'START','speed':0x1}],_0x3f6e69=[];return this['_addLayer']({'name':_0x2c38c3,'states':_0x516d55,'transitions':_0x3f6e69,'weight':_0x4a16f1,'mask':_0x4af786,'blendType':_0x1a41f1});}['_assignPar'+'ameters'](_0x2a0002){this['_parameter'+'s']={};const _0x96f2f4=Object['keys'](_0x2a0002['parameters']);for(let _0x4cf578=-0x236a+-0x25ad+0x4917;_0x4cf578<_0x96f2f4['length'];_0x4cf578++){const _0x8c1902=_0x96f2f4[_0x4cf578];this['_parameter'+'s'][_0x8c1902]={'type':_0x2a0002['parameters'][_0x8c1902]['type'],'value':_0x2a0002['parameters'][_0x8c1902]['value']};}}['loadStateG'+'raph'](_0x1fbba7){this['_stateGrap'+'h']=_0x1fbba7,this['_assignPar'+'ameters'](_0x1fbba7),this['_layers']=[];let _0x33fffd=!(-0x3d8+0x2bb*-0xe+0x2a13*0x1);for(let _0x59a35c=0x59*0x25+0xf*-0x16+-0xb93;_0x59a35c<_0x1fbba7['layers']['length'];_0x59a35c++){const _0x5064b0=_0x1fbba7['layers'][_0x59a35c];this['_addLayer']({..._0x5064b0}),_0x5064b0['states']['some'](_0x2361f0=>_0x2361f0['blendTree'])&&(_0x33fffd=!(-0xd*-0x53+0x173c*-0x1+0x1305));}_0x33fffd||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x1b6d82=0x1a1e*-0x1+-0x6c3+0x20e1;_0x1b6d82<this['_layers']['length'];_0x1b6d82++){const _0x1b6385=this['_layers'][_0x1b6d82],_0x3cfb40=_0x1b6385['name'];for(let _0x4df714=-0x7d4+-0xd3*-0x16+-0xa4e;_0x4df714<_0x1b6385['states']['length'];_0x4df714++){const _0x309f68=_0x1b6385['states'][_0x4df714];if(jh['indexOf'](_0x309f68)===-(0x18cb+-0x1a2e+0x164)){const _0x214be2=_0x3cfb40+':'+_0x309f68;this['_animation'+'Assets'][_0x214be2]||(this['_animation'+'Assets'][_0x214be2]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x4d1438=0xd4a+0x351*0xb+-0x31c5;_0x4d1438<this['_layers']['length'];_0x4d1438++){const _0x1890c2=this['_layers'][_0x4d1438];for(let _0x349db4=-0x11*0x167+-0x24c1*-0x1+-0xcea;_0x349db4<_0x1890c2['states']['length'];_0x349db4++){const _0x2213c3=_0x1890c2['states'][_0x349db4];if(jh['indexOf'](_0x2213c3)!==-(-0x200*0x4+0x968+-0x167))continue;const _0x44fc05=this['_animation'+'Assets'][_0x1890c2['name']+':'+_0x2213c3];if(!_0x44fc05||!_0x44fc05['asset']){this['findAnimat'+'ionLayer'](_0x1890c2['name'])['assignAnim'+'ation'](_0x2213c3,Ri['EMPTY']);continue;}const _0x326f52=_0x44fc05['asset'],_0x486d17=this['system']['app']['assets']['get'](_0x326f52);_0x486d17&&(_0x486d17['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x1890c2['name'],_0x2213c3,_0x486d17):(_0x486d17['once']('load',function(_0x1588ed,_0x2ce8f2){return function(_0x5f076e){this['onAnimatio'+'nAssetLoad'+'ed'](_0x1588ed,_0x2ce8f2,_0x5f076e);}['bind'](this);}['bind'](this)(_0x1890c2['name'],_0x2213c3)),this['system']['app']['assets']['load'](_0x486d17)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x26895e,_0x3cede8,_0xbf40f){this['findAnimat'+'ionLayer'](_0x26895e)['assignAnim'+'ation'](_0x3cede8,_0xbf40f['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(0x1*-0x223+-0xbdb*-0x1+-0x9b7),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x4998ab=0x43*0x1+-0x1*-0x2285+-0x22c8;_0x4998ab<this['_layers']['length'];_0x4998ab++){const _0xd07c59=this['_layers'][_0x4998ab]['playing'];this['_layers'][_0x4998ab]['reset'](),this['_layers'][_0x4998ab]['playing']=_0xd07c59;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0xd9ed70=>{this['_targets'][_0xd9ed70]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x5c5b0c=0x1*0x163+-0xe3f+-0x66e*-0x2;_0x5c5b0c<this['_layers']['length'];_0x5c5b0c++)this['_layers'][_0x5c5b0c]['rebind']();}['findAnimat'+'ionLayer'](_0x46c1e7){const _0x865f6d=this['_layerIndi'+'ces'][_0x46c1e7];return this['_layers'][_0x865f6d]||null;}['addAnimati'+'onState'](_0x58946f,_0x205fa7,_0x18b47e=0xbb*-0x8+-0x1abf+0x2098,_0x5ae043=!(0x3*-0x5ab+-0x788*-0x2+0x1f1),_0x10eab9='Base'){var _0xb0e41e;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new mh({'layers':[{'name':_0x10eab9,'states':[{'name':'START','speed':0x1},{'name':_0x58946f,'speed':_0x18b47e,'loop':_0x5ae043,'defaultState':!(-0x34a+0xe3+0xcd*0x3)}],'transitions':[{'from':'START','to':_0x58946f}]}],'parameters':{}}));const _0x412f25=this['findAnimat'+'ionLayer'](_0x10eab9);_0x412f25?_0x412f25['assignAnim'+'ation'](_0x58946f,_0x205fa7,_0x18b47e,_0x5ae043):(_0xb0e41e=this['addLayer'](_0x10eab9))==null||_0xb0e41e['assignAnim'+'ation'](_0x58946f,_0x205fa7,_0x18b47e,_0x5ae043);}['assignAnim'+'ation'](_0x3d5e1e,_0x1fb22d,_0x9e513b,_0x1417c0=-0x22cf+0x771*-0x2+-0x1*-0x31b2,_0xf3a4fe=!(0x9*0x1b1+-0x10*0x2+-0x305*0x5)){if(!this['_stateGrap'+'h']&&_0x3d5e1e['indexOf']('.')===-(-0x269b+0x20e0+0x5bc)){this['loadStateG'+'raph'](new mh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x3d5e1e,'speed':_0x1417c0,'loop':_0xf3a4fe,'defaultState':!(-0x3bb+-0x1728+0x1ae3)}],'transitions':[{'from':'START','to':_0x3d5e1e}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x3d5e1e,_0x1fb22d);return;}const _0x919891=_0x9e513b?this['findAnimat'+'ionLayer'](_0x9e513b):this['baseLayer'];if(!_0x919891){v['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x919891['assignAnim'+'ation'](_0x3d5e1e,_0x1fb22d,_0x1417c0,_0xf3a4fe);}['removeNode'+'Animations'](_0x28558e,_0x4b24dd){const _0x1c8b7c=_0x4b24dd?this['findAnimat'+'ionLayer'](_0x4b24dd):this['baseLayer'];if(!_0x1c8b7c){v['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x1c8b7c['removeNode'+'Animations'](_0x28558e);}['getParamet'+'erValue'](_0xa23dce,_0x51ee7d){const _0x2935b5=this['_parameter'+'s'][_0xa23dce];if(_0x2935b5&&_0x2935b5['type']===_0x51ee7d)return _0x2935b5['value'];v['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0xa23dce+('\x22\x20of\x20type\x20'+'\x22')+_0x51ee7d+'\x22');}['setParamet'+'erValue'](_0x39515d,_0x18db56,_0x2d60bd){const _0x53b283=this['_parameter'+'s'][_0x39515d];if(_0x53b283&&_0x53b283['type']===_0x18db56){_0x53b283['value']=_0x2d60bd;return;}v['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x39515d+('\x22\x20of\x20type\x20'+'\x22')+_0x18db56+'\x22');}['getFloat'](_0x1c32e8){return this['getParamet'+'erValue'](_0x1c32e8,Q_);}['setFloat'](_0x1e62a2,_0x5dd868){this['setParamet'+'erValue'](_0x1e62a2,Q_,_0x5dd868);}['getInteger'](_0x274982){return this['getParamet'+'erValue'](_0x274982,Z_);}['setInteger'](_0x217efb,_0x1274a1){typeof _0x1274a1=='number'&&_0x1274a1%(0x1*0x1b91+-0x139*-0x1+0x1cc9*-0x1)===0x1e41*0x1+0x3*0xbdb+-0x41d2?this['setParamet'+'erValue'](_0x217efb,Z_,_0x1274a1):v['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x217efb,_0x1274a1);}['getBoolean'](_0x4022dd){return this['getParamet'+'erValue'](_0x4022dd,J_);}['setBoolean'](_0x168b9c,_0x5ccdd5){this['setParamet'+'erValue'](_0x168b9c,J_,!!_0x5ccdd5);}['getTrigger'](_0x558fb7){return this['getParamet'+'erValue'](_0x558fb7,ph);}['setTrigger'](_0x59fd8f,_0x2eab4f=!(0xe5e+0x6*0x11f+0x1517*-0x1)){this['setParamet'+'erValue'](_0x59fd8f,ph,!(-0x22b5+-0x2550+0x1*0x4805)),_0x2eab4f&&this['_consumedT'+'riggers']['add'](_0x59fd8f);}['resetTrigg'+'er'](_0x161120){this['setParamet'+'erValue'](_0x161120,ph,!(0x1728+-0xc8d+-0xa9a));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x48d35d){for(let _0xcdfa80=0x39*0x87+0x7e7+-0x25f6;_0xcdfa80<this['layers']['length'];_0xcdfa80++)this['layers'][_0xcdfa80]['update'](_0x48d35d*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x2a41a1=>{this['parameters'][_0x2a41a1]['value']=!(0x9*0x1ee+-0xeda+0x283*-0x1);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1f8763,_0xe21ecc){_0x1f8763['rootBone']&&_0xe21ecc[_0x1f8763['rootBone']['getGuid']()]?this['rootBone']=_0xe21ecc[_0x1f8763['rootBone']['getGuid']()]:this['rebind']();}}class WP{constructor(){this['enabled']=!(-0xe*-0xf0+-0x18c9+0xba9);}}const tf=['enabled'];class qP extends Xe{constructor(_0x29a0c4){super(_0x29a0c4),this['id']='anim',this['ComponentT'+'ype']=Z0,this['DataType']=WP,this['schema']=tf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x34aa86,_0x402ea8,_0x4ff268){super['initialize'+'ComponentD'+'ata'](_0x34aa86,_0x402ea8,tf);const _0x2154b6=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x402ea8)['forEach'](_0x5a84a7=>{_0x2154b6['includes'](_0x5a84a7)||(_0x34aa86[_0x5a84a7]=_0x402ea8[_0x5a84a7]);}),_0x402ea8['stateGraph']&&(_0x34aa86['stateGraph']=_0x402ea8['stateGraph'],_0x34aa86['loadStateG'+'raph'](_0x34aa86['stateGraph'])),_0x402ea8['layers']&&_0x402ea8['layers']['forEach']((_0x20fdb3,_0x13562c)=>{_0x20fdb3['_controlle'+'r']['states']['forEach'](_0x1a2ea1=>{_0x20fdb3['_controlle'+'r']['_states'][_0x1a2ea1]['_animation'+'List']['forEach'](_0x49e44e=>{if(!_0x49e44e['animTrack']||_0x49e44e['animTrack']===Ri['EMPTY']){const _0x4608f6=this['app']['assets']['get'](_0x20fdb3['_component']['_animation'+'Assets'][_0x20fdb3['name']+':'+_0x49e44e['name']]['asset']);_0x4608f6&&!_0x4608f6['loaded']&&_0x4608f6['once']('load',()=>{_0x34aa86['layers'][_0x13562c]['assignAnim'+'ation'](_0x49e44e['name'],_0x4608f6['resource']);});}else _0x34aa86['layers'][_0x13562c]['assignAnim'+'ation'](_0x49e44e['name'],_0x49e44e['animTrack']);});});}),_0x402ea8['animationA'+'ssets']&&(_0x34aa86['animationA'+'ssets']=Object['assign'](_0x34aa86['animationA'+'ssets'],_0x402ea8['animationA'+'ssets'])),_0x402ea8['masks']&&Object['keys'](_0x402ea8['masks'])['forEach'](_0x4670b6=>{if(_0x34aa86['layers'][_0x4670b6]){const _0x424bac=_0x402ea8['masks'][_0x4670b6]['mask'],_0x33c068={};Object['keys'](_0x424bac)['forEach'](_0x5dc867=>{_0x33c068[decodeURI(_0x5dc867)]=_0x424bac[_0x5dc867];}),_0x34aa86['layers'][_0x4670b6]['mask']=_0x33c068;}});}['onAnimatio'+'nUpdate'](_0x3e22c7){const _0x8c1957=this['store'];for(const _0x5c30bd in _0x8c1957)if(_0x8c1957['hasOwnProp'+'erty'](_0x5c30bd)){const _0x1e0916=_0x8c1957[_0x5c30bd]['entity']['anim'];_0x1e0916['data']['enabled']&&_0x1e0916['entity']['enabled']&&_0x1e0916['playing']&&_0x1e0916['update'](_0x3e22c7);}}['cloneCompo'+'nent'](_0x5c90aa,_0x3b2180){let _0x2e0a6b;(!_0x5c90aa['anim']['rootBone']||_0x5c90aa['anim']['rootBone']===_0x5c90aa)&&(_0x2e0a6b={},_0x5c90aa['anim']['layers']['forEach']((_0x48527d,_0x3457c5)=>{if(_0x48527d['mask']){const _0x51392d={};Object['keys'](_0x48527d['mask'])['forEach'](_0x54e47c=>{const _0x127326=_0x54e47c['split']('/');_0x127326['shift']();const _0x469dfd=[_0x3b2180['name'],..._0x127326]['join']('/');_0x51392d[_0x469dfd]=_0x48527d['mask'][_0x54e47c];}),_0x2e0a6b[_0x3457c5]={'mask':_0x51392d};}}));const _0x8a968b={'enabled':_0x5c90aa['anim']['enabled'],'stateGraphAsset':_0x5c90aa['anim']['stateGraph'+'Asset'],'animationAssets':_0x5c90aa['anim']['animationA'+'ssets'],'speed':_0x5c90aa['anim']['speed'],'activate':_0x5c90aa['anim']['activate'],'playing':_0x5c90aa['anim']['playing'],'rootBone':_0x5c90aa['anim']['rootBone'],'stateGraph':_0x5c90aa['anim']['stateGraph'],'layers':_0x5c90aa['anim']['layers'],'layerIndices':_0x5c90aa['anim']['layerIndic'+'es'],'parameters':_0x5c90aa['anim']['parameters'],'normalizeWeights':_0x5c90aa['anim']['normalizeW'+'eights'],'masks':_0x2e0a6b};return this['addCompone'+'nt'](_0x3b2180,_0x8a968b);}['onBeforeRe'+'move'](_0x3def4b,_0x34e4e1){_0x34e4e1['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}ue['_buildAcce'+'ssors'](Z0['prototype'],tf);class Q0 extends ue{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x29e847=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x29e847);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class XP{constructor(){this['enabled']=!(-0xa9b+-0x1efd+-0x16*-0x1e4);}}const J0=['enabled'];class jP extends Xe{constructor(_0x18a769){super(_0x18a769),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Q0,this['DataType']=XP,this['schema']=J0,this['manager']=_0x18a769['soundManag'+'er'],v['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4e7c48,_0x5f305f,_0x2175df){_0x2175df=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x4e7c48,_0x5f305f,_0x2175df);}['onUpdate'](_0x40e8a9){if(this['current']){const _0x3c2b4e=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x3c2b4e);const _0x43f56f=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x43f56f);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Q0['prototype'],J0);const sf=0x6da+-0xf27*0x1+-0x19*-0x55,tg=-0x1*-0x22de+0x587+-0x2864,_h='group',rf='image',ex='text',gh='stretch',YP='contain',KP='cover',Ye={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},hl={};hl[Ye['DEFAULT']]='_defaultTi'+'nt',hl[Ye['HOVER']]='hoverTint',hl[Ye['PRESSED']]='pressedTin'+'t',hl[Ye['INACTIVE']]='inactiveTi'+'nt';const cl={};cl[Ye['DEFAULT']]='_defaultSp'+'riteAsset',cl[Ye['HOVER']]='hoverSprit'+'eAsset',cl[Ye['PRESSED']]='pressedSpr'+'iteAsset',cl[Ye['INACTIVE']]='inactiveSp'+'riteAsset';const dl={};dl[Ye['DEFAULT']]='_defaultSp'+'riteFrame',dl[Ye['HOVER']]='hoverSprit'+'eFrame',dl[Ye['PRESSED']]='pressedSpr'+'iteFrame',dl[Ye['INACTIVE']]='inactiveSp'+'riteFrame';class ct extends ue{constructor(_0x27f505,_0x378e80){super(_0x27f505,_0x378e80),c(this,'_visualSta'+'te',Ye['DEFAULT']),c(this,'_isHoverin'+'g',!(0x2230*0x1+-0x10b+0x15*-0x194)),c(this,'_hoveringC'+'ounter',0x1*0x55a+-0x15f9+0x109f),c(this,'_isPressed',!(0x75f+-0x1cf0+0x1592)),c(this,'_defaultTi'+'nt',new Y(0x3*-0x650+-0xa*-0x163+-0x1b1*-0x3,-0x20b9*0x1+0x575+-0x27*-0xb3,0x1209+-0x8e2+-0x926,-0x649*-0x5+0x1ec5+0x57*-0xb7)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',-0x1b5d+-0x19a3+0x3500),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Ye['DEFAULT'],this['_isHoverin'+'g']=!(-0x15*0x13e+-0x1823*0x1+0x323a),this['_hoveringC'+'ounter']=-0x1*0x2269+0x18d*0xe+-0x1*-0xcb3,this['_isPressed']=!(0x2490+-0xa9*-0x32+-0x4591),this['_defaultTi'+'nt']=new Y(0x3af*-0x3+0x20f3+0x13*-0x127,-0x20d8+0x1792+0x947,0x213d+0x808+-0x2944,-0x47*-0x3b+0x2b*-0x79+-0x23*-0x1d),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x2cb*-0x9+0xcf2+0x2615*-0x1,this['_toggleLif'+'ecycleList'+'eners']('on',_0x27f505));}get['data'](){const _0x461d13=this['system']['store'][this['entity']['getGuid']()];return _0x461d13?_0x461d13['data']:null;}set['enabled'](_0x196616){this['_setValue']('enabled',_0x196616);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x5bd152){this['_setValue']('active',_0x5bd152);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x2db288){if(this['_imageEnti'+'ty']!==_0x2db288){const _0x23ed82=typeof _0x2db288=='string';if(this['_imageEnti'+'ty']&&_0x23ed82&&this['_imageEnti'+'ty']['getGuid']()===_0x2db288)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x2db288 instanceof De?this['_imageEnti'+'ty']=_0x2db288:_0x23ed82?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x2db288)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x23ed82&&_0x2db288&&(this['data']['imageEntit'+'y']=_0x2db288);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x916cc6){this['_setValue']('hitPadding',_0x916cc6);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x2674cb){this['_setValue']('transition'+'Mode',_0x2674cb);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x66a7d1){this['_setValue']('hoverTint',_0x66a7d1);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x8f27a6){this['_setValue']('pressedTin'+'t',_0x8f27a6);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x2e86f8){this['_setValue']('inactiveTi'+'nt',_0x2e86f8);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x4eb1a5){this['_setValue']('fadeDurati'+'on',_0x4eb1a5);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x38d27e){this['_setValue']('hoverSprit'+'eAsset',_0x38d27e);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x3fc00c){this['_setValue']('hoverSprit'+'eFrame',_0x3fc00c);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x599508){this['_setValue']('pressedSpr'+'iteAsset',_0x599508);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x22700a){this['_setValue']('pressedSpr'+'iteFrame',_0x22700a);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x4e98e1){this['_setValue']('inactiveSp'+'riteAsset',_0x4e98e1);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x46b315){this['_setValue']('inactiveSp'+'riteFrame',_0x46b315);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x32db1e,_0x4a83ad){const _0x5bdd30=this['data'],_0x5c53c1=_0x5bdd30[_0x32db1e];_0x5bdd30[_0x32db1e]=_0x4a83ad,this['fire']('set',_0x32db1e,_0x5c53c1,_0x4a83ad);}['_toggleLif'+'ecycleList'+'eners'](_0x3d8213,_0x57f7c6){var _0x3a2ff2;this[_0x3d8213]('set_active',this['_onSetActi'+'ve'],this),this[_0x3d8213]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x3d8213]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3d8213]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3d8213]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3d8213]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3d8213]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3d8213]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3d8213]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3d8213]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x3d8213]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x3d8213==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x3a2ff2=this['_evtElemen'+'tAdd'])==null||_0x3a2ff2['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x3d4e89,_0x58b548,_0x1b91fe){_0x58b548!==_0x1b91fe&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x118d3a,_0x301c43,_0x58c77c){_0x301c43!==_0x58c77c&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x301c43),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x52ae69,_0x14af0c,_0x428a91){_0x14af0c!==_0x428a91&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0xd5000e,_0x494a0e;(_0xd5000e=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0xd5000e['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x494a0e=this['_imageEnti'+'ty'])!=null&&_0x494a0e['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x565238=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x565238['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x565238['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x565238['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x565238['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x565238['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x149652,_0x5f076a,_0x5a7127,_0x23cbe9,_0x467462;(_0x149652=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x149652['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x5f076a=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x5f076a['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x5a7127=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x5a7127['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x23cbe9=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x23cbe9['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x467462=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x467462['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x333f23){if(this['entity']['element']){const _0x632654=_0x333f23==='on';if(_0x632654&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x333f23]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x333f23]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x333f23]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x333f23]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x333f23]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x333f23]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x333f23]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x333f23]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x333f23]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x333f23]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x333f23]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x333f23]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x333f23]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x333f23]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x632654;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x38a2de;const _0x194b37=(_0x38a2de=this['_imageEnti'+'ty'])==null?void(0x2244+0xd*0xa4+-0x2a98):_0x38a2de['element'];!_0x194b37||_0x194b37['type']===_h||(this['_storeDefa'+'ultColor'](_0x194b37['color']),this['_storeDefa'+'ultOpacity'](_0x194b37['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x194b37['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x194b37['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x215e16){this['_defaultTi'+'nt']['r']=_0x215e16['r'],this['_defaultTi'+'nt']['g']=_0x215e16['g'],this['_defaultTi'+'nt']['b']=_0x215e16['b'];}['_storeDefa'+'ultOpacity'](_0x3de4eb){this['_defaultTi'+'nt']['a']=_0x3de4eb;}['_storeDefa'+'ultSpriteA'+'sset'](_0x16a1e5){this['_defaultSp'+'riteAsset']=_0x16a1e5;}['_storeDefa'+'ultSpriteF'+'rame'](_0x3a34ce){this['_defaultSp'+'riteFrame']=_0x3a34ce;}['_onSetColo'+'r'](_0x104624){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x104624),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0xc0e6ee){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0xc0e6ee),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x1b1287){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x1b1287),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x9bf63c){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x9bf63c),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0xa7b7c){this['_isHoverin'+'g']=!(0x11e0+0x25f5+-0x37d5),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0xa7b7c);}['_onMouseLe'+'ave'](_0x127eb2){this['_isHoverin'+'g']=!(-0x1c05+-0x1f1e+0x3b24),this['_isPressed']=!(-0x1382+0x105*0x5+0xe6a),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x127eb2);}['_onMouseDo'+'wn'](_0x3536e3){this['_isPressed']=!(0x2*-0x108f+0x2d*-0x1d+0x2637),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x3536e3);}['_onMouseUp'](_0x4ed23e){this['_isPressed']=!(-0x110+0x1*0x14e3+-0x13d2),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x4ed23e);}['_onTouchSt'+'art'](_0x5b78ed){this['_isPressed']=!(0x1*-0x1e5d+-0xc09+0x2a66),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x5b78ed);}['_onTouchEn'+'d'](_0x432874){_0x432874['event']['preventDef'+'ault'](),this['_isPressed']=!(0x172f+-0x72*0x19+-0xc0c),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x432874);}['_onTouchLe'+'ave'](_0x445658){this['_isPressed']=!(0x7a*0x4f+0x20c5+-0x1*0x466a),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x445658);}['_onTouchCa'+'ncel'](_0x2ba45d){this['_isPressed']=!(0x8db*0x1+-0x1059+0x77f),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x2ba45d);}['_onSelectS'+'tart'](_0x48eb08){this['_isPressed']=!(0x8e*0x13+0x1bd+-0xc47),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x48eb08);}['_onSelectE'+'nd'](_0x4465af){this['_isPressed']=!(-0x1ac7+-0x665*-0x1+-0x1463*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x4465af);}['_onSelectE'+'nter'](_0x1f3d4d){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0x1058+-0x21f5*-0x1+-0x324c&&(this['_isHoverin'+'g']=!(-0x1865+0x29*0x6d+0x1*0x6f0),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x1f3d4d);}['_onSelectL'+'eave'](_0x38dea9){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0x5c9*0x4+-0x2d*-0x29+-0x1e59&&(this['_isHoverin'+'g']=!(0xf01+0x1*0x210d+-0x300d),this['_isPressed']=!(0xe08*0x1+0x39*-0x83+0xf24),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x38dea9);}['_onClick'](_0x2d501b){this['_fireIfAct'+'ive']('click',_0x2d501b);}['_fireIfAct'+'ive'](_0x20e613,_0x302eb2){this['data']['active']&&this['fire'](_0x20e613,_0x302eb2);}['_updateVis'+'ualState'](_0x495c35){const _0x164350=this['_visualSta'+'te'],_0x560f55=this['_determine'+'VisualStat'+'e']();if((_0x164350!==_0x560f55||_0x495c35)&&this['enabled'])switch(this['_visualSta'+'te']=_0x560f55,_0x164350===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x164350===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x560f55===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x560f55===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case sf:{const _0x40d778=hl[this['_visualSta'+'te']],_0x735d5b=this[_0x40d778];this['_applyTint'](_0x735d5b);break;}case tg:{const _0x6c1799=cl[this['_visualSta'+'te']],_0xf6ba9b=dl[this['_visualSta'+'te']],_0x4a9fb3=this[_0x6c1799],_0x2159e4=this[_0xf6ba9b];this['_applySpri'+'te'](_0x4a9fb3,_0x2159e4);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x1c93*0x1+0x1d4a+-0xb7));}['_resetToDe'+'faultVisua'+'lState'](_0x5cc9db){var _0x45a641;if((_0x45a641=this['_imageEnti'+'ty'])!=null&&_0x45a641['element'])switch(_0x5cc9db){case sf:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case tg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Ye['PRESSED'];if(this['_isHoverin'+'g'])return Ye['HOVER'];}else return Ye['INACTIVE'];return Ye['DEFAULT'];}['_applySpri'+'te'](_0x169e4a,_0x15e94f){var _0x389cc6;const _0x4581d2=(_0x389cc6=this['_imageEnti'+'ty'])==null?void(-0xe8+-0x994*-0x2+-0x1*0x1240):_0x389cc6['element'];_0x4581d2&&(_0x15e94f=_0x15e94f||-0x5*0x3dd+-0xe5*0x1b+0x2b78,this['_isApplyin'+'gSprite']=!(-0xdc0+-0x56b*0x1+0x132b),_0x4581d2['spriteAsse'+'t']!==_0x169e4a&&(_0x4581d2['spriteAsse'+'t']=_0x169e4a),_0x4581d2['spriteFram'+'e']!==_0x15e94f&&(_0x4581d2['spriteFram'+'e']=_0x15e94f),this['_isApplyin'+'gSprite']=!(0x67d+0x1d6f+-0x1*0x23eb));}['_applyTint'](_0x55a4fc){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x3fd+-0xebf+-0x396*-0x3?this['_applyTint'+'Immediatel'+'y'](_0x55a4fc):this['_applyTint'+'WithTween'](_0x55a4fc);}['_applyTint'+'Immediatel'+'y'](_0x377cc8){var _0x2fc389;const _0x5e9778=(_0x2fc389=this['_imageEnti'+'ty'])==null?void(-0x1925*0x1+0x147d+-0x4a8*-0x1):_0x2fc389['element'];if(!_0x377cc8||!_0x5e9778||_0x5e9778['type']===_h)return;const _0x49377a=sg(_0x377cc8);this['_isApplyin'+'gTint']=!(0x1339+0xf18+-0xfb*0x23),_0x49377a['equals'](_0x5e9778['color'])||(_0x5e9778['color']=_0x49377a),_0x5e9778['opacity']!==_0x377cc8['a']&&(_0x5e9778['opacity']=_0x377cc8['a']),this['_isApplyin'+'gTint']=!(0x2276+0x16a3+-0x4*0xe46);}['_applyTint'+'WithTween'](_0x25d098){var _0x2937be;const _0x52003e=(_0x2937be=this['_imageEnti'+'ty'])==null?void(0x1a70+0x1*-0x263b+0x1*0xbcb):_0x2937be['element'];if(!_0x25d098||!_0x52003e||_0x52003e['type']===_h)return;const _0x56a8f4=sg(_0x25d098),_0x13778e=_0x52003e['color'],_0x572da5=_0x52003e['opacity'];_0x56a8f4['equals'](_0x13778e)&&_0x25d098['a']===_0x572da5||(this['_tweenInfo']={'startTime':ne(),'from':new Y(_0x13778e['r'],_0x13778e['g'],_0x13778e['b'],_0x572da5),'to':_0x25d098['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0x1b0dff=ne()-this['_tweenInfo']['startTime'];let _0x5105d0=this['fadeDurati'+'on']===0x5b*0x41+-0x1d21*0x1+0x606?-0x415+-0x674+0xa8a:_0x1b0dff/this['fadeDurati'+'on'];if(_0x5105d0=N['clamp'](_0x5105d0,0x2408+-0x1db8+-0x650,-0x1*-0x1d71+0x1174+0x2ee4*-0x1),Math['abs'](_0x5105d0-(0x8b2+-0x1*-0xf31+-0x17e2))>0x1de9+0x2*0x694+-0x3*0xe5b+0.00001){const _0x5f3dd4=this['_tweenInfo']['lerpColor'];_0x5f3dd4['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x5105d0),this['_applyTint'+'Immediatel'+'y'](new Y(_0x5f3dd4['r'],_0x5f3dd4['g'],_0x5f3dd4['b'],_0x5f3dd4['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0x4f*0x7b+-0x2455*0x1+-0x19f),this['_hoveringC'+'ounter']=-0x70+0x5*-0x31+0x165,this['_isPressed']=!(-0x2592+0x1*-0x169b+0x3c2e),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x205ece,_0x49365e){_0x205ece['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x49365e[_0x205ece['imageEntit'+'y']['getGuid']()]);}}c(ct,'EVENT_MOUS'+'EDOWN','mousedown'),c(ct,'EVENT_MOUS'+'EUP','mouseup'),c(ct,'EVENT_MOUS'+'EENTER','mouseenter'),c(ct,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(ct,'EVENT_CLIC'+'K','click'),c(ct,'EVENT_TOUC'+'HSTART','touchstart'),c(ct,'EVENT_TOUC'+'HEND','touchend'),c(ct,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(ct,'EVENT_TOUC'+'HLEAVE','touchleave'),c(ct,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ct,'EVENT_SELE'+'CTEND','selectend'),c(ct,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(ct,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(ct,'EVENT_HOVE'+'RSTART','hoverstart'),c(ct,'EVENT_HOVE'+'REND','hoverend'),c(ct,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(ct,'EVENT_PRES'+'SEDEND','pressedend');function sg(_0x206314){return new Y(_0x206314['r'],_0x206314['g'],_0x206314['b']);}class ZP{constructor(){this['enabled']=!(0x13aa+-0x1*-0x3d6+-0x1780),this['active']=!(0x4db*-0x2+-0xee8+0x189e),this['imageEntit'+'y']=null,this['hitPadding']=new Q(),this['transition'+'Mode']=sf,this['hoverTint']=new Y(-0x3*-0x7af+0x893*-0x2+-0x5e7+0.75,-0x1c4d+0x3*-0xcd9+0x42d8+0.75,0x1fa3+0x5ed+-0x2590+0.75),this['pressedTin'+'t']=new Y(-0x3c5+0x1*-0xeef+-0x214*-0x9+0.5,-0x795*-0x4+0x19c5*-0x1+-0x48f+0.5,-0x1155*0x1+0x1*-0x1cd+0x4f*0x3e+0.5),this['inactiveTi'+'nt']=new Y(0x1c61+-0x3a*-0x3c+0x5ff*-0x7+0.25,-0x1e01*-0x1+-0xd9e+-0x1063+0.25,0x3ea+0x9*-0x112+-0x3d*-0x18+0.25),this['fadeDurati'+'on']=-0xb7f+0x4f8+0x687*0x1,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=-0x1*-0x1cb2+-0x2180+0x4ce,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0x1*0x115+0x64d*-0x5+0x1e6c,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0xba6+0x61*-0xd+-0x6b9;}}const ig=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class QP extends Xe{constructor(_0x124f75){super(_0x124f75),this['id']='button',this['ComponentT'+'ype']=ct,this['DataType']=ZP,this['schema']=ig,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x210393,_0x446cff,_0x3e5db1){_0x210393['imageEntit'+'y']=_0x446cff['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x210393,_0x446cff,ig);}['onUpdate'](_0x193cd0){const _0x5ba079=this['store'];for(const _0x1f7bd1 in _0x5ba079){const _0x5aafb3=_0x5ba079[_0x1f7bd1]['entity'],_0x1c2fd5=_0x5aafb3['button'];_0x1c2fd5['enabled']&&_0x5aafb3['enabled']&&_0x1c2fd5['onUpdate']();}}['_onRemoveC'+'omponent'](_0x2ba74e,_0x1fb149){_0x1fb149['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const rg=new T(),ng=new se();class Yn extends ue{constructor(_0x5cc5ad,_0x3dc7fd){super(_0x5cc5ad,_0x3dc7fd),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(-0x15*0x1af+-0x1a8*0x3+-0x1d*-0x164)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x57d3f5=this['system']['store'][this['entity']['getGuid']()];return _0x57d3f5?_0x57d3f5['data']:null;}set['enabled'](_0x25ff47){this['_setValue']('enabled',_0x25ff47);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x362bf6){this['_setValue']('type',_0x362bf6);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x9b2643){this['_setValue']('halfExtent'+'s',_0x9b2643);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x4ed135){this['_setValue']('linearOffs'+'et',_0x4ed135);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x27e0e1){this['_setValue']('angularOff'+'set',_0x27e0e1);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x5e0a16){this['_setValue']('radius',_0x5e0a16);}get['radius'](){return this['data']['radius'];}set['axis'](_0x2d001c){this['_setValue']('axis',_0x2d001c);}get['axis'](){return this['data']['axis'];}set['height'](_0x5491ea){this['_setValue']('height',_0x5491ea);}get['height'](){return this['data']['height'];}set['asset'](_0x42b375){this['_setValue']('asset',_0x42b375);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x59b70c){this['_setValue']('renderAsse'+'t',_0x59b70c);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x3d2110){this['_setValue']('convexHull',_0x3d2110);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x2f66ec){this['_setValue']('shape',_0x2f66ec);}get['shape'](){return this['data']['shape'];}set['model'](_0x85fbaa){this['_setValue']('model',_0x85fbaa);}get['model'](){return this['data']['model'];}set['render'](_0x3f8746){this['_setValue']('render',_0x3f8746);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0xd23be2){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0xd23be2);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x220d35,_0x4ca1f8){const _0x36f65f=this['data'],_0x43be58=_0x36f65f[_0x220d35];_0x36f65f[_0x220d35]=_0x4ca1f8,this['fire']('set',_0x220d35,_0x43be58,_0x4ca1f8);}['onSetType'](_0x276665,_0x491de9,_0x324eb0){_0x491de9!==_0x324eb0&&this['system']['changeType'](this,_0x491de9,_0x324eb0);}['onSetHalfE'+'xtents'](_0x4ce53f,_0x5a4bf2,_0xf72da6){const _0x2a770b=this['data']['type'];this['data']['initialize'+'d']&&_0x2a770b==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x5b2244,_0x84b587,_0x5da9b5){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](T['ZERO'])||!this['data']['angularOff'+'set']['equals'](se['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x10e986,_0x23617d,_0x31e714){const _0x5dcaf2=this['data']['type'];this['data']['initialize'+'d']&&(_0x5dcaf2==='sphere'||_0x5dcaf2==='capsule'||_0x5dcaf2==='cylinder'||_0x5dcaf2==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x32e625,_0x33d7b6,_0x4e2bad){const _0x560a27=this['data']['type'];this['data']['initialize'+'d']&&(_0x560a27==='capsule'||_0x560a27==='cylinder'||_0x560a27==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x20ae47,_0x145e5c,_0x383d5b){const _0x4d09cd=this['data']['type'];this['data']['initialize'+'d']&&(_0x4d09cd==='capsule'||_0x4d09cd==='cylinder'||_0x4d09cd==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x496355,_0x48d947,_0x102769){const _0x5807f3=this['system']['app']['assets'];if(_0x48d947){const _0x3f5c8a=_0x5807f3['get'](_0x48d947);_0x3f5c8a&&_0x3f5c8a['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x102769){_0x102769 instanceof le&&(this['data']['asset']=_0x102769['id']);const _0x53ee15=_0x5807f3['get'](this['data']['asset']);_0x53ee15&&(_0x53ee15['off']('remove',this['onAssetRem'+'oved'],this),_0x53ee15['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x102769||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x4e4890,_0x289d88,_0x4c71d7){const _0x16caac=this['system']['app']['assets'];if(_0x289d88){const _0x52e80e=_0x16caac['get'](_0x289d88);_0x52e80e&&_0x52e80e['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x4c71d7){_0x4c71d7 instanceof le&&(this['data']['renderAsse'+'t']=_0x4c71d7['id']);const _0x42e466=_0x16caac['get'](this['data']['renderAsse'+'t']);_0x42e466&&(_0x42e466['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x42e466['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x4c71d7||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x382c6e,_0x52489b,_0x99859c){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x5cedcb,_0x5ddd21,_0x2b0c8c){this['onSetModel'](_0x5cedcb,_0x5ddd21,_0x2b0c8c);}['onAssetRem'+'oved'](_0x3f9baa){_0x3f9baa['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x3f9baa['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x5ea253){_0x5ea253['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x5ea253['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x31712e){const _0x991579=this['data']['shape'],_0x522430=_0x991579['getNumChil'+'dShapes']();for(let _0x20d108=0xbf*0x2a+0xce5*0x1+0x1*-0x2c3b;_0x20d108<_0x522430;_0x20d108++){const _0xa48a2e=_0x991579['getChildSh'+'ape'](_0x20d108);if(Ammo['getPointer'](_0xa48a2e)===Ammo['getPointer'](_0x31712e))return _0x20d108;}return null;}['_onInsert'](_0x575a86){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x4d3f9b=this['entity']['parent'];for(;_0x4d3f9b;){if(_0x4d3f9b['collision']&&_0x4d3f9b['collision']['type']==='compound'){_0x4d3f9b['collision']['shape']['getNumChil'+'dShapes']()===0x150d+-0xaf4*-0x3+-0x35e9?this['system']['recreatePh'+'ysicalShap'+'es'](_0x4d3f9b['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x4d3f9b=_0x4d3f9b['parent'];}}}}}['_updateCom'+'pound'](){const _0x2be092=this['entity'];if(_0x2be092['_dirtyWorl'+'d']){let _0x1b9f28=_0x2be092['_dirtyLoca'+'l'],_0x2ee9cb=_0x2be092;for(;_0x2ee9cb&&!_0x1b9f28&&!(_0x2ee9cb['collision']&&_0x2ee9cb['collision']===this['_compoundP'+'arent']);)_0x2ee9cb['_dirtyLoca'+'l']&&(_0x1b9f28=!(-0x1*0x583+-0x4f*0x5+0x387*0x2)),_0x2ee9cb=_0x2ee9cb['parent'];if(_0x1b9f28){_0x2be092['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x2be092);const _0x494df7=this['_compoundP'+'arent']['entity']['rigidbody'];_0x494df7&&_0x494df7['activate']();}}}['getShapePo'+'sition'](){const _0x12d63c=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x3d579c=this['entity']['getRotatio'+'n'](),_0x4ea993=this['data']['linearOffs'+'et'];return ng['copy'](_0x3d579c)['transformV'+'ector'](_0x4ea993,rg),rg['add'](_0x12d63c);}return _0x12d63c;}['getShapeRo'+'tation'](){const _0x1711ac=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ng['copy'](_0x1711ac)['mul'](this['data']['angularOff'+'set']):_0x1711ac;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x226154=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x226154&&(!_0x226154['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x375+0x10*-0x85+0xbc5)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x54dbc5=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x54dbc5,this['data']['shape']),Ammo['destroy'](_0x54dbc5),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Yn,'EVENT_CONT'+'ACT','contact'),c(Yn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Yn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Yn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Yn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class JP{constructor(){this['enabled']=!(0x2401+0x1e14+-0x3*0x1607),this['type']='box',this['halfExtent'+'s']=new T(-0xfc8+-0x1*0x577+0x153f+0.5,-0x994*-0x1+0x1*-0x10a3+0x70f+0.5,0x4cc+0x799*-0x5+-0x1*-0x2131+0.5),this['linearOffs'+'et']=new T(),this['angularOff'+'set']=new se(),this['radius']=-0xfe4+-0xa39*0x1+-0x5*-0x539+0.5,this['axis']=0x2031*-0x1+-0x1*-0x1a57+0x5db,this['height']=-0x203a+-0x2*-0x751+0x1*0x119a,this['convexHull']=!(0x3*-0x9e9+0x1858+-0x4*-0x159),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0x1fae+-0x9*-0x25b+0x34e1*-0x1),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x14b*0x13+-0x2*0x95+-0x1766);}}const so='static',ms='dynamic',Bn='kinematic',eR=-0x1c7c+0x1c7e+0x0,lo=0x94a+0x7f*-0x11+-0xd7,nf=0x26e0+-0x1037+-0x16a8,ag=0x814*-0x2+0x676*0x5+-0x1022,tx=0x2a9+-0x295*-0xc+-0x21a*0x10,tR=0x199+-0x919+-0x71*-0x11,og=0x5b3*-0x2+-0x5d2+0x113a,sR=0x493*0x1+-0x8*-0x2ff+-0x1c87,lg=0x1710+0x1933+-0x55b*0x9,hg=0x1d673*-0x1+-0x9caa+0x3731c,af=-0x16a1b+-0x4d58+0x4*0xaddc;let _s,Er,Nn;class sx{constructor(_0x461291,_0x2d7e58,_0x4345b4){this['entity']=_0x2d7e58['entity'],this['component']=_0x2d7e58,this['app']=_0x461291,typeof Ammo<'u'&&!_s&&(_s=new Ammo['btVector3'](),Er=new Ammo['btQuaterni'+'on'](),Nn=new Ammo['btTransfor'+'m']()),this['initialize'](_0x4345b4);}['initialize'](_0x3380b3){const _0xc2c4ef=this['entity'],_0x1904e6=_0x3380b3['shape'];if(_0x1904e6&&typeof Ammo<'u'){_0xc2c4ef['trigger']&&_0xc2c4ef['trigger']['destroy']();const _0x25e99e=0x227f+0x3*-0x124+0x29*-0xc2,_0x2deffc=this['component'];if(_0x2deffc){const _0x39e23f=_0x2deffc['getShapePo'+'sition'](),_0x34aeaa=_0x2deffc['getShapeRo'+'tation']();_s['setValue'](_0x39e23f['x'],_0x39e23f['y'],_0x39e23f['z']),Er['setValue'](_0x34aeaa['x'],_0x34aeaa['y'],_0x34aeaa['z'],_0x34aeaa['w']);}else{const _0x4d34ce=_0xc2c4ef['getPositio'+'n'](),_0x31a6c3=_0xc2c4ef['getRotatio'+'n']();_s['setValue'](_0x4d34ce['x'],_0x4d34ce['y'],_0x4d34ce['z']),Er['setValue'](_0x31a6c3['x'],_0x31a6c3['y'],_0x31a6c3['z'],_0x31a6c3['w']);}Nn['setOrigin'](_s),Nn['setRotatio'+'n'](Er);const _0x27c9c6=this['app']['systems']['rigidbody']['createBody'](_0x25e99e,_0x1904e6,Nn);_0x27c9c6['setRestitu'+'tion'](0x1*-0x943+-0x13e3+0x2*0xe93),_0x27c9c6['setFrictio'+'n'](0x768+0x1b*0x39+-0xd6b),_0x27c9c6['setDamping'](-0x1f6c+0xa0f*0x1+0x155d,-0x1e5e+0x283+0x3*0x949),_s['setValue'](0x8c9+0x125*0x21+-0x2e8e,-0xb*0x1bb+0x2*-0x117e+0x3605,0x1ce8+-0x9*-0x1fb+-0x1*0x2ebb),_0x27c9c6['setLinearF'+'actor'](_s),_0x27c9c6['setAngular'+'Factor'](_s),_0x27c9c6['setCollisi'+'onFlags'](_0x27c9c6['getCollisi'+'onFlags']()|lo),_0x27c9c6['entity']=_0xc2c4ef,this['body']=_0x27c9c6,this['component']['enabled']&&_0xc2c4ef['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x220e07){const _0x79fe09=this['component'];if(_0x79fe09){const _0x271adc=_0x79fe09['getShapePo'+'sition'](),_0x3dff8c=_0x79fe09['getShapeRo'+'tation']();_s['setValue'](_0x271adc['x'],_0x271adc['y'],_0x271adc['z']),Er['setValue'](_0x3dff8c['x'],_0x3dff8c['y'],_0x3dff8c['z'],_0x3dff8c['w']);}else{const _0x4ef660=this['entity']['getPositio'+'n'](),_0x4d0ef7=this['entity']['getRotatio'+'n']();_s['setValue'](_0x4ef660['x'],_0x4ef660['y'],_0x4ef660['z']),Er['setValue'](_0x4d0ef7['x'],_0x4d0ef7['y'],_0x4d0ef7['z'],_0x4d0ef7['w']);}_0x220e07['setOrigin'](_s),_0x220e07['setRotatio'+'n'](Er);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Nn);const _0x42e41e=this['body'];_0x42e41e['setWorldTr'+'ansform'](Nn),_0x42e41e['activate']();}['enable'](){const _0x50266b=this['body'];if(!_0x50266b)return;const _0x97cf78=this['app']['systems']['rigidbody'];_0x97cf78['_triggers']['indexOf'](this)<-0x1d66+-0xb*-0x33+-0x1*-0x1b35&&(_0x97cf78['addBody'](_0x50266b,lg,af^lg),_0x97cf78['_triggers']['push'](this)),_0x50266b['forceActiv'+'ationState'](nf),this['updateTran'+'sform']();}['disable'](){const _0x4b3b48=this['body'];if(!_0x4b3b48)return;const _0x10a02e=this['app']['systems']['rigidbody'],_0x578bb=_0x10a02e['_triggers']['indexOf'](this);_0x578bb>-(-0x1*0x1b43+-0x46+-0x2c1*-0xa)&&(_0x10a02e['removeBody'](_0x4b3b48),_0x10a02e['_triggers']['splice'](_0x578bb,0x265c+-0x2*-0x1359+-0x4d0d)),_0x4b3b48['forceActiv'+'ationState'](tx);}}const Xl=new q(),iR=new T(),rR=new T(),Cr=new se(),cg=new De(),nR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class xn{constructor(_0xb66c7e){this['system']=_0xb66c7e;}['beforeInit'+'ialize'](_0x391914,_0x5b1458){_0x5b1458['shape']=null,_0x5b1458['model']=new Oi(),_0x5b1458['model']['graph']=new De();}['afterIniti'+'alize'](_0x36d65d,_0x4c8efe){this['recreatePh'+'ysicalShap'+'es'](_0x36d65d),_0x36d65d['data']['initialize'+'d']=!(0xda0+-0x7*-0x74+0xa*-0x1ae);}['reset'](_0x467913,_0x4d668d){this['beforeInit'+'ialize'](_0x467913,_0x4d668d),this['afterIniti'+'alize'](_0x467913,_0x4d668d);}['recreatePh'+'ysicalShap'+'es'](_0x45918){const _0x24798d=_0x45918['entity'],_0x1a0b83=_0x45918['data'];if(typeof Ammo<'u'){_0x24798d['trigger']&&(_0x24798d['trigger']['destroy'](),delete _0x24798d['trigger']),_0x1a0b83['shape']&&(_0x45918['_compoundP'+'arent']&&(_0x45918!==_0x45918['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x45918['_compoundP'+'arent'],_0x1a0b83['shape']),_0x45918['_compoundP'+'arent']['entity']['rigidbody']&&_0x45918['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x1a0b83)),_0x1a0b83['shape']=this['createPhys'+'icalShape'](_0x45918['entity'],_0x1a0b83);const _0x5cdf8d=!_0x45918['_compoundP'+'arent'];if(_0x1a0b83['type']==='compound'&&(!_0x45918['_compoundP'+'arent']||_0x45918===_0x45918['_compoundP'+'arent']))_0x45918['_compoundP'+'arent']=_0x45918,_0x24798d['forEach'](this['_addEachDe'+'scendant'],_0x45918);else{if(_0x1a0b83['type']!=='compound'&&!_0x45918['rigidbody']){_0x45918['_compoundP'+'arent']=null;let _0x1f315b=_0x24798d['parent'];for(;_0x1f315b;){if(_0x1f315b['collision']&&_0x1f315b['collision']['type']==='compound'){_0x45918['_compoundP'+'arent']=_0x1f315b['collision'];break;}_0x1f315b=_0x1f315b['parent'];}}}_0x45918['_compoundP'+'arent']&&_0x45918!==_0x45918['_compoundP'+'arent']&&(_0x5cdf8d&&_0x45918['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x2*0x10d2+-0x231d+0x44c1*0x1?this['system']['recreatePh'+'ysicalShap'+'es'](_0x45918['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x24798d,!(-0x2f8+-0x2*0x669+0x1*0xfca)),_0x45918['_compoundP'+'arent']['entity']['rigidbody']&&_0x45918['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x24798d['rigidbody']?(_0x24798d['rigidbody']['disableSim'+'ulation'](),_0x24798d['rigidbody']['createBody'](),_0x24798d['enabled']&&_0x24798d['rigidbody']['enabled']&&_0x24798d['rigidbody']['enableSimu'+'lation']()):_0x45918['_compoundP'+'arent']||(_0x24798d['trigger']?_0x24798d['trigger']['initialize'](_0x1a0b83):_0x24798d['trigger']=new sx(this['system']['app'],_0x45918,_0x1a0b83));}}['createPhys'+'icalShape'](_0x548ea4,_0x567f0c){}['updateTran'+'sform'](_0x51dd8d,_0x469594,_0x1439e7,_0x3751da){_0x51dd8d['entity']['trigger']&&_0x51dd8d['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x587a37){_0x587a37['shape']&&(Ammo['destroy'](_0x587a37['shape']),_0x587a37['shape']=null);}['beforeRemo'+'ve'](_0x20320d,_0x34e1b8){_0x34e1b8['data']['shape']&&(_0x34e1b8['_compoundP'+'arent']&&!_0x34e1b8['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x34e1b8['_compoundP'+'arent'],_0x34e1b8['data']['shape']),_0x34e1b8['_compoundP'+'arent']['entity']['rigidbody']&&_0x34e1b8['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x34e1b8['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x34e1b8['data']));}['remove'](_0x38aac4,_0xb71f0){_0x38aac4['rigidbody']&&_0x38aac4['rigidbody']['body']&&_0x38aac4['rigidbody']['disableSim'+'ulation'](),_0x38aac4['trigger']&&(_0x38aac4['trigger']['destroy'](),delete _0x38aac4['trigger']);}['clone'](_0x25146d,_0x7b5e56){const _0x3fdd66=this['system']['store'][_0x25146d['getGuid']()],_0x387c00={'enabled':_0x3fdd66['data']['enabled'],'type':_0x3fdd66['data']['type'],'halfExtents':[_0x3fdd66['data']['halfExtent'+'s']['x'],_0x3fdd66['data']['halfExtent'+'s']['y'],_0x3fdd66['data']['halfExtent'+'s']['z']],'linearOffset':[_0x3fdd66['data']['linearOffs'+'et']['x'],_0x3fdd66['data']['linearOffs'+'et']['y'],_0x3fdd66['data']['linearOffs'+'et']['z']],'angularOffset':[_0x3fdd66['data']['angularOff'+'set']['x'],_0x3fdd66['data']['angularOff'+'set']['y'],_0x3fdd66['data']['angularOff'+'set']['z'],_0x3fdd66['data']['angularOff'+'set']['w']],'radius':_0x3fdd66['data']['radius'],'axis':_0x3fdd66['data']['axis'],'height':_0x3fdd66['data']['height'],'convexHull':_0x3fdd66['data']['convexHull'],'asset':_0x3fdd66['data']['asset'],'renderAsset':_0x3fdd66['data']['renderAsse'+'t'],'model':_0x3fdd66['data']['model'],'render':_0x3fdd66['data']['render'],'checkVertexDuplicates':_0x3fdd66['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x7b5e56,_0x387c00);}}class aR extends xn{['createPhys'+'icalShape'](_0x50dbe0,_0x31eea5){if(typeof Ammo<'u'){const _0x5b6ed6=_0x31eea5['halfExtent'+'s'],_0x5ec04e=new Ammo['btVector3'](_0x5b6ed6?_0x5b6ed6['x']:-0x1577+-0x1*-0xb9b+0x277*0x4+0.5,_0x5b6ed6?_0x5b6ed6['y']:-0x148+-0x1*-0x1b23+0x19db*-0x1+0.5,_0x5b6ed6?_0x5b6ed6['z']:0x126a+0x632*0x2+0x1*-0x1ece+0.5),_0x5b109f=new Ammo['btBoxShape'](_0x5ec04e);return Ammo['destroy'](_0x5ec04e),_0x5b109f;}}}class oR extends xn{['createPhys'+'icalShape'](_0x420118,_0x2a3f12){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x2a3f12['radius']);}}class lR extends xn{['createPhys'+'icalShape'](_0x4c5a5e,_0x44dcfd){const _0xb971b4=_0x44dcfd['axis']??-0xa8b+0xe9+0x9a3,_0x3edba8=_0x44dcfd['radius']??0x2ad*0xa+0x2*0x10d7+-0x3c70+0.5,_0x45b2e3=Math['max']((_0x44dcfd['height']??0x21e3+-0x1ef1+0x178*-0x2)-(0x1*-0xfb+0xd*0x1d+-0x7c)*_0x3edba8,0x15d*0x7+-0x214+-0x777);let _0x91b728=null;if(typeof Ammo<'u')switch(_0xb971b4){case-0x2574+0x1f28+0x64c:_0x91b728=new Ammo['btCapsuleS'+'hapeX'](_0x3edba8,_0x45b2e3);break;case-0x1*-0x1ff3+-0x1310+0x22*-0x61:_0x91b728=new Ammo['btCapsuleS'+'hape'](_0x3edba8,_0x45b2e3);break;case 0x13ff+-0x226c+0x2e3*0x5:_0x91b728=new Ammo['btCapsuleS'+'hapeZ'](_0x3edba8,_0x45b2e3);break;}return _0x91b728;}}class hR extends xn{['createPhys'+'icalShape'](_0x33c9c6,_0x4453f9){const _0x1eca5c=_0x4453f9['axis']??0x441*0x5+-0xb*0x217+0x1b9,_0x149cdd=_0x4453f9['radius']??0x1*0x2cf+0x329*-0x4+0x9d5*0x1+0.5,_0x9f6ca4=_0x4453f9['height']??0x17ff+0xb48*-0x1+-0xcb6;let _0x1fc94b=null,_0x23820e=null;if(typeof Ammo<'u')switch(_0x1eca5c){case 0x63d*0x1+0x1fc*0x4+-0xe2d*0x1:_0x1fc94b=new Ammo['btVector3'](_0x9f6ca4*(-0x477+0x5*-0x4d5+0x1ca0+0.5),_0x149cdd,_0x149cdd),_0x23820e=new Ammo['btCylinder'+'ShapeX'](_0x1fc94b);break;case-0x39e*-0x1+0x1*-0xd49+0x9ac:_0x1fc94b=new Ammo['btVector3'](_0x149cdd,_0x9f6ca4*(-0x6ef*0x1+0x1cf+0x520+0.5),_0x149cdd),_0x23820e=new Ammo['btCylinder'+'Shape'](_0x1fc94b);break;case 0x37b+0x665+-0x9de:_0x1fc94b=new Ammo['btVector3'](_0x149cdd,_0x149cdd,_0x9f6ca4*(-0x3*-0x737+0x1*0x899+-0x1e3e+0.5)),_0x23820e=new Ammo['btCylinder'+'ShapeZ'](_0x1fc94b);break;}return _0x1fc94b&&Ammo['destroy'](_0x1fc94b),_0x23820e;}}class cR extends xn{['createPhys'+'icalShape'](_0x44f1f5,_0x119673){const _0x354b93=_0x119673['axis']??-0x2078+-0x53a+0x25b3*0x1,_0x109b52=_0x119673['radius']??-0x133f*-0x2+-0x54*-0x6b+-0x499a*0x1+0.5,_0x15e294=_0x119673['height']??0xa6*0x2+0x19a3+-0x1aee;let _0x3116ab=null;if(typeof Ammo<'u')switch(_0x354b93){case 0x12*-0xbd+0x9*0x279+-0x8f7:_0x3116ab=new Ammo['btConeShap'+'eX'](_0x109b52,_0x15e294);break;case-0xa63*0x1+0x5a1+0x4c3:_0x3116ab=new Ammo['btConeShap'+'e'](_0x109b52,_0x15e294);break;case-0x1d8f+0x1236+0xb5b:_0x3116ab=new Ammo['btConeShap'+'eZ'](_0x109b52,_0x15e294);break;}return _0x3116ab;}}class dR extends xn{['beforeInit'+'ialize'](_0x238a84,_0x26bd71){}['createAmmo'+'Hull'](_0x3408aa,_0x50bacb,_0x3c601b,_0x404dec){const _0x2c107e=new Ammo['btConvexHu'+'llShape'](),_0x9c634c=new Ammo['btVector3'](),_0x2aa03f=[];_0x3408aa['getPositio'+'ns'](_0x2aa03f);for(let _0x26e30d=-0xb*0x1d9+0xd*0x4+0x141f;_0x26e30d<_0x2aa03f['length'];_0x26e30d+=0x15ca*0x1+-0x10b9*-0x2+-0x3739)_0x9c634c['setValue'](_0x2aa03f[_0x26e30d]*_0x404dec['x'],_0x2aa03f[_0x26e30d+(-0x1*-0x1a5c+-0xbaa*-0x1+-0x1*0x2605)]*_0x404dec['y'],_0x2aa03f[_0x26e30d+(0x4ba*0x8+-0x1*0xd19+-0x18b5*0x1)]*_0x404dec['z']),_0x2c107e['addPoint'](_0x9c634c,!(-0x208d+0x1114+0xf7a));Ammo['destroy'](_0x9c634c),_0x2c107e['recalcLoca'+'lAabb'](),_0x2c107e['setMargin'](-0x7e1+0x75*0x3f+0x14ea*-0x1+0.01);const _0x45249d=this['system']['_getNodeTr'+'ansform'](_0x50bacb);_0x3c601b['addChildSh'+'ape'](_0x45249d,_0x2c107e),Ammo['destroy'](_0x45249d);}['createAmmo'+'Mesh'](_0x233853,_0x236d38,_0xb65d,_0xc064b,_0x44165f=!(0x2d7*-0x1+-0x1b5a+-0x3b*-0x83)){const _0x538dbd=this['system'];let _0x28b370;if(_0x538dbd['_triMeshCa'+'che'][_0x233853['id']])_0x28b370=_0x538dbd['_triMeshCa'+'che'][_0x233853['id']];else{const _0x5b5b1a=_0x233853['vertexBuff'+'er'],_0x48595a=_0x5b5b1a['getFormat']();let _0x8ec048,_0x392f05;for(let _0xb0c194=-0x11*-0x1e7+0xf41+-0x4*0xbe6;_0xb0c194<_0x48595a['elements']['length'];_0xb0c194++){const _0x33ce99=_0x48595a['elements'][_0xb0c194];if(_0x33ce99['name']===He){_0x392f05=new Float32Array(_0x5b5b1a['lock'](),_0x33ce99['offset']),_0x8ec048=_0x33ce99['stride']/(-0x10bd+0xffd+-0x4*-0x31);break;}}const _0x10977a=[];_0x233853['getIndices'](_0x10977a);const _0xbdca6f=_0x233853['primitive'][-0x119d+0x347+0xe56]['count']/(0x130*-0x4+-0x1d00+0x21c3),_0xa7cfb6=new Ammo['btVector3']();let _0x2eb9be,_0x4d2a90,_0x410a2c;const _0x35f939=_0x233853['primitive'][-0x19f*-0xd+-0x18b*0x4+-0x2fb*0x5]['base'];_0x28b370=new Ammo['btTriangle'+'Mesh'](),_0x538dbd['_triMeshCa'+'che'][_0x233853['id']]=_0x28b370;const _0x2f135a=new Map();v['assert'](typeof _0x28b370['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x229b92=_0x28b370['getIndexed'+'MeshArray']();_0x229b92['at'](0xd99+0x1e1f+-0x2bb8)['m_numTrian'+'gles']=_0xbdca6f;const _0x2b9f36=_0xc064b?_0xc064b['x']:0x26d5+-0x283*-0xb+-0x35*0x141,_0x2a353a=_0xc064b?_0xc064b['y']:-0x6*0x4ca+0xa35+0x1288,_0x31d9f7=_0xc064b?_0xc064b['z']:-0x8c*-0x36+-0x737*0x2+-0xf19,_0x397bc2=_0x9b3f79=>{const _0x20f5f4=_0x392f05[_0x9b3f79*_0x8ec048]*_0x2b9f36,_0xca1516=_0x392f05[_0x9b3f79*_0x8ec048+(-0xdba+0x13b2+0x1fd*-0x3)]*_0x2a353a,_0x802cf1=_0x392f05[_0x9b3f79*_0x8ec048+(0xc7f*-0x1+-0x4*-0x6e5+-0xf13)]*_0x31d9f7;let _0x568279;if(_0x44165f){const _0x6bc0b9=_0x20f5f4+':'+_0xca1516+':'+_0x802cf1;if(_0x568279=_0x2f135a['get'](_0x6bc0b9),_0x568279!==void(-0x6b*0x1f+0x85*-0x13+0x16d4))return _0x568279;_0xa7cfb6['setValue'](_0x20f5f4,_0xca1516,_0x802cf1),_0x568279=_0x28b370['findOrAddV'+'ertex'](_0xa7cfb6,!(-0x469*0x2+-0xb19*-0x1+-0x6*0x61)),_0x2f135a['set'](_0x6bc0b9,_0x568279);}else _0xa7cfb6['setValue'](_0x20f5f4,_0xca1516,_0x802cf1),_0x568279=_0x28b370['findOrAddV'+'ertex'](_0xa7cfb6,!(-0x626+0x1*0x42b+0x1*0x1fc));return _0x568279;};for(let _0x2156ec=-0x10bb+0x2c1*0x6+0x35;_0x2156ec<_0xbdca6f;_0x2156ec++)_0x2eb9be=_0x397bc2(_0x10977a[_0x35f939+_0x2156ec*(0x1b09+-0x3b*0x17+-0x53*0x43)]),_0x4d2a90=_0x397bc2(_0x10977a[_0x35f939+_0x2156ec*(0x18b9+0x3*0x3fd+-0x24ad)+(0x1e5+0x10c4+-0x3*0x638)]),_0x410a2c=_0x397bc2(_0x10977a[_0x35f939+_0x2156ec*(0x128c+0x113a+-0x1*0x23c3)+(-0x1*-0x1913+0x539+-0x2*0xf25)]),_0x28b370['addIndex'](_0x2eb9be),_0x28b370['addIndex'](_0x4d2a90),_0x28b370['addIndex'](_0x410a2c);Ammo['destroy'](_0xa7cfb6);}const _0x24eb2e=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x28b370,!(-0x1*-0x56f+-0x17f*-0x5+-0xcea));if(!_0xc064b){const _0x3b56c9=_0x538dbd['_getNodeSc'+'aling'](_0x236d38);_0x24eb2e['setLocalSc'+'aling'](_0x3b56c9),Ammo['destroy'](_0x3b56c9);}const _0x571e38=_0x538dbd['_getNodeTr'+'ansform'](_0x236d38);_0xb65d['addChildSh'+'ape'](_0x571e38,_0x24eb2e),Ammo['destroy'](_0x571e38);}['createPhys'+'icalShape'](_0x3f83e6,_0x5afd6f){if(!(typeof Ammo>'u')&&(_0x5afd6f['model']||_0x5afd6f['render'])){const _0x384eb3=new Ammo['btCompound'+'Shape'](),_0x390f15=_0x3f83e6['getWorldTr'+'ansform']()['getScale']();if(_0x5afd6f['render']){const _0x515897=_0x5afd6f['render']['meshes'];for(let _0x522b12=-0x54*0x3e+-0x15b0+-0x10d*-0x28;_0x522b12<_0x515897['length'];_0x522b12++)_0x5afd6f['convexHull']?this['createAmmo'+'Hull'](_0x515897[_0x522b12],cg,_0x384eb3,_0x390f15):this['createAmmo'+'Mesh'](_0x515897[_0x522b12],cg,_0x384eb3,_0x390f15,_0x5afd6f['checkVerte'+'xDuplicate'+'s']);}else{if(_0x5afd6f['model']){const _0x3f8c17=_0x5afd6f['model']['meshInstan'+'ces'];for(let _0x2ce199=0x4f3*-0x7+0x54f*-0x1+0x27f4;_0x2ce199<_0x3f8c17['length'];_0x2ce199++)this['createAmmo'+'Mesh'](_0x3f8c17[_0x2ce199]['mesh'],_0x3f8c17[_0x2ce199]['node'],_0x384eb3,null,_0x5afd6f['checkVerte'+'xDuplicate'+'s']);const _0xc2ddfe=new Ammo['btVector3'](_0x390f15['x'],_0x390f15['y'],_0x390f15['z']);_0x384eb3['setLocalSc'+'aling'](_0xc2ddfe),Ammo['destroy'](_0xc2ddfe);}}return _0x384eb3;}}['recreatePh'+'ysicalShap'+'es'](_0x3239c0){const _0x401883=_0x3239c0['data'];if((_0x401883['renderAsse'+'t']||_0x401883['asset'])&&_0x3239c0['enabled']&&_0x3239c0['entity']['enabled']){this['loadAsset'](_0x3239c0,_0x401883['renderAsse'+'t']||_0x401883['asset'],_0x401883['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x3239c0);}['loadAsset'](_0x3119c7,_0x48d69e,_0x281eaf){const _0x3dde4c=_0x3119c7['data'],_0xb1042a=this['system']['app']['assets'],_0x2a46b9=_0x3dde4c[_0x281eaf],_0x763b7d=_0x2bb7a7=>{_0x3dde4c[_0x281eaf]===_0x2a46b9&&(_0x3dde4c[_0x281eaf]=_0x2bb7a7['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x3119c7));},_0x513ebb=_0x394837=>{_0x394837['ready'](_0x51bc6b=>{if(_0x51bc6b['data']['containerA'+'sset']){const _0x5aa9c4=_0xb1042a['get'](_0x51bc6b['data']['containerA'+'sset']);_0x5aa9c4['loaded']?_0x763b7d(_0x51bc6b):(_0x5aa9c4['ready'](()=>{_0x763b7d(_0x51bc6b);}),_0xb1042a['load'](_0x5aa9c4));}else _0x763b7d(_0x51bc6b);}),_0xb1042a['load'](_0x394837);},_0x301587=_0xb1042a['get'](_0x48d69e);_0x301587?_0x513ebb(_0x301587):_0xb1042a['once']('add:'+_0x48d69e,_0x513ebb);}['doRecreate'+'PhysicalSh'+'ape'](_0x4364c6){const _0x5b9543=_0x4364c6['entity'],_0x4fb05b=_0x4364c6['data'];_0x4fb05b['model']||_0x4fb05b['render']?(this['destroySha'+'pe'](_0x4fb05b),_0x4fb05b['shape']=this['createPhys'+'icalShape'](_0x5b9543,_0x4fb05b),_0x5b9543['rigidbody']?(_0x5b9543['rigidbody']['disableSim'+'ulation'](),_0x5b9543['rigidbody']['createBody'](),_0x5b9543['enabled']&&_0x5b9543['rigidbody']['enabled']&&_0x5b9543['rigidbody']['enableSimu'+'lation']()):_0x5b9543['trigger']?_0x5b9543['trigger']['initialize'](_0x4fb05b):_0x5b9543['trigger']=new sx(this['system']['app'],_0x4364c6,_0x4fb05b)):(this['beforeRemo'+'ve'](_0x5b9543,_0x4364c6),this['remove'](_0x5b9543,_0x4fb05b));}['updateTran'+'sform'](_0x24474b,_0x1781fe,_0x43733c,_0x338c09){if(_0x24474b['shape']){const _0x4831fe=_0x24474b['entity']['getWorldTr'+'ansform']()['getScale'](),_0x440de8=_0x24474b['shape']['getLocalSc'+'aling']();(_0x4831fe['x']!==_0x440de8['x']()||_0x4831fe['y']!==_0x440de8['y']()||_0x4831fe['z']!==_0x440de8['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x24474b);}super['updateTran'+'sform'](_0x24474b,_0x1781fe,_0x43733c,_0x338c09);}['destroySha'+'pe'](_0x11529b){if(!_0x11529b['shape'])return;const _0x563af5=_0x11529b['shape']['getNumChil'+'dShapes']();for(let _0x328cd8=-0x21dc+0xb4c+0x169*0x10;_0x328cd8<_0x563af5;_0x328cd8++){const _0x37b1e7=_0x11529b['shape']['getChildSh'+'ape'](_0x328cd8);Ammo['destroy'](_0x37b1e7);}Ammo['destroy'](_0x11529b['shape']),_0x11529b['shape']=null;}}class uR extends xn{['createPhys'+'icalShape'](_0x2f93a2,_0x515bac){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x97410f){!_0x97410f['collision']||_0x97410f['rigidbody']||(_0x97410f['collision']['_compoundP'+'arent']=this,_0x97410f!==this['entity']&&_0x97410f['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x97410f['collision']));}['_updateEac'+'hDescendan'+'t'](_0x564c24){_0x564c24['collision']&&_0x564c24['collision']['_compoundP'+'arent']===this&&(_0x564c24['collision']['_compoundP'+'arent']=null,_0x564c24!==this['entity']&&!_0x564c24['rigidbody']&&_0x564c24['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x564c24['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x1eb798){!_0x1eb798['collision']||_0x1eb798['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x1eb798,!(0x9be*-0x2+0x1b46*-0x1+0x2ec3*0x1));}}class fR extends Xe{constructor(_0x400f8c){super(_0x400f8c),this['id']='collision',this['ComponentT'+'ype']=Yn,this['DataType']=JP,this['schema']=nR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x2ac429,_0x580ba8,_0xd48b43){_0xd48b43=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x3de340={};for(let _0x35a2b0=0x1*-0x21d+0x1*-0x1ad7+0x1cf4,_0x566eca=_0xd48b43['length'];_0x35a2b0<_0x566eca;_0x35a2b0++){const _0x340b44=_0xd48b43[_0x35a2b0];_0x3de340[_0x340b44]=_0x580ba8[_0x340b44];}let _0x24b3b3;if(_0x580ba8['hasOwnProp'+'erty']('asset')?(_0x24b3b3=_0xd48b43['indexOf']('model'),_0x24b3b3!==-(-0x2378+0x1*0x2329+-0x28*-0x2)&&_0xd48b43['splice'](_0x24b3b3,0x2*0x2bc+-0x7f*-0x41+-0x25b6),_0x24b3b3=_0xd48b43['indexOf']('render'),_0x24b3b3!==-(-0x5*-0x7c3+0x101+0x3*-0xd45)&&_0xd48b43['splice'](_0x24b3b3,-0x8ce*-0x4+0x149a+-0x37d1)):_0x580ba8['hasOwnProp'+'erty']('model')&&(_0x24b3b3=_0xd48b43['indexOf']('asset'),_0x24b3b3!==-(-0x114+-0xe5a+0xf6f)&&_0xd48b43['splice'](_0x24b3b3,-0x9bc+-0x1bad+0x256a)),_0x3de340['type']||(_0x3de340['type']=_0x2ac429['data']['type']),_0x2ac429['data']['type']=_0x3de340['type'],Array['isArray'](_0x3de340['halfExtent'+'s'])&&(_0x3de340['halfExtent'+'s']=new T(_0x3de340['halfExtent'+'s'])),Array['isArray'](_0x3de340['linearOffs'+'et'])&&(_0x3de340['linearOffs'+'et']=new T(_0x3de340['linearOffs'+'et'])),Array['isArray'](_0x3de340['angularOff'+'set'])){const _0x4a7d13=_0x3de340['angularOff'+'set'];_0x4a7d13['length']===-0x2*0x725+0x2*0xe17+0x143*-0xb?_0x3de340['angularOff'+'set']=new se()['setFromEul'+'erAngles'](_0x4a7d13[0x160+-0x3*0x33d+0x857],_0x4a7d13[0x1*0x28f+0x2f*0x3b+-0x95*0x17],_0x4a7d13[-0x15d7+0x1*0xb15+-0x562*-0x2]):_0x3de340['angularOff'+'set']=new se(_0x3de340['angularOff'+'set']);}const _0x503476=this['_createImp'+'lementatio'+'n'](_0x3de340['type']);_0x503476['beforeInit'+'ialize'](_0x2ac429,_0x3de340),super['initialize'+'ComponentD'+'ata'](_0x2ac429,_0x3de340,_0xd48b43),_0x503476['afterIniti'+'alize'](_0x2ac429,_0x3de340);}['_createImp'+'lementatio'+'n'](_0x237a43){if(this['implementa'+'tions'][_0x237a43]===void(-0x1aad*-0x1+-0x45+-0xd*0x208)){let _0x21a7ac;switch(_0x237a43){case'box':_0x21a7ac=new aR(this);break;case'sphere':_0x21a7ac=new oR(this);break;case'capsule':_0x21a7ac=new lR(this);break;case'cylinder':_0x21a7ac=new hR(this);break;case'cone':_0x21a7ac=new cR(this);break;case'mesh':_0x21a7ac=new dR(this);break;case'compound':_0x21a7ac=new uR(this);break;default:v['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x237a43);}this['implementa'+'tions'][_0x237a43]=_0x21a7ac;}return this['implementa'+'tions'][_0x237a43];}['_getImplem'+'entation'](_0x5f57d){return this['implementa'+'tions'][_0x5f57d['collision']['data']['type']];}['cloneCompo'+'nent'](_0x2111dd,_0x43d7c2){return this['_getImplem'+'entation'](_0x2111dd)['clone'](_0x2111dd,_0x43d7c2);}['onBeforeRe'+'move'](_0x32227c,_0x29a752){this['implementa'+'tions'][_0x29a752['data']['type']]['beforeRemo'+'ve'](_0x32227c,_0x29a752),_0x29a752['onBeforeRe'+'move']();}['onRemove'](_0x4fcb7e,_0x17032b){this['implementa'+'tions'][_0x17032b['type']]['remove'](_0x4fcb7e,_0x17032b);}['updateComp'+'oundChildT'+'ransform'](_0x25ee05,_0x56c97f){const _0x4431c4=_0x25ee05['collision']['_compoundP'+'arent'];if(_0x4431c4!==_0x25ee05['collision']&&_0x25ee05['enabled']&&_0x25ee05['collision']['enabled']&&(_0x25ee05['_dirtyLoca'+'l']||_0x56c97f)){const _0x32032e=this['_getNodeTr'+'ansform'](_0x25ee05,_0x4431c4['entity']),_0x241da0=_0x4431c4['getCompoun'+'dChildShap'+'eIndex'](_0x25ee05['collision']['shape']);_0x241da0===null?_0x4431c4['shape']['addChildSh'+'ape'](_0x32032e,_0x25ee05['collision']['data']['shape']):_0x4431c4['shape']['updateChil'+'dTransform'](_0x241da0,_0x32032e,!(0x1*0x21e5+0x1843*-0x1+0x9a2*-0x1)),Ammo['destroy'](_0x32032e);}}['_removeCom'+'poundChild'](_0x50fe68,_0xc1b96e){if(_0x50fe68['shape']['getNumChil'+'dShapes']()!==0x4ee+-0x1*0x92b+0x9b*0x7){if(_0x50fe68['shape']['removeChil'+'dShape'])_0x50fe68['shape']['removeChil'+'dShape'](_0xc1b96e);else{const _0x3f4cd6=_0x50fe68['getCompoun'+'dChildShap'+'eIndex'](_0xc1b96e);_0x3f4cd6!==null&&_0x50fe68['shape']['removeChil'+'dShapeByIn'+'dex'](_0x3f4cd6);}}}['onTransfor'+'mChanged'](_0x8215fa,_0x158b01,_0x372bca,_0x2aa577){this['implementa'+'tions'][_0x8215fa['data']['type']]['updateTran'+'sform'](_0x8215fa,_0x158b01,_0x372bca,_0x2aa577);}['changeType'](_0xdf0b7a,_0x276df8,_0x49ffb8){this['implementa'+'tions'][_0x276df8]['beforeRemo'+'ve'](_0xdf0b7a['entity'],_0xdf0b7a),this['implementa'+'tions'][_0x276df8]['remove'](_0xdf0b7a['entity'],_0xdf0b7a['data']),this['_createImp'+'lementatio'+'n'](_0x49ffb8)['reset'](_0xdf0b7a,_0xdf0b7a['data']);}['recreatePh'+'ysicalShap'+'es'](_0x424f2f){this['implementa'+'tions'][_0x424f2f['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x424f2f);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x1ec346,_0x14b053){if(_0x1ec346===_0x14b053){const _0x361b75=_0x1ec346['getWorldTr'+'ansform']()['getScale']();Xl['setScale'](_0x361b75['x'],_0x361b75['y'],_0x361b75['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x1ec346['parent'],_0x14b053),Xl['mul'](_0x1ec346['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x2dc6d0){const _0x199bf9=_0x2dc6d0['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x199bf9['x'],_0x199bf9['y'],_0x199bf9['z']);}['_getNodeTr'+'ansform'](_0x1672b6,_0x46dd76){let _0x5da0cc,_0x1ec7fb;_0x46dd76?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x1672b6,_0x46dd76),_0x5da0cc=iR,_0x1ec7fb=Cr,Xl['getTransla'+'tion'](_0x5da0cc),_0x1ec7fb['setFromMat'+'4'](Xl)):(_0x5da0cc=_0x1672b6['getPositio'+'n'](),_0x1ec7fb=_0x1672b6['getRotatio'+'n']());const _0x38a302=new Ammo['btQuaterni'+'on'](),_0x38e8c4=new Ammo['btTransfor'+'m']();_0x38e8c4['setIdentit'+'y']();const _0x27a099=_0x38e8c4['getOrigin'](),_0x3e3b56=_0x1672b6['collision'];if(_0x3e3b56&&_0x3e3b56['_hasOffset']){const _0x21bf67=_0x3e3b56['data']['linearOffs'+'et'],_0x53df2f=_0x3e3b56['data']['angularOff'+'set'],_0x5c6390=rR;Cr['copy'](_0x1ec7fb)['transformV'+'ector'](_0x21bf67,_0x5c6390),_0x5c6390['add'](_0x5da0cc),Cr['copy'](_0x1ec7fb)['mul'](_0x53df2f),_0x27a099['setValue'](_0x5c6390['x'],_0x5c6390['y'],_0x5c6390['z']),_0x38a302['setValue'](Cr['x'],Cr['y'],Cr['z'],Cr['w']);}else _0x27a099['setValue'](_0x5da0cc['x'],_0x5da0cc['y'],_0x5da0cc['z']),_0x38a302['setValue'](_0x1ec7fb['x'],_0x1ec7fb['y'],_0x1ec7fb['z'],_0x1ec7fb['w']);return _0x38e8c4['setRotatio'+'n'](_0x38a302),Ammo['destroy'](_0x38a302),_0x38e8c4;}['destroy'](){for(const _0x2f8ccf in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x2f8ccf]);this['_triMeshCa'+'che']=null,super['destroy']();}}const jl=new Y(),pR=new Ot();class mR{constructor(_0x1e34dc,_0x4891bb,_0x4a1447){this['_entity']=_0x1e34dc,this['_element']=_0x1e34dc['element'],this['model']=new Oi(),this['node']=new De(),this['model']['graph']=this['node'],this['mesh']=_0x4891bb,this['meshInstan'+'ce']=new Le(this['mesh'],_0x4a1447,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x1e34dc['name'],this['meshInstan'+'ce']['castShadow']=!(0xc73+0x2*-0x1243+-0x10c*-0x17),this['meshInstan'+'ce']['receiveSha'+'dow']=!(-0x1a72+-0x2105+0x3b78),this['_meshDirty']=!(-0x19de+0x14e7*-0x1+0x2ec6),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x690e9c,_0x3074a2;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x690e9c=this['meshInstan'+'ce'])==null||_0x690e9c['destroy'](),this['meshInstan'+'ce']=null,(_0x3074a2=this['unmaskMesh'+'Instance'])==null||_0x3074a2['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x5ae574){this['meshInstan'+'ce']&&(this['mesh']=_0x5ae574,this['meshInstan'+'ce']['mesh']=_0x5ae574,this['meshInstan'+'ce']['visible']=!!_0x5ae574,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x5ae574),this['forceUpdat'+'eAabb']());}['setMask'](_0x526866){var _0x33e580;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x526866){this['unmaskMesh'+'Instance']=new Le(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0x108a+0xdc4+-0x1*0x1e4d),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0x69*0x57+-0x1329+0x36d9),this['unmaskMesh'+'Instance']['pick']=!(0xe81+-0x27*0xf5+-0x16d3*-0x1),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x5e97cb in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x5e97cb,this['meshInstan'+'ce']['parameters'][_0x5e97cb]['data']);}else{const _0x17815c=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x17815c>=0xf49*0x1+0x1b98+-0x2ae1&&this['model']['meshInstan'+'ces']['splice'](_0x17815c,-0x1*-0x1fed+-0x695*0x5+0x17*0xb);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x526866||((_0x33e580=this['unmaskMesh'+'Instance'])==null||_0x33e580['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x53ad4a){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x53ad4a,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x53ad4a));}['setParamet'+'er'](_0x1b5522,_0x56ea19){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x1b5522,_0x56ea19),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x1b5522,_0x56ea19));}['deletePara'+'meter'](_0x457ea2){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x457ea2),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x457ea2));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x5e1ba5=function(_0x34c322){let _0x5a2cdf;const _0x162965=_0x34c322['children'],_0x3ddfc1=_0x162965['length'];if(_0x3ddfc1){for(let _0xf5b737=-0x1*0x1c43+0x10*0x59+0x95*0x27;_0xf5b737<_0x3ddfc1;_0xf5b737++)_0x162965[_0xf5b737]['element']&&(_0x5a2cdf=_0x162965[_0xf5b737]);if(!_0x5a2cdf)return null;const _0x5ff27e=_0x5e1ba5(_0x5a2cdf);return _0x5ff27e||_0x5a2cdf;}return null;};if(this['unmaskMesh'+'Instance']){const _0x39d11b=_0x5e1ba5(this['_entity']);_0x39d11b&&_0x39d11b['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x39d11b['element']['drawOrder']+_0x39d11b['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),v['trace'](Ss,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x4bd848){this['meshInstan'+'ce']&&(v['trace'](Ss,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x4bd848),this['meshInstan'+'ce']['drawOrder']=_0x4bd848);}['setCull'](_0x259248){if(!this['meshInstan'+'ce'])return;const _0x589c4f=this['_element'];let _0x163a7c=null;_0x259248&&_0x589c4f['_isScreenS'+'pace']()&&(_0x163a7c=function(_0x35731f){return _0x589c4f['isVisibleF'+'orCamera'](_0x35731f);}),this['meshInstan'+'ce']['cull']=_0x259248,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x163a7c,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x259248,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x163a7c);}['setScreenS'+'pace'](_0x571a44){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x571a44,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x571a44));}['setLayer'](_0x126e63){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x126e63,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x126e63));}['forceUpdat'+'eAabb'](_0x2ff158){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(0x6e4+0x151f+0xef*-0x1e),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x871*-0x1+0xcc7+-0x455)));}['setAabbFun'+'c'](_0x37268c){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x37268c,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x37268c));}}class _R{constructor(_0xdacb68){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0xdacb68,this['_entity']=_0xdacb68['entity'],this['_system']=_0xdacb68['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x1fc*0x3+0x10a8+0xa*-0x112,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0xcd6+0x1*-0x1ed7+0x2bae),this['_rect']=new Q(-0x122b+-0xe*-0xfb+0x3*0x17b,0x181*0xf+-0x1cd0+0x1*0x641,0x801*-0x1+-0xa9a+0x1*0x129c,-0x1500+0xb*0x233+-0x8*0x66),this['_mask']=!(0xa*0x174+0x863+-0x16ea),this['_maskRef']=0x205+0xc6*0xe+-0xcd9,this['_outerScal'+'e']=new $(),this['_outerScal'+'eUniform']=new Float32Array(-0x691*-0x2+0x9*0xed+-0x1575),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0xd*0x146+0x49b+0xbf7),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0x2fb*-0x5+-0x1a1*0x11+0x2a9c),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new mR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(0x262f+-0x1cc9+-0x965,-0x1b*-0xbe+0x1*-0x23e9+0xfe0,-0x3*0x21e+-0xa*0xd7+0xec1*0x1,0xb*0x2a5+-0x1*0xd8e+-0xf88),this['_colorUnif'+'orm']=new Float32Array([-0x1135+-0x2215+0x334b,-0x224c+0x359*0x1+-0x1ef4*-0x1,-0x31d*-0x5+0x200+-0x119*0x10]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',0xe9*0x1c+0xc*0x210+0xa7*-0x4d),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x3cdc12){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x39f499){this['_updateMat'+'erial'](_0x39f499);}['_onScreenC'+'hange'](_0x41e847,_0x37ded5){_0x41e847?this['_updateMat'+'erial'](_0x41e847['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x7d5+-0xdf*-0x18+-0xd12));}['_onDrawOrd'+'erChange'](_0xbd70ad){this['_renderabl'+'e']['setDrawOrd'+'er'](_0xbd70ad),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(-0xf38*0x2+-0x1712+0x3583);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe);}['_updateMat'+'erial'](_0x379f24){const _0x54b496=!!this['_mask'],_0x44d125=!!(this['sprite']&&this['sprite']['renderMode']===nt),_0x516672=!!(this['sprite']&&this['sprite']['renderMode']===Qe);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x379f24,_0x54b496,_0x44d125,_0x516672)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x379f24),this['_renderabl'+'e']['setLayer'](_0x379f24?Ub:c0));}['_createMes'+'h'](){const _0xb7b8b=this['_element'],_0x267303=_0xb7b8b['calculated'+'Width'],_0x3fa5b1=_0xb7b8b['calculated'+'Height'],_0x1f50c0=this['_rect'],_0x53aafc=this['_system']['app']['graphicsDe'+'vice'],_0xc87595=new Float32Array([_0x267303,0x95*0xd+0x2*0xa94+-0x1cb9,-0x2*-0x883+-0xcd*-0x1c+-0x1cb*0x16,-0x11c2+-0xfef+-0x19*-0x159,0xda8+0x751*-0x1+0x21d*-0x3,0x1*0x19d9+-0xab+0x5*-0x509,_0x1f50c0['x']+_0x1f50c0['z'],-0x13f9+-0x5*-0x482+0xa4*-0x4-_0x1f50c0['y'],_0x267303,_0x3fa5b1,-0xa0d+0xfb*-0x5+-0x21*-0x74,-0x1*-0x224d+-0x2*-0x345+0x1*-0x28d7,0xab2*-0x1+-0x2b7*-0x7+-0x84f,-0x2485+0x1fc0+-0x4c6*-0x1,_0x1f50c0['x']+_0x1f50c0['z'],-0x589*-0x1+0x1913+0x1*-0x1e9b-(_0x1f50c0['y']+_0x1f50c0['w']),0x1f36+0x2*-0x9cb+-0xba0,-0x627+0x119*0x1f+-0x1be0,0x1*-0x1ee3+0x5d5*-0x4+0x1*0x3637,-0x1*0x21c5+-0x8*-0x31c+0x8e5,-0x1fd6*0x1+0x7c8+-0x180e*-0x1,-0x1*0x1ded+0x13a6+0xa48,_0x1f50c0['x'],-0x85*0x43+-0x1*0x2414+0x46e4-_0x1f50c0['y'],0x216d*0x1+0x15*0x1db+-0x1c4*0x29,_0x3fa5b1,0x1*0x1f99+-0x1227+0x2*-0x6b9,-0x2*-0x4f9+-0xb*0x2e3+0x1*0x15cf,0x11cd+0x140e+0x371*-0xb,-0x21db+-0x2*-0x1dd+-0x13*-0x196,_0x1f50c0['x'],0x14c4+-0x17*-0x102+-0x2bf1-(_0x1f50c0['y']+_0x1f50c0['w'])]),_0x33ea1a=pR['get'](_0x53aafc,()=>new Et(_0x53aafc,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':Yt,'components':0x3,'type':Ee},{'semantic':ns,'components':0x2,'type':Ee}])),_0x330ea1=new os(_0x53aafc,_0x33ea1a,0x17cb+0x1ce5+-0x34ac,{'data':_0xc87595['buffer']}),_0x4bc824=new Ie(_0x53aafc);return _0x4bc824['vertexBuff'+'er']=_0x330ea1,_0x4bc824['primitive'][-0x1377*-0x1+-0x62a+-0xd4d]['type']=ar,_0x4bc824['primitive'][-0x193a*0x1+-0x20bc+0x39f6]['base']=0x1327*0x1+-0x26f*0xb+0x79e,_0x4bc824['primitive'][0x1*-0x1043+-0x20cf+-0x16*-0x23b]['count']=0x10a+0x142d+-0x1533,_0x4bc824['primitive'][0x220a*0x1+0x8d8+-0x2ae2]['indexed']=!(-0x35d+0x305*0x4+-0x8b6),_0x4bc824['aabb']['setMinMax'](T['ZERO'],new T(_0x267303,_0x3fa5b1,0x1*0x1f97+0xa24+-0x29bb)),this['_updateMes'+'h'](_0x4bc824),_0x4bc824;}['_updateMes'+'h'](_0x4b563b){const _0x2e5dea=this['_element'];let _0x4617f7=_0x2e5dea['calculated'+'Width'],_0x1e42f0=_0x2e5dea['calculated'+'Height'];if(_0x2e5dea['fitMode']!==gh&&this['_targetAsp'+'ectRatio']>0x325*0x4+0x1*-0x2703+0x1a6f){const _0x1de44a=_0x2e5dea['calculated'+'Width']/_0x2e5dea['calculated'+'Height'];_0x2e5dea['fitMode']===YP&&_0x1de44a>this['_targetAsp'+'ectRatio']||_0x2e5dea['fitMode']===KP&&_0x1de44a<this['_targetAsp'+'ectRatio']?_0x4617f7=_0x2e5dea['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x1e42f0=_0x2e5dea['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x5cb8d4=_0x2e5dea['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x5cb8d4),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){const _0xba4866=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x409ec9=(0x1b1b+-0x1*-0x113d+-0x2c56)/_0xba4866['rect']['z'],_0xd238f=(0x6c7*0x1+0x1*-0x2041+-0x1c*-0xe9)/_0xba4866['rect']['w'];this['_innerOffs'+'et']['set'](_0xba4866['border']['x']*_0x409ec9,_0xba4866['border']['y']*_0xd238f,_0xba4866['border']['z']*_0x409ec9,_0xba4866['border']['w']*_0xd238f);const _0x2bc437=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0xba4866['rect']['x']/_0x2bc437['width'],_0xba4866['rect']['y']/_0x2bc437['height'],_0xba4866['rect']['z']/_0x2bc437['width'],_0xba4866['rect']['w']/_0x2bc437['height']);const _0x5aabb7=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x47da97=_0xba4866['rect']['z']/_0x5aabb7,_0x3eac67=_0xba4866['rect']['w']/_0x5aabb7;this['_outerScal'+'e']['set'](Math['max'](_0x4617f7,this['_innerOffs'+'et']['x']*_0x47da97),Math['max'](_0x1e42f0,this['_innerOffs'+'et']['y']*_0x3eac67));let _0x4c730c=_0x47da97,_0x5c2607=_0x3eac67;this['_outerScal'+'e']['x']/=_0x47da97,this['_outerScal'+'e']['y']/=_0x3eac67,_0x4c730c*=N['clamp'](_0x4617f7/(this['_innerOffs'+'et']['x']*_0x47da97),-0xb2f+-0x22*0x89+0x1*0x1d61+0.0001,-0xbde+-0x307*0x3+0x24*0x95),_0x5c2607*=N['clamp'](_0x1e42f0/(this['_innerOffs'+'et']['y']*_0x3eac67),0x9af+0x155f*-0x1+0x1*0xbb0+0.0001,0x24*-0x28+-0x18d9+0x1*0x1e7a),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x2e*-0x65+-0x2341+-0xd9*-0x3f]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x1*0x1bb6+0x566*-0x5+-0x5*-0xaf1]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x4d1*-0x1+0x13ef+0x4*-0x3c7]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x34a*0xb+-0x17fe+0x3c2f]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x1d28+-0x1984+-0x3a4]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x1c6d*0x1+0xf7+0x1b77]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x6*-0x1eb+0x2299+-0x13*0x137]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x1*0x2f7+0x228+-0x28e*0x2]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][0x23c5+0x127+-0x24ec]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x29c*0x1+-0x8aa*-0x3+-0x1c99]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x4c730c,_0x5c2607,-0x1cf6+-0x4fb+-0x6ca*-0x5),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0x2407+-0x7d*-0x26+-0x3695+0.5-_0x2e5dea['pivot']['x'])*_0x4617f7,(0x1*-0x115b+0xa*0x2e+0x7*0x239+0.5-_0x2e5dea['pivot']['y'])*_0x1e42f0,0x1af2+0x3*0x368+-0x252a));}else{const _0x2aed6a=_0x4b563b['vertexBuff'+'er'],_0x109be7=new Float32Array(_0x2aed6a['lock']()),_0x4f1275=_0x2e5dea['pivot']['x'],_0x24bf31=_0x2e5dea['pivot']['y'];_0x109be7[0xc8*0xf+0x1*-0xae8+0xd*-0x10]=_0x4617f7-_0x4f1275*_0x4617f7,_0x109be7[0x1471*-0x1+-0x1*-0x3fd+0x1075]=-0x89*0x14+-0x2561+0x3015-_0x24bf31*_0x1e42f0,_0x109be7[0x24f+-0x5*-0x25e+-0xe1d*0x1]=_0x4617f7-_0x4f1275*_0x4617f7,_0x109be7[0x967+-0x204a+-0x28c*-0x9]=_0x1e42f0-_0x24bf31*_0x1e42f0,_0x109be7[0x1399+-0xd6f+0x1*-0x61a]=-0xb42+-0xa8*-0x32+-0x59*0x3e-_0x4f1275*_0x4617f7,_0x109be7[-0x1b16+-0x52c*0x2+0x257f]=-0xef7+0x13*-0x3+-0x18*-0xa2-_0x24bf31*_0x1e42f0,_0x109be7[0x1ee9*-0x1+0x19e9+0x4*0x146]=0x1f6*0xd+-0x20b+0x17*-0x105-_0x4f1275*_0x4617f7,_0x109be7[-0x19b3+-0x2*-0xd3b+-0x1*0xaa]=_0x1e42f0-_0x24bf31*_0x1e42f0;let _0x13226a=-0x1951+-0x1624+-0x546*-0x9,_0xf35a93=-0x1c36+-0x1*-0x917+-0x110*-0x12,_0x11fecc=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x2da77a=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x2da77a&&(_0x11fecc=_0x2da77a['rect'],_0x13226a=this['_sprite']['atlas']['texture']['width'],_0xf35a93=this['_sprite']['atlas']['texture']['height']);}_0x109be7[0xd0d+0x1cd1*-0x1+0xfca]=(_0x11fecc['x']+_0x11fecc['z'])/_0x13226a,_0x109be7[-0xb*0x4f+0x1b19*-0x1+0x1e85]=0xf27*-0x1+-0x258b*0x1+-0x34b3*-0x1-_0x11fecc['y']/_0xf35a93,_0x109be7[0x199c+0xe43*0x2+-0x3614]=(_0x11fecc['x']+_0x11fecc['z'])/_0x13226a,_0x109be7[0x33d*0x3+-0x1331*-0x1+-0x1*0x1cd9]=-0x765+0x733+0x33-(_0x11fecc['y']+_0x11fecc['w'])/_0xf35a93,_0x109be7[0x2583+-0x2fd+-0x2270]=_0x11fecc['x']/_0x13226a,_0x109be7[0x17*0xfb+-0x7e4*-0x2+-0x263e]=0x377+0xb4f+-0x1*0xec5-_0x11fecc['y']/_0xf35a93,_0x109be7[-0xb6b+0x23f+0x94a]=_0x11fecc['x']/_0x13226a,_0x109be7[0x87c+0x1d1a+-0x1a1*0x17]=0x3*-0x218+-0xfe5+0x162e-(_0x11fecc['y']+_0x11fecc['w'])/_0xf35a93,_0x2aed6a['unlock']();const _0x2ef4e9=new T(-0x1897+0x6b2*-0x4+0x335f-_0x4f1275*_0x4617f7,-0x14a5+-0x3*-0x5f3+0x2cc-_0x24bf31*_0x1e42f0,0x89e+-0x1*-0x2029+0x323*-0xd),_0x2dcbad=new T(_0x4617f7-_0x4f1275*_0x4617f7,_0x1e42f0-_0x24bf31*_0x1e42f0,0x52a+-0x212c+-0xef*-0x1e);_0x4b563b['aabb']['setMinMax'](_0x2ef4e9,_0x2dcbad),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x2361+0x3*0x1b+0x2f*0xbf,0x1f1f+-0x1*0x3f8+0x1b26*-0x1,0x1db4+-0x22d9+-0x2*-0x293),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0xc1*-0x27+0x1ff9+-0x2*0x149,-0x1af3+0x2419*0x1+0x926*-0x1,0x1*-0x22d1+0x1*0x1999+0x3b*0x28),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0x4a8*-0x1+-0x1604+0x115d);}['_updateSpr'+'ite'](){let _0x341fa9=!(0x15ff+-0x726+0x98*-0x19),_0x2d681a=null;if(this['_targetAsp'+'ectRatio']=-(-0x1539*0x1+0x5ae+0xf8c),this['_sprite']&&this['_sprite']['atlas']){_0x2d681a=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x341fa9=this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe;const _0x5ab9df=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x5ab9df==null?void(-0x111d*-0x1+0x1*-0x1b62+0xa45):_0x5ab9df['rect']['w'])>-0x1c3c+0xb9+-0x1b83*-0x1&&(this['_targetAsp'+'ectRatio']=_0x5ab9df['rect']['z']/_0x5ab9df['rect']['w']);}this['mesh']=_0x341fa9?_0x2d681a:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x92d+0x217a+-0x2aa7):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x4b83ff){return _0x4b83ff['center']['set'](0xd*0x89+-0xe0+-0x615*0x1,-0x2013+-0x4d4+0x2f*0xc9,0x250c+-0x47*-0x5+-0x266f),_0x4b83ff['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x26b5+0x4e7+-0x4*0xae7+0.5),this['_outerScal'+'e']['y']*(-0x31d+0x22e8+0xa99*-0x3+0.5),-0xb*0x197+0x7c*-0x16+0x1c25+0.001),_0x4b83ff['setFromTra'+'nsformedAa'+'bb'](_0x4b83ff,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x4b83ff;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x4ffc2f=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x4ffc2f),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x55084e){this['material']=_0x55084e['resource'];}['_onMateria'+'lAdded'](_0x5d1989){this['_system']['app']['assets']['off']('add:'+_0x5d1989['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x5d1989['id']&&this['_bindMater'+'ialAsset'](_0x5d1989);}['_bindMater'+'ialAsset'](_0x3fd78a){this['_entity']['enabled']&&(_0x3fd78a['on']('load',this['_onMateria'+'lLoad'],this),_0x3fd78a['on']('change',this['_onMateria'+'lChange'],this),_0x3fd78a['on']('remove',this['_onMateria'+'lRemove'],this),_0x3fd78a['resource']?this['_onMateria'+'lLoad'](_0x3fd78a):this['_system']['app']['assets']['load'](_0x3fd78a));}['_unbindMat'+'erialAsset'](_0x3160fe){_0x3160fe['off']('load',this['_onMateria'+'lLoad'],this),_0x3160fe['off']('change',this['_onMateria'+'lChange'],this),_0x3160fe['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x1cd90b){this['_system']['app']['assets']['off']('add:'+_0x1cd90b['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x1cd90b['id']&&this['_bindTextu'+'reAsset'](_0x1cd90b);}['_bindTextu'+'reAsset'](_0x382b7d){this['_entity']['enabled']&&(_0x382b7d['on']('load',this['_onTexture'+'Load'],this),_0x382b7d['on']('change',this['_onTexture'+'Change'],this),_0x382b7d['on']('remove',this['_onTexture'+'Remove'],this),_0x382b7d['resource']?this['_onTexture'+'Load'](_0x382b7d):this['_system']['app']['assets']['load'](_0x382b7d));}['_unbindTex'+'tureAsset'](_0x52366f){_0x52366f['off']('load',this['_onTexture'+'Load'],this),_0x52366f['off']('change',this['_onTexture'+'Change'],this),_0x52366f['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x219ce4){this['texture']=_0x219ce4['resource'];}['_onTexture'+'Change'](_0x87b825){}['_onTexture'+'Remove'](_0x2d6612){}['_onSpriteA'+'ssetAdded'](_0x2a2df9){this['_system']['app']['assets']['off']('add:'+_0x2a2df9['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x2a2df9['id']&&this['_bindSprit'+'eAsset'](_0x2a2df9);}['_bindSprit'+'eAsset'](_0x4a731b){this['_entity']['enabled']&&(_0x4a731b['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x4a731b['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x4a731b['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x4a731b['resource']?this['_onSpriteA'+'ssetLoad'](_0x4a731b):this['_system']['app']['assets']['load'](_0x4a731b));}['_unbindSpr'+'iteAsset'](_0x108c71){_0x108c71['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x108c71['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x108c71['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x108c71['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x108c71['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x1a7864){if(!_0x1a7864||!_0x1a7864['resource'])this['sprite']=null;else{if(_0x1a7864['resource']['atlas'])this['sprite']=_0x1a7864['resource'];else{const _0xebe3c9=_0x1a7864['data']['textureAtl'+'asAsset'];if(_0xebe3c9){const _0x2470e6=this['_system']['app']['assets'];_0x2470e6['off']('load:'+_0xebe3c9,this['_onTexture'+'AtlasLoad'],this),_0x2470e6['once']('load:'+_0xebe3c9,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x1f7a0d){this['_onSpriteA'+'ssetLoad'](_0x1f7a0d);}['_onSpriteA'+'ssetRemove'](_0x1b3483){}['_bindSprit'+'e'](_0x457562){this['_evtSetMes'+'hes']=_0x457562['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x457562['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x457562['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x457562['atlas']&&_0x457562['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x53e930){var _0x4fadf1;(_0x4fadf1=this['_evtSetMes'+'hes'])==null||_0x4fadf1['off'](),this['_evtSetMes'+'hes']=null,_0x53e930['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x53e930['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x53e930['atlas']&&_0x53e930['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x10ef*0x1+-0x99+0x1188,this['_sprite']['frameKeys']['length']-(0x4*-0x6a1+-0x1*0x1655+0x4a*0xa9))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Ti&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x1ecb98){const _0xa85746=this['_spriteAss'+'et'];_0xa85746 instanceof le?this['_onSpriteA'+'ssetLoad'](_0xa85746):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0xa85746));}['onEnable'](){if(this['_materialA'+'sset']){const _0x158934=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x158934&&_0x158934['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x158934);}if(this['_textureAs'+'set']){const _0x5e7313=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x5e7313&&_0x5e7313['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x5e7313);}if(this['_spriteAss'+'et']){const _0x3f563a=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x3f563a&&_0x3f563a['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x3f563a);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x2b6a5a){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x2b6a5a,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x2b6a5a;let _0x3e7610=0x2419+-0xd36+-0x16e3;if(this['_element']['maskedBy']&&(_0x3e7610=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x42483b=new qs({'ref':_0x3e7610+(0x4*0x6d9+-0x2*0x1dd+0x3*-0x7e3),'func':Ch,'zpass':$S});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x42483b,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x42483b;}}['_updateRen'+'derableEmi'+'ssive'](){jl['linear'](this['_color']),this['_colorUnif'+'orm'][0x51a+0x135*-0x1c+0xe59*0x2]=jl['r'],this['_colorUnif'+'orm'][-0xdff+-0xce8+0x1ae8]=jl['g'],this['_colorUnif'+'orm'][0x6c*0x4+0xbe1*-0x3+0x21f5]=jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x4b606c){this['_color']===_0x4b606c&&v['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x7bc579,g:_0x300c95,b:_0x5a2467}=_0x4b606c;(this['_color']['r']!==_0x7bc579||this['_color']['g']!==_0x300c95||this['_color']['b']!==_0x5a2467)&&(this['_color']['r']=_0x7bc579,this['_color']['g']=_0x300c95,this['_color']['b']=_0x5a2467,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x3686ca){_0x3686ca!==this['_color']['a']&&(this['_color']['a']=_0x3686ca,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x3686ca)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x3686ca);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x4b16cf){this['_rect']===_0x4b16cf&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x22a10c,_0x34aa4a,_0x702ac5,_0x3bffda;_0x4b16cf instanceof Q?(_0x22a10c=_0x4b16cf['x'],_0x34aa4a=_0x4b16cf['y'],_0x702ac5=_0x4b16cf['z'],_0x3bffda=_0x4b16cf['w']):(_0x22a10c=_0x4b16cf[0x47d+0x407*0x9+-0x28bc],_0x34aa4a=_0x4b16cf[0x1f8a+0x41*-0x7d+0x34*0x1],_0x702ac5=_0x4b16cf[-0x191*-0x18+0x5b*-0x59+-0x5f3],_0x3bffda=_0x4b16cf[-0x645+0x1c63+-0x161b]),!(_0x22a10c===this['_rect']['x']&&_0x34aa4a===this['_rect']['y']&&_0x702ac5===this['_rect']['z']&&_0x3bffda===this['_rect']['w'])&&(this['_rect']['set'](_0x22a10c,_0x34aa4a,_0x702ac5,_0x3bffda),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x1eb6+-0x7eb+0x26a1):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x57db42=this['_system']['app']['assets'];_0x57db42['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x5747c2=_0x57db42['get'](this['_materialA'+'sset']);_0x5747c2&&(_0x5747c2['off']('load',this['_onMateria'+'lLoad'],this),_0x5747c2['off']('change',this['_onMateria'+'lChange'],this),_0x5747c2['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x30eb2b){if(this['_material']!==_0x30eb2b){if(!_0x30eb2b){const _0x54214b=this['_element']['_isScreenS'+'pace']();this['mask']?_0x30eb2b=_0x54214b?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x30eb2b=_0x54214b?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x30eb2b,this['_materialA'+'sset']){const _0x492296=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x492296||_0x492296['resource']!==_0x30eb2b)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x30eb2b&&(this['_renderabl'+'e']['setMateria'+'l'](_0x30eb2b),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x4d43c0){const _0x228fc3=this['_system']['app']['assets'];let _0x12bf8e=_0x4d43c0;if(_0x4d43c0 instanceof le&&(_0x12bf8e=_0x4d43c0['id']),this['_materialA'+'sset']!==_0x12bf8e){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x12bf8e,this['_materialA'+'sset']){const _0x4e6679=_0x228fc3['get'](this['_materialA'+'sset']);_0x4e6679?this['_bindMater'+'ialAsset'](_0x4e6679):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x12bf8e,_0x228fc3['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x12bf8e;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x31ae16){if(this['_texture']!==_0x31ae16){if(this['_textureAs'+'set']){const _0x81dda6=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x81dda6&&_0x81dda6['resource']!==_0x31ae16&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x31ae16,_0x31ae16){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x2a41f6=this['_texture']['width']/this['_texture']['height'];_0x2a41f6!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x2a41f6,this['_element']['fitMode']!==gh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x1d21+-0x7*0x244+0x4*-0x351),this['_element']['fitMode']!==gh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x5181b4){const _0x452de4=this['_system']['app']['assets'];let _0x874f86=_0x5181b4;if(_0x5181b4 instanceof le&&(_0x874f86=_0x5181b4['id']),this['_textureAs'+'set']!==_0x874f86){if(this['_textureAs'+'set']){_0x452de4['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x42c07d=_0x452de4['get'](this['_textureAs'+'set']);_0x42c07d&&(_0x42c07d['off']('load',this['_onTexture'+'Load'],this),_0x42c07d['off']('change',this['_onTexture'+'Change'],this),_0x42c07d['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x874f86,this['_textureAs'+'set']){const _0x3db3b9=_0x452de4['get'](this['_textureAs'+'set']);_0x3db3b9?this['_bindTextu'+'reAsset'](_0x3db3b9):(this['texture']=null,_0x452de4['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x30cb33){const _0x50b726=this['_system']['app']['assets'];let _0x380a17=_0x30cb33;if(_0x30cb33 instanceof le&&(_0x380a17=_0x30cb33['id']),this['_spriteAss'+'et']!==_0x380a17){if(this['_spriteAss'+'et']){_0x50b726['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x2fb81c=_0x50b726['get'](this['_spriteAss'+'et']);_0x2fb81c&&this['_unbindSpr'+'iteAsset'](_0x2fb81c);}if(this['_spriteAss'+'et']=_0x380a17,this['_spriteAss'+'et']){const _0x578e4a=_0x50b726['get'](this['_spriteAss'+'et']);_0x578e4a?this['_bindSprit'+'eAsset'](_0x578e4a):(this['sprite']=null,_0x50b726['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x380a17);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x56febd){if(this['_sprite']!==_0x56febd){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x1f76e7=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x1f76e7&&_0x1f76e7['resource']!==_0x56febd&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x56febd,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0xbbe+-0x1e44+0x2a02,this['_sprite']['frameKeys']['length']-(0x1*-0x16ca+0x14c6+0x205*0x1))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x1f3272){const _0x4dba52=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=N['clamp'](_0x1f3272,-0x25be+0x111f+-0x1*-0x149f,this['_sprite']['frameKeys']['length']-(-0x2f9*-0x7+0x155a+-0x2a28)):this['_spriteFra'+'me']=_0x1f3272,this['_spriteFra'+'me']!==_0x4dba52&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x1f3272);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x3ed0d7){this['_renderabl'+'e']['setMesh'](_0x3ed0d7),this['_defaultMe'+'sh']===_0x3ed0d7?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x198452){this['_mask']!==_0x198452&&(this['_mask']=_0x198452,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x2be104){this['_pixelsPer'+'Unit']!==_0x2be104&&(this['_pixelsPer'+'Unit']=_0x2be104,this['_sprite']&&(this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class gR extends ce{constructor(_0x39a646){super(),this['_app']=_0x39a646,_0x39a646['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(0x1c6e+-0xc36+0x1*-0x1037),this['_disableLo'+'calization']=!(0x1079+0x19*0x2c+-0x14c4),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x3e5e5c){const _0x4cf515=_0x3e5e5c instanceof le?_0x3e5e5c['id']:_0x3e5e5c;this['_defaultAs'+'set']!==_0x4cf515&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x4cf515,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x2bed86){const _0x5581c3=_0x2bed86 instanceof le?_0x2bed86['id']:_0x2bed86;this['_localized'+'Asset']!==_0x5581c3&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x5581c3,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x23f3b9){this['_autoLoad']!==_0x23f3b9&&(this['_autoLoad']=_0x23f3b9,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x4fe46f){this['_disableLo'+'calization']!==_0x4fe46f&&(this['_disableLo'+'calization']=_0x4fe46f,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x1b373a=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x1b373a?this['_onDefault'+'AssetAdd'](_0x1b373a):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x2f97fe=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x2f97fe&&(_0x2f97fe['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x2f97fe['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x2f97fe['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x373dff){this['_defaultAs'+'set']===_0x373dff['id']&&(_0x373dff['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x373dff['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x373dff['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x2f2f2f){this['_defaultAs'+'set']===_0x2f2f2f['id']&&(_0x2f2f2f['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x2f2f2f['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x1323ba=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x1323ba&&(_0x1323ba['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x1323ba['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x1323ba['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x1323ba['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x1323ba):this['_app']['assets']['load'](_0x1323ba));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x4d3104=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x4d3104&&(_0x4d3104['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x4d3104['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x4d3104['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x27e483){this['_localized'+'Asset']===_0x27e483['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x5108f){this['fire']('load',_0x5108f);}['_onLocaliz'+'edAssetCha'+'nge'](_0x53bfce,_0x1a2d8c,_0x56e1c0,_0x1f8470){this['fire']('change',_0x53bfce,_0x1a2d8c,_0x56e1c0,_0x1f8470);}['_onLocaliz'+'edAssetRem'+'ove'](_0x2f8a2f){this['_localized'+'Asset']===_0x2f8a2f['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x2f8a2f);}['_onLocaleA'+'dd'](_0xf80fa3,_0x22ce7d){this['_app']['i18n']['locale']===_0xf80fa3&&this['_onSetLoca'+'le'](_0xf80fa3);}['_onLocaleR'+'emove'](_0x3afa5a,_0x113060){this['_app']['i18n']['locale']===_0x3afa5a&&this['_onSetLoca'+'le'](_0x3afa5a);}['_onSetLoca'+'le'](_0x130776){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x49acbd=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x49acbd||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x3f0f48=_0x49acbd['getLocaliz'+'edAssetId'](_0x130776);if(!_0x3f0f48){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x3f0f48;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const Kh='msdf',yR='bitmap',ho=-0x101f*0x2+0x3*0xc77+-0x527,Kn=0xad3+-0xd8a+0x2b8,of=-0x51b*-0x2+0x1da2+-0x27d6,ix=0x1cef+0x8e7*-0x2+-0x2*0x58f,lf=0x4cc+-0x21ef+-0x1b7*-0x11,hf=0x2*-0x5a8+0x22a7+-0x3e3*0x6,cf=0x1a93+0x5*-0x79e+-0x1*-0xb89,df=-0x1*0x1d87+-0x1b70+0x5b3*0xa,dg=-0x53a+0xa*0x1c6+-0xc7a,xR='\x20\x09\x0a\x0d\x0b\x0c',SR=/[\w|/]/;class vR{constructor(_0x5b4fdb){this['_symbols']=_0x5b4fdb,this['_index']=0x1951+0x1083+-0xa75*0x4,this['_last']=-0x3*-0x301+0x18d+-0xa90,this['_cur']=this['_symbols']['length']>0x533*0x1+-0x6b*-0x3f+0x1f88*-0x1?this['_symbols'][0x131*0xa+-0x58*0x8+-0x92a]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x3c8d03=this['_read']();for(;_0x3c8d03===dg;)_0x3c8d03=this['_read']();return _0x3c8d03!==ho&&_0x3c8d03!==Kn&&(this['_last']=this['_index']),_0x3c8d03;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x56f6db=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x67f499=this['read'](),_0x57a885='';for(;_0x57a885+=(_0x57a885['length']>-0x2*0xb8d+0x1d3+-0x1a3*-0xd?'\x0a':'')+_0x56f6db[_0x67f499]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x67f499===ho||_0x67f499===Kn);)_0x67f499=this['read']();return _0x57a885;}['_read'](){return this['_buf']=[],this['_eof']()?ho:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0xaf7+0xabd*-0x1+0x15b4?of:ho;case'[':return this['_mode']='tag',this['_buf']['length']>-0x1376*0x1+0x24f7+0x1181*-0x1?of:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Kn;case'[':return this['_store'](),ix;case']':return this['_store'](),this['_mode']='text',lf;case'=':return this['_store'](),hf;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Kn);}}['_whitespac'+'e'](){for(this['_store']();xR['indexOf'](this['_cur'])!==-(0x18af+0x26f6+-0x3fa4);)this['_store']();return dg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Kn;case'\x22':return this['_next'](),cf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return df;}['_isIdentif'+'ierSymbol'](_0x3b7d65){return _0x3b7d65['length']===-0xfa2+0x1976+-0x9d3&&_0x3b7d65['match'](SR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x157f55){this['_buf']['push'](_0x157f55);}}class bR{constructor(_0x2a8312){this['_scanner']=new vR(_0x2a8312),this['_error']=null;}['parse'](_0x2128d6,_0x524cfa){for(;;)switch(this['_scanner']['read']()){case ho:return!(0x213f+0x4f*-0x5f+0x1*-0x3ee);case Kn:return!(-0x653*0x6+-0x2099+0x468c);case of:Array['prototype']['push']['apply'](_0x2128d6,this['_scanner']['buf']());break;case ix:if(!this['_parseTag'](_0x2128d6,_0x524cfa))return!(-0xea8+0x165a*0x1+-0x7b1);break;default:return!(-0xfb*0xf+-0x1*0xe3f+-0x15*-0x161);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x95d5cb,_0x5c13bc){let _0xa0f941=this['_scanner']['read']();if(_0xa0f941!==df)return this['_error']='expected\x20i'+'dentifier',!(0x114*-0x7+0x45+0x748);const _0x1e5e00=this['_scanner']['buf']()['join']('');if(_0x1e5e00[-0x113+0x709*0x5+-0x221a]==='/'){for(let _0x2253f1=_0x5c13bc['length']-(0xe*0x3d+-0xb*0x8b+-0x1*-0x2a4);_0x2253f1>=0x1*0x24c+0x2454+-0x26a0;--_0x2253f1)if(_0x1e5e00==='/'+_0x5c13bc[_0x2253f1]['name']&&_0x5c13bc[_0x2253f1]['end']===null)return _0x5c13bc[_0x2253f1]['end']=_0x95d5cb['length'],_0xa0f941=this['_scanner']['read'](),_0xa0f941!==lf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(0x78b*-0x1+-0x645+-0x83*-0x1b)):!(-0x15*0x79+0x1*-0xa3b+0x1428);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0x1f6f+-0x1426+-0xb48);}const _0xa107c2={'name':_0x1e5e00,'value':null,'attributes':{},'start':_0x95d5cb['length'],'end':null};if(_0xa0f941=this['_scanner']['read'](),_0xa0f941===hf){if(_0xa0f941=this['_scanner']['read'](),_0xa0f941!==cf)return this['_error']='expected\x20s'+'tring',!(-0xa01+-0xcfb*0x3+0x30f3);_0xa107c2['value']=this['_scanner']['buf']()['join'](''),_0xa0f941=this['_scanner']['read']();}for(;;){switch(_0xa0f941){case lf:return _0x5c13bc['push'](_0xa107c2),!(-0x1*-0x163b+-0x1765*0x1+-0x1*-0x12a);case df:{const _0x4d671b=this['_scanner']['buf']()['join']('');if(_0xa0f941=this['_scanner']['read'](),_0xa0f941!==hf)return this['_error']='expected\x20e'+'quals',!(-0x7b8+-0x9*0x3e4+-0x1*-0x2abd);if(_0xa0f941=this['_scanner']['read'](),_0xa0f941!==cf)return this['_error']='expected\x20s'+'tring',!(0x1b93+-0x47*-0x38+-0x2b1a);const _0x46cb59=this['_scanner']['buf']()['join']('');_0xa107c2['attributes'][_0x4d671b]=_0x46cb59;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0x4f*0x1e+-0x13*0x7f+-0x8*-0x256);}_0xa0f941=this['_scanner']['read']();}}}function rx(_0x4019f8,_0x293d53){for(const _0x3b8bc0 in _0x293d53){if(!_0x293d53['hasOwnProp'+'erty'](_0x3b8bc0))continue;const _0x1bc1f1=_0x293d53[_0x3b8bc0];_0x1bc1f1 instanceof Object?(_0x4019f8['hasOwnProp'+'erty'](_0x3b8bc0)||(_0x4019f8[_0x3b8bc0]={}),rx(_0x4019f8[_0x3b8bc0],_0x293d53[_0x3b8bc0])):_0x4019f8[_0x3b8bc0]=_0x1bc1f1;}}function wR(_0x2bce5c){if(_0x2bce5c['length']===0x4f3+-0x1831+-0x6*-0x335)return null;const _0x4c2736={};for(let _0x209e4b=0xcd5+0x37c+-0x1051;_0x209e4b<_0x2bce5c['length'];++_0x209e4b){const _0x254f94=_0x2bce5c[_0x209e4b],_0x532638={};_0x532638[_0x254f94['name']]={'value':_0x254f94['value'],'attributes':_0x254f94['attributes']},rx(_0x4c2736,_0x532638);}return _0x4c2736;}function TR(_0x4fcecd,_0x2d5e2c){if(_0x4fcecd['length']===0x3af+-0x1ec0+-0xa9*-0x29)return null;const _0xb5d737={};for(let _0x2eaca5=0x7d1+-0x7f*-0x2e+0x1f*-0xfd;_0x2eaca5<_0x4fcecd['length'];++_0x2eaca5){const _0x41b700=_0x4fcecd[_0x2eaca5];_0xb5d737['hasOwnProp'+'erty'](_0x41b700['start'])?_0xb5d737[_0x41b700['start']]['open']===null?_0xb5d737[_0x41b700['start']]['open']=[_0x41b700]:_0xb5d737[_0x41b700['start']]['open']['push'](_0x41b700):_0xb5d737[_0x41b700['start']]={'open':[_0x41b700],'close':null},_0xb5d737['hasOwnProp'+'erty'](_0x41b700['end'])?_0xb5d737[_0x41b700['end']]['close']===null?_0xb5d737[_0x41b700['end']]['close']=[_0x41b700]:_0xb5d737[_0x41b700['end']]['close']['push'](_0x41b700):_0xb5d737[_0x41b700['end']]={'open':null,'close':[_0x41b700]};}let _0x238a4f=[];function _0x14199a(_0x3881d7){_0x238a4f=_0x238a4f['filter'](_0x1d4dd3=>_0x3881d7['find'](_0x57ea7e=>_0x57ea7e===_0x1d4dd3)===void(0x23d0+0x6*-0x63a+-0xc6*-0x2));}function _0x3239af(_0x3d9b3a){for(let _0x50a9c9=0xa9e+0x1a82+-0x2520;_0x50a9c9<_0x3d9b3a['length'];++_0x50a9c9)_0x238a4f['push'](_0x3d9b3a[_0x50a9c9]);}const _0x405ae0=Object['keys'](_0xb5d737)['sort']((_0x5d2eee,_0x167f68)=>_0x5d2eee-_0x167f68),_0x212540=[];for(let _0x2403ec=0x293*0x7+-0xdcb+-0x43a;_0x2403ec<_0x405ae0['length'];++_0x2403ec){const _0x553afe=_0xb5d737[_0x405ae0[_0x2403ec]];_0x553afe['close']!==null&&_0x14199a(_0x553afe['close']),_0x553afe['open']!==null&&_0x3239af(_0x553afe['open']),_0x212540['push']({'start':_0x405ae0[_0x2403ec],'tags':wR(_0x238a4f)});}const _0x13c5e4=[];let _0x365c19=null;for(let _0x36303f=-0x1*-0x11a7+-0xa19+-0x78e;_0x36303f<_0x212540['length'];++_0x36303f){const _0xc48e6=_0x212540[_0x36303f];for(;_0x13c5e4['length']<_0xc48e6['start'];)_0x13c5e4['push'](_0x365c19?_0x365c19['tags']:null);_0x365c19=_0xc48e6;}for(;_0x13c5e4['length']<_0x2d5e2c;)_0x13c5e4['push'](null);return _0x13c5e4;}function AR(_0x2ee74e){const _0x3c5730=new bR(_0x2ee74e),_0x2d77fc=[],_0x53dea7=[];if(!_0x3c5730['parse'](_0x2d77fc,_0x53dea7))return console['warn'](_0x3c5730['error']()),{'symbols':_0x2ee74e,'tags':null};const _0x18b494=_0x53dea7['find'](_0xbf5807=>_0xbf5807['end']===null);if(_0x18b494)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x18b494['name']+'\x27'),{'symbols':_0x2ee74e,'tags':null};const _0x31ba68=TR(_0x53dea7,_0x2d77fc['length']);return{'symbols':_0x2d77fc,'tags':_0x31ba68};}class ER{static['evaluate'](_0x528120){return AR(_0x528120);}}class CR{constructor(){this['count']=0x103a+0xd5d*0x1+0x1f9*-0xf,this['quad']=-0x1729+-0x52f*-0x1+-0x8fd*-0x2,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function MR(_0x4a48fe,_0x2ac52e){const _0x20939f=new Ie(_0x4a48fe);return _0x20939f['setPositio'+'ns'](_0x2ac52e['positions']),_0x20939f['setNormals'](_0x2ac52e['normals']),_0x20939f['setColors3'+'2'](_0x2ac52e['colors']),_0x20939f['setUvs'](-0xad2+0x118e+-0x6bc,_0x2ac52e['uvs']),_0x20939f['setIndices'](_0x2ac52e['indices']),_0x20939f['setVertexS'+'tream'](Po,_0x2ac52e['outlines'],0x46f+0x2238+-0x26a4,void(-0x1*-0x1184+0x406+-0x158a),Ee,!(0x13*-0x14c+0x4d3+0x13d2)),_0x20939f['setVertexS'+'tream'](Ro,_0x2ac52e['shadows'],-0x1ea7+-0x1743+-0xac9*-0x5,void(-0x17*-0x1a3+0xb7*0x1d+-0x3a60),Ee,!(-0x25ac+0x45c+0x2151)),_0x20939f['update'](),_0x20939f;}const ug=/^[\r\n]$/,PR=/^[ \t]$/,fg=/^[ \t\-]|\u200b$/,RR=/^[a-z0-9]$/i,pg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,IR=/^[〕〉》」』】〙〗〟ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻]$/,DR=['​','؜','‎','‏','‪','‫','‬','‭','‮','⁦','⁧','⁨','⁩'],LR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},mg=new Y(),FR=new $(),Me=new Y();class OR{constructor(_0x416f2d){this['_element']=_0x416f2d,this['_system']=_0x416f2d['system'],this['_entity']=_0x416f2d['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new gR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0x9b8+0xa*-0xcd+0x11ba),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(-0x1b77+0x2*-0x127f+0x4076,0x22b*-0xf+0x1eb*-0x7+-0xf51*-0x3,0x2429*-0x1+0x38d+-0x79*-0x45,0xfbb+-0x2b*0x1+-0x1*0xf8f),this['_colorUnif'+'orm']=new Float32Array(0x59*0x6b+0x73b+-0x2c6b),this['_spacing']=0x33f*0x1+0x263*-0x1+-0xdb,this['_fontSize']=0xc5*-0x4+0x17a0+0xa36*-0x2,this['_fontMinY']=0xd6d+0x13d1+0x2e*-0xb9,this['_fontMaxY']=-0x1ec4+-0x179b+-0x1f*-0x1c1,this['_originalF'+'ontSize']=-0x1ea6+-0x3d*-0x53+-0x1*-0xaff,this['_maxFontSi'+'ze']=-0xd33+0x2326+-0x25*0x97,this['_minFontSi'+'ze']=-0x22cd*-0x1+0x7*0x515+-0x4658,this['_autoFitWi'+'dth']=!(0x517*0x1+-0x5*0x1c+-0x48a),this['_autoFitHe'+'ight']=!(-0x17c5+-0x5c4*-0x6+-0x5*0x22a),this['_maxLines']=-(0x3*-0xb01+-0x14e*0xa+0x86*0x58),this['_lineHeigh'+'t']=0x1d84+-0x2184+-0x18*-0x2c,this['_scaledLin'+'eHeight']=-0x601*-0x1+0x20d2+-0x26b3,this['_wrapLines']=!(-0x88a*-0x3+-0x23a5+0xa08),this['_drawOrder']=-0x1*0x4ef+0xb81+-0x692,this['_alignment']=new $(0xdc9+0x109e+0x1e67*-0x1+0.5,-0x3e+0x49*0x55+0x1*-0x17ff+0.5),this['_autoWidth']=!(-0x6cb*-0x2+0x169d+0x3*-0xc11),this['_autoHeigh'+'t']=!(-0x1*0x183d+-0x188c+-0x1*-0x30c9),this['width']=-0x1273*-0x1+0x1347+-0x25ba,this['height']=0x831+-0x1*0x22b6+0x1a85,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0xc*-0x217+0x3b*-0xa+-0xdb1*-0x2),this['_aabb']=new _e(),this['_noResize']=!(-0x1d90+-0x1*-0x1c91+-0x1*-0x100),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0x12e4+0x287*0xf+-0x4*0x4c1),this['_unicodeCo'+'nverter']=!(0x76*-0x3b+0xc39+0xefa),this['_rtl']=!(-0xd*-0x137+0x1380+-0x1*0x234a),this['_outlineCo'+'lor']=new Y(-0x1*0x20c3+0x59f*-0x5+0x6*0xa25,-0x5b3*-0x1+-0x1*-0x21af+-0x2762,0x19d3+-0x1*0x4c3+0x4*-0x544,-0xaf0+0x8*-0x1f3+0x1a89),this['_outlineCo'+'lorUniform']=new Float32Array(0x1370+0x10*-0x20+0x37c*-0x5),this['_outlineTh'+'icknessSca'+'le']=0x9a3*0x3+-0x160f+-0x6da+0.2,this['_outlineTh'+'ickness']=0x159f+0x1*0x1efd+-0xd*0x40c,this['_shadowCol'+'or']=new Y(-0x5*0x66e+-0x1fea+0x4010,-0x3d4+-0x979+0xd4d,-0x5d*0x49+-0x1ab*-0x11+0x5e*-0x5,0x1f0e+-0x4f*0x1c+0x1669*-0x1),this['_shadowCol'+'orUniform']=new Float32Array(0x2*0xf1c+-0xda0+-0x2*0x84a),this['_shadowOff'+'setScale']=-0x547*0x4+0xdca+-0x1*-0x752+0.005,this['_shadowOff'+'set']=new $(-0x16c1+0x4aa*-0x4+0x2969,0xec+0x12f0+-0x13dc),this['_shadowOff'+'setUniform']=new Float32Array(0xc17+-0x6a*-0x5+0xe27*-0x1),this['_enableMar'+'kup']=!(-0x3*-0xb3e+-0x13a6+-0xe13),this['_onScreenC'+'hange'](this['_element']['screen']),_0x416f2d['on']('resize',this['_onParentR'+'esize'],this),_0x416f2d['on']('set:screen',this['_onScreenC'+'hange'],this),_0x416f2d['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x416f2d['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x416f2d['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=-0x60d+-0xb3+0x6c0,this['_rangeEnd']=0x14a7+-0x1310*-0x2+0x16f*-0x29;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x3ecd3c,_0x42be08){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x5e5b7f){_0x5e5b7f?this['_updateMat'+'erial'](_0x5e5b7f['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x4cc*0x3+-0x183+0xfe8));}['_onScreenS'+'paceChange'](_0x1462be){this['_updateMat'+'erial'](_0x1462be);}['_onDrawOrd'+'erChange'](_0x5b911e){if(this['_drawOrder']=_0x5b911e,this['_model']){for(let _0x1608e1=-0x1bc3+0x8a0+0x1323,_0x2e4320=this['_model']['meshInstan'+'ces']['length'];_0x1608e1<_0x2e4320;_0x1608e1++)this['_model']['meshInstan'+'ces'][_0x1608e1]['drawOrder']=_0x5b911e;}}['_onPivotCh'+'ange'](_0x4d0424){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x358483){if(this['_i18nKey']){if(this['fontAsset']){const _0x310be6=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x310be6||!_0x310be6['resource']||_0x310be6['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x33b647,_0x4ac496){this['_i18nKey']&&_0x4ac496[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x2f6a0f){if(this['unicodeCon'+'verter']){const _0x315d1b=this['_system']['getUnicode'+'Converter']();_0x315d1b?_0x2f6a0f=_0x315d1b(_0x2f6a0f):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x2f6a0f&&(this['_font']&&this['_updateTex'+'t'](_0x2f6a0f),this['_text']=_0x2f6a0f);}['_updateTex'+'t'](_0x1a4b8e){let _0x15a37f;if(_0x1a4b8e===void(0x3*0x19b+0x170e+-0x1bdf)&&(_0x1a4b8e=this['_text']),this['_symbols']=ah['getSymbols'](_0x1a4b8e['normalize']?_0x1a4b8e['normalize']('NFC'):_0x1a4b8e),this['_symbols']['length']===0x1*0x2377+-0x16b+0x220c*-0x1&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x199589=ER['evaluate'](this['_symbols']);this['_symbols']=_0x199589['symbols'],_0x15a37f=_0x199589['tags']||[];}if(this['_rtlReorde'+'r']){const _0x8e91f7=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x8e91f7){const _0x323f05=_0x8e91f7(this['_symbols']);this['_rtl']=_0x323f05['rtl'],this['_symbols']=_0x323f05['mapping']['map'](function(_0x152e44){return this['_symbols'][_0x152e44];},this),_0x15a37f&&(_0x15a37f=_0x323f05['mapping']['map'](_0x2e4bae=>_0x15a37f[_0x2e4bae]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x1*-0xd37+0x1e5c+-0x2b92);const _0x57a7e4=(_0x2e917f,_0x261c21)=>_0x2e917f['toString'](!(0x261a+-0x2361+-0x2b9))['toLowerCas'+'e']()+':'+_0x261c21['toFixed'](0x10da+-0x17b2+-0x1*-0x6da),_0x2406e4=(_0x56a4af,_0x38e09b)=>_0x56a4af['toString'](!(-0x18c9+-0xc59+0x2522))['toLowerCas'+'e']()+':'+_0x38e09b['x']['toFixed'](0x24a9+-0x1*0x192+-0x2315)+':'+_0x38e09b['y']['toFixed'](-0xd77+-0x7*-0x4fa+-0x155d);if(_0x15a37f){const _0x3acfa2={},_0x2fb787={},_0x53b826={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(0x246d+-0x18c1+-0xaad)),Math['round'](this['_color']['g']*(0x100*-0x4+-0xd*-0x242+-0x185b)),Math['round'](this['_color']['b']*(-0x6f1*0x2+0x21e1+-0x1300))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x107b+0xe*0x1cc+-0x7ae)),Math['round'](this['_outlineCo'+'lor']['g']*(-0x8d*0x3a+0x14*0x113+0x7*0x1a3)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x2307+0x1a9*0xb+0x11c3)),Math['round'](this['_outlineCo'+'lor']['a']*(0x43*-0x5e+0x1d32+-0x399)),Math['round'](this['_outlineTh'+'ickness']*(0xbe2+0x1929+-0x240c*0x1))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0x1685+-0x2*0x3cb+-0x3*-0xa5e)),Math['round'](this['_shadowCol'+'or']['g']*(-0xc6f+-0x11a4+-0xc2*-0x29)),Math['round'](this['_shadowCol'+'or']['b']*(-0x1bd7+0x17c2*0x1+0x104*0x5)),Math['round'](this['_shadowCol'+'or']['a']*(-0x140a+0x1d*0x89+-0x161*-0x4)),Math['round'](this['_shadowOff'+'set']['x']*(0x1394+-0x4e4+0xad*-0x15)),Math['round'](this['_shadowOff'+'set']['y']*(-0x2*-0x1033+0x1b80+-0x3b67))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x3acfa2[this['_color']['toString'](!(-0x1e0a+-0x2*-0x16e+0x1b2f))['toLowerCas'+'e']()]=0x2400+0x1e07+-0x4207,_0x2fb787[_0x57a7e4(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x9d8+0xd64*0x2+-0x24a0,_0x53b826[_0x2406e4(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=0x5*0x71+0x170+-0x3a5;for(let _0x4c77a1=0x2*0x351+0x1df2*-0x1+0x1750,_0x1004b1=this['_symbols']['length'];_0x4c77a1<_0x1004b1;++_0x4c77a1){const _0x2483c9=_0x15a37f[_0x4c77a1];let _0x47b168=-0x948+0x2*-0x9b9+0x1cba;if(_0x2483c9&&_0x2483c9['color']&&_0x2483c9['color']['value']){const _0xc9e602=_0x2483c9['color']['value'];if(_0xc9e602['length']===-0x36c+0x1*0x1269+0x5*-0x2fe&&_0xc9e602[0x142a+0x11ea*0x2+-0x37fe]==='#'){const _0x5509c5=_0xc9e602['substring'](-0xc64+-0x1*-0x175d+-0x6*0x1d4)['toLowerCas'+'e']();_0x3acfa2['hasOwnProp'+'erty'](_0x5509c5)?_0x47b168=_0x3acfa2[_0x5509c5]:/^[0-9a-f]{6}$/['test'](_0x5509c5)&&(_0x47b168=this['_colorPale'+'tte']['length']/(-0x1efb+0xc7c+0x1282),_0x3acfa2[_0x5509c5]=_0x47b168,this['_colorPale'+'tte']['push'](parseInt(_0x5509c5['substring'](-0x10cb*-0x2+0xc0b*0x3+-0x45b7,0xa8c+0x1b0f+-0x2599),-0x18*-0x52+0xb8b+-0x132b)),this['_colorPale'+'tte']['push'](parseInt(_0x5509c5['substring'](0x167f+-0x1055+-0x2*0x314,0xca7+-0x109*0x1b+-0x1*-0xf50),0xb3*0xe+0x7*0xc0+-0xefa)),this['_colorPale'+'tte']['push'](parseInt(_0x5509c5['substring'](-0x1*0x14d5+-0xd*0x255+0x332a,-0xf12+0x23d5*-0x1+-0x1*-0x32ed),-0x9*0xf4+0x7d2*0x1+0xd2)));}}this['_symbolCol'+'ors']['push'](_0x47b168);let _0x209349=0x14c*-0x16+0x9*0x1f1+-0x95*-0x13;if(_0x2483c9&&_0x2483c9['outline']&&(_0x2483c9['outline']['attributes']['color']||_0x2483c9['outline']['attributes']['thickness'])){let _0x3a747e=_0x2483c9['outline']['attributes']['color']?mg['fromString'](_0x2483c9['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x5e3f65=Number(_0x2483c9['outline']['attributes']['thickness']);(Number['isNaN'](_0x3a747e['r'])||Number['isNaN'](_0x3a747e['g'])||Number['isNaN'](_0x3a747e['b'])||Number['isNaN'](_0x3a747e['a']))&&(_0x3a747e=this['_outlineCo'+'lor']),Number['isNaN'](_0x5e3f65)&&(_0x5e3f65=this['_outlineTh'+'ickness']);const _0x4f044d=_0x57a7e4(_0x3a747e,_0x5e3f65);_0x2fb787['hasOwnProp'+'erty'](_0x4f044d)?_0x209349=_0x2fb787[_0x4f044d]:(_0x209349=this['_outlinePa'+'lette']['length']/(-0x590+0x87a+0x39*-0xd),_0x2fb787[_0x4f044d]=_0x209349,this['_outlinePa'+'lette']['push'](Math['round'](_0x3a747e['r']*(0x1df*0x10+-0x180f+-0x19*0x32)),Math['round'](_0x3a747e['g']*(-0x1c72+0x3ad*-0x5+0x2fd2)),Math['round'](_0x3a747e['b']*(-0x1b7+0x1*0xfef+0xd39*-0x1)),Math['round'](_0x3a747e['a']*(-0x1*-0x2395+-0x72e*-0x2+0x1*-0x30f2)),Math['round'](_0x5e3f65*(0x17*0x74+0xe*0x259+-0x2a4b))));}this['_symbolOut'+'lineParams']['push'](_0x209349);let _0x12c0f7=0x5*0x280+0xb*-0x287+0xf4d;if(_0x2483c9&&_0x2483c9['shadow']&&(_0x2483c9['shadow']['attributes']['color']||_0x2483c9['shadow']['attributes']['offset']||_0x2483c9['shadow']['attributes']['offsetX']||_0x2483c9['shadow']['attributes']['offsetY'])){let _0x4aec81=_0x2483c9['shadow']['attributes']['color']?mg['fromString'](_0x2483c9['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x1a3a1b=Number(_0x2483c9['shadow']['attributes']['offset']),_0x367c18=Number(_0x2483c9['shadow']['attributes']['offsetX']),_0x5101bd=Number(_0x2483c9['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x4aec81['r'])||Number['isNaN'](_0x4aec81['g'])||Number['isNaN'](_0x4aec81['b'])||Number['isNaN'](_0x4aec81['a']))&&(_0x4aec81=this['_shadowCol'+'or']);const _0x491842=FR['set'](Number['isNaN'](_0x367c18)?Number['isNaN'](_0x1a3a1b)?this['_shadowOff'+'set']['x']:_0x1a3a1b:_0x367c18,Number['isNaN'](_0x5101bd)?Number['isNaN'](_0x1a3a1b)?this['_shadowOff'+'set']['y']:_0x1a3a1b:_0x5101bd),_0x2c0995=_0x2406e4(_0x4aec81,_0x491842);_0x53b826['hasOwnProp'+'erty'](_0x2c0995)?_0x12c0f7=_0x53b826[_0x2c0995]:(_0x12c0f7=this['_shadowPal'+'ette']['length']/(0x3*0xa97+-0x120f+-0xdb0),_0x53b826[_0x2c0995]=_0x12c0f7,this['_shadowPal'+'ette']['push'](Math['round'](_0x4aec81['r']*(-0x23b2+0x940*0x1+0x1b71)),Math['round'](_0x4aec81['g']*(-0x1*0x1011+0xf27+0x1e9)),Math['round'](_0x4aec81['b']*(-0x724+-0x4*0x75c+0x2593)),Math['round'](_0x4aec81['a']*(-0x24ad+-0x15*0x13f+0x3fd7)),Math['round'](_0x491842['x']*(0x202f+-0x23b5+0x7*0x93)),Math['round'](_0x491842['y']*(-0x13*0x4a+-0x4*0x586+0x1c15))));}this['_symbolSha'+'dowParams']['push'](_0x12c0f7);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x13b7aa=this['_calculate'+'CharsPerTe'+'xture']();let _0x21fc2c=!(-0x141d+0xa99+0x1*0x985);const _0xa8a4cf=this['_element'],_0x2cdd6d=_0xa8a4cf['_isScreenS'+'pace'](),_0x4a3031=_0xa8a4cf['_isScreenC'+'ulled'](),_0x5ad986=function(_0x202a20){return _0xa8a4cf['isVisibleF'+'orCamera'](_0x202a20);};for(let _0x27c7eb=0x12c2+0x9a+-0x135c,_0x33a2e7=this['_meshInfo']['length'];_0x27c7eb<_0x33a2e7;_0x27c7eb++){const _0x28e5eb=_0x13b7aa[_0x27c7eb]||0x176d+0xd0f+-0x247c,_0x39fe05=this['_meshInfo'][_0x27c7eb];if(_0x39fe05['count']!==_0x28e5eb){if(_0x21fc2c||(_0xa8a4cf['removeMode'+'lFromLayer'+'s'](this['_model']),_0x21fc2c=!(-0x44c+0x1993*0x1+-0x1*0x1547)),_0x39fe05['count']=_0x28e5eb,_0x39fe05['positions']['length']=_0x39fe05['normals']['length']=_0x28e5eb*(-0x1*0x7ed+-0x1e25+0x1*0x2615)*(0x1*-0x2479+-0x747+0x2bc4),_0x39fe05['indices']['length']=_0x28e5eb*(0x1*-0xf25+-0xbdb*-0x2+-0xa*0xdb)*(0x3b6+-0x1*-0xfdf+-0x1393),_0x39fe05['uvs']['length']=_0x28e5eb*(-0x1*-0x22ab+0x2*-0x801+-0x12a7)*(0x1*0xa37+-0x607+-0xb2*0x6),_0x39fe05['colors']['length']=_0x28e5eb*(-0x1992+-0x24e+0x3fc*0x7)*(-0x1efb+0xafa+0x19*0xcd),_0x39fe05['outlines']['length']=_0x28e5eb*(-0x355+0xf84+-0xc2b)*(-0x2517*0x1+0x1*-0x21ad+0x46c7),_0x39fe05['shadows']['length']=_0x28e5eb*(-0x23dd*0x1+0xb36+0x1a5*0xf)*(0x1ad6+-0x1a8e+-0x1*0x45),_0x39fe05['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x39fe05['meshInstan'+'ce']),_0x28e5eb===0xa69+0x4*-0x633+0xe63){_0x39fe05['meshInstan'+'ce']=null;continue;}for(let _0x176bfc=-0x1d15+0xac4+0x1251;_0x176bfc<_0x28e5eb;_0x176bfc++)_0x39fe05['indices'][_0x176bfc*(0x6*-0x42a+0x56c+0x1393)*(-0x19ad+0x1f26+-0x1*0x577)+(-0x1c4a+0x1b*0xb4+0x1*0x94e)]=_0x176bfc*(0x3b*-0x71+-0x25c5+0x35c*0x13),_0x39fe05['indices'][_0x176bfc*(0x2*-0x89d+0x1*0xb5d+-0x2*-0x2f0)*(0x1*-0x2135+-0x108*0x1a+0x3c07)+(-0xbc*0x32+0x43*0x50+0x9*0x1c1)]=_0x176bfc*(-0x5*-0x272+0x12c0+-0x1*0x1ef6)+(-0x40e*0x1+0x8b6*0x2+0xd5d*-0x1),_0x39fe05['indices'][_0x176bfc*(-0x192b+0x407*0x9+-0x1*0xb11)*(-0x784+0x1fbf+-0x1839)+(0xa55+-0x164b*-0x1+-0x209e*0x1)]=_0x176bfc*(0x1db0+0x263+-0x200f)+(-0x5*0x686+0x23*-0xfd+0x219c*0x2),_0x39fe05['indices'][_0x176bfc*(-0x950+0x1f69*-0x1+0x28bc)*(-0x1*0x7f9+0xc*0x219+-0x1131)+(-0xd56*-0x1+0x1*0x21d9+-0x2f2c)]=_0x176bfc*(-0x793*0x5+-0x3*-0xab+-0x2*-0x11f1)+(-0xa8b*-0x1+0xc1a*0x1+-0x16a3),_0x39fe05['indices'][_0x176bfc*(-0x1678+-0x4f*-0x7c+-0xfc9)*(-0x156b+0xd5*0x3+0x12ee)+(0x2663+0x18f6+0x3f55*-0x1)]=_0x176bfc*(-0x185d+0x8de+0xd1*0x13)+(0x4a9*0x3+0x94d+-0x25*0xa1),_0x39fe05['indices'][_0x176bfc*(-0x4c8+-0x19b0+0x1e7b)*(0x61f+-0xa06+0x3e9)+(-0x37*0x38+-0x1111+-0x2*-0xe8f)]=_0x176bfc*(-0x22a5+-0x12b1+0x355a)+(-0x2a*-0x2b+0x927*-0x2+0xb41),_0x39fe05['normals'][_0x176bfc*(0x39e+-0x295*0x1+-0x1d*0x9)*(-0x1*-0x1b57+0x254f+-0x40a3)+(0x56*0x10+0x3*0x86d+-0x1ea7)]=-0x1150+-0x1*0x1069+0x21b9,_0x39fe05['normals'][_0x176bfc*(0x1*0x1edf+-0x10*0x266+0xb*0xaf)*(-0xf71+0x21fe+-0x128a)+(0x3*-0x1d5+0x1e97+0x1917*-0x1)]=0xe4+-0x1418+0x1334,_0x39fe05['normals'][_0x176bfc*(0x1fcf+-0x1f5*0x1+-0x1dd6)*(0x1*0x156c+-0xcb6+-0x11*0x83)+(0xf23+0x1d5c+-0x2c7d)]=-(0x117b+-0x1f46+0xdcc*0x1),_0x39fe05['normals'][_0x176bfc*(-0x3bf+0x1187+0x2*-0x6e2)*(-0x3*0x59+-0x1171+0x127f)+(-0x1*-0x149e+-0x1*-0x8d7+-0x1d72)]=-0xaa3+-0x1*-0x11f5+-0x3a9*0x2,_0x39fe05['normals'][_0x176bfc*(-0x89*0x18+-0x11*0x15a+0x116*0x21)*(-0x1*-0x1d07+0x2408+-0x410c)+(0x1404+-0x8*0x469+0xf48)]=0xaf5+0x7*0x33d+-0x21a0,_0x39fe05['normals'][_0x176bfc*(-0x24e6+0x1f6c+0x1*0x57e)*(-0x733*-0x5+-0xa*0x86+0x3*-0xa40)+(0x7b4+-0x20ea+0x193b)]=-(-0x1201+0x96b+0x3*0x2dd),_0x39fe05['normals'][_0x176bfc*(0x16c7*-0x1+-0x1ca*0xd+0x2e0d)*(-0xe5*-0xb+0x177b+0x1*-0x214f)+(0x122b+-0x1001+-0x224)]=0xa00+-0x1cd7+0xd*0x173,_0x39fe05['normals'][_0x176bfc*(0x5*-0x3bb+0xc0*0x30+-0x1155)*(0xd77+-0xf6d+0x1*0x1f9)+(-0x1984+0x20c7+-0x2*0x39e)]=-0x18bb+0x1ac2+-0x207,_0x39fe05['normals'][_0x176bfc*(-0x10c9+0x2031+0xc5*-0x14)*(-0xf73+0xfd6*-0x2+-0x2f22*-0x1)+(-0xb39+0x1fde+-0x149d)]=-(-0x740+0x3bc+0x385),_0x39fe05['normals'][_0x176bfc*(-0xc7*-0x5+-0x26f9+0x231a)*(-0x26e8+-0x53*-0x59+0xa10)+(-0x1972+-0x1*0x13c3+0x2d3e)]=-0x1f2e+-0x3*-0x597+-0xd9*-0x11,_0x39fe05['normals'][_0x176bfc*(0x20d3+0x13ee+0x1*-0x34bd)*(0xd17+0xb*0x36+-0xf66)+(0x2241+-0x1f*-0x44+-0x2a73*0x1)]=0x799*0x5+0x112d+0x17*-0x266,_0x39fe05['normals'][_0x176bfc*(0x61a+0x3b*-0x29+0x11f*0x3)*(-0x2079+0x4dd+-0x3*-0x935)+(0x2552+0x169+0x2*-0x1358)]=-(-0x284*-0x9+0xa4d+0x3e*-0x88);const _0x564201=MR(this['_system']['app']['graphicsDe'+'vice'],_0x39fe05),_0x19d8af=new Le(_0x564201,this['_material'],this['_node']);if(_0x19d8af['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x19d8af['castShadow']=!(-0x8*-0x236+-0x22ce+0x1*0x111f),_0x19d8af['receiveSha'+'dow']=!(-0x1f*0xa3+0x1*-0x1697+-0x1*-0x2a55),_0x19d8af['cull']=!_0x2cdd6d,_0x19d8af['screenSpac'+'e']=_0x2cdd6d,_0x19d8af['drawOrder']=this['_drawOrder'],_0x4a3031&&(_0x19d8af['cull']=!(0x2b9*-0xe+0x23b5+0x269),_0x19d8af['isVisibleF'+'unc']=_0x5ad986),this['_setTextur'+'eParams'](_0x19d8af,this['_font']['textures'][_0x27c7eb]),_0x19d8af['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x19d8af['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x19d8af['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x19d8af['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x19d8af['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x27c7eb]['width']),_0x19d8af['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x19d8af['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x19d8af['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x979+-0x2269+0x2be2]=-0x1*0x5f4+0x3*0x432+0x351*-0x2,this['_shadowOff'+'setUniform'][0x623+0x1ad9+0x1*-0x20fb]=-0x1d53+-0x16a*0x7+0x2739;else{const _0x1530f2=-this['_font']['data']['info']['maps'][_0x27c7eb]['width']/this['_font']['data']['info']['maps'][_0x27c7eb]['height'];this['_shadowOff'+'setUniform'][-0xb77+0x871*-0x4+-0x1*-0x2d3b]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x1f7f+0x147e*-0x1+-0xb00]=_0x1530f2*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x19d8af['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x39fe05['meshInstan'+'ce']=_0x19d8af,this['_model']['meshInstan'+'ces']['push'](_0x19d8af);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x21fc2c&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=0xa0a+-0xfa1*0x2+-0x54e*-0x4,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x11088e){_0x11088e['destroy']();const _0x26e1d4=this['_model']['meshInstan'+'ces']['indexOf'](_0x11088e);_0x26e1d4!==-(-0x1c98+0xbcf*0x3+0x26*-0x2e)&&this['_model']['meshInstan'+'ces']['splice'](_0x26e1d4,-0xab4+-0x2693+0x3148);}['_setMateri'+'al'](_0x405c60){if(this['_material']=_0x405c60,this['_model'])for(let _0x202eeb=-0x15c7+0x7f*0x31+0x4*-0xa2,_0x262411=this['_model']['meshInstan'+'ces']['length'];_0x202eeb<_0x262411;_0x202eeb++){const _0x43d86c=this['_model']['meshInstan'+'ces'][_0x202eeb];_0x43d86c['material']=_0x405c60;}}['_updateMat'+'erial'](_0x71e3ac){const _0x56fe27=this['_element'],_0x65cc19=_0x56fe27['_isScreenC'+'ulled'](),_0x91f60a=function(_0xc2648){return _0x56fe27['isVisibleF'+'orCamera'](_0xc2648);},_0xb7170f=this['_font']&&this['_font']['type']===Kh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x71e3ac,_0xb7170f,this['_enableMar'+'kup']),this['_model'])for(let _0x2d9ba1=0x138*-0x7+0x105b+-0x7d3,_0x4eaf60=this['_model']['meshInstan'+'ces']['length'];_0x2d9ba1<_0x4eaf60;_0x2d9ba1++){const _0x5ddae4=this['_model']['meshInstan'+'ces'][_0x2d9ba1];_0x5ddae4['cull']=!_0x71e3ac,_0x5ddae4['material']=this['_material'],_0x5ddae4['screenSpac'+'e']=_0x71e3ac,_0x65cc19?(_0x5ddae4['cull']=!(0x2*-0x625+-0x265a+-0x1*-0x32a4),_0x5ddae4['isVisibleF'+'unc']=_0x91f60a):_0x5ddae4['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][-0x3d*0x31+0x22da+-0x172d]=0x2*-0x649+0x58*0x38+-0x1*0x6ad,this['_colorUnif'+'orm'][-0x2237+0x1552+-0xfe*-0xd]=-0xded+-0x14ee+-0x4*-0x8b7,this['_colorUnif'+'orm'][-0x23b2+-0x107*0x19+0x3d63]=-0x418*0x4+0x2*-0xf2a+0x43f*0xb):(Me['linear'](this['_color']),this['_colorUnif'+'orm'][0xa7*0x22+-0x1e01+0x7d3*0x1]=Me['r'],this['_colorUnif'+'orm'][-0x3*-0x37a+0x63*0xb+0x2*-0x757]=Me['g'],this['_colorUnif'+'orm'][-0xdf*0x1+0x16f*0xe+-0x1331]=Me['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][0x19cf*0x1+-0x1*-0x2005+0x1cea*-0x2]=-0x55c+0xb5e+-0x602,this['_outlineCo'+'lorUniform'][-0x4*0x6f3+-0x211d+0x3cea]=0x88*0x1d+0x1ddd+-0x2d45,this['_outlineCo'+'lorUniform'][0x8a6+0x7*-0x3df+0x1275]=0xcf2*-0x1+0x1*-0xd6d+0x1a5f,this['_outlineCo'+'lorUniform'][0x2122+0x97*-0x11+-0x2*0xb8c]=-0x47*-0x7f+0x961+-0x2c99):(Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x1*0xe27+-0x4*-0x8d2+0x9*-0x259]=Me['r'],this['_outlineCo'+'lorUniform'][-0x7*0x4cd+0x1e7*0x1+0x1fb5]=Me['g'],this['_outlineCo'+'lorUniform'][-0x77*-0x16+0x179*0xf+-0x204f]=Me['b'],this['_outlineCo'+'lorUniform'][0x33*-0xc+-0x1796+0x19fd]=Me['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0x2*-0x74b+0x2a7*-0xe+-0x5*-0xa58]=-0x12e1+0x4*-0xa9+0x1585,this['_shadowCol'+'orUniform'][-0x1*0x9c3+-0xaf4+0x14b8]=0x1399+0x4ec+-0x1885*0x1,this['_shadowCol'+'orUniform'][0xf14+-0x1000+0xee]=-0x6a6+0x781+-0xdb,this['_shadowCol'+'orUniform'][0x11*0xb9+-0x222f+0x15e9]=-0x14aa+-0x1548+0x5b*0x76):(Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x1*0x1711+0x2*-0x455+-0x1*-0x1fbb]=Me['r'],this['_shadowCol'+'orUniform'][0x2339*0x1+-0x1e37+0x7*-0xb7]=Me['g'],this['_shadowCol'+'orUniform'][0x1*-0x19a2+-0x1*0x1ba+0x3e*0x71]=Me['b'],this['_shadowCol'+'orUniform'][-0x1*0x23c9+0x3*-0x854+-0x2*-0x1e64]=Me['a']);}['_isWordBou'+'ndary'](_0x30bf12){return fg['test'](_0x30bf12);}['_isValidNe'+'xtChar'](_0x2662c4){return _0x2662c4!==null&&!IR['test'](_0x2662c4);}['_isNextCJK'+'Boundary'](_0x53feac,_0x2eca6d){return pg['test'](_0x53feac)&&(fg['test'](_0x2eca6d)||RR['test'](_0x2eca6d));}['_isNextCJK'+'WholeWord'](_0x5d4b4d){return pg['test'](_0x5d4b4d);}['_updateMes'+'hes'](){const _0x43a0a6=this['_font']['data'],_0xbce45a=this,_0x48267c=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x4b3742=this['_maxFontSi'+'ze'],_0x292956=this['_shouldAut'+'oFit']();_0x292956&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x31f77f=0x107*0x7+0x240c+-0x2b1d,_0x526437=this['_symbols']['length'];let _0x28f829=0x4da*0x5+0x20*0x61+-0x2462,_0x39d1b0=-0xfed+0x1688+-0x69b,_0x5e39e9=-0x158*-0x11+-0x2*-0xe2+-0x5*0x4ec,_0x563b22=-0x3c*0x91+0x1*-0x19a7+0x13e1*0x3,_0xf1429f=-0x3a*-0xf+0x2*0x112d+-0xc95*0x3,_0x104d47=0x1*0xf8c+0x2*-0x12b7+0xaf1*0x2,_0x366bc8=-0x408*-0x8+0x19d+-0x21dd,_0x8e0857=0x3d+0x1787+-0x17c4,_0x1928f2=0x1e1*0xd+-0x80c+0x257*-0x7,_0x6da82f=-0x61*0x5d+-0x2*0xde5+0x3f07*0x1,_0x4f3f5b=-0x1167+0x60*0x42+-0xab*0xb;const _0x241a11=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0x4ea+0x23ff+-0x28e9+0.0001;let _0x5b0f56=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x241a11||!this['_wrapLines'])&&(_0x5b0f56=Number['POSITIVE_I'+'NFINITY']);let _0x55cc60=-0x21b0+-0x1*0x2547+0x46f7,_0x1ff045=-0x17*-0x33+0x44d*0x8+0xcff*-0x3,_0x3af3cd,_0x93045a,_0x2fa8e5,_0x46ba1a;function _0x8b755b(_0x387931,_0x371ca3,_0xea5aef){_0xbce45a['_lineWidth'+'s']['push'](Math['abs'](_0xea5aef));const _0x18cb41=_0x8e0857>_0x371ca3?_0x371ca3+(0x263*-0x1+-0x3d*0x8b+-0x1*-0x2383):_0x8e0857,_0x44ef73=_0x8e0857>_0x371ca3?_0x8e0857+(-0x2*-0x1177+0x1*-0x85f+0x67*-0x42):_0x371ca3,_0x3b4e53=_0x387931['slice'](_0x18cb41,_0x44ef73);if(_0x4f3f5b){let _0x1b98dc=_0x3b4e53['length'];for(;_0x1b98dc--&&_0x4f3f5b>0x96*0x2b+0x20a9*-0x1+0x777;)ug['test'](_0x3b4e53[_0x1b98dc])&&(_0x3b4e53['splice'](_0x1b98dc,0x24f8+0x6*0x17f+-0x2df1),_0x4f3f5b--);}_0xbce45a['_lineConte'+'nts']['push'](_0x3b4e53['join']('')),_0x28f829=-0x1*0x20f3+-0x198+-0x1*-0x228b,_0x39d1b0-=_0xbce45a['_scaledLin'+'eHeight'],_0xf1429f++,_0x1928f2=-0x4ae+-0x47*0x3a+0x14c4,_0x6da82f=0xd25+-0x109b+0x376,_0x4f3f5b=-0x1da9+0x4cd*-0x8+0x4411,_0x104d47=-0x1360+0x207f+-0xd1f*0x1,_0x8e0857=_0x371ca3;}let _0x248368=!(-0x4*0xb9+0x2*-0x9eb+0x16ba);for(;_0x248368;){_0x248368=!(-0x1d33+-0x7a*-0x3f+0x2a*-0x5),_0x292956?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x1ff0+0x236*0xd+0x1*0x332+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x2dd*0x1+0x66b*-0x5+0x1*0x1d3a,this['height']=0x10*-0x2e+-0xc48+0xf28,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x28f829=0xd*0x2c8+-0x20d5+0x1*-0x353,_0x39d1b0=-0x1480+0x12*-0x170+0x2e60,_0x5e39e9=0x119*-0x3+0x70*0x50+-0x1*0x1fb5,_0x563b22=0xb7e*-0x1+-0xb23*-0x1+0x5b,_0xf1429f=0x3*0x8ec+-0x1ed+0x18d6*-0x1,_0x104d47=-0x734*0x2+-0x1*0xbb7+-0x1*-0x1a1f,_0x366bc8=0x2098+-0x197f*-0x1+-0x3a17,_0x8e0857=0x6d0+0x2*0x2fe+-0xccc,_0x1928f2=0x322*-0x5+0x15d3+-0x629,_0x6da82f=-0x1*-0x1bbf+0x10*-0x99+-0x122f,_0x4f3f5b=-0x1*0x25e3+0x9*-0x166+0x3279;const _0x2ce5b8=this['_fontSize']/_0x31f77f;_0x55cc60=this['_fontMinY']*_0x2ce5b8,_0x1ff045=this['_fontMaxY']*_0x2ce5b8;for(let _0x4e3901=-0x1*-0x16a+-0x168f+0x1*0x1525;_0x4e3901<this['_meshInfo']['length'];_0x4e3901++)this['_meshInfo'][_0x4e3901]['quad']=0x219c+0x2368+0x1c*-0x277,this['_meshInfo'][_0x4e3901]['lines']={};let _0x4b11bb=0x9*-0x42b+-0x236d+0x49ef,_0x20aaff=-0x5*0x295+-0x217b+-0x7*-0x6c5,_0x391336=-0x3fd*-0x8+-0x681+-0xb*0x238,_0x3b8704=0x9*-0x13f+-0x20*-0x3b+0x4d6+(0x1*-0x1087+0x1426+0x3*-0xe0)*(-0x1e20+-0x1807+0x3727),_0x991f82=-0x3*-0xd00+-0x1*0x116f+-0x1492+(0x1*0x944+0x655+0x2*-0x74d)*(-0x1ced+-0x1a9c+0x29*0x161),_0x383962=0xf18+-0xe99+-0x7f,_0x319b9d=0xc5f+0x1be8+0xc*-0x346+(0x1*0x799+0x168+-0x802)*(-0x1*-0x266c+-0x2335+-0x237),_0x4d678a=-0x1ff2+0x45*0x47+0xdce+(-0x3*-0x419+0x663*0x1+-0x9*0x1f7)*(-0xcca+-0x1838+0x2602),_0x3d2e5c=0x11*0x1c3+-0xc5e+0x9*-0x1e6+(0x11a4+-0x13d+-0x3fa*0x4)*(0xf29+0x17*0x14e+0x3*-0xeb9);for(let _0xcbfa04=0x2006+0x24b9*0x1+-0x44bf;_0xcbfa04<_0x526437;_0xcbfa04++){if(_0x3af3cd=this['_symbols'][_0xcbfa04],_0x46ba1a=_0xcbfa04+(0x23ac+0x838*-0x4+-0x2cb)>=_0x526437?null:this['_symbols'][_0xcbfa04+(-0x5*0x5d3+-0x173c+-0xc*-0x45d)],ug['test'](_0x3af3cd)){_0x4f3f5b++,(!this['_wrapLines']||this['_maxLines']<0x4c2+-0x28f+-0x233*0x1||_0xf1429f<this['_maxLines'])&&(_0x8b755b(this['_symbols'],_0xcbfa04,_0x563b22),_0x366bc8=_0xcbfa04+(0x7*0x25f+0x1298+-0x2330),_0x8e0857=_0xcbfa04+(-0x7*-0xdd+0x1cb1+-0x22bb));continue;}let _0x3d1a34=0x16*0xa5+0x2*-0x763+-0x1*-0x98,_0x7c96c3=-0xf61*0x2+0x669*-0x1+0x252b,_0x386ae7=-0xaed+0x2ca+0x823,_0x26e5bc=-0x122e+-0x2*-0x371+0xb4d,_0x6291c7,_0x303bd8;if(_0x93045a=_0x43a0a6['chars'][_0x3af3cd],!_0x93045a){if(DR['indexOf'](_0x3af3cd)!==-(0x1433+0xd39+-0x6af*0x5))_0x93045a=LR;else{if(_0x43a0a6['chars']['\x20'])_0x93045a=_0x43a0a6['chars']['\x20'];else for(const _0x49c794 in _0x43a0a6['chars']){_0x93045a=_0x43a0a6['chars'][_0x49c794];break;}_0x43a0a6['missingCha'+'rs']||(_0x43a0a6['missingCha'+'rs']=new Set()),_0x43a0a6['missingCha'+'rs']['has'](_0x3af3cd)||(console['warn']('Character\x20'+'\x27'+_0x3af3cd+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x43a0a6['info']['face']),_0x43a0a6['missingCha'+'rs']['add'](_0x3af3cd));}}if(_0x93045a){let _0x115aad=0x551+0x4*0x15d+-0xac5*0x1;if(_0x6da82f>0x14d5*-0x1+0x1203+0x1*0x2d2){const _0x3b2a51=this['_font']['data']['kerning'];if(_0x3b2a51){const _0x578364=_0x3b2a51[ah['getCodePoi'+'nt'](this['_symbols'][_0xcbfa04-(-0x26b*-0x6+-0x8*-0x141+0x23b*-0xb)])||0x203e*0x1+0xa64+-0x1*0x2aa2];_0x578364&&(_0x115aad=_0x578364[ah['getCodePoi'+'nt'](this['_symbols'][_0xcbfa04])||0xcd6+-0x19d1+0xcfb*0x1]||0x1*0xd99+-0x2*-0xa6+-0xee5);}}_0x6291c7=_0x93045a['scale']||-0x3*0xb43+0x42*-0x53+0x6e6*0x8,_0x303bd8=(_0x93045a['width']+_0x93045a['height'])/(0x122c+0x16*-0x20+-0xf6a*0x1),_0x26e5bc=_0x2ce5b8*_0x303bd8/_0x6291c7,_0x386ae7=(_0x93045a['xadvance']+_0x115aad)*_0x2ce5b8,_0x3d1a34=(_0x93045a['xoffset']-_0x115aad)*_0x2ce5b8,_0x7c96c3=_0x93045a['yoffset']*_0x2ce5b8;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x3af3cd+'\x27');const _0x19310d=PR['test'](_0x3af3cd),_0xd05599=_0x93045a&&_0x93045a['map']||-0x6e2+-0x11dc+0x18be*0x1,_0x3d5dc8=-this['_font']['data']['info']['maps'][_0xd05599]['width']/this['_font']['data']['info']['maps'][_0xd05599]['height'],_0x295a14=this['_meshInfo'][_0xd05599],_0x48df3f=_0x28f829+this['_spacing']*_0x386ae7;if(_0x48df3f>_0x5b0f56&&_0x6da82f>0x7a3+0x126b+-0x1*0x1a0e&&!_0x19310d&&(this['_maxLines']<-0x33a+0x3*0x99f+-0x19a3||_0xf1429f<this['_maxLines'])){if(_0x1928f2===0x9d1+-0x267*-0x3+-0x1*0x1106)_0x366bc8=_0xcbfa04,_0x8b755b(this['_symbols'],_0xcbfa04,_0x563b22);else{const _0xfea533=Math['max'](_0xcbfa04-_0x366bc8,-0x1*-0x19b5+0x257e*-0x1+-0x1*-0xbc9);if(this['_meshInfo']['length']<=-0x17f4+-0x4*-0x8d1+0x5*-0x243)_0x295a14['lines'][_0xf1429f-(-0x10b4+-0x26cc+0x3781)]-=_0xfea533,_0x295a14['quad']-=_0xfea533;else{const _0x566e80=_0x366bc8,_0x31cd90=_0xcbfa04;for(let _0x33def8=_0x566e80;_0x33def8<_0x31cd90;_0x33def8++){const _0x2599d0=this['_symbols'][_0x33def8],_0x39149f=_0x43a0a6['chars'][_0x2599d0],_0x4a1a35=this['_meshInfo'][_0x39149f&&_0x39149f['map']||0x12a0+0xc81+-0xd*0x265];_0x4a1a35['lines'][_0xf1429f-(-0xb*-0x1c1+-0x1e7+-0x1163)]-=0x194b+0x1f88+-0x38d2,_0x4a1a35['quad']-=-0x755*0x3+0x63e+0xfc2;}}_0xcbfa04-=_0xfea533+(-0x52e+0x260e*0x1+-0x20df),_0x8b755b(this['_symbols'],_0x366bc8,_0x104d47);continue;}}_0x2fa8e5=_0x295a14['quad'],_0x295a14['lines'][_0xf1429f-(-0x17fe+0xb3*0x1b+0x51e)]=_0x2fa8e5;let _0x105d82=_0x28f829-_0x3d1a34,_0x439df7=_0x105d82+_0x26e5bc;const _0x565d2a=_0x39d1b0-_0x7c96c3,_0x4a8a45=_0x565d2a+_0x26e5bc;if(this['_rtl']){const _0x5ac3eb=_0x26e5bc-_0x3d1a34-this['_spacing']*_0x386ae7-_0x3d1a34;_0x105d82-=_0x5ac3eb,_0x439df7-=_0x5ac3eb;}_0x295a14['positions'][_0x2fa8e5*(0x24c0+0x2273*-0x1+-0x249)*(0x1*0x86b+0x53*0x2+-0x90e)+(0x742*-0x1+0x783+-0xd*0x5)]=_0x105d82,_0x295a14['positions'][_0x2fa8e5*(-0x1cc4+0x1*0x947+0x1*0x1381)*(0x1e6a+0x230f+0x7e*-0x85)+(-0x6c7+0x1*-0xbb3+-0x127b*-0x1)]=_0x565d2a,_0x295a14['positions'][_0x2fa8e5*(-0x11e0+-0x16d9+0x1*0x28bd)*(0xd*-0xad+0x3eb*-0x1+0xcb7)+(-0x125*0x21+-0x545+0x122*0x26)]=_0x5e39e9,_0x295a14['positions'][_0x2fa8e5*(-0x1*-0x1f37+-0x99*-0x2e+-0x3ab1*0x1)*(0xca3+0x263b+-0x32db)+(0x3*0x5b8+-0x244c+0x1327)]=_0x439df7,_0x295a14['positions'][_0x2fa8e5*(0x1e67+-0x235a+0x4f7)*(0x288+0x6f*-0x2f+-0x7f*-0x24)+(-0x378*-0x1+-0x94b*-0x1+0xfb*-0xd)]=_0x565d2a,_0x295a14['positions'][_0x2fa8e5*(0x1030+0x10ee+0xdf*-0x26)*(-0x85f+0xf91*0x2+-0x7*0x340)+(-0x1*-0xda1+-0x14b7+0x71b)]=_0x5e39e9,_0x295a14['positions'][_0x2fa8e5*(-0x675+0x1b63+-0x14ea)*(-0x5e7*-0x4+0x2682+-0x3e1b)+(-0x4*-0x9b9+-0xf17*0x1+0x3*-0x7ed)]=_0x439df7,_0x295a14['positions'][_0x2fa8e5*(-0x74*0x13+-0x385*-0xa+-0x1a92)*(0x190c*0x1+0x1fba+-0x38c3)+(0x39f*0x4+0x2284+-0x7*0x6ff)]=_0x4a8a45,_0x295a14['positions'][_0x2fa8e5*(0x2625+-0x37e*0x8+-0xa31)*(-0x817+-0x79e+0xfb8)+(-0x7*-0x24b+0xcfc+-0x1d01)]=_0x5e39e9,_0x295a14['positions'][_0x2fa8e5*(-0x1*-0x830+0x1ff3*0x1+0x281f*-0x1)*(-0x1679+0x94*0x2+-0x1*-0x1554)+(-0x1d9f+-0x1671+0x3419)]=_0x105d82,_0x295a14['positions'][_0x2fa8e5*(0x122e+0x52a+0x1*-0x1754)*(0x616+0x1d99+-0x23ac)+(0x1525+-0x668*-0x5+-0x3523)]=_0x4a8a45,_0x295a14['positions'][_0x2fa8e5*(-0x1f*0x25+-0x8a2+0xd21)*(0x16a0+0x200*-0x4+-0xe9d)+(0x183d+0x67*-0x7+0x1*-0x1561)]=_0x5e39e9,this['width']=Math['max'](this['width'],_0x48df3f);let _0x8b561e;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x8b561e=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0x2*-0x131+0x16ae+-0x1910+0.0001)),_0x8b561e=N['clamp'](_0x8b561e,_0x48267c,_0x4b3742),_0x8b561e!==this['_element']['fontSize'])){this['_fontSize']=_0x8b561e,_0x248368=!(0x1*0x10c1+0x63e+0xcb*-0x1d);break;}if(this['height']=Math['max'](this['height'],_0x1ff045-(_0x39d1b0+_0x55cc60)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x8b561e=N['clamp'](this['_fontSize']-(0x1e1e*0x1+0x20ca+-0x3ee7),_0x48267c,_0x4b3742),_0x8b561e!==this['_element']['fontSize'])){this['_fontSize']=_0x8b561e,_0x248368=!(-0x128*-0x1+0x5*0x573+-0x1c67);break;}_0x28f829+=this['_spacing']*_0x386ae7,_0x19310d||(_0x563b22=_0x28f829),(this['_isWordBou'+'ndary'](_0x3af3cd)||this['_isValidNe'+'xtChar'](_0x46ba1a)&&(this['_isNextCJK'+'Boundary'](_0x3af3cd,_0x46ba1a)||this['_isNextCJK'+'WholeWord'](_0x46ba1a)))&&(_0x1928f2++,_0x104d47=_0x563b22,_0x366bc8=_0xcbfa04+(-0x1b6a+-0x87*-0x37+-0x196)),_0x6da82f++;const _0x28e7df=this['_getUv'](_0x3af3cd);if(_0x295a14['uvs'][_0x2fa8e5*(0x7*-0x589+0x131f+0x13a4)*(-0x98+-0x13c7+0x1461)+(-0x5d*0xd+-0xdc4*0x2+-0x17*-0x167)]=_0x28e7df[-0x356+-0x27d+-0x7*-0xd5],_0x295a14['uvs'][_0x2fa8e5*(0x1*0x4df+0x1d3*-0x8+0x9bd)*(0x7c0*-0x4+-0x3ce*-0x2+-0x4ae*-0x5)+(-0x1202+0x2*0xb1c+0x167*-0x3)]=-0x14f7+0x1814+0xc7*-0x4-_0x28e7df[-0x4b5+-0x2174*0x1+0x1*0x262a],_0x295a14['uvs'][_0x2fa8e5*(-0x5*-0x31f+0x891*0x3+-0x294a)*(0x10f*-0x9+0x1*0xc30+-0x1*0x2a7)+(-0xe8a+-0x2166+0x1*0x2ff2)]=_0x28e7df[0x12b8+-0xd0b+-0x1*0x5ab],_0x295a14['uvs'][_0x2fa8e5*(0x1*0x3d1+-0x1e65+0x6a6*0x4)*(0x2*-0x191+-0x76d+0xa91)+(-0xdc7*-0x2+0x2210+-0x8cd*0x7)]=-0x11*0x236+-0x281*0xf+0x1*0x4b26-_0x28e7df[-0x1*0x576+0xe63+-0x8ec],_0x295a14['uvs'][_0x2fa8e5*(0xa03*0x3+-0x1d36+-0xcf)*(-0xd6f*-0x1+0x8ce+0x32d*-0x7)+(0x1*0x25ab+-0x22*0x101+-0x385)]=_0x28e7df[-0x122a+-0x2158+0x3384],_0x295a14['uvs'][_0x2fa8e5*(0x1843+-0x13e0+-0x45f*0x1)*(0x159c+-0x954+-0xc46)+(0x1937+0x2064+-0x3996)]=0x1*-0x6f7+0x2c8*0x4+-0x428-_0x28e7df[-0x1*0xc91+0x3e*0x48+-0x2*0x26e],_0x295a14['uvs'][_0x2fa8e5*(0x5d2+-0x1*-0x192b+-0x1ef9)*(0x7*0x18b+0x3*-0x6e+-0x981)+(0x6*0x305+0x180e+-0x2a26)]=_0x28e7df[0x8*0x251+-0x29*0x3+-0x120d*0x1],_0x295a14['uvs'][_0x2fa8e5*(0x1660+0x114f+-0x27ab)*(0x357+-0x479*0x7+0x1bfa)+(-0xd45*0x1+-0xc48+0x1994)]=-0xa6+0x212+-0x79*0x3-_0x28e7df[-0x3fb+-0x210a+-0x28*-0xed],this['_symbolCol'+'ors']){const _0x48d863=this['_symbolCol'+'ors'][_0xcbfa04]*(0x59*-0x23+0x2*-0xa04+0x2036);_0x4b11bb=this['_colorPale'+'tte'][_0x48d863],_0x20aaff=this['_colorPale'+'tte'][_0x48d863+(0x1323+-0x2*0xae2+0x151*0x2)],_0x391336=this['_colorPale'+'tte'][_0x48d863+(-0x3*-0x31c+-0x809+-0x149)];}if(_0x295a14['colors'][_0x2fa8e5*(-0x3*0x857+0x27*0x23+0x13b4)*(0xc3b+0x2083+-0x2cba)+(-0x13ff*-0x1+0xd*0x17f+0x13b9*-0x2)]=_0x4b11bb,_0x295a14['colors'][_0x2fa8e5*(0x1001+-0x1bc1*0x1+-0x5e2*-0x2)*(0xe4c+-0x2*0x5db+-0x292)+(-0x22c*-0x1+0x10*-0x200+-0x7*-0x443)]=_0x20aaff,_0x295a14['colors'][_0x2fa8e5*(-0x223a+-0x625+-0x7*-0x5c5)*(0x1212+0x1baf+-0x1*0x2dbd)+(-0x469+-0x33a+0x7a5)]=_0x391336,_0x295a14['colors'][_0x2fa8e5*(0x3d4+0x1f7e+-0x234e)*(-0x1*-0x1808+0x12f+-0x1933*0x1)+(0x1*0x1f1c+-0x5*-0x6a7+0xaba*-0x6)]=0x1b80+-0xd*0x2f3+0x1e*0x65,_0x295a14['colors'][_0x2fa8e5*(-0x1*-0x5c+-0x5c*-0x28+0x274*-0x6)*(-0x1*0x243+0xa2f+-0x7e8)+(0xacf+0x6ee+-0x11b9)]=_0x4b11bb,_0x295a14['colors'][_0x2fa8e5*(-0x8b*0x3a+0x1*-0xadb+-0x2d*-0xf1)*(-0x2*0x12b3+-0x7d4+-0x2*-0x169f)+(0x2*0x127d+-0x75a*-0x1+-0x2c4f)]=_0x20aaff,_0x295a14['colors'][_0x2fa8e5*(0x3*0xbaf+0x1bfe+-0x3f07)*(-0x41c*-0x3+-0x1*-0x926+-0x29*0x86)+(-0x3*-0x877+0x2*-0xa0f+0x1*-0x541)]=_0x391336,_0x295a14['colors'][_0x2fa8e5*(0x1d46+0x8*-0xf7+-0x158a)*(0x7dd+-0x81a*-0x1+-0xff3)+(0x20e3+0xa6+-0x2182*0x1)]=0x1081+0x6*0x1c5+-0x160*0x13,_0x295a14['colors'][_0x2fa8e5*(-0xae5*0x1+0x434+0x6b5)*(-0x170a+0x4*0x1c9+0x2a*0x61)+(-0x1911*0x1+-0x3a9*-0xa+-0xb81*0x1)]=_0x4b11bb,_0x295a14['colors'][_0x2fa8e5*(0x1c74+-0x2e3*-0x6+-0x2dc2)*(0x483+0x1*-0x1153+0xcd4)+(0x154d+-0x47*0x67+0x74d)]=_0x20aaff,_0x295a14['colors'][_0x2fa8e5*(0x1570+-0x22e1+0xd75)*(-0x996+-0x519+0xeb3)+(-0x2*0x85+0x17c3+-0x16af)]=_0x391336,_0x295a14['colors'][_0x2fa8e5*(-0x10af+0x7fd+0x5*0x1be)*(-0x10e3*-0x1+0x2055+-0x3134)+(0xcae*-0x1+-0x42c*0x3+0x7*0x39b)]=-0x3*0x15+0x1*-0xd12+-0x4*-0x394,_0x295a14['colors'][_0x2fa8e5*(-0x70c+-0x461*0x1+0xb71*0x1)*(-0x12d9*0x1+0x1*-0x82e+0x1b0b)+(-0x1cbb*-0x1+-0x1*-0x7d3+-0x2482)]=_0x4b11bb,_0x295a14['colors'][_0x2fa8e5*(0x1498+0x641*0x1+-0x1ad5)*(0x247d+0x29a+-0x2713)+(-0x15b*-0x7+-0x280+-0x6f0)]=_0x20aaff,_0x295a14['colors'][_0x2fa8e5*(-0x1376+-0x32c+0xb53*0x2)*(-0x4*0x7c1+-0x1cb3+0x3bbb)+(0x1*-0x1bc7+-0x173b+0x2b0*0x13)]=_0x391336,_0x295a14['colors'][_0x2fa8e5*(-0x643+-0x2f*-0x54+-0x925)*(-0x221c+-0x1*-0x1b47+-0x6d9*-0x1)+(0x933+-0x770+-0x6d*0x4)]=0xb9*-0x20+-0x2*-0x2c1+0x129d,this['_symbolOut'+'lineParams']){const _0x37909b=this['_symbolOut'+'lineParams'][_0xcbfa04]*(-0x2*-0xc0e+-0x91c+-0xd*0x127);_0x3b8704=this['_outlinePa'+'lette'][_0x37909b]+this['_outlinePa'+'lette'][_0x37909b+(-0x66+0x41b*0x3+0x7a*-0x19)]*(0xb5*0x29+-0x8ba*0x3+-0x1cf*0x1),_0x991f82=this['_outlinePa'+'lette'][_0x37909b+(0x1*-0x1281+0xea9+0x22*0x1d)]+this['_outlinePa'+'lette'][_0x37909b+(-0xcdb+0x9a3+0x33b)]*(0x1cbd+0x2*0x41d+0xb*-0x345),_0x383962=this['_outlinePa'+'lette'][_0x37909b+(0xf1f+0x12bf*-0x2+0x1*0x1663)];}if(_0x295a14['outlines'][_0x2fa8e5*(-0x1*0x1271+-0x8*0x13b+0x69*0x45)*(-0x849*0x2+0x112e+0x33*-0x3)+(-0x20d5+-0x4c*0x5+-0x6dd*-0x5)]=_0x3b8704,_0x295a14['outlines'][_0x2fa8e5*(0x26a6+0x14cc+-0x3b6e)*(-0x19*-0xa+-0x32+-0xc5)+(0x1976+0xc7*0x10+-0x25e5)]=_0x991f82,_0x295a14['outlines'][_0x2fa8e5*(-0x1*0x1faa+-0x77b+0x1*0x2729)*(-0x39e+0x1530+-0x118f*0x1)+(-0x535+-0x1*-0xe67+0xc*-0xc4)]=_0x383962,_0x295a14['outlines'][_0x2fa8e5*(0x3*0x56b+0x1e2b+0x528*-0x9)*(0x67a+0x2*-0x12c1+0x1f0b)+(-0x147c+0x76a+-0x11*-0xc5)]=_0x3b8704,_0x295a14['outlines'][_0x2fa8e5*(-0x2*-0xed3+0x16*0x49+0x8*-0x47d)*(0x1*-0x527+0x15b+0xc3*0x5)+(-0xb*0x20e+0x24f6+-0x1cb*0x8)]=_0x991f82,_0x295a14['outlines'][_0x2fa8e5*(-0xe7e+0x6d9+0x7a9)*(-0x16da+-0x95*-0x1+0x1*0x1648)+(-0x17d1+-0x1*-0x24f5+-0xd1f)]=_0x383962,_0x295a14['outlines'][_0x2fa8e5*(0xebf+-0x1766+0x8ab)*(0x3*0xa84+-0x7*0x296+-0x1*0xd6f)+(0x3*0x50b+0x61a*-0x4+0x94d)]=_0x3b8704,_0x295a14['outlines'][_0x2fa8e5*(-0x1*-0x126e+0x8b*0x2f+-0x2bef)*(-0xd6d+-0x1cf1+0x2a61)+(0xe0d+-0x58*-0x8+-0x863*0x2)]=_0x991f82,_0x295a14['outlines'][_0x2fa8e5*(-0x1b00+0x5cb*-0x1+0x20cf)*(-0xc58+-0x75*-0xe+0x5f5)+(0xb80*0x2+0x5*-0x1be+-0xe42)]=_0x383962,_0x295a14['outlines'][_0x2fa8e5*(-0x1*0x1a01+-0x1161+-0x5*-0x8ae)*(0xa*0x28c+0x74*-0x1a+-0xdad)+(0x1043+0x26f9+-0x43f*0xd)]=_0x3b8704,_0x295a14['outlines'][_0x2fa8e5*(0x1620+0xe97+-0x24b3)*(-0x7f8+0xb24+-0x329)+(0x3*-0x6af+-0x119f*-0x2+-0xf27)]=_0x991f82,_0x295a14['outlines'][_0x2fa8e5*(-0x1fcf*-0x1+0xa6f+-0x151d*0x2)*(-0x204e+-0x1058+-0x30a9*-0x1)+(0x2459+0x1251*0x2+-0x48f0)]=_0x383962,this['_symbolSha'+'dowParams']){const _0x6b414f=this['_symbolSha'+'dowParams'][_0xcbfa04]*(-0x20c7+-0x1a92*0x1+0x1*0x3b5f);_0x319b9d=this['_shadowPal'+'ette'][_0x6b414f]+this['_shadowPal'+'ette'][_0x6b414f+(0x265f+0x1b4+0x2812*-0x1)]*(-0x1fd8+0x1139+0xf9f),_0x4d678a=this['_shadowPal'+'ette'][_0x6b414f+(-0x1702+-0x6f7+-0x19*-0x133)]+this['_shadowPal'+'ette'][_0x6b414f+(-0xc6*-0xf+0x1f39+-0x224*0x14)]*(-0x16db*0x1+0x503+0x86*0x24),_0x3d2e5c=this['_shadowPal'+'ette'][_0x6b414f+(-0x5*0x179+-0x1*0x467+0xbc8)]+(-0x1*0x1da5+-0x1c1a+0x3a3e)+Math['round'](_0x3d5dc8*this['_shadowPal'+'ette'][_0x6b414f+(0x89*-0x3f+0x6fb*-0x1+0x5d1*0x7)]+(-0x1*0x22ec+0x533+-0x1*-0x1e38))*(0x1919+0x39*-0x3+-0x176e);}_0x295a14['shadows'][_0x2fa8e5*(-0x2485+-0x925*0x3+0x5c*0xb2)*(0x1123*0x2+0x1d78+-0x3fbb)+(-0x1f02+-0x7*-0x1bd+-0x173*-0xd)]=_0x319b9d,_0x295a14['shadows'][_0x2fa8e5*(-0x37*-0x2f+0x4*-0x1bd+-0x321*0x1)*(0x804+0xda3+-0x15a4)+(-0x2b+-0x1c93+-0x29d*-0xb)]=_0x4d678a,_0x295a14['shadows'][_0x2fa8e5*(-0x18*-0x21+0x6a1*-0x3+0x10cf)*(0x916+-0x703*-0x4+0x2db*-0xd)+(0x2d*-0x2e+-0x1ae6+0x22fe)]=_0x3d2e5c,_0x295a14['shadows'][_0x2fa8e5*(-0xc0b+0x2023+-0x4*0x505)*(0x3*0x9c2+0x3eb+-0x212e)+(0x1*-0x26ab+0x815*0x4+0x65a)]=_0x319b9d,_0x295a14['shadows'][_0x2fa8e5*(0x1a82+-0x602*0x2+-0xda*0x11)*(-0x14f0+0xe26+0x6cd)+(0x19*0x69+-0x2*-0xbf8+-0x222d)]=_0x4d678a,_0x295a14['shadows'][_0x2fa8e5*(-0x118d+-0x1c46+0x2dd7)*(0x18d7+-0x1e2b*0x1+0x557*0x1)+(0x9*-0x43b+-0x5*0x16b+-0x2d2f*-0x1)]=_0x3d2e5c,_0x295a14['shadows'][_0x2fa8e5*(-0x215b*0x1+-0x1*-0x24d7+-0x378)*(0x817+-0x35*0xb+-0x5cd)+(0x1c3*0x14+-0x58f*-0x3+-0x1*0x33e3)]=_0x319b9d,_0x295a14['shadows'][_0x2fa8e5*(0x267e+0x1f50+-0x45ca*0x1)*(0x147*0xa+0xbcd*0x1+-0x18*0x106)+(0x1cc6+-0x1eb0+-0x1*-0x1f1)]=_0x4d678a,_0x295a14['shadows'][_0x2fa8e5*(0xa71+-0x614*-0x3+-0x1ca9)*(-0x1385+0x178d+-0x93*0x7)+(-0x564+-0x35*-0xb4+-0x1fd8)]=_0x3d2e5c,_0x295a14['shadows'][_0x2fa8e5*(-0xf3e*0x1+0x10af+0x5*-0x49)*(0x167*-0x1b+-0x1*-0x1691+-0x1*-0xf4f)+(0x1e3*-0x6+0x17*0x81+-0x3c)]=_0x319b9d,_0x295a14['shadows'][_0x2fa8e5*(-0x6*0x67e+-0x6*0x459+-0x16*-0x2f5)*(0xd63+0x2*0x1369+-0x3432)+(-0x122e+-0x1a0f*0x1+0x5*0x8db)]=_0x4d678a,_0x295a14['shadows'][_0x2fa8e5*(0x7e7+-0x107c+0x899)*(0x17c4+-0x48*0x75+0x927)+(-0x2*0xaf6+0x2*0x483+-0xcf1*-0x1)]=_0x3d2e5c,_0x295a14['quad']++;}_0x248368||_0x8e0857<_0x526437&&_0x8b755b(this['_symbols'],_0x526437,_0x28f829);}this['_noResize']=!(0x12b3+-0x4be+0x4a7*-0x3),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x1f43+-0xe*0x2e+0x1cbe*-0x1);const _0x4ba09d=this['_element']['pivot']['x'],_0xa0a5b=this['_element']['pivot']['y'],_0x5766e0=this['_alignment']['x'],_0x299498=this['_alignment']['y'];for(let _0x4b00eb=0x17de+0x1*-0x236e+0x8*0x172;_0x4b00eb<this['_meshInfo']['length'];_0x4b00eb++){if(this['_meshInfo'][_0x4b00eb]['count']===-0x4*-0x883+-0x1f0+-0x201c)continue;let _0x527bbe=-0x2125*0x1+0x1b21+-0x6e*-0xe;for(const _0x2965a4 in this['_meshInfo'][_0x4b00eb]['lines']){const _0x4514d7=this['_meshInfo'][_0x4b00eb]['lines'][_0x2965a4],_0x3327ff=this['_lineWidth'+'s'][parseInt(_0x2965a4,0x100*-0x7+0x1fb*0x6+0x4*-0x136)],_0x3b2a90=-_0x4ba09d*this['_element']['calculated'+'Width']+_0x5766e0*(this['_element']['calculated'+'Width']-_0x3327ff)*(this['_rtl']?-(-0x1*0x1f5d+0x1689+0x8d5):0x4a*-0x9+0x14*-0x1ab+-0x1f*-0x129),_0x19924d=(0x240*0xd+-0x3c1+0xd*-0x1f6-_0xa0a5b)*this['_element']['calculated'+'Height']-_0x1ff045-(0x10*-0x171+-0x4a*-0x31+-0x8e7*-0x1-_0x299498)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x1fadbb=_0x527bbe;_0x1fadbb<=_0x4514d7;_0x1fadbb++)this['_meshInfo'][_0x4b00eb]['positions'][_0x1fadbb*(0x3*-0x937+0x13f5+0x7b4)*(0xe89*0x1+0x12ed+0x1*-0x2173)]+=_0x3b2a90,this['_meshInfo'][_0x4b00eb]['positions'][_0x1fadbb*(0xf29+0x1834+0x59f*-0x7)*(0x1fa4+-0x20d7+-0x136*-0x1)+(0x85+-0x5*0x71+0x1d*0xf)]+=_0x3b2a90,this['_meshInfo'][_0x4b00eb]['positions'][_0x1fadbb*(-0xa1e+-0x2214*0x1+-0x1*-0x2c36)*(0x1*0xd8b+0x1*-0x1909+0xb81)+(0x1aee+-0x24*-0x43+-0x2454)]+=_0x3b2a90,this['_meshInfo'][_0x4b00eb]['positions'][_0x1fadbb*(-0x17de+0x3a6*0x1+0x143c)*(-0x1*0x1272+0xefa+0x21*0x1b)+(0x25*0xdf+0x1bce*0x1+0x5*-0xc00)]+=_0x3b2a90,this['_meshInfo'][_0x4b00eb]['positions'][_0x1fadbb*(0x132f*-0x1+-0x1484+0x3*0xd3d)*(0xe74+0x5f3*-0x3+0x1b4*0x2)+(0x25e2+0x8f1*0x3+-0x40b4)]+=_0x19924d,this['_meshInfo'][_0x4b00eb]['positions'][_0x1fadbb*(-0xc6*-0x4+-0x1bd8+0x18c4)*(-0x1244*0x1+-0x106d+0x22b4)+(-0x1*-0x1bfa+-0x16db+-0x51b)]+=_0x19924d,this['_meshInfo'][_0x4b00eb]['positions'][_0x1fadbb*(-0x5e0*-0x4+0x8e2+-0x205e)*(-0x6e4+0x7f*0x43+-0x1a56)+(0x36e*-0x2+0x1*0xf8d+-0x2*0x455)]+=_0x19924d,this['_meshInfo'][_0x4b00eb]['positions'][_0x1fadbb*(0x1e89+-0x1*0x115f+-0x11*0xc6)*(0x2*0x822+0x3*0x605+-0x2250)+(0x126d*0x2+0x47*0x17+0x2b31*-0x1)]+=_0x19924d;if(this['_rtl'])for(let _0x4bd972=_0x527bbe;_0x4bd972<=_0x4514d7;_0x4bd972++){const _0xa38b26=_0x4bd972*(-0x5e1+0x1*0x8ec+0x19*-0x1f)*(0x1*-0x2423+-0x3a*0x92+-0x453a*-0x1);for(let _0x3a5cb8=0x25f9+0xb6*0x20+-0x3cb9;_0x3a5cb8<-0x2429+-0x321*0xa+0x77f*0x9;++_0x3a5cb8)this['_meshInfo'][_0x4b00eb]['positions'][_0xa38b26+_0x3a5cb8*(-0x2b*0xc5+-0x20fa+-0x210a*-0x2)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x4b00eb]['positions'][_0xa38b26+_0x3a5cb8*(-0x8f4+0x2*-0x4a+0x98b)]+_0x3b2a90*(0x25*0x6f+-0x26b1+-0x16a8*-0x1);const _0x107862=this['_meshInfo'][_0x4b00eb]['positions'][_0xa38b26+(-0x229e+-0xa76+-0x77*-0x61)],_0x2b947d=this['_meshInfo'][_0x4b00eb]['positions'][_0xa38b26+(0x77d+-0x73*0x3b+0x130a)];this['_meshInfo'][_0x4b00eb]['positions'][_0xa38b26+(0x225a+-0x716*0x4+-0x1*0x5ff)]=this['_meshInfo'][_0x4b00eb]['positions'][_0xa38b26+(-0x7cc*-0x5+-0x216f+-0x58d)],this['_meshInfo'][_0x4b00eb]['positions'][_0xa38b26+(0x4*-0x35+-0x58*0x5+0x7*0x5e)]=this['_meshInfo'][_0x4b00eb]['positions'][_0xa38b26+(0xfdd+0xf3*-0xd+-0x1*0x37d)],this['_meshInfo'][_0x4b00eb]['positions'][_0xa38b26+(0x2704+0x1c42+0x1*-0x4346)]=_0x107862,this['_meshInfo'][_0x4b00eb]['positions'][_0xa38b26+(-0x29f*0x3+0x9f9+-0x213)]=_0x2b947d;}_0x527bbe=_0x4514d7+(0xcda+-0x1d98+0x1*0x10bf);}const _0x428043=this['_meshInfo'][_0x4b00eb]['count']*(-0x14bb+-0x71f+-0x52*-0x57),_0x23ae25=this['_meshInfo'][_0x4b00eb]['quad']*(-0x2*0x166+-0x4*0x6a3+-0x1d5c*-0x1),_0x558140=new go(this['_meshInfo'][_0x4b00eb]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x240295=0x539*0x7+0x469+-0x17*0x1c8;_0x240295<_0x428043;_0x240295++)_0x240295>=_0x23ae25?(_0x558140['element'][He]['set'](-0x1501+0x16a*-0x3+0x193f,0x1e62+-0x24*0xe+-0x1c6a,0x2219+0xdc9+-0x2fe2),_0x558140['element'][ns]['set'](0x1300*0x1+0x24fa+-0x37fa,0x2*0x1386+0x1b6*0xb+-0x39de),_0x558140['element'][At]['set'](-0x49*0x59+0x14e*-0x13+-0x1*-0x322b,-0xfad*0x1+0x1296+0x2e9*-0x1,0x4c*-0x76+0x1*-0x1e39+0x4141,0x82a+0xc5e*-0x1+0x434),_0x558140['element'][Po]['set'](0x5*0x2cd+-0x85*-0x17+-0x19f4,0x13d+-0x1c73+0x1b36,-0x53e*-0x6+-0x4c7+0x1*-0x1aad,0x2429*0x1+-0xf76+-0x14b3*0x1),_0x558140['element'][Ro]['set'](0x19ab+-0x7*-0x2e0+-0x2dcb,-0x1*-0x1a65+-0x15*-0x195+-0x3b9e,-0x4d8+-0x1a67+0x1f3f,0x16a0*0x1+0x79*0x3c+0x34*-0xfb)):(_0x558140['element'][He]['set'](this['_meshInfo'][_0x4b00eb]['positions'][_0x240295*(-0x117+0x1*-0x1d1b+-0x1*-0x1e35)+(0x8*-0x298+0x51*0x7b+-0x122b*0x1)],this['_meshInfo'][_0x4b00eb]['positions'][_0x240295*(-0x15bb+-0x10f*0xd+0x2381)+(-0x1274+0x216f+0x8e*-0x1b)],this['_meshInfo'][_0x4b00eb]['positions'][_0x240295*(-0x33*-0x1+-0x9e5+0x9b5)+(-0x1018*0x2+0x105e*-0x2+0x40ee)]),_0x558140['element'][ns]['set'](this['_meshInfo'][_0x4b00eb]['uvs'][_0x240295*(-0x1cd9+0x2149+-0x46e)+(-0xbd1+-0x1338+-0x1*-0x1f09)],this['_meshInfo'][_0x4b00eb]['uvs'][_0x240295*(-0x1af*-0x11+-0xe1a+-0xe83*0x1)+(0x7*0x207+0x192a+-0x275a*0x1)]),_0x558140['element'][At]['set'](this['_meshInfo'][_0x4b00eb]['colors'][_0x240295*(-0x1*0x1bd1+0x6c1+-0x8e*-0x26)+(0x47*-0x6d+0x20e3*0x1+-0x2a8)],this['_meshInfo'][_0x4b00eb]['colors'][_0x240295*(0x587*-0x1+0xb*-0x1e5+0x1a62)+(-0x13f9+-0xdba+0x21b4)],this['_meshInfo'][_0x4b00eb]['colors'][_0x240295*(-0xf31+0xcb9*-0x3+0x3560)+(0x5cb+0x1074+0x163d*-0x1)],this['_meshInfo'][_0x4b00eb]['colors'][_0x240295*(0x7*0x4a6+0x26*0xc3+-0x3d78*0x1)+(0xc22*-0x1+-0xd9*-0x7+0x636)]),_0x558140['element'][Po]['set'](this['_meshInfo'][_0x4b00eb]['outlines'][_0x240295*(0x1206*-0x1+-0xb2*-0x29+-0xa79)+(0xb*0x1eb+-0x2268+-0xd4f*-0x1)],this['_meshInfo'][_0x4b00eb]['outlines'][_0x240295*(0x9b4+-0x13*-0x147+0x6*-0x5a9)+(-0xe4*0x17+-0x1*0x679+0x1af6)],this['_meshInfo'][_0x4b00eb]['outlines'][_0x240295*(0x256b+0x107*-0x15+-0xfd5)+(-0x31*-0x41+-0xf6d+0x1*0x2fe)]),_0x558140['element'][Ro]['set'](this['_meshInfo'][_0x4b00eb]['shadows'][_0x240295*(-0x86*0x3d+-0x18e5+-0x32*-0x123)+(0x53+0x19c3+-0x1a16)],this['_meshInfo'][_0x4b00eb]['shadows'][_0x240295*(0x377*-0x9+-0x90*0x12+0x102*0x29)+(0x97+0xdd*-0x17+0x1*0x1345)],this['_meshInfo'][_0x4b00eb]['shadows'][_0x240295*(0x1*0x16bf+0x4*0x1fa+-0x1ea4)+(-0x2b5+-0x4*-0x46b+0x7*-0x223)])),_0x558140['next']();_0x558140['end'](),this['_meshInfo'][_0x4b00eb]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x4b00eb]['positions']),this['_meshInfo'][_0x4b00eb]['meshInstan'+'ce']['_aabbVer']=-(0x9*0x34a+0x1197+-0x2f30);}this['_aabbDirty']=!(0xe7d+-0x1ac4+-0x7*-0x1c1);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x554b20){this['font']!==_0x554b20['resource']&&(this['font']=_0x554b20['resource']);}['_onFontCha'+'nge'](_0x2fcf2e,_0x5dac34,_0x201544,_0x3f717e){if(_0x5dac34==='data'){this['_font']['data']=_0x201544;const _0x31a134=this['_font']['data']['info']['maps']['length'];for(let _0x3ce009=0x8*0x25f+0x20fe+-0x8a9*0x6;_0x3ce009<_0x31a134;_0x3ce009++){if(!this['_meshInfo'][_0x3ce009])continue;const _0x32b94f=this['_meshInfo'][_0x3ce009]['meshInstan'+'ce'];_0x32b94f&&(_0x32b94f['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x32b94f['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x32b94f['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x3ce009]['width']));}}}['_onFontRem'+'ove'](_0x1b98c3){}['_setTextur'+'eParams'](_0x2db228,_0x437bf2){this['_font']&&(this['_font']['type']===Kh?(_0x2db228['deletePara'+'meter']('texture_em'+'issiveMap'),_0x2db228['deletePara'+'meter']('texture_op'+'acityMap'),_0x2db228['setParamet'+'er']('texture_ms'+'dfMap',_0x437bf2)):this['_font']['type']===yR&&(_0x2db228['deletePara'+'meter']('texture_ms'+'dfMap'),_0x2db228['setParamet'+'er']('texture_em'+'issiveMap',_0x437bf2),_0x2db228['setParamet'+'er']('texture_op'+'acityMap',_0x437bf2)));}['_getPxRang'+'e'](_0x4c731){const _0x1bc987=Object['keys'](this['_font']['data']['chars']);for(let _0x543444=0x2402+-0x31*0x7e+-0xbe4;_0x543444<_0x1bc987['length'];_0x543444++){const _0x3fbbfd=this['_font']['data']['chars'][_0x1bc987[_0x543444]];if(_0x3fbbfd['range'])return(_0x3fbbfd['scale']||0xf21+-0x1*-0x765+-0x1685)*_0x3fbbfd['range'];}return-0x14ba+-0x9de*-0x2+0x80*0x2;}['_getUv'](_0x3131dc){const _0xcc9fcf=this['_font']['data'];if(!_0xcc9fcf['chars'][_0x3131dc]){const _0x3e0bff='\x20';return _0xcc9fcf['chars'][_0x3e0bff]?this['_getUv'](_0x3e0bff):[0x12fa+-0x2f9*-0xb+-0x1*0x33ad,-0x335*-0x1+0x17c5*-0x1+0x1490,0x96c+-0xa4a+0xde,0x1*0x23c+0x4e*-0x75+0x5b*0x5e];}const _0x25043f=_0xcc9fcf['chars'][_0x3131dc]['map'],_0x5d7aa6=_0xcc9fcf['info']['maps'][_0x25043f]['width'],_0x3abb61=_0xcc9fcf['info']['maps'][_0x25043f]['height'],_0x4490ae=_0xcc9fcf['chars'][_0x3131dc]['x'],_0x5d2c83=_0xcc9fcf['chars'][_0x3131dc]['y'],_0x54dee2=_0x4490ae,_0x3cff69=_0x5d2c83,_0xb22f44=_0x4490ae+_0xcc9fcf['chars'][_0x3131dc]['width'],_0x6c60b5=_0x5d2c83-_0xcc9fcf['chars'][_0x3131dc]['height'],_0x426fc7=-0x1f84+0x5*0x1f7+0x15b2-_0xcc9fcf['chars'][_0x3131dc]['height']/_0x3abb61;return[_0x54dee2/_0x5d7aa6,_0x426fc7-_0x3cff69/_0x3abb61,_0xb22f44/_0x5d7aa6,_0x426fc7-_0x6c60b5/_0x3abb61];}['onEnable'](){this['_fontAsset']['autoLoad']=!(0xc20+-0x52*0x21+-0x18e*0x1),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x3b5*0x1+0x17ef+-0x1*0x1ba3),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x2e1308){if(this['_model']){const _0x1e3381=this['_model']['meshInstan'+'ces'];for(let _0x399c79=0xa1f+-0x2611*-0x1+-0x3030;_0x399c79<_0x1e3381['length'];_0x399c79++)_0x1e3381[_0x399c79]['stencilFro'+'nt']=_0x2e1308,_0x1e3381[_0x399c79]['stencilBac'+'k']=_0x2e1308;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x21e06b){const _0x3d5a86={};_0x21e06b===void(-0x2d*-0x23+0x4*0x8c5+-0x293b)&&(_0x21e06b=this['_symbols']['length']);for(let _0x33bf53=-0x8f*-0xb+0x8ad+-0x769*0x2,_0x147fd9=_0x21e06b;_0x33bf53<_0x147fd9;_0x33bf53++){const _0x4036bc=this['_symbols'][_0x33bf53];let _0x4d8da5=this['_font']['data']['chars'][_0x4036bc];_0x4d8da5||(_0x4d8da5=this['_font']['data']['chars']['\x20'],_0x4d8da5||(_0x4d8da5=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x1*0xcf2+0x6*0x4c3+-0xfa0]]));const _0x115e3a=_0x4d8da5['map'];_0x3d5a86[_0x115e3a]?_0x3d5a86[_0x115e3a]++:_0x3d5a86[_0x115e3a]=-0x5b*0x49+0x1456+0x1*0x59e;}return _0x3d5a86;}['_updateRen'+'derRange'](){const _0x20f195=this['_rangeStar'+'t']===0x1*-0x9aa+0xd10+0x57*-0xa?0x805+0x1132+0x1937*-0x1:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x26bda0=this['_rangeEnd']===0xd09+0x1b16+0x281f*-0x1?0xadb+0x3*0x151+-0xece:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x4e6a85=0x20*-0x119+0x1e71*0x1+0x4af,_0x1bb417=this['_meshInfo']['length'];_0x4e6a85<_0x1bb417;_0x4e6a85++){const _0x897fb6=_0x20f195[_0x4e6a85]||0x25d0+0x166f+-0x3c3f,_0x52a1ed=_0x26bda0[_0x4e6a85]||0x791+-0x11fd+-0x17*-0x74,_0x28368a=this['_meshInfo'][_0x4e6a85]['meshInstan'+'ce'];if(_0x28368a){const _0xacecb6=_0x28368a['mesh'];_0xacecb6&&(_0xacecb6['primitive'][-0x21f2+-0x26f2+0x48e4]['base']=_0x897fb6*(0x3*-0x161+-0x115d+0x1583)*(0x1fbb*0x1+0x1345*-0x2+0x6d1*0x1),_0xacecb6['primitive'][-0x2*-0xfbf+0x1*0x189d+-0x381b]['count']=(_0x52a1ed-_0x897fb6)*(-0x183a+0x8*-0x2e6+0x2f6d)*(0x1579+0x1149*0x1+-0x4d8*0x8));}}}set['text'](_0x4d16b6){this['_i18nKey']=null;const _0x48e696=_0x4d16b6!=null&&_0x4d16b6['toString']()||'';this['_setText'](_0x48e696);}get['text'](){return this['_text'];}set['key'](_0x1b3edd){const _0x5f27a1=_0x1b3edd!==null?_0x1b3edd['toString']():null;this['_i18nKey']!==_0x5f27a1&&(this['_i18nKey']=_0x5f27a1,_0x5f27a1?(this['_fontAsset']['disableLoc'+'alization']=!(-0x194a*0x1+-0xd42*0x2+0x33cf*0x1),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(0x2*-0xa9f+-0x19e*0x17+-0x1*-0x3a70));}get['key'](){return this['_i18nKey'];}set['color'](_0xe850bf){const _0x39883c=_0xe850bf['r'],_0x53f607=_0xe850bf['g'],_0x21336a=_0xe850bf['b'];if(this['_color']===_0xe850bf&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x39883c&&this['_color']['g']===_0x53f607&&this['_color']['b']===_0x21336a)&&(this['_color']['r']=_0x39883c,this['_color']['g']=_0x53f607,this['_color']['b']=_0x21336a,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0x683*-0x3+-0x434+-0xf55]=Me['r'],this['_colorUnif'+'orm'][0x133*-0x1d+-0x1d3f+0x4007]=Me['g'],this['_colorUnif'+'orm'][0x23e4+0x3*0xb3+0x15*-0x1cf]=Me['b'];for(let _0x2a9020=0x12da+-0x38*-0x18+0xc0d*-0x2,_0x495b92=this['_model']['meshInstan'+'ces']['length'];_0x2a9020<_0x495b92;_0x2a9020++)this['_model']['meshInstan'+'ces'][_0x2a9020]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x394adc){if(this['_color']['a']!==_0x394adc&&(this['_color']['a']=_0x394adc,this['_model'])){for(let _0x54202f=0x2204+0x68c+-0x2890,_0x5b4b84=this['_model']['meshInstan'+'ces']['length'];_0x54202f<_0x5b4b84;_0x54202f++)this['_model']['meshInstan'+'ces'][_0x54202f]['setParamet'+'er']('material_o'+'pacity',_0x394adc);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x394adc);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x9bdc82){const _0x6e78ab=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x9bdc82,this['_scaledLin'+'eHeight']=_0x9bdc82,_0x6e78ab!==_0x9bdc82&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x426033){const _0x2e6fdf=this['_wrapLines'];this['_wrapLines']=_0x426033,_0x2e6fdf!==_0x426033&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x963f07){const _0x4a90ec=this['_spacing'];this['_spacing']=_0x963f07,_0x4a90ec!==_0x963f07&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x41cc8b){const _0x569e37=this['_fontSize'];this['_fontSize']=_0x41cc8b,this['_originalF'+'ontSize']=_0x41cc8b,_0x569e37!==_0x41cc8b&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0xe25d9){this['_fontAsset']['defaultAss'+'et']=_0xe25d9;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x31cb72){let _0xd9596e;if(this['_font']&&(_0xd9596e=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x31cb72,this['_fontMinY']=-0x571+-0x1c47+0x21b8,this['_fontMaxY']=-0x2b*0x62+-0x2597*0x1+0x360d,!_0x31cb72)return;const _0x16fa3e=this['_font']['data'];for(const _0x318781 in _0x16fa3e['chars']){const _0x3d4a48=_0x16fa3e['chars'][_0x318781];_0x3d4a48['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x3d4a48['bounds'][0xa51*-0x2+0x85*-0x1a+0x2225*0x1]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x3d4a48['bounds'][-0x184e+0x17*0xf5+0x24e]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x31cb72['type']!==_0xd9596e){const _0x5f4910=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x5f4910);}for(let _0x41ca85=0x3a9*0x7+-0x15d*0x11+-0x272,_0x4c01f3=this['_font']['textures']['length'];_0x41ca85<_0x4c01f3;_0x41ca85++)if(!this['_meshInfo'][_0x41ca85])this['_meshInfo'][_0x41ca85]=new CR();else{const _0x4bdbb8=this['_meshInfo'][_0x41ca85]['meshInstan'+'ce'];_0x4bdbb8&&(_0x4bdbb8['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x4bdbb8['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x4bdbb8['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x41ca85]['width']),this['_setTextur'+'eParams'](_0x4bdbb8,this['_font']['textures'][_0x41ca85]));}let _0x4e7b0c=!(-0x9*-0x73+-0x206a+0x10*0x1c6);for(let _0x1c1642=this['_font']['textures']['length'];_0x1c1642<this['_meshInfo']['length'];_0x1c1642++)this['_meshInfo'][_0x1c1642]['meshInstan'+'ce']&&(_0x4e7b0c||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x4e7b0c=!(0x2*0xbe0+0x1*0x1beb+-0x33ab)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x1c1642]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x2dd037){_0x2dd037 instanceof $?this['_alignment']['set'](_0x2dd037['x'],_0x2dd037['y']):this['_alignment']['set'](_0x2dd037[0x51d*-0x5+-0x37*-0x88+0x11*-0x37],_0x2dd037[0x929*0x4+-0x2039+-0x46a]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x2c41ea){const _0x1b10f9=this['_autoWidth'];if(this['_autoWidth']=_0x2c41ea,_0x2c41ea&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0xd*0x7f+0x1349+-0x19bc+0.0001&&(this['_element']['width']=this['width']),_0x1b10f9!==_0x2c41ea){const _0x25b919=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x25b919!==this['_fontSize']&&(this['_fontSize']=_0x25b919,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x396915){const _0xfe6a51=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x396915,_0x396915&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<-0x1fb5+-0x1da*0x8+0x1*0x2e85+0.0001&&(this['_element']['height']=this['height']),_0xfe6a51!==_0x396915){const _0x1331e4=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x1331e4!==this['_fontSize']&&(this['_fontSize']=_0x1331e4,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x49d668){this['_rtlReorde'+'r']!==_0x49d668&&(this['_rtlReorde'+'r']=_0x49d668,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x2db0ad){this['_unicodeCo'+'nverter']!==_0x2db0ad&&(this['_unicodeCo'+'nverter']=_0x2db0ad,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x30941a=!(-0x1*0xb7b+-0x318+0xe94);for(let _0x42e00e=0x18a5+-0x20a1+-0x3fe*-0x2;_0x42e00e<this['_meshInfo']['length'];_0x42e00e++)this['_meshInfo'][_0x42e00e]['meshInstan'+'ce']&&(_0x30941a?this['_aabb']['add'](this['_meshInfo'][_0x42e00e]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x42e00e]['meshInstan'+'ce']['aabb']),_0x30941a=!(-0x5a*-0x5c+-0x1adf+-0x579)));this['_aabbDirty']=!(-0x2*0xaac+-0x1019*0x1+0x2572);}return this['_aabb'];}set['outlineCol'+'or'](_0x596ddc){const _0x571364=_0x596ddc instanceof Y?_0x596ddc['r']:_0x596ddc[-0x1*-0x1517+0x11ad+-0x26c4],_0x3d61b2=_0x596ddc instanceof Y?_0x596ddc['g']:_0x596ddc[-0x186c*0x1+0x2*-0x27a+0x1d61],_0x3100c3=_0x596ddc instanceof Y?_0x596ddc['b']:_0x596ddc[-0x1*-0x1b31+0x16c8+-0x1*0x31f7],_0x430638=_0x596ddc instanceof Y?_0x596ddc['a']:_0x596ddc[-0x174f+-0xefe+0x2650];if(this['_outlineCo'+'lor']===_0x596ddc&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x571364&&this['_outlineCo'+'lor']['g']===_0x3d61b2&&this['_outlineCo'+'lor']['b']===_0x3100c3&&this['_outlineCo'+'lor']['a']===_0x430638)&&(this['_outlineCo'+'lor']['r']=_0x571364,this['_outlineCo'+'lor']['g']=_0x3d61b2,this['_outlineCo'+'lor']['b']=_0x3100c3,this['_outlineCo'+'lor']['a']=_0x430638,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x1*-0x21ae+-0xcfb+-0x955*-0x5]=Me['r'],this['_outlineCo'+'lorUniform'][0xd4*-0x17+0x18*0x3+0x12c5]=Me['g'],this['_outlineCo'+'lorUniform'][0x33d+-0x963*0x1+0x4*0x18a]=Me['b'],this['_outlineCo'+'lorUniform'][0x3b*0x3e+0x51a+0xb*-0x1c3]=Me['a'];for(let _0x3c5106=-0x1886+-0x1*0x1fac+0x3832,_0x4da514=this['_model']['meshInstan'+'ces']['length'];_0x3c5106<_0x4da514;_0x3c5106++)this['_model']['meshInstan'+'ces'][_0x3c5106]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x197cba){const _0x30cd06=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x197cba,_0x30cd06!==_0x197cba&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x15adc7=-0x1ffb*-0x1+0x1d7f+-0x3d7a,_0x16e9ba=this['_model']['meshInstan'+'ces']['length'];_0x15adc7<_0x16e9ba;_0x15adc7++)this['_model']['meshInstan'+'ces'][_0x15adc7]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0xffa797){const _0x5ef0d6=_0xffa797 instanceof Y?_0xffa797['r']:_0xffa797[0x675+-0x5bd+-0x4*0x2e],_0x7fd211=_0xffa797 instanceof Y?_0xffa797['g']:_0xffa797[0x1*-0x2347+-0x1ebb+0x4203],_0x2eb88d=_0xffa797 instanceof Y?_0xffa797['b']:_0xffa797[-0x7eb+-0x3*-0xb96+-0x1ad5],_0x3f109e=_0xffa797 instanceof Y?_0xffa797['a']:_0xffa797[0x2a0+0xc16+0x1*-0xeb3];if(this['_shadowCol'+'or']===_0xffa797&&v['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x5ef0d6&&this['_shadowCol'+'or']['g']===_0x7fd211&&this['_shadowCol'+'or']['b']===_0x2eb88d&&this['_shadowCol'+'or']['a']===_0x3f109e)&&(this['_shadowCol'+'or']['r']=_0x5ef0d6,this['_shadowCol'+'or']['g']=_0x7fd211,this['_shadowCol'+'or']['b']=_0x2eb88d,this['_shadowCol'+'or']['a']=_0x3f109e,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x10e3*0x1+-0x1*0x57d+-0xb66]=Me['r'],this['_shadowCol'+'orUniform'][-0x18*-0x4f+0x2*0xc3d+-0x1fe1*0x1]=Me['g'],this['_shadowCol'+'orUniform'][0x1922+0x1*-0x25d1+-0x3*-0x43b]=Me['b'],this['_shadowCol'+'orUniform'][-0x15bc+0xbba+0xf*0xab]=Me['a'];for(let _0x2504cb=0x74a*0x1+0x1936+-0x40*0x82,_0x97475e=this['_model']['meshInstan'+'ces']['length'];_0x2504cb<_0x97475e;_0x2504cb++)this['_model']['meshInstan'+'ces'][_0x2504cb]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x629c42){const _0x19bdf8=_0x629c42 instanceof $?_0x629c42['x']:_0x629c42[0x20d5+-0x583+-0x1b52],_0xaa1be4=_0x629c42 instanceof $?_0x629c42['y']:_0x629c42[0xb4b+-0x6a2+0x4*-0x12a];if(!(this['_shadowOff'+'set']['x']===_0x19bdf8&&this['_shadowOff'+'set']['y']===_0xaa1be4)&&(this['_shadowOff'+'set']['set'](_0x19bdf8,_0xaa1be4),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x3eccb0=-0x3*0xcaa+-0x18f*0x13+-0x1*-0x439b,_0x6531f4=this['_model']['meshInstan'+'ces']['length'];_0x3eccb0<_0x6531f4;_0x3eccb0++){const _0x5757d6=-this['_font']['data']['info']['maps'][_0x3eccb0]['width']/this['_font']['data']['info']['maps'][_0x3eccb0]['height'];this['_shadowOff'+'setUniform'][0x12*0x1b6+-0x9*-0x1c0+0x14b*-0x24]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x1bec*0x1+0x2678+-0xa8b]=_0x5757d6*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x3eccb0]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x35a3c2){this['_minFontSi'+'ze']!==_0x35a3c2&&(this['_minFontSi'+'ze']=_0x35a3c2,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x521b9c){this['_maxFontSi'+'ze']!==_0x521b9c&&(this['_maxFontSi'+'ze']=_0x521b9c,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x845fea){this['_autoFitWi'+'dth']!==_0x845fea&&(this['_autoFitWi'+'dth']=_0x845fea,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x324593){this['_autoFitHe'+'ight']!==_0x324593&&(this['_autoFitHe'+'ight']=_0x324593,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0xc5b3f){this['_maxLines']!==_0xc5b3f&&(_0xc5b3f===null&&this['_maxLines']===-(-0x254d+-0xf23*-0x2+0x708)||(this['_maxLines']=_0xc5b3f===null?-(0x2ee+-0x1e89+0x6*0x49a):_0xc5b3f,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x48f092){if(_0x48f092=!!_0x48f092,this['_enableMar'+'kup']===_0x48f092)return;this['_enableMar'+'kup']=_0x48f092,this['font']&&this['_updateTex'+'t']();const _0x58db44=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x58db44);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x277b3c){return this['_colorPale'+'tte']['slice'](_0x277b3c*(-0x150a+0x233e+-0xe31),_0x277b3c*(0x20*-0x83+-0x9*0x17e+0x1dd1)+(0x3*0xace+0x689+-0xe*0x2c8));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x1da3b6){return this['_outlinePa'+'lette']['slice'](_0x1da3b6*(-0x94e+0x1f01*0x1+-0x15ae),_0x1da3b6*(-0x9*-0x133+-0x538+-0x58e)+(0x1939+0x15*-0x3d+-0x1433));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x545343){return this['_shadowPal'+'ette']['slice'](_0x545343*(0x1199+0x197f*-0x1+0x7ec),_0x545343*(0x1*0xf11+-0x1*0x589+-0x982)+(0x21ba+-0x1*-0x20e1+0x5*-0xd51));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x350020){_0x350020=Math['max'](0x1fde+-0x6*-0x3d9+-0x36f4,Math['min'](_0x350020,this['_symbols']['length'])),_0x350020!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x350020,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x4dcbb8){_0x4dcbb8=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x4dcbb8,this['_symbols']['length'])),_0x4dcbb8!==this['_rangeEnd']&&(this['_rangeEnd']=_0x4dcbb8,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Kd=new T(),_g=new q(),ni=new T(),kR=new T(),es=new q(),Yl=new q(),Kl=new q(),zn=new q();class Gt extends ue{constructor(_0x19b21f,_0x5be401){super(_0x19b21f,_0x5be401),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(-0x1*0x20e4+0x202e+-0x1*-0xb7),this['_anchor']=new Q(),this['_localAnch'+'or']=new Q(),this['_pivot']=new $(),this['_width']=this['_calculate'+'dWidth']=0x1*-0x8e7+-0x12c5+0x4*0x6f3,this['_height']=this['_calculate'+'dHeight']=0x1*0xdad+0x24de+0x1*-0x326b,this['_margin']=new Q(0x4*-0x6e+-0x14+0x1cc,0x1*0x1e86+-0x4e3+-0x19a3,-(-0x11*0x1d+0x1644+-0x159*0xf),-(0x1*0x11ef+-0x1b2d*0x1+0x95e)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(0x159*0x7+0x20*0x9e+-0x1*0x1d2f),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new T(),new T(),new T(),new T()],this['_canvasCor'+'ners']=[new $(),new $(),new $(),new $()],this['_worldCorn'+'ers']=[new T(),new T(),new T(),new T()],this['_cornersDi'+'rty']=!(0x1*0x29+-0x2670+-0xef*-0x29),this['_canvasCor'+'nersDirty']=!(0x1a4e+0xfd*0xd+-0xd0d*0x3),this['_worldCorn'+'ersDirty']=!(0x13c*-0x1+-0xca8+0xde4),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=_h,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0x1*0xb57+0xe5*-0x18+0x20cf,this['_fitMode']=gh,this['_useInput']=!(-0x10cc+-0x20fc+-0x31c9*-0x1),this['_layers']=[tl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x84*0xb+-0x44*0x6a+0x167d),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0xa26+-0x2e2*0x9+0xd2*0x2c,this['_maskOffse'+'t']=-0x1d6a+-0x632+-0x8e7*-0x4+0.5,this['_maskedBy']=null);}get['data'](){const _0x3e4ebe=this['system']['store'][this['entity']['getGuid']()];return _0x3e4ebe?_0x3e4ebe['data']:null;}set['enabled'](_0x52f967){const _0x53d748=this['data'],_0x4a8bad=_0x53d748['enabled'];_0x53d748['enabled']=_0x52f967,this['fire']('set','enabled',_0x4a8bad,_0x52f967);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0x4bd*0x2+-0x1*-0xa88+-0x1*0x1402+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x1*0xc8b+0x2043*-0x1+0x13b8+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x317fcd){_0x317fcd instanceof Q?this['_anchor']['copy'](_0x317fcd):this['_anchor']['set'](..._0x317fcd),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(0x1237+-0x18d2+0x69b*0x1),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x433044){var _0x13561a,_0x4e2a95;this['_batchGrou'+'pId']!==_0x433044&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x3*-0xaf9+0x97+-0x2182&&((_0x13561a=this['system']['app']['batcher'])==null||_0x13561a['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x433044>=-0x1d29+-0x1c6*-0x16+-0x9db&&((_0x4e2a95=this['system']['app']['batcher'])==null||_0x4e2a95['insert'](et['ELEMENT'],_0x433044,this['entity'])),_0x433044<0x1*0x30+0xae3*0x3+-0x20d9*0x1&&this['_batchGrou'+'pId']>=0x259f+-0x2319*-0x1+-0x598*0xd&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x433044);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x19e4b9){this['_margin']['y']=_0x19e4b9;const _0x492178=this['entity']['getLocalPo'+'sition'](),_0x45b80a=this['_absTop'],_0xf8374a=this['_localAnch'+'or']['y']+_0x19e4b9;this['_setHeight'](_0x45b80a-_0xf8374a),_0x492178['y']=_0x19e4b9+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x492178);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x46e599){this['_setCalcul'+'atedWidth'](_0x46e599,!(-0x1*-0x119+0x10a7+-0x11c0));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x1baaff){this['_setCalcul'+'atedHeight'](_0x1baaff,!(0x15bb+0x13cb+0x84e*-0x5));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x3734e2=this['system']['app']['graphicsDe'+'vice'],_0x537ad7=this['screenCorn'+'ers'],_0x19b1b3=_0x3734e2['canvas']['clientWidt'+'h']/_0x3734e2['width'],_0x298782=_0x3734e2['canvas']['clientHeig'+'ht']/_0x3734e2['height'];for(let _0x1fcd70=-0x1aa*-0x16+0x17b8+-0x3c54;_0x1fcd70<0x269b*0x1+-0x70f+0x4*-0x7e2;_0x1fcd70++)this['_canvasCor'+'ners'][_0x1fcd70]['set'](_0x537ad7[_0x1fcd70]['x']*_0x19b1b3,(_0x3734e2['height']-_0x537ad7[_0x1fcd70]['y'])*_0x298782);return this['_canvasCor'+'nersDirty']=!(-0x3*-0x937+-0x14*-0x4c+-0x2194),this['_canvasCor'+'ners'];}set['drawOrder'](_0x269b9b){let _0x1c6d41=-0x2*-0x1380+0xb2*0x35+-0x7*0xad6;this['screen']&&(_0x1c6d41=this['screen']['screen']['priority']),_0x269b9b>0x1aa2a64+0xf6f6b3*-0x1+0x4ccc4e&&(v['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x269b9b=0x9bdf69+0x1ff*0x5a89+0x5*-0x101e2d),this['_drawOrder']=(_0x1c6d41<<-0x7d0+0x2*-0x2bf+0xd66)+_0x269b9b,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x3826ec){this['_height']=_0x3826ec,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x3826ec,!(0xf1b+-0x1f48+0x102d)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x4abbc4){if(this['_addedMode'+'ls']['length'])for(let _0x561cb4=-0x1*-0x871+0x23da+-0x2c4b;_0x561cb4<this['_layers']['length'];_0x561cb4++){const _0xff759a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x561cb4]);if(_0xff759a){for(let _0x50e16b=-0x1*-0xb6b+-0x43*0x52+0xa0b;_0x50e16b<this['_addedMode'+'ls']['length'];_0x50e16b++)_0xff759a['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x50e16b]['meshInstan'+'ces']);}}if(this['_layers']=_0x4abbc4,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x56f3d1=-0x407+-0xa7*0xd+0xc82;_0x56f3d1<this['_layers']['length'];_0x56f3d1++){const _0x1abf02=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x56f3d1]);if(_0x1abf02){for(let _0x5729a6=0x4f8+-0x1d*0x139+0x1e7d;_0x5729a6<this['_addedMode'+'ls']['length'];_0x5729a6++)_0x1abf02['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x5729a6]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x2918d9){this['_margin']['x']=_0x2918d9;const _0x1ac1f1=this['entity']['getLocalPo'+'sition'](),_0x5b070a=this['_absRight'],_0xcf9ab1=this['_localAnch'+'or']['x']+_0x2918d9;this['_setWidth'](_0x5b070a-_0xcf9ab1),_0x1ac1f1['x']=_0x2918d9+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x1ac1f1);}get['left'](){return this['_margin']['x'];}set['margin'](_0x200904){this['_margin']['copy'](_0x200904),this['_calculate'+'Size'](!(-0x358+-0xe6*-0x1a+-0x1404),!(-0x38*-0x67+0x2093+0x1*-0x371b)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x262863){const {pivot:_0x29add8,margin:_0xf7097e}=this,_0xea5ddc=_0x29add8['x'],_0x44ecec=_0x29add8['y'];_0x262863 instanceof $?_0x29add8['copy'](_0x262863):_0x29add8['set'](..._0x262863);const _0x2c1453=_0xf7097e['x']+_0xf7097e['z'],_0xb09a63=_0x29add8['x']-_0xea5ddc;_0xf7097e['x']+=_0x2c1453*_0xb09a63,_0xf7097e['z']-=_0x2c1453*_0xb09a63;const _0x5f3f4d=_0xf7097e['y']+_0xf7097e['w'],_0x46a2e9=_0x29add8['y']-_0x44ecec;_0xf7097e['y']+=_0x5f3f4d*_0x46a2e9,_0xf7097e['w']-=_0x5f3f4d*_0x46a2e9,this['_anchorDir'+'ty']=!(0x1ee2+0x3*0x7+-0x1ef7),this['_cornersDi'+'rty']=!(0x1d3c+0xd18+-0x2a54),this['_worldCorn'+'ersDirty']=!(-0x17fd+-0x1*0x1499+0x1*0x2c96),this['_calculate'+'Size'](!(-0xec*-0x29+-0x2604+0x39),!(-0x65*-0x4c+0x5a6+-0x23a1*0x1)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x29add8);}get['pivot'](){return this['_pivot'];}set['right'](_0x2630db){this['_margin']['z']=_0x2630db;const _0x1ecd2e=this['entity']['getLocalPo'+'sition'](),_0xc5cccb=this['_absLeft'],_0x16d200=this['_localAnch'+'or']['z']-_0x2630db;this['_setWidth'](_0x16d200-_0xc5cccb),_0x1ecd2e['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x2630db-this['_calculate'+'dWidth']*(-0x5*0x62f+-0x1*-0x56b+0x1981-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x1ecd2e);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x1078ab=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x2c5*-0x9+0x106*-0x1+-0x17e7];this['_screenCor'+'ners'][0x110*-0x11+-0x732+0x1942]['set'](this['_absLeft'],this['_absBottom'],0x1*-0x2665+0x1*0xcb9+0x19ac),this['_screenCor'+'ners'][0xec6*-0x2+0x1e73+0x73*-0x2]['set'](this['_absRight'],this['_absBottom'],-0x18*0x7+-0x74c+0x7f4),this['_screenCor'+'ners'][0xc26*0x1+0x155a+-0x217e]['set'](this['_absRight'],this['_absTop'],0x2174+0x139d*-0x1+-0xdd7),this['_screenCor'+'ners'][-0x1*0x1367+0x733*-0x5+0x3769]['set'](this['_absLeft'],this['_absTop'],0x1*0x1e3d+0x4*-0x234+-0x449*0x5);const _0x4309c3=this['screen']['screen']['screenSpac'+'e'];for(let _0x2b0f2b=0x5c9+-0xe4f*-0x2+0x2267*-0x1;_0x2b0f2b<-0x20cd+-0x24fb+0x45cc;_0x2b0f2b++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x2b0f2b],this['_screenCor'+'ners'][_0x2b0f2b]),_0x4309c3&&this['_screenCor'+'ners'][_0x2b0f2b]['mulScalar'](this['screen']['screen']['scale']),_0x1078ab&&this['_screenCor'+'ners'][_0x2b0f2b]['add'](_0x1078ab);return this['_cornersDi'+'rty']=!(-0x326*-0xc+-0x7f1*0x2+-0x5*0x461),this['_canvasCor'+'nersDirty']=!(0x1b6d+0x7*-0x4d9+0x682),this['_worldCorn'+'ersDirty']=!(0x19c4+-0x1885+-0x13f),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0x1649+0xcaa+-0x22f3;}get['textHeight'](){return this['_text']?this['_text']['height']:0xd*-0x149+0xfa8+0x10d;}set['top'](_0x32d5d0){this['_margin']['w']=_0x32d5d0;const _0x57f664=this['entity']['getLocalPo'+'sition'](),_0x4fe95f=this['_absBottom'],_0x30f744=this['_localAnch'+'or']['w']-_0x32d5d0;this['_setHeight'](_0x30f744-_0x4fe95f),_0x57f664['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x32d5d0-this['_calculate'+'dHeight']*(-0x2*-0x3f5+0x2ed+-0xad6-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x57f664);}get['top'](){return this['_margin']['w'];}set['type'](_0x2bf094){_0x2bf094!==this['_type']&&(this['_type']=_0x2bf094,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x2bf094===rf?this['_image']=new _R(this):_0x2bf094===ex&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x4a43cf){this['_useInput']!==_0x4a43cf&&(this['_useInput']=_0x4a43cf,this['system']['app']['elementInp'+'ut']?_0x4a43cf?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x80b*0x2+-0x1c70+0x2c86)&&v['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x4a43cf));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x3a4e66){this['_fitMode']=_0x3a4e66,this['_calculate'+'Size'](!(-0x10c1*-0x1+0x3*-0x332+-0x72b),!(-0x57*0x36+0x7a1+0xab9)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x2b59ff){this['_width']=_0x2b59ff,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x2b59ff,!(0x1d99*0x1+-0x1189+-0x10*0xc1)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x420b2c=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){es['copy'](this['screen']['screen']['_screenMat'+'rix']),es['data'][-0xa89+0x2*-0x4a3+0x13dc]=-es['data'][-0xf1*0xc+-0x926+0x9f*0x21],es['mul2'](this['screen']['getWorldTr'+'ansform'](),es);for(let _0x56ebfd=0xf*0x12+0x13df+-0x14ed;_0x56ebfd<0x2c*-0x7c+-0xe89+0x23dd*0x1;_0x56ebfd++)es['transformP'+'oint'](_0x420b2c[_0x56ebfd],this['_worldCorn'+'ers'][_0x56ebfd]);}}else{const _0x1601c7=this['entity']['getLocalPo'+'sition']();es['setTransla'+'te'](-_0x1601c7['x'],-_0x1601c7['y'],-_0x1601c7['z']),Yl['setTRS'](T['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x1601c7['x'],_0x1601c7['y'],_0x1601c7['z']);const _0xd53e4b=this['entity']['parent']?this['entity']['parent']:this['entity'];zn['copy'](_0xd53e4b['getWorldTr'+'ansform']()),zn['mul'](Kl)['mul'](Yl)['mul'](es),ni['set'](_0x1601c7['x']-this['pivot']['x']*this['calculated'+'Width'],_0x1601c7['y']-this['pivot']['y']*this['calculated'+'Height'],_0x1601c7['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x3*-0x3e4+-0x23d*0x4+0x14a0]),ni['set'](_0x1601c7['x']+(0x14d7+0xaf9+0x1*-0x1fcf-this['pivot']['x'])*this['calculated'+'Width'],_0x1601c7['y']-this['pivot']['y']*this['calculated'+'Height'],_0x1601c7['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x17*0x17c+0x5fd+-0x2820]),ni['set'](_0x1601c7['x']+(-0x3*0x1fb+0x15c7+-0x7*0x243-this['pivot']['x'])*this['calculated'+'Width'],_0x1601c7['y']+(0x57*0x1+0x2227+-0x227d-this['pivot']['y'])*this['calculated'+'Height'],_0x1601c7['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x401+-0x2031*0x1+-0x322*-0x9]),ni['set'](_0x1601c7['x']-this['pivot']['x']*this['calculated'+'Width'],_0x1601c7['y']+(0x12c8+0x11ab+-0x2472-this['pivot']['y'])*this['calculated'+'Height'],_0x1601c7['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x240b+0x173f+0xccf*0x1]);}return this['_worldCorn'+'ersDirty']=!(-0x1e83+-0x490*-0x7+-0x2*0xb6),this['_worldCorn'+'ers'];}set['fontSize'](_0x3a0491){this['_setValue']('fontSize',_0x3a0491);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x4aae7e){this['_setValue']('minFontSiz'+'e',_0x4aae7e);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x353649){this['_setValue']('maxFontSiz'+'e',_0x353649);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x5a8eaf){this['_setValue']('maxLines',_0x5a8eaf);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x252047){this['_setValue']('autoFitWid'+'th',_0x252047);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x4ed2b1){this['_setValue']('autoFitHei'+'ght',_0x4ed2b1);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x8f7f9e){this['_setValue']('color',_0x8f7f9e);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0xc66847){this['_setValue']('font',_0xc66847);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x314cdb){this['_setValue']('fontAsset',_0x314cdb);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x55826b){this['_setValue']('spacing',_0x55826b);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x1a5ebf){this['_setValue']('lineHeight',_0x1a5ebf);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x1e3c77){this['_setValue']('wrapLines',_0x1e3c77);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x49c603){this['_setValue']('lines',_0x49c603);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x544ced){this['_setValue']('alignment',_0x544ced);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x5472a9){this['_setValue']('autoWidth',_0x5472a9);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x4f2ea0){this['_setValue']('autoHeight',_0x4f2ea0);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x5b6b39){this['_setValue']('rtlReorder',_0x5b6b39);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x3edb43){this['_setValue']('unicodeCon'+'verter',_0x3edb43);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x9a9c2e){this['_setValue']('text',_0x9a9c2e);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x3aa93d){this['_setValue']('key',_0x3aa93d);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x40cde0){this['_setValue']('texture',_0x40cde0);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x210cb6){this['_setValue']('textureAss'+'et',_0x210cb6);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x5b1fde){this['_setValue']('material',_0x5b1fde);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x11d5ab){this['_setValue']('materialAs'+'set',_0x11d5ab);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x3ffd66){this['_setValue']('sprite',_0x3ffd66);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x705033){this['_setValue']('spriteAsse'+'t',_0x705033);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x348a74){this['_setValue']('spriteFram'+'e',_0x348a74);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x280a64){this['_setValue']('pixelsPerU'+'nit',_0x280a64);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x65d208){this['_setValue']('opacity',_0x65d208);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x5d45c3){this['_setValue']('rect',_0x5d45c3);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x3bf85e){this['_setValue']('mask',_0x3bf85e);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0xa87ec2){this['_setValue']('outlineCol'+'or',_0xa87ec2);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x1b6900){this['_setValue']('outlineThi'+'ckness',_0x1b6900);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x3d5670){this['_setValue']('shadowColo'+'r',_0x3d5670);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x57e594){this['_setValue']('shadowOffs'+'et',_0x57e594);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x188fa1){this['_setValue']('enableMark'+'up',_0x188fa1);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x2855d4){this['_setValue']('rangeStart',_0x2855d4);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x5c3b09){this['_setValue']('rangeEnd',_0x5c3b09);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x326462,_0x3dd122){this['_text']?(this['_text'][_0x326462]!==_0x3dd122&&this['_dirtyBatc'+'h'](),this['_text'][_0x326462]=_0x3dd122):this['_image']&&(this['_image'][_0x326462]!==_0x3dd122&&this['_dirtyBatc'+'h'](),this['_image'][_0x326462]=_0x3dd122);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=$e['prototype']['_sync'],this['entity']['setPositio'+'n']=$e['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=$e['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x5f5a4f,_0x261916,_0x1ea3ac){if(!this['element']['screen']){$e['prototype']['setPositio'+'n']['call'](this,_0x5f5a4f,_0x261916,_0x1ea3ac);return;}_0x5f5a4f instanceof T?Kd['copy'](_0x5f5a4f):Kd['set'](_0x5f5a4f,_0x261916,_0x1ea3ac),this['getWorldTr'+'ansform'](),_g['copy'](this['element']['_screenToW'+'orld'])['invert'](),_g['transformP'+'oint'](Kd,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x371d4d,_0x4a8a9e,_0x4bcf5b){_0x371d4d instanceof T?this['localPosit'+'ion']['copy'](_0x371d4d):this['localPosit'+'ion']['set'](_0x371d4d,_0x4a8a9e,_0x4bcf5b);const _0x27eb01=this['element'],_0x561ff9=this['localPosit'+'ion'],_0x42ea1e=_0x27eb01['_pivot'];_0x27eb01['_margin']['x']=_0x561ff9['x']-_0x27eb01['_calculate'+'dWidth']*_0x42ea1e['x'],_0x27eb01['_margin']['z']=_0x27eb01['_localAnch'+'or']['z']-_0x27eb01['_localAnch'+'or']['x']-_0x27eb01['_calculate'+'dWidth']-_0x27eb01['_margin']['x'],_0x27eb01['_margin']['y']=_0x561ff9['y']-_0x27eb01['_calculate'+'dHeight']*_0x42ea1e['y'],_0x27eb01['_margin']['w']=_0x27eb01['_localAnch'+'or']['w']-_0x27eb01['_localAnch'+'or']['y']-_0x27eb01['_calculate'+'dHeight']-_0x27eb01['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x2d764e=this['element'],_0x6028e9=_0x2d764e['screen'];if(_0x6028e9){if(_0x2d764e['_anchorDir'+'ty']){let _0x22a351=-0xe8a+0x43f*-0x7+-0xec1*-0x3,_0x288929=-0x2428+-0x2196+0x45be,_0xbe27ad=-0xfe3+0x147+-0x22*-0x6e,_0xce95d9=0x2*0x67e+0x819*0x2+-0x1d2d;if(this['_parent']&&this['_parent']['element'])_0x22a351=this['_parent']['element']['calculated'+'Width'],_0x288929=this['_parent']['element']['calculated'+'Height'],_0xbe27ad=this['_parent']['element']['pivot']['x'],_0xce95d9=this['_parent']['element']['pivot']['y'];else{const _0x46978f=_0x6028e9['screen']['resolution'];_0x22a351=_0x46978f['x']/_0x6028e9['screen']['scale'],_0x288929=_0x46978f['y']/_0x6028e9['screen']['scale'];}_0x2d764e['_anchorTra'+'nsform']['setTransla'+'te'](_0x22a351*(_0x2d764e['anchor']['x']-_0xbe27ad),-(_0x288929*(_0xce95d9-_0x2d764e['anchor']['y'])),-0x1b*-0xf3+0x135b*0x1+0x1*-0x2cfc),_0x2d764e['_anchorDir'+'ty']=!(-0x1*-0x49+-0x1*0xacf+0x21b*0x5),_0x2d764e['_calculate'+'LocalAncho'+'rs']();}_0x2d764e['_sizeDirty']&&_0x2d764e['_calculate'+'Size'](!(0x34*0x73+0x1*0xdbd+-0x2518),!(-0xb6+-0x2272+0x1*0x2329));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x343716=this['localPosit'+'ion'],_0x518edf=_0x2d764e['_pivot'];_0x2d764e['_margin']['x']=_0x343716['x']-_0x2d764e['_calculate'+'dWidth']*_0x518edf['x'],_0x2d764e['_margin']['z']=_0x2d764e['_localAnch'+'or']['z']-_0x2d764e['_localAnch'+'or']['x']-_0x2d764e['_calculate'+'dWidth']-_0x2d764e['_margin']['x'],_0x2d764e['_margin']['y']=_0x343716['y']-_0x2d764e['_calculate'+'dHeight']*_0x518edf['y'],_0x2d764e['_margin']['w']=_0x2d764e['_localAnch'+'or']['w']-_0x2d764e['_localAnch'+'or']['y']-_0x2d764e['_calculate'+'dHeight']-_0x2d764e['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x73*0x17+0x2204+-0x7*0x362);}if(!_0x6028e9){this['_dirtyWorl'+'d']&&(_0x2d764e['_cornersDi'+'rty']=!(0x12d0*0x1+0x1ee+-0x162*0xf),_0x2d764e['_canvasCor'+'nersDirty']=!(-0x3d*0x13+0x1219+-0xd92),_0x2d764e['_worldCorn'+'ersDirty']=!(-0x21f0+-0xe8*-0x10+0x1370)),$e['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x2d764e['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x2d764e['_anchorTra'+'nsform']):_0x2d764e['_screenToW'+'orld']['copy'](_0x2d764e['_anchorTra'+'nsform']),_0x2d764e['_modelTran'+'sform']['mul2'](_0x2d764e['_screenToW'+'orld'],this['localTrans'+'form']),_0x6028e9){_0x2d764e['_screenToW'+'orld']['mul2'](_0x6028e9['screen']['_screenMat'+'rix'],_0x2d764e['_screenToW'+'orld']),_0x6028e9['screen']['screenSpac'+'e']||_0x2d764e['_screenToW'+'orld']['mul2'](_0x6028e9['worldTrans'+'form'],_0x2d764e['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x2d764e['_screenToW'+'orld'],this['localTrans'+'form']);const _0x434c24=_0x2d764e['_parentWor'+'ldTransfor'+'m'];_0x434c24['setIdentit'+'y']();const _0x106b7b=this['_parent'];_0x106b7b&&_0x106b7b['element']&&_0x106b7b!==_0x6028e9&&(es['setTRS'](T['ZERO'],_0x106b7b['getLocalRo'+'tation'](),_0x106b7b['getLocalSc'+'ale']()),_0x434c24['mul2'](_0x106b7b['element']['_parentWor'+'ldTransfor'+'m'],es));const _0x24f73d=ni;_0x24f73d['set'](-0x1c8d*0x1+-0x47d+0x210a,0x116+0xf*0x75+-0x1*0x7f1,this['localPosit'+'ion']['z']);const _0x2f99e1=kR;_0x2f99e1['set'](_0x2d764e['_absLeft']+_0x2d764e['_pivot']['x']*_0x2d764e['calculated'+'Width'],_0x2d764e['_absBottom']+_0x2d764e['_pivot']['y']*_0x2d764e['calculated'+'Height'],0x31*0x1e+0x1*-0x4bd+-0x1*0x101),es['setTransla'+'te'](-_0x2f99e1['x'],-_0x2f99e1['y'],-_0x2f99e1['z']),Yl['setTRS'](_0x24f73d,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x2f99e1['x'],_0x2f99e1['y'],_0x2f99e1['z']),_0x2d764e['_screenTra'+'nsform']['mul2'](_0x2d764e['_parentWor'+'ldTransfor'+'m'],Kl)['mul'](Yl)['mul'](es),_0x2d764e['_cornersDi'+'rty']=!(-0xc7e+0xa94+-0x46*-0x7),_0x2d764e['_canvasCor'+'nersDirty']=!(-0x12d1+-0x1077*0x1+0x2348),_0x2d764e['_worldCorn'+'ersDirty']=!(0x7*-0x321+-0x21b9+0x6f4*0x8);}else this['worldTrans'+'form']['copy'](_0x2d764e['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0x1555+0x668+-0x1bbc);}}['_onInsert'](_0x5a5ed7){const _0x5c788b=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x5c788b['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x29b6ed=this['entity'];for(;_0x29b6ed;){const _0x413808=_0x29b6ed['parent'];if((_0x413808===null||_0x413808['screen'])&&_0x29b6ed['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),v['trace'](Ss,'register\x20p'+'rerender'));const _0x249888=this['system']['_prerender']['indexOf'](this['entity']);_0x249888>=-0x3*0xb23+-0x9d4+0x2b3d*0x1&&this['system']['_prerender']['splice'](_0x249888,-0xc9d*0x2+-0x1125*0x1+0x2a60),this['system']['_prerender']['indexOf'](_0x29b6ed)<0xc69*0x3+0x58b+0x32*-0xdb&&this['system']['_prerender']['push'](_0x29b6ed),v['trace'](Ss,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x29b6ed['name']);}_0x29b6ed=_0x413808;}}['_onPrerend'+'er'](){for(let _0x454347=-0x89e+-0x1134+0x1*0x19d2;_0x454347<this['system']['_prerender']['length'];_0x454347++){const _0x20b2ed=this['system']['_prerender'][_0x454347];v['trace'](Ss,'prerender\x20'+'from:\x20'+_0x20b2ed['name']),_0x20b2ed['element']&&_0x20b2ed['element']['syncMask'](-0x2677+-0x1d95+-0x1*-0x440d);}this['system']['_prerender']['length']=0x3*0x4a2+-0x10f7+-0x311*-0x1;}['_bindScree'+'n'](_0x3b86d2){_0x3b86d2['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x451f9a){_0x451f9a['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x47cc5c){this['screen']&&this['screen']!==_0x47cc5c&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x549a9a=this['screen'];this['screen']=_0x47cc5c,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x549a9a),this['_anchorDir'+'ty']=!(-0x1a11*0x1+-0xbdf+0x25f0);const _0x51ee0b=this['entity']['children'];for(let _0x2d2b09=0x173e+0x689+0x34f*-0x9,_0x1eac1c=_0x51ee0b['length'];_0x2d2b09<_0x1eac1c;_0x2d2b09++)_0x51ee0b[_0x2d2b09]['element']&&_0x51ee0b[_0x2d2b09]['element']['_updateScr'+'een'](_0x47cc5c);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x339c81){const _0x2d935d=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x2d935d['mask'],_0x339c81);}['_setMasked'+'By'](_0x5219fc){const _0x2dffe1=this['_image']||this['_text'];if(_0x5219fc){const _0x296f58=_0x5219fc['element']['_image']['_maskRef'];v['trace'](Ss,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x296f58),_0x2dffe1==null||_0x2dffe1['_setStenci'+'l'](new qs({'ref':_0x296f58,'func':Ch})),this['_maskedBy']=_0x5219fc;}else v['trace'](Ss,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x2dffe1==null||_0x2dffe1['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x3efeca,_0x29e65e){var _0xce5a7e,_0x48f313;if(_0x3efeca){if(this['_setMasked'+'By'](_0x3efeca),this['mask']){const _0x262fe8=_0x3efeca['element']['_image']['_maskRef'],_0x112f98=new qs({'ref':_0x262fe8,'func':Ch,'zpass':HS});this['_image']['_setStenci'+'l'](_0x112f98),this['_image']['_maskRef']=_0x29e65e,_0x29e65e++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x112f98['ref']+(-0x16b1*-0x1+0x1*-0x2666+0x1*0xfb6))),v['trace'](Ss,'depth++\x20to'+':\x20',_0x29e65e),_0x3efeca=this['entity'];}const _0x3ea2fc=this['entity']['children'];for(let _0x7f71b1=0x15c*-0x3+0xf2a+0x6*-0x1d9,_0x3c9dfd=_0x3ea2fc['length'];_0x7f71b1<_0x3c9dfd;_0x7f71b1++)(_0xce5a7e=_0x3ea2fc[_0x7f71b1]['element'])==null||_0xce5a7e['_updateMas'+'k'](_0x3efeca,_0x29e65e);this['mask']&&_0x29e65e--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x384c01=new qs({'ref':_0x29e65e,'func':Ai,'zpass':GS});this['_image']['_setStenci'+'l'](_0x384c01),this['_image']['_maskRef']=_0x29e65e,_0x29e65e++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x384c01['ref']),v['trace'](Ss,'depth++\x20to'+':\x20',_0x29e65e),_0x3efeca=this['entity'];}const _0x8cb963=this['entity']['children'];for(let _0x2b9f3d=0x25*0xfb+0xac1+0x35c*-0xe,_0x52c6d2=_0x8cb963['length'];_0x2b9f3d<_0x52c6d2;_0x2b9f3d++)(_0x48f313=_0x8cb963[_0x2b9f3d]['element'])==null||_0x48f313['_updateMas'+'k'](_0x3efeca,_0x29e65e);this['mask']&&_0x29e65e--;}}['_parseUpTo'+'Screen'](){const _0x31d27a={'screen':null,'mask':null};let _0x46edbc=this['entity']['_parent'];for(;_0x46edbc&&!_0x46edbc['screen'];)_0x46edbc['element']&&_0x46edbc['element']['mask']&&(_0x31d27a['mask']||(_0x31d27a['mask']=_0x46edbc)),_0x46edbc=_0x46edbc['parent'];return _0x46edbc&&_0x46edbc['screen']&&(_0x31d27a['screen']=_0x46edbc),_0x31d27a;}['_onScreenR'+'esize'](_0x30e224){this['_anchorDir'+'ty']=!(-0x154+-0x2522+0x2676),this['_cornersDi'+'rty']=!(0x1*0x2197+0x63*-0x21+0x535*-0x4),this['_worldCorn'+'ersDirty']=!(0x2f5+0x1def*-0x1+0x1afa),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x30e224);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x164ad0=0x4*0x9a7+-0x1a88+-0x82c,_0xcf5b4b=-0x9ac+-0x1*0x6b7+0x5*0x40f;const _0x1b40b8=this['entity']['_parent'];if(_0x1b40b8&&_0x1b40b8['element'])_0x164ad0=_0x1b40b8['element']['calculated'+'Width'],_0xcf5b4b=_0x1b40b8['element']['calculated'+'Height'];else{if(this['screen']){const _0x5c6bce=this['screen']['screen']['resolution'],_0x199f22=this['screen']['screen']['scale'];_0x164ad0=_0x5c6bce['x']/_0x199f22,_0xcf5b4b=_0x5c6bce['y']/_0x199f22;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x164ad0,this['_anchor']['y']*_0xcf5b4b,this['_anchor']['z']*_0x164ad0,this['_anchor']['w']*_0xcf5b4b);}['getOffsetP'+'osition'](_0x54552c,_0x3fcdd8){const _0x45d5ad=this['entity']['getLocalPo'+'sition']()['clone']();return _0x45d5ad['x']+=_0x54552c,_0x45d5ad['y']+=_0x3fcdd8,this['_screenToW'+'orld']['transformP'+'oint'](_0x45d5ad,_0x45d5ad),_0x45d5ad;}['onLayersCh'+'anged'](_0x21b1d4,_0x3d337a){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x21b1d4['off']('add',this['onLayerAdd'+'ed'],this),_0x21b1d4['off']('remove',this['onLayerRem'+'oved'],this),_0x3d337a['on']('add',this['onLayerAdd'+'ed'],this),_0x3d337a['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x422f09){this['layers']['indexOf'](_0x422f09['id'])<-0x16*-0x18e+0x268+-0x61a*0x6||(this['_image']?_0x422f09['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x422f09['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x995362){this['layers']['indexOf'](_0x995362['id'])<-0x1126+0x9*0x126+-0x368*-0x2||(this['_image']?_0x995362['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x995362['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x499b41;const _0x5c2781=this['system']['app']['scene'],_0x5818c2=_0x5c2781['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x5c2781['on']('set:layers',this['onLayersCh'+'anged'],this),_0x5818c2&&(this['_evtLayerA'+'dded']=_0x5818c2['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x5818c2['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x2181+-0x2345+0x1c4&&((_0x499b41=this['system']['app']['batcher'])==null||_0x499b41['insert'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x3a3c8d,_0x32b6fe,_0x3150ab,_0x243809;const _0x275abd=this['system']['app']['scene']['layers'];(_0x3a3c8d=this['_evtLayers'+'Changed'])==null||_0x3a3c8d['off'](),this['_evtLayers'+'Changed']=null,_0x275abd&&((_0x32b6fe=this['_evtLayerA'+'dded'])==null||_0x32b6fe['off'](),this['_evtLayerA'+'dded']=null,(_0x3150ab=this['_evtLayerR'+'emoved'])==null||_0x3150ab['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0x2630+-0x693+0x1*-0x1f9d&&((_0x243809=this['system']['app']['batcher'])==null||_0x243809['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x2c0d29,_0x3d74cf){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x227451=this['_absRight']-this['_absLeft'],_0x57c976=this['_absTop']-this['_absBottom'];_0x2c0d29?this['_setWidth'](_0x227451):this['_setCalcul'+'atedWidth'](_0x227451,!(0x1e67+-0x1*-0xf99+-0x2dff)),_0x3d74cf?this['_setHeight'](_0x57c976):this['_setCalcul'+'atedHeight'](_0x57c976,!(0xb*0x37f+-0x4a8*-0x2+-0x2fc4));const _0x551d18=this['entity']['getLocalPo'+'sition']();_0x551d18['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x551d18['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x551d18),this['_sizeDirty']=!(-0x17ff*0x1+0x3*0x28d+0x1059);}['_setWidth'](_0x3d5fa6){this['_width']=_0x3d5fa6,this['_setCalcul'+'atedWidth'](_0x3d5fa6,!(-0x22ae+0x1a79+0x2*0x41b)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x5f1865){this['_height']=_0x5f1865,this['_setCalcul'+'atedHeight'](_0x5f1865,!(-0x6ef+-0xe9d+0x158d)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x1e88fa,_0x1b99fb){if(!(Math['abs'](_0x1e88fa-this['_calculate'+'dWidth'])<=-0x7f*0x4+0x2310+-0x2114*0x1+0.0001)){if(this['_calculate'+'dWidth']=_0x1e88fa,this['entity']['_dirtifyLo'+'cal'](),_0x1b99fb){const _0x1d51c8=this['entity']['getLocalPo'+'sition'](),_0x23ecdd=this['_pivot'];this['_margin']['x']=_0x1d51c8['x']-this['_calculate'+'dWidth']*_0x23ecdd['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x5197d7,_0xf2c8bc){if(!(Math['abs'](_0x5197d7-this['_calculate'+'dHeight'])<=0x303*-0x3+-0x8c3+0x22*0x86+0.0001)){if(this['_calculate'+'dHeight']=_0x5197d7,this['entity']['_dirtifyLo'+'cal'](),_0xf2c8bc){const _0x84dbcd=this['entity']['getLocalPo'+'sition'](),_0x1342d0=this['_pivot'];this['_margin']['y']=_0x84dbcd['y']-this['_calculate'+'dHeight']*_0x1342d0['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x266979=this['entity']['_children'];for(let _0x2bd714=0x8*0x195+-0x1*0x10ff+0x1*0x457,_0x53f5e0=_0x266979['length'];_0x2bd714<_0x53f5e0;_0x2bd714++)_0x266979[_0x2bd714]['element']&&(_0x266979[_0x2bd714]['element']['_anchorDir'+'ty']=!(-0x241c+-0x3b9*0x1+0x27d5),_0x266979[_0x2bd714]['element']['_sizeDirty']=!(-0x3a9*-0x8+0x642+0x2*-0x11c5));}['addModelTo'+'Layers'](_0x1c8c2a){this['_addedMode'+'ls']['push'](_0x1c8c2a);for(let _0x48690a=0x1cb7*-0x1+0x2*-0xb39+0x3329;_0x48690a<this['layers']['length'];_0x48690a++){const _0x274cb3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x48690a]);_0x274cb3&&_0x274cb3['addMeshIns'+'tances'](_0x1c8c2a['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x391467){const _0x1fdf1f=this['_addedMode'+'ls']['indexOf'](_0x391467);_0x1fdf1f>=0x11*-0x1af+-0x2288+0x3f27&&this['_addedMode'+'ls']['splice'](_0x1fdf1f,0x274+0x1d2a*-0x1+-0x3d1*-0x7);for(let _0x322312=-0x22e0+-0x1*0xe6d+-0x70b*-0x7;_0x322312<this['layers']['length'];_0x322312++){const _0xbd5208=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x322312]);_0xbd5208&&_0xbd5208['removeMesh'+'Instances'](_0x391467['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x1d0ec1=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x1d0ec1&&(this['_maskOffse'+'t']=-0xb*0x205+-0x3c4+0x2e3*0x9+0.5,this['_offsetRea'+'dAt']=_0x1d0ec1);const _0x1c6309=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x1484+-0xaa9+0x1f2d+0.001,_0x1c6309;}['isVisibleF'+'orCamera'](_0x23266f){let _0x3a78b7,_0x5c1149,_0x45b0d6,_0x2eb9e8;if(this['maskedBy']){const _0x3e5944=this['maskedBy']['element']['screenCorn'+'ers'];_0x3a78b7=Math['min'](Math['min'](_0x3e5944[-0x2*-0x7c3+-0x14d4+0x2a7*0x2]['x'],_0x3e5944[0x1206+0x1*0xb47+-0x271*0xc]['x']),Math['min'](_0x3e5944[-0x1822*0x1+0x12cf+0x555]['x'],_0x3e5944[0x1ffb+0x14be+-0x1192*0x3]['x'])),_0x5c1149=Math['max'](Math['max'](_0x3e5944[0x1fbf+0xe12+0x2dd1*-0x1]['x'],_0x3e5944[0xbc4+-0x1*0x2ae+0x915*-0x1]['x']),Math['max'](_0x3e5944[0x10b0+-0xd09+-0x3a5]['x'],_0x3e5944[-0x41*-0xd+0x1*-0x18d9+0x158f*0x1]['x'])),_0x2eb9e8=Math['min'](Math['min'](_0x3e5944[-0x39*-0x59+0x9a6*-0x1+0xa2b*-0x1]['y'],_0x3e5944[0x9aa*-0x1+0x1ba1+-0x79*0x26]['y']),Math['min'](_0x3e5944[-0x45d*-0x6+-0x3*0x51+-0x1939]['y'],_0x3e5944[0x94f*-0x1+0x1a82+-0xb*0x190]['y'])),_0x45b0d6=Math['max'](Math['max'](_0x3e5944[0x2133+-0xdf4+-0x1*0x133f]['y'],_0x3e5944[-0x4c2*0x3+0x1f51+-0x110a]['y']),Math['max'](_0x3e5944[-0xfc+0x1*-0x18f3+0x19f1]['y'],_0x3e5944[0x16e5+0xd3*0x2+-0x1888]['y']));}else{const _0x46ff28=this['system']['app']['graphicsDe'+'vice']['width'],_0x2afb47=this['system']['app']['graphicsDe'+'vice']['height'],_0x1d1ca5=_0x23266f['_rect']['z']*_0x46ff28,_0x34d6a2=_0x23266f['_rect']['w']*_0x2afb47;_0x3a78b7=_0x23266f['_rect']['x']*_0x46ff28,_0x5c1149=_0x3a78b7+_0x1d1ca5,_0x45b0d6=(0xff1+0x1*0x701+-0x16f1-_0x23266f['_rect']['y'])*_0x2afb47,_0x2eb9e8=_0x45b0d6-_0x34d6a2;}const _0x31ef05=this['screenCorn'+'ers'],_0x2b3a5d=Math['min'](Math['min'](_0x31ef05[0x1eb8+-0x19ff+-0x4b9]['x'],_0x31ef05[-0x25bd*-0x1+0x313*0x7+-0x3b41]['x']),Math['min'](_0x31ef05[0x1a41+0x171*0x11+-0x32c0]['x'],_0x31ef05[0x1978+0x94d+-0x22c2]['x'])),_0x114e56=Math['max'](Math['max'](_0x31ef05[-0x1e96+-0xf4d*0x1+0x2de3]['x'],_0x31ef05[0x11ce+-0x1530+-0x33*-0x11]['x']),Math['max'](_0x31ef05[-0x8a7*-0x3+0x1d87+-0x1*0x377a]['x'],_0x31ef05[0x1959+-0x26a6+0xd50]['x'])),_0x37552b=Math['min'](Math['min'](_0x31ef05[-0x4*-0x206+-0xe7*0xf+-0xc7*-0x7]['y'],_0x31ef05[0x5*-0x7+-0x25ca+-0x796*-0x5]['y']),Math['min'](_0x31ef05[0x11*-0x53+0x269*0xb+-0x14fe]['y'],_0x31ef05[0x8bf*-0x2+-0x22da+0x1*0x345b]['y'])),_0x1314e9=Math['max'](Math['max'](_0x31ef05[0x3a*-0x29+-0x91*-0x2b+-0xf11]['y'],_0x31ef05[-0x1134+0x9f5+0x740]['y']),Math['max'](_0x31ef05[0x31f*-0x6+-0x1*-0x1e9c+-0xbe0]['y'],_0x31ef05[0x253e+-0x486+0x3*-0xae7]['y']));return!(_0x114e56<_0x3a78b7||_0x2b3a5d>_0x5c1149||_0x37552b>_0x45b0d6||_0x1314e9<_0x2eb9e8);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0x59a+0x482+0x119);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(0x9*0xfe+0x2f2+-0x3f5*0x3);}['_dirtyBatc'+'h'](){var _0x3b316c;this['batchGroup'+'Id']!==-(0x1*0x13e1+0xdc1+0x1*-0x21a1)&&((_0x3b316c=this['system']['app']['batcher'])==null||_0x3b316c['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Gt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Gt,'EVENT_MOUS'+'EUP','mouseup'),c(Gt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Gt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Gt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Gt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Gt,'EVENT_CLIC'+'K','click'),c(Gt,'EVENT_TOUC'+'HSTART','touchstart'),c(Gt,'EVENT_TOUC'+'HEND','touchend'),c(Gt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Gt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class BR{constructor(){this['enabled']=!(-0x482+0x2*-0xc65+0x177*0x14);}}const NR=['enabled'];class zR extends Xe{constructor(_0x256b0b){super(_0x256b0b),this['id']='element',this['ComponentT'+'ype']=Gt,this['DataType']=BR,this['schema']=NR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new he(_0x256b0b['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':rs,'name':'element-sy'+'stem'});const _0x437e2b=this['_defaultTe'+'xture']['lock'](),_0x17a0fd=new Uint8Array(-0x2453+-0xf15+0x2*0x19b6);_0x17a0fd[-0x15e1+0x1*0x722+0xebf]=-0x1b74+0x987+0x12ec,_0x17a0fd[-0xd91*0x1+-0x2465+0x31f7]=0x16*0xd4+0xf2*-0x11+-0x3b*0x5,_0x17a0fd[0x1*-0x7e2+0x18e6+-0x1102]=-0xc7*0xc+-0x24f9+0x2f4c,_0x17a0fd[0xedf+-0xe27*0x2+0xd72]=-0x5*0x7cf+0x19cf+0xe3b,_0x437e2b['set'](_0x17a0fd),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0xea8fa3,_0x5ce479,_0x4e4579){_0xea8fa3['_beingInit'+'ialized']=!(0x5d5+0x4db+0x98*-0x12),_0x5ce479['anchor']!==void(0x2b*-0xa9+0x64d*-0x1+-0x1158*-0x2)&&(_0x5ce479['anchor']instanceof Q?_0xea8fa3['anchor']['copy'](_0x5ce479['anchor']):_0xea8fa3['anchor']['set'](_0x5ce479['anchor'][0x2135*-0x1+-0x1bd4+0x3d09],_0x5ce479['anchor'][0x1*-0x19b8+-0x752+0x210b],_0x5ce479['anchor'][-0x1691*0x1+0xf*0x1e4+-0x5c9*0x1],_0x5ce479['anchor'][0x2*-0x1ab+0x9bf*-0x2+-0x3*-0x79d])),_0x5ce479['pivot']!==void(0x5b0+0x2c1*0xd+-0x2b*0xf7)&&(_0x5ce479['pivot']instanceof $?_0xea8fa3['pivot']['copy'](_0x5ce479['pivot']):_0xea8fa3['pivot']['set'](_0x5ce479['pivot'][0x2*-0xe2c+-0x249a+0x40f2],_0x5ce479['pivot'][0x1b1e+0x3*0xa2d+-0x39a4]));const _0x1ec14c=Math['abs'](_0xea8fa3['anchor']['x']-_0xea8fa3['anchor']['z'])>0x2549+0x12a8+-0x37f1+0.001,_0xe01934=Math['abs'](_0xea8fa3['anchor']['y']-_0xea8fa3['anchor']['w'])>-0x1f83+0xca7*-0x2+0xb5d*0x5+0.001;let _0x311ef6=!(-0x1b5e+-0x25f5*-0x1+0x2*-0x54b),_0x49673a;_0x5ce479['margin']!==void(0x14*0x4e+-0x745*0x1+-0x12d*-0x1)&&(_0x5ce479['margin']instanceof Q?_0xea8fa3['margin']['copy'](_0x5ce479['margin']):_0xea8fa3['_margin']['set'](_0x5ce479['margin'][0x882+-0x46*-0x80+-0x2b82],_0x5ce479['margin'][-0x4e9+0x1852+0x2*-0x9b4],_0x5ce479['margin'][-0x1eb6+0xa3*-0x21+-0x11*-0x30b],_0x5ce479['margin'][0x1*0x1ab3+-0x24c6+0x1*0xa16]),_0x311ef6=!(-0x136a+-0x266a+0x39d4)),_0x5ce479['left']!==void(-0x1*-0x2349+0x1*0x15cb+-0x3914)&&(_0xea8fa3['_margin']['x']=_0x5ce479['left'],_0x311ef6=!(-0x1ac0+0xa7e+0x2*0x821)),_0x5ce479['bottom']!==void(0x1*-0x133f+0x90d+0x1*0xa32)&&(_0xea8fa3['_margin']['y']=_0x5ce479['bottom'],_0x311ef6=!(-0x3*-0xb20+-0x1179+-0xfe7)),_0x5ce479['right']!==void(0x10e9+0x2c7*-0x1+-0xe22)&&(_0xea8fa3['_margin']['z']=_0x5ce479['right'],_0x311ef6=!(-0xf66+-0xe23+0x1*0x1d89)),_0x5ce479['top']!==void(-0xc3*-0x19+0x541*0x1+-0x137*0x14)&&(_0xea8fa3['_margin']['w']=_0x5ce479['top'],_0x311ef6=!(-0x2615+0x31*-0x25+-0x7b*-0x5e)),_0x311ef6&&(_0xea8fa3['margin']=_0xea8fa3['_margin']);let _0x37ad8c=!(-0x1*-0x141b+0x5b*-0x34+-0x19e);_0x5ce479['width']!==void(-0x4*-0xe5+0x394+-0x728)&&!_0x1ec14c?_0xea8fa3['width']=_0x5ce479['width']:_0x1ec14c&&(_0x37ad8c=!(0x1c38+-0x1ccf*-0x1+0x3907*-0x1)),_0x5ce479['height']!==void(0x6aa+0xd7*0x8+-0xd62)&&!_0xe01934?_0xea8fa3['height']=_0x5ce479['height']:_0xe01934&&(_0x37ad8c=!(-0x301+0x25fd+0x1*-0x22fc)),_0x37ad8c&&(_0xea8fa3['anchor']=_0xea8fa3['anchor']),_0x5ce479['enabled']!==void(-0x1539+0x1828+-0x2ef)&&(_0xea8fa3['enabled']=_0x5ce479['enabled']),_0x5ce479['useInput']!==void(-0x1be9+0x7*0x235+0xc76)&&(_0xea8fa3['useInput']=_0x5ce479['useInput']),_0x5ce479['fitMode']!==void(0x2353+0x1bb*-0xc+0xe8f*-0x1)&&(_0xea8fa3['fitMode']=_0x5ce479['fitMode']),_0xea8fa3['batchGroup'+'Id']=_0x5ce479['batchGroup'+'Id']===void(0x1fa0+0x6da*-0x1+-0x18c6*0x1)||_0x5ce479['batchGroup'+'Id']===null?-(0xe90+0x23e2*-0x1+0x1553*0x1):_0x5ce479['batchGroup'+'Id'],_0x5ce479['layers']&&Array['isArray'](_0x5ce479['layers'])&&(_0xea8fa3['layers']=_0x5ce479['layers']['slice'](-0x312+0x893+-0x581)),_0x5ce479['type']!==void(-0x1d5a+-0x197*-0x14+-0x272)&&(_0xea8fa3['type']=_0x5ce479['type']),_0xea8fa3['type']===rf?(_0x5ce479['rect']!==void(0x1fe+-0x467*-0x3+-0x511*0x3)&&(_0xea8fa3['rect']=_0x5ce479['rect']),_0x5ce479['color']!==void(0x8*-0x39d+0xe+0x2*0xe6d)&&(_0x49673a=_0x5ce479['color'],_0x49673a instanceof Y||(_0x49673a=new Y(_0x5ce479['color'][0x6f3+-0x11*0x1ed+0x19ca],_0x5ce479['color'][0x1f8f+-0x26f7+-0x1*-0x769],_0x5ce479['color'][-0x1626+0x364+0x12c4])),_0xea8fa3['color']=_0x49673a),_0x5ce479['opacity']!==void(-0x95*0x1a+0x26f6+-0x17d4)&&(_0xea8fa3['opacity']=_0x5ce479['opacity']),_0x5ce479['textureAss'+'et']!==void(-0x3*0xc05+-0x1e63*0x1+-0x15*-0x32a)&&(_0xea8fa3['textureAss'+'et']=_0x5ce479['textureAss'+'et']),_0x5ce479['texture']&&(_0xea8fa3['texture']=_0x5ce479['texture']),_0x5ce479['spriteAsse'+'t']!==void(0x1290+-0x16*-0xf1+-0x13a3*0x2)&&(_0xea8fa3['spriteAsse'+'t']=_0x5ce479['spriteAsse'+'t']),_0x5ce479['sprite']&&(_0xea8fa3['sprite']=_0x5ce479['sprite']),_0x5ce479['spriteFram'+'e']!==void(0x187c+-0xb*-0x1c6+-0x2bfe)&&(_0xea8fa3['spriteFram'+'e']=_0x5ce479['spriteFram'+'e']),_0x5ce479['pixelsPerU'+'nit']!==void(0x1e3b*-0x1+0x961+-0x11*-0x13a)&&_0x5ce479['pixelsPerU'+'nit']!==null&&(_0xea8fa3['pixelsPerU'+'nit']=_0x5ce479['pixelsPerU'+'nit']),_0x5ce479['materialAs'+'set']!==void(-0x1*-0x1ec9+0x2021+0x3eea*-0x1)&&(_0xea8fa3['materialAs'+'set']=_0x5ce479['materialAs'+'set']),_0x5ce479['material']&&(_0xea8fa3['material']=_0x5ce479['material']),_0x5ce479['mask']!==void(-0xaf8+-0x8*-0x2b1+-0xa90)&&(_0xea8fa3['mask']=_0x5ce479['mask'])):_0xea8fa3['type']===ex&&(_0x5ce479['autoWidth']!==void(-0x79f+0x3d*0x31+-0x40e)&&(_0xea8fa3['autoWidth']=_0x5ce479['autoWidth']),_0x5ce479['autoHeight']!==void(0x146+0x375+-0x4bb)&&(_0xea8fa3['autoHeight']=_0x5ce479['autoHeight']),_0x5ce479['rtlReorder']!==void(0x127e+-0x15f4+0x376)&&(_0xea8fa3['rtlReorder']=_0x5ce479['rtlReorder']),_0x5ce479['unicodeCon'+'verter']!==void(0x1d1c+-0x1*0x183f+-0x4dd)&&(_0xea8fa3['unicodeCon'+'verter']=_0x5ce479['unicodeCon'+'verter']),_0x5ce479['text']!==null&&_0x5ce479['text']!==void(-0xcfc+0xd25*0x1+0x1*-0x29)?_0xea8fa3['text']=_0x5ce479['text']:_0x5ce479['key']!==null&&_0x5ce479['key']!==void(-0x2e*-0x47+0x1*-0x28f+-0x175*0x7)&&(_0xea8fa3['key']=_0x5ce479['key']),_0x5ce479['color']!==void(0x11b*0x8+0x24c0*-0x1+-0x1be8*-0x1)&&(_0x49673a=_0x5ce479['color'],_0x49673a instanceof Y||(_0x49673a=new Y(_0x49673a[0x97*0x2b+-0x230e+0x33b*0x3],_0x49673a[0x1*0xcc1+0x395*-0x1+-0x92b],_0x49673a[-0x10b3+0x7*-0x1e1+-0x1a*-0x126])),_0xea8fa3['color']=_0x49673a),_0x5ce479['opacity']!==void(-0x2*-0x184+0x487+0x5*-0x183)&&(_0xea8fa3['opacity']=_0x5ce479['opacity']),_0x5ce479['spacing']!==void(-0x9*0x1bb+-0x16d3+0x2666)&&(_0xea8fa3['spacing']=_0x5ce479['spacing']),_0x5ce479['fontSize']!==void(-0x19c8+-0x1*0x1c01+0x35c9)&&(_0xea8fa3['fontSize']=_0x5ce479['fontSize'],_0x5ce479['lineHeight']||(_0xea8fa3['lineHeight']=_0x5ce479['fontSize'])),_0x5ce479['lineHeight']!==void(-0x20a+-0x1*-0x9a9+-0x79f)&&(_0xea8fa3['lineHeight']=_0x5ce479['lineHeight']),_0x5ce479['maxLines']!==void(0x137*0x19+-0x517*-0x4+-0x75*0x6f)&&(_0xea8fa3['maxLines']=_0x5ce479['maxLines']),_0x5ce479['wrapLines']!==void(0x1ae2+-0x263c+0xb5a)&&(_0xea8fa3['wrapLines']=_0x5ce479['wrapLines']),_0x5ce479['minFontSiz'+'e']!==void(0xbd7*-0x3+-0x258a+-0x490f*-0x1)&&(_0xea8fa3['minFontSiz'+'e']=_0x5ce479['minFontSiz'+'e']),_0x5ce479['maxFontSiz'+'e']!==void(0x351+0x13*-0x7b+0x7c*0xc)&&(_0xea8fa3['maxFontSiz'+'e']=_0x5ce479['maxFontSiz'+'e']),_0x5ce479['autoFitWid'+'th']&&(_0xea8fa3['autoFitWid'+'th']=_0x5ce479['autoFitWid'+'th']),_0x5ce479['autoFitHei'+'ght']&&(_0xea8fa3['autoFitHei'+'ght']=_0x5ce479['autoFitHei'+'ght']),_0x5ce479['fontAsset']!==void(-0x20b1+0x213*0x1+-0x1e9e*-0x1)&&(_0xea8fa3['fontAsset']=_0x5ce479['fontAsset']),_0x5ce479['font']!==void(0x72d*-0x5+0x3d3*0x8+0x549)&&(_0xea8fa3['font']=_0x5ce479['font']),_0x5ce479['alignment']!==void(-0xd79*-0x1+-0x1*0x1d9+-0xba0)&&(_0xea8fa3['alignment']=_0x5ce479['alignment']),_0x5ce479['outlineCol'+'or']!==void(-0x5*-0x57d+0x108e+0x1*-0x2bff)&&(_0xea8fa3['outlineCol'+'or']=_0x5ce479['outlineCol'+'or']),_0x5ce479['outlineThi'+'ckness']!==void(-0xa*0x91+0x2fa*-0x1+0xe*0x9e)&&(_0xea8fa3['outlineThi'+'ckness']=_0x5ce479['outlineThi'+'ckness']),_0x5ce479['shadowColo'+'r']!==void(-0x1*-0x37+0x45*0x14+-0x59b)&&(_0xea8fa3['shadowColo'+'r']=_0x5ce479['shadowColo'+'r']),_0x5ce479['shadowOffs'+'et']!==void(-0x26d9+0x2*-0x33f+0x49*0x9f)&&(_0xea8fa3['shadowOffs'+'et']=_0x5ce479['shadowOffs'+'et']),_0x5ce479['enableMark'+'up']!==void(0x36e*-0xa+0x19c2+-0x445*-0x2)&&(_0xea8fa3['enableMark'+'up']=_0x5ce479['enableMark'+'up']));const _0x17b878=_0xea8fa3['_parseUpTo'+'Screen']();_0x17b878['screen']&&_0xea8fa3['_updateScr'+'een'](_0x17b878['screen']),super['initialize'+'ComponentD'+'ata'](_0xea8fa3,_0x5ce479,_0x4e4579),_0xea8fa3['_beingInit'+'ialized']=!(-0x8*-0xc5+0x89+-0x6b0),_0xea8fa3['type']===rf&&_0xea8fa3['_image']['_meshDirty']&&_0xea8fa3['_image']['_updateMes'+'h'](_0xea8fa3['_image']['mesh']);}['onAddCompo'+'nent'](_0x1f18e2,_0x8faaac){_0x1f18e2['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x380a7d,_0xfba75f){_0xfba75f['onRemove']();}['cloneCompo'+'nent'](_0x4b22e9,_0x2b1d58){const _0xf61128=_0x4b22e9['element'],_0xbc831={'enabled':_0xf61128['enabled'],'width':_0xf61128['width'],'height':_0xf61128['height'],'anchor':_0xf61128['anchor']['clone'](),'pivot':_0xf61128['pivot']['clone'](),'margin':_0xf61128['margin']['clone'](),'alignment':_0xf61128['alignment']&&_0xf61128['alignment']['clone']()||_0xf61128['alignment'],'autoWidth':_0xf61128['autoWidth'],'autoHeight':_0xf61128['autoHeight'],'type':_0xf61128['type'],'rect':_0xf61128['rect']&&_0xf61128['rect']['clone']()||_0xf61128['rect'],'rtlReorder':_0xf61128['rtlReorder'],'unicodeConverter':_0xf61128['unicodeCon'+'verter'],'materialAsset':_0xf61128['materialAs'+'set'],'material':_0xf61128['material'],'color':_0xf61128['color']&&_0xf61128['color']['clone']()||_0xf61128['color'],'opacity':_0xf61128['opacity'],'textureAsset':_0xf61128['textureAss'+'et'],'texture':_0xf61128['texture'],'spriteAsset':_0xf61128['spriteAsse'+'t'],'sprite':_0xf61128['sprite'],'spriteFrame':_0xf61128['spriteFram'+'e'],'pixelsPerUnit':_0xf61128['pixelsPerU'+'nit'],'spacing':_0xf61128['spacing'],'lineHeight':_0xf61128['lineHeight'],'wrapLines':_0xf61128['wrapLines'],'layers':_0xf61128['layers'],'fontSize':_0xf61128['fontSize'],'minFontSize':_0xf61128['minFontSiz'+'e'],'maxFontSize':_0xf61128['maxFontSiz'+'e'],'autoFitWidth':_0xf61128['autoFitWid'+'th'],'autoFitHeight':_0xf61128['autoFitHei'+'ght'],'maxLines':_0xf61128['maxLines'],'fontAsset':_0xf61128['fontAsset'],'font':_0xf61128['font'],'useInput':_0xf61128['useInput'],'fitMode':_0xf61128['fitMode'],'batchGroupId':_0xf61128['batchGroup'+'Id'],'mask':_0xf61128['mask'],'outlineColor':_0xf61128['outlineCol'+'or']&&_0xf61128['outlineCol'+'or']['clone']()||_0xf61128['outlineCol'+'or'],'outlineThickness':_0xf61128['outlineThi'+'ckness'],'shadowColor':_0xf61128['shadowColo'+'r']&&_0xf61128['shadowColo'+'r']['clone']()||_0xf61128['shadowColo'+'r'],'shadowOffset':_0xf61128['shadowOffs'+'et']&&_0xf61128['shadowOffs'+'et']['clone']()||_0xf61128['shadowOffs'+'et'],'enableMarkup':_0xf61128['enableMark'+'up']};return _0xf61128['key']!==void(0x876*-0x3+0x129*0x1b+-0x5f1)&&_0xf61128['key']!==null?_0xbc831['key']=_0xf61128['key']:_0xbc831['text']=_0xf61128['text'],this['addCompone'+'nt'](_0x2b1d58,_0xbc831);}['getTextEle'+'mentMateri'+'al'](_0xcd3b34,_0x322bca,_0x364d3b){const _0x3ebcb1=(_0xcd3b34&&-0x12b9*0x2+-0x8*0xab+0x2acb)|(_0x322bca&&0x14f*0x1+0xb9*-0xe+-0x1*-0x8d1)|(_0x364d3b&&-0x1b52*0x1+-0x6b5*-0x4+0x82);let _0x37d61c=this['_defaultTe'+'xtMaterial'+'s'][_0x3ebcb1];if(_0x37d61c)return _0x37d61c;let _0x70474d='TextMateri'+'al';return _0x37d61c=new cs(),_0x322bca?(_0x37d61c['msdfMap']=this['_defaultTe'+'xture'],_0x37d61c['msdfTextAt'+'tribute']=_0x364d3b,_0x37d61c['emissive']['set'](-0x2180+0x1267+0x1*0xf1a,-0x526*-0x4+0x1925+-0x2dbc,-0x113f*-0x2+-0x1d21*0x1+-0x55c)):(_0x70474d='Bitmap'+_0x70474d,_0x37d61c['emissive']['set'](0x8*-0x23e+0x42*0x27+0x7e3,0x792+-0x1671+0xe0*0x11,-0xf04+-0x3*-0x93+0xd4c),_0x37d61c['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x37d61c['opacityMap']=this['_defaultTe'+'xture'],_0x37d61c['opacityMap'+'Channel']='a'),_0xcd3b34&&(_0x70474d='ScreenSpac'+'e'+_0x70474d,_0x37d61c['depthTest']=!(0x296+-0x28d*-0xd+-0x23be)),_0x37d61c['name']='default'+_0x70474d,_0x37d61c['useLightin'+'g']=!(-0x878+-0x2500+0x67f*0x7),_0x37d61c['useTonemap']=!(-0x2*0x7fa+-0x7*0x243+-0x1fca*-0x1),_0x37d61c['useFog']=!(0x1*0x259b+-0x1388+0x3*-0x606),_0x37d61c['useSkybox']=!(0xa9c+-0xb10+-0x1*-0x75),_0x37d61c['diffuse']['set'](0x425+-0x6*-0x668+-0x2a95,-0x1ff7+-0x365+-0x2*-0x11ae,-0x5*0x296+0x50b*-0x5+-0x15*-0x1d1),_0x37d61c['opacity']=-0x17a4+-0x7*0x34b+0x1*0x2eb1+0.5,_0x37d61c['blendType']=hr,_0x37d61c['depthWrite']=!(-0x3*0x92b+0x1434+0x37*0x22),_0x37d61c['emissiveVe'+'rtexColor']=!(-0x5ea+-0xf71+0x1*0x155b),_0x37d61c['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x3ebcb1]=_0x37d61c,_0x37d61c;}['_createBas'+'eImageMate'+'rial'](){const _0x284acd=new cs();return _0x284acd['diffuse']['set'](0xa65+0xd3f+-0x17a4*0x1,0x129*-0xb+0x1a15+-0xb*0x136,0x7e5*0x1+0xf0b+-0x16f0),_0x284acd['emissive']['set'](-0x1b6b+0x581*0x3+0xae9,-0x115a+-0x138e+-0x24e9*-0x1,0x23b7+-0xf88+0x2e2*-0x7),_0x284acd['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x284acd['opacityMap']=this['_defaultTe'+'xture'],_0x284acd['opacityMap'+'Channel']='a',_0x284acd['useLightin'+'g']=!(-0x88c*0x1+0x29*0x1+0x864),_0x284acd['useTonemap']=!(-0x1c57+0x1d3*0x7+-0x1bb*-0x9),_0x284acd['useFog']=!(-0x12b3*-0x1+0xd04+-0x1fb6),_0x284acd['useSkybox']=!(0x27*-0x8d+0x3ef*-0x7+-0x3105*-0x1),_0x284acd['blendType']=hr,_0x284acd['depthWrite']=!(-0xd85*0x1+-0x114*-0x1d+0x8df*-0x2),_0x284acd;}['getImageEl'+'ementMater'+'ial'](_0x16825d,_0x280fb1,_0x2674f1,_0x548416){return _0x16825d?_0x280fb1?_0x2674f1?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x24b1+-0x1efe*0x1+0x43b0),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x1ea6*0x1+0x2*0xa99+-0x1*0x33d7,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x4*-0x6be+-0x49*0x11+-0x161e*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(-0xaa6+0x3ab+0x6fc),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0x6*0x55b+0x102c+-0x304d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x11ec*-0x1+-0x212f+0x331c),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x548416?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0xb*-0x5e+0x69*0x1+0x3a2),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=0x2382+-0x765*-0x1+0x143*-0x22,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x1191+-0x1*-0x2595+-0x2e7*0x13),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0x68f*-0x3+-0x73d+-0xc6f),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0x240*-0x9+-0x13*0x194+0x9bd),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x66a+0x15*-0xb9+0x8c4),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x2*-0x18f+0xdd*0x1f+-0x1de0),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x1f76+0x1b0*-0xe+-0x7d5*0x1,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(-0xc67*0x1+0x5a7*-0x3+0x1d5d),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(-0x6*0x3ad+0x1977+-0x368),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(-0x1*-0x16b1+-0xcd*-0x25+0x3451*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(-0x65d+0x15b9+-0xf5b),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x2674f1?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x511*-0x6+-0x1fe7*0x1+0x3e4e),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x548416?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0x7d*-0xf+0x4e9*-0x1+-0x269),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(0x9eb+-0x48*-0x45+-0x1d52),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x280fb1?_0x2674f1?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0x2*-0xe5+-0x25c6+0x2791,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0xd6e+-0xe84+-0x1*-0x117),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x4*0x99a+0x4f*0x1f+-0x2ff8),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0x5cb*0x3+0x18*0xe5+-0x416),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x2138+0xf19+-0xa*-0x1d0),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x548416?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0xf87+0x12c4+-0x224a,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0x254f*0x1+0x162b+0x4b*-0xcb),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0x1d7e+0x855*-0x1+-0x975*-0x4),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(0x13+-0x163*-0x9+-0xc8d),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(0x1173+0x227e+-0x33f0),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0x2b8*0x6+0x2*0x973+-0x1*0x2335,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(-0x1bb+0x25ee+-0x2432),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x1c4d+0x129a*0x1+-0x2ee6),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x1f1+0x1fd+-0x3ed),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(-0x8c1+0x1ff6+-0x2d*0x84),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x2674f1?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x548416?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x43867e){this['_unicodeCo'+'nverter']=_0x43867e;}['registerRt'+'lReorder'](_0x311486){this['_rtlReorde'+'r']=_0x311486;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Un='free',Vn='limited',Gn='locked',UR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Up extends ue{constructor(_0x1b9bce,_0x488025){super(_0x1b9bce,_0x488025),v['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x172*-0xb+0x20c7+-0x2dd*0x11),this['_linearMot'+'ionX']=Gn,this['_linearLim'+'itsX']=new $(-0x1f64+0x17c9+0x79b,0x1*-0x254e+-0x4c5+0x2a13),this['_linearSpr'+'ingX']=!(0xdc9+-0xf30+0x168),this['_linearSti'+'ffnessX']=0xc39+0x8b0+-0x1*0x14e9,this['_linearDam'+'pingX']=-0x1*0x17ee+0x4*0x404+0x193*0x5,this['_linearEqu'+'ilibriumX']=-0x1*0x19d6+-0xd9*-0x2b+-0x1*0xa9d,this['_linearMot'+'ionY']=Gn,this['_linearLim'+'itsY']=new $(-0x46a+0x2d1*-0xb+0x2365,0x1*-0x1dc8+0x6f*0x22+-0xaf*-0x16),this['_linearSpr'+'ingY']=!(-0x5c1+0x1*0x1645+-0x1083*0x1),this['_linearSti'+'ffnessY']=-0x1091*0x1+0x6f3+-0x1*-0x99e,this['_linearDam'+'pingY']=0x212e+0xdca+-0x2ef7,this['_linearEqu'+'ilibriumY']=0x49*0x1c+-0x23d6+0x1bda,this['_linearMot'+'ionZ']=Gn,this['_linearLim'+'itsZ']=new $(0x434+0xbde+0x11*-0xf2,0x7bb*-0x1+-0x1098+0x1853),this['_linearSpr'+'ingZ']=!(-0x1e6+0x90*0x40+-0x2219*0x1),this['_linearSti'+'ffnessZ']=0x1*0x1a53+0x10c*-0x18+-0x133,this['_linearDam'+'pingZ']=-0xfc+0x1*-0xa93+0xb90,this['_linearEqu'+'ilibriumZ']=-0x7*-0x571+0x1*0x13f1+0xe82*-0x4,this['_angularMo'+'tionX']=Gn,this['_angularLi'+'mitsX']=new $(-0x42*-0x1f+-0x1423+0xc25,-0x3a6+0x9ea+-0x1*0x644),this['_angularSp'+'ringX']=!(0x2085+0x216b+-0x41ef),this['_angularSt'+'iffnessX']=-0x2569*-0x1+-0x2168*0x1+0x29*-0x19,this['_angularDa'+'mpingX']=-0x184+-0x1*0xe37+-0x6a*-0x26,this['_angularEq'+'uilibriumX']=0xe39+-0xb77*-0x1+-0x19b0,this['_angularMo'+'tionY']=Gn,this['_angularLi'+'mitsY']=new $(0x337+0x3d2+0x709*-0x1,-0xb*-0xb2+-0x2*-0xdb2+-0x230a),this['_angularSp'+'ringY']=!(0x1498+-0x174d+-0x1*-0x2b6),this['_angularSt'+'iffnessY']=0x1369*-0x1+0x24bb+-0x1152,this['_angularDa'+'mpingY']=-0x2d5*-0x2+0x32*-0x7d+-0x1*-0x12c1,this['_angularEq'+'uilibriumY']=0xb*0x2e3+0xc9d*0x1+-0xeca*0x3,this['_angularMo'+'tionZ']=Gn,this['_angularLi'+'mitsZ']=new $(0x1973+0x1*0x967+0x116d*-0x2,-0x25c3*-0x1+-0x2082+-0x10d*0x5),this['_angularSp'+'ringZ']=!(0x21e0+-0x14e0+-0xcff*0x1),this['_angularEq'+'uilibriumZ']=-0x1c3d*-0x1+0x1924+-0x3561,this['_angularDa'+'mpingZ']=0x7*0x4b3+0x15a8+-0x368c,this['_angularSt'+'iffnessZ']=0x127e+-0x2619+-0x15*-0xef,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x24e127){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x24e127,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x4ba7e7){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x4ba7e7,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x5eef8b){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x5eef8b&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x5eef8b),this['_breakForc'+'e']=_0x5eef8b);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x4893c7){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x4893c7,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x1e9863){this['_angularLi'+'mitsX']['equals'](_0x1e9863)||(this['_angularLi'+'mitsX']['copy'](_0x1e9863),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x3902e5){this['_angularMo'+'tionX']!==_0x3902e5&&(this['_angularMo'+'tionX']=_0x3902e5,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x250516){this['_angularLi'+'mitsY']['equals'](_0x250516)||(this['_angularLi'+'mitsY']['copy'](_0x250516),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x48917f){this['_angularMo'+'tionY']!==_0x48917f&&(this['_angularMo'+'tionY']=_0x48917f,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0xf39b77){this['_angularLi'+'mitsZ']['equals'](_0xf39b77)||(this['_angularLi'+'mitsZ']['copy'](_0xf39b77),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x286ff7){this['_angularMo'+'tionZ']!==_0x286ff7&&(this['_angularMo'+'tionZ']=_0x286ff7,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x3114c6){this['_linearLim'+'itsX']['equals'](_0x3114c6)||(this['_linearLim'+'itsX']['copy'](_0x3114c6),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x20ec33){this['_linearMot'+'ionX']!==_0x20ec33&&(this['_linearMot'+'ionX']=_0x20ec33,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x19c7f3){this['_linearLim'+'itsY']['equals'](_0x19c7f3)||(this['_linearLim'+'itsY']['copy'](_0x19c7f3),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0xea0234){this['_linearMot'+'ionY']!==_0xea0234&&(this['_linearMot'+'ionY']=_0xea0234,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x3206b0){this['_linearLim'+'itsZ']['equals'](_0x3206b0)||(this['_linearLim'+'itsZ']['copy'](_0x3206b0),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x447b17){this['_linearMot'+'ionZ']!==_0x447b17&&(this['_linearMot'+'ionZ']=_0x447b17,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x42b96f,_0x483e92){const _0x36469d=_0x42b96f['getTransla'+'tion'](),_0x52c47a=new se();_0x52c47a['setFromMat'+'4'](_0x42b96f);const _0xf837a6=new Ammo['btVector3'](_0x36469d['x'],_0x36469d['y'],_0x36469d['z']),_0x270524=new Ammo['btQuaterni'+'on'](_0x52c47a['x'],_0x52c47a['y'],_0x52c47a['z'],_0x52c47a['w']);_0x483e92['setOrigin'](_0xf837a6),_0x483e92['setRotatio'+'n'](_0x270524),Ammo['destroy'](_0xf837a6),Ammo['destroy'](_0x270524);}['_updateAng'+'ularLimits'](){const _0x116b4c=this['_constrain'+'t'];if(_0x116b4c){let _0x281432,_0x317887,_0x282044,_0x35e143,_0x105ca8,_0x53f8cb;this['_angularMo'+'tionX']===Vn?(_0x281432=this['_angularLi'+'mitsX']['x']*N['DEG_TO_RAD'],_0x35e143=this['_angularLi'+'mitsX']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionX']===Un?(_0x281432=-0x15c7+0x1*0x1bb4+-0x5ec,_0x35e143=0x10ef+-0xed3+-0x21c):_0x281432=_0x35e143=0x1*-0x22d2+0x2578+-0x2a6,this['_angularMo'+'tionY']===Vn?(_0x317887=this['_angularLi'+'mitsY']['x']*N['DEG_TO_RAD'],_0x105ca8=this['_angularLi'+'mitsY']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionY']===Un?(_0x317887=-0x2c*-0x64+0x219f+0x32ce*-0x1,_0x105ca8=-0x2*0xa0c+-0x23ce+0x37e6):_0x317887=_0x105ca8=-0x68*-0x45+-0xbc6*0x1+0x821*-0x2,this['_angularMo'+'tionZ']===Vn?(_0x282044=this['_angularLi'+'mitsZ']['x']*N['DEG_TO_RAD'],_0x53f8cb=this['_angularLi'+'mitsZ']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Un?(_0x282044=0x18a4+0x2694*0x1+-0x3f37,_0x53f8cb=0x276+-0x1f46+0x1cd0):_0x282044=_0x53f8cb=-0x923+-0x23cc+0x1*0x2cef;const _0x57896f=new Ammo['btVector3'](_0x281432,_0x317887,_0x282044);_0x116b4c['setAngular'+'LowerLimit'](_0x57896f),_0x57896f['setValue'](_0x35e143,_0x105ca8,_0x53f8cb),_0x116b4c['setAngular'+'UpperLimit'](_0x57896f),Ammo['destroy'](_0x57896f);}}['_updateLin'+'earLimits'](){const _0x3674f2=this['_constrain'+'t'];if(_0x3674f2){let _0x377351,_0x216945,_0x3f96f1,_0x51d404,_0x4927b8,_0xa92cee;this['_linearMot'+'ionX']===Vn?(_0x377351=this['_linearLim'+'itsX']['x'],_0x51d404=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Un?(_0x377351=-0x3b*0x76+-0x2603+0x4136,_0x51d404=0x496+-0x17fd+0x1367):_0x377351=_0x51d404=-0x41b*-0x5+-0x1747+0x2c0,this['_linearMot'+'ionY']===Vn?(_0x216945=this['_linearLim'+'itsY']['x'],_0x4927b8=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Un?(_0x216945=-0x1b4e+0x1*0x13f3+0x3ae*0x2,_0x4927b8=0x138a+0x13c3+-0x274d):_0x216945=_0x4927b8=0xe54+-0x1*-0x1783+-0xc9d*0x3,this['_linearMot'+'ionZ']===Vn?(_0x3f96f1=this['_linearLim'+'itsZ']['x'],_0xa92cee=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Un?(_0x3f96f1=-0x21f6+0x3b*-0x42+0x312d,_0xa92cee=-0xbf6+0x1*0x2430+-0x183a):_0x3f96f1=_0xa92cee=0x1716+-0x25b+0x3*-0x6e9;const _0xdb90b=new Ammo['btVector3'](_0x377351,_0x216945,_0x3f96f1);_0x3674f2['setLinearL'+'owerLimit'](_0xdb90b),_0xdb90b['setValue'](_0x51d404,_0x4927b8,_0xa92cee),_0x3674f2['setLinearU'+'pperLimit'](_0xdb90b),Ammo['destroy'](_0xdb90b);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x21346c=new q(),_0x3a3dd7=this['_entityA']['rigidbody']['body'];_0x3a3dd7['activate']();const _0x38b162=this['entity']['getWorldTr'+'ansform'](),_0x28838e=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x21346c['mul2'](_0x28838e,_0x38b162);const _0x186bc7=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x21346c,_0x186bc7),this['_entityB']&&this['_entityB']['rigidbody']){const _0x5b246c=this['_entityB']['rigidbody']['body'];_0x5b246c['activate']();const _0x2b6129=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x21346c['mul2'](_0x2b6129,_0x38b162);const _0x2b7e36=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x21346c,_0x2b7e36),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x3a3dd7,_0x5b246c,_0x186bc7,_0x2b7e36,!this['_enableCol'+'lision']),Ammo['destroy'](_0x2b7e36);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x3a3dd7,_0x186bc7,!this['_enableCol'+'lision']);Ammo['destroy'](_0x186bc7);const _0x42e0a9=['X','Y','Z','X','Y','Z'];for(let _0x234aa9=-0x118c+0x21f+0xf6d;_0x234aa9<0x10*-0x177+-0x1df8+0x1*0x356e;_0x234aa9++){const _0x494f53=_0x234aa9<-0x1d5c+0xad9+0x1286?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x234aa9,this[_0x494f53+'Spring'+_0x42e0a9[_0x234aa9]]),this['_constrain'+'t']['setDamping'](_0x234aa9,this[_0x494f53+'Damping'+_0x42e0a9[_0x234aa9]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x234aa9,this[_0x494f53+('Equilibriu'+'m')+_0x42e0a9[_0x234aa9]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x234aa9,this[_0x494f53+'Stiffness'+_0x42e0a9[_0x234aa9]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x476f6c){for(const _0x30a943 of UR)_0x476f6c['hasOwnProp'+'erty'](_0x30a943)&&(_0x476f6c[_0x30a943]instanceof $?this['_'+_0x30a943]['copy'](_0x476f6c[_0x30a943]):this['_'+_0x30a943]=_0x476f6c[_0x30a943]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x586216,_0x4111aa,_0x41d661){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const VR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x325482=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x257315=>{['X','Y','Z']['forEach'](_0x3c0b75=>{const _0x5b4208=_0x325482+_0x257315+_0x3c0b75,_0x1bae0d='_'+_0x5b4208;let _0x107853=_0x325482==='linear'?-0x2*-0x2e+-0x1142+0x2d1*0x6:-0x2*-0xe3b+0x38f*0x9+-0x3c7a*0x1;_0x3c0b75==='Y'&&(_0x107853+=0x1*-0x1f8f+-0x14d6+0x3466*0x1),_0x3c0b75==='Z'&&(_0x107853+=0x1*0xd2b+-0xa*-0x1+-0xd33),Object['defineProp'+'erty'](Up['prototype'],_0x5b4208,{'get':function(){return this[_0x1bae0d];},'set':function(_0x24352b){this[_0x1bae0d]!==_0x24352b&&(this[_0x1bae0d]=_0x24352b,this['_constrain'+'t'][VR[_0x257315]](_0x107853,_0x24352b));}});});});});class GR{constructor(){this['enabled']=!(-0x25e6+-0x1*-0x26f0+-0x2*0x85);}}const uf=['enabled'];class HR extends Xe{constructor(_0x2ce906){super(_0x2ce906),this['id']='joint',this['app']=_0x2ce906,this['ComponentT'+'ype']=Up,this['DataType']=GR,this['schema']=uf;}['initialize'+'ComponentD'+'ata'](_0x5f0b7c,_0x34b7b6,_0x1c25d1){_0x5f0b7c['initFromDa'+'ta'](_0x34b7b6),super['initialize'+'ComponentD'+'ata'](_0x5f0b7c,_0x34b7b6,uf);}}ue['_buildAcce'+'ssors'](Up['prototype'],uf);class nx extends ue{constructor(){super(...arguments),c(this,'_minWidth',0x1*-0x1111+0x4c5+-0x313*-0x4),c(this,'_minHeight',0x59e+0x1*0x1eb5+-0x2453),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',0x85d+-0xf54+0x6f7),c(this,'_fitHeight'+'Proportion',-0x3a3+-0x18d2+-0x1c75*-0x1),c(this,'_excludeFr'+'omLayout',!(0x479*-0x1+0x7c9+-0x34f));}set['minWidth'](_0x1ea4a9){_0x1ea4a9!==this['_minWidth']&&(this['_minWidth']=_0x1ea4a9,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x1b3f1b){_0x1b3f1b!==this['_minHeight']&&(this['_minHeight']=_0x1b3f1b,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x45d901){_0x45d901!==this['_maxWidth']&&(this['_maxWidth']=_0x45d901,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x5a1842){_0x5a1842!==this['_maxHeight']&&(this['_maxHeight']=_0x5a1842,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x3811ed){_0x3811ed!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x3811ed,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x3e5b73){_0x3e5b73!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x3e5b73,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x3b7e9a){_0x3b7e9a!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x3b7e9a,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class $R{constructor(){this['enabled']=!(0xac1*-0x1+-0x362+0x205*0x7);}}const ax=['enabled'];class WR extends Xe{constructor(_0x136bad){super(_0x136bad),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=nx,this['DataType']=$R,this['schema']=ax;}['initialize'+'ComponentD'+'ata'](_0x21f35b,_0xf4193c,_0x32e2ed){_0xf4193c['enabled']!==void(-0x2*0x332+0x17ba+-0x8ab*0x2)&&(_0x21f35b['enabled']=_0xf4193c['enabled']),_0xf4193c['minWidth']!==void(0x1f36+-0x9*0x7f+-0x1abf)&&(_0x21f35b['minWidth']=_0xf4193c['minWidth']),_0xf4193c['minHeight']!==void(-0xd15+-0x7c+0xd91)&&(_0x21f35b['minHeight']=_0xf4193c['minHeight']),_0xf4193c['maxWidth']!==void(0x12d*-0x13+0x1f64*0x1+-0x90d)&&(_0x21f35b['maxWidth']=_0xf4193c['maxWidth']),_0xf4193c['maxHeight']!==void(-0xf38+-0x1452+-0x1*-0x238a)&&(_0x21f35b['maxHeight']=_0xf4193c['maxHeight']),_0xf4193c['fitWidthPr'+'oportion']!==void(0x5*-0x58d+0x187+0x1a3a)&&(_0x21f35b['fitWidthPr'+'oportion']=_0xf4193c['fitWidthPr'+'oportion']),_0xf4193c['fitHeightP'+'roportion']!==void(0x15dd+0x5b*-0x44+0x1*0x24f)&&(_0x21f35b['fitHeightP'+'roportion']=_0xf4193c['fitHeightP'+'roportion']),_0xf4193c['excludeFro'+'mLayout']!==void(-0x138d+-0x1e6f+-0x392*-0xe)&&(_0x21f35b['excludeFro'+'mLayout']=_0xf4193c['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x21f35b,_0xf4193c,_0x32e2ed);}['cloneCompo'+'nent'](_0x3f8575,_0x5b7a29){const _0x449207=_0x3f8575['layoutchil'+'d'];return this['addCompone'+'nt'](_0x5b7a29,{'enabled':_0x449207['enabled'],'minWidth':_0x449207['minWidth'],'minHeight':_0x449207['minHeight'],'maxWidth':_0x449207['maxWidth'],'maxHeight':_0x449207['maxHeight'],'fitWidthProportion':_0x449207['fitWidthPr'+'oportion'],'fitHeightProportion':_0x449207['fitHeightP'+'roportion'],'excludeFromLayout':_0x449207['excludeFro'+'mLayout']});}}ue['_buildAcce'+'ssors'](nx['prototype'],ax);const ff=-0x294+-0x10d7+0x136b,qR=0x2573+0xac2+-0x3034,gg=0x7b8+-0xba1+-0x1*-0x3eb,XR=0x1ea0+-0x1a7f+-0x20f*0x2,Zh={};Zh[pe]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Zh[ke]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const Vp={};Vp[pe]=ke,Vp[ke]=pe;const jR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},zt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},Ut=new $();function ox(_0x36ea9a){let _0x351b22;const _0x402694=Zh[_0x36ea9a],_0x311608=Zh[Vp[_0x36ea9a]];function _0x5d7fcd(_0x544f1c,_0x37ee18){return-_0x37ee18[_0x402694['size']]*_0x544f1c['pivot'][_0x402694['axis']];}function _0x598400(_0x5afce6,_0x1dd8cf){return-_0x1dd8cf[_0x311608['size']]*_0x5afce6['pivot'][_0x311608['axis']];}function _0x3a003f(_0x577d86,_0x5abb6e){return _0x5abb6e[_0x402694['size']]*(0x164f*-0x1+0x705*0x1+-0x5*-0x30f-_0x577d86['pivot'][_0x402694['axis']]);}function _0x2db90a(_0x3ce056,_0x127144){_0x3ce056=_0x3ce056['filter'](_0x5cede9),_0x351b22=_0x127144,Ut['x']=_0x351b22['containerS'+'ize']['x']-_0x351b22['padding']['x']-_0x351b22['padding']['z'],Ut['y']=_0x351b22['containerS'+'ize']['y']-_0x351b22['padding']['y']-_0x351b22['padding']['w'],_0x233f0a(_0x3ce056);const _0x38e990=_0x9aa6d9(_0x503704(_0x3ce056)),_0x16f7b3=_0x2d170f(_0x38e990,_0x148f00(_0x38e990)),_0x562d3d=_0x134eb6(_0x38e990,_0x16f7b3);return _0x5e786a(_0x38e990,_0x16f7b3,_0x562d3d),_0x130cca(_0x38e990,_0x16f7b3,_0x562d3d),_0x2c53b5(_0x38e990);}function _0x5cede9(_0x1aa8e8){const _0x1bd0b5=_0x1aa8e8['entity']['layoutchil'+'d'];return!_0x1bd0b5||!_0x1bd0b5['enabled']||!_0x1bd0b5['excludeFro'+'mLayout'];}function _0x233f0a(_0x3d319b){for(let _0x3c0dc5=0x795+-0x2237+0x1aa2;_0x3c0dc5<_0x3d319b['length'];++_0x3c0dc5){const _0xc04dd6=_0x3d319b[_0x3c0dc5],_0x3d54cb=_0xc04dd6['anchor'];(_0x3d54cb['x']!==-0x52a*0x5+-0x1a4+-0xbe*-0x25||_0x3d54cb['y']!==0x19cf+0xc10+-0x23*0x115||_0x3d54cb['z']!==-0x1*-0xad7+0x19fb+-0x24d2*0x1||_0x3d54cb['w']!==0xf39+0x14dc+-0x2415)&&(_0xc04dd6['anchor']=Q['ZERO']);}}function _0x503704(_0x55e505){if(!_0x351b22['wrap'])return[_0x55e505];const _0x529137=[[]],_0x23cc87=_0x32d968(_0x55e505);let _0x714ec1=0x1c19+-0x6*0x44+0x17*-0x127;const _0x27ec46=_0x351b22[_0x402694['fitting']]===gg;for(let _0x573305=0x175+0x80b*-0x4+0x1eb7;_0x573305<_0x55e505['length'];++_0x573305){_0x529137[_0x529137['length']-(0xb1*0x2c+-0x5*0x57f+-0x2f0)]['length']>0x12be+0x8*-0x17c+-0x2*0x36f&&(_0x714ec1+=_0x351b22['spacing'][_0x402694['axis']]);const _0x3ad172=_0x23cc87[_0x573305][_0x402694['size']];_0x714ec1+=_0x3ad172,!_0x27ec46&&_0x714ec1>Ut[_0x402694['axis']]&&_0x529137[_0x529137['length']-(0x1a10+-0x1543+-0x4cc)]['length']!==0x1*0x217a+-0x1fd0+-0x6*0x47&&(_0x714ec1=_0x3ad172,_0x529137['push']([])),_0x529137[_0x529137['length']-(0x7c+-0x234d+-0x22d2*-0x1)]['push'](_0x55e505[_0x573305]),_0x27ec46&&_0x714ec1>Ut[_0x402694['axis']]&&_0x573305!==_0x55e505['length']-(-0x1*0x1d82+-0x26b9+0x443c)&&(_0x714ec1=0x1*-0x18ce+0x7da+-0x8c*-0x1f,_0x529137['push']([]));}return _0x529137;}function _0x9aa6d9(_0x463173){const _0x47108e=_0x351b22['orientatio'+'n']===pe&&_0x351b22['reverseX']||_0x351b22['orientatio'+'n']===ke&&_0x351b22['reverseY'],_0x7edaf6=_0x351b22['orientatio'+'n']===pe&&_0x351b22['reverseY']||_0x351b22['orientatio'+'n']===ke&&_0x351b22['reverseX'];if(_0x47108e){for(let _0x12d1ba=-0x1187*-0x1+0x2053+-0x109e*0x3;_0x12d1ba<_0x463173['length'];++_0x12d1ba)_0x47108e&&_0x463173[_0x12d1ba]['reverse']();}return _0x7edaf6&&_0x463173['reverse'](),_0x463173;}function _0x148f00(_0xd47936){const _0xdf95b8=[];for(let _0x3afeb5=0x6c2*-0x5+-0x1*-0x20c7+0x103;_0x3afeb5<_0xd47936['length'];++_0x3afeb5){const _0xa79137=_0xd47936[_0x3afeb5],_0x471ef5=_0x32d968(_0xa79137),_0x3db1f0=_0x1198f9(_0x471ef5,_0x402694),_0x30569b=_0x320b19(_0x351b22[_0x402694['fitting']],_0x3db1f0,Ut[_0x402694['axis']]);_0x30569b===zt['APPLY_STRE'+'TCHING']?_0x388d0b(_0x471ef5,_0x3db1f0,_0x402694):_0x30569b===zt['APPLY_SHRI'+'NKING']&&_0x41e581(_0x471ef5,_0x3db1f0,_0x402694),_0xdf95b8['push'](_0x471ef5);}return _0xdf95b8;}function _0x2d170f(_0x1257f8,_0x1d8c92){const _0x14f2cc=[],_0x2665a5=[];for(let _0x25f6f3=-0x1c66+0x2376+0x71*-0x10;_0x25f6f3<_0x1257f8['length'];++_0x25f6f3){const _0x1d0abd=_0x1257f8[_0x25f6f3];_0x1d0abd['largestEle'+'ment']=null,_0x1d0abd['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x3560e9=-0x1010+-0x1b79+0x2b89;_0x3560e9<_0x1d0abd['length'];++_0x3560e9){const _0x20669a=_0x1d8c92[_0x25f6f3][_0x3560e9];_0x20669a[_0x311608['size']]>_0x1d0abd['largestSiz'+'e'][_0x311608['size']]&&(_0x1d0abd['largestEle'+'ment']=_0x1d0abd[_0x3560e9],_0x1d0abd['largestSiz'+'e']=_0x20669a);}_0x14f2cc['push'](_0x1d0abd['largestEle'+'ment']),_0x2665a5['push'](_0x1d0abd['largestSiz'+'e']);}const _0x1f4643=_0x1198f9(_0x2665a5,_0x311608),_0x2f085e=_0x320b19(_0x351b22[_0x311608['fitting']],_0x1f4643,Ut[_0x311608['axis']]);_0x2f085e===zt['APPLY_STRE'+'TCHING']?_0x388d0b(_0x2665a5,_0x1f4643,_0x311608):_0x2f085e===zt['APPLY_SHRI'+'NKING']&&_0x41e581(_0x2665a5,_0x1f4643,_0x311608);for(let _0x2169ed=-0x6d*-0x35+0x7a7+-0x1e38;_0x2169ed<_0x1257f8['length'];++_0x2169ed){const _0x370f41=_0x1257f8[_0x2169ed];for(let _0x206239=-0x1*-0xf59+0x1f53+-0x2eac;_0x206239<_0x370f41['length'];++_0x206239){const _0x5318ee=_0x1d8c92[_0x2169ed][_0x206239],_0x1d3634=_0x5318ee[_0x311608['size']],_0x449b49=_0x1257f8['length']===0x1*-0x1acf+-0x2ff*-0x6+0x8d6?Ut[_0x311608['axis']]:_0x370f41['largestSiz'+'e'][_0x311608['size']],_0x56e05e=_0x320b19(_0x351b22[_0x311608['fitting']],_0x1d3634,_0x449b49);_0x56e05e===zt['APPLY_STRE'+'TCHING']?_0x5318ee[_0x311608['size']]=Math['min'](_0x449b49,_0x5318ee[_0x311608['maxSize']]):_0x56e05e===zt['APPLY_SHRI'+'NKING']&&(_0x5318ee[_0x311608['size']]=Math['max'](_0x449b49,_0x5318ee[_0x311608['minSize']]));}}return _0x1d8c92;}function _0x320b19(_0x452e89,_0x54f872,_0x56f8d0){switch(_0x452e89){case ff:return zt['NONE'];case qR:return _0x54f872<_0x56f8d0?zt['APPLY_STRE'+'TCHING']:zt['NONE'];case gg:return _0x54f872>=_0x56f8d0?zt['APPLY_SHRI'+'NKING']:zt['NONE'];case XR:return _0x54f872<_0x56f8d0?zt['APPLY_STRE'+'TCHING']:zt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x452e89);}}function _0x1198f9(_0x1d5333,_0xcb5253){const _0x31a56d=_0x3e1f62(_0x1d5333,_0xcb5253['size']),_0xefbc3a=(_0x1d5333['length']-(0x1862*-0x1+0x1077+-0xc*-0xa9))*_0x351b22['spacing'][_0xcb5253['axis']];return _0x31a56d+_0xefbc3a;}function _0x388d0b(_0x5c5230,_0x3c966c,_0xf350e4){const _0x5eb749=_0x2ac2ea(_0x5c5230,_0xf350e4['maxSize']),_0x1c5610=_0x35ff5b(_0x5c5230,_0xf350e4['fittingPro'+'portion']),_0x5dd399=_0x11e77c(_0x1c5610,_0x5eb749);let _0x52aae1=Ut[_0xf350e4['axis']]-_0x3c966c;for(let _0x3be009=0x25b8+-0x3d5+-0x6c7*0x5;_0x3be009<_0x5c5230['length'];++_0x3be009){const _0x3a50d9=_0x5eb749[_0x3be009],_0x2cb378=_0xf13397(_0x3a50d9,_0x52aae1,_0x1c5610,_0x5dd399),_0x1f24ee=_0x5c5230[_0x3a50d9][_0xf350e4['size']]+_0x2cb378,_0x5ebee4=_0x5c5230[_0x3a50d9][_0xf350e4['maxSize']],_0x3d9882=Math['min'](_0x1f24ee,_0x5ebee4);_0x5c5230[_0x3a50d9][_0xf350e4['size']]=_0x3d9882;const _0x64001f=Math['max'](_0x1f24ee-_0x3d9882,-0x22*-0x53+0x1*0x543+-0x1049),_0x2e52e6=_0x2cb378-_0x64001f;_0x52aae1-=_0x2e52e6;}}function _0x41e581(_0x1b80a6,_0xbe71f5,_0x2ef8ca){const _0x35a9df=_0x2ac2ea(_0x1b80a6,_0x2ef8ca['minSize'],!(0x1413+-0x567+-0x139*0xc)),_0x11cc56=_0x35ff5b(_0x1b80a6,_0x2ef8ca['fittingPro'+'portion']),_0x347b24=_0x2d366a(_0x11cc56),_0x494b6e=_0x11e77c(_0x347b24,_0x35a9df);let _0x3dd3e7=_0xbe71f5-Ut[_0x2ef8ca['axis']];for(let _0xb320dd=0x2653*0x1+0x1*0x1bef+0x1*-0x4242;_0xb320dd<_0x1b80a6['length'];++_0xb320dd){const _0x1073f1=_0x35a9df[_0xb320dd],_0x491772=_0xf13397(_0x1073f1,_0x3dd3e7,_0x347b24,_0x494b6e),_0x1bcdff=_0x1b80a6[_0x1073f1][_0x2ef8ca['size']]-_0x491772,_0x88900=_0x1b80a6[_0x1073f1][_0x2ef8ca['minSize']],_0x4bbd99=Math['max'](_0x1bcdff,_0x88900);_0x1b80a6[_0x1073f1][_0x2ef8ca['size']]=_0x4bbd99;const _0x495857=Math['max'](_0x4bbd99-_0x1bcdff,0x85*-0x4+-0xc98+0xc*0x139),_0x246186=_0x491772-_0x495857;_0x3dd3e7-=_0x246186;}}function _0xf13397(_0x47dfa8,_0x47f3b8,_0x250cae,_0x122f3a){const _0x519731=_0x250cae[_0x47dfa8],_0x3c7680=_0x122f3a[_0x47dfa8];return Math['abs'](_0x519731)<0x2*-0xf5d+-0x7*0x581+0x4541+0.00001&&Math['abs'](_0x3c7680)<-0xb*-0x153+0x3*0xa67+-0x2dc6+0.00001?_0x47f3b8:_0x47f3b8*_0x519731/_0x3c7680;}function _0x134eb6(_0x444b0d,_0x4d96ba){const _0x5c8ebc={};_0x5c8ebc[_0x402694['axis']]=-0x1*-0x1a64+0x5*0x15a+-0x2126,_0x5c8ebc[_0x311608['axis']]=-0x4*0x7bf+-0x164b+0x17*0x251,_0x444b0d[_0x402694['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x2a50c8=[];for(let _0x12a968=-0x23db+-0x1*-0x196f+-0x5c*-0x1d;_0x12a968<_0x444b0d['length'];++_0x12a968){const _0x1015f6=_0x444b0d[_0x12a968];if(_0x1015f6['length']===-0x3e4*0x2+-0x11f0+0x19b8*0x1){_0x2a50c8['push']([]);continue;}const _0x96bd23=[],_0x589b1f=_0x4d96ba[_0x12a968];for(let _0x221e6c=0xbe8*0x3+-0x11b*-0x9+0x3*-0xf39;_0x221e6c<_0x1015f6['length'];++_0x221e6c){const _0x1cf9bd=_0x1015f6[_0x221e6c],_0x4acdfe=_0x589b1f[_0x221e6c];_0x5c8ebc[_0x311608['axis']]-=_0x598400(_0x1cf9bd,_0x4acdfe),_0x5c8ebc[_0x402694['axis']]-=_0x5d7fcd(_0x1cf9bd,_0x4acdfe),_0x96bd23[_0x221e6c]={},_0x96bd23[_0x221e6c][_0x402694['axis']]=_0x5c8ebc[_0x402694['axis']],_0x96bd23[_0x221e6c][_0x311608['axis']]=_0x5c8ebc[_0x311608['axis']],_0x5c8ebc[_0x311608['axis']]+=_0x598400(_0x1cf9bd,_0x4acdfe),_0x5c8ebc[_0x402694['axis']]+=_0x3a003f(_0x1cf9bd,_0x4acdfe)+_0x351b22['spacing'][_0x402694['axis']];}_0x1015f6[_0x402694['size']]=_0x5c8ebc[_0x402694['axis']]-_0x351b22['spacing'][_0x402694['axis']],_0x1015f6[_0x311608['size']]=_0x1015f6['largestSiz'+'e'][_0x311608['size']],_0x444b0d[_0x402694['size']]=Math['max'](_0x444b0d[_0x402694['size']],_0x1015f6[_0x402694['size']]),_0x5c8ebc[_0x402694['axis']]=-0x13c*0x11+-0xd4*-0x1e+-0x2*0x1ee,_0x5c8ebc[_0x311608['axis']]+=_0x1015f6[_0x311608['size']]+_0x351b22['spacing'][_0x311608['axis']],_0x2a50c8['push'](_0x96bd23);}return _0x444b0d[_0x311608['size']]=_0x5c8ebc[_0x311608['axis']]-_0x351b22['spacing'][_0x311608['axis']],_0x2a50c8;}function _0x5e786a(_0x41f3c9,_0x378dd7,_0x593925){const _0x2c0622=_0x351b22['alignment'][_0x402694['axis']],_0x35de77=_0x351b22['alignment'][_0x311608['axis']],_0x50c684=_0x351b22['padding'][_0x402694['axis']],_0x58187d=_0x351b22['padding'][_0x311608['axis']];for(let _0x1753a0=0x1ee0+-0x13cc+-0xb14;_0x1753a0<_0x41f3c9['length'];++_0x1753a0){const _0xf39d22=_0x41f3c9[_0x1753a0],_0x382655=_0x378dd7[_0x1753a0],_0x50a353=_0x593925[_0x1753a0],_0x3b4ea6=(Ut[_0x402694['axis']]-_0xf39d22[_0x402694['size']])*_0x2c0622+_0x50c684,_0x67c740=(Ut[_0x311608['axis']]-_0x41f3c9[_0x311608['size']])*_0x35de77+_0x58187d;for(let _0x1a063b=0x24*0x106+-0x23f8+-0xe0;_0x1a063b<_0xf39d22['length'];++_0x1a063b){const _0xea2421=(_0xf39d22[_0x311608['size']]-_0x382655[_0x1a063b][_0x311608['size']])*_0x351b22['alignment'][_0x311608['axis']];_0x50a353[_0x1a063b][_0x402694['axis']]+=_0x3b4ea6,_0x50a353[_0x1a063b][_0x311608['axis']]+=_0x67c740+_0xea2421;}}}function _0x130cca(_0x27c5f0,_0x212513,_0x53e87b){for(let _0x2eee42=0x12fa+-0x1dd3+0xad9*0x1;_0x2eee42<_0x27c5f0['length'];++_0x2eee42){const _0x439df4=_0x27c5f0[_0x2eee42],_0xa1b6ac=_0x212513[_0x2eee42],_0xfcbaa8=_0x53e87b[_0x2eee42];for(let _0x4b9c2a=0x75c+-0xe2d*0x1+0x6d1;_0x4b9c2a<_0x439df4['length'];++_0x4b9c2a){const _0x4d7d3c=_0x439df4[_0x4b9c2a];_0x4d7d3c[_0x402694['calculated'+'Size']]=_0xa1b6ac[_0x4b9c2a][_0x402694['size']],_0x4d7d3c[_0x311608['calculated'+'Size']]=_0xa1b6ac[_0x4b9c2a][_0x311608['size']],_0x351b22['orientatio'+'n']===pe?_0x4d7d3c['entity']['setLocalPo'+'sition'](_0xfcbaa8[_0x4b9c2a][_0x402694['axis']],_0xfcbaa8[_0x4b9c2a][_0x311608['axis']],_0x4d7d3c['entity']['getLocalPo'+'sition']()['z']):_0x4d7d3c['entity']['setLocalPo'+'sition'](_0xfcbaa8[_0x4b9c2a][_0x311608['axis']],_0xfcbaa8[_0x4b9c2a][_0x402694['axis']],_0x4d7d3c['entity']['getLocalPo'+'sition']()['z']);}}}function _0x2c53b5(_0x5ab425){const _0x21e62f=_0x5ab425['width'],_0xe3ca=_0x5ab425['height'],_0x48898a=(Ut['x']-_0x21e62f)*_0x351b22['alignment']['x']+_0x351b22['padding']['x'],_0x161bb3=(Ut['y']-_0xe3ca)*_0x351b22['alignment']['y']+_0x351b22['padding']['y'];return{'bounds':new Q(_0x48898a,_0x161bb3,_0x21e62f,_0xe3ca)};}function _0x32d968(_0x1ebcb4){const _0x4b2296=[];for(let _0x5b9c82=0x25d9*-0x1+0xbe4*0x1+0x1bb*0xf;_0x5b9c82<_0x1ebcb4['length'];++_0x5b9c82){const _0x485c58=_0x1ebcb4[_0x5b9c82],_0x61bc0f=Math['max'](_0x47e596(_0x485c58,'minWidth'),0x1*0x12bf+0x1*-0x2239+0x7*0x236),_0x2d97f0=Math['max'](_0x47e596(_0x485c58,'minHeight'),-0x12c5+0x7*-0x3ad+-0x20*-0x164),_0x5b1d7a=Math['max'](_0x47e596(_0x485c58,'maxWidth'),_0x61bc0f),_0x3329f0=Math['max'](_0x47e596(_0x485c58,'maxHeight'),_0x2d97f0),_0x192742=_0x1395bb(_0x47e596(_0x485c58,'width'),_0x61bc0f,_0x5b1d7a),_0x352b65=_0x1395bb(_0x47e596(_0x485c58,'height'),_0x2d97f0,_0x3329f0),_0x1ae4af=_0x47e596(_0x485c58,'fitWidthPr'+'oportion'),_0x28fcdb=_0x47e596(_0x485c58,'fitHeightP'+'roportion');_0x4b2296['push']({'minWidth':_0x61bc0f,'minHeight':_0x2d97f0,'maxWidth':_0x5b1d7a,'maxHeight':_0x3329f0,'width':_0x192742,'height':_0x352b65,'fitWidthProportion':_0x1ae4af,'fitHeightProportion':_0x28fcdb});}return _0x4b2296;}function _0x47e596(_0x2f7e85,_0xaa813c){const _0x22f0c9=_0x2f7e85['entity']['layoutchil'+'d'];return _0x22f0c9&&_0x22f0c9['enabled']&&_0x22f0c9[_0xaa813c]!==void(0x7d+-0xd*0x101+0xc90)&&_0x22f0c9[_0xaa813c]!==null?_0x22f0c9[_0xaa813c]:_0x2f7e85[_0xaa813c]!==void(0x1373+-0x6*-0x597+0x1*-0x34fd)?_0x2f7e85[_0xaa813c]:jR[_0xaa813c];}function _0x1395bb(_0x331817,_0x148213,_0xe399f2){return Math['min'](Math['max'](_0x331817,_0x148213),_0xe399f2);}function _0x3e1f62(_0x848e5e,_0x352d4f){return _0x848e5e['reduce']((_0x2872e7,_0x59c2aa)=>_0x2872e7+_0x59c2aa[_0x352d4f],0x157*-0x1+0x1097+-0xf40);}function _0x35ff5b(_0x255f0c,_0xb3d921){const _0x3c0cce=_0x3e1f62(_0x255f0c,_0xb3d921),_0x5b0086=[],_0x19bb4e=_0x255f0c['length'];if(_0x3c0cce===-0x1ee3*0x1+-0xa8+0x1f8b){for(let _0x2f2b1b=0xe4e*0x1+0x12*-0x12+-0xd0a;_0x2f2b1b<_0x19bb4e;++_0x2f2b1b)_0x5b0086['push']((0x1a18+0xad9*0x1+-0x4*0x93c)/_0x19bb4e);}else{for(let _0x4e57ff=0x9e*0x1c+0x2230+-0x7a*0x6c;_0x4e57ff<_0x19bb4e;++_0x4e57ff)_0x5b0086['push'](_0x255f0c[_0x4e57ff][_0xb3d921]/_0x3c0cce);}return _0x5b0086;}function _0x2d366a(_0x3a72ab){if(_0x3a72ab['length']===0xdc2+-0x10d4+-0x313*-0x1)return[0x3*0x610+0x1*-0x26bb+-0x5*-0x41c];const _0x297501=[],_0x12f49c=_0x3a72ab['length'];for(let _0xd2ecf0=-0x1b73+-0x3*-0x79d+-0x24e*-0x2;_0xd2ecf0<_0x12f49c;++_0xd2ecf0)_0x297501['push']((-0x18e2+-0x250+0x1b33-_0x3a72ab[_0xd2ecf0])/(_0x12f49c-(0x19f4+0x44e+-0x1e41)));return _0x297501;}function _0x2ac2ea(_0x41eb55,_0x5c2351,_0x57d07a){return _0x41eb55['forEach'](_0x5308cf),_0x41eb55['slice']()['sort']((_0x1fa49c,_0xe8bf48)=>_0x57d07a?_0xe8bf48[_0x5c2351]-_0x1fa49c[_0x5c2351]:_0x1fa49c[_0x5c2351]-_0xe8bf48[_0x5c2351])['map'](_0x2f69f4);}function _0x5308cf(_0x52974f,_0x2bbffd){_0x52974f['index']=_0x2bbffd;}function _0x2f69f4(_0x2e6404){return _0x2e6404['index'];}function _0x11e77c(_0x26d12f,_0x188b4d){const _0x459d75=[];_0x459d75[_0x188b4d[_0x26d12f['length']-(-0xc7*-0x1+-0x22d+0x167)]]=_0x26d12f[_0x188b4d[_0x26d12f['length']-(-0xa52+0x184d*-0x1+-0x10*-0x22a)]];for(let _0x3381ea=_0x26d12f['length']-(-0x23c2+-0x138d+0x3751);_0x3381ea>=0xc4b+0x11b8+-0x1*0x1e03;--_0x3381ea)_0x459d75[_0x188b4d[_0x3381ea]]=_0x459d75[_0x188b4d[_0x3381ea+(0x1184+-0x1a7c+-0x8f9*-0x1)]]+_0x26d12f[_0x188b4d[_0x3381ea]];return _0x459d75;}return _0x2db90a;}const Gp={};Gp[pe]=ox(pe),Gp[ke]=ox(ke);class YR{['calculateL'+'ayout'](_0x5c16ac,_0x45240b){const _0x5cabfe=Gp[_0x45240b['orientatio'+'n']];if(_0x5cabfe)return _0x5cabfe(_0x5c16ac,_0x45240b);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x45240b['orientatio'+'n']);}}function yg(_0x5e1820){return _0x5e1820['element'];}function KR(_0x50139d){return _0x50139d['enabled']&&_0x50139d['element']&&_0x50139d['element']['enabled'];}class lx extends ue{constructor(_0x3235f4,_0x2d4ebd){super(_0x3235f4,_0x2d4ebd),c(this,'_orientati'+'on',pe),c(this,'_reverseX',!(0x1a7*0x1+-0x22b5+0x4b9*0x7)),c(this,'_reverseY',!(0x12d+0x63*0x16+0x25*-0x43)),c(this,'_alignment',new $(-0x19d+0x1a0c*-0x1+0x1ba9,0x936+-0xe*-0x175+-0xd*0x247)),c(this,'_padding',new Q()),c(this,'_spacing',new $()),c(this,'_widthFitt'+'ing',ff),c(this,'_heightFit'+'ting',ff),c(this,'_wrap',!(-0x2b*0xc5+0x122e*-0x1+0x2*0x19a3)),c(this,'_layoutCal'+'culator',new YR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x209b33=>{this['_listenFor'+'ReflowEven'+'ts'](_0x209b33,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),v['assert'](_0x3235f4['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x3235f4['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x3235f4['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),v['assert'](_0x3235f4['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x3235f4['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x3235f4['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x499735){_0x499735!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x499735,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x574e8b){_0x574e8b!==this['_reverseX']&&(this['_reverseX']=_0x574e8b,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x59a2c6){_0x59a2c6!==this['_reverseY']&&(this['_reverseY']=_0x59a2c6,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x26ea7d){_0x26ea7d['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x26ea7d),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x569f2f){_0x569f2f['equals'](this['_padding'])||(this['_padding']['copy'](_0x569f2f),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x5dd4f8){_0x5dd4f8['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x5dd4f8),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x316244){_0x316244!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x316244,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x529938){_0x529938!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x529938,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x54673d){_0x54673d!==this['_wrap']&&(this['_wrap']=_0x54673d,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x13a4f7){return _0x13a4f7===this['entity']||this['entity']['children']['indexOf'](_0x13a4f7)!==-(-0x353+0xb*0x1de+-0x1*0x1136);}['_listenFor'+'ReflowEven'+'ts'](_0x55433a,_0x82d2ae){_0x55433a['element']&&(_0x55433a['element'][_0x82d2ae]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x55433a['element'][_0x82d2ae]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x55433a['element'][_0x82d2ae]('resize',this['_scheduleR'+'eflow'],this),_0x55433a['element'][_0x82d2ae]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x55433a['layoutchil'+'d']&&(_0x55433a['layoutchil'+'d'][_0x82d2ae]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x55433a['layoutchil'+'d'][_0x82d2ae]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x4497e8){this['_isSelfOrC'+'hild'](_0x4497e8)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x4497e8,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x53f6b2){this['_isSelfOrC'+'hild'](_0x53f6b2)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x53f6b2,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x4c1f74){this['_listenFor'+'ReflowEven'+'ts'](_0x4c1f74,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x529c68){this['_listenFor'+'ReflowEven'+'ts'](_0x529c68,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x41a119=yg(this['entity']),_0xb717d5=this['entity']['children']['filter'](KR)['map'](yg);if(!_0x41a119||_0xb717d5['length']===-0x1*-0x1a69+0x1*0xcdf+-0x1*0x2748)return;const _0x471799=Math['max'](_0x41a119['calculated'+'Width'],0x21d8+-0x320*-0x5+-0x3178),_0x53c19e=Math['max'](_0x41a119['calculated'+'Height'],-0x1*0x188d+-0x1*0x1d76+0x3*0x1201),_0x50970f={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new $(_0x471799,_0x53c19e)};this['_isPerform'+'ingReflow']=!(0x6f*0x7+-0xc0*0x13+0xb37);const _0x30bb8a=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0xb717d5,_0x50970f);this['_isPerform'+'ingReflow']=!(0x1453+-0x3ce*0x2+-0xcb6),this['fire']('reflow',_0x30bb8a);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x500b64=>{this['_listenFor'+'ReflowEven'+'ts'](_0x500b64,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class ZR{constructor(){this['enabled']=!(-0x2c2+-0x4e*0x44+-0x4b2*-0x5);}}const hx=['enabled'],QR=-0xc2a+-0x2381+0x1*0x300f;class JR extends Xe{constructor(_0x4c9fc5){super(_0x4c9fc5),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=lx,this['DataType']=ZR,this['schema']=hx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x2dfb61,_0xd8f0f5,_0x485cfa){_0xd8f0f5['enabled']!==void(0x611+-0x207d*-0x1+-0x268e)&&(_0x2dfb61['enabled']=_0xd8f0f5['enabled']),_0xd8f0f5['orientatio'+'n']!==void(0xc*-0x255+-0x1*0x1dd2+-0x842*-0x7)&&(_0x2dfb61['orientatio'+'n']=_0xd8f0f5['orientatio'+'n']),_0xd8f0f5['reverseX']!==void(-0x12b1+0x4d2*0x1+0xddf*0x1)&&(_0x2dfb61['reverseX']=_0xd8f0f5['reverseX']),_0xd8f0f5['reverseY']!==void(-0x33*-0x28+0x7d2+-0x2b*0x5e)&&(_0x2dfb61['reverseY']=_0xd8f0f5['reverseY']),_0xd8f0f5['alignment']!==void(-0x269d+0x8d3+0x1dca)&&(_0x2dfb61['alignment']=Array['isArray'](_0xd8f0f5['alignment'])?new $(_0xd8f0f5['alignment']):_0xd8f0f5['alignment']),_0xd8f0f5['padding']!==void(-0x1*0x10f3+-0x1e3f+0x2f32)&&(_0x2dfb61['padding']=Array['isArray'](_0xd8f0f5['padding'])?new Q(_0xd8f0f5['padding']):_0xd8f0f5['padding']),_0xd8f0f5['spacing']!==void(0x1*0xbe1+0x504+-0x361*0x5)&&(_0x2dfb61['spacing']=Array['isArray'](_0xd8f0f5['spacing'])?new $(_0xd8f0f5['spacing']):_0xd8f0f5['spacing']),_0xd8f0f5['widthFitti'+'ng']!==void(-0x9cd+0x25*-0x19+0x11*0xca)&&(_0x2dfb61['widthFitti'+'ng']=_0xd8f0f5['widthFitti'+'ng']),_0xd8f0f5['heightFitt'+'ing']!==void(0xa86*0x1+-0x8fd+0x3*-0x83)&&(_0x2dfb61['heightFitt'+'ing']=_0xd8f0f5['heightFitt'+'ing']),_0xd8f0f5['wrap']!==void(0x78a+0x4f+0x7d9*-0x1)&&(_0x2dfb61['wrap']=_0xd8f0f5['wrap']),super['initialize'+'ComponentD'+'ata'](_0x2dfb61,_0xd8f0f5,_0x485cfa);}['cloneCompo'+'nent'](_0x4bc0a0,_0x5ed155){const _0x472667=_0x4bc0a0['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x5ed155,{'enabled':_0x472667['enabled'],'orientation':_0x472667['orientatio'+'n'],'reverseX':_0x472667['reverseX'],'reverseY':_0x472667['reverseY'],'alignment':_0x472667['alignment'],'padding':_0x472667['padding'],'spacing':_0x472667['spacing'],'widthFitting':_0x472667['widthFitti'+'ng'],'heightFitting':_0x472667['heightFitt'+'ing'],'wrap':_0x472667['wrap']});}['scheduleRe'+'flow'](_0x30edc0){this['_reflowQue'+'ue']['indexOf'](_0x30edc0)===-(0x8ab+0xae7+-0x1391)&&this['_reflowQue'+'ue']['push'](_0x30edc0);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0x2058+0x9*-0x12f+-0x1*-0x2aff)return;let _0x1918c8=-0x9*-0x28a+-0xea2*-0x1+-0x257c;for(;this['_reflowQue'+'ue']['length']>-0x2347+-0x1e*-0x89+0x1339;){const _0x2738ca=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x24aa+-0x21c7*0x1+0x4671,_0x2738ca['sort']((_0x3f29e2,_0xb135ad)=>_0x3f29e2['entity']['graphDepth']-_0xb135ad['entity']['graphDepth']);for(let _0x5837b3=-0x2*0x1ff+-0x1*0x1adc+0x1eda;_0x5837b3<_0x2738ca['length'];++_0x5837b3)_0x2738ca[_0x5837b3]['reflow']();if(++_0x1918c8>=QR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x1114c1,_0x5ec020){_0x5ec020['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}ue['_buildAcce'+'ssors'](lx['prototype'],hx);class eI{constructor(){c(this,'map',new Map());}['destroy'](_0x477a0b){this['map']['forEach'](_0x203c7d=>_0x203c7d['mesh']['destroy']());}}const tI=new Ot(),cx=(_0x2e35c9,_0x19f6c4)=>{const _0x23cffd=tI['get'](_0x2e35c9,()=>new eI());let _0x2bdda0=_0x23cffd['map']['get'](_0x19f6c4);if(!_0x2bdda0){let _0x2b8dd6,_0x564160;switch(_0x19f6c4){case'box':_0x2b8dd6=Ie['fromGeomet'+'ry'](_0x2e35c9,new Wu()),_0x564160={'x':0x2,'y':0x2,'z':0x2,'uv':(0x46f+0xe03+0x2*-0x938)/(0x319*-0x3+-0x2203+0x2b51)};break;case'capsule':_0x2b8dd6=Ie['fromGeomet'+'ry'](_0x2e35c9,new C1({'radius':0.5,'height':0x2})),_0x564160={'x':Math['PI']*(0x600*0x1+-0x19*0x125+0x169f*0x1),'y':Math['PI'],'z':Math['PI']*(0xe*-0x227+0x1b83+0x2a1),'uv':(-0x8fd+0x1106+-0x808)/(0x579+0x98b+-0xf01)+(0x52e+-0x219b+0x1c6e)/(0xc7*0x2b+0xfdb+-0x3145*0x1)/(0xd87+-0x27b+-0x19*0x71)*(0x257f*0x1+-0xe8f+-0x1*0x16ee)};break;case'cone':_0x2b8dd6=Ie['fromGeomet'+'ry'](_0x2e35c9,new M1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x564160={'x':2.54,'y':2.54,'z':2.54,'uv':(-0x450*0x5+0x1ba9+-0x618)/(0x49f*0x3+0x8d6+-0x16b0)+(0x23a2+0x1010+-0x4b3*0xb)/(0x26e1+0x999+-0x3077)/(-0xcf*0x1d+0xe22+-0x1*-0x954)};break;case'cylinder':_0x2b8dd6=Ie['fromGeomet'+'ry'](_0x2e35c9,new P1({'radius':0.5,'height':0x1})),_0x564160={'x':Math['PI'],'y':(-0xb4e+0x216a+-0x161c*0x1+0.79)*(-0x7e7+-0x3b6+0x5*0x253),'z':Math['PI'],'uv':(-0x267d+0x14a1*-0x1+-0x3*-0x13b5)/(0x1284+-0x180d*0x1+-0xa*-0x8e)+(-0xf1*-0x29+0x1*0xc2f+-0x32c7)/(-0xe12*0x2+0xa29+0x11fe)/(-0x11cd+-0x2*-0xd14+-0x6*0x164)*(0x455+-0x1ad0+0x1*0x167d)};break;case'plane':_0x2b8dd6=Ie['fromGeomet'+'ry'](_0x2e35c9,new R1({'halfExtents':new $(-0x23ad+0xa5+-0x76*-0x4c+0.5,0x8a7*-0x1+0x89a+0x1*0xd+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x564160={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x2b8dd6=Ie['fromGeomet'+'ry'](_0x2e35c9,new B0({'radius':0.5})),_0x564160={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x2b8dd6=Ie['fromGeomet'+'ry'](_0x2e35c9,new I1({'tubeRadius':0.2,'ringRadius':0.3})),_0x564160={'x':Math['PI']*(-0x1bed*-0x1+0x1cdd+-0x38ca+0.5)*(0x1c8b*-0x1+0x659+-0x3*-0x766+0.5)-Math['PI']*(-0x1*0x2f+0x5a*0x6+-0x1ed+0.1)*(0x156c+0x1*0x83e+-0x1daa+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x19f6c4);}_0x2b8dd6['incRefCoun'+'t'](),_0x2bdda0={'mesh':_0x2b8dd6,'area':_0x564160},_0x23cffd['map']['set'](_0x19f6c4,_0x2bdda0);}return _0x2bdda0;};class dx extends ue{constructor(_0x374939,_0x103a9c){super(_0x374939,_0x103a9c),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(0xb2*-0xf+0xdfb+0x9*-0x65)),c(this,'_receiveSh'+'adows',!(-0x3a*-0x36+-0x1*0x16e5+0x1*0xaa9)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(-0x1ed3*0x1+0x46*-0x52+-0x1*-0x353f)),c(this,'_lightmapp'+'ed',!(-0x2542+0x552+-0x11*-0x1e1)),c(this,'_lightmapS'+'izeMultipl'+'ier',0x169f+-0x1be0+0x542),c(this,'isStatic',!(0x515*0x1+-0x23*-0x83+-0x217*0xb)),c(this,'_layers',[Fi]),c(this,'_batchGrou'+'pId',-(0x1*-0x2423+0x15*0x15b+0x7ad)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(0xafb*-0x3+-0x2*0xd1e+0x3f2*0xf)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x374939['defaultMat'+'erial'],_0x103a9c['on']('remove',this['onRemoveCh'+'ild'],this),_0x103a9c['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x103a9c['on']('insert',this['onInsertCh'+'ild'],this),_0x103a9c['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x17ab2f){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x17ab2f);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x231671){if(this['_customAab'+'b']=_0x231671,this['_model']){const _0x5e6a20=this['_model']['meshInstan'+'ces'];if(_0x5e6a20){for(let _0x129c7b=-0xf*0x175+0x2505+0x287*-0x6;_0x129c7b<_0x5e6a20['length'];_0x129c7b++)_0x5e6a20[_0x129c7b]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x57b7ec){if(this['_type']!==_0x57b7ec){if(this['_area']=null,this['_type']=_0x57b7ec,_0x57b7ec==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x449397=cx(this['system']['app']['graphicsDe'+'vice'],_0x57b7ec);this['_area']=_0x449397['area'];const _0x31f127=_0x449397['mesh'],_0x47a8b2=new De(),_0x5a691e=new Oi();_0x5a691e['graph']=_0x47a8b2,_0x5a691e['meshInstan'+'ces']=[new Le(_0x31f127,this['_material'],_0x47a8b2)],this['model']=_0x5a691e,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x31fd4d){const _0x5225f7=this['system']['app']['assets'];let _0x37eb81=_0x31fd4d;if(_0x31fd4d instanceof le&&(_0x37eb81=_0x31fd4d['id']),this['_asset']!==_0x37eb81){if(this['_asset']){_0x5225f7['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x5c3df8=_0x5225f7['get'](this['_asset']);_0x5c3df8&&this['_unbindMod'+'elAsset'](_0x5c3df8);}if(this['_asset']=_0x37eb81,this['_asset']){const _0x198ebe=_0x5225f7['get'](this['_asset']);_0x198ebe?this['_bindModel'+'Asset'](_0x198ebe):(this['model']=null,_0x5225f7['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x387758){if(this['_model']!==_0x387758){if(_0x387758&&_0x387758['_immutable']){v['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(-0x60f*0x3+0x2392*-0x1+0x35c0),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(-0x1cfb+0xda9+-0xf53*-0x1))),this['_model']=_0x387758,this['_model']){this['_model']['_immutable']=!(-0x1830+-0x23db+-0x329*-0x13);const _0x48b6b1=this['_model']['meshInstan'+'ces'];for(let _0x1d0e3a=0xb94+0xf0+0x3*-0x42c;_0x1d0e3a<_0x48b6b1['length'];_0x1d0e3a++)_0x48b6b1[_0x1d0e3a]['castShadow']=this['_castShado'+'ws'],_0x48b6b1[_0x1d0e3a]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x48b6b1[_0x1d0e3a]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x1f871a){if(_0x1f871a!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x1f871a,this['_model'])){const _0x4d7280=this['_model']['meshInstan'+'ces'];for(let _0x36603a=-0x200c+0x735+0x18d7;_0x36603a<_0x4d7280['length'];_0x36603a++)_0x4d7280[_0x36603a]['setLightma'+'pped'](_0x1f871a);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x1ffe94){if(this['_castShado'+'ws']===_0x1ffe94)return;const _0x57bb4f=this['_model'];if(_0x57bb4f){const _0x70c49d=this['layers'],_0x2fb848=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x1ffe94)for(let _0x4c7451=-0x20f3+-0x243b+-0x325*-0x16;_0x4c7451<_0x70c49d['length'];_0x4c7451++){const _0x4d978b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4c7451]);_0x4d978b&&_0x4d978b['removeShad'+'owCasters'](_0x57bb4f['meshInstan'+'ces']);}const _0x1bbea4=_0x57bb4f['meshInstan'+'ces'];for(let _0xa5d000=0x2212*0x1+0xcba+-0x95c*0x5;_0xa5d000<_0x1bbea4['length'];_0xa5d000++)_0x1bbea4[_0xa5d000]['castShadow']=_0x1ffe94;if(!this['_castShado'+'ws']&&_0x1ffe94)for(let _0x3afb0a=0x2*-0x56a+-0xeb9*-0x1+-0x3e5;_0x3afb0a<_0x70c49d['length'];_0x3afb0a++){const _0x5ed9d5=_0x2fb848['layers']['getLayerBy'+'Id'](_0x70c49d[_0x3afb0a]);_0x5ed9d5&&_0x5ed9d5['addShadowC'+'asters'](_0x57bb4f['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x1ffe94;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0xdf26e8){if(this['_receiveSh'+'adows']!==_0xdf26e8&&(this['_receiveSh'+'adows']=_0xdf26e8,this['_model'])){const _0x4f09fa=this['_model']['meshInstan'+'ces'];for(let _0x4ce709=-0x3*0xcc1+0xc75*-0x2+-0x257*-0x1b,_0x460221=_0x4f09fa['length'];_0x4ce709<_0x460221;_0x4ce709++)_0x4f09fa[_0x4ce709]['receiveSha'+'dow']=_0xdf26e8;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x4cef61){this['_castShado'+'wsLightmap']=_0x4cef61;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x1de261){this['_lightmapS'+'izeMultipl'+'ier']=_0x1de261;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x38fe68){const _0x407a14=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x48c1a8=-0x1*0x543+0x1*-0x3fb+-0xd*-0xb6;_0x48c1a8<this['_layers']['length'];_0x48c1a8++){const _0x7a4ab2=_0x407a14['getLayerBy'+'Id'](this['_layers'][_0x48c1a8]);_0x7a4ab2&&_0x7a4ab2['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0x1321*0x1+-0x209e+0xd7d;for(let _0x37a4fd=0x4b5*-0x5+-0x2429*-0x1+0xca*-0x10;_0x37a4fd<_0x38fe68['length'];_0x37a4fd++)this['_layers'][_0x37a4fd]=_0x38fe68[_0x37a4fd];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x1578dc=-0x17*0xdb+0x1*-0xeb+0x1498;_0x1578dc<this['_layers']['length'];_0x1578dc++){const _0x2834f3=_0x407a14['getLayerBy'+'Id'](this['_layers'][_0x1578dc]);_0x2834f3&&_0x2834f3['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x4c2669){var _0x2d902a,_0x109ba5;this['_batchGrou'+'pId']!==_0x4c2669&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x261b+0x1*-0xb63+-0x712*-0x7&&((_0x2d902a=this['system']['app']['batcher'])==null||_0x2d902a['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x4c2669>=-0x4c*0x14+0x96*0xf+-0x1*0x2da&&((_0x109ba5=this['system']['app']['batcher'])==null||_0x109ba5['insert'](et['MODEL'],_0x4c2669,this['entity'])),_0x4c2669<0x24da+-0x1656+-0xe84&&this['_batchGrou'+'pId']>=0xaaa+0x829+-0x12d3&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x4c2669);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x407cfa){let _0x5379a2=_0x407cfa;_0x407cfa instanceof le&&(_0x5379a2=_0x407cfa['id']);const _0x2f702e=this['system']['app']['assets'];if(_0x5379a2!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x2f702e['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x49a963=_0x2f702e['get'](this['_materialA'+'sset']);_0x49a963&&this['_unbindMat'+'erialAsset'](_0x49a963);}if(this['_materialA'+'sset']=_0x5379a2,this['_materialA'+'sset']){const _0x491543=_0x2f702e['get'](this['_materialA'+'sset']);_0x491543?this['_bindMater'+'ialAsset'](_0x491543):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x2f702e['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x1c6511){this['_material']!==_0x1c6511&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x1c6511));}get['material'](){return this['_material'];}set['mapping'](_0x572c61){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x572c61||(_0x572c61={}),this['_mapping']=_0x572c61,!this['_model']))return;const _0x55deac=this['_model']['meshInstan'+'ces'],_0x26da31=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x45e26d=_0x26da31?_0x26da31['data']['mapping']:null;let _0x44c122=null;for(let _0x527146=0x71*-0x1+-0x10*0x228+0x22f1,_0x78ab89=_0x55deac['length'];_0x527146<_0x78ab89;_0x527146++)if(_0x572c61[_0x527146]!==void(0xb9e+-0x788*-0x1+-0x1326))_0x572c61[_0x527146]?(_0x44c122=this['system']['app']['assets']['get'](_0x572c61[_0x527146]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x44c122,_0x55deac[_0x527146],_0x527146)):_0x55deac[_0x527146]['material']=this['system']['defaultMat'+'erial'];else{if(_0x45e26d){if(_0x45e26d[_0x527146]&&(_0x45e26d[_0x527146]['material']||_0x45e26d[_0x527146]['path'])){if(_0x45e26d[_0x527146]['material']!==void(-0xdb8+-0x132a+0x20e2))_0x44c122=this['system']['app']['assets']['get'](_0x45e26d[_0x527146]['material']);else{if(_0x45e26d[_0x527146]['path']!==void(0xf7c+0x1*0x1ef9+-0x2e75)){const _0x314f56=this['_getMateri'+'alAssetUrl'](_0x45e26d[_0x527146]['path']);_0x314f56&&(_0x44c122=this['system']['app']['assets']['getByUrl'](_0x314f56));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x44c122,_0x55deac[_0x527146],_0x527146);}else _0x55deac[_0x527146]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x55ca75=this['system']['app']['scene']['layers'];for(let _0x3a157e=0xc73*0x3+-0x1c50+-0x909;_0x3a157e<this['_layers']['length'];_0x3a157e++){const _0x2833fc=_0x55ca75['getLayerBy'+'Id'](this['_layers'][_0x3a157e]);_0x2833fc&&_0x2833fc['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x593633=this['system']['app']['scene']['layers'];for(let _0x3a047f=-0x1ec2+-0xf17*-0x1+0x539*0x3;_0x3a047f<this['_layers']['length'];_0x3a047f++){const _0x1b0e98=_0x593633['getLayerBy'+'Id'](this['_layers'][_0x3a047f]);_0x1b0e98&&_0x1b0e98['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x531d85,_0x5515df){this['addModelTo'+'Layers'](),_0x531d85['off']('add',this['onLayerAdd'+'ed'],this),_0x531d85['off']('remove',this['onLayerRem'+'oved'],this),_0x5515df['on']('add',this['onLayerAdd'+'ed'],this),_0x5515df['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x50b204){this['layers']['indexOf'](_0x50b204['id'])<0x1799+-0x12be+-0x4db||_0x50b204['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x3936f0){this['layers']['indexOf'](_0x3936f0['id'])<-0x112d*0x2+0x222c+0x2e||_0x3936f0['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x576c3d,_0x3d889a,_0x48cb9a,_0x5066cb){const _0x197017=_0x3d889a+':'+_0x48cb9a;this['system']['app']['assets']['on'](_0x197017,_0x5066cb,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x576c3d]||(this['_materialE'+'vents'][_0x576c3d]={}),this['_materialE'+'vents'][_0x576c3d][_0x197017]={'id':_0x48cb9a,'handler':_0x5066cb};}['_unsetMate'+'rialEvents'](){const _0xeff149=this['system']['app']['assets'],_0x1a5b5f=this['_materialE'+'vents'];if(_0x1a5b5f){for(let _0xf40f20=0x121a+0xcc8+0x3b*-0x86,_0x29b489=_0x1a5b5f['length'];_0xf40f20<_0x29b489;_0xf40f20++){if(!_0x1a5b5f[_0xf40f20])continue;const _0x42c3b5=_0x1a5b5f[_0xf40f20];for(const _0x3ab52a in _0x42c3b5)_0xeff149['off'](_0x3ab52a,_0x42c3b5[_0x3ab52a]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x3f73ed){let _0x37deb9=null;if(!isNaN(parseInt(_0x3f73ed,0x74*0x2a+0x2b*-0x4+-0x1252)))_0x37deb9=this['system']['app']['assets']['get'](_0x3f73ed);else{if(this['asset']){const _0x598e15=this['_getMateri'+'alAssetUrl'](_0x3f73ed);_0x598e15&&(_0x37deb9=this['system']['app']['assets']['getByUrl'](_0x598e15));}}return _0x37deb9;}['_getMateri'+'alAssetUrl'](_0x283caa){if(!this['asset'])return null;const _0x47bdb5=this['system']['app']['assets']['get'](this['asset']);return _0x47bdb5?_0x47bdb5['getAbsolut'+'eUrl'](_0x283caa):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x45c4a5,_0x4c8a00,_0x4a136e){const _0x2958b6=this['system']['app']['assets'];_0x45c4a5&&(_0x45c4a5['resource']?(_0x4c8a00['material']=_0x45c4a5['resource'],this['_setMateri'+'alEvent'](_0x4a136e,'remove',_0x45c4a5['id'],function(){_0x4c8a00['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x4a136e,'load',_0x45c4a5['id'],function(_0x3a96df){_0x4c8a00['material']=_0x3a96df['resource'],this['_setMateri'+'alEvent'](_0x4a136e,'remove',_0x45c4a5['id'],function(){_0x4c8a00['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x2958b6['load'](_0x45c4a5)));}['onEnable'](){var _0x34fe72;const _0xc0e1b6=this['system']['app'],_0x49a8e4=_0xc0e1b6['scene'],_0x78c3fb=_0x49a8e4==null?void(-0x1*0x331+0x55*0x58+-0x3*0x8ad):_0x49a8e4['layers'];this['_evtLayers'+'Changed']=_0x49a8e4['on']('set:layers',this['onLayersCh'+'anged'],this),_0x78c3fb&&(this['_evtLayerA'+'dded']=_0x78c3fb['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x78c3fb['on']('remove',this['onLayerRem'+'oved'],this));const _0x17fc7c=this['_type']==='asset';let _0x5225cb;if(this['_model']?this['addModelTo'+'Layers']():_0x17fc7c&&this['_asset']&&(_0x5225cb=_0xc0e1b6['assets']['get'](this['_asset']),_0x5225cb&&_0x5225cb['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x5225cb)),this['_materialA'+'sset']&&(_0x5225cb=_0xc0e1b6['assets']['get'](this['_materialA'+'sset']),_0x5225cb&&_0x5225cb['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x5225cb)),_0x17fc7c&&this['_mapping']){for(const _0x21edf4 in this['_mapping'])this['_mapping'][_0x21edf4]&&(_0x5225cb=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x21edf4]),_0x5225cb&&!_0x5225cb['resource']&&_0xc0e1b6['assets']['load'](_0x5225cb));}this['_batchGrou'+'pId']>=-0xb6f*0x2+0x1*0x1e4a+0x4*-0x1db&&((_0x34fe72=_0xc0e1b6['batcher'])==null||_0x34fe72['insert'](et['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x5db320,_0x39c41b,_0x34c9f7,_0xffb33;const _0x58271a=this['system']['app'],_0xcbe79=_0x58271a['scene']['layers'];(_0x5db320=this['_evtLayers'+'Changed'])==null||_0x5db320['off'](),this['_evtLayers'+'Changed']=null,_0xcbe79&&((_0x39c41b=this['_evtLayerA'+'dded'])==null||_0x39c41b['off'](),this['_evtLayerA'+'dded']=null,(_0x34c9f7=this['_evtLayerR'+'emoved'])==null||_0x34c9f7['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x245+0x4f*-0x35+0x12a0&&((_0xffb33=_0x58271a['batcher'])==null||_0xffb33['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x5c1020=this['_model']['meshInstan'+'ces'];for(let _0x17e065=0x175b+-0x1088+-0x6d3,_0x9574eb=_0x5c1020['length'];_0x17e065<_0x9574eb;_0x17e065++)_0x5c1020[_0x17e065]['visible']=!(-0x1*0x1634+0x199e+0x3*-0x123);}}['show'](){if(this['_model']){const _0x1e2abf=this['_model']['meshInstan'+'ces'];for(let _0x472510=0x18e*0x9+-0x1*0x184d+0xa4f,_0x5ccda3=_0x1e2abf['length'];_0x472510<_0x5ccda3;_0x472510++)_0x1e2abf[_0x472510]['visible']=!(0x11c5+-0x206e+0xea9);}}['_bindMater'+'ialAsset'](_0x125306){if(_0x125306['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x125306['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x125306['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x125306['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x125306['resource'])this['_onMateria'+'lAssetLoad'](_0x125306);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x125306);}}['_unbindMat'+'erialAsset'](_0xf88b3e){_0xf88b3e['off']('load',this['_onMateria'+'lAssetLoad'],this),_0xf88b3e['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0xf88b3e['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0xf88b3e['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x3cb5b6){this['system']['app']['assets']['off']('add:'+_0x3cb5b6['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x3cb5b6['id']&&this['_bindMater'+'ialAsset'](_0x3cb5b6);}['_onMateria'+'lAssetLoad'](_0x1a05d6){this['_setMateri'+'al'](_0x1a05d6['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x1c8f9f){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x3d0a32){this['_onMateria'+'lAssetUnlo'+'ad'](_0x3d0a32);}['_onMateria'+'lAssetChan'+'ge'](_0x515b65){}['_bindModel'+'Asset'](_0x4c5134){if(this['_unbindMod'+'elAsset'](_0x4c5134),_0x4c5134['on']('load',this['_onModelAs'+'setLoad'],this),_0x4c5134['on']('unload',this['_onModelAs'+'setUnload'],this),_0x4c5134['on']('change',this['_onModelAs'+'setChange'],this),_0x4c5134['on']('remove',this['_onModelAs'+'setRemove'],this),_0x4c5134['resource'])this['_onModelAs'+'setLoad'](_0x4c5134);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x4c5134);}}['_unbindMod'+'elAsset'](_0x27b4ff){_0x27b4ff['off']('load',this['_onModelAs'+'setLoad'],this),_0x27b4ff['off']('unload',this['_onModelAs'+'setUnload'],this),_0x27b4ff['off']('change',this['_onModelAs'+'setChange'],this),_0x27b4ff['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x59cc6b){this['system']['app']['assets']['off']('add:'+_0x59cc6b['id'],this['_onModelAs'+'setAdded'],this),_0x59cc6b['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x59cc6b);}['_onModelAs'+'setLoad'](_0x4dc92a){this['model']=_0x4dc92a['resource']['clone'](),this['_clonedMod'+'el']=!(0x1*-0x22f4+-0x7*0x53f+0x47ad);}['_onModelAs'+'setUnload'](_0xd1535){this['model']=null;}['_onModelAs'+'setChange'](_0x528377,_0xe7e523,_0x22d670,_0x785570){_0xe7e523==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x50f23a){this['model']=null;}['_setMateri'+'al'](_0x193866){if(this['_material']===_0x193866)return;this['_material']=_0x193866;const _0x21beeb=this['_model'];if(_0x21beeb&&this['_type']!=='asset'){const _0x1b0a0a=_0x21beeb['meshInstan'+'ces'];for(let _0x1b3c0c=0x49*0x61+-0x14d9+-0x6d0,_0x25226c=_0x1b0a0a['length'];_0x1b3c0c<_0x25226c;_0x1b3c0c++)_0x1b0a0a[_0x1b3c0c]['material']=_0x193866;}}}class sI{constructor(){this['enabled']=!(-0xf58+0xfed+-0x95*0x1);}}const ux=['enabled'];class iI extends Xe{constructor(_0x8b96f8){super(_0x8b96f8),this['id']='model',this['ComponentT'+'ype']=dx,this['DataType']=sI,this['schema']=ux,this['defaultMat'+'erial']=al(_0x8b96f8['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x284775,_0x316eff,_0x1cde47){_0x1cde47=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x316eff['batchGroup'+'Id']===null||_0x316eff['batchGroup'+'Id']===void(-0x12*0x13d+0x2087+-0xa3d))&&(_0x316eff['batchGroup'+'Id']=-(-0x1*0x1bad+0x7c5+0x3*0x6a3)),_0x316eff['layers']&&_0x316eff['layers']['length']&&(_0x316eff['layers']=_0x316eff['layers']['slice'](0x1*-0x4eb+0x243d*-0x1+0x1*0x2928));for(let _0x355730=-0x11bd+0x2*-0x1336+0x3829;_0x355730<_0x1cde47['length'];_0x355730++)_0x316eff['hasOwnProp'+'erty'](_0x1cde47[_0x355730])&&(_0x284775[_0x1cde47[_0x355730]]=_0x316eff[_0x1cde47[_0x355730]]);_0x316eff['aabbCenter']&&_0x316eff['aabbHalfEx'+'tents']&&(_0x284775['customAabb']=new _e(new T(_0x316eff['aabbCenter']),new T(_0x316eff['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x284775,_0x316eff,['enabled']);}['cloneCompo'+'nent'](_0x1ffc2e,_0x73b933){const _0x21c5b3={'type':_0x1ffc2e['model']['type'],'asset':_0x1ffc2e['model']['asset'],'castShadows':_0x1ffc2e['model']['castShadow'+'s'],'receiveShadows':_0x1ffc2e['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x1ffc2e['model']['castShadow'+'sLightmap'],'lightmapped':_0x1ffc2e['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x1ffc2e['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x1ffc2e['model']['isStatic'],'enabled':_0x1ffc2e['model']['enabled'],'layers':_0x1ffc2e['model']['layers'],'batchGroupId':_0x1ffc2e['model']['batchGroup'+'Id'],'mapping':vh({},_0x1ffc2e['model']['mapping'])};let _0x6d0edf=_0x1ffc2e['model']['materialAs'+'set'];!(_0x6d0edf instanceof le)&&_0x6d0edf!=null&&(_0x6d0edf=this['app']['assets']['get'](_0x6d0edf));const _0x11fd54=_0x1ffc2e['model']['material'];(!_0x11fd54||_0x11fd54===this['defaultMat'+'erial']||!_0x6d0edf||_0x11fd54===_0x6d0edf['resource'])&&(_0x21c5b3['materialAs'+'set']=_0x6d0edf);const _0x503155=this['addCompone'+'nt'](_0x73b933,_0x21c5b3);if(_0x1ffc2e['model']['model']&&_0x1ffc2e['model']['type']==='asset'&&!_0x1ffc2e['model']['asset']&&(_0x503155['model']=_0x1ffc2e['model']['model']['clone'](),_0x503155['_clonedMod'+'el']=!(0x47b+-0x8*0x20b+-0xbdd*-0x1)),_0x21c5b3['materialAs'+'set']||(_0x503155['material']=_0x11fd54),_0x1ffc2e['model']['model']){const _0x2322f5=_0x1ffc2e['model']['model']['meshInstan'+'ces'],_0x53031b=_0x503155['model']['meshInstan'+'ces'];for(let _0x46ea18=0xaf9*-0x1+0x4fd*-0x4+0x1eed;_0x46ea18<_0x2322f5['length'];_0x46ea18++)_0x53031b[_0x46ea18]['mask']=_0x2322f5[_0x46ea18]['mask'],_0x53031b[_0x46ea18]['material']=_0x2322f5[_0x46ea18]['material'],_0x53031b[_0x46ea18]['layer']=_0x2322f5[_0x46ea18]['layer'],_0x53031b[_0x46ea18]['receiveSha'+'dow']=_0x2322f5[_0x46ea18]['receiveSha'+'dow'];}return _0x1ffc2e['model']['customAabb']&&(_0x503155['customAabb']=_0x1ffc2e['model']['customAabb']['clone']()),_0x503155;}['onRemove'](_0x5a23b9,_0x5fb637){_0x5fb637['onRemove']();}}ue['_buildAcce'+'ssors'](dx['prototype'],ux);const rI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],nI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],aI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Zl=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Hn;class oI extends ue{constructor(_0x8ba443,_0xe8f85f){super(_0x8ba443,_0xe8f85f),c(this,'_requested'+'Depth',!(-0xbba+0xb*0x167+-0x2*0x1d9)),c(this,'_drawOrder',-0x593+-0x1665+0x2cc*0xa),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),rI['forEach'](_0x1eadce=>{this['on']('set_'+_0x1eadce,this['onSetSimpl'+'eProperty'],this);}),nI['forEach'](_0x4a9bc2=>{this['on']('set_'+_0x4a9bc2,this['onSetCompl'+'exProperty'],this);}),aI['forEach'](_0x4c9643=>{this['on']('set_'+_0x4c9643,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x57f84c=this['system']['store'][this['entity']['getGuid']()];return _0x57f84c?_0x57f84c['data']:null;}set['enabled'](_0x222cbc){this['_setValue']('enabled',_0x222cbc);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x141784){this['_setValue']('autoPlay',_0x141784);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x6f81d0){this['_setValue']('numParticl'+'es',_0x6f81d0);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x23b786){this['_setValue']('lifetime',_0x23b786);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x2a939f){this['_setValue']('rate',_0x2a939f);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x483e03){this['_setValue']('rate2',_0x483e03);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x2d17c6){this['_setValue']('startAngle',_0x2d17c6);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x53e146){this['_setValue']('startAngle'+'2',_0x53e146);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x10acb3){this['_setValue']('loop',_0x10acb3);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0xc10a7f){this['_setValue']('preWarm',_0xc10a7f);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x11ac4d){this['_setValue']('lighting',_0x11ac4d);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x299fab){this['_setValue']('halfLamber'+'t',_0x299fab);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0xdb3deb){this['_setValue']('intensity',_0xdb3deb);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x20c485){this['_setValue']('depthWrite',_0x20c485);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x3d86c6){this['_setValue']('noFog',_0x3d86c6);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x5ab6c1){this['_setValue']('depthSofte'+'ning',_0x5ab6c1);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x1c9601){this['_setValue']('sort',_0x1c9601);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x5ac6eb){this['_setValue']('blendType',_0x5ac6eb);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0xbff652){this['_setValue']('stretch',_0xbff652);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x57fc68){this['_setValue']('alignToMot'+'ion',_0x57fc68);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x5e5c17){this['_setValue']('emitterSha'+'pe',_0x5e5c17);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x1576f6){this['_setValue']('emitterExt'+'ents',_0x1576f6);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x5050ba){this['_setValue']('emitterExt'+'entsInner',_0x5050ba);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x57fd17){this['_setValue']('emitterRad'+'ius',_0x57fd17);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x10be00){this['_setValue']('emitterRad'+'iusInner',_0x10be00);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x23d0fe){this['_setValue']('initialVel'+'ocity',_0x23d0fe);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x41f9dc){this['_setValue']('wrap',_0x41f9dc);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x29ed41){this['_setValue']('wrapBounds',_0x29ed41);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x50ed79){this['_setValue']('localSpace',_0x50ed79);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x406584){this['_setValue']('screenSpac'+'e',_0x406584);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x19c674){this['_setValue']('colorMapAs'+'set',_0x19c674);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0xbbcc79){this['_setValue']('normalMapA'+'sset',_0xbbcc79);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0xe4d793){this['_setValue']('mesh',_0xe4d793);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x1fa9b4){this['_setValue']('meshAsset',_0x1fa9b4);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x5750da){this['_setValue']('renderAsse'+'t',_0x5750da);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x408b18){this['_setValue']('orientatio'+'n',_0x408b18);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x1db58a){this['_setValue']('particleNo'+'rmal',_0x1db58a);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x354a64){this['_setValue']('localVeloc'+'ityGraph',_0x354a64);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x4bcdf5){this['_setValue']('localVeloc'+'ityGraph2',_0x4bcdf5);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x3a9eaa){this['_setValue']('velocityGr'+'aph',_0x3a9eaa);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x12acb3){this['_setValue']('velocityGr'+'aph2',_0x12acb3);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x23b7f4){this['_setValue']('rotationSp'+'eedGraph',_0x23b7f4);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x4e7e27){this['_setValue']('rotationSp'+'eedGraph2',_0x4e7e27);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x4b64a6){this['_setValue']('radialSpee'+'dGraph',_0x4b64a6);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x2ff035){this['_setValue']('radialSpee'+'dGraph2',_0x2ff035);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x6923f5){this['_setValue']('scaleGraph',_0x6923f5);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x1b6467){this['_setValue']('scaleGraph'+'2',_0x1b6467);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x427e15){this['_setValue']('colorGraph',_0x427e15);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x2aad5c){this['_setValue']('colorGraph'+'2',_0x2aad5c);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x178038){this['_setValue']('alphaGraph',_0x178038);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x334799){this['_setValue']('alphaGraph'+'2',_0x334799);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x439870){this['_setValue']('colorMap',_0x439870);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x207e5a){this['_setValue']('normalMap',_0x207e5a);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x206fce){this['_setValue']('animTilesX',_0x206fce);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x47e2d5){this['_setValue']('animTilesY',_0x47e2d5);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x13660b){this['_setValue']('animStartF'+'rame',_0x13660b);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x3fa619){this['_setValue']('animNumFra'+'mes',_0x3fa619);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x4bee68){this['_setValue']('animNumAni'+'mations',_0x4bee68);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x56d14e){this['_setValue']('animIndex',_0x56d14e);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x4798b6){this['_setValue']('randomizeA'+'nimIndex',_0x4798b6);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x3f3b44){this['_setValue']('animSpeed',_0x3f3b44);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x3118c3){this['_setValue']('animLoop',_0x3118c3);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x52742d){this['_setValue']('layers',_0x52742d);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x56285b){this['_drawOrder']=_0x56285b,this['emitter']&&(this['emitter']['drawOrder']=_0x56285b);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x2cb1f2,_0x1a4d2d){const _0x5cc820=this['data'],_0x554800=_0x5cc820[_0x2cb1f2];_0x5cc820[_0x2cb1f2]=_0x1a4d2d,this['fire']('set',_0x2cb1f2,_0x554800,_0x1a4d2d);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x2d46c6=0xa2*-0x1e+-0xcf8+0x1ff4;_0x2d46c6<this['layers']['length'];_0x2d46c6++){const _0x148b61=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2d46c6]);_0x148b61&&(_0x148b61['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x148b61);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x468cc2=0x2102+-0x2267+-0x7*-0x33;_0x468cc2<this['layers']['length'];_0x468cc2++){const _0x2f067=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x468cc2]);_0x2f067&&_0x2f067['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x23ea46,_0x2f70cf,_0x1fc713){if(this['emitter']){for(let _0x147012=0x5b7*-0x3+0x1*0x140+0xfe5*0x1;_0x147012<_0x2f70cf['length'];_0x147012++){const _0x4d9a1e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2f70cf[_0x147012]);_0x4d9a1e&&_0x4d9a1e['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x14640d=-0x77*0x5+-0x6e4*0x1+0x937;_0x14640d<_0x1fc713['length'];_0x14640d++){const _0x50fa96=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x1fc713[_0x14640d]);_0x50fa96&&_0x50fa96['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x40ccae,_0x38c875){this['addMeshIns'+'tanceToLay'+'ers'](),_0x40ccae['off']('add',this['onLayerAdd'+'ed'],this),_0x40ccae['off']('remove',this['onLayerRem'+'oved'],this),_0x38c875['on']('add',this['onLayerAdd'+'ed'],this),_0x38c875['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x390256){!this['emitter']||this['layers']['indexOf'](_0x390256['id'])<0x158b+0x1bd*0x16+-0x3bc9||_0x390256['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x4feed7){!this['emitter']||this['layers']['indexOf'](_0x4feed7['id'])<0x6*-0x5f1+-0x14f*-0x1d+0x1*-0x24d||_0x4feed7['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0xb09436){if(_0xb09436['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0xb09436['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0xb09436['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0xb09436['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0xb09436['resource'])this['_onColorMa'+'pAssetLoad'](_0xb09436);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xb09436);}}['_unbindCol'+'orMapAsset'](_0x153e26){_0x153e26['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x153e26['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x153e26['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x153e26['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x3918ad){this['colorMap']=_0x3918ad['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x38d315){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x2aa08f){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x2aa08f);}['_onColorMa'+'pAssetChan'+'ge'](_0x1a1dbf){}['onSetColor'+'MapAsset'](_0x423eda,_0x30d1b5,_0x49c0ed){const _0x3eef0e=this['system']['app']['assets'];if(_0x30d1b5){const _0x3ae2ff=_0x3eef0e['get'](_0x30d1b5);_0x3ae2ff&&this['_unbindCol'+'orMapAsset'](_0x3ae2ff);}if(_0x49c0ed){_0x49c0ed instanceof le&&(this['data']['colorMapAs'+'set']=_0x49c0ed['id'],_0x49c0ed=_0x49c0ed['id']);const _0x175a1e=_0x3eef0e['get'](_0x49c0ed);_0x175a1e?this['_bindColor'+'MapAsset'](_0x175a1e):_0x3eef0e['once']('add:'+_0x49c0ed,_0x7801bd=>{this['_bindColor'+'MapAsset'](_0x7801bd);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x17a7ab){if(_0x17a7ab['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x17a7ab['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x17a7ab['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x17a7ab['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x17a7ab['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x17a7ab);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x17a7ab);}}['_unbindNor'+'malMapAsse'+'t'](_0x5e16ee){_0x5e16ee['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x5e16ee['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x5e16ee['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x5e16ee['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x6ef240){this['normalMap']=_0x6ef240['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x24b065){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x53afb8){this['_onNormalM'+'apAssetUnl'+'oad'](_0x53afb8);}['_onNormalM'+'apAssetCha'+'nge'](_0x1cee49){}['onSetNorma'+'lMapAsset'](_0x141f46,_0x1ad6d7,_0x365bb2){const _0x18d1d2=this['system']['app']['assets'];if(_0x1ad6d7){const _0x366d46=_0x18d1d2['get'](_0x1ad6d7);_0x366d46&&this['_unbindNor'+'malMapAsse'+'t'](_0x366d46);}if(_0x365bb2){_0x365bb2 instanceof le&&(this['data']['normalMapA'+'sset']=_0x365bb2['id'],_0x365bb2=_0x365bb2['id']);const _0x59dee5=_0x18d1d2['get'](_0x365bb2);_0x59dee5?this['_bindNorma'+'lMapAsset'](_0x59dee5):_0x18d1d2['once']('add:'+_0x365bb2,_0x251c35=>{this['_bindNorma'+'lMapAsset'](_0x251c35);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x267fef){if(_0x267fef['on']('load',this['_onMeshAss'+'etLoad'],this),_0x267fef['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x267fef['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x267fef['on']('change',this['_onMeshAss'+'etChange'],this),_0x267fef['resource'])this['_onMeshAss'+'etLoad'](_0x267fef);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x267fef);}}['_unbindMes'+'hAsset'](_0xc044a0){_0xc044a0['off']('load',this['_onMeshAss'+'etLoad'],this),_0xc044a0['off']('unload',this['_onMeshAss'+'etUnload'],this),_0xc044a0['off']('remove',this['_onMeshAss'+'etRemove'],this),_0xc044a0['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x5e88e1){this['_onMeshCha'+'nged'](_0x5e88e1['resource']);}['_onMeshAss'+'etUnload'](_0x581828){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x3a2740){this['_onMeshAss'+'etUnload'](_0x3a2740);}['_onMeshAss'+'etChange'](_0xab913f){}['onSetMeshA'+'sset'](_0x100a69,_0x555fe4,_0x39313b){const _0x231bb9=this['system']['app']['assets'];if(_0x555fe4){const _0x1522b0=_0x231bb9['get'](_0x555fe4);_0x1522b0&&this['_unbindMes'+'hAsset'](_0x1522b0);}if(_0x39313b){_0x39313b instanceof le&&(this['data']['meshAsset']=_0x39313b['id'],_0x39313b=_0x39313b['id']);const _0x41f8c2=_0x231bb9['get'](_0x39313b);_0x41f8c2&&this['_bindMeshA'+'sset'](_0x41f8c2);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x596442,_0x1608f4,_0x2f43a2){!_0x2f43a2||_0x2f43a2 instanceof le||typeof _0x2f43a2=='number'?this['meshAsset']=_0x2f43a2:this['_onMeshCha'+'nged'](_0x2f43a2);}['_onMeshCha'+'nged'](_0x322034){_0x322034&&!(_0x322034 instanceof Ie)&&(_0x322034['meshInstan'+'ces'][0x2235+-0x300+-0x3*0xa67]?_0x322034=_0x322034['meshInstan'+'ces'][-0x18a*0x14+0x1f13+-0x3*0x19]['mesh']:_0x322034=null),this['data']['mesh']=_0x322034,this['emitter']&&(this['emitter']['mesh']=_0x322034,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x1bc3a4,_0x3fdbae,_0x41b626){const _0x58897c=this['system']['app']['assets'];if(_0x3fdbae){const _0x1eb142=_0x58897c['get'](_0x3fdbae);_0x1eb142&&this['_unbindRen'+'derAsset'](_0x1eb142);}if(_0x41b626){_0x41b626 instanceof le&&(this['data']['renderAsse'+'t']=_0x41b626['id'],_0x41b626=_0x41b626['id']);const _0x4852b5=_0x58897c['get'](_0x41b626);_0x4852b5&&this['_bindRende'+'rAsset'](_0x4852b5);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x10e8ab){if(_0x10e8ab['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x10e8ab['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x10e8ab['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x10e8ab['resource'])this['_onRenderA'+'ssetLoad'](_0x10e8ab);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x10e8ab);}}['_unbindRen'+'derAsset'](_0x292662){var _0x3a5595;_0x292662['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x292662['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x292662['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x3a5595=this['_evtSetMes'+'hes'])==null||_0x3a5595['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x2067ff){this['_onRenderC'+'hanged'](_0x2067ff['resource']);}['_onRenderA'+'ssetUnload'](_0x5ec33a){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x5bfd39){this['_onRenderA'+'ssetUnload'](_0x5bfd39);}['_onRenderC'+'hanged'](_0x2a168d){var _0x3889ef;if(!_0x2a168d){this['_onMeshCha'+'nged'](null);return;}(_0x3889ef=this['_evtSetMes'+'hes'])==null||_0x3889ef['off'](),this['_evtSetMes'+'hes']=_0x2a168d['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x2a168d['meshes']&&this['_onRenderS'+'etMeshes'](_0x2a168d['meshes']);}['_onRenderS'+'etMeshes'](_0x1ea8fd){this['_onMeshCha'+'nged'](_0x1ea8fd&&_0x1ea8fd[-0x19f1+0x6*0x69+0x1*0x177b]);}['onSetLoop'](_0x4824ae,_0x3206fa,_0xc5edaa){this['emitter']&&(this['emitter'][_0x4824ae]=_0xc5edaa,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x54778a,_0x4bdad3,_0x5db618){this['emitter']&&(this['emitter'][_0x54778a]=_0x5db618,this['emitter']['material']['blendType']=_0x5db618,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Hn||(Hn=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt)),Hn&&(Hn['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x2*-0x1379+0x1*-0x1def+-0x44e1*-0x1)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Hn&&(Hn['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x219b+0xd*0x239+-0x3*0x14d5));}['onSetDepth'+'Softening'](_0x24fbb7,_0x2ec75a,_0xcc7ff){_0x2ec75a!==_0xcc7ff&&(_0xcc7ff?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x24fbb7]=_0xcc7ff)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x24fbb7]=_0xcc7ff)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x3067d6,_0x418bee,_0x3420ca){this['emitter']&&(this['emitter'][_0x3067d6]=_0x3420ca,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x55efc6,_0x570a6d,_0x2a0ce8){this['emitter']&&(this['emitter'][_0x55efc6]=_0x2a0ce8,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x12391f,_0x4879c9,_0xd1ce3e){this['emitter']&&(this['emitter'][_0x12391f]=_0xd1ce3e,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x4f919a=this['system']['app']['scene'],_0x50ebe4=_0x4f919a['layers'],_0x531f9f=this['data'];for(let _0x53ed0c=0x35*-0x6d+0x12b+0xf9*0x16,_0xd441a4=Zl['length'];_0x53ed0c<_0xd441a4;_0x53ed0c++){let _0x4fc596=_0x531f9f[Zl[_0x53ed0c]];if(_0x4fc596){if(!(_0x4fc596 instanceof le)){if(parseInt(_0x4fc596,-0x33b*-0x1+-0x4*0x80f+-0x1d0b*-0x1)>=0x1*0x2221+0x1*-0x1f45+-0xc*0x3d)_0x4fc596=this['system']['app']['assets']['get'](_0x4fc596);else continue;}_0x4fc596&&!_0x4fc596['resource']&&this['system']['app']['assets']['load'](_0x4fc596);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x3a4a7b=_0x531f9f['mesh'];_0x3a4a7b instanceof Ie||(_0x3a4a7b=null),this['emitter']=new d1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x531f9f['numParticl'+'es'],'emitterExtents':_0x531f9f['emitterExt'+'ents'],'emitterExtentsInner':_0x531f9f['emitterExt'+'entsInner'],'emitterRadius':_0x531f9f['emitterRad'+'ius'],'emitterRadiusInner':_0x531f9f['emitterRad'+'iusInner'],'emitterShape':_0x531f9f['emitterSha'+'pe'],'initialVelocity':_0x531f9f['initialVel'+'ocity'],'wrap':_0x531f9f['wrap'],'localSpace':_0x531f9f['localSpace'],'screenSpace':_0x531f9f['screenSpac'+'e'],'wrapBounds':_0x531f9f['wrapBounds'],'lifetime':_0x531f9f['lifetime'],'rate':_0x531f9f['rate'],'rate2':_0x531f9f['rate2'],'orientation':_0x531f9f['orientatio'+'n'],'particleNormal':_0x531f9f['particleNo'+'rmal'],'animTilesX':_0x531f9f['animTilesX'],'animTilesY':_0x531f9f['animTilesY'],'animStartFrame':_0x531f9f['animStartF'+'rame'],'animNumFrames':_0x531f9f['animNumFra'+'mes'],'animNumAnimations':_0x531f9f['animNumAni'+'mations'],'animIndex':_0x531f9f['animIndex'],'randomizeAnimIndex':_0x531f9f['randomizeA'+'nimIndex'],'animSpeed':_0x531f9f['animSpeed'],'animLoop':_0x531f9f['animLoop'],'startAngle':_0x531f9f['startAngle'],'startAngle2':_0x531f9f['startAngle'+'2'],'scaleGraph':_0x531f9f['scaleGraph'],'scaleGraph2':_0x531f9f['scaleGraph'+'2'],'colorGraph':_0x531f9f['colorGraph'],'colorGraph2':_0x531f9f['colorGraph'+'2'],'alphaGraph':_0x531f9f['alphaGraph'],'alphaGraph2':_0x531f9f['alphaGraph'+'2'],'localVelocityGraph':_0x531f9f['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x531f9f['localVeloc'+'ityGraph2'],'velocityGraph':_0x531f9f['velocityGr'+'aph'],'velocityGraph2':_0x531f9f['velocityGr'+'aph2'],'rotationSpeedGraph':_0x531f9f['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x531f9f['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x531f9f['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x531f9f['radialSpee'+'dGraph2'],'colorMap':_0x531f9f['colorMap'],'normalMap':_0x531f9f['normalMap'],'loop':_0x531f9f['loop'],'preWarm':_0x531f9f['preWarm'],'sort':_0x531f9f['sort'],'stretch':_0x531f9f['stretch'],'alignToMotion':_0x531f9f['alignToMot'+'ion'],'lighting':_0x531f9f['lighting'],'halfLambert':_0x531f9f['halfLamber'+'t'],'intensity':_0x531f9f['intensity'],'depthSoftening':_0x531f9f['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x3a4a7b,'depthWrite':_0x531f9f['depthWrite'],'noFog':_0x531f9f['noFog'],'node':this['entity'],'blendType':_0x531f9f['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x531f9f['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0xbc2+-0x579+0x4*0x44f));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x4f919a['on']('set:layers',this['onLayersCh'+'anged'],this),_0x50ebe4&&(this['_evtLayerA'+'dded']=_0x50ebe4['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x50ebe4['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x531f9f['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x18d61d,_0x1ea2f9,_0x378310;const _0x4fd780=this['system']['app']['scene']['layers'];(_0x18d61d=this['_evtLayers'+'Changed'])==null||_0x18d61d['off'](),this['_evtLayers'+'Changed']=null,_0x4fd780&&((_0x1ea2f9=this['_evtLayerA'+'dded'])==null||_0x1ea2f9['off'](),this['_evtLayerA'+'dded']=null,(_0x378310=this['_evtLayerR'+'emoved'])==null||_0x378310['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(0x1*-0x6fb+0x13d8*0x1+0x1*-0xcdc)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x5b5fa6=0x1fd8+-0xc31*0x1+-0x13a7;_0x5b5fa6<Zl['length'];_0x5b5fa6++){const _0x3a7890=Zl[_0x5b5fa6];this['data'][_0x3a7890]&&(this[_0x3a7890]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0x2*-0xcff+-0x1fdb+0x5de),this['emitter']['resetTime'](),this['emitter']['addTime'](-0x187*0x4+0xf5b+-0x93f,!(-0x9*0x2af+-0x1*-0x1191+0x696)));}['pause'](){this['data']['paused']=!(-0x17b0*-0x1+0x1*0x1e99+-0x3649);}['unpause'](){this['data']['paused']=!(-0x1217+0x35b*-0x3+0x1c29);}['play'](){this['data']['paused']=!(0x2*-0x1271+0x68+0x247b),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0x2*-0x13+-0x11fe+0x11d8),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0x1*0x1d92+0x5*-0x7cd+0x54*0xd1):this['emitter']&&this['emitter']['loop']?!(0x86*0x4+0x1010+-0x8*0x245):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x4a09aa}=this;_0x4a09aa&&!_0x4a09aa['inTools']&&(_0x4a09aa['inTools']=!(-0x26c1+-0xb4+-0x5b*-0x6f),this['rebuild']());}['rebuild'](){const _0x278634=this['enabled'];this['enabled']=!(0x1e14+0x1*-0x895+-0x83*0x2a),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x278634;}}class lI{constructor(){this['numParticl'+'es']=0x262d*-0x1+-0x26aa+0x2*0x266c,this['rate']=-0x102a+0x1daf+-0xd84,this['rate2']=null,this['startAngle']=0x2139+-0x97*-0x11+-0xad*0x40,this['startAngle'+'2']=null,this['lifetime']=-0x11a4*-0x2+0x1*0x1048+-0x335e,this['emitterExt'+'ents']=new T(),this['emitterExt'+'entsInner']=new T(),this['emitterRad'+'ius']=0x143*0x1+-0x53*0x10+0x3ed*0x1,this['emitterRad'+'iusInner']=0x165+0x1bff+0x4c*-0x63,this['emitterSha'+'pe']=Vs,this['initialVel'+'ocity']=0x1977*0x1+0x333+-0x1caa,this['wrap']=!(-0x1*-0x1e0c+-0x18c0+0x5*-0x10f),this['wrapBounds']=new T(),this['localSpace']=!(-0x249a*-0x1+-0x1*-0xfb3+0x1*-0x344c),this['screenSpac'+'e']=!(-0xa01*-0x1+0x3*-0x50c+-0x1c*-0x2f),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x4c2+0x12f3+-0x7e7*0x3),this['preWarm']=!(0x14b+0xe9*0x1a+0xc7a*-0x2),this['sort']=0x2*-0xce+0x5*-0x385+0x21*0x95,this['mode']=d0,this['scene']=null,this['lighting']=!(0x1936+-0xd1*0x3+-0x16c2),this['halfLamber'+'t']=!(-0x3d3*0x6+-0x491+0x1b84),this['intensity']=0x7*-0x332+0x1352+0x30d,this['stretch']=0x2468+0x19*0x4f+-0x2c1f,this['alignToMot'+'ion']=!(0x8e3+0x9e3+-0x12c5),this['depthSofte'+'ning']=0x22a8+0x109f+-0x3347,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0x1acf+-0x431+0x1f01),this['noFog']=!(0x205+0xaf5+0x3*-0x453),this['orientatio'+'n']=Uh,this['particleNo'+'rmal']=new T(0x39*0x2f+-0x20e*0x1+-0x869*0x1,0xce6*-0x3+0x1*-0xfaa+0x1*0x365d,-0x43*0x2f+-0x1ccb+0x2918),this['animTilesX']=0x851*-0x1+-0x773*-0x1+0xdf*0x1,this['animTilesY']=-0x10a7+-0x1774+-0x140e*-0x2,this['animStartF'+'rame']=0x13*0x120+0xa43+0x5b*-0x59,this['animNumFra'+'mes']=-0x464+0xee1+-0xa7c,this['animNumAni'+'mations']=-0x1975+-0x236d+0x8f*0x6d,this['animIndex']=-0xcf*-0x2d+-0x1b5e+-0x905*0x1,this['randomizeA'+'nimIndex']=!(-0x146f+-0xc1b+0x208b),this['animSpeed']=0x3*0x871+0x24ab+0x3dfd*-0x1,this['animLoop']=!(-0x46d+0x1*0xac9+-0x65c),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Kt,this['enabled']=!(0x454+-0x1d*0x1+-0x437),this['paused']=!(-0x1*-0x2e7+-0x5*-0x327+-0x12a9),this['autoPlay']=!(0xc36*0x3+0x17f3+-0x3c95*0x1),this['layers']=[Fi];}}const hI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class cI extends Xe{constructor(_0x4c8e44){super(_0x4c8e44),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=oI,this['DataType']=lI,this['schema']=hI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x25df60,_0x35860f,_0x4728c3){const _0x2eff3a={};_0x4728c3=[];const _0x457f51=this['propertyTy'+'pes'];(_0x35860f['mesh']instanceof le||typeof _0x35860f['mesh']=='number')&&(_0x35860f['meshAsset']=_0x35860f['mesh'],delete _0x35860f['mesh']);for(const _0x3a7014 in _0x35860f){if(_0x35860f['hasOwnProp'+'erty'](_0x3a7014)&&(_0x4728c3['push'](_0x3a7014),_0x2eff3a[_0x3a7014]=_0x35860f[_0x3a7014]),_0x457f51[_0x3a7014]==='vec3')Array['isArray'](_0x2eff3a[_0x3a7014])&&(_0x2eff3a[_0x3a7014]=new T(_0x2eff3a[_0x3a7014][-0x1bc5+-0x11fb+0x2dc0],_0x2eff3a[_0x3a7014][-0x24a7+-0x98a+-0x92*-0x51],_0x2eff3a[_0x3a7014][-0x109*-0x19+-0x194c+0x7*-0x15]));else{if(_0x457f51[_0x3a7014]==='curve'){if(!(_0x2eff3a[_0x3a7014]instanceof Cs)){const _0x9e2bdd=_0x2eff3a[_0x3a7014]['type'];_0x2eff3a[_0x3a7014]=new Cs(_0x2eff3a[_0x3a7014]['keys']),_0x2eff3a[_0x3a7014]['type']=_0x9e2bdd;}}else{if(_0x457f51[_0x3a7014]==='curveset'&&!(_0x2eff3a[_0x3a7014]instanceof jr)){const _0x331966=_0x2eff3a[_0x3a7014]['type'];_0x2eff3a[_0x3a7014]=new jr(_0x2eff3a[_0x3a7014]['keys']),_0x2eff3a[_0x3a7014]['type']=_0x331966;}}}_0x2eff3a['layers']&&Array['isArray'](_0x2eff3a['layers'])&&(_0x2eff3a['layers']=_0x2eff3a['layers']['slice'](0x1*0x21e+-0x1*-0x141f+0x1*-0x163d));}super['initialize'+'ComponentD'+'ata'](_0x25df60,_0x2eff3a,_0x4728c3);}['cloneCompo'+'nent'](_0x1be472,_0x4b0a0d){const _0x54b7d4=_0x1be472['particlesy'+'stem']['data'],_0x11f676=this['schema'],_0xe14a5c={};for(let _0x1a3d68=-0x1*0x170b+-0x2ca+0x19d5*0x1,_0x47dd09=_0x11f676['length'];_0x1a3d68<_0x47dd09;_0x1a3d68++){const _0xf822ba=_0x11f676[_0x1a3d68];let _0x455bc4=_0x54b7d4[_0xf822ba];_0x455bc4 instanceof T||_0x455bc4 instanceof Cs||_0x455bc4 instanceof jr?(_0x455bc4=_0x455bc4['clone'](),_0xe14a5c[_0xf822ba]=_0x455bc4):_0xf822ba==='layers'?_0xe14a5c['layers']=_0x54b7d4['layers']['slice'](-0x1480+0x1c6e+0x46*-0x1d):_0x455bc4!=null&&(_0xe14a5c[_0xf822ba]=_0x455bc4);}return this['addCompone'+'nt'](_0x4b0a0d,_0xe14a5c);}['onUpdate'](_0x72fa72){const _0x169be9=this['store'];let _0x59396d;const _0x540bd4=this['app']['stats']['particles'],_0x2274f0=this['app']['scene']['layers'];for(let _0x207a2f=-0xa0e+-0x1cdc+0x2*0x1375;_0x207a2f<_0x2274f0['layerList']['length'];_0x207a2f++)_0x2274f0['layerList'][_0x207a2f]['requiresLi'+'ghtCube']=!(-0x1*-0x1387+0xba7+-0x1*0x1f2d);for(const _0x232299 in _0x169be9)if(_0x169be9['hasOwnProp'+'erty'](_0x232299)){const _0x115972=_0x169be9[_0x232299],_0x2c764c=_0x115972['entity'],_0x5d4571=_0x115972['data'];if(_0x5d4571['enabled']&&_0x2c764c['enabled']){const _0x663c3d=_0x2c764c['particlesy'+'stem']['emitter'];if(!(_0x663c3d!=null&&_0x663c3d['meshInstan'+'ce']['visible']))continue;if(_0x663c3d['lighting']){const _0x4db38c=_0x5d4571['layers'];for(let _0x331b48=0x2*0xf76+-0x5*0x5bb+0x53*-0x7;_0x331b48<_0x4db38c['length'];_0x331b48++){const _0x5ea5ff=_0x2274f0['getLayerBy'+'Id'](_0x4db38c[_0x331b48]);_0x5ea5ff&&(_0x5ea5ff['requiresLi'+'ghtCube']=!(0x105*0x6+-0x4e*0x56+0x1416*0x1));}}if(!_0x5d4571['paused']){if(_0x663c3d['simTime']+=_0x72fa72,_0x663c3d['simTime']>_0x663c3d['fixedTimeS'+'tep']&&(_0x59396d=Math['floor'](_0x663c3d['simTime']/_0x663c3d['fixedTimeS'+'tep']),_0x663c3d['simTime']-=_0x59396d*_0x663c3d['fixedTimeS'+'tep']),_0x59396d){_0x59396d=Math['min'](_0x59396d,_0x663c3d['maxSubStep'+'s']);for(let _0x59c90f=0xa*-0x32b+0x30c+0x1ca2;_0x59c90f<_0x59396d;_0x59c90f++)_0x663c3d['addTime'](_0x663c3d['fixedTimeS'+'tep'],!(0x84c*0x3+-0x1e49*-0x1+-0x372c));_0x540bd4['_updatesPe'+'rFrame']+=_0x59396d,_0x540bd4['_frameTime']+=_0x663c3d['_addTimeTi'+'me'],_0x663c3d['_addTimeTi'+'me']=0x1*-0x404+-0x1aca+0x1ece;}_0x663c3d['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x47bf61,_0x4dd207){_0x4dd207['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class dI extends Gc{constructor(_0x50e10b,_0x429e89){super(),this['skin']=_0x50e10b,this['skinInstan'+'ce']=_0x429e89;}}const bs=class bs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),bs['_skinInsta'+'nceCache']['forEach']((_0x104d07,_0xa4ca4b)=>{console['log'](_0xa4ca4b['name']+':\x20Array('+_0x104d07['length']+')');for(let _0x25f2a4=-0x591+0xda3*-0x1+-0x4*-0x4cd;_0x25f2a4<_0x104d07['length'];_0x25f2a4++)console['log']('\x20\x20'+_0x25f2a4+(':\x20RefCount'+'\x20')+_0x104d07[_0x25f2a4]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x34aa7c,_0x639c94,_0x23c474){let _0x335286=bs['getCachedS'+'kinInstanc'+'e'](_0x34aa7c,_0x639c94);return _0x335286||(_0x335286=new nl(_0x34aa7c),_0x335286['resolve'](_0x639c94,_0x23c474),bs['addCachedS'+'kinInstanc'+'e'](_0x34aa7c,_0x639c94,_0x335286)),_0x335286;}static['getCachedS'+'kinInstanc'+'e'](_0x542a00,_0x58d392){let _0x197fce=null;const _0x14fe02=bs['_skinInsta'+'nceCache']['get'](_0x58d392);if(_0x14fe02){const _0x2629ba=_0x14fe02['find'](_0x2cf623=>_0x2cf623['skin']===_0x542a00);_0x2629ba&&(_0x2629ba['incRefCoun'+'t'](),_0x197fce=_0x2629ba['skinInstan'+'ce']);}return _0x197fce;}static['addCachedS'+'kinInstanc'+'e'](_0x2155ba,_0x50ed55,_0x15f711){let _0x1673a7=bs['_skinInsta'+'nceCache']['get'](_0x50ed55);_0x1673a7||(_0x1673a7=[],bs['_skinInsta'+'nceCache']['set'](_0x50ed55,_0x1673a7));let _0x29a888=_0x1673a7['find'](_0x50c191=>_0x50c191['skin']===_0x2155ba);_0x29a888||(_0x29a888=new dI(_0x2155ba,_0x15f711),_0x1673a7['push'](_0x29a888)),_0x29a888['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x3914f6){if(_0x3914f6){const _0x46794d=_0x3914f6['rootBone'];if(_0x46794d){const _0x18765b=bs['_skinInsta'+'nceCache']['get'](_0x46794d);if(_0x18765b){const _0x4eadb0=_0x18765b['findIndex'](_0x5ec208=>_0x5ec208['skinInstan'+'ce']===_0x3914f6);if(_0x4eadb0>=0x166a+0x96c+-0x1fd6){const _0x14e818=_0x18765b[_0x4eadb0];_0x14e818['decRefCoun'+'t'](),_0x14e818['refCount']===0xfad+-0x5*0x449+-0x5c0*-0x1&&(_0x18765b['splice'](_0x4eadb0,0x2*-0xfcb+-0x5ed+0x7*0x55c),_0x18765b['length']||bs['_skinInsta'+'nceCache']['delete'](_0x46794d),_0x3914f6&&(_0x3914f6['destroy'](),_0x14e818['skinInstan'+'ce']=null));}}}}}};c(bs,'_skinInsta'+'nceCache',new Map());let Vo=bs;class Go{constructor(_0x375c7a,_0x11399f,_0x1ab94f,_0x5ded29,_0x41dc1a){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x375c7a,this['parent']=_0x11399f,this['_scope']=_0x41dc1a,this['_registry']=_0x1ab94f,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x5ded29['load'],this['_onAssetAd'+'d']=_0x5ded29['add'],this['_onAssetRe'+'move']=_0x5ded29['remove'],this['_onAssetUn'+'load']=_0x5ded29['unload']);}set['id'](_0x2d8e6c){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x2d8e6c,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x2348ee){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x2348ee,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0xdd33b0,_0x25eca0,_0x3fdf7b,_0x35e608,_0x504497,_0x5f42e4,_0x58f14c;this['id']&&((_0xdd33b0=this['_evtLoadBy'+'Id'])==null||_0xdd33b0['off'](),this['_evtLoadBy'+'Id']=null,(_0x25eca0=this['_evtAddByI'+'d'])==null||_0x25eca0['off'](),this['_evtAddByI'+'d']=null,(_0x3fdf7b=this['_evtRemove'+'ById'])==null||_0x3fdf7b['off'](),this['_evtRemove'+'ById']=null,(_0x35e608=this['_evtUnload'+'ById'])==null||_0x35e608['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x504497=this['_evtLoadBy'+'Url'])==null||_0x504497['off'](),this['_evtLoadBy'+'Url']=null,(_0x5f42e4=this['_evtAddByU'+'rl'])==null||_0x5f42e4['off'](),this['_evtAddByU'+'rl']=null,(_0x58f14c=this['_evtRemove'+'ByUrl'])==null||_0x58f14c['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x2ce0a2){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x2ce0a2);}['_onAdd'](_0x3f0c9f){this['asset']=_0x3f0c9f,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x3f0c9f);}['_onRemove'](_0x469ad8){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x469ad8),this['asset']=null;}['_onUnload'](_0x3976ef){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x3976ef);}}class fx extends ue{constructor(_0x2f17ce,_0x414417){super(_0x2f17ce,_0x414417),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(-0x3f8+0x84e*-0x3+0x1ce2)),c(this,'_receiveSh'+'adows',!(-0xac1+-0x540+0x1001)),c(this,'_castShado'+'wsLightmap',!(-0x1b7+0x7b*-0x17+0xcc4)),c(this,'_lightmapp'+'ed',!(-0x25c4+-0x1589+0x3b4e)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0xbac+0x43*-0x17+0x11b2),c(this,'isStatic',!(0xc3d+-0x24f7*-0x1+-0x3133*0x1)),c(this,'_batchGrou'+'pId',-(0x6da+0xb59+0x22*-0x89)),c(this,'_layers',[Fi]),c(this,'_renderSty'+'le',yo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x2f17ce['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x2f17ce['defaultMat'+'erial'],_0x414417['on']('remove',this['onRemoveCh'+'ild'],this),_0x414417['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x414417['on']('insert',this['onInsertCh'+'ild'],this),_0x414417['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x52d6f3){this['_renderSty'+'le']!==_0x52d6f3&&(this['_renderSty'+'le']=_0x52d6f3,Le['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x52d6f3));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x27ceeb){this['_customAab'+'b']=_0x27ceeb;const _0x1122e5=this['_meshInsta'+'nces'];if(_0x1122e5){for(let _0xbd467a=-0x1*-0x1093+0xc8b+-0x1d1e;_0xbd467a<_0x1122e5['length'];_0xbd467a++)_0x1122e5[_0xbd467a]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x29b829){if(this['_type']!==_0x29b829&&(this['_area']=null,this['_type']=_0x29b829,this['destroyMes'+'hInstances'](),_0x29b829!=='asset')){let _0x129ef2=this['_material'];(!_0x129ef2||_0x129ef2===this['system']['defaultMat'+'erial'])&&(_0x129ef2=this['_materialR'+'eferences'][-0xe*-0x83+-0x2f*-0x67+0x19*-0x10b]&&this['_materialR'+'eferences'][-0xdc9+0x24df+-0x1716]['asset']&&this['_materialR'+'eferences'][0x90f*-0x2+-0x1253+0x2471]['asset']['resource']);const _0x5ed8ac=cx(this['system']['app']['graphicsDe'+'vice'],_0x29b829);this['_area']=_0x5ed8ac['area'],this['meshInstan'+'ces']=[new Le(_0x5ed8ac['mesh'],_0x129ef2||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x14def8){if(v['assert'](Array['isArray'](_0x14def8),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x14def8,this['_meshInsta'+'nces']){const _0x37e4b1=this['_meshInsta'+'nces'];for(let _0x582796=0xef0*-0x1+0x4db+0xa15;_0x582796<_0x37e4b1['length'];_0x582796++)_0x37e4b1[_0x582796]['node']||(_0x37e4b1[_0x582796]['node']=this['entity']),_0x37e4b1[_0x582796]['castShadow']=this['_castShado'+'ws'],_0x37e4b1[_0x582796]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x37e4b1[_0x582796]['renderStyl'+'e']=this['_renderSty'+'le'],_0x37e4b1[_0x582796]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x37e4b1[_0x582796]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0xb7cedd){if(_0xb7cedd!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0xb7cedd;const _0x2fb7ff=this['_meshInsta'+'nces'];if(_0x2fb7ff){for(let _0x57d17d=-0xf0*0x8+-0xed5+-0x1*-0x1655;_0x57d17d<_0x2fb7ff['length'];_0x57d17d++)_0x2fb7ff[_0x57d17d]['setLightma'+'pped'](_0xb7cedd);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x50c0b9){if(this['_castShado'+'ws']!==_0x50c0b9){const _0x22cf3f=this['_meshInsta'+'nces'];if(_0x22cf3f){const _0x271212=this['layers'],_0x4f6141=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x50c0b9)for(let _0x5732bb=0x18a+0xaf0+-0x1*0xc7a;_0x5732bb<_0x271212['length'];_0x5732bb++){const _0x1357c6=_0x4f6141['layers']['getLayerBy'+'Id'](this['layers'][_0x5732bb]);_0x1357c6&&_0x1357c6['removeShad'+'owCasters'](_0x22cf3f);}for(let _0x503bfa=-0x1fdc+0xc*-0xa2+0x2774;_0x503bfa<_0x22cf3f['length'];_0x503bfa++)_0x22cf3f[_0x503bfa]['castShadow']=_0x50c0b9;if(!this['_castShado'+'ws']&&_0x50c0b9)for(let _0x3398dd=-0x3b*-0x5+-0x2176*0x1+0x204f;_0x3398dd<_0x271212['length'];_0x3398dd++){const _0x1a54a6=_0x4f6141['layers']['getLayerBy'+'Id'](_0x271212[_0x3398dd]);_0x1a54a6&&_0x1a54a6['addShadowC'+'asters'](_0x22cf3f);}}this['_castShado'+'ws']=_0x50c0b9;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x5ef1d7){if(this['_receiveSh'+'adows']!==_0x5ef1d7){this['_receiveSh'+'adows']=_0x5ef1d7;const _0x31baa0=this['_meshInsta'+'nces'];if(_0x31baa0){for(let _0x34041b=-0x3*0x8cc+-0xc*-0x2ed+0x174*-0x6;_0x34041b<_0x31baa0['length'];_0x34041b++)_0x31baa0[_0x34041b]['receiveSha'+'dow']=_0x5ef1d7;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x552a3a){this['_castShado'+'wsLightmap']=_0x552a3a;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x153600){this['_lightmapS'+'izeMultipl'+'ier']=_0x153600;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x44c77e){const _0x57952f=this['system']['app']['scene']['layers'];let _0x41d27c;if(this['_meshInsta'+'nces']){for(let _0x4be081=-0x15f*-0x7+-0x1ce2+-0x1*-0x1349;_0x4be081<this['_layers']['length'];_0x4be081++)_0x41d27c=_0x57952f['getLayerBy'+'Id'](this['_layers'][_0x4be081]),_0x41d27c&&_0x41d27c['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x7cd*0x2+-0x17a7+0x3*0x2af;for(let _0x405741=-0x176+0x1baa+-0x1a34;_0x405741<_0x44c77e['length'];_0x405741++)this['_layers'][_0x405741]=_0x44c77e[_0x405741];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x402819=-0x21c4+-0x1*-0xeeb+0x12d9;_0x402819<this['_layers']['length'];_0x402819++)_0x41d27c=_0x57952f['getLayerBy'+'Id'](this['_layers'][_0x402819]),_0x41d27c&&_0x41d27c['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0xce8051){var _0x3d050d,_0x37337d;this['_batchGrou'+'pId']!==_0xce8051&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1*0x1c5d+0x88c+-0x24e9&&((_0x3d050d=this['system']['app']['batcher'])==null||_0x3d050d['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0xce8051>=-0xdb8*-0x2+0x8*-0x16e+-0x1000*0x1&&((_0x37337d=this['system']['app']['batcher'])==null||_0x37337d['insert'](et['RENDER'],_0xce8051,this['entity'])),_0xce8051<-0x1f0b+0xbd2+0x1339&&this['_batchGrou'+'pId']>=0x1b00+0x1eb4+-0x39b4&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0xce8051);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x4c47cb){if(this['_material']!==_0x4c47cb&&(this['_material']=_0x4c47cb,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x31f275=-0x23bd+-0x6*-0x2ce+0x12e9;_0x31f275<this['_meshInsta'+'nces']['length'];_0x31f275++)this['_meshInsta'+'nces'][_0x31f275]['material']=_0x4c47cb;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x133bd7=[]){if(this['_materialR'+'eferences']['length']>_0x133bd7['length']){for(let _0x43f802=_0x133bd7['length'];_0x43f802<this['_materialR'+'eferences']['length'];_0x43f802++)this['_materialR'+'eferences'][_0x43f802]['id']=null;this['_materialR'+'eferences']['length']=_0x133bd7['length'];}for(let _0x536773=-0x1*-0x1dc5+-0x74b+0x3*-0x77e;_0x536773<_0x133bd7['length'];_0x536773++)if(this['_materialR'+'eferences'][_0x536773]||this['_materialR'+'eferences']['push'](new Go(_0x536773,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x133bd7[_0x536773]){const _0x1db053=_0x133bd7[_0x536773]instanceof le?_0x133bd7[_0x536773]['id']:_0x133bd7[_0x536773];this['_materialR'+'eferences'][_0x536773]['id']!==_0x1db053&&(this['_materialR'+'eferences'][_0x536773]['id']=_0x1db053),this['_materialR'+'eferences'][_0x536773]['asset']&&this['_onMateria'+'lAdded'](_0x536773,this,this['_materialR'+'eferences'][_0x536773]['asset']);}else this['_materialR'+'eferences'][_0x536773]['id']=null,this['_meshInsta'+'nces'][_0x536773]&&(this['_meshInsta'+'nces'][_0x536773]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x390a59=>_0x390a59['id']);}set['asset'](_0x7e4754){const _0x3a4f81=_0x7e4754 instanceof le?_0x7e4754['id']:_0x7e4754;this['_assetRefe'+'rence']['id']!==_0x3a4f81&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x3a4f81,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x2ce636){const _0x2a2f3d=_0x2ce636 instanceof le?_0x2ce636['id']:_0x2ce636;this['_assetRefe'+'rence']['id']=_0x2a2f3d;}set['rootBone'](_0x354e31){if(this['_rootBone']!==_0x354e31){const _0x3f9196=typeof _0x354e31=='string';if(this['_rootBone']&&_0x3f9196&&this['_rootBone']['getGuid']()===_0x354e31)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x354e31 instanceof De?this['_rootBone']=_0x354e31:_0x3f9196?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x354e31)||null,this['_rootBone']||v['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x55bd2b=this['_meshInsta'+'nces'];if(_0x55bd2b){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x13e1e1=-0x1906+-0x513+-0x605*-0x5;_0x13e1e1<_0x55bd2b['length'];_0x13e1e1++)_0x55bd2b[_0x13e1e1]['destroy']();this['_meshInsta'+'nces']['length']=0x1*0x15cd+0x1f*0xbf+-0x9*0x4fe;}}['addToLayer'+'s'](){const _0x1bb12b=this['system']['app']['scene']['layers'];for(let _0x56bfbb=0x1764+-0x1*-0x1fed+-0x7*0x7e7;_0x56bfbb<this['_layers']['length'];_0x56bfbb++){const _0x5b7a52=_0x1bb12b['getLayerBy'+'Id'](this['_layers'][_0x56bfbb]);_0x5b7a52&&_0x5b7a52['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0xee2a32=this['system']['app']['scene']['layers'];for(let _0x2577fd=-0xc78+-0x17c9*0x1+0x2441;_0x2577fd<this['_layers']['length'];_0x2577fd++){const _0x2e83=_0xee2a32['getLayerBy'+'Id'](this['_layers'][_0x2577fd]);_0x2e83&&_0x2e83['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x5bb9bf=-0x1*-0x751+-0x107e+-0x92d*-0x1;_0x5bb9bf<this['_materialR'+'eferences']['length'];_0x5bb9bf++)this['_materialR'+'eferences'][_0x5bb9bf]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x33fc91,_0x2a9108){this['addToLayer'+'s'](),_0x33fc91['off']('add',this['onLayerAdd'+'ed'],this),_0x33fc91['off']('remove',this['onLayerRem'+'oved'],this),_0x2a9108['on']('add',this['onLayerAdd'+'ed'],this),_0x2a9108['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3e01a6){this['layers']['indexOf'](_0x3e01a6['id'])<-0x2aa*0xb+0x125a+0xaf4||_0x3e01a6['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x2231e3){this['layers']['indexOf'](_0x2231e3['id'])<0x1c*-0xad+-0x43e+-0xb95*-0x2||_0x2231e3['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x36d09c;const _0x5bff23=this['system']['app'],_0x28eaaf=_0x5bff23['scene'],_0x538384=_0x28eaaf['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x28eaaf['on']('set:layers',this['onLayersCh'+'anged'],this),_0x538384&&(this['_evtLayerA'+'dded']=_0x538384['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x538384['on']('remove',this['onLayerRem'+'oved'],this));const _0x17d531=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x17d531&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x4be43f=0x653*0x2+-0x209*0x13+-0x1*-0x1a05;_0x4be43f<this['_materialR'+'eferences']['length'];_0x4be43f++)this['_materialR'+'eferences'][_0x4be43f]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x4be43f]['asset']);this['_batchGrou'+'pId']>=0x1d25+0x1fb7+-0xf37*0x4&&((_0x36d09c=_0x5bff23['batcher'])==null||_0x36d09c['insert'](et['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x16fbdf,_0x5e4c57,_0x3f5f64,_0x422855;const _0x501701=this['system']['app'],_0x33277b=_0x501701['scene']['layers'];(_0x16fbdf=this['_evtLayers'+'Changed'])==null||_0x16fbdf['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x33277b&&((_0x5e4c57=this['_evtLayerA'+'dded'])==null||_0x5e4c57['off'](),this['_evtLayerA'+'dded']=null,(_0x3f5f64=this['_evtLayerR'+'emoved'])==null||_0x3f5f64['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x1*-0x1b16+0xf8e+0x29*0x48&&((_0x422855=_0x501701['batcher'])==null||_0x422855['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x48e84b=-0x83+-0x2315+0x2398;_0x48e84b<this['_meshInsta'+'nces']['length'];_0x48e84b++)this['_meshInsta'+'nces'][_0x48e84b]['visible']=!(-0x3a*-0xaa+0x7*0x1c7+-0x32f4);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x2cf2c6=-0x1d*-0x51+-0x1347+0x2*0x50d;_0x2cf2c6<this['_meshInsta'+'nces']['length'];_0x2cf2c6++)this['_meshInsta'+'nces'][_0x2cf2c6]['visible']=!(-0x8d3+0x13a*0x1f+-0x1d33);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x4e78b9;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x519b8a=this['_assetRefe'+'rence']['asset']['resource'];(_0x4e78b9=this['_evtSetMes'+'hes'])==null||_0x4e78b9['off'](),this['_evtSetMes'+'hes']=_0x519b8a['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x519b8a['meshes']&&this['_onSetMesh'+'es'](_0x519b8a['meshes']);}}['_onSetMesh'+'es'](_0x5cb1bb){this['_cloneMesh'+'es'](_0x5cb1bb);}['_clearSkin'+'Instances'](){for(let _0x4f2686=-0x1840+0x1*-0x138d+0x1*0x2bcd;_0x4f2686<this['_meshInsta'+'nces']['length'];_0x4f2686++){const _0x1ff22e=this['_meshInsta'+'nces'][_0x4f2686];Vo['removeCach'+'edSkinInst'+'ance'](_0x1ff22e['skinInstan'+'ce']),_0x1ff22e['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof De)for(let _0x375b71=0x125f+0x1b99+-0x2df8;_0x375b71<this['_meshInsta'+'nces']['length'];_0x375b71++){const _0x1e4b7a=this['_meshInsta'+'nces'][_0x375b71],_0x93aee=_0x1e4b7a['mesh'];_0x93aee['skin']&&!_0x1e4b7a['skinInstan'+'ce']&&(_0x1e4b7a['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x93aee['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x275ba3){if(_0x275ba3&&_0x275ba3['length']){const _0x5d8565=[];for(let _0x115f5c=0x1263*-0x1+-0x10e1+0x2344;_0x115f5c<_0x275ba3['length'];_0x115f5c++){const _0x4fc5cd=_0x275ba3[_0x115f5c],_0x276c5d=this['_materialR'+'eferences'][_0x115f5c]&&this['_materialR'+'eferences'][_0x115f5c]['asset']&&this['_materialR'+'eferences'][_0x115f5c]['asset']['resource'],_0xc2cba8=new Le(_0x4fc5cd,_0x276c5d||this['system']['defaultMat'+'erial'],this['entity']);_0x5d8565['push'](_0xc2cba8),_0x4fc5cd['morph']&&(_0xc2cba8['morphInsta'+'nce']=new fn(_0x4fc5cd['morph']));}this['meshInstan'+'ces']=_0x5d8565,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x16dcfc;(_0x16dcfc=this['_evtSetMes'+'hes'])==null||_0x16dcfc['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x5994c0,_0x275dc3,_0x288ebe){_0x288ebe['resource']?this['_onMateria'+'lLoad'](_0x5994c0,_0x275dc3,_0x288ebe):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x288ebe);}['_updateMai'+'nMaterial'](_0x1c0f07,_0x55be51){_0x1c0f07===-0x1ecf+0x11*-0xef+-0x2eae*-0x1&&(this['material']=_0x55be51);}['_onMateria'+'lLoad'](_0x1a62d3,_0x2c50a0,_0x5b2991){this['_meshInsta'+'nces'][_0x1a62d3]&&(this['_meshInsta'+'nces'][_0x1a62d3]['material']=_0x5b2991['resource']),this['_updateMai'+'nMaterial'](_0x1a62d3,_0x5b2991['resource']);}['_onMateria'+'lRemove'](_0x5823a4,_0x3ac2e5,_0x18b511){this['_meshInsta'+'nces'][_0x5823a4]&&(this['_meshInsta'+'nces'][_0x5823a4]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x5823a4,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x8ecd78,_0x11d7de,_0x4bb3a6){this['_meshInsta'+'nces'][_0x8ecd78]&&(this['_meshInsta'+'nces'][_0x8ecd78]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x8ecd78,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5da4b9,_0xa38627){_0x5da4b9['rootBone']&&(this['rootBone']=_0xa38627[_0x5da4b9['rootBone']['getGuid']()]);}}class uI{constructor(){this['enabled']=!(-0x2129+-0x11*0xd1+0x1b*0x1be);}}const pf=['enabled'],Mr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class fI extends Xe{constructor(_0x543953){super(_0x543953),this['id']='render',this['ComponentT'+'ype']=fx,this['DataType']=uI,this['schema']=pf,this['defaultMat'+'erial']=al(_0x543953['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x3ba1e4,_0x3db7f3,_0x3569d0){(_0x3db7f3['batchGroup'+'Id']===null||_0x3db7f3['batchGroup'+'Id']===void(-0x1b0b+-0xd4*0x11+0x291f))&&(_0x3db7f3['batchGroup'+'Id']=-(-0x7d6*0x4+0x139*0x11+0xa90)),_0x3db7f3['layers']&&_0x3db7f3['layers']['length']&&(_0x3db7f3['layers']=_0x3db7f3['layers']['slice'](-0x1*-0x1ded+0x1b52*0x1+-0xf*0x3d1));for(let _0x57cce5=-0x1*0x25a+-0x19fe+0x1c58;_0x57cce5<Mr['length'];_0x57cce5++)_0x3db7f3['hasOwnProp'+'erty'](Mr[_0x57cce5])&&(_0x3ba1e4[Mr[_0x57cce5]]=_0x3db7f3[Mr[_0x57cce5]]);_0x3db7f3['aabbCenter']&&_0x3db7f3['aabbHalfEx'+'tents']&&(_0x3ba1e4['customAabb']=new _e(new T(_0x3db7f3['aabbCenter']),new T(_0x3db7f3['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x3ba1e4,_0x3db7f3,pf);}['cloneCompo'+'nent'](_0x1dcec4,_0x4e2b04){const _0x6347c2={};for(let _0x9724d1=0x1691+-0x2132+0xaa1;_0x9724d1<Mr['length'];_0x9724d1++)_0x6347c2[Mr[_0x9724d1]]=_0x1dcec4['render'][Mr[_0x9724d1]];_0x6347c2['enabled']=_0x1dcec4['render']['enabled'],delete _0x6347c2['meshInstan'+'ces'];const _0x43ffb2=this['addCompone'+'nt'](_0x4e2b04,_0x6347c2),_0x55f302=_0x1dcec4['render']['meshInstan'+'ces'],_0x2bacc0=_0x55f302['map'](_0x47a6ad=>_0x47a6ad['mesh']);_0x43ffb2['_onSetMesh'+'es'](_0x2bacc0);for(let _0x34e969=-0x5ee+-0x92f*-0x3+-0x29*0x87;_0x34e969<_0x55f302['length'];_0x34e969++)_0x43ffb2['meshInstan'+'ces'][_0x34e969]['material']=_0x55f302[_0x34e969]['material'];return _0x1dcec4['render']['customAabb']&&(_0x43ffb2['customAabb']=_0x1dcec4['render']['customAabb']['clone']()),_0x43ffb2;}['onRemove'](_0x2de25a,_0x16c618){_0x16c618['onRemove']();}}ue['_buildAcce'+'ssors'](fx['prototype'],pf);class Zd{constructor(_0x2c8680,_0xd27103){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',0x5*0x43d+-0xb55+-0x4ee*0x2),(this['_construct'+'or']=_0x2c8680,this['_resize'](_0xd27103));}['_resize'](_0x4809e5){if(_0x4809e5>this['_pool']['length']){for(let _0x58aa6b=this['_pool']['length'];_0x58aa6b<_0x4809e5;_0x58aa6b++)this['_pool'][_0x58aa6b]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(-0x296*-0x4+0xf95+-0x19eb)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0x8d+0x77*0x15+-0x3*0x312;}}let Vt,xe,gs,$n;const pI=new se(),mI=new se(),Ql=new T();class $s extends ue{constructor(){super(...arguments),c(this,'_angularDa'+'mping',-0x763+-0x22a+0x5*0x1e9),c(this,'_angularFa'+'ctor',new T(-0x1*-0x1177+0x761*-0x4+0xc0e,-0x1664+0x40f*-0x1+0x1a74*0x1,0x2*-0xaec+0xa07+-0x5e9*-0x2)),c(this,'_angularVe'+'locity',new T()),c(this,'_body',null),c(this,'_friction',0x99*0x3d+0x1ae8+-0x3f5d+0.5),c(this,'_group',og),c(this,'_linearDam'+'ping',0x18f5+0x940+-0x2235),c(this,'_linearFac'+'tor',new T(-0x7f*-0x36+-0xc4e+-0xe7b,0x1f2a*-0x1+0x6a8*-0x4+0x37*0x10d,0x55*0x17+0x173a+0x14*-0x18b)),c(this,'_linearVel'+'ocity',new T()),c(this,'_mask',af),c(this,'_mass',0x1*-0x1924+-0x41b+0x12*0x1a0),c(this,'_restituti'+'on',-0x30*0x35+0x9*-0x40f+0x2e77),c(this,'_rollingFr'+'iction',-0x7*-0x279+-0xbf*0x1+0x1*-0x1090),c(this,'_simulatio'+'nEnabled',!(0x1019+0x18*0x7+-0x40*0x43)),c(this,'_type',so);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Vt=new Ammo['btTransfor'+'m'](),xe=new Ammo['btVector3'](),gs=new Ammo['btVector3'](),$n=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Vt),Ammo['destroy'](xe),Ammo['destroy'](gs),Ammo['destroy']($n),Vt=null,xe=null,gs=null,$n=null;}set['angularDam'+'ping'](_0x50ce28){this['_angularDa'+'mping']!==_0x50ce28&&(this['_angularDa'+'mping']=_0x50ce28,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x50ce28));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0xfcf72d){this['_angularFa'+'ctor']['equals'](_0xfcf72d)||(this['_angularFa'+'ctor']['copy'](_0xfcf72d),this['_body']&&this['_type']===ms&&(xe['setValue'](_0xfcf72d['x'],_0xfcf72d['y'],_0xfcf72d['z']),this['_body']['setAngular'+'Factor'](xe)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x43bf15){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x43bf15['x'],_0x43bf15['y'],_0x43bf15['z']),this['_body']['setAngular'+'Velocity'](xe),this['_angularVe'+'locity']['copy'](_0x43bf15));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ms){const _0xbfc1f8=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0xbfc1f8['x'](),_0xbfc1f8['y'](),_0xbfc1f8['z']());}return this['_angularVe'+'locity'];}set['body'](_0x5bf3e1){this['_body']!==_0x5bf3e1&&(this['_body']=_0x5bf3e1,_0x5bf3e1&&this['_simulatio'+'nEnabled']&&_0x5bf3e1['activate']());}get['body'](){return this['_body'];}set['friction'](_0x5492a8){this['_friction']!==_0x5492a8&&(this['_friction']=_0x5492a8,this['_body']&&this['_body']['setFrictio'+'n'](_0x5492a8));}get['friction'](){return this['_friction'];}set['group'](_0x1cb1ee){this['_group']!==_0x1cb1ee&&(this['_group']=_0x1cb1ee,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x3ed778){this['_linearDam'+'ping']!==_0x3ed778&&(this['_linearDam'+'ping']=_0x3ed778,this['_body']&&this['_body']['setDamping'](_0x3ed778,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x53c2e3){this['_linearFac'+'tor']['equals'](_0x53c2e3)||(this['_linearFac'+'tor']['copy'](_0x53c2e3),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x53c2e3['x'],_0x53c2e3['y'],_0x53c2e3['z']),this['_body']['setLinearF'+'actor'](xe)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x5da745){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x5da745['x'],_0x5da745['y'],_0x5da745['z']),this['_body']['setLinearV'+'elocity'](xe),this['_linearVel'+'ocity']['copy'](_0x5da745));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ms){const _0x55effd=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x55effd['x'](),_0x55effd['y'](),_0x55effd['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x400b81){this['_mask']!==_0x400b81&&(this['_mask']=_0x400b81,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x5dab2e){if(this['_mass']!==_0x5dab2e&&(this['_mass']=_0x5dab2e,this['_body']&&this['_type']===ms)){const _0x445a70=this['enabled']&&this['entity']['enabled'];_0x445a70&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x5dab2e,xe),this['_body']['setMassPro'+'ps'](_0x5dab2e,xe),this['_body']['updateIner'+'tiaTensor'](),_0x445a70&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x1f66f9){this['_restituti'+'on']!==_0x1f66f9&&(this['_restituti'+'on']=_0x1f66f9,this['_body']&&this['_body']['setRestitu'+'tion'](_0x1f66f9));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x4749d5){this['_rollingFr'+'iction']!==_0x4749d5&&(this['_rollingFr'+'iction']=_0x4749d5,this['_body']&&this['_body']['setRolling'+'Friction'](_0x4749d5));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x215ebb){if(this['_type']!==_0x215ebb){switch(this['_type']=_0x215ebb,this['disableSim'+'ulation'](),_0x215ebb){case ms:this['_group']=tR,this['_mask']=hg;break;case Bn:this['_group']=sR,this['_mask']=hg;break;case so:default:this['_group']=og,this['_mask']=af;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x337743=this['entity'];let _0x14a599;if(_0x337743['collision']&&(_0x14a599=_0x337743['collision']['shape'],_0x337743['trigger']&&(_0x337743['trigger']['destroy'](),delete _0x337743['trigger'])),_0x14a599){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x13ee35=this['_type']===ms?this['_mass']:-0x1b97+0x3*0xbdd+-0x800;this['_getEntity'+'Transform'](Vt);const _0x3f6672=this['system']['createBody'](_0x13ee35,_0x14a599,Vt);if(_0x3f6672['setRestitu'+'tion'](this['_restituti'+'on']),_0x3f6672['setFrictio'+'n'](this['_friction']),_0x3f6672['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x3f6672['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ms){const _0x2c98df=this['_linearFac'+'tor'];xe['setValue'](_0x2c98df['x'],_0x2c98df['y'],_0x2c98df['z']),_0x3f6672['setLinearF'+'actor'](xe);const _0x3c4797=this['_angularFa'+'ctor'];xe['setValue'](_0x3c4797['x'],_0x3c4797['y'],_0x3c4797['z']),_0x3f6672['setAngular'+'Factor'](xe);}else this['_type']===Bn&&(_0x3f6672['setCollisi'+'onFlags'](_0x3f6672['getCollisi'+'onFlags']()|eR),_0x3f6672['setActivat'+'ionState'](ag));_0x3f6672['entity']=_0x337743,this['body']=_0x3f6672,this['enabled']&&_0x337743['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x964+-0x205b+-0x20*-0x14e);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x4e9a54=this['entity'];if(_0x4e9a54['collision']&&_0x4e9a54['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x39b9db=this['_body'];if(_0x39b9db){switch(this['system']['addBody'](_0x39b9db,this['_group'],this['_mask']),this['_type']){case ms:this['system']['_dynamic']['push'](this),_0x39b9db['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;case Bn:this['system']['_kinematic']['push'](this),_0x39b9db['forceActiv'+'ationState'](ag);break;case so:_0x39b9db['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;}_0x4e9a54['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x4e9a54['collision']),_0x39b9db['activate'](),this['_simulatio'+'nEnabled']=!(0x2b4*-0x8+0x16dd+-0x13d);}}}['disableSim'+'ulation'](){const _0x1c5cea=this['_body'];if(_0x1c5cea&&this['_simulatio'+'nEnabled']){const _0x5e79ef=this['system'];let _0x4b71c3=_0x5e79ef['_compounds']['indexOf'](this['entity']['collision']);_0x4b71c3>-(-0xf0d+0x21a9+-0x129b)&&_0x5e79ef['_compounds']['splice'](_0x4b71c3,-0x1a*-0x14b+0x5d9+-0x2776),_0x4b71c3=_0x5e79ef['_dynamic']['indexOf'](this),_0x4b71c3>-(0x1*-0x116b+0x1337+-0x1cb)&&_0x5e79ef['_dynamic']['splice'](_0x4b71c3,-0x1cde*-0x1+-0x14e4+0x1*-0x7f9),_0x4b71c3=_0x5e79ef['_kinematic']['indexOf'](this),_0x4b71c3>-(0x1c4*-0x12+0x6b*-0x8+0x2321)&&_0x5e79ef['_kinematic']['splice'](_0x4b71c3,-0x1ca1+-0x230+0x1ed2),_0x5e79ef['removeBody'](_0x1c5cea),_0x1c5cea['forceActiv'+'ationState'](tx),this['_simulatio'+'nEnabled']=!(0x112e*-0x2+0x1b89+0x1*0x6d4);}}['applyForce'](_0x2a5a9f,_0x1f4f14,_0x15cfc6,_0x563adb,_0x3dab4b,_0x2c4f2d){const _0x17889d=this['_body'];_0x17889d&&(_0x17889d['activate'](),_0x2a5a9f instanceof T?xe['setValue'](_0x2a5a9f['x'],_0x2a5a9f['y'],_0x2a5a9f['z']):xe['setValue'](_0x2a5a9f,_0x1f4f14,_0x15cfc6),_0x1f4f14 instanceof T?gs['setValue'](_0x1f4f14['x'],_0x1f4f14['y'],_0x1f4f14['z']):_0x563adb!==void(0xdf9+0x22fa+-0x30f3)?gs['setValue'](_0x563adb,_0x3dab4b,_0x2c4f2d):gs['setValue'](0xb*0xb1+-0xa74*-0x1+-0xc9*0x17,-0x277*-0x4+-0xb*0xde+0x52*-0x1,0x13f2+-0x1e83+-0x21d*-0x5),_0x17889d['applyForce'](xe,gs));}['applyTorqu'+'e'](_0x58d56b,_0x3757b3,_0xfb3480){const _0x3d4b25=this['_body'];_0x3d4b25&&(_0x3d4b25['activate'](),_0x58d56b instanceof T?xe['setValue'](_0x58d56b['x'],_0x58d56b['y'],_0x58d56b['z']):xe['setValue'](_0x58d56b,_0x3757b3,_0xfb3480),_0x3d4b25['applyTorqu'+'e'](xe));}['applyImpul'+'se'](_0xa14852,_0x58cf6f,_0x5c60f4,_0x6702f4,_0x7a899f,_0x4565c5){const _0x3e534a=this['_body'];_0x3e534a&&(_0x3e534a['activate'](),_0xa14852 instanceof T?xe['setValue'](_0xa14852['x'],_0xa14852['y'],_0xa14852['z']):xe['setValue'](_0xa14852,_0x58cf6f,_0x5c60f4),_0x58cf6f instanceof T?gs['setValue'](_0x58cf6f['x'],_0x58cf6f['y'],_0x58cf6f['z']):_0x6702f4!==void(0x1*-0x1a2a+0xdd3*-0x2+0x35d0)?gs['setValue'](_0x6702f4,_0x7a899f,_0x4565c5):gs['setValue'](0x4*-0x152+-0x1ace+0xab2*0x3,-0x8*-0x353+-0x1a1d+-0x7b*0x1,0x935+0x1811+-0x2146),_0x3e534a['applyImpul'+'se'](xe,gs));}['applyTorqu'+'eImpulse'](_0x1adaaa,_0x242b99,_0x1d75a7){const _0x3ed693=this['_body'];_0x3ed693&&(_0x3ed693['activate'](),_0x1adaaa instanceof T?xe['setValue'](_0x1adaaa['x'],_0x1adaaa['y'],_0x1adaaa['z']):xe['setValue'](_0x1adaaa,_0x242b99,_0x1d75a7),_0x3ed693['applyTorqu'+'eImpulse'](xe));}['isStatic'](){return this['_type']===so;}['isStaticOr'+'Kinematic'](){return this['_type']===so||this['_type']===Bn;}['isKinemati'+'c'](){return this['_type']===Bn;}['_getEntity'+'Transform'](_0x2f38f1){const _0xd3100e=this['entity'],_0x4e58ab=_0xd3100e['collision'];if(_0x4e58ab){const _0x36f667=_0x4e58ab['getShapePo'+'sition'](),_0x3daf0e=_0x4e58ab['getShapeRo'+'tation']();xe['setValue'](_0x36f667['x'],_0x36f667['y'],_0x36f667['z']),$n['setValue'](_0x3daf0e['x'],_0x3daf0e['y'],_0x3daf0e['z'],_0x3daf0e['w']);}else{const _0x5a1d03=_0xd3100e['getPositio'+'n'](),_0x179c09=_0xd3100e['getRotatio'+'n']();xe['setValue'](_0x5a1d03['x'],_0x5a1d03['y'],_0x5a1d03['z']),$n['setValue'](_0x179c09['x'],_0x179c09['y'],_0x179c09['z'],_0x179c09['w']);}_0x2f38f1['setOrigin'](xe),_0x2f38f1['setRotatio'+'n']($n);}['syncEntity'+'ToBody'](){const _0x13c171=this['_body'];if(_0x13c171){if(this['_getEntity'+'Transform'](Vt),_0x13c171['setWorldTr'+'ansform'](Vt),this['_type']===Bn){const _0x1e7026=_0x13c171['getMotionS'+'tate']();_0x1e7026&&_0x1e7026['setWorldTr'+'ansform'](Vt);}_0x13c171['activate']();}}['_updateDyn'+'amic'](){const _0x1a6dba=this['_body'];if(_0x1a6dba['isActive']()){const _0x9108c7=_0x1a6dba['getMotionS'+'tate']();if(_0x9108c7){const _0x1b5c1f=this['entity'];_0x9108c7['getWorldTr'+'ansform'](Vt);const _0x6949d6=Vt['getOrigin'](),_0xeb9b73=Vt['getRotatio'+'n'](),_0x10dd7e=_0x1b5c1f['collision'];if(_0x10dd7e&&_0x10dd7e['_hasOffset']){const _0x110309=_0x10dd7e['data']['linearOffs'+'et'],_0x48b8ec=_0x10dd7e['data']['angularOff'+'set'],_0x427aa7=mI['copy'](_0x48b8ec)['invert'](),_0x267b42=pI['set'](_0xeb9b73['x'](),_0xeb9b73['y'](),_0xeb9b73['z'](),_0xeb9b73['w']())['mul'](_0x427aa7);_0x267b42['transformV'+'ector'](_0x110309,Ql),_0x1b5c1f['setPositio'+'n'](_0x6949d6['x']()-Ql['x'],_0x6949d6['y']()-Ql['y'],_0x6949d6['z']()-Ql['z']),_0x1b5c1f['setRotatio'+'n'](_0x267b42);}else _0x1b5c1f['setPositio'+'n'](_0x6949d6['x'](),_0x6949d6['y'](),_0x6949d6['z']()),_0x1b5c1f['setRotatio'+'n'](_0xeb9b73['x'](),_0xeb9b73['y'](),_0xeb9b73['z'](),_0xeb9b73['w']());}}}['_updateKin'+'ematic'](){const _0x20a628=this['_body']['getMotionS'+'tate']();_0x20a628&&(this['_getEntity'+'Transform'](Vt),_0x20a628['setWorldTr'+'ansform'](Vt));}['teleport'](_0x4db1ba,_0x1affc6,_0xf45a6e,_0x427bba,_0x452848,_0x2639b7){_0x4db1ba instanceof T?this['entity']['setPositio'+'n'](_0x4db1ba):this['entity']['setPositio'+'n'](_0x4db1ba,_0x1affc6,_0xf45a6e),_0x1affc6 instanceof se?this['entity']['setRotatio'+'n'](_0x1affc6):_0x1affc6 instanceof T?this['entity']['setEulerAn'+'gles'](_0x1affc6):_0x427bba!==void(0x1036+0x10d9+-0x210f)&&this['entity']['setEulerAn'+'gles'](_0x427bba,_0x452848,_0x2639b7),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c($s,'EVENT_CONT'+'ACT','contact'),c($s,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c($s,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c($s,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c($s,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c($s,'order',-(0x1605+-0x3*-0x789+-0x2c9f));class _I{constructor(){this['enabled']=!(0x3*0xbb3+0x821+0x1f7*-0x16);}}let ai,oi;class xg{constructor(_0x30542a,_0x2e594d,_0x18afcc,_0xbd915f){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x30542a,this['point']=_0x2e594d,this['normal']=_0x18afcc,this['hitFractio'+'n']=_0xbd915f);}}class gI{constructor(_0x9bd4dc,_0xa73105,_0x2a6fcc){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==0x83f*0x1+-0x1739+0xefa?(this['a']=_0x9bd4dc,this['b']=_0xa73105,this['impulse']=_0x2a6fcc['impulse'],this['localPoint'+'A']=_0x2a6fcc['localPoint'],this['localPoint'+'B']=_0x2a6fcc['localPoint'+'Other'],this['pointA']=_0x2a6fcc['point'],this['pointB']=_0x2a6fcc['pointOther'],this['normal']=_0x2a6fcc['normal']):(this['a']=null,this['b']=null,this['impulse']=0x7d4+-0x22f5+0x3*0x90b,this['localPoint'+'A']=new T(),this['localPoint'+'B']=new T(),this['pointA']=new T(),this['pointB']=new T(),this['normal']=new T());}}class yI{constructor(_0x1f6963=new T(),_0x38d355=new T(),_0x584e03=new T(),_0x120c00=new T(),_0x26447a=new T(),_0x5e3ff5=-0xba*0x2f+0x251*0x9+0xd4d){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x1f6963,this['localPoint'+'Other']=_0x38d355,this['point']=_0x584e03,this['pointOther']=_0x120c00,this['normal']=_0x26447a,this['impulse']=_0x5e3ff5);}}class xI{constructor(_0x106529,_0x16d55e){c(this,'other'),c(this,'contacts'),(this['other']=_0x106529,this['contacts']=_0x16d55e);}}const px=['enabled'];class mx extends Xe{constructor(_0x64a7d6){super(_0x64a7d6),c(this,'maxSubStep'+'s',0x2*0xafb+0x21e*-0xa+-0x30*0x4),c(this,'fixedTimeS'+'tep',(0x16*-0x8f+0x13e3+0x4*-0x1e6)/(-0x6c2+-0x1b41*0x1+0x223f)),c(this,'gravity',new T(0x5*0x606+-0xf51+-0xecd,-(0xa54+0x6b*-0x2e+0x8ef+0.8100000000000005),0x76*-0x22+0x1530+-0x1*0x584)),c(this,'_gravityFl'+'oat32',new Float32Array(-0xb77+-0x26*-0xa4+-0x2*0x66f)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x64a7d6['stats']['frame'],this['ComponentT'+'ype']=$s,this['DataType']=_I,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=px,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x5ac7d0=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x5ac7d0);}else v['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');ai=new Ammo['btVector3'](),oi=new Ammo['btVector3'](),$s['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new Zd(yI,-0x1d56*-0x1+0x1*0x151f+-0x3274),this['contactRes'+'ultPool']=new Zd(xI,-0xbf*0x21+-0x356+-0x1*-0x1bf6),this['singleCont'+'actResultP'+'ool']=new Zd(gI,0x2*-0x753+-0x3*-0x368+0x46f),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x55c448,_0x268e8e,_0x8f83a5){const _0x16db59=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x5713cd of _0x16db59)if(_0x268e8e['hasOwnProp'+'erty'](_0x5713cd)){const _0x56ff56=_0x268e8e[_0x5713cd];Array['isArray'](_0x56ff56)?_0x55c448[_0x5713cd]=new T(_0x56ff56[-0x6eb+-0x381+0xa6c],_0x56ff56[-0x1a0*-0x6+-0x122f+0x870],_0x56ff56[-0x2*-0x67+0x1*0xedf+-0xfab]):_0x55c448[_0x5713cd]=_0x56ff56;}super['initialize'+'ComponentD'+'ata'](_0x55c448,_0x268e8e,['enabled']);}['cloneCompo'+'nent'](_0x4dc8a5,_0xf69737){const _0x26a57a=_0x4dc8a5['rigidbody'],_0x1f2384={'enabled':_0x26a57a['enabled'],'mass':_0x26a57a['mass'],'linearDamping':_0x26a57a['linearDamp'+'ing'],'angularDamping':_0x26a57a['angularDam'+'ping'],'linearFactor':[_0x26a57a['linearFact'+'or']['x'],_0x26a57a['linearFact'+'or']['y'],_0x26a57a['linearFact'+'or']['z']],'angularFactor':[_0x26a57a['angularFac'+'tor']['x'],_0x26a57a['angularFac'+'tor']['y'],_0x26a57a['angularFac'+'tor']['z']],'friction':_0x26a57a['friction'],'rollingFriction':_0x26a57a['rollingFri'+'ction'],'restitution':_0x26a57a['restitutio'+'n'],'type':_0x26a57a['type'],'group':_0x26a57a['group'],'mask':_0x26a57a['mask']};return this['addCompone'+'nt'](_0xf69737,_0x1f2384);}['onBeforeRe'+'move'](_0x344fdb,_0x4ac76a){_0x4ac76a['enabled']&&(_0x4ac76a['enabled']=!(0x1980+-0x26f6+-0x3*-0x47d)),_0x4ac76a['body']&&(this['destroyBod'+'y'](_0x4ac76a['body']),_0x4ac76a['body']=null);}['addBody'](_0x71d988,_0x372391,_0x524b7a){_0x372391!==void(-0x261d+-0x16f6*0x1+0x3d13)&&_0x524b7a!==void(-0x1b*-0x83+0x6*-0x25c+0x57)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x71d988,_0x372391,_0x524b7a):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x71d988);}['removeBody'](_0x46d448){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x46d448);}['createBody'](_0x55fad6,_0x161f54,_0x300f0d){const _0x2a5f1b=new Ammo['btVector3'](0x1091*0x1+0x13e*-0x8+-0x6a1,-0x56b+-0xc77+0x2*0x8f1,0x39a+0x1311*0x1+-0x16ab);_0x55fad6!==-0x7d2+0xf*0x13+-0x1*-0x6b5&&_0x161f54['calculateL'+'ocalInerti'+'a'](_0x55fad6,_0x2a5f1b);const _0x1a19f7=new Ammo['btDefaultM'+'otionState'](_0x300f0d),_0x31aaa5=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x55fad6,_0x1a19f7,_0x161f54,_0x2a5f1b),_0xbdbb47=new Ammo['btRigidBod'+'y'](_0x31aaa5);return Ammo['destroy'](_0x31aaa5),Ammo['destroy'](_0x2a5f1b),_0xbdbb47;}['destroyBod'+'y'](_0x93debc){const _0x2ac4cf=_0x93debc['getMotionS'+'tate']();_0x2ac4cf&&Ammo['destroy'](_0x2ac4cf),Ammo['destroy'](_0x93debc);}['raycastFir'+'st'](_0x306aa1,_0x42922c,_0x1db67b={}){if(_0x1db67b['filterTags']||_0x1db67b['filterCall'+'back'])return _0x1db67b['sort']=!(-0x1af2+-0x179c*-0x1+0x2*0x1ab),this['raycastAll'](_0x306aa1,_0x42922c,_0x1db67b)[0x853*0x2+-0x5e*-0x49+0x4d4*-0x9]||null;let _0x20e978=null;ai['setValue'](_0x306aa1['x'],_0x306aa1['y'],_0x306aa1['z']),oi['setValue'](_0x42922c['x'],_0x42922c['y'],_0x42922c['z']);const _0x6a9152=new Ammo['ClosestRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x1db67b['filterColl'+'isionGroup']=='number'&&_0x6a9152['set_m_coll'+'isionFilte'+'rGroup'](_0x1db67b['filterColl'+'isionGroup']),typeof _0x1db67b['filterColl'+'isionMask']=='number'&&_0x6a9152['set_m_coll'+'isionFilte'+'rMask'](_0x1db67b['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x6a9152),_0x6a9152['hasHit']()){const _0x5b709d=_0x6a9152['get_m_coll'+'isionObjec'+'t'](),_0x206002=Ammo['castObject'](_0x5b709d,Ammo['btRigidBod'+'y']);if(_0x206002){const _0x13554b=_0x6a9152['get_m_hitP'+'ointWorld'](),_0x17fa7b=_0x6a9152['get_m_hitN'+'ormalWorld']();_0x20e978=new xg(_0x206002['entity'],new T(_0x13554b['x'](),_0x13554b['y'](),_0x13554b['z']()),new T(_0x17fa7b['x'](),_0x17fa7b['y'](),_0x17fa7b['z']()),_0x6a9152['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x6a9152),_0x20e978;}['raycastAll'](_0x13f0ec,_0xe0391,_0x5e1e47={}){v['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x2ef3dd=[];ai['setValue'](_0x13f0ec['x'],_0x13f0ec['y'],_0x13f0ec['z']),oi['setValue'](_0xe0391['x'],_0xe0391['y'],_0xe0391['z']);const _0x178a3d=new Ammo['AllHitsRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x5e1e47['filterColl'+'isionGroup']=='number'&&_0x178a3d['set_m_coll'+'isionFilte'+'rGroup'](_0x5e1e47['filterColl'+'isionGroup']),typeof _0x5e1e47['filterColl'+'isionMask']=='number'&&_0x178a3d['set_m_coll'+'isionFilte'+'rMask'](_0x5e1e47['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x178a3d),_0x178a3d['hasHit']()){const _0x1d6094=_0x178a3d['get_m_coll'+'isionObjec'+'ts'](),_0xe9c6d7=_0x178a3d['get_m_hitP'+'ointWorld'](),_0x235b75=_0x178a3d['get_m_hitN'+'ormalWorld'](),_0x48ad25=_0x178a3d['get_m_hitF'+'ractions'](),_0x30cc03=_0x1d6094['size']();for(let _0xc67521=-0x2*-0xd69+0x2269+-0x591*0xb;_0xc67521<_0x30cc03;_0xc67521++){const _0xadcc28=Ammo['castObject'](_0x1d6094['at'](_0xc67521),Ammo['btRigidBod'+'y']);if(_0xadcc28&&_0xadcc28['entity']){if(_0x5e1e47['filterTags']&&!_0xadcc28['entity']['tags']['has'](..._0x5e1e47['filterTags'])||_0x5e1e47['filterCall'+'back']&&!_0x5e1e47['filterCall'+'back'](_0xadcc28['entity']))continue;const _0x17c022=_0xe9c6d7['at'](_0xc67521),_0x20b9f8=_0x235b75['at'](_0xc67521),_0x2e0f49=new xg(_0xadcc28['entity'],new T(_0x17c022['x'](),_0x17c022['y'](),_0x17c022['z']()),new T(_0x20b9f8['x'](),_0x20b9f8['y'](),_0x20b9f8['z']()),_0x48ad25['at'](_0xc67521));_0x2ef3dd['push'](_0x2e0f49);}}_0x5e1e47['sort']&&_0x2ef3dd['sort']((_0x30862a,_0xc28654)=>_0x30862a['hitFractio'+'n']-_0xc28654['hitFractio'+'n']);}return Ammo['destroy'](_0x178a3d),_0x2ef3dd;}['_storeColl'+'ision'](_0x24f57b,_0xbc0e4f){let _0x1eae6c=!(-0x26f4+0x1*0x1ec5+0x83*0x10);const _0x21b0c3=_0x24f57b['getGuid']();return this['collisions'][_0x21b0c3]=this['collisions'][_0x21b0c3]||{'others':[],'entity':_0x24f57b},this['collisions'][_0x21b0c3]['others']['indexOf'](_0xbc0e4f)<0x814+0x26dc+-0x2ef0&&(this['collisions'][_0x21b0c3]['others']['push'](_0xbc0e4f),_0x1eae6c=!(-0x2*0xc1+0x24af*0x1+-0x1*0x232d)),this['frameColli'+'sions'][_0x21b0c3]=this['frameColli'+'sions'][_0x21b0c3]||{'others':[],'entity':_0x24f57b},this['frameColli'+'sions'][_0x21b0c3]['others']['push'](_0xbc0e4f),_0x1eae6c;}['_createCon'+'tactPointF'+'romAmmo'](_0x2b1885){const _0x2dea67=_0x2b1885['get_m_loca'+'lPointA'](),_0x5373c0=_0x2b1885['get_m_loca'+'lPointB'](),_0x4336da=_0x2b1885['getPositio'+'nWorldOnA'](),_0x49789e=_0x2b1885['getPositio'+'nWorldOnB'](),_0x1ff385=_0x2b1885['get_m_norm'+'alWorldOnB'](),_0x17507c=this['contactPoi'+'ntPool']['allocate']();return _0x17507c['localPoint']['set'](_0x2dea67['x'](),_0x2dea67['y'](),_0x2dea67['z']()),_0x17507c['localPoint'+'Other']['set'](_0x5373c0['x'](),_0x5373c0['y'](),_0x5373c0['z']()),_0x17507c['point']['set'](_0x4336da['x'](),_0x4336da['y'](),_0x4336da['z']()),_0x17507c['pointOther']['set'](_0x49789e['x'](),_0x49789e['y'](),_0x49789e['z']()),_0x17507c['normal']['set'](_0x1ff385['x'](),_0x1ff385['y'](),_0x1ff385['z']()),_0x17507c['impulse']=_0x2b1885['getApplied'+'Impulse'](),_0x17507c;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x1e43b7){const _0x1ed7e4=_0x1e43b7['get_m_loca'+'lPointA'](),_0x30f8ba=_0x1e43b7['get_m_loca'+'lPointB'](),_0x4cbc44=_0x1e43b7['getPositio'+'nWorldOnA'](),_0x5b53c8=_0x1e43b7['getPositio'+'nWorldOnB'](),_0x385a6b=_0x1e43b7['get_m_norm'+'alWorldOnB'](),_0x5147f8=this['contactPoi'+'ntPool']['allocate']();return _0x5147f8['localPoint'+'Other']['set'](_0x1ed7e4['x'](),_0x1ed7e4['y'](),_0x1ed7e4['z']()),_0x5147f8['localPoint']['set'](_0x30f8ba['x'](),_0x30f8ba['y'](),_0x30f8ba['z']()),_0x5147f8['pointOther']['set'](_0x4cbc44['x'](),_0x4cbc44['y'](),_0x4cbc44['z']()),_0x5147f8['point']['set'](_0x5b53c8['x'](),_0x5b53c8['y'](),_0x5b53c8['z']()),_0x5147f8['normal']['set'](_0x385a6b['x'](),_0x385a6b['y'](),_0x385a6b['z']()),_0x5147f8['impulse']=_0x1e43b7['getApplied'+'Impulse'](),_0x5147f8;}['_createSin'+'gleContact'+'Result'](_0x530f87,_0x116763,_0x334f66){const _0x514567=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x514567['a']=_0x530f87,_0x514567['b']=_0x116763,_0x514567['localPoint'+'A']=_0x334f66['localPoint'],_0x514567['localPoint'+'B']=_0x334f66['localPoint'+'Other'],_0x514567['pointA']=_0x334f66['point'],_0x514567['pointB']=_0x334f66['pointOther'],_0x514567['normal']=_0x334f66['normal'],_0x514567['impulse']=_0x334f66['impulse'],_0x514567;}['_createCon'+'tactResult'](_0x2b95b7,_0x111a9e){const _0x52a06d=this['contactRes'+'ultPool']['allocate']();return _0x52a06d['other']=_0x2b95b7,_0x52a06d['contacts']=_0x111a9e,_0x52a06d;}['_cleanOldC'+'ollisions'](){for(const _0x1fbebe in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x1fbebe)){const _0x88a89f=this['frameColli'+'sions'][_0x1fbebe],_0x3f65d2=this['collisions'][_0x1fbebe],_0xd165e9=_0x3f65d2['entity'],_0x37ef3e=_0xd165e9['collision'],_0x2776cf=_0xd165e9['rigidbody'],_0x42f9d1=_0x3f65d2['others'];let _0x3ad185=_0x42f9d1['length'];for(;_0x3ad185--;){const _0xbbeca7=_0x42f9d1[_0x3ad185];(!_0x88a89f||_0x88a89f['others']['indexOf'](_0xbbeca7)<0x91*0xf+0x184d+-0x833*0x4)&&(_0x42f9d1['splice'](_0x3ad185,0x2702+-0x26e9+-0x18),_0xd165e9['trigger']?(_0x37ef3e&&_0x37ef3e['fire']('triggerlea'+'ve',_0xbbeca7),_0xbbeca7['rigidbody']&&_0xbbeca7['rigidbody']['fire']('triggerlea'+'ve',_0xd165e9)):_0xbbeca7['trigger']||(_0x2776cf&&_0x2776cf['fire']('collisione'+'nd',_0xbbeca7),_0x37ef3e&&_0x37ef3e['fire']('collisione'+'nd',_0xbbeca7)));}_0x42f9d1['length']===0x3d7*-0x6+-0x24a6+0x3bb0&&delete this['collisions'][_0x1fbebe];}}['_hasContac'+'tEvent'](_0x107c55){const _0x45855b=_0x107c55['collision'];if(_0x45855b&&(_0x45855b['hasEvent']('collisions'+'tart')||_0x45855b['hasEvent']('collisione'+'nd')||_0x45855b['hasEvent']('contact')))return!(-0x21c8+0x23d3+0x1*-0x20b);const _0x50277a=_0x107c55['rigidbody'];return _0x50277a&&(_0x50277a['hasEvent']('collisions'+'tart')||_0x50277a['hasEvent']('collisione'+'nd')||_0x50277a['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x527936,_0x3ebc03){const _0x5b81ec=Ammo['wrapPointe'+'r'](_0x527936,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x5f5314=_0x5b81ec['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x13edbe=-0x9da+0x194d+0x7*-0x235;_0x13edbe<_0x5f5314;_0x13edbe++){const _0x46a365=_0x5b81ec['getManifol'+'dByIndexIn'+'ternal'](_0x13edbe),_0x1ccdb4=_0x46a365['getBody0'](),_0x3b68ac=_0x46a365['getBody1'](),_0x1ceb8d=Ammo['castObject'](_0x1ccdb4,Ammo['btRigidBod'+'y']),_0x39370d=Ammo['castObject'](_0x3b68ac,Ammo['btRigidBod'+'y']),_0x5f1156=_0x1ceb8d['entity'],_0x567699=_0x39370d['entity'];if(!_0x5f1156||!_0x567699)continue;const _0x47303c=_0x1ceb8d['getCollisi'+'onFlags'](),_0x2e955a=_0x39370d['getCollisi'+'onFlags'](),_0x4ea9e9=_0x46a365['getNumCont'+'acts'](),_0x35f7d4=[],_0x36f8be=[];let _0x34a207;if(_0x4ea9e9>0x181d*0x1+-0x72b+0x2*-0x879){if(_0x47303c&lo||_0x2e955a&lo){const _0x174fbd=_0x5f1156['collision']&&(_0x5f1156['collision']['hasEvent']('triggerent'+'er')||_0x5f1156['collision']['hasEvent']('triggerlea'+'ve')),_0x5062ba=_0x567699['collision']&&(_0x567699['collision']['hasEvent']('triggerent'+'er')||_0x567699['collision']['hasEvent']('triggerlea'+'ve')),_0x1fff28=_0x5f1156['rigidbody']&&(_0x5f1156['rigidbody']['hasEvent']('triggerent'+'er')||_0x5f1156['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x23f8a2=_0x567699['rigidbody']&&(_0x567699['rigidbody']['hasEvent']('triggerent'+'er')||_0x567699['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x174fbd&&(_0x34a207=this['_storeColl'+'ision'](_0x5f1156,_0x567699),_0x34a207&&!(_0x2e955a&lo)&&_0x5f1156['collision']['fire']('triggerent'+'er',_0x567699)),_0x5062ba&&(_0x34a207=this['_storeColl'+'ision'](_0x567699,_0x5f1156),_0x34a207&&!(_0x47303c&lo)&&_0x567699['collision']['fire']('triggerent'+'er',_0x5f1156)),_0x1fff28&&(_0x34a207||(_0x34a207=this['_storeColl'+'ision'](_0x567699,_0x5f1156)),_0x34a207&&_0x5f1156['rigidbody']['fire']('triggerent'+'er',_0x567699)),_0x23f8a2&&(_0x34a207||(_0x34a207=this['_storeColl'+'ision'](_0x5f1156,_0x567699)),_0x34a207&&_0x567699['rigidbody']['fire']('triggerent'+'er',_0x5f1156));}else{const _0x464623=this['_hasContac'+'tEvent'](_0x5f1156),_0x358554=this['_hasContac'+'tEvent'](_0x567699),_0x1e6e48=this['hasEvent']('contact');if(_0x1e6e48||_0x464623||_0x358554){for(let _0x5d6a88=0x494*0x4+-0x11*0x2c+-0xa*0x18a;_0x5d6a88<_0x4ea9e9;_0x5d6a88++){const _0x4150cd=_0x46a365['getContact'+'Point'](_0x5d6a88),_0x440770=this['_createCon'+'tactPointF'+'romAmmo'](_0x4150cd);if(_0x464623||_0x358554){_0x35f7d4['push'](_0x440770);const _0x3923f3=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x4150cd);_0x36f8be['push'](_0x3923f3);}if(_0x1e6e48){const _0x42d1c9=this['_createSin'+'gleContact'+'Result'](_0x5f1156,_0x567699,_0x440770);this['fire']('contact',_0x42d1c9);}}if(_0x464623){const _0x5c3e9e=this['_createCon'+'tactResult'](_0x567699,_0x35f7d4);_0x34a207=this['_storeColl'+'ision'](_0x5f1156,_0x567699),_0x5f1156['collision']&&(_0x5f1156['collision']['fire']('contact',_0x5c3e9e),_0x34a207&&_0x5f1156['collision']['fire']('collisions'+'tart',_0x5c3e9e)),_0x5f1156['rigidbody']&&(_0x5f1156['rigidbody']['fire']('contact',_0x5c3e9e),_0x34a207&&_0x5f1156['rigidbody']['fire']('collisions'+'tart',_0x5c3e9e));}if(_0x358554){const _0x49525e=this['_createCon'+'tactResult'](_0x5f1156,_0x36f8be);_0x34a207=this['_storeColl'+'ision'](_0x567699,_0x5f1156),_0x567699['collision']&&(_0x567699['collision']['fire']('contact',_0x49525e),_0x34a207&&_0x567699['collision']['fire']('collisions'+'tart',_0x49525e)),_0x567699['rigidbody']&&(_0x567699['rigidbody']['fire']('contact',_0x49525e),_0x34a207&&_0x567699['rigidbody']['fire']('collisions'+'tart',_0x49525e));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x5f0b1a){let _0x1d9725,_0xaf2750;this['_stats']['physicsSta'+'rt']=ne(),this['_gravityFl'+'oat32'][-0x2104+-0x14f3*0x1+0x35f7]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x2*-0xc4c+-0x65*-0x5c+-0x5*0x257]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0xd85+0x15b*-0x7+-0x1eb*-0xc]=this['gravity']['z'];const _0x51e6f8=this['dynamicsWo'+'rld']['getGravity']();(_0x51e6f8['x']()!==this['_gravityFl'+'oat32'][0x395+0xe2a+-0x11bf]||_0x51e6f8['y']()!==this['_gravityFl'+'oat32'][-0xb*0x127+0x1eb9*0x1+-0x120b]||_0x51e6f8['z']()!==this['_gravityFl'+'oat32'][0x34f*0x7+-0x91d+0x257*-0x6])&&(_0x51e6f8['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x51e6f8));const _0x5aea84=this['_triggers'];for(_0x1d9725=-0x1dc6+0x1fb8+-0x1f2,_0xaf2750=_0x5aea84['length'];_0x1d9725<_0xaf2750;_0x1d9725++)_0x5aea84[_0x1d9725]['updateTran'+'sform']();const _0xd48c9b=this['_compounds'];for(_0x1d9725=0x1835+-0x1e4b+0x616,_0xaf2750=_0xd48c9b['length'];_0x1d9725<_0xaf2750;_0x1d9725++)_0xd48c9b[_0x1d9725]['_updateCom'+'pound']();const _0x5a9294=this['_kinematic'];for(_0x1d9725=0x53*0x5+0x1*-0xdce+0xc2f,_0xaf2750=_0x5a9294['length'];_0x1d9725<_0xaf2750;_0x1d9725++)_0x5a9294[_0x1d9725]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x5f0b1a,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x5553c9=this['_dynamic'];for(_0x1d9725=-0x150+0xc7*0x29+-0x1e8f,_0xaf2750=_0x5553c9['length'];_0x1d9725<_0xaf2750;_0x1d9725++)_0x5553c9[_0x1d9725]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x5f0b1a),this['_stats']['physicsTim'+'e']=ne()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](ai),Ammo['destroy'](oi),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,ai=null,oi=null,$s['onAppDestr'+'oy']());}}c(mx,'EVENT_CONT'+'ACT','contact'),ue['_buildAcce'+'ssors']($s['prototype'],px);const Wn='none',SI='blend',Sg=new q();class _x extends ue{constructor(_0x394c18,_0x1d320d){super(_0x394c18,_0x1d320d),this['_resolutio'+'n']=new $(0x92c+0x20ee+-0x25*0x112,0x185c+-0x1d21+0x43*0x17),this['_reference'+'Resolution']=new $(-0x18dd+0xd6c+-0xdf1*-0x1,-0x159d*0x1+-0x1*0x2588+0x3c65),this['_scaleMode']=Wn,this['scale']=-0x8*-0x2cc+0x17f5+-0x2e54,this['_scaleBlen'+'d']=0x115*-0x2+0x2124+-0x5*0x632+0.5,this['_priority']=0x1*-0x1edf+-0x17*0xd+0x200a,this['_screenSpa'+'ce']=!(0x141f+0xc37+-0x5d*0x59),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0x394c18['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x4a7372,_0x123cdb){var _0x219da4;if(!(_0x4a7372 instanceof $e))return _0x123cdb;if(_0x4a7372['element']){const _0x3b381d=_0x4a7372['element']['drawOrder'];_0x4a7372['element']['drawOrder']=_0x123cdb++,_0x4a7372['element']['_batchGrou'+'pId']>=-0x2*-0x1005+-0x9ba+-0x2ca*0x8&&_0x3b381d!==_0x4a7372['element']['drawOrder']&&((_0x219da4=this['system']['app']['batcher'])==null||_0x219da4['markGroupD'+'irty'](_0x4a7372['element']['_batchGrou'+'pId']));}_0x4a7372['particlesy'+'stem']&&(_0x4a7372['particlesy'+'stem']['drawOrder']=_0x123cdb++);const _0x487dc5=_0x4a7372['children'];for(let _0x13f67d=-0x3*-0x5b8+0x19+-0x1141;_0x13f67d<_0x487dc5['length'];_0x13f67d++)_0x123cdb=this['_recurseDr'+'awOrderSyn'+'c'](_0x487dc5[_0x13f67d],_0x123cdb);return _0x123cdb;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0xda*-0x1f+-0x1b1b+-0xd*-0xe),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x5f129c=this['_resolutio'+'n']['x']/this['scale'],_0x5853fa=this['_resolutio'+'n']['y']/this['scale'],_0x4eb5ae=-0x26b*0xc+0x2273*-0x1+0x3f77,_0x52733f=_0x5f129c,_0x21dd3c=-_0x5853fa;this['_screenMat'+'rix']['setOrtho'](_0x4eb5ae,_0x52733f,_0x21dd3c,0x65b*0x1+-0xdd3+-0x2*-0x3bc,-0xf0e+0x2342*0x1+-0x1433,-(-0xd*0xaa+-0x18ff+0x21a2)),this['_screenSpa'+'ce']||(Sg['setScale']((-0x9ed+-0xf65+0x1952*0x1+0.5)*_0x5f129c,(-0x3e8+-0x242e+-0xe*-0x2dd+0.5)*_0x5853fa,0x2*0x1220+0x152b+-0x1*0x396a),this['_screenMat'+'rix']['mul2'](Sg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x37a60a,_0x1fa318){const _0x57207e=Math['log2']((_0x37a60a['x']||-0x13f8+0x129b+0x15e)/_0x1fa318['x']),_0x2d5c8f=Math['log2']((_0x37a60a['y']||0x1e9f+0x1*-0x25bf+-0x49*-0x19)/_0x1fa318['y']);return Math['pow'](-0x1476+0x1f30+-0xe*0xc4,_0x57207e*(0x43a*-0x3+0x60b+0x2*0x352-this['_scaleBlen'+'d'])+_0x2d5c8f*this['_scaleBlen'+'d']);}['_onResize'](_0x575cde,_0x567311){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x575cde,_0x567311),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x478518){this['_elements']['add'](_0x478518);}['_unbindEle'+'ment'](_0x3316b1){this['_elements']['delete'](_0x3316b1);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x46a80f=>_0x46a80f['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x5015f6){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x5015f6['x'],_0x5015f6['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x3bba3f=>_0x3bba3f['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x23743e){this['_reference'+'Resolution']['set'](_0x23743e['x'],_0x23743e['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x169f12=>_0x169f12['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Wn?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x4cf50a){this['_screenSpa'+'ce']=_0x4cf50a,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x115905=>_0x115905['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x65005a){_0x65005a!==Wn&&_0x65005a!==SI&&(_0x65005a=Wn),!this['_screenSpa'+'ce']&&_0x65005a!==Wn&&(_0x65005a=Wn),this['_scaleMode']=_0x65005a,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x20e253){this['_scaleBlen'+'d']=_0x20e253,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x180ab3=>_0x180ab3['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x3eb09a){_0x3eb09a>-0x52e+-0xcd3+0x1300&&(v['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x3eb09a+'\x20to\x20255'),_0x3eb09a=-0xa*0x18+0x18c+0x1*0x63),this['_priority']!==_0x3eb09a&&(this['_priority']=_0x3eb09a,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class vI{constructor(){this['enabled']=!(-0x514*-0x1+-0x1*-0x1fc3+0x1*-0x24d7);}}const mf=['enabled'];class bI extends Xe{constructor(_0x2a755f){super(_0x2a755f),this['id']='screen',this['ComponentT'+'ype']=_x,this['DataType']=vI,this['schema']=mf,this['windowReso'+'lution']=new $(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x403964,_0x573ea0,_0x194fe4){_0x573ea0['priority']!==void(-0x4*0x8bd+0x52*0x7+0x20b6)&&(_0x403964['priority']=_0x573ea0['priority']),_0x573ea0['screenSpac'+'e']!==void(-0x13af*-0x1+-0x9e9+-0x9c6)&&(_0x403964['screenSpac'+'e']=_0x573ea0['screenSpac'+'e']),_0x403964['cull']=_0x403964['screenSpac'+'e'],_0x573ea0['scaleMode']!==void(-0x2b*0x21+0x74f*-0x3+-0x1*-0x1b78)&&(_0x403964['scaleMode']=_0x573ea0['scaleMode']),_0x573ea0['scaleBlend']!==void(-0x669*0x1+0x268a+0x497*-0x7)&&(_0x403964['scaleBlend']=_0x573ea0['scaleBlend']),_0x573ea0['resolution']!==void(-0x1d7e+0x3d7*0x8+-0x13a)&&(_0x573ea0['resolution']instanceof $?_0x403964['_resolutio'+'n']['copy'](_0x573ea0['resolution']):_0x403964['_resolutio'+'n']['set'](_0x573ea0['resolution'][0x2*-0x62e+0x634+-0x628*-0x1],_0x573ea0['resolution'][0x1351+-0x268a*-0x1+0x1ced*-0x2]),_0x403964['resolution']=_0x403964['_resolutio'+'n']),_0x573ea0['referenceR'+'esolution']!==void(-0x38d+-0x4b5*-0x1+-0x128)&&(_0x573ea0['referenceR'+'esolution']instanceof $?_0x403964['_reference'+'Resolution']['copy'](_0x573ea0['referenceR'+'esolution']):_0x403964['_reference'+'Resolution']['set'](_0x573ea0['referenceR'+'esolution'][-0x1*0x1649+0x1*0x2673+-0x102a],_0x573ea0['referenceR'+'esolution'][-0x25dd+-0xb*-0x1b+0x24b5]),_0x403964['referenceR'+'esolution']=_0x403964['_reference'+'Resolution']),_0x403964['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x403964,_0x573ea0,mf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x61307b){const _0x4e55cf=this['store'];for(const _0x32b879 in _0x4e55cf)_0x4e55cf[_0x32b879]['entity']['screen']['update']&&_0x4e55cf[_0x32b879]['entity']['screen']['update'](_0x61307b);}['_onResize'](_0x4119f3,_0x1831be){this['windowReso'+'lution']['x']=_0x4119f3,this['windowReso'+'lution']['y']=_0x1831be;}['cloneCompo'+'nent'](_0x4e388d,_0x449890){const _0x1c1f3a=_0x4e388d['screen'];return this['addCompone'+'nt'](_0x449890,{'enabled':_0x1c1f3a['enabled'],'screenSpace':_0x1c1f3a['screenSpac'+'e'],'scaleMode':_0x1c1f3a['scaleMode'],'resolution':_0x1c1f3a['resolution']['clone'](),'referenceResolution':_0x1c1f3a['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x36bf39,_0x2be4ee){_0x2be4ee['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x39ab38=this['_drawOrder'+'SyncQueue']['list']();for(let _0x39f140=0x1*-0xc03+-0x1d7f+0x2982;_0x39f140<_0x39ab38['length'];_0x39f140++){const _0x21e17b=_0x39ab38[_0x39f140];_0x21e17b['callback']['call'](_0x21e17b['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0xa6ed4c,_0x15e6de,_0x4817cb){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0xa6ed4c)||this['_drawOrder'+'SyncQueue']['push'](_0xa6ed4c,{'callback':_0x15e6de,'scope':_0x4817cb});}}ue['_buildAcce'+'ssors'](_x['prototype'],mf);const qi=new $(),vg=new T(),Pr=new uu(),bg=new hy(),wg=new T(),io=new T(),wI=new se(),TI={'x':'y','y':'x'};class wo extends ce{constructor(_0x5a2432,_0x4364b9){if(super(),!_0x5a2432||!(_0x5a2432 instanceof Gt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x4364b9&&_0x4364b9!=='x'&&_0x4364b9!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x4364b9);this['_element']=_0x5a2432,this['_app']=_0x5a2432['system']['app'],this['_axis']=_0x4364b9||null,this['_enabled']=!(0x26c3+-0xc59+-0x2e*0x93),this['_dragScale']=new T(),this['_dragStart'+'MousePosit'+'ion']=new T(),this['_dragStart'+'HandlePosi'+'tion']=new T(),this['_deltaMous'+'ePosition']=new T(),this['_deltaHand'+'lePosition']=new T(),this['_isDraggin'+'g']=!(-0x10f*-0x20+0x15d*-0x15+0x2*-0x29f),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x17dfbd){this['_element'][_0x17dfbd]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x17dfbd]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x17dfbd]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x6adad9){const _0x4a1232=_0x6adad9==='on';this['_hasDragLi'+'steners']&&_0x4a1232||(this['_app']['mouse']&&(this['_element'][_0x6adad9]('mousemove',this['_onMove'],this),this['_element'][_0x6adad9]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),ye['touch']&&(this['_element'][_0x6adad9]('touchmove',this['_onMove'],this),this['_element'][_0x6adad9]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x6adad9]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x6adad9]('selectmove',this['_onMove'],this),this['_element'][_0x6adad9]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x4a1232);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x2fc217){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x2fc217['camera'],this['_calculate'+'DragScale']();const _0xce3004=this['_screenToL'+'ocal'](_0x2fc217);_0xce3004&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(0x1ffd*0x1+0x19ce+-0x39cb),this['_dragStart'+'MousePosit'+'ion']['copy'](_0xce3004),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0xdd9*-0x2+0x1a33+0x180),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x318ee2){return _0x318ee2['inputSourc'+'e']?Pr['set'](_0x318ee2['inputSourc'+'e']['getOrigin'](),_0x318ee2['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x318ee2),this['_chooseRay'+'OriginAndD'+'irection']()),wg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0x233d+0x2026+0x318)),bg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),wg),bg['intersects'+'Ray'](Pr,io)?(wI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](io,io),io['mul'](this['_dragScale']),io):null;}['_determine'+'InputPosit'+'ion'](_0x56c30f){const _0x1134f5=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x56c30f['x']<'u'&&typeof _0x56c30f['y']<'u'?(qi['x']=_0x56c30f['x']*_0x1134f5,qi['y']=_0x56c30f['y']*_0x1134f5):_0x56c30f['changedTou'+'ches']?(qi['x']=_0x56c30f['changedTou'+'ches'][0x1be8+0x10ca*0x1+0x6*-0x773]['x']*_0x1134f5,qi['y']=_0x56c30f['changedTou'+'ches'][0xbac+-0x1*-0x13cd+-0x1f79]['y']*_0x1134f5):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Pr['origin']['set'](qi['x'],-qi['y'],-0x982*0x2+-0x38d*0x2+-0xd0f*-0x2),Pr['direction']['copy'](T['FORWARD'])):(vg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](qi['x'],qi['y'],-0x1*0x1f61+-0x13ff+-0x757*-0x7)),Pr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Pr['direction']['copy'](vg)['sub'](Pr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x123695=this['_element']['entity']['parent'];const _0x519f81=this['_element']['screen']&&this['_element']['screen']['screen'],_0x4ad169=_0x519f81&&_0x519f81['screenSpac'+'e'],_0x1de871=_0x4ad169?_0x519f81['scale']:-0x1*0x2671+0x9*0x36e+0x184*0x5,_0x324c8b=this['_dragScale'];for(_0x324c8b['set'](_0x1de871,_0x1de871,_0x1de871);_0x123695&&(_0x324c8b['mul'](_0x123695['getLocalSc'+'ale']()),_0x123695=_0x123695['parent'],!(_0x4ad169&&_0x123695['screen'])););_0x324c8b['x']=(0x14e*0x8+-0x1370*-0x1+-0x1ddf)/_0x324c8b['x'],_0x324c8b['y']=(0x1df4+0x1*0x18b+0x1*-0x1f7e)/_0x324c8b['y'],_0x324c8b['z']=-0x173f*0x1+-0x82f*0x4+0x37fb;}['_onMove'](_0x5661f9){const {_element:_0x1b9489,_deltaMousePosition:_0x5bb3a0,_deltaHandlePosition:_0x8796c2,_axis:_0x464bc1}=this;if(_0x1b9489&&this['_isDraggin'+'g']&&this['enabled']&&_0x1b9489['enabled']&&_0x1b9489['entity']['enabled']){const _0x55e242=this['_screenToL'+'ocal'](_0x5661f9);if(_0x55e242){if(_0x5bb3a0['sub2'](_0x55e242,this['_dragStart'+'MousePosit'+'ion']),_0x8796c2['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x5bb3a0),_0x464bc1){const _0x4fd5f7=_0x1b9489['entity']['getLocalPo'+'sition'](),_0x4e4e6e=TI[_0x464bc1];_0x8796c2[_0x4e4e6e]=_0x4fd5f7[_0x4e4e6e];}_0x1b9489['entity']['setLocalPo'+'sition'](_0x8796c2),this['fire']('drag:move',_0x8796c2);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x17b940){this['_enabled']=_0x17b940;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(wo,'EVENT_DRAG'+'START','drag:start'),c(wo,'EVENT_DRAG'+'END','drag:end'),c(wo,'EVENT_DRAG'+'MOVE','drag:move');const AI=-0x1fb3+-0x13*0x1fd+0x457a,Tg=0x4*0x67+-0x2460+0x17*0x183,EI=0x61*0x2f+0x265f*-0x1+0x1492,CI=0xa7+-0x120c*0x1+0x1165,MI=0xe93+0xdf*-0xe+0x2*-0x130,ro=new $();class gx extends ue{constructor(_0x45b6e3,_0x24ad02){super(_0x45b6e3,_0x24ad02),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_scroll']=new $(),this['_velocity']=new T(),this['_dragStart'+'Position']=new T(),this['_disabledC'+'ontentInpu'+'t']=!(0x4c*-0x33+0x17*0xbe+-0x1ed),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x50ccd9=this['system']['store'][this['entity']['getGuid']()];return _0x50ccd9?_0x50ccd9['data']:null;}set['enabled'](_0x412461){this['_setValue']('enabled',_0x412461);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x48575a){this['_setValue']('horizontal',_0x48575a);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x1c38e3){this['_setValue']('vertical',_0x1c38e3);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x3a0997){this['_setValue']('scrollMode',_0x3a0997);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x329861){this['_setValue']('bounceAmou'+'nt',_0x329861);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0xb5ea64){this['_setValue']('friction',_0xb5ea64);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x115523){this['_setValue']('dragThresh'+'old',_0x115523);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x117d0b){this['_setValue']('useMouseWh'+'eel',_0x117d0b);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x3c4b45){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x3c4b45);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x41992c){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x41992c);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x55f155){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x55f155);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x24c019){if(this['_viewportE'+'ntity']===_0x24c019)return;const _0x118446=typeof _0x24c019=='string';this['_viewportE'+'ntity']&&_0x118446&&this['_viewportE'+'ntity']['getGuid']()===_0x24c019||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x24c019 instanceof De?this['_viewportE'+'ntity']=_0x24c019:_0x118446?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x24c019)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x118446&&_0x24c019&&(this['data']['viewportEn'+'tity']=_0x24c019));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x1ad042){if(this['_contentEn'+'tity']===_0x1ad042)return;const _0x2b94c8=typeof _0x1ad042=='string';this['_contentEn'+'tity']&&_0x2b94c8&&this['_contentEn'+'tity']['getGuid']()===_0x1ad042||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x1ad042 instanceof De?this['_contentEn'+'tity']=_0x1ad042:_0x2b94c8?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x1ad042)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x2b94c8&&_0x1ad042&&(this['data']['contentEnt'+'ity']=_0x1ad042));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x383167){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x383167)return;const _0x2010e5=typeof _0x383167=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x2010e5&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x383167||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x383167 instanceof De?this['_horizonta'+'lScrollbar'+'Entity']=_0x383167:_0x2010e5?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x383167)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][pe]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x2010e5&&_0x383167&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x383167));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x5a3697){if(this['_verticalS'+'crollbarEn'+'tity']===_0x5a3697)return;const _0x2fdd75=typeof _0x5a3697=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x2fdd75&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x5a3697||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x5a3697 instanceof De?this['_verticalS'+'crollbarEn'+'tity']=_0x5a3697:_0x2fdd75?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x5a3697)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][ke]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x2fdd75&&_0x5a3697&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x5a3697));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x36f3eb){this['_onSetScro'+'ll'](_0x36f3eb['x'],_0x36f3eb['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x69a67e,_0xddbf7c){const _0x13fb6d=this['data'],_0xb98557=_0x13fb6d[_0x69a67e];_0x13fb6d[_0x69a67e]=_0xddbf7c,this['fire']('set',_0x69a67e,_0xb98557,_0xddbf7c);}['_toggleLif'+'ecycleList'+'eners'](_0x21bf70){this[_0x21bf70]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x21bf70]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x21bf70]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x3bd52f){if(this['entity']['element']){if(_0x3bd52f==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x3bd52f]('resize',this['_syncAll'],this),this['entity']['element'][_0x3bd52f](Mu,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x3bd52f==='on';}}['_onElement'+'ComponentA'+'dd'](_0x263afd){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x20a401){var _0x5a0902;(_0x5a0902=this['_evtElemen'+'tRemove'])==null||_0x5a0902['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x5818d9,_0x2477be;(_0x5818d9=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x5818d9['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x2477be=this['_viewportE'+'ntity'])!=null&&_0x2477be['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x37a8af=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x37a8af['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x37a8af['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x33c836,_0xbe66a7;(_0x33c836=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x33c836['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0xbe66a7=this['_evtViewpo'+'rtResize'])==null||_0xbe66a7['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x2e2653,_0x4af84a;(_0x2e2653=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x2e2653['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x4af84a=this['_contentEn'+'tity'])!=null&&_0x4af84a['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x593480=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x593480['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x593480['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x2a31a6,_0x5682d4;(_0x2a31a6=this['_evtConten'+'tElementRe'+'move'])==null||_0x2a31a6['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x5682d4=this['_evtConten'+'tResize'])==null||_0x5682d4['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new wo(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x1dbe1f){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0x1446+-0x121f+0x13*-0x1d),this['_setScroll'+'FromConten'+'tPosition'](_0x1dbe1f),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x1dbe1f),!this['_disabledC'+'ontentInpu'+'t'])){const _0x43cc4e=_0x1dbe1f['x']-this['_dragStart'+'Position']['x'],_0x32c6a5=_0x1dbe1f['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x43cc4e)>this['dragThresh'+'old']||Math['abs'](_0x32c6a5)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x8a10c7;(_0x8a10c7=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x8a10c7['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x1a86a8;(_0x1a86a8=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x1a86a8['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x2c6be3){!this['_scrollbar'+'UpdateFlag'+'s'][pe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x2c6be3,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x1f45a4){!this['_scrollbar'+'UpdateFlag'+'s'][ke]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x1f45a4);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x38d951;const _0x1e072a=(_0x38d951=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x1c0e+-0x2d*0x2f+-0x3*-0xc1b):_0x38d951['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x1e072a['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x1e072a['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarPositi'+'on'](pe);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x3de7c9;const _0x53b4f8=(_0x3de7c9=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0x4e7*-0x5+0x1a*0x123+-0x3611):_0x3de7c9['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x53b4f8['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x53b4f8['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ke),this['_syncScrol'+'lbarPositi'+'on'](ke);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x42b46e,_0x3afb07;(_0x42b46e=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x42b46e['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x3afb07=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x3afb07['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x34d8a7,_0x35e130;(_0x34d8a7=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x34d8a7['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x35e130=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x35e130['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](pe);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_onSetScro'+'ll'](_0x3728a1,_0xc5f994,_0x32a5f2){_0x32a5f2!==!(0x17e5+0x6f*-0x52+-0x2*-0x5d5)&&this['_velocity']['set'](-0x198e+-0x4d*0x2e+-0x2*-0x13b2,-0x2*-0x12af+-0x1342+-0x121c,0xe*0x139+0x1*0x19cf+-0x2aed);const _0x478cb4=this['_updateAxi'+'s'](_0x3728a1,'x',pe),_0x2c113a=this['_updateAxi'+'s'](_0xc5f994,'y',ke);(_0x478cb4||_0x2c113a)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x59a810,_0x1bf233,_0x171bf3){const _0x39d50=_0x59a810!==null&&Math['abs'](_0x59a810-this['_scroll'][_0x1bf233])>0x5c0+0x1ed6+-0xc32*0x3+0.00001;return(_0x39d50||this['_isDraggin'+'g']()||_0x59a810===0x1d99+-0xec1+-0xed8)&&(this['_scroll'][_0x1bf233]=this['_determine'+'NewScrollV'+'alue'](_0x59a810,_0x1bf233,_0x171bf3),this['_syncConte'+'ntPosition'](_0x171bf3),this['_syncScrol'+'lbarPositi'+'on'](_0x171bf3)),_0x39d50;}['_determine'+'NewScrollV'+'alue'](_0x4ae69f,_0xef7910,_0x186c03){if(!this['_getScroll'+'ingEnabled'](_0x186c03))return this['_scroll'][_0xef7910];switch(this['scrollMode']){case AI:return N['clamp'](_0x4ae69f,0x342+0x4cf*0x7+-0x2d7*0xd,this['_getMaxScr'+'ollValue'](_0x186c03));case Tg:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x4ae69f,_0xef7910,_0x186c03),_0x4ae69f;case EI:return _0x4ae69f;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x4ae69f;}}['_syncAll'](){this['_syncConte'+'ntPosition'](pe),this['_syncConte'+'ntPosition'](ke),this['_syncScrol'+'lbarPositi'+'on'](pe),this['_syncScrol'+'lbarPositi'+'on'](ke),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_syncConte'+'ntPosition'](_0x32cf6e){if(!this['_contentEn'+'tity'])return;const _0x480e20=this['_getAxis'](_0x32cf6e),_0x5a78d2=this['_getSign'](_0x32cf6e),_0x1af26c=this['_prevConte'+'ntSizes'][_0x32cf6e],_0x5b64a2=this['_getConten'+'tSize'](_0x32cf6e);if(_0x1af26c!==null&&Math['abs'](_0x1af26c-_0x5b64a2)>-0x1*0x88a+-0x1adb+0x2365*0x1+0.0001){const _0x5e5475=this['_getMaxOff'+'set'](_0x32cf6e,_0x1af26c),_0x2dbc61=this['_getMaxOff'+'set'](_0x32cf6e,_0x5b64a2);_0x2dbc61===-0x24c2+0x8e*0x3+0x4*0x8c6?this['_scroll'][_0x480e20]=-0x1c06+-0x136+0x1d3d:this['_scroll'][_0x480e20]=N['clamp'](this['_scroll'][_0x480e20]*_0x5e5475/_0x2dbc61,0x2604+-0x21f1+-0x413,0x625+0x7ab*-0x2+0x932);}const _0x192406=this['_scroll'][_0x480e20]*this['_getMaxOff'+'set'](_0x32cf6e),_0x4ee425=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x4ee425[_0x480e20]=_0x192406*_0x5a78d2,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x4ee425),this['_prevConte'+'ntSizes'][_0x32cf6e]=_0x5b64a2;}['_syncScrol'+'lbarPositi'+'on'](_0x399fd1){const _0x3c1bff=this['_scrollbar'+'Entities'][_0x399fd1];if(!(_0x3c1bff!=null&&_0x3c1bff['scrollbar']))return;const _0x354494=this['_getAxis'](_0x399fd1);this['_scrollbar'+'UpdateFlag'+'s'][_0x399fd1]=!(-0xb83+-0x8a7+-0x2*-0xa15),_0x3c1bff['scrollbar']['value']=this['_scroll'][_0x354494],_0x3c1bff['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x354494,_0x399fd1),this['_scrollbar'+'UpdateFlag'+'s'][_0x399fd1]=!(0x1d9*0x13+-0x1*-0xf8d+-0x32a7);}['_syncScrol'+'lbarEnable'+'dState'](_0x409fc5){const _0x4ab1c6=this['_scrollbar'+'Entities'][_0x409fc5];if(!_0x4ab1c6)return;const _0x2ff81c=this['_getScroll'+'ingEnabled'](_0x409fc5),_0x2a293a=this['_getScroll'+'barVisibil'+'ity'](_0x409fc5);switch(_0x2a293a){case CI:_0x4ab1c6['enabled']=_0x2ff81c;return;case MI:_0x4ab1c6['enabled']=_0x2ff81c&&this['_contentIs'+'LargerThan'+'Viewport'](_0x409fc5);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x2a293a),_0x4ab1c6['enabled']=_0x2ff81c;}}['_contentIs'+'LargerThan'+'Viewport'](_0x4d5e6b){return this['_getConten'+'tSize'](_0x4d5e6b)>this['_getViewpo'+'rtSize'](_0x4d5e6b);}['_contentPo'+'sitionToSc'+'rollValue'](_0x2230f2){const _0x3c7f86=this['_getMaxOff'+'set'](pe),_0x451cb3=this['_getMaxOff'+'set'](ke);return _0x3c7f86===-0x139*0x6+0x1*0x3b+-0x1*-0x71b?ro['x']=0x4bf+0x17e*0x2+-0x1*0x7bb:ro['x']=_0x2230f2['x']/_0x3c7f86,_0x451cb3===-0xc58+0x774+0x272*0x2?ro['y']=-0x16a0+0x210d+-0xa6d:ro['y']=_0x2230f2['y']/-_0x451cb3,ro;}['_getMaxOff'+'set'](_0x264270,_0x5628d5){_0x5628d5=_0x5628d5===void(0x7ea*0x1+0xe16*-0x1+0x62c)?this['_getConten'+'tSize'](_0x264270):_0x5628d5;const _0x4a44b3=this['_getViewpo'+'rtSize'](_0x264270);return _0x5628d5<_0x4a44b3?-this['_getViewpo'+'rtSize'](_0x264270):_0x4a44b3-_0x5628d5;}['_getMaxScr'+'ollValue'](_0xb1fb){return this['_contentIs'+'LargerThan'+'Viewport'](_0xb1fb)?0x1*-0xdf+-0x294+0x374:0x31*-0x25+-0x378+0xa8d;}['_getScroll'+'barHandleS'+'ize'](_0x40b9e0,_0x19ae30){const _0x132329=this['_getViewpo'+'rtSize'](_0x19ae30),_0x453c0d=this['_getConten'+'tSize'](_0x19ae30);if(Math['abs'](_0x453c0d)<-0x92*-0x25+-0x5f0+-0xf2a+0.001)return-0x2278+0x25b8+-0x33f*0x1;const _0x55036f=Math['min'](_0x132329/_0x453c0d,-0x5f3+0xe11*-0x1+0x1405),_0x408c33=this['_toOversho'+'ot'](this['_scroll'][_0x40b9e0],_0x19ae30);return _0x408c33===0x1*-0x19a3+-0x2297+0x3c3a?_0x55036f:_0x55036f/(-0x19f9*-0x1+-0x3c8+-0x238*0xa+Math['abs'](_0x408c33));}['_getViewpo'+'rtSize'](_0x5df009){return this['_getSize'](_0x5df009,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x1ad4e7){return this['_getSize'](_0x1ad4e7,this['_contentEn'+'tity']);}['_getSize'](_0x1bbae4,_0x32e872){return _0x32e872!=null&&_0x32e872['element']?_0x32e872['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x1bbae4)]:-0x9ef*-0x2+0x12c9*-0x1+-0x115;}['_getScroll'+'ingEnabled'](_0x531c4a){if(_0x531c4a===pe)return this['horizontal'];if(_0x531c4a===ke)return this['vertical'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x531c4a);}['_getScroll'+'barVisibil'+'ity'](_0x44c917){if(_0x44c917===pe)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x44c917===ke)return this['verticalSc'+'rollbarVis'+'ibility'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x44c917);}['_getSign'](_0x3b7838){return _0x3b7838===pe?0x2638+-0x1547*-0x1+-0x3b7e:-(0x1fa6+0x806*0x1+0xf*-0x2a5);}['_getAxis'](_0x59114c){return _0x59114c===pe?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x340e97){return _0x340e97===pe?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Tg&&(this['_hasOversh'+'oot']('x',pe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',pe),this['_hasOversh'+'oot']('y',ke)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',ke)),Math['abs'](this['_velocity']['x'])>-0x1fe2+-0xb*-0x2b1+0x247+0.0001||Math['abs'](this['_velocity']['y'])>-0x107b*0x2+0x1941+-0x1*-0x7b5+0.0001){const _0x47ceb7=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x47ceb7['x']+=this['_velocity']['x'],_0x47ceb7['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x47ceb7),this['_setScroll'+'FromConten'+'tPosition'](_0x47ceb7);}this['_velocity']['x']*=0xd80+0x26*0x83+-0x20f1-this['friction'],this['_velocity']['y']*=-0x20*-0x10f+0x216e+0x1*-0x434d-this['friction'];}}['_hasOversh'+'oot'](_0x34209c,_0x4165b0){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x34209c],_0x4165b0))>0x14ba*-0x1+0x2523+0x1069*-0x1+0.001;}['_toOversho'+'ot'](_0x420635,_0x1ff931){const _0x4c88ad=this['_getMaxScr'+'ollValue'](_0x1ff931);return _0x420635<0x167a+0x3*-0xce0+0x1026?_0x420635:_0x420635>_0x4c88ad?_0x420635-_0x4c88ad:-0x16d8+-0x2*-0x118b+-0x1*0xc3e;}['_setVeloci'+'tyFromOver'+'shoot'](_0x588caa,_0x3b7bae,_0x9d2645){const _0x41da5b=this['_toOversho'+'ot'](_0x588caa,_0x9d2645)*this['_getMaxOff'+'set'](_0x9d2645)*this['_getSign'](_0x9d2645);Math['abs'](_0x41da5b)>0x1b*-0x96+0x4*-0x85d+0x3146&&(this['_velocity'][_0x3b7bae]=-_0x41da5b/(this['bounceAmou'+'nt']*(0x14c9+0x1c11*-0x1+-0x3a*-0x21)+(0x2f*-0xa7+0x8*-0xfe+-0x1*-0x269a)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x3f295f){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x3f295f,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x3f295f)):(this['_velocity']['set'](-0x1*-0xd8b+0x2581*-0x1+0x17f6,-0x1aff+0x25c1+0x1cb*-0x6,0x1aa2+-0x4*0x230+0x8f1*-0x2),this['_prevConte'+'ntDragPosi'+'tion']=_0x3f295f['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x2f6d73){let _0x411e5e=this['_contentPo'+'sitionToSc'+'rollValue'](_0x2f6d73);this['_isDraggin'+'g']()&&(_0x411e5e=this['_applyScro'+'llValueTen'+'sion'](_0x411e5e)),this['_onSetScro'+'ll'](_0x411e5e['x'],_0x411e5e['y'],!(0x1e*0x10+-0x1*-0xf6f+-0x1bb*0xa));}['_applyScro'+'llValueTen'+'sion'](_0x4260ff){let _0x18a30f=this['_getMaxScr'+'ollValue'](pe),_0x360950=this['_toOversho'+'ot'](_0x4260ff['x'],pe);return _0x360950>0x1d*-0x139+0x23*-0x116+0x4977?_0x4260ff['x']=_0x18a30f+(-0x23c7+0x11*0xaa+0x3*0x82a)*Math['log10'](0x22*0x102+0x16f9*-0x1+0xb4a*-0x1+_0x360950):_0x360950<-0x118*-0x15+0x13f4+-0x2aec&&(_0x4260ff['x']=-(0x2*0x5d9+0x2646+-0x31f7)*Math['log10'](0x399+0x8ca+-0xc62-_0x360950)),_0x18a30f=this['_getMaxScr'+'ollValue'](ke),_0x360950=this['_toOversho'+'ot'](_0x4260ff['y'],ke),_0x360950>0x7fd*0x1+0x3d*0x81+0x135d*-0x2?_0x4260ff['y']=_0x18a30f+(-0xc4d+-0x585*0x3+0x1cdd)*Math['log10'](0x301*-0x1+0x1402*-0x1+0x1704+_0x360950):_0x360950<-0x23de+-0xdf*-0xb+0x3*0x8c3&&(_0x4260ff['y']=-(-0xe23+0xc89+-0x19b*-0x1)*Math['log10'](0x6*0x3fa+-0x52*0x49+-0x79-_0x360950)),_0x4260ff;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x5047d4){var _0x397df7,_0x2b3f79;(_0x397df7=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x397df7['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x5047d4),(_0x2b3f79=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x2b3f79['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x5047d4);}['_setConten'+'tDraggingE'+'nabled'](_0x2645a2){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x2645a2);}['_onMouseWh'+'eel'](_0x254f7a){var _0x1bd275;if(!this['useMouseWh'+'eel']||!((_0x1bd275=this['_contentEn'+'tity'])!=null&&_0x1bd275['element']))return;const _0x5dfb24=_0x254f7a['event'],_0xc2e1c8=_0x5dfb24['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x456179=_0x5dfb24['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x25a599=N['clamp'](this['_scroll']['x']+_0xc2e1c8,0x222e+-0x10e7+0x1147*-0x1,this['_getMaxScr'+'ollValue'](pe)),_0x1c7a6b=N['clamp'](this['_scroll']['y']+_0x456179,0xa88+-0x2*-0x679+-0x177a,this['_getMaxScr'+'ollValue'](ke));this['scroll']=new $(_0x25a599,_0x1c7a6b);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x5618a6=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x5618a6['element']&&(_0x5618a6['element']['useInput']=!(0x6e*-0x4f+0x20f*-0x2+0x2610));}this['_disabledC'+'ontentInpu'+'t']=!(0x59*0x48+0x1a18+-0x331f);}['_disableCo'+'ntentInput'](){const _0x38a98d=_0x181ed1=>{_0x181ed1['element']&&_0x181ed1['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x181ed1),_0x181ed1['element']['useInput']=!(-0x6*0x506+-0x73*-0x2f+0x908));const _0x180515=_0x181ed1['children'];for(let _0x4ec7fb=-0x11c6+0x1657+0xa7*-0x7,_0x5f3736=_0x180515['length'];_0x4ec7fb<_0x5f3736;_0x4ec7fb++)_0x38a98d(_0x180515[_0x4ec7fb]);};if(this['_contentEn'+'tity']){const _0x22a312=this['_contentEn'+'tity']['children'];for(let _0xef144=0x8*-0x235+-0x21f5+-0x49*-0xb5,_0x2b3232=_0x22a312['length'];_0xef144<_0x2b3232;_0xef144++)_0x38a98d(_0x22a312[_0xef144]);}this['_disabledC'+'ontentInpu'+'t']=!(0x515*-0x5+-0x24*0xd3+0x3715);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x57c+0x67f*-0x6+0x2c76)),this['_setConten'+'tDraggingE'+'nabled'](!(0x1*-0x2165+-0xf5+0x1*0x225a)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x1*-0x886+-0x3*-0x241+0x18*-0xa3)),this['_setConten'+'tDraggingE'+'nabled'](!(-0xb*-0x211+-0x1ec1+0xf*0x89));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x56b4f4,_0xc8de7a){_0x56b4f4['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0xc8de7a[_0x56b4f4['viewportEn'+'tity']['getGuid']()]),_0x56b4f4['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0xc8de7a[_0x56b4f4['contentEnt'+'ity']['getGuid']()]),_0x56b4f4['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0xc8de7a[_0x56b4f4['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x56b4f4['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0xc8de7a[_0x56b4f4['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(gx,'EVENT_SETS'+'CROLL','set:scroll');const PI=-0x19f*-0x9+0x17d6+-0x1*0x2663;class RI{constructor(){c(this,'enabled',!(-0x7ab+-0x12e3+-0x67*-0x42)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',PI),c(this,'useMouseWh'+'eel',!(0x13e6+-0x1130+-0x1*0x2b6)),c(this,'mouseWheel'+'Sensitivit'+'y',new $(-0x1*-0xd1c+-0x23bb+0x16a0,0x1a15+0x23e9*-0x1+0x9d5)),c(this,'horizontal'+'ScrollbarV'+'isibility',-0x1114*0x2+-0x296*-0xe+-0x20c),c(this,'verticalSc'+'rollbarVis'+'ibility',-0x1bdb+0x2*0x28c+-0x16c3*-0x1),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Ag=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],II=-0x21c1+-0x16c9+0x3*0x12dc;class DI extends Xe{constructor(_0x56ba19){super(_0x56ba19),this['id']='scrollview',this['ComponentT'+'ype']=gx,this['DataType']=RI,this['schema']=Ag,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x24c989,_0x58eb2c,_0x406564){_0x58eb2c['dragThresh'+'old']===void(-0x16*-0x81+-0x4e+-0xb8*0xf)&&(_0x58eb2c['dragThresh'+'old']=II),_0x58eb2c['useMouseWh'+'eel']===void(-0x241c+-0x16*0xc5+0x350a)&&(_0x58eb2c['useMouseWh'+'eel']=!(-0x152c+0x724+0xe08)),_0x58eb2c['mouseWheel'+'Sensitivit'+'y']===void(0x5e6*0x3+-0x112c+-0x86)&&(_0x58eb2c['mouseWheel'+'Sensitivit'+'y']=new $(-0x11bf+0x830+0x990,0x302*0x5+-0x1dd8+0x1*0xecf)),super['initialize'+'ComponentD'+'ata'](_0x24c989,_0x58eb2c,Ag),_0x24c989['viewportEn'+'tity']=_0x58eb2c['viewportEn'+'tity'],_0x24c989['contentEnt'+'ity']=_0x58eb2c['contentEnt'+'ity'],_0x24c989['horizontal'+'ScrollbarE'+'ntity']=_0x58eb2c['horizontal'+'ScrollbarE'+'ntity'],_0x24c989['verticalSc'+'rollbarEnt'+'ity']=_0x58eb2c['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x2514f4){const _0x2d4d50=this['store'];for(const _0x604d32 in _0x2d4d50){const _0x30871b=_0x2d4d50[_0x604d32]['entity'],_0x276fa3=_0x30871b['scrollview'];_0x276fa3['enabled']&&_0x30871b['enabled']&&_0x276fa3['onUpdate']();}}['_onRemoveC'+'omponent'](_0x49f3a4,_0x20a146){_0x20a146['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class yx extends ue{constructor(_0x380aea,_0x5d2f4){super(_0x380aea,_0x5d2f4),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x496876=this['system']['store'][this['entity']['getGuid']()];return _0x496876?_0x496876['data']:null;}set['enabled'](_0x4fe274){this['_setValue']('enabled',_0x4fe274);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x2b5b2f){this['_setValue']('orientatio'+'n',_0x2b5b2f);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x3375a1){this['_setValue']('value',_0x3375a1);}get['value'](){return this['data']['value'];}set['handleSize'](_0xd8fb10){this['_setValue']('handleSize',_0xd8fb10);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x3c8c8e){if(this['_handleEnt'+'ity']===_0x3c8c8e)return;const _0xece32a=typeof _0x3c8c8e=='string';this['_handleEnt'+'ity']&&_0xece32a&&this['_handleEnt'+'ity']['getGuid']()===_0x3c8c8e||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x3c8c8e instanceof De?this['_handleEnt'+'ity']=_0x3c8c8e:_0xece32a?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x3c8c8e)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0xece32a&&_0x3c8c8e&&(this['data']['handleEnti'+'ty']=_0x3c8c8e));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x213649,_0x492bf0){const _0x42409d=this['data'],_0x5b9ecd=_0x42409d[_0x213649];_0x42409d[_0x213649]=_0x492bf0,this['fire']('set',_0x213649,_0x5b9ecd,_0x492bf0);}['_toggleLif'+'ecycleList'+'eners'](_0x47da7c){this[_0x47da7c]('set_value',this['_onSetValu'+'e'],this),this[_0x47da7c]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x47da7c]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x463c91,_0x33a969;(_0x463c91=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x463c91['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x33a969=this['_handleEnt'+'ity'])!=null&&_0x33a969['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x10d735=this['_handleEnt'+'ity']['element'],_0x522a88=this['_evtHandle'+'EntityChan'+'ges'];_0x522a88['push'](_0x10d735['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x522a88['push'](_0x10d735['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x522a88['push'](_0x10d735['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x522a88['push'](_0x10d735['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x5d8094=0xa64+-0x1f04+0x14a0;_0x5d8094<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x5d8094++)this['_evtHandle'+'EntityChan'+'ges'][_0x5d8094]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=0xa9f*-0x1+-0x2294+0xf11*0x3;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new wo(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x4d12a6){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x4d12a6[this['_getAxis']()]));}['_onSetValu'+'e'](_0x555457,_0xd9434e,_0x5569ae){Math['abs'](_0x5569ae-_0xd9434e)>-0x1*-0x9e8+-0x2190+0x17a8+0.00001&&(this['data']['value']=N['clamp'](_0x5569ae,-0x53*-0x11+0xf10*-0x2+0x189d,0x22e3*0x1+-0x77b+0x1*-0x1b67),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x12d982,_0x1b595a,_0x261d8a){Math['abs'](_0x261d8a-_0x1b595a)>0x1*0x1313+0x2b1*-0x1+-0x1062+0.00001&&(this['data']['handleSize']=N['clamp'](_0x261d8a,0x23c9*0x1+0x1f12+-0x42db,-0x276+-0x5d3+0x425*0x2),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x4f94fe,_0x315f81,_0x2c31a7){var _0x7f8237;_0x2c31a7!==_0x315f81&&((_0x7f8237=this['_handleEnt'+'ity'])!=null&&_0x7f8237['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=-0x1458+-0xa39+0x1e91);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0xccd525=this['_handleEnt'+'ity'],_0x5920f2=_0xccd525==null?void(-0x190+0x86*-0x7+-0x53a*-0x1):_0xccd525['element'];if(_0xccd525){const _0x5bdf06=_0xccd525['getLocalPo'+'sition']();_0x5bdf06[this['_getAxis']()]=this['_getHandle'+'Position'](),_0xccd525['setLocalPo'+'sition'](_0x5bdf06);}_0x5920f2&&(_0x5920f2[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x594482){return _0x594482*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x4dcf8a){return _0x4dcf8a*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0xe1e+-0x1*-0xc11+0x20d+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===pe?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x35*0x17+-0xf*-0x173+0x1*-0x10fa;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===pe?0xeb0+0x1e5+-0x1094*0x1:-(-0x1467+0x3*-0x26d+-0x1baf*-0x1);}['_getAxis'](){return this['orientatio'+'n']===pe?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===pe?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===pe?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x463fb2){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x463fb2);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0xd2f+-0x130a+0x2039));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x20ee*-0x1+-0x11db+0x32ca));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x41e0a7,_0x57ca96){_0x41e0a7['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x57ca96[_0x41e0a7['handleEnti'+'ty']['getGuid']()]);}}c(yx,'EVENT_SETV'+'ALUE','set:value');class LI{constructor(){c(this,'enabled',!(-0x14e+-0x1fbc+-0x1*-0x210a)),c(this,'orientatio'+'n',pe),c(this,'value',-0xe*0x1eb+-0xd2d+-0x1*-0x2807),c(this,'handleSize',-0x1820+0x3e*-0x67+0x476*0xb),c(this,'handleEnti'+'ty',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class FI extends Xe{constructor(_0x2cef07){super(_0x2cef07),this['id']='scrollbar',this['ComponentT'+'ype']=yx,this['DataType']=LI,this['schema']=Eg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x14fd8b,_0x1be346,_0x3c6eb1){super['initialize'+'ComponentD'+'ata'](_0x14fd8b,_0x1be346,Eg),_0x14fd8b['handleEnti'+'ty']=_0x1be346['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x1f8fa9){_0x1f8fa9['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x3d2b11,_0x29dcb2){_0x29dcb2['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(0x1*-0xc15+-0x1907*-0x1+0x1*-0xcf1),'startTime':0x0,'duration':0x0,'position':new T(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class er extends ce{constructor(_0x17d238,_0x4e2cda='Untitled',_0x4a5eba={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x17d238,this['_assets']=_0x17d238['system']['app']['assets'],this['_manager']=_0x17d238['system']['manager'],this['name']=_0x4e2cda,this['_volume']=_0x4a5eba['volume']!==void(0x100*0x9+0x2540+-0x8*0x5c8)?N['clamp'](Number(_0x4a5eba['volume'])||0x1*0xbdb+-0x5*0x2b+0x8d*-0x14,0x3*-0x949+0x5*-0x21a+-0x7*-0x57b,-0x1d6e+-0xa47+0xdd*0x2e):-0x679+-0xb*-0x23b+-0x120f,this['_pitch']=_0x4a5eba['pitch']!==void(0x54b+0x2*0x107+0x63*-0x13)?Math['max'](-0x3*-0x45d+-0x22a5+-0x2*-0xac7+0.01,Number(_0x4a5eba['pitch'])||0x245f+-0x7ec+-0x1c73):0x3*-0x812+-0x6e2*0x2+0x25fb,this['_loop']=!!(_0x4a5eba['loop']!==void(0x237*0x4+0x1b46+-0x2422)&&_0x4a5eba['loop']),this['_duration']=_0x4a5eba['duration']>-0x2656+0xa8f+0x1bc7?_0x4a5eba['duration']:null,this['_startTime']=Math['max'](-0x892*-0x2+0x148a+-0x6a*0x5b,Number(_0x4a5eba['startTime'])||0x12c9+0x4*-0x392+-0x481),this['_overlap']=!!_0x4a5eba['overlap'],this['_autoPlay']=!!_0x4a5eba['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x4a5eba['asset'],this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x58acf0){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){v['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x2052f=_0x58acf0;if(_0x2052f||(_0x2052f=this['_createIns'+'tance'](),this['instances']['push'](_0x2052f)),this['isLoaded'])_0x2052f['play']();else{const _0x429398=function(_0x2e1edf){const _0x38e693=_0x2052f['_playWhenL'+'oaded'];_0x2052f['sound']=_0x2e1edf,_0x38e693&&_0x2052f['play']();};this['off']('load',_0x429398),this['once']('load',_0x429398),this['load']();}return _0x2052f;}['pause'](){let _0x37451c=!(-0x714+0x225d+0x24*-0xc2);const _0x466ff2=this['instances'];for(let _0x5ec53d=-0xc79+0x13d5+-0x75c,_0x5900b8=_0x466ff2['length'];_0x5ec53d<_0x5900b8;_0x5ec53d++)_0x466ff2[_0x5ec53d]['pause']()&&(_0x37451c=!(0xac4+-0x1fdc+-0xc*-0x1c2));return _0x37451c;}['resume'](){let _0x31a607=!(0x1*0x407+0x1*-0x1c55+0x184f);const _0x55df7e=this['instances'];for(let _0x3828b7=0x1*0x3ec+-0x19ac+0x18*0xe8,_0x2cf46f=_0x55df7e['length'];_0x3828b7<_0x2cf46f;_0x3828b7++)_0x55df7e[_0x3828b7]['resume']()&&(_0x31a607=!(0x74f*0x2+-0x3e*-0x63+-0x4d3*0x8));return _0x31a607;}['stop'](){let _0x51ae92=!(0x2217*0x1+0xaa3+-0x2cb9);const _0x2b8b67=this['instances'];let _0xd6e0a3=_0x2b8b67['length'];for(;_0xd6e0a3--;)_0x2b8b67[_0xd6e0a3]['stop'](),_0x51ae92=!(-0xd*-0xe9+0x3e1*0x5+-0x2*0xf9d);return _0x2b8b67['length']=0x26b2+-0x19e6+-0xccc,_0x51ae92;}['load'](){if(!this['_hasAsset']())return;const _0x2d9c19=this['_assets']['get'](this['_asset']);if(!_0x2d9c19){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x2d9c19['off']('remove',this['_onAssetRe'+'moved'],this),_0x2d9c19['on']('remove',this['_onAssetRe'+'moved'],this),!_0x2d9c19['resource']){_0x2d9c19['off']('load',this['_onAssetLo'+'ad'],this),_0x2d9c19['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x2d9c19);return;}this['fire']('load',_0x2d9c19['resource']);}['setExterna'+'lNodes'](_0x3a9844,_0x3c1def){if(!_0x3a9844){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x3c1def||(_0x3c1def=_0x3a9844),this['_firstNode']=_0x3a9844,this['_lastNode']=_0x3c1def,!this['_overlap']){const _0x22612b=this['instances'];for(let _0x924e50=-0x614+-0xb3d+-0x1*-0x1151,_0x34c11e=_0x22612b['length'];_0x924e50<_0x34c11e;_0x924e50++)_0x22612b[_0x924e50]['setExterna'+'lNodes'](_0x3a9844,_0x3c1def);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x4dd26c=this['instances'];for(let _0x11822e=-0xaa7+-0x18e8*0x1+0x238f,_0x256dc5=_0x4dd26c['length'];_0x11822e<_0x256dc5;_0x11822e++)_0x4dd26c[_0x11822e]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x51bb12=null;const _0x118d04=this['_component'];let _0x368401=null;if(this['_hasAsset']()){const _0x220bb7=this['_assets']['get'](this['_asset']);_0x220bb7&&(_0x368401=_0x220bb7['resource']);}const _0x23eb0a=OI;return _0x23eb0a['volume']=this['_volume']*_0x118d04['volume'],_0x23eb0a['pitch']=this['_pitch']*_0x118d04['pitch'],_0x23eb0a['loop']=this['_loop'],_0x23eb0a['startTime']=this['_startTime'],_0x23eb0a['duration']=this['_duration'],_0x23eb0a['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x23eb0a['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x23eb0a['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x23eb0a['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x23eb0a['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x118d04['positional']?(_0x23eb0a['position']['copy'](_0x118d04['entity']['getPositio'+'n']()),_0x23eb0a['maxDistanc'+'e']=_0x118d04['maxDistanc'+'e'],_0x23eb0a['refDistanc'+'e']=_0x118d04['refDistanc'+'e'],_0x23eb0a['rollOffFac'+'tor']=_0x118d04['rollOffFac'+'tor'],_0x23eb0a['distanceMo'+'del']=_0x118d04['distanceMo'+'del'],_0x51bb12=new jn(this['_manager'],_0x368401,_0x23eb0a)):_0x51bb12=new ss(this['_manager'],_0x368401,_0x23eb0a),this['_firstNode']&&_0x51bb12['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x51bb12;}['_onInstanc'+'ePlay'](_0x5a1b59){this['fire']('play',_0x5a1b59),this['_component']['fire']('play',this,_0x5a1b59);}['_onInstanc'+'ePause'](_0x4422db){this['fire']('pause',_0x4422db),this['_component']['fire']('pause',this,_0x4422db);}['_onInstanc'+'eResume'](_0x3d4451){this['fire']('resume',_0x3d4451),this['_component']['fire']('resume',this,_0x3d4451);}['_onInstanc'+'eStop'](_0x579bd0){const _0x3ce82b=this['instances']['indexOf'](_0x579bd0);_0x3ce82b!==-(-0x182f+0x15cf+0x261)&&this['instances']['splice'](_0x3ce82b,-0x1*-0x1fe7+0x725+-0x270b),this['fire']('stop',_0x579bd0),this['_component']['fire']('stop',this,_0x579bd0);}['_onInstanc'+'eEnd'](_0x41c2a4){const _0x36f804=this['instances']['indexOf'](_0x41c2a4);_0x36f804!==-(0x17e4+-0x18f5*0x1+0x112*0x1)&&this['instances']['splice'](_0x36f804,0xd8d*-0x1+-0x2*-0x1251+-0x1714),this['fire']('end',_0x41c2a4),this['_component']['fire']('end',this,_0x41c2a4);}['_onAssetAd'+'d'](_0x5532fe){this['load']();}['_onAssetLo'+'ad'](_0x5d00a2){this['load']();}['_onAssetRe'+'moved'](_0x515faa){_0x515faa['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x515faa['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x5885e4){const _0x49016b=this['instances'];for(let _0xde0e63=0x72f*-0x5+0x561+0x517*0x6,_0x5dff56=_0x49016b['length'];_0xde0e63<_0x5dff56;_0xde0e63++)_0x49016b[_0xde0e63]['position']=_0x5885e4;}set['asset'](_0x1cd457){const _0x57a6e4=this['_asset'];if(_0x57a6e4){this['_assets']['off']('add:'+_0x57a6e4,this['_onAssetAd'+'d'],this);const _0x53e384=this['_assets']['get'](_0x57a6e4);_0x53e384&&_0x53e384['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x1cd457,this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x4d142a){this['_autoPlay']=!!_0x4d142a;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x49d898){if(this['_duration']=Math['max'](-0x184e+0x1bce+-0xe0*0x4,Number(_0x49d898)||-0x1ae4+-0x6*-0x236+-0x6d*-0x20)||null,!this['_overlap']){const _0x2bb120=this['instances'];for(let _0x577156=0x2706+-0x6*0x6c+-0x247e,_0x3bbe07=_0x2bb120['length'];_0x577156<_0x3bbe07;_0x577156++)_0x2bb120[_0x577156]['duration']=this['_duration'];}}get['duration'](){let _0x392a2e=0xc1*0x1f+-0xb1e+-0xc41*0x1;if(this['_hasAsset']()){const _0x349239=this['_assets']['get'](this['_asset']);_0x392a2e=_0x349239!=null&&_0x349239['resource']?_0x349239['resource']['duration']:0x1*0x1937+0x163a+-0x2f71;}return this['_duration']!=null?this['_duration']%(_0x392a2e||-0xf*0x15d+-0x1b0+-0x1b4*-0xd):_0x392a2e;}get['isLoaded'](){if(this['_hasAsset']()){const _0x20bdf3=this['_assets']['get'](this['_asset']);if(_0x20bdf3)return!!_0x20bdf3['resource'];}return!(0x2067*-0x1+-0x1d25*0x1+0x3d8d);}get['isPaused'](){const _0x32a60c=this['instances'],_0x34d9db=_0x32a60c['length'];if(_0x34d9db===-0x2629+0x1b57*-0x1+0x4180)return!(-0x5da*-0x2+0x1*0x13f+-0x2*0x679);for(let _0x198418=0x10e1+-0x66c+0x1*-0xa75;_0x198418<_0x34d9db;_0x198418++)if(!_0x32a60c[_0x198418]['isPaused'])return!(0x2e1*0xb+-0x2*-0x94a+0x2*-0x191f);return!(0x227*0x5+-0x11b9+-0x129*-0x6);}get['isPlaying'](){const _0xb8e368=this['instances'];for(let _0x131226=-0x7c*0x9+0x1ac9+-0x1*0x166d,_0x5de98a=_0xb8e368['length'];_0x131226<_0x5de98a;_0x131226++)if(_0xb8e368[_0x131226]['isPlaying'])return!(-0x40*-0x61+-0x1b80+0x340);return!(0x1*0x993+0x354+-0xce6);}get['isStopped'](){const _0x1feb7c=this['instances'];for(let _0x3c75ce=-0x40*0x31+0x8a8*-0x4+0x2ee0,_0x5b3a47=_0x1feb7c['length'];_0x3c75ce<_0x5b3a47;_0x3c75ce++)if(!_0x1feb7c[_0x3c75ce]['isStopped'])return!(0x1130+0x1919+-0x2a48);return!(0xefd+0x220b+-0xc*0x416);}set['loop'](_0x123dc6){this['_loop']=!!_0x123dc6;const _0x1fe218=this['instances'];for(let _0x15b560=0x1415+-0x1*0x231+0x11e4*-0x1,_0x33f056=_0x1fe218['length'];_0x15b560<_0x33f056;_0x15b560++)_0x1fe218[_0x15b560]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x19589f){this['_overlap']=!!_0x19589f;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x6e30b2){if(this['_pitch']=Math['max'](Number(_0x6e30b2)||0x1e96+-0x1*-0xe41+0x1*-0x2cd7,0x84d+-0x1*0xf85+-0x2c*-0x2a+0.01),!this['_overlap']){const _0x4c5a4c=this['instances'];for(let _0x3bf302=-0xcf6*0x2+0xf2e*0x1+0xabe,_0x1b54fb=_0x4c5a4c['length'];_0x3bf302<_0x1b54fb;_0x3bf302++)_0x4c5a4c[_0x3bf302]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x14d22c){if(this['_startTime']=Math['max'](0xd1a+0xc0c+-0x1926,Number(_0x14d22c)||-0x27b*0x7+0x15ce+0x1*-0x471),!this['_overlap']){const _0x2467d8=this['instances'];for(let _0x199b79=-0x1a47*0x1+-0x7*0x575+0x15*0x312,_0x522171=_0x2467d8['length'];_0x199b79<_0x522171;_0x199b79++)_0x2467d8[_0x199b79]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x3e8a21){if(this['_volume']=N['clamp'](Number(_0x3e8a21)||0x1d54+0x9fb+0x274f*-0x1,0x1*0x1+0x1652+-0x2d*0x7f,-0xcb2+0x1905+-0xc52),!this['_overlap']){const _0x182b25=this['instances'];for(let _0x297849=0x3*0xb4d+0x178f*0x1+0xa*-0x5bf,_0x4f36cd=_0x182b25['length'];_0x297849<_0x4f36cd;_0x297849++)_0x182b25[_0x297849]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(er,'EVENT_PLAY','play'),c(er,'EVENT_PAUS'+'E','pause'),c(er,'EVENT_RESU'+'ME','resume'),c(er,'EVENT_STOP','stop'),c(er,'EVENT_LOAD','load');class Nr extends ue{constructor(){super(...arguments),c(this,'_volume',-0x11a0+0x2658+-0x14b7),c(this,'_pitch',-0x37c+-0x186e+0x3fd*0x7),c(this,'_positiona'+'l',!(-0xf*-0x1df+-0x7*0x1b+0x1*-0x1b54)),c(this,'_refDistan'+'ce',0x132d*-0x2+-0x61*-0x13+0x1f28),c(this,'_maxDistan'+'ce',-0x2273*0x2+0x3a1d+-0x31d9*-0x1),c(this,'_rollOffFa'+'ctor',-0x1235+0x9a3+0x893),c(this,'_distanceM'+'odel',cc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x259cae,_0xccb7aa,_0xdd9954){const _0x1dcf47=this['_slots'];for(const _0x3e2468 in _0x1dcf47){const _0x4ce4be=_0x1dcf47[_0x3e2468];if(!_0x4ce4be['overlap']){const _0x3c6246=_0x4ce4be['instances'];for(let _0x618192=0x7f6+0xdb0+-0x15a6,_0x2fbfc1=_0x3c6246['length'];_0x618192<_0x2fbfc1;_0x618192++)_0x3c6246[_0x618192][_0x259cae]=_0xdd9954?_0x4ce4be[_0x259cae]*_0xccb7aa:_0xccb7aa;}}}set['distanceMo'+'del'](_0x2c3848){this['_distanceM'+'odel']=_0x2c3848,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x2c3848,!(-0xd*-0xc1+-0x1b03+0x1137));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x460142){this['_maxDistan'+'ce']=_0x460142,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x460142,!(-0x324+0x16fe+0x1*-0x13d9));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x125e50){this['_refDistan'+'ce']=_0x125e50,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x125e50,!(-0x7ec+-0x5*-0x1fb+-0x1fa));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x3e6e9e){this['_rollOffFa'+'ctor']=_0x3e6e9e,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x3e6e9e,!(-0x99d+0x1b57*-0x1+-0x1*-0x24f5));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x4a3ab1){this['_pitch']=_0x4a3ab1,this['_updateSou'+'ndInstance'+'s']('pitch',_0x4a3ab1,!(-0xb93+0x26a9+-0x1*0x1b16));}get['pitch'](){return this['_pitch'];}set['volume'](_0xe0b5a9){this['_volume']=_0xe0b5a9,this['_updateSou'+'ndInstance'+'s']('volume',_0xe0b5a9,!(-0x130*-0x3+0x2f*-0xb5+0xf5*0x1f));}get['volume'](){return this['_volume'];}set['positional'](_0x28bf9b){this['_positiona'+'l']=_0x28bf9b;const _0x8be3b4=this['_slots'];for(const _0x3e08e3 in _0x8be3b4){const _0x23e787=_0x8be3b4[_0x3e08e3];if(!_0x23e787['overlap']){const _0x1679f8=_0x23e787['instances'],_0x5a17fd=_0x1679f8['length'];for(let _0x17465d=_0x5a17fd-(-0x2359*0x1+-0x1b27+-0x1*-0x3e81);_0x17465d>=-0x2b8+-0x8*-0x3b1+-0x1ad0;_0x17465d--){const _0x35ef54=_0x1679f8[_0x17465d]['isPlaying']||_0x1679f8[_0x17465d]['isSuspende'+'d'],_0x1a2cbb=_0x1679f8[_0x17465d]['currentTim'+'e'];_0x35ef54&&_0x1679f8[_0x17465d]['stop']();const _0x1a154f=_0x23e787['_createIns'+'tance']();_0x35ef54&&(_0x1a154f['play'](),_0x1a154f['currentTim'+'e']=_0x1a2cbb),_0x1679f8['push'](_0x1a154f);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x4b7ae3){const _0x54d281=this['_slots'];if(_0x54d281){for(const _0x3e6208 in _0x54d281)_0x54d281[_0x3e6208]['stop']();}const _0x171c67={};for(const _0x489d52 in _0x4b7ae3)_0x4b7ae3[_0x489d52]instanceof er?_0x171c67[_0x4b7ae3[_0x489d52]['name']]=_0x4b7ae3[_0x489d52]:_0x4b7ae3[_0x489d52]['name']&&(_0x171c67[_0x4b7ae3[_0x489d52]['name']]=new er(this,_0x4b7ae3[_0x489d52]['name'],_0x4b7ae3[_0x489d52]));this['_slots']=_0x171c67,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x353f77=this['_slots'],_0x793bab=this['_playingBe'+'foreDisabl'+'e'];for(const _0x4cfc73 in _0x353f77){const _0x2f12f4=_0x353f77[_0x4cfc73];_0x2f12f4['autoPlay']&&_0x2f12f4['isStopped']?_0x2f12f4['play']():_0x793bab[_0x4cfc73]?_0x2f12f4['resume']():_0x2f12f4['isLoaded']||_0x2f12f4['load']();}}['onDisable'](){const _0x414703=this['_slots'],_0x286a9b={};for(const _0x537663 in _0x414703)_0x414703[_0x537663]['overlap']||_0x414703[_0x537663]['isPlaying']&&(_0x414703[_0x537663]['pause'](),_0x286a9b[_0x537663]=!(0x1ef9+-0x1a*0x121+0x5*-0x53));this['_playingBe'+'foreDisabl'+'e']=_0x286a9b;}['onRemove'](){this['off']();}['addSlot'](_0x374790,_0x4ca953){const _0x169b49=this['_slots'];if(_0x169b49[_0x374790])return v['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x374790+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x5aa832=new er(this,_0x374790,_0x4ca953);return _0x169b49[_0x374790]=_0x5aa832,_0x5aa832['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x5aa832['play'](),_0x5aa832;}['removeSlot'](_0x174b74){const _0x2c37f2=this['_slots'];_0x2c37f2[_0x174b74]&&(_0x2c37f2[_0x174b74]['stop'](),delete _0x2c37f2[_0x174b74]);}['slot'](_0x5c677f){return this['_slots'][_0x5c677f];}['_getSlotPr'+'operty'](_0x19f789,_0x49201b){if(!this['enabled']||!this['entity']['enabled'])return;const _0x1287ab=this['_slots'][_0x19f789];if(!_0x1287ab){v['warn']('Trying\x20to\x20'+'get\x20'+_0x49201b+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x19f789+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x1287ab[_0x49201b];}['isPlaying'](_0xe82453){return this['_getSlotPr'+'operty'](_0xe82453,'isPlaying')||!(-0x21ef+0x1379+0x211*0x7);}['isLoaded'](_0x5d633a){return this['_getSlotPr'+'operty'](_0x5d633a,'isLoaded')||!(0x1*-0x2623+-0x8b0+0x2ed4);}['isPaused'](_0x505d1a){return this['_getSlotPr'+'operty'](_0x505d1a,'isPaused')||!(0x1e47+0xe29+0x659*-0x7);}['isStopped'](_0x279dc5){return this['_getSlotPr'+'operty'](_0x279dc5,'isStopped')||!(-0x264+0x1*0x1e16+-0x1bb1*0x1);}['play'](_0x46ba59){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x454e4b=this['_slots'][_0x46ba59];return _0x454e4b?_0x454e4b['play']():(v['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x46ba59+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x512f52){const _0x212852=this['_slots'];if(_0x512f52){const _0xcfded=_0x212852[_0x512f52];if(!_0xcfded){v['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x512f52+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0xcfded['pause']();}else{for(const _0xe5c729 in _0x212852)_0x212852[_0xe5c729]['pause']();}}['resume'](_0x353445){const _0x18cb04=this['_slots'];if(_0x353445){const _0x5115f7=_0x18cb04[_0x353445];if(!_0x5115f7){v['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x353445+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x5115f7['isPaused']&&_0x5115f7['resume']();}else{for(const _0x55c356 in _0x18cb04)_0x18cb04[_0x55c356]['resume']();}}['stop'](_0x586c65){const _0x4c1cc1=this['_slots'];if(_0x586c65){const _0x4d61e0=_0x4c1cc1[_0x586c65];if(!_0x4d61e0){v['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x586c65+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x4d61e0['stop']();}else{for(const _0x4fc45f in _0x4c1cc1)_0x4c1cc1[_0x4fc45f]['stop']();}}}c(Nr,'EVENT_PLAY','play'),c(Nr,'EVENT_PAUS'+'E','pause'),c(Nr,'EVENT_RESU'+'ME','resume'),c(Nr,'EVENT_STOP','stop'),c(Nr,'EVENT_END','end');class kI{constructor(){this['enabled']=!(0x1*0xd1f+-0x385*-0x1+0x1*-0x10a4);}}const xx=['enabled'];class BI extends Xe{constructor(_0x4f2162){super(_0x4f2162),this['id']='sound',this['ComponentT'+'ype']=Nr,this['DataType']=kI,this['schema']=xx,this['manager']=_0x4f2162['soundManag'+'er'],v['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x4c26d7){this['manager']['volume']=_0x4c26d7;}get['volume'](){return this['manager']['volume'];}get['context'](){return Li()?this['manager']['context']:(v['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x7dc8d3,_0x1f4c5b,_0x50d930){_0x50d930=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x29e246=0x25fc+-0x3d9*0xa+0x7e;_0x29e246<_0x50d930['length'];_0x29e246++)_0x1f4c5b['hasOwnProp'+'erty'](_0x50d930[_0x29e246])&&(_0x7dc8d3[_0x50d930[_0x29e246]]=_0x1f4c5b[_0x50d930[_0x29e246]]);super['initialize'+'ComponentD'+'ata'](_0x7dc8d3,_0x1f4c5b,['enabled']);}['cloneCompo'+'nent'](_0x156713,_0x3637e3){const _0x38d15b=_0x156713['sound'],_0x48057c=_0x38d15b['slots'],_0x31d10e={};for(const _0x5cad45 in _0x48057c){const _0x4ab01d=_0x48057c[_0x5cad45];_0x31d10e[_0x5cad45]={'name':_0x4ab01d['name'],'volume':_0x4ab01d['volume'],'pitch':_0x4ab01d['pitch'],'loop':_0x4ab01d['loop'],'duration':_0x4ab01d['duration'],'startTime':_0x4ab01d['startTime'],'overlap':_0x4ab01d['overlap'],'autoPlay':_0x4ab01d['autoPlay'],'asset':_0x4ab01d['asset']};}const _0xefa951={'distanceModel':_0x38d15b['distanceMo'+'del'],'enabled':_0x38d15b['enabled'],'maxDistance':_0x38d15b['maxDistanc'+'e'],'pitch':_0x38d15b['pitch'],'positional':_0x38d15b['positional'],'refDistance':_0x38d15b['refDistanc'+'e'],'rollOffFactor':_0x38d15b['rollOffFac'+'tor'],'slots':_0x31d10e,'volume':_0x38d15b['volume']};return this['addCompone'+'nt'](_0x3637e3,_0xefa951);}['onUpdate'](_0x599c02){const _0x41896c=this['store'];for(const _0xbf0220 in _0x41896c)if(_0x41896c['hasOwnProp'+'erty'](_0xbf0220)){const _0x4e5821=_0x41896c[_0xbf0220]['entity'];if(_0x4e5821['enabled']){const _0x4af3b6=_0x4e5821['sound'];if(_0x4af3b6['enabled']&&_0x4af3b6['positional']){const _0x69ad02=_0x4e5821['getPositio'+'n'](),_0x28b733=_0x4af3b6['slots'];for(const _0x5b4c8b in _0x28b733)_0x28b733[_0x5b4c8b]['updatePosi'+'tion'](_0x69ad02);}}}}['onBeforeRe'+'move'](_0x506ace,_0x599d49){const _0xb20402=_0x599d49['slots'];for(const _0x144a9d in _0xb20402)_0xb20402[_0x144a9d]['overlap']||_0xb20402[_0x144a9d]['stop']();_0x599d49['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Nr['prototype'],xx);const Cg='simple',Mg='animated';class bi extends ce{constructor(_0x5aef3e,_0x3fed4d){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x5aef3e,this['_frame']=0x1043+0xc*0x16f+-0x2177,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x3fed4d['spriteAsse'+'t'],this['name']=_0x3fed4d['name'],this['fps']=_0x3fed4d['fps']||-0x856*-0x2+-0xd*-0xc5+-0x1aad*0x1,this['loop']=_0x3fed4d['loop']||!(-0x14b6+-0x1d3f*-0x1+-0x888),this['_playing']=!(0x23e2+-0x1f*0x19+-0x20da),this['_paused']=!(0x6e*0x8+0xbb*-0xb+0x49a*0x1),this['_time']=0x1*0x91f+0x10b0+-0x1*0x19cf);}get['duration'](){if(this['_sprite']){const _0x1b3e19=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x1b3e19);}return 0xb*0xb1+0x1d*-0x121+0x1922;}set['frame'](_0x2731e5){this['_setFrame'](_0x2731e5);const _0x34b313=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x34b313);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x11b405){var _0x373d0b;if(this['_sprite']&&((_0x373d0b=this['_evtSetMes'+'hes'])==null||_0x373d0b['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x11b405,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x506a41;!_0x11b405||!_0x11b405['atlas']?(_0x506a41=this['_component']['_meshInsta'+'nce'],_0x506a41&&(_0x506a41['deletePara'+'meter']('texture_em'+'issiveMap'),_0x506a41['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x11b405['atlas']['texture']&&(_0x506a41=this['_component']['_meshInsta'+'nce'],_0x506a41&&(_0x506a41['setParamet'+'er']('texture_em'+'issiveMap',_0x11b405['atlas']['texture']),_0x506a41['setParamet'+'er']('texture_op'+'acityMap',_0x11b405['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x5cacee){const _0xf2e63=this['_component']['system']['app']['assets'];let _0x32040f=_0x5cacee;if(_0x5cacee instanceof le&&(_0x32040f=_0x5cacee['id']),this['_spriteAss'+'et']!==_0x32040f){if(this['_spriteAss'+'et']){const _0x16eb86=_0xf2e63['get'](this['_spriteAss'+'et']);_0x16eb86&&this['_unbindSpr'+'iteAsset'](_0x16eb86);}if(this['_spriteAss'+'et']=_0x32040f,this['_spriteAss'+'et']){const _0x286e56=_0xf2e63['get'](this['_spriteAss'+'et']);_0x286e56?this['_bindSprit'+'eAsset'](_0x286e56):(this['sprite']=null,_0xf2e63['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x4c1b28){this['_setTime'](_0x4c1b28),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0xe44+-0x4c7*0x1+-0x97c),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x3f3+-0x21d4+0x1de1;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x15fd51){this['_component']['system']['app']['assets']['off']('add:'+_0x15fd51['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x15fd51['id']&&this['_bindSprit'+'eAsset'](_0x15fd51);}['_bindSprit'+'eAsset'](_0x2f52a9){_0x2f52a9['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x2f52a9['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x2f52a9['resource']?this['_onSpriteA'+'ssetLoad'](_0x2f52a9):this['_component']['system']['app']['assets']['load'](_0x2f52a9);}['_unbindSpr'+'iteAsset'](_0x2fc0ad){_0x2fc0ad&&(_0x2fc0ad['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x2fc0ad['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x2fc0ad['resource']&&!_0x2fc0ad['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x2fc0ad['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x4b3709){if(!_0x4b3709['resource'])this['sprite']=null;else{if(_0x4b3709['resource']['atlas'])this['sprite']=_0x4b3709['resource'];else{const _0x57f03f=_0x4b3709['data']['textureAtl'+'asAsset'],_0x437ba7=this['_component']['system']['app']['assets'];_0x437ba7['off']('load:'+_0x57f03f,this['_onTexture'+'AtlasLoad'],this),_0x437ba7['once']('load:'+_0x57f03f,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x3edff1){const _0x1d504d=this['_spriteAss'+'et'];_0x1d504d instanceof le?this['_onSpriteA'+'ssetLoad'](_0x1d504d):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x1d504d));}['_onSpriteA'+'ssetRemove'](_0x2c39d9){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Ti&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x3f1542){if(this['fps']===-0x1c74+-0x1af*-0xa+0xb9e||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x572237=this['fps']<0x1*-0x123f+-0x557*-0x1+0xce8?-(0x247d+-0x8*0x448+-0x23c):0x260c+-0x506+-0x6b*0x4f,_0x5f4d2e=this['_time']+_0x3f1542*this['_component']['speed']*_0x572237,_0x5f415f=this['duration'],_0xfe3ba7=_0x5f4d2e>_0x5f415f||_0x5f4d2e<-0x2*-0x506+-0x7*0x46d+-0x17*-0xe9;this['_setTime'](_0x5f4d2e);let _0x6ce641=this['frame'];this['_sprite']?_0x6ce641=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x5f415f):_0x6ce641=0x1c3f*0x1+-0x1f9c+0x35d*0x1,_0x6ce641!==this['_frame']&&this['_setFrame'](_0x6ce641),_0xfe3ba7&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x1*-0x17df+0x1ba3*0x1+0x3c3*-0x1),this['_paused']=!(-0x2567+-0x2521+0x4a89),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x532e0b){this['_time']=_0x532e0b;const _0x2cd823=this['duration'];this['_time']<-0x1*-0x8fb+0x2*-0x50a+0x119?this['loop']?this['_time']=this['_time']%_0x2cd823+_0x2cd823:this['_time']=0x11ef*0x1+0x54d+-0x173c:this['_time']>_0x2cd823&&(this['loop']?this['_time']%=_0x2cd823:this['_time']=_0x2cd823);}['_setFrame'](_0x24139b){this['_sprite']?this['_frame']=N['clamp'](_0x24139b,-0x5*0x5ea+-0xea0*-0x2+0x52*0x1,this['_sprite']['frameKeys']['length']-(-0x1*0x1641+-0x1*0x463+0x1aa5)):this['_frame']=_0x24139b,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x22c6d4=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x22c6d4['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0x2258+0x1095+0x11c3),this['_paused']=!(-0xe0a*0x1+0x10b4+0x3*-0xe3),this['frame']=0x1037*0x1+0x26*0xa7+-0x2901,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(-0x61*-0x45+-0xb4c*-0x1+-0x2571),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0xc4*-0x30+0x2*0x9cd+0x1127),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0x257*0xa+0x2634+-0xecd),this['_paused']=!(0x2481+0x1*0x1f99+-0x4419),this['_time']=-0x16*-0x187+-0x20cb+-0xcf,this['frame']=-0xce*0x22+-0x21bb+0xd*0x4b3,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(bi,'EVENT_PLAY','play'),c(bi,'EVENT_PAUS'+'E','pause'),c(bi,'EVENT_RESU'+'ME','resume'),c(bi,'EVENT_STOP','stop'),c(bi,'EVENT_END','end'),c(bi,'EVENT_LOOP','loop');const Pg='texture_em'+'issiveMap',Rg='texture_op'+'acityMap',Ig='material_e'+'missive',Dg='material_o'+'pacity',NI='innerOffse'+'t',zI='outerScale',UI='atlasRect';class ji extends ue{constructor(_0xf2900e,_0x3a123f){super(_0xf2900e,_0x3a123f),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Cg,this['_material']=_0xf2900e['defaultMat'+'erial'],this['_color']=new Y(-0x17*-0x12d+-0x146f*0x1+-0x1*0x69b,0x9d*-0x4+-0x7*0x542+0x2743*0x1,-0x1e04+0x48b*-0x1+-0x4*-0x8a4,0x2336+-0x2548+0x213),this['_colorUnif'+'orm']=new Float32Array(0x155f+-0x9cb+-0xb91),this['_speed']=0x733+-0x32a+0x3*-0x158,this['_flipX']=!(0x1ba+0x1478+-0x1631),this['_flipY']=!(0x1cd4+0x36+-0x1d09*0x1),this['_width']=-0x15*-0x7+-0x1*-0x1079+-0x110b,this['_height']=0xaf0+-0x1*-0x58f+0x1*-0x107e,this['_drawOrder']=0x1b*0xa7+-0xcd1+-0x4cc,this['_layers']=[Fi],this['_outerScal'+'e']=new $(0x207*-0x7+-0x2*0xf69+0x2d04,-0x15df+0x1cb5+-0x21*0x35),this['_outerScal'+'eUniform']=new Float32Array(-0x1ba+-0x1894+0x1a5*0x10),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x11b5+-0xa8f*0x1+-0x4*-0x712),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(-0x1*0x955+-0x1*-0x1b87+0x1a*-0xb3),this['_batchGrou'+'pId']=-(0x2c3+-0x15c7+0x1305),this['_batchGrou'+'p']=null,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x3a123f['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x3a123f,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x8e2+-0xda9*0x1+-0x9*-0x88),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new bi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(0x269f+0xa83+0x1*-0x3121),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x3f1347){this['_type']!==_0x3f1347&&(this['_type']=_0x3f1347,this['_type']===Cg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Mg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x21e7b5){this['_currentCl'+'ip']['frame']=_0x21e7b5;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x5e13d2){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x5e13d2;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x4c634e){this['_currentCl'+'ip']['sprite']=_0x4c634e;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x3ca48d){this['_material']=_0x3ca48d,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x3ca48d);}get['material'](){return this['_material'];}set['color'](_0x567ee8){this['_color']['r']=_0x567ee8['r'],this['_color']['g']=_0x567ee8['g'],this['_color']['b']=_0x567ee8['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0x1a1*0x13+0x478+0x1a7b*0x1]=this['_color']['r'],this['_colorUnif'+'orm'][-0x2133+-0x1c5*-0x9+0x1147]=this['_color']['g'],this['_colorUnif'+'orm'][-0x4a*0x64+-0x25d3*0x1+0x42bd]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x361f82){this['_color']['a']=_0x361f82,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Dg,_0x361f82);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x251d22){if(!_0x251d22){for(const _0x151441 in this['_clips'])this['removeClip'](_0x151441);return;}for(const _0x1c4d09 in this['_clips']){let _0x5e39c9=!(-0x7f1*-0x1+-0x3a*0xe+-0x3d*0x14);for(const _0x5d1a12 in _0x251d22)if(_0x251d22[_0x5d1a12]['name']===_0x1c4d09){_0x5e39c9=!(0x1183+0x6*-0x49e+0x1*0xa31),this['_clips'][_0x1c4d09]['fps']=_0x251d22[_0x5d1a12]['fps'],this['_clips'][_0x1c4d09]['loop']=_0x251d22[_0x5d1a12]['loop'],_0x251d22[_0x5d1a12]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x1c4d09]['sprite']=_0x251d22[_0x5d1a12]['sprite']:_0x251d22[_0x5d1a12]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x1c4d09]['spriteAsse'+'t']=_0x251d22[_0x5d1a12]['spriteAsse'+'t']);break;}_0x5e39c9||this['removeClip'](_0x1c4d09);}for(const _0x3c68ee in _0x251d22)this['_clips'][_0x251d22[_0x3c68ee]['name']]||this['addClip'](_0x251d22[_0x3c68ee]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x5f5a9b){this['_speed']=_0x5f5a9b;}get['speed'](){return this['_speed'];}set['flipX'](_0x84b586){this['_flipX']!==_0x84b586&&(this['_flipX']=_0x84b586,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0xac0ea3){this['_flipY']!==_0xac0ea3&&(this['_flipY']=_0xac0ea3,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0xcb6e2f){_0xcb6e2f!==this['_width']&&(this['_width']=_0xcb6e2f,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x15d39e){_0x15d39e!==this['_height']&&(this['_height']=_0x15d39e,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x2d4943){var _0x402780,_0x50b4e0;if(this['_batchGrou'+'pId']===_0x2d4943)return;const _0x468f9f=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x2d4943,this['entity']['enabled']&&_0x468f9f>=-0x53e+-0x4*0x2ef+0x10fa&&((_0x402780=this['system']['app']['batcher'])==null||_0x402780['remove'](et['SPRITE'],_0x468f9f,this['entity'])),this['entity']['enabled']&&_0x2d4943>=-0xbb0+0x1a49*-0x1+-0x1*-0x25f9?(_0x50b4e0=this['system']['app']['batcher'])==null||_0x50b4e0['insert'](et['SPRITE'],_0x2d4943,this['entity']):_0x468f9f>=-0x2425+0x200b+0x41a&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x3fe94c){this['_autoPlayC'+'lip']=_0x3fe94c instanceof bi?_0x3fe94c['name']:_0x3fe94c,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x4bb4e8){this['_drawOrder']=_0x4bb4e8,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x4bb4e8);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x2aa639){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x2aa639,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x5e254b;const _0x833ca5=this['system']['app'],_0xfa08c1=_0x833ca5['scene'],_0x2534ea=_0xfa08c1['layers'];this['_evtLayers'+'Changed']=_0xfa08c1['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x2534ea&&(this['_evtLayerA'+'dded']=_0x2534ea['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x2534ea['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0x173*0x5+-0x6f5*-0x1+-0xe34*0x1&&((_0x5e254b=_0x833ca5['batcher'])==null||_0x5e254b['insert'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x3028c5,_0x38ddef,_0x269a24,_0x377838;const _0x4fd8af=this['system']['app'],_0x55b84e=_0x4fd8af['scene']['layers'];(_0x3028c5=this['_evtLayers'+'Changed'])==null||_0x3028c5['off'](),this['_evtLayers'+'Changed']=null,_0x55b84e&&((_0x38ddef=this['_evtLayerA'+'dded'])==null||_0x38ddef['off'](),this['_evtLayerA'+'dded']=null,(_0x269a24=this['_evtLayerR'+'emoved'])==null||_0x269a24['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x1357+-0x1c43*0x1+0x9*0x54a&&((_0x377838=_0x4fd8af['batcher'])==null||_0x377838['remove'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x55f86d;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x3ff25b in this['_clips'])this['_clips'][_0x3ff25b]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x55f86d=this['_node'])==null||_0x55f86d['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x45051a=[this['_meshInsta'+'nce']];for(let _0x62a9d0=-0x2604+-0x1a6b+0x406f,_0xd883c4=this['_layers']['length'];_0x62a9d0<_0xd883c4;_0x62a9d0++){const _0x3b3c19=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x62a9d0]);_0x3b3c19&&_0x3b3c19['addMeshIns'+'tances'](_0x45051a);}this['_addedMode'+'l']=!(0x33*0xd+0x11*0xa3+-0xd6a);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x9c5ddf=[this['_meshInsta'+'nce']];for(let _0x15f4b3=-0x1ec2*0x1+0x540+-0x51a*-0x5,_0x4ac78b=this['_layers']['length'];_0x15f4b3<_0x4ac78b;_0x15f4b3++){const _0x5f299b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x15f4b3]);_0x5f299b&&_0x5f299b['removeMesh'+'Instances'](_0x9c5ddf);}this['_addedMode'+'l']=!(0x31*-0xbb+0x16d*-0xa+0x320e);}['_showFrame'](_0x191a07){if(!this['sprite'])return;const _0x4c552b=this['sprite']['meshes'][_0x191a07];if(!_0x4c552b){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x44f+-0x95*0x1f+-0x3b*-0x61));return;}let _0x2a67ea;if(this['sprite']['renderMode']===nt?_0x2a67ea=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Qe?_0x2a67ea=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x2a67ea=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Le(_0x4c552b,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0xc*-0x31d+0x22*0xed+0x89*0xb),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x37*0x24+0x373*0x1+-0x6a*0x1b),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0x175d+-0xbd0+0xb8d*-0x1]=this['_color']['r'],this['_colorUnif'+'orm'][-0x10a3+0x1172+0xce*-0x1]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1*0x2275+0x1*-0x1c45+0x3ebc]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x2a67ea&&(this['_meshInsta'+'nce']['material']=_0x2a67ea),this['_meshInsta'+'nce']['mesh']!==_0x4c552b&&(this['_meshInsta'+'nce']['mesh']=_0x4c552b,this['_meshInsta'+'nce']['visible']=!(-0x1*0x1f3d+-0x21d*-0x4+0x1*0x16c9),this['_meshInsta'+'nce']['_aabbVer']=-(-0x1*0x1cca+0x1aca+-0x13*-0x1b)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Pg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Pg),this['_meshInsta'+'nce']['deletePara'+'meter'](Rg)),this['sprite']['atlas']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x19ebac=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x191a07]];if(_0x19ebac){const _0x183c41=(0x194+-0x1*0xbe9+0x1*0xa57)/_0x19ebac['rect']['z'],_0x47bc80=(0x225+-0x14f+-0xd4*0x1)/_0x19ebac['rect']['w'];this['_innerOffs'+'et']['set'](_0x19ebac['border']['x']*_0x183c41,_0x19ebac['border']['y']*_0x47bc80,_0x19ebac['border']['z']*_0x183c41,_0x19ebac['border']['w']*_0x47bc80);const _0xbe24eb=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x19ebac['rect']['x']/_0xbe24eb['width'],_0x19ebac['rect']['y']/_0xbe24eb['height'],_0x19ebac['rect']['z']/_0xbe24eb['width'],_0x19ebac['rect']['w']/_0xbe24eb['height']);}else this['_innerOffs'+'et']['set'](0x1700+-0x5*0x33b+-0x6d9*0x1,-0x1*-0x180e+0x23d3+-0x3be1*0x1,-0x1f02+-0x1*-0x11ea+-0x346*-0x4,0x83*0x27+0x187c+-0x2c71);this['_innerOffs'+'etUniform'][-0x17f*-0x16+-0x8*-0x13e+0x2*-0x156d]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x1*0x22b7+0x3a5*0x4+-0xa12*-0x2]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x259+-0x2*0x634+0xec3]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x13*-0x4c+-0x14db+-0xf3a*-0x1]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](NI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x431+0x1ce8+-0x2119]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0xfba+0x1112+-0x1*0x157]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x1*-0x1145+0x2a0+-0xb*-0x155]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0xf*0x25+0x67*0x7+-0xa3]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x10aa00=this['flipX']?-(-0xc3*0xd+-0xe9b*0x2+0x271e):-0x15fa+0x16a7+-0xac,_0x4d7869=this['flipY']?-(-0x1c47+-0x1*-0x1087+0xbc1):-0x1cae+0x1b*-0x13a+-0x1*-0x3dcd,_0x23f393=-0xcde+-0x62a*0x4+0x2586,_0x574111=-0xecd+-0x5*0x62a+0x2d9f;if(this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){let _0x25a09a=0x1a*0x67+-0x29*-0x95+-0x2252*0x1,_0x446e8c=-0x1534+0x48b+0x6*0x2c7;if(this['sprite']['atlas']){const _0x783567=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x783567&&(_0x25a09a=_0x783567['rect']['z'],_0x446e8c=_0x783567['rect']['w'],_0x23f393=(0x1*0x1e29+0x5f2+-0x241b+0.5-_0x783567['pivot']['x'])*this['_width'],_0x574111=(0xd76+0x7c8+-0x153e+0.5-_0x783567['pivot']['y'])*this['_height']);}const _0x18c6c0=_0x25a09a/this['sprite']['pixelsPerU'+'nit'],_0x5b295b=_0x446e8c/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x18c6c0),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x5b295b)),_0x10aa00*=_0x18c6c0,_0x4d7869*=_0x5b295b,this['_outerScal'+'e']['x']/=_0x18c6c0,this['_outerScal'+'e']['y']/=_0x5b295b,_0x10aa00*=N['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x18c6c0),-0x4*-0x902+-0x2*0x111c+-0x1d0+0.0001,0x1b0e*0x1+-0xf44+-0xbc9),_0x4d7869*=N['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x5b295b),0x24db+0x1*-0x2612+0x137+0.0001,-0x5b*-0x7+0x1c0d+-0x1e89),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0x2*-0x104e+0x2032+-0xd2*0x4f]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1*0x1dd7+-0x14a9+-0x92d]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x10aa00,_0x4d7869,0x25*-0x10c+0x74b*-0x1+-0x4*-0xb82),this['_node']['setLocalPo'+'sition'](_0x23f393,_0x574111,-0x756+-0x3a*-0x6b+-0x10e8*0x1);}['_updateAab'+'b'](_0x43b97e){return _0x43b97e['center']['set'](-0xd8b*-0x1+-0x2075*-0x1+-0x1*0x2e00,0x7*0x4c2+-0x1*0x175d+0x1fd*-0x5,-0x86d*-0x2+-0x15e7+0x50d),_0x43b97e['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0xd7f+-0x2*-0x111d+-0x2fb9+0.5),this['_outerScal'+'e']['y']*(-0x20a*0xd+0x20*0xfb+-0x2*0x26f+0.5),0x35*0x7b+0xd29+-0x26a0+0.001),_0x43b97e['setFromTra'+'nsformedAa'+'bb'](_0x43b97e,this['_node']['getWorldTr'+'ansform']()),_0x43b97e;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Mg)return;const _0x2e6f02=this['_clips'][this['_autoPlayC'+'lip']];_0x2e6f02&&!_0x2e6f02['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x2e6f02['name']);}['_onLayersC'+'hanged'](_0x46264b,_0x63fb47){_0x46264b['off']('add',this['onLayerAdd'+'ed'],this),_0x46264b['off']('remove',this['onLayerRem'+'oved'],this),_0x63fb47['on']('add',this['onLayerAdd'+'ed'],this),_0x63fb47['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x19e226){this['layers']['indexOf'](_0x19e226['id'])<-0x44*-0x2f+0x248*-0x5+-0x114||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x19e226['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x58ecd2){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x58ecd2['id'])<-0xf72+-0xe53+0x1dc5*0x1||_0x58ecd2['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x3e8cac=-0x1a1c+0x486+0x1596;_0x3e8cac<this['layers']['length'];_0x3e8cac++){const _0x41ad04=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3e8cac]);_0x41ad04&&_0x41ad04['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x5ec9d2){const _0x5155bf=new bi(this,{'name':_0x5ec9d2['name'],'fps':_0x5ec9d2['fps'],'loop':_0x5ec9d2['loop'],'spriteAsset':_0x5ec9d2['spriteAsse'+'t']});return this['_clips'][_0x5ec9d2['name']]=_0x5155bf,_0x5155bf['name']&&_0x5155bf['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x5155bf;}['removeClip'](_0x4e8f50){delete this['_clips'][_0x4e8f50];}['clip'](_0xf283e8){return this['_clips'][_0xf283e8];}['play'](_0x3a911a){const _0x354621=this['_clips'][_0x3a911a],_0x519b97=this['_currentCl'+'ip'];return _0x519b97&&_0x519b97!==_0x354621&&(_0x519b97['_playing']=!(0x13a0+0xb*0x28d+-0x2fae)),this['_currentCl'+'ip']=_0x354621,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x354621,this['_currentCl'+'ip']['play']()):v['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x3a911a+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x354621;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(ji,'EVENT_PLAY','play'),c(ji,'EVENT_PAUS'+'E','pause'),c(ji,'EVENT_RESU'+'ME','resume'),c(ji,'EVENT_STOP','stop'),c(ji,'EVENT_END','end'),c(ji,'EVENT_LOOP','loop');class VI{constructor(){this['enabled']=!(0x5b5+-0xb8a*0x2+0x115f);}}const Sx=['enabled'];class GI extends Xe{constructor(_0x9c65bd){super(_0x9c65bd),this['id']='sprite',this['ComponentT'+'ype']=ji,this['DataType']=VI,this['schema']=Sx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x498579){this['_defaultMa'+'terial']=_0x498579;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x449ffd=new he(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Se,'name':'sprite'}),_0x58ea02=new Uint8Array(_0x449ffd['lock']());_0x58ea02[-0x1265*0x1+0xdf*-0x5+0x16c0]=_0x58ea02[0x17*-0x8b+-0x3b3*0x5+0x1*0x1efd]=_0x58ea02[-0x724+0xa6b+-0x345]=_0x58ea02[0xbe6+0xbac+-0xa3*0x25]=0x23f2+-0x1d41+-0x5b2,_0x449ffd['unlock']();const _0x123030=new cs();_0x123030['diffuse']['set'](0x85*0x49+-0x1*0xe4a+0x7e1*-0x3,-0x12ca+-0x376*-0x1+0xf54,-0xa57*0x3+-0x1*0x1528+0x342d),_0x123030['emissive']['set'](-0x253c*-0x1+0xfb2*0x2+-0x449f,-0x3bd+0xea8+-0xaea,0x2049+-0x2109+0xc1),_0x123030['emissiveMa'+'p']=_0x449ffd,_0x123030['opacityMap']=_0x449ffd,_0x123030['opacityMap'+'Channel']='a',_0x123030['useLightin'+'g']=!(0x9*-0xa3+0x11a*-0x1f+-0xa*-0x3fd),_0x123030['useTonemap']=!(0x18fe+-0xad*-0x7+0x4f4*-0x6),_0x123030['useFog']=!(0x572+-0x1cae+-0x7bf*-0x3),_0x123030['useSkybox']=!(-0x640+-0x2*-0x10b7+-0x1b2d),_0x123030['blendType']=hr,_0x123030['depthWrite']=!(0x12b7+-0xf*0xdb+-0x2b*0x23),_0x123030['pixelSnap']=!(-0x2407+0x11da+-0xd*-0x166),_0x123030['cull']=mt,_0x123030['update'](),this['_defaultTe'+'xture']=_0x449ffd,this['_defaultMa'+'terial']=_0x123030;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x414dd4){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x414dd4;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x4aab7b=this['defaultMat'+'erial']['clone']();_0x4aab7b['nineSliced'+'Mode']=nt,_0x4aab7b['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x4aab7b;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x3c7d2b){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x3c7d2b;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x2c3cb4=this['defaultMat'+'erial']['clone']();_0x2c3cb4['nineSliced'+'Mode']=Qe,_0x2c3cb4['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x2c3cb4;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x273b1a,_0x460fe3,_0xc8e620){if(_0x460fe3['enabled']!==void(-0x24*0x14+-0x9af*-0x2+-0x108e)&&(_0x273b1a['enabled']=_0x460fe3['enabled']),_0x273b1a['type']=_0x460fe3['type'],_0x460fe3['layers']&&Array['isArray'](_0x460fe3['layers'])&&(_0x273b1a['layers']=_0x460fe3['layers']['slice'](0x3*-0xcbd+0x7f*0x15+0x251*0xc)),_0x460fe3['drawOrder']!==void(-0x35*0x24+0x1*0x359+0x41b)&&(_0x273b1a['drawOrder']=_0x460fe3['drawOrder']),_0x460fe3['color']!==void(0xe7f+-0x1*-0x3b+0x75d*-0x2)&&(_0x460fe3['color']instanceof Y?_0x273b1a['color']['set'](_0x460fe3['color']['r'],_0x460fe3['color']['g'],_0x460fe3['color']['b'],_0x460fe3['opacity']??-0x1511+-0x191*0x12+0xc51*0x4):_0x273b1a['color']['set'](_0x460fe3['color'][0x1*0x93e+-0x3d*-0xa2+-0x2fd8],_0x460fe3['color'][-0x1571+-0x1b17+0x163*0x23],_0x460fe3['color'][0x173*0x1+0x24e9+-0x265a],_0x460fe3['opacity']??0x58a+0x339+0x461*-0x2),_0x273b1a['color']=_0x273b1a['color']),_0x460fe3['opacity']!==void(-0x1acc+0x1e44*0x1+-0x18*0x25)&&(_0x273b1a['opacity']=_0x460fe3['opacity']),_0x460fe3['flipX']!==void(0x7ff+-0x16*0x197+-0x1*-0x1afb)&&(_0x273b1a['flipX']=_0x460fe3['flipX']),_0x460fe3['flipY']!==void(-0x107c+0x7e6+0x896)&&(_0x273b1a['flipY']=_0x460fe3['flipY']),_0x460fe3['width']!==void(0x1f8d+0xfe+-0x208b)&&(_0x273b1a['width']=_0x460fe3['width']),_0x460fe3['height']!==void(-0xb94+-0x37a+0xf0e)&&(_0x273b1a['height']=_0x460fe3['height']),_0x460fe3['spriteAsse'+'t']!==void(0x1d6*0xc+0x935*0x1+-0x1f3d)&&(_0x273b1a['spriteAsse'+'t']=_0x460fe3['spriteAsse'+'t']),_0x460fe3['sprite']&&(_0x273b1a['sprite']=_0x460fe3['sprite']),_0x460fe3['frame']!==void(0x1df8+0x1843+-0x363b)&&(_0x273b1a['frame']=_0x460fe3['frame']),_0x460fe3['clips']){for(const _0x556751 in _0x460fe3['clips'])_0x273b1a['addClip'](_0x460fe3['clips'][_0x556751]);}_0x460fe3['speed']!==void(-0x1*0xb4+0x1027+0x23*-0x71)&&(_0x273b1a['speed']=_0x460fe3['speed']),_0x460fe3['autoPlayCl'+'ip']&&(_0x273b1a['autoPlayCl'+'ip']=_0x460fe3['autoPlayCl'+'ip']),_0x273b1a['batchGroup'+'Id']=_0x460fe3['batchGroup'+'Id']===void(-0xe41+-0x1982+-0x1*-0x27c3)||_0x460fe3['batchGroup'+'Id']===null?-(-0x1*0x20ae+0x1527+0xc*0xf6):_0x460fe3['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x273b1a,_0x460fe3,_0xc8e620);}['cloneCompo'+'nent'](_0x1783aa,_0x54deca){const _0x28a30f=_0x1783aa['sprite'];return this['addCompone'+'nt'](_0x54deca,{'enabled':_0x28a30f['enabled'],'type':_0x28a30f['type'],'spriteAsset':_0x28a30f['spriteAsse'+'t'],'sprite':_0x28a30f['sprite'],'width':_0x28a30f['width'],'height':_0x28a30f['height'],'frame':_0x28a30f['frame'],'color':_0x28a30f['color']['clone'](),'opacity':_0x28a30f['opacity'],'flipX':_0x28a30f['flipX'],'flipY':_0x28a30f['flipY'],'speed':_0x28a30f['speed'],'clips':_0x28a30f['clips'],'autoPlayClip':_0x28a30f['autoPlayCl'+'ip'],'batchGroupId':_0x28a30f['batchGroup'+'Id'],'drawOrder':_0x28a30f['drawOrder'],'layers':_0x28a30f['layers']['slice'](0xeaa+-0x9*-0x387+-0x2e69)});}['onUpdate'](_0x3da116){const _0x31c0f5=this['store'];for(const _0x22b4de in _0x31c0f5)if(_0x31c0f5['hasOwnProp'+'erty'](_0x22b4de)){const _0x44c9f5=_0x31c0f5[_0x22b4de];if(_0x44c9f5['data']['enabled']&&_0x44c9f5['entity']['enabled']){const _0xf8deb2=_0x44c9f5['entity']['sprite'];_0xf8deb2['_currentCl'+'ip']&&_0xf8deb2['_currentCl'+'ip']['_update'](_0x3da116);}}}['onBeforeRe'+'move'](_0x22953b,_0x1905a0){_0x1905a0['onDestroy']();}}ue['_buildAcce'+'ssors'](ji['prototype'],Sx);class ra extends ue{constructor(_0x31312d,_0x4f66f9){super(_0x31312d,_0x4f66f9),this['_oldState']=!(-0xd*0xd+0x8c5+0x81c*-0x1),this['_size']=new T(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x55a190){_0x55a190 instanceof T?this['_size']['copy'](_0x55a190):_0x55a190 instanceof Array&&_0x55a190['length']>=0x76*0x1+0x1*0x2621+-0x134a*0x2&&this['size']['set'](_0x55a190[0x1f*0x39+-0x533*0x5+0x263*0x8],_0x55a190[0x12e9*-0x1+0x10fb+0x1ef],_0x55a190[0x753+-0x1*-0x751+0xea2*-0x1]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x55b72f,_0x142ecf,_0x4a2231){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x73d6fa=this['enabled']&&this['entity']['enabled'];_0x73d6fa!==this['_oldState']&&(this['_oldState']=_0x73d6fa,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(ra,'EVENT_ENAB'+'LE','enable'),c(ra,'EVENT_DISA'+'BLE','disable'),c(ra,'EVENT_STAT'+'E','state'),c(ra,'EVENT_REMO'+'VE','remove');class HI{constructor(){this['enabled']=!(0xacc*-0x1+-0x25e8+-0xc*-0x40f);}}const vx=['enabled'];class $I extends Xe{constructor(_0x1329fe){super(_0x1329fe),this['id']='zone',this['ComponentT'+'ype']=ra,this['DataType']=HI,this['schema']=vx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x3303fd,_0x483f6e,_0xfeb280){_0x3303fd['enabled']=_0x483f6e['hasOwnProp'+'erty']('enabled')?!!_0x483f6e['enabled']:!(0xb66+-0x2*0x698+-0x1*-0x1ca),_0x483f6e['size']&&(_0x483f6e['size']instanceof T?_0x3303fd['size']['copy'](_0x483f6e['size']):_0x483f6e['size']instanceof Array&&_0x483f6e['size']['length']>=0x5*0x5d5+-0x111d*-0x2+0x3f60*-0x1&&_0x3303fd['size']['set'](_0x483f6e['size'][0xbb3+-0x30d+0x9*-0xf6],_0x483f6e['size'][0x1002+0x2289+-0x1945*0x2],_0x483f6e['size'][-0x3*-0x221+-0xf0+0x1*-0x571]));}['cloneCompo'+'nent'](_0x5b067c,_0x2f7312){const _0x5540d2={'enabled':_0x5b067c['zone']['enabled'],'size':_0x5b067c['zone']['size']};return this['addCompone'+'nt'](_0x2f7312,_0x5540d2);}['_onBeforeR'+'emove'](_0x40eacb,_0x45ca95){_0x45ca95['_onBeforeR'+'emove']();}}ue['_buildAcce'+'ssors'](ra['prototype'],vx);class WI{constructor(_0x3040ef,_0x48ecb0){this['effect']=_0x3040ef,this['inputTarge'+'t']=_0x48ecb0,this['outputTarg'+'et']=null,this['name']=_0x3040ef['constructo'+'r']['name'];}}class qI{constructor(_0x4aa567,_0x52ab0){this['app']=_0x4aa567,this['camera']=_0x52ab0,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0x323*0x3+0x1*-0x6cf+0x23*-0x13),this['depthTarge'+'t']=null,_0x52ab0['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x583297,_0x16b34c){const _0x29e9f7=this['camera']['rect'],_0x5c84a0=this['destinatio'+'nRenderTar'+'get'],_0x491063=this['app']['graphicsDe'+'vice'],_0x34bb1a=Math['floor'](_0x29e9f7['z']*((_0x5c84a0==null?void(-0xd*-0x15b+-0x17b*-0x13+-0x2dc0):_0x5c84a0['width'])??_0x491063['width'])),_0x51473a=Math['floor'](_0x29e9f7['w']*((_0x5c84a0==null?void(0x299+0x122d+-0x14c6):_0x5c84a0['height'])??_0x491063['height']));return new he(_0x491063,{'name':_0x16b34c,'format':_0x583297,'width':_0x34bb1a,'height':_0x51473a,'mipmaps':!(-0x1c04+-0x1*-0x149f+-0x3b3*-0x2),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['_createOff'+'screenTarg'+'et'](_0xc1fed5,_0x47da16){const _0x2f251c=this['app']['graphicsDe'+'vice'],_0xe2ee33=(this['destinatio'+'nRenderTar'+'get']??_0x2f251c['backBuffer'])['isColorBuf'+'ferSrgb'](0x1b20+0xb7b+-0x269b),_0x4f57c1=(_0x47da16&&_0x2f251c['getRendera'+'bleHdrForm'+'at']([Je,Ke],!(-0xc8a+-0x1789*0x1+-0x5*-0x737)))??(_0xe2ee33?rs:Se),_0x10f9f6=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x188503=this['_allocateC'+'olorBuffer'](_0x4f57c1,_0x10f9f6);return new pt({'colorBuffer':_0x188503,'depth':_0xc1fed5,'stencil':_0xc1fed5&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0xc1fed5?_0x2f251c['samples']:0xbbd+0x10e5+-0x1ca1*0x1});}['_resizeOff'+'screenTarg'+'et'](_0xb745d0){const _0x4464b2=_0xb745d0['colorBuffe'+'r']['format'],_0x5eb6f9=_0xb745d0['colorBuffe'+'r']['name'];_0xb745d0['destroyFra'+'meBuffers'](),_0xb745d0['destroyTex'+'tureBuffer'+'s'](),_0xb745d0['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x4464b2,_0x5eb6f9),_0xb745d0['_colorBuff'+'ers']=[_0xb745d0['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x4c3933){_0x4c3933['destroyTex'+'tureBuffer'+'s'](),_0x4c3933['destroy']();}['addEffect'](_0x1a501f){const _0x51f106=this['effects'],_0xe4b6b9=_0x51f106['length']===-0xbc0+0x770+0x8*0x8a,_0x22b495=this['_createOff'+'screenTarg'+'et'](_0xe4b6b9,_0x1a501f['hdr']),_0x165f32=new WI(_0x1a501f,_0x22b495);_0x51f106['push'](_0x165f32),this['_sourceTar'+'get']=_0x165f32['inputTarge'+'t'],_0x51f106['length']>-0x25b6+-0x238b+0x4942&&(_0x51f106[_0x51f106['length']-(-0x72d+0xf51+-0x822*0x1)]['outputTarg'+'et']=_0x165f32['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x1a501f,_0x1a501f['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x101f+-0x2689+0x36a8);}['removeEffe'+'ct'](_0x29b385){let _0x3150ea=-(-0x1817+0x122f+0x1*0x5e9);for(let _0x4317a3=-0x615+-0x4f9*0x3+-0x100*-0x15,_0x3f06fc=this['effects']['length'];_0x4317a3<_0x3f06fc;_0x4317a3++)if(this['effects'][_0x4317a3]['effect']===_0x29b385){_0x3150ea=_0x4317a3;break;}_0x3150ea>=0x24e3+0x22a4+0x4787*-0x1&&(_0x3150ea>0x698*-0x2+-0x1*0x23bb+0x30eb?this['effects'][_0x3150ea-(-0xce6+-0x1a11+0x26f8)]['outputTarg'+'et']=_0x3150ea+(0x153+-0x17f6+0x16a4)<this['effects']['length']?this['effects'][_0x3150ea+(0xda7+0x23cd+-0x3173*0x1)]['inputTarge'+'t']:null:this['effects']['length']>-0x2600*-0x1+0x1909*-0x1+-0xcf6&&(this['effects'][-0x1*0x165f+0x88*-0x39+0x5*0xa88]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0x19*0xf8+0xd*0x244+-0x53b]['inputTarge'+'t']),this['effects'][-0x17df+0xb81+0xc5f]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(-0x6d3+0x18ca+-0x11f7),this['effects'][-0x8f2+0x8a2+0x51*0x1]['hdr']),this['_sourceTar'+'get']=this['effects'][-0xc5*0x1f+0x2098+0xac*-0xd]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][0x2*-0xd9f+0x13*0x1ff+-0xaae]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x3150ea]['inputTarge'+'t']),this['effects']['splice'](_0x3150ea,0x54*0x53+0x1*-0x2611+-0x26*-0x49)),this['enabled']&&_0x29b385['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x1075+0x107e+-0x20f3*0x1&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x1a5e25=-0x174+-0x72c+-0x30*-0x2e,_0x20ba6f=this['effects']['length'];_0x1a5e25<_0x20ba6f;_0x1a5e25++){const _0x285255=this['effects'][_0x1a5e25]['effect'];this['_newPostEf'+'fect']!==_0x285255&&_0x285255['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x827cd7=0x8d*0x27+-0x1fb9+0xa3e,_0x45e284=this['effects']['length'];_0x827cd7<_0x45e284;_0x827cd7++)this['effects'][_0x827cd7]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x559415=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x559415&&(_0x559415['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x1e37+0x1349*0x2+-0x44c9)));}['_releaseDe'+'pthMap'](){const _0x598b68=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x598b68&&(_0x598b68['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x112*-0xc+0x1*-0x11f9+0x2*0x291)));}['destroy'](){for(let _0x31b1cd=-0x588+0xd4*0xd+-0x53c,_0x557807=this['effects']['length'];_0x31b1cd<_0x557807;_0x31b1cd++)this['effects'][_0x31b1cd]['inputTarge'+'t']['destroy']();this['effects']['length']=-0x1b7*-0x1+0x1*0x2345+-0x24fc,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0xdc5+-0x10b*0x1b+-0x4*-0x399),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x23ee+-0x23ef*-0x1+0x1*-0x47dd]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x449d6b=null;const _0x1e3253=this['effects']['length'];if(_0x1e3253)for(let _0x411065=-0xa4a+0x685*-0x1+-0x10cf*-0x1;_0x411065<_0x1e3253;_0x411065++){const _0x4b3616=this['effects'][_0x411065];let _0x4e61f7=_0x4b3616['outputTarg'+'et'];_0x411065===_0x1e3253-(-0xbb*-0x11+0x118*0x4+-0x1*0x10ca)&&(_0x449d6b=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x4e61f7=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x4b3616['name']),_0x4b3616['effect']['render'](_0x4b3616['inputTarge'+'t'],_0x4e61f7,_0x449d6b),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0xef1*-0x1+-0x23f9+0x32eb),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0xe990d,_0x21cc0d){const _0x4ee7b8=this['camera']['rect'],_0x509408=this['destinatio'+'nRenderTar'+'get'];_0xe990d=(_0x509408==null?void(0x1*-0x3d1+0xd94+-0x9c3):_0x509408['width'])??_0xe990d,_0x21cc0d=(_0x509408==null?void(-0x722*-0x3+-0x20fb+0xb95):_0x509408['height'])??_0x21cc0d,this['camera']['camera']['aspectRati'+'o']=_0xe990d*_0x4ee7b8['z']/(_0x21cc0d*_0x4ee7b8['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x139d10=this['app']['graphicsDe'+'vice'],_0x242306=this['destinatio'+'nRenderTar'+'get'],_0x589ab5=(_0x242306==null?void(0xb8a+-0x10d0*0x2+0x1616):_0x242306['width'])??_0x139d10['width'],_0xbf2a7a=(_0x242306==null?void(0x1b1*-0x4+-0x1b26+0x21ea):_0x242306['height'])??_0x139d10['height'],_0x1ce7b7=this['camera']['rect'],_0x1c0698=Math['floor'](_0x1ce7b7['z']*_0x589ab5),_0x301d9c=Math['floor'](_0x1ce7b7['w']*_0xbf2a7a),_0x25fa43=this['effects'];for(let _0x3a497f=-0x4d*-0x4f+-0x1b66+-0x1*-0x3a3,_0x30e1e0=_0x25fa43['length'];_0x3a497f<_0x30e1e0;_0x3a497f++){const _0x3d77d7=_0x25fa43[_0x3a497f];(_0x3d77d7['inputTarge'+'t']['width']!==_0x1c0698||_0x3d77d7['inputTarge'+'t']['height']!==_0x301d9c)&&this['_resizeOff'+'screenTarg'+'et'](_0x3d77d7['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x4a0493,_0x2115fd,_0x336813){this['enabled']&&this['resizeRend'+'erTargets']();}}class bx extends ue{constructor(_0x36ee5c,_0x386b08){super(_0x36ee5c,_0x386b08),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',0x11+-0x1372+0xb*0x1c3),c(this,'_renderSce'+'neColorMap',-0x23+-0x235*-0x1+-0x212),c(this,'_sceneDept'+'hMapReques'+'ted',!(0x3*0xce+0xb37+-0xda0)),c(this,'_sceneColo'+'rMapReques'+'ted',!(0x432+-0xc51*0x1+0x820)),c(this,'_priority',0x1735+0x68*-0x14+-0xf15),c(this,'_disablePo'+'stEffectsL'+'ayer',tl),c(this,'_camera',new ol()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x386b08,this['_postEffec'+'ts']=new qI(_0x36ee5c['app'],this));}['setShaderP'+'ass'](_0x49acf4){const _0x468ab1=Ks['get'](this['system']['app']['graphicsDe'+'vice']),_0x513c95=_0x49acf4?_0x468ab1['allocate'](_0x49acf4,{'isForward':!(-0x132d*0x1+0x94*0x4+-0x1*-0x10dd)}):null;return this['_camera']['shaderPass'+'Info']=_0x513c95,_0x513c95['index'];}['getShaderP'+'ass'](){var _0x4bec73;return(_0x4bec73=this['_camera']['shaderPass'+'Info'])==null?void(0x2c*-0xab+-0x1*-0x2ed+0x54b*0x5):_0x4bec73['name'];}set['renderPass'+'es'](_0x10a536){this['_camera']['renderPass'+'es']=_0x10a536||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0x2*0x16d+0x738+-0xd*0x56);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x40b1fc){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x40b1fc;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0xf0184){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0xf0184;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x11a750){this['_camera']['fogParams']=_0x11a750;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x4f964a){this['_camera']['aperture']=_0x4f964a;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x40919c){this['_camera']['aspectRati'+'o']=_0x40919c;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x141c0b){this['_camera']['aspectRati'+'oMode']=_0x141c0b;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x14bfce){this['_camera']['calculateP'+'rojection']=_0x14bfce;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x11234c){this['_camera']['calculateT'+'ransform']=_0x11234c;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x2b8d87){this['_camera']['clearColor']=_0x2b8d87;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x4505b4){this['_camera']['clearColor'+'Buffer']=_0x4505b4,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x272739){this['_camera']['clearDepth'+'Buffer']=_0x272739,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x55f714){this['_camera']['clearStenc'+'ilBuffer']=_0x55f714,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x1c4f4d){this['_camera']['cullFaces']=_0x1c4f4d;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0xbb7045){this['_disablePo'+'stEffectsL'+'ayer']=_0xbb7045,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x3befb2){this['_camera']['farClip']=_0x3befb2;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x201639){this['_camera']['flipFaces']=_0x201639;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x48104e){this['_camera']['fov']=_0x48104e;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x24e91c){this['_camera']['frustumCul'+'ling']=_0x24e91c;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x33410d){this['_camera']['horizontal'+'Fov']=_0x33410d;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x4f3851){const _0x20c701=this['_camera']['layers'],_0x1be449=this['system']['app']['scene'];_0x20c701['forEach'](_0x1d652d=>{const _0x18308d=_0x1be449['layers']['getLayerBy'+'Id'](_0x1d652d);_0x18308d==null||_0x18308d['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x4f3851,this['enabled']&&this['entity']['enabled']&&_0x4f3851['forEach'](_0x29511d=>{const _0x3f166c=_0x1be449['layers']['getLayerBy'+'Id'](_0x29511d);_0x3f166c==null||_0x3f166c['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x48f2ef){this['_camera']['jitter']=_0x48f2ef;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x2a6736){this['_camera']['nearClip']=_0x2a6736;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x55dc3f){this['_camera']['orthoHeigh'+'t']=_0x55dc3f;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x3b7d9b){this['_priority']=_0x3b7d9b,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x15b663){this['_camera']['projection']=_0x15b663;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x283f3a){this['_camera']['rect']=_0x283f3a,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0xbc0edf){_0xbc0edf&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(0x215a+-0xa75+0x16e5*-0x1)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x2*0x314+-0x894+-0x17*-0xa4)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0x6bf+0xf94*-0x1+0x8d6)),this['_sceneColo'+'rMapReques'+'ted']=!(-0xa9+0x18ea+-0x1840));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0x230a+0x51b+0x61*0x4f;}set['renderScen'+'eDepthMap'](_0x186cc3){_0x186cc3&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x3*0x47f+-0xe7a+0xfd)),this['_sceneDept'+'hMapReques'+'ted']=!(0x2180+0x2394+0x4*-0x1145)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x1*0xa46+-0x1*0x2645+0x308c)),this['_sceneDept'+'hMapReques'+'ted']=!(0x49*-0x3a+-0x230c+0x1*0x3397));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x85*0x3e+-0x23d2+0x39c;}set['renderTarg'+'et'](_0x1b17dd){v['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0x1447+-0x5*-0x35e+-0x371*-0x1&&v['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x1b17dd,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0xaf96a7){this['_camera']['scissorRec'+'t']=_0xaf96a7;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x81b6c1){this['_camera']['sensitivit'+'y']=_0x81b6c1;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x4ffa4e){this['_camera']['shutter']=_0x4ffa4e;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x373089){if(this['layers']['find'](_0xc68633=>_0xc68633===Xt)){const _0x38be56=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x373089?_0x38be56==null||_0x38be56['incrementC'+'ounter']():_0x38be56==null||_0x38be56['decrementC'+'ounter']();}else{if(_0x373089)return!(0x166+0x4c*-0x1d+0x737);}return!(-0x19*-0x7d+0x944+0x1*-0x1579);}['requestSce'+'neColorMap'](_0x29cf55){this['_renderSce'+'neColorMap']+=_0x29cf55?-0x1d5d*0x1+0x1912+-0x32*-0x16:-(-0x2405*-0x1+-0x2*0x8ea+-0x1230),v['assert'](this['_renderSce'+'neColorMap']>=0x2589+-0x25c9+0x40),this['_enableDep'+'thLayer'](_0x29cf55)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x322b34){this['_renderSce'+'neDepthMap']+=_0x322b34?-0x9ee*0x3+-0x1e30+0xbff*0x5:-(0x1d53+0x2fc+-0x204e),v['assert'](this['_renderSce'+'neDepthMap']>=-0x1d00+0x129d+-0x1*-0xa63),this['_enableDep'+'thLayer'](_0x322b34)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x15cea1=this['system']['app']['scene']['layers'];_0x15cea1['_dirty']=!(0x124e+0xa27+-0xeb*0x1f);}['screenToWo'+'rld'](_0x5c12f2,_0x1a03ec,_0x4af545,_0x7603d9){const _0x4fd29d=this['system']['app']['graphicsDe'+'vice'],{width:_0x57cff6,height:_0x172982}=_0x4fd29d['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x5c12f2,_0x1a03ec,_0x4af545,_0x57cff6,_0x172982,_0x7603d9);}['worldToScr'+'een'](_0x320aa8,_0x24fb22){const _0x97881b=this['system']['app']['graphicsDe'+'vice'],{width:_0x41c472,height:_0x87b747}=_0x97881b['clientRect'];return this['_camera']['worldToScr'+'een'](_0x320aa8,_0x41c472,_0x87b747,_0x24fb22);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0x580+-0x1d9*0x15+0x2c4d),this['_camera']['_viewProjM'+'atDirty']=!(-0x5a2+0x1*-0x256e+0x2*0x1588);}['addCameraT'+'oLayers'](){const _0x19d07a=this['layers'];for(let _0x2043db=0xa65+-0xa6a*0x1+0x5;_0x2043db<_0x19d07a['length'];_0x2043db++){const _0x29f758=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x19d07a[_0x2043db]);_0x29f758&&_0x29f758['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x7d34d0=this['layers'];for(let _0x471eb6=0x14b1*-0x1+0x179e+-0x2ed;_0x471eb6<_0x7d34d0['length'];_0x471eb6++){const _0x1e5f9f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x7d34d0[_0x471eb6]);_0x1e5f9f&&_0x1e5f9f['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0xf90989,_0x4a8a58){this['addCameraT'+'oLayers'](),_0xf90989['off']('add',this['onLayerAdd'+'ed'],this),_0xf90989['off']('remove',this['onLayerRem'+'oved'],this),_0x4a8a58['on']('add',this['onLayerAdd'+'ed'],this),_0x4a8a58['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x367070){this['layers']['indexOf'](_0x367070['id'])<0xd4*-0x8+-0x2360+0x2a00||_0x367070['addCamera'](this);}['onLayerRem'+'oved'](_0x10fd9c){this['layers']['indexOf'](_0x10fd9c['id'])<-0xe*0x24b+-0x7*0x329+0x3639||_0x10fd9c['removeCame'+'ra'](this);}['onEnable'](){var _0x5b4dd0,_0x10d472,_0x44565d;const _0x117536=this['system']['app']['scene'],_0x290ac0=_0x117536['layers'];this['system']['addCamera'](this),(_0x5b4dd0=this['_evtLayers'+'Changed'])==null||_0x5b4dd0['off'](),this['_evtLayers'+'Changed']=_0x117536['on']('set:layers',this['onLayersCh'+'anged'],this),_0x290ac0&&((_0x10d472=this['_evtLayerA'+'dded'])==null||_0x10d472['off'](),this['_evtLayerA'+'dded']=_0x290ac0['on']('add',this['onLayerAdd'+'ed'],this),(_0x44565d=this['_evtLayerR'+'emoved'])==null||_0x44565d['off'](),this['_evtLayerR'+'emoved']=_0x290ac0['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x3170b6,_0x395e37,_0x2d0b2a;const _0x29c34e=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x3170b6=this['_evtLayers'+'Changed'])==null||_0x3170b6['off'](),this['_evtLayers'+'Changed']=null,_0x29c34e&&((_0x395e37=this['_evtLayerA'+'dded'])==null||_0x395e37['off'](),this['_evtLayerA'+'dded']=null,(_0x2d0b2a=this['_evtLayerR'+'emoved'])==null||_0x2d0b2a['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0xad29eb){const _0x44803f=this['system']['app']['graphicsDe'+'vice'],_0x1f6b61=_0xad29eb?_0xad29eb['width']:_0x44803f['width'],_0x3c3851=_0xad29eb?_0xad29eb['height']:_0x44803f['height'];return _0x1f6b61*this['rect']['z']/(_0x3c3851*this['rect']['w']);}['frameUpdat'+'e'](_0x194d12){this['aspectRati'+'oMode']===Ip&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x194d12));}['startXr'](_0x2364bd,_0xf12f51,_0x50c00e){this['system']['app']['xr']['start'](this,_0x2364bd,_0xf12f51,_0x50c00e);}['endXr'](_0x1b6e0c){if(!this['_camera']['xr']){_0x1b6e0c&&_0x1b6e0c(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x1b6e0c);}['copy'](_0x379510){this['aperture']=_0x379510['aperture'],this['aspectRati'+'o']=_0x379510['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x379510['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x379510['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x379510['calculateT'+'ransform'],this['clearColor']=_0x379510['clearColor'],this['clearColor'+'Buffer']=_0x379510['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x379510['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x379510['clearStenc'+'ilBuffer'],this['cullFaces']=_0x379510['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x379510['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x379510['farClip'],this['flipFaces']=_0x379510['flipFaces'],this['fov']=_0x379510['fov'],this['frustumCul'+'ling']=_0x379510['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x379510['horizontal'+'Fov'],this['layers']=_0x379510['layers'],this['nearClip']=_0x379510['nearClip'],this['orthoHeigh'+'t']=_0x379510['orthoHeigh'+'t'],this['priority']=_0x379510['priority'],this['projection']=_0x379510['projection'],this['rect']=_0x379510['rect'],this['renderTarg'+'et']=_0x379510['renderTarg'+'et'],this['scissorRec'+'t']=_0x379510['scissorRec'+'t'],this['sensitivit'+'y']=_0x379510['sensitivit'+'y'],this['shutter']=_0x379510['shutter'];}}class XI{constructor(){this['enabled']=!(-0xe0*-0x18+-0x2d2*0x3+-0xc8a);}}const wx=['enabled'];class jI extends Xe{constructor(_0x2fb4fc){super(_0x2fb4fc),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=bx,this['DataType']=XI,this['schema']=wx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x46cdeb,_0x560075,_0x52c1a1){_0x52c1a1=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x4430f1=-0xdfc+0x13a9*-0x1+0x21a5;_0x4430f1<_0x52c1a1['length'];_0x4430f1++){const _0x3970ce=_0x52c1a1[_0x4430f1];if(_0x560075['hasOwnProp'+'erty'](_0x3970ce)){const _0x1c1899=_0x560075[_0x3970ce];switch(_0x3970ce){case'rect':case'scissorRec'+'t':Array['isArray'](_0x1c1899)?_0x46cdeb[_0x3970ce]=new Q(_0x1c1899[0xb8a+0x2c*0x76+-0x1fd2*0x1],_0x1c1899[0x40*0x98+-0x1*0xb3f+-0x1ac0],_0x1c1899[-0x1ddc+-0xb11*-0x3+0x1*-0x355],_0x1c1899[-0x4f*-0x23+0x238e+-0x8*0x5cb]):_0x46cdeb[_0x3970ce]=_0x1c1899;break;case'clearColor':Array['isArray'](_0x1c1899)?_0x46cdeb[_0x3970ce]=new Y(_0x1c1899[0x1*0x207b+0x1*-0xb9f+-0x14*0x10b],_0x1c1899[-0x15a*0x1b+-0x1*0x13a9+0x1c14*0x2],_0x1c1899[0x112c+0x143e+-0x2568],_0x1c1899[-0x108+-0x1e1*0x11+0x83f*0x4]):_0x46cdeb[_0x3970ce]=_0x1c1899;break;default:_0x46cdeb[_0x3970ce]=_0x1c1899;break;}}}super['initialize'+'ComponentD'+'ata'](_0x46cdeb,_0x560075,['enabled']);}['cloneCompo'+'nent'](_0x4ccc9d,_0x531327){const _0x22587a=_0x4ccc9d['camera'];return this['addCompone'+'nt'](_0x531327,{'aspectRatio':_0x22587a['aspectRati'+'o'],'aspectRatioMode':_0x22587a['aspectRati'+'oMode'],'calculateProjection':_0x22587a['calculateP'+'rojection'],'calculateTransform':_0x22587a['calculateT'+'ransform'],'clearColor':_0x22587a['clearColor'],'clearColorBuffer':_0x22587a['clearColor'+'Buffer'],'clearDepthBuffer':_0x22587a['clearDepth'+'Buffer'],'clearStencilBuffer':_0x22587a['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x22587a['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x22587a['renderScen'+'eColorMap'],'cullFaces':_0x22587a['cullFaces'],'enabled':_0x22587a['enabled'],'farClip':_0x22587a['farClip'],'flipFaces':_0x22587a['flipFaces'],'fov':_0x22587a['fov'],'frustumCulling':_0x22587a['frustumCul'+'ling'],'horizontalFov':_0x22587a['horizontal'+'Fov'],'layers':_0x22587a['layers'],'renderTarget':_0x22587a['renderTarg'+'et'],'nearClip':_0x22587a['nearClip'],'orthoHeight':_0x22587a['orthoHeigh'+'t'],'projection':_0x22587a['projection'],'priority':_0x22587a['priority'],'rect':_0x22587a['rect'],'scissorRect':_0x22587a['scissorRec'+'t'],'aperture':_0x22587a['aperture'],'sensitivity':_0x22587a['sensitivit'+'y'],'shutter':_0x22587a['shutter'],'gammaCorrection':_0x22587a['gammaCorre'+'ction'],'toneMapping':_0x22587a['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x10fd19,_0x2db7ec){this['removeCame'+'ra'](_0x2db7ec),_0x2db7ec['onRemove']();}['onAppPrere'+'nder'](){for(let _0x43242b=-0x9ab+0x12ac+-0x901,_0x34a7b0=this['cameras']['length'];_0x43242b<_0x34a7b0;_0x43242b++)this['cameras'][_0x43242b]['onAppPrere'+'nder']();}['addCamera'](_0x29e799){this['cameras']['push'](_0x29e799),No(this['cameras']);}['removeCame'+'ra'](_0x314a55){const _0x446484=this['cameras']['indexOf'](_0x314a55);_0x446484>=-0x3*-0x9a5+0x1183+-0x2e72&&(this['cameras']['splice'](_0x446484,-0x2398+0x146e+-0xf2b*-0x1),No(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}ue['_buildAcce'+'ssors'](bx['prototype'],wx);class Tx{constructor(){c(this,'enabled',!(-0xe38+0x2*0xcaa+0x2*-0x58e)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(0x11a7*-0x1+-0x20a5+0xa3*0x4f,-0x15*-0x61+-0xc95+0x3*0x18b,0x3b0*-0x7+0xc9c+0x1e3*0x7)),c(this,'intensity',-0x1c0f*0x1+-0x12c9+-0xb3*-0x43),c(this,'luminance',0x7e5*0x1+-0x21f1+0x1a0c),c(this,'shape',yt),c(this,'affectSpec'+'ularity',!(-0x3*0xaf9+-0x5b*0x37+0x1a3c*0x2)),c(this,'castShadow'+'s',!(0x1*0x1bc5+-0x2*-0x9aa+-0x2f18)),c(this,'shadowDist'+'ance',-0x1019*-0x1+-0x479+-0x2*0x5bc),c(this,'shadowInte'+'nsity',0x1*-0x1247+-0xb*0x58+0x161*0x10),c(this,'shadowReso'+'lution',-0x3*-0x403+0x10fe+-0x2b*0x95),c(this,'shadowBias',-0x215+-0x1802*0x1+0x1a17*0x1+0.05),c(this,'numCascade'+'s',0x657+0x217d+-0x27d3),c(this,'cascadeBle'+'nd',-0x1e7a+0xf43+-0xcd*-0x13),c(this,'bakeNumSam'+'ples',0x1ea3+0x186f*-0x1+-0x3*0x211),c(this,'bakeArea',0x508*-0x5+-0xad3*0x2+0x7cd*0x6),c(this,'cascadeDis'+'tribution',0xa*-0x367+-0x15dc+0x17*0x26e+0.5),c(this,'normalOffs'+'etBias',-0xe9f*0x1+0x21ba+0x43*-0x49),c(this,'range',-0x221e+0xe2*-0x11+0x312a),c(this,'innerConeA'+'ngle',0x1aa1+-0x3*-0xe6+-0x1d2b*0x1),c(this,'outerConeA'+'ngle',-0xa8e+0x199b+-0xee0),c(this,'falloffMod'+'e',wp),c(this,'shadowType',Dt),c(this,'vsmBlurSiz'+'e',0x6b*0x3a+0x19f5+-0x1e*0x1ac),c(this,'vsmBlurMod'+'e',Tp),c(this,'vsmBias',(0x89*-0x13+0x1f3*0x11+-0x16f8+0.01)*(-0x108d+0x2058+0x1*-0xfcb+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',0xdf6+0x717+-0x2*0xa86),c(this,'cookieFall'+'off',!(-0x4*-0x81+-0xce3*-0x2+-0x1bca)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',0x1d*-0x29+-0x122*0x7+0xc93),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Pp),c(this,'mask',0x99a+0x19f*-0xe+0xd19*0x1),c(this,'affectDyna'+'mic',!(0xc9e+-0x535+0x769*-0x1)),c(this,'affectLigh'+'tmapped',!(0x5fb*0x6+0x117e+0x41b*-0xd)),c(this,'bake',!(-0xa8b+-0x1*-0x1ba3+-0x1117)),c(this,'bakeDir',!(0x3bf*-0x2+0x2216+0x5c*-0x4a)),c(this,'isStatic',!(0x1*0x1c69+0x1ff9+-0x215*0x1d)),c(this,'layers',[Fi]),c(this,'penumbraSi'+'ze',0x1824+-0x8c6*-0x3+-0x3275*0x1),c(this,'penumbraFa'+'lloff',-0xbc3*-0x2+-0x1b80+-0x3fb*-0x1),c(this,'shadowSamp'+'les',0x1daf*0x1+-0x1ddb+-0x3c*-0x1),c(this,'shadowBloc'+'kerSamples',-0xf65+-0x12d0+-0x1f*-0x11b);}}const To=Object['keys'](new Tx());class YI extends ue{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(0x1397+0x901*-0x1+-0x183*0x7)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0xc19bc0=this['system']['store'][this['entity']['getGuid']()];return _0xc19bc0?_0xc19bc0['data']:null;}set['enabled'](_0x19a73e){this['_setValue']('enabled',_0x19a73e,function(_0x1629cf,_0x4a5bb8){this['onSetEnabl'+'ed'](null,_0x4a5bb8,_0x1629cf);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x295fb2){this['_setValue']('light',_0x295fb2);}get['light'](){return this['data']['light'];}set['type'](_0x193ea0){this['_setValue']('type',_0x193ea0,function(_0x16ea79,_0x34dc12){this['system']['changeType'](this,_0x34dc12,_0x16ea79),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x4d65b0){this['_setValue']('color',_0x4d65b0,function(_0x40cc5e,_0x1afb77){this['light']['setColor'](_0x40cc5e);},!(0x84a+0x20f*-0x3+0x1*-0x21d));}get['color'](){return this['data']['color'];}set['intensity'](_0x3602ed){this['_setValue']('intensity',_0x3602ed,function(_0x56c6b9,_0x1d04cb){this['light']['intensity']=_0x56c6b9;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x495866){this['_setValue']('luminance',_0x495866,function(_0x2d221b,_0x10c505){this['light']['luminance']=_0x2d221b;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x2ace24){this['_setValue']('shape',_0x2ace24,function(_0x503f23,_0x23afd8){this['light']['shape']=_0x503f23;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x17d044){this['_setValue']('affectSpec'+'ularity',_0x17d044,function(_0x39620a,_0x5e20b1){this['light']['affectSpec'+'ularity']=_0x39620a;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x5187b7){this['_setValue']('castShadow'+'s',_0x5187b7,function(_0x4b7bf4,_0x28d83e){this['light']['castShadow'+'s']=_0x4b7bf4;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x57b335){this['_setValue']('shadowDist'+'ance',_0x57b335,function(_0x121150,_0xca9d90){this['light']['shadowDist'+'ance']=_0x121150;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x47311f){this['_setValue']('shadowInte'+'nsity',_0x47311f,function(_0x5de951,_0x23ac61){this['light']['shadowInte'+'nsity']=_0x5de951;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0xd1c361){this['_setValue']('shadowReso'+'lution',_0xd1c361,function(_0x1c8fe0,_0x47a650){this['light']['shadowReso'+'lution']=_0x1c8fe0;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x5b6849){this['_setValue']('shadowBias',_0x5b6849,function(_0x565d05,_0x23d09a){this['light']['shadowBias']=-(-0x65*-0x7+0xcd7*0x3+-0x2*0x14a4+0.01)*N['clamp'](_0x565d05,-0x26e2+0x2*-0xc51+-0x152c*-0x3,-0x1*-0x693+0x11*0x189+-0x20ab*0x1);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x49923c){this['_setValue']('numCascade'+'s',_0x49923c,function(_0x4762d9,_0x34ef3e){this['light']['numCascade'+'s']=N['clamp'](Math['floor'](_0x4762d9),0x7c*-0x23+0x217c+0x1*-0x1087,0x1fb0+0x23d4+-0x4380);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x122170){this['_setValue']('cascadeBle'+'nd',_0x122170,function(_0x54cb3f,_0x12aa23){this['light']['cascadeBle'+'nd']=N['clamp'](_0x54cb3f,-0x1f8a+-0x3*-0x925+-0x1*-0x41b,0x3c4*0x1+0x2132+-0x1*0x24f5);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x4c616e){this['_setValue']('bakeNumSam'+'ples',_0x4c616e,function(_0x25470b,_0x2a62bd){this['light']['bakeNumSam'+'ples']=N['clamp'](Math['floor'](_0x25470b),-0xa12+-0x178*0x2+-0x1*-0xd03,-0x1b*0x81+-0x2192+0x4*0xc0b);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x3887df){this['_setValue']('bakeArea',_0x3887df,function(_0x15f170,_0x141578){this['light']['bakeArea']=N['clamp'](_0x15f170,-0x2267+0x83*-0x1f+0x3244,0x226c+0x4*0x5a+-0x464*0x8);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x17dfa7){this['_setValue']('cascadeDis'+'tribution',_0x17dfa7,function(_0xc95f22,_0x4f117c){this['light']['cascadeDis'+'tribution']=N['clamp'](_0xc95f22,0x1f7*-0x3+0x301*0xd+-0x2128,-0x63f*0x5+-0x134b+0x3287);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x1fc0b1){this['_setValue']('normalOffs'+'etBias',_0x1fc0b1,function(_0x4ef32a,_0x179a4a){this['light']['normalOffs'+'etBias']=N['clamp'](_0x4ef32a,0x89*-0x2+-0x1fe2+-0x20f4*-0x1,0x15a+0x224e+-0x23a7*0x1);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x1e7c90){this['_setValue']('range',_0x1e7c90,function(_0x22a210,_0x528e22){this['light']['attenuatio'+'nEnd']=_0x22a210;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x14fd9a){this['_setValue']('innerConeA'+'ngle',_0x14fd9a,function(_0x545c8c,_0xcb1c94){this['light']['innerConeA'+'ngle']=_0x545c8c;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x592745){this['_setValue']('outerConeA'+'ngle',_0x592745,function(_0x7ee5b0,_0x368548){this['light']['outerConeA'+'ngle']=_0x7ee5b0;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x2513af){this['_setValue']('falloffMod'+'e',_0x2513af,function(_0x23a52c,_0x1bf12e){this['light']['falloffMod'+'e']=_0x23a52c;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x744550){this['_setValue']('shadowType',_0x744550,function(_0x44bb19,_0x470ca3){this['light']['shadowType']=_0x44bb19;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x3c6664){this['_setValue']('vsmBlurSiz'+'e',_0x3c6664,function(_0x19eaf6,_0x12b596){this['light']['vsmBlurSiz'+'e']=_0x19eaf6;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x2d4b0f){this['_setValue']('vsmBlurMod'+'e',_0x2d4b0f,function(_0xe36520,_0x286d65){this['light']['vsmBlurMod'+'e']=_0xe36520;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x5e9459){this['_setValue']('vsmBias',_0x5e9459,function(_0x595196,_0xee0c77){this['light']['vsmBias']=N['clamp'](_0x595196,-0xa5*-0x23+0x84e*0x2+-0x272b,-0x178f*-0x1+0x1*0x2b4+-0x1a42);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x13bdbc){this['_setValue']('cookieAsse'+'t',_0x13bdbc,function(_0x50086f,_0x3462f2){if(!(this['_cookieAss'+'etId']&&(_0x50086f instanceof le&&_0x50086f['id']===this['_cookieAss'+'etId']||_0x50086f===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x50086f instanceof le)this['data']['cookieAsse'+'t']=_0x50086f['id'],this['_cookieAss'+'etId']=_0x50086f['id'],this['onCookieAs'+'setAdd'](_0x50086f);else{if(typeof _0x50086f=='number'){this['_cookieAss'+'etId']=_0x50086f;const _0x320f1a=this['system']['app']['assets']['get'](_0x50086f);_0x320f1a?this['onCookieAs'+'setAdd'](_0x320f1a):(this['_cookieAss'+'etAdd']=!(0x11a1*-0x2+0xc8*-0x1+0x7*0x526),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x259784){this['_setValue']('cookie',_0x259784,function(_0x4d3078,_0x55522a){this['light']['cookie']=_0x4d3078;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x64adea){this['_setValue']('cookieInte'+'nsity',_0x64adea,function(_0x3f0af3,_0x4b89e6){this['light']['cookieInte'+'nsity']=N['clamp'](_0x3f0af3,0x3af*0x8+-0x40*-0x5b+-0x18*0x22d,0x10f*-0x22+-0x1*-0x24cd+-0xce);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0xbeca5a){this['_setValue']('cookieFall'+'off',_0xbeca5a,function(_0x3a05ff,_0x26e8be){this['light']['cookieFall'+'off']=_0x3a05ff;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x212937){this['_setValue']('cookieChan'+'nel',_0x212937,function(_0x542a52,_0x3ff74b){this['light']['cookieChan'+'nel']=_0x542a52;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x1c0eef){this['_setValue']('cookieAngl'+'e',_0x1c0eef,function(_0x1ef715,_0x5ed794){if(_0x1ef715!==0xc88+0x4*-0x959+0x637*0x4||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());let _0x3d1b36=-0xee1*0x1+0x17*-0xc2+-0xb*-0x2f0,_0x346c95=0x611+0x301*-0x2+-0xe;this['cookieScal'+'e']&&(_0x3d1b36=this['cookieScal'+'e']['x'],_0x346c95=this['cookieScal'+'e']['y']);const _0x3e205d=Math['cos'](_0x1ef715*N['DEG_TO_RAD']),_0x1ed08f=Math['sin'](_0x1ef715*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x3e205d/_0x3d1b36,-_0x1ed08f/_0x3d1b36,_0x1ed08f/_0x346c95,_0x3e205d/_0x346c95),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x3865ea){this['_setValue']('cookieScal'+'e',_0x3865ea,function(_0x30ea5f,_0x22e4ae){if(_0x30ea5f!==null||this['cookieAngl'+'e']!==-0x2*-0x12cd+-0x1bb7+-0x9e3){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());const _0x32da29=_0x30ea5f['x'],_0x44a58e=_0x30ea5f['y'],_0x469747=Math['cos'](this['cookieAngl'+'e']*N['DEG_TO_RAD']),_0x443cdc=Math['sin'](this['cookieAngl'+'e']*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x469747/_0x32da29,-_0x443cdc/_0x32da29,_0x443cdc/_0x44a58e,_0x469747/_0x44a58e),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(-0x1fa3+0x1165+0x2*0x71f));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x4ec59c){this['_setValue']('cookieOffs'+'et',_0x4ec59c,function(_0x13e0ab,_0x3acca5){this['light']['cookieOffs'+'et']=_0x13e0ab;},!(0x5*0x1b5+-0xacd*0x1+-0x1d*-0x14));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x28c7c5){this['_setValue']('shadowUpda'+'teMode',_0x28c7c5,function(_0x4658a7,_0x436373){this['light']['shadowUpda'+'teMode']=_0x4658a7;},!(0x184*-0x17+-0x11cb*-0x2+-0x2*0x5d));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x35cc88){this['_setValue']('mask',_0x35cc88,function(_0x5b6a3c,_0x1aa703){this['light']['mask']=_0x5b6a3c;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x566c1b){this['_setValue']('affectDyna'+'mic',_0x566c1b,function(_0x446a3b,_0x33d459){_0x446a3b?this['light']['mask']|=hs:this['light']['mask']&=-(-0x214a+-0x22c1+-0x3*-0x16af),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x10e4a5){this['_setValue']('affectLigh'+'tmapped',_0x10e4a5,function(_0x4c6b64,_0x147bc7){_0x4c6b64?(this['light']['mask']|=cr,this['bake']&&(this['light']['mask']&=-(0x79f+-0x2*0x6ab+0x4*0x16f))):(this['light']['mask']&=-(0x2*-0xda7+0x1139*0x1+0xa18),this['bake']&&(this['light']['mask']|=rr));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x13626f){this['_setValue']('bake',_0x13626f,function(_0x36515d,_0x30a3d2){_0x36515d?(this['light']['mask']|=rr,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(-0x1*-0x17f3+0xd1*-0x25+0x645))):(this['light']['mask']&=-(-0x1*0x6d6+0x2651*0x1+-0x1f76*0x1),this['affectLigh'+'tmapped']&&(this['light']['mask']|=cr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x59df8f){this['_setValue']('bakeDir',_0x59df8f,function(_0x4b1908,_0x486216){this['light']['bakeDir']=_0x4b1908;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x553f7e){this['_setValue']('isStatic',_0x553f7e,function(_0x3f504e,_0x135e0c){this['light']['isStatic']=_0x3f504e;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x30a1eb){this['_setValue']('layers',_0x30a1eb,function(_0x188a4b,_0x941dd1){for(let _0x1c9900=-0x42d*0x1+0x19d6+0x5*-0x455;_0x1c9900<_0x941dd1['length'];_0x1c9900++){const _0x3d363c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x941dd1[_0x1c9900]);_0x3d363c&&(_0x3d363c['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x3d363c));}for(let _0x1e0c50=-0xf5b+-0x163*-0x1+-0x8*-0x1bf;_0x1e0c50<_0x188a4b['length'];_0x1e0c50++){const _0x53a176=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x188a4b[_0x1e0c50]);_0x53a176&&this['enabled']&&this['entity']['enabled']&&(_0x53a176['addLight'](this),this['light']['addLayer'](_0x53a176));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x2ce5af){this['light']['shadowUpda'+'teOverride'+'s']=_0x2ce5af;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x22d5a2){this['light']['shadowSamp'+'les']=_0x22d5a2;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x11f66f){this['light']['shadowBloc'+'kerSamples']=_0x11f66f;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x394af2){this['light']['penumbraSi'+'ze']=_0x394af2;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x353aa0){this['light']['penumbraFa'+'lloff']=_0x353aa0;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x3911b8,_0x2429e8,_0x34663c,_0x25e5db){const _0x5483af=this['data'],_0x57ceda=_0x5483af[_0x3911b8];!_0x25e5db&&_0x57ceda===_0x2429e8||(_0x5483af[_0x3911b8]=_0x2429e8,_0x34663c&&_0x34663c['call'](this,_0x2429e8,_0x57ceda));}['addLightTo'+'Layers'](){for(let _0x433309=-0x121*0x14+-0x1cfb+0x338f;_0x433309<this['layers']['length'];_0x433309++){const _0x196c76=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x433309]);_0x196c76&&(_0x196c76['addLight'](this),this['light']['addLayer'](_0x196c76));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x441942=-0x1*-0x228f+-0x9fa*-0x3+-0x407d;_0x441942<this['layers']['length'];_0x441942++){const _0x287883=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x441942]);_0x287883&&(_0x287883['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x287883));}}['onLayersCh'+'anged'](_0x175e82,_0x3ee134){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x175e82['off']('add',this['onLayerAdd'+'ed'],this),_0x175e82['off']('remove',this['onLayerRem'+'oved'],this),_0x3ee134['on']('add',this['onLayerAdd'+'ed'],this),_0x3ee134['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5fb105){this['layers']['indexOf'](_0x5fb105['id'])>=0x5*-0x5e7+0x1707*-0x1+0x348a&&this['enabled']&&this['entity']['enabled']&&(_0x5fb105['addLight'](this),this['light']['addLayer'](_0x5fb105));}['onLayerRem'+'oved'](_0x12cc5b){this['layers']['indexOf'](_0x12cc5b['id'])>=-0x9*-0xf6+-0x2*-0x115f+-0x2b64*0x1&&(_0x12cc5b['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x12cc5b));}['refreshPro'+'perties'](){for(let _0x26fad1=-0x555+0xc*0x239+0x1557*-0x1;_0x26fad1<To['length'];_0x26fad1++){const _0x337853=To[_0x26fad1];this[_0x337853]=this[_0x337853];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x81396b=!(-0x1*-0x67f+0x29e*-0x5+0x1a6*0x4);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(0x11be+-0x44*0x49+-0x1*-0x1a6),_0x81396b=!(0x3b*0x79+0x26c2+0x16b*-0x2f)),(!this['_cookieAss'+'et']['resource']||_0x81396b)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x2e3fb3){this['_cookieAss'+'etId']===_0x2e3fb3['id']&&(this['_cookieAss'+'et']=_0x2e3fb3,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0xd*-0x31+0x136f+-0x15eb)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x41cfc9=this['system']['app']['scene'],_0xcaf606=_0x41cfc9['layers'];this['light']['enabled']=!(0xc*-0x2ec+0xe25+0x14eb),this['_evtLayers'+'Changed']=_0x41cfc9['on']('set:layers',this['onLayersCh'+'anged'],this),_0xcaf606&&(this['_evtLayerA'+'dded']=_0xcaf606['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xcaf606['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x19fe46,_0x354086,_0x28a7e9;const _0x47be5b=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0x24c2+0x53a+-0x29fb),(_0x19fe46=this['_evtLayers'+'Changed'])==null||_0x19fe46['off'](),this['_evtLayers'+'Changed']=null,_0x47be5b&&((_0x354086=this['_evtLayerA'+'dded'])==null||_0x354086['off'](),this['_evtLayerA'+'dded']=null,(_0x28a7e9=this['_evtLayerR'+'emoved'])==null||_0x28a7e9['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class KI extends Xe{constructor(_0x4e77ba){super(_0x4e77ba),this['id']='light',this['ComponentT'+'ype']=YI,this['DataType']=Tx,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x53bd37,_0xfbc16f){const _0x2ddc76={..._0xfbc16f};_0x2ddc76['type']||(_0x2ddc76['type']=_0x53bd37['data']['type']),_0x53bd37['data']['type']=_0x2ddc76['type'],_0x2ddc76['layers']&&Array['isArray'](_0x2ddc76['layers'])&&(_0x2ddc76['layers']=_0x2ddc76['layers']['slice'](-0x1df1+-0x2*0x447+0x87*0x49)),_0x2ddc76['color']&&Array['isArray'](_0x2ddc76['color'])&&(_0x2ddc76['color']=new Y(_0x2ddc76['color'][0x18d9*0x1+-0x24e2+0xc09],_0x2ddc76['color'][0x2*0x284+0xdc2+-0x12c9],_0x2ddc76['color'][-0x3d3+-0x84c+0xc21])),_0x2ddc76['cookieOffs'+'et']&&_0x2ddc76['cookieOffs'+'et']instanceof Array&&(_0x2ddc76['cookieOffs'+'et']=new $(_0x2ddc76['cookieOffs'+'et'][-0x2*0x28f+0xb8*0x18+-0xc22],_0x2ddc76['cookieOffs'+'et'][0x3*0x9e4+-0x206d+0x2c2])),_0x2ddc76['cookieScal'+'e']&&_0x2ddc76['cookieScal'+'e']instanceof Array&&(_0x2ddc76['cookieScal'+'e']=new $(_0x2ddc76['cookieScal'+'e'][-0x4ad+-0x1*0x1fb7+0x22*0x112],_0x2ddc76['cookieScal'+'e'][-0x81f+0x625+0x1fb])),_0x2ddc76['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x2ddc76['enabled']=_0x2ddc76['enable']),_0x2ddc76['shape']||(_0x2ddc76['shape']=yt);const _0x5a90ce=new zo(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x5a90ce['type']=Gu[_0x2ddc76['type']],_0x5a90ce['_node']=_0x53bd37['entity'],_0x53bd37['data']['light']=_0x5a90ce,super['initialize'+'ComponentD'+'ata'](_0x53bd37,_0x2ddc76,To);}['_onRemoveC'+'omponent'](_0x2e6e2f,_0x5cb9fb){_0x5cb9fb['onRemove']();}['cloneCompo'+'nent'](_0x2d9830,_0x4bfa8a){const _0x207704=_0x2d9830['light'],_0x53a18f=[];let _0x5d1656;for(let _0x544949=0x8b7+0x947+0x11fe*-0x1;_0x544949<To['length'];_0x544949++)_0x5d1656=To[_0x544949],_0x5d1656!=='light'&&(_0x207704[_0x5d1656]&&_0x207704[_0x5d1656]['clone']?_0x53a18f[_0x5d1656]=_0x207704[_0x5d1656]['clone']():_0x53a18f[_0x5d1656]=_0x207704[_0x5d1656]);return this['addCompone'+'nt'](_0x4bfa8a,_0x53a18f);}['changeType'](_0x4d1d42,_0x315948,_0x431cab){_0x315948!==_0x431cab&&(_0x4d1d42['light']['type']=Gu[_0x431cab]);}}const ZI=['x','y','z','w'],QI=[void(0x228c+0x4e4+-0x2770),void(0xdbd*-0x1+0x1b*0x35+0x826),$,T,Q];function La(_0x1217d1,_0x3a12c6,_0x1fa1be,_0x39a3e4){switch(_0x3a12c6['type']){case'boolean':return!!_0x1fa1be;case'number':if(typeof _0x1fa1be=='number')return _0x1fa1be;if(typeof _0x1fa1be=='string'){const _0x358f05=parseInt(_0x1fa1be,-0x7b0*0x4+0x2d1+0x1f*0xe7);return isNaN(_0x358f05)?null:_0x358f05;}else{if(typeof _0x1fa1be=='boolean')return-0x17d+0x5*-0x531+-0x6*-0x493+_0x1fa1be;}return null;case'json':{const _0x325090={};if(Array['isArray'](_0x3a12c6['schema'])){(!_0x1fa1be||typeof _0x1fa1be!='object')&&(_0x1fa1be={});for(let _0x507b3c=-0x209+0x222a+-0x2021;_0x507b3c<_0x3a12c6['schema']['length'];_0x507b3c++){const _0x38ee2a=_0x3a12c6['schema'][_0x507b3c];if(_0x38ee2a['name']){if(_0x38ee2a['array']){_0x325090[_0x38ee2a['name']]=[];const _0x2513e8=Array['isArray'](_0x1fa1be[_0x38ee2a['name']])?_0x1fa1be[_0x38ee2a['name']]:[];for(let _0x42a512=-0x40c+0x63d*0x5+-0x1*0x1b25;_0x42a512<_0x2513e8['length'];_0x42a512++)_0x325090[_0x38ee2a['name']]['push'](La(_0x1217d1,_0x38ee2a,_0x2513e8[_0x42a512]));}else{const _0x1a2898=_0x1fa1be['hasOwnProp'+'erty'](_0x38ee2a['name'])?_0x1fa1be[_0x38ee2a['name']]:_0x38ee2a['default'];_0x325090[_0x38ee2a['name']]=La(_0x1217d1,_0x38ee2a,_0x1a2898);}}}}return _0x325090;}case'asset':return _0x1fa1be instanceof le?_0x1fa1be:typeof _0x1fa1be=='number'?_0x1217d1['assets']['get'](_0x1fa1be)||null:typeof _0x1fa1be=='string'&&_0x1217d1['assets']['get'](parseInt(_0x1fa1be,0xe*-0x70+-0x2331+-0xdc9*-0x3))||null;case'entity':return _0x1fa1be instanceof De?_0x1fa1be:typeof _0x1fa1be=='string'?_0x1217d1['getEntityF'+'romIndex'](_0x1fa1be):null;case'rgb':case'rgba':if(_0x1fa1be instanceof Y)return _0x39a3e4 instanceof Y?(_0x39a3e4['copy'](_0x1fa1be),_0x39a3e4):_0x1fa1be['clone']();if(_0x1fa1be instanceof Array&&_0x1fa1be['length']>=-0x1b1e*-0x1+-0x298*0x4+0x1*-0x10bb&&_0x1fa1be['length']<=-0x1adc+-0x1*-0xa2b+0x2f*0x5b){for(let _0x26b601=-0x166b+-0xea2+0x1*0x250d;_0x26b601<_0x1fa1be['length'];_0x26b601++)if(typeof _0x1fa1be[_0x26b601]!='number')return null;return _0x39a3e4||(_0x39a3e4=new Y()),_0x39a3e4['r']=_0x1fa1be[-0x1470+-0x1*-0xe71+0x5ff],_0x39a3e4['g']=_0x1fa1be[0x17*-0x140+-0x2547+-0x2104*-0x2],_0x39a3e4['b']=_0x1fa1be[0x5*-0x10a+-0x1913+-0x1*-0x1e47],_0x39a3e4['a']=_0x1fa1be['length']===0xe*-0x287+-0x2279+0x45de?0xd*0xd7+0x33*0x2b+-0x1*0x137b:_0x1fa1be[0x2092+0x24a9+-0x114e*0x4],_0x39a3e4;}else{if(typeof _0x1fa1be=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x1fa1be))return _0x39a3e4||(_0x39a3e4=new Y()),_0x39a3e4['fromString'](_0x1fa1be),_0x39a3e4;}return null;case'vec2':case'vec3':case'vec4':{const _0x2cdd5d=parseInt(_0x3a12c6['type']['slice'](-0x3*-0x429+-0x12be*0x1+0x646),0x2600+0x151c+-0x2*0x1d89),_0x44b252=QI[_0x2cdd5d];if(_0x1fa1be instanceof _0x44b252)return _0x39a3e4 instanceof _0x44b252?(_0x39a3e4['copy'](_0x1fa1be),_0x39a3e4):_0x1fa1be['clone']();if(_0x1fa1be instanceof Array&&_0x1fa1be['length']===_0x2cdd5d){for(let _0x53d60b=0x378+-0x2*0x1276+0x2174*0x1;_0x53d60b<_0x1fa1be['length'];_0x53d60b++)if(typeof _0x1fa1be[_0x53d60b]!='number')return null;_0x39a3e4||(_0x39a3e4=new _0x44b252());for(let _0x4ca906=-0x1d*0x83+0x702*0x5+-0x1433;_0x4ca906<_0x2cdd5d;_0x4ca906++)_0x39a3e4[ZI[_0x4ca906]]=_0x1fa1be[_0x4ca906];return _0x39a3e4;}return null;}case'curve':if(_0x1fa1be){let _0x1e3769;if(_0x1fa1be instanceof Cs||_0x1fa1be instanceof jr)_0x1e3769=_0x1fa1be['clone']();else{const _0x18550d=_0x1fa1be['keys'][0x31*-0x69+-0xd64+0x217d]instanceof Array?jr:Cs;_0x1e3769=new _0x18550d(_0x1fa1be['keys']),_0x1e3769['type']=_0x1fa1be['type'];}return _0x1e3769;}break;}return _0x1fa1be;}function Ax(_0x488dba,_0x4260e2,_0x4b802b,_0x13d521){return _0x4260e2['array']?_0x4b802b['map']((_0xc07b3,_0x28067a)=>La(_0x488dba,_0x4260e2,_0xc07b3,_0x13d521?_0x13d521[_0x28067a]:null)):La(_0x488dba,_0x4260e2,_0x4b802b,_0x13d521);}function Ex(_0x3affb8,_0x396989,_0x5eb96e,_0x34eb79){if(_0x5eb96e)for(const _0x4057ab in _0x396989){const _0x1bad17=_0x396989[_0x4057ab],_0x380e72=_0x5eb96e[_0x4057ab];_0x380e72!==void(0x4*-0x323+0x1f0+0x2a7*0x4)&&(_0x34eb79[_0x4057ab]=Ax(_0x3affb8,_0x1bad17,_0x380e72,_0x34eb79[_0x4057ab]));}}const oa=class oa{constructor(_0x33edf8){this['scriptType']=_0x33edf8,this['index']={};}['add'](_0x2563fb,_0x3a425b){if(this['index'][_0x2563fb]){v['warn']('attribute\x20'+'\x27'+_0x2563fb+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(oa['reservedNa'+'mes']['has'](_0x2563fb)){v['warn']('attribute\x20'+'\x27'+_0x2563fb+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x2563fb]=_0x3a425b,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x2563fb,{'get':function(){return this['__attribut'+'es'][_0x2563fb];},'set':function(_0x1b7707){const _0x5ccfcd='attr',_0x2f9087='attr:'+_0x2563fb,_0x35a3d3=this['__attribut'+'es'][_0x2563fb];let _0x234347=_0x35a3d3;if(_0x35a3d3&&_0x3a425b['type']!=='json'&&_0x3a425b['type']!=='entity'&&_0x35a3d3['clone']&&(this['hasEvent'](_0x5ccfcd)||this['hasEvent'](_0x2f9087))&&(_0x234347=_0x35a3d3['clone']()),_0x3a425b['array']){if(this['__attribut'+'es'][_0x2563fb]=[],_0x1b7707){for(let _0x46d621=0x571+0x305*-0x2+-0x3*-0x33,_0x13951a=_0x1b7707['length'];_0x46d621<_0x13951a;_0x46d621++)this['__attribut'+'es'][_0x2563fb]['push'](La(this['app'],_0x3a425b,_0x1b7707[_0x46d621],_0x35a3d3?_0x35a3d3[_0x46d621]:null));}}else this['__attribut'+'es'][_0x2563fb]=La(this['app'],_0x3a425b,_0x1b7707,_0x35a3d3);this['fire'](_0x5ccfcd,_0x2563fb,this['__attribut'+'es'][_0x2563fb],_0x234347),this['fire'](_0x2f9087,this['__attribut'+'es'][_0x2563fb],_0x234347);}});}['remove'](_0x3bfb26){return this['index'][_0x3bfb26]?(delete this['index'][_0x3bfb26],delete this['scriptType']['prototype'][_0x3bfb26],!(0x1aa4+0x9e5*0x3+-0x3853*0x1)):!(-0x7*0x46f+0xa7b*-0x2+-0x2*-0x1a00);}['has'](_0x5bffbc){return!!this['index'][_0x5bffbc];}['get'](_0x20b9a8){return this['index'][_0x20b9a8]||null;}};c(oa,'assignAttr'+'ibutesToSc'+'ript',Ex),c(oa,'attributeT'+'oValue',Ax),c(oa,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Ho=oa;const _f='initialize',gf='postInitia'+'lize',JI='update',eD='postUpdate',tD='swap';class Ht extends ce{constructor(_0x4afe58){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x4afe58);}set['enabled'](_0x205ac8){this['_enabled']=!!_0x205ac8,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(-0x1*0x143f+0x79c+0x5*0x287),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,_f)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x142d+0xbc1+0x86c),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,gf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x41f2e6){const _0x10548a=this['constructo'+'r'];v['assert'](_0x41f2e6&&_0x41f2e6['app']&&_0x41f2e6['entity'],'script\x20['+_0x10548a['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x41f2e6['app'],this['entity']=_0x41f2e6['entity'],this['_enabled']=typeof _0x41f2e6['enabled']=='boolean'?_0x41f2e6['enabled']:!(0x2*-0xb19+0x1af+-0x1483*-0x1),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(0x1*0x5db+-0x264d+-0x27*-0xd5),this['__scriptTy'+'pe']=_0x10548a,this['__executio'+'nOrder']=-(0xf1f+0x1bf*-0x7+-0x2e5);}static get['scriptName'](){return this['__name'];}}c(Ht,'EVENT_ENAB'+'LE','enable'),c(Ht,'EVENT_DISA'+'BLE','disable'),c(Ht,'EVENT_STAT'+'E','state'),c(Ht,'EVENT_DEST'+'ROY','destroy'),c(Ht,'EVENT_ATTR','attr'),c(Ht,'EVENT_ERRO'+'R','error'),c(Ht,'__name',null),c(Ht,'__getScrip'+'tName',Cx);const sD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Cx(_0x3d0230){if(typeof _0x3d0230!='function')return;if('name'in Function['prototype'])return _0x3d0230['name'];if(_0x3d0230===Function||_0x3d0230===Function['prototype']['constructo'+'r'])return'Function';const _0xfa8001=(''+_0x3d0230)['match'](sD);return _0xfa8001?_0xfa8001[0xf38+0x6d6+-0x1*0x160d]:void(-0x135a+-0x20+0x137a);}class Qh extends Ht{constructor(_0x154390){super(_0x154390),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x154390);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Ho(this)),this['__attribut'+'es'];}['initScript'](_0x2fc392){Ht['prototype']['initScript']['call'](this,_0x2fc392),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x2fc392['attributes']||{};}['initScript'+'Type'](_0x3c3bde){this['initScript'](_0x3c3bde);}['__initiali'+'zeAttribut'+'es'](_0x9ded2){if(!(!_0x9ded2&&!this['__attribut'+'esRaw'])){for(const _0x1385a9 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x1385a9)?this[_0x1385a9]=this['__attribut'+'esRaw'][_0x1385a9]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x1385a9)||(this['__scriptTy'+'pe']['attributes']['index'][_0x1385a9]['hasOwnProp'+'erty']('default')?this[_0x1385a9]=this['__scriptTy'+'pe']['attributes']['index'][_0x1385a9]['default']:this[_0x1385a9]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0xd2ca3a){for(const _0x4506d2 in _0xd2ca3a)_0xd2ca3a['hasOwnProp'+'erty'](_0x4506d2)&&(this['prototype'][_0x4506d2]=_0xd2ca3a[_0x4506d2]);}}const iD=_0x45f54a=>_0x45f54a[0x8a1+-0x1a19+0x1178]['toLowerCas'+'e']()+_0x45f54a['substring'](0xd96+-0x33c+-0xa59);class di extends ue{constructor(_0x299f71,_0x105929){super(_0x299f71,_0x105929),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new wh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new wh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(0x129e+-0x1a09*-0x1+-0x2ca6),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0x2*0x130a+0x23b*0xd+-0x4313),this['_enabled']=!(0x5*0x634+0x2e+-0x1f32),this['_beingEnab'+'led']=!(0x36a*0x5+-0x13a3*-0x1+0x20a*-0x12),this['_isLooping'+'ThroughScr'+'ipts']=!(-0x4*0x9c2+0x2488+0x1*0x281),this['_execution'+'Order']=-(0x1ccf+-0x1*-0xd45+-0x2a13),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x4d1257){this['_scriptsDa'+'ta']=_0x4d1257;for(const _0x3fa0b4 in _0x4d1257){if(!_0x4d1257['hasOwnProp'+'erty'](_0x3fa0b4))continue;const _0x291b17=this['_scriptsIn'+'dex'][_0x3fa0b4];if(_0x291b17){if(typeof _0x4d1257[_0x3fa0b4]['enabled']=='boolean'&&(_0x291b17['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x291b17);}),_0x291b17['enabled']=!!_0x4d1257[_0x3fa0b4]['enabled']),typeof _0x4d1257[_0x3fa0b4]['attributes']=='object'){for(const _0x10e8d4 in _0x4d1257[_0x3fa0b4]['attributes'])if(!Ho['reservedNa'+'mes']['has'](_0x10e8d4)){if(!_0x291b17['__attribut'+'es']['hasOwnProp'+'erty'](_0x10e8d4)){const _0x33c4e9=this['system']['app']['scripts']['get'](_0x3fa0b4);_0x33c4e9&&_0x33c4e9['attributes']['add'](_0x10e8d4,{});}_0x291b17[_0x10e8d4]=_0x4d1257[_0x3fa0b4]['attributes'][_0x10e8d4];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x2eb90f){const _0x2f2f91=this['_enabled'];this['_enabled']=_0x2eb90f,this['fire']('set','enabled',_0x2f2f91,_0x2eb90f);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x9a+-0x2*0xcfb+0x6*0x43a),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0x2e0*-0x2+0x1*0x1dfe+0x11*-0x16d);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x203da8=this['_beginLoop'+'ing']();for(let _0x4792a6=-0x1*0x1bc6+0x1*-0x1733+-0x32f9*-0x1,_0x406d45=this['scripts']['length'];_0x4792a6<_0x406d45;_0x4792a6++){const _0x4a8771=this['scripts'][_0x4792a6];_0x4a8771['_initializ'+'ed']&&!_0x4a8771['_postIniti'+'alized']&&_0x4a8771['enabled']&&(_0x4a8771['_postIniti'+'alized']=!(0xceb+-0x402+-0x1*0x8e9),_0x4a8771['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x4a8771,gf));}this['_endLoopin'+'g'](_0x203da8);}['_beginLoop'+'ing'](){const _0xc9b658=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(0x1e8d+0xacf*-0x1+-0x13be),_0xc9b658;}['_endLoopin'+'g'](_0x2541e8){this['_isLooping'+'ThroughScr'+'ipts']=_0x2541e8,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x3d046e,_0x5c408f,_0x61c30d){this['_beingEnab'+'led']=!(0x43a+-0x3e5+-0x55),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0x1448+-0x195b*0x1+-0x7f*-0x5c);}['_checkStat'+'e'](){const _0x512e88=this['enabled']&&this['entity']['enabled'];if(_0x512e88===this['_oldState'])return;this['_oldState']=_0x512e88,this['fire'](_0x512e88?'enable':'disable'),this['fire']('state',_0x512e88),_0x512e88?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x422e1b=this['_beginLoop'+'ing']();for(let _0x4784cb=-0x8*0x21a+-0x1*0x257f+-0x1*-0x364f,_0x354118=this['scripts']['length'];_0x4784cb<_0x354118;_0x4784cb++){const _0x191fa6=this['scripts'][_0x4784cb];_0x191fa6['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x191fa6);}),_0x191fa6['enabled']=_0x191fa6['_enabled'];}this['_endLoopin'+'g'](_0x422e1b);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x1790c5=this['_beginLoop'+'ing']();for(let _0x2f8580=0xd55+-0x1a3c+0xce7;_0x2f8580<this['scripts']['length'];_0x2f8580++){const _0xc8cade=this['scripts'][_0x2f8580];_0xc8cade&&this['destroy'](_0xc8cade['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x1790c5);}['_removeDes'+'troyedScri'+'pts'](){const _0x4ab8fa=this['_destroyed'+'Scripts']['length'];if(_0x4ab8fa){for(let _0x519795=0xf7e+-0xf0e+0x1c*-0x4;_0x519795<_0x4ab8fa;_0x519795++){const _0x96fb38=this['_destroyed'+'Scripts'][_0x519795];this['_removeScr'+'iptInstanc'+'e'](_0x96fb38);}this['_destroyed'+'Scripts']['length']=-0x1162*0x1+0x2469+0x1307*-0x1,this['_resetExec'+'utionOrder'](-0x1*0x144e+-0x23a6+0x37f4*0x1,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x2590e8=0x2325+0x554+-0x2879,_0x169471=this['scripts']['length'];_0x2590e8<_0x169471;_0x2590e8++){const _0x806091=this['scripts'][_0x2590e8];this['initialize'+'Attributes'](_0x806091);}}['initialize'+'Attributes'](_0x3ab44f){var _0x5f4465;if(_0x3ab44f instanceof Qh)_0x3ab44f['__initiali'+'zeAttribut'+'es']();else{const _0x33a1df=_0x3ab44f['__scriptTy'+'pe']['__name'],_0xdf59f5=this['_attribute'+'DataMap']['get'](_0x33a1df);if(!_0xdf59f5)return;const _0x4a40d9=(_0x5f4465=this['system']['app']['scripts'])==null?void(-0xc0+-0x1847*0x1+0x1907):_0x5f4465['getSchema'](_0x33a1df);_0x4a40d9||v['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x33a1df+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Ex(this['system']['app'],_0x4a40d9['attributes'],_0xdf59f5,_0x3ab44f);}}['_scriptMet'+'hod'](_0x25c839,_0x4af22c,_0x41b0c7){try{_0x25c839[_0x4af22c](_0x41b0c7);}catch(_0x1df129){_0x25c839['enabled']=!(-0x240b+0x11dc+0x30*0x61),_0x25c839['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x4af22c+'\x22\x20for\x20\x22'+_0x25c839['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x1df129),console['error'](_0x1df129)),_0x25c839['fire']('error',_0x1df129,_0x4af22c),this['fire']('error',_0x25c839,_0x1df129,_0x4af22c);}}['_onInitial'+'ize'](){const _0x511e5c=this['_scripts'],_0x34917c=this['_beginLoop'+'ing']();for(let _0x2e567d=-0x1015+-0x41c+0x1431,_0x408603=_0x511e5c['length'];_0x2e567d<_0x408603;_0x2e567d++){const _0x1e6f63=_0x511e5c[_0x2e567d];!_0x1e6f63['_initializ'+'ed']&&_0x1e6f63['enabled']&&(_0x1e6f63['_initializ'+'ed']=!(0x19e9+-0x9*0x385+-0xa4*-0x9),_0x1e6f63['initialize']&&this['_scriptMet'+'hod'](_0x1e6f63,_f));}this['_endLoopin'+'g'](_0x34917c);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x1684c9){const _0x367563=this['_updateLis'+'t'];if(!_0x367563['length'])return;const _0x5ad11b=this['_beginLoop'+'ing']();for(_0x367563['loopIndex']=-0x108e+-0x7cb+0x1859;_0x367563['loopIndex']<_0x367563['length'];_0x367563['loopIndex']++){const _0x3f7f7b=_0x367563['items'][_0x367563['loopIndex']];_0x3f7f7b['enabled']&&this['_scriptMet'+'hod'](_0x3f7f7b,JI,_0x1684c9);}this['_endLoopin'+'g'](_0x5ad11b);}['_onPostUpd'+'ate'](_0x2e0aba){const _0x26f62c=this['_postUpdat'+'eList'];if(!_0x26f62c['length'])return;const _0x31d1d4=this['_beginLoop'+'ing']();for(_0x26f62c['loopIndex']=0x85e+-0x4*0x935+0x1c76*0x1;_0x26f62c['loopIndex']<_0x26f62c['length'];_0x26f62c['loopIndex']++){const _0x2b9657=_0x26f62c['items'][_0x26f62c['loopIndex']];_0x2b9657['enabled']&&this['_scriptMet'+'hod'](_0x2b9657,eD,_0x2e0aba);}this['_endLoopin'+'g'](_0x31d1d4);}['_insertScr'+'iptInstanc'+'e'](_0x58071d,_0x27c3ac,_0x78e36a){_0x27c3ac===-(0x211f*-0x1+0x1c32*0x1+0x4ee)?(this['_scripts']['push'](_0x58071d),_0x58071d['__executio'+'nOrder']=_0x78e36a,_0x58071d['update']&&this['_updateLis'+'t']['append'](_0x58071d),_0x58071d['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x58071d)):(this['_scripts']['splice'](_0x27c3ac,0x5*0x5a1+-0x231+-0x19f4,_0x58071d),_0x58071d['__executio'+'nOrder']=_0x27c3ac,this['_resetExec'+'utionOrder'](_0x27c3ac+(-0xb*0x269+-0x1cc*0x1+0x1c50),_0x78e36a+(-0x26*0x5+0x1662+-0xbf*0x1d)),_0x58071d['update']&&this['_updateLis'+'t']['insert'](_0x58071d),_0x58071d['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x58071d));}['_removeScr'+'iptInstanc'+'e'](_0x103e1b){const _0x419c8b=this['_scripts']['indexOf'](_0x103e1b);return _0x419c8b===-(-0xbb4+-0x4d+-0x1d*-0x6a)||(this['_scripts']['splice'](_0x419c8b,0x4c7*-0x2+0x3fc+-0x1*-0x593),_0x103e1b['update']&&this['_updateLis'+'t']['remove'](_0x103e1b),_0x103e1b['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x103e1b)),_0x419c8b;}['_resetExec'+'utionOrder'](_0x5338a0,_0x5ef27c){for(let _0x35a169=_0x5338a0;_0x35a169<_0x5ef27c;_0x35a169++)this['_scripts'][_0x35a169]['__executio'+'nOrder']=_0x35a169;}['_resolveEn'+'tityScript'+'Attribute'](_0x5e3846,_0x514f18,_0x963c52,_0x45d219,_0x4490c7,_0x1d0660){if(_0x5e3846['array']){const _0x37495a=_0x963c52['length'];if(!_0x37495a)return;const _0x36c365=_0x963c52['slice']();for(let _0x3c9ec4=0x195d+0x1051*-0x1+0x2*-0x486;_0x3c9ec4<_0x37495a;_0x3c9ec4++){const _0x44efa2=_0x36c365[_0x3c9ec4]instanceof $e?_0x36c365[_0x3c9ec4]['getGuid']():_0x36c365[_0x3c9ec4];_0x1d0660[_0x44efa2]&&(_0x36c365[_0x3c9ec4]=_0x45d219?_0x1d0660[_0x44efa2]['getGuid']():_0x1d0660[_0x44efa2]);}_0x4490c7[_0x514f18]=_0x36c365;}else{if(_0x963c52 instanceof $e)_0x963c52=_0x963c52['getGuid']();else{if(typeof _0x963c52!='string')return;}_0x1d0660[_0x963c52]&&(_0x4490c7[_0x514f18]=_0x1d0660[_0x963c52]);}}['has'](_0x701fab){if(typeof _0x701fab=='string')return!!this['_scriptsIn'+'dex'][_0x701fab];if(!_0x701fab)return!(-0x4*0x63d+0x10e8*-0x1+-0x5fb*-0x7);const _0x1376fc=_0x701fab,_0x3644b0=_0x1376fc['__name'],_0x4ca3f4=this['_scriptsIn'+'dex'][_0x3644b0];return(_0x4ca3f4&&_0x4ca3f4['instance'])instanceof _0x1376fc;}['get'](_0x2ee0e4){if(typeof _0x2ee0e4=='string'){const _0x276bd1=this['_scriptsIn'+'dex'][_0x2ee0e4];return _0x276bd1?_0x276bd1['instance']:null;}if(!_0x2ee0e4)return null;const _0x578d6e=_0x2ee0e4,_0x458620=_0x578d6e['__name'],_0x595869=this['_scriptsIn'+'dex'][_0x458620],_0x307262=_0x595869&&_0x595869['instance'];return _0x307262 instanceof _0x578d6e?_0x307262:null;}['create'](_0x5be1ff,_0x47ebd3={}){const _0x50d91f=this;let _0x5b6e33=_0x5be1ff,_0x442e1a=_0x5be1ff;if(typeof _0x5b6e33=='string'?_0x5b6e33=this['system']['app']['scripts']['get'](_0x5b6e33):_0x5b6e33&&(_0x442e1a=_0x5b6e33['__name']??(_0x5b6e33['__name']=iD(Cx(_0x5b6e33)))),_0x5b6e33){if(!this['_scriptsIn'+'dex'][_0x442e1a]||!this['_scriptsIn'+'dex'][_0x442e1a]['instance']){const _0x282eb7=new _0x5b6e33({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x47ebd3['hasOwnProp'+'erty']('enabled')?_0x47ebd3['enabled']:!(0x32f*0x1+0x1f51+0x30*-0xb8),'attributes':_0x47ebd3['attributes']||{}});_0x47ebd3['properties']&&typeof _0x47ebd3['properties']=='object'&&Object['assign'](_0x282eb7,_0x47ebd3['properties']),_0x282eb7 instanceof Qh||this['_attribute'+'DataMap']['set'](_0x442e1a,_0x47ebd3['attributes']);const _0x16b9a8=this['_scripts']['length'];let _0xee8a6b=-(-0x1*0x25db+0x7c*0x2e+0x2*0x7ca);return typeof _0x47ebd3['ind']=='number'&&_0x47ebd3['ind']!==-(0x44a*0x8+-0x1169+-0x10e6)&&_0x16b9a8>_0x47ebd3['ind']&&(_0xee8a6b=_0x47ebd3['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x282eb7,_0xee8a6b,_0x16b9a8),this['_scriptsIn'+'dex'][_0x442e1a]={'instance':_0x282eb7,'onSwap':function(){_0x50d91f['swap'](_0x442e1a);}},this[_0x442e1a]=_0x282eb7,_0x47ebd3['preloading']||this['initialize'+'Attributes'](_0x282eb7),this['fire']('create',_0x442e1a,_0x282eb7),this['fire']('create:'+_0x442e1a,_0x282eb7),this['system']['app']['scripts']['on']('swap:'+_0x442e1a,this['_scriptsIn'+'dex'][_0x442e1a]['onSwap']),_0x47ebd3['preloading']||(_0x282eb7['enabled']&&!_0x282eb7['_initializ'+'ed']&&(_0x282eb7['_initializ'+'ed']=!(0x3d9+0x133*0x7+-0xc3e*0x1),_0x282eb7['initialize']&&this['_scriptMet'+'hod'](_0x282eb7,_f)),_0x282eb7['enabled']&&!_0x282eb7['_postIniti'+'alized']&&(_0x282eb7['_postIniti'+'alized']=!(0xb*-0x73+0x1583+-0x15*0xca),_0x282eb7['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x282eb7,gf))),_0x282eb7;}v['warn']('script\x20\x27'+_0x442e1a+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x442e1a]={'awaiting':!(-0x4d7+0xfcb+-0x2bd*0x4),'ind':this['_scripts']['length']},v['warn']('script\x20\x27'+_0x442e1a+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x2abe11){let _0x20e4be=_0x2abe11,_0x21d556=_0x2abe11;typeof _0x21d556=='string'?_0x21d556=this['system']['app']['scripts']['get'](_0x21d556):_0x21d556&&(_0x20e4be=_0x21d556['__name']);const _0xdb3c=this['_scriptsIn'+'dex'][_0x20e4be];if(delete this['_scriptsIn'+'dex'][_0x20e4be],!_0xdb3c)return!(0x16*0x1a0+0xe1d+-0x2*0x18ee);this['_attribute'+'DataMap']['delete'](_0x20e4be);const _0x56cc3b=_0xdb3c['instance'];if(_0x56cc3b&&!_0x56cc3b['_destroyed']){if(_0x56cc3b['enabled']=!(-0x24e3+-0x67f+-0x1*-0x2b63),_0x56cc3b['_destroyed']=!(0x10a9+-0x147*0x1c+-0x1*-0x131b),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x56cc3b);else{const _0x1407b5=this['_removeScr'+'iptInstanc'+'e'](_0x56cc3b);_0x1407b5>=0x965+-0x2d3*0x6+0x78d&&this['_resetExec'+'utionOrder'](_0x1407b5,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x20e4be,_0xdb3c['onSwap']),delete this[_0x20e4be],this['fire']('destroy',_0x20e4be,_0x56cc3b||null),this['fire']('destroy:'+_0x20e4be,_0x56cc3b||null),_0x56cc3b&&_0x56cc3b['fire']('destroy'),!(-0x61*0x56+-0x3*-0xd7+0xb3*0x2b);}['swap'](_0x8dcd1){let _0x33ea05=_0x8dcd1,_0x440533=_0x8dcd1;typeof _0x440533=='string'?_0x440533=this['system']['app']['scripts']['get'](_0x440533):_0x440533&&(_0x33ea05=_0x440533['__name']);const _0x229e79=this['_scriptsIn'+'dex'][_0x33ea05];if(!_0x229e79||!_0x229e79['instance'])return!(0x1f08+0x1c12+-0x691*0x9);const _0x3f5931=_0x229e79['instance'],_0x56007d=this['_scripts']['indexOf'](_0x3f5931),_0x4cf619=new _0x440533({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x3f5931['enabled'],'attributes':_0x3f5931['__attribut'+'es']});return _0x4cf619['swap']?(this['initialize'+'Attributes'](_0x4cf619),this['_scripts'][_0x56007d]=_0x4cf619,this['_scriptsIn'+'dex'][_0x33ea05]['instance']=_0x4cf619,this[_0x33ea05]=_0x4cf619,_0x4cf619['__executio'+'nOrder']=_0x56007d,_0x3f5931['update']&&this['_updateLis'+'t']['remove'](_0x3f5931),_0x3f5931['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x3f5931),_0x4cf619['update']&&this['_updateLis'+'t']['insert'](_0x4cf619),_0x4cf619['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x4cf619),this['_scriptMet'+'hod'](_0x4cf619,tD,_0x3f5931),this['fire']('swap',_0x33ea05,_0x4cf619),this['fire']('swap:'+_0x33ea05,_0x4cf619),!(0x12b2*-0x1+0x2bc+0xff6)):!(-0x1e7c+-0xf*0x3+-0x1*-0x1eaa);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4d6120,_0x2ce42c){const _0x40b6f0=this['entity']['script'];for(const _0x273a8b in _0x4d6120['_scriptsIn'+'dex']){const _0x3593ad=this['system']['app']['scripts']['get'](_0x273a8b);if(!_0x3593ad)continue;const _0x162903=_0x4d6120['_scriptsIn'+'dex'][_0x273a8b];if(!_0x162903||!_0x162903['instance'])continue;const _0x13a09d=_0x40b6f0[_0x273a8b]['__attribut'+'esRaw'],_0x557648=_0x40b6f0[_0x273a8b]['__attribut'+'es'];if(!_0x13a09d&&!_0x557648)continue;const _0x14c0f5=!!_0x13a09d,_0x3dae95=_0x162903['instance']['__attribut'+'es'];for(const _0x49ca34 in _0x3dae95){if(!_0x3dae95[_0x49ca34])continue;const _0x773519=_0x3593ad['attributes']['get'](_0x49ca34);if(_0x773519){if(_0x773519['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x773519,_0x49ca34,_0x3dae95[_0x49ca34],_0x14c0f5,_0x13a09d||_0x557648,_0x2ce42c);else{if(_0x773519['type']==='json'&&Array['isArray'](_0x773519['schema'])){const _0x11718b=_0x3dae95[_0x49ca34],_0x5c1db9=_0x13a09d?_0x13a09d[_0x49ca34]:_0x557648[_0x49ca34];for(let _0x3ef1b6=-0x226+-0xae5*-0x3+-0x1e89*0x1;_0x3ef1b6<_0x773519['schema']['length'];_0x3ef1b6++){const _0x261b13=_0x773519['schema'][_0x3ef1b6];if(_0x261b13['type']==='entity'){if(_0x773519['array']){for(let _0x1f3351=-0x4ff+-0x2049+0x2548;_0x1f3351<_0x11718b['length'];_0x1f3351++)this['_resolveEn'+'tityScript'+'Attribute'](_0x261b13,_0x261b13['name'],_0x11718b[_0x1f3351][_0x261b13['name']],_0x14c0f5,_0x5c1db9[_0x1f3351],_0x2ce42c);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x261b13,_0x261b13['name'],_0x11718b[_0x261b13['name']],_0x14c0f5,_0x5c1db9,_0x2ce42c);}}}}}}}}['move'](_0x1e184d,_0x1c11c5){const _0x42f196=this['_scripts']['length'];if(_0x1c11c5>=_0x42f196||_0x1c11c5<-0x1258+-0xf21+0x2179)return!(-0xaa6+-0x99e+-0x1445*-0x1);let _0x54623d=_0x1e184d,_0x4ca61e=_0x1e184d;typeof _0x4ca61e!='string'?_0x4ca61e=_0x1e184d['__name']:_0x54623d=null;const _0x3c8b0c=this['_scriptsIn'+'dex'][_0x4ca61e];if(!_0x3c8b0c||!_0x3c8b0c['instance'])return!(-0xc3a+0x3*0x953+-0xfbe);const _0xf796a4=_0x3c8b0c['instance'];if(_0x54623d&&!(_0xf796a4 instanceof _0x54623d))return!(0x19ec+0x30*-0x9c+0x355);const _0x3d0c9e=this['_scripts']['indexOf'](_0xf796a4);return _0x3d0c9e===-(-0x3*-0x2f+-0x114f+0x10c3)||_0x3d0c9e===_0x1c11c5?!(0x3*0x40f+-0x1666+0xa3a):(this['_scripts']['splice'](_0x1c11c5,0x15ba+0x1e1b+-0x1147*0x3,this['_scripts']['splice'](_0x3d0c9e,0x1b2a+-0xa78+-0x1*0x10b1)[-0x146c+-0x12d*0x2+0x16c6]),this['_resetExec'+'utionOrder'](-0x17c7*-0x1+0x21*-0x1a+-0x3f*0x53,_0x42f196),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x4ca61e,_0xf796a4,_0x1c11c5,_0x3d0c9e),this['fire']('move:'+_0x4ca61e,_0xf796a4,_0x1c11c5,_0x3d0c9e),!(0x1c3e+-0x353*-0x7+-0x3383));}}c(di,'EVENT_CREA'+'TE','create'),c(di,'EVENT_DEST'+'ROY','destroy'),c(di,'EVENT_ENAB'+'LE','enable'),c(di,'EVENT_DISA'+'BLE','disable'),c(di,'EVENT_REMO'+'VE','remove'),c(di,'EVENT_STAT'+'E','state'),c(di,'EVENT_MOVE','move'),c(di,'EVENT_ERRO'+'R','error');class rD{constructor(){this['enabled']=!(-0x1662+-0x1ba4+-0x2*-0x1903);}}const nD='_onInitial'+'izeAttribu'+'tes',aD='_onInitial'+'ize',oD='_onPostIni'+'tialize',lD='_onUpdate',hD='_onPostUpd'+'ate';let Jl=0x1a1d*0x1+-0x1b9c+0x17f;class cD extends Xe{constructor(_0x389b95){super(_0x389b95),this['id']='script',this['ComponentT'+'ype']=di,this['DataType']=rD,this['_component'+'s']=new wh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new wh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x108d+-0x1462+0x3*0x147),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x252902,_0x24d558){if(_0x252902['_execution'+'Order']=Jl++,this['_component'+'s']['append'](_0x252902),Jl>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x252902['enabled']=_0x24d558['hasOwnProp'+'erty']('enabled')?!!_0x24d558['enabled']:!(0x1b*0xad+0x1b03+0x3*-0xf16),_0x252902['enabled']&&_0x252902['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x252902),_0x24d558['hasOwnProp'+'erty']('order')&&_0x24d558['hasOwnProp'+'erty']('scripts')){_0x252902['_scriptsDa'+'ta']=_0x24d558['scripts'];for(let _0x8ee969=-0x11*-0x209+-0x1073+-0x1226;_0x8ee969<_0x24d558['order']['length'];_0x8ee969++)_0x252902['create'](_0x24d558['order'][_0x8ee969],{'enabled':_0x24d558['scripts'][_0x24d558['order'][_0x8ee969]]['enabled'],'attributes':_0x24d558['scripts'][_0x24d558['order'][_0x8ee969]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x174dec,_0x509429){var _0x38ab28;const _0xa34d1e=[],_0x3489bf={};for(let _0x2fcfe9=-0x408+-0x76a+0xb72;_0x2fcfe9<_0x174dec['script']['_scripts']['length'];_0x2fcfe9++){const _0x43e608=_0x174dec['script']['_scripts'][_0x2fcfe9],_0xd84201=_0x43e608['__scriptTy'+'pe']['__name'];_0xa34d1e['push'](_0xd84201);const _0x32f282=((_0x38ab28=_0x174dec['script']['_attribute'+'DataMap'])==null?void(0x4*0x940+-0xeab+-0x1655):_0x38ab28['get'](_0xd84201))||{};for(const _0x47b6bc in _0x43e608['__attribut'+'es'])_0x32f282[_0x47b6bc]=_0x43e608['__attribut'+'es'][_0x47b6bc];_0x3489bf[_0xd84201]={'enabled':_0x43e608['_enabled'],'attributes':_0x32f282};}for(const _0x11f245 in _0x174dec['script']['_scriptsIn'+'dex'])_0x11f245['awaiting']&&_0xa34d1e['splice'](_0x11f245['ind'],0x7b4+-0x883*-0x1+-0x1037,_0x11f245);const _0x272d3b={'enabled':_0x174dec['script']['enabled'],'order':_0xa34d1e,'scripts':_0x3489bf};return this['addCompone'+'nt'](_0x509429,_0x272d3b);}['_resetExec'+'utionOrder'](){Jl=0x1c42+-0x1cf0*-0x1+-0x3932;for(let _0x7ae5ce=-0x2442+0xf2+0x2350,_0x85f8c8=this['_component'+'s']['length'];_0x7ae5ce<_0x85f8c8;_0x7ae5ce++)this['_component'+'s']['items'][_0x7ae5ce]['_execution'+'Order']=Jl++;}['_callCompo'+'nentMethod'](_0x129c52,_0x47bdb6,_0x3b3e7e){for(_0x129c52['loopIndex']=0x1724+-0x1027+0x6fd*-0x1;_0x129c52['loopIndex']<_0x129c52['length'];_0x129c52['loopIndex']++)_0x129c52['items'][_0x129c52['loopIndex']][_0x47bdb6](_0x3b3e7e);}['_onInitial'+'ize'](){this['preloading']=!(-0xbbc*0x2+0x1*0x2626+0xead*-0x1),this['_callCompo'+'nentMethod'](this['_component'+'s'],nD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],aD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onUpdate'](_0x242ca4){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD,_0x242ca4);}['_onPostUpd'+'ate'](_0x14c498){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x14c498);}['_addCompon'+'entToEnabl'+'ed'](_0x1a65d2){this['_enabledCo'+'mponents']['insert'](_0x1a65d2);}['_removeCom'+'ponentFrom'+'Enabled'](_0x31d14a){this['_enabledCo'+'mponents']['remove'](_0x31d14a);}['_onBeforeR'+'emove'](_0x2201e7,_0x3f7cd9){this['_component'+'s']['items']['indexOf'](_0x3f7cd9)>=0x8cd+0x1*-0x26d9+0x1e0c&&_0x3f7cd9['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x3f7cd9),this['_component'+'s']['remove'](_0x3f7cd9);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Mx extends ue{constructor(_0x5c4737,_0x28f47a){super(_0x5c4737,_0x28f47a),c(this,'_layers',[Fi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x5c4737['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x28f47a['on']('remove',this['onRemoveCh'+'ild'],this),_0x28f47a['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x28f47a['on']('insert',this['onInsertCh'+'ild'],this),_0x28f47a['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x516adb){var _0xb28f81,_0x458d72;this['_customAab'+'b']=_0x516adb,(_0x458d72=(_0xb28f81=this['_instance'])==null?void(-0x1*-0x1231+0xca5+-0x2*0xf6b):_0xb28f81['meshInstan'+'ce'])==null||_0x458d72['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x1d9452){var _0x585f62;if(this['destroyIns'+'tance'](),this['_instance']=_0x1d9452,(_0x585f62=this['_instance'])!=null&&_0x585f62['meshInstan'+'ce']){const _0x4b3d9f=this['_instance']['meshInstan'+'ce'];_0x4b3d9f['node']||(_0x4b3d9f['node']=this['entity']),_0x4b3d9f['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x5dc512){this['_materialO'+'ptions']=Object['assign']({},_0x5dc512),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x3a206d;return(_0x3a206d=this['_instance'])==null?void(0x108b+-0x10d*-0x3+-0x2*0x9d9):_0x3a206d['material'];}set['layers'](_0x1abc26){this['removeFrom'+'Layers'](),this['_layers']['length']=-0xb02+-0x9d9*0x2+0x1eb4;for(let _0x1bb9c4=0xaa4+-0x17e5+0xd41;_0x1bb9c4<_0x1abc26['length'];_0x1bb9c4++)this['_layers'][_0x1bb9c4]=_0x1abc26[_0x1bb9c4];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x2c5300){const _0x3d8796=_0x2c5300 instanceof le?_0x2c5300['id']:_0x2c5300;this['_assetRefe'+'rence']['id']!==_0x3d8796&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x3d8796,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x13ae33){const _0x2945db=_0x13ae33 instanceof le?_0x13ae33['id']:_0x13ae33;this['_assetRefe'+'rence']['id']=_0x2945db;}['destroyIns'+'tance'](){var _0x16758f;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x16758f=this['_instance'])==null||_0x16758f['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x4d4ddf,_0x1f44b0;const _0x244f47=(_0x4d4ddf=this['instance'])==null?void(-0x67*0x1+0x123f+-0x11d8*0x1):_0x4d4ddf['meshInstan'+'ce'];if(_0x244f47){const _0x7fab92=this['system']['app']['scene']['layers'];for(let _0x27d3fe=0x1f*-0x76+-0x23d3+0x321d;_0x27d3fe<this['_layers']['length'];_0x27d3fe++)(_0x1f44b0=_0x7fab92['getLayerBy'+'Id'](this['_layers'][_0x27d3fe]))==null||_0x1f44b0['addMeshIns'+'tances']([_0x244f47]);}}['removeFrom'+'Layers'](){var _0x473fdf,_0x238220;const _0x6b57e6=(_0x473fdf=this['instance'])==null?void(0x9*0x3fb+0xe5*-0x11+-0x149e):_0x473fdf['meshInstan'+'ce'];if(_0x6b57e6){const _0x3ae1d7=this['system']['app']['scene']['layers'];for(let _0x106f14=0x949*-0x2+0x2*-0x641+0x1f14;_0x106f14<this['_layers']['length'];_0x106f14++)(_0x238220=_0x3ae1d7['getLayerBy'+'Id'](this['_layers'][_0x106f14]))==null||_0x238220['removeMesh'+'Instances']([_0x6b57e6]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x592d40,_0x2c7d23){this['addToLayer'+'s'](),_0x592d40['off']('add',this['onLayerAdd'+'ed'],this),_0x592d40['off']('remove',this['onLayerRem'+'oved'],this),_0x2c7d23['on']('add',this['onLayerAdd'+'ed'],this),_0x2c7d23['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4c696d){this['layers']['indexOf'](_0x4c696d['id'])<0x3b*-0x9d+0x36*-0x40+0x31af||this['_instance']&&_0x4c696d['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x20a0ad){this['layers']['indexOf'](_0x20a0ad['id'])<0x1406*-0x1+-0x7ba+-0x4a0*-0x6||this['_instance']&&_0x20a0ad['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x5309fd=this['system']['app']['scene'],_0x2297f7=_0x5309fd['layers'];this['_evtLayers'+'Changed']=_0x5309fd['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2297f7&&(this['_evtLayerA'+'dded']=_0x2297f7['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2297f7['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x5762d4,_0x32379b,_0x249b26;const _0x38ed9e=this['system']['app']['scene']['layers'];(_0x5762d4=this['_evtLayers'+'Changed'])==null||_0x5762d4['off'](),this['_evtLayers'+'Changed']=null,_0x38ed9e&&((_0x32379b=this['_evtLayerA'+'dded'])==null||_0x32379b['off'](),this['_evtLayerA'+'dded']=null,(_0x249b26=this['_evtLayerR'+'emoved'])==null||_0x249b26['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x45d+0x7a5+-0x1b7*0x7));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x699*-0x3+-0xcae+-0x71d));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x169c51=this['_assetRefe'+'rence']['asset'];_0x169c51&&(this['instance']=_0x169c51['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class dD{constructor(){this['enabled']=!(0x12bd+0x8b*-0x3b+0xd4c);}}const yf=['enabled'],Rr=['instance','asset','layers'];class uD extends Xe{constructor(_0x587292){super(_0x587292),this['id']='gsplat',this['ComponentT'+'ype']=Mx,this['DataType']=dD,this['schema']=yf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x1f3fd0,_0x1f9408,_0x146834){_0x1f9408['layers']&&_0x1f9408['layers']['length']&&(_0x1f9408['layers']=_0x1f9408['layers']['slice'](0x16b6+0x1f3*-0xd+0x2a1));for(let _0x1f4fdf=-0x1*0x1633+0xb*-0xcb+-0x1*-0x1eec;_0x1f4fdf<Rr['length'];_0x1f4fdf++)_0x1f9408['hasOwnProp'+'erty'](Rr[_0x1f4fdf])&&(_0x1f3fd0[Rr[_0x1f4fdf]]=_0x1f9408[Rr[_0x1f4fdf]]);_0x1f9408['aabbCenter']&&_0x1f9408['aabbHalfEx'+'tents']&&(_0x1f3fd0['customAabb']=new _e(new T(_0x1f9408['aabbCenter']),new T(_0x1f9408['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x1f3fd0,_0x1f9408,yf);}['cloneCompo'+'nent'](_0x576f97,_0x493304){const _0x11fb89=_0x576f97['gsplat'],_0x5c4223={};for(let _0x37b4db=0x1d46+-0xa27+-0x131f;_0x37b4db<Rr['length'];_0x37b4db++)_0x5c4223[Rr[_0x37b4db]]=_0x11fb89[Rr[_0x37b4db]];_0x5c4223['enabled']=_0x11fb89['enabled'],delete _0x5c4223['instance'];const _0x3efc14=this['addCompone'+'nt'](_0x493304,_0x5c4223);return _0x3efc14['instance']=_0x11fb89['instance']['clone'](),_0x11fb89['customAabb']&&(_0x3efc14['customAabb']=_0x11fb89['customAabb']['clone']()),_0x3efc14;}['onRemove'](_0x50cfb2,_0x47f1c4){_0x47f1c4['onRemove']();}}ue['_buildAcce'+'ssors'](Mx['prototype'],yf);class Hp extends ce{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x594ffe){this['decRefMesh'+'es'](),this['_meshes']=_0x594ffe,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x594ffe);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x40afcb;(_0x40afcb=this['_meshes'])==null||_0x40afcb['forEach']((_0x1837c7,_0x41574f)=>{_0x1837c7&&(_0x1837c7['decRefCoun'+'t'](),_0x1837c7['refCount']<0xc92+-0x2*0x1183+0x1675&&(_0x1837c7['destroy'](),this['_meshes'][_0x41574f]=null));});}['incRefMesh'+'es'](){var _0x13adad;(_0x13adad=this['_meshes'])==null||_0x13adad['forEach'](_0x38ca5b=>{_0x38ca5b==null||_0x38ca5b['incRefCoun'+'t']();});}}c(Hp,'EVENT_SETM'+'ESHES','set:meshes');function yh(_0x1e082f){const _0x45cfc1=this;if(!_0x45cfc1['resource'])return;const _0x357e52=_0x1e082f['resource'],_0x4da741=_0x357e52['renders']&&_0x357e52['renders'][_0x45cfc1['data']['renderInde'+'x']];_0x4da741&&(_0x45cfc1['resource']['meshes']=_0x4da741['resource']['meshes']);}function Lg(_0x11bb52){const _0x56dc59=this;_0x56dc59['registry']['off']('load:'+_0x11bb52['id'],yh,_0x56dc59),_0x56dc59['registry']['on']('load:'+_0x11bb52['id'],yh,_0x56dc59),_0x56dc59['registry']['off']('remove:'+_0x11bb52['id'],Fg,_0x56dc59),_0x56dc59['registry']['once']('remove:'+_0x11bb52['id'],Fg,_0x56dc59),_0x11bb52['resource']?yh['call'](_0x56dc59,_0x11bb52):_0x56dc59['registry']['load'](_0x11bb52);}function Fg(_0x1459fd){const _0x13f69f=this;_0x13f69f['registry']['off']('load:'+_0x1459fd['id'],yh,_0x13f69f),_0x13f69f['resource']&&_0x13f69f['resource']['destroy']();}class fD extends Ne{constructor(_0x5f5be7){super(_0x5f5be7,'render'),this['_registry']=_0x5f5be7['assets'];}['open'](_0x370b7d,_0x38f126){return new Hp();}['patch'](_0x4c6c6a,_0x3c17fd){if(!_0x4c6c6a['data']['containerA'+'sset'])return;const _0x3fcc64=_0x3c17fd['get'](_0x4c6c6a['data']['containerA'+'sset']);if(!_0x3fcc64){_0x3c17fd['once']('add:'+_0x4c6c6a['data']['containerA'+'sset'],Lg,_0x4c6c6a);return;}Lg['call'](_0x4c6c6a,_0x3fcc64);}}class Px{constructor(_0x2f4714,_0x51aac6,_0x8506c,_0x3c1a9d){this['_paths']=_0x2f4714,this['_input']=_0x51aac6,this['_output']=_0x8506c,this['_interpola'+'tion']=_0x3c1a9d;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Jh{constructor(_0x1fe839,_0x43f11b){this['_component'+'s']=_0x1fe839,this['_data']=_0x43f11b;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function pD(_0xcaf0e6,_0x1c7881){let _0x4ab2b0;const _0x41034b=(_0x45fb38,_0x45b92b)=>{switch(_0x45b92b){case _0x4ab2b0['DT_INT8']:return new Int8Array(_0x45fb38['buffer'],_0x45fb38['byteOffset'],_0x45fb38['byteLength']);case _0x4ab2b0['DT_INT16']:return new Int16Array(_0x45fb38['buffer'],_0x45fb38['byteOffset'],_0x45fb38['byteLength']/(0xff5+0x9e*-0x36+0x1161));case _0x4ab2b0['DT_INT32']:return new Int32Array(_0x45fb38['buffer'],_0x45fb38['byteOffset'],_0x45fb38['byteLength']/(-0x11*0xed+-0x2449*-0x1+-0x1488));case _0x4ab2b0['DT_UINT8']:return new Uint8Array(_0x45fb38['buffer'],_0x45fb38['byteOffset'],_0x45fb38['byteLength']);case _0x4ab2b0['DT_UINT16']:return new Uint16Array(_0x45fb38['buffer'],_0x45fb38['byteOffset'],_0x45fb38['byteLength']/(-0x18e8+-0x19f5+0x1*0x32df));case _0x4ab2b0['DT_UINT32']:return new Uint32Array(_0x45fb38['buffer'],_0x45fb38['byteOffset'],_0x45fb38['byteLength']/(-0x670*0x4+-0xf8b*0x1+-0x1a7*-0x19));case _0x4ab2b0['DT_FLOAT32']:return new Float32Array(_0x45fb38['buffer'],_0x45fb38['byteOffset'],_0x45fb38['byteLength']/(0xf91*-0x1+-0x17cf+0x2764));}return null;},_0x9baeb6=_0x2ce1de=>{switch(_0x2ce1de){case _0x4ab2b0['DT_INT8']:return-0x2*-0xf7b+0x1c95+-0x3b8a;case _0x4ab2b0['DT_INT16']:return 0x1f18+0x1488+-0x339e;case _0x4ab2b0['DT_INT32']:return 0xf2+0x2533*-0x1+-0x3*-0xc17;case _0x4ab2b0['DT_UINT8']:return-0x8d*0x13+0x13ac+-0x934;case _0x4ab2b0['DT_UINT16']:return-0x50b*0x1+0x24a1+-0x1f94;case _0x4ab2b0['DT_UINT32']:return-0x1*0x15b+-0x95*0x20+0x13ff;case _0x4ab2b0['DT_FLOAT32']:return 0x3a*-0x8+0x4c*-0x4c+-0x1be*-0xe;}return 0x1b5+-0x2c1*0xe+0x24da;},_0x5c0966=_0x25b12f=>_0x25b12f['num_compon'+'ents']()*_0x9baeb6(_0x25b12f['data_type']()),_0x52a9c5={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x4e5b5a=(_0x2bf330,_0x12ca7a)=>{const _0x33de92=(_0x5a93c5,_0x183133,_0x47b95d)=>{_0x5a93c5[-0x21f2+0x90c+0x2*0xc73]=_0x183133[0x26a2+-0x1dd8+-0x177*0x6]-_0x47b95d[0x1cb4+0xfa3+0x1*-0x2c57],_0x5a93c5[-0x17c8+-0x1bfc+-0x1c9*-0x1d]=_0x183133[0x9a6+-0x216+-0x2d*0x2b]-_0x47b95d[0x1*0x1be8+0x28e*-0x2+0xf*-0x185],_0x5a93c5[-0x19d9*0x1+0x1ce8+-0x30d]=_0x183133[0x17fe+0x5ca+-0x1dc6]-_0x47b95d[0x4*0x6d0+0x20c8+-0x1a*0x24f];},_0x4c79eb=(_0x23c1b8,_0x59f5fc,_0x487097)=>{_0x23c1b8[-0x1b40+0x20c5*0x1+-0x1d7*0x3]=_0x59f5fc[-0x2c1*-0x8+0x81*-0x25+-0x362]*_0x487097[0x5*-0x56f+-0x1e58+-0x9b*-0x5f]-_0x487097[0x2029+-0x16af+0x1e5*-0x5]*_0x59f5fc[-0x3*-0x9c9+-0x5b*0x34+-0xadd],_0x23c1b8[0x319*-0xc+-0x21bd+0x46ea]=_0x59f5fc[0x3ea+0x33*0x13+-0x7b1]*_0x487097[0x5*0x2dd+0x308+0x1159*-0x1]-_0x487097[0xe8e+-0xd7*-0x2b+-0x9*0x5a1]*_0x59f5fc[0x21e*-0xe+0xca1+0x1103],_0x23c1b8[-0x3*-0xaf1+-0xd17+0x13ba*-0x1]=_0x59f5fc[-0x141*0x11+0x24b0+-0xf5f]*_0x487097[0x574*-0x4+-0x3*-0x3ad+0xaca]-_0x487097[0x4*-0x6e1+0x5*-0x24+0x1c38]*_0x59f5fc[-0x225e+0x10*-0x3f+0x264f];},_0x398a5a=(_0xc7f6e3,_0x57ca54)=>{const _0x122fde=_0xc7f6e3[_0x57ca54+(-0x1d*-0x101+0x26b1+0x2*-0x21e7)],_0x4c62c9=_0xc7f6e3[_0x57ca54+(-0x469+0x22a1+-0x1c7*0x11)],_0x3521bd=_0xc7f6e3[_0x57ca54+(-0x1b*-0x110+0xbb2+0x4c*-0x88)],_0x10afd2=(0x2*-0xafc+0x105b+0x2cf*0x2)/Math['sqrt'](_0x122fde*_0x122fde+_0x4c62c9*_0x4c62c9+_0x3521bd*_0x3521bd);_0xc7f6e3[_0x57ca54+(-0xa1f*0x1+0x1b3d+-0xe*0x139)]*=_0x10afd2,_0xc7f6e3[_0x57ca54+(0x1d82+-0x1698+-0x1d*0x3d)]*=_0x10afd2,_0xc7f6e3[_0x57ca54+(-0x1*-0x254b+-0x13d2+0x107*-0x11)]*=_0x10afd2;},_0x3188d4=(_0x4534ab,_0x313853,_0x3daa8b)=>{for(let _0x3c7ac8=-0x1d0d+-0x54*0x73+0x1643*0x3;_0x3c7ac8<0x1*0x10c9+-0x2361*-0x1+-0x3427;++_0x3c7ac8)_0x4534ab[_0x3c7ac8]=_0x313853[_0x3daa8b+_0x3c7ac8];},_0x29d15d=_0x12ca7a['length']/(0x1b7*-0x16+0x1704+-0x1*-0xeb9),_0x100b3f=_0x2bf330['length']/(0x1*-0x151f+0x1517+0xb*0x1),_0xe0a34f=new Float32Array(_0x2bf330['length']),_0x176ead=[0x90d+0xf*0xed+0xb78*-0x2,0xd6b+0x149*0x10+-0x21fb,-0x25ca+0x1331+-0x3*-0x633],_0x46ff6b=[0xf01+-0x77f*-0x1+-0x1e0*0xc,0xba7+-0x6*-0x429+0x67*-0x5b,-0xea5+-0x34*-0x10+0xb65],_0x3c3213=[0x1e1*0xe+-0x581+0x4b*-0x47,-0x743+0x3d6+0x36d,-0x42a*-0x7+0x10ad*0x2+-0x3e80],_0x535fee=[-0xb*-0x5c+-0x1*0x2665+-0x2271*-0x1,0xa*0x86+0x1*-0x11b9+0xc7d,-0x1797+-0x3*-0x2e1+-0x1d*-0x84],_0x1025b1=[0x2631+0xe56+-0x3487,-0xd*0x148+0x2333*0x1+0x2f*-0x65,0x11e7+0x2*-0xa61+0x2db],_0x389586=[0xfca*-0x1+-0x4*-0x8+0xfaa,0x47*-0xd+0x2564+0x9*-0x3c1,0x1268+0x17d9+-0x2a41];for(let _0x41dd05=-0x1c*-0x67+0x3*-0x577+0x521*0x1;_0x41dd05<_0x29d15d;++_0x41dd05){const _0x2c6303=_0x12ca7a[_0x41dd05*(0x1f98+-0x1d2c+-0x1*0x269)+(0x261f*0x1+-0x3db+0x2b*-0xcc)]*(-0x2*0x749+0x13f*0x8+0x49d*0x1),_0xa710ee=_0x12ca7a[_0x41dd05*(0x36*-0x21+-0xf4e+-0x1647*-0x1)+(0x2*-0x701+0xaf6+0x47*0xb)]*(0x1*0x1d35+0x592+-0x22c4),_0x37f3a7=_0x12ca7a[_0x41dd05*(-0xe79+0x1a5+0xcd7)+(-0x1260*-0x1+0x2227+0x5*-0xa81)]*(0x211a+0xfc5+-0x30dc);_0x3188d4(_0x176ead,_0x2bf330,_0x2c6303),_0x3188d4(_0x46ff6b,_0x2bf330,_0xa710ee),_0x3188d4(_0x3c3213,_0x2bf330,_0x37f3a7),_0x33de92(_0x535fee,_0x46ff6b,_0x176ead),_0x33de92(_0x1025b1,_0x3c3213,_0x176ead),_0x4c79eb(_0x389586,_0x535fee,_0x1025b1),_0x398a5a(_0x389586,-0xa05+0x22d0+-0x18cb);for(let _0x45c287=-0x175f+-0xc4a+-0x219*-0x11;_0x45c287<-0x731*-0x3+0x613*0x1+0x1ba3*-0x1;++_0x45c287)_0xe0a34f[_0x2c6303+_0x45c287]+=_0x389586[_0x45c287],_0xe0a34f[_0xa710ee+_0x45c287]+=_0x389586[_0x45c287],_0xe0a34f[_0x37f3a7+_0x45c287]+=_0x389586[_0x45c287];}for(let _0x19dd91=-0x1*0x256e+0x7*0x160+0x1bce;_0x19dd91<_0x100b3f;++_0x19dd91)_0x398a5a(_0xe0a34f,_0x19dd91*(-0xf0a+0x23f4+-0x1*0x14e7));return new Uint8Array(_0xe0a34f['buffer']);},_0x327402=_0x4415e0=>{const _0x30b573={},_0x287cdc=new _0x4ab2b0['DecoderBuf'+'fer']();_0x287cdc['Init'](_0x4415e0,_0x4415e0['length']);const _0x16ccfc=new _0x4ab2b0['Decoder']();if(_0x16ccfc['GetEncoded'+'GeometryTy'+'pe'](_0x287cdc)!==_0x4ab2b0['TRIANGULAR'+'_MESH'])return _0x30b573['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x30b573;const _0x545e32=new _0x4ab2b0['Mesh'](),_0x2b8a61=_0x16ccfc['DecodeBuff'+'erToMesh'](_0x287cdc,_0x545e32);if(!_0x2b8a61||!_0x2b8a61['ok']()||_0x4ab2b0['getPointer'](_0x545e32)===0x1ece+0xe2*0x18+-0x33fe)return _0x30b573['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x30b573;const _0x4d81d5=_0x545e32['num_faces']()*(-0x5fe*-0x4+0x236b+-0x3b60),_0x263667=_0x545e32['num_points']()<=0x1cd3f+0x4136+-0x10e76,_0x5a37e9=_0x4d81d5*(_0x263667?-0x1d*-0x7b+-0xb*-0x36d+-0x24*0x16f:-0x3e8+-0xa31+0xe1d),_0x3a8ef1=_0x4ab2b0['_malloc'](_0x5a37e9);_0x263667?(_0x16ccfc['GetTriangl'+'esUInt16Ar'+'ray'](_0x545e32,_0x5a37e9,_0x3a8ef1),_0x30b573['indices']=new Uint16Array(_0x4ab2b0['HEAPU16']['buffer'],_0x3a8ef1,_0x4d81d5)['slice']()['buffer']):(_0x16ccfc['GetTriangl'+'esUInt32Ar'+'ray'](_0x545e32,_0x5a37e9,_0x3a8ef1),_0x30b573['indices']=new Uint32Array(_0x4ab2b0['HEAPU32']['buffer'],_0x3a8ef1,_0x4d81d5)['slice']()['buffer']),_0x4ab2b0['_free'](_0x3a8ef1);const _0x1ef272=[];for(let _0x325b12=-0x3b7+0x1*0x25b1+-0x10fd*0x2;_0x325b12<_0x545e32['num_attrib'+'utes']();++_0x325b12)_0x1ef272['push'](_0x16ccfc['GetAttribu'+'te'](_0x545e32,_0x325b12));_0x1ef272['sort']((_0x21f487,_0x18f10b)=>(_0x52a9c5[_0x21f487['attribute_'+'type']()]??_0x52a9c5['length'])-(_0x52a9c5[_0x18f10b['attribute_'+'type']()]??_0x52a9c5['length'])),_0x30b573['attributes']=_0x1ef272['map'](_0x447f50=>_0x447f50['unique_id']());let _0x135974=0x2ec*-0x1+-0x7f*-0x29+-0x116b;const _0x5bf27f=_0x1ef272['map'](_0x157e34=>{const _0x8933e5=_0x135974;return _0x135974+=Math['ceil'](_0x5c0966(_0x157e34)/(-0xc9c+0x86b*-0x2+0x1d76))*(0x139b+0x5e*0x5+-0x1*0x156d),_0x8933e5;}),_0x267f08=_0x1ef272['some'](_0x4fb9a5=>_0x4fb9a5['attribute_'+'type']()===0x1*-0x526+-0x4c*0x6+-0x163*-0x5),_0x17d662=_0x5bf27f[-0xb*0x11a+-0x2326*-0x1+-0x49b*0x5];if(!_0x267f08){for(let _0x2f3704=-0x1d0d+-0x2*-0x107+0x1b00;_0x2f3704<_0x5bf27f['length'];++_0x2f3704)_0x5bf27f[_0x2f3704]+=-0xc43+-0x6cd*0x2+0x19e9;_0x135974+=0xf*0x281+0x1034+-0x1*0x35b7;}_0x30b573['vertices']=new ArrayBuffer(_0x545e32['num_points']()*_0x135974);const _0x36bf9b=new Uint8Array(_0x30b573['vertices']);for(let _0x276309=-0x2de+-0xf1*-0x1d+-0x186f;_0x276309<_0x545e32['num_attrib'+'utes']();++_0x276309){const _0x3d0ac1=_0x1ef272[_0x276309],_0x12d545=_0x5c0966(_0x3d0ac1),_0x39c3e4=_0x545e32['num_points']()*_0x12d545,_0x2eb6b6=_0x4ab2b0['_malloc'](_0x39c3e4);_0x16ccfc['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x545e32,_0x3d0ac1,_0x3d0ac1['data_type'](),_0x39c3e4,_0x2eb6b6);const _0x39c503=new Uint8Array(_0x4ab2b0['HEAPU8']['buffer'],_0x2eb6b6,_0x39c3e4);for(let _0x29004d=-0x7a7*0x1+0x1391*-0x1+-0x367*-0x8;_0x29004d<_0x545e32['num_points']();++_0x29004d)for(let _0x104b42=-0x11b3+0x1*-0x749+0x4*0x63f;_0x104b42<_0x12d545;++_0x104b42)_0x36bf9b[_0x29004d*_0x135974+_0x5bf27f[_0x276309]+_0x104b42]=_0x39c503[_0x29004d*_0x12d545+_0x104b42];if(!_0x267f08&&_0x3d0ac1['attribute_'+'type']()===0x2ab*0x3+0x1b56+-0x2357){const _0x4c5a48=_0x4e5b5a(_0x41034b(_0x39c503,_0x3d0ac1['data_type']()),_0x263667?new Uint16Array(_0x30b573['indices']):new Uint32Array(_0x30b573['indices']));for(let _0x3661b6=-0xe62+0x31*-0xbf+0x32f1;_0x3661b6<_0x545e32['num_points']();++_0x3661b6)for(let _0x3bd409=0xe2*-0x17+-0xa20+0x13*0x19a;_0x3bd409<-0x10a3+0x3*0xb57+-0xe*0x13d;++_0x3bd409)_0x36bf9b[_0x3661b6*_0x135974+_0x17d662+_0x3bd409]=_0x4c5a48[_0x3661b6*(0x1b9a*0x1+0x1a33+0x9*-0x5f9)+_0x3bd409];}_0x4ab2b0['_free'](_0x2eb6b6);}return _0x4ab2b0['destroy'](_0x545e32),_0x4ab2b0['destroy'](_0x16ccfc),_0x4ab2b0['destroy'](_0x287cdc),_0x30b573;},_0x194063=_0x1df06c=>{const _0x3c36ae=_0x327402(new Uint8Array(_0x1df06c['buffer']));self['postMessag'+'e']({'jobId':_0x1df06c['jobId'],'error':_0x3c36ae['error'],'indices':_0x3c36ae['indices'],'vertices':_0x3c36ae['vertices'],'attributes':_0x3c36ae['attributes']},[_0x3c36ae['indices'],_0x3c36ae['vertices']]['filter'](_0xa9f505=>_0xa9f505!=null));},_0x2c4382=[];self['onmessage']=_0x1730c2=>{const _0x144672=_0x1730c2['data'];switch(_0x144672['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x39e7d4,_0x1ce607)=>(WebAssembly['instantiat'+'e'](_0x144672['module'],_0x39e7d4)['then'](_0x1ab4f8=>_0x1ce607(_0x1ab4f8))['catch'](_0x2cda3a=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x2cda3a)),{})})['then'](_0x301820=>{_0x4ab2b0=_0x301820,_0x2c4382['forEach'](_0xf7d5df=>_0x194063(_0xf7d5df));});break;case'decodeMesh':_0x4ab2b0?_0x194063(_0x144672):_0x2c4382['push'](_0x144672);break;}};}const Og=-0xf93*-0x1+-0xd9*-0x8+-0x1658;class mD{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x17bb*-0x1+-0x1b56+0x39b,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x36e04f,_0x13f5b9)=>{_0x36e04f['postMessag'+'e']({'type':'decodeMesh','jobId':_0x13f5b9['jobId'],'buffer':_0x13f5b9['buffer']},[_0x13f5b9['buffer']]);};}['init'](_0x58195e){for(_0x58195e['forEach'](_0x479d86=>{_0x479d86['addEventLi'+'stener']('message',_0x27adb7=>{const _0xc8d126=_0x27adb7['data'],_0x24b607=this['jobCallbac'+'ks']['get'](_0xc8d126['jobId']);if(_0x24b607&&_0x24b607(_0xc8d126['error'],{'indices':_0xc8d126['indices'],'vertices':_0xc8d126['vertices'],'attributes':_0xc8d126['attributes']}),this['jobCallbac'+'ks']['delete'](_0xc8d126['jobId']),this['jobQueue']['length']>-0x1036+-0x23ec+-0x1*-0x3422){const _0x2c3915=this['jobQueue']['shift']();this['run'](_0x479d86,_0x2c3915);}else{const _0x4d31e4=this['workers'][-0xe4+0xe8e+0x26*-0x5c]['indexOf'](_0x479d86);if(_0x4d31e4!==-(0xed5+0x2621+-0x34f5))this['workers'][-0x1*0x1223+-0x8*-0x4d4+-0x147b]['splice'](_0x4d31e4,-0x1*-0x5b9+0x103*0x4+-0x9c4),this['workers'][0x1abe+-0x1928+-0x195]['push'](_0x479d86);else{const _0x48c29e=this['workers'][0x7b0+0x31e*0x7+-0x1d81]['indexOf'](_0x479d86);_0x48c29e!==-(0x531*0x5+-0x29d*-0x2+0x1a*-0x133)?(this['workers'][-0x14c3+0x1f48+-0xa84*0x1]['splice'](_0x48c29e,-0x1d9+0x8*-0x301+0x19e2),this['workers'][-0x1*0x8c3+0x63d*0x2+0x1*-0x3b7]['push'](_0x479d86)):v['error']('logical\x20er'+'ror');}}});}),this['workers'][0x7*0x521+-0x6ad*0x1+0x9be*-0x3]=_0x58195e;this['jobQueue']['length']&&(this['workers'][0x2*-0x12c5+0x7d*0x5+0x2319]['length']||this['workers'][0x1214+-0xd*-0x67+-0x174e]['length']);){const _0x5c60b2=this['jobQueue']['shift']();if(this['workers'][-0x1cd8+-0x1bfe+0x38d6]['length']>0x462+-0x2134+0x1cd2){const _0x59bec8=this['workers'][0x3*0x4c7+-0x13d5*0x1+0x580]['shift']();this['workers'][-0x6de+-0x5f*-0x49+0x287*-0x8]['push'](_0x59bec8),this['run'](_0x59bec8,_0x5c60b2);}else{const _0x18909f=this['workers'][0x105*0x1+0x69e*-0x2+0xc38]['shift']();this['workers'][-0x1*0x26a1+-0x2421+0x1*0x4ac4]['push'](_0x18909f),this['run'](_0x18909f,_0x5c60b2);}}}['enqueueJob'](_0x2e8984,_0x3e63ab){const _0x2ea5dd={'jobId':this['jobId']++,'buffer':_0x2e8984};if(this['jobCallbac'+'ks']['set'](_0x2ea5dd['jobId'],_0x3e63ab),this['workers'][-0x11f9*0x1+0x8f5*-0x1+-0x2*-0xd77]['length']>-0x1f9e+-0x1051*0x1+0x2fef){const _0x2dd99e=this['workers'][0x2589+0x2395+-0x491e]['shift']();this['workers'][0x1*0x180a+-0x233e+-0x1*-0xb35]['push'](_0x2dd99e),this['run'](_0x2dd99e,_0x2ea5dd);}else{if(this['workers'][0x175*0x3+-0x7*-0xef+-0xae7*0x1]['length']>-0x1a8a+0x53b+0x443*0x5){const _0x3c26ae=this['workers'][0x2435+-0x71*-0x47+0x1*-0x438b]['shift']();this['workers'][-0x1*0x523+0x4d*0x7+-0x1*-0x30a]['push'](_0x3c26ae),this['run'](_0x3c26ae,_0x2ea5dd);}else this['jobQueue']['push'](_0x2ea5dd);}}}const _D=_0x2ca162=>new Promise((_0x449ddc,_0x4c62ff)=>{const _0x44bc09={'cache':!(-0x1*-0x16db+0xcd7+-0x23b2),'responseType':'text','retry':Og>0xb41+0x13*0x18e+0x28cb*-0x1,'maxRetries':Og};We['get'](_0x2ca162,_0x44bc09,(_0x516396,_0x10004c)=>{_0x516396?_0x4c62ff(_0x516396):_0x449ddc(_0x10004c);});}),gD=_0x183ac4=>{const _0x16b3c8=()=>fetch(_0x183ac4)['then'](_0x19b053=>_0x19b053['arrayBuffe'+'r']())['then'](_0x24342d=>WebAssembly['compile'](_0x24342d)),_0x207773=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x183ac4))['catch'](_0x35832f=>(v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x183ac4+'\x20('+_0x35832f+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x16b3c8()));return WebAssembly['compileStr'+'eaming']?_0x207773():_0x16b3c8();},kg=0x1d*-0x10b+0x1aa+0x1c96;let xh;const yD=_0x2be1b1=>{if(xh)return!(-0xd0a+0x17*0x65+0x3f7);if(!_0x2be1b1){const _0x48090a=ay['getConfig']('DracoDecod'+'erModule');_0x48090a?_0x2be1b1={'jsUrl':_0x48090a['glueUrl'],'wasmUrl':_0x48090a['wasmUrl'],'numWorkers':_0x48090a['numWorkers']}:_0x2be1b1={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':kg};}return!_0x2be1b1['jsUrl']||!_0x2be1b1['wasmUrl']?!(0x137*-0x1d+0xe6*-0x29+0x4812):(xh=new mD(),Promise['all']([_D(_0x2be1b1['jsUrl']),gD(_0x2be1b1['wasmUrl'])])['then'](([_0x121fe5,_0x3c37cb])=>{const _0x5ccf9d=['/*\x20draco\x20*'+'/',_0x121fe5,'/*\x20worker\x20'+'*/','(\x0a'+pD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x3e7fe6=new Blob([_0x5ccf9d],{'type':'applicatio'+'n/javascri'+'pt'}),_0x20c85f=URL['createObje'+'ctURL'](_0x3e7fe6),_0x57208e=Math['max'](-0xba*0x6+0x1*0x15ad+-0x1150,Math['min'](0x2305+-0xeb1*-0x1+-0x31a6,_0x2be1b1['numWorkers']||kg)),_0x15e33a=[];for(let _0x4e9b38=0x26ab*-0x1+-0xe69+0x3514;_0x4e9b38<_0x57208e;++_0x4e9b38){const _0x449cf1=new Worker(_0x20c85f);_0x449cf1['postMessag'+'e']({'type':'init','module':_0x3c37cb}),_0x15e33a['push'](_0x449cf1);}xh['init'](_0x15e33a);}),!(0x23a3*0x1+-0x1b3*-0xb+0x1*-0x3654));},xD=(_0x30bd8c,_0x41cca6)=>yD()?(xh['enqueueJob'](_0x30bd8c,_0x41cca6),!(0xafd+0xc61*0x1+-0x175e)):!(-0x1*0x2482+0x12e5+0x119e);class SD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x2a7f56=>{_0x2a7f56['meshes']=null;});}}const Rx=_0x5ae919=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x5ae919),vD=_0x5edc15=>_0x5edc15['substring'](_0x5edc15['indexOf'](':')+(-0x3b*-0x71+0x229*0x6+0x180*-0x1a),_0x5edc15['indexOf'](';')),$o=_0x1c4c19=>{switch(_0x1c4c19){case'SCALAR':return-0x1*-0x268c+0x1*-0x1c78+-0xa13;case'VEC2':return 0x3de+-0x31b+-0x1*0xc1;case'VEC3':return 0x22a5+-0x1*0x253a+0x4*0xa6;case'VEC4':return 0x2*0x2b3+-0x2304+0x1da2;case'MAT2':return-0x167a+0x43*-0x3b+0x25ef;case'MAT3':return-0x1215+0x1*-0x18d1+0x2aef;case'MAT4':return 0x1c76+0x22fe+-0x1*0x3f64;default:return-0x5e7+-0x2047*0x1+0x2631;}},Jc=_0x23eaa7=>{switch(_0x23eaa7){case-0x5c+-0x22e4*0x1+-0x22*-0x1a0:return Rc;case 0x1cea+-0x1*-0x2507+-0x310*0xf:return Kr;case 0xced+0x2591+-0x1*0x1e7c:return Ic;case-0x16*-0x13e+-0xc67*-0x1+-0x13b8:return el;case 0x19c*0x13+-0x1f40+0x14b0:return By;case 0x11ee+0x449*-0x2+-0xaa9*-0x1:return Do;case-0xef5*-0x1+0x18*0x32+0x61:return Ee;default:return-0x2145+-0xfb*0x20+0x40a5;}},bD=_0x1788b2=>{switch(_0x1788b2){case 0x1d3*-0x13+0xd*0x265+0x1788:return-0xd*0x23e+-0x176c*-0x1+0x9*0xa3;case-0x4*0x67+-0x9ad+0x59*0x5a:return 0x227e*0x1+-0x1ce4+-0x1*0x599;case-0x155d+0x1db4+-0x1d*-0x67:return 0x16*0x175+-0x21*0x13+-0x1*0x1d99;case-0x1a1a+-0xd*0x150+0x3f2d:return-0x1*-0x1e72+0x137+-0x1fa7;case-0x10a9+0x1*-0x1d69+0x16*0x301:return-0x1f07+-0x87e*0x1+0x2789;case-0x1*-0x525+0x1926+-0xa46:return 0x56f+-0x9d*0x7+-0x120;case 0x2c2*0x6+0x1327+-0xfad:return-0x1539+-0x13*-0xc2+0x6d7;default:return 0x2*-0x220+0xbb9+-0x779;}},wD=_0x399f65=>{switch(_0x399f65){case 0x6be+0x1*-0x8cd+0x1*0x160f:return Int8Array;case-0x4d2*-0x1+0x178*-0xa+0x1ddf:return Uint8Array;case-0x3a+0x5*-0x568+0xbd1*0x4:return Int16Array;case-0xc41+-0xd88+-0xc*-0x3d1:return Uint16Array;case-0x2259+-0x1d17+-0x62*-0xda:return Int32Array;case-0x3*-0x282+0x5a4+0x6db:return Uint32Array;case-0x1*-0xa2e+0xf8f+0xb*-0x85:return Float32Array;default:return null;}},ec={'POSITION':He,'NORMAL':Yt,'TANGENT':Zs,'COLOR_0':At,'JOINTS_0':qt,'WEIGHTS_0':Ys,'TEXCOORD_0':ns,'TEXCOORD_1':_n,'TEXCOORD_2':jo,'TEXCOORD_3':Yo,'TEXCOORD_4':Ko,'TEXCOORD_5':Zo,'TEXCOORD_6':Qo,'TEXCOORD_7':Jo},Bg={[He]:0xe6f+0x1224+0x1f*-0x10d,[Yt]:0x1f99*0x1+-0xb5*-0xa+-0x26aa,[Zs]:0x1*0x52d+0x19b0+-0x1edb,[At]:-0x30f*-0x1+0x49*0x1+-0x355,[qt]:0x48*-0x2+-0x2bd+-0x1*-0x351,[Ys]:-0x16*-0x173+0x1*-0x4d+0x5*-0x650,[ns]:-0x1*-0x1a23+0x4*-0x9bf+0xcdf,[_n]:-0x11c3*0x1+-0x13a3+0x256d,[jo]:-0x4*0x11a+0x1ad9+0x1*-0x1669,[Yo]:0xf*0x297+0x89*0xe+-0x2e4e,[Ko]:-0xd*0x167+-0x1*-0x17d6+0x3*-0x1db,[Zo]:-0xcb3+0x61*-0x46+0x2744,[Qo]:0x1*0x3b8+-0xcc6+0x5*0x1d2,[Jo]:0x1d84+-0x292+-0x99*0x2d},TD=_0x565b7c=>{switch(_0x565b7c){case Rc:return _0x40a68d=>Math['max'](_0x40a68d/(-0x14a2+0x424+0x10fd*0x1),-(-0x10e5+0x63b+0xaab));case Kr:return _0x19294d=>_0x19294d/(-0x1402+-0x2663*-0x1+-0x1162);case Ic:return _0x55e6a2=>Math['max'](_0x55e6a2/(-0x1*0xe0c8+0x67ea+0xf8dd),-(-0x7af+-0x16d*-0x13+-0x1367));case el:return _0x5d8e74=>_0x5d8e74/(-0x6fd7*0x4+0x450*0x49+0x1848b);default:return _0x5d8de4=>_0x5d8de4;}},xf=(_0x38d669,_0x89e356,_0x41a573)=>{const _0x480061=TD(_0x41a573),_0xf7263d=_0x89e356['length'];for(let _0xec5fb4=-0x9e+-0x1*-0x634+-0x596;_0xec5fb4<_0xf7263d;++_0xec5fb4)_0x38d669[_0xec5fb4]=_0x480061(_0x89e356[_0xec5fb4]);return _0x38d669;},sn=(_0x18a7c6,_0xb5137c,_0x393959=!(-0x1edc+0x1*-0x1d89+0x3c66))=>{const _0x44d339=$o(_0x18a7c6['type']),_0x14cb76=wD(_0x18a7c6['componentT'+'ype']);if(!_0x14cb76)return null;let _0x2a156b;if(_0x18a7c6['sparse']){const _0xf306b6=_0x18a7c6['sparse'],_0x4dcb1b={'count':_0xf306b6['count'],'type':'SCALAR'},_0x21f902=sn(Object['assign'](_0x4dcb1b,_0xf306b6['indices']),_0xb5137c,!(-0xf90+0x1*-0x2439+0x33c9*0x1)),_0x763fd6={'count':_0xf306b6['count'],'type':_0x18a7c6['type'],'componentType':_0x18a7c6['componentT'+'ype']},_0x12f256=sn(Object['assign'](_0x763fd6,_0xf306b6['values']),_0xb5137c,!(-0x26ae+0x46*-0xa+0x296a));if(_0x18a7c6['hasOwnProp'+'erty']('bufferView')){const _0xe52e5e={'bufferView':_0x18a7c6['bufferView'],'byteOffset':_0x18a7c6['byteOffset'],'componentType':_0x18a7c6['componentT'+'ype'],'count':_0x18a7c6['count'],'type':_0x18a7c6['type']};_0x2a156b=sn(_0xe52e5e,_0xb5137c,!(0x270d+-0x1a4+-0x3d*0x9d))['slice']();}else _0x2a156b=new _0x14cb76(_0x18a7c6['count']*_0x44d339);for(let _0x318b71=0x922+0x1170+-0x166*0x13;_0x318b71<_0xf306b6['count'];++_0x318b71){const _0xedc72e=_0x21f902[_0x318b71];for(let _0x53dcbb=-0x4*-0x305+-0x10a4+0x248*0x2;_0x53dcbb<_0x44d339;++_0x53dcbb)_0x2a156b[_0xedc72e*_0x44d339+_0x53dcbb]=_0x12f256[_0x318b71*_0x44d339+_0x53dcbb];}}else{if(_0x18a7c6['hasOwnProp'+'erty']('bufferView')){const _0xb5847e=_0xb5137c[_0x18a7c6['bufferView']];if(_0x393959&&_0xb5847e['hasOwnProp'+'erty']('byteStride')){const _0xf8874a=_0x44d339*_0x14cb76['BYTES_PER_'+'ELEMENT'],_0xafa18f=new ArrayBuffer(_0x18a7c6['count']*_0xf8874a),_0x461e27=new Uint8Array(_0xafa18f);let _0x520846=-0x1*-0x2271+0x1*-0x1187+0xa*-0x1b1;for(let _0x555e6a=0x1*-0xae5+0xf7b*0x2+-0x1*0x1411;_0x555e6a<_0x18a7c6['count'];++_0x555e6a){let _0x58ca54=(_0x18a7c6['byteOffset']||0x1cf*0xe+-0x1fc+-0x2*0xbab)+_0x555e6a*_0xb5847e['byteStride'];for(let _0x57e3ca=-0x693+0x19b4+-0x1321;_0x57e3ca<_0xf8874a;++_0x57e3ca)_0x461e27[_0x520846++]=_0xb5847e[_0x58ca54++];}_0x2a156b=new _0x14cb76(_0xafa18f);}else _0x2a156b=new _0x14cb76(_0xb5847e['buffer'],_0xb5847e['byteOffset']+(_0x18a7c6['byteOffset']||0x2122*-0x1+-0x193c*-0x1+0x7e6),_0x18a7c6['count']*_0x44d339);}else _0x2a156b=new _0x14cb76(_0x18a7c6['count']*_0x44d339);}return _0x2a156b;},ma=(_0x393e9d,_0x1589db)=>{const _0x252055=sn(_0x393e9d,_0x1589db,!(-0x203a+0x353*0x5+0xf9b));if(_0x252055 instanceof Float32Array||!_0x393e9d['normalized'])return _0x252055;const _0x47a12e=new Float32Array(_0x252055['length']);return xf(_0x47a12e,_0x252055,Jc(_0x393e9d['componentT'+'ype'])),_0x47a12e;},Sf=_0x5d4c59=>{let _0x2c16ad=_0x5d4c59['min'],_0x5890c7=_0x5d4c59['max'];if(!_0x2c16ad||!_0x5890c7)return null;if(_0x5d4c59['normalized']){const _0x168f6c=Jc(_0x5d4c59['componentT'+'ype']);_0x2c16ad=xf([],_0x2c16ad,_0x168f6c),_0x5890c7=xf([],_0x5890c7,_0x168f6c);}return new _e(new T((_0x5890c7[0x1cda+-0x242*-0x1+-0x1f1c]+_0x2c16ad[0x991+-0x2*0xbc+-0x819])*(-0x140e+0x1d4d+0x315*-0x3+0.5),(_0x5890c7[-0x9*-0x34a+-0x11ad*-0x1+-0x2f46]+_0x2c16ad[0x8a6+0x2bf+-0xb64])*(-0x1223+-0x6e9*-0x2+-0x55*-0xd+0.5),(_0x5890c7[0xce9+-0x2*0x6dd+0xd3]+_0x2c16ad[-0x1b0a+0x3*-0xbff+0x3f09*0x1])*(-0x1c96+0x1*-0x977+0x260d+0.5)),new T((_0x5890c7[-0x1191*-0x1+0x1250+-0x23e1]-_0x2c16ad[-0x89c+0x1a99*0x1+0x1*-0x11fd])*(0xb3*0x14+-0x23b4+0x15b8+0.5),(_0x5890c7[-0xa2a+0x16*0x10e+-0xd09]-_0x2c16ad[0xf3f+0xce*0x9+-0x59f*0x4])*(0x26b1*0x1+0x1f47+-0x8bf*0x8+0.5),(_0x5890c7[0x7e2+-0x17fb*-0x1+-0x1fdb]-_0x2c16ad[0x1332+-0xd71+-0x1*0x5bf])*(-0x5f*-0x49+0x71+-0x1b88+0.5)));},Ix=_0x3659ce=>{if(!_0x3659ce['hasOwnProp'+'erty']('mode'))return Ms;switch(_0x3659ce['mode']){case-0x1b51+-0x1530+0x3081:return Mc;case-0x35*0x3b+0x20c2+-0x148a:return Pc;case-0x15e9*0x1+0x9a9+-0x6*-0x20b:return My;case-0x4*-0x62e+0x231*-0x9+-0x2c*0x1d:return Py;case-0x1*-0x14e2+0x7ba+-0x4c4*0x6:return Ms;case 0x230e+-0x88c+-0x1*0x1a7d:return ar;case-0x17*-0x55+0x1024+-0x17c1:return Yr;default:return Ms;}},AD=_0x3e4cbc=>{const _0x1bc2ab=new Uint16Array(_0x3e4cbc);for(let _0x414569=-0x2*-0x46b+-0x7bd*0x2+0x6a4;_0x414569<_0x3e4cbc;_0x414569++)_0x1bc2ab[_0x414569]=_0x414569;return _0x1bc2ab;},ED=(_0x13aa7a,_0x559229)=>{const _0x30ebae=_0x13aa7a[He];if(!_0x30ebae||_0x30ebae['components']!==0x1*0x1cf9+0x1bf0+-0x38e6)return;let _0x2b3bc5;if(_0x30ebae['size']!==_0x30ebae['stride']){const _0x46bdc5=_0x30ebae['stride']/_o[_0x30ebae['type']],_0x1239df=new da[_0x30ebae['type']](_0x30ebae['buffer'],_0x30ebae['offset'],_0x30ebae['count']*_0x46bdc5);_0x2b3bc5=new da[_0x30ebae['type']](_0x30ebae['count']*(-0xe0b+-0x8*-0x448+0x37*-0x5e));for(let _0x3d570a=-0xac*-0x8+0x1728+-0x58*0x53;_0x3d570a<_0x30ebae['count'];++_0x3d570a)_0x2b3bc5[_0x3d570a*(-0x7ec*0x3+-0x4cf+0x1c96)+(0x1ba2+-0x8e*0x19+-0xdc4)]=_0x1239df[_0x3d570a*_0x46bdc5+(-0xcf6+0xc5a+-0x6*-0x1a)],_0x2b3bc5[_0x3d570a*(-0x191+-0x2*0x10d+0x3ae)+(-0x3*-0x569+0x2053+-0x308d)]=_0x1239df[_0x3d570a*_0x46bdc5+(0x1c2f+0x9a5+-0x25d3)],_0x2b3bc5[_0x3d570a*(0x1*0x1e19+-0x2164+0x34e)+(0x2345+0x8a7+-0x2bea)]=_0x1239df[_0x3d570a*_0x46bdc5+(-0x57a+0x1*-0x1da7+-0x707*-0x5)];}else _0x2b3bc5=new da[_0x30ebae['type']](_0x30ebae['buffer'],_0x30ebae['offset'],_0x30ebae['count']*(0x1e55+0x4fd+0x1*-0x234f));const _0x464c19=_0x30ebae['count'];_0x559229||(_0x559229=AD(_0x464c19));const _0x141dd7=k0(_0x2b3bc5,_0x559229),_0x4ae75f=new Float32Array(_0x141dd7['length']);_0x4ae75f['set'](_0x141dd7),_0x13aa7a[Yt]={'buffer':_0x4ae75f['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x464c19,'components':0x3,'type':Ee};},CD=_0x3a1559=>{const _0x438d4b=_0x508dc1=>{const _0x5e52df=[];for(let _0x17b2f9=0x1367+-0x6*0x388+-0x1c9*-0x1;_0x17b2f9<_0x508dc1['_levels']['length'];++_0x17b2f9){let _0x1555f4=[];if(_0x508dc1['cubemap']){for(let _0x273e11=-0x5ea+-0x5d*-0x25+0x1*-0x787;_0x273e11<-0xc98+0x72*0x2b+-0xd1*0x8;++_0x273e11)_0x1555f4['push'](_0x508dc1['_levels'][_0x17b2f9][_0x273e11]);}else _0x1555f4=_0x508dc1['_levels'][_0x17b2f9];_0x5e52df['push'](_0x1555f4);}return _0x5e52df;},_0x3217c8=new he(_0x3a1559['device'],_0x3a1559);return _0x3217c8['_levels']=_0x438d4b(_0x3a1559),_0x3217c8;},MD=_0xfa2594=>{const _0x10c084=new le(_0xfa2594['name']+'_clone',_0xfa2594['type'],_0xfa2594['file'],_0xfa2594['data'],_0xfa2594['options']);return _0x10c084['loaded']=!(-0x119b*0x1+0x1ec0*0x1+-0x2a1*0x5),_0x10c084['resource']=CD(_0xfa2594['resource']),_0xfa2594['registry']['add'](_0x10c084),_0x10c084;},PD=(_0x4e137a,_0x10e069)=>{const _0x2b1643=_0x10e069[He];if(!_0x2b1643)return null;const _0x53a383=_0x2b1643['count'],_0x2e8f5b=[];for(const _0x281fff in _0x10e069)if(_0x10e069['hasOwnProp'+'erty'](_0x281fff)){const _0x5c4c14={'semantic':_0x281fff,'components':_0x10e069[_0x281fff]['components'],'type':_0x10e069[_0x281fff]['type'],'normalize':!!_0x10e069[_0x281fff]['normalize']};Et['isElementV'+'alid'](_0x4e137a,_0x5c4c14)||_0x5c4c14['components']++,_0x2e8f5b['push'](_0x5c4c14);}_0x2e8f5b['sort']((_0x590926,_0x35348d)=>Bg[_0x590926['semantic']]-Bg[_0x35348d['semantic']]);let _0x3ce624,_0x33b7e3,_0x2cbaca,_0x239905,_0x129d00,_0x261d18;const _0x235fa9=new Et(_0x4e137a,_0x2e8f5b);let _0x41c497=!(-0x1fd8+0x112b+0xead);for(_0x3ce624=0x2273+0x1c10+-0x1*0x3e83;_0x3ce624<_0x235fa9['elements']['length'];++_0x3ce624)if(_0x129d00=_0x235fa9['elements'][_0x3ce624],_0x239905=_0x10e069[_0x129d00['name']],_0x261d18=_0x239905['offset']-_0x2b1643['offset'],_0x239905['buffer']!==_0x2b1643['buffer']||_0x239905['stride']!==_0x129d00['stride']||_0x239905['size']!==_0x129d00['size']||_0x261d18!==_0x129d00['offset']){_0x41c497=!(-0x5+0x11*0xc5+-0xd0f*0x1);break;}const _0x50efb6=new os(_0x4e137a,_0x235fa9,_0x53a383),_0x12ede8=_0x50efb6['lock'](),_0x513093=new Uint32Array(_0x12ede8);let _0x13dae3;if(_0x41c497)_0x13dae3=new Uint32Array(_0x2b1643['buffer'],_0x2b1643['offset'],_0x53a383*_0x50efb6['format']['size']/(-0xeda+0x323*0x1+0xbbb)),_0x513093['set'](_0x13dae3);else{let _0x593c5a,_0x3623b1;for(_0x3ce624=0xb7*0x24+-0xd*0x133+-0xa25;_0x3ce624<_0x50efb6['format']['elements']['length'];++_0x3ce624){_0x129d00=_0x50efb6['format']['elements'][_0x3ce624],_0x593c5a=_0x129d00['stride']/(-0x5*0x1b1+-0x1412+0x1c8b),_0x239905=_0x10e069[_0x129d00['name']],_0x3623b1=_0x239905['stride']/(0x1bec+0x13e+-0xb6*0x29),_0x13dae3=new Uint32Array(_0x239905['buffer'],_0x239905['offset'],(_0x239905['count']-(-0x1*0x12e5+-0x35b*0x7+0xe21*0x3))*_0x3623b1+(_0x239905['size']+(0x1e7*0x1+0xfa1+-0x1185))/(-0x1*0x1526+0x43*0x67+0x5cb*-0x1));let _0x298870=0x3*-0x486+-0xa*-0x283+-0xb8c,_0x17600c=_0x129d00['offset']/(-0x1*0x1cfd+0xa70*-0x2+-0x31e1*-0x1);const _0x370596=Math['floor']((_0x239905['size']+(-0x556*-0x6+0x34*-0x56+0x1*-0xe89))/(-0x3*-0x1df+-0x4*0xd4+0x9*-0x41));for(_0x33b7e3=0x26c+0x1e97+0x1*-0x2103;_0x33b7e3<_0x53a383;++_0x33b7e3){for(_0x2cbaca=0x71f*-0x5+-0x17e*0x9+-0x3109*-0x1;_0x2cbaca<_0x370596;++_0x2cbaca)_0x513093[_0x17600c+_0x2cbaca]=_0x13dae3[_0x298870+_0x2cbaca];_0x298870+=_0x3623b1,_0x17600c+=_0x593c5a;}}}return _0x50efb6['unlock'](),_0x50efb6;},RD=(_0x49035a,_0x1395c4,_0x93cfad,_0x3234bd,_0x5d12f1,_0x458a9f)=>{const _0x55a9ce={},_0x236e80=[];for(const _0x4e589e in _0x1395c4)_0x1395c4['hasOwnProp'+'erty'](_0x4e589e)&&ec['hasOwnProp'+'erty'](_0x4e589e)&&(_0x55a9ce[_0x4e589e]=_0x1395c4[_0x4e589e],_0x236e80['push'](_0x4e589e+':'+_0x1395c4[_0x4e589e]));_0x236e80['sort']();const _0x309d8c=_0x236e80['join']();let _0x2849e1=_0x458a9f[_0x309d8c];if(!_0x2849e1){const _0x3e2c59={};for(const _0x393f46 in _0x55a9ce){const _0x44ada0=_0x3234bd[_0x1395c4[_0x393f46]],_0x207185=sn(_0x44ada0,_0x5d12f1),_0x2e75b0=_0x5d12f1[_0x44ada0['bufferView']],_0x31b5a6=ec[_0x393f46],_0x4378fb=$o(_0x44ada0['type'])*bD(_0x44ada0['componentT'+'ype']),_0x31a0d6=_0x2e75b0&&_0x2e75b0['hasOwnProp'+'erty']('byteStride')?_0x2e75b0['byteStride']:_0x4378fb;_0x3e2c59[_0x31b5a6]={'buffer':_0x207185['buffer'],'size':_0x4378fb,'offset':_0x207185['byteOffset'],'stride':_0x31a0d6,'count':_0x44ada0['count'],'components':$o(_0x44ada0['type']),'type':Jc(_0x44ada0['componentT'+'ype']),'normalize':_0x44ada0['normalized']};}_0x3e2c59['hasOwnProp'+'erty'](Yt)||ED(_0x3e2c59,_0x93cfad),_0x2849e1=PD(_0x49035a,_0x3e2c59),_0x458a9f[_0x309d8c]=_0x2849e1;}return _0x2849e1;},ID=(_0x2bfbb2,_0x980c2e,_0x2d0e62,_0x22444,_0x5dfd44,_0x2877b0)=>{let _0x5b3f31,_0x4d88be,_0x2ec754;const _0x2bcf39=_0x980c2e['joints'],_0x536797=_0x2bcf39['length'],_0x26580d=[];if(_0x980c2e['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x3c5086=_0x980c2e['inverseBin'+'dMatrices'],_0x462397=sn(_0x2d0e62[_0x3c5086],_0x22444,!(-0x185e+-0x1a1*0x10+0x326e*0x1)),_0x4b7864=[];for(_0x5b3f31=-0x25eb*-0x1+-0xb*0xf2+-0x1b85;_0x5b3f31<_0x536797;_0x5b3f31++){for(_0x4d88be=0x5fe+0x210c+-0x2*0x1385;_0x4d88be<0x2380+0x26c*0xd+0x4*-0x10bb;_0x4d88be++)_0x4b7864[_0x4d88be]=_0x462397[_0x5b3f31*(-0x1906+-0x967+0x227d)+_0x4d88be];_0x2ec754=new q(),_0x2ec754['set'](_0x4b7864),_0x26580d['push'](_0x2ec754);}}else{for(_0x5b3f31=0x6e9*-0x3+-0x868*-0x4+-0x1*0xce5;_0x5b3f31<_0x536797;_0x5b3f31++)_0x2ec754=new q(),_0x26580d['push'](_0x2ec754);}const _0x3d5a93=[];for(_0x5b3f31=-0x14af+0x12d2+0x35*0x9;_0x5b3f31<_0x536797;_0x5b3f31++)_0x3d5a93[_0x5b3f31]=_0x5dfd44[_0x2bcf39[_0x5b3f31]]['name'];const _0x42f82a=_0x3d5a93['join']('#');let _0x3f58db=_0x2877b0['get'](_0x42f82a);return _0x3f58db||(_0x3f58db=new N0(_0x2bfbb2,_0x26580d,_0x3d5a93),_0x2877b0['set'](_0x42f82a,_0x3f58db)),_0x3f58db;},DD=(_0x47e982,_0x194f7f,_0xac0a6d,_0x58d7f8,_0x4f8200,_0x488e65,_0x25853d)=>{var _0x272583;const _0x41e07c=new Ie(_0x47e982);_0x41e07c['aabb']=Sf(_0xac0a6d[_0x194f7f['attributes']['POSITION']]);const _0x474da5=[];for(const [_0x315fe8,_0x11a074]of Object['entries'](_0x194f7f['attributes'])){const _0x333fc3=_0xac0a6d[_0x11a074],_0x5a40f3=ec[_0x315fe8],_0x5a8e7f=Jc(_0x333fc3['componentT'+'ype']);_0x474da5['push']({'semantic':_0x5a40f3,'components':$o(_0x333fc3['type']),'type':_0x5a8e7f,'normalize':_0x333fc3['normalized']??(_0x5a40f3===At&&(_0x5a8e7f===Kr||_0x5a8e7f===el))});}if(_0x25853d['push'](new Promise((_0xdb8cae,_0x9fb9ef)=>{const _0xa0c5c7=_0x194f7f['extensions']['KHR_draco_'+'mesh_compr'+'ession'];xD(_0x58d7f8[_0xa0c5c7['bufferView']]['slice']()['buffer'],(_0x2459fe,_0xbe2823)=>{var _0x18e5de;if(_0x2459fe)console['log'](_0x2459fe),_0x9fb9ef(_0x2459fe);else{const _0x2b1262={};for(const [_0x53c0e7,_0x2a2386]of Object['entries'](_0xa0c5c7['attributes']))_0x2b1262[ec[_0x53c0e7]]=_0xbe2823['attributes']['indexOf'](_0x2a2386);_0x474da5['sort']((_0x4770d1,_0x2c1091)=>_0x2b1262[_0x4770d1['semantic']]-_0x2b1262[_0x2c1091['semantic']]),(_0x18e5de=_0x194f7f['attributes'])!=null&&_0x18e5de['NORMAL']||_0x474da5['splice'](-0x19db+0x1a17+-0x3b*0x1,-0x2709*0x1+0x685*0x5+-0x2*-0x338,{'semantic':'NORMAL','components':0x3,'type':Ee});const _0x30b84d=new Et(_0x47e982,_0x474da5),_0x467a67=_0xbe2823['vertices']['byteLength']/_0x30b84d['size'],_0x274303=_0x467a67<=-0x2ce*-0x35+0x1aa34+0x1e3*-0xa9?Pi:nr,_0x17ae61=_0xbe2823['indices']['byteLength']/(_0x467a67<=0xb9*-0x19a+-0x5*0xd5+-0x16*-0x194b?0x9c1+0x1*0x637+-0xff6:0x2c8+-0x8bf+0x5fb*0x1);v['call'](()=>{_0x467a67!==_0xac0a6d[_0x194f7f['attributes']['POSITION']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x17ae61!==_0xac0a6d[_0x194f7f['indices']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x33bfc5=new os(_0x47e982,_0x30b84d,_0x467a67,{'data':_0xbe2823['vertices']}),_0x2beea0=new lr(_0x47e982,_0x274303,_0x17ae61,jt,_0xbe2823['indices']);_0x41e07c['vertexBuff'+'er']=_0x33bfc5,_0x41e07c['indexBuffe'+'r'][0x1a2a+0x1*0x144d+-0x2e77]=_0x2beea0,_0x41e07c['primitive'][0xbd9+0x7*0x581+-0x3260]['type']=Ix(_0x194f7f),_0x41e07c['primitive'][-0xb*-0x116+0xfba+-0x1bac]['base']=0xd*-0x5b+0x1*0xa9+0x3f6,_0x41e07c['primitive'][-0x4d6*0x1+-0x7*0x211+0x134d*0x1]['count']=_0x2beea0?_0x17ae61:_0x467a67,_0x41e07c['primitive'][0x20*-0xc6+-0x5*0x3bd+0x2b71]['indexed']=!!_0x2beea0,_0xdb8cae();}});})),(_0x272583=_0x194f7f==null?void(0x1*-0x1c1+-0x6*-0x2a3+-0xe11):_0x194f7f['extensions'])!=null&&_0x272583['KHR_materi'+'als_varian'+'ts']){const _0x1c8165=_0x194f7f['extensions']['KHR_materi'+'als_varian'+'ts'],_0x19282b={};_0x1c8165['mappings']['forEach'](_0x2c5c07=>{_0x2c5c07['variants']['forEach'](_0x1bbd49=>{_0x19282b[_0x1bbd49]=_0x2c5c07['material'];});}),_0x4f8200[_0x41e07c['id']]=_0x19282b;}return _0x488e65[_0x41e07c['id']]=_0x194f7f['material'],_0x41e07c;},LD=(_0x135197,_0xabda80,_0x31d521,_0x3232c7,_0x454c78,_0x1ec22c,_0x1f3bbb,_0xd44a5c,_0x470a27)=>{const _0x331c4d=[];return _0xabda80['primitives']['forEach'](_0x3c118f=>{var _0x2508da;if((_0x2508da=_0x3c118f['extensions'])!=null&&_0x2508da['KHR_draco_'+'mesh_compr'+'ession'])_0x331c4d['push'](DD(_0x135197,_0x3c118f,_0x31d521,_0x3232c7,_0x1ec22c,_0x1f3bbb,_0x470a27));else{let _0x296605=_0x3c118f['hasOwnProp'+'erty']('indices')?sn(_0x31d521[_0x3c118f['indices']],_0x3232c7,!(-0x35*0xa7+0x835*-0x2+0x3*0x10ff)):null;const _0x170eee=RD(_0x135197,_0x3c118f['attributes'],_0x296605,_0x31d521,_0x3232c7,_0x454c78),_0x33b37e=Ix(_0x3c118f),_0x1c08aa=new Ie(_0x135197);if(_0x1c08aa['vertexBuff'+'er']=_0x170eee,_0x1c08aa['primitive'][-0x45*-0x1+-0x400*0x2+0x7bb]['type']=_0x33b37e,_0x1c08aa['primitive'][0x1603+-0x2*-0x6fb+-0x23f9]['base']=-0x26b*0x5+-0x1750+0x2367,_0x1c08aa['primitive'][0x1*-0x25e1+0x2*-0xc4a+0x3b*0x10f]['indexed']=_0x296605!==null,_0x296605!==null){let _0xe6a816;_0x296605 instanceof Uint8Array?_0xe6a816=pu:_0x296605 instanceof Uint16Array?_0xe6a816=Pi:_0xe6a816=nr,_0xe6a816===pu&&_0x135197['isWebGPU']&&(_0xe6a816=Pi,_0x296605=new Uint16Array(_0x296605));const _0x59b3b3=new lr(_0x135197,_0xe6a816,_0x296605['length'],jt,_0x296605);_0x1c08aa['indexBuffe'+'r'][-0x2*0xb11+-0xb1c*0x2+0x2c5a]=_0x59b3b3,_0x1c08aa['primitive'][0x29*-0xb9+0x7*-0x451+-0x2*-0x1dec]['count']=_0x296605['length'];}else _0x1c08aa['primitive'][-0x1*0xa1f+0x7*-0x446+-0x25*-0x115]['count']=_0x170eee['numVertice'+'s'];if(_0x3c118f['hasOwnProp'+'erty']('extensions')&&_0x3c118f['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x452223=_0x3c118f['extensions']['KHR_materi'+'als_varian'+'ts'],_0x1ebb2c={};_0x452223['mappings']['forEach'](_0x5689b4=>{_0x5689b4['variants']['forEach'](_0x3f5323=>{_0x1ebb2c[_0x3f5323]=_0x5689b4['material'];});}),_0x1ec22c[_0x1c08aa['id']]=_0x1ebb2c;}_0x1f3bbb[_0x1c08aa['id']]=_0x3c118f['material'];let _0x4ae148=_0x31d521[_0x3c118f['attributes']['POSITION']];if(_0x1c08aa['aabb']=Sf(_0x4ae148),_0x3c118f['hasOwnProp'+'erty']('targets')){const _0xc87922=[];_0x3c118f['targets']['forEach']((_0x1e9e87,_0xb0d393)=>{const _0x1507fd={};_0x1e9e87['hasOwnProp'+'erty']('POSITION')&&(_0x4ae148=_0x31d521[_0x1e9e87['POSITION']],_0x1507fd['deltaPosit'+'ions']=ma(_0x4ae148,_0x3232c7),_0x1507fd['aabb']=Sf(_0x4ae148)),_0x1e9e87['hasOwnProp'+'erty']('NORMAL')&&(_0x4ae148=_0x31d521[_0x1e9e87['NORMAL']],_0x1507fd['deltaNorma'+'ls']=ma(_0x4ae148,_0x3232c7)),_0xabda80['hasOwnProp'+'erty']('extras')&&_0xabda80['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x1507fd['name']=_0xabda80['extras']['targetName'+'s'][_0xb0d393]:_0x1507fd['name']=_0xb0d393['toString'](0x47*-0x28+-0x7e*0x2+0xc1e),_0xabda80['hasOwnProp'+'erty']('weights')&&(_0x1507fd['defaultWei'+'ght']=_0xabda80['weights'][_0xb0d393]),_0x1507fd['preserveDa'+'ta']=_0xd44a5c['morphPrese'+'rveData'],_0xc87922['push'](new Qc(_0x1507fd));}),_0x1c08aa['morph']=new F0(_0xc87922,_0x135197,{'preferHighPrecision':_0xd44a5c['morphPrefe'+'rHighPreci'+'sion']});}_0x331c4d['push'](_0x1c08aa);}}),_0x331c4d;},ft=(_0x592c1d,_0x1c4176,_0x4e5e28)=>{var _0x404878;let _0x225af8;const _0x294478=_0x592c1d['texCoord'];if(_0x294478){for(_0x225af8=-0x4a7+0x1e0a+0x1*-0x1963;_0x225af8<_0x4e5e28['length'];++_0x225af8)_0x1c4176[_0x4e5e28[_0x225af8]+'MapUv']=_0x294478;}const _0x45250d=[0x190*0x3+-0x11c0+0xd10,0xb0+0x12e7*0x1+0x5*-0x3eb],_0x5baef7=[-0x2005*0x1+0x2*0x319+0x19d4,0x198e+-0x3b*0x3d+-0x5bf*0x2],_0x16766a=(_0x404878=_0x592c1d['extensions'])==null?void(-0x266b+0x20d2+-0x1*-0x599):_0x404878['KHR_textur'+'e_transfor'+'m'];if(_0x16766a){const _0x38202e=_0x16766a['offset']||_0x45250d,_0x577489=_0x16766a['scale']||_0x5baef7,_0x59b1ae=_0x16766a['rotation']?-_0x16766a['rotation']*N['RAD_TO_DEG']:-0x1939*0x1+-0xb8+0x19f1,_0xfb5fdc=new $(_0x577489[-0x135b+-0xa9c+-0x1df7*-0x1],_0x577489[0x307*-0x1+-0x1e40*-0x1+-0x1b38]),_0x35087d=new $(_0x38202e[-0xf8*0x15+0xfa4+-0x2b*-0x1c],-0x2*0x59c+0x3*0x86b+-0x704*0x2-_0x577489[-0xfd1+-0x940+0x1912]-_0x38202e[0x121+0x71*-0x6+0x6*0x41]);for(_0x225af8=-0x1f9d+-0x1*0x201d+-0x2*-0x1fdd;_0x225af8<_0x4e5e28['length'];++_0x225af8)_0x1c4176[_0x4e5e28[_0x225af8]+'MapTiling']=_0xfb5fdc,_0x1c4176[_0x4e5e28[_0x225af8]+'MapOffset']=_0x35087d,_0x1c4176[_0x4e5e28[_0x225af8]+('MapRotatio'+'n')]=_0x59b1ae;}},FD=(_0x56b5ac,_0x902c18,_0x44c836)=>{let _0x22db77,_0x38d432;if(_0x56b5ac['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x22db77=_0x56b5ac['diffuseFac'+'tor'],_0x902c18['diffuse']['set'](Math['pow'](_0x22db77[0x1273+-0x215b+0xee8],(-0x3fd+-0x1766*-0x1+-0x1368)/(-0x47+0x302+-0x2b9+0.20000000000000018)),Math['pow'](_0x22db77[-0xb*-0x2d9+-0x6*-0x65f+0x458c*-0x1],(-0x1*0x120e+-0x1d4+-0x13e3*-0x1)/(0xf*-0x293+0x1b1a+-0x3d7*-0x3+0.20000000000000018)),Math['pow'](_0x22db77[-0x25a*-0x4+-0x14db+-0x7*-0x1a3],(0x3*-0x925+-0x15d*0xa+0x2912)/(-0x43f*-0x2+-0x808+-0x74+0.20000000000000018))),_0x902c18['opacity']=_0x22db77[-0xe1*0x1c+-0x1e4c+-0x11*-0x33b]):(_0x902c18['diffuse']['set'](-0x1e1f+-0x2*-0x65f+0x19*0xb2,0x182e+-0x6*-0x4f0+-0x1*0x35cd,0x5*0x509+0x1*-0x18f9+-0x33),_0x902c18['opacity']=0x502*-0x5+-0x1e85+0x3790),_0x56b5ac['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x546c28=_0x56b5ac['diffuseTex'+'ture'];_0x38d432=_0x44c836[_0x546c28['index']],_0x902c18['diffuseMap']=_0x38d432,_0x902c18['diffuseMap'+'Channel']='rgb',_0x902c18['opacityMap']=_0x38d432,_0x902c18['opacityMap'+'Channel']='a',ft(_0x546c28,_0x902c18,['diffuse','opacity']);}if(_0x902c18['useMetalne'+'ss']=!(-0x7*-0x55+-0x1*0x1ae4+0x1892),_0x56b5ac['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x22db77=_0x56b5ac['specularFa'+'ctor'],_0x902c18['specular']['set'](Math['pow'](_0x22db77[0x715+-0x10*0x1aa+-0x1*-0x138b],(0xc2*0x8+0x121d+0x77*-0x34)/(-0x1e75+0x368+0x3*0x905+0.20000000000000018)),Math['pow'](_0x22db77[-0x23af+0x7c3+0x1bed],(0x1074+0x64f+0x3cb*-0x6)/(0x2137+-0x4*-0x144+-0x2645+0.20000000000000018)),Math['pow'](_0x22db77[-0x1*-0x61d+-0x4df*0x5+0x1240],(0x7*-0x4c7+0x11a5+-0x329*-0x5)/(0x1*0x1cf9+-0x37f+0x28c*-0xa+0.20000000000000018)))):_0x902c18['specular']['set'](0xbb*-0x2d+0x5fb*-0x1+-0x58d*-0x7,-0xdf1*-0x2+0x1ede+-0x3abf,0x684+0x1c5+-0x848),_0x56b5ac['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x902c18['gloss']=_0x56b5ac['glossiness'+'Factor']:_0x902c18['gloss']=-0x2f*-0x20+0x3a1*-0x7+0x1388,_0x56b5ac['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x4d78a2=_0x56b5ac['specularGl'+'ossinessTe'+'xture'];_0x902c18['specularEn'+'coding']='srgb',_0x902c18['specularMa'+'p']=_0x902c18['glossMap']=_0x44c836[_0x4d78a2['index']],_0x902c18['specularMa'+'pChannel']='rgb',_0x902c18['glossMapCh'+'annel']='a',ft(_0x4d78a2,_0x902c18,['gloss','metalness']);}},OD=(_0x25eb66,_0x237e8e,_0x9de1ba)=>{if(_0x25eb66['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x237e8e['clearCoat']=_0x25eb66['clearcoatF'+'actor']*(-0x29*-0x6f+-0x3d+-0x118a+0.25):_0x237e8e['clearCoat']=-0x1d56+0x1241*0x1+0x1*0xb15,_0x25eb66['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0xf3e29c=_0x25eb66['clearcoatT'+'exture'];_0x237e8e['clearCoatM'+'ap']=_0x9de1ba[_0xf3e29c['index']],_0x237e8e['clearCoatM'+'apChannel']='r',ft(_0xf3e29c,_0x237e8e,['clearCoat']);}if(_0x25eb66['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x237e8e['clearCoatG'+'loss']=_0x25eb66['clearcoatR'+'oughnessFa'+'ctor']:_0x237e8e['clearCoatG'+'loss']=-0x164b+-0x1589+-0x3fc*-0xb,_0x25eb66['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x524648=_0x25eb66['clearcoatR'+'oughnessTe'+'xture'];_0x237e8e['clearCoatG'+'lossMap']=_0x9de1ba[_0x524648['index']],_0x237e8e['clearCoatG'+'lossMapCha'+'nnel']='g',ft(_0x524648,_0x237e8e,['clearCoatG'+'loss']);}if(_0x25eb66['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x225562=_0x25eb66['clearcoatN'+'ormalTextu'+'re'];_0x237e8e['clearCoatN'+'ormalMap']=_0x9de1ba[_0x225562['index']],ft(_0x225562,_0x237e8e,['clearCoatN'+'ormal']),_0x225562['hasOwnProp'+'erty']('scale')&&(_0x237e8e['clearCoatB'+'umpiness']=_0x225562['scale']);}_0x237e8e['clearCoatG'+'lossInvert']=!(0x539+-0xa*0x8+0x4e9*-0x1);},kD=(_0x28069d,_0x4fadee,_0x3d5bf2)=>{_0x4fadee['useLightin'+'g']=!(0x1dc8+0x269a+0x16cb*-0x3),_0x4fadee['emissive']['copy'](_0x4fadee['diffuse']),_0x4fadee['emissiveMa'+'p']=_0x4fadee['diffuseMap'],_0x4fadee['emissiveMa'+'pUv']=_0x4fadee['diffuseMap'+'Uv'],_0x4fadee['emissiveMa'+'pTiling']['copy'](_0x4fadee['diffuseMap'+'Tiling']),_0x4fadee['emissiveMa'+'pOffset']['copy'](_0x4fadee['diffuseMap'+'Offset']),_0x4fadee['emissiveMa'+'pRotation']=_0x4fadee['diffuseMap'+'Rotation'],_0x4fadee['emissiveMa'+'pChannel']=_0x4fadee['diffuseMap'+'Channel'],_0x4fadee['emissiveVe'+'rtexColor']=_0x4fadee['diffuseVer'+'texColor'],_0x4fadee['emissiveVe'+'rtexColorC'+'hannel']=_0x4fadee['diffuseVer'+'texColorCh'+'annel'],_0x4fadee['useLightin'+'g']=!(0x32d*0x1+-0xbcb+-0x89f*-0x1),_0x4fadee['useSkybox']=!(0x9*0xfd+0xd*-0x233+0x13b3),_0x4fadee['diffuse']['set'](-0xbf7*-0x2+-0xe2d+-0x4e0*0x2,-0x1*0x21e9+0x282+0x1f68,0x206f+0xdcf+0x59*-0x85),_0x4fadee['diffuseMap']=null,_0x4fadee['diffuseVer'+'texColor']=!(0xd5b+-0x2357+0x1b1*0xd);},BD=(_0x3f41ea,_0x1ed740,_0x183a6a)=>{if(_0x1ed740['useMetalne'+'ssSpecular'+'Color']=!(-0x1f*0x65+0x14ee+0x8b3*-0x1),_0x3f41ea['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x1ed740['specularEn'+'coding']='srgb',_0x1ed740['specularMa'+'p']=_0x183a6a[_0x3f41ea['specularCo'+'lorTexture']['index']],_0x1ed740['specularMa'+'pChannel']='rgb',ft(_0x3f41ea['specularCo'+'lorTexture'],_0x1ed740,['specular'])),_0x3f41ea['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x231a87=_0x3f41ea['specularCo'+'lorFactor'];_0x1ed740['specular']['set'](Math['pow'](_0x231a87[0x97b+0x1*-0x16b+-0x3*0x2b0],(0x10cd+-0x37*0x5b+0x2c1)/(-0x1681+0xd*0x1d+0x150a+0.20000000000000018)),Math['pow'](_0x231a87[0x23ee+0x39f*0x4+0xa15*-0x5],(-0x157+-0x7be*-0x1+-0x333*0x2)/(0x239*-0xc+-0x101*-0x17+0x397*0x1+0.20000000000000018)),Math['pow'](_0x231a87[-0x1d*-0x119+0x270+-0x2243*0x1],(0xcaa*0x2+-0x4a*-0x30+-0x2733*0x1)/(-0x1*0x1d0f+-0x240c+0x411d+0.20000000000000018)));}else _0x1ed740['specular']['set'](0x440+-0x19be+0x1*0x157f,0xb74+-0x1*0x2353+0x17e0,0x2d6+-0x236*-0x3+-0x977);_0x3f41ea['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x1ed740['specularit'+'yFactor']=_0x3f41ea['specularFa'+'ctor']:_0x1ed740['specularit'+'yFactor']=0x63d+0x21b1*-0x1+0x1*0x1b75,_0x3f41ea['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x1ed740['specularit'+'yFactorMap'+'Channel']='a',_0x1ed740['specularit'+'yFactorMap']=_0x183a6a[_0x3f41ea['specularTe'+'xture']['index']],ft(_0x3f41ea['specularTe'+'xture'],_0x1ed740,['specularit'+'yFactor']));},ND=(_0x34790f,_0x21d219,_0x589f33)=>{_0x34790f['hasOwnProp'+'erty']('ior')&&(_0x21d219['refraction'+'Index']=(0x3*-0x14b+-0xd*0xd6+0x3b*0x40)/_0x34790f['ior']);},zD=(_0x11f756,_0x2e28c7,_0x2cc9d4)=>{_0x11f756['hasOwnProp'+'erty']('dispersion')&&(_0x2e28c7['dispersion']=_0x11f756['dispersion']);},UD=(_0x1e69c7,_0x1305b0,_0x2a1c15)=>{_0x1305b0['blendType']=Kt,_0x1305b0['useDynamic'+'Refraction']=!(0x2507*-0x1+0x170a+0xdfd),_0x1e69c7['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x1305b0['refraction']=_0x1e69c7['transmissi'+'onFactor']),_0x1e69c7['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x1305b0['refraction'+'MapChannel']='r',_0x1305b0['refraction'+'Map']=_0x2a1c15[_0x1e69c7['transmissi'+'onTexture']['index']],ft(_0x1e69c7['transmissi'+'onTexture'],_0x1305b0,['refraction']));},VD=(_0x2b22b3,_0x23d139,_0x1e0883)=>{if(_0x23d139['useSheen']=!(-0xb84*-0x1+-0xfc5+-0x21*-0x21),_0x2b22b3['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x37d83e=_0x2b22b3['sheenColor'+'Factor'];_0x23d139['sheen']['set'](Math['pow'](_0x37d83e[0x13c3+-0x2c9+-0x10fa],(-0xda9+-0x78*0x43+0x2d12)/(-0x198d+0x238d+-0x9fe*0x1+0.20000000000000018)),Math['pow'](_0x37d83e[0x1*0x15a1+-0x142*-0x15+0x45e*-0xb],(0x1*0xcb9+-0xa*0x9d+-0x696)/(0x12fd*-0x1+0x12a*0x1+-0x53*-0x37+0.20000000000000018)),Math['pow'](_0x37d83e[-0x6f1*0x2+0x2322+-0xa9f*0x2],(0x30c+-0x4b1*0x5+0x146a)/(0xd*-0xc2+0xd4c+-0x370+0.20000000000000018)));}else _0x23d139['sheen']['set'](-0x14ea+-0x2359*-0x1+0x737*-0x2,-0x1b25+-0x12db+0x2e01*0x1,-0x4*0x149+0x172d+-0x482*0x4);_0x2b22b3['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x23d139['sheenMap']=_0x1e0883[_0x2b22b3['sheenColor'+'Texture']['index']],_0x23d139['sheenEncod'+'ing']='srgb',ft(_0x2b22b3['sheenColor'+'Texture'],_0x23d139,['sheen'])),_0x23d139['sheenGloss']=_0x2b22b3['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x2b22b3['sheenRough'+'nessFactor']:-0xc*-0xea+-0x1*0x23c3+0x18cb,_0x2b22b3['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x23d139['sheenGloss'+'Map']=_0x1e0883[_0x2b22b3['sheenRough'+'nessTextur'+'e']['index']],_0x23d139['sheenGloss'+'MapChannel']='a',ft(_0x2b22b3['sheenRough'+'nessTextur'+'e'],_0x23d139,['sheenGloss'])),_0x23d139['sheenGloss'+'Invert']=!(0xed*0x7+-0x144d+-0x3d*-0x3a);},GD=(_0x4ceb1a,_0x2e489e,_0x5175d0)=>{if(_0x2e489e['blendType']=Kt,_0x2e489e['useDynamic'+'Refraction']=!(-0x1*-0x169f+-0x3*-0x1d+-0x16f6),_0x4ceb1a['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x2e489e['thickness']=_0x4ceb1a['thicknessF'+'actor']),_0x4ceb1a['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x2e489e['thicknessM'+'ap']=_0x5175d0[_0x4ceb1a['thicknessT'+'exture']['index']],_0x2e489e['thicknessM'+'apChannel']='g',ft(_0x4ceb1a['thicknessT'+'exture'],_0x2e489e,['thickness'])),_0x4ceb1a['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x2e489e['attenuatio'+'nDistance']=_0x4ceb1a['attenuatio'+'nDistance']),_0x4ceb1a['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0xee0d95=_0x4ceb1a['attenuatio'+'nColor'];_0x2e489e['attenuatio'+'n']['set'](Math['pow'](_0xee0d95[-0x7b0+-0x10b*-0xb+0x13*-0x33],(-0x17e7+-0x7*0x205+-0x260b*-0x1)/(-0x215+0x7e+0x199+0.20000000000000018)),Math['pow'](_0xee0d95[0x1568+0x1*0x1ab9+-0x6e*0x70],(-0x1a67+0xe3f+0xc29)/(0xc8e*0x1+-0x1300+0x674+0.20000000000000018)),Math['pow'](_0xee0d95[-0x5b1+0xa45+-0xf*0x4e],(0x3*-0x3d7+-0x1*-0x11a1+-0x61b)/(-0x2*-0xc04+-0x40b+-0x13fb+0.20000000000000018)));}},HD=(_0x362350,_0x2fefda,_0x5e1b4b)=>{_0x362350['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x2fefda['emissiveIn'+'tensity']=_0x362350['emissiveSt'+'rength']);},$D=(_0x5c9f6d,_0x16b7bd,_0x5a85bb)=>{_0x16b7bd['useIridesc'+'ence']=!(0x304+-0x110+-0x1f4),_0x5c9f6d['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x16b7bd['iridescenc'+'e']=_0x5c9f6d['iridescenc'+'eFactor']),_0x5c9f6d['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x16b7bd['iridescenc'+'eMapChanne'+'l']='r',_0x16b7bd['iridescenc'+'eMap']=_0x5a85bb[_0x5c9f6d['iridescenc'+'eTexture']['index']],ft(_0x5c9f6d['iridescenc'+'eTexture'],_0x16b7bd,['iridescenc'+'e'])),_0x5c9f6d['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x16b7bd['iridescenc'+'eRefractio'+'nIndex']=_0x5c9f6d['iridescenc'+'eIor']),_0x5c9f6d['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x16b7bd['iridescenc'+'eThickness'+'Min']=_0x5c9f6d['iridescenc'+'eThickness'+'Minimum']),_0x5c9f6d['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x16b7bd['iridescenc'+'eThickness'+'Max']=_0x5c9f6d['iridescenc'+'eThickness'+'Maximum']),_0x5c9f6d['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x16b7bd['iridescenc'+'eThickness'+'MapChannel']='g',_0x16b7bd['iridescenc'+'eThickness'+'Map']=_0x5a85bb[_0x5c9f6d['iridescenc'+'eThickness'+'Texture']['index']],ft(_0x5c9f6d['iridescenc'+'eThickness'+'Texture'],_0x16b7bd,['iridescenc'+'eThickness']));},Dx=(_0x56cdfa,_0xb3e9e3)=>{const _0x223585=new cs();_0x56cdfa['hasOwnProp'+'erty']('name')&&(_0x223585['name']=_0x56cdfa['name']),_0x223585['occludeSpe'+'cular']=Bo,_0x223585['diffuseVer'+'texColor']=!(0x1*-0x373+-0x273+0x5e6),_0x223585['specularTi'+'nt']=!(-0x7*0x19+0x1*-0x2029+-0x1*-0x20d8),_0x223585['specularVe'+'rtexColor']=!(0xed1+0xa99+-0xcb5*0x2),_0x223585['specular']['set'](0x1*0x25a3+-0x3*-0x653+-0x389b,0x10d1+-0x264+-0xe6c,0xd6f+-0xfab+-0x3*-0xbf),_0x223585['gloss']=-0xb*-0x159+-0x8*-0x397+-0x15c5*0x2,_0x223585['glossInver'+'t']=!(-0x1ff3*-0x1+0x1638+0x7bd*-0x7),_0x223585['useMetalne'+'ss']=!(-0x1*0x1f49+0xb17*-0x1+0x2a60);let _0x589b7e,_0x2764ba;if(_0x56cdfa['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x5c5a0c=_0x56cdfa['pbrMetalli'+'cRoughness'];if(_0x5c5a0c['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x589b7e=_0x5c5a0c['baseColorF'+'actor'],_0x223585['diffuse']['set'](Math['pow'](_0x589b7e[0x756+-0x121d+0xac7],(0x2485*0x1+0x22f7*-0x1+-0x18d)/(0x2226+0x13ec+-0x3610+0.20000000000000018)),Math['pow'](_0x589b7e[-0x1*-0x2271+-0xb0*-0x21+-0x3920],(-0x9e6+-0x1966+-0x1*-0x234d)/(0x33*0x5+0x1e83+-0x40*0x7e+0.20000000000000018)),Math['pow'](_0x589b7e[0x20*-0x130+-0x333*-0x1+0x1d5*0x13],(-0x3ab+-0x29*0x5d+0x1291)/(0x1743+-0x1609*0x1+-0x138+0.20000000000000018))),_0x223585['opacity']=_0x589b7e[-0x6*-0x42d+0x2*-0x65b+-0xc55]),_0x5c5a0c['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x5ba2ed=_0x5c5a0c['baseColorT'+'exture'];_0x2764ba=_0xb3e9e3[_0x5ba2ed['index']],_0x223585['diffuseMap']=_0x2764ba,_0x223585['diffuseMap'+'Channel']='rgb',_0x223585['opacityMap']=_0x2764ba,_0x223585['opacityMap'+'Channel']='a',ft(_0x5ba2ed,_0x223585,['diffuse','opacity']);}if(_0x5c5a0c['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x223585['metalness']=_0x5c5a0c['metallicFa'+'ctor']),_0x5c5a0c['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x223585['gloss']=_0x5c5a0c['roughnessF'+'actor']),_0x5c5a0c['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x4beeb8=_0x5c5a0c['metallicRo'+'ughnessTex'+'ture'];_0x223585['metalnessM'+'ap']=_0x223585['glossMap']=_0xb3e9e3[_0x4beeb8['index']],_0x223585['metalnessM'+'apChannel']='b',_0x223585['glossMapCh'+'annel']='g',ft(_0x4beeb8,_0x223585,['gloss','metalness']);}}if(_0x56cdfa['hasOwnProp'+'erty']('normalText'+'ure')){const _0xb3b929=_0x56cdfa['normalText'+'ure'];_0x223585['normalMap']=_0xb3e9e3[_0xb3b929['index']],ft(_0xb3b929,_0x223585,['normal']),_0xb3b929['hasOwnProp'+'erty']('scale')&&(_0x223585['bumpiness']=_0xb3b929['scale']);}if(_0x56cdfa['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x32041f=_0x56cdfa['occlusionT'+'exture'];_0x223585['aoMap']=_0xb3e9e3[_0x32041f['index']],_0x223585['aoMapChann'+'el']='r',ft(_0x32041f,_0x223585,['ao']);}if(_0x56cdfa['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x589b7e=_0x56cdfa['emissiveFa'+'ctor'],_0x223585['emissive']['set'](Math['pow'](_0x589b7e[-0x970+-0x5*0x83+0x1*0xbff],(-0x180d+0x503+-0xc3*-0x19)/(0x1721+-0x1224+-0x4fb*0x1+0.20000000000000018)),Math['pow'](_0x589b7e[-0xe*-0x4a+0x1*-0x1272+-0x3*-0x4cd],(0x92e+-0x1f0f+0x1*0x15e2)/(0x20d6+0x5b0+0x154*-0x1d+0.20000000000000018)),Math['pow'](_0x589b7e[-0x106d+0x47a+0x1*0xbf5],(-0x3cb*0x9+-0x2b*-0x4b+0x158b)/(-0x1217+-0x263d+0x3856+0.20000000000000018)))),_0x56cdfa['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x10b712=_0x56cdfa['emissiveTe'+'xture'];_0x223585['emissiveMa'+'p']=_0xb3e9e3[_0x10b712['index']],ft(_0x10b712,_0x223585,['emissive']);}if(_0x56cdfa['hasOwnProp'+'erty']('alphaMode'))switch(_0x56cdfa['alphaMode']){case'MASK':_0x223585['blendType']=is,_0x56cdfa['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x223585['alphaTest']=_0x56cdfa['alphaCutof'+'f']:_0x223585['alphaTest']=-0x1fa7+0x1*0x897+0x48*0x52+0.5;break;case'BLEND':_0x223585['blendType']=Kt,_0x223585['depthWrite']=!(0x78c+0xc66*0x3+-0x2cbd);break;default:case'OPAQUE':_0x223585['blendType']=is;break;}else _0x223585['blendType']=is;_0x56cdfa['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x223585['twoSidedLi'+'ghting']=_0x56cdfa['doubleSide'+'d'],_0x223585['cull']=_0x56cdfa['doubleSide'+'d']?mt:rn):(_0x223585['twoSidedLi'+'ghting']=!(0x1628+0x59*-0x16+-0xe81),_0x223585['cull']=rn);const _0x12eddf={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':HD,'KHR_materials_ior':ND,'KHR_materials_dispersion':zD,'KHR_materials_iridescence':$D,'KHR_materials_pbrSpecularGlossiness':FD,'KHR_materials_sheen':VD,'KHR_materials_specular':BD,'KHR_materials_transmission':UD,'KHR_materials_unlit':kD,'KHR_materials_volume':GD};if(_0x56cdfa['hasOwnProp'+'erty']('extensions'))for(const _0x2b86c3 in _0x56cdfa['extensions']){const _0x17a42a=_0x12eddf[_0x2b86c3];_0x17a42a!==void(0x1036+0xc1f+-0x1*0x1c55)&&_0x17a42a(_0x56cdfa['extensions'][_0x2b86c3],_0x223585,_0xb3e9e3);}return _0x223585['update'](),_0x223585;},WD=(_0x466118,_0x301ac3,_0x4ebf77,_0x37410f,_0xa1df99,_0x5cd8a1,_0x38cbae)=>{const _0x530e25=_0x11c6de=>new Jh($o(_0x11c6de['type']),ma(_0x11c6de,_0x37410f)),_0x55d72d={'STEP':W0,'LINEAR':ju,'CUBICSPLINE':Yu},_0x512f5c={},_0x128fce={},_0x1efa56={};let _0xe88217=-0x23cc+-0xa16+-0x2b3*-0x11,_0x452b00;for(_0x452b00=0x294+0x4*0x547+-0x17b0;_0x452b00<_0x466118['samplers']['length'];++_0x452b00){const _0x2bc296=_0x466118['samplers'][_0x452b00];_0x512f5c['hasOwnProp'+'erty'](_0x2bc296['input'])||(_0x512f5c[_0x2bc296['input']]=_0x530e25(_0x4ebf77[_0x2bc296['input']])),_0x128fce['hasOwnProp'+'erty'](_0x2bc296['output'])||(_0x128fce[_0x2bc296['output']]=_0x530e25(_0x4ebf77[_0x2bc296['output']]));const _0x4c0b21=_0x2bc296['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x55d72d['hasOwnProp'+'erty'](_0x2bc296['interpolat'+'ion'])?_0x55d72d[_0x2bc296['interpolat'+'ion']]:ju,_0x59b056={'paths':[],'input':_0x2bc296['input'],'output':_0x2bc296['output'],'interpolation':_0x4c0b21};_0x1efa56[_0x452b00]=_0x59b056;}const _0x2443c2=[],_0x4cf321={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x3c831c=_0x59a7f3=>{const _0x5edb80=[];for(;_0x59a7f3;)_0x5edb80['unshift'](_0x59a7f3['name']),_0x59a7f3=_0x59a7f3['parent'];return _0x5edb80;},_0x5667a9=(_0x516dd0,_0x1528b8,_0x1e5cc4)=>{const _0x6b08b4=_0x128fce[_0x516dd0['output']];if(!_0x6b08b4){v['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x1e5cc4+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x1b95ee;if(_0x5cd8a1&&_0x5cd8a1[_0x1528b8['mesh']]){const _0x5d8ae7=_0x5cd8a1[_0x1528b8['mesh']];_0x5d8ae7['hasOwnProp'+'erty']('extras')&&_0x5d8ae7['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x1b95ee=_0x5d8ae7['extras']['targetName'+'s']);}const _0x417642=_0x6b08b4['data'],_0xf685c3=_0x417642['length']/_0x512f5c[_0x516dd0['input']]['data']['length'],_0x2710cc=_0x417642['length']/_0xf685c3,_0x312231=_0x2710cc*(-0x3*0x59f+0x1f1c+-0xe3b*0x1),_0x5f2449=new ArrayBuffer(_0x312231*_0xf685c3);for(let _0x18784b=0x617*0x4+-0x1*-0x234d+-0x3ba9;_0x18784b<_0xf685c3;_0x18784b++){const _0x2bfc89=new Float32Array(_0x5f2449,_0x312231*_0x18784b,_0x2710cc);for(let _0x4efb49=-0x295*-0xe+-0x960*-0x4+-0x49a6;_0x4efb49<_0x2710cc;_0x4efb49++)_0x2bfc89[_0x4efb49]=_0x417642[_0x4efb49*_0xf685c3+_0x18784b];const _0x23a636=new Jh(0x10f3+-0x485+0x1*-0xc6d,_0x2bfc89),_0x31190c=_0x1b95ee!=null&&_0x1b95ee[_0x18784b]?'name.'+_0x1b95ee[_0x18784b]:_0x18784b;_0x128fce[-_0xe88217]=_0x23a636;const _0x176820={'paths':[{'entityPath':_0x1e5cc4,'component':'graph','propertyPath':['weight.'+_0x31190c]}],'input':_0x516dd0['input'],'output':-_0xe88217,'interpolation':_0x516dd0['interpolat'+'ion']};_0xe88217++,_0x1efa56['morphCurve'+'-'+_0x452b00+'-'+_0x18784b]=_0x176820;}};for(_0x452b00=-0x1152+-0x9*-0xb6+-0x2*-0x576;_0x452b00<_0x466118['channels']['length'];++_0x452b00){const _0x1c3c11=_0x466118['channels'][_0x452b00],_0x2fa7a3=_0x1c3c11['target'],_0x5bd3d5=_0x1efa56[_0x1c3c11['sampler']],_0x642e58=_0xa1df99[_0x2fa7a3['node']],_0x1a667b=_0x38cbae[_0x2fa7a3['node']],_0x4cca9b=_0x3c831c(_0x642e58);_0x2fa7a3['path']['startsWith']('weights')?(_0x5667a9(_0x5bd3d5,_0x1a667b,_0x4cca9b),_0x1efa56[_0x1c3c11['sampler']]['morphCurve']=!(0x1c66+0x2658+-0x42be)):_0x5bd3d5['paths']['push']({'entityPath':_0x4cca9b,'component':'graph','propertyPath':[_0x4cf321[_0x2fa7a3['path']]]});}const _0x56faad=[],_0x44f4b0=[],_0x4a7589=[];for(const _0x38f76c in _0x512f5c)_0x56faad['push'](_0x512f5c[_0x38f76c]),_0x512f5c[_0x38f76c]=_0x56faad['length']-(0x497+0x543+-0x9d9*0x1);for(const _0x4600fa in _0x128fce)_0x44f4b0['push'](_0x128fce[_0x4600fa]),_0x128fce[_0x4600fa]=_0x44f4b0['length']-(0x511+-0x115f+-0x89*-0x17);for(const _0x538856 in _0x1efa56){const _0x4682a3=_0x1efa56[_0x538856];_0x4682a3['morphCurve']||(_0x4a7589['push'](new Px(_0x4682a3['paths'],_0x512f5c[_0x4682a3['input']],_0x128fce[_0x4682a3['output']],_0x4682a3['interpolat'+'ion'])),_0x4682a3['paths']['length']>-0x8a*-0x26+-0x151a+0x9e&&_0x4682a3['paths'][-0x46*-0x70+-0x992*0x4+0x62*0x14]['propertyPa'+'th'][-0x6c5*-0x5+0x59c+-0x5b*0x6f]==='localRotat'+'ion'&&_0x4682a3['interpolat'+'ion']!==Yu&&_0x2443c2['push'](_0x4a7589[_0x4a7589['length']-(0x19b+-0x152*0xe+-0x10e2*-0x1)]['output']));}_0x2443c2['sort']();let _0x383807=null,_0x43d0de;for(_0x452b00=0x49*0x45+0x32b*0x3+0x6*-0x4dd;_0x452b00<_0x2443c2['length'];++_0x452b00){const _0x3b0bf7=_0x2443c2[_0x452b00];if(_0x452b00===0x2b6+-0x44*0x75+0x1c5e||_0x3b0bf7!==_0x383807){if(_0x43d0de=_0x44f4b0[_0x3b0bf7],_0x43d0de['components']===0x18b3+-0x1ef*0x2+-0x14d1){const _0x5009dd=_0x43d0de['data'],_0x494b17=_0x5009dd['length']-(-0x8fa*-0x3+-0x1781+-0x369);for(let _0x222f46=0xc8c+-0x1b*-0x8b+-0x1b35;_0x222f46<_0x494b17;_0x222f46+=-0x1*0x241+0x2b*-0xe1+0x2810)_0x5009dd[_0x222f46+(-0x69b+-0x1a63+-0x20fe*-0x1)]*_0x5009dd[_0x222f46+(0x195a+-0xd4*-0x27+-0x39a2)]+_0x5009dd[_0x222f46+(-0x17f6*0x1+0x8*-0x1d1+0x7b3*0x5)]*_0x5009dd[_0x222f46+(-0x1*0x17f+-0x16*0xa7+0x1*0xfde)]+_0x5009dd[_0x222f46+(-0x53c+0x1995+0x1457*-0x1)]*_0x5009dd[_0x222f46+(-0x2f*0xa9+0x1a71+0x5*0xec)]+_0x5009dd[_0x222f46+(0x745*0x1+-0x29f+-0x1*0x4a3)]*_0x5009dd[_0x222f46+(-0x92*0x3a+0x663+0x1ab8)]<-0xbb4+-0x2*-0x124f+-0x18ea&&(_0x5009dd[_0x222f46+(0x227c+0x1cda*0x1+-0x3f52)]*=-(0x1e43+-0xf4e+-0xef4),_0x5009dd[_0x222f46+(-0x2f5*-0x2+-0x1877+0x1292)]*=-(-0x2*-0x617+-0x1226+-0x1*-0x5f9),_0x5009dd[_0x222f46+(0x159f*-0x1+-0x19*-0x2+0x1573)]*=-(-0xf71*0x1+-0x33a+0x12ac),_0x5009dd[_0x222f46+(-0x1b0*0x1+0x133*0x17+-0x19de)]*=-(0x26d+-0x2416+0x21aa));}_0x383807=_0x3b0bf7;}}let _0x2e17e1=0xaa9*-0x3+-0x169f+0x369a*0x1;for(_0x452b00=-0x1*0x629+-0xc6e+0x1297;_0x452b00<_0x56faad['length'];_0x452b00++)_0x43d0de=_0x56faad[_0x452b00]['_data'],_0x2e17e1=Math['max'](_0x2e17e1,_0x43d0de['length']===0x1*-0x4bb+-0xdb0+0x126b?-0x4*0x8b3+-0x1*-0x47f+0x1e4d:_0x43d0de[_0x43d0de['length']-(0x20b2+0x92*0xe+0xd8f*-0x3)]);return new Ri(_0x466118['hasOwnProp'+'erty']('name')?_0x466118['name']:'animation_'+_0x301ac3,_0x2e17e1,_0x56faad,_0x44f4b0,_0x4a7589);},eh=new q(),qn=new T(),qD=(_0x4070a1,_0x3c9e27,_0x56bde3)=>{const _0x5c36f8=new De();if(_0x4070a1['hasOwnProp'+'erty']('name')&&_0x4070a1['name']['length']>0x946+0x9eb*-0x1+-0xb*-0xf?_0x5c36f8['name']=_0x4070a1['name']:_0x5c36f8['name']='node_'+_0x3c9e27,_0x4070a1['hasOwnProp'+'erty']('matrix')&&(eh['data']['set'](_0x4070a1['matrix']),eh['getTransla'+'tion'](qn),_0x5c36f8['setLocalPo'+'sition'](qn),eh['getEulerAn'+'gles'](qn),_0x5c36f8['setLocalEu'+'lerAngles'](qn),eh['getScale'](qn),_0x5c36f8['setLocalSc'+'ale'](qn)),_0x4070a1['hasOwnProp'+'erty']('rotation')){const _0x965200=_0x4070a1['rotation'];_0x5c36f8['setLocalRo'+'tation'](_0x965200[0x1*0xc2+-0x5bd+0x4fb],_0x965200[0x175*-0x17+0xb9b+0x15e9],_0x965200[0x25fb+-0x1e46+-0x7b3],_0x965200[0x597+-0x10ff+0xb6b]);}if(_0x4070a1['hasOwnProp'+'erty']('translatio'+'n')){const _0x47c5c5=_0x4070a1['translatio'+'n'];_0x5c36f8['setLocalPo'+'sition'](_0x47c5c5[0x2dd*-0x5+-0xadd+-0x16*-0x125],_0x47c5c5[0x697*-0x2+-0x15c4+0x22f3*0x1],_0x47c5c5[0x1e91*-0x1+-0x271*-0x1+0x1c22]);}if(_0x4070a1['hasOwnProp'+'erty']('scale')){const _0x4cdf4e=_0x4070a1['scale'];_0x5c36f8['setLocalSc'+'ale'](_0x4cdf4e[0x909+-0xfc8+0x1*0x6bf],_0x4cdf4e[0x19f9+-0x2*-0x59+0x1*-0x1aaa],_0x4cdf4e[0xe1c+-0x1302*-0x2+0x7*-0x772]);}return _0x4070a1['hasOwnProp'+'erty']('extensions')&&_0x4070a1['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x56bde3['set'](_0x4070a1,{'ext':_0x4070a1['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x5c36f8;},XD=(_0x3ad06e,_0x16f021)=>{const _0x500074=_0x3ad06e['type']==='orthograph'+'ic'?ua:Gs,_0x1fbc40=_0x500074===ua?_0x3ad06e['orthograph'+'ic']:_0x3ad06e['perspectiv'+'e'],_0x22d9de={'enabled':!(-0x1437+0x1351*0x2+-0x126a),'projection':_0x500074,'nearClip':_0x1fbc40['znear'],'aspectRatioMode':Ip};_0x1fbc40['zfar']&&(_0x22d9de['farClip']=_0x1fbc40['zfar']),_0x500074===ua?(_0x22d9de['orthoHeigh'+'t']=(-0x1051+0x3*0x656+-0x2b1*0x1+0.5)*_0x1fbc40['ymag'],_0x1fbc40['ymag']&&(_0x22d9de['aspectRati'+'oMode']=Bu,_0x22d9de['aspectRati'+'o']=_0x1fbc40['xmag']/_0x1fbc40['ymag'])):(_0x22d9de['fov']=_0x1fbc40['yfov']*N['RAD_TO_DEG'],_0x1fbc40['aspectRati'+'o']&&(_0x22d9de['aspectRati'+'oMode']=Bu,_0x22d9de['aspectRati'+'o']=_0x1fbc40['aspectRati'+'o']));const _0x4ea504=new $e(_0x3ad06e['name']);return _0x4ea504['addCompone'+'nt']('camera',_0x22d9de),_0x4ea504;},jD=(_0x36f5f6,_0x3c7dbc)=>{const _0x162982={'enabled':!(-0x685*0x5+-0x1546+0x35e0),'type':_0x36f5f6['type']==='point'?'omni':_0x36f5f6['type'],'color':_0x36f5f6['hasOwnProp'+'erty']('color')?new Y(_0x36f5f6['color']):Y['WHITE'],'range':_0x36f5f6['hasOwnProp'+'erty']('range')?_0x36f5f6['range']:-0x16eb*0x2+-0x4c7c+-0x8d*-0x125,'falloffMode':Wb,'intensity':_0x36f5f6['hasOwnProp'+'erty']('intensity')?N['clamp'](_0x36f5f6['intensity'],-0x3e6+-0x15db+-0x13*-0x15b,-0x1*0x12a5+0xa08+0x89f):-0x19e+0x187c+-0x16dd};_0x36f5f6['hasOwnProp'+'erty']('spot')&&(_0x162982['innerConeA'+'ngle']=_0x36f5f6['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x36f5f6['spot']['innerConeA'+'ngle']*N['RAD_TO_DEG']:-0x18a5+0xd07+0x2*0x5cf,_0x162982['outerConeA'+'ngle']=_0x36f5f6['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x36f5f6['spot']['outerConeA'+'ngle']*N['RAD_TO_DEG']:Math['PI']/(0x1*0x145a+-0xd97+-0x9d*0xb)),_0x36f5f6['hasOwnProp'+'erty']('intensity')&&(_0x162982['luminance']=_0x36f5f6['intensity']*zo['getLightUn'+'itConversi'+'on'](Gu[_0x162982['type']],_0x162982['outerConeA'+'ngle'],_0x162982['innerConeA'+'ngle']));const _0xfb4d68=new $e(_0x3c7dbc['name']);return _0xfb4d68['rotateLoca'+'l'](-0x760+0x2*0x75+0x6d0,0xae0+-0xe76+0x396,0x14eb+-0x3*-0xe5+-0x179a),_0xfb4d68['addCompone'+'nt']('light',_0x162982),_0xfb4d68;},YD=(_0x2ffbf4,_0x31caa5,_0x4fe526,_0x4329fa)=>{if(!_0x31caa5['hasOwnProp'+'erty']('skins')||_0x31caa5['skins']['length']===-0x2451+-0x101*0x19+0x8c6*0x7)return[];const _0x529ba1=new Map();return _0x31caa5['skins']['map'](_0x575184=>ID(_0x2ffbf4,_0x575184,_0x31caa5['accessors'],_0x4329fa,_0x4fe526,_0x529ba1));},KD=(_0x312429,_0x571fa3,_0xc30b09,_0x4ff9e5)=>{var _0x5afe1e,_0x302549,_0x58a3d2;const _0x37c046={},_0xc459c={},_0x4f8476={},_0xe750a8=[];return{'meshes':!_0x4ff9e5['skipMeshes']&&((_0x5afe1e=_0x571fa3==null?void(0xf9d+0x249c*-0x1+0x14ff):_0x571fa3['meshes'])==null?void(0x23f4+-0x10*0x158+-0xe74):_0x5afe1e['length'])&&((_0x302549=_0x571fa3==null?void(0x69+0x1a*-0xa1+0x1*0xff1):_0x571fa3['accessors'])==null?void(0x3ff+0x7*0x10e+-0x3cb*0x3):_0x302549['length'])&&((_0x58a3d2=_0x571fa3==null?void(0x2602+-0x347*0x5+-0x159f):_0x571fa3['bufferView'+'s'])==null?void(-0x1*0x1612+-0x1d*-0x76+0x8b4):_0x58a3d2['length'])?_0x571fa3['meshes']['map'](_0x59b3b9=>LD(_0x312429,_0x59b3b9,_0x571fa3['accessors'],_0xc30b09,_0x37c046,_0xc459c,_0x4f8476,_0x4ff9e5,_0xe750a8)):[],'meshVariants':_0xc459c,'meshDefaultMaterials':_0x4f8476,'promises':_0xe750a8};},ZD=(_0x1898c7,_0x440905,_0x260822)=>{var _0x28be9f,_0x2126e6,_0x2db5d6;if(!_0x1898c7['hasOwnProp'+'erty']('materials')||_0x1898c7['materials']['length']===-0x19c9*-0x1+-0x1186+-0x3*0x2c1)return[];const _0xad2910=(_0x28be9f=_0x260822==null?void(0x201*0x5+-0x1*-0x1b40+-0x2545):_0x260822['material'])==null?void(0x1acc+0x21*-0x3+0x1*-0x1a69):_0x28be9f['preprocess'],_0x59efd7=((_0x2126e6=_0x260822==null?void(0xaa5*0x3+-0x1*-0x65d+-0x4*0x993):_0x260822['material'])==null?void(0xac+-0xbc4+0x238*0x5):_0x2126e6['process'])??Dx,_0x24d606=(_0x2db5d6=_0x260822==null?void(0x1*0x149c+0xcaa+-0x2146):_0x260822['material'])==null?void(-0xb29+-0xb5d*0x1+0x1686):_0x2db5d6['postproces'+'s'];return _0x1898c7['materials']['map'](_0x55e8ad=>{_0xad2910&&_0xad2910(_0x55e8ad);const _0x25c4ed=_0x59efd7(_0x55e8ad,_0x440905);return _0x24d606&&_0x24d606(_0x55e8ad,_0x25c4ed),_0x25c4ed;});},QD=_0x1c37c4=>{if(!_0x1c37c4['hasOwnProp'+'erty']('extensions')||!_0x1c37c4['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x4176e7=_0x1c37c4['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x22fcb4={};for(let _0x5cc7ea=0x1ed2+-0x2003+0x131;_0x5cc7ea<_0x4176e7['length'];_0x5cc7ea++)_0x22fcb4[_0x4176e7[_0x5cc7ea]['name']]=_0x5cc7ea;return _0x22fcb4;},JD=(_0x38ea12,_0x20e384,_0x25d9a3,_0x3498b7)=>{var _0xf72fbb,_0x29a160;if(!_0x38ea12['hasOwnProp'+'erty']('animations')||_0x38ea12['animations']['length']===0x1*-0xa40+-0x117d+0x1*0x1bbd)return[];const _0x139eda=(_0xf72fbb=_0x3498b7==null?void(0x13d9+-0x1*-0x1b05+-0x2ede):_0x3498b7['animation'])==null?void(0xb41*0x3+0x16b7+0x1c3d*-0x2):_0xf72fbb['preprocess'],_0xe5bb85=(_0x29a160=_0x3498b7==null?void(0x21c4+-0x1*0x925+-0x3*0x835):_0x3498b7['animation'])==null?void(-0x2*0x403+0x1dcd+0x45b*-0x5):_0x29a160['postproces'+'s'];return _0x38ea12['animations']['map']((_0x5ead73,_0xd978bf)=>{_0x139eda&&_0x139eda(_0x5ead73);const _0xb33965=WD(_0x5ead73,_0xd978bf,_0x38ea12['accessors'],_0x25d9a3,_0x20e384,_0x38ea12['meshes'],_0x38ea12['nodes']);return _0xe5bb85&&_0xe5bb85(_0x5ead73,_0xb33965),_0xb33965;});},e2=(_0x3f93fd,_0x479d70,_0x4993cb,_0xd8df0d)=>{const _0x27b490=_0x479d70['accessors'];_0x4993cb['forEach']((_0x168cae,_0x159ea8)=>{const _0x282200=_0x168cae['ext']['attributes'];let _0x3c7890;if(_0x282200['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x49b76c=_0x27b490[_0x282200['TRANSLATIO'+'N']];_0x3c7890=ma(_0x49b76c,_0xd8df0d);}let _0x35a8ca;if(_0x282200['hasOwnProp'+'erty']('ROTATION')){const _0x50e169=_0x27b490[_0x282200['ROTATION']];_0x35a8ca=ma(_0x50e169,_0xd8df0d);}let _0x13e7f4;if(_0x282200['hasOwnProp'+'erty']('SCALE')){const _0x40eeda=_0x27b490[_0x282200['SCALE']];_0x13e7f4=ma(_0x40eeda,_0xd8df0d);}const _0x78f53b=(_0x3c7890?_0x3c7890['length']/(-0x1bd*-0x11+-0x15a9+-0x7e1*0x1):-0x1d69*0x1+-0x9*0x18d+-0x1ab*-0x1a)||(_0x35a8ca?_0x35a8ca['length']/(0xd67+0x1de*0x1+-0xf41):-0x200e+-0x1df*0x13+0x439b)||(_0x13e7f4?_0x13e7f4['length']/(0x8fd+-0x185d+0x65*0x27):-0xa3*0xd+-0x1*-0xdf9+-0x5b2);if(_0x78f53b){const _0x2b45e7=new Float32Array(_0x78f53b*(-0x10bb*-0x1+-0xb2*0x5+-0xd31)),_0x5cf814=new T(),_0x27de1f=new se(),_0x3e9b29=new T(-0x1*0xf8e+0x2*-0x5bc+0x1b07,0xad1*0x3+-0x20eb*-0x1+-0x1d*0x241,-0x1*-0x26cd+0x2*-0x3c1+-0x1f4a),_0x3f0cf8=new q();let _0x4fa164=-0x1f35+-0x4*0x4cf+0x3271;for(let _0x345843=-0x75*-0x6+-0x1db*-0x14+0x13ed*-0x2;_0x345843<_0x78f53b;_0x345843++){const _0x1c751=_0x345843*(-0x2*-0x4b+-0x2166+0x20d3);if(_0x3c7890&&_0x5cf814['set'](_0x3c7890[_0x1c751],_0x3c7890[_0x1c751+(-0x9e1+-0xe8+0x1*0xaca)],_0x3c7890[_0x1c751+(0x193d+-0x975+-0xfc6)]),_0x35a8ca){const _0x3c8cf9=_0x345843*(-0x190b+-0x18a*0xa+0x2873);_0x27de1f['set'](_0x35a8ca[_0x3c8cf9],_0x35a8ca[_0x3c8cf9+(0x1399+0x7e2+-0x1b7a)],_0x35a8ca[_0x3c8cf9+(-0x1db7*0x1+-0x18b*-0x9+-0x7eb*-0x2)],_0x35a8ca[_0x3c8cf9+(0xb77*0x2+-0xb8a+0x3*-0x3cb)]);}_0x13e7f4&&_0x3e9b29['set'](_0x13e7f4[_0x1c751],_0x13e7f4[_0x1c751+(-0x193b+0x17e5+-0x31*-0x7)],_0x13e7f4[_0x1c751+(-0x8fa+-0x19*-0x6b+-0x177)]),_0x3f0cf8['setTRS'](_0x5cf814,_0x27de1f,_0x3e9b29);for(let _0x30b581=0x1*0x2161+-0x15*0x13d+-0x76*0x10;_0x30b581<0x14f6+0xc61*-0x1+-0x885;_0x30b581++)_0x2b45e7[_0x4fa164++]=_0x3f0cf8['data'][_0x30b581];}_0x168cae['matrices']=_0x2b45e7;}});},t2=(_0x1f2b56,_0x2a0651,_0x13169b)=>{var _0x32ae01,_0x245f1a,_0x3deacd;if(!_0x1f2b56['hasOwnProp'+'erty']('nodes')||_0x1f2b56['nodes']['length']===-0x9c5+-0x610+0xfd5)return[];const _0x1e30c3=(_0x32ae01=_0x2a0651==null?void(-0x1504+0x2122+-0xc1e):_0x2a0651['node'])==null?void(-0x6dc+0xf66+0x2*-0x445):_0x32ae01['preprocess'],_0x366e8c=((_0x245f1a=_0x2a0651==null?void(0x1342*-0x2+0xcd0+0x19b4):_0x2a0651['node'])==null?void(0x1c6*0x4+-0x1d82+0x166a*0x1):_0x245f1a['process'])??qD,_0x4210c6=(_0x3deacd=_0x2a0651==null?void(0xbc6*-0x1+0x344*-0x1+-0x23*-0x6e):_0x2a0651['node'])==null?void(-0xa6*-0x35+0x2*0x5d7+-0x2e0c):_0x3deacd['postproces'+'s'],_0x1a5023=_0x1f2b56['nodes']['map']((_0x4fe970,_0x1da0da)=>{_0x1e30c3&&_0x1e30c3(_0x4fe970);const _0x1821aa=_0x366e8c(_0x4fe970,_0x1da0da,_0x13169b);return _0x4210c6&&_0x4210c6(_0x4fe970,_0x1821aa),_0x1821aa;});for(let _0x47e9cc=0x1*0x11+-0x9ac*-0x3+-0x1d15;_0x47e9cc<_0x1f2b56['nodes']['length'];++_0x47e9cc){const _0x5ed4c8=_0x1f2b56['nodes'][_0x47e9cc];if(_0x5ed4c8['hasOwnProp'+'erty']('children')){const _0x1a2fba=_0x1a5023[_0x47e9cc],_0x1ef6cc={};for(let _0x8cb5f5=-0x1*-0x1871+-0x4d*0x35+-0x880;_0x8cb5f5<_0x5ed4c8['children']['length'];++_0x8cb5f5){const _0x5d5288=_0x1a5023[_0x5ed4c8['children'][_0x8cb5f5]];_0x5d5288['parent']||(_0x1ef6cc['hasOwnProp'+'erty'](_0x5d5288['name'])?_0x5d5288['name']+=_0x1ef6cc[_0x5d5288['name']]++:_0x1ef6cc[_0x5d5288['name']]=0xe42+-0x388*0x7+0xa77,_0x1a2fba['addChild'](_0x5d5288));}}}return _0x1a5023;},s2=(_0x318546,_0x38f802)=>{var _0x3178e4;const _0xebac16=[],_0x457d77=_0x318546['scenes']['length'];if(_0x457d77===0x1*0x1796+-0x25b3+0x116*0xd&&((_0x3178e4=_0x318546['scenes'][0x137*-0x8+0xeef+0x537*-0x1]['nodes'])==null?void(-0xa*0x2e7+-0x1ae1+-0x515*-0xb):_0x3178e4['length'])===0x1960+0x3a5*0x9+-0x3a2c){const _0x581747=_0x318546['scenes'][0x1*0x18ec+-0x1*0x110b+0x7e1*-0x1]['nodes'][-0x1370+-0x1100+0x1a8*0x16];_0xebac16['push'](_0x38f802[_0x581747]);}else for(let _0x54fe77=-0x1375+0xad8+-0x23*-0x3f;_0x54fe77<_0x457d77;_0x54fe77++){const _0x2791e3=_0x318546['scenes'][_0x54fe77];if(_0x2791e3['nodes']){const _0x166c29=new De(_0x2791e3['name']);for(let _0x4177d4=-0x4*-0x2+-0x12b5+0x12ad*0x1;_0x4177d4<_0x2791e3['nodes']['length'];_0x4177d4++){const _0x51be89=_0x38f802[_0x2791e3['nodes'][_0x4177d4]];_0x166c29['addChild'](_0x51be89);}_0xebac16['push'](_0x166c29);}}return _0xebac16;},i2=(_0x28beef,_0x52324d,_0x173d81)=>{var _0x23865f,_0x18a9e8,_0x1280ef;let _0x4e59a0=null;if(_0x28beef['hasOwnProp'+'erty']('nodes')&&_0x28beef['hasOwnProp'+'erty']('cameras')&&_0x28beef['cameras']['length']>0x22d6+-0x7db+-0x1*0x1afb){const _0x2666c0=(_0x23865f=_0x173d81==null?void(0x4*0x35b+-0x154+-0xc18):_0x173d81['camera'])==null?void(-0x20ad*-0x1+0x1*0x1d2d+-0x149e*0x3):_0x23865f['preprocess'],_0x3d0117=((_0x18a9e8=_0x173d81==null?void(-0x100c+-0x4f*-0x11+0xacd*0x1):_0x173d81['camera'])==null?void(-0x1b31+-0x480+0x1fb1*0x1):_0x18a9e8['process'])??XD,_0x44e96d=(_0x1280ef=_0x173d81==null?void(0x103f+0xec5*-0x2+-0xd4b*-0x1):_0x173d81['camera'])==null?void(-0x17a3+0x137f+0x2*0x212):_0x1280ef['postproces'+'s'];_0x28beef['nodes']['forEach']((_0x4621af,_0x179caa)=>{if(_0x4621af['hasOwnProp'+'erty']('camera')){const _0xfa4c75=_0x28beef['cameras'][_0x4621af['camera']];if(_0xfa4c75){_0x2666c0&&_0x2666c0(_0xfa4c75);const _0x4cefb8=_0x3d0117(_0xfa4c75,_0x52324d[_0x179caa]);_0x44e96d&&_0x44e96d(_0xfa4c75,_0x4cefb8),_0x4cefb8&&(_0x4e59a0||(_0x4e59a0=new Map()),_0x4e59a0['set'](_0x4621af,_0x4cefb8));}}});}return _0x4e59a0;},r2=(_0x4e43e6,_0x370f0a,_0xa217d0)=>{var _0x23c224,_0x2fdb8f,_0x3420c;let _0x44745f=null;if(_0x4e43e6['hasOwnProp'+'erty']('nodes')&&_0x4e43e6['hasOwnProp'+'erty']('extensions')&&_0x4e43e6['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x4e43e6['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x38d283=_0x4e43e6['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x38d283['length']){const _0x88f8e7=(_0x23c224=_0xa217d0==null?void(-0x3e2+-0x1ff4+-0x5f9*-0x6):_0xa217d0['light'])==null?void(0x1140+0x1bbb*-0x1+0xa7b):_0x23c224['preprocess'],_0x430e83=((_0x2fdb8f=_0xa217d0==null?void(-0x1*0x1cd2+0x2*0x79+0x1*0x1be0):_0xa217d0['light'])==null?void(0xbbd*0x3+-0xa5c+-0x18db):_0x2fdb8f['process'])??jD,_0x40b674=(_0x3420c=_0xa217d0==null?void(-0x43a+-0xb81+0xfbb*0x1):_0xa217d0['light'])==null?void(-0x262d+-0x18b3+0x1f7*0x20):_0x3420c['postproces'+'s'];_0x4e43e6['nodes']['forEach']((_0x275128,_0x510a9e)=>{if(_0x275128['hasOwnProp'+'erty']('extensions')&&_0x275128['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x275128['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x17e7e7=_0x275128['extensions']['KHR_lights'+'_punctual']['light'],_0x24f4de=_0x38d283[_0x17e7e7];if(_0x24f4de){_0x88f8e7&&_0x88f8e7(_0x24f4de);const _0x56029e=_0x430e83(_0x24f4de,_0x370f0a[_0x510a9e]);_0x40b674&&_0x40b674(_0x24f4de,_0x56029e),_0x56029e&&(_0x44745f||(_0x44745f=new Map()),_0x44745f['set'](_0x275128,_0x56029e));}}});}}return _0x44745f;},n2=(_0x496630,_0x4cee56,_0x2a6b2d)=>{_0x496630['nodes']['forEach'](_0x127138=>{_0x127138['hasOwnProp'+'erty']('mesh')&&_0x127138['hasOwnProp'+'erty']('skin')&&_0x4cee56[_0x127138['mesh']]['meshes']['forEach'](_0x28332b=>{_0x28332b['skin']=_0x2a6b2d[_0x127138['skin']];});});},a2=async(_0xc65721,_0x3c9f6a,_0x41d4e8,_0x59d07e,_0x69f258)=>{var _0xec0583,_0x88961e;const _0x4c7827=(_0xec0583=_0x69f258==null?void(0x6b9+-0x5cf*-0x1+-0xc88):_0x69f258['global'])==null?void(-0x4c8+0x1b27+-0x165f):_0xec0583['preprocess'],_0x2b34c7=(_0x88961e=_0x69f258==null?void(0x1*0x1f27+-0x1647+-0x8e0):_0x69f258['global'])==null?void(-0x2*-0x54f+-0x1025+0x587):_0x88961e['postproces'+'s'];_0x4c7827&&_0x4c7827(_0x3c9f6a),_0x3c9f6a['asset']&&_0x3c9f6a['asset']['generator']==='PlayCanvas'&&v['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x142e50=new Map(),_0x42287f=t2(_0x3c9f6a,_0x69f258,_0x142e50),_0x4490d7=s2(_0x3c9f6a,_0x42287f),_0x234f1a=r2(_0x3c9f6a,_0x42287f,_0x69f258),_0x431c53=i2(_0x3c9f6a,_0x42287f,_0x69f258),_0xb7b18b=QD(_0x3c9f6a),_0x1802dd=await Promise['all'](_0x41d4e8),{meshes:_0x41b6e8,meshVariants:_0x44a94e,meshDefaultMaterials:_0x311562,promises:_0x365b8c}=KD(_0xc65721,_0x3c9f6a,_0x1802dd,_0x69f258),_0x54e8a3=JD(_0x3c9f6a,_0x42287f,_0x1802dd,_0x69f258);e2(_0xc65721,_0x3c9f6a,_0x142e50,_0x1802dd);const _0x15439d=await Promise['all'](_0x59d07e),_0x11e8c1=_0x15439d['map'](_0xc05867=>_0xc05867['resource']),_0x109e00=ZD(_0x3c9f6a,_0x11e8c1,_0x69f258),_0x429a36=YD(_0xc65721,_0x3c9f6a,_0x42287f,_0x1802dd),_0x229827=[];for(let _0x2971e2=0x30*-0x8c+-0x2061+0x3aa1;_0x2971e2<_0x41b6e8['length'];_0x2971e2++)_0x229827[_0x2971e2]=new Hp(),_0x229827[_0x2971e2]['meshes']=_0x41b6e8[_0x2971e2];n2(_0x3c9f6a,_0x229827,_0x429a36);const _0x338050=new SD();return _0x338050['gltf']=_0x3c9f6a,_0x338050['nodes']=_0x42287f,_0x338050['scenes']=_0x4490d7,_0x338050['animations']=_0x54e8a3,_0x338050['textures']=_0x15439d,_0x338050['materials']=_0x109e00,_0x338050['variants']=_0xb7b18b,_0x338050['meshVarian'+'ts']=_0x44a94e,_0x338050['meshDefaul'+'tMaterials']=_0x311562,_0x338050['renders']=_0x229827,_0x338050['skins']=_0x429a36,_0x338050['lights']=_0x234f1a,_0x338050['cameras']=_0x431c53,_0x338050['nodeInstan'+'cingMap']=_0x142e50,_0x2b34c7&&_0x2b34c7(_0x3c9f6a,_0x338050),await Promise['all'](_0x365b8c),_0x338050;},o2=(_0x1ea7de,_0x3bf30d)=>{const _0x4f46d6=(_0x9414cd,_0xc81330)=>{switch(_0x9414cd){case 0xc*0x50d+-0x412+-0x3*0x62e:return de;case-0x1030+0x2*0x113f+0x13b3:return st;case 0xe*-0x1de+0x2c35+-0xe9*-0x17:return fc;case 0x5e0*0xa+0x32a5+-0x4664:return mc;case 0x2f00+-0x120c+0x9*0x11e:return pc;case 0x1e0*-0x23+-0xd3*0x25+0x9a7*0xe:return nn;default:return _0xc81330;}},_0x5de5f4=(_0x3a7226,_0x5ad8df)=>{switch(_0x3a7226){case 0x5186+0x9b*-0x49+0x4*0x16f7:return ae;case-0x1*-0x8571+0x5488*0x1+-0x1*0x5689:return Of;case-0x28c7+-0x53*0xe2+0x9b0e:return tt;default:return _0x5ad8df;}};_0x1ea7de&&(_0x3bf30d=_0x3bf30d??{},_0x1ea7de['minFilter']=_0x4f46d6(_0x3bf30d['minFilter'],nn),_0x1ea7de['magFilter']=_0x4f46d6(_0x3bf30d['magFilter'],st),_0x1ea7de['addressU']=_0x5de5f4(_0x3bf30d['wrapS'],tt),_0x1ea7de['addressV']=_0x5de5f4(_0x3bf30d['wrapT'],tt));};let l2=0x2*0x4f8+0x17e2+-0x21d2;const vf=_0x1cf31e=>{var _0x3010d6,_0x573700,_0x277302,_0xf2ca12;return((_0x573700=(_0x3010d6=_0x1cf31e['extensions'])==null?void(0x1*-0x1a8f+0x219c+0x13*-0x5f):_0x3010d6['KHR_textur'+'e_basisu'])==null?void(0x11*-0x161+0x2*-0x251+0x1*0x1c13):_0x573700['source'])??((_0xf2ca12=(_0x277302=_0x1cf31e['extensions'])==null?void(-0x267*-0x2+-0xc2e*-0x1+-0x1*0x10fc):_0x277302['EXT_textur'+'e_webp'])==null?void(-0x1e*0xf+-0xeb*0x1+0x2ad):_0xf2ca12['source'])??_0x1cf31e['source'];},h2=(_0x4a30c8,_0x497b6b,_0x58be85,_0x1bb469,_0x3e5e48)=>{var _0x571474,_0xb9bb23,_0x3b3955;if(!_0x4a30c8['images']||_0x4a30c8['images']['length']===-0x829+-0xe96+0x16bf)return[];const _0x1c7d88=(_0x571474=_0x3e5e48==null?void(0x24f6+-0x182*0x4+0x1*-0x1eee):_0x3e5e48['image'])==null?void(0x1*-0x4cb+0xdb7+-0x8ec):_0x571474['preprocess'],_0x4ec586=(_0xb9bb23=_0x3e5e48==null?void(0x5e2*0x3+-0x31*0x1d+-0xc19):_0x3e5e48['image'])==null?void(-0x1a95*0x1+-0xee7+0x297c):_0xb9bb23['processAsy'+'nc'],_0x45cb1a=(_0x3b3955=_0x3e5e48==null?void(0x17d9+0x1536+-0x2d0f):_0x3e5e48['image'])==null?void(0x2416+0x27+-0x243d*0x1):_0x3b3955['postproces'+'s'],_0x28312e={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0xbf67eb=_0x29cbce=>{const _0x3a4b87=new Set();return _0x29cbce['hasOwnProp'+'erty']('materials')&&_0x29cbce['materials']['forEach'](_0xf16cc4=>{if(_0xf16cc4['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x1ece5b=_0xf16cc4['pbrMetalli'+'cRoughness'];if(_0x1ece5b['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x5f21f9=_0x29cbce['textures'][_0x1ece5b['baseColorT'+'exture']['index']];_0x3a4b87['add'](vf(_0x5f21f9));}}if(_0xf16cc4['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x3dc5ca=_0x29cbce['textures'][_0xf16cc4['emissiveTe'+'xture']['index']];_0x3a4b87['add'](vf(_0x3dc5ca));}}),_0x3a4b87;},_0x597128=(_0xdefcea,_0x1f83d9,_0x5c3769,_0x4aebcb,_0x23af87,_0x513a82)=>new Promise((_0x1ad158,_0x1e8568)=>{const _0x208278=_0x186320=>{const _0x4de305=(_0xdefcea['name']||'gltf-textu'+'re')+'-'+l2++,_0x31fa47={'url':_0x1f83d9||_0x4de305};if(_0x186320&&(_0x31fa47['contents']=_0x186320['slice'](0x10*0xa9+-0x2*0x5cd+0x10a)['buffer']),_0x4aebcb){const _0x24a27a=_0x28312e[_0x4aebcb];_0x24a27a&&(_0x31fa47['filename']=_0x31fa47['url']+'.'+_0x24a27a);}const _0x43ae5c={'srgb':_0x513a82},_0x4763a1=new le(_0x4de305,'texture',_0x31fa47,_0x43ae5c,_0x23af87);_0x4763a1['on']('load',_0x2eb2b5=>_0x1ad158(_0x2eb2b5)),_0x4763a1['on']('error',_0x558aab=>_0x1e8568(_0x558aab)),_0x1bb469['add'](_0x4763a1),_0x1bb469['load'](_0x4763a1);};_0x5c3769?_0x5c3769['then'](_0x56d6b5=>_0x208278(_0x56d6b5)):_0x208278(null);}),_0x45e429=_0xbf67eb(_0x4a30c8);return _0x4a30c8['images']['map']((_0x5441fc,_0x61a62)=>{_0x1c7d88&&_0x1c7d88(_0x5441fc);let _0x3c2806;return _0x4ec586?_0x3c2806=new Promise((_0x3abd5b,_0x5e5fcf)=>{_0x4ec586(_0x5441fc,(_0x249279,_0x116bf1)=>{_0x249279?_0x5e5fcf(_0x249279):_0x3abd5b(_0x116bf1);});}):_0x3c2806=new Promise(_0x50f11a=>{_0x50f11a(null);}),_0x3c2806=_0x3c2806['then'](_0x5311f3=>{const _0x2a51c7=_0x45e429['has'](_0x61a62);return _0x5311f3||(_0x5441fc['hasOwnProp'+'erty']('uri')?Rx(_0x5441fc['uri'])?_0x597128(_0x5441fc,_0x5441fc['uri'],null,vD(_0x5441fc['uri']),null,_0x2a51c7):_0x597128(_0x5441fc,Da['test'](_0x5441fc['uri'])?_0x5441fc['uri']:fe['join'](_0x58be85,_0x5441fc['uri']),null,null,{'crossOrigin':'anonymous'},_0x2a51c7):_0x5441fc['hasOwnProp'+'erty']('bufferView')&&_0x5441fc['hasOwnProp'+'erty']('mimeType')?_0x597128(_0x5441fc,null,_0x497b6b[_0x5441fc['bufferView']],_0x5441fc['mimeType'],null,_0x2a51c7):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x61a62)));}),_0x45cb1a&&(_0x3c2806=_0x3c2806['then'](_0x1c7773=>(_0x45cb1a(_0x5441fc,_0x1c7773),_0x1c7773))),_0x3c2806;});},c2=(_0x4c0559,_0x57ce10,_0x2e7c0d)=>{var _0x2524c9,_0x3466ee,_0x4d0799,_0x549a35,_0x621709;if(!((_0x2524c9=_0x4c0559==null?void(0x9d+-0x1*0xb80+0x1*0xae3):_0x4c0559['images'])!=null&&_0x2524c9['length'])||!((_0x3466ee=_0x4c0559==null?void(-0x1*-0xaef+-0x7f*-0x11+-0x135e):_0x4c0559['textures'])!=null&&_0x3466ee['length']))return[];const _0x250e59=(_0x4d0799=_0x2e7c0d==null?void(-0xad3+-0x14*0x13+0x1*0xc4f):_0x2e7c0d['texture'])==null?void(0xa6e+-0x19f6*-0x1+-0x2464):_0x4d0799['preprocess'],_0x46f551=(_0x549a35=_0x2e7c0d==null?void(0x126a*-0x2+-0xb*-0x14c+0x2*0xb48):_0x2e7c0d['texture'])==null?void(0x1dfd*-0x1+0x3b*-0xa4+-0x7*-0x9af):_0x549a35['processAsy'+'nc'],_0x2db5f9=(_0x621709=_0x2e7c0d==null?void(0xb2a*-0x2+0x2*0x7+0x1646):_0x2e7c0d['texture'])==null?void(0x6f4+0x258c+-0x2c80):_0x621709['postproces'+'s'],_0x45aeca=new Set();return _0x4c0559['textures']['map'](_0x47ce0d=>{_0x250e59&&_0x250e59(_0x47ce0d);let _0x216e45;return _0x46f551?_0x216e45=new Promise((_0x4853e1,_0x356c39)=>{_0x46f551(_0x47ce0d,_0x4c0559['images'],(_0x4c2fe2,_0x4690f1)=>{_0x4c2fe2?_0x356c39(_0x4c2fe2):_0x4853e1(_0x4690f1);});}):_0x216e45=new Promise(_0x56b9ee=>{_0x56b9ee(null);}),_0x216e45=_0x216e45['then'](_0x32b3c7=>{_0x32b3c7=_0x32b3c7??vf(_0x47ce0d);const _0x271eb4=_0x45aeca['has'](_0x32b3c7);return _0x45aeca['add'](_0x32b3c7),_0x57ce10[_0x32b3c7]['then'](_0x3e9da9=>{const _0x1dd0ff=_0x271eb4?MD(_0x3e9da9):_0x3e9da9;return o2(_0x1dd0ff['resource'],(_0x4c0559['samplers']??[])[_0x47ce0d['sampler']]),_0x1dd0ff;});}),_0x2db5f9&&(_0x216e45=_0x216e45['then'](_0x2ed371=>(_0x2db5f9(_0x47ce0d,_0x2ed371),_0x2ed371))),_0x216e45;});},d2=(_0x4023f3,_0x1e1465,_0x815080,_0x40c8d7)=>{var _0x54ead3,_0x4fa3d5,_0x2dadb2;if(!_0x4023f3['buffers']||_0x4023f3['buffers']['length']===-0x4c1*-0x5+0x4*0x3c0+0x19*-0x18d)return[];const _0x29f6dd=(_0x54ead3=_0x40c8d7==null?void(-0x8f*-0xc+-0x31*-0x8b+-0x1*0x214f):_0x40c8d7['buffer'])==null?void(-0x806+-0x8a3+-0x10a9*-0x1):_0x54ead3['preprocess'],_0x2586af=(_0x4fa3d5=_0x40c8d7==null?void(0x2*0x68+-0x1*-0x7d2+-0x8a2):_0x40c8d7['buffer'])==null?void(-0x89c+-0x144*-0xc+-0x694):_0x4fa3d5['processAsy'+'nc'],_0x4f8bc3=(_0x2dadb2=_0x40c8d7==null?void(-0x4b*0x6e+0x16*0x11b+0x7e8):_0x40c8d7['buffer'])==null?void(-0x1*0x63a+0x2536+-0x1efc*0x1):_0x2dadb2['postproces'+'s'];return _0x4023f3['buffers']['map']((_0x206853,_0x5e02b1)=>{_0x29f6dd&&_0x29f6dd(_0x206853);let _0x1c7c10;return _0x2586af?_0x1c7c10=new Promise((_0x4b093a,_0x57e079)=>{_0x2586af(_0x206853,(_0xf91622,_0x510909)=>{_0xf91622?_0x57e079(_0xf91622):_0x4b093a(_0x510909);});}):_0x1c7c10=new Promise(_0x16785a=>{_0x16785a(null);}),_0x1c7c10=_0x1c7c10['then'](_0x45ce3a=>{if(_0x45ce3a)return _0x45ce3a;if(_0x206853['hasOwnProp'+'erty']('uri')){if(Rx(_0x206853['uri'])){const _0x1bfc43=atob(_0x206853['uri']['split'](',')[0xc62*-0x3+0xfd8+0x154f]),_0x24103a=new Uint8Array(_0x1bfc43['length']);for(let _0xea53b5=0x1f73+-0x1993*0x1+-0x5e0;_0xea53b5<_0x1bfc43['length'];_0xea53b5++)_0x24103a[_0xea53b5]=_0x1bfc43['charCodeAt'](_0xea53b5);return _0x24103a;}return new Promise((_0x400f76,_0x4bd7dc)=>{We['get'](Da['test'](_0x206853['uri'])?_0x206853['uri']:fe['join'](_0x815080,_0x206853['uri']),{'cache':!(0x1744+-0x2449+-0x65*-0x21),'responseType':'arraybuffe'+'r','retry':!(-0x2*-0x24d+0x1add+-0xfbb*0x2)},(_0xa800af,_0x3b51db)=>{_0xa800af?_0x4bd7dc(_0xa800af):_0x400f76(new Uint8Array(_0x3b51db));});});}return _0x1e1465;}),_0x4f8bc3&&(_0x1c7c10=_0x1c7c10['then'](_0x283ab1=>(_0x4f8bc3(_0x4023f3['buffers'][_0x5e02b1],_0x283ab1),_0x283ab1))),_0x1c7c10;});},u2=(_0x9fe980,_0x1b97d3)=>{const _0x56d706=JSON['parse']((_0x24c440=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x24c440);let _0x11631d='';for(let _0x45cc2c=0xca6+-0xe91+0x1*0x1eb;_0x45cc2c<_0x24c440['length'];_0x45cc2c++)_0x11631d+=String['fromCharCo'+'de'](_0x24c440[_0x45cc2c]);return decodeURIComponent(escape(_0x11631d));})(_0x9fe980));if(_0x56d706['asset']&&_0x56d706['asset']['version']&&parseFloat(_0x56d706['asset']['version'])<0x8fe*-0x4+-0xe73+-0x326d*-0x1){_0x1b97d3('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x56d706['asset']['version']+'\x27.');return;}_0x1b97d3(null,_0x56d706);},f2=(_0x2346ea,_0xb34245)=>{const _0x80d06d=_0x2346ea instanceof ArrayBuffer?new DataView(_0x2346ea):new DataView(_0x2346ea['buffer'],_0x2346ea['byteOffset'],_0x2346ea['byteLength']),_0x490290=_0x80d06d['getUint32'](0xc5c+0x6*0x49b+-0x27fe,!(-0x1fea+-0x13ef+0x33d9*0x1)),_0x738ef8=_0x80d06d['getUint32'](-0x669*0x1+-0xc99+0x1306,!(-0x1*-0x10e2+-0x20be+-0xfdc*-0x1)),_0xbd9858=_0x80d06d['getUint32'](0x401+-0x7*-0x2ba+0x170f*-0x1,!(-0x2*0x304+0x7*-0x23+0x6fd));if(_0x490290!==0x30d6d0e6*-0x1+-0x7*-0x67a8103+0x14*0x3b0e2b6){_0xb34245('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x490290['toString'](0x41b*-0x7+-0x2018*-0x1+0x1*-0x34b));return;}if(_0x738ef8!==-0x1*0x565+-0x7d+0x2f2*0x2){_0xb34245('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x738ef8);return;}if(_0xbd9858<=-0x1e72+-0x17fb+0x366d||_0xbd9858>_0x80d06d['byteLength']){_0xb34245('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0xbd9858);return;}const _0x2a5163=[];let _0x2853a6=-0xb8c+-0x1c8b+0x2823;for(;_0x2853a6<_0xbd9858;){const _0x2d9066=_0x80d06d['getUint32'](_0x2853a6,!(0x162f+0x82+-0x9d*0x25));_0x2853a6+_0x2d9066+(0x1e1c+-0x92*0x15+-0x121a)>_0x80d06d['byteLength']&&_0xb34245('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x2d9066);const _0x365b8b=_0x80d06d['getUint32'](_0x2853a6+(0x152d+-0x1f21+0x9f8),!(-0x7d*-0x49+0x569+-0x290e)),_0x1d5c3b=new Uint8Array(_0x80d06d['buffer'],_0x80d06d['byteOffset']+_0x2853a6+(-0x1*0x1e6b+0xfc5+0xeae),_0x2d9066);_0x2a5163['push']({'length':_0x2d9066,'type':_0x365b8b,'data':_0x1d5c3b}),_0x2853a6+=_0x2d9066+(-0x2*-0x565+-0x1acb+0x1009);}if(_0x2a5163['length']!==0xc9c+-0x25a3+0x8*0x321&&_0x2a5163['length']!==-0x14ed*-0x1+-0x364*-0x9+-0x336f){_0xb34245('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x2a5163[-0x9*0x24a+0xb6*-0x2f+0x1*0x3604]['type']!==0x72133c10+-0x122fa57*0x83+0x712231bf){_0xb34245('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x2a5163[-0x2447+-0x26fd+-0x4b44*-0x1]['type']['toString'](0x1*-0x4fb+0x1ceb+-0x17e0));return;}if(_0x2a5163['length']>0x6be*0x1+-0x1*-0xadc+-0x1199&&_0x2a5163[0x8*0x61+0x17a8+-0xfd*0x1b]['type']!==-0x60acc2+0x8d9df*-0x1+0x31*0x3c053){_0xb34245('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x2a5163[-0xf23+-0x796+0x16ba]['type']['toString'](0x35d*0x1+0x8dc+0xc29*-0x1));return;}_0xb34245(null,{'gltfChunk':_0x2a5163[-0x2317*-0x1+-0x2e*0x71+-0xec9]['data'],'binaryChunk':_0x2a5163['length']===0x10bb*0x1+-0x11f3+-0x2*-0x9d?_0x2a5163[-0x961+-0x918+-0x1*-0x127a]['data']:null});},p2=(_0x292d37,_0x283a20,_0x10847f)=>{const _0x15cf4d=()=>{const _0x3f7c20=new Uint8Array(_0x283a20);return _0x3f7c20[0x1f84+-0x7e6*-0x4+-0x3f1c*0x1]===0x1*-0x124a+-0xab3+0x1d64&&_0x3f7c20[-0x6*0x411+0x11*0x23c+0x487*-0x3]===-0x13*-0x1c+0x74*0x47+0xa*-0x362&&_0x3f7c20[-0x1d*0x90+0x1*-0x125d+0x22af*0x1]===-0xb97+0xe30+-0x245&&_0x3f7c20[0xa*-0x7f+0xcf*-0x2e+0x55*0x7f]===0x1825+0xabf+0x15*-0x1a6;};_0x292d37&&_0x292d37['toLowerCas'+'e']()['endsWith']('.glb')||_0x15cf4d()?f2(_0x283a20,_0x10847f):_0x10847f(null,{'gltfChunk':_0x283a20,'binaryChunk':null});},m2=(_0x43011f,_0x426171,_0xaea106)=>{var _0x28cf36,_0x13046,_0x5936de,_0x3741d6;const _0x36e309=[],_0x191f44=(_0x28cf36=_0xaea106==null?void(-0x1d57+-0x10e1+0x2e38):_0xaea106['bufferView'])==null?void(0x1cf1*0x1+0x1499*-0x1+-0x858):_0x28cf36['preprocess'],_0x3ed758=(_0x13046=_0xaea106==null?void(-0x1527+0x91+0x2*0xa4b):_0xaea106['bufferView'])==null?void(-0xe*0x7d+-0x1ee+0x8c4):_0x13046['processAsy'+'nc'],_0x13cb50=(_0x5936de=_0xaea106==null?void(-0xddc*0x1+0x2e*0xb6+0xc*-0x192):_0xaea106['bufferView'])==null?void(0x13f6+-0x238c+0x5*0x31e):_0x5936de['postproces'+'s'];if(!((_0x3741d6=_0x43011f['bufferView'+'s'])!=null&&_0x3741d6['length']))return _0x36e309;for(let _0x99aae7=0x7a9*-0x1+-0x8*-0xe3+0x91;_0x99aae7<_0x43011f['bufferView'+'s']['length'];++_0x99aae7){const _0x5bd455=_0x43011f['bufferView'+'s'][_0x99aae7];_0x191f44&&_0x191f44(_0x5bd455);let _0x47f95f;_0x3ed758?_0x47f95f=new Promise((_0x2af1c6,_0x5e7521)=>{_0x3ed758(_0x5bd455,_0x426171,(_0x39f3b3,_0x4c79ba)=>{_0x39f3b3?_0x5e7521(_0x39f3b3):_0x2af1c6(_0x4c79ba);});}):_0x47f95f=new Promise(_0x5d7623=>{_0x5d7623(null);}),_0x47f95f=_0x47f95f['then'](_0xb4778a=>_0xb4778a||_0x426171[_0x5bd455['buffer']]['then'](_0x3ba6d8=>new Uint8Array(_0x3ba6d8['buffer'],_0x3ba6d8['byteOffset']+(_0x5bd455['byteOffset']||-0x150+-0x160f+-0x1f*-0xc1),_0x5bd455['byteLength']))),_0x5bd455['hasOwnProp'+'erty']('byteStride')&&(_0x47f95f=_0x47f95f['then'](_0x19bbec=>(_0x19bbec['byteStride']=_0x5bd455['byteStride'],_0x19bbec))),_0x13cb50&&(_0x47f95f=_0x47f95f['then'](_0x3f33f3=>(_0x13cb50(_0x5bd455,_0x3f33f3),_0x3f33f3))),_0x36e309['push'](_0x47f95f);}return _0x36e309;};class tc{static['parse'](_0x57c934,_0x424aa8,_0x45952d,_0x515f70,_0x578e1a,_0x4d89a8,_0x3b1fed){p2(_0x57c934,_0x45952d,(_0x1ee80e,_0x3cedbb)=>{if(_0x1ee80e){_0x3b1fed(_0x1ee80e);return;}u2(_0x3cedbb['gltfChunk'],(_0x2f0b9d,_0x1c2d5c)=>{if(_0x2f0b9d){_0x3b1fed(_0x2f0b9d);return;}const _0x18d476=d2(_0x1c2d5c,_0x3cedbb['binaryChun'+'k'],_0x424aa8,_0x4d89a8),_0x4e81ed=m2(_0x1c2d5c,_0x18d476,_0x4d89a8),_0x39da49=h2(_0x1c2d5c,_0x4e81ed,_0x424aa8,_0x578e1a,_0x4d89a8),_0x93d722=c2(_0x1c2d5c,_0x39da49,_0x4d89a8);a2(_0x515f70,_0x1c2d5c,_0x4e81ed,_0x93d722,_0x4d89a8)['then'](_0x5d7684=>_0x3b1fed(null,_0x5d7684))['catch'](_0x32d340=>_0x3b1fed(_0x32d340));});});}static['createDefa'+'ultMateria'+'l'](){return Dx({'name':'defaultGlb'+'Material'},[]);}}class _2 extends Ne{constructor(_0xefa601){super(_0xefa601,'animation'),this['device']=_0xefa601['graphicsDe'+'vice'],this['assets']=_0xefa601['assets'];}['load'](_0x5bf702,_0x3f93ce,_0xe0a15a){typeof _0x5bf702=='string'&&(_0x5bf702={'load':_0x5bf702,'original':_0x5bf702});const _0x477e04={'retry':this['maxRetries']>0x25b7*0x1+-0x2dc+-0x22db*0x1,'maxRetries':this['maxRetries']};(_0x5bf702['load']['startsWith']('blob:')||_0x5bf702['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x5bf702['original'])['toLowerCas'+'e']()==='.glb'?_0x477e04['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x477e04['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x5bf702['load'],_0x477e04,(_0xd254bc,_0x2120f8)=>{_0xd254bc?_0x3f93ce('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x5bf702['original']+'\x20['+_0xd254bc+']'):fe['getExtensi'+'on'](_0x5bf702['original'])['toLowerCas'+'e']()==='.glb'?tc['parse']('filename.g'+'lb','',_0x2120f8,this['device'],this['assets'],(_0xe0a15a==null?void(0xdb8+-0x3d*0x73+0xdaf):_0xe0a15a['options'])??{},(_0x2dc6cf,_0x2b582d)=>{var _0xe54770;if(_0x2dc6cf)_0x3f93ce(_0x2dc6cf);else{const _0x36431c=_0x2b582d['animations'];if((_0xe54770=_0xe0a15a==null?void(0x9*0x9+0x7f*-0x4d+0x25e2):_0xe0a15a['data'])!=null&&_0xe54770['events']){for(let _0x37247b=-0x16*-0x10d+-0x26e*0xb+-0x4*-0xe7;_0x37247b<_0x36431c['length'];_0x37247b++)_0x36431c[_0x37247b]['events']=new Y0(Object['values'](_0xe0a15a['data']['events']));}_0x2b582d['destroy'](),_0x3f93ce(null,_0x36431c);}}):_0x3f93ce(null,this['_parseAnim'+'ationV'+_0x2120f8['animation']['version']](_0x2120f8));});}['open'](_0x5a5675,_0xcf0f52,_0x437c4b){return _0xcf0f52;}['_parseAnim'+'ationV3'](_0x2e805b){const _0x17d638=_0x2e805b['animation'],_0x4910a0=new k_();_0x4910a0['name']=_0x17d638['name'],_0x4910a0['duration']=_0x17d638['duration'];for(let _0x5df03c=0x6d8+0x121b+-0x18f3;_0x5df03c<_0x17d638['nodes']['length'];_0x5df03c++){const _0x12c23b=new O_(),_0x4873bd=_0x17d638['nodes'][_0x5df03c];_0x12c23b['_name']=_0x4873bd['name'];for(let _0x2220e0=-0x1c24*0x1+-0xbb3*-0x3+-0x89*0xd;_0x2220e0<_0x4873bd['keys']['length'];_0x2220e0++){const _0x42fdbf=_0x4873bd['keys'][_0x2220e0],_0x1a514d=_0x42fdbf['time'],_0x49bfd3=_0x42fdbf['pos'],_0x3129f1=_0x42fdbf['rot'],_0x28e2e6=_0x42fdbf['scale'],_0xc254c3=new T(_0x49bfd3[-0x2039+-0x216a+0x3*0x15e1],_0x49bfd3[0x3b*-0x8+0x534*-0x2+0xc41*0x1],_0x49bfd3[0xaa*0x29+-0x2*0x359+-0x1486]),_0x7e1a70=new se()['setFromEul'+'erAngles'](_0x3129f1[0x4*-0x7a9+0x23bf+-0x51b*0x1],_0x3129f1[0x23*-0xe0+0x1e99+0x8*0x1],_0x3129f1[-0xf26+-0x5*0x122+0x14d2]),_0x56eff3=new T(_0x28e2e6[-0x2e3+0x13*0x127+-0x1302],_0x28e2e6[-0x1073*-0x1+-0x263c+0x15ca],_0x28e2e6[0x1*-0x132c+-0x1c00+0x21*0x16e]),_0x57f7e8=new F_(_0x1a514d,_0xc254c3,_0x7e1a70,_0x56eff3);_0x12c23b['_keys']['push'](_0x57f7e8);}_0x4910a0['addNode'](_0x12c23b);}return _0x4910a0;}['_parseAnim'+'ationV4'](_0x363e43){const _0x5588fc=_0x363e43['animation'],_0x57e200=new k_();_0x57e200['name']=_0x5588fc['name'],_0x57e200['duration']=_0x5588fc['duration'];for(let _0x1458fd=0x2308+0x2*-0x3a5+-0x2*0xddf;_0x1458fd<_0x5588fc['nodes']['length'];_0x1458fd++){const _0x24ac8=new O_(),_0x1c7003=_0x5588fc['nodes'][_0x1458fd];_0x24ac8['_name']=_0x1c7003['name'];const _0x3f0d52=_0x1c7003['defaults']['p'],_0x286aff=_0x1c7003['defaults']['r'],_0x41fdfb=_0x1c7003['defaults']['s'];for(let _0x51e187=-0x25a+0x1d2b+0x55d*-0x5;_0x51e187<_0x1c7003['keys']['length'];_0x51e187++){const _0x5a6d25=_0x1c7003['keys'][_0x51e187],_0x4ca5d5=_0x5a6d25['t'],_0x470d2c=_0x3f0d52||_0x5a6d25['p'],_0x5cd76e=_0x286aff||_0x5a6d25['r'],_0xb51b0b=_0x41fdfb||_0x5a6d25['s'],_0x1cbc89=new T(_0x470d2c[-0x256a+0x171+-0x23f9*-0x1],_0x470d2c[0x93*0x11+-0x9b*0x2f+-0x1*-0x12b3],_0x470d2c[-0x179*-0x7+0x1171+-0x1bbe]),_0x4f708c=new se()['setFromEul'+'erAngles'](_0x5cd76e[0xe32+-0x1*-0x2167+-0x1*0x2f99],_0x5cd76e[0x1a73+0x1ec6+-0x3938],_0x5cd76e[0x5ef*-0x4+0xb5e+-0x30*-0x42]),_0x323c4b=new T(_0xb51b0b[0x1*0x18fd+0x2291+-0x3b8e],_0xb51b0b[0x1106*-0x1+-0x23*-0x11d+-0x4e*0x48],_0xb51b0b[0x8bd+-0x888+-0x33]),_0x143702=new F_(_0x4ca5d5,_0x1cbc89,_0x4f708c,_0x323c4b);_0x24ac8['_keys']['push'](_0x143702);}_0x57e200['addNode'](_0x24ac8);}return _0x57e200;}}class g2 extends Ne{constructor(_0x3b3024){super(_0x3b3024,'animclip');}['load'](_0x413474,_0xd708e1){typeof _0x413474=='string'&&(_0x413474={'load':_0x413474,'original':_0x413474});const _0x128977={'retry':this['maxRetries']>0x6*0x1f7+0x35f*-0x4+0x1b2,'maxRetries':this['maxRetries']};_0x413474['load']['startsWith']('blob:')&&(_0x128977['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x413474['load'],_0x128977,(_0x91417e,_0x418dab)=>{_0x91417e?_0xd708e1('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x413474['original']+'\x20['+_0x91417e+']'):_0xd708e1(null,_0x418dab);});}['open'](_0x8f0fe0,_0xde72d5){const _0x163a31=_0xde72d5['name'],_0x2d998b=_0xde72d5['duration'],_0x4727c5=_0xde72d5['inputs']['map'](_0x2d7034=>new Jh(-0x24ea+0x164f+0x176*0xa,_0x2d7034)),_0x2a81d0=_0xde72d5['outputs']['map'](_0x34808b=>new Jh(_0x34808b['components'],_0x34808b['data'])),_0x300b91=_0xde72d5['curves']['map'](_0x1a1b53=>new Px([_0x1a1b53['path']],_0x1a1b53['inputIndex'],_0x1a1b53['outputInde'+'x'],_0x1a1b53['interpolat'+'ion']));return new Ri(_0x163a31,_0x2d998b,_0x4727c5,_0x2a81d0,_0x300b91);}}class y2 extends Ne{constructor(_0x57e363){super(_0x57e363,'animstateg'+'raph');}['load'](_0x49da83,_0x1bb9c6){typeof _0x49da83=='string'&&(_0x49da83={'load':_0x49da83,'original':_0x49da83});const _0x12920a={'retry':this['maxRetries']>-0x5*-0x249+0x11b8+0x33d*-0x9,'maxRetries':this['maxRetries']};_0x49da83['load']['startsWith']('blob:')&&(_0x12920a['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x49da83['load'],_0x12920a,(_0x17484f,_0x41f4fb)=>{_0x17484f?_0x1bb9c6('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x49da83['original']+'\x20['+_0x17484f+']'):_0x1bb9c6(null,_0x41f4fb);});}['open'](_0x237342,_0x548658){return new mh(_0x548658);}}const Qd=(function(){if(typeof window>'u')return!(0x1bf*0x6+-0x1214+-0x3*-0x289);const _0x1cdead=window['navigator']['userAgent'],_0x10f95=_0x1cdead['indexOf']('MSIE\x20');if(_0x10f95>-0x14f8+0x1b0d+-0x615)return parseInt(_0x1cdead['substring'](_0x10f95+(0x18aa+-0xd52+-0xb53),_0x1cdead['indexOf']('.',_0x10f95)),-0x1ad6+-0xc*-0x1e6+0x20c*0x2);if(_0x1cdead['indexOf']('Trident/')>0x2*0xea8+-0x1f1+0x5b*-0x4d){const _0x17e04d=_0x1cdead['indexOf']('rv:');return parseInt(_0x1cdead['substring'](_0x17e04d+(0xb15*-0x3+0x1b1e+0x624),_0x1cdead['indexOf']('.',_0x17e04d)),0x67*0x31+0x251d+0x1c65*-0x2);}return!(-0x1b47*-0x1+0x50e+-0x2054);}()),x2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class S2 extends Ne{constructor(_0x59cc3b){super(_0x59cc3b,'audio'),this['manager']=_0x59cc3b['soundManag'+'er'],v['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x3526b2){const _0x1cc7e5=fe['getExtensi'+'on'](_0x3526b2);return x2['indexOf'](_0x1cc7e5)>-(0xf6c+-0x244c+0x5*0x42d)||_0x3526b2['startsWith']('blob:');}['load'](_0x5bf9a6,_0x4791c5){typeof _0x5bf9a6=='string'&&(_0x5bf9a6={'load':_0x5bf9a6,'original':_0x5bf9a6});const _0x5734da=function(_0x333f21){_0x4791c5(null,new Bb(_0x333f21));},_0x5e96c5=function(_0x147a8c){let _0x347409='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x5bf9a6['original'];_0x147a8c&&(_0x347409+=':\x20'+(_0x147a8c['message']||_0x147a8c)),console['warn'](_0x347409),_0x4791c5(_0x347409);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x5bf9a6['original'])){_0x5e96c5('Audio\x20form'+'at\x20for\x20'+_0x5bf9a6['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x5bf9a6['load'],_0x5734da,_0x5e96c5);}else _0x5e96c5(null);}['_createSou'+'nd'](_0x4cd655,_0x41c92b,_0x5f4c71){if(Li()){const _0x1fb841=this['manager'];if(!_0x1fb841['context']){_0x5f4c71('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x1181b0={'retry':this['maxRetries']>-0x1246+-0x19*0xad+-0xbb9*-0x3,'maxRetries':this['maxRetries']};(_0x4cd655['startsWith']('blob:')||_0x4cd655['startsWith']('data:'))&&(_0x1181b0['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),We['get'](_0x4cd655,_0x1181b0,(_0xcd5c2e,_0x488ae8)=>{if(_0xcd5c2e){_0x5f4c71(_0xcd5c2e);return;}_0x1fb841['context']['decodeAudi'+'oData'](_0x488ae8,_0x41c92b,_0x5f4c71);});}else{let _0x2fdb4d=null;try{_0x2fdb4d=new Audio();}catch{_0x5f4c71('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Qd&&document['body']['appendChil'+'d'](_0x2fdb4d);const _0x1ed123=function(){_0x2fdb4d['removeEven'+'tListener']('canplaythr'+'ough',_0x1ed123),Qd&&document['body']['removeChil'+'d'](_0x2fdb4d),_0x41c92b(_0x2fdb4d);};_0x2fdb4d['onerror']=function(){_0x2fdb4d['onerror']=null,Qd&&document['body']['removeChil'+'d'](_0x2fdb4d),_0x5f4c71();},_0x2fdb4d['addEventLi'+'stener']('canplaythr'+'ough',_0x1ed123),_0x2fdb4d['src']=_0x4cd655;}}}class v2 extends Ne{constructor(_0x56120f){super(_0x56120f,'binary');}['load'](_0x14596e,_0x3e1703){typeof _0x14596e=='string'&&(_0x14596e={'load':_0x14596e,'original':_0x14596e}),We['get'](_0x14596e['load'],{'responseType':ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>0x11*0xcf+-0x1*-0x21bd+-0x17be*0x2,'maxRetries':this['maxRetries']},(_0x548bcd,_0xcc2d80)=>{_0x548bcd?_0x3e1703('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x14596e['original']+'\x20['+_0x548bcd+']'):_0x3e1703(null,_0xcc2d80);});}['openBinary'](_0x57d9db){return _0x57d9db['buffer'];}}class tr{constructor(_0x227136,_0x2d2e1d,_0xbb64ea,_0x34947f){const _0x1d41d9=function(_0x2343fc,_0x29778c,_0x2c7f5c){const _0x3b2603=tr['createAsse'+'t'](_0x2d2e1d['name'],_0x2343fc,_0x29778c,_0x2c7f5c);return _0xbb64ea['add'](_0x3b2603),_0x3b2603;},_0x2f858e=[];for(let _0xa9a7f2=-0x1442+-0x2399*0x1+0x37db;_0xa9a7f2<_0x227136['renders']['length'];++_0xa9a7f2)_0x2f858e['push'](_0x1d41d9('render',_0x227136['renders'][_0xa9a7f2],_0xa9a7f2));const _0x5d60bf=[];for(let _0x825886=0x1*-0xe8c+0x62b+0x861;_0x825886<_0x227136['materials']['length'];++_0x825886)_0x5d60bf['push'](_0x1d41d9('material',_0x227136['materials'][_0x825886],_0x825886));const _0x2ad2d5=[];for(let _0x32e8e6=0xb*-0x2ef+-0x41c+-0x1*-0x2461;_0x32e8e6<_0x227136['animations']['length'];++_0x32e8e6)_0x2ad2d5['push'](_0x1d41d9('animation',_0x227136['animations'][_0x32e8e6],_0x32e8e6));this['data']=_0x227136,this['_model']=null,this['_assetName']=_0x2d2e1d['name'],this['_assets']=_0xbb64ea,this['_defaultMa'+'terial']=_0x34947f,this['renders']=_0x2f858e,this['materials']=_0x5d60bf,this['textures']=_0x227136['textures'],this['animations']=_0x2ad2d5;}get['model'](){if(!this['_model']){const _0x3695f7=tr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x2efa1f=tr['createAsse'+'t'](this['_assetName'],'model',_0x3695f7,-0x1d*-0x84+0x17ac*-0x1+0x1f*0x48);this['_assets']['add'](_0x2efa1f),this['_model']=_0x2efa1f;}return this['_model'];}static['createAsse'+'t'](_0x125f9d,_0x4fdeeb,_0x5385b3,_0x24f907){const _0x41eb2e=new le(_0x125f9d+'/'+_0x4fdeeb+'/'+_0x24f907,_0x4fdeeb,{'url':''});return _0x41eb2e['resource']=_0x5385b3,_0x41eb2e['loaded']=!(0xa54+0x2002+0x2*-0x152b),_0x41eb2e;}['instantiat'+'eModelEnti'+'ty'](_0xd7c368){const _0x543c46=new $e();return _0x543c46['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0xd7c368)),_0x543c46;}['instantiat'+'eRenderEnt'+'ity'](_0x1f4c86){const _0x3a28f1=this['_defaultMa'+'terial'],_0x11b17c=[],_0x56320e=function(_0x4aae3f,_0x30f6cc,_0x2aba72,_0x31cdb1,_0x22e90f,_0x47bde3,_0x3e933b,_0x41dd96){const _0x4563d9=_0x22e90f[_0x2aba72['id']],_0x562ffc=_0x4563d9===void(0x7*-0x515+0x1*-0x1fb3+0x4346)?_0x3a28f1:_0x31cdb1[_0x4563d9],_0x40984d=new Le(_0x2aba72,_0x562ffc);_0x2aba72['morph']&&(_0x40984d['morphInsta'+'nce']=new fn(_0x2aba72['morph'])),_0x3e933b['hasOwnProp'+'erty']('skin')&&_0x11b17c['push']({'meshInstance':_0x40984d,'rootBone':_0x4aae3f,'entity':_0x30f6cc});const _0x457e2f=_0x41dd96['get'](_0x3e933b);if(_0x457e2f){const _0xf09248=_0x457e2f['matrices'],_0x366b5f=Et['getDefault'+'Instancing'+'Format'](_0x2aba72['device']),_0x214182=new os(_0x2aba72['device'],_0x366b5f,_0xf09248['length']/(-0x1*0x919+0x1740+-0x1*0xe17),{'data':_0xf09248});_0x40984d['setInstanc'+'ing'](_0x214182),_0x40984d['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x1*-0x19c7+-0x25b4+0xbed);}return _0x40984d;},_0x463c2c=(_0x125209,_0x3865ef,_0xc34b6)=>{const _0x289429=new $e();_0x3865ef['_cloneInte'+'rnal'](_0x289429),_0x125209||(_0x125209=_0x289429);let _0x1c6dd3=null,_0x105aa4=null;for(let _0x573d1a=0x1*-0xa96+0x13*-0x44+-0x57*-0x2e;_0x573d1a<_0xc34b6['nodes']['length'];_0x573d1a++)if(_0xc34b6['nodes'][_0x573d1a]===_0x3865ef){const _0x41cded=_0xc34b6['gltf']['nodes'][_0x573d1a];if(_0x41cded['hasOwnProp'+'erty']('mesh')){const _0x3a5b55=_0xc34b6['renders'][_0x41cded['mesh']]['meshes'];_0x105aa4=this['renders'][_0x41cded['mesh']];for(let _0x4345aa=0x88c+0x1a6f+0xc7*-0x2d;_0x4345aa<_0x3a5b55['length'];_0x4345aa++){const _0x1fd328=_0x3a5b55[_0x4345aa];if(_0x1fd328){const _0x31ec61=_0x56320e(_0x125209,_0x289429,_0x1fd328,_0xc34b6['materials'],_0xc34b6['meshDefaul'+'tMaterials'],_0xc34b6['skins'],_0x41cded,_0xc34b6['nodeInstan'+'cingMap']);_0x1c6dd3||(_0x1c6dd3=[]),_0x1c6dd3['push'](_0x31ec61);}}}if(_0xc34b6['lights']){const _0x257afd=_0xc34b6['lights']['get'](_0x41cded);_0x257afd&&_0x289429['addChild'](_0x257afd['clone']());}if(_0xc34b6['cameras']){const _0x480d9b=_0xc34b6['cameras']['get'](_0x41cded);_0x480d9b&&_0x480d9b['camera']['system']['cloneCompo'+'nent'](_0x480d9b,_0x289429);}}_0x1c6dd3&&(_0x289429['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x1c6dd3},_0x1f4c86)),_0x289429['render']['assignAsse'+'t'](_0x105aa4));const _0x13fe6a=_0x3865ef['children'];for(let _0x403557=0x132d+0x1222+-0x1*0x254f;_0x403557<_0x13fe6a['length'];_0x403557++){const _0x65da14=_0x463c2c(_0x125209,_0x13fe6a[_0x403557],_0xc34b6);_0x289429['addChild'](_0x65da14);}return _0x289429;},_0x1ae958=[];for(const _0x1df6a9 of this['data']['scenes'])_0x1ae958['push'](_0x463c2c(null,_0x1df6a9,this['data']));return _0x11b17c['forEach'](_0x3489ae=>{_0x3489ae['meshInstan'+'ce']['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x3489ae['meshInstan'+'ce']['mesh']['skin'],_0x3489ae['rootBone'],_0x3489ae['entity']),_0x3489ae['meshInstan'+'ce']['node']['render']['rootBone']=_0x3489ae['rootBone'];}),tr['createScen'+'eHierarchy'](_0x1ae958,$e);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x548605,_0x523f2a){const _0x51262e=_0x523f2a?this['data']['variants'][_0x523f2a]:null;if(_0x51262e===void(-0x1a26*-0x1+0x22a1+-0x3cc7)){v['warn']('No\x20variant'+'\x20named\x20'+_0x523f2a+('\x20exists\x20in'+'\x20resource'));return;}const _0x11f2c4=_0x548605['findCompon'+'ents']('render');for(let _0x32c264=0x805+0x678+0x1*-0xe7d;_0x32c264<_0x11f2c4['length'];_0x32c264++){const _0x45d1f4=_0x11f2c4[_0x32c264];this['_applyMate'+'rialVarian'+'t'](_0x51262e,_0x45d1f4['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x46272c,_0x348abe){const _0x502a3a=_0x348abe?this['data']['variants'][_0x348abe]:null;if(_0x502a3a===void(-0x7*-0x77+0x1b01+-0x50b*0x6)){v['warn']('No\x20variant'+'\x20named\x20'+_0x348abe+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x502a3a,_0x46272c);}['_applyMate'+'rialVarian'+'t'](_0x2bdf57,_0x116088){_0x116088['forEach'](_0x463f0f=>{if(_0x2bdf57===null)_0x463f0f['material']=this['_defaultMa'+'terial'];else{const _0x416d4c=this['data']['meshVarian'+'ts'][_0x463f0f['mesh']['id']];_0x416d4c&&(_0x463f0f['material']=this['data']['materials'][_0x416d4c[_0x2bdf57]]);}v['assert'](_0x463f0f['material']);});}static['createScen'+'eHierarchy'](_0x297560,_0x395438){let _0x3efb2a=null;if(_0x297560['length']===0x1*0x209f+0xbc8+0x2*-0x1633)_0x3efb2a=_0x297560[-0xd8a+0x1be9+-0xe5f*0x1];else{_0x3efb2a=new _0x395438('SceneGroup');for(const _0x2f57ac of _0x297560)_0x3efb2a['addChild'](_0x2f57ac);}return _0x3efb2a;}static['createMode'+'l'](_0x2e968d,_0x56c5b2){const _0x4f9f68=function(_0xff3271,_0x52eaf9,_0xc138ec,_0x81f207,_0x728345,_0x866c4c,_0x5bd68f){const _0x1dffa0=_0x2e968d['meshDefaul'+'tMaterials'][_0x52eaf9['id']],_0xdbdadd=_0x1dffa0===void(0x2216+-0x2*-0x3f6+0x11b*-0x26)?_0x56c5b2:_0x728345[_0x1dffa0],_0x3d3467=new Le(_0x52eaf9,_0xdbdadd,_0x866c4c);if(_0x52eaf9['morph']){const _0x2dcd1b=new fn(_0x52eaf9['morph']);_0x3d3467['morphInsta'+'nce']=_0x2dcd1b,_0xff3271['morphInsta'+'nces']['push'](_0x2dcd1b);}if(_0x5bd68f['hasOwnProp'+'erty']('skin')){const _0x4e90d9=_0x5bd68f['skin'],_0xa35c1f=_0xc138ec[_0x4e90d9];_0x52eaf9['skin']=_0xa35c1f;const _0x36f12e=_0x81f207[_0x4e90d9];_0x3d3467['skinInstan'+'ce']=_0x36f12e,_0xff3271['skinInstan'+'ces']['push'](_0x36f12e);}_0xff3271['meshInstan'+'ces']['push'](_0x3d3467);},_0x2f8c78=new Oi(),_0x5f4ef9=[];for(const _0x5e59fe of _0x2e968d['skins']){const _0x59cb19=new nl(_0x5e59fe);_0x59cb19['bones']=_0x5e59fe['bones'],_0x5f4ef9['push'](_0x59cb19);}_0x2f8c78['graph']=tr['createScen'+'eHierarchy'](_0x2e968d['scenes'],De);for(let _0x4fbe98=0x2c7*0xc+-0x21db*0x1+-0x2d*-0x3;_0x4fbe98<_0x2e968d['nodes']['length'];_0x4fbe98++){const _0x103c83=_0x2e968d['nodes'][_0x4fbe98];if(_0x103c83['root']===_0x2f8c78['graph']){const _0x55d414=_0x2e968d['gltf']['nodes'][_0x4fbe98];if(_0x55d414['hasOwnProp'+'erty']('mesh')){const _0x1c5791=_0x2e968d['renders'][_0x55d414['mesh']]['meshes'];for(let _0x1d0918=0x1720+0x5d4*0x2+-0x22c8;_0x1d0918<_0x1c5791['length'];_0x1d0918++){const _0x38976a=_0x1c5791[_0x1d0918];_0x38976a&&_0x4f9f68(_0x2f8c78,_0x38976a,_0x2e968d['skins'],_0x5f4ef9,_0x2e968d['materials'],_0x103c83,_0x55d414);}}}}return _0x2f8c78;}['destroy'](){const _0x103ada=this['_assets'],_0x196893=function(_0x1e5c20){_0x103ada['remove'](_0x1e5c20),_0x1e5c20['unload']();},_0x4d8b54=function(_0x4ceebc){_0x4ceebc['forEach'](_0x599382=>{_0x196893(_0x599382);});};this['animations']&&(_0x4d8b54(this['animations']),this['animations']=null),this['textures']&&(_0x4d8b54(this['textures']),this['textures']=null),this['materials']&&(_0x4d8b54(this['materials']),this['materials']=null),this['renders']&&(_0x4d8b54(this['renders']),this['renders']=null),this['_model']&&(_0x196893(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class b2{constructor(_0x127478,_0x4dba15,_0x2e8026){this['_device']=_0x127478,this['_assets']=_0x4dba15,this['_defaultMa'+'terial']=tc['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x2e8026;}['_getUrlWit'+'houtParams'](_0x38a63e){return _0x38a63e['indexOf']('?')>=-0x1692+0x16bd+-0x1*0x2b?_0x38a63e['split']('?')[0x2*-0xa77+0x1e45+-0x31d*0x3]:_0x38a63e;}['load'](_0xfd9f6a,_0x36fc1a,_0x4c3c30){le['fetchArray'+'Buffer'](_0xfd9f6a['load'],(_0x110890,_0x44394d)=>{_0x110890?_0x36fc1a(_0x110890):tc['parse'](this['_getUrlWit'+'houtParams'](_0xfd9f6a['original']),fe['extractPat'+'h'](_0xfd9f6a['load']),_0x44394d,this['_device'],_0x4c3c30['registry'],_0x4c3c30['options'],(_0x1bb1d1,_0x5e9a90)=>{_0x1bb1d1?_0x36fc1a(_0x1bb1d1):_0x36fc1a(null,new tr(_0x5e9a90,_0x4c3c30,this['_assets'],this['_defaultMa'+'terial']));});},_0x4c3c30,this['maxRetries']);}['open'](_0x20280c,_0x39522b,_0x5e4b84){return _0x39522b;}['patch'](_0x19dee4,_0x19b60c){}}class w2 extends Ne{constructor(_0x5ca054){super(_0x5ca054,'container'),this['glbContain'+'erParser']=new b2(_0x5ca054['graphicsDe'+'vice'],_0x5ca054['assets'],0x2af*0x8+0x1d*-0x1a+-0x943*0x2),this['parsers']={};}set['maxRetries'](_0x54d576){this['glbContain'+'erParser']['maxRetries']=_0x54d576;for(const _0x27d0c8 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x27d0c8)&&(this['parsers'][_0x27d0c8]['maxRetries']=_0x54d576);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x566f51){return _0x566f51['indexOf']('?')>=0xea5*0x1+-0x1*-0x11a4+-0x2049?_0x566f51['split']('?')[-0x1*-0x18e6+-0x26c0+0xdda]:_0x566f51;}['_getParser'](_0x21d4ef){const _0x2bbad8=_0x21d4ef?fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x21d4ef))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x2bbad8]||this['glbContain'+'erParser'];}['load'](_0x98055f,_0xc31c23,_0x30bd11){typeof _0x98055f=='string'&&(_0x98055f={'load':_0x98055f,'original':_0x98055f}),this['_getParser'](_0x98055f['original'])['load'](_0x98055f,_0xc31c23,_0x30bd11);}['open'](_0x5962d7,_0x47a017,_0x2f75d3){return this['_getParser'](_0x5962d7)['open'](_0x5962d7,_0x47a017,_0x2f75d3);}}class T2 extends Ne{constructor(_0x401660){super(_0x401660,'css'),c(this,'decoder',null);}['load'](_0x244dc0,_0x46b264){typeof _0x244dc0=='string'&&(_0x244dc0={'load':_0x244dc0,'original':_0x244dc0}),We['get'](_0x244dc0['load'],{'retry':this['maxRetries']>-0x16d7+-0x1*-0x1ab3+-0x3dc,'maxRetries':this['maxRetries']},(_0x31a12f,_0x1fca51)=>{_0x31a12f?_0x46b264('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x244dc0['original']+'\x20['+_0x31a12f+']'):_0x46b264(null,_0x1fca51);});}['openBinary'](_0x1236be){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x1236be);}}class A2 extends Ne{constructor(_0x11acfc){super(_0x11acfc,'cubemap'),this['_device']=_0x11acfc['graphicsDe'+'vice'],this['_registry']=_0x11acfc['assets'],this['_loader']=_0x11acfc['loader'];}['load'](_0x2ed9b2,_0x68ccf5,_0xc95e87){this['loadAssets'](_0xc95e87,_0x68ccf5);}['open'](_0x4d1e57,_0x98e19,_0x477abf){return _0x477abf?_0x477abf['resource']:null;}['patch'](_0x57daaf,_0x1b36ab){this['loadAssets'](_0x57daaf,(_0x2e319c,_0x3c216d)=>{_0x2e319c&&(_0x1b36ab['fire']('error',_0x57daaf),_0x1b36ab['fire']('error:'+_0x57daaf['id'],_0x2e319c,_0x57daaf),_0x57daaf['fire']('error',_0x57daaf));});}['getAssetId'+'s'](_0x3f0310){const _0x305c3e=[];if(_0x305c3e[0x1ddd+-0xb*-0x289+-0x39c0*0x1]=_0x3f0310['file'],(_0x3f0310['loadFaces']||!_0x3f0310['file'])&&_0x3f0310['data']&&_0x3f0310['data']['textures']){for(let _0x2fe332=-0x1e7*-0xf+-0x4e5+-0x17a4;_0x2fe332<0x26a3*-0x1+-0x53*0x67+0x480e;++_0x2fe332)_0x305c3e[_0x2fe332+(0x114+0x1ce2+-0x1df5)]=_0x3f0310['data']['textures'][_0x2fe332];}else _0x305c3e[-0x23db+-0x2676+0x15*0x38a]=_0x305c3e[-0x2*0x130f+0x1*-0x1c76+0x4296]=_0x305c3e[-0x3a*-0x2+0x2552+-0x25c3]=_0x305c3e[0x262+-0x7*0x309+0x12e1]=_0x305c3e[-0x10*0xcc+-0x180b+0x24d0]=_0x305c3e[0x392*-0x3+0x406+-0x6b6*-0x1]=null;return _0x305c3e;}['compareAss'+'etIds'](_0x265cb9,_0x48ee07){return _0x265cb9&&_0x48ee07?parseInt(_0x265cb9,-0x1*-0x766+-0xc9c+-0x7*-0xc0)===_0x265cb9||typeof _0x265cb9=='string'?_0x265cb9===_0x48ee07:_0x265cb9['url']===_0x48ee07['url']:_0x265cb9!==null==(_0x48ee07!==null);}['update'](_0x2d0113,_0x1a6981,_0x4d14d6){const _0x51264e=_0x2d0113['data']||{},_0x4b293f=_0x2d0113['_handlerSt'+'ate']['assets'],_0x305d95=_0x2d0113['_resources'];let _0x3a2d82,_0x32e05d,_0x59206b;const _0x5a7894=[null,null,null,null,null,null,null],_0x1898e0=function(){return _0x51264e['hasOwnProp'+'erty']('type')?_0x51264e['type']:_0x51264e['hasOwnProp'+'erty']('rgbm')?_0x51264e['rgbm']?on:Di:null;};if(!_0x2d0113['loaded']||_0x4d14d6[0x7*0x527+-0x820+-0x1bf1]!==_0x4b293f[0x1f79+-0x795+-0x17e4]){if(_0x4d14d6[-0x1556+0x1c85+-0x72f]){if(_0x3a2d82=_0x4d14d6[0x1f9e+0x3d*0x14+-0x2462*0x1]['resource'],_0x3a2d82['cubemap']){for(_0x59206b=0xf9*-0x1d+0x6*-0x575+0x8b5*0x7;_0x59206b<-0x9*0x93+0x2*0x63d+-0x175*0x5;++_0x59206b)_0x5a7894[_0x59206b+(0x1f5a+-0x2*-0x1246+-0x43e5)]=new he(this['_device'],{'name':_0x2d0113['name']+('_prelitCub'+'emap')+(_0x3a2d82['width']>>_0x59206b),'cubemap':!(0x2*0x5e+-0x1fb5*0x1+0x1ef9*0x1),'type':_0x1898e0()||_0x3a2d82['type'],'width':_0x3a2d82['width']>>_0x59206b,'height':_0x3a2d82['height']>>_0x59206b,'format':_0x3a2d82['format'],'levels':[_0x3a2d82['_levels'][_0x59206b]],'addressU':ae,'addressV':ae,'mipmaps':_0x59206b===-0x53b+0x1*0x881+-0x346});}else _0x5a7894[0xb5+-0x1ebf+0x1e0b]=_0x3a2d82;}}else _0x5a7894[-0x15b*-0xb+-0x61e+-0x8ca]=_0x305d95[-0xcd1+-0xf04+0x1bd6]||null,_0x5a7894[-0x476*-0x4+-0x11ff+-0x1*-0x29]=_0x305d95[-0x1bd*-0x1+-0x843+0x688]||null,_0x5a7894[-0x1a4e+0x857*0x2+0x9a3]=_0x305d95[0x662*0x3+0x865+0x1*-0x1b88]||null,_0x5a7894[-0x15d*0x1c+-0x7f*-0xf+0x1ebf]=_0x305d95[0x56f+0x9be+-0xf29]||null,_0x5a7894[0x1*0x854+-0x2a*0xce+0x197d]=_0x305d95[-0x1d8+0x914+-0x737]||null,_0x5a7894[-0x2*0xe1a+-0x20b6+0x3cf0]=_0x305d95[-0x1d98+-0x8b7*-0x1+0x1*0x14e7]||null;const _0xabba4f=_0x4d14d6['slice'](0x19e5+-0x23e3+0x9ff);if(!_0x2d0113['loaded']||!this['cmpArrays'](_0xabba4f,_0x4b293f['slice'](0x16b6+0x7*-0x209+-0x169*0x6))){if(_0xabba4f['indexOf'](null)===-(0x1b4*0x2+-0x15d9+0x1272)){const _0x27f81e=_0xabba4f['map'](_0xc13881=>_0xc13881['resource']),_0x589a11=[];for(_0x32e05d=-0x6*-0x94+-0x2ce+-0xaa;_0x32e05d<_0x27f81e[-0x1f09+0x3c1*-0x5+0x55*0x96]['_levels']['length'];++_0x32e05d)_0x589a11['push'](_0x27f81e['map'](_0x123d02=>_0x123d02['_levels'][_0x32e05d]));const _0x5a8fd3=_0x27f81e[0x6*0x2c1+0x1fdb+-0x3061]['format'],_0x2c5434=new he(this['_device'],{'name':_0x2d0113['name']+'_faces','cubemap':!(0x9f+0x175a*0x1+-0x17f9),'type':_0x1898e0()||_0x27f81e[-0x2173*0x1+-0x19ba+-0x3b2d*-0x1]['type'],'width':_0x27f81e[0x25af+0x4*0x54d+-0x3ae3]['width'],'height':_0x27f81e[0x20e2+-0x960+-0x3b*0x66]['height'],'format':_0x5a8fd3===dr?Se:_0x5a8fd3,'mipmaps':_0x51264e['mipmaps']??!(-0x1080+-0x1*0xf35+-0x1fb5*-0x1),'levels':_0x589a11,'minFilter':_0x51264e['hasOwnProp'+'erty']('minFilter')?_0x51264e['minFilter']:_0x27f81e[-0x2087*-0x1+-0x205f+-0x28]['minFilter'],'magFilter':_0x51264e['hasOwnProp'+'erty']('magFilter')?_0x51264e['magFilter']:_0x27f81e[-0xc2*-0x3+-0x2361*0x1+0x211b*0x1]['magFilter'],'anisotropy':_0x51264e['hasOwnProp'+'erty']('anisotropy')?_0x51264e['anisotropy']:0x89e*0x4+0x22*0x2+0x11*-0x20b,'addressU':ae,'addressV':ae});_0x5a7894[-0x7*0x308+0x1*0xdc9+0x76f]=_0x2c5434;}}else _0x5a7894[-0x1*0x9aa+0xcd3+-0x1*0x329]=_0x305d95[0x311+-0x1b96+-0x1*-0x1885]||null;if(!this['cmpArrays'](_0x5a7894,_0x305d95)){for(_0x2d0113['resources']=_0x5a7894,_0x2d0113['_handlerSt'+'ate']['assetIds']=_0x1a6981,_0x2d0113['_handlerSt'+'ate']['assets']=_0x4d14d6,_0x59206b=0x2085+0xf*-0x2f+-0x1dc4;_0x59206b<_0x305d95['length'];++_0x59206b)_0x305d95[_0x59206b]!==null&&_0x5a7894['indexOf'](_0x305d95[_0x59206b])===-(-0x2f*0x40+-0x116+0xcd7)&&_0x305d95[_0x59206b]['destroy']();}for(_0x59206b=0x5*-0x365+0x235f*0x1+-0x1266;_0x59206b<_0x4b293f['length'];++_0x59206b)_0x4b293f[_0x59206b]!==null&&_0x4d14d6['indexOf'](_0x4b293f[_0x59206b])===-(0x1c65*-0x1+-0x6e9+0x1*0x234f)&&_0x4b293f[_0x59206b]['unload']();}['cmpArrays'](_0x12475d,_0x5d725f){if(_0x12475d['length']!==_0x5d725f['length'])return!(-0x883*-0x2+0x1*0x263b+-0x3740);for(let _0x38cdab=-0xc7*-0x5+-0x1c78+-0x1*-0x1895;_0x38cdab<_0x12475d['length'];++_0x38cdab)if(_0x12475d[_0x38cdab]!==_0x5d725f[_0x38cdab])return!(0x230c+0x1bba+0x3ec5*-0x1);return!(-0x166c+0x9*0x25e+0x8f*0x2);}['resolveId'](_0x5cdb35){const _0x485338=parseInt(_0x5cdb35,-0xefd+0x3*-0xc2f+0x3394);return _0x485338===_0x5cdb35||_0x485338['toString']()===_0x5cdb35?_0x485338:_0x5cdb35;}['loadAssets'](_0x14ce97,_0x138809){_0x14ce97['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x14ce97['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x4b2ee3=this,_0x1e2ad5=_0x4b2ee3['getAssetId'+'s'](_0x14ce97),_0x5ca300=[null,null,null,null,null,null,null],_0x12fcb6=_0x14ce97['_handlerSt'+'ate']['assetIds'],_0x1ac254=_0x14ce97['_handlerSt'+'ate']['assets'],_0x228678=_0x4b2ee3['_registry'];let _0x16e1b9=-0x211*0x4+0x9*0x1e7+-0x8d4*0x1;const _0x18f279=function(_0xaafe7b,_0x489fda){_0x5ca300[_0xaafe7b]=_0x489fda,_0x16e1b9--,_0x16e1b9===-0x255d+-0x17b2+0x3d0f&&(_0x4b2ee3['update'](_0x14ce97,_0x1e2ad5,_0x5ca300),_0x138809(null,_0x14ce97['resources']));},_0x38899a=function(_0x1672ef,_0x12f397,_0x1559e7){_0x138809(_0x12f397);},_0x34e87c=function(_0x220af8,_0x141ab7){_0x141ab7['loaded']?_0x18f279(_0x220af8,_0x141ab7):(_0x228678['once']('load:'+_0x141ab7['id'],_0x18f279['bind'](_0x4b2ee3,_0x220af8)),_0x228678['once']('error:'+_0x141ab7['id'],_0x38899a['bind'](_0x4b2ee3,_0x220af8)),_0x141ab7['loading']||_0x228678['load'](_0x141ab7));};let _0x35bf8a;for(let _0x15dbdf=0x74*0xb+-0x2*0x111e+0x1d40;_0x15dbdf<-0x4*-0x8a7+0x2394+-0x1*0x4629;++_0x15dbdf){const _0x1e67e0=this['resolveId'](_0x1e2ad5[_0x15dbdf]);if(!_0x1e67e0)_0x18f279(_0x15dbdf,null);else{if(_0x4b2ee3['compareAss'+'etIds'](_0x1e67e0,_0x12fcb6[_0x15dbdf]))_0x34e87c(_0x15dbdf,_0x1ac254[_0x15dbdf]);else{if(parseInt(_0x1e67e0,-0x1243+0x1e8f*-0x1+-0xec*-0x35)===_0x1e67e0)_0x35bf8a=_0x228678['get'](_0x1e67e0),_0x35bf8a?_0x34e87c(_0x15dbdf,_0x35bf8a):setTimeout(((_0x2da312,_0x4651e7)=>{const _0x4cb44f=_0x228678['get'](_0x4651e7);_0x4cb44f?_0x34e87c(_0x2da312,_0x4cb44f):_0x38899a(_0x2da312,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x4651e7);})['bind'](null,_0x15dbdf,_0x1e67e0));else{const _0x30c7fc=typeof _0x1e67e0=='string'?{'url':_0x1e67e0,'filename':_0x1e67e0}:_0x1e67e0,_0x116b3f=_0x30c7fc['url']['search']('.dds')===-(0x348+0xa*0x1e2+0x1*-0x161b)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(-0x1*0x39e+-0x313+0x2*0x359)}:null;_0x35bf8a=new le(_0x14ce97['name']+'_part_'+_0x15dbdf,'texture',_0x30c7fc,_0x116b3f),_0x228678['add'](_0x35bf8a),_0x34e87c(_0x15dbdf,_0x35bf8a);}}}}}}class E2 extends Ne{constructor(_0x34598f){super(_0x34598f,'folder');}['load'](_0x130d81,_0x511d14){_0x511d14(null,null);}}class Ng{constructor(_0x1fe795,_0x4615c1){this['type']=_0x4615c1&&_0x4615c1['type']||Kh,this['em']=-0x1*-0x13e+0xcc7*0x3+0xa*-0x3f5,this['textures']=_0x1fe795,this['intensity']=0x29b*0x5+-0x2*0x7e4+0x3*0xeb,this['_data']=null,this['data']=_0x4615c1;}set['data'](_0x53dd6e){if(this['_data']=_0x53dd6e,!!_0x53dd6e&&(this['_data']['intensity']!==void(-0x106e+0x2163+-0x10f5)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0xbb1+-0x2b*0x25+0x11ea)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x509305 in this['_data']['chars'])this['_data']['chars'][_0x509305]['map']=-0xd06+0x22cb*-0x1+-0x2fd1*-0x1;}}get['data'](){return this['_data'];}}function Jd(_0x4d137a){return _0x4d137a['version']<0x855*0x1+0xbf4+-0x1446&&(_0x4d137a['version']<-0x1382+-0x1*-0x293+-0x1*-0x10f1&&(_0x4d137a['info']['maps']=_0x4d137a['info']['maps']||[{'width':_0x4d137a['info']['width'],'height':_0x4d137a['info']['height']}]),_0x4d137a['chars']=Object['keys'](_0x4d137a['chars']||{})['reduce']((_0x22bf49,_0x472c26)=>{const _0x43dea0=_0x4d137a['chars'][_0x472c26],_0x5f5942=_0x43dea0['letter']!==void(0x50f+-0x21a9*0x1+-0x2*-0xe4d)?_0x43dea0['letter']:ah['fromCodePo'+'int'](_0x472c26);return _0x4d137a['version']<0x185e+0x1*-0x14ae+0x2*-0x1d7&&(_0x43dea0['map']=_0x43dea0['map']||-0x21b*0xf+-0x8f*-0x11+-0x202*-0xb),_0x22bf49[_0x5f5942]=_0x43dea0,_0x22bf49;},{}),_0x4d137a['version']=-0x1*0x15b1+0x375*-0x2+-0x32e*-0x9),_0x4d137a;}class C2 extends Ne{constructor(_0x583d6f){super(_0x583d6f,'font'),this['_loader']=_0x583d6f['loader'],this['maxRetries']=-0x14*0x28+-0x199f+0x1cbf*0x1;}['load'](_0x46ea4d,_0x3be715,_0x384783){typeof _0x46ea4d=='string'&&(_0x46ea4d={'load':_0x46ea4d,'original':_0x46ea4d});const _0x24d23b=this;fe['getExtensi'+'on'](_0x46ea4d['original'])==='.json'?We['get'](_0x46ea4d['load'],{'retry':this['maxRetries']>-0x1*-0x183b+-0x366+-0x14d5,'maxRetries':this['maxRetries']},(_0x3fd42c,_0x2b425e)=>{if(_0x3fd42c)_0x3be715('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x46ea4d['original']+'\x20['+_0x3fd42c+']');else{const _0x597837=Jd(_0x2b425e);_0x24d23b['_loadTextu'+'res'](_0x46ea4d['load']['replace']('.json','.png'),_0x597837,(_0xe04e16,_0x38a102)=>{_0xe04e16?_0x3be715(_0xe04e16):_0x3be715(null,{'data':_0x597837,'textures':_0x38a102});});}}):(_0x384783&&_0x384783['data']&&(_0x384783['data']=Jd(_0x384783['data'])),this['_loadTextu'+'res'](_0x46ea4d['load'],_0x384783&&_0x384783['data'],_0x3be715));}['_loadTextu'+'res'](_0x5d964b,_0x1c64cf,_0x1e9207){const _0x7cbab2=_0x1c64cf['info']['maps']['length'];let _0x302e6e=-0x341+0x2*-0x34a+0x3*0x347,_0x213c16=null;const _0x263a9f=new Array(_0x7cbab2),_0x265f30=this['_loader'],_0x56ab52=function(_0x2b4255){const _0x44ebd3=function(_0x5b6677,_0x48280c){if(!_0x213c16){if(_0x5b6677){_0x213c16=_0x5b6677,_0x1e9207(_0x5b6677);return;}_0x48280c['upload'](),_0x263a9f[_0x2b4255]=_0x48280c,_0x302e6e++,_0x302e6e===_0x7cbab2&&_0x1e9207(null,_0x263a9f);}};_0x2b4255===0x19b*0x9+-0x94d+0x526*-0x1?_0x265f30['load'](_0x5d964b,'texture',_0x44ebd3):_0x265f30['load'](_0x5d964b['replace']('.png',_0x2b4255+'.png'),'texture',_0x44ebd3);};for(let _0x18c889=-0x1*0x21ed+-0x26*0x3+0x225f;_0x18c889<_0x7cbab2;_0x18c889++)_0x56ab52(_0x18c889);}['open'](_0x26ab7e,_0x4e08df,_0x25f46b){let _0x1bd8ea;return _0x4e08df['textures']?_0x1bd8ea=new Ng(_0x4e08df['textures'],_0x4e08df['data']):_0x1bd8ea=new Ng(_0x4e08df,null),_0x1bd8ea;}['patch'](_0x5d76e9,_0x103c59){const _0x14532d=_0x5d76e9['resource'];!_0x14532d['data']&&_0x5d76e9['data']?_0x14532d['data']=_0x5d76e9['data']:!_0x5d76e9['data']&&_0x14532d['data']&&(_0x5d76e9['data']=_0x14532d['data']),_0x5d76e9['data']&&(_0x5d76e9['data']=Jd(_0x5d76e9['data']));}}async function M2(){const _0x5310dd=0xe57+0xfe+-0xf55+0.28209479177387814;class _0x462369{constructor(_0x5c6c46,_0x283681,_0x590c08){this['x']=_0x5c6c46,this['y']=_0x283681,this['z']=_0x590c08;}}class _0x3647cf{constructor(_0x46eed9,_0x1c5aed,_0x55218b,_0x229859){this['x']=_0x46eed9,this['y']=_0x1c5aed,this['z']=_0x55218b,this['w']=_0x229859;}}class _0x3e67ed{constructor(_0x7477c4,_0x412f81,_0x4c08c7,_0x3bc3e5){this['x']=_0x7477c4,this['y']=_0x412f81,this['z']=_0x4c08c7,this['w']=_0x3bc3e5;}['set'](_0x51a46f,_0x16649a,_0x4a1e9d,_0x5b4cf3){this['x']=_0x51a46f,this['y']=_0x16649a,this['z']=_0x4a1e9d,this['w']=_0x5b4cf3;}}class _0x43c98e{constructor(_0x51190c,_0x28e57d,_0x4215ef,_0x4be56a,_0x598a36,_0x1b5021,_0x34696b,_0x1752fa,_0x4c1d3d,_0x4065e9,_0x54a90b,_0xc0ca59){const _0x58adaf=(_0x4b5a2e,_0x1d470e)=>{const _0x3a26d6=(-0x79a*0x3+-0x7*0x265+0x2792<<_0x1d470e)-(0x26ef+0x1b1a*-0x1+-0x1*0xbd4);return(_0x4b5a2e&_0x3a26d6)/_0x3a26d6;},_0x5cf4e7=(_0x55d345,_0x383185)=>{_0x55d345['x']=_0x58adaf(_0x383185>>>-0x2586+-0x65*-0x4c+0x79f,-0x1865+0x3a9*-0x7+0x320f),_0x55d345['y']=_0x58adaf(_0x383185>>>0x2171+-0x5e2+-0x1b84,-0xd*0x177+0x2082+0x7*-0x1eb),_0x55d345['z']=_0x58adaf(_0x383185,0x2437+0xce5+0xed*-0x35);},_0x4cc42d=(_0x3a43b7,_0x41da30)=>{_0x3a43b7['x']=_0x58adaf(_0x41da30>>>-0x19f1+0x14cb*0x1+0x53e,0xab7+0x1fc7+-0x2a76),_0x3a43b7['y']=_0x58adaf(_0x41da30>>>0x7bd+-0x9*-0xb+-0x158*0x6,0x183a+0x1153*0x2+-0x3ad8*0x1),_0x3a43b7['z']=_0x58adaf(_0x41da30>>>0x1a4d*-0x1+-0x6*0x12a+-0x3*-0xb1b,-0x371+0x530+-0x1b7),_0x3a43b7['w']=_0x58adaf(_0x41da30,-0x3*-0x77d+0x57*0x3+0x1*-0x1774);},_0xf02ee9=(_0x2ead1a,_0x430764)=>{const _0x11d867=(-0x1175+-0x6*0x563+0x6*0x84c)/(Math['sqrt'](-0xb9*0x34+0xce6+0x50*0x4f)*(-0x171e+-0x19b6+-0x14*-0x271+0.5)),_0x4e2d43=(_0x58adaf(_0x430764>>>0x2*0x33d+0x22a7+-0x290d,-0x60*0x3f+0x222a*0x1+-0xa80)-(0x2*0xb15+-0xfb7*0x1+0x1*-0x673+0.5))*_0x11d867,_0x59d9cf=(_0x58adaf(_0x430764>>>0xac4+0x6bf*-0x1+-0x3fb,0x385*0xa+0xa5e*0x1+-0x2d86)-(0x1*-0x17f1+-0x2420+0x3c11*0x1+0.5))*_0x11d867,_0x4f3c0e=(_0x58adaf(_0x430764,-0x295+-0x54e+0x7ed)-(0xb21+0x1*0x1c61+0x2*-0x13c1+0.5))*_0x11d867,_0x32978d=Math['sqrt'](0x1df9+-0x29c*0x1+-0x1b5c-(_0x4e2d43*_0x4e2d43+_0x59d9cf*_0x59d9cf+_0x4f3c0e*_0x4f3c0e));switch(_0x430764>>>0x17*-0x1af+0x94*-0x22+0x3a7f*0x1){case 0xba6+-0x1751+0xbab:_0x2ead1a['set'](_0x4e2d43,_0x59d9cf,_0x4f3c0e,_0x32978d);break;case-0x4c6+-0x1*-0x5aa+-0x1*0xe3:_0x2ead1a['set'](_0x32978d,_0x59d9cf,_0x4f3c0e,_0x4e2d43);break;case 0x2*-0xa13+0x1c8*0x1+-0x54*-0x38:_0x2ead1a['set'](_0x59d9cf,_0x32978d,_0x4f3c0e,_0x4e2d43);break;case-0x237b*-0x1+0xe01+-0x95*0x55:_0x2ead1a['set'](_0x59d9cf,_0x4f3c0e,_0x32978d,_0x4e2d43);break;}},_0x3bb7b5=(_0xcbc2f6,_0x107ac4,_0x2af510)=>_0xcbc2f6*(-0x1*-0x177f+-0x23dd+0xc5f*0x1-_0x2af510)+_0x107ac4*_0x2af510,_0x2a8fdc=[0x36d+-0x1083+0xd19,0x2276+0x7ce+-0x27c*0x11,-0x63*0x2d+0x1d82+-0xc0c][_0x598a36-(-0x86c+0x2*0x2c5+0x2e3)],_0x256e11=0x1d4f+0x21a4+0x1*-0x3eed;this['read']=_0x5f097e=>{const _0x387eff=Math['floor'](_0x5f097e/(-0x549+-0x1e4c+0x2495))*_0x28e57d;if(_0x1b5021&&(_0x5cf4e7(_0x1b5021,_0x4215ef[_0x5f097e*_0x256e11+(-0x3*-0x17d+-0x2175+0x1cfe)]),_0x1b5021['x']=_0x3bb7b5(_0x51190c[_0x387eff+(0x5*0x508+-0xaa*0x36+0x14*0x89)],_0x51190c[_0x387eff+(0xe3*-0x9+-0x1811*-0x1+-0x1013)],_0x1b5021['x']),_0x1b5021['y']=_0x3bb7b5(_0x51190c[_0x387eff+(0x1360+-0x14c*-0x4+-0x188f)],_0x51190c[_0x387eff+(0x3*0x15b+-0x1*-0x23ad+-0x153*0x1e)],_0x1b5021['y']),_0x1b5021['z']=_0x3bb7b5(_0x51190c[_0x387eff+(0xf*0x233+-0x218+-0x1ee3)],_0x51190c[_0x387eff+(-0x1b60+0xe87+0xcde)],_0x1b5021['z'])),_0x34696b&&_0xf02ee9(_0x34696b,_0x4215ef[_0x5f097e*_0x256e11+(0x9f9+0x2035+-0x1*0x2a2d)]),_0x1752fa&&(_0x5cf4e7(_0x1752fa,_0x4215ef[_0x5f097e*_0x256e11+(-0x2298+0x17c5+-0x1*-0xad5)]),_0x1752fa['x']=_0x3bb7b5(_0x51190c[_0x387eff+(0x154+-0x12da*0x1+0x118c)],_0x51190c[_0x387eff+(0x1b*-0x168+-0x2566*0x1+0x4b67*0x1)],_0x1752fa['x']),_0x1752fa['y']=_0x3bb7b5(_0x51190c[_0x387eff+(0x4*-0x1c+0xa13+-0xcd*0xc)],_0x51190c[_0x387eff+(-0x191e+0x1e4e+0x1*-0x526)],_0x1752fa['y']),_0x1752fa['z']=_0x3bb7b5(_0x51190c[_0x387eff+(0x16*0x101+-0xf7a+0x4*-0x1a5)],_0x51190c[_0x387eff+(-0x36d*-0x7+0xbdf+-0x23cf*0x1)],_0x1752fa['z'])),_0x4c1d3d&&(_0x4cc42d(_0x4c1d3d,_0x4215ef[_0x5f097e*_0x256e11+(0xd78+-0x7*0x22+0xc87*-0x1)]),_0x28e57d>0x722+-0x26*0xf1+-0x396*-0x8&&(_0x4c1d3d['x']=_0x3bb7b5(_0x51190c[_0x387eff+(-0x1*0x186e+0x4f0*0x2+-0xe*-0x10b)],_0x51190c[_0x387eff+(-0x22ed*-0x1+-0x61d*-0x3+-0x3535)],_0x4c1d3d['x']),_0x4c1d3d['y']=_0x3bb7b5(_0x51190c[_0x387eff+(0x1f*0x3f+0x21f7+-0xf*0x2c5)],_0x51190c[_0x387eff+(-0xa7b+-0x7*-0x241+-0x53c)],_0x4c1d3d['y']),_0x4c1d3d['z']=_0x3bb7b5(_0x51190c[_0x387eff+(-0x137*-0x1+-0x4c3+0x39a)],_0x51190c[_0x387eff+(0xeef+-0x1308+-0xd*-0x52)],_0x4c1d3d['z']))),_0x4065e9&&(_0x5cf4e7(_0x4065e9,_0x4215ef[_0x5f097e*_0x256e11+(0x5bf*-0x4+-0x1f0+0xe*0x1c8)]),_0x4065e9['x']=_0x3bb7b5(_0x51190c[_0x387eff+(0x7*-0x47d+0x74c+0xb*0x233)],_0x51190c[_0x387eff+(-0x1040+0x5*0x6cd+-0x11ac)],_0x4065e9['x']),_0x4065e9['y']=_0x3bb7b5(_0x51190c[_0x387eff+(-0xd9*0x23+0x8bd+0x1501)],_0x51190c[_0x387eff+(-0x22+0x10a+-0xd2)],_0x4065e9['y']),_0x4065e9['z']=_0x3bb7b5(_0x51190c[_0x387eff+(0x15c7+-0x14*-0x1a6+-0xf*0x3a5)],_0x51190c[_0x387eff+(-0x21e8+0x3d1*-0x3+0x2d72)],_0x4065e9['z'])),_0x54a90b&&(_0x5cf4e7(_0x54a90b,_0x4215ef[_0x5f097e*_0x256e11+(-0x1cb5*-0x1+0xb61+-0x2811*0x1)]),_0x54a90b['x']=_0x3bb7b5(_0x51190c[_0x387eff+(0x2b*0xdd+0x2298+-0xc1*0x5f)],_0x51190c[_0x387eff+(-0xae0+-0x1ea8+0x29a1)],_0x54a90b['x']),_0x54a90b['y']=_0x3bb7b5(_0x51190c[_0x387eff+(-0x9*0x2b+-0xd74+-0x1d*-0x85)],_0x51190c[_0x387eff+(-0x9e*0x3a+-0x6*0x392+-0x24b*-0x19)],_0x54a90b['y'])),_0xc0ca59&&_0x598a36>-0x1bf+-0x3bf+-0x1*-0x57e){for(let _0x1738be=-0x14e4+-0x1*-0x1ede+-0x2*0x4fd;_0x1738be<0x22ab+0x128f+-0x3537;++_0x1738be)for(let _0x1c2e98=-0x71*-0x57+-0xb*-0x1a0+0x3847*-0x1;_0x1c2e98<-0x9ec+-0x1*0x1f01+0xac*0x3d;++_0x1c2e98)_0xc0ca59[_0x1738be*(-0x26f7+0x127b+0x148b)+_0x1c2e98]=_0x1c2e98<_0x2a8fdc?_0x4be56a[(_0x5f097e*(-0xcab+0x1378+0x16*-0x4f)+_0x1738be)*_0x2a8fdc+_0x1c2e98]*((0x1b68+-0x4bf*0x3+-0xd23)/(0x1caf+0x18e3+0x139*-0x2b))-(-0x14c6*0x1+-0x83*0x5+0x1759):0x1660+0x1273+-0x28d3;}};}}self['onmessage']=async _0x5e4cd3=>{const {data:_0x2989bd}=_0x5e4cd3;switch(_0x2989bd['type']){case'initWorker':break;case'decompress':_0xbcf3e5(_0x2989bd['numSplats'],_0x2989bd['chunkData'],_0x2989bd['chunkSize'],_0x2989bd['vertexData'],_0x2989bd['shData'],_0x2989bd['shBands']);break;}};const _0xbcf3e5=(_0x37383b,_0xa678ba,_0x31b293,_0x3966be,_0x4e8485,_0x36c5f1)=>{const _0x1ee38e=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x36c5f1>-0x1*0x16d+0x2349+-0x21dc){const _0x1cdabb=[];for(let _0x40ba44=-0x1631+0x2d*-0x8b+-0x8*-0x5d4;_0x40ba44<0x1*0x16d3+-0x5*-0x6cd+0x1*-0x38a7;++_0x40ba44)_0x1cdabb['push']('f_rest_'+_0x40ba44);_0x1ee38e['splice'](_0x1ee38e['indexOf']('f_dc_0')+(0xd2d+0x1*0x737+0x11*-0x133),0x1bbb+-0x4a4+0x17*-0x101,..._0x1cdabb);}const _0x1f998e={};_0x1ee38e['forEach'](_0x1931ba=>{_0x1f998e[_0x1931ba]=new Float32Array(_0x37383b);}),console['log']('decompress');const _0x413c79=new _0x462369(),_0xe375f9=new _0x3e67ed(),_0x47ad27=new _0x462369(),_0xf20371=new _0x3647cf(),_0x976490=new _0x462369(),_0x129505=new _0x462369(),_0x42e3cd=_0x36c5f1>-0x5b4+-0xce2+-0x3*-0x632?new Float32Array(0xac1+-0x2539*-0x1+-0x2fcd*0x1):null,_0xfe1e5a=new _0x43c98e(_0xa678ba,_0x31b293,_0x3966be,_0x4e8485,_0x36c5f1,_0x413c79,_0xe375f9,_0x47ad27,_0xf20371,_0x976490,_0x129505,_0x42e3cd);for(let _0x52ee03=0xc7a*-0x3+-0x1*0x89b+0x5*0x935;_0x52ee03<_0x37383b;++_0x52ee03)if(_0xfe1e5a['read'](_0x52ee03),_0x1f998e['x'][_0x52ee03]=_0x413c79['x'],_0x1f998e['y'][_0x52ee03]=_0x413c79['y'],_0x1f998e['z'][_0x52ee03]=_0x413c79['z'],_0x1f998e['rot_1'][_0x52ee03]=_0xe375f9['x'],_0x1f998e['rot_2'][_0x52ee03]=_0xe375f9['y'],_0x1f998e['rot_3'][_0x52ee03]=_0xe375f9['z'],_0x1f998e['rot_0'][_0x52ee03]=_0xe375f9['w'],_0x1f998e['scale_0'][_0x52ee03]=_0x47ad27['x'],_0x1f998e['scale_1'][_0x52ee03]=_0x47ad27['y'],_0x1f998e['scale_2'][_0x52ee03]=_0x47ad27['z'],_0x1f998e['motion_0'][_0x52ee03]=_0x976490['x'],_0x1f998e['motion_1'][_0x52ee03]=_0x976490['y'],_0x1f998e['motion_2'][_0x52ee03]=_0x976490['z'],_0x1f998e['t_scale'][_0x52ee03]=_0x129505['x'],_0x1f998e['t'][_0x52ee03]=_0x129505['y'],_0x1f998e['f_dc_0'][_0x52ee03]=(_0xf20371['x']-(-0x8c8+0x1870+-0xfa8+0.5))/_0x5310dd,_0x1f998e['f_dc_1'][_0x52ee03]=(_0xf20371['y']-(0x1f44+0x73*-0x31+-0x941+0.5))/_0x5310dd,_0x1f998e['f_dc_2'][_0x52ee03]=(_0xf20371['z']-(0x12c2+-0x260f+0x134d+0.5))/_0x5310dd,_0x1f998e['opacity'][_0x52ee03]=_0xf20371['w']<=-0x1e38+-0x223a+-0x71*-0x92?-(0x341+0x10b0+-0x13c9):_0xf20371['w']>=0x1c69+-0xbe1+-0x1087?0x23f*0x3+0xb5e+-0x11f3:-Math['log']((-0xf16+-0x1754+-0x7*-0x57d)/_0xf20371['w']-(0x1*-0x18f9+0x1fbe+-0x6c4)),_0x42e3cd){for(let _0x5c227e=-0x391+-0x687*-0x1+-0x17b*0x2;_0x5c227e<0x56*0x8+-0x268e+-0x1*-0x240b;++_0x5c227e)_0x1f998e['f_rest_'+_0x5c227e][_0x52ee03]=_0x42e3cd[_0x5c227e];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x1f998e});};}class P2 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+M2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x2a4a5a=>{if(!this['worker'])return;const {data:_0x57eb22}=_0x2a4a5a;switch(_0x57eb22['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x57eb22['data']);break;}};}['decompress'](_0x363048,_0xa87db9,_0x2247bf,_0x1ff05f,_0x415247,_0x2f24a4,_0x48aa2f){this['chunkData']=new Float32Array(_0xa87db9)['slice'](),this['vertexData']=new Uint32Array(_0x1ff05f)['slice'](),this['shData']=new Uint8Array(_0x415247)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x363048,'chunkData':this['chunkData'],'chunkSize':_0x2247bf,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x2f24a4});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class R2{constructor(_0xd118b2,_0x579e43,_0x3ce704,_0x6405f2,_0x34ce21,_0x2232e0,_0x6aa5a3,_0xaba977){const _0x2487e7=(_0x36b009,_0x28988d)=>{const _0x5cdf36=(-0x7*0x27f+-0x97c+-0x196*-0x11<<_0x28988d)-(-0x2236+-0x53*0x17+0x29ac);return(_0x36b009&_0x5cdf36)/_0x5cdf36;},_0x189874=(_0x234f39,_0x28d991)=>{_0x234f39['x']=_0x2487e7(_0x28d991>>>0x258+0x13*0x1a5+-0x2*0x10c1,-0x2*-0x105d+0x1*-0x1c09+-0x4a6),_0x234f39['y']=_0x2487e7(_0x28d991>>>0x1493*-0x1+-0xb4b+0x1fe9,0x26a1+-0xc9a+0x19fd*-0x1),_0x234f39['z']=_0x2487e7(_0x28d991,-0x1dfb+-0x466*-0x3+-0x2ce*-0x6);},_0x2ec66e=(_0x38d1a1,_0x1297dc)=>{_0x38d1a1['x']=_0x2487e7(_0x1297dc>>>-0xac9+0x25bd+0x6b7*-0x4,-0x1*-0x1d9f+0x572+-0x2309*0x1),_0x38d1a1['y']=_0x2487e7(_0x1297dc>>>-0xd*0x223+0x18cd+0x30a,-0x2549+0xa*0x12d+0x198f),_0x38d1a1['z']=_0x2487e7(_0x1297dc>>>-0x1*0x1acf+0x452+-0x1*-0x1685,-0x1b4+-0x1*0x851+0xa0d),_0x38d1a1['w']=_0x2487e7(_0x1297dc,-0x1f7a+0xa43+0x715*0x3);},_0x2c6175=(_0x1ae39b,_0x124eac)=>{const _0x33e1c2=(0x19dc*-0x1+-0x6f*-0x3f+-0x174)/(Math['sqrt'](-0x97e+0x2366+-0x19e6)*(0x6aa+-0x29*0xad+0x150b+0.5)),_0x30816c=(_0x2487e7(_0x124eac>>>-0xee*-0x1f+-0x17e*0x12+-0x2*0xf1,-0x5*-0x2bb+-0x3ea+0xd*-0xbf)-(-0x1e07+0x23*0x6b+0xf66+0.5))*_0x33e1c2,_0x40bbb5=(_0x2487e7(_0x124eac>>>0x11*0x17+0xb6b+0x7*-0x1d8,-0x169f+-0x13e7*-0x1+0x2c2)-(0x432+0x32f*0x4+-0x16*0xc5+0.5))*_0x33e1c2,_0x264ff4=(_0x2487e7(_0x124eac,0xfde+0xf9e+0x2*-0xfb9)-(-0x9b6+-0x1b46+0x24fc+0.5))*_0x33e1c2,_0x248fc1=Math['sqrt'](0x2338+-0x395*0x3+-0x1878-(_0x30816c*_0x30816c+_0x40bbb5*_0x40bbb5+_0x264ff4*_0x264ff4));switch(_0x124eac>>>-0x9f9+-0x61f*-0x5+-0x1484){case-0x152e+0x83*0x25+0x19*0x17:_0x1ae39b['set'](_0x30816c,_0x40bbb5,_0x264ff4,_0x248fc1);break;case-0x2038+-0x1*0xda7+0x2de0:_0x1ae39b['set'](_0x248fc1,_0x40bbb5,_0x264ff4,_0x30816c);break;case 0x1edb*0x1+0x789+-0x2662*0x1:_0x1ae39b['set'](_0x40bbb5,_0x248fc1,_0x264ff4,_0x30816c);break;case 0xfa9+-0x1841+0x89b:_0x1ae39b['set'](_0x40bbb5,_0x264ff4,_0x248fc1,_0x30816c);break;}},_0x508bdc=(_0x50b026,_0x39f927,_0x3bc23c)=>_0x50b026*(-0x136a+-0x1336+0x26a1-_0x3bc23c)+_0x39f927*_0x3bc23c,{chunkData:_0x252e9e,chunkSize:_0x4c4716,vertexData:_0x513244,shData:_0x3bf536,shBands:_0x38dc45}=_0xd118b2,_0x5606b1=[-0xa13+0x28b*0x9+-0xccd,0x5*-0x6c5+-0x1*-0xd69+-0x28f*-0x8,-0x263*0x7+-0x5fc*-0x5+0x34a*-0x4][_0x38dc45-(0x1*-0xc3c+-0xd7*-0x11+0x105*-0x2)],_0xd7d21f=-0xd01*0x2+-0x1cf6+-0x36fe*-0x1;this['read']=_0x2ad7c6=>{const _0x472b90=Math['floor'](_0x2ad7c6/(-0x4f6+0x287+0x36f))*_0x4c4716;if(_0x579e43&&(_0x189874(_0x579e43,_0x513244[_0x2ad7c6*_0xd7d21f+(0x2604*-0x1+0x1b1*0x9+0x16cb)]),_0x579e43['x']=_0x508bdc(_0x252e9e[_0x472b90+(0xb5+-0x3a*0x5b+0x13e9)],_0x252e9e[_0x472b90+(0x7*-0x51a+0xd27+-0x9*-0x282)],_0x579e43['x']),_0x579e43['y']=_0x508bdc(_0x252e9e[_0x472b90+(-0x1392+0xeb1*0x1+0x32*0x19)],_0x252e9e[_0x472b90+(-0x2b*-0x37+0x19a4+-0x20d*0x11)],_0x579e43['y']),_0x579e43['z']=_0x508bdc(_0x252e9e[_0x472b90+(-0x2*-0xac+0x1201+-0x1*0x1357)],_0x252e9e[_0x472b90+(-0x1820+-0x2c8+0x71*0x3d)],_0x579e43['z'])),_0x3ce704&&_0x2c6175(_0x3ce704,_0x513244[_0x2ad7c6*_0xd7d21f+(0x160e+0x2228+-0x3835)]),_0x6405f2&&(_0x189874(_0x6405f2,_0x513244[_0x2ad7c6*_0xd7d21f+(0x829*-0x1+0x1*0x48a+0x3a1*0x1)]),_0x6405f2['x']=_0x508bdc(_0x252e9e[_0x472b90+(0x11f9+0x2501+-0x36f4)],_0x252e9e[_0x472b90+(0x157a+0x1*-0x581+-0xff0)],_0x6405f2['x']),_0x6405f2['y']=_0x508bdc(_0x252e9e[_0x472b90+(0xe3e*-0x1+0x3*0x766+-0x7ed)],_0x252e9e[_0x472b90+(-0xd67+-0x29f*0x4+0x17ed)],_0x6405f2['y']),_0x6405f2['z']=_0x508bdc(_0x252e9e[_0x472b90+(-0x22*-0xe5+-0x1d6c+0x6*-0x29)],_0x252e9e[_0x472b90+(-0x1994+-0x2*0x13c+-0x8d*-0x33)],_0x6405f2['z'])),_0x34ce21&&(_0x2ec66e(_0x34ce21,_0x513244[_0x2ad7c6*_0xd7d21f+(0x1895+-0x1341+-0x551*0x1)]),_0x4c4716>0x4*-0x413+0x1d0e+0xcb6*-0x1&&(_0x34ce21['x']=_0x508bdc(_0x252e9e[_0x472b90+(-0x259e+0x1056+0x111*0x14)],_0x252e9e[_0x472b90+(0x13af*0x1+-0x1d61+0x9c1)],_0x34ce21['x']),_0x34ce21['y']=_0x508bdc(_0x252e9e[_0x472b90+(0x7d3+0x64f+-0xe15)],_0x252e9e[_0x472b90+(-0x446+0xb34+-0x6de)],_0x34ce21['y']),_0x34ce21['z']=_0x508bdc(_0x252e9e[_0x472b90+(-0x18a+-0x16cf+0x1867)],_0x252e9e[_0x472b90+(-0x3c5+0x20a9+0x1*-0x1cd3)],_0x34ce21['z']))),_0x2232e0&&(_0x189874(_0x2232e0,_0x513244[_0x2ad7c6*_0xd7d21f+(-0x1ee6+0x26dd+0xb9*-0xb)]),_0x2232e0['x']=_0x508bdc(_0x252e9e[_0x472b90+(0x1*0x225d+0x1504+-0x374f)],_0x252e9e[_0x472b90+(-0x4a8+-0x1150+0x5*0x469)],_0x2232e0['x']),_0x2232e0['y']=_0x508bdc(_0x252e9e[_0x472b90+(-0x1c9+-0x25c1+-0x279d*-0x1)],_0x252e9e[_0x472b90+(0x1*0x231b+0x1*-0x3af+-0x1f56)],_0x2232e0['y']),_0x2232e0['z']=_0x508bdc(_0x252e9e[_0x472b90+(0x1187+-0x1eba+0x21*0x67)],_0x252e9e[_0x472b90+(0x1897+0x5*-0x3c4+0x5ac*-0x1)],_0x2232e0['z'])),_0x6aa5a3&&(_0x189874(_0x6aa5a3,_0x513244[_0x2ad7c6*_0xd7d21f+(-0x1*-0xb1+0x1c6c+0x1*-0x1d18)]),_0x6aa5a3['x']=_0x508bdc(_0x252e9e[_0x472b90+(0x1*0x163c+0xd55*-0x2+0x486)],_0x252e9e[_0x472b90+(0x15cf*0x1+0x1*-0x26b9+0x1103*0x1)],_0x6aa5a3['x']),_0x6aa5a3['y']=_0x508bdc(_0x252e9e[_0x472b90+(-0x2*-0xb7f+-0x1832+-0x2*-0xa7)],_0x252e9e[_0x472b90+(0x1a8d+-0x1e2+-0x1890)],_0x6aa5a3['y'])),_0xaba977&&_0x38dc45>0x1883+0x11a7*-0x1+-0x6dc){for(let _0x4d7ff1=0x10ed+0x19cb+-0x2ab8;_0x4d7ff1<0x3a1*0x2+-0xfec*-0x1+-0x7b9*0x3;++_0x4d7ff1)for(let _0x34eed0=-0x188+-0xdbd+0x3*0x517;_0x34eed0<0x653+-0x1*0x22c8+-0x32*-0x92;++_0x34eed0)_0xaba977[_0x4d7ff1*(0x1ad7*-0x1+0xd29+0xdbd)+_0x34eed0]=_0x34eed0<_0x5606b1?_0x3bf536[(_0x2ad7c6*(0xd4*-0x25+-0x2567+-0x3e*-0x119)+_0x4d7ff1)*_0x5606b1+_0x34eed0]*((-0x145e+0x6*-0x496+0x2*0x17f5)/(0x696+0x11*0x43+-0xa0a))-(0x1205+0x52e+-0x1*0x172f):-0x65f*0x1+0xcb2+0x1*-0x653;}};}}class I2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x3f7412,_0x120326,_0x418557,_0x11ccf2,_0x4f32ff,_0x31d431,_0xa74935){return new R2(this,_0x3f7412,_0x120326,_0x418557,_0x11ccf2,_0x4f32ff,_0x31d431,_0xa74935);}['calcAabb'](_0x351f74){const {chunkData:_0x5aef09,numChunks:_0xd9f322,chunkSize:_0x5e86e0}=this;let _0x5ce2e7=Math['exp'](Math['max'](_0x5aef09[0x1541*-0x1+0xd*0x94+0xdc6],_0x5aef09[-0x1*-0xa3d+-0x856+-0x1dd],_0x5aef09[0x499+-0x1*-0x8a5+-0xd33])),_0x5ab2c6=_0x5aef09[-0x1c4e+-0xc1c+0x286a]-_0x5ce2e7,_0x4787fe=_0x5aef09[0x1397+-0x82*-0x22+0x6a*-0x59]-_0x5ce2e7,_0x31f45e=_0x5aef09[0x14ef*-0x1+-0x19b6+0x2ea7]-_0x5ce2e7,_0xeae15a=_0x5aef09[0x11f*-0x19+-0x996+-0x20*-0x12d]+_0x5ce2e7,_0x2243ab=_0x5aef09[-0x1b*-0x159+-0x1917+0x4*-0x2d2]+_0x5ce2e7,_0x5f329a=_0x5aef09[0xe4f+-0x8f3*-0x1+0x9*-0x295]+_0x5ce2e7;for(let _0x1be88e=-0x5*-0xe3+-0x9e0+0x572;_0x1be88e<_0xd9f322;++_0x1be88e){const _0x4a381b=_0x1be88e*_0x5e86e0;_0x5ce2e7=Math['exp'](Math['max'](_0x5aef09[_0x4a381b+(-0x1cc8+0x6d*-0x49+0x3be6)],_0x5aef09[_0x4a381b+(-0x1*-0x4c3+0x16*0xe7+-0x1893)],_0x5aef09[_0x4a381b+(0xf31*0x1+0x970*0x4+-0x34e6)])),_0x5ab2c6=Math['min'](_0x5ab2c6,_0x5aef09[_0x4a381b+(-0xef*-0x1+-0x1b79+0x2*0xd45)]-_0x5ce2e7),_0x4787fe=Math['min'](_0x4787fe,_0x5aef09[_0x4a381b+(0xed6+-0x191e+0xa49)]-_0x5ce2e7),_0x31f45e=Math['min'](_0x31f45e,_0x5aef09[_0x4a381b+(-0x110d+-0x1b41+0x2c50)]-_0x5ce2e7),_0xeae15a=Math['max'](_0xeae15a,_0x5aef09[_0x4a381b+(0x22e1+-0x453*0x5+-0xd3f*0x1)]+_0x5ce2e7),_0x2243ab=Math['max'](_0x2243ab,_0x5aef09[_0x4a381b+(-0x1368+0x1*0x1367+0x5)]+_0x5ce2e7),_0x5f329a=Math['max'](_0x5f329a,_0x5aef09[_0x4a381b+(-0x5*-0x21e+-0xf85+0x4f4)]+_0x5ce2e7);}return _0x351f74['center']['set']((_0x5ab2c6+_0xeae15a)*(-0x1*-0xc06+-0x606+-0x600+0.5),(_0x4787fe+_0x2243ab)*(0x97d*0x3+-0x1461+-0x816+0.5),(_0x31f45e+_0x5f329a)*(-0x1*-0x237f+-0x1777+-0xc08+0.5)),_0x351f74['halfExtent'+'s']['set']((_0xeae15a-_0x5ab2c6)*(-0x229b+0x1*0x525+0x12*0x1a3+0.5),(_0x2243ab-_0x4787fe)*(0x22*-0x57+-0x12d*0x15+-0x407*-0x9+0.5),(_0x5f329a-_0x31f45e)*(0x14ed+-0x1461+-0x8c+0.5)),!(0x2364+0x1*-0x356+-0x200e);}['getCenters'](_0x11df8d){const {vertexData:_0x5119bf,chunkData:_0x503a77,numChunks:_0x42a879,chunkSize:_0x2a3e80}=this;let _0xf83f7c,_0x292929,_0x2115d3,_0x3874d9,_0x501573,_0x9f54c4;for(let _0xbd2c8f=0x24a*0x5+-0x1ca*-0x13+0xb5c*-0x4;_0xbd2c8f<_0x42a879;++_0xbd2c8f){const _0x2b4b40=_0xbd2c8f*_0x2a3e80;_0xf83f7c=_0x503a77[_0x2b4b40+(-0x2c9+-0x253a+0x1*0x2803)],_0x292929=_0x503a77[_0x2b4b40+(-0x173e+0x1*0x239d+-0xc5e)],_0x2115d3=_0x503a77[_0x2b4b40+(-0x2686+0x18a4+-0x1*-0xde4)],_0x3874d9=_0x503a77[_0x2b4b40+(-0x9f7+-0x8*-0x4b1+-0x1*0x1b8e)],_0x501573=_0x503a77[_0x2b4b40+(0x16fa+0x165d+-0x2d53)],_0x9f54c4=_0x503a77[_0x2b4b40+(-0x14b7+0x3*0x85f+-0x13*0x3b)];const _0x1df073=Math['min'](this['numSplats'],(_0xbd2c8f+(0x25b7+0x215f+0x24b*-0x1f))*(0x1b2b*0x1+-0xace+-0xf5d));for(let _0x1cdf03=_0xbd2c8f*(-0x1817*0x1+0x1fbe+-0x1*0x6a7);_0x1cdf03<_0x1df073;++_0x1cdf03){const _0x981052=_0x5119bf[_0x1cdf03*(-0x386*-0xb+-0x76*0x18+-0x1bae)],_0xc074a3=(_0x981052>>>-0x27*-0x11+0x26d6+0x54*-0x7e)/(0x25e6+0x113e*0x1+0x95*-0x51),_0x44cb8c=(_0x981052>>>0x7c*-0x5+-0x293+-0x2*-0x285&0x1*0x18f2+-0x266b+-0x68*-0x2b)/(-0x994*0x2+-0x3*-0x669+0x1*0x3ec),_0xeda3b2=(_0x981052&-0x5*-0x211+0x18*-0x11b+0x1832)/(0x2537+0x1f61*0x1+-0x3c99);_0x11df8d[_0x1cdf03*(-0x198f+-0x1*0x79d+-0x1*-0x212f)+(0xd4*-0x2+0x1947*0x1+0x1*-0x179f)]=(0x1*-0x8cd+0xefd*0x2+0x10f*-0x14-_0xc074a3)*_0xf83f7c+_0xc074a3*_0x3874d9,_0x11df8d[_0x1cdf03*(-0xd*0x151+-0xeda*0x1+-0x1*-0x1ffa)+(-0x1b2e*0x1+-0x1f*-0xf9+-0x2f8)]=(0x3*0x49+0x1c7a+0x4*-0x755-_0x44cb8c)*_0x292929+_0x44cb8c*_0x501573,_0x11df8d[_0x1cdf03*(-0x4a9*-0x1+-0x16bd+0xb*0x1a5)+(-0xe7d+0x4*0x1f7+0x6a3)]=(0x6af+0x477+-0x1*0xb25-_0xeda3b2)*_0x2115d3+_0xeda3b2*_0x9f54c4;}}}['calcFocalP'+'oint'](_0x555a60){const {chunkData:_0x11a120,numChunks:_0x36cf7b,chunkSize:_0x4d8a25}=this;_0x555a60['x']=-0xb62+-0xf6+0xc58,_0x555a60['y']=0x2076+-0x31f*-0xb+0x1*-0x42cb,_0x555a60['z']=0x19ba*-0x1+0x79*-0x1e+0x1*0x27e8;for(let _0x4596ca=0xf18+0xa29+-0x1941;_0x4596ca<_0x36cf7b;++_0x4596ca){const _0x3211d8=_0x4596ca*_0x4d8a25;_0x555a60['x']+=_0x11a120[_0x3211d8+(-0x1*-0xbd7+-0x24e6+-0x503*-0x5)]+_0x11a120[_0x3211d8+(0x11*0xc9+0x1099*0x1+0x1*-0x1def)],_0x555a60['y']+=_0x11a120[_0x3211d8+(0x1b8f+0xdf*0x13+0x2c1b*-0x1)]+_0x11a120[_0x3211d8+(0x2*0x6eb+-0x2439+0x1667)],_0x555a60['z']+=_0x11a120[_0x3211d8+(-0xe9b*0x1+0x1421+0x584*-0x1)]+_0x11a120[_0x3211d8+(-0x1b63+-0x1*-0x1c69+-0x101)];}_0x555a60['mulScalar']((0x139d+0xc00*-0x1+-0x79d+0.5)/_0x36cf7b);}get['isCompress'+'ed'](){return!(-0x7b5*0x4+0x1db7*0x1+0x11d);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x8dd*-0x3+0x7d9*0x1+0x13be));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x332f8a;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x332f8a=this['shData'])==null?void(0x4*0x131+0x2536+-0x29fa):_0x332f8a['length'])/this['numSplats']/(-0x1a*-0x29+-0x62*0x65+0x2283)]??0x124*-0x14+-0x8f0+-0x7f0*-0x4;}async['decompress'](){const _0x2c84fa=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x20506b}=this;if(_0x20506b>0x1*-0x1d5e+-0x2*-0x2f0+0x177e){const _0x556065=[];for(let _0x177d30=0x21da+0x20dc+-0x42b6;_0x177d30<-0xfc7*-0x2+0x114a+-0x30ab;++_0x177d30)_0x556065['push']('f_rest_'+_0x177d30);_0x2c84fa['splice'](_0x2c84fa['indexOf']('f_dc_0')+(0x1*-0x4cb+-0xa49*-0x2+-0xfc6),-0xe13+-0x4ff+0x1312,..._0x556065);}const _0x3937a2={};_0x2c84fa['forEach'](_0x1d0d8c=>{_0x3937a2[_0x1d0d8c]=new Float32Array(this['numSplats']);});const _0x5ec77c=new P2();return _0x5ec77c['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x3937a2),new Promise((_0x1bbea0,_0x255188)=>{_0x5ec77c['on']('decompress'+'ed',_0x56a9f0=>{_0x5ec77c['destroy'](),_0x1bbea0(new Ia([{'name':'vertex','count':this['numSplats'],'properties':_0x2c84fa['map'](_0x281ec3=>({'name':_0x281ec3,'type':'float','byteSize':0x4,'storage':_0x56a9f0[_0x281ec3]}))}]));});});}}const D2=(_0x3c7fef,_0x290c4b,_0x15b8b9,_0x2e6042,_0x5ac0d3)=>{for(let _0x3a369e=-0x191*-0xc+0x20ab+-0x55*0x9b;_0x3a369e<_0x5ac0d3;++_0x3a369e)for(let _0x296e8d=-0x6b1*-0x1+-0x215f*-0x1+-0x8*0x502;_0x296e8d<_0x2e6042;++_0x296e8d)_0x3c7fef[_0x3a369e*_0x290c4b+_0x296e8d]=_0x15b8b9[_0x3a369e*_0x2e6042+_0x296e8d];},zg=(_0x1b8ed8,_0x2f2472,_0x2630e7,_0x13b43e,_0x596223,_0x1f7d3c)=>{for(let _0x5f3a56=-0x26df+0x1fd5*-0x1+0x46b4;_0x5f3a56<_0x596223;++_0x5f3a56)for(let _0x3cfe15=0xda*-0x13+0xaa7+0x5*0x11b;_0x3cfe15<_0x13b43e;++_0x3cfe15)_0x1b8ed8[_0x5f3a56*_0x2f2472+_0x3cfe15]=_0x2630e7[_0x5f3a56*_0x13b43e+_0x3cfe15+_0x1f7d3c];};class L2{constructor(_0x20389d,_0x53ca98){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x4f59eb,chunkSize:_0x20a6df,numChunks:_0x1474a4,numSplats:_0x20adba,vertexData:_0x168997,shBands:_0x4a3d6d,is4D:_0x43a348}=_0x53ca98;this['device']=_0x20389d,this['numSplats']=_0x20adba,this['numVisible'+'Splats']=_0x20adba,this['is4D']=_0x43a348,this['aabb']=new _e(),_0x53ca98['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x20adba*(-0x1f8c+0x103d+0xf52)),_0x53ca98['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',ut,this['evalTextur'+'eSize'](_0x20adba));const _0x577844=this['packedText'+'ure']['lock']();zg(_0x577844,-0x1a61+-0x1*-0x2375+0x1*-0x910,_0x168997,0x2*-0x3b+0x63f+0x127*-0x5,_0x20adba,-0xac*-0x11+-0x1*0x195b+0x1*0xdef),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',ut,this['evalTextur'+'eSize'](_0x20adba));const _0xfc9bee=this['packedTime'+'Texture']['lock']();zg(_0xfc9bee,-0x23+-0x1*-0x149e+-0x1479,_0x168997,-0x90a*-0x1+0x41*-0x88+0x1984,_0x20adba,-0x2702+0x173c+-0xfca*-0x1);const _0x402236=this['evalTextur'+'eSize'](_0x1474a4);_0x402236['x']*=0x1fcf+0x3ee+-0x1*0x23b6,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',Ke,_0x402236);const _0x24f2dd=this['chunkTextu'+'re']['lock']();if(D2(_0x24f2dd,(-0xa*-0xfa+0x680*-0x2+0x340)*(-0x7*0x48d+-0x1fd2+0x3fb4),_0x4f59eb,_0x20a6df,_0x1474a4),_0x20a6df===0x1689+-0x1652+0x1*-0x2b){for(let _0x28ad04=-0x1e50+-0x80e*0x1+0x6*0x665;_0x28ad04<_0x1474a4;++_0x28ad04)_0x24f2dd[_0x28ad04*(0x25eb+0x1*-0x4e4+-0x20f3)+(-0x24fd+-0x6e3*0x3+-0x4f*-0xbb)]=0x2e0+0x8ac+-0xb8b,_0x24f2dd[_0x28ad04*(0xa47+0x1378+-0x1dab)+(0x9*-0x31+0x11*0xf7+0x1*-0xe9e)]=0x3*-0xb07+0x806+0x1910,_0x24f2dd[_0x28ad04*(0x22ff+-0x908+-0x19e3)+(-0x1973+0x139*-0x2+0x1bf6)]=0x122d+-0x4*0x167+0x3*-0x430;}if(this['chunkTextu'+'re']['unlock'](),_0x4a3d6d>-0x1848+-0x1c*-0x50+0x238*0x7){const {shData:_0x2009cd}=_0x53ca98,_0x2d0b19=this['evalTextur'+'eSize'](_0x20adba),_0x543bd1=this['createText'+'ure']('shTexture0',ut,_0x2d0b19),_0x132810=this['createText'+'ure']('shTexture1',ut,_0x2d0b19),_0x8d39c6=this['createText'+'ure']('shTexture2',ut,_0x2d0b19),_0xabd894=_0x543bd1['lock'](),_0x4f92fa=_0x132810['lock'](),_0x57b99f=_0x8d39c6['lock'](),_0x4be803=new Uint8Array(_0xabd894['buffer']),_0x5358ac=new Uint8Array(_0x4f92fa['buffer']),_0x35d564=new Uint8Array(_0x57b99f['buffer']),_0x12f4fc=[-0x16b3+-0x88+0x173e,0x1e9b*0x1+0x819+-0x26ac,0xc2*0x11+-0x35*-0x29+-0x1550][_0x4a3d6d-(-0x44d*-0x2+-0xb*0x202+0xd7d)];for(let _0x47a59b=-0x5*-0x37b+0x3d+0x469*-0x4;_0x47a59b<_0x20adba;++_0x47a59b)for(let _0xd64340=0x3*0xa67+0x1b15+0x67a*-0x9;_0xd64340<-0x1f07+-0x2*0x4b8+-0x4e*-0x85;++_0xd64340)_0x4be803[_0x47a59b*(-0x1530+-0x31*-0x1e+0xf82)+_0xd64340]=_0xd64340<_0x12f4fc?_0x2009cd[(_0x47a59b*(0x1564+-0x15d*0x4+-0xfed)+(0x689*0x4+-0x16cd*0x1+-0x357))*_0x12f4fc+_0xd64340]:0x3ec+0x1bd*0x3+-0x8a4,_0x5358ac[_0x47a59b*(-0x3b9+-0x4*0x454+0x1519)+_0xd64340]=_0xd64340<_0x12f4fc?_0x2009cd[(_0x47a59b*(0x972+-0x1*-0xd3a+-0x16a9*0x1)+(0x21f2+-0x158f+-0xc62))*_0x12f4fc+_0xd64340]:0x239e+0x93*0x27+-0x3984,_0x35d564[_0x47a59b*(-0x1*-0x13f9+0x576+-0x3*0x875)+_0xd64340]=_0xd64340<_0x12f4fc?_0x2009cd[(_0x47a59b*(-0x2511+0x255*0x3+0x1*0x1e15)+(-0x1aa*0x13+-0x1557+0x7*0x791))*_0x12f4fc+_0xd64340]:-0x4*0x143+0x655*-0x1+0xbe0;_0x543bd1['unlock'](),_0x132810['unlock'](),_0x8d39c6['unlock'](),this['shTexture0']=_0x543bd1,this['shTexture1']=_0x132810,this['shTexture2']=_0x8d39c6;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0xfb847e,_0x46bb48,_0x347175,_0x1c71f0,_0x354717,_0xcf1222;(_0xfb847e=this['packedText'+'ure'])==null||_0xfb847e['destroy'](),(_0x46bb48=this['packedTime'+'Texture'])==null||_0x46bb48['destroy'](),(_0x347175=this['chunkTextu'+'re'])==null||_0x347175['destroy'](),(_0x1c71f0=this['shTexture0'])==null||_0x1c71f0['destroy'](),(_0x354717=this['shTexture1'])==null||_0x354717['destroy'](),(_0xcf1222=this['shTexture2'])==null||_0xcf1222['destroy']();}['createMate'+'rial'](_0xdc4869){const _0x50eaff=z0(_0xdc4869);return _0x50eaff['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(0x1*0x1247+-0x5f*-0x58+-0x32ef)),_0x50eaff['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x50eaff['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x50eaff['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x50eaff['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x50eaff['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x50eaff['setDefine']('SH_BANDS',0x28e+-0x1*0xf43+0x32e*0x4),_0x50eaff['setParamet'+'er']('shTexture0',this['shTexture0']),_0x50eaff['setParamet'+'er']('shTexture1',this['shTexture1']),_0x50eaff['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x50eaff['setDefine']('SH_BANDS',-0x7*0x2a5+-0x178b+-0x7*-0x602),_0x50eaff;}['evalTextur'+'eSize'](_0x43b054){const _0x34170a=Math['ceil'](Math['sqrt'](_0x43b054)),_0x42c9f3=Math['ceil'](_0x43b054/_0x34170a);return new $(_0x34170a,_0x42c9f3);}['createText'+'ure'](_0x79f766,_0x35929f,_0x30119f,_0x41d72c){return new he(this['device'],{'name':_0x79f766,'width':_0x30119f['x'],'height':_0x30119f['y'],'format':_0x35929f,'cubemap':!(-0xef*0x17+0x1f42*0x1+-0x9c8),'mipmaps':!(-0x1*0x859+0x1*-0x1aff+-0x2359*-0x1),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,..._0x41d72c?{'levels':[_0x41d72c]}:{}});}}class F2{constructor(_0x138839,_0x3d7301,_0x24a56a){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x138839,this['splatData']=_0x3d7301,this['comments']=_0x24a56a);}['destroy'](){var _0x43391e;this['device']=null,this['splatData']=null,(_0x43391e=this['splat'])==null||_0x43391e['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new L2(this['device'],this['splatData']):new V1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x4760a2,_0x3d08d5,_0x15ab8e){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0x3d08d5,this['splatData']['appendGSpl'+'atData'](_0x4760a2,_0x15ab8e,_0x3d08d5),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x660d1f={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x660d1f);const _0x1588b7=new $e(),_0x16b56b=_0x1588b7['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x1588b7['setLocalEu'+'lerAngles'](-0x1ade+0x2284+-0x7a6,-0x458+0x112*-0x2+0x33e*0x2,0x27*0xf9+0x15d1+-0x10*0x3bc),_0x16b56b['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x1588b7;}['createInst'+'ance'](_0x4e8db5={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x185a15=this['createSpla'+'t']();return new Np(_0x185a15,_0x4e8db5);}}const Ug=new Uint8Array([0x1*0x48b+-0x167b+-0x498*-0x4,-0x1*0x143e+0x3*0xb8e+-0xe00*0x1,-0x32d*-0x1+0x15cb+-0x187f*0x1,0x211*0x3+0x1*0x3fe+-0xa27]),Vg=new Uint8Array([-0x6c8+0x1*-0x1791+-0x1e63*-0x1,-0x1220+0x1*-0x15d7+0x285c,-0x706+-0x11ef*0x1+0x1963*0x1,-0x264e+0x1*-0x246+0x28f8,-0x26e*-0x3+-0x19*0x8e+-0x251*-0x3,0x1*-0x65e+-0x1*0x13c3+0x1a89,0x3*-0x2ec+0x3*0x161+0x506,0x2094+-0x1e0d*-0x1+-0x3e40,0x298*0x6+0x841*-0x3+0x997,0x3c7*0x5+-0x6bb+-0xbc3*0x1,0x10f0+0x1*-0x1f3d+-0x19*-0x97,-0x20d7+-0xfc5+0x30a6]),bf=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class O2{constructor(_0x3a8c7,_0x54adea){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',-0x3a7*-0x5+0x22a5+0x1*-0x34e8),c(this,'tail',0x1*-0x3a5+0x79*0x1+0x7*0x74),(this['reader']=_0x3a8c7,this['progressFu'+'nc']=_0x54adea);}async['read'](){var _0x2926d8;const {value:_0x59ab34,done:_0x28840f}=await this['reader']['read']();if(_0x28840f)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x59ab34),(_0x2926d8=this['progressFu'+'nc'])==null||_0x2926d8['call'](this,_0x59ab34['byteLength']);}['push'](_0x583e67){if(!this['data'])this['data']=_0x583e67,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x583e67['length'];else{const _0x5f1bef=this['tail']-this['head'],_0x1a0a0a=_0x5f1bef+_0x583e67['length'];if(this['data']['length']>=_0x1a0a0a)this['head']>-0xf6b+-0x8*0x3ea+0x2ebb?(this['data']['copyWithin'](-0x2543+0x22b9+0x19*0x1a,this['head'],this['tail']),this['data']['set'](_0x583e67,_0x5f1bef),this['head']=0x12d9*0x1+-0x23e6+0x110d,this['tail']=_0x1a0a0a):(this['data']['set'](_0x583e67,this['tail']),this['tail']+=_0x583e67['length']);else{const _0x76c3d=new Uint8Array(_0x1a0a0a);this['head']>-0x67*-0x56+-0xfe3*-0x1+0x2f*-0x113||this['tail']<this['data']['length']?_0x76c3d['set'](this['data']['subarray'](this['head'],this['tail']),0x3*-0x9bc+-0x14c4+0x31f8):_0x76c3d['set'](this['data'],-0xc72+-0x55*0x15+-0x3*-0x679),_0x76c3d['set'](_0x583e67,_0x5f1bef),this['data']=_0x76c3d,this['view']=new DataView(this['data']['buffer']),this['head']=0xc06*0x2+-0x227b+-0xa6f*-0x1,this['tail']=_0x1a0a0a;}}}['compact'](){this['head']>-0x1104+-0x1579*0x1+-0xa7*-0x3b&&(this['data']['copyWithin'](0x101e+0x132c+-0x234a,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x28c*0xd+-0x19ae+-0x5*-0xbc2);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x515312=this['view']['getInt8'](this['head']);return this['head']++,_0x515312;}['getUint8'](){const _0x109f75=this['view']['getUint8'](this['head']);return this['head']++,_0x109f75;}['getInt16'](){const _0x133201=this['view']['getInt16'](this['head'],!(0xa2*0x19+-0x9a4+-0x62e));return this['head']+=-0xa98+0x3e*-0x74+0x26b2,_0x133201;}['getUint16'](){const _0x144533=this['view']['getUint16'](this['head'],!(-0x1f3f+0xe94+0x11*0xfb));return this['head']+=0x426+-0x266*-0xb+0x1e86*-0x1,_0x144533;}['getInt32'](){const _0x4772e5=this['view']['getInt32'](this['head'],!(0x2*0xaf6+0x2*0x8c3+-0x2772));return this['head']+=-0x7*0x33+0xb*0x377+-0x6*0x61e,_0x4772e5;}['getUint32'](){const _0x4b15db=this['view']['getUint32'](this['head'],!(0x751+-0xcb9*-0x3+-0x2d7c));return this['head']+=0x900+-0x206+0x12*-0x63,_0x4b15db;}['getFloat32'](){const _0x582ccf=this['view']['getFloat32'](this['head'],!(-0x35f*-0xa+0x103*-0x10+-0x1186));return this['head']+=0x1e05+-0x2406+-0x1*-0x605,_0x582ccf;}['getFloat64'](){const _0x4f2689=this['view']['getFloat64'](this['head'],!(0x262b+-0x4*0x3fa+-0x29*0x8b));return this['head']+=-0xcf1+-0xdff+-0x1*-0x1af8,_0x4f2689;}}const k2=_0x55aaf0=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x23449f=[],_0x78789e=[];let _0x180352;for(let _0x12d2dd=0x1*-0x15c+0x411*0x8+-0x1f2b;_0x12d2dd<_0x55aaf0['length'];++_0x12d2dd){const _0x4cc2ad=_0x55aaf0[_0x12d2dd]['split']('\x20');switch(_0x4cc2ad[0x681+-0x8b*0x8+-0x229]){case'comment':_0x78789e['push'](_0x4cc2ad['slice'](-0x2650+0xce4+-0x11b*-0x17)['join']('\x20'));break;case'format':_0x180352=_0x4cc2ad[-0x143f+0xb*0xb5+0xc79];break;case'element':_0x23449f['push']({'name':_0x4cc2ad[0x17ac+-0x1*0x6cd+-0xfe*0x11],'count':parseInt(_0x4cc2ad[-0xd2f+0x21a3+-0x1472],-0x680+-0x2015*-0x1+0x1f7*-0xd),'properties':[]});break;case'property':{if(!bf['has'](_0x4cc2ad[-0x11e1*0x1+-0x1*-0xb03+0x6df]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x4cc2ad[0x1a51+-0x13a8+-0x6a8]+('\x27\x20in\x20ply\x20h'+'eader'));_0x23449f[_0x23449f['length']-(-0x14c7+-0xa4*-0xd+0xc74)]['properties']['push']({'type':_0x4cc2ad[-0x1*0x559+0x1715+-0x11bb],'name':_0x4cc2ad[0x857*-0x2+-0x19*-0x182+-0x1502],'storage':null,'byteSize':bf['get'](_0x4cc2ad[-0xe42*-0x1+-0x166f+0x2ba*0x3])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x4cc2ad[0x727+0x7*-0x373+0x10fe]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x23449f,'format':_0x180352,'comments':_0x78789e};},B2=_0x5286d5=>{const _0x5039f4=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x5f2f59=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x47cd1d=new Array(-0xf38+0x1*-0x1813+0x2778)['fill']('')['map']((_0x168b4a,_0x2afcb7)=>'f_rest_'+_0x2afcb7),_0x784143=()=>_0x5286d5[0x71a+0x5c0+0x5*-0x292]['name']==='chunk'&&_0x5286d5[0x1ac0+-0x2f5*-0xb+-0x3b47]['properties']['every']((_0x315717,_0x18e30a)=>_0x315717['name']===_0x5039f4[_0x18e30a]&&_0x315717['type']==='float')&&_0x5286d5[-0x10f4+-0x2635+0x1b95*0x2]['name']==='vertex'&&_0x5286d5[-0x6f0+-0x177d+0x1e6e]['properties']['every']((_0x23bd2a,_0x133f80)=>_0x23bd2a['name']===_0x5f2f59[_0x133f80]&&_0x23bd2a['type']==='uint'),_0x383b52=()=>_0x5286d5[0x5*0x167+0x15a4+0x1*-0x1ca5]['name']==='sh'&&[0x23d1+-0xfc6+-0x1402,-0x1edf+-0x1*-0x26b4+-0x7bd,0x29*0x22+0x1*-0x16af+-0x3*-0x5ce]['indexOf'](_0x5286d5[0x1*0xd6+-0x56*-0x27+-0xdee*0x1]['properties']['length'])!==-(-0x1*0x202d+-0x1*0xa45+0x2a73*0x1)&&_0x5286d5[-0x2*0xa98+-0x98a*-0x1+-0x1*-0xba8]['properties']['every']((_0x3e0eeb,_0x7cf6c)=>_0x3e0eeb['name']===_0x47cd1d[_0x7cf6c]&&_0x3e0eeb['type']==='uchar');return _0x5286d5['length']===-0x412+0x1508+-0x1c*0x9b&&_0x784143()||_0x5286d5['length']===0x1e38+0x3*0x86b+0xe5*-0x3e&&_0x784143()&&_0x383b52();},N2=_0x18cd3e=>_0x18cd3e['length']===0xd*0xef+0x18+-0x1*0xc3a&&_0x18cd3e[0x8d8*-0x2+-0x2d3+-0x59*-0x3b]['name']==='vertex'&&_0x18cd3e[-0x1625+-0x60a+-0x27*-0xb9]['properties']['every'](_0x5f5a20=>_0x5f5a20['type']==='float'),z2=async(_0x445cbf,_0x52cd89)=>{const _0x4e2e34=new I2(),_0x5ec1b1=_0x52cd89[-0x1*-0x952+-0x502*-0x2+-0x1356]['count'],_0x90c535=_0x52cd89[0xd*0x1e6+-0x1*0x19cb+0xf*0x13]['properties']['length'],_0x1ad5b5=_0x52cd89[0x9ac+-0x1*-0xcd+-0xa78]['count'],_0xb954e0=_0x52cd89[0x1ac*-0x1+0x137e+-0x11d1]['properties']['some'](_0x124836=>_0x124836['name']==='packed_tim'+'e'),_0x413485=_0xc7e7b0=>{const _0x486666=Math['ceil'](Math['sqrt'](_0xc7e7b0)),_0x11a5d9=Math['ceil'](_0xc7e7b0/_0x486666);return _0x486666*_0x11a5d9;};_0x4e2e34['numSplats']=_0x1ad5b5,_0x4e2e34['is4D']=_0xb954e0,_0x4e2e34['chunkData']=new Float32Array(_0x5ec1b1*_0x90c535),_0x4e2e34['vertexData']=new Uint32Array(_0x413485(_0x1ad5b5)*(-0x1*-0x6+-0x157b+0x8d*0x27));const _0x5d5e6e=async(_0x1a68c0,_0x4d58f1)=>{const _0x3751c2=new Uint8Array(_0x1a68c0);let _0x14f76d=0x2*0xd8d+0x1908+-0x3422;for(;_0x14f76d<_0x4d58f1;){for(;_0x445cbf['remaining']===-0xacf*0x2+0xa39*0x1+0xb65;)await _0x445cbf['read']();const _0x5406dd=Math['min'](_0x4d58f1-_0x14f76d,_0x445cbf['remaining']),_0x214517=_0x445cbf['data'];for(let _0x4166d0=-0x39*-0xa4+-0x112d*-0x1+-0x35b1;_0x4166d0<_0x5406dd;++_0x4166d0)_0x3751c2[_0x14f76d++]=_0x214517[_0x445cbf['head']++];}};return await _0x5d5e6e(_0x4e2e34['chunkData']['buffer'],_0x5ec1b1*_0x90c535*(-0x29a*0xd+0x24fd+-0x327)),await _0x5d5e6e(_0x4e2e34['vertexData']['buffer'],_0x1ad5b5*(0xdcd*0x1+0x1d07+0x1567*-0x2)*(-0x13*0x1b8+-0x1a9a+0x3b46)),_0x52cd89['length']===-0xa8*0x12+-0x2622+0x31f5&&(_0x4e2e34['shData']=new Uint8Array(_0x52cd89[-0x1*0x1b15+-0x1b88+0xb1*0x4f]['count']*_0x52cd89[-0x178e+0x13ed*-0x1+0x2b7d]['properties']['length']),await _0x5d5e6e(_0x4e2e34['shData']['buffer'],_0x4e2e34['shData']['byteLength'])),_0x4e2e34;},U2=async(_0x1d9819,_0x57f274)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x12da58=_0x57f274[-0x1777*0x1+0x17d4+-0x1f*0x3],_0x16b526=_0x12da58['properties'],_0x178afd=_0x16b526['length'],_0x1e63c4=_0x16b526['map'](_0x5dedd0=>_0x5dedd0['storage']),_0xfd8316=_0x16b526['reduce']((_0x1a5944,_0x34c81f)=>_0x1a5944+_0x34c81f['byteSize'],-0x490+0x2*-0x2b+-0x273*-0x2);let _0x15755c=0x119e+0x296+-0x1434,_0xd59226;const _0x30a0cb=()=>{const _0x1e2f6a=_0x1d9819['data']['buffer'];(_0xd59226==null?void(0x2143+0x11*0x151+-0x37a4):_0xd59226['buffer'])!==_0x1e2f6a&&(_0xd59226=new Float32Array(_0x1e2f6a,0x544*-0x7+-0x11*-0xe1+0x1f*0xb5,_0x1e2f6a['byteLength']/(-0x1*-0x1f35+-0x2f*-0x86+0x1b*-0x211)));};for(_0x30a0cb();_0x15755c<_0x12da58['count'];){for(;_0x1d9819['remaining']<_0xfd8316;)await _0x1d9819['read'](),_0x30a0cb();const _0x166f03=Math['min'](_0x12da58['count']-_0x15755c,Math['floor'](_0x1d9819['remaining']/_0xfd8316));for(let _0x103702=-0x7be*0x1+-0x1813+0x1fd1;_0x103702<_0x178afd;++_0x103702){const _0x4cff01=_0x1e63c4[_0x103702];for(let _0xd49be2=-0x1973*-0x1+-0x47e*0x6+0x181*0x1;_0xd49be2<_0x166f03;++_0xd49be2)_0x4cff01[_0xd49be2+_0x15755c]=_0xd59226[_0xd49be2*_0x178afd+_0x103702];}_0x15755c+=_0x166f03,_0x1d9819['head']+=_0x166f03*_0xfd8316;}return new Ia(_0x57f274);},V2=async(_0x56a3d2,_0x407d5b)=>{for(let _0x62d014=0x1d58+0x1dff*-0x1+-0xa7*-0x1;_0x62d014<_0x407d5b['length'];++_0x62d014){const _0x19571a=_0x407d5b[_0x62d014],_0x2f4645=_0x19571a['properties']['reduce']((_0xc6b226,_0x422ece)=>_0xc6b226+_0x422ece['byteSize'],0xb*0xba+0x2f*-0x10+0x1*-0x50e),_0x10a91f=_0x19571a['properties']['map'](_0x355ca1=>{if(_0x355ca1['storage'])switch(_0x355ca1['type']){case'char':return(_0x152ffa,_0x2f1e5e)=>{_0x355ca1['storage'][_0x2f1e5e]=_0x152ffa['getInt8']();};case'uchar':return(_0x5c065d,_0x285eff)=>{_0x355ca1['storage'][_0x285eff]=_0x5c065d['getUint8']();};case'short':return(_0xfb0f73,_0x57316b)=>{_0x355ca1['storage'][_0x57316b]=_0xfb0f73['getInt16']();};case'ushort':return(_0x58a5bd,_0x2bb65d)=>{_0x355ca1['storage'][_0x2bb65d]=_0x58a5bd['getUint16']();};case'int':return(_0x2c21b7,_0x5446d6)=>{_0x355ca1['storage'][_0x5446d6]=_0x2c21b7['getInt32']();};case'uint':return(_0x1d8132,_0x3e350e)=>{_0x355ca1['storage'][_0x3e350e]=_0x1d8132['getUint32']();};case'float':return(_0x388cf9,_0x23b29a)=>{_0x355ca1['storage'][_0x23b29a]=_0x388cf9['getFloat32']();};case'double':return(_0x23c968,_0x5c8482)=>{_0x355ca1['storage'][_0x5c8482]=_0x23c968['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x355ca1['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x457494=>{_0x457494['head']+=_0x355ca1['byteSize'];};});let _0x4e60a4=0x10ca+0xec9*-0x2+0x332*0x4;for(;_0x4e60a4<_0x19571a['count'];){for(;_0x56a3d2['remaining']<_0x2f4645;)await _0x56a3d2['read']();const _0x58b5bb=Math['min'](_0x19571a['count']-_0x4e60a4,Math['floor'](_0x56a3d2['remaining']/_0x2f4645));for(let _0x957fd8=0x1a9+0x1b41*0x1+-0x2*0xe75;_0x957fd8<_0x58b5bb;++_0x957fd8){for(let _0x2565c2=-0x3*-0x91e+-0xb19+-0x1041;_0x2565c2<_0x19571a['properties']['length'];++_0x2565c2)_0x10a91f[_0x2565c2](_0x56a3d2,_0x4e60a4);_0x4e60a4++;}}}return new Ia(_0x407d5b);},G2=async(_0x4a3e2a,_0x31dc74=null,_0x13b1c9=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x115fff=(_0x250c46,_0x564284)=>{const _0x43b844=_0x250c46['length']-_0x564284['length'];let _0xbd0818,_0x5bef03;for(_0xbd0818=0x2a*-0x2e+-0xd77+-0x1e9*-0xb;_0xbd0818<=_0x43b844;++_0xbd0818){for(_0x5bef03=-0x1*0x18c7+0x10ad+0x81a*0x1;_0x5bef03<_0x564284['length']&&_0x250c46[_0xbd0818+_0x5bef03]===_0x564284[_0x5bef03];++_0x5bef03);if(_0x5bef03===_0x564284['length'])return _0xbd0818;}return-(0xa*-0x11a+-0x11a+-0x1*-0xc1f);},_0x331d40=(_0x3c6307,_0x540e0d)=>{if(_0x3c6307['length']<_0x540e0d['length'])return!(-0x1*0x199+0x1ba7+-0x2e5*0x9);for(let _0x3c7f28=0x1c5b+0xe31+-0x2a8c;_0x3c7f28<_0x540e0d['length'];++_0x3c7f28)if(_0x3c6307[_0x3c7f28]!==_0x540e0d[_0x3c7f28])return!(-0x4*0x48b+-0x1040+0x226d);return!(-0x14a3+0x17d4+-0x331);},_0x2e3367=new O2(_0x4a3e2a,_0x13b1c9);let _0x2d42ba;for(;;){if(await _0x2e3367['read'](),_0x2e3367['tail']>=Ug['length']&&!_0x331d40(_0x2e3367['data'],Ug))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x2d42ba=_0x115fff(_0x2e3367['data'],Vg),_0x2d42ba!==-(0x1*-0x4f6+-0x4c2+-0x9b9*-0x1))break;}const _0x51166f=new TextDecoder('ascii')['decode'](_0x2e3367['data']['subarray'](-0x6b*-0x2e+0xfb0+0x1*-0x22ea,_0x2d42ba))['split']('\x0a'),{elements:_0x1d5c4b,format:_0x5dec15,comments:_0x100936}=k2(_0x51166f);if(_0x5dec15!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x2e3367['head']=_0x2d42ba+Vg['length'],_0x2e3367['compact'](),{'data':await((async()=>B2(_0x1d5c4b)?await z2(_0x2e3367,_0x1d5c4b):(_0x1d5c4b['forEach'](_0x50cff4=>{_0x50cff4['properties']['forEach'](_0x83dbc9=>{const _0x518388=bf['get'](_0x83dbc9['type']);if(_0x518388){const _0x1d6aaf=!_0x31dc74||_0x31dc74(_0x83dbc9['name'])?new _0x518388(_0x50cff4['count']):null;_0x83dbc9['storage']=_0x1d6aaf;}});}),N2(_0x1d5c4b)?await U2(_0x2e3367,_0x1d5c4b):await V2(_0x2e3367,_0x1d5c4b)))()),'comments':_0x100936};},H2=_0x4f49ba=>!(-0x2ec+0x59e+-0x2b2);class $2{constructor(_0x3a07cc,_0x2eeced,_0x48d9e6){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x3a07cc,this['assets']=_0x2eeced,this['maxRetries']=_0x48d9e6,this['urlList']=[],this['gsplatReso'+'urce']=null);}async['load'](_0x310f75,_0x44fe04,_0x33031a){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x310f75['load']['includes'](',')?this['urlList']=_0x310f75['load']['split'](','):this['urlList']['push'](_0x310f75['load']);const _0x4d059d=_0x33031a['data']['loadAllSeq']?this['urlList']['length']:0x551*0x3+-0x2064+-0x1*-0x1072,_0x24409e=_0x33031a['data']['timeOption'],_0x448124=_0x33031a['data']['events'];for(let _0x2ec04c=-0x1*0x8c3+0x2*-0x955+0x3eb*0x7;_0x2ec04c<_0x4d059d;_0x2ec04c++)await this['loadGsplat'+'Data'](this['urlList'][_0x2ec04c]['trim'](),_0x44fe04,_0x33031a,_0x2ec04c,_0x24409e,_0x448124);}async['loadGsplat'+'Data'](_0x2bd3a5,_0x27d280,_0x59c37e,_0x125cba,_0x417f20,_0x19bfd1){var _0x24f6ab;try{const _0x1722dc=await fetch(_0x2bd3a5);if(!_0x1722dc||!_0x1722dc['body'])_0x27d280('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x372505=parseInt(_0x1722dc['headers']['get']('content-le'+'ngth')??'0',0x77e+0x71e*0x1+0x175*-0xa);let _0x3b5958=0x6*0x4d1+-0x13*-0xa+0x7*-0x43c;const {data:_0x469a4c,comments:_0x20cbe5}=await G2(_0x1722dc['body']['getReader'](),_0x59c37e['data']['elementFil'+'ter']??H2,_0x1ceb87=>{_0x3b5958+=_0x1ceb87,_0x59c37e&&_0x19bfd1['fire']('progress',_0x3b5958,_0x372505);});_0x469a4c['isCompress'+'ed']||_0x59c37e['data']['reorder'],this['gsplatReso'+'urce']&&((_0x24f6ab=this['gsplatReso'+'urce'])!=null&&_0x24f6ab['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x469a4c['isCompress'+'ed']&&_0x59c37e['data']['decompress']?await _0x469a4c['decompress']():_0x469a4c,_0x417f20,_0x125cba):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new F2(this['device'],_0x469a4c['isCompress'+'ed']&&_0x59c37e['data']['decompress']?await _0x469a4c['decompress']():_0x469a4c,_0x20cbe5),this['gsplatReso'+'urce']['timeOption']=_0x417f20,_0x19bfd1['fire']('progressEn'+'d')),_0x27d280(null,this['gsplatReso'+'urce']);}}catch(_0x512c9a){_0x27d280(_0x512c9a,null);}}['open'](_0x39bce8,_0x2ba1f7){return _0x2ba1f7;}}class W2 extends Ne{constructor(_0x1e2812){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x1e2812,'gsplat'),this['parser']=new $2(_0x1e2812['graphicsDe'+'vice'],_0x1e2812['assets'],-0x8f*0x29+0x60a*0x5+-0x1*0x748);}['load'](_0x4e4743,_0x4c412f,_0x34545b){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x4e4743=='string'&&(_0x4e4743={'load':_0x4e4743,'original':_0x4e4743}),this['parser']['load'](_0x4e4743,_0x4c412f,_0x34545b);}['open'](_0x3cdbed,_0x2e959,_0x31cd01){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x3cdbed,_0x2e959,_0x31cd01);}}class wf{static['setCompres'+'sedPRS'](_0x3a8c05,_0xdc83bd,_0x23f79c){const _0x787de7=_0x23f79c['singleVecs'];let _0x44655,_0x32dab0;const _0x4b3505=_0xdc83bd['___1'];_0x4b3505||(_0x44655=_0x23f79c['tripleVecs'],_0x32dab0=_0xdc83bd['___2']);let _0x5667f0=_0x4b3505?_0x4b3505[-0x56d+0xc65+-0x6f8]:_0x44655[_0x32dab0];_0x3a8c05['setLocalPo'+'sition'](_0x787de7[_0x5667f0],_0x787de7[_0x5667f0+(-0x1059+0x10b3+-0x1*0x59)],_0x787de7[_0x5667f0+(-0x2704+0xe18+-0x18ee*-0x1)]),_0x5667f0=_0x4b3505?_0x4b3505[-0x15c3+-0x1251+0x2815]:_0x44655[_0x32dab0+(-0x114a+0x1*-0x26f2+0x383d)],_0x3a8c05['setLocalEu'+'lerAngles'](_0x787de7[_0x5667f0],_0x787de7[_0x5667f0+(0x1e8e+-0x1f*-0x125+-0x4208)],_0x787de7[_0x5667f0+(-0x1*-0x21e9+0x4e9+0xc*-0x33c)]),_0x5667f0=_0x4b3505?_0x4b3505[-0x1a70+-0xf99+0x2a0b]:_0x44655[_0x32dab0+(-0x2023+-0x1e4f+-0x1f3a*-0x2)],_0x3a8c05['setLocalSc'+'ale'](_0x787de7[_0x5667f0],_0x787de7[_0x5667f0+(0xd35+-0x1fa1*0x1+0x59*0x35)],_0x787de7[_0x5667f0+(0x10c7+0xd1f+-0x4*0x779)]);}static['oneCharToK'+'ey'](_0x369dbf,_0xa827d5){const _0x55f70a=_0x369dbf['charCodeAt'](-0x1*-0x1e35+0x145e+-0x499*0xb)-_0xa827d5['fieldFirst'+'Code'];return _0xa827d5['fieldArray'][_0x55f70a];}static['multCharTo'+'Key'](_0x56669e,_0x421dc0){let _0x3f9a43=0x931+0x17b*0x7+-0x138e;for(let _0x26ed7f=0x339*-0x4+0x6*0x270+0x2*-0xde;_0x26ed7f<_0x56669e['length'];_0x26ed7f++)_0x3f9a43=_0x3f9a43*_0x421dc0['fieldCodeB'+'ase']+_0x56669e['charCodeAt'](_0x26ed7f)-_0x421dc0['fieldFirst'+'Code'];return _0x421dc0['fieldArray'][_0x3f9a43];}}class sc{constructor(_0x10ba00,_0x50784f){this['_node']=_0x10ba00,this['_data']=_0x50784f;}['run'](){const _0x4e9e67=Object['prototype']['toString']['call'](this['_node']);return _0x4e9e67==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x4e9e67==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x494786){let _0x258b88=_0x494786;const _0x219d43=_0x494786['length'];_0x219d43===-0x1706+0x1d6b+-0x664?_0x258b88=wf['oneCharToK'+'ey'](_0x494786,this['_data']):_0x219d43===0x1656+-0x3c8+-0x4a3*0x4&&(_0x258b88=wf['multCharTo'+'Key'](_0x494786,this['_data'])),this['_result'][_0x258b88]=new sc(this['_node'][_0x494786],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x28c3fb){const _0x1ebe89=new sc(_0x28c3fb,this['_data'])['run']();this['_result']['push'](_0x1ebe89);}}class $p{constructor(_0x18a97d,_0x3eb7cb){this['_app']=_0x18a97d,this['_isTemplat'+'e']=_0x3eb7cb;}['parse'](_0x56e828){const _0x45afc8={};let _0x532999=null;const _0x188692=_0x56e828['compressed'+'Format'];_0x188692&&!_0x56e828['entDecompr'+'essed']&&(_0x56e828['entDecompr'+'essed']=!(-0x218c+0x252b*-0x1+0x1a5*0x2b),_0x56e828['entities']=new sc(_0x56e828['entities'],_0x188692)['run']());for(const _0x4c4d50 in _0x56e828['entities']){const _0x52eb46=_0x56e828['entities'][_0x4c4d50],_0x453db3=this['_createEnt'+'ity'](_0x52eb46,_0x188692);_0x45afc8[_0x4c4d50]=_0x453db3,_0x52eb46['parent']===null&&(_0x532999=_0x453db3);}for(const _0x3cd197 in _0x56e828['entities']){const _0x4aac8a=_0x45afc8[_0x3cd197],_0xc46b9b=_0x56e828['entities'][_0x3cd197]['children'],_0xa12be7=_0xc46b9b['length'];for(let _0x5035f2=-0xdb8+0x2361+-0x15a9;_0x5035f2<_0xa12be7;_0x5035f2++){const _0x2d664c=_0x45afc8[_0xc46b9b[_0x5035f2]];_0x2d664c&&_0x4aac8a['addChild'](_0x2d664c);}}return this['_openCompo'+'nentData'](_0x532999,_0x56e828['entities']),_0x532999;}['_createEnt'+'ity'](_0x2422d7,_0x649f1b){const _0x5d6155=new $e(_0x2422d7['name'],this['_app']);if(_0x5d6155['setGuid'](_0x2422d7['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x5d6155,_0x2422d7,_0x649f1b),_0x5d6155['_enabled']=_0x2422d7['enabled']??!(0x7ee+0x19b6+-0x1*0x21a4),this['_isTemplat'+'e']?_0x5d6155['_template']=!(-0x12b3*0x1+-0x1*0x1aa+0x145d):_0x5d6155['_enabledIn'+'Hierarchy']=_0x5d6155['_enabled'],_0x5d6155['template']=_0x2422d7['template'],_0x2422d7['tags']){for(let _0x14b277=-0x129*-0x7+-0x4*0x40+-0x71f;_0x14b277<_0x2422d7['tags']['length'];_0x14b277++)_0x5d6155['tags']['add'](_0x2422d7['tags'][_0x14b277]);}return _0x5d6155;}['_setPosRot'+'Scale'](_0x7cedef,_0xded457,_0x21918f){if(_0x21918f)wf['setCompres'+'sedPRS'](_0x7cedef,_0xded457,_0x21918f);else{const _0x4c1910=_0xded457['position'],_0x338c50=_0xded457['rotation'],_0x3b52e4=_0xded457['scale'];_0x7cedef['setLocalPo'+'sition'](_0x4c1910[0x7*0x22a+-0x108*-0xd+-0x1c8e],_0x4c1910[0x2e7*-0x7+0x3*-0x80f+0x2c7f],_0x4c1910[0x25*-0x8e+-0x1712+-0x15cd*-0x2]),_0x7cedef['setLocalEu'+'lerAngles'](_0x338c50[-0xafb+0x18d3+-0xdd8],_0x338c50[-0x69*-0x34+0x319+-0x186c],_0x338c50[0x1*-0x327+0x2311*0x1+-0x1fe8]),_0x7cedef['setLocalSc'+'ale'](_0x3b52e4[0x26b2+-0x125c+-0xa2b*0x2],_0x3b52e4[-0xde6+-0xa7*0x31+-0x135*-0x26],_0x3b52e4[-0x62f*0x3+-0x82c*-0x1+0xa63]);}}['_openCompo'+'nentData'](_0x1c9dab,_0x20f046){const _0x1cab0e=this['_app']['systems']['list'];let _0x284898=_0x1cab0e['length'];const _0x1bd36b=_0x20f046[_0x1c9dab['getGuid']()];for(let _0x3fc632=0x6c7*-0x1+0xaf0+-0x429*0x1;_0x3fc632<_0x284898;_0x3fc632++){const _0x9f3954=_0x1cab0e[_0x3fc632],_0x5c42f1=_0x1bd36b['components'][_0x9f3954['id']];_0x5c42f1&&_0x9f3954['addCompone'+'nt'](_0x1c9dab,_0x5c42f1);}_0x284898=_0x1bd36b['children']['length'];const _0x20bf1d=_0x1c9dab['_children'];for(let _0x4bab2f=0x9*0x262+-0x77*-0x36+-0x2e8c;_0x4bab2f<_0x284898;_0x4bab2f++)_0x20bf1d[_0x4bab2f]?_0x20bf1d[_0x4bab2f]=this['_openCompo'+'nentData'](_0x20bf1d[_0x4bab2f],_0x20f046):v['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x1c9dab['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x1c9dab;}}class Lx{static['load'](_0x3b94ad,_0x34c243,_0x395253){typeof _0x3b94ad=='string'&&(_0x3b94ad={'load':_0x3b94ad,'original':_0x3b94ad}),We['get'](_0x3b94ad['load'],{'retry':_0x34c243>0x1*0x111d+0xc2+-0x11df,'maxRetries':_0x34c243},(_0x38f83b,_0x2e46d3)=>{if(!_0x38f83b)_0x395253(_0x38f83b,_0x2e46d3);else{let _0x4edd3c='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x3b94ad['original'];_0x38f83b['message']?(_0x4edd3c+=':\x20'+_0x38f83b['message'],_0x38f83b['stack']&&(_0x4edd3c+='\x0a'+_0x38f83b['stack'])):_0x4edd3c+=':\x20'+_0x38f83b,_0x395253(_0x4edd3c);}});}}class q2 extends Ne{constructor(_0xa8d656){super(_0xa8d656,'hierarchy');}['load'](_0x1bb1c9,_0x45ee15){Lx['load'](_0x1bb1c9,this['maxRetries'],_0x45ee15);}['open'](_0x3edc06,_0x54e388){this['_app']['systems']['script']['preloading']=!(0x1*-0x2c5+-0xb67+-0x2*-0x716);const _0x21bbc6=new $p(this['_app'],!(-0xffc+-0x871*-0x1+0x78c))['parse'](_0x54e388);return this['_app']['systems']['script']['preloading']=!(0x4e9*-0x7+0x1cf9+-0x3*-0x1cd),_0x21bbc6;}}class X2 extends Ne{constructor(_0x36ca7c){super(_0x36ca7c,'html'),c(this,'decoder',null);}['load'](_0x42ea8e,_0x21cca0){typeof _0x42ea8e=='string'&&(_0x42ea8e={'load':_0x42ea8e,'original':_0x42ea8e}),We['get'](_0x42ea8e['load'],{'retry':this['maxRetries']>0xcbf+-0x172b+-0x29b*-0x4,'maxRetries':this['maxRetries']},(_0x43e856,_0x2f541c)=>{_0x43e856?_0x21cca0('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x42ea8e['original']+'\x20['+_0x43e856+']'):_0x21cca0(null,_0x2f541c);});}['openBinary'](_0x29eec5){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x29eec5);}}class j2 extends Ne{constructor(_0x25d58a){super(_0x25d58a,'json'),c(this,'decoder',null);}['load'](_0x370daa,_0x395a5e){typeof _0x370daa=='string'&&(_0x370daa={'load':_0x370daa,'original':_0x370daa});const _0x171aa5={'retry':this['maxRetries']>-0xf7c+0xe76+0x106,'maxRetries':this['maxRetries']};_0x370daa['load']['startsWith']('blob:')&&(_0x171aa5['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x370daa['load'],_0x171aa5,(_0x1f4bef,_0x4d4252)=>{_0x1f4bef?_0x395a5e('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x370daa['original']+'\x20['+_0x1f4bef+']'):_0x395a5e(null,_0x4d4252);});}['openBinary'](_0x401a96){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x401a96));}}class Y2{constructor(){this['removeInva'+'lid']=!(0x20b3+0xddb+0xca*-0x3b),this['valid']=!(-0x1*0x82d+-0x182a+0x2057*0x1),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Bo,Lu]),'cull':this['_createEnu'+'mValidator']([mt,rn,mo,RS]),'blendType':this['_createEnu'+'mValidator']([n0,yp,Kt,is,hr,xp,Hc,a0,o0,l0,h0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Eh,Ch,fu,DS,LS,FS,Ai])};}['setInvalid'](_0x582e01,_0xdfaeb4){this['valid']=!(0x2415+0x1*0x20db+-0x1*0x44ef),v['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x582e01,_0xdfaeb4[_0x582e01]),this['removeInva'+'lid']&&delete _0xdfaeb4[_0x582e01];}['validate'](_0x75efed){const _0xad1271=Pa,_0x303dcc=QC,_0x135346=_0x75efed['mappingFor'+'mat']==='path';for(const _0x5a1ef2 in _0x75efed){const _0x495906=_0xad1271[_0x5a1ef2];if(!_0x495906){_0x303dcc[_0x5a1ef2]?delete _0x75efed[_0x5a1ef2]:(v['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x5a1ef2),this['valid']=!(0x2*0xcfb+0x508*0x6+0x9*-0x63d));continue;}if(_0x495906['startsWith']('enum')){const _0x331a1e=_0x495906['split'](':')[0xfa+0x9d3*0x3+0x362*-0x9];this['enumValida'+'tors'][_0x331a1e]&&(this['enumValida'+'tors'][_0x331a1e](_0x75efed[_0x5a1ef2])||this['setInvalid'](_0x5a1ef2,_0x75efed));}else{if(_0x495906==='number')typeof _0x75efed[_0x5a1ef2]!='number'&&this['setInvalid'](_0x5a1ef2,_0x75efed);else{if(_0x495906==='boolean')typeof _0x75efed[_0x5a1ef2]!='boolean'&&this['setInvalid'](_0x5a1ef2,_0x75efed);else{if(_0x495906==='string')typeof _0x75efed[_0x5a1ef2]!='string'&&this['setInvalid'](_0x5a1ef2,_0x75efed);else{if(_0x495906==='vec2')_0x75efed[_0x5a1ef2]instanceof Array&&_0x75efed[_0x5a1ef2]['length']===-0x2629+0x6*-0x121+0x2cf1||this['setInvalid'](_0x5a1ef2,_0x75efed);else{if(_0x495906==='rgb')_0x75efed[_0x5a1ef2]instanceof Array&&_0x75efed[_0x5a1ef2]['length']===-0x688+0x2e*-0x17+-0x3*-0x38f||this['setInvalid'](_0x5a1ef2,_0x75efed);else{if(_0x495906==='texture')_0x135346?typeof _0x75efed[_0x5a1ef2]=='string'||_0x75efed[_0x5a1ef2]===null||_0x75efed[_0x5a1ef2]instanceof he||this['setInvalid'](_0x5a1ef2,_0x75efed):typeof _0x75efed[_0x5a1ef2]=='number'||_0x75efed[_0x5a1ef2]===null||_0x75efed[_0x5a1ef2]instanceof he||this['setInvalid'](_0x5a1ef2,_0x75efed);else{if(_0x495906==='boundingbo'+'x')_0x75efed[_0x5a1ef2]['center']&&_0x75efed[_0x5a1ef2]['center']instanceof Array&&_0x75efed[_0x5a1ef2]['center']['length']===0x9c+-0x177a+0x16e1||this['setInvalid'](_0x5a1ef2,_0x75efed),_0x75efed[_0x5a1ef2]['halfExtent'+'s']&&_0x75efed[_0x5a1ef2]['halfExtent'+'s']instanceof Array&&_0x75efed[_0x5a1ef2]['halfExtent'+'s']['length']===0x240+0x29e+-0x4db||this['setInvalid'](_0x5a1ef2,_0x75efed);else{if(_0x495906==='cubemap')typeof _0x75efed[_0x5a1ef2]=='number'||_0x75efed[_0x5a1ef2]===null||_0x75efed[_0x5a1ef2]===void(-0x33*0x1+-0x18d5*-0x1+-0x18a2)||_0x75efed[_0x5a1ef2]instanceof he&&_0x75efed[_0x5a1ef2]['cubemap']||this['setInvalid'](_0x5a1ef2,_0x75efed);else{if(_0x495906==='chunks'){const _0x35c310=Object['keys'](_0x75efed[_0x5a1ef2]);for(let _0x1c65e8=-0x964+-0x33*0x46+0x1756;_0x1c65e8<_0x35c310['length'];_0x1c65e8++)typeof _0x75efed[_0x5a1ef2][_0x35c310[_0x1c65e8]]!='string'&&this['setInvalid'](_0x35c310[_0x1c65e8],_0x75efed[_0x5a1ef2]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x495906);}}}}}}}}}}return _0x75efed['validated']=!(-0x18e3+0x181d+-0x1*-0xc6),this['valid'];}['_createEnu'+'mValidator'](_0x491b4f){return function(_0x3a14f0){return _0x491b4f['indexOf'](_0x3a14f0)>=-0x1a99+0x1*-0xfad+-0x7*-0x60a;};}}class K2{constructor(){this['_validator']=null;}['parse'](_0x599e9a){const _0x423807=this['migrate'](_0x599e9a),_0x1bcc3c=this['_validate'](_0x423807),_0x3a9142=new cs();return this['initialize'](_0x3a9142,_0x1bcc3c),_0x3a9142;}['initialize'](_0x48a68b,_0x1e770d){_0x1e770d['validated']||(_0x1e770d=this['_validate'](_0x1e770d)),_0x1e770d['chunks']&&(_0x48a68b['chunks']={..._0x1e770d['chunks']});for(const _0x1327ed in _0x1e770d){const _0x9074a1=Pa[_0x1327ed],_0x454cd3=_0x1e770d[_0x1327ed];if(_0x9074a1==='vec2')_0x48a68b[_0x1327ed]=new $(_0x454cd3[-0x745+0x8ef+-0x2*0xd5],_0x454cd3[-0x2d*0x1+0x11be+-0x1190]);else{if(_0x9074a1==='rgb')_0x48a68b[_0x1327ed]=new Y(_0x454cd3[-0xb*0x1ef+0x26de+0x109*-0x11],_0x454cd3[-0x3f4+0x20e7+-0x1cf2],_0x454cd3[-0x1215*0x2+0x22*0x49+0x2*0xd3d]);else{if(_0x9074a1==='texture')_0x454cd3 instanceof he?_0x48a68b[_0x1327ed]=_0x454cd3:_0x48a68b[_0x1327ed]instanceof he&&typeof _0x454cd3=='number'&&_0x454cd3>0x45e+0x1b4d+-0xb*0x2e1||(_0x48a68b[_0x1327ed]=null);else{if(_0x9074a1==='cubemap')_0x454cd3 instanceof he?_0x48a68b[_0x1327ed]=_0x454cd3:_0x48a68b[_0x1327ed]instanceof he&&typeof _0x454cd3=='number'&&_0x454cd3>0xa3*-0x15+-0x67*0x2b+0x1eac*0x1||(_0x48a68b[_0x1327ed]=null),_0x1327ed==='cubeMap'&&!_0x454cd3&&(_0x48a68b['prefiltere'+'dCubemaps']=null);else{if(_0x9074a1==='boundingbo'+'x'){const _0x5f172a=new T(_0x454cd3['center'][-0x2*0x8b0+-0x13b5+0x2515*0x1],_0x454cd3['center'][0xbc4+0x1*-0xda9+0xa2*0x3],_0x454cd3['center'][0x1d1a*-0x1+0x2e5+0x8bd*0x3]),_0x1e136e=new T(_0x454cd3['halfExtent'+'s'][0x2*0x37d+-0x12e7*-0x2+-0xb32*0x4],_0x454cd3['halfExtent'+'s'][-0x425*0x3+-0x13*-0x81+0x1*0x2dd],_0x454cd3['halfExtent'+'s'][0x180b+0xc7*0x17+-0x29ea]);_0x48a68b[_0x1327ed]=new _e(_0x5f172a,_0x1e136e);}else _0x48a68b[_0x1327ed]=_0x1e770d[_0x1327ed];}}}}}_0x48a68b['update']();}['migrate'](_0x4f2bbd){_0x4f2bbd['shader']&&delete _0x4f2bbd['shader'],_0x4f2bbd['mapping_fo'+'rmat']&&(_0x4f2bbd['mappingFor'+'mat']=_0x4f2bbd['mapping_fo'+'rmat'],delete _0x4f2bbd['mapping_fo'+'rmat']);let _0x26cc02;const _0x1aeb03=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x26cc02=-0x1*0x18d+0x4ac+-0x31f*0x1;_0x26cc02<_0x1aeb03['length'];_0x26cc02++){const _0xc03b7d=_0x1aeb03[_0x26cc02][-0x6c6+-0x4d9+0xb9f],_0x3d8434=_0x1aeb03[_0x26cc02][0x1f9f+0xd1a+-0x2cb8];_0x4f2bbd[_0xc03b7d]!==void(0x7fc*0x3+-0x282+-0x1572)&&(_0x4f2bbd[_0x3d8434]===void(0x2*0xc47+0x195c+-0x31ea)&&(_0x4f2bbd[_0x3d8434]=_0x4f2bbd[_0xc03b7d]),delete _0x4f2bbd[_0xc03b7d]);}const _0x5c154f=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x26cc02=-0x7*-0x96+0x1bf3+-0x1*0x200d;_0x26cc02<_0x5c154f['length'];_0x26cc02++){const _0x6e616e=_0x5c154f[_0x26cc02];_0x4f2bbd['hasOwnProp'+'erty'](_0x6e616e)&&delete _0x4f2bbd[_0x6e616e];}return _0x4f2bbd;}['_validate'](_0x53fb60){return _0x53fb60['validated']||(this['_validator']||(this['_validator']=new Y2()),this['_validator']['validate'](_0x53fb60)),_0x53fb60;}}const Z2={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class Q2 extends Ne{constructor(_0x1d15b4){super(_0x1d15b4,'material'),this['_assets']=_0x1d15b4['assets'],this['_device']=_0x1d15b4['graphicsDe'+'vice'],this['_parser']=new K2();}['load'](_0x2e8320,_0x37b8a2){typeof _0x2e8320=='string'&&(_0x2e8320={'load':_0x2e8320,'original':_0x2e8320}),We['get'](_0x2e8320['load'],{'retry':this['maxRetries']>-0x262+-0xb71*-0x1+-0x90f*0x1,'maxRetries':this['maxRetries']},(_0xd26e47,_0x9d2cd7)=>{_0xd26e47?_0x37b8a2&&_0x37b8a2('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x2e8320['original']+'\x20['+_0xd26e47+']'):_0x37b8a2&&(_0x9d2cd7['_engine']=!(0x113+-0x13f5+0x12e2),_0x37b8a2(null,_0x9d2cd7));});}['open'](_0x5567a2,_0x1cc8af){const _0x5a5b65=this['_parser']['parse'](_0x1cc8af);return _0x1cc8af['_engine']&&(_0x5a5b65['_data']=_0x1cc8af,delete _0x1cc8af['_engine']),_0x5a5b65;}['patch'](_0x194066,_0x142855){_0x194066['resource']['_data']&&(_0x194066['_data']=_0x194066['resource']['_data'],delete _0x194066['resource']['_data']),_0x194066['data']['name']=_0x194066['name'],_0x194066['resource']['name']=_0x194066['name'],this['_bindAndAs'+'signAssets'](_0x194066,_0x142855),_0x194066['off']('unload',this['_onAssetUn'+'load'],this),_0x194066['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x23d00d){delete _0x23d00d['data']['parameters'],delete _0x23d00d['data']['chunks'],delete _0x23d00d['data']['name'];}['_assignTex'+'ture'](_0x1efc45,_0x525bc8,_0x56f728){_0x525bc8['resource'][_0x1efc45]=_0x56f728;}['_getPlaceh'+'olderTextu'+'re'](_0x378271){const _0x554d81=Z2[_0x378271];return v['assert'](_0x554d81,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x378271),en(this['_device'],_0x554d81);}['_assignPla'+'ceholderTe'+'xture'](_0x31a4c9,_0x5beb47){_0x5beb47['resource'][_0x31a4c9]=this['_getPlaceh'+'olderTextu'+'re'](_0x31a4c9);}['_onTexture'+'Load'](_0x26d1cf,_0x40cecf,_0x14be25){this['_assignTex'+'ture'](_0x26d1cf,_0x40cecf,_0x14be25['resource']),_0x40cecf['resource']['update']();}['_onTexture'+'Add'](_0x488987,_0x35bd12,_0x4c0518){this['_assets']['load'](_0x4c0518);}['_onTexture'+'RemoveOrUn'+'load'](_0x372c92,_0x22f996,_0x32b3c0){const _0x149311=_0x22f996['resource'];_0x149311&&_0x22f996['resource'][_0x372c92]===_0x32b3c0['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x372c92,_0x22f996),_0x149311['update']());}['_assignCub'+'emap'](_0x3159fd,_0x850228,_0x2b6b3a){if(_0x850228['resource'][_0x3159fd]=_0x2b6b3a[-0x22bf+0xbfb*0x2+0xac9],_0x3159fd==='cubeMap'){const _0x5364a6=_0x2b6b3a['slice'](-0x2069+-0x1*-0x269b+-0x631);_0x5364a6['every'](_0x1af056=>_0x1af056)?_0x850228['resource']['prefiltere'+'dCubemaps']=_0x5364a6:_0x5364a6[-0x1*0x20d7+-0x30*-0x4c+0x1297]&&(_0x850228['resource']['envAtlas']=_0x5364a6[-0x8d6+0x2*-0x606+-0x1b*-0xc6]);}}['_onCubemap'+'Load'](_0x4f9299,_0xce92e,_0x309cb7){this['_assignCub'+'emap'](_0x4f9299,_0xce92e,_0x309cb7['resources']),this['_parser']['initialize'](_0xce92e['resource'],_0xce92e['data']);}['_onCubemap'+'Add'](_0x2d9319,_0x17cfba,_0x5f26e1){this['_assets']['load'](_0x5f26e1);}['_onCubemap'+'RemoveOrUn'+'load'](_0x2ce9ab,_0x58bce3,_0x4382b8){const _0x3d2359=_0x58bce3['resource'];_0x58bce3['data']['prefiltere'+'dCubeMap12'+'8']===_0x4382b8['resources'][-0x10d2+0x40*-0x2f+-0x23*-0xd1]&&(this['_assignCub'+'emap'](_0x2ce9ab,_0x58bce3,[null,null,null,null,null,null,null]),_0x3d2359['update']());}['_bindAndAs'+'signAssets'](_0x151d7d,_0x53704f){const _0x7e7ee8=this['_parser']['migrate'](_0x151d7d['data']),_0x37d19e=_0x151d7d['resource'],_0x31e245=_0x7e7ee8['mappingFor'+'mat']==='path',_0xd185a2=Kc;let _0x148b55,_0x5c9bf3,_0x29f8fe;for(_0x148b55=-0x1*-0xcfa+-0x4*-0x8b1+0x2fbe*-0x1;_0x148b55<_0xd185a2['length'];_0x148b55++){_0x5c9bf3=_0xd185a2[_0x148b55],_0x29f8fe=_0x37d19e['_assetRefe'+'rences'][_0x5c9bf3];const _0x2356e7=_0x7e7ee8[_0x5c9bf3],_0x49f1d3=_0x37d19e[_0x5c9bf3],_0x298b7f=_0x49f1d3===this['_getPlaceh'+'olderTextu'+'re'](_0x5c9bf3),_0x1939e1=_0x7e7ee8['validated'];_0x2356e7&&(!_0x49f1d3||!_0x1939e1||_0x298b7f)?(_0x29f8fe||(_0x29f8fe=new Go(_0x5c9bf3,_0x151d7d,_0x53704f,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x37d19e['_assetRefe'+'rences'][_0x5c9bf3]=_0x29f8fe),_0x31e245?_0x29f8fe['url']=_0x151d7d['getAbsolut'+'eUrl'](_0x2356e7):_0x29f8fe['id']=_0x2356e7,_0x29f8fe['asset']&&(_0x29f8fe['asset']['resource']?this['_assignTex'+'ture'](_0x5c9bf3,_0x151d7d,_0x29f8fe['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x5c9bf3,_0x151d7d),_0x53704f['load'](_0x29f8fe['asset']))):_0x29f8fe&&(_0x31e245?_0x29f8fe['url']=null:_0x29f8fe['id']=null);}const _0x37ca9a=Fp;for(_0x148b55=0x22fc*0x1+0x7ee+0x3*-0xe4e;_0x148b55<_0x37ca9a['length'];_0x148b55++)_0x5c9bf3=_0x37ca9a[_0x148b55],_0x29f8fe=_0x37d19e['_assetRefe'+'rences'][_0x5c9bf3],_0x7e7ee8[_0x5c9bf3]&&!_0x151d7d['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x29f8fe||(_0x29f8fe=new Go(_0x5c9bf3,_0x151d7d,_0x53704f,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x37d19e['_assetRefe'+'rences'][_0x5c9bf3]=_0x29f8fe),_0x31e245?_0x29f8fe['url']=_0x7e7ee8[_0x5c9bf3]:_0x29f8fe['id']=_0x7e7ee8[_0x5c9bf3],_0x29f8fe['asset']&&(_0x29f8fe['asset']['loaded']&&this['_assignCub'+'emap'](_0x5c9bf3,_0x151d7d,_0x29f8fe['asset']['resources']),_0x53704f['load'](_0x29f8fe['asset'])));this['_parser']['initialize'](_0x37d19e,_0x7e7ee8);}}class J2{constructor(_0x58905f){this['_device']=_0x58905f['device'],this['_defaultMa'+'terial']=_0x58905f['defaultMat'+'erial'],this['_assets']=_0x58905f['assets'];}['parse'](_0x2194b7,_0x3324c4,_0x3b70ad){tc['parse']('filename.g'+'lb','',_0x2194b7,this['_device'],this['_assets'],(_0x3b70ad==null?void(-0x5d1*0x4+0x7*0x139+-0x4e7*-0x3):_0x3b70ad['options'])??{},(_0x348985,_0x566fb4)=>{if(_0x348985)_0x3324c4(_0x348985);else{const _0x299894=tr['createMode'+'l'](_0x566fb4,this['_defaultMa'+'terial']);_0x566fb4['destroy'](),_0x3324c4(null,_0x299894);}});}}const eL={'points':Mc,'lines':Pc,'lineloop':My,'linestrip':Py,'triangles':Ms,'trianglestrip':ar,'trianglefan':Yr},tL={'int8':Rc,'uint8':Kr,'int16':Ic,'uint16':el,'int32':By,'uint32':Do,'float32':Ee};class sL{constructor(_0x2dffa4){this['_device']=_0x2dffa4['device'],this['_defaultMa'+'terial']=_0x2dffa4['defaultMat'+'erial'];}['parse'](_0x1a0c99,_0x592a70){const _0x377fd2=_0x1a0c99['model'];if(!_0x377fd2){_0x592a70(null,null);return;}if(_0x377fd2['version']<=-0x13*-0x79+-0x1b61+0x1267){_0x592a70('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x4add80=this['_parseNode'+'s'](_0x1a0c99),_0x5827fd=this['_parseSkin'+'s'](_0x1a0c99,_0x4add80),_0x282844=this['_parseVert'+'exBuffers'](_0x1a0c99),_0x40b080=this['_parseInde'+'xBuffers'](_0x1a0c99,_0x282844),_0x5f1b0e=this['_parseMorp'+'hs'](_0x1a0c99,_0x4add80,_0x282844),_0x24cecf=this['_parseMesh'+'es'](_0x1a0c99,_0x5827fd['skins'],_0x5f1b0e['morphs'],_0x282844,_0x40b080['buffer'],_0x40b080['data']),_0x5e8430=this['_parseMesh'+'Instances'](_0x1a0c99,_0x4add80,_0x24cecf,_0x5827fd['skins'],_0x5827fd['instances'],_0x5f1b0e['morphs'],_0x5f1b0e['instances']),_0x124cc3=new Oi();_0x124cc3['graph']=_0x4add80[-0x1e47+0x34d*0x8+0x3df],_0x124cc3['meshInstan'+'ces']=_0x5e8430,_0x124cc3['skinInstan'+'ces']=_0x5827fd['instances'],_0x124cc3['morphInsta'+'nces']=_0x5f1b0e['instances'],_0x124cc3['getGraph']()['syncHierar'+'chy'](),_0x592a70(null,_0x124cc3);}['_parseNode'+'s'](_0x933c88){const _0x42f2b5=_0x933c88['model'],_0x5b96f6=[];let _0xee5803;for(_0xee5803=-0xb54+0x1*-0x733+0x1287;_0xee5803<_0x42f2b5['nodes']['length'];_0xee5803++){const _0x342b1f=_0x42f2b5['nodes'][_0xee5803],_0x447f5b=new De(_0x342b1f['name']);_0x447f5b['setLocalPo'+'sition'](_0x342b1f['position'][-0x344*0x1+-0x1*0x1719+0x1a5d],_0x342b1f['position'][-0x6f*-0x17+-0x34a+-0x39*0x1e],_0x342b1f['position'][0x1*-0x228b+-0x5*0x59e+0x3ea3]),_0x447f5b['setLocalEu'+'lerAngles'](_0x342b1f['rotation'][-0xef*-0x3+0x1495+-0x1762],_0x342b1f['rotation'][-0x6*0x1dd+0x1*0x473+0x6bc],_0x342b1f['rotation'][0x60a*-0x1+-0x2*-0xa47+-0xe82]),_0x447f5b['setLocalSc'+'ale'](_0x342b1f['scale'][-0xc64+0xb56+0x10e],_0x342b1f['scale'][0x1511+-0x1*0x223c+0x696*0x2],_0x342b1f['scale'][0x10b*0x22+-0x36e*-0x2+-0x2a50]),_0x447f5b['scaleCompe'+'nsation']=!!_0x342b1f['scaleCompe'+'nsation'],_0x5b96f6['push'](_0x447f5b);}for(_0xee5803=0x1*0xe81+-0x1fd+-0x1*0xc83;_0xee5803<_0x42f2b5['parents']['length'];_0xee5803++)_0x5b96f6[_0x42f2b5['parents'][_0xee5803]]['addChild'](_0x5b96f6[_0xee5803]);return _0x5b96f6;}['_parseSkin'+'s'](_0x5fd26a,_0x7eec73){const _0x11f8cc=_0x5fd26a['model'],_0x28f5c8=[],_0x253ec5=[];let _0x262983,_0x5c734c;for(_0x262983=0x111*-0x17+-0x1da7+0x362e;_0x262983<_0x11f8cc['skins']['length'];_0x262983++){const _0x47af14=_0x11f8cc['skins'][_0x262983],_0x5338ea=[];for(_0x5c734c=0xc*-0x61+0x1*0x80f+-0x383*0x1;_0x5c734c<_0x47af14['inverseBin'+'dMatrices']['length'];_0x5c734c++){const _0x1e2e0c=_0x47af14['inverseBin'+'dMatrices'][_0x5c734c];_0x5338ea[_0x5c734c]=new q()['set'](_0x1e2e0c);}const _0x3d7329=new N0(this['_device'],_0x5338ea,_0x47af14['boneNames']);_0x28f5c8['push'](_0x3d7329);const _0x1ad147=new nl(_0x3d7329),_0x2e0462=[];for(_0x5c734c=0x25c4+-0xa94+-0x3a*0x78;_0x5c734c<_0x3d7329['boneNames']['length'];_0x5c734c++){const _0x444eb4=_0x3d7329['boneNames'][_0x5c734c],_0x528343=_0x7eec73[-0xd7e+-0x1bec+-0x72*-0x5d]['findByName'](_0x444eb4);_0x2e0462['push'](_0x528343);}_0x1ad147['bones']=_0x2e0462,_0x253ec5['push'](_0x1ad147);}return{'skins':_0x28f5c8,'instances':_0x253ec5};}['_getMorphV'+'ertexCount'](_0xad4819,_0x59f763,_0x578586){for(let _0x3ad5c9=0x1b79+0xe*-0x1f4+-0x21;_0x3ad5c9<_0xad4819['meshes']['length'];_0x3ad5c9++){const _0x3a0e5c=_0xad4819['meshes'][_0x3ad5c9];if(_0x3a0e5c['morph']===_0x59f763)return _0x578586[_0x3a0e5c['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x26e527,_0x415c5a,_0x1b6c91){const _0x1ab03f=_0x26e527['model'],_0x4e98d1=[],_0x84e839=[];let _0x41e089,_0x3fc5ab,_0x4f0d04,_0x162617,_0x321032,_0x5e1f07;if(_0x1ab03f['morphs']){const _0x5637fd=function(_0x40ff48,_0x2705bc,_0x2f25a6){const _0x195e42=new Float32Array(_0x2f25a6*(0x566*-0x1+0x11*-0x1a2+0x212b));for(let _0x57eb7c=0x141f+0x11cb+-0x25ea;_0x57eb7c<_0x2705bc['length'];_0x57eb7c++){const _0x544be3=_0x2705bc[_0x57eb7c]*(-0x1c3d*0x1+0xe21*0x2+-0x1*0x2);_0x195e42[_0x544be3]=_0x40ff48[_0x57eb7c*(0xc0b*-0x2+0x1d*-0x139+0x56a*0xb)],_0x195e42[_0x544be3+(0x128f*-0x1+0x21c7+-0xf37)]=_0x40ff48[_0x57eb7c*(0x39*0x49+-0xb97+-0x18d*0x3)+(-0xc3c+0x113e+-0x501)],_0x195e42[_0x544be3+(0x1*-0x3d1+-0x1*0x334+-0x7*-0x101)]=_0x40ff48[_0x57eb7c*(0x60a*-0x5+0x3*0xaaf+-0x3b*0x8)+(-0x1fd0*-0x1+-0x187f+-0x74f)];}return _0x195e42;};for(_0x41e089=0x8*0x47+0x7f*-0x40+0x1d88;_0x41e089<_0x1ab03f['morphs']['length'];_0x41e089++){for(_0x162617=_0x1ab03f['morphs'][_0x41e089]['targets'],_0x5e1f07=[],_0x4f0d04=this['_getMorphV'+'ertexCount'](_0x1ab03f,_0x41e089,_0x1b6c91),_0x3fc5ab=0xcc5+0x4b9+-0x117e;_0x3fc5ab<_0x162617['length'];_0x3fc5ab++){const _0x19dba0=_0x162617[_0x3fc5ab]['aabb'],_0x3ff2d0=_0x19dba0['min'],_0x194f52=_0x19dba0['max'],_0x50c938=new _e(new T((_0x194f52[-0x311+0x646*-0x5+0x1*0x226f]+_0x3ff2d0[0x6e1+-0xab*0x1d+0x29*0x4e])*(0x9d1+-0x1dac+0x13db+0.5),(_0x194f52[0x1edc+-0x1*0xf16+-0xfc5]+_0x3ff2d0[0x8ac+-0x2a3+-0xc1*0x8])*(-0x1af4+-0x2051*-0x1+0x55d*-0x1+0.5),(_0x194f52[0x6*-0x508+0x2078*0x1+0x61*-0x6]+_0x3ff2d0[-0x21*-0xb3+0x81*0x1+-0x1792])*(0xbca+0xa14+-0x15de+0.5)),new T((_0x194f52[0x3*-0x3c7+0x3*-0xb38+0x15d*0x21]-_0x3ff2d0[-0x7*0x371+0x15f2*-0x1+-0x2e09*-0x1])*(0x12d8+-0xea0+-0x8*0x87+0.5),(_0x194f52[-0xd86+-0xfd8+0x49*0x67]-_0x3ff2d0[0x104c+0x266f*0x1+0x579*-0xa])*(0x143c+0x48c+-0x18c8*0x1+0.5),(_0x194f52[-0x668+0x1*0x206+0x464]-_0x3ff2d0[0xbdc+0x1b88+-0x2762])*(-0x1776+-0xb*-0x167+0x809+0.5))),_0x1344c0=_0x162617[_0x3fc5ab]['indices'];let _0x5999f=_0x162617[_0x3fc5ab]['deltaPosit'+'ions'],_0x3d326d=_0x162617[_0x3fc5ab]['deltaNorma'+'ls'];_0x1344c0&&(_0x5999f=_0x5637fd(_0x5999f,_0x1344c0,_0x4f0d04),_0x3d326d=_0x5637fd(_0x3d326d,_0x1344c0,_0x4f0d04)),_0x321032=new Qc({'deltaPositions':_0x5999f,'deltaNormals':_0x3d326d,'name':_0x162617[_0x3fc5ab]['name'],'aabb':_0x50c938}),_0x5e1f07['push'](_0x321032);}const _0x311a7f=new F0(_0x5e1f07,this['_device']);_0x4e98d1['push'](_0x311a7f);const _0xc46c49=new fn(_0x311a7f);_0x84e839['push'](_0xc46c49);}}return{'morphs':_0x4e98d1,'instances':_0x84e839};}['_parseVert'+'exBuffers'](_0x300c36){const _0x3276fc=_0x300c36['model'],_0x5e240e=[],_0x5b34ac={'position':He,'normal':Yt,'tangent':Zs,'blendWeight':Ys,'blendIndices':qt,'color':At,'texCoord0':ns,'texCoord1':_n,'texCoord2':jo,'texCoord3':Yo,'texCoord4':Ko,'texCoord5':Zo,'texCoord6':Qo,'texCoord7':Jo};for(let _0x2fdb0e=0x229*-0x12+0x37*0x26+-0x3d7*-0x8;_0x2fdb0e<_0x3276fc['vertices']['length'];_0x2fdb0e++){const _0x50a603=_0x3276fc['vertices'][_0x2fdb0e],_0x34075f=[];for(const _0x5999ab in _0x50a603){const _0x249ec1=_0x50a603[_0x5999ab];_0x34075f['push']({'semantic':_0x5b34ac[_0x5999ab],'components':_0x249ec1['components'],'type':tL[_0x249ec1['type']],'normalize':_0x5b34ac[_0x5999ab]===At});}const _0x5231ff=new Et(this['_device'],_0x34075f),_0x29d560=_0x50a603['position']['data']['length']/_0x50a603['position']['components'],_0x1eaa9e=new os(this['_device'],_0x5231ff,_0x29d560),_0x1c51ed=new go(_0x1eaa9e);for(let _0x31b455=0xa4e+0x1*-0xbcf+0x181;_0x31b455<_0x29d560;_0x31b455++){for(const _0x2a68ea in _0x50a603){const _0x2e1f96=_0x50a603[_0x2a68ea];switch(_0x2e1f96['components']){case 0x46e+0x1c64+0x1*-0x20d1:_0x1c51ed['element'][_0x5b34ac[_0x2a68ea]]['set'](_0x2e1f96['data'][_0x31b455]);break;case 0x2624+0x6f2*-0x4+-0x6a*0x19:_0x1c51ed['element'][_0x5b34ac[_0x2a68ea]]['set'](_0x2e1f96['data'][_0x31b455*(-0x23f9+-0x2279+0x4674)],-0xffa*-0x2+-0x2176+0x3*0x81-_0x2e1f96['data'][_0x31b455*(0x1ebc+-0x578+-0x1942*0x1)+(-0x1*-0xf9d+0x2*0xb68+-0x266c)]);break;case 0x84d+0x17*0x11+0x9d1*-0x1:_0x1c51ed['element'][_0x5b34ac[_0x2a68ea]]['set'](_0x2e1f96['data'][_0x31b455*(0x19*-0x2f+0x26ef+0x11*-0x205)],_0x2e1f96['data'][_0x31b455*(-0x8*-0x3a1+0xf8e+-0x2c93)+(-0x163b+-0x1fa2*-0x1+-0x966*0x1)],_0x2e1f96['data'][_0x31b455*(-0x1*-0x62f+0x4*-0x44a+0xafc)+(0x265*0x5+-0x195b+0xd64)]);break;case 0xb88*-0x1+-0x2164+0x2cf0:_0x1c51ed['element'][_0x5b34ac[_0x2a68ea]]['set'](_0x2e1f96['data'][_0x31b455*(0xb0*-0x29+-0x1e3a+0x3a6e)],_0x2e1f96['data'][_0x31b455*(-0x1*-0xe1e+-0x9*0x287+0x8a5*0x1)+(-0x12bd*-0x1+0xa*0x19+-0x13b6)],_0x2e1f96['data'][_0x31b455*(0x7*-0x4cc+0xe4b+0x134d)+(0x1d36*0x1+-0x114e+-0xbe6)],_0x2e1f96['data'][_0x31b455*(-0x5d7+-0xa48+0x1023)+(-0x314+0x61*-0x2c+0x13c3)]);break;}}_0x1c51ed['next']();}_0x1c51ed['end'](),_0x5e240e['push'](_0x1eaa9e);}return _0x5e240e;}['_parseInde'+'xBuffers'](_0x26723d,_0x5b010d){const _0x4d85f2=_0x26723d['model'];let _0x1d639e=null,_0x36d139=null,_0x3e5c66,_0x5c55b1=0x248*0x7+0x1*-0x925+0x6d3*-0x1;for(_0x3e5c66=-0x1*-0xa5b+-0x11*-0x20+-0xc7b;_0x3e5c66<_0x4d85f2['meshes']['length'];_0x3e5c66++){const _0x215eb7=_0x4d85f2['meshes'][_0x3e5c66];_0x215eb7['indices']!==void(0xda9*0x1+0x1*-0x9f2+-0x1*0x3b7)&&(_0x5c55b1+=_0x215eb7['indices']['length']);}let _0x4eaa54=-0x26*0x3a+0xc1*-0x1d+0x1e79;for(_0x3e5c66=0x301*-0x3+-0x1587+0x1e8a;_0x3e5c66<_0x5b010d['length'];_0x3e5c66++)_0x4eaa54=Math['max'](_0x4eaa54,_0x5b010d[_0x3e5c66]['numVertice'+'s']);return _0x5c55b1>0x12cb*0x1+0x1*0x18ca+-0x2b95&&(_0x4eaa54>-0x1c4e*-0x8+-0x3*-0x58f5+-0xed50?(_0x1d639e=new lr(this['_device'],nr,_0x5c55b1),_0x36d139=new Uint32Array(_0x1d639e['lock']())):(_0x1d639e=new lr(this['_device'],Pi,_0x5c55b1),_0x36d139=new Uint16Array(_0x1d639e['lock']()))),{'buffer':_0x1d639e,'data':_0x36d139};}['_parseMesh'+'es'](_0x3a78e6,_0x1198cc,_0x2e153e,_0x5b608c,_0x4d9927,_0x508c67){const _0x3808e1=_0x3a78e6['model'],_0xbd7621=[];let _0x301a60=-0x1*0x12c1+-0x847+0x2*0xd84;for(let _0x5806ba=-0x1330+-0xfd2*0x2+0x32d4;_0x5806ba<_0x3808e1['meshes']['length'];_0x5806ba++){const _0x8666cb=_0x3808e1['meshes'][_0x5806ba],_0x278cf1=_0x8666cb['aabb'],_0x46459=_0x278cf1['min'],_0xbb860e=_0x278cf1['max'],_0x2b64cd=new _e(new T((_0xbb860e[0x2*-0x117a+0x5d4*0x5+0x2*0x2e8]+_0x46459[0x17cb+0x5*0x407+-0x15f7*0x2])*(0x1b83+-0x395*0x1+0xbf7*-0x2+0.5),(_0xbb860e[-0x1*-0x11e4+-0x1*0x23a7+-0xc*-0x17b]+_0x46459[0x2*0x586+0x898+-0x13a3])*(-0x304*-0xb+-0x1*-0x644+-0x2770+0.5),(_0xbb860e[-0x3*-0x6b3+-0x5f*-0x43+-0x2cf4]+_0x46459[0x1fda+0x1b71+-0x13c3*0x3])*(-0x1d3f+0x4f2+-0x1*-0x184d+0.5)),new T((_0xbb860e[-0x91b*0x1+0x2280+-0x1965]-_0x46459[-0x2447+0x22fb+0x14c])*(-0x142+0x3*-0x45b+0xe53+0.5),(_0xbb860e[0x6c5+0x219e+0x1431*-0x2]-_0x46459[-0x1ece+-0x22e0+0x41af])*(0x2*0x17e+-0x163f+0x1*0x1343+0.5),(_0xbb860e[0x67f*-0x4+-0x5*0x5c3+-0x36cd*-0x1]-_0x46459[0x403+-0x16ce+0x12cd])*(0x2658*0x1+-0x13a6+-0x12b2+0.5))),_0x44e60b=_0x8666cb['indices']!==void(0x3*-0xc19+0xd28+0x1*0x1723),_0x485592=new Ie(this['_device']);_0x485592['vertexBuff'+'er']=_0x5b608c[_0x8666cb['vertices']],_0x485592['indexBuffe'+'r'][0x1*-0x11d2+-0x8*-0x86+-0x2ba*-0x5]=_0x44e60b?_0x4d9927:null,_0x485592['primitive'][0x20e2+-0x1764+0x5*-0x1e6]['type']=eL[_0x8666cb['type']],_0x485592['primitive'][-0x880+-0x31*-0x52+-0x732]['base']=_0x44e60b?_0x8666cb['base']+_0x301a60:_0x8666cb['base'],_0x485592['primitive'][-0xd*-0x19f+-0x1*-0x22b+-0x173e]['count']=_0x8666cb['count'],_0x485592['primitive'][0x1*0x1107+-0x2*-0x7db+-0x20bd]['indexed']=_0x44e60b,_0x485592['skin']=_0x8666cb['skin']!==void(0x1*-0x313+0x1*0xf83+-0x10*0xc7)?_0x1198cc[_0x8666cb['skin']]:null,_0x485592['morph']=_0x8666cb['morph']!==void(-0xd*0x54+-0x2144+-0x2*-0x12c4)?_0x2e153e[_0x8666cb['morph']]:null,_0x485592['aabb']=_0x2b64cd,_0x44e60b&&(_0x508c67['set'](_0x8666cb['indices'],_0x301a60),_0x301a60+=_0x8666cb['indices']['length']),_0xbd7621['push'](_0x485592);}return _0x4d9927!==null&&_0x4d9927['unlock'](),_0xbd7621;}['_parseMesh'+'Instances'](_0x501ceb,_0x10f8cb,_0x4ff67f,_0x2c9f55,_0x7bde3e,_0x260c41,_0x5762fb){const _0x294465=_0x501ceb['model'],_0x5289d0=[];let _0x551e36;for(_0x551e36=-0x16c5+0x26f5*-0x1+-0x2*-0x1edd;_0x551e36<_0x294465['meshInstan'+'ces']['length'];_0x551e36++){const _0x2cd15f=_0x294465['meshInstan'+'ces'][_0x551e36],_0x3775fe=_0x10f8cb[_0x2cd15f['node']],_0x4b8464=_0x4ff67f[_0x2cd15f['mesh']],_0x2cf26f=new Le(_0x4b8464,this['_defaultMa'+'terial'],_0x3775fe);if(_0x4b8464['skin']){const _0x71c311=_0x2c9f55['indexOf'](_0x4b8464['skin']);if(_0x71c311===-(-0xdd4+-0x83*0x1b+0x1*0x1ba6))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x2cf26f['skinInstan'+'ce']=_0x7bde3e[_0x71c311];}if(_0x4b8464['morph']){const _0x3fd828=_0x260c41['indexOf'](_0x4b8464['morph']);if(_0x3fd828===-(-0x1283*-0x1+0x872+-0x1af4))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x2cf26f['morphInsta'+'nce']=_0x5762fb[_0x3fd828];}_0x5289d0['push'](_0x2cf26f);}return _0x5289d0;}}class iL extends Ne{constructor(_0x4aa7ca){super(_0x4aa7ca,'model'),this['_parsers']=[],this['device']=_0x4aa7ca['graphicsDe'+'vice'],this['assets']=_0x4aa7ca['assets'],this['defaultMat'+'erial']=al(this['device']),this['addParser'](new sL(this),(_0x4c8f33,_0x3b54f3)=>fe['getExtensi'+'on'](_0x4c8f33)==='.json'),this['addParser'](new J2(this),(_0x575777,_0x53defa)=>fe['getExtensi'+'on'](_0x575777)==='.glb');}['load'](_0xf43c77,_0x3588ed,_0x3d6215){typeof _0xf43c77=='string'&&(_0xf43c77={'load':_0xf43c77,'original':_0xf43c77});const _0x186cb0={'retry':this['maxRetries']>-0x1bc6+-0x1*-0x34f+0x1877*0x1,'maxRetries':this['maxRetries']};(_0xf43c77['load']['startsWith']('blob:')||_0xf43c77['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0xf43c77['original'])['toLowerCas'+'e']()==='.glb'?_0x186cb0['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x186cb0['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0xf43c77['load'],_0x186cb0,(_0x31a97f,_0x550ec6)=>{if(_0x3588ed){if(_0x31a97f)_0x3588ed('Error\x20load'+'ing\x20model:'+'\x20'+_0xf43c77['original']+'\x20['+_0x31a97f+']');else{for(let _0x34f992=0x9*0x9b+-0x5f0+0x7d;_0x34f992<this['_parsers']['length'];_0x34f992++){const _0x39676f=this['_parsers'][_0x34f992];if(_0x39676f['decider'](_0xf43c77['original'],_0x550ec6)){_0x39676f['parser']['parse'](_0x550ec6,(_0x139246,_0x1fe9d7)=>{_0x139246?_0x3588ed(_0x139246):_0x3588ed(null,_0x1fe9d7);},_0x3d6215);return;}}_0x3588ed('No\x20parsers'+'\x20found');}}});}['open'](_0x1d9fc7,_0x18920f){return _0x18920f;}['patch'](_0x3fd5c5,_0x43940a){if(!_0x3fd5c5['resource'])return;const _0x5675d4=_0x3fd5c5['data'],_0x3e71e1=this;_0x3fd5c5['resource']['meshInstan'+'ces']['forEach']((_0x593703,_0x23b059)=>{if(_0x5675d4['mapping']){const _0xff5815=function(_0x25150a){_0x25150a['resource']?_0x593703['material']=_0x25150a['resource']:(_0x25150a['once']('load',_0xff5815),_0x43940a['load'](_0x25150a)),_0x25150a['once']('remove',_0xfec41c=>{_0x593703['material']===_0xfec41c['resource']&&(_0x593703['material']=_0x3e71e1['defaultMat'+'erial']);});};if(!_0x5675d4['mapping'][_0x23b059]){_0x593703['material']=_0x3e71e1['defaultMat'+'erial'];return;}const _0xb2d2c6=_0x5675d4['mapping'][_0x23b059]['material'],_0x28c4b8=_0x5675d4['mapping'][_0x23b059]['path'];let _0xb61d68;if(_0xb2d2c6!==void(-0x1*-0x2222+0xc71+-0x2e93*0x1))_0xb2d2c6?(_0xb61d68=_0x43940a['get'](_0xb2d2c6),_0xb61d68?_0xff5815(_0xb61d68):_0x43940a['once']('add:'+_0xb2d2c6,_0xff5815)):_0x593703['material']=_0x3e71e1['defaultMat'+'erial'];else{if(_0x28c4b8){const _0x5d2421=_0x3fd5c5['getAbsolut'+'eUrl'](_0x5675d4['mapping'][_0x23b059]['path']);_0xb61d68=_0x43940a['getByUrl'](_0x5d2421),_0xb61d68?_0xff5815(_0xb61d68):_0x43940a['once']('add:url:'+_0x5d2421,_0xff5815);}}}});}['addParser'](_0x943df1,_0x898621){this['_parsers']['push']({'parser':_0x943df1,'decider':_0x898621});}}class rL extends Ne{constructor(_0xa7ba8c){super(_0xa7ba8c,'scene');}['load'](_0x244a7b,_0x5b4c90){Lx['load'](_0x244a7b,this['maxRetries'],_0x5b4c90);}['open'](_0x49029a,_0x235ab4){this['_app']['systems']['script']['preloading']=!(-0x257b+0xff5+0x1586);const _0x914bfb=new $p(this['_app'],!(0x238f*-0x1+0x122+0x226e*0x1))['parse'](_0x235ab4),_0x327ccd=this['_app']['scene'];return _0x327ccd['root']=_0x914bfb,this['_app']['applyScene'+'Settings'](_0x235ab4['settings']),this['_app']['systems']['script']['preloading']=!(-0xb3*-0x5+0x3*-0x35f+0x3*0x235),_0x327ccd;}}const hc=class hc{static['push'](_0x142802){hc['_types']['push'](_0x142802);}};(function(){let _0x3e29e9;try{const _0x541fa2=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x3e29e9=_0x541fa2();}catch(_0x2a1588){_0x3e29e9=window;}_0x3e29e9['setInterva'+'l'](_0xe92fde,0x1da2+-0x1*-0x1d75+-0x3347);}()),c(hc,'_types',[]);let Xr=hc;const nL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),aL={};Ho['reservedNa'+'mes']['forEach']((_0x56e631,_0x5a939c,_0x30baa4)=>{aL[_0x56e631]=-0x58+-0x9*-0x2f9+-0x1a68;});function oL(_0x2e544a,_0x214806,_0x43632c){if(typeof _0x2e544a!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x2e544a+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x2e544a['prototype']instanceof Ht))throw new Error('script\x20cla'+'ss:\x20\x27'+Qh['__getScrip'+'tName'](_0x2e544a)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x214806=_0x214806||_0x2e544a['__name']||Qh['__getScrip'+'tName'](_0x2e544a),nL['has'](_0x214806))throw new Error('script\x20nam'+'e:\x20\x27'+_0x214806+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x2e544a['__name']=_0x214806,qh['getApplica'+'tion']()['scripts']['add'](_0x2e544a),Xr['push'](_0x2e544a);}const lL=_0x4a83a3=>_0x4a83a3[0x1132*-0x1+-0xc23*-0x3+-0x1337*0x1]['toLowerCas'+'e']()+_0x4a83a3['substring'](-0x1be4+-0xefa+0x893*0x5);class hL extends Ne{constructor(_0x2e1a14){super(_0x2e1a14,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x1058ee in this['_cache']){const _0x350461=this['_cache'][_0x1058ee],_0xfe6b13=_0x350461['parentNode'];_0xfe6b13&&_0xfe6b13['removeChil'+'d'](_0x350461);}this['_cache']={};}['load'](_0xfdebf7,_0x22a568){typeof _0xfdebf7=='string'&&(_0xfdebf7={'load':_0xfdebf7,'original':_0xfdebf7});const _0x405198=this;this['_app'];const _0x10995c=(_0xfdebf7['load'],(_0x26e61a,_0x19fa24,_0x3bc815)=>{if(_0x26e61a)_0x22a568(_0x26e61a);else{const _0x2c7252={};for(let _0xc35d0c=0x77f+0x193f+0x6*-0x575;_0xc35d0c<Xr['_types']['length'];_0xc35d0c++)_0x2c7252[Xr['_types'][_0xc35d0c]['name']]=Xr['_types'][_0xc35d0c];Xr['_types']['length']=0x21d+-0x5b*-0x32+0x6a1*-0x3,_0x22a568(null,_0x2c7252,_0x3bc815);const _0x34e845=_0x19fa24['split']('&hash=')[0x262d+-0x2562+-0x1d*0x7];delete _0x405198['_loader']['_cache'][pa['makeKey'](_0x34e845,'script')];}}),[_0x57b3a5]=_0xfdebf7['load']['split']('?');_0x57b3a5['endsWith']('.mjs')?this['_loadModul'+'e'](_0x57b3a5,_0x10995c):this['_loadScrip'+'t'](_0xfdebf7['load'],_0x10995c);}['open'](_0x1380d,_0x543adc){return _0x543adc;}['patch'](_0x1efed7,_0x99b7a7){}['_loadScrip'+'t'](_0x41ce0e,_0xcca90e){const _0x389c66=document['head'],_0x3f429a=document['createElem'+'ent']('script');this['_cache'][_0x41ce0e]=_0x3f429a,_0x3f429a['async']=!(0x85*0x4a+0x1db2+0x4423*-0x1),_0x3f429a['addEventLi'+'stener']('error',_0x36580c=>{_0xcca90e('Script:\x20'+_0x36580c['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0x1*0x16d7+0x371*-0x3+0x212b));let _0x46fa70=!(-0x822+-0x18a3+0x20c6);_0x3f429a['onload']=_0x3f429a['onreadysta'+'techange']=function(){!_0x46fa70&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x46fa70=!(-0x7eb+0x14d3+-0xce8),_0xcca90e(null,_0x41ce0e,_0x3f429a));},_0x3f429a['src']=_0x41ce0e,_0x389c66['appendChil'+'d'](_0x3f429a);}['_loadModul'+'e'](_0x9d3941,_0x2ed6f2){const _0x512205=ye['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x2aba2a=new URL(_0x9d3941,_0x512205);import(_0x2aba2a['toString']())['then'](_0x3e546c=>{var _0x510787,_0x5597b3;const _0x38d082=_0x2aba2a['pathname']['split']('/')['pop'](),_0x48c27c=(_0x5597b3=(_0x510787=this['_app']['assets']['find'](_0x38d082,'script'))==null?void(0x4cf*-0x5+-0x59d*0x1+0x1da8):_0x510787['data'])==null?void(0x26b6+-0x10d3+-0x15e3):_0x5597b3['scripts'];for(const _0xaa69e1 in _0x3e546c){const _0x32c671=_0x3e546c[_0xaa69e1];if(_0x32c671['prototype']instanceof Ht){const _0x281e43=lL(_0x32c671['name']);oL(_0x32c671,_0x281e43),_0x48c27c&&this['_app']['scripts']['addSchema'](_0x281e43,_0x48c27c[_0x281e43]);}}_0x2ed6f2(null,_0x9d3941,null);})['catch'](_0x56d5bd=>{_0x2ed6f2(_0x56d5bd);});}}class cL extends Ne{constructor(_0x565ffe){super(_0x565ffe,'shader'),c(this,'decoder',null);}['load'](_0x3087f8,_0x2ff4f7){typeof _0x3087f8=='string'&&(_0x3087f8={'load':_0x3087f8,'original':_0x3087f8}),We['get'](_0x3087f8['load'],{'retry':this['maxRetries']>-0x1*-0x2410+0x7*0x387+-0x3cc1,'maxRetries':this['maxRetries']},(_0x542be5,_0x1fc6bd)=>{_0x542be5?_0x2ff4f7('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x3087f8['original']+'\x20['+_0x542be5+']'):_0x2ff4f7(null,_0x1fc6bd);});}['openBinary'](_0x442997){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x442997);}}function eu(_0x51d4b6){const _0x574f62=this;_0x574f62['resource']&&(_0x574f62['resource']['atlas']=_0x51d4b6['resource']);}function tu(_0x5db509){this['registry']['load'](_0x5db509);}class dL extends Ne{constructor(_0x40e707){super(_0x40e707,'sprite'),this['_assets']=_0x40e707['assets'],this['_device']=_0x40e707['graphicsDe'+'vice'];}['load'](_0x2c1cbb,_0x399476){typeof _0x2c1cbb=='string'&&(_0x2c1cbb={'load':_0x2c1cbb,'original':_0x2c1cbb}),fe['getExtensi'+'on'](_0x2c1cbb['original'])==='.json'&&We['get'](_0x2c1cbb['load'],{'retry':this['maxRetries']>0x1302+-0x1256*-0x1+0x4*-0x956,'maxRetries':this['maxRetries']},(_0x2ca094,_0x32019c)=>{_0x2ca094?_0x399476(_0x2ca094):_0x399476(null,_0x32019c);});}['open'](_0x53da7b,_0x53e352){const _0x25a950=new T1(this['_device']);return _0x53da7b&&(_0x25a950['__data']=_0x53e352),_0x25a950;}['patch'](_0xe49c1c,_0x26455f){const _0x7aa261=_0xe49c1c['resource'];if(_0x7aa261['__data']&&(_0xe49c1c['data']['pixelsPerU'+'nit']=_0x7aa261['__data']['pixelsPerU'+'nit'],_0xe49c1c['data']['renderMode']=_0x7aa261['__data']['renderMode'],_0xe49c1c['data']['frameKeys']=_0x7aa261['__data']['frameKeys'],_0x7aa261['__data']['textureAtl'+'asAsset'])){const _0x259b92=_0x26455f['getByUrl'](_0x7aa261['__data']['textureAtl'+'asAsset']);_0x259b92?_0xe49c1c['data']['textureAtl'+'asAsset']=_0x259b92['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x7aa261['__data']['textureAtl'+'asAsset']);}_0x7aa261['startUpdat'+'e'](),_0x7aa261['renderMode']=_0xe49c1c['data']['renderMode'],_0x7aa261['pixelsPerU'+'nit']=_0xe49c1c['data']['pixelsPerU'+'nit'],_0x7aa261['frameKeys']=_0xe49c1c['data']['frameKeys'],this['_updateAtl'+'as'](_0xe49c1c),_0x7aa261['endUpdate'](),_0xe49c1c['off']('change',this['_onAssetCh'+'ange'],this),_0xe49c1c['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x2ea5df){const _0x4304e4=_0x2ea5df['resource'];if(!_0x2ea5df['data']['textureAtl'+'asAsset']){_0x4304e4['atlas']=null;return;}this['_assets']['off']('load:'+_0x2ea5df['data']['textureAtl'+'asAsset'],eu,_0x2ea5df),this['_assets']['on']('load:'+_0x2ea5df['data']['textureAtl'+'asAsset'],eu,_0x2ea5df);const _0x3dc83f=this['_assets']['get'](_0x2ea5df['data']['textureAtl'+'asAsset']);_0x3dc83f&&_0x3dc83f['resource']?_0x4304e4['atlas']=_0x3dc83f['resource']:_0x3dc83f?this['_assets']['load'](_0x3dc83f):(this['_assets']['off']('add:'+_0x2ea5df['data']['textureAtl'+'asAsset'],tu,_0x2ea5df),this['_assets']['on']('add:'+_0x2ea5df['data']['textureAtl'+'asAsset'],tu,_0x2ea5df));}['_onAssetCh'+'ange'](_0x1f2351,_0x219a90,_0x16143a,_0x35fe56){_0x219a90==='data'&&_0x16143a&&_0x16143a['textureAtl'+'asAsset']&&_0x35fe56&&_0x16143a['textureAtl'+'asAsset']!==_0x35fe56['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x35fe56['textureAtl'+'asAsset'],eu,_0x1f2351),this['_assets']['off']('add:'+_0x35fe56['textureAtl'+'asAsset'],tu,_0x1f2351));}}class Gg{constructor(_0x8037c2,_0x1da042){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x8037c2,this['_data']=_0x1da042);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x1f4615=new $p(this['_app'],!(0x1a61+0x1005+-0x2a66));this['_templateR'+'oot']=_0x1f4615['parse'](this['_data']);}}class uL extends Ne{constructor(_0x56df3a){super(_0x56df3a,'template'),c(this,'decoder',null);}['load'](_0x1f8ff2,_0x94326d){typeof _0x1f8ff2=='string'&&(_0x1f8ff2={'load':_0x1f8ff2,'original':_0x1f8ff2});const _0x594ada={'retry':this['maxRetries']>0x9*0x76+-0x2149*-0x1+-0x256f,'maxRetries':this['maxRetries']};We['get'](_0x1f8ff2['load'],_0x594ada,(_0x459ff7,_0x29eefc)=>{_0x459ff7?_0x94326d('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x1f8ff2['original']):_0x94326d(_0x459ff7,_0x29eefc);});}['open'](_0x27a280,_0x14464f){return new Gg(this['_app'],_0x14464f);}['openBinary'](_0xaf4237){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Gg(this['_app'],JSON['parse'](this['decoder']['decode'](_0xaf4237)));}}class fL extends Ne{constructor(_0x415211){super(_0x415211,'text'),c(this,'decoder',null);}['load'](_0x5f065b,_0x170df5){typeof _0x5f065b=='string'&&(_0x5f065b={'load':_0x5f065b,'original':_0x5f065b}),We['get'](_0x5f065b['load'],{'retry':this['maxRetries']>-0xd*0x179+-0x22f*-0x6+0x77*0xd,'maxRetries':this['maxRetries']},(_0xc67d35,_0x144f6d)=>{_0xc67d35?_0x170df5('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x5f065b['original']+'\x20['+_0xc67d35+']'):_0x170df5(null,_0x144f6d);});}['openBinary'](_0x11e601){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x11e601);}}const th={'repeat':tt,'clamp':ae,'mirror':Of},sh={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},pL=/^data\.frames\.(\d+)$/;class mL extends Ne{constructor(_0x34c79d){super(_0x34c79d,'textureatl'+'as'),this['_loader']=_0x34c79d['loader'];}['load'](_0x44e75f,_0x5aab3d){typeof _0x44e75f=='string'&&(_0x44e75f={'load':_0x44e75f,'original':_0x44e75f});const _0xa93ddb=this,_0x327bb8=this['_loader']['getHandler']('texture');fe['getExtensi'+'on'](_0x44e75f['original'])==='.json'?We['get'](_0x44e75f['load'],{'retry':this['maxRetries']>-0xb8d+0x19ab*0x1+-0xe1e,'maxRetries':this['maxRetries']},(_0x5b5671,_0x432cb5)=>{if(_0x5b5671)_0x5aab3d(_0x5b5671);else{const _0x359ac1=_0x44e75f['original']['replace']('.json','.png');_0xa93ddb['_loader']['load'](_0x359ac1,'texture',(_0x1661b7,_0x4809f4)=>{_0x1661b7?_0x5aab3d(_0x1661b7):_0x5aab3d(null,{'data':_0x432cb5,'texture':_0x4809f4});});}}):_0x327bb8['load'](_0x44e75f,_0x5aab3d);}['open'](_0x3e828c,_0x20ab28,_0x1158b7){const _0x56a0b5=new A1();if(_0x20ab28['texture']&&_0x20ab28['data'])_0x56a0b5['texture']=_0x20ab28['texture'],_0x56a0b5['__data']=_0x20ab28['data'];else{const _0x1e2b73=this['_loader']['getHandler']('texture')['open'](_0x3e828c,_0x20ab28,_0x1158b7);if(!_0x1e2b73)return null;_0x56a0b5['texture']=_0x1e2b73;}return _0x56a0b5;}['patch'](_0x44f993,_0x9acce0){if(!_0x44f993['resource'])return;_0x44f993['resource']['__data']&&(_0x44f993['resource']['__data']['minfilter']!==void(-0x2e2+-0xf*-0x179+-0x21*0x95)&&(_0x44f993['data']['minfilter']=_0x44f993['resource']['__data']['minfilter']),_0x44f993['resource']['__data']['magfilter']!==void(0x16*-0x85+-0x7*0x3+0xb83)&&(_0x44f993['data']['magfilter']=_0x44f993['resource']['__data']['magfilter']),_0x44f993['resource']['__data']['addressu']!==void(-0x1d46+0x15d1+0x53*0x17)&&(_0x44f993['data']['addressu']=_0x44f993['resource']['__data']['addressu']),_0x44f993['resource']['__data']['addressv']!==void(0x2396+0x1*0x22b3+0x3b3*-0x13)&&(_0x44f993['data']['addressv']=_0x44f993['resource']['__data']['addressv']),_0x44f993['resource']['__data']['mipmaps']!==void(-0x1*0x9bb+0x48c+-0x1*-0x52f)&&(_0x44f993['data']['mipmaps']=_0x44f993['resource']['__data']['mipmaps']),_0x44f993['resource']['__data']['anisotropy']!==void(0x243f+0xf*0xf2+-0x1*0x326d)&&(_0x44f993['data']['anisotropy']=_0x44f993['resource']['__data']['anisotropy']),_0x44f993['resource']['__data']['rgbm']!==void(-0x2*-0xbc4+-0x4ce+-0x12ba)&&(_0x44f993['data']['rgbm']=!!_0x44f993['resource']['__data']['rgbm']),_0x44f993['data']['frames']=_0x44f993['resource']['__data']['frames'],delete _0x44f993['resource']['__data']);const _0x1cd645=_0x44f993['resource']['texture'];if(_0x1cd645&&(_0x1cd645['name']=_0x44f993['name'],_0x44f993['data']['hasOwnProp'+'erty']('minfilter')&&_0x1cd645['minFilter']!==sh[_0x44f993['data']['minfilter']]&&(_0x1cd645['minFilter']=sh[_0x44f993['data']['minfilter']]),_0x44f993['data']['hasOwnProp'+'erty']('magfilter')&&_0x1cd645['magFilter']!==sh[_0x44f993['data']['magfilter']]&&(_0x1cd645['magFilter']=sh[_0x44f993['data']['magfilter']]),_0x44f993['data']['hasOwnProp'+'erty']('addressu')&&_0x1cd645['addressU']!==th[_0x44f993['data']['addressu']]&&(_0x1cd645['addressU']=th[_0x44f993['data']['addressu']]),_0x44f993['data']['hasOwnProp'+'erty']('addressv')&&_0x1cd645['addressV']!==th[_0x44f993['data']['addressv']]&&(_0x1cd645['addressV']=th[_0x44f993['data']['addressv']]),_0x44f993['data']['hasOwnProp'+'erty']('mipmaps')&&_0x1cd645['mipmaps']!==_0x44f993['data']['mipmaps']&&(_0x1cd645['mipmaps']=_0x44f993['data']['mipmaps']),_0x44f993['data']['hasOwnProp'+'erty']('anisotropy')&&_0x1cd645['anisotropy']!==_0x44f993['data']['anisotropy']&&(_0x1cd645['anisotropy']=_0x44f993['data']['anisotropy']),_0x44f993['data']['hasOwnProp'+'erty']('rgbm'))){const _0x59095f=_0x44f993['data']['rgbm']?on:Di;_0x1cd645['type']!==_0x59095f&&(_0x1cd645['type']=_0x59095f);}_0x44f993['resource']['texture']=_0x1cd645;const _0x1a3faf={};for(const _0x17ef4a in _0x44f993['data']['frames']){const _0x3f5f7e=_0x44f993['data']['frames'][_0x17ef4a];_0x1a3faf[_0x17ef4a]={'rect':new Q(_0x3f5f7e['rect']),'pivot':new $(_0x3f5f7e['pivot']),'border':new Q(_0x3f5f7e['border'])};}_0x44f993['resource']['frames']=_0x1a3faf,_0x44f993['off']('change',this['_onAssetCh'+'ange'],this),_0x44f993['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x13fa1f,_0x173221,_0x2ff966){let _0x18dfc4;if(_0x173221==='data'||_0x173221==='data.frame'+'s'){const _0x41379f={};for(const _0x1fc6b4 in _0x2ff966['frames'])_0x18dfc4=_0x2ff966['frames'][_0x1fc6b4],_0x41379f[_0x1fc6b4]={'rect':new Q(_0x18dfc4['rect']),'pivot':new $(_0x18dfc4['pivot']),'border':new Q(_0x18dfc4['border'])};_0x13fa1f['resource']['frames']=_0x41379f;}else{const _0x21a48d=_0x173221['match'](pL);if(_0x21a48d){const _0x34f9a8=_0x21a48d[0x10b6+-0x56f*-0x1+0xda*-0x1a];_0x2ff966?(_0x13fa1f['resource']['frames'][_0x34f9a8]?(_0x18dfc4=_0x13fa1f['resource']['frames'][_0x34f9a8],_0x18dfc4['rect']['set'](_0x2ff966['rect'][0x43*0x8a+-0x4*-0xad+-0x26d2],_0x2ff966['rect'][0x4*-0x469+-0x3a6+0x154b],_0x2ff966['rect'][-0xc6d+-0x20c9+0x2d38],_0x2ff966['rect'][-0x1fe+0x6*0x5ac+-0x2007]),_0x18dfc4['pivot']['set'](_0x2ff966['pivot'][-0x1ff0+0xf4a+0x10a6],_0x2ff966['pivot'][0x13f0+0x7*-0x489+0xbd0]),_0x18dfc4['border']['set'](_0x2ff966['border'][0x10b5+-0xef6*0x1+-0x1bf],_0x2ff966['border'][-0x935*-0x1+0x213d*0x1+0x109*-0x29],_0x2ff966['border'][0x1ad1*0x1+-0x1*0x359+-0x1776],_0x2ff966['border'][-0xbdf+-0x234f+-0x2f31*-0x1])):_0x13fa1f['resource']['frames'][_0x34f9a8]={'rect':new Q(_0x2ff966['rect']),'pivot':new $(_0x2ff966['pivot']),'border':new Q(_0x2ff966['border'])},_0x13fa1f['resource']['fire']('set:frame',_0x34f9a8,_0x13fa1f['resource']['frames'][_0x34f9a8])):_0x13fa1f['resource']['frames'][_0x34f9a8]&&(delete _0x13fa1f['resource']['frames'][_0x34f9a8],_0x13fa1f['resource']['fire']('remove:fra'+'me',_0x34f9a8));}}}}function _L(){const _0x4922b2={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x4885c9={'astc':_0x4922b2['cTFASTC_4x'+'4'],'dxt':_0x4922b2['cTFBC1'],'etc1':_0x4922b2['cTFETC1'],'etc2':_0x4922b2['cTFETC1'],'pvr':_0x4922b2['cTFPVRTC1_'+'4_RGB'],'atc':_0x4922b2['cTFATC_RGB'],'none':_0x4922b2['cTFRGB565']},_0x49916a={'astc':_0x4922b2['cTFASTC_4x'+'4'],'dxt':_0x4922b2['cTFBC3'],'etc1':_0x4922b2['cTFRGBA444'+'4'],'etc2':_0x4922b2['cTFETC2'],'pvr':_0x4922b2['cTFPVRTC1_'+'4_RGBA'],'atc':_0x4922b2['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x4922b2['cTFRGBA444'+'4']},_0x3aac84={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x5a755f=(_0xd8a864,_0x2da656)=>{switch(_0xd8a864){case _0x4922b2['cTFETC1']:return _0x2da656['formats']['etc2']?_0x3aac84['ETC2_RGB']:_0x3aac84['ETC1'];case _0x4922b2['cTFETC2']:return _0x3aac84['ETC2_RGBA'];case _0x4922b2['cTFBC1']:return _0x3aac84['DXT1'];case _0x4922b2['cTFBC3']:return _0x3aac84['DXT5'];case _0x4922b2['cTFPVRTC1_'+'4_RGB']:return _0x3aac84['PVRTC_4BPP'+'_RGB_1'];case _0x4922b2['cTFPVRTC1_'+'4_RGBA']:return _0x3aac84['PVRTC_4BPP'+'_RGBA_1'];case _0x4922b2['cTFASTC_4x'+'4']:return _0x3aac84['ASTC_4x4'];case _0x4922b2['cTFATC_RGB']:return _0x3aac84['ATC_RGB'];case _0x4922b2['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x3aac84['ATC_RGBA'];case _0x4922b2['cTFRGBA32']:return _0x3aac84['R8_G8_B8_A'+'8'];case _0x4922b2['cTFRGB565']:return _0x3aac84['R5_G6_B5'];case _0x4922b2['cTFRGBA444'+'4']:return _0x3aac84['R4_G4_B4_A'+'4'];}},_0x42cd10=_0x507819=>{const _0x101fd2=function(_0x3931dd,_0xe9ab9c){const _0x44f115=_0x3931dd*(0x218*-0x8+0x1b4a+0xa8a*-0x1+0.00784313725490196)-(-0x1b04+-0x933+0x2438),_0x14929b=_0xe9ab9c*((0x5*0x401+-0xd3*-0xc+-0x1de7)/(-0x1f47+0x722+0x1924))-(0x373*0x9+-0x1*-0x113d+-0x3047),_0x17f04f=Math['sqrt'](-0x1ce*-0x7+0x415+-0x10b6-Math['min'](0x2a*0xc+0x1994+-0x1b8b,_0x44f115*_0x44f115+_0x14929b*_0x14929b));return Math['max'](-0x2276+0x1c39+0x1*0x63d,Math['min'](-0x84a+-0x1231+0x2*0xdbd,Math['floor']((_0x17f04f+(-0x13cb+-0xe3+-0x3*-0x6e5))*(-0x1663*-0x1+-0x217d+-0x2*-0x58d+0.5)*(-0x1*-0x244+-0xf9f+0xe5a))));};for(let _0x65303c=0x47a+0x12b4+-0x172e;_0x65303c<_0x507819['length'];_0x65303c+=-0x1fb4*0x1+-0x2*0x755+0x2e62){const _0x188d49=_0x507819[_0x65303c+(-0xc82*0x2+0x431*0x1+0x14d6)],_0x5567d6=_0x507819[_0x65303c+(-0xd2e+0x16e8+-0x9b9)];_0x507819[_0x65303c+(0xaf1+0x273*0xb+-0x25e2)]=_0x188d49,_0x507819[_0x65303c+(0x189e+-0x6d3*0x4+0x2b0)]=_0x101fd2(_0x188d49,_0x5567d6),_0x507819[_0x65303c+(0xbee*0x1+-0x1051*-0x1+-0x1c3c)]=-0xc9b*-0x3+0x1e31*-0x1+-0x6a1;}return _0x507819;},_0x5c96be=_0x4b0cb1=>{const _0x3014e9=new Uint16Array(_0x4b0cb1['length']/(-0x31*0x77+0xda6*0x1+0x925));for(let _0x578f9c=0x10d*-0xb+-0x141*0x3+0x25*0x6a;_0x578f9c<_0x4b0cb1['length'];_0x578f9c+=-0x1*-0xe57+0xdab+-0x1bfe*0x1){const _0xeb2d8b=_0x4b0cb1[_0x578f9c+(0xf7f*-0x1+-0x99b*-0x3+-0x6a9*0x2)],_0x3f9480=_0x4b0cb1[_0x578f9c+(-0x1720+0x1*-0x1d11+0x33*0x106)],_0x51ceab=_0x4b0cb1[_0x578f9c+(0x29*0x15+-0x5*0x1fd+-0x2*-0x34b)];_0x3014e9[_0x578f9c/(0x2a9*0x5+0x4*-0x8dd+-0x5*-0x46f)]=(_0xeb2d8b&0x24*-0x10+0x1188+-0xe50)<<0xd*-0x133+0x1d97+-0xdf8|(_0x3f9480&-0x17ba+-0xe81*-0x1+0x367*0x3)<<0x1f*-0x57+0xd1a+0x6d*-0x6|_0x51ceab>>-0x260b+0x11d0+0x2*0xa1f;}return _0x3014e9;},_0x685b0d=(_0x8ded81,_0x4376e6)=>(_0x8ded81&_0x8ded81-(-0x1*-0xd81+0x3*-0x88+-0xbe8))===-0x941+0x191b*0x1+-0x1*0xfda&&(_0x4376e6&_0x4376e6-(0x52*-0x2b+-0x20+0xde7))===0x48*0xa+-0x3d*0x1f+0x493,_0x170640=()=>typeof performance<'u'?performance['now']():-0x3*0x13a+-0xce5*0x3+0x4b5*0x9;let _0x565012,_0x2a6104,_0x29cbac;const _0x1101ee=(_0xa743de,_0x21c4c0,_0x1a702b)=>{if(_0x1a702b){if(_0xa743de['formats']['astc'])return'astc';}else{if(_0x21c4c0){if(_0xa743de['formats']['etc2'])return'etc2';}else{if(_0xa743de['formats']['etc2'])return'etc2';if(_0xa743de['formats']['etc1'])return'etc1';}}return(_0x3eca3e=>{for(let _0x57a67e=0x4*0x4fe+-0x2187+0xd8f*0x1;_0x57a67e<_0x3eca3e['length'];++_0x57a67e){const _0x2b6506=_0x3eca3e[_0x57a67e];if(_0xa743de['formats'][_0x2b6506])return _0x2b6506;}return'none';})(_0x21c4c0?_0x29cbac:_0x2a6104);},_0x4158f6=(_0x5d4806,_0x2ef13a,_0x2f3fba)=>{switch(_0x2f3fba){case _0x4922b2['cTFETC1']:case _0x4922b2['cTFETC2']:return!(0x88*0x6+0x1b4a+-0x1e7a);case _0x4922b2['cTFBC1']:case _0x4922b2['cTFBC3']:return(_0x5d4806&-0x1450+-0x1172+0x25c5*0x1)===0x83*-0x38+0x2505+-0x85d*0x1&&(_0x2ef13a&-0x173a+-0x1*-0x512+0x122b)===0xc5a*0x2+-0x1ad3+0x21f;case _0x4922b2['cTFPVRTC1_'+'4_RGB']:case _0x4922b2['cTFPVRTC1_'+'4_RGBA']:return _0x685b0d(_0x5d4806,_0x2ef13a);case _0x4922b2['cTFASTC_4x'+'4']:return!(0x20e1+-0x4f8+-0x1*0x1be9);case _0x4922b2['cTFATC_RGB']:case _0x4922b2['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x376+-0x1325+-0x49*-0x37);}return!(-0x1*-0x1b73+-0xed4+-0xc9e);},_0x15e4ae=(_0x26828f,_0x5c82e5,_0x48e425)=>{if(!_0x565012['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x4df264=_0x170640(),_0x363a82=new _0x565012['KTX2File'](new Uint8Array(_0x5c82e5)),_0x504c88=_0x363a82['getWidth'](),_0x525901=_0x363a82['getHeight'](),_0x4c2fdd=_0x363a82['getLevels'](),_0x234863=!!_0x363a82['getHasAlph'+'a'](),_0xb62440=_0x363a82['isUASTC']&&_0x363a82['isUASTC']();if(!_0x504c88||!_0x525901||!_0x4c2fdd)throw _0x363a82['close'](),_0x363a82['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x26828f+'\x20width='+_0x504c88+'\x20height='+_0x525901+'\x20levels='+_0x4c2fdd);const _0x56597a=_0x1101ee(_0x48e425['deviceDeta'+'ils'],_0x234863,_0xb62440),_0x3e02e4=!!_0x48e425['isGGGR']&&_0x56597a==='pvr';let _0x49df8d;if(_0x3e02e4?_0x49df8d=_0x4922b2['cTFRGBA32']:(_0x49df8d=_0x234863?_0x49916a[_0x56597a]:_0x4885c9[_0x56597a],_0x4158f6(_0x504c88,_0x525901,_0x49df8d)||(_0x49df8d=_0x234863?_0x4922b2['cTFRGBA32']:_0x4922b2['cTFRGB565'])),!_0x363a82['startTrans'+'coding']())throw _0x363a82['close'](),_0x363a82['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x26828f);let _0x4ec671;const _0x4d3547=[];for(let _0x51ddb1=-0x1*0x1f57+-0x287*0xb+0x3b24;_0x51ddb1<_0x4c2fdd;++_0x51ddb1){const _0x2f1c7b=_0x363a82['getImageTr'+'anscodedSi'+'zeInBytes'](_0x51ddb1,-0x1670+0x2414+-0xda4,0x18fd+-0x10fb+0x802*-0x1,_0x49df8d),_0x30caf7=new Uint8Array(_0x2f1c7b);if(!_0x363a82['transcodeI'+'mage'](_0x30caf7,_0x51ddb1,0x1271+0x1a0f+0x20*-0x164,0xc3f+0xfc3+0x1e*-0xef,_0x49df8d,0x1f4a+-0xd*-0xeb+-0x8a5*0x5,-(0x581*-0x1+-0x1*0x2de+0x43*0x20),-(-0x10*-0x1d+0x15d9+-0x17a8)))throw _0x363a82['close'](),_0x363a82['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x26828f);const _0x59ff71=_0x49df8d===_0x4922b2['cTFRGB565']||_0x49df8d===_0x4922b2['cTFRGBA444'+'4'];_0x4d3547['push'](_0x59ff71?new Uint16Array(_0x30caf7['buffer']):_0x30caf7);}if(_0x363a82['close'](),_0x363a82['delete'](),_0x3e02e4){for(_0x49df8d=_0x4922b2['cTFRGB565'],_0x4ec671=-0x20+0x165d+-0x1*0x163d;_0x4ec671<_0x4d3547['length'];++_0x4ec671)_0x4d3547[_0x4ec671]=_0x5c96be(_0x42cd10(_0x4d3547[_0x4ec671]));}return{'format':_0x5a755f(_0x49df8d,_0x48e425['deviceDeta'+'ils']),'width':_0x504c88,'height':_0x525901,'levels':_0x4d3547,'cubemap':!(-0xd*-0x254+0x16a6+-0x3*0x11a3),'transcodeTime':_0x170640()-_0x4df264,'url':_0x26828f,'unswizzledGGGR':_0x3e02e4};},_0x34202b=(_0x2c41ff,_0x5c4201,_0x494a93)=>{const _0x151f57=_0x170640(),_0xc65dbd=new _0x565012['BasisFile'](new Uint8Array(_0x5c4201)),_0x3dfd72=_0xc65dbd['getImageWi'+'dth'](0x12af+-0x178+-0x1137,0xf51+0x4f*0x46+-0x24eb),_0x289bfa=_0xc65dbd['getImageHe'+'ight'](-0x26bb*-0x1+-0x13*0x97+0x1b86*-0x1,-0x1cd5+-0x1ce3+0x39b8),_0x32f35d=_0xc65dbd['getNumImag'+'es'](),_0x25862a=_0xc65dbd['getNumLeve'+'ls'](-0xaae+-0x2*0x14b+0xd44),_0x1845bc=!!_0xc65dbd['getHasAlph'+'a'](),_0x4f9ff6=_0xc65dbd['isUASTC']&&_0xc65dbd['isUASTC']();if(!_0x3dfd72||!_0x289bfa||!_0x32f35d||!_0x25862a)throw _0xc65dbd['close'](),_0xc65dbd['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x2c41ff+'\x20width='+_0x3dfd72+'\x20height='+_0x289bfa+'\x20images='+_0x32f35d+'\x20levels='+_0x25862a);const _0x5bbb31=_0x1101ee(_0x494a93['deviceDeta'+'ils'],_0x1845bc,_0x4f9ff6),_0x4c63a1=!!_0x494a93['isGGGR']&&_0x5bbb31==='pvr';let _0x21e052;if(_0x4c63a1?_0x21e052=_0x4922b2['cTFRGBA32']:(_0x21e052=_0x1845bc?_0x49916a[_0x5bbb31]:_0x4885c9[_0x5bbb31],_0x4158f6(_0x3dfd72,_0x289bfa,_0x21e052)||(_0x21e052=_0x1845bc?_0x4922b2['cTFRGBA32']:_0x4922b2['cTFRGB565'])),!_0xc65dbd['startTrans'+'coding']())throw _0xc65dbd['close'](),_0xc65dbd['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x2c41ff);let _0x405aa9;const _0x1880ba=[];for(let _0x22c43a=-0x2512+0x1179*0x1+0x1399;_0x22c43a<_0x25862a;++_0x22c43a){const _0x3fecfd=_0xc65dbd['getImageTr'+'anscodedSi'+'zeInBytes'](-0x1634+-0x7*0x44f+0x345d,_0x22c43a,_0x21e052),_0x5ee29f=new Uint8Array(_0x3fecfd);if(!_0xc65dbd['transcodeI'+'mage'](_0x5ee29f,-0x1*-0xd03+-0x23f9+0x16f6,_0x22c43a,_0x21e052,0x2*-0x5f8+-0x1e08+-0x14fc*-0x2,0x8a6+0x8ef+-0x1195)){if(_0x22c43a===_0x25862a-(0x1fb1+-0x413+0x1*-0x1b9d)&&_0x3fecfd===_0x1880ba[_0x22c43a-(0xb5+-0x5c*0x4a+0x4*0x679)]['buffer']['byteLength'])_0x5ee29f['set'](new Uint8Array(_0x1880ba[_0x22c43a-(-0x69+0x1aa2+-0x1a38)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x2c41ff);else throw _0xc65dbd['close'](),_0xc65dbd['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x2c41ff);}const _0x5bf3d0=_0x21e052===_0x4922b2['cTFRGB565']||_0x21e052===_0x4922b2['cTFRGBA444'+'4'];_0x1880ba['push'](_0x5bf3d0?new Uint16Array(_0x5ee29f['buffer']):_0x5ee29f);}if(_0xc65dbd['close'](),_0xc65dbd['delete'](),_0x4c63a1){for(_0x21e052=_0x4922b2['cTFRGB565'],_0x405aa9=-0x281*0x9+0x153c+0x14d;_0x405aa9<_0x1880ba['length'];++_0x405aa9)_0x1880ba[_0x405aa9]=_0x5c96be(_0x42cd10(_0x1880ba[_0x405aa9]));}return{'format':_0x5a755f(_0x21e052,_0x494a93['deviceDeta'+'ils']),'width':_0x3dfd72,'height':_0x289bfa,'levels':_0x1880ba,'cubemap':!(-0x990+0x95*-0x35+0x286a),'transcodeTime':_0x170640()-_0x151f57,'url':_0x2c41ff,'unswizzledGGGR':_0x4c63a1};},_0x435912=(_0x438415,_0x318787,_0x31083a)=>_0x31083a['isKTX2']?_0x15e4ae(_0x438415,_0x318787,_0x31083a):_0x34202b(_0x438415,_0x318787,_0x31083a),_0x3752dd=(_0x5d2c76,_0x1719bb,_0x4334bf)=>{try{const _0x3b3658=_0x435912(_0x5d2c76,_0x1719bb,_0x4334bf);_0x3b3658['levels']=_0x3b3658['levels']['map'](_0x184282=>_0x184282['buffer']),self['postMessag'+'e']({'url':_0x5d2c76,'data':_0x3b3658},_0x3b3658['levels']);}catch(_0x18a8a8){self['postMessag'+'e']({'url':_0x5d2c76,'err':_0x18a8a8},null);}},_0xbb61d6=(_0x1309ff,_0x434f33)=>{const _0x193f92=(_0x1f80a2,_0x28077f)=>(WebAssembly['instantiat'+'e'](_0x1309ff['module'],_0x1f80a2)['then'](_0x3d6d79=>{_0x28077f(_0x3d6d79);})['catch'](_0x3ac8e7=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x3ac8e7);}),{});self['BASIS'](_0x1309ff['module']?{'instantiateWasm':_0x193f92}:null)['then'](_0x3230c7=>{_0x3230c7['initialize'+'Basis'](),_0x565012=_0x3230c7,_0x2a6104=_0x1309ff['rgbPriorit'+'y'],_0x29cbac=_0x1309ff['rgbaPriori'+'ty'],_0x434f33(null);});},_0x92f963=[];self['onmessage']=_0x51318f=>{const _0x166516=_0x51318f['data'];switch(_0x166516['type']){case'init':_0xbb61d6(_0x166516['config'],()=>{for(let _0x5dead4=-0xa*0x13d+-0x11a+0xd7c;_0x5dead4<_0x92f963['length'];++_0x5dead4)_0x3752dd(_0x92f963[_0x5dead4]['url'],_0x92f963[_0x5dead4]['data'],_0x92f963[_0x5dead4]['options']);_0x92f963['length']=-0x8ee*0x3+0x1c4f+0x1*-0x185;});break;case'transcode':_0x565012?_0x3752dd(_0x166516['url'],_0x166516['data'],_0x166516['options']):_0x92f963['push'](_0x166516);break;}};}const gL=_0x497523=>({'astc':!!_0x497523['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x497523['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x497523['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x497523['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x497523['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x497523['extCompres'+'sedTexture'+'PVRTC']}),yL=(_0x54ec53,_0x40af77)=>{const _0x511fa0=_0x830ca3=>{const _0x3c0bfb=['/*\x20basis\x20*'+'/',_0x830ca3,'','('+_L['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x3c0bfb],{'type':'applicatio'+'n/javascri'+'pt'});},_0x561cc2=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x6c5a2=new WebAssembly['Module'](Uint8Array['of'](-0x32e+-0x2*0xe71+0x2010,0x2b*-0x6d+-0x23*0x10f+0x37bd,-0x8+-0x1*-0xda+-0x5f,-0x13bb+0x801+0x40d*0x3,0x882*-0x3+0x1*0x182e+0x17*0xf,-0x17f4+-0x1b10+0x3304,0x251b+-0x1*-0x1cff+-0x2*0x210d,0x549+0x1840+0x1*-0x1d89));if(_0x6c5a2 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x6c5a2)instanceof WebAssembly['Instance'];}}catch{}return!(-0x24cf+-0x1*0xe5d+0x1*0x332d);},_0x3bf9d0=(_0x4ddb4b,_0x3d6392)=>{_0x40af77(null,{'workerUrl':URL['createObje'+'ctURL'](_0x511fa0(_0x4ddb4b)),'module':_0x3d6392,'rgbPriority':_0x54ec53['rgbPriorit'+'y'],'rgbaPriority':_0x54ec53['rgbaPriori'+'ty']});},_0x8cc146={'cache':!(-0xed*0x14+-0xbcf*-0x3+0x6f*-0x27),'responseType':'text','retry':_0x54ec53['maxRetries']>0x15ce*0x1+-0x2a+-0x2*0xad2,'maxRetries':_0x54ec53['maxRetries']};if(_0x54ec53['glueUrl']&&_0x54ec53['wasmUrl']&&_0x561cc2()){let _0x2614e1=null,_0x5117bc=null;We['get'](_0x54ec53['glueUrl'],_0x8cc146,(_0x4d676a,_0x5ca4d3)=>{_0x4d676a?_0x40af77(_0x4d676a):_0x5117bc?_0x3bf9d0(_0x5ca4d3,_0x5117bc):_0x2614e1=_0x5ca4d3;});const _0x38aa6b=fetch(_0x54ec53['wasmUrl']),_0x24995d=()=>{_0x38aa6b['then'](_0x245f4a=>_0x245f4a['arrayBuffe'+'r']())['then'](_0xc67334=>WebAssembly['compile'](_0xc67334))['then'](_0x250922=>{_0x2614e1?_0x3bf9d0(_0x2614e1,_0x250922):_0x5117bc=_0x250922;})['catch'](_0x4f747c=>{_0x40af77(_0x4f747c,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x38aa6b)['then'](_0x2cfcbd=>{_0x2614e1?_0x3bf9d0(_0x2614e1,_0x2cfcbd):_0x5117bc=_0x2cfcbd;})['catch'](_0x89cd86=>{v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x54ec53['wasmUrl']+'\x20('+_0x89cd86+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x24995d();}):_0x24995d();}else We['get'](_0x54ec53['fallbackUr'+'l'],_0x8cc146,(_0x17acbe,_0xe6f41c)=>{_0x17acbe?_0x40af77(_0x17acbe,null):_0x3bf9d0(_0xe6f41c,null);});};class xL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x3a0edf,_0x5a0759,_0x31c922,_0x1ed2df){if(this['callbacks']['hasOwnProp'+'erty'](_0x3a0edf))this['callbacks'][_0x3a0edf]['push'](_0x31c922);else{this['callbacks'][_0x3a0edf]=[_0x31c922];const _0x1e99ff={'url':_0x3a0edf,'data':_0x5a0759,'options':_0x1ed2df};this['clients']['length']>-0x5*-0x747+-0x1b5a+-0x909?this['clients']['shift']()['run'](_0x1e99ff):this['queue']['push'](_0x1e99ff);}}['enqueueCli'+'ent'](_0x2c9d1b){this['queue']['length']>0xaca*0x1+0x11a9*-0x1+0x6df?_0x2c9d1b['run'](this['queue']['shift']()):this['clients']['push'](_0x2c9d1b);}['handleResp'+'onse'](_0x28fe2a,_0x50c53f,_0x1dbea9){const _0xabe31b=this['callbacks'][_0x28fe2a];if(_0x50c53f){for(let _0x11e0ec=0x1b74+-0x1bb8+0x44;_0x11e0ec<_0xabe31b['length'];++_0x11e0ec)_0xabe31b[_0x11e0ec](_0x50c53f);}else{_0x1dbea9['format']===_c||_0x1dbea9['format']===gc?_0x1dbea9['levels']=_0x1dbea9['levels']['map'](_0x598c0c=>new Uint16Array(_0x598c0c)):_0x1dbea9['levels']=_0x1dbea9['levels']['map'](_0x449c3e=>new Uint8Array(_0x449c3e));for(let _0x239552=-0x4f1+0x1b02+-0x1611;_0x239552<_0xabe31b['length'];++_0x239552)_0xabe31b[_0x239552](null,_0x1dbea9);}delete this['callbacks'][_0x28fe2a];}}class SL{constructor(_0xf393c8,_0x4168ef,_0x153191){this['queue']=_0xf393c8,this['worker']=new Worker(_0x4168ef['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x4afc01=>{const _0x4ad129=_0x4afc01['data'];this['queue']['handleResp'+'onse'](_0x4ad129['url'],_0x4ad129['err'],_0x4ad129['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x4168ef}),this['eager']=_0x153191;}['run'](_0x5aab11){const _0x5b9634=[];_0x5aab11['data']instanceof ArrayBuffer&&_0x5b9634['push'](_0x5aab11['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x5aab11['url'],'format':_0x5aab11['format'],'data':_0x5aab11['data'],'options':_0x5aab11['options']},_0x5b9634),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const vL=-0x2420+-0x773+0x4*0xae5,bL=['etc2','etc1','astc','dxt','pvr','atc'],wL=['astc','dxt','etc2','pvr','atc'],TL=0x16af+-0xc0b+-0xa9f,Tf=new xL();let Hg=null,Af=!(-0x1c0+0x1be0+-0x1a1f);function AL(_0x1cbaae){if(!Af){if(!_0x1cbaae)_0x1cbaae=Hg||{};else{if(_0x1cbaae['lazyInit']){Hg=_0x1cbaae;return;}}if(!_0x1cbaae['glueUrl']||!_0x1cbaae['wasmUrl']||!_0x1cbaae['fallbackUr'+'l']){const _0xb58b79=ay['getConfig']('BASIS');_0xb58b79&&(_0x1cbaae={'glueUrl':_0xb58b79['glueUrl'],'wasmUrl':_0xb58b79['wasmUrl'],'fallbackUrl':_0xb58b79['fallbackUr'+'l'],'numWorkers':_0xb58b79['numWorkers']});}if(_0x1cbaae['glueUrl']||_0x1cbaae['wasmUrl']||_0x1cbaae['fallbackUr'+'l']){Af=!(-0xb9+-0x888+-0x1*-0x941);const _0x4fc070=Math['max'](0x5*-0x35b+-0x14b0+0x2578,Math['min'](0x5d1*0x5+-0x3*-0xbbd+-0x403c,_0x1cbaae['numWorkers']||vL)),_0x61eb85=_0x1cbaae['numWorkers']===-0x107*0x3+0x131*-0x1b+0x2341||(_0x1cbaae['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x1cbaae['eagerWorke'+'rs']:!(-0x1f64+-0x300+-0x1f*-0x11c));_0x1cbaae['rgbPriorit'+'y']=_0x1cbaae['rgbPriorit'+'y']||bL,_0x1cbaae['rgbaPriori'+'ty']=_0x1cbaae['rgbaPriori'+'ty']||wL,_0x1cbaae['maxRetries']=_0x1cbaae['hasOwnProp'+'erty']('maxRetries')?_0x1cbaae['maxRetries']:TL,yL(_0x1cbaae,(_0x1f2040,_0x57f79c)=>{if(_0x1f2040)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x1f2040);else{for(let _0xae1b45=0x1967+0x17b*-0x18+0xa21;_0xae1b45<_0x4fc070;++_0xae1b45)Tf['enqueueCli'+'ent'](new SL(Tf,_0x57f79c,_0x61eb85));}});}}}let su=null;function Fx(_0x407b47,_0x3a4a6c,_0x2249be,_0x3239ec,_0x3b5ea5){return AL(),su||(su={'formats':gL(_0x407b47)}),Tf['enqueueJob'](_0x3a4a6c,_0x2249be,_0x3239ec,{'deviceDetails':su,'isGGGR':!!(_0x3b5ea5!=null&&_0x3b5ea5['isGGGR']),'isKTX2':!!(_0x3b5ea5!=null&&_0x3b5ea5['isKTX2'])}),Af;}class Na{['load'](_0x1488ad,_0x59545a,_0x29f8d0){throw new Error('not\x20implem'+'ented');}['open'](_0x4c60fb,_0x570fca,_0x123e17){throw new Error('not\x20implem'+'ented');}}class EL extends Na{constructor(_0x510834,_0x444a38){super(),this['device']=_0x444a38,this['maxRetries']=-0xb46+0x269*0x10+-0x1b4a;}['load'](_0x1ef543,_0x392e8e,_0x3e25e0){const _0x49b79c=this['device'],_0x9cf4b1=_0x4ee749=>{var _0x4d1c54,_0x5d2c10,_0x2ef1b0;Fx(_0x49b79c,_0x1ef543['load'],_0x4ee749,_0x392e8e,{'isGGGR':(((_0x2ef1b0=(_0x5d2c10=(_0x4d1c54=_0x3e25e0==null?void(-0xf2+0x60b*0x4+-0x173a):_0x3e25e0['file'])==null?void(0x2283+0x264f+0x4e*-0xef):_0x4d1c54['variants'])==null?void(0x354+0x511*0x5+-0x1ca9*0x1):_0x5d2c10['basis'])==null?void(-0x153e+0x1c8e+0x34*-0x24):_0x2ef1b0['opt'])&0x63*-0x11+0x8*-0x31d+0x1f83)!==0x127c+0x25a4+-0x3820})||_0x392e8e('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x3e25e0['name']+']('+_0x3e25e0['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};le['fetchArray'+'Buffer'](_0x1ef543['load'],(_0x58fc53,_0x1e19ab)=>{_0x58fc53?_0x392e8e(_0x58fc53):_0x9cf4b1(_0x1e19ab);},_0x3e25e0,this['maxRetries']);}['open'](_0x116676,_0x19ee06,_0x188df5,_0x460a4e={}){const _0x579f0d=_0x460a4e['srgb']?Cc(_0x19ee06['format']):_0x19ee06['format'],_0x2b6d96=new he(_0x188df5,{'name':_0x116676,'profilerHint':ur,'addressU':_0x19ee06['cubemap']?ae:tt,'addressV':_0x19ee06['cubemap']?ae:tt,'width':_0x19ee06['width'],'height':_0x19ee06['height'],'format':_0x579f0d,'cubemap':_0x19ee06['cubemap'],'levels':_0x19ee06['levels'],..._0x460a4e});return _0x2b6d96['upload'](),_0x2b6d96;}}const Ox=new Uint8Array([0x1e17+0x1*0x1f83+-0x3d11,0x22e8+-0x20d4+-0xe2*0x2,-0x1363+-0x1*-0x243d+-0x108c,0x1009+-0xd07+0x3*-0xe9,-0x8de+0xc1d+-0x332,-0x10b+0x1*-0x485+0x59a,-0x1*0xd79+0x1a17*0x1+-0x642*0x2,-0x12db*-0x2+0x5e*-0x25+-0x1816,0x25bd+-0x1d25+-0x898,-0x1*-0x202+0xd68+0x7b5*-0x2,-0x302*-0x1+0x8f9+-0xbfb,0xcf6+0x16af+-0x2398,-0xfce+-0x1c2*0x12+-0xfe9*-0x3,0x4*-0x486+0x215e+-0xefe,0x3e2+-0x18e8+0x154a,-0x22f7+0x703+0x1c46,0x1b83*0x1+0x1964+-0x34e7,0x1*-0xe6f+0x2e8*-0xc+0x314f,-0x12a+-0x1*0x1fcf+0x20f9,0x15b2+0x878*0x1+-0x1e29,-0x1fe9+0x1e8e+0x15b,0x20*0x125+0x11c9+-0x3669,-0x51d+-0x17d9+-0x1cf6*-0x1,0x265+-0x11*-0x10b+-0x1*0x141f,0x1*-0x526+-0x1*-0x10b1+0x1*-0xb83,-0x14b8+-0x4e7+0x1f9*0xd,0x3e9*-0x8+-0x850+-0x4f3*-0x8,0x25bc+0x1*-0x20ff+-0x4bd,0x2327+0xe*0x263+-0x4491,0x34*0x1b+0x4fd+-0xa5a,0x1ed5+0x1966+-0x3826*0x1,-0x1f70+0x9ce+0x1666,-0xe65+0x2635*-0x1+0x3523,-0x6bb+0x22*-0xa0+0x1bfb,-0x18b*0x1+0xff4+-0xe69,-0x244d+-0x63*0x1+-0x24b*-0x10,0x1*-0x134e+-0x12ac+0x2607,-0x6ef+-0x32f*0xa+-0x1*-0x270e,0x3*-0xb93+0x3c1+0x1f3c,0x39a+-0x1120+0xdc7,-0xc*-0x2dd+-0x16*-0x16f+-0x4192,0x1*0x1ca3+0xafc+-0x2727,0x18ef+0x3*0x8a2+-0x31fb,-0xd*0x1af+-0x16cc+0x783*0x6,-0x1c*-0x139+0x5a*-0x1+-0x217e,-0x2*0x12fb+0x15*-0x2b+0x29e1,-0xe*0x25+0x107*0xc+-0x9ec,-0x93e+-0x13fe+0x1df2,0x1725+-0x705*0x3+-0x1*0x20f,0x21b3+0x1504+-0x45*0xcb,-0x2af*0x3+0x2138+0x17b*-0x11,0x1*-0x138e+0x248e+-0x7*0x261,-0x283*-0x1+0x3ad*-0x4+0xc31,-0x1fb7*-0x1+0x3*0xaf1+0x4043*-0x1,0xfd8+-0x25c2*-0x1+-0x3557,0x5*0x2bb+0x19a8+0x2*-0x1365,-0x1*-0x95f+0x1d3b+-0x2606,-0x925+0x7*-0x106+0x113c,0x1113+0xb*0x123+-0x4*0x765,-0x17af*-0x1+-0x6ec+-0x10c3,-0xd2b+0x2f*-0xc+0xf5f,-0x119*-0x6+-0xed1*0x2+0x170c,-0x398+-0x2666*-0x1+-0x2285,0xe0e+0x5*-0x5d5+-0x520*-0x3,-0x112*-0x1a+0x213b+-0x3cc1*0x1,0x540+0x20b0+-0x25ac,-0x2a7*0xb+-0x1*-0x3d0+0x1*0x1a0b,0x8f3+-0x5*-0x739+-0xa*0x47b,-0x1*0x2a5+0x8cb*-0x4+0x2631,-0x1b20+-0xcf7+0x2899]),kx=(_0x170739,_0x512bef)=>{const _0x5bd4c6=new he(_0x170739,{'width':0x1,'height':0x1,'format':Se,'mipmaps':!(-0x167e*0x1+-0x23ae+0x119*0x35),'levels':[_0x512bef]}),_0x3eb5be=new pt({'colorBuffer':_0x5bd4c6,'depth':!(-0x8fa+-0x6b*-0x17+0x3*-0x36)});_0x170739['setFramebu'+'ffer'](_0x3eb5be['impl']['_glFrameBu'+'ffer']),_0x170739['initRender'+'Target'](_0x3eb5be);const _0x48b11b=new Uint8ClampedArray(-0x1442+0x2218+-0xdd2);return _0x170739['gl']['readPixels'](-0x189*-0x11+-0x1b14+-0x1*-0xfb,0x1bb0+0x57*0x2d+0x2afb*-0x1,0xed*0x17+-0x91c*0x2+0x312*-0x1,-0x1d18+-0x1*-0x2a5+0x1a74,_0x170739['gl']['RGBA'],_0x170739['gl']['UNSIGNED_B'+'YTE'],_0x48b11b),_0x3eb5be['destroy'](),_0x5bd4c6['destroy'](),_0x48b11b[0x3d7+-0x1af3*0x1+0x171c]===-0x1*-0x203e+0x7d*0x23+0x4*-0xc55&&_0x48b11b[0x1*0xd69+-0x1f4d+0x11e5]===0x1349+-0xa3f*-0x1+-0xec3*0x2&&_0x48b11b[-0x2425+0x96f+-0x5a*-0x4c]===0x301*-0x2+-0x4f*0x4f+0x1e66&&_0x48b11b[0x214c+-0x24*-0xc+0x7*-0x4ff]===0x1*0x1f3+0x153a+-0x5*0x496;},CL=_0x1215e8=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x40f876=>kx(_0x1215e8,_0x40f876))['catch'](_0x40eccc=>!(-0x3*-0x543+0x2064+-0x302c)),ML=_0x9ed30b=>new Promise((_0x3f0369,_0x2d9799)=>{const _0x1fc6e8=new Image();_0x1fc6e8['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x1fc6e8['onload']=()=>{_0x3f0369(kx(_0x9ed30b,_0x1fc6e8));};});class PL{static['run'](_0x11a055){CL(_0x11a055)['then'](_0x4f820f=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x4f820f);}),ML(_0x11a055)['then'](_0x61c6bd=>{console['log']('imgElement'+'IsCorrect='+_0x61c6bd);});}}class RL extends Na{constructor(_0x55f7da,_0x364621){super(),this['crossOrigi'+'n']=_0x55f7da['prefix']?'anonymous':null,this['maxRetries']=-0x2143+-0x160e+-0x7*-0x7e7,this['device']=_0x364621,Xs['get']('IMG_ALPHA_'+'TEST')&&PL['run'](this['device']);}['load'](_0x44d203,_0x25e096,_0x266ba4){var _0x2b92b1;const _0x285801=!!((_0x2b92b1=_0x266ba4==null?void(-0xac4+0x168c+-0xbc8):_0x266ba4['file'])!=null&&_0x2b92b1['contents']);if(_0x285801){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x266ba4['file']['contents']]),_0x25e096);return;}_0x44d203={'load':URL['createObje'+'ctURL'](new Blob([_0x266ba4['file']['contents']])),'original':_0x44d203['original']};}const _0x1a6e65=(_0x2dae9d,_0x53a714)=>{_0x285801&&URL['revokeObje'+'ctURL'](_0x44d203['load']),_0x25e096(_0x2dae9d,_0x53a714);};let _0x1ce53b;_0x266ba4&&_0x266ba4['options']&&_0x266ba4['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x1ce53b=_0x266ba4['options']['crossOrigi'+'n']:Da['test'](_0x44d203['load'])&&(_0x1ce53b=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x44d203['load'],_0x44d203['original'],_0x1ce53b,_0x1a6e65):this['_loadImage'](_0x44d203['load'],_0x44d203['original'],_0x1ce53b,_0x1a6e65);}['open'](_0x193905,_0x4c0ce5,_0x4de629,_0x9eaad4={}){const _0x5c0974=new he(_0x4de629,{'name':_0x193905,'profilerHint':ur,'width':_0x4c0ce5['width'],'height':_0x4c0ce5['height'],'format':_0x9eaad4['srgb']?rs:Se,..._0x9eaad4});return _0x5c0974['setSource'](_0x4c0ce5),_0x5c0974;}['_loadImage'](_0x530e2c,_0x28c27c,_0x444f63,_0x1dd1cc){const _0x167ff8=new Image();_0x444f63&&(_0x167ff8['crossOrigi'+'n']=_0x444f63);let _0x3fd362=-0x1*0x11db+-0xa62*-0x1+0x779;const _0x12fb34=this['maxRetries'];let _0x364fdd;_0x167ff8['onload']=function(){_0x1dd1cc(null,_0x167ff8);},_0x167ff8['onerror']=function(){if(!_0x364fdd){if(_0x12fb34>0x2657+-0x1*0x45d+-0x21fa&&++_0x3fd362<=_0x12fb34){const _0x5bd057=Math['pow'](0xb15*0x1+0x25d5+-0x272*0x14,_0x3fd362)*(0x14ef+0x171*-0x5+-0xd56);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x28c27c+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x5bd057+'ms...');const _0x3e07b2=_0x530e2c['indexOf']('?')>=0x2518+0xb5c+-0x3074?'&':'?';_0x364fdd=setTimeout(()=>{_0x167ff8['src']=_0x530e2c+_0x3e07b2+'retry='+Date['now'](),_0x364fdd=null;},_0x5bd057);}else _0x1dd1cc('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x28c27c+'\x27');}},_0x167ff8['src']=_0x530e2c;}['_loadImage'+'Bitmap'](_0x574eac,_0x231bff,_0x307bd3,_0x378306){const _0x26c748={'cache':!(-0x1c70+-0x1*-0x158b+0x5*0x161),'responseType':'blob','retry':this['maxRetries']>0xe8*0x1f+-0xff9+0xc1f*-0x1,'maxRetries':this['maxRetries']};We['get'](_0x574eac,_0x26c748,(_0xdaa739,_0x38aebf)=>{_0xdaa739?_0x378306(_0xdaa739):this['_loadImage'+'BitmapFrom'+'Blob'](_0x38aebf,_0x378306);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x22807d,_0x5f2a3e){createImageBitmap(_0x22807d,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0xd3288b=>_0x5f2a3e(null,_0xd3288b))['catch'](_0x56cf3f=>_0x5f2a3e(_0x56cf3f));}}const iu=[-0x7*0x15c2f0e4+-0x5a59db5*-0xb+-0xb20*-0x100c81,-0xefc9fbf7+-0x28adc4f7+0x1d3a8f20e,-0xf838855+-0x1166e5f4*0x1+-0x15823c2b*-0x2],IL={0x83f0:yc,0x83f2:zf,0x83f3:Wo,0x8d64:bc,0x9274:Vf,0x9278:Gf,0x8c00:wc,0x8c01:qo,0x8c02:Tc,0x8c03:Xo,0x8051:dr,0x8058:Se,0x8c41:Uf,0x8c43:rs,0x8c3a:_a,0x881b:xc,0x881a:Je};function DL(_0x40c197,_0x1cfbb2,_0x41b409,_0x15e6c0){return _0x40c197===_a?new Uint32Array(_0x1cfbb2,_0x41b409,_0x15e6c0/(-0x13*0x122+0x1fd2+-0xa48)):new Uint8Array(_0x1cfbb2,_0x41b409,_0x15e6c0);}class LL extends Na{constructor(_0xf22426){super(),this['maxRetries']=0x272*-0xe+-0x24aa+-0x1*-0x46e6;}['load'](_0x2c99bc,_0x565041,_0x2c4807){le['fetchArray'+'Buffer'](_0x2c99bc['load'],_0x565041,_0x2c4807,this['maxRetries']);}['open'](_0xc9c0f1,_0x2c6145,_0x3be234,_0x42afee={}){const _0x5d10cb=this['parse'](_0x2c6145);if(!_0x5d10cb)return null;const _0x5b6aa8=_0x42afee['srgb']?Cc(_0x5d10cb['format']):_0x5d10cb['format'],_0x18ff1c=new he(_0x3be234,{'name':_0xc9c0f1,'profilerHint':ur,'addressU':_0x5d10cb['cubemap']?ae:tt,'addressV':_0x5d10cb['cubemap']?ae:tt,'width':_0x5d10cb['width'],'height':_0x5d10cb['height'],'format':_0x5b6aa8,'cubemap':_0x5d10cb['cubemap'],'levels':_0x5d10cb['levels'],..._0x42afee});return _0x18ff1c['upload'](),_0x18ff1c;}['parse'](_0x5d2cf2){const _0x88461=new Uint32Array(_0x5d2cf2);if(iu[0x7e*-0x2+-0xaed*-0x1+-0x9f1]!==_0x88461[-0x495+0x618*-0x3+0x16dd]||iu[0x1f38+0xd0*-0x2+-0x1d97]!==_0x88461[-0x1b5*-0x12+0x25d3+-0xa4*0x6b]||iu[0x1*-0x737+0x2b*-0x17+-0x1*-0xb16]!==_0x88461[-0x5*-0x35c+0x813+0x18dd*-0x1])return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x1b83be={'endianness':_0x88461[0x12fd+-0x702+-0xbf8],'glType':_0x88461[0x1*-0xf2a+0xf05+-0x1*-0x29],'glTypeSize':_0x88461[-0xef+0x2c5*-0xa+0x1ca6],'glFormat':_0x88461[0x79e+0x67*0x43+0x228d*-0x1],'glInternalFormat':_0x88461[-0x10a2+0x305+0xda4],'glBaseInternalFormat':_0x88461[0x270d*0x1+-0xe5e+-0x1*0x18a7],'pixelWidth':_0x88461[0xd0a+0x1d24+-0x1*0x2a25],'pixelHeight':_0x88461[0x869*0x1+-0xa1f*0x1+0x1c0],'pixelDepth':_0x88461[-0xcbc*0x2+-0x1e11*-0x1+-0x16*0x35],'numberOfArrayElements':_0x88461[-0x14f4+-0xdda+0x22da],'numberOfFaces':_0x88461[-0x30a+0x1ceb*0x1+-0x19d4],'numberOfMipmapLevels':_0x88461[0x14cf*-0x1+-0x1e8c+0x3369],'bytesOfKeyValueData':_0x88461[0x1*0xb1+0x1003*0x1+-0x10a5]};if(_0x1b83be['pixelDepth']>-0x13ff*0x1+-0x1ccd+0x30cd)return v['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x1b83be['numberOfAr'+'rayElement'+'s']!==0x1935+0x2640+-0x3f75)return v['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x5d20b5=IL[_0x1b83be['glInternal'+'Format']];if(_0x5d20b5===void(0x26bf+0x1ce8+-0x43a7))return v['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x1b83be['glInternal'+'Format']),null;let _0x491218=-0x225b*-0x1+-0x15c4+0x1*-0xc87+_0x1b83be['bytesOfKey'+'ValueData']/(0x180a+0x188d+-0x33d*0xf);const _0x3262c9=_0x1b83be['numberOfFa'+'ces']>0x5*0x332+0x10c*-0x14+0x1f*0x29,_0x439d11=[];for(let _0x42bdcb=0xb12+-0x2*0x133f+0x1b6c;_0x42bdcb<(_0x1b83be['numberOfMi'+'pmapLevels']||0x2539+-0x1*-0x7e7+-0x2d1f);_0x42bdcb++){const _0x2842f2=_0x88461[_0x491218++];_0x3262c9&&_0x439d11['push']([]);const _0x433017=_0x3262c9?_0x439d11[_0x42bdcb]:_0x439d11;for(let _0x9197c5=0x5f*0x56+0xcb4+-0x2c9e;_0x9197c5<(_0x3262c9?-0x12*0x1eb+0x19a7+-0x2f7*-0x3:0x763*0x1+0x2*-0x823+-0x239*-0x4);++_0x9197c5)_0x433017['push'](DL(_0x5d20b5,_0x5d2cf2,_0x491218*(-0x3*0x939+0x2*-0x11d4+0x3f57),_0x2842f2)),_0x491218+=_0x2842f2+(0x40*-0x4c+-0x31*0x53+-0x6*-0x5d1)>>-0xb4b+-0x6e6+0x1*0x1233;}return{'format':_0x5d20b5,'width':_0x1b83be['pixelWidth'],'height':_0x1b83be['pixelHeigh'+'t'],'levels':_0x439d11,'cubemap':_0x3262c9};}}const FL={'KHR_DF_MODEL_UASTC':0xa6};class OL extends Na{constructor(_0x459425,_0x194dfc){super(),this['maxRetries']=-0x2*-0x4c1+-0x57*0x41+0xc95*0x1,this['device']=_0x194dfc;}['load'](_0x502430,_0x422afa,_0xa3a74){le['fetchArray'+'Buffer'](_0x502430['load'],(_0x16ff51,_0x1ceeed)=>{_0x16ff51?_0x422afa(_0x16ff51,_0x1ceeed):this['parse'](_0x1ceeed,_0x502430,_0x422afa,_0xa3a74);},_0xa3a74,this['maxRetries']);}['open'](_0x1f0c4f,_0x2d40b8,_0x42e1d7,_0x57f316={}){const _0x158bd3=_0x57f316['srgb']?Cc(_0x2d40b8['format']):_0x2d40b8['format'],_0x18bcb0=new he(_0x42e1d7,{'name':_0x1f0c4f,'profilerHint':ur,'addressU':_0x2d40b8['cubemap']?ae:tt,'addressV':_0x2d40b8['cubemap']?ae:tt,'width':_0x2d40b8['width'],'height':_0x2d40b8['height'],'format':_0x158bd3,'cubemap':_0x2d40b8['cubemap'],'levels':_0x2d40b8['levels'],..._0x57f316});return _0x18bcb0['upload'](),_0x18bcb0;}['parse'](_0x1e449f,_0x50a88f,_0x258ce9,_0x5b654c){var _0x4fda45,_0x374b08,_0x2027bf;const _0x463bc7=new oy(_0x1e449f),_0x3e1f33=[_0x463bc7['readU32be'](),_0x463bc7['readU32be'](),_0x463bc7['readU32be']()];if(_0x3e1f33[0x191*0xc+0x5c*-0x44+0x5a4]!==-0x47aff3f+-0x40f*0x5234e1+-0xd0fdeca*-0x27||_0x3e1f33[0x691*0x1+-0x1*0x2587+0x1ef7]!==-0x1cbd76d3+0x3ffc0eeb+-0x30c675d||_0x3e1f33[0x1a3c+0xb*0x2ba+-0x3838]!==-0x97*0x175a6+0xbfb2*-0x2223+0x2776584a)return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x3f402f={'vkFormat':_0x463bc7['readU32'](),'typeSize':_0x463bc7['readU32'](),'pixelWidth':_0x463bc7['readU32'](),'pixelHeight':_0x463bc7['readU32'](),'pixelDepth':_0x463bc7['readU32'](),'layerCount':_0x463bc7['readU32'](),'faceCount':_0x463bc7['readU32'](),'levelCount':_0x463bc7['readU32'](),'supercompressionScheme':_0x463bc7['readU32']()},_0x7bbd8={'dfdByteOffset':_0x463bc7['readU32'](),'dfdByteLength':_0x463bc7['readU32'](),'kvdByteOffset':_0x463bc7['readU32'](),'kvdByteLength':_0x463bc7['readU32'](),'sgdByteOffset':_0x463bc7['readU64'](),'sgdByteLength':_0x463bc7['readU64']()},_0x51b5ee=[];for(let _0x58f0e8=-0xa*0x4f+0x4*0x4ea+-0x1092;_0x58f0e8<Math['max'](-0x1615+-0x3cc+0x19e2*0x1,_0x3f402f['levelCount']);++_0x58f0e8)_0x51b5ee['push']({'byteOffset':_0x463bc7['readU64'](),'byteLength':_0x463bc7['readU64'](),'uncompressedByteLength':_0x463bc7['readU64']()});if(_0x463bc7['readU32']()!==_0x7bbd8['kvdByteOff'+'set']-_0x7bbd8['dfdByteOff'+'set'])return v['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x463bc7['skip'](-0x1030+-0xa1f*0x3+-0x19*-0x1dd);const _0x2972ff=_0x463bc7['readU8']();_0x463bc7['skip'](_0x7bbd8['dfdByteLen'+'gth']-(-0x221e+0x1fbc+0x26b)),_0x463bc7['skip'](_0x7bbd8['kvdByteLen'+'gth']),_0x3f402f['supercompr'+'essionSche'+'me']===-0xb57+-0xac0+0x1618||_0x2972ff===FL['KHR_DF_MOD'+'EL_UASTC']?Fx(this['device'],_0x50a88f['load'],_0x1e449f,_0x258ce9,{'isGGGR':(((_0x2027bf=(_0x374b08=(_0x4fda45=_0x5b654c==null?void(-0x55a*0x2+-0x1402+-0xf5b*-0x2):_0x5b654c['file'])==null?void(-0x19d4+0x5*-0x3e1+0x2d39):_0x4fda45['variants'])==null?void(0x57*0x3a+0xed*0x7+-0x3*0x8bb):_0x374b08['basis'])==null?void(-0x7*-0x3bf+-0x1*0x86a+0x11cf*-0x1):_0x2027bf['opt'])&-0x190e+0x22*-0xb4+0x30fe)!==0x917+-0x19e7*-0x1+0x117f*-0x2,'isKTX2':!(0x1e*0xc1+0x2245+0x38e3*-0x1)})||_0x258ce9('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x5b654c['name']+']('+_0x5b654c['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x258ce9('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class kL extends Na{constructor(_0x5ea01e){super(),this['maxRetries']=0x3*0x1c1+-0x7b*0x4c+0x1f41;}['load'](_0x3c7a72,_0x45b33e,_0x4eb4c4){le['fetchArray'+'Buffer'](_0x3c7a72['load'],_0x45b33e,_0x4eb4c4,this['maxRetries']);}['open'](_0x2ec35a,_0x26191b,_0x3f583d,_0x4f953f={}){const _0x591976=new Uint32Array(_0x26191b,-0x607*-0x3+0x4*0x3ab+0x41*-0x81,-0x2f8+0xff9*0x2+-0x1cda),_0x7cdca4=_0x591976[0x12*0x226+-0x4c*-0x6d+0x12f*-0x3c],_0xadc04c=_0x591976[-0x32*-0x2b+0x6f1*0x4+0xc0d*-0x3],_0x368b67=Math['max'](_0x591976[-0xe*-0xd3+0x82d+-0x3c*0x54],0xeba+-0x5be+-0x8fb),_0x34ad15=_0x591976[-0xb*0x1f+-0x214c+-0x5*-0x6f1]===0x1*-0x1ee3+-0x2*-0x1163+-0x3df,_0x3c0dab=_0x591976[0x1*-0x7d4+-0x426+-0x7*-0x1b9],_0x945fa1=_0x591976[0x7d6+0x26d9+0x1*-0x2e99],_0x491ec1=_0x591976[-0x19bf+-0x2*0x12d1+-0x1*-0x3f7d]===0x1*-0x47ff+0xf038+0x55c7,_0x5cd188=0x492087c1*0x1+0xa3d*0x27dc1+-0x314db07a,_0x3a92bf=0x13bd889c+0x457540ec+-0x4*0x8f79c51,_0x47218d=-0x1359+0x1aee+-0x724,_0x2a09f5=0x195+-0x20b+-0x4e*-0x3,_0x387c34=0x5693765b+0x27db23*0xbf+0x156dd3*-0x321,_0x4f3078=-0x1553c0e3+-0x3*-0xaacbd58+0x2680bb2b,_0x4d9665=-0x7acc5b3+-0x86af3aa+0x414bebad,_0x4e0601=-0x7*-0xa7f6072+-0x4758f588+0x105ecab*0x2e,_0x36d944=0x14ac679d*0x3+0x24d9*0x1817c+-0x444d34a3;let _0x76c93=!(-0x19f0+-0xbb0+0x25a1),_0x52ea92=!(0x1589+-0x4e5+0x10a3*-0x1),_0x114f22=!(0xc4b+0x2611+-0x325b),_0x45cca8=!(0x4a*0x71+-0xfc8+-0x10e1),_0x4e0fe8=null,_0x2d5900=-0x19a2+0xf7c+0x1*0xa27,_0x235a4f;if(_0x34ad15?_0x3c0dab===_0x5cd188?(_0x4e0fe8=yc,_0x76c93=!(0xb5d+0xa25+0x1*-0x1582)):_0x3c0dab===_0x3a92bf?(_0x4e0fe8=Wo,_0x76c93=!(-0x1163+0x2f*0x5d+0x50*0x1)):_0x3c0dab===_0x47218d?(_0x4e0fe8=Je,_0x2d5900=0x24d3+0x4*0x8ac+-0x4781):_0x3c0dab===_0x2a09f5?(_0x4e0fe8=Ke,_0x2d5900=-0xef*0x10+0xfc4*0x2+0x84a*-0x2):_0x3c0dab===_0x387c34?(_0x4e0fe8=bc,_0x76c93=!(-0x153b+-0x1523+0xbb*0x3a),_0x52ea92=!(-0x11ef*-0x1+0x1f1f+0xd*-0x3c6)):_0x3c0dab===_0x4f3078||_0x3c0dab===_0x4d9665?(_0x4e0fe8=_0x3c0dab===_0x4f3078?qo:Xo,_0x76c93=!(-0x109f+0x1498+-0x3f9),_0x114f22=!(-0xf6d+0x221*0x11+0x1*-0x14c4)):(_0x3c0dab===_0x4e0601||_0x3c0dab===_0x36d944)&&(_0x4e0fe8=_0x3c0dab===_0x4e0601?wc:Tc,_0x76c93=!(-0x23c+-0xb61+0xd9d),_0x45cca8=!(0x19c4+0xe22+0x1*-0x27e6)):_0x945fa1===0x1*0xceb+-0x1*-0x1035+0x80*-0x3a&&(_0x4e0fe8=Se),!_0x4e0fe8)return v['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x2ec35a+'.'),_0x235a4f=new he(_0x3f583d,{'width':0x4,'height':0x4,'format':dr,'name':'dds-legacy'+'-empty'}),_0x235a4f;_0x235a4f=new he(_0x3f583d,{'name':_0x2ec35a,'profilerHint':ur,'addressU':_0x491ec1?ae:tt,'addressV':_0x491ec1?ae:tt,'width':_0x7cdca4,'height':_0xadc04c,'format':_0x4e0fe8,'cubemap':_0x491ec1,'mipmaps':_0x368b67>0x8b9+-0x4b2+0xa*-0x67,..._0x4f953f});let _0x2ed1f6=-0x1e*0xe7+0x30*-0x95+-0xf5*-0x3a;const _0x3eae40=_0x491ec1?-0x12b*0x1d+-0x1afb+-0x1e7*-0x20:-0x1*-0x15dc+-0x1014+-0x5c7*0x1;let _0x59702b;const _0x224aab=-0x95c+0x1feb+0x168b*-0x1,_0x5c8ac2=-0xffa+0x1bd9+-0xbdb,_0x58dfbc=_0x3c0dab===_0x5cd188?0x21c8+-0x647*0x1+-0x21d*0xd:0x133*-0x11+-0x1*0x1d54+0x31c7;let _0x1f8aec,_0x46150c,_0x2899f9;for(let _0x2ede21=0x1469+0x9f1+-0xa*0x309;_0x2ede21<_0x3eae40;_0x2ede21++){let _0x40726c=_0x7cdca4,_0x42411f=_0xadc04c;for(let _0x289ecc=0xb5d+0x1e1+-0xd3e;_0x289ecc<_0x368b67;_0x289ecc++){_0x76c93?_0x52ea92?_0x59702b=Math['floor']((_0x40726c+(0x414+0x244d+-0x285e))/(-0x94b+-0x1271*0x1+0x1bc0))*Math['floor']((_0x42411f+(0x3*0x7f7+0x1f09+0x11*-0x33b))/(0x1622+-0x20db*0x1+-0x1*-0xabd))*(-0x1ad+-0x4db+-0xe*-0x78):_0x114f22?_0x59702b=Math['max'](_0x40726c,-0xfee*-0x2+0x3d3+-0x33d*0xb)*Math['max'](_0x42411f,-0x2*0xc77+-0x1*0x17a8+-0x7*-0x6f2)/(-0x1*0x1fc4+0x14e6+0xae2):_0x45cca8?_0x59702b=Math['max'](_0x40726c,-0x1126*0x1+0x2638+-0x1*0x150a)*Math['max'](_0x42411f,-0x1a2b+-0x2e*0xcf+0x1*0x3f65)/(0x1c8c+-0x1*-0x136a+0x63*-0x7c):(_0x1f8aec=Math['floor']((_0x40726c+_0x224aab-(0x177d+0xe50+-0x76*0x52))/_0x224aab),_0x46150c=Math['floor']((_0x42411f+_0x5c8ac2-(-0x10ab*0x2+-0x96f+0x2ac6))/_0x5c8ac2),_0x2899f9=_0x1f8aec*_0x46150c,_0x59702b=_0x2899f9*_0x58dfbc):_0x59702b=_0x40726c*_0x42411f*(-0x2*0x841+0x1242+0x1bc*-0x1);const _0x46c721=_0x4e0fe8===Ke?new Float32Array(_0x26191b,_0x2ed1f6,_0x59702b):_0x4e0fe8===Je?new Uint16Array(_0x26191b,_0x2ed1f6,_0x59702b):new Uint8Array(_0x26191b,_0x2ed1f6,_0x59702b);_0x491ec1?(_0x235a4f['_levels'][_0x289ecc]||(_0x235a4f['_levels'][_0x289ecc]=[]),_0x235a4f['_levels'][_0x289ecc][_0x2ede21]=_0x46c721):_0x235a4f['_levels'][_0x289ecc]=_0x46c721,_0x2ed1f6+=_0x59702b*_0x2d5900,_0x40726c=Math['max'](_0x40726c*(0x2*-0x416+-0x11bc*0x1+-0x33d*-0x8+0.5),0x2*0x8ef+0x1a1*0x2+0x1*-0x151f),_0x42411f=Math['max'](_0x42411f*(0x1779+-0x188f+0x2*0x8b+0.5),-0x391*0x7+-0x2f*-0x91+-0x9*0x2f);}}return _0x235a4f['upload'](),_0x235a4f;}}class BL extends Na{constructor(_0x371e53){super(),this['maxRetries']=0xc*0x164+-0x2709+0x773*0x3;}['load'](_0xd08bd5,_0x26dfd2,_0x1a46ec){le['fetchArray'+'Buffer'](_0xd08bd5['load'],_0x26dfd2,_0x1a46ec,this['maxRetries']);}['open'](_0x3e921e,_0x1e9ad,_0x2efa3d,_0x54c901={}){const _0x2de0aa=this['parse'](_0x1e9ad);if(!_0x2de0aa)return null;const _0x27d415=new he(_0x2efa3d,{'name':_0x3e921e,'profilerHint':ur,'addressU':tt,'addressV':ae,'minFilter':de,'magFilter':de,'width':_0x2de0aa['width'],'height':_0x2de0aa['height'],'levels':_0x2de0aa['levels'],'format':Se,'type':ap,'mipmaps':!(-0xd27+-0x4*-0x7b5+-0x11ac),..._0x54c901});return _0x27d415['upload'](),_0x27d415;}['parse'](_0x4709dd){const _0x2ce8e0=new oy(_0x4709dd);if(!_0x2ce8e0['readLine']()['startsWith']('#?RADIANCE'))return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x113e24={};for(;;){const _0x311689=_0x2ce8e0['readLine']();if(_0x311689['length']===0xb*-0x373+0x62d+0x1fc4)break;{const _0x3e0a4f=_0x311689['split']('=');_0x3e0a4f['length']===0x3d1*-0x8+-0x202*-0x1+-0x8*-0x391&&(_0x113e24[_0x3e0a4f[-0xfe7+0xf25*-0x2+-0x93d*-0x5]]=_0x3e0a4f[0x1*-0x17cb+0x1*0x125b+0x7*0xc7]);}}if(!_0x113e24['hasOwnProp'+'erty']('FORMAT'))return v['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x2714cc=_0x2ce8e0['readLine']()['split']('\x20');if(_0x2714cc['length']!==-0x8f+0x18ad*0x1+-0x181a)return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x3223e2=parseInt(_0x2714cc[0x1*-0x16bd+-0x14c5+-0xe81*-0x3],-0x1181*-0x1+0xa2f+0x1ba6*-0x1),_0x2c87b8=parseInt(_0x2714cc[-0x1142+-0x865+-0x12*-0x16d],-0x1ea5+0x25e*0x7+-0x1*-0xe1d),_0x35f749=this['_readPixel'+'s'](_0x2ce8e0,_0x2c87b8,_0x3223e2,_0x2714cc[0x1ef6+0x2199+-0x408f]==='-Y');return _0x35f749?{'width':_0x2c87b8,'height':_0x3223e2,'levels':[_0x35f749]}:null;}['_readPixel'+'s'](_0x2ada4b,_0x450523,_0x13bb8b,_0x19efc9){if(_0x450523<0x1*-0x551+0x17ac+-0x1253||_0x450523>0xb5*0x104+0xb586+-0xed5b*0x1)return this['_readPixel'+'sFlat'](_0x2ada4b,_0x450523,_0x13bb8b);const _0x10cdf0=[0x19be+-0x17f5*-0x1+0x1*-0x31b3,-0x1afd+0x231d+-0x820,0x23cd+0xa*0x35+-0x25df,0x2*-0xd8d+-0x250a+0x4024];if(_0x2ada4b['readArray'](_0x10cdf0),_0x10cdf0[0xec3+-0x1027+-0xb2*-0x2]!==-0x1a5f+0x1c9a+-0x239*0x1||_0x10cdf0[0x1d62+-0xcd8+0x33*-0x53]!==-0x192f+0x118d+0x7a4||(_0x10cdf0[0xf*-0xe8+-0x7aa+0x1544]&-0x2*-0x75+-0x6*-0x1+-0x2*0x38)!==-0x546+0x51c+0x2a)return _0x2ada4b['skip'](-(0x344+0xa8b*-0x2+0x11d6)),this['_readPixel'+'sFlat'](_0x2ada4b,_0x450523,_0x13bb8b);const _0x9891a7=new ArrayBuffer(_0x450523*_0x13bb8b*(-0x24cf+0x1*-0x1181+0x3654)),_0x417907=new Uint8Array(_0x9891a7);let _0x3db322=_0x19efc9?0xaf6*-0x1+-0x1*0x2414+0x2f0a:_0x450523*(-0x1927+-0xbb6+-0x3*-0xc4b)*(_0x13bb8b-(0x14d7+0x9e2+0x2*-0xf5c)),_0xd0a194,_0x5b15dd,_0x49f5a8,_0x6e3161,_0x43d8cd,_0x4a2071;for(_0x5b15dd=0x1*-0x1059+-0xb82*-0x1+0x4d7;_0x5b15dd<_0x13bb8b;++_0x5b15dd){if(_0x5b15dd&&_0x2ada4b['readArray'](_0x10cdf0),(_0x10cdf0[-0xf8c*0x2+-0x2*0xb0a+0x6*0x8dd]<<0x1f1c+0x496*0x4+-0x18b6*0x2)+_0x10cdf0[0x103d+0x1980+-0x29ba]!==_0x450523)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x6e3161=0x860+-0x255+-0x60b;_0x6e3161<0x1466+0xe*-0x1+-0x1454;++_0x6e3161)for(_0xd0a194=0xd3*-0x1b+-0xd55*0x1+0x2396;_0xd0a194<_0x450523;)if(_0x43d8cd=_0x2ada4b['readU8'](),_0x43d8cd>0x22e+0x1ae5+-0x23*0xd1){if(_0x43d8cd-=0x1ac9+-0x1*-0xb02+0x1*-0x254b,_0xd0a194+_0x43d8cd>_0x450523)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x4a2071=_0x2ada4b['readU8'](),_0x49f5a8=0x11a9+-0x71*-0x17+0x50*-0x59;_0x49f5a8<_0x43d8cd;++_0x49f5a8)_0x417907[_0x3db322+_0x6e3161+(0xb29*-0x2+-0xc58+0x182*0x17)*_0xd0a194++]=_0x4a2071;}else{if(_0x43d8cd===0x1af8+-0x20c*0xc+-0x268||_0xd0a194+_0x43d8cd>_0x450523)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x49f5a8=0x2*-0x9d6+0x23ab+-0xf*0x111;_0x49f5a8<_0x43d8cd;++_0x49f5a8)_0x417907[_0x3db322+_0x6e3161+(0xe*0x221+-0x11e6+-0x2*0x5f2)*_0xd0a194++]=_0x2ada4b['readU8']();}_0x3db322+=_0x450523*(-0xfcb*0x1+0xc8*0x18+-0x2f1*0x1)*(_0x19efc9?-0x1b48+0x4a0+0x1*0x16a9:-(-0x1b83+0x24cb*-0x1+0x404f));}return _0x417907;}['_readPixel'+'sFlat'](_0x1f39cc,_0x31cbd1,_0x2e596e){return _0x1f39cc['remainingB'+'ytes']===_0x31cbd1*_0x2e596e*(-0x5e*-0x1f+0x2278*-0x1+0x2*0xb8d)?new Uint8Array(_0x1f39cc['arraybuffe'+'r'],_0x1f39cc['offset']):null;}}const $g={'repeat':tt,'clamp':ae,'mirror':Of},Wg={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},NL={'default':Di,'rgbm':on,'rgbe':ap,'rgbp':Io,'swizzleGGGR':op},zL=function(_0x4a365a){const _0x30e46c=Mi['calcMipLev'+'elsCount'](_0x4a365a['_width'],_0x4a365a['_height']),_0x14181c=function(_0x24df4c){return _0x24df4c instanceof HTMLCanvasElement||_0x24df4c instanceof HTMLImageElement||_0x24df4c instanceof HTMLVideoElement;};if(!(_0x4a365a['_format']===Se||_0x4a365a['_format']===Ke)||_0x4a365a['_volume']||_0x4a365a['_compresse'+'d']||_0x4a365a['_levels']['length']===0x1350+0x2603+0xb*-0x536||_0x4a365a['_levels']['length']===_0x30e46c||_0x14181c(_0x4a365a['_cubemap']?_0x4a365a['_levels'][0x49a+0x449*0x7+-0x2299][0xa90+-0x68*-0x8+-0xdd0]:_0x4a365a['_levels'][0x29*-0xcb+0x1*0x1196+0xeed]))return;const _0x1e1c66=function(_0x5c78ae,_0x377f12,_0xff9130){const _0x52df80=Math['max'](0x10*0x4c+0xaac+0x1*-0xf6b,_0x5c78ae>>-0x1576*-0x1+-0xf5*0x7+-0xec2),_0x498342=Math['max'](-0xee6*-0x1+0x4c1+-0x9d3*0x2,_0x377f12>>-0x1*0xcfc+-0x2017+0x2d14),_0x9c7dfe=new _0xff9130['constructo'+'r'](_0x52df80*_0x498342*(0xf*-0x27+-0x233d+0x258a)),_0x11ac94=Math['floor'](_0x5c78ae/_0x52df80),_0x3372cd=Math['floor'](_0x377f12/_0x498342),_0xab0650=_0x11ac94*_0x3372cd;for(let _0x1e3fe2=-0x9c6+0x24b5+0x1*-0x1aef;_0x1e3fe2<_0x498342;++_0x1e3fe2)for(let _0x36c284=0x1c*-0x1a+0x4eb+-0x213;_0x36c284<_0x52df80;++_0x36c284)for(let _0x4f23f1=0xa5+0x173b+0x20*-0xbf;_0x4f23f1<-0x1*0x19fd+-0x24a4+0x3ea5;++_0x4f23f1){let _0x3b3eb5=-0x2385+0x1*0x125f+0x1126;for(let _0x4a7728=0x5b*0x3+0x509*0x2+-0xb23*0x1;_0x4a7728<_0x3372cd;++_0x4a7728)for(let _0x14c33d=-0x172f+0xdee+-0x941*-0x1;_0x14c33d<_0x11ac94;++_0x14c33d)_0x3b3eb5+=_0xff9130[(_0x36c284*_0x11ac94+_0x14c33d+(_0x1e3fe2*_0x3372cd+_0x4a7728)*_0x5c78ae)*(-0x2*0xe52+0x14b4+0x7f4)+_0x4f23f1];_0x9c7dfe[(_0x36c284+_0x1e3fe2*_0x52df80)*(-0x1e86+-0x2054+0xd*0x4d6)+_0x4f23f1]=_0x3b3eb5/_0xab0650;}return _0x9c7dfe;};for(let _0x188b25=_0x4a365a['_levels']['length'];_0x188b25<_0x30e46c;++_0x188b25){const _0x507c7f=Math['max'](-0x5*0x29d+-0x2*-0xe45+0x168*-0xb,_0x4a365a['_width']>>_0x188b25-(-0x283+0xcf*-0x26+0x213e)),_0x4fbff2=Math['max'](0x1605+-0x268a+0x1086,_0x4a365a['_height']>>_0x188b25-(-0x1*0x2511+-0xade+0x2ff0));if(_0x4a365a['_cubemap']){const _0x2dc0b2=[];for(let _0x309dbe=0x22c5+-0x3*0x6e2+0xf1*-0xf;_0x309dbe<0x1415+0x75d*0x4+-0x3183;++_0x309dbe)_0x2dc0b2['push'](_0x1e1c66(_0x507c7f,_0x4fbff2,_0x4a365a['_levels'][_0x188b25-(0xf8*-0x11+0x119*-0x2+0x12ab*0x1)][_0x309dbe]));_0x4a365a['_levels']['push'](_0x2dc0b2);}else _0x4a365a['_levels']['push'](_0x1e1c66(_0x507c7f,_0x4fbff2,_0x4a365a['_levels'][_0x188b25-(0x2*-0x473+-0x1993*0x1+0x113d*0x2)]));}_0x4a365a['_levelsUpd'+'ated']=_0x4a365a['_cubemap']?[[!(-0x1fd*-0xe+0x749+-0x231f),!(0x17+0x38c*0x9+-0x2003),!(-0x1f55+0x5*-0x25c+0x2b21),!(0x19*0x20+0x1947+-0x1c67),!(0x9ee+-0x6*0x51+0x404*-0x2),!(-0x9f2+-0x1*-0x246f+-0x1a7d)]]:[!(-0x111*0x1c+0x1f26+-0x14a)];};class UL extends Ne{constructor(_0x4f4fb4){super(_0x4f4fb4,'texture');const _0x307d76=_0x4f4fb4['assets'],_0x1826a7=_0x4f4fb4['graphicsDe'+'vice'];this['_device']=_0x1826a7,this['_assets']=_0x307d76,this['imgParser']=new RL(_0x307d76,_0x1826a7),this['parsers']={'dds':new kL(_0x307d76),'ktx':new LL(_0x307d76),'ktx2':new OL(_0x307d76,_0x1826a7),'basis':new EL(_0x307d76,_0x1826a7),'hdr':new BL(_0x307d76)};}set['crossOrigi'+'n'](_0x25bc81){this['imgParser']['crossOrigi'+'n']=_0x25bc81;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0xa7fdda){this['imgParser']['maxRetries']=_0xa7fdda;for(const _0x429f0a in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x429f0a)&&(this['parsers'][_0x429f0a]['maxRetries']=_0xa7fdda);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x11195b){return _0x11195b['indexOf']('?')>=0x2*0xf16+0xb8*0x17+-0x2*0x175a?_0x11195b['split']('?')[0xd4d+-0x1*-0x93f+-0x168c]:_0x11195b;}['_getParser'](_0x154297){const _0x552bd3=fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x154297))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x552bd3]||this['imgParser'];}['_getTextur'+'eOptions'](_0x4ce968){var _0x3455d3;const _0x2a5382={'profilerHint':ur};if(_0x4ce968){((_0x3455d3=_0x4ce968['name'])==null?void(-0x1d61+-0x10*-0xcf+0x3*0x57b):_0x3455d3['length'])>0x228a+-0x4*0x16a+0x2*-0xe71&&(_0x2a5382['name']=_0x4ce968['name']);const _0x4a0453=_0x4ce968['data'];_0x4a0453['hasOwnProp'+'erty']('minfilter')&&(_0x2a5382['minFilter']=Wg[_0x4a0453['minfilter']]),_0x4a0453['hasOwnProp'+'erty']('magfilter')&&(_0x2a5382['magFilter']=Wg[_0x4a0453['magfilter']]),_0x4a0453['hasOwnProp'+'erty']('addressu')&&(_0x2a5382['addressU']=$g[_0x4a0453['addressu']]),_0x4a0453['hasOwnProp'+'erty']('addressv')&&(_0x2a5382['addressV']=$g[_0x4a0453['addressv']]),_0x4a0453['hasOwnProp'+'erty']('mipmaps')&&(_0x2a5382['mipmaps']=_0x4a0453['mipmaps']),_0x4a0453['hasOwnProp'+'erty']('anisotropy')&&(_0x2a5382['anisotropy']=_0x4a0453['anisotropy']),_0x4a0453['hasOwnProp'+'erty']('flipY')&&(_0x2a5382['flipY']=!!_0x4a0453['flipY']),_0x4a0453['hasOwnProp'+'erty']('srgb')&&(_0x2a5382['srgb']=!!_0x4a0453['srgb']),_0x4a0453['hasOwnProp'+'erty']('type')?_0x2a5382['type']=NL[_0x4a0453['type']]:_0x4a0453['hasOwnProp'+'erty']('rgbm')&&_0x4a0453['rgbm']?_0x2a5382['type']=on:_0x4ce968['file']&&(_0x4ce968['file']['opt']&-0x2473+-0x26f0+0x4b6b)!==0x1676+0x4*-0x6ab+0x436&&(_0x2a5382['type']=op);}return _0x2a5382;}['load'](_0x3024ca,_0x4cf4bb,_0x2d1ca2){typeof _0x3024ca=='string'&&(_0x3024ca={'load':_0x3024ca,'original':_0x3024ca}),this['_getParser'](_0x3024ca['original'])['load'](_0x3024ca,_0x4cf4bb,_0x2d1ca2);}['open'](_0xcf9576,_0x52f65a,_0xcfe1a8){if(!_0xcf9576)return;const _0x56a94f=this['_getTextur'+'eOptions'](_0xcfe1a8);let _0xda8885=this['_getParser'](_0xcf9576)['open'](_0xcf9576,_0x52f65a,this['_device'],_0x56a94f);return _0xda8885===null?_0xda8885=new he(this['_device'],{'width':0x4,'height':0x4,'format':dr}):(zL(_0xda8885),_0x52f65a['unswizzled'+'GGGR']&&(_0xcfe1a8['file']['variants']['basis']['opt']&=-(-0x985+0xa55+-0xc7*0x1))),_0xda8885;}['patch'](_0x3148d1,_0x514637){const _0x313def=_0x3148d1['resource'];if(!_0x313def)return;const _0x19d85c=this['_getTextur'+'eOptions'](_0x3148d1);for(const _0x1a16c5 of Object['keys'](_0x19d85c))_0x313def[_0x1a16c5]=_0x19d85c[_0x1a16c5];}}const VL='inline',GL='immersive-'+'vr',Ao='immersive-'+'ar',qg='viewer',HL='left',$L='cpu-optimi'+'zed',Bx='gpu-optimi'+'zed',Nx='luminance-'+'alpha',zx='unsigned-s'+'hort',Ux='float32';class WL{constructor(_0x3c9691){c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),this['_manager']=_0x3c9691;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x38eba2){!this['_supported']||this['_manager']['active']||(this['_root']=_0x38eba2);}get['root'](){return this['_root'];}}const ih=[],Xg=[];class Ef extends ce{constructor(_0x43a708,_0x36872a,_0x644059,_0x26b54c=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x43a708,this['_xrHitTest'+'Source']=_0x36872a,this['_transient']=_0x644059,this['_inputSour'+'ce']=_0x26b54c);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x12fd33=this['manager']['hitTest']['sources'],_0xa23f3c=_0x12fd33['indexOf'](this);_0xa23f3c!==-(0x1*0x23e9+-0x2*0x133d+-0x5e*-0x7)&&_0x12fd33['splice'](_0xa23f3c,0x869*0x2+0x24e6+-0x35b7),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x5a9183){if(this['_transient']){const _0x105160=_0x5a9183['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x4a23e3=0x2*0xb0f+0x35b*-0x4+-0x8b2;_0x4a23e3<_0x105160['length'];_0x4a23e3++){const _0x4b0a74=_0x105160[_0x4a23e3];if(!_0x4b0a74['results']['length'])continue;let _0x3edaf9;_0x4b0a74['inputSourc'+'e']&&(_0x3edaf9=this['manager']['input']['_getByInpu'+'tSource'](_0x4b0a74['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x4b0a74['results'],_0x3edaf9);}}else{const _0x711ff=_0x5a9183['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x711ff['length'])return;this['updateHitR'+'esults'](_0x711ff);}}['updateHitR'+'esults'](_0x8c9a8e,_0x51ba11){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x51ba11)return;const _0xc234fd=ih['pop']()??new T();_0x51ba11?_0xc234fd['copy'](_0x51ba11['getOrigin']()):_0xc234fd['copy'](this['manager']['camera']['getPositio'+'n']());let _0x336bc6=(0x10*-0xb9+0x3d3+0x2*0x3df)/(0x46c*0x7+0x1d59+-0x3c4d),_0x48cbcf=null;const _0x5057ee=ih['pop']()??new T(),_0x1352fa=Xg['pop']()??new se();for(let _0x34cae9=0x2f*-0x2c+0x1abc+0x12a8*-0x1;_0x34cae9<_0x8c9a8e['length'];_0x34cae9++){const _0x5ba288=_0x8c9a8e[_0x34cae9]['getPose'](this['manager']['_reference'+'Space']),_0xb90d50=_0xc234fd['distance'](_0x5ba288['transform']['position']);_0xb90d50>=_0x336bc6||(_0x336bc6=_0xb90d50,_0x48cbcf=_0x8c9a8e[_0x34cae9],_0x5057ee['copy'](_0x5ba288['transform']['position']),_0x1352fa['copy'](_0x5ba288['transform']['orientatio'+'n']));}this['fire']('result',_0x5057ee,_0x1352fa,_0x51ba11||this['_inputSour'+'ce'],_0x48cbcf),this['manager']['hitTest']['fire']('result',this,_0x5057ee,_0x1352fa,_0x51ba11||this['_inputSour'+'ce'],_0x48cbcf),ih['push'](_0xc234fd),ih['push'](_0x5057ee),Xg['push'](_0x1352fa);}}c(Ef,'EVENT_REMO'+'VE','remove'),c(Ef,'EVENT_RESU'+'LT','result');class kr extends ce{constructor(_0x5389b5){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(-0x25a5+-0x1*-0x22bd+0x1*0x2e9)),c(this,'_checkingA'+'vailabilit'+'y',!(0x2133+0x164b+-0x5*0xb19)),c(this,'sources',[]),(this['manager']=_0x5389b5,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x26cba7=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0xdd*-0x8+-0x1*-0x35f+0x38a);if(!_0x26cba7)return;this['_available']=_0x26cba7,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x1*0x2324+0x2277+0xad),this['manager']['session']['requestRef'+'erenceSpac'+'e'](qg)['then'](_0x26b0a8=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x26b0a8})['then'](_0x4b5af4=>{_0x4b5af4['cancel'](),this['manager']['active']&&(this['_available']=!(-0x21e6+-0x12f6+0x34dc),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x1105*-0x1+0x39*0x5+-0x1221);for(let _0x17e385=-0x2361*0x1+-0x1f*0x19+0x8*0x4cd;_0x17e385<this['sources']['length'];_0x17e385++)this['sources'][_0x17e385]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x1a7d1d={}){var _0x1f531f,_0x13d458;if(!this['_supported']){(_0x1f531f=_0x1a7d1d['callback'])==null||_0x1f531f['call'](_0x1a7d1d,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x13d458=_0x1a7d1d['callback'])==null||_0x13d458['call'](_0x1a7d1d,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x1a7d1d['profile']&&!_0x1a7d1d['spaceType']&&(_0x1a7d1d['spaceType']=qg);let _0x33c546;const _0x53459d=_0x1a7d1d['offsetRay'];if(_0x53459d){const _0xd0929c=new DOMPoint(_0x53459d['origin']['x'],_0x53459d['origin']['y'],_0x53459d['origin']['z'],0x4*-0x8dd+0x45c+-0x1*-0x1f19),_0x25275b=new DOMPoint(_0x53459d['direction']['x'],_0x53459d['direction']['y'],_0x53459d['direction']['z'],-0x1*0x1146+-0x165a+0x27a0);_0x33c546=new XRRay(_0xd0929c,_0x25275b);}const _0x6b86ee=_0x1a7d1d['callback'];_0x1a7d1d['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x1a7d1d['spaceType'])['then'](_0x3c551b=>{if(!this['manager']['session']){const _0x12dbfc=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x6b86ee&&_0x6b86ee(_0x12dbfc),this['fire']('error',_0x12dbfc);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x3c551b,'entityTypes':_0x1a7d1d['entityType'+'s']||void(0x1aff+0x1100+-0x2bff),'offsetRay':_0x33c546})['then'](_0x1c5760=>{this['_onHitTest'+'Source'](_0x1c5760,!(-0xcb5+0x1b81*-0x1+-0x91*-0x47),_0x1a7d1d['inputSourc'+'e'],_0x6b86ee);})['catch'](_0x475bb7=>{_0x6b86ee&&_0x6b86ee(_0x475bb7),this['fire']('error',_0x475bb7);});})['catch'](_0x3660e1=>{_0x6b86ee&&_0x6b86ee(_0x3660e1),this['fire']('error',_0x3660e1);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x1a7d1d['profile'],'entityTypes':_0x1a7d1d['entityType'+'s']||void(0x391*0x1+-0x5ce*0x1+-0x3*-0xbf),'offsetRay':_0x33c546})['then'](_0x3841db=>{this['_onHitTest'+'Source'](_0x3841db,!(-0xe15+0x1f55+-0x1140*0x1),_0x1a7d1d['inputSourc'+'e'],_0x6b86ee);})['catch'](_0xc2f7de=>{_0x6b86ee&&_0x6b86ee(_0xc2f7de),this['fire']('error',_0xc2f7de);});}['_onHitTest'+'Source'](_0x3f2284,_0x284ce4,_0x236b04,_0xb4e1a1){if(!this['manager']['session']){_0x3f2284['cancel']();const _0x4019b0=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0xb4e1a1&&_0xb4e1a1(_0x4019b0),this['fire']('error',_0x4019b0);return;}const _0x1f8990=new Ef(this['manager'],_0x3f2284,_0x284ce4,_0x236b04??null);this['sources']['push'](_0x1f8990),_0xb4e1a1&&_0xb4e1a1(null,_0x1f8990),this['fire']('add',_0x1f8990);}['update'](_0x489fb1){if(this['_available']){for(let _0x19e3ec=0x1358+0x193e+-0x2c96;_0x19e3ec<this['sources']['length'];_0x19e3ec++)this['sources'][_0x19e3ec]['update'](_0x489fb1);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(kr,'EVENT_AVAI'+'LABLE','available'),c(kr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(kr,'EVENT_ADD','add'),c(kr,'EVENT_REMO'+'VE','remove'),c(kr,'EVENT_RESU'+'LT','result'),c(kr,'EVENT_ERRO'+'R','error');class Cf extends ce{constructor(_0x6abdbf,_0x41f4dd){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',-0x976+-0x9*-0x422+-0x1bbc),c(this,'_trackable',!(-0x1*-0xa+0xfbd+0x2*-0x7e3)),c(this,'_tracking',!(0xa*0x4b+-0x779*-0x2+-0x11df)),c(this,'_emulated',!(0x43c*0x3+0x2091+-0x2*0x16a2)),c(this,'_pose',null),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_image']=_0x6abdbf,this['_width']=_0x41f4dd);}get['image'](){return this['_image'];}set['width'](_0x50acff){this['_width']=_0x50acff;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x4094d2=>(this['_bitmap']=_0x4094d2,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(Cf,'EVENT_TRAC'+'KED','tracked'),c(Cf,'EVENT_UNTR'+'ACKED','untracked');class Vx extends ce{constructor(_0x2327f8){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(-0x30*-0x10+-0xe95+0xb96)),c(this,'_images',[]),(this['_manager']=_0x2327f8,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0xce2942,_0x2cf0f3){if(!this['_supported']||this['_manager']['active'])return null;const _0x1c636b=new Cf(_0xce2942,_0x2cf0f3);return this['_images']['push'](_0x1c636b),_0x1c636b;}['remove'](_0x2449b8){if(this['_manager']['active'])return;const _0x29df1a=this['_images']['indexOf'](_0x2449b8);_0x29df1a!==-(0x6b6*0x2+-0x6e9*0x1+-0xe*0x77)&&(_0x2449b8['destroy'](),this['_images']['splice'](_0x29df1a,0x727*-0x1+-0x14e5+-0x1c0d*-0x1));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x415e06=>{this['_available']=!(0x146b+-0x1*0x75b+-0xd10);for(let _0x377d32=-0x8*-0x197+-0xc*0x285+0xec*0x13;_0x377d32<_0x415e06['length'];_0x377d32++)this['_images'][_0x377d32]['_trackable']=_0x415e06[_0x377d32]==='trackable';})['catch'](_0x19ee1f=>{this['_available']=!(-0x1666+-0x1c*0x6c+0x2237*0x1),this['fire']('error',_0x19ee1f);});}['_onSession'+'End'](){this['_available']=!(-0x1*0x246f+-0x269d+-0x1*-0x4b0d);for(let _0x3b5e98=0x10*0x1ba+-0x6*-0x1ac+-0x25a8;_0x3b5e98<this['_images']['length'];_0x3b5e98++){const _0x22d427=this['_images'][_0x3b5e98];_0x22d427['_pose']=null,_0x22d427['_measuredW'+'idth']=0x21dc+-0x370+-0x1e6c,_0x22d427['_tracking']&&(_0x22d427['_tracking']=!(0x5*-0x57+-0x2440+-0x56c*-0x7),_0x22d427['fire']('untracked'));}}['prepareIma'+'ges'](_0x5e9f39){this['_images']['length']?Promise['all'](this['_images']['map'](_0x118bc1=>_0x118bc1['prepare']()))['then'](_0x17754b=>{_0x5e9f39(null,_0x17754b);})['catch'](_0x502236=>{_0x5e9f39(_0x502236,null);}):_0x5e9f39(null,null);}['update'](_0x2ee061){if(!this['_available'])return;const _0x2ce527=_0x2ee061['getImageTr'+'ackingResu'+'lts'](),_0x53dc1e={};for(let _0x252494=0x14c*0x1d+0x106b+0x3607*-0x1;_0x252494<_0x2ce527['length'];_0x252494++){_0x53dc1e[_0x2ce527[_0x252494]['index']]=_0x2ce527[_0x252494];const _0x43c328=this['_images'][_0x2ce527[_0x252494]['index']];_0x43c328['_emulated']=_0x2ce527[_0x252494]['trackingSt'+'ate']==='emulated',_0x43c328['_measuredW'+'idth']=_0x2ce527[_0x252494]['measuredWi'+'dthInMeter'+'s'],_0x43c328['_pose']=_0x2ee061['getPose'](_0x2ce527[_0x252494]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x5a0b3a=-0x13d3+0x2c*-0xbf+0x34a7*0x1;_0x5a0b3a<this['_images']['length'];_0x5a0b3a++)this['_images'][_0x5a0b3a]['_tracking']&&!_0x53dc1e[_0x5a0b3a]?(this['_images'][_0x5a0b3a]['_tracking']=!(0x1475*-0x1+-0x18be+0x2d34),this['_images'][_0x5a0b3a]['fire']('untracked')):!this['_images'][_0x5a0b3a]['_tracking']&&_0x53dc1e[_0x5a0b3a]&&(this['_images'][_0x5a0b3a]['_tracking']=!(-0x1eb*0x9+0x133*-0x1+0x11*0x116),this['_images'][_0x5a0b3a]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Vx,'EVENT_ERRO'+'R','error');class qL{constructor(_0x305fe2,_0x2808d0){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x305fe2,this['_hand']=_0x2808d0,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const jg=ye['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Gx={};for(let l=0x24b0+0x203b*0x1+-0x44eb;l<jg['length'];l++)Gx[jg[l]]=!(0x15d4+-0x4*0x139+-0x10f0);class Yg{constructor(_0x9c11eb,_0x26153c,_0x5b5351,_0x527635=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_dirtyLoca'+'l',!(-0x1*0x5b8+-0x232b+0x28e3)),(this['_index']=_0x9c11eb,this['_id']=_0x26153c,this['_hand']=_0x5b5351,this['_finger']=_0x527635,this['_wrist']=_0x26153c==='wrist',this['_tip']=this['_finger']&&!!Gx[_0x26153c]);}['update'](_0x495551){this['_dirtyLoca'+'l']=!(0x63e+0x1365+-0x19a3),this['_radius']=_0x495551['radius'],this['_localPosi'+'tion']['copy'](_0x495551['transform']['position']),this['_localRota'+'tion']['copy'](_0x495551['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x1*-0x886+0x413*0x3+0x1*-0x14be),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x289d3a=this['_hand']['_manager']['camera']['parent'];_0x289d3a?this['_worldTran'+'sform']['mul2'](_0x289d3a['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x16*-0x99+0x9d*-0x28+0xb62+0.005;}}let Sh=[];const Ir=new T(),rh=new T(),Kg=new T();ye['browser']&&window['XRHand']&&(Sh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Mf extends ce{constructor(_0x2a05d5){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(-0x65*0x47+0x1936+0x2ce)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x5262c1=_0x2a05d5['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x2a05d5['_manager'],this['_inputSour'+'ce']=_0x2a05d5,_0x5262c1['get']('wrist')){const _0x5801f5=new Yg(0x1632+-0x41c+-0x1216,'wrist',this,null);this['_wrist']=_0x5801f5,this['_joints']['push'](_0x5801f5),this['_jointsByI'+'d']['wrist']=_0x5801f5;}for(let _0x4759b3=-0xd*0x90+0xeb4+-0x1d9*0x4;_0x4759b3<Sh['length'];_0x4759b3++){const _0x162238=new qL(_0x4759b3,this);for(let _0x14d198=0x20fb*0x1+-0x25d5+0x4da;_0x14d198<Sh[_0x4759b3]['length'];_0x14d198++){const _0x50a02c=Sh[_0x4759b3][_0x14d198];if(!_0x5262c1['get'](_0x50a02c))continue;const _0x394448=new Yg(_0x14d198,_0x50a02c,this,_0x162238);this['_joints']['push'](_0x394448),this['_jointsByI'+'d'][_0x50a02c]=_0x394448,_0x394448['tip']&&(this['_tips']['push'](_0x394448),_0x162238['_tip']=_0x394448),_0x162238['_joints']['push'](_0x394448);}}}['update'](_0x58f6cb){const _0x591c49=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x46bd60=-0x1bb8+0xa19+0x119f;_0x46bd60<this['_joints']['length'];_0x46bd60++){const _0x31d9c3=this['_joints'][_0x46bd60],_0xf94597=_0x591c49['hand']['get'](_0x31d9c3['_id']);if(_0xf94597){let _0x69d1eb;if(_0x58f6cb['session']['visibility'+'State']!=='hidden'&&(_0x69d1eb=_0x58f6cb['getJointPo'+'se'](_0xf94597,this['_manager']['_reference'+'Space'])),_0x69d1eb)_0x31d9c3['update'](_0x69d1eb),_0x31d9c3['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x91*-0x11+-0x20fb+0x2a9c),this['fire']('tracking'));else{if(_0x31d9c3['wrist']){this['_tracking']&&(this['_tracking']=!(-0xdb2+0x68f+0x724),this['fire']('trackinglo'+'st'));break;}}}}const _0xa3e319=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x17c701=this['_jointsByI'+'d']['thumb-tip'],_0x42eac7=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0xa406a7=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x570c41=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x70c0f9=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0xa3e319&&_0x17c701&&_0x42eac7&&_0xa406a7&&_0x570c41&&_0x70c0f9){this['_inputSour'+'ce']['_dirtyRay']=!(-0xa96+0x7*-0x3be+-0xb*-0x358),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x17c701['_localPosi'+'tion'],_0xa406a7['_localPosi'+'tion'],-0x7ca+0xe8*0xf+0x2e7*-0x2+0.5);let _0x31f28d=_0xa3e319,_0x4466e1=_0x70c0f9;if(this['_inputSour'+'ce']['handedness']===HL){const _0x3eb5a1=_0x31f28d;_0x31f28d=_0x4466e1,_0x4466e1=_0x3eb5a1;}Ir['sub2'](_0x31f28d['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),rh['sub2'](_0x4466e1['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Kg['cross'](Ir,rh)['normalize'](),Ir['lerp'](_0x42eac7['_localPosi'+'tion'],_0x570c41['_localPosi'+'tion'],0x407+0xd72*0x1+-0x1179+0.5),Ir['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Kg,Ir,0x2639+0x1fc3+-0x45fc+0.5)['normalize']();}const _0x34a91b=this['_fingerIsC'+'losed'](0x5fd*-0x3+-0x1b*0xc3+0x2689)&&this['_fingerIsC'+'losed'](-0x1*-0x21b2+-0x7b2*-0x3+-0x38c6)&&this['_fingerIsC'+'losed'](-0x641+0xbc4+-0x8*0xb0)&&this['_fingerIsC'+'losed'](-0x1*0x421+-0x22da+0x26ff*0x1);this['_fingersTi'+'pDistance'](0x1777+0x1546+-0x2cbd,0xa3a+-0x84b+0x1a*-0x13)?this['_inputSour'+'ce']['_pinching']?(this['_inputSour'+'ce']['fire']('pinching'),this['_manager']['input']['fire']('pinching',this['_inputSour'+'ce'])):(this['_inputSour'+'ce']['fire']('pinchstart'),this['_manager']['input']['fire']('pinchstart',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(-0xd*-0x249+0x1d1*0xf+-0x144*0x2d),console['log']('===>>>xr\x20p'+'inch','pinchstart')):this['_inputSour'+'ce']['_pinching']&&(this['_inputSour'+'ce']['fire']('pinchend'),this['_manager']['input']['fire']('pinchend',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(0x23*-0x8e+-0x1645+0x29b0),console['log']('===>>>xr\x20p'+'inch','pinchend')),_0x34a91b?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0xcd5+0xf*0x67+0x6cc),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0x2366+0x1*-0x1fdc+-0x43*-0x101),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingersTi'+'pDistance'](_0x30acbd,_0x11521d){const _0x12aac2=this['_fingers'][_0x30acbd],_0x324533=this['_fingers'][_0x11521d];return _0x12aac2['tip']['_localPosi'+'tion']['distance'](_0x324533['tip']['_localPosi'+'tion'])<=-0x5b2*0x2+0x17e2+-0xc7e+0.01;}['_fingerIsC'+'losed'](_0x3c246e){const _0x4a561c=this['_fingers'][_0x3c246e];return Ir['sub2'](_0x4a561c['joints'][-0x1*-0x20c4+0x16f3+0x37b7*-0x1]['_localPosi'+'tion'],_0x4a561c['joints'][0x99e+0x2288*-0x1+0x18eb]['_localPosi'+'tion'])['normalize'](),rh['sub2'](_0x4a561c['joints'][-0x14a5*0x1+0x252d+-0x8d*0x1e]['_localPosi'+'tion'],_0x4a561c['joints'][0x7b0+0x1*0x15d7+-0xec2*0x2]['_localPosi'+'tion'])['normalize'](),Ir['dot'](rh)<-(0x25f*0x6+-0xd*-0x19+-0x1*0xf7f+0.8);}['getJointBy'+'Id'](_0x13a5c2){return this['_jointsByI'+'d'][_0x13a5c2]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Mf,'EVENT_TRAC'+'KING','tracking'),c(Mf,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Zg=new T(),Qg=new se();let XL=0x1154+-0x1734+0x5e*0x10;class xs extends ce{constructor(_0x326f0d,_0xcc22ca){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new uu()),c(this,'_rayLocal',new uu()),c(this,'_grip',!(0x170+0x1cb5+-0x1e24)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(0x1e7a+0x4*0x683+-0xd*0x459)),c(this,'_velocitie'+'sTimestamp',ne()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(-0x62f*-0x2+0x8e2+-0x44*0x50)),c(this,'_dirtyRay',!(0x16dd+-0x80*-0x2c+-0x16*0x20a)),c(this,'_selecting',!(0x147*0xf+0x5d*-0x19+-0x1*0xa13)),c(this,'_squeezing',!(-0x2*-0x94a+0x2*-0x129a+0x13*0xfb)),c(this,'_pinching',!(-0x9*-0x8c+-0x869+0x37e)),c(this,'_elementIn'+'put',!(-0x2550+0x1*0x132b+-0x3a1*-0x5)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++XL,this['_manager']=_0x326f0d,this['_xrInputSo'+'urce']=_0xcc22ca,_0xcc22ca['hand']&&(this['_hand']=new Mf(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x50219c){this['_elementIn'+'put']!==_0x50219c&&(this['_elementIn'+'put']=_0x50219c,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x332512){if(this['_hand'])this['_hand']['update'](_0x332512);else{const _0x5e7c4d=this['_xrInputSo'+'urce']['gripSpace'];if(_0x5e7c4d){const _0x32f7ca=_0x332512['getPose'](_0x5e7c4d,this['_manager']['_reference'+'Space']);if(_0x32f7ca){this['_grip']||(this['_grip']=!(-0x19e+0x1*-0x1381+0x151f),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new T(),this['_localPosi'+'tion']=new T(),this['_localRota'+'tion']=new se(),this['_linearVel'+'ocity']=new T());const _0xd825be=ne(),_0x4b46b9=(_0xd825be-this['_velocitie'+'sTimestamp'])/(0x19a3+-0x1350+0x1*-0x26b);this['_velocitie'+'sTimestamp']=_0xd825be,this['_dirtyLoca'+'l']=!(-0x1*-0x228b+-0x1d2+-0x1*0x20b9),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x32f7ca['transform']['position']),this['_localRota'+'tion']['copy'](_0x32f7ca['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0x1*0x240b+0x17de+-0x3be9*0x1),this['_manager']['input']['velocities'+'Supported']&&_0x32f7ca['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x32f7ca['linearVelo'+'city']):_0x4b46b9>-0x8*0x5e+0x204d+0x1d5d*-0x1&&(Zg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x4b46b9),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Zg,-0x303+-0xb25*-0x1+-0x6*0x15b+0.15));}else this['_velocitie'+'sAvailable']=!(0x17*-0x9b+0x2420+0x3b3*-0x6);}const _0x506300=_0x332512['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x506300&&(this['_dirtyRay']=!(-0x2592+0x1*0x23ce+-0x4*-0x71),this['_rayLocal']['origin']['copy'](_0x506300['transform']['position']),this['_rayLocal']['direction']['set'](0x14a7+0xd03*-0x1+-0x146*0x6,0xd*-0x167+0x9ec+0x84f,-(0x10a7*-0x2+0x1*-0x5dc+0x272b)),Qg['copy'](_0x506300['transform']['orientatio'+'n']),Qg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x6*0x8b+0x24a1*0x1+-0x27e2),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x151024=this['_manager']['camera']['parent'];_0x151024?this['_worldTran'+'sform']['mul2'](_0x151024['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x32c94d=this['_dirtyRay'];if(this['_dirtyRay']=!(-0xb*-0xca+-0xaa+-0x803),this['_manager']['camera']['parent']){const _0x279488=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x279488['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x279488),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x32c94d&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x35a260={}){_0x35a260['inputSourc'+'e']=this,_0x35a260['profile']=this['_xrInputSo'+'urce']['profiles'][0x1288+-0x12a0+-0x6*-0x4];const _0x4a0ed2=_0x35a260['callback'];_0x35a260['callback']=(_0x150799,_0x8baa8a)=>{_0x8baa8a&&this['onHitTestS'+'ourceAdd'](_0x8baa8a),_0x4a0ed2&&_0x4a0ed2(_0x150799,_0x8baa8a);},this['_manager']['hitTest']['start'](_0x35a260);}['onHitTestS'+'ourceAdd'](_0x50964e){this['_hitTestSo'+'urces']['push'](_0x50964e),this['fire']('hittest:ad'+'d',_0x50964e),_0x50964e['on']('result',(_0x45f9db,_0x2bf5da,_0x87028c,_0x271d7a)=>{_0x87028c===this&&this['fire']('hittest:re'+'sult',_0x50964e,_0x45f9db,_0x2bf5da,_0x271d7a);}),_0x50964e['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x50964e),this['fire']('hittest:re'+'move',_0x50964e);});}['onHitTestS'+'ourceRemov'+'e'](_0x48a8c4){const _0x37b2da=this['_hitTestSo'+'urces']['indexOf'](_0x48a8c4);_0x37b2da!==-(-0x183f+0x1bc3+-0x383)&&this['_hitTestSo'+'urces']['splice'](_0x37b2da,0x1a+0x1b52+-0x1b6b);}}c(xs,'EVENT_REMO'+'VE','remove'),c(xs,'EVENT_SELE'+'CT','select'),c(xs,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(xs,'EVENT_SELE'+'CTEND','selectend'),c(xs,'EVENT_SQUE'+'EZE','squeeze'),c(xs,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(xs,'EVENT_SQUE'+'EZEEND','squeezeend'),c(xs,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(xs,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(xs,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class ui extends ce{constructor(_0x15237d){var _0x3f8182,_0x458349;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(0x24ac+0xf29+-0x7c*0x6b)),(this['manager']=_0x15237d,this['velocities'+'Supported']=!!(ye['browser']&&((_0x458349=(_0x3f8182=window['XRPose'])==null?void(-0x1e88+-0x1f0b+-0x599*-0xb):_0x3f8182['prototype'])!=null&&_0x458349['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x2a4046=>{this['_onInputSo'+'urcesChang'+'e'](_0x2a4046);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x4d6edd=this['manager']['session'];_0x4d6edd['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x4d6edd['addEventLi'+'stener']('select',_0x440a7c=>{const _0x52e8c8=this['_getByInpu'+'tSource'](_0x440a7c['inputSourc'+'e']);_0x52e8c8['update'](_0x440a7c['frame']),_0x52e8c8['fire']('select',_0x440a7c),this['fire']('select',_0x52e8c8,_0x440a7c);}),_0x4d6edd['addEventLi'+'stener']('selectstar'+'t',_0x159d9a=>{const _0x5a2e2f=this['_getByInpu'+'tSource'](_0x159d9a['inputSourc'+'e']);_0x5a2e2f['_selecting']||(_0x5a2e2f['update'](_0x159d9a['frame']),_0x5a2e2f['_selecting']=!(-0x10b4+0x2*0xe72+0xd*-0xf0),_0x5a2e2f['fire']('selectstar'+'t',_0x159d9a),this['fire']('selectstar'+'t',_0x5a2e2f,_0x159d9a));}),_0x4d6edd['addEventLi'+'stener']('selectend',_0x53ca77=>{const _0x2219e5=this['_getByInpu'+'tSource'](_0x53ca77['inputSourc'+'e']);_0x2219e5['update'](_0x53ca77['frame']),_0x2219e5['_selecting']=!(-0x5e*-0x64+0x1889+0x310*-0x14),_0x2219e5['fire']('selectend',_0x53ca77),this['fire']('selectend',_0x2219e5,_0x53ca77);}),_0x4d6edd['addEventLi'+'stener']('squeeze',_0x2b8311=>{const _0x3a6335=this['_getByInpu'+'tSource'](_0x2b8311['inputSourc'+'e']);_0x3a6335['update'](_0x2b8311['frame']),_0x3a6335['fire']('squeeze',_0x2b8311),this['fire']('squeeze',_0x3a6335,_0x2b8311);}),_0x4d6edd['addEventLi'+'stener']('squeezesta'+'rt',_0x139cde=>{const _0x4137ae=this['_getByInpu'+'tSource'](_0x139cde['inputSourc'+'e']);_0x4137ae['update'](_0x139cde['frame']),_0x4137ae['_squeezing']=!(0xb2b+-0x83*-0x13+-0x14e4),_0x4137ae['fire']('squeezesta'+'rt',_0x139cde),this['fire']('squeezesta'+'rt',_0x4137ae,_0x139cde);}),_0x4d6edd['addEventLi'+'stener']('squeezeend',_0x2089c3=>{const _0x39aeea=this['_getByInpu'+'tSource'](_0x2089c3['inputSourc'+'e']);_0x39aeea['update'](_0x2089c3['frame']),_0x39aeea['_squeezing']=!(0xb*0x329+-0x90e+-0x19b4),_0x39aeea['fire']('squeezeend',_0x2089c3),this['fire']('squeezeend',_0x39aeea,_0x2089c3);});const _0x580d32=_0x4d6edd['inputSourc'+'es'];for(let _0x113b59=-0x6c2*-0x2+-0xd*-0x177+-0x5*0x683;_0x113b59<_0x580d32['length'];_0x113b59++)this['_addInputS'+'ource'](_0x580d32[_0x113b59]);}['_onSession'+'End'](){let _0x37714c=this['_inputSour'+'ces']['length'];for(;_0x37714c--;){const _0x3257de=this['_inputSour'+'ces'][_0x37714c];this['_inputSour'+'ces']['splice'](_0x37714c,-0x41d*-0x4+-0x13c5*0x1+0x55*0xa),_0x3257de['fire']('remove'),this['fire']('remove',_0x3257de);}this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x2e3233){for(let _0xcfd4fa=0xf65+0x1*0xbd3+0x6ce*-0x4;_0xcfd4fa<_0x2e3233['removed']['length'];_0xcfd4fa++)this['_removeInp'+'utSource'](_0x2e3233['removed'][_0xcfd4fa]);for(let _0xa240d9=0x1944+0x23b8+-0x3cfc;_0xa240d9<_0x2e3233['added']['length'];_0xa240d9++)this['_addInputS'+'ource'](_0x2e3233['added'][_0xa240d9]);}['_getByInpu'+'tSource'](_0x27c264){for(let _0x2ea190=-0x16eb+0x72d+0xfbe;_0x2ea190<this['_inputSour'+'ces']['length'];_0x2ea190++)if(this['_inputSour'+'ces'][_0x2ea190]['inputSourc'+'e']===_0x27c264)return this['_inputSour'+'ces'][_0x2ea190];return null;}['_addInputS'+'ource'](_0x5b284d){if(this['_getByInpu'+'tSource'](_0x5b284d))return;const _0x40351e=new xs(this['manager'],_0x5b284d);this['_inputSour'+'ces']['push'](_0x40351e),this['fire']('add',_0x40351e);}['_removeInp'+'utSource'](_0x11a953){for(let _0xde3ecc=0x1f03+-0x99+-0x1e6a;_0xde3ecc<this['_inputSour'+'ces']['length'];_0xde3ecc++){if(this['_inputSour'+'ces'][_0xde3ecc]['inputSourc'+'e']!==_0x11a953)continue;const _0x4ee998=this['_inputSour'+'ces'][_0xde3ecc];this['_inputSour'+'ces']['splice'](_0xde3ecc,-0x3f6+0xf35+-0x59f*0x2);let _0x61a04b=_0x4ee998['hitTestSou'+'rces']['length'];for(;_0x61a04b--;)_0x4ee998['hitTestSou'+'rces'][_0x61a04b]['remove']();_0x4ee998['fire']('remove'),this['fire']('remove',_0x4ee998);return;}}['update'](_0xe8e604){for(let _0x105ef0=0xc31+0x268+0x1*-0xe99;_0x105ef0<this['_inputSour'+'ces']['length'];_0x105ef0++)this['_inputSour'+'ces'][_0x105ef0]['update'](_0xe8e604);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(ui,'EVENT_ADD','add'),c(ui,'EVENT_REMO'+'VE','remove'),c(ui,'EVENT_SELE'+'CT','select'),c(ui,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ui,'EVENT_SELE'+'CTEND','selectend'),c(ui,'EVENT_SQUE'+'EZE','squeeze'),c(ui,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(ui,'EVENT_SQUE'+'EZEEND','squeezeend');const Xn=new T(),Jg=new T(),ru=new q(),ey=new q();class Pf extends ce{constructor(_0x107ea6){super(),c(this,'_manager'),c(this,'_supported',!(0x80f*0x1+0x1586+-0x3*0x9dc)),c(this,'_available',!(-0x2629+-0x88*-0x2+0x128d*0x2)),c(this,'_lightProb'+'eRequested',!(0x1996+-0x1ac0+-0xd*-0x17)),c(this,'_lightProb'+'e',null),c(this,'_intensity',0x1*-0x2b0+-0x27d*-0xd+0x9e3*-0x3),c(this,'_rotation',new se()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(0x4*0x37a+0x40*0x38+-0x1bcd)),(this['_manager']=_0x107ea6,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x187*-0x17+0x4*0x323+-0x2fad));}['_onSession'+'End'](){this['_supported']=!(0x21*-0x2a+-0x5*-0x191+-0x3*0xce),this['_available']=!(-0x19d6+0x5e3*-0x1+0x1fba),this['_lightProb'+'eRequested']=!(0x1*0x114b+-0x125*-0x7+-0x194d),this['_lightProb'+'e']=null;}['start'](){let _0x3eaf6c;if(this['_manager']['session']||(_0x3eaf6c=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x3eaf6c&&this['_manager']['type']!==Ao&&(_0x3eaf6c=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x3eaf6c&&!this['_supported']&&(_0x3eaf6c=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x3eaf6c&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x3eaf6c=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x3eaf6c){this['fire']('error',_0x3eaf6c);return;}this['_lightProb'+'eRequested']=!(0x1785+0x2d*0x15+-0x912*0x3),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0xe8e11f=>{const _0x30fb7f=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x1a54+-0x494*0x3+0xc97*-0x1),this['_manager']['active']?_0x30fb7f&&(this['_lightProb'+'e']=_0xe8e11f):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x48eb3e=>{this['_lightProb'+'eRequested']=!(0x40*-0x85+-0x3*0x77a+0x37af),this['fire']('error',_0x48eb3e);});}['end'](){this['_lightProb'+'eRequested']=!(0x25*0xd5+-0x2577+0x6af*0x1),this['_lightProb'+'e']=null,this['_available']=!(0x2+0x2634+-0x1*0x2635);}['update'](_0x22b99b){if(!this['_lightProb'+'e'])return;const _0x16fe85=_0x22b99b['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x16fe85)return;this['_available']||(this['_available']=!(0x23f1+-0x1ee0+0x1*-0x511),this['fire']('available'));const _0x122446=_0x16fe85['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x3*-0x9f1+-0x2411+0x41e5,Math['max'](_0x122446['x'],Math['max'](_0x122446['y'],_0x122446['z']))),Xn['copy'](_0x122446)['mulScalar']((0x2*0x130e+-0x2*0xa60+-0x115b)/this['_intensity']),this['_color']['set'](Xn['x'],Xn['y'],Xn['z']),Xn['set'](-0x5*-0x36d+-0x22db*0x1+0x11ba*0x1,0x298*-0x1+0x4d1+-0x239,0x529+-0x3*-0x9d9+-0x8ad*0x4),Jg['copy'](_0x16fe85['primaryLig'+'htDirectio'+'n']),ru['setLookAt'](Jg,Xn,T['UP']),ey['setFromAxi'+'sAngle'](T['RIGHT'],0x5a0+0xd*0x225+-0x3af*0x9),ru['mul'](ey),this['_rotation']['setFromMat'+'4'](ru),this['_spherical'+'Harmonics']['set'](_0x16fe85['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Pf,'EVENT_AVAI'+'LABLE','available'),c(Pf,'EVENT_ERRO'+'R','error');let jL=-0x15cc+-0x2353*-0x1+-0xd87;class Rf extends ce{constructor(_0x4d7d57,_0x33df17){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_id']=++jL,this['_planeDete'+'ction']=_0x4d7d57,this['_xrPlane']=_0x33df17,this['_lastChang'+'edTime']=_0x33df17['lastChange'+'dTime'],this['_orientati'+'on']=_0x33df17['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x2079fc){const _0x4d684d=this['_planeDete'+'ction']['_manager'],_0x5c9fc6=_0x2079fc['getPose'](this['_xrPlane']['planeSpace'],_0x4d684d['_reference'+'Space']);_0x5c9fc6&&(this['_position']['copy'](_0x5c9fc6['transform']['position']),this['_rotation']['copy'](_0x5c9fc6['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_CHAN'+'GE','change');class co extends ce{constructor(_0x49ccbf){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRPlane']),c(this,'_available',!(-0x1fb0+0x253b+-0x58a)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x49ccbf,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x216e+0x24cd+-0x35e)&&(this['_available']=!(0x1*-0x1981+-0x1d0e*-0x1+-0x38d),this['fire']('available'));}['_onSession'+'End'](){for(let _0xce7c7e=-0x392*0x9+0x7b7*-0x1+-0x65*-0x65;_0xce7c7e<this['_planes']['length'];_0xce7c7e++)this['_planes'][_0xce7c7e]['destroy'](),this['fire']('remove',this['_planes'][_0xce7c7e]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x1815+-0x9f1+0x2206,this['_available']&&(this['_available']=!(0x3*0xb26+0x2*-0x1045+0x1*-0xe7),this['fire']('unavailabl'+'e'));}['update'](_0x59e30d){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x59e30d['detectedPl'+'anes']['size'])this['_available']=!(-0x1*-0x212b+-0x7d6*-0x1+0x2901*-0x1),this['fire']('available');else return;}const _0x53ed69=_0x59e30d['detectedPl'+'anes'];for(const [_0x2746ad,_0x5b0a17]of this['_planesInd'+'ex'])_0x53ed69['has'](_0x2746ad)||(this['_planesInd'+'ex']['delete'](_0x2746ad),this['_planes']['splice'](this['_planes']['indexOf'](_0x5b0a17),0x3b*0x34+0x2*0x971+0x1*-0x1edd),_0x5b0a17['destroy'](),this['fire']('remove',_0x5b0a17));for(const _0x104ef5 of _0x53ed69){let _0x555f74=this['_planesInd'+'ex']['get'](_0x104ef5);_0x555f74?_0x555f74['update'](_0x59e30d):(_0x555f74=new Rf(this,_0x104ef5),this['_planesInd'+'ex']['set'](_0x104ef5,_0x555f74),this['_planes']['push'](_0x555f74),_0x555f74['update'](_0x59e30d),this['fire']('add',_0x555f74));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(co,'EVENT_AVAI'+'LABLE','available'),c(co,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove');class uo extends ce{constructor(_0x241ec7,_0x4f9e1e,_0x1c67d1=null){super(),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x241ec7,this['_xrAnchor']=_0x4f9e1e,this['_uuid']=_0x1c67d1);}['destroy'](){if(!this['_xrAnchor'])return;const _0x41e182=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x41e182,this);}['update'](_0x2094e5){if(!this['_xrAnchor'])return;const _0x3b9031=_0x2094e5['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x3b9031){if(this['_position']['equals'](_0x3b9031['transform']['position'])&&this['_rotation']['equals'](_0x3b9031['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x3b9031['transform']['position']),this['_rotation']['copy'](_0x3b9031['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x4a70d6){if(!this['_anchors']['persistenc'+'e']){_0x4a70d6==null||_0x4a70d6(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x4a70d6==null||_0x4a70d6(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x4a70d6&&this['_uuidReque'+'sts']['push'](_0x4a70d6);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x28f12b=>{this['_uuid']=_0x28f12b,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x4a70d6==null||_0x4a70d6(null,_0x28f12b);for(const _0x4a0f59 of this['_uuidReque'+'sts'])_0x4a0f59(null,_0x28f12b);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x28f12b);})['catch'](_0x81855=>{_0x4a70d6==null||_0x4a70d6(_0x81855,null);for(const _0x595974 of this['_uuidReque'+'sts'])_0x595974(_0x81855,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x32016a){if(!this['_uuid']){_0x32016a==null||_0x32016a(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x5ea27c=>{this['_uuid']=null,_0x32016a==null||_0x32016a(_0x5ea27c),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(uo,'EVENT_DEST'+'ROY','destroy'),c(uo,'EVENT_CHAN'+'GE','change'),c(uo,'EVENT_PERS'+'IST','persist'),c(uo,'EVENT_FORG'+'ET','forget');var ty;class Zn extends ce{constructor(_0x29f294){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!window['XRAnchor']),c(this,'_available',!(0x2059+0x1c97+0x3cef*-0x1)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x3b*-0x7+0x5*0x51d+0x305*-0x9)),c(this,'_persisten'+'ce',ye['browser']&&!!((ty=window==null?void(-0x1b53+0x8b1*0x3+-0x20*-0xa):window['XRSession'])!=null&&ty['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x29f294,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x185ef6=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(-0x8a9+-0x5*-0x233+-0x255);_0x185ef6&&(this['_available']=_0x185ef6,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x349+-0xfef*0x1+0xca7);for(let _0x4b8931=-0x19e1+0x321+-0x4*-0x5b0;_0x4b8931<this['_creationQ'+'ueue']['length'];_0x4b8931++)this['_creationQ'+'ueue'][_0x4b8931]['callback']&&this['_creationQ'+'ueue'][_0x4b8931]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0x172e+-0xf*0x1d9+0x2b*0x12f,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x356b9a=this['_list']['length'];for(;_0x356b9a--;)this['_list'][_0x356b9a]['destroy']();this['_list']['length']=-0x5*0x1e5+0x47f*0x1+0x4fa,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x3986e6,_0x128b73=null){const _0x5ad4dc=new uo(this,_0x3986e6,_0x128b73);return this['_index']['set'](_0x3986e6,_0x5ad4dc),_0x128b73&&this['_indexByUu'+'id']['set'](_0x128b73,_0x5ad4dc),this['_list']['push'](_0x5ad4dc),_0x5ad4dc['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x5ad4dc;}['_onAnchorD'+'estroy'](_0x13b74e,_0x2d75cd){this['_index']['delete'](_0x13b74e),_0x2d75cd['uuid']&&this['_indexByUu'+'id']['delete'](_0x2d75cd['uuid']);const _0x393597=this['_list']['indexOf'](_0x2d75cd);_0x393597!==-(0x69a+0x613+0x4*-0x32b)&&this['_list']['splice'](_0x393597,-0x16bc+0x1047*0x1+0x1*0x676),this['fire']('destroy',_0x2d75cd);}['create'](_0x4e5d37,_0x3961e0,_0x11cfbe){if(!this['_available']){_0x11cfbe==null||_0x11cfbe(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x4e5d37 instanceof XRHitTestResult){const _0x385ac2=_0x4e5d37;if(_0x11cfbe=_0x3961e0,!this['_supported']){_0x11cfbe==null||_0x11cfbe(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x385ac2['createAnch'+'or']){_0x11cfbe==null||_0x11cfbe(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x385ac2['createAnch'+'or']()['then'](_0x167bb8=>{const _0x315d3b=this['_createAnc'+'hor'](_0x167bb8);_0x11cfbe==null||_0x11cfbe(null,_0x315d3b),this['fire']('add',_0x315d3b);})['catch'](_0x1ab262=>{_0x11cfbe==null||_0x11cfbe(_0x1ab262,null),this['fire']('error',_0x1ab262);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x4e5d37,_0x3961e0),'callback':_0x11cfbe});}['restore'](_0x2f1833,_0x5c18cb){if(!this['_available']){_0x5c18cb==null||_0x5c18cb(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x5c18cb==null||_0x5c18cb(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x5c18cb==null||_0x5c18cb(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x2f1833)['then'](_0x66bc6b=>{const _0x130a93=this['_createAnc'+'hor'](_0x66bc6b,_0x2f1833);_0x5c18cb==null||_0x5c18cb(null,_0x130a93),this['fire']('add',_0x130a93);})['catch'](_0x57a8d3=>{_0x5c18cb==null||_0x5c18cb(_0x57a8d3,null),this['fire']('error',_0x57a8d3);});}['forget'](_0x40b755,_0x1417e0){if(!this['_available']){_0x1417e0==null||_0x1417e0(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x1417e0==null||_0x1417e0(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x1417e0==null||_0x1417e0(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x40b755)['then'](()=>{_0x1417e0==null||_0x1417e0(null);})['catch'](_0x279348=>{_0x1417e0==null||_0x1417e0(_0x279348),this['fire']('error',_0x279348);});}['update'](_0x300b1c){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0x1*0x1c11+-0x1572+-0x69f),_0x300b1c['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x47e21b=>{_0x47e21b['delete'](),this['manager']['active']&&(this['_available']=!(-0x3*-0xbb+0x14ae+0x5*-0x493),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x4039ad=0xe0b+0x1cb5*0x1+-0x2ac0;_0x4039ad<this['_creationQ'+'ueue']['length'];_0x4039ad++){const _0x120628=this['_creationQ'+'ueue'][_0x4039ad];_0x300b1c['createAnch'+'or'](_0x120628['transform'],this['manager']['_reference'+'Space'])['then'](_0x375894=>{_0x120628['callback']&&this['_callbacks'+'Anchors']['set'](_0x375894,_0x120628['callback']);})['catch'](_0x198179=>{_0x120628['callback']&&_0x120628['callback'](_0x198179,null),this['fire']('error',_0x198179);});}this['_creationQ'+'ueue']['length']=0x21+0x7f6+-0x817*0x1;}for(const [_0x3b12f7,_0x4707e4]of this['_index'])_0x300b1c['trackedAnc'+'hors']['has'](_0x3b12f7)||(this['_index']['delete'](_0x3b12f7),_0x4707e4['destroy']());for(let _0x4d14b4=-0x197+-0x1c34*-0x1+-0x1a9d;_0x4d14b4<this['_list']['length'];_0x4d14b4++)this['_list'][_0x4d14b4]['update'](_0x300b1c);for(const _0xd5dfe6 of _0x300b1c['trackedAnc'+'hors']){if(this['_index']['has'](_0xd5dfe6))continue;try{const _0x592e32=_0xd5dfe6['anchorSpac'+'e'];}catch{continue;}const _0x1e8979=this['_createAnc'+'hor'](_0xd5dfe6);_0x1e8979['update'](_0x300b1c);const _0x294093=this['_callbacks'+'Anchors']['get'](_0xd5dfe6);_0x294093&&(this['_callbacks'+'Anchors']['delete'](_0xd5dfe6),_0x294093(null,_0x1e8979)),this['fire']('add',_0x1e8979);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Zn,'EVENT_AVAI'+'LABLE','available'),c(Zn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Zn,'EVENT_ERRO'+'R','error'),c(Zn,'EVENT_ADD','add'),c(Zn,'EVENT_DEST'+'ROY','destroy');class If extends ce{constructor(_0x4f4a5f,_0x5bc664){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',-0x1046*-0x2+0x1*-0x135b+-0xd31*0x1),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_meshDetec'+'tion']=_0x4f4a5f,this['_xrMesh']=_0x5bc664,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x3c92bc){const _0x15a52b=this['_meshDetec'+'tion']['_manager'],_0x4d86cf=_0x3c92bc['getPose'](this['_xrMesh']['meshSpace'],_0x15a52b['_reference'+'Space']);_0x4d86cf&&(this['_position']['copy'](_0x4d86cf['transform']['position']),this['_rotation']['copy'](_0x4d86cf['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(If,'EVENT_REMO'+'VE','remove'),c(If,'EVENT_CHAN'+'GE','change');class fo extends ce{constructor(_0x41e306){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRMesh']),c(this,'_available',!(0x1*-0x11f+-0x229e+0x23be)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x41e306,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x2f9278){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x2f9278['detectedMe'+'shes']['size'])this['_available']=!(0xddb+0xb53*0x2+-0x2481),this['fire']('available');else return;}for(const _0x6b30eb of _0x2f9278['detectedMe'+'shes']){let _0x412f66=this['_index']['get'](_0x6b30eb);_0x412f66?_0x412f66['update'](_0x2f9278):(_0x412f66=new If(this,_0x6b30eb),this['_index']['set'](_0x6b30eb,_0x412f66),this['_list']['push'](_0x412f66),_0x412f66['update'](_0x2f9278),this['fire']('add',_0x412f66));}for(const _0x336e87 of this['_index']['values']())_0x2f9278['detectedMe'+'shes']['has'](_0x336e87['xrMesh'])||this['_removeMes'+'h'](_0x336e87);}['_removeMes'+'h'](_0x45b6d9){this['_index']['delete'](_0x45b6d9['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x45b6d9),0x61c+0x178*-0x14+0x1745),_0x45b6d9['destroy'](),this['fire']('remove',_0x45b6d9);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x2044a4=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(0x3*-0x51d+-0x8a+-0x1*-0xfe2);if(!_0x2044a4)return;this['_available']=_0x2044a4,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x30*-0x65+0x1235*-0x2+0x117b);for(const _0x3ef09c of this['_index']['values']())this['_removeMes'+'h'](_0x3ef09c);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(fo,'EVENT_AVAI'+'LABLE','available'),c(fo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(fo,'EVENT_ADD','add'),c(fo,'EVENT_REMO'+'VE','remove');class Hx extends ce{constructor(_0x3a13e8,_0x6d7b70,_0x373ff8){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(-0x1046+-0x1cb3*-0x1+0x1c6*-0x7)),c(this,'_viewport',new Q()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(0x1a9e+-0xa72*-0x1+0x8*-0x49e)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x3a13e8,this['_xrView']=_0x6d7b70);const _0x3b7e6d=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new he(_0x3b7e6d,{'format':dr,'mipmaps':!(-0xbe3+0xa27+0x1bd),'addressU':ae,'addressV':ae,'minFilter':st,'magFilter':st,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x5a72cf=this['_manager']['views']['depthGpuOp'+'timized']?de:st;this['_textureDe'+'pth']=new he(_0x3b7e6d,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x373ff8===0xbe2+-0x213b+0x155a?-0x2092+0xc*-0x2e+0x22ba:_0x373ff8,'mipmaps':!(0x17ea+0x1d69*0x1+0x32*-0x111),'addressU':ae,'addressV':ae,'minFilter':_0x5a72cf,'magFilter':_0x5a72cf,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x577b7c=0xb0d+-0x249e+-0xb*-0x253;_0x577b7c<this['_textureDe'+'pth']['_levels']['length'];_0x577b7c++)this['_textureDe'+'pth']['_levels'][_0x577b7c]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x3b7e6d['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x1e3b67;return((_0x1e3b67=this['_depthInfo'])==null?void(0x1*0x2065+-0x1892+-0x7d3):_0x1e3b67['rawValueTo'+'Meters'])||-0x836+-0x2*0xe78+0x2526;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x506ccd,_0xc9f1fa){this['_xrView']=_0xc9f1fa,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x32716c=_0x506ccd['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x32716c['x'],this['_viewport']['y']=_0x32716c['y'],this['_viewport']['z']=_0x32716c['width'],this['_viewport']['w']=_0x32716c['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x506ccd);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0xf39c1c=this['_manager']['webglBindi'+'ng'];if(!_0xf39c1c)return;const _0x5d39a1=_0xf39c1c['getCameraI'+'mage'](this['_xrCamera']);if(!_0x5d39a1)return;const _0x251f3a=this['_manager']['app']['graphicsDe'+'vice'],_0x4c854b=_0x251f3a['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x4c854b['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x4c854b['createFram'+'ebuffer']();else{const _0x30efdf=_0x4c854b['COLOR_ATTA'+'CHMENT0'],_0x1bd7c8=this['_xrCamera']['width'],_0xf72fa5=this['_xrCamera']['height'];_0x251f3a['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x4c854b['framebuffe'+'rTexture2D'](_0x4c854b['FRAMEBUFFE'+'R'],_0x30efdf,_0x4c854b['TEXTURE_2D'],_0x5d39a1,-0x15*-0x4f+0x780+-0x4a9*0x3),_0x251f3a['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x4c854b['framebuffe'+'rTexture2D'](_0x4c854b['FRAMEBUFFE'+'R'],_0x30efdf,_0x4c854b['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x6fb+0x15*-0x167+0x246e*0x1),_0x4c854b['bindFrameb'+'uffer'](_0x4c854b['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x4c854b['bindFrameb'+'uffer'](_0x4c854b['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x4c854b['blitFrameb'+'uffer'](-0xb5*0x13+0x18c8+-0xb59,_0xf72fa5,_0x1bd7c8,-0x1c9*0x8+-0x6c5+-0x1*-0x150d,-0x111c+-0x23f6*0x1+0x3512,-0x2460+0x1959+-0x3ad*-0x3,_0x1bd7c8,_0xf72fa5,_0x4c854b['COLOR_BUFF'+'ER_BIT'],_0x4c854b['NEAREST']);}}['_updateDep'+'th'](_0x1e8f84){var _0xb1d954,_0x1e98fd;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x4726ea=this['_manager']['views']['depthGpuOp'+'timized'],_0x661e86=_0x4726ea?this['_manager']['webglBindi'+'ng']:_0x1e8f84;if(!_0x661e86){this['_depthInfo']=null;return;}const _0x2a4f52=_0x661e86['getDepthIn'+'formation'](this['_xrView']);if(!_0x2a4f52){this['_depthInfo']=null;return;}let _0x2d395c=!this['_depthInfo']!=!_0x2a4f52;this['_depthInfo']=_0x2a4f52;const _0x7ebb38=((_0xb1d954=this['_depthInfo'])==null?void(0x413+-0x15a6+-0x1*-0x1193):_0xb1d954['width'])||0x4be+-0x1d7*-0x11+-0x2401,_0x535b17=((_0x1e98fd=this['_depthInfo'])==null?void(0x19bd+-0x25e4+0x33*0x3d):_0x1e98fd['height'])||-0x1*-0x6cf+0x1*0x1e0a+-0x24d5;let _0x39a343=!(0x3*-0x6af+0x171f+-0x1*0x311);if((this['_textureDe'+'pth']['width']!==_0x7ebb38||this['_textureDe'+'pth']['height']!==_0x535b17)&&(this['_textureDe'+'pth']['_width']=_0x7ebb38,this['_textureDe'+'pth']['_height']=_0x535b17,_0x2d395c=!(0x2ca*0x8+0x264b*-0x1+0xffb),_0x39a343=!(-0x1e23*-0x1+0x276+-0x2099)),_0x2d395c&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x4726ea){if(this['_depthInfo']['texture']){const _0x325d05=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x325d05['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x325d05['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ii:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x325d05['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x325d05['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x325d05['RED'];break;case Ci:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x325d05['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x325d05['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x325d05['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(-0x699+-0x1d8*0x14+-0x2b79*-0x1);}}else this['_textureDe'+'pth']['_levels'][0x1*0x956+-0x526+-0x10*0x43]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][-0x11*0x119+0x1f47+-0xc9e]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x39a343&&this['fire']('depth:resi'+'ze',_0x7ebb38,_0x535b17);}['updateTran'+'sforms'](_0x54bb2f){_0x54bb2f?(this['_viewInvOf'+'fMat']['mul2'](_0x54bb2f,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x15d3+0x26d5+-0x3ca8]=this['_viewInvOf'+'fMat']['data'][0x21*0xda+-0x3*-0x3a1+-0x3*0xcfb],this['_positionD'+'ata'][-0xeae+-0xadc+0x198b]=this['_viewInvOf'+'fMat']['data'][0x1fe2+0x2*-0x533+-0x156f],this['_positionD'+'ata'][0x690+0xa2f+-0x10bd]=this['_viewInvOf'+'fMat']['data'][-0x1c6f+-0x1*0x2511+-0x6*-0xaed];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x1fd8e6,_0x3b467b){var _0xf46026;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0xf46026=this['_depthInfo'])==null?void(-0x5c4+-0x1*-0x10fd+-0xb39):_0xf46026['getDepthIn'+'Meters'](_0x1fd8e6,_0x3b467b))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x4a604a=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x4a604a['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x4a604a['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Hx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class ic extends ce{constructor(_0x190933){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',ye['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',ye['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(0x1ed4+0x95*-0x1d+0xe*-0xff)),c(this,'_available'+'Depth',!(0x1afe+-0xd83*-0x2+-0x3603)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[Nx]:Bf,[zx]:Ci,[Ux]:Ii}),(this['_manager']=_0x190933,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Bx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x64a521,_0x3c1279){for(let _0x1bcb8e=0x16fc*-0x1+-0x1493+-0x213*-0x15;_0x1bcb8e<_0x3c1279['length'];_0x1bcb8e++)this['_indexTmp']['set'](_0x3c1279[_0x1bcb8e]['eye'],_0x3c1279[_0x1bcb8e]);for(const [_0x3f9ebd,_0x153329]of this['_indexTmp']){let _0xef5959=this['_index']['get'](_0x3f9ebd);_0xef5959?_0xef5959['update'](_0x64a521,_0x153329):(_0xef5959=new Hx(this['_manager'],_0x153329,_0x3c1279['length']),this['_index']['set'](_0x3f9ebd,_0xef5959),this['_list']['push'](_0xef5959),_0xef5959['update'](_0x64a521,_0x153329),this['fire']('add',_0xef5959));}for(const [_0x3cd285,_0x11a5c8]of this['_index']){if(this['_indexTmp']['has'](_0x3cd285))continue;_0x11a5c8['destroy'](),this['_index']['delete'](_0x3cd285);const _0x5589ba=this['_list']['indexOf'](_0x11a5c8);_0x5589ba!==-(-0x7c*0x18+0x783*0x5+-0x19ee)&&this['_list']['splice'](_0x5589ba,0xb5*-0x6+-0xa9f*0x1+-0xede*-0x1),this['fire']('remove',_0x11a5c8);}this['_indexTmp']['clear']();}['get'](_0x11f49b){return this['_index']['get'](_0x11f49b)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Ao&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(0x1*0xd92+0xb*-0xfb+-0x2*0x164),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x1*-0xd79+-0x2473+-0x31ed*-0x1),this['_available'+'Depth'])){const _0xea8990=this['_manager']['session'];this['_depthUsag'+'e']=_0xea8990['depthUsage'],this['_depthForm'+'at']=_0xea8990['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0xf28ecd of this['_index']['values']())_0xf28ecd['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0x167f+0x2545+0x1*-0x3bc3),this['_available'+'Depth']=!(-0x2b+-0xb2*-0x21+0x16*-0x109),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0x81*0x41+-0xb*0x175+-0x10ba*0x1;}}c(ic,'EVENT_ADD','add'),c(ic,'EVENT_REMO'+'VE','remove');class Qn extends ce{constructor(_0x232d44){super(),c(this,'app'),c(this,'_supported',ye['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_depthNear',-0x777+-0xa6c+0x11e3+0.1),c(this,'_depthFar',0x25f6+-0x1*0xec6+-0x1348),c(this,'_supported'+'FrameRates',null),c(this,'_width',-0x1418*-0x1+-0x2500+-0x2*-0x874),c(this,'_height',0xe3*0x1f+0x2cb+-0x1e48),c(this,'_framebuff'+'erScaleFac'+'tor',-0xf1e+-0x12*-0x1b5+0x11*-0xeb),(this['app']=_0x232d44,this['_available'][VL]=!(0x26cd+0x2183+-0x484f),this['_available'][GL]=!(0x16a2+-0x802+0xe9f*-0x1),this['_available'][Ao]=!(0x100c+0x1*0x1646+-0x241*0x11),this['views']=new ic(this),this['domOverlay']=new WL(this),this['hitTest']=new kr(this),this['imageTrack'+'ing']=new Vx(this),this['planeDetec'+'tion']=new co(this),this['meshDetect'+'ion']=new fo(this),this['input']=new ui(this),this['lightEstim'+'ation']=new Pf(this),this['anchors']=new Zn(this),this['views']=new ic(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x5153e7,_0x2d4192,_0x5e8da3,_0x290e9a){var _0x2527ac;let _0x2a706b=_0x290e9a;if(typeof _0x290e9a=='object'&&(_0x2a706b=_0x290e9a['callback']),!this['_available'][_0x2d4192]){_0x2a706b&&_0x2a706b(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x2a706b&&_0x2a706b(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x5153e7,this['_camera']['camera']['xr']=this,this['_type']=_0x2d4192,this['_spaceType']=_0x5e8da3,this['_framebuff'+'erScaleFac'+'tor']=(_0x290e9a==null?void(0x1c18+-0x1f97+0x37f):_0x290e9a['framebuffe'+'rScaleFact'+'or'])??0x1f03+-0x1b08+0x2*-0x1fd,this['_setClipPl'+'anes'](_0x5153e7['nearClip'],_0x5153e7['farClip']);const _0x25196e={'requiredFeatures':[_0x5e8da3],'optionalFeatures':[]},_0x15efaa=(_0x2527ac=this['app']['graphicsDe'+'vice'])==null?void(-0x1fc5+0x3f1*0x4+0x11*0xf1):_0x2527ac['isWebGL2'];if(_0x2d4192===Ao){if(_0x25196e['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x25196e['optionalFe'+'atures']['push']('hit-test'),_0x290e9a&&(_0x290e9a['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x25196e['optionalFe'+'atures']['push']('image-trac'+'king'),_0x290e9a['planeDetec'+'tion']&&_0x25196e['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x290e9a['meshDetect'+'ion']&&_0x25196e['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x25196e['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x25196e['domOverlay']={'root':this['domOverlay']['root']}),_0x290e9a&&_0x290e9a['anchors']&&this['anchors']['supported']&&_0x25196e['optionalFe'+'atures']['push']('anchors'),_0x290e9a&&_0x290e9a['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x25196e['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x260057=[],_0x38b0e1=[];if(_0x260057['push'](Bx,$L),_0x38b0e1['push'](Ux,Nx,zx),_0x290e9a['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x5beb44=_0x260057['indexOf'](_0x290e9a['depthSensi'+'ng']['usagePrefe'+'rence']);_0x5beb44!==-(-0x183d+0x757*0x2+0x990)&&_0x260057['splice'](_0x5beb44,0x1fd2+0x1a*-0x154+0x8b*0x5),_0x260057['unshift'](_0x290e9a['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x290e9a['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x210857=_0x38b0e1['indexOf'](_0x290e9a['depthSensi'+'ng']['dataFormat'+'Preference']);_0x210857!==-(0x1*0x698+-0xb*-0x23e+0x1f41*-0x1)&&_0x38b0e1['splice'](_0x210857,-0xef0+-0x2a*-0xcc+0x99*-0x1f),_0x38b0e1['unshift'](_0x290e9a['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x25196e['depthSensi'+'ng']={'usagePreference':_0x260057,'dataFormatPreference':_0x38b0e1};}_0x15efaa&&_0x290e9a&&_0x290e9a['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x25196e['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x25196e['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x290e9a&&_0x290e9a['optionalFe'+'atures']&&(_0x25196e['optionalFe'+'atures']=_0x25196e['optionalFe'+'atures']['concat'](_0x290e9a['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x4c2be6,_0x9521e4)=>{if(_0x4c2be6){_0x2a706b&&_0x2a706b(_0x4c2be6),this['fire']('error',_0x4c2be6);return;}_0x9521e4!==null&&(_0x25196e['trackedIma'+'ges']=_0x9521e4),this['_onStartOp'+'tionsReady'](_0x2d4192,_0x5e8da3,_0x25196e,_0x2a706b);}):this['_onStartOp'+'tionsReady'](_0x2d4192,_0x5e8da3,_0x25196e,_0x2a706b);}['_onStartOp'+'tionsReady'](_0x3c5b56,_0x5cfded,_0x48f674,_0x5b3e51){navigator['xr']['requestSes'+'sion'](_0x3c5b56,_0x48f674)['then'](_0x3d45df=>{this['_onSession'+'Start'](_0x3d45df,_0x5cfded,_0x5b3e51);})['catch'](_0x2de2e8=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x5b3e51&&_0x5b3e51(_0x2de2e8),this['fire']('error',_0x2de2e8);});}['end'](_0x51b60d){if(!this['_session']){_0x51b60d&&_0x51b60d(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x51b60d&&this['once']('end',_0x51b60d),this['_session']['end']();}['isAvailabl'+'e'](_0x5a2626){return this['_available'][_0x5a2626];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x231b7c in this['_available'])this['_sessionSu'+'pportCheck'](_0x231b7c);}['initiateRo'+'omCapture'](_0x55395c){if(!this['_session']){_0x55395c(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x55395c(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x55395c&&_0x55395c(null);})['catch'](_0x4dbbd9=>{_0x55395c&&_0x55395c(_0x4dbbd9);});}['updateTarg'+'etFrameRat'+'e'](_0x3b8565,_0x5ac81d){var _0x3855c1;if(!((_0x3855c1=this['_session'])!=null&&_0x3855c1['updateTarg'+'etFrameRat'+'e'])){_0x5ac81d==null||_0x5ac81d(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x3b8565)['then'](()=>{_0x5ac81d==null||_0x5ac81d();})['catch'](_0x1c2b3f=>{_0x5ac81d==null||_0x5ac81d(_0x1c2b3f);});}['_sessionSu'+'pportCheck'](_0x26671f){navigator['xr']['isSessionS'+'upported'](_0x26671f)['then'](_0x409539=>{this['_available'][_0x26671f]!==_0x409539&&(this['_available'][_0x26671f]=_0x409539,this['fire']('available',_0x26671f,_0x409539),this['fire']('available:'+_0x26671f,_0x409539));})['catch'](_0x1bfe36=>{this['fire']('error',_0x1bfe36);});}['_onSession'+'Start'](_0x75a2ac,_0x23c368,_0xed08b2){let _0x370621=!(-0x5*-0x19f+0x5*0x181+-0x535*0x3);this['_session']=_0x75a2ac;const _0x27e588=()=>{this['fire']('visibility'+':change',_0x75a2ac['visibility'+'State']);},_0x57554c=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x447902=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x57554c),this['_camera']['off']('set_farCli'+'p',_0x57554c),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x75a2ac['removeEven'+'tListener']('end',_0x447902),_0x75a2ac['removeEven'+'tListener']('visibility'+'change',_0x27e588),_0x370621||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x1a4e+-0x1*-0x5b9+0x3*-0xaad,this['_height']=0x2468+0x67*-0x16+-0x1b8e,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x75a2ac['addEventLi'+'stener']('end',_0x447902),_0x75a2ac['addEventLi'+'stener']('visibility'+'change',_0x27e588),this['_camera']['on']('set_nearCl'+'ip',_0x57554c),this['_camera']['on']('set_farCli'+'p',_0x57554c),v['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0xbdb9ea;this['fire']('frameratec'+'hange',(_0xbdb9ea=this['_session'])==null?void(-0xed5+-0xedd+0xe*0x21f):_0xbdb9ea['frameRate']);}),_0x75a2ac['requestRef'+'erenceSpac'+'e'](_0x23c368)['then'](_0x19d962=>{this['_reference'+'Space']=_0x19d962,this['app']['tick'](),_0xed08b2&&_0xed08b2(null),this['fire']('start');})['catch'](_0x35876f=>{_0x370621=!(-0x1*-0xe0b+0xd4e*-0x1+-0xbd),_0x75a2ac['end'](),_0xed08b2&&_0xed08b2(_0x35876f),this['fire']('error',_0x35876f);});}['_setClipPl'+'anes'](_0x151706,_0x309426){this['_depthNear']===_0x151706&&this['_depthFar']===_0x309426||(this['_depthNear']=_0x151706,this['_depthFar']=_0x309426,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0xd79f85=this['app']['graphicsDe'+'vice'],_0x34a598=_0xd79f85['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0xd79f85['gl'],{'alpha':!(0x1418+0x1413*-0x1+-0x1*0x5),'depth':!(0x1*0x129a+-0x1b74+0x8da),'stencil':!(0x8b9+0x2604+-0x959*0x5),'framebufferScaleFactor':_0x34a598,'antialias':!(-0x1348+-0x1*0xc83+0xb9*0x2c)}),_0xd79f85!=null&&_0xd79f85['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0xd79f85['gl']);}catch(_0x320f6c){this['fire']('error',_0x320f6c);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x3f068d=>{this['fire']('error',_0x3f068d);});},-0x1a76*-0x1+0x2c*-0xca+0xe*0x97);}['update'](_0x1d4dfd){if(!this['_session'])return!(-0x706+0x589+-0x17e*-0x1);const _0x35b283=_0x1d4dfd['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x3766fa=_0x1d4dfd['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x35b283||this['_height']!==_0x3766fa)&&(this['_width']=_0x35b283,this['_height']=_0x3766fa,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x35b283,_0x3766fa));const _0xc368e8=_0x1d4dfd['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0xc368e8)return!(0x19aa+0x27*0x23+-0x1*0x1efe);const _0x1a73df=this['views']['list']['length'];this['views']['update'](_0x1d4dfd,_0xc368e8['views']);const _0x608115=_0xc368e8['transform']['position'],_0x221c2f=_0xc368e8['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x608115['x'],_0x608115['y'],_0x608115['z']),this['_localRota'+'tion']['set'](_0x221c2f['x'],_0x221c2f['y'],_0x221c2f['z'],_0x221c2f['w']),_0x1a73df===-0x16a8+0xce*-0x1+0x1776&&this['views']['list']['length']>0x1*0x9f3+0x222e+0x2c21*-0x1){const _0x10d6f0=new q(),_0x2fde2f=this['views']['list'][0xc*0x1c+0x47*-0x6a+0x5*0x59e];_0x10d6f0['copy'](_0x2fde2f['projMat']);const _0x9d0d11=_0x10d6f0['data'],_0x2e2855=(0xb81+-0x11e5+0x666)*Math['atan']((0xb53+0x1*-0x2383+0x1831)/_0x9d0d11[0x3*0x3e6+0xb67+0x5c5*-0x4])*(-0x8d4+0x22be+-0x1936)/Math['PI'],_0x368ce0=_0x9d0d11[0x89*0x21+-0x4*-0x643+-0x2ab0]/_0x9d0d11[-0xf*-0x131+0x252f+-0x36*0x105],_0x9236fc=_0x9d0d11[-0x1e0d+0x60+0x1dbb]/(_0x9d0d11[-0x14e*0x8+-0x10ec+0x1b66]+(0x3eb*-0x4+0x3b9*-0xa+0x34e7)),_0x59587f=_0x9d0d11[0x2c3*-0xd+0x11b5+0x1240]/(_0x9d0d11[0x2*0x2be+-0xb8*-0x31+0xf*-0x2b6]-(0x1f6f+0x2448+0x3*-0x1692));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x368ce0,'farClip':_0x9236fc,'fov':_0x2e2855,'horizontalFov':!(-0x1c56+-0xac2+0x1*0x2719),'nearClip':_0x59587f});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x1d4dfd),this['_type']===Ao&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x1d4dfd),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x1d4dfd),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x1d4dfd),this['anchors']['supported']&&this['anchors']['update'](_0x1d4dfd),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x1d4dfd),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x1d4dfd)),this['fire']('update',_0x1d4dfd),!(-0xe02+-0x2005+0x2e07*0x1);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x3c78eb;return((_0x3c78eb=this['_session'])==null?void(0x15ac+-0x1781+0x1*0x1d5):_0x3c78eb['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x4c2c16){var _0x394e31;(((_0x394e31=this['_baseLayer'])==null?void(0x95*-0x37+0xcd+0xa*0x31f):_0x394e31['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0xea2+-0x13b4+0x1*0x513&&v['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x4c2c16);}get['fixedFovea'+'tion'](){var _0x129d61;return((_0x129d61=this['_baseLayer'])==null?void(0x7c9*0x5+-0x1*-0x416+-0x5b*0x79):_0x129d61['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(Qn,'EVENT_AVAI'+'LABLE','available'),c(Qn,'EVENT_STAR'+'T','start'),c(Qn,'EVENT_END','end'),c(Qn,'EVENT_UPDA'+'TE','update'),c(Qn,'EVENT_ERRO'+'R','error');class dF extends qh{constructor(_0x172b94,_0xdd9ac9={}){super(_0x172b94);const _0x36aa7e=new pP();_0x36aa7e['graphicsDe'+'vice']=_0xdd9ac9['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x172b94,_0xdd9ac9),this['addCompone'+'ntSystems'](_0x36aa7e),this['addResourc'+'eHandles'](_0x36aa7e),_0x36aa7e['elementInp'+'ut']=_0xdd9ac9['elementInp'+'ut'],_0x36aa7e['keyboard']=_0xdd9ac9['keyboard'],_0x36aa7e['mouse']=_0xdd9ac9['mouse'],_0x36aa7e['touch']=_0xdd9ac9['touch'],_0x36aa7e['gamepads']=_0xdd9ac9['gamepads'],_0x36aa7e['scriptPref'+'ix']=_0xdd9ac9['scriptPref'+'ix'],_0x36aa7e['assetPrefi'+'x']=_0xdd9ac9['assetPrefi'+'x'],_0x36aa7e['scriptsOrd'+'er']=_0xdd9ac9['scriptsOrd'+'er'],_0x36aa7e['soundManag'+'er']=new kb(),_0x36aa7e['lightmappe'+'r']=vP,_0x36aa7e['batchManag'+'er']=dC,_0x36aa7e['xr']=Qn,this['init'](_0x36aa7e);}['createDevi'+'ce'](_0x577534,_0x5d80df){return _0x5d80df['graphicsDe'+'viceOption'+'s']||(_0x5d80df['graphicsDe'+'viceOption'+'s']={}),ye['browser']&&navigator['xr']&&(_0x5d80df['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x169e+0x1d11+-0x33af*0x1)),_0x5d80df['graphicsDe'+'viceOption'+'s']['alpha']=_0x5d80df['graphicsDe'+'viceOption'+'s']['alpha']||!(0xb84+-0x890+-0x2f3),new pb(_0x577534,_0x5d80df['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x480941){_0x480941['componentS'+'ystems']=[mx,fR,HR,UP,qP,iI,fI,jI,KI,cD,BI,jP,cI,bI,zR,QP,DI,FI,GI,JR,WR,$I,uD];}['addResourc'+'eHandles'](_0x5bb955){_0x5bb955['resourceHa'+'ndlers']=[fD,_2,g2,y2,iL,Q2,UL,fL,j2,S2,hL,rL,A2,X2,T2,cL,q2,E2,C2,v2,mL,dL,uL,w2,W2];}}const nh=[],YL=[[],[],[]];class KL extends ds{constructor(_0x4d4ee6,_0x3c79ff){super(_0x4d4ee6),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x3c79ff;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x4146b6=>{_0x4146b6['defaultUni'+'formBuffer']['destroy'](),_0x4146b6['destroy']();}),this['viewBindGr'+'oups']['length']=-0xfbe+0x3d2+-0x5f6*-0x2;}['update'](_0x11726e,_0x337c8e,_0x32e5e1,_0x25d5bb){this['camera']=_0x11726e,this['scene']=_0x337c8e,this['layers']=_0x32e5e1,this['mapping']=_0x25d5bb;}['execute'](){const _0x31b8ad=this['device'],{renderer:_0x2a47d8,camera:_0x444a25,scene:_0x4a21cf,layers:_0x3d708c,mapping:_0x398728,renderTarget:_0x37cb17}=this,_0x7523d=_0x4a21cf['layers']['layerList'],_0x3e3dbc=_0x4a21cf['layers']['subLayerEn'+'abled'],_0x1bbb46=_0x4a21cf['layers']['subLayerLi'+'st'];for(let _0x172aae=-0xace+0xf92*-0x2+0x29f2;_0x172aae<_0x7523d['length'];_0x172aae++){const _0x45764f=_0x7523d[_0x172aae];if(!(_0x3d708c&&_0x3d708c['indexOf'](_0x45764f)<0x1122*0x2+0xdaf*-0x1+-0x1495)&&_0x45764f['enabled']&&_0x3e3dbc[_0x172aae]&&_0x45764f['camerasSet']['has'](_0x444a25['camera'])){const _0x6d88ea=_0x1bbb46[_0x172aae];G['pushGpuMar'+'ker'](_0x31b8ad,_0x45764f['name']+'('+(_0x6d88ea?'TRANSP':'OPAQUE')+')'),_0x45764f['_clearDept'+'hBuffer']&&_0x2a47d8['clear'](_0x444a25['camera'],!(0x1*-0x8d6+0x11*0x12b+-0xb04),!(-0x328+0x52d+0xb*-0x2f),!(0x2444+-0x15b3*-0x1+-0x6*0x9a9));const _0x53005c=_0x45764f['meshInstan'+'ces'];for(let _0x551f30=-0x127+0xafe*-0x1+0x1*0xc25;_0x551f30<_0x53005c['length'];_0x551f30++){const _0xe1cd06=_0x53005c[_0x551f30];_0xe1cd06['pick']&&_0xe1cd06['transparen'+'t']===_0x6d88ea&&(nh['push'](_0xe1cd06),_0x398728['set'](_0xe1cd06['id'],_0xe1cd06));}nh['length']>-0xa08+0xaa5+-0x9d*0x1&&(_0x4a21cf['clusteredL'+'ightingEna'+'bled']&&_0x2a47d8['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x2a47d8['setCameraU'+'niforms'](_0x444a25['camera'],_0x37cb17),_0x31b8ad['supportsUn'+'iformBuffe'+'rs']&&_0x2a47d8['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x2a47d8['viewUnifor'+'mFormat'],_0x2a47d8['viewBindGr'+'oupFormat'],0x5c2+-0x2363+0x1da2),_0x2a47d8['renderForw'+'ard'](_0x444a25['camera'],_0x37cb17,nh,YL,Oa,_0x18dfa6=>{_0x31b8ad['setBlendSt'+'ate'](_t['NOBLEND']);}),nh['length']=-0x429+0x609+-0x1e0),G['popGpuMark'+'er'](_0x31b8ad);}}}}const nu=new Set(),ZL=new Q();let uF=class{constructor(_0x565019,_0x553c57,_0x3aa296){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(0x125*0x1+-0x14*-0x73+-0x1*0xa21)),(v['assert'](_0x565019),this['renderer']=_0x565019['renderer'],this['device']=_0x565019['graphicsDe'+'vice'],this['renderPass']=new KL(this['device'],_0x565019['renderer']),this['width']=-0x4*-0x325+-0x11*0x164+-0xb1*-0x10,this['height']=-0x1*-0x1d84+0x3*-0x233+-0x16eb,this['resize'](_0x553c57,_0x3aa296),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(-0x67*0x2e+-0x74*-0x45+0x1*-0xcc1);}));}['getSelecti'+'on'](_0x581f8b,_0x5b8697,_0x1f91f0=-0x1715*-0x1+-0x1020+-0x37a*0x2,_0x15768b=0x1*-0x4b1+0x10df+-0xc2d){const _0x2f230c=this['device'];if(_0x2f230c['isWebGPU'])return v['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];v['assert'](typeof _0x581f8b!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x5b8697=this['renderTarg'+'et']['height']-(_0x5b8697+_0x15768b);const _0x38bfe1=this['sanitizeRe'+'ct'](_0x581f8b,_0x5b8697,_0x1f91f0,_0x15768b);_0x2f230c['setRenderT'+'arget'](this['renderTarg'+'et']),_0x2f230c['updateBegi'+'n']();const _0x5109ef=new Uint8Array((-0x93+0x1ce2+0x1*-0x1c4b)*_0x38bfe1['z']*_0x38bfe1['w']);return _0x2f230c['readPixels'](_0x38bfe1['x'],_0x38bfe1['y'],_0x38bfe1['z'],_0x38bfe1['w'],_0x5109ef),_0x2f230c['updateEnd'](),this['decodePixe'+'ls'](_0x5109ef,this['mapping']);}['getSelecti'+'onAsync'](_0x26f244,_0x5d216e,_0x3ffe9f=0x784*-0x1+0x590*0x2+0x1*-0x39b,_0x482dcf=0xa63*0x1+-0x12+-0x84*0x14){var _0x37b365;(_0x37b365=this['device'])!=null&&_0x37b365['isWebGL2']&&(_0x5d216e=this['renderTarg'+'et']['height']-(_0x5d216e+_0x482dcf));const _0x1b4d07=this['sanitizeRe'+'ct'](_0x26f244,_0x5d216e,_0x3ffe9f,_0x482dcf);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x1b4d07['x'],_0x1b4d07['y'],_0x1b4d07['z'],_0x1b4d07['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x20a2+0x22*-0x115+-0x1*-0x456c)})['then'](_0x4ce50f=>this['decodePixe'+'ls'](_0x4ce50f,this['mapping']));}['sanitizeRe'+'ct'](_0x4d5833,_0x3b2daf,_0x59fb08,_0x384fd6){const _0xd63dfe=this['renderTarg'+'et']['width'],_0x50c71c=this['renderTarg'+'et']['height'];return _0x4d5833=N['clamp'](Math['floor'](_0x4d5833),0x1f7*-0x1+0x84a+0x1*-0x653,_0xd63dfe-(0x1600+0x13*-0xa1+0xa0c*-0x1)),_0x3b2daf=N['clamp'](Math['floor'](_0x3b2daf),0x1*-0x9ac+-0x179e+-0x10a5*-0x2,_0x50c71c-(-0x1e0f+-0xedb+0xef9*0x3)),_0x59fb08=Math['floor'](Math['max'](_0x59fb08,-0x108d+0x13fd+0x125*-0x3)),_0x59fb08=Math['min'](_0x59fb08,_0xd63dfe-_0x4d5833),_0x384fd6=Math['floor'](Math['max'](_0x384fd6,0x37*0x8a+-0x1feb*0x1+0x246)),_0x384fd6=Math['min'](_0x384fd6,_0x50c71c-_0x3b2daf),ZL['set'](_0x4d5833,_0x3b2daf,_0x59fb08,_0x384fd6);}['decodePixe'+'ls'](_0x38fc57,_0x5a76c5){const _0x42e56b=[];if(this['deviceVali'+'d']){const _0x25155a=_0x38fc57['length'];for(let _0x21abba=0x2*0xf6d+0x209b+0x9*-0x70d;_0x21abba<_0x25155a;_0x21abba+=0xb78+0x7c3*-0x1+-0x3b1){const _0x24671a=_0x38fc57[_0x21abba+(0x91d*-0x2+0x55*-0x8+0x14e2)],_0x2b85d1=_0x38fc57[_0x21abba+(-0x207d+0x2112+-0x1*0x94)],_0x134ef4=_0x38fc57[_0x21abba+(-0x32a+-0x2011+-0x1*-0x233d)],_0x2b0805=_0x38fc57[_0x21abba+(-0x1*-0x14c6+-0x181*-0xb+0x2*-0x12a7)]<<-0x2*-0x236+-0x1*0x125d+0x1*0xe09|_0x24671a<<-0xdc+0x1*0x197a+-0x188e|_0x2b85d1<<0xbc3+0x29*-0xe9+-0x2*-0xccb|_0x134ef4;_0x2b0805!==-(0x7*0x371+0x2b*-0x2f+-0x1031)&&nu['add'](_0x5a76c5['get'](_0x2b0805));}nu['forEach'](_0x4680ff=>{_0x4680ff&&_0x42e56b['push'](_0x4680ff);}),nu['clear']();}return _0x42e56b;}['allocateRe'+'nderTarget'](){const _0x805ef1=new he(this['device'],{'format':Se,'width':this['width'],'height':this['height'],'mipmaps':!(0xb47*0x2+0x2665*-0x1+0x18*0xa9),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':'pick'});this['renderTarg'+'et']=new pt({'colorBuffer':_0x805ef1,'depth':!(-0x2a*0x3d+0xc0b+-0x209)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x5241bd,_0x28dd9d,_0x349617){_0x349617 instanceof Lr&&(_0x349617=[_0x349617]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x4da2ca=this['renderPass'];_0x4da2ca['init'](this['renderTarg'+'et']),_0x4da2ca['colorOps']['clearValue']=Y['WHITE'],_0x4da2ca['colorOps']['clear']=!(0x73*0x30+-0x19e1+-0xd*-0x55),_0x4da2ca['depthStenc'+'ilOps']['clearDepth']=!(0x1275+0x1*-0x14b+0xd*-0x152),_0x4da2ca['update'](_0x5241bd,_0x28dd9d,_0x349617,this['mapping']),_0x4da2ca['render']();}['resize'](_0x4f6cfd,_0x34c5fe){this['width']=Math['floor'](_0x4f6cfd),this['height']=Math['floor'](_0x34c5fe);}};class QL{constructor(_0x1f04af){this['_frameInde'+'x']=-0x20+-0x1c1f+0x1c3f,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0x228a+0x76*-0x30+0x38ab,this['enabled']=!(0xc3*-0xf+-0xe28+0x1995),_0x1f04af['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x1f04af['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x1f04af['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x1590ed){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x3c4a9b=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x3c4a9b,this['_frameInde'+'x']=0x1fd0+0x399+-0x25*0xf5,this['mark'](_0x1590ed);}['mark'](_0xd102cb){if(!this['enabled'])return;const _0x420fbf=ne();if(this['_frameInde'+'x']>-0x1*0xd82+-0x15f7+0x2379){const _0x2b4ff9=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x3f*0x19+-0x155b+0x11*0xe5)];_0x2b4ff9[-0x29*0xa3+-0x742*-0x5+-0xa2e]=_0x420fbf-_0x2b4ff9[-0x1d4+0x1*0x183d+-0x1668];}else{if(this['_timings']['length']>-0xb19+-0x475+0xf8e){const _0x3182c7=this['_timings'][this['_timings']['length']-(-0x75d+0x1336+-0xbd8)];_0x3182c7[-0x1*-0x33d+0x1c66+-0x2*0xfd1]=_0x420fbf-_0x3182c7[0xe11+0x24c6+0x879*-0x6];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0xd102cb,_0x420fbf]);else{const _0x1cb404=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x1cb404[0x1d92+-0x2525+-0x7*-0x115]=_0xd102cb,_0x1cb404[-0x9e*0x1+-0x391+-0x8*-0x86]=_0x420fbf;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x117c+-0x1*0x154c+0x26c8,-(0x1*0xa93+-0x209f+0x160d))['map'](_0x10cb4d=>_0x10cb4d[-0x15e0*0x1+-0x2450+0x3a31]);}}class JL{constructor(_0x2aed13){this['device']=_0x2aed13,_0x2aed13['gpuProfile'+'r']['enabled']=!(-0x29d+-0x4bb+0x1*0x758),this['enabled']=!(-0x1*0x1e89+-0x649+0x1*0x24d2),this['unitsName']='ms',this['decimalPla'+'ces']=0x1dea+-0x8a3+0xe*-0x185,this['_timings']=[];}get['timings'](){return this['_timings'][0x1a9b+-0x16e7+-0x3b4]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class eF{constructor(_0x3cab52,_0x198e3d,_0x2d3d07,_0x327b07,_0xc522b8){this['app']=_0x3cab52,this['values']=[],this['statNames']=_0x198e3d,this['statNames']['length']>-0x1ed6+0x2ed*0x4+0x1325&&(this['statNames']['length']=-0x278*-0x1+-0x1*0x6e6+0x1*0x471),this['unitsName']=_0x327b07,this['decimalPla'+'ces']=_0x2d3d07,this['multiplier']=_0xc522b8||0x809*-0x1+-0x7e9*0x3+0x1fc5;const _0x21268c=(_0x3c1b30,_0x23f84d)=>_0x3c1b30['split']('.')['reduce']((_0x5e6995,_0x4de250)=>_0x5e6995?_0x5e6995[_0x4de250]:null,_0x23f84d||this);_0x3cab52['on']('frameupdat'+'e',_0x3cbaa0=>{for(let _0x30ff72=0xfc5+-0x4a7*0x2+-0x677;_0x30ff72<this['statNames']['length'];_0x30ff72++)this['values'][_0x30ff72]=_0x21268c(this['statNames'][_0x30ff72],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class au{constructor(_0x1ef2cc,_0x420c1d,_0x44383c,_0x5e5b87,_0x35667b){this['app']=_0x420c1d,this['name']=_0x1ef2cc,this['device']=_0x420c1d['graphicsDe'+'vice'],this['timer']=_0x35667b,this['watermark']=_0x44383c,this['enabled']=!(-0xbf8+-0xc7*0xe+0x16db*0x1),this['textRefres'+'hRate']=_0x5e5b87,this['avgTotal']=-0x3e5*0x8+-0x25de+0xa*0x6e7,this['avgTimer']=0x30f*0x7+-0xc5b+-0x90e,this['avgCount']=-0xe*0x2a2+-0x1*-0x20f+0x97*0x3b,this['timingText']='',this['texture']=null,this['yOffset']=0x193b*-0x1+-0x9*0x2bd+0x31e0,this['cursor']=-0x1fd3+-0x248b+-0x222f*-0x2,this['sample']=new Uint8ClampedArray(-0xd1*-0x23+-0xa7e*0x1+-0x1211),this['sample']['set']([0x1229*0x2+0x96f+0x2dc1*-0x1,-0x1*0x176e+-0x1f6a*-0x1+-0x1ff*0x4,-0x2212+0x2*-0xc5b+0x3ac8,0x46*-0x79+-0x1*-0x2ad+0x2*0xfb4]),this['counter']=0x7c*0x5+0x1ca7+0x1f13*-0x1,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x1584a7){const _0x1f58c5=this['timer']['timings'],_0xd235a=_0x1f58c5['reduce']((_0x4dcc01,_0x4bdf16)=>_0x4dcc01+_0x4bdf16,0x1*0xbcb+0x2*0x946+0x3*-0xa1d);if(this['avgTotal']+=_0xd235a,this['avgTimer']+=_0x1584a7,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x5*-0x82+-0x1d05+0x1*0x1a7b,this['avgTotal']=0x43*-0x6d+0x22e6+-0x65f,this['avgCount']=0x11a0+0x1*-0x1849+0x6a9),this['enabled']){let _0x5c57ab=-0x22ef+-0xb8e+0x2e7d;const _0x34645c=(-0x1*0x21f5+-0x16a2+0x3898+0.5)*this['watermark'];for(let _0x42b1bc=-0xf12+-0x15*0x1+-0x1*-0xf27;_0x42b1bc<_0x1f58c5['length'];++_0x42b1bc)_0x5c57ab+=Math['floor'](_0x1f58c5[_0x42b1bc]/_0x34645c*(0x6*-0x12d+0x3*0x499+-0x5be)),this['sample'][_0x42b1bc]=_0x5c57ab;this['sample'][-0x9d4+0x152d+-0x5ab*0x2]=this['watermark']/_0x34645c*(0x1d63+0x7*0x547+-0x4155),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0x151*0x17+-0x15be+-0x885)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x1f7e+-0x1fbf+0xd*0x5);}}['render'](_0x1eb170,_0x414584,_0x53dd05,_0x14cc8c,_0x15238a){_0x1eb170['quad'](_0x414584+_0x14cc8c,_0x53dd05,-_0x14cc8c,_0x15238a,this['enabled']?this['cursor']:-0x55*0x65+-0x5c2*-0x6+-0x103,this['enabled']?-0xc78+0x3e8+0x10*0x89+0.5+this['yOffset']:this['texture']['height']-(-0x1*-0x10c1+-0x2383*-0x1+-0x11*0x313),-_0x14cc8c,0x1*-0x20b6+-0x10f2+0x31a8*0x1,this['texture'],-0x1faa+-0x8f*-0x30+0x4da);}}class tF{constructor(_0x196731,_0x3d89c8){const _0xa7260a=_0x260b0f=>{_0x260b0f['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x260b0f['textAlign']='left',_0x260b0f['textBaseli'+'ne']='alphabetic';},_0x5c03e0=_0x3bb7fb=>_0x3bb7fb==='.'||_0x3bb7fb['length']===0x1747+-0x2b1*-0x6+-0x6*0x692&&_0x3bb7fb['charCodeAt'](0x216+0x23bf+0x1*-0x25d5)>=0x74*0x8+-0xbf0+0x880&&_0x3bb7fb['charCodeAt'](0x260e+0x1eac+-0x44ba)<=-0xa7d+-0xb3f*-0x1+-0x89,_0x14dd09=document['createElem'+'ent']('canvas'),_0x5b8955=_0x14dd09['getContext']('2d',{'alpha':!(0x1efa+-0x1ada+-0x420)});_0xa7260a(_0x5b8955);const _0xe7a5d5=new Map(),_0x1651df=-0xd81*-0x1+-0x13c+0xc4*-0x10,_0xc39dba=-0x17df+0x1d*0x1+0x19c2;let _0x50c07f=_0x1651df,_0x50cb89=_0x1651df;_0x3d89c8['forEach'](_0x467566=>{const _0xf69914=_0x5b8955['measureTex'+'t'](_0x467566),_0x215e7c=Math['ceil'](-_0xf69914['actualBoun'+'dingBoxLef'+'t']),_0x1d1bc8=Math['ceil'](_0xf69914['actualBoun'+'dingBoxRig'+'ht']),_0x4d90ae=Math['ceil'](_0xf69914['actualBoun'+'dingBoxAsc'+'ent']),_0x22bfd1=Math['ceil'](_0xf69914['actualBoun'+'dingBoxDes'+'cent']),_0x9e080=_0x215e7c+_0x1d1bc8,_0x159c74=_0x4d90ae+_0x22bfd1;_0x50c07f+_0x9e080+_0x1651df>=_0xc39dba&&(_0x50c07f=_0x1651df,_0x50cb89+=-0x55b+0x1d13+0xbd4*-0x2),_0xe7a5d5['set'](_0x467566,{'l':_0x215e7c,'r':_0x1d1bc8,'a':_0x4d90ae,'d':_0x22bfd1,'w':_0x9e080,'h':_0x159c74,'x':_0x50c07f,'y':_0x50cb89}),_0x50c07f+=_0x9e080+_0x1651df;}),_0x14dd09['width']=-0x9cf+0x875+0x35a,_0x14dd09['height']=N['nextPowerO'+'fTwo'](_0x50cb89+(0x11b9+-0xab*-0x21+-0x27b4)+_0x1651df),_0xa7260a(_0x5b8955),_0x5b8955['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x5b8955['fillRect'](-0x6*0x653+0xce6+0x190c,-0x7e3+0x8*0x392+-0x14ad,_0x14dd09['width'],_0x14dd09['height']),_0xe7a5d5['forEach']((_0x412cf6,_0x3bedf4)=>{_0x5b8955['fillStyle']=_0x5c03e0(_0x3bedf4)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x5b8955['fillText'](_0x3bedf4,_0x412cf6['x']-_0x412cf6['l'],_0x412cf6['y']+_0x412cf6['a']);}),this['placements']=_0xe7a5d5;const _0x349b36=_0x5b8955['getImageDa'+'ta'](-0x50f+-0x1fff+0x250e,-0x931+0x88*0x6+0x35*0x1d,_0x14dd09['width'],_0x14dd09['height'])['data'];for(let _0xac2b1c=-0x1*0x881+0x169*-0x15+-0x77*-0x52;_0xac2b1c<_0x349b36['length'];_0xac2b1c+=-0x1ff*0xd+-0x2*0xacf+0x2f95)_0x349b36[_0xac2b1c+(-0x358*0x7+0x11da+0x1*0x591)]=_0x349b36[_0xac2b1c+(-0x53f*0x3+0x11*0xc2+0x2b*0x11)],_0x349b36[_0xac2b1c+(-0x65*0x4+0x523*-0x5+0x3e5*0x7)]=-0x1b93+-0xd3*-0x17+0x99d,_0x349b36[_0xac2b1c+(-0xa8*-0x8+-0xdb*-0x2+-0x6f5)]=-0x1e65+-0xef*0x27+0x1*0x43cd,_0x349b36[_0xac2b1c+(0x2*-0x2af+0x2003*0x1+-0x1aa3)]=-0x10+0x1ebf+-0x1db0;this['texture']=new he(_0x196731,{'name':'mini-stats'+'-word-atla'+'s','width':_0x14dd09['width'],'height':_0x14dd09['height'],'mipmaps':!(0x1241+-0x4e*0x3+0x2*-0x8ab),'minFilter':de,'magFilter':de,'levels':[_0x349b36]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x5946c0,_0x4e17fb,_0x1e01f5,_0x5ed229){const _0x5a5d03=this['placements']['get'](_0x4e17fb);return _0x5a5d03?(_0x5946c0['quad'](_0x1e01f5+_0x5a5d03['l']-(0x583*-0x4+-0x4b*0x3f+0xaa*0x3d),_0x5ed229-_0x5a5d03['d']+(0x3*-0x5cb+0x1ee2+-0x40*0x36),_0x5a5d03['w']+(-0x4*-0x836+0x3*-0x7bf+-0x2*0x4cd)*(0x17e9+-0x2*0x1069+0x8eb*0x1),_0x5a5d03['h']+(-0x1*0xfad+0x4c5+0x39*0x31)*(-0xfed+-0x2490+0x347f),_0x5a5d03['x']-(0x1*0x1c96+0x1f9*-0xd+-0x2f0),this['texture']['height']-_0x5a5d03['y']-_0x5a5d03['h']-(0x1fb4+-0x22a*-0x3+-0x2631),void(-0x1d2*-0x1+0x3*0x515+-0x1111),void(-0x16b1+0x26*0x7+0x1*0x15a7),this['texture'],0x1f42+0x719+0x1*-0x265a),_0x5a5d03['w']):-0x18b7+-0x11*0xd3+0x26ba*0x1;}}const sF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',iF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class rF{constructor(_0x1a16cd,_0x46c5d2=-0x54f+-0x19d6+0x1*0x2125){const _0x4e5b2a=new Et(_0x1a16cd,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':ns,'components':0x4,'type':Ee}]),_0x57c714=new Uint16Array(_0x46c5d2*(-0x213d+-0x1a0f+0x3b52));for(let _0x4a38a4=0xd02+0xae5*0x1+-0x17e7;_0x4a38a4<_0x46c5d2;++_0x4a38a4)_0x57c714[_0x4a38a4*(0x1*-0x1451+0x29*-0x7f+0x28ae)+(0x1e59+-0x33d*-0x2+-0xb*0x359)]=_0x4a38a4*(-0x4*-0x1aa+-0x18cc*-0x1+-0x1f70),_0x57c714[_0x4a38a4*(-0x443*-0x5+0x185a+-0x2da3)+(-0x1*-0x11ef+-0x26*-0x4a+-0x1cea)]=_0x4a38a4*(0x1385*0x2+-0x5*0x4b7+0x5*-0x317)+(0x8*-0xc2+-0x8b*-0x2+0x4fb),_0x57c714[_0x4a38a4*(-0x1d*0xe4+0x79*0x9+0x1*0x1599)+(0x9a5*-0x3+-0x1*-0xebd+0xe34)]=_0x4a38a4*(0x164*0x1b+-0x149*-0xd+-0x363d)+(-0x1*-0x1bb+0xec5+-0x107e),_0x57c714[_0x4a38a4*(-0x113a+-0x1d0d*-0x1+-0xbcd)+(0x5*0x1de+0x80*0x16+-0x1453)]=_0x4a38a4*(-0x1b8a+-0x103*-0x6+0x157c),_0x57c714[_0x4a38a4*(-0x1*-0x1bb8+-0x2*-0x2dd+-0x216c)+(0xa8*-0x5+0x1b+0x331)]=_0x4a38a4*(0x20b+0x22ad+-0x24b4)+(0x923*0x1+0x1*-0x260f+-0xa1*-0x2e),_0x57c714[_0x4a38a4*(-0x2133+0x11a9*0x2+-0x219*0x1)+(0x43c+0x26e2+-0x2b19)]=_0x4a38a4*(0x10de+-0x2d7*0xb+0xe63)+(0x2105+-0xc*-0x166+0x31ca*-0x1);this['device']=_0x1a16cd,this['buffer']=new os(_0x1a16cd,_0x4e5b2a,_0x46c5d2*(-0x10c*0x1a+-0x1667+0x61*0x83),{'usage':uy}),this['data']=new Float32Array(this['buffer']['numBytes']/(0x20ef+-0x22da+-0x3*-0xa5)),this['indexBuffe'+'r']=new lr(_0x1a16cd,Pi,_0x46c5d2*(0x3*-0xb26+0x1*0x18b+-0xb*-0x2e7),jt,_0x57c714),this['prim']={'type':Ms,'indexed':!(-0x1*-0x1c59+-0x15*-0x13+-0x1de8),'base':0x0,'count':0x0},this['quads']=-0x2a*0xd4+0x23ae*-0x1+0x4676,this['mesh']=new Ie(_0x1a16cd),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][0x1d66+0x5fa+-0x2360]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x405cd1=new Ra({'uniqueName':'MiniStats','vertexCode':sF,'fragmentCode':iF});this['material']=_0x405cd1,_0x405cd1['cull']=mt,_0x405cd1['depthState']=as['NODEPTH'],_0x405cd1['blendState']=new _t(!(-0x89e+0x5f9+-0x2a5*-0x1),Lt,dc,uc,Lt,at,at),_0x405cd1['update'](),this['meshInstan'+'ce']=new Le(this['mesh'],_0x405cd1,new De('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x1*0x1824+-0x215d+0x1*0x3985)},this['targetSize']={'width':_0x1a16cd['width'],'height':_0x1a16cd['height']};}['quad'](_0x456a07,_0x1a30dc,_0x2960cc,_0x28fa9f,_0x8dccb9,_0x3893e5,_0x4402cb,_0x189829,_0xa8edc3,_0x2162c2=-0x2c3+0x1b*-0xb2+0x95*0x25){const _0x1cc4d2=this['targetSize']['width'],_0x400ea9=this['targetSize']['height'],_0x2d4067=_0x456a07/_0x1cc4d2,_0x335d40=_0x1a30dc/_0x400ea9,_0xde6db3=(_0x456a07+_0x2960cc)/_0x1cc4d2,_0x14b41b=(_0x1a30dc+_0x28fa9f)/_0x400ea9,_0x4d1677=_0xa8edc3['width'],_0x4894cf=_0xa8edc3['height'],_0xc8e2db=_0x8dccb9/_0x4d1677,_0x484b44=_0x3893e5/_0x4894cf,_0x141b1a=(_0x8dccb9+(_0x4402cb??_0x2960cc))/_0x4d1677,_0x5e8b14=(_0x3893e5+(_0x189829??_0x28fa9f))/_0x4894cf;this['data']['set']([_0x2d4067,_0x335d40,_0x2162c2,_0xc8e2db,_0x484b44,-0x4d5+-0x4*-0x339+-0x80f*0x1,0x878+-0xd*-0x1a6+-0x1de6,_0xde6db3,_0x335d40,_0x2162c2,_0x141b1a,_0x484b44,0xcc4+0xc8a+-0x3*0x86f,-0x128c+-0xfa8+-0x18e*-0x16,_0xde6db3,_0x14b41b,_0x2162c2,_0x141b1a,_0x5e8b14,0x14ce+0x1*0xa53+-0x4*0x7c8,0x963*0x3+-0x1f5f+0x1*0x337,_0x2d4067,_0x14b41b,_0x2162c2,_0xc8e2db,_0x5e8b14,0x161d*0x1+-0x2707+-0x362*-0x5,0x23c2+0x466+-0x1*0x2827],(-0x4a*-0x25+0x1*0xd55+-0x1803)*(0x1*-0xb58+-0x1731+0x452*0x8)*this['quads']),this['quads']++,this['prim']['count']+=0x1566+-0x1f74+0xa14;}['startFrame'](){this['quads']=0x92f+0x168+-0xa97*0x1,this['prim']['count']=-0x6a4+0x1873+-0x11cf,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x2c3f1e,_0x1b0e32,_0x2bdebf,_0x4ed9bb,_0x1fed67,_0x6231ff){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x1fed67,0x2a3+-0x168d+0x1*0x13ea),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x2bdebf),this['material']['setParamet'+'er']('wordsTex',_0x4ed9bb),_0x2c3f1e['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x1b0e32);}}class $x{constructor(_0x5931d7,_0x4185a5){const _0x194287=_0x5931d7['graphicsDe'+'vice'];_0x4185a5=_0x4185a5||$x['getDefault'+'Options'](),this['initGraphs'](_0x5931d7,_0x194287,_0x4185a5);const _0x55f859=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x2da8f7=>_0x2da8f7['name']))['concat'](_0x4185a5['stats']?_0x4185a5['stats']['map'](_0x30ab0f=>_0x30ab0f['unitsName']):[])['filter'](_0x4afc0e=>!!_0x4afc0e));this['wordAtlas']=new tF(_0x194287,_0x55f859),this['sizes']=_0x4185a5['sizes'],this['_activeSiz'+'eIndex']=_0x4185a5['startSizeI'+'ndex'];const _0x1df03d=document['createElem'+'ent']('div');_0x1df03d['setAttribu'+'te']('id','mini-stats'),_0x1df03d['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0x1df03d),_0x1df03d['addEventLi'+'stener']('mouseenter',_0x568629=>{this['opacity']=-0x465*-0x3+-0x13f*0x13+0xa7f;}),_0x1df03d['addEventLi'+'stener']('mouseleave',_0x27fad5=>{this['opacity']=0x74e*0x5+-0x1e36+-0x650+0.7;}),_0x1df03d['addEventLi'+'stener']('click',_0x460b2b=>{_0x460b2b['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x447*0x3+-0xdbe+0xea))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x194287['on']('resizecanv'+'as',this['updateDiv'],this),_0x194287['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x5931d7['on']('postrender',this['postRender'],this),this['app']=_0x5931d7,this['drawLayer']=_0x5931d7['scene']['layers']['getLayerBy'+'Id'](tl),this['device']=_0x194287,this['render2d']=new rF(_0x194287),this['div']=_0x1df03d,this['width']=0x1420+-0x1*-0x12bf+-0x26df,this['height']=-0x1b8+-0xb10+0x4*0x332,this['gspacing']=-0x132c+-0x5*0x146+0x28e*0xa,this['clr']=[0x9d5+0x1137+-0x1b0b,-0x1fdc*-0x1+0x100f+-0x2fea,0x1*-0x158f+-0x231a+0x38aa*0x1,0x212+0xbf7+0xe09*-0x1+0.5],this['_enabled']=!(0xc0d+-0x11*0x17e+0x1e7*0x7),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x4c19ea=>_0x4c19ea['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0x5*-0x767+-0x115b*0x1+0x365f)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0x8a6*0x3+0x8a5*0x1+-0x67*-0x2b)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0x35*0x4c+0xa41+0x57b)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0xb*0x22b+-0x2*0x11da+0x1*0x3b8d),'watermark':0x21},'gpu':{'enabled':!(0x10aa+0x2f*-0x1+-0x107b),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x2f48a2){this['_activeSiz'+'eIndex']=_0x2f48a2,this['gspacing']=this['sizes'][_0x2f48a2]['spacing'],this['resize'](this['sizes'][_0x2f48a2]['width'],this['sizes'][_0x2f48a2]['height'],this['sizes'][_0x2f48a2]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x1129ef){this['clr'][-0x22d7+-0x369+0x2643]=_0x1129ef;}get['opacity'](){return this['clr'][-0xd4*0x4+-0xa6f*0x1+0xdc2];}get['overallHei'+'ght'](){const _0x33daf1=this['graphs'],_0x446e8f=this['gspacing'];return this['height']*_0x33daf1['length']+_0x446e8f*(_0x33daf1['length']-(0xc31+-0x56*0x49+0x62b*0x2));}set['enabled'](_0x188ce5){if(_0x188ce5!==this['_enabled']){this['_enabled']=_0x188ce5;for(let _0x289160=-0x98f*-0x3+-0xdd*-0x1d+-0x35b6;_0x289160<this['graphs']['length'];++_0x289160)this['graphs'][_0x289160]['enabled']=_0x188ce5,this['graphs'][_0x289160]['timer']['enabled']=_0x188ce5;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x5f23c5,_0x2e1185,_0x3be8a4){if(this['graphs']=[],_0x3be8a4['cpu']['enabled']){const _0x22b553=new QL(_0x5f23c5),_0x4bd0d3=new au('CPU',_0x5f23c5,_0x3be8a4['cpu']['watermark'],_0x3be8a4['textRefres'+'hRate'],_0x22b553);this['graphs']['push'](_0x4bd0d3);}if(_0x3be8a4['gpu']['enabled']){const _0x127fb1=new JL(_0x2e1185),_0x173b67=new au('GPU',_0x5f23c5,_0x3be8a4['gpu']['watermark'],_0x3be8a4['textRefres'+'hRate'],_0x127fb1);this['graphs']['push'](_0x173b67);}_0x3be8a4['stats']&&_0x3be8a4['stats']['forEach'](_0x54ec14=>{const _0x37c951=new eF(_0x5f23c5,_0x54ec14['stats'],_0x54ec14['decimalPla'+'ces'],_0x54ec14['unitsName'],_0x54ec14['multiplier']),_0xf87df3=new au(_0x54ec14['name'],_0x5f23c5,_0x54ec14['watermark'],_0x3be8a4['textRefres'+'hRate'],_0x37c951);this['graphs']['push'](_0xf87df3);});const _0xf9becb=_0x3be8a4['sizes']['reduce']((_0x57d1e2,_0x25b4ee)=>_0x25b4ee['width']>_0x57d1e2?_0x25b4ee['width']:_0x57d1e2,-0xa04*-0x2+0x1*-0x1773+-0x7*-0x7d);this['texture']=new he(_0x2e1185,{'name':'mini-stats'+'-graph-tex'+'ture','width':N['nextPowerO'+'fTwo'](_0xf9becb),'height':N['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0x2376+0x268*-0x10+0x49f7*0x1),'minFilter':de,'magFilter':de,'addressU':tt,'addressV':tt}),this['graphs']['forEach']((_0x5c08e3,_0x5143e2)=>{_0x5c08e3['texture']=this['texture'],_0x5c08e3['yOffset']=_0x5143e2;});}['render'](){const _0x59d295=this['graphs'],_0x415ef9=this['wordAtlas'],_0x17fb7f=this['render2d'],_0xbbb3c0=this['width'],_0x459abe=this['height'],_0x3dd26a=this['gspacing'];_0x17fb7f['startFrame']();for(let _0x2dac28=0x12f+-0x2*0x952+-0x1*-0x1175;_0x2dac28<_0x59d295['length'];++_0x2dac28){const _0x2418e0=_0x59d295[_0x2dac28];let _0x4b2347=_0x2dac28*(_0x459abe+_0x3dd26a);_0x2418e0['render'](_0x17fb7f,0x1d0*-0x6+-0x201f+0x2aff,_0x4b2347,_0xbbb3c0,_0x459abe);let _0x1ae68a=0x362*0x2+-0x2329+0x1c66;_0x4b2347+=_0x459abe-(0x12a*0x5+-0x145d*-0x1+-0x53a*0x5),_0x1ae68a+=_0x415ef9['render'](_0x17fb7f,_0x2418e0['name'],_0x1ae68a,_0x4b2347)+(-0x1bc8+0xb*0xf+0x1b2d);const _0x281027=_0x2418e0['timingText'];for(let _0x31e238=-0x2584*0x1+-0x2f*0x25+0x2c4f;_0x31e238<_0x281027['length'];++_0x31e238)_0x1ae68a+=_0x415ef9['render'](_0x17fb7f,_0x281027[_0x31e238],_0x1ae68a,_0x4b2347);_0x2418e0['timer']['unitsName']&&(_0x1ae68a+=-0x629*-0x1+0x79*-0x29+0xd3b,_0x415ef9['render'](_0x17fb7f,_0x2418e0['timer']['unitsName'],_0x1ae68a,_0x4b2347));}_0x17fb7f['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x459abe);}['resize'](_0x32e00d,_0xbb73a3,_0x448152){const _0x2c0195=this['graphs'];for(let _0x1617b0=0x761+-0x1679+0xf18;_0x1617b0<_0x2c0195['length'];++_0x1617b0)_0x2c0195[_0x1617b0]['enabled']=_0x448152;this['width']=_0x32e00d,this['height']=_0xbb73a3,this['updateDiv']();}['updateDiv'](){const _0x28ed38=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x28ed38['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x28ed38['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0xd40632=>_0xd40632['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class pF extends Ht{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map());}['initialize'](){if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation\x20===>'+'>>xr');return;}this['app']['xr']['input']['on']('add',async _0x1d8c12=>{var _0x42f2ec;if(!((_0x42f2ec=_0x1d8c12['profiles'])!=null&&_0x42f2ec['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x1d83f2=_0x1d8c12['profiles']['map'](async _0x3768ac=>{var _0x1bb795;const _0x121cad=this['basePath']+'/'+_0x3768ac+('/profile.j'+'son');console['log']('Profile\x20Ur'+'l===>>>xr:'+'\x20'+_0x121cad);try{const _0x560fd6=await fetch(_0x121cad);if(!_0x560fd6['ok'])return null;const _0x522e66=await _0x560fd6['json'](),_0x6aca19=((_0x1bb795=_0x522e66['layouts'][_0x1d8c12['handedness']])==null?void(0x22c5+0x2*0x971+-0x35a7):_0x1bb795['assetPath'])||'',_0x5731b7=this['basePath']+'/'+_0x522e66['profileId']+'/'+_0x1d8c12['handedness']+_0x6aca19['replace'](/^\/?(left|right)/,'');console['log']('Asset===>>'+'>xr:\x20'+_0x5731b7);const _0x1b7c51=await new Promise((_0x25cb5b,_0x3a63b7)=>{this['app']['assets']['loadFromUr'+'l'](_0x5731b7,'container',(_0x1ac86b,_0x4cfe86)=>{_0x1ac86b?_0x3a63b7(_0x1ac86b):_0x25cb5b(_0x4cfe86);});});return{'profileId':_0x3768ac,'asset':_0x1b7c51};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x3768ac),null;}}),_0x3cf836=(await Promise['all'](_0x1d83f2))['find'](_0xf8bc11=>_0xf8bc11!==null);if(console['log'](_0x3cf836,_0x1d8c12,'successful'+'\x20result==='+'>>>xr'),_0x3cf836){const {asset:_0x2aebce}=_0x3cf836,_0x1c866b=_0x2aebce['resource']['instantiat'+'eRenderEnt'+'ity']();this['app']['root']['addChild'](_0x1c866b);const _0x46bfaf=new Map();if(_0x1d8c12['hand'])for(const _0x323526 of _0x1d8c12['hand']['joints']){const _0x53da05=_0x1c866b['findByName'](_0x323526['id']);_0x53da05&&_0x46bfaf['set'](_0x323526,_0x53da05);}this['controller'+'s']['set'](_0x1d8c12,{'entity':_0x1c866b,'jointMap':_0x46bfaf});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['app']['xr']['input']['on']('remove',_0x143371=>{const _0x399c18=this['controller'+'s']['get'](_0x143371);_0x399c18&&(_0x399c18['entity']['destroy'](),this['controller'+'s']['delete'](_0x143371));});}['update'](_0x40e75c){var _0x2c8255;if((_0x2c8255=this['app']['xr'])!=null&&_0x2c8255['active']){for(const [_0x321c21,{entity:_0x23f7b2,jointMap:_0x40b71}]of this['controller'+'s'])if(_0x321c21['hand']){for(const [_0x24e7c7,_0x302fb9]of _0x40b71)_0x302fb9['setPositio'+'n'](_0x24e7c7['getPositio'+'n']()),_0x302fb9['setRotatio'+'n'](_0x24e7c7['getRotatio'+'n']());}else _0x23f7b2['setPositio'+'n'](_0x321c21['getPositio'+'n']()),_0x23f7b2['setRotatio'+'n'](_0x321c21['getRotatio'+'n']());}}}export{dF as A,_e as B,Y as C,pF as D,$e as E,W1 as F,hh as G,$x as H,ce as I,X as J,Fm as K,vp as L,bl as M,uF as P,se as Q,G_ as R,Dt as S,f0 as T,T as V,ay as W,GL as X,Q as a,AL as b,$ as c,le as d,sl as e,ua as f,Gs as g,Ap as h,aF as i,oF as j,lF as k,hF as l,cF as m,Nh as n,Bh as o,zh as p,Iu as q,lh as r,Hr as s,$r as t,Ts as u,cs as v,SI as w,Wn as x,M0 as y,q as z};function _0xe92fde(_0x254f6d){function _0x5e64c1(_0x51662b){if(typeof _0x51662b==='string')return function(_0x5e5e23){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x51662b/_0x51662b)['length']!==0x43d*-0x8+0x1*-0x114a+0x3333||_0x51662b%(-0x766*-0x2+-0x226a+0x13b2)===-0x179d+0x26ec+0x1*-0xf4f?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x5e64c1(++_0x51662b);}try{if(_0x254f6d)return _0x5e64c1;else _0x5e64c1(0x12f8+0x806+-0x1afe*0x1);}catch(_0x1091f1){}}
